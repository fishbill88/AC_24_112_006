<template>
	<qp-template
		name="17-17-14"
		class="equal-height"
		id="ExpenseClaim_form"
		wg-container
		qp-collapsible>
		<qp-fieldset slot="A" id="formSlotA01" view.bind="ExpenseClaim">
			<field name="RefNbr"></field>
			<field name="Status"></field>
			<field name="DocDate"></field>
			<field name="ApproveDate"></field>
			<field name="DocDesc" config-rows.bind="3"></field>
		</qp-fieldset>
		<qp-fieldset slot="B" id="formSlotB01" view.bind="ExpenseClaim">
			<field name="EmployeeID"></field>
			<field name="DepartmentID"></field>
			<field name="CuryID" control-type="qp-currency" view.bind="CurrencyInfo"></field>
			<field name="CustomerID"></field>
			<field name="CustomerLocationID"></field>
		</qp-fieldset>
		<qp-fieldset slot="C" id="formSlotC01" view.bind="ExpenseClaim" class="highlights-section">
			<field name="CuryDocBal"></field>
			<field name="CuryVatTaxableTotal"></field>
			<field name="CuryVatExemptTotal"></field>
			<field name="CuryTaxTotal"></field>
		</qp-fieldset>
	</qp-template>
	<qp-tabbar active-tab-id="DetailsTab" id="ExpenseClaimCurrent_tab" wg-container>
		<qp-tab id="DetailsTab" caption="Details">
			<qp-grid id="grid" view.bind="ExpenseClaimDetails"></qp-grid>
		</qp-tab>
		<qp-tab id="TaxesTab" caption="Taxes">
			<qp-template id="Taxes-form" name="17-17-14">
				<qp-fieldset
					slot="A"
					class="transparent-section"
					id="formExpenseClaimCurrent01"
					view.bind="ExpenseClaimCurrent">
					<field name="CuryTaxRoundDiff"></field>
				</qp-fieldset>
			</qp-template>
			<qp-grid id="gridTaxes" view.bind="Taxes"></qp-grid>
		</qp-tab>
		<qp-tab id="FinancialTab" caption="Financial">
			<qp-template id="Financial-form" name="17-31">
				<div slot="A">
					<qp-fieldset
						id="formExpenseClaimCurrent02"
						view.bind="ExpenseClaimCurrent"
						caption="Default Tax Info">
						<field name="TaxZoneID"></field>
						<field name="TaxCalcMode"></field>
					</qp-fieldset>
					<qp-fieldset
						id="formExpenseClaimCurrent03"
						view.bind="ExpenseClaimCurrent"
						caption="Financial Information">
						<field name="BranchID"></field>
						<field name="FinPeriodID"></field>
					</qp-fieldset>
				</div>
				<div slot="B">
					<qp-grid
						id="gridAPDocuments"
						caption="Link to AP"
						view.bind="APDocuments"
						class="framed-section"
						wg-container="APDocuments_apDocsGrig">
					</qp-grid>
				</div>
			</qp-template>
		</qp-tab>
		<qp-tab id="ApprovalsTab" caption="Approvals">
			<qp-grid id="gridApproval" view.bind="Approval"></qp-grid>
		</qp-tab>
	</qp-tabbar>
	<qp-panel
		id="ReceiptsForSubmit"
		caption="Add Receipts"
		auto-repaint="true"
		width="90vw"
		height="90vh">
		<qp-grid id="gridReceiptsForSubmit" view.bind="ReceiptsForSubmit"></qp-grid>
		<footer>
			<qp-button id="PXButtonAdd" state.bind="SubmitReceipt"></qp-button>
			<qp-button id="PXButtonAddClose" caption="Add & Close" dialog-result="OK"></qp-button>
			<qp-button id="PXButtonClose" state.bind="CancelSubmitReceipt" dialog-result="Cancel"></qp-button>
		</footer>
	</qp-panel>
	<qp-panel id="CustomerUpdateAsk" auto-repaint="true" width="50vw">
		<qp-label caption="Do you want to update customer in expense claim detail lines that are not linked to project or contract?"></qp-label>
		<qp-fieldset id="formCustomerUpdateAsk" view.bind="CustomerUpdateAsk">
			<field name="CustomerUpdateAnswer"></field>
		</qp-fieldset>
		<footer>
			<qp-button id="ChangeOk" state.bind="ChangeOk" dialog-result="OK"></qp-button>
			<qp-button id="ChangeCancel" state.bind="ChangeCancel" dialog-result="Cancel"></qp-button>
		</footer>
	</qp-panel>
	<qp-panel id="Tax_Rows" caption="Document Taxes" auto-repaint="true">
		<qp-fieldset id="formExpenseClaimDetailsCurrent" view.bind="ExpenseClaimDetailsCurrent">
			<field name="CuryTaxRoundDiff"></field>
		</qp-fieldset>
		<qp-grid id="gridTax_Rows" view.bind="Tax_Rows"></qp-grid>
		<footer>
			<qp-button id="PXButton1" state.bind="CommitTaxes" dialog-result="OK"></qp-button>
		</footer>
	</qp-panel>
	<qp-panel id="TaxZoneUpdateAskView" auto-repaint="true">
		<qp-label caption="Do you want to use the specified tax zone for expense receipts by default?"></qp-label>
		<footer>
			<qp-button id="SaveTaxZone" state.bind="SaveTaxZone" dialog-result="OK"></qp-button>
			<qp-button id="CancelTaxZone" dialog-result="No"></qp-button>
		</footer>
	</qp-panel>
	<qp-panel id="ReasonApproveRejectParams" caption="Enter Reason" auto-repaint="true">
		<qp-fieldset id="PXFormViewPanelReason" view.bind="ReasonApproveRejectParams">
			<field name="Reason" config-rows.bind="3"></field>
		</qp-fieldset>
		<footer>
			<qp-button id="btnReasonOk" dialog-result="OK"></qp-button>
			<qp-button id="btnReasonCancel" dialog-result="Cancel"></qp-button>
		</footer>
	</qp-panel>
	<qp-panel id="ReassignApprovalFilter" caption="Reassign Approval" auto-repaint="true">
		<qp-fieldset id="formReassignApproval" view.bind="ReassignApprovalFilter">
			<field name="NewApprover"></field>
			<field name="IgnoreApproversDelegations"></field>
		</qp-fieldset>
		<footer>
			<qp-button id="btnReassignApprovalOK" caption="Reassign" dialog-result="OK"></qp-button>
			<qp-button id="btnReassignApprovalCancel" dialog-result="Cancel"></qp-button>
		</footer>
	</qp-panel>
</template>
