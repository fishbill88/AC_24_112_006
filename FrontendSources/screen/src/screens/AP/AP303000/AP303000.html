<template>
	<qp-template name="1-1" wg-container="BAccount_BAccount" id="formHeader" class="equal-height label-size-m">
		<qp-fieldset id="columnFirstHeader" slot="A" view.bind="BAccount">
			<field name="AcctCD"></field>
			<using wg-container="CurrentVendor_tab">
				<field name="AcctName"></field>
			</using>
			<field name="VStatus"></field>
		</qp-fieldset>
		<qp-fieldset id="columnSecondHeader" slot="B" view.bind="BAccount">
			<field name="OwnerID"></field>
			<field name="VendorClassID"></field>
		</qp-fieldset>
	</qp-template>

	<qp-tabbar id="tabs" wg-container="CurrentVendor_tab">

		<qp-tab id="tabGeneral" caption="General">

			<qp-template name="1-1" id="formGeneral" class="label-size-m">

				<div id="columnFirstGeneral" slot="A">

					<qp-fieldset id="groupAccountInformation" caption="Account Information" view.bind="DefContact">
						<using wg-container="DefContact_DefContact1">
							<field name="Phone1">
								<qp-field slot="label" class="no-label" control-state.bind="DefContact.Phone1Type"></qp-field>
							</field>
							<field name="Phone2">
								<qp-field slot="label" class="no-label" control-state.bind="DefContact.Phone2Type"></qp-field>
							</field>
							<field name="Fax">
								<qp-field slot="label" class="no-label" control-state.bind="DefContact.FaxType"></qp-field>
							</field>
						</using>
						<field name="EMail" control-type="qp-mail-editor"></field>
						<field name="WebSite" control-type="qp-link-editor"></field>
						<field name="BAccount.LegalName"></field>
						<using view="CurrentVendor" wg-container="CurrentVendor_CurrentVendor2">
							<field name="AcctReferenceNbr"></field>
							<field name="ParentBAccountID"></field>
							<field name="LocaleName"></field>
						</using>
					</qp-fieldset>

					<qp-fieldset id="groupAccountAddress" caption="Account Address" view.bind="DefAddress" wg-container="DefAddress_DefAddress">
						<field name="actionAddressLookup" unbound>
							<qp-button id="btnAddressLookup" state.bind="AddressLookup"></qp-button>
						</field>
						<field name="actionViewMainOnMap" unbound>
							<qp-button id="btnViewMainOnMap" state.bind="ViewMainOnMap"></qp-button>
						</field>
						<field name="AddressLine1"></field>
						<field name="AddressLine2"></field>
						<field name="City"></field>
						<field name="State"></field>
						<field name="PostalCode"></field>
						<field name="CountryID"></field>
						<field name="IsValidated"></field>
					</qp-fieldset>

				</div>
				<div id="columnSecondGeneral" slot="B">

					<!--#include file="~\Pages\CR\Includes\Containers\CRPrimaryContactGraphExt.inc" begin-->
					<qp-fieldset id="groupPrimaryContact" view.bind="PrimaryContactCurrent" caption="Primary Contact" wg-container="PrimaryContactCurrent_frmPrimaryContact">
						<using view="BAccount" wg-container="BAccount_frmPrimaryContact0">
							<field name="PrimaryContactID" config.bind="{allowEdit: true, displayMode: 'text'}"></field>
						</using>
						<field name="FirstName">
							<qp-label slot="label" caption="Name" if.bind="PrimaryContactCurrent.FirstName.visible == true" class="no-label"></qp-label>
							<qp-field control-state.bind="PrimaryContactCurrent.LastName" class="col-6"></qp-field>
						</field>
						<field name="Salutation"></field>
						<field name="EMail" control-type="qp-mail-editor"></field>
						<field name="Phone1">
							<qp-field slot="label" control-state.bind="PrimaryContactCurrent.Phone1Type" class="no-label"></qp-field>
						</field>
						<field name="Phone2">
							<qp-field slot="label" control-state.bind="PrimaryContactCurrent.Phone2Type" class="no-label"></qp-field>
						</field>
					</qp-fieldset>
					<!--#include file="~\Pages\CR\Includes\Containers\CRPrimaryContactGraphExt.inc" end-->

					<qp-fieldset id="panelAccountBalance" caption="Account Balance" view.bind="VendorBalance" wg-container="VendorBalance_VendorBalance">
						<field name="Balance">
							<qp-label slot="label" caption.bind="VendorBalance.Balance_Label.value"></qp-label>
						</field>
						<field name="DepositsBalance">
							<qp-label slot="label" caption.bind="VendorBalance.DepositsBalance_Label.value"></qp-label>
						</field>
						<field name="RetainageBalance">
							<qp-label slot="label" caption.bind="VendorBalance.RetainageBalance_Label.value"></qp-label>
						</field>
					</qp-fieldset>

				</div>
			</qp-template>
		</qp-tab>

		<qp-tab id="tabFinancial" caption="Financial">
			<qp-template name="1-1" id="formFinancial" class="label-size-m">
				<div slot="A">
					<qp-fieldset id="groupFinancialSettings" view.bind="CurrentVendor" caption="Financial Settings">
						<field name="TermsID" config-allow-edit.bind="true"></field>
						<field name="VOrgBAccountID" control-type="qp-branch-selector"></field>
						<field name="CuryID">
							<qp-field control-state.bind="CurrentVendor.AllowOverrideCury"></qp-field>
						</field>
						<field name="CuryRateTypeID">
							<qp-field control-state.bind="CurrentVendor.AllowOverrideRate"></qp-field>
						</field>
					</qp-fieldset>
					<qp-fieldset id="groupVendorProperties" caption="Vendor Properties" view.bind="CurrentVendor">
						<field name="LandedCostVendor" class="no-label"></field>
						<field name="TaxAgency" class="no-label"></field>
						<field name="IsLaborUnion" class="no-label"></field>
						<field name="Vendor1099" class="no-label"></field>
						<field name="Box1099"></field>
						<field name="SocialInsNum"></field>
						<field name="BusinessNumber"></field>
						<field name="ForeignEntity" class="no-label"></field>
						<field name="FATCA" class="no-label"></field>
						<field name="VendorT5018" class="no-label"></field>
						<field name="BoxT5018"></field>
						<field name="SDEnabled" class="no-label"></field>
					</qp-fieldset>
				</div>
				<div id="columnSecondFinancial" slot="B">
					<qp-fieldset id="groupRetainageSettings" caption="Retainage Settings" view.bind="CurrentVendor">
						<field name="RetainageApply"></field>
						<field name="RetainagePct"></field>
					</qp-fieldset>
					<qp-fieldset id="groupLienWaiverSettings" caption="Lien Waiver Settings" view.bind="CurrentVendor">
						<field name="ShouldGenerateLienWaivers"></field>
					</qp-fieldset>
				</div>
			</qp-template>
		</qp-tab>

		<qp-tab id="tabPayment" caption="Payment">

			<qp-template name="1-1" id="formPayment" class="label-size-m">
				<div slot="A" id="columnFirstPayment">
					<qp-fieldset id="panelRemitAddress" view.bind="RemitAddress" wg-container="RemitAddress_RemitAddress" caption="Remit-To Address">
						<using view="DefLocation" wg-container="DefLocation_DefLocationPayment">
						<field name="OverrideRemitAddress"></field>
						</using>
						<field name="actionRemitAddressLookup" unbound>
							<qp-button id="buttonRemitAddressLookup" state.bind="RemitAddressLookup"></qp-button>
						</field>
						<field name="actionViewRemitOnMap" unbound>
							<qp-button id="buttonViewRemitOnMap" state.bind="ViewRemitOnMap"></qp-button>
						</field>
						<field name="AddressLine1"></field>
						<field name="AddressLine2"></field>
						<field name="State"></field>
						<field name="PostalCode"></field>
						<field name="CountryID"></field>
						<field name="IsValidated"></field>
					</qp-fieldset>
					<qp-fieldset id="groupRemitInfo" view.bind="RemitContact" wg-container="RemitContact_RemitContact" caption="Remit-To Info">
						<using view="DefLocation">
						<field name="OverrideRemitContact"></field>
						</using>
						<field name="FullName"></field>
						<field name="Attention"></field>
						<field name="Phone1">
							<qp-field slot="label" class="no-label" control-state.bind="RemitContact.Phone1Type"></qp-field>
						</field>
						<field name="Phone2">
							<qp-field slot="label" class="no-label" control-state.bind="RemitContact.Phone2Type"></qp-field>
						</field>
						<field name="Fax">
							<qp-field slot="label" class="no-label" control-state.bind="RemitContact.FaxType"></qp-field>
						</field>
						<field name="EMail" control-type="qp-mail-editor"></field>
						<field name="WebSite" control-type="qp-link-editor"></field>
					</qp-fieldset>
				</div>
				<div slot="B" id="columnSecondPayment">
					<qp-fieldset id="groupPaymentSettings" view.bind="DefLocation" caption="Default Payment Settings" wg-container="DefLocation_DefLocationPayment">
						<field name="VPaymentMethodID"></field>
						<field name="VCashAccountID"></field>
						<field name="VPaymentByType"></field>
						<field name="VPaymentLeadTime"></field>
						<field name="CurrentVendor.PayToVendorID" config-allow-edit.bind="true"></field>
						<field name="VSeparateCheck"></field>
						<field name="CurrentVendor.PaymentsByLinesAllowed"></field>
						<field name="VPrepaymentPct"></field>
					</qp-fieldset>
					<qp-grid caption="Payment Instructions" id="gridPaymentDetails" view.bind="PaymentDetails" wg-container="PaymentDetails_grdPaymentDetails"></qp-grid>
				</div>
			</qp-template>
		</qp-tab>

		<qp-tab id="tabPurchaseSettings" caption="Purchase Settings">

			<qp-template id="formDefLocation" name="1-1" wg-container="DefLocation_DefLocation" class="label-size-m">
				<div slot="A" id="columnFirstPurchaseSettings">

					<!--#include file="~\Pages\CR\Includes\Containers\DefLocationAddress.inc"-->
					<qp-fieldset id="groupShipFromAddress" caption="Ship-From Address" view.bind="DefLocationAddress" wg-container="DefLocationAddress_DefLocationAddress">
						<using view="DefLocation" wg-container="DefLocation_DefLocation">
							<field name="OverrideAddress" class="no-label"></field>
						</using>
						<field name="actionDefLocationAddressLookup" unbound>
							<qp-address-lookup class="col-12" view.bind="DefLocationAddress"></qp-address-lookup>
						</field>
						<field name="actionViewDefLocationAddressOnMap" unbound>
							<qp-button id="buttonViewDefLocationAddressOnMap" state.bind="ViewDefLocationAddressOnMap"></qp-button>
						</field>
						<field name="AddressLine1"></field>
						<field name="AddressLine2"></field>
						<field name="City"></field>
						<field name="State"></field>
						<field name="PostalCode"></field>
						<field name="CountryID"></field>
						<field name="Latitude"></field>
						<field name="Longitude"></field>
						<field name="IsValidated"></field>
					</qp-fieldset>

					<!--#include file="~\Pages\CR\Includes\Containers\DefLocationContact.inc"-->
					<qp-fieldset id="groupShipToInfo" caption="Ship-From Info" view.bind="DefLocationContact" wg-container="DefLocationContact_DefLocationContact">
						<field name="DefLocation.OverrideContact"></field>
						<field name="FullName"></field>
						<field name="Attention"></field>
						<field name="Phone1">
							<qp-field slot="label" class="no-label" control-state.bind="DefLocationContact.Phone1Type"></qp-field>
						</field>
						<field name="Phone2">
							<qp-field slot="label" class="no-label" control-state.bind="DefLocationContact.Phone2Type"></qp-field>
						</field>
						<field name="Fax">
							<qp-field slot="label" class="no-label" control-state.bind="DefLocationContact.FaxType"></qp-field>
						</field>
						<field name="EMail"></field>
						<field name="WebSite"></field>
					</qp-fieldset>
					<qp-fieldset id="groupOtherSettings" view.bind="DefLocation" caption="Other Settings">
						<field name="VBranchID"></field>
						<field name="VPrintOrder"></field>
						<field name="VEmailOrder"></field>
					</qp-fieldset>

				</div>
				<div slot="B" id="columnSecondPurchaseSettings">
					<qp-fieldset id="groupTaxSettings" view.bind="DefLocation" caption="Tax Settings">
						<field name="TaxRegistrationID"></field>
						<using wg-container="CurrentVendor_PXFormView1" view="CurrentVendor">
							<field name="TinType"></field>
						</using>
						<field name="VTaxZoneID" config-allow-edit.bind="true"></field>
						<field name="VTaxCalcMode"></field>
					</qp-fieldset>
					<qp-fieldset id="groupShippingInstructions" view.bind="DefLocation" caption="Shipping Instructions">
						<field name="VSiteID" config-allow-edit.bind="true"></field>
						<field name="DefLocationBranchSettings.VSiteID"></field>
						<field name="VCarrierID" config-allow-edit.bind="true"></field>
						<field name="VShipTermsID" config-allow-edit.bind="true"></field>
						<field name="VFOBPointID" config-allow-edit.bind="true"></field>
						<field name="VLeadTime"></field>
					</qp-fieldset>
					<qp-fieldset id="groupReceiptActions" view.bind="DefLocation" caption="Receipt Actions">
						<field name="VAllowAPBillBeforeReceipt"></field>
						<field name="VRcptQtyMin"></field>
						<field name="VRcptQtyMax"></field>
						<field name="VRcptQtyThreshold"></field>
						<field name="VRcptQtyAction"></field>
					</qp-fieldset>
					<qp-fieldset id="groupProjectDefaults" caption="Project Defaults" view.bind="CurrentVendor" wg-container="CurrentVendor_VendorDefaults">
						<field name="VendorDefaultCostCodeId"></field>
						<field name="VendorDefaultInventoryId"></field>
					</qp-fieldset>
				</div>
			</qp-template>

		</qp-tab>

		<qp-tab id="tabBalances" caption="Balances">
			<qp-grid id="gridVendorBalanceByBaseCurrency" view.bind="VendorBalanceByBaseCurrency" wg-container="VendorBalanceByBaseCurrency_PXGrid1"></qp-grid>
		</qp-tab>

		<qp-tab id="tabAttributes" caption="Attributes">
			<qp-grid id="gridAnswers" view.bind="Answers" wg-container="Answers_PXGridAnswers"></qp-grid>
		</qp-tab>

		<qp-tab id="tabLocations" caption="Locations">
			<qp-grid id="gridLocations" view.bind="Locations" wg-container="Locations_grdLocations"></qp-grid>
		</qp-tab>

		<!--#include file="~\Pages\CR\Includes\ContactDetails.inc"-->
		<qp-tab id="tabContacts" caption="Contacts">
			<qp-grid id="gridgrdContacts" view.bind="Contacts" wg-container="Contacts_grdContacts"></qp-grid>
		</qp-tab>

		<!--#include file="~\Pages\CR\Includes\ActivityDetailsExt\ActivityDetailsExt.inc"-->
		<qp-tab id="tabActivities" caption="Activities">
			<qp-splitter split="height" id="activities_splitter">
				<split-pane>
					<qp-grid id="gridActivities" view.bind="Activities" wg-container="Activities_Activities_grid"> </qp-grid>
				</split-pane>
				<split-pane>
					<qp-rich-text-editor class="stretch"
										 id="edActivityBody"
										 state.bind="Activities.Body"
										 wg-field
										 value.bind="Activities.activeRow.Body.value"
										 config.bind="{readOnly: true}">
					</qp-rich-text-editor>
				</split-pane>
			</qp-splitter>
		</qp-tab>

		<qp-tab id="tabGLAccounts" caption="GL Accounts">

			<qp-template name="1-1" id="formGLAccounts" class="label-size-m">
				<qp-fieldset slot="A" id="panelGLAccounts" view.bind="DefLocation" wg-container="DefLocation_DefLocationGLAccounts">
					<field name="VAPAccountID"></field>
					<field name="VAPSubID"></field>
					<field name="VExpenseAcctID"></field>
					<field name="VExpenseSubID"></field>
					<field name="VDiscountAcctID"></field>
					<field name="VDiscountSubID"></field>
					<using view="CurrentVendor" wg-container="CurrentVendor_tab">
						<field name="DiscTakenAcctID"></field>
						<field name="DiscTakenSubID"></field>
						<field name="PrepaymentAcctID"></field>
						<field name="PrepaymentSubID"></field>
						<field name="POAccrualAcctID"></field>
						<field name="POAccrualSubID"></field>
						<field name="PrebookAcctID"></field>
						<field name="PrebookSubID"></field>
					</using>
					<using wg-container="DefLocation_formRetainage">
						<field name="VRetainageAcctID"></field>
						<field name="VRetainageSubID"></field>
					</using>
					</qp-fieldset>
			</qp-template>
		</qp-tab>

		<qp-tab id="tabMailingPrinting" caption="Mailing & Printing">
			<qp-splitter id="splitterSourceRecipients" split="height">
				<split-pane slot="A">
					<qp-grid id="gridNotificationSources" view.bind="NotificationSources" wg-container="NotificationSources_gridNS"></qp-grid>
				</split-pane>
				<split-pane slot="B">
					<qp-grid id="gridNotificationRecipients" view.bind="NotificationRecipients" wg-container="NotificationRecipients_gridNR"></qp-grid>
				</split-pane>
			</qp-splitter>
		</qp-tab>

		<qp-tab id="tabSuppliedByVendors" caption="Supplied-by Vendors">
			<qp-grid id="gridSuppliedByVendors" view.bind="SuppliedByVendors" wg-container="SuppliedByVendors_PXGridSuppliedByVendors"></qp-grid>
		</qp-tab>

		<qp-tab id="tabCompliance" caption="Compliance">
			<qp-grid id="gridComplianceDocuments" view.bind="ComplianceDocuments" wg-container="ComplianceDocuments_grdComplianceDocuments"></qp-grid>
		</qp-tab>

	</qp-tabbar>

	<qp-panel id="ChangeIDDialog" caption="Specify New ID" auto-repaint="true">
		<qp-template id="formChangeID" name="17-17-14" wg-container="ChangeIDDialog_formChangeID">
			<qp-fieldset id="panelChangeID" slot="A" view.bind="ChangeIDDialog">
				<field name="CD"></field>
			</qp-fieldset>
		</qp-template>
		<footer>
			<qp-button id="btnOK" dialog-result="OK"></qp-button>
			<qp-button id="btnCancel" dialog-result="Cancel"></qp-button>
		</footer>
	</qp-panel>

</template>
