<template>
	<qp-template name="7-10-7" class="equal-height" id="Project_form" wg-container qp-collapsible>
		<qp-fieldset id="formSlotA" slot="A" view.bind="Project">
			<field name="ContractCD" ></field>
			<field name="Status" ></field>
			<using wg-container="ProjectProperties_tab" view="ProjectProperties">
				<field name="OwnerID" ></field>
			</using>
			<field name="NonProject" ></field>
		</qp-fieldset>
		<qp-fieldset id="formSlotB" slot="B" view.bind="Project">
			<field name="Description" config-rows.bind="3"></field>
		</qp-fieldset>
	</qp-template>
	<qp-tabbar active-tab-id="SummaryTab" id="ProjectProperties_tab" wg-container>
		<qp-tab id="SummaryTab" caption="Summary">
			<qp-template name="1-1" id="SummaryForm">
				<div slot="A">
					<qp-fieldset id="SummaryTabSlotA01" view.bind="ProjectProperties" caption="Project properties">
						<field name="BudgetLevel" ></field>
						<field name="CostBudgetLevel" ></field>
						<field name="ProjectGroupID" ></field>
						<field name="ApproverID" ></field>
						<field name="CuryID" ></field>
						<field name="AccountingMode" ></field>
						<field name="ChangeOrderWorkflow" ></field>
						<field name="RestrictToEmployeeList" ></field>
						<field name="RestrictToResourceList" ></field>
						<field name="BudgetMetricsEnabled" ></field>
					</qp-fieldset>
					<qp-fieldset id="SummaryTabSlotA02" view.bind="ProjectProperties" caption="Billing and allocation settings">
						<field name="Billing.Type" ></field>
						<field name="TermsID" ></field>
						<field name="AllocationID" config-allow-edit.bind="true"></field>
						<field name="AutoAllocate" ></field>
						<field name="BillingID" config-allow-edit.bind="true"></field>
						<field name="DefaultBranchID" ></field>
						<field name="RateTableID" config-allow-edit.bind="true"></field>
						<field name="CreateProforma" ></field>
						<field name="LimitsEnabled" ></field>
						<field name="PrepaymentEnabled" ></field>
						<field name="PrepaymentDefCode" ></field>
						<field name="AutomaticReleaseAR" ></field>
					</qp-fieldset>
				</div>
				<div slot="B">
					<qp-fieldset id="SummaryTabSlotB01" view.bind="ProjectProperties" caption="AIA">
						<field name="AIALevel" ></field>
						<field name="LastProformaNumber" ></field>
						<field name="IncludeQtyInAIA" ></field>
					</qp-fieldset>
					<qp-fieldset id="SummaryTabSlotB02" view.bind="ProjectProperties" caption="Visibility settings">
						<field name="ProjectVisibilitySettingsRow01" unbound>
							<qp-field control-state.bind="ProjectProperties.VisibleInGL" class="col-2">
							</qp-field>
							<qp-field control-state.bind="ProjectProperties.VisibleInAP" class="col-2">
							</qp-field>
							<qp-field control-state.bind="ProjectProperties.VisibleInAR" class="col-2">
							</qp-field>
							<qp-field control-state.bind="ProjectProperties.VisibleInSO" class="col-2">
							</qp-field>
							<qp-field control-state.bind="ProjectProperties.VisibleInPO" class="col-2">
							</qp-field>
						</field>
						<field name="ProjectVisibilitySettingsRow02" unbound>
							<qp-field control-state.bind="ProjectProperties.VisibleInIN" class="col-2">
							</qp-field>
							<qp-field control-state.bind="ProjectProperties.VisibleInCA" class="col-2">
							</qp-field>
							<qp-field control-state.bind="ProjectProperties.VisibleInCR" class="col-4">
							</qp-field>
							<qp-field control-state.bind="ProjectProperties.VisibleInPROD" class="col-4">
							</qp-field>
						</field>
						<field name="ProjectVisibilitySettingsRow03" unbound>
							<qp-field control-state.bind="ProjectProperties.VisibleInTA" class="col-4">
							</qp-field>
							<qp-field control-state.bind="ProjectProperties.VisibleInEA" class="col-4">
							</qp-field>
						</field>
					</qp-fieldset>
					<qp-fieldset id="SummaryTabSlotB03" view.bind="ProjectProperties" caption="Retainage">
						<field name="RetainageMode" ></field>
						<field name="IncludeCO" ></field>
						<field name="SteppedRetainage" ></field>
						<field name="RetainagePct" ></field>
						<field name="RetainageMaxPct" ></field>
					</qp-fieldset>
					<qp-grid id="gridRetainageSteps" view.bind="RetainageSteps" caption="Stepped Retainage" class="framed-section">
					</qp-grid>
				</div>
			</qp-template>
		</qp-tab>
		<qp-tab id="TasksTab" caption="Tasks">
			<qp-grid id="TaskGrid" view.bind="Tasks">
			</qp-grid>
		</qp-tab>
		<qp-tab id="RevenueBudgetTab" caption="Revenue Budget">
			<qp-grid id="RevenueBudget_RevenueBudgetGrid" view.bind="RevenueBudget">
			</qp-grid>
		</qp-tab>
		<qp-tab id="CostBudgetTab" caption="Cost Budget">
			<qp-grid id="CostBudget_CostBudgetGrid" view.bind="CostBudget">
			</qp-grid>
		</qp-tab>
		<qp-tab id="EmployeesTab" caption="Employees">
			<qp-template name="1-1" id="EmployeesForm" class="stretch">
				<qp-grid slot="A" id="gridEmployeeContract" view.bind="EmployeeContract" caption="Employees" class="framed-section">
				</qp-grid>
				<qp-grid slot="B" id="gridContractRates" view.bind="ContractRates" caption="Overrides" class="framed-section">
				</qp-grid>
			</qp-template>
		</qp-tab>
		<qp-tab id="EquipmentTab" caption="Equipment">
			<qp-grid id="ProjectRatesGrid" view.bind="EquipmentRates">
			</qp-grid>
		</qp-tab>
		<qp-tab id="DefaultsTab" caption="Defaults">
			<qp-template name="17-31" id="DefaultsForm" class="label-size-m">
				<div slot="A">
					<qp-fieldset id="DefaultsTab01" view.bind="ProjectProperties" caption="GL accounts">
						<field name="DefaultSalesAccountID" ></field>
						<field name="DefaultSalesSubID" ></field>
						<field name="DefaultExpenseAccountID" ></field>
						<field name="DefaultExpenseSubID" ></field>
						<field name="DefaultAccrualAccountID" ></field>
						<field name="DefaultAccrualSubID" ></field>
					</qp-fieldset>
					<qp-fieldset id="DefaultsTab02" view.bind="ProjectProperties" caption="Drop-ship purchases">
						<field name="DropshipExpenseAccountSource" ></field>
						<field name="DropshipExpenseSubMask" ></field>
						<field name="DropshipReceiptProcessing" ></field>
						<field name="DropshipExpenseRecording" ></field>
					</qp-fieldset>
					<qp-fieldset id="DefaultsTab03" view.bind="ProjectProperties" caption="GL accounts for payroll">
						<field name="EarningsAcctID" ></field>
						<field name="EarningsSubID" ></field>
						<field name="BenefitExpenseAcctID" ></field>
						<field name="BenefitExpenseSubID" ></field>
						<field name="TaxExpenseAcctID" ></field>
						<field name="TaxExpenseSubID" ></field>
						<field name="PTOExpenseAcctID" ></field>
						<field name="PTOExpenseSubID" ></field>
					</qp-fieldset>
				</div>
				<div slot="B">
					<qp-grid id="AccountTaskGrid" view.bind="Accounts" caption="Default task for GL account" class="framed-section">
					</qp-grid>
					<qp-grid id="gridMarkups" view.bind="Markups" caption="Document markups" class="framed-section">
					</qp-grid>
				</div>
			</qp-template>
		</qp-tab>
		<qp-tab id="AttributesTab" caption="Attributes">
			<qp-grid id="PXGridAnswers" view.bind="Answers">
			</qp-grid>
		</qp-tab>
		<qp-tab id="LienWaiverSettingsTab" caption="Lien Waiver Settings">
			<qp-template name="1-1" id="LienWaiverForm" class="stretch">
				<div slot="A">
					<qp-fieldset id="LienWaiverForm01" view.bind="ProjectProperties" caption="Conditional Lien Waivers">
						<field name="ThroughDateSourceConditional" ></field>
						<field name="IsActive" ></field>
					</qp-fieldset>
					<qp-fieldset id="LienWaiverForm02" view.bind="ProjectProperties" caption="Unconditional Lien Waivers">
						<field name="ThroughDateSourceUnconditional" ></field>
					</qp-fieldset>
				</div>
				<div slot="B">
					<qp-grid id="ComplianceSettingsGrid" view.bind="LienWaiverRecipients" class="framed-section">
					</qp-grid>		
				</div>
			</qp-template>
		</qp-tab>
		<qp-tab id="MailingAndPrintingTab" caption="Mailing & Printing">
			<qp-splitter id="splitterId"
				split="height"
				initial-split="50%"
				state="normal"
			>
				<split-pane>
					<qp-grid id="gridNS" view.bind="NotificationSources" caption="Mailings">
					</qp-grid>
				</split-pane>
				<split-pane>
					<qp-grid id="gridNR" view.bind="NotificationRecipients" caption="Recipients">
					</qp-grid>
				</split-pane>
			</qp-splitter>
		</qp-tab>
	</qp-tabbar>
	<qp-panel id="CopyDialog" caption="Copy Template" auto-repaint="true">
		<qp-fieldset id="formCopyProject" view.bind="CopyDialog">
			<field name="TemplateID" ></field>
		</qp-fieldset>
		<footer>
			<qp-button id="PXButtonOK" caption="OK" dialog-result="OK">
			</qp-button>
			<qp-button id="PXButtonCancel" caption="Cancel" dialog-result="Cancel">
			</qp-button>
		</footer>
	</qp-panel>
</template>
