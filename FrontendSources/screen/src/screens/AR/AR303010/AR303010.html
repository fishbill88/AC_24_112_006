<template>
	<qp-template id="formCustomerPaymentMethod" name="1-1" wg-container="CustomerPaymentMethod_form">
		<qp-fieldset slot="A" id="columnFirst-formCustomerPaymentMethod" view.bind="CustomerPaymentMethod">
			<field name="BAccountID" config-allow-edit.bind="true"></field>
			<field name="PMInstanceID"></field>
			<field name="PaymentMethodID"></field>
			<field name="HasBillingInfo"></field>
			<field name="IsActive"></field>
			<field name="CCProcessingCenterID"></field>
			<field name="CustomerCCPID"></field>
			<field name="CashAccountID"></field>
			<field name="Descr"></field>
			<field name="ExpirationDate"></field>
			<field name="DisplayCardType"></field>
		</qp-fieldset>
	</qp-template>

	<qp-tabbar id="tabs">
		<qp-tab id="tabPaymentMethodDetails" caption="Payment Method Details">
			<qp-grid id="grid" view.bind="Details"></qp-grid>
		</qp-tab>
		<qp-tab id="tabBillingInfo" caption="Billing Info" if.bind="CustomerPaymentMethod.HasBillingInfo.value == true">
			<qp-template id="formBillingInfo" name="1-1">
				<div slot="A" id="columnFirst-formBillingInfo">
					<qp-fieldset id="groupContactInformation" view.bind="BillContact" caption="Contact Information" wg-container="BillContact_BillContact">
						<using wg-container="CurrentCPM_tab" view="CurrentCPM">
							<field name="IsBillContactSameAsMain"></field>
						</using>
						<field name="FirstName"></field>
						<field name="LastName"></field>
						<field name="Phone1"></field>
						<field name="Phone2"></field>
						<field name="Fax"></field>
						<field name="EMail" control-type="qp-mail-editor"></field>
						<field name="WebSite" control-type="qp-link-editor"></field>
					</qp-fieldset>
					<qp-fieldset id="groupAddress" view.bind="BillAddress" caption="Address" wg-container="BillAddress_BillAddress">
						<using wg-container="CurrentCPM_tab" view="CurrentCPM">
							<field name="IsBillAddressSameAsMain"></field>
						</using>
						<field name="LookUpButton" unbound>
							<qp-address-lookup class="col-12" view.bind="BillAddress">
							</qp-address-lookup>
						</field>
						<field name="AddressLine1"></field>
						<field name="AddressLine2"></field>
						<field name="City"></field>
						<field name="CountryID" config-allow-edit.bind="true"></field>
						<field name="State" config-allow-edit.bind="true"></field>
						<field name="PostalCode"></field>
						<field name="IsValidated"></field>
					</qp-fieldset>
				</div>
			</qp-template>
		</qp-tab>
	</qp-tabbar>

	<!--#include file="~\Pages\Includes\AddressLookupPanel.inc"-->
	<qp-panel id="AddressLookupFilter" caption="Address Lookup">
		<qp-fieldset id="panelAddressLookupFilter" view.bind="AddressLookupFilter" wg-container="AddressLookupFilter_AddressLookupPanelformAddress">

			<field name="SearchAddress"></field>
			<field name="ViewName"></field>
			<field name="AddressLine1"></field>
			<field name="AddressLine2"></field>
			<field name="AddressLine3"></field>
			<field name="City"></field>
			<field name="CountryID"></field>
			<field name="State"></field>
			<field name="PostalCode"></field>
			<field name="Latitude"></field>
			<field name="Longitude"></field>
		</qp-fieldset>

		<footer>
			<qp-button id="buttonSelect-AddressLookupFilter" state.bind="AddressLookupSelectAction" caption="Select" dialog-result="Cancel"></qp-button>
			<qp-button id="buttonCancel-AddressLookupFilter" dialog-result="Cancel"></qp-button>
		</footer>
	</qp-panel>
</template>
