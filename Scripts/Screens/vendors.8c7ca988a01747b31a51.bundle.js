/*! For license information please see vendors.8c7ca988a01747b31a51.bundle.js.LICENSE.txt */
(self.webpackChunkscreen=self.webpackChunkscreen||[]).push([[11216],{"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!./node_modules/client-controls/controls/compound/address-lookup/qp-address-lookup.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".btn-address-lookup {\r\n\tcolor: black;\r\n}\r\n\r\n.flex-container {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n}\r\n\r\n.flex-container-notconf {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\tjustify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.flex-item {}\r\n\r\n.mapContainer,\r\n#addressautocompletemap {\r\n\tz-index: 1000;\r\n}\r\n\r\n.customNavBar {\r\n\tposition: absolute;\r\n\ttop: 15px;\r\n\tleft: 15px;\r\n\tright: 200px;\r\n\tmax-width: 600px;\r\n\tz-index: 0;\r\n}\r\n\r\n.pac-container {\r\n\tz-index: 10001;\r\n}\r\n\r\n.pac-container:after {\r\n\t/* Disclaimer: not needed to show 'powered by Google' if also a Google Map is shown */\r\n\r\n\tbackground-image: none !important;\r\n\theight: 0px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/abstract/screen-base-view-model/screen-base-view-model.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'body\r\n{\r\n\theight: 100%;\r\n\tmargin: 0px;\r\n\tborder: 0px;\r\n\tline-height: normal !important;\r\n}\r\n\r\nbody, input, textarea\r\n{\r\n\tfont-family: Arial, sans-serif !important;\r\n\tfont-size: var(--qp-regular-font-size);\r\n}\r\n\r\n*, *::before, *::after\r\n{\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n*:focus {\r\n\toutline: none;\r\n }\r\n\r\n/*--------------- Styles for render icons using css sprites ---------------*/\r\n.sprite-icon [class*="main-"], .sprite-icon [class*="control-"], .sprite-icon [class*="text-"]\r\n{\r\n\t/* use !important to prevent issues with browser extensions that change fonts */\r\n\tfont-family: \'FontAwesome\' !important;\r\n\tspeak: none;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: 1;\r\n\r\n\t/* Better Font Rendering =========== */\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.sprite-icon\r\n{\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n }\r\n\r\n.main-icon\r\n{\r\n\theight: 16px; width: 16px; font-size: 16px;\r\n}\r\n.main-icon-img\r\n{\r\n\tposition: absolute;\r\n}\r\n\r\n.control-icon\r\n{\r\n\theight: 12px;\r\n\twidth: 12px;\r\n\tfont-size: 12px;\r\n}\r\n.control-icon-img\r\n{\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n}\r\n\r\n.control-icon[icon^="Selector"]\r\n{\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tfont-size: 16px;\r\n\topacity: 0.64;\r\n\t/* cursor: pointer;  */\r\n}\r\n',""]),e.exports=o},"client-controls/controls/compound/address-lookup/qp-address-lookup.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".btn-address-lookup {\r\n\tcolor: black;\r\n}\r\n\r\n.flex-container {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n}\r\n\r\n.flex-container-notconf {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\tjustify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.flex-item {}\r\n\r\n.mapContainer,\r\n#addressautocompletemap {\r\n\tz-index: 1000;\r\n}\r\n\r\n.customNavBar {\r\n\tposition: absolute;\r\n\ttop: 15px;\r\n\tleft: 15px;\r\n\tright: 200px;\r\n\tmax-width: 600px;\r\n\tz-index: 0;\r\n}\r\n\r\n.pac-container {\r\n\tz-index: 10001;\r\n}\r\n\r\n.pac-container:after {\r\n\t/* Disclaimer: not needed to show 'powered by Google' if also a Google Map is shown */\r\n\r\n\tbackground-image: none !important;\r\n\theight: 0px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/currency/qp-currency.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".currency-container {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: 32px;\r\n\tgap: 6px;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.currency-container > * {\r\n\tflex: 0 1 0;\r\n}\r\n\r\n.currency-container > :first-child {\r\n\tflex-grow: 2;\r\n}\r\n\r\n.current-currency-select {\r\n\twidth: 33%;\r\n\tmin-width: 60px;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.rate-select {\r\n\twidth: 100px;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.base-currency {\r\n\twidth: 166px;\r\n}\r\n\r\n.currency-rate-dialog > *:not(:last-child) {\r\n\tmargin-bottom: 6px;\r\n\tpadding: 0;\r\n}\r\n\r\n.rate-caption {\r\n\tfont-size: 13px;\r\n\tcolor: #007ACC;\r\n\theight: 24px;\r\n\twidth: auto;\r\n\tpadding: 3px 6px 0px 0px;\r\n\ttext-transform: uppercase;\r\n\ttext-align: left;\r\n}\r\n\r\n.rate-values {\r\n\tmargin-top: 3px;\r\n\tpadding: 0;\r\n    border: 0;\r\n    margin-left: 0;\r\n    border-top: 1px solid #007ACC;\r\n\tdisplay: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.rate-values-row {\r\n\tdisplay: flex;\r\n    flex-direction: row;\r\n}\r\n\r\n.rate-values-label {\r\n    padding: 4px 4px 0px 15px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/formula-editor/qp-formula-editor.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'.qp-formula-editor,\r\n.qp-formula-editor * {\r\n\tbox-sizing: border-box;\r\n}\r\n\r\nqp-formula-editor {\r\n\tdisplay: block;\r\n\tborder: 0;\r\n}\r\n\r\nqp-formula-editor.GridCellEditor div.formula-editor-control {\r\n\tbox-sizing: content-box;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.formula-editor-control:not(.formula-editor-control--combo) {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tbackground-color: #FFFFFF;\r\n\theight: var(--qp-input-height);\r\n\tborder: 1px solid var(--qp-border-color);\r\n\tborder-radius: var(--qp-input-border-radius);\r\n\tfont-size: 13px;\r\n\tposition: relative;\r\n}\r\n\r\n.formula-editor-control--combo {\r\n\tposition: relative;\r\n}\r\n\r\nqp-grid .formula-editor-control qp-drop-down,\r\nqp-grid .formula-editor-control .drop-down__editor {\r\n\theight: 100%;\r\n}\r\n\r\n.formula-editor-control--dropdown-shown {\r\n\tborder-bottom-left-radius: 0;\r\n\tborder-bottom-right-radius: 0;\r\n}\r\n\r\n.formula-editor-control.focus {\r\n\tborder: 1px solid var(--qp-primary-color);\r\n\tbox-shadow: inset 0 0 0 1px var(--qp-primary-color);\r\n}\r\n\r\n.formula-editor-control.ReadOnly {\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: var(--qp-border-color);\r\n\tborder-radius: 0;\r\n}\r\n\r\n.formula-editor-control__display-text--invisible + span + span.formula-editor-control__text {\r\n\tdisplay: inline;\r\n\tline-height: 22px;\r\n}\r\n\r\n.formula-editor-control__text {\r\n\tdisplay: none;\r\n\tvertical-align: middle;\r\n\tpadding: 0px 6px 0px 6px;\r\n}\r\n\r\n.formula-editor-control__cont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 28px;\r\n\theight: var(--input-height);\r\n\tflex: 1;\r\n}\r\n\r\n.formula-editor-control__cont--combo {\r\n\tmargin-right: 50px;\r\n}\r\n\r\n.formula-editor-control__wrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.formula-editor-control__buttons-cont,\r\n.formula-editor-control__buttons-overlay-cont {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 5px;\r\n}\r\n\r\n@media (max-width: 812px) {\r\n\t.formula-editor-control__buttons-cont {\r\n\t\tdisplay: none;\r\n\t}\r\n}\r\n\r\n@media (min-width: 813px) {\r\n\t.formula-editor-control--combo .buttonsCont {\r\n\t\tright: 25px;\r\n\t}\r\n}\r\n\r\n.formula-editor-control__toggle-button {\r\n\tbackground: none;\r\n\tborder: none;\r\n\tpadding: 0;\r\n}\r\n\r\n.formula-editor-control .sprite-icon {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n}\r\n\r\n.formula-editor-control .control-icon {\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.formula-editor-control .sprite-icon .control-icon-img {\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\tfont-size: 15px;\r\n\topacity: 1;\r\n\tcolor: var(--label-color);\r\n}\r\n\r\n.formula-editor-control .sprite-icon:hover .control-icon-img {\r\n\tcolor: #000000;\r\n}\r\n\r\n.formula-editor-control .control-icon-img.control-EditN:before {\r\n\tcontent: "\\e97b";\r\n}\r\n\r\n.formula-editor-control .control-ArrowDown {\r\n\tmargin-top: 2px;\r\n}\r\n\r\n.formula-editor-control__display-text {\r\n\tfont-size: var(--qp-regular-font-size);\r\n\tmargin: 1px;\r\n\tborder: 0;\r\n\tpadding: 0 4px 0 6px;\r\n\tline-height: var(--qp-input-height);\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tpadding: 0 4px 0 8px;\r\n\tborder-width: 0 !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.formula-editor-control__display-text--invisible {\r\n\tposition: absolute;\r\n\ttop: -40px;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.formula-editor-control .editorCont {\r\n\tmargin-right: 50px;\r\n}\r\n\r\n.formula-editor-popup__list-panel {\r\n\tdisplay: flex;\r\n\tflex: 1 1 auto;\r\n\tmin-height: 0;\r\n\tmargin-bottom: 14px;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.formula-editor-popup__tree-container {\r\n\tflex: 0 1 270px;\r\n\tmin-width: 160px;\r\n\tpadding-right: 20px;\r\n\tborder-right: 1px solid var(--qp-border-color);\r\n\tposition: relative;\r\n}\r\n\r\n.formula-editor-popup__tree {\r\n\theight: 100%;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-root {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.formula-editor-popup__tree span.tree-text,\r\n.formula-editor-popup__tree .tree-text span {\r\n\tfont-size: inherit;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-table-container {\r\n\tflex: 1 auto;\r\n\tmargin-right: -12px;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-table-wrap {\r\n\toverflow-y: scroll;\r\n\tpadding-right: 7px;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-container {\r\n\theight: unset;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-main-toolbar qp-tool-bar {\r\n\tdisplay: none;\r\n}\r\n\r\n.formula-editor-popup__tree .filter-box {\r\n\twidth: 100%;\r\n}\r\n\r\n.formula-editor-popup__tree .filter-box .text {\r\n\tpadding-top: 5px;\r\n\tpadding-bottom: 5px;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-main-toolbar {\r\n\tflex: 0 auto;\r\n\tpadding-top: 0;\r\n\tpadding-bottom: 10px;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-container::-webkit-scrollbar,\r\n.formula-editor-popup__tree .tree-table-wrap::-webkit-scrollbar {\r\n\twidth: 6px;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-container::-webkit-scrollbar-thumb,\r\n.formula-editor-popup__tree .tree-table-wrap::-webkit-scrollbar-thumb {\r\n\twidth: 6px;\r\n}\r\n\r\n.formula-editor-popup__items-list {\r\n\tflex: 1 auto;\r\n\tmargin-left: 20px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmin-width: 0;\r\n\tmax-width: calc(100% - 290px);\r\n}\r\n\r\n.formula-editor-popup__items-filter {\r\n\tposition: relative;\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\n.formula-editor-popup__items-filter .filter-box {\r\n\twidth: 100%;\r\n}\r\n\r\n.formula-editor-popup__items-filter .filter-box .text {\r\n\tpadding-top: 5px;\r\n\tpadding-bottom: 5px;\r\n}\r\n\r\n.formula-editor-popup__items-select-container {\r\n\tflex: 1 auto;\r\n\tposition: relative;\r\n\toverflow-y: auto;\r\n}\r\n\r\n.formula-editor-popup__items-select {\r\n\twidth: calc(100% - 7px);\r\n\theight: 100%;\r\n\tborder: none;\r\n}\r\n\r\n.formula-editor-popup__items-select-option {\r\n\theight: var(--qp-input-height);\r\n\tpadding: 0.65em 30px 0.65em 8px;\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n\toverflow: hidden;\r\n    text-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.formula-editor-popup__items-select-option .selected {\r\n\tbackground-color: orange;\r\n}\r\n\r\n.formula-editor-popup__items-select-option-add-button {\r\n\tdisplay: block;\r\n\twidth: 32px;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tborder: none;\r\n\tbackground-color: transparent;\r\n\topacity: 0;\r\n\tcursor: pointer;\r\n}\r\n\r\n.formula-editor-popup__items-select-option-add-button:hover {\r\n\tbackground-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.formula-editor-popup__items-select-option-add-icon {\r\n\twidth: 15px; height: 15px;\r\n\tposition: absolute;\r\n\tleft: 50%; top: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n}\r\n\r\n.formula-editor-popup__items-select-option:hover,\r\n.formula-editor-popup__items-select-option--current {\r\n\tbackground-color: var(--qp-background-color);\r\n}\r\n\r\n.formula-editor-popup__items-select-option:hover .formula-editor-popup__items-select-option-add-button {\r\n\topacity: 1;\r\n}\r\n\r\n.formula-editor-popup__textarea-container {\r\n\twidth: 100%;\r\n\theight: 83px;\r\n\tflex-shrink: 0;\r\n\tborder: 1px solid var(--qp-border-color);\r\n\tborder-radius: var(--qp-input-border-radius);\r\n\tpadding: 2px 2px 2px 0;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.formula-editor-popup__textarea-container--focused {\r\n\tborder-color: var(--qp-primary-color);\r\n\tbox-shadow: inset 0 0 0 1px var(--qp-primary-color);\r\n}\r\n\r\n.formula-editor-popup__textarea {\r\n\theight: 100%;\r\n\toverflow-y: auto;\r\n\tpadding: 0.5em 8px;\r\n\tword-break: break-word;\r\n\tposition: relative;\r\n}\r\n\r\n.formula-editor-popup__textarea-selection {\r\n\tbackground-color: var(--qp-background-color);\r\n}\r\n\r\n.formula-editor-popup__textarea-cursor {\r\n\tdisplay: inline-block;\r\n\twidth: 1.5px;\r\n\theight: 1.3em;\r\n\tmargin-top: -0.1em;\r\n\tmargin-left: -0.5px;\r\n\tbackground: #000000;\r\n}\r\n\r\n.formula-editor-popup__textarea-cursor,\r\n.formula-editor-popup__textarea-cursor:after {\r\n\tposition: absolute;\r\n}\r\n\r\n.formula-editor-popup__textarea-cursor:after {\r\n\tcontent: \'\';\r\n\tdisplay: block;\r\n\twidth: 0;\r\n\theight: 0;\r\n\tbottom: -1px;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tborder: 4px solid transparent;\r\n\tborder-bottom-color: #000000;\r\n}\r\n\r\n.formula-editor-popup__textarea-hint {\r\n\tfont-size: 14px;\r\n\tmargin-top: 0.65em;\r\n\tmargin-bottom: 0.65em;\r\n}\r\n\r\n.formula-editor-popup__validation-result {\r\n\tfont-size: 14px;\r\n\tpadding: 0.6em 36px 0.5em;\r\n\tborder-radius: 5px;\r\n\tmargin-bottom: 0.5em;\r\n\tposition: relative;\r\n}\r\n\r\n.formula-editor-popup__validation-result--success {\r\n\tbackground-color: var(--qp-sucess-bg-color);\r\n}\r\n\r\n.formula-editor-popup__validation-result--error {\r\n\tbackground-color: var(--qp-error-bg-color);\r\n}\r\n\r\n.formula-editor-popup__validation-result--outdated {\r\n\topacity: 0.5;\r\n}\r\n\r\n.formula-editor-popup__validation-result-icon {\r\n\tposition: absolute;\r\n\tleft: 13px;\r\n\ttop: 9px;\r\n}\r\n\r\n.formula-editor-popup__validation-result--success .formula-editor-popup__validation-result-icon svg {\r\n\twidth: 13px;\r\n\theight: 11px;\r\n\tfill: #47A824;\r\n}\r\n\r\n.formula-editor-popup__validation-result--error .formula-editor-popup__validation-result-icon svg {\r\n\twidth: 14px;\r\n\theight: 15px;\r\n\tcolor: #EE4051;\r\n}\r\n\r\n@keyframes spinner-animation {\r\n\tto {\r\n\t\ttransform: translate(-50%, -50%) rotate(360deg);\r\n\t}\r\n}\r\n\r\n.spinner:after {\r\n\tcontent: \'\';\r\n\twidth: 24px;\r\n\theight: 24px;\r\n\tborder-radius: 50%;\r\n\tborder: 2px solid rgba(0, 0, 0, 0.3);\r\n\tborder-top-color: rgba(0, 0, 0, 0.6);\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\tz-index: 200;\r\n\tanimation: spinner-animation 0.6s linear infinite;\r\n}\r\n\r\n@media screen and (min-height: 480px) {\r\n\t[id^="formulaEditorPopupTemplate"]:not(.qp-maximized) ux-dialog-body {\r\n\t\tmax-height: calc(100vh - 120px);\r\n\t}\r\n}\r\n\r\n[id^="formulaEditorPopupTemplate"] ux-dialog-footer {\r\n\tpadding: 5px 10px;\r\n}\r\n\r\n[id^="formulaEditorPopupTemplate"].qp-maximized ux-dialog-footer {\r\n\tpadding-bottom: 15px;\r\n}\r\n\r\n[id^="formulaEditorPopupTemplate"] ux-dialog-footer inline-view {\r\n\tflex: 1 auto;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n[id^="formulaEditorPopupTemplate"] ux-dialog-footer qp-button + qp-button {\r\n\tmargin-left: 8px;\r\n}\r\n\r\n[id^="formulaEditorPopupTemplate"] ux-dialog-footer qp-button:first-child {\r\n\tmargin-right: auto;\r\n}\r\n',""]),e.exports=o},"client-controls/controls/compound/grid/dialogs/columns-dialog.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".columns-dialog .filter-box\r\n{\r\n\tmargin-bottom: 10px;\r\n\twidth: 100%;\r\n\tborder: 1px solid #007ACC;\r\n}\r\n.columns-dialog .cols-list\r\n{\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n}\r\n.columns-dialog .cols-list > div\r\n{\r\n\tpadding: 4px;\r\n\tcursor: pointer;\r\n}\r\n.columns-dialog .cols-list > div:hover\r\n{\r\n\tbackground-color: var(--qp-menu-hover);\r\n}\r\n.columns-dialog .cols-list > div.dragover.before\r\n{\r\n\tborder-top: 1px solid red;\r\n\tpadding-top: 3px;\r\n}\r\n.columns-dialog .cols-list > div.dragover.after\r\n{\r\n\tborder-bottom: 1px solid red;\r\n\tpadding-bottom: 3px;\r\n}\r\n\r\n.columns-dialog .cols-list .field-name\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 12px;\r\n\tfont-weight: bold;\r\n\tcolor: RGBA(0, 0, 0, 0.7);\r\n\tpadding-left: 3px;\r\n\tvertical-align: middle;\r\n\tmax-width: 195px;\r\n\tline-height: 24px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.columns-dialog .cols-list .tab-switch\r\n{\r\n\tfloat: right;\r\n}\r\n.columns-dialog .cols-list .tab-switch.ac-TabOn\r\n{\r\n\tdisplay: none;\r\n}\r\n.columns-dialog .cols-list > div:hover .tab-switch\r\n{\r\n\tdisplay: inline-block;\r\n}\r\n.columns-dialog .cols-list i.visible-fixed\r\n{\r\n\topacity: 0.4;\r\n}\r\n\r\n.columns-dialog .cols-list i.ac\r\n{\r\n\tfont-size: 16px;\r\n\tvertical-align: middle;\r\n\tcolor: RGBA(0, 0, 0, 0.54);\r\n}\r\n.columns-dialog .cols-list i.ac-check_box\r\n{\r\n\tcolor: #007ACC;\r\n}\r\n\r\n.columns-dialog .cols-list > div:not([draggable]) i.drag-icon\r\n{\r\n\topacity: 0.2;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/grid/dialogs/columns-list-dialog.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".columns-list-dialog\r\n{\r\n\tmin-width: 250px;\r\n\tmax-width: 250px;\r\n\tborder-radius: 6px;\r\n\tpadding: 8px 0px;\r\n\tfont-size: 14px;\r\n}\r\n.columns-list-dialog ux-dialog-body\r\n{\r\n\tpadding: 0px;\r\n}\r\n\r\n.columns-list-dialog .cols-list\r\n{\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n}\r\n.columns-list-dialog .cols-list > div\r\n{\r\n\tpadding: 8px 16px;\r\n\tcursor: pointer;\r\n}\r\n.columns-list-dialog .cols-list > div:hover\r\n{\r\n\tbackground-color: var(--qp-menu-hover);\r\n}\r\n\r\n.columns-list-dialog .cols-list .field-name\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 14px;\r\n\tpadding-left: 1px;\r\n\tmax-width: 215px;\r\n}\r\n\r\n.columns-list-dialog .header\r\n{\r\n\tpadding: 6px 16px;\r\n}\r\n.columns-list-dialog .header > span\r\n{\r\n\tfont-weight: bold;\r\n}\r\n.columns-list-dialog .header > a\r\n{\r\n\tfloat: right;\r\n\tcolor: #027ACC;\r\n\ttext-decoration: none;\r\n}\r\n.columns-list-dialog .filter-container\r\n{\r\n\tpadding: 8px 16px;\r\n}\r\n.columns-list-dialog .filter-container .filter-box\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\n.columns-list-dialog .empty-message\r\n{\r\n\theight: 52px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 8px 16px;\r\n\tfont-size: 14px;\r\n\tcolor: #7C7C7C;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/grid/dialogs/filter-dialog.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".filter-dialog\r\n{\r\n\tmin-width: 270px;\r\n\twidth: 270px;\r\n\tborder-radius: 6px;\r\n\tpadding: 8px 0px;\r\n}\r\n\r\n.filter-dialog ux-dialog-body\r\n{\r\n\tpadding: 0px;\r\n\theight: auto;\r\n}\r\n.filter-dialog  ux-dialog-footer\r\n{\r\n\tpadding: 8px 16px;\r\n}\r\n.filter-dialog > ux-dialog-footer button\r\n{\r\n\tmargin: 0px;\r\n\tmargin-left: 8px;\r\n}\r\n\r\n.filter-dialog .sorts-and-filters\r\n{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\toverflow-y: auto;\r\n}\r\n\r\n.filter-dialog .items-list > div:not([class=separator])\r\n{\r\n\tpadding: 8px 16px;\r\n\tcursor: pointer;\r\n}\r\n.filter-dialog .items-list > div:not([class*=disabled]):hover\r\n{\r\n\tbackground-color: var(--qp-menu-hover);\r\n}\r\n.filter-dialog .items-list > div.disabled\r\n{\r\n\topacity: 0.5;\r\n\tcursor: default;\r\n}\r\n\r\n.filter-dialog .items-list .text\r\n{\r\n\tfont-size: 14px;\r\n\tcolor: RGBA(0, 0, 0, 0.87);\r\n\tmargin-left: 24px;\r\n\tmargin-right: 20px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.filter-dialog .items-list > div i.ac\r\n{\r\n\tfloat: left;\r\n\tfont-size: 16px;\r\n}\r\n.filter-dialog .items-list > div qp-icon\r\n{\r\n\tfloat: left;\r\n}\r\n.filter-dialog .items-list.items > div i.ac,\r\n.filter-dialog .items-list.select-all > div i.ac\r\n{\r\n\tcolor: #027ACC;\r\n}\r\n.filter-dialog .items-list > div i.ac.align-right,\r\n.filter-dialog .items-list > div qp-icon.align-right\r\n{\r\n\tfloat: right;\r\n}\r\n.filter-dialog .items-list > div i.ac[class*=outline_blank]\r\n{\r\n\tcolor: #CCCCCC;\r\n}\r\n\r\n.filter-dialog .items-list.items, .filter-dialog .items-list.conditions\r\n{\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n}\r\n\r\n.filter-dialog .separator\r\n{\r\n\tpadding: 8px 0px;\r\n\theight: 1px;\r\n}\r\n.filter-dialog .separator > div\r\n{\r\n\tfont-size: 0px;\r\n\tborder-top: 1px solid #E0E4E8\r\n}\r\n\r\n.filter-dialog .editors\r\n{\r\n\tpadding: 8px 16px;\r\n\tposition: relative;\r\n}\r\n.filter-dialog .editors .auto-size, .filter-dialog .editors .dropDown\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\n.filter-dialog .label-cont\r\n{\r\n\tdisplay: flex;\r\n}\r\n.filter-dialog .label-cont.second\r\n{\r\n\tmargin-top: 9px;\r\n}\r\n.filter-dialog .label-cont label\r\n{\r\n\twidth: 80px;\r\n\tline-height: 20px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/grid/dialogs/filters-list-dialog.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".filters-list-dialog\r\n{\r\n\tborder-radius: 6px;\r\n\tpadding: 8px 0px;\r\n}\r\n.filters-list-dialog ux-dialog-body\r\n{\r\n\tpadding: 0px;\r\n}\r\n\r\n.filters-list-dialog .filter-container\r\n{\r\n\tpadding: 8px 16px;\r\n}\r\n.filters-list-dialog .filter-container .filter-box\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\n.filters-list-dialog .filters-list\r\n{\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n}\r\n.filters-list-dialog .filters-list > div:not([class=separator])\r\n{\r\n\tpadding: 8px 16px;\r\n\tcursor: pointer;\r\n}\r\n.filters-list-dialog .filters-list > div.selected\r\n{\r\n\tbackground-color: var(--qp-highlight-color);\r\n}\r\n.filters-list-dialog .filters-list > div:hover\r\n{\r\n\tbackground-color: var(--qp-menu-hover);\r\n}\r\n\r\n.filters-list-dialog .filters-list > div.dragover.before\r\n{\r\n\tborder-top: 1px solid #D9D9D9;\r\n\tpadding-top: 7px;\r\n}\r\n.filters-list-dialog .filters-list > div.dragover.after\r\n{\r\n\tborder-bottom: 1px solid #D9D9D9;\r\n\tpadding-bottom: 7px;\r\n}\r\n\r\n.filters-list-dialog .filters-list .filter-name\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 14px;\r\n\tpadding-left: 3px;\r\n\tvertical-align: middle;\r\n\tline-height: 16px;\r\n\r\n\tmax-width: 250px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.filters-list-dialog .filters-list > div .drag-icon\r\n{\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\twidth: 16px;\r\n\tvisibility: hidden;\r\n\tfill: RGBA(0, 0, 0, 0.54);\r\n}\r\n.filters-list-dialog .filters-list > div:hover .drag-icon\r\n{\r\n\tvisibility: visible;\r\n}\r\n.filters-list-dialog .filters-list > div:not([draggable]) .drag-icon\r\n{\r\n\tvisibility: hidden;\r\n}\r\n\r\n.filters-list-dialog .filters-list > div .fav-icon\r\n{\r\n\tvertical-align: middle;\r\n\tvisibility: hidden;\r\n}\r\n.filters-list-dialog .filters-list > div:hover .fav-icon\r\n{\r\n\tvisibility: visible;\r\n}\r\n.filters-list-dialog .filters-list > div .fav-icon.fav-on\r\n{\r\n\tvisibility: visible;\r\n\tcolor: #f7ba08;\r\n}\r\n.filters-list-dialog .filters-list > div[allrecords] .fav-icon\r\n{\r\n\tvisibility: hidden;\r\n}\r\n\r\n.filters-list-dialog .filters-list > div .shared-icon\r\n{\r\n\tfloat: right;\r\n}\r\n\r\n.filters-list-dialog .empty-message\r\n{\r\n\theight: 52px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 8px 16px;\r\n\tfont-size: 14px;\r\n\tcolor: #7C7C7C;\r\n}\r\n\r\n.filters-list-dialog .separator\r\n{\r\n\tpadding: 8px 0px;\r\n\theight: 1px;\r\n}\r\n.filters-list-dialog .separator > div\r\n{\r\n\tfont-size: 0px;\r\n\tborder-top: 1px solid #E0E4E8\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/grid/dialogs/import-dialog.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".import-dialog .error-message {\r\n\tbox-sizing: content-box;\r\n\tdisplay: flex;\r\n\tgap: 10px;\r\n\theight: 32px;\r\n\talign-items: center;\r\n\tbackground-color: var(--qp-error-bg-color);\r\n\tborder-radius: 8px;\r\n\tpadding: 6px;\r\n\tpadding-left: 12px;\r\n}\r\n\r\n.import-dialog .error-message qp-icon {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.import-dialog .file-label {\r\n\tdisplay: flex;\r\n\tflex-wrap: nowrap;\r\n}\r\n\r\n.import-dialog .file-label .file-label-text {\r\n\tflex-basis: 100%;\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.import-dialog .file-label qp-icon {\r\n\tflex-grow: 0;\r\n\tcursor: pointer;\r\n\tpointer-events: all;\r\n}\r\n\r\n.import-dialog > .qp-resizable {\r\n\theight: 100%;\r\n}\r\n\r\n.import-dialog qp-fieldset {\r\n\twidth: 100%;\r\n}\r\n\r\n.import-dialog qp-grid {\r\n\theight: 100%;\r\n}\r\n\r\n.import-dialog .qp-wizard-footer {\r\n\tmargin-top: 12px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/grid/elements/qp-filter-box.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".filter-box\r\n{\r\n  border: 1px solid #D2D4D7;\r\n  border-radius: 6px;\r\n  display: inline-block;\r\n  width: 200px;\r\n  background-color: white;\r\n  box-sizing: border-box;\r\n\theight: var(--qp-input-height);\r\n}\r\n\r\n\r\n@media (min-width: 0) and (max-width: 692px) { /* SM */\r\n\t.filter-box {\r\n\t\twidth: 150px;\r\n\t}\r\n}\r\n\r\n.filter-box * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n\r\n.filter-box.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.filter-box.has-filter {\r\n\tbackground-color: #D7EFFF;\r\n}\r\n\r\n.filter-box > div\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-left: 2px;\r\n}\r\n\r\n.filter-box .text\r\n{\r\n\tpadding: 6px 7px 6px 6px;\r\n\tflex: 1;\r\n\tborder: none;\r\n\tborder-radius: 6px;\r\n\twidth: 100%;\r\n\tbackground-color: transparent;\r\n\theight: var(--qp-input-height);\r\n}\r\n.filter-box qp-icon {\r\n\tmargin-right: 6px;\r\n}\r\n.filter-box qp-icon > svg\r\n{\r\n\tfill: #808080;\r\n}\r\n.filter-box.focus qp-icon > svg\r\n{\r\n\tfill: #000000;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/grid/elements/qp-filter-button.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".filter-button\r\n{\r\n\tposition: relative;\r\n}\r\n.filter-button .content\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: var(--qp-toolbar-height);\r\n\tpadding: 3px;\r\n\tborder: 1px solid #E0E4E8;\r\n\tborder-radius: 6px;\r\n\tcursor: pointer;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.filter-button .extended-button\r\n{\r\n\tz-index: 1;\r\n\tposition: absolute;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tbackground-color: white;\r\n}\r\n\r\n.filter-button:hover .content\r\n{\r\n\tbackground-color: var(--qp-background-color);\r\n}\r\n.filter-button.filtered .content\r\n{\r\n\tborder: none;\r\n\tbackground-color: var(--qp-highlight-color);\r\n}\r\n.filter-button.filtered:hover .content\r\n{\r\n\tbackground-color: var(--qp-highlight-hover-color);\r\n}\r\n\r\n.filter-button .content span.text\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 14px;\r\n\tpadding: 3px 5px;\r\n\tline-height: 16px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tmax-width: 220px;\r\n}\r\n.filter-button .extended-button .content  span.text\r\n{\r\n\tmax-width: 400px;\r\n}\r\n.filter-button.large .content span.text\r\n{\r\n\tmax-width: 320px;\r\n}\r\n.filter-button.large .extended-button .content  span.text\r\n{\r\n\tmax-width: 450px;\r\n}\r\n\r\n.filter-button .content i.ac\r\n{\r\n\tfont-size: 16px;\r\n\tline-height: 20px;\r\n\tpadding: 0px 3px;\r\n\topacity: 0.5;\r\n}\r\n.filter-button .content i.ac:hover\r\n{\r\n\topacity: 1;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/grid/elements/qp-filter-combo.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".filter-combo\r\n{\r\n\twidth: 160px;\r\n\tdisplay: flex;\r\n\tpadding-inline: 5px;\r\n\talign-items: center;\r\n\tbackground-color: var(--qp-background-color);\r\n\tborder-radius: 6px;\r\n\tcursor: pointer;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.filter-combo:hover\r\n{\r\n\tbackground-color: var(--qp-dark-background-color);\r\n}\r\n.filter-combo.filtered\r\n{\r\n\tbackground-color: var(--qp-highlight-color);\r\n}\r\n.filter-combo.filtered:hover\r\n{\r\n\tbackground-color: var(--qp-highlight-hover-color);\r\n}\r\n\r\n.filter-combo span.text\r\n{\r\n\tflex: 1;\r\n\tdisplay: inline-block;\r\n\tpadding: 3px 5px;\r\n\tline-height: 16px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.filter-combo i.ac\r\n{\r\n\tfont-size: 16px;\r\n\tline-height: 20px;\r\n\tpadding: 1px 3px;\r\n\topacity: 0.5;\r\n}\r\n.filter-combo:hover i.ac\r\n{\r\n\topacity: 1;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/grid/elements/qp-filter-node.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"\r\n.filter-node\r\n{\r\n\tdisplay: block;\r\n}\r\n\r\n.filter-node .button-container, .filter-node .node-container\r\n{\r\n\tdisplay: flex;\r\n}\r\n.filter-node .button-container:not(:last-child),\r\n.filter-node .node-container:not(:last-child)\r\n{\r\n\tmargin-bottom: 8px;\r\n}\r\n.filter-node .node-container > .filter-node\r\n{\r\n\tmargin-top: 8px;\r\n\tmargin-bottom: 8px;\r\n\tmargin-left: -6px;\r\n}\r\n\r\n.filter-node .btn-new, .filter-node .btn-delete\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 5px 7px;\r\n\tcursor: pointer;\r\n}\r\n.filter-node i.ac\r\n{\r\n\tfont-size: 16px;\r\n}\r\n.filter-node i.ac[class*=keyboard_arrow]\r\n{\r\n\tfont-size: 20px;\r\n}\r\n\r\n.filter-node .btn-brackets\r\n{\r\n\tposition: relative;\r\n\tpadding: 4px 2px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.filter-node .btn-condition\r\n{\r\n\tcursor: pointer;\r\n\tposition: relative;\r\n\tpadding-right: 5px;\r\n}\r\n.filter-node .btn-condition .text\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 12px;\r\n\tbackground-color: #8ef29e;\r\n\tborder-radius: 5px;\r\n\tpadding: 6px 3px;\r\n\tbox-sizing: border-box;\r\n\twidth: 32px;\r\n}\r\n.filter-node .btn-condition .text.or\r\n{\r\n\tbackground-color: #f5ba5b;\r\n\tpadding: 6px 7px;\r\n}\r\n\r\n.filter-node .node-container > .btn-brackets\r\n{\r\n\talign-self: flex-end;\r\n\ttransform: translateY(18px);\r\n}\r\n.filter-node .node-container > .btn-brackets.aurelia-hide\r\n{\r\n\ttransform: none;\r\n}\r\n.filter-node .node-container:only-child > .btn-brackets\r\n{\r\n\tdisplay: none !important;\r\n}\r\n\r\n.filter-node .node-container .left-actions\r\n{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n.filter-node .node-container .left-actions .btn-delete-brackets\r\n{\r\n\tcursor: pointer;\r\n\tposition: relative;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\tpadding-bottom: 2px;\r\n\tpadding-left: 10px;\r\n}\r\n.filter-node .node-container .left-actions .btn-condition\r\n{\r\n\tposition: relative;\r\n\ttop: 16px;\r\n\tmargin-top: auto;\r\n}\r\n.filter-node .node-container .left-actions .btn-condition.aurelia-hide\r\n{\r\n\ttop: 0px;\r\n}\r\n\r\n.filter-node .node-container .left-bracket, .filter-node .node-container .right-bracket\r\n{\r\n\tborder: 2px solid;\r\n\twidth: 10px;\r\n}\r\n.filter-node .node-container .left-bracket\r\n{\r\n\tborder-radius: 8px 0px 0px 8px;\r\n\tborder-right: none;\r\n\r\n}\r\n.filter-node .node-container .right-bracket\r\n{\r\n\tmargin-left: -6px;\r\n\tborder-radius: 0px 8px 8px 0px;\r\n\tborder-left: none;\r\n}\r\n.filter-node .node-container .right-actions\r\n{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.filter-node .button-container .btn-brackets\r\n{\r\n\ttop: 18px;\r\n}\r\n.filter-node .button-container .btn-brackets.aurelia-hide\r\n{\r\n\ttop: 0px;\r\n}\r\n.filter-node .button-container .btn-condition\r\n{\r\n\ttop: 19px;\r\n}\r\n.filter-node .button-container .btn-condition.aurelia-hide\r\n{\r\n\ttop: 0px;\r\n}\r\n\r\n.filter-node .button-container .btn-brackets, .filter-node .button-container .btn-new\r\n{\r\n\tvisibility: hidden;\r\n}\r\n.filter-node .button-container:hover .btn-brackets, .filter-node .button-container:hover > .btn-new,\r\n.filter-node .button-container > .btn-new[force-visible]\r\n{\r\n\tvisibility: visible;\r\n}\r\n\r\n.filter-node .node-container .left-actions .btn-delete-brackets,\r\n.filter-node .node-container .right-actions, .filter-node .node-container .btn-brackets\r\n{\r\n\tvisibility: hidden;\r\n}\r\n.filter-node .node-container:hover[mouse-hover] > .left-actions > .btn-delete-brackets,\r\n.filter-node .node-container:hover[mouse-hover] > .btn-brackets, .filter-node\r\n.node-container:hover[mouse-hover] > .right-actions,\r\n.filter-node .node-container > .right-actions[force-visible]\r\n{\r\n\tvisibility: visible;\r\n}\r\n\r\n.filter-node .aurelia-hide\r\n{\r\n\tdisplay: block !important;\r\n\tvisibility: hidden !important;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/grid/elements/qp-numeric-pager.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".numeric-pager {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.numeric-pager .page-editor {\r\n\twidth: 50px;\r\n\theight: 28px;\r\n}\r\n\r\n.numeric-pager > label {\r\n\tpadding-left: 10px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/grid/qp-filter-bar.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".filter-bar\r\n{\r\n\tdisplay: block;\r\n}\r\n\r\n.filters-headers\r\n{\r\n  display: flex;\r\n}\r\n.filters-headers .headers-wrap\r\n{\r\n  flex: 1;\r\n  overflow: hidden;\r\n  border-bottom: 1px solid #E0E4E8;\r\n  margin-right: 6px;\r\n}\r\n.filters-headers .headers-wrap > ul\r\n{\r\n  display: table;\r\n  white-space: nowrap;\r\n\r\n  list-style: none outside none;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  border-spacing: 0px;\r\n}\r\n.filters-headers .headers-wrap > ul > li\r\n{\r\n  display: table-cell;\r\n  padding: 6px 16px;\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  height: 24px;\r\n  line-height: 24px;\r\n  opacity: 0.5;\r\n}\r\n.filters-headers .headers-wrap > ul > li:hover\r\n{\r\n  cursor: pointer;\r\n  background-color: #E0E4E8;\r\n  opacity: 1;\r\n}\r\n.filters-headers .headers-wrap > ul > li.selected\r\n{\r\n  color: #027ACC;\r\n  border-bottom: 2px solid #027ACC;\r\n  padding-bottom: 4px;\r\n  opacity: 1;\r\n}\r\n.filters-headers .filter-box-wrap\r\n{\r\n  padding-right: 5px;\r\n  align-self: flex-end;\r\n}\r\n\r\n.filters-strip-cont\r\n{\r\n\tdisplay: flex;\r\n}\r\n.filters-strip\r\n{\r\n  position: relative;\r\n  display: flex;\r\n  flex: 1;\r\n  gap: 8px;\r\n  padding-left: 1px;\r\n}\r\n.filters-strip .advanced-filter\r\n{\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.filters-strip button.qp-button, .filters-strip .drop-down__editor\r\n{\r\n\theight: var(--qp-toolbar-height);\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.filters-strip button.qp-button\r\n{\r\n\tmin-width: 36px;\r\n}\r\n.filters-strip .drop-down__editor\r\n{\r\n\twidth: 160px;\r\n}\r\n.filters-strip .filter-selected .drop-down__editor\r\n{\r\n\tbackground-color: #D7EFFF;\r\n}\r\n.filters-strip .drop-down__option\r\n{\r\n\tpadding: 7px 4px;\r\n}\r\n\r\n.filters-strip .qp-menu\r\n{\r\n\tborder-radius: 6px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.filters-strip .advanced-filter .filter-button span.text\r\n{\r\n  max-width: none;\r\n}\r\n.filters-strip .advanced-filter .filter-button span.and\r\n{\r\n  color: #419622;\r\n}\r\n.filters-strip .advanced-filter .filter-button span.or\r\n{\r\n  color: #df9a2b;\r\n}\r\n\r\n.filters-strip .filter-drop-tip\r\n{\r\n  flex: 1;\r\n  white-space: nowrap;\r\n  height: 30px;\r\n  font-style: italic;\r\n  border: 1px dashed #C8C8C8;\r\n  border-radius: 6px;\r\n  padding: 6px 5px;\r\n  color: #8F8F8F;\r\n}\r\n.filters-strip .add-filter button\r\n{\r\n  font-size: 16px;\r\n}\r\n\r\n.filters-strip i.arrow-down, .filters-strip i.arrow-up\r\n{\r\n  position: absolute;\r\n  z-index: 10000;\r\n}\r\n.filters-strip i.arrow-down\r\n{\r\n  top: 0px;\r\n  transform: translateY(-100%);\r\n}\r\n.filters-strip i.arrow-up\r\n{\r\n  bottom: 0px;\r\n  transform: translateY(100%);\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/grid/qp-filter-editor.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"\r\n.filter-editor\r\n{\r\n\tdisplay: block;\r\n}\r\n\r\n.filter-editor > .btn-new\r\n{\r\n\tpadding: 5px 7px;\r\n\tcursor: pointer;\r\n\tfont-size: 20px;\r\n\tmargin-left: 10px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/grid/qp-grid.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'::-webkit-input-placeholder {\r\n  font-style: italic;\r\n}\r\n::-moz-placeholder {\r\n  font-style: italic;\r\n}\r\n:-ms-input-placeholder {\r\n  font-style: italic;\r\n}\r\n\r\nqp-grid, qp-grid *\r\n{\r\n  box-sizing: border-box;\r\n}\r\nqp-grid.grid\r\n{\r\n\tposition: relative;\r\n\tdisplay: flex !important;\r\n\tflex-direction: column !important;\r\n\tgap: 0px !important;\r\n\tfont-size: var(--qp-regular-font-size);\r\n\tcursor: default;\r\n\t/* border: 1px solid rgba(0, 0, 0, 0.03); */\r\n\theight: 100%;\r\n\t/* background-color: #F5F7F9;\r\n\tborder-radius: 10px 10px 0 0; */\r\n}\r\n\r\nqp-grid i.ac\r\n{\r\n\tposition: relative;\r\n}\r\n\r\nqp-grid.grid.auto-grow-fit\r\n{\r\n\theight: auto;\r\n}\r\nqp-grid.grid.auto-grow-fit .grid-content\r\n{\r\n\theight: auto;\r\n\tmin-height: 70px;\r\n}\r\nqp-grid.grid.auto-grow-fit .grid-content-wrap\r\n{\r\n\tposition: relative;\r\n\theight: auto;\r\n\tmin-height: 70px;\r\n}\r\nqp-grid.grid.auto-grow-fill .grid-content-wrap\r\n{\r\n\tposition: relative;\r\n}\r\n\r\n/* .grid-top-bar\r\n{\r\n\tpadding: 9px;\r\n} */\r\n.grid-top-bar .filter-bar\r\n{\r\n\tpadding-bottom: 9px;\r\n}\r\n.grid-top-toolbar\r\n{\r\n\tdisplay: flex;\r\n\tpadding-bottom: var(--qp-sections-row-gap);\r\n}\r\n.grid-top-toolbar.empty\r\n{\r\n\tdisplay: none;\r\n}\r\n\r\n.grid-left-toolbar-cont\r\n{\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n.grid-right-toolbar-cont\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 8px;\r\n}\r\n.grid-top-toolbar div.qp-tool-bar\r\n{\r\n\tmargin: 0 0 0 -4px;\r\n\theight:  auto;\r\n}\r\n/* .grid-top-toolbar .filter-box\r\n{\r\n\tmargin-right: 5px;\r\n} */\r\n\r\nux-dialog-body .grid-top-toolbar .filter-box {\r\n\tmargin-right: 0;\r\n}\r\n\r\n.grid-header\r\n{\r\n\tposition: relative;\r\n\tbackground-color: #F5F7F8;\r\n\tborder-bottom: 1px solid #E8E8E8;\r\n\tborder-top: 1px solid #E8E8E8;\r\n}\r\n/* .grid-header.scroll-margin\r\n{\r\n  padding-right: 17px;\r\n} */\r\n.grid-header i.arrow-down, .grid-header i.arrow-up\r\n{\r\n  position: absolute;\r\n  z-index: 10000;\r\n}\r\n.grid-header i.arrow-down\r\n{\r\n  top: 0px;\r\n  transform: translateY(-100%);\r\n}\r\n.grid-header i.arrow-up\r\n{\r\n  bottom: 0px;\r\n  transform: translateY(100%);\r\n}\r\n\r\n.grid-resize-handle\r\n{\r\n  position: absolute;\r\n  top: 0px; bottom: 0px;\r\n  left: -12px;\r\n  cursor: col-resize;\r\n  width: 12px;\r\n  z-index: 1000;\r\n}\r\n.grid-resize-area\r\n{\r\n  position: absolute;\r\n  top: 0px;\r\n  height: 100%;\r\n  width: 100%;\r\n  z-index: 20000;\r\n  cursor: col-resize;\r\n}\r\n.grid-resize-indicator\r\n{\r\n  width: 1px;\r\n  border: 1px black solid;\r\n  position: absolute;\r\n  height: 100%;\r\n}\r\n\r\n.grid-header .grid-header-table, .grid-content .grid-content-table\r\n{\r\n  table-layout: fixed;\r\n  width: 0px;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  border-collapse: separate;\r\n  border-width: 0px;\r\n  border-spacing: 0px;\r\n  outline: 0;\r\n  background-color: white;\r\n}\r\n\r\n.grid-header-table th:first-child {\r\n\tborder-left: none;\r\n}\r\n.grid-header-table th\r\n{\r\n  position: relative;\r\n  font-size: 13px;\r\n  color: rgba(0, 0, 0, 0.5);\r\n  font-weight: 700;\r\n  padding: 8px 4px;\r\n  overflow: hidden;\r\n  white-space: normal;\r\n  text-align: left;\r\n  vertical-align: top;\r\n  background-color: #F5F7F8;\r\n  border-left: 1px solid #E8E8E8;\r\n}\r\n\r\n.grid-header-table th:last-child\r\n{\r\n\tborder-right: 1px solid #E8E8E8;\r\n}\r\n\r\n.grid-header-table th:hover\r\n{\r\n  background-color: #E0E4E8;\r\n  color: RGBA(0, 0, 0, 0.87);\r\n  cursor: pointer;\r\n}\r\n\r\n.grid-header-table th.filtered\r\n{\r\n  background-color: var(--qp-highlight-color);\r\n}\r\n\r\n.grid-header-table th.col-header i.ac[fs-icon]\r\n{\r\n  position: absolute;\r\n  top: 6px; right: 4px;\r\n}\r\n.grid-header-table th.col-header.align-right i.ac[fs-icon]\r\n{\r\n  right: auto;\r\n  left: 0px;\r\n}\r\n.grid-header-table th.col-header i.ac[ch-icon]\r\n{\r\n\tposition: relative;\r\n\ttop: 1px;\r\n}\r\n\r\n.grid-header-table th .grid-header-text\r\n{\r\n  overflow: hidden;\r\n  margin-right: 15px;\r\n}\r\n.grid-header-table th.align-right .grid-header-text\r\n{\r\n\tmargin-right: 0px;\r\n\tmargin-left: 15px;\r\n}\r\n.grid-header-table th.required .grid-header-text\r\n{\r\n\tpadding-left: 7px;\r\n}\r\n.grid-header-table th.required .grid-header-text::before\r\n{\r\n\tcontent: "*";\r\n\tcolor: Red;\r\n\tfont-size: 13px;\r\n\tposition: absolute;\r\n\tmargin-left: -7px;\r\n}\r\n.grid-header-table.remove-required th.required .grid-header-text {\r\n\tpadding-left: 0px;\r\n}\r\n.grid-header-table.remove-required th.required .grid-header-text::before {\r\n\tmargin-left: 0;\r\n\tcontent: \'\';\r\n}\r\n\r\n.grid-header-wrap\r\n{\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.grid-header-table  .row-selector-col, .grid-content-table .row-selector-col\r\n{\r\n  width: 24px;\r\n}\r\n.grid-header-table  th.row-selector, .grid-content-table td.row-selector\r\n{\r\n  padding: 0px;\r\n  color: rgba(0, 0, 0, 0.54);\r\n  text-align: center;\r\n}\r\n.grid-header-table th.row-selector\r\n{\r\n\tpadding: 8px 2px;\r\n}\r\n\r\n.grid-header-table th qp-icon\r\n{\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n}\r\n/* .grid-content .grid-content-table qp-icon { } */\r\n\r\n/* .grid-content-table td.row-selector\r\n{\r\n  background-color: #F5F7F8 !important;\r\n  border-right: 1px solid #E0E4E8;\r\n} */\r\n\r\n.grid-content-table td.row-selector .cell-error-info\r\n{\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tbottom: 0px;\r\n\twidth: 3px;\r\n}\r\n.grid-content-table td.row-selector .cell-error-info[data-error-level="2"]\r\n{\r\n\r\n\tbackground-color: #FFB800;\r\n}\r\n.grid-content-table td.row-selector .cell-error-info[data-error-level="4"]\r\n{\r\n\tbackground-color: #EE4051;\r\n}\r\n\r\n.grid-content\r\n{\r\n\tposition: relative;\r\n\theight: 100%;\r\n\tmin-height: 100px;\r\n\t/* border: 1px solid #E0E4E8; */\r\n\tborder-top: none;\r\n}\r\n.grid-content qp-loader-indicator\r\n{\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: white;\r\n  opacity: 0.5;\r\n  z-index: 100;\r\n}\r\n.grid-content qp-loader-indicator > *\r\n{\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.grid-content-wrap\r\n{\r\n\toverflow-x: auto;\r\n\toverflow-y: auto;\r\n\tposition: absolute;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tbackground-color: white;\r\n}\r\n/* .grid:hover .grid-content-wrap {\r\n\toverflow-x: auto;\r\n} */\r\n\r\n\r\n.grid-content-table > tbody > tr > td\r\n{\r\n  position: relative;\r\n  line-height: var(--qp-grid-line-height);\r\n  min-height: var(--qp-grid-line-height);\r\n  border-bottom: 1px solid #E0E4E8;\r\n  border-bottom: 1px solid var(--activerow-color, #E0E4E8);\r\n  padding: 0px;\r\n  white-space: nowrap;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td .cell-content\r\n{\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\tpadding: 0 4px;\r\n\theight: var(--qp-grid-row-height);\r\n}\r\n.grid-content-table > tbody > tr > td:not([class*=qp-align-center]) .cell-content\r\n{\r\n\twidth: 100%;\r\n\toverflow: hidden;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.qp-align-right .cell-content\r\n{\r\n\t/* direction: rtl;  -- ... */\r\n\r\n\t/* height: var(----qp-grid-row-height); */\r\n\tbackground-color: inherit;\r\n\talign-items: flex-start;\r\n\tline-height: var(--qp-grid-row-height);\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.qp-align-right .cell-content span.text {\r\n\t/* text-overflow: ellipsis;   -- ... */\r\n\t/* overflow: hidden;   -- ... */\r\n\r\n\twhite-space: normal;\r\n\toverflow-wrap: anywhere;\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\tdisplay: block;\r\n\tmax-height: calc( var(--qp-grid-row-height) * 2 );\r\n\tbackground-color: inherit;\r\n\toverflow: hidden;\r\n}\r\n\r\n\r\n.grid-content-table > tbody > tr > td.qp-align-right .cell-content span.text::before {\r\n\t/* &lrm; U+200E Left-To-Right UTF mark in order to ensure that minus sign is on the left side */\r\n\t/* content: "\\200e"; -- ... */\r\n\r\n\tcontent: "###########";\r\n\tposition: absolute;\r\n\tbottom: var(--qp-grid-row-height);\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tbackground: white;\r\n\twhite-space: nowrap;\r\n\theight: calc( var(--qp-grid-row-height) );\r\n\tbackground-color: inherit;\r\n}\r\n\r\n.grid-content-table > tbody >  tr > td {\r\n\tbackground-color: var(--qp-row-color);\r\n}\r\n\r\n.grid-content-table > tbody >  tr.alt-row > td\r\n{\r\n\tbackground-color: var(--qp-altrow-color);\r\n\tborder-bottom: 1px solid var(--activerow-color, #E2E2E2);\r\n}\r\n\r\n\r\n.grid-content-table > tbody > tr > td.error\r\n{\r\n\tcolor: red;\r\n\t/* background-color: rgba(255, 0, 0, 0.17); */\r\n}\r\n.grid-content-table > tbody > tr > td.warning\r\n{\r\n\tcolor: brown;\r\n\t/* background-color: rgba(255, 193, 9, 0.2); */\r\n}\r\n.grid-content-table > tbody > tr:not([class*=edit]) > td.read-only i.ac,\r\n.grid-content-table > tbody > tr.edit > td.read-only .cell-content\r\n{\r\n\topacity: 0.5;\r\n}\r\n.grid-content-table > tbody > tr > td i.ac[err-icon]\r\n{\r\n\tposition: absolute;\r\n\tright: 2px;\r\n}\r\n.grid-content-table > tbody > tr > td i.ac.align-left[err-icon]\r\n{\r\n\tright: auto;\r\n\tleft: 2px;\r\n\tz-index: 1;\r\n\tline-height: var(--qp-grid-row-height);\r\n}\r\n\r\n.grid-content-table > tbody > tr.active > td\r\n{\r\n  background-color: var(--qp-highlight-color) !important;\r\n}\r\n.grid-content-table > tbody > tr.selected > td\r\n{\r\n\tbackground-color: #E0E4E8 !important;\r\n}\r\n.grid-content-table > tbody > tr.active > td.active\r\n{\r\n\tbackground-color: var(--qp-highlight-hover-color) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.edit .inline-editor\r\n{\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tbottom: 0px;\r\n\tleft: -5px;\r\n\tright: -5px;\r\n}\r\n.grid-content-table > tbody > tr > td.edit .inline-editor.marker\r\n{\r\n\tleft: -0px;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.edit:not(:last-child) .inline-editor.qp-drop-down-inline,\r\n.grid-content-table > tbody > tr > td.edit:not(:last-child) .inline-editor.qp-datetime-edit-inline,\r\n.grid-content-table > tbody > tr > td.edit:not(:last-child) .inline-editor.qp-selector-inline\r\n{\r\n\tright: -28px;\r\n\tleft: -5px;\r\n}\r\n.grid-content-table > tbody > tr > td.edit .inline-editor .control-wrapper\r\n{\r\n\tbackground-color: white;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td a {\r\n\tcolor: var(--qp-primary-color);\r\n\ttext-decoration-line: none;\r\n}\r\n.grid-content-table > tbody > tr > td a:hover {\r\n\ttext-decoration-line: underline;\r\n}\r\n\r\n\r\n.grid-pager\r\n{\r\n\tdisplay: flex;\r\n\tborder-top: 1px solid #E8E8E8;\r\n}\r\n.grid-pager div.qp-tool-bar\r\n{\r\n\tmargin: 0px;\r\n\theight:  auto;\r\n\tflex-direction: row-reverse;\r\n}\r\n.grid-pager .records-counter, .grid-pager .status-text\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0 10px;\r\n\tmin-height: 36px;\r\n}\r\n.grid-pager .pager-bars-cont\r\n{\r\n\tdisplay: flex;\r\n\tflex: 1;\r\n\tjustify-content: flex-end;\r\n}\r\n.grid-pager .pager-bars-cont qp-tool-bar\r\n{\r\n\tflex-grow: 0;\r\n}\r\n\r\n/* ------------- Filter button styles --------------- */\r\n.grid-right-toolbar-cont button.qp-button\r\n{\r\n\tmin-width: 36px;\r\n}\r\n.grid-right-toolbar-cont .grid-filter-button button.qp-button\r\n{\r\n\tbackground-color: transparent;\r\n}\r\n.grid-right-toolbar-cont .grid-filter-button  button.qp-button span.text\r\n{\r\n\tcolor: var(--qp-primary-color);\r\n}\r\n\r\n.grid-right-toolbar-cont .grid-filter-button button.qp-button:not([disabled]):hover,\r\n.grid-right-toolbar-cont .grid-filter-button button.qp-button.pushed\r\n{\r\n\tbackground-color: rgba(0, 0, 0, 0.06);\r\n}\r\n.grid-right-toolbar-cont .grid-filter-button button.qp-button.pushed:not([disabled]):hover\r\n{\r\n\tbackground-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.qp-tool-bar .qp-tool-bar-item.qp-toggle-pushed.grid-filter-button.has-filter .qp-tool-bar-button,\r\n.grid-right-toolbar-cont .grid-filter-button.has-filter button.qp-button.pushed\r\n{\r\n\tbackground-color: var(--qp-highlight-color);\r\n}\r\n.qp-tool-bar .qp-tool-bar-item.grid-filter-button.has-filter svg,\r\n.grid-right-toolbar-cont .grid-filter-button.has-filter svg\r\n{\r\n\tfill: var(--qp-primary-color);\r\n}\r\n\r\n/* ------------- Custom styles for the grid cells --------------- */\r\n.grid-content-table > tbody > tr > td.bad, .grid-content-table tr.bad > td\r\n{\r\n\tbackground-color: RGBA(255,140,155,0.5) !important;\r\n\tcolor: #9c2d75 !important;\r\n\tborder-bottom-color: RGBA(255,140,155,0.5) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.good, .grid-content-table tr.good > td\r\n{\r\n\tbackground-color: RGBA(156,237,171, 0.5) !important;\r\n\tcolor: #007b74 !important;\r\n\tborder-bottom-color: RGBA(156,237,171, 0.5) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.neutral, .grid-content-table tr.neutral > td\r\n{\r\n\tbackground-color: RGBA(255,216,79, 0.5) !important;\r\n\tcolor: #9c7258 !important;\r\n\tborder-bottom-color:  RGBA(255,216,79, 0.5) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.bold, .grid-content-table tr.bold > td\r\n{\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.italic, .grid-content-table tr.italic > td\r\n{\r\n\tfont-style: italic;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.red, .grid-content-table tr.red > td\r\n{\r\n\tcolor: white !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(255, 0, 0, 0.9) !important;\r\n\tborder-bottom-color: rgba(255, 0, 0, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.red60, .grid-content-table tr.red60 > td\r\n{\r\n\tbackground-color: rgba(255, 0, 0, 0.6) !important;\r\n\tborder-bottom-color: rgba(255, 0, 0, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.red40, .grid-content-table tr > td.red40\r\n{\r\n\tbackground-color: rgba(255, 0, 0, 0.4) !important;\r\n\tborder-bottom-color: rgba(255, 0, 0, 0.4) !important;\r\n}\r\n\r\n.grid-content-table  > tbody > tr > td.red20, .grid-content-table tr.red20 > td\r\n{\r\n\tbackground-color: rgba(255, 0, 0, 0.2) !important;\r\n\tborder-bottom-color: rgba(255, 0, 0, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.red0, .grid-content-table tr.red0 > td\r\n{\r\n\tcolor: rgba(255, 0, 0, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange, .grid-content-table tr.orange > td\r\n{\r\n\tcolor: white;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(255, 140, 0, 0.9) !important;\r\n\tborder-bottom-color: rgba(255, 140, 0, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange60, .grid-content-table tr.orange60 > td\r\n{\r\n\tbackground-color: rgba(255, 140, 0, 0.6) !important;\r\n\tborder-bottom-color: rgba(255, 140, 0, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange40, .grid-content-table tr.orange40 > td\r\n{\r\n\tbackground-color: rgba(255, 140, 0, 0.4) !important;\r\n\tborder-bottom-color: rgba(255, 140, 0, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange20, .grid-content-table tr.orange20 > td\r\n{\r\n\tbackground-color: rgba(255, 140, 0, 0.2) !important;\r\n\tborder-bottom-color: rgba(255, 140, 0, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange0, .grid-content-table tr.orange0 > td\r\n{\r\n\tcolor: rgba(255, 140, 0, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green, .grid-content-table tr.green > td\r\n{\r\n\tcolor: white !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(112, 173, 71, 0.9) !important;\r\n\tborder-bottom-color: rgba(112, 173, 71, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green60, .grid-content-table tr.green60 > td\r\n{\r\n\tbackground-color: rgba(112, 173, 71, 0.6) !important;\r\n\tborder-bottom-color: rgba(112, 173, 71, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green40, .grid-content-table tr.green40 > td\r\n{\r\n\tbackground-color: rgba(112, 173, 71, 0.4) !important;\r\n\tborder-bottom-color: rgba(112, 173, 71, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green20, .grid-content-table tr.green20 > td\r\n{\r\n\tbackground-color: rgba(112, 173, 71, 0.2) !important;\r\n\tborder-bottom-color: rgba(112, 173, 71, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green0, .grid-content-table tr.green0 > td\r\n{\r\n\tcolor: rgba(112, 173, 71, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue, .grid-content-table tr.blue > td\r\n{\r\n\tcolor: white !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(91, 155, 213, 0.9) !important;\r\n\tborder-bottom-color: rgba(91, 155, 213, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue60, .grid-content-table tr.blue60 > td\r\n{\r\n\tbackground-color: rgba(91, 155, 213, 0.6) !important;\r\n\tborder-bottom-color: rgba(91, 155, 213, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue40, .grid-content-table tr.blue40 > td\r\n{\r\n\tbackground-color: rgba(91, 155, 213, 0.4) !important;\r\n\tborder-bottom-color: rgba(91, 155, 213, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue20, .grid-content-table tr.blue20 > td\r\n{\r\n\tbackground-color: rgba(91, 155, 213, 0.2) !important;\r\n\tborder-bottom-color: rgba(91, 155, 213, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue0, .grid-content-table tr.blue0 > td\r\n{\r\n\tcolor: rgba(91, 155, 213, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow, .grid-content-table tr.yellow > td\r\n{\r\n\tcolor: black !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(255, 255, 0, 0.9) !important;\r\n\tborder-bottom-color: rgba(255, 255, 0, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow60, .grid-content-table tr.yellow60 > td\r\n{\r\n\tbackground-color: rgba(255, 255, 0, 0.6) !important;\r\n\tborder-bottom-color: rgba(255, 255, 0, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow40, .grid-content-table tr.yellow40 > td\r\n{\r\n\tbackground-color: rgba(255, 255, 0, 0.4) !important;\r\n\tborder-bottom-color: rgba(255, 255, 0, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow20, .grid-content-table tr.yellow20 > td\r\n{\r\n\tbackground-color: rgba(255, 255, 0, 0.2) !important;\r\n\tborder-bottom-color: rgba(255, 255, 0, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow0, .grid-content-table tr.yellow0 > td\r\n{\r\n\tcolor: rgba(255, 255, 0, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple, .grid-content-table tr.purple > td\r\n{\r\n\tcolor: white !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(128, 0, 128, 0.9) !important;\r\n\tborder-bottom-color: rgba(128, 0, 128, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple60, .grid-content-table tr.purple60 > td\r\n{\r\n\tbackground-color: rgba(128, 0, 128, 0.6) !important;\r\n\tborder-bottom-color: rgba(128, 0, 128, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple40, .grid-content-table tr.purple40 > td\r\n{\r\n\tbackground-color: rgba(128, 0, 128, 0.4) !important;\r\n\tborder-bottom-color: rgba(128, 0, 128, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple20, .grid-content-table tr.purple20 > td\r\n{\r\n\tbackground-color: rgba(128, 0, 128, 0.2) !important;\r\n\tborder-bottom-color: rgba(128, 0, 128, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple0, .grid-content-table tr.purple0 > td\r\n{\r\n\tcolor: rgba(128, 0, 128, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n',""]),e.exports=o},"client-controls/controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".inline-screen-dialog {\r\n\theight: 100%;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/inline-screen/qp-inline-screen.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".inline-screen,\r\n.inline-screen compose {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n}\r\n\r\n.inline-screen__iframe {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,":root {\r\n\t--control-hover-background: rgba(0, 0, 0, 0.07);\r\n\t--control-text-color: #1B1B1B;\r\n\t--control-shadow-color: rgba(115, 115, 115, 0.7);\r\n\t--control-thumb-color: rgba(0, 0, 0, 0.15);\r\n\t--control-thumb-border-color: white;\r\n\t--control-thumb-hover-color: rgba(0, 0, 0, 0.40);\r\n\t--control-track-color: transparent;\r\n\t--control-border-color: rgba(0, 0, 0, 0.09);\r\n\t--control-border-radius: 6px;\r\n\t--control-toolbar-hover-background: rgba(0, 0, 0, 0.06);\r\n\t--control-toolbar-pushed-background: rgb(236, 237, 240);\r\n\t--control-disabled-opacity: 0.26;\r\n\t--control-toolbar-item-opacity: 1;\r\n\t--control-toolbar-item-hover-opacity: 1;\r\n\t--control-toolbar-gap: 4px;\r\n\t--control-toolbar-item-height: var(--input-height, 32px);\r\n}\r\n\r\nqp-control-bar {\r\n\tdisplay: block;\r\n}\r\n\r\n.qp-control-bar {\r\n\theight: unset;\r\n\twidth: 100%;\r\n\tcolor: var(--control-text-color);\r\n}\r\n\r\n.qp-control-bar qp-layout {\r\n\t--layout-column-gap: 0px;\r\n\t--layout-row-gap: 4px;\r\n\t--layout-column-count: 4;\r\n}\r\n\r\n.qp-control-bar-item-container {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n}\r\n\r\n.qp-control-bar-item {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n\tmargin: 0px;\r\n\tmargin-right: var(--control-toolbar-gap);\r\n\tpadding: 0px;\r\n\theight: var(--control-toolbar-item-height);\r\n\topacity: var(--control-toolbar-item-opacity);\r\n}\r\n\r\n.qp-control-bar-item:hover {\r\n\topacity: var(--control-toolbar-item-hover-opacity);\r\n}\r\n\r\n.qp-control-bar-item > .qp-control-bar-control {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-control-bar svg,\r\n.qp-control-bar-item svg {\r\n\tmax-width: 18px;\r\n\tmax-height: 18px;\r\n}\r\n\r\n.qp-control-bar .rte-icon,\r\n.qp-control-bar-item .rte-icon {\r\n\tmax-height: 16px;\r\n}\r\n\r\n.qp-control-bar qp-hyper-icon,\r\n.qp-control-bar-item qp-hyper-icon {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-control-bar-item .qp-menu {\r\n\tdisplay: inline-flex;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-control-bar-item .qp-menu-options .qp-menu-item:hover {\r\n\tbackground-color: var(--control-hover-background);\r\n\tcolor: var(--control-text-color);\r\n}\r\n\r\n.qp-control-bar-item qp-menu .qp-menu-options {\r\n\tpadding-top: 8px;\r\n\tpadding-bottom: 8px;\r\n}\r\n\r\n.qp-control-bar-item qp-menu .qp-menu-options .qp-menu-item {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n\tmin-height: 18px;\r\n\tline-height: 18px;\r\n\topacity: 0.87;\r\n\tpadding: 8px 16px;\r\n}\r\n\r\n.qp-control-bar-item .qp-menu>button,\r\n.qp-control-bar-item .qp-menu-color-picker>button\r\n {\r\n\theight: 100%;\r\n\tline-height: unset;\r\n\tpadding-top: 0px;\r\n\tpadding-bottom: 0px;\r\n}\r\n\r\n.qp-control-bar-item .qp-menu-action-button,\r\n.qp-control-bar-item .qp-menu-color-picker-action-button {\r\n\tpadding: 0px 10px;\r\n}\r\n\r\n.qp-control-bar-item .qp-menu>.qp-menu-action-opener {\r\n\tmargin: 0px;\r\n\twidth: 16px;\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\tpadding: 0px;\r\n}\r\n\r\n.qp-control-bar-item .qp-control-bar-button {\r\n\tbackground-color: transparent;\r\n\tpadding: 0px;\r\n\tborder-radius: var(--control-border-radius);\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 8px;\r\n}\r\n\r\n.qp-control-bar-item .qp-control-bar-button:hover {\r\n\tbackground-color: var(--control-toolbar-hover-background) !important;\r\n}\r\n\r\n.qp-control-bar-item .qp-control-bar-button.disabled {\r\n\topacity: var(--control-disabled-opacity);\r\n\tcursor: default;\r\n\tbackground-color: inherit;\r\n\tcolor: inherit;\r\n}\r\n\r\n.qp-control-bar-item .qp-control-bar-button.disabled:hover {\r\n\tbackground-color: unset;\r\n}\r\n\r\n.qp-control-bar-item .qp-control-bar-button qp-hyper-icon + .qp-tool-bar-text {\r\n\tmargin-left: 8px;\r\n}\r\n\r\n\r\n.qp-control-bar-item .qp-control-bar-button.qp-toggle-pushed {\r\n\tbackground-color: var(--control-toolbar-pushed-background);\r\n}\r\n\r\n.qp-control-bar-item .qp-control-bar-button.qp-toggle-released {\r\n\tbackground-color: unset;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__editor {\r\n\tbackground-color: unset;\r\n\tborder-width: 0px;\r\n\toutline-width: 0px;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__editor:hover {\r\n\tbackground-color: var(--control-toolbar-hover-background);\r\n}\r\n\r\n.qp-control-bar-item .disabled .drop-down__editor:hover {\r\n\tbackground-color: inherit;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__editor.focus {\r\n\tborder-width: 0px;\r\n\tbox-shadow: unset;\r\n\tbackground-color: var(--control-toolbar-hover-background);\r\n}\r\n\r\n.qp-control-bar-item .drop-down__editor .drop-down__text {\r\n\theight: unset;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__editor .editorCont .editorWrap {\r\n\ttext-align: left;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane {\r\n\tbox-shadow: 0px 0px 16px var(--control-shadow-color);\r\n\tpadding-top: 8px;\r\n\tpadding-bottom: 8px;\r\n\tborder-radius: var(--control-border-radius);\r\n\tmax-height: 400px;\r\n\tcursor: auto;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane::-webkit-scrollbar {\r\n\tbackground-color: var(--control-track-color);\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane::-webkit-scrollbar-thumb {\r\n\tbackground-color: var(--control-thumb-color);\r\n\tborder: 4px solid var(--control-thumb-border-color);\r\n\tborder-radius: 8px;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane::-webkit-scrollbar-thumb:hover {\r\n\tbackground-color: var(--control-thumb-hover-color);\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane::-webkit-scrollbar-track {\r\n\tbackground-color: var(--control-track-color);\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane .drop-down__option {\r\n\tmin-height: 18px;\r\n\tline-height: 16px;\r\n\topacity: 0.87;\r\n\tpadding: 8px 16px;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane .drop-down__option:hover,\r\n.qp-control-bar-item .drop-down__options-pane .drop-down__option.ddSelection {\r\n\tbackground-color: var(--control-toolbar-hover-background);\r\n\tcolor: var(--control-text-color);\r\n}\r\n\r\n.qp-control-bar-item .drop-down__editor.ReadOnly {\r\n\topacity: var(--control-disabled-opacity);\r\n}\r\n\r\n.qp-control-bar-item .qp-tool-bar-splitter {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-control-bar-item .qp-tool-bar-splitter .splitter {\r\n\tdisplay: block;\r\n\theight: 24px;\r\n\tborder-color: var(--control-border-color);\r\n\tborder-left-width: 1px;\r\n\tborder-left-style: solid;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/rich-text-editor/qp-rich-text-editor.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-rich-text-editor {\r\n\t--control-border-color: rgba(0, 0, 0, 0.09);\r\n\r\n\tdisplay: block;\r\n}\r\n\r\n.qp-rte-control {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tbox-sizing: border-box;\r\n\theight: 100%;\r\n\toutline: 0px;\r\n\tborder-width: 1px;\r\n\tborder-style: solid;\r\n\tborder-color: rgba(0, 0, 0, 0.09);\r\n}\r\n\r\nqp-tab.no-padding .qp-rich-text-editor.stretch .qp-rte-control {\r\n\tborder-top-width: 0px;\r\n}\r\n\r\n.qp-rte-body {\r\n\t--content-padding: 16px;\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tbackground-color: white;\r\n}\r\n\r\n.qp-rte-body > * {\r\n\tbox-sizing: border-box;\r\n\tflex-grow: 1;\r\n\tborder: 0px;\r\n\toutline: 0px;\r\n}\r\n\r\n.qp-rte-toolbar {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n\tpadding: 12px;\r\n\twidth: 100%;\r\n\toverflow: hidden;\r\n\tbox-sizing: border-box;\r\n\tbackground-color: rgba(245, 247, 249, 1);\r\n}\r\n\r\n.qp-rte-toolbar.main {\r\n\tborder-width: 0px 0px 1px 0px;\r\n\tborder-style: solid;\r\n\tborder-color: var(--control-border-color);\r\n}\r\n\r\n.qp-rte-toolbar > * {\r\n\tflex: 1;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-rte-toolbar .qp-control-bar-panel {\r\n\tflex: 0 0 auto;\r\n}\r\n\r\n.qp-rte-control-readonly {\r\n\tborder: none;\r\n}\r\n\r\n.qp-rte-control-readonly .qp-rte-toolbar {\r\n\tpadding: 0;\r\n\tborder: none;\r\n}\r\n\r\n.qp-rte-control-readonly .qp-rte-body {\r\n\t--content-padding: 0px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/side-panel/qp-side-panel.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,":root {\r\n\t/* TODO: get rid of local variables, use unprefixed */\r\n\t--side-panel-highlight-color: #CCE5F5;\r\n\t--side-panel-hovered-background: #E0E0E0;\r\n}\r\n\r\n.qp-side-panel {\r\n\tdisplay: flex;\r\n\tmax-height: 100%;\r\n\tborder-left: 1px solid var(--qp-border-color);\r\n\tflex: 1 auto;\r\n}\r\n\r\n.qp-side-panel--expanded {\r\n\tmin-width: 402px;\r\n\tflex: 1 auto;\r\n}\r\n\r\n.qp-side-panel--maximized {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: fixed;\r\n\tright: 0;\r\n\tbackground: #FFFFFF;\r\n\tborder-left: none;\r\n}\r\n\r\n.qp-side-panel__menu {\r\n\twidth: 80px;\r\n\tflex-shrink: 0;\r\n\tflex-grow: 0;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tborder-right: 1px solid var(--qp-border-color);\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.qp-side-panel__menu-item {\r\n\tlist-style: none;\r\n\tpadding: 13px 7px;\r\n\tcolor: var(--qp-primary-color);\r\n\tborder-width: 1px 2px 1px 5px;\r\n\tborder-style: solid;\r\n\tborder-color: transparent;\r\n\ttext-align: center;\r\n\tmargin-right: -1px;\r\n\toverflow-x: hidden;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-side-panel__menu-item:first-child {\r\n\tborder-top: none;\r\n}\r\n\r\n.qp-side-panel__menu-item:not(.qp-side-panel__menu-item--active):hover {\r\n\tbackground-color: var(--side-panel-hovered-background);\r\n}\r\n\r\n.qp-side-panel__menu-item--active {\r\n\tborder-right-color: #FFFFFF;\r\n\tborder-left-color: var(--side-panel-highlight-color);\r\n\tborder-top-color: var(--qp-border-color);\r\n\tborder-bottom-color: var(--qp-border-color);\r\n}\r\n\r\n.qp-side-panel__menu-item-icon {\r\n\tfont-size: 26px;\r\n}\r\n\r\n.qp-side-panel__menu-item-label {\r\n\tdisplay: block;\r\n\tfont-size: 10px;\r\n\topacity: 0.8;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: normal;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-side-panel__toggler {\r\n\tlist-style: none;\r\n\theight: 36px;\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n\tmargin-top: auto;\r\n}\r\n\r\n.qp-side-panel__toggler:before {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\twidth: 8px;\r\n\theight: 8px;\r\n\tborder-top: 2px solid gray;\r\n\tborder-right: 2px solid gray;\r\n\tposition: absolute;\r\n\tleft: 50%; top: 50%;\r\n\ttransform: translate(-45%, -50%) rotate(-135deg);\r\n}\r\n\r\n.qp-side-panel--expanded .qp-side-panel__toggler:before {\r\n\ttransform: translate(-55%, -50%) rotate(45deg);\r\n}\r\n\r\n.qp-side-panel__toggler:hover:before {\r\n\tborder-color: black;\r\n}\r\n\r\n.qp-side-panel__screen {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmax-width: 100%;\r\n\tmin-width: 320px;\r\n\tflex: 1 auto;\r\n\toverflow: hidden;\r\n\r\n\tcontainer-type: inline-size;\r\n\tcontainer-name: qp-screen;\r\n}\r\n\r\n.qp-side-panel__screen-scroller {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex: 1 auto;\r\n\toverflow-x: hidden;\r\n\tpadding-left: 10px;\r\n\tpadding-right: 4px;\r\n}\r\n\r\n.qp-side-panel__screen-header {\r\n\tposition: relative;\r\n\tpadding: 10px 150px 10px 10px;\r\n\tmargin-bottom: 5px;\r\n\tmin-height: 34px;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n@container qp-screen (max-width: 400px) { /* SM */\r\n\t.qp-side-panel__screen-header {\r\n\t\tpadding-right: 0;\r\n\t\tpadding-top: 35px;\r\n\t}\r\n}\r\n\r\n.qp-side-panel__screen-header-controls {\r\n\tposition: absolute;\r\n\tright: 10px;\r\n\ttop: 5px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-side-panel__screen-header-controls #pnlNote qp-button span {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-side-panel__screen-header-controls #pnlFiles qp-button span {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-side-panel__screen-control-button {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tmargin-left: 5px;\r\n\tborder: none;\r\n\tbackground: none;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-side-panel__scree-header-icon {\r\n\topacity: 0.7;\r\n}\r\n\r\n.qp-side-panel__screen-control-button:hover .qp-side-panel__scree-header-icon {\r\n\topacity: 1;\r\n}\r\n\r\n.qp-side-panel__scree-header-icon--notes {\r\n\twidth: 21px;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-side-panel__scree-header-icon--files {\r\n\twidth: 22px;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-side-panel__scree-header-icon--maximizer {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.qp-side-panel__screen-caption {\r\n\tfont-size: 15px;\r\n\topacity: 0.5;\r\n}\r\n\r\n.qp-side-panel__screen-message {\r\n\tfont-size: 19px;\r\n\tmargin-top: 0.25em;\r\n}\r\n\r\n.qp-side-panel__content {\r\n\tflex: 1 auto;\r\n}\r\n\r\n.qp-side-panel__collapsible-anchor .qp-collapser.toggle {\r\n\tmargin: 0 3px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/system-menu/qp-sys-menu.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-sys-menu {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: flex-end;\r\n\talign-items: center;\r\n}\r\n\r\nqp-sys-menu .qp-menu {\r\n\topacity: 0.87;\r\n}\r\n\r\nqp-sys-menu qp-button button.qp-button {\r\n    background-color: white;\r\n    border: none;\r\n}\r\n.qp-system-menu {\r\n\tz-index: 1;\r\n\tmargin-left: 8px;\r\n}\r\n\r\nqp-sys-menu button.qp-button qp-icon {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tvertical-align: bottom;\r\n\tdisplay: inline-block;\r\n}\r\n\r\nqp-sys-menu button.qp-button qp-icon {\r\n\tfill: #000000;\r\n\tcolor: #FFD800;\r\n}\r\n\r\n.files-dialog-grid {\r\n\theight: 450px;\r\n}\r\n#business_grid {\r\n\theight: 100%;\r\n}\r\n\r\n.files-dialog-grid qp-filter-box, .files-dialog-grid .qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button.disabled {\r\n\tdisplay: none;\r\n}\r\n\r\n.activities-table {\r\n    table-layout: fixed;\r\n    border-collapse: collapse;\r\n    width: 100%;\r\n    cursor: default;\r\n}\r\n.activities-table td {\r\n    padding: 5px 3px;\r\n    cursor: default;\r\n}\r\n.activities-table tr {\r\n    border-bottom: 1px solid LightGrey;\r\n}\r\n\r\n.activities-table tr.unread {\r\n    font-weight: bold;\r\n}\r\n.activities-table .activity__icon {\r\n    width:5%;\r\n\r\n}\r\n.activities-table .activity__datestart {\r\n    width:20%;\r\n}\r\n.activities-table .activity__title {\r\n    width: 60%;\r\n}\r\n.activities-table .activity__duration {\r\n    width: 15%;\r\n}\r\n.activities-table .activity__datestart,\r\n.activities-table .activity__duration {\r\n    color: red;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n.designMode .qp-field:hover .selector,\r\n.designMode .qp-field:hover .qp-text-editor,\r\n.designMode .qp-field:hover .editor input,\r\n.designMode .qp-field:hover .editor,\r\n.designMode .qp-field:hover .dropDown,\r\n.designMode .qp-field:hover .toolsBtn,\r\n.designMode .qp-field:hover .branch-selector__editor,\r\n.designMode .qp-field:hover .drop-down__editor\r\n{\r\n\tbox-shadow: inset 0px 0px 2px 0px #007ACC;\r\n\tbox-shadow: inset 0px 0px 2px 0px var(--primary-color, #007ACC);\r\n\tcursor: help !important;\r\n}\r\n.designMode .qp-field:hover .branch-selector__editor input,\r\n.designMode .qp-field:hover .branch-selector__button,\r\n.designMode .qp-field:hover .editor button\r\n{\r\n\tcursor: help !important;\r\n}\r\n\r\n.designMode .qp-field:hover .controlCont,\r\n.designMode .qp-field:hover .qp-checkbox,\r\n.designMode .qp-field:hover .editor,\r\n.designMode .qp-field:hover .dropDown,\r\n.designMode .qp-field:hover .toolsBtn,\r\n.designMode .qp-field:hover .branch-selector__editor,\r\n.designMode .qp-field:hover .qp-text-editor,\r\n.designMode .qp-field:hover .drop-down__editor\r\n{\r\n\tborder-color: #007ACC;\r\n\tborder-color: var(--primary-color, #007ACC);\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.designMode .qp-field:hover .qp-checkbox,\r\n.designMode .col-header:hover\r\n{\r\n\tbox-shadow: inset 0px 0px 2px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 2px 1px var(--primary-color, #007ACC);\r\n\tcursor: help !important;\r\n}\r\n\r\n.designMode,\r\n.designMode .toolBtnNormal:hover,\r\n.designMode .toolBtnDisabled:hover,\r\n.designMode label:hover,\r\n.designMode qp-grid:hover,\r\n.designMode .FormView:hover\r\n{\r\n\tcursor: help !important;\r\n}\r\n.popup-input{\r\n\twidth: 100%;\r\n\tmin-height:250px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/compound/tree/qp-tree.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'qp-tree {\r\n    display: block;\r\n}\r\n\r\n.v-stack > qp-tree {\r\n\tflex: 1 auto;\r\n\tmin-height: 0;\r\n}\r\n\r\n.tree-root {\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\nqp-tree table {\r\n    border: none;\r\n}\r\nqp-tree qp-text-editor input {\r\n\twidth: 100%;\r\n}\r\n.tree-container {\r\n\toverflow-y: hidden;\r\n\toverflow-x: auto;\r\n\tmin-height: 100%;\r\n\tdisplay: block;\r\n}\r\n.tree-container.scroll-padding {\r\n\tmargin-bottom: 5px;\r\n}\r\n.tree-container::-webkit-scrollbar, .tree-table-wrap::-webkit-scrollbar {\r\n\twidth: 8px;\r\n\theight: 8px;\r\n\tbackground: transparent;\r\n}\r\n.tree-container::-webkit-scrollbar-thumb, .tree-table-wrap::-webkit-scrollbar-thumb {\r\n\tbackground: rgba(0, 0, 0, 0.15);\r\n\twidth: 8px;\r\n\tborder-radius: 8px;\r\n}\r\n\r\n.tree-table-container {\r\n\tmin-height: 100px;\r\n\twhite-space: nowrap;\r\n\toverflow: auto;\r\n\tflex: 1 auto;\r\n}\r\n\r\n.tree-table-container.has-size {\r\n\tposition: absolute;\r\n}\r\n\r\n.tree-table-wrap {\r\n\toverflow: auto;\r\n\tposition: relative;\r\n\theight: 100%;\r\n}\r\n.tree-table-wrap.hidden {\r\n\tvisibility: hidden;\r\n}\r\n\r\n.tree-flex {\r\n    align-items: center;\r\n    display: flex;\r\n\twidth: 100%;\r\n\tmin-width: 0;\r\n\tflex: 1;\r\n}\r\n\r\n.tree-main-toolbar {\r\n\tflex: 0 auto;\r\n    padding: 5px 0px 12px;\r\n    flex-direction: row;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: end;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.tree-main-toolbar__caption {\r\n\tflex: 1 50%;\r\n\tmargin: 7px 0;\r\n\tpadding-right: 20px;\r\n\tfont-size: 15px;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.tree-main-toolbar__caption--wide {\r\n\tflex-basis: 100%;\r\n}\r\n\r\n.filter-box.tree-main-toolbar__filter-box {\r\n\tflex: 1 50%;\r\n\twidth: auto;\r\n\tmin-width: 100px;\r\n}\r\n\r\n.tree-main-toolbar qp-button {\r\n\tbackground-color: #28a745;\r\n\tcolor: #fff;\r\n\tmargin: 3px 0px;\r\n\tleft: 0px;\r\n    position: absolute;\r\n}\r\n\r\n.tree-main-toolbar qp-button button {\r\n\tbackground-color: inherit;\r\n\tcolor: inherit;\r\n\tborder: 0px;\r\n\theight: 30px;\r\n\tline-height: 20px;\r\n\tpadding: 5px 10px;\r\n\topacity: 1;\r\n\tfont-family: Arial, "Helvetica Neue", Helvetica, sans-serif !important;\r\n}\r\n.tree-container .optional-item input.qp-text-editor[enabled="false"] {\r\n\tborder-width: 0px;\r\n}\r\n\r\n.tree-main-toolbar div.qp-tool-bar {\r\n\tmargin: 0 0 0 -4px;\r\n\theight: auto;\r\n}\r\n\r\n.tree-main-toolbar__toolbar-container {\r\n\tmargin-top: 2px;\r\n\tmax-width: 50%;\r\n}\r\n\r\n.tree-main-toolbar__toolbar-container--wide {\r\n\tmax-width: 100%;\r\n}\r\n\r\n.optional-item input.qp-text-editor[enabled="false"] {\r\n\tborder-width: 0px;\r\n}\r\n.tree-main-toolbar qp-button button:not([disabled]):hover,\r\n.tree-main-toolbar qp-button button.pushed {\r\n\tbackground-color: rgba(0, 0, 0, 0.1) !important;\r\n}\r\n\r\n.tree-text .selected {\r\n    background-color: orange;\r\n}\r\n\r\n.tree-checkbox {\r\n\tpadding: 4px 7px;\r\n}\r\n\r\n.tree-checkbox input {\r\n    accent-color: var(--primary-color, #007ACC);\r\n    border: 1px solid rgba(0, 0, 0, 0.19);\r\n    border-radius: 2px;\r\n    margin: 0px;\r\n    padding: 0px;\r\n}\r\n\r\n.tree-checkbox div {\r\n    border-radius: 2px;\r\n}\r\n\r\n.tree-checkbox .indeterminate {\r\n    background-color: white;\r\n    border: 1px solid var(--primary-color, #007ACC);\r\n}\r\n\r\n.tree-checkbox .indeterminate>.inside {\r\n    width: 8px;\r\n    height: 8px;\r\n    background-color: var(--primary-color, #007ACC);\r\n    margin: 3px;\r\n}\r\n\r\n.tree-checkbox input[type="checkbox"]:focus {\r\n    box-shadow: 0px 0px 0px rgba(115, 115, 115, 0.5);\r\n}\r\n\r\n.tree-open {\r\n    cursor: pointer;\r\n    width: 16px;\r\n\tmargin: 2px 0 2px 7px;\r\n\tfont-size: 16px;\r\n\ttext-align: center;\r\n}\r\n\r\n.tree-dragged {\r\n    cursor: grabbing;\r\n}\r\n.tree-row {\r\n\tdisplay: flex;\r\n\theight: var(--qp-input-height);\r\n\talign-items: center;\r\n}\r\n\r\n.empty-tree-search {\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\ttranslate: -50%;\r\n\tposition: absolute;\r\n\tfont-weight: bold;\r\n\tfont-size: 15px;\r\n\tcolor: rgba(0, 0, 0, 0.54);\r\n}\r\n\r\n.tree-node.hidden {\r\n    display: none;\r\n}\r\n\r\n.tree-node-hidden {\r\n    display: none;\r\n}\r\n\r\n.tree-node.draggable {\r\n    cursor: grab;\r\n}\r\n\r\n.tree-node:hover, .tree-node:hover .tree-sticky-column {\r\n    background-color: rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.tree-node:hover .tree-toolbar {\r\n    visibility: visible;\r\n}\r\n.tree-node-selected, .tree-node-selected .tree-sticky-column  {\r\n\tbackground-color: rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.tree-node-icon {\r\n\tpadding-right: 4px;\r\n\theight: auto;\r\n\tline-height: 0;\r\n\tmargin-top: 2px;\r\n\tmargin-left: 7px;\r\n}\r\n\r\n.tree-text-input {\r\n    border: 2px solid #027ACC;\r\n    box-sizing: border-box;\r\n    border-radius: 6px;\r\n    height: 26px;\r\n    width: 100%;\r\n    margin: -2px;\r\n}\r\n\r\n.tree-text-input.hidden {\r\n    display: none;\r\n}\r\n\r\n.tree-text {\r\n    margin-left: 7px;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    user-select: none;\r\n\ttext-overflow: ellipsis;\r\n}\r\nspan.tree-text, .tree-text span {\r\n    font-size: 14px;\r\n}\r\n\r\n.tree-edit-buttons {\r\n    display: none;\r\n    background-color: white;\r\n    padding: 6px;\r\n    position: absolute;\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 5px;\r\n    position: fixed;\r\n    z-index: 100;\r\n}\r\n\r\n.tree-edit-buttons>div {\r\n    display: block;\r\n    padding: 6px;\r\n}\r\n\r\n.tree-node-drag, .tree-node-drag td {\r\n    background-color: #D7EFFF;\r\n}\r\n\r\n.tree-toolbar {\r\n    user-select: none;\r\n    padding: 0px 4px;\r\n    cursor: pointer;\r\n}\r\n\r\n.tree-toolbar .tree-header:not(.hidden) {\r\n    visibility: hidden;\r\n}\r\n.tree-header {\r\n    display: flex;\r\n    align-items: baseline;\r\n    justify-content: flex-end;\r\n}\r\n.tree-toolbar svg {\r\n    max-height: 16px;\r\n    max-width: 16px;\r\n}\r\n\r\n.tree-toolbar>div {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    flex-direction: column;\r\n    position: absolute;\r\n    padding: 8px 20px;\r\n    background: #FFFFFF;\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 5px;\r\n}\r\n\r\n.tree-toolbar>div>div {\r\n    white-space: nowrap;\r\n    margin: 7px 0px;\r\n}\r\n\r\n.tree-toolbar>div>div>i {\r\n    margin-right: 7px;\r\n}\r\n\r\n.tree-toolbar .hidden {\r\n    display: none;\r\n}\r\n\r\n.tree-header.scroll-padding {\r\n\tpadding-right: 10px;\r\n}\r\n.tree-toolbar-right {\r\n    right: 10px;\r\n    z-index: 5;\r\n}\r\n.tree-toolbar.hidden {\r\n    opacity: 0;\r\n    cursor: default;\r\n}\r\n.tree-separator {\r\n    width: 100%;\r\n    background-color: black;\r\n    height: 2px;\r\n    padding: 1px;\r\n}\r\n\r\n.tree-separator.hidden {\r\n    opacity: 0;\r\n\theight: 0;\r\n}\r\n\r\n.tree-quad {\r\n\tbox-sizing: content-box;\r\n    width: 16px;\r\n    height: 16px !important;\r\n}\r\n.tree-toolbar.tree-sticky-column {\r\n\tright: 0px;\r\n}\r\n.optional-item {\r\n    height: var(--qp-input-height);\r\n\tdisplay: flex;\r\n    align-items: end;\r\n    justify-content: right;\r\n    text-align: center;\r\n    overflow: hidden;\r\n    margin-top: -4px;\r\n}\r\n\r\n.tree-sticky-column {\r\n\tposition: absolute;\r\n\theight: var(--qp-input-height);\r\n}\r\n.qp-tabbed-tree-selector-tab .tree-container {\r\n\theight: unset;\r\n}\r\n.qp-tabbed-tree-selector-tab .grid-top-bar-cont {\r\n\tpadding-bottom: 0;\r\n}\r\n.qp-tabbed-tree-selector-tab .grid-header-table,\r\n.qp-tabbed-tree-selector-tab .grid-content-table {\r\n\twidth: 100%;\r\n}\r\n.qp-tabbed-tree-selector .filter-box {\r\n\tmargin-right: 0;\r\n}\r\n.qp-tabbed-tree-selector qp-grid {\r\n\tborder: none;\r\n}\r\n.qp-tabbed-tree-selector .tree-main-toolbar qp-tool-bar {\r\n\tmargin-top: 0;\r\n}\r\n',""]),e.exports=o},"client-controls/controls/container/field/qp-field.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'.qp-field\r\n{\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-field-wrapper {\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-field .wrapper, .qp-field-wrapper\r\n{\r\n\tdisplay: flex;\r\n\tposition: relative;\r\n\tborder-radius: 6px;\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.control-container > .qp-field > .wrapper {\r\n\tleft: -10px;\r\n\tmargin-right: -10px;\r\n}\r\n\r\n.label-wrapper > .qp-field {\r\n\tmargin-left: -10px;\r\n}\r\n\r\n.qp-field-wrapper .control-container,\r\n.qp-field .control-container {\r\n\tposition: relative;\r\n}\r\n\r\n.qp-field .control-container.size-default,\r\n.qp-field-wrapper .control-container.size-default {\r\n\tflex: 1 1 auto;\r\n\twidth: 66%;\r\n\tmin-width: 0;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 10px;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.qp-field .wrapper .main-control {\r\n\tflex-grow: 1;\r\n\twidth: calc( 2 * ( 100% + 10px ) / 12 - 10px ); /* 2 cols minimum */\r\n}\r\n\r\n.qp-field .wrapper .main-control ~ * {\r\n\tflex-grow: 0;\r\n\twidth: calc( 6 * ( 100% + 10px ) / 12 - 10px ); /* 6 cols or 50/50 by default*/\r\n}\r\n\r\n.qp-field-wrapper .control-container {\r\n\tline-height: 25px;\r\n}\r\n\r\n.qp-field .control-container > enhanced-compose > *,\r\n.qp-field-wrapper .control-container > * > *\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\n\r\n.qp-field .req-l .label-container:after {\r\n\tcontent: "*";\r\n\tfont-size: 15px;\r\n\topacity: 1;\r\n\r\n\tpadding: 0 3px;\r\n\tline-height: var(--qp-input-height);\r\n}\r\n.qp-field .req-l.qp-field-empty .label-container:after {\r\n\tcolor: #f00;\r\n}\r\n\r\n/* .qp-field.no-label .wrapper.err-l,\r\n.qp-field.no-label .wrapper.war-l,\r\n.qp-field.no-label .wrapper.inf-l {\r\n\tpadding-left: 8px;\r\n\tpadding-right: 26px;\r\n} */\r\n\r\n.qp-field.no-label .icon-container {\r\n\tleft: auto; right: 8px;\r\n}\r\n\r\n.qp-field .wrapper.err-l {\r\n\tbackground-color: rgba(255, 0, 0, 0.17);\r\n}\r\n\r\n.qp-field .wrapper.war-l {\r\n\tbackground-color: rgba(255, 193, 9, 0.2);\r\n}\r\n\r\n\r\n.qp-field .icon-container {\r\n\tfont-family: \'FontAwesome\';\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: var(--qp-input-height);\r\n\t/* Better Font Rendering =========== */\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tposition: absolute;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n\tfont-size: 16px;\r\n\tleft: -20px;\r\n\tz-index: 1;\r\n}\r\n\r\n.qp-field .err-l .icon-container,\r\n.qp-field .war-l .icon-container {\r\n\tcursor: help;\r\n}\r\n\r\n.qp-field .err-l .icon-container:before {\r\n  content: "\\e997";\r\n  color: #dc3545;\r\n}\r\n\r\n.qp-field .war-l .icon-container:before {\r\n  content: "\\e99a";\r\n  color: #ffc109;\r\n}\r\n\r\n.qp-field .war-l .icon-container:after {\r\n  content: "\\e99b";\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  color: black;\r\n}\r\n\r\n.qp-field .inf-l .icon-container:before {\r\n  content: "\\e998";\r\n  color: #28a745;\r\n}\r\n\r\n.qp-field .inf-l .icon-container:after {\r\n  content: "\\e999";\r\n  position: absolute;\r\n  top: 4px;\r\n  left: 0;\r\n  color: white;\r\n}\r\n\r\n.labelH {\r\n\toverflow: hidden;\r\n \tcolor: rgba(0, 0, 0, 0.64);\r\n}\r\n\r\n.qp-field-wrapper .label-wrapper,\r\n.qp-field > .wrapper > .label-wrapper {\r\n\twidth: calc( var(--qp-default-label-width) * var(--qp-label-zoom) );\r\n}\r\n\r\n.qp-field > .wrapper > .label-wrapper input {\r\n\tborder: none;\r\n\tpadding: 0;\r\n}\r\n.qp-field > .wrapper > .label-wrapper .drop-down__text.ReadOnly {\r\n\tpadding-left: 0;\r\n\tpadding-right: 0;\r\n}\r\n\r\n.label-wrapper > .label-container {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-field-wrapper .label-container,\r\n.qp-field > .wrapper > .label-wrapper,\r\n.qp-field .label-container {\r\n\tflex-grow: 0;\r\n\tflex-shrink: 0;\r\n\t/* width: var(--qp-default-label-width, 140px); */\r\n\r\n\tmargin-right: 13px;\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n}\r\n\r\n/* .qp-field .err-l .label-container,\r\n.qp-field .inf-l .label-container,\r\n.qp-field .war-l .label-container {\r\n\tpadding-left: 26px;\r\n} */\r\n\r\n.qp-field .size-s {\r\n\tflex-grow: 0.5 !important;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.qp-field.qp-field-collapsed {\r\n\t/*max-height: 0;\r\n\tmargin-top: 0;\r\n\ttransition: max-height .2s ease-out, margin-top .2s linear;*/\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-field.qp-field-expanded {\r\n/*\ttransition: max-height .2s ease-in, margin-top .2s linear;*/\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n}\r\n\r\n@media (min-width: 0) and (max-width: 480px) { /* Extra SM */\r\n\t.qp-field .wrapper, .qp-field-wrapper {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.qp-field .wrapper .label-wrapper {\r\n\t\tflex-direction: row;\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: -6px;\r\n\t}\r\n\r\n\t.qp-field .req-l .label-container:after {\r\n\t\tpadding: 0 0 0 3px;\r\n\t}\r\n\r\n\t.qp-field .control-container.size-default,\r\n.qp-field-wrapper .control-container.size-default {\r\n\tflex: 1 1 auto;\r\n\twidth: 100%;\r\n}\r\n\r\n}\r\n',""]),e.exports=o},"client-controls/controls/container/fieldset/qp-fieldset-edit.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".edit-fieldset-container {\r\n\tjustify-content: space-between;\r\n\twidth: 750px;\r\n}\r\n\r\n.edit-column {\r\n\tflex: 1;\r\n\theight: 100%;\r\n}\r\n\r\n.edit-column-left {\r\n\tpadding-right: 20px !important;\r\n}\r\n\r\n.edit-column-right {\r\n\tpadding-left: 20px !important;\r\n}\r\n\r\n.edit-column-separator {\r\n\tborder-right: #D9D9D9 solid 1px;\r\n}\r\n\r\n.edit-column-content {\r\n\theight: calc(100% - 40px);\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n\tmargin-top: 8px;\r\n\tposition: relative;\r\n}\r\n\r\n.edit-column-title {\r\n\tpadding: 8px 0;\r\n\tposition: relative;\r\n\theight: 24px;\r\n}\r\n\r\n.full-height {\r\n\theight: calc(100% - 36px);\r\n}\r\n\r\n.edit-column-left-dropzone {\r\n\tposition: absolute;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tbackground-color: #027ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\topacity: 0.2;\r\n\tz-index: 100;\r\n}\r\n\r\n.fieldset--name-editor {\r\n\tbackground-color: #D7EFFF;\r\n    padding: 5px 15px 6px 10px;\r\n}\r\n\r\n.fieldset--name-editor input {\r\n\tborder: 2px solid #027ACC;\r\n\tborder: 2px solid var(--primary-color, #007ACC);\r\n    border-radius: 5px;\r\n    font-style: normal;\r\n    width: 100%;\r\n    color: #1B1B1B;\r\n\tpadding: 8px 7px 7px 7px;\r\n}\r\n\r\n.edit--view-name--container {\r\n\tdisplay: flex;\r\n}\r\n\r\n.edit--view--collapse {\r\n\tmargin-left: 4px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/container/fieldset/qp-fieldset-layout.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-fieldset-layout{\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n\tpadding: 16px 20px 16px 20px;\r\n\tbackground-color: #F5F7F9;\r\n\tborder-radius: 10px;\r\n\tborder: 1px solid rgba(0, 0, 0, 0.03);\r\n\tmargin-bottom: var(--qp-sections-row-gap);\r\n}\r\n\r\n.qp-fieldset-layout {\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n\trow-gap: var(--qp-inputs-gap);\r\n}\r\n\r\n.qp-fieldset-layout-root {\r\n\trow-gap: var(--qp-inputs-gap);\r\n\tcolumn-gap: 0;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-fieldset-layout > .h-stack {\r\n\tflex-wrap: nowrap;\r\n}\r\n\r\n.qp-fieldset-layout .qp-fieldset-layout-checkbox-panel {\r\n\tmargin-left: auto;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-fieldset-layout .qp-fieldset-layout-checkbox,\r\n.qp-fieldset-layout .qp-fieldset-layout-checkbox .qp-checkbox {\r\n\tdisplay: flex !important;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-fieldset-layout.stretch qp-field {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.qp-fieldset-layout.stretch qp-field > div.wrapper {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-fieldset-layout.stretch qp-field > div.wrapper > .control-container {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-fieldset-layout.stretch qp-field > div.wrapper > .control-container > enhanced-compose {\r\n\twidth: 100% !important;\r\n}\r\n\r\n",""]),e.exports=o},"client-controls/controls/container/fieldset/qp-fieldset.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'.qp-fieldset {\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n\theight: fit-content;\r\n\tbackground-color: #F5F7F9;\r\n\tposition: relative;\r\n\tborder-radius: 10px;\r\n\twidth: 100%;\r\n\tpadding: var(--qp-fieldset-padding-top) var(--qp-fieldset-padding-left) var(--qp-fieldset-padding-top) calc( var(--qp-fieldset-padding-left) - 10px);\r\n\tborder: 1px solid rgba(0, 0, 0, 0.03);\r\n\tmargin-bottom: var(--qp-sections-row-gap);\r\n}\r\n\r\n.summary-pane.qp-fieldset,\r\n.highlights-section {\r\n\tbackground-color: #DBF1FF;\r\n\tborder: 1px solid rgba(2, 122, 204, 0.35);\r\n}\r\n\r\n.framed-section {\r\n\tbackground-color: #F5F7F9;\r\n\tborder: 1px solid rgba(0, 0, 0, 0.03);\r\n\tpadding: var(--qp-fieldset-padding-top) var(--qp-fieldset-padding-left);\r\n\tborder-radius: 10px;\r\n\tmargin-bottom: var(--qp-sections-row-gap);\r\n}\r\n\r\n.transparent-pane.qp-fieldset,\r\n.transparent-section.qp-fieldset {\r\n\tbackground-color: initial;\r\n\tborder: none;\r\n\tpadding-top: 0;\r\n\tpadding-bottom: 0;\r\n}\r\n\r\n.stretch-content .qp-fieldset,\r\n.equal-height .qp-fieldset {\r\n\theight: calc( 100% - var(--qp-sections-row-gap) );\r\n}\r\n\r\n@container qp-screen (min-width: 692px) and (max-width: 1140px) { /* MD */\r\n\t.stretch-content .qp-fieldset,\r\n\t.equal-height .qp-fieldset {\r\n\t\theight: fit-content;\r\n\t}\r\n}\r\n\r\n.qp-fieldset fieldset {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\trow-gap: var(--qp-inputs-gap);\r\n\r\n\tpadding: 0px;\r\n\tborder: 0px;\r\n\tmin-inline-size: unset;\r\n\tbackground-color: inherit;\r\n\tmargin: 0;\r\n}\r\n\r\nfieldset.collapsed .qp-fieldset-caption,\r\nfieldset.collapsed .qp-fieldset-caption qp-icon {\r\n\tcolor: #027ACC;\r\n\tfill: #027ACC;\r\n}\r\n\r\n.qp-fieldset.fully-collapsed {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-fieldset-caption {\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n\tbackground-color: inherit;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.qp-fieldset-caption--dots {\r\n\twidth: 100%;\r\n\tposition: relative;\r\n\tmin-width: 30px;\r\n\theight: 10px;\r\n\tmargin: 0 22px 0 8px;\r\n\tborder-bottom: 1px solid rgba(0,0,0,0.13);\r\n}\r\n\r\n.qp-fieldset-toggle {\r\n\tmargin: 0 0 0 3px;\r\n\tflex-shrink: 0;\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-fieldset-caption:hover .qp-fieldset-toggle {\r\n\tdisplay: initial;\r\n}\r\n\r\n\r\n.qp-fieldset-toggle.qp-fieldset-expanded::before {\r\n\tcontent: "\\e96d";\r\n\tline-height: 18px;\r\n}\r\n\r\n.qp-fieldset-toggle.qp-fieldset-collapsed::before {\r\n\tcontent: "\\e96e";\r\n\tline-height: 22px;\r\n}\r\n\r\n.qp-fieldset fieldset>qp-field,\r\n.qp-fieldset fieldset>inline-view,\r\n.qp-fieldset fieldset>inline-view>qp-field {\r\n\tdisplay: block;\r\n}\r\n\r\n.size-zero {\r\n\twidth: 0 !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-xxs {\r\n\twidth: 40px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-xs {\r\n\twidth: 70px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-s {\r\n\twidth: 100px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-sm {\r\n\twidth: 140px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-m {\r\n\twidth: 200px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-xm {\r\n\twidth: 250px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-l {\r\n\twidth: 300px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-xl {\r\n\twidth: 350px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-xxl {\r\n\twidth: 400px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-fit {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-fieldset-icon {\r\n\tposition: absolute;\r\n\twidth: 26px;\r\n\theight: 26px;\r\n\tpadding: 5px;\r\n\tcolor: #000;\r\n\tborder-radius: 6px;\r\n\tmargin: 0;\r\n\tcursor: pointer;\r\n\tfont-size: 16px;\r\n\tfont-family: \'FontAwesome\' !important;\r\n    top: 16px;\r\n    right: 17px;\r\n}\r\n\r\n.qp-fieldset-icon:hover {\r\n\tbackground-color: rgba(0, 0, 0, .06);\r\n}\r\n\r\n.qp-fieldset-icon:before {\r\n\tcontent: "\\e93e";\r\n}\r\n\r\n.invisible-field {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-field-override > * {\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.qp-field-override {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-field-dependent {\r\n\tpadding-left: 25px;\r\n}\r\n\r\n/* .qp-fieldset-configurable {\r\n\tflex-basis: 0;\r\n} */\r\n',""]),e.exports=o},"client-controls/controls/container/inline-field/qp-inline-field.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-inline-field\r\n{\r\n\tdisplay: block;\r\n\tz-index: 1000;\r\n\tcolor: initial;\r\n}\r\n\r\n.qp-inline-field .control-wrapper, .qp-inline-field .control-wrapper > *:first-child\r\n{\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-inline-field .focus-marker\r\n{\r\n\theight: 100%;\r\n\tborder: 1px dotted gray;\r\n\tbackground-color: transparent;\r\n\tfont-size: 0px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/container/splitter/qp-splitter.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"@keyframes fadeOut {\r\n\t0% {\r\n\t\topacity: 100%;\r\n\t}\r\n\r\n\t50% {\r\n\t\topacity: 100%;\r\n\t}\r\n\r\n\t100% {\r\n\t\topacity: 0%;\r\n\t}\r\n}\r\n\r\nqp-splitter {\r\n\theight: 100%;\r\n\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-splitter {\r\n    border: none;\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n\tbox-sizing: border-box;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-splitter.fixed-height {\r\n\theight: auto;\r\n}\r\n\r\n.qp-splitter.qp-splitter-width {\r\n\tflex-direction: row;\r\n}\r\n.qp-splitter.qp-splitter-height {\r\n\tflex-direction: column;\r\n\r\n\theight: 100%;\r\n}\r\n\r\n.qp-splitter-first {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-splitter-second {\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-splitter-height > .qp-splitter-first,\r\n.qp-splitter-height > .qp-splitter-second {\r\n\toverflow-y: auto;\r\n}\r\n\t.qp-splitter-height > .qp-splitter-second {\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n.qp-splitter-width > .qp-splitter-first,\r\n.qp-splitter-width > .qp-splitter-second {\r\n\toverflow-x: auto;\r\n}\r\n\r\n.qp-splitter-width > .qp-splitter-second {\r\n\tflex-basis: 0;\r\n}\r\n\r\n.qp-splitter-width.qp-splitter--reversed > .qp-splitter-second {\r\n\tflex-basis: unset;\r\n}\r\n\r\n.qp-splitter-width.qp-splitter--reversed > .qp-splitter-first {\r\n\tflex-basis: 0;\r\n}\r\n\r\n.qp-splitter-pane-inner {\r\n\tdisplay: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    flex-grow: 1;\r\n}\r\n\r\n.qp-splitter-bar {\r\n    background-color: white;\r\n    border: none;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n}\r\n\t.qp-splitter-width > .qp-splitter-bar {\r\n\t\tflex-basis: 16px;\r\n\t\tcursor: col-resize;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.qp-splitter-height > .qp-splitter-bar {\r\n\t\tflex-basis: 16px;\r\n\t\tcursor: row-resize;\r\n\t\tflex-direction: row;\r\n\t}\r\n\t.qp-splitter-bar.qp-splitter-collapsed {\r\n\t\tcursor: auto;\r\n\t}\r\n\r\n.qp-splitter--unmargin > .qp-splitter-bar {\r\n\tposition: relative;\r\n\r\n\twidth: 0;\r\n\tmax-width: 0;\r\n\r\n\t&:before {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\r\n\t\twidth: 16px;\r\n\r\n\t\tcontent: '';\r\n\t}\r\n}\r\n\r\n.qp-splitter--fading .qp-splitter-bar:not(:hover):not(.qp-splitter-collapsed){\r\n\topacity: 0%;\r\n\tanimation: 0.5s linear 0s fadeOut;\r\n}\r\n\r\n.qp-splitter--fading .qp-splitter-bar:hover:not(.qp-splitter-collapsed) {\r\n\topacity: 100%;\r\n}\r\n\r\n.qp-splitter--disabled > .qp-splitter-bar {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-splitter--invisible > .qp-splitter-bar {\r\n\topacity: 0%;\r\n\r\n\tanimation: none;\r\n}\r\n\r\n.qp-splitter-bar .qp-splitter-buttons {\r\n\tdisplay: flex;\r\n}\r\n.qp-splitter-bar:not(.qp-splitter-collapsed) > .qp-splitter-line {\r\n\tdisplay: flex;\r\n\tflex: 1;\r\n\tbackground-color: #F3F3F3;\r\n}\r\n\r\n.qp-splitter-bar:not(.qp-splitter-collapsed):hover > .qp-splitter-line {\r\n\tdisplay: flex;\r\n\tflex: 1;\r\n\tbackground-color: #C8C8C8;\r\n}\r\n\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-line {\r\n\t\twidth: 1px;\r\n\t\tmargin-left: 8px;\r\n\t}\r\n\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-line {\r\n\t\theight: 1px;\r\n\t\tmargin-top: 8px;\r\n\t}\r\n\r\n.qp-splitter-buttons {\r\n\tdisplay: none;\r\n}\r\n\r\n\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons {\r\n\t\tflex-direction: column-reverse;\r\n\t}\r\n\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons {\r\n\t\tflex-direction: row-reverse;\r\n\t}\r\n\r\n.qp-splitter-button {\r\n\tcursor: pointer;\r\n\tjustify-content: center;\r\n\tdisplay: flex;\r\n}\r\n\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons >  .qp-splitter-button {\r\n\t\theight: 32px;\r\n\t\twidth: 16px;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-first svg {\r\n\t\t\ttransform: rotate(90deg);\r\n\t\t}\r\n\t\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-second svg {\r\n\t\t\ttransform: rotate(270deg)\r\n\t\t}\r\n\r\n\t\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-dragdrop {\r\n\t\t\tcursor: col-resize;\r\n\t\t}\r\n\r\n\t\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-dragdrop svg {\r\n\t\t\ttransform: rotate(90deg)\r\n\t\t}\r\n\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\theight: 16px;\r\n\t\twidth: 32px;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-dragdrop {\r\n\t\tmargin-top: 2px;\r\n\r\n\t\tcursor: row-resize;\r\n\t}\r\n\t\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-first svg {\r\n\t\t\ttransform: rotate(180deg)\r\n\t\t}\r\n\t\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-second svg {\r\n\t\t\ttransform: rotate(0deg)\r\n\t\t}\r\n\r\n\t.qp-splitter-button > qp-icon {\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t.qp-splitter--fading .qp-splitter-button > qp-icon > svg {\r\n\t\tcolor: #C8C8C8;\r\n\t}\r\n\t\t.qp-splitter-button > qp-icon > svg {\r\n\t\t\tcolor: #C8C8C8;\r\n\t\t}\r\n\r\n\t\t.qp-splitter-bar:hover .qp-splitter-button:hover > qp-icon > svg {\r\n\t\t\tcolor: #7C7C7C;\r\n\t\t}\r\n\r\n.qp-splitter > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-first {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-splitter > .qp-splitter-bar:hover > .qp-splitter-buttons > .qp-splitter-button-first {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-splitter > .qp-splitter-bar:hover > .qp-splitter-buttons > .qp-splitter-button-second {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-splitter > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-second {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-splitter > .qp-splitter-bar.qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button-first,\r\n.qp-splitter > .qp-splitter-bar.qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button-second {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-splitter-width > .qp-splitter-collapsed > .qp-splitter-buttons {\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n}\r\n\t.qp-splitter-width > .qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\tflex-flow: column;\r\n\t\tbackground-color: rgba(var(--primary-color-rgb), 0.12);\r\n\t\twidth: 24px;\r\n\t\tflex-grow: 1;\r\n\t\tpadding: 4px;\r\n\t}\r\n\t\t.qp-splitter-width > .qp-splitter-collapsed-first > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\t\tmargin-right: 8px;\r\n\t\t}\r\n\t\t.qp-splitter-width > .qp-splitter-collapsed-second > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\t\tmargin-left: 8px;\r\n\t\t}\r\n\r\n.qp-splitter-height > .qp-splitter-collapsed > .qp-splitter-buttons {\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n}\r\n\t.qp-splitter-height > .qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\tflex-flow: row;\r\n\t\tbackground-color: rgba(var(--primary-color-rgb), 0.12);\r\n\t\theight: 20px;\r\n\t\tflex-grow: 1;\r\n\t\tjustify-content: space-around;\r\n\t\tpadding-left: 16px;\r\n\t\tpadding-right: 8px;\r\n\t}\r\n\t\t.qp-splitter-height > .qp-splitter-collapsed-first > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\t\tmargin-bottom: 12px;\r\n\t\t}\r\n\r\n\t\t.qp-splitter-height > .qp-splitter-collapsed-second > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\t\tmargin-top: 12px;\r\n\t\t}\r\n\r\n.qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button:hover {\r\n\tbackground-color: var(--qp-highlight-hover-color) !important;\r\n}\r\n\r\n.qp-splitter-first > .qp-fieldset-caption,\r\n.qp-splitter-second > .qp-fieldset-caption {\r\n\tbackground-color: white;\r\n    min-height: 24px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/container/tabbar/qp-tabbar-edit.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".edit-tabbar-container {\r\n\tflex-direction: column;\r\n}\r\n\r\n.edit-section {\r\n\twidth: 100%;\r\n}\r\n\r\n.edit-section-bottom {\r\n\tflex-grow: 1;\r\n    flex-direction: column;\r\n    display: flex;\r\n}\r\n\r\n.edit-section-content {\r\n\toverflow-x: hidden;\r\n\tmargin: 8px 0;\r\n\tposition: relative;\r\n}\r\n\r\n.edit-section-content-bottom {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.edit-section-title {\r\n\tpadding: 8px 0;\r\n\tposition: relative;\r\n\theight: 16px;\r\n}\r\n\r\n.edit-section-empty {\r\n\tposition: relative;\r\n\tmin-height: 50px;\r\n\twidth: 100%;\r\n}\r\n\r\n.edit-section-dropzone {\r\n\tbackground-color: #027ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\topacity: 0.2;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/container/tabbar/qp-tabbar.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-tabbar {\r\n\theight: 100%;\r\n}\r\n\r\n.qp-tabbar {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\tuser-select: none;\r\n}\r\n\r\n.qp-tabbar-menu .qp-tab-empty,\r\n.qp-tabbar .qp-tab-empty {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-header {\r\n\tdisplay: flex;\r\n\tflex-wrap: nowrap;\r\n\talign-items: center;\r\n\r\n\tbox-shadow: inset 0 -1px 0 0px #e2e2e2;\r\n\ttext-transform: uppercase;\r\n\tfont-size: var(--qp-tabbar-font-size);\r\n\tmargin: 5px 0 0 0;\r\n\tcolor: #000;\r\n\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\tbackground-color: #fff;\r\n\tz-index: 1;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-wrapper {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\theight: 34px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n\theight: 34px;\r\n\tpadding: 8px 0;\r\n\tmargin: 0 16px;\r\n\tline-height: 18px;\r\n}\r\n\r\n.qp-tabbar-wrapper .tab-header-container:first-child .qp-tabbar-tab {\r\n\tmargin-left: 0;\r\n}\r\n\r\n.qp-tabbar>.qp-tabbar-content {\r\n\tflex: 1;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-wrapper span:first-child {\r\n\tpadding: 8px 16px 8px 0px;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-hover {\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-active {\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\tcursor: default;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-hover::after {\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 3px;\r\n\tbackground-color: #D2D4D7;\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\r\n\tborder-radius: 10px 10px 0 0;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-active::after {\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 3px;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\r\n\tborder-radius: 10px 10px 0 0;\r\n}\r\n\r\n.qp-tabbar-dragged-source {\r\n\tcolor: rgba(27, 27, 27, 0.3) !important;\r\n}\r\n\r\n.dragged-floater {\r\n\tposition: fixed;\r\n\tbackground: #FFFFFF;\r\n\tbox-shadow: 0px 0px 9px 1px rgba(0, 0, 0, 0.25);\r\n\tborder-radius: 8px 8px 0px 0px;\r\n\tpadding: 12px;\r\n\tz-index: 11000;\r\n\tuser-select: none;\r\n\tcursor: url(\"data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.80218 6.66521C4.80218 6.51964 4.83278 6.37506 4.90982 6.25155C5.09419 5.95599 5.51031 5.42452 6.11871 5.42452C6.73408 5.42452 7.18653 6.0166 7.38588 6.33609C7.46572 6.46406 7.49864 6.61317 7.49864 6.764C7.49864 6.97701 7.49864 7.3301 7.49864 7.78718C7.49864 6.62577 7.33188 5.17773 8.92248 5.17773C10.5131 5.17773 10.3587 6.9199 10.3587 7.78718C10.3587 7.09198 10.1891 5.65994 11.5361 5.65994C12.8832 5.65994 12.752 6.94352 12.7232 7.78718C12.7232 6.90505 13.2778 6.46129 13.8202 6.46129C14.3626 6.46129 14.8341 6.89465 14.8341 7.71689C14.8341 8.53913 14.854 9.8889 14.7598 10.5325C14.6905 11.0056 14.0952 13.4604 13.7848 14.7272C13.6754 15.1737 13.2753 15.4854 12.8156 15.4854H5.99286C5.68577 15.4854 5.3957 15.3443 5.20613 15.1027L1.87331 10.8551C1.64307 10.5617 1.59527 10.1645 1.74931 9.82481L1.84184 9.62077C1.94649 9.39001 2.13484 9.20758 2.36882 9.11034L2.58034 9.02244C2.97192 8.85971 3.42356 8.96165 3.70728 9.27679L4.80218 10.493V6.66521Z' fill='white' stroke='black' stroke-width='0.8'/%3E%3Cpath d='M7.5 9.5V13.5' stroke='black' stroke-width='0.8' stroke-linecap='square'/%3E%3Cpath d='M10 9.5V13.5' stroke='black' stroke-width='0.8' stroke-linecap='square'/%3E%3Cpath d='M12.5 9.5V13.5' stroke='black' stroke-width='0.8' stroke-linecap='square'/%3E%3C/svg%3E%0A\") 16 16, pointer !important;\r\n}\r\n\r\n.qp-tabbar .tab-header-container:first-child .qp-tabbar-tab.qp-tabbar-hover:after,\r\n.qp-tabbar .tab-header-container:first-child .qp-tabbar-tab.qp-tabbar-active:after {\r\n\tleft: 0px;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener {\r\n    padding: 9px 10px;\r\n    margin-left: 4px;\r\n    display: flex;\r\n    gap: 6px;\r\n\tfill: rgba(0, 0, 0, 0.5);\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-tabbar-opener .tab-header--icon,\r\n.qp-tabbar-opener--ellipsis {\r\n\tmargin-top: -1px;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener.qp-tabbar-opener--hover::after {\r\n\tbackground-color: #C7C7C7;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 3px;\r\n\tposition: absolute;\r\n\tbottom: 0px;\r\n\tborder-radius: 10px 10px 0 0;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener.qp-tabbar-opened,\r\n.qp-tabbar .qp-tabbar-opener.qp-tabbar-opener--hover {\r\n\tfill: #000;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener svg {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.qp-tabbar-shadow {\r\n\tposition: fixed;\r\n\tuser-select: none;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n\tright: 0;\r\n\tz-index: 5000;\r\n}\r\n\r\n.qp-tabbar-menu {\r\n\tz-index: 6000;\r\n\tbackground-color: white;\r\n\tmax-height: 80vh;\r\n\toverflow-y: auto;\r\n\t/* for FF */\r\n\toverflow-y: overlay;\r\n\tmin-width: 140px !important;\r\n\tbox-shadow: 0px 0px 14px 2px rgba(0, 0, 0, 0.15);\r\n\tbox-sizing: border-box;\r\n\tborder-radius: 5px;\r\n\tborder-top: 5px solid #fff;\r\n\tborder-bottom: 5px solid #fff;\r\n\tpadding: 8px 0px;\r\n\tmargin: 0 -3px;\r\n\r\n\tscrollbar-width: thin;\r\n\tscrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item {\r\n\twhite-space: nowrap;\r\n\tpadding: 8px 16px;\r\n\tfont-size: var(--qp-tabbar-font-size);\r\n\ttext-transform: uppercase;\r\n\tcursor: pointer;\r\n\tline-height: 16px;\r\n\tcolor: rgba(0, 0, 0, .85);\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover {\r\n\tbackground-color: rgba(0, 0, 0, 0.07);;\r\n}\r\n\r\nqp-tab-header {\r\n\tdisplay: none;\r\n}\r\n\r\nqp-tabbar qp-tab {\r\n\tpadding-top: var(--qp-sections-row-gap);\r\n\theight: 100%;\r\n}\r\n\r\nqp-tabbar qp-tab.no-padding {\r\n\tpadding: 0px;\r\n}\r\n\r\n.qp-tabbar-config-icon {\r\n\tpadding: 0 5px;\r\n\tcolor: #000;\r\n\tborder-radius: 6px;\r\n\tmargin: 3px 13px;\r\n\tcursor: pointer;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tfont-size: var(--qp-icon-size);\r\n\tfont-family: 'FontAwesome' !important;\r\n}\r\n\r\n.qp-tabbar-config-icon:hover {\r\n\tbackground-color: rgba(0, 0, 0, .06);\r\n}\r\n\r\n.qp-tabbar-config-icon:before {\r\n\tcontent: \"\\e93e\";\r\n}\r\n\r\n.tab-header-container {\r\n\tdisplay: flex;\r\n}\r\n\r\n.tab-header-container-reverse {\r\n\tflex-direction: row-reverse;\r\n}\r\n\r\n.qp-tabbar-dropzone {\r\n\tposition: absolute;\r\n}\r\n\r\n.qp-tabbar-dropzone-before {\r\n\tmargin-left: -8px;\r\n}\r\n\r\n.qp-tabbar-dropzone-after {\r\n\tmargin-right: 8px;\r\n}\r\n\r\n.qp-tabbar-dropzone-down {\r\n    margin-top: -5px;\r\n    position: absolute;\r\n}\r\n\r\n.qp-tabbar-dropzone-up {\r\n    margin-top: 18px;\r\n    position: absolute;\r\n}\r\n\r\n.tabbar-menu--separator {\r\n\twidth: 100%;\r\n    height: 32px;\r\n    padding: 8px 16px;\r\n    font-family: 'Arial';\r\n    font-weight: 700;\r\n    font-size: 15px;\r\n}\r\n\r\n.tabbar-menu--blank {\r\n\theight: 32px;\r\n}\r\n\r\n.qp-tabbar-hidden-dropzone {\r\n\tposition: absolute;\r\n\tdisplay: flex;\r\n    width: 100%;\r\n\tmargin-left: -8px;\r\n    justify-content: space-between;\r\n}\r\n\r\n.qp-tabbar-hidden-dropzone-before {\r\n\tmargin-top: -8px;\r\n}\r\n\r\n.qp-tabbar-hidden-dropzone-after {\r\n\tmargin-top: 24px;\r\n}\r\n\r\n.qp-tabbar-hidden-dropzone-empty {\r\n\tmargin-top: 9px;\r\n}\r\n\r\n.right-tab-part {\r\n\tposition: absolute;\r\n\tdisplay: flex;\r\n\theight: 34px;\r\n}\r\n\r\n.right-tab-part-placeholder {\r\n\tposition: relative;\r\n\tbackground-color: transparent;\r\n\theight: 1px;\r\n\tmargin-left: 16px;\r\n\tpointer-events: none;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.tab-header--error,\r\n.qp-tabbar .qp-tabbar-tab.tab-header--warning {\r\n\tborder-radius: 8px 8px 0 0;\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.tab-header--error {\r\n\tcolor: #EE4051;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.tab-header--warning {\r\n\tcolor: #DD9F00;\r\n\r\n}\r\n\r\n.tab-header--error.qp-tabbar-menu-item {\r\n\tbackground: rgba(238, 64, 81, 0.2);\r\n}\r\n\r\n.tab-header--warning.qp-tabbar-menu-item {\r\n\tbackground: rgba(255, 184, 0, 0.2);\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover.tab-header--error\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover.tab-header--warning {\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-active.tab-header--error::after,\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-hover.tab-header--error::after {\r\n\tbackground-color: #EE4051;\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-active.tab-header--warning::after,\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-hover.tab-header--warning::after {\r\n\tbackground-color: #FFB800;\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n\r\n.qp-tabbar-tab .tab-header--with-error {\r\n\tmargin-left: 5px;\r\n}\r\n\r\n.qp-tabbar-tab .tab-header--icon {\r\n\tposition: relative;\r\n}\r\n\r\n.tab-header--error .tab-header--icon,\r\n.tab-header--warning .tab-header--icon {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.tab-header--error .tab-header--icon svg {\r\n\tfill: #EE4051;\r\n\tcolor: #EE4051;\r\n}\r\n\r\n.tab-header--warning .tab-header--icon svg {\r\n\tfill: #FFB800;\r\n\tcolor: #FFB800;\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover.tab-header--warning {\r\n\tbackground: rgba(255, 184, 0, 0.3);\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover.tab-header--error {\r\n\tbackground: rgba(238, 64, 81, 0.3);\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener.tab-header--error,\r\n.qp-tabbar .qp-tabbar-opener.tab-header--warning {\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.qp-tabbar-opener.qp-tabbar-opened::after,\r\n.qp-tabbar-opener.qp-tabbar-opened::after {\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 3px;\r\n\tposition: absolute;\r\n\tbottom: 0px;\r\n\tborder-radius: 10px 10px 0 0;\r\n}\r\n\r\n.qp-tabbar-opener.tab-header--error.qp-tabbar-opened::after,\r\n.qp-tabbar-opener.tab-header--error.qp-tabbar-opener--hover::after {\r\n\tbackground-color: #EE4051;\r\n}\r\n\r\n.qp-tabbar-opener.tab-header--warning.qp-tabbar-opened::after,\r\n.qp-tabbar-opener.tab-header--warning.qp-tabbar-opener--hover::after {\r\n\tbackground-color: #FFB800;\r\n}\r\n\r\n.tabbar-menu--separator--margin {\r\n\tpadding: 8px 0px;\r\n\theight: 1px;\r\n}\r\n\r\n.tabbar-menu--separator--margin > div\r\n{\r\n\tfont-size: 0px;\r\n\tborder-top: 1px solid #E0E4E8\r\n}\r\n",""]),e.exports=o},"client-controls/controls/container/wizard/qp-wizard.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-wizard {\r\n\theight: 100%;\r\n}\r\n\r\n.qp-wizard {\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.qp-wizard .qp-wizard-body {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-wizard .qp-wizard-footer {\r\n\tdisplay: block;\r\n\ttext-align: end;\r\n}\r\n\r\n.qp-wizard qp-tab {\r\n\theight: 100%;\r\n\tflex: 1;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/dialog/alert/qp-alert-dialog.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"ux-dialog>ux-dialog-footer button {\r\n\tborder-radius: 0;\r\n}\r\nux-dialog.qp-alert-dialog {\r\n\tmin-width: 300px;\r\n\tmax-width: min(40vw, 600px);\r\n\tpadding: 10px;\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-body {\r\n\tfont-size: 14px;\r\n\tpadding: 0px 10px;\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-body>div {\r\n\tmax-height: min(40vh, 400px);\r\n\toverflow-wrap: break-word;\r\n\toverflow-y: auto\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-body>div>p:first-child {\r\n\tmargin-top: 0;\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-body>div>p:first-child {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-footer button {\r\n\tmargin: 0 0 0 5px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/dialog/base-dialog/base-dialog.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"\r\nux-dialog-container {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\ttransition: opacity .1s linear;\r\n}\r\n\r\nux-dialog-container > div {\r\n\tmargin-top: auto;\r\n\tmargin-bottom: auto;\r\n\tflex: 1 auto;\r\n\tpadding-left: 0;\r\n\tpadding-right: 0;\r\n}\r\n\r\nux-dialog-container > div > div {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-dialog-app-overlay.active {\r\n\topacity: 0.4;\r\n\tbackground-color: rgb(0, 0, 0);\r\n\ttransition: background-color .1s, opacity .1s;\r\n}\r\n\r\n.dialog ::-webkit-scrollbar {\r\n\twidth: 8px;\r\n\theight: 8px;\r\n}\r\n.dialog ::-webkit-scrollbar-track {\r\n\tbackground-color: transparent;\r\n}\r\n.dialog ::-webkit-scrollbar-thumb {\r\n\tbackground-color: rgba(0, 0, 0, 0.15);\r\n\tborder-radius: 8px;\r\n\tbackground-clip: content-box;\r\n}\r\n.dialog ::-webkit-scrollbar-thumb:hover {\r\n\tbackground-color: #7d7d7d;\r\n}\r\n\r\n.dialog {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tborder-radius: 0px;\r\n\tborder: none;\r\n\tbox-shadow: 0px 0px 14px 2px var(--qp-shadow-color);\r\n}\r\n\r\n.dialog:not(.non-responsive-dialog) ux-dialog-header,\r\n.dialog:not(.non-responsive-dialog) ux-dialog-body,\r\n.dialog:not(.non-responsive-dialog) ux-dialog-footer {\r\n\tcontainer-type: inline-size;\r\n  \tcontainer-name: qp-screen;\r\n}\r\n\r\n.dialog {\r\n\t/* no top and left padding because the title bar is used to move the dialog */\r\n\t--dialog-title-height: 22px;\r\n\t--dialog-title-body-spacing: 12px;\r\n}\r\n\r\n.dialog .qp-dialog-header {\r\n\tflex-grow: 1;\r\n\tbox-sizing: border-box;\r\n\theight: calc(10px + var(--dialog-title-height) + var(--dialog-title-body-spacing) / 2);\r\n\tpadding-top: 10px;\r\n\tpadding-bottom: calc(var(--dialog-title-body-spacing) / 2);\r\n\tpadding-inline-start: 10px;\r\n\tpadding-inline-end: 0;\r\n\tmargin-bottom: calc(var(--dialog-title-body-spacing) / 2);\r\n\tmargin-inline-end: 10px;\r\n\tfont-size: 18px;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: space-between;\r\n\talign-items: flex-start;\r\n\tgap: 20px;\r\n}\r\n\r\nux-dialog.dialog.qp-dialog > div.qp-dialog-header {\r\n\t/* inside non-resizable 20px margins, instead of resizable 10px table around */\r\n\tpadding: 0;\r\n\tmargin: 0 0 var(--dialog-title-body-spacing);\r\n\theight: var(--dialog-title-height);\r\n}\r\n\r\nux-dialog-container ux-dialog ux-dialog-header {\r\n\tpadding: 0;\r\n\tborder-bottom: none;\r\n\tz-index: 1;\r\n}\r\n\r\nux-dialog-header > .dialog-header-content {\r\n\tdisplay: flex;\r\n\tgap: 20px;\r\n}\r\n\r\n.dialog ux-dialog-body {\r\n\tpadding: 0px 10px;\r\n\tbox-sizing: border-box;\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\toverflow: auto;\r\n}\r\n\r\n.dialog ux-dialog-footer {\r\n\tpadding: 12px 10px 10px;\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n\tflex-direction: row;\r\n\tgap: 8px;\r\n\tborder-width: 0px;\r\n}\r\n\r\n.dialog ux-dialog-footer > .dialog-footer-content {\r\n\talign-self: flex-end;\r\n\tdisplay: flex;\r\n\tgap: var(--qp-toolbar-items-gap);\r\n}\r\n\r\nux-dialog.qp-dialog.qp-maximized {\r\n\tposition: absolute;\r\n\ttop: 0 !important;\r\n\tleft: 0 !important;\r\n\tbottom: 0 !important;\r\n\tright: 0 !important;\r\n\twidth: 100vw !important;\r\n\theight: 100vh;\r\n\tborder-radius: 0;\r\n}\r\n/* in case of no ux-header */\r\n.dialog ux-dialog-body:first-child {\r\n\tpadding-top: 10px;\r\n}\r\n/* in case of no ux-footer */\r\n.dialog ux-dialog-body:last-child {\r\n\tpadding-bottom: 10px;\r\n}\r\n\r\nux-dialog > ux-dialog-header > button {\r\n\topacity: 0.6;\r\n\tmargin: -10px -10px 0 0;\r\n\tfont-size: 28px;\r\n}\r\n\r\nux-dialog > ux-dialog-header > button:hover {\r\n\topacity: 1;\r\n}\r\n\r\nux-dialog.qp-dialog {\r\n\t--qp-dialog-min-width: 240px;\r\n\t--qp-dialog-max-width: calc(100vw - 60px);\r\n\tborder-radius: 10px;\r\n\tmin-width: var(--qp-dialog-min-width);\r\n}\r\n\r\nux-dialog.qp-dialog:not(.qp-maximized) {\r\n\tmax-width: var(--qp-dialog-max-width);\r\n}\r\n\r\nux-dialog .qp-dialog-header {\r\n\theight: 32px;\r\n\tbox-sizing: border-box;\r\n\tpadding: 0;\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex-shrink: 0;\r\n}\r\n\r\nux-dialog .qp-dialog-header .qp-dialog-title {\r\n\twidth: 0;\r\n\tflex-grow: 1;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tfont-size: 18px;\r\n\tline-height: 22px;\r\n\toverflow: hidden;\r\n\tmargin: 0;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\nux-dialog .qp-dialog-header-buttons {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 13px;\r\n}\r\n\r\nux-dialog .dialog-header-content qp-icon {\r\n\tflex-grow: 0;\r\n\tline-height: 16px;\r\n\tcursor: pointer;\r\n\topacity: 0.4;\r\n}\r\n\r\nux-dialog .dialog-header-content qp-icon:hover {\r\n\topacity: 1;\r\n}\r\n\r\nux-dialog.qp-dialog ux-dialog-body > .dialog-body-content {\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.stack-vert > div {\r\n\tmargin-top: 3px;\r\n}\r\n.stack-vert > div:first-child {\r\n\tmargin-top: 0px;\r\n}\r\n.stack-vert > div > * {\r\n\tmin-height: 24px;\r\n}\r\n\r\n.label-group {\r\n\tdisplay: flex;\r\n}\r\n.label-group > label {\r\n\twidth: 100px;\r\n\tdisplay: inline-block;\r\n}\r\n.label-group > label + * {\r\n\tflex: 1;\r\n}\r\n\r\n.empty-label-group {\r\n\tmargin-left: 100px;\r\n}\r\n\r\n.qp-dialog--auto-height:not(.qp-moved):not(.qp-resized) {\r\n\ttransform: translateY(var(--qp-dialog-offset));\r\n}\r\n",""]),e.exports=o},"client-controls/controls/dialog/base-dialog/qp-resizable.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-resizable {\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 10px auto 10px;\r\n\tgrid-template-rows: 10px auto 10px;\r\n\toverflow: hidden;\r\n\tmin-width: var(--qp-dialog-min-width);\r\n}\r\n\r\n.qp-resizable:not(.qp-resizable-maximized) {\r\n\tmax-width: var(--qp-dialog-max-width);\r\n\tborder-radius: 10px;\r\n}\r\n\r\n.qp-resizable .qp-rz-center {\r\n\tbackground-color: #fff;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\toverflow: auto;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n}\r\n\r\n.qp-resizable .qp-rz-n {\r\n\tcursor: n-resize;\r\n}\r\n.qp-resizable .qp-rz-w {\r\n\tcursor: w-resize;\r\n}\r\n.qp-resizable .qp-rz-e {\r\n\tcursor: e-resize;\r\n}\r\n.qp-resizable .qp-rz-s {\r\n\tcursor: s-resize;\r\n}\r\n.qp-resizable .qp-rz-nw {\r\n\tcursor: nw-resize;\r\n}\r\n.qp-resizable .qp-rz-ne {\r\n\tcursor: ne-resize;\r\n}\r\n.qp-resizable .qp-rz-sw {\r\n\tcursor: sw-resize;\r\n}\r\n.qp-resizable .qp-rz-se {\r\n\tcursor: se-resize;\r\n}\r\n\r\nux-dialog.qp-dialog:not(.qp-maximized) .qp-resizable .qp-rz-center {\r\n\tgrid-area: 2 / 2 / 3 / 3;\r\n}\r\n\r\n.qp-resizable-maximized .qp-rz-center {\r\n\tgrid-area: 1 / 1 / -1 / -1;\r\n}\r\n\r\n.qp-resizable-maximized .qp-rz {\r\n\tdisplay: none;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/dialog/edit-dialog-base/qp-edit-dialog.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".edit-dialog-container > div {\r\n\tpadding: 5px !important;\r\n}\r\n\r\n.edit-dialog {\r\n\tpadding: 10px;\r\n\tborder-radius: 10px;\r\n\twidth: 790px;\r\n\theight: calc(100vh - 10px);\r\n\tbox-shadow: none;\r\n}\r\n\r\n.edit-container {\r\n\tdisplay: flex;\r\n\theight: 100%;\r\n}\r\n\r\n.thin-blue-line {\r\n\tborder-top: 1px solid #027ACC;\r\n\tborder-top: 1px solid var(--primary-color, #007ACC);\r\n}\r\n\r\n.title-with-line {\r\n\tposition: absolute;\r\n\tpadding-right: 8px;\r\n\tmargin-top: -8px;\r\n\tbackground-color: #ffffff;\r\n\tfont-family: 'Arial';\r\n\tfont-style: normal;\r\n\tfont-weight: 400;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n\ttext-transform: capitalize;\r\n\tcolor: #027ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n}\r\n\r\n.edit-action-button {\r\n\tborder-radius: 5px;\r\n\theight: 30px !important;\r\n\tpadding: 7px 10px !important;\r\n}\r\n\r\nux-dialog-footer.edit-footer {\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tpadding: 0;\r\n}\r\n\r\n.edit-dialog-header .dialog-header-content {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.edit-dialog-header .qp-dialog-close {\r\n\theight: 16px;\r\n\twidth: 16px;\r\n\toverflow: hidden;\r\n\topacity: 0.6;\r\n\tcursor: pointer;\r\n}\r\n\r\n.edit-dialog-header .qp-dialog-close svg {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n\r\n.edit-dialog-header .qp-dialog-close:hover {\r\n\t\topacity: 1;\r\n}\r\n\r\n\r\n.edit--text {\r\n\tfont-family: 'Arial';\r\n\tfont-style: normal;\r\n}\r\n\r\n.edit--text-l {\r\n\tfont-weight: 700;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n}\r\n\r\n.edit--text-m {\r\n\tfont-weight: 400;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n}\r\n\r\n.edit--text-s {\r\n\tfont-weight: 400;\r\n\tfont-size: 12px;\r\n\tline-height: 14px;\r\n}\r\n\r\n.edit-view {\r\n\tpadding: 8px 17px 8px 0;\r\n}\r\n\r\n.edit--view-name {\r\n\tcolor: #1B1B1B;\r\n}\r\n\r\n.edit--view-id {\r\n\tcolor: #808080;\r\n}\r\n\r\n.edit-field--searcher {\r\n\tborder: 1px solid rgba(0, 0, 0, 0.16);\r\n\theight: 32px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tborder-radius: 6px;\r\n\tpadding-left: 5px;\r\n}\r\n\r\n.edit-field--searcher input {\r\n\tborder: 0;\r\n\tflex: 1;\r\n}\r\n\r\n.edit-field--searcher input::placeholder {\r\n\tfont-style: normal;\r\n\tfont-family: 'Arial';\r\n\tfont-weight: 400;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n\tcolor: #1B1B1B;\r\n\topacity: 0.3;\r\n}\r\n\r\n.edit-field--searcher--focus {\r\n\tbox-shadow: inset 0 0 0 2px #027ACC;\r\n\tbox-shadow: inset 0 0 0 2px var(--primary-color, #007ACC);\r\n}\r\n\r\n.edit-field--searcher .control-icon {\r\n\twidth: 32px;\r\n\tjustify-content: center;\r\n\tdisplay: flex;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/dialog/edit-dialog-base/qp-edit-element.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'.edit-element {\r\n\tpadding: 8px 0px;\r\n\tdisplay: flex;\r\n\tuser-select: none;\r\n\toutline: 0;\r\n\tcursor: grab;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.edit-element--parent {\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.edit-element--group {\r\n\tdisplay: flex;\r\n}\r\n\r\n.edit-element--toolbar {\r\n\tpadding: 0 8px 0 0;\r\n}\r\n\r\n.edit-element--active {\r\n\tbackground-color: #D7EFFF;\r\n}\r\n\r\n\r\n.edit--element-name {\r\n\tcolor: #000000;\r\n\tmax-width: 300px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n}\r\n\r\n.edit--element-id {\r\n\tcolor: #808080;\r\n\tmax-width: 300px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n}\r\n\r\n.edit-element-icon--container {\r\n    width: 24px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\tcursor: pointer;\r\n}\r\n\r\n.edit-element-icon {\r\n    width: 16px;\r\n    height: 16px;\r\n\tdisplay: block;\r\n    cursor: pointer;\r\n}\r\n\r\n.edit-element-icon:not(.edit-element-icon--disabled) svg {\r\n    fill: black;\r\n\tcolor: black;\r\n}\r\n\r\n.edit-element-icon--disabled svg {\r\n    fill: #a2aeba;\r\n\tcolor: #a2aeba;\r\n}\r\n\r\n.edit-element-content {\r\n\tpointer-events: none;\r\n}\r\n\r\n.edit-element-dropzone {\r\n\theight: 4px;\r\n\twidth: 100%;\r\n\tbackground-color: #027ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tborder-radius: 2px;\r\n\topacity: 0.6;\r\n\tposition: absolute;\r\n\tanimation: expand-height .2s;\r\n}\r\n\r\n@keyframes expand-height {\r\n\tfrom {\r\n\t\theight: 0;\r\n\t}\r\n\tto {\r\n\t\theight: 4px;\r\n\t}\r\n}\r\n\r\n.edit-element-container {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.edit-element-container--reverse {\r\n\tdisplay: flex;\r\n\tflex-direction: column-reverse;\r\n}\r\n\r\n.edit--element-name.req-l:after {\r\n\tcontent: "*";\r\n\tfont-size: 15px;\r\n\tpadding-left: 5px;\r\n}\r\n',""]),e.exports=o},"client-controls/controls/dialog/informer/qp-informer.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"\r\n.qp-informer-rack {\r\n\twidth: 0px;\r\n\theight: 0px;\r\n\tbackground: red;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: flex-end;\r\n}\r\n\r\n.qp-infromer {\r\n\tposition: relative;\r\n\tz-index: 30000;\r\n\twidth: 310px;\r\n\tpadding: 17px 33px 17px 43px;\r\n\tmargin-bottom: 12px;\r\n\tfont-size: 14px;\r\n\tfont-weight: 400;\r\n\tline-height: 16px;\r\n\ttop: 10px;\r\n\tright: 10px;\r\n\tbackground: white;\r\n\tbox-shadow: 0px 0px 30px rgba(0, 0, 0, 0.35);\r\n\toverflow-wrap: break-word;\r\n\tborder-radius: 5px;\r\n}\r\n\r\n.qp-infromer {\r\n\tanimation-name: scale;\r\n\tanimation-iteration-count: 1;\r\n\tanimation-duration: .2s;\r\n\tanimation-timing-function: cubic-bezier(.23,.86,.31,1.22);\r\n}\r\n\r\n.qp-infromer.qp-closing {\r\n\ttransform: scale(0);\r\n\ttransition: transform .2s cubic-bezier(.53,-0.29,.37,.52);\r\n}\r\n\r\n\r\n.qp-infromer.qp-status-error {\r\n\tborder-left: 5px solid var(--qp-error-color);\r\n}\r\n.qp-infromer.qp-status-info {\r\n\tborder-left: 5px solid var(--qp-success-color);\r\n}\r\n.qp-infromer.qp-status-warning {\r\n\tborder-left: 5px solid var(--qp-warning-color);\r\n}\r\n\r\n.qp-infromer.qp-status-warning svg {\r\n\tfill: var(--qp-warning-color);\r\n}\r\n\r\n.qp-infromer .qp-close-icon {\r\n\tposition: absolute;\r\n\tright: 12px;\r\n\ttop: 12px;\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n\tcursor: pointer;\r\n}\r\n\r\n@keyframes scale {\r\n\t0% {transform: scale(0)}\r\n\t100% {transform: scale(1)}\r\n}\r\n\r\n.qp-infromer .qp-status-icon {\r\n\tposition: absolute;\r\n\tleft: 10px;\r\n\ttop: 14px;\r\n\twidth: 22px;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-infromer.qp-status-info .qp-status-icon svg {\r\n\tfill: var(--qp-success-color);\r\n}\r\n\r\n.qp-infromer.qp-status-error .qp-status-icon svg {\r\n\tfill: none;\r\n\tcolor: var(--qp-error-color);\r\n}\r\n\r\n.fatal-error-box {\r\n\tposition: absolute;\r\n\tz-index: 100000;\r\n\ttop: 20px;\r\n\tleft: 20px;\r\n\tmin-height: 50px;\r\n\tbackground: #fff;\r\n\tpadding: 20px;\r\n\tborder-radius: 5px;\r\n\tborder-left: 5px solid var(--qp-error-color);\r\n\tbox-shadow: 0px 0px 30px rgba(0, 0, 0, 0.35);\r\n\tbackground-color: #FFF0F0;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/dialog/long-run/qp-long-run.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'/* for backward compatibility only */\r\nqp-long-run.progressButton {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-lr {\r\n\tposition: absolute;\r\n\tz-index: 6000;\r\n\twidth: 223px;\r\n\tpadding: 17px 40px 17px 42px;\r\n\tfont-size: 14px;\r\n\tfont-weight: normal;\r\n\ttop: 10px;\r\n\tright: 10px;\r\n\tbackground: white;\r\n\tbox-shadow: 0px 0px 30px rgba(0, 0, 0, 0.35);\r\n\toverflow-wrap: break-word;\r\n\tbox-sizing: content-box;\r\n\tborder-radius: 5px;\r\n}\r\n\r\n.qp-lr {\r\n\tanimation-name: scale;\r\n\tanimation-iteration-count: 1;\r\n\tanimation-duration: .2s;\r\n\tanimation-timing-function: cubic-bezier(.23,.86,.31,1.22);\r\n}\r\n\r\n.qp-lr.qp-closing {\r\n\ttransform: scale(0);\r\n\ttransition: transform .2s cubic-bezier(.53,-0.29,.37,.52);\r\n}\r\n\r\n\r\n.qp-lr.qp-status-aborted {\r\n\tborder-left: 5px solid var(--qp-error-color);\r\n}\r\n.qp-lr.qp-status-completed {\r\n\tborder-left: 5px solid var(--qp-success-color);\r\n}\r\n.qp-lr.qp-status-inprocess {\r\n\tborder-left: 5px solid var(--qp-warning-color);\r\n\tpadding-bottom: 58px;\r\n}\r\n.qp-lr.qp-status-completedwithwarning {\r\n\tborder-left: 5px solid var(--qp-warning-color);\r\n}\r\n\r\n.qp-lr .qp-lr-timer {\r\n\tcolor: #9F9F9F;\r\n}\r\n\r\n.qp-lr .qp-lr-cancel {\r\n\tposition: absolute;\r\n\tbottom: 15px;\r\n\tright: 15px;\r\n\tpadding: 5px 12px;\r\n\theight: 26px;\r\n\tbackground: #ECEDF0;\r\n\tfont-weight: 500;\r\n\tfont-size: 13px;\r\n\tborder-radius: 5px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-lr .qp-lr-cancel:hover:after {\r\n\tbackground-color: rgba(0, 0, 0, 0.1);\r\n\tcontent: "";\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n}\r\n\r\n.qp-lr .qp-close-icon {\r\n\tposition: absolute;\r\n\tright: 12px;\r\n\ttop: 12px;\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-lr .qp-close-icon:hover {\r\n\tcolor: #000;\r\n}\r\n\r\n@keyframes rotate {\r\n  25%   {transform: rotate(90deg);}\r\n  50%  {transform: rotate(180deg);}\r\n  75%  {transform: rotate(270deg);}\r\n  100% {transform: rotate(360deg);}\r\n}\r\n\r\n@keyframes scale {\r\n\t0% {transform: scale(0)}\r\n\t100% {transform: scale(1)}\r\n}\r\n\r\n.qp-lr.qp-status-inprocess .qp-status-icon {\r\n\tanimation-name: rotate;\r\n\tanimation-iteration-count: infinite;\r\n\tanimation-duration: 1s;\r\n\tanimation-timing-function: linear;\r\n}\r\n\r\n.qp-lr .qp-status-icon {\r\n\tposition: absolute;\r\n\tleft: 10px;\r\n\ttop: 14px;\r\n\twidth: 22px;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-lr .qp-status-icon svg {\r\n\tfill: #333333;\r\n}\r\n\r\n.qp-lr.qp-status-inprocess .qp-status-icon {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tleft: 13px;\r\n\ttop: 16px;\r\n}\r\n\r\n.qp-lr.qp-status-completed .qp-status-icon svg {\r\n\tfill: var(--qp-success-color);\r\n}\r\n\r\n.qp-lr.qp-status-aborted .qp-status-icon svg {\r\n\tfill: none;\r\n\tcolor: var(--qp-error-color);\r\n}\r\n\r\n.qp-lr.qp-status-completedwithwarning .qp-status-icon {\r\n\ttop: 15px;\r\n}\r\n\r\n.qp-lr.qp-status-completedwithwarning .qp-status-icon svg {\r\n\tfill: var(--qp-warning-color);\r\n}\r\n\r\n.qp-lr-message {\r\n\twhite-space: pre-wrap;\r\n}\r\n',""]),e.exports=o},"client-controls/controls/dialog/processing-dialog/qp-processing-dialog.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,":root {\r\n\t--qp-processing-dialog-progress-color: #56BAFF;\r\n\t--qp-processing-dialog-buttons-gap: 8px;\r\n}\r\n\r\n#processingDialog inline-view {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.processing-dialog__head-message {\r\n\tflex-shrink: 0;\r\n\tmin-height: 17px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.processing-dialog__head-message-error-icon {\r\n\tflex-shrink: 0;\r\n\tfont-size: 18px;\r\n\tmargin-right: 5px;\r\n\tmargin-top: -2px;\r\n\tmargin-bottom: -2px;\r\n}\r\n\r\n.processing-dialog .LabelAbbrError {\r\n\tborder-bottom: 1px dashed #ff0000;\r\n\tcolor: #ff0000;\r\n}\r\n\r\n.processing-dialog .LabelAbbrWarning {\r\n\tborder-bottom: 1px dashed #ffc107;\r\n\tcolor: #ffc107;\r\n}\r\n\r\n.processing-dialog .LabelAbbrError qp-tooltip,\r\n.processing-dialog .LabelAbbrWarning qp-tooltip {\r\n\tfont-size: 0;\r\n}\r\n\r\n.processing-dialog__progress-bar {\r\n\tflex-shrink: 0;\r\n    height: 10px;\r\n    margin-top: 7px;\r\n    margin-bottom: 20px;\r\n    background-color: var(--qp-menu-hover);\r\n}\r\n\r\n.processing-dialog__progress-bar-percentage {\r\n\theight: 100%;\r\n}\r\n\r\n.processing-dialog__progress-bar-percentage--in-process {\r\n\tbackground-image: linear-gradient(to left top, var(--qp-processing-dialog-progress-color) 25%, transparent 25%, transparent 50%, var(--qp-processing-dialog-progress-color) 50%, var(--qp-processing-dialog-progress-color) 75%, transparent 75%, transparent);\r\n\tbackground-color: #98d5ff;\r\n\tbackground-size: 2rem 1rem;\r\n\tanimation: progress-bar-stripes 1s linear infinite;\r\n\twidth: 0;\r\n}\r\n\r\n.processing-dialog__progress-bar-percentage--initializing {\r\n\tbackground-image: linear-gradient(to left, transparent 25%, var(--qp-processing-dialog-progress-color) 25%, var(--qp-processing-dialog-progress-color) 75%, transparent 75%, transparent);\r\n\tbackground-color: #98d5ff;\r\n\tbackground-size: 100% 1rem;\r\n\tanimation: glow-position 5s linear infinite;\r\n\twidth: 100% !important;\r\n}\r\n\r\n.processing-dialog__progress-bar-percentage--animated {\r\n\ttransition: width 1s ease-in-out;\r\n}\r\n\r\n@keyframes glow-position {\r\n\tfrom {\r\n\t\tbackground-position-x: 0;\r\n\t}\r\n\tto {\r\n\t\tbackground-position-x: 100rem;\r\n\t}\r\n}\r\n\r\n@keyframes progress-bar-stripes {\r\n\tfrom {\r\n\t\tbackground-position: 2rem 0;\r\n\t}\r\n\tto {\r\n\t\tbackground-position: 0 0;\r\n\t}\r\n}\r\n\r\n.processing-dialog__filters {\r\n\tflex-shrink: 0;\r\n\tflex-basis: 54px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.processing-dialog__filters-list {\r\n\tdisplay: flex;\r\n\tmargin-right: calc(var(--qp-processing-dialog-buttons-gap) * -1);\r\n}\r\n\r\n.processing-dialog__filters--empty .processing-dialog__filters-button {\r\n\topacity: 1;\r\n}\r\n\r\n.processing-dialog__filters-button {\r\n\tflex: 1 1 25%;\r\n\toutline: none;\r\n\tborder: none;\r\n\tborder-radius: 2px;\r\n\tmargin-right: var(--qp-processing-dialog-buttons-gap);\r\n\tpadding: 5px 10px;\r\n\tfont-size: 16px;\r\n\tcursor: pointer;\r\n\topacity: 0.5;\r\n}\r\n\r\n.processing-dialog__filters-button--default,\r\n.processing-dialog__filters-button--disabled {\r\n\tbackground-color: var(--qp-menu-hover);\r\n\tcolor: #333333;\r\n}\r\n\r\n.processing-dialog__filters-button--default:hover,\r\n.processing-dialog__filters-button--disabled:hover {\r\n\tbackground-color: var(--qp-primary-color);\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\n.processing-dialog__filters-button--completed {\r\n\tbackground-color: #28A745;\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\n.processing-dialog__filters-button--completed:hover {\r\n\tbackground-color: #228C3B;\r\n}\r\n\r\n.processing-dialog__filters-button--error {\r\n\tbackground-color: #DC3545;\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\n.processing-dialog__filters-button--error:hover {\r\n\tbackground-color: #C73041;\r\n}\r\n\r\n.processing-dialog__filters-button--warning {\r\n\tbackground-color: #FFC107;\r\n}\r\n\r\n.processing-dialog__filters-button--warning:hover {\r\n\tbackground-color: #E8B007;\r\n}\r\n\r\n.processing-dialog__filters-button--disabled {\r\n\tcolor: #9B9B9B;\r\n}\r\n\r\n.processing-dialog__filters-button--current {\r\n\topacity: 1;\r\n}\r\n\r\n.processing-dialog__filters-button-input {\r\n\tdisplay: none;\r\n}\r\n\r\n.processing-dialog__filters-button-counter {\r\n\tmargin-bottom: 4px;\r\n}\r\n\r\n.processing-dialog__filters-button-label:after {\r\n\tcontent: '\\e9c6';\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tfont: normal normal normal 24px / 1 'FontAwesome';\r\n\tmargin-top: -3px;\r\n\tmargin-left: 5px;\r\n}\r\n\r\n@container (max-width: 700px) {\r\n\t.processing-dialog__filters {\r\n\t\tflex-basis: auto;\r\n\t}\r\n\r\n\t.processing-dialog__filters-button-label:after {\r\n\t\tdisplay: block;\r\n\t\tmargin: 5px 0 0;\r\n\t\ttext-align: center;\r\n\t}\r\n}\r\n\r\n@container (max-width: 500px) {\r\n\t.processing-dialog__filters-list {\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.processing-dialog__filters-button {\r\n\t\tmargin-top: calc(var(--qp-processing-dialog-buttons-gap) / 2);\r\n\t\tmargin-bottom: calc(var(--qp-processing-dialog-buttons-gap) / 2);\r\n\t}\r\n}\r\n\r\n.processing-dialog__filters-button--current .processing-dialog__filters-button-label:after {\r\n\tcontent: '\\e9c5';\r\n}\r\n\r\n.processing-dialog__results {\r\n\tflex: 1 auto;\r\n\tmargin-top: 15px;\r\n}\r\n\r\n.processing-dialog__footer {\r\n\ttext-align: center;\r\n\tpadding-top: var(--qp-sections-row-gap);\r\n}\r\n\r\n.qp-maximized .processing-dialog__footer {\r\n\tpadding-bottom: 15px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/dialog/quick-processing/qp-quick-processing.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-status-dialog {\r\n\tpointer-events: none;\r\n}\r\n\r\n.qp-status-dialog .qp-dialog {\r\n\tposition: absolute;\r\n\tleft: auto !important;\r\n\ttop: 10px !important;\r\n\tright: 10px;\r\n\tfont-size: 14px;\r\n\tborder-radius: 5px;\r\n\tborder-left-width: 5px;\r\n\tborder-left-style: solid;\r\n\ttransform: scale(0) !important;\r\n\ttransition: transform .2s cubic-bezier(0.23, 0.86, 0.31, 1.22);\r\n\tpointer-events: auto;\r\n}\r\n\r\n.qp-status-dialog .status-dialog-in-progress {\r\n\tborder-left-color: var(--qp-warning-color);\r\n}\r\n\r\n.qp-status-dialog .status-dialog-completed {\r\n\tborder-left-color: var(--qp-success-color);\r\n}\r\n\r\n.qp-status-dialog .status-dialog-aborted,\r\n.qp-status-dialog .status-dialog-not-completed {\r\n\tborder-left-color: var(--qp-error-color);\r\n}\r\n\r\n.qp-status-dialog.active .qp-dialog {\r\n\ttransform: scale(1) !important;\r\n}\r\n\r\n.qp-status-dialog:not(.active) .qp-dialog {\r\n\ttransition-timing-function: cubic-bezier(0.53, -0.29, 0.37, 0.52);\r\n}\r\n\r\n.qp-status-dialog .dialog .qp-dialog-header {\r\n\theight: 0;\r\n\tpadding: 0;\r\n\toverflow: visible;\r\n}\r\n\r\n.qp-status-dialog .dialog ux-dialog-body {\r\n\tpadding-left: 0;\r\n\tpadding-right: 5px;\r\n}\r\n\r\n.qp-status-dialog .qp-dialog-header-buttons {\r\n\ttop: 0;\r\n\tright: 5px;\r\n\tz-index: 5;\r\n}\r\n\r\n.qp-status-dialog .qp-dialog-close {\r\n\tmargin-left: 0;\r\n}\r\n\r\n.quick-processing__messages-list {\r\n\tmargin-bottom: 2px;\r\n\tposition: relative;\r\n}\r\n\r\n.quick-processing__messages-list:before {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\twidth: 2px;\r\n\theight: 100%;\r\n\tbackground: #D1D1D1;\r\n\tposition: absolute;\r\n\tleft: 9px;\r\n\ttop: 0;\r\n}\r\n\r\n.quick-processing__message {\r\n\tpadding-left: 32px;\r\n\tpadding-top: 4px;\r\n\tmin-height: 23px;\r\n\tposition: relative;\r\n}\r\n\r\n.animate-expand.au-enter {\r\n\tmin-height: 0;\r\n\tmax-height: 0;\r\n\topacity: 0;\r\n\ttransform: scaleY(0);\r\n\ttransform-origin: 0 0;\r\n}\r\n\r\n.animate-expand.au-enter-active {\r\n\tanimation: expand .2s ease;\r\n}\r\n\r\n.animate-expand.au-entered {\r\n\tmax-height: none;\r\n}\r\n\r\n@keyframes expand {\r\n\t0% {\r\n\t\tmax-height: 0;\r\n\t\topacity: 0;\r\n\t\ttransform: scaleY(0);\r\n\t\ttransform-origin: 0 0;\r\n\t}\r\n\t100% {\r\n\t\tmax-height: 200px;\r\n\t\topacity: 1;\r\n\t\ttransform: scaleY(1);\r\n\t\ttransform-origin: 0 0;\r\n\t}\r\n}\r\n\r\n.quick-processing__message:first-child {\r\n\tpadding-right: 25px;\r\n}\r\n\r\n.quick-processing__message-icon {\r\n\twidth: 22px;\r\n\theight: 22px;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tz-index: 2;\r\n}\r\n\r\n.quick-processing__message-icon:before {\r\n\tcontent: '';\r\n\twidth: calc(100% + 6px);\r\n\theight: calc(100% + 6px);\r\n\tposition: absolute;\r\n\tleft: -3px;\r\n\ttop: -3px;\r\n\tbackground: white;\r\n}\r\n\r\n.quick-processing__message + .quick-processing__message {\r\n\tmargin-top: 18px;\r\n}\r\n\r\n.quick-processing__message:last-child:before {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\twidth: 20px;\r\n\theight: calc(100% - 20px);\r\n\tbackground: white;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n}\r\n\r\n.quick-processing__message-part--link {\r\n\tcolor: var(--qp-primary-color);\r\n\ttext-decoration: none;\r\n}\r\n\r\n.quick-processing__message-icon svg {\r\n\tposition: relative;\r\n\tz-index: 2;\r\n}\r\n\r\n.quick-processing__message--success .quick-processing__message-icon svg {\r\n\tfill: var(--qp-success-color);\r\n}\r\n\r\n.quick-processing__message--error .quick-processing__message-icon svg {\r\n\tcolor: var(--qp-error-color);\r\n}\r\n\r\n.quick-processing__message-error {\r\n\tcolor: var(--qp-error-color);\r\n}\r\n\r\n.quick-processing__message-icon--spinner {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tleft: 2px;\r\n\ttop: 3px;\r\n}\r\n\r\n.quick-processing__message-icon--spinner:before {\r\n\theight: calc(100% + 8px);\r\n\ttop: -5px;\r\n}\r\n\r\n.quick-processing__message-icon--spinner svg {\r\n\tanimation-name: rotate;\r\n\tanimation-iteration-count: infinite;\r\n\tanimation-duration: 1s;\r\n\tanimation-timing-function: linear;\r\n}\r\n\r\n@keyframes rotate {\r\n\t25% {\r\n\t\ttransform: rotate(90deg);\r\n\t}\r\n\t50% {\r\n\t\ttransform: rotate(180deg);\r\n\t}\r\n\t75% {\r\n\t\ttransform: rotate(270deg);\r\n\t}\r\n\t100% {\r\n\t\ttransform: rotate(360deg);\r\n\t}\r\n}\r\n\r\n.quick-processing__timer {\r\n\tcolor: #9F9F9F;\r\n}\r\n\r\n.quick-processing__footer {\r\n\tmargin-top: 15px;\r\n\ttext-align: right;\r\n\tpadding-right: 5px;\r\n}\r\n\r\n.quick-processing__footer-button .qp-button {\r\n\theight: 26px;\r\n\tpadding-left: 12px;\r\n\tpadding-right: 12px;\r\n\tfont-size: 13px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/branch-selector/qp-branch-selector.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-branch-selector,\r\n.qp-branch-selector * {\r\n\tbox-sizing: border-box;\r\n}\r\n\r\nqp-branch-selector {\r\n\tdisplay: block;\r\n}\r\n\r\nqp-branch-selector qp-loader-indicator {\r\n\tpointer-events: none;\r\n}\r\n\r\n.branch-selector__editor input {\r\n\tcolor: transparent;\r\n\tmargin: 1px;\r\n\tborder: 0;\r\n\tflex-grow: 1;\r\n\tpadding: 0 3px 0 7px;\r\n\twidth: 0;\r\n\tborder-radius: 6px;\r\n}\r\n.branch-selector__editor.focus input {\r\n\tcolor: initial;\r\n}\r\n\r\n.branch-selector__editor {\r\n\tbackground-color: #fff;\r\n\tdisplay:flex;\r\n\tpadding:0;\r\n\tposition:relative;\r\n\tdirection:ltr;\r\n\tborder: #D2D4D7 1px solid;\r\n  margin-bottom: 0px;\r\n  margin-top: 0px;\r\n  box-sizing: border-box;\r\n  height: var(--qp-input-height);\r\n\tborder-radius: 6px;\r\n  -webkit-box-sizing: border-box;\r\n  -moz-box-sizing: border-box;\r\n}\r\n.branch-selector__editor.focus {\r\n  border: 1px solid #007ACC;\r\n  border: 1px solid var(--primary-color, #007ACC);\r\n  box-shadow: inset 0px 0px 0px 1px #007ACC;\r\n  box-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.branch-selector__editor.focus .branch-selector__display-text {\r\n\tdisplay: none;\r\n}\r\n\r\n.branch-selector__display-text {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 18px;\r\n\theight: 100%;\r\n\tpointer-events: none;\r\n\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tpadding: 0 0 0 8px;\r\n\tline-height: 30px;\r\n\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n.rtl .branch-selector__display-text {\r\n\tright:0;\r\n\tleft:26px;\r\n\tpadding: 0 6px 0 4px;\r\n}\r\n\r\n.branch-selector__button {\r\n\tbackground: #fff;\r\n\tborder: 0;\r\n\twidth: 24px;\r\n\tcursor: pointer;\r\n\tmargin: 1px;\r\n\tpadding: 4px 3px;\r\n\tborder-radius: 6px;\r\n}\r\n.branch-selector__button svg {\r\n\tcolor: #808080;\r\n\tfill: #808080;\r\n}\r\n.branch-selector__button:hover svg {\r\n\tcolor: #000;\r\n\tfill: #000;\r\n}\r\n\r\n.edit-mode .branch-selector__display-text {\r\n\tvisibility: hidden;\r\n}\r\n\r\n.edit-mode input {\r\n\tcolor: initial;\r\n}\r\n\r\n.branch-selector__branch-tree {\r\n\twidth: auto;\r\n\toverflow-y: auto;\r\n\tposition: absolute;\r\n\tz-index: 10000;\r\n\tbackground: white;\r\n\tbox-shadow: 3px 3px 4px rgb(0 0 0 / 64%);\r\n\tmax-height: 210px;\r\n\tmax-width: 610px;\r\n}\r\n\r\n.branch-selector__node {\r\n\tdisplay: block;\r\n\tmin-height: 18px;\r\n\tpadding: 5px 6px;\r\n\tfont-size: 13px;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\tposition: relative;\r\n\tbox-sizing: border-box;\r\n\theight: 24px;\r\n}\r\n\r\n.branch-selector__node.selected {\r\n  color: #007ACC;\r\n  color: var(--primary-color, #007ACC);\r\n}\r\n\r\n.branch-selector__node.highlight {\r\n  color: white;\r\n  background-color: #007ACC;\r\n  background-color: var(--primary-color, #007ACC);\r\n}\r\n\r\n@media screen and (-ms-high-contrast: active) {\r\n  .branch-selector__node.highlight {\r\n    background-color: white;\r\n    color: black;\r\n  }\r\n}\r\n\r\n.branch-selector__node.nesting-level-0 {\r\n\tpadding-left: 20px;\r\n}\r\n\r\n.branch-selector__node.nesting-level-0 {\r\n\tpadding-left: 20px;\r\n}\r\n.branch-selector__node.nesting-level-1 {\r\n\tpadding-left: 40px;\r\n}\r\n\r\n.branch-selector__node.nesting-level-2 {\r\n\tpadding-left: 60px;\r\n}\r\n\r\n\r\n.rtl .branch-selector__node.nesting-level-0 {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 20px;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-0 {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 20px;\r\n}\r\n.rtl .branch-selector__node.nesting-level-1 {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 40px;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-2 {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 60px;\r\n}\r\n\r\n.branch-selector__group {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.branch-selector__group .control-icon {\r\n\tfont-weight: normal;\r\n\t/* font-size: 15px; */\r\n}\r\n\r\n/* .branch-selector__node.nesting-level-1::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tleft: 20px;\r\n\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n} */\r\n\r\n.branch-selector__node.nesting-level-1+.branch-selector__node.nesting-level-2::before {\r\n\theight: 60%;\r\n\ttop: -15%;\r\n}\r\n\r\n.branch-selector__node.nesting-level-2::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tleft: 45px;\r\n\t/* left: 0;//2.35em; */\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n.branch-selector__node.nesting-level-1::before {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tleft: 25px;\r\n\t/* left: 0;//2.35em; */\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-2::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tright: 45px;\r\n\t/* left: 0;//2.35em; */\r\n\tleft:unset;\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-left: 0;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-right: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-1::before {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tright: 25px;\r\n\t/* left: 0;//2.35em; */\r\n\tleft:unset;\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-left: 0;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-right: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n\r\n.branch-selector__node.nesting-level-2:not(.parent-last-child)::after {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tleft: 25px;\r\n\t/* left: 0;//2.35em; */\r\n\ttop: -25%;\r\n\theight: 100%;\r\n\t/* border-bottom: 1px dotted #bbb; */\r\n\tborder-left: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-2:not(.parent-last-child)::after {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tright: 25px;\r\n\t/* left: 0;//2.35em; */\r\n\tleft:unset;\r\n\ttop: -25%;\r\n\theight: 100%;\r\n\t/* border-bottom: 1px dotted #bbb; */\r\n\tborder-right: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n\r\n.branch-selector__node.nesting-level-0+.branch-selector__node.nesting-level-1::before {\r\n\theight: 60%;\r\n\ttop: -15%;\r\n}\r\n\r\n.branch-selector__node qp-icon i.ac {\r\n\tfont-size: 16px;\r\n}\r\n\r\n.branch-selector__node .group-icon {\r\n\tposition: absolute;\r\n\r\n\twidth: 10px;\r\n\tleft: 6px;\r\n\ttop: 3px;\r\n\t/* left: 0;//2.35em; */\r\n\t/* background-color: white; */\r\n\tbackground-color: inherit;\r\n\r\n\r\n}\r\n.rtl .branch-selector__node .group-icon {\r\n\tleft:unset;\r\n\tright:6px;\r\n}\r\n\r\n.branch-selector__node .company-icon {\r\n\tposition: absolute;\r\n\tbackground-color: inherit;\r\n\twidth: 14px;\r\n\theight: 16px;\r\n\tleft: 19px;\r\n\ttop: 4px;\r\n}\r\n\r\n.rtl .branch-selector__node .company-icon {\r\n\tleft:unset;\r\n\tright:19px;\r\n}\r\n\r\n\r\n.branch-selector__node.nesting-level-0 .company-icon {\r\n\tleft: 4px;\r\n\ttop: 4px;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-0 .company-icon{\r\n\tleft:unset;\r\n\tright:4px;\r\n}\r\n\r\n.branch-selector__node.can-select {\r\n\tcursor: pointer;\r\n}\r\n\r\n.branch-selector__node-organization {\r\n\tmargin: 2px 0;\r\n}\r\n\r\n.branch-selector__node-branch {\r\n\r\n\tpadding-left: 30px;\r\n\tposition: relative;\r\n}\r\n\r\n.rtl .branch-selector__node-branch {\r\n\r\n\tpadding-left: unset;\r\n\tpadding-right: 30px;\r\n\tposition: relative;\r\n}\r\n\r\n\r\n.branch-selector__node-branch::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 15px;\r\n\tleft: 10px;\r\n\t/* left: 0;//2.35em; */\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n}\r\n\r\n.branch-selector__node-organization+.branch-selector__node-branch::before {\r\n\theight: 60%;\r\n\ttop: -15%;\r\n}\r\n\r\nqp-tooltip .tooltip-level {\r\n\tmargin: 5px 0;\r\n\tpadding: 0 2px;\r\n}\r\n\r\nqp-tooltip .branch-level-1 {\r\n\tposition: relative;\r\n\tpadding-left: 15px;\r\n}\r\n\r\nqp-tooltip .branch-level-2 {\r\n\tposition: relative;\r\n\tpadding-left: 30px;\r\n}\r\n\r\n\r\nqp-tooltip .branch-level-1::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 8px;\r\n\tleft: 4px;\r\n\t/* left: 0;//2.35em; */\r\n\theight: 60%;\r\n\ttop: -15%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n}\r\n\r\nqp-tooltip .branch-level-2::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 8px;\r\n\tleft: 19px;\r\n\t/* left: 0;//2.35em; */\r\n\theight: 60%;\r\n\ttop: -15%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/calendar/qp-calendar.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'.qp-calendar select.year-select {\r\n\tscrollbar-width: thin;\r\n\tscrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n\tposition: absolute;\r\n\twidth: 80px;\r\n}\r\n@supports (-moz-appearance:none) {\r\n\t.qp-calendar select.year-select{\r\n\t\twidth: 80px;\r\n\t}\r\n\t.qp-calendar select.month-select{\r\n\t\twidth: 100px;\r\n\t}\r\n}\r\n.qp-calendar select.year-select::-webkit-scrollbar {\r\n\twidth: 19px;\r\n}\r\n.qp-calendar select.year-select::-webkit-scrollbar-thumb {\r\n    background: rgba(0, 0, 0, 0.15);\r\n    border-radius: 10px;\r\n    width: 3px;\r\n    border: 5px solid white;\r\n}\r\n.year-select.closed {\r\n\ttop: 0;\r\n}\r\n.year-select.opened {\r\n\ttop: 27px;\r\n\theight: auto;\r\n}\r\n\r\n.calendar {\r\n\tbackground-color: rgba(245, 247, 249, 1);\r\n\tborder-radius: 10px;\r\n\tpadding: 20px;\r\n\tbox-shadow: 0px 0px 16px 0px rgba(115, 115, 115, 0.5);\r\n }\r\n\r\n .calendarMT {\r\n\tpadding: 4px 4px;\r\n\tfont-size: 13px;\r\n }\r\n\r\n .calendarMT select {\r\n\tpadding: 0 10px;\r\n\tborder: 1px solid rgba(0, 0, 0, 0.15);\r\n\tborder-radius: 6px;\r\n\theight: 28px;\r\n\tappearance: none;\r\n\tcursor: pointer;\r\n}\r\n.calendarMT select::-ms-expand {\r\n\tdisplay: none;\r\n}\r\n\r\n\r\n.qp-calendar .month-year-header {\r\n\tdisplay: flex;\r\n\tgap: 8px;\r\n\tjustify-content: center;\r\n}\r\n\r\n.qp-calendar span.month-select {\r\n\tposition: relative;\r\n}\r\n\r\n.qp-calendar span.year-select {\r\n\tposition: relative;\r\n\tdisplay: inline-block;\r\n\twidth: 80px;\r\n}\r\n\r\n.qp-calendar span.month-select > qp-icon,\r\n.qp-calendar span.year-select > qp-icon {\r\n\tposition: absolute;\r\n\ttop: 7px;\r\n\tright: 5px;\r\n\tz-index: 1;\r\n\tpointer-events: none;\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.qp-calendar  span.month-select:hover > qp-icon,\r\n.qp-calendar  span.year-select:hover > qp-icon {\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-calendar select.month-select {\r\n\twidth: 100px;\r\n}\r\n\r\n /* .calendarMT select + select {\r\n\tmargin-left: 8px;\r\n } */\r\n\r\n.calendarNP {\r\n\twidth: 16px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.calendarNP > qp-icon {\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n}\r\n.calendarNP:hover > qp-icon {\r\n\tcolor: #000;\r\n}\r\n\r\n .calendarF {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tpadding: 8px 0 0 0;\r\n\ttext-align: center;\r\n }\r\n\r\n.calendarD {\r\n\ttext-align: right;\r\n\tvertical-align: middle;\r\n\tpadding: 8px 12px;\r\n\tbackground: white;\r\n\tfont-size: 13px;\r\n}\r\n\r\n.calendarD.upperLeft {\r\n\tborder-radius: 8px 0 0 0;\r\n}\r\n.calendarD.upperRight {\r\n\tborder-radius: 0 8px 0 0 ;\r\n}\r\n.calendarD.bottomLeft {\r\n\tborder-radius: 0 0 0 8px;\r\n}\r\n.calendarD.bottomRight {\r\n\tborder-radius: 0 0 8px 0;\r\n}\r\n\r\n.calendarD:hover {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #FFFFFF;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n .calendar table[id$="customItems"] .calendarD {\r\n\ttext-align: left;\r\n\tcursor: pointer;\r\n\tpadding: 3px 10px;\r\n }\r\n\r\n .calendarWE {\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n }\r\n\r\n .calendarTD {\r\n\toutline: 1px solid #007ACC;\r\n\toutline: 1px solid var(--primary-color, #007ACC);\r\n\tpadding: 4px 7px;\r\n\tborder-radius: 6px;\r\n }\r\n\r\n .calendarOMD {\r\n\tcolor: RGBA(0, 0, 0, 0.26);\r\n }\r\n\r\n .calendarSD {\r\n\tbackground-color: #D2D4D7;\r\n\tborder-radius: 6px;\r\n }\r\n\r\n .calendarDH {\r\n\ttext-align: center;\r\n\tcolor: rgba(0, 0, 0, 0.64);\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tpadding: 6px 3px;\r\n }\r\n\r\n .calendarWN, .calendarWN:hover {\r\n\tcolor: rgba(0, 0, 0, 0.64);\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tfont-size: 10px;\r\n\tpadding: 8px 10px;\r\n\tline-height: 16px;\r\n }\r\n\r\n.qp-calendar .custom-items {\r\n\tvertical-align: top;\r\n\tpadding-left: 20px;\r\n }\r\n\r\n.qp-calendar .custom-items > table {\r\n\tbackground: white;\r\n\tborder-radius: 10px;\r\n\tborder-spacing: 0px 2px;\r\n}\r\n',""]),e.exports=o},"client-controls/controls/simple/caption/qp-caption.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-caption {\r\n\tfont-size: 15px;\r\n\tline-height: var(--qp-input-height);\r\n\twidth: auto;\r\n\ttext-align: left;\r\n\tfont-weight: 700;\r\n\twhite-space: nowrap;\r\n\tpadding: 0;\r\n}\r\n\r\n.qp-caption-compact {\r\n\tpadding: 8px 8px 0px 8px !important;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/check-box/qp-check-box.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'.qp-checkbox-default {\r\n\tdisplay: inline-block;\r\n\theight: var(--qp-input-height);\r\n\twidth: 100%;\r\n\twhite-space: nowrap;\r\n\r\n\t/* overflow: hidden;\r\n\ttext-overflow: ellipsis; */\r\n}\r\n\r\n.qp-checkbox-default input {\r\n\tmargin: 0 3px 0 0;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.qp-checkbox-default label {\r\n\tline-height: var(--qp-input-height);\r\n\tvertical-align: middle;\r\n}\r\n\r\n.qp-checkbox-button .qp-checkbox-icon {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-checkbox-button .qp-checkbox-label {\r\n\tdisplay: inline;\r\n}\r\n\r\n.qp-checkbox label {\r\n\tdisplay: inline-block;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twidth: calc( 100% - 20px );\r\n}\r\n\r\n.qp-checkbox input[type="checkbox"] {\r\n\tmargin-bottom: 0px;\r\n\tmargin-left: 0px;\r\n\theight: 14px;\r\n\twidth: 14px;\r\n\tposition: relative;\r\n}\r\n\r\n/* input[type="checkbox"]:focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: 0px 0px 4px 0px #007ACC;\r\n\tbox-shadow: 0px 0px 4px 0px var(--primary-color, #007ACC);\r\n} */\r\n\r\n.qp-checkbox input[type="checkbox"]:focus::after {\r\n\tcontent: "";\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\twidth: 18px;\r\n\theight: 18px;\r\n\tbackground: transparent;\r\n\tz-index: 1;\r\n\tborder: 2px solid rgba(2, 122, 204, 0.4);\r\n\ttop: -2px;\r\n\tleft: -2px;\r\n\tborder-radius: 4px;\r\n}\r\n',""]),e.exports=o},"client-controls/controls/simple/color-picker/qp-color-palette.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-color-palette {\r\n\t--control-hover-background: rgba(0, 0, 0, 0.07);\r\n\t--control-border-color: rgba(0, 0, 0, 0.09);\r\n\t--control-border-radius: 6px;\r\n\t--control-shadow-color: rgba(115, 115, 115, 0.8);\r\n\t--control-font-color: #1b1b1b;\r\n\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 8px;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-row {\r\n\tdisplay: flex;\r\n\tgap: 2px;\r\n\tmargin-bottom: 2px;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-sample {\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tborder: 1px solid var(--control-border-color);\r\n\tborder-radius: 3px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-sample.selected {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-sample svg {\r\n\twidth: 15px;\r\n\theight: 15px;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-sample:hover {\r\n\t/* box-shadow: 0px 0px 8px var(--control-shadow-color); */\r\n}\r\n\r\n.qp-color-palette .qp-color-reset {\r\n\tborder: 0px;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tbackground-color: inherit;\r\n\tgap: 7.5px;\r\n\tcursor: pointer;\r\n\theight: var(--input-height, 32px);\r\n\talign-items: center;\r\n\tpadding: 0px 9.5px;\r\n\tborder-radius: var(--control-border-radius);\r\n\tcolor: var(--control-font-color);\r\n}\r\n\r\n.qp-color-palette .qp-color-reset:hover {\r\n\tbackground-color: var(--control-hover-background);\r\n}\r\n\r\n.qp-color-palette .qp-color-reset .qp-color-reset qp-icon {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-color-palette .qp-color-sample-add {\r\n\tdisplay: flex;\r\n\theight: 20px;\r\n\twidth: 20px;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tcursor: pointer;\r\n\tcolor: var(--control-font-color);\r\n}\r\n\r\n.qp-color-palette .qp-color-sample-add svg {\r\n\twidth: 15px;\r\n\theight: 15px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/color-picker/qp-menu-color-picker.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-menu-color-picker, .qp-menu-color-picker, qp-menu-color-picker > div {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n}\r\n\r\n.qp-menu-color-picker {\r\n\tmargin: 0;\r\n\tline-height: 24px;\r\n\tvertical-align: bottom;\r\n\tcursor: pointer;\r\n\twhite-space: nowrap;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.qp-menu-color-picker .qp-menu-color-picker-opener {\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\tbackground: transparent;\r\n\tvertical-align: middle;\r\n\tborder: none;\r\n\twidth: 16px;\r\n\tmargin: 0px;\r\n\tpadding: 0px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-menu-color-picker.qp-selected,\r\n.qp-menu-color-picker:hover {\r\n\tbackground-color: rgba(0, 0, 0, 0.06);\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.qp-menu-color-picker .qp-menu-color-picker-button {\r\n\tbackground: transparent;\r\n\tborder-width: 0 1px 0 0;\r\n\tborder-style: solid;\r\n\tborder-right-color: transparent;\r\n\tpadding: 5px 2px 5px 10px;\r\n\theight: 22px;\r\n\tline-height: 22px;\r\n\tcursor: pointer;\r\n\tbox-sizing: content-box;\r\n\tvertical-align: middle;\r\n\topacity: 0.87;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.qp-menu-color-picker.qp-selected .qp-menu-color-picker-button.qp-menu-color-picker-action-button,\r\n.qp-menu-color-picker:hover .qp-menu-color-picker-button.qp-menu-color-picker-action-button {\r\n\tborder-right-color: #fff;\r\n}\r\n\r\n.qp-menu-color-picker.disabled {\r\n\tcursor: default;\r\n\topacity: 0.26;\r\n}\r\n\r\n.qp-menu-color-picker-options {\r\n\tcolor: #000;\r\n\tfill: #000;\r\n\tbackground-color: white;\r\n\tmax-height: 80vh;\r\n\toverflow-y: auto; /* for FF */\r\n\toverflow-y: overlay;\r\n\tmin-width: 50px !important;\r\n\tbox-shadow: 0px 0px 16px rgba(115, 115, 115, 0.7);\r\n\tbox-sizing: border-box;\r\n\tpadding: 0;\r\n\ttext-transform: none;\r\n\tscrollbar-width: thin;\r\n\tscrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n\tborder-radius: 6px;\r\n\tz-index: var(--zindex-dropdown, 20000);\r\n}\r\n\r\n.qp-menu-color-picker-container {\r\n\tpadding: 16px;\r\n\theight: unset;\r\n}\r\n\r\n.qp-menu-color-picker qp-hyper-icon,\r\n.qp-menu-color-picker-options qp-hyper-icon {\r\n\twidth: 16px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/date-editor/qp-datetime-edit.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-datetime__editor {\r\n\tbackground-color: #FFFFFF;\r\n\theight: var(--qp-input-height);\r\n\tposition: relative;\r\n\tcursor: default;\r\n\tborder: #D2D4D7 1px solid;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n .modern-ui .size-default .qp-datetime__editor {\r\n\tmax-width: 130px;\r\n}\r\n\r\n.qp-datetime__editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 18px;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-datetime__editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-datetime__editor input {\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tborder-width: 0px !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n\r\n\tborder: #D2D4D7 1px solid;\r\n\tpadding: 3px 8px;\r\n\tmargin-bottom: 0px;\r\n\tmargin-top: 0px;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n}\r\n\r\n.qp-datetime__editor .buttonsCont {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 0px;\r\n\theight: 100%;\r\n\tpadding-right: 8px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-datetime__editor .buttonsCont > qp-icon {\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-datetime__editor .buttonsCont > qp-icon svg {\r\n\tfill: #808080;\r\n\tcolor: #808080;\r\n}\r\n.qp-datetime__editor .buttonsCont:hover > qp-icon svg {\r\n\tfill: #000;\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-datetime__editor .center:before {\r\n\tcontent: '';\r\n\tdisplay: inline-block;\r\n\theight: 100%;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.qp-datetime__editor .sprite-icon {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n}\r\n\r\n.qp-datetime__editor .control-icon {\r\n\twidth: 14px;\r\n\theight: 15px;\r\n\tmargin-top: 2px;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.qp-datetime__editor .sprite-icon .control-icon-img {\r\n\tfont-family: 'FontAwesome' !important;\r\n\tspeak: none;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: 1;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\topacity: 0.64;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-datetime__editor .control-icon-img:before {\r\n\tcontent: \"\\e9e0\";\r\n}\r\n\r\n.qp-datetime__editor.ReadOnly {\r\n\tbackground-color: transparent;\r\n\tborder-top-color: transparent;\r\n\tborder-left-color: transparent;\r\n\tborder-right-color: transparent;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n\tborder-radius: 0;\r\n}\r\n\r\n.qp-datetime__editor.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.qp-datetime__calendar-overlay {\r\n\tposition:fixed;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 2000;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/drop-down/qp-drop-down.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-drop-down,\r\n.qp-drop-down * {\r\n  box-sizing: border-box;\r\n}\r\n\r\nqp-drop-down {\r\n\tdisplay: block;\r\n\tborder: 0;\r\n}\r\n\r\nqp-drop-down.GridCellEditor div.drop-down__editor {\r\n\theight: 100%;\r\n\tbox-sizing: content-box;\r\n\twidth: 100%;\r\n}\r\n\r\n\r\n.drop-down__editor {\r\n\tbackground-color: #FFFFFF;\r\n\theight: var(--qp-input-height);\r\n\tposition: relative;\r\n\tcursor: default;\r\n\tborder: #D2D4D7 1px solid;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tfont-size: 14px;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.drop-down__editor.ReadOnly {\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n\tborder-radius: 0;\r\n}\r\n\r\n.drop-down__editor.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.drop-down__editor .drop-down__display-text.drop-down__invisible + span + span.drop-down__text {\r\n\tdisplay: inline-block;\r\n\tline-height: 16px;\r\n}\r\n\r\n.drop-down__editor .drop-down__text {\r\n\tvertical-align: middle;\r\n\tpadding: 4px 8px 4px 8px;\r\n\theight: 24px;\r\n\tborder-radius: 6px;\r\n\tdisplay: none;\r\n}\r\n\r\n/* TODO: REMOVE NEXT RULE !!!!*/\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='N'] {\r\n\tbackground-color: rgba(195, 231, 255, 1);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='H'] {\r\n\t\tbackground-color: rgba(228, 192, 0, 0.25);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='V'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='L'] {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.1);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='R'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='D'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='B'] {\r\n\t\tbackground-color: rgba(255, 208, 208, 0.6);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='C'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='S'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='I'] {\r\n\t\tbackground-color: rgba(200, 229, 190, 0.6);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='P'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='E'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='A'] {\r\n\t\tbackground-color: rgba(123, 97, 255, 0.2);\r\n}\r\n\r\n\r\n.drop-down__editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 24px;\r\n\theight: 100%;\r\n}\r\n\r\n.drop-down__editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\t/* text-overflow: ellipsis; */\r\n}\r\n\r\n.drop-down__editor .drop-down__text {\r\n\twidth: var(--control-editor-width, unset);\r\n\tbox-sizing: var(--control-editor-box-sizing, inherit);\r\n}\r\n\r\n.drop-down__editor .buttonsCont {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 0px;\r\n\theight: 100%;\r\n\tpadding-right: 8px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.drop-down__editor .buttonsCont > qp-icon {\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.drop-down__editor .buttonsCont > qp-icon svg {\r\n\tfill: #808080;\r\n\tcolor: #808080;\r\n}\r\n.drop-down__editor .buttonsCont:hover > qp-icon svg {\r\n\tfill: #000;\r\n\tcolor: #000;\r\n}\r\n\r\n.drop-down__editor .center:before {\r\n\tcontent: '';\r\n\tdisplay: inline-block;\r\n\theight: 100%;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.drop-down__editor .sprite-icon {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n}\r\n\r\n.drop-down__editor .control-icon {\r\n\twidth: 14px;\r\n\theight: 15px;\r\n\tmargin-top: 2px;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.drop-down__editor .sprite-icon .control-icon-img {\r\n\tfont-family: 'FontAwesome' !important;\r\n\tspeak: none;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: 1;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\topacity: 0.64;\r\n\tcursor: pointer;\r\n}\r\n\r\n.drop-down__editor .control-icon-img.control-DropDownN:before {\r\n\tcontent: \"\\e9e0\";\r\n}\r\n\r\n.drop-down__display-text {\r\n  pointer-events: none;\r\n\r\n  margin: 0;\r\n  border: 0;\r\n  padding: 0 4px 0 6px;\r\n  line-height: 24px;\r\n\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tpadding: 0px 4px 0px 6px;\r\n\tborder-width: 0px !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.drop-down__display-text.drop-down__invisible {\r\n\tposition: absolute;\r\n\ttop: -40px;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.drop-down__current-color {\r\n\theight: 14px;\r\n\twidth: 14px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tborder-radius: 4px;\r\n\tmargin: 0 5px 0 0;\r\n}\r\n\r\n.drop-down__current-image {\r\n\tmargin-right: 5px;\r\n\tfloat: none;\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tfont-size: 15px;\r\n}\r\n\r\n.drop-down__image {\r\n\tfloat: none;\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.drop_down__color {\r\n\theight: 14px;\r\n\twidth: 14px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tborder-radius: 4px;\r\n\tmargin: 2px;\r\n}\r\n\r\n.drop-down__option {\r\n\tmin-height: 1em;\r\n\tpadding: 2px 4px;\r\n\tvertical-align: middle;\r\n\ttext-align: left;\r\n\twhite-space: nowrap;\r\n\tcursor: default;\r\n}\r\n\r\n.drop-down__option.ddSelection {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\n.drop-down__option.ddDisabled {\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\topacity: 0.66 !important;\r\n\tpointer-events: none;\r\n}\r\n\r\n.drop-down__option.ddInfo {\r\n\tfont-style: italic;\r\n}\r\n\r\nqp-options .ddItemDisabled {\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\topacity: 0.26 !important;\r\n}\r\n\r\n",""]),e.exports=o},"client-controls/controls/simple/external-viewer/qp-external-viewer.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-external-viewer {\r\n\tdisplay: block;\r\n}\r\n\r\n.external-viewer-placeholder {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\toutline: 0;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.external-viewer {\r\n\tdisplay: block;\r\n\tborder: none;\r\n\twidth: 100%;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\toutline: 0;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/icon/qp-icon.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-icon {\r\n\tdisplay: block;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tcolor: #000000;\r\n}\r\n\r\nqp-icon img {\r\n\twidth: 100%;\r\n\tvertical-align: bottom;\r\n}\r\n\r\nqp-icon > svg {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tfill: #000000;\r\n}\r\n\r\nqp-hyper-icon svg {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\ndiv.qp-hyper-icon {\r\n\tdisplay: flex;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/label/qp-label.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".label-container label {\r\n\tdisplay: inline-block;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\tline-height: var(--qp-input-height);\r\n\tcolor: var(--qp-label-color);\r\n}\r\n.label-container label.clickable {\r\n\tcursor: pointer;\r\n}\r\n\r\n:is(.label-size-xxs, .label-size-xs, .label-size-s, .label-size-sm, .label-size-m, .label-size-xm, .label-size-l, .label-size-xl, .label-size-xxl) .no-label .label-wrapper,\r\n.no-label .label-wrapper {\r\n\tdisplay: none !important;\r\n}\r\n\r\n:is(.label-size-xxs, .label-size-xs, .label-size-s, .label-size-sm, .label-size-m, .label-size-xm, .label-size-l, .label-size-xl, .label-size-xxl) .label-wrapper {\r\n\tflex-grow: 0 !important;\r\n\tdisplay: inherit !important;\r\n}\r\n\r\n.label-size-xxs .label-wrapper,\r\n.label-size-xxs.label-wrapper {\r\n\twidth: calc(40px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-xs .label-wrapper,\r\n.label-size-xs.label-wrapper {\r\n\twidth: calc(70px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-s .label-wrapper,\r\n.label-size-s.label-wrapper {\r\n\twidth: calc(100px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-sm .label-wrapper,\r\n.label-size-sm.label-wrapper {\r\n\twidth: calc(140px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-m .label-wrapper,\r\n.label-size-m.label-wrapper {\r\n\twidth: calc(200px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-xm .label-wrapper,\r\n.label-size-xm.label-wrapper {\r\n\twidth: calc(250px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-l .label-wrapper,\r\n.label-size-l.label-wrapper {\r\n\twidth: calc(300px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-xl .label-wrapper,\r\n.label-size-xl.label-wrapper {\r\n\twidth: calc(350px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-xxl .label-wrapper,\r\n.label-size-xxl.label-wrapper {\r\n\twidth: calc(400px * var(--qp-label-zoom) ) !important;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/link-editor/qp-link-editor.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-link-editor {\r\n\theight: 24px;\r\n\tposition: relative;\r\n\tcursor: default;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n\tbackground: #fff;\r\n\tborder: #D2D4D7 1px solid;\r\n\tborder-radius: 6px;\r\n\theight: 32px;\r\n}\r\n\r\n.qp-link-editor.focus {\r\n\torder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.qp-link-editor.ReadOnly.focus {\r\n\tborder-width: 1px;\r\n\tborder-bottom-color: #D2D4D7;\r\n\t-webkit-box-shadow: 0px 0px 0px 0px transparent;\r\n\tbox-shadow: 0px 0px 0px 0px transparent;\r\n}\r\n\r\n.qp-link-editor a {\r\n\tmax-width: calc(100% - 35px);\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tcolor: #027ACC;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.p-link {\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tmax-width: calc(100% - 35px);\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n}\r\n\r\n.link-obj {\r\n\tborder-radius: 4px;\r\n\tpadding: 0px 4px 0px 3px;\r\n\tbackground: #ECF7FF;\r\n\tdisplay: inline-flex;\r\n  \talign-items: center;\r\n\theight: 22px;\r\n  \twidth: 100%;\r\n}\r\n\r\n.link-obj-del {\r\n\tfont-size: 13px;\r\n\twidth: 18px;\r\n\tdisplay: inline-flex;\r\n\tflex: none;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tcolor: #027ACC;\r\n\topacity: 70%;\r\n\tcursor: pointer;\r\n}\r\n\r\n.link-obj-del-btn {\r\n\tfont-size: 13px;\r\n}\r\n\r\n.link-obj-del:hover {\r\n\topacity: 100%;\r\n}\r\n\r\n.input-url {\r\n\tflex: 1;\r\n\tmin-width: 10px;\r\n\tbackground: beige;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\n.qp-link-editor input {\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tpadding: 0px 4px 0px 6px;\r\n\tborder-width: 0px !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-link-editor input[invisible] {\r\n\tposition: absolute;\r\n\ttop: -40px;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-link-editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 28px;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-link-editor.ReadOnly {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tborder: none;\r\n\tborder-bottom: #D2D4D7 1px solid;\r\n\tborder-radius: 0;\r\n}\r\n\r\n.qp-link-editor.ReadOnly .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\theight: 100%;\r\n\tmargin-right: 0px;\r\n}\r\n\r\n.qp-link-editor.ReadOnly .buttonsCont {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n}\r\n\r\n.qp-link-editor.ReadOnly .link-obj {\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-link-editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding-left: 3px;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-link-editor .editorWrap .link-obj {\r\n\tbackground: none;\r\n\twidth: 100%;\r\n\tcursor: text;\r\n}\r\n\r\n.qp-link-editor .buttonsCont {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 1px;\r\n\theight: 100%;\r\n\tcursor: pointer;\r\n\tpadding-right: 6px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-link-editor .buttonsCont.inactive {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-link-editor .control-icon[icon],\r\n.qp-link-editor .buttonsCont .buttonAction {\r\n\tfont-size: 16px;\r\n\tcolor: #808080;\r\n}\r\n.qp-link-editor .control-icon[icon]:hover, .qp-link-editor .buttonsCont\r\n.buttonAction:hover {\r\n\tcolor: #000000;\r\n}\r\n\r\n.qp-link-editor qp-icon {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-link-editor-panel .qp-field-wrapper .qp-link-editor-input {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-link-editor-panel .qp-field-wrapper .label-container {\r\n\tmin-width: 40px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/loader-indicator/qp-loader-indicator.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".loader-indicator-img {\r\n    color:#999999;\r\n    color:var(#999999, --primary-color);\r\n}\r\n\r\n.loader-indicator-img .progress {\r\n  stroke-width: 10;\r\n  stroke: currentColor;\r\n  stroke-linecap: square;  \r\n  animation: dash 2.5s infinite;\r\n}\r\n\r\n\r\n@keyframes dash {\r\n  0% {\r\n    stroke-dasharray: 0, 250;\r\n    stroke-dashoffset: 0;\r\n  }\r\n\r\n  25% {\r\n    stroke-dasharray: 250, 0;\r\n    stroke-dashoffset: 0;\r\n  }\r\n\r\n  50% {\r\n    stroke-dasharray: 0, 250;\r\n    stroke-dashoffset: -250;\r\n  }\r\n\r\n  75% {\r\n    stroke-dasharray: 250, 0;\r\n    stroke-dashoffset: 0;\r\n  }\r\n\r\n  100% {\r\n    stroke-dasharray: 0, 250;\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/longrun-indicator/qp-longrun-indicator.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-lri.qp-status-error {\r\n\tborder-left: 7px solid #f00;\r\n}\r\n.qp-lri.qp-status-success {\r\n\tborder-left: 7px solid #47A824;\r\n}\r\n.qp-lri.qp-status-warning {\r\n\tborder-left: 7px solid #F6C244;\r\n}\r\n.qp-lri .qp-status-icon {\r\n\tleft: 15px;\r\n\ttop: 14px;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.qp-lri .qp-status-icon svg {\r\n\theight: 16px;\r\n\twidth: 16px;\r\n}\r\n\r\n.qp-lri.qp-status-success .qp-status-icon {\r\n\tfill: #47A824;\r\n\theight: 20px;\r\n\twidth: 20px;\r\n}\r\n\r\n.qp-lri.qp-status-error .qp-status-icon {\r\n\tfill: #f00;\r\n\theight: 19px;\r\n\twidth: 22px;\r\n}\r\n\r\n.qp-lri.qp-status-warning .qp-status-icon {\r\n\tfill: #F6C244;\r\n\theight: 20px;\r\n\twidth: 20px;\r\n}\r\n\r\n",""]),e.exports=o},"client-controls/controls/simple/mail-editor/qp-mail-editor.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-mail-editor {\r\n\tposition: relative;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n\tbackground: #fff;\r\n\tborder: #D2D4D7 1px solid;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.qp-control-outline.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.qp-control-outline.ReadOnly {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tborder: none;\r\n\tborder-bottom: #D2D4D7 1px solid;\r\n\tborder-radius: 0;\r\n}\r\n\r\n.qp-control-outline.ReadOnly.focus {\r\n\tborder-width: 1px;\r\n\tborder-bottom-color: #D2D4D7;\r\n\t-webkit-box-shadow: 0px 0px 0px 0px transparent;\r\n\tbox-shadow: 0px 0px 0px 0px transparent;\r\n}\r\n\r\n.err-l .qp-control-outline {\r\n\tborder: #f00 1px solid;\r\n}\r\n\r\n.err-l .qp-control-outline.focus {\r\n\tborder-color: #f00;\r\n\tbox-shadow: inset 0 0 0 1px #f00;\r\n}\r\n\r\n.qp-editor-plugin .qp-mail-editor.qp-control-outline,\r\n.qp-editor-plugin .qp-mail-editor.qp-control-outline.focus {\r\n\tcolor: initial;\r\n\tborder: 0px !important;\r\n\tpadding: 0px !important;\r\n\tbackground-color: transparent !important;\r\n\t-webkit-box-shadow: unset !important;\r\n\tbox-shadow: unset !important;\r\n}\r\n\r\n.qp-mail-editor input {\r\n\twidth: 100%;\r\n\theight: var(--qp-input-height);\r\n\tpadding: 0px 4px 0px 8px;\r\n\tborder-width: 0px !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-mail-editor input.dropDown {\r\n\tcursor: text;\r\n}\r\n\r\n.qp-mail-editor.ReadOnly input {\r\n\tcursor: default !important;\r\n}\r\n\r\n.qp-mail-editor input.invisible {\r\n\tposition: absolute;\r\n\ttop: -40px;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-mail-editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 28px;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-mail-editor.ReadOnly .editorCont {\r\n\tmargin-right: 0px;\r\n}\r\n\r\n.qp-mail-editor.ReadOnly .buttonsCont {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n}\r\n\r\n.qp-mail-editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-mail-editor .buttonsCont {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 1px;\r\n\theight: 100%;\r\n\tcursor: pointer;\r\n\tpadding-right: 6px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-editor-plugin .qp-mail-editor .buttonsCont {\r\n\tpadding-right: 0px !important;\r\n}\r\n\r\n.qp-mail-editor .buttonsCont.inactive {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-mail-editor .control-icon[icon] {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tfont-size: 16px;\r\n\tcolor: #808080;\r\n}\r\n\r\n.qp-mail-editor .control-icon[icon]:hover {\r\n\tcolor: #000000;\r\n}\r\n\r\n.qp-mail-editor qp-hyper-icon {\r\n\tdisplay: inline-block;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/radio/qp-radio.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'.qp-radio-group.vertical .qp-radio-button {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-radio-group:not(.vertical) .qp-radio-button {\r\n\tmargin-right: 15px;\r\n}\r\n\r\n.qp-field.no-label[control-type="qp-radio"]:not(.qp-field-collapsed) {\r\n\toverflow: visible;\r\n}\r\n\r\n.qp-field[control-type="qp-radio"] .control-container {\r\n\tmax-width: 100%;\r\n}\r\n\r\n.qp-radio-button {\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\theight: 32px;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.qp-radio-button__input-container {\r\n\tposition: relative;\r\n\tmargin: 0 3px 0 0;\r\n\tline-height: 0;\r\n}\r\n\r\n.qp-radio-button__input {\r\n\tmargin: 0;\r\n}\r\n\r\n.qp-radio-button__input:focus:after {\r\n\tcontent: \'\';\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\twidth: calc(100% + 4px);\r\n\theight: calc(100% + 4px);\r\n\tbackground: transparent;\r\n\tz-index: 1;\r\n\tborder: 2px solid rgba(2, 122, 204, 0.4);\r\n\ttop: -2px;\r\n\tleft: -2px;\r\n\tborder-radius: 50%;\r\n}\r\n\r\n.qp-radio-button__label {\r\n\tdisplay: inline-block;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n',""]),e.exports=o},"client-controls/controls/simple/screen-configuration-menu/qp-screen-configuration-menu.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".screen-configuration-container {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tbackground-color: #FFF5D2;\r\n\tflex-direction: row;\r\n\tpadding: 9px 20px 9px 23px;\r\n}\r\n\r\n.screen-configuration-container:not(.screen-configuration-container--closing) {\r\n\tanimation: slide-from-top .2s;\r\n}\r\n\r\n@keyframes slide-from-top {\r\n\tfrom {\r\n\t\ttransform: translateY(-100%);\r\n\t}\r\n\tto {\r\n\t\ttransform: translateY(0%);\r\n\t}\r\n}\r\n\r\n.screen-configuration-container--closing {\r\n\tanimation: slide-to-top .2s;\r\n\ttransform: translateY(-100%);\r\n}\r\n\r\n@keyframes slide-to-top {\r\n\tfrom {\r\n\t\ttransform: translateY(0);\r\n\t}\r\n\tto {\r\n\t\ttransform: translateY(-100%);\r\n\t}\r\n}\r\n\r\n.screen-configuration-title {\r\n\tfont-style: normal;\r\n\tfont-weight: 400;\r\n\tfont-size: 16px;\r\n\tline-height: 18px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tuser-select: none;\r\n}\r\n\r\n.screen-configuration-buttons {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tgap: 8px;\r\n}\r\n\r\n.screen-configuration-help {\r\n\tfont-style: normal;\r\n\tfont-weight: 400;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n\tcolor: #027ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tcursor: pointer;\r\n\tuser-select: none;\r\n}\r\n\r\n.personal-dialog--info {\r\n    width: 410px;\r\n    background: #E1F3FF;\r\n    border-radius: 14px;\r\n    padding: 13px;\r\n\tgap: 8px;\r\n    display: flex;\r\n}\r\n\r\n.personal-dialog--info-icon {\r\n    background-color: #027ACC;\r\n    background-color: var(--primary-color, #007ACC);\r\n    color: #ffffff;\r\n    width: 21px;\r\n    height: 21px;\r\n    flex-shrink: 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    border-radius: 10px;\r\n    align-items: center;\r\n\tfont-style: italic;\r\n}\r\n\r\n.personal-dialog--info-text {\r\n\tfont-style: normal;\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    line-height: 16px;\r\n    color: #1B1B1B;\r\n}\r\n\r\n.personal-dialog--user {\r\n    padding: 16px 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.personal-dialog--button {\r\n\tborder-radius: 5px;\r\n\theight: 30px !important;\r\n\tpadding: 7px 10px !important;\r\n}\r\n\r\n.personal-dialog--user-selector .drop-down__option\r\n{\r\n\tpadding: 7px 4px;\r\n}\r\n\r\n.dialog.sc-apply-to-all-dialog ux-dialog-footer {\r\n\tpadding-left: 10px;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/selector/qp-selector.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'.qp-selector,\r\n.qp-selector svg {\r\n\tbox-sizing: border-box;\r\n\tfill: #808080;\r\n}\r\n\r\n.qp-selector .qp-field-editor__button:hover svg {\r\n\tfill: #000;\r\n}\r\n\r\nqp-selector {\r\n\tdisplay: block;\r\n}\r\n.qp-selector {\r\n\tbackground-color: #fff;\r\n\tborder: #D2D4D7 1px solid;\r\n\theight: var(--qp-input-height);\r\n}\r\n.err-l .qp-selector {\r\n\tborder: #f00 1px solid;\r\n}\r\n\r\n.war-l .qp-selector {\r\n\tborder: #FFC109 1px solid;\r\n}\r\n\r\n.qp-selector .qp-selector-link-wrapper {\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-selector .qp-selector-link {\r\n\tdisplay: flex;\r\n\tpadding: 4px 24px 4px 4px;\r\n\talign-items: center;\r\n\t/* gap: 4px; */\r\n\tborder-radius: 4px;\r\n\tline-height: 16px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tcursor: text;\r\n}\r\n\r\n.qp-selector .qp-selector-spacer {\r\n\twidth: 36px;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 0.2;\r\n\tcursor: text;\r\n}\r\n\r\n.qp-selector .qp-selector-delete {\r\n\twidth: 19px;\r\n  height: 19px;\r\n\tpadding: 3px;\r\n\topacity: 0.4;\r\n\tcursor: pointer;\r\n\tflex-shrink: 0;\r\n}\r\n.qp-selector .qp-selector-delete:hover {\r\n\topacity: unset;\r\n}\r\n\r\n\r\n.qp-selector .qp-selector-delete svg {\r\n\tfill: var(--qp-primary-color);\r\n}\r\n\r\n.qp-selector .qp-selector-link-text {\r\n\tdisplay: inline-block;\r\n\t/* text-overflow: ellipsis; */\r\n\toverflow: hidden;\r\n\tcolor: var(--qp-primary-color);\r\n\tflex-shrink: 0;\r\n\tmax-width: calc( 100% - 20px);\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-selector .qp-selector-link-desc {\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tflex-shrink: 1;\r\n}\r\n\r\nspan.qp-selector-link-text:hover {\r\n\ttext-decoration: underline;\r\n}\r\n\r\n.qp-selector.editor{\r\n\tdisplay:flex;\r\n\talign-items: center;\r\n\tpadding: 4px;\r\n\tposition:relative;\r\n\tborder-radius: 6px;\r\n}\r\n.qp-selector .qp-editor-plugin {\r\n\tflex-grow: 1;\r\n\tpadding: 0 24px 0 4px;\r\n\tcolor: initial;\r\n}\r\n\r\n.qp-selector.qp-selector-readonly {\r\n\tbackground-color: transparent;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n\tborder-radius: 0;\r\n}\r\n\r\n.qp-selector.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.err-l .qp-selector.focus {\r\n\tborder-color: #f00;\r\n\tbox-shadow: inset 0 0 0 1px #f00;\r\n}\r\n\r\n.war-l .qp-selector.focus {\r\n\tborder-color: #FFC109;\r\n\tbox-shadow: inset 0 0 0 1px #FFC109;\r\n}\r\n\r\n\r\n.edit-mode.qp-selector input.qp-text-editor {\r\n\tcolor: initial;\r\n}\r\n\r\n.qp-selector qp-mask-editor {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-selector input.qp-text-editor {\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tbox-shadow: none !important;\r\n\toutline: none;\r\n\twidth: 100%;\r\n\tpadding: 0px;\r\n\tbackground-color: transparent;\r\n\tline-height: 22px;\r\n\ttext-overflow: ellipsis;\r\n\theight: var(--qp-input-height);\r\n}\r\n\r\n.qp-selector input.editor-input {\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tbox-shadow: none !important;\r\n\toutline: none;\r\n\twidth: 20px;\r\n\tflex:1 1 auto;\r\n\tpadding: 0 4px 0 8px;\r\n\tbackground-color: transparent;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-selector.qp-selector-readonly input.editor-input {\r\n\tdisplay: none;\r\n}\r\n\r\n/* .qp-selector input.editor-input[enabled="false"], .qp-selector input.editor-input[disabled] {\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: #E0E4E8;\r\n\tborder-bottom-style: dotted;\r\n\tborder-width: 1px;\r\n}*/\r\n/* .qp-selector input.editor-input[readonly] {\r\n\tbackground-color: #F5F7F8 !important;\r\n\tborder-top-color: transparent;\r\n\tborder-left-color: transparent;\r\n\tborder-right-color: transparent;\r\n\r\n\tborder-width: 1px;\r\n}  */\r\n\r\n.qp-selector input.editor-input[readonly]:focus {\r\n\tborder-width: 1px;\r\n\tbox-shadow: 0px 0px 0px 0px transparent;\r\n\tborder-bottom-color: #D2D4D7;\r\n\r\n\tbackground-color: #F5F7F8;\r\n\tborder-top-color: transparent;\r\n\tborder-left-color: transparent;\r\n\tborder-right-color: transparent;\r\n}\r\n\r\n.qp-selector-allow-edit .edit-btn-cont {\r\n\tpadding: 5px;\r\n\tmargin-right: 2px;\r\n\tcursor: pointer;\r\n\theight: 26px;\r\n\twidth: 26px;\r\n\tcolor: #808080;\r\n}\r\n\r\n.qp-selector-allow-edit .edit-btn-cont:hover svg {\r\n\tfill: #000;\r\n}\r\n\r\n/* .qp-field .control-container > enhanced-compose > .qp-selector-allow-edit, .qp-field-wrapper .control-container > * > .qp-selector-allow-edit {\r\n\twidth: calc(100% - 30px);\r\n} */\r\n.qp-field-editor__display-text {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 26px;\r\n\theight: 100%;\r\n\tpointer-events: none;\r\n\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tpadding: 0 4px 0 6px;\r\n\tline-height: 24px;\r\n\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-field-editor__button {\r\n\tbackground: #fff;\r\n\tborder: 0;\r\n\tcolor: #808080;\r\n\tcursor: pointer;\r\n\tpadding: 0;\r\n\tposition: absolute;\r\n\tright: 8px;\r\n}\r\n.qp-field-editor__button:focus {\r\n\tborder: 0;\r\n}\r\n.qp-field-editor__button qp-icon {\r\n\tcolor: #808080;\r\n}\r\n.qp-field-editor__button:hover qp-icon {\r\n\tcolor: black;\r\n}\r\n\r\n.qp-field-editor__button > .buttonsCont {\r\n\tvertical-align: unset;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.edit-mode .qp-field-editor__display-text {\r\n\tvisibility: hidden;\r\n}\r\n\r\n.edit-mode input.editor-input {\r\n\tcolor: initial;\r\n}\r\n\r\n.dialog-container{\r\n\tbackground:white;\r\n\tz-index: 1000;\r\n\t/* position: absolute; */\r\n\tmax-height: 500px;\r\n\r\n}\r\n.dialog-container.hide-selector{\r\n\tdisplay: none;\r\n}\r\n\r\nqp-mask-editor input {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-selector.label-hovered:not(.qp-selector-readonly):not(.focus) {\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--qp-highlight-hover-color, #007ACC);\r\n}\r\n',""]),e.exports=o},"client-controls/controls/simple/simple-selector/qp-simple-selector.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".simple-selector {\r\n\twidth: 100%;\r\n}\r\n\r\n.simple-selector--button {\r\n    width: 100%;\r\n    cursor: pointer;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/simple/text-editor/qp-text-editor.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'\r\nqp-text-editor, qp-number-editor, qp-mask-editor\r\n{\r\n\tdisplay: block;\r\n}\r\n\r\nqp-text-editor[fixed-width] > *, qp-number-editor[fixed-width] > *, qp-mask-editor[fixed-width] > *\r\n{\r\n\twidth: 100% !important;\r\n}\r\n\r\nqp-text-editor[fixed-height] > *, qp-number-editor[fixed-height] > *, qp-mask-editor[fixed-height] > *\r\n{\r\n\theight: 100% !important;\r\n}\r\n\r\ninput.qp-text-editor, textarea.qp-text-editor {\r\n\tborder: #D2D4D7 1px solid;\r\n\tpadding: 7px 8px;\r\n\tmargin-bottom: 0px;\r\n\tmargin-top: 0px;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\toutline: none;\r\n\tborder-radius: 6px;\r\n}\r\n\r\ntextarea.qp-text-editor {\r\n\tresize: vertical;\r\n\tvertical-align: top;\r\n\tmin-height: 25px;\r\n}\r\n\r\ninput.qp-text-editor {\r\n\theight: var(--qp-input-height);\r\n\twidth: 100%;\r\n}\r\ninput.qp-text-editor.auto-size\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\ninput.qp-text-editor[readonly], textarea.qp-text-editor[readonly]\r\n{\r\n\tbackground-color: transparent;\r\n\tborder-top-color: transparent;\r\n\tborder-left-color: transparent;\r\n\tborder-right-color: transparent;\r\n\tborder-width: 1px;\r\n\tborder-radius: 0;\r\n}\r\n\r\ninput.qp-text-editor[enabled="false"], input.qp-text-editor[disabled],\r\ntextarea.qp-text-editor[enabled="false"], textarea.qp-text-editor[disabled]\r\n{\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-radius: 0;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n\tborder-width: 1px;\r\n}\r\n\r\ninput.qp-text-editor:focus, text.qp-text-editor:focus,\r\ntextarea.qp-text-editor:focus\r\n{\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\ninput.qp-text-editor[readonly]:focus, textarea.qp-text-editor[readonly]:focus\r\n{\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-width: 1px;\r\n\tborder-radius: 0;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n}\r\n\r\na.qp-text-editor {\r\n\tdisplay: inline-block;\r\n\theight: 24px;\r\n\toutline: none;\r\n\r\n\tborder: #D2D4D7 1px solid;\r\n\tpadding: 3px 6px;\r\n\tmargin-bottom: 0px;\r\n\tmargin-top: 0px;\r\n}\r\n\r\na.qp-text-editor[enabled=false] {\r\n\tbackground-color: transparent !important;\r\n\tbox-shadow: none !important;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: #D2D4D7;\r\n\tborder-bottom-style: solid;\r\n\tborder-width: 1px;\r\n}\r\n\r\n.with-language {\r\n\tpadding-right: 36px !important;\r\n}\r\n\r\n.locale-editor {\r\n\twidth: 30px !important;\r\n    padding: 8px 4px;\r\n    text-transform: uppercase;\r\n    color: #027ACC;\r\n    color: var(--primary-color, #007ACC);\r\n    cursor: pointer;\r\n    font-weight: 400;\r\n    position: absolute;\r\n    margin-left: -32px;\r\n}\r\n\r\n\r\n.modern-ui .size-default .qp-text-editor.qp-integer,\r\n.modern-ui .size-default .qp-text-editor.qp-float {\r\n\t\tmax-width: 170px;\r\n}\r\n',""]),e.exports=o},"client-controls/controls/utility/layout/qp-layout.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,":root {\r\n\t--layout-border-radius: var(--control-border-radius, 6px);\r\n\t--layout-hover-background: var(--control-toolbar-hover-background, rgba(0, 0, 0, 0.06));\r\n\t--layout-shadow-color: var(--control-shadow-color, rgba(115, 115, 115, 0.7));\r\n\t--layout-bar-min-height: var(--input-height, 32px);\r\n\t--layout-bar-min-width: unset;\r\n\t--layout-gap: 0px;\r\n\t--layout-column-gap: var(--layout-gap);\r\n\t--layout-row-gap: var(--layout-gap);\r\n}\r\n\r\nqp-layout {\r\n\tdisplay: block;\r\n}\r\n\r\n.qp-layout {\r\n\tdisplay: inline-block;\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n\tmin-width: var(--layout-bar-min-width);\r\n\tmin-height: var(--layout-bar-min-height);\r\n}\r\n\r\n.qp-layout.flex {\r\n\tflex-wrap: wrap;\r\n\tcolumn-gap: var(--layout-column-gap);\r\n\trow-gap: var(--layout-row-gap);\r\n\toverflow: visible;\r\n}\r\n\r\n.qp-layout.bar {\r\n\tdisplay: flex;\r\n\tcolumn-gap: var(--layout-column-gap);\r\n\trow-gap: var(--layout-row-gap);\r\n\tflex-wrap: nowrap;\r\n\talign-items: stretch;\r\n\tmin-width: var(--layout-bar-min-width);\r\n}\r\n\r\n.qp-layout.grid {\r\n\tdisplay: grid;\r\n\tcolumn-gap: var(--layout-column-gap);\r\n\trow-gap: var(--layout-row-gap);\r\n}\r\n\r\n.qp-layout .qp-layout-ellipsis {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-layout.qp-layout-ellipsis-left .qp-layout-ellipsis {\r\n\tleft: var(--layout-ellipsis-offset);\r\n}\r\n\r\n.qp-layout.qp-layout-ellipsis-right .qp-layout-ellipsis {\r\n\tright: var(--layout-ellipsis-offset);\r\n}\r\n\r\n.qp-layout.qp-layout-ellipsis-visible {\r\n\tmin-width: var(--layout-bar-min-width, var(--layout-bar-min-height));\r\n}\r\n\r\n.qp-layout .qp-layout-ellipsis .qp-layout-ellipsis-opener {\r\n\theight: 100%;\r\n\tborder-width: 0px;\r\n\tpadding-right: 10px;\r\n\tpadding-left: 10px;\r\n\tbackground-color: transparent;\r\n\tborder-radius: var(--layout-border-radius);\r\n\topacity: 1;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-layout .qp-layout-ellipsis .qp-layout-ellipsis-opener:hover,\r\n.qp-layout .qp-layout-ellipsis .qp-layout-ellipsis-opener.opened {\r\n\tbackground-color: var(--layout-hover-background) !important;\r\n}\r\n\r\n.qp-layout-ellipsis-options {\r\n\tmax-width: var(--layout-dashboard-max-width, 300px);\r\n\tmin-width: var(--layout-dashboard-min-width);\r\n\tbackground-color: white;\r\n\tborder-radius: var(--layout-border-radius);\r\n\tbox-shadow: 0px 0px 16px var(--layout-shadow-color);\r\n\tpadding: 8px;\r\n\tz-index: var(--zindex-container, 11000);\r\n}\r\n\r\n.qp-layout-dashboard {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tcolumn-gap: var(--layout-column-gap);\r\n\trow-gap: var(--layout-row-gap);\r\n}\r\n\r\n.qp-layout.bar .qp-layout-hidden-item {\r\n\tvisibility: hidden;\r\n\tpointer-events: none;\r\n}\r\n\r\n.qp-layout.bar .qp-layout-hidden-item.partial {\r\n\t--layout-hidden-item-mask: linear-gradient(to left, transparent var(--layout-hidden-item-transparency, 0%), black);\r\n\t-webkit-mask-image: var(--layout-hidden-item-mask);\r\n\tmask-image: var(--layout-hidden-item-mask);\r\n\tvisibility: visible;\r\n}\r\n\r\n",""]),e.exports=o},"client-controls/controls/utility/options/qp-options.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".drop-down__options-pane {\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  position: absolute;\r\n  z-index: 20000;\r\n  height: initial;\r\n\tdisplay: block;\r\n\tfont-size: 14px;\r\n\r\n  background-color: White;\r\n  box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.7);\r\n\tbox-sizing: border-box;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.drop-down__option {\r\n\tmin-height: 1em;\r\n\tpadding: 2px 4px;\r\n\tvertical-align: middle;\r\n\ttext-align: left;\r\n\twhite-space: nowrap;\r\n\tcursor: default;\r\n}\r\n\r\n.drop-down__option.ddItem {\r\n\tpadding: 6px 8px;\r\n\tvertical-align: middle;\r\n\ttext-align: left;\r\n\twhite-space: nowrap;\r\n\tcursor: default;\r\n}\r\n\r\n.drop-down__option.ddSelection {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\nqp-options .ddItemDisabled {\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\topacity: 0.26 !important;\r\n}\r\n\r\n",""]),e.exports=o},"client-controls/controls/utility/suggester/elements/qp-suggester.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,":root {\r\n\t--qp-suggestion-horizontal-paddings: 16px;\r\n}\r\n\r\nqp-suggester {\r\n  display: block;\r\n  position: absolute;\r\n  top: 100%;\r\n}\r\n\r\n.qp-suggester,\r\n.qp-suggester * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.qp-suggester {\r\n\tbackground-color: #FFFFFF;\r\n\tbox-shadow: 0 0 14px 2px rgba(0, 0, 0, 0.15);\r\n\tborder-radius: 6px;\r\n\tz-index: 10000;\r\n\toverflow-y: auto;\r\n\tposition: relative;\r\n}\r\n\r\n.qp-suggester:before,\r\n.qp-suggester:after {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\tposition: sticky;\r\n\tleft: 0;\r\n\tbackground: #FFFFFF;\r\n\theight: calc(var(--qp-suggester-vertical-paddings) + 1px);\r\n}\r\n\r\n.qp-suggester:before {\r\n\ttop: -1px;\r\n}\r\n\r\n.qp-suggester:after {\r\n\tbottom: -1px;\r\n}\r\n\r\n@media screen and (max-width: 400px) {\r\n  .qp-suggester {\r\n    max-width: calc(100vw - 18px);\r\n  }\r\n}\r\n\r\n.qp-suggester.loading {\r\n  filter: grayscale(.5);\r\n}\r\n\r\n.qp-suggester.show-above {\r\n  transform: translateY(-100%);\r\n  transform: translateY(calc(-100% - 1px));\r\n}\r\n\r\n.qp-suggester.show-left {\r\n  transform: translateX(-100%);\r\n}\r\n\r\n.qp-suggester.show-left.show-above {\r\n  transform: translate(-100%,-100%);\r\n}\r\n\r\n[aurelia-app] .qp-suggester::-webkit-scrollbar {\r\n  width: 18px;\r\n}\r\n\r\n[aurelia-app] .qp-suggester::-webkit-scrollbar-track {\r\n\tbackground: #FFFFFF;\r\n}\r\n\r\n[aurelia-app] .qp-suggester::-webkit-scrollbar-thumb {\r\n  width: 18px;\r\n  border-radius: 18px;\r\n  border: 5px solid #FFFFFF;\r\n}\r\n\r\nqp-suggestion {\r\n\tdisplay: block;\r\n\theight: var(--qp-suggestion-line-height);\r\n\tline-height: var(--qp-suggestion-line-height);\r\n\tpadding: 0 var(--qp-suggestion-horizontal-paddings);\r\n\tfont-size: 14px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tcursor: pointer;\r\n\tmax-width: 90vw;\r\n}\r\n\r\nqp-suggestion.suggestion-highlight {\r\n\tbackground-color: rgba(0, 0, 0, 0.07);\r\n}\r\n\r\nqp-suggestion.extention-cord {\r\n\tz-index: 10001;\r\n\tbackground: #EDEDED;\r\n}\r\n\r\nqp-suggestion mark {\r\n\tbackground: #B9E3FF;\r\n\tbox-shadow: 0 2px 0 0 #B9E3FF, 0 -2px 0 0px #B9E3FF;\r\n}\r\n\r\n.loading-placeholder.loading {\r\n\tfont-size: 0;\r\n\twidth: 27px;\r\n\theight: 27px;\r\n\tpadding: 0;\r\n\tborder-radius: 50%;\r\n\tmargin-top: 10px;\r\n\tmargin-bottom: 10px;\r\n\tborder: 3px solid #bbbbbb;\r\n\toverflow: visible;\r\n\tposition: relative;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tanimation: suggester-loading-spinner infinite 2s linear;\r\n}\r\n\r\n.loading-placeholder.loading:after {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\twidth: 80%; height: 80%;\r\n\tbackground: #ffffff;\r\n\tposition: absolute;\r\n\tright: -3px;\r\n\ttop: -3px;\r\n}\r\n\r\n@keyframes suggester-loading-spinner {\r\n  0% {\r\n    transform: translateX(-50%) rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: translateX(-50%) rotate(360deg);\r\n  }\r\n}\r\n\r\n.qp-suggester .no-results-found {\r\n\tpadding: .5em var(--qp-suggestion-horizontal-paddings);\r\n\tcolor: #AEAEAE;\r\n\tfont-size: 14px;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-suggester .no-results-found svg {\r\n\tdisplay: none;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/utility/tooltip/qp-tooltip.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-tooltip-container {\r\n\tz-index: 20000;\r\n\tmin-width: 100%;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tbox-sizing: border-box;\r\n\tpointer-events: all;\r\n\tfont-size: 15px;\r\n\tline-height: 16px;\r\n\tborder-radius: 5px;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tcolor: RGBA(255, 255, 255, 0.87);\r\n\tfont-weight: 400;\r\n\tpadding: 5px;\r\n\ttext-align: left;\r\n\ttext-indent: 0px;\r\n\twhite-space: normal;\r\n\ttext-transform: none;\r\n\toverflow: visible;\r\n\tmax-width: 400px;\r\n\toverflow-wrap: break-word;\r\n\ttext-transform: none;\r\n}\r\n\r\n.qp-tooltip-container:after {\r\n\tdisplay: none;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tleft: var(--pointer-adjust, 50%);\r\n\ttransform: translateX(-8px);\r\n\ttop: -15px;\r\n\tborder: 8px solid transparent;\r\n\tcontent: ' ';\r\n\tborder-top-color: #007ACC;\r\n\tborder-top-color: var(--primary-color, #007ACC);\r\n}\r\n.qp-tooltip-container.glue-to-above:after {\r\n\tdisplay: block;\r\n\ttop:unset;\r\n\tbottom: -15px;\r\n}\r\n\r\n.qp-tooltip-container:before {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tleft: var(--pointer-adjust, 50%);\r\n\ttransform: translateX(-8px);\r\n\ttop: -15px;\r\n\tborder: 8px solid transparent;\r\n\tcontent: ' ';\r\n\tborder-bottom-color: #007ACC;\r\n\tborder-bottom-color: var(--primary-color, #007ACC);\r\n}\r\n.qp-tooltip-container.glue-to-above:before {\r\n\tdisplay: none;\r\n\ttop: unset;\r\n\tbottom: -15px;\r\n}\r\n\r\n.qp-tooltip-container.error {\r\n\tbackground-color: #e51c23;\r\n\tborder-color: #e51c23;;\r\n\tcolor: rgba(255, 255, 255, 0.87);\r\n\tfont-family: Arial, sans-serif;\r\n\tmax-width: 350px;\r\n}\r\n.qp-tooltip-container.error::before {\r\n\tborder-bottom-color: #e51c23;\r\n}\r\n.qp-tooltip-container.error::after {\r\n\tborder-top-color: #e51c23;\r\n}\r\n\r\n.qp-tooltip-container.warning {\r\n\tbackground-color: #ffeb3b;\r\n\tborder-color: brown;;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\tfont-family: Arial, sans-serif;\r\n\tmax-width: 350px;\r\n}\r\n.qp-tooltip-container.warning::before {\r\n\tborder-bottom-color: brown;\r\n\ttop: -16px;\r\n\tbottom: unset;\r\n}\r\n.qp-tooltip-container.glue-to-above.warning::before {\r\n\tborder-top-color: brown;\r\n\tdisplay: block;\r\n\tborder-bottom-color: transparent;\r\n\ttop: unset;\r\n\tbottom: -16px;\r\n}\r\n.qp-tooltip-container.warning::after {\r\n\tdisplay: block;\r\n\tborder-bottom-color: #ffeb3b;\r\n\tborder-top-color: transparent;\r\n}\r\n.qp-tooltip-container.glue-to-above.warning::after {\r\n\tdisplay: block;\r\n\tborder-bottom-color: transparent;\r\n\tborder-top-color: #ffeb3b;;\r\n}\r\n\r\n.qp-tooltip-container.info {\r\n\tbackground-color: #28a745;\r\n\tborder-color: #28a745;\r\n\tcolor: rgb(255, 255, 255, 0.87);\r\n\tfont-family: Arial, sans-serif;\r\n\tmax-width: 350px;\r\n}\r\n.qp-tooltip-container.info::before {\r\n\tborder-bottom-color: #28a745;\r\n}\r\n.qp-tooltip-container.glue-to-above.info::after {\r\n\tborder-top-color: #28a745;\r\n}\r\n",""]),e.exports=o},"client-controls/controls/utility/wait-cursor/qp-wait-cursor.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".wait-cursor {\r\n\ttext-align: center;\r\n\tbox-sizing: border-box;\r\n\tbackground: transparent;\r\n\tz-index: 10000;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tcursor: wait;\r\n}\r\n",""]),e.exports=o},"client-controls/plugins/bank-feed/qp-mx.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"#mx-form-container {\r\n    position: absolute;\r\n    top: 15%;\r\n    width: 350px;\r\n    height: 630px;\r\n    left: calc(50% - 350px / 2);\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    background-color: #FFFFFF;\r\n    z-index: 20000;\r\n}\r\n#mx-form-header {\r\n    height: 30px;\r\n}\r\n#mx-form-header {\r\n    font-size: 20px;\r\n}\r\n",""]),e.exports=o},"client-controls/plugins/payment/qp-authorize-net.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-authorize-net div{\r\n    padding: 15px;\r\n    position: fixed;\r\n    top: 25%;\r\n    left: 25%;\r\n    background-color: aliceblue;\r\n    border: solid 1px black;\r\n    z-index: 20000;\r\n}\r\n#paymentForm.show-payment-form {\r\n    display: block;\r\n}\r\n#paymentForm:not(.show-payment-form) {\r\n    display: none;\r\n}",""]),e.exports=o},"client-controls/plugins/payment/qp-fortis.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-fortis{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 20000;\r\n}\r\n#payment-form-fortis{\r\n    padding: 20px;\r\n    position: absolute;\r\n    background: #f5f7f8;\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 10px;\r\n    width: fit-content;\r\n\theight: fit-content;\r\n    top: 5%;\r\n    left: calc(50% - 295px);\r\n}\r\n#payment-form-fortis label {\r\n    margin: 2px;\r\n    font-size: 13px;\r\n    color: #222222;\r\n}\r\n#paymentForm-fortis.show-payment-form {\r\n    display: block;\r\n}\r\n#paymentForm-fortis:not(.show-payment-form) {\r\n    display: none;\r\n}\r\n#payment-form-fortis label.payment-form-label {\r\n    left: 20px;\r\n    top: 20px;\r\n    font-size: 22px;\r\n    color: #000000;\r\n}\r\n#payment-form-fortis i.ac.ac-close.ac-pull-right {\r\n    font-size: 20px;\r\n}\r\n.flexible{\r\n\tdisplay: inline-table;\r\n}\r\n.payformccsize{\r\n\twidth: 295px;\r\n\theight: 565px;\r\n}\r\n.payformachsize{\r\n\twidth: 305px;\r\n\theight: 670px;\r\n}\r\n.accountformccsize{\r\n\twidth: 290px;\r\n\theight: 530px;\r\n}\r\n.accountformachsize{\r\n\twidth: 550px;\r\n\theight: 695px;\r\n}",""]),e.exports=o},"client-controls/plugins/payment/qp-stripe.css":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'qp-stripe{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 20000;\r\n}\r\nqp-stripe .ac-warning{\r\n    font-size: 20px;\r\n    color: black;\r\n    float: left;\r\n    margin: 9px;\r\n}\r\n.payment-form-background {\r\n    position: fixed;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    width:100%;\r\n    height:100%;\r\n}\r\n.payment-form-being-dragged {\r\n    opacity: 0.75;\r\n}\r\n.form-errors{\r\n    background-color: #FFD7D7;\r\n    width: 100%;\r\n    border-radius: 8px;\r\n}\r\n#card-errors {\r\n    padding: 10px;\r\n    padding-left: 40px;\r\n    font-size: 13px;\r\n    word-wrap: break-word;\r\n}\r\n#payment-form {\r\n    padding: 20px;\r\n    position: absolute;\r\n    background: #FFFFFF;\r\n    overflow: hidden;\r\n\tbox-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 10px;\r\n    width: fit-content;\r\n\theight: fit-content;\r\n    top: 15%;\r\n    left: calc(50% - 460px / 2);\r\n}\r\n#payment-form:not(.payment-mobile){\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 10px;\r\n    width: 420px;\r\n    top: 15%;\r\n    left: calc(50% - 460px / 2);\r\n}\r\n.payment-form-background .payment-mobile {\r\n\tdisplay: none;\r\n}\r\n#payment-form label {\r\n    margin: 2px;\r\n    font-size: 13px;\r\n    color: #222222;\r\n}\r\n#card-number {\r\n    width: 242px;\r\n    line-height: 26px;\r\n    vertical-align: middle;\r\n}\r\n.card-expiry {\r\n    margin-top: 16px;\r\n}\r\n#card-expiry {\r\n    width: 81px;\r\n}\r\n#payment-form label.payment-form-label {\r\n    left: 20px;\r\n    top: 20px;\r\n    font-size: 22px;\r\n    color: #000000;\r\n}\r\n#payment-form i.ac.ac-close.ac-pull-right {\r\n    font-size: 20px;\r\n}\r\n#additional-payment-info{\r\n    padding-top: 10px;\r\n}\r\n#additional-payment-info div {\r\n    margin: 5px 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n#additional-payment-info label, .payment-amount-label {\r\n    display: inline-block;\r\n    max-width: 150px;\r\n}\r\n#additional-payment-info input{\r\n    width: 250px;\r\n}\r\n#additional-payment-info label[required]:before, .card-front label[required]:before, .card-back label[required]:before {\r\n    content:"* ";\r\n}\r\n.field-warning:before {\r\n    color: red;\r\n}\r\n#additional-payment-info .payment-form-input {\r\n    height: 16px;\r\n    padding: 4px 8px 4px 8px;\r\n    left: 200px;\r\n}\r\n.payment-form-input {\r\n    background: #FFFFFF;\r\n    border: 1px solid rgba(0, 0, 0, 0.19);\r\n    border-radius: 5px;\r\n}\r\n.payment-form-input:focus, \r\n.StripeElement--focus {\r\n    border: 2px solid #027ACC;\r\n    margin: -1px;\r\n}\r\n.payment-card {\r\n    position: relative;\r\n    height: 150px; \r\n    margin-top: 14px;\r\n}\r\n.card-front {\r\n    position: absolute;\r\n    width: 256px;\r\n    height: 117px;\r\n    background: #DCECF8;\r\n    border-radius: 8px;\r\n    z-index: 1;\r\n    padding: 16px;\r\n}\r\n.card-back {\r\n    position: absolute;\r\n    width: 134px;\r\n    height: 123px;\r\n    left: 272px;\r\n    top: 10px;\r\n    margin: 0px;\r\n    background: rgba(2, 122, 204, 0.24);\r\n    border-radius: 8px;\r\n}\r\n.magnetic-line {\r\n    width: 100%;\r\n    height: 32px;\r\n    margin-top: 16px;\r\n    background-color: rgba(2, 122, 204, 0.2);\r\n}\r\n.card-cvc {\r\n    position: absolute;\r\n    left: 30px;\r\n    bottom: 20px;\r\n}\r\n#card-cvc {\r\n    width: 70px;\r\n}\r\n.pay-button {\r\n    width: 100%;\r\n\tbackground-color: var(--primary-color, #007ACC) !important;\r\n    border-radius: 5px;\r\n    font-size: 13px;\r\n    line-height: 15px;\r\n    text-transform: uppercase;\r\n    color: #FFFFFF;\r\n    height: 30px;\r\n    margin-top: 20px;\r\n    border: 0px;\r\n}\r\n.payment-amount {\r\n    width: 110px;\r\n}\r\n.payment-errors-hidden {\r\n    display: none;\r\n}\r\n\r\n.pay-button:disabled{\r\n\topacity: 0.4;\r\n}\r\n\r\n.pay-button:not([disabled]):hover,\r\n.pay-button:active {\r\n\topacity: 0.87;\r\n\tbackground-color: var(--primary-color, #007ACC) !important;\r\n\tborder-color: var(--primary-color, #007ACC) !important;\r\n}\r\n.payment-amount[disabled] {\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: #E0E4E8;\r\n\tborder-bottom-style: dotted;\r\n\tborder-width: 1px;\r\n}\r\n#additional-payment-info input#Zip {\r\n    width: 100px;\r\n    margin-right: 150px;\r\n}\r\n.StripeElement {\r\n    padding: 5px 8px 3px 8px;\r\n}\r\n.address-separator {\r\n    margin-top: 8px;\r\n    margin-bottom: 2px;\r\n    width: 100%;\r\n}',""]),e.exports=o},"client-controls/controls/compound/menu/qp-menu.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-menu .qp-menu{display:inline-flex;align-items:center;height:var(--qp-toolbar-height);line-height:var(--qp-toolbar-height);cursor:pointer;white-space:nowrap;border-radius:6px}qp-menu .qp-menu.qp-selected,qp-menu .qp-menu:hover{background-color:rgba(0,0,0,.06);border-radius:6px}qp-menu .qp-menu .qp-menu-button{background:transparent;border-width:0 1px 0 0;border-style:solid;border-right-color:transparent;padding:0 2px 0 10px;cursor:pointer;opacity:.87}qp-menu .qp-menu.qp-selected:not(.qp-menu-no-options) .qp-menu-button.qp-menu-action-button,qp-menu .qp-menu:not(.qp-menu-no-options):hover .qp-menu-button.qp-menu-action-button{border-right-color:#fff}qp-menu .qp-menu.qp-menu-no-options .qp-menu-button{border-width:0px;padding:5px 10px}qp-menu .qp-menu.qp-menu-no-options .qp-menu-opener{display:none}qp-menu .qp-menu .qp-menu-button.disabled{opacity:.26;cursor:default}qp-menu .qp-menu .qp-menu-opener{background:transparent;border:none;padding:0 4px 0 1px;cursor:pointer}qp-menu.qp-button .qp-menu{background-color:rgba(0,0,0,.06)}qp-menu.qp-button .qp-menu:hover,qp-menu.qp-button .qp-menu.qp-selected{background-color:rgba(0,0,0,.1)}.qp-menu-options{color:#000;fill:#000;z-index:var(--zindex-dropdown, 20000);background-color:#fff;max-height:80vh;overflow-y:auto;overflow-y:overlay;min-width:50px !important;box-shadow:0px 0px 16px rgba(115,115,115,.7);box-sizing:border-box;padding:0;text-transform:none;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.15) transparent;border-radius:6px}.qp-menu-options .qp-menu-container{padding:8px 0px}.qp-menu-options .qp-menu-item{min-height:18px;line-height:18px;opacity:.87;padding:7px 16px;font-size:14px;display:block;white-space:nowrap;text-align:left;max-width:300px;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.qp-menu-options .qp-menu-item:hover{background-color:var(--qp-menu-hover)}.qp-menu-options .qp-menu-item.disabled{opacity:.3;cursor:auto}.qp-menu-options .qp-menu-item.disabled:hover{color:#000;fill:#000;background-color:inherit}.qp-menu-options .qp-menu-item .qp-menu-spacer{margin:0px 5px 1px 5px}.qp-menu-options .qp-menu-item .qp-menu-icon{float:left}.qp-menu-options .qp-menu-spacer .qp-menu-label{display:inline-block}.qp-menu-options .qp-menu-spacer .qp-menu-value{display:inline-block;text-align:end}.qp-menu-options .qp-menu-separator{border-bottom:1px solid #aaa;padding:0;min-height:0;margin:3px 0;cursor:auto}",""]),e.exports=o},"client-controls/controls/compound/screen-title/qp-screen-title.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".rtl qp-screen-title{float:right;display:flex;text-align:end;width:100%;flex-direction:column;align-content:flex-start;align-items:flex-start}.rtl .search-hint-box{flex-direction:unset}.rtl .search-hint-box .icon{padding:2px 0px 0px 10px}qp-screen-title{float:left;max-width:100%;min-width:300px}qp-screen-title:hover .favoriteOff{visibility:visible}qp-screen-title a{font-size:19px;text-decoration:none;color:RGBA(0, 0, 0, 0.87);cursor:pointer;display:inline-block}qp-screen-title a:hover{text-decoration:underline}qp-screen-title i{margin-left:10px}qp-screen-title .star-container{display:flex;align-items:baseline}qp-screen-title .withCaption{width:100%}qp-screen-title .withCaption>div>a{font-size:13px;color:#027acc;text-overflow:ellipsis;display:block;white-space:nowrap;overflow:hidden}qp-screen-title .withCaption>span{font-size:18px;border-width:0px;display:block;margin-top:3px;color:#000;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}qp-screen-title .captionLine{display:flex;align-items:center;align-content:center}qp-screen-title span{display:none}qp-screen-title .favoriteOff{color:#000;visibility:hidden}qp-screen-title .favoriteOn{color:#f7ba08}qp-screen-title .no-star{display:none}.search-hint-box{display:flex;border-radius:10px;border:none;padding:7px 10px;margin:5px 0;background-color:#fff5d2;align-items:center}.search-hint-box.blue{background-color:#d4e5fd}.search-hint-box.yeloow{background-color:#fff5d2}.search-hint-box.red{background-color:#ffe6e6}.search-hint-box .icon{padding:2px 10px 0px 0px;font-size:22px}.search-hint-box .icon.blue{color:blue}.search-hint-box .icon.yellow{color:orange}.search-hint-box .icon.red{color:red}.search-hint-box .message{line-height:normal;font-size:13px}",""]),e.exports=o},"client-controls/controls/compound/tool-bar/qp-tool-bar.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,'qp-tool-bar{flex-grow:1}qp-tool-bar div.qp-tool-bar.qp-tool-bar-no-menu{height:auto}qp-tool-bar div.qp-tool-bar.qp-tool-bar-no-menu.qp-tool-bar-nowrap{white-space:nowrap}qp-tool-bar div.qp-tool-bar{display:inline-flex;flex-wrap:wrap;height:var(--qp-toolbar-height);width:100%;overflow:hidden;background-color:inherit}@media screen and (max-width: 500px){qp-tool-bar div.qp-tool-bar{width:100%}}qp-tool-bar .qp-tool-bar-item{background-color:inherit;color:#000;font-weight:400;white-space:nowrap;border:none;box-sizing:content-box;text-align:center;cursor:default;min-width:inherit;font-size:var(--qp-regular-font-size);border-radius:var(--qp-input-border-radius);height:var(--qp-toolbar-height);margin:0 calc( var(--qp-toolbar-items-gap) /2 )}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button{padding:calc( ( var(--qp-toolbar-height) - var(--qp-icon-size) ) / 2 ) 10px;height:var(--qp-icon-size);line-height:var(--qp-icon-size);cursor:pointer;box-sizing:content-box;display:table;border-radius:var(--qp-input-border-radius);background-color:rgba(0,0,0,.06)}qp-tool-bar .qp-tool-bar-item.minor-button .qp-tool-bar-button{background-color:transparent}qp-tool-bar .qp-tool-bar-item.qp-toggle-pushed .qp-tool-bar-button{background-color:rgba(0,0,0,.06)}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button:hover{background-color:rgba(0,0,0,.1)}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button.disabled:hover{background-color:inherit}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button>qp-hyper-icon{display:flex;align-items:center;height:var(--qp-icon-size)}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button .qp-hyper-icon>img{max-height:var(--qp-icon-size)}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-text{display:inline-block}qp-tool-bar .checkBox{padding-right:0}qp-tool-bar .toolBar button:disabled{background-color:inherit;color:#000;opacity:.26;cursor:default}qp-tool-bar .items-list{list-style:none outside none;height:var(--qp-toolbar-height);margin:0px;padding:0px;border-spacing:0px;border-collapse:separate}qp-tool-bar .items-list .qp-tool-bar-button.disabled{opacity:.26;cursor:default;background-color:inherit}qp-tool-bar .items-list li{display:inline-block;vertical-align:bottom}qp-tool-bar .qp-tool-bar-opener{display:inline-block;box-sizing:border-box;height:var(--qp-toolbar-height);color:rgba(0,0,0,.5);cursor:pointer;padding:calc( ( var(--qp-toolbar-height) - var(--qp-icon-size) ) / 2 ) 10px;border-radius:var(--qp-input-border-radius)}qp-tool-bar .qp-tool-bar-opener.qp-menu-opened,qp-tool-bar .qp-tool-bar-opener.qp-menu-opened:hover,qp-tool-bar .qp-tool-bar-opener.qp-menu-opened:focus{background-color:rgba(0,0,0,.06);z-index:6000;box-shadow:none}qp-tool-bar .qp-tool-bar-opener:hover{background-color:rgba(0,0,0,.06)}qp-tool-bar .qp-tool-bar-opener:focus{background-color:#fff;box-shadow:inset 0px 0px 0px 2px rgba(2,122,204,.4)}qp-tool-bar .qp-tool-bar-opener.qp-tool-bar-invisible{opacity:0}qp-tool-bar .qp-menu-shadow{position:fixed;top:0;bottom:0;left:0;right:0;z-index:5000;background-color:rgba(0,0,0,.25)}qp-tool-bar .qp-tool-bar-item.qp-connotation-default .qp-tool-bar-button.disabled:hover{background-color:inherit;fill:inherit;color:inherit;cursor:default}qp-tool-bar .qp-tool-bar-item.qp-connotation-default .qp-tool-bar-button:hover,qp-tool-bar .qp-tool-bar-item.minor-button.qp-connotation-default.qp-toggle-pushed .qp-tool-bar-button:hover{background-color:rgba(0,0,0,.1)}qp-tool-bar .qp-tool-bar-item.minor-button.qp-connotation-default .qp-tool-bar-button:hover{background-color:rgba(0,0,0,.06)}.qp-connotation-Primary,.qp-connotation-Primary:hover{background-color:#007acc !important;background-color:var(--primary-color, #007ACC) !important;color:#fff !important}.qp-connotation-Secondary,.qp-connotation-Secondary:hover{background-color:#6c757d !important;color:#fff !important}.qp-connotation-Success,.qp-connotation-Success:hover{background-color:#28a745 !important;color:#fff !important}.qp-connotation-Danger,.qp-connotation-Danger:hover{background-color:#dc3545 !important;color:#fff !important}.qp-connotation-Warning,.qp-connotation-Warning:hover{background-color:#ffc107 !important;color:#212529 !important}.qp-connotation-Info,.qp-connotation-Info:hover{background-color:#17a2b8 !important;color:#fff !important}.qp-connotation-Light,.qp-connotation-Light:hover{background-color:#f8f9fa !important;color:#212529 !important}.qp-connotation-Dark,.qp-connotation-Dark:hover{background-color:#343a40 !important;color:#fff !important}.qp-tool-bar-menu{z-index:6000;background-color:#fff;max-height:80vh;overflow-y:auto;overflow-y:overlay;min-width:272px !important;box-shadow:0px 0px 16px rgba(115,115,115,.7);box-sizing:border-box;border-top:5px solid #fff;border-bottom:5px solid #fff;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.15) transparent;border-radius:var(--qp-input-border-radius)}.qp-tool-bar-menu::-webkit-scrollbar{width:19px}.qp-tool-bar-menu::-webkit-scrollbar-thumb{background:rgba(0,0,0,.15);border-radius:0px;width:3px;border:5px solid #fff}.qp-tool-bar-menu .qp-tool-bar-container{padding:0 14px 7px 0;margin:0;overflow:hidden;display:inline-flex;flex-flow:row nowrap}.qp-tool-bar-menu .qp-tool-bar-column{width:240px;margin-right:20px}.qp-tool-bar-menu .qp-tool-bar-menu-item{display:block;padding:0 0 0 29px;margin-left:5px;cursor:pointer;height:30px;font-size:14px;line-height:30px;color:#007acc;color:var(--primary-color, #007ACC);white-space:nowrap;position:relative}.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-empty-label{height:10px}.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-label{font-size:16px;color:#000;cursor:default;padding:10px 0 0 29px;margin-top:7px;box-sizing:border-box;height:40px}.qp-tool-bar-menu .qp-menu-text{display:inline-block;text-overflow:ellipsis;overflow:hidden;width:100%}.qp-tool-bar-menu .qp-tool-bar-menu-item.disabled .qp-menu-text{opacity:.3}.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-item:hover,.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-item.qp-menu-highlighted{background-color:#eee}.qp-tool-bar-menu .qp-tool-bar-menu-item.disabled{cursor:default}.qp-tool-bar-menu .qp-tool-bar-menu-item.disabled:hover{background-color:inherit}.qp-tool-bar-menu .qp-menu-fav-placeholder{width:30px;height:30px;position:absolute;cursor:pointer;font-family:"FontAwesome" !important;left:0px;color:#000}.qp-tool-bar-menu .qp-tool-bar-menu-item:hover .qp-menu-fav-placeholder:not(.favorite):before{content:"";margin-left:6px}.qp-tool-bar-menu .qp-tool-bar-menu-item .qp-menu-fav-placeholder:not(.favorite):hover:before{content:"";margin-left:6px}.qp-tool-bar-menu .qp-menu-fav-placeholder.favorite:before,.qp-tool-bar-menu .qp-tool-bar-menu-item.extention-cord .qp-menu-fav-placeholder.favorite:before{content:"";color:#f7ba08;margin-left:6px;font-family:"FontAwesome" !important}.qp-tool-bar-menu .qp-menu-color-bead{display:inline-block;border-radius:10px;width:10px;height:10px;margin-left:3px}.qp-menu-item.extention-cord{z-index:6000;background:#eee;line-height:30px;color:#007acc;color:var(--primary-color, #007ACC);white-space:nowrap;font-size:14px;box-shadow:none;padding-right:5px}.qp-menu-item.extention-cord.disabled:before{background:#fff;content:"";position:absolute;display:block;width:100%;height:100%;opacity:.7}.qp-menu-item.extention-cord.disabled{background-color:#fff}body.designMode .qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button:hover,body.designMode .qp-tool-bar .qp-tool-bar-item .qp-menu:hover,body.designMode .qp-tool-bar-menu .qp-tool-bar-menu-item .qp-menu-item:hover{box-shadow:0px 0px 2px 1px #007acc;box-shadow:0px 0px 2px 1px var(--primary-color, #007ACC);cursor:help !important;opacity:1}',""]),e.exports=o},"client-controls/controls/compound/translation-validation/qp-translation-validation.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".validation-container{width:100%}.validation-title{padding:10px calc( var(--qp-page-host-margin) + var(--qp-page-host-padding) );font-weight:bold;width:100%;background-color:#fff5d2;cursor:pointer}.validation-items{border:1px solid rgba(0,0,0,.1);max-height:400px;overflow-y:auto;padding:6px 0}.validation-item{padding:4px calc( var(--qp-page-host-margin) + var(--qp-page-host-padding) )}.validation-items{animation:validation-slide-from-top .2s;transform-origin:top}@keyframes validation-slide-from-top{from{transform:scaleY(0)}to{transform:scaleY(1)}}",""]),e.exports=o},"client-controls/controls/compound/tree-selector/qp-tree-selector.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-tree-selector-dialog ux-dialog-header{padding-bottom:0}qp-tree-selector,.qp-tree-selector{height:100%}.qp-tree-selector .qp-tabbar-content{min-height:0}.qp-tree-selector qp-tree{height:100%}.qp-tree-selector .tree-root{display:flex;flex-direction:column}.qp-tree-selector .tree-main-toolbar{flex:0 auto}.qp-tree-selector .tree-table-container{overflow:auto;flex:1 auto}.qp-tree-selector--one-tab .qp-tabbar-header{display:none}.qp-tree-selector--one-tab .qp-tab{padding-top:0}",""]),e.exports=o},"client-controls/controls/container/resizer/qp-resizer.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".qp-resizer{position:relative;padding-bottom:8px}.qp-resizer__content{display:block;height:calc(100% - 8px);overflow-y:auto}.qp-resizer__dragger{display:flex;align-items:center;justify-content:center;position:absolute;bottom:0;left:0;right:0;height:8px;cursor:row-resize}.qp-resizer__icon{display:flex;align-items:center;height:8px;overflow:hidden}.qp-resizer__icon svg{color:#c8c8c8}.qp-resizer__icon:hover svg{color:#7c7c7c}",""]),e.exports=o},"client-controls/controls/dialog/upload-dialog/qp-upload-dialog.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,".upload-dialog-body{--qp-default-label-width: 100px}.upload-dialog-body qp-field.upload-field .label-container label{display:flex;align-items:center}.upload-dialog-body qp-field.upload-field .icon-container{height:100%;display:flex;align-items:center}.upload-dialog-body qp-uploader .qp-uploader{margin:0px}.upload-dialog-body qp-uploader .uploader-button{min-height:18px}.upload-dialog-body qp-uploader .uploader-button .file-label{display:flex;flex-wrap:nowrap;position:absolute;overflow:hidden;width:100%}.upload-dialog-body qp-uploader .uploader-button .file-label .file-label-text{flex-basis:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;line-height:20px}.upload-dialog-body qp-uploader .uploader-button .file-label qp-icon{flex-grow:0;cursor:pointer;pointer-events:all}.upload-dialog-body qp-text-editor textarea{width:100%;min-height:32px}",""]),e.exports=o},"client-controls/controls/dialog/workflow-dialog/qp-workflow-dialog.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-fieldset-layout.workflow-dialog{height:100%}qp-fieldset-layout.workflow-dialog .qp-fieldset-layout-root{flex-grow:1}",""]),e.exports=o},"client-controls/controls/simple/button/qp-button.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-button{display:inline-flex}qp-button button.qp-button div.btn-inner qp-icon.icon-menu{display:inline;padding-left:5px}qp-button div.glue-to{position:fixed;z-index:1000}qp-button div.glue-to div.options-panel{background-color:#fff;z-index:1000;max-width:412px;max-height:269px}qp-button div.drop-down__options-pane{opacity:1 !important;min-width:210px;color:rgba(0,0,0,.87)}qp-button div.drop-down__options-pane div{height:26px;line-height:26px}qp-button button.qp-button{font-weight:400;font-size:var(--qp-regular-font-size);background-color:rgba(0,0,0,.06);border:none;padding:3px 10px 3px 10px;height:var(--qp-button-height);min-width:60px;opacity:.87;white-space:nowrap;cursor:pointer;overflow:hidden;width:inherit;border-radius:var(--qp-input-border-radius);flex-grow:1}qp-button button.qp-button qp-icon{display:inline-block;vertical-align:bottom}qp-button button.qp-button[disabled]{color:rgba(27,27,27,.4);cursor:initial}qp-button button.qp-button.primary-button,qp-button button.qp-button:not([disabled]):hover,qp-button button.qp-button.pushed{background-color:rgba(0,0,0,.1)}qp-button button.qp-button.ButtonT{background-color:transparent;border:none}qp-button button.qp-button:not([disabled]):active{opacity:1}qp-button button.qp-button:focus{box-shadow:inset 0 0 0 2px rgba(2,122,204,.4)}qp-button.major-button button.qp-button{background-color:#007acc;background-color:var(--primary-color, #007ACC);color:#fff}qp-button.major-button button.qp-button[disabled]{background-color:rgba(2,122,204,.4)}qp-button.major-button button.qp-button:not([disabled]):hover{background-color:#016fbb;color:#fff}qp-button.major-button button.qp-button:focus{box-shadow:inset 0 0 0 2px rgba(255,255,255,.4)}qp-button.minor-button button.qp-button{background-color:transparent}qp-button.minor-button button.qp-button:not([disabled]):hover{background-color:rgba(0,0,0,.06)}qp-button.minor-button button.qp-button:focus{background-color:transparent;box-shadow:inset 0 0 0 2px rgba(2,122,204,.4)}qp-button button.qp-button.minor-button.pushed{background-color:rgba(0,0,0,.06)}",""]),e.exports=o},"client-controls/controls/simple/image/components/gallery/carousel.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"carousel,.carousel-body{display:flex;flex-grow:1;position:relative;overflow:hidden}carousel .carousel-left,.carousel-body .carousel-left{position:absolute;top:0px;background-color:transparent;height:100%;display:flex;align-items:center;padding:10px;flex-direction:row;pointer-events:all;z-index:1;cursor:pointer;width:clamp(40px, 20%, 150px);left:0px}carousel .carousel-left>qp-icon.arrow,.carousel-body .carousel-left>qp-icon.arrow{width:11px;height:16px}carousel .carousel-left>qp-icon.arrow svg,.carousel-body .carousel-left>qp-icon.arrow svg{filter:drop-shadow(0px 0px 4px rgba(0, 0, 0, 0.7))}carousel .carousel-left>qp-icon.arrow.left svg,.carousel-body .carousel-left>qp-icon.arrow.left svg{transform:rotate(180deg)}carousel .carousel-left.carousel-button-disabled,.carousel-body .carousel-left.carousel-button-disabled{display:var(--carousel-button-disabled-display, flex);cursor:default}carousel .carousel-left.carousel-button-disabled svg,.carousel-body .carousel-left.carousel-button-disabled svg{visibility:hidden}carousel .carousel-right,.carousel-body .carousel-right{position:absolute;top:0px;background-color:transparent;height:100%;display:flex;align-items:center;padding:10px;flex-direction:row-reverse;pointer-events:all;z-index:1;cursor:pointer;width:clamp(40px, 20%, 150px);right:0px}carousel .carousel-right>qp-icon.arrow,.carousel-body .carousel-right>qp-icon.arrow{width:11px;height:16px}carousel .carousel-right>qp-icon.arrow svg,.carousel-body .carousel-right>qp-icon.arrow svg{filter:drop-shadow(0px 0px 4px rgba(0, 0, 0, 0.7))}carousel .carousel-right>qp-icon.arrow.left svg,.carousel-body .carousel-right>qp-icon.arrow.left svg{transform:rotate(180deg)}carousel .carousel-right.carousel-button-disabled,.carousel-body .carousel-right.carousel-button-disabled{display:var(--carousel-button-disabled-display, flex);cursor:default}carousel .carousel-right.carousel-button-disabled svg,.carousel-body .carousel-right.carousel-button-disabled svg{visibility:hidden}carousel .carousel-center,.carousel-body .carousel-center{display:flex;flex-grow:1;position:relative;justify-content:center}carousel .carousel-center>*,.carousel-body .carousel-center>*{position:absolute;height:100%;width:100%}",""]),e.exports=o},"client-controls/controls/simple/image/components/gallery/image-feed.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"image-feed{display:flex;flex-grow:1;position:relative;overflow:hidden}image-feed .image-feed{display:flex;flex-wrap:nowrap;position:absolute;top:0px;left:0px;overflow:hidden;width:100%}image-feed .image-feed>image-view{flex-shrink:0;cursor:pointer}image-feed .image-feed>image-view.selected{z-index:1}image-feed .image-feed>.image-feed-track{flex-grow:0;flex-shrink:0;height:100%}",""]),e.exports=o},"client-controls/controls/simple/image/components/gallery/image-gallery.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"image-gallery,.image-gallery{display:flex;flex-grow:1;flex-direction:column;align-items:stretch;flex-wrap:nowrap;overflow:hidden}image-gallery image-feed,.image-gallery image-feed{flex-basis:clamp(56px, 15%, 120px);flex-grow:0}image-gallery .image-gallery-placeholder,.image-gallery .image-gallery-placeholder{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch}",""]),e.exports=o},"client-controls/controls/simple/image/components/popup/image-popup.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"image-popup{display:inline}image-popup .image-popup-host{display:inline}.image-popup{display:flex;position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:var(--zindex-container, 11000);background-color:#fff;align-items:stretch;flex-direction:column;flex-wrap:nowrap}.image-popup>*{flex-grow:1}.image-popup .image-popup-caption{position:relative;flex:0 0 auto;display:flex;flex-wrap:nowrap;align-items:center;height:48px;width:100vw;border-bottom:1px solid rgba(0,0,0,.1)}.image-popup .image-popup-caption .image-popup-title{flex-grow:1;font-size:14px;text-overflow:ellipsis;text-wrap:nowrap;overflow:hidden;padding:0px 24px}.image-popup .image-popup-caption .image-popup-toolbar{display:flex;padding-right:8px;flex:0 1 380px;flex-wrap:nowrap;height:100%;align-self:end;--control-toolbar-hover-background: transparent;--control-toolbar-item-opacity: 0.7;--control-toolbar-item-hover-opacity: 1;--layout-hover-background: transparent}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar{display:flex;position:relative;height:100%;align-items:center}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar qp-layout{justify-content:right;display:flex}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar.qp-control-bar-main{flex:1 1 auto}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar.qp-control-bar-main .qp-control-bar{position:absolute}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar.qp-control-bar-panel{flex:0 0 24px}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar .image-popup-toolbar-button{cursor:pointer}.image-popup image-gallery .image-view-image{cursor:pointer !important}",""]),e.exports=o},"client-controls/controls/simple/image/components/view/image-view.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"image-view{display:flex;padding:calc(2 * var(--image-view-image-padding, 0px)) var(--image-view-image-padding, 0px) 0px var(--image-view-image-padding, 0px);align-items:stretch;justify-content:stretch}image-view .image-view{position:relative;display:flex;flex-grow:1;user-select:none;overflow:hidden}image-view .image-view img{width:100%;height:100%}image-view .image-view img.image-view-image{cursor:var(--image-view-cursor, pointer)}image-view .image-view img.image-view-image-preview{filter:blur(4px) opacity(0.4)}image-view .image-view .image-view-load-status{position:absolute;width:100%;height:100%;z-index:0;display:flex;align-items:center;flex-grow:1;flex-direction:column;justify-content:center;gap:16px;container-type:size;container-name:load-status}image-view .image-view .image-view-load-status reload-icon{display:flex;align-items:center;justify-content:center}image-view .image-view .image-view-load-status reload-icon>svg{width:clamp(20px, 30%, 49px);fill:none;stroke:#aeaeae;cursor:pointer}image-view .image-view .image-view-load-status reload-icon>svg #reload-icon-arrow{fill:#aeaeae}image-view .image-view .image-view-load-status .image-view-load-status-text{display:none;text-shadow:0px 0px 14px #fff,0px 0px 14px #fff}@container load-status (min-width: 160px){image-view .image-view .image-view-load-status .image-view-load-status-text{display:block}}",""]),e.exports=o},"client-controls/controls/simple/image/components/view/load-progress.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"load-progress{display:flex}load-progress .load-progress{display:flex;flex-grow:1;align-items:center;justify-content:center}load-progress .load-progress .load-progress-icon{width:clamp(20px, 30%, 49px);fill:none;cursor:pointer}load-progress .load-progress .load-progress-icon #progress-body{fill:#fff;stroke:#aeaeae;stroke-width:1px}load-progress .load-progress .load-progress-icon #progress-value{fill:transparent;stroke:#0061a4;stroke-width:3px}load-progress .load-progress .load-progress-icon #progress-cancel{fill:#aeaeae}",""]),e.exports=o},"client-controls/controls/simple/image/upload/qp-image-uploader.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-image-uploader{display:inline}.qp-image-uploader{display:flex;flex-direction:column}.qp-image-uploader qp-multi-upload{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch}.qp-image-uploader qp-multi-upload .qp-uploader{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch;margin:0px;padding:0px;border:0px solid transparent}.qp-image-uploader qp-multi-upload .qp-uploader .uploader-button{flex-grow:1;display:flex;align-items:stretch;justify-content:stretch;position:relative}.qp-image-uploader image-gallery{flex-grow:1}.qp-image-uploader image-gallery carousel{border:1px solid rgba(0,0,0,.1);border-radius:10px;background-color:#fff}.qp-image-uploader image-gallery carousel image-view .image-view-load-status{cursor:default}.qp-image-uploader image-gallery .qp-image-uploader-placeholder{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message{flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message svg{fill:none;fill:#000;fill-opacity:.4;fill-rule:evenodd;clip-rule:evenodd}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message svg.qp-image-uploader-prompt{width:53px;height:44px}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message svg.qp-image-uploader-null{width:46px;height:46px}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message.qp-image-uploader-message-null{cursor:default}.qp-image-uploader image-gallery image-feed{--image-view-image-padding: 3px}.qp-image-uploader image-gallery image-feed .image-feed{justify-content:center}.qp-image-uploader image-gallery image-feed .image-feed image-view .image-view{border-radius:10px;outline:1px solid #c9c9c9}.qp-image-uploader image-gallery image-feed .image-feed image-view.selected .image-view{outline:2px solid #007acc;outline-offset:-1px}.qp-image-uploader qp-control-bar.image-gallery-toolbar{--control-toolbar-hover-background: transparent;--control-toolbar-gap: 0px;position:absolute;top:2px;right:0px;z-index:1}.qp-image-uploader image-view{background-color:#fff}",""]),e.exports=o},"client-controls/controls/simple/image/view/qp-image-view.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-image-view{display:inline}.qp-image-view{border:1px solid rgba(0,0,0,.1);border-radius:10px;overflow:hidden;background-color:#fff}.qp-image-view .qp-image-view-message{flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}.qp-image-view .qp-image-view-message svg{fill:none;fill:#000;fill-opacity:.4;fill-rule:evenodd;clip-rule:evenodd}.qp-image-view .qp-image-view-message svg.qp-image-view-null{width:46px;height:46px}.qp-image-view .qp-image-view-message.qp-image-view-message-null{cursor:default}",""]),e.exports=o},"client-controls/controls/simple/uploader/qp-multi-upload.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-multi-upload{display:flex;align-items:stretch;justify-content:stretch}qp-multi-upload>qp-uploader{flex-grow:1}",""]),e.exports=o},"client-controls/controls/simple/uploader/qp-uploader.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,"qp-uploader{display:flex;align-items:stretch;justify-content:stretch}qp-uploader>.qp-uploader{flex-grow:1}.qp-uploader{margin:10px 0;border:3px dashed #d3d3d3;padding:10px;text-align:center;position:relative}.qp-uploader .uploader-input{cursor:pointer;position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;z-index:1}.qp-uploader .uploader-button{position:relative;cursor:pointer;pointer-events:var(--uploader-button-pointer-events, none)}",""]),e.exports=o},"client-controls/controls/styles.scss":(e,t,n)=>{var r=n("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),o=n("./node_modules/css-loader/dist/runtime/api.js")(r);o.push([e.id,':root{--primary-color-rgb: 0, 122, 204;--qp-primary-color: rgba(var(--primary-color-rgb));--qp-highlight-color: rgba(224, 239, 249, 1);--qp-highlight-hover-color: rgba(204, 228, 245, 1);--qp-altrow-color: rgba(245, 247, 248, 1);--qp-row-color: rgba(255, 255, 255, 1);--qp-background-color: rgba(0, 0, 0, 0.06);--qp-dark-background-color: rgba(0, 0, 0, 0.1);--qp-menu-hover: rgba(0, 0, 0, 0.07);--qp-shadow-color: rgba(0, 0, 0, 0.2);--qp-border-color: rgba(210, 212, 215, 1);--qp-sucess-bg-color: rgba(237, 247, 234, 1);--qp-error-bg-color: rgba(255, 239, 239, 1);--qp-success-color: rgba(71, 168, 36, 1);--qp-warning-color: rgba(255, 184, 0, 1);--qp-error-color: rgba(238, 64, 81, 1);--qp-label-color: #1B1B1B;--qp-input-height: 30px;--qp-grid-row-height: 26px;--qp-grid-line-height: 16px;--qp-inputs-gap: 4px;--qp-input-border-radius: 6px;--qp-regular-font-size: 14px;--qp-tabbar-font-size: 13px;--qp-button-height: 28px;--qp-toolbar-height: 28px;--qp-toolbar-items-gap: 8px;--qp-icon-size: 16px;--qp-sections-column-gap: 8px;--qp-sections-row-gap: 8px;--qp-fieldset-padding-top: 12px;--qp-fieldset-padding-left: 16px;--qp-page-host-margin: 4px;--qp-page-host-padding: 12px}@media(min-height: 680px){:root{--qp-sections-row-gap: 12px;--qp-inputs-gap: 6px;--qp-input-height: 32px;--qp-toolbar-height: 32px;--qp-button-height: 32px;--qp-tabbar-font-size: 14px;--qp-grid-row-height: 29px}}@media(min-width: 1400px){:root{--qp-sections-column-gap: 12px;--qp-page-host-margin: 7px;--qp-page-host-padding: 17px}}qp-note-dialog,qp-files-dialog{position:absolute}.fatal-error{background-color:var(--qp-error-color) !important}.qp-collapser{display:block;position:relative}.qp-collapser.container{flex-shrink:0;min-height:20px;padding-right:32px}.qp-collapser.toggle{display:flex;align-items:center;height:20px;width:24px;font-size:16px;font-family:"FontAwesome" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;background-color:rgba(0,0,0,.06);border-radius:var(--qp-input-border-radius);padding:0 4px;cursor:pointer;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.qp-collapser.toggle:hover{background-color:#007acc;background-color:var(--primary-color, #007ACC);color:#fff}.qp-collapser.toggle:not(.expanded):before{content:"";padding-top:4px}.qp-collapser.expanded:before{content:""}.qp-collapser.toggle:not(.expanded){background-color:#e6f2fa;color:#027acc;fill:#027acc}.qp-collapser.hidden{display:none}',""]),e.exports=o},"client-controls/controls/abstract/screen-base-view-model/screen-base-view-model.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./screen-base-view-model.css"></require>\r\n</template>\r\n'},"client-controls/controls/compound/address-lookup/qp-address-lookup.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template id="${config.id}" show.bind="!config.hidden">\r\n\t<require from="./qp-address-lookup.css"></require>\r\n\r\n\t<qp-button config.bind="btnAddressLookupConfig" class="btn-address-lookup"\r\n\t\tclick.delegate="processAddressLookupClick($event)">\r\n\t</qp-button>\r\n\t<qp-panel id="addresslookup_mapdialog" config.bind="mapdialogConfig">\r\n\t\t<div class="flex-container" >\r\n\t\t\t<div class="flex-item" style="height: inherit;">\r\n\t\t\t\t\t<div class="mapcontainer" id="mapContainer" ref="mapContainer"  style="height: inherit;" >\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\'searchBoxContainer\' class="customNavBar">\r\n\t\t\t\t\t\t<qp-text-editor ref="searchBox" config.bind="txtNameConfig"></qp-text-editor>\r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button click.delegate="ok()" config.bind="saveButtonConfig"></qp-button>\r\n\t\t\t<qp-button config.bind="cancelButtonConfig"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\t<qp-panel id="addresslookup_mapdialog_notconf" config.bind="mapdialogConfig">\r\n\t\t<div class="flex-container-notconf" >${msg.AddressLookupMapIsNotConfigured}</div>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/currency/qp-currency.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template show.bind="!config.hidden">\r\n\t<require from="./qp-currency.css"></require>\r\n\r\n\t<div class="control-container">\r\n\t\t<div if.bind="mode===\'current\'" class="currency-container">\r\n\t\t\t<qp-selector\r\n\t\t\t\tvalue.two-way="currencyValue"\r\n\t\t\t\tconfig.bind="currencySelectorConfig"\r\n\t\t\t\tstate.bind="currencySelectorState"\r\n\t\t\t\twg-field.one-way="(`${config.id}_CuryID`) & attr"\r\n\t\t\t\tclass="current-currency-select">\r\n\t\t\t</qp-selector>\r\n\t\t\t<qp-simple-selector\r\n\t\t\t\tvalue.two-way="rateValue"\r\n\t\t\t\tconfig.bind="rateSelectorConfig"\r\n\t\t\t\twg-field.one-way="(`${config.id}_CuryRateTypeID`) & attr"\r\n\t\t\t\tclass="rate-select">\r\n\t\t\t</qp-simple-selector>\r\n\t\t\t<qp-button\r\n\t\t\t\tconfig.bind="btnSwitchToBase"\r\n\t\t\t\tref="switchToBaseElement"\r\n\t\t\t\tclass="currency-to-base"\r\n\t\t\t\tclick.delegate="switchCuryState($event)"></qp-button>\r\n\t\t</div>\r\n\r\n\t\t<div if.bind="mode===\'base\'" class="currency-container">\r\n\t\t\t<div class="base-currency" wg-field.one-way="(`${config.id}_BaseCuryID`) & attr">${baseLabel}</div>\r\n\t\t\t<qp-button\r\n\t\t\t\tconfig.bind="btnSwitchToCurrent"\r\n\t\t\t\tref="switchToCurrentElement"\r\n\t\t\t\tclass="currency-to-current"\r\n\t\t\t\tclick.delegate="switchCuryState($event)"></qp-button>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<qp-panel id="currencyRateDialog_${config.id}">\r\n\t\t<div class="currency-rate-dialog">\r\n\t\t\t<qp-field\r\n\t\t\t\tcontrol-id="${selectorContext.config.id}_currencyRateTypeId"\r\n\t\t\t\tcontrol-state.bind="selectorContext.currencyRateTypeState"\r\n\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_CuryRateTypeID`) & own"\r\n\t\t\t\tlabel-size="sm"></qp-field>\r\n\t\t\t<qp-field\r\n\t\t\t\tcontrol-id="${selectorContext.config.id}_currencyEffectiveDate"\r\n\t\t\t\tcontrol-state.bind="selectorContext.currencyEffectiveDateState"\r\n\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_CuryEffDate`) & own"\r\n\t\t\t\tlabel-size="sm"></qp-field>\r\n\t\t\t<fieldset class="rate-values">\r\n\t\t\t\t<qp-caption caption="${selectorContext.rateValuesCaption}"></qp-caption>\r\n\t\t\t\t<div class="rate-values-row">\r\n\t\t\t\t\t<div class="rate-values-label">${selectorContext.baseRateState}</div>\r\n\t\t\t\t\t<qp-field\r\n\t\t\t\t\t\tcontrol-id="${selectorContext.config.id}_curyIDReadonly1"\r\n\t\t\t\t\t\tcontrol-state.bind="selectorContext.currentCurrencyReadonly"\r\n\t\t\t\t\t\tlabel-size="zero"\r\n\t\t\t\t\t\tno-label="true"\r\n\t\t\t\t\t\tno-icon="true"\r\n\t\t\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_CuryID-readonly`) & own"\r\n\t\t\t\t\t\tcontrol-size="xs"></qp-field>\r\n\t\t\t\t\t<div class="rate-values-label">=</div>\r\n\t\t\t\t\t<qp-field\r\n\t\t\t\t\t\tcontrol-id="${selectorContext.config.id}_sampleCurrencyRateState"\r\n\t\t\t\t\t\tcontrol-state.bind="selectorContext.sampleCurrencyRateState"\r\n\t\t\t\t\t\tlabel-size="zero"\r\n\t\t\t\t\t\tno-label="true"\r\n\t\t\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_SampleCuryRate`) & own"\r\n\t\t\t\t\t\tcontrol-size="s"></qp-field>\r\n\t\t\t\t\t<qp-field\r\n\t\t\t\t\t\tcontrol-id="${selectorContext.config.id}_baseCurrencyState2"\r\n\t\t\t\t\t\tcontrol-state.bind="selectorContext.baseCurrencyState"\r\n\t\t\t\t\t\tlabel-size="zero"\r\n\t\t\t\t\t\tno-label="true"\r\n\t\t\t\t\t\tno-icon="true"\r\n\t\t\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_BaseCuryID2`) & own"\r\n\t\t\t\t\t\tcontrol-size="xs"></qp-field>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="rate-values-row">\r\n\t\t\t\t\t<div class="rate-values-label">${selectorContext.baseRateState}</div>\r\n\t\t\t\t\t<qp-field\r\n\t\t\t\t\t\tcontrol-id="${selectorContext.config.id}_baseCurrencyState1"\r\n\t\t\t\t\t\tcontrol-state.bind="selectorContext.baseCurrencyState"\r\n\t\t\t\t\t\tlabel-size="zero"\r\n\t\t\t\t\t\tno-label="true"\r\n\t\t\t\t\t\tno-icon="true"\r\n\t\t\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_BaseCuryID1`) & own"\r\n\t\t\t\t\t\tcontrol-size="xs"></qp-field>\r\n\t\t\t\t\t<div class="rate-values-label">=</div>\r\n\t\t\t\t\t<qp-field\r\n\t\t\t\t\t\tcontrol-id="${selectorContext.config.id}_sampleRecieptRateState"\r\n\t\t\t\t\t\tcontrol-state.bind="selectorContext.sampleRecieptRateState"\r\n\t\t\t\t\t\tlabel-size="zero"\r\n\t\t\t\t\t\tno-label="true"\r\n\t\t\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_SampleRecipRate`) & own"\r\n\t\t\t\t\t\tcontrol-size="s"></qp-field>\r\n\t\t\t\t\t<qp-field\r\n\t\t\t\t\t\tcontrol-id="${selectorContext.config.id}_curyIDReadonly2"\r\n\t\t\t\t\t\tcontrol-state.bind="selectorContext.currentCurrencyReadonly"\r\n\t\t\t\t\t\tlabel-size="zero"\r\n\t\t\t\t\t\tno-label="true"\r\n\t\t\t\t\t\tno-icon="true"\r\n\t\t\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_CuryID-readonly`) & own"\r\n\t\t\t\t\t\tcontrol-size="xs"></qp-field>\r\n\t\t\t\t</div>\r\n\t\t\t</fieldset>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="selectorContext.saveButtonConfig">\r\n\t\t\t</qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/formula-editor/qp-formula-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<qp-panel id="formulaEditorPopupTemplate_${config.id}">\r\n\t\t<div class="v-stack">\r\n\t\t\t<div class="formula-editor-popup__list-panel">\r\n\t\t\t\t<div class="formula-editor-popup__tree-container ${treeLoadingStatus == \'loading\' ? \'spinner\' : \'\'}">\r\n\t\t\t\t\t<qp-tree class="formula-editor-popup__tree" show.bind="treeLoadingStatus == \'in-sync\'" value.two-way="treeValue" view-model.ref="tree"\r\n\t\t\t\t\t\tconfig.bind="{\r\n\t\t\t\t\t\t\tid: `${config.id}_pnlARmColHeader_cat`,\r\n\t\t\t\t\t\t\tdynamic: false,\r\n\t\t\t\t\t\t\tdata: treeData,\r\n\t\t\t\t\t\t\tmodifiable: false,\r\n\t\t\t\t\t\t\tmode: \'single\',\r\n\t\t\t\t\t\t\tsingleClickSelect: true,\r\n\t\t\t\t\t\t\tdefaultDrag: \'cut\',\r\n\t\t\t\t\t\t}">\r\n\t\t\t\t\t</qp-tree>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="formula-editor-popup__items-list">\r\n\t\t\t\t\t<div class="formula-editor-popup__items-filter">\r\n\t\t\t\t\t\t<qp-filter-box view-model.ref="nodesFilterBox" id="${config.id}_items-filter" on-filter.call="onFilter(filter)" filter.two-way="filterString"></qp-filter-box>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="formula-editor-popup__items-select-container ${nodeLoadingStatus == \'loading\' ? \'spinner\' : \'\'}">\r\n\t\t\t\t\t\t<div class="formula-editor-popup__items-select" show.bind="nodeLoadingStatus == \'in-sync\'" tabindex="0" ref="nodeSelect"\r\n\t\t\t\t\t\t\tkeydown.delegate="stopPropagation($event, [\'ArrowUp\', \'ArrowDown\', \'Enter\'])"\r\n\t\t\t\t\t\t\tkeyup.delegate="handleSelectKeyup($event)"\r\n\t\t\t\t\t\t\tid="${config.id}_pnlARm_lst"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div repeat.for="node of currentNodesListToShowHighlighted" tabindex="-1"\r\n\t\t\t\t\t\t\t\tmousedown.delegate="preventDblclickSelection($event)"\r\n\t\t\t\t\t\t\t\tclick.delegate="selectLeafNode(node.pureNode)"\r\n\t\t\t\t\t\t\t\tdblclick.delegate="insertNodeToFormula(node.pureNode)"\r\n\t\t\t\t\t\t\t\tdata-value="${node.pureNode}"\r\n\t\t\t\t\t\t\t\tclass="formula-editor-popup__items-select-option\r\n\t\t\t\t\t\t\t\t${selectedLeafNode == node.pureNode ? \'formula-editor-popup__items-select-option--current\' : \'\'}"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span innerhtml.bind="node.highlightedNode"></span>\r\n\t\t\t\t\t\t\t\t<button class="formula-editor-popup__items-select-option-add-button" click.delegate="insertNodeToFormula(node.pureNode)" tabindex="-1">\r\n\t\t\t\t\t\t\t\t\t<qp-icon class="formula-editor-popup__items-select-option-add-icon"\r\n\t\t\t\t\t\t\t\t\t\timagesrc="svg:main@plus">\r\n\t\t\t\t\t\t\t\t\t</qp-icon>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="formula-editor-popup__textarea-container ${textareaFocused ? \'formula-editor-popup__textarea-container--focused\' : \'\'}">\r\n\t\t\t\t<div contenteditable ref="popupInputElement" class="formula-editor-popup__textarea" tabindex="0"\r\n\t\t\t\t\tid="${config.id}_txt"\r\n\t\t\t\t\tinnerhtml.two-way="popupValue"\r\n\t\t\t\t\tkeyup.delegate="checkValidationStatus()"\r\n\t\t\t\t\tpaste.delegate="checkValidationStatus()"\r\n\t\t\t\t\tfocus.trigger="handlePopupTextareaFocus()"\r\n\t\t\t\t\tblur.trigger="handlePopupTextareaBlur()"\r\n\t\t\t\t></div>\r\n\t\t\t</div>\r\n\t\t\t<div class="formula-editor-popup__textarea-hint" innerhtml.bind="msg.Comment" id="${config.id}_textareaHint"></div>\r\n\t\t\t<div if.bind="validationResult" id="${config.id}_lblValidate" class="formula-editor-popup__validation-result\r\n\t\t\t\t${validationResult.valid ? \'formula-editor-popup__validation-result--success\' : \'formula-editor-popup__validation-result--error\'}\r\n\t\t\t\t${validationStatus != \'validation-completed\' ? \'formula-editor-popup__validation-result--outdated\' : \'\'}\r\n\t\t\t">\r\n\t\t\t\t<qp-icon class="formula-editor-popup__validation-result-icon"\r\n\t\t\t\t\timagesrc.bind="validationIcon"\r\n\t\t\t\t></qp-icon>\r\n\t\t\t\t${validationResult.message}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button click.trigger="validate()" config.bind="validateConfig"></qp-button>\r\n\t\t\t<qp-button click.trigger="ok()" config.bind="okConfig" class="major-button"></qp-button>\r\n\t\t\t<qp-button click.trigger="currentDialog.cancel()" config.bind="cancelConfig"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/formula-editor/qp-formula-editor.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template enabled.bind="!!config.enabled & attr" class="${ROMode ? \'ReadOnly\' : \'\'}">\r\n\t<require from="./qp-formula-editor.css"></require>\r\n\r\n\t<div id="${config.id}" tabindex="-1"\r\n\t\tclass="formula-editor-control ${config.class} ${hasFocus ? \'focus\':\'\'} ${ROMode ? \'ReadOnly\' : \'\'} size-${config.size}\r\n\t\t\t${isComboBox ? \'formula-editor-control--combo\' : \'\'}\r\n\t\t\t${dropdownShown ? \'formula-editor-control--dropdown-shown\' : \'\' }"\r\n\t\tref="editorWrap"\r\n\t\tshow.bind="!config.hidden"\r\n\t\tbuttons.bind="ROMode ? \'0\' : \'\' & attr"\r\n\t>\r\n\t\t<div if.bind="!isComboBox" class="formula-editor-control__cont">\r\n\t\t\t<div class="formula-editor-control__wrap">\r\n\t\t\t\t<input\r\n\t\t\t\t\tname="${config.name}$text"\r\n\t\t\t\t\ttype="text"\r\n\t\t\t\t\tid="${config.id}_text"\r\n\t\t\t\t\tref="inputElement"\r\n\t\t\t\t\tvalue.bind="value"\r\n\t\t\t\t\ttabindex="${config.tabIndex}"\r\n\t\t\t\t\tfocus.bind="hasFocus"\r\n\t\t\t\t\tpaste.delegate="onPaste($event)"\r\n\t\t\t\t\tclass="formula-editor-control__display-text ${ROMode ? \'ReadOnly\' : \'\'}\r\n\t\t\t\t\t\t${config.allowEdit ? \'\' : \'formula-editor-control__display-text--invisible\'}"\r\n\t\t\t\t\treadonly.bind="ROMode ? \'readonly\' : null & attr"\r\n\t\t\t\t\tautocomplete="off"\r\n\t\t\t\t>\r\n\t\t\t\t<span class="formula-editor-control__text">\r\n\t\t\t\t\t${value}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<qp-drop-down if.bind="isComboBox" value.two-way="value" config.bind="config"></qp-drop-down>\r\n\t\t<div class="formula-editor-control__buttons-cont">\r\n\t\t\t<div class="sprite-icon control-icon" icon="EditN" type="edit" show.bind="!ROMode" click.delegate="showPopup()">\r\n\t\t\t\t<div class="control-icon-img control-EditN"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<qp-formula-dialog view-model.ref="formulaDialogVM" config.bind="config" if.bind="config"></qp-formula-dialog>\r\n</template>\r\n'},"client-controls/controls/compound/grid/dialogs/columns-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../../../styles.scss"></require>\r\n\t<require from="../../../dialog/base-dialog/base-dialog.css"></require>\r\n\t<require from="./columns-dialog.css"></require>\r\n\t<require from="../elements/qp-filter-box"></require>\r\n\r\n\t<ux-dialog class="dialog columns-dialog" id="${config.id}">\r\n\t\t<ux-dialog-body>\r\n\t\t\t<qp-filter-box ref="elemFilterBox" on-filter.call="processInput(filter)"\r\n\t\t\t\tfilter.two-way="search" highlight-text.bind="false">\r\n\t\t\t</qp-filter-box>\r\n\r\n\t\t\t<div class="cols-list" ref="elemColsList" selectstart.delegate="processSelectStart($event)">\r\n\t\t\t\t<div repeat.for="col of columns" draggable.bind="search ? null : true & attr"\r\n\t\t\t\t\tif.bind="visibleChangeAllowed(col) || col.visible"\r\n\t\t\t\t\tclass="${getDragOverClass(col, dragInfo ? dragInfo.targetIndex : null)}"\r\n\t\t\t\t\tmouseup.delegate="processColClick($event, col)"\r\n\t\t\t\t\tdragstart.delegate="processDragStart($event, col)"\r\n\t\t\t\t\tdragover.delegate="processDragOver($event, col)"\r\n\t\t\t\t\tdrop.delegate="processDrop($event, col)" dragleave.delegate="processDragLeave($event)">\r\n\r\n\t\t\t\t\t<i class="ac drag-icon ac-more_vert"></i>\r\n\t\t\t\t\t<i class="ac ac-check_box${col.tag.visible ? \'\' : \'_outline_blank\'} ${!visibleChangeAllowed(col) ? \'visible-fixed\' : \'\'}"></i>\r\n\r\n\t\t\t\t\t<span class="field-name">${col.caption || col.field || col.key}</span>\r\n\t\t\t\t\t<span if.bind="config.allowSkipTabs && col.tag.visible"\r\n\t\t\t\t\t\tclass="tab-switch ac ac-2x ac-Tab${col.tag.skipTab ? \'Off\' : \'On\'}"\r\n\t\t\t\t\t\tmouseup.delegate="processSkipTabClick($event, col)">\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-body>\r\n\r\n\t\t<ux-dialog-footer>\r\n\t\t\t<qp-button id="${config.id}_reset" click.trigger="controller.ok(\'reset\')" config.bind="resetConfig" style="float:left">${msg.Reset}</qp-button>\r\n\t\t\t<qp-button id="${config.id}_ok" click.trigger="controller.ok(config.columns)" config.bind="okConfig">${msg.Confirm}</qp-button>\r\n\t\t\t<qp-button id="${config.id}_cancel" click.trigger="controller.cancel()" config.bind="cancelConfig">${msg.Cancel}</qp-button>\r\n\t\t</ux-dialog-footer>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/compound/grid/dialogs/columns-list-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n<require from="../../../styles.scss"></require>\r\n<require from="../../../dialog/base-dialog/base-dialog.css"></require>\r\n<require from="./columns-list-dialog.css"></require>\r\n<require from="../elements/qp-filter-box"></require>\r\n\r\n\t<ux-dialog class="dialog columns-list-dialog" id="${config.id}_columns_list">\r\n\t\t<ux-dialog-body>\r\n\t\t\t<div class="header">\r\n\t\t\t\t<span>${msg.GridAddQuickFilter}</span>\r\n\t\t\t\t<a if.bind="config.showAdvancedLink" href="javasript:void 0" click.trigger="controller.ok(true)" tabindex="-1">\r\n\t\t\t\t\t${msg.GridAdvanced}\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t\t<div class="filter-container">\r\n\t\t\t\t<qp-filter-box on-filter.call="processFilter(filter)" ref="elemFilterBox"\r\n\t\t\t\t\tfilter.two-way="search" highlight-text.bind="false">\r\n\t\t\t\t</qp-filter-box>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div if.bind="columns.length" class="cols-list" selectstart.delegate="processSelectStart($event)">\r\n\t\t\t\t<div repeat.for="col of columns" if.bind="col.allowFilter" click.delegate="processColClick($event, col)">\r\n\t\t\t\t\t<span class="field-name">${col.caption || col.field || col.key}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div else class="empty-message">\r\n\t\t\t\t${msg.Format(msg.EmptySearchMessage1, search)}.\r\n\t\t\t</div>\r\n\t\t</ux-dialog-body>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/compound/grid/dialogs/filter-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../../../styles.scss"></require>\r\n\t<require from="../../../dialog/base-dialog/base-dialog.css"></require>\r\n\t<require from="./filter-dialog.css"></require>\r\n\r\n\t<ux-dialog class="dialog filter-dialog" id="${config.id}">\r\n\t\t<ux-dialog-body>\r\n\t\t\t<div class="sorts-and-filters" mousedown.delegate="preventFocus($event)" selectstart.delegate="preventSelection($event)">\r\n\t\t\t\t<div class="items-list" if.bind="config.showSortItems">\r\n\t\t\t\t\t<div click.delegate="processSortClick($event, 1)" data-cmd="SA">\r\n\t\t\t\t\t\t<qp-icon imagesrc="svg:main@sortAsc"></qp-icon>\r\n\t\t\t\t\t\t<i class="ac control-MenuCheck align-right" if.bind="col.sortDirection == 1"></i>\r\n\t\t\t\t\t\t<div class="text">${msg.GridSortAsc}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div click.delegate="processSortClick($event, 2)" data-cmd="SD">\r\n\t\t\t\t\t\t<qp-icon imagesrc="svg:main@sortDesc"></qp-icon>\r\n\t\t\t\t\t\t<i class="ac control-MenuCheck align-right" if.bind="col.sortDirection == 2"></i>\r\n\t\t\t\t\t\t<div class="text">${msg.GridSortDesc}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="separator" if.bind="config.showSortItems"><div>&nbsp;</div></div>\r\n\r\n\t\t\t\t<div class="items-list clear-filter">\r\n\t\t\t\t\t<div if.bind="config.showRemoveItem" click.delegate="processRemoveClick($event)">\r\n\t\t\t\t\t\t<i class="ac ac-delete"></i>\r\n\t\t\t\t\t\t<div class="text">${msg.RemoveFilter}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="clear-filter ${hasFilter ? \'\' : \'disabled\'}"\tclick.delegate="processClearClick($event)" data-cmd="Clear">\r\n\t\t\t\t\t\t<i class="ac ac-close"></i>\r\n\t\t\t\t\t\t<div class="text">${msg.ClearFilter}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="separator"><div>&nbsp;</div></div>\r\n\r\n\t\t\t\t<div class="items-list conditions" if.bind="!hasValueItems">\r\n\t\t\t\t\t<div repeat.for="cond of conditions" click.delegate="processConditionClick($event, cond.value)" data-cmd="${cond.value}">\r\n\t\t\t\t\t\t<i class="ac control-MenuCheck" if.bind="(isBoolean && filter.value == cond.value) || filter.condition == cond.value"></i>\r\n\t\t\t\t\t\t<div class="text">${cond.text}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class="items-list select-all" if.bind="hasValueItems">\r\n\t\t\t\t\t<div click.delegate="processSelectClick()" data-cmd="SelectAll">\r\n\t\t\t\t\t\t<i class="ac ac-${selectionIcon}"></i>\r\n\t\t\t\t\t\t<div class="text">${msg.GridSelectAll}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="separator" if.bind="hasValueItems"><div>&nbsp;</div></div>\r\n\r\n\t\t\t\t<div class="items-list items" if.bind="hasValueItems">\r\n\t\t\t\t\t<div repeat.for="item of items" click.delegate="processItemClick($event, item)">\r\n\t\t\t\t\t\t<i class="ac ac-${item.selected ? \'check_box_filled\' : \'check_box_outline_blank\'}"></i>\r\n\t\t\t\t\t\t<div class="text">${item.text || item.value || \'&nbsp;\'}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="editors" if.bind="!hasValueItems && !isBoolean" ref="elemEditorsCont">\r\n\t\t\t\t<let label-text.bind="isBetween ? msg.GridFrom : msg.GridValue"></let>\r\n\t\t\t\t<qp-mask-editor if.bind="isString && !isSelector" value.two-way="filter.value" config.bind="txtConfig">\r\n\t\t\t\t</qp-mask-editor>\r\n\t\t\t\t<qp-selector if.bind="isSelector" value.two-way="selectorValue" state.bind="selectorState" config.bind="selectorConfig">\r\n\t\t\t\t</qp-selector>\r\n\t\t\t\t<div class="label-cont" if.bind="isNumeric">\r\n\t\t\t\t\t<label for="filter_dialog_num1">${labelText}</label>\r\n\t\t\t\t\t<qp-number-editor value.two-way="filter.value" config.bind="numConfig1">\r\n\t\t\t\t\t</qp-number-editor>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="label-cont second" if.bind="isNumeric && isBetween">\r\n\t\t\t\t\t<label for="filter_dialog_num2">${msg.GridTo}</label>\r\n\t\t\t\t\t<qp-number-editor value.two-way="filter.value2" config.bind="numConfig2">\r\n\t\t\t\t\t</qp-number-editor>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="label-cont" if.bind="isDateTime">\r\n\t\t\t\t\t<label for="filter_dialog_date1">${labelText}</label>\r\n\t\t\t\t\t<qp-datetime-edit value.two-way="filter.value" config.bind="dateConfig1">\r\n\t\t\t\t\t</qp-datetime-edit>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="label-cont second" if.bind="isDateTime && isBetween">\r\n\t\t\t\t\t<label for="filter_dialog_date2">${msg.GridTo}</label>\r\n\t\t\t\t\t<qp-datetime-edit value.two-way="filter.value2" config.bind="dateConfig2">\r\n\t\t\t\t\t</qp-datetime-edit>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-body>\r\n\r\n\t\t<ux-dialog-footer>\r\n\t\t\t<qp-button click.trigger="controller.ok()" config.bind="okConfig" id="${config.id}_ok" class="major-button"></qp-button>\r\n\t\t\t<qp-button click.trigger="controller.cancel()" config.bind="cancelConfig" id="${config.id}_cancel"></qp-button>\r\n\t\t</ux-dialog-footer>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/compound/grid/dialogs/filter-editor-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../qp-filter-editor"></require>\r\n\r\n\t<qp-panel id="${config.id}" caption.bind="msg.GridAdvFilter" width="620px" height="360px">\r\n\t\t<qp-filter-editor filter-rows.bind="filterRows" columns.bind="config.columns" id="${config.id}_body">\r\n\t\t</qp-filter-editor>\r\n\r\n\t\t<footer>\r\n\t\t\t<qp-button click.trigger="currentDialog.ok(filterRows)" config.bind="okConfig" class="major-button"></qp-button>\r\n\t\t\t<qp-button click.trigger="currentDialog.cancel()" config.bind="cancelConfig"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n<template>\r\n'},"client-controls/controls/compound/grid/dialogs/filter-setup-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../../../dialog/base-dialog/base-dialog.css"></require>\r\n\r\n\t<qp-panel id="${config.id}" caption.bind="config.saveAs ? msg.GridSaveFilterAs : msg.GridSaveFilter" width="420px">\r\n\t\t<div class="stack-vert" ref="elemContent">\r\n\t\t\t<div class="label-group">\r\n\t\t\t\t<label for.bind="txtNameConfig.id">${msg.GridName}</label>\r\n\t\t\t\t<qp-text-editor config.bind="txtNameConfig" value.two-way="filter.filterName" input.delegate="processNameInput($event)">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t\t<div class="empty-label-group">\r\n\t\t\t\t<qp-check-box config.bind="chkSharedConfig" value.two-way="filter.isShared">\r\n\t\t\t\t</qp-check-box>\r\n\t\t\t</div>\r\n\t\t\t<div class="empty-label-group">\r\n\t\t\t\t<qp-check-box config.bind="chkDefaultConfig" value.two-way="filter.isDefault">\r\n\t\t\t\t</qp-check-box>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<footer>\r\n\t\t\t<qp-button click.trigger="currentDialog.ok(filter)" config.bind="okConfig" class="major-button"></qp-button>\r\n\t\t\t<qp-button click.trigger="currentDialog.cancel()" config.bind="cancelConfig"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/grid/dialogs/filters-list-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../../../styles.scss"></require>\r\n\t<require from="../../../dialog/base-dialog/base-dialog.css"></require>\r\n\t<require from="./filters-list-dialog.css"></require>\r\n\t<require from="../elements/qp-filter-box"></require>\r\n\r\n\t<ux-dialog class="dialog filters-list-dialog" id="${config.id}">\r\n\t\t<ux-dialog-body>\r\n\t\t\t<div class="filter-container">\r\n\t\t\t\t<qp-filter-box ref="elemFilterBox" on-filter.call="processInput(filter)"\r\n\t\t\t\t\tfilter.two-way="search" highlight-text.bind="false">\r\n\t\t\t\t</qp-filter-box>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div if.bind="filters.length" class="filters-list" ref="elemFiltersList" selectstart.delegate="processSelectStart($event)">\r\n\t\t\t\t<template repeat.for="fh of filters">\r\n\t\t\t\t\t<div class="${fh.filterID == config.filterId ? \'selected\' : \'\'}"\r\n\t\t\t\t\t\tallrecords.bind="isClientFilter(fh.filterID) ? true : null & attr"\r\n\t\t\t\t\t\tmouseup.delegate="processFilterClick($event, fh)">\r\n\r\n\t\t\t\t\t\t<i class="ac fav-icon ${fh.isFavorite ? \'ac-star fav-on\' : \'ac-star_border\'}"\r\n\t\t\t\t\t\t\tmouseup.delegate="processFavoriteClick($event, fh)">\r\n\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t<span class="filter-name">${fh.filterName || fh.filterID}</span>\r\n\t\t\t\t\t\t<qp-icon if.bind="fh.isShared" class="shared-icon" imagesrc="svg:main@multiEmployee">\r\n\t\t\t\t\t\t</qp-icon>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="separator" if.bind="$index == 0 && filters.length > 1"><div>&nbsp;</div></div>\r\n\t\t\t\t</template>\r\n\t\t\t</div>\r\n\t\t\t<div else class="empty-message">\r\n\t\t\t\t${msg.Format(msg.EmptySearchMessage1, search)}.\r\n\t\t\t</div>\r\n\t\t</ux-dialog-body>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/compound/grid/dialogs/import-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./import-dialog.css"></require>\r\n\t<require from="../../../container/fieldset/inline-view"></require>\r\n\t<qp-wizard id="import-wizard_${activeTabId}" config.bind="wizardConfig" active-tab-id.two-way="activeTabId"\r\n\t\tnexttab.trigger="nextTab($event)" prevtab.trigger="prevTab($event)">\r\n\t\t<qp-tab id="${UPLOAD_TAB}" caption="${Messages.FileUploadCaption}">\r\n\t\t\t<div class="stretch" if.bind="activeTabId === UPLOAD_TAB">\r\n\t\t\t\t<div class="error-message" if.bind="!!errorMessage">\r\n\t\t\t\t\t<qp-icon class="qp-status-icon" imagesrc="svg:main@errorExclamation"></qp-icon>\r\n\t\t\t\t\t<span>${errorMessage}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<qp-multi-upload config.bind="uploaderConfig" fileloaded.trigger="afterUploaded($event)">\r\n\t\t\t\t\t<div if.bind="!!fileUploaded" class="file-label">\r\n\t\t\t\t\t\t<div class="file-label-text">${fileUploaded}</div>\r\n\t\t\t\t\t\t<qp-icon class="qp-dialog-close" imagesrc="svg:main@close"\r\n\t\t\t\t\t\t\tclick.delegate="clearUploaded()"></qp-icon>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div else>${Messages.UploadFileCaption} (${uploaderFiles})</div>\r\n\t\t\t\t</qp-multi-upload>\r\n\t\t\t</div>\r\n\t\t</qp-tab>\r\n\t\t<qp-tab id="${SETTINGS_TAB}" caption="${Messages.CommonSettingsCaption}">\r\n\t\t\t<div class="stretch" if.bind="activeTabId === SETTINGS_TAB">\r\n\t\t\t\t<inline-view template.bind="settingsTemplate" context.bind="screenModel"></inline-view>\r\n\t\t\t</div>\r\n\t\t</qp-tab>\r\n\t\t<qp-tab id="${COLUMNS_TAB}" caption="${Messages.ColumnsCaption}">\r\n\t\t\t<div class="v-stack" if.bind="activeTabId === COLUMNS_TAB">\r\n\t\t\t\t<qp-label-light caption.bind="ImportMessages.MapPropertiesToColumns"></qp-label-light>\r\n\t\t\t\t<inline-view template.bind="columnsTemplate" context.bind="screenModel"></inline-view>\r\n\t\t\t</div>\r\n\t\t</qp-tab>\r\n\t</qp-wizard>\r\n</template>\r\n'},"client-controls/controls/compound/grid/elements/qp-filter-box.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template id="${id}" class="filter-box ${editMode ? \'focus\' : \'\'} ${hasText ? \'has-filter\' : \'\'}">\r\n\t<require from="./qp-filter-box.css"></require>\r\n\t<div>\r\n\t\t<input type="text" class="text" placeholder="${Msg.Search}" value.bind="filter" ref="elemText"\r\n\t\t\tfocus.trigger="processFocus($event)" blur.trigger="processBlur($event)"\r\n\t\t\tkeydown.delegate="processKeyDown($event)"\r\n\t\t\tinput.delegate="applyFastFilter($event.target.value) & debounce:500"\r\n\t\t\tid="${id}_text"/>\r\n\t\t<qp-icon imagesrc="svg:main@search"></qp-icon>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/grid/elements/qp-filter-button.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="filter-button ${hasFilter ? \'filtered\' : \'\'}" click.delegate="processClick($event)" data-cmd="${config.column.field}"\r\n\tmouseenter.trigger="processMouseEnter($event)" mouseleave.trigger="processMouseLeave($event)">\r\n\t<require from="../../../styles.scss"></require>\r\n\t<require from="./qp-filter-button.css"></require>\r\n\r\n\t<div class="content" css="visibilty: ${showExpanded ? \'hidden\' : \'\'}">\r\n\t\t<span class="text" ref="elemText">\r\n\t\t\t${config.column.caption || config.filter.field}${isComparisonOperator ? \'\' : \':\'} ${config.filter.text}\r\n\t\t</span>\r\n\t\t<i class="ac ac-close" click.delegate="processRemoveClick($event)"></i>\r\n\t</div>\r\n\t<div class="extended-button" if.bind="showExpanded">\r\n\t\t<div class="content">\r\n\t\t\t<span class="text">\r\n\t\t\t\t${config.column.caption || config.filter.field}${isComparisonOperator ? \'\' : \':\'} ${config.filter.text}\r\n\t\t\t</span>\r\n\t\t\t<i class="ac ac-close" click.delegate="processRemoveClick($event)"></i>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/grid/elements/qp-filter-combo.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template id="${id}" class="filter-combo ${isClientFilter(filterId) ? \'\': \'filtered\'}" click.delegate="processClick($event)">\r\n\t<require from="../../../styles.scss"></require>\r\n\t<require from="./qp-filter-combo.css"></require>\r\n\r\n\t<span class="text">${activeFilter.filterName || activeFilter.filterID}</span>\r\n\t<i class="ac ac-keyboard_arrow_down"></i>\r\n</template>\r\n'},"client-controls/controls/compound/grid/elements/qp-filter-node.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="filter-node">\r\n\t<require from="./qp-filter-node.css"></require>\r\n\t<require from="./qp-filter-button"></require>\r\n\r\n\t<template repeat.for="item of node.items">\r\n\t\t<div if.bind="isFilterNode(item)" class="node-container"\r\n\t\t\tmouseenter.trigger="processMouseEnter($event, item)" mouseleave.trigger="processMouseLeave($event, item)">\r\n\t\t\t<div class="btn-brackets" show.bind="!$last && node.items.length > 2" click.delegate="processBracketsNodeClick(item)">\r\n\t\t\t\t<i class="ac ac-keyboard_arrow_right"></i>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="left-actions">\r\n\t\t\t\t<div class="btn-delete-brackets" click.delegate="processDeleteBracketsClick(item)">\r\n\t\t\t\t\t<i class="ac ac-keyboard_arrow_left"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="btn-condition" show.bind="!$last" click.delegate="processConditionNodeClick(item)">\r\n\t\t\t\t\t<span class="text ${item.orOperator ? \'or\' : \'\'}">${item.orOperator ? \'OR\' : \'AND\'}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="left-bracket">&nbsp;</div>\r\n\t\t\t<qp-filter-node node.bind="item" columns.bind="columns" id.bind="id" on-hierarchy-changed.call="processHierarchyChanged()"\r\n\t\t\t\ton-filter-row-delete.call="processConditionDelete(filter)"\r\n\t\t\t\ton-filter-node-delete.call="processNodeDelete(node)"\r\n\t\t\t\ton-filter-row-insert.call="processFilterRowInsert(filter, col, closeBrackets)"\r\n\t\t\t\ton-node-mouse-move.call="processNodeMouseMove(elem, mouseLeave)">\r\n\t\t\t</qp-filter-node>\r\n\t\t\t<div class="right-bracket">&nbsp;</div>\r\n\r\n\t\t\t<div class="right-actions">\r\n\t\t\t\t<div class="btn-delete" click.delegate="processDeleteNodeClick(item)">\r\n\t\t\t\t\t<i class="ac ac-delete"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="btn-new" click.delegate="processNewItemNodeClick($event, item)">\r\n\t\t\t\t\t<i class="ac ac-add"></i>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div else class="button-container">\r\n\t\t\t<let col.bind="getColumn(item.field)"></let>\r\n\t\t\t<div class="btn-brackets" show.bind="!$last && node.items.length > 2" click.delegate="processBracketsClick(item)">\r\n\t\t\t\t<i class="ac ac-keyboard_arrow_right"></i>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="btn-condition" show.bind="!$last" click.delegate="processConditionClick(item)">\r\n\t\t\t\t<span class="text ${item.orOperator ? \'or\' : \'\'}">${item.orOperator ? \'OR\' : \'AND\'}</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<qp-filter-button config.bind="{id: id, filter: item, column: col, showRemoveItem: true, showSortItems: false}"\r\n\t\t\t\ton-filter.call="processFilterRowApplied(col, filter, item)"\r\n\t\t\t\ton-filter-remove.call="processFilterRowDeleted(col, item)" class="large">\r\n\t\t\t</qp-filter-button>\r\n\r\n\t\t\t<div class="btn-new" click.delegate="processNewItemClick($event, item)">\r\n\t\t\t\t<i class="ac ac-add"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</template>\r\n</template>\r\n'},"client-controls/controls/compound/grid/elements/qp-numeric-pager.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="numeric-pager">\r\n\t<require from="./qp-numeric-pager.css"></require>\r\n\r\n\t<qp-number-editor class="page-editor" fixed-width fixed-height value.two-way="value" config.bind="numConfig">\r\n\t</qp-number-editor>\r\n\r\n\t<label for.bind="id">${Msg.Format(Msg.GridPagesCount, pagesCount.toString())}</label>\r\n</template>\r\n'},"client-controls/controls/compound/grid/qp-filter-bar.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="filter-bar">\r\n\t<require from="./qp-filter-bar.css"></require>\r\n\t<require from="./elements/qp-filter-box"></require>\r\n\t<require from="./elements/qp-filter-button"></require>\r\n\t<require from="./elements/qp-filter-combo"></require>\r\n\t<require from="./dialogs/filter-setup-dialog"></require>\r\n\t<require from="./dialogs/filter-editor-dialog"></require>\r\n\r\n\t<qp-filter-setup-dialog view-model.ref="filterSetupVM"></qp-filter-setup-dialog>\r\n\t<qp-filter-editor-dialog view-model.ref="filterEditorVM"></qp-filter-editor-dialog>\r\n\r\n\t<div class="filters-headers" if.bind="!config.hideHeaders">\r\n\t\t<div class="headers-wrap">\r\n\t\t\t<ul>\r\n\t\t\t\t<li repeat.for="f of filters" class="${filterId == f.filterID ? \'selected\' : \'\'}"\r\n\t\t\t\t\tclick.delegate="processFilterHeaderClick($event, f)">\r\n\t\t\t\t\t${f.filterName}\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div class="filter-box-wrap">\r\n\t\t\t<qp-filter-box if.bind="config.showFastFilter" filter.bind="fastFilter2"  view-model.ref="fastFilterVM"\r\n\t\t\t\ton-filter.call="processFastFilter(filter)" on-key-down.call="processFastFilterKeyDown(ev)">\r\n\t\t\t</qp-filter-box>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="filters-strip-cont">\r\n\t\t<div class="filters-strip" css="flex-wrap: ${!filterText ? \'wrap\' : \'nowrap\'}" ref="elemFiltersWrap"\r\n\t\t\tdragleave.delegate="processDragLeave($event)"\r\n\t\t\tdrop.delegate="processDrop($event)" dragover.delegate="processDragOverBar($event)">\r\n\r\n\t\t\t<qp-filter-combo id="${config.id}_fc"\r\n\t\t\t\tfilter-id.two-way="filterId" filters.bind="filters" if.bind="config.allowStoredFilters"\r\n\t\t\t\ton-favorite-changed.call="processFilterFavoriteChanged(filterID, isFavorite)" on-filters-order-changed.call="onFiltersOrderChanged()">\r\n\t\t\t</qp-filter-combo>\r\n\r\n\t\t\t<qp-filter-button if.bind="!filterText" repeat.for="fr of filterRows"\r\n\t\t\t\tconfig.bind="{filter: fr, id: config.id, column: getColumn(fr.field), showRemoveItem: true}"\r\n\t\t\t\ton-filter.call="onFilterRowApplied(col, filter)" on-sort.call="onSortApplied(col, sort)"\r\n\t\t\t\ton-filter-remove.call="onFilterRowDeleted(col)"\r\n\t\t\t\tdraggable="true" dragstart.delegate="processDragStart($event, fr)"\r\n\t\t\t\tdragover.delegate="processDragOver($event, fr)">\r\n\t\t\t</qp-filter-button>\r\n\t\t\t<qp-button if.bind="!filterText && filterRows != null" ref="elemAddFilterBtn" class="add-filter"\r\n\t\t\t\tconfig.bind="btnAddFilterConfig" click.delegate="processAddFilterClick($event)">\r\n\t\t\t</qp-button>\r\n\t\t\t\x3c!-- <div class="filter-drop-tip">\r\n\t\t\t\t${msg.GridDropColumnTip}\r\n\t\t\t</div> --\x3e\r\n\r\n\t\t\t<div if.bind="filterText" class="advanced-filter">\r\n\t\t\t\t<div class="filter-button filtered" click.delegate="showAdvancedFilter()">\r\n\t\t\t\t\t<div class="content">\r\n\t\t\t\t\t\t<span class="text" innerhtml.bind="filterText | removeSCRIPT"></span>\r\n\t\t\t\t\t\t<i class="ac ac-keyboard_arrow_down"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<qp-button config.bind="btnSaveConfig"\r\n\t\t\t\tif.bind="config.allowStoredFilters" click.delegate="processSaveFilter($event)">\r\n\t\t\t</qp-button>\r\n\r\n\t\t\t<qp-menu config.bind="btnFilterSaveConfig" class="save-menu"\r\n\t\t\t\tif.bind="config.allowStoredFilters" menuselected.delegate="processFilterMenu($event)">\r\n\t\t\t</qp-menu>\r\n\r\n\t\t\t<i class="ac control-RedArrowDown arrow-down" ref="elemArrowDown" show.bind="showDragArrows"></i>\r\n\t\t\t<i class="ac control-RedArrowUp arrow-up" ref="elemArrowUp" show.bind="showDragArrows"></i>\r\n\t\t</div>\r\n\t\t<div class="filter-box-wrap" if.bind="config.showFastFilter">\r\n\t\t\t<qp-filter-box id="${config.id}_fb" filter.bind="fastFilter" view-model.ref="fastFilterVM"\r\n\t\t\t\ton-filter.call="processFastFilter(filter)" on-key-down.call="processFastFilterKeyDown(ev)">\r\n\t\t\t</qp-filter-box>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/grid/qp-filter-editor.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="filter-editor" id="${id}">\r\n\t<require from="./qp-filter-editor.css"></require>\r\n\t<require from="./elements/qp-filter-node"></require>\r\n\t<qp-filter-node if.bind="filterRows.length" id.bind="id" node.bind="rootNode" columns.bind="columns"\r\n\t\ton-hierarchy-changed.call="processHierarchyChanged()"\r\n\t\ton-filter-row-delete.call="processFilterRowDelete(filter)"\r\n\t\ton-filter-node-delete.call="processFilterNodeDelete(node)"\r\n\t\ton-filter-row-insert.call="processFilterRowInsert(filter, col, closeBrackets)"\r\n\t\ton-node-mouse-move.call="processNodeMouseMove(elem, mouseLeave)">\r\n\t</qp-filter-node>\r\n\t<div class="btn-new" else click.delegate="processNewItemClick($event)">\r\n\t\t<i class="ac ac-add"></i>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/grid/qp-grid.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template id="${config.id}" css="display: ${config.hidden ? \'none\': \'\'};"\r\n\tclass="grid ${config.autoGrowInHeight ? (config.autoGrowInHeight == 2 ? \'auto-grow-fill\' : \'auto-grow-fit\') : \'\'}">\r\n<require from="./qp-grid.css"></require>\r\n<require from="./qp-filter-bar"></require>\r\n<require from="./elements/qp-filter-box"></require>\r\n<require from="./elements/qp-numeric-pager"></require>\r\n<require from="../system-menu/qp-files-dialog"></require>\r\n<qp-files-dialog if.bind="!config.suppressNoteFiles && hasFilesColumn" view-model.ref="filesDialogVM" config.bind="filesDialogConfig"></qp-files-dialog>\r\n<qp-note-dialog if.bind="!config.suppressNoteFiles" view-model.ref="noteDialogVM" config.bind="noteDialogConfig" view.bind="noteDialogView">\r\n</qp-note-dialog>\r\n\r\n<qp-caption if.bind="gridCaption" class="grid-caption" caption.bind="gridCaption"></qp-caption>\r\n\r\n<div class="grid-top-bar">\r\n\t<div if.bind="config.showTopBar" class="grid-top-toolbar ${!!rightToolbarContainer ? \'empty\' : \'\'}">\r\n\t\t<div class="grid-left-toolbar-cont" ref="topBarCont" if.bind="!rightToolbarContainer">\r\n\t\t\t<qp-tool-bar config.bind="topBarConfig">\r\n\t\t\t</qp-tool-bar>\r\n\t\t</div>\r\n\t\t<div class="grid-right-toolbar-cont" portal="target.bind: rightToolbarContainer || topBarCont; position: afterend">\r\n\t\t\t<qp-button if.bind="isFilterBarAllowed && config.showFilterBar == 2" class="grid-filter-button ${hasFilter ? \'has-filter\' : \'\'}"\r\n\t\t\t\tconfig.bind="btnToggleFilterConfig" view-model.ref="btnToggleFilterVM" click.delegate="processToggleFilterClick($event)"\r\n\t\t\t\tmousedown.trigger="processToggleFilterMouseDown($event)">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-filter-box if.bind="allowFastFilter && (config.showFastFilter == 1 || (!isFilterBarAllowed && config.showFastFilter == 2))"\r\n\t\t\t\tid="${config.id}_fb" filter.bind="fastFilter" view-model.ref="topBarFastFilter"\r\n\t\t\t\ton-filter.call="onFastFilter(filter)" on-key-down.call="onFastFilterKeyDown(ev)">\r\n\t\t\t</qp-filter-box>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<qp-filter-bar if.bind="isFilterBarAllowed && showFilterBar"  view-model.ref="filterBarVM"\r\n\t\tdrag-column.bind="dragInfo.column" fast-filter.bind="fastFilter" filter-id.two-way="filterID" filters.bind="filters"\r\n\t\tfilter-rows.bind="filterRows" is-dirty-filter.two-way="isDirtyFilter" config.bind="filterBarConfig"\r\n\t\ton-sort-changed.call="onSortApplied(col, sort)"\r\n\t\ton-filter-changed.call="onFilterApplied(filter, filterID)"\r\n\t\ton-filter-save.call="onFilterSave(filter, createNew)"\r\n\t\ton-filter-remove.call="onFilterRemove(filterID)"\r\n\t\ton-filters-order-changed.call="onFilterOrderChanged()"\r\n\t\ton-filter-favorite-changed.call="onFilterFavoriteChanged(filterID, isFavorite)"\r\n\t\ton-filter-row-changed.call="onFilterRowApplied(col, filter)"\r\n\t\ton-filter-row-removed.call="onFilterRowRemoved(col)"\r\n\t\ton-rows-set-changed.call="onFilterRowsSetChanged(refresh)"\r\n\t\ton-fast-filter-key-down.call="onFastFilterKeyDown(ev)">\r\n\t</qp-filter-bar>\r\n</div>\r\n\r\n<div class="grid-resize-area" show.bind="resizeInfo != undefined"\r\n\tmousemove.delegate="processResizerMouseMove($event)" mouseup.delegate="processResizerMouseUp($event)"\r\n\tmouseleave.trigger="processResizerMouseLeave($event)">\r\n\t<div class="grid-resize-indicator" ref="elemResizeIndicator">\r\n\t</div>\r\n</div>\r\n\r\n <div class="grid-header ${hasVScroll ? \'scroll-margin\' : \'\'}" ref="elemHeader">\r\n\t<div class="grid-header-wrap" ref="elemHeaderWrap">\r\n\t\t<table ref="elemHeaderTable" if.bind="layoutLoaded" class="grid-header-table ${!config.markRequired ? \'remove-required\': \'\'}">\r\n\t\t\t<colgroup>\r\n\t\t\t\t<col if.bind="config.showRowSelectors" class="row-selector-col">\r\n\t\t\t\t<col repeat.for="col of visibleCols" css="width: ${col.width ? (col.width + \'px\'): null};">\r\n\t\t\t</colgroup>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th if.bind="config.showRowSelectors" class="row-selector" click.delegate="processHeaderCornerClick($event)">\r\n\t\t\t\t\t\t\x3c!-- <i class="ac control-LocalMenu"></i> --\x3e\r\n\t\t\t\t\t\t<qp-icon imagesrc="svg:main@setting"></qp-icon>\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th repeat.for="col of visibleCols" css="text-align:${getColAlign(col.textAlign)}"\r\n\t\t\t\t\t\tclass="col-header ${col.textAlign == 3 ? \'align-right\' : \'\'} ${col.filter ? \'filtered\' : \'\'} ${col.required ? \'required\' : \'\'}"\r\n\t\t\t\t\t\ttitle.bind="col.toolTip & attr" key.bind="getColumnKey(col) & attr"\r\n\t\t\t\t\t\tmouseup.delegate="processHeadClick($event, col)"\r\n\t\t\t\t\t\tmouseover.delegate="processHeadMouseOver($event, col)"\r\n\t\t\t\t\t\tmousemove.delegate="processHeadMouseMove($event, col)"\r\n\t\t\t\t\t\tmouseout.delegate="processHeadMouseOut($event, col)"\r\n\t\t\t\t\t\tdraggable="true" dragstart.delegate="processDragStart($event, col)"\r\n\t\t\t\t\t\tdragover.delegate="processDragOver($event, col)"\r\n\t\t\t\t\t\tdrop.delegate="processDrop($event, col)" dragleave.delegate="processDragLeave($event)">\r\n\r\n\t\t\t\t\t\t<div if.bind="!col.allowCheckAll && col.caption" class="grid-header-text">${col.caption}</div>\r\n\r\n\t\t\t\t\t\t<qp-icon if.bind="col.captionImage" imagesrc.bind="col.captionImage"></qp-icon>\r\n\r\n\t\t\t\t\t\t<i if.bind="col.sortDirection > 0 || col.filter || (col == columnToFilter && !col.allowCheckAll && col.allowFilter)" fs-icon\r\n\t\t\t\t\t\t\tclass="ac ${col == columnToFilter ? \'control-ArrowDown\' : getColHeaderIcon(col.sortDirection, col.filter)}">\r\n\t\t\t\t\t\t</i>\r\n\r\n\t\t\t\t\t\t<i if.bind="col.allowCheckAll" ch-icon class="ac control-Grid${col.checked ? \'Check\' : \'Uncheck\'}"\r\n\t\t\t\t\t\t\tmouseup.delegate="processCheckAllClick($event, col)">\r\n\t\t\t\t\t\t</i>\r\n\t\t\t\t\t</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t</table>\r\n\r\n\t\t<div class="grid-resize-handle" ref="elemResizeHandle" mousedown.delegate="processResizerMouseDown($event)">\r\n\t\t\t&nbsp;\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<i class="ac control-RedArrowDown arrow-down" ref="elemArrowDown" show.bind="showDragArrows"></i>\r\n\t<i class="ac control-RedArrowUp arrow-up" ref="elemArrowUp" show.bind="showDragArrows"></i>\r\n</div>\r\n\r\n<div class="grid-content">\r\n\t<qp-loader-indicator\tshow.bind="loadingStatus != \'in-sync\'" loading-state.bind="loadingStatus"\r\n\t\tstyle="position: absolute;bottom:0;left:0;right:0;height:5px;">\r\n\t</qp-loader-indicator>\r\n\t<qp-tooltip rule.bind="\'*[data-tooltip]\'"></qp-tooltip>\r\n\r\n\t<div class="grid-content-wrap" scroll.trigger="processRowsScroll($event)" ref="elemContentWrap"\r\n\t\ttabindex="${config.tabIndex}" keydown.delegate="processKeyDown($event)" focus.trigger="processFocus($event)"\r\n\t\tselectstart.delegate="processSelectStart($event)" dblclick.delegate="processContentWrapDblClick($event)">\r\n\r\n\t\t<table ref="elemRows" if.bind="rows != null" class="grid-content-table"\r\n\t\t\tcss="visibility: ${!rows || rows.length == 0 ? \'hidden\' : \'\'}; display: ${rowsHidden ? \'none\' : \'\'}">\r\n\t\t\t<colgroup>\r\n\t\t\t\t<col if.bind="config.showRowSelectors" class="row-selector-col">\r\n\t\t\t\t<col repeat.for="col of visibleCols" css="width: ${col.width ? (col.width + \'px\'): null};">\r\n\t\t\t</colgroup>\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr virtual-repeat.for="r of rows" data-index="${$index}" matcher.bind="matchRows" infinite-scroll-next="getMoreRows"\r\n\t\t\t\t\tclass="${$odd ? \'alt-row\' : \'\'} ${getRowCss($index, r.styleChanged)}" css="visibility: ${r.fake ? \'hidden\' : \'\'}">\r\n\r\n\t\t\t\t\t<td if.bind="config.showRowSelectors" class="row-selector"\r\n\t\t\t\t\t\tclick.delegate="processRowSelectorClick($event, r)"\r\n\t\t\t\t\t\tdata-tooltip.bind="r.error" data-error-level.bind="r.errorLevel">\r\n\r\n\t\t\t\t\t\t<span class="cell-error-info" if.bind="!!getRowErrorLevel(r.error, r.errorLevel, true)"\r\n\t\t\t\t\t\t\tdata-tooltip.bind="getRowErrorText(r.error, r.errorLevel, true)"\r\n\t\t\t\t\t\t\tdata-error-level.bind="getRowErrorLevel(r.error, r.errorLevel, true)">\r\n\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t<i class="ac control-${getRowSelectorImage(editMode, $index, r.status, r.error, r.errorLevel)}"\r\n\t\t\t\t\t\t\tif.bind="r.isActive || (!!r.status && !isMassUpdating) || !!getRowErrorLevel(r.error, r.errorLevel)"></i>\r\n\t\t\t\t\t\t<template else>&nbsp;</template>\r\n\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t<td repeat.for="col of visibleCols"\r\n\t\t\t\t\t\tid.bind="($parent.r.isActive ? config.id+\'_\'+getColumnKey(col)+\'_cell\' : undefined) & attr"\r\n\t\t\t\t\t\tclass="${getCellCss($parent.$index, $index, $parent.r.styleChanged)}"\r\n\t\t\t\t\t\tcss="text-align:${getColAlign(col.textAlign)}"\r\n\t\t\t\t\t\tclick.delegate="processCellClick($event, $index, $parent.r)"\r\n\t\t\t\t\t\tdblclick.delegate="processCellDblClick($event, $index, $parent.r)">\r\n\r\n\t\t\t\t\t\t<let cell.bind="$parent.r.cells[getColumnKey(col)]"></let>\r\n\t\t\t\t\t\t<template if.bind="editMode && $parent.r.isActive && activeCellIndex == $index">\r\n\t\t\t\t\t\t\t<qp-inline-field view-model.ref="inlineEditorVM"\r\n\t\t\t\t\t\t\t\tcontrol-state.bind="setActiveCellState(cell, col, updateEditorState)"\r\n\t\t\t\t\t\t\t\tcontrol-type.bind="col.editorType" control-config.bind="col.editorConfig"\r\n\t\t\t\t\t\t\t\tclass="inline-editor" update-value.bind="updateEditorValue" control-id="${config.id}_${col.field}_editor"\r\n\t\t\t\t\t\t\t\tkeydown.delegate="processEditKeyDown($event)"\r\n\t\t\t\t\t\t\t\tvalue-selected.delegate="processDropDownSelected($event)"\r\n\t\t\t\t\t\t\t\ton-value-updated.call="commitActiveCellChanges(true)">\r\n\t\t\t\t\t\t\t</qp-inline-field>\r\n\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t<span class="cell-content" data-tooltip.bind="cell.error" data-error-level.bind="cell.errorLevel">\r\n\t\t\t\t\t\t\t<i if.bind="!!cell.errorLevel" err-icon align-left.bind="col.textAlign == 3 ? \'\' : null & attr"\r\n\t\t\t\t\t\t\t\tclass="ac control-${getErrorImage(cell.error, cell.errorLevel)} ${col.textAlign == 3 ? \'align-left\' : \'\'}">\r\n\t\t\t\t\t\t\t</i>\r\n\r\n\t\t\t\t\t\t\t<let cell-type.bind="getCellRenderType(col, cell, cell.value)"></let>\r\n\r\n\t\t\t\t\t\t\t<template if.bind="cellType == \'check-box\'">\r\n\t\t\t\t\t\t\t\t<i class="ac control-Grid${cell.value ? \'Check\' : \'Uncheck\'}"></i>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<template if.bind="cellType == \'icon\'">\r\n\t\t\t\t\t\t\t\t<a if.bind="hasViewLink(col)" href="javascript:void 0" tabindex="-1">\r\n\t\t\t\t\t\t\t\t\t<qp-icon imagesrc.bind="cell.cellText || (col.valueItems ? getColumnDisplayText(col, cell.value) : \'\')">\r\n\t\t\t\t\t\t\t\t\t</qp-icon>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<qp-icon else imagesrc.bind="cell.cellText || (col.valueItems ? getColumnDisplayText(col, cell.value) : \'\')">\r\n\t\t\t\t\t\t\t\t</qp-icon>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<template if.bind="cellType == \'link\'">\r\n\t\t\t\t\t\t\t\t<a href.bind="cell.href || \'javascript:void 0\'" target.bind="cell.hrefTarget & attr" tabindex="-1">\r\n\t\t\t\t\t\t\t\t\t<template if.bind="cell.hrefText || cell.href">\r\n\t\t\t\t\t\t\t\t\t\t${cell.hrefText || cell.href}\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t\t\t\t\t<template if.bind="!fastFilter">${cell.cellText || getRawCellValue(cell.value)}</template>\r\n\t\t\t\t\t\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t\t\t\t\t\t<template repeat.for="s of markFilterText(col, cell.cellText || getRawCellValue(cell.value))"><mark if.bind="s.highlight">${s.text}</mark><template else>${s.text}</template></template>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<template if.bind="cellType == \'text\'">\r\n\t\t\t\t\t\t\t\t<template if.bind="!!cell.cellText">\r\n\t\t\t\t\t\t\t\t\t<span class="text">\r\n\t\t\t\t\t\t\t\t\t\t<template if.bind="!fastFilter">${cell.cellText}</template>\r\n\t\t\t\t\t\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t\t\t\t\t\t<template repeat.for="s of markFilterText(col, cell.cellText)"><mark if.bind="s.highlight">${s.text}</mark><template else>${s.text}</template></template>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n\r\n<div show.bind="config.showBottomBar && showBottomBar" class="grid-pager">\r\n\t<div if.bind="showRecordsCounter" class="records-counter">\r\n\t\t<let startRow.bind="(pageIndex * config.pageSize) + 1"></let>\r\n\t\t<label>\r\n\t\t\t${Msg.Format(Msg.GridRecordsCount, startRowIndex.toString(), endRowIndex.toString(), totalRowCount.toString())}\r\n\t\t</label>\r\n\t</div>\r\n\t<div if.bind="statusText" class="status-text">\r\n\t\t<label>${statusText}</label>\r\n\t</div>\r\n\r\n\t<div class="pager-bars-cont" show.bind="showPager">\r\n\t\t<qp-tool-bar config.bind="pagerBarConfigL" buttonpressed.delegate="processPagerButtonClick($event)">\r\n\t\t</qp-tool-bar>\r\n\t\t<qp-numeric-pager if.bind="config.pagerMode == 2 && hasRows" id="${config.id}_ab_edPi" pages-count.bind="pagesCount"\r\n\t\t\tpage-index.bind="pageIndex" on-page-index-changed.call="setPage(index)">\r\n\t\t</qp-numeric-pager>\r\n\t\t<qp-tool-bar config.bind="pagerBarConfigR" buttonpressed.delegate="processPagerButtonClick($event)">\r\n\t\t</qp-tool-bar>\r\n\t</div>\r\n</div>\r\n</template>\r\n'},"client-controls/controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-inline-screen-dialog-component.css"></require>\r\n\t<div class="inline-screen-dialog">\r\n\t\t<qp-inline-screen config.bind="config"></qp-inline-screen>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/inline-screen/inner-screen-toolbar-data-component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<div class="top-bar-cont" if.bind="!inlineScreenConfig.hideToolbar">\r\n\t\t<span id="innerToolBarPrefix" class="qp-tool-bar-prefix"></span>\r\n\t\t<qp-tool-bar ref="toolBarElem" view-model.ref="toolBarVM" config.bind="toolbar"></qp-tool-bar>\r\n\t\t<span id="innerToolBarSuffix" class="qp-tool-bar-suffix"></span>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/inline-screen/qp-inline-screen.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-inline-screen.css"></require>\r\n\t<div class="inline-screen">\r\n\t\t<template if.bind="config.uiType === \'E\'">\r\n\t\t\t<iframe class="inline-screen__iframe" frameborder="0" ref="iframeElement" src.bind="legacyScreenPath"></iframe>\r\n\t\t</template>\r\n\t\t<template if.bind="config.uiType === \'T\'">\r\n\r\n\t\t\t<compose view-model.bind="screenPath" model.bind="container.root.viewModel" view-model.ref="screenRef"\r\n\t\t\t\tref="contentElement"></compose>\r\n\t\t</template>\r\n\t\t<div class="splash initialization" if.bind="!initialized">\r\n\t\t\t<div class="message">Screen is loading...</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/menu/qp-menu.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-menu.scss"></require>\r\n\r\n\t<div id="${config.id}_menu" ref="menuElement"\r\n\tclass="qp-menu ${menuOpened ? \'qp-selected\': \'\'}\r\n\t${(!showOpener) ? \'qp-menu-no-options\' : \'\'}"\r\n\tmousedown.trigger=toggleMenu($event)>\r\n\t\t<button class="qp-menu-button\r\n\t\t${config.commandName ? \'qp-menu-action-button\' : \'\'}\r\n\t\t${(config.enabled == false || config.disabled) && config.commandName ? \'disabled\' : \'\'}"\r\n\t\tmousedown.trigger=processButtonMousedown($event)\r\n\t\tclick.capture="processButtonClick($event)">\r\n\t\t\t<qp-hyper-icon if.bind="config.images.normal" images.bind="config.images"></qp-hyper-icon>\r\n\t\t\t<div else>${config.text}</div>\r\n\t\t</button>\r\n\t\t<button if.bind="config.options && config.options.length" class="qp-menu-opener\r\n\t\t${config.commandName ? \'qp-menu-action-opener\': \'\'}"\r\n\t\tclick.capture="stopPropagation($event)">\r\n\t\t\t<qp-icon imagesrc="svg:main@treeArrowDown" data-type="drop"></qp-icon>\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<div glue-to.bind="menuElement" portal if.bind="menuOpened" class="qp-menu-options" id="${config.id}_menu_items"\r\n\tmousedown.trigger="stopPropagation($event)">\r\n\t\t<div ref="optionsPane" class="qp-menu-container">\r\n\t\t\t<div repeat.for="op of config.options"\r\n\t\t\tid="${op.id}"\r\n\t\t\tclass="qp-menu-item ${op.disabled ? \'disabled\' : \'\'} ${op.type===\'MenuSeparator\' ? \'qp-menu-separator\' : \'\'}"\r\n\t\t\tdata-cmd="${op.commandName}"\r\n\t\t\tmouseup.capture="processMenuClick(op.id, op.commandName, $event)">\r\n\t\t\t\t<qp-hyper-icon if.bind="op.images && op.images.normal" images.bind="op.images" class="qp-menu-icon"></qp-hyper-icon>\r\n\t\t\t\t<span if.bind="op.text" class="qp-menu-spacer" innerhtml="${op.text}"></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-button-group.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<qp-menu if.bind="!!menuConfig" config.bind="menuConfig" mousedown.capture="captureClick($event)"\r\n\t\tmenuselected.trigger="processButton($event)" class="${menuConfig.disabled ? \'disabled\': \'\'}"\r\n\t\tcomponent-id.bind="model.id">\r\n\t</qp-menu>\r\n\t<qp-tooltip if.bind="model.enabled !== false && !!model.tooltip" exclude=".qp-menu-options, .qp-menu-opener">\r\n\t\t<div>${model.tooltip}</div>\r\n\t</qp-tooltip>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-button.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<div class="qp-control-bar-button ${model.toggle ? (model.pushed ? \'qp-toggle-pushed\':\'qp-toggle-released\'): \'\'}\r\n\t\t${(model.enabled === false) ? \'disabled\': \'\'}" component-id.bind="model.id" click.delegate="performCommand()">\r\n\t\t<qp-hyper-icon if.bind="model.showMode !== \'labels\' && !!model.images.normal" images.bind="model.images"></qp-hyper-icon>\r\n\t\t<div if.bind="model.showMode !== \'icons\' && !!model.label" class="qp-tool-bar-text">${model.label}</div>\r\n\t</div>\r\n\t<qp-tooltip if.bind="model.enabled !== false && !!model.tooltip">\r\n\t\t<div>${model.tooltip}</div>\r\n\t</qp-tooltip>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-color-picker.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<qp-menu-color-picker config.bind="model" colorselected.trigger="colorSelected($event)"\r\n\t\tcomponent-id.bind="model.id" newcolor.trigger="newColorAdded($event)">\r\n\t</qp-menu-color-picker>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<div class="qp-control-bar-item" data-cmd.bind="model.id & attr" show.bind="model.visible !== false">\r\n\t\t<div as-element="compose" class="qp-control-bar-control" view-model.bind="config.modelName ? \'./qp-control-bar-\' + config.modelName : \'\'"\r\n\t\t\tmodel.bind="model" ref="control"></div>\r\n\t</div>\r\n\t<div as-element="qp-control-bar-item" containerless\r\n\t\tif.bind="!!separator" config.bind="separator"></div>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-selector.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<qp-drop-down config.bind="selectorConfig" value.two-way="value" css="${css}"\r\n\t\tcomponent-id.bind="model.id"></qp-drop-down>\r\n\t<qp-tooltip if.bind="model.enabled !== false && !!model.tooltip" exclude=".drop-down__options-pane">\r\n\t\t<div>${model.tooltip}</div>\r\n\t</qp-tooltip>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-separator.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<div class="qp-tool-bar-splitter">\r\n\t\t<span class="${!!model.splitter ? \'splitter\': \'spacer\'}"\r\n\t\t\tdata-width-value.bind="model.width & attr"></span>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="qp-control-bar-${config.type}">\r\n\t<require from="./qp-control-bar.css"></require>\r\n\t<div class="qp-control-bar ${config.type}">\r\n\t\t<qp-layout layout="bar" hide-behavior.bind="config.sizing" min-count="0"\r\n\t\t\tellipsis-behavior="last-visible" class="qp-control-bar-layout" ref="layout">\r\n\t\t\t<div as-element="qp-control-bar-item" class="qp-control-bar-item-container"\r\n\t\t\t\trepeat.for="item of items" config.bind="item" ref="item.ref"\r\n\t\t\t\tshow.bind="!item.hidden" action-executed.delegate="actionExecuted($event)">\r\n\t\t\t</div>\r\n\t\t</qp-layout>\r\n\t</div>\r\n\t<div style="display: none !important;" ref="source">\r\n\t\t<slot></slot>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/qp-rich-text-editor.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="qp-rich-text-editor" component-id.bind="idAttribute">\r\n\t<require from="./qp-rich-text-editor.css"></require>\r\n\t<div class="qp-rte-control ${readonly? \'qp-rte-control-readonly\': \'\'}" tabindex="0">\r\n\t\t<div class="qp-rte-toolbar main" component-id.bind="\'mtlb\'" ref="toolbarHost"></div>\r\n\t\t<div class="qp-rte-body" ref="editorHost"></div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/screen-title/qp-screen-title.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template id="${config.id}" class="${config.class}">\r\n\t<require from="./qp-screen-title.scss"></require>\r\n\t<div id="usrScreenTitle" class="star-container">\r\n\t\t<div class="${config.hasCaption? \'withCaption\': \'\'}">\r\n\t\t\t<div class="captionLine">\r\n\t\t\t\t<a id="usrTitle" href="${config.href}">${config.title}</a>\r\n\t\t\t\t<i id="usrFavorite" ref="starElement" class="ac fav-icon ${config.isFavoritable? \'\': \'no-star\'} ${config.isFavorite? \'favoriteOn ac-star\': \'ac-star_border favoriteOff\'}" click.delegate="toggleFavorites(item.id, $event)"></i>\r\n\t\t\t</div>\r\n\t\t\t<span id="usrCaption" ref="captionElement">${config.caption}</span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div portal="#InfoBannerContainer" repeat.for="msg of messages" class="search-hint-box ${msg[1]}">\r\n\t\t<div class="icon ${msg[1]}"><i class="ac ac-warning"></i></div>\r\n\t\t<div class="message">${msg[0]}</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/screen-toolbar/screen-toolbar-data-component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<div class="top-bar-cont">\r\n\t\t<span id="toolBarPrefix" class="qp-tool-bar-prefix"></span>\r\n\t\t<qp-tool-bar ref="toolBarElem" view-model.ref="toolBarVM" config.bind="toolbar"></qp-tool-bar>\r\n\t\t<span id="toolBarSuffix" class="qp-tool-bar-suffix qp-collapsible-anchor"></span>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/side-panel/qp-side-panel.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="qp-side-panel ${maximized && !collapsed ? \'qp-side-panel--maximized\' : \'\'} ${collapsed ? \'\': \'qp-side-panel--expanded\'}">\r\n\t<require from="./qp-side-panel.css"></require>\r\n\t<ul class="qp-side-panel__menu">\r\n\t\t<li class="qp-side-panel__menu-item ${(activeScreen === screenItem) && !collapsed ? \'qp-side-panel__menu-item--active\' : \'\'}"\r\n\t\t\trepeat.for="screenItem of config.actions"\r\n\t\t\tclick.delegate="toggleActiveScreen(screenItem)"\r\n\t\t\tdata-cmd="NavigateToLayer$${screenItem.screenId}${screenItem.duplicateId ? \'_\' + screenItem.duplicateId : \'\'}"\r\n\t\t>\r\n\t\t\t<i class="qp-side-panel__menu-item-icon ac ac-fw ac-${screenItem.iconClass || defaultIconClass}"></i>\r\n\t\t\t<span class="qp-side-panel__menu-item-label">\r\n\t\t\t\t${screenItem.screenTitle || screenItem.toolTip}\r\n\t\t\t</span>\r\n\t\t\t<qp-tooltip>${screenItem.toolTip || screenItem.screenTitle}</qp-tooltip>\r\n\t\t</li>\r\n\t\t<li class="qp-side-panel__toggler" click.delegate="togglePanel()" data-cmd="${collapsed ? \'expand\' : \'collapse\'}"></li>\r\n\t</ul>\r\n\t<div id="sidePanelBody" class="qp-side-panel__screen qp-collapsible-scope" if.bind="activeScreen && !collapsed">\r\n\t\t<div class="qp-side-panel__screen-header">\r\n\t\t\t<div class="qp-side-panel__screen-header-controls">\r\n\t\t\t\t<span class="qp-collapsible-anchor qp-side-panel__collapsible-anchor"></span>\r\n\t\t\t\t<qp-data-component if.bind="activeScreenVM && activeScreenVM.screenVM" name="NotesMenuData" screen.bind="activeScreenVM.screenVM"></qp-data-component>\r\n\r\n\t\t\t\t<button class="qp-side-panel__screen-control-button qp-side-panel__screen-control-button--maximizer"\r\n\t\t\t\t\tid.bind="maximized ? (config.id + \'_minimizer\') : (config.id + \'_maximizer\')"\r\n\t\t\t\t\tclick.delegate="toggleMaximize()"\r\n\t\t\t\t>\r\n\t\t\t\t\t<qp-icon class="qp-side-panel__scree-header-icon qp-side-panel__scree-header-icon--maximizer" imagesrc.bind="maximized ? \'svg:main@minimize\' : \'svg:main@fullscreen\'"></qp-icon>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button class="qp-side-panel__screen-control-button qp-side-panel__screen-control-button--close"\r\n\t\t\t\t\tid="${config.id}_closer"\r\n\t\t\t\t\tclick.delegate="collapsePanel()"\r\n\t\t\t\t>\r\n\t\t\t\t\t<qp-icon class="qp-side-panel__scree-header-icon qp-side-panel__scree-header-icon--close" imagesrc="svg:main@close"></qp-icon>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<template if.bind="activeScreen.uiType === \'E\'">\r\n\t\t\t\t<div class="qp-side-panel__screen-caption"\r\n\t\t\t\t\tif.bind="activeScreen.screenTitle || activeScreen.toolTip">\r\n\t\t\t\t\t${activeScreen.screenTitle || activeScreen.toolTip}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="qp-side-panel__screen-message"\r\n\t\t\t\t\tif.bind="activeScreen.screenMessage">\r\n\t\t\t\t\t${activeScreen.screenMessage || activeScreen.toolTip}\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t\t<template else>\r\n\t\t\t\t<qp-data-component if.bind="activeScreenVM && activeScreenVM.screenVM" name="TitleData"\r\n\t\t\t\t\tscreen.bind="activeScreenVM.screenVM"></qp-data-component>\r\n\t\t\t</template>\r\n\t\t</div>\r\n\t\t<div class="qp-side-panel__screen-scroller">\r\n\t\t\t<div class="qp-side-panel__content">\r\n\t\t\t\t<qp-data-component if.bind="activeScreenVM && activeScreenVM.screenVM" name="InlineScreenToolbar" screen.bind="activeScreenVM.screenVM"></qp-data-component>\r\n\t\t\t\t<qp-inline-screen view-model.ref="activeScreenVM" config.bind="activeScreen"></qp-inline-screen>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<qp-data-component if.bind="activeScreenVM && activeScreenVM.screenVM" name="LongRunData" screen.bind="activeScreenVM.screenVM"></qp-data-component>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-business-events.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-sys-menu.css"></require>\r\n\t<qp-panel id="businessEventsDlg" caption="${Msg.BusinessEvents}" width="790px" height="510px">\r\n\t\t<qp-grid config.bind="businessGridConfig" view.bind="Events" class="stretch"></qp-grid>\r\n\t</qp-panel>\r\n\t<qp-panel id="businessEvent" caption="${Msg.BusinessEvents}">\r\n\t\t<div class="qp-field-wrapper">\r\n\t\t\t<div class="label-container size-m">\r\n\t\t\t\t<label>${Msg.BusinessEventName}</label>\r\n\t\t\t</div>\r\n\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t<qp-text-editor config.bind="{id: \'businessEvent_new_name\', class: \'editor\', enabled: true}" value.two-way="businessEventName">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ id: \'open_new_be_btn\', text: \'Ok\', hidden: false}" click.delegate="openNewBusinessEvent()"></qp-button>\r\n\t\t\t<qp-button config.bind="{ id: \'cancel_new_be_btn\', text: Msg.Cancel, hidden: false}" click.delegate="closeCurrentDialog($event)">\r\n\t\t\t</qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-customization-menu/customization-menu-data-component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-customization-menu"></require>\r\n\r\n\t<qp-customization-menu view-model.ref="customizationVM" parent.bind="$this"></qp-customization-menu>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-customization-menu/qp-customization-menu.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<qp-panel id="FilterWorkingProject" caption.bind="Msg.SelectCustomizationProject" auto-repaint="true">\r\n\t\t<qp-fieldset id="fwp_fwp" view.bind="FilterWorkingProject" control-size="xm">\r\n\t\t\t<field name="Name"></field>\r\n\t\t</qp-fieldset>\r\n\r\n\t\t<footer>\r\n\t\t\t<let action.bind="actions.get(\'ActionSelectWorkingProject\')"></let>\r\n\t\t\t<qp-button if.bind="action"\r\n\t\t\tcaption.bind="Msg.Confirm" hidden.bind="!action.visible || !action.text"\r\n\t\t\t\tenabled.bind="!!action.enabled" config.bind="{id: \'SelectProjectOk\', dialogResult: 1}">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-button caption.bind="Msg.Cancel"\r\n\t\t\t\tconfig.bind="{id: \'SelectProjectCancel\', dialogResult: 2}">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-button caption.bind="Msg.NewEntity"\r\n\t\t\t\tconfig.bind="{id: \'BtnNewProject\', popupPanel: \'DlgNewProject\'}">\r\n\t\t\t</qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\r\n\t<qp-panel id="DlgNewProject" caption.bind="Msg.NewProject" auto-repaint="true">\r\n\t\t<qp-fieldset id="dnp_fwp" view.bind="FilterWorkingProject" control-size="xm">\r\n\t\t\t<field name="NewProject"></field>\r\n\t\t</qp-fieldset>\r\n\t\t<footer>\r\n\t\t\t<let action.bind="actions.get(\'ActionCreateNewProject\')"></let>\r\n\t\t\t<qp-button if.bind="action"\r\n\t\t\t\tcaption.bind="Msg.Confirm" hidden.bind="!action.visible || !action.text"\r\n\t\t\t\tenabled.bind="!!action.enabled" config.bind="{id: \'btnConfirm\', action: action.commandName, dialogResult: 1}">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-button caption.bind="Msg.Cancel"\r\n\t\t\t\tconfig.bind="{id: \'btnCancel\', dialogResult: 2}">\r\n\t\t\t</qp-button>\r\n\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\r\n\t<qp-panel id="DlgDropDown" caption="Drop-down Values" auto-repaint="true" height="60vh">\r\n\t\t<qp-grid id="ctl00_usrCaption_CustomizationDialogs_ComboBoxValuesDictDialog_gridCombos" data-source.bind="wrapperGetDropdownValues" config.bind="{showTopBar: false}"></qp-grid>\r\n\t\t<footer>\r\n\t\t\t<qp-button id="btnClose" caption="Close" dialog-result="Cancel"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\r\n\t<qp-panel id="ViewElemInfo" caption.bind="Msg.ElementProperties" auto-repaint="false" class="${(dropDownOptions && dropDownOptions.length) ? \'col-lg-5\' : \'\'}">\r\n\t\t<qp-fieldset id="vei_vei" view.bind="ViewElemInfo" control-size="col-12">\r\n\t\t\t<field name="AspxControl"></field>\r\n\t\t\t<field name="CacheType" replace-content>\r\n\t\t\t\t<qp-field control-state.bind="ViewElemInfo.CacheType" control-config.bind="{linkCommand: \'ActionNavigateToDac\'}" control-size.bind="size"></qp-field>\r\n\t\t\t</field>\r\n\t\t\t<field name="FieldName"></field>\r\n\t\t\t<field name="ViewName"></field>\r\n\t\t\t<field name="GraphName"></field>\r\n\t\t\t<field name="ActionName"></field>\r\n\t\t</qp-fieldset>\r\n\t\t<footer>\r\n\t\t\t<let action.bind="actions.get(\'MenuLayoutEditor\')"></let>\r\n\t\t\t<qp-button if.bind="dropDownOptions && dropDownOptions.length" caption="Drop-down Values" config.bind="{id: \'BtnDropDownValues\', popupPanel: \'DlgDropDown\'}"></qp-button>\r\n\t\t\t<qp-button if.bind="action"\r\n\t\t\tcaption.bind="Msg.Customize" hidden.bind="!action.visible || !action.text"\r\n\t\t\t\tenabled.bind="!!action.enabled" config.bind="{id: \'btnCustomize\' }"\r\n\t\t\t\tclick.delegate="execServerAction(action.commandName)">\r\n\t\t\t</qp-button>\r\n\r\n\t\t\t<qp-menu class="qp-button" config.bind="{id: actionsMenu, text: Msg.Actions, options: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: \'custBL\', text: Msg.CustomizeBusinessLogic, type: \'MenuButton\', commandName: \'MenuGraphEditor\'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: \'custDF\', text: Msg.CustomizeDataFields, type: \'MenuButton\', commandName: \'MenuDacEditor\'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: \'viewBLSource\', text: Msg.ViewBusinessLogicSource, type: \'MenuButton\', commandName: \'MenuGraphSrc\'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: \'viewDACSource\', text: Msg.ViewDataClassSource, type: \'MenuButton\', commandName: \'MenuDacSrc\'\r\n\t\t\t\t}\r\n\t\t\t]}" menuselected.delegate="processMenuSelected($event)"></qp-menu>\r\n\r\n\t\t\t<qp-button caption.bind="Msg.Cancel"\r\n\t\t\tconfig.bind="{id: \'btnCancel\', dialogResult: 2}">\r\n\t\t</qp-button>\r\n\r\n\t\t\x3c!-- id: \'viewTSSource\', text: Msg.ViewAureliaSource, type: \'MenuButton\', commandName: \'MenuAureliaSrc\'\r\n\t}, { --\x3e\r\n\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\r\n</template>\r\n\r\n'},"client-controls/controls/compound/system-menu/qp-files-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-sys-menu.css"></require>\r\n\t<qp-panel id="pnlFilesDialog" caption.bind="Msg.Files" width="720px" fileloaded.delegate="processMenuSelected($event)">\r\n\t\t<div if.bind="mobileUploadStarted" class="fileDialogInfo">\r\n\t\t\t<span class="ac text-BoxHint"></span>\r\n\t\t\t<span id="CapturingImagePushSendMessage">${Msg.CapturingImagePushSend}</span>\r\n\t\t\t<span class="cross ac ac-close" click.delegate="mobileUploadStarted = false"></span>\r\n\t\t</div>\r\n\t\t<qp-multi-upload ref="uploader" view-model.ref="uploaderAu" config.bind="uploaderConfig"></qp-multi-upload>\r\n\t\t<qp-grid class="files-dialog-grid" view-model.ref="grid" config.bind="filesGridConfig"></qp-grid>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-note-dialog/note-menu-data-component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../qp-files-dialog"></require>\r\n\r\n\t<qp-note-dialog view-model.ref="noteVM" config.bind="noteDialogConfig" view.bind="notes.note"></qp-note-dialog>\r\n\t<qp-files-dialog view-model.ref="filesVM" config.bind="filesDialogConfig"></qp-files-dialog>\r\n\r\n\t<div if.bind="notes.note && notes.note.notesAvailable" id="pnlNote" class="qp-system-menu">\r\n\t\t<qp-button class="minor-button"\r\n\t\t\tconfig.bind="{ id: \'SystemMenu_NoteShow\', text: Msg.Note, hidden: false, imageUrl: notes.note.noteText? \'svg:main@note\' : \'svg:main@noteEmpty\', displayIconAndText: true}"\r\n\t\t\tclick.delegate="noteShow()">\r\n\t\t</qp-button>\r\n\t</div>\r\n\t<div if.bind="!notes.note.activitiesDisabled && notes.activities" id="pnlActivities" class="qp-system-menu">\r\n\t\t<qp-button class="minor-button"\r\n\t\t\tconfig.bind="{ id: \'SystemMenu_ActivitiesShow\', text: activitiesButtonText, hidden: false, imageUrl: \'svg:main@mail\', displayIconAndText: true}"\r\n\t\t\tclick.delegate="activitiesShow()">\r\n\t\t</qp-button>\r\n\t</div>\r\n\t<div if.bind="notes.note && notes.note.filesAvailable" id="pnlFiles" class="qp-system-menu">\r\n\t\t<qp-button class="minor-button"\r\n\t\t\tconfig.bind="{ id: \'SystemMenu_FilesShow\', text: filesButtonText, hidden: false, imageUrl: \'svg:main@files\', displayIconAndText: true}"\r\n\t\t\tclick.delegate="filesShow()">\r\n\t\t</qp-button>\r\n\t</div>\r\n\t<qp-panel id="pnlActivitiesShow" caption.bind="Msg.TaskAndActivitiesTitle" width="570px">\r\n\t\t<div style="min-width:450px;min-height: 350px;">\r\n\t\t\t<div class="toolbar-cont">\r\n\t\t\t\t<qp-tool-bar config.bind="activitiesToolbarConfig">\r\n\t\t\t\t</qp-tool-bar>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<div if.bind="!activities || activities.length == 0" style="width:450px;height: 350px;"></div>\r\n\t\t\t\t<table else class="activities-table">\r\n\t\t\t\t\t<tr repeat.for="a of activities" dblclick.delegate="a.open(a.recordId)"\r\n\t\t\t\t\t\tclass="${a.unread ? \'unread\':\'\'} ${a.isHot?\'hot\':\'\'}">\r\n\t\t\t\t\t\t<td class="activity__icon">\r\n\t\t\t\t\t\t\t<qp-icon imagesrc.bind="a.imgUrl"></qp-icon>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class="activity__datestart">${a.dateText}</td>\r\n\t\t\t\t\t\t<td class="activity__title"><a href="javascript:void(0)"\r\n\t\t\t\t\t\t\t\tclick.delegate="a.open(a.recordId)">${a.title}</a></td>\r\n\t\t\t\t\t\t<td class="activity__duration">${a.durationText}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-note-dialog/qp-note-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<qp-panel id="pnlNoteShow_ib" caption.bind="Msg.NoteTitle" width="570px" height="362px">\r\n\t\t<textarea id="pnlNoteShow_ib_txt" name="pnlNoteShow$ib$txt" value.bind="model.noteText" attach-focus style="width: 100%; height: 100%; resize: none">\r\n\t\t</textarea>\r\n\r\n\t\t<qp-check-box if.bind="model.popupNoteEnabled" config.bind="chkAddPopupNoteConfig" value.two-way="hasPopupText">\r\n\t\t</qp-check-box>\r\n\t\t<textarea id="pnlNoteShow_ib_txtP" name="pnlNoteShow$ib$txtP" if.bind="hasPopupText" value.bind="model.popupNoteText" style="width: 100%; height: 100%; resize: none">\r\n\t\t</textarea>\r\n\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ id: \'pnlNoteShow_ib_0\', text: Msg.Save }" click.trigger="updateNote()"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-notifications.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-sys-menu.css"></require>\r\n\t<qp-panel id="notificationsDlg" caption="${Msg.Notifications}" width="790px" height="510px">\r\n\t\t<qp-grid config.bind="notificationsGridConfig" view.bind="Notifications" class="stretch"></qp-grid>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-sys-menu.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../../container/field/qp-field.css"></require>\r\n\t<require from="./qp-sys-menu.css"></require>\r\n\r\n\t<qp-data-component name="NotesMenuData" screen.bind="viewModel"></qp-data-component>\r\n\t<qp-data-component name="SettingsMenuData" screen.bind="viewModel"></qp-data-component>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-tools-menu/qp-tools-menu.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../../../container/field/qp-field.css"></require>\r\n\t<require from="../qp-sys-menu.css"></require>\r\n\r\n\t<qp-panel id="shareColumnsDlg" caption.bind="shareCols.title" width="620px" height="460px">\r\n\t\t<qp-wizard config.bind="{saveCommand: \'Done\'}" id="share_columns_wz">\r\n\t\t\t<qp-tab caption="${Msg.ShareColumConfigStep1}" load-on-demand.bind="true" >\r\n\t\t\t\t<qp-grid style="height: 100%" view.bind="GridList" config.bind="GridList.config">\r\n\t\t\t\t</qp-grid>\r\n\t\t\t</qp-tab>\r\n\t\t\t<qp-tab caption="${Msg.ShareColumConfigStep2}" load-on-demand.bind="true">\r\n\t\t\t\t<qp-fieldset id="params" view.bind="Parameters" control-size="col-12">\r\n\t\t\t\t\t<field name="IsDefault"></field>\r\n\t\t\t\t\t<field name="Override"></field>\r\n\t\t\t\t\t<field name="RoleName"></field>\r\n\t\t\t\t</qp-fieldset>\r\n\t\t\t\t<qp-grid style="flex-grow: 1;" config.bind="UserList.config" view.bind="UserList">\r\n\t\t\t\t</qp-grid>\r\n\t\t\t</qp-tab>\r\n\t\t</qp-wizard>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-tools-menu/tools-menu-data-component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-tools-menu"></require>\r\n\t<require from="../qp-business-events"></require>\r\n\t<require from="../qp-notifications"></require>\r\n\r\n\t<qp-business-events view-model.ref="businessEventsVM"></qp-business-events>\r\n\t<qp-notifications view-model.ref="notificationsVM"></qp-notifications>\r\n\t<qp-tools-menu view-model.ref="sharedColumnsVM" parent.bind="$this"></qp-tools-menu>\r\n\r\n\t<qp-panel id="pnlLinkShow">\r\n\t\t<div class="qp-field-wrapper">\r\n\t\t\t<qp-label-light caption="${Msg.InternalLink}"></qp-label-light>\r\n\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t<qp-text-editor config.bind="{id: \'internalLink\', class: \'editor\', readOnly: true}"\r\n\t\t\t\t\tvalue.two-way="links.internal">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="qp-field-wrapper">\r\n\t\t\t<qp-label-light caption="${Msg.ExternalLink}"></qp-label-light>\r\n\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t<qp-text-editor config.bind="{id: \'externalLink\', class: \'editor\', readOnly: true}"\r\n\t\t\t\t\tvalue.two-way="links.external">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ id: \'link_send_btn\', text: Msg.Send, hidden: false}"\r\n\t\t\t\tclick.delegate="openSendLinkWindow()"></qp-button>\r\n\t\t\t<qp-button config.bind="{ id: \'link_cancel_btn\', text: Msg.Cancel, hidden: false}"\r\n\t\t\t\tclick.delegate="closeCurrentDialog()"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\t<qp-panel id="pnlAbout" caption="${Msg.AboutAcumatica}">\r\n\t\t<div>\r\n\t\t\t<qp-icon imagesrc="/Icons/site.png" style="width: 20px; height: 20px; display: inline-block;"></qp-icon>\r\n\t\t\t<span id="ctl00_usrCaption_pnlAbout_lblAcumatica" class="labelH"\r\n\t\t\t\tstyle="color:#4E576A;font-size: 22px; font-weight: bold">${about.label}</span>\r\n\t\t\t<br>\r\n\t\t\t<div id="ctl00_usrCaption_pnlAbout_lblVersion" class="labelH" style="font-weight: bold;">\r\n\t\t\t\t${about.productVersion}</div>\r\n\t\t\t<br>\r\n\t\t\t<span if.bind="about.checkForUpdates" id="ctl00_usrCaption_pnlAbout_lblUpdates" class="labelH"\r\n\t\t\t\tstyle="font-weight: bold; white-space: nowrap;">${about.checkForUpdates}</span>\r\n\t\t\t<span if.binf="about.snapshot" id="ctl00_usrCaption_pnlAbout_lblRestoredSnapshotIsUnsafe" class="labelH"\r\n\t\t\t\tstyle="font-weight: bold; white-space: nowrap;">${about.snapshot}</span>\r\n\r\n\t\t\t<span id="ctl00_usrCaption_pnlAbout_lblCopyright1" class="labelH">${about.copyright1}</span>\r\n\t\t\t<br>\r\n\t\t\t<div id="ctl00_usrCaption_pnlAbout_lblCopyright2" class="labelH" innerhtml="${about.copyright2}"></div>\r\n\t\t\t<br>\r\n\t\t\t<span id="ctl00_usrCaption_pnlAbout_lblInstallationID" class="labelH"\r\n\t\t\t\tinnerhtml="${about.installationId}"></span></span>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ text: Msg.Confirm, hidden: false}" click.delegate="closeCurrentDialog()">\r\n\t\t\t</qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\t<qp-panel id="auditHistoryDlg" caption="${Msg.AuditUpdateHistory}" width="620px">\r\n\t\t<div if.bind="!auditInfo">${Msg.AuditIsNotAvailable}</div>\r\n\t\t<div if.bind="auditInfo">\r\n\t\t\t<div class="qp-field-wrapper">\r\n\t\t\t\t<div class="label-container size-m">\r\n\t\t\t\t\t<label>${Msg.AuditCreatedBy}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: false}"\r\n\t\t\t\t\t\tvalue.two-way="auditInfo.createdByID">\r\n\t\t\t\t\t</qp-text-editor>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-field-wrapper">\r\n\t\t\t\t<div class="label-container size-m">\r\n\t\t\t\t\t<label>${Msg.AuditCreatedThrough}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: false}"\r\n\t\t\t\t\t\tvalue.two-way="auditInfo.createdByScreenID">\r\n\t\t\t\t\t</qp-text-editor>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-field-wrapper">\r\n\t\t\t\t<div class="label-container size-m">\r\n\t\t\t\t\t<label>${Msg.AuditCreatedOn}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: false}"\r\n\t\t\t\t\t\tvalue.two-way="auditInfo.createdDateTime">\r\n\t\t\t\t\t</qp-text-editor>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-field-wrapper">\r\n\t\t\t\t<div class="label-container size-m">\r\n\t\t\t\t\t<label>${Msg.AuditLastModifiedBy}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: false}"\r\n\t\t\t\t\t\tvalue.two-way="auditInfo.lastModifiedByID">\r\n\t\t\t\t\t</qp-text-editor>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-field-wrapper">\r\n\t\t\t\t<div class="label-container size-m">\r\n\t\t\t\t\t<label>${Msg.AuditLastModifiedThrough}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: false}"\r\n\t\t\t\t\t\tvalue.two-way="auditInfo.lastModifiedByScreenID">\r\n\t\t\t\t\t</qp-text-editor>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-field-wrapper">\r\n\t\t\t\t<div class="label-container size-m">\r\n\t\t\t\t\t<label>${Msg.AuditLastModifiedOn}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: false}"\r\n\t\t\t\t\t\tvalue.two-way="auditInfo.lastModifiedDateTime">\r\n\t\t\t\t\t</qp-text-editor>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ text: Msg.AuditEnableFieldLevel, hidden: false}"\r\n\t\t\t\tclick.delegate="enableLevelAudit()">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-button config.bind="{ text: Msg.Cancel, hidden: false}" click.delegate="closeCurrentDialog()">\r\n\t\t\t</qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\t<qp-panel id="pnlProfiler" caption="${Msg.ProfilerHeader}" width="520px" height="210px">\r\n\t\t<label>${Msg.ProfilerDescription}</label>\r\n\t\t<div if.bind="profilerStarted" class="qp-field-wrapper">\r\n\t\t\t<qp-label-light caption="${Msg.ProfilerStarted}"></qp-label-light>\r\n\t\t\t<div class="control-container size-m">\r\n\t\t\t\t<qp-text-editor config.bind="{id: \'profilerStarted\', class: \'editor\', readOnly: true}"\r\n\t\t\t\t\tvalue.two-way="profiler.started">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div if.bind="profilerStarted" class="qp-field-wrapper">\r\n\t\t\t<qp-label-light caption="${Msg.ProfilerRequestsLogged}"></qp-label-light>\r\n\t\t\t<div class="control-container size-m">\r\n\t\t\t\t<qp-number-editor\r\n\t\t\t\t\tconfig.bind="{id: \'profilerRequestsLogged\', class: \'editor\', textAlign: 1, readOnly: true}"\r\n\t\t\t\t\tvalue.two-way="profiler.requestsLogged">\r\n\t\t\t\t</qp-number-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button if.bind="!profilerStarted"\r\n\t\t\t\tconfig.bind="{ id: \'profiler_start_btn\', text: Msg.ProfilerStart, hidden: false}"\r\n\t\t\t\tclick.delegate="startLogging()">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-button if.bind="profilerStarted"\r\n\t\t\t\tconfig.bind="{ id: \'profiler_stop_btn\', text: Msg.ProfilerStop, hidden: false}"\r\n\t\t\t\tclick.delegate="stopLogging()">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-button config.bind="{ id: \'profiler_open_btn\', text: Msg.ProfilerOpenRequest, hidden: false}"\r\n\t\t\t\tclick.delegate="openRequestProfiler($event)"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/settings-menu-data-component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<qp-data-component view-model.ref="toolMenuDataComponent" name="ToolMenuData" screen.bind="screenViewModel"></qp-data-component>\r\n\t<qp-data-component view-model.ref="customizationMenuDataComponent"\tname="CustomizationMenuData" screen.bind="screenViewModel"></qp-data-component>\r\n\r\n\t<div if.bind="settingsMenu" id="pnlSettings" class="qp-system-menu">\r\n\t\t<qp-menu config.bind="settingsMenu" menuselected.delegate="processSettingsMenuSelected($event)"></qp-menu>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/tool-bar/qp-tool-bar.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template css="display: ${config.hidden ? \'none\': \'\'};">\r\n\t<require from="./qp-tool-bar.scss"></require>\r\n\t<require from="../menu/qp-menu"></require>\r\n\r\n\t<div id="${config.id}" name="${config.name}" class="qp-tool-bar ${toolBarMode===\'toolbar only\' ? \'qp-tool-bar-no-menu\' : \'\'} ${config.disableMenu ? \'qp-tool-bar-nowrap\' : \'\'} ${config.class}"\r\n\tref="toolbarElement">\r\n\r\n\t\t<ul id="${config.id}_full_bar" class="items-list ${config.canOverflow ? \'asTable\' : \'\'}"\r\n\tref="fullULElement"\r\n\tcss="${ (toolBarMode!==\'toolbar only\') ? \'position: absolute; top: -1000px; width: \'+toolbarElement.clientWidth+\'px;\' : \'\'}">\r\n\t\t\t<li repeat.for="item of items"\r\n\t\t\tcss="${\'width: \'+item.width+\'; \'}"\r\n\t\t\tclass="qp-tool-bar-item ${item.renderIcon() ? \'minor-button\' : \'\'} ${item.connotation ? \'qp-connotation-\'+item.connotation : \'qp-connotation-default\'} ${item.toggleMode ? (item.pushed ? \'qp-toggle-pushed\' : \'qp-toggle-released\') : \'\'} ${item.cssClass ? item.cssClass : \'\'}"\r\n\t\t\tclick.capture="processClick(item.id, item.type, $event)"\r\n\t\t\tmousedown.trigger="processDown(item.id, item.type, $event)"\r\n\t\t\tmouseout.trigger="processOut(item.id, $event)"\r\n\t\t\tdata-cmd="${toolBarMode===\'toolbar only\' ? item.commandName : undefined}"\r\n\t\t\tid="${toolBarMode===\'toolbar only\' ? item.id : undefined}">\r\n\t\t\t\t<div if.bind="item.type===\'MenuButton\'" class="qp-tool-bar-button ${item.disabled ? \'disabled\' : \'\'}">\r\n\t\t\t\t\t<qp-hyper-icon if.bind="item.renderIcon()" images.bind="item.images"></qp-hyper-icon>\r\n\t\t\t\t\t<div if.bind="item.renderText()" class=" qp-tool-bar-text">\r\n\t\t\t\t\t\t${item.text}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<qp-menu if.bind="item.type===\'MenuOptions\'" config.bind="item"\r\n\t\t\t\tmenuselected.delegate="processMenuSelected($event)"></qp-menu>\r\n\t\t\t\t<div if.bind="item.type!==\'MenuButton\' && item.type!==\'MenuOptions\'">[${item.id}]</div>\r\n\r\n\t\t\t\t<qp-tooltip if.bind="!legacyEnv() && item.toolTip" exclude=".qp-menu-options">\r\n\t\t\t\t\t<div>${item.toolTip}</div>\r\n\t\t\t\t</qp-tooltip>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\r\n\t\t<ul id="${config.id}_bar" show.bind="toolBarMode!==\'toolbar only\'"\r\n\t\tclass="items-list ${config.canOverflow ? \'asTable\' : \'\'}">\r\n\t\t\t<li repeat.for="item of items"\r\n\t\t\tif.bind="!item.showIfEnoughRoom"\r\n\t\t\tref="itemElements[$index]"\r\n\t\t\tcss="${\'width: \'+item.width+\'; \'} ${item.visibleOnToolbar ? \'\' : \'position: absolute; top:-1000px;\'}"\r\n\t\t\tclass="qp-tool-bar-item ${item.renderIcon() ? \'minor-button\' : \'\'} ${item.connotation ? \'qp-connotation-\'+item.connotation : \'qp-connotation-default\'} ${item.toggleMode ? (item.pushed ? \'qp-toggle-pushed\' : \'qp-toggle-released\') : \'\'} ${item.cssClass ? item.cssClass : \'\'}"\r\n\t\t\tclick.capture="processClick(item.id, item.type, $event)"\r\n\t\t\tmouseout.trigger="processOut(item.id, $event)"\r\n\t\t\tmousedown.trigger="processDown(item.id, item.type, $event)"\r\n\t\t\tdata-cmd="${toolBarMode===\'toolbar only\' ? undefined : item.commandName}"\r\n\t\t\tid="${toolBarMode===\'toolbar only\' ? undefined : item.id}">\r\n\t\t\t\t<div if.bind="item.type===\'MenuButton\'" class="qp-tool-bar-button ${item.disabled ? \'disabled\' : \'\'}">\r\n\t\t\t\t\t<qp-hyper-icon if.bind="item.renderIcon()" images.bind="item.images"></qp-hyper-icon>\r\n\t\t\t\t\t<div if.bind="item.renderText()" class=" qp-tool-bar-text">\r\n\t\t\t\t\t\t${item.text}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<qp-menu if.bind="item.type===\'MenuOptions\'" config.bind="item"\r\n\t\t\t\tmenuselected.delegate="processMenuSelected($event)"></qp-menu>\r\n\t\t\t\t<div if.bind="item.type!==\'MenuButton\' && item.type!==\'MenuOptions\'">[${item.id}]</div>\r\n\t\t\t\t<qp-tooltip if.bind="!legacyEnv() && item.toolTip" target.bind="itemElements[$index]" exclude=".qp-menu-options">\r\n\t\t\t\t\t<div>${item.toolTip}</div>\r\n\t\t\t\t</qp-tooltip>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\r\n\t\t<div show.bind="showMenuOpener && toolBarMode!==\'toolbar only\'" class="qp-tool-bar-opener ${menuOpened ? \'qp-menu-opened\': \'\'}" ref="menuOpener"\r\n\t\tid="${config.id}_MenuOpener"\r\n\t\tkeydown.capture="onKeyDown($event)"\r\n\t\tmousedown.capture=toggleMenu($event) tabindex="1">\r\n\t\t\t<qp-icon imagesrc="svg:main@ellipsis"></qp-icon>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div if.bind="menuOpened && showMenuOpener" class="qp-menu-shadow">\r\n\t\t<div glue-to.bind="menuOpener" portal class="qp-tool-bar-menu" id="${config.id}_MenuOpener_menu_items"\r\n\t\tmousedown.trigger="stopPropagation($event)" css="max-height: calc(100vh - ${menuTopPosition}px - 10px)">\r\n\t\t\t<div id="${config.id}_popup" ref="menuPane" class="qp-tool-bar-container">\r\n\t\t\t\t<div repeat.for="col of menu" class="qp-tool-bar-column">\r\n\t\t\t\t\t<div repeat.for="item of col"\r\n\t\t\t\t\tid="${item.id}_item"\r\n\t\t\t\t\tdata-category-id.bind="item.categoryID ? item.categoryID+\'_item\' : undefined & attr"\r\n\t\t\t\t\tdisabled.bind="item.disabled & attr"\r\n\t\t\t\t\tclass="qp-tool-bar-menu-item\r\n\t\t\t\t\t${item.type===\'MenuButton\' ? \'qp-menu-item\' : item.text ? \'qp-menu-label\' : \'qp-menu-empty-label\'}\r\n\t\t\t\t\t${item.disabled ? \'disabled\' : \'\'}\r\n\t\t\t\t\t${highlightedID === item.id ? \'qp-menu-highlighted\':\'\'}\r\n\t\t\t\t\t${item.toggleMode ? (item.pushed ? \'qp-toggle-pushed\' : \'qp-toggle-released\') : \'\'}"\r\n\t\t\t\t\tdata-cmd="${item.commandName}"\r\n\t\t\t\t\tclick.delegate="processMenuClick(item.id, $event)"\r\n\t\t\t\t\tmouseenter.trigger="processMouseEnter(item.id, $event)"\r\n\t\t\t\t\tmouseleave.trigger="processMouseLeave(item.id, $event)">\r\n\t\t\t\t\t\t<div if.bind="item.type===\'MenuButton\'"\r\n\t\t\t\t\t\tclass="qp-menu-fav-placeholder ${item.favorite===true ? \'favorite\' : \'\'}"\r\n\t\t\t\t\t\tclick.delegate="toggleFavorites(item.id, $event)"></div>\r\n\t\t\t\t\t\t<span if.bind="item.type===\'MenuButton\'"\r\n\t\t\t\t\t\textention-cord.bind="highlightedID === item.id & debounce:32"\r\n\t\t\t\t\t\tclass="qp-menu-item qp-menu-text ${item.disabled ? \'disabled\' : \'\'}">\r\n\t\t\t\t\t\t\t${item.text || item.toolTip}\r\n\t\t\t\t\t\t\t<div if.bind="item.connotation" class="qp-menu-color-bead ${\'qp-connotation-\'+item.connotation}"\r\n\t\t\t\t\t\t\tcss="background-color: ${item.color};"></div>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span if.bind="item.type===\'MenuLabel\'" class="qp-menu-label qp-menu-text">${item.text}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/translation-validation/qp-translation-validation.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-translation-validation.scss"></require>\r\n\t<div class="validation-container" if.bind="IsVisible">\r\n\t\t<div class="validation-title" click.delegate="toogleItems()">${ValidationTitle}</div>\r\n\t\t<div class="validation-items" if.bind="expanded">\r\n\t\t\t<div class="validation-item" repeat.for="item of component.validationResult.warnings">\r\n\t\t\t\t<span class="validation-item--title">${msg.TranslationValidationItemTitle}</span>\r\n\t\t\t\t<span class="validation-item--body">${msg.Format(msg.TranslationValidationItemBody, item)}</span>\r\n\t\t\t\t<a href="javascript:void(0)" click.delegate="openLocalizationScreen()" class="validation-item--link">${getLocaleName()}</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/tree-selector/qp-tree-selector-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-tree-selector.scss"></require>\r\n\t<qp-panel id="tree-selector-panel_${config.id}">\r\n\t\t<div class="qp-tree-selector ${ gridConfig ? \'\' : \'qp-tree-selector--one-tab\' }">\r\n\t\t\t<qp-tabbar config.bind="{id: config.TreeSelectorId}">\r\n\r\n\t\t\t\t<qp-tab id="grid" if.bind="gridConfig" caption.bind="config.selectorTabTitle">\r\n\t\t\t\t\t<qp-grid id="${config.TreeSelectorId}_grid" class="qp-tree-selector-tab" config.bind="gridConfig"\r\n\t\t\t\t\t\ton-active-row-changed.call="rowChanged(args)"\r\n\t\t\t\t\t\ton-default-action.call="selected(args)"\r\n\t\t\t\t\t\ton-action.call="selected(args)"\r\n\t\t\t\t\t\tdblclick.delegate="selected(args)"\r\n\t\t\t\t\t\tview-model.ref="gridVM"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</qp-grid>\r\n\t\t\t\t</qp-tab>\r\n\r\n\t\t\t\t<qp-tab id="tree" caption.bind="config.treeTabTitle">\r\n\t\t\t\t\t<qp-tree value.two-way="treeValue" view-model.ref="tree" class="qp-tree-selector-tab"\r\n\t\t\t\t\t\tconfig.bind="treeConfig">\r\n\t\t\t\t\t</qp-tree>\r\n\t\t\t\t</qp-tab>\r\n\r\n\t\t\t</qp-tabbar>\r\n\t\t</div>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/tree-selector/qp-tree-selector.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="client-controls/controls/simple/selector/qp-selector.css"></require>\r\n\r\n\t<div class="editor qp-selector ${editMode?\'focus edit-mode\':\'\'} ${config.readOnly || !config.enabled ? \'qp-selector-readonly\' : \'\'} ${config.allowEdit ? \'qp-selector-allow-edit\' : \'\'} ${empty ? \'qp-selector-empty\':\'\'}" ref="editorDiv" id="${config.id}" tabindex="-1">\r\n\t\t<div class="qp-editor-plugin">\r\n\t\t\t<qp-text-editor config.bind="editorConfig" value.two-way="editorValue" view-model.ref="field" keydown.delegate="handleKeyDown($event)"></qp-text-editor>\r\n\t\t</div>\r\n\r\n\t\t<button if.bind="!config.readOnly && !config.disabled && !config.enabled == false" type="button"\r\n\t\t\tmousedown.capture="openSelector(fieldLabel)"\r\n\t\t\tclass="qp-field-editor__button"\r\n\t\t\ttabindex="-1">\r\n\t\t\t<qp-icon imagesrc="svg:main@search" class="buttonsCont" type="sel"></qp-icon>\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<qp-tree-selector-dialog config.bind="config" view-model.ref="treeSelectorDialog" editor-div.bind="editorDiv" if.bind="config"></qp-tree-selector-dialog>\r\n</template>\r\n'},"client-controls/controls/compound/tree/qp-tree-node.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template id="${id}">\r\n\t<tr id="${meta.testId}" ref="treeNode" if.bind="nodeId!==null" class="tree-row ${meta.hidden==true && meta.item!=null ? \'tree-node-hidden\' : \'\'} tree-node ${treeService.mode==\'single\' && meta.selected ? \'tree-node-selected\' : \'\'} ${treeService.modifiable && !(meta.item.actions.disableDrag === true)? \'draggable\': \'\'} ${treeService.hovered.id==nodeId && treeService.hovered.separator==false && !(meta.item.actions.disableDropChild === true) ? \'tree-node-drag\' : \'\'}"\r\n\t\tdraggable="true"\r\n\t\tdragstart.delegate="treeService.modifiable && !(meta.item.actions.disableDrag === true)? onDragStart($event): null"\r\n\t\tdrop.trigger="treeService.modifiable && !(meta.item.actions.disableDropChild === true)? dropNode($event, true): null"\r\n\t\tdragover.trigger="treeService.modifiable? onDragOver($event): null"\r\n\t\tdblclick.delegate="onSelectSingle()"\r\n\t\tclick.delegate="treeService.mode==\'multi\' ? onSelectMulti() : checkSingle()">\r\n\t\t<td ref="flexFirst" class="tree-flex" css="padding-left: ${levelShift}">\r\n\t\t\t<i if.bind="meta.children.length > 0" ref="arrow"\r\n\t\t\t\tclass="ac ${(meta.opened)?\'ac-keyboard_arrow_down\':\'ac-keyboard_arrow_right\'} tree-open"\r\n\t\t\t\tclick.trigger="onOpen($event)"></i>\r\n\t\t\t<div class="tree-checkbox tree-quad" ref="checkBox" if.bind="treeService.mode==\'multi\'">\r\n\t\t\t\t<input if.bind="!meta.indeterminate" type="checkbox" class="tree-quad" checked.bind="meta.selected" />\r\n\t\t\t\t<div if.bind="meta.indeterminate" class="indeterminate">\r\n\t\t\t\t\t<div class="inside">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<qp-icon if.bind="meta.item.icon" class="tree-node-icon" ref="icon" imagesrc.bind="meta.item.icon"\r\n\t\t\t\tcss="color: ${meta.item.iconColor}; width: ${treeService.iconSize}; height: ${treeService.iconSize}">\r\n\t\t\t</qp-icon>\r\n\t\t\t<span if.bind="!editMode" ref="text" class="tree-text" title.bind="meta.item.name">\r\n\t\t\t\t<span if.bind="!meta.hidden" repeat.for="part of textParts"\r\n\t\t\t\t\tclass.bind="part.selected ? \'selected\' : \'\'">${part.text}</span>\r\n\t\t\t</span>\r\n\t\t\t<input ref="input" value.bind="meta.item.name" focus.bind="editMode" keydown.capture="onInput($event)"\r\n\t\t\t\tclass="tree-text-input ${editMode?\'\':\'hidden\'}" blur.trigger="editMode=false">\r\n\t\t</td>\r\n\t\t<td repeat.for="extra of treeService.extras" class="tree-sticky-column" css="right: ${extra.right}px">\r\n\t\t\t<div css="width: ${extra.width}px" class="optional-item">\r\n\t\t\t</div>\r\n\t\t</td>\r\n\t\t<td ref="actionMenu" if.bind="meta.item.actions && (meta.item.actions.rename || meta.item.actions.createChild || meta.item.actions.createSibling || meta.item.actions.delete)"\r\n\t\t\tclass="tree-toolbar tree-sticky-column">\r\n\t\t\t<qp-icon class="tree-quad" imagesrc="svg:main@ellipsis" click.delegate="onToolbarClick($event)">\r\n\t\t\t</qp-icon>\r\n\t\t\t<div ref="toolbar" class="tree-toolbar-right hidden">\r\n\t\t\t\t<div if.bind="meta.item.actions.createSibling" id="${meta.testId}_addsibling" click.delegate="onAddNode(false)">\r\n\t\t\t\t\t<i class="tree-quad ac ac-add"></i>${treeService.actionLabels[0] || localizedStrings.AddSibling}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div if.bind="meta.item.actions.createChild" id="${meta.testId}_addchild" click.delegate="onAddNode(true)">\r\n\t\t\t\t\t<i class="tree-quad ac ac-add"></i>${treeService.actionLabels[1] || localizedStrings.AddChild}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div if.bind="meta.item.actions.rename" id="${meta.testId}_rename" click.delegate="onEdit()">\r\n\t\t\t\t\t<i class="tree-quad ac main-RecordEdit"></i>${treeService.actionLabels[2] || localizedStrings.Rename}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div if.bind="meta.item.actions.delete" id="${meta.testId}_delete" click.delegate="onDeleteNode()">\r\n\t\t\t\t\t<i class="tree-quad ac ac-delete"></i>${treeService.actionLabels[3] || localizedStrings.Delete}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</td>\r\n\t</tr>\r\n\t<tr class="tree-separator ${treeService.hovered.separator && treeService.hovered.id==nodeId? \'\': \'hidden\'} ${meta.hidden==true && meta.item!=null ? \'tree-node-hidden\' : \'\'}"\r\n\tdragover.trigger="treeService.modifiable? showSeparator(): null"><td colspan="100%" drop.trigger="treeService.modifiable? dropNode($event, false): null"></td></tr>\r\n\t<template if.bind="meta.opened">\r\n\t\t<tr as-element="qp-tree-node" repeat.for="child of meta.children" node-id.bind="child" containerless></tr>\r\n\t</template>\r\n</template>\r\n'},"client-controls/controls/compound/tree/qp-tree-toolbar.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="tree-main-toolbar">\r\n\t<require from="../grid/elements/qp-filter-box"></require>\r\n\t<div class="tree-main-toolbar__caption ${hasToolbarItems ? \'tree-main-toolbar__caption--wide\' : \'\'}" if.bind="caption">${caption}</div>\r\n\t<qp-tool-bar if.bind="hasToolbarItems" config.bind="config" class="tree-main-toolbar__toolbar-container ${config.hideToolbarSearch ? \'tree-main-toolbar__toolbar-container--wide\' : \'\' }">\r\n\t</qp-tool-bar>\r\n\t<qp-filter-box id="${config.id}_text" class="tree-main-toolbar__filter-box filter-box" on-filter.call="onFilter(filter)" if.bind="!config.hideToolbarSearch"></qp-filter-box>\r\n</template>\r\n'},"client-controls/controls/compound/tree/qp-tree.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-tree.css"></require>\r\n\t<require from="./qp-tree-toolbar"></require>\r\n\t<div id="${config.id}_tree_root" class="tree-root">\r\n\t\t<qp-tree-toolbar view-model.ref="topToolbar" config.bind="topToolbarConfig" caption.bind="captionText" parent.bind="$this"></qp-tree-toolbar>\r\n\t\t<div class="tree-header ${hasVerticalScroll? \'scroll-padding\': \'\'}" ref="header" if.bind="treeService.extras && treeService.extras.length > 0 && !noData && !emptySearchResult">\r\n\t\t\t<div repeat.for="extra of treeService.extras" class="optional-item" css="right: ${extra.right}px; width: ${extra.width}px;">\r\n\t\t\t\t<qp-text-editor value="${extra.title}" config.bind="{enabled: false, textAlign: extra.textAlign}">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t\t<div ref="toolbar" if.bind="hasActions" class="tree-toolbar tree-quad hidden">\r\n\t\t\t\t<qp-icon imagesrc="svg:main@ellipsis"></qp-icon>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div ref="treeContainer" class="tree-table-container ${(config.width || config.height) && topToolbar.height ? \'has-size\': \'\'}">\r\n\t\t\t<div if.bind="emptySearchResult" class="empty-tree-search">No items found</div>\r\n\t\t\t<div class="tree-table-wrap ${emptySearchResult? \'hidden\': \'\'}" if.bind="!repaintTree" ref="treeTableWrap" scroll.trigger="!treeService.dynamic && hasHorizontalScroll? onTableWrapScroll($event): null">\r\n\t\t\t\t<table ref="treeTable" class="tree-container ${hasVerticalScroll? \'scroll-padding\': \'\'}" scroll.trigger="!treeService.dynamic? onTableScroll($event): null" as-element="qp-tree-node" view-model.ref="tree" node-id.bind="nodeId" cellspacing="0" cellpadding="0"\r\n\t\t\t\t\tid="${config.id}">\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/data-components/qp-data-component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<compose view-model.bind="component" model.bind="model" containerless></compose>\r\n</template>\r\n\r\n'},"client-controls/controls/container/data-components/qp-data-components.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<template repeat.for="item of items">\r\n\t\t<compose view-model.bind="item.component" model.bind="item.model" containerless></compose>\r\n\t</template>\r\n</template>\r\n\r\n'},"client-controls/controls/container/field-pair/qp-field-pair.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<div style="position:relative; display:flex; gap:5px;">\r\n\t\t<div class="control-container size-s">\r\n\t\t\t<enhanced-compose if.bind="firstControlType" view-model.bind="firstControlType"\r\n\t\t\t\tconfig.bind="firstConfig" state.bind="firstState" value.two-way="firstState.value">\r\n\t\t\t</enhanced-compose>\r\n\t\t</div>\r\n\t\t<div class="control-container size-fit">\r\n\t\t\t<enhanced-compose if.bind="secondControlType" view-model.bind="secondControlType"\r\n\t\t\t\tconfig.bind="secondConfig" state.bind="secondState" value.two-way="secondState.value">\r\n\t\t\t</enhanced-compose>\r\n\t\t</div>\r\n\t</div>\r\n</template>'},"client-controls/controls/container/field/qp-field.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="qp-field ${controlState.visible === false || collapsed && (typeof pinned === \'undefined\' ? controlState.unpinned : !pinned) ? \'qp-field-collapsed\' : \'qp-field-expanded\'}\r\n\t\t${noLabel === true ? \'no-label\' : \'\'}">\r\n\t<require from="./qp-field.css"></require>\r\n\t<qp-tooltip if.bind="errorMessage" rule.bind="\'div[data-tooltip]\'" exclude.bind="\'enhanced-compose.main-control\'"></qp-tooltip>\r\n\r\n\t<div class="wrapper ${errorCssClass} ${controlState.required === true ? \'req-l\': \'\'} ${controlState.textValue ? \'\' : \'qp-field-empty\'}"\r\n\t\tshow.bind="controlState.visible === undefined || controlState.visible !== false" data-tooltip.bind="errorMessage" data-error-level.bind="errorLevel">\r\n\r\n\t\t<span  class="label-wrapper" show.bind="!noLabel">\r\n\t\t\t<slot name="label">\r\n\t\t\t\t<qp-label-light if.bind="!noLabel" caption.bind="label" control-id.bind="controlConfig.id"></qp-label-light>\r\n\t\t\t</slot>\r\n\t\t</span>\r\n\r\n\t\t<div class="control-container no-label ${controlSize || \'size-default\'}">\r\n\t\t\t<div if.bind="!noIcon" class="icon-container"></div>\r\n\t\t\t<enhanced-compose if.bind="controlState" view-model.bind="controlType || defaultControlType"\r\n\t\t\t\tconfig.bind="controlConfig" state.bind="controlState" value.two-way="controlState.value" control-id.bind="controlId" context.bind="context" proxy-expressions.bind="proxyExpressions"\r\n\t\t\t\tclass="main-control">\r\n\t\t\t</enhanced-compose>\r\n\r\n\t\t\t<slot></slot>\r\n\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/fieldset/qp-edit-field-parent.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../../dialog/edit-dialog-base/qp-edit-element.css"></require>\r\n\t<div if.bind="!isEditingName" class="edit-element  edit-element--parent  ${active ? \'edit-element--active\' : \'\'}"\r\n\t\tmouseenter.trigger="activate($event)" mouseleave.trigger="deactivate($event)"\r\n\t\tclick.delegate="processClick($event)" draggable="true" dragover.delegate="processDragOver($event)"\r\n\t\tdragleave.delegate="processDragLeave($event)" drop.delegate="processDrop($event)" ref="element">\r\n\t\t<div class="edit-element--group">\r\n\t\t\t<div>\r\n\t\t\t\t<div class="edit--element-name  edit--text  edit--text-l">${config.name}</div>\r\n\t\t\t\t<div class="edit--element-id  edit--text  edit--text-s">${config.id}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div if.bind="active || !config.visible" class="edit-element--group  edit-element--toolbar">\r\n\t\t\t<div class="edit-element-icon--container ${(active && config.visible) ? \'editable\' : \'\'}">\r\n\t\t\t\t<qp-icon class="edit-element-icon" if.bind="active && config.visible" imagesrc="svg:main@pencil"\r\n\t\t\t\t\tclick.delegate="startEditName($event)"></qp-icon>\r\n\t\t\t</div>\r\n\t\t\t<div class="edit-element-icon--container ${config.visible ? \'eye_opened\' : \'eye_closed\'}">\r\n\t\t\t\t<qp-icon class="edit-element-icon" imagesrc="${!config.visible ? \'svg:main@eyeClosed\' : \'svg:main@eye\'}"\r\n\t\t\t\t\tclick.delegate="switchVisible($event)"></qp-icon>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t</div>\r\n\t<div if.bind="isEditingName" class="fieldset--name-editor" ref="editingElement">\r\n\t\t<input type="text" class="edit--text-l" value.bind="editedName" blur.trigger="stopEditing($event)"\r\n\t\t\tkeyup.capture="processEditorKeyDown($event)" change.trigger="processEditorChange($event)" />\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/fieldset/qp-fieldset-edit.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template id="fieldset-edit-form">\r\n\t<require from="../../dialog/edit-dialog-base/qp-edit-dialog"></require>\r\n\t<require from="./qp-fieldset-edit.css"></require>\r\n\t<require from="../../dialog/edit-dialog-base/qp-edit-element"></require>\r\n\t<require from="./qp-edit-field-parent"></require>\r\n\t<qp-edit-dialog dialog-config.bind="baseDialogConfig">\r\n\t\t<div class="edit-column">\r\n\t\t\t<div class="edit-column-title  edit-column-left">\r\n\t\t\t\t<div class="thin-blue-line"></div><span class="title-with-line">${config.leftColumnTitle}</span>\r\n\t\t\t</div>\r\n\t\t\t<div class="edit-column-left  edit-column-separator  full-height">\r\n\t\t\t\t<div class="edit-field--searcher  ${leftFilterHasFocus ? \'edit-field--searcher--focus\' : \'\'}">\r\n\t\t\t\t\t<input type="text" value.bind="availableFieldsFilter" focus.trigger="focusLeftFilter()"\r\n\t\t\t\t\t\tblur.trigger="blurLeftFilter()" input.delegate="searchAvailableFields()"\r\n\t\t\t\t\t\tplaceholder="${msg.Search}" ref="leftFilterInput" />\r\n\t\t\t\t\t<div class="buttonsCont sprite-icon control-icon" icon="SelectorN" type="sel"\r\n\t\t\t\t\t\tclick.trigger="searchAvailableFields()">\r\n\t\t\t\t\t\t<div class="control-icon-img control-SelectorN">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="edit-column-content" dragover.delegate="processDragOver($event, \'available\')"\r\n\t\t\t\t\tdragend.delegate="processDragEnd($event)" ref="leftColumnElement">\r\n\t\t\t\t\t<div if.bind="leftDropZoneActive" class="edit-column-left-dropzone"\r\n\t\t\t\t\t\tdragleave.delegate="processDragLeave($event, \'available\')"\r\n\t\t\t\t\t\tdrop.delegate="processDropOnColumn($event, \'available\')"\r\n\t\t\t\t\t\tdragover.delegate="processDragOver($event, \'available\')"\r\n\t\t\t\t\t\tdragend.delegate="processDragEnd($event)"></div>\r\n\t\t\t\t\t<div repeat.for="parentField of currentAvailableFields">\r\n\t\t\t\t\t\t<div class="edit-view" if.bind="config.showHierarchy"\r\n\t\t\t\t\t\t\tclick.delegate="$parent.toggleCollapse(parentField)">\r\n\t\t\t\t\t\t\t<div class="edit--view-name--container ${parentField.collapsed ? \'collapsed\' : \'\'}">\r\n\t\t\t\t\t\t\t\t<div class="edit--view-name  edit--text  edit--text-l">${parentField.name}</div>\r\n\t\t\t\t\t\t\t\t<qp-icon class="edit--view--collapse"\r\n\t\t\t\t\t\t\t\t\timagesrc="${parentField.collapsed ? \'svg:main@treeArrowDown\' : \'svg:main@treeArrowUp\'}">\r\n\t\t\t\t\t\t\t\t</qp-icon>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="edit--view-id  edit--text  edit--text-s">${parentField.id}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div repeat.for="childField of parentField.children" show.bind="!parentField.collapsed">\r\n\t\t\t\t\t\t\t<qp-edit-element config.bind="childField" options.bind="leftEditFieldOptions"\r\n\t\t\t\t\t\t\t\tdrag-info.bind="$parent.$parent.dragInfo" actions.bind="leftItemActions">\r\n\t\t\t\t\t\t\t</qp-edit-element>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="edit-column">\r\n\t\t\t<div class="edit-column-title  edit-column-right">\r\n\t\t\t\t<div class="thin-blue-line"></div><span class="title-with-line">${config.rightColumnTitle}</span>\r\n\t\t\t</div>\r\n\t\t\t<div class="edit-column-right  full-height">\r\n\t\t\t\t<div class="edit-field--searcher  ${rightFilterHasFocus ? \'edit-field--searcher--focus\' : \'\'}">\r\n\t\t\t\t\t<input type="text" value.bind="choosenFieldsFilter" input.delegate="searchChoosenFields()"\r\n\t\t\t\t\t\tplaceholder="${msg.Search}" focus.trigger="focusRightFilter()" blur.trigger="blurRightFilter()"\r\n\t\t\t\t\t\tref="rightFilterInput" />\r\n\t\t\t\t\t<div class="buttonsCont sprite-icon control-icon" icon="SelectorN" type="sel"\r\n\t\t\t\t\t\tclick.trigger="searchChoosenFields()">\r\n\t\t\t\t\t\t<div class="control-icon-img control-SelectorN">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="edit-column-content" drop.delegate="processDropOnColumn($event, \'choosen\')"\r\n\t\t\t\t\tdragend.delegate="processDragEnd($event)"\r\n\t\t\t\t\tdragover.delegate="processDragOver($event,\'choosen\', undefined, true)"\r\n\t\t\t\t\tdragleave.delegate="processDragLeave($event,\'choosen\')" ref="rightColumnElement">\r\n\t\t\t\t\t<div repeat.for="parentField of currentChoosenFields">\r\n\t\t\t\t\t\t<qp-edit-field-parent if.bind="$parent.config.showHierarchy" config.bind="parentField"\r\n\t\t\t\t\t\t\tdrag-col-type.bind="$parent.dragInfo.colType">\r\n\t\t\t\t\t\t</qp-edit-field-parent>\r\n\t\t\t\t\t\t<div repeat.for="childField of parentField.children">\r\n\t\t\t\t\t\t\t<qp-edit-element config.bind="childField"\r\n\t\t\t\t\t\t\t\tupper-dropzone-id.bind="$parent.$parent.rightDropZoneBeforeId"\r\n\t\t\t\t\t\t\t\tbottom-dropzone-id.bind="$parent.$parent.rightDropZoneAfterId"\r\n\t\t\t\t\t\t\t\tdrag-info.bind="$parent.$parent.dragInfo" options.bind="rightEditFieldOptions"\r\n\t\t\t\t\t\t\t\tactions.bind="rightItemActions">\r\n\t\t\t\t\t\t\t</qp-edit-element>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</qp-edit-dialog>\r\n</template>\r\n'},"client-controls/controls/container/fieldset/qp-fieldset-layout.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-fieldset-layout.css"></require>\r\n\t<div class="qp-fieldset-layout-root v-stack">\r\n\t\t<div repeat.for="row of rows" class="qp-fieldset-layout h-stack ${row.verticalFit ? \'stretch\': \'\'}"\r\n\t\t\tcss="${!!minWidth ? `min-width: ${minWidth};`: \'\'}">\r\n\t\t\t<template repeat.for="field of row.fields">\r\n\t\t\t\t<div class="col-sm-${field.position.small.marginLeftColumns} col-md-${field.position.medium.marginLeftColumns} col-lg-${field.position.large.marginLeftColumns}"></div>\r\n\t\t\t\t<div class="h-stack col-sm-${field.position.small.columns} col-md-${field.position.medium.columns} col-lg-${field.position.large.columns}">\r\n\t\t\t\t\t<div if.bind="useMulti" class="qp-fieldset-layout-checkbox-panel qp-field">\r\n\t\t\t\t\t\t<qp-check-box class="qp-fieldset-layout-checkbox" value.two-way="field.state.enabled"\r\n\t\t\t\t\t\t\tconfig.bind="{ enabled: !field.state.required }"></qp-check-box>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<qp-field class="col-sm-12 col-md-12 col-lg-12" control-id="ed${field.viewName}-${field.name}"\r\n\t\t\t\t\t\tcontrol-type.bind="field.controlType" no-label.bind="field.noLabel"\r\n\t\t\t\t\t\tcontrol-state.bind="field.state">\r\n\t\t\t\t\t</qp-field>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-sm-${field.position.small.marginRightColumns} col-md-${field.position.medium.marginRightColumns} col-lg-${field.position.large.marginRightColumns}"></div>\r\n\t\t\t</template>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/fieldset/qp-fieldset.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="qp-fieldset ${viewMode !== \'edit\' && (!title || captionHidden) ? \'fieldset-titleless\' : \'\'} ${viewMode === \'edit\' ? \'qp-fieldset-configurable\' : \'\'} ${collapsed && (!title || captionHidden) && !hasNotCollapsedFields ? \'fully-collapsed\' : \'\'}" show.bind="fieldsetVisible">\r\n\t<require from="./qp-fieldset.css"></require>\r\n\t<require from="./inline-view"></require>\r\n\t<require from="./qp-fieldset-edit"></require>\r\n\r\n\t<fieldset if.bind="fieldsetVisible" id="${id}" class="${collapsed?\'collapsed\':\'\'}">\r\n\t\t<div if.bind="viewMode === \'edit\' || (title && !captionHidden)" click.delegate="toggleShrinking()" class="qp-fieldset-caption">\r\n\t\t\t<qp-caption caption="${title}" hide-caption.bind="captionHidden"  view-mode.bind="viewMode" hidden-by-prefs.one-way="captionHiddenByPrefs"></qp-caption>\r\n\t\t\t<qp-icon if.bind="title && !captionHidden && collapsible" class="qp-fieldset-toggle" imagesrc="${collapsed ? \'svg:main@treeArrowDown\' : \'svg:main@treeArrowUp\'}"></qp-icon>\r\n\t\t\t<div if.bind="viewMode === \'edit\'" class="qp-fieldset-caption--dots"></div>\r\n\t\t</div>\r\n\r\n\t\t<template if.bind="Fields">\r\n\t\t\t<template repeat.for="df of orderedFields">\r\n\t\t\t\t<let state.bind="getFieldState(df)"></let>\r\n\t\t\t\t<let visible.bind="getFieldVisibility(state.visible, df)"></let>\r\n\t\t\t\t<let size.bind="(!state.suppressLabel && state.displayName) ? controlSize : \'\'"></let>\r\n\t\t\t\t<let view-name="$parent.viewName"></let>\r\n\r\n\t\t\t\t<template if.bind="df.template">\r\n\t\t\t\t\t<inline-view template.bind="df.template" context.bind="$parent.inlineContext"></inline-view>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template else>\r\n\t\t\t\t\t<qp-field if.bind="visible" control-id="ed${df.viewName ? df.viewName : viewName}-${df.name}"\r\n\t\t\t\t\t\tcontrol-type.bind="df.controlType" no-label.bind="df.noLabel"\r\n\t\t\t\t\t\tcontrol-state.bind="state" control-size.bind="size"\r\n\t\t\t\t\t\tcollapsed.one-way="collapsed" pinned.one-way="getFieldPinned(df)"\r\n\t\t\t\t\t\ttab-index.one-way="getFieldTabIndex(df)">\r\n\t\t\t\t\t</qp-field>\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t</template>\r\n\r\n\t\t<template if.bind="!Fields && view">\r\n\t\t\t<template repeat.for="df of DynamicFields">\r\n\t\t\t\t<let state.bind="fields.get(df.name)"></let>\r\n\r\n\t\t\t\t<template if.bind="replaceElements.has(df.name)">\r\n\t\t\t\t\t<inline-view template.bind="replaceElements.get(df.name)" context.bind="$parent.inlineContext"></inline-view>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t\t<template else>\r\n\t\t\t\t\t<template if.bind="$first && insertElements.has(\'\')">\r\n\t\t\t\t\t\t<inline-view template.bind="insertElements.get(\'\')" context.bind="$parent.inlineContext"></inline-view>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<let visible.bind="getFieldVisibility(state.visible, df)"></let>\r\n\t\t\t\t\t<let size.bind="(!state.suppressLabel && state.displayName) ? controlSize : \'\'"></let>\r\n\r\n\t\t\t\t\t<template if.bind="state.template">\r\n\t\t\t\t\t\t<inline-view template.bind="state.template" context.bind="view"></inline-view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t<qp-field control-id="ed${viewName.replace(\'$\', \'_\')}-${df.name}" if.bind="visible"\r\n\t\t\t\t\t\t\tcontrol-state.bind="state" control-size.bind="size"\r\n\t\t\t\t\t\t\tcollapsed.one-way="collapsed" pinned.one-way="getFieldPinned(df)"\r\n\t\t\t\t\t\t\ttab-index.one-way="getFieldTabIndex(df)">\r\n\t\t\t\t\t\t</qp-field>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<template if.bind="insertElements.has(df.name)">\r\n\t\t\t\t\t\t<inline-view template.bind="insertElements.get(df.name)" context.bind="$parent.inlineContext"></inline-view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t</template>\r\n\r\n\t\t<template if.bind="!Fields && !view" replaceable part="content">\r\n\t\t</template>\r\n\t</fieldset>\r\n\r\n\t<div class="qp-fieldset-icon" if.bind="viewMode === \'edit\'" click.delegate="showEditDialog()">\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/inline-field/qp-inline-field.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="qp-inline-field ${(isDisabled || controlState.type == 3) ? \'marker\' : ((controlType || defaultControlType) + \'-inline\')}">\r\n\t<require from="./qp-inline-field.css"></require>\r\n\t<div if.bind="isDisabled || controlState.type == 3"\r\n\t\tclass="focus-marker" focus-elem tabindex="0" click.delegate="processCheckBoxClick($event)"\r\n\t\tkeydown.delegate="processCheckBoxKeyDown($event)">\r\n\t</div>\r\n\t<enhanced-compose else class="control-wrapper" view-model.bind="controlType || defaultControlType"\r\n\t\tconfig.bind="controlConfig" state.bind="controlState" value.two-way="controlState.value">\r\n\t</enhanced-compose>\r\n</template>\r\n'},"client-controls/controls/container/resizer/qp-resizer.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../../styles.scss"></require>\r\n\t<require from="./qp-resizer.scss"></require>\r\n\r\n\t<div class="qp-resizer ${invisibleValue ? \' qp-resizer--invisible\' : \'\'}${disabledValue ? \' qp-resizer--disabled\' : \'\'}" css="${cssPosition}${styleValue}">\r\n\t\t<div class="qp-resizer__container" css="${cssPosition}">\r\n\t\t\t<div class="qp-resizer__content" ref="contentElement">\r\n\t\t\t\t<slot></slot>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclass="qp-resizer__dragger"\r\n\t\t\t\taria-grabbed="${isDragged}"\r\n\t\t\t\tref="draggerElement"\r\n\t\t\t\tpointerdown.delegate="onStartMoving($event)"\r\n\t\t\t>\r\n\t\t\t\t<div class="qp-resizer__icon">\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@dragdropMarkFlat"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/splitter/qp-splitter.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../../styles.scss"></require>\r\n\t<require from="./qp-splitter.css"></require>\r\n\r\n\t<div class="qp-splitter qp-splitter-${splitValue}${fadingValue ? \' qp-splitter--fading\' : \'\'}${invisibleValue ? \' qp-splitter--invisible\' : \'\'}${disabledValue ? \' qp-splitter--disabled\' : \'\'}${reversedValue ? \' qp-splitter--reversed\' : \'\'}${unmarginValue ? \' qp-splitter--unmargin\' : \'\'}" css="${styleValue}" ref="layoutElement">\r\n\t\t<div class="qp-splitter-first" ref="firstElement" css="${reversedValue ? \'\' : cssPosition} ${firstPaneDisplayed ? \'\' : cssCollapse}">\r\n\t\t\t<div if.bind="firstHeaderDisplayed" click.delegate="toggleCollapseFirst()" class="qp-fieldset-caption">\r\n\t\t\t\t<div class="qp-caption">${firstHeaderValue}</div>\r\n\t\t\t\t<qp-icon class="qp-fieldset-toggle" imagesrc="svg:main@treeArrowUp"></qp-icon>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-splitter-pane-inner">\r\n\t\t\t\t<slot name="A"></slot>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="qp-splitter-bar" ref="draggerElement"\r\n\t\t\tpointerdown.delegate="startMoving($event)"\r\n\t\t\tpointerup.delegate="stopMoving($event)"\r\n\t\t>\r\n\t\t\t<div class="qp-splitter-line"></div>\r\n\t\t\t<div if.bind="!invisibleValue" class="qp-splitter-buttons">\r\n\t\t\t\t<div class="qp-splitter-button qp-splitter-button-first" if.bind="firstPaneDisplayed && !disableCollapseFirstValue"\r\n\t\t\t\t\tclick.delegate="toggleCollapseFirst()"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div if.bind="secondHeaderDisplayedCollapsed" class="qp-caption">${secondHeaderValue}</div>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowDown"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="qp-splitter-button qp-splitter-dragdrop" if.bind="eachPaneDisplayed"\r\n\t\t\t\t>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@dragdropMarkFlat"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="qp-splitter-button qp-splitter-button-second" if.bind="secondPaneDisplayed && !disableCollapseSecondValue"\r\n\t\t\t\t\tclick.delegate="toggleCollapseSecond()"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div if.bind="firstHeaderDisplayedCollapsed" class="qp-caption">${firstHeaderValue}</div>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowDown"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-splitter-line"></div>\r\n\t\t</div>\r\n\t\t<div class="qp-splitter-second" css="${reversedValue ? cssPosition : \'\'} ${ secondPaneDisplayed ? \'\' : cssCollapse };">\r\n\t\t\t<div if.bind="secondHeaderDisplayed" click.delegate="toggleCollapseSecond()" class="qp-fieldset-caption">\r\n\t\t\t\t<div class="qp-caption">${secondHeaderValue}</div>\r\n\t\t\t\t<qp-icon class="qp-fieldset-toggle" imagesrc="svg:main@treeArrowDown"></qp-icon>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-splitter-pane-inner">\r\n\t\t\t\t<slot name="B"></slot>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/tabbar/qp-tabbar-edit.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template id="tabbar-edit-form">\r\n\t<require from="../../dialog/edit-dialog-base/qp-edit-dialog"></require>\r\n\t<require from="./qp-tabbar-edit.css"></require>\r\n\t<require from="../../dialog/edit-dialog-base/qp-edit-element"></require>\r\n\t<qp-edit-dialog dialog-config.bind="baseDialogConfig">\r\n\t\t<div class="edit-section">\r\n\t\t\t<div class="edit-section-title">\r\n\t\t\t\t<div class="thin-blue-line"></div><span class="title-with-line">${config.topSectionTitle}</span>\r\n\t\t\t</div>\r\n\t\t\t<div class="edit-section-content  ${visibleTabs.length === 0?\'edit-section-empty\'+(topDropZone.sectionZoneActive?\'edit-section-dropzone\':\'\'):\'\'}"\r\n\t\t\t\tdrop.delegate="processDropOnSection($event, \'choosen\')" dragend.delegate="processDragEnd($event)"\r\n\t\t\t\tdragover.delegate="processDragOver($event,\'choosen\', undefined, true)"\r\n\t\t\t\tdragleave.delegate="processDragLeave($event,\'choosen\')" ref="topSectionElement">\r\n\t\t\t\t<div repeat.for="tab of visibleTabs">\r\n\t\t\t\t\t<qp-edit-element config.bind="tab" upper-dropzone-id.bind="$parent.topDropZone.beforeId"\r\n\t\t\t\t\t\tbottom-dropzone-id.bind="$parent.topDropZone.afterId" drag-info.bind="$parent.dragInfo"\r\n\t\t\t\t\t\toptions.bind="topItemOptions" actions.bind="topItemActions">\r\n\t\t\t\t\t</qp-edit-element>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="edit-section  edit-section-bottom">\r\n\t\t\t<div class="edit-section-title">\r\n\t\t\t\t<div class="thin-blue-line"></div><span class="title-with-line">${config.bottomSectionTitle}</span>\r\n\t\t\t</div>\r\n\t\t\t<div class="edit-section-content  edit-section-content-bottom  ${hiddenTabs.length === 0?\'edit-section-empty\'+(bottomDropZone.sectionZoneActive?\'  edit-section-dropzone\':\'\'):\'\'}"\r\n\t\t\t\tdrop.delegate="processDropOnSection($event, \'available\')" dragend.delegate="processDragEnd($event)"\r\n\t\t\t\tdragover.delegate="processDragOver($event,\'available\', undefined, true)"\r\n\t\t\t\tdragleave.delegate="processDragLeave($event,\'available\')" ref="bottomSectionElement">\r\n\t\t\t\t<div repeat.for="tab of hiddenTabs">\r\n\t\t\t\t\t<qp-edit-element config.bind="tab" upper-dropzone-id.bind="$parent.bottomDropZone.beforeId"\r\n\t\t\t\t\t\tbottom-dropzone-id.bind="$parent.bottomDropZone.afterId" drag-info.bind="$parent.dragInfo"\r\n\t\t\t\t\t\toptions.bind="bottomItemOptions" actions.bind="bottomItemActions">\r\n\t\t\t\t\t</qp-edit-element>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</qp-edit-dialog>\r\n</template>\r\n'},"client-controls/controls/container/tabbar/qp-tabbar.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-tabbar.css"></require>\r\n\t<require from="./qp-tab"></require>\r\n\r\n\t<div class="qp-tabbar" id="${config.id}_tabbar">\r\n\t\t<div class="qp-tabbar-header" sticky sticky-always>\r\n\t\t\t<div class="qp-tabbar-wrapper" ref="headerElement">\r\n\t\t\t\t<div repeat.for="tab of renderedTabs"\r\n\t\t\t\t\tclass="tab-header-container  ${$parent.visibleDropZone.afterId === tab.id?\'tab-header-container-reverse\':\'\'} ${tab.isEmpty ? \'qp-tab-empty\': \'\'}">\r\n\t\t\t\t\t<div if.bind="$parent.visibleDropZone.beforeId === tab.id || $parent.visibleDropZone.afterId === tab.id"\r\n\t\t\t\t\t\tclass="qp-tabbar-dropzone  ${$parent.visibleDropZone.afterId === tab.id?\'qp-tabbar-dropzone-after\':\'qp-tabbar-dropzone-before\'}">\r\n\t\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowDown" class="qp-tabbar-dropzone-down"></qp-icon>\r\n\t\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowUp" class="qp-tabbar-dropzone-up"></qp-icon>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id="${config.id}_${tab.id}_tabbar"\r\n\t\t\t\t\t\tclass="qp-tabbar-tab  ${tab.id===hoveringTabId ? \'qp-tabbar-hover\' : \'\'}  ${tab.id===activeId ? \'qp-tabbar-active\' : \'\'}  ${tab.id===draggableTab.id && dragStarted ? \'qp-tabbar-dragged-source\' : \'\'}  ${getErrorStyle(tab.errorInfo)}"\r\n\t\t\t\t\t\ttabid.bind="tab.id & attr" ref="tab.headerHost" click.delegate="showTab(tab.id)"\r\n\t\t\t\t\t\tpointerenter.trigger="onPointerEnter(tab.id)" pointerleave.trigger="onPointerLeave(tab.id)"\r\n\t\t\t\t\t\tpointerdown.delegate="onPointerDown($event, tab)">\r\n\t\t\t\t\t\t<qp-icon if.bind="tab.errorInfo.level > 1" imagesrc="svg:${getErrorIcon(tab.errorInfo)}" class="tab-header--icon"></qp-icon>\r\n\t\t\t\t\t\t<div class="${tab.errorInfo.level > 1 ? \'tab-header--with-error\' : \'\'}">${tab.captionText}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div show.bind="dragStarted" class="dragged-floater" ref="dragElement"\r\n\t\t\t\t\tcss="top: ${dragFloaterRect.top}px; left:${dragFloaterRect.left}px">\r\n\t\t\t\t\t${draggableTab.captionText}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="right-tab-part" css="margin-left: ${rightTabPartMargin + 16}px" ref="rightTabPart">\r\n\t\t\t\t<div if.bind="rightTabHeader" class="tab-header-container ${rightTabHeader.isEmpty ? \'qp-tab-empty\': \'\'}">\r\n\t\t\t\t\t<div id="${config.id}_${rightTabHeader.id}_tabbar"\r\n\t\t\t\t\t\tclass="qp-tabbar-tab  ${rightTabHeader.id===hoveringTabId ? \'qp-tabbar-hover\' : \'\'}  ${rightTabHeader.id===activeId && rightTabHeader.id!==draggableTab.id ? \'qp-tabbar-active\' : \'\'}  ${rightTabHeader.id===draggableTab.id && dragStarted ? \'qp-tabbar-dragged-source\' : \'\'}  ${getErrorStyle(rightTabHeader.errorInfo)}"\r\n\t\t\t\t\t\tref="rightTabHeader.headerHost" click.delegate="showTab(rightTabHeader.id)"\r\n\t\t\t\t\t\tpointerenter.trigger="onPointerEnter(rightTabHeader.id)"\r\n\t\t\t\t\t\tpointerleave.trigger="onPointerLeave(rightTabHeader.id)"\r\n\t\t\t\t\t\tpointerdown.delegate="onPointerDown($event, rightTabHeader)">\r\n\t\t\t\t\t\t<qp-icon if.bind="rightTabHeader.errorInfo.level > 1" imagesrc="svg:${getErrorIcon(rightTabHeader.errorInfo)}"\r\n\t\t\t\t\t\t\tclass="tab-header--icon" pointerenter.trigger="onPointerEnter(rightTabHeader.id)"\r\n\t\t\t\t\t\t\tpointerleave.trigger="onPointerLeave(rightTabHeader.id)"></qp-icon>\r\n\t\t\t\t\t\t<div class="${rightTabHeader.errorInfo.level > 1 ? \'tab-header--with-error\' : \'\'}"\r\n\t\t\t\t\t\t\tpointerenter.trigger="onPointerEnter(rightTabHeader.id)"\r\n\t\t\t\t\t\t\tpointerleave.trigger="onPointerLeave(rightTabHeader.id)">\r\n\t\t\t\t\t\t\t${rightTabHeader.captionText}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div show.bind="dotsVisible || dragStarted" ref="menuOpener"\r\n\t\t\t\t\tcss="top: ${dragFloaterRect.top}; left: ${dragFloaterRect.left}"\r\n\t\t\t\t\tdragover.delegate="dotsDragOver($event, tab)"\r\n\t\t\t\t\tpointerenter.trigger="onDotsPointerEnter()"\r\n\t\t\t\t\tpointerleave.trigger="onDotsPointerLeave()"\r\n\t\t\t\t\tclass="qp-tabbar-opener ${menuOpened ? \'qp-tabbar-opened\': \'\'}  ${getErrorStyle(hiddenTabsError)}  ${dotsHovering ? \'qp-tabbar-opener--hover\': \'\'}"\r\n\t\t\t\t\tpointerdown.capture="toggleMenu($event)">\r\n\t\t\t\t\t<qp-icon if.bind="hiddenTabsError.level > 1" imagesrc="svg:${getErrorIcon(hiddenTabsError)}" class="tab-header--icon"></qp-icon>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@ellipsis" class="qp-tabbar-opener--ellipsis"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="${config.id}_config_opener" class="qp-tabbar-config-icon" if.bind="viewMode === \'edit\'" click.delegate="showEditDialog()">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="right-tab-part-placeholder" css="min-width: ${rightTabPartWidth}px"></div>\r\n\t\t</div>\r\n\t\t<div class="qp-tabbar-content" id="${config.id}_${activeId}_content">\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\r\n\t<div if.bind="menuOpened" class="qp-tabbar-shadow" pointerdown.delegate="toggleMenu($event)" ref="tabbarMenu">\r\n\t\t<div glue-to.bind="menuOpener" portal class="qp-tabbar-menu" pointerdown.delegate="onMenuClick($event)"\r\n\t\t\tscroll.trigger="onMenuScroll($event)">\r\n\t\t\t<div repeat.for="tab of hiddenHeaders"\r\n\t\t\t\tclass="hidden-tab-header-container  ${$parent.hiddenDropZone.afterId === tab.id?\'hidden-tab-header-container-reverse\':\'\'} ${tab.isEmpty ? \'qp-tab-empty\': \'\'}">\r\n\t\t\t\t<div if.bind="$parent.hiddenDropZone.beforeId === tab.id || $parent.hiddenDropZone.afterId === tab.id"\r\n\t\t\t\t\tclass="qp-tabbar-hidden-dropzone  ${$parent.hiddenDropZone.afterId === tab.id?\'qp-tabbar-hidden-dropzone-after\':\'qp-tabbar-hidden-dropzone-before\'}">\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowRight" class="qp-tabbar-dropzone-right"></qp-icon>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowLeft" class="qp-tabbar-dropzone-left"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ref="tab.headerHost" tabid.bind="tab.id & attr" id="${config.id}_${tab.id}_hidden"\r\n\t\t\t\t\tclass="qp-tabbar-menu-item  ${tab.id===hoveringTabId ? \'qp-tabbar-menu-item-hover\' : \'\'}  ${getErrorStyle(tab.errorInfo)}"\r\n\t\t\t\t\tclick.delegate="showTab(tab.id)" pointerenter.trigger="onPointerEnter(tab.id)"\r\n\t\t\t\t\tpointerleave.trigger="onPointerLeave(tab.id)" pointerdown.delegate="onPointerDown($event, tab)">\r\n\t\t\t\t\t<div class="${tab.errorInfo.level > 1 ? \'tab-header--with-error\' : \'\'}">${tab.captionText}</div>\r\n\t\t\t\t\t<qp-icon if.bind="tab.errorInfo.level > 1" imagesrc="svg:${getErrorIcon(tab.errorInfo)}" class="tab-header--icon"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="(userHiddenHeadersAvailable || dragStarted) && hiddenHeaders.length > 0" class="tabbar-menu--separator--margin">\r\n\t\t\t\t<div>&nbsp;</div>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="userHiddenHeadersAvailable || dragStarted" class="tabbar-menu--separator">\r\n\t\t\t\t${msg.TabConfigurationHiddenTabs}\r\n\t\t\t</div>\r\n\t\t\t<div repeat.for="tab of userHiddenHeaders"\r\n\t\t\t\tclass="hidden-tab-header-container  ${$parent.userHiddenDropZone.afterId === tab.id?\'hidden-tab-header-container-reverse\':\'\'} ${tab.isEmpty ? \'qp-tab-empty\': \'\'}">\r\n\t\t\t\t<div if.bind="$parent.userHiddenDropZone.beforeId === tab.id || $parent.userHiddenDropZone.afterId === tab.id"\r\n\t\t\t\t\tclass="qp-tabbar-hidden-dropzone  ${$parent.userHiddenDropZone.afterId === tab.id?\'qp-tabbar-hidden-dropzone-after\':\'qp-tabbar-hidden-dropzone-before\'}">\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowRight" class="qp-tabbar-dropzone-right"></qp-icon>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowLeft" class="qp-tabbar-dropzone-left"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ref="tab.headerHost" tabid.bind="tab.id & attr" id="${config.id}_${tab.id}_hidden"\r\n\t\t\t\t\tclass="qp-tabbar-menu-item  ${tab.id===hoveringTabId ? \'qp-tabbar-menu-item-hover\' : \'\'}  ${getErrorStyle(tab.errorInfo)}"\r\n\t\t\t\t\tclick.delegate="showTab(tab.id)" pointerenter.trigger="onPointerEnter(tab.id)"\r\n\t\t\t\t\tpointerleave.trigger="onPointerLeave(tab.id)" pointerdown.delegate="onPointerDown($event, tab)">\r\n\t\t\t\t\t<div class="${tab.errorInfo.level > 1 ? \'tab-header--with-error\' : \'\'}">${tab.captionText}</div>\r\n\t\t\t\t\t<qp-icon if.bind="tab.errorInfo.level > 1" imagesrc="svg:${getErrorIcon(tab.errorInfo)}" class="tab-header--icon"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="userHiddenHeaders.length === 0 && dragStarted" class="tabbar-menu--blank"\r\n\t\t\t\tref="menuBlankElement">\r\n\t\t\t\t<div if.bind="hiddenEmptyDropZoneActive"\r\n\t\t\t\t\tclass="qp-tabbar-hidden-dropzone  qp-tabbar-hidden-dropzone-empty">\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowRight" class="qp-tabbar-dropzone-right"></qp-icon>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowLeft" class="qp-tabbar-dropzone-left"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/wizard/qp-wizard.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-wizard.css"></require>\r\n\t<require from="../tabbar/qp-tab"></require>\r\n\r\n\t<div class="qp-wizard" style="height: 100%;" id.bind="id & attr">\r\n\t\t<div class="qp-wizard-body">\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t\t<div class="qp-wizard-footer">\r\n\t\t\t<qp-button config.bind="{ id: id+\'_cancel_btn\', text: (config.buttons && config.buttons.cancel) || Msg.Cancel, hidden: false, action: config.cancelCommand}"\r\n\t\t\tclick.delegate="processCancel()"></qp-button>\r\n\t\t\t<qp-button config.bind="{ id: id+\'_prev_btn\', text: (config.buttons && config.buttons.prev) || Msg.Previous, hidden: false, disabled: !tabs.length || activeTabId===tabs[0].id, action: config.prevCommand}"\r\n\t\t\tclick.delegate="processPrev()"></qp-button>\r\n\t\t\t<qp-button class="major-button" config.bind="{ id: id+\'_next_btn\', text: (config.buttons && config.buttons.next) || Msg.Next, disabled: config.disableNext, hidden: !tabs.length || activeTabId===tabs[tabs.length-1].id, action: config.nextCommand }"\r\n\t\t\tclick.delegate="processNext()"></qp-button>\r\n\t\t\t<qp-button class="major-button" config.bind="{ id: id+\'_save_btn\', text: (config.buttons && config.buttons.done) || Msg.Done, hidden: !tabs.length || activeTabId!==tabs[tabs.length-1].id, action: config.saveCommand }"\r\n\t\t\tclick.delegate="processSave()"></qp-button>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/dialog/alert/qp-alert.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../base-dialog/movable"></require>\r\n\t<require from="../base-dialog/base-dialog.css"></require>\r\n\t<require from="./qp-alert-dialog.css"></require>\r\n\r\n\t<ux-dialog class="dialog qp-dialog qp-alert-dialog" ref="dialogElement" id="messageBox">\r\n\t\t<ux-dialog-header if.bind="!config.hideHeader" show-close-button.bind="false">\r\n\t\t\t<div class="qp-dialog-header" movable.bind="dialogElement">\r\n\t\t\t\t<div class="qp-dialog-title">${config ? config.title : \'\'}</div>\r\n\t\t\t\t<qp-icon if.bind="!hideCloseButton" class="qp-dialog-close" imagesrc="svg:main@close"\r\n\t\t\t\t\tclick.delegate="controller.cancel({force:true})" pointerdown.capture="stopProcessing($event)">\r\n\t\t\t\t</qp-icon>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-header>\r\n\t\t<ux-dialog-body>\r\n\t\t\t<div>\r\n\t\t\t\t<p>${config.message}</p>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-body>\r\n\t\t<ux-dialog-footer class="qp-dialog-footer">\r\n\t\t\t<div if.bind="config.buttons === alertButtons.Ok">\r\n\t\t\t\t<qp-button class="major-button" click.delegate="controller.ok(config.okButtonResult || alertResults.Confirm)" config.bind="{ id: \'messageBox_btnOk\', text: config.okButtonText || Msg.Confirm, hidden: false}"></qp-button>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="config.buttons === alertButtons.OkCancel">\r\n\t\t\t\t<qp-button class="major-button" click.delegate="controller.ok(config.okButtonResult || alertResults.Confirm)" config.bind="{ id: \'messageBox_btnOk\', text: config.okButtonText || Msg.Confirm, hidden: false}"></qp-button>\r\n\t\t\t\t<qp-button click.delegate="controller.cancel()" config.bind="{ id: \'messageBox_btnCancel\', text: config.cancelButtonText || Msg.Cancel}"></qp-button>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="config.buttons === alertButtons.YesNo">\r\n\t\t\t\t<qp-button class="major-button" click.delegate="controller.ok(config.yesButtonResult || alertResults.Yes)" config.bind="{ id: \'messageBox_btnYes\', text: config.yesButtonText || Msg.Yes, hidden: false}"></qp-button>\r\n\t\t\t\t<qp-button click.delegate="controller.ok(config.noButtonResult || alertResults.No)" config.bind="{ id: \'messageBox_btnNo\', text: config.noButtonText || Msg.No, hidden: false}"></qp-button>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="config.buttons === alertButtons.YesNoCancel">\r\n\t\t\t\t<qp-button class="major-button" click.delegate="controller.ok(config.yesButtonResult || alertResults.Yes)" config.bind="{ id: \'messageBox_btnYes\', text: config.yesButtonText || Msg.Yes, hidden: false}"></qp-button>\r\n\t\t\t\t<qp-button click.delegate="controller.ok(config.noButtonResult || alertResults.No)" config.bind="{ id: \'messageBox_btnNo\', text: config.noButtonText || Msg.No, hidden: false}"></qp-button>\r\n\t\t\t\t<qp-button click.delegate="controller.cancel()" config.bind="{ id: \'messageBox_btnCancel\', text: config.cancelButtonText || Msg.Cancel}"></qp-button>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="!config.buttons">\r\n\t\t\t\t<qp-button class="major-button" click.delegate="controller.ok(config.okButtonResult || alertResults.Confirm)"\r\n\t\t\t\t\tconfig.bind="{ id: \'messageBox_btnOk\', text: config.okButtonText || Msg.Confirm, hidden: false}">\r\n\t\t\t\t</qp-button>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-footer>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/dialog/base-dialog/qp-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./base-dialog.css"></require>\r\n\t<require from="../../container/fieldset/inline-view"></require>\r\n\t<require from="./qp-resizable"></require>\r\n\t<require from="./movable"></require>\r\n\r\n\t<ux-dialog class="dialog qp-dialog ${config.cssClass ? config.cssClass : (!width ? \'col-sm-12 col-md-6 col-lg-4\' : \'\')} ${(height || maximized) ? \'\' : \'qp-dialog--auto-height\'}"\r\n\t\tid="${config.id || config.templateId}" closedialog.capture="controller.cancel()" savedialog.capture="controller.ok()"\r\n\t\tchangeconfig.capture="processChangeConfig($event)" ref="dialogElement" css="--qp-dialog-offset: ${offsetTop}; width: ${resizerVM.width}">\r\n\t\t<qp-resizable element.bind="element"\r\n\t\t\tmaximized.bind="maximized" width.bind="width" height.bind="height"\r\n\t\t\tresizable-config.bind = "config.resizableConfig"\r\n\t\t\thide-maximizer.bind="config.hideMaximizer"\r\n\t\t\tview-model.ref="resizerVM">\r\n\t\t\t<ux-dialog-header if.bind="!config.hideHeader" show-close-button.bind="false">\r\n\t\t\t\t<div class="qp-dialog-header" movable.bind="dialogElement" dblclick.delegate="maximize()">\r\n\t\t\t\t\t<div class="qp-dialog-title">\r\n\t\t\t\t\t\t${config.caption}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<qp-icon if.bind="!config.hideMaximizer" class="qp-dialog-maximize" imagesrc="svg:main@fullscreen"\r\n\t\t\t\t\t\tid="${config.id || config.templateId}_maximizer"\r\n\t\t\t\t\t\tclick.delegate="maximize()" pointerdown.capture="stopProcessing($event)">\r\n\t\t\t\t\t</qp-icon>\r\n\t\t\t\t\t<qp-icon if.bind="!config.hideCloseButton" class="qp-dialog-close" imagesrc="svg:main@close"\r\n\t\t\t\t\t\tid="${config.id || config.templateId}_closer"\r\n\t\t\t\t\t\tclick.delegate="controller.cancel({force:true})" pointerdown.capture="stopProcessing($event)">\r\n\t\t\t\t\t</qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</ux-dialog-header>\r\n\t\t\t<ux-dialog-body>\r\n\t\t\t\t<div class="dialog-body-content v-stack">\r\n\t\t\t\t\t<template if.bind="!!template">\r\n\t\t\t\t\t\t<inline-view template.bind="template" context.bind="config.context"></inline-view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t<compose view-model.bind="config.templateViewModel" model.bind="config.context" view-model.ref="viewModelCompose" containerless></compose>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</div>\r\n\t\t\t</ux-dialog-body>\r\n\t\t\t<ux-dialog-footer if.bind="footerTemplate">\r\n\t\t\t\t<div class="dialog-footer-content">\r\n\t\t\t\t\t<inline-view template.bind="footerTemplate" context.bind="config.context" context-container="false">\r\n\t\t\t\t</inline-view>\r\n\t\t\t\t</div>\r\n\t\t\t</ux-dialog-footer>\r\n\t\t</qp-resizable>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/dialog/base-dialog/qp-resizable.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-resizable.css"></require>\r\n\t<div class="qp-resizable ${ maximized ? \'qp-resizable-maximized\' : \'\' }"\r\n\t     ref="resizableElement" css="width: ${width}; height: ${height}">\r\n\t\t<div class="qp-rz qp-rz-nw" pointerdown.delegate="startResizing(\'nw\', $event)"></div>\r\n\t\t<div class="qp-rz qp-rz-n" pointerdown.delegate="startResizing(\'n\', $event)"></div>\r\n\t\t<div class="qp-rz qp-rz-ne" pointerdown.delegate="startResizing(\'ne\', $event)"></div>\r\n\t\t<div class="qp-rz qp-rz-w" pointerdown.delegate="startResizing(\'w\', $event)"></div>\r\n\t\t<div class="qp-rz-center">\r\n\t\t\t<template replaceable part="content"></template>\r\n\t\t</div>\r\n\t\t<div class="qp-rz qp-rz-e" pointerdown.delegate="startResizing(\'e\', $event)"></div>\r\n\t\t<div class="qp-rz qp-rz-sw" pointerdown.delegate="startResizing(\'sw\', $event)"></div>\r\n\t\t<div class="qp-rz qp-rz-s" pointerdown.delegate="startResizing(\'s\', $event)"></div>\r\n\t\t<div class="qp-rz qp-rz-se" pointerdown.delegate="startResizing(\'se\', $event)"></div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/dialog/edit-dialog-base/qp-edit-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-edit-dialog.css"></require>\r\n\t<require from="../base-dialog/movable"></require>\r\n\t<ux-dialog class="dialog  edit-dialog" ref="dialogElement">\r\n\t\t<ux-dialog-header class="edit-dialog-header" movable.bind="dialogElement"\r\n\t\t\tshow-close-button.bind="false" ref="headerElement">\r\n\t\t\t<span>${dialogConfig.dialogTitle}</span>\r\n\t\t\t<qp-icon class="qp-dialog-close" imagesrc="svg:main@close" pointerdown.capture="close()"></qp-icon>\r\n\t\t</ux-dialog-header>\r\n\r\n\t\t<ux-dialog-body>\r\n\t\t\t<div class="edit-container  ${dialogConfig.containerClass}">\r\n\t\t\t\t<template replaceable part="content"></template>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-body>\r\n\r\n\t\t<ux-dialog-footer class="edit-footer">\r\n\t\t\t<div>\r\n\t\t\t\t<qp-button class="f_secondary" click.delegate="resetConfigurationToDefault()"\r\n\t\t\t\t\tconfig.bind="resetToDefaultButtonConfig"></qp-button>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<qp-button click.delegate="applyConfiguration()" config.bind="applyButtonConfig"></qp-button>\r\n\t\t\t\t<qp-button click.delegate="close()" config.bind="cancelButtonConfig"></qp-button>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-footer>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/dialog/edit-dialog-base/qp-edit-element.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-edit-element.css"></require>\r\n\t<div dragover.delegate="processDragOver($event)" dragleave.delegate="processDragLeave($event)" draggable="true"\r\n\t\tdragstart.delegate="processDragStart($event)" drop.delegate="processDrop($event)" ref="element"\r\n\t\tclass="edit-element-container  ${bottomDropzoneVisible ? \'edit-element-container--reverse\' : \'\'}">\r\n\t\t<div ref="dropZoneElement" if.bind="bottomDropzoneVisible || upperDropzoneVisible" class="edit-element-dropzone">\r\n\t\t</div>\r\n\t\t<div class="edit-element  ${active ? \'edit-element--active\' : \'\'}" mouseenter.trigger="activate($event)"\r\n\t\t\tmouseleave.trigger="deactivate($event)" click.delegate="processClick($event)">\r\n\t\t\t<div class="edit-element--group">\r\n\t\t\t\t<div class="edit-element-icon--container">\r\n\t\t\t\t\t<qp-icon class="edit-element-icon" imagesrc="svg:main@grabber" if.bind="active"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="edit-element-content"\r\n\t\t\t\t\tcss="width: calc(326px - ${(actionsAreVisible ? actions.length * 24 + 8 : 0) + \'px\'}">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass="edit--element-name  edit--text  edit--text-m  ${options.showRequired && config.required ? \'req-l\': \'\'}">\r\n\t\t\t\t\t\t${config.name}</div>\r\n\t\t\t\t\t<div if.bind="options.showItemId" class="edit--element-id  edit--text  edit--text-s">${config.id}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="edit-element--group  edit-element--toolbar" if.bind="actionsAreVisible">\r\n\t\t\t\t<div repeat.for="action of actions" class="edit-element-icon--container ${action.getState($parent.config)}"\r\n\t\t\t\t\tclick.delegate="processAction($event, action)">\r\n\t\t\t\t\t<qp-icon\r\n\t\t\t\t\t\tclass="edit-element-icon  ${action.isEnabled($parent.active, $parent.config) && !action.isReadonly($parent.config)? \'\' : \'edit-element-icon--disabled\'}  ${action.className}"\r\n\t\t\t\t\t\timagesrc.bind="action.getIcon($parent.config)"\r\n\t\t\t\t\t\tif.bind="action.isVisible($parent.active, $parent.config)">\r\n\t\t\t\t\t</qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/dialog/informer/qp-informer-rack.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-informer"></require>\r\n\t<div id=\'__qp-informers-rack\' class=\'qp-informer-rack\'>\r\n\t\t<qp-informer repeat.for="msg of messages" config.bind="msg">\r\n\t\t</qp-informer>\r\n\t</div>\r\n</template>'},"client-controls/controls/dialog/informer/qp-informer.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-informer.css"></require>\r\n\r\n\t<div class="qp-infromer qp-status-${config.status} ${closing}"\r\n\tcss="${config.hidden || hidden ? \'display: none;\' : \'\'}">\r\n\t<qp-icon if.bind="config.status==\'error\'" class="qp-status-icon" imagesrc="svg:main@errorExclamation"></qp-icon>\r\n\t<qp-icon if.bind="config.status==\'warning\'" class="qp-status-icon" imagesrc="svg:main@warningExclamationFilled"></qp-icon>\r\n\t<qp-icon if.bind="config.status==\'info\'" class="qp-status-icon" imagesrc="svg:main@checkmark"></qp-icon>\r\n\t<span>${message}</span>\r\n\t\t<qp-icon click.delegate="closeNotification($event)" class="qp-close-icon" imagesrc="main@RecordDel"></qp-icon>\r\n\t</div>\r\n\r\n</template>\r\n'},"client-controls/controls/dialog/long-run/qp-long-run.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-long-run.css"></require>\r\n\r\n\t<div show.bind="config.status===\'inprocess\' && !config.switchedOff"\r\n\tclass="qp-lr qp-status-${config.status}" id="${config.id}"\r\n\tcss="${config.hidden ? \'display: none;\' : \'\'}"\r\n\tref="inprocElement">\r\n\t\t<qp-icon class="qp-status-icon" imagesrc="svg:main@spinner"></qp-icon>\r\n\t\t<span repeat.for="message of LongRunMessages">${message}</span>\r\n\t\t<span class="qp-lr-timer" ref="timeElement" id="${config.id}_timer">${config.longRunCompleted}</span>\r\n\t\t<div class="qp-lr-cancel" id="${config.id}_cancel"\r\n\t\tclick.delegate="stopProcessing($event)">Cancel</div>\r\n\t</div>\r\n\r\n\t<div if.bind="config.status===\'aborted\' || config.status===\'completed\' || config.status===\'completedwithwarning\'"\r\n\tshow.bind="!config.switchedOff"\r\n\tclass="qp-lr qp-status-${config.status} ${closing}"\r\n\tcss="${config.hidden || hidden ? \'display: none;\' : \'\'}">\r\n\t\t<qp-icon class="qp-status-icon" imagesrc="svg:main@${iconName}"></qp-icon>\r\n\t\t<span class="qp-lr-message">${config.longRunMessage || (config.status === \'aborted\' ? msg.OperationAborted : msg.OperationCompleted)}</span>\r\n\t\t<qp-icon click.delegate="closeNotification($event)" class="qp-close-icon" imagesrc="main@RecordDel"></qp-icon>\r\n\t</div>\r\n\r\n</template>\r\n'},"client-controls/controls/dialog/processing-dialog/qp-processing-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-processing-dialog.css"></require>\r\n\t<require from="client-controls/controls/container/fieldset/inline-view"></require>\r\n\r\n\t<qp-panel id="processingDialog" class="processing-dialog" caption="Processing" auto-repaint="true">\r\n\t\t<div class="processing-dialog__head-message">\r\n\t\t\t<div class="processing-dialog__head-message-error-icon sprite-icon main-icon" icon="Error" if.bind="warningsOccured || errorsOccured">\r\n\t\t\t\t<div class="main-icon-img ${errorIconClasses}"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class="processing-dialog__processing-message\r\n\t\t\t\t${processingCompleted ? \'processing-dialog__processing-message--completed\' : \'\'}\r\n\t\t\t\t${(processingCompleted && (errors || processingErrorMessage)) ? \'processing-dialog__processing-message--error\' : \'\'}\r\n\t\t\t\t${(processingCompleted && !errors && !processingErrorMessage) ? \'processing-dialog__processing-message--success\' : \'\'}"\r\n\t\t\t\tid="processing_dialog_status_message">\r\n\t\t\t\t<inline-view template.bind="elapsedTime" context.bind="$this" view-model.ref="elapsedTimeView"></inline-view>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class="processing-dialog__progress-bar" css="opacity: ${progressBarVisibility}">\r\n\t\t\t<div class="processing-dialog__progress-bar-percentage\r\n\t\t\t\tprocessing-dialog__progress-bar-percentage--${processingStatus}\r\n\t\t\t\t${processingProgressAnimationStatusClass & debounce}"\r\n\t\t\t\tcss="width: ${percentage}%">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class="processing-dialog__filters ${currentFilter === null ? \'processing-dialog__filters--empty\' : \'\'}">\r\n\t\t\t<div class="processing-dialog__filters-list">\r\n\t\t\t\t<label repeat.for="filter of filtersList" id="processing-dialog_filters_${filter.id}"\r\n\t\t\t\t\tclass="processing-dialog__filters-button\r\n\t\t\t\t\tprocessing-dialog__filters-button--${filter.status}\r\n\t\t\t\t\t${filter.id === currentFilter.id ? \'processing-dialog__filters-button--current\' : \'\'}"\r\n\t\t\t\t\tclick.delegate="toggleFilter(filter)"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class="processing-dialog__filters-button-counter">${filter.counter}</div>\r\n\t\t\t\t\t<div class="processing-dialog__filters-button-label">${filter.label}</div>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class="processing-dialog__results v-stack" show.bind="currentFilter != null">\r\n\t\t\t<qp-grid id="processingViewGrid"\r\n\t\t\t\tv-if="processingGridConfig && processingGridConfig.view"\r\n\t\t\t\tview.bind="view"\r\n\t\t\t\tconfig.bind="processingGridConfig"\r\n\t\t\t\tview-model.ref="processingViewGridVM"\r\n\t\t\t\tclass="stretch">\r\n\t\t\t</qp-grid>\r\n\t\t</div>\r\n\r\n\t\t<div class="processing-dialog__footer">\r\n\t\t\t<let cancel-action.bind="parent.actions.get(\'actioncancelprocessing\')"></let>\r\n\t\t\t<qp-button class="processing-dialog__footer-button" id="${config.id}_cancel" config.bind="cancelConfig"\r\n\t\t\t\tif.bind="cancelAction && cancelAction.visible"\r\n\t\t\t\thidden.bind="!cancelAction.visible"\r\n\t\t\t\tenabled.bind="!!cancelAction.enabled"\r\n\t\t\t\tclick.delegate="closeProcessing()"\r\n\t\t\t></qp-button>\r\n\t\t\t<let close-action.bind="parent.actions.get(\'actioncloseprocessing\')"></let>\r\n\t\t\t<qp-button class="processing-dialog__footer-button" id="${config.id}_close" config.bind="closeConfig"\r\n\t\t\t\tif.bind="closeAction && closeAction.visible"\r\n\t\t\t\thidden.bind="!closeAction.visible"\r\n\t\t\t\tenabled.bind="!!closeAction.enabled"\r\n\t\t\t\tclick.delegate="closeProcessing()"\r\n\t\t\t></qp-button>\r\n\t\t</div>\r\n\t</qp-panel>\r\n\r\n</template>\r\n'},"client-controls/controls/dialog/quick-processing/qp-quick-processing.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-quick-processing.css"></require>\r\n\r\n\t<qp-panel id="ProcessingResults" class="quick-processing" width="310px"\tauto-repaint="true">\r\n\t\t<div id="pnlQuickInfo_cont">\r\n\r\n\t\t\t<div class="quick-processing__messages-list">\r\n\r\n\t\t\t\t<div class="quick-processing__message quick-processing__message--${message.error ? \'error\': \'success\'} ${(messagesSizeChanged && (messagesSize === ($index + 1))) ? \'au-animate animate-expand\' : \'\'}"\r\n\t\t\t\t\trepeat.for="message of messages"\r\n\t\t\t\t>\r\n\t\t\t\t\t<qp-icon class="quick-processing__message-icon"\r\n\t\t\t\t\t\timagesrc.bind="message.error ? \'svg:main@errorExclamation\' : \'svg:main@successCheckFilled\'"\r\n\t\t\t\t\t></qp-icon>\r\n\t\t\t\t\t<template repeat.for="part of message.text">\r\n\t\t\t\t\t\t<span if.bind="part.type === \'text\'" class="quick-processing__message-part">${part.text}</span>\r\n\t\t\t\t\t\t<a if.bind="part.type === \'link\'" href="javascript:void(0)" class="quick-processing__message-part quick-processing__message-part--link"\r\n\t\t\t\t\t\t\tclick.delegate="message.redirectAction()">${part.text}</a>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<br if.bind="message.error" />\r\n\t\t\t\t\t<span if.bind="message.error" class="quick-processing__message-error">${message.error}</span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class="quick-processing__message quick-processing__message--success au-animate animate-expand" if.bind="status === \'completed\'">\r\n\t\t\t\t\t<qp-icon class="quick-processing__message-icon"\r\n\t\t\t\t\t\timagesrc="svg:main@successCheckFilled"\r\n\t\t\t\t\t></qp-icon>\r\n\t\t\t\t\t<span>${Msg.ProcessCompleted}</span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class="quick-processing__message quick-processing__message--error au-animate animate-expand" if.bind="status === \'aborted\'">\r\n\t\t\t\t\t<qp-icon class="quick-processing__message-icon"\r\n\t\t\t\t\t\timagesrc="svg:main@errorExclamation"\r\n\t\t\t\t\t></qp-icon>\r\n\t\t\t\t\t<span>${CompletedMessage || Msg.OperationAborted}</span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div if.bind="status === \'in-progress\'"\r\n\t\t\t\t\tclass="quick-processing__message quick-processing__message--status"\r\n\t\t\t\t>\r\n\t\t\t\t\t<qp-icon class="quick-processing__message-icon quick-processing__message-icon--spinner" imagesrc="svg:main@spinner"></qp-icon>\r\n\t\t\t\t\t<span repeat.for="message of longrunStatusMessagesList">${message}</span>\r\n\t\t\t\t\t<span class="quick-processing__timer" id="${config.id}_timer">${longRunTimerMessage}</span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="quick-processing__footer" show.bind="status === \'in-progress\'">\r\n\t\t\t\t<qp-button class="quick-processing__footer-button" id="${config.id}_cancel" config.bind="cancelConfig"\r\n\t\t\t\t\tclick.delegate="cancel($event)"></qp-button>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t</qp-panel>\r\n\r\n</template>\r\n'},"client-controls/controls/dialog/upload-dialog/qp-upload-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-upload-dialog.scss"></require>\r\n\t<qp-panel id="${config.key}" caption="${config.caption}" width.bind="config.width & attr"\r\n\t\tauto-repaint="false" activate-dialog.trigger="activateDialog($event)" deactivate-dialog.trigger="deactivateDialog($event)">\r\n\t\t<div class="upload-dialog-body v-stack">\r\n\t\t\t<qp-field if.bind="config.renderLink" control-size="size-fit">\r\n\t\t\t\t<qp-radio config.bind="{ id: config.id + \'_type\',\r\n\t\t\t\t\toptions: [{\r\n\t\t\t\t\t\ttext: DialogMessages.RadioUploadFile,\r\n\t\t\t\t\t\tvalue: \'file\'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttext: DialogMessages.RadioLinkFile,\r\n\t\t\t\t\t\tvalue: \'link\'\r\n\t\t\t\t\t}] }" value.two-way="file.type"></qp-checkbox>\r\n\t\t\t</qp-field>\r\n\t\t\t<template if.bind="file.type === \'file\'">\r\n\t\t\t\t<qp-field caption="${DialogMessages.CaptionUploader}" class="upload-field" control-size="size-fit"\r\n\t\t\t\t\tcontrol-id.bind="uploaderConfig.id" control-error-message.bind="controlError.file"\r\n\t\t\t\t\tcontrol-error-level.bind="controlError.file ? PXErrorLevel.Error : PXErrorLevel.Undefined">\r\n\t\t\t\t\t<qp-uploader config.bind="uploaderConfig" value.two-way="uploadedFile">\r\n\t\t\t\t\t\t<div if.bind="!!uploadedFile" class="file-label">\r\n\t\t\t\t\t\t\t<div class="file-label-text">${uploadedFile.name}</div>\r\n\t\t\t\t\t\t\t<qp-icon class="qp-dialog-close" imagesrc="main@Remove"\r\n\t\t\t\t\t\t\t\tclick.delegate="clearUploaded()"></qp-icon>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div else>${uploaderText}</div>\r\n\t\t\t\t\t</qp-uploader>\r\n\t\t\t\t</qp-field>\r\n\t\t\t\t<qp-field if.bind="config.renderComment" control-id.bind="config.id + \'_comment\'" caption="${DialogMessages.CaptionComment}" control-size="size-fit">\r\n\t\t\t\t\t<qp-text-editor config.bind="{ id: config.id + \'_comment\', type: 1, rows: 3 }" value.two-way="file.comment"></qp-text-editor>\r\n\t\t\t\t</qp-field>\r\n\t\t\t</template>\r\n\t\t\t<template else>\r\n\t\t\t\t<qp-field caption="${DialogMessages.CaptionExistingFile}" control-size="size-fit" control-id.bind="config.id + \'_link\'"\r\n\t\t\t\t\tcontrol-error-message.bind="controlError.link" control-error-level.bind="controlError.link ? PXErrorLevel.Error : PXErrorLevel.Undefined">\r\n\t\t\t\t\t<qp-text-editor config.bind="{ id: config.id + \'_link\', type: 0 }" value.two-way="fileLink"></qp-text-editor>\r\n\t\t\t\t</qp-field>\r\n\t\t\t</template>\r\n\t\t\t<template if.bind="config.renderImportOptions">\r\n\t\t\t\t<qp-field control-size="size-fit">\r\n\t\t\t\t\t<qp-check-box config.bind="{ id: config.id + \'_columns\', label: DialogMessages.CheckboxCustomColumns }" value.two-way="importOptions.includeCustomColumns"></qp-checkbox>\r\n\t\t\t\t</qp-field>\r\n\t\t\t\t<qp-field control-size="size-fit">\r\n\t\t\t\t\t<qp-check-box config.bind="{ id: config.id + \'_fullCheck\', label: DialogMessages.CheckboxSchemaCheck }" value.two-way="importOptions.fullSchemaCheck"></qp-checkbox>\r\n\t\t\t\t</qp-field>\r\n\t\t\t</template>\r\n\t\t\t<qp-field if.bind="config.renderCheckIn" control-size="size-fit">\r\n\t\t\t\t<qp-check-box config.bind="{ id: config.id + \'_checkIn\', label: DialogMessages.CheckboxCheckIn }" value.two-way="importOptions.checkIn"></qp-checkbox>\r\n\t\t\t</qp-field>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ id: config.id + \'_btnUpload\', text: DialogMessages.ButtonUpload }" click.delegate="uploadClick($event)"></qp-button>\r\n\t\t\t<qp-button config.bind="{ id: config.id + \'_btnCancel\', dialogResult: 2, text: Messages.Cancel }"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/dialog/workflow-dialog/qp-workflow-dialog.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-workflow-dialog.scss"></require>\r\n\t<qp-panel id="FilterPreview" caption="${config.displayName}"\r\n\t\twidth.bind="config.width & attr" auto-repaint="{ synchronous: true }"\r\n\t\tactivate-dialog.trigger="activateDialog($event)" deactivate-dialog.trigger="deactivateDialog($event)">\r\n\t\t<qp-fieldset-layout class="workflow-dialog" layout.bind="FilterPreview.dialog" use-multi.bind="!!FilterPreview.dialog && FilterPreview.dialog.useMulti">\r\n\t\t</qp-fieldset-layout>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ id: \'btnConfirmTransition\', dialogResult: 1, validateInput: true, text: Messages.Confirm }"></qp-button>\r\n\t\t\t<qp-button config.bind="{ id: \'btnCancelTransition\', dialogResult: 2, text: Messages.Cancel }"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/simple/barcode-input/qp-barcode-input.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<input type="text" id="${config.id}" name="${config.name}" ref="elemText" \r\n\t\tvalue.bind="value"\r\n\t\tmaxlength.bind="config.maxLength & attr"\r\n\t\tenabled.bind="config.enabled ? null : false & attr" \r\n\t\treadonly="${config.readOnly || !config.enabled ? true : null}"  \r\n\t\tautocomplete="off" autocorrect="off" spellcheck="false"\r\n\t\ttabindex="${config.tabIndex}" \r\n\t\tclass="qp-text-editor ${config.class} ${config.readOnly || !config.enabled ? \'ReadOnly\' : \'\'} ${hasFocus ? \'focus\':\'\'}"\r\n\t\tcss="text-align: ${align};${config.hidden ? \'display:none;\': \'\'}${config.width ? \'width: \'+config.width+\'px\' : \'\'}"\r\n\t\tkeydown.trigger="processKeyDown($event)" \r\n\t\tfocus.trigger="processFocus($event)" \r\n\t\tblur.trigger="processBlur($event)" />\r\n</template>'},"client-controls/controls/simple/branch-selector/qp-branch-selector-3d.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="branch-selector ${editMode?\'edit-mode\':\'\'} ${ROMode ?\'ReadOnly\':\'\'}">\r\n\t<require from="./qp-branch-selector.css"></require>\r\n\t<div id="${config.id}" class="branch-selector__editor ${config.class} ${editMode && !ROMode ? \'focus edit-mode\':\'\'} ${ROMode ? \'ReadOnly\':\'\'}"\r\n\t\tref="rectControl">\r\n\t\t<input\r\n\t\tclass="${ROMode ? \'ReadOnly\':\'\'}"\r\n\t\tid="${config.id}_text"\r\n\t\tname="${config.name}"\r\n\t\ttabindex="${config.tabIndex}"\r\n\t\tvalue.to-view="value.id.trim()"\r\n\t\tref="inputControl"\r\n\t\tblur.trigger="onBlur()"\r\n\t\tinput.delegate="search(inputControl.value)"\r\n\t\tkeydown.capture="handleKey($event)"\r\n\t\tautocomplete="off"\r\n\t\tautocorrect="off"\r\n\t\tfocus.from-view="editMode"\r\n\t\tfocus.trigger="onFocus()"\r\n\r\n\t\tenabled.bind="config.enabled === false ?  false:null  & attr"\r\n\t\treadonly="${ROMode ? true : null}"\r\n\t\t>\r\n\t\t<div class="branch-selector__display-text" if.bind="value && value.id">${[value.id]}${value.text?\' -\r\n\t\t\t\'+value.text:\'\'}</div>\r\n\t\t<button type="button" show.bind="config.enabled!== false && !config.readOnly"  mousedown.trigger="toggleSelector($event)" class="branch-selector__button"\r\n    tabindex="-1">\r\n\t\t\t<qp-icon show.bind="!ROMode" imagesrc="svg:main@treeArrowDown"></qp-icon>\r\n\t\t\x3c!-- <i class="control-icon control-ArrowDown"></i> --\x3e\r\n\t\t</button>\r\n\t\t<qp-loader-indicator if.bind="loadingStatus != \'in-sync\'" style="position: absolute;bottom:0;left:0;right:0;"\r\n\t\t\tloading-state.bind="loadingStatus"></qp-loader-indicator>\r\n\t\t<qp-tooltip if.bind="!treeOpen && toolTip && toolTip.length" target.bind="element" on-show.call="toolTipShown()">\r\n\t\t\t<div repeat.for="t of toolTip" class="tooltip-level branch-level-${$index}">${t}</div>\r\n\r\n\t\t</qp-tooltip>\r\n\r\n\r\n\t</div>\r\n\t<div id="${config.id}_items" class="branch-selector__branch-tree" if.bind="branches && treeOpen" glue-to.bind="rectControl" portal ref="treeView" style="width: auto;" mousedown.capture="ignoreMouseDown($event)">\r\n\t\t<div repeat.for="n of flatStructure" node.bind="n"\r\n\t\tclick.delegate="select(n,$event)"\r\n\t\tmouseenter.capture="highlight(n,$event)"\r\n\t\tclass="branch-selector__node branch-selector__${n.type} ${highlightedIndex == $index?\'highlight\':\'\'} nesting-level-${n.level} ${b.canSelect?\'can-select\':\'\'} ${n.lastChild?\'parent-last-child\':\'\'}"\r\n\t\t>\r\n\r\n\r\n\t\t<qp-icon class="group-icon" if.bind="n.type==\'group\'" imagesrc="${n.expand?\'control@DropDownH\':\'control@SubMenu\'}" click.delegate="toggleExpand(n,$event)"></qp-icon>\r\n\t\t<qp-icon class="company-icon" if.bind="n.type==\'organization\'" imagesrc="${n.expand?\'ac@keyboard_arrow_down\':\'ac@keyboard_arrow_right\'}" click.delegate="toggleExpand(n,$event)"></qp-icon>\r\n\r\n\t\t<template repeat.for="s of n.displaySegments"><mark if.bind="s.highlight">${s.text}</mark><template\r\n\t\t\telse>${s.text}</template></template>\r\n\t</div>\r\n\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/button/qp-button.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template show.bind="!config.hidden">\r\n\t<require from="./qp-button.scss"></require>\r\n\t<require from="../../utility/options/qp-options"></require>\r\n\r\n\t<button id="${config.id}" name="${config.name}" css="${config.style}" type="button" ref="buttonElement" tabindex="${config.tabIndex}"\r\n\t\tclass="qp-button ${config.class} ${pushed ? \'pushed\' : \'\'}" disabled.bind="config.enabled == false || config.disabled"\r\n\t\tclick.capture="processClick($event)" mouseover.delegate="processMouseOver($event)"\r\n\t\tmouseout.delegate="processMouseOut($event)" pointerdown.delegate="processPointerDown($event)"\r\n\t\tpointerup.delegate="processPointerUp($event)" pointercancel.delegate="processPointerCancel($event)">\r\n\t\t<div class="btn-inner" data-cmd="${config.commandName}">\r\n\t\t\t<qp-icon if.bind="imageSrc" imagesrc.bind="imageSrc"></qp-icon>\r\n\t\t\t<span class="text" if.bind="!imageSrc || config.displayIconAndText">${config.text || config.displayName}</span>\r\n\t\t\t<qp-icon if.bind="config.options" imagesrc="control@ArrowDown" class="icon-menu"></qp-icon>\r\n\t\t</div>\r\n\t</button>\r\n\r\n\t<div glue-to.bind="buttonElement" if.bind="config.options && menuOpen" class="glue-to" id="${config.id}_items">\r\n\t\t<div class="options-panel">\r\n\t\t\t<qp-options config.bind="config" options-for.bind="buttonElement" valuechanged.delegate="processMenuClick($event)">\r\n\t\t\t</qp-options>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n'},"client-controls/controls/simple/calendar/qp-calendar.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n  <require from="./qp-calendar"></require>\r\n  <require from="./qp-calendar.css"></require>\r\n\x3c!-- <input  id="${config.id}" tabindex="${config.tabIndex}" name="${config.name}" value.to-view="value | dateToString"> --\x3e\r\n  <table  class="calendar qp-calendar" cellpadding="0" cellspacing="0" style="z-index: 11000;"\r\n\tclick.delegate="$event.stopPropagation()"\r\n\tmousedown.trigger="ignoreClicks($event)">\r\n    <tbody>\r\n      <tr>\r\n        <td class="calendarMT">\r\n          <table cellpadding="0" cellspacing="0" border="0" style="height:100%; width:100%;">\r\n            <tbody>\r\n              <tr>\r\n\t\t\t\t\t\t\t\t<td class="calendarNP"\r\n\t\t\t\t\t\t\t\tclick.capture="handleMonthChange(-1, $event)" ref="prevMonthEle">\r\n\t\t\t\t\t\t\t\t\t<qp-icon imagesrc="svg:main@arrowLeft"></qp-icon>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class="month-year-header">\r\n\t\t\t\t\t\t\t\t\t<span class="month-select">\r\n\t\t\t\t\t\t\t\t\t\t<select ref="monthSelEle" class="month-select" value.bind="month | stringToInt">\r\n\t\t\t\t\t\t\t\t\t\t\t<option repeat.for="i of 12" value.one-time="i">${monthNames[i]}</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowDown"></qp-icon>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span class="year-select">\r\n\t\t\t\t\t\t\t\t\t\t<select ref="yearSelEle" class="year-select closed"\r\n\t\t\t\t\t\t\t\t\t\tstyle="pointer-events: none;"\r\n\t\t\t\t\t\t\t\t\t\tvalue.bind="year | stringToInt">\r\n\t\t\t\t\t\t\t\t\t\t\t<option value="${year}">${year}</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowDown"></qp-icon>\r\n\t\t\t\t\t\t\t\t\t\t<select ref="yearSelEle" class="year-select closed" value.bind="year | stringToInt" mouseout.trigger="onMouseOut($event.currentTarget)" scroll.trigger="onScrollYearSel($event.currentTarget)" keydown.trigger="onKeyDownYearSel($event)" focus.trigger="onFocusYearSel($event.currentTarget)" blur.trigger="onBlurYearSel($event.currentTarget)" change.trigger="onChangeYearSel($event.currentTarget)">\r\n\t\t\t\t\t\t\t\t\t\t\t<option repeat.for="i of 27" value="${year+i-13}">${year+i-13}</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class="calendarNP"\r\n\t\t\t\t\t\t\t\tclick.capture="handleMonthChange(1, $event)" ref="nextMonthEle">\r\n\t\t\t\t\t\t\t\t\t<qp-icon imagesrc="svg:main@arrowRight"></qp-icon>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td if.bind="config.customItems.length > 0" rowspan="3" class="custom-items">\r\n\t\t\t\t\t<table id="${id}_customItems"><tbody>\r\n\t\t\t\t\t\t<tr repeat.for="item of config.customItems"\r\n\t\t\t\t\t\tclick.capture="selectCustomItem(item, $event)">\r\n\t\t\t\t\t\t\t<td class="calendarD">${item}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody></table>\r\n\t\t\t\t</td>\r\n      </tr>\r\n      <tr>\r\n        <td>\r\n          <table cellspacing="0" align="Center" border="0" style="width:100%;" ref="monthPaneEle"\r\n          keydown.capture="keyDown($event)" tabindex="0">\r\n            <colgroup>\r\n              <col repeat.for="i of 8" style="width:12%" />\r\n            </colgroup>\r\n            <tbody>\r\n              <tr>\r\n                <td class="calendarDH">#</td>\r\n                <td class="calendarDH" repeat.for="i of 7">${shortDayNames[(i+firstDayOfWeek)%7]}</td>\r\n              </tr>\r\n              <tr repeat.for="week of monthPanel">\r\n                <td class="calendarWN calendarD">${getWeekNumber(week)}</td>\r\n                <td repeat.for="day of week" class="calendarD\r\n\t\t\t\t\t\t\t\t${($index===0 && $parent.$index===0)? \'upperLeft\' : \'\'}\r\n\t\t\t\t\t\t\t\t${($index===6 && $parent.$index===0)? \'upperRight\' : \'\'}\r\n\t\t\t\t\t\t\t\t${($index===0 && $parent.$index===5)? \'bottomLeft\' : \'\'}\r\n\t\t\t\t\t\t\t\t${($index===6 && $parent.$index===5)? \'bottomRight\' : \'\'}\r\n\t\t\t\t\t\t\t\t${isTheSame(day.date, todayDate) ? \'calendarTD\' : \'\'}\r\n                ${day.trailingDay || day.leadingDay ? \'calendarOMD\' : \'\'}\r\n                ${isWeekend(day.date) ? \'calendarWE\':\'\'}\r\n                ${isTheSame(day.date, value) ? \'calendarSD\':\'\'}"\r\n                click.capture="selectTheDate(day.date, $event)">${day.dayOfMonth}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n\t\t\t\t<td ref="todayCellEle" class="calendarF" style="cursor: pointer;"\r\n        click.capture="selectTheDate(todayDate, $event)">\r\n          ${todayString}\r\n        </td>\r\n        \x3c!--<td class="calendarF">${Intl.DateTimeFormat(locale).format(todayDate)} - ${todayDateToString()}</td>--\x3e\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n'},"client-controls/controls/simple/caption/qp-caption.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="<template>\r\n\t<require from=\"./qp-caption.css\"></require>\r\n\t<legend class=\"qp-caption  ${hiddenByPrefs ? 'qp-caption-compact' : ''}\" show.bind=\"viewMode === 'edit' || (caption && !hideCaption)\">\r\n\t\t${!hiddenByPrefs ? (caption ? caption : msg.Untitled) : ''}\r\n\t</legend>\r\n</template>\r\n"},"client-controls/controls/simple/check-box/qp-check-box.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template css="display: ${config.hidden ? \'none\': \'block\'};">\r\n\t<require from="./qp-check-box"></require>\r\n\t<require from="./qp-check-box.css"></require>\r\n\r\n\t<span if.bind="config.renderStyle!==\'button\'" id="${config.id}"\r\n\tclass="qp-checkbox qp-checkbox-default ${config.class}"\r\n\tenabled.bind="!!config.enabled & attr"\r\n\tclick.delegate="config.enabled===true && toggleValue($event)">\r\n\t\t<label if.bind="config.textAlign===\'left\'" for="${config.id}_text" class="left ${config.labelWidth ? \'fld-l\'+config.labelWidth : \'\'}">${config.label}</label>\r\n\t\t<input id="${config.id}_text" name="${config.name}"\r\n\t\t\tref="element" type="checkbox"\r\n\t\t\ttabindex="${config.tabIndex}"\r\n\t\t\tdisabled.bind="!config.enabled"\r\n\t\t\tchecked.two-way="value | intToBool"/><label if.bind="config.textAlign!==\'left\'" for="${config.id}_text">${config.label}</label>\r\n\t</span>\r\n\t<div else class="qp-checkbox qp-checkbox-button ${config.class}" id="${config.id}"\r\n\t\tenabled.bind="!!config.enabled & attr" checked.bind="!!value & attr">\r\n\t\t<qp-hyper-icon id="${config.id}_pic" if.bind="config.renderStyle == \'button\' && value" images.bind="config.checkImages"\r\n\t\tdisabled.bind="!config.enabled"\r\n\t\tclick.delegate="config.enabled===true && toggleValue($event)"\r\n\t\tclass="qp-checkbox-icon"\r\n\t\t></qp-hyper-icon>\r\n\t\t<qp-hyper-icon id="${config.id}_pic" if.bind="config.renderStyle == \'button\' && !value" images.bind="config.uncheckImages"\r\n\t\tdisabled.bind="!config.enabled"\r\n\t\tclick.delegate="config.enabled===true && toggleValue($event)"\r\n\t\tclass="qp-checkbox-icon"\r\n\t\t></qp-hyper-icon>\r\n\t\t<label if.bind="config.renderStyle == \'button\' && config.label && config.label.length"\r\n\t\tclass="qp-checkbox-label"\r\n\t\tfor="${config.id}_pic">${config.label}</label>\r\n\t</div>\r\n\r\n</template>\r\n'},"client-controls/controls/simple/color-picker/qp-color-palette.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-color-palette.css"></require>\r\n\t<div class="qp-color-palette">\r\n\t\t<button if.bind="allowNull" class="qp-color-reset" click.capture="selectColor()">\r\n\t\t\t<qp-icon imagesrc="svg:main@colorReset"></qp-icon>\r\n\t\t\t<span>None</span>\r\n\t\t</button>\r\n\t\t<div class="qp-color-palette-pane" repeat.for="palette of palettes"\r\n\t\t\tshow.bind="(allowAdjust && palette.adjustable) || (palette.rows.length > 0 && palette.rows[0].samples.length > 0)">\r\n\t\t\t<div class="qp-color-palette-row" repeat.for="colorRow of palette.rows">\r\n\t\t\t\t<div class="qp-color-palette-sample ${colorSample.color === color ? \'selected\': \'\'}"\r\n\t\t\t\t\trepeat.for="colorSample of colorRow.samples" css="background-color: ${colorSample.color};"\r\n\t\t\t\t\tclick.delegate="selectColor(colorSample.color)">\r\n\t\t\t\t\t<qp-icon if.bind="colorSample.color === color" class="qp-color-sample-selected"\r\n\t\t\t\t\tcss="color: ${colorSample.textColor & oneTime};" imagesrc="svg:main@doneMark"></qp-icon>\r\n\t\t\t\t\t<qp-tooltip>${colorSample.description & oneTime}</qp-tooltip>\r\n\t\t\t\t</div>\r\n\t\t\t\t<qp-icon class="qp-color-sample-add"\r\n\t\t\t\t\tif.bind="allowAdjust && palette.adjustable && ($index === palette.rows.length - 1)"\r\n\t\t\t\t\timagesrc="svg:main@roundPlus" click.delegate="pickCustomColor(palette, $event)">\r\n\t\t\t\t</qp-icon>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/color-picker/qp-color-picker.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template style="display:inline-block;">\r\n\t<require from="./qp-color-picker"></require>\r\n  <div style="display:flex;padding:0;border:0;" class.bind="config.class">\r\n    <input if.bind="supportsColor" disabled.bind="config.readOnly" class="editor" style="flex:1 1 auto" type="color"\r\n      tabindex="${config.tabIndex}" value.bind="value | colorFormat & updateTrigger:\'blur\'">\r\n    <span else css="background-color:${value};flex:1 1 auto;min-width:60px;"></span>\r\n    <input class="editor size-xs" disabled.bind="config.readOnly" style="flex:0 1 auto" type="text" value.bind="value | colorFormat & updateTrigger:\'blur\'"\r\n      id="${config.id}" tabindex="${config.tabIndex}" name="${config.name}" blur.capture="validateValue($event)">\r\n  </div>\r\n</template>\r\n'},"client-controls/controls/simple/color-picker/qp-menu-color-picker.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-menu-color-picker.css"></require>\r\n\t<div as-element="qp-drop-down-frame" class="${config.disabled ? \'disabled\': \'\'}" control-class="qp-menu-color-picker"\r\n\t\tref="dropDown" dropdownopened.trigger="dropDownOpened($event)">\r\n\t\t<template replace-part="main">\r\n\t\t\t<button ref="btnElement" class="qp-menu-color-picker-button qp-menu-color-picker-action-button"\r\n\t\t\t\tclick.capture="processButtonClick($event)">\r\n\t\t\t\t<qp-hyper-icon if.bind="!!config.images.normal"\r\n\t\t\t\t\tcss="color: ${config.selectedColor ? config.selectedColor: \'currentColor\'}"\r\n\t\t\t\t\timages.bind="config.images"></qp-hyper-icon>\r\n\t\t\t\t<div if.bind="!!config.label">${config.label}</div>\r\n\t\t\t</button>\r\n\t\t</template>\r\n\t\t<template replace-part="dropdown">\r\n\t\t\t<qp-color-palette if.bind="onceOpened" allow-null.bind="config.allowNull"\r\n\t\t\t\tcolor.bind="config.selectedColor" allow-adjust.bind="config.allowAdjust" user-colors.bind="config.userColors"\r\n\t\t\t\tnewcolor.trigger="newColorAdded($event)" colorselected.trigger="colorSelected($event)">\r\n\t\t\t</qp-color-palette>\r\n\t\t</template>\r\n\t</div>\r\n\t<qp-tooltip target.bind="btnElement" if.bind="!!config.tooltip">\r\n\t\t<div>${config.tooltip}</div>\r\n\t</qp-tooltip>\r\n</template>\r\n'},"client-controls/controls/simple/date-editor/qp-datetime-edit-utc.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<qp-datetime-edit config.bind="config" value.two-way="convertedDate" containerless></qp-datetime-edit>\r\n</template>\r\n'},"client-controls/controls/simple/date-editor/qp-datetime-edit.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template css="display: ${config.hidden ? \'none\': \'inline-block\'};">\r\n\t<require from="./qp-datetime-edit.css"></require>\r\n\t<require from="../../utility/options/qp-options"></require>\r\n\t<div id="${config.id}" class="${config.class} qp-datetime__editor dropDown ${hasFocus ? \'focus\' : \'\'} ${ROMode ? \'ReadOnly\' : \'\'}" buttons.bind="ROMode ? \'0\' : \'\' & attr" css="display: ${config.hidden ? \'none\': \'block\'}; ${config.width ? \'width: \'+config.width+\'px;\' : \'\'} ${config.height ? \'height: \'+config.height+\'px;\' : \'\'}" ref="editorDiv">\r\n\t\t<div class="editorCont">\r\n\t\t\t<div class="editorWrap">\r\n\t\t\t\t<input id="${config.id}_text" ref="elemText" name="${config.name}$text" type="text" tabindex="${ROMode ? \'-1\' : config.tabIndex}" class="editor ${ROMode ? \'ReadOnly\' : \'\'}"\r\n\t\t\t\t\tkeydown.capture="processKeyDown($event)" keypress.capture="processKeyPress($event)"\r\n\t\t\t\t\tfocus.capture="processFocus($event)"\r\n\t\t\t\t\tblur.capture="processBlur($event)"\r\n\t\t\t\t\tupdate.capture="processUpdate($event)"\r\n\t\t\t\t\tbeforepaste.delegate="processBeforePaste($event)" paste.delegate="processPaste($event)" selectstart.delegate="processSelectStart($event)"\r\n\t\t\t\t\tinput.delegate="processInput($event)" value.to-view="textValue"\r\n\t\t\t\t\tfocus.bind="focused"\r\n\t\t\t\t\tenabled.bind="config.enabled ? null : false & attr"\r\n\t\t\t\t\tdisabled.bind="ROMode"/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="buttonsCont qp-calendar-opener" mousedown.capture="toggleCalendar($event)">\r\n\t\t\t<span class="center"></span>\r\n\t\t\t<qp-icon show.bind="!ROMode" imagesrc.bind="config && config.timeMode ? \'svg:main@aroundTheClock\' : \'svg:main@datePicker\'" type="sel"></qp-icon>\r\n\t\t\t\x3c!-- <div class="sprite-icon control-icon" icon="DropDownN" type="sel"\r\n\t\t\tcss="${ROMode ? \'display: none;\' : \'\'}">\r\n\t\t\t\t<div class="control-icon-img control-DropDownN">\r\n\t\t\t\t</div>\r\n\t\t\t</div> --\x3e\r\n\t\t</div>\r\n\t</div>\r\n\t<div if.bind="dropDownOpen" class="qp-datetime__calendar-overlay"\r\n\tmousedown.trigger="handleOuterClick($event)">\r\n\t\t<div glue-to.bind="elemText" portal style="z-index: 10000; max-width:412px; max-height:269px;"\r\n\t\tmousedown.trigger="handleInnerClick($event)" id="${config.id}_items">\r\n\t\t\t<qp-options if.bind="config.timeMode" config.bind="timeItems"\r\n\t\t\t\tvalue.to-view="[getValueOrToday()]" options-for.bind="element"\r\n\t\t\t\tvaluechanged.delegate="acceptDateFromCalendar($event)"></qp-options>\r\n\t\t\t<qp-calendar else\r\n\t\t\t\tconfig.to-view="{\'customItems\': config.customItems, \'firstDayOfWeek\': config.firstDayOfWeek}"\r\n\t\t\t\tvalue.to-view="getValueOrToday()"\r\n\t\t\t\tvaluechanged.delegate="acceptDateFromCalendar($event)"></qp-calendar>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n\r\n'},"client-controls/controls/simple/drop-down/qp-drop-down.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template enabled.bind="!!config.enabled & attr" class="${ROMode ? \'ReadOnly\' : \'\'}">\r\n\t<require from="./qp-drop-down.css"></require>\r\n\t<require from="../../utility/options/qp-options.css"></require>\r\n\t<div id="${config.id}" tabindex="-1" class="drop-down__editor ${config.class} ${hasFocus ? \'focus\':\'\'} ${ROMode ? \'ReadOnly\' : \'\'} size-${config.size}"\r\n\tref="editorWrap"\r\n\tcss="display: ${config.hidden ? \'none\': \'block\'};"\r\n\tmousedown.trigger="toggleSelector($event)" buttons.bind="ROMode ? \'0\' : \'\' & attr">\r\n\t\t<div class="editorCont">\r\n\t\t\t<div class="editorWrap" title="">\r\n\t\t\t\t<input\r\n\t\t\t\t\tname="${config.name}$text"\r\n\t\t\t\t\ttype="text"\r\n\t\t\t\t\tid="${config.id}_text"\r\n\t\t\t\t\tautocomplete="off" autocorrect="off"\r\n\t\t\t\t\tref="inputElement"\r\n\t\t\t\t\tvalue.bind="valueText"\r\n\t\t\t\t\ttabindex="${ROMode ? \'-1\' : config.tabIndex}"\r\n\t\t\t\t\tkeydown.capture="onKeyDown($event)"\r\n\t\t\t\t\tkeypress.delegate="onKeyPress($event)"\r\n\t\t\t\t\tinput.delegate="onInput($event)"\r\n\t\t\t\t\tfocus.bind="hasFocus"\r\n\t\t\t\t\tfocus.capture="onFocus()"\r\n\t\t\t\t\tblur.capture="onBlur()"\r\n\t\t\t\t\tpaste.delegate="onPaste($event)"\r\n\t\t\t\t\tclass="drop-down__display-text ${ROMode ? \'ReadOnly\' : \'\'}\r\n\t\t\t\t\t${config.allowEdit || (autoSuggest && hasFocus) ? \'\' : \'drop-down__invisible\'}"\r\n\t\t\t\t\treadonly.bind="ROMode ? \'readonly\' : null & attr"\r\n\t\t\t\t><span class="center"></span><span class="drop-down__text ${ROMode ? \'ReadOnly\' : \'\'}" valueattr.bind="value & attr"><div if.bind="config.colorMode" class="${\'drop-down__current-color \'+getColorClass(value)}" css="${getAdditionalStyle(value)}"></div><qp-icon if.bind="currentImageUrl" imagesrc.bind="currentImageUrl" height="100%" width="100%" class="drop-down__current-image"> </qp-icon>${valueText}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="buttonsCont">\r\n\t\t\t<span class="center"></span>\r\n\t\t\t<div if.bind="config.clearButton && !ROMode" class="sprite-icon control-icon" icon="ClearN" type="clear"\r\n\t\t\tmousedown.trigger="clearSelection($event)">\r\n\t\t\t\t<div class="control-icon-img control-ClearN">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<qp-icon show.bind="!ROMode" imagesrc="svg:main@treeArrowDown" type="sel"></qp-icon>\r\n\t\t\t\x3c!-- <div class="sprite-icon control-icon" icon="DropDownN" type="sel"\r\n\t\t\tcss="${ROMode ? \'display: none;\' : \'\'}">\r\n\t\t\t\t<div class="control-icon-img control-DropDownN">\r\n\t\t\t\t</div>\r\n\t\t\t</div> --\x3e\r\n\t\t</div>\r\n\t</div>\r\n\t<div if.bind="showOptions"  id="${config.id}_dd" class="drop-down__options-pane ${config.class}"\r\n\tref="optionsPane"\r\n\tglue-to.bind="editorWrap" portal\r\n\tcss="width: auto; min-width: ${editorWrap.clientWidth}px; max-width: 50vw;"\r\n\tmousedown.capture="ignoreClicks($event)">\r\n\t\t<div class="drop-down__option ddItem ddDisabled ddInfo" if.bind="options && !options.length">\r\n\t\t\tNo Data Available\r\n\t\t</div>\r\n\t\t<div repeat.for="op of options"\r\n\t\tclick.capture="select(op,$event)"\r\n\t\tclass="drop-down__option ddItem ${highlightedIndex === $index ? \'ddSelection\':\'\'} ${op.enabled===0 || op.enabled===false ? \'ddDisabled\':\'\'}"\r\n\t\tmouseenter.capture="enterHighlight($index)"\r\n\t\tmousemove.capture="commitHighlight($index) & throttle:100">\r\n\t\t\t<div if.bind="config.allowMultiSelect" class="sprite-icon control-icon" icon.bind="op.selected ? \'GridCheck\' : \'GridUncheck\' & attr" data-type="check" style="margin-left: 2px; margin-right: 5px;">\r\n\t\t\t\t<div class="control-icon-img control-${op.selected ? \'GridCheck\' : \'GridUncheck\'}"></div>\r\n\t\t\t</div>\r\n\t\t\t<qp-icon if.bind="op.imageUrl" imagesrc.bind="op.imageUrl" class="drop-down__image"></qp-icon>\r\n\t\t\t<div if.bind="config.colorMode" class="${\'drop-down__current-color \'+getColorClass(op.value)}"></div>\r\n\t\t\t${op.text || \'&nbsp;\'}\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/external-viewer/qp-external-viewer.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template css="display: ${config.hidden ? \'none\': \'\'};">\r\n\t<require from="./qp-external-viewer.css"></require>\r\n\t<div class="external-viewer-placeholder"\r\n\t\tcss="height: ${placeHolderHeight > 0 ? placeHolderHeight + \'px\' : \'inherit\'} !important;">\r\n\t\t<iframe src.bind="value" scrolling.bind="config.scrolling === false ? \'no\' : \'auto\' & attr"\r\n\t\t\tclass="external-viewer" load.trigger="frameLoaded()" ref="frameElement"\r\n\t\t\tcss="height: ${frameHeight > 0 ? frameHeight + \'px\' : \'inherit\'} !important;"></iframe>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/icon/qp-hyper-icon.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<div class="qp-hyper-icon"\r\n\tmouseover.delegate="OnMouseOver()"\r\n\tmouseout.delegate="OnMouseOut()"\r\n\tmousedown.delegate="OnMouseDown()"\r\n\tclick.delegate="OnClick()">\r\n\t\t<img if.bind="ImageType===\'img\'" src.bind="ImageName & attr" align="absmiddle">\r\n\t\t<div if.bind="ImageType!==\'img\'"class="sprite-icon ${SpriteName}-icon" icon.bind="ImageName & attr">\r\n\t\t\t<div if.bind="ImageType===\'sprite\'" class="${SpriteName}-icon-img ${SpriteName}-${ImageName}">\r\n\t\t\t</div>\r\n\t\t\t<svg if.bind="ImageType===\'svg\'">\r\n\t\t\t\t<use href.bind="SvgUrl & attr"></use>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/icon/qp-icon.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-icon.css"></require>\r\n\t<img if.bind="imageType===\'img\'" class="${!imageReady ? \'qp-loader-indicator loading\' : \'\'}" src.bind="imageName & attr"\r\n\t\tload.bind="imgLoaded()"\r\n\t\tcss="${width ? \'width: \'+width+\'; \' : \'\'} ${height ? \'height: \'+height+\'; \' : \'\'} " />\r\n\t<div if.bind="imageType===\'sprite\'" class="sprite-icon ${spriteName}-icon" icon.bind="imageName & attr">\r\n\t\t<div if.bind="imageType===\'sprite\'" class="${spriteName}-icon-img ${spriteName}-${imageName}">\r\n\t\t</div>\r\n\t</div>\r\n\t<svg if.bind="imageType===\'svg\'">\r\n\t\t<use href.bind="imageName & attr"></use>\r\n\t</svg>\r\n\t<i if.bind="imageType===\'fa\'" class="ac ac-${imageName}" icon.bind="imageName & attr" style="padding-right: 5px;"></i>\r\n</template>\r\n'},"client-controls/controls/simple/image/components/gallery/carousel.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./carousel.scss"></require>\r\n\t<div class="carousel-body" tabindex="0" ref="carouselBody">\r\n\t\t<div class="carousel-left ${previousEnabled ? \'\' : \'carousel-button-disabled\'}" click.delegate="changePosition($event, false)">\r\n\t\t\t<qp-icon class="arrow left" imagesrc="svg:main@carousel-arrow"></qp-icon>\r\n\t\t</div>\r\n\t\t<div class="carousel-center">\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t\t<div class="carousel-right ${nextEnabled ? \'\' : \'carousel-button-disabled\'}" click.delegate="changePosition($event, true)">\r\n\t\t\t<qp-icon class="arrow right" imagesrc="svg:main@carousel-arrow"></qp-icon>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/components/gallery/image-feed.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./image-feed.scss"></require>\r\n\t<require from="../view/image-view"></require>\r\n\t<div class="image-feed" ref="feed" css="height: ${feedHeight}px; width: ${feedWidth + feedOffset}px; left: -${feedOffset}px;">\r\n\t\t<div class="image-feed-track" css="width: ${leftTrack}px;"></div>\r\n\t\t<image-view repeat.for="item of images" src.bind="item.source"\r\n\t\t\twidth="${imageWidth}px" height="100%" object-fit="cover"\r\n\t\t\tclick.delegate="selectImage(item.source, item.index)"\r\n\t\t\tclass="${item.index === index ? \'selected\': \'\'}"\r\n\t\t\tdata-image-index="${item.index}">\r\n\t\t</image-view>\r\n\t\t<div class="image-feed-track" css="width: ${rightTrack}px;"></div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/components/gallery/image-gallery.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./image-gallery.scss"></require>\r\n\t<require from="./image-feed"></require>\r\n\t<require from="./carousel"></require>\r\n\t<require from="../view/image-view"></require>\r\n\t<div class="image-gallery" tabindex="0" ref="gallery" css.bind="sizeStyles">\r\n\t\t<let index-valid.bind="index >=0 && maxIndex >= 0"></let>\r\n\t\t<carousel previous.call="move(-1)" next.call="move(1)"\r\n\t\t\tprevious-enabled.bind="showArrows && !readOnly && index > minIndex"\r\n\t\t\tnext-enabled.bind="showArrows && !readOnly && index < maxIndex"\r\n\t\t\tcss.bind="showArrows ? \'\' : \'--carousel-button-disabled-display: none;\'">\r\n\t\t\t<image-view if.bind="indexValid" src.one-way="imageSource" click.call="clickImage(source, image)" cancel.call="cancelImage(source)"\r\n\t\t\t\tloaded.call="imageLoaded(source, image)" view-model.ref="imageView" css.bind="imageStyle" allow-zoom.bind="allowZoom"></image-view>\r\n\t\t\t<div class="image-gallery-placeholder" show.bind="!indexValid">\r\n\t\t\t\t<slot></slot>\r\n\t\t\t</div>\r\n\t\t</carousel>\r\n\t\t<image-feed if.bind="showFeed && !readOnly" collection.bind="collection"\r\n\t\t\tindex.one-way="index" selected.call="feedSelected(source, index)"></image-feed>\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/components/popup/image-popup.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./image-popup.scss"></require>\r\n\t<require from="../gallery/image-gallery"></require>\r\n\r\n\t<div if.bind="visible" class="image-popup-host">\r\n\t\t<div portal class="image-popup">\r\n\t\t\t<div class="image-popup-caption">\r\n\t\t\t\t<div class="image-popup-title">${imageName}</div>\r\n\t\t\t\t<div class="image-popup-toolbar">\r\n\t\t\t\t\t<qp-control-bar component-id="image-popup-tools" config.bind="toolbarToolsConfig" view-model.ref="toolbar"></qp-control-bar>\r\n\t\t\t\t\t<qp-control-bar component-id="image-popup-system" config.bind="toolbarSystemConfig"></qp-control-bar>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<image-gallery collection.bind="collection" index.one-way="index" show-feed.bind="false" allow-null.bind="false" allow-zoom.bind="true"\r\n\t\t\t\timage-click.call="ok()" image-cancel.call="cancel()" image-ready.call="imageReady(source, image)"\r\n\t\t\t\tselected.call="imageSelected(index)"></image-gallery>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/components/view/image-view.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./image-view.scss"></require>\r\n\t<require from="./load-progress"></require>\r\n\t<div class="image-view" ref="viewFrame" css.bind="styles">\r\n\t\t<template if.bind="!image">\r\n\t\t\t<img if.bind="preview" class="image-view-image-preview" src.bind="preview & attr"\r\n\t\t\t\twidth.bind="image.size.width & attr" height.bind="image.size.height & attr"\r\n\t\t\t\tdraggable="false" css="object-fit: ${objectFit}; object-position: ${objectPosition}"/>\r\n\t\t\t<div class="image-view-load-status">\r\n\t\t\t\t<template if.bind="!canceled">\r\n\t\t\t\t\t<template if.bind="progress >= 0 & debounce:500">\r\n\t\t\t\t\t\t<load-progress progress.bind="progress"\r\n\t\t\t\t\t\t\tcancel.call="cancelLoading()"></load-progress>\r\n\t\t\t\t\t\t<div class="image-view-load-status-text">${downloadingMessage}</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template else>\r\n\t\t\t\t\t<reload-icon>\r\n\t\t\t\t\t\t<svg click.delegate="reload()" viewBox="0 0 49 49" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t\t\t\t\t<circle id="reload-icon-circle" cx="24.5" cy="24.5" r="21.5"/>\r\n\t\t\t\t\t\t\t<path id="reload-icon-arrow" d="M17.15 23L23.3 29.15V15.5H25.55V29.15L32 23L33.5 24.5L24.5 33.5L15.5 24.5L17.15 23Z"/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</reload-icon>\r\n\t\t\t\t\t<div class="image-view-load-status-text">${reloadMessage}</div>\r\n\t\t\t\t</template>\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t\t<template else>\r\n\t\t\t<img class="image-view-image" src.bind="image.url & attr" width.bind="image.size.width & attr" height.bind="image.size.height & attr"\r\n\t\t\t\tload.trigger="setLoaded()" error.trigger="errorHappened($event)" alt.bind="source.name & attr" draggable="false"\r\n\t\t\t\tmousedown.trigger="mouseDown($event)" mouseleave.trigger="mouseLeave($event)" mouseup.trigger="mouseUp($event)" mousemove.trigger="mouseMove($event)"\r\n\t\t\t\tcss="object-fit: ${objectFit}; object-position: ${objectPosition}" loading="lazy" zoom.two-way="zoomApplied"/>\r\n\t\t\t<div class="image-view-spinner" if.bind="!loadFinished"></div>\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/components/view/load-progress.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./load-progress.scss"></require>\r\n\t<div class="load-progress">\r\n\t\t<svg class="load-progress-icon" click.delegate="triggerClick($event)" viewBox="0 0 49 49" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t<circle id="progress-body" cx="24.5" cy="24.5" r="21.5"/>\r\n\t\t\t<circle id="progress-value" cx="24.5" cy="24.5" r="${radius}" stroke-dashoffset="${progressValue}" stroke-dasharray="107" transform="rotate(${spinner ? spinner.angle : 316}, 24.5, 24.5)"></circle>\r\n\t\t\t<path id="progress-cancel" d="M31.5 18.91L30.09 17.5L24.5 23.09L18.91 17.5L17.5 18.91L23.09 24.5L17.5 30.09L18.91 31.5L24.5 25.91L30.09 31.5L31.5 30.09L25.91 24.5L31.5 18.91Z"/>\r\n\t\t</svg>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/upload/qp-image-uploader.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-image-uploader.scss"></require>\r\n\t<require from="../components/popup/image-popup"></require>\r\n\t<require from="../components/gallery/image-gallery"></require>\r\n\t<div if.bind="visible" class="qp-image-uploader" component-id.bind="config.id" css.bind="sizeStyles">\r\n\t\t<qp-multi-upload config.bind="dropDownUploaderConfig" fileloading.trigger="filesDropped($event)">\r\n\t\t\t<image-gallery component-id="gallery" collection.bind="collection" index.one-way="index"\r\n\t\t\t\tshow-feed.bind="showFeed" read-only.bind="readOnly" allow-null.bind="allowNull"\r\n\t\t\t\tallow-zoom.bind="false" show-arrows.bind="showArrows"\r\n\t\t\t\timage-click.call="showPreview()" selected.call="imageSelected(source, index)">\r\n\t\t\t\t<div class="qp-image-uploader-placeholder">\r\n\t\t\t\t\t<qp-multi-upload config.bind="clickableUploaderConfig" fileloading.trigger="filesDropped($event)"\r\n\t\t\t\t\t\tclick.delegate="internalUploaderClick()">\r\n\t\t\t\t\t\t<template if.bind="readOnly || collectionSize > 0">\r\n\t\t\t\t\t\t\t<div class="qp-image-uploader-message qp-image-uploader-message-null">\r\n\t\t\t\t\t\t\t\t<svg class="qp-image-uploader-null" viewBox="0 0 46 46" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t\t\t\t\t\t\t<path d="M23 0.25C10.4557 0.25 0.25 10.4557 0.25 23C0.25 35.5443 10.4557 45.75 23 45.75C35.5443 45.75 45.75 35.5443 45.75 23C45.75 10.4557 35.5443 0.25 23 0.25ZM4.61301 23C4.61301 18.7149 6.09021 14.7714 8.55655 11.6412L34.3582 37.4428C31.2286 39.9098 27.2851 41.387 23 41.387C12.861 41.387 4.61301 33.139 4.61301 23ZM11.6412 8.55655L37.4434 34.3588C39.9098 31.2286 41.387 27.2851 41.387 23C41.387 12.861 33.139 4.61301 23 4.61301C18.7149 4.61301 14.7714 6.09021 11.6412 8.55655Z" />\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t<div>${Messages.NoImageImagePrompt}<span if.bind="!readOnly"><br>${Messages.NoImageUploadImagePrompt}</span></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t\t<div class="qp-image-uploader-message">\r\n\t\t\t\t\t\t\t\t<svg class="qp-image-uploader-prompt" viewBox="0 0 53 44" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t\t\t\t\t\t\t<path d="M25.9583 2.99998C21.0011 2.99998 16.8189 6.33053 15.5327 10.8782L15.3097 11.6666H14.4902H13.5C7.51692 11.6666 2.66667 16.5169 2.66667 22.5C2.66667 28.4831 7.51691 33.3333 13.5 33.3333L20 33.3333V35.5H13.5C6.3203 35.5 0.5 29.6797 0.5 22.5C0.5 15.3203 6.3203 9.49998 13.5 9.49998H13.6984C15.4829 4.45156 20.2968 0.833313 25.9583 0.833313H26.5C33.3149 0.833313 38.905 6.07716 39.4555 12.75H41.125C47.4072 12.75 52.5 17.8427 52.5 24.125C52.5 30.4072 47.4072 35.5 41.125 35.5H33V33.3333L41.125 33.3333C46.2106 33.3333 50.3333 29.2106 50.3333 24.125C50.3333 19.0394 46.2106 14.9166 41.125 14.9166H38.4167H37.3333V13.8333C37.3333 7.85023 32.4831 2.99998 26.5 2.99998H25.9583ZM27.266 16.8589C27.0629 16.6558 26.7873 16.5416 26.5 16.5416C26.2127 16.5416 25.9371 16.6558 25.734 16.8589L18.1506 24.4423C17.7276 24.8653 17.7276 25.5513 18.1506 25.9743C18.5737 26.3974 19.2596 26.3974 19.6827 25.9743L25.4167 20.2404V42.8125C25.4167 43.4108 25.9017 43.8958 26.5 43.8958C27.0983 43.8958 27.5833 43.4108 27.5833 42.8125V20.2404L33.3173 25.9743C33.7404 26.3974 34.4263 26.3974 34.8494 25.9743C35.2724 25.5513 35.2724 24.8653 34.8494 24.4423L27.266 16.8589Z"/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t<div>${Messages.UploadImagePrompt}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</qp-multi-upload>\r\n\t\t\t\t</div>\r\n\t\t\t</image-gallery>\r\n\t\t\t<qp-control-bar if.bind="!viewOnly" class="image-gallery-toolbar" component-id="toolbar" config.bind="{ type: \'panel\', sizing: \'fit-content\', showMode: \'icons\' }">\r\n\t\t\t\t<button id="edit" data-icon="svg:main@pencil" data-visible="${!readOnly && config.editDialog !== false}" data-tooltip="${Messages.EditImageCommandTooltip}" click.trigger="editTrigger()"></button>\r\n\t\t\t\t<button id="clear" data-icon="main@Remove" data-visible="${!readOnly}" data-tooltip="${Messages.ClearImageCommandTooltip}" data-enabled="${!!value ? \'true\' : \'false\'}" click.trigger="clearTrigger()"></button>\r\n\t\t\t</qp-control-bar>\r\n\t\t</qp-multi-upload>\r\n\t\t<image-popup src.bind="collection" index.two-way="popupIndex"\r\n\t\t\tvisible.two-way="popupVisible" close.call="popupClosed(succeeded)"></image-popup>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/view/qp-image-view.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-image-view.scss"></require>\r\n\t<require from="../components/view/image-view"></require>\r\n\t<require from="../components/popup/image-popup"></require>\r\n\t<div class="qp-image-view" if.bind="visible" component-id.bind="config.id">\r\n\t\t<template if.bind="!!imageUrl">\r\n\t\t\t<image-view src.bind="imageUrl" click.call="imageClick()" width.bind="config.width || width"\r\n\t\t\t\theight.bind="config.height || height" component-id="image"></image-view>\r\n\t\t\t<image-popup src.bind="imageUrl" visible.two-way="popupVisible"></image-popup>\r\n\t\t</template>\r\n\t\t<template else>\r\n\t\t\t<div component-id="no-image" class="qp-image-view-message qp-image-view-message-null" css.bind="sizeStyles">\r\n\t\t\t\t<svg class="qp-image-view-null" viewBox="0 0 46 46" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t\t\t<path d="M23 0.25C10.4557 0.25 0.25 10.4557 0.25 23C0.25 35.5443 10.4557 45.75 23 45.75C35.5443 45.75 45.75 35.5443 45.75 23C45.75 10.4557 35.5443 0.25 23 0.25ZM4.61301 23C4.61301 18.7149 6.09021 14.7714 8.55655 11.6412L34.3582 37.4428C31.2286 39.9098 27.2851 41.387 23 41.387C12.861 41.387 4.61301 33.139 4.61301 23ZM11.6412 8.55655L37.4434 34.3588C39.9098 31.2286 41.387 27.2851 41.387 23C41.387 12.861 33.139 4.61301 23 4.61301C18.7149 4.61301 14.7714 6.09021 11.6412 8.55655Z" />\r\n\t\t\t\t</svg>\r\n\t\t\t\t<div>${Messages.NoImageImagePrompt}</div>\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/label/qp-label.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="qp-label">\r\n\t<require from="./qp-label.css"></require>\r\n\r\n\t<div class="label-container">\r\n\t\t<label\r\n\t\t\tfor.bind="controlId"\r\n\t\t\tclass="${controlId ? \'clickable\': \'\'}"\r\n\t\t\tclick.delegate="processClick()"\r\n\t\t\tref="element">\r\n\t\t\t${caption}\r\n\t\t</label>\r\n\t\t<qp-tooltip if.bind="element&& (element.offsetWidth < element.scrollWidth)">${caption}</qp-tooltip>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/last-update/last-update.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./last-update-value-converter"></require>\r\n\t${dateTime | ago}\r\n</template>\r\n'},"client-controls/controls/simple/link-editor/qp-link-editor.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template css="display: ${config.hidden ? \'none\': \'inline\'};">\r\n\r\n\t<require from="./qp-link-editor.css"></require>\r\n\t<div id="${config.id}" class="qp-link-editor ${config.class} ${config.readOnly || !config.enabled ? \'ReadOnly\' : \'\'} ${hasFocus ? \'focus\':\'\'}"\r\n\t\tcss="${config.hidden ? \'display:none;\': \'\'}${config.width ? \'width: \'+config.width+\'px\' : \'\'}">\r\n\t\t<div class="editorCont">\r\n\t\t\t<div if.bind="value && !isInlineEditing" class="editorWrap">\r\n\t\t\t\t<span class="link-obj" click.delegate="inputLinkElem.focus()">\r\n\t\t\t\t\t<a show.bind="mainLink.link" href.bind="mainLink.link" target="_blank"\r\n\t\t\t\t\t\tenabled.bind="config.enabled ? null : false & attr"\r\n\t\t\t\t\t\tcss="text-align: ${align}"\r\n\t\t\t\t\t\tclick.delegate="processOpenLink($event)"\r\n\t\t\t\t\t\tinnerhtml.bind="mainLink.name"\r\n\t\t\t\t\t></a>\r\n\t\t\t\t\t<p show.bind="!mainLink.link" innerhtml.bind="mainLink.name" class="p-link"></p>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<input tabindex="${config.tabIndex}"\r\n\t\t\t\tclass="input-url"\r\n\t\t\t\tref="inputLinkElem"\r\n\t\t\t\tshow.bind="!ROMode"\r\n\t\t\t\tvalue.bind="inputLink"\r\n\t\t\t\tfocus.bind="hasFocus"\r\n\t\t\t\tfocus.trigger="processInputFocus($event)"\r\n\t\t\t\tblur.trigger="processInputBlur($event)"\r\n\t\t\t\tpaste.delegate="processPaste($event)"\r\n\t\t\t\tkeydown.delegate="processInputKeyDown($event)" />\r\n\t\t</div>\r\n\t\t<div class="buttonsCont" if.bind="ROMode && mainLink.link">\r\n\t\t\t<qp-icon id="${config.id}_btn_copy"\r\n\t\t\t\tclass="buttonAction"\r\n\t\t\t\timagesrc="main@Copy"\r\n\t\t\t\tclick.delegate="copyButtonClick()"></qp-icon>\r\n\t\t</div>\r\n\t\t<div class="buttonsCont" if.bind="!ROMode && config.activeButton">\r\n\t\t\t<qp-icon id="${config.id}_btn"\r\n\t\t\t\tclass="buttonAction"\r\n\t\t\t\tclick.delegate="processButtonClick()"\r\n\t\t\t\timagesrc="text@Link"></qp-icon>\r\n\t\t</div>\r\n\t</div>\r\n\t<qp-panel id="pnlLinkEditor" caption="Edit Link" class="qp-link-editor-panel label-size-s">\r\n\t\t<div class="qp-field-wrapper">\r\n\t\t\t<qp-label-light label-size="xs" caption="${Msg.LinkEditorLink}"></qp-label-light>\r\n\t\t\t<div class="control-container size-default">\r\n\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: true}"\r\n\t\t\t\t\tclass="qp-link-editor-input"\r\n\t\t\t\t\tvalue.two-way="dlgLink.link">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="qp-field-wrapper">\r\n\t\t\t<qp-label-light label-size="xs" caption="${Msg.LinkEditorName}"></qp-label-light>\r\n\t\t\t<div class="control-container size-default">\r\n\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: true}"\r\n\t\t\t\t\tclass="qp-link-editor-input"\r\n\t\t\t\t\tvalue.two-way="dlgLink.name">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button caption="OK"\r\n\t\t\t\tclick.delegate="setNewValueAndCloseDialog()" class="major-button"></qp-button>\r\n\t\t\t<qp-button caption="Cancel"\r\n\t\t\t\tclick.delegate="closeCurrentDialog($event)"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/simple/loader-indicator/qp-loader-indicator.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="qp-loader-indicator" class.bind="loadingClass">\r\n  <require from="./qp-loader-indicator.css"></require>  \r\n  <template if.bind="loadingState==\'in-sync\'">\r\n    <template replaceable part="in-sync">\r\n    </template>\r\n  </template>\r\n  <template if.bind="loadingState==\'will-load\'">\r\n    <template replaceable part="will-load">\r\n    </template>\r\n  </template>\r\n  <template if.bind="loadingState==\'loading\'">\r\n    <template replaceable part="loading">\r\n      <svg class="loader-indicator-img" height="3px" width="100%" viewBox="80 0 235 10" preserveAspectRatio="none">\r\n        <path class="progress" stroke-width="4" d="M70,10 l250,0"></path>\r\n      </svg>\r\n    </template>\r\n  </template>\r\n</template>\r\n'},"client-controls/controls/simple/longrun-indicator/qp-longrun-indicator.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-longrun-indicator.css"></require>\r\n\r\n<div id="${config.id}_progress" click.delegate="stopProcessing($event)" if.bind="showProgress" style="display: flex;align-items: center;">\r\n\t<svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background:#fff;display:block;" width="32px" height="32px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">\r\n\t\t<g transform="rotate(0 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-1.1666666666666667s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(24 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-1.0833333333333333s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(48 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-1s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(72 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(96 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(120 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.75s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(144 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(168 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(192 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.5s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(216 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(240 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(264 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.25s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(288 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(312 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(336 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="0s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g>\r\n\t</svg>\r\n\t<span if.bind="config.text">${config.text}</span>\r\n</div>\r\n<div id="${config.id}_success" click.delegate="closeNotification($event)" if.bind="showSuccess" style="display: flex;align-items: center;" class="qp-lri qp-status-success">\r\n\t<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="qp-status-icon" style="background:#fff;display:block;" width="20" height="20" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid">\r\n\t\t<path d="M10 0.375C4.6375 0.375 0.375 4.6375 0.375 10C0.375 15.3625 4.6375 19.625 10 19.625C15.3625 19.625 19.625 15.3625 19.625 10C19.625 4.6375 15.3625 0.375 10 0.375ZM10 1.75C14.5375 1.75 18.25 5.4625 18.25 10C18.25 14.5375 14.5375 18.25 10 18.25C5.4625 18.25 1.75 14.5375 1.75 10C1.75 5.4625 5.4625 1.75 10 1.75ZM13.575 6.7L8.625 11.7875L6.425 9.45L5.325 10.55L8.625 13.7125L14.675 7.6625L13.575 6.7Z"/>\r\n\t</svg>\r\n\t<span if.bind="successText">${successText}</span>\r\n</div>\r\n<div id="${config.id}_error" click.delegate="closeNotification($event)" if.bind="showError" style="display: flex;align-items: center;" class="qp-lri qp-status-error">\r\n\t<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="qp-status-icon" style="background:#fff;display:block;" width="20" height="20" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid">\r\n\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M19.0428 15.8464C19.3047 16.3047 18.9738 16.875 18.4459 16.875L3.55403 16.875C3.02615 16.875 2.69521 16.3047 2.95711 15.8464L10.4031 2.816C10.667 2.35413 11.333 2.35413 11.5969 2.816L19.0428 15.8464ZM9.80614 1.0892C10.334 0.165456 11.666 0.165457 12.1938 1.0892L20.8244 16.1928C21.3482 17.1095 20.6864 18.25 19.6306 18.25H2.36934C1.31359 18.25 0.651705 17.1095 1.17551 16.1928L9.80614 1.0892ZM11.4568 5.87499H10.543C10.4018 5.87499 10.2669 5.96048 10.1712 6.11077C10.0755 6.26105 10.0276 6.46241 10.0391 6.66605L10.4344 12.2501C10.4516 12.553 10.6266 12.7862 10.8368 12.7862H11.1631C11.3732 12.7862 11.5482 12.553 11.5655 12.2501L11.9607 6.66606C11.9723 6.46241 11.9244 6.26105 11.8287 6.11077C11.733 5.96048 11.5981 5.87499 11.4568 5.87499ZM10.9999 16.0503C11.5166 16.0503 11.9355 15.6193 11.9355 15.0877C11.9355 14.556 11.5166 14.125 10.9999 14.125C10.4832 14.125 10.0644 14.556 10.0644 15.0877C10.0644 15.6193 10.4832 16.0503 10.9999 16.0503Z"/>\r\n\t</svg>\r\n\t<span if.bind="errorText">${errorText}</span>\r\n</div>\r\n<div id="${config.id}_warning" click.delegate="closeNotification($event)" if.bind="showWarning" style="display: flex;align-items: center;" class="qp-lri qp-status-warning">\r\n\t<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="qp-status-icon" style="background:#fff;display:block;" width="20" height="20" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid">\r\n\t\t<path d="M10 0.375C4.6375 0.375 0.375 4.6375 0.375 10C0.375 15.3625 4.6375 19.625 10 19.625C15.3625 19.625 19.625 15.3625 19.625 10C19.625 4.6375 15.3625 0.375 10 0.375ZM10 1.75C14.5375 1.75 18.25 5.4625 18.25 10C18.25 14.5375 14.5375 18.25 10 18.25C5.4625 18.25 1.75 14.5375 1.75 10C1.75 5.4625 5.4625 1.75 10 1.75ZM13.575 6.7L8.625 11.7875L6.425 9.45L5.325 10.55L8.625 13.7125L14.675 7.6625L13.575 6.7Z"/>\r\n\t</svg>\r\n\t<span if.bind="warningText">${warningText}</span>\r\n</div>\r\n</template>\r\n'},"client-controls/controls/simple/mail-editor/qp-mail-editor.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template css="display: ${config.hidden ? \'none\': \'inline-block\'};">\r\n\t<require from="./qp-mail-editor.css"></require>\r\n\t<div id="${config.id}" class="qp-control-outline qp-mail-editor ${config.class} ${config.readOnly || !config.enabled ? \'ReadOnly\' : \'\'} ${hasFocus ? \'focus\':\'\'}"\r\n\t\tcss="${config.hidden ? \'display:none;\': \'\'}${config.width ? \'width: \'+config.width+\'px\' : \'\'}">\r\n\t\t<div class="editorCont">\r\n\t\t\t<div class="editorWrap">\r\n\t\t\t\t<input type="text" ref="elemText"\r\n\t\t\t\t\tid="${config.id}_text"\r\n\t\t\t\t\tname="${config.name}$text"\r\n\t\t\t\t\ttabindex="${config.tabIndex}"\r\n\t\t\t\t\tautocomplete="off" autocorrect="off"\r\n\t\t\t\t\tclass="${config.class} qp-text-editor ${config.language?\'with-language\':\'\'}"\r\n\t\t\t\t\tmaxlength.bind="config.maxLength & attr"\r\n\t\t\t\t\tenabled.bind="config.enabled ? null : false & attr"\r\n\t\t\t\t\treadonly="${config.readOnly || !config.enabled ? true : null}"\r\n\t\t\t\t\tspellcheck.bind="config.spellcheck ? null : false & attr"\r\n\t\t\t\t\tcss="text-align: ${align}"\r\n\t\t\t\t\tplaceholder.bind="config.placeholder & attr"\r\n\t\t\t\t\tvalue.bind="value | meta : converter : hasFocus : editorState : config & updateTrigger : \'blur\' : \'update\'"\r\n\t\t\t\t\tkeydown.trigger="processKeyDown($event)"\r\n\t\t\t\t\tinput.delegate="processInput($event)"\r\n\t\t\t\t\tfocus.trigger="processFocus($event)"\r\n\t\t\t\t\tblur.trigger="processBlur($event)"\r\n\t\t\t\t\tpaste.delegate="processPaste($event)" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="buttonsCont">\r\n\t\t\t<qp-hyper-icon id="${config.id}_btn" disabled.bind="buttonDisabled"\r\n\t\t\t\timages.bind="config.images" click.delegate="processButtonClick()">\r\n\t\t\t</qp-hyper-icon>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/radio/qp-radio.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template css="display: ${config.hidden ? \'none\': \'block\'};">\r\n\t<require from="./qp-radio.css"></require>\r\n\r\n\t<div class="qp-radio-group ${config.class}" enabled.bind="!!config.enabled & attr" id="${config.id}">\r\n\t\t<div class="qp-radio-button" repeat.for="op of options">\r\n\t\t\t<span class="qp-radio-button__input-container">\r\n\t\t\t\t<input type="radio"\r\n\t\t\t\t\tmodel.bind="op.value"\r\n\t\t\t\t\tdisabled.bind="op.enabled === false"\r\n\t\t\t\t\tchecked.bind="value"\r\n\t\t\t\t\tmatcher.bind="matchValue"\r\n\t\t\t\t\tclass="qp-radio-button__input"\r\n\t\t\t\t\tname="${config.id}"\r\n\t\t\t\t\tdata-text-value="${op.text}"\r\n\t\t\t\t\tid="${config.id}_${$index}" />\r\n\t\t\t</span>\r\n\t\t\t<label if.bind="op.text && op.text.length" class="qp-radio-button__label" for="${config.id}_${$index}">\r\n\t\t\t\t${op.text}\r\n\t\t\t</label>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/screen-configuration-menu/qp-screen-configuration-menu.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-screen-configuration-menu.css"></require>\r\n\t<div class="screen-configuration-container  ${exiting?\'screen-configuration-container--closing\':\'\'}">\r\n\t\t<div class="screen-configuration-title">${msg.ScreenConfigurationTitle}</div>\r\n\t\t<div class="screen-configuration-buttons">\r\n\t\t\t<qp-button class="major-button" click.delegate="showApplyToAll()" config.bind="applyButtonConfig"></qp-button>\r\n\t\t\t<qp-button class="minor-button" click.delegate="resetToDefault()" config.bind="resetToDefaultButtonConfig"></qp-button>\r\n\t\t\t<qp-button class="minor-button" click.delegate="showUsersDialog()" config.bind="loadPersonalButtonConfig"></qp-button>\r\n\t\t\t<qp-menu class="screen-configuration--export-menu" config.bind="btnExportConfig"\r\n\t\t\t\tmenuselected.delegate="processExportMenu($event)"></qp-menu>\r\n\t\t\t<qp-button class="minor-button" click.delegate="cancel()" config.bind="cancelButtonConfig"></qp-button>\r\n\t\t</div>\r\n\t</div>\r\n\t<input ref="fileUploader" type="file" style="display: none;" accept=".json"\r\n\t\tchange.trigger="fileUploaderChanged($event)" />\r\n\t<a ref="fileDownloader" style="display: none;"></a>\r\n\r\n\t<qp-panel id="loadPersonalSettings_dialog" config.bind="loadPersonalSettingsDialogConfig">\r\n\t\t<div class="personal-dialog--container">\r\n\t\t\t<div class="personal-dialog--info">\r\n\t\t\t\t<div class="personal-dialog--info-icon">\r\n\t\t\t\t\ti\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="personal-dialog--info-text">\r\n\t\t\t\t\t${msg.PersonalConfiguration_Info}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="personal-dialog--user">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t${msg.User}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<qp-drop-down config.bind="userSelectConfig" value.two-way="selectedUser"></qp-drop-down>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button click.delegate="loadUserConfiguration()" config.bind="loadButtonConfig" enabled.bind="!!selectedUser"></qp-button>\r\n\t\t\t<qp-button config.bind="cancelUserButtonConfig"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\r\n\t<qp-panel id="applyToAll_dialog" width="550px" config.bind="applyToAllDialogConfig" caption="Apply To All">\r\n\t\t<span i18n>Select the action to be taken for users that have their personal configuration for the table columns or tabs on this form</span>\r\n\r\n\t\t<footer>\r\n\t\t\t<qp-button click.delegate="applyToAll(true)" config.bind="applyForcedButtonConfig"></qp-button>\r\n\t\t\t<qp-button click.delegate="applyToAll(false)" config.bind="applyNotForcedButtonConfig"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/simple/segmented-selector/qp-segmented-selector.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="../selector/qp-selector.css"></require>\r\n\r\n\t<div class="qp-selector editor ${config.readOnly || !config.enabled ? \'qp-selector-readonly\' : \'\'}">\r\n\t\t<qp-mask-editor ref="input" config.bind="config" click.delegate="onClick($event)"></qp-mask-editor>\r\n\r\n\t\t<button if.bind="!config.readOnly && !config.disabled && !config.enabled == false && state.lookupMode === 2" type="button"\r\n\t\tmousedown.capture="openSelector($event)"\r\n\t\tclass="qp-field-editor__button"\r\n\t\ttabindex="-1">\r\n\t\t\t<qp-icon imagesrc="svg:main@search" class="buttonsCont" type="sel"></qp-icon>\r\n\t\t</button>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/selector/qp-selector.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-selector.css"></require>\r\n\t<require from="../../utility/suggester/elements/qp-suggester"></require>\r\n\t<div class="editor qp-selector ${editMode?\'focus edit-mode\':\'\'} ${config.readOnly || !config.enabled ? \'qp-selector-readonly\' : \'\'} ${config.allowEdit ? \'qp-selector-allow-edit\' : \'\'} ${empty ? \'qp-selector-empty\':\'\'}" ref="editorDiv" id="${config.id}" tabindex="-1">\r\n\t\t<enhanced-compose show.bind="!isLinkMode" class="qp-editor-plugin" view-model.bind="editorType"\r\n\t\tconfig.bind="editorConfig"\r\n\t\tvalue.two-way="editorValue"\r\n\t\telem-text.from-view="editor"\r\n\t\tconverter.to-view="converterType"\r\n\t\tkeydown.delegate="handleKeyDown($event)"\r\n\t\t></enhanced-compose>\r\n\t\t<span if.bind="isLinkMode" class="qp-selector-link-wrapper"\r\n\t\tfocus-elem tabindex="${(config.readOnly || !config.enabled) ? \'-1\' : \'0\'}"\r\n\t\tfocus.trigger="onSpanFocus($event)">\r\n\t\t\t<span class="qp-selector-link">\r\n\t\t\t\t<span class="qp-selector-link-text" mousedown.trigger="openEditor($event)">${refText}</span>\r\n\t\t\t\t<span class="qp-selector-link-desc">${descrText}</span>\r\n\t\t\t</span>\r\n\t\t</span>\r\n\r\n\t\t<button if.bind="!config.readOnly && !config.disabled && !config.enabled == false" type="button"\r\n\t\t\tmousedown.capture="openSelector($event)"\r\n\t\t\tclass="qp-field-editor__button"\r\n\t\t\ttabindex="-1">\r\n\t\t\t<qp-icon imagesrc="svg:main@search" class="buttonsCont" type="sel"></qp-icon>\r\n\r\n\t\t\t\x3c!-- <div class="buttonsCont sprite-icon control-icon" icon="SelectorN" type="sel">\r\n\t\t\t\t<div class="control-icon-img control-SelectorN">\r\n\t\t\t\t</div>\r\n\t\t\t</div> --\x3e\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<qp-suggester if.bind="config.suggester && editor && showSuggester"\r\n\t\tconfig.bind="config.suggester" editor.two-way="editor"\r\n\t\trect-element.bind="editorDiv" force-open.two-way="suggesterOpen"\r\n\t\tset-editor-value.call="setSuggestedValue(value,display,useUpdateValue)"\r\n\t></qp-suggester>\r\n</template>\r\n'},"client-controls/controls/simple/simple-selector/qp-simple-selector.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="simple-selector" id="${config.id}">\r\n\t<require from="./qp-simple-selector.css"></require>\r\n\t<qp-button click.delegate="toggleSelector($event)" config.bind="buttonConfig" class="simple-selector--button"></qp-button>\r\n</template>\r\n'},"client-controls/controls/simple/text-editor/qp-text-editor.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template css="display: ${config.hidden ? \'none\': \'\'};">\r\n<require from="./qp-text-editor.css"></require>\r\n<require from="../../dialog/base-dialog/base-dialog.css"></require>\r\n<template if.bind="(config.hasEditLink || config.linkCommand) && (!config.enabled || config.readOnly)">\r\n    <a id="${config.id}" name="${config.name}"\r\n        class="${config.class} qp-text-editor" tabindex="${config.tabIndex}"\r\n        href="javascript: void 0" css="text-align: ${align}"\r\n        click.trigger="processLinkClick()"\r\n        enabled.bind="enabled ? null : false & attr">\r\n        ${value | meta : converter : false : { hasChanges: false } : config}\r\n    </a>\r\n</template>\r\n\r\n<template else>\r\n\t<template if.bind="SuggestionMode">\r\n\t\t<qp-text-editor-autocomplete config.bind="config" value.two-way="value" />\r\n\t</template>\r\n\t<template else>\r\n    <textarea if.bind="config.type == 1" id="${config.id}" ref="elemText"\r\n        name="${config.name}" class="${config.class} qp-text-editor  ${config.language?\'with-language\':\'\'}"\r\n\t\t  tabindex="${config.tabIndex}"\r\n        maxlength.bind="config.maxLength & attr"\r\n        enabled.bind="config.enabled ? null : false & attr"\r\n        readonly="${config.readOnly || !config.enabled ? true : null}"\r\n        spellcheck.bind="config.spellcheck ? null : false & attr"\r\n        css="text-align: ${align}"\r\n        placeholder.bind="config.placeholder & attr"\r\n        wrap.bind="wrap ? \'off\': null & attr"\r\n        rows.bind="config.rows & attr" cols.bind="config.cols & attr"\r\n        value.bind="value | meta : converter : hasFocus : editorState : config & updateTrigger : \'blur\' : \'update\'"\r\n        keydown.trigger="processKeyDown($event)"\r\n        focus.trigger="processFocus($event)"\r\n        blur.trigger="processBlur($event)"\r\n        paste.delegate="processPaste($event)">\r\n    </textarea>\r\n\r\n    <input if.bind="config.type != 1" type="${textMode}" id="${config.id}" ref="elemText"\r\n        name="${config.name}" class="${config.class} qp-text-editor ${type} ${config.language?\'with-language\':\'\'}"\r\n\t\t  tabindex="${config.tabIndex}"\r\n        autocomplete="off" autocorrect="off"\r\n        maxlength.bind="config.maxLength & attr"\r\n        enabled.bind="config.enabled ? null : false & attr"\r\n        readonly="${config.readOnly || !config.enabled ? true : null}"\r\n        spellcheck.bind="config.spellcheck ? null : false & attr"\r\n        css="text-align: ${align}"\r\n        placeholder.bind="config.placeholder & attr"\r\n        value.bind="value | meta : converter : hasFocus : editorState : config & updateTrigger : \'blur\' : \'update\'"\r\n        keydown.trigger="processKeyDown($event)"\r\n        input.delegate="processInput($event)"\r\n        focus.trigger="processFocus($event)"\r\n        blur.trigger="processBlur($event)"\r\n        paste.delegate="processPaste($event)" />\r\n\t<a if.bind="config.language" class="locale-editor" click.delegate="openLocaleWindow($event)">${config.language}</a>\r\n\t<qp-panel id="pnlLocaleEditor">\r\n\t\t<div class="qp-field-wrapper" repeat.for="translation of translations">\r\n\t\t\t\t<span class="label-wrapper label-size-sm">\r\n\t\t\t\t\t<qp-label-light caption="${translation.languageCaption || translation.language}" control-id="translation_${translation.language}"></qp-label-light>\r\n\t\t\t\t</span>\r\n\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', id: `translation_${translation.language}`}"\r\n\t\t\t\t\tvalue.two-way="translation.valueString">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</qp-panel>\r\n\t\t</template>\r\n\t</template>\r\n</template>\r\n'},"client-controls/controls/simple/uploader/qp-multi-upload.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n    <require from="./qp-multi-upload.scss"></require>\r\n\t<qp-uploader config.bind="config" value.two-way="files">\r\n\t\t<slot></slot>\r\n\t</qp-uploader>\r\n</template>\r\n'},"client-controls/controls/simple/uploader/qp-uploader.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-uploader.scss"></require>\r\n\t<div class="qp-uploader">\r\n\t\t<input show.bind="showInput" ref="fileInput" class="uploader-input" type="file"\r\n\t\t\tchange.trigger="filesFromInput()" id="${config ? config.id : \'\'}" title=""\r\n\t\t\taccept="${config ? config.accept : \'\'}">\r\n\t\t<div class="qp-tool-bar-button uploader-button" css.bind="buttonStyles">\r\n\t\t\t<slot>\r\n\t\t\t\t<div class="qp-tool-bar-text">\r\n\t\t\t\t\t${(config && config.singleMode) ? Messages.UploadFileCaption : Messages.UploadFilesCaption }\r\n\t\t\t\t</div>\r\n\t\t\t</slot>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/utility/drop-down-frame/qp-drop-down-frame.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<div ref="control" class="${controlClass} ${opened ? `${controlClass}-selected qp-selected`: \'\'}\r\n\t\t${!showOpener ? `${controlClass}-no-options`: \'\'}">\r\n\t\t<template replaceable part="main"></template>\r\n\t\t<template replaceable part="opener">\r\n\t\t\t<button if.bind="showOpener" class="${controlClass}-opener ${opened ? \'opened\': \'\'}" mousedown.delegate="toggleDropDown($event)">\r\n\t\t\t\t<qp-icon imagesrc.bind="openerIcon || (opened ? \'svg:main@treeArrowUp\': \'svg:main@treeArrowDown\')"></qp-icon>\r\n\t\t\t</button>\r\n\t\t</template>\r\n\t</div>\r\n\t<div glue-to.bind="opened ? control: null" portal show.bind="opened" class="${controlClass}-options"\r\n\t\tmousedown.delegate="stopPropagation($event)" id="${contentElementId}">\r\n\t\t<div class="${controlClass}-container">\r\n\t\t\t<template replaceable part="dropdown"></template>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/utility/layout/qp-layout.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template class="qp-layout-${layout}">\r\n\t<require from="./qp-layout.css"></require>\r\n\t<div class="qp-layout ${layout} ${ellipsisStateClass}" css.bind="inlineCss" ref="host">\r\n\t\t<slot></slot>\r\n\t\t<qp-layout-ellipsis as-element="qp-drop-down-frame" if.bind="ellipsisState !== 0" show.bind="ellipsisState === 1"\r\n\t\t\topener-icon="svg:main@ellipsis" control-class="qp-layout-ellipsis"\r\n\t\t\tclass.bind="ellipsisClass" ref="ellipsis">\r\n\t\t\t<template replace-part="dropdown">\r\n\t\t\t\t<div class="qp-layout-dashboard" id="${dashboardId}"></div>\r\n\t\t\t</template>\r\n\t\t</qp-layout-ellipsis>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/utility/options/qp-options.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-options.css"></require>\r\n\t<div class="drop-down__options-pane ${config.class}"\r\n\tref="optionsPane"\r\n\tmousedown.capture="ignoreClicks($event)">\r\n\t\t<div repeat.for="op of config.options" css="${ (op.value.visible===false || op.value.visible===0) ? \'display: none\' : \'\'}"\r\n\t\tclick.delegate="select(op,$event)"\r\n\t\tclass="ddItem ${highlightedIndex === $index ? \'ddSelection\':\'\'} ${op.value.enabled===false ? \'ddItemDisabled\' : \'\'}"\r\n\t\tmouseenter.capture="enterHighlight($index)"\r\n\t\tmousemove.capture="commitHighlight($index) & throttle:100"\r\n\t\tkeydown.delegate="onKeyDown($event)"\r\n\t\tkeypress.delegate="onKeyPress($event)"\r\n\t\tdata-cmd="${op.value.command}">\r\n\t\t\t<div if.bind="config.allowMultiSelect" class="sprite-icon control-icon" icon.bind="op.selected ? \'GridCheck\' : \'GridUncheck\' & attr" data-type="check" style="margin-left: 2px; margin-right: 5px;">\r\n\t\t\t\t<div class="control-icon-img control-${op.selected ? \'GridCheck\' : \'GridUncheck\'}"></div>\r\n\t\t\t</div>\r\n\t\t\t${op.text}\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/utility/suggester/elements/qp-suggester.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n  <require from="./qp-suggester.css"></require>\r\n  <div if.bind="suggesting && suggestions"\r\n\t\tref="suggestionsContainer"\r\n\t\tglue-to.bind="rectElement"\r\n\r\n\t\tclass="qp-suggester\r\n\t\t${loading || suggestions.loading ? \'loading\' : \'\'}"\r\n\t\tcss="max-height: ${maxHeight}px;\r\n\t\t${suggesterWidth ? \'width: \' + suggesterWidth + \'px;\' : \'\'}\r\n\t\t${minWidth ? \'min-width: \' + minWidth + \'px;\' : \'\'}\r\n\t\t--qp-suggester-vertical-paddings: ${suggesterVerticalPaddings};\r\n\t\t--qp-suggestion-line-height: ${suggestionLineHeight};"\r\n\t\tscroll.trigger="handleScroll($event)"\r\n\t\tmousedown.capture="ignoreClicks($event)">\r\n\r\n\t\t<qp-suggestion repeat.for="i of suggestions.suggestionItems"\r\n\t\t\t\textention-cord="force-show.bind: $index == highlightedSugestionIndex & debounce: 32; manual-show-only: true"\r\n\t\t\t\tcss="--qp-suggestion-line-height: ${suggestionLineHeight}"\r\n\t\t\t\tclass="${$index==highlightedSugestionIndex?\'suggestion-highlight\':\'\'}"\r\n\t\t\t\tmouseenter.capture="changeHighLight($index)" mouseup.delegate="select($index,$event)">\r\n\t\t\t<template repeat.for="s of i.segments"><mark if.bind="s.highlight">${s.text}</mark><template else>${s.text}</template></template>\r\n\t\t</qp-suggestion>\r\n\t\t<qp-suggestion if.bind="suggestions.haveMore" repeat.for="i of 1" class="loading-placeholder ${suggestions.loading ? \'loading\' : \'\'}"> loading </qp-suggestion>\r\n\t\t<div if.bind="suggestions.totalCount==0" class="no-results-found">\r\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width=16 height=16 viewBox="0 0 16 16" style="vertical-align:bottom;margin-right:.5em;"\r\n\t\t\t\tfill="currentColor">\r\n\t\t\t\t<g id="sad" stroke="none" stroke-width=".8" fill="none" fill-rule="evenodd">\r\n\t\t\t\t\t<g id="Group" fill="#c8930c">\r\n\t\t\t\t\t\t<circle cx="10.84" cy="5.68" r="1.03"></circle>\r\n\t\t\t\t\t\t<circle cx="5.16" cy="5.68" r="1.03"></circle>\r\n\t\t\t\t\t\t<path d="M8,0 C3.58177778,0 0,3.58177778 0,8 C0,12.4182222 3.58177778,16 8,16 C12.4182222,16 16,12.4182222 16,8 C16,3.58177778 12.4182222,0 8,0 Z M8,14.6671111 C4.31822222,14.6671111 1.33333333,11.6822222 1.33333333,8.00044444 C1.33333333,4.31844444 4.31822222,1.33333333 8,1.33333333 C11.6822222,1.33333333 14.6671111,4.31822222 14.6671111,8.00022222 C14.6671111,11.6822222 11.6822222,14.6671111 8,14.6671111 Z"\r\n\t\t\t\t\t\t\tfill-rule="nonzero"></path>\r\n\t\t\t\t\t\t<path d="M11.1988131,12.3870968 C10.9618705,12.3870968 10.7318091,12.2666654 10.6093237,12.0538815 C10.0854351,11.1424204 9.08513805,10.5760202 7.99974353,10.5760202 C6.91411964,10.5760202 5.914052,11.1424204 5.39016335,12.0538815 C5.21125217,12.3649409 4.80250892,12.4785719 4.47748694,12.307248 C4.15223558,12.1363627 4.03342021,11.7454545 4.21233139,11.434395 C4.97247455,10.1118441 6.42394887,9.29032258 7.99997291,9.29032258 C9.57576756,9.29032258 11.0274713,10.1120635 11.7876144,11.434395 C11.9665256,11.7454545 11.8479396,12.1361433 11.5226882,12.307248 C11.4194703,12.3614311 11.3084536,12.3870968 11.1988131,12.3870968 Z"></path>\r\n\t\t\t\t\t</g>\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t\t${localizedStrings.noResultsFound || msg.NoResultsFound}\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/utility/suggester/qp-editor-wrapper.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n  <require from="./elements/qp-suggester"></require>\r\n  <slot></slot>\r\n  <qp-suggester if.bind="config && config.suggester && editor" editor.two-way="editor" rect-element.bind="rectElement"\r\n    set-editor-value.call="setEditorValue(value,display,useUpdateValue)" config.bind="config.suggester"></qp-suggester>\r\n</template>\r\n'},"client-controls/controls/utility/tooltip/qp-tooltip.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-tooltip.css"></require>\r\n\t<div ref="contentElement"\r\n\t\t  class="qp-tooltip-container ${errorCssClass(errorLevel)}"\r\n\t\t  glue-to="target.bind: glueTarget; options.bind: {ignoreTargetWidth:true, centerToTarget: centerToTarget, verticalDistanceFromTargetPX:8}"\r\n\t\t  css="--pointer-adjust:${pointerAdjustX}" style="display: none"\r\n\t\t  glued.delegate="afterGlued($event)" click.capture="stopPropagation($event)">\r\n\t\t<slot>\r\n\t\t\t${tooltip}\r\n\t\t</slot>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/utility/wait-cursor/qp-wait-cursor.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n\t<require from="./qp-wait-cursor.css"></require>\r\n\t<div class="wait-cursor" if.bind="callbackRunning && blockPage">\r\n\t</div>\r\n</template>\r\n'},"client-controls/plugins/bank-feed/qp-mx.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n<require from="./qp-mx.css"></require>\r\n<div id="mx-form-container">\r\n\t<div id="mx-form-header">\r\n      <i class="ac ac-close ac-pull-right" tooltip="Close payment form" click.delegate="cancelAndCloseForm()"></i>\r\n    </div>\r\n\t<div id="mx-form-wrapper">\r\n    </div>\r\n</div>\r\n</template>'},"client-controls/plugins/payment/qp-authorize-net-hosted-form.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template id="${config.id}" class="${config.class}">\r\n    <style>\r\n        #AcceptUIContainer button {\r\n            background-color: blue;\r\n        }\r\n    </style>\r\n    <form id="paymentForm" style="opacity: 0;" method="POST">\r\n        <input type="hidden" name="dataValue" id="dataValue" />\r\n        <input type="hidden" name="dataDescriptor" id="dataDescriptor" />\r\n        <button id="acceptButton" type="button"\r\n            class="AcceptUI"\r\n            data-billingAddressOptions=\'{"show":true, "required":false}\'\r\n            data-acceptUIFormBtnTxt="Submit" \r\n            data-acceptUIFormHeaderTxt="Card Information" \r\n            data-responseHandler="responseHandler">Pay\r\n        </button>\r\n    </form>\r\n</template>'},"client-controls/plugins/payment/qp-authorize-net.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template id="${config.id}" class="${config.class}">\r\n    <require from="./qp-authorize-net.css"></require>\r\n    <div ref="paymentForm">\r\n        <p>\r\n            <label>Card Number</label>\r\n            <input type="text" maxlength="16" value.bind="cardData.cardNumber"/>\r\n        </p>\r\n        <p>\r\n            <label>Month</label>\r\n            <input type="text" maxlength="2" value.bind="cardData.month"/>\r\n        </p>\r\n        <p>\r\n            <label>Year</label>\r\n            <input type="text" maxlength="4" value.bind="cardData.year"/>\r\n        </p>\r\n        <p>\r\n            <label>Card Code</label>\r\n            <input type="text" maxlength="3" value.bind="cardData.cardCode"/>\r\n        </p>\r\n        <p>\r\n        <button ref="okPayButton" type="button" click.delegate="sendPaymentDataToAnet()">Pay</button>\r\n        <button ref="cancelPayButton" type="button" click.delegate="closePaymentForm()">Cancel</button>\r\n        </p>\r\n    </div>\r\n</template>'},"client-controls/plugins/payment/qp-fortis.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template id="${config.id}" class="${config.class}">\r\n  <require from="./qp-fortis.css"></require>\r\n  <div ref="paymentForm" id="payment-form-fortis" class="flexible">\r\n    <div ref="headerForDrag" mousedown.trigger="mouseDown($event)">\r\n      <label class="payment-form-label">${title}</label>\r\n      <i class="ac ac-close ac-pull-right" tooltip="Close payment form"\r\n        click.delegate="cancelAndClosePaymentForm()"></i>\r\n    </div>\r\n  </div>\r\n</template>'},"client-controls/plugins/payment/qp-stripe.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r='<template>\r\n  <require from="./qp-stripe.css"></require>\r\n  <div class="payment-form-background ${isMobile?\'payment-mobile\':\'\'}"></div>\r\n  <div ref="paymentForm" class="${isMobile?\'payment-mobile\':\'\'}" id="payment-form" keydown.capture="keyDown($event)">\r\n    <div ref="headerForDrag" mousedown.trigger="mouseDown($event)">\r\n      <label class="payment-form-label">${title}</label>\r\n      <i class="ac ac-close ac-pull-right" tooltip="Close payment form"\r\n        click.delegate="cancelAndClosePaymentForm()"></i>\r\n    </div>\r\n    <div class="payment-card">\r\n      <div class="card-front">\r\n        <div>\r\n          <label ref="cardNumberLabel" required>${localizedStrings.CardNumber}</label>\r\n          <div id="card-number" class="payment-form-input"></div>\r\n        </div>\r\n        <div class="card-expiry">\r\n          <label ref="cardExpiryLabel" required>${localizedStrings.ExpirationDate}</label>\r\n          <div id="card-expiry" class="payment-form-input"></div>\r\n        </div>\r\n      </div>\r\n      <div class="card-back">\r\n        <div class="magnetic-line"></div>\r\n        <div class="card-cvc">\r\n          <label ref="cardCvcLabel">${localizedStrings.Cvc}</label>\r\n          <div id="card-cvc" class="payment-form-input"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div id="additional-payment-info">\r\n      <template repeat.for="item of fields">\r\n        <div if.bind="item === separateBefore">\r\n          <fieldset class="address-separator">\r\n            <legend>${localizedStrings.ContactInfo}</legend>\r\n          </fieldset>\r\n        </div>\r\n        <div>\r\n          <label for="${item}">${localizedStrings[item]}</label>\r\n          <input id="${item}" class="payment-form-input"\r\n            keydown.capture="keyInputDown($event, ($index+1==fields.length)?\'pay-button\':fields[$index+1], ($index==0)?\'card-expiry\':fields[$index-1])">\r\n        </div>\r\n      </template>\r\n    </div>\r\n    <div class="form-errors ${(errors == \'\')? \'payment-errors-hidden\': \'\'}">\r\n      <i class="ac ac-warning"></i>\r\n      <div id="card-errors">${errors}</div>\r\n    </div>\r\n    <button ref="payButton" id="pay-button" disabled class="pay-button">${buttonCaption} ${sum} ${currency}</button>\r\n  </div>\r\n</template>'},"./node_modules/client-controls/controls/compound/address-lookup/address-helper.d.ts":()=>{},"./node_modules/client-controls/controls/compound/address-lookup/address-lookup-service.d.ts":()=>{},"./node_modules/client-controls/controls/compound/address-lookup/map-api/bing-api.d.ts":()=>{},"./node_modules/client-controls/controls/compound/address-lookup/map-api/default-api.d.ts":()=>{},"./node_modules/client-controls/controls/compound/address-lookup/map-api/google-api.d.ts":()=>{},"./node_modules/client-controls/controls/compound/address-lookup/map-api/map-api.d.ts":()=>{},"./node_modules/client-controls/controls/compound/address-lookup/map-provider-properties-service.d.ts":()=>{},"./node_modules/client-controls/controls/compound/address-lookup/qp-address-lookup.d.ts":()=>{},"./node_modules/client-controls/controls/compound/address-lookup/types.d.ts":()=>{},"./node_modules/@microsoft/signalr/dist/esm/AbortController.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbortController:()=>AbortController});class AbortController{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}},"./node_modules/@microsoft/signalr/dist/esm/AccessTokenHttpClient.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessTokenHttpClient:()=>AccessTokenHttpClient});var r=n("./node_modules/@microsoft/signalr/dist/esm/HeaderNames.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/HttpClient.js");class AccessTokenHttpClient extends o.HttpClient{constructor(e,t){super(),this._innerClient=e,this._accessTokenFactory=t}async send(e){let t=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const n=await this._innerClient.send(e);return t&&401===n.statusCode&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):n}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[r.HeaderNames.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[r.HeaderNames.Authorization]&&delete e.headers[r.HeaderNames.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}},"./node_modules/@microsoft/signalr/dist/esm/DefaultHttpClient.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DefaultHttpClient:()=>DefaultHttpClient});var r=n("./node_modules/@microsoft/signalr/dist/esm/Errors.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/FetchHttpClient.js"),a=n("./node_modules/@microsoft/signalr/dist/esm/HttpClient.js"),l=n("./node_modules/@microsoft/signalr/dist/esm/Utils.js"),d=n("./node_modules/@microsoft/signalr/dist/esm/XhrHttpClient.js");class DefaultHttpClient extends a.HttpClient{constructor(e){if(super(),"undefined"!=typeof fetch||l.Platform.isNode)this._httpClient=new o.FetchHttpClient(e);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");this._httpClient=new d.XhrHttpClient(e)}}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new r.AbortError):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}},"./node_modules/@microsoft/signalr/dist/esm/DefaultReconnectPolicy.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DefaultReconnectPolicy:()=>DefaultReconnectPolicy});const r=[0,2e3,1e4,3e4,null];class DefaultReconnectPolicy{constructor(e){this._retryDelays=void 0!==e?[...e,null]:r}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}},"./node_modules/@microsoft/signalr/dist/esm/Errors.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbortError:()=>AbortError,AggregateErrors:()=>AggregateErrors,DisabledTransportError:()=>DisabledTransportError,FailedToNegotiateWithServerError:()=>FailedToNegotiateWithServerError,FailedToStartTransportError:()=>FailedToStartTransportError,HttpError:()=>HttpError,TimeoutError:()=>TimeoutError,UnsupportedTransportError:()=>UnsupportedTransportError});class HttpError extends Error{constructor(e,t){const n=new.target.prototype;super(`${e}: Status code '${t}'`),this.statusCode=t,this.__proto__=n}}class TimeoutError extends Error{constructor(e="A timeout occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class AbortError extends Error{constructor(e="An abort occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class UnsupportedTransportError extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=n}}class DisabledTransportError extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=n}}class FailedToStartTransportError extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=n}}class FailedToNegotiateWithServerError extends Error{constructor(e){const t=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}}class AggregateErrors extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.innerErrors=t,this.__proto__=n}}},"./node_modules/@microsoft/signalr/dist/esm/FetchHttpClient.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{FetchHttpClient:()=>FetchHttpClient});var r=n("./node_modules/@microsoft/signalr/dist/esm/Errors.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/HttpClient.js"),a=n("./node_modules/@microsoft/signalr/dist/esm/ILogger.js"),l=n("./node_modules/@microsoft/signalr/dist/esm/Utils.js");class FetchHttpClient extends o.HttpClient{constructor(e){if(super(),this._logger=e,"undefined"==typeof fetch){const e=require;this._jar=new(e("tough-cookie").CookieJar),this._fetchType=e("node-fetch"),this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind((0,l.getGlobalThis)());if("undefined"==typeof AbortController){const e=require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new r.AbortError;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const t=new this._abortControllerType;let n;e.abortSignal&&(e.abortSignal.onabort=()=>{t.abort(),n=new r.AbortError});let d,c=null;if(e.timeout){const o=e.timeout;c=setTimeout((()=>{t.abort(),this._logger.log(a.LogLevel.Warning,"Timeout from HTTP request."),n=new r.TimeoutError}),o)}""===e.content&&(e.content=void 0),e.content&&(e.headers=e.headers||{},(0,l.isArrayBuffer)(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");try{d=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(e){if(n)throw n;throw this._logger.log(a.LogLevel.Warning,`Error from HTTP request. ${e}.`),e}finally{c&&clearTimeout(c),e.abortSignal&&(e.abortSignal.onabort=null)}if(!d.ok){const e=await deserializeContent(d,"text");throw new r.HttpError(e||d.statusText,d.status)}const u=deserializeContent(d,e.responseType),p=await u;return new o.HttpResponse(d.status,d.statusText,p)}getCookieString(e){let t="";return l.Platform.isNode&&this._jar&&this._jar.getCookies(e,((e,n)=>t=n.join("; "))),t}}function deserializeContent(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":default:n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`)}return n}},"./node_modules/@microsoft/signalr/dist/esm/HandshakeProtocol.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{HandshakeProtocol:()=>HandshakeProtocol});var r=n("./node_modules/@microsoft/signalr/dist/esm/TextMessageFormat.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/Utils.js");class HandshakeProtocol{writeHandshakeRequest(e){return r.TextMessageFormat.write(JSON.stringify(e))}parseHandshakeResponse(e){let t,n;if((0,o.isArrayBuffer)(e)){const o=new Uint8Array(e),a=o.indexOf(r.TextMessageFormat.RecordSeparatorCode);if(-1===a)throw new Error("Message is incomplete.");const l=a+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(o.slice(0,l))),n=o.byteLength>l?o.slice(l).buffer:null}else{const o=e,a=o.indexOf(r.TextMessageFormat.RecordSeparator);if(-1===a)throw new Error("Message is incomplete.");const l=a+1;t=o.substring(0,l),n=o.length>l?o.substring(l):null}const a=r.TextMessageFormat.parse(t),l=JSON.parse(a[0]);if(l.type)throw new Error("Expected a handshake response from the server.");return[n,l]}}},"./node_modules/@microsoft/signalr/dist/esm/HeaderNames.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{HeaderNames:()=>HeaderNames});class HeaderNames{}HeaderNames.Authorization="Authorization",HeaderNames.Cookie="Cookie"},"./node_modules/@microsoft/signalr/dist/esm/HttpClient.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{HttpClient:()=>HttpClient,HttpResponse:()=>HttpResponse});class HttpResponse{constructor(e,t,n){this.statusCode=e,this.statusText=t,this.content=n}}class HttpClient{get(e,t){return this.send({...t,method:"GET",url:e})}post(e,t){return this.send({...t,method:"POST",url:e})}delete(e,t){return this.send({...t,method:"DELETE",url:e})}getCookieString(e){return""}}},"./node_modules/@microsoft/signalr/dist/esm/HttpConnection.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{HttpConnection:()=>HttpConnection,TransportSendQueue:()=>TransportSendQueue});var r=n("./node_modules/@microsoft/signalr/dist/esm/AccessTokenHttpClient.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/DefaultHttpClient.js"),a=n("./node_modules/@microsoft/signalr/dist/esm/Errors.js"),l=n("./node_modules/@microsoft/signalr/dist/esm/ILogger.js"),d=n("./node_modules/@microsoft/signalr/dist/esm/ITransport.js"),c=n("./node_modules/@microsoft/signalr/dist/esm/LongPollingTransport.js"),u=n("./node_modules/@microsoft/signalr/dist/esm/ServerSentEventsTransport.js"),p=n("./node_modules/@microsoft/signalr/dist/esm/Utils.js"),h=n("./node_modules/@microsoft/signalr/dist/esm/WebSocketTransport.js");class HttpConnection{constructor(e,t={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,p.Arg.isRequired(e,"url"),this._logger=(0,p.createLogger)(t.logger),this.baseUrl=this._resolveUrl(e),(t=t||{}).logMessageContent=void 0!==t.logMessageContent&&t.logMessageContent,"boolean"!=typeof t.withCredentials&&void 0!==t.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.withCredentials=void 0===t.withCredentials||t.withCredentials,t.timeout=void 0===t.timeout?1e5:t.timeout;let n=null,a=null;if(p.Platform.isNode){const e=require;n=e("ws"),a=e("eventsource")}p.Platform.isNode||"undefined"==typeof WebSocket||t.WebSocket?p.Platform.isNode&&!t.WebSocket&&n&&(t.WebSocket=n):t.WebSocket=WebSocket,p.Platform.isNode||"undefined"==typeof EventSource||t.EventSource?p.Platform.isNode&&!t.EventSource&&void 0!==a&&(t.EventSource=a):t.EventSource=EventSource,this._httpClient=new r.AccessTokenHttpClient(t.httpClient||new o.DefaultHttpClient(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}async start(e){if(e=e||d.TransferFormat.Binary,p.Arg.isIn(e,d.TransferFormat,"transferFormat"),this._logger.log(l.LogLevel.Debug,`Starting connection with transfer format '${d.TransferFormat[e]}'.`),"Disconnected"!==this._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,"Disconnecting"===this._connectionState){const e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(l.LogLevel.Error,e),await this._stopPromise,Promise.reject(new a.AbortError(e))}if("Connected"!==this._connectionState){const e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(l.LogLevel.Error,e),Promise.reject(new a.AbortError(e))}this._connectionStarted=!0}send(e){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new TransportSendQueue(this.transport)),this._sendQueue.send(e))}async stop(e){return"Disconnected"===this._connectionState?(this._logger.log(l.LogLevel.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===this._connectionState?(this._logger.log(l.LogLevel.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState="Disconnecting",this._stopPromise=new Promise((e=>{this._stopPromiseResolver=e})),await this._stopInternal(e),void await this._stopPromise)}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch(e){}if(this.transport){try{await this.transport.stop()}catch(e){this._logger.log(l.LogLevel.Error,`HttpConnection.transport.stop() threw error '${e}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(l.LogLevel.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation){if(this._options.transport!==d.HttpTransportType.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");this.transport=this._constructTransport(d.HttpTransportType.WebSockets),await this._startTransport(t,e)}else{let n=null,r=0;do{if(n=await this._getNegotiationResponse(t),"Disconnecting"===this._connectionState||"Disconnected"===this._connectionState)throw new a.AbortError("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(t=n.url),n.accessToken){const e=n.accessToken;this._accessTokenFactory=()=>e,this._httpClient._accessToken=e,this._httpClient._accessTokenFactory=void 0}r++}while(n.url&&r<100);if(100===r&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(t,this._options.transport,n,e)}this.transport instanceof c.LongPollingTransport&&(this.features.inherentKeepAlive=!0),"Connecting"===this._connectionState&&(this._logger.log(l.LogLevel.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(e){return this._logger.log(l.LogLevel.Error,"Failed to start the connection: "+e),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(e)}}async _getNegotiationResponse(e){const t={},[n,r]=(0,p.getUserAgentHeader)();t[n]=r;const o=this._resolveNegotiateUrl(e);this._logger.log(l.LogLevel.Debug,`Sending negotiation request: ${o}.`);try{const e=await this._httpClient.post(o,{content:"",headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(200!==e.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${e.statusCode}'`));const n=JSON.parse(e.content);return(!n.negotiateVersion||n.negotiateVersion<1)&&(n.connectionToken=n.connectionId),n}catch(e){let t="Failed to complete negotiation with the server: "+e;return e instanceof a.HttpError&&404===e.statusCode&&(t+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(l.LogLevel.Error,t),Promise.reject(new a.FailedToNegotiateWithServerError(t))}}_createConnectUrl(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+`id=${t}`:e}async _createTransport(e,t,n,r){let o=this._createConnectUrl(e,n.connectionToken);if(this._isITransport(t))return this._logger.log(l.LogLevel.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,await this._startTransport(o,r),void(this.connectionId=n.connectionId);const c=[],u=n.availableTransports||[];let p=n;for(const n of u){const u=this._resolveTransportOrError(n,t,r);if(u instanceof Error)c.push(`${n.transport} failed:`),c.push(u);else if(this._isITransport(u)){if(this.transport=u,!p){try{p=await this._getNegotiationResponse(e)}catch(e){return Promise.reject(e)}o=this._createConnectUrl(e,p.connectionToken)}try{return await this._startTransport(o,r),void(this.connectionId=p.connectionId)}catch(e){if(this._logger.log(l.LogLevel.Error,`Failed to start the transport '${n.transport}': ${e}`),p=void 0,c.push(new a.FailedToStartTransportError(`${n.transport} failed: ${e}`,d.HttpTransportType[n.transport])),"Connecting"!==this._connectionState){const e="Failed to select transport before stop() was called.";return this._logger.log(l.LogLevel.Debug,e),Promise.reject(new a.AbortError(e))}}}}return c.length>0?Promise.reject(new a.AggregateErrors(`Unable to connect to the server with any of the available transports. ${c.join(" ")}`,c)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case d.HttpTransportType.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new h.WebSocketTransport(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case d.HttpTransportType.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new u.ServerSentEventsTransport(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case d.HttpTransportType.LongPolling:return new c.LongPollingTransport(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,t){return this.transport.onreceive=this.onreceive,this.transport.onclose=e=>this._stopConnection(e),this.transport.connect(e,t)}_resolveTransportOrError(e,t,n){const r=d.HttpTransportType[e.transport];if(null==r)return this._logger.log(l.LogLevel.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(!function transportMatches(e,t){return!e||0!=(t&e)}(t,r))return this._logger.log(l.LogLevel.Debug,`Skipping transport '${d.HttpTransportType[r]}' because it was disabled by the client.`),new a.DisabledTransportError(`'${d.HttpTransportType[r]}' is disabled by the client.`,r);if(!(e.transferFormats.map((e=>d.TransferFormat[e])).indexOf(n)>=0))return this._logger.log(l.LogLevel.Debug,`Skipping transport '${d.HttpTransportType[r]}' because it does not support the requested transfer format '${d.TransferFormat[n]}'.`),new Error(`'${d.HttpTransportType[r]}' does not support ${d.TransferFormat[n]}.`);if(r===d.HttpTransportType.WebSockets&&!this._options.WebSocket||r===d.HttpTransportType.ServerSentEvents&&!this._options.EventSource)return this._logger.log(l.LogLevel.Debug,`Skipping transport '${d.HttpTransportType[r]}' because it is not supported in your environment.'`),new a.UnsupportedTransportError(`'${d.HttpTransportType[r]}' is not supported in your environment.`,r);this._logger.log(l.LogLevel.Debug,`Selecting transport '${d.HttpTransportType[r]}'.`);try{return this._constructTransport(r)}catch(e){return e}}_isITransport(e){return e&&"object"==typeof e&&"connect"in e}_stopConnection(e){if(this._logger.log(l.LogLevel.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(l.LogLevel.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),e?this._logger.log(l.LogLevel.Error,`Connection disconnected with error '${e}'.`):this._logger.log(l.LogLevel.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch((e=>{this._logger.log(l.LogLevel.Error,`TransportSendQueue.stop() threw error '${e}'.`)})),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this._logger.log(l.LogLevel.Error,`HttpConnection.onclose(${e}) threw error '${t}'.`)}}}else this._logger.log(l.LogLevel.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if(!p.Platform.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const t=window.document.createElement("a");return t.href=e,this._logger.log(l.LogLevel.Information,`Normalizing '${e}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(e){const t=e.indexOf("?");let n=e.substring(0,-1===t?e.length:t);return"/"!==n[n.length-1]&&(n+="/"),n+="negotiate",n+=-1===t?"":e.substring(t),-1===n.indexOf("negotiateVersion")&&(n+=-1===t?"?":"&",n+="negotiateVersion="+this._negotiateVersion),n}}class TransportSendQueue{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new PromiseSource,this._transportResult=new PromiseSource,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new PromiseSource),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new PromiseSource;const e=this._transportResult;this._transportResult=void 0;const t="string"==typeof this._buffer[0]?this._buffer.join(""):TransportSendQueue._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(t),e.resolve()}catch(t){e.reject(t)}}}static _concatBuffers(e){const t=e.map((e=>e.byteLength)).reduce(((e,t)=>e+t)),n=new Uint8Array(t);let r=0;for(const t of e)n.set(new Uint8Array(t),r),r+=t.byteLength;return n.buffer}}class PromiseSource{constructor(){this.promise=new Promise(((e,t)=>[this._resolver,this._rejecter]=[e,t]))}resolve(){this._resolver()}reject(e){this._rejecter(e)}}},"./node_modules/@microsoft/signalr/dist/esm/HubConnection.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{HubConnection:()=>HubConnection,HubConnectionState:()=>u});var r=n("./node_modules/@microsoft/signalr/dist/esm/HandshakeProtocol.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/Errors.js"),a=n("./node_modules/@microsoft/signalr/dist/esm/IHubProtocol.js"),l=n("./node_modules/@microsoft/signalr/dist/esm/ILogger.js"),d=n("./node_modules/@microsoft/signalr/dist/esm/Subject.js"),c=n("./node_modules/@microsoft/signalr/dist/esm/Utils.js");var u;!function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"}(u||(u={}));class HubConnection{constructor(e,t,n,o){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(l.LogLevel.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},c.Arg.isRequired(e,"connection"),c.Arg.isRequired(t,"logger"),c.Arg.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=3e4,this.keepAliveIntervalInMilliseconds=15e3,this._logger=t,this._protocol=n,this.connection=e,this._reconnectPolicy=o,this._handshakeProtocol=new r.HandshakeProtocol,this.connection.onreceive=e=>this._processIncomingData(e),this.connection.onclose=e=>this._connectionClosed(e),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=u.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:a.MessageType.Ping})}static create(e,t,n,r){return new HubConnection(e,t,n,r)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==u.Disconnected&&this._connectionState!==u.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==u.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=u.Connecting,this._logger.log(l.LogLevel.Debug,"Starting HubConnection.");try{await this._startInternal(),c.Platform.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=u.Connected,this._connectionStarted=!0,this._logger.log(l.LogLevel.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=u.Disconnected,this._logger.log(l.LogLevel.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise(((e,t)=>{this._handshakeResolver=e,this._handshakeRejecter=t}));await this.connection.start(this._protocol.transferFormat);try{const t={protocol:this._protocol.name,version:this._protocol.version};if(this._logger.log(l.LogLevel.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(t)),this._logger.log(l.LogLevel.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(e){throw this._logger.log(l.LogLevel.Debug,`Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(e),e}}async stop(){const e=this._startPromise;this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch(e){}}_stopInternal(e){return this._connectionState===u.Disconnected?(this._logger.log(l.LogLevel.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===u.Disconnecting?(this._logger.log(l.LogLevel.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=u.Disconnecting,this._logger.log(l.LogLevel.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(l.LogLevel.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new o.AbortError("The connection was stopped before the hub handshake could complete."),this.connection.stop(e)))}stream(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._createStreamInvocation(e,t,r);let l;const c=new d.Subject;return c.cancelCallback=()=>{const e=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],l.then((()=>this._sendWithProtocol(e)))},this._callbacks[o.invocationId]=(e,t)=>{t?c.error(t):e&&(e.type===a.MessageType.Completion?e.error?c.error(new Error(e.error)):c.complete():c.next(e.item))},l=this._sendWithProtocol(o).catch((e=>{c.error(e),delete this._callbacks[o.invocationId]})),this._launchStreams(n,l),c}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._sendMessage(this._protocol.writeMessage(e))}send(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._sendWithProtocol(this._createInvocation(e,t,!0,r));return this._launchStreams(n,o),o}invoke(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._createInvocation(e,t,!1,r);return new Promise(((e,t)=>{this._callbacks[o.invocationId]=(n,r)=>{r?t(r):n&&(n.type===a.MessageType.Completion?n.error?t(new Error(n.error)):e(n.result):t(new Error(`Unexpected message type: ${n.type}`)))};const r=this._sendWithProtocol(o).catch((e=>{t(e),delete this._callbacks[o.invocationId]}));this._launchStreams(n,r)}))}on(e,t){e&&t&&(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),-1===this._methods[e].indexOf(t)&&this._methods[e].push(t))}off(e,t){if(!e)return;e=e.toLowerCase();const n=this._methods[e];if(n)if(t){const r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const t=this._protocol.parseMessages(e,this._logger);for(const e of t)switch(e.type){case a.MessageType.Invocation:this._invokeClientMethod(e);break;case a.MessageType.StreamItem:case a.MessageType.Completion:{const t=this._callbacks[e.invocationId];if(t){e.type===a.MessageType.Completion&&delete this._callbacks[e.invocationId];try{t(e)}catch(e){this._logger.log(l.LogLevel.Error,`Stream callback threw error: ${(0,c.getErrorString)(e)}`)}}break}case a.MessageType.Ping:break;case a.MessageType.Close:{this._logger.log(l.LogLevel.Information,"Close message received from server.");const t=e.error?new Error("Server returned an error on close: "+e.error):void 0;!0===e.allowReconnect?this.connection.stop(t):this._stopPromise=this._stopInternal(t);break}default:this._logger.log(l.LogLevel.Warning,`Invalid message type: ${e.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let t,n;try{[n,t]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(e){const t="Error parsing handshake response: "+e;this._logger.log(l.LogLevel.Error,t);const n=new Error(t);throw this._handshakeRejecter(n),n}if(t.error){const e="Server returned handshake error: "+t.error;this._logger.log(l.LogLevel.Error,e);const n=new Error(e);throw this._handshakeRejecter(n),n}return this._logger.log(l.LogLevel.Debug,"Server handshake complete."),this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout((()=>this.serverTimeout()),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout((async()=>{if(this._connectionState===u.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const t=e.target.toLowerCase(),n=this._methods[t];if(!n)return this._logger.log(l.LogLevel.Warning,`No client method with the name '${t}' found.`),void(e.invocationId&&(this._logger.log(l.LogLevel.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null))));const r=n.slice(),o=!!e.invocationId;let a,d,c;for(const n of r)try{const r=a;a=await n.apply(this,e.arguments),o&&a&&r&&(this._logger.log(l.LogLevel.Error,`Multiple results provided for '${t}'. Sending error to server.`),c=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),d=void 0}catch(e){d=e,this._logger.log(l.LogLevel.Error,`A callback for the method '${t}' threw error '${e}'.`)}c?await this._sendWithProtocol(c):o?(d?c=this._createCompletionMessage(e.invocationId,`${d}`,null):void 0!==a?c=this._createCompletionMessage(e.invocationId,null,a):(this._logger.log(l.LogLevel.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),c=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):a&&this._logger.log(l.LogLevel.Error,`Result given for '${t}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(l.LogLevel.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new o.AbortError("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===u.Disconnecting?this._completeClose(e):this._connectionState===u.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===u.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=u.Disconnected,this._connectionStarted=!1,c.Platform.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach((t=>t.apply(this,[e])))}catch(t){this._logger.log(l.LogLevel.Error,`An onclose callback called with error '${e}' threw error '${t}'.`)}}}async _reconnect(e){const t=Date.now();let n=0,r=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(n++,0,r);if(null===o)return this._logger.log(l.LogLevel.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void this._completeClose(e);if(this._connectionState=u.Reconnecting,e?this._logger.log(l.LogLevel.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(l.LogLevel.Information,"Connection reconnecting."),0!==this._reconnectingCallbacks.length){try{this._reconnectingCallbacks.forEach((t=>t.apply(this,[e])))}catch(t){this._logger.log(l.LogLevel.Error,`An onreconnecting callback called with error '${e}' threw error '${t}'.`)}if(this._connectionState!==u.Reconnecting)return void this._logger.log(l.LogLevel.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==o;){if(this._logger.log(l.LogLevel.Information,`Reconnect attempt number ${n} will start in ${o} ms.`),await new Promise((e=>{this._reconnectDelayHandle=setTimeout(e,o)})),this._reconnectDelayHandle=void 0,this._connectionState!==u.Reconnecting)return void this._logger.log(l.LogLevel.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(await this._startInternal(),this._connectionState=u.Connected,this._logger.log(l.LogLevel.Information,"HubConnection reconnected successfully."),0!==this._reconnectedCallbacks.length)try{this._reconnectedCallbacks.forEach((e=>e.apply(this,[this.connection.connectionId])))}catch(e){this._logger.log(l.LogLevel.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${e}'.`)}return}catch(e){if(this._logger.log(l.LogLevel.Information,`Reconnect attempt failed because of error '${e}'.`),this._connectionState!==u.Reconnecting)return this._logger.log(l.LogLevel.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(this._connectionState===u.Disconnecting&&this._completeClose());r=e instanceof Error?e:new Error(e.toString()),o=this._getNextRetryDelay(n++,Date.now()-t,r)}}this._logger.log(l.LogLevel.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,t,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:n})}catch(n){return this._logger.log(l.LogLevel.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${t}) threw error '${n}'.`),null}}_cancelCallbacksWithError(e){const t=this._callbacks;this._callbacks={},Object.keys(t).forEach((n=>{const r=t[n];try{r(null,e)}catch(t){this._logger.log(l.LogLevel.Error,`Stream 'error' callback called with '${e}' threw error: ${(0,c.getErrorString)(t)}`)}}))}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,t,n,r){if(n)return 0!==r.length?{arguments:t,streamIds:r,target:e,type:a.MessageType.Invocation}:{arguments:t,target:e,type:a.MessageType.Invocation};{const n=this._invocationId;return this._invocationId++,0!==r.length?{arguments:t,invocationId:n.toString(),streamIds:r,target:e,type:a.MessageType.Invocation}:{arguments:t,invocationId:n.toString(),target:e,type:a.MessageType.Invocation}}}_launchStreams(e,t){if(0!==e.length){t||(t=Promise.resolve());for(const n in e)e[n].subscribe({complete:()=>{t=t.then((()=>this._sendWithProtocol(this._createCompletionMessage(n))))},error:e=>{let r;r=e instanceof Error?e.message:e&&e.toString?e.toString():"Unknown error",t=t.then((()=>this._sendWithProtocol(this._createCompletionMessage(n,r))))},next:e=>{t=t.then((()=>this._sendWithProtocol(this._createStreamItemMessage(n,e))))}})}}_replaceStreamingParams(e){const t=[],n=[];for(let r=0;r<e.length;r++){const o=e[r];if(this._isObservable(o)){const a=this._invocationId;this._invocationId++,t[a]=o,n.push(a.toString()),e.splice(r,1)}}return[t,n]}_isObservable(e){return e&&e.subscribe&&"function"==typeof e.subscribe}_createStreamInvocation(e,t,n){const r=this._invocationId;return this._invocationId++,0!==n.length?{arguments:t,invocationId:r.toString(),streamIds:n,target:e,type:a.MessageType.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:e,type:a.MessageType.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:a.MessageType.CancelInvocation}}_createStreamItemMessage(e,t){return{invocationId:e,item:t,type:a.MessageType.StreamItem}}_createCompletionMessage(e,t,n){return t?{error:t,invocationId:e,type:a.MessageType.Completion}:{invocationId:e,result:n,type:a.MessageType.Completion}}}},"./node_modules/@microsoft/signalr/dist/esm/HubConnectionBuilder.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{HubConnectionBuilder:()=>HubConnectionBuilder});var r=n("./node_modules/@microsoft/signalr/dist/esm/DefaultReconnectPolicy.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/HttpConnection.js"),a=n("./node_modules/@microsoft/signalr/dist/esm/HubConnection.js"),l=n("./node_modules/@microsoft/signalr/dist/esm/ILogger.js"),d=n("./node_modules/@microsoft/signalr/dist/esm/JsonHubProtocol.js"),c=n("./node_modules/@microsoft/signalr/dist/esm/Loggers.js"),u=n("./node_modules/@microsoft/signalr/dist/esm/Utils.js");const p={trace:l.LogLevel.Trace,debug:l.LogLevel.Debug,info:l.LogLevel.Information,information:l.LogLevel.Information,warn:l.LogLevel.Warning,warning:l.LogLevel.Warning,error:l.LogLevel.Error,critical:l.LogLevel.Critical,none:l.LogLevel.None};class HubConnectionBuilder{configureLogging(e){if(u.Arg.isRequired(e,"logging"),function isLogger(e){return void 0!==e.log}(e))this.logger=e;else if("string"==typeof e){const t=function parseLogLevel(e){const t=p[e.toLowerCase()];if(void 0!==t)return t;throw new Error(`Unknown log level: ${e}`)}(e);this.logger=new u.ConsoleLogger(t)}else this.logger=new u.ConsoleLogger(e);return this}withUrl(e,t){return u.Arg.isRequired(e,"url"),u.Arg.isNotEmpty(e,"url"),this.url=e,this.httpConnectionOptions="object"==typeof t?{...this.httpConnectionOptions,...t}:{...this.httpConnectionOptions,transport:t},this}withHubProtocol(e){return u.Arg.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new r.DefaultReconnectPolicy(e):this.reconnectPolicy=e:this.reconnectPolicy=new r.DefaultReconnectPolicy,this}build(){const e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const t=new o.HttpConnection(this.url,e);return a.HubConnection.create(t,this.logger||c.NullLogger.instance,this.protocol||new d.JsonHubProtocol,this.reconnectPolicy)}}},"./node_modules/@microsoft/signalr/dist/esm/IHubProtocol.js":(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{MessageType:()=>r}),function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close"}(r||(r={}))},"./node_modules/@microsoft/signalr/dist/esm/ILogger.js":(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{LogLevel:()=>r}),function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"}(r||(r={}))},"./node_modules/@microsoft/signalr/dist/esm/ITransport.js":(e,t,n)=>{"use strict";var r,o;n.r(t),n.d(t,{HttpTransportType:()=>r,TransferFormat:()=>o}),function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"}(r||(r={})),function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"}(o||(o={}))},"./node_modules/@microsoft/signalr/dist/esm/JsonHubProtocol.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{JsonHubProtocol:()=>JsonHubProtocol});var r=n("./node_modules/@microsoft/signalr/dist/esm/IHubProtocol.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/ILogger.js"),a=n("./node_modules/@microsoft/signalr/dist/esm/ITransport.js"),l=n("./node_modules/@microsoft/signalr/dist/esm/Loggers.js"),d=n("./node_modules/@microsoft/signalr/dist/esm/TextMessageFormat.js");class JsonHubProtocol{constructor(){this.name="json",this.version=1,this.transferFormat=a.TransferFormat.Text}parseMessages(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=l.NullLogger.instance);const n=d.TextMessageFormat.parse(e),a=[];for(const e of n){const n=JSON.parse(e);if("number"!=typeof n.type)throw new Error("Invalid payload.");switch(n.type){case r.MessageType.Invocation:this._isInvocationMessage(n);break;case r.MessageType.StreamItem:this._isStreamItemMessage(n);break;case r.MessageType.Completion:this._isCompletionMessage(n);break;case r.MessageType.Ping:case r.MessageType.Close:break;default:t.log(o.LogLevel.Information,"Unknown message type '"+n.type+"' ignored.");continue}a.push(n)}return a}writeMessage(e){return d.TextMessageFormat.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(e,t){if("string"!=typeof e||""===e)throw new Error(t)}}},"./node_modules/@microsoft/signalr/dist/esm/Loggers.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{NullLogger:()=>NullLogger});class NullLogger{constructor(){}log(e,t){}}NullLogger.instance=new NullLogger},"./node_modules/@microsoft/signalr/dist/esm/LongPollingTransport.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{LongPollingTransport:()=>LongPollingTransport});var r=n("./node_modules/@microsoft/signalr/dist/esm/AbortController.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/Errors.js"),a=n("./node_modules/@microsoft/signalr/dist/esm/ILogger.js"),l=n("./node_modules/@microsoft/signalr/dist/esm/ITransport.js"),d=n("./node_modules/@microsoft/signalr/dist/esm/Utils.js");class LongPollingTransport{constructor(e,t,n){this._httpClient=e,this._logger=t,this._pollAbort=new r.AbortController,this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}async connect(e,t){if(d.Arg.isRequired(e,"url"),d.Arg.isRequired(t,"transferFormat"),d.Arg.isIn(t,l.TransferFormat,"transferFormat"),this._url=e,this._logger.log(a.LogLevel.Trace,"(LongPolling transport) Connecting."),t===l.TransferFormat.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,r]=(0,d.getUserAgentHeader)(),c={[n]:r,...this._options.headers},u={abortSignal:this._pollAbort.signal,headers:c,timeout:1e5,withCredentials:this._options.withCredentials};t===l.TransferFormat.Binary&&(u.responseType="arraybuffer");const p=`${e}&_=${Date.now()}`;this._logger.log(a.LogLevel.Trace,`(LongPolling transport) polling: ${p}.`);const h=await this._httpClient.get(p,u);200!==h.statusCode?(this._logger.log(a.LogLevel.Error,`(LongPolling transport) Unexpected response code: ${h.statusCode}.`),this._closeError=new o.HttpError(h.statusText||"",h.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,u)}async _poll(e,t){try{for(;this._running;)try{const n=`${e}&_=${Date.now()}`;this._logger.log(a.LogLevel.Trace,`(LongPolling transport) polling: ${n}.`);const r=await this._httpClient.get(n,t);204===r.statusCode?(this._logger.log(a.LogLevel.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):200!==r.statusCode?(this._logger.log(a.LogLevel.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new o.HttpError(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(a.LogLevel.Trace,`(LongPolling transport) data received. ${(0,d.getDataDetail)(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(a.LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(e){this._running?e instanceof o.TimeoutError?this._logger.log(a.LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=e,this._running=!1):this._logger.log(a.LogLevel.Trace,`(LongPolling transport) Poll errored after shutdown: ${e.message}`)}}finally{this._logger.log(a.LogLevel.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?(0,d.sendMessage)(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(a.LogLevel.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(a.LogLevel.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[t,n]=(0,d.getUserAgentHeader)();e[t]=n;const r={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};await this._httpClient.delete(this._url,r),this._logger.log(a.LogLevel.Trace,"(LongPolling transport) DELETE request sent.")}finally{this._logger.log(a.LogLevel.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(a.LogLevel.Trace,e),this.onclose(this._closeError)}}}},"./node_modules/@microsoft/signalr/dist/esm/ServerSentEventsTransport.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ServerSentEventsTransport:()=>ServerSentEventsTransport});var r=n("./node_modules/@microsoft/signalr/dist/esm/ILogger.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/ITransport.js"),a=n("./node_modules/@microsoft/signalr/dist/esm/Utils.js");class ServerSentEventsTransport{constructor(e,t,n,r){this._httpClient=e,this._accessToken=t,this._logger=n,this._options=r,this.onreceive=null,this.onclose=null}async connect(e,t){return a.Arg.isRequired(e,"url"),a.Arg.isRequired(t,"transferFormat"),a.Arg.isIn(t,o.TransferFormat,"transferFormat"),this._logger.log(r.LogLevel.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise(((n,l)=>{let d,c=!1;if(t===o.TransferFormat.Text){if(a.Platform.isBrowser||a.Platform.isWebWorker)d=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const t=this._httpClient.getCookieString(e),n={};n.Cookie=t;const[r,o]=(0,a.getUserAgentHeader)();n[r]=o,d=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...n,...this._options.headers}})}try{d.onmessage=e=>{if(this.onreceive)try{this._logger.log(r.LogLevel.Trace,`(SSE transport) data received. ${(0,a.getDataDetail)(e.data,this._options.logMessageContent)}.`),this.onreceive(e.data)}catch(e){return void this._close(e)}},d.onerror=e=>{c?this._close():l(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},d.onopen=()=>{this._logger.log(r.LogLevel.Information,`SSE connected to ${this._url}`),this._eventSource=d,c=!0,n()}}catch(e){return void l(e)}}else l(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))}async send(e){return this._eventSource?(0,a.sendMessage)(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}},"./node_modules/@microsoft/signalr/dist/esm/Subject.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Subject:()=>Subject});var r=n("./node_modules/@microsoft/signalr/dist/esm/Utils.js");class Subject{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}error(e){for(const t of this.observers)t.error&&t.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new r.SubjectSubscription(this,e)}}},"./node_modules/@microsoft/signalr/dist/esm/TextMessageFormat.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{TextMessageFormat:()=>TextMessageFormat});class TextMessageFormat{static write(e){return`${e}${TextMessageFormat.RecordSeparator}`}static parse(e){if(e[e.length-1]!==TextMessageFormat.RecordSeparator)throw new Error("Message is incomplete.");const t=e.split(TextMessageFormat.RecordSeparator);return t.pop(),t}}TextMessageFormat.RecordSeparatorCode=30,TextMessageFormat.RecordSeparator=String.fromCharCode(TextMessageFormat.RecordSeparatorCode)},"./node_modules/@microsoft/signalr/dist/esm/Utils.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Arg:()=>Arg,ConsoleLogger:()=>ConsoleLogger,Platform:()=>Platform,SubjectSubscription:()=>SubjectSubscription,VERSION:()=>l,constructUserAgent:()=>constructUserAgent,createLogger:()=>createLogger,formatArrayBuffer:()=>formatArrayBuffer,getDataDetail:()=>getDataDetail,getErrorString:()=>getErrorString,getGlobalThis:()=>getGlobalThis,getUserAgentHeader:()=>getUserAgentHeader,isArrayBuffer:()=>isArrayBuffer,sendMessage:()=>sendMessage});var r=n("./node_modules/@microsoft/signalr/dist/esm/ILogger.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/Loggers.js"),a=n("./node_modules/process/browser.js");const l="7.0.9";class Arg{static isRequired(e,t){if(null==e)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,n){if(!(e in t))throw new Error(`Unknown ${n} value: ${e}.`)}}class Platform{static get isBrowser(){return"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return"object"==typeof self&&"importScripts"in self}static get isReactNative(){return"object"==typeof window&&void 0===window.document}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function getDataDetail(e,t){let n="";return isArrayBuffer(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${formatArrayBuffer(e)}'`)):"string"==typeof e&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function formatArrayBuffer(e){const t=new Uint8Array(e);let n="";return t.forEach((e=>{n+=`0x${e<16?"0":""}${e.toString(16)} `})),n.substr(0,n.length-1)}function isArrayBuffer(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}async function sendMessage(e,t,n,o,a,l){const d={},[c,u]=getUserAgentHeader();d[c]=u,e.log(r.LogLevel.Trace,`(${t} transport) sending data. ${getDataDetail(a,l.logMessageContent)}.`);const p=isArrayBuffer(a)?"arraybuffer":"text",h=await n.post(o,{content:a,headers:{...d,...l.headers},responseType:p,timeout:l.timeout,withCredentials:l.withCredentials});e.log(r.LogLevel.Trace,`(${t} transport) request complete. Response status: ${h.statusCode}.`)}function createLogger(e){return void 0===e?new ConsoleLogger(r.LogLevel.Information):null===e?o.NullLogger.instance:void 0!==e.log?e:new ConsoleLogger(e)}class SubjectSubscription{constructor(e,t){this._subject=e,this._observer=t}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch((e=>{}))}}class ConsoleLogger{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){const n=`[${(new Date).toISOString()}] ${r.LogLevel[e]}: ${t}`;switch(e){case r.LogLevel.Critical:case r.LogLevel.Error:this.out.error(n);break;case r.LogLevel.Warning:this.out.warn(n);break;case r.LogLevel.Information:this.out.info(n);break;default:this.out.log(n)}}}}function getUserAgentHeader(){let e="X-SignalR-User-Agent";return Platform.isNode&&(e="User-Agent"),[e,constructUserAgent(l,getOsName(),getRuntime(),getRuntimeVersion())]}function constructUserAgent(e,t,n,r){let o="Microsoft SignalR/";const a=e.split(".");return o+=`${a[0]}.${a[1]}`,o+=` (${e}; `,o+=t&&""!==t?`${t}; `:"Unknown OS; ",o+=`${n}`,o+=r?`; ${r}`:"; Unknown Runtime Version",o+=")",o}function getOsName(){if(!Platform.isNode)return"";switch(a.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return a.platform}}function getRuntimeVersion(){if(Platform.isNode)return a.versions.node}function getRuntime(){return Platform.isNode?"NodeJS":"Browser"}function getErrorString(e){return e.stack?e.stack:e.message?e.message:`${e}`}function getGlobalThis(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("could not find global")}},"./node_modules/@microsoft/signalr/dist/esm/WebSocketTransport.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{WebSocketTransport:()=>WebSocketTransport});var r=n("./node_modules/@microsoft/signalr/dist/esm/HeaderNames.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/ILogger.js"),a=n("./node_modules/@microsoft/signalr/dist/esm/ITransport.js"),l=n("./node_modules/@microsoft/signalr/dist/esm/Utils.js");class WebSocketTransport{constructor(e,t,n,r,o,a){this._logger=n,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=a}async connect(e,t){let n;return l.Arg.isRequired(e,"url"),l.Arg.isRequired(t,"transferFormat"),l.Arg.isIn(t,a.TransferFormat,"transferFormat"),this._logger.log(o.LogLevel.Trace,"(WebSockets transport) Connecting."),this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise(((d,c)=>{let u;e=e.replace(/^http/,"ws");const p=this._httpClient.getCookieString(e);let h=!1;if(l.Platform.isNode||l.Platform.isReactNative){const t={},[o,a]=(0,l.getUserAgentHeader)();t[o]=a,n&&(t[r.HeaderNames.Authorization]=`Bearer ${n}`),p&&(t[r.HeaderNames.Cookie]=p),u=new this._webSocketConstructor(e,void 0,{headers:{...t,...this._headers}})}else n&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);u||(u=new this._webSocketConstructor(e)),t===a.TransferFormat.Binary&&(u.binaryType="arraybuffer"),u.onopen=t=>{this._logger.log(o.LogLevel.Information,`WebSocket connected to ${e}.`),this._webSocket=u,h=!0,d()},u.onerror=e=>{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"There was an error with the transport",this._logger.log(o.LogLevel.Information,`(WebSockets transport) ${t}.`)},u.onmessage=e=>{if(this._logger.log(o.LogLevel.Trace,`(WebSockets transport) data received. ${(0,l.getDataDetail)(e.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(e.data)}catch(e){return void this._close(e)}},u.onclose=e=>{if(h)this._close(e);else{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",c(new Error(t))}}}))}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(o.LogLevel.Trace,`(WebSockets transport) sending data. ${(0,l.getDataDetail)(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(o.LogLevel.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(e)||!1!==e.wasClean&&1e3===e.code?e instanceof Error?this.onclose(e):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)))}_isCloseEvent(e){return e&&"boolean"==typeof e.wasClean&&"number"==typeof e.code}}},"./node_modules/@microsoft/signalr/dist/esm/XhrHttpClient.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{XhrHttpClient:()=>XhrHttpClient});var r=n("./node_modules/@microsoft/signalr/dist/esm/Errors.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/HttpClient.js"),a=n("./node_modules/@microsoft/signalr/dist/esm/ILogger.js"),l=n("./node_modules/@microsoft/signalr/dist/esm/Utils.js");class XhrHttpClient extends o.HttpClient{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new r.AbortError):e.method?e.url?new Promise(((t,n)=>{const d=new XMLHttpRequest;d.open(e.method,e.url,!0),d.withCredentials=void 0===e.withCredentials||e.withCredentials,d.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===e.content&&(e.content=void 0),e.content&&((0,l.isArrayBuffer)(e.content)?d.setRequestHeader("Content-Type","application/octet-stream"):d.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const c=e.headers;c&&Object.keys(c).forEach((e=>{d.setRequestHeader(e,c[e])})),e.responseType&&(d.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{d.abort(),n(new r.AbortError)}),e.timeout&&(d.timeout=e.timeout),d.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),d.status>=200&&d.status<300?t(new o.HttpResponse(d.status,d.statusText,d.response||d.responseText)):n(new r.HttpError(d.response||d.responseText||d.statusText,d.status))},d.onerror=()=>{this._logger.log(a.LogLevel.Warning,`Error from HTTP request. ${d.status}: ${d.statusText}.`),n(new r.HttpError(d.statusText,d.status))},d.ontimeout=()=>{this._logger.log(a.LogLevel.Warning,"Timeout from HTTP request."),n(new r.TimeoutError)},d.send(e.content)})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}},"./node_modules/@microsoft/signalr/dist/esm/index.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbortError:()=>r.AbortError,DefaultHttpClient:()=>a.DefaultHttpClient,HttpClient:()=>o.HttpClient,HttpError:()=>r.HttpError,HttpResponse:()=>o.HttpResponse,HttpTransportType:()=>p.HttpTransportType,HubConnection:()=>l.HubConnection,HubConnectionBuilder:()=>d.HubConnectionBuilder,HubConnectionState:()=>l.HubConnectionState,JsonHubProtocol:()=>g.JsonHubProtocol,LogLevel:()=>u.LogLevel,MessageType:()=>c.MessageType,NullLogger:()=>h.NullLogger,Subject:()=>m.Subject,TimeoutError:()=>r.TimeoutError,TransferFormat:()=>p.TransferFormat,VERSION:()=>f.VERSION});var r=n("./node_modules/@microsoft/signalr/dist/esm/Errors.js"),o=n("./node_modules/@microsoft/signalr/dist/esm/HttpClient.js"),a=n("./node_modules/@microsoft/signalr/dist/esm/DefaultHttpClient.js"),l=n("./node_modules/@microsoft/signalr/dist/esm/HubConnection.js"),d=n("./node_modules/@microsoft/signalr/dist/esm/HubConnectionBuilder.js"),c=n("./node_modules/@microsoft/signalr/dist/esm/IHubProtocol.js"),u=n("./node_modules/@microsoft/signalr/dist/esm/ILogger.js"),p=n("./node_modules/@microsoft/signalr/dist/esm/ITransport.js"),h=n("./node_modules/@microsoft/signalr/dist/esm/Loggers.js"),g=n("./node_modules/@microsoft/signalr/dist/esm/JsonHubProtocol.js"),m=n("./node_modules/@microsoft/signalr/dist/esm/Subject.js"),f=n("./node_modules/@microsoft/signalr/dist/esm/Utils.js")},"aurelia-animator-css":(e,t,n)=>{"use strict";n.r(t),n.d(t,{CssAnimator:()=>a,configure:()=>configure});var r=n("./node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),o=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),a=function(){function CssAnimator(){this.useAnimationDoneClasses=!1,this.animationEnteredClass="au-entered",this.animationLeftClass="au-left",this.isAnimating=!1,this.verifyKeyframesExist=!0}return CssAnimator.prototype._addMultipleEventListener=function _addMultipleEventListener(e,t,n){for(var r=t.split(" "),o=0,a=r.length;o<a;++o)e.addEventListener(r[o],n,!1)},CssAnimator.prototype._removeMultipleEventListener=function _removeMultipleEventListener(e,t,n){for(var r=t.split(" "),o=0,a=r.length;o<a;++o)e.removeEventListener(r[o],n,!1)},CssAnimator.prototype._getElementAnimationDelay=function _getElementAnimationDelay(e){var t=o.DOM.getComputedStyle(e),n=void 0,r=void 0;if(t.getPropertyValue("animation-delay"))n="animation-delay";else if(t.getPropertyValue("-webkit-animation-delay"))n="-webkit-animation-delay";else{if(!t.getPropertyValue("-moz-animation-delay"))return 0;n="-moz-animation-delay"}return r=t.getPropertyValue(n),1e3*(r=Number(r.replace(/[^\d\.]/g,"")))},CssAnimator.prototype._getElementAnimationNames=function _getElementAnimationNames(e){var t=o.DOM.getComputedStyle(e),n=void 0;if(t.getPropertyValue("animation-name"))n="";else if(t.getPropertyValue("-webkit-animation-name"))n="-webkit-";else{if(!t.getPropertyValue("-moz-animation-name"))return[];n="-moz-"}var r=t.getPropertyValue(n+"animation-name");return r?r.split(" "):[]},CssAnimator.prototype._performSingleAnimate=function _performSingleAnimate(e,t){var n=this;return this._triggerDOMEvent(r.animationEvent.animateBegin,e),this.addClass(e,t,!0).then((function(o){return n._triggerDOMEvent(r.animationEvent.animateActive,e),!1!==o&&n.removeClass(e,t,!0).then((function(){n._triggerDOMEvent(r.animationEvent.animateDone,e)}))})).catch((function(){n._triggerDOMEvent(r.animationEvent.animateTimeout,e)}))},CssAnimator.prototype._triggerDOMEvent=function _triggerDOMEvent(e,t){var n=o.DOM.createCustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});o.DOM.dispatchEvent(n)},CssAnimator.prototype._animationChangeWithValidKeyframe=function _animationChangeWithValidKeyframe(e,t){var n=e.filter((function(e){return-1===t.indexOf(e)}));if(0===n.length)return!1;if(!this.verifyKeyframesExist)return!0;var r=window.CSSRule.KEYFRAMES_RULE||window.CSSRule.MOZ_KEYFRAMES_RULE||window.CSSRule.WEBKIT_KEYFRAMES_RULE,o=document.styleSheets;try{for(var a=0;a<o.length;++a){var l=null;try{l=o[a].cssRules}catch(e){}if(l)for(var d=0;d<l.length;++d){var c=l[d];if(c.type===r&&-1!==n.indexOf(c.name))return!0}}}catch(e){}return!1},CssAnimator.prototype.animate=function animate(e,t){var n=this;return Array.isArray(e)?Promise.all(e.map((function(e){return n._performSingleAnimate(e,t)}))):this._performSingleAnimate(e,t)},CssAnimator.prototype.runSequence=function runSequence(e){var t=this;return this._triggerDOMEvent(r.animationEvent.sequenceBegin,null),e.reduce((function(e,n){return e.then((function(){return t.animate(n.element,n.className)}))}),Promise.resolve(!0)).then((function(){t._triggerDOMEvent(r.animationEvent.sequenceDone,null)}))},CssAnimator.prototype._stateAnim=function _stateAnim(e,t,n){var o=this,a="au-"+t,l=a+"-active";return new Promise((function(d,c){var u=e.classList;o._triggerDOMEvent(r.animationEvent[t+"Begin"],e),o.useAnimationDoneClasses&&(u.remove(o.animationEnteredClass),u.remove(o.animationLeftClass)),u.add(a);var p=o._getElementAnimationNames(e),h=void 0,g=!1;o._addMultipleEventListener(e,"webkitAnimationStart animationstart",h=function animStart(n){n.target===e&&(g=!0,o.isAnimating=!0,o._triggerDOMEvent(r.animationEvent[t+"Active"],e),n.stopPropagation(),n.target.removeEventListener(n.type,h))},!1);var m=void 0;o._addMultipleEventListener(e,"webkitAnimationEnd animationend",m=function animEnd(c){g&&c.target===e&&(c.stopPropagation(),u.remove(l),u.remove(a),c.target.removeEventListener(c.type,m),o.useAnimationDoneClasses&&null!=n&&u.add(n),o.isAnimating=!1,o._triggerDOMEvent(r.animationEvent[t+"Done"],e),d(!0))},!1);var f=e.parentElement,v="data-animator-pending"+t,b=function cleanupAnimation(){var n=o._getElementAnimationNames(e);o._animationChangeWithValidKeyframe(n,p)||(u.remove(l),u.remove(a),o._removeMultipleEventListener(e,"webkitAnimationEnd animationend",m),o._removeMultipleEventListener(e,"webkitAnimationStart animationstart",h),o._triggerDOMEvent(r.animationEvent[t+"Timeout"],e),d(!1)),f&&f.setAttribute(v,+(f.getAttribute(v)||1)-1)};if(null!=f&&(f.classList.contains("au-stagger")||f.classList.contains("au-stagger-"+t))){var y=+(f.getAttribute(v)||0);f.setAttribute(v,y+1);var _=o._getElementAnimationDelay(f)*y;o._triggerDOMEvent(r.animationEvent.staggerNext,e),setTimeout((function(){u.add(l),b()}),_)}else u.add(l),b()}))},CssAnimator.prototype.enter=function enter(e){return this._stateAnim(e,"enter",this.animationEnteredClass)},CssAnimator.prototype.leave=function leave(e){return this._stateAnim(e,"leave",this.animationLeftClass)},CssAnimator.prototype.removeClass=function removeClass(e,t){var n=this,o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return new Promise((function(a,l){var d=e.classList;if(d.contains(t)||d.contains(t+"-add")){!0!==o&&n._triggerDOMEvent(r.animationEvent.removeClassBegin,e),d.contains(t+"-add")&&(d.remove(t+"-add"),d.add(t)),d.remove(t);var c=n._getElementAnimationNames(e),u=void 0,p=!1;n._addMultipleEventListener(e,"webkitAnimationStart animationstart",u=function animStart(t){t.target===e&&(p=!0,n.isAnimating=!0,!0!==o&&n._triggerDOMEvent(r.animationEvent.removeClassActive,e),t.stopPropagation(),t.target.removeEventListener(t.type,u))},!1);var h=void 0;n._addMultipleEventListener(e,"webkitAnimationEnd animationend",h=function animEnd(l){p&&l.target===e&&(e.classList.contains(t+"-remove")||a(!0),l.stopPropagation(),d.remove(t),d.remove(t+"-remove"),l.target.removeEventListener(l.type,h),n.isAnimating=!1,!0!==o&&n._triggerDOMEvent(r.animationEvent.removeClassDone,e),a(!0))},!1),d.add(t+"-remove");var g=n._getElementAnimationNames(e);n._animationChangeWithValidKeyframe(g,c)||(d.remove(t+"-remove"),d.remove(t),n._removeMultipleEventListener(e,"webkitAnimationEnd animationend",h),n._removeMultipleEventListener(e,"webkitAnimationStart animationstart",u),!0!==o&&n._triggerDOMEvent(r.animationEvent.removeClassTimeout,e),a(!1))}else a(!1)}))},CssAnimator.prototype.addClass=function addClass(e,t){var n=this,o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2];return new Promise((function(a,l){var d=e.classList;!0!==o&&n._triggerDOMEvent(r.animationEvent.addClassBegin,e),d.contains(t+"-remove")&&(d.remove(t+"-remove"),d.remove(t));var c=void 0,u=!1;n._addMultipleEventListener(e,"webkitAnimationStart animationstart",c=function animStart(t){t.target===e&&(u=!0,n.isAnimating=!0,!0!==o&&n._triggerDOMEvent(r.animationEvent.addClassActive,e),t.stopPropagation(),t.target.removeEventListener(t.type,c))},!1);var p=void 0;n._addMultipleEventListener(e,"webkitAnimationEnd animationend",p=function animEnd(l){u&&l.target===e&&(e.classList.contains(t+"-add")||a(!0),l.stopPropagation(),d.add(t),d.remove(t+"-add"),l.target.removeEventListener(l.type,p),n.isAnimating=!1,!0!==o&&n._triggerDOMEvent(r.animationEvent.addClassDone,e),a(!0))},!1);var h=n._getElementAnimationNames(e);d.add(t+"-add");var g=n._getElementAnimationNames(e);n._animationChangeWithValidKeyframe(g,h)||(d.remove(t+"-add"),d.add(t),n._removeMultipleEventListener(e,"webkitAnimationEnd animationend",p),n._removeMultipleEventListener(e,"webkitAnimationStart animationstart",c),!0!==o&&n._triggerDOMEvent(r.animationEvent.addClassTimeout,e),a(!1))}))},CssAnimator}();function configure(e,t){var n=e.container.get(a);e.container.get(r.TemplatingEngine).configureAnimator(n),"function"==typeof t&&t(n)}},"./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessKeyed:()=>le,AccessMember:()=>ae,AccessScope:()=>se,AccessThis:()=>oe,Assign:()=>ie,Binary:()=>pe,Binding:()=>Fn,BindingBehavior:()=>te,BindingBehaviorResource:()=>Ln,BindingEngine:()=>Un,BindingExpression:()=>Dn,Call:()=>Rn,CallExpression:()=>jn,CallFunction:()=>ue,CallMember:()=>ce,CallScope:()=>de,CheckedObserver:()=>yn,ClassObserver:()=>xn,CollectionLengthObserver:()=>z,ComputedExpression:()=>Cn,Conditional:()=>re,DataAttributeObserver:()=>gn,DirtyCheckProperty:()=>an,DirtyChecker:()=>sn,EventManager:()=>rn,EventSubscriber:()=>on,Expression:()=>ee,ExpressionCloner:()=>we,ExpressionObserver:()=>B,Listener:()=>Bn,ListenerExpression:()=>Vn,LiteralArray:()=>ve,LiteralObject:()=>be,LiteralPrimitive:()=>ge,LiteralString:()=>me,LiteralTemplate:()=>fe,ModifyCollectionObserver:()=>H,NameExpression:()=>$n,ObjectObservationAdapter:()=>Pn,ObserverLocator:()=>On,Parser:()=>xe,ParserImplementation:()=>Se,PrimitiveObserver:()=>cn,SVGAnalyzer:()=>An,SelectValueObserver:()=>_n,SetterObserver:()=>un,StyleObserver:()=>mn,Unary:()=>he,Unparser:()=>ye,ValueAttributeObserver:()=>fn,ValueConverter:()=>ne,ValueConverterResource:()=>Nn,XLinkAttributeObserver:()=>pn,bindingBehavior:()=>bindingBehavior,bindingMode:()=>_e,calcSplices:()=>calcSplices,camelCase:()=>camelCase,cloneExpression:()=>cloneExpression,computedFrom:()=>computedFrom,connectBindingToSignal:()=>connectBindingToSignal,connectable:()=>connectable,createComputedObserver:()=>createComputedObserver,createOverrideContext:()=>createOverrideContext,createScopeForTest:()=>createScopeForTest,dataAttributeAccessor:()=>hn,declarePropertyDependencies:()=>declarePropertyDependencies,delegationStrategy:()=>nn,disableConnectQueue:()=>disableConnectQueue,elements:()=>Mn,enableConnectQueue:()=>enableConnectQueue,enqueueBindingConnect:()=>enqueueBindingConnect,getArrayObserver:()=>_getArrayObserver,getChangeRecords:()=>getChangeRecords,getConnectQueueSize:()=>getConnectQueueSize,getContextFor:()=>getContextFor,getMapObserver:()=>_getMapObserver,getSetObserver:()=>_getSetObserver,hasDeclaredDependencies:()=>hasDeclaredDependencies,mergeSplice:()=>mergeSplice,observable:()=>observable,presentationAttributes:()=>In,presentationElements:()=>qn,projectArraySplices:()=>projectArraySplices,propertyAccessor:()=>dn,setConnectQueueThreshold:()=>setConnectQueueThreshold,signalBindings:()=>signalBindings,sourceContext:()=>k,subscriberCollection:()=>subscriberCollection,targetContext:()=>E,valueConverter:()=>valueConverter});var r,o,a,l,d,c,u,p,h,g,m,f,v,b=n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),y=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),_=n("./node_modules/aurelia-task-queue/dist/native-modules/aurelia-task-queue.js"),x=n("./node_modules/aurelia-metadata/dist/native-modules/aurelia-metadata.js"),C=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E="Binding:target",k="Binding:source",T=Object.create(null);function camelCase(e){if(e in T)return T[e];var t=e.charAt(0).toLowerCase()+e.slice(1).replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()}));return T[e]=t,t}function createOverrideContext(e,t){return{bindingContext:e,parentOverrideContext:t||null}}function getContextFor(e,t,n){var r=t.overrideContext;if(n){for(;n&&r;)n--,r=r.parentOverrideContext;if(n||!r)return;return e in r?r:r.bindingContext}for(;r&&!(e in r)&&(!r.bindingContext||!(e in r.bindingContext));)r=r.parentOverrideContext;return r?e in r?r:r.bindingContext:t.bindingContext||t.overrideContext}function createScopeForTest(e,t){return t?{bindingContext:e,overrideContext:createOverrideContext(e,createOverrideContext(t))}:{bindingContext:e,overrideContext:createOverrideContext(e)}}var M=[],q=[],I=-1;function ensureEnoughSlotNames(e){if(e===I){I+=5;for(var t=M.length=q.length=I+1,n=e+1;n<t;++n)M[n]="_observer"+n,q[n]="_observerVersion"+n}}function addObserver(e){for(var t=void 0===this._observerSlots?0:this._observerSlots,n=t;n--&&this[M[n]]!==e;);if(-1===n){for(n=0;this[M[n]];)n++;this[M[n]]=e,e.subscribe(k,this),n===t&&(this._observerSlots=n+1)}void 0===this._version&&(this._version=0),this[q[n]]=this._version,ensureEnoughSlotNames(n)}function observeProperty(e,t){var n=this.observerLocator.getObserver(e,t);addObserver.call(this,n)}function observeArray(e){var t=this.observerLocator.getArrayObserver(e);addObserver.call(this,t)}function unobserve(e){for(var t=this._observerSlots;t--;)if(e||this[q[t]]!==this._version){var n=this[M[t]];this[M[t]]=null,n&&n.unsubscribe(k,this)}}function connectable(){return function(e){e.prototype.observeProperty=observeProperty,e.prototype.observeArray=observeArray,e.prototype.unobserve=unobserve,e.prototype.addObserver=addObserver}}ensureEnoughSlotNames(-1);var A=[],O={},P=0,D=100,F=15,j=!1,R=0;function flush(e){for(var t=A.length,n=0;n<t;){var r=A[n];if(O[r.__connectQueueId]=!1,r.connect(!0),++n%100==0&&y.PLATFORM.performance.now()-e>F)break}A.splice(0,n),A.length?y.PLATFORM.requestAnimationFrame(flush):(j=!1,R=0)}function enqueueBindingConnect(e){if(R<D)R++,e.connect(!1);else{var t=e.__connectQueueId;void 0===t&&(t=P,P++,e.__connectQueueId=t),O[t]||(A.push(e),O[t]=!0)}j||(j=!0,y.PLATFORM.requestAnimationFrame(flush))}function setConnectQueueThreshold(e){D=e}function enableConnectQueue(){setConnectQueueThreshold(100)}function disableConnectQueue(){setConnectQueueThreshold(Number.MAX_SAFE_INTEGER)}function getConnectQueueSize(){return A.length}function addSubscriber(e,t){return!this.hasSubscriber(e,t)&&(this._context0?this._context1?this._context2?this._contextsRest?(this._contextsRest.push(e),this._callablesRest.push(t),!0):(this._contextsRest=[e],this._callablesRest=[t],!0):(this._context2=e,this._callable2=t,!0):(this._context1=e,this._callable1=t,!0):(this._context0=e,this._callable0=t,!0))}function removeSubscriber(e,t){if(this._context0===e&&this._callable0===t)return this._context0=null,this._callable0=null,!0;if(this._context1===e&&this._callable1===t)return this._context1=null,this._callable1=null,!0;if(this._context2===e&&this._callable2===t)return this._context2=null,this._callable2=null,!0;var n=this._callablesRest;if(void 0===n||0===n.length)return!1;for(var r=this._contextsRest,o=0;(n[o]!==t||r[o]!==e)&&n.length>o;)o++;return!(o>=n.length)&&(r.splice(o,1),n.splice(o,1),!0)}var N=[],L=[],V=[];function callSubscribers(e,t){var n=this._context0,r=this._callable0,o=this._context1,a=this._callable1,l=this._context2,d=this._callable2,c=this._contextsRest?this._contextsRest.length:0,u=void 0,p=void 0,h=void 0,g=void 0;if(c){for(h=V.length;h--&&V[h];);for(h<0?(h=V.length,u=[],p=[],V.push(!0),N.push(u),L.push(p)):(V[h]=!0,u=N[h],p=L[h]),g=c;g--;)u[g]=this._contextsRest[g],p[g]=this._callablesRest[g]}if(n&&(r?r.call(n,e,t):n(e,t)),o&&(a?a.call(o,e,t):o(e,t)),l&&(d?d.call(l,e,t):l(e,t)),c){for(g=0;g<c;g++){var m=p[g],f=u[g];m?m.call(f,e,t):f(e,t),u[g]=null,p[g]=null}V[h]=!1}}function hasSubscribers(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function hasSubscriber(e,t){if(this._context0===e&&this._callable0===t||this._context1===e&&this._callable1===t||this._context2===e&&this._callable2===t)return!0;var n=void 0,r=this._contextsRest;if(!r||0===(n=r.length))return!1;for(var o=this._callablesRest;n--;)if(r[n]===e&&o[n]===t)return!0;return!1}function subscriberCollection(){return function(e){e.prototype.addSubscriber=addSubscriber,e.prototype.removeSubscriber=removeSubscriber,e.prototype.callSubscribers=callSubscribers,e.prototype.hasSubscribers=hasSubscribers,e.prototype.hasSubscriber=hasSubscriber}}var B=connectable()(r=subscriberCollection()(r=function(){function ExpressionObserver(e,t,n,r){this.scope=e,this.expression=t,this.observerLocator=n,this.lookupFunctions=r}return ExpressionObserver.prototype.getValue=function getValue(){return this.expression.evaluate(this.scope,this.lookupFunctions)},ExpressionObserver.prototype.setValue=function setValue(e){this.expression.assign(this.scope,e)},ExpressionObserver.prototype.subscribe=function subscribe(e,t){var n=this;if(this.hasSubscribers()||(this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions),this.expression.connect(this,this.scope)),this.addSubscriber(e,t),1===arguments.length&&e instanceof Function)return{dispose:function dispose(){n.unsubscribe(e,t)}}},ExpressionObserver.prototype.unsubscribe=function unsubscribe(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&(this.unobserve(!0),this.oldValue=void 0)},ExpressionObserver.prototype.call=function call(){var e=this.expression.evaluate(this.scope,this.lookupFunctions),t=this.oldValue;e!==t&&(this.oldValue=e,this.callSubscribers(e,t)),this._version++,this.expression.connect(this,this.scope),this.unobserve(!1)},ExpressionObserver}())||r)||r;function toNumber(e){return+e}function newSplice(e,t,n){return{index:e,removed:t,addedCount:n}}function ArraySplice(){}ArraySplice.prototype={calcEditDistances:function calcEditDistances(e,t,n,r,o,a){for(var l=a-o+1,d=n-t+1,c=new Array(l),u=void 0,p=void 0,h=0;h<l;++h)c[h]=new Array(d),c[h][0]=h;for(var g=0;g<d;++g)c[0][g]=g;for(var m=1;m<l;++m)for(var f=1;f<d;++f)this.equals(e[t+f-1],r[o+m-1])?c[m][f]=c[m-1][f-1]:(u=c[m-1][f]+1,p=c[m][f-1]+1,c[m][f]=u<p?u:p);return c},spliceOperationsFromEditDistances:function spliceOperationsFromEditDistances(e){for(var t=e.length-1,n=e[0].length-1,r=e[t][n],o=[];t>0||n>0;)if(0!==t)if(0!==n){var a=e[t-1][n-1],l=e[t-1][n],d=e[t][n-1],c=void 0;(c=l<d?l<a?l:a:d<a?d:a)===a?(a===r?o.push(0):(o.push(1),r=a),t--,n--):c===l?(o.push(3),t--,r=l):(o.push(2),n--,r=d)}else o.push(3),t--;else o.push(2),n--;return o.reverse(),o},calcSplices:function calcSplices(e,t,n,r,o,a){var l=0,d=0,c=Math.min(n-t,a-o);if(0===t&&0===o&&(l=this.sharedPrefix(e,r,c)),n===e.length&&a===r.length&&(d=this.sharedSuffix(e,r,c-l)),o+=l,a-=d,(n-=d)-(t+=l)==0&&a-o==0)return[];if(t===n){for(var u=newSplice(t,[],0);o<a;)u.removed.push(r[o++]);return[u]}if(o===a)return[newSplice(t,[],n-t)];for(var p=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,t,n,r,o,a)),h=void 0,g=[],m=t,f=o,v=0;v<p.length;++v)switch(p[v]){case 0:h&&(g.push(h),h=void 0),m++,f++;break;case 1:h||(h=newSplice(m,[],0)),h.addedCount++,m++,h.removed.push(r[f]),f++;break;case 2:h||(h=newSplice(m,[],0)),h.addedCount++,m++;break;case 3:h||(h=newSplice(m,[],0)),h.removed.push(r[f]),f++}return h&&g.push(h),g},sharedPrefix:function sharedPrefix(e,t,n){for(var r=0;r<n;++r)if(!this.equals(e[r],t[r]))return r;return n},sharedSuffix:function sharedSuffix(e,t,n){for(var r=e.length,o=t.length,a=0;a<n&&this.equals(e[--r],t[--o]);)a++;return a},calculateSplices:function calculateSplices(e,t){return this.calcSplices(e,0,e.length,t,0,t.length)},equals:function equals(e,t){return e===t}};var $=new ArraySplice;function calcSplices(e,t,n,r,o,a){return $.calcSplices(e,t,n,r,o,a)}function mergeSplice(e,t,n,r){for(var o,a,l,d,c=newSplice(t,n,r),u=!1,p=0,h=0;h<e.length;h++){var g=e[h];if(g.index+=p,!u){var m=(o=c.index,a=c.index+c.removed.length,l=g.index,d=g.index+g.addedCount,a<l||d<o?-1:a===l||d===o?0:o<l?a<d?a-l:d-l:d<a?d-o:a-o);if(m>=0){e.splice(h,1),h--,p-=g.addedCount-g.removed.length,c.addedCount+=g.addedCount-m;var f=c.removed.length+g.removed.length-m;if(c.addedCount||f){var v=g.removed;if(c.index<g.index){var b=c.removed.slice(0,g.index-c.index);Array.prototype.push.apply(b,v),v=b}if(c.index+c.removed.length>g.index+g.addedCount){var y=c.removed.slice(g.index+g.addedCount-c.index);Array.prototype.push.apply(v,y)}c.removed=v,g.index<c.index&&(c.index=g.index)}else u=!0}else if(c.index<g.index){u=!0,e.splice(h,0,c),h++;var _=c.addedCount-c.removed.length;g.index+=_,p+=_}}}u||e.push(c)}function projectArraySplices(e,t){var n=[];return function createInitialSplices(e,t){for(var n,r=[],o=0;o<t.length;o++){var a=t[o];switch(a.type){case"splice":mergeSplice(r,a.index,a.removed.slice(),a.addedCount);break;case"add":case"update":case"delete":if(+(n=a.name)!=n>>>0)continue;var l=toNumber(a.name);if(l<0)continue;mergeSplice(r,l,[a.oldValue],"delete"===a.type?0:1);break;default:console.error("Unexpected record type: "+JSON.stringify(a))}}return r}(0,t).forEach((function(t){1!==t.addedCount||1!==t.removed.length?n=n.concat(calcSplices(e,t.index,t.index+t.addedCount,t.removed,0,t.removed.length)):t.removed[0]!==e[t.index]&&n.push(t)})),n}function getChangeRecords(e){for(var t,n,r,o=new Array(e.size),a=e.keys(),l=0,d=void 0;(d=a.next())&&!d.done;)o[l]=(t="added",n=e,r=d.value,{type:t,object:n,key:r,oldValue:void 0}),l++;return o}var H=subscriberCollection()(o=function(){function ModifyCollectionObserver(e,t){this.taskQueue=e,this.queued=!1,this.changeRecords=null,this.oldCollection=null,this.collection=t,this.lengthPropertyName=t instanceof Map||t instanceof Set?"size":"length"}return ModifyCollectionObserver.prototype.subscribe=function subscribe(e,t){this.addSubscriber(e,t)},ModifyCollectionObserver.prototype.unsubscribe=function unsubscribe(e,t){this.removeSubscriber(e,t)},ModifyCollectionObserver.prototype.addChangeRecord=function addChangeRecord(e){if(this.hasSubscribers()||this.lengthObserver){if("splice"===e.type){var t=e.index,n=e.object.length;t>n?t=n-e.addedCount:t<0&&(t=n+e.removed.length+t-e.addedCount),t<0&&(t=0),e.index=t}null===this.changeRecords?this.changeRecords=[e]:this.changeRecords.push(e),this.queued||(this.queued=!0,this.taskQueue.queueMicroTask(this))}},ModifyCollectionObserver.prototype.flushChangeRecords=function flushChangeRecords(){(this.changeRecords&&this.changeRecords.length||this.oldCollection)&&this.call()},ModifyCollectionObserver.prototype.reset=function reset(e){this.oldCollection=e,this.hasSubscribers()&&!this.queued&&(this.queued=!0,this.taskQueue.queueMicroTask(this))},ModifyCollectionObserver.prototype.getLengthObserver=function getLengthObserver(){return this.lengthObserver||(this.lengthObserver=new z(this.collection))},ModifyCollectionObserver.prototype.call=function call(){var e=this.changeRecords,t=this.oldCollection,n=void 0;this.queued=!1,this.changeRecords=[],this.oldCollection=null,this.hasSubscribers()&&(n=t?this.collection instanceof Map||this.collection instanceof Set?getChangeRecords(t):calcSplices(this.collection,0,this.collection.length,t,0,t.length):this.collection instanceof Map||this.collection instanceof Set?e:projectArraySplices(this.collection,e),this.callSubscribers(n)),this.lengthObserver&&this.lengthObserver.call(this.collection[this.lengthPropertyName])},ModifyCollectionObserver}())||o,z=subscriberCollection()(a=function(){function CollectionLengthObserver(e){this.collection=e,this.lengthPropertyName=e instanceof Map||e instanceof Set?"size":"length",this.currentValue=e[this.lengthPropertyName]}return CollectionLengthObserver.prototype.getValue=function getValue(){return this.collection[this.lengthPropertyName]},CollectionLengthObserver.prototype.setValue=function setValue(e){this.collection[this.lengthPropertyName]=e},CollectionLengthObserver.prototype.subscribe=function subscribe(e,t){this.addSubscriber(e,t)},CollectionLengthObserver.prototype.unsubscribe=function unsubscribe(e,t){this.removeSubscriber(e,t)},CollectionLengthObserver.prototype.call=function call(e){var t=this.currentValue;this.callSubscribers(e,t),this.currentValue=e},CollectionLengthObserver}())||a,U=Array.prototype,Q=U.pop,W=U.push,G=U.reverse,K=U.shift,X=U.sort,Y=U.splice,Z=U.unshift;function _getArrayObserver(e,t){return J.for(e,t)}U.__au_patched__?b.getLogger("array-observation").warn("Detected 2nd attempt of patching array from Aurelia binding. This is probably caused by dependency mismatch between core modules and a 3rd party plugin. Please see https://github.com/aurelia/cli/pull/906 if you are using webpack."):(Reflect.defineProperty(U,"__au_patched__",{value:1}),U.pop=function(){var e=this.length>0,t=Q.apply(this,arguments);return e&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:this.length,oldValue:t}),t},U.push=function(){var e=W.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length}),e},U.reverse=function(){var e=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),e=this.slice());var t=G.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(e),t},U.shift=function(){var e=this.length>0,t=K.apply(this,arguments);return e&&void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:0,oldValue:t}),t},U.sort=function(){var e=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),e=this.slice());var t=X.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(e),t},U.splice=function(){var e=Y.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:+arguments[0],removed:e,addedCount:arguments.length>2?arguments.length-2:0}),e},U.unshift=function(){var e=Z.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:0,removed:[],addedCount:arguments.length}),e});var J=function(e){function ModifyArrayObserver(t,n){return _possibleConstructorReturn(this,e.call(this,t,n))}return _inherits(ModifyArrayObserver,e),ModifyArrayObserver.for=function _for(e,t){return"__array_observer__"in t||Reflect.defineProperty(t,"__array_observer__",{value:ModifyArrayObserver.create(e,t),enumerable:!1,configurable:!1}),t.__array_observer__},ModifyArrayObserver.create=function create(e,t){return new ModifyArrayObserver(e,t)},ModifyArrayObserver}(H),ee=function(){function Expression(){this.isAssignable=!1}return Expression.prototype.evaluate=function evaluate(e,t,n){throw new Error('Binding expression "'+this+'" cannot be evaluated.')},Expression.prototype.assign=function assign(e,t,n){throw new Error('Binding expression "'+this+'" cannot be assigned to.')},Expression.prototype.toString=function toString(){return"undefined"==typeof FEATURE_NO_UNPARSER?ye.unparse(this):Function.prototype.toString.call(this)},Expression}(),te=function(e){function BindingBehavior(t,n,r){var o=_possibleConstructorReturn(this,e.call(this));return o.expression=t,o.name=n,o.args=r,o}return _inherits(BindingBehavior,e),BindingBehavior.prototype.evaluate=function evaluate(e,t){return this.expression.evaluate(e,t)},BindingBehavior.prototype.assign=function assign(e,t,n){return this.expression.assign(e,t,n)},BindingBehavior.prototype.accept=function accept(e){return e.visitBindingBehavior(this)},BindingBehavior.prototype.connect=function connect(e,t){this.expression.connect(e,t)},BindingBehavior.prototype.bind=function bind(e,t,n){this.expression.expression&&this.expression.bind&&this.expression.bind(e,t,n);var r=n.bindingBehaviors(this.name);if(!r)throw new Error('No BindingBehavior named "'+this.name+'" was found!');var o="behavior-"+this.name;if(e[o])throw new Error('A binding behavior named "'+this.name+'" has already been applied to "'+this.expression+'"');e[o]=r,r.bind.apply(r,[e,t].concat(evalList(t,this.args,e.lookupFunctions)))},BindingBehavior.prototype.unbind=function unbind(e,t){var n="behavior-"+this.name;e[n].unbind(e,t),e[n]=null,this.expression.expression&&this.expression.unbind&&this.expression.unbind(e,t)},BindingBehavior}(ee),ne=function(e){function ValueConverter(t,n,r){var o=_possibleConstructorReturn(this,e.call(this));return o.expression=t,o.name=n,o.args=r,o.allArgs=[t].concat(r),o}return _inherits(ValueConverter,e),ValueConverter.prototype.evaluate=function evaluate(e,t){var n=t.valueConverters(this.name);if(!n)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"toView"in n?n.toView.apply(n,evalList(e,this.allArgs,t)):this.allArgs[0].evaluate(e,t)},ValueConverter.prototype.assign=function assign(e,t,n){var r=n.valueConverters(this.name);if(!r)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"fromView"in r&&(t=r.fromView.apply(r,[t].concat(evalList(e,this.args,n)))),this.allArgs[0].assign(e,t,n)},ValueConverter.prototype.accept=function accept(e){return e.visitValueConverter(this)},ValueConverter.prototype.connect=function connect(e,t){for(var n=this.allArgs,r=n.length;r--;)n[r].connect(e,t);var o=e.lookupFunctions.valueConverters(this.name);if(!o)throw new Error('No ValueConverter named "'+this.name+'" was found!');var a=o.signals;if(void 0!==a)for(r=a.length;r--;)connectBindingToSignal(e,a[r])},ValueConverter}(ee),ie=function(e){function Assign(t,n){var r=_possibleConstructorReturn(this,e.call(this));return r.target=t,r.value=n,r.isAssignable=!0,r}return _inherits(Assign,e),Assign.prototype.evaluate=function evaluate(e,t){return this.target.assign(e,this.value.evaluate(e,t))},Assign.prototype.accept=function accept(e){e.visitAssign(this)},Assign.prototype.connect=function connect(e,t){},Assign.prototype.assign=function assign(e,t){this.value.assign(e,t),this.target.assign(e,t)},Assign}(ee),re=function(e){function Conditional(t,n,r){var o=_possibleConstructorReturn(this,e.call(this));return o.condition=t,o.yes=n,o.no=r,o}return _inherits(Conditional,e),Conditional.prototype.evaluate=function evaluate(e,t){return this.condition.evaluate(e,t)?this.yes.evaluate(e,t):this.no.evaluate(e,t)},Conditional.prototype.accept=function accept(e){return e.visitConditional(this)},Conditional.prototype.connect=function connect(e,t){this.condition.connect(e,t),this.condition.evaluate(t)?this.yes.connect(e,t):this.no.connect(e,t)},Conditional}(ee),oe=function(e){function AccessThis(t){var n=_possibleConstructorReturn(this,e.call(this));return n.ancestor=t,n}return _inherits(AccessThis,e),AccessThis.prototype.evaluate=function evaluate(e,t){for(var n=e.overrideContext,r=this.ancestor;r--&&n;)n=n.parentOverrideContext;return r<1&&n?n.bindingContext:void 0},AccessThis.prototype.accept=function accept(e){return e.visitAccessThis(this)},AccessThis.prototype.connect=function connect(e,t){},AccessThis}(ee),se=function(e){function AccessScope(t,n){var r=_possibleConstructorReturn(this,e.call(this));return r.name=t,r.ancestor=n,r.isAssignable=!0,r}return _inherits(AccessScope,e),AccessScope.prototype.evaluate=function evaluate(e,t){return getContextFor(this.name,e,this.ancestor)[this.name]},AccessScope.prototype.assign=function assign(e,t){var n=getContextFor(this.name,e,this.ancestor);return n?n[this.name]=t:void 0},AccessScope.prototype.accept=function accept(e){return e.visitAccessScope(this)},AccessScope.prototype.connect=function connect(e,t){var n=getContextFor(this.name,t,this.ancestor);e.observeProperty(n,this.name)},AccessScope}(ee),ae=function(e){function AccessMember(t,n){var r=_possibleConstructorReturn(this,e.call(this));return r.object=t,r.name=n,r.isAssignable=!0,r}return _inherits(AccessMember,e),AccessMember.prototype.evaluate=function evaluate(e,t){var n=this.object.evaluate(e,t);return null==n?n:n[this.name]},AccessMember.prototype.assign=function assign(e,t){var n=this.object.evaluate(e);return null==n&&(n={},this.object.assign(e,n)),n[this.name]=t,t},AccessMember.prototype.accept=function accept(e){return e.visitAccessMember(this)},AccessMember.prototype.connect=function connect(e,t){this.object.connect(e,t);var n=this.object.evaluate(t);n&&e.observeProperty(n,this.name)},AccessMember}(ee),le=function(e){function AccessKeyed(t,n){var r=_possibleConstructorReturn(this,e.call(this));return r.object=t,r.key=n,r.isAssignable=!0,r}return _inherits(AccessKeyed,e),AccessKeyed.prototype.evaluate=function evaluate(e,t){return function getKeyed(e,t){if(Array.isArray(e))return e[parseInt(t,10)];if(e)return e[t];if(null==e)return;return e[t]}(this.object.evaluate(e,t),this.key.evaluate(e,t))},AccessKeyed.prototype.assign=function assign(e,t){return function setKeyed(e,t,n){if(Array.isArray(e)){var r=parseInt(t,10);e.length<=r&&(e.length=r+1),e[r]=n}else e[t]=n;return n}(this.object.evaluate(e),this.key.evaluate(e),t)},AccessKeyed.prototype.accept=function accept(e){return e.visitAccessKeyed(this)},AccessKeyed.prototype.connect=function connect(e,t){this.object.connect(e,t);var n=this.object.evaluate(t);if(n instanceof Object){this.key.connect(e,t);var r=this.key.evaluate(t);null==r||Array.isArray(n)&&"number"==typeof r||e.observeProperty(n,r)}},AccessKeyed}(ee),de=function(e){function CallScope(t,n,r){var o=_possibleConstructorReturn(this,e.call(this));return o.name=t,o.args=n,o.ancestor=r,o}return _inherits(CallScope,e),CallScope.prototype.evaluate=function evaluate(e,t,n){var r=evalList(e,this.args,t),o=getContextFor(this.name,e,this.ancestor),a=getFunction(o,this.name,n);if(a)return a.apply(o,r)},CallScope.prototype.accept=function accept(e){return e.visitCallScope(this)},CallScope.prototype.connect=function connect(e,t){for(var n=this.args,r=n.length;r--;)n[r].connect(e,t)},CallScope}(ee),ce=function(e){function CallMember(t,n,r){var o=_possibleConstructorReturn(this,e.call(this));return o.object=t,o.name=n,o.args=r,o}return _inherits(CallMember,e),CallMember.prototype.evaluate=function evaluate(e,t,n){var r=this.object.evaluate(e,t),o=evalList(e,this.args,t),a=getFunction(r,this.name,n);if(a)return a.apply(r,o)},CallMember.prototype.accept=function accept(e){return e.visitCallMember(this)},CallMember.prototype.connect=function connect(e,t){if(this.object.connect(e,t),getFunction(this.object.evaluate(t),this.name,!1))for(var n=this.args,r=n.length;r--;)n[r].connect(e,t)},CallMember}(ee),ue=function(e){function CallFunction(t,n){var r=_possibleConstructorReturn(this,e.call(this));return r.func=t,r.args=n,r}return _inherits(CallFunction,e),CallFunction.prototype.evaluate=function evaluate(e,t,n){var r=this.func.evaluate(e,t);if("function"==typeof r)return r.apply(null,evalList(e,this.args,t));if(n||null!=r)throw new Error(this.func+" is not a function")},CallFunction.prototype.accept=function accept(e){return e.visitCallFunction(this)},CallFunction.prototype.connect=function connect(e,t){if(this.func.connect(e,t),"function"==typeof this.func.evaluate(t))for(var n=this.args,r=n.length;r--;)n[r].connect(e,t)},CallFunction}(ee),pe=function(e){function Binary(t,n,r){var o=_possibleConstructorReturn(this,e.call(this));return o.operation=t,o.left=n,o.right=r,o}return _inherits(Binary,e),Binary.prototype.evaluate=function evaluate(e,t){var n=this.left.evaluate(e,t);switch(this.operation){case"&&":return n&&this.right.evaluate(e,t);case"||":return n||this.right.evaluate(e,t)}var r=this.right.evaluate(e,t);switch(this.operation){case"==":return n==r;case"===":return n===r;case"!=":return n!=r;case"!==":return n!==r;case"instanceof":return"function"==typeof r&&n instanceof r;case"in":return"object"===(void 0===r?"undefined":S(r))&&null!==r&&n in r}if(null===n||null===r||void 0===n||void 0===r){switch(this.operation){case"+":return null!=n?n:null!=r?r:0;case"-":return null!=n?n:null!=r?0-r:0}return null}switch(this.operation){case"+":return function autoConvertAdd(e,t){if(null!==e&&null!==t)return"string"==typeof e&&"string"!=typeof t?e+t.toString():"string"!=typeof e&&"string"==typeof t?e.toString()+t:e+t;if(null!==e)return e;if(null!==t)return t;return 0}(n,r);case"-":return n-r;case"*":return n*r;case"/":return n/r;case"%":return n%r;case"<":return n<r;case">":return n>r;case"<=":return n<=r;case">=":return n>=r;case"^":return n^r}throw new Error("Internal error ["+this.operation+"] not handled")},Binary.prototype.accept=function accept(e){return e.visitBinary(this)},Binary.prototype.connect=function connect(e,t){this.left.connect(e,t);var n=this.left.evaluate(t);"&&"===this.operation&&!n||"||"===this.operation&&n||this.right.connect(e,t)},Binary}(ee),he=function(e){function Unary(t,n){var r=_possibleConstructorReturn(this,e.call(this));return r.operation=t,r.expression=n,r}return _inherits(Unary,e),Unary.prototype.evaluate=function evaluate(e,t){switch(this.operation){case"!":return!this.expression.evaluate(e,t);case"typeof":return S(this.expression.evaluate(e,t));case"void":return void this.expression.evaluate(e,t)}throw new Error("Internal error ["+this.operation+"] not handled")},Unary.prototype.accept=function accept(e){return e.visitPrefix(this)},Unary.prototype.connect=function connect(e,t){this.expression.connect(e,t)},Unary}(ee),ge=function(e){function LiteralPrimitive(t){var n=_possibleConstructorReturn(this,e.call(this));return n.value=t,n}return _inherits(LiteralPrimitive,e),LiteralPrimitive.prototype.evaluate=function evaluate(e,t){return this.value},LiteralPrimitive.prototype.accept=function accept(e){return e.visitLiteralPrimitive(this)},LiteralPrimitive.prototype.connect=function connect(e,t){},LiteralPrimitive}(ee),me=function(e){function LiteralString(t){var n=_possibleConstructorReturn(this,e.call(this));return n.value=t,n}return _inherits(LiteralString,e),LiteralString.prototype.evaluate=function evaluate(e,t){return this.value},LiteralString.prototype.accept=function accept(e){return e.visitLiteralString(this)},LiteralString.prototype.connect=function connect(e,t){},LiteralString}(ee),fe=function(e){function LiteralTemplate(t,n,r,o){var a=_possibleConstructorReturn(this,e.call(this));if(a.cooked=t,a.expressions=n||[],a.length=a.expressions.length,a.tagged=void 0!==o,a.tagged)if(a.cooked.raw=r,a.tag=o,o instanceof se)a.contextType="Scope";else{if(!(o instanceof ae||o instanceof le))throw new Error(a.tag+" is not a valid template tag");a.contextType="Object"}return a}return _inherits(LiteralTemplate,e),LiteralTemplate.prototype.getScopeContext=function getScopeContext(e,t){return getContextFor(this.tag.name,e,this.tag.ancestor)},LiteralTemplate.prototype.getObjectContext=function getObjectContext(e,t){return this.tag.object.evaluate(e,t)},LiteralTemplate.prototype.evaluate=function evaluate(e,t,n){for(var r=new Array(this.length),o=0;o<this.length;o++)r[o]=this.expressions[o].evaluate(e,t);if(this.tagged){var a=this.tag.evaluate(e,t);if("function"==typeof a){var l=this["get"+this.contextType+"Context"](e,t);return a.call.apply(a,[l,this.cooked].concat(r))}if(!n)return null;throw new Error(this.tag+" is not a function")}for(var d=this.cooked[0],c=0;c<this.length;c++)d=String.prototype.concat(d,r[c],this.cooked[c+1]);return d},LiteralTemplate.prototype.accept=function accept(e){return e.visitLiteralTemplate(this)},LiteralTemplate.prototype.connect=function connect(e,t){for(var n=0;n<this.length;n++)this.expressions[n].connect(e,t);this.tagged&&this.tag.connect(e,t)},LiteralTemplate}(ee),ve=function(e){function LiteralArray(t){var n=_possibleConstructorReturn(this,e.call(this));return n.elements=t,n}return _inherits(LiteralArray,e),LiteralArray.prototype.evaluate=function evaluate(e,t){for(var n=this.elements,r=[],o=0,a=n.length;o<a;++o)r[o]=n[o].evaluate(e,t);return r},LiteralArray.prototype.accept=function accept(e){return e.visitLiteralArray(this)},LiteralArray.prototype.connect=function connect(e,t){for(var n=this.elements.length,r=0;r<n;r++)this.elements[r].connect(e,t)},LiteralArray}(ee),be=function(e){function LiteralObject(t,n){var r=_possibleConstructorReturn(this,e.call(this));return r.keys=t,r.values=n,r}return _inherits(LiteralObject,e),LiteralObject.prototype.evaluate=function evaluate(e,t){for(var n={},r=this.keys,o=this.values,a=0,l=r.length;a<l;++a)n[r[a]]=o[a].evaluate(e,t);return n},LiteralObject.prototype.accept=function accept(e){return e.visitLiteralObject(this)},LiteralObject.prototype.connect=function connect(e,t){for(var n=this.keys.length,r=0;r<n;r++)this.values[r].connect(e,t)},LiteralObject}(ee);function evalList(e,t,n){for(var r=t.length,o=[],a=0;a<r;a++)o[a]=t[a].evaluate(e,n);return o}function getFunction(e,t,n){var r=null==e?null:e[t];if("function"==typeof r)return r;if(!n&&null==r)return null;throw new Error(t+" is not a function")}var ye=null;"undefined"==typeof FEATURE_NO_UNPARSER&&(ye=function(){function Unparser(e){this.buffer=e}return Unparser.unparse=function unparse(e){var t=[],n=new ye(t);return e.accept(n),t.join("")},Unparser.prototype.write=function write(e){this.buffer.push(e)},Unparser.prototype.writeArgs=function writeArgs(e){this.write("(");for(var t=0,n=e.length;t<n;++t)0!==t&&this.write(","),e[t].accept(this);this.write(")")},Unparser.prototype.visitBindingBehavior=function visitBindingBehavior(e){var t=e.args;e.expression.accept(this),this.write("&"+e.name);for(var n=0,r=t.length;n<r;++n)this.write(":"),t[n].accept(this)},Unparser.prototype.visitValueConverter=function visitValueConverter(e){var t=e.args;e.expression.accept(this),this.write("|"+e.name);for(var n=0,r=t.length;n<r;++n)this.write(":"),t[n].accept(this)},Unparser.prototype.visitAssign=function visitAssign(e){e.target.accept(this),this.write("="),e.value.accept(this)},Unparser.prototype.visitConditional=function visitConditional(e){e.condition.accept(this),this.write("?"),e.yes.accept(this),this.write(":"),e.no.accept(this)},Unparser.prototype.visitAccessThis=function visitAccessThis(e){if(0!==e.ancestor){this.write("$parent");for(var t=e.ancestor-1;t--;)this.write(".$parent")}else this.write("$this")},Unparser.prototype.visitAccessScope=function visitAccessScope(e){for(var t=e.ancestor;t--;)this.write("$parent.");this.write(e.name)},Unparser.prototype.visitAccessMember=function visitAccessMember(e){e.object.accept(this),this.write("."+e.name)},Unparser.prototype.visitAccessKeyed=function visitAccessKeyed(e){e.object.accept(this),this.write("["),e.key.accept(this),this.write("]")},Unparser.prototype.visitCallScope=function visitCallScope(e){for(var t=e.ancestor;t--;)this.write("$parent.");this.write(e.name),this.writeArgs(e.args)},Unparser.prototype.visitCallFunction=function visitCallFunction(e){e.func.accept(this),this.writeArgs(e.args)},Unparser.prototype.visitCallMember=function visitCallMember(e){e.object.accept(this),this.write("."+e.name),this.writeArgs(e.args)},Unparser.prototype.visitPrefix=function visitPrefix(e){this.write("("+e.operation),e.operation.charCodeAt(0)>=97&&this.write(" "),e.expression.accept(this),this.write(")")},Unparser.prototype.visitBinary=function visitBinary(e){e.left.accept(this),105===e.operation.charCodeAt(0)?this.write(" "+e.operation+" "):this.write(e.operation),e.right.accept(this)},Unparser.prototype.visitLiteralPrimitive=function visitLiteralPrimitive(e){this.write(""+e.value)},Unparser.prototype.visitLiteralArray=function visitLiteralArray(e){var t=e.elements;this.write("[");for(var n=0,r=t.length;n<r;++n)0!==n&&this.write(","),t[n].accept(this);this.write("]")},Unparser.prototype.visitLiteralObject=function visitLiteralObject(e){var t=e.keys,n=e.values;this.write("{");for(var r=0,o=t.length;r<o;++r)0!==r&&this.write(","),this.write("'"+t[r]+"':"),n[r].accept(this);this.write("}")},Unparser.prototype.visitLiteralString=function visitLiteralString(e){var t=e.value.replace(/'/g,"'");this.write("'"+t+"'")},Unparser.prototype.visitLiteralTemplate=function visitLiteralTemplate(e){var t=e.cooked,n=e.expressions,r=n.length;this.write("`"),this.write(t[0]);for(var o=0;o<r;o++)n[o].accept(this),this.write(t[o+1]);this.write("`")},Unparser}());var we=function(){function ExpressionCloner(){}return ExpressionCloner.prototype.cloneExpressionArray=function cloneExpressionArray(e){for(var t=[],n=e.length;n--;)t[n]=e[n].accept(this);return t},ExpressionCloner.prototype.visitBindingBehavior=function visitBindingBehavior(e){return new te(e.expression.accept(this),e.name,this.cloneExpressionArray(e.args))},ExpressionCloner.prototype.visitValueConverter=function visitValueConverter(e){return new ne(e.expression.accept(this),e.name,this.cloneExpressionArray(e.args))},ExpressionCloner.prototype.visitAssign=function visitAssign(e){return new ie(e.target.accept(this),e.value.accept(this))},ExpressionCloner.prototype.visitConditional=function visitConditional(e){return new re(e.condition.accept(this),e.yes.accept(this),e.no.accept(this))},ExpressionCloner.prototype.visitAccessThis=function visitAccessThis(e){return new oe(e.ancestor)},ExpressionCloner.prototype.visitAccessScope=function visitAccessScope(e){return new se(e.name,e.ancestor)},ExpressionCloner.prototype.visitAccessMember=function visitAccessMember(e){return new ae(e.object.accept(this),e.name)},ExpressionCloner.prototype.visitAccessKeyed=function visitAccessKeyed(e){return new le(e.object.accept(this),e.key.accept(this))},ExpressionCloner.prototype.visitCallScope=function visitCallScope(e){return new de(e.name,this.cloneExpressionArray(e.args),e.ancestor)},ExpressionCloner.prototype.visitCallFunction=function visitCallFunction(e){return new ue(e.func.accept(this),this.cloneExpressionArray(e.args))},ExpressionCloner.prototype.visitCallMember=function visitCallMember(e){return new ce(e.object.accept(this),e.name,this.cloneExpressionArray(e.args))},ExpressionCloner.prototype.visitUnary=function visitUnary(e){return new he(prefix.operation,prefix.expression.accept(this))},ExpressionCloner.prototype.visitBinary=function visitBinary(e){return new pe(e.operation,e.left.accept(this),e.right.accept(this))},ExpressionCloner.prototype.visitLiteralPrimitive=function visitLiteralPrimitive(e){return new ge(e)},ExpressionCloner.prototype.visitLiteralArray=function visitLiteralArray(e){return new ve(this.cloneExpressionArray(e.elements))},ExpressionCloner.prototype.visitLiteralObject=function visitLiteralObject(e){return new be(e.keys,this.cloneExpressionArray(e.values))},ExpressionCloner.prototype.visitLiteralString=function visitLiteralString(e){return new me(e.value)},ExpressionCloner.prototype.visitLiteralTemplate=function visitLiteralTemplate(e){return new fe(e.cooked,this.cloneExpressionArray(e.expressions),e.raw,e.tag&&e.tag.accept(this))},ExpressionCloner}();function cloneExpression(e){var t=new we;return e.accept(t)}var _e={oneTime:0,toView:1,oneWay:1,twoWay:2,fromView:3},xe=function(){function Parser(){this.cache=Object.create(null)}return Parser.prototype.parse=function parse(e){return e=e||"",this.cache[e]||(this.cache[e]=new Se(e).parseBindingBehavior())},Parser}(),Ce=String.fromCharCode,Se=function(){function ParserImplementation(e){this.idx=0,this.start=0,this.src=e,this.len=e.length,this.tkn=Ve,this.val=void 0,this.ch=e.charCodeAt(0)}return C(ParserImplementation,[{key:"raw",get:function get(){return this.src.slice(this.start,this.idx)}}]),ParserImplementation.prototype.parseBindingBehavior=function parseBindingBehavior(){this.nextToken(),this.tkn&je&&this.err("Invalid start of expression");for(var e=this.parseValueConverter();this.opt(gt);)e=new te(e,this.val,this.parseVariadicArgs());return this.tkn!==Ve&&this.err("Unconsumed token "+this.raw),e},ParserImplementation.prototype.parseValueConverter=function parseValueConverter(){for(var e=this.parseExpression();this.opt(mt);)e=new ne(e,this.val,this.parseVariadicArgs());return e},ParserImplementation.prototype.parseVariadicArgs=function parseVariadicArgs(){this.nextToken();for(var e=[];this.opt(pt);)e.push(this.parseExpression());return e},ParserImplementation.prototype.parseExpression=function parseExpression(){for(var e=this.idx,t=this.parseConditional();this.tkn===jt;)t.isAssignable||this.err("Expression "+this.src.slice(e,this.start)+" is not assignable"),this.nextToken(),e=this.idx,t=new ie(t,this.parseConditional());return t},ParserImplementation.prototype.parseConditional=function parseConditional(){var e=this.parseBinary(0);if(this.opt(ht)){var t=this.parseExpression();this.expect(pt),e=new re(e,t,this.parseExpression())}return e},ParserImplementation.prototype.parseBinary=function parseBinary(e){for(var t=this.parseLeftHandSide(0);this.tkn&Qe;){var n=this.tkn;if((n&Fe)<=e)break;this.nextToken(),t=new pe(Lt[n&De],t,this.parseBinary(n&Fe))}return t},ParserImplementation.prototype.parseLeftHandSide=function parseLeftHandSide(e){var t=void 0;e:switch(this.tkn){case qt:return this.nextToken(),this.parseLeftHandSide(0);case It:return this.nextToken(),new pe("-",new ge(0),this.parseLeftHandSide(0));case Rt:case At:case Ot:var n=Lt[this.tkn&De];return this.nextToken(),new he(n,this.parseLeftHandSide(0));case it:do{if(this.nextToken(),e++,this.opt(st))this.tkn===st&&this.err();else{if(this.tkn&Ne){t=new oe(e&Pe),e=e&Ae|Ee;break e}this.err()}}while(this.tkn===it);case Be:t=new se(this.val,e&Pe),this.nextToken(),e=e&Ae|ke;break;case nt:this.nextToken(),t=new oe(0),e=e&Ae|Ee;break;case rt:this.nextToken(),t=this.parseExpression(),this.expect(lt),e=Ie;break;case ct:this.nextToken();var r=[];if(this.tkn!==ut)do{r.push(this.parseExpression())}while(this.opt(dt));this.expect(ut),t=new ve(r),e=Ie;break;case ot:var o=[],a=[];for(this.nextToken();this.tkn!==at;){if(this.tkn&$e){var l=this.ch,d=this.tkn,c=this.idx;o.push(this.val),this.nextToken(),this.opt(pt)?a.push(this.parseExpression()):(this.ch=l,this.tkn=d,this.idx=c,a.push(this.parseLeftHandSide(Ae)))}else this.tkn&He?(o.push(this.val),this.nextToken(),this.expect(pt),a.push(this.parseExpression())):this.err();this.tkn!==at&&this.expect(dt)}this.expect(at),t=new be(o,a),e=Ie;break;case Ue:t=new me(this.val),this.nextToken(),e=Ie;break;case Xe:t=new fe([this.val]),this.nextToken(),e=Ie;break;case Ye:t=this.parseTemplate(0),e=Ie;break;case ze:t=new ge(this.val),this.nextToken();break;case et:case tt:case Je:case Ze:t=new ge(Lt[this.tkn&De]),this.nextToken(),e=Ie;break;default:this.idx>=this.len?this.err("Unexpected end of expression"):this.err()}if(e&Ae)return t;for(var u=this.val;this.tkn&Ke;)switch(this.tkn){case st:if(this.nextToken(),this.tkn&$e||this.err(),u=this.val,this.nextToken(),e=e&Ie|(e&(Ee|ke))<<1|e&Te|(e&Me)>>1|(e&qe)>>2,this.tkn===rt)continue;t=e&ke?new se(u,t.ancestor):new ae(t,u);continue;case ct:this.nextToken(),e=Me,t=new le(t,this.parseExpression()),this.expect(ut);break;case rt:this.nextToken();for(var p=[];this.tkn!==lt&&(p.push(this.parseExpression()),this.opt(dt)););this.expect(lt),t=e&ke?new de(u,p,t.ancestor):e&(Te|Ie)?new ce(t,u,p):new ue(t,p),e=qe;break;case Xe:t=new fe([this.val],[],[this.raw],t),this.nextToken();break;case Ye:t=this.parseTemplate(e|Oe,t)}return t},ParserImplementation.prototype.parseTemplate=function parseTemplate(e,t){var n=[this.val],r=e&Oe?[this.raw]:void 0;this.expect(Ye);for(var o=[this.parseExpression()];(this.tkn=this.scanTemplateTail())!==Xe;)n.push(this.val),e&Oe&&r.push(this.raw),this.expect(Ye),o.push(this.parseExpression());return n.push(this.val),e&Oe&&r.push(this.raw),this.nextToken(),new fe(n,o,r,t)},ParserImplementation.prototype.nextToken=function nextToken(){for(;this.idx<this.len;)if(this.ch<=32)this.next();else{if(this.start=this.idx,36===this.ch||this.ch>=97&&this.ch<=122)return void(this.tkn=this.scanIdentifier());if(null!==(this.tkn=Qt[this.ch](this)))return}this.tkn=Ve},ParserImplementation.prototype.next=function next(){return this.ch=this.src.charCodeAt(++this.idx)},ParserImplementation.prototype.scanIdentifier=function scanIdentifier(){for(;zt.has(this.next())||this.ch>127&&Ut[this.ch];);return Nt[this.val=this.raw]||Be},ParserImplementation.prototype.scanNumber=function scanNumber(e){if(e)this.val=0;else for(this.val=this.ch-48;this.next()<=57&&this.ch>=48;)this.val=10*this.val+this.ch-48;if(e||46===this.ch){e||this.next();for(var t=this.idx,n=this.ch-48;this.next()<=57&&this.ch>=48;)n=10*n+this.ch-48;this.val=this.val+n/Math.pow(10,this.idx-t)}if(101===this.ch||69===this.ch){var r=this.idx;for(this.next(),45!==this.ch&&43!==this.ch||this.next(),this.ch>=48&&this.ch<=57||(this.idx=r,this.err("Invalid exponent"));this.next()<=57&&this.ch>=48;);this.val=parseFloat(this.src.slice(this.start,this.idx))}return ze},ParserImplementation.prototype.scanString=function scanString(){var e=this.ch;this.next();for(var t=void 0,n=this.idx;this.ch!==e;)if(92===this.ch){t||(t=[]),t.push(this.src.slice(n,this.idx)),this.next();var r=void 0;if(117===this.ch)if(this.next(),this.idx+4<this.len){var o=this.src.slice(this.idx,this.idx+4);/[A-Z0-9]{4}/i.test(o)||this.err("Invalid unicode escape [\\u"+o+"]"),r=parseInt(o,16),this.idx+=4,this.ch=this.src.charCodeAt(this.idx)}else this.err();else r=unescape(this.ch),this.next();t.push(Ce(r)),n=this.idx}else 0===this.ch||this.idx>=this.len?this.err("Unterminated quote"):this.next();var a=this.src.slice(n,this.idx);this.next();var l=a;return null!=t&&(t.push(a),l=t.join("")),this.val=l,Ue},ParserImplementation.prototype.scanTemplate=function scanTemplate(){for(var e=!0,t="";96!==this.next();)if(36===this.ch){if(this.idx+1<this.len&&123===this.src.charCodeAt(this.idx+1)){this.idx++,e=!1;break}t+="$"}else 92===this.ch?t+=Ce(unescape(this.next())):0===this.ch||this.idx>=this.len?this.err("Unterminated template literal"):t+=Ce(this.ch);return this.next(),this.val=t,e?Xe:Ye},ParserImplementation.prototype.scanTemplateTail=function scanTemplateTail(){return this.idx>=this.len&&this.err("Unterminated template"),this.idx--,this.scanTemplate()},ParserImplementation.prototype.err=function err(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected token "+this.raw,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.start;throw new Error("Parser Error: "+e+" at column "+t+" in expression ["+this.src+"]")},ParserImplementation.prototype.opt=function opt(e){return this.tkn===e&&(this.nextToken(),!0)},ParserImplementation.prototype.expect=function expect(e){this.tkn===e?this.nextToken():this.err("Missing expected token "+Lt[e&De],this.idx)},ParserImplementation}();function unescape(e){switch(e){case 102:return 12;case 110:return 10;case 114:return 13;case 116:return 9;case 118:return 11;default:return e}}var Ee=1024,ke=2048,Te=4096,Me=8192,qe=16384,Ie=32768,Ae=65536,Oe=1<<17,Pe=511,De=63,Fe=448,je=2048,Re=4096,Ne=16384,Le=32768,Ve=65536|Ne|je,Be=1<<17,$e=Be|Le,He=1<<18,ze=1<<19|He,Ue=1<<20|He,Qe=1<<21,We=1<<22,Ge=1<<23,Ke=1<<24,Xe=1<<25|Ke,Ye=1<<26|Ke,Ze=32768|He,Je=32769|He,et=32770|He,tt=32771|He,nt=4|$e,it=5|$e,rt=8198|Ne|Ke,ot=8199,st=8388616|Ke,at=9|Ne|Re|je,lt=10|Ne|Re|je,dt=11|Ne,ct=8204|Ne|Ge|Ke,ut=4109|je,pt=14|Ne,ht=15,gt=18|Ne,mt=19|Ne,ft=84|Qe,vt=149|Qe,bt=214|Qe,yt=279|Qe,wt=280|Qe,_t=281|Qe,xt=282|Qe,Ct=347|Qe,St=348|Qe,Et=349|Qe,kt=350|Qe,Tt=351|Qe|Le,Mt=352|Qe|Le,qt=417|Qe|We,It=418|Qe|We,At=4227107,Ot=4227108,Pt=485|Qe,Dt=486|Qe,Ft=487|Qe,jt=40,Rt=4194345,Nt=Object.create(null);Nt.true=Je,Nt.null=et,Nt.false=Ze,Nt.undefined=tt,Nt.$this=nt,Nt.$parent=it,Nt.in=Tt,Nt.instanceof=Mt,Nt.typeof=At,Nt.void=Ot;var Lt=[!1,!0,null,void 0,"$this","$parent","(","{",".","}",")",",","[","]",":","?","'",'"',"&","|","||","&&","^","==","!=","===","!==","<",">","<=",">=","in","instanceof","+","-","typeof","void","*","%","/","=","!"],Vt=[36,0,48,58,65,91,95,0,97,123],Bt=[36,0,65,91,95,0,97,123,170,0,186,0,192,215,216,247,248,697,736,741,7424,7462,7468,7517,7522,7526,7531,7544,7545,7615,7680,7936,8305,0,8319,0,8336,8349,8490,8492,8498,0,8526,0,8544,8585,11360,11392,42786,42888,42891,42927,42928,42936,42999,43008,43824,43867,43868,43877,64256,64263,65313,65339,65345,65371],$t=[48,58],Ht=[0,33,127,161];function decompress(e,t,n,r){for(var o=n.length,a=0;a<o;a+=2){var l=n[a],d=n[a+1];if(d=d>0?d:l+1,e)for(var c=l;c<d;)e[c]=r,c++;if(t)for(var u=l;u<d;u++)t.add(u)}}function returnToken(e){return function(t){return t.next(),e}}function unexpectedCharacter(e){return e.err("Unexpected character ["+Ce(e.ch)+"]"),null}var zt=new Set;decompress(null,zt,Vt,!0);var Ut=new Uint8Array(65535);decompress(Ut,null,Bt,1),decompress(Ut,null,$t,1);for(var Qt=new Array(65535),Wt=0;Wt<65535;)Qt[Wt]=unexpectedCharacter,Wt++;decompress(Qt,null,Ht,(function(e){return e.next(),null})),decompress(Qt,null,Bt,(function(e){return e.scanIdentifier()})),decompress(Qt,null,$t,(function(e){return e.scanNumber(!1)})),Qt[34]=Qt[39]=function(e){return e.scanString()},Qt[96]=function(e){return e.scanTemplate()},Qt[33]=function(e){return 61!==e.next()?Rt:61!==e.next()?wt:(e.next(),xt)},Qt[61]=function(e){return 61!==e.next()?jt:61!==e.next()?yt:(e.next(),_t)},Qt[38]=function(e){return 38!==e.next()?gt:(e.next(),vt)},Qt[124]=function(e){return 124!==e.next()?mt:(e.next(),ft)},Qt[46]=function(e){return e.next()<=57&&e.ch>=48?e.scanNumber(!0):st},Qt[60]=function(e){return 61!==e.next()?Ct:(e.next(),Et)},Qt[62]=function(e){return 61!==e.next()?St:(e.next(),kt)},Qt[37]=returnToken(Dt),Qt[40]=returnToken(rt),Qt[41]=returnToken(lt),Qt[42]=returnToken(Pt),Qt[43]=returnToken(qt),Qt[44]=returnToken(dt),Qt[45]=returnToken(It),Qt[47]=returnToken(Ft),Qt[58]=returnToken(pt),Qt[63]=returnToken(ht),Qt[91]=returnToken(ct),Qt[93]=returnToken(ut),Qt[94]=returnToken(bt),Qt[123]=returnToken(ot),Qt[125]=returnToken(at);var Gt=Map.prototype;function _getMapObserver(e,t){return Kt.for(e,t)}var Kt=function(e){function ModifyMapObserver(t,n){return _possibleConstructorReturn(this,e.call(this,t,n))}return _inherits(ModifyMapObserver,e),ModifyMapObserver.for=function _for(e,t){return"__map_observer__"in t||Reflect.defineProperty(t,"__map_observer__",{value:ModifyMapObserver.create(e,t),enumerable:!1,configurable:!1}),t.__map_observer__},ModifyMapObserver.create=function create(e,t){var n=new ModifyMapObserver(e,t),r=Gt;return r.set===t.set&&r.delete===t.delete&&r.clear===t.clear||(r={set:t.set,delete:t.delete,clear:t.clear}),t.set=function(){var e=t.has(arguments[0]),o=e?"update":"add",a=t.get(arguments[0]),l=r.set.apply(t,arguments);return e&&a===t.get(arguments[0])||n.addChangeRecord({type:o,object:t,key:arguments[0],oldValue:a}),l},t.delete=function(){var e=t.has(arguments[0]),o=t.get(arguments[0]),a=r.delete.apply(t,arguments);return e&&n.addChangeRecord({type:"delete",object:t,key:arguments[0],oldValue:o}),a},t.clear=function(){var e=r.clear.apply(t,arguments);return n.addChangeRecord({type:"clear",object:t}),e},n},ModifyMapObserver}(H),Xt=b.getLogger("event-manager");function findOriginalEventTarget(e){return e.composedPath&&e.composedPath()[0]||e.deepPath&&e.deepPath()[0]||e.path&&e.path[0]||e.target}function stopPropagation(){this.standardStopPropagation(),this.propagationStopped=!0}function handleCapturedEvent(e){e.propagationStopped=!1;for(var t=findOriginalEventTarget(e),n=[];t;){if(t.capturedCallbacks){var r=t.capturedCallbacks[e.type];r&&(e.stopPropagation!==stopPropagation&&(e.standardStopPropagation=e.stopPropagation,e.stopPropagation=stopPropagation),n.push(r))}t=t.parentNode}for(var o=n.length-1;o>=0&&!e.propagationStopped;o--){var a=n[o];"handleEvent"in a?a.handleEvent(e):a(e)}}var Yt=function(){function CapturedHandlerEntry(e){this.eventName=e,this.count=0}return CapturedHandlerEntry.prototype.increment=function increment(){this.count++,1===this.count&&y.DOM.addEventListener(this.eventName,handleCapturedEvent,!0)},CapturedHandlerEntry.prototype.decrement=function decrement(){0===this.count?Xt.warn("The same EventListener was disposed multiple times."):0==--this.count&&y.DOM.removeEventListener(this.eventName,handleCapturedEvent,!0)},CapturedHandlerEntry}(),Zt=function(){function DelegateHandlerEntry(e,t){this.eventName=e,this.count=0,this.eventManager=t}return DelegateHandlerEntry.prototype.handleEvent=function handleEvent(e){e.propagationStopped=!1;for(var t=findOriginalEventTarget(e);t&&!e.propagationStopped;){if(t.delegatedCallbacks){var n=t.delegatedCallbacks[e.type];n&&(e.stopPropagation!==stopPropagation&&(e.standardStopPropagation=e.stopPropagation,e.stopPropagation=stopPropagation),"handleEvent"in n?n.handleEvent(e):n(e))}var r=t.parentNode;t=this.eventManager.escapeShadowRoot&&r instanceof ShadowRoot?r.host:r}},DelegateHandlerEntry.prototype.increment=function increment(){this.count++,1===this.count&&y.DOM.addEventListener(this.eventName,this,!1)},DelegateHandlerEntry.prototype.decrement=function decrement(){0===this.count?Xt.warn("The same EventListener was disposed multiple times."):0==--this.count&&y.DOM.removeEventListener(this.eventName,this,!1)},DelegateHandlerEntry}(),Jt=function(){function DelegationEntryHandler(e,t,n){this.entry=e,this.lookup=t,this.targetEvent=n}return DelegationEntryHandler.prototype.dispose=function dispose(){this.lookup[this.targetEvent]?(this.entry.decrement(),this.lookup[this.targetEvent]=null):Xt.warn("Calling .dispose() on already disposed eventListener")},DelegationEntryHandler}(),en=function(){function EventHandler(e,t,n){this.target=e,this.targetEvent=t,this.callback=n}return EventHandler.prototype.dispose=function dispose(){this.target.removeEventListener(this.targetEvent,this.callback)},EventHandler}(),tn=function(){function DefaultEventStrategy(e){this.delegatedHandlers={},this.capturedHandlers={},this.eventManager=e}return DefaultEventStrategy.prototype.subscribe=function subscribe(e,t,n,r,o){var a=void 0,l=void 0,d=void 0;if(r===nn.bubbling){a=this.delegatedHandlers,d=a[t]||(a[t]=new Zt(t,this.eventManager));var c=e.delegatedCallbacks||(e.delegatedCallbacks={});return c[t]?Xt.warn("Overriding previous callback for event listener",{event:t,callback:n,previousCallback:c[t]}):d.increment(),c[t]=n,!0===o?new Jt(d,c,t):function(){d.decrement(),c[t]=null}}if(r===nn.capturing){l=this.capturedHandlers,d=l[t]||(l[t]=new Yt(t));var u=e.capturedCallbacks||(e.capturedCallbacks={});return u[t]?Xt.error("already have a callback for event",{event:t,callback:n}):d.increment(),u[t]=n,!0===o?new Jt(d,u,t):function(){d.decrement(),u[t]=null}}return e.addEventListener(t,n),!0===o?new en(e,t,n):function(){e.removeEventListener(t,n)}},DefaultEventStrategy}(),nn={none:0,capturing:1,bubbling:2},rn=function(){function EventManager(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.elementHandlerLookup={},this.eventStrategyLookup={},this.escapeShadowRoot=e,this.registerElementConfig({tagName:"input",properties:{value:["change","input"],checked:["change","input"],files:["change","input"]}}),this.registerElementConfig({tagName:"textarea",properties:{value:["change","input"]}}),this.registerElementConfig({tagName:"select",properties:{value:["change"]}}),this.registerElementConfig({tagName:"content editable",properties:{value:["change","input","blur","keyup","paste"]}}),this.registerElementConfig({tagName:"scrollable element",properties:{scrollTop:["scroll"],scrollLeft:["scroll"]}}),this.defaultEventStrategy=new tn(this)}return EventManager.prototype.registerElementConfig=function registerElementConfig(e){var t=e.tagName.toLowerCase(),n=e.properties,r=void 0,o=this.elementHandlerLookup[t]={};for(r in n)n.hasOwnProperty(r)&&(o[r]=n[r])},EventManager.prototype.registerEventStrategy=function registerEventStrategy(e,t){this.eventStrategyLookup[e]=t},EventManager.prototype.getElementHandler=function getElementHandler(e,t){var n=void 0,r=this.elementHandlerLookup;if(e.tagName){if(r[n=e.tagName.toLowerCase()]&&r[n][t])return new on(r[n][t]);if("textContent"===t||"innerHTML"===t)return new on(r["content editable"].value);if("scrollTop"===t||"scrollLeft"===t)return new on(r["scrollable element"][t])}return null},EventManager.prototype.addEventListener=function addEventListener(e,t,n,r,o){return(this.eventStrategyLookup[t]||this.defaultEventStrategy).subscribe(e,t,n,r,o)},EventManager}(),on=function(){function EventSubscriber(e){this.events=e,this.element=null,this.handler=null}return EventSubscriber.prototype.subscribe=function subscribe(e,t){this.element=e,this.handler=t;for(var n=this.events,r=0,o=n.length;o>r;++r)e.addEventListener(n[r],t)},EventSubscriber.prototype.dispose=function dispose(){if(null!==this.element){for(var e=this.element,t=this.handler,n=this.events,r=0,o=n.length;o>r;++r)e.removeEventListener(n[r],t);this.element=this.handler=null}},EventSubscriber}(),sn=function(){function DirtyChecker(){this.tracked=[],this.checkDelay=120}return DirtyChecker.prototype.addProperty=function addProperty(e){var t=this.tracked;t.push(e),1===t.length&&this.scheduleDirtyCheck()},DirtyChecker.prototype.removeProperty=function removeProperty(e){var t=this.tracked;t.splice(t.indexOf(e),1)},DirtyChecker.prototype.scheduleDirtyCheck=function scheduleDirtyCheck(){var e=this;setTimeout((function(){return e.check()}),this.checkDelay)},DirtyChecker.prototype.check=function check(){for(var e=this.tracked,t=e.length;t--;){var n=e[t];n.isDirty()&&n.call()}e.length&&this.scheduleDirtyCheck()},DirtyChecker}(),an=subscriberCollection()(l=function(){function DirtyCheckProperty(e,t,n){this.dirtyChecker=e,this.obj=t,this.propertyName=n}return DirtyCheckProperty.prototype.getValue=function getValue(){return this.obj[this.propertyName]},DirtyCheckProperty.prototype.setValue=function setValue(e){this.obj[this.propertyName]=e},DirtyCheckProperty.prototype.call=function call(){var e=this.oldValue,t=this.getValue();this.callSubscribers(t,e),this.oldValue=t},DirtyCheckProperty.prototype.isDirty=function isDirty(){return this.oldValue!==this.obj[this.propertyName]},DirtyCheckProperty.prototype.subscribe=function subscribe(e,t){this.hasSubscribers()||(this.oldValue=this.getValue(),this.dirtyChecker.addProperty(this)),this.addSubscriber(e,t)},DirtyCheckProperty.prototype.unsubscribe=function unsubscribe(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)},DirtyCheckProperty}())||l,ln=b.getLogger("property-observation"),dn={getValue:function getValue(e,t){return e[t]},setValue:function setValue(e,t,n){t[n]=e}},cn=function(){function PrimitiveObserver(e,t){this.doNotCache=!0,this.primitive=e,this.propertyName=t}return PrimitiveObserver.prototype.getValue=function getValue(){return this.primitive[this.propertyName]},PrimitiveObserver.prototype.setValue=function setValue(){var e=S(this.primitive);throw new Error("The "+this.propertyName+" property of a "+e+" ("+this.primitive+") cannot be assigned.")},PrimitiveObserver.prototype.subscribe=function subscribe(){},PrimitiveObserver.prototype.unsubscribe=function unsubscribe(){},PrimitiveObserver}(),un=subscriberCollection()(d=function(){function SetterObserver(e,t,n){this.taskQueue=e,this.obj=t,this.propertyName=n,this.queued=!1,this.observing=!1}return SetterObserver.prototype.getValue=function getValue(){return this.obj[this.propertyName]},SetterObserver.prototype.setValue=function setValue(e){this.obj[this.propertyName]=e},SetterObserver.prototype.getterValue=function getterValue(){return this.currentValue},SetterObserver.prototype.setterValue=function setterValue(e){var t=this.currentValue;t!==e&&(this.queued||(this.oldValue=t,this.queued=!0,this.taskQueue.queueMicroTask(this)),this.currentValue=e)},SetterObserver.prototype.call=function call(){var e=this.oldValue,t=this.oldValue=this.currentValue;this.queued=!1,this.callSubscribers(t,e)},SetterObserver.prototype.subscribe=function subscribe(e,t){this.observing||this.convertProperty(),this.addSubscriber(e,t)},SetterObserver.prototype.unsubscribe=function unsubscribe(e,t){this.removeSubscriber(e,t)},SetterObserver.prototype.convertProperty=function convertProperty(){this.observing=!0,this.currentValue=this.obj[this.propertyName],this.setValue=this.setterValue,this.getValue=this.getterValue,Reflect.defineProperty(this.obj,this.propertyName,{configurable:!0,enumerable:!(this.propertyName in this.obj)||this.obj.propertyIsEnumerable(this.propertyName),get:this.getValue.bind(this),set:this.setValue.bind(this)})||ln.warn("Cannot observe property '"+this.propertyName+"' of object",this.obj)},SetterObserver}())||d,pn=function(){function XLinkAttributeObserver(e,t,n){this.element=e,this.propertyName=t,this.attributeName=n}return XLinkAttributeObserver.prototype.getValue=function getValue(){return this.element.getAttributeNS("http://www.w3.org/1999/xlink",this.attributeName)},XLinkAttributeObserver.prototype.setValue=function setValue(e){return this.element.setAttributeNS("http://www.w3.org/1999/xlink",this.attributeName,e)},XLinkAttributeObserver.prototype.subscribe=function subscribe(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},XLinkAttributeObserver}(),hn={getValue:function getValue(e,t){return e.getAttribute(t)},setValue:function setValue(e,t,n){null==e?t.removeAttribute(n):t.setAttribute(n,e)}},gn=function(){function DataAttributeObserver(e,t){this.element=e,this.propertyName=t}return DataAttributeObserver.prototype.getValue=function getValue(){return this.element.getAttribute(this.propertyName)},DataAttributeObserver.prototype.setValue=function setValue(e){return null==e?this.element.removeAttribute(this.propertyName):this.element.setAttribute(this.propertyName,e)},DataAttributeObserver.prototype.subscribe=function subscribe(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},DataAttributeObserver}(),mn=function(){function StyleObserver(e,t){this.element=e,this.propertyName=t,this.styles=null,this.version=0}return StyleObserver.prototype.getValue=function getValue(){return this.element.style.cssText},StyleObserver.prototype._setProperty=function _setProperty(e,t){var n="";null!=t&&"function"==typeof t.indexOf&&-1!==t.indexOf("!important")&&(n="important",t=t.replace("!important","")),this.element.style.setProperty(e,t,n)},StyleObserver.prototype.setValue=function setValue(e){var t=this.styles||{},n=void 0,r=this.version;if(null!=e)if(e instanceof Object){var o=void 0;for(n in e)e.hasOwnProperty(n)&&(o=e[n],t[n=n.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))]=r,this._setProperty(n,o))}else if(e.length)for(var a=/\s*([\w\-]+)\s*:\s*((?:(?:[\w\-]+\(\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[\w\-]+\(\s*(?:^"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^\)]*)\),?|[^\)]*)\),?|"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^;]*),?\s*)+);?/g,l=void 0;null!==(l=a.exec(e));)(n=l[1])&&(t[n]=r,this._setProperty(n,l[2]));if(this.styles=t,this.version+=1,0!==r)for(n in r-=1,t)t.hasOwnProperty(n)&&t[n]===r&&this.element.style.removeProperty(n)},StyleObserver.prototype.subscribe=function subscribe(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},StyleObserver}(),fn=subscriberCollection()(c=function(){function ValueAttributeObserver(e,t,n){this.element=e,this.propertyName=t,this.handler=n,"files"===t&&(this.setValue=function(){})}return ValueAttributeObserver.prototype.getValue=function getValue(){return this.element[this.propertyName]},ValueAttributeObserver.prototype.setValue=function setValue(e){e=null==e?"":e,this.element[this.propertyName]!==e&&(this.element[this.propertyName]=e,this.notify())},ValueAttributeObserver.prototype.notify=function notify(){var e=this.oldValue,t=this.getValue();this.callSubscribers(t,e),this.oldValue=t},ValueAttributeObserver.prototype.handleEvent=function handleEvent(){this.notify()},ValueAttributeObserver.prototype.subscribe=function subscribe(e,t){this.hasSubscribers()||(this.oldValue=this.getValue(),this.handler.subscribe(this.element,this)),this.addSubscriber(e,t)},ValueAttributeObserver.prototype.unsubscribe=function unsubscribe(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&this.handler.dispose()},ValueAttributeObserver}())||c,vn="CheckedObserver:array",bn="CheckedObserver:value",yn=subscriberCollection()(u=function(){function CheckedObserver(e,t,n){this.element=e,this.handler=t,this.observerLocator=n}return CheckedObserver.prototype.getValue=function getValue(){return this.value},CheckedObserver.prototype.setValue=function setValue(e){this.initialSync&&this.value===e||(this.arrayObserver&&(this.arrayObserver.unsubscribe(vn,this),this.arrayObserver=null),"checkbox"===this.element.type&&Array.isArray(e)&&(this.arrayObserver=this.observerLocator.getArrayObserver(e),this.arrayObserver.subscribe(vn,this)),this.oldValue=this.value,this.value=e,this.synchronizeElement(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},CheckedObserver.prototype.call=function call(e,t){this.synchronizeElement(),this.valueObserver||(this.valueObserver=this.element.__observers__.model||this.element.__observers__.value,this.valueObserver&&this.valueObserver.subscribe(bn,this))},CheckedObserver.prototype.synchronizeElement=function synchronizeElement(){var e=this.value,t=this.element,n=t.hasOwnProperty("model")?t.model:t.value,r="radio"===t.type,o=t.matcher||function(e,t){return e===t};t.checked=r&&!!o(e,n)||!r&&!0===e||!r&&Array.isArray(e)&&-1!==e.findIndex((function(e){return!!o(e,n)}))},CheckedObserver.prototype.synchronizeValue=function synchronizeValue(){var e=this.value,t=this.element,n=t.hasOwnProperty("model")?t.model:t.value,r=void 0,o=t.matcher||function(e,t){return e===t};if("checkbox"===t.type){if(Array.isArray(e))return r=e.findIndex((function(e){return!!o(e,n)})),void(t.checked&&-1===r?e.push(n):t.checked||-1===r||e.splice(r,1));e=t.checked}else{if(!t.checked)return;e=n}this.oldValue=this.value,this.value=e,this.notify()},CheckedObserver.prototype.notify=function notify(){var e=this.oldValue,t=this.value;t!==e&&this.callSubscribers(t,e)},CheckedObserver.prototype.handleEvent=function handleEvent(){this.synchronizeValue()},CheckedObserver.prototype.subscribe=function subscribe(e,t){this.hasSubscribers()||this.handler.subscribe(this.element,this),this.addSubscriber(e,t)},CheckedObserver.prototype.unsubscribe=function unsubscribe(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&this.handler.dispose()},CheckedObserver.prototype.unbind=function unbind(){this.arrayObserver&&(this.arrayObserver.unsubscribe(vn,this),this.arrayObserver=null),this.valueObserver&&this.valueObserver.unsubscribe(bn,this)},CheckedObserver}())||u,wn="SelectValueObserver:array",_n=subscriberCollection()(p=function(){function SelectValueObserver(e,t,n){this.element=e,this.handler=t,this.observerLocator=n}return SelectValueObserver.prototype.getValue=function getValue(){return this.value},SelectValueObserver.prototype.setValue=function setValue(e){if(null!=e&&this.element.multiple&&!Array.isArray(e))throw new Error("Only null or Array instances can be bound to a multi-select.");this.value!==e&&(this.arrayObserver&&(this.arrayObserver.unsubscribe(wn,this),this.arrayObserver=null),Array.isArray(e)&&(this.arrayObserver=this.observerLocator.getArrayObserver(e),this.arrayObserver.subscribe(wn,this)),this.oldValue=this.value,this.value=e,this.synchronizeOptions(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},SelectValueObserver.prototype.call=function call(e,t){this.synchronizeOptions()},SelectValueObserver.prototype.synchronizeOptions=function synchronizeOptions(){var e=this.value,t=void 0;Array.isArray(e)&&(t=!0);for(var n=this.element.options,r=n.length,o=this.element.matcher||function(e,t){return e===t},a=function _loop(){var a=n.item(r),l=a.hasOwnProperty("model")?a.model:a.value;if(t)return a.selected=-1!==e.findIndex((function(e){return!!o(l,e)})),"continue";a.selected=!!o(l,e)};r--;)a()},SelectValueObserver.prototype.synchronizeValue=function synchronizeValue(){for(var e=this,t=this.element.options,n=0,r=[],o=0,a=t.length;o<a;o++){var l=t.item(o);l.selected&&(r.push(l.hasOwnProperty("model")?l.model:l.value),n++)}if(this.element.multiple){if(Array.isArray(this.value)){var d=function(){for(var t=e.element.matcher||function(e,t){return e===t},n=0,o=function _loop2(){var o=e.value[n];-1===r.findIndex((function(e){return t(o,e)}))?e.value.splice(n,1):n++};n<e.value.length;)o();n=0;for(var a=function _loop3(){var o=r[n];-1===e.value.findIndex((function(e){return t(o,e)}))&&e.value.push(o),n++};n<r.length;)a();return{v:void 0}}();if("object"===(void 0===d?"undefined":S(d)))return d.v}}else r=0===n?null:r[0];r!==this.value&&(this.oldValue=this.value,this.value=r,this.notify())},SelectValueObserver.prototype.notify=function notify(){var e=this.oldValue,t=this.value;this.callSubscribers(t,e)},SelectValueObserver.prototype.handleEvent=function handleEvent(){this.synchronizeValue()},SelectValueObserver.prototype.subscribe=function subscribe(e,t){this.hasSubscribers()||this.handler.subscribe(this.element,this),this.addSubscriber(e,t)},SelectValueObserver.prototype.unsubscribe=function unsubscribe(e,t){this.removeSubscriber(e,t)&&!this.hasSubscribers()&&this.handler.dispose()},SelectValueObserver.prototype.bind=function bind(){var e=this;this.domObserver=y.DOM.createMutationObserver((function(){e.synchronizeOptions(),e.synchronizeValue()})),this.domObserver.observe(this.element,{childList:!0,subtree:!0,characterData:!0})},SelectValueObserver.prototype.unbind=function unbind(){this.domObserver.disconnect(),this.domObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribe(wn,this),this.arrayObserver=null)},SelectValueObserver}())||p,xn=function(){function ClassObserver(e){this.element=e,this.doNotCache=!0,this.value="",this.version=0}return ClassObserver.prototype.getValue=function getValue(){return this.value},ClassObserver.prototype.setValue=function setValue(e){var t=this.nameIndex||{},n=this.version,r=void 0,o=void 0;if(null!=e&&e.length)for(var a=0,l=(r=e.split(/\s+/)).length;a<l;a++)""!==(o=r[a])&&(t[o]=n,this.element.classList.add(o));if(this.value=e,this.nameIndex=t,this.version+=1,0!==n)for(o in n-=1,t)t.hasOwnProperty(o)&&t[o]===n&&this.element.classList.remove(o)},ClassObserver.prototype.subscribe=function subscribe(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "class" property is not supported.')},ClassObserver}();function hasDeclaredDependencies(e){return!!(e&&e.get&&e.get.dependencies)}function declarePropertyDependencies(e,t,n){Object.getOwnPropertyDescriptor(e.prototype,t).get.dependencies=n}function computedFrom(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){return r.get.dependencies=t,r}}var Cn=function(e){function ComputedExpression(t,n){var r=_possibleConstructorReturn(this,e.call(this));return r.name=t,r.dependencies=n,r.isAssignable=!0,r}return _inherits(ComputedExpression,e),ComputedExpression.prototype.evaluate=function evaluate(e,t){return e.bindingContext[this.name]},ComputedExpression.prototype.assign=function assign(e,t){e.bindingContext[this.name]=t},ComputedExpression.prototype.accept=function accept(e){throw new Error("not implemented")},ComputedExpression.prototype.connect=function connect(e,t){for(var n=this.dependencies,r=n.length;r--;)n[r].connect(e,t)},ComputedExpression}(ee);function createComputedObserver(e,t,n,r){var o=n.get.dependencies;if(!(o instanceof Cn)){for(var a=o.length;a--;)o[a]=r.parser.parse(o[a]);o=n.get.dependencies=new Cn(t,o)}var l={bindingContext:e,overrideContext:createOverrideContext(e)};return new B(l,o,r)}var Sn=void 0,En=void 0,kn=void 0,Tn=void 0;if("undefined"==typeof FEATURE_NO_SVG){Sn={a:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],altGlyph:["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],altGlyphDef:["id","xml:base","xml:lang","xml:space"],altGlyphItem:["id","xml:base","xml:lang","xml:space"],animate:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateColor:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateMotion:["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateTransform:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],circle:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],clipPath:["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],"color-profile":["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],cursor:["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],defs:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],desc:["class","id","style","xml:base","xml:lang","xml:space"],ellipse:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],feBlend:["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"],feColorMatrix:["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"],feComponentTransfer:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feComposite:["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"],feConvolveMatrix:["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"],feDiffuseLighting:["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feDisplacementMap:["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"],feDistantLight:["azimuth","elevation","id","xml:base","xml:lang","xml:space"],feFlood:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feFuncA:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncB:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncG:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncR:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feGaussianBlur:["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"],feImage:["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],feMerge:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feMergeNode:["id","xml:base","xml:lang","xml:space"],feMorphology:["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"],feOffset:["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],fePointLight:["id","x","xml:base","xml:lang","xml:space","y","z"],feSpecularLighting:["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feSpotLight:["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"],feTile:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feTurbulence:["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"],filter:["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],font:["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],"font-face":["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"],"font-face-format":["id","string","xml:base","xml:lang","xml:space"],"font-face-name":["id","name","xml:base","xml:lang","xml:space"],"font-face-src":["id","xml:base","xml:lang","xml:space"],"font-face-uri":["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],foreignObject:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],g:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],glyph:["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],glyphRef:["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],hkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"],image:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],line:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"],linearGradient:["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"],marker:["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"],mask:["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"],metadata:["id","xml:base","xml:lang","xml:space"],"missing-glyph":["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],mpath:["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],path:["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],pattern:["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],polygon:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],polyline:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],radialGradient:["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],rect:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],script:["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],set:["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],stop:["class","id","offset","style","xml:base","xml:lang","xml:space"],style:["id","media","title","type","xml:base","xml:lang","xml:space"],svg:["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"],switch:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],symbol:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"],text:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"],textPath:["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],title:["class","id","style","xml:base","xml:lang","xml:space"],tref:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],tspan:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"],use:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],view:["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"],vkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]},En={a:!0,altGlyph:!0,animate:!0,animateColor:!0,circle:!0,clipPath:!0,defs:!0,ellipse:!0,feBlend:!0,feColorMatrix:!0,feComponentTransfer:!0,feComposite:!0,feConvolveMatrix:!0,feDiffuseLighting:!0,feDisplacementMap:!0,feFlood:!0,feGaussianBlur:!0,feImage:!0,feMerge:!0,feMorphology:!0,feOffset:!0,feSpecularLighting:!0,feTile:!0,feTurbulence:!0,filter:!0,font:!0,foreignObject:!0,g:!0,glyph:!0,glyphRef:!0,image:!0,line:!0,linearGradient:!0,marker:!0,mask:!0,"missing-glyph":!0,path:!0,pattern:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,svg:!0,switch:!0,symbol:!0,text:!0,textPath:!0,tref:!0,tspan:!0,use:!0},kn={"alignment-baseline":!0,"baseline-shift":!0,"clip-path":!0,"clip-rule":!0,clip:!0,"color-interpolation-filters":!0,"color-interpolation":!0,"color-profile":!0,"color-rendering":!0,color:!0,cursor:!0,direction:!0,display:!0,"dominant-baseline":!0,"enable-background":!0,"fill-opacity":!0,"fill-rule":!0,fill:!0,filter:!0,"flood-color":!0,"flood-opacity":!0,"font-family":!0,"font-size-adjust":!0,"font-size":!0,"font-stretch":!0,"font-style":!0,"font-variant":!0,"font-weight":!0,"glyph-orientation-horizontal":!0,"glyph-orientation-vertical":!0,"image-rendering":!0,kerning:!0,"letter-spacing":!0,"lighting-color":!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,mask:!0,opacity:!0,overflow:!0,"pointer-events":!0,"shape-rendering":!0,"stop-color":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,stroke:!0,"text-anchor":!0,"text-decoration":!0,"text-rendering":!0,"unicode-bidi":!0,visibility:!0,"word-spacing":!0,"writing-mode":!0};Tn=function(){function SVGAnalyzer(){"altglyph"===function createElement(e){var t=y.DOM.createElement("div");return t.innerHTML=e,t.firstChild}("<svg><altGlyph /></svg>").firstElementChild.nodeName&&Mn.altGlyph&&(Mn.altglyph=Mn.altGlyph,delete Mn.altGlyph,Mn.altglyphdef=Mn.altGlyphDef,delete Mn.altGlyphDef,Mn.altglyphitem=Mn.altGlyphItem,delete Mn.altGlyphItem,Mn.glyphref=Mn.glyphRef,delete Mn.glyphRef)}return SVGAnalyzer.prototype.isStandardSvgAttribute=function isStandardSvgAttribute(e,t){return qn[e]&&In[t]||Mn[e]&&-1!==Mn[e].indexOf(t)},SVGAnalyzer}()}var Mn=Sn,qn=En,In=kn,An=Tn||function(){function _class11(){}return _class11.prototype.isStandardSvgAttribute=function isStandardSvgAttribute(){return!1},_class11}(),On=(g=h=function(){function ObserverLocator(e,t,n,r,o){this.taskQueue=e,this.eventManager=t,this.dirtyChecker=n,this.svgAnalyzer=r,this.parser=o,this.adapters=[],this.logger=b.getLogger("observer-locator")}return ObserverLocator.prototype.getObserver=function getObserver(e,t){var n,r=e.__observers__;return r&&t in r?r[t]:((n=this.createPropertyObserver(e,t)).doNotCache||(void 0===r&&(r=this.getOrCreateObserversLookup(e)),r[t]=n),n)},ObserverLocator.prototype.getOrCreateObserversLookup=function getOrCreateObserversLookup(e){return e.__observers__||this.createObserversLookup(e)},ObserverLocator.prototype.createObserversLookup=function createObserversLookup(e){var t={};return Reflect.defineProperty(e,"__observers__",{enumerable:!1,configurable:!1,writable:!1,value:t})||this.logger.warn("Cannot add observers to object",e),t},ObserverLocator.prototype.addAdapter=function addAdapter(e){this.adapters.push(e)},ObserverLocator.prototype.getAdapterObserver=function getAdapterObserver(e,t,n){for(var r=0,o=this.adapters.length;r<o;r++){var a=this.adapters[r].getObserver(e,t,n);if(a)return a}return null},ObserverLocator.prototype.createPropertyObserver=function createPropertyObserver(e,t){var n,r=void 0,o=void 0;if(!(e instanceof Object))return new cn(e,t);if(e instanceof y.DOM.Element){if("class"===t)return new xn(e);if("style"===t||"css"===t)return new mn(e,t);if(r=this.eventManager.getElementHandler(e,t),"value"===t&&"select"===e.tagName.toLowerCase())return new _n(e,r,this);if("checked"===t&&"input"===e.tagName.toLowerCase())return new yn(e,r,this);if(r)return new fn(e,t,r);if(o=/^xlink:(.+)$/.exec(t))return new pn(e,t,o[1]);if("role"===t&&(e instanceof y.DOM.Element||e instanceof y.DOM.SVGElement)||/^\w+:|^data-|^aria-/.test(t)||e instanceof y.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(e.nodeName,t))return new gn(e,t)}if(hasDeclaredDependencies(n=Object.getPropertyDescriptor(e,t)))return createComputedObserver(e,t,n,this);if(n){var a=n.get||n.set;if(a){if(a.getObserver)return a.getObserver(e);var l=this.getAdapterObserver(e,t,n);return l||new an(this.dirtyChecker,e,t)}}return e instanceof Array?"length"===t?this.getArrayObserver(e).getLengthObserver():new an(this.dirtyChecker,e,t):e instanceof Map?"size"===t?this.getMapObserver(e).getLengthObserver():new an(this.dirtyChecker,e,t):e instanceof Set?"size"===t?this.getSetObserver(e).getLengthObserver():new an(this.dirtyChecker,e,t):new un(this.taskQueue,e,t)},ObserverLocator.prototype.getAccessor=function getAccessor(e,t){if(e instanceof y.DOM.Element){if("class"===t||"style"===t||"css"===t||"value"===t&&("input"===e.tagName.toLowerCase()||"select"===e.tagName.toLowerCase())||"checked"===t&&"input"===e.tagName.toLowerCase()||"model"===t&&"input"===e.tagName.toLowerCase()||/^xlink:.+$/.exec(t))return this.getObserver(e,t);if(/^\w+:|^data-|^aria-/.test(t)||e instanceof y.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(e.nodeName,t)||"img"===e.tagName.toLowerCase()&&"src"===t||"a"===e.tagName.toLowerCase()&&"href"===t)return hn}return dn},ObserverLocator.prototype.getArrayObserver=function getArrayObserver(e){return _getArrayObserver(this.taskQueue,e)},ObserverLocator.prototype.getMapObserver=function getMapObserver(e){return _getMapObserver(this.taskQueue,e)},ObserverLocator.prototype.getSetObserver=function getSetObserver(e){return _getSetObserver(this.taskQueue,e)},ObserverLocator}(),h.inject=[_.TaskQueue,rn,sn,An,xe],g),Pn=function(){function ObjectObservationAdapter(){}return ObjectObservationAdapter.prototype.getObserver=function getObserver(e,t,n){throw new Error("BindingAdapters must implement getObserver(object, propertyName).")},ObjectObservationAdapter}(),Dn=function(){function BindingExpression(e,t,n,r,o,a){this.observerLocator=e,this.targetProperty=t,this.sourceExpression=n,this.mode=r,this.lookupFunctions=o,this.attribute=a,this.discrete=!1}return BindingExpression.prototype.createBinding=function createBinding(e){return new Fn(this.observerLocator,this.sourceExpression,e,this.targetProperty,this.mode,this.lookupFunctions)},BindingExpression}(),Fn=connectable()(m=function(){function Binding(e,t,n,r,o,a){this.observerLocator=e,this.sourceExpression=t,this.target=n,this.targetProperty=r,this.mode=o,this.lookupFunctions=a}return Binding.prototype.updateTarget=function updateTarget(e){this.targetObserver.setValue(e,this.target,this.targetProperty)},Binding.prototype.updateSource=function updateSource(e){this.sourceExpression.assign(this.source,e,this.lookupFunctions)},Binding.prototype.call=function call(e,t,n){if(this.isBound){if(e===k)return n=this.targetObserver.getValue(this.target,this.targetProperty),(t=this.sourceExpression.evaluate(this.source,this.lookupFunctions))!==n&&this.updateTarget(t),void(this.mode!==_e.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.unobserve(!1)));if(e!==E)throw new Error("Unexpected call context "+e);t!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)&&this.updateSource(t)}},Binding.prototype.bind=function bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions);var t=this.mode;if(!this.targetObserver){var n=t===_e.twoWay||t===_e.fromView?"getObserver":"getAccessor";this.targetObserver=this.observerLocator[n](this.target,this.targetProperty)}if("bind"in this.targetObserver&&this.targetObserver.bind(),this.mode!==_e.fromView){var r=this.sourceExpression.evaluate(e,this.lookupFunctions);this.updateTarget(r)}t!==_e.oneTime&&(t===_e.toView?enqueueBindingConnect(this):t===_e.twoWay?(this.sourceExpression.connect(this,e),this.targetObserver.subscribe(E,this)):t===_e.fromView&&this.targetObserver.subscribe(E,this))},Binding.prototype.unbind=function unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,"unbind"in this.targetObserver&&this.targetObserver.unbind(),this.targetObserver.unsubscribe&&this.targetObserver.unsubscribe(E,this),this.unobserve(!0))},Binding.prototype.connect=function connect(e){if(this.isBound){if(e){var t=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(t)}this.sourceExpression.connect(this,this.source)}},Binding}())||m,jn=function(){function CallExpression(e,t,n,r){this.observerLocator=e,this.targetProperty=t,this.sourceExpression=n,this.lookupFunctions=r}return CallExpression.prototype.createBinding=function createBinding(e){return new Rn(this.observerLocator,this.sourceExpression,e,this.targetProperty,this.lookupFunctions)},CallExpression}(),Rn=function(){function Call(e,t,n,r,o){this.sourceExpression=t,this.target=n,this.targetProperty=e.getObserver(n,r),this.lookupFunctions=o}return Call.prototype.callSource=function callSource(e){var t=this.source.overrideContext;Object.assign(t,e),t.$event=e;var n=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);for(var r in delete t.$event,e)delete t[r];return n},Call.prototype.bind=function bind(e){var t=this;if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),this.targetProperty.setValue((function(e){return t.callSource(e)}))},Call.prototype.unbind=function unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.targetProperty.setValue(null))},Call}(),Nn=function(){function ValueConverterResource(e){this.name=e}return ValueConverterResource.convention=function convention(e){if(e.endsWith("ValueConverter"))return new ValueConverterResource(camelCase(e.substring(0,e.length-14)))},ValueConverterResource.prototype.initialize=function initialize(e,t){this.instance=e.get(t)},ValueConverterResource.prototype.register=function register(e,t){e.registerValueConverter(t||this.name,this.instance)},ValueConverterResource.prototype.load=function load(e,t){},ValueConverterResource}();function valueConverter(e){if(void 0===e||"string"==typeof e)return function(t){x.metadata.define(x.metadata.resource,new Nn(e),t)};x.metadata.define(x.metadata.resource,new Nn,e)}var Ln=function(){function BindingBehaviorResource(e){this.name=e}return BindingBehaviorResource.convention=function convention(e){if(e.endsWith("BindingBehavior"))return new BindingBehaviorResource(camelCase(e.substring(0,e.length-15)))},BindingBehaviorResource.prototype.initialize=function initialize(e,t){this.instance=e.get(t)},BindingBehaviorResource.prototype.register=function register(e,t){e.registerBindingBehavior(t||this.name,this.instance)},BindingBehaviorResource.prototype.load=function load(e,t){},BindingBehaviorResource}();function bindingBehavior(e){if(void 0===e||"string"==typeof e)return function(t){x.metadata.define(x.metadata.resource,new Ln(e),t)};x.metadata.define(x.metadata.resource,new Ln,e)}var Vn=function(){function ListenerExpression(e,t,n,r,o,a){this.eventManager=e,this.targetEvent=t,this.sourceExpression=n,this.delegationStrategy=r,this.discrete=!0,this.preventDefault=o,this.lookupFunctions=a}return ListenerExpression.prototype.createBinding=function createBinding(e){return new Bn(this.eventManager,this.targetEvent,this.delegationStrategy,this.sourceExpression,e,this.preventDefault,this.lookupFunctions)},ListenerExpression}(),Bn=function(){function Listener(e,t,n,r,o,a,l){this.eventManager=e,this.targetEvent=t,this.delegationStrategy=n,this.sourceExpression=r,this.target=o,this.preventDefault=a,this.lookupFunctions=l}return Listener.prototype.callSource=function callSource(e){var t=this.source.overrideContext;t.$event=e;var n=this.sourceExpression.evaluate(this.source,this.lookupFunctions,!0);return delete t.$event,!0!==n&&this.preventDefault&&e.preventDefault(),n},Listener.prototype.handleEvent=function handleEvent(e){this.callSource(e)},Listener.prototype.bind=function bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),this._handler=this.eventManager.addEventListener(this.target,this.targetEvent,this,this.delegationStrategy,!0)},Listener.prototype.unbind=function unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this._handler.dispose(),this._handler=null)},Listener}();function getAU(e){var t=e.au;if(void 0===t)throw new Error('No Aurelia APIs are defined for the element: "'+e.tagName+'".');return t}var $n=function(){function NameExpression(e,t,n){this.sourceExpression=e,this.apiName=t,this.lookupFunctions=n,this.discrete=!0}return NameExpression.prototype.createBinding=function createBinding(e){return new Hn(this.sourceExpression,NameExpression.locateAPI(e,this.apiName),this.lookupFunctions)},NameExpression.locateAPI=function locateAPI(e,t){switch(t){case"element":return e;case"controller":return getAU(e).controller;case"view-model":return getAU(e).controller.viewModel;case"view":return getAU(e).controller.view;default:var n=getAU(e)[t];if(void 0===n)throw new Error('Attempted to reference "'+t+"\", but it was not found amongst the target's API.");return n.viewModel}},NameExpression}(),Hn=function(){function NameBinder(e,t,n){this.sourceExpression=e,this.target=t,this.lookupFunctions=n}return NameBinder.prototype.bind=function bind(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)},NameBinder.prototype.unbind=function unbind(){this.isBound&&(this.isBound=!1,this.sourceExpression.evaluate(this.source,this.lookupFunctions)===this.target&&this.sourceExpression.assign(this.source,null,this.lookupFunctions),this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null)},NameBinder}(),zn={bindingBehaviors:function bindingBehaviors(e){return null},valueConverters:function valueConverters(e){return null}},Un=(v=f=function(){function BindingEngine(e,t){this.observerLocator=e,this.parser=t}return BindingEngine.prototype.createBindingExpression=function createBindingExpression(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_e.toView,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:zn;return new Dn(this.observerLocator,e,this.parser.parse(t),n,r)},BindingEngine.prototype.propertyObserver=function propertyObserver(e,t){var n=this;return{subscribe:function subscribe(r){var o=n.observerLocator.getObserver(e,t);return o.subscribe(r),{dispose:function dispose(){return o.unsubscribe(r)}}}}},BindingEngine.prototype.collectionObserver=function collectionObserver(e){var t=this;return{subscribe:function subscribe(n){var r=void 0;if(e instanceof Array)r=t.observerLocator.getArrayObserver(e);else if(e instanceof Map)r=t.observerLocator.getMapObserver(e);else{if(!(e instanceof Set))throw new Error("collection must be an instance of Array, Map or Set.");r=t.observerLocator.getSetObserver(e)}return r.subscribe(n),{dispose:function dispose(){return r.unsubscribe(n)}}}}},BindingEngine.prototype.expressionObserver=function expressionObserver(e,t){var n={bindingContext:e,overrideContext:createOverrideContext(e)};return new B(n,this.parser.parse(t),this.observerLocator,zn)},BindingEngine.prototype.parseExpression=function parseExpression(e){return this.parser.parse(e)},BindingEngine.prototype.registerAdapter=function registerAdapter(e){this.observerLocator.addAdapter(e)},BindingEngine}(),f.inject=[On,xe],v),Qn=Set.prototype;function _getSetObserver(e,t){return Wn.for(e,t)}var Wn=function(e){function ModifySetObserver(t,n){return _possibleConstructorReturn(this,e.call(this,t,n))}return _inherits(ModifySetObserver,e),ModifySetObserver.for=function _for(e,t){return"__set_observer__"in t||Reflect.defineProperty(t,"__set_observer__",{value:ModifySetObserver.create(e,t),enumerable:!1,configurable:!1}),t.__set_observer__},ModifySetObserver.create=function create(e,t){var n=new ModifySetObserver(e,t),r=Qn;return r.add===t.add&&r.delete===t.delete&&r.clear===t.clear||(r={add:t.add,delete:t.delete,clear:t.clear}),t.add=function(){var e=t.size,o=r.add.apply(t,arguments);return t.size===e||n.addChangeRecord({type:"add",object:t,value:Array.from(t).pop()}),o},t.delete=function(){var e=t.has(arguments[0]),o=r.delete.apply(t,arguments);return e&&n.addChangeRecord({type:"delete",object:t,value:arguments[0]}),o},t.clear=function(){var e=r.clear.apply(t,arguments);return n.addChangeRecord({type:"clear",object:t}),e},n},ModifySetObserver}(H);function observable(e,t,n){function deco(e,t,n,r){var o=void 0===t;o&&(e=e.prototype,t="string"==typeof r?r:r.name);var a="_"+t,l={configurable:!0,enumerable:!1,writable:!0},d=r&&r.changeHandler||t+"Changed";if(n?"function"==typeof n.initializer&&(l.value=n.initializer()):n={},"enumerable"in n||(n.enumerable=!0),delete n.value,delete n.writable,delete n.initializer,Reflect.defineProperty(e,a,l),n.get=function(){return this[a]},n.set=function(e){var n=this[a];e!==n&&(this[a]=e,Reflect.defineProperty(this,a,{enumerable:!1}),this[d]&&this[d](e,n,t))},n.get.dependencies=[a],!o)return n;Reflect.defineProperty(e,t,n)}return void 0===t?function(t,n,r){return deco(t,n,r,e)}:deco(e,t,n)}var Gn={};function connectBindingToSignal(e,t){Gn.hasOwnProperty(t)||(Gn[t]=0),e.observeProperty(Gn,t)}function signalBindings(e){Gn.hasOwnProperty(e)&&Gn[e]++}},"./node_modules/aurelia-bootstrapper/dist/native-modules/aurelia-bootstrapper.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{bootstrap:()=>bootstrap,starting:()=>p});n("./node_modules/aurelia-polyfills/dist/native-modules/aurelia-polyfills.js");var r=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),o=n("./node_modules/process/browser.js"),a=("function"==typeof Symbol&&Symbol.iterator,[]),l=void 0,d=new Promise((function(e){return l=e})),c=r.PLATFORM.global,u=void 0!==o&&!o.browser;function createLoader(){return r.PLATFORM.Loader?Promise.resolve(new r.PLATFORM.Loader):Promise.reject("No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.")}function preparePlatform(e){var t=function map(t,n){return e.normalize(t,n).then((function(n){return e.map(t,n),n}))};return function initializePal(e){if(r.isInitialized)return Promise.resolve();var t=void 0,n=u&&("renderer"===o.type||o.versions["node-webkit"]);if(u&&!n)t="nodejs";else if("undefined"!=typeof window)t="browser";else{if("undefined"==typeof self)throw new Error("Could not determine platform implementation to load.");t="worker"}return e.loadModule("aurelia-pal-"+t).then((function(e){return"nodejs"===t&&!r.isInitialized&&e.globalize()||e.initialize()}))}(e).then((function(){return e.normalize("aurelia-bootstrapper")})).then((function(e){var n=t("aurelia-framework",e);return Promise.all([n,n.then((function(e){return t("aurelia-dependency-injection",e)})),t("aurelia-router",e),t("aurelia-logging-console",e)])})).then((function(t){var n=t[0];return e.loadModule(n)})).then((function(t){return l((function(){return new t.Aurelia(e)}))}))}function config(e,t,n){return n.host=e,n.configModuleId=t||null,t?n.loader.loadModule(t).then((function(e){if(!e.configure)throw new Error("Cannot initialize module '"+t+"' without a configure function.");return e.configure(n)})):(n.use.standardConfiguration().developmentLogging(),n.start().then((function(){return n.setRoot()})))}function bootstrap(e){var t=d.then((function(t){return e(t())}));return a&&a.push(t),t}var p=function run(){return function ready(){return c.document&&"complete"!==c.document.readyState?new Promise((function(e){function completed(){c.document.removeEventListener("DOMContentLoaded",completed),c.removeEventListener("load",completed),e()}c.document.addEventListener("DOMContentLoaded",completed),c.addEventListener("load",completed)})):Promise.resolve()}().then(createLoader).then(preparePlatform).then((function(){for(var e=c.document.querySelectorAll("[aurelia-app],[data-aurelia-app]"),t=0,n=e.length;t<n;++t){var r=e[t],o=r.getAttribute("aurelia-app")||r.getAttribute("data-aurelia-app");bootstrap(config.bind(null,r,o))}var l=console.error.bind(console),d=a.map((function(e){return e.catch(l)}));return a=null,Promise.all(d)}))}()},"./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{All:()=>u,Container:()=>_,Factory:()=>g,FactoryInvoker:()=>x,InvocationHandler:()=>b,Lazy:()=>c,NewInstance:()=>m,Optional:()=>p,Parent:()=>h,SingletonRegistration:()=>S,Strategy:()=>a,StrategyResolver:()=>d,TransientRegistration:()=>C,_emptyParameters:()=>f,all:()=>all,autoinject:()=>autoinject,factory:()=>factory,getDecoratorDependencies:()=>getDecoratorDependencies,inject:()=>inject,invokeAsFactory:()=>invokeAsFactory,invoker:()=>invoker,lazy:()=>lazy,newInstance:()=>newInstance,optional:()=>optional,parent:()=>parent,registration:()=>registration,resolver:()=>l,singleton:()=>singleton,transient:()=>transient});var r=n("./node_modules/aurelia-metadata/dist/native-modules/aurelia-metadata.js"),o=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js");function __decorate(e,t,n,r){var o,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(l=(a<3?o(l):a>3?o(t,n,l):o(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function autoinject(e){var deco=function(e){e.hasOwnProperty("inject")||(e.inject=(r.metadata.getOwn(r.metadata.paramTypes,e)||f).slice(),e.inject&&e.inject.length>0&&e.inject[e.inject.length-1]===Object&&e.inject.splice(-1,1))};return function isInjectable(e){return!!e}(e)?deco(e):deco}function inject(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n,r){if("number"==typeof r)return autoinject(t),void(1===e.length&&(t.inject[r]=e[0]));r?r.value.inject=e:t.inject=e}}var a,l=r.protocol.create("aurelia:resolver",(function(e){return"function"==typeof e.get||"Resolvers must implement: get(container: Container, key: any): any"}));function isStrategy(e,t,n){return e===t}!function(e){e[e.instance=0]="instance",e[e.singleton=1]="singleton",e[e.transient=2]="transient",e[e.function=3]="function",e[e.array=4]="array",e[e.alias=5]="alias"}(a||(a={}));var d=function(){function StrategyResolver(e,t){this.strategy=e,this.state=t}return StrategyResolver.prototype.get=function(e,t){if(isStrategy(this.strategy,a.instance,this.state))return this.state;if(isStrategy(this.strategy,a.singleton,this.state)){var n=e.invoke(this.state);return this.state=n,this.strategy=0,n}if(isStrategy(this.strategy,a.transient,this.state))return e.invoke(this.state);if(isStrategy(this.strategy,a.function,this.state))return this.state(e,t,this);if(isStrategy(this.strategy,a.array,this.state))return this.state[0].get(e,t);if(isStrategy(this.strategy,a.alias,this.state))return e.get(this.state);throw new Error("Invalid strategy: "+this.strategy)},StrategyResolver=__decorate([l(),__metadata("design:paramtypes",[Number,Object])],StrategyResolver)}(),c=function(){function Lazy(e){this._key=e}var e;return e=Lazy,Lazy.prototype.get=function(e){var t=this;return function(){return e.get(t._key)}},Lazy.of=function(t){return new e(t)},Lazy=e=__decorate([l(),__metadata("design:paramtypes",[Object])],Lazy)}(),u=function(){function All(e){this._key=e}var e;return e=All,All.prototype.get=function(e){return e.getAll(this._key)},All.of=function(t){return new e(t)},All=e=__decorate([l(),__metadata("design:paramtypes",[Object])],All)}(),p=function(){function Optional(e,t){void 0===t&&(t=!0),this._key=e,this._checkParent=t}var e;return e=Optional,Optional.prototype.get=function(e){return e.hasResolver(this._key,this._checkParent)?e.get(this._key):null},Optional.of=function(t,n){return void 0===n&&(n=!0),new e(t,n)},Optional=e=__decorate([l(),__metadata("design:paramtypes",[Object,Boolean])],Optional)}(),h=function(){function Parent(e){this._key=e}var e;return e=Parent,Parent.prototype.get=function(e){return e.parent?e.parent.get(this._key):null},Parent.of=function(t){return new e(t)},Parent=e=__decorate([l(),__metadata("design:paramtypes",[Object])],Parent)}(),g=function(){function Factory(e){this._key=e}var e;return e=Factory,Factory.prototype.get=function(e){var t=this._key,n=e.getResolver(t);return n&&n.strategy===a.function&&(t=n.state),function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.invoke(t,n)}},Factory.of=function(t){return new e(t)},Factory=e=__decorate([l(),__metadata("design:paramtypes",[Object])],Factory)}(),m=function(){function NewInstance(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.key=e,this.asKey=e,this.dynamicDependencies=t}var e;return e=NewInstance,NewInstance.prototype.get=function(e){var t=this.dynamicDependencies.length>0?this.dynamicDependencies.map((function(t){return t["protocol:aurelia:resolver"]?t.get(e):e.get(t)})):void 0,n=this.key,r=e.getResolver(n);r&&3===r.strategy&&(n=r.state);var o=e.invoke(n,t);return e.registerInstance(this.asKey,o),o},NewInstance.prototype.as=function(e){return this.asKey=e,this},NewInstance.of=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new(e.bind.apply(e,[void 0,t].concat(n)))},NewInstance=e=__decorate([l(),__metadata("design:paramtypes",[Object,Object])],NewInstance)}();function getDecoratorDependencies(e){return autoinject(e),e.inject}function lazy(e){return function(t,n,r){getDecoratorDependencies(t)[r]=c.of(e)}}function all(e){return function(t,n,r){getDecoratorDependencies(t)[r]=u.of(e)}}function optional(e){void 0===e&&(e=!0);var deco=function(e){return function(t,n,r){var o=getDecoratorDependencies(t);o[r]=p.of(o[r],e)}};return deco("boolean"!=typeof e||e)}function parent(e,t,n){var r=getDecoratorDependencies(e);r[n]=h.of(r[n])}function factory(e){return function(t,n,r){getDecoratorDependencies(t)[r]=g.of(e)}}function newInstance(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var deco=function(e){return function(n,r,o){var a=getDecoratorDependencies(n);a[o]=m.of.apply(m,[a[o]].concat(t)),e&&a[o].as(e)}};return arguments.length>=1?deco(e):deco()}function validateKey(e){if(null==e)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}var f=Object.freeze([]);r.metadata.registration="aurelia:registration",r.metadata.invoker="aurelia:invoker";var v=l.decorates,b=function(){function InvocationHandler(e,t,n){this.fn=e,this.invoker=t,this.dependencies=n}return InvocationHandler.prototype.invoke=function(e,t){return void 0!==t?this.invoker.invokeWithDynamicDependencies(e,this.fn,this.dependencies,t):this.invoker.invoke(e,this.fn,this.dependencies)},InvocationHandler}();var y={invoke:function(e,t,n){var r=n.map((function(t){return e.get(t)}));return Reflect.construct(t,r)},invokeWithDynamicDependencies:function invokeWithDynamicDependencies(e,t,n,r){for(var o,a=n.length,l=new Array(a);a--;){if(null==(o=n[a]))throw new Error("Constructor Parameter with index "+a+" cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?");l[a]=e.get(o)}return void 0!==r&&(l=l.concat(r)),Reflect.construct(t,l)}};var _=function(){function Container(e){void 0===e&&(e={}),this._configuration=e,this._onHandlerCreated=e.onHandlerCreated,this._handlers=e.handlers||(e.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}return Container.prototype.makeGlobal=function(){return Container.instance=this,this},Container.prototype.setHandlerCreatedCallback=function(e){this._onHandlerCreated=e,this._configuration.onHandlerCreated=e},Container.prototype.registerInstance=function(e,t){return this.registerResolver(e,new d(0,void 0===t?e:t))},Container.prototype.registerSingleton=function(e,t){return this.registerResolver(e,new d(1,void 0===t?e:t))},Container.prototype.registerTransient=function(e,t){return this.registerResolver(e,new d(2,void 0===t?e:t))},Container.prototype.registerHandler=function(e,t){return this.registerResolver(e,new d(3,t))},Container.prototype.registerAlias=function(e,t){return this.registerResolver(t,new d(5,e))},Container.prototype.registerResolver=function(e,t){validateKey(e);var n=this._resolvers,r=n.get(e);return void 0===r?n.set(e,t):4===r.strategy?r.state.push(t):n.set(e,new d(4,[r,t])),t},Container.prototype.autoRegister=function(e,t){if("function"==typeof(t=void 0===t?e:t)){var n=r.metadata.get(r.metadata.registration,t);return void 0===n?this.registerResolver(e,new d(1,t)):n.registerResolver(this,e,t)}return this.registerResolver(e,new d(0,t))},Container.prototype.autoRegisterAll=function(e){for(var t=e.length;t--;)this.autoRegister(e[t])},Container.prototype.unregister=function(e){this._resolvers.delete(e)},Container.prototype.hasResolver=function(e,t){return void 0===t&&(t=!1),validateKey(e),this._resolvers.has(e)||t&&null!==this.parent&&this.parent.hasResolver(e,t)},Container.prototype.getResolver=function(e){return this._resolvers.get(e)},Container.prototype.get=function(e){if(validateKey(e),e===Container)return this;if(v(e))return e.get(this,e);var t=this._resolvers.get(e);if(void 0===t){if(null===this.parent)return this.autoRegister(e).get(this,e);var n=r.metadata.get(r.metadata.registration,e);return void 0===n?this.parent._get(e):n.registerResolver(this,e,e).get(this,e)}return t.get(this,e)},Container.prototype._get=function(e){var t=this._resolvers.get(e);return void 0===t?null===this.parent?this.autoRegister(e).get(this,e):this.parent._get(e):t.get(this,e)},Container.prototype.getAll=function(e){validateKey(e);var t=this._resolvers.get(e);if(void 0===t)return null===this.parent?f:this.parent.getAll(e);if(4===t.strategy){for(var n=t.state,r=n.length,o=new Array(r);r--;)o[r]=n[r].get(this,e);return o}return[t.get(this,e)]},Container.prototype.createChild=function(){var e=new Container(this._configuration);return e.root=this.root,e.parent=this,e},Container.prototype.invoke=function(e,t){try{var n=this._handlers.get(e);return void 0===n&&(n=this._createInvocationHandler(e),this._handlers.set(e,n)),n.invoke(this,t)}catch(t){throw new o.AggregateError("Error invoking "+e.name+". Check the inner error for details.",t,!0)}},Container.prototype._createInvocationHandler=function(e){var t,n;if(void 0===e.inject)t=r.metadata.getOwn(r.metadata.paramTypes,e)||f;else{t=[];for(var o=e;"function"==typeof o;)t.push.apply(t,(n=o).hasOwnProperty("inject")?"function"==typeof n.inject?n.inject():n.inject:[]),o=Object.getPrototypeOf(o)}var a=r.metadata.getOwn(r.metadata.invoker,e)||y,l=new b(e,a,t);return void 0!==this._onHandlerCreated?this._onHandlerCreated(l):l},Container}();function invoker(e){return function(t){r.metadata.define(r.metadata.invoker,e,t)}}function invokeAsFactory(e){var deco=function(e){r.metadata.define(r.metadata.invoker,x.instance,e)};return e?deco(e):deco}var x=function(){function FactoryInvoker(){}return FactoryInvoker.prototype.invoke=function(e,t,n){for(var r=n.length,o=new Array(r);r--;)o[r]=e.get(n[r]);return t.apply(void 0,o)},FactoryInvoker.prototype.invokeWithDynamicDependencies=function(e,t,n,r){for(var o=n.length,a=new Array(o);o--;)a[o]=e.get(n[o]);return void 0!==r&&(a=a.concat(r)),t.apply(void 0,a)},FactoryInvoker}();function registration(e){return function(t){r.metadata.define(r.metadata.registration,e,t)}}function transient(e){return registration(new C(e))}function singleton(e,t){return void 0===t&&(t=!1),registration(new S(e,t))}x.instance=new x;var C=function(){function TransientRegistration(e){this._key=e}return TransientRegistration.prototype.registerResolver=function(e,t,n){var r=e.getResolver(this._key||t);return void 0===r?e.registerTransient(this._key||t,n):r},TransientRegistration}(),S=function(){function SingletonRegistration(e,t){void 0===t&&(t=!1),"boolean"==typeof e?this._registerInChild=e:(this._key=e,this._registerInChild=t)}return SingletonRegistration.prototype.registerResolver=function(e,t,n){var r=this._registerInChild?e:e.root,o=r.getResolver(this._key||t);return void 0===o?r.registerSingleton(this._key||t,n):o},SingletonRegistration}()},"./node_modules/aurelia-dialog/dist/native-modules/attach-focus.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AttachFocus:()=>o});var r=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),o=function(){function AttachFocus(e){this.element=e,this.value=!0}return AttachFocus.inject=function(){return[r.DOM.Element]},AttachFocus.prototype.attached=function(){(""===this.value||this.value&&"false"!==this.value)&&this.element.focus()},AttachFocus.$resource={type:"attribute",name:"attach-focus"},AttachFocus}()},"aurelia-dialog":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DefaultDialogSettings:()=>d,DialogConfiguration:()=>p,DialogController:()=>r.d,DialogService:()=>h,Renderer:()=>r.a,configure:()=>configure,createDialogCancelError:()=>r.b,createDialogCloseError:()=>r.e});var r=n("./node_modules/aurelia-dialog/dist/native-modules/chunk.js"),o=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),a=n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),l=n("./node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),d=function d(){this.lock=!0,this.startingZIndex=1e3,this.centerHorizontalOnly=!1,this.rejectOnCancel=!1,this.ignoreTransitions=!1,this.restoreFocus=function(e){return e.focus()}},c={ux:function(){return n.e(11216).then(n.bind(n,"./node_modules/aurelia-dialog/dist/native-modules/ux-dialog-renderer.js")).then((function(e){return e.DialogRenderer}))},native:function(){return n.e(11216).then(n.bind(n,"./node_modules/aurelia-dialog/dist/native-modules/native-dialog-renderer.js")).then((function(e){return e.NativeDialogRenderer}))}},u={"ux-dialog":function(){return n.e(11216).then(n.bind(n,"./node_modules/aurelia-dialog/dist/native-modules/ux-dialog.js")).then((function(e){return e.UxDialog}))},"ux-dialog-header":function(){return n.e(11216).then(n.bind(n,"./node_modules/aurelia-dialog/dist/native-modules/ux-dialog-header.js")).then((function(e){return e.UxDialogHeader}))},"ux-dialog-body":function(){return n.e(11216).then(n.bind(n,"./node_modules/aurelia-dialog/dist/native-modules/ux-dialog-body.js")).then((function(e){return e.UxDialogBody}))},"ux-dialog-footer":function(){return n.e(11216).then(n.bind(n,"./node_modules/aurelia-dialog/dist/native-modules/ux-dialog-footer.js")).then((function(e){return e.UxDialogFooter}))},"attach-focus":function(){return n.e(11216).then(n.bind(n,"./node_modules/aurelia-dialog/dist/native-modules/attach-focus.js")).then((function(e){return e.AttachFocus}))}},DEFAULT_CSS_TEXT=function(){return n.e(11216).then(n.bind(n,"./node_modules/aurelia-dialog/dist/native-modules/default-styles.js")).then((function(e){return e.default}))},p=function(){function DialogConfiguration(e,t){var n=this;this.renderer="ux",this.cssText=DEFAULT_CSS_TEXT,this.resources=[],this.fwConfig=e,this.settings=e.container.get(d),t((function(){return n._apply()}))}return DialogConfiguration.prototype._apply=function(){var e=this,t=this.renderer,n=this.cssText;return Promise.all(["string"==typeof t?c[t]():t,n?"string"==typeof n?n:n():""]).then((function(t){var n=t[0],a=t[1],l=e.fwConfig;return l.transient(r.a,n),a&&o.DOM.injectStyles(a),Promise.all(e.resources.map((function(e){return u[e]()}))).then((function(e){l.globalResources(e)}))}))},DialogConfiguration.prototype.useDefaults=function(){return this.useRenderer("ux").useCSS(DEFAULT_CSS_TEXT).useStandardResources()},DialogConfiguration.prototype.useStandardResources=function(){return Object.keys(u).forEach(this.useResource,this),this},DialogConfiguration.prototype.useResource=function(e){return this.resources.push(e),this},DialogConfiguration.prototype.useRenderer=function(e,t){return this.renderer=e,t&&Object.assign(this.settings,t),this},DialogConfiguration.prototype.useCSS=function(e){return this.cssText=e,this},DialogConfiguration}();function whenClosed(e,t){return this.then((function(e){return e.wasCancelled?e:e.closeResult})).then(e,t)}var h=function(){function DialogService(e,t,n){this.controllers=[],this.hasOpenDialog=!1,this.hasActiveDialog=!1,this.container=e,this.compositionEngine=t,this.defaultSettings=n}return DialogService.prototype.validateSettings=function(e){if(!e.viewModel&&!e.view)throw new Error('Invalid Dialog Settings. You must provide "viewModel", "view" or both.')},DialogService.prototype.createCompositionContext=function(e,t,n){return{container:e.parent,childContainer:e,bindingContext:null,viewResources:null,model:n.model,view:n.view,viewModel:n.viewModel,viewSlot:new l.ViewSlot(t,!0),host:t}},DialogService.prototype.ensureViewModel=function(e){return"object"==typeof e.viewModel?Promise.resolve(e):this.compositionEngine.ensureViewModel(e)},DialogService.prototype._cancelOperation=function(e){if(!e)return{wasCancelled:!0};throw(0,r.b)()},DialogService.prototype.composeAndShowDialog=function(e,t){var n=this;return e.viewModel||(e.bindingContext={controller:t}),this.compositionEngine.compose(e).then((function(e){return t.controller=e,t.renderer.showDialog(t).then((function(){n.controllers.push(t),n.hasActiveDialog=n.hasOpenDialog=!!n.controllers.length}),(function(t){return e.viewModel&&(0,r.c)(e.viewModel,"deactivate"),Promise.reject(t)}))}))},DialogService.prototype.createSettings=function(e){return"boolean"==typeof(e=Object.assign({},this.defaultSettings,e)).keyboard||e.keyboard||(e.keyboard=!e.lock),"boolean"!=typeof e.overlayDismiss&&(e.overlayDismiss=!e.lock),Object.defineProperty(e,"rejectOnCancel",{writable:!1,configurable:!0,enumerable:!0}),this.validateSettings(e),e},DialogService.prototype.open=function(e){var t=this;void 0===e&&(e={});var n,o,a=(e=this.createSettings(e)).childContainer||this.container.createChild(),l=new Promise((function(e,t){n=e,o=t})),d=a.invoke(r.d,[e,n,o]);a.registerInstance(r.d,d),l.then((function(){removeController(t,d)}),(function(){removeController(t,d)}));var c=this.createCompositionContext(a,d.renderer.getDialogContainer(),d.settings);return function asDialogOpenPromise(e){return e.whenClosed=whenClosed,e}(this.ensureViewModel(c).then((function(e){return!e.viewModel||(0,r.c)(e.viewModel,"canActivate",d.settings.model)})).then((function(e){return e?t.composeAndShowDialog(c,d).then((function(){return{controller:d,closeResult:l,wasCancelled:!1}})):t._cancelOperation(d.settings.rejectOnCancel)})))},DialogService.prototype.closeAll=function(){return Promise.all(this.controllers.slice(0).map((function(e){return e.settings.rejectOnCancel?e.cancel().then((function(){return null})).catch((function(t){if(t.wasCancelled)return e;throw t})):e.cancel().then((function(t){return t.wasCancelled?e:null}))}))).then((function(e){return e.filter((function(e){return!!e}))}))},DialogService.inject=[a.Container,l.CompositionEngine,d],DialogService}();function removeController(e,t){var n=e.controllers.indexOf(t);-1!==n&&(e.controllers.splice(n,1),e.hasActiveDialog=e.hasOpenDialog=!!e.controllers.length)}function configure(e,t){var n=null,r=new p(e,(function(e){n=e}));return"function"==typeof t?t(r):r.useDefaults(),n()}},"./node_modules/aurelia-dialog/dist/native-modules/chunk.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{a:()=>r,b:()=>createDialogCancelError,c:()=>invokeLifecycle,d:()=>o,e:()=>createDialogCloseError});var r=function(){function Renderer(){}return Renderer.prototype.getDialogContainer=function(){throw new Error("DialogRenderer must implement getDialogContainer().")},Renderer.prototype.showDialog=function(e){throw new Error("DialogRenderer must implement showDialog().")},Renderer.prototype.hideDialog=function(e){throw new Error("DialogRenderer must implement hideDialog().")},Renderer}();function createDialogCancelError(e){var t=new Error("Operation cancelled.");return t.wasCancelled=!0,t.output=e,t}function createDialogCloseError(e){var t=new Error;return t.wasCancelled=!1,t.output=e,t}function invokeLifecycle(e,t,n){return"function"==typeof e[t]?new Promise((function(r){r(e[t](n))})).then((function(e){return null==e||e})):Promise.resolve(!0)}var o=function(){function DialogController(e,t,n,r){this.resolve=n,this.reject=r,this.settings=t,this.renderer=e}return DialogController.prototype.releaseResources=function(e){var t=this;return invokeLifecycle(this.controller.viewModel||{},"deactivate",e).then((function(){return t.renderer.hideDialog(t)})).then((function(){t.controller.unbind()}))},DialogController.prototype.cancelOperation=function(){if(!this.settings.rejectOnCancel)return{wasCancelled:!0};throw createDialogCancelError()},DialogController.prototype.ok=function(e){return this.close(!0,e)},DialogController.prototype.cancel=function(e){return this.close(!1,e)},DialogController.prototype.error=function(e){var t=this,n=createDialogCloseError(e);return this.releaseResources(n).then((function(){t.reject(n)}))},DialogController.prototype.close=function(e,t){var n=this;if(this.closePromise)return this.closePromise;var r={wasCancelled:!e,output:t};return this.closePromise=invokeLifecycle(this.controller.viewModel||{},"canDeactivate",r).catch((function(e){return n.closePromise=void 0,Promise.reject(e)})).then((function(o){return o?n.releaseResources(r).then((function(){return!n.settings.rejectOnCancel||e?n.resolve(r):n.reject(createDialogCancelError(t)),{wasCancelled:!1}})).catch((function(e){return n.closePromise=void 0,Promise.reject(e)})):(n.closePromise=void 0,n.cancelOperation())}))},DialogController.inject=[r],DialogController}()},"./node_modules/aurelia-dialog/dist/native-modules/default-styles.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="ux-dialog-overlay{bottom:0;left:0;position:fixed;top:0;right:0;opacity:0}ux-dialog-overlay.active{opacity:1}ux-dialog-container{display:block;transition:opacity .2s linear;opacity:0;overflow-x:hidden;overflow-y:auto;position:fixed;top:0;right:0;bottom:0;left:0;-webkit-overflow-scrolling:touch}ux-dialog-container.active{opacity:1}ux-dialog-container>div{padding:30px}ux-dialog-container>div>div{width:100%;display:block;min-width:300px;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;margin:auto}ux-dialog-container,ux-dialog-container>div,ux-dialog-container>div>div{outline:0}ux-dialog{width:100%;display:table;box-shadow:0 5px 15px rgba(0,0,0,.5);border:1px solid rgba(0,0,0,.2);border-radius:5px;padding:3;min-width:300px;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;height:-moz-fit-content;height:-webkit-fit-content;height:fit-content;margin:auto;border-image-source:none;border-image-slice:100%;border-image-width:1;border-image-outset:0;border-image-repeat:initial;background:#fff}ux-dialog>ux-dialog-header{display:block;padding:16px;border-bottom:1px solid #e5e5e5}ux-dialog>ux-dialog-header>button{float:right;border:none;display:block;width:32px;height:32px;background:none;font-size:22px;line-height:16px;margin:-14px -16px 0 0;padding:0;cursor:pointer}ux-dialog>ux-dialog-body{display:block;padding:16px}ux-dialog>ux-dialog-footer{display:block;padding:6px;border-top:1px solid #e5e5e5;text-align:right}ux-dialog>ux-dialog-footer button{color:#333;background-color:#fff;padding:6px 12px;font-size:14px;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid #ccc;border-radius:4px;margin:5px 0 5px 5px}ux-dialog>ux-dialog-footer button:disabled{cursor:default;opacity:.45}ux-dialog>ux-dialog-footer button:hover:enabled{color:#333;background-color:#e6e6e6;border-color:#adadad}.ux-dialog-open{overflow:hidden}"},"./node_modules/aurelia-dialog/dist/native-modules/native-dialog-renderer.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{NativeDialogRenderer:()=>c});var r=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),o=n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),a=n("./node_modules/aurelia-dialog/dist/native-modules/ux-dialog-renderer.js");var l,d="dialog",c=function(){function NativeDialogRenderer(){}var e;return e=NativeDialogRenderer,NativeDialogRenderer.keyboardEventHandler=function(t){var n="Enter"===(t.code||t.key)||13===t.keyCode?"Enter":void 0;if(n){var r=e.dialogControllers[e.dialogControllers.length-1];if(r&&r.settings.keyboard){var o=r.settings.keyboard;"Enter"===n&&(o===n||Array.isArray(o)&&o.indexOf(n)>-1)&&r.ok()}}},NativeDialogRenderer.trackController=function(t){e.dialogControllers.length||r.DOM.addEventListener("keyup",e.keyboardEventHandler,!1),e.dialogControllers.push(t)},NativeDialogRenderer.untrackController=function(t){var n=e.dialogControllers.indexOf(t);-1!==n&&e.dialogControllers.splice(n,1),e.dialogControllers.length||r.DOM.removeEventListener("keyup",e.keyboardEventHandler,!1)},NativeDialogRenderer.prototype.getOwnElements=function(e,t){for(var n=e.querySelectorAll(t),r=[],o=0;o<n.length;o++)n[o].parentElement===e&&r.push(n[o]);return r},NativeDialogRenderer.prototype.attach=function(e){e.settings.restoreFocus&&(this.lastActiveElement=r.DOM.activeElement);var t=r.DOM.createElement("div");t.appendChild(this.anchor),this.dialogContainer=r.DOM.createElement(d),window.dialogPolyfill&&window.dialogPolyfill.registerDialog(this.dialogContainer),this.dialogContainer.appendChild(t);var n=this.getOwnElements(this.host,d).pop();n&&n.parentElement?this.host.insertBefore(this.dialogContainer,n.nextSibling):this.host.insertBefore(this.dialogContainer,this.host.firstChild),e.controller.attached(),this.host.classList.add("ux-dialog-open")},NativeDialogRenderer.prototype.detach=function(t){this.dialogContainer.hasAttribute("open")&&this.dialogContainer.close(),this.host.removeChild(this.dialogContainer),t.controller.detached(),e.dialogControllers.length||this.host.classList.remove("ux-dialog-open"),t.settings.restoreFocus&&t.settings.restoreFocus(this.lastActiveElement)},NativeDialogRenderer.prototype.setAsActive=function(){this.dialogContainer.showModal(),this.dialogContainer.classList.add("active")},NativeDialogRenderer.prototype.setAsInactive=function(){this.dialogContainer.classList.remove("active")},NativeDialogRenderer.prototype.setupEventHandling=function(e){this.stopPropagation=function(e){e._aureliaDialogHostClicked=!0},this.closeDialogClick=function(t){e.settings.overlayDismiss&&!t._aureliaDialogHostClicked&&e.cancel()},this.dialogCancel=function(t){var n=e.settings.keyboard,r="Escape";!0===n||n===r||Array.isArray(n)&&n.indexOf(r)>-1?e.cancel():t.preventDefault()};var t=e.settings.mouseEvent||"click";this.dialogContainer.addEventListener(t,this.closeDialogClick),this.dialogContainer.addEventListener("cancel",this.dialogCancel),this.anchor.addEventListener(t,this.stopPropagation)},NativeDialogRenderer.prototype.clearEventHandling=function(e){var t=e.settings.mouseEvent||"click";this.dialogContainer.removeEventListener(t,this.closeDialogClick),this.dialogContainer.removeEventListener("cancel",this.dialogCancel),this.anchor.removeEventListener(t,this.stopPropagation)},NativeDialogRenderer.prototype.awaitTransition=function(e,t){var n=this;return new Promise((function(r){var o=n,l=(0,a.transitionEvent)();t||!(0,a.hasTransition)(n.dialogContainer)?r():n.dialogContainer.addEventListener(l,(function onTransitionEnd(e){e.target===o.dialogContainer&&(o.dialogContainer.removeEventListener(l,onTransitionEnd),r())})),e()}))},NativeDialogRenderer.prototype.getDialogContainer=function(){return this.anchor||(this.anchor=r.DOM.createElement("div"))},NativeDialogRenderer.prototype.showDialog=function(t){var n=this;l||(l=r.DOM.querySelector("body")),t.settings.host?this.host=t.settings.host:this.host=l;var o=t.settings;return this.attach(t),"function"==typeof o.position&&o.position(this.dialogContainer),e.trackController(t),this.setupEventHandling(t),this.awaitTransition((function(){return n.setAsActive()}),t.settings.ignoreTransitions)},NativeDialogRenderer.prototype.hideDialog=function(t){var n=this;return this.clearEventHandling(t),e.untrackController(t),this.awaitTransition((function(){return n.setAsInactive()}),t.settings.ignoreTransitions).then((function(){n.detach(t)}))},NativeDialogRenderer.dialogControllers=[],NativeDialogRenderer=e=function __decorate(e,t,n,r){var o,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(l=(a<3?o(l):a>3?o(t,n,l):o(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l}([(0,o.transient)()],NativeDialogRenderer),NativeDialogRenderer}()},"./node_modules/aurelia-dialog/dist/native-modules/ux-dialog-body.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{UxDialogBody:()=>r});var r=function(){function UxDialogBody(){}return UxDialogBody.$view="<template><slot></slot></template>",UxDialogBody.$resource="ux-dialog-body",UxDialogBody}()},"./node_modules/aurelia-dialog/dist/native-modules/ux-dialog-footer.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{UxDialogFooter:()=>o});var r=n("./node_modules/aurelia-dialog/dist/native-modules/chunk.js"),o=function(){function UxDialogFooter(e){this.controller=e,this.buttons=[],this.useDefaultButtons=!1}return UxDialogFooter.isCancelButton=function(e){return"Cancel"===e},UxDialogFooter.prototype.close=function(e){UxDialogFooter.isCancelButton(e)?this.controller.cancel(e):this.controller.ok(e)},UxDialogFooter.prototype.useDefaultButtonsChanged=function(e){e&&(this.buttons=["Cancel","Ok"])},UxDialogFooter.inject=[r.d],UxDialogFooter.$view='<template>\n  <slot></slot>\n  <template if.bind="buttons.length > 0">\n    <button type="button"\n      class="btn btn-default"\n      repeat.for="button of buttons"\n      click.trigger="close(button)">\n      ${button}\n    </button>\n  </template>\n</template>',UxDialogFooter.$resource={name:"ux-dialog-footer",bindables:["buttons","useDefaultButtons"]},UxDialogFooter}()},"./node_modules/aurelia-dialog/dist/native-modules/ux-dialog-header.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{UxDialogHeader:()=>o});var r=n("./node_modules/aurelia-dialog/dist/native-modules/chunk.js"),o=function(){function UxDialogHeader(e){this.controller=e}return UxDialogHeader.prototype.bind=function(){"boolean"!=typeof this.showCloseButton&&(this.showCloseButton=!this.controller.settings.lock)},UxDialogHeader.inject=[r.d],UxDialogHeader.$view='<template>\n  <button\n    type="button"\n    class="dialog-close"\n    aria-label="Close"\n    if.bind="showCloseButton"\n    click.trigger="controller.cancel()">\n    <span aria-hidden="true">&times;</span>\n  </button>\n\n  <div class="dialog-header-content">\n    <slot></slot>\n  </div>\n</template>',UxDialogHeader.$resource={name:"ux-dialog-header",bindables:["showCloseButton"]},UxDialogHeader}()},"./node_modules/aurelia-dialog/dist/native-modules/ux-dialog-renderer.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DialogRenderer:()=>m,UxDialogRenderer:()=>m,hasTransition:()=>g,transitionEvent:()=>transitionEvent});var r,o,a,l,d,c,u=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),p=n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),h="ux-dialog-container",transitionEvent=function(){if(r)return r;var e=u.DOM.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(void 0!==e.style[n])return r=t[n];return""},g=(l="transitionDuration",d=["webkitTransitionDuration","oTransitionDuration"],function(e){return o||(o=u.DOM.createElement("fakeelement"),a=l in o.style?l:d.find((function(e){return e in o.style}))),!!a&&!!u.DOM.getComputedStyle(e)[a].split(",").find((function(e){return!!parseFloat(e)}))});var m=function(){function DialogRenderer(){}return DialogRenderer.keyboardEventHandler=function(e){var t=function getActionKey(e){return"Escape"===(e.code||e.key)||27===e.keyCode?"Escape":"Enter"===(e.code||e.key)||13===e.keyCode?"Enter":void 0}(e);if(t){var n=DialogRenderer.dialogControllers[DialogRenderer.dialogControllers.length-1];if(n&&n.settings.keyboard){var r=n.settings.keyboard;"Escape"===t&&(!0===r||r===t||Array.isArray(r)&&r.indexOf(t)>-1)?n.cancel():"Enter"===t&&(r===t||Array.isArray(r)&&r.indexOf(t)>-1)&&n.ok()}}},DialogRenderer.trackController=function(e){var t=DialogRenderer.dialogControllers;t.length||u.DOM.addEventListener(e.settings.keyEvent||"keyup",DialogRenderer.keyboardEventHandler,!1),t.push(e)},DialogRenderer.untrackController=function(e){var t=DialogRenderer.dialogControllers,n=t.indexOf(e);-1!==n&&t.splice(n,1),t.length||u.DOM.removeEventListener(e.settings.keyEvent||"keyup",DialogRenderer.keyboardEventHandler,!1)},DialogRenderer.prototype.getOwnElements=function(e,t){for(var n=e.querySelectorAll(t),r=[],o=0;o<n.length;o++)n[o].parentElement===e&&r.push(n[o]);return r},DialogRenderer.prototype.attach=function(e){e.settings.restoreFocus&&(this.lastActiveElement=u.DOM.activeElement);var t=u.DOM.createElement("div");t.appendChild(this.anchor);var n=this.dialogContainer=u.DOM.createElement(h);n.appendChild(t);var r=this.dialogOverlay=u.DOM.createElement("ux-dialog-overlay"),o="number"==typeof e.settings.startingZIndex?e.settings.startingZIndex+"":"auto";r.style.zIndex=o,n.style.zIndex=o;var a=this.host,l=this.getOwnElements(a,h).pop();l&&l.parentElement?(a.insertBefore(n,l.nextSibling),a.insertBefore(r,l.nextSibling)):(a.insertBefore(n,a.firstChild),a.insertBefore(r,a.firstChild)),e.controller.attached(),a.classList.add("ux-dialog-open")},DialogRenderer.prototype.detach=function(e){var t=this.host;t.removeChild(this.dialogOverlay),t.removeChild(this.dialogContainer),e.controller.detached(),DialogRenderer.dialogControllers.length||t.classList.remove("ux-dialog-open"),e.settings.restoreFocus&&e.settings.restoreFocus(this.lastActiveElement)},DialogRenderer.prototype.setAsActive=function(){this.dialogOverlay.classList.add("active"),this.dialogContainer.classList.add("active")},DialogRenderer.prototype.setAsInactive=function(){this.dialogOverlay.classList.remove("active"),this.dialogContainer.classList.remove("active")},DialogRenderer.prototype.setupEventHandling=function(e){this.stopPropagation=function(e){e._aureliaDialogHostClicked=!0},this.closeDialogClick=function(t){e.settings.overlayDismiss&&!t._aureliaDialogHostClicked&&e.cancel()};var t=e.settings.mouseEvent||"click";this.dialogContainer.addEventListener(t,this.closeDialogClick),this.anchor.addEventListener(t,this.stopPropagation)},DialogRenderer.prototype.clearEventHandling=function(e){var t=e.settings.mouseEvent||"click";this.dialogContainer.removeEventListener(t,this.closeDialogClick),this.anchor.removeEventListener(t,this.stopPropagation)},DialogRenderer.prototype.centerDialog=function(){var e=this.dialogContainer.children[0],t=Math.max(u.DOM.querySelectorAll("html")[0].clientHeight,window.innerHeight||0);e.style.marginTop=Math.max((t-e.offsetHeight)/2,30)+"px",e.style.marginBottom=Math.max((t-e.offsetHeight)/2,30)+"px"},DialogRenderer.prototype.awaitTransition=function(e,t){var n=this;return new Promise((function(r){var o=n,a=transitionEvent();t||!g(n.dialogContainer)?r():n.dialogContainer.addEventListener(a,(function onTransitionEnd(e){e.target===o.dialogContainer&&(o.dialogContainer.removeEventListener(a,onTransitionEnd),r())})),e()}))},DialogRenderer.prototype.getDialogContainer=function(){return this.anchor||(this.anchor=u.DOM.createElement("div"))},DialogRenderer.prototype.showDialog=function(e){var t=this;c||(c=u.DOM.querySelector("body")),e.settings.host?this.host=e.settings.host:this.host=c;var n=e.settings;return this.attach(e),"function"==typeof n.position?n.position(this.dialogContainer,this.dialogOverlay):n.centerHorizontalOnly||this.centerDialog(),DialogRenderer.trackController(e),this.setupEventHandling(e),this.awaitTransition((function(){return t.setAsActive()}),e.settings.ignoreTransitions)},DialogRenderer.prototype.hideDialog=function(e){var t=this;return this.clearEventHandling(e),DialogRenderer.untrackController(e),this.awaitTransition((function(){return t.setAsInactive()}),e.settings.ignoreTransitions).then((function(){t.detach(e)}))},DialogRenderer.dialogControllers=[],DialogRenderer}();(0,p.transient)()(m)},"./node_modules/aurelia-dialog/dist/native-modules/ux-dialog.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{UxDialog:()=>r});var r=function(){function UxDialog(){}return UxDialog.$view="<template><slot></slot></template>",UxDialog.$resource="ux-dialog",UxDialog}()},"aurelia-event-aggregator":(e,t,n)=>{"use strict";n.r(t),n.d(t,{EventAggregator:()=>a,configure:()=>configure,includeEventsIn:()=>includeEventsIn});var r=n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js").getLogger("event-aggregator"),o=function(){function Handler(e,t){this.messageType=e,this.callback=t}return Handler.prototype.handle=function handle(e){e instanceof this.messageType&&this.callback.call(null,e)},Handler}();function invokeCallback(e,t,n){try{e(t,n)}catch(e){r.error(e)}}function invokeHandler(e,t){try{e.handle(t)}catch(e){r.error(e)}}var a=function(){function EventAggregator(){this.eventLookup={},this.messageHandlers=[]}return EventAggregator.prototype.publish=function publish(e,t){var n=void 0,r=void 0;if(!e)throw new Error("Event was invalid.");if("string"==typeof e){if(n=this.eventLookup[e])for(r=(n=n.slice()).length;r--;)invokeCallback(n[r],t,e)}else for(r=(n=this.messageHandlers.slice()).length;r--;)invokeHandler(n[r],e)},EventAggregator.prototype.subscribe=function subscribe(e,t){var n=void 0,r=void 0;if(!e)throw new Error("Event channel/type was invalid.");return"string"==typeof e?(n=t,r=this.eventLookup[e]||(this.eventLookup[e]=[])):(n=new o(e,t),r=this.messageHandlers),r.push(n),{dispose:function dispose(){var e=r.indexOf(n);-1!==e&&r.splice(e,1)}}},EventAggregator.prototype.subscribeOnce=function subscribeOnce(e,t){var n=this.subscribe(e,(function(e,r){return n.dispose(),t(e,r)}));return n},EventAggregator}();function includeEventsIn(e){var t=new a;return e.subscribeOnce=function(e,n){return t.subscribeOnce(e,n)},e.subscribe=function(e,n){return t.subscribe(e,n)},e.publish=function(e,n){t.publish(e,n)},t}function configure(e){e.instance(a,includeEventsIn(e.aurelia))}},"./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{HttpClient:()=>u,HttpClientConfiguration:()=>c,RetryInterceptor:()=>l,json:()=>json,retryStrategy:()=>o});var r=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js");function json(e,t){return JSON.stringify(void 0!==e?e:{},t)}var o={fixed:0,incremental:1,exponential:2,random:3},a={maxRetries:3,interval:1e3,strategy:o.fixed},l=function(){function RetryInterceptor(e){if(this.retryConfig=Object.assign({},a,e||{}),this.retryConfig.strategy===o.exponential&&this.retryConfig.interval<=1e3)throw new Error("An interval less than or equal to 1 second is not allowed when using the exponential retry strategy")}return RetryInterceptor.prototype.request=function(e){var t=e;return t.retryConfig||(t.retryConfig=Object.assign({},this.retryConfig),t.retryConfig.counter=0),t.retryConfig.requestClone=e.clone(),e},RetryInterceptor.prototype.response=function(e,t){return delete t.retryConfig,e},RetryInterceptor.prototype.responseError=function(e,t,n){var a=t.retryConfig,l=a.requestClone;return Promise.resolve().then((function(){if(a.counter<a.maxRetries){var c=!a.doRetry||a.doRetry(e,t);return Promise.resolve(c).then((function(c){if(c)return a.counter++,new Promise((function(e){return r.PLATFORM.global.setTimeout(e,function calculateDelay(e){var t=e.interval,n=e.strategy,r=e.minRandomInterval,a=e.maxRandomInterval,l=e.counter;if("function"==typeof n)return e.strategy(l);switch(n){case o.fixed:return d[o.fixed](t);case o.incremental:return d[o.incremental](l,t);case o.exponential:return d[o.exponential](l,t);case o.random:return d[o.random](l,t,r,a);default:throw new Error("Unrecognized retry strategy")}}(a)||0)})).then((function(){var e=l.clone();return"function"==typeof a.beforeRetry?a.beforeRetry(e,n):e})).then((function(e){return n.fetch(Object.assign(e,{retryConfig:a}))}));throw delete t.retryConfig,e}))}throw delete t.retryConfig,e}))},RetryInterceptor}();var d=[function(e){return e},function(e,t){return t*e},function(e,t){return 1===e?t:Math.pow(t,e)/1e3},function(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=6e4),Math.random()*(r-n)+n}],c=function(){function HttpClientConfiguration(){this.baseUrl="",this.defaults={},this.interceptors=[]}return HttpClientConfiguration.prototype.withBaseUrl=function(e){return this.baseUrl=e,this},HttpClientConfiguration.prototype.withDefaults=function(e){return this.defaults=e,this},HttpClientConfiguration.prototype.withInterceptor=function(e){return this.interceptors.push(e),this},HttpClientConfiguration.prototype.useStandardConfiguration=function(){return Object.assign(this.defaults,{credentials:"same-origin"},this.defaults),this.rejectErrorResponses()},HttpClientConfiguration.prototype.rejectErrorResponses=function(){return this.withInterceptor({response:rejectOnError})},HttpClientConfiguration.prototype.withRetry=function(e){var t=new l(e);return this.withInterceptor(t)},HttpClientConfiguration}();function rejectOnError(e){if(!e.ok)throw e;return e}var u=function(){function HttpClient(){if(this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[],"undefined"==typeof fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch")}return HttpClient.prototype.configure=function(e){var t;if("object"==typeof e)t={defaults:e};else{if("function"!=typeof e)throw new Error("invalid config");(t=new c).baseUrl=this.baseUrl,t.defaults=Object.assign({},this.defaults),t.interceptors=this.interceptors;var n=e(t);c.prototype.isPrototypeOf(n)&&(t=n)}var r=t.defaults;if(r&&Headers.prototype.isPrototypeOf(r.headers))throw new Error("Default headers must be a plain object.");var o=t.interceptors;if(o&&o.length){if(o.filter((function(e){return l.prototype.isPrototypeOf(e)})).length>1)throw new Error("Only one RetryInterceptor is allowed.");var a=o.findIndex((function(e){return l.prototype.isPrototypeOf(e)}));if(a>=0&&a!==o.length-1)throw new Error("The retry interceptor must be the last interceptor defined.")}return this.baseUrl=t.baseUrl,this.defaults=r,this.interceptors=t.interceptors||[],this.isConfigured=!0,this},HttpClient.prototype.fetch=function(e,t){var n=this;!function trackRequestStart(e){if(e.isRequesting=!!++e.activeRequestCount,e.isRequesting){var t=r.DOM.createCustomEvent("aurelia-fetch-client-request-started",{bubbles:!0,cancelable:!0});setTimeout((function(){return r.DOM.dispatchEvent(t)}),1)}}(this);var o=this.buildRequest(e,t);return function processRequest(e,t,n){return applyInterceptors(e,t,"request","requestError",n)}(o,this.interceptors,this).then((function(e){var t=null;if(Response.prototype.isPrototypeOf(e))t=Promise.resolve(e);else{if(!Request.prototype.isPrototypeOf(e))throw new Error("An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got ["+e+"]");o=e,t=fetch(e)}return function processResponse(e,t,n,r){return applyInterceptors(e,t,"response","responseError",n,r)}(t,n.interceptors,o,n)})).then((function(e){return Request.prototype.isPrototypeOf(e)?n.fetch(e):e})).then((function(e){return trackRequestEnd(n),e}),(function(e){throw trackRequestEnd(n),e}))},HttpClient.prototype.buildRequest=function(e,t){var n,r,o,a=this.defaults||{},l=function parseHeaderValues(e){var t={};for(var n in e||{})e.hasOwnProperty(n)&&(t[n]="function"==typeof e[n]?e[n]():e[n]);return t}(a.headers);if(Request.prototype.isPrototypeOf(e))n=e,o=new Headers(n.headers).get("Content-Type");else{t||(t={});var d=(r=t.body)?{body:r}:null,c=Object.assign({},a,{headers:{}},t,d);o=new Headers(c.headers).get("Content-Type"),n=new Request(function getRequestUrl(e,t){if(p.test(t))return t;return(e||"")+t}(this.baseUrl,e),c)}return o||(new Headers(l).has("content-type")?n.headers.set("Content-Type",new Headers(l).get("content-type")):r&&function isJSON(e){try{JSON.parse(e)}catch(e){return!1}return!0}(r)&&n.headers.set("Content-Type","application/json")),function setDefaultHeaders(e,t){for(var n in t||{})t.hasOwnProperty(n)&&!e.has(n)&&e.set(n,t[n])}(n.headers,l),r&&Blob.prototype.isPrototypeOf(r)&&r.type&&n.headers.set("Content-Type",r.type),n},HttpClient.prototype.get=function(e,t){return this.fetch(e,t)},HttpClient.prototype.post=function(e,t,n){return callFetch(this,e,t,n,"POST")},HttpClient.prototype.put=function(e,t,n){return callFetch(this,e,t,n,"PUT")},HttpClient.prototype.patch=function(e,t,n){return callFetch(this,e,t,n,"PATCH")},HttpClient.prototype.delete=function(e,t,n){return callFetch(this,e,t,n,"DELETE")},HttpClient}(),p=/^([a-z][a-z0-9+\-.]*:)?\/\//i;function trackRequestEnd(e){if(e.isRequesting=!! --e.activeRequestCount,!e.isRequesting){var t=r.DOM.createCustomEvent("aurelia-fetch-client-requests-drained",{bubbles:!0,cancelable:!0});setTimeout((function(){return r.DOM.dispatchEvent(t)}),1)}}function applyInterceptors(e,t,n,r){for(var o=[],a=4;a<arguments.length;a++)o[a-4]=arguments[a];return(t||[]).reduce((function(e,t){var a=t[n],l=t[r];return e.then(a&&function(e){return a.call.apply(a,[t,e].concat(o))}||identity,l&&function(e){return l.call.apply(l,[t,e].concat(o))}||thrower)}),Promise.resolve(e))}function identity(e){return e}function thrower(e){throw e}function callFetch(e,t,n,r,o){return r||(r={}),r.method=o,n&&(r.body=n),e.fetch(t,r)}},"aurelia-framework":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessKeyed:()=>o.AccessKeyed,AccessMember:()=>o.AccessMember,AccessScope:()=>o.AccessScope,AccessThis:()=>o.AccessThis,AggregateError:()=>p.AggregateError,All:()=>r.All,Animator:()=>l.Animator,Assign:()=>o.Assign,Aurelia:()=>v,BehaviorInstruction:()=>l.BehaviorInstruction,BehaviorPropertyObserver:()=>l.BehaviorPropertyObserver,Binary:()=>o.Binary,BindableProperty:()=>l.BindableProperty,Binding:()=>o.Binding,BindingBehavior:()=>o.BindingBehavior,BindingBehaviorResource:()=>o.BindingBehaviorResource,BindingEngine:()=>o.BindingEngine,BindingExpression:()=>o.BindingExpression,BindingLanguage:()=>l.BindingLanguage,BoundViewFactory:()=>l.BoundViewFactory,Call:()=>o.Call,CallExpression:()=>o.CallExpression,CallFunction:()=>o.CallFunction,CallMember:()=>o.CallMember,CallScope:()=>o.CallScope,CheckedObserver:()=>o.CheckedObserver,ClassObserver:()=>o.ClassObserver,CollectionLengthObserver:()=>o.CollectionLengthObserver,CompositionEngine:()=>l.CompositionEngine,CompositionTransaction:()=>l.CompositionTransaction,CompositionTransactionNotifier:()=>l.CompositionTransactionNotifier,CompositionTransactionOwnershipToken:()=>l.CompositionTransactionOwnershipToken,ComputedExpression:()=>o.ComputedExpression,Conditional:()=>o.Conditional,Container:()=>r.Container,Controller:()=>l.Controller,ConventionalViewStrategy:()=>l.ConventionalViewStrategy,DOM:()=>p.DOM,DataAttributeObserver:()=>o.DataAttributeObserver,DirtyCheckProperty:()=>o.DirtyCheckProperty,DirtyChecker:()=>o.DirtyChecker,ElementConfigResource:()=>l.ElementConfigResource,ElementEvents:()=>l.ElementEvents,EventManager:()=>o.EventManager,EventSubscriber:()=>o.EventSubscriber,Expression:()=>o.Expression,ExpressionCloner:()=>o.ExpressionCloner,ExpressionObserver:()=>o.ExpressionObserver,FEATURE:()=>p.FEATURE,Factory:()=>r.Factory,FactoryInvoker:()=>r.FactoryInvoker,FrameworkConfiguration:()=>f,HtmlBehaviorResource:()=>l.HtmlBehaviorResource,InlineViewStrategy:()=>l.InlineViewStrategy,InvocationHandler:()=>r.InvocationHandler,Lazy:()=>r.Lazy,Listener:()=>o.Listener,ListenerExpression:()=>o.ListenerExpression,LiteralArray:()=>o.LiteralArray,LiteralObject:()=>o.LiteralObject,LiteralPrimitive:()=>o.LiteralPrimitive,LiteralString:()=>o.LiteralString,LiteralTemplate:()=>o.LiteralTemplate,Loader:()=>d.Loader,LogManager:()=>h,ModifyCollectionObserver:()=>o.ModifyCollectionObserver,ModuleAnalyzer:()=>l.ModuleAnalyzer,NameExpression:()=>o.NameExpression,NewInstance:()=>r.NewInstance,NoViewStrategy:()=>l.NoViewStrategy,ObjectObservationAdapter:()=>o.ObjectObservationAdapter,ObserverLocator:()=>o.ObserverLocator,Optional:()=>r.Optional,Origin:()=>a.Origin,PLATFORM:()=>p.PLATFORM,Parent:()=>r.Parent,Parser:()=>o.Parser,ParserImplementation:()=>o.ParserImplementation,PassThroughSlot:()=>l.PassThroughSlot,PrimitiveObserver:()=>o.PrimitiveObserver,RelativeViewStrategy:()=>l.RelativeViewStrategy,ResourceDescription:()=>l.ResourceDescription,ResourceLoadContext:()=>l.ResourceLoadContext,ResourceModule:()=>l.ResourceModule,SVGAnalyzer:()=>o.SVGAnalyzer,SelectValueObserver:()=>o.SelectValueObserver,SetterObserver:()=>o.SetterObserver,ShadowDOM:()=>l.ShadowDOM,ShadowSlot:()=>l.ShadowSlot,SingletonRegistration:()=>r.SingletonRegistration,SlotCustomAttribute:()=>l.SlotCustomAttribute,StaticViewStrategy:()=>l.StaticViewStrategy,Strategy:()=>r.Strategy,StrategyResolver:()=>r.StrategyResolver,StyleObserver:()=>o.StyleObserver,SwapStrategies:()=>l.SwapStrategies,TargetInstruction:()=>l.TargetInstruction,TaskQueue:()=>c.TaskQueue,TemplateDependency:()=>d.TemplateDependency,TemplateRegistryEntry:()=>d.TemplateRegistryEntry,TemplateRegistryViewStrategy:()=>l.TemplateRegistryViewStrategy,TemplatingEngine:()=>l.TemplatingEngine,TransientRegistration:()=>r.TransientRegistration,Unary:()=>o.Unary,Unparser:()=>o.Unparser,ValueAttributeObserver:()=>o.ValueAttributeObserver,ValueConverter:()=>o.ValueConverter,ValueConverterResource:()=>o.ValueConverterResource,View:()=>l.View,ViewCompileInstruction:()=>l.ViewCompileInstruction,ViewCompiler:()=>l.ViewCompiler,ViewEngine:()=>l.ViewEngine,ViewEngineHooksResource:()=>l.ViewEngineHooksResource,ViewFactory:()=>l.ViewFactory,ViewLocator:()=>l.ViewLocator,ViewResources:()=>l.ViewResources,ViewSlot:()=>l.ViewSlot,XLinkAttributeObserver:()=>o.XLinkAttributeObserver,_emptyParameters:()=>r._emptyParameters,_hyphenate:()=>l._hyphenate,_isAllWhitespace:()=>l._isAllWhitespace,all:()=>r.all,animationEvent:()=>l.animationEvent,autoinject:()=>r.autoinject,behavior:()=>l.behavior,bindable:()=>l.bindable,bindingBehavior:()=>o.bindingBehavior,bindingMode:()=>o.bindingMode,buildQueryString:()=>u.buildQueryString,calcSplices:()=>o.calcSplices,camelCase:()=>o.camelCase,child:()=>l.child,children:()=>l.children,cloneExpression:()=>o.cloneExpression,computedFrom:()=>o.computedFrom,connectBindingToSignal:()=>o.connectBindingToSignal,connectable:()=>o.connectable,containerless:()=>l.containerless,createComputedObserver:()=>o.createComputedObserver,createOverrideContext:()=>o.createOverrideContext,createScopeForTest:()=>o.createScopeForTest,customAttribute:()=>l.customAttribute,customElement:()=>l.customElement,dataAttributeAccessor:()=>o.dataAttributeAccessor,declarePropertyDependencies:()=>o.declarePropertyDependencies,decorators:()=>a.decorators,delegationStrategy:()=>o.delegationStrategy,deprecated:()=>a.deprecated,disableConnectQueue:()=>o.disableConnectQueue,dynamicOptions:()=>l.dynamicOptions,elementConfig:()=>l.elementConfig,elements:()=>o.elements,enableConnectQueue:()=>o.enableConnectQueue,enqueueBindingConnect:()=>o.enqueueBindingConnect,factory:()=>r.factory,getArrayObserver:()=>o.getArrayObserver,getChangeRecords:()=>o.getChangeRecords,getConnectQueueSize:()=>o.getConnectQueueSize,getContextFor:()=>o.getContextFor,getDecoratorDependencies:()=>r.getDecoratorDependencies,getMapObserver:()=>o.getMapObserver,getSetObserver:()=>o.getSetObserver,hasDeclaredDependencies:()=>o.hasDeclaredDependencies,initializePAL:()=>p.initializePAL,inject:()=>r.inject,inlineView:()=>l.inlineView,invokeAsFactory:()=>r.invokeAsFactory,invoker:()=>r.invoker,isInitialized:()=>p.isInitialized,join:()=>u.join,lazy:()=>r.lazy,mergeSplice:()=>o.mergeSplice,metadata:()=>a.metadata,mixin:()=>a.mixin,newInstance:()=>r.newInstance,noView:()=>l.noView,observable:()=>o.observable,optional:()=>r.optional,parent:()=>r.parent,parseQueryString:()=>u.parseQueryString,presentationAttributes:()=>o.presentationAttributes,presentationElements:()=>o.presentationElements,processAttributes:()=>l.processAttributes,processContent:()=>l.processContent,projectArraySplices:()=>o.projectArraySplices,propertyAccessor:()=>o.propertyAccessor,protocol:()=>a.protocol,registration:()=>r.registration,relativeToFile:()=>u.relativeToFile,reset:()=>p.reset,resolver:()=>r.resolver,resource:()=>l.resource,setConnectQueueThreshold:()=>o.setConnectQueueThreshold,signalBindings:()=>o.signalBindings,singleton:()=>r.singleton,sourceContext:()=>o.sourceContext,subscriberCollection:()=>o.subscriberCollection,targetContext:()=>o.targetContext,templateController:()=>l.templateController,transient:()=>r.transient,useShadowDOM:()=>l.useShadowDOM,useView:()=>l.useView,useViewStrategy:()=>l.useViewStrategy,validateBehaviorName:()=>l.validateBehaviorName,valueConverter:()=>o.valueConverter,view:()=>l.view,viewEngineHooks:()=>l.viewEngineHooks,viewResources:()=>l.viewResources,viewStrategy:()=>l.viewStrategy});var r=n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),o=n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),a=n("./node_modules/aurelia-metadata/dist/native-modules/aurelia-metadata.js"),l=n("./node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),d=n("./node_modules/aurelia-loader/dist/native-modules/aurelia-loader.js"),c=n("./node_modules/aurelia-task-queue/dist/native-modules/aurelia-task-queue.js"),u=n("./node_modules/aurelia-path/dist/native-modules/aurelia-path.js"),p=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),h=n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),g=h.getLogger("aurelia"),m=/\.[^/.]+$/;function runTasks(e,t){var n,next=function(){return(n=t.shift())?Promise.resolve(n(e)).then(next):Promise.resolve()};return next()}function loadResources(e,t,n){if(0===Object.keys(t).length)return Promise.resolve();var r=e.container.get(l.ViewEngine);return Promise.all(Object.keys(t).map((function(n){return function _normalize(t){var n=t.moduleId,r=getExt(n);isOtherResource(n)&&(n=removeExt(n));return e.loader.normalize(n,t.relativeTo).then((function(e){return{name:t.moduleId,importId:isOtherResource(t.moduleId)?addOriginalExt(e,r):e}}))}(t[n])}))).then((function(e){var t=[],o=[];return e.forEach((function(e){t.push(void 0),o.push(e.importId)})),r.importViewResources(o,t,n)}));function isOtherResource(e){var t=getExt(e);return!!t&&(""!==t&&(".js"!==t&&".ts"!==t))}function removeExt(e){return e.replace(m,"")}function addOriginalExt(e,t){return removeExt(e)+"."+t}}function getExt(e){var t=e.match(m);if(t&&t.length>0)return t[0].split(".")[1]}function assertProcessed(e){if(e.processed)throw new Error("This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.")}function invalidConfigMsg(e,t){return"Invalid ".concat(t," [").concat(e,"], ").concat(t," must be specified as functions or relative module IDs.")}var f=function(){function FrameworkConfiguration(e){var t=this;this.aurelia=e,this.container=e.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.behaviorsToLoad=[],this.configuredPlugins=[],this.resourcesToLoad={},this.preTask((function(){return e.loader.normalize("aurelia-bootstrapper",void 0).then((function(e){return t.bootstrapperName=e}))})),this.postTask((function(){return loadResources(e,t.resourcesToLoad,e.resources)}))}return FrameworkConfiguration.prototype.instance=function(e,t){return this.container.registerInstance(e,t),this},FrameworkConfiguration.prototype.singleton=function(e,t){return this.container.registerSingleton(e,t),this},FrameworkConfiguration.prototype.transient=function(e,t){return this.container.registerTransient(e,t),this},FrameworkConfiguration.prototype.preTask=function(e){return assertProcessed(this),this.preTasks.push(e),this},FrameworkConfiguration.prototype.postTask=function(e){return assertProcessed(this),this.postTasks.push(e),this},FrameworkConfiguration.prototype.feature=function(e,t){switch(void 0===t&&(t={}),typeof e){case"string":var n=/\/index$/i.test(e),r=n||getExt(e)?e:e+"/index",o=n?e.slice(0,-6):e;this.info.push({moduleId:r,resourcesRelativeTo:[o,""],config:t});break;case"function":this.info.push({configure:e,config:t||{}});break;default:throw new Error(invalidConfigMsg(e,"feature"))}return this},FrameworkConfiguration.prototype.globalResources=function(e){var t=this;assertProcessed(this);for(var n,r=Array.isArray(e)?e:arguments,o=this.resourcesRelativeTo||["",""],a=0,d=r.length;a<d;++a)switch(typeof(n=r[a])){case"string":var c=o[0],p=o[1],h=n;(n.startsWith("./")||n.startsWith("../"))&&""!==c&&(h=(0,u.join)(c,n)),this.resourcesToLoad[h]={moduleId:h,relativeTo:p};break;case"function":var g=this.aurelia.resources.autoRegister(this.container,n);g instanceof l.HtmlBehaviorResource&&null!==g.elementName&&1===this.behaviorsToLoad.push(g)&&this.postTask((function(){return e=t,Promise.all(e.behaviorsToLoad.map((function(t){return t.load(e.container,t.target)}))).then((function(){e.behaviorsToLoad=null}));var e}));break;default:throw new Error(invalidConfigMsg(n,"resource"))}return this},FrameworkConfiguration.prototype.globalName=function(e,t){return assertProcessed(this),this.resourcesToLoad[e]={moduleId:t,relativeTo:""},this},FrameworkConfiguration.prototype.plugin=function(e,t){var n;switch(assertProcessed(this),typeof e){case"string":n={moduleId:e,resourcesRelativeTo:[e,""],config:t||{}};break;case"function":n={configure:e,config:t||{}};break;default:throw new Error(invalidConfigMsg(e,"plugin"))}return this.info.push(n),this},FrameworkConfiguration.prototype._addNormalizedPlugin=function(e,t){var n=this,r={moduleId:e,resourcesRelativeTo:[e,""],config:t||{}};return this.info.push(r),this.preTask((function(){var t=[e,n.bootstrapperName];return r.moduleId=e,r.resourcesRelativeTo=t,Promise.resolve()})),this},FrameworkConfiguration.prototype.defaultBindingLanguage=function(){return this._addNormalizedPlugin("aurelia-templating-binding")},FrameworkConfiguration.prototype.router=function(){return this._addNormalizedPlugin("aurelia-templating-router")},FrameworkConfiguration.prototype.history=function(){return this._addNormalizedPlugin("aurelia-history-browser")},FrameworkConfiguration.prototype.defaultResources=function(){return this._addNormalizedPlugin("aurelia-templating-resources")},FrameworkConfiguration.prototype.eventAggregator=function(){return this._addNormalizedPlugin("aurelia-event-aggregator")},FrameworkConfiguration.prototype.basicConfiguration=function(){return this.defaultBindingLanguage().defaultResources().eventAggregator()},FrameworkConfiguration.prototype.standardConfiguration=function(){return this.basicConfiguration().history().router()},FrameworkConfiguration.prototype.developmentLogging=function(e){var t=this,n=e?h.logLevel[e]:void 0;return void 0===n&&(n=h.logLevel.debug),this.preTask((function(){return t.aurelia.loader.normalize("aurelia-logging-console",t.bootstrapperName).then((function(e){return t.aurelia.loader.loadModule(e).then((function(e){h.addAppender(new e.ConsoleAppender),h.setLevel(n)}))}))})),this},FrameworkConfiguration.prototype.apply=function(){var e=this;return this.processed?Promise.resolve():runTasks(this,this.preTasks).then((function(){var t,n=e.aurelia.loader,r=e.info,next=function(){return(t=r.shift())?function loadPlugin(e,t,n){if(g.debug("Loading plugin ".concat(n.moduleId,".")),"string"==typeof n.moduleId){e.resourcesRelativeTo=n.resourcesRelativeTo;var r=n.moduleId;return n.resourcesRelativeTo.length>1?t.normalize(n.moduleId,n.resourcesRelativeTo[1]).then((function(e){return _loadPlugin(e)})):_loadPlugin(r)}if("function"==typeof n.configure)return-1!==e.configuredPlugins.indexOf(n.configure)?Promise.resolve():(e.configuredPlugins.push(n.configure),Promise.resolve(n.configure.call(null,e,n.config||{})));throw new Error(invalidConfigMsg(n.moduleId||n.configure,"plugin"));function _loadPlugin(r){return t.loadModule(r).then((function(t){if("configure"in t)return-1!==e.configuredPlugins.indexOf(t.configure)?Promise.resolve():Promise.resolve(t.configure(e,n.config||{})).then((function(){e.configuredPlugins.push(t.configure),e.resourcesRelativeTo=null,g.debug("Configured plugin ".concat(n.moduleId,"."))}));e.resourcesRelativeTo=null,g.debug("Loaded plugin ".concat(n.moduleId,"."))}))}}(e,n,t).then(next):(e.processed=!0,e.configuredPlugins=null,Promise.resolve())};return next().then((function(){return runTasks(e,e.postTasks)}))}))},FrameworkConfiguration}();var v=function(){function Aurelia(e,t,n){this.loader=e||new p.PLATFORM.Loader,this.container=t||(new r.Container).makeGlobal(),this.resources=n||new l.ViewResources,this.use=new f(this),this.logger=h.getLogger("aurelia"),this.hostConfigured=!1,this.host=null,this.use.instance(Aurelia,this),this.use.instance(d.Loader,this.loader),this.use.instance(l.ViewResources,this.resources)}return Aurelia.prototype.start=function(){var e=this;return this._started?this._started:(this.logger.info("Aurelia Starting"),this._started=this.use.apply().then((function(){if(function preventActionlessFormSubmit(){p.DOM.addEventListener("submit",(function(e){var t=e.target,n=t.action;"form"!==t.tagName.toLowerCase()||n||e.preventDefault()}),!1)}(),!e.container.hasResolver(l.BindingLanguage)){var t="You must configure Aurelia with a BindingLanguage implementation.";throw e.logger.error(t),new Error(t)}e.logger.info("Aurelia Started");var n=p.DOM.createCustomEvent("aurelia-started",{bubbles:!0,cancelable:!0});return p.DOM.dispatchEvent(n),e})))},Aurelia.prototype.enhance=function(e,t){var n=this;return void 0===e&&(e={}),void 0===t&&(t=null),this._configureHost(t||p.DOM.querySelectorAll("body")[0]),new Promise((function(t){var r=n.container.get(l.TemplatingEngine);n.root=r.enhance({container:n.container,element:n.host,resources:n.resources,bindingContext:e}),n.root.attached(),n._onAureliaComposed(),t(n)}))},Aurelia.prototype.setRoot=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=null);var r={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(t);var o=this.container.get(l.TemplatingEngine);return delete this.container.get(l.CompositionTransaction).initialComposition,e||(e=this.configModuleId?(0,u.relativeToFile)("./app",this.configModuleId):"app"),r.viewModel=e,r.container=r.childContainer=this.container,r.viewSlot=this.hostSlot,r.host=this.host,o.compose(r).then((function(e){return n.root=e,r.viewSlot.attached(),n._onAureliaComposed(),n}))},Aurelia.prototype._configureHost=function(e){if(!this.hostConfigured){if(e=e||this.host,this.host=e&&"string"!=typeof e?e:p.DOM.getElementById(e||"applicationHost"),!this.host)throw new Error("No applicationHost was specified.");this.hostConfigured=!0,this.host.aurelia=this,this.hostSlot=new l.ViewSlot(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(p.DOM.boundary,this.host)}},Aurelia.prototype._onAureliaComposed=function(){var e=p.DOM.createCustomEvent("aurelia-composed",{bubbles:!0,cancelable:!0});setTimeout((function(){return p.DOM.dispatchEvent(e)}),1)},Aurelia}()},"aurelia-history-browser":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BrowserHistory:()=>d,DefaultLinkHandler:()=>l,LinkHandler:()=>a,configure:()=>configure});var r=n("./node_modules/aurelia-history/dist/native-modules/aurelia-history.js"),o=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},extendStatics(e,t)};function __extends(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var a=function(){function LinkHandler(){}return LinkHandler.prototype.activate=function(e){},LinkHandler.prototype.deactivate=function(){},LinkHandler}(),l=function(e){function DefaultLinkHandler(){var t=e.call(this)||this;return t.handler=function(e){var n=DefaultLinkHandler.getEventInfo(e),r=n.shouldHandleEvent,o=n.href;r&&(e.preventDefault(),t.history.navigate(o))},t}return __extends(DefaultLinkHandler,e),DefaultLinkHandler.prototype.activate=function(e){e._hasPushState&&(this.history=e,o.DOM.addEventListener("click",this.handler,!0))},DefaultLinkHandler.prototype.deactivate=function(){o.DOM.removeEventListener("click",this.handler,!0)},DefaultLinkHandler.getEventInfo=function(e){var t=e,n={shouldHandleEvent:!1,href:null,anchor:null},r=DefaultLinkHandler.findClosestAnchor(t.target);if(!r||!DefaultLinkHandler.targetIsThisWindow(r))return n;if(hasAttribute(r,"download")||hasAttribute(r,"router-ignore")||hasAttribute(r,"data-router-ignore"))return n;if(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return n;var o=r.getAttribute("href");n.anchor=r,n.href=o;var a=1===t.which,l=o&&!("#"===o.charAt(0)||/^[a-z]+:/i.test(o));return n.shouldHandleEvent=a&&l,n},DefaultLinkHandler.findClosestAnchor=function(e){for(;e;){if("A"===e.tagName)return e;e=e.parentNode}},DefaultLinkHandler.targetIsThisWindow=function(e){var t=e.getAttribute("target"),n=o.PLATFORM.global;return!t||t===n.name||"_self"===t},DefaultLinkHandler}(a),hasAttribute=function(e,t){return e.hasAttribute(t)},d=function(e){function BrowserHistory(t){var n=e.call(this)||this;return n._isActive=!1,n._checkUrlCallback=n._checkUrl.bind(n),n.location=o.PLATFORM.location,n.history=o.PLATFORM.history,n.linkHandler=t,n}return __extends(BrowserHistory,e),BrowserHistory.prototype.activate=function(e){if(this._isActive)throw new Error("History has already been activated.");var t=this.history,n=!!e.pushState;this._isActive=!0;var r,a=this.options=Object.assign({},{root:"/"},this.options,e),l=this.root=("/"+a.root+"/").replace(u,"/"),d=this._wantsHashChange=!1!==a.hashChange,p=this._hasPushState=!!(a.pushState&&t&&t.pushState);if(p?r="popstate":d&&(r="hashchange"),o.PLATFORM.addEventListener(r,this._checkUrlCallback),d&&n){var h=this.location,g=h.pathname.replace(/[^\/]$/,"$&/")===l;if(!p&&!g){var m=this.fragment=this._getFragment(null,!0);return h.replace(l+h.search+"#"+m),!0}if(p&&g&&h.hash){m=this.fragment=this._getHash().replace(c,"");t.replaceState({},o.DOM.title,l+m+h.search)}}if(this.fragment||(this.fragment=this._getFragment("")),this.linkHandler.activate(this),!a.silent)return this._loadUrl("")},BrowserHistory.prototype.deactivate=function(){var e=this._checkUrlCallback;o.PLATFORM.removeEventListener("popstate",e),o.PLATFORM.removeEventListener("hashchange",e),this._isActive=!1,this.linkHandler.deactivate()},BrowserHistory.prototype.getAbsoluteRoot=function(){var e=this.location;return""+function createOrigin(e,t,n){return e+"//"+t+(n?":"+n:"")}(e.protocol,e.hostname,e.port)+this.root},BrowserHistory.prototype.navigate=function(e,t){var n=void 0===t?{}:t,r=n.trigger,a=void 0===r||r,l=n.replace,d=void 0!==l&&l,c=this.location;if(e&&h.test(e))return c.href=e,!0;if(!this._isActive)return!1;if(e=this._getFragment(e||""),this.fragment===e&&!d)return!1;this.fragment=e;var u=this.root+e;return""===e&&"/"!==u&&(u=u.slice(0,-1)),this._hasPushState?(u=u.replace("//","/"),this.history[d?"replaceState":"pushState"]({},o.DOM.title,u)):this._wantsHashChange?function updateHash(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}(c,e,d):c.assign(u),!a||this._loadUrl(e)},BrowserHistory.prototype.navigateBack=function(){this.history.back()},BrowserHistory.prototype.setTitle=function(e){o.DOM.title=e},BrowserHistory.prototype.setState=function(e,t){var n=this.history,r=Object.assign({},n.state),o=this.location,a=o.pathname,l=o.search,d=o.hash;r[e]=t,n.replaceState(r,null,""+a+l+d)},BrowserHistory.prototype.getState=function(e){return Object.assign({},this.history.state)[e]},BrowserHistory.prototype.getHistoryIndex=function(){var e=this.getState("HistoryIndex");return void 0===e&&(e=this.history.length-1,this.setState("HistoryIndex",e)),e},BrowserHistory.prototype.go=function(e){this.history.go(e)},BrowserHistory.prototype._getHash=function(){return this.location.hash.substr(1)},BrowserHistory.prototype._getFragment=function(e,t){var n;if(!e)if(this._hasPushState||!this._wantsHashChange||t){var r=this.location;e=r.pathname+r.search,n=this.root.replace(p,""),e.indexOf(n)||(e=e.substr(n.length))}else e=this._getHash();return"/"+e.replace(c,"")},BrowserHistory.prototype._checkUrl=function(){this._getFragment("")!==this.fragment&&this._loadUrl("")},BrowserHistory.prototype._loadUrl=function(e){var t=this.fragment=this._getFragment(e);return!!this.options.routeHandler&&this.options.routeHandler(t)},BrowserHistory.inject=[a],BrowserHistory}(r.History),c=/^#?\/*|\s+$/g,u=/^\/+|\/+$/g,p=/\/$/,h=/^([a-z][a-z0-9+\-.]*:)?\/\//i;function configure(e){var t=e;t.singleton(r.History,d),t.transient(a,l)}},"./node_modules/aurelia-history/dist/native-modules/aurelia-history.js":(e,t,n)=>{"use strict";function mi(e){throw new Error("History must implement "+e+"().")}n.r(t),n.d(t,{History:()=>r});var r=function(){function History(){}return History.prototype.activate=function activate(e){mi("activate")},History.prototype.deactivate=function deactivate(){mi("deactivate")},History.prototype.getAbsoluteRoot=function getAbsoluteRoot(){mi("getAbsoluteRoot")},History.prototype.navigate=function navigate(e,t){mi("navigate")},History.prototype.navigateBack=function navigateBack(){mi("navigateBack")},History.prototype.setTitle=function setTitle(e){mi("setTitle")},History.prototype.setState=function setState(e,t){mi("setState")},History.prototype.getState=function getState(e){mi("getState")},History.prototype.getHistoryIndex=function getHistoryIndex(){mi("getHistoryIndex")},History.prototype.go=function go(e){mi("go")},History}()},"./node_modules/aurelia-loader-webpack/dist/native-modules/aurelia-loader-webpack.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{TextTemplateLoader:()=>l,WebpackLoader:()=>d,ensureOriginOnExports:()=>ensureOriginOnExports});var r=n("./node_modules/aurelia-loader/dist/native-modules/aurelia-loader.js"),o=n("./node_modules/aurelia-metadata/dist/native-modules/aurelia-metadata.js"),a=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js");e=n.hmd(e);var extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},extendStatics(e,t)};function __awaiter(e,t,n,r){return new(n||(n=Promise))((function(o,a){function fulfilled(e){try{step(r.next(e))}catch(e){a(e)}}function rejected(e){try{step(r.throw(e))}catch(e){a(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))}function __generator(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function verb(a){return function(d){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,d])}}}var l=function(){function TextTemplateLoader(){}return TextTemplateLoader.prototype.loadTemplate=function(e,t){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:return[4,e.loadText(t.address)];case 1:return n=r.sent(),t.template=a.DOM.createTemplateFromMarkup(n),[2]}}))}))},TextTemplateLoader}();function ensureOriginOnExports(e,t){var n,r,a=e;if(a.__useDefault&&(a=a.default),o.Origin.set(a,new o.Origin(t,"default")),"object"==typeof a)for(n in a)"function"==typeof(r=a[n])&&o.Origin.set(r,new o.Origin(t,n));return e}var d=function(t){function WebpackLoader(){var e=t.call(this)||this;return e.moduleRegistry=Object.create(null),e.loaderPlugins=Object.create(null),e.modulesBeingLoaded=new Map,e.useTemplateLoader(new l),e.addPlugin("template-registry-entry",{fetch:function(t){return __awaiter(e,void 0,void 0,(function(){var e;return __generator(this,(function(n){switch(n.label){case 0:return(e=this.getOrCreateTemplateRegistryEntry(t)).templateIsLoaded?[3,2]:[4,this.templateLoader.loadTemplate(this,e)];case 1:n.sent(),n.label=2;case 2:return[2,e]}}))}))}}),a.PLATFORM.eachModule=function(e){var t=n.c;Object.getOwnPropertyNames(t).some((function(n){var r=t[n].exports;return"object"==typeof r&&e(n,r)}))},e}return function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}(WebpackLoader,t),WebpackLoader.prototype._import=function(t,r){return void 0===r&&(r=!0),__awaiter(this,void 0,void 0,(function(){var o,a,l,d,c,u;return __generator(this,(function(p){switch(p.label){case 0:if(o=t.split("!"),a=o.splice(o.length-1,1)[0],!(l=1===o.length?o[0]:null))return[3,2];if(!(d=this.loaderPlugins[l]))throw new Error("Plugin "+l+" is not registered in the loader.");return[4,d.fetch(a)];case 1:case 3:return[2,p.sent()];case 2:return n.m[a]?(r&&e.hot,[2,n(a)]):(c="async!"+a,n.m[c]?(r&&e.hot,u=n(c),[4,new Promise(u)]):[3,4]);case 4:throw new Error("Unable to find module with ID: "+a)}}))}))},WebpackLoader.prototype.map=function(e,t){},WebpackLoader.prototype.normalizeSync=function(e,t){return e},WebpackLoader.prototype.normalize=function(e,t){return Promise.resolve(e)},WebpackLoader.prototype.useTemplateLoader=function(e){this.templateLoader=e},WebpackLoader.prototype.loadAllModules=function(e){var t=this;return Promise.all(e.map((function(e){return t.loadModule(e)})))},WebpackLoader.prototype.loadModule=function(e,t){return void 0===t&&(t=!0),__awaiter(this,void 0,void 0,(function(){var n,r,o;return __generator(this,(function(a){switch(a.label){case 0:return(n=this.moduleRegistry[e])?[2,n]:(r=this.modulesBeingLoaded.get(e))?[2,r]:(r=this._import(e,t),this.modulesBeingLoaded.set(e,r),[4,r]);case 1:return o=a.sent(),this.moduleRegistry[e]=ensureOriginOnExports(o,e),this.modulesBeingLoaded.delete(e),[2,o]}}))}))},WebpackLoader.prototype.loadTemplate=function(e){return this.loadModule(this.applyPluginToUrl(e,"template-registry-entry"),!1)},WebpackLoader.prototype.loadText=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n;return __generator(this,(function(r){switch(r.label){case 0:return[4,this.loadModule(e,!1)];case 1:return t=r.sent(),(n=t&&t.__esModule?t.default:t)instanceof Array&&n[0]instanceof Array&&n.hasOwnProperty("toString")?[2,n.toString()]:[2,"string"==typeof t?t:n]}}))}))},WebpackLoader.prototype.applyPluginToUrl=function(e,t){return t+"!"+e},WebpackLoader.prototype.addPlugin=function(e,t){this.loaderPlugins[e]=t},WebpackLoader}(r.Loader);a.PLATFORM.Loader=d},"./node_modules/aurelia-loader/dist/native-modules/aurelia-loader.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Loader:()=>c,TemplateDependency:()=>l,TemplateRegistryEntry:()=>d});var r=n("./node_modules/aurelia-path/dist/native-modules/aurelia-path.js"),o=n("./node_modules/aurelia-metadata/dist/native-modules/aurelia-metadata.js"),a=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),l=function TemplateDependency(e,t){this.src=e,this.name=t},d=function(){function TemplateRegistryEntry(e){this.templateIsLoaded=!1,this.factoryIsReady=!1,this.resources=null,this.dependencies=null,this.address=e,this.onReady=null,this._template=null,this._factory=null}return TemplateRegistryEntry.prototype.addDependency=function addDependency(e,t){var n="string"==typeof e?(0,r.relativeToFile)(e,this.address):o.Origin.get(e).moduleId;this.dependencies.push(new l(n,t))},a(TemplateRegistryEntry,[{key:"template",get:function get(){return this._template},set:function set(e){var t,n=this.address,o=void 0,a=void 0,d=void 0;this._template=e,this.templateIsLoaded=!0,t=e.content.querySelectorAll("require"),d=this.dependencies=new Array(t.length);for(var c=0,u=t.length;c<u;++c){if(!(a=(o=t[c]).getAttribute("from")))throw new Error("<require> element in "+n+' has no "from" attribute.');d[c]=new l((0,r.relativeToFile)(a,n),o.getAttribute("as")),o.parentNode&&o.parentNode.removeChild(o)}}},{key:"factory",get:function get(){return this._factory},set:function set(e){this._factory=e,this.factoryIsReady=!0}}]),TemplateRegistryEntry}(),c=function(){function Loader(){this.templateRegistry={}}return Loader.prototype.map=function map(e,t){throw new Error("Loaders must implement map(id, source).")},Loader.prototype.normalizeSync=function normalizeSync(e,t){throw new Error("Loaders must implement normalizeSync(moduleId, relativeTo).")},Loader.prototype.normalize=function normalize(e,t){throw new Error("Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.")},Loader.prototype.loadModule=function loadModule(e){throw new Error("Loaders must implement loadModule(id).")},Loader.prototype.loadAllModules=function loadAllModules(e){throw new Error("Loader must implement loadAllModules(ids).")},Loader.prototype.loadTemplate=function loadTemplate(e){throw new Error("Loader must implement loadTemplate(url).")},Loader.prototype.loadText=function loadText(e){throw new Error("Loader must implement loadText(url).")},Loader.prototype.applyPluginToUrl=function applyPluginToUrl(e,t){throw new Error("Loader must implement applyPluginToUrl(url, pluginName).")},Loader.prototype.addPlugin=function addPlugin(e,t){throw new Error("Loader must implement addPlugin(pluginName, implementation).")},Loader.prototype.getOrCreateTemplateRegistryEntry=function getOrCreateTemplateRegistryEntry(e){return this.templateRegistry[e]||(this.templateRegistry[e]=new d(e))},Loader}()},"aurelia-logging-console":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConsoleAppender:()=>r});var r=function(){function ConsoleAppender(){}return ConsoleAppender.prototype.debug=function debug(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).debug.apply(t,["DEBUG ["+e.id+"]"].concat(r))},ConsoleAppender.prototype.info=function info(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).info.apply(t,["INFO ["+e.id+"]"].concat(r))},ConsoleAppender.prototype.warn=function warn(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).warn.apply(t,["WARN ["+e.id+"]"].concat(r))},ConsoleAppender.prototype.error=function error(e){for(var t,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).error.apply(t,["ERROR ["+e.id+"]"].concat(r))},ConsoleAppender}()},"./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Logger:()=>c,addAppender:()=>addAppender,addCustomLevel:()=>addCustomLevel,clearAppenders:()=>clearAppenders,getAppenders:()=>getAppenders,getLevel:()=>getLevel,getLogger:()=>getLogger,logLevel:()=>r,removeAppender:()=>removeAppender,removeCustomLevel:()=>removeCustomLevel,setLevel:()=>setLevel});var r={none:0,error:10,warn:20,info:30,debug:40},o={},a=[],l=r.none,d=["none","error","warn","info","debug"];function isStandardLevel(e){return d.filter((function(t){return t===e})).length>0}function appendArgs(){return[this].concat(Array.prototype.slice.call(arguments))}function logFactory(e){var t=r[e];return function(){if(!(this.level<t))for(var n=appendArgs.apply(this,arguments),r=a.length;r--;){var o;(o=a[r])[e].apply(o,n)}}}function logFactoryCustom(e){var t=r[e];return function(){if(!(this.level<t))for(var n=appendArgs.apply(this,arguments),r=a.length;r--;){var o=a[r];void 0!==o[e]&&o[e].apply(o,n)}}}function connectLoggers(){var e=c.prototype;for(var t in r)isStandardLevel(t)?"none"!==t&&(e[t]=logFactory(t)):e[t]=logFactoryCustom(t)}function getLogger(e){return o[e]||new c(e)}function addAppender(e){1===a.push(e)&&connectLoggers()}function removeAppender(e){a=a.filter((function(t){return t!==e}))}function getAppenders(){return[].concat(a)}function clearAppenders(){a=[],function disconnectLoggers(){var e=c.prototype;for(var t in r)"none"!==t&&(e[t]=function(){})}()}function addCustomLevel(e,t){if(void 0!==r[e])throw Error('Log level "'+e+'" already exists.');if(isNaN(t))throw Error("Value must be a number.");r[e]=t,a.length>0?connectLoggers():c.prototype[e]=function(){}}function removeCustomLevel(e){if(void 0!==r[e]){if(isStandardLevel(e))throw Error('Built-in log level "'+e+'" cannot be removed.');delete r[e],delete c.prototype[e]}}function setLevel(e){for(var t in l=e,o)o[t].setLevel(e)}function getLevel(){return l}var c=function(){function Logger(e){var t=o[e];if(t)return t;o[e]=this,this.id=e,this.level=l}return Logger.prototype.debug=function debug(e){},Logger.prototype.info=function info(e){},Logger.prototype.warn=function warn(e){},Logger.prototype.error=function error(e){},Logger.prototype.setLevel=function setLevel(e){this.level=e},Logger.prototype.isDebugEnabled=function isDebugEnabled(){return this.level===r.debug},Logger}()},"./node_modules/aurelia-metadata/dist/native-modules/aurelia-metadata.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Origin:()=>u,decorators:()=>decorators,deprecated:()=>deprecated,metadata:()=>l,mixin:()=>mixin,protocol:()=>protocol});var r=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function isObject(e){return e&&("function"==typeof e||"object"===(void 0===e?"undefined":a(e)))}var l={resource:"aurelia:resource",paramTypes:"design:paramtypes",propertyType:"design:type",properties:"design:properties",get:function get(e,t,n){if(isObject(t)){var r=l.getOwn(e,t,n);return void 0===r?l.get(e,Object.getPrototypeOf(t),n):r}},getOwn:function getOwn(e,t,n){if(isObject(t))return Reflect.getOwnMetadata(e,t,n)},define:function define(e,t,n,r){Reflect.defineMetadata(e,t,n,r)},getOrCreateOwn:function getOrCreateOwn(e,t,n,r){var o=l.getOwn(e,n,r);return void 0===o&&(o=new t,Reflect.defineMetadata(e,o,n,r)),o}},d=new Map,c=Object.freeze({moduleId:void 0,moduleMember:void 0}),u=function(){function Origin(e,t){this.moduleId=e,this.moduleMember=t}return Origin.get=function get(e){var t=d.get(e);return void 0===t&&r.PLATFORM.eachModule((function(n,r){if("object"===(void 0===r?"undefined":a(r)))for(var o in r)try{if(r[o]===e)return d.set(e,t=new Origin(n,o)),!0}catch(e){}return r===e&&(d.set(e,t=new Origin(n,"default")),!0)})),t||c},Origin.set=function set(e,t){d.set(e,t)},Origin}();function decorators(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function applicator(e,n,r){var o=t.length;if(n){for(r=r||{value:e[n],writable:!0,configurable:!0,enumerable:!0};o--;)r=t[o](e,n,r)||r;Object.defineProperty(e,n,r)}else for(;o--;)e=t[o](e)||e;return e};return r.on=r,r}function deprecated(e,t,n){function decorator(n,r,a){var l=n.constructor.name+"#"+r,d=t?{}:e||{},c="DEPRECATION - "+l;if("function"!=typeof a.value)throw new SyntaxError("Only methods can be marked as deprecated.");return d.message&&(c+=" - "+d.message),o({},a,{value:function deprecationWrapper(){if(d.error)throw new Error(c);return console.warn(c),a.value.apply(this,arguments)}})}return t?decorator(e,t,n):decorator}function mixin(e){var t=Object.keys(e);return function _mixin(n){var r=function decorator(n){for(var r="function"==typeof n?n.prototype:n,o=t.length;o--;){var a=t[o];Object.defineProperty(r,a,{value:e[a],writable:!0})}};return n?r(n):r}}function alwaysValid(){return!0}function noCompose(){}function ensureProtocolOptions(e){return void 0===e?e={}:"function"==typeof e&&(e={validate:e}),e.validate||(e.validate=alwaysValid),e.compose||(e.compose=noCompose),e}function createProtocolValidator(e){return function(t){return!0===e(t)}}function createProtocolAsserter(e,t){return function(n){var r=t(n);if(!0!==r)throw new Error(r||e+" was not correctly implemented.")}}function protocol(e,t){t=ensureProtocolOptions(t);var n=function result(n){var r="function"==typeof n?n.prototype:n;t.compose(r),result.assert(r),Object.defineProperty(r,"protocol:"+e,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return n.validate=createProtocolValidator(t.validate),n.assert=createProtocolAsserter(e,t.validate),n}protocol.create=function(e,t){t=ensureProtocolOptions(t);var n="protocol:"+e,r=function result(n){var r=protocol(e,t);return n?r(n):r};return r.decorates=function(e){return!0===e[n]},r.validate=createProtocolValidator(t.validate),r.assert=createProtocolAsserter(e,t.validate),r}},"aurelia-pal-browser":(e,t,n)=>{"use strict";n.r(t),n.d(t,{_DOM:()=>F,_FEATURE:()=>I,_PLATFORM:()=>a,initialize:()=>initialize});var r=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a={location:window.location,history:window.history,addEventListener:function addEventListener(e,t,n){this.global.addEventListener(e,t,n)},removeEventListener:function removeEventListener(e,t,n){this.global.removeEventListener(e,t,n)},performance:window.performance,requestAnimationFrame:function requestAnimationFrame(e){return this.global.requestAnimationFrame(e)}};if("undefined"==typeof FEATURE_NO_IE){void 0===function test(){}.name&&Object.defineProperty(Function.prototype,"name",{get:function get(){var e=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:e}),e}})}if("undefined"==typeof FEATURE_NO_IE)if(!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){var l="prototype",d=String.prototype.trim,c=Array.prototype.indexOf,u=[],p=function DOMEx(e,t){this.name=e,this.code=DOMException[e],this.message=t},h=function checkTokenAndGetIndex(e,t){if(""===t)throw new p("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new p("INVALID_CHARACTER_ERR","String contains an invalid character");return c.call(e,t)},g=function ClassList(e){for(var t=d.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):u,r=0,o=n.length;r<o;++r)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},m=g[l]=[];p[l]=Error[l],m.item=function(e){return this[e]||null},m.contains=function(e){return-1!==h(this,e+="")},m.add=function(){var e=arguments,t=0,n=e.length,r=void 0,o=!1;do{-1===h(this,r=e[t]+"")&&(this.push(r),o=!0)}while(++t<n);o&&this._updateClassName()},m.remove=function(){var e=arguments,t=0,n=e.length,r=void 0,o=!1,a=void 0;do{for(a=h(this,r=e[t]+"");-1!==a;)this.splice(a,1),o=!0,a=h(this,r)}while(++t<n);o&&this._updateClassName()},m.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},m.toString=function(){return this.join(" ")},Object.defineProperty(Element.prototype,"classList",{get:function get(){return new g(this)},enumerable:!0,configurable:!0})}else{var f=document.createElement("_");if(f.classList.add("c1","c2"),!f.classList.contains("c2")){var v=function createMethod(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){for(var n=0,r=arguments.length;n<r;++n)e=arguments[n],t.call(this,e)}};v("add"),v("remove")}if(f.classList.toggle("c3",!1),f.classList.contains("c3")){var b=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:b.call(this,e)}}f=null}if("undefined"==typeof FEATURE_NO_IE){var y=function _filterEntries(e,t){for(var n=0,r=C.length,o=[];n<r;n++)C[n][e]==t&&o.push(C[n]);return o},_=function _clearEntries(e,t){for(var n,r=C.length;r--;)(n=C[r]).entryType!=e||void 0!==t&&n.name!=t||C.splice(r,1)};if("performance"in window==!1&&(window.performance={}),"now"in window.performance==!1){var x=Date.now();performance.timing&&performance.timing.navigationStart&&(x=performance.timing.navigationStart),window.performance.now=function now(){return Date.now()-x}}Date.now?Date.now():new Date;var C=[],S={};window.performance.mark||(window.performance.mark=window.performance.webkitMark||function(e){var t={name:e,entryType:"mark",startTime:window.performance.now(),duration:0};C.push(t),S[e]=t}),window.performance.measure||(window.performance.measure=window.performance.webkitMeasure||function(e,t,n){t=S[t].startTime,n=S[n].startTime,C.push({name:e,entryType:"measure",startTime:t,duration:n-t})}),window.performance.getEntriesByType||(window.performance.getEntriesByType=window.performance.webkitGetEntriesByType||function(e){return y("entryType",e)}),window.performance.getEntriesByName||(window.performance.getEntriesByName=window.performance.webkitGetEntriesByName||function(e){return y("name",e)}),window.performance.clearMarks||(window.performance.clearMarks=window.performance.webkitClearMarks||function(e){_("mark",e)}),window.performance.clearMeasures||(window.performance.clearMeasures=window.performance.webkitClearMeasures||function(e){_("measure",e)}),a.performance=window.performance}if("undefined"==typeof FEATURE_NO_IE){var E=window.console=window.console||{},k=function nop(){};E.memory||(E.memory={}),"assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",").forEach((function(e){E[e]||(E[e]=k)})),"object"===o(E.log)&&"log,info,warn,error,assert,dir,clear,profile,profileEnd".split(",").forEach((function(e){console[e]=this.bind(console[e],console)}),Function.prototype.call)}if("undefined"==typeof FEATURE_NO_IE&&(!window.CustomEvent||"function"!=typeof window.CustomEvent)){var T=function _CustomEvent(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};T.prototype=window.Event.prototype,window.CustomEvent=T}if(Element&&!Element.prototype.matches){var M=Element.prototype;M.matches=M.matchesSelector||M.mozMatchesSelector||M.msMatchesSelector||M.oMatchesSelector||M.webkitMatchesSelector}var q,I={shadowDOM:!!HTMLElement.prototype.attachShadow,scopedCSS:"scoped"in document.createElement("style"),htmlTemplateElement:(q=document.createElement("div"),q.innerHTML="<template></template>","content"in q.children[0]),mutationObserver:!(!window.MutationObserver&&!window.WebKitMutationObserver),ensureHTMLTemplateElement:function ensureHTMLTemplateElement(e){return e}};if("undefined"==typeof FEATURE_NO_IE){var A=function isSVGTemplate(e){return"template"===e.tagName&&"http://www.w3.org/2000/svg"===e.namespaceURI},O=function fixSVGTemplateElement(e){var t=e.ownerDocument.createElement("template"),n=e.attributes,r=n.length,o=void 0;for(e.parentNode.insertBefore(t,e);r-- >0;)o=n[r],t.setAttribute(o.name,o.value),e.removeAttribute(o.name);return e.parentNode.removeChild(e),P(t)},P=function fixHTMLTemplateElement(e){for(var t=e.content=document.createDocumentFragment(),n=void 0;n=e.firstChild;)t.appendChild(n);return e};I.htmlTemplateElement||(I.ensureHTMLTemplateElement=function fixHTMLTemplateElementRoot(e){for(var t=P(e).content.querySelectorAll("template"),n=0,r=t.length;n<r;++n){var o=t[n];A(o)?O(o):P(o)}return e})}var D=window.ShadowDOMPolyfill||null,F={Element,NodeList,SVGElement,boundary:"aurelia-dom-boundary",addEventListener:function addEventListener(e,t,n){document.addEventListener(e,t,n)},removeEventListener:function removeEventListener(e,t,n){document.removeEventListener(e,t,n)},adoptNode:function adoptNode(e){return document.adoptNode(e)},createAttribute:function createAttribute(e){return document.createAttribute(e)},createElement:function createElement(e){return document.createElement(e)},createTextNode:function createTextNode(e){return document.createTextNode(e)},createComment:function createComment(e){return document.createComment(e)},createDocumentFragment:function createDocumentFragment(){return document.createDocumentFragment()},createTemplateElement:function createTemplateElement(){var e=document.createElement("template");return I.ensureHTMLTemplateElement(e)},createMutationObserver:function createMutationObserver(e){return new(window.MutationObserver||window.WebKitMutationObserver)(e)},createCustomEvent:function createCustomEvent(e,t){return new window.CustomEvent(e,t)},dispatchEvent:function dispatchEvent(e){document.dispatchEvent(e)},getComputedStyle:function getComputedStyle(e){return window.getComputedStyle(e)},getElementById:function getElementById(e){return document.getElementById(e)},querySelector:function querySelector(e){return document.querySelector(e)},querySelectorAll:function querySelectorAll(e){return document.querySelectorAll(e)},nextElementSibling:function nextElementSibling(e){if(e.nextElementSibling)return e.nextElementSibling;do{e=e.nextSibling}while(e&&1!==e.nodeType);return e},createTemplateFromMarkup:function createTemplateFromMarkup(e){var t=document.createElement("div");t.innerHTML=e;var n=t.firstElementChild;if(!n||"TEMPLATE"!==n.nodeName)throw new Error("Template markup must be wrapped in a <template> element e.g. <template> \x3c!-- markup here --\x3e </template>");return I.ensureHTMLTemplateElement(n)},appendNode:function appendNode(e,t){(t||document.body).appendChild(e)},replaceNode:function replaceNode(e,t,n){t.parentNode?t.parentNode.replaceChild(e,t):null!==D?D.unwrap(n).replaceChild(D.unwrap(e),D.unwrap(t)):n.replaceChild(e,t)},removeNode:function removeNode(e,t){e.parentNode?e.parentNode.removeChild(e):t&&(null!==D?D.unwrap(t).removeChild(D.unwrap(e)):t.removeChild(e))},injectStyles:function injectStyles(e,t,n,r){if(r){var o=document.getElementById(r);if(o){if("style"===o.tagName.toLowerCase())return void(o.innerHTML=e);throw new Error("The provided id does not indicate a style tag.")}}var a=document.createElement("style");return a.innerHTML=e,a.type="text/css",r&&(a.id=r),t=t||document.head,n&&t.childNodes.length>0?t.insertBefore(a,t.childNodes[0]):t.appendChild(a),a}};function initialize(){r.isInitialized||(0,r.initializePAL)((function(e,t,n){Object.assign(e,a),Object.assign(t,I),Object.assign(n,F),Object.defineProperty(n,"title",{get:function get(){return document.title},set:function set(e){document.title=e}}),Object.defineProperty(n,"activeElement",{get:function get(){return document.activeElement}}),Object.defineProperty(e,"XMLHttpRequest",{get:function get(){return e.global.XMLHttpRequest}})}))}},"./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js":(e,t,n)=>{"use strict";function AggregateError(e,t,n){if(t){if(t.innerError&&n)return t;var r="\n------------------------------------------------\n";e+=r+"Inner Error:\n","string"==typeof t?e+="Message: "+t:(t.message?e+="Message: "+t.message:e+="Unknown Inner Error Type. Displaying Inner Error as JSON:\n "+JSON.stringify(t,null,"  "),t.stack&&(e+="\nInner Error Stack:\n"+t.stack,e+="\nEnd Inner Error Stack")),e+=r}var o=new Error(e);return t&&(o.innerError=t),o}n.r(t),n.d(t,{AggregateError:()=>AggregateError,DOM:()=>a,FEATURE:()=>r,PLATFORM:()=>o,initializePAL:()=>initializePAL,isInitialized:()=>l,reset:()=>reset});var r={},o={noop:function noop(){},eachModule:function eachModule(){},moduleName:function(e){function moduleName(t){return e.apply(this,arguments)}return moduleName.toString=function(){return e.toString()},moduleName}((function(e){return e}))};o.global="undefined"!=typeof self?self:void 0!==n.g?n.g:new Function("return this")();var a={},l=!1;function initializePAL(e){l||(l=!0,"function"!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(e,t){for(var n=Object.getOwnPropertyDescriptor(e,t),r=Object.getPrototypeOf(e);void 0===n&&null!==r;)n=Object.getOwnPropertyDescriptor(r,t),r=Object.getPrototypeOf(r);return n}),e(o,r,a))}function reset(){l=!1}},"./node_modules/aurelia-path/dist/native-modules/aurelia-path.js":(e,t,n)=>{"use strict";function relativeToFile(e,t){var n=t&&t.split("/"),r=e.trim().split("/");if("."===r[0].charAt(0)&&n){var o=n.slice(0,n.length-1);r.unshift.apply(r,o)}return function trimDots(e){for(var t=0;t<e.length;++t){var n=e[t];if("."===n)e.splice(t,1),t-=1;else if(".."===n){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}}(r),r.join("/")}function join(e,t){if(!e)return t;if(!t)return e;var n,r=e.match(/^([^/]*?:)\//),o=r&&r.length>0?r[1]:"";n=0===(e=e.substr(o.length)).indexOf("///")&&"file:"===o?"///":0===e.indexOf("//")?"//":0===e.indexOf("/")?"/":"";for(var a="/"===t.slice(-1)?"/":"",l=e.split("/"),d=t.split("/"),c=[],u=0,p=l.length;u<p;++u)if(".."===l[u])c.length&&".."!==c[c.length-1]?c.pop():c.push(l[u]);else{if("."===l[u]||""===l[u])continue;c.push(l[u])}for(u=0,p=d.length;u<p;++u)if(".."===d[u])c.length&&".."!==c[c.length-1]?c.pop():c.push(d[u]);else{if("."===d[u]||""===d[u])continue;c.push(d[u])}return o+n+c.join("/")+a}n.r(t),n.d(t,{buildQueryString:()=>buildQueryString,join:()=>join,parseQueryString:()=>parseQueryString,relativeToFile:()=>relativeToFile});var r=encodeURIComponent,encodeKey=function(e){return r(e).replace("%24","$")};function buildParam(e,t,n){var o=[];if(null==t)return o;if(Array.isArray(t))for(var a=0,l=t.length;a<l;a++)if(n)o.push(encodeKey(e)+"="+r(t[a]));else{var d=e+"["+("object"==typeof t[a]&&null!==t[a]?a:"")+"]";o=o.concat(buildParam(d,t[a]))}else if("object"!=typeof t||n)o.push(encodeKey(e)+"="+r(t));else for(var c in t)o=o.concat(buildParam(e+"["+c+"]",t[c]));return o}function buildQueryString(e,t){for(var n=[],r=Object.keys(e||{}).sort(),o=0,a=r.length;o<a;o++){var l=r[o];n=n.concat(buildParam(l,e[l],t))}return 0===n.length?"":n.join("&")}function processScalarParam(e,t){return Array.isArray(e)?(e.push(t),e):void 0!==e?[e,t]:t}function parseComplexParam(e,t,n){for(var r=e,o=t.length-1,a=0;a<=o;a++){var l=""===t[a]?r.length:t[a];if(preventPollution(l),a<o){var d=r[l]&&"object"!=typeof r[l]?[r[l]]:r[l];r=r[l]=d||(isNaN(t[a+1])?{}:[])}else r=r[l]=n}}function parseQueryString(e){var t={};if(!e||"string"!=typeof e)return t;var n=e;"?"===n.charAt(0)&&(n=n.substr(1));for(var r=n.replace(/\+/g," ").split("&"),o=0;o<r.length;o++){var a=r[o].split("="),l=decodeURIComponent(a[0]);if(l){var d=l.split("]["),c=d.length-1;if(/\[/.test(d[0])&&/\]$/.test(d[c])?(d[c]=d[c].replace(/\]$/,""),c=(d=d.shift().split("[").concat(d)).length-1):c=0,a.length>=2){var u=a[1]?decodeURIComponent(a[1]):"";c?parseComplexParam(t,d,u):(preventPollution(l),t[l]=processScalarParam(t[l],u))}else t[l]=!0}}return t}function preventPollution(e){if("__proto__"===e)throw new Error("Prototype pollution detected.")}},"./node_modules/aurelia-polyfills/dist/native-modules/aurelia-polyfills.js":(e,t,n)=>{"use strict";n.r(t);var r,o,a,l,d,c,u,p,h=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("undefined"==typeof FEATURE_NO_ES2015&&(function(e,t){if(!(t in e)){var n,r=h.PLATFORM.global,o=0,a=""+Math.random(),l="__symbol:",d="__symbol@@"+a,c="defineProperty",u="defineProperties",p="getOwnPropertyNames",m="getOwnPropertyDescriptor",f="propertyIsEnumerable",v=e[p],b=e[m],y=e.create,_=e.keys,x=e[c],C=e[u],S=b(e,p),E=e.prototype,k=E.hasOwnProperty,T=E[f],M=E.toString,q=(Array.prototype.indexOf,function addInternalIfNeeded(e,t,n){k.call(e,d)||x(e,d,{enumerable:!1,configurable:!1,writable:!1,value:{}}),e[d]["@@"+t]=n}),I=function get(){},A=function onlyNonSymbols(e){return e!=d&&!k.call(j,e)},O=function onlySymbols(e){return e!=d&&k.call(j,e)},P=function propertyIsEnumerable(e){var t=""+e;return O(t)?k.call(this,t)&&this[d]&&this[d]["@@"+t]:T.call(this,e)},D=function setAndGetSymbol(t){return x(E,t,{enumerable:!1,configurable:!0,get:I,set:function set(e){n(this,t,{enumerable:!1,configurable:!0,writable:!0,value:e}),q(this,t,!0)}}),j[t]=x(e(t),"constructor",R)},F=function _Symbol2(e){if(this&&this!==r)throw new TypeError("Symbol is not a constructor");return D(l.concat(e||"",a,++o))},j=y(null),R={value:F},N=function sourceMap(e){return j[e]},L=function defineProp(e,t,r){var o=""+t;return O(o)?(n(e,o,r.enumerable?function copyAsNonEnumerable(e){var t=y(e);return t.enumerable=!1,t}(r):r),q(e,o,!!r.enumerable)):x(e,t,r),e},V=function getOwnPropertySymbols(t){return t="[object String]"===M.call(t)?t.split(""):e(t),v(t).filter(O).map(N)};S.value=L,x(e,c,S),S.value=V,x(e,t,S);var B="object"===("undefined"==typeof window?"undefined":g(window))?e.getOwnPropertyNames(window):[],$=e.getOwnPropertyNames;S.value=function getOwnPropertyNames(e){if("[object Window]"===M.call(e))try{return $(e)}catch(e){return[].concat([],B)}return v(e).filter(A)},x(e,p,S),S.value=function defineProperties(e,t){var n=V(t);return n.length?_(t).concat(n).forEach((function(n){P.call(t,n)&&L(e,n,t[n])})):C(e,t),e},x(e,u,S),S.value=P,x(E,f,S),S.value=F,x(r,"Symbol",S),S.value=function(e){var t=l.concat(l,e,a);return t in E?j[t]:D(t)},x(F,"for",S),S.value=function(e){return k.call(j,e)?e.slice(20,-a.length):void 0},x(F,"keyFor",S),S.value=function getOwnPropertyDescriptor(e,t){var n=b(e,t);return n&&O(t)&&(n.enumerable=P.call(e,t)),n},x(e,m,S),S.value=function(e,t){return 1===arguments.length?y(e):function createWithSymbols(e,t){var n=y(e);return null!==t&&"object"===(void 0===t?"undefined":g(t))&&v(t).forEach((function(e){P.call(t,e)&&L(n,e,t[e])})),n}(e,t)},x(e,"create",S),S.value=function(){var e=M.call(this);return"[object String]"===e&&O(this)?"[object Symbol]":e},x(E,"toString",S);try{n=y(x({},l,{get:function get(){return x(this,l,{value:!1})[l]}}))[l]||x}catch(e){n=function setDescriptor(e,t,n){var r=b(E,t);delete E[t],x(e,t,n),x(E,t,r)}}}}(Object,"getOwnPropertySymbols"),r=Object,Symbol,a=r.defineProperty,l=r.prototype,d=l.toString,["iterator","match","replace","search","split","hasInstance","isConcatSpreadable","unscopables","species","toPrimitive",c="toStringTag"].forEach((function(e){e in Symbol||(a(Symbol,e,{value:Symbol(e)}),e!==c)||((o=r.getOwnPropertyDescriptor(l,"toString")).value=function(){var e=d.call(this),t=null==this?void 0:this[Symbol.toStringTag];return void 0===t?e:"[object "+t+"]"},a(l,"toString",o))})),function(e,t,n){function returnThis(){return this}t[e]||(t[e]=function(){var t=0,n=this,r={next:function next(){var e=n.length<=t;return e?{done:e}:{done:e,value:n[t++]}}};return r[e]=returnThis,r}),n[e]||(n[e]=function(){var t=String.fromCodePoint,n=this,r=0,o=n.length,a={next:function next(){var e=o<=r,a=e?"":t(n.codePointAt(r));return r+=a.length,e?{done:e}:{done:e,value:a}}};return a[e]=returnThis,a})}(Symbol.iterator,Array.prototype,String.prototype)),"undefined"==typeof FEATURE_NO_ES2015&&(Number.isNaN=Number.isNaN||function(e){return e!=e},Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)}),String.prototype.endsWith&&!function(){try{return!"ab".endsWith("a",1)}catch(e){return!0}}()||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),String.prototype.startsWith&&!function(){try{return!"ab".startsWith("b",1)}catch(e){return!0}}()||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),"undefined"==typeof FEATURE_NO_ES2015&&(Array.from||(Array.from=(u=function toLength(e){return e>0?Math.min(function toInteger(e){return isNaN(e=+e)?0:(e>0?Math.floor:Math.ceil)(e)}(e),9007199254740991):0},p=function iterCall(e,t,n,r){try{return t(n,r)}catch(t){throw"function"==typeof e.return&&e.return(),t}},function from(e){var t,n,r,o,a=Object(e),l="function"==typeof this?this:Array,d=arguments.length,c=d>1?arguments[1]:void 0,h=void 0!==c,g=0,m=a[Symbol.iterator];if(h&&(c=c.bind(d>2?arguments[2]:void 0)),null==m||Array.isArray(e))for(n=new l(t=u(a.length));t>g;g++)n[g]=h?c(a[g],g):a[g];else for(o=m.call(a),n=new l;!(r=o.next()).done;g++)n[g]=h?p(o,c,r.value,g):r.value;return n.length=g,n})),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,enumerable:!1,value:function value(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var value,t=Object(this),n=t.length>>>0,r=arguments[1],o=0;o<n;o++)if(value=t[o],e.call(r,value,o,t))return value}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{configurable:!0,writable:!0,enumerable:!1,value:function value(e){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var value,t=Object(this),n=t.length>>>0,r=arguments[1],o=0;o<n;o++)if(value=t[o],e.call(r,value,o,t))return o;return-1}})),"undefined"!=typeof FEATURE_NO_ES2016||Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,enumerable:!1,value:function value(e){var t=Object(this),n=parseInt(t.length)||0;if(0===n)return!1;var r,o,a=parseInt(arguments[1])||0;for(a>=0?r=a:(r=n+a)<0&&(r=0);r<n;){if(e===(o=t[r])||e!=e&&o!=o)return!0;r++}return!1}}),"undefined"==typeof FEATURE_NO_ES2015&&(!function(){var e,t,n,r,o=!1;try{var a=Object.keys("a");o=1!==a.length||"0"!==a[0]}catch(e){o=!0}o&&(Object.keys=(e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=(n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(o){if(null==o)throw TypeError("Cannot convert undefined or null to object");o=Object(o);var a,l,d=[];for(a in o)e.call(o,a)&&d.push(a);if(t)for(l=0;l<r;l++)e.call(o,n[l])&&d.push(n[l]);return d}))}(),function(e){var t,n,r;"assign"in e||e.defineProperty(e,"assign",{configurable:!0,writable:!0,value:(t=e.getOwnPropertySymbols,n=e.propertyIsEnumerable,r=t?function(e){return t(e).filter(n,e)}:function(){return Array.prototype},function assign(n){function set(e){n[e]=l[e]}!t||n instanceof e||console.warn("problematic Symbols",n);for(var o=1,a=arguments.length;o<a;++o){var l=arguments[o];null!=l&&e.keys(l).concat(r(l)).forEach(set)}return n})})}(Object),Object.is||(Object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t})),"undefined"==typeof FEATURE_NO_ES2015&&function(e){var t,n,r,o=Object.defineProperty,a=function is(e,t){return e===t||e!=e&&t!=t};("undefined"==typeof WeakMap&&(e.WeakMap=createCollection({delete:sharedDelete,clear:sharedClear,get:sharedGet,has:mapHas,set:sharedSet},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next)||(e.Map=createCollection(((n={delete:sharedDelete,has:mapHas,get:sharedGet,set:sharedSet,keys:function sharedKeys(){return sharedIterator(this._itp,this._keys)},values:sharedValues,entries:mapEntries,forEach:sharedForEach,clear:sharedClear})[Symbol.iterator]=mapEntries,n)));"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(e.Set=createCollection(((r={has:setHas,add:sharedAdd,delete:sharedDelete,clear:sharedClear,keys:sharedValues,values:sharedValues,entries:function setEntries(){return sharedIterator(this._itp,this._values,this._values)},forEach:sharedForEach})[Symbol.iterator]=sharedValues,r)));function createCollection(e,t){function Collection(e){if(!this||this.constructor!==Collection)return new Collection(e);this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,e&&init.call(this,e)}return t||o(e,"size",{get:sharedSize}),e.constructor=Collection,Collection.prototype=e,Collection}function init(e){this.add?e.forEach(this.add,this):e.forEach((function(e){this.set(e[0],e[1])}),this)}function sharedDelete(e){return this.has(e)&&(this._keys.splice(t,1),this._values.splice(t,1),this._itp.forEach((function(e){t<e[0]&&e[0]--}))),-1<t}function sharedGet(e){return this.has(e)?this._values[t]:void 0}function has(e,n){if(this.objectOnly&&n!==Object(n))throw new TypeError("Invalid value used as weak collection key");if(n!=n||0===n)for(t=e.length;t--&&!a(e[t],n););else t=e.indexOf(n);return-1<t}function setHas(e){return has.call(this,this._values,e)}function mapHas(e){return has.call(this,this._keys,e)}function sharedSet(e,n){return this.has(e)?this._values[t]=n:this._values[this._keys.push(e)-1]=n,this}function sharedAdd(e){return this.has(e)||this._values.push(e),this}function sharedClear(){(this._keys||0).length=this._values.length=0}function sharedValues(){return sharedIterator(this._itp,this._values)}function mapEntries(){return sharedIterator(this._itp,this._keys,this._values)}function sharedIterator(e,t,n){var r,o=[0],a=!1;return e.push(o),(r={})[Symbol.iterator]=function(){return this},r.next=function next(){var r,l=o[0];return!a&&l<t.length?(r=n?[t[l],n[l]]:t[l],o[0]++):(a=!0,e.splice(e.indexOf(o),1)),{done:a,value:r}},r}function sharedSize(){return this._values.length}function sharedForEach(e,t){for(var n=this.entries();;){var r=n.next();if(r.done)break;e.call(t,r.value[1],r.value[0],this)}}"undefined"==typeof WeakSet&&(e.WeakSet=createCollection({delete:sharedDelete,add:sharedAdd,clear:sharedClear,has:setHas},!0))}(h.PLATFORM.global),"undefined"==typeof FEATURE_NO_ES2015){var m=Function.prototype.bind;void 0===h.PLATFORM.global.Reflect&&(h.PLATFORM.global.Reflect={}),"function"!=typeof Reflect.defineProperty&&(Reflect.defineProperty=function(e,t,n){if("object"===(void 0===e?"undefined":g(e))?null===e:"function"!=typeof e)throw new TypeError("Reflect.defineProperty called on non-object");try{return Object.defineProperty(e,t,n),!0}catch(e){return!1}}),"function"!=typeof Reflect.construct&&(Reflect.construct=function(e,t){if(t)switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(m.apply(e,n))}),"function"!=typeof Reflect.ownKeys&&(Reflect.ownKeys=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))})}if("undefined"==typeof FEATURE_NO_ESNEXT){var f=Object.freeze({}),v="__metadata__";"function"!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(e,t,n){if(t.hasOwnProperty(v))return(t[v][n]||f)[e]}),"function"!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(e,t,n,r){var o=n.hasOwnProperty(v)?n[v]:n[v]={};(o[r]||(o[r]={}))[e]=t}),"function"!=typeof Reflect.metadata&&(Reflect.metadata=function(e,t){return function(n,r){Reflect.defineMetadata(e,t,n,r)}})}},"aurelia-portal-attribute":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Portal:()=>l,configure:()=>configure});var r=n("./node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js");function __decorate(e,t,n,r){var o,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(l=(a<3?o(l):a>3?o(t,n,l):o(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l}var o=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js").PLATFORM.global.document,a={beforebegin:1,afterbegin:1,beforeend:1,afterend:1},l=function(){function Portal(e,t){this.viewFactory=e,this.originalViewslot=t,this.position="beforeend",this.strict=!1,this.initialRender=!1,this.currentTarget=d}var e;return e=Portal,Portal.getTarget=function(e,t){if(e){if("string"==typeof e){var n=o;t&&("string"==typeof t&&(t=o.querySelector(t)),t instanceof Element&&(n=t)),e=n.querySelector(e)}if(e instanceof Element)return e}return null},Portal.createViewSlot=function(e,t){if("string"!=typeof e||1!==a[e.toLowerCase()])throw new Error('Invalid position for portalling. Expected one of "beforebegin", "afterbegin", "beforeend" or "afterend".');var n=o.createElement("portal-placeholder"),l=e.toLowerCase();t.insertAdjacentElement(l,n);var d=o.createComment("portal");return n.parentNode.replaceChild(d,n),new r.ViewSlot(d,!1)},Portal.prototype.bind=function(e,t){this.callbackContext||(this.callbackContext=e);var n=this.view;n||(n=this.view=this.viewFactory.create());var r=this.initialRender;r&&this.originalViewslot.add(n),n.bind(e,t),r&&this.originalViewslot.remove(n)},Portal.prototype.attached=function(){return this.isAttached=!0,this.render()},Portal.prototype.detached=function(){this.isAttached=!1,this.viewSlot&&this.viewSlot.detached()},Portal.prototype.unbind=function(){this.viewSlot&&(this.viewSlot.remove(this.view),this.viewSlot=null),this.view.unbind(),this.callbackContext=null},Portal.prototype.getTarget=function(){var t=e.getTarget(this.target,this.renderContext);if(null===t){if(this.strict)throw new Error("Render target not found.");t=o.body}return t},Portal.prototype.render=function(){var t=this,n=this.currentTarget,r=this.view,o=this.currentTarget=this.getTarget(),a=this.viewSlot;if(n!==o||!a){var addAction=function(){return t.isAttached?Promise.resolve("function"==typeof t.activating?t.activating.call(t.callbackContext,o,r):null).then((function(){if(o===t.currentTarget||n===d){var a=t.viewSlot=e.createViewSlot(t.position,o);a.attached(),a.add(r),t.removed=!1}return Promise.resolve().then((function(){"function"==typeof t.activated&&t.activated.call(t.callbackContext,o,r)}))})):Promise.resolve(null)};return a?Promise.resolve("function"==typeof this.deactivating?this.deactivating.call(this.callbackContext,n,r):null).then((function(){return"function"==typeof t.deactivated&&t.deactivated.call(t.callbackContext,n,r),t.viewSlot=null,t.removed||(a.remove(r),t.removed=!0),addAction()})):Promise.resolve(addAction())}},Portal.prototype.targetChanged=function(){return this.render()},Portal.inject=[r.BoundViewFactory,r.ViewSlot],__decorate([(0,r.bindable)({primaryProperty:!0,defaultValue:null})],Portal.prototype,"target",void 0),__decorate([(0,r.bindable)({changeHandler:"targetChanged"})],Portal.prototype,"position",void 0),__decorate([(0,r.bindable)({changeHandler:"targetChanged"})],Portal.prototype,"renderContext",void 0),__decorate([(0,r.bindable)()],Portal.prototype,"strict",void 0),__decorate([(0,r.bindable)()],Portal.prototype,"initialRender",void 0),__decorate([(0,r.bindable)()],Portal.prototype,"deactivating",void 0),__decorate([(0,r.bindable)()],Portal.prototype,"activating",void 0),__decorate([(0,r.bindable)()],Portal.prototype,"activated",void 0),__decorate([(0,r.bindable)()],Portal.prototype,"deactivated",void 0),__decorate([(0,r.bindable)()],Portal.prototype,"callbackContext",void 0),Portal=e=__decorate([(0,r.templateController)(),(0,r.customAttribute)("portal")],Portal)}(),d={};function configure(e){e.globalResources(l)}},"./node_modules/aurelia-route-recognizer/dist/native-modules/aurelia-route-recognizer.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DynamicSegment:()=>d,EpsilonSegment:()=>u,RouteRecognizer:()=>p,StarSegment:()=>c,State:()=>o,StaticSegment:()=>l});var r=n("./node_modules/aurelia-path/dist/native-modules/aurelia-path.js"),o=function(){function State(e){this.charSpec=e,this.nextStates=[]}return State.prototype.get=function get(e){var t=this.nextStates,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o;if(a.charSpec.validChars===e.validChars&&a.charSpec.invalidChars===e.invalidChars)return a}},State.prototype.put=function put(e){var t=this.get(e);return t||(t=new State(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},State.prototype.match=function match(e){for(var t=this.nextStates,n=[],r=0,o=t.length;r<o;r++){var a=t[r],l=a.charSpec;void 0!==l.validChars?-1!==l.validChars.indexOf(e)&&n.push(a):void 0!==l.invalidChars&&-1===l.invalidChars.indexOf(e)&&n.push(a)}return n},State}(),a=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g"),l=function(){function StaticSegment(e,t){this.string=e,this.caseSensitive=t}return StaticSegment.prototype.eachChar=function eachChar(e){for(var t=this.string,n=0,r=t.length;n<r;++n){var o=t[n];e({validChars:this.caseSensitive?o:o.toUpperCase()+o.toLowerCase()})}},StaticSegment.prototype.regex=function regex(){return this.string.replace(a,"\\$1")},StaticSegment.prototype.generate=function generate(){return this.string},StaticSegment}(),d=function(){function DynamicSegment(e,t){this.name=e,this.optional=t}return DynamicSegment.prototype.eachChar=function eachChar(e){e({invalidChars:"/",repeat:!0})},DynamicSegment.prototype.regex=function regex(){return"([^/]+)"},DynamicSegment.prototype.generate=function generate(e,t){return t[this.name]=!0,e[this.name]},DynamicSegment}(),c=function(){function StarSegment(e){this.name=e}return StarSegment.prototype.eachChar=function eachChar(e){e({invalidChars:"",repeat:!0})},StarSegment.prototype.regex=function regex(){return"(.+)"},StarSegment.prototype.generate=function generate(e,t){return t[this.name]=!0,e[this.name]},StarSegment}(),u=function(){function EpsilonSegment(){}return EpsilonSegment.prototype.eachChar=function eachChar(){},EpsilonSegment.prototype.regex=function regex(){return""},EpsilonSegment.prototype.generate=function generate(){return""},EpsilonSegment}(),p=function(){function RouteRecognizer(){this.rootState=new o,this.names={},this.routes=new Map}return RouteRecognizer.prototype.add=function add(e){var t=this;if(!Array.isArray(e)){for(var n=this.rootState,r=[],o="^",a={statics:0,dynamics:0,stars:0},p=[],h=e.handler.name,g=!0,m=function parse(e,t,n,r){var o=e;"/"===e.charAt(0)&&(o=e.substr(1));for(var a=[],p=o.split("/"),h=0,g=p.length;h<g;++h){var m=p[h],f=m.match(/^:([^?]+)(\?)?$/);if(f){var v=f,b=v[1],y=v[2];if(-1!==b.indexOf("="))throw new Error("Parameter "+b+" in route "+e+" has a default value, which is not supported.");a.push(new d(b,!!y)),t.push(b),n.dynamics++}else(f=m.match(/^\*(.+)$/))?(a.push(new c(f[1])),t.push(f[1]),n.stars++):""===m?a.push(new u):(a.push(new l(m,r)),n.statics++)}return a}(e.path,p,a,e.caseSensitive),f=0,v=m.length;f<v;f++){var b=m[f];if(!(b instanceof u)){for(var y=addSegment(n,b),_=y[0],x=y[1],C=0,S=r.length;C<S;C++)r[C].nextStates.push(_);b.optional?(r.push(x),o+="(?:/"+b.regex()+")?"):(n=x,o+="/"+b.regex(),r.length=0,g=!1)}}g&&(n=n.put({validChars:"/"}),o+="/?");var E=[{handler:e.handler,names:p}];if(this.routes.set(e.handler,{segments:m,handlers:E}),h)for(var k=Array.isArray(h)?h:[h],T=0;T<k.length;T++)k[T]in this.names||(this.names[k[T]]={segments:m,handlers:E});for(var M=0;M<r.length;M++){var q=r[M];q.handlers=E,q.regex=new RegExp(o+"$",e.caseSensitive?"":"i"),q.types=a}return n.handlers=E,n.regex=new RegExp(o+"$",e.caseSensitive?"":"i"),n.types=a,n}e.forEach((function(e){return t.add(e)}))},RouteRecognizer.prototype.getRoute=function getRoute(e){return"string"==typeof e?this.names[e]:this.routes.get(e)},RouteRecognizer.prototype.handlersFor=function handlersFor(e){var t=this.getRoute(e);if(!t)throw new Error("There is no route named "+e);return[].concat(t.handlers)},RouteRecognizer.prototype.hasRoute=function hasRoute(e){return!!this.getRoute(e)},RouteRecognizer.prototype.generate=function generate(e,t){var n=this.getRoute(e);if(!n)throw new Error("There is no route named "+e);var o=n.handlers[0].handler;if(o.generationUsesHref)return o.href;for(var a=Object.assign({},t),l=n.segments,d={},c="",p=0,h=l.length;p<h;p++){var g=l[p];if(!(g instanceof u)){var m=g.generate(a,d);if(null==m){if(!g.optional)throw new Error("A value is required for route parameter '"+g.name+"' in route '"+e+"'.")}else c+="/",c+=m}}for(var f in"/"!==c.charAt(0)&&(c="/"+c),d)delete a[f];var v=(0,r.buildQueryString)(a);return c+=v?"?"+v:""},RouteRecognizer.prototype.recognize=function recognize(e){var t=[this.rootState],n={},o=!1,a=e,l=a.indexOf("?");if(-1!==l){var d=a.substr(l+1,a.length);a=a.substr(0,l),n=(0,r.parseQueryString)(d)}"/"!==(a=decodeURI(a)).charAt(0)&&(a="/"+a);var c=a.length;c>1&&"/"===a.charAt(c-1)&&(a=a.substr(0,c-1),o=!0);for(var u=0,p=a.length;u<p&&(t=recognizeChar(t,a.charAt(u))).length;u++);for(var g=[],m=0,f=t.length;m<f;m++)t[m].handlers&&g.push(t[m]);t=function sortSolutions(e){return e.sort((function(e,t){if(e.types.stars!==t.types.stars)return e.types.stars-t.types.stars;if(e.types.stars){if(e.types.statics!==t.types.statics)return t.types.statics-e.types.statics;if(e.types.dynamics!==t.types.dynamics)return t.types.dynamics-e.types.dynamics}return e.types.dynamics!==t.types.dynamics?e.types.dynamics-t.types.dynamics:e.types.statics!==t.types.statics?t.types.statics-e.types.statics:0}))}(g);var v=g[0];if(v&&v.handlers)return o&&"(.+)$"===v.regex.source.slice(-5)&&(a+="/"),function findHandler(e,t,n){for(var r=e.handlers,o=e.regex,a=t.match(o),l=1,d=new h(n),c=0,u=r.length;c<u;c++){for(var p=r[c],g=p.names,m={},f=0,v=g.length;f<v;f++)m[g[f]]=a[l++];d.push({handler:p.handler,params:m,isDynamic:!!g.length})}return d}(v,a,n)},RouteRecognizer}(),h=function RecognizeResults(e){this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=e||{}};function recognizeChar(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var a=e[r];n.push.apply(n,a.match(t))}return n}function addSegment(e,t){var n=e.put({validChars:"/"}),r=n;return t.eachChar((function(e){r=r.put(e)})),[n,r]}},"./node_modules/aurelia-router/dist/native-modules/aurelia-router.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActivateNextStep:()=>P,AppRouter:()=>R,BuildNavigationPlanStep:()=>_,CanActivateNextStep:()=>A,CanDeactivatePreviousStep:()=>I,CommitChangesStep:()=>S,DeactivatePreviousStep:()=>O,LoadRouteStep:()=>C,NavModel:()=>u,NavigationInstruction:()=>c,Pipeline:()=>f,PipelineProvider:()=>F,PipelineSlotName:()=>T,PipelineStatus:()=>E,Redirect:()=>v,RedirectToRoute:()=>b,RouteLoader:()=>x,Router:()=>m,RouterConfiguration:()=>g,RouterEvent:()=>k,activationStrategy:()=>M,isNavigationCommand:()=>isNavigationCommand});var r=n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),o=n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),a=n("./node_modules/aurelia-history/dist/native-modules/aurelia-history.js"),l=n("./node_modules/aurelia-route-recognizer/dist/native-modules/aurelia-route-recognizer.js"),d=n("aurelia-event-aggregator"),extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},extendStatics(e,t)};var c=function(){function NavigationInstruction(e){this.plan=null,this.options={},Object.assign(this,e),this.params=this.params||{},this.viewPortInstructions={};var t=[],n=this;do{var r=Object.assign({},n.params);n.config&&n.config.hasChildRouter&&delete r[n.getWildCardName()],t.unshift(r),n=n.parentInstruction}while(n);var o=Object.assign.apply(Object,[{},this.queryParams].concat(t));this.lifecycleArgs=[o,this.config,this]}return NavigationInstruction.prototype.getAllInstructions=function(){var e=[this],t=this.viewPortInstructions;for(var n in t){var r=t[n].childNavigationInstruction;r&&e.push.apply(e,r.getAllInstructions())}return e},NavigationInstruction.prototype.getAllPreviousInstructions=function(){return this.getAllInstructions().map((function(e){return e.previousInstruction})).filter((function(e){return e}))},NavigationInstruction.prototype.addViewPortInstruction=function(e,t,n,r){var o,a="string"==typeof e?e:e.name,l=this.lifecycleArgs,d=Object.assign({},l[1],{currentViewPort:a});return o="string"==typeof e?{name:e,strategy:t,moduleId:n,component:r,childRouter:r.childRouter,lifecycleArgs:[l[0],d,l[2]]}:{name:a,strategy:e.strategy,component:e.component,moduleId:e.moduleId,childRouter:e.component.childRouter,lifecycleArgs:[l[0],d,l[2]]},this.viewPortInstructions[a]=o},NavigationInstruction.prototype.getWildCardName=function(){var e=this.config.route,t=e.lastIndexOf("*");return e.substr(t+1)},NavigationInstruction.prototype.getWildcardPath=function(){var e=this.getWildCardName(),t=this.params[e]||"",n=this.queryString;return n&&(t+="?"+n),t},NavigationInstruction.prototype.getBaseUrl=function(){var e=this,t=encodeURI,n=decodeURI(this.fragment);if(""===n){var r=this.router.routes.find((function(t){return t.name===e.config.name&&""!==t.route}));r&&(n=r.route)}if(!this.params)return t(n);var o=this.getWildCardName(),a=this.params[o]||"";return t(a?n.substr(0,n.lastIndexOf(a)):n)},NavigationInstruction.prototype._commitChanges=function(e){var t=this,n=this.router;n.currentInstruction=this;var r=this.previousInstruction;r&&(r.config.navModel.isActive=!1),this.config.navModel.isActive=!0,n.refreshNavigation();var o=[],a=[],l=this.viewPortInstructions,_loop_1=function(t){var r=l[t],d=n.viewPorts[t];if(!d)throw new Error("There was no router-view found in the view for "+r.moduleId+".");var c=r.childNavigationInstruction;"replace"===r.strategy?c&&c.parentCatchHandler?o.push(c._commitChanges(e)):(e&&a.push({viewPort:d,viewPortInstruction:r}),o.push(d.process(r,e).then((function(){return c?c._commitChanges(e):Promise.resolve()})))):c&&o.push(c._commitChanges(e))};for(var d in l)_loop_1(d);return Promise.all(o).then((function(){return a.forEach((function(e){return e.viewPort.swap(e.viewPortInstruction)})),null})).then((function(){return prune(t)}))},NavigationInstruction.prototype._updateTitle=function(){var e=this.router,t=this._buildTitle(e.titleSeparator);t&&e.history.setTitle(t)},NavigationInstruction.prototype._buildTitle=function(e){void 0===e&&(e=" | ");var t="",n=[],r=this.config.navModel.title,o=this.router,a=this.viewPortInstructions;for(var l in r&&(t=o.transformTitle(r)),a){var d=a[l].childNavigationInstruction;if(d){var c=d._buildTitle(e);c&&n.push(c)}}return n.length&&(t=n.join(e)+(t?e:"")+t),o.title&&(t+=(t?e:"")+o.transformTitle(o.title)),t},NavigationInstruction}(),prune=function(e){e.previousInstruction=null,e.plan=null},u=function(){function NavModel(e,t){this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=e,this.relativeHref=t}return NavModel.prototype.setTitle=function(e){this.title=e,this.isActive&&this.router.updateTitle()},NavModel}();function _normalizeAbsolutePath(e,t,n){return void 0===n&&(n=!1),t||"#"===e[0]||(e="#"+e),t&&n&&(e=e.substring(1,e.length)),e}function _createRootedPath(e,t,n,r){if(h.test(e))return e;var o="";return t.length&&"/"!==t[0]&&(o+="/"),(o+=t).length&&"/"===o[o.length-1]||"/"===e[0]||(o+="/"),o.length&&"/"===o[o.length-1]&&"/"===e[0]&&(o=o.substring(0,o.length-1)),_normalizeAbsolutePath(o+e,n,r)}function _ensureArrayWithSingleRoutePerConfig(e){var t=[];if(Array.isArray(e.route))for(var n=0,r=e.route.length;n<r;++n){var o=Object.assign({},e);o.route=e.route[n],t.push(o)}else t.push(Object.assign({},e));return t}var p=/^#?\//,h=/^([a-z][a-z0-9+\-.]*:)?\/\//i,g=function(){function RouterConfiguration(){this.instructions=[],this.options={},this.pipelineSteps=[]}return RouterConfiguration.prototype.addPipelineStep=function(e,t){if(null==t)throw new Error("Pipeline step cannot be null or undefined.");return this.pipelineSteps.push({name:e,step:t}),this},RouterConfiguration.prototype.addAuthorizeStep=function(e){return this.addPipelineStep("authorize",e)},RouterConfiguration.prototype.addPreActivateStep=function(e){return this.addPipelineStep("preActivate",e)},RouterConfiguration.prototype.addPreRenderStep=function(e){return this.addPipelineStep("preRender",e)},RouterConfiguration.prototype.addPostRenderStep=function(e){return this.addPipelineStep("postRender",e)},RouterConfiguration.prototype.fallbackRoute=function(e){return this._fallbackRoute=e,this},RouterConfiguration.prototype.map=function(e){var t=this;return Array.isArray(e)?(e.forEach((function(e){return t.map(e)})),this):this.mapRoute(e)},RouterConfiguration.prototype.useViewPortDefaults=function(e){return this.viewPortDefaults=e,this},RouterConfiguration.prototype.mapRoute=function(e){return this.instructions.push((function(t){for(var n,r=_ensureArrayWithSingleRoutePerConfig(e),o=0,a=r.length;o<a;++o){var l=r[o];l.settings=l.settings||{},n||(n=t.createNavModel(l)),t.addRoute(l,n)}})),this},RouterConfiguration.prototype.mapUnknownRoutes=function(e){return this.unknownRouteConfig=e,this},RouterConfiguration.prototype.exportToRouter=function(e){for(var t=this.instructions,n=0,r=t.length;n<r;++n)t[n](e);var o=this,a=o.title,l=o.titleSeparator,d=o.unknownRouteConfig,c=o._fallbackRoute,u=o.viewPortDefaults;a&&(e.title=a),l&&(e.titleSeparator=l),d&&e.handleUnknownRoutes(d),c&&(e.fallbackRoute=c),u&&e.useViewPortDefaults(u),Object.assign(e.options,this.options);var p=this.pipelineSteps,h=p.length;if(h){if(!e.isRoot)throw new Error("Pipeline steps can only be added to the root router");var g=e.pipelineProvider;for(n=0,r=h;n<r;++n){var m=p[n],f=m.name,v=m.step;g.addStep(f,v)}}},RouterConfiguration}(),m=function(){function Router(e,t){var n=this;this.parent=null,this.options={},this.viewPortDefaults={},this.transformTitle=function(e){return n.parent?n.parent.transformTitle(e):e},this.container=e,this.history=t,this.reset()}return Router.prototype.reset=function(){var e=this;this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.isExplicitNavigation=!1,this.isExplicitNavigationBack=!1,this.isNavigatingFirst=!1,this.isNavigatingNew=!1,this.isNavigatingRefresh=!1,this.isNavigatingForward=!1,this.isNavigatingBack=!1,this.couldDeactivate=!1,this.navigation=[],this.currentInstruction=null,this.viewPortDefaults={},this._fallbackOrder=100,this._recognizer=new l.RouteRecognizer,this._childRecognizer=new l.RouteRecognizer,this._configuredPromise=new Promise((function(t){e._resolveConfiguredPromise=t}))},Object.defineProperty(Router.prototype,"isRoot",{get:function(){return!this.parent},enumerable:!0,configurable:!0}),Router.prototype.registerViewPort=function(e,t){t=t||"default",this.viewPorts[t]=e},Router.prototype.ensureConfigured=function(){return this._configuredPromise},Router.prototype.configure=function(e){var t=this;this.isConfigured=!0;var n,r=e;return"function"==typeof e&&(r=e(n=new g)),Promise.resolve(r).then((function(e){e&&e.exportToRouter&&(n=e),n.exportToRouter(t),t.isConfigured=!0,t._resolveConfiguredPromise()}))},Router.prototype.navigate=function(e,t){return!this.isConfigured&&this.parent?this.parent.navigate(e,t):(this.isExplicitNavigation=!0,this.history.navigate(function _resolveUrl(e,t,n){return p.test(e)?_normalizeAbsolutePath(e,n):_createRootedPath(e,t,n)}(e,this.baseUrl,this.history._hasPushState),t))},Router.prototype.navigateToRoute=function(e,t,n){var r=this.generate(e,t);return this.navigate(r,n)},Router.prototype.navigateBack=function(){this.isExplicitNavigationBack=!0,this.history.navigateBack()},Router.prototype.createChild=function(e){var t=new Router(e||this.container.createChild(),this.history);return t.parent=this,t},Router.prototype.generate=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r="childRoute"in t?this._childRecognizer:this._recognizer;if(!r.hasRoute(e)){if(this.parent)return this.parent.generate(e,t,n);throw new Error("A route with name '"+e+"' could not be found. Check that `name: '"+e+"'` was specified in the route's config.")}var o=_createRootedPath(r.generate(e,t),this.baseUrl,this.history._hasPushState,n.absolute);return n.absolute?""+this.history.getAbsoluteRoot()+o:o},Router.prototype.createNavModel=function(e){var t=new u(this,"href"in e?e.href:e.route);return t.title=e.title,t.order=e.nav,t.href=e.href,t.settings=e.settings,t.config=e,t},Router.prototype.addRoute=function(e,t){if(Array.isArray(e.route)){_ensureArrayWithSingleRoutePerConfig(e).forEach(this.addRoute.bind(this))}else{validateRouteConfig(e),"viewPorts"in e||e.navigationStrategy||(e.viewPorts={default:{moduleId:e.moduleId,view:e.view}}),t||(t=this.createNavModel(e)),this.routes.push(e);var n=e.route;"/"===n.charAt(0)&&(n=n.substr(1));var r=!0===e.caseSensitive,o=this._recognizer.add({path:n,handler:e,caseSensitive:r});if(n){var a=e.settings;delete e.settings;var l=JSON.parse(JSON.stringify(e));e.settings=a,l.route=n+"/*childRoute",l.hasChildRouter=!0,this._childRecognizer.add({path:l.route,handler:l,caseSensitive:r}),l.navModel=t,l.settings=e.settings,l.navigationStrategy=e.navigationStrategy}e.navModel=t;var d=this.navigation;if((t.order||0===t.order)&&-1===d.indexOf(t)){if(!t.href&&""!==t.href&&(o.types.dynamics||o.types.stars))throw new Error('Invalid route config for "'+e.route+'" : dynamic routes must specify an "href:" to be included in the navigation model.');"number"!=typeof t.order&&(t.order=++this._fallbackOrder),d.push(t),d.sort((function(e,t){return e.order-t.order}))}}},Router.prototype.hasRoute=function(e){return!!(this._recognizer.hasRoute(e)||this.parent&&this.parent.hasRoute(e))},Router.prototype.hasOwnRoute=function(e){return this._recognizer.hasRoute(e)},Router.prototype.handleUnknownRoutes=function(e){var t=this;if(!e)throw new Error("Invalid unknown route handler");this.catchAllHandler=function(n){return t._createRouteConfig(e,n).then((function(e){return n.config=e,n}))}},Router.prototype.updateTitle=function(){var e=this.parent;if(e)return e.updateTitle();var t=this.currentInstruction;t&&t._updateTitle()},Router.prototype.refreshNavigation=function(){for(var e=this.navigation,t=0,n=e.length;t<n;t++){var r=e[t];r.config.href?r.href=_normalizeAbsolutePath(r.config.href,this.history._hasPushState):r.href=_createRootedPath(r.relativeHref,this.baseUrl,this.history._hasPushState)}},Router.prototype.useViewPortDefaults=function(e){var t=e;for(var n in t){var r=t[n];this.viewPortDefaults[n]={moduleId:r.moduleId}}},Router.prototype._refreshBaseUrl=function(){var e=this.parent;e&&(this.baseUrl=generateBaseUrl(e,e.currentInstruction))},Router.prototype._createNavigationInstruction=function(e,t){void 0===e&&(e=""),void 0===t&&(t=null);var n=e,r="",o=e.indexOf("?");-1!==o&&(n=e.substr(0,o),r=e.substr(o+1));var a=this._recognizer.recognize(e);a&&a.length||(a=this._childRecognizer.recognize(e));var l,d={fragment:n,queryString:r,config:null,parentInstruction:t,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(a&&a.length){var u=a[0],p=new c(Object.assign({},d,{params:u.params,queryParams:u.queryParams||a.queryParams,config:u.config||u.handler}));l="function"==typeof u.handler?evaluateNavigationStrategy(p,u.handler,u):u.handler&&"function"==typeof u.handler.navigationStrategy?evaluateNavigationStrategy(p,u.handler.navigationStrategy,u.handler):Promise.resolve(p)}else if(this.catchAllHandler){p=new c(Object.assign({},d,{params:{path:n},queryParams:a?a.queryParams:{},config:null}));l=evaluateNavigationStrategy(p,this.catchAllHandler)}else if(this.parent){var h=this._parentCatchAllHandler(this.parent);if(h){var g=this._findParentInstructionFromRouter(h,t);p=new c(Object.assign({},d,{params:{path:n},queryParams:a?a.queryParams:{},router:h,parentInstruction:g,parentCatchHandler:!0,config:null}));l=evaluateNavigationStrategy(p,h.catchAllHandler)}}return l&&t&&(this.baseUrl=generateBaseUrl(this.parent,t)),l||Promise.reject(new Error("Route not found: "+e))},Router.prototype._findParentInstructionFromRouter=function(e,t){return t.router===e?(t.fragment=e.baseUrl,t):t.parentInstruction?this._findParentInstructionFromRouter(e,t.parentInstruction):void 0},Router.prototype._parentCatchAllHandler=function(e){return e.catchAllHandler?e:!!e.parent&&this._parentCatchAllHandler(e.parent)},Router.prototype._createRouteConfig=function(e,t){var n=this;return Promise.resolve(e).then((function(e){return"string"==typeof e?{moduleId:e}:"function"==typeof e?e(t):e})).then((function(e){return"string"==typeof e?{moduleId:e}:e})).then((function(e){return e.route=t.params.path,validateRouteConfig(e),e.navModel||(e.navModel=n.createNavModel(e)),e}))},Router}(),generateBaseUrl=function(e,t){return""+(e.baseUrl||"")+(t.getBaseUrl()||"")},validateRouteConfig=function(e){if("object"!=typeof e)throw new Error("Invalid Route Config");if("string"!=typeof e.route){var t=e.name||"(no name)";throw new Error('Invalid Route Config for "'+t+'": You must specify a "route:" pattern.')}if(!("redirect"in e||e.moduleId||e.navigationStrategy||e.viewPorts))throw new Error('Invalid Route Config for "'+e.route+'": You must specify a "moduleId:", "redirect:", "navigationStrategy:", or "viewPorts:".')},evaluateNavigationStrategy=function(e,t,n){return Promise.resolve(t.call(n,e)).then((function(){return"viewPorts"in e.config||(e.config.viewPorts={default:{moduleId:e.config.moduleId}}),e}))},createCompletionHandler=function(e,t){return function(e){return Promise.resolve({status:t,output:e,completed:"completed"===t})}},f=function(){function Pipeline(){this.steps=[]}return Pipeline.prototype.addStep=function(e){var t;if("function"==typeof e)t=e;else{if("function"==typeof e.getSteps){for(var n=e.getSteps(),r=0,o=n.length;r<o;r++)this.addStep(n[r]);return this}t=e.run.bind(e)}return this.steps.push(t),this},Pipeline.prototype.run=function(e){var t=function(e,t){var n=-1,next=function(){if(!(++n<t.length))return next.complete();var r=t[n];try{return r(e,next)}catch(e){return next.reject(e)}};return next.complete=createCompletionHandler(next,"completed"),next.cancel=createCompletionHandler(next,"canceled"),next.reject=createCompletionHandler(next,"rejected"),next}(e,this.steps);return t()},Pipeline}();function isNavigationCommand(e){return e&&"function"==typeof e.navigate}var v=function(){function Redirect(e,t){void 0===t&&(t={}),this.url=e,this.options=Object.assign({trigger:!0,replace:!0},t),this.shouldContinueProcessing=!1}return Redirect.prototype.setRouter=function(e){this.router=e},Redirect.prototype.navigate=function(e){(this.options.useAppRouter?e:this.router||e).navigate(this.url,this.options)},Redirect}(),b=function(){function RedirectToRoute(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),this.route=e,this.params=t,this.options=Object.assign({trigger:!0,replace:!0},n),this.shouldContinueProcessing=!1}return RedirectToRoute.prototype.setRouter=function(e){this.router=e},RedirectToRoute.prototype.navigate=function(e){(this.options.useAppRouter?e:this.router||e).navigateToRoute(this.route,this.params,this.options)},RedirectToRoute}();function _buildNavigationPlan(e,t){var n=e.config;if("redirect"in n)return buildRedirectPlan(e);var r=e.previousInstruction,o=e.router.viewPortDefaults;if(r)return buildTransitionPlans(e,r,o,t);var a={},l=n.viewPorts;for(var d in l){var c=l[d];null===c.moduleId&&d in o&&(c=o[d]),a[d]={name:d,strategy:"replace",config:c}}return Promise.resolve(a)}var y,buildRedirectPlan=function(e){var t=e.config,n=e.router;return n._createNavigationInstruction(t.redirect).then((function(t){var r={},o=e.params,a=t.params;for(var l in a){var d=a[l];"string"==typeof d&&":"===d[0]?(d=d.slice(1))in o&&(r[l]=o[d]):r[l]=a[l]}var c=n.generate(t.config,r,e.options);for(var l in o)c=c.replace(":"+l,o[l]);var u=e.queryString;return u&&(c+="?"+u),Promise.resolve(new v(c))}))},buildTransitionPlans=function(e,t,n,r){var o={},a=e.config,l=hasDifferentParameterValues(t,e),d=[],c=t.viewPortInstructions,_loop_1=function(t){var u=c[t],p=u.component,h=a.viewPorts,g=t in h?h[t]:u;null===g.moduleId&&t in n&&(g=n[t]);var m=determineActivationStrategy(e,u,g,l,r),f=o[t]={name:t,config:g,prevComponent:p,prevModuleId:u.moduleId,strategy:m};if("replace"!==m&&u.childRouter){var b=e.getWildcardPath(),y=u.childRouter._createNavigationInstruction(b,e).then((function(e){return f.childNavigationInstruction=e,_buildNavigationPlan(e,"invoke-lifecycle"===f.strategy).then((function(t){return t instanceof v?Promise.reject(t):(e.plan=t,null)}))}));d.push(y)}};for(var u in c)_loop_1(u);return Promise.all(d).then((function(){return o}))},determineActivationStrategy=function(e,t,n,r,o){var a=e.config,l=t.component.viewModel;return t.moduleId!==n.moduleId?"replace":"determineActivationStrategy"in l?l.determineActivationStrategy.apply(l,e.lifecycleArgs):a.activationStrategy?a.activationStrategy:r||o?"invoke-lifecycle":"no-change"},hasDifferentParameterValues=function(e,t){var n=e.params,r=t.params,o=t.config.hasChildRouter?t.getWildCardName():null;for(var a in r)if(a!==o&&n[a]!==r[a])return!0;for(var a in n)if(a!==o&&n[a]!==r[a])return!0;if(!t.options.compareQueryParams)return!1;var l=e.queryParams,d=t.queryParams;for(var a in d)if(l[a]!==d[a])return!0;for(var a in l)if(l[a]!==d[a])return!0;return!1},_=function(){function BuildNavigationPlanStep(){}return BuildNavigationPlanStep.prototype.run=function(e,t){return _buildNavigationPlan(e).then((function(n){return n instanceof v?t.cancel(n):(e.plan=n,t())})).catch(t.cancel)},BuildNavigationPlanStep}(),loadNewRoute=function(e,t){var n=determineLoadingPlans(t).map((function(t){return loadRoute(e,t.navigationInstruction,t.viewPortPlan)}));return Promise.all(n)},determineLoadingPlans=function(e,t){void 0===t&&(t=[]);var n=e.plan;for(var r in n){var o=n[r],a=o.childNavigationInstruction;if("replace"===o.strategy)t.push({viewPortPlan:o,navigationInstruction:e}),a&&determineLoadingPlans(a,t);else{var l=e.addViewPortInstruction({name:r,strategy:o.strategy,moduleId:o.prevModuleId,component:o.prevComponent});a&&(l.childNavigationInstruction=a,determineLoadingPlans(a,t))}}return t},loadRoute=function(e,t,n){var r=n.config,o=r?r.moduleId:null;return loadComponent(e,t,r).then((function(r){var a=t.addViewPortInstruction({name:n.name,strategy:n.strategy,moduleId:o,component:r}),l=r.childRouter;if(l){var d=t.getWildcardPath();return l._createNavigationInstruction(d,t).then((function(t){return n.childNavigationInstruction=t,_buildNavigationPlan(t).then((function(n){return n instanceof v?Promise.reject(n):(t.plan=n,a.childNavigationInstruction=t,loadNewRoute(e,t))}))}))}}))},loadComponent=function(e,t,n){var r=t.router,o=t.lifecycleArgs;return Promise.resolve().then((function(){return e.loadRoute(r,n,t)})).then((function(e){var t=e.viewModel,a=e.childContainer;if(e.router=r,e.config=n,"configureRouter"in t){var l=a.getChildRouter();return e.childRouter=l,l.configure((function(e){return t.configureRouter(e,l,o[0],o[1],o[2])})).then((function(){return e}))}return e}))},x=function(){function RouteLoader(){}return RouteLoader.prototype.loadRoute=function(e,t,n){throw new Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')},RouteLoader}(),C=function(){function LoadRouteStep(e){this.routeLoader=e}return LoadRouteStep.inject=function(){return[x]},LoadRouteStep.prototype.run=function(e,t){return loadNewRoute(this.routeLoader,e).then(t,t.cancel)},LoadRouteStep}(),S=function(){function CommitChangesStep(){}return CommitChangesStep.prototype.run=function(e,t){return e._commitChanges(!0).then((function(){return e._updateTitle(),t()}))},CommitChangesStep}();!function(e){e.NoChange="no-change",e.InvokeLifecycle="invoke-lifecycle",e.Replace="replace"}(y||(y={}));var E,k,T,M={noChange:"no-change",invokeLifecycle:"invoke-lifecycle",replace:"replace"},processDeactivatable=function(e,t,n,r){var o=e.plan,a=findDeactivatable(o,t),l=a.length;function inspect(e){return r||shouldContinue(e)?iterate():n.cancel(e)}function iterate(){if(l--)try{var r=a[l][t](e);return processPotential(r,inspect,n.cancel)}catch(e){return n.cancel(e)}return e.router.couldDeactivate=!0,n()}return iterate()},findDeactivatable=function(e,t,n){for(var r in void 0===n&&(n=[]),e){var o=e[r],a=o.prevComponent;if((o.strategy===M.invokeLifecycle||o.strategy===M.replace)&&a){var l=a.viewModel;t in l&&n.push(l)}o.strategy===M.replace&&a?addPreviousDeactivatable(a,t,n):o.childNavigationInstruction&&findDeactivatable(o.childNavigationInstruction.plan,t,n)}return n},addPreviousDeactivatable=function(e,t,n){var r=e.childRouter;if(r&&r.currentInstruction){var o=r.currentInstruction.viewPortInstructions;for(var a in o){var l=o[a].component,d=l.viewModel;t in d&&n.push(d),addPreviousDeactivatable(l,t,n)}}},processActivatable=function(e,t,n,r){var o=findActivatable(e,t),a=o.length,l=-1;function iterate(){var e;if(++l<a)try{var d=o[l],c=(e=d.viewModel)[t].apply(e,d.lifecycleArgs);return processPotential(c,(function(e){return function inspect(e,t){return r||shouldContinue(e,t)?iterate():n.cancel(e)}(e,d.router)}),n.cancel)}catch(e){return n.cancel(e)}return n()}return iterate()},findActivatable=function(e,t,n,r){void 0===n&&(n=[]);var o=e.plan;return Object.keys(o).forEach((function(a){var l=o[a],d=e.viewPortInstructions[a],c=d.component,u=c.viewModel;l.strategy!==M.invokeLifecycle&&l.strategy!==M.replace||!(t in u)||n.push({viewModel:u,lifecycleArgs:d.lifecycleArgs,router:r});var p=l.childNavigationInstruction;p&&findActivatable(p,t,n,c.childRouter||r)})),n},shouldContinue=function(e,t){return!(e instanceof Error)&&(isNavigationCommand(e)?("function"==typeof e.setRouter&&e.setRouter(t),!!e.shouldContinueProcessing):void 0===e||e)},q=function(){function SafeSubscription(e){this._subscribed=!0,this._subscription=e(this),this._subscribed||this.unsubscribe()}return Object.defineProperty(SafeSubscription.prototype,"subscribed",{get:function(){return this._subscribed},enumerable:!0,configurable:!0}),SafeSubscription.prototype.unsubscribe=function(){this._subscribed&&this._subscription&&this._subscription.unsubscribe(),this._subscribed=!1},SafeSubscription}(),processPotential=function(e,t,n){if(e&&"function"==typeof e.then)return Promise.resolve(e).then(t).catch(n);if(e&&"function"==typeof e.subscribe){var r=e;return new q((function(o){return r.subscribe({next:function(){o.subscribed&&(o.unsubscribe(),t(e))},error:function(e){o.subscribed&&(o.unsubscribe(),n(e))},complete:function(){o.subscribed&&(o.unsubscribe(),t(e))}})}))}try{return t(e)}catch(e){return n(e)}},I=function(){function CanDeactivatePreviousStep(){}return CanDeactivatePreviousStep.prototype.run=function(e,t){return processDeactivatable(e,"canDeactivate",t)},CanDeactivatePreviousStep}(),A=function(){function CanActivateNextStep(){}return CanActivateNextStep.prototype.run=function(e,t){return processActivatable(e,"canActivate",t)},CanActivateNextStep}(),O=function(){function DeactivatePreviousStep(){}return DeactivatePreviousStep.prototype.run=function(e,t){return processDeactivatable(e,"deactivate",t,!0)},DeactivatePreviousStep}(),P=function(){function ActivateNextStep(){}return ActivateNextStep.prototype.run=function(e,t){return processActivatable(e,"activate",t,!0)},ActivateNextStep}(),D=function(){function PipelineSlot(e,t,n){this.steps=[],this.container=e,this.slotName=t,this.slotAlias=n}return PipelineSlot.prototype.getSteps=function(){var e=this;return this.steps.map((function(t){return e.container.get(t)}))},PipelineSlot}(),F=function(){function PipelineProvider(e){this.container=e,this.steps=[_,I,C,createPipelineSlot(e,"authorize"),A,createPipelineSlot(e,"preActivate","modelbind"),O,P,createPipelineSlot(e,"preRender","precommit"),S,createPipelineSlot(e,"postRender","postcomplete")]}return PipelineProvider.inject=function(){return[o.Container]},PipelineProvider.prototype.createPipeline=function(e){var t=this;void 0===e&&(e=!0);var n=new f;return this.steps.forEach((function(r){(e||r!==I)&&n.addStep(t.container.get(r))})),n},PipelineProvider.prototype._findStep=function(e){return this.steps.find((function(t){return t.slotName===e||t.slotAlias===e}))},PipelineProvider.prototype.addStep=function(e,t){var n=this._findStep(e);if(!n)throw new Error("Invalid pipeline slot name: "+e+".");var r=n.steps;r.includes(t)||r.push(t)},PipelineProvider.prototype.removeStep=function(e,t){var n=this._findStep(e);if(n){var r=n.steps;r.splice(r.indexOf(t),1)}},PipelineProvider.prototype._clearSteps=function(e){void 0===e&&(e="");var t=this._findStep(e);t&&(t.steps=[])},PipelineProvider.prototype.reset=function(){this._clearSteps("authorize"),this._clearSteps("preActivate"),this._clearSteps("preRender"),this._clearSteps("postRender")},PipelineProvider}(),createPipelineSlot=function(e,t,n){return new D(e,t,n)},j=(0,r.getLogger)("app-router"),R=function(e){function AppRouter(t,n,r,o){var a=e.call(this,t,n)||this;return a.pipelineProvider=r,a.events=o,a}return function __extends(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}(AppRouter,e),AppRouter.inject=function(){return[o.Container,a.History,F,d.EventAggregator]},AppRouter.prototype.reset=function(){e.prototype.reset.call(this),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]},AppRouter.prototype.loadUrl=function(e){var t=this;return this._createNavigationInstruction(e).then((function(e){return t._queueInstruction(e)})).catch((function(e){j.error(e),restorePreviousLocation(t)}))},AppRouter.prototype.registerViewPort=function(t,n){var r=this,o=t;if(e.prototype.registerViewPort.call(this,o,n),this.isActive)this._dequeueInstruction();else{var a=this._findViewModel(o);if("configureRouter"in a){if(!this.isConfigured){var l=this._resolveConfiguredPromise;return this._resolveConfiguredPromise=function(){},this.configure((function(e){return Promise.resolve(a.configureRouter(e,r)).then((function(){return e}))})).then((function(){r.activate(),l()}))}}else this.activate()}return Promise.resolve()},AppRouter.prototype.activate=function(e){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,e),this.history.activate(this.options),this._dequeueInstruction())},AppRouter.prototype.deactivate=function(){this.isActive=!1,this.history.deactivate()},AppRouter.prototype._queueInstruction=function(e){var t=this;return new Promise((function(n){e.resolve=n,t._queue.unshift(e),t._dequeueInstruction()}))},AppRouter.prototype._dequeueInstruction=function(e){var t=this;return void 0===e&&(e=0),Promise.resolve().then((function(){if(!t.isNavigating||e){var n=t._queue.shift();if(t._queue.length=0,n){t.isNavigating=!0;var r=t.history.getState("NavigationTracker"),o=t.currentNavigationTracker;r||o?r?o?o<r?t.isNavigatingForward=!0:o>r&&(t.isNavigatingBack=!0):t.isNavigatingRefresh=!0:t.isNavigatingNew=!0:(t.isNavigatingFirst=!0,t.isNavigatingNew=!0),r||(r=Date.now(),t.history.setState("NavigationTracker",r)),t.currentNavigationTracker=r,n.previousInstruction=t.currentInstruction;var a=t.maxInstructionCount;if(e){if(e===a-1)return j.error(e+1+" navigation instructions have been attempted without success. Restoring last known good location."),restorePreviousLocation(t),t._dequeueInstruction(e+1);if(e>a)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else t.events.publish("router:navigation:processing",{instruction:n});return t.pipelineProvider.createPipeline(!t.couldDeactivate).run(n).then((function(r){return processResult(n,r,e,t)})).catch((function(e){return{output:e instanceof Error?e:new Error(e)}})).then((function(r){return resolveInstruction(n,r,!!e,t)}))}}}))},AppRouter.prototype._findViewModel=function(e){if(this.container.viewModel)return this.container.viewModel;if(e.container)for(var t=e.container;t;){if(t.viewModel)return this.container.viewModel=t.viewModel,t.viewModel;t=t.parent}},AppRouter}(m),processResult=function(e,t,n,r){t&&"completed"in t&&"output"in t||((t=t||{}).output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(t)+"] instead."));var o=null,a=null;return isNavigationCommand(t.output)?a=t.output.navigate(r):(o=t,t.completed||(t.output instanceof Error&&j.error(t.output.toString()),restorePreviousLocation(r))),Promise.resolve(a).then((function(e){return r._dequeueInstruction(n+1)})).then((function(e){return o||e||t}))},resolveInstruction=function(e,t,n,r){e.resolve(t);var o=r.events,a={instruction:e,result:t};if(n)o.publish("router:navigation:child:complete",a);else{r.isNavigating=!1,r.isExplicitNavigation=!1,r.isExplicitNavigationBack=!1,r.isNavigatingFirst=!1,r.isNavigatingNew=!1,r.isNavigatingRefresh=!1,r.isNavigatingForward=!1,r.isNavigatingBack=!1,r.couldDeactivate=!1;var l=void 0;if(t.output instanceof Error)l="router:navigation:error";else if(t.completed){var d=e.queryString?"?"+e.queryString:"";r.history.previousLocation=e.fragment+d,l="router:navigation:success"}else l="router:navigation:canceled";o.publish(l,a),o.publish("router:navigation:complete",a)}return t},restorePreviousLocation=function(e){var t=e.history.previousLocation;t?e.navigate(t,{trigger:!1,replace:!0}):e.fallbackRoute?e.navigate(e.fallbackRoute,{trigger:!0,replace:!0}):j.error("Router navigation failed, and no previous location or fallbackRoute could be restored.")};!function(e){e.Completed="completed",e.Canceled="canceled",e.Rejected="rejected",e.Running="running"}(E||(E={})),function(e){e.Processing="router:navigation:processing",e.Error="router:navigation:error",e.Canceled="router:navigation:canceled",e.Complete="router:navigation:complete",e.Success="router:navigation:success",e.ChildComplete="router:navigation:child:complete"}(k||(k={})),function(e){e.Authorize="authorize",e.PreActivate="preActivate",e.PreRender="preRender",e.PostRender="postRender"}(T||(T={}))},"./node_modules/aurelia-task-queue/dist/native-modules/aurelia-task-queue.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{TaskQueue:()=>a});var r=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function makeRequestFlushFromTimer(e){return function requestFlush(){var t=setTimeout(handleFlushTimer,0),n=setInterval(handleFlushTimer,50);function handleFlushTimer(){clearTimeout(t),clearInterval(n),e()}}}var a=function(){function TaskQueue(){var e=this;this.flushing=!1,this.longStacks=!1,this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],r.FEATURE.mutationObserver?this.requestFlushMicroTaskQueue=function makeRequestFlushFromMutationObserver(e){var t=r.DOM.createMutationObserver(e),n="a",o=r.DOM.createTextNode("a"),a=Object.create(null);return a.a="b",a.b="a",t.observe(o,{characterData:!0}),function requestFlush(){o.data=n=a[n]}}((function(){return e.flushMicroTaskQueue()})):this.requestFlushMicroTaskQueue=makeRequestFlushFromTimer((function(){return e.flushMicroTaskQueue()})),this.requestFlushTaskQueue=makeRequestFlushFromTimer((function(){return e.flushTaskQueue()}))}return TaskQueue.prototype._flushQueue=function _flushQueue(e,t){var n=0,r=void 0;try{for(this.flushing=!0;n<e.length;)if(r=e[n],this.longStacks&&(this.stack="string"==typeof r.stack?r.stack:void 0),r.call(),++n>t){for(var a=0,l=e.length-n;a<l;a++)e[a]=e[a+n];e.length-=n,n=0}}catch(e){!function onError(e,t,n){n&&t.stack&&"object"===(void 0===e?"undefined":o(e))&&null!==e&&(e.stack=filterFlushStack(e.stack)+t.stack),"onError"in t?t.onError(e):setTimeout((function(){throw e}),0)}(e,r,this.longStacks)}finally{this.flushing=!1}},TaskQueue.prototype.queueMicroTask=function queueMicroTask(e){this.microTaskQueue.length<1&&this.requestFlushMicroTaskQueue(),this.longStacks&&(e.stack=this.prepareQueueStack("\nEnqueued in MicroTaskQueue by:\n")),this.microTaskQueue.push(e)},TaskQueue.prototype.queueTask=function queueTask(e){this.taskQueue.length<1&&this.requestFlushTaskQueue(),this.longStacks&&(e.stack=this.prepareQueueStack("\nEnqueued in TaskQueue by:\n")),this.taskQueue.push(e)},TaskQueue.prototype.flushTaskQueue=function flushTaskQueue(){var e=this.taskQueue;this.taskQueue=[],this._flushQueue(e,Number.MAX_VALUE)},TaskQueue.prototype.flushMicroTaskQueue=function flushMicroTaskQueue(){var e=this.microTaskQueue;this._flushQueue(e,this.microTaskQueueCapacity),e.length=0},TaskQueue.prototype.prepareQueueStack=function prepareQueueStack(e){var t=e+function filterQueueStack(e){return e.replace(/^[\s\S]*?\bqueue(Micro)?Task\b[^\n]*\n/,"")}(function captureStack(){var e=new Error;if(e.stack)return e.stack;try{throw e}catch(e){return e.stack}}());return"string"==typeof this.stack&&(t=filterFlushStack(t)+this.stack),t},TaskQueue}();function filterFlushStack(e){var t=e.lastIndexOf("flushMicroTaskQueue");return t<0&&(t=e.lastIndexOf("flushTaskQueue"))<0||(t=e.lastIndexOf("\n",t))<0?e:e.substr(0,t)}},"aurelia-templating-binding":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AttributeMap:()=>l,ChildInterpolationBinding:()=>u,InterpolationBinding:()=>c,InterpolationBindingExpression:()=>d,LetBinding:()=>h,LetExpression:()=>p,LetInterpolationBinding:()=>m,LetInterpolationBindingExpression:()=>g,SyntaxInterpreter:()=>f,TemplatingBindingLanguage:()=>b,configure:()=>configure});var r=n("./node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),o=n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),a=n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},extendStatics(e,t)};function __decorate(e,t,n,r){var o,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(l=(a<3?o(l):a>3?o(t,n,l):o(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l}var l=function(){function AttributeMap(e){this.elements=Object.create(null),this.allElements=Object.create(null),this.svg=e,this.registerUniversal("accesskey","accessKey"),this.registerUniversal("contenteditable","contentEditable"),this.registerUniversal("tabindex","tabIndex"),this.registerUniversal("textcontent","textContent"),this.registerUniversal("innerhtml","innerHTML"),this.registerUniversal("scrolltop","scrollTop"),this.registerUniversal("scrollleft","scrollLeft"),this.registerUniversal("readonly","readOnly"),this.register("label","for","htmlFor"),this.register("img","usemap","useMap"),this.register("input","maxlength","maxLength"),this.register("input","minlength","minLength"),this.register("input","formaction","formAction"),this.register("input","formenctype","formEncType"),this.register("input","formmethod","formMethod"),this.register("input","formnovalidate","formNoValidate"),this.register("input","formtarget","formTarget"),this.register("textarea","maxlength","maxLength"),this.register("td","rowspan","rowSpan"),this.register("td","colspan","colSpan"),this.register("th","rowspan","rowSpan"),this.register("th","colspan","colSpan")}return AttributeMap.prototype.register=function(e,t,n){e=e.toLowerCase(),t=t.toLowerCase(),(this.elements[e]=this.elements[e]||Object.create(null))[t]=n},AttributeMap.prototype.registerUniversal=function(e,t){e=e.toLowerCase(),this.allElements[e]=t},AttributeMap.prototype.map=function(e,t){if(this.svg.isStandardSvgAttribute(e,t))return t;e=e.toLowerCase(),t=t.toLowerCase();var n=this.elements[e];return void 0!==n&&t in n?n[t]:t in this.allElements?this.allElements[t]:/(?:^data-)|(?:^aria-)|:/.test(t)?t:(0,o.camelCase)(t)},AttributeMap.inject=[o.SVGAnalyzer],AttributeMap}(),d=function(){function InterpolationBindingExpression(e,t,n,r,o,a){this.observerLocator=e,this.targetProperty=t,this.parts=n,this.mode=r,this.lookupFunctions=o,this.attribute=this.attrToRemove=a,this.discrete=!1}return InterpolationBindingExpression.prototype.createBinding=function(e){return 3===this.parts.length?new u(e,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new c(this.observerLocator,this.parts,e,this.targetProperty,this.mode,this.lookupFunctions)},InterpolationBindingExpression}();function validateTarget(e,t){if("style"===t)a.getLogger("templating-binding").info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(e.parentElement&&"TEXTAREA"===e.parentElement.nodeName&&"textContent"===t)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}var c=function(){function InterpolationBinding(e,t,n,r,o,a){validateTarget(n,r),this.observerLocator=e,this.parts=t,this.target=n,this.targetProperty=r,this.targetAccessor=e.getAccessor(n,r),this.mode=o,this.lookupFunctions=a}return InterpolationBinding.prototype.interpolate=function(){if(this.isBound){for(var e="",t=this.parts,n=0,r=t.length;n<r;n++)e+=n%2==0?t[n]:this["childBinding".concat(n)].value;this.targetAccessor.setValue(e,this.target,this.targetProperty)}},InterpolationBinding.prototype.updateOneTimeBindings=function(){for(var e=1,t=this.parts.length;e<t;e+=2){var n=this["childBinding".concat(e)];n.mode===o.bindingMode.oneTime&&n.call()}},InterpolationBinding.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.source=e;for(var t=this.parts,n=1,r=t.length;n<r;n+=2){var o=new u(this,this.observerLocator,t[n],this.mode,this.lookupFunctions);o.bind(e),this["childBinding".concat(n)]=o}this.isBound=!0,this.interpolate()},InterpolationBinding.prototype.unbind=function(){if(this.isBound){this.isBound=!1,this.source=null;for(var e=1,t=this.parts.length;e<t;e+=2){this["childBinding".concat(e)].unbind()}}},InterpolationBinding}(),u=function(){function ChildInterpolationBinding(e,t,n,r,o,a,l,d){e instanceof c?this.parent=e:(validateTarget(e,a),this.target=e,this.targetProperty=a,this.targetAccessor=t.getAccessor(e,a)),this.observerLocator=t,this.sourceExpression=n,this.mode=r,this.lookupFunctions=o,this.left=l,this.right=d}return ChildInterpolationBinding.prototype.updateTarget=function(e){(e=null==e?"":e.toString())!==this.value&&(this.value=e,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+e+this.right,this.target,this.targetProperty))},ChildInterpolationBinding.prototype.call=function(){this.isBound&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode!==o.bindingMode.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue),this.unobserve(!1)))},ChildInterpolationBinding.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e;var t=this.sourceExpression;t.bind&&t.bind(this,e,this.lookupFunctions),this.rawValue=t.evaluate(e,this.lookupFunctions),this.updateTarget(this.rawValue),this.mode===o.bindingMode.oneWay&&(0,o.enqueueBindingConnect)(this)},ChildInterpolationBinding.prototype.unbind=function(){if(this.isBound){this.isBound=!1;var e=this.sourceExpression;e.unbind&&e.unbind(this,this.source),this.source=null,this.value=null,this.rawValue=null,this.unobserve(!0)}},ChildInterpolationBinding.prototype.connect=function(e){this.isBound&&(e&&(this.rawValue=this.sourceExpression.evaluate(this.source,this.lookupFunctions),this.updateTarget(this.rawValue)),this.sourceExpression.connect(this,this.source),this.rawValue instanceof Array&&this.observeArray(this.rawValue))},ChildInterpolationBinding=__decorate([(0,o.connectable)()],ChildInterpolationBinding)}(),p=function(){function LetExpression(e,t,n,r,o){this.observerLocator=e,this.sourceExpression=n,this.targetProperty=t,this.lookupFunctions=r,this.toBindingContext=o}return LetExpression.prototype.createBinding=function(){return new h(this.observerLocator,this.sourceExpression,this.targetProperty,this.lookupFunctions,this.toBindingContext)},LetExpression}(),h=function(){function LetBinding(e,t,n,r,o){this.observerLocator=e,this.sourceExpression=t,this.targetProperty=n,this.lookupFunctions=r,this.source=null,this.target=null,this.toBindingContext=o}return LetBinding.prototype.updateTarget=function(){var e=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.target[this.targetProperty]=e},LetBinding.prototype.call=function(e){if(this.isBound){if(e!==o.sourceContext)throw new Error("Unexpected call context ".concat(e));this.updateTarget()}},LetBinding.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.target=this.toBindingContext?e.bindingContext:e.overrideContext,this.sourceExpression.bind&&this.sourceExpression.bind(this,e,this.lookupFunctions),(0,o.enqueueBindingConnect)(this)},LetBinding.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.target=null,this.unobserve(!0))},LetBinding.prototype.unobserve=function(e){throw new Error("Method not implemented.")},LetBinding.prototype.connect=function(){this.isBound&&(this.updateTarget(),this.sourceExpression.connect(this,this.source))},LetBinding=__decorate([(0,o.connectable)()],LetBinding)}(),g=function(){function LetInterpolationBindingExpression(e,t,n,r,o){this.observerLocator=e,this.targetProperty=t,this.parts=n,this.lookupFunctions=r,this.toBindingContext=o}return LetInterpolationBindingExpression.prototype.createBinding=function(){return new m(this.observerLocator,this.targetProperty,this.parts,this.lookupFunctions,this.toBindingContext)},LetInterpolationBindingExpression}(),m=function(){function LetInterpolationBinding(e,t,n,r,o){this.observerLocator=e,this.parts=n,this.targetProperty=t,this.lookupFunctions=r,this.toBindingContext=o,this.target=null}return LetInterpolationBinding.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.unbind()}this.isBound=!0,this.source=e,this.target=this.toBindingContext?e.bindingContext:e.overrideContext,this.interpolationBinding=this.createInterpolationBinding(),this.interpolationBinding.bind(e)},LetInterpolationBinding.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.source=null,this.target=null,this.interpolationBinding.unbind(),this.interpolationBinding=null)},LetInterpolationBinding.prototype.createInterpolationBinding=function(){return 3===this.parts.length?new u(this.target,this.observerLocator,this.parts[1],o.bindingMode.toView,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new c(this.observerLocator,this.parts,this.target,this.targetProperty,o.bindingMode.toView,this.lookupFunctions)},LetInterpolationBinding}(),f=function(){function SyntaxInterpreter(e,t,n,r){this.parser=e,this.observerLocator=t,this.eventManager=n,this.attributeMap=r}return SyntaxInterpreter.prototype.interpret=function(e,t,n,r,o){return n.command in this?this[n.command](e,t,n,r,o):this.handleUnknownCommand(e,t,n,r,o)},SyntaxInterpreter.prototype.handleUnknownCommand=function(e,t,n,r,o){return a.getLogger("templating-binding").warn("Unknown binding command.",n),r},SyntaxInterpreter.prototype.determineDefaultBindingMode=function(e,t,n){var r=e.tagName.toLowerCase();return"input"===r&&("value"===t||"files"===t)&&"checkbox"!==e.type&&"radio"!==e.type||"input"===r&&"checked"===t&&("checkbox"===e.type||"radio"===e.type)||("textarea"===r||"select"===r)&&"value"===t||("textcontent"===t||"innerhtml"===t)&&"true"===e.contentEditable||"scrolltop"===t||"scrollleft"===t?o.bindingMode.twoWay:n&&t in n.attributes&&n.attributes[t]&&n.attributes[t].defaultBindingMode>=o.bindingMode.oneTime?n.attributes[t].defaultBindingMode:o.bindingMode.toView},SyntaxInterpreter.prototype.bind=function(e,t,n,a,l){var d=a||r.BehaviorInstruction.attribute(n.attrName);return d.attributes[n.attrName]=new o.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,n.attrName),this.parser.parse(n.attrValue),void 0===n.defaultBindingMode||null===n.defaultBindingMode?this.determineDefaultBindingMode(t,n.attrName,l):n.defaultBindingMode,e.lookupFunctions),d},SyntaxInterpreter.prototype.trigger=function(e,t,n){return new o.ListenerExpression(this.eventManager,n.attrName,this.parser.parse(n.attrValue),o.delegationStrategy.none,!0,e.lookupFunctions)},SyntaxInterpreter.prototype.capture=function(e,t,n){return new o.ListenerExpression(this.eventManager,n.attrName,this.parser.parse(n.attrValue),o.delegationStrategy.capturing,!0,e.lookupFunctions)},SyntaxInterpreter.prototype.delegate=function(e,t,n){return new o.ListenerExpression(this.eventManager,n.attrName,this.parser.parse(n.attrValue),o.delegationStrategy.bubbling,!0,e.lookupFunctions)},SyntaxInterpreter.prototype.call=function(e,t,n,a){var l=a||r.BehaviorInstruction.attribute(n.attrName);return l.attributes[n.attrName]=new o.CallExpression(this.observerLocator,n.attrName,this.parser.parse(n.attrValue),e.lookupFunctions),l},SyntaxInterpreter.prototype.options=function(e,t,n,o,a){var l,d,c,u=o||r.BehaviorInstruction.attribute(n.attrName),p=n.attrValue,h=this.language,g=null,m="",f=!1,v=!1,b=!1;for(d=0,c=p.length;d<c;++d){if(";"!==(l=p[d])||f)if(":"===l&&null===g)b=!0,g=m.trim(),m="";else{if("\\"===l){m+=l,v=!0;continue}m+=l,null!==g&&!1===v&&"'"===l&&(f=!f)}else b||(g=this._getPrimaryPropertyName(e,a)),n=h.inspectAttribute(e,"?",g,m.trim()),h.createAttributeInstruction(e,t,n,u,a),u.attributes[n.attrName]||(u.attributes[n.attrName]=n.attrValue),m="",g=null;v=!1}return b||(g=this._getPrimaryPropertyName(e,a)),null!==g&&(n=h.inspectAttribute(e,"?",g,m.trim()),h.createAttributeInstruction(e,t,n,u,a),u.attributes[n.attrName]||(u.attributes[n.attrName]=n.attrValue)),u},SyntaxInterpreter.prototype._getPrimaryPropertyName=function(e,t){var n=e.getAttribute(t.attributeName);return n&&n.primaryProperty?n.primaryProperty.attribute:null},SyntaxInterpreter.prototype.for=function(e,t,n,a){var l,d,c,u,p;if(2!==(l=(p=(u=n.attrValue).match(/^ *[[].+[\]]/))?u.split("of "):u.split(" of ")).length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return c=a||r.BehaviorInstruction.attribute(n.attrName),p?(d=l[0].replace(/[[\]]/g,"").replace(/,/g," ").replace(/\s+/g," ").trim().split(" "),c.attributes.key=d[0],c.attributes.value=d[1]):c.attributes.local=l[0],c.attributes.items=new o.BindingExpression(this.observerLocator,"items",this.parser.parse(l[1]),o.bindingMode.toView,e.lookupFunctions),c},SyntaxInterpreter.prototype["two-way"]=function(e,t,n,a){var l=a||r.BehaviorInstruction.attribute(n.attrName);return l.attributes[n.attrName]=new o.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,n.attrName),this.parser.parse(n.attrValue),o.bindingMode.twoWay,e.lookupFunctions),l},SyntaxInterpreter.prototype["to-view"]=function(e,t,n,a){var l=a||r.BehaviorInstruction.attribute(n.attrName);return l.attributes[n.attrName]=new o.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,n.attrName),this.parser.parse(n.attrValue),o.bindingMode.toView,e.lookupFunctions),l},SyntaxInterpreter.prototype["from-view"]=function(e,t,n,a){var l=a||r.BehaviorInstruction.attribute(n.attrName);return l.attributes[n.attrName]=new o.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,n.attrName),this.parser.parse(n.attrValue),o.bindingMode.fromView,e.lookupFunctions),l},SyntaxInterpreter.prototype["one-time"]=function(e,t,n,a){var l=a||r.BehaviorInstruction.attribute(n.attrName);return l.attributes[n.attrName]=new o.BindingExpression(this.observerLocator,this.attributeMap.map(t.tagName,n.attrName),this.parser.parse(n.attrValue),o.bindingMode.oneTime,e.lookupFunctions),l},SyntaxInterpreter.inject=[o.Parser,o.ObserverLocator,o.EventManager,l],SyntaxInterpreter}();Object.defineProperty(f.prototype,"one-way",Object.getOwnPropertyDescriptor(f.prototype,"to-view"));var v={},b=function(e){function TemplatingBindingLanguage(t,n,r,o){var a=e.call(this)||this;return a.parser=t,a.observerLocator=n,a.syntaxInterpreter=r,a.emptyStringExpression=a.parser.parse("''"),r.language=a,a.attributeMap=o,a.toBindingContextAttr="to-binding-context",a}return function __extends(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}(TemplatingBindingLanguage,e),TemplatingBindingLanguage.prototype.inspectAttribute=function(e,t,n,r){var a=n.split(".");if(v.defaultBindingMode=null,2===a.length)v.attrName=a[0].trim(),v.attrValue=r,v.command=a[1].trim(),"ref"===v.command?(v.expression=new o.NameExpression(this.parser.parse(r),v.attrName,e.lookupFunctions),v.command=null,v.attrName="ref"):v.expression=null;else if("ref"===n)v.attrName=n,v.attrValue=r,v.command=null,v.expression=new o.NameExpression(this.parser.parse(r),"element",e.lookupFunctions);else{v.attrName=n,v.attrValue=r,v.command=null;var l=this.parseInterpolation(e,r);v.expression=null===l?null:new d(this.observerLocator,this.attributeMap.map(t,n),l,o.bindingMode.toView,e.lookupFunctions,n)}return v},TemplatingBindingLanguage.prototype.createAttributeInstruction=function(e,t,n,o,a){var l;if(n.expression){if("ref"===n.attrName)return n.expression;(l=o||r.BehaviorInstruction.attribute(n.attrName)).attributes[n.attrName]=n.expression}else n.command&&(l=this.syntaxInterpreter.interpret(e,t,n,o,a));return l},TemplatingBindingLanguage.prototype.createLetExpressions=function(e,t){for(var n,r,l,d,c=[],u=t.attributes,h=this.toBindingContextAttr,m=t.hasAttribute(h),f=0,v=u.length;v>f;++f)if(l=(n=u[f]).name,d=n.nodeValue,r=l.split("."),l!==h)if(2===r.length){if("bind"!==r[1]){a.getLogger("templating-binding-language").warn('Detected invalid let command. Expected "'.concat(r[0],'.bind", given "').concat(l,'"'));continue}c.push(new p(this.observerLocator,(0,o.camelCase)(r[0]),this.parser.parse(d),e.lookupFunctions,m))}else l=(0,o.camelCase)(l),null===(r=this.parseInterpolation(e,d))&&a.getLogger("templating-binding-language").warn('Detected string literal in let bindings. Did you mean "'.concat(l,".bind=").concat(d,'" or "').concat(l,"=${").concat(d,'}" ?')),r?c.push(new g(this.observerLocator,l,r,e.lookupFunctions,m)):c.push(new p(this.observerLocator,l,new o.LiteralString(d),e.lookupFunctions,m));return c},TemplatingBindingLanguage.prototype.inspectTextContent=function(e,t){var n=this.parseInterpolation(e,t);return null===n?null:new d(this.observerLocator,"textContent",n,o.bindingMode.toView,e.lookupFunctions,"textContent")},TemplatingBindingLanguage.prototype.parseInterpolation=function(e,t){for(var n,r,o,a=t.indexOf("${",0),l=t.length,d=0,c=0,u=null,p=0;a>=0&&a<l-2;){c=1,r=a,a+=2;do{n=t[a],a++,"'"!==n&&'"'!==n?"\\"!==n?null===u&&("{"===n?c++:"}"===n&&c--):a++:null===u?u=n:u===n&&(u=null)}while(c>0&&a<l);if(0!==c)break;o=o||[],"\\"===t[r-1]&&"\\"!==t[r-2]?(o[p]=t.substring(d,r-1)+t.substring(r,a),o[++p]=this.emptyStringExpression,p++):(o[p]=t.substring(d,r),o[++p]=this.parser.parse(t.substring(r+2,a-1)),p++),d=a,a=t.indexOf("${",a)}return 0===p?null:(o[p]=t.substr(d),o)},TemplatingBindingLanguage.inject=[o.Parser,o.ObserverLocator,f,l],TemplatingBindingLanguage}(r.BindingLanguage);function configure(e){e.container.registerSingleton(r.BindingLanguage,b),e.container.registerAlias(r.BindingLanguage,b)}},"aurelia-templating-resources":(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbstractRepeater:()=>q,ArrayRepeatStrategy:()=>x,AttrBindingBehavior:()=>H,BindingSignaler:()=>ee,Compose:()=>m,DebounceBindingBehavior:()=>Z,Else:()=>b,Focus:()=>L,FromViewBindingBehavior:()=>G,HTMLSanitizer:()=>j,Hide:()=>F,If:()=>v,MapRepeatStrategy:()=>C,NullRepeatStrategy:()=>S,NumberRepeatStrategy:()=>E,OneTimeBindingBehavior:()=>U,OneWayBindingBehavior:()=>Q,Repeat:()=>A,RepeatStrategyLocator:()=>T,Replaceable:()=>N,SanitizeHTMLValueConverter:()=>R,SelfBindingBehavior:()=>J,SetRepeatStrategy:()=>k,Show:()=>D,SignalBindingBehavior:()=>te,ThrottleBindingBehavior:()=>X,ToViewBindingBehavior:()=>W,TwoWayBindingBehavior:()=>K,UpdateTriggerBindingBehavior:()=>ie,With:()=>y,configure:()=>configure,createFullOverrideContext:()=>createFullOverrideContext,getItemsSourceExpression:()=>getItemsSourceExpression,isOneTime:()=>isOneTime,unwrapExpression:()=>unwrapExpression,updateOneTimeBinding:()=>updateOneTimeBinding,updateOverrideContext:()=>updateOverrideContext,viewsRequireLifecycle:()=>viewsRequireLifecycle});var r,o=n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),a=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),l=n("./node_modules/aurelia-task-queue/dist/native-modules/aurelia-task-queue.js"),d=n("./node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),c=n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),u=n("./node_modules/aurelia-loader/dist/native-modules/aurelia-loader.js"),p=n("./node_modules/aurelia-path/dist/native-modules/aurelia-path.js"),h=n("./node_modules/aurelia-metadata/dist/native-modules/aurelia-metadata.js"),g=n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},extendStatics(e,t)};function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}function __decorate(e,t,n,r){var o,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(l=(a<3?o(l):a>3?o(t,n,l):o(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l}!function(e){e.InvokeLifecycle="invoke-lifecycle",e.Replace="replace"}(r||(r={}));var m=function(){function Compose(e,t,n,o,a,l){this.activationStrategy=r.InvokeLifecycle,this.element=e,this.container=t,this.compositionEngine=n,this.viewSlot=o,this.viewResources=a,this.taskQueue=l,this.currentController=null,this.currentViewModel=null,this.changes=Object.create(null)}return Compose.inject=function(){return[a.DOM.Element,o.Container,d.CompositionEngine,d.ViewSlot,d.ViewResources,l.TaskQueue]},Compose.prototype.created=function(e){this.owningView=e},Compose.prototype.bind=function(e,t){this.bindingContext=e,this.overrideContext=t;var n=this.changes;n.view=this.view,n.viewModel=this.viewModel,n.model=this.model,this.pendingTask||processChanges(this)},Compose.prototype.unbind=function(){this.changes=Object.create(null),this.bindingContext=null,this.overrideContext=null;this.viewSlot.removeAll(!0,!0)},Compose.prototype.modelChanged=function(e,t){this.changes.model=e,requestUpdate(this)},Compose.prototype.viewChanged=function(e,t){this.changes.view=e,requestUpdate(this)},Compose.prototype.viewModelChanged=function(e,t){this.changes.viewModel=e,requestUpdate(this)},__decorate([d.bindable],Compose.prototype,"model",void 0),__decorate([d.bindable],Compose.prototype,"view",void 0),__decorate([d.bindable],Compose.prototype,"viewModel",void 0),__decorate([d.bindable],Compose.prototype,"activationStrategy",void 0),__decorate([d.bindable],Compose.prototype,"swapOrder",void 0),Compose=__decorate([d.noView,(0,d.customElement)("compose")],Compose)}();function processChanges(e){var t=e.changes;if(e.changes=Object.create(null),function needsReInitialization(e,t){var n=e.activationStrategy,o=e.currentViewModel;o&&"function"==typeof o.determineActivationStrategy&&(n=o.determineActivationStrategy());return"view"in t||"viewModel"in t||n===r.Replace}(e,t)){var n={view:e.view,viewModel:e.currentViewModel||e.viewModel,model:e.model};n=Object.assign(n,t),n=function createInstruction(e,t){return Object.assign(t,{bindingContext:e.bindingContext,overrideContext:e.overrideContext,owningView:e.owningView,container:e.container,viewSlot:e.viewSlot,viewResources:e.viewResources,currentController:e.currentController,host:e.element,swapOrder:e.swapOrder})}(e,n),e.pendingTask=e.compositionEngine.compose(n).then((function(t){e.currentController=t,e.currentViewModel=t?t.viewModel:null}))}else if(e.pendingTask=function tryActivateViewModel(e,t){if(e&&"function"==typeof e.activate)return Promise.resolve(e.activate(t))}(e.currentViewModel,t.model),!e.pendingTask)return;e.pendingTask=e.pendingTask.then((function(){completeCompositionTask(e)}),(function(t){throw completeCompositionTask(e),t}))}function completeCompositionTask(e){e.pendingTask=null,function isEmpty(e){for(var t in e)return!1;return!0}(e.changes)||processChanges(e)}function requestUpdate(e){e.pendingTask||e.updateRequested||(e.updateRequested=!0,e.taskQueue.queueMicroTask((function(){e.updateRequested=!1,processChanges(e)})))}var f=function(){function IfCore(e,t){this.viewFactory=e,this.viewSlot=t,this.view=null,this.bindingContext=null,this.overrideContext=null,this.showing=!1,this.cache=!0}return IfCore.prototype.bind=function(e,t){this.bindingContext=e,this.overrideContext=t},IfCore.prototype.unbind=function(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing?(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)):this.view.returnToCache(),this.view=null))},IfCore.prototype._show=function(){if(!this.showing)return null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),this.showing=!0,this.viewSlot.add(this.view);this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext)},IfCore.prototype._hide=function(){var e=this;if(this.showing){this.showing=!1;var t=this.viewSlot.remove(this.view);if(t instanceof Promise)return t.then((function(){e._unbindView()}));this._unbindView()}},IfCore.prototype._unbindView=function(){var e="false"!==this.cache&&!!this.cache;this.view.unbind(),e||(this.view=null)},IfCore}(),v=function(e){function If(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache=!0,t}return __extends(If,e),If.prototype.bind=function(t,n){e.prototype.bind.call(this,t,n),this.condition?this._show():this._hide()},If.prototype.conditionChanged=function(e){this._update(e)},If.prototype._update=function(e){var t,n=this;this.animating||(t=this.elseVm?e?this._swap(this.elseVm,this):this._swap(this,this.elseVm):e?this._show():this._hide())&&(this.animating=!0,t.then((function(){n.animating=!1,n.condition!==n.showing&&n._update(n.condition)})))},If.prototype._swap=function(e,t){switch(this.swapOrder){case"before":return Promise.resolve(t._show()).then((function(){return e._hide()}));case"with":return Promise.all([e._hide(),t._show()]);default:var n=e._hide();return n?n.then((function(){return t._show()})):t._show()}},__decorate([(0,d.bindable)({primaryProperty:!0})],If.prototype,"condition",void 0),__decorate([d.bindable],If.prototype,"swapOrder",void 0),__decorate([d.bindable],If.prototype,"cache",void 0),If=__decorate([(0,d.customAttribute)("if"),d.templateController,(0,o.inject)(d.BoundViewFactory,d.ViewSlot)],If)}(f),b=function(e){function Else(t,n){var r=e.call(this,t,n)||this;return r._registerInIf(),r}return __extends(Else,e),Else.prototype.bind=function(t,n){e.prototype.bind.call(this,t,n),this.ifVm.condition?this._hide():this._show()},Else.prototype._registerInIf=function(){for(var e=this.viewSlot.anchor.previousSibling;e&&!e.au;)e=e.previousSibling;if(!e||!e.au.if)throw new Error("Can't find matching If for Else custom attribute.");this.ifVm=e.au.if.viewModel,this.ifVm.elseVm=this},Else=__decorate([(0,d.customAttribute)("else"),d.templateController,(0,o.inject)(d.BoundViewFactory,d.ViewSlot)],Else)}(f),y=function(){function With(e,t){this.viewFactory=e,this.viewSlot=t,this.parentOverrideContext=null,this.view=null}return With.prototype.bind=function(e,t){this.parentOverrideContext=t,this.valueChanged(this.value)},With.prototype.valueChanged=function(e){var t=(0,c.createOverrideContext)(e,this.parentOverrideContext),n=this.view;n?n.bind(e,t):((n=this.view=this.viewFactory.create()).bind(e,t),this.viewSlot.add(n))},With.prototype.unbind=function(){var e=this.view;this.parentOverrideContext=null,e&&e.unbind()},With=__decorate([(0,d.customAttribute)("with"),d.templateController,(0,o.inject)(d.BoundViewFactory,d.ViewSlot)],With)}(),_=c.bindingMode.oneTime;function updateOverrideContexts(e,t){var n=e.length;for(t>0&&(t-=1);t<n;++t)updateOverrideContext(e[t].overrideContext,t,n)}function createFullOverrideContext(e,t,n,r,o){var a={},l=(0,c.createOverrideContext)(a,e.scope.overrideContext);return void 0!==o?(a[e.key]=o,a[e.value]=t):a[e.local]=t,updateOverrideContext(l,n,r),l}function updateOverrideContext(e,t,n){var r=0===t,o=t===n-1,a=t%2==0;e.$index=t,e.$first=r,e.$last=o,e.$middle=!(r||o),e.$odd=!a,e.$even=a}function getItemsSourceExpression(e,t){return e.behaviorInstructions.filter((function(e){return e.originalAttrName===t}))[0].attributes.items.sourceExpression}function unwrapExpression(e){for(var t=!1;e instanceof c.BindingBehavior;)e=e.expression;for(;e instanceof c.ValueConverter;)e=e.expression,t=!0;return t?e:null}function isOneTime(e){for(;e instanceof c.BindingBehavior;){if("oneTime"===e.name)return!0;e=e.expression}return!1}function updateOneTimeBinding(e){e.call&&e.mode===_?e.call(c.sourceContext):e.updateOneTimeBindings&&e.updateOneTimeBindings()}function indexOf(e,t,n,r){if(!n)return e.indexOf(t);for(var o=e.length,a=r||0;a<o;a++)if(n(e[a],t))return a;return-1}var x=function(){function ArrayRepeatStrategy(){}return ArrayRepeatStrategy.prototype.getCollectionObserver=function(e,t){return e.getArrayObserver(t)},ArrayRepeatStrategy.prototype.instanceChanged=function(e,t){var n=this,r=e,o=t.length;if(t&&0!==o){var a=r.views(),l=a.length;if(0!==l)if(r.viewsRequireLifecycle){for(var d=a.slice(0),c=r.local,u=r.matcher(),p=[],h=[],g=0;g<l;g++){var m=d[g],f=m.bindingContext[c];-1===indexOf(t,f,u)?h.push(m):p.push(f)}var v=void 0,b=void 0;p.length>0?(b=r.removeViews(h,!0,!r.viewsRequireLifecycle),v=function(){for(var e=0;e<o;e++){var l=t[e],d=indexOf(p,l,u,e),c=void 0;if(-1===d){var h=createFullOverrideContext(r,t[e],e,o);r.insertView(e,h.bindingContext,h),p.splice(e,0,void 0)}else d===e?(c=a[d],p[d]=void 0):(c=a[d],r.moveView(d,e),p.splice(d,1),p.splice(e,0,void 0));c&&updateOverrideContext(c.overrideContext,e,o)}n._inPlaceProcessItems(r,t)}):(b=r.removeAllViews(!0,!r.viewsRequireLifecycle),v=function(){return n._standardProcessInstanceChanged(r,t)}),b instanceof Promise?b.then(v):v()}else this._inPlaceProcessItems(r,t);else this._standardProcessInstanceChanged(r,t)}else r.removeAllViews(!0,!r.viewsRequireLifecycle)},ArrayRepeatStrategy.prototype._standardProcessInstanceChanged=function(e,t){for(var n=0,r=t.length;n<r;n++){var o=createFullOverrideContext(e,t[n],n,r);e.addView(o.bindingContext,o)}},ArrayRepeatStrategy.prototype._inPlaceProcessItems=function(e,t){for(var n=t.length,r=e.viewCount();r>n;)r--,e.removeView(r,!0,!e.viewsRequireLifecycle);for(var o=e.local,a=0;a<r;a++){var l=e.view(a),d=a===n-1,c=0!==a&&!d,u=l.bindingContext,p=l.overrideContext;u[o]===t[a]&&p.$middle===c&&p.$last===d||(u[o]=t[a],p.$middle=c,p.$last=d,e.updateBindings(l))}for(a=r;a<n;a++){p=createFullOverrideContext(e,t[a],a,n);e.addView(p.bindingContext,p)}},ArrayRepeatStrategy.prototype.instanceMutated=function(e,t,n){var r=this;if(e.__queuedSplices){for(var o=0,a=n.length;o<a;++o){var l=n[o],d=l.index,u=l.removed,p=l.addedCount;(0,c.mergeSplice)(e.__queuedSplices,d,u,p)}e.__array=t.slice(0)}else{var h=this._runSplices(e,t.slice(0),n);if(h instanceof Promise){var g=e.__queuedSplices=[],runQueuedSplices_1=function(){if(!g.length)return e.__queuedSplices=void 0,void(e.__array=void 0);var t=r._runSplices(e,e.__array,g)||Promise.resolve();g=e.__queuedSplices=[],t.then(runQueuedSplices_1)};h.then(runQueuedSplices_1)}}},ArrayRepeatStrategy.prototype._runSplices=function(e,t,n){for(var r=this,o=0,a=[],l=0,d=n.length;l<d;++l){for(var c=n[l],u=0,p=c.removed.length;u<p;++u){var h=e.removeView(c.index+o+a.length,!0);h instanceof Promise&&a.push(h)}o-=c.addedCount}if(a.length>0)return Promise.all(a).then((function(){var o=r._handleAddedSplices(e,t,n);updateOverrideContexts(e.views(),o)}));var g=this._handleAddedSplices(e,t,n);updateOverrideContexts(e.views(),g)},ArrayRepeatStrategy.prototype._handleAddedSplices=function(e,t,n){for(var r,o,a=t.length,l=0,d=n.length;l<d;++l){var c=n[l],u=r=c.index,p=c.index+c.addedCount;for((null==o||o>c.index)&&(o=r);u<p;++u){var h=createFullOverrideContext(e,t[u],u,a);e.insertView(u,h.bindingContext,h)}}return o},ArrayRepeatStrategy}(),C=function(){function MapRepeatStrategy(){}return MapRepeatStrategy.prototype.getCollectionObserver=function(e,t){return e.getMapObserver(t)},MapRepeatStrategy.prototype.instanceChanged=function(e,t){var n=this,r=e.removeAllViews(!0,!e.viewsRequireLifecycle);r instanceof Promise?r.then((function(){return n._standardProcessItems(e,t)})):this._standardProcessItems(e,t)},MapRepeatStrategy.prototype._standardProcessItems=function(e,t){var n,r=0;t.forEach((function(o,a){n=createFullOverrideContext(e,o,r,t.size,a),e.addView(n.bindingContext,n),++r}))},MapRepeatStrategy.prototype.instanceMutated=function(e,t,n){var r,o,a,l,d,c,u,p,h=[];for(o=0,a=n.length;o<a;++o)switch(r=(u=n[o]).key,u.type){case"update":d=this._getViewIndexByKey(e,r),(p=e.removeView(d,!0,!e.viewsRequireLifecycle))instanceof Promise&&h.push(p),l=createFullOverrideContext(e,t.get(r),d,t.size,r),e.insertView(d,l.bindingContext,l);break;case"add":c=e.viewCount()<=t.size-1?e.viewCount():t.size-1,l=createFullOverrideContext(e,t.get(r),c,t.size,r),e.insertView(t.size-1,l.bindingContext,l);break;case"delete":if(void 0===u.oldValue)return;d=this._getViewIndexByKey(e,r),(p=e.removeView(d,!0,!e.viewsRequireLifecycle))instanceof Promise&&h.push(p);break;case"clear":e.removeAllViews(!0,!e.viewsRequireLifecycle);break;default:continue}h.length>0?Promise.all(h).then((function(){updateOverrideContexts(e.views(),0)})):updateOverrideContexts(e.views(),0)},MapRepeatStrategy.prototype._getViewIndexByKey=function(e,t){var n,r;for(n=0,r=e.viewCount();n<r;++n)if(e.view(n).bindingContext[e.key]===t)return n},MapRepeatStrategy}(),S=function(){function NullRepeatStrategy(){}return NullRepeatStrategy.prototype.instanceChanged=function(e,t){e.removeAllViews(!0)},NullRepeatStrategy.prototype.getCollectionObserver=function(e,t){},NullRepeatStrategy}(),E=function(){function NumberRepeatStrategy(){}return NumberRepeatStrategy.prototype.getCollectionObserver=function(){return null},NumberRepeatStrategy.prototype.instanceChanged=function(e,t){var n=this,r=e.removeAllViews(!0,!e.viewsRequireLifecycle);r instanceof Promise?r.then((function(){return n._standardProcessItems(e,t)})):this._standardProcessItems(e,t)},NumberRepeatStrategy.prototype._standardProcessItems=function(e,t){var n,r,o,a,l=e.viewCount();if((a=l-(t=Math.floor(t)))>0)for(a>l&&(a=l),n=0,r=a;n<r;++n)e.removeView(l-(n+1),!0,!e.viewsRequireLifecycle);else{for(n=l,r=t;n<r;++n)o=createFullOverrideContext(e,n,n,r),e.addView(o.bindingContext,o);updateOverrideContexts(e.views(),0)}},NumberRepeatStrategy}(),k=function(){function SetRepeatStrategy(){}return SetRepeatStrategy.prototype.getCollectionObserver=function(e,t){return e.getSetObserver(t)},SetRepeatStrategy.prototype.instanceChanged=function(e,t){var n=this,r=e.removeAllViews(!0,!e.viewsRequireLifecycle);r instanceof Promise?r.then((function(){return n._standardProcessItems(e,t)})):this._standardProcessItems(e,t)},SetRepeatStrategy.prototype._standardProcessItems=function(e,t){var n,r=0;t.forEach((function(o){n=createFullOverrideContext(e,o,r,t.size),e.addView(n.bindingContext,n),++r}))},SetRepeatStrategy.prototype.instanceMutated=function(e,t,n){var r,o,a,l,d,c,u,p=[];for(o=0,a=n.length;o<a;++o)switch(r=(c=n[o]).value,c.type){case"add":var h=Math.max(t.size-1,0);l=createFullOverrideContext(e,r,h,t.size),e.insertView(h,l.bindingContext,l);break;case"delete":d=this._getViewIndexByValue(e,r),(u=e.removeView(d,!0,!e.viewsRequireLifecycle))instanceof Promise&&p.push(u);break;case"clear":e.removeAllViews(!0,!e.viewsRequireLifecycle);break;default:continue}p.length>0?Promise.all(p).then((function(){updateOverrideContexts(e.views(),0)})):updateOverrideContexts(e.views(),0)},SetRepeatStrategy.prototype._getViewIndexByValue=function(e,t){var n,r;for(n=0,r=e.viewCount();n<r;++n)if(e.view(n).bindingContext[e.local]===t)return n},SetRepeatStrategy}(),T=function(){function RepeatStrategyLocator(){this.matchers=[],this.strategies=[],this.addStrategy((function(e){return null==e}),new S),this.addStrategy((function(e){return e instanceof Array}),new x),this.addStrategy((function(e){return e instanceof Map}),new C),this.addStrategy((function(e){return e instanceof Set}),new k),this.addStrategy((function(e){return"number"==typeof e}),new E)}return RepeatStrategyLocator.prototype.addStrategy=function(e,t){this.matchers.push(e),this.strategies.push(t)},RepeatStrategyLocator.prototype.getStrategy=function(e){for(var t=this.matchers,n=0,r=t.length;n<r;++n)if(t[n](e))return this.strategies[n];return null},RepeatStrategyLocator}(),M=["focus","if","else","repeat","show","hide","with"];function behaviorRequiresLifecycle(e){var t=e.type,n=null!==t.elementName?t.elementName:t.attributeName;return-1===M.indexOf(n)&&(t.handlesAttached||t.handlesBind||t.handlesCreated||t.handlesDetached||t.handlesUnbind)||t.viewFactory&&viewsRequireLifecycle(t.viewFactory)||e.viewFactory&&viewsRequireLifecycle(e.viewFactory)}function targetRequiresLifecycle(e){var t=e.behaviorInstructions;if(t)for(var n=t.length;n--;)if(behaviorRequiresLifecycle(t[n]))return!0;return e.viewFactory&&viewsRequireLifecycle(e.viewFactory)}function viewsRequireLifecycle(e){if("_viewsRequireLifecycle"in e)return e._viewsRequireLifecycle;if(e._viewsRequireLifecycle=!1,e.viewFactory)return e._viewsRequireLifecycle=viewsRequireLifecycle(e.viewFactory),e._viewsRequireLifecycle;if(e.template.querySelector(".au-animate"))return e._viewsRequireLifecycle=!0,!0;for(var t in e.instructions)if(targetRequiresLifecycle(e.instructions[t]))return e._viewsRequireLifecycle=!0,!0;return e._viewsRequireLifecycle=!1,!1}var q=function(){function AbstractRepeater(e){Object.assign(this,{local:"items",viewsRequireLifecycle:!0},e)}return AbstractRepeater.prototype.viewCount=function(){throw new Error("subclass must implement `viewCount`")},AbstractRepeater.prototype.views=function(){throw new Error("subclass must implement `views`")},AbstractRepeater.prototype.view=function(e){throw new Error("subclass must implement `view`")},AbstractRepeater.prototype.matcher=function(){throw new Error("subclass must implement `matcher`")},AbstractRepeater.prototype.addView=function(e,t){throw new Error("subclass must implement `addView`")},AbstractRepeater.prototype.insertView=function(e,t,n){throw new Error("subclass must implement `insertView`")},AbstractRepeater.prototype.moveView=function(e,t){throw new Error("subclass must implement `moveView`")},AbstractRepeater.prototype.removeAllViews=function(e,t){throw new Error("subclass must implement `removeAllViews`")},AbstractRepeater.prototype.removeViews=function(e,t,n){throw new Error("subclass must implement `removeView`")},AbstractRepeater.prototype.removeView=function(e,t,n){throw new Error("subclass must implement `removeView`")},AbstractRepeater.prototype.updateBindings=function(e){throw new Error("subclass must implement `updateBindings`")},AbstractRepeater}(),I="__marker_extracted__",A=function(e){function Repeat(t,n,r,o,a,l){var d=e.call(this,{local:"item",viewsRequireLifecycle:viewsRequireLifecycle(t)})||this;return d.viewFactory=t,d.instruction=n,d.viewSlot=r,d.lookupFunctions=o.lookupFunctions,d.observerLocator=a,d.key="key",d.value="value",d.strategyLocator=l,d.ignoreMutation=!1,d.sourceExpression=getItemsSourceExpression(d.instruction,"repeat.for"),d.isOneTime=isOneTime(d.sourceExpression),d.viewsRequireLifecycle=viewsRequireLifecycle(t),d}var t;return __extends(Repeat,e),t=Repeat,Repeat.prototype.call=function(e,t){this[e](this.items,t)},Repeat.prototype.bind=function(e,t){this.scope={bindingContext:e,overrideContext:t};var n=this.instruction;I in n||(n[I]=this._captureAndRemoveMatcherBinding()),this.matcherBinding=n[I],this.itemsChanged()},Repeat.prototype.unbind=function(){this.scope=null,this.items=null,this.matcherBinding=null,this.viewSlot.removeAll(!0,!0),this._unsubscribeCollection()},Repeat.prototype._unsubscribeCollection=function(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)},Repeat.prototype.itemsChanged=function(){var e=this;if(this._unsubscribeCollection(),this.scope){var t=this.items;if(this.strategy=this.strategyLocator.getStrategy(t),!this.strategy)throw new Error("Value for '".concat(this.sourceExpression,"' is non-repeatable"));this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.ignoreMutation=!0,this.strategy.instanceChanged(this,t),this.observerLocator.taskQueue.queueMicroTask((function(){e.ignoreMutation=!1}))}},Repeat.prototype._getInnerCollection=function(){var e=unwrapExpression(this.sourceExpression);return e?e.evaluate(this.scope,null):null},Repeat.prototype.handleCollectionMutated=function(e,t){this.collectionObserver&&(this.ignoreMutation||this.strategy.instanceMutated(this,e,t))},Repeat.prototype.handleInnerCollectionMutated=function(e,t){var n=this;if(this.collectionObserver&&!this.ignoreMutation){this.ignoreMutation=!0;var r=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask((function(){return n.ignoreMutation=!1})),r===this.items?this.itemsChanged():this.items=r}},Repeat.prototype._observeInnerCollection=function(){var e=this._getInnerCollection(),t=this.strategyLocator.getStrategy(e);return!!t&&(this.collectionObserver=t.getCollectionObserver(this.observerLocator,e),!!this.collectionObserver&&(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0))},Repeat.prototype._observeCollection=function(){var e=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,e),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))},Repeat.prototype._captureAndRemoveMatcherBinding=function(){var e=this.viewFactory.viewFactory;if(e){var n=e.template,r=e.instructions;if(t.useInnerMatcher)return extractMatcherBindingExpression(r);if(getChildrenCount(n)>1)return;var o=getFirstElementChild(n);if(!o.hasAttribute("au-target-id"))return;var a=o.getAttribute("au-target-id");return extractMatcherBindingExpression(r,a)}},Repeat.prototype.viewCount=function(){return this.viewSlot.children.length},Repeat.prototype.views=function(){return this.viewSlot.children},Repeat.prototype.view=function(e){return this.viewSlot.children[e]},Repeat.prototype.matcher=function(){var e=this.matcherBinding;return e?e.sourceExpression.evaluate(this.scope,e.lookupFunctions):null},Repeat.prototype.addView=function(e,t){var n=this.viewFactory.create();n.bind(e,t),this.viewSlot.add(n)},Repeat.prototype.insertView=function(e,t,n){var r=this.viewFactory.create();r.bind(t,n),this.viewSlot.insert(e,r)},Repeat.prototype.moveView=function(e,t){this.viewSlot.move(e,t)},Repeat.prototype.removeAllViews=function(e,t){return this.viewSlot.removeAll(e,t)},Repeat.prototype.removeViews=function(e,t,n){return this.viewSlot.removeMany(e,t,n)},Repeat.prototype.removeView=function(e,t,n){return this.viewSlot.removeAt(e,t,n)},Repeat.prototype.updateBindings=function(e){for(var t=e,n=t.bindings.length;n--;)updateOneTimeBinding(t.bindings[n]);for(n=t.controllers.length;n--;)for(var r=t.controllers[n].boundProperties.length;r--;){updateOneTimeBinding(t.controllers[n].boundProperties[r].binding)}},Repeat.useInnerMatcher=!0,__decorate([d.bindable],Repeat.prototype,"items",void 0),__decorate([d.bindable],Repeat.prototype,"local",void 0),__decorate([d.bindable],Repeat.prototype,"key",void 0),__decorate([d.bindable],Repeat.prototype,"value",void 0),Repeat=t=__decorate([(0,d.customAttribute)("repeat"),d.templateController,(0,o.inject)(d.BoundViewFactory,d.TargetInstruction,d.ViewSlot,d.ViewResources,c.ObserverLocator,T)],Repeat)}(q),extractMatcherBindingExpression=function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++){var o=n[r];if(void 0===t||o===t){var a=e[o].expressions;if(a)for(var l=0;l<a.length;l++)if("matcher"===a[l].targetProperty){var d=a[l];return a.splice(l,1),d}}}},getChildrenCount=function(e){for(var t=e.childNodes,n=0,r=0,o=t.length;o>r;++r)1===t[r].nodeType&&++n;return n},getFirstElementChild=function(e){for(var t=e.firstChild;null!==t;){if(1===t.nodeType)return t;t=t.nextSibling}return null},O="aurelia-hide",P=".".concat(O," { display:none !important; }");function injectAureliaHideStyleAtBoundary(e){a.FEATURE.shadowDOM&&e&&!e.hasAureliaHideStyle&&(e.hasAureliaHideStyle=!0,a.DOM.injectStyles(P,e))}var D=function(){function Show(e,t,n){this.element=e,this.animator=t,this.domBoundary=n}return Show.inject=function(){return[a.DOM.Element,d.Animator,o.Optional.of(a.DOM.boundary,!0)]},Show.prototype.created=function(){injectAureliaHideStyleAtBoundary(this.domBoundary)},Show.prototype.valueChanged=function(e){var t=this.element,n=this.animator;e?n.removeClass(t,O):n.addClass(t,O)},Show.prototype.bind=function(e){this.valueChanged(this.value)},Show=__decorate([(0,d.customAttribute)("show")],Show)}(),F=function(){function Hide(e,t,n){this.element=e,this.animator=t,this.domBoundary=n}return Hide.inject=function(){return[a.DOM.Element,d.Animator,o.Optional.of(a.DOM.boundary,!0)]},Hide.prototype.created=function(){injectAureliaHideStyleAtBoundary(this.domBoundary)},Hide.prototype.valueChanged=function(e){e?this.animator.addClass(this.element,O):this.animator.removeClass(this.element,O)},Hide.prototype.bind=function(e){this.valueChanged(this.value)},Hide.prototype.value=function(e){throw new Error("Method not implemented.")},Hide=__decorate([(0,d.customAttribute)("hide")],Hide)}(),j=function(){function HTMLSanitizer(){}return HTMLSanitizer.prototype.sanitize=function(e){throw new Error("To protect the application against a wide variety of sophisticated XSS attacks.\nPlease see https://aurelia.io/docs/binding/basics#element-content for instructions on how to use a secure solution like DOMPurify or sanitize-html.")},HTMLSanitizer}(),R=function(){function SanitizeHTMLValueConverter(e){this.sanitizer=e}return SanitizeHTMLValueConverter.prototype.toView=function(e){return null==e?null:this.sanitizer.sanitize(e)},SanitizeHTMLValueConverter=__decorate([(0,c.valueConverter)("sanitizeHTML"),(0,o.inject)(j)],SanitizeHTMLValueConverter)}(),N=function(){function Replaceable(e,t){this.viewFactory=e,this.viewSlot=t,this.view=null}return Replaceable.prototype.bind=function(e,t){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(e,t)},Replaceable.prototype.unbind=function(){this.view.unbind()},Replaceable=__decorate([(0,d.customAttribute)("replaceable"),d.templateController,(0,o.inject)(d.BoundViewFactory,d.ViewSlot)],Replaceable)}(),L=function(){function Focus(e,t){this.element=e,this.taskQueue=t,this.isAttached=!1,this.needsApply=!1}return Focus.inject=function(){return[a.DOM.Element,l.TaskQueue]},Focus.prototype.valueChanged=function(){this.isAttached?this._apply():this.needsApply=!0},Focus.prototype._apply=function(){var e=this;this.value?this.taskQueue.queueMicroTask((function(){e.value&&e.element.focus()})):this.element.blur()},Focus.prototype.attached=function(){this.isAttached=!0,this.needsApply&&(this.needsApply=!1,this._apply()),this.element.addEventListener("focus",this),this.element.addEventListener("blur",this)},Focus.prototype.detached=function(){this.isAttached=!1,this.element.removeEventListener("focus",this),this.element.removeEventListener("blur",this)},Focus.prototype.handleEvent=function(e){"focus"===e.type?this.value=!0:a.DOM.activeElement!==this.element&&(this.value=!1)},Focus=__decorate([(0,d.customAttribute)("focus",c.bindingMode.twoWay)],Focus)}(),V=/url\((?!['"]data)([^)]+)\)/gi;var B=function(){function CSSResource(e){this.address=e,this._scoped=null,this._global=!1,this._alreadyGloballyInjected=!1}return CSSResource.prototype.initialize=function(e,t){this._scoped=new t(this)},CSSResource.prototype.register=function(e,t){"scoped"===t?e.registerViewEngineHooks(this._scoped):this._global=!0},CSSResource.prototype.load=function(e){var t=this;return e.get(u.Loader).loadText(this.address).catch((function(){return null})).then((function(e){return e=function fixupCSSUrls(e,t){if("string"!=typeof t)throw new Error("Failed loading required CSS file: ".concat(e));return t.replace(V,(function(t,n){var r=n.charAt(0);return"'"!==r&&'"'!==r||(n=n.substr(1,n.length-2)),"url('"+(0,p.relativeToFile)(n,e)+"')"}))}(t.address,e),t._scoped.css=e,t._global&&(t._alreadyGloballyInjected=!0,a.DOM.injectStyles(e)),t}))},CSSResource}(),$=function(){function CSSViewEngineHooks(e){this.owner=e,this.css=null}return CSSViewEngineHooks.prototype.beforeCompile=function(e,t,n){if(n.targetShadowDOM)a.DOM.injectStyles(this.css,e,!0);else if(a.FEATURE.scopedCSS){a.DOM.injectStyles(this.css,e,!0).setAttribute("scoped","scoped")}else this._global&&!this.owner._alreadyGloballyInjected&&(a.DOM.injectStyles(this.css),this.owner._alreadyGloballyInjected=!0)},CSSViewEngineHooks}();var H=function(){function AttrBindingBehavior(){}return AttrBindingBehavior.prototype.bind=function(e,t){e.targetObserver=new c.DataAttributeObserver(e.target,e.targetProperty)},AttrBindingBehavior.prototype.unbind=function(e,t){},AttrBindingBehavior=__decorate([(0,c.bindingBehavior)("attr")],AttrBindingBehavior)}(),z={bind:function(e,t,n){e.originalMode=e.mode,e.mode=this.mode},unbind:function(e,t){e.mode=e.originalMode,e.originalMode=null}},U=function(){function OneTimeBindingBehavior(){this.mode=c.bindingMode.oneTime}return OneTimeBindingBehavior=__decorate([(0,h.mixin)(z),(0,c.bindingBehavior)("oneTime")],OneTimeBindingBehavior)}(),Q=function(){function OneWayBindingBehavior(){this.mode=c.bindingMode.toView}return OneWayBindingBehavior=__decorate([(0,h.mixin)(z),(0,c.bindingBehavior)("oneWay")],OneWayBindingBehavior)}(),W=function(){function ToViewBindingBehavior(){this.mode=c.bindingMode.toView}return ToViewBindingBehavior=__decorate([(0,h.mixin)(z),(0,c.bindingBehavior)("toView")],ToViewBindingBehavior)}(),G=function(){function FromViewBindingBehavior(){this.mode=c.bindingMode.fromView}return FromViewBindingBehavior=__decorate([(0,h.mixin)(z),(0,c.bindingBehavior)("fromView")],FromViewBindingBehavior)}(),K=function(){function TwoWayBindingBehavior(){this.mode=c.bindingMode.twoWay}return TwoWayBindingBehavior=__decorate([(0,h.mixin)(z),(0,c.bindingBehavior)("twoWay")],TwoWayBindingBehavior)}();function throttle(e){var t=this,n=this.throttleState,r=+new Date-n.last;if(r>=n.delay)return clearTimeout(n.timeoutId),n.timeoutId=null,n.last=+new Date,void this.throttledMethod(e);n.newValue=e,null===n.timeoutId&&(n.timeoutId=setTimeout((function(){n.timeoutId=null,n.last=+new Date,t.throttledMethod(n.newValue)}),n.delay-r))}var X=function(){function ThrottleBindingBehavior(){}return ThrottleBindingBehavior.prototype.bind=function(e,t,n){void 0===n&&(n=200);var r="updateTarget";e.callSource?r="callSource":e.updateSource&&e.mode===c.bindingMode.twoWay&&(r="updateSource"),e.throttledMethod=e[r],e.throttledMethod.originalName=r,e[r]=throttle,e.throttleState={delay:n,last:0,timeoutId:null}},ThrottleBindingBehavior.prototype.unbind=function(e,t){e[e.throttledMethod.originalName]=e.throttledMethod,e.throttledMethod=null,clearTimeout(e.throttleState.timeoutId),e.throttleState=null},ThrottleBindingBehavior=__decorate([(0,c.bindingBehavior)("throttle")],ThrottleBindingBehavior)}(),Y={};function debounceCallSource(e){var t=this,n=this.debounceState;clearTimeout(n.timeoutId),n.timeoutId=setTimeout((function(){return t.debouncedMethod(e)}),n.delay)}function debounceCall(e,t,n){var r=this,o=this.debounceState;if(clearTimeout(o.timeoutId),e!==o.callContextToDebounce)return o.oldValue=Y,void this.debouncedMethod(e,t,n);o.oldValue===Y&&(o.oldValue=n),o.timeoutId=setTimeout((function(){var n=o.oldValue;o.oldValue=Y,r.debouncedMethod(e,t,n)}),o.delay)}var Z=function(){function DebounceBindingBehavior(){}return DebounceBindingBehavior.prototype.bind=function(e,t,n){void 0===n&&(n=200);var r=void 0!==e.callSource,o=r?"callSource":"call",a=r?debounceCallSource:debounceCall,l=e.mode,d=l===c.bindingMode.twoWay||l===c.bindingMode.fromView?c.targetContext:c.sourceContext;e.debouncedMethod=e[o],e.debouncedMethod.originalName=o,e[o]=a,e.debounceState={callContextToDebounce:d,delay:n,timeoutId:0,oldValue:Y}},DebounceBindingBehavior.prototype.unbind=function(e,t){e[e.debouncedMethod.originalName]=e.debouncedMethod,e.debouncedMethod=null,clearTimeout(e.debounceState.timeoutId),e.debounceState=null},DebounceBindingBehavior=__decorate([(0,c.bindingBehavior)("debounce")],DebounceBindingBehavior)}();function handleSelfEvent(e){var t=function findOriginalEventTarget(e){return e.path&&e.path[0]||e.deepPath&&e.deepPath[0]||e.target}(e);this.target===t&&this.selfEventCallSource(e)}var J=function(){function SelfBindingBehavior(){}return SelfBindingBehavior.prototype.bind=function(e,t){if(!e.callSource||!e.targetEvent)throw new Error("Self binding behavior only supports event.");e.selfEventCallSource=e.callSource,e.callSource=handleSelfEvent},SelfBindingBehavior.prototype.unbind=function(e,t){e.callSource=e.selfEventCallSource,e.selfEventCallSource=null},SelfBindingBehavior=__decorate([(0,c.bindingBehavior)("self")],SelfBindingBehavior)}(),ee=function(){function BindingSignaler(){this.signals={}}return BindingSignaler.prototype.signal=function(e){var t=this.signals[e];if(t)for(var n=t.length;n--;)t[n].call(c.sourceContext)},BindingSignaler}(),te=function(){function SignalBindingBehavior(e){this.signals=e.signals}return SignalBindingBehavior.inject=function(){return[ee]},SignalBindingBehavior.prototype.bind=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!e.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");var o=this.signals;if(1===n.length){var a=n[0];(o[a]||(o[a]=[])).push(e),e.signalName=a}else{if(!(n.length>1))throw new Error("Signal name is required.");for(var l=n.length;l--;){var d=n[l];(o[d]||(o[d]=[])).push(e)}e.signalName=n}},SignalBindingBehavior.prototype.unbind=function(e,t){var n=this.signals,r=e.signalName;if(e.signalName=null,Array.isArray(r))for(var o=r,a=o.length;a--;){var l;(l=n[o[a]]).splice(l.indexOf(e),1)}else(l=n[r]).splice(l.indexOf(e),1)},SignalBindingBehavior=__decorate([(0,c.bindingBehavior)("signal")],SignalBindingBehavior)}(),ne="The updateTrigger binding behavior can only be applied to two-way/ from-view bindings on input/select elements.",ie=function(){function UpdateTriggerBindingBehavior(){}return UpdateTriggerBindingBehavior.prototype.bind=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(0===n.length)throw new Error("The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">");if(e.mode!==c.bindingMode.twoWay&&e.mode!==c.bindingMode.fromView)throw new Error(ne);var o=e.observerLocator.getObserver(e.target,e.targetProperty);if(!o.handler)throw new Error(ne);e.targetObserver=o,o.originalHandler=e.targetObserver.handler;var a=new c.EventSubscriber(n);o.handler=a},UpdateTriggerBindingBehavior.prototype.unbind=function(e,t){var n=e.targetObserver;n.handler.dispose(),n.handler=n.originalHandler,n.originalHandler=null},UpdateTriggerBindingBehavior=__decorate([(0,c.bindingBehavior)("updateTrigger")],UpdateTriggerBindingBehavior)}();function configure$1(e){var t=e.container.get(d.ViewEngine),n=e.aurelia.loader;t.addResourcePlugin(".html",{fetch:function(e){return n.loadTemplate(e).then((function(t){var n,r=t.template.getAttribute("bindable"),o=t.template.getAttribute("use-shadow-dom"),a=function getElementName(e){return/([^\/^\?]+)\.html/i.exec(e)[1].toLowerCase()}(e);return r?(r=r.split(",").map((function(e){return e.trim()})),t.template.removeAttribute("bindable")):r=[],(n={})[a]=function _createDynamicElement(e){for(var t=e.name,n=e.viewUrl,r=e.bindableNames,o=e.useShadowDOMmode,a=function(){function DynamicElement(){}return DynamicElement.prototype.bind=function(e){this.$parent=e},__decorate([(0,d.customElement)(t),(0,d.useView)(n)],DynamicElement)}(),l=0,c=r.length;l<c;++l)(0,d.bindable)(r[l])(a);switch(o){case"open":(0,d.useShadowDOM)({mode:"open"})(a);break;case"closed":(0,d.useShadowDOM)({mode:"closed"})(a);break;case"":(0,d.useShadowDOM)(a);break;case null:break;default:(0,g.getLogger)("aurelia-html-only-element").warn('Expected \'use-shadow-dom\' value to be "close", "open" or "", received '.concat(o))}return a}({name:a,viewUrl:e,bindableNames:r,useShadowDOMmode:o}),n}))}})}function configure(e){!function injectAureliaHideStyleAtHead(){a.DOM.injectStyles(P)}(),e.globalResources(m,v,b,y,A,D,F,N,L,R,U,Q,W,G,K,X,Z,J,te,ie,H),configure$1(e);var t=e.container.get(d.ViewEngine),n={fetch:function(e){var t;return(t={})[e]=function _createCSSResource(e){var t=function(t){function ViewCSS(){return null!==t&&t.apply(this,arguments)||this}return __extends(ViewCSS,t),__decorate([(0,d.resource)(new B(e))],ViewCSS)}($);return t}(e),t}};[".css",".less",".sass",".scss",".styl"].forEach((function(e){return t.addResourcePlugin(e,n)}))}},"aurelia-templating-router":(e,t,n)=>{"use strict";n.r(t),n.d(t,{RouteHref:()=>y,RouterView:()=>g,RouterViewLocator:()=>m,TemplatingRouteLoader:()=>v,configure:()=>configure});var r=n("./node_modules/aurelia-router/dist/native-modules/aurelia-router.js"),o=n("./node_modules/aurelia-metadata/dist/native-modules/aurelia-metadata.js"),a=n("./node_modules/aurelia-path/dist/native-modules/aurelia-path.js"),l=n("./node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),d=n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),c=n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),u=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),p=n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},extendStatics(e,t)};var h=function h(){},g=function(){function RouterView(e,t,n,r,o,a,l){this.element=e,this.container=t,this.viewSlot=n,this.router=r,this.viewLocator=o,this.compositionTransaction=a,this.compositionEngine=l,this.router.registerViewPort(this,this.element.getAttribute("name")),"initialComposition"in a||(a.initialComposition=!0,this.compositionTransactionNotifier=a.enlist())}return RouterView.inject=function(){return[u.DOM.Element,d.Container,l.ViewSlot,r.Router,l.ViewLocator,l.CompositionTransaction,l.CompositionEngine]},RouterView.prototype.created=function(e){this.owningView=e},RouterView.prototype.bind=function(e,t){this.container.viewModel=e,this.overrideContext=t},RouterView.prototype.process=function(e,t){var n=this,r=e,a=r.component,d=a.childContainer,c=a.viewModel,u=a.viewModelResource,p=u.metadata,h=a.router.currentInstruction.config,g=h.viewPorts&&h.viewPorts[r.name]||{};d.get(m)._notify(this);var f={viewModel:g.layoutViewModel||h.layoutViewModel||this.layoutViewModel,view:g.layoutView||h.layoutView||this.layoutView,model:g.layoutModel||h.layoutModel||this.layoutModel,router:r.component.router,childContainer:d,viewSlot:this.viewSlot},v=this.viewLocator.getViewStrategy(a.view||c);return v&&a.view&&v.makeRelativeTo(o.Origin.get(a.router.container.viewModel.constructor).moduleId),p.load(d,u.value,null,v,!0).then((function(e){n.compositionTransactionNotifier||(n.compositionTransactionOwnershipToken=n.compositionTransaction.tryCapture()),(f.viewModel||f.view)&&(r.layoutInstruction=f);var o=l.BehaviorInstruction.dynamic(n.element,c,e);if(r.controller=p.create(d,o),t)return null;n.swap(r)}))},RouterView.prototype.swap=function(e){var t=this,n=e,r=n.controller,o=n.layoutInstruction,a=this.view,work=function(){var e=l.SwapStrategies[t.swapOrder]||l.SwapStrategies.after,n=t.viewSlot;e(n,a,(function(){return Promise.resolve(n.add(t.view))})).then((function(){t._notify()}))},ready=function(e){r.automate(t.overrideContext,e);var n=t.compositionTransactionOwnershipToken;return n?n.waitForCompositionComplete().then((function(){return t.compositionTransactionOwnershipToken=null,work()})):work()};return o?(o.viewModel||(o.viewModel=new h),this.compositionEngine.createController(o).then((function(e){var n=e.view;return l.ShadowDOM.distributeView(r.view,e.slots||n.slots),e.automate((0,c.createOverrideContext)(o.viewModel),t.owningView),n.children.push(r.view),n||e})).then((function(e){return t.view=e,ready(e)}))):(this.view=r.view,ready(this.owningView))},RouterView.prototype._notify=function(){var e=this.compositionTransactionNotifier;e&&(e.done(),this.compositionTransactionNotifier=null)},RouterView.$view=null,RouterView.$resource={name:"router-view",bindables:["swapOrder","layoutView","layoutViewModel","layoutModel","inherit-binding-context"]},RouterView}(),m=function(){function RouterViewLocator(){var e=this;this.promise=new Promise((function(t){return e.resolve=t}))}return RouterViewLocator.prototype.findNearest=function(){return this.promise},RouterViewLocator.prototype._notify=function(e){this.resolve(e)},RouterViewLocator}(),f=function f(){};(0,l.inlineView)("<template></template>")(f);var v=function(e){function TemplatingRouteLoader(t){var n=e.call(this)||this;return n.compositionEngine=t,n}return function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}(TemplatingRouteLoader,e),TemplatingRouteLoader.prototype.resolveViewModel=function(e,t){return new Promise((function(n,r){var d;if("moduleId"in t){var c=t.moduleId;return null===c?d=f:(c=(0,a.relativeToFile)(c,o.Origin.get(e.container.viewModel.constructor).moduleId),d=/\.html/i.test(c)?function createDynamicClass(e){var t=/([^\/^\?]+)\.html/i.exec(e)[1],n=function(){function DynamicClass(){}return DynamicClass.prototype.bind=function(e){this.$parent=e},DynamicClass}();return(0,l.customElement)(t)(n),(0,l.useView)(e)(n),n}(c):c),n(d)}r(new Error('Invalid route config. No "moduleId" found.'))}))},TemplatingRouteLoader.prototype.createChildContainer=function(e){var t=e.container.createChild();return t.registerSingleton(m),t.getChildRouter=function(){var n;return t.registerHandler(r.Router,(function(){return n||(n=e.createChild(t))})),t.get(r.Router)},t},TemplatingRouteLoader.prototype.loadRoute=function(e,t,n){var r=this;return this.resolveViewModel(e,t).then((function(n){return r.compositionEngine.ensureViewModel({viewModel:n,childContainer:r.createChildContainer(e),view:t.view||t.viewStrategy,router:e})}))},TemplatingRouteLoader.inject=[l.CompositionEngine],TemplatingRouteLoader}(r.RouteLoader);var b=p.getLogger("route-href"),y=function(){function RouteHref(e,t){this.router=e,this.element=t,this.attribute="href"}return RouteHref.inject=function(){return[r.Router,u.DOM.Element]},RouteHref.prototype.bind=function(){this.isActive=!0,this.processChange()},RouteHref.prototype.unbind=function(){this.isActive=!1},RouteHref.prototype.attributeChanged=function(e,t){return t&&this.element.removeAttribute(t),this.processChange()},RouteHref.prototype.processChange=function(){var e=this;return this.router.ensureConfigured().then((function(){if(!e.isActive)return null;var t=e.element,n=e.router.generate(e.route,e.params);return t.au.controller?t.au.controller.viewModel[e.attribute]=n:t.setAttribute(e.attribute,n),null})).catch((function(e){b.error(e)}))},RouteHref.$resource={type:"attribute",name:"route-href",bindables:[{name:"route",changeHandler:"processChange",primaryProperty:!0},{name:"params",changeHandler:"processChange"},"attribute"]},RouteHref}();function configure(e){e.singleton(r.RouteLoader,v).singleton(r.Router,r.AppRouter).globalResources(g,y),e.container.registerAlias(r.Router,r.AppRouter)}},"./node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Animator:()=>j,BehaviorInstruction:()=>v,BehaviorPropertyObserver:()=>C,BindableProperty:()=>S,BindingLanguage:()=>k,BoundViewFactory:()=>V,CompositionEngine:()=>he,CompositionTransaction:()=>D,CompositionTransactionNotifier:()=>O,CompositionTransactionOwnershipToken:()=>P,Controller:()=>ee,ConventionalViewStrategy:()=>ae,ElementConfigResource:()=>be,ElementEvents:()=>h,HtmlBehaviorResource:()=>ne,InlineViewStrategy:()=>ce,ModuleAnalyzer:()=>K,NoViewStrategy:()=>le,PassThroughSlot:()=>q,RelativeViewStrategy:()=>se,ResourceDescription:()=>G,ResourceLoadContext:()=>m,ResourceModule:()=>W,ShadowDOM:()=>A,ShadowSlot:()=>I,SlotCustomAttribute:()=>M,StaticViewStrategy:()=>ue,SwapStrategies:()=>pe,TargetInstruction:()=>y,TemplateRegistryViewStrategy:()=>de,TemplatingEngine:()=>we,View:()=>F,ViewCompileInstruction:()=>f,ViewCompiler:()=>U,ViewEngine:()=>J,ViewEngineHooksResource:()=>Q,ViewFactory:()=>B,ViewLocator:()=>E,ViewResources:()=>re,ViewSlot:()=>R,_hyphenate:()=>_hyphenate,_isAllWhitespace:()=>_isAllWhitespace,animationEvent:()=>ge,behavior:()=>behavior,bindable:()=>bindable,child:()=>child,children:()=>children,containerless:()=>containerless,customAttribute:()=>customAttribute,customElement:()=>customElement,dynamicOptions:()=>dynamicOptions,elementConfig:()=>elementConfig,inlineView:()=>inlineView,noView:()=>noView,processAttributes:()=>processAttributes,processContent:()=>processContent,resource:()=>resource,templateController:()=>templateController,useShadowDOM:()=>useShadowDOM,useView:()=>useView,useViewStrategy:()=>useViewStrategy,validateBehaviorName:()=>validateBehaviorName,view:()=>view,viewEngineHooks:()=>viewEngineHooks,viewResources:()=>viewResources,viewStrategy:()=>oe});var r=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),o=n("./node_modules/aurelia-loader/dist/native-modules/aurelia-loader.js"),a=n("./node_modules/aurelia-metadata/dist/native-modules/aurelia-metadata.js"),l=n("./node_modules/aurelia-path/dist/native-modules/aurelia-path.js"),d=n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),c=n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),u=n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),p=n("./node_modules/aurelia-task-queue/dist/native-modules/aurelia-task-queue.js"),h=function(){function ElementEvents(e){this.element=e,this.subscriptions={}}return ElementEvents.prototype._enqueueHandler=function(e){this.subscriptions[e.eventName]=this.subscriptions[e.eventName]||[],this.subscriptions[e.eventName].push(e)},ElementEvents.prototype._dequeueHandler=function(e){var t,n=this.subscriptions[e.eventName];return n&&(t=n.indexOf(e))>-1&&n.splice(t,1),e},ElementEvents.prototype.publish=function(e,t,n,o){void 0===t&&(t={}),void 0===n&&(n=!0),void 0===o&&(o=!0);var a=r.DOM.createCustomEvent(e,{cancelable:o,bubbles:n,detail:t});this.element.dispatchEvent(a)},ElementEvents.prototype.subscribe=function(e,t,n){if("function"==typeof t)return void 0===n&&(n=ElementEvents.defaultListenerOptions),new g(this,e,t,n,!1)},ElementEvents.prototype.subscribeOnce=function(e,t,n){if("function"==typeof t)return void 0===n&&(n=ElementEvents.defaultListenerOptions),new g(this,e,t,n,!0)},ElementEvents.prototype.dispose=function(e){if(e&&"string"==typeof e){var t=this.subscriptions[e];if(t)for(;t.length;){var n=t.pop();n&&n.dispose()}}else this.disposeAll()},ElementEvents.prototype.disposeAll=function(){for(var e in this.subscriptions)this.dispose(e)},ElementEvents.defaultListenerOptions=!0,ElementEvents}(),g=function(){function EventHandlerImpl(e,t,n,r,o){this.owner=e,this.eventName=t,this.handler=n,this.capture="boolean"==typeof r?r:r.capture,this.bubbles=!this.capture,this.captureOrOptions=r,this.once=o,e.element.addEventListener(t,this,r),e._enqueueHandler(this)}return EventHandlerImpl.prototype.handleEvent=function(e){(0,this.handler)(e),this.once&&this.dispose()},EventHandlerImpl.prototype.dispose=function(){this.owner.element.removeEventListener(this.eventName,this,this.captureOrOptions),this.owner._dequeueHandler(this),this.owner=this.handler=null},EventHandlerImpl}(),m=function(){function ResourceLoadContext(){this.dependencies={}}return ResourceLoadContext.prototype.addDependency=function(e){this.dependencies[e]=!0},ResourceLoadContext.prototype.hasDependency=function(e){return e in this.dependencies},ResourceLoadContext}(),f=function(){function ViewCompileInstruction(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this.targetShadowDOM=e,this.compileSurrogate=t,this.associatedModuleId=null}return ViewCompileInstruction.normal=new ViewCompileInstruction,ViewCompileInstruction}(),v=function(){function BehaviorInstruction(){}return BehaviorInstruction.enhance=function(){var e=new BehaviorInstruction;return e.enhance=!0,e},BehaviorInstruction.unitTest=function(e,t){var n=new BehaviorInstruction;return n.type=e,n.attributes=t||{},n},BehaviorInstruction.element=function(e,t){var n=new BehaviorInstruction;return n.type=t,n.attributes={},n.anchorIsContainer=!(e.hasAttribute("containerless")||t.containerless),n.initiatedByBehavior=!0,n},BehaviorInstruction.attribute=function(e,t){var n=new BehaviorInstruction;return n.attrName=e,n.type=t||null,n.attributes={},n},BehaviorInstruction.dynamic=function(e,t,n){var r=new BehaviorInstruction;return r.host=e,r.viewModel=t,r.viewFactory=n,r.inheritBindingContext=!0,r},BehaviorInstruction.normal=new BehaviorInstruction,BehaviorInstruction}(),b=v.prototype;b.initiatedByBehavior=!1,b.enhance=!1,b.partReplacements=null,b.viewFactory=null,b.originalAttrName=null,b.skipContentProcessing=!1,b.contentFactory=null,b.viewModel=null,b.anchorIsContainer=!1,b.host=null,b.attributes=null,b.type=null,b.attrName=null,b.inheritBindingContext=!1;var y=function(){function TargetInstruction(){}return TargetInstruction.shadowSlot=function(e){var t=new TargetInstruction;return t.parentInjectorId=e,t.shadowSlot=!0,t},TargetInstruction.contentExpression=function(e){var t=new TargetInstruction;return t.contentExpression=e,t},TargetInstruction.letElement=function(e){var t=new TargetInstruction;return t.expressions=e,t.letElement=!0,t},TargetInstruction.lifting=function(e,t){var n=new TargetInstruction;return n.parentInjectorId=e,n.expressions=TargetInstruction.noExpressions,n.behaviorInstructions=[t],n.viewFactory=t.viewFactory,n.providers=[t.type.target],n.lifting=!0,n},TargetInstruction.normal=function(e,t,n,r,o,a){var l=new TargetInstruction;return l.injectorId=e,l.parentInjectorId=t,l.providers=n,l.behaviorInstructions=r,l.expressions=o,l.anchorIsContainer=!a||a.anchorIsContainer,l.elementInstruction=a,l},TargetInstruction.surrogate=function(e,t,n,r){var o=new TargetInstruction;return o.expressions=n,o.behaviorInstructions=t,o.providers=e,o.values=r,o},TargetInstruction.noExpressions=Object.freeze([]),TargetInstruction}(),_=y.prototype;function __decorate(e,t,n,r){var o,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(l=(a<3?o(l):a>3?o(t,n,l):o(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l}_.injectorId=null,_.parentInjectorId=null,_.shadowSlot=!1,_.slotName=null,_.slotFallbackFactory=null,_.contentExpression=null,_.letElement=!1,_.expressions=null,_.expressions=null,_.providers=null,_.viewFactory=null,_.anchorIsContainer=!1,_.elementInstruction=null,_.lifting=!1,_.values=null;var x=/([A-Z])/g;function addHyphenAndLower(e){return"-"+e.toLowerCase()}function _hyphenate(e){return(e.charAt(0).toLowerCase()+e.slice(1)).replace(x,addHyphenAndLower)}function _isAllWhitespace(e){return!(e.auInterpolationTarget||/[^\t\n\r ]/.test(e.textContent))}var C=function(){function BehaviorPropertyObserver(e,t,n,r,o){this.taskQueue=e,this.obj=t,this.propertyName=n,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=r,this.currentValue=this.oldValue=o}return BehaviorPropertyObserver.prototype.getValue=function(){return this.currentValue},BehaviorPropertyObserver.prototype.setValue=function(e){var t=this.currentValue;Object.is(e,t)||(this.oldValue=t,this.currentValue=e,this.publishing&&this.notqueued&&(this.taskQueue.flushing?this.call():(this.notqueued=!1,this.taskQueue.queueMicroTask(this))))},BehaviorPropertyObserver.prototype.call=function(){var e=this.oldValue,t=this.currentValue;this.notqueued=!0,Object.is(t,e)||(this.selfSubscriber&&this.selfSubscriber(t,e),this.callSubscribers(t,e),this.oldValue=t)},BehaviorPropertyObserver.prototype.callSubscribers=function(e,t){throw new Error("Method not implemented.")},BehaviorPropertyObserver.prototype.subscribe=function(e,t){this.addSubscriber(e,t)},BehaviorPropertyObserver.prototype.addSubscriber=function(e,t){throw new Error("Method not implemented.")},BehaviorPropertyObserver.prototype.unsubscribe=function(e,t){this.removeSubscriber(e,t)},BehaviorPropertyObserver.prototype.removeSubscriber=function(e,t){throw new Error("Method not implemented.")},BehaviorPropertyObserver=__decorate([(0,c.subscriberCollection)()],BehaviorPropertyObserver)}();function getObserver(e,t){var n=e.__observers__;if(void 0===n){var r=Object.getPrototypeOf(e).constructor,o=a.metadata.get(a.metadata.resource,r);o.isInitialized||o.initialize(u.Container.instance||new u.Container,e.constructor),n=o.observerLocator.getOrCreateObserversLookup(e),o._ensurePropertiesDefined(e,n)}return n[t]}var S=function(){function BindableProperty(e){"string"==typeof e?this.name=e:Object.assign(this,e),this.attribute=this.attribute||_hyphenate(this.name);var t=this.defaultBindingMode;null==t?this.defaultBindingMode=c.bindingMode.oneWay:"string"==typeof t&&(this.defaultBindingMode=c.bindingMode[t]||c.bindingMode.oneWay),this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}return BindableProperty.prototype.registerWith=function(e,t,n){if(t.properties.push(this),t.attributes[this.attribute]=this,this.owner=t,n)return this.descriptor=n,this._configureDescriptor(n)},BindableProperty.prototype._configureDescriptor=function(e){var t=this.name;return e.configurable=!0,e.enumerable=!0,"initializer"in e&&(this.defaultValue=e.initializer,delete e.initializer,delete e.writable),"value"in e&&(this.defaultValue=e.value,delete e.value,delete e.writable),e.get=function(){return getObserver(this,t).getValue()},e.set=function(e){getObserver(this,t).setValue(e)},e.get.getObserver=function(e){return getObserver(e,t)},e},BindableProperty.prototype.defineOn=function(e,t){var n,r=this.name;null===this.changeHandler&&(n=r+"Changed")in e.prototype&&(this.changeHandler=n),null===this.descriptor&&Object.defineProperty(e.prototype,r,this._configureDescriptor({}))},BindableProperty.prototype.createObserver=function(e){var t,n=null,r=this.defaultValue,o=this.changeHandler,a=this.name;if(!this.hasOptions){if(o in e)n="propertyChanged"in e?function(t,n){e[o](t,n),e.propertyChanged(a,t,n)}:function(t,n){return e[o](t,n)};else if("propertyChanged"in e)n=function(t,n){return e.propertyChanged(a,t,n)};else if(null!==o)throw new Error("Change handler ".concat(o," was specified but not declared on the class."));return void 0!==r&&(t="function"==typeof r?r.call(e):r),new C(this.owner.taskQueue,e,this.name,n,t)}},BindableProperty.prototype._initialize=function(e,t,n,r,o){var a,l,d,c=this.defaultValue;if(this.isDynamic)for(var u in n)this._createDynamicProperty(e,t,r,u,n[u],o);else this.hasOptions||(l=t[this.name],null!==n&&(a=l.selfSubscriber,d=n[this.attribute],r&&(l.selfSubscriber=null),"string"==typeof d?(e[this.name]=d,l.call()):d?o.push({observer:l,binding:d.createBinding(e)}):void 0!==c&&l.call(),l.selfSubscriber=a),l.publishing=!0)},BindableProperty.prototype._createDynamicProperty=function(e,t,n,r,o,a){var l,d,c=r+"Changed",u=null;c in e?u="propertyChanged"in e?function(t,n){e[c](t,n),e.propertyChanged(r,t,n)}:function(t,n){return e[c](t,n)}:"propertyChanged"in e&&(u=function(t,n){return e.propertyChanged(r,t,n)}),l=t[r]=new C(this.owner.taskQueue,e,r,u),Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:l.getValue.bind(l),set:l.setValue.bind(l)}),n&&(l.selfSubscriber=null),"string"==typeof o?(e[r]=o,l.call()):o&&(d={observer:l,binding:o.createBinding(e)},a.push(d)),l.publishing=!0,l.selfSubscriber=u},BindableProperty}(),E=function(){function ViewLocator(){}return ViewLocator.prototype.getViewStrategy=function(e){if(!e)return null;if("object"==typeof e&&"getViewStrategy"in e){var t=a.Origin.get(e.constructor);return"string"==typeof(e=e.getViewStrategy())&&(e=new se(e)),oe.assert(e),t.moduleId&&e.makeRelativeTo(t.moduleId),e}if("string"==typeof e&&(e=new se(e)),oe.validate(e))return e;if("function"!=typeof e&&(e=e.constructor),"$view"in e){var n=e.$view,r=void 0;return r=null===(n="function"==typeof n?n.call(e):n)?new le:n instanceof ue?n:new ue(n),a.metadata.define(ViewLocator.viewStrategyMetadataKey,r,e),r}var o=a.Origin.get(e),l=a.metadata.get(ViewLocator.viewStrategyMetadataKey,e);if(l)o.moduleId&&(l.moduleId=o.moduleId);else{if(!o.moduleId)throw new Error("Cannot determine default view strategy for object.\n"+e);l=this.createFallbackViewStrategy(o)}return l},ViewLocator.prototype.createFallbackViewStrategy=function(e){return new ae(this,e)},ViewLocator.prototype.convertOriginToViewUrl=function(e){var t=e.moduleId;return(t.endsWith(".js")||t.endsWith(".ts")?t.substring(0,t.length-3):t)+".html"},ViewLocator.viewStrategyMetadataKey="aurelia:view-strategy",ViewLocator}();function mi(e){throw new Error("BindingLanguage must implement ".concat(e,"()."))}var k=function(){function BindingLanguage(){}return BindingLanguage.prototype.inspectAttribute=function(e,t,n,r){mi("inspectAttribute")},BindingLanguage.prototype.createAttributeInstruction=function(e,t,n,r,o){mi("createAttributeInstruction")},BindingLanguage.prototype.createLetExpressions=function(e,t){mi("createLetExpressions")},BindingLanguage.prototype.inspectTextContent=function(e,t){mi("inspectTextContent")},BindingLanguage}(),T=Object.freeze([]),M=function(){function SlotCustomAttribute(e){this.element=e,this.element.auSlotAttribute=this}return SlotCustomAttribute.inject=function(){return[r.DOM.Element]},SlotCustomAttribute.prototype.valueChanged=function(e,t){},SlotCustomAttribute}(),q=function(){function PassThroughSlot(e,t,n,r){this.anchor=e,this.anchor.viewSlot=this,this.name=t,this.destinationName=n,this.fallbackFactory=r,this.destinationSlot=null,this.projections=0,this.contentView=null,new M(this.anchor).value=this.destinationName}return Object.defineProperty(PassThroughSlot.prototype,"needsFallbackRendering",{get:function(){return this.fallbackFactory&&0===this.projections},enumerable:!1,configurable:!0}),PassThroughSlot.prototype.renderFallbackContent=function(e,t,n,r){if(null===this.contentView){this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext);var o=Object.create(null);o[this.destinationSlot.name]=this.destinationSlot,A.distributeView(this.contentView,o,n,r,this.destinationSlot.name)}},PassThroughSlot.prototype.passThroughTo=function(e){this.destinationSlot=e},PassThroughSlot.prototype.addNode=function(e,t,n,r){null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),t.viewSlot instanceof PassThroughSlot?t.viewSlot.passThroughTo(this):(this.projections++,this.destinationSlot.addNode(e,t,n,r))},PassThroughSlot.prototype.removeView=function(e,t){this.projections--,this.destinationSlot.removeView(e,t),this.needsFallbackRendering&&this.renderFallbackContent(null,T,t)},PassThroughSlot.prototype.removeAll=function(e){this.projections=0,this.destinationSlot.removeAll(e),this.needsFallbackRendering&&this.renderFallbackContent(null,T,e)},PassThroughSlot.prototype.projectFrom=function(e,t){this.destinationSlot.projectFrom(e,t)},PassThroughSlot.prototype.created=function(e){this.ownerView=e},PassThroughSlot.prototype.bind=function(e){this.contentView&&this.contentView.bind(e.bindingContext,e.overrideContext)},PassThroughSlot.prototype.attached=function(){this.contentView&&this.contentView.attached()},PassThroughSlot.prototype.detached=function(){this.contentView&&this.contentView.detached()},PassThroughSlot.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},PassThroughSlot}(),I=function(){function ShadowSlot(e,t,n){this.anchor=e,this.anchor.isContentProjectionSource=!0,this.anchor.viewSlot=this,this.name=t,this.fallbackFactory=n,this.contentView=null,this.projections=0,this.children=[],this.projectFromAnchors=null,this.destinationSlots=null}return Object.defineProperty(ShadowSlot.prototype,"needsFallbackRendering",{get:function(){return this.fallbackFactory&&0===this.projections},enumerable:!1,configurable:!0}),ShadowSlot.prototype.addNode=function(e,t,n,r,o){var a=t;if(null!==this.contentView&&(this.contentView.removeNodes(),this.contentView.detached(),this.contentView.unbind(),this.contentView=null),a.viewSlot instanceof q)a.viewSlot.passThroughTo(this);else if(null!==this.destinationSlots)A.distributeNodes(e,[a],this.destinationSlots,this,r);else{a.auOwnerView=e,a.auProjectionSource=n,a.auAssignedSlot=this;var l=this._findAnchor(e,a,n,r);l.parentNode.insertBefore(a,l),this.children.push(a),this.projections++}},ShadowSlot.prototype.removeView=function(e,t){if(null!==this.destinationSlots)A.undistributeView(e,this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)A.undistributeView(e,this.contentView.slots,t);else{var n=this.children.find((function(e){return e.auSlotProjectFrom===t}));if(n){for(var r=n.auProjectionChildren,o=this.children,a=0,l=r.length;a<l;++a){var d=r[a];if(d.auOwnerView===e){r.splice(a,1),e.fragment.appendChild(d),a--,l--,this.projections--;var c=o.indexOf(d);c>-1&&o.splice(c,1)}}this.needsFallbackRendering&&this.renderFallbackContent(e,T,t)}}},ShadowSlot.prototype.removeAll=function(e){if(null!==this.destinationSlots)A.undistributeAll(this.destinationSlots,this);else if(this.contentView&&this.contentView.hasSlots)A.undistributeAll(this.contentView.slots,e);else{var t=this.children.find((function(t){return t.auSlotProjectFrom===e}));if(t){for(var n=t.auProjectionChildren,r=this.children,o=0,a=n.length;o<a;++o){var l=n[o];l.auOwnerView.fragment.appendChild(l),this.projections--;var d=r.indexOf(l);d>-1&&r.splice(d,1)}t.auProjectionChildren=[],this.needsFallbackRendering&&this.renderFallbackContent(null,T,e)}}},ShadowSlot.prototype._findAnchor=function(e,t,n,r){if(n){var o=this.children.find((function(e){return e.auSlotProjectFrom===n}));if(o){if(void 0!==r)for(var a=o.auProjectionChildren,l=-1,d=void 0,c=0,u=a.length;c<u;++c){var p=a[c];if(p.auOwnerView!==d&&(l++,d=p.auOwnerView,l>=r&&d!==e))return a.splice(c,0,t),p}return o.auProjectionChildren.push(t),o}}return this.anchor},ShadowSlot.prototype.projectTo=function(e){this.destinationSlots=e},ShadowSlot.prototype.projectFrom=function(e,t){var n=r.DOM.createComment("anchor"),o=this.anchor.parentNode;n.auSlotProjectFrom=t,n.auOwnerView=e,n.auProjectionChildren=[],o.insertBefore(n,this.anchor),this.children.push(n),null===this.projectFromAnchors&&(this.projectFromAnchors=[]),this.projectFromAnchors.push(n)},ShadowSlot.prototype.renderFallbackContent=function(e,t,n,r){if(null===this.contentView&&(this.contentView=this.fallbackFactory.create(this.ownerView.container),this.contentView.bind(this.ownerView.bindingContext,this.ownerView.overrideContext),this.contentView.insertNodesBefore(this.anchor)),this.contentView.hasSlots){var o=this.contentView.slots,a=this.projectFromAnchors;if(null!==a)for(var l in o)for(var d=o[l],c=0,u=a.length;c<u;++c){var p=a[c];d.projectFrom(p.auOwnerView,p.auSlotProjectFrom)}this.fallbackSlots=o,A.distributeNodes(e,t,o,n,r)}},ShadowSlot.prototype.created=function(e){this.ownerView=e},ShadowSlot.prototype.bind=function(e){this.contentView&&this.contentView.bind(e.bindingContext,e.overrideContext)},ShadowSlot.prototype.attached=function(){this.contentView&&this.contentView.attached()},ShadowSlot.prototype.detached=function(){this.contentView&&this.contentView.detached()},ShadowSlot.prototype.unbind=function(){this.contentView&&this.contentView.unbind()},ShadowSlot}(),A=function(){function ShadowDOM(){}return ShadowDOM.getSlotName=function(e){return void 0===e.auSlotAttribute?ShadowDOM.defaultSlotKey:e.auSlotAttribute.value},ShadowDOM.distributeView=function(e,t,n,r,o){var a;if(null===e)a=T;else{var l=e.fragment.childNodes,d=l.length;a=new Array(d);for(var c=0;c<d;++c)a[c]=l[c]}ShadowDOM.distributeNodes(e,a,t,n,r,o)},ShadowDOM.undistributeView=function(e,t,n){for(var r in t)t[r].removeView(e,n)},ShadowDOM.undistributeAll=function(e,t){for(var n in e)e[n].removeAll(t)},ShadowDOM.distributeNodes=function(e,t,n,r,o,a){for(var l=0,d=t.length;l<d;++l){var c=t[l],u=c.nodeType;if(c.isContentProjectionSource){for(var p in c.viewSlot.projectTo(n),n)n[p].projectFrom(e,c.viewSlot);t.splice(l,1),d--,l--}else if(1===u||3===u||c.viewSlot instanceof q)if(3===u&&_isAllWhitespace(c))t.splice(l,1),d--,l--;else{var h=n[a||ShadowDOM.getSlotName(c)];h&&(h.addNode(e,c,r,o),t.splice(l,1),d--,l--)}else t.splice(l,1),d--,l--}for(var p in n){var g=n[p];g.needsFallbackRendering&&g.renderFallbackContent(e,t,r,o)}},ShadowDOM.defaultSlotKey="__au-default-slot-key__",ShadowDOM}(),O=function(){function CompositionTransactionNotifier(e){this.owner=e,this.owner._compositionCount++}return CompositionTransactionNotifier.prototype.done=function(){this.owner._compositionCount--,this.owner._tryCompleteTransaction()},CompositionTransactionNotifier}(),P=function(){function CompositionTransactionOwnershipToken(e){this.owner=e,this.owner._ownershipToken=this,this.thenable=this._createThenable()}return CompositionTransactionOwnershipToken.prototype.waitForCompositionComplete=function(){return this.owner._tryCompleteTransaction(),this.thenable},CompositionTransactionOwnershipToken.prototype.resolve=function(){this._resolveCallback()},CompositionTransactionOwnershipToken.prototype._resolveCallback=function(){throw new Error("Method not implemented.")},CompositionTransactionOwnershipToken.prototype._createThenable=function(){var e=this;return new Promise((function(t){e._resolveCallback=t}))},CompositionTransactionOwnershipToken}(),D=function(){function CompositionTransaction(){this._ownershipToken=null,this._compositionCount=0}return CompositionTransaction.prototype.tryCapture=function(){return null===this._ownershipToken?new P(this):null},CompositionTransaction.prototype.enlist=function(){return new O(this)},CompositionTransaction.prototype._tryCompleteTransaction=function(){if(this._compositionCount<=0&&(this._compositionCount=0,null!==this._ownershipToken)){var e=this._ownershipToken;this._ownershipToken=null,e.resolve()}},CompositionTransaction}(),F=function(){function View(e,t,n,r,o,a,l){for(var d in this.container=e,this.viewFactory=t,this.resources=t.resources,this.fragment=n,this.firstChild=n.firstChild,this.lastChild=n.lastChild,this.controllers=r,this.bindings=o,this.children=a,this.slots=l,this.hasSlots=!1,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this.animatableElement=void 0,this._isUserControlled=!1,this.contentView=null,l){this.hasSlots=!0;break}}return View.prototype.returnToCache=function(){this.viewFactory.returnViewToCache(this)},View.prototype.created=function(){var e,t,n=this.controllers;for(e=0,t=n.length;e<t;++e)n[e].created(this)},View.prototype.bind=function(e,t,n){var r,o,a,l,d;if(!n||!this._isUserControlled){if(this.isBound){if(this.bindingContext===e)return;this.unbind()}for(this.isBound=!0,this.bindingContext=e,this.overrideContext=t||(0,c.createOverrideContext)(e),this.resources._invokeHook("beforeBind",this),l=0,d=(o=this.bindings).length;l<d;++l)o[l].bind(this);for(null!==this.viewModelScope&&(e.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),l=0,d=(r=this.controllers).length;l<d;++l)r[l].bind(this);for(l=0,d=(a=this.children).length;l<d;++l)a[l].bind(e,t,!0);this.hasSlots&&A.distributeView(this.contentView,this.slots)}},View.prototype.addBinding=function(e){this.bindings.push(e),this.isBound&&e.bind(this)},View.prototype.unbind=function(){var e,t,n,r,o;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook("beforeUnbind",this),null!==this.controller&&this.controller.unbind(),r=0,o=(t=this.bindings).length;r<o;++r)t[r].unbind();for(r=0,o=(e=this.controllers).length;r<o;++r)e[r].unbind();for(r=0,o=(n=this.children).length;r<o;++r)n[r].unbind();this.bindingContext=null,this.overrideContext=null}},View.prototype.insertNodesBefore=function(e){e.parentNode.insertBefore(this.fragment,e)},View.prototype.appendNodesTo=function(e){e.appendChild(this.fragment)},View.prototype.removeNodes=function(){for(var e,t=this.fragment,n=this.firstChild,r=this.lastChild;n&&(e=n.nextSibling,t.appendChild(n),n!==r);)n=e},View.prototype.attached=function(){var e,t,n,r;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),n=0,r=(e=this.controllers).length;n<r;++n)e[n].attached();for(n=0,r=(t=this.children).length;n<r;++n)t[n].attached()}},View.prototype.detached=function(){var e,t,n,r;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),n=0,r=(e=this.controllers).length;n<r;++n)e[n].detached();for(n=0,r=(t=this.children).length;n<r;++n)t[n].detached()}},View}(),j=function(){function Animator(){}return Animator.prototype.enter=function(e){return Promise.resolve(!1)},Animator.prototype.leave=function(e){return Promise.resolve(!1)},Animator.prototype.removeClass=function(e,t){return e.classList.remove(t),Promise.resolve(!1)},Animator.prototype.addClass=function(e,t){return e.classList.add(t),Promise.resolve(!1)},Animator.prototype.animate=function(e,t){return Promise.resolve(!1)},Animator.prototype.runSequence=function(e){return Promise.resolve(!1)},Animator.prototype.registerEffect=function(e,t){},Animator.prototype.unregisterEffect=function(e){},Animator}();var R=function(){function ViewSlot(e,t,n){void 0===n&&(n=j.instance),this.anchor=e,this.anchorIsContainer=t,this.bindingContext=null,this.overrideContext=null,this.animator=n,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,e.viewSlot=this,e.isContentProjectionSource=!1}return ViewSlot.prototype.animateView=function(e,t){void 0===t&&(t="enter");var n=function getAnimatableElement(e){if(void 0!==e.animatableElement)return e.animatableElement;for(var t=e.firstChild;t&&1!==t.nodeType;)t=t.nextSibling;return t&&1===t.nodeType?e.animatableElement=t.classList.contains("au-animate")?t:null:e.animatableElement=null}(e);if(null!==n)switch(t){case"enter":return this.animator.enter(n);case"leave":return this.animator.leave(n);default:throw new Error("Invalid animation direction: "+t)}},ViewSlot.prototype.transformChildNodesIntoView=function(){var e=this.anchor;this.children.push({fragment:e,firstChild:e.firstChild,lastChild:e.lastChild,returnToCache:function(){},removeNodes:function(){for(var t;t=e.lastChild;)e.removeChild(t)},created:function(){},bind:function(){},unbind:function(){},attached:function(){},detached:function(){}})},ViewSlot.prototype.bind=function(e,t){var n,r,o;if(this.isBound){if(this.bindingContext===e)return;this.unbind()}for(this.isBound=!0,this.bindingContext=e=e||this.bindingContext,this.overrideContext=t=t||this.overrideContext,n=0,r=(o=this.children).length;n<r;++n)o[n].bind(e,t,!0)},ViewSlot.prototype.unbind=function(){if(this.isBound){var e,t=void 0,n=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,t=0,e=n.length;t<e;++t)n[t].unbind()}},ViewSlot.prototype.add=function(e){if(this.anchorIsContainer?e.appendNodesTo(this.anchor):e.insertNodesBefore(this.anchor),this.children.push(e),this.isAttached)return e.attached(),this.animateView(e,"enter")},ViewSlot.prototype.insert=function(e,t){var n=this.children,r=n.length;return 0===e&&0===r||e>=r?this.add(t):(t.insertNodesBefore(n[e].firstChild),n.splice(e,0,t),this.isAttached?(t.attached(),this.animateView(t,"enter")):void 0)},ViewSlot.prototype.move=function(e,t){if(e!==t){var n=this.children,r=n[e];r.removeNodes(),r.insertNodesBefore(n[t].firstChild),n.splice(e,1),n.splice(t,0,r)}},ViewSlot.prototype.remove=function(e,t,n){return this.removeAt(this.children.indexOf(e),t,n)},ViewSlot.prototype.removeMany=function(e,t,n){var r,o=this,a=this.children,l=e.length,d=[];e.forEach((function(e){if(n)e.removeNodes();else{var t=o.animateView(e,"leave");t?d.push(t.then((function(){return e.removeNodes()}))):e.removeNodes()}}));var removeAction=function(){if(o.isAttached)for(r=0;r<l;++r)e[r].detached();if(t)for(r=0;r<l;++r)e[r].returnToCache();for(r=0;r<l;++r){var n=a.indexOf(e[r]);n>=0&&a.splice(n,1)}};return d.length>0?Promise.all(d).then((function(){return removeAction()})):removeAction()},ViewSlot.prototype.removeAt=function(e,t,n){var r=this,o=this.children[e],removeAction=function(){return e=r.children.indexOf(o),o.removeNodes(),r.children.splice(e,1),r.isAttached&&o.detached(),t&&o.returnToCache(),o};if(!n){var a=this.animateView(o,"leave");if(a)return a.then((function(){return removeAction()}))}return removeAction()},ViewSlot.prototype.removeAll=function(e,t){var n,r=this,o=this.children,a=o.length,l=[];o.forEach((function(e){if(t)e.removeNodes();else{var n=r.animateView(e,"leave");n?l.push(n.then((function(){return e.removeNodes()}))):e.removeNodes()}}));var removeAction=function(){if(r.isAttached)for(n=0;n<a;++n)o[n].detached();if(e)for(n=0;n<a;++n){var t=o[n];t&&t.returnToCache()}r.children=[]};return l.length>0?Promise.all(l).then((function(){return removeAction()})):removeAction()},ViewSlot.prototype.attached=function(){var e,t,n,r;if(!this.isAttached)for(this.isAttached=!0,e=0,t=(n=this.children).length;e<t;++e)(r=n[e]).attached(),this.animateView(r,"enter")},ViewSlot.prototype.detached=function(){var e,t,n;if(this.isAttached)for(this.isAttached=!1,e=0,t=(n=this.children).length;e<t;++e)n[e].detached()},ViewSlot.prototype.projectTo=function(e){var t=this;this.projectToSlots=e,this.add=this._projectionAdd,this.insert=this._projectionInsert,this.move=this._projectionMove,this.remove=this._projectionRemove,this.removeAt=this._projectionRemoveAt,this.removeMany=this._projectionRemoveMany,this.removeAll=this._projectionRemoveAll,this.children.forEach((function(n){return A.distributeView(n,e,t)}))},ViewSlot.prototype._projectionAdd=function(e){A.distributeView(e,this.projectToSlots,this),this.children.push(e),this.isAttached&&e.attached()},ViewSlot.prototype._projectionInsert=function(e,t){0===e&&!this.children.length||e>=this.children.length?this.add(t):(A.distributeView(t,this.projectToSlots,this,e),this.children.splice(e,0,t),this.isAttached&&t.attached())},ViewSlot.prototype._projectionMove=function(e,t){if(e!==t){var n=this.children,r=n[e];A.undistributeView(r,this.projectToSlots,this),A.distributeView(r,this.projectToSlots,this,t),n.splice(e,1),n.splice(t,0,r)}},ViewSlot.prototype._projectionRemove=function(e,t){A.undistributeView(e,this.projectToSlots,this),this.children.splice(this.children.indexOf(e),1),this.isAttached&&e.detached(),t&&e.returnToCache()},ViewSlot.prototype._projectionRemoveAt=function(e,t){var n=this.children[e];A.undistributeView(n,this.projectToSlots,this),this.children.splice(e,1),this.isAttached&&n.detached(),t&&n.returnToCache()},ViewSlot.prototype._projectionRemoveMany=function(e,t){var n=this;e.forEach((function(e){return n.remove(e,t)}))},ViewSlot.prototype._projectionRemoveAll=function(e){A.undistributeAll(this.projectToSlots,this);for(var t=this.children,n=t.length,r=0;r<n;++r)e?t[r].returnToCache():this.isAttached&&t[r].detached();this.children=[]},ViewSlot}(),N=u.resolver,L=new(function(){function ProviderResolver(){}return ProviderResolver.prototype.get=function(e,t){var n=t.__providerId__;return n in e?e[n]:e[n]=e.invoke(t)},ProviderResolver=__decorate([N],ProviderResolver)}());function elementContainerGet(e){if(e===r.DOM.Element)return this.element;if(e===V){if(this.boundViewFactory)return this.boundViewFactory;var t=this.instruction.viewFactory,n=this.partReplacements;return n&&(t=n[t.part]||t),this.boundViewFactory=new V(this,t,n),this.boundViewFactory}return e===R?(void 0===this.viewSlot&&(this.viewSlot=new R(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):e===h?this.elementEvents||(this.elementEvents=new h(this.element)):e===D?this.compositionTransaction||(this.compositionTransaction=this.parent.get(e)):e===re?this.viewResources:e===y?this.instruction:this.superGet(e)}function hasAttribute(e){return this._element.hasAttribute(e)}function getAttribute(e){return this._element.getAttribute(e)}function setAttribute(e,t){this._element.setAttribute(e,t)}function applyInstructions(e,t,n,o,a,l,d,c,u){var p,h,g,m,f,v=n.behaviorInstructions,b=n.expressions;if(n.contentExpression)return a.push(n.contentExpression.createBinding(t.nextSibling)),t.nextSibling.auInterpolationTarget=!0,void t.parentNode.removeChild(t);if(n.shadowSlot){var y=r.DOM.createComment("slot"),_=void 0;return _=n.slotDestination?new q(y,n.slotName,n.slotDestination,n.slotFallbackFactory):new I(y,n.slotName,n.slotFallbackFactory),r.DOM.replaceNode(y,t),d[n.slotName]=_,void o.push(_)}if(n.letElement){for(h=0,g=b.length;h<g;++h)a.push(b[h].createBinding());t.parentNode.removeChild(t)}else{if(v.length)for(n.anchorIsContainer||(t=function makeElementIntoAnchor(e,t){var n=r.DOM.createComment("anchor");if(t){var o=e.firstChild;o&&"AU-CONTENT"===o.tagName&&(n.contentElement=o),n._element=e,n.hasAttribute=hasAttribute,n.getAttribute=getAttribute,n.setAttribute=setAttribute}return r.DOM.replaceNode(n,e),n}(t,n.elementInstruction)),e[n.injectorId]=p=function createElementContainer(e,t,n,r,o,a){var l,d,c=e.createChild();for(c.element=t,c.instruction=n,c.children=r,c.viewResources=a,c.partReplacements=o,d=(l=n.providers).length;d--;)c._resolvers.set(l[d],L);return c.superGet=c.get,c.get=elementContainerGet,c}(e[n.parentInjectorId],t,n,l,c,u),h=0,g=v.length;h<g;++h)f=(m=v[h]).type.create(p,m,t,a),o.push(f);for(h=0,g=b.length;h<g;++h)a.push(b[h].createBinding(t))}}function styleStringToObject(e,t){var n,r,o,a,l,d=e.split(";");for(t=t||{},r=0;r<d.length;r++)n=(o=d[r]).indexOf(":"),a=o.substring(0,n).trim(),l=o.substring(n+1).trim(),t[a]=l;return t}function styleObjectToString(e){var t="";for(var n in e)t+=n+":"+e[n]+";";return t}var V=function(){function BoundViewFactory(e,t,n){this.parentContainer=e,this.viewFactory=t,this.factoryCreateInstruction={partReplacements:n}}return BoundViewFactory.prototype.create=function(){var e=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return e._isUserControlled=!0,e},Object.defineProperty(BoundViewFactory.prototype,"isCaching",{get:function(){return this.viewFactory.isCaching},enumerable:!1,configurable:!0}),BoundViewFactory.prototype.setCacheSize=function(e,t){this.viewFactory.setCacheSize(e,t)},BoundViewFactory.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},BoundViewFactory.prototype.returnViewToCache=function(e){this.viewFactory.returnViewToCache(e)},BoundViewFactory}(),B=function(){function ViewFactory(e,t,n){this.isCaching=!1,this.template=e,this.instructions=t,this.resources=n,this.cacheSize=-1,this.cache=null}return ViewFactory.prototype.setCacheSize=function(e,t){e&&("*"===e?e=Number.MAX_VALUE:"string"==typeof e&&(e=parseInt(e,10))),-1!==this.cacheSize&&t||(this.cacheSize=Number(e)),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0},ViewFactory.prototype.getCachedView=function(){return null!==this.cache&&this.cache.pop()||null},ViewFactory.prototype.returnViewToCache=function(e){e.isAttached&&e.detached(),e.isBound&&e.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(e.fromCache=!0,this.cache.push(e))},ViewFactory.prototype.create=function(e,t,n){t=t||v.normal;var r=this.getCachedView();if(null!==r)return r;var o,a,l,d,c,u=t.enhance?this.template:this.template.cloneNode(!0),p=u.querySelectorAll(".au-target"),h=this.instructions,g=this.resources,m=[],f=[],b=[],y=Object.create(null),_={root:e},x=t.partReplacements;for(this.resources._invokeHook("beforeCreate",this,e,u,t),n&&null!==this.surrogateInstruction&&function applySurrogateInstruction(e,t,n,r,o,a){var l,d,c,u,p,h=n.behaviorInstructions,g=n.expressions,m=n.providers,f=n.values;for(l=m.length;l--;)e._resolvers.set(m[l],L);for(var v in f)if(p=t.getAttribute(v)){if("class"===v)t.setAttribute("class",p+" "+f[v]);else if("style"===v){var b=styleStringToObject(f[v]);styleStringToObject(p,b),t.setAttribute("style",styleObjectToString(b))}}else t.setAttribute(v,f[v]);if(h.length)for(l=0,d=h.length;l<d;++l)(u=(c=h[l]).type.create(e,c,t,o)).contentView&&a.push(u.contentView),r.push(u);for(l=0,d=g.length;l<d;++l)o.push(g[l].createBinding(t))}(e,n,this.surrogateInstruction,m,f,b),t.enhance&&u.hasAttribute("au-target-id")&&(c=h[(d=u).getAttribute("au-target-id")],applyInstructions(_,d,c,m,f,b,y,x,g)),o=0,a=p.length;o<a;++o)c=h[(d=p[o]).getAttribute("au-target-id")],applyInstructions(_,d,c,m,f,b,y,x,g);return l=new F(e,this,u,m,f,b,y),t.initiatedByBehavior||l.created(),this.resources._invokeHook("afterCreate",l),l},ViewFactory}(),$=0;var H=0;function makeIntoInstructionTarget(e){var t=e.getAttribute("class"),n=function getNextAUTargetID(){return(++H).toString()}();return e.setAttribute("class",t?t+" au-target":"au-target"),e.setAttribute("au-target-id",n),n}var z=k.prototype.createLetExpressions,U=function(){function ViewCompiler(e,t){this.bindingLanguage=e,this.resources=t}return ViewCompiler.inject=function(){return[k,re]},ViewCompiler.prototype.compile=function(e,t,n){var o,a,l;t=t||this.resources,n=n||f.normal,(e="string"==typeof e?r.DOM.createTemplateFromMarkup(e):e).content?(a=e.getAttribute("part"),l=e.getAttribute("view-cache"),o=r.DOM.adoptNode(e.content)):o=e,n.targetShadowDOM=n.targetShadowDOM&&r.FEATURE.shadowDOM,t._invokeHook("beforeCompile",o,t,n);var d={};this._compileNode(o,t,d,e,"root",!n.targetShadowDOM);var c=o.firstChild;if(c&&1===c.nodeType){var u=c.getAttribute("au-target-id");if(u){var p=d[u];(p.shadowSlot||p.lifting||p.elementInstruction&&!p.elementInstruction.anchorIsContainer)&&o.insertBefore(r.DOM.createComment("view"),c)}}var h=new B(o,d,t);return h.surrogateInstruction=n.compileSurrogate?this._compileSurrogate(e,t):null,h.part=a,l&&h.setCacheSize(l),t._invokeHook("afterCompile",h),h},ViewCompiler.prototype._compileNode=function(e,t,n,o,a,l){switch(e.nodeType){case 1:return this._compileElement(e,t,n,o,a,l);case 3:var d=t.getBindingLanguage(this.bindingLanguage).inspectTextContent(t,e.wholeText);if(d){var c=r.DOM.createElement("au-marker"),u=makeIntoInstructionTarget(c);for((e.parentNode||o).insertBefore(c,e),e.textContent=" ",n[u]=y.contentExpression(d);e.nextSibling&&3===e.nextSibling.nodeType;)(e.parentNode||o).removeChild(e.nextSibling)}else for(;e.nextSibling&&3===e.nextSibling.nodeType;)e=e.nextSibling;return e.nextSibling;case 11:for(var p=e.firstChild;p;)p=this._compileNode(p,t,n,e,a,l)}return e.nextSibling},ViewCompiler.prototype._compileSurrogate=function(e,t){var n,r,o,a,l,d,c,u,p,h,g,m=e.tagName.toLowerCase(),f=e.attributes,b=t.getBindingLanguage(this.bindingLanguage),_=[],x=[],C={},S=!1,E=[];for(a=0,l=f.length;a<l;++a){if(c=(d=f[a]).name,u=d.value,p=b.inspectAttribute(t,m,c,u),(h=t.getAttribute(p.attrName))&&(n=t.mapAttribute(p.attrName))&&(r=h.attributes[n])&&(p.defaultBindingMode=r.defaultBindingMode,p.command||p.expression||(p.command=r.hasOptions?"options":null),p.command&&"options"!==p.command&&h.primaryProperty)){var k=h.primaryProperty;c=p.attrName=k.attribute,p.defaultBindingMode=k.defaultBindingMode}if(o=b.createAttributeInstruction(t,e,p,void 0,h))if(o.alteredAttr&&(h=t.getAttribute(o.attrName)),o.discrete)_.push(o);else if(h){if(o.type=h,this._configureProperties(o,t),h.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");x.push(o)}else _.push(o.attributes[o.attrName]);else if(h){if((o=v.attribute(c,h)).attributes[t.mapAttribute(c)]=u,h.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");x.push(o)}else"id"!==c&&"part"!==c&&"replace-part"!==c&&(S=!0,C[c]=u)}if(_.length||x.length||S){for(a=0,l=x.length;a<l;++a)(o=x[a]).type.compile(this,t,e,o),E.push(o.type.target);for(a=0,l=_.length;a<l;++a)void 0!==(g=_[a]).attrToRemove&&e.removeAttribute(g.attrToRemove);return y.surrogate(E,x,_,C)}return null},ViewCompiler.prototype._compileElement=function(e,t,n,o,a,l){var d,c,u,p,h,g,m,f,b,_,x,C,S,E,k,T,M,q=e.tagName.toLowerCase(),I=e.attributes,O=[],P=[],D=[],F=t.getBindingLanguage(this.bindingLanguage);if("slot"===q)return l&&(e=function makeShadowSlot(e,t,n,o,a){var l=r.DOM.createElement("au-shadow-slot");r.DOM.replaceNode(l,n);var d=makeIntoInstructionTarget(l),c=y.shadowSlot(a);if(c.slotName=n.getAttribute("name")||A.defaultSlotKey,c.slotDestination=n.getAttribute("slot"),n.innerHTML.trim()){for(var u=r.DOM.createDocumentFragment(),p=void 0;p=n.firstChild;)u.appendChild(p);c.slotFallbackFactory=e.compile(u,t)}return o[d]=c,l}(this,t,e,n,a)),e.nextSibling;if("template"===q){if(!("content"in e))throw new Error("You cannot place a template element within "+e.namespaceURI+" namespace");(u=this.compile(e,t)).part=e.getAttribute("part")}else{if(p=t.getElement(e.getAttribute("as-element")||q),"let"===q&&!p&&F.createLetExpressions!==z)return O=F.createLetExpressions(t,e),n[makeIntoInstructionTarget(e)]=y.letElement(O),e.nextSibling;p&&(h=v.element(e,p),p.processAttributes(this,t,e,I,h),P.push(h))}for(m=0,f=I.length;m<f;++m){if(C=_=(b=I[m]).name,x=b.value,E=F.inspectAttribute(t,q,_,x),l&&"slot"===E.attrName&&(E.attrName=_="au-slot"),g=null,p=t.getAttribute(E.attrName)){if((T=t.mapAttribute(E.attrName))&&(k=p.attributes[T])&&(E.defaultBindingMode=k.defaultBindingMode,E.command||E.expression||(E.command=k.hasOptions?"options":null),E.command&&"options"!==E.command&&p.primaryProperty)){var j=p.primaryProperty;_=E.attrName=j.attribute,E.defaultBindingMode=j.defaultBindingMode}}else h&&(g=h.type.attributes[E.attrName])&&(E.defaultBindingMode=g.defaultBindingMode);if(S=g?F.createAttributeInstruction(t,e,E,h):F.createAttributeInstruction(t,e,E,void 0,p))if(S.alteredAttr&&(p=t.getAttribute(S.attrName)),S.discrete)O.push(S);else if(p){if(S.type=p,this._configureProperties(S,t),p.liftsContent){S.originalAttrName=C,c=S;break}P.push(S)}else g?h.attributes[E.attrName].targetProperty=g.name:O.push(S.attributes[S.attrName]);else if(p){if((S=v.attribute(_,p)).attributes[t.mapAttribute(_)]=x,p.liftsContent){S.originalAttrName=C,c=S;break}P.push(S)}else g&&(h.attributes[_]=x)}if(c)c.viewFactory=u,n[makeIntoInstructionTarget(e=c.type.compile(this,t,e,c,o))]=y.lifting(a,c);else{var R=!1;if(O.length||P.length){for(M=!!P.length&&function getNextInjectorId(){return++$}(),m=0,f=P.length;m<f;++m)(S=P[m]).type.compile(this,t,e,S,o),D.push(S.type.target),R=R||S.skipContentProcessing;for(m=0,f=O.length;m<f;++m)void 0!==(d=O[m]).attrToRemove&&e.removeAttribute(d.attrToRemove);n[makeIntoInstructionTarget(e)]=y.normal(M,a,D,P,O,h)}if(R)return e.nextSibling;for(var N=e.firstChild;N;)N=this._compileNode(N,t,n,e,M||a,l)}return e.nextSibling},ViewCompiler.prototype._configureProperties=function(e,t){var n,r,o,a=e.type,l=e.attrName,d=e.attributes,c=t.mapAttribute(l);for(r in c&&l in d&&c!==l&&(d[c]=d[l],delete d[l]),d)null!==(o=d[r])&&"object"==typeof o&&(n=a.attributes[r],o.targetProperty=void 0!==n?n.name:r)},ViewCompiler}(),Q=function(){function ViewEngineHooksResource(){}return ViewEngineHooksResource.prototype.initialize=function(e,t){this.instance=e.get(t)},ViewEngineHooksResource.prototype.register=function(e,t){e.registerViewEngineHooks(this.instance)},ViewEngineHooksResource.prototype.load=function(e,t){},ViewEngineHooksResource.convention=function(e){if(e.endsWith("ViewEngineHooks"))return new ViewEngineHooksResource},ViewEngineHooksResource}();function viewEngineHooks(e){var deco=function(e){a.metadata.define(a.metadata.resource,new Q,e)};return e?deco(e):deco}var W=function(){function ResourceModule(e){this.id=e,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null,this.loadContext=null}return ResourceModule.prototype.initialize=function(e){var t=this.mainResource,n=this.resources,r=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==t&&(t.metadata.viewStrategy=r,t.initialize(e));for(var o=0,a=n.length;o<a;++o)(t=n[o]).metadata.viewStrategy=r,t.initialize(e)}},ResourceModule.prototype.register=function(e,t){var n=this.mainResource,r=this.resources;void 0!==n&&(n.register(e,t),t=null);for(var o=0,a=r.length;o<a;++o)r[o].register(e,t),t=null},ResourceModule.prototype.load=function(e,t){if(null!==this.onLoaded)return this.loadContext===t?Promise.resolve():this.onLoaded;var n,r=this.mainResource,o=this.resources;if(void 0!==r){(n=new Array(o.length+1))[0]=r.load(e,t);for(var a=0,l=o.length;a<l;++a)n[a+1]=o[a].load(e,t)}else{n=new Array(o.length);for(a=0,l=o.length;a<l;++a)n[a]=o[a].load(e,t)}return this.loadContext=t,this.onLoaded=Promise.all(n),this.onLoaded},ResourceModule}(),G=function(){function ResourceDescription(e,t,n){n||(n=a.metadata.get(a.metadata.resource,t))||((n=new ne).elementName=_hyphenate(e),a.metadata.define(a.metadata.resource,n,t)),n instanceof ne?void 0===n.elementName?n.elementName=_hyphenate(e):void 0===n.attributeName?n.attributeName=_hyphenate(e):null===n.attributeName&&null===n.elementName&&ne.convention(e,n):n.name||(n.name=_hyphenate(e)),this.metadata=n,this.value=t}return ResourceDescription.prototype.initialize=function(e){this.metadata.initialize(e,this.value)},ResourceDescription.prototype.register=function(e,t){this.metadata.register(e,t)},ResourceDescription.prototype.load=function(e,t){return this.metadata.load(e,this.value,t)},ResourceDescription}(),K=function(){function ModuleAnalyzer(){this.cache=Object.create(null)}return ModuleAnalyzer.prototype.getAnalysis=function(e){return this.cache[e]},ModuleAnalyzer.prototype.analyze=function(e,t,n){var r,l,d,u,p,h,g,m,f,v=[];if(f=this.cache[e])return f;for(p in f=new W(e),this.cache[e]=f,"function"==typeof t&&(t={default:t}),n&&(r=new G(n,t[n])),t)h=t[p],p!==n&&"function"==typeof h&&((u=a.metadata.get(a.metadata.resource,h))?(u instanceof ne&&(re.convention(h,u),null===u.attributeName&&null===u.elementName&&ne.convention(p,u),null===u.attributeName&&null===u.elementName&&(u.elementName=_hyphenate(p))),!r&&u instanceof ne&&null!==u.elementName?r=new G(p,h,u):v.push(new G(p,h,u))):oe.decorates(h)?m=h:h instanceof o.TemplateRegistryEntry?m=new de(e,h):(g=re.convention(h))||(g=ne.convention(p))?(null===g.elementName||r?v.push(new G(p,h,g)):r=new G(p,h,g),a.metadata.define(a.metadata.resource,g,h)):(g=c.ValueConverterResource.convention(p)||c.BindingBehaviorResource.convention(p)||Q.convention(p))?(v.push(new G(p,h,g)),a.metadata.define(a.metadata.resource,g,h)):l||(l=h,d=p));return!r&&l&&(r=new G(d,l)),f.moduleInstance=t,f.mainResource=r,f.resources=v,f.viewStrategy=m,f},ModuleAnalyzer}(),X=d.getLogger("templating");var Y=function(){function ProxyViewFactory(e){var t=this;e.then((function(e){return t.viewFactory=e}))}return ProxyViewFactory.prototype.create=function(e,t,n,r){return this.viewFactory.create(e,t,n,r)},Object.defineProperty(ProxyViewFactory.prototype,"isCaching",{get:function(){return this.viewFactory.isCaching},enumerable:!1,configurable:!0}),ProxyViewFactory.prototype.setCacheSize=function(e,t){this.viewFactory.setCacheSize(e,t)},ProxyViewFactory.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},ProxyViewFactory.prototype.returnViewToCache=function(e){this.viewFactory.returnViewToCache(e)},ProxyViewFactory}(),Z=null,J=function(){function ViewEngine(e,t,n,r,o){this.loader=e,this.container=t,this.viewCompiler=n,this.moduleAnalyzer=r,this.appResources=o,this._pluginMap={},null===Z&&((Z=new ne).attributeName="au-slot",a.metadata.define(a.metadata.resource,Z,M)),Z.initialize(t,M),Z.register(o)}return ViewEngine.inject=function(){return[o.Loader,u.Container,U,K,re]},ViewEngine.prototype.addResourcePlugin=function(e,t){var n=e.replace(".","")+"-resource-plugin";this._pluginMap[e]=n,this.loader.addPlugin(n,t)},ViewEngine.prototype.loadViewFactory=function(e,t,n,r){var a=this;return n=n||new m,function ensureRegistryEntry(e,t){return t instanceof o.TemplateRegistryEntry?Promise.resolve(t):e.loadTemplate(t)}(this.loader,e).then((function(e){var o=e.address;return e.onReady?n.hasDependency(o)?null===e.template?e.onReady:Promise.resolve(new Y(e.onReady)):(n.addDependency(o),e.onReady):(n.addDependency(o),e.onReady=a.loadTemplateResources(e,t,n,r).then((function(n){if(e.resources=n,null===e.template)return e.factory=null;var r=a.viewCompiler.compile(e.template,n,t);return e.factory=r})),e.onReady)}))},ViewEngine.prototype.loadTemplateResources=function(e,t,n,r){var o,d,c=new re(this.appResources,e.address),u=e.dependencies;if(t=t||f.normal,0===u.length&&!t.associatedModuleId)return Promise.resolve(c);if(o=u.map((function(e){return e.src})),d=u.map((function(e){return e.name})),X.debug("importing resources for ".concat(e.address),o),r){var p=a.metadata.get(ViewEngine.viewModelRequireMetadataKey,r);if(p){for(var h=o.length,g=0,m=p.length;g<m;++g){var v=p[g],b="function"==typeof v?a.Origin.get(v).moduleId:(0,l.relativeToFile)(v.src||v,e.address);-1===o.indexOf(b)&&(o.push(b),d.push(v.as))}X.debug("importing ViewModel resources for ".concat(t.associatedModuleId),o.slice(h))}}return this.importViewResources(o,d,c,t,n)},ViewEngine.prototype.importViewModelResource=function(e,t){var n=this;return this.loader.loadModule(e).then((function(r){var o=a.Origin.get(r).moduleId,l=n.moduleAnalyzer.analyze(o,r,t);if(!l.mainResource)throw new Error('No view model found in module "'.concat(e,'".'));return l.initialize(n.container),l.mainResource}))},ViewEngine.prototype.importViewResources=function(e,t,n,r,o){var l=this;return o=o||new m,r=r||f.normal,e=e.map((function(e){return l._applyLoaderPlugin(e)})),this.loader.loadAllModules(e).then((function(e){var d,c,u,p,h,g,m=l.container,f=l.moduleAnalyzer,v=new Array(e.length);for(d=0,c=e.length;d<c;++d)h=e[d],p=a.Origin.get(h).moduleId,(u=f.analyze(p,h)).initialize(m),u.register(n,t[d]),v[d]=u;for(r.associatedModuleId&&(g=f.getAnalysis(r.associatedModuleId))&&g.register(n),d=0,c=v.length;d<c;++d)v[d]=v[d].load(m,o);return Promise.all(v).then((function(){return n}))}))},ViewEngine.prototype._applyLoaderPlugin=function(e){var t=e.lastIndexOf(".");if(-1!==t){var n=e.substring(t),r=this._pluginMap[n];return void 0===r?e:this.loader.applyPluginToUrl(e,r)}return e},ViewEngine.viewModelRequireMetadataKey="aurelia:view-model-require",ViewEngine}(),ee=function(){function Controller(e,t,n,r){this.behavior=e,this.instruction=t,this.viewModel=n,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.container=r,this.elementEvents=r.elementEvents||null;var o,a,l=e.observerLocator.getOrCreateObserversLookup(n),d=e.handlesBind,c=t.attributes,u=this.boundProperties=[],p=e.properties;for(e._ensurePropertiesDefined(n,l),o=0,a=p.length;o<a;++o)p[o]._initialize(n,l,c,d,u)}return Controller.prototype.created=function(e){this.behavior.handlesCreated&&this.viewModel.created(e,this.view)},Controller.prototype.automate=function(e,t){this.view.bindingContext=this.viewModel,this.view.overrideContext=e||(0,c.createOverrideContext)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(t||null,this.view),this.bind(this.view)},Controller.prototype.bind=function(e){var t,n,r,o,a,l,d=this.behavior.handlesBind,u=this.boundProperties;if(this.isBound){if(this.scope===e)return;this.unbind()}for(this.isBound=!0,this.scope=e,t=0,n=u.length;t<n;++t)a=(o=(r=u[t]).observer).selfSubscriber,o.publishing=!1,d&&(o.selfSubscriber=null),r.binding.bind(e),o.call(),o.publishing=!0,o.selfSubscriber=a;null!==this.view?(d&&(this.view.viewModelScope=e),this.viewModel===e.overrideContext.bindingContext?l=e.overrideContext:this.instruction.inheritBindingContext?l=(0,c.createOverrideContext)(this.viewModel,e.overrideContext):(l=(0,c.createOverrideContext)(this.viewModel)).__parentOverrideContext=e.overrideContext,this.view.bind(this.viewModel,l)):d&&(l=e.overrideContext,void 0!==e.overrideContext.__parentOverrideContext&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&((l=Object.assign({},e.overrideContext)).parentOverrideContext=e.overrideContext.__parentOverrideContext),this.viewModel.bind(e.bindingContext,l))},Controller.prototype.unbind=function(){if(this.isBound){var e,t=this.boundProperties,n=void 0;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),n=0,e=t.length;n<e;++n)t[n].binding.unbind()}},Controller.prototype.attached=function(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())},Controller.prototype.detached=function(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())},Controller}(),te=0;function doProcessContent(){return!0}function doProcessAttributes(){}var ne=function(){function HtmlBehaviorResource(){this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.shadowDOMOptions=null,this.processAttributes=doProcessAttributes,this.processContent=doProcessContent,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1,this.primaryProperty=null}return HtmlBehaviorResource.convention=function(e,t){var n;return e.endsWith("CustomAttribute")&&((n=t||new HtmlBehaviorResource).attributeName=_hyphenate(e.substring(0,e.length-15))),e.endsWith("CustomElement")&&((n=t||new HtmlBehaviorResource).elementName=_hyphenate(e.substring(0,e.length-13))),n},HtmlBehaviorResource.prototype.addChildBinding=function(e){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(e)},HtmlBehaviorResource.prototype.initialize=function(e,t){var n,o,a,l=t.prototype,d=this.properties,u=this.attributeName,h=this.attributeDefaultBindingMode;if(!this.isInitialized)if(this.isInitialized=!0,t.__providerId__=function nextProviderId(){return++te}(),this.observerLocator=e.get(c.ObserverLocator),this.taskQueue=e.get(p.TaskQueue),this.target=t,this.usesShadowDOM=this.targetShadowDOM&&r.FEATURE.shadowDOM,this.handlesCreated="created"in l,this.handlesBind="bind"in l,this.handlesUnbind="unbind"in l,this.handlesAttached="attached"in l,this.handlesDetached="detached"in l,this.htmlName=this.elementName||this.attributeName,null!==u)if(0===d.length&&new S({name:"value",changeHandler:"valueChanged"in l?"valueChanged":null,attribute:u,defaultBindingMode:h}).registerWith(t,this),a=d[0],1===d.length&&"value"===a.name)a.isDynamic=a.hasOptions=this.hasDynamicOptions,a.defineOn(t,this);else{for(n=0,o=d.length;n<o;++n)if(d[n].defineOn(t,this),d[n].primaryProperty){if(this.primaryProperty)throw new Error("Only one bindable property on a custom element can be defined as the default");this.primaryProperty=d[n]}(a=new S({name:"value",changeHandler:"valueChanged"in l?"valueChanged":null,attribute:u,defaultBindingMode:h})).hasOptions=!0,a.registerWith(t,this)}else{for(n=0,o=d.length;n<o;++n)d[n].defineOn(t,this);this._copyInheritedProperties(e,t)}},HtmlBehaviorResource.prototype.register=function(e,t){var n=this;null!==this.attributeName&&(e.registerAttribute(t||this.attributeName,this,this.attributeName),Array.isArray(this.aliases)&&this.aliases.forEach((function(t){e.registerAttribute(t,n,n.attributeName)}))),null!==this.elementName&&e.registerElement(t||this.elementName,this)},HtmlBehaviorResource.prototype.aliases=function(e){throw new Error("Method not implemented.")},HtmlBehaviorResource.prototype.load=function(e,t,n,r,o){var l,d=this;return null!==this.elementName?(r=e.get(E).getViewStrategy(r||this.viewStrategy||t),l=new f(this.targetShadowDOM,!0),r.moduleId||(r.moduleId=a.Origin.get(t).moduleId),r.loadViewFactory(e.get(J),l,n,t).then((function(e){return o&&d.viewFactory||(d.viewFactory=e),e}))):Promise.resolve(this)},HtmlBehaviorResource.prototype.compile=function(e,t,n,o,a){if(this.liftsContent){if(!o.viewFactory){var l=r.DOM.createElement("template"),d=r.DOM.createDocumentFragment(),c=n.getAttribute("view-cache"),u=n.getAttribute("part");n.removeAttribute(o.originalAttrName),r.DOM.replaceNode(l,n,a),d.appendChild(n),o.viewFactory=e.compile(d,t),u&&(o.viewFactory.part=u,n.removeAttribute("part")),c&&(o.viewFactory.setCacheSize(c),n.removeAttribute("view-cache")),n=l}}else if(null!==this.elementName){var p={};if(this.processContent(e,t,n,o)&&n.hasChildNodes()){for(var h=n.firstChild,g=this.usesShadowDOM?null:r.DOM.createElement("au-content"),m=void 0,f=void 0;h;)m=h.nextSibling,"TEMPLATE"===h.tagName&&(f=h.getAttribute("replace-part"))?(p[f]=e.compile(h,t),r.DOM.removeNode(h,a),o.partReplacements=p):null!==g&&(3===h.nodeType&&_isAllWhitespace(h)?r.DOM.removeNode(h,a):g.appendChild(h)),h=m;null!==g&&g.hasChildNodes()&&n.appendChild(g),o.skipContentProcessing=!1}else o.skipContentProcessing=!0}else this.processContent(e,t,n,o)||(o.skipContentProcessing=!0);return n},HtmlBehaviorResource.prototype.create=function(e,t,n,o){var a,l=null;t=t||v.normal,n=n||null,o=o||null,null!==this.elementName&&n&&(this.usesShadowDOM?(a=n.attachShadow(this.shadowDOMOptions),e.registerInstance(r.DOM.boundary,a)):(a=n,this.targetShadowDOM&&e.registerInstance(r.DOM.boundary,a))),null!==n&&(n.au=l=n.au||{});var d,c=t.viewModel||e.get(this.target),u=new ee(this,t,c,e),p=this.childBindings;if(this.liftsContent)l.controller=u;else if(null!==this.elementName){if(d=t.viewFactory||this.viewFactory,e.viewModel=c,d&&(u.view=d.create(e,t,n)),null!==n){if(l.controller=u,u.view){if(!this.usesShadowDOM&&(1===n.childNodes.length||n.contentElement)){var h=n.childNodes[0]||n.contentElement;u.view.contentView={fragment:h},h.parentNode&&r.DOM.removeNode(h)}if(t.anchorIsContainer){if(null!==p)for(var g=0,m=p.length;g<m;++g)u.view.addBinding(p[g].create(n,c,u));u.view.appendNodesTo(a)}else u.view.insertNodesBefore(a)}else if(null!==p)for(g=0,m=p.length;g<m;++g)o.push(p[g].create(n,c,u))}else if(u.view){if(u.view.controller=u,null!==p)for(g=0,m=p.length;g<m;++g)u.view.addBinding(p[g].create(t.host,c,u))}else if(null!==p)for(g=0,m=p.length;g<m;++g)o.push(p[g].create(t.host,c,u))}else if(null!==p)for(g=0,m=p.length;g<m;++g)o.push(p[g].create(n,c,u));return null!==l&&(l[this.htmlName]=u),t.initiatedByBehavior&&d&&u.view.created(),u},HtmlBehaviorResource.prototype._ensurePropertiesDefined=function(e,t){var n,r,o,a;if(!("__propertiesDefined__"in t))for(t.__propertiesDefined__=!0,r=0,o=(n=this.properties).length;r<o;++r)void 0!==(a=n[r].createObserver(e))&&(t[a.propertyName]=a)},HtmlBehaviorResource.prototype._copyInheritedProperties=function(e,t){for(var n,r=t;;){var o=Object.getPrototypeOf(t.prototype);if(!(t=o&&o.constructor))return;if(n=a.metadata.getOwn(a.metadata.resource,t))break}n.initialize(e,t);for(var _loop_1=function(e,t){var o=n.properties[e];if(l.properties.some((function(e){return e.name===o.name})))return"continue";new S(o).registerWith(r,l)},l=this,d=0,c=n.properties.length;d<c;++d)_loop_1(d)},HtmlBehaviorResource}();function register(e,t,n,r){if(t){var o=e[t];if(o){if(o!==n)throw new Error("Attempted to register ".concat(r," when one with the same name already exists. Name: ").concat(t,"."))}else e[t]=n}}function validateBehaviorName(e,t){if(/[A-Z]/.test(e)){var n=_hyphenate(e);return d.getLogger("templating").warn("'".concat(e,"' is not a valid ").concat(t," name and has been converted to '").concat(n,"'. Upper-case letters are not allowed because the DOM is not case-sensitive.")),n}return e}var ie="__au_resource__",re=function(){function ViewResources(e,t){this.bindingLanguage=null,this.parent=e||null,this.hasParent=null!==this.parent,this.viewUrl=t||"",this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes=Object.create(null),this.elements=Object.create(null),this.valueConverters=Object.create(null),this.bindingBehaviors=Object.create(null),this.attributeMap=Object.create(null),this.values=Object.create(null),this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}return ViewResources.convention=function(e,t){var n;if(t&&ie in t)return t;if("$resource"in e){var r=e.$resource;if("string"==typeof r)(n=t||new ne)[ie]=!0,n.elementName||(n.elementName=validateBehaviorName(r,"custom element"));else{"function"==typeof r&&(r=r.call(e)),"string"==typeof r&&(r={name:r});var o=(r=Object.assign({},r)).type||"element",a=r.name;switch(o){case"element":case"attribute":(n=t||new ne)[ie]=!0,"element"===o?n.elementName||(n.elementName=a?validateBehaviorName(a,"custom element"):_hyphenate(e.name)):n.attributeName||(n.attributeName=a?validateBehaviorName(a,"custom attribute"):_hyphenate(e.name)),"templateController"in r&&(r.liftsContent=r.templateController,delete r.templateController),"defaultBindingMode"in r&&void 0!==n.attributeDefaultBindingMode&&(r.attributeDefaultBindingMode=r.defaultBindingMode,delete r.defaultBindingMode),delete r.name,Object.assign(n,r);break;case"valueConverter":n=new c.ValueConverterResource((0,c.camelCase)(a||e.name));break;case"bindingBehavior":n=new c.BindingBehaviorResource((0,c.camelCase)(a||e.name));break;case"viewEngineHooks":n=new Q}}if(n instanceof ne){var l="string"==typeof r?void 0:r.bindables,d=n.properties;if(Array.isArray(l))for(var u=0,p=l.length;p>u;++u){var h=l[u];if(!h||"string"!=typeof h&&!h.name)throw new Error('Invalid bindable property at "'.concat(u,'" for class "').concat(e.name,'". Expected either a string or an object with "name" property.'));for(var g=new S(h),m=!1,f=0,v=d.length;v>f;++f)if(d[f].name===g.name){m=!0;break}m||g.registerWith(e,n)}}}return n},ViewResources.prototype._tryAddHook=function(e,t){if("function"==typeof e[t]){for(var n=e[t].bind(e),r=1,o=void 0;void 0!==this[o=t+r.toString()];)r++;this[t]=!0,this[o]=n}},ViewResources.prototype._invokeHook=function(e,t,n,r,o){if(this.hasParent&&this.parent._invokeHook(e,t,n,r,o),this[e]){this[e+"1"](t,n,r,o);var a=e+"2";if(this[a]&&(this[a](t,n,r,o),this[a=e+"3"])){this[a](t,n,r,o);for(var l=4;void 0!==this[a=e+l.toString()];)this[a](t,n,r,o),l++}}},ViewResources.prototype.registerViewEngineHooks=function(e){this._tryAddHook(e,"beforeCompile"),this._tryAddHook(e,"afterCompile"),this._tryAddHook(e,"beforeCreate"),this._tryAddHook(e,"afterCreate"),this._tryAddHook(e,"beforeBind"),this._tryAddHook(e,"beforeUnbind")},ViewResources.prototype.getBindingLanguage=function(e){return this.bindingLanguage||(this.bindingLanguage=e)},ViewResources.prototype.patchInParent=function(e){var t=this.parent;this.parent=e||null,this.hasParent=null!==this.parent,null===e.parent&&(e.parent=t,e.hasParent=null!==t)},ViewResources.prototype.relativeToView=function(e){return(0,l.relativeToFile)(e,this.viewUrl)},ViewResources.prototype.registerElement=function(e,t){register(this.elements,e,t,"an Element")},ViewResources.prototype.getElement=function(e){return this.elements[e]||(this.hasParent?this.parent.getElement(e):null)},ViewResources.prototype.mapAttribute=function(e){return this.attributeMap[e]||(this.hasParent?this.parent.mapAttribute(e):null)},ViewResources.prototype.registerAttribute=function(e,t,n){this.attributeMap[e]=n,register(this.attributes,e,t,"an Attribute")},ViewResources.prototype.getAttribute=function(e){return this.attributes[e]||(this.hasParent?this.parent.getAttribute(e):null)},ViewResources.prototype.registerValueConverter=function(e,t){register(this.valueConverters,e,t,"a ValueConverter")},ViewResources.prototype.getValueConverter=function(e){return this.valueConverters[e]||(this.hasParent?this.parent.getValueConverter(e):null)},ViewResources.prototype.registerBindingBehavior=function(e,t){register(this.bindingBehaviors,e,t,"a BindingBehavior")},ViewResources.prototype.getBindingBehavior=function(e){return this.bindingBehaviors[e]||(this.hasParent?this.parent.getBindingBehavior(e):null)},ViewResources.prototype.registerValue=function(e,t){register(this.values,e,t,"a value")},ViewResources.prototype.getValue=function(e){return this.values[e]||(this.hasParent?this.parent.getValue(e):null)},ViewResources.prototype.autoRegister=function(e,t){var n=a.metadata.getOwn(a.metadata.resource,t);return n?n instanceof ne&&(ViewResources.convention(t,n),null===n.attributeName&&null===n.elementName&&ne.convention(t.name,n),null===n.attributeName&&null===n.elementName&&(n.elementName=_hyphenate(t.name))):((n=ViewResources.convention(t)||ne.convention(t.name)||c.ValueConverterResource.convention(t.name)||c.BindingBehaviorResource.convention(t.name)||Q.convention(t.name))||((n=new ne).elementName=_hyphenate(t.name)),a.metadata.define(a.metadata.resource,n,t)),n.initialize(e,t),n.register(this,void 0),n},ViewResources}(),oe=a.protocol.create("aurelia:view-strategy",{validate:function(e){return"function"==typeof e.loadViewFactory||"View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>"},compose:function(e){"function"!=typeof e.makeRelativeTo&&(e.makeRelativeTo=r.PLATFORM.noop)}}),se=function(){function RelativeViewStrategy(e){this.path=e,this.absolutePath=null}return RelativeViewStrategy.prototype.loadViewFactory=function(e,t,n,r){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=(0,l.relativeToFile)(this.path,this.moduleId)),t.associatedModuleId=this.moduleId,e.loadViewFactory(this.absolutePath||this.path,t,n,r)},RelativeViewStrategy.prototype.makeRelativeTo=function(e){null===this.absolutePath&&(this.absolutePath=(0,l.relativeToFile)(this.path,e))},RelativeViewStrategy=__decorate([oe()],RelativeViewStrategy)}(),ae=function(){function ConventionalViewStrategy(e,t){this.moduleId=t.moduleId,this.viewUrl=e.convertOriginToViewUrl(t)}return ConventionalViewStrategy.prototype.loadViewFactory=function(e,t,n,r){return t.associatedModuleId=this.moduleId,e.loadViewFactory(this.viewUrl,t,n,r)},ConventionalViewStrategy=__decorate([oe()],ConventionalViewStrategy)}(),le=function(){function NoViewStrategy(e,t){this.dependencies=e||null,this.dependencyBaseUrl=t||""}return NoViewStrategy.prototype.loadViewFactory=function(e,t,n,r){var a=this.entry,l=this.dependencies;if(a&&a.factoryIsReady)return Promise.resolve(null);if(this.entry=a=new o.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),a.dependencies=[],a.templateIsLoaded=!0,null!==l)for(var d=0,c=l.length;d<c;++d){var u=l[d];"string"==typeof u||"function"==typeof u?a.addDependency(u):a.addDependency(u.from,u.as)}return t.associatedModuleId=this.moduleId,e.loadViewFactory(a,t,n,r)},NoViewStrategy=__decorate([oe()],NoViewStrategy)}(),de=function(){function TemplateRegistryViewStrategy(e,t){this.moduleId=e,this.entry=t}return TemplateRegistryViewStrategy.prototype.loadViewFactory=function(e,t,n,r){var o=this.entry;return o.factoryIsReady?Promise.resolve(o.factory):(t.associatedModuleId=this.moduleId,e.loadViewFactory(o,t,n,r))},TemplateRegistryViewStrategy=__decorate([oe()],TemplateRegistryViewStrategy)}(),ce=function(){function InlineViewStrategy(e,t,n){this.markup=e,this.dependencies=t||null,this.dependencyBaseUrl=n||""}return InlineViewStrategy.prototype.loadViewFactory=function(e,t,n,a){var l=this.entry,d=this.dependencies;if(l&&l.factoryIsReady)return Promise.resolve(l.factory);if(this.entry=l=new o.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),l.template=r.DOM.createTemplateFromMarkup(this.markup),null!==d)for(var c=0,u=d.length;c<u;++c){var p=d[c];"string"==typeof p||"function"==typeof p?l.addDependency(p):l.addDependency(p.from,p.as)}return t.associatedModuleId=this.moduleId,e.loadViewFactory(l,t,n,a)},InlineViewStrategy=__decorate([oe()],InlineViewStrategy)}(),ue=function(){function StaticViewStrategy(e){("string"==typeof e||e instanceof r.DOM.Element&&"TEMPLATE"===e.tagName)&&(e={template:e}),this.template=e.template,this.dependencies=e.dependencies||[],this.factoryIsReady=!1,this.onReady=null,this.moduleId="undefined"}return StaticViewStrategy.prototype.loadViewFactory=function(e,t,n,r){var o=this;if(this.factoryIsReady)return Promise.resolve(this.factory);var a=this.dependencies,l="function"==typeof a?a():a;return l=l||[],l=Array.isArray(l)?l:[l],Promise.all(l).then((function(n){var a,l=e.container,d=e.appResources,c=e.viewCompiler,u=new re(d),p=[];r&&u.autoRegister(l,r);for(var h=0,g=n;h<g.length;h++){var m=g[h];if("function"==typeof m)null!==(a=u.autoRegister(l,m)).elementName&&p.push(a);else{if(!m||"object"!=typeof m)throw new Error('dependency neither function nor object. Received: "'.concat(typeof m,'"'));for(var f in m){var v=m[f];"function"==typeof v&&null!==(a=u.autoRegister(l,v)).elementName&&p.push(a)}}}return Promise.all(p.map((function(e){return e.load(l,e.target)}))).then((function(){var e=null!==o.template?c.compile(o.template,u,t):null;return o.factoryIsReady=!0,o.factory=e,e}))}))},StaticViewStrategy=__decorate([oe()],StaticViewStrategy)}();function remove(e,t){return Array.isArray(t)?e.removeMany(t,!0):e.remove(t,!0)}var pe={before:function(e,t,n){return void 0===t?n():n().then((function(){return remove(e,t)}))},with:function(e,t,n){return void 0===t?n():Promise.all([remove(e,t),n()])},after:function(e,t,n){return Promise.resolve(e.removeAll(!0)).then(n)}};function tryActivateViewModel(e){return e.skipActivation||"function"!=typeof e.viewModel.activate?Promise.resolve():e.viewModel.activate(e.model)||Promise.resolve()}var he=function(){function CompositionEngine(e,t){this.viewEngine=e,this.viewLocator=t}return CompositionEngine.prototype._swap=function(e,t){var n=pe[e.swapOrder]||pe.after,r=e.viewSlot.children.slice();return n(e.viewSlot,r,(function(){return Promise.resolve(e.viewSlot.add(t)).then((function(){e.currentController&&e.currentController.unbind()}))})).then((function(){e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done()}))},CompositionEngine.prototype._createControllerAndSwap=function(e){var t=this;return this.createController(e).then((function(n){return e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then((function(){return n.automate(e.overrideContext,e.owningView),t._swap(e,n.view)})).then((function(){return n})):(n.automate(e.overrideContext,e.owningView),t._swap(e,n.view).then((function(){return n})))}))},CompositionEngine.prototype.createController=function(e){var t,n,r,o,a=this;return this.ensureViewModel(e).then(tryActivateViewModel).then((function(){t=e.childContainer,n=e.viewModel,r=e.viewModelResource,o=r.metadata;var l=a.viewLocator.getViewStrategy(e.view||n);return e.viewResources&&l.makeRelativeTo(e.viewResources.viewUrl),o.load(t,r.value,null,l,!0)})).then((function(r){return o.create(t,v.dynamic(e.host,n,r))}))},CompositionEngine.prototype.ensureViewModel=function(e){var t=e.childContainer=e.childContainer||e.container.createChild();if("string"==typeof e.viewModel)return e.viewModel=e.viewResources?e.viewResources.relativeToView(e.viewModel):e.viewModel,this.viewEngine.importViewModelResource(e.viewModel).then((function(n){return t.autoRegister(n.value),e.host&&t.registerInstance(r.DOM.Element,e.host),e.viewModel=t.viewModel=t.get(n.value),e.viewModelResource=n,e}));var n=e.viewModel.constructor,o="function"==typeof e.viewModel;o&&(n=e.viewModel,t.autoRegister(n));var l=a.metadata.getOrCreateOwn(a.metadata.resource,ne,n);return l.elementName=l.elementName||"dynamic-element",l.initialize(o?t:e.container||t,n),e.viewModelResource={metadata:l,value:n},e.host&&t.registerInstance(r.DOM.Element,e.host),t.viewModel=e.viewModel=o?t.get(n):e.viewModel,Promise.resolve(e)},CompositionEngine.prototype.compose=function(e){var t=this;e.childContainer=e.childContainer||e.container.createChild(),e.view=this.viewLocator.getViewStrategy(e.view);var n=e.childContainer.get(D),r=n.tryCapture();return r?e.compositionTransactionOwnershipToken=r:e.compositionTransactionNotifier=n.enlist(),e.viewModel?this._createControllerAndSwap(e):e.view?(e.viewResources&&e.view.makeRelativeTo(e.viewResources.viewUrl),e.view.loadViewFactory(this.viewEngine,new f).then((function(n){var r=n.create(e.childContainer);return r.bind(e.bindingContext,e.overrideContext),e.compositionTransactionOwnershipToken?e.compositionTransactionOwnershipToken.waitForCompositionComplete().then((function(){return t._swap(e,r)})).then((function(){return r})):t._swap(e,r).then((function(){return r}))}))):e.viewSlot?(e.viewSlot.removeAll(),e.compositionTransactionNotifier&&e.compositionTransactionNotifier.done(),Promise.resolve(null)):Promise.resolve(null)},CompositionEngine=__decorate([(0,u.inject)(J,E)],CompositionEngine)}(),ge={enterBegin:"animation:enter:begin",enterActive:"animation:enter:active",enterDone:"animation:enter:done",enterTimeout:"animation:enter:timeout",leaveBegin:"animation:leave:begin",leaveActive:"animation:leave:active",leaveDone:"animation:leave:done",leaveTimeout:"animation:leave:timeout",staggerNext:"animation:stagger:next",removeClassBegin:"animation:remove-class:begin",removeClassActive:"animation:remove-class:active",removeClassDone:"animation:remove-class:done",removeClassTimeout:"animation:remove-class:timeout",addClassBegin:"animation:add-class:begin",addClassActive:"animation:add-class:active",addClassDone:"animation:add-class:done",addClassTimeout:"animation:add-class:timeout",animateBegin:"animation:animate:begin",animateActive:"animation:animate:active",animateDone:"animation:animate:done",animateTimeout:"animation:animate:timeout",sequenceBegin:"animation:sequence:begin",sequenceDone:"animation:sequence:done"};function createChildObserverDecorator(e,t){return function(n,r,o){var l="string"==typeof r?n.constructor:n,d=a.metadata.getOrCreateOwn(a.metadata.resource,ne,l);"string"==typeof e&&(e={selector:e,name:r}),o&&(o.writable=!0,o.configurable=!0),e.all=t,d.addChildBinding(new me(e))}}function children(e){return createChildObserverDecorator(e,!0)}function child(e){return createChildObserverDecorator(e,!1)}var me=function(){function ChildObserver(e){this.name=e.name,this.changeHandler=e.changeHandler||this.name+"Changed",this.selector=e.selector,this.all=e.all}return ChildObserver.prototype.create=function(e,t,n){return new ve(this.selector,e,this.name,t,n,this.changeHandler,this.all)},ChildObserver}(),fe=[];function trackMutation(e,t,n){var r=e.get(t);r||(r=[],e.set(t,r)),r.push(n)}function onChildChange(e,t){for(var n=t.binders,r=n.length,o=new Map,a=0,l=e.length;a<l;++a){for(var d=e[a],c=d.addedNodes,u=d.removedNodes,p=0,h=u.length;p<h;++p){if(1===(m=u[p]).nodeType)for(var g=0;g<r;++g){(f=n[g]).onRemove(m)&&trackMutation(o,f,d)}}for(p=0,h=c.length;p<h;++p){var m;if(1===(m=c[p]).nodeType)for(g=0;g<r;++g){var f;(f=n[g]).onAdd(m)&&trackMutation(o,f,d)}}}o.forEach((function(e,t){t.isBound&&null!==t.changeHandler&&t.viewModel[t.changeHandler](e)}))}var ve=function(){function ChildObserverBinder(e,t,n,r,o,a,l){this.selector=e,this.viewHost=t,this.property=n,this.viewModel=r,this.controller=o,this.changeHandler=a in r?a:null,this.usesShadowDOM=o.behavior.usesShadowDOM,this.all=l,!this.usesShadowDOM&&o.view&&o.view.contentView?this.contentView=o.view.contentView:this.contentView=null,this.source=null,this.isBound=!1}return ChildObserverBinder.prototype.matches=function(e){if(e.matches(this.selector)){if(null===this.contentView)return!0;var t=this.contentView,n=e.auAssignedSlot;if(n&&n.projectFromAnchors){for(var r=n.projectFromAnchors,o=0,a=r.length;o<a;++o)if(r[o].auOwnerView===t)return!0;return!1}return e.auOwnerView===t}return!1},ChildObserverBinder.prototype.bind=function(e){if(this.isBound){if(this.source===e)return;this.source=e}this.isBound=!0;var t=this.viewHost,n=this.viewModel,o=t.__childObserver__;if(!o){o=t.__childObserver__=r.DOM.createMutationObserver(onChildChange);var a={childList:!0,subtree:!this.usesShadowDOM};o.observe(t,a),o.binders=[]}if(o.binders.push(this),this.usesShadowDOM){var l=t.firstElementChild;if(this.all){var d=n[this.property];for(d?d.splice(0):d=n[this.property]=[];l;)this.matches(l)&&d.push(l.au&&l.au.controller?l.au.controller.viewModel:l),l=l.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler](fe)}else for(;l;){if(this.matches(l)){var c=l.au&&l.au.controller?l.au.controller.viewModel:l;this.viewModel[this.property]=c,null!==this.changeHandler&&this.viewModel[this.changeHandler](c);break}l=l.nextElementSibling}}},ChildObserverBinder.prototype.onRemove=function(e){if(this.matches(e)){var t=e.au&&e.au.controller?e.au.controller.viewModel:e;if(this.all){var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]),r=n.indexOf(t);return-1!==r&&n.splice(r,1),!0}this.viewModel[this.property]===t&&(this.viewModel[this.property]=null,this.isBound&&null!==this.changeHandler&&this.viewModel[this.changeHandler](t))}return!1},ChildObserverBinder.prototype.onAdd=function(e){if(this.matches(e)){var t=e.au&&e.au.controller?e.au.controller.viewModel:e;if(this.all){var n=this.viewModel[this.property]||(this.viewModel[this.property]=[]);if("*"===this.selector)return n.push(t),!0;for(var r=0,o=e.previousElementSibling;o;)this.matches(o)&&r++,o=o.previousElementSibling;return n.splice(r,0,t),!0}this.viewModel[this.property]=t,this.isBound&&null!==this.changeHandler&&this.viewModel[this.changeHandler](t)}return!1},ChildObserverBinder.prototype.unbind=function(){if(this.isBound){this.isBound=!1,this.source=null;var e=this.viewHost.__childObserver__;if(e){var t=e.binders;if(t&&t.length){var n=t.indexOf(this);-1!==n&&t.splice(n,1),0===t.length&&(e.disconnect(),this.viewHost.__childObserver__=null)}this.usesShadowDOM&&(this.viewModel[this.property]=null)}}},ChildObserverBinder}(),be=function(){function ElementConfigResource(){}return ElementConfigResource.prototype.initialize=function(e,t){},ElementConfigResource.prototype.register=function(e,t){},ElementConfigResource.prototype.load=function(e,t){var n=new t;e.get(c.EventManager).registerElementConfig(n)},ElementConfigResource}();function resource(e){return function(t){"string"==typeof e||Object.getPrototypeOf(e)===Object.prototype?t.$resource=e:a.metadata.define(a.metadata.resource,e,t)}}function behavior(e){return function(t){if(e instanceof ne)a.metadata.define(a.metadata.resource,e,t);else{var n=a.metadata.getOrCreateOwn(a.metadata.resource,ne,t);Object.assign(n,e)}}}function customElement(e){return function(t){a.metadata.getOrCreateOwn(a.metadata.resource,ne,t).elementName=validateBehaviorName(e,"custom element")}}function customAttribute(e,t,n){return function(r){var o=a.metadata.getOrCreateOwn(a.metadata.resource,ne,r);o.attributeName=validateBehaviorName(e,"custom attribute"),o.attributeDefaultBindingMode=t,o.aliases=n}}function templateController(e){var deco=function(e){a.metadata.getOrCreateOwn(a.metadata.resource,ne,e).liftsContent=!0};return e?deco(e):deco}function bindable(e,t,n){var deco=function(t,n,r){var o=n?t.constructor:t,l=a.metadata.getOrCreateOwn(a.metadata.resource,ne,o);return n&&((e=e||{}).name=n),new S(e).registerWith(o,l,r)};if(!e)return deco;if(t){var r=e;return e=null,deco(r,t,n)}return deco}function dynamicOptions(e){var deco=function(e){a.metadata.getOrCreateOwn(a.metadata.resource,ne,e).hasDynamicOptions=!0};return e?deco(e):deco}var ye={mode:"open"};function useShadowDOM(e){var t="function"!=typeof e&&e?e:ye,deco=function(e){var n=a.metadata.getOrCreateOwn(a.metadata.resource,ne,e);n.targetShadowDOM=!0,n.shadowDOMOptions=t};return"function"==typeof e?deco(e):deco}function processAttributes(e){return function(t){a.metadata.getOrCreateOwn(a.metadata.resource,ne,t).processAttributes=function(t,n,r,o,a){try{e(t,n,r,o,a)}catch(e){d.getLogger("templating").error(e)}}}}function doNotProcessContent(){return!1}function processContent(e){return function(t){a.metadata.getOrCreateOwn(a.metadata.resource,ne,t).processContent=e?function(t,n,r,o){try{return e(t,n,r,o)}catch(e){return d.getLogger("templating").error(e),!1}}:doNotProcessContent}}function containerless(e){var deco=function(e){a.metadata.getOrCreateOwn(a.metadata.resource,ne,e).containerless=!0};return e?deco(e):deco}function useViewStrategy(e){return function(t){a.metadata.define(E.viewStrategyMetadataKey,e,t)}}function useView(e){return useViewStrategy(new se(e))}function inlineView(e,t,n){return useViewStrategy(new ce(e,t,n))}function noView(e,t){var n,r;"function"==typeof e?n=e:(r=e,n=void 0);var deco=function(e){a.metadata.define(E.viewStrategyMetadataKey,new le(r,t),e)};return n?deco(n):deco}function view(e){return function(t){t.$view=e}}function elementConfig(e){var deco=function(e){a.metadata.define(a.metadata.resource,new be,e)};return e?deco(e):deco}function viewResources(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){a.metadata.define(J.viewModelRequireMetadataKey,e,t)}}var we=function(){function TemplatingEngine(e,t,n,r){this._container=e,this._moduleAnalyzer=t,this._viewCompiler=n,this._compositionEngine=r,e.registerInstance(j,j.instance=new j)}return TemplatingEngine.prototype.configureAnimator=function(e){this._container.unregister(j),this._container.registerInstance(j,j.instance=e)},TemplatingEngine.prototype.compose=function(e){return this._compositionEngine.compose(e)},TemplatingEngine.prototype.enhance=function(e){e instanceof r.DOM.Element&&(e={element:e});var t={letExpressions:[]},n=e.resources||this._container.get(re);this._viewCompiler._compileNode(e.element,n,t,e.element.parentNode,"root",!0);var o=new B(e.element,t,n),a=e.container||this._container.createChild(),l=o.create(a,v.enhance());return l.bind(e.bindingContext||{},e.overrideContext),l.firstChild=l.lastChild=l.fragment,l.fragment=r.DOM.createDocumentFragment(),l.attached(),l},TemplatingEngine.inject=[u.Container,K,U,he],TemplatingEngine}()},"aurelia-ui-virtualization":(e,t,n)=>{"use strict";n.r(t),n.d(t,{InfiniteScrollNext:()=>A,VirtualRepeat:()=>I,VirtualizationEvents:()=>q,configure:()=>configure});var r=n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),o=n("./node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),a=n("aurelia-templating-resources"),l=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),d=n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},extendStatics(e,t)};function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var rebindView=function(e,t,n,r){t.bindingContext[e.local]=r[n],(0,a.updateOverrideContext)(t.overrideContext,n,r.length)},rebindAndMoveView=function(e,t,n,r){var o=e.items,l=e.viewSlot;(0,a.updateOverrideContext)(t.overrideContext,n,o.length),t.bindingContext[e.local]=o[n],r?(l.children.push(l.children.shift()),e.templateStrategy.moveViewLast(t,e.bottomBufferEl)):(l.children.unshift(l.children.splice(-1,1)[0]),e.templateStrategy.moveViewFirst(t,e.topBufferEl))},calcMinViewsRequired=function(e,t){return g(e/t)+1},c=Math.abs,u=Math.max,p=Math.min,h=Math.round,g=Math.floor,m=isNaN,f=document,v=f.documentElement,b=requestAnimationFrame.bind(window),getScrollerElement=function(e){for(var t=e.parentNode;null!==t&&t!==v;){if(hasOverflowScroll(t))return t;t=t.parentNode}return f.scrollingElement||v},getElementDistanceToTopOfDocument=function(e){var t=e.getBoundingClientRect(),n=window.pageYOffset,r=v.clientTop,o=t.top+n-r;return h(o)},hasOverflowScroll=function(e){var t=window.getComputedStyle(e);return t&&("scroll"===t.overflowY||"scroll"===t.overflow||"auto"===t.overflowY||"auto"===t.overflow)},getStyleValues=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=window.getComputedStyle(e),o=0,a=0,l=0,d=t.length;d>l;++l)a=parseFloat(r[t[l]]),o+=m(a)?0:a;return o},calcOuterHeight=function(e){var t=e.getBoundingClientRect().height;return t+=getStyleValues(e,"marginTop","marginBottom")},insertBeforeNode=function(e,t){t.parentNode.insertBefore(e.lastChild,t)},getDistanceToParent=function(e,t){var n=e.offsetParent,r=e.offsetTop;return null===n||n===t?r:n.contains(t)?r-t.offsetTop:r+getDistanceToParent(n,t)},y=function(e){function ArrayVirtualRepeatStrategy(){return null!==e&&e.apply(this,arguments)||this}return __extends(ArrayVirtualRepeatStrategy,e),ArrayVirtualRepeatStrategy.prototype.createFirstRow=function(e){var t=(0,a.createFullOverrideContext)(e,e.items[0],0,1);return e.addView(t.bindingContext,t)},ArrayVirtualRepeatStrategy.prototype.count=function(e){return e.length},ArrayVirtualRepeatStrategy.prototype.initCalculation=function(e,t){var n=t.length;if(!(n>0))return 1;var r=e.getScrollerInfo(),o=e.viewCount();n>0&&0===o&&this.createFirstRow(e);var a=e.firstView(),l=calcOuterHeight(a.firstChild);if(0===l)return 0;e.itemHeight=l;var d=r.height;return e.minViewsRequired=calcMinViewsRequired(d,l),6},ArrayVirtualRepeatStrategy.prototype.onAttached=function(e){e.items.length<e.minViewsRequired&&e.getMore(0,!0,this.isNearBottom(e,e.lastViewIndex()),!0)},ArrayVirtualRepeatStrategy.prototype.getViewRange=function(e,t){var n=e.topBufferEl,r=e.scrollerEl,o=e.itemHeight,a=0;if(t.scroller!==v){var l=getDistanceToParent(n,r),d=t.scrollTop;a=u(0,d-c(l))}else a=pageYOffset-e.distanceToTop;var h=2*e.minViewsRequired,m=u(0,o>0?g(a/o):0),f=p(e.items.length-1,m+(h-1));return[m=u(0,p(m,f-(h-1))),f]},ArrayVirtualRepeatStrategy.prototype.updateBuffers=function(e,t){var n=e.itemHeight,r=e.items.length;e.topBufferHeight=t*n,e.bottomBufferHeight=(r-t-e.viewCount())*n,e.updateBufferElements(!0)},ArrayVirtualRepeatStrategy.prototype.isNearTop=function(e,t){return e.items.length>0&&t<e.edgeDistance},ArrayVirtualRepeatStrategy.prototype.isNearBottom=function(e,t){var n=e.items.length;return-1===t||n>0&&t>n-1-e.edgeDistance},ArrayVirtualRepeatStrategy.prototype.instanceChanged=function(e,t,n){this._inPlaceProcessItems(e,t,n)&&this._remeasure(e,e.itemHeight,2*e.minViewsRequired,t.length,e.$first)},ArrayVirtualRepeatStrategy.prototype.instanceMutated=function(e,t,n){this._standardProcessInstanceMutated(e,t,n)},ArrayVirtualRepeatStrategy.prototype._inPlaceProcessItems=function(e,t,n){var r=e,o=t.length;if(0===o)return r.removeAllViews(!0,!1),r.resetCalculation(),r.__queuedSplices=r.__array=void 0,!1;for(var l=2*r.minViewsRequired,d=r.viewCount();d>o;)d--,r.removeView(d,!0,!1);for(;d>l;)d--,r.removeView(d,!0,!1);d=p(d,l);var c=r.local;n+d>o-1&&(n=u(0,o-d)),r.$first=n;for(var h=0;h<d;h++){var g=h+n,m=r.view(h),f=g===o-1,v=0!==g&&!f,b=m.bindingContext,y=m.overrideContext;if(b[c]!==t[g]||y.$index!==g||y.$middle!==v||y.$last!==f){b[c]=t[g],y.$first=0===g,y.$middle=v,y.$last=f,y.$index=g;var _=g%2==1;y.$odd=_,y.$even=!_,r.updateBindings(m)}}var x=p(l,o);for(h=d;h<x;h++){y=(0,a.createFullOverrideContext)(r,t[h],h,o);r.addView(y.bindingContext,y)}return!0},ArrayVirtualRepeatStrategy.prototype._standardProcessInstanceMutated=function(e,t,n){var o=this,a=e;if(a.__queuedSplices){for(var l=0,d=n.length;l<d;++l){var c=n[l],u=c.index,p=c.removed,h=c.addedCount;(0,r.mergeSplice)(a.__queuedSplices,u,p,h)}a.__array=t.slice(0)}else{if(0===t.length)return a.removeAllViews(!0,!1),a.resetCalculation(),void(a.__queuedSplices=a.__array=void 0);var g=this._runSplices(a,t.slice(0),n);if(g instanceof Promise){var m=a.__queuedSplices=[],runQueuedSplices_1=function(){m.length?(o._runSplices(a,a.__array,m)||Promise.resolve()).then(runQueuedSplices_1):a.__queuedSplices=a.__array=void 0};g.then(runQueuedSplices_1)}}},ArrayVirtualRepeatStrategy.prototype._runSplices=function(e,t,n){var r,o=e.$first,l=0,d=0,p=0,h=n.length,m=t.length,f=!0;for(p=0;h>p;p++){l+=N=(r=n[p]).removed.length,d+=R=r.addedCount,N!==R&&(f=!1)}if(f){var v=e.lastViewIndex();for(p=0;h>p;p++)for(var b=(r=n[p]).index;b<r.index+r.addedCount;b++)if(b>=o&&b<=v){var y=b-o,_=(0,a.createFullOverrideContext)(e,t[b],b,m);e.removeView(y,!0,!0),e.insertView(y,_.bindingContext,_)}}else{var x=o,C=e.itemHeight,S=m+l-d,E=e.viewCount(),k=E;if(0===S&&0===C)return e.resetCalculation(),void e.itemsChanged();var T=0===l&&d>0&&n.every((function(e){return e.index<=o}));if(T){e.$first=o+d-1,e.topBufferHeight+=d*C,e.enableScroll();var M=(D=e.getScrollerInfo()).scrollTop,q=getDistanceToParent(e.topBufferEl,D.scroller),I=u(0,0===M?0:M-q),A=0===I?0:g(I/C);if(M>q&&A===o)return e.updateBufferElements(!1),e.scrollerEl.scrollTop=I+d*C,void this._remeasure(e,C,k,m,o)}var O=e.lastViewIndex();if(E>e.minViewsRequired&&n.every((function(e){return e.index>O})))e.bottomBufferHeight=u(0,m-o-E)*C,e.updateBufferElements(!0);else{var P=2*e.minViewsRequired;if(0===P){var D=e.getScrollerInfo(),F=calcMinViewsRequired(D.height,C);e.minViewsRequired=F,P=2*F}for(p=0;h>p;++p){var j=n[p],R=j.addedCount,N=j.removed.length;x>j.index&&(x=u(0,x-(N-R)))}k=0,m<=e.minViewsRequired?(x=0,k=m):m<=P?(k=m,x=0):k=P;var L=m>=x?x:0,V=k-E;if(V>0)for(p=0;V>p;++p){b=x+E+p,_=(0,a.createFullOverrideContext)(e,t[b],b,t.length);e.addView(_.bindingContext,_)}else{var B=c(V);for(p=0;B>p;++p)e.removeView(k,!0,!1)}var $=u(0,m-L-k);e.$first=x,e.topBufferHeight=L*C,e.bottomBufferHeight=$*C,e.updateBufferElements(!0)}this._remeasure(e,C,k,m,x)}},ArrayVirtualRepeatStrategy.prototype.updateAllViews=function(e,t){for(var n,r=e.viewSlot.children.length,o=e.items,a=g(e.topBufferHeight/e.itemHeight),l=0;r>t;++t)l=t+a,n=e.view(t),rebindView(e,n,l,o),e.updateBindings(n)},ArrayVirtualRepeatStrategy.prototype.remeasure=function(e){this._remeasure(e,e.itemHeight,e.viewCount(),e.items.length,e.firstViewIndex())},ArrayVirtualRepeatStrategy.prototype._remeasure=function(e,t,n,r,o){var a=e.getScrollerInfo(),l=a.scrollTop,d=getDistanceToParent(e.topBufferEl,a.scroller),c=u(0,0===l?0:l-d),p=0===c?0:g(c/t);p+n>=r&&(p=u(0,r-n));var h=p,m=u(0,r-h-n);e.$first=p,e.topBufferHeight=h*t,e.bottomBufferHeight=m*t,e._handlingMutations=!1,e.revertScrollCheckGuard(),e.updateBufferElements(),this.updateAllViews(e,0)},ArrayVirtualRepeatStrategy}(a.ArrayRepeatStrategy),_=function(e){function NullVirtualRepeatStrategy(){return null!==e&&e.apply(this,arguments)||this}return __extends(NullVirtualRepeatStrategy,e),NullVirtualRepeatStrategy.prototype.createFirstRow=function(){return null},NullVirtualRepeatStrategy.prototype.count=function(e){return 0},NullVirtualRepeatStrategy.prototype.getViewRange=function(e,t){return[0,0]},NullVirtualRepeatStrategy.prototype.updateBuffers=function(e,t){},NullVirtualRepeatStrategy.prototype.onAttached=function(){},NullVirtualRepeatStrategy.prototype.isNearTop=function(){return!1},NullVirtualRepeatStrategy.prototype.isNearBottom=function(){return!1},NullVirtualRepeatStrategy.prototype.initCalculation=function(e,t){return e.itemHeight=e.minViewsRequired=0,2},NullVirtualRepeatStrategy.prototype.instanceMutated=function(){},NullVirtualRepeatStrategy.prototype.instanceChanged=function(e){e.removeAllViews(!0,!1),e.resetCalculation()},NullVirtualRepeatStrategy.prototype.remeasure=function(e){},NullVirtualRepeatStrategy.prototype.updateAllViews=function(){},NullVirtualRepeatStrategy.prototype.getCollectionObserver=function(e,t){},NullVirtualRepeatStrategy}(a.NullRepeatStrategy),x=function(){function VirtualRepeatStrategyLocator(){this.matchers=[],this.strategies=[],this.addStrategy((function(e){return null==e}),new _),this.addStrategy((function(e){return e instanceof Array}),new y)}return VirtualRepeatStrategyLocator.prototype.addStrategy=function(e,t){this.matchers.push(e),this.strategies.push(t)},VirtualRepeatStrategyLocator.prototype.getStrategy=function(e){for(var t=this.matchers,n=0,r=t.length;n<r;++n)if(t[n](e))return this.strategies[n];return null},VirtualRepeatStrategyLocator}(),C=function(){function DefaultTemplateStrategy(){}return DefaultTemplateStrategy.prototype.getScrollContainer=function(e){return getScrollerElement(e)},DefaultTemplateStrategy.prototype.moveViewFirst=function(e,t){insertBeforeNode(e,l.DOM.nextElementSibling(t))},DefaultTemplateStrategy.prototype.moveViewLast=function(e,t){var n=t.previousSibling,r=8===n.nodeType&&"anchor"===n.data?n:t;insertBeforeNode(e,r)},DefaultTemplateStrategy.prototype.createBuffers=function(e){var t=e.parentNode;return[t.insertBefore(l.DOM.createElement("div"),e),t.insertBefore(l.DOM.createElement("div"),e.nextSibling)]},DefaultTemplateStrategy.prototype.removeBuffers=function(e,t,n){var r=e.parentNode;r.removeChild(t),r.removeChild(n)},DefaultTemplateStrategy.prototype.getFirstElement=function(e,t){var n=e.nextElementSibling;return n===t?null:n},DefaultTemplateStrategy.prototype.getLastElement=function(e,t){var n=t.previousElementSibling;return n===e?null:n},DefaultTemplateStrategy}(),S=function(e){function BaseTableTemplateStrategy(){return null!==e&&e.apply(this,arguments)||this}return __extends(BaseTableTemplateStrategy,e),BaseTableTemplateStrategy.prototype.getScrollContainer=function(e){return getScrollerElement(this.getTable(e))},BaseTableTemplateStrategy.prototype.createBuffers=function(e){var t=e.parentNode;return[t.insertBefore(l.DOM.createElement("tr"),e),t.insertBefore(l.DOM.createElement("tr"),e.nextSibling)]},BaseTableTemplateStrategy}(C),E=function(e){function TableBodyStrategy(){return null!==e&&e.apply(this,arguments)||this}return __extends(TableBodyStrategy,e),TableBodyStrategy.prototype.getTable=function(e){return e.parentNode},TableBodyStrategy}(S),k=function(e){function TableRowStrategy(){return null!==e&&e.apply(this,arguments)||this}return __extends(TableRowStrategy,e),TableRowStrategy.prototype.getTable=function(e){return e.parentNode.parentNode},TableRowStrategy}(S),T=function(e){function ListTemplateStrategy(){return null!==e&&e.apply(this,arguments)||this}return __extends(ListTemplateStrategy,e),ListTemplateStrategy.prototype.createBuffers=function(e){var t=e.parentNode;return[t.insertBefore(l.DOM.createElement("li"),e),t.insertBefore(l.DOM.createElement("li"),e.nextSibling)]},ListTemplateStrategy}(C),M=function(){function TemplateStrategyLocator(e){this.container=e}return TemplateStrategyLocator.prototype.getStrategy=function(e){var t=e.parentNode,n=this.container;if(null===t)return n.get(C);var r=t.tagName;return"TBODY"===r||"THEAD"===r||"TFOOT"===r?n.get(k):"TABLE"===r?n.get(E):"OL"===r||"UL"===r?n.get(T):n.get(C)},TemplateStrategyLocator.inject=[d.Container],TemplateStrategyLocator}(),q=Object.assign(Object.create(null),{scrollerSizeChange:"virtual-repeat-scroller-size-changed",itemSizeChange:"virtual-repeat-item-size-changed"}),I=function(e){function VirtualRepeat(t,n,r,o,l,d,c,u){var p=e.call(this,{local:"item",viewsRequireLifecycle:(0,a.viewsRequireLifecycle)(n)})||this;return p.$first=0,p._isAttached=!1,p._ticking=!1,p._calledGetMore=!1,p._skipNextScrollHandle=!1,p._handlingMutations=!1,p._lastGetMore=0,p.element=t,p.viewFactory=n,p.instruction=r,p.viewSlot=o,p.lookupFunctions=l.lookupFunctions,p.observerLocator=d,p.taskQueue=d.taskQueue,p.strategyLocator=c,p.templateStrategyLocator=u,p.edgeDistance=5,p.sourceExpression=(0,a.getItemsSourceExpression)(p.instruction,"virtual-repeat.for"),p.isOneTime=(0,a.isOneTime)(p.sourceExpression),p.topBufferHeight=p.bottomBufferHeight=p.itemHeight=p.distanceToTop=0,p.revertScrollCheckGuard=function(){p._ticking=!1},p._onScroll=p._onScroll.bind(p),p}return __extends(VirtualRepeat,e),VirtualRepeat.inject=function(){return[l.DOM.Element,o.BoundViewFactory,o.TargetInstruction,o.ViewSlot,o.ViewResources,r.ObserverLocator,x,M]},VirtualRepeat.$resource=function(){return{type:"attribute",name:"virtual-repeat",templateController:!0,bindables:["items","local"]}},VirtualRepeat.prototype.bind=function(e,t){this.scope={bindingContext:e,overrideContext:t}},VirtualRepeat.prototype.attached=function(){var e=this;this._isAttached=!0;var t=this.element,n=this.templateStrategy=this.templateStrategyLocator.getStrategy(t),r=this.scrollerEl=n.getScrollContainer(t),o=n.createBuffers(t),a=o[0],d=o[1],c=r!==v,u=this._onScroll;if(this.topBufferEl=a,this.bottomBufferEl=d,this.itemsChanged(),this._currScrollerInfo=this.getScrollerInfo(),c)r.addEventListener("scroll",u);else{var p=n.getFirstElement(a,d);this.distanceToTop=null===p?0:getElementDistanceToTopOfDocument(a),l.DOM.addEventListener("scroll",u,!1),this._calcDistanceToTopInterval=l.PLATFORM.global.setInterval((function(){var t=e.distanceToTop,n=getElementDistanceToTopOfDocument(a);if(e.distanceToTop=n,t!==n){var r=e.getScrollerInfo(),o=e._currScrollerInfo;e._currScrollerInfo=r,e._handleScroll(r,o)}}),500)}this.strategy.onAttached(this)},VirtualRepeat.prototype.call=function(e,t){this[e](this.items,t)},VirtualRepeat.prototype.detached=function(){var e=this.scrollerEl,t=this._onScroll;hasOverflowScroll(e)?e.removeEventListener("scroll",t):l.DOM.removeEventListener("scroll",t,!1),this.unobserveScroller(),this._currScrollerContentRect=void 0,this._isAttached=!1,this._unsubscribeCollection(),this.resetCalculation(),this.templateStrategy.removeBuffers(this.element,this.topBufferEl,this.bottomBufferEl),this.topBufferEl=this.bottomBufferEl=this.scrollerEl=null,this.removeAllViews(!0,!1);var n=l.PLATFORM.global.clearInterval;n(this._calcDistanceToTopInterval),n(this._sizeInterval),this.distanceToTop=this._sizeInterval=this._calcDistanceToTopInterval=0},VirtualRepeat.prototype.unbind=function(){this.scope=null,this.items=null},VirtualRepeat.prototype.itemsChanged=function(){var e=this;if(this._unsubscribeCollection(),this.scope&&this._isAttached){var t=this.items,n=this.strategy=this.strategyLocator.getStrategy(t);if(null===n)throw new Error("Value is not iterateable for virtual repeat.");this.isOneTime||this._observeInnerCollection()||this._observeCollection();var r=n.initCalculation(this,t);if(n.instanceChanged(this,t,this.$first),1&r&&this.resetCalculation(),0==(2&r)){var o=l.PLATFORM.global,a=o.setInterval,d=o.clearInterval;d(this._sizeInterval),this._sizeInterval=a((function(){if(e.items){var t=e.firstView()||e.strategy.createFirstRow(e);calcOuterHeight(t.firstChild)>0&&(d(e._sizeInterval),e.itemsChanged())}else d(e._sizeInterval)}),500)}4&r&&this.observeScroller(this.scrollerEl)}},VirtualRepeat.prototype.handleCollectionMutated=function(e,t){this._ignoreMutation||(this._handlingMutations=!0,this.strategy.instanceMutated(this,e,t))},VirtualRepeat.prototype.handleInnerCollectionMutated=function(e,t){var n=this;if(!this._ignoreMutation){this._ignoreMutation=!0;var r=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.taskQueue.queueMicroTask((function(){return n._ignoreMutation=!1})),r===this.items?this.itemsChanged():this.items=r}},VirtualRepeat.prototype.enableScroll=function(){this._ticking=!1,this._handlingMutations=!1,this._skipNextScrollHandle=!1},VirtualRepeat.prototype.getScroller=function(){return this.scrollerEl},VirtualRepeat.prototype.getScrollerInfo=function(){var e,t,n=this.scrollerEl;return{scroller:n,scrollTop:n.scrollTop,height:n===v?innerHeight:(e=n,t=e.getBoundingClientRect().height,t-=getStyleValues(e,"borderTopWidth","borderBottomWidth"))}},VirtualRepeat.prototype.resetCalculation=function(){this.$first=this.topBufferHeight=this.bottomBufferHeight=this.itemHeight=this.minViewsRequired=0,this._ignoreMutation=this._handlingMutations=this._ticking=!1,this.updateBufferElements(!0)},VirtualRepeat.prototype._onScroll=function(){var e=this,t=this._handlingMutations;if(!this._ticking&&!t){var n=this._currScrollerInfo,r=this.getScrollerInfo();this._currScrollerInfo=r,this.taskQueue.queueMicroTask((function(){e._ticking=!1,e._handleScroll(r,n)})),this._ticking=!0}t&&(this._handlingMutations=!1)},VirtualRepeat.prototype._handleScroll=function(e,t){if(this._isAttached)if(this._skipNextScrollHandle)this._skipNextScrollHandle=!1;else if(this.items){var n=this.strategy,r=this.$first,o=this.lastViewIndex(),a=n.getViewRange(this,e),l=a[0],d=a[1],c=l>r?1:l<r?2:0,u=0;if(l>=r&&o===d||d===o&&o>=d)l>=r&&o===d?n.isNearBottom(this,d)&&(c|=8):n.isNearTop(this,l)&&(c|=4);else if(l>r&&o>=l&&d>=o){var p=l-r;this._moveViews(p,1),u=1,n.isNearBottom(this,d)&&(c|=8)}else if(r>l&&r<=d&&o>=d){p=o-d;this._moveViews(p,-1),u=1,n.isNearTop(this,l)&&(c|=4)}else o<l||r>d?(n.remeasure(this),o<l?n.isNearBottom(this,d)&&(c|=8):n.isNearTop(this,l)&&(c|=4)):r!==l||o!==d?(console.log("[!] Scroll intersection not handled. With indices: "+"new [".concat(l,", ").concat(d,"] / old [").concat(r,", ").concat(o,"]")),n.remeasure(this)):console.log("[!] Scroll handled, and there's no changes");if(1===u&&(this.$first=l,n.updateBuffers(this,l)),9==(9&c)||6==(6&c))this.getMore(l,(4&c)>0,(8&c)>0);else{var h=e.scrollTop-t.scrollTop;c=h>0?1:h<0?2:0,n.isNearTop(this,l)&&(c|=4),n.isNearBottom(this,d)&&(c|=8),9!=(9&c)&&6!=(6&c)||this.getMore(l,(4&c)>0,(8&c)>0)}}},VirtualRepeat.prototype._moveViews=function(e,t){var n=this;if(-1===t)for(var r=n.firstViewIndex();e--;){var o=n.lastView();rebindAndMoveView(n,o,--r,!1)}else for(var a=n.lastViewIndex();e--;){o=n.view(0);rebindAndMoveView(n,o,++a,!0)}},VirtualRepeat.prototype.getMore=function(e,t,n,r){var o=this;if((t||n||r)&&!this._calledGetMore){b((function(r){if(!(r-o._lastGetMore<16)){o._lastGetMore=r,o._calledGetMore=!0;var revertCalledGetMore=function(){o._calledGetMore=!1},a=o.firstView();if(null!==a){var l=a.firstChild,d="infinite-scroll-next",c=l&&l.au&&l.au[d]?l.au[d].instruction.attributes[d]:void 0;if(void 0===c)revertCalledGetMore();else{var u={topIndex:e,isAtBottom:n,isAtTop:t},p=o.scope.overrideContext;if(p.$scrollContext=u,"string"!=typeof c){if(c.sourceExpression)return revertCalledGetMore(),c.sourceExpression.evaluate(o.scope);throw new Error("'".concat(d,"' must be a function or evaluate to one"))}var h=p.bindingContext,g=h[a.firstChild.getAttribute(d)];if("function"!=typeof g)throw new Error("'".concat(d,"' must be a function or evaluate to one"));revertCalledGetMore();var m=g.call(h,e,n,t);if(m instanceof Promise)return o._calledGetMore=!0,m.then((function(){revertCalledGetMore()}))}}else revertCalledGetMore()}}))}},VirtualRepeat.prototype.updateBufferElements=function(e){this.topBufferEl.style.height="".concat(this.topBufferHeight,"px"),this.bottomBufferEl.style.height="".concat(this.bottomBufferHeight,"px"),e&&(this._ticking=!0,b(this.revertScrollCheckGuard))},VirtualRepeat.prototype._unsubscribeCollection=function(){var e=this.collectionObserver;e&&(e.unsubscribe(this.callContext,this),this.collectionObserver=this.callContext=null)},VirtualRepeat.prototype.firstView=function(){return this.view(0)},VirtualRepeat.prototype.lastView=function(){return this.view(this.viewCount()-1)},VirtualRepeat.prototype.firstViewIndex=function(){var e=this.firstView();return null===e?-1:e.overrideContext.$index},VirtualRepeat.prototype.lastViewIndex=function(){var e=this.lastView();return null===e?-1:e.overrideContext.$index},VirtualRepeat.prototype.observeScroller=function(e){var t=this,n=l.PLATFORM.global.ResizeObserver;if("function"==typeof n){var r=this._scrollerResizeObserver;r&&r.disconnect(),(r=this._scrollerResizeObserver=new n((function(e){var n=t._currScrollerContentRect,r=e[0].contentRect;t._currScrollerContentRect=r,void 0!==n&&r.height===n.height&&r.width===n.width||function(e){b((function(){e===t._currScrollerContentRect&&t.itemsChanged()}))}(r)}))).observe(e)}var a=this._scrollerEvents;a&&a.disposeAll();var sizeChangeEventsHandler=function(){b((function(){t.itemsChanged()}))};(a=this._scrollerEvents=new o.ElementEvents(e)).subscribe(q.scrollerSizeChange,sizeChangeEventsHandler,!1),a.subscribe(q.itemSizeChange,sizeChangeEventsHandler,!1)},VirtualRepeat.prototype.unobserveScroller=function(){var e=this._scrollerResizeObserver;e&&e.disconnect();var t=this._scrollerEvents;t&&t.disposeAll(),this._scrollerResizeObserver=this._scrollerEvents=void 0},VirtualRepeat.prototype._observeInnerCollection=function(){var e=this._getInnerCollection(),t=this.strategyLocator.getStrategy(e);if(!t)return!1;var n=t.getCollectionObserver(this.observerLocator,e);if(!n)return!1;var r="handleInnerCollectionMutated";return this.collectionObserver=n,this.callContext=r,n.subscribe(r,this),!0},VirtualRepeat.prototype._getInnerCollection=function(){var e=(0,a.unwrapExpression)(this.sourceExpression);return e?e.evaluate(this.scope,null):null},VirtualRepeat.prototype._observeCollection=function(){var e=this.strategy.getCollectionObserver(this.observerLocator,this.items);e&&(this.callContext="handleCollectionMutated",this.collectionObserver=e,e.subscribe(this.callContext,this))},VirtualRepeat.prototype.viewCount=function(){return this.viewSlot.children.length},VirtualRepeat.prototype.views=function(){return this.viewSlot.children},VirtualRepeat.prototype.view=function(e){var t=this.viewSlot;return e<0||e>t.children.length-1?null:t.children[e]},VirtualRepeat.prototype.addView=function(e,t){var n=this.viewFactory.create();return n.bind(e,t),this.viewSlot.add(n),n},VirtualRepeat.prototype.insertView=function(e,t,n){var r=this.viewFactory.create();r.bind(t,n),this.viewSlot.insert(e,r)},VirtualRepeat.prototype.removeAllViews=function(e,t){return this.viewSlot.removeAll(e,t)},VirtualRepeat.prototype.removeView=function(e,t,n){return this.viewSlot.removeAt(e,t,n)},VirtualRepeat.prototype.updateBindings=function(e){for(var t=e.bindings,n=t.length;n--;)(0,a.updateOneTimeBinding)(t[n]);var r=e.controllers;for(n=r.length;n--;)for(var o=r[n].boundProperties,l=o.length;l--;){var d=o[l].binding;(0,a.updateOneTimeBinding)(d)}},VirtualRepeat}(a.AbstractRepeater),A=function(){function InfiniteScrollNext(){}return InfiniteScrollNext.$resource=function(){return{type:"attribute",name:"infinite-scroll-next"}},InfiniteScrollNext}();function configure(e){e.globalResources(I,A)}},"./node_modules/aurelia-webpack-plugin/runtime/empty-entry.js":()=>{},"./node_modules/aurelia-webpack-plugin/runtime/pal-loader-entry.js":(e,t,n)=>{"use strict";n.r(t);var r,o=n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js");Object.defineProperty(o.PLATFORM,"Loader",{get:function(){return r||(r=n("./node_modules/aurelia-loader-webpack/dist/native-modules/aurelia-loader-webpack.js").WebpackLoader)},set:function(e){r=e}})},"./node_modules/client-controls/client-controls.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/abstract/index.js"),n("./node_modules/client-controls/controls/container/index.js"),n("./node_modules/client-controls/controls/dialog/index.js"),n("./node_modules/client-controls/controls/simple/index.js"),n("./node_modules/client-controls/controls/utility/index.js"),n("./node_modules/client-controls/controls/compound/index.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/services/index.js"),n("./node_modules/client-controls/plugins/index.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(r,t),n.__exportStar(o,t),n.__exportStar(a,t),n.__exportStar(l,t),n.__exportStar(d,t),n.__exportStar(c,t),n.__exportStar(u,t),n.__exportStar(p,t),n.__exportStar(h,t),n.__exportStar(g,t),n.__exportStar(m,t)}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpBaseFieldEditor=void 0;let u=class QpBaseFieldEditor{constructor(e){this.container=e,this.stateSubscriptions=[],this.configSetters=new Map,this.bindingEngine=e.get(o.BindingEngine),this.tq=e.get(o.TaskQueue),this.eventAggregator=e.get(a.EventAggregator),this.screenEventManager=e.get(d.QpEventManager),this.addConfigSetter("visible",(e=>this.config.hidden=!e)),this.addConfigSetter("enabled"),this.addConfigSetter("readOnly"),this.addConfigSetter("required")}attached(){}detached(){var e;this.unregisterFieldBinding(this.state),this.unsubscribeStateChanges(),null===(e=this.inputSubscription)||void 0===e||e.dispose()}addConfigSetter(e,t=null){this.configSetters.set(e,t)}stateChanged(e,t){this.unsubscribeStateChanges(),e&&this.subscribeStateChanges(e),this.unregisterFieldBinding(t),this.registerFieldBinding(e)}registerFieldBinding(e){if(null==e?void 0:e.name){const t=e.name,n=this.container.get(Element);if(n){const r=e.viewModeName;if(r){const e=this.container.get(l.ScreenService);null==e||e.registerViewBinding(n,r,t)}const a=this.container.get(c.EventManager);this.inputSubscription=a.addEventListener(n,"input",(e=>{n.dispatchEvent(new CustomEvent("usertyping",{bubbles:!0,cancelable:!0,detail:{viewName:r,fieldName:t}}))}),o.delegationStrategy.none,!0)}}}unregisterFieldBinding(e){if((null==e?void 0:e.name)&&(null==e?void 0:e.viewModeName)){const e=this.container.get(l.ScreenService),t=this.container.get(Element);t&&(null==e||e.unregisterViewBinding(t))}}subscribeStateChanges(e){this.config&&e.configureControl(this.config),this.configSetters.forEach(((t,n)=>{if(this.config&&("visible"===n||"required"===n||"readOnly"===n))if(null==this.config[n])null==this.config[`${n}_stateControlled`]&&(this.config[`${n}_stateControlled`]=!0);else if(!0!==this.config[`${n}_stateControlled`])return;const r=this.bindingEngine.propertyObserver(e,n).subscribe(((r,o)=>this.setConfigProperty(t,n,r,e)));this.setConfigProperty(t,n,e[n],e),this.stateSubscriptions.push(r)}))}setConfigProperty(e,t,n,r){if(null==e||"string"==typeof e){if(void 0===n)return;Object.assign(this.config,{[String(e||t)]:n})}else e(n,r)}unsubscribeStateChanges(){this.stateSubscriptions.forEach((e=>e.dispose())),this.stateSubscriptions=[]}};n.__decorate([o.bindable,n.__metadata("design:type",d.PXFieldState)],u.prototype,"state",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],u.prototype,"config",void 0),u=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[r.Container])],u),t.QpBaseFieldEditor=u}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/abstract/customization/customizable":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("aurelia-framework"),n("./node_modules/aurelia-loader/dist/native-modules/aurelia-loader.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/path/path.js")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomizableCustomElement=void 0,c=n.__importStar(c);const u=(0,r.getLogger)("customizable");let p=class CustomizableCustomElement{constructor(e,t,n,r,o,a,l,c){this.container=e,this.viewResources=t,this.element=n,this.targetInstruction=r,this.compositionEngine=o,this.loader=a,this.viewCompiler=l,this.taskQueue=c,this.initialized=!1,this.expressions=this.targetInstruction.expressions,this.screenEventManager=e.get(d.QpEventManager),this.container=e,this.slot=this.bindingContext=this.overrideContext=void 0,this.isAttached=this.isBound=this.isCompiled=this.isInitialized=!1,this.isCleanedUp=!0}bind(e,t){this.isBound=!0,this.bindingContext=e.context||e,this.overrideContext=(0,o.createOverrideContext)(e,t),this.screenNameChanged(this.screenName)}unbind(){this.isBound=!1;const e=null==this?void 0:this.currentViewModel;(null==e?void 0:e.unbind)&&e.unbind(),this.bindingContext=void 0,this.overrideContext=void 0}attached(){this.isAttached=!0,this.isInitialized=!0,this.slot=new a.ViewSlot(this.routerElement||this.element.firstElementChild||this.element,!0),this.taskQueue.queueMicroTask((()=>{this.tryCompile()}))}detached(){this.isAttached=!1;const e=null==this?void 0:this.currentViewModel;(null==e?void 0:e.detached)&&e.detached(),this.isCompiled&&this.cleanUp(),this.slot=void 0}findElement(e,t){if(!t)throw new Error("Empty locator. ");const n=e.content.querySelector(t);if(!n)throw new Error(`Element ${t} is not found. `);return n}applyCustomization(e,t){var n,r,o,a,l,d,c,u,p,h,g,m;try{for(let f=0;f<t.content.children.length;++f){const v=t.content.children[f];if("MODIFY"!==v.nodeName)if(null===(r=v.attributes.modify)||void 0===r?void 0:r.value){const t=this.findElement(e,null===(o=v.attributes.modify)||void 0===o?void 0:o.value);for(let e=0;e<v.attributes.length;++e){const n=v.attributes[e];"modify"!==n.name&&(n.value?t.setAttribute(n.name,n.value):t.removeAttribute(n.name))}}else if(null===(a=v.attributes.replace)||void 0===a?void 0:a.value){const t=this.findElement(e,null===(l=v.attributes.replace)||void 0===l?void 0:l.value);null===(d=t.parentNode)||void 0===d||d.replaceChild(v.cloneNode(!0),t)}else if(null===(c=v.attributes.before)||void 0===c?void 0:c.value){const t=this.findElement(e,null===(u=v.attributes.before)||void 0===u?void 0:u.value);null===(p=t.parentNode)||void 0===p||p.insertBefore(v.cloneNode(!0),t)}else if(null===(h=v.attributes.after)||void 0===h?void 0:h.value){const t=this.findElement(e,null===(g=v.attributes.after)||void 0===g?void 0:g.value);null===(m=t.parentNode)||void 0===m||m.insertBefore(v.cloneNode(!0),t.nextElementSibling)}else e.content.appendChild(v.cloneNode(!0));else{const t=this.findElement(e,null===(n=v.attributes.target)||void 0===n?void 0:n.value);for(let e=0;e<v.attributes.length;++e){const n=v.attributes[e];"target"!==n.name&&(n.value?t.setAttribute(n.name,n.value):t.removeAttribute(n.name))}}}}catch(e){let n=`${e.message}<br>`;throw n+=`In customization template:<br>${this.escapeHtml(t.outerHTML)}`,new Error(n)}}escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}isViewModel(e){let t=e;do{if("PXScreen"===t.name)return!0;t=t.__proto__}while(t);return!1}getViewModelClassFromScreenName(e){return n.__awaiter(this,void 0,void 0,(function*(){const t=c.parse(e).dir,n=yield this.loader.loadModule(e),r=Object.getOwnPropertyNames(n);let o;for(const e of r){const t=n[e];if(this.isViewModel(t)){o=this.container.get(t);break}}this.currentViewModel=o;const a=new Array,l=o;l.appliedMixins&&l.appliedMixins.forEach((e=>a.push({viewName:c.join(t,"extensions",`${e.name}.html`)}))),a.push({viewName:l.viewName});for(const e of a){const t=yield this.loader.loadTemplate(`html-resource-plugin!${e.viewName}`),n=document.createElement("div");n.innerHTML=moduleHtmlToString(t),e.template=n.firstChild}const d=a[a.length-1].template;try{for(let e=a.length-2;e>=0;--e)this.applyCustomization(d,a[e].template);this.html=d.outerHTML}catch(e){this.html=`<template><div style="white-space: pre;background-color: lightgoldenrodyellow;padding: 12px;">Error: ${e.message}</div></template>`}this.taskQueue.queueMicroTask((()=>{this.tryCompile()}))}))}screenNameChanged(e){return n.__awaiter(this,void 0,void 0,(function*(){this.currentViewModel||this.currentViewModelPromise||!e||this.getViewModelClassFromScreenName(e)}))}activate(e,t){this.screenName=t.settings.screen,this.routerElement=t.navModel.router.viewPorts.default.element}deactivate(){const e=null==this?void 0:this.currentViewModel;(null==e?void 0:e.deactivate)&&e.deactivate()}cleanUp(){this.isCompiled=!1;const e=this.slot;try{e.detached()}catch(e){u.error(e.message)}try{e.unbind()}catch(e){u.error(e.message)}try{e.removeAll()}catch(e){u.error(e.message)}this.isCleanedUp=!0}tryCompile(){if(this.isAttached){this.isCleanedUp||this.cleanUp();try{this.taskQueue.queueMicroTask((()=>{this.compile()}))}catch(e){u.warn(e.message),this.taskQueue.queueMicroTask((()=>{this.compile(`<template>${e.message}</template>`)}))}}}dispatchCompiledEvent(){const e=new CustomEvent("compiled",{cancelable:!0,bubbles:!0,detail:this});this.element.dispatchEvent(e)}compile(e){if(this.isCompiled)return;this.isCleanedUp||this.cleanUp();const t=e||this.html;if(!t)return;this.isCleanedUp=!1;const n=this.container.get(a.ViewResources),r=this.container.createChild(),l=this.viewCompiler.compile(t,n).create(r),d=this.slot;this.bindingContext&&(this.bindingContext.viewModel=this.currentViewModel,this.currentViewModel.screenEventManager=this.screenEventManager,this.bindingContext.viewModelActivated&&this.bindingContext.viewModelActivated());const c=(0,o.createOverrideContext)(this.currentViewModel,this.overrideContext);d.add(l),d.bind(this.currentViewModel,c),this.currentViewModel.attached(),d.attached(),this.dispatchCompiledEvent(),this.isCompiled=!0}};n.__decorate([a.bindable,n.__metadata("design:type",String)],p.prototype,"screenName",void 0),p=n.__decorate([a.autoinject,(0,a.customElement)("customizable"),(0,a.inlineView)("<template></template>"),n.__metadata("design:paramtypes",[a.Container,a.ViewResources,Element,a.TargetInstruction,a.CompositionEngine,l.Loader,a.ViewCompiler,a.TaskQueue])],p),t.CustomizableCustomElement=p;const moduleHtmlToString=e=>{if(!e||"string"==typeof e)return e;if("object"==typeof e&&e.hasOwnProperty("default"))return e.default;throw{message:"loadTemplate returned something strange",data:e}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/abstract/decorators/config-attributes.js":(e,t,n)=>{var r,o;r=[n,t,n("aurelia-framework")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configAttributes=void 0;class ConfigSetter{constructor(e,t,n){this.owner=e,this.properties=t,this.configAlias=n,this.previousValues={}}static getInstance(e,t,n="config"){return e.hasOwnProperty(ConfigSetter.PropertyName)||Object.defineProperty(e,ConfigSetter.PropertyName,{value:new ConfigSetter(e,t,n),enumerable:!1,writable:!1}),e[ConfigSetter.PropertyName]}propertyChanged(e,t,n){if(-1!==this.properties.indexOf(e)){const n=this.config[e],r=this.previousValues[e];void 0!==n&&r!==n||this.setConfigValue(e,t)}else e===this.configAlias&&(!0===this.config[ConfigSetter.Marker]?delete this.config[ConfigSetter.Marker]:(this.previousValues={},this.properties.forEach((e=>{if(void 0===this.config[e]){const t=this.owner[e];void 0!==t&&this.setConfigValue(e,t)}}))))}get config(){let e=this.owner[this.configAlias];return"object"==typeof e&&e||(this.owner[this.configAlias]=e={[ConfigSetter.Marker]:!0}),e}setConfigValue(e,t){this.config[e]=this.previousValues[e]=t}}ConfigSetter.PropertyName="__config_setter__",ConfigSetter.Marker=Symbol(ConfigSetter.name),t.configAttributes=function configAttributes(e,t){return r=>{e.forEach((e=>{const t=n.metadata.getOrCreateOwn(n.metadata.resource,n.HtmlBehaviorResource,r);if(t.attributes&&!t.attributes[e]){new n.BindableProperty(e).registerWith(r,t)}}));const o=r.prototype.propertyChanged;r.prototype.propertyChanged=function(n,r,a){var l;null===(l=ConfigSetter.getInstance(this,e,t))||void 0===l||l.propertyChanged(n,r,a),null==o||o.call(this,n,r,a)}}}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/abstract/enhanced-compose/enhanced-compose":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnhancedComposeCustomElement=void 0;const a=(0,o.getLogger)("enhanced-compose");let l=class EnhancedComposeCustomElement{constructor(e,t,n,r,o){this.container=e,this.viewResources=t,this.element=n,this.targetInstruction=r,this.compositionEngine=o,this.expressions=this.targetInstruction.expressions}bind(e,t){this.bindingContext=e,this.overrideContext=t,this.viewModelChanged(this.viewModel)}unbind(){this.currentViewModelPromise=void 0,this.currentViewModel=void 0}getViewModelClassFromTagName(e){let t=this.viewResources.getElement(e);return t||(t=this.viewResources.getElement("qp-text-editor")),t.target}viewModelChanged(e){if(this.currentViewModel||this.currentViewModelPromise||!e)return;const t=this.getViewModelClassFromTagName(e);t||a.error("No client control exists for tag",e);const n=this.context?(0,r.createOverrideContext)(this.context,this.overrideContext):this.overrideContext,o={bindingContext:this.bindingContext,overrideContext:n,viewModel:t,container:this.container,host:this.element,viewResources:this.container.get(r.ViewResources),viewSlot:this.container.get(r.ViewSlot)},l=this.currentViewModelPromise=this.compositionEngine.compose(o).then((e=>{var t,n;if(l!==this.currentViewModelPromise)return;const a=this.currentViewModel=e.viewModel,d=r.metadata.get(r.metadata.resource,a.constructor);if(d){const t=d.properties;for(const n of t){const t=this.expressions.find((e=>e.targetProperty===n.name));if(t){const n=t.createBinding(a);e.view.addBinding(n)}}const n=this.expressions.find((e=>"controlId"===e.targetProperty));if(n){const t=n.createBinding(a);e.view.addBinding(t)}for(const t of this.proxyExpressions||[]){const n=t.createBinding(t.bindTo||a);e.view.addBinding(n)}}e.bind(o),a.controlId&&a.config&&(null!==(t=(n=a.config).id)&&void 0!==t||(n.id=a.controlId)),a.attached&&a.attached()}),(e=>a.error("error composing",e))).finally((()=>{l===this.currentViewModelPromise&&(this.currentViewModelPromise=void 0)}))}};n.__decorate([r.bindable,n.__metadata("design:type",String)],l.prototype,"viewModel",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"currentViewModel",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"context",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Array)],l.prototype,"proxyExpressions",void 0),l=n.__decorate([r.noView,(0,r.customElement)("enhanced-compose"),r.autoinject,n.__metadata("design:paramtypes",[r.Container,r.ViewResources,Element,r.TargetInstruction,r.CompositionEngine])],l),t.EnhancedComposeCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/abstract/index.js":(e,t,n)=>{var r,o;r=[n,t,n("client-controls/controls/abstract/customization/customizable"),n("client-controls/controls/abstract/enhanced-compose/enhanced-compose"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("client-controls/controls/abstract/screen-base-view-model/screen-base-view-model"),n("./node_modules/client-controls/controls/abstract/decorators/config-attributes.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configAttributes=t.PXScreen=t.QpBaseFieldEditor=t.EnhancedComposeCustomElement=t.CustomizableCustomElement=void 0,Object.defineProperty(t,"CustomizableCustomElement",{enumerable:!0,get:function(){return n.CustomizableCustomElement}}),Object.defineProperty(t,"EnhancedComposeCustomElement",{enumerable:!0,get:function(){return r.EnhancedComposeCustomElement}}),Object.defineProperty(t,"QpBaseFieldEditor",{enumerable:!0,get:function(){return o.QpBaseFieldEditor}}),Object.defineProperty(t,"PXScreen",{enumerable:!0,get:function(){return a.PXScreen}}),Object.defineProperty(t,"configAttributes",{enumerable:!0,get:function(){return l.configAttributes}})}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/abstract/screen-base-view-model/screen-base-view-model":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/base-api-client.js"),n("client-controls/controls/dialog/informer/qp-informer-rack"),n("./node_modules/client-controls/services/features-service.js"),n("./node_modules/client-controls/services/localizations-service.js"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),n("./node_modules/client-controls/services/field-defaults-service.js"),n("./node_modules/client-controls/controls/abstract/screen-base-view-model/utils.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/controls/compound/grid/grid-api-client.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m,f,v,b,y,_,x,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PXScreen=void 0;class PXScreen{constructor(){this.actions=new h.CaseInsensitiveMap,this.optimizeDataSelection=!0,this.appliedMixins=new Array,this.loadOnDemand=!1,this.initialized=!1,this.actionNames=[],this.subscribers=[],this.model=void 0,this.dirtyFlag=!1,this.serverEnableSave=!0,this.saveActions=[],this.Messages=x.Messages,this.LAYER_CONTAINER_ID="_layer_cont",this.graphInfo=h.PXReflectionMetadata.getMetadata(Object.getPrototypeOf(this).constructor,"graphInfo")}afterConstructor(){this.screenService.model=this,this.runMixin&&this.runMixin(),this.subscribers.push(this.eventManager.addEventListener(v.PLATFORM.global,"beforeunload",(e=>{if(this.isDirty)return e.preventDefault(),e.returnValue=!1,"";window.pageLoaded=!1,window.controlsRegistered=!1}),f.delegationStrategy.none,!0))}getScreenService(){return this.screenService}get screenID(){return this.siteMapScreenID}get modelScreenID(){let e=this;for(;e.__proto__.constructor&&e.__proto__.constructor.name!==PXScreen.name;)e=e.__proto__;return e.constructor.name}get siteMapScreenID(){var e;return(null===(e=this.screenService)||void 0===e?void 0:e.siteMapScreenID)||this.modelScreenID}isCustomized(){var e;return(null===(e=this.__proto__.__proto__)||void 0===e?void 0:e.constructor.name)!==PXScreen.name}get isDirty(){return this.saveActions.length>0&&this.dirtyFlag}setDirty(e=!0){this.dirtyFlag!==e&&(this.dirtyFlag=e,this.saveActions.forEach((e=>{const t=this.actions.get(e);t&&(t.enabled=this.dirtyFlag&&this.serverEnableSave,t.bindToScreenName&&(this[t.bindToScreenName].enabled=t.enabled))})))}activate(e){var t,r,o;return n.__awaiter(this,void 0,void 0,(function*(){if(yield this.featuresService.getFeatures().then((e=>this.features=e)),yield this.localizationService.load(),e&&void 0!==e.initialized&&(this.model=e,!e.viewModel)){const n=null===top||void 0===top?void 0:top.document.getElementById(this.LAYER_CONTAINER_ID);n&&(null===(t=window.frameElement)||void 0===t?void 0:t.id)!==(null===(r=null==n?void 0:n.querySelector("iframe"))||void 0===r?void 0:r.id)&&(n.style.display="none",null===(o=n.closest(".frame-cont"))||void 0===o||o.classList.remove("layer-visible")),e.viewModel=this,e.viewModelActivated&&e.viewModelActivated(),this.onActivate()}}))}openDialogMsg(e,t){return this.dialogHelper.openDialog(Object.assign(Object.assign({},t),{templateId:e.name,context:this,command:e.commandName}))}get viewName(){const e=this.__proto__.constructor.fileName;if(!e)return window.SCREEN_VIEW_NAME;const t=this.constructor.rootName,n=(0,g.makePathRelativeTo)(e,t);return`${n.substring(0,n.lastIndexOf(".ts"))}.html`}getViewStrategy(){return this.viewName}clearActions(){var e,t;null===(e=this.actions)||void 0===e||e.clear(),null===(t=this.actionNames)||void 0===t||t.splice(0)}attached(){return n.__awaiter(this,void 0,void 0,(function*(){yield this.fieldDefaultsService.addFromModule(this.viewName),this.loadOnDemand||(yield this.initialize()),this.subscribers.push(this.eventAggregator.subscribe("cancel-long-run",(()=>{this.screenService.executeCommand("LongRun")}))),this.subscribers.push(this.eventManager.addEventListener(this.element,"usertyping",(e=>{const t=e.detail;t.viewName&&this.screenService.registerViewFieldChange(t.viewName,t.fieldName,void 0,{typing:!0}),this.setDirty()}),f.delegationStrategy.none,!0))}))}setupParameters(e){this[this.graphInfo.primaryView];for(const t in e)this.screenService.setScreenParameter(this.graphInfo.primaryView,t,e[t])}getKeys(){const e={},t=this[this.graphInfo.primaryView];for(const n in t){const r=t[n];r&&(r.primaryKey&&(e[n]=r.systemValue))}return e}isNewEntry(){return this.screenService.isNewEntry}getCaptionText(){let e,t="";const n=this[this.graphInfo.primaryView];for(const r in n){const o=n[r];o&&(o.primaryKey&&(t+=`${o.textValue} `,e=o))}if(e)for(const e in n){const r=n[e];r&&r.headerDescription&&r.textValue&&(t+=`- ${r.textValue}`)}return t}getRowErrors(){const e={},t=this[this.graphInfo.primaryView];for(const n in t){const r=t[n];r&&(r.errorLevel!==h.PXErrorLevel.RowError&&r.errorLevel!==h.PXErrorLevel.RowWarning&&r.errorLevel!==h.PXErrorLevel.RowInfo||!r.error||e[r.error]||(e[r.error]=r.errorLevel))}if(Object.keys(e).length){const t=[];return Object.keys(e).forEach((n=>t.push([n,e[n].toString()]))),t}}setActionStates(e,t){if(this.saveActions=[],this.serverEnableSave=!1,e){for(const t in e){let n=this.actions.get(t);n||this.actions.set(t,n=new h.PXActionState(this,t));const r=new h.PXActionState(this,t);Object.assign(r,e[t]);const o=e[t].specialType;if(o===h.PXSpecialButtonType.Save||o===h.PXSpecialButtonType.SaveNotClose){this.saveActions.push(t),this.serverEnableSave=this.serverEnableSave||null==e[t].enabled||e[t].enabled;const n=(null==this.dirtyFlag||this.dirtyFlag)&&this.serverEnableSave;r.enabled=n}Object.assign(n,r),r.bindToScreenName&&(this[r.bindToScreenName]=r)}this.actionNames=Object.keys(e)}if(t)for(const e in t){const n=this[e];if(!n)continue;const r=t[e];for(const e of r){const t=this.actions.get(e);t&&(n[e]=t)}n.actionNames=r}this.onActionsUpdate()}attachFieldsValueHandlers(e){(null==e?void 0:e[h.CustomEventType.ValueChanged])&&e[h.CustomEventType.ValueChanged].forEach((e=>{const t=e.props;this.attachValueHandler(e,t.view,t.field)}))}attachCssCustomizations(e){if(!(null==e?void 0:e[h.CustomEventType.GetRowCss])&&!(null==e?void 0:e[h.CustomEventType.GetCellCss]))return;const t=[h.CustomEventType.GetRowCss,h.CustomEventType.GetCellCss].reduce(((t,n)=>{var r;return null===(r=e[n])||void 0===r||r.forEach((e=>{const r=e.props;t[r.view]=t[r.view]||{},t[r.view][n]=t[r.view][n]||[],t[r.view][n].push(e)})),t}),{});for(const e in t){const n=this[e];n&&n.cssCustomization.setCustomCssHandler(this,t[e])}}attachRowSelectedHandlers(e){(null==e?void 0:e[h.CustomEventType.RowSelected])&&e[h.CustomEventType.RowSelected].forEach((e=>{const t=this[e.props.view];t&&t.subscribeRowSelected(this,e)}))}attachValueHandler(e,t,n){const r=this[t];if(r){const t=r.subscribeValueChanged(this,n,e);t&&this.subscribers.push(t)}}detached(){this.subscribers.forEach((e=>e.dispose())),this.subscribers.splice(0,this.subscribers.length),this.screenService.dispose()}cancelViewChanges(e){this.screenService.cancelViewFieldChanges(e),this.setDirty(this.screenService.hasChanges())}ensureInitialized(){return n.__awaiter(this,void 0,void 0,(function*(){this.busyCounter.increment(),this.initialized||(yield this.initialize(!1)),this.busyCounter.decrement()}))}initialize(e=!0,t){return n.__awaiter(this,void 0,void 0,(function*(){const n=this.screenEventManager.subscribe("ExecuteCommand",(e=>{var t,n;(e.Command||(null===(n=null===(t=e.Params)||void 0===t?void 0:t.dialogCallback)||void 0===n?void 0:n.dialogResult))&&(this.screenService.executeCommand(e.Command,e.Params),e.stop())}));this.subscribers.push(n),this.subscribers.push(this.eventAggregator.subscribe(h.ApiCientEvents.ErrorRaisedEvent,(e=>{var t,n,r;e.isProcessed||((0,o.showInformer)((null===(t=e.data)||void 0===t?void 0:t.detail)||(null===(n=e.data)||void 0===n?void 0:n.title)||(null===(r=e.data)||void 0===r?void 0:r.message),"error"),e.isProcessed=!0)}))),yield this.onBeforeInitialize();try{yield this.screenService.initialize()}catch(e){return this.initialized=!0,this.eventAggregator.publish("screen-initialized",{screenID:this.screenID,pendingUpdate:!1,failure:!0}),this.onInitializeError(e),void(window.pageLoaded=!0)}this.eventAggregator.publish("screen-initialize-data-ready",this.screenID);const r=(0,y.getEventHandlersByType)(this);if(this.attachFieldsValueHandlers(r),this.attachCssCustomizations(r),this.attachRowSelectedHandlers(r),yield this.onInitialize(),this.initialized=!0,this.eventAggregator.publish("screen-initialized",{screenID:this.screenID,pendingUpdate:e}),window.pageLoaded=!0,this.onAfterInitialize(),e)return this.update(t)}))}update(e){return this.screenService.update(void 0,e).then()}onActivate(){}onBeforeInitialize(){return n.__awaiter(this,void 0,void 0,(function*(){}))}onInitialize(){return n.__awaiter(this,void 0,void 0,(function*(){}))}onInitializeError(e){}onAfterInitialize(){}onActionsUpdate(){}}n.__decorate([p.autoinject,n.__metadata("design:type",c.EventAggregator)],PXScreen.prototype,"eventAggregator",void 0),n.__decorate([(0,p.newInstance)(h.QpEventManager),n.__metadata("design:type",h.QpEventManager)],PXScreen.prototype,"screenEventManager",void 0),n.__decorate([(0,p.newInstance)(h.RedirectHelper),n.__metadata("design:type",h.RedirectHelper)],PXScreen.prototype,"redirectHelper",void 0),n.__decorate([(0,p.newInstance)(r.BaseApiClient),n.__metadata("design:type",r.BaseApiClient)],PXScreen.prototype,"baseApiClient",void 0),n.__decorate([(0,p.newInstance)(C.GridApiClient),n.__metadata("design:type",C.GridApiClient)],PXScreen.prototype,"gridApiClient",void 0),n.__decorate([(0,p.newInstance)(u.ScreenService),n.__metadata("design:type",u.ScreenService)],PXScreen.prototype,"screenService",void 0),n.__decorate([(0,p.inject)(a.FeaturesService),n.__metadata("design:type",Object)],PXScreen.prototype,"featuresService",void 0),n.__decorate([(0,p.inject)(l.LocalizationsService),n.__metadata("design:type",Object)],PXScreen.prototype,"localizationService",void 0),n.__decorate([p.autoinject,n.__metadata("design:type",d.TaskQueue)],PXScreen.prototype,"tq",void 0),n.__decorate([(0,p.newInstance)(m.DialogHelper),n.__metadata("design:type",m.DialogHelper)],PXScreen.prototype,"dialogHelper",void 0),n.__decorate([p.autoinject,n.__metadata("design:type",Element)],PXScreen.prototype,"element",void 0),n.__decorate([p.autoinject,n.__metadata("design:type",d.Container)],PXScreen.prototype,"container",void 0),n.__decorate([p.autoinject,n.__metadata("design:type",f.EventManager)],PXScreen.prototype,"eventManager",void 0),n.__decorate([p.autoinject,n.__metadata("design:type",b.FieldDefaultsService)],PXScreen.prototype,"fieldDefaultsService",void 0),n.__decorate([p.autoinject,n.__metadata("design:type",_.BusyCounter)],PXScreen.prototype,"busyCounter",void 0),t.PXScreen=PXScreen;const S=Object.getOwnPropertyNames(PXScreen.prototype).reduce(((e,t)=>(e[t]=!0,e)),{});S.__metadata__=!0,S.__pxmetadata__=!0,window.SCREEN_RESTRICTED_PROPS=S}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/abstract/screen-base-view-model/utils.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/descriptors/index.js")],o=function(e,t,n){"use strict";function processManualHandlers(e){const t=[];for(let n=e.length-1;n>=0;n--)if(t.unshift(e[n]),e[n].props.manualHandler&&n>0){t[0].children=processManualHandlers(e.slice(0,n));break}return t}function getAllFunctions(e){let t=new Array,n=e;do{t=t.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n)}while(n);return t.sort().filter((function(t,n,r){if(t!==r[n+1]&&"function"==typeof e[t])return!0}))}function searchMetadata(e,t,r){let o,a=e;do{o=n.ReflectWithMetadata.getOwnMetadata(t,a,r),o||(a=Object.getPrototypeOf(a))}while(!o&&a);return{eventType:o,prototype:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.searchMetadata=t.getAllFunctions=t.processManualHandlers=t.getEventHandlersByType=void 0,t.getEventHandlersByType=function getEventHandlersByType(e){const t=Object.getPrototypeOf(e),r=getAllFunctions(e),o={};for(const a of r){const{eventType:r,prototype:l}=searchMetadata(t,n.eventTypeMetadataName,a);if(!r)continue;o[r]=o[r]||[];const d=n.ReflectWithMetadata.getOwnMetadata(n.eventPropMetadataName,l,a),c=n.ReflectWithMetadata.getOwnMetadata(n.eventOrderMetadataName,l,a);o[r].push({order:c,handler:e[a],handlerName:a,props:d,eventType:r})}for(const e in o){const t=o[e];(null==t?void 0:t.sort)&&(t.sort(((e,t)=>{const n=e.order-t.order;if(0!==n)return n;const r=(void 0===e.props.order?Number.MAX_SAFE_INTEGER:e.props.order)-(void 0===t.props.order?Number.MAX_SAFE_INTEGER:t.props.order);return 0!==r?r:e.handlerName.localeCompare(t.handlerName)})),o[e]=processManualHandlers(t))}return o},t.processManualHandlers=processManualHandlers,t.getAllFunctions=getAllFunctions,t.searchMetadata=searchMetadata}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/address-lookup/address-helper.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressHelper=void 0;class AddressHelper{static getSearchQuery(e){var t,n;if(e.AddressLine1||e.AddressLine2||e.City||e.State||e.PostalCode)return AddressHelper.getFormattedAddressHelper(" ",[e.AddressLine1,e.AddressLine2,e.City,AddressHelper.getFormattedAddressHelper(" ",[null===(t=e.State)||void 0===t?void 0:t.id,e.PostalCode]),null===(n=e.Country)||void 0===n?void 0:n.id])}static getFormattedAddress(e){var t,n;if(e.AddressLine1||e.AddressLine2||e.City||e.State||e.PostalCode)return AddressHelper.getFormattedAddressHelper(", ",[e.AddressLine1,e.AddressLine2,e.City,AddressHelper.getFormattedAddressHelper(" ",[null===(t=e.State)||void 0===t?void 0:t.id,e.PostalCode]),null===(n=e.Country)||void 0===n?void 0:n.id])}static getFormattedAddressHelper(e,t){return t.filter((e=>!!e)).join(e)}}t.AddressHelper=AddressHelper}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/compound/address-lookup/address-lookup-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressLookupService=void 0;t.AddressLookupService=class AddressLookupService{constructor(e){this.http=e}getAddressLookupSetting(){return n.__awaiter(this,void 0,void 0,(function*(){try{const e=yield this.http.get("apiweb/AddressLookup/setting");if(e.ok&&200===e.status)return e.json()}catch(e){console.log("Error: ",e)}return null}))}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/address-lookup/map-api/bing-api.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/controls/compound/address-lookup/address-helper.js"),n("./node_modules/client-controls/controls/compound/address-lookup/map-api/map-api.js"),n("./node_modules/client-controls/services/messages.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class BingApi extends o.MapApi{constructor(e){super(e),this.latitude="",this.longitude="",this.Microsoft=window.Microsoft,this.handlers=[],this.stp=!1,this.properties=this.getProviderProperties()}destroy(){var e,t;this.handlers.forEach((e=>{this.Microsoft.Maps.Events.removeHandler(e)})),delete this.address,delete this.searchManager,delete this.infowindow,delete this.marker,null===(e=this.map)||void 0===e||e.entities.clear(),null===(t=this.map)||void 0===t||t.dispose(),delete this.map}geocodeQuery(e){this.address=e;const t=r.AddressHelper.getSearchQuery(e);if(!t)return;const n={where:t,callback:t=>{t&&t.results&&t.results.length>0&&(this.showPlace(t.results[0].location,r.AddressHelper.getFormattedAddress(e),""),this.map.setView({center:t.results[0].location}),this.infowindow.setOptions({visible:!0}))},errorCallback:()=>{}};this.searchManager.geocode(n)}initializeMaps(e,t,n){return super.initializeMaps(e,t,n).then((()=>(this.Microsoft||(this.Microsoft=window.Microsoft),this.bindAutocompleteSearchControl())))}getAddress(){if(!this.bingSuggestedAddress)return;const e=this.bingSuggestedAddress,t={};return t.AddressLine1=e.addressLine,t.City=e.locality,t.Country={id:e.countryRegionISO2,text:e.countryRegion},t.Latitude=this.latitude,t.Longitude=this.longitude,t.PostalCode=e.postalCode,t.State={id:e.adminDistrict},t}getProviderProperties(){var e;return{url:(null===(e=this.setting.url)||void 0===e?void 0:e.toLowerCase().trim().replace("${api_key}",this.setting.apiKey||""))||`https://www.bing.com/api/maps/mapcontrol?key=${this.setting.apiKey}&setLang=en&includeEntityTypes=Address,Business`,providerName:"BINGMAPS",countries:this.setting.countries,path:this.setting.path||"./map-api/bing-api"}}geocodeQueryByLoc(e){return new Promise(((t,n)=>{e||n();const r={location:e,includeCountryIso2:!0,callback:(e,n)=>{t(e)},errorCallback:()=>{n()}};this.searchManager.reverseGeocode(r)}))}static getUrl(e,t){let n=`https://www.bing.com/maps?where1=${t}`;return n+=encodeURIComponent(e),n}static sleep(e){return new Promise((t=>setTimeout(t,e)))}bindAutocompleteSearchControl(){return n.__awaiter(this,void 0,void 0,(function*(){try{this.map=new this.Microsoft.Maps.Map(this.mapContainer,{})}catch(e){yield BingApi.sleep(2*o.MapApi.dblClickDelay),this.map=new this.Microsoft.Maps.Map(this.mapContainer,{})}this.map.setView({zoom:13});const e=new Promise((e=>{this.Microsoft.Maps.loadModule("Microsoft.Maps.Search",(()=>{this.searchManager=new this.Microsoft.Maps.Search.SearchManager(this.map),e()}))})),t=new Promise((e=>{this.Microsoft.Maps.loadModule("Microsoft.Maps.AutoSuggest",(()=>{let t={maxResults:5,businessSuggestions:!0,map:this.map};this.countries&&this.countries.length&&(t={maxResults:5,businessSuggestions:!0,map:this.map,countryCode:this.countries[0]});new this.Microsoft.Maps.AutosuggestManager(t).attachAutosuggest(this.searchBoxInput,"#searchBoxContainer",(e=>{this.selectedSuggestion(e),this.map.setView({center:e.location}),this.infowindow.setOptions({visible:!0})})),e()}))}));return Promise.all([e,t]).then((()=>{this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.map,"dblclick",(()=>{this.stp=!0,setTimeout((()=>this.stp=!1),3*o.MapApi.dblClickDelay)}))),this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.map,"click",(e=>{setTimeout((()=>this.addHandedMarker(e)),o.MapApi.dblClickDelay)}))),this.marker=new this.Microsoft.Maps.Pushpin(this.map.getCenter(),{draggable:!0}),this.infowindow=new this.Microsoft.Maps.Infobox(this.map.getCenter(),{visible:!1,enableHoverStyle:!0}),this.infowindow.setMap(this.map),this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.marker,"click",(e=>{this.infowindow.setOptions({visible:!this.infowindow.getVisible(),description:this.infowindow.getDescription()})}))),this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.marker,"dragstart",(e=>{this.infowindow.setOptions({visible:!1})}))),this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.marker,"dragend",(e=>{this.infowindow.setOptions({visible:!1}),this.addHandedMarker(e)})))}))}))}addHandedMarker(e){this.stp||this.geocodeQueryByLoc(e.location).then((e=>{this.selectedSuggestion(e)}))}selectedSuggestion(e){this.map.entities.clear(),this.bingSuggestedAddress=e.address,this.showPlace(e.location,e.address.formattedAddress,BingApi.getUrl(e.address.formattedAddress,"")),this.latitude=e.location.latitude,this.longitude=e.location.longitude}showPlace(e,t,n){var o;t&&(this.map.entities.push(this.marker),this.marker.setLocation(e),n||(n=(null===(o=this.address)||void 0===o?void 0:o.AddressLine1)?BingApi.getUrl(r.AddressHelper.getFormattedAddress(this.address),""):`https://bing.com/maps/default.aspx?cp=${e.latitude}~${e.longitude}&lvl=16&dir=0&sty=o&sp=point.${e.latitude}_${e.longitude}_You%20are%20here`),n&&(t=`${t}<div class="view-link">\n\t\t\t\t<a target="_blank" href="${n}"> <span> ${a.Messages.AddressLookupViewOnBingMap} </span> </a>\n\t\t\t\t</div >`),this.infowindow.setOptions({visible:!1,description:t,location:e,enableHoverStyle:!0,offset:{x:0,y:10}}))}}t.default=BingApi}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/address-lookup/map-api/default-api.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/address-lookup/map-api/map-api.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class DefaultApi extends n.MapApi{constructor(e){super(e),this.properties={url:"http://about:blank",providerName:"DEFAULT",countries:[],path:"./map-api/default-api"}}destroy(){}geocodeQuery(e){}initializeMaps(e,t,n){return Promise.resolve(super.initializeMaps(e,t,n))}getAddress(){}}t.default=DefaultApi}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/address-lookup/map-api/google-api.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/address-lookup/address-helper.js"),n("./node_modules/client-controls/controls/compound/address-lookup/map-api/map-api.js"),n("./node_modules/client-controls/services/messages.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class GoogleApi extends r.MapApi{constructor(e){super(e),this.isInfowindowOpen=!1,this.stp=!1,this.properties=this.getProviderProperties()}destroy(){GoogleApi.googleMap.event.clearListeners(this.marker,"click"),GoogleApi.googleMap.event.clearListeners(this.marker,"dragend"),GoogleApi.googleMap.event.clearListeners(this.marker,"dragstart"),GoogleApi.googleMap.event.clearListeners(this.autocomplete,"place_changed"),delete this.map,delete this.marker,delete this.autocomplete,delete this.infowindow}initializeMaps(e,t,n){return super.initializeMaps(e,t,n).then((()=>{GoogleApi.googleMap=window.google.maps;if(this.autocomplete=new GoogleApi.googleMap.places.Autocomplete(this.searchBoxInput,{bounds:{east:180,west:-180,north:90,south:-90},fields:["name","url","address_component","geometry","adr_address","formatted_address"]}),this.countries&&this.countries.length)try{this.autocomplete.setComponentRestrictions({country:this.countries})}catch(e){alert("Can't apply countries component restriction.")}this.map=new GoogleApi.googleMap.Map(this.mapContainer,{center:{lat:-33.8688,lng:151.2195},zoom:13,fullscreenControl:!1,clickableIcons:!1,streetViewControl:!1,mapTypeControl:!0,mapTypeControlOptions:{style:GoogleApi.googleMap.MapTypeControlStyle.HORIZONTAL_BAR,position:GoogleApi.googleMap.ControlPosition.TOP_RIGHT},styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]}),this.map.getDiv().addEventListener("dblclick",(()=>{this.stp=!0,setTimeout((()=>this.stp=!1),3*GoogleApi.dblClickDelay)})),this.map.addListener("click",(e=>{setTimeout(this.addHandedMarker.bind(this),GoogleApi.dblClickDelay,e)})),this.marker=new GoogleApi.googleMap.Marker({map:this.map,anchorPoint:new GoogleApi.googleMap.Point(0,GoogleApi.defaultPoint),draggable:!0}),this.marker.addListener("dragend",(e=>{this.closeInfowindow(),this.addHandedMarker(e)})),this.marker.addListener("dragstart",(e=>{this.closeInfowindow()})),this.autocomplete.addListener("place_changed",(()=>{const e=this.autocomplete.getPlace();e.geometry?(this.selectedPlace=e,this.showPlace(e.geometry.location,e.formatted_address,e.name,e.url)):this.selectedPlace=null}));const e=GoogleApi.offset;this.infowindow=new GoogleApi.googleMap.InfoWindow({pixelOffset:e}),GoogleApi.googleMap.event.addListener(this.marker,"click",(()=>{this.isInfowindowOpen?this.closeInfowindow():this.openInfowindow()}))}))}addHandedMarker(e){if(this.stp)return;(new GoogleApi.googleMap.Geocoder).geocode({location:e.latLng}).then((t=>{this.closeInfowindow(),t.results[0]?(this.marker.setPosition(e.latLng),this.marker.setTitle(t.results[0].formatted_address),this.infowindow.setContent(t.results[0].formatted_address),this.selectedPlace=t.results[0]):(this.marker.setPosition(e.latLng),this.marker.setTitle(null),this.selectedPlace=null)}))}geocodeQuery(e){let t=n.AddressHelper.getSearchQuery(e);if(!t)return;(new GoogleApi.googleMap.Geocoder).geocode({address:t},((r,o)=>{if("OK"===o){const o=r[0].geometry;this.marker?this.marker.setPosition(o.location):this.marker=new GoogleApi.googleMap.Marker({map:this.map,position:o.location}),t=n.AddressHelper.getFormattedAddress(e);const a=GoogleApi.getUrl(t,"&q=");this.showPlace(o.location,t,"",a)}}))}getAddress(){var e,t,n,r;const o=this.selectedPlace;if(!o)return;const a=(new DOMParser).parseFromString(o.adr_address,"text/html"),l={};if(l.Latitude=o.geometry.location.lat(),l.Longitude=o.geometry.location.lng(),l.AddressLine1=null===(e=null==a?void 0:a.querySelector(".street-address"))||void 0===e?void 0:e.innerText,!l.AddressLine1){let e=o.address_components.filter((e=>"premise"===e.types[0]));e.length>0&&(l.AddressLine1=e[0].short_name),l.AddressLine1&&(e=o.address_components.filter((e=>"locality"===e.types[0])),e.length>0&&(l.AddressLine1+=", "+e[0].short_name)),l.AddressLine1||(l.AddressLine1=o.formatted_address.split(",")[0])}if(l.PostalCode=null===(t=null==a?void 0:a.querySelector(".postal-code"))||void 0===t?void 0:t.innerText,!l.PostalCode){const e=o.address_components.filter((e=>e.types.indexOf("postal_code")>-1));e.length>0&&(l.PostalCode=e[0].short_name)}if(l.City=null===(n=null==a?void 0:a.querySelector(".sublocality"))||void 0===n?void 0:n.innerText,l.City||(l.City=null===(r=null==a?void 0:a.querySelector(".locality"))||void 0===r?void 0:r.innerText),!l.City){let e=o.address_components.filter((e=>e.types.indexOf("sublocality")>-1));e.length>0?l.City=e[0].short_name:(e=o.address_components.filter((e=>e.types.indexOf("locality")>-1)),e.length>0&&(l.City=e[0].short_name))}let d=o.address_components.filter((e=>e.types.indexOf("administrative_area_level_1")>-1));return d.length>0&&(l.State={id:d[0].short_name,text:d[0].long_name}),d=o.address_components.filter((e=>e.types.indexOf("country")>-1)),d.length>0&&(l.Country={id:d[0].short_name,text:d[0].long_name}),l}getProviderProperties(){var e;return{url:(null===(e=this.setting.url)||void 0===e?void 0:e.toLowerCase().trim().replace("${api_key}",this.setting.apiKey||""))||`https://maps.googleapis.com/maps/api/js?key=${this.setting.apiKey}&libraries=places&language=EN`,providerName:"GOOGLEMAPS",countries:this.setting.countries,path:this.setting.path||"./map-api/google-api"}}openInfowindow(){this.infowindow.open(this.map,this.marker),this.isInfowindowOpen=!0}closeInfowindow(){this.infowindow.close(),this.isInfowindowOpen=!1}showPlace(e,t,n,r){if(!t)return;this.marker.setVisible(!1),this.map.setCenter(e),this.map.setZoom(GoogleApi.defaultZoom),this.marker.setPosition(e),this.marker.setVisible(!0),r||(r=GoogleApi.getUrl());const a=`<div id="content-custom">${t}</div>\n\t\t\t<div class="view-link">\n\t\t\t<a target="_blank" href="${r}"> <span> ${o.Messages.AddressLookupViewOnGoogleMaps} </span> </a>\n\t\t\t</div>`;this.infowindow.setContent(a),this.openInfowindow()}static getUrl(e,t){let n="http://maps.google.com/maps?hl="+t;return e&&(n+=encodeURIComponent(e)),n}}t.default=GoogleApi,GoogleApi.defaultZoom=13,GoogleApi.defaultPoint=-29,GoogleApi.offset={width:0,height:-10}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/address-lookup/map-api/map-api.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapApi=void 0;class MapApi{constructor(e){this.setting=e}initializeMaps(e,t,n){return this.mapContainer=e,this.searchBox=t,this.searchBoxInput=this.searchBox.querySelector("input"),this.countries=n,Promise.resolve()}}t.MapApi=MapApi,MapApi.dblClickDelay=200}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/compound/address-lookup/map-provider-properties-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework")],o=function(e,t,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapProviderPropertiesService=void 0;t.MapProviderPropertiesService=class MapProviderPropertiesService{constructor(e){this.addressLookupSetting=e}initMapApi(){return r.__awaiter(this,void 0,void 0,(function*(){return yield this.dynamicImport(),this.mapApi}))}dynamicImport(){return r.__awaiter(this,void 0,void 0,(function*(){this.addressLookupSetting.path||(this.addressLookupSetting.path="./map-api/default-api");const e=yield new Promise(((e,t)=>{Promise.all([n.e(11216),n.e(5407)]).then(function(){var t=[n("./node_modules/client-controls/controls/compound/address-lookup sync recursive ^.*$")(""+o.PLATFORM.moduleName(this.addressLookupSetting.path))];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then(r.__importStar);this.mapApi=new e.default(this.addressLookupSetting)}))}}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/address-lookup/qp-address-lookup":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/controls/compound/address-lookup/map-provider-properties-service.js"),n("./node_modules/client-controls/controls/compound/address-lookup/address-lookup-service.js"),n("./node_modules/client-controls/descriptors/base-view-model.js"),n("./node_modules/client-controls/utils/control-helper.js"),n("./node_modules/client-controls/services/messages.js"),n("aurelia-framework"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h){"use strict";var g;Object.defineProperty(t,"__esModule",{value:!0}),t.QpAddressLookupCustomElement=void 0;let m=g=class QpAddressLookupCustomElement{constructor(e,t,n,r,o,a,l){this.element=e,this.bindingEngine=t,this.observerLocator=n,this.eventAggregator=r,this.dialogHelper=o,this.tq=a,this.http=l,this.msg=d.Messages,this.btnAddressLookupConfig={id:"btnAddressLookup",text:d.Messages.AddressLookupButtonTitle,enabled:!0},this.mapdialogConfig={title:d.Messages.AddressLookupDialogTitle,width:"50vw",height:"50vh"},this.saveButtonConfig={text:d.Messages.Confirm,id:"btnConfirm",dialogResult:1,enabled:!0},this.cancelButtonConfig={text:d.Messages.Cancel,id:"btnCancel",dialogResult:2,enabled:!0},this.txtNameConfig={id:"edFilterName",class:"editor auto-size"},this.isScriptLoaded=!1,this.subscriptions=new Array}bind(e,t){if(this.clearSubscriptions(),this.config?(0,l.applyDefaultValues)(this.config,g.defaultConfig):this.config=Object.assign({},g.defaultConfig),this.btnAddressLookupConfig=Object.assign(Object.assign({},this.config),{text:this.config.buttonText||d.Messages.AddressLookupButtonTitle}),this.saveButtonConfig.enabled=void 0===this.config.enabled?void 0===this.overrideAddress||this.overrideAddress:this.config.enabled,this.txtNameConfig.hidden=!this.saveButtonConfig.enabled,!this.view&&this.config.view&&(this.view=this.config.view),this.view){["AddressLine1","AddressLine2","AddressLine3","City","CountryID","State","PostalCode","Latitude","Longitude","OverrideAddress"].forEach((e=>{const t=(e[0].toLowerCase()+e.substring(1)).replace("ID","");this.observerLocator.getObserver(this,t)._context0||void 0===this.view[e]||(this.subscriptions.push(this.bindingEngine.expressionObserver(this.view,`${e}.value`).subscribe(((e,n)=>{e!==n&&(this[t]=e)}))),this.subscriptions.push(this.bindingEngine.propertyObserver(this,t).subscribe(((t,n)=>{t!==n&&(this.view[e].value=t)}))),void 0===this[t]&&void 0!==this.view[e].value&&(this[t]=this.view[e].value))}))}this.config.okButtonText&&(this.saveButtonConfig.text=this.config.okButtonText),this.config.cancelButtonText&&(this.cancelButtonConfig.text=this.config.cancelButtonText)}overrideAddressChanged(e){var t,n;this.saveButtonConfig.enabled=void 0===this.config.enabled?void 0===e||e:this.config.enabled,this.saveButtonConfig.text=null!==(t=this.config.okButtonText)&&void 0!==t?t:this.saveButtonConfig.text,this.cancelButtonConfig.text=null!==(n=this.config.cancelButtonText)&&void 0!==n?n:this.cancelButtonConfig.text,this.txtNameConfig.hidden=!this.saveButtonConfig.enabled}clearSubscriptions(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}ensureAddressLookupService(){void 0===this.addressLookupService&&(this.addressLookupService=new o.AddressLookupService(this.http))}ensureMapSetting(){return n.__awaiter(this,void 0,void 0,(function*(){if(this.mapSetting)return;this.mapSetting=yield this.addressLookupService.getAddressLookupSetting(),this.mapSetting||(this.mapSetting={providerName:"DEFAULT"});const e=new r.MapProviderPropertiesService(this.mapSetting);this.mapApi=yield e.initMapApi()}))}ensureMapProviderProperties(e){this.mapApi&&(this.isScriptLoaded?e():"DEFAULT"!==this.mapApi.properties.providerName?this.mapApi.properties.url&&(0,l.loadScript)(this.mapApi.properties.url,(()=>{this.isScriptLoaded=!0,e()})):e())}detached(){this.mapApi&&(this.mapApi.destroy(),this.mapApi=void 0),this.clearSubscriptions()}ok(){var e;const t=null===(e=this.mapApi)||void 0===e?void 0:e.getAddress();t&&(this.addressLine1=null==t?void 0:t.AddressLine1,this.addressLine2=null==t?void 0:t.AddressLine2,this.addressLine3=null==t?void 0:t.AddressLine3,this.city=null==t?void 0:t.City,this.country=null==t?void 0:t.Country,this.state=null==t?void 0:t.State,this.postalCode=null==t?void 0:t.PostalCode,this.latitude=null==t?void 0:t.Latitude,this.longitude=null==t?void 0:t.Longitude)}processAddressLookupClick(e){var t;return n.__awaiter(this,void 0,void 0,(function*(){if(this.ensureAddressLookupService(),yield this.ensureMapSetting(),this.mapSetting&&"DEFAULT"!==this.mapSetting.providerName&&"DEFAULT"!==(null===(t=this.mapApi)||void 0===t?void 0:t.properties.providerName))this.ensureMapProviderProperties(this.openMapDialog.bind(this));else{const e=Object.assign(Object.assign({},this.mapdialogConfig),{templateId:"addresslookup_mapdialog_notconf",context:this});this.dialogHelper.openDialog(e)}}))}openMapDialog(){const e=Object.assign(Object.assign({},this.mapdialogConfig),{templateId:"addresslookup_mapdialog",context:this}),t=this.dialogHelper.openDialog(e);t.then((()=>{this.tq.queueTask((()=>{this.mapApi&&this.mapApi.initializeMaps&&this.mapApi.initializeMaps(this.mapContainer,this.searchBox,this.mapApi.properties.countries).then((()=>{var e;const t={AddressLine1:this.addressLine1,AddressLine2:this.addressLine2,AddressLine3:this.addressLine3,Country:this.country,City:this.city,PostalCode:this.postalCode,Longitude:this.longitude,Latitude:this.latitude,State:this.state};null===(e=this.mapApi)||void 0===e||e.geocodeQuery(t)}))}))})),t.whenClosed((()=>{var e;null===(e=this.mapApi)||void 0===e||e.destroy()}))}};m.defaultConfig={hidden:!1},n.__decorate([c.bindable,n.__metadata("design:type",Object)],m.prototype,"config",void 0),n.__decorate([c.bindable,n.__metadata("design:type",String)],m.prototype,"addressLine1",void 0),n.__decorate([c.bindable,n.__metadata("design:type",String)],m.prototype,"addressLine2",void 0),n.__decorate([c.bindable,n.__metadata("design:type",String)],m.prototype,"addressLine3",void 0),n.__decorate([c.bindable,n.__metadata("design:type",String)],m.prototype,"city",void 0),n.__decorate([c.bindable,n.__metadata("design:type",Object)],m.prototype,"country",void 0),n.__decorate([c.bindable,n.__metadata("design:type",Object)],m.prototype,"state",void 0),n.__decorate([c.bindable,n.__metadata("design:type",String)],m.prototype,"postalCode",void 0),n.__decorate([c.bindable,n.__metadata("design:type",String)],m.prototype,"latitude",void 0),n.__decorate([c.bindable,n.__metadata("design:type",String)],m.prototype,"longitude",void 0),n.__decorate([c.bindable,n.__metadata("design:type",Boolean)],m.prototype,"overrideAddress",void 0),n.__decorate([c.bindable,n.__metadata("design:type",a.PXView)],m.prototype,"view",void 0),m=g=n.__decorate([(0,c.customElement)("qp-address-lookup"),c.autoinject,n.__metadata("design:paramtypes",[Element,c.BindingEngine,c.ObserverLocator,p.EventAggregator,h.DialogHelper,c.TaskQueue,u.HttpClient])],m),t.QpAddressLookupCustomElement=m}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/address-lookup/types.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/compound/currency/messages.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/index.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrencyMessages=void 0;let o=class CurrencyMessages{};o.RateValuesCaption="Currency Unit Equivalents",o.ViewBase="View Base",o.ViewCurrency="View Cury",o.RateSelectionDialog="Rate Selection",o.BaseCurrency="Base ({0})",o=n.__decorate([r.localizable],o),t.CurrencyMessages=o}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/currency/qp-currency":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/controls/compound/currency/messages.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("aurelia-framework"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/services/index.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/dependency-property-injection/index.js")],o=function(e,t,n,r,o,a,l,d,c,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpCurrencyCustomElement=void 0;let h=class QpCurrencyCustomElement{constructor(e,t,n,o){this.element=e,this.container=t,this.currencyService=n,this.screenService=o,this.rateValuesCaption=r.CurrencyMessages.RateValuesCaption,this.baseRate=Number(1).toFixed(3),this.btnSwitchToBase={id:"btnBase",text:r.CurrencyMessages.ViewBase,enabled:!0},this.btnSwitchToCurrent={id:"btnCurrent",text:r.CurrencyMessages.ViewCurrency,enabled:!0},this.saveButtonConfig={text:d.Messages.Confirm,id:"btnConfirm",dialogResult:1,enabled:!0},this.GlobalMsg=d.Messages,this.Msg=r.CurrencyMessages,this.subscriptions=[],this.currencySelectorState=c.PXFieldState.create(),this.currencySelectorState.enabled=!1,this.currencySelectorConfig={enabled:!0,id:"currencySelector",selectorMode:"text"},this.rateSelectorConfig={id:"currencyRate",enabled:!0,readOnly:!1,required:!1,dialogPanelId:"currencyRateDialog",dialogPanelRoot:e,dialogTitle:r.CurrencyMessages.RateSelectionDialog,hideMaximizer:!0,context:this,readonlyOpensDialog:!0},this.rateValuesVisible=!0,this.mode=c.CurrencyViewMode.Current}configChanged(e){this.rateSelectorConfig.dialogPanelId=`currencyRateDialog_${e.id}`}viewChanged(){var e,t;(null===(e=this.view)||void 0===e?void 0:e.name)&&this.screenService.registerViewBinding(this.element,null===(t=this.view)||void 0===t?void 0:t.name)}stateChanged(e){this.unsubscribe(),e&&(this.btnSwitchToBase.id=`${this.config.id}_btnBase`,this.btnSwitchToCurrent.id=`${this.config.id}_btnCurrent`,this.saveButtonConfig.id=`${this.config.id}_btnConfirm`,this.rateSelectorConfig.id=`${this.config.id}_currencyRate`,this.currencySelectorConfig.id=`${this.config.id}_currencySelector`,this.currencySelectorState.readOnly=e.readOnly,this.subscriptions.push(this.bindingEngine.propertyObserver(e,"readOnly").subscribe((e=>{this.currencySelectorConfig=Object.assign(Object.assign({},this.currencySelectorConfig),{readOnly:e})}))))}detached(){this.unsubscribe()}get currentCurrencyState(){const e=this.state?this.state:this.view?this.view.CuryID:this.currentCurrency;return e&&this.onCurrencyChanged(e),e}get currencyRateState(){var e,t,n;const r=this.view?this.view.SampleCuryRate:this.currencyRate,o=(null===(e=this.baseCurrencyState)||void 0===e?void 0:e.value)!==(null===(n=null===(t=this.currentCurrencyState)||void 0===t?void 0:t.value)||void 0===n?void 0:n.id);return!r||o===this.rateSelectorConfig.enabled&&r.readOnly===this.rateSelectorConfig.readOnly||(this.rateSelectorConfig=Object.assign(Object.assign({},this.rateSelectorConfig),{enabled:o,readOnly:r.readOnly})),r}get baseCurrencyState(){return this.view?this.view.BaseCuryID:this.baseCurrency}get currencyRateTypeState(){return this.view?this.view.CuryRateTypeID:this.currencyRateType}get currencyEffectiveDateState(){return this.view?this.view.CuryEffDate:this.currencyEffectiveDate}get sampleCurrencyRateState(){return this.view?this.view.SampleCuryRate:this.sampleCurrencyRate}get sampleRecieptRateState(){return this.view?this.view.SampleRecipRate:this.sampleRecieptRate}get currencyValue(){var e;return this.currentCurrencyState?null===(e=this.currentCurrencyState)||void 0===e?void 0:e.value:{id:void 0}}set currencyValue(e){this.currentCurrencyState&&(this.currentCurrencyState.value=e)}get rateValue(){var e;if(null===(e=this.currencyRateState)||void 0===e?void 0:e.value)return this.currencyRateState.value}set rateValue(e){this.currencyRateState&&e&&(this.currencyRateState.value=e)}get baseLabel(){var e;return(null===(e=this.baseCurrencyState)||void 0===e?void 0:e.value)?(0,d.Format)(r.CurrencyMessages.BaseCurrency,this.baseCurrencyState.value):""}get currentCurrencyReadonly(){var e,t;const n=c.PXFieldState.create();return n.enabled=!0,n.readOnly=!0,n.type=c.NetType.String,n.value=null===(t=null===(e=this.currentCurrencyState)||void 0===e?void 0:e.value)||void 0===t?void 0:t.id,n}onCurrencyChanged(e){var t,n,r,o;if(!e)return;let a;this.graph||(this.graph=e.graph,this.currencyService.getCurrencyState(this.getScreenID()).then((e=>{this.mode=e?c.CurrencyViewMode.Base:c.CurrencyViewMode.Current}))),(null===(t=e.fieldList)||void 0===t?void 0:t.length)&&(null===(n=e.headerList)||void 0===n?void 0:n.length)&&(a=e.fieldList.map(((t,n)=>{var r;return{id:t,label:null===(r=e.headerList)||void 0===r?void 0:r[n],filter:!0}}))),this.currencySelectorConfig=Object.assign(Object.assign({},this.currencySelectorConfig),{readOnly:null===(r=this.state)||void 0===r?void 0:r.readOnly,enabled:null===(o=this.state)||void 0===o?void 0:o.enabled,suggester:{viewName:e.viewName,graph:e.graph,fields:a,valueField:"CuryID",descriptionName:"Description"}})}switchCuryState(){return n.__awaiter(this,void 0,void 0,(function*(){let e=this.getSwitchElement();this.mode=this.mode===c.CurrencyViewMode.Base?c.CurrencyViewMode.Current:c.CurrencyViewMode.Base;const t=e&&document.activeElement&&e.contains(document.activeElement);yield this.currencyService.setCurrencyState({screenId:this.getScreenID(),currencyMode:this.mode}),yield this.screenService.update(),e=this.getSwitchElement();const n=null==e?void 0:e.getElementsByTagName("BUTTON"),r=null==n?void 0:n[0];t&&r&&r.focus()}))}getScreenID(){var e;return(null===(e=this.screenService)||void 0===e?void 0:e.isValid)?this.screenService.screenID:(0,u.getScreenID)()}getSwitchElement(){return this.switchToBaseElement||this.switchToCurrentElement}unsubscribe(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}};h.defaultConfig={enabled:!0,dialogResult:0},n.__decorate([a.bindable,n.__metadata("design:type",Object)],h.prototype,"view",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Object)],h.prototype,"config",void 0),n.__decorate([a.bindable,n.__metadata("design:type",c.PXFieldState)],h.prototype,"state",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Boolean)],h.prototype,"enabled",void 0),n.__decorate([a.bindable,n.__metadata("design:type",c.PXFieldState)],h.prototype,"currentCurrency",void 0),n.__decorate([a.bindable,n.__metadata("design:type",c.PXFieldState)],h.prototype,"currencyRate",void 0),n.__decorate([a.bindable,n.__metadata("design:type",c.PXFieldState)],h.prototype,"baseCurrency",void 0),n.__decorate([a.bindable,n.__metadata("design:type",c.PXFieldState)],h.prototype,"currencyRateType",void 0),n.__decorate([a.bindable,n.__metadata("design:type",c.PXFieldState)],h.prototype,"currencyEffectiveDate",void 0),n.__decorate([a.bindable,n.__metadata("design:type",c.PXFieldState)],h.prototype,"sampleCurrencyRate",void 0),n.__decorate([a.bindable,n.__metadata("design:type",c.PXFieldState)],h.prototype,"sampleRecieptRate",void 0),n.__decorate([p.autoinject,n.__metadata("design:type",a.BindingEngine)],h.prototype,"bindingEngine",void 0),n.__decorate([(0,o.computedFrom)("currentCurrency","view.CuryID","state"),n.__metadata("design:type",c.PXFieldState),n.__metadata("design:paramtypes",[])],h.prototype,"currentCurrencyState",null),n.__decorate([(0,o.computedFrom)("currencyRate","view.SampleCuryRate","baseCurrencyState","currentCurrencyState"),n.__metadata("design:type",c.PXFieldState),n.__metadata("design:paramtypes",[])],h.prototype,"currencyRateState",null),n.__decorate([(0,o.computedFrom)("baseCurrency","view.BaseCuryID"),n.__metadata("design:type",c.PXFieldState),n.__metadata("design:paramtypes",[])],h.prototype,"baseCurrencyState",null),n.__decorate([(0,o.computedFrom)("currencyRateType","view.CuryRateTypeID"),n.__metadata("design:type",c.PXFieldState),n.__metadata("design:paramtypes",[])],h.prototype,"currencyRateTypeState",null),n.__decorate([(0,o.computedFrom)("currencyEffectiveDate","view.CuryEffDate"),n.__metadata("design:type",c.PXFieldState),n.__metadata("design:paramtypes",[])],h.prototype,"currencyEffectiveDateState",null),n.__decorate([(0,o.computedFrom)("sampleCurrencyRate","view.SampleCuryRate"),n.__metadata("design:type",c.PXFieldState),n.__metadata("design:paramtypes",[])],h.prototype,"sampleCurrencyRateState",null),n.__decorate([(0,o.computedFrom)("sampleRecieptRate","view.SampleRecipRate"),n.__metadata("design:type",c.PXFieldState),n.__metadata("design:paramtypes",[])],h.prototype,"sampleRecieptRateState",null),n.__decorate([(0,o.computedFrom)("currentCurrencyState.value"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],h.prototype,"currencyValue",null),n.__decorate([(0,o.computedFrom)("currencyRateState.value"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],h.prototype,"rateValue",null),n.__decorate([(0,o.computedFrom)("baseCurrencyState.value"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"baseLabel",null),n.__decorate([(0,o.computedFrom)("currentCurrencyState.value"),n.__metadata("design:type",c.PXFieldState),n.__metadata("design:paramtypes",[])],h.prototype,"currentCurrencyReadonly",null),h=n.__decorate([(0,a.customElement)("qp-currency"),p.autoinject,n.__metadata("design:paramtypes",[Element,l.Container,d.CurrencyApiService,d.ScreenService])],h),t.QpCurrencyCustomElement=h}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/formula-editor/formula-editor-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/base-api-client.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/messages.js")],o=function(e,t,n,r,o,a,l){"use strict";var d;Object.defineProperty(t,"__esModule",{value:!0}),t.FormulaEditorService=void 0;const c="ui",u=`${`${c}/screen/${(0,a.getScreenID)()}`}/feditor`;let p=d=class FormulaEditorService{constructor(e){this.client=e,this.globalsTree=d.opGlobals,this.parametersTree=d.opParameters,this.operatorsTree=[{name:l.Messages.Arithmetic,list:d.opArithmetic},{name:l.Messages.Comparison,list:d.opComparison},{name:l.Messages.Logical,list:d.opLogical},{name:l.Messages.Other,list:d.opOther}],this.functionsTree=[{name:l.Messages.Conversion,list:d.funConversion},{name:l.Messages.Aggregates,list:d.funAggregates},{name:l.Messages.Text,list:d.funText},{name:l.Messages.Math,list:d.funMath},{name:l.Messages.DateTime,list:d.funDateTime},{id:d.PROGRAM_FUNCTIONS_ID,name:l.Messages.Other,list:d.funProgram},{id:d.APPLICATION_FUNCTIONS_ID,name:l.Messages.Application,list:d.funApp,enabled:!0}],this.formulaEditorTree=[{id:d.GLOBALS_ID,name:l.Messages.Globals,list:this.globalsTree,enabled:!1},{id:d.PARAMETERS_ID,name:l.Messages.Parameters,list:this.parametersTree,enabled:!1},{id:d.OPERATORS_ID,name:l.Messages.Operators,list:this.operatorsTree,enabled:!0},{id:d.FUNCTIONS_ID,name:l.Messages.Functions,list:this.functionsTree,enabled:!0},{id:d.DYNAMIC_NODE_ID,name:"",list:null,isDynamic:!0,enabled:!1},{id:d.SUBSTITUTION_KEYS_ID,name:l.Messages.SubstitutionKeys,list:null,isDynamic:!0,enabled:!1},{id:d.STYLES_ID,name:l.Messages.Styles,list:null,enabled:!1}]}getDefaultTree(){return JSON.parse(JSON.stringify(this.formulaEditorTree))}flattenTree(e){const t=[];let n=0;return e.forEach((e=>{n++;const r=n;let o=0;e.enabled&&(t.push(this.getFlatNode(e,n)),e.list&&e.list.forEach((e=>{"string"!=typeof e&&!1!==e.enabled&&(o++,t.push(this.getFlatNode(e,n+o,r)))}))),n+=o})),JSON.parse(JSON.stringify(t))}getFlatNode(e,t,n){return Object.assign(Object.assign({},e),{id:t.toString(),serviceId:e.id,parentId:void 0!==n?n.toString():null})}getNodeById(e,t){let n=e.find((e=>e.id===t));return n||e.find((e=>{var r;if((null===(r=e.list)||void 0===r?void 0:r.length)&&"string"!=typeof e.list[0]){const r=e.list.find((e=>e.id===t));if(r)return n=r,e}})),n}replaceNodeList(e,t,n,r=!1){return this.changeNodeList(e,t,n,r)}appendToNodeList(e,t,n,r=!1){return this.changeNodeList(e,t,n,r,!0)}changeNodeList(e,t,n,r=!1,o=!1){const a=e.slice(),l=("string"!=typeof n?n:n.split(";")).map((e=>r?`'${e.trim()}'`:e)),d=this.getNodeById(a,t);return d&&(d.list=o?[...d.list?d.list:[],...l]:l),a}enableNode(e,t){return this.toggleNode(e,t,!0)}disableNode(e,t){return this.toggleNode(e,t,!1)}toggleNode(e,t,n){const r=e.slice(),o=this.getNodeById(r,t);return o&&(o.enabled=n),r}setNodeName(e,t,n){const r=e.slice(),o=this.getNodeById(r,t);return o&&(o.name=n),r}getTreeFromView(e){return n.__awaiter(this,void 0,void 0,(function*(){const t=yield this.getData({view:e}),n=[];function pushNode(e,t,n,r){const o=r.startsWith("[")?d.FIELDS_PREFIX:r.startsWith("@")?d.PARAMETERS_PREFIX:"";let a=e.find((e=>e.id===`${o}${t[n]}`));if(a||(a={id:`${o}${t[n]}`,name:t[n],enabled:!0,list:[]},e.push(a)),n===t.length-1)a.list.push(r);else{if(!a.list)return;pushNode(a.list,t,n+1,r)}}return t.forEach((e=>{const t=e.category.split("/");t.length&&pushNode(n,t,0,e.value)})),n}))}getData(e){return this.client.fetchExt(`${u}/data`,e)}getParameters(e){return this.client.fetchExt(`${u}/parameters`,e)}getFields(e){return this.client.fetchExt(`${u}/fields`,{fieldsList:e})}getFieldsByController(e){return this.client.fetchExt(`${c}/${e}`,{})}getSubstitutionKeys(e){return this.client.fetchExt(`${c}/${e}`,{})}validate(e){return this.client.fetchExt(`${u}/validate`,e)}};p.PROGRAM_FUNCTIONS_ID="PROGRAM_FUNCTIONS",p.APPLICATION_FUNCTIONS_ID="APPLICATION_FUNCTIONS",p.GLOBALS_ID="GLOBALS",p.PARAMETERS_ID="PARAMETERS",p.OPERATORS_ID="OPERATORS",p.FUNCTIONS_ID="FUNCTIONS",p.DYNAMIC_NODE_ID="DYNAMIC",p.SUBSTITUTION_KEYS_ID="SUBSTITUTION_KEYS",p.STYLES_ID="STYLES",p.FIELDS_PREFIX="[fields]",p.PARAMETERS_PREFIX="[parameters]",p.opGlobals=["[PageCount]","[PageIndex]","[PageOf]"],p.opParameters=["@Rate","@Price"],p.opArithmetic=["+","-","*","/","%"],p.opComparison=["=","<>","<",">","<=",">="],p.opLogical=["And","Not","Or"],p.opOther=["False","In","Null","True"],p.funConversion=["CBool( x )","CDate( x )","CDbl( x )","CDec( x )","CInt( x )","CLong( x )","CSng( x )","CStr( x )","CShort( x )"],p.funAggregates=["Avg( expr )","Count( expr )","First( expr )","Last( expr )","Max( expr )","Min( expr )","Next( expr )","Prev( expr )","Sum( expr )"],p.funText=["Format( format, args )","InStr( str, findStr )","InStrRev( str, findStr )","Len( str )","Left( str, length )","LCase( str )","LTrim( str )","PadLeft( str, width, paddingChar )","PadRight( str, width, paddingChar )","Replace( str, oldValue, newValue )","Right( str, length )","RTrim( str )","Trim( str )","UCase( str )","Substring( str, start, length )","Concat( str1, str2, ...)"],p.funMath=["Abs( x )","Ceiling( x )","Floor( x )","Max( x, y )","Min( x, y )","Pow( x, pow )","Round( x, decimals )"],p.funDateTime=["DateAdd( date, interval, number )","DateDiff( interval, date1, date2 )","Day( date )","DayOfWeek( date )","DayOfYear( date )","DayOrdinal( day )","Hour( date )","Minute( date )","Second( date )","Month( date )","MonthName( date )","Year( date )","Now()","Today()","NowUTC()","TodayUTC()"],p.funProgram=["IIf( expr, truePart, falsePart )","IsNull( value, nullValue )","Sum( from, to )","Switch( expr1, value1, expr2, value2, ...)","NullIf( value1, value2 )"],p.funApp=["ExtToInt(field, value)","ExtToUI(field, value)","FormatPeriod(period)","FormatPeriod(period, shift)","FormatYear(period)","FormatYear(period, shift)","GetDefExt(field)","GetDefInt(field)","GetDefUI(field)","GetDescription(field, value)","GetDisplayName(field)","GetFormat(field)","GetMask(field)","GetNumberOfPeriods(organizationId, startPeriod, endPeriod)","GetNumberOfPeriods(startPeriod, endPeriod)","GetPeriodEndDate(organizationId,period)","GetPeriodEndDate(period)","GetPeriodDescription(organizationId,period)","GetPeriodDescription(period)","GetPeriodStartDate(organizationId,period)","GetPeriodStartDate(period)","IntToExt(field, value)","IntToUI(field, value)","UIToExt(field, value)","UIToInt(field, value)"],p=d=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[o.BaseApiClient])],p),t.FormulaEditorService=p}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/formula-editor/qp-formula-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("./node_modules/client-controls/controls/compound/formula-editor/formula-editor-service.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFormulaDialogCustomElement=void 0;(0,o.getLogger)("formula-dialog");let p=class QpFormulaDialogCustomElement{constructor(e,t,n,r){this.element=e,this.dialogHelper=t,this.formulaEditorService=n,this.tq=r,this.currentNodesList=[],this.popupValue=null,this.selectionStart=0,this.selectionEnd=0,this.backupValue=null,this.treeData=[],this.treeLoadingStatus="in-sync",this.nodeLoadingStatus="in-sync",this.currentNode=null,this.selectedLeafNode=null,this.validationResult=null,this.validationStatus="not-validated",this.okConfig={text:d.Messages.Confirm,id:"",enabled:!0},this.cancelConfig={text:d.Messages.Cancel,id:"",enabled:!0},this.validateConfig={text:d.Messages.Validate,id:"",enabled:!0},this.msg=d.Messages}attached(){this.tq.queueTask((()=>{this.prepareTree()}))}prepareTree(){return n.__awaiter(this,void 0,void 0,(function*(){this.editorTree=yield this.buildTree(),yield this.loadTreeData(),this.treeData=this.formulaEditorService.flattenTree(this.editorTree)}))}bind(){this.okConfig.id=`${this.config.id}_btnSave`,this.cancelConfig.id=`${this.config.id}_btnCancel`,this.validateConfig.id=`${this.config.id}_btnValidate`}get validationIcon(){var e;return(null===(e=this.validationResult)||void 0===e?void 0:e.valid)?"svg:main@successCheck":"svg:main@errorExclamation"}open(e){this.backupValue=this.popupValue,this.selectionStart=0,this.selectionEnd=this.popupValue?this.decodeHtml(this.popupValue).length:0;const t=this.dialogHelper.openDialog({context:this,templateId:`formulaEditorPopupTemplate_${this.config.id}`,width:"800px",height:"605px",caption:e},{},(e=>{this.currentDialog=e.controller}));return t.then((()=>{this.popupInputElement.focus()})),t}buildTree(){return n.__awaiter(this,void 0,void 0,(function*(){let e;return e=this.config.dataViewName?yield this.formulaEditorService.getTreeFromView(this.config.dataViewName):this.formulaEditorService.getDefaultTree(),void 0!==this.config.conditionStyles&&this.appendOrReplaceNode({tree:e,node:this.config.conditionStyles,nodeId:l.FormulaEditorService.STYLES_ID,withQuotes:!0}),void 0!==this.config.globals&&this.appendOrReplaceNode({tree:e,node:this.config.globals,nodeId:l.FormulaEditorService.GLOBALS_ID}),void 0!==this.config.parameters&&this.appendOrReplaceNode({tree:e,node:this.config.parameters,nodeId:l.FormulaEditorService.PARAMETERS_ID}),void 0!==this.config.applicationFunctions&&this.appendOrReplaceNode({tree:e,node:this.config.applicationFunctions,nodeId:l.FormulaEditorService.APPLICATION_FUNCTIONS_ID,append:this.config.applicationFunctionsAppend}),void 0!==this.config.programFunctions&&this.appendOrReplaceNode({tree:e,node:this.config.programFunctions,nodeId:l.FormulaEditorService.PROGRAM_FUNCTIONS_ID,append:this.config.programFunctionsAppend}),e}))}loadTreeData(){var e;return n.__awaiter(this,void 0,void 0,(function*(){let t;this.config.dynamicNodeName&&(this.editorTree=this.formulaEditorService.setNodeName(this.editorTree,l.FormulaEditorService.DYNAMIC_NODE_ID,this.config.dynamicNodeName),this.editorTree=this.formulaEditorService.enableNode(this.editorTree,l.FormulaEditorService.DYNAMIC_NODE_ID)),this.config.preloadDynamicNode&&((null===(e=this.config.dynamicFields)||void 0===e?void 0:e.length)||this.config.fieldsControllerRoute)&&(this.treeLoadingStatus="loading",this.config.dynamicFields?t=yield this.formulaEditorService.getFields(this.config.dynamicFields):this.config.fieldsControllerRoute&&(t=yield this.formulaEditorService.getFieldsByController(this.config.fieldsControllerRoute)),this.editorTree=this.formulaEditorService.replaceNodeList(this.editorTree,l.FormulaEditorService.DYNAMIC_NODE_ID,t||""),this.treeLoadingStatus="in-sync"),this.config.substitutionKeysControllerRoute&&(this.editorTree=this.formulaEditorService.enableNode(this.editorTree,l.FormulaEditorService.SUBSTITUTION_KEYS_ID)),!this.config.appendParametersOnValidationOnly&&this.config.viewNameForParameters&&this.config.fieldNameForParameters&&(this.treeLoadingStatus="loading",t=[...this.getNodeListById("PARAMETERS"),...yield this.formulaEditorService.getParameters({viewNameForParameters:this.config.viewNameForParameters,fieldNameForParameters:this.config.fieldNameForParameters})],this.editorTree=this.formulaEditorService.replaceNodeList(this.editorTree,l.FormulaEditorService.PARAMETERS_ID,t),this.treeLoadingStatus="in-sync")}))}appendOrReplaceNode(e){("string"==typeof e.node||Array.isArray(e.node))&&(e.append?e.tree=this.formulaEditorService.appendToNodeList(e.tree,e.nodeId,e.node,e.withQuotes):e.tree=this.formulaEditorService.replaceNodeList(e.tree,e.nodeId,e.node,e.withQuotes)),e.node?e.tree=this.formulaEditorService.enableNode(e.tree,e.nodeId):!1===e.node&&(e.tree=this.formulaEditorService.disableNode(e.tree,e.nodeId))}setCurrentNode(e){return n.__awaiter(this,void 0,void 0,(function*(){if(this.currentNode===e.node)return;this.currentNode=e.node,this.nodeLoadingStatus="loading";let t=e.node.list;if(e.load)switch(e.node.serviceId){case"DYNAMIC":t=yield this.getDynamicNode({targetNode:l.FormulaEditorService.DYNAMIC_NODE_ID});break;case"SUBSTITUTION_KEYS":t=yield this.getDynamicNode({targetNode:l.FormulaEditorService.SUBSTITUTION_KEYS_ID})}t&&(this.currentNodesList=t),this.nodeLoadingStatus="in-sync"}))}getDynamicNode(e){var t;return n.__awaiter(this,void 0,void 0,(function*(){let n=[];try{e.targetNode===l.FormulaEditorService.DYNAMIC_NODE_ID?(null===(t=this.config.dynamicFields)||void 0===t?void 0:t.length)?n=yield this.formulaEditorService.getFields(this.config.dynamicFields):this.config.fieldsControllerRoute&&(n=yield this.formulaEditorService.getFieldsByController(this.config.fieldsControllerRoute)):e.targetNode===l.FormulaEditorService.SUBSTITUTION_KEYS_ID&&this.config.substitutionKeysControllerRoute&&(n=yield this.formulaEditorService.getSubstitutionKeys(this.config.substitutionKeysControllerRoute))}catch(e){alert(e)}return n}))}currentNodesListChanged(){this.filterString="",this.nodesFilterBox&&this.nodesFilterBox.applyFastFilter("")}treeValueChanged(e){e.forEach((e=>{var t,n;const r=this.treeData.find((t=>t.id===e.id));(null===(t=r.list)||void 0===t?void 0:t.length)&&"string"==typeof r.list[0]?this.setCurrentNode({node:r}):!(null===(n=r.list)||void 0===n?void 0:n.length)&&r.isDynamic?this.setCurrentNode({node:r,load:!0}):(this.currentNode=null,this.currentNodesList=null)}))}get currentNodesListToShow(){var e;return""===this.filterString?this.currentNodesList:null===(e=this.currentNodesList)||void 0===e?void 0:e.filter((e=>e.toLocaleLowerCase().includes(this.filterString.toLocaleLowerCase())))}get currentNodesListToShowHighlighted(){var e,t;return""===this.filterString?null===(e=this.currentNodesListToShow)||void 0===e?void 0:e.map((e=>({pureNode:e,highlightedNode:e}))):null===(t=this.currentNodesListToShow)||void 0===t?void 0:t.map((e=>{const t=new u.TextParter(this.filterString).getTextParts(e);let n="";for(const e of t)n+=e.selected?`<span class="selected">${e.text}</span>`:e.text;return{pureNode:e,highlightedNode:n}}))}onFilter(e){return!0}selectLeafNode(e){this.selectedLeafNode=e}insertNodeToFormula(e,t=!0){var n;const r=null!==this.backupValue?this.backupValue:this.decodeHtml(this.popupValue),o=`${(null===(n=this.currentNode)||void 0===n?void 0:n.serviceId)===l.FormulaEditorService.APPLICATION_FUNCTIONS_ID?"Report.":""}${e}`;this.validationStatus="not-validated",this.popupValue=`${r.substring(0,this.selectionStart)}${o}${r.substring(this.selectionEnd)}`,this.backupValue=null,this.selectionStart=this.selectionStart+o.length,this.selectionEnd=this.selectionStart,t?this.popupInputElement.focus():this.setFakeSelection({setCursor:!0})}preventDblclickSelection(e){return e.detail>1&&e.preventDefault(),!0}handleSelectKeyup(e){switch(e.key){case"ArrowUp":this.moveOptionsSelection("up");break;case"ArrowDown":this.moveOptionsSelection("down");break;case"ArrowLeft":this.moveTextareaCursor("left");break;case"ArrowRight":this.moveTextareaCursor("right");break;case"Enter":this.selectedLeafNode&&this.insertNodeToFormula(this.selectedLeafNode,!1);break;default:return}}moveOptionsSelection(e){var t,n,r;if(this.selectedLeafNode&&(null===(t=this.currentNodesListToShow)||void 0===t?void 0:t.length)){let t=this.currentNodesListToShow.indexOf(this.selectedLeafNode);("up"===e&&--t>=0||"down"===e&&++t<this.currentNodesListToShow.length)&&(this.selectedLeafNode=this.currentNodesListToShow[t],null===(r=null===(n=this.nodeSelect)||void 0===n?void 0:n.querySelector(`[data-value="${this.selectedLeafNode}"]`))||void 0===r||r.focus())}}moveTextareaCursor(e){if("left"===e)this.selectionStart=this.selectionEnd>0?this.selectionEnd-1:0;else{const e=this.decodeHtml(null!==this.backupValue?this.backupValue:this.popupValue).length;this.selectionStart=this.selectionEnd<e?this.selectionEnd+1:e}this.selectionEnd=this.selectionStart,null!==this.backupValue&&(this.popupValue=this.encodeHtml(this.backupValue)),this.setFakeSelection({setCursor:!0})}handlePopupTextareaFocus(){this.textareaFocused=!0,null!==this.backupValue&&(this.popupValue=this.encodeHtml(this.backupValue)),this.tq.queueMicroTask((()=>this.restoreTextSelection()))}handlePopupTextareaBlur(){this.textareaFocused=!1,this.setFakeSelection()}restoreTextSelection(){var e;const t=null===(e=window.getSelection())||void 0===e?void 0:e.getRangeAt(0);if(t&&""!==this.popupValue){const e=this.popupInputElement.firstChild;e&&(t.setStart(e,this.selectionStart),t.setEnd(e,this.selectionEnd))}}setFakeSelection(e){const t=window.getSelection();if(this.backupValue=this.decodeHtml(this.popupValue),(null==e?void 0:e.setCursor)||t){!(null==e?void 0:e.setCursor)&&void 0!==(null==t?void 0:t.anchorOffset)&&t.anchorOffset>=0&&(this.selectionStart=Math.min(t.anchorOffset,t.focusOffset),this.selectionEnd=Math.max(t.anchorOffset,t.focusOffset));const n=this.encodeHtml(this.backupValue.substring(0,this.selectionStart)),r=this.encodeHtml(this.backupValue.substring(this.selectionEnd));if(this.selectionStart!==this.selectionEnd){const e=this.encodeHtml(this.backupValue.substring(this.selectionStart,this.selectionEnd));this.popupValue=`${n}<span class="formula-editor-popup__textarea-selection">${e}</span>${r}`}else this.popupValue=`${n}<span class="formula-editor-popup__textarea-cursor"></span>${r}`}}decodeHtml(e){if(null==e)return"";const t=document.createElement("textarea");return t.innerHTML=e,t.value}encodeHtml(e){if(null==e)return"";const t=document.createElement("textarea");return t.innerHTML=e,t.innerHTML}isLeaf(e){return!!(!e.list&&e.isDynamic&&!this.config.preloadDynamicNode||e.list&&e.list.length&&"string"==typeof e.list[0])}getNodeListById(e,t=!1){let n=[],r=[];if(t)n=this.editorTree.filter((t=>{var n;return null===(n=t.id)||void 0===n?void 0:n.startsWith(e)}));else{const t=this.editorTree.find((t=>t.id===e));t&&n.push(t)}return n.forEach((e=>{var t;r=r.concat(this.isLeaf(e)?null==e?void 0:e.list:null===(t=null==e?void 0:e.list)||void 0===t?void 0:t.map((e=>e.list)).reduce(((e,t)=>e.concat(t)),[]))})),r}stopPropagation(e,t){return t&&!t.includes(e.key)||(e.preventDefault(),e.stopImmediatePropagation()),!0}ok(){var e;const t=null!==this.backupValue?this.backupValue:this.decodeHtml(this.popupValue);null===(e=this.currentDialog)||void 0===e||e.ok(t.startsWith("=")||""===t?t:`=${t}`)}checkValidationStatus(){return this.decodeHtml(this.popupValue)!==this.backupValue&&(this.validationStatus="not-validated"),!0}validate(){var e,t;return n.__awaiter(this,void 0,void 0,(function*(){const n=(null!==this.backupValue?this.backupValue:this.decodeHtml(this.popupValue)).replace(/\s/g," ");this.validationStatus="in-progress";let r=this.config.parameters?this.getNodeListById(l.FormulaEditorService.PARAMETERS_ID):null;this.config.appendParametersOnValidationOnly&&this.config.viewNameForParameters&&this.config.fieldNameForParameters&&(r=[...r||[],...yield this.formulaEditorService.getParameters({viewNameForParameters:this.config.viewNameForParameters,fieldNameForParameters:this.config.fieldNameForParameters})]),this.config.parameters||this.config.viewNameForParameters||!this.config.dataViewName||(r=this.getNodeListById(l.FormulaEditorService.PARAMETERS_PREFIX,!0));let o=null;this.config.preloadDynamicNode?o=this.getNodeListById(l.FormulaEditorService.DYNAMIC_NODE_ID):((null===(e=this.config.dynamicFields)||void 0===e?void 0:e.length)||this.config.fieldsControllerRoute)&&(this.config.dynamicFields?o=yield this.formulaEditorService.getFields(this.config.dynamicFields):this.config.fieldsControllerRoute&&(o=yield this.formulaEditorService.getFieldsByController(this.config.fieldsControllerRoute))),(null===(t=this.config.dynamicFields)||void 0===t?void 0:t.length)||this.config.fieldsControllerRoute||!this.config.dataViewName||(o=this.getNodeListById(l.FormulaEditorService.FIELDS_PREFIX,!0)),this.validationResult=yield this.formulaEditorService.validate({value:n,reportParameters:r,reportFields:o}),this.validationStatus="validation-completed"}))}};n.__decorate([r.observable,n.__metadata("design:type",Object)],p.prototype,"currentNodesList",void 0),n.__decorate([r.observable,n.__metadata("design:type",Object)],p.prototype,"treeValue",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],p.prototype,"config",void 0),n.__decorate([(0,r.computedFrom)("validationResult.valid"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],p.prototype,"validationIcon",null),n.__decorate([(0,r.computedFrom)("filterString","currentNodesList"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],p.prototype,"currentNodesListToShow",null),n.__decorate([(0,r.computedFrom)("currentNodesListToShow"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],p.prototype,"currentNodesListToShowHighlighted",null),p=n.__decorate([(0,r.customElement)("qp-formula-dialog"),c.autoinject,n.__metadata("design:paramtypes",[Element,a.DialogHelper,l.FormulaEditorService,r.TaskQueue])],p),t.QpFormulaDialogCustomElement=p}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/formula-editor/qp-formula-editor":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("aurelia-dialog")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.QpFormulaEditorCustomElement=void 0;(0,o.getLogger)("formula-editor");let h=p=class QpFormulaEditorCustomElement extends a.QpBaseFieldEditor{constructor(e,t,n){super(t),this.element=e,this.dialogService=n,this.value=null,this.addConfigSetter("options",(e=>{if(!e)return;const t=this.config.options;null==t||t.splice(0,t.length,...e)}))}get ROMode(){return this.config&&(this.config.readOnly||!this.config.enabled)}get isComboBox(){return this.config&&this.config.comboBox}stateChanged(e,t){super.stateChanged(e,t),e.formulaEditorViewName&&(this.config.dataViewName=e.formulaEditorViewName)}configChanged(e,t){this.config||(this.config={}),(0,c.applyDefaultValues)(this.config,p.defaultConfig),void 0===t&&this.config.value&&(this.value=this.config.value)}showPopup(){var e;const t=this.state.text?this.state.text:this.state.name?this.state.name:"";this.formulaDialogVM&&(this.formulaDialogVM.popupValue=this.formulaDialogVM.encodeHtml(this.value)),null===(e=this.formulaDialogVM)||void 0===e||e.open(t).whenClosed((e=>{e.wasCancelled||(this.value=e.output)}))}onPaste(e){return!!this.config.allowEdit}};h.defaultConfig={enabled:!0,allowEdit:!0,required:!1,valueType:d.NetType.String,allowNull:!0,comboBox:!1,preloadDynamicNode:!1},n.__decorate([r.bindable,n.__metadata("design:type",Object)],h.prototype,"config",void 0),n.__decorate([(0,r.bindable)({defaultBindingMode:r.bindingMode.twoWay}),n.__metadata("design:type",Object)],h.prototype,"value",void 0),n.__decorate([(0,r.computedFrom)("config.enabled","config.readOnly"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],h.prototype,"ROMode",null),n.__decorate([(0,r.computedFrom)("config.comboBox"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],h.prototype,"isComboBox",null),h=p=n.__decorate([(0,r.customElement)("qp-formula-editor"),r.autoinject,n.__metadata("design:paramtypes",[Element,l.Container,u.DialogService])],h),t.QpFormulaEditorCustomElement=h}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/dialogs/columns-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-dialog"),n("aurelia-framework"),n("./node_modules/client-controls/controls/dialog/base-dialog/base-dialog.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/controls/compound/grid/grid-helper.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnsDialog=void 0;let u=class ColumnsDialog extends a.BaseDialog{constructor(e){super(e),this.controller=e,this.msg=l.Messages,this.minHeight=300,this.maxHeight=500}activate(e){super.activate(e),this.config=e,this.columns=[...e.columns],this.columns.forEach((e=>e.tag={visible:e.visible,skipTab:e.skipTab})),this.cancelConfig={text:this.msg.Cancel},this.okConfig={text:this.msg.Confirm},this.resetConfig={text:this.msg.Reset,enabled:!!e.hasSavedLayout}}deactivate(e){e.wasCancelled||this.columns.forEach((e=>{e.visible=e.tag.visible,e.skipTab=e.tag.skipTab,delete e.tag}))}getColumnIndex(e){return this.config.columns.findIndex((t=>(0,c.compareStrings)((0,d.getColumnKey)(t),e,!0)))}getDragOverClass(e,t){if(null==this.dragInfo||null==t)return null;const n=this.getColumnIndex((0,d.getColumnKey)(e)),r=this.getColumnIndex((0,d.getColumnKey)(this.dragInfo.column));return n===t?"dragover "+(n>r?"after":"before"):void 0}visibleChangeAllowed(e){return(0,d.isColumnVisibleChangeAllowed)(e)}processInput(e){const t=this.config.columns.filter((t=>{const n=t.caption||t.field||t.key;return n&&n.toLowerCase().indexOf(e)>=0}));this.columns.splice(0,this.columns.length,...t)}processColClick(e,t){this.visibleChangeAllowed(t)&&(t.tag.visible=!t.tag.visible)}processSkipTabClick(e,t){t.tag.skipTab=!t.tag.skipTab,e.stopPropagation()}processSelectStart(e){e.preventDefault()}processDragStart(e,t){return this.dragInfo={column:t,targetIndex:void 0},!0}processDragOver(e,t){if(this.dragInfo&&this.dragInfo.column!==t){const n=e.target.getBoundingClientRect(),r=2,o=e.clientY<n.top+n.height/r;let a=this.getColumnIndex((0,d.getColumnKey)(t))+(o?0:1);const l=this.getColumnIndex((0,d.getColumnKey)(this.dragInfo.column));a>l&&a--,this.dragInfo.targetIndex=a===l?void 0:a}else this.dragInfo&&(this.dragInfo.targetIndex=void 0)}processDragLeave(e){this.dragInfo&&!this.elemColsList.contains(e.relatedTarget)&&(this.dragInfo.targetIndex=void 0)}processDrop(e,t){if(this.dragInfo){const e=this.dragInfo.targetIndex,t=this.getColumnIndex((0,d.getColumnKey)(this.dragInfo.column)),n=this.config.columns;void 0!==e&&(n.splice(e,0,n.splice(t,1)[0]),this.columns=[...n]),this.dragInfo=void 0}}};n.__decorate([o.bindable,n.__metadata("design:type",String)],u.prototype,"search",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],u.prototype,"dragInfo",void 0),u=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[r.DialogController])],u),t.ColumnsDialog=u}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/dialogs/columns-list-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("aurelia-dialog"),n("./node_modules/client-controls/controls/dialog/base-dialog/base-dialog.js"),n("./node_modules/client-controls/services/messages.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnsListDialog=void 0;let d=class ColumnsListDialog extends a.BaseDialog{constructor(e){super(e),this.controller=e,this.msg=l.Messages,this.minHeight=250,this.maxHeight=500}activate(e){super.activate(e),this.config=e,this.columns=this.sortColumns([...e.columns].filter((e=>e.allowFilter)))}processFilter(e){const t=this.config.columns.filter((t=>{const n=t.caption||t.field||t.key;return t.allowFilter&&n&&n.toLowerCase().indexOf(e)>=0}));this.columns.splice(0,this.columns.length,...this.sortColumns(t))}processColClick(e,t){this.controller.ok(t)}processSelectStart(e){e.preventDefault()}sortColumns(e){return e.filter((e=>!1!==e.visible)).sort(((e,t)=>(e.caption||e.field||e.key||"").localeCompare(t.caption||t.field||t.key||"")))}};n.__decorate([r.bindable,n.__metadata("design:type",String)],d.prototype,"search",void 0),d=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[o.DialogController])],d),t.ColumnsListDialog=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/dialogs/filter-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/dialog/base-dialog/base-dialog.js"),n("aurelia-dialog"),n("./node_modules/client-controls/controls/compound/grid/grid-helper.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.FilterDialogResult=t.FilterDialog=void 0;let h=p=class FilterDialog extends o.BaseDialog{constructor(e,t){super(e),this.controller=e,this.tq=t,this.items=[],this.msg=d.Messages,this.dateCustomItems=["@Today","@WeekStart","@WeekEnd","@MonthStart","@MonthEnd","@QuarterStart","@QuarterEnd","@PeriodStart","@PeriodEnd","@YearStart","@YearEnd"],this.maxHeight=530,e.settings.keyboard=["Enter","Escape"]}activate(e){var t;if(this.config=e,this.col=e.column,this.col||(this.col={field:(null===(t=e.filter)||void 0===t?void 0:t.field)||"",dataType:c.NetType.String}),this.filter=e.filter?Object.assign({},e.filter):new c.GridFilterRow,this.filter.field=this.col.field,this.isDateTime){if(this.filter.value){const e=new Date(this.filter.value);isNaN(e.getTime())||(this.filter.value=e)}if(this.filter.value2){const e=new Date(this.filter.value2);isNaN(e.getTime())||(this.filter.value2=e)}}null==e.showSortItems&&(e.showSortItems=!0),this.okConfig={text:d.Messages.Apply},this.cancelConfig={text:d.Messages.Cancel};const n=this.col.maxLength&&!this.col.format?this.col.maxLength:void 0;if(this.txtConfig={id:`${this.config.id}_txt`,class:"editor auto-size",maxLength:n,inputMask:this.col.format},this.numConfig1={id:`${this.config.id}_num1`,class:"editor auto-size",valueType:this.col.dataType,decimals:this.col.decimals,textAlign:3,allowNull:!0},this.numConfig2=Object.assign(Object.assign({},this.numConfig1),{id:`${this.config.id}_num2`}),this.allowCustomItems=!this.col.timeMode,this.dateConfig1={id:`${this.config.id}_date1`,class:"dropDown auto-size",editMask:this.col.dateMask,displayMask:this.col.dateMask,allowCustomItems:this.allowCustomItems,customItems:this.allowCustomItems?this.dateCustomItems:void 0,timeMode:this.col.timeMode},this.dateConfig2=Object.assign(Object.assign({},this.dateConfig1),{id:`${this.config.id}_date2`}),this.selectorConfig={id:`${this.config.id}_sel`,class:"editor auto-size"},this.isSelector&&(this.selectorValue={id:this.filter.value},this.selectorState=c.PXFieldState.create(),Object.assign(this.selectorState,this.col.state),this.selectorState.enabled=!0,this.selectorState.readOnly=!1),!this.filter.condition){const e=this.col.dataType;e===c.NetType.DateTime||(0,u.isNumeric)(e)?this.filter.condition="BETWEEN":e===c.NetType.String?this.filter.condition="LIKE":this.filter.condition="EQ"}if(this.hasValueItems){let e=null;this.col.valueItems.emptyPossible&&"ISNULL"===this.filter.condition?(this.filter.value=l.filterNullValue,this.filter.condition="IN",e=[l.filterNullValue]):this.filter.value&&(e=this.filter.value.split(","));for(const t of this.col.valueItems.items){const n=!e||e.indexOf(t.value)>=0;this.items.push({value:t.value,text:t.text,selected:n})}if(this.col.valueItems.emptyPossible){const t=!e||e.indexOf(l.filterNullValue)>=0;this.items.push({value:l.filterNullValue,text:this.msg.GridIsEmpty,selected:t})}this.calcSelectionState()}}deactivate(e){e.wasCancelled||void 0!==e.output||(e.output=this.getDialogResult(this.getFilter()))}calcSelectionState(){this.hasValueItems&&(this.items.every((e=>!e.selected))?this.selectionState=0:this.selectionState=this.items.some((e=>!e.selected))?-1:1)}getDialogResult(e,t,n){return new FilterDialogResult(e,t,n)}attached(){super.attached(),this.elemEditorsCont&&this.tq.queueTask((()=>{const e=this.elemEditorsCont.querySelector("input");e&&e.focus()}))}getFilter(){var e;let t=this.filter;if(this.hasValueItems){const e=this.items.filter((e=>e.selected)).map((e=>e.value));e.length>0&&e.length<this.items.length?(this.filter.condition="IN",this.filter.value=e.join(",")):t=void 0}else{const n=this.filter;this.isSelector&&(n.value=null===(e=this.selectorValue)||void 0===e?void 0:e.id),n.value instanceof Date&&(n.value=(0,u.getInvariantText)(n.value)),n.value2 instanceof Date&&(n.value2=(0,u.getInvariantText)(n.value2)),(null==n.condition||p.valueFilters.indexOf(n.condition)>=0&&null==n.value||"BETWEEN"===n.condition&&(null==n.value||null==n.value2))&&(t=void 0)}return t&&(t.text=(0,l.getFilterRowDisplayText)(t,this.col)),t}get conditions(){let e=p.stringFilters;const t=this.col.dataType;t===c.NetType.Boolean?e=p.boolFilters:t===c.NetType.DateTime?e=p.dateFilters:(0,u.isNumeric)(t)&&(e=p.numberFilters),this.col.allowNull||t===c.NetType.String||(e=e.filter((e=>p.nullFilters.indexOf(e)<0)));const n=new Array;for(const t of e){const e=l.FilterConditions[t];n.push({value:t,text:null!=e?e:t})}return n}get hasValueItems(){return null!=this.col.valueItems}get isDateTime(){return this.col.dataType===c.NetType.DateTime}get isNumeric(){return(0,u.isNumeric)(this.col.dataType)&&!this.col.textField&&this.col.displayMode===c.GridColumnDisplayMode.Value}get isSelector(){return!!this.col.viewName&&this.isString}get isBoolean(){return this.col.dataType===c.NetType.Boolean}get isString(){return this.col.dataType===c.NetType.String||!!this.col.textField||this.col.displayMode!==c.GridColumnDisplayMode.Value}get isBetween(){return"BETWEEN"===this.filter.condition}get selectionIcon(){switch(this.selectionState){case 0:return"check_box_outline_blank";case 1:return"check_box_filled"}return"minus_square_filled"}get hasFilter(){const e=this.config.filter;return null!=e&&!(null==e.condition||"EQ"===e.condition&&null==e.value)}preventSelection(e){e.preventDefault()}preventFocus(e){e.preventDefault()}processConditionClick(e,t){p.boolFilters.indexOf(t)>=0?(this.filter.value=t===this.filter.value?void 0:t,this.filter.condition=null!=this.filter.value?"EQ":void 0):this.filter.condition=t}processItemClick(e,t){t.selected=!t.selected,this.calcSelectionState()}processSortClick(e,t){let n=t;this.col.sortDirection===t&&(n=c.SortDirection.None),this.controller.ok(this.getDialogResult(void 0,n))}processSelectClick(){const e=1!==this.selectionState;this.items.forEach((t=>t.selected=e)),this.calcSelectionState()}processClearClick(e){this.hasFilter&&this.controller.ok(this.getDialogResult(void 0))}processRemoveClick(e){this.controller.ok(this.getDialogResult(void 0,void 0,!0))}};h.boolFilters=["True","False"],h.stringFilters=["EQ","NE","ISNULL","ISNOTNULL","LIKE","RLIKE","LLIKE","NOTLIKE"],h.numberFilters=["EQ","NE","GT","GE","LT","LE","BETWEEN","ISNULL","ISNOTNULL"],h.dateFilters=["EQ","NE","GT","GE","LT","LE","BETWEEN","ISNULL","ISNOTNULL","TODAY","OVERDUE","TODAY_OVERDUE","TOMMOROW","THIS_WEEK","NEXT_WEEK","THIS_MONTH","NEXT_MONTH"],h.valueFilters=["EQ","NE","GT","GE","LT","LE","BETWEEN","LIKE","RLIKE"],h.nullFilters=["ISNULL","ISNOTNULL"],n.__decorate([r.bindable,n.__metadata("design:type",Array)],h.prototype,"items",void 0),n.__decorate([(0,r.computedFrom)("config.column.dataType"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"conditions",null),n.__decorate([(0,r.computedFrom)("config.column.valueItems"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"hasValueItems",null),n.__decorate([(0,r.computedFrom)("config.column.dataType"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"isDateTime",null),n.__decorate([(0,r.computedFrom)("config.column.dataType"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"isNumeric",null),n.__decorate([(0,r.computedFrom)("config.column.viewName","config.column.dataType"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"isSelector",null),n.__decorate([(0,r.computedFrom)("config.column.dataType"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"isBoolean",null),n.__decorate([(0,r.computedFrom)("config.column.dataType"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"isString",null),n.__decorate([(0,r.computedFrom)("filter.condition"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"isBetween",null),n.__decorate([(0,r.computedFrom)("selectionState"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"selectionIcon",null),n.__decorate([(0,r.computedFrom)("config.filter","config.filter.condition"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"hasFilter",null),h=p=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[a.DialogController,r.TaskQueue])],h),t.FilterDialog=h;class FilterDialogResult{constructor(e,t,n){this.filter=e,this.sort=t,this.removeFilter=n}}t.FilterDialogResult=FilterDialogResult}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/dialogs/filter-editor-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterEditorDialog=void 0;let l=class QpFilterEditorDialog{constructor(e,t){this.element=e,this.dialogHelper=t,this.msg=o.Messages}open(e){this.config=e,this.setControlsState();const t=this.dialogHelper.openDialog({templateId:this.config.id,context:this,hideMaximizer:!0},{},(e=>{this.currentDialog=e.controller}));return t.then((()=>{})),t}setControlsState(){var e;this.filterRows=null===(e=this.config.filterRows)||void 0===e?void 0:e.map((e=>Object.assign({},e))),this.cancelConfig={id:`${this.config.id}_cancelBtn`,text:o.Messages.Cancel},this.okConfig={id:`${this.config.id}_okBtn`,text:o.Messages.Apply}}};l=n.__decorate([(0,r.customElement)("qp-filter-editor-dialog"),r.autoinject,n.__metadata("design:paramtypes",[Element,a.DialogHelper])],l),t.QpFilterEditorDialog=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/dialogs/filter-setup-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterSetupDialog=void 0;let d=class QpFilterSetupDialog{constructor(e,t){this.element=e,this.dialogHelper=t,this.msg=o.Messages}open(e){this.config=e,this.setControlsState();const t=this.dialogHelper.openDialog({templateId:this.config.id,context:this,hideMaximizer:!0},{},(e=>{this.currentDialog=e.controller}));return t.then((()=>{const e=this.elemContent.querySelector("input");e&&e.focus()})),t}setControlsState(){this.filter=this.config.filter?Object.assign({},this.config.filter):new a.GridFilter,this.config.isSharedEditable||(this.filter.isShared=!1),this.config.saveAs&&(this.filter.filterName="",this.filter.isDefault=this.filter.isShared=!1);const e=this.config.id;this.cancelConfig={id:`${e}_cancelBtn`,text:o.Messages.Cancel},this.okConfig={id:`${e}_okBtn`,text:this.config.saveAs?o.Messages.Save:o.Messages.Apply},this.txtNameConfig={id:`${e}_edFilterName`,class:"auto-size"},this.chkSharedConfig={id:`${e}_chkShared`,label:o.Messages.Shared},this.chkDefaultConfig={id:`${e}_chkDefault`,label:o.Messages.Default},this.okConfig.enabled=!!this.filter.filterName,this.chkSharedConfig.enabled=!!this.config.isSharedEditable}processNameInput(e){const t=e.target;this.okConfig.enabled=!!t.value}};d=n.__decorate([(0,r.customElement)("qp-filter-setup-dialog"),r.autoinject,n.__metadata("design:paramtypes",[Element,l.DialogHelper])],d),t.QpFilterSetupDialog=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/dialogs/filters-list-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-dialog"),n("aurelia-framework"),n("./node_modules/client-controls/controls/dialog/base-dialog/base-dialog.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/utils/index.js"),n("client-controls/controls/compound/grid/qp-filter-bar")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersListDialog=void 0;let u=class FiltersListDialog extends a.BaseDialog{constructor(e){super(e),this.controller=e,this.msg=l.Messages,this.minHeight=300,this.maxHeight=500}activate(e){this.config=e,this.filters=[...e.filters],this.sortFilters()}sortFilters(){var e;null===(e=this.filters)||void 0===e||e.sort(((e,t)=>{var n,r;if(this.isClientFilter(t.filterID)||t.isFavorite&&!e.isFavorite)return 1;if(this.isClientFilter(e.filterID)||e.isFavorite&&!t.isFavorite)return-1;const o=null!==(n=e.filterName)&&void 0!==n?n:e.filterID,a=null!==(r=t.filterName)&&void 0!==r?r:t.filterID;return o===a?0:o<a?-1:1}))}getFilterIndex(e){return this.config.filters.findIndex((t=>(0,d.compareStrings)(t.filterID,e,!0)))}isClientFilter(e){return!e||e<=c.QpFilterBarCustomElement.minFilterID}getDragOverClass(e,t){if(null==this.dragInfo||null==t)return null;const n=this.getFilterIndex(e.filterID),r=this.getFilterIndex(this.dragInfo.filter.filterID);return n===t?"dragover "+(n>r?"after":"before"):void 0}attached(){if(super.attached(),this.elemFilterBox){const e=this.elemFilterBox.querySelector("input");e&&e.focus()}}processInput(e){e&&(e=e.toLowerCase());const t=this.config.filters.filter((t=>{const n=t.filterName||t.filterID;return n&&n.toLowerCase().indexOf(e)>=0}));this.filters.splice(0,this.filters.length,...t)}processFilterClick(e,t){this.controller.ok(t.filterID)}processFavoriteClick(e,t){var n,r;t.isFavorite=!t.isFavorite,null===(r=(n=this.config).onFavoriteChanged)||void 0===r||r.call(n,{filterID:t.filterID,isFavorite:t.isFavorite}),this.sortFilters(),e.stopPropagation()}processSelectStart(e){e.preventDefault()}processDragStart(e,t){return this.dragInfo={filter:t,targetIndex:void 0},!0}processDragOver(e,t){if(this.dragInfo&&this.dragInfo.filter!==t){const n=e.target.getBoundingClientRect(),r=2,o=e.clientY<n.top+n.height/r;let a=this.getFilterIndex(t.filterID)+(o?0:1);const l=this.getFilterIndex(this.dragInfo.filter.filterID);a>l&&a--,this.dragInfo.targetIndex=a===l||0===a?void 0:a}else this.dragInfo&&(this.dragInfo.targetIndex=void 0);e.dataTransfer&&(e.dataTransfer.dropEffect="move")}processDragLeave(e){this.dragInfo&&!this.elemFiltersList.contains(e.relatedTarget)&&(this.dragInfo.targetIndex=void 0)}processDrop(e,t){if(this.dragInfo){const e=this.dragInfo.targetIndex,t=this.getFilterIndex(this.dragInfo.filter.filterID),n=this.config.filters;void 0!==e&&(n.splice(e,0,n.splice(t,1)[0]),this.filters=[...n],this.config.onFiltersOrderChanged&&this.config.onFiltersOrderChanged()),this.dragInfo=void 0}}};n.__decorate([o.bindable,n.__metadata("design:type",String)],u.prototype,"search",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],u.prototype,"dragInfo",void 0),u=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[r.DialogController])],u),t.FiltersListDialog=u}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/dialogs/import-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/descriptors/types.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/services/index.js"),n("client-controls/controls/compound/grid/qp-grid")],o=function(e,t,n,r,o,a,l,d,c,u,p,h){"use strict";var g;Object.defineProperty(t,"__esModule",{value:!0}),t.ImportRecordsDialog=void 0;let m=class ImportMessages{};m.MapPropertiesToColumns="Map properties to columns.",m=n.__decorate([p.localizable],m);let f=g=class ImportRecordsDialog{constructor(e,t,n,r){this.element=e,this.screenService=t,this.eventAggregator=n,this.tq=r,this.wizardConfig={disableNext:!0,buttons:{done:a.Messages.Finish}},this.UPLOAD_TAB="uploadTab",this.SETTINGS_TAB="settingsTab",this.COLUMNS_TAB="columnsTab",this.subscriptions=[],this.skipCallback=!1,this.attachedViews=[],this.fileUploaded="",this.canDeactivateDialog=!1,this.Messages=a.Messages,this.ImportMessages=m,this.activeTabId=this.UPLOAD_TAB}static Execute(e,t){return n.__awaiter(this,void 0,void 0,(function*(){const n=e.get(l.DialogHelper);if(!n)return!1;const r={id:"import-dialog",templateViewModel:g,context:t,cssClass:"import-dialog col-sm-10 col-md-6 col-lg-4",height:"60vh"},o=yield n.openDialog(r,{lock:!0,keyboard:!0});if(o.wasCancelled)return!1;return!(yield o.closeResult).wasCancelled}))}activate(e){this.config=e,this.screenModel=this.screenService.model,this.subscriptions.push(this.screenService.registerDataComponent("ImportDataHandler",{setComponentData:e=>{if(e&&"object"==typeof e&&this.currentIsRecordCollection){const t=e;t.dynamicGridResult&&(this.currentViewGridResult=t.dynamicGridResult)}},getQueryParams:e=>({dataMemberView:this.config.viewName,dynamicView:this.currentDynamicView,isRecordsCollection:this.currentIsRecordCollection,resultType:"ImportDataHandler"})})),this.subscriptions.push(this.screenModel.screenEventManager.subscribe("OpenPopup",(e=>n.__awaiter(this,void 0,void 0,(function*(){if(e.commandName===this.importAttribute.importWizardAction){if(e.stop(),this.skipCallback)return void(this.skipCallback=!1);this.activeTabId===this.UPLOAD_TAB?(this.settingsView=e.name,yield this.attachView(e.name,(0,u.createSingle)(createClass(u.PXView,e.name)),!1,this.SETTINGS_TAB)):this.activeTabId===this.SETTINGS_TAB&&(this.columnsView=e.name,yield this.attachView(e.name,(0,u.createCollection)(createClass(u.PXView,e.name)),!0,this.COLUMNS_TAB))}}))))),this.subscriptions.push(this.eventAggregator.subscribe(c.ApiCientEvents.ErrorRaisedEvent,(e=>n.__awaiter(this,void 0,void 0,(function*(){e.isProcessed||(e.isProcessed=!0,e.data&&e.data.title&&(this.errorMessage=e.data.title,this.activeTabId=this.UPLOAD_TAB,yield this.detachViews(!0)))})))))}detachViews(e){return n.__awaiter(this,void 0,void 0,(function*(){const t=[...this.attachedViews].reverse();for(const n of t)yield this.detachView(n,e)}))}cancelView(e){return n.__awaiter(this,void 0,void 0,(function*(){this.skipCallback=!0;let t=!1;try{t=!!(yield this.screenService.executeCommand(this.importAttribute.importWizardAction,new c.ScreenUpdateParams({dialogCallback:{viewName:e,dialogResult:0}},this.element))).succeeded}finally{t||(this.skipCallback=!1)}}))}detachView(e,t){return n.__awaiter(this,void 0,void 0,(function*(){const n=this.attachedViews.indexOf(e);-1!==n&&(this.attachedViews.splice(n,1),this.screenService.cancelViewFieldChanges(e),delete this.screenModel[e],t&&(yield this.cancelView(e)))}))}detached(){return n.__awaiter(this,void 0,void 0,(function*(){yield this.detachViews(!1),this.subscriptions.forEach((e=>e.dispose()))}))}processImport(){return n.__awaiter(this,void 0,void 0,(function*(){yield this.screenService.executeCommand(this.importAttribute.importWizardAction,new c.ScreenUpdateParams({commitChanges:!0,blockPage:!0,dialogCallback:{viewName:this.columnsView,dialogResult:1}},this.element)),yield this.detachViews(!1),this.canDeactivateDialog=!0,this.element.dispatchEvent(new CustomEvent("savedialog",{bubbles:!0}))}))}cancelImport(){return n.__awaiter(this,void 0,void 0,(function*(){yield this.detachViews(!0),this.canDeactivateDialog=!0,this.element.dispatchEvent(new CustomEvent("closedialog",{bubbles:!0}))}))}canDeactivate(e){if(this.canDeactivateDialog)return!0;if(e.wasCancelled){if(0===this.attachedViews.length)return!0;this.cancelImport()}else this.processImport();return!1}attachView(e,t,r,o){return n.__awaiter(this,void 0,void 0,(function*(){this.screenModel[e]=t,-1===this.attachedViews.indexOf(e)&&this.attachedViews.push(e),this.currentDynamicView=e,this.currentIsRecordCollection=r,yield this.screenService.update(void 0,new c.ScreenUpdateParams(void 0,this.element)),this.activeTabId=o}))}configChanged(){var e;this.importAttribute=new PXImportAttribute(this.config.viewName),this.config.fileTypes=null!==(e=this.config.fileTypes)&&void 0!==e?e:["csv","xlsx"],this.uploaderConfig={accept:this.config.fileTypes.map((e=>`.${e}`)).join(","),id:`${this.config.id}_uploader`,action:this.importAttribute.uploadFileAction,view:this.importAttribute.contentBagView,graph:this.config.graphType,singleMode:!0},this.uploaderFiles=this.config.fileTypes.map((e=>`*.${e}`)).join(", ")}afterUploaded(e){return n.__awaiter(this,void 0,void 0,(function*(){this.errorMessage="",this.fileUploaded=e.detail.fileNames.length>0?e.detail.fileNames[0]:"",this.uploaderConfig.disabled=!0,yield this.detachViews(!0),yield this.screenService.executeCommand(this.importAttribute.importWizardAction,new c.ScreenUpdateParams({commitChanges:!0,blockPage:!0},this.element))}))}clearUploaded(){this.errorMessage="",this.fileUploaded="",this.uploaderConfig.disabled=!1,this.wizardConfig.disableNext=!0}currentTabGridChanged(e){if(!this.currentTabGrid)return;const t=this.currentTabGrid.onDataReady;this.currentTabGrid.onDataReady=e=>{this.tq.queueTask((()=>{var n,r;this.currentTabGrid.focusFastFilter(),this.currentTabGrid.onDataReady=t,null===(r=(n=this.currentTabGrid).onDataReady)||void 0===r||r.call(n,e)}))}}activeTabIdChanged(){return n.__awaiter(this,void 0,void 0,(function*(){this.activeTabId===this.UPLOAD_TAB?this.wizardConfig.disableNext=""===this.fileUploaded:this.activeTabId===this.SETTINGS_TAB?(this.wizardConfig.disableNext=!1,this.settingsTemplate=`<qp-fieldset view.bind="${this.settingsView}" id="${this.settingsView.replace("$","_")}_id"></qp-fieldset>`):this.activeTabId===this.COLUMNS_TAB&&(this.wizardConfig.disableNext=!1,this.columnsTemplate=`<qp-grid\n\t\t\t\tid="grid_${this.columnsView.replace("$","_")}"\n\t\t\t\tview.bind="${this.columnsView}"\n\t\t\t\tview-model.ref="currentTabGrid"\n\t\t\t\tconfig.bind="{\n\t\t\t\t\tautoAdjustColumns: true,\n\t\t\t\t\tallowDelete: false,\n\t\t\t\t\tallowInsert: false,\n\t\t\t\t\tpagerMode: 0,\n\t\t\t\t}"></qp-grid>`,yield Promise.resolve().then((()=>{if(this.currentViewGridResult){const e=this.screenService.getDataComponent(this.currentDynamicView);e&&e.setComponentData(this.currentViewGridResult)}})))}))}nextTab(e){return n.__awaiter(this,void 0,void 0,(function*(){this.activeTabId===this.UPLOAD_TAB?e.detail.cancel=""===this.fileUploaded:this.activeTabId===this.SETTINGS_TAB&&(e.detail.cancel=!0,yield this.screenService.executeCommand(this.importAttribute.importWizardAction,new c.ScreenUpdateParams({commitChanges:!0,blockPage:!0,dialogCallback:{viewName:this.settingsView,dialogResult:1,validateInput:!0}},this.element)))}))}prevTab(e){return n.__awaiter(this,void 0,void 0,(function*(){this.activeTabId===this.COLUMNS_TAB?(yield this.detachView(this.columnsView,!0),yield this.cancelView(this.settingsView)):this.activeTabId===this.SETTINGS_TAB&&(yield this.cancelView(this.settingsView))}))}};n.__decorate([r.observable,n.__metadata("design:type",Object)],f.prototype,"config",void 0),n.__decorate([r.observable,n.__metadata("design:type",h.QpGridCustomElement)],f.prototype,"currentTabGrid",void 0),n.__decorate([r.observable,n.__metadata("design:type",String)],f.prototype,"activeTabId",void 0),f=g=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[Element,d.ScreenService,o.EventAggregator,r.TaskQueue])],f),t.ImportRecordsDialog=f;class PXImportAttribute{constructor(e){this.viewName=e,this.uploadFileAction=`${e}$UploadFileAction`,this.contentBagView=`${e}$ImportContentBag`,this.columnsView=`${e}$ImportColumns`,this.importWizardAction=`${e}$ImportWizardAction`,this.importAction=`${e}$ImportAction`}}function createClass(e,t){const n=new Proxy(e,{get:(e,n)=>"name"===n?t:e[n],construct(e,t){const r=new e(...t);return r.constructor=n,r}});return n}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/elements/qp-filter-box":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterBoxCustomElement=void 0;let l=class QpFilterBoxCustomElement{constructor(e){this.busyCounter=e,this.highlightText=!0,this.Msg=o.Messages,this.isBusy=!1}applyFastFilter(e){return n.__awaiter(this,void 0,void 0,(function*(){try{this.highlightText&&(this.hasText=!!e),this.onFilter&&(yield this.onFilter({filter:e}))}finally{this.isBusy&&this.busyCounter.decrement(),this.isBusy=!1}}))}filterChanged(e){this.hasText=!!e}processFocus(){this.editMode=!0}processBlur(){this.editMode=!1}processKeyDown(e){return this.isBusy||(this.isBusy=!0,this.busyCounter.increment()),!this.onKeyDown||this.onKeyDown({ev:e})}};n.__decorate([r.bindable,n.__metadata("design:type",Function)],l.prototype,"onFilter",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],l.prototype,"onKeyDown",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],l.prototype,"id",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],l.prototype,"filter",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],l.prototype,"highlightText",void 0),l=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[a.BusyCounter])],l),t.QpFilterBoxCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/elements/qp-filter-button":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-dialog"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js"),n("client-controls/controls/compound/grid/dialogs/filter-dialog")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterButtonCustomElement=void 0;let c=class QpFilterButtonCustomElement{constructor(e,t,n){this.element=e,this.dialogService=t,this.container=n,this.showExpanded=!1}get hasFilter(){const e=this.config.filter;return null!=e&&!(null==e.condition||"EQ"===e.condition&&null==e.value)}get isComparisonOperator(){const e=this.config.filter;return null!=e&&null!=e.value&&("EQ"===e.condition||"NE"===e.condition||"LT"===e.condition||"GT"===e.condition||"LE"===e.condition||"GE"===e.condition)}configChanged(e){e.column||(e.column={field:e.filter.field,dataType:l.NetType.String})}processMouseEnter(e){const t=e.offsetX<=this.elemText.clientWidth+this.elemText.offsetLeft;this.elemText.scrollWidth>this.elemText.clientWidth&&t&&(this.showExpanded=!0)}processMouseLeave(e){this.showExpanded=!1}processClick(e){if(0!==e.button)return;let t=e.target;t.tagName.length<10&&(t=t.parentElement);const n={attachTo:t,id:`${this.config.id}_fd`,column:this.config.column,filter:this.config.filter,showSortItems:this.config.showSortItems,showRemoveItem:this.config.showRemoveItem};this.dialogService.open({viewModel:d.FilterDialog,model:n,lock:!1,childContainer:this.container.createChild()}).whenClosed((t=>{if(!t.wasCancelled){const n=t.output;null!=n.sort?this.onSort&&this.onSort({col:this.config.column,sort:n.sort}):null!=n.removeFilter?this.processRemoveClick(e):this.onFilter&&this.onFilter({col:this.config.column,filter:n.filter})}}))}processRemoveClick(e){this.onFilterRemove&&this.onFilterRemove({col:this.config.column}),e.stopPropagation()}};n.__decorate([a.bindable,n.__metadata("design:type",Object)],c.prototype,"config",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],c.prototype,"onSort",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],c.prototype,"onFilter",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],c.prototype,"onFilterRemove",void 0),n.__decorate([(0,a.computedFrom)("config.filter","config.filter.condition","config.filter.value"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],c.prototype,"hasFilter",null),n.__decorate([(0,a.computedFrom)("config.filter","config.filter.condition","config.filter.value"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],c.prototype,"isComparisonOperator",null),c=n.__decorate([a.autoinject,n.__metadata("design:paramtypes",[Element,r.DialogService,o.Container])],c),t.QpFilterButtonCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/elements/qp-filter-combo":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-dialog"),n("aurelia-framework"),n("./node_modules/client-controls/utils/index.js"),n("client-controls/controls/compound/grid/dialogs/filters-list-dialog"),n("client-controls/controls/compound/grid/qp-filter-bar")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterComboCustomElement=void 0;let c=class QpFilterComboCustomElement{constructor(e,t){this.element=e,this.dialogService=t}filterIdChanged(){this.setActiveFilter()}filtersChanged(){this.setActiveFilter()}setActiveFilter(){var e;this.activeFilter=null===(e=this.filters)||void 0===e?void 0:e.find((e=>(0,a.compareStrings)(e.filterID,this.filterId,!0)))}isClientFilter(e){return!e||e<=d.QpFilterBarCustomElement.minFilterID}processClick(e){if(0!==e.button)return;const t={attachTo:this.element,id:`${this.id}_fld`,filterId:this.filterId,filters:this.filters,onFavoriteChanged:this.onFavoriteChanged,onFiltersOrderChanged:this.onFiltersOrderChanged};this.dialogService.open({viewModel:l.FiltersListDialog,model:t,lock:!1}).whenClosed((e=>{if(!e.wasCancelled){const t=e.output;t&&(this.filterId=t)}}))}};n.__decorate([o.bindable,n.__metadata("design:type",String)],c.prototype,"id",void 0),n.__decorate([(0,o.bindable)({defaultBindingMode:o.bindingMode.twoWay}),n.__metadata("design:type",String)],c.prototype,"filterId",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Array)],c.prototype,"filters",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Function)],c.prototype,"onFiltersOrderChanged",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Function)],c.prototype,"onFavoriteChanged",void 0),c=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[Element,r.DialogService])],c),t.QpFilterComboCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/elements/qp-filter-node":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-dialog"),n("aurelia-framework"),n("client-controls/controls/compound/grid/dialogs/columns-list-dialog"),n("./node_modules/client-controls/controls/compound/grid/grid-helper.js"),n("client-controls/controls/compound/grid/qp-filter-editor"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterNodeCustomElement=void 0;let u=class QpFilterNodeCustomElement{constructor(e){this.dialogService=e}getColumn(e){return this.columns.find((t=>(0,c.compareStrings)(t.field,e,!0)))}isFilterNode(e){return e instanceof d.FilterNode}processHierarchyChanged(){this.onHierarchyChanged&&this.onHierarchyChanged()}processConditionDelete(e){this.onFilterRowDelete&&this.onFilterRowDelete({filter:e})}processNodeDelete(e){this.onFilterNodeDelete&&this.onFilterNodeDelete({node:e})}processFilterRowInsert(e,t,n){this.onFilterRowInsert&&this.onFilterRowInsert({filter:e,col:t,closeBrackets:n})}processNodeMouseMove(e,t){this.onNodeMouseMove&&this.onNodeMouseMove({elem:e,mouseLeave:t})}processMouseEnter(e,t){this.processNodeMouseMove(e.target,!1)}processMouseLeave(e,t){this.processNodeMouseMove(e.target,!0)}processConditionClick(e){e.orOperator=!e.orOperator}processConditionNodeClick(e){e.orOperator=!e.orOperator,e.getLastCondition().orOperator=e.orOperator}addBrackets(e){if(this.node.items.length<3)return;const t=this.node.items.indexOf(e);if(t>=0&&t<this.node.items.length-1){const n=this.isFilterNode(e)?e.getFirstCondition():e,r=this.node.items[t+1],o=this.isFilterNode(r)?r.getLastCondition():r;n.openBrackets=n.openBrackets?++n.openBrackets:1,o.closeBrackets=o.closeBrackets?++o.closeBrackets:1,this.processHierarchyChanged()}}processBracketsClick(e){this.addBrackets(e)}processBracketsNodeClick(e){this.addBrackets(e)}processDeleteBracketsClick(e){let t=e.getFirstCondition();t&&t.openBrackets&&t.openBrackets>0&&(t.openBrackets-=1),t=e.getLastCondition(),t&&t.closeBrackets&&t.closeBrackets>0&&(t.closeBrackets-=1),this.processHierarchyChanged()}processFilterRowApplied(e,t,n){(0,l.copyFilterRow)(n,t)}processFilterRowDeleted(e,t){this.node.items.splice(this.node.items.indexOf(t),1),this.processConditionDelete(t)}processDeleteNodeClick(e){this.processNodeDelete(e)}showInsertDialog(e,t,n){var r;let o=e.target;"DIV"!==o.tagName&&(o=o.parentElement);const l=(null===(r=o.parentElement)||void 0===r?void 0:r.classList.contains("right-actions"))?o.parentElement:o;l.setAttribute("force-visible","");const d={attachTo:o,columns:this.columns,id:this.id};this.dialogService.open({viewModel:a.ColumnsListDialog,model:d,lock:!1}).whenClosed((e=>{!e.wasCancelled&&e.output&&this.processFilterRowInsert(t,e.output,n),l.removeAttribute("force-visible")}))}processNewItemClick(e,t){this.showInsertDialog(e,t,t.closeBrackets)}processNewItemNodeClick(e,t){const n=t.getLastCondition();let r=0,o=t.parent;for(;o&&o.parent&&o.getLastCondition()===n;)r++,o=o.parent;this.showInsertDialog(e,n,r)}};n.__decorate([o.bindable,n.__metadata("design:type",String)],u.prototype,"id",void 0),n.__decorate([o.bindable,n.__metadata("design:type",d.FilterNode)],u.prototype,"node",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Array)],u.prototype,"columns",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Function)],u.prototype,"onHierarchyChanged",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Function)],u.prototype,"onFilterRowDelete",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Function)],u.prototype,"onFilterNodeDelete",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Function)],u.prototype,"onFilterRowInsert",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Function)],u.prototype,"onNodeMouseMove",void 0),u=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[r.DialogService])],u),t.QpFilterNodeCustomElement=u}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/elements/qp-numeric-pager":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/messages.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpNumericPagerCustomElement=void 0;let a=class QpNumericPagerCustomElement{constructor(){this.Msg=o.Messages,this.numConfig={minValue:1}}pageIndexChanged(e){this.value=e+1}pagesCountChanged(e){this.numConfig.maxValue=e}valueChanged(e){this.onPageIndexChanged&&e!==this.pageIndex+1&&this.onPageIndexChanged({index:e-1})}idChanged(e){this.numConfig.id=e}};n.__decorate([r.bindable,n.__metadata("design:type",String)],a.prototype,"id",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],a.prototype,"pageIndex",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],a.prototype,"pagesCount",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],a.prototype,"onPageIndexChanged",void 0),n.__decorate([r.observable,n.__metadata("design:type",Number)],a.prototype,"value",void 0),a=n.__decorate([r.autoinject],a),t.QpNumericPagerCustomElement=a}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/grid/grid-api-client.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/base-api-client.js"),n("aurelia-framework"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),n("./node_modules/client-controls/services/index.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridGenericInquiryApiClient=t.GridApiClient=void 0;let d=class GridApiClient{constructor(e){this.client=e}getGridData(e,t){return this.client.fetchExt(t.gridDataUrl?t.gridDataUrl:`${this.getRoute(e)}`,t)}saveGridFilter(e,t){return this.client.fetchExt(`${this.getRoute(e)}/saveFilter`,t)}removeGridFilter(e,t){return this.client.fetchExt(`${this.getRoute(e)}/removeFilter`,t)}saveGridFiltersOrder(e,t){return this.client.fetchExt(`${this.getRoute(e)}/saveFiltersOrder`,t)}initNewGridRow(e,t){return this.client.fetchExt(`${this.getRoute(e)}/initNewRow`,t)}navigate(e,t){return this.client.fetchExt(`${this.getRoute(e)}/navigate`,t)}exportToExcel(e,t){let n=t.gridDataUrl?t.gridDataUrl:`${this.getRoute(e)}`;return n=`${n}/exportToExcel`,this.client.fetch(n,(0,a.json)(t))}getRoute(e){return`${(0,l.Format)("ui/screen/{0}/grid",e)}`}};d=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[r.BaseApiClient])],d),t.GridApiClient=d;t.GridGenericInquiryApiClient=class GridGenericInquiryApiClient extends d{constructor(e,t){super(e),this.genericInquiryId=t}getRoute(e){return`${(0,l.Format)("ui/inquiry/{0}/grid",this.genericInquiryId)}`}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/grid/grid-helper.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/services/localizations-service.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/utils/control-helper.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h){"use strict";let g,m;Object.defineProperty(t,"__esModule",{value:!0}),t.getCollectionData=t.copyRowPropsFromView=t.removeFilterRow=t.normalizeBrackets=t.orOperatorsBraced=t.reduceBrackets=t.addCloseBrackets=t.addOpenBrackets=t.getTypedValue=t.getColumnDisplayText=t.getRawCellValue=t.getColumnDefaultValue=t.getFilterRowDisplayText=t.getFilterDisplayText=t.isColumnVisibleChangeAllowed=t.getColumnKey=t.isAdvancedFilter=t.isEmptyFilter=t.copyFilterRow=t.clearFilterRow=t.filterNullValue=t.FilterConditions=t.ExpressionEvaluator=void 0;let f=class ExpressionEvaluator{constructor(e,t){this.parser=e,this.resources=t,this.parser=e,this.lookupFunctions=t.lookupFunctions}evaluate(e,t){let n;try{n=this.parser.parse(e)}catch(e){}const r={bindingContext:t,overrideContext:(0,a.createOverrideContext)(t)},o=null==n?void 0:n.evaluate(r,this.lookupFunctions);return void 0===o?e:o}};f=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[a.Parser,o.ViewResources])],f),t.ExpressionEvaluator=f,t.FilterConditions={EQ:"Equals",NE:"Does Not Equal",GT:"Is Greater Than",GE:"Is Greater Than or Equal To",LT:"Is Less Than",LE:"Is Less Than or Equal To",BETWEEN:"Is Between",LIKE:"Contains",LLIKE:"Ends With",RLIKE:"Starts With",NOTLIKE:"Does Not Contain",ISNULL:"Is Empty",ISNOTNULL:"Is Not Empty",TODAY:"Today",OVERDUE:"Overdue",TODAY_OVERDUE:"Today+Overdue",TOMMOROW:"Tomorrow",THIS_WEEK:"This Week",NEXT_WEEK:"Next Week",THIS_MONTH:"This Month",NEXT_MONTH:"Next Month"};const v=["EQ","NE","GT","GE","LT","LE","BETWEEN","LIKE","NOTLIKE","LLIKE","RLIKE"],b=["TODAY","OVERDUE","TODAY_OVERDUE","TOMMOROW","THIS_WEEK","NEXT_WEEK","THIS_MONTH","NEXT_MONTH"];function clearFilterRow(e){e.condition=e.orOperator=void 0,e.value=e.value2=void 0,e.openBrackets=e.closeBrackets=void 0,e.text=c.Messages.GridAll}function isEmptyFilter(e){return null==e||null==e.condition||"EQ"===e.condition&&null==e.value}function getFilterRowDisplayText(e,n){var r,o;let a=e.value,d=getColumnDisplayText(n,getTypedValue(n,e.value2,n.dataType,!0)).trimEnd(),u="";const p=((null===(o=null===(r=n.valueItems)||void 0===r?void 0:r.items)||void 0===o?void 0:o.length)||0)>0,h=n.dataType===l.NetType.String;p&&a?a=a.split(",").map((e=>e===t.filterNullValue?c.Messages.GridSelectAll:getColumnDisplayText(n,e))).join(", "):(a=getColumnDisplayText(n,getTypedValue(n,a,n.dataType,!0)).trimEnd(),h&&(a=a?`'${a}'`:"")),h&&(d=d?`'${d}'`:"");let g=e.condition;switch("EQ"!==g||e.value||(g=void 0),g){case"IN":u+=a;break;case"EQ":u+=`= ${a}`;break;case"NE":u+=`!= ${a}`;break;case"GT":u+=`> ${a}`;break;case"LT":u+=`< ${a}`;break;case"GE":u+=`>= ${a}`;break;case"LE":u+=`<= ${a}`;break;default:g?(u+="BETWEEN"===e.condition?"":t.FilterConditions[g],v.indexOf(g)>=0&&(u+=` ${a}${d?` - ${d}`:""}`)):u+=c.Messages.GridAll}return u}function getRawCellValue(e){return e&&void 0!==e.id?e.id:e}function getColumnDisplayText(e,t,n){var o,a;if(void 0!==(null==t?void 0:t.id)&&(e.textField||e.displayMode!==l.GridColumnDisplayMode.Value))return function getCellDisplayText(e,t,n){switch(e.displayMode){case l.GridColumnDisplayMode.Both:return null!=t&&n?`${t} - ${n}`:n||t;case l.GridColumnDisplayMode.Text:return n}return n}(e,t.id,t.text);let c="";if(t&&(t=getRawCellValue(t)),null==t)return null!==(o=e.nullText)&&void 0!==o?o:c;let f=e.valueItems,v=e.format,b=e.dataType;if(n&&e.fullState&&(n.type&&(b=n.type),n.format&&(v=n.format),n.options&&(f={items:n.options,multiSelect:n.multiSelect,exclusive:n.exclusiveValues,emptyPossible:n.emptyPossible})),((null===(a=null==f?void 0:f.items)||void 0===a?void 0:a.length)||0)>0)if(f&&f.multiSelect){const n=t.split(","),r=new Array;for(const t of n){const n=getValueItem(e,t,f,b);null!=n&&r.push(n.text)}c=r.join(", ")}else{const n=getValueItem(e,t,f,b);null!=n&&(c=(e.type===l.GridColumnType.Icon&&n.icon?n.icon:n.text)||"")}else(0,d.isNumeric)(b)?(0,h.isLegacyEnv)()?null!=g||(g=(0,p.numberFormatInfo)()):null!=g||(g=r.Container.instance.get(u.LocalizationsService).getLocalePreferences("number")):b===l.NetType.DateTime&&((0,h.isLegacyEnv)()?null!=m||(m=(0,p.dateFormatInfo)()):null!=m||(m=r.Container.instance.get(u.LocalizationsService).getLocalePreferences("datetime"))),c=v?(0,d.isNumeric)(b)&&"number"==typeof t?(0,d.formatNumber)(t,e.decimals,g):b===l.NetType.DateTime&&t instanceof Date?(0,d.formatDate)(t,v,m):b===l.NetType.String?(0,d.formatByMask)((0,d.encodeMask)(v),t," "):(0,d.getInvariantText)(t):(0,d.isNumeric)(b)?(0,d.formatNumber)(t,e.decimals,g):b===l.NetType.DateTime&&"Date"===t.constructor.name?(0,d.formatDate)(t,e.timeMode?"t":"d",m):(0,d.getInvariantText)(t);return c}function getTypedValue(e,t,n,r=!1){if(null==t)return t;void 0===n&&(n=e.dataType);const o="string"==typeof t,a=t;return e.allowNull&&o&&""===t?t=null:n===l.NetType.String&&t instanceof Date?t=(0,d.getInvariantText)(t):(t=(0,d.netTypeConvert)(t,n||l.NetType.String),r&&isNaN(t)&&(t=(0,d.getInvariantText)(a))),t}function getValueItem(e,t,n,r){if(null==(null==n?void 0:n.items)||null==t)return null;for(const o of n.items)if(t===getTypedValue(e,o.value,r))return o;return n.exclusive?null:{value:t,text:String(t)}}function addOpenBrackets(e,t){e.openBrackets||(e.openBrackets=0),e.openBrackets+=t}function addCloseBrackets(e,t){e.closeBrackets||(e.closeBrackets=0),e.closeBrackets+=t}function reduceBrackets(e){if(e&&e.openBrackets&&e.closeBrackets)for(;e.openBrackets&&e.closeBrackets;)e.openBrackets--,e.closeBrackets--}function copyValueIfDifferent(e,t,n){return!(!e||!t)&&(!!e.hasOwnProperty(n)&&(e[n]!==t[n]&&(t[n]=e[n],!0)))}t.filterNullValue="<null>",t.clearFilterRow=clearFilterRow,t.copyFilterRow=function copyFilterRow(e,t){return clearFilterRow(e),t&&Object.assign(e,t),e},t.isEmptyFilter=isEmptyFilter,t.isAdvancedFilter=function isAdvancedFilter(e){if(e){const t=e[e.length-1];return null==e?void 0:e.some((e=>!!e.orOperator&&e!==t))}return!1},t.getColumnKey=function getColumnKey(e){return e.field||e.key||""},t.isColumnVisibleChangeAllowed=function isColumnVisibleChangeAllowed(e){var t;return e.allowShowHide===l.GridColumnShowHideMode.True||e.allowShowHide===l.GridColumnShowHideMode.Client||e.allowShowHide===l.GridColumnShowHideMode.Server&&(null===(t=e.state)||void 0===t?void 0:t.visible)},t.getFilterDisplayText=function getFilterDisplayText(e,t){const n=e[e.length-1];let r="";for(const o of e){let e=t.find((e=>(0,d.compareStrings)(e.field,o.field,!0)));e||(e={field:o.field,dataType:l.NetType.String}),o.openBrackets&&(r+="(".repeat(o.openBrackets)),r+=`<b>${o.field}</b> `,isEmptyFilter(o)||b.indexOf(o.condition)>=0?r+="= ":"BETWEEN"===o.condition?r+="Between ":"IN"===o.condition&&(r+=`${o.condition} `);const a=getFilterRowDisplayText(o,e);"IN"===o.condition?r+=`(${a})`:"BETWEEN"===o.condition?r+=a.replace("-","and"):r+=a,o.closeBrackets&&(r+=")".repeat(o.closeBrackets)),o!==n&&(r+=`<span class="${o.orOperator?"or":"and"}"> ${o.orOperator?"OR":"AND"} </span>`)}return r},t.getFilterRowDisplayText=getFilterRowDisplayText,t.getColumnDefaultValue=function getColumnDefaultValue(e){var t;return(null===(t=e.state)||void 0===t?void 0:t.defaultValue)?e.state.defaultValue:e.allowNull?null:e.dataType===l.NetType.String?"":(0,d.isNumeric)(e.dataType)?0:e.dataType!==l.NetType.Boolean&&(e.dataType===l.NetType.DateTime?new Date:void 0)},t.getRawCellValue=getRawCellValue,t.getColumnDisplayText=getColumnDisplayText,t.getTypedValue=getTypedValue,t.addOpenBrackets=addOpenBrackets,t.addCloseBrackets=addCloseBrackets,t.reduceBrackets=reduceBrackets,t.orOperatorsBraced=function orOperatorsBraced(e){let t=0;for(const n of e)if(t-=n.closeBrackets||0,t+=n.openBrackets||0,n.orOperator&&t<=0)return!1;return!0},t.normalizeBrackets=function normalizeBrackets(e){const t=new Array,n=e[0],r=e[e.length-1];for(const o of e)if(reduceBrackets(o),o.openBrackets>0)t.push({fr:o,opened:o.openBrackets});else if(o.closeBrackets>0){let e=t.pop();if(!e){o.closeBrackets=void 0;continue}let a=o.closeBrackets;for(;e&&a>0;)a>=e.opened?(e.fr.openBrackets===e.opened&&e.opened>1&&(o.closeBrackets-=e.opened-1,e.fr.openBrackets=e.opened=a=1),o===r&&e.fr===n&&(o.closeBrackets-=a,e.fr.openBrackets-=a),a-=e.opened,a>0&&(e=t.pop())):(e.opened-=a,t.push(e),a=0)}for(const e of t)e.fr.openBrackets-=e.opened},t.removeFilterRow=function removeFilterRow(e,t){!function copyRemovedFilterRowBrackets(e,t){let n;const r=e.indexOf(t);t.openBrackets?(n=e[r+1],n&&addOpenBrackets(n,t.openBrackets)):t.closeBrackets&&(n=e[r-1],n&&addCloseBrackets(n,t.closeBrackets));n&&reduceBrackets(n)}(e,t),e.splice(e.indexOf(t),1)},t.copyRowPropsFromView=function copyRowPropsFromView(e,t,n,r){if(!e||!t)return{hasChanges:!1,activeCellValueChanged:!1};const o=Object.keys(t.cells).reduce(((o,a)=>{const l=e[a];if(!l)return o;const d=t.cells[a],c=copyValueIfDifferent(l,d,"value");let u=copyValueIfDifferent(l,d,"readOnly")||c;if(u=copyValueIfDifferent(l,d,"error")||u,u=copyValueIfDifferent(l,d,"errorLevel")||u,c){const e=n.find((e=>e.field===a));e&&(d.cellText=getColumnDisplayText(e,d.value,d)),d.changed=!0}return{hasChanges:c||o.hasChanges,activeCellValueChanged:o.activeCellValueChanged||a===r&&c}}),{hasChanges:!1,activeCellValueChanged:!1});return o.hasChanges&&(t.changed=!0),o},t.getCollectionData=function getCollectionData(e,t,r,o){var a;return n.__awaiter(this,void 0,void 0,(function*(){const n={view:r.name,columns:[],refreshColumns:!0,generateColumns:l.GridColumnGeneration.None,fastFilterByAllFields:!0,filterRows:[],parameters:null==o?void 0:o.parameters,suppressSelection:!1,gridDataUrl:null==o?void 0:o.gridDataUrl,preserveSortsAndFilters:!0,refreshFilters:!1,isRequestOwner:!1,pagerMode:void 0===(null==o?void 0:o.count)?l.GridPagerMode.InfiniteScroll:l.GridPagerMode.NextPrevFirstLast,startRow:null!==(a=null==o?void 0:o.startIndex)&&void 0!==a?a:0,pageSize:null==o?void 0:o.count},d=yield e.getGridData(t,n);return d.rows&&d.columns?d.rows.map((e=>{var t;return null===(t=d.columns)||void 0===t?void 0:t.reduce(((t,n)=>{var r;const o=n.field,a=e.cells[o],l=null!==(r=null==a?void 0:a.href)&&void 0!==r?r:null==a?void 0:a.value;return"string"==typeof l?t[o]=l:"object"==typeof l&&l&&void 0!==l.id&&(t[o]=l.id),t}),{})})):[]}))}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/qp-filter-bar":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-dialog"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("aurelia-framework"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/controls/compound/grid/grid-helper.js"),n("client-controls/controls/compound/grid/dialogs/columns-list-dialog"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g){"use strict";var m;Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterBarCustomElement=void 0;let f=m=class QpFilterBarCustomElement{constructor(e,t,n,r,o,a){this.element=e,this.bindingEngine=t,this.eventAggregator=n,this.dialogService=r,this.container=o,this.tq=a,this.msg=p.Messages,this.filterSetupVM=void 0,this.filterEditorVM=void 0,this.btnFilterSaveOptions=[{type:"MenuButton",text:this.msg.GridSaveAs,commandName:"SaveAsFilter",images:{normal:"main@Save"}},{type:"MenuButton",text:this.msg.GridOpenAdvFilter,commandName:"Advanced",images:{normal:"svg:main@advancedFilter"}},{type:"MenuButton",text:this.msg.GridEditFilter,commandName:"Setup",images:{normal:"svg:main@edit"}},{type:"MenuButton",text:this.msg.GridDeleteFilter,commandName:"Remove",images:{normal:"main@Remove"}}],this.btnAddFilterConfig={imageUrl:"ac@keyboard_arrow_down"},this.btnFilterSaveConfig={images:{normal:"svg:main@dots"},options:this.btnFilterSaveOptions,hideOpener:!0},this.btnSaveConfig={text:this.msg.GridSaveFilter,hidden:!this.isFilterRetained()}}focusFastFilter(){var e;null===(e=this.fastFilterVM)||void 0===e||e.elemText.focus()}raiseOnFilterEvent(){this.onFilterChanged&&this.onFilterChanged({filter:this.fastFilter,filterID:this.filterId})}setCommandsState(){this.btnSaveConfig.hidden=!this.isFilterRetained();const e=!this.isClientFilter()&&this.isCurrentFilterEditable(),t=this.btnFilterSaveConfig.options;t[2].disabled=t[3].disabled=!e}filterIdChanged(e,t){this.setCommandsState(),t&&this.raiseOnFilterEvent()}filtersChanged(){this.setCommandsState()}filterRowsChanged(){this.filterText=this.isAdvancedFilter()?(0,c.getFilterDisplayText)(this.filterRows,this.config.columns):""}isDirtyFilterChanged(e,t){this.btnSaveConfig.hidden=!this.isFilterRetained()}dragColumnChanged(e){this.dragInfo=e?{field:e.field,targetIndex:void 0}:void 0}onSortApplied(e,t){this.onSortChanged&&this.onSortChanged({col:e,sort:t})}onFilterRowApplied(e,t){var n;const r=this.getFilterRow(e.field);r?t=(0,c.copyFilterRow)(r,t):t&&(null===(n=this.filterRows)||void 0===n||n.push(t)),this.onFilterRowChanged&&this.onFilterRowChanged({col:e,filter:t})}onFilterRowDeleted(e){var t;const n=this.getFilterRow(e.field);null!=n&&(null===(t=this.filterRows)||void 0===t||t.splice(this.filterRows.indexOf(n),1)),this.onFilterRowRemoved&&this.onFilterRowRemoved({col:e})}onFilterRowsSetChanged(e=!1){this.isDirtyFilter=!0,this.onRowsSetChanged&&this.onRowsSetChanged({refresh:e})}processFilterFavoriteChanged(e,t){var n;null===(n=this.onFilterFavoriteChanged)||void 0===n||n.call(this,{filterID:e,isFavorite:t})}getActiveFilter(){var e;return null===(e=this.filters)||void 0===e?void 0:e.find((e=>e.filterID===this.filterId))}isClientFilter(e){const t=e||this.filterId;return!t||t<=m.minFilterID}isFilterRetained(){return this.isClientFilter()||this.isDirtyFilter}isCurrentFilterEditable(){const e=this.getActiveFilter();return!(!e||this.isClientFilter(e.filterID))&&!(e.isSystem||e.isShared&&!0!==this.config.isSharedEditable)}getColumn(e){var t;return null===(t=this.config.columns)||void 0===t?void 0:t.find((t=>(0,g.compareStrings)(t.field,e,!0)))}getFilterRow(e){var t;return null===(t=this.filterRows)||void 0===t?void 0:t.slice().reverse().find((t=>(0,g.compareStrings)(t.field,e,!0)))}getFilterRowIndex(e){var t;const n=this.getFilterRow(e);return n?null===(t=this.filterRows)||void 0===t?void 0:t.indexOf(n):-1}setFilterID(e){this.filterId!==e&&(this.filterId=e,this.raiseOnFilterEvent())}isAdvancedFilter(e){return e||(e=this.filterRows),(0,c.isAdvancedFilter)(e)}removeFiltersBrackets(e){e||(e=this.filterRows),null==e||e.forEach((e=>e.openBrackets=e.closeBrackets=void 0))}processFilterMenu(e){switch(e.detail.commandName){case"SaveAsFilter":case"Setup":this.showFilterSettings("SaveAsFilter"===e.detail.commandName);break;case"Remove":this.onFilterRemove&&l.PLATFORM.global.confirm(this.msg.GridRemoveFilterWarn)&&this.onFilterRemove({filterID:this.filterId});break;case"Save":this.processSaveFilter();break;case"Advanced":this.showAdvancedFilter()}}showFilterSettings(e){var t;let n=this.getActiveFilter();this.isClientFilter(null==n?void 0:n.filterID)&&(n=Object.assign({},n),n.filterName="");const r={id:`${this.config.id}_pnlSaveF`,filter:n,isSharedEditable:this.config.isSharedEditable,saveAs:e};null===(t=this.filterSetupVM)||void 0===t||t.open(r).whenClosed((t=>{!t.wasCancelled&&this.onFilterSave&&this.onFilterSave({filter:t.output,createNew:e})}))}showAdvancedFilter(){var e;const t={id:`${this.config.id}_filter_editor`,columns:this.config.columns,filterRows:this.filterRows};null===(e=this.filterEditorVM)||void 0===e||e.open(t).whenClosed((e=>{if(!e.wasCancelled){const t=e.output;this.isAdvancedFilter(t)||this.removeFiltersBrackets(t),this.filterRows.splice(0,this.filterRows.length,...t),this.filterRowsChanged(),this.onFilterRowsSetChanged(!0)}}))}processSaveFilter(){const e=this.getActiveFilter();this.onFilterSave&&e&&(this.isClientFilter(e.filterID)?this.showFilterSettings(!0):this.onFilterSave({filter:e,createNew:!1}))}processFastFilter(e){this.fastFilter=e,this.raiseOnFilterEvent()}processFastFilterKeyDown(e){return!this.onFastFilterKeyDown||this.onFastFilterKeyDown({ev:e})}processFilterHeaderClick(e,t){this.setFilterID(t.filterID)}processAddFilterClick(e){let t=e.target;for(;"BUTTON"!==t.tagName;)t=t.parentElement;const n=new Set(this.filterRows.map((e=>{var t;return null===(t=e.field)||void 0===t?void 0:t.toLowerCase()}))),r={attachTo:t,columns:this.config.columns.filter((e=>{var t;return!n.has(null===(t=e.field)||void 0===t?void 0:t.toLowerCase())})),showAdvancedLink:!0,id:this.config.id};this.dialogService.open({viewModel:u.ColumnsListDialog,model:r,lock:!1,childContainer:this.container.createChild()}).whenClosed((e=>{if(!e.wasCancelled&&e.output){const t=e.output;t&&"object"==typeof t?this.filterRows.find((e=>e.field===t.field))||(this.filterRows.push({field:t.field,text:this.msg.GridAll}),this.onFilterRowsSetChanged()):this.showAdvancedFilter()}}))}processDragStart(e,t){return this.dragInfo={field:t.field,targetIndex:void 0},this.bodyDropSubscription=this.eventAggregator.subscribe(h.DROP_ON_BODY,(e=>this.processDropOnBody(e))),!0}processDragOver(e,t){if(this.createColDragInfo(),this.dragInfo&&this.dragInfo.field!==t.field){const n=this.elemFiltersWrap.querySelectorAll("qp-filter-button")[this.filterRows.indexOf(t)],r=n.getBoundingClientRect(),o=this.elemFiltersWrap.getBoundingClientRect(),a=r.left-o.left,d=r.right-o.left,c=2,u=e.clientX<r.left+r.width/c;let p=this.getFilterRowIndex(t.field)+(u?0:1);const h=this.getFilterRowIndex(this.dragInfo.field);h>=0&&p>h&&p--;let g=(u?a:d)-this.elemArrowDown.offsetWidth/c;if(p>0){const e=l.PLATFORM.global.getComputedStyle(n);if(e.marginLeft||e.marginRight){const t=(e.marginLeft?parseInt(e.marginLeft):0)+(e.marginRight?parseInt(e.marginRight):0);g+=(u?-t:t)/c}}this.elemArrowUp.style.left=this.elemArrowDown.style.left=`${g}px`,this.dragInfo.targetIndex=p===h?void 0:p}else this.dragInfo&&(this.dragInfo.targetIndex=void 0);e.stopPropagation()}processDragOverBar(e){var t;this.dragInfo&&null!=this.dragInfo.targetIndex||(this.createColDragInfo(),0===(null===(t=this.filterRows)||void 0===t?void 0:t.length)&&(this.dragInfo.targetIndex=0,this.tq.queueTask((()=>{const e=this.elemAddFilterBtn.offsetLeft-this.elemArrowUp.offsetWidth/2;this.elemArrowUp.style.left=this.elemArrowDown.style.left=`${e}px`}))))}processDragLeave(e){this.dragInfo&&!this.elemFiltersWrap.contains(e.relatedTarget)&&(this.dragInfo.targetIndex=void 0)}processDrop(e){if(this.dragInfo){const e=this.dragInfo.targetIndex,t=this.dragInfo.field,n=this.getFilterRowIndex(t);void 0!==e&&(n<0?this.filterRows.splice(e,0,{field:t,text:this.msg.GridAll}):this.filterRows.splice(e,0,this.filterRows.splice(n,1)[0]),this.onFilterRowsSetChanged()),this.dragInfo=void 0}}processDropOnBody(e){var t;if(!this.elemFiltersWrap.contains(e.target)&&this.dragInfo){const e=this.getColumn(this.dragInfo.field);e&&this.onFilterRowDeleted(e)}null===(t=this.bodyDropSubscription)||void 0===t||t.dispose(),this.bodyDropSubscription=void 0}createColDragInfo(){!this.dragInfo&&this.dragColumn&&(this.dragInfo={field:this.dragColumn.field,targetIndex:void 0})}get showDragArrows(){return!!this.dragInfo&&void 0!==this.dragInfo.targetIndex}};f.clientFilterID="00000000-0000-0000-0000-000000000000",f.minFilterID="00000000-0000-0000-0000-000000000010",n.__decorate([a.bindable,n.__metadata("design:type",Object)],f.prototype,"config",void 0),n.__decorate([a.bindable,n.__metadata("design:type",String)],f.prototype,"fastFilter",void 0),n.__decorate([a.bindable,n.__metadata("design:type",String)],f.prototype,"filterId",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Array)],f.prototype,"filters",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Array)],f.prototype,"filterRows",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Boolean)],f.prototype,"isDirtyFilter",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Object)],f.prototype,"dragColumn",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],f.prototype,"onSortChanged",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],f.prototype,"onFilterChanged",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],f.prototype,"onFilterSave",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],f.prototype,"onFilterRemove",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],f.prototype,"onFiltersOrderChanged",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],f.prototype,"onFilterFavoriteChanged",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],f.prototype,"onFilterRowChanged",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],f.prototype,"onFilterRowRemoved",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],f.prototype,"onRowsSetChanged",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],f.prototype,"onFastFilterKeyDown",void 0),n.__decorate([(0,a.computedFrom)("dragInfo","dragInfo.targetIndex"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],f.prototype,"showDragArrows",null),f=m=n.__decorate([a.autoinject,n.__metadata("design:paramtypes",[Element,a.BindingEngine,d.EventAggregator,r.DialogService,o.Container,a.TaskQueue])],f),t.QpFilterBarCustomElement=f}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/qp-filter-editor":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-dialog"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js"),n("client-controls/controls/compound/grid/dialogs/columns-list-dialog"),n("./node_modules/client-controls/controls/compound/grid/grid-helper.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterNode=t.QpFilterEditorCustomElement=void 0;let c=class QpFilterEditorCustomElement{constructor(e){this.dialogService=e,this.hoverNodes=[]}filterRowsChanged(){this.buildFilterRowsTree()}processHierarchyChanged(){this.buildFilterRowsTree()}buildFilterRowsTree(){let e=this.rootNode;if(null==e&&(e=this.rootNode=new FilterNode),e.items.splice(0,e.items.length),this.filterRows){(0,d.normalizeBrackets)(this.filterRows);for(const t of this.filterRows)if(t.openBrackets>0){let n=t.openBrackets;for(;n-- >0;)e.items.push(e=new FilterNode(e));e.items.push(t)}else if(t.closeBrackets>0){let n=t.closeBrackets;for(e.items.push(t);n-- >0&&e.parent;)0===n&&(e.orOperator=t.orOperator),e=e.parent}else e.items.push(t)}}processFilterRowDelete(e){(0,d.removeFilterRow)(this.filterRows,e),this.buildFilterRowsTree()}processFilterNodeDelete(e){const t=e.getFirstCondition(),n=e.getLastCondition(),r=this.filterRows.indexOf(t),o=this.filterRows.indexOf(n);let a=0,l=0;for(let e=r;e<=o;e++){const t=this.filterRows[e];t.openBrackets&&(a+=t.openBrackets),t.closeBrackets&&(l+=t.closeBrackets)}const c=a>l?a-l:0,u=l>a?l-a:0;if(c>0||u>0){const t=e.parent.items;if(c>0){const n=t[t.indexOf(e)+1],r=n instanceof FilterNode?n.getFirstCondition():n;r&&((0,d.addOpenBrackets)(r,c),(0,d.reduceBrackets)(r))}if(u>0){const n=t[t.indexOf(e)-1],r=n instanceof FilterNode?n.getLastCondition():n;r&&((0,d.addCloseBrackets)(r,u),(0,d.reduceBrackets)(r))}}this.filterRows.splice(r,o-r+1),this.buildFilterRowsTree()}processFilterRowInsert(e,t,n){const r=e?this.filterRows.indexOf(e):-1,o=new a.GridFilterRow;o.field=t.field,o.text=(0,d.getFilterRowDisplayText)(o,t),n&&(null==e?void 0:e.closeBrackets)&&(o.closeBrackets=n,e.closeBrackets-=n),this.filterRows.splice(r+1,0,o),this.buildFilterRowsTree()}processNewItemClick(e){let t=e.target;"DIV"!==t.tagName&&(t=t.parentElement);const n={attachTo:t,columns:this.columns,id:this.id};this.dialogService.open({viewModel:l.ColumnsListDialog,model:n,lock:!1}).whenClosed((e=>{!e.wasCancelled&&e.output&&this.processFilterRowInsert(void 0,e.output)}))}processNodeMouseMove(e,t){const n=this.hoverNodes,r="mouse-hover";t?(e.removeAttribute(r),n.pop()):(n.length&&n[n.length-1].removeAttribute(r),n.push(e)),n.length&&n[n.length-1].setAttribute(r,"")}};n.__decorate([o.bindable,n.__metadata("design:type",String)],c.prototype,"id",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Array)],c.prototype,"filterRows",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Array)],c.prototype,"columns",void 0),c=n.__decorate([(0,o.customElement)("qp-filter-editor"),o.autoinject,n.__metadata("design:paramtypes",[r.DialogService])],c),t.QpFilterEditorCustomElement=c;class FilterNode{constructor(e){this.items=[],this.parent=e}getFirstCondition(){let e=this;do{e=e.items[0]}while(e instanceof FilterNode);return e}getLastCondition(){let e=this;do{e=e.items[e.items.length-1]}while(e instanceof FilterNode);return e}getLevel(){let e=this.parent,t=-1;for(;e;)e=e.parent,t++;return t}}t.FilterNode=FilterNode}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/qp-grid":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/preferences/index.js"),n("./node_modules/client-controls/services/preferences/index.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/services/localization.js"),n("aurelia-framework"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/controls/compound/grid/grid-api-client.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("aurelia-dialog"),n("client-controls/controls/compound/grid/dialogs/filter-dialog"),n("client-controls/controls/compound/grid/qp-filter-bar"),n("./node_modules/client-controls/controls/compound/grid/grid-helper.js"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/services/alert-service.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/descriptors/types.js"),n("./node_modules/client-controls/utils/index.js"),n("aurelia-framework"),n("client-controls/controls/dialog/alert/qp-alert"),n("client-controls/controls/compound/tool-bar/qp-tool-bar"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("client-controls/controls/compound/grid/dialogs/import-dialog"),n("./node_modules/client-controls/services/translation-service.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m,f,v,b,y,_,x,C,S,E,k,T,M,q){"use strict";var I;Object.defineProperty(t,"__esModule",{value:!0}),t.GridPreferences=t.GridPreferencesPair=t.GridPreferencesMerger=t.QpGridActionEventArgs=t.QpGridEventArgs=t.QpGridCustomElement=void 0;let A=I=class QpGridCustomElement{constructor(e,t,n,r,o,l,d,c,u,p,h,g,m,f,v,b){this.element=e,this.screenService=t,this.tq=r,this.bindingEngine=o,this.dialogService=l,this.eventAggregator=d,this.redirector=c,this.alertService=u,this.container=h,this.preferencesService=g,this.evaluator=m,this.eventManager=f,this.busyCounter=v,this.translationService=b,this.viewMode=x.ViewMode.View,this.resultType="GridData",this.Msg=a.Messages,this.NotesKey="Notes",this.FilesKey="Files",this.debounceState={delay:500,timeoutId:void 0},this.subscriptions=new Array,this.colsSubscriptions=new Array,this.loadingStatus="in-sync",this.layoutLoaded=!1,this.filtersLoaded=!1,this.hasSavedLayout=!1,this.isSavingLayout=!1,this.rowsHidden=!1,this.pageAdjusted=!1,this.awaitColsGeneration=!1,this.showFilterBar=!1,this.manualColumnsConfig={},this.visibleCols=new Array,this.editMode=!1,this.updateEditorValue=!1,this.updateEditorState=!1,this.updateRowsCount=!1,this.allowUpdate=!1,this.allowDelete=!1,this.allowInsert=!1,this.allowImport=!1,this.allowFastFilter=!1,this.activeRowIndex=-1,this.activeCellIndex=0,this.changedPrefs=new Map,this.noteDialogView={},this.noteDialogVM=void 0,this.inlineEditorVM=void 0,this.filesDialogVM=void 0,this.hasFilesColumn=!1,this.gridPreferencesMerger=new GridPreferencesMerger,this.pagerBarConfigL={id:"",disableMenu:!0,items:{first:{config:Object.assign(Object.assign({},(0,k.NewMenuButton)("firstPage")),{commandName:"firstPage",imageUrl:"main@PageFirst",toolTip:this.Msg.GridFirstPage,disabled:!0})},prev:{config:Object.assign(Object.assign({},(0,k.NewMenuButton)("prevPage")),{commandName:"prevPage",imageUrl:"main@PagePrev",toolTip:this.Msg.GridPrevPage,disabled:!0})}},styleChanged:!1},this.pagerBarConfigR={id:"",disableMenu:!0,items:{next:{config:Object.assign(Object.assign({},(0,k.NewMenuButton)("nextPage")),{commandName:"nextPage",imageUrl:"main@PageNext",toolTip:this.Msg.GridNextPage,disabled:!0})},last:{config:Object.assign(Object.assign({},(0,k.NewMenuButton)("lastPage")),{commandName:"lastPage",imageUrl:"main@PageLast",toolTip:this.Msg.GridLastPage,disabled:!0})}},styleChanged:!1},this.apiClient=n,this.templateColumns=p.elementInstruction.columns,this.id=this.element.getAttribute("id")||"",this.preferencesManager=new GridPreferencesManager(g,this.setFavoriteInFilters.bind(this)),t.isValid&&(this.viewName=this.element.getAttribute("view.bind")||void 0,this.viewName&&(this.componentSubscription=t.registerDataComponent(this.viewName,this),this.id=this.id||`${this.viewName}_grid`,this.translationService.addTranslationsProcessor(this.viewName,this.setCellTranslation.bind(this)))),this.topBarConfig={id:"",disableMenu:!0,items:{refresh:{index:-90,config:Object.assign(Object.assign({},(0,k.NewMenuButton)("refresh")),{commandName:"refresh",images:{normal:"main@Refresh"},toolTip:this.Msg.GridRefresh,isSystem:!0,showInToolbar:!0,target:this.element,text:"Refresh"})},insert:{index:-60,config:Object.assign(Object.assign({},(0,k.NewMenuButton)("insert")),{commandName:"insert",images:{normal:"main@RecordAdd"},toolTip:this.Msg.GridAddRow,isSystem:!0,showInToolbar:!0,target:this.element,hidden:!0,text:"Add Row"})},delete:{index:-50,config:Object.assign(Object.assign({},(0,k.NewMenuButton)("delete")),{commandName:"delete",images:{normal:"main@RecordDel"},toolTip:this.Msg.GridDeleteRow,isSystem:!0,showInToolbar:!0,target:this.element,hidden:!0,text:"Delete Row"})},adjust:{config:Object.assign(Object.assign({},(0,k.NewMenuButton)("adjust")),{commandName:"adjust",images:{normal:"main@Adjust"},toolTip:this.Msg.GridFitToScreen,isSystem:!0,showInToolbar:!0,target:this.element,text:"Fit to Screen"})},exportToExcel:{config:Object.assign(Object.assign({},(0,k.NewMenuButton)("exportToExcel")),{commandName:"exportToExcel",images:{normal:"main@Excel"},toolTip:this.Msg.GridExportToExcel,isSystem:!0,showInToolbar:!0,target:this.element,text:"Export to Excel"})},import:{config:Object.assign(Object.assign({},(0,k.NewMenuButton)("import")),{commandName:"import",images:{normal:"main@Upload"},isSystem:!0,showInToolbar:!0,target:this.element,hidden:!0,text:this.Msg.LoadRecordsFromFile,toolTip:this.Msg.LoadRecordsFromFile})},filter:{config:Object.assign(Object.assign({},(0,k.NewMenuButton)("filter")),{commandName:"filter",images:{normal:"svg:main@filter"},toolTip:this.Msg.GridFilterSetup,isSystem:!0,showInToolbar:!0,target:this.element,hidden:!0,text:"Filter Settings",toggleMode:!0,pushed:!1})}},styleChanged:!1,changed:!1},this.btnToggleFilterConfig={id:"",enabled:!0,toggleMode:!0,toolTip:this.Msg.GridFilterSetup,tabIndex:-1,displayIconAndText:!0},this.domEvents=new S.ElementEvents(this.element),this.domEvents.subscribe("buttonpressed",(e=>this.processToolBarClick(e)))}bind(e,t){var n,r;if(this.config||(this.config={}),this.config.columns||(this.config.columns=[]),this.id&&this.config.id&&this.id!==this.config.id&&(alert(`IDs conflict in qp-grid: ${this.id} != ${this.config.id}`),console.error(`IDs conflict in qp-grid: ${this.id} != ${this.config.id}`)),this.id=this.id||this.config.id||"",this.id||(alert("ID is not given to qp-grid. "),console.error("ID is not given to qp-grid. ")),this.btnToggleFilterConfig.id=`${this.id}_toggleFilter`,this.topBarConfig.id=`${this.id}_topBar`,this.pagerBarConfigL.id=`${this.id}_pagerL`,this.pagerBarConfigR.id=`${this.id}_pagerR`,this.linkedWithView()){const e=_.PXReflectionMetadata.getMetadata(null===(n=this.view)||void 0===n?void 0:n.instanceType,"gridConfig"),t=_.PXReflectionMetadata.getMetadata(this.screenService.model,this.viewName,"gridConfig"),o=!!this.config.hasOwnProperty("mergeToolbarWith");(t||e)&&Object.assign(this.config,null!=t?t:e),o&&(this.config.mergeToolbarWith=void 0),(null===(r=this.view)||void 0===r?void 0:r.config)&&Object.assign(this.config,this.view.config)}this.config.preset&&(0,C.deepMerge)(this.config,!1,(0,_.getGridPereset)(this.config.preset)),(0,C.applyDefaultValues)(this.config,I.defaultConfig),this.config.preset||console.error(`preset is not specified for the grid with id="${this.id}"`),this.config.id=this.id,this.config.autoAdjustColumns&&(this.config.autoSaveLayout=!1),this.config.autoGrowInHeight&&(this.config.adjustPageSize=!1),this.allowUpdate=!!this.config.allowUpdate,this.allowDelete=!!this.config.allowDelete,this.allowInsert=!!this.config.allowInsert,this.adjustPagerMode();const o=this.config.columns;if(this.templateColumns){const t=new Array;this.templateColumns.map((n=>{const r={};for(const t of Object.getOwnPropertyNames(n))if("bindableProps"!==t)r[t]=n[t];else for(const o of Object.getOwnPropertyNames(n[t]))r[o]=this.evaluator.evaluate(n[t][o],e);t.push(r)})),o.splice(o.length,0,...t)}this.manualColumnsConfig=Object.fromEntries(o.map((e=>[(0,v.getColumnKey)(e),Object.assign({},e)]))),this.columns=o.map((e=>Object.assign({},e))),this.columns.forEach((e=>(0,C.applyDefaultValues)(e,I.defaultColumnConfig))),this.allowFastFilter=this.isFastFilterEnabled(),this.filterBarConfig={id:this.config.id,columns:this.columns,hideHeaders:!0,isSharedFiltersEditable:this.isSharedFiltersEditable,allowStoredFilters:this.config.allowStoredFilters,showFastFilter:this.allowFastFilter&&this.config.showFastFilter===_.GridFastFilterVisibility.FilterBar},this.showFilterBar=this.config.showFilterBar===_.GridFilterBarVisibility.Always,this.topBarConfig.disableMenu=!this.config.wrapToolbar,this.initialTopBarConfigItems=this.topBarConfig.items,this.config.topBarItems&&(this.topBarConfig.items=Object.assign(Object.assign({},this.config.topBarItems),this.topBarConfig.items),this.topBarConfig.changed=!0),this.injectToolbarIntoScreenOne(),this.noteDialogConfig={view:this.getViewName()},this.filesDialogConfig={graph:this.getGraphName(),view:this.getViewName(),id:"pnlFilesDialog"},this.fillVisibleColumns(),this.createSubscriptions(),this.linkedWithView()&&(this.preferencesService.subscribe(this.gridId,this),this.preferencesService.registerMerger("grid",this.gridPreferencesMerger),this.preferencesManager.subscribe(this.getScreenID(),this.gridId)),this.linkedWithView()&&!this.config.screenId||this.refresh()}attached(){this.rowsPromise||this.linkedWithView()||this.refresh(),h.browser.isAnyIE&&this.tq.queueTask((()=>{this.createSubscriptions(),(0,C.applyDefaultValues)(this.config,I.defaultConfig)}))}detached(){var e;this.componentSubscription&&this.componentSubscription.dispose(),this.clearSubscriptions(),this.preferencesService.unsubscribe(this.gridId),null===(e=this.elemFastFilter)||void 0===e||e.removeEventListener("input",this.fastFilterHandler)}applyPreferences(e){var t,n,o,a,l,d;this.preferences=e,this.hasSavedLayout=this.viewMode===x.ViewMode.View&&!!(null===(o=null===(n=null===(t=this.preferences)||void 0===t?void 0:t.user)||void 0===n?void 0:n.columns)||void 0===o?void 0:o.length)||this.viewMode===x.ViewMode.Edit&&!!(null===(d=null===(l=null===(a=this.preferences)||void 0===a?void 0:a.def)||void 0===l?void 0:l.columns)||void 0===d?void 0:d.length),this.isSavingLayout||(this.viewMode===x.ViewMode.Edit?this.fillPreferences(r.PreferenceLoadMode.onlyDefault,!0):(this.changedPrefs.clear(),this.fillPreferences(r.PreferenceLoadMode.merged,!0)))}createSubscriptions(){var e;this.clearSubscriptions();const t=this.bindingEngine.collectionObserver(this.columns).subscribe((()=>this.fillVisibleColumns()));this.subscriptions.push(t),this.linkedWithView()&&this.view&&this.subscriptions.push(this.bindingEngine.propertyObserver(this.view,"activeRowChanged").subscribe((()=>this.updateActiveRowFromView()))),this.createColsSubscriptions(),(this.needAdjustPage()||(null===(e=this.config)||void 0===e?void 0:e.autoAdjustColumns))&&this.subscriptions.push(this.eventAggregator.subscribe(_.RESIZE_WINDOW,(()=>this.resizeWindowHandler()))),this.config.fastFilterId&&this.subscriptions.push(this.eventAggregator.subscribe("screen-initialized",(()=>this.attachFastFilterEditor())))}createColsSubscriptions(){this.clearColsSubscriptions();const func=()=>this.fillVisibleColumns();this.columns.forEach((e=>{const t=this.bindingEngine.propertyObserver(e,"visible").subscribe(func);this.colsSubscriptions.push(t)}))}attachFastFilterEditor(){this.config.fastFilterId&&(this.elemFastFilter=document.getElementById(this.config.fastFilterId),this.elemFastFilter&&(this.fastFilterHandler||(this.fastFilterHandler=this.applyFastFilter.bind(this)),this.elemFastFilter.addEventListener("input",this.fastFilterHandler)))}clearSubscriptions(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[],this.clearColsSubscriptions()}clearColsSubscriptions(){this.colsSubscriptions.forEach((e=>e.dispose())),this.colsSubscriptions=[]}getScreenID(){var e;return this.config.screenId?this.config.screenId:(null===(e=this.screenService)||void 0===e?void 0:e.isValid)?this.screenService.siteMapScreenID?this.screenService.siteMapScreenID:this.screenService.screenID:(0,C.getScreenID)()}getViewName(){var e;return(null===(e=this.config)||void 0===e?void 0:e.view)||this.viewName}getGraphName(){var e,t;return(null===(e=this.config)||void 0===e?void 0:e.graph)||(null===(t=this.screenService.getGraphInfo())||void 0===t?void 0:t.graphType)}linkedWithView(){return!!this.viewName&&this.screenService.isValid}getRows(e=!1,t=!1){return n.__awaiter(this,void 0,void 0,(function*(){if(this.rowsPromise||!this.config)return this.rowsPromise;this.busyCounter.increment();this.config;const n=this.getQueryParams(void 0,e);this.exitEditMode(!1),t&&(this.storeScrollPosition(),this.rowsHidden=!0);const clearState=()=>{this.loadingStatus="in-sync",delete this.rowsPromise},r=this.dataSource?this.dataSource:this.apiClient.getGridData.bind(this.apiClient);return this.loadingStatus="loading",this.rowsPromise=r(this.getScreenID(),n).then((t=>{t&&this.setComponentData(t,e),clearState()}),(e=>clearState())).finally((()=>{this.busyCounter.decrement()})),this.rowsPromise}))}exportToExcel(){return n.__awaiter(this,void 0,void 0,(function*(){const e=1e3;let t=this.config.exportRowsLimit;if(t&&this.totalRowCount>t){if((yield this.alertService.openAlert({title:a.Messages.ExportToExcelGlobalLimitExceededBtnWarning,message:(0,l.Format)(a.Messages.ExportToExcelInquiryLimitExceeded,t.toString()),buttons:E.QpAlertButtons.OkCancel}))===E.QpAlertResults.Cancel)return}else if(this.totalRowCount>e){const n=yield this.alertService.openAlert({title:a.Messages.ExportToExcelGlobalLimitExceededBtnWarning,message:(0,l.Format)(a.Messages.ExportToExcelGlobalLimitExceeded,e.toString()),buttons:E.QpAlertButtons.YesNoCancel,yesButtonText:a.Messages.ExportToExcelGlobalLimitExceededBtnApply,noButtonText:a.Messages.ExportToExcelGlobalLimitExceededBtnIgnore});if(n===E.QpAlertResults.Cancel)return;n===E.QpAlertResults.Yes&&(t=e)}const n=this.getQueryParams();if(t&&(n.exportRowsCount=t),this.isAllRecordsFilter()){const e=this.columns.filter((e=>null!=e.filter)).map((e=>e.filter));e.length>0&&(n.filterRows=e)}this.exitEditMode(!1),this.apiClient.exportToExcel(this.getScreenID(),n).then((()=>{this.screenService.update()}))}))}import(){return n.__awaiter(this,void 0,void 0,(function*(){const e=this.getViewName();if(!e)return;this.cancelActiveRowChanges();const t={id:this.id,viewName:e,graphType:this.screenService.getGraphInfo().graphType};return yield M.ImportRecordsDialog.Execute(this.container,t)}))}refresh(e=!1){return n.__awaiter(this,void 0,void 0,(function*(){return this.getRows(!1,e)}))}search(e,t){null!=e&&this.config.pagerMode!==_.GridPagerMode.InfiniteScroll&&(this.searchField=t,this.searchValue=e,this.setPageIndex(0),this.refresh(),this.config.pagerMode>1&&this.clearSearch())}getQueryParams(e,t=!1){var n;const r=this.config.generateColumns===_.GridColumnGeneration.Recreate||this.config.generateColumns===_.GridColumnGeneration.Append||this.config.generateColumns===_.GridColumnGeneration.AppendDynamic,o=I.defaultColumnConfig,a=(r?this.config.columns:this.columns).map((e=>{var t,n;const r=null===(t=this.changedPrefs.get((0,v.getColumnKey)(e)))||void 0===t?void 0:t.visible,a=this.manualColumnsConfig[(0,v.getColumnKey)(e)],l=null!==(n=null==a?void 0:a.allowShowHide)&&void 0!==n?n:e.allowShowHide!==o.allowShowHide?e.allowShowHide:void 0;return{field:e.field,key:e.key,fullState:e.fullState,visible:r,type:e.type===o.type?void 0:e.type,allowFastFilter:null==a?void 0:a.allowFastFilter,allowShowHide:l,sortDirection:e.sortDirection,generated:e.generated,nullText:e.nullText,format:null==a?void 0:a.format,timeMode:null==a?void 0:a.timeMode,suppressExport:e.suppressExport,textField:null==a?void 0:a.textField,displayMode:null==a?void 0:a.displayMode}})),l=t?this.rows.length:0,d=this.config,c=d.allowStoredFilters?void 0:this.columns.filter((e=>null!=e.filter)).map((e=>e.filter));let u=!1;this.needAdjustPage()&&(this.pageAdjusted?this.adjustPageSize():u=!0);const p=null===(n=null==e?void 0:e.commitChanges)||void 0===n||n;this.config.generateColumns&&(this.awaitColsGeneration=!0);return Object.assign(Object.assign({},this.getBaseQueryParams()),{columns:a,refreshColumns:!this.layoutLoaded||r,generateColumns:d.generateColumns,generateColumnsAfterSelect:d.generateColumnsAfterSelect,generateProcessColumns:d.generateProcessColumns,suppressSelection:u||this.suppressSelection,pagerMode:d.pagerMode,startRow:l,searchValue:this.searchValue,searchField:this.searchField,dataKey:d.syncPosition?this.getRowDataKey(this.getActiveRow()):void 0,pageIndex:this.pageIndex,pageSize:d.pageSize,parameters:d.parameters,preserveSortsAndFilters:d.preserveSortsAndFilters,syncPosition:d.syncPosition,suppressNoteFiles:d.suppressNoteFiles,refreshFilters:!1!==d.allowStoredFilters&&!this.filtersLoaded,fastFilterByAllFields:d.fastFilterByAllFields,fastFilter:this.fastFilter,filterID:this.filterID,filterRows:c,quickFilterFields:this.isAllRecordsFilter()?d.quickFilterFields:void 0,filterView:d.filterView,filterRowsView:d.filterRowsView,changes:p?this.getDataChanges():void 0,isRequestOwner:(null==e?void 0:e.requestOwner)===this.id,gridDataUrl:this.config.gridDataUrl,dataField:this.config.dataField})}getDataChanges(){var e;let t;return this.commitActiveRowChanges(!1),null===(e=this.rows)||void 0===e||e.forEach(((e,n)=>{var r;if(!e.status||e.status===_.GridRowStatus.New)return;const o=e.id&&(null===(r=this.additionalRowChanges)||void 0===r?void 0:r[e.id])||{id:e.id,index:n,values:[]};for(const t in e.cells){const n=e.cells[t],r=this.dataKeyNames.includes(t);(n.changed||n.errorLevel===_.PXErrorLevel.Error||r)&&o.values.push({field:t,value:(0,v.getRawCellValue)(n.value),oldValue:r?(0,v.getRawCellValue)(n.oldValue):void 0})}switch(t||(t={}),e.status){case _.GridRowStatus.Deleted:t.deleted||(t.deleted=[]),t.deleted.push(o);break;case _.GridRowStatus.Inserted:t.inserted||(t.inserted=[]),t.inserted.push(o);break;case _.GridRowStatus.Modified:t.modified||(t.modified=[]),t.modified.push(o)}})),this.additionalRowChanges=void 0,t}setComponentData(e,t=!1){var n,r,o,a;if(e.commitResult)return void this.applyCommitResult(e.commitResult);if(this.suppressSelection)return;const l=this.config;this.columns;if(e.columns?(this.initializeColumns(e.columns),this.initialColumns=this.columns.map((e=>Object.assign({},e))),this.createSubscriptions(),this.subscribeScreenConfigurator(),this.config.generateColumns&&!this.awaitColsGeneration||(this.layoutLoaded=!0,this.awaitColsGeneration=!1),this.allowFastFilter=this.isFastFilterEnabled()):e.colsProps&&(e.colsProps.forEach((e=>{const t=this.getColumn((0,v.getColumnKey)(e));t&&this.copyColumnProps(t,e)})),this.updateInitialColumns()),this.fillPreferences(this.preferencesMode),this.config.autoAdjustColumns&&(this.tq.flushing||this.tq.flushMicroTaskQueue(),this.adjustColumns(!1)),l.hidden=e.hidden,void 0!==e.allowUpdate&&(this.allowUpdate=e.allowUpdate&&!1!==l.allowUpdate),void 0!==e.allowDelete&&(this.allowDelete=e.allowDelete&&!1!==l.allowDelete),void 0!==e.allowInsert&&(this.allowInsert=e.allowInsert&&!1!==l.allowInsert),void 0!==e.allowImport&&(this.allowImport=e.allowImport&&!1!==l.allowImport),void 0!==e.allowStoredFilters&&!1!==l.allowStoredFilters&&(l.allowStoredFilters=e.allowStoredFilters,this.filterBarConfig.allowStoredFilters=e.allowStoredFilters),this.filterBarConfig.showFastFilter=this.allowFastFilter&&this.config.showFastFilter===_.GridFastFilterVisibility.FilterBar,e.dataKeyNames&&(this.dataKeyNames=e.dataKeyNames),(null===(n=e.quickFilterFields)||void 0===n?void 0:n.length)&&(this.config.quickFilterFields=e.quickFilterFields),void 0!==e.fastFilter&&(this.fastFilter=e.fastFilter),l.allowStoredFilters&&this.syncFiltersState(e),this.needAdjustPage()&&!this.pageAdjusted&&this.layoutLoaded)return this.adjustPageSize(),void(!this.screenService.initialized&&this.screenService.isValid||this.tq.queueTask((()=>this.getRows())));if(this.totalRowCount=e.totalRowCount,this.pageIndex=null!==(r=e.pageIndex)&&void 0!==r?r:0,this.isFirstPage=e.isFirstPage,this.isLastPage=e.isLastPage,this.pagesCount=this.getPagesCount(),this.endEdit(!0),this.rows=t?this.rows.concat(e.rows):e.rows?e.rows:[],this.setActiveRowFlag(this.activeRowIndex,!0),this.rowsHidden=!1,this.updateRowsCount=!this.updateRowsCount,this.adjustActiveRowIndex(),this.setTopBarButtonsState(),this.setPagerButtonsState(),this.searchValue&&(0===this.pageIndex||-1===this.pageIndex)){const e=this.getSearchField();e&&this.findRow(e,this.searchValue)}e.clearSearch&&this.clearSearch(),this.linkedWithView()&&(null===(o=this.view)||void 0===o||o.setRows(this.rows,this.columns),null===(a=this.view)||void 0===a||a.setActiveRow(this.hasRows?this.activeRowIndex:void 0)),this.fireActiveRowChanged(),this.tq.flushMicroTaskQueue(),this.tq.flushTaskQueue(),this.config.autoAdjustColumns&&this.adjustColumns(!1),this.restoreScrollPosition(),this.onDataReady&&this.onDataReady({grid:this,args:new QpGridEventArgs(this)}),this.needAdjustPage()&&this.layoutLoaded&&this.tq.queueTask((()=>this.adjustPage()))}applyCommitResult(e){var t,n,r;null===(t=e.inserted)||void 0===t||t.forEach((e=>this.commitRowChanges(e))),null===(n=e.modified)||void 0===n||n.forEach((e=>this.commitRowChanges(e)));let o=!1;null===(r=e.deleted)||void 0===r||r.reverse().forEach((e=>{e.affected?(this.deleteRow(e.index),o=!0):this.commitRowChanges(e)})),!this.adjustActiveRowIndex()&&o&&this.fireActiveRowChanged(),this.setTopBarButtonsState()}commitRowChanges(e,t){var n;const r=t||this.rows[e.index];if(null==r)return;const o=this.checkActiveCellEditorChanges(),a=this.rowIsWaitingForUpdate(r);a&&(delete r.waitRefetch,delete r.waitInit);const l=this.editMode&&e.index===this.activeRowIndex&&this.linkedWithView()&&this.view;for(const t in e.cells){const n=e.cells[t],o=r.cells[t],d=o.cellText,c=o.value;a&&o.manualInput&&(n.value=c,n.cellText=d),l&&n.hasOwnProperty("value")&&this.setActiveRowFieldValue(t,n.value);const u=this.getColumn(t);(null==u?void 0:u.state)&&Object.assign(o,u.state),Object.assign(o,n)}this.editMode&&e.index===this.activeRowIndex&&!o&&(this.updateEditorState=!this.updateEditorState,null===(n=this.inlineEditorVM)||void 0===n||n.selectContent()),this.editMode&&e.index===this.activeRowIndex&&this.config.autoRepaint&&(this.currentDataKey=this.getRowDataKey(r)),a||this.clearRowManualInput(r),this.clearRowChanges(r),r.status!==_.GridRowStatus.New&&(r.status=_.GridRowStatus.NotSet),r.error=e.error,r.errorLevel=e.errorLevel,this.forceRepaintRow(),this.view.fireRowsChanged()}syncFiltersState(e){var t;this.filtersLoaded;e.filters&&(this.filters=e.filters,this.setFavoriteInFilters(),null===(t=this.onFiltersChanged)||void 0===t||t.call(this,{args:new QpGridEventArgs(this)}),this.isSharedFiltersEditable=e.isSharedFiltersEditable,this.filtersLoaded=!0,this.filterBarConfig&&(this.filterBarConfig.isSharedEditable=this.isSharedFiltersEditable)),null!=e.filterID&&(this.filterID=e.filterID),null==this.filterID&&this.filters.length>0&&(this.filterID=this.filters[0].filterID),this.isDirtyFilter=e.isDirtyFilter,this.filterRows=e.filterRows||[],this.hasFilter=this.filterRows.some((e=>!(0,v.isEmptyFilter)(e))),this.isAdvancedFilter=(0,v.isAdvancedFilter)(this.filterRows),this.columns.forEach((e=>this.setColumnFilter(e)))}setFavoriteInFilters(){var e;const t=this.preferencesManager.favoriteFilters;null===(e=this.filters)||void 0===e||e.forEach((e=>e.isFavorite=null==t?void 0:t.includes(e.filterID)))}initializeColumns(e){const t=this.columns,n=this.config.generateColumns;n&&t.splice(0,t.length),this.config.suppressNoteFiles&&(e=e.filter((e=>e.key!==this.NotesKey&&e.key!==this.FilesKey))),this.onFilterColumns&&(e=e.filter((e=>this.onFilterColumns({col:e}))));const r=t.length>0;e.forEach(((e,o)=>{var a;const l=this.getColumn((0,v.getColumnKey)(e));if(l){const n=t.indexOf(l);n!==o&&(o>n&&o--,t.splice(o,0,t.splice(n,1)[0])),this.copyColumnInitialProps(l,e),this.copyColumnProps(l,e)}else if(n!==_.GridColumnGeneration.None||!r||e.generated){(0,C.applyDefaultValues)(e,I.defaultColumnConfig);const n=this.getColumnConfig(e);n&&(this.needSyncVisibleWithState(n)||(null===(a=e.state)||void 0===a?void 0:a.skip)||(e.visible=!0),Object.assign(e,n),this.updateManualColumnConfig((0,v.getColumnKey)(e),n)),t.splice(o>t.length?t.length:o,0,e)}}))}copyColumnInitialProps(e,t){const n=this.manualColumnsConfig[(0,v.getColumnKey)(e)];void 0!==t.type&&void 0===(null==n?void 0:n.type)&&(e.type=t.type),void 0!==t.caption&&void 0===(null==n?void 0:n.caption)&&(e.caption=t.caption),void 0!==t.dataType&&(e.dataType=t.dataType),void 0!==t.width&&void 0===(null==n?void 0:n.width)&&(e.width=t.width),void 0!==t.textAlign&&void 0===(null==n?void 0:n.textAlign)&&(e.textAlign=t.textAlign),void 0!==t.timeMode&&void 0===(null==n?void 0:n.timeMode)&&(e.timeMode=t.timeMode),void 0!==t.dateMask&&void 0===(null==n?void 0:n.dateMask)&&(e.dateMask=t.dateMask),void 0!==t.viewName&&(e.viewName=t.viewName),void 0!==t.maxLength&&void 0===(null==n?void 0:n.maxLength)&&(e.maxLength=t.maxLength),void 0!==t.valueItems&&void 0===(null==n?void 0:n.valueItems)&&(e.valueItems=t.valueItems),void 0!==t.commitChanges&&void 0===(null==n?void 0:n.commitChanges)&&(e.commitChanges=t.commitChanges),void 0!==t.allowNull&&(e.allowNull=t.allowNull),void 0!==t.allowFastFilter&&void 0===(null==n?void 0:n.allowFastFilter)&&(e.allowFastFilter=t.allowFastFilter),void 0!==t.allowShowHide&&void 0===(null==n?void 0:n.allowShowHide)&&(e.allowShowHide=t.allowShowHide),void 0!==t.generated&&(e.generated=t.generated),void 0!==t.suppressExport&&void 0===(null==n?void 0:n.suppressExport)&&(e.suppressExport=t.suppressExport),e.state||this.initColumnState(e,t.state)}copyColumnProps(e,t){const n=this.manualColumnsConfig[(0,v.getColumnKey)(e)];void 0!==t.visible&&this.needSyncVisibleWithState(e)&&(e.visible=t.visible),void 0!==t.required&&(e.required=t.required),void 0!==t.allowUpdate&&(e.allowUpdate=t.allowUpdate),void 0!==t.format&&void 0===(null==n?void 0:n.format)&&(e.format=t.format),void 0!==t.decimals&&void 0===(null==n?void 0:n.decimals)&&(e.decimals=t.decimals),void 0!==t.sortDirection&&(e.sortDirection=t.sortDirection),void 0!==t.valueItems&&(e.valueItems=t.valueItems),this.updateColumnState(e,t)}initColumnState(e,t){var n;if(e.state=(0,_.createFieldState)(void 0,e.field,null!==(n=null==t?void 0:t.stateType)&&void 0!==n?n:"default",null==t?void 0:t.args),t&&(Object.assign(e.state,t),e.state.applyOptions(),e.state.skip&&(e.visible=!1,e.allowShowHide=_.GridColumnShowHideMode.Client)),this.view){const t=this.view.getMetadataKeys(e.field);t&&t.forEach((t=>e.state[t]=this.view.getMetadata(e.field,t)))}}updateColumnState(e,t){e.state&&(void 0!==t.visible&&this.needSyncVisibleWithState(e)&&(e.state.visible=t.visible),void 0!==t.required&&(e.state.required=t.required),void 0!==t.allowUpdate&&(e.state.readOnly=!t.allowUpdate),void 0!==t.format&&(e.state.inputMask=t.format),void 0!==t.decimals&&(e.state.precision=t.decimals))}getColumnConfig(e){var t,n;const r=(0,v.getColumnKey)(e),o=null===(t=this.config.columnsConfig)||void 0===t?void 0:t.find((e=>(0,C.compareStrings)((0,v.getColumnKey)(e),r,!0)));e.state&&this.initColumnState(e,e.state);const a=null===(n=e.state)||void 0===n?void 0:n.columnConfig;return o||a?Object.assign(Object.assign({},o),a):void 0}needSyncVisibleWithState(e){return e.allowShowHide!==_.GridColumnShowHideMode.Client&&e.allowShowHide!==_.GridColumnShowHideMode.False}updateManualColumnConfig(e,t){if(t){let n=this.manualColumnsConfig[e];n||(this.manualColumnsConfig[e]=n={field:e}),Object.assign(n,t)}}getMoreRows(e,t,n){this.config.pagerMode===_.GridPagerMode.InfiniteScroll&&t&&!this.isLastPage&&this.getRows(!0)}rowsChanged(){const e=this.elemContentWrap;e&&this.tq.queueMicroTask((()=>this.hasVScroll=e.scrollHeight>e.offsetHeight))}get hasRows(){return this.rows&&this.rows.length>0}get isInfiniteScrollAllowed(){return this.config.pagerMode===_.GridPagerMode.InfiniteScroll&&!this.config.adjustPageSize}get isFilterBarAllowed(){return!!this.config.allowFilter&&!!this.config.showFilterBar&&!!this.config.allowStoredFilters}get showBottomBar(){return this.showPager||this.showRecordsCounter||!!this.statusText}get showPager(){var e;let t=this.config.pagerMode!==_.GridPagerMode.InfiniteScroll&&(null!==(e=this.config.pageSize)&&void 0!==e?e:0)>=0;return t&&!this.config.adjustPageSize&&(t=!this.isFirstPage||!this.isLastPage),t}get showRecordsCounter(){return this.config.pagerMode===_.GridPagerMode.Numeric&&this.hasRows}adjustPagerMode(){this.isInfiniteScrollAllowed||this.config.pagerMode!==_.GridPagerMode.InfiniteScroll||(this.config.pagerMode=I.defaultConfig.pagerMode)}get gridId(){return this.getViewName()||this.id}getColumn(e){return this.columns.find((t=>(0,C.compareStrings)((0,v.getColumnKey)(t),e,!0)))}getColumnIndex(e){return this.columns.findIndex((t=>(0,C.compareStrings)((0,v.getColumnKey)(t),e,!0)))}getColumnVisibleIndex(e){return this.visibleCols.findIndex((t=>(0,C.compareStrings)((0,v.getColumnKey)(t),e,!0)))}getColumnKey(e){return(0,v.getColumnKey)(e)}getColumnDisplayText(e,t){return(0,v.getColumnDisplayText)(e,t)}focus(){this.elemContentWrap.focus()}setSortDirection(e,t){this.columns.forEach((t=>{t!==e&&(t.sortDirection=void 0)})),this.clearSearch(),e.sortDirection=t,this.refresh()}switchSortDirection(e){if(this.config.allowSort&&(null==e?void 0:e.allowSort)){let t=e.sortDirection;switch(e.sortDirection){case _.SortDirection.Ascending:t=_.SortDirection.Descending;break;case _.SortDirection.Descending:t=_.SortDirection.None;break;default:t=_.SortDirection.Ascending}this.setSortDirection(e,t)}}selectRowsRange(e,t){if(void 0!==t&&t<e){const n=e;e=t,t=n}let n=e;do{this.setRowSelected(n++,!0)}while(void 0!==t&&n<=t)}setRowSelected(e,t){const n=this.rows[e],r=!!(null==n?void 0:n.selected);n&&t!==r&&(n.selected=t,this.forceRepaintRow(e))}clearRowsSelection(){var e;null===(e=this.rows)||void 0===e||e.forEach(((e,t)=>{e.selected&&(e.selected=!1,this.forceRepaintRow(t))}))}saveLayout(){var e,t,r;return n.__awaiter(this,void 0,void 0,(function*(){if(!this.linkedWithView())return;const n=this.viewMode===x.ViewMode.Edit?null===(e=this.preferences)||void 0===e?void 0:e.def:null===(t=this.preferences)||void 0===t?void 0:t.user;let o=0;const a=null===(r=this.columns)||void 0===r?void 0:r.map((e=>{var t,r,a,l,d,c,u,p,h;const g=(0,v.getColumnKey)(e),m=null!==(r=null===(t=this.changedPrefs.get(g))||void 0===t?void 0:t.visible)&&void 0!==r?r:null===(a=this.getColumnPreferences(e,null==n?void 0:n.columns))||void 0===a?void 0:a.visible,f=null!==(d=null===(l=this.changedPrefs.get(g))||void 0===l?void 0:l.skipTab)&&void 0!==d?d:null===(c=this.getColumnPreferences(e,null==n?void 0:n.columns))||void 0===c?void 0:c.skipTab,b=null!==(p=null===(u=this.changedPrefs.get(g))||void 0===u?void 0:u.width)&&void 0!==p?p:null===(h=this.getColumnPreferences(e,null==n?void 0:n.columns))||void 0===h?void 0:h.width;return{dataField:g,visible:m,order:o++,width:b,sortOrder:e.sortDirection,skipTab:f}})),l=new GridPreferences;l.columns=a,this.isSavingLayout=!0,this.viewMode===x.ViewMode.Edit?(this.preferencesService.setPreferences(this.gridId,l,"def"),this.isSavingLayout=!1):this.preferencesService.saveUserPreferences(this.getScreenID(),this.gridId,l).then((e=>{e&&(this.changedPrefs.clear(),this.config.autoAdjustColumns&&this.adjustColumns(!1))})).finally((()=>this.isSavingLayout=!1))}))}resetLayout(){return n.__awaiter(this,void 0,void 0,(function*(){this.linkedWithView()&&this.hasSavedLayout&&(this.viewMode===x.ViewMode.Edit?(this.preferencesService.setPreferences(this.gridId,new GridPreferences,"def"),this.changedPrefs.clear()):(yield this.preferencesService.saveUserPreferences(this.getScreenID(),this.gridId,new GridPreferences),this.changedPrefs.clear(),this.needAdjustPage()?this.adjustPage():this.config.autoAdjustColumns&&this.adjustColumns(!1)))}))}navigate(e,t){return n.__awaiter(this,void 0,void 0,(function*(){const n=Object.assign(Object.assign(Object.assign({},this.getBaseQueryParams()),{syncPosition:this.config.syncPosition,parameters:this.config.parameters,dataKey:this.config.syncPosition?this.getRowDataKey(this.getActiveRow()):void 0}),{field:e.field,value:(0,v.getRawCellValue)(t)});if(n.dataView=n.view,n.view=e.viewName,n.field&&n.value){const e=yield this.apiClient.navigate(this.getScreenID(),n);e&&this.redirector.openUrl(e,"",!1,!0)}}))}adjustActiveRowIndex(){if(this.hasRows){if(this.activeRowIndex<0)this.activeRowIndex=0;else if(this.activeRowIndex>=this.rows.length)return this.setActiveRowIndex(this.rows.length-1),!0}else this.activeRowIndex=-1;return!1}adjustActiveCellIndex(){var e;(0===this.activeCellIndex||this.activeCellIndex>=(null===(e=this.visibleCols)||void 0===e?void 0:e.length))&&(this.activeCellIndex=this.getAdjoiningCellIndex(!1,-1)||0)}setActiveRowIndex(e,t=!1,n){var r;if(e!==this.activeRowIndex){if(!this.onBeforeRowChange(e))return;if(t){const t=this.getRowElem(e);if(t)this.scrollIntoView(t,_.ScrollMode.Vertical);else{const t=this.elemRows.querySelector("tr[data-index]");t&&(this.elemContentWrap.scrollTop=t.offsetHeight*e,this.tq.flushMicroTaskQueue())}}this.activeRowIndex=e,void 0!==n&&(this.activeCellIndex=n),this.setTopBarButtonsState(),this.linkedWithView()&&(null===(r=this.view)||void 0===r||r.setActiveRow(this.activeRowIndex)),this.fireActiveRowChanged()}else void 0!==n&&this.setActiveCellIndex(n,t)}onBeforeRowChange(e){return this.editMode&&this.commitActiveRowChanges(),!0}fireActiveRowChanged(){let e;if(this.onActiveRowChanged&&this.onActiveRowChanged({args:new QpGridEventArgs(this)}),this.config.autoRepaint instanceof _.ScreenUpdateParams?e=this.config.autoRepaint:this.config.autoRepaint&&(e=new _.ScreenUpdateParams({views:this.config.autoRepaint})),e&&this.screenService.initialized){const t=this.getRowDataKey(this.getActiveRow());if(JSON.stringify(this.currentDataKey)!==JSON.stringify(t)){const n=this.getViewName();if(n&&e.views){e.views.find((e=>(0,C.compareStrings)(e,n,!0)))||e.views.push(n)}this.currentDataKey=t,this.suppressSelection=!0,this.screenService.update(void 0,e).finally((()=>this.suppressSelection=!1))}}}getActiveRow(){return this.hasRows?this.rows[this.activeRowIndex]:void 0}getActiveCell(){var e;const t=this.getActiveColumn();return t?null===(e=this.getActiveRow())||void 0===e?void 0:e.cells[t.field]:void 0}getActiveColumn(){return this.visibleCols[this.activeCellIndex]}getCell(e,t){return null==t?void 0:t.cells[this.getColumnKey(e)]}setActiveCellIndex(e,t=!0){if(this.activeCellIndex!==e){if(!this.onBeforeCellChange(e))return;if(t){const t=this.getRowElem(this.activeRowIndex),n=0===e||!this.getAdjoiningCellIndex(this.editMode,e,!0),r=null==t?void 0:t.cells[n?0:this.getColumnCellIndex(e)];this.scrollIntoView(r)}this.activeCellIndex=e,this.setTopBarButtonsState()}}onBeforeCellChange(e){return this.editMode&&this.commitActiveCellChanges(!0),!0}getNextRowIndex(){let e=this.activeRowIndex;return e<this.rows.length-1?++e:void 0}getPrevRowIndex(){let e=this.activeRowIndex;return e>0?--e:void 0}getNextCellIndex(e=!1){return this.getAdjoiningCellIndex(e,this.activeCellIndex,!1)}getPrevCellIndex(e=!1){return this.getAdjoiningCellIndex(e,this.activeCellIndex,!0)}getAdjoiningCellIndex(e,t,n=!1){const r=n?-1:1;let o,a=t;const l=this.getActiveRow();for(;n&&a>0||!n&&a<this.visibleCols.length-1;){o=this.visibleCols[a+=r];const t=this.getCell(o,l);if(o.allowFocus&&(!e||!this.isCellReadOnly(t,o)&&!o.skipTab))break}return a===t||!(null==o?void 0:o.allowFocus)||(null==o?void 0:o.skipTab)?void 0:a}beginEdit(){if(!this.editMode&&this.activeRowIndex>=0){const e=this.isNewRowActive;(e&&this.allowInsert||!e&&this.allowUpdate)&&(this.editMode=!0,this.view&&(this.view.viewInUpdateProcess=!0))}}endEdit(e=!1){this.editMode&&(e?this.cancelActiveRowChanges():this.commitActiveRowChanges(),this.exitEditMode(),this.adjustActiveRowIndex())}exitEditMode(e=!0){this.editMode&&(this.editMode=!1,this.view&&(this.view.viewInUpdateProcess=!1),this.activeCellState=void 0,e&&this.focus())}cancelActiveRowChanges(){const e=this.getActiveRow();e&&this.editMode&&(e.status===_.GridRowStatus.New?this.deleteActiveRow(!1):this.clearRowChanges(e,!0))}commitActiveRowChanges(e){const t=this.getActiveRow();if(t&&this.editMode){this.commitActiveCellChanges();let n=t.changed;n&&t.waitRefetch&&(n=this.rowHasManualInputChanges(t)),n?this.updateActiveRow(e):t.status===_.GridRowStatus.New&&this.deleteActiveRow(!1,e)}}commitActiveCellChanges(e=!1){const t=this.activeCellState;if(!this.editMode||!t||t.readOnly)return;const n=this.getActiveRow(),r=this.getActiveColumn();n&&r&&(this.forceCellEditorUpdate(),this.updateCellValue(n,r,t.value,e))}checkActiveCellEditorChanges(){const e=this.activeCellState;if(!this.editMode||!e||e.readOnly)return!1;const t=this.getActiveRow(),n=this.getActiveColumn();if(t&&n&&this.rowIsWaitingForUpdate(t)){const r=t.cells[(0,v.getColumnKey)(n)];if(!r||r.readOnly)return!1;this.forceCellEditorUpdate();const o=this.getTypedCellValue(r,n);if(r&&!this.valuesEquals(o,e.value))return r.manualInput=!0}return!1}clearRowChanges(e,t=!1){let n=!1;for(const r of this.visibleCols){const o=e.cells[(0,v.getColumnKey)(r)];o.changed&&(t&&this.cancelCellChanges(o,r),o.manualInput?n=!0:(delete o.oldValue,delete o.changed))}n||delete e.changed}cancelCellChanges(e,t){void 0!==e.oldValue&&this.setCellValue(e,t,e.oldValue),delete e.manualInput}updateCellValue(e,t,n,r=!1){const o=e.cells[(0,v.getColumnKey)(t)];if(!o||this.isCellReadOnly(o,t))return!1;const a=this.getTypedCellValue(o,t);if(o&&!this.valuesEquals(a,n)){void 0===o.oldValue&&(o.oldValue=a),o.changed=e.changed=!0;const l=this.rowIsWaitingForUpdate(e);return this.setCellValue(o,t,n),l&&(o.manualInput=!0),r&&t.commitChanges&&this.updateRow(e),!0}return!1}setCellValue(e,t,n){e.value=n,e.cellText=(0,v.getColumnDisplayText)(t,n,e),this.setActiveRowFieldValue(t.field,n)}switchCheckState(e,t,n){this.cellIsCheckBox(e,t)&&!this.isCellReadOnly(e,t)&&(this.editMode?this.updateCellValue(n,t,!e.value,!0):(t.allowCheckAll||this.allowUpdate)&&this.updateCellValue(n,t,!e.value)&&this.updateRow(n))}switchColumnCheckState(e,t){var n;if(!e.allowUpdate)return;let r=!1;const o=this.config.batchUpdate;e.checked=void 0!==t?t:!e.checked,this.config.batchUpdate||(this.config.batchUpdate=!0,this.isMassUpdating=!0),null===(n=this.rows)||void 0===n||n.forEach((t=>{this.updateCellValue(t,e,e.checked)&&(this.updateRow(t),r=!0)})),this.config.batchUpdate=o,this.isMassUpdating=void 0,r&&!o&&this.updateScreen()}setActiveRowFieldValue(e,t){var n,r;if(!this.linkedWithView()||!(null===(r=null===(n=this.view)||void 0===n?void 0:n.activeRow)||void 0===r?void 0:r.hasOwnProperty(e)))return;const o=this.view.activeRow[e];o&&(o.value=t)}forceCellEditorUpdate(){this.updateEditorValue=!0,this.tq.flushing||this.tq.flushMicroTaskQueue(),this.updateEditorValue=!1}getCurrentEditorType(){var e;return null===(e=this.inlineEditorVM)||void 0===e?void 0:e.getControlType()}clearRowManualInput(e){for(const t of this.visibleCols){const n=e.cells[(0,v.getColumnKey)(t)];n&&delete n.manualInput}}rowHasManualInputChanges(e){let t=!1;if(e.changed&&e.waitRefetch)for(const n of this.visibleCols){const r=e.cells[(0,v.getColumnKey)(n)];if(r.changed&&r.manualInput){t=!0;break}}return t}rowIsWaitingForUpdate(e){return!(!e.waitInit&&!e.waitRefetch)}deleteActiveRow(e=!0,t){if(this.hasRows&&this.allowDelete){const n=this.getActiveRow();if(!n)return;void 0===t&&(t=!this.config.batchUpdate),this.editMode&&this.exitEditMode(),this.isClientNewRow(n)?(this.deleteRow(this.activeRowIndex),e&&(this.adjustActiveRowIndex()||this.fireActiveRowChanged())):(n.status=_.GridRowStatus.Deleted,t&&this.updateScreen())}}deleteRow(e){void 0!==e&&e>=0&&(this.rows.splice(e,1),this.setTopBarButtonsState())}deleteSelectedRows(){var e;if(!this.allowDelete)return;if(!this.rows.some((e=>e.selected)))return this.deleteActiveRow();let t=!1;null===(e=this.rows)||void 0===e||e.forEach(((e,n)=>{e.selected&&(this.isClientNewRow(e)?this.deleteRow(n):(e.status=_.GridRowStatus.Deleted,t=!0))})),t&&(this.isMassUpdating=!0,this.updateScreen().finally((()=>this.isMassUpdating=void 0)))}updateActiveRow(e){if(this.allowUpdate){const t=this.getActiveRow();t&&this.updateRow(t,e)}}updateRow(e,t){e&&e.changed&&(void 0===t&&(t=!this.config.batchUpdate),e.status=this.isClientNewRow(e)?_.GridRowStatus.Inserted:_.GridRowStatus.Modified,t&&(this.rowIsWaitingForUpdate(e)||this.clearRowManualInput(e),e.waitRefetch=!0,this.updateScreen()))}updateScreen(){return this.screenService.model.setDirty(),this.screenService.update(void 0,new _.ScreenUpdateParams({requestOwner:this.id}))}removeAllRows(){var e;if((null===(e=this.rows)||void 0===e?void 0:e.length)&&this.allowDelete){for(const e of this.rows)e.status=_.GridRowStatus.Deleted;this.updateScreen()}}addNewRow(e=!0,t=!1){if(!this.allowInsert)return;if(this.screenService.callbackRunning)return void this.screenService.registerPostponedTask((()=>this.addNewRow(e,t)));const n=t?this.activeRowIndex:this.rows.length,r=this.createNewRow();r.index=n,this.rows.splice(n,0,r),this.tq.flushMicroTaskQueue(),t||this.getRowElem(n)||(this.elemContentWrap.scrollTop=this.elemContentWrap.scrollHeight,this.tq.flushMicroTaskQueue());const o=e?this.getAdjoiningCellIndex(!0,-1):void 0;this.setActiveRowIndex(n,!0,o),this.editMode||this.beginEdit(),this.config.initNewRow&&this.initNewRow(),this.setTopBarButtonsState();const a=new CustomEvent("virtual-repeat-scroller-size-changed",{bubbles:!1});this.elemContentWrap.dispatchEvent(a)}createNewRow(){const e={status:_.GridRowStatus.New,cells:{}};return this.columns.forEach((t=>{const n=t.field||t.key;if(n){const r=(0,v.getColumnDefaultValue)(t),o=new _.GridCell;t.state&&Object.assign(o,t.state),o.value=r,o.cellText=(0,v.getColumnDisplayText)(t,r),o.readOnly=!t.allowUpdate,e.cells[n]=o}})),e}initNewRow(){const e=this.getActiveRow();if(e&&e.status===_.GridRowStatus.New){const t=this.columns.map((e=>({field:e.field,key:e.key,type:e.type,fullState:e.fullState,nullText:e.nullText}))),n={id:e.id,index:e.index,values:[]};for(const t in e.cells){const r=e.cells[t];null!=r.value&&n.values.push({field:t,value:r.value})}const r=Object.assign(Object.assign({},this.getBaseQueryParams()),{columns:t,row:n});e.waitInit=!0,this.apiClient.initNewGridRow(this.getScreenID(),r).then((t=>{t&&(e.id=t.id,this.commitRowChanges(t,e))}))}}isClientNewRow(e){return e.status===_.GridRowStatus.New&&!this.config.initNewRow}get isNewRowActive(){const e=this.getActiveRow();return(null==e?void 0:e.status)===_.GridRowStatus.New}get createNewAllowed(){var e;return this.allowInsert&&(!this.isNewRowActive||(null===(e=this.getActiveRow())||void 0===e?void 0:e.changed))}get freeHeight(){return this.elemContentWrap.clientHeight-this.elemRows.clientHeight}get freeWidth(){return this.elemContentWrap.clientWidth-this.elemRows.clientWidth}processEditKeyDown(e){switch(e.key){case"Escape":return this.endEdit(!0),!1;case"Right":case"ArrowRight":case"Left":case"ArrowLeft":case"Home":case"End":case"Insert":case"Delete":case"PageDown":case"PageUp":e.stopPropagation();break;case"Enter":e.ctrlKey?this.endEdit():e.altKey||(this.processEditorTabKey(e.shiftKey),e.stopPropagation());break;case"Tab":return this.processEditorTabKey(e.shiftKey),e.stopPropagation(),!1}return!0}processEditorTabKey(e=!1){var t;let n=e?this.getPrevCellIndex(!0):this.getNextCellIndex(!0);if(void 0===n){const t=e?this.getPrevRowIndex():this.getNextRowIndex();void 0!==t&&t!==this.activeRowIndex&&(n=this.getAdjoiningCellIndex(!0,e?this.visibleCols.length:-1,e),this.setActiveRowIndex(t,!1,n))}void 0!==n?this.setActiveCellIndex(n):!e&&this.allowInsert&&(this.commitActiveCellChanges(),this.isNewRowActive&&!(null===(t=this.getActiveRow())||void 0===t?void 0:t.changed)||this.addNewRow())}processDropDownSelected(e){const t=this.getNextCellIndex(!0);void 0!==t?this.setActiveCellIndex(t):this.commitActiveCellChanges(!0)}getBaseQueryParams(){return{view:this.getViewName()}}getRawCellValue(e){return(0,v.getRawCellValue)(e)}getCellDataType(e,t){var n;return null!==(n=null==e?void 0:e.type)&&void 0!==n?n:t.dataType}isCellReadOnly(e,t){return null!=(null==e?void 0:e.readOnly)?e.readOnly:!t.allowUpdate}cellIsCheckBox(e,t){return this.getCellDataType(e,t)===_.NetType.Boolean}setActiveCellState(e,t){return this.activeCellState=this.getCellState(e,t)}getCellState(e,t){var n,r,o,a,l,d,c;const u=null!==(o=null!==(n=e.stateType)&&void 0!==n?n:null===(r=t.state)||void 0===r?void 0:r.stateType)&&void 0!==o?o:"default",p=null!==(a=null==e?void 0:e.args)&&void 0!==a?a:null===(l=t.state)||void 0===l?void 0:l.args,h=null===(d=this.view)||void 0===d?void 0:d.activeRow,g=(0,_.createFieldState)(void 0,t.field,u,p);Object.assign(g,t.state),Object.assign(g,e),h&&(h.name=this.viewName),g.view=h,g.applyOptions();const m=null===(c=this.view)||void 0===c?void 0:c.getMetadataKeys(t.field);return m&&m.forEach((e=>g[e]=this.view.getMetadata(t.field,e))),(t.displayMode===_.GridColumnDisplayMode.Text||t.textField&&t.displayMode!==_.GridColumnDisplayMode.Both)&&(g.length=0,g.selectorMode|=_.PXSelectorMode.DisplayModeText),g.readOnly=this.isCellReadOnly(e,t),g.value=this.getTypedCellValue(e,t),g}getTypedCellValue(e,t){return e.value&&e.value.id?e.value:(0,v.getTypedValue)(t,e.value,e.type)}valuesEquals(e,t){return(0,C.equals)((0,C.getRawValue)(e),(0,C.getRawValue)(t))}getRowDataKey(e){if(e){const t={};if(this.dataKeyNames)for(const n of this.dataKeyNames){const r=e.cells[n];t[n]=(0,C.getRawValue)(r.value)}return t}}setTopBarButtonsState(){var e,t;if(!this.config.topBarItems&&this.view&&this.view.actionNames){const e={};this.view.actionNames.forEach((t=>{this.view[t]&&(e[t]={config:{state:this.view[t]}})})),this.topBarConfig.items=Object.assign(Object.assign({},e),this.initialTopBarConfigItems)}const n=this.topBarConfig.items;n.delete.config.hidden=!this.allowDelete,n.insert.config.hidden=!this.allowInsert;const r=this.btnToggleFilterConfig;r.pushed=this.showFilterBar,r.images={normal:"svg:main@filter"+(this.hasFilter?"Little":"")},r.images.pushed=r.images.hover=r.images.normal,this.btnToggleFilterVM&&(this.btnToggleFilterVM.pushed=this.showFilterBar,this.btnToggleFilterVM.styleChanged=!this.btnToggleFilterVM.styleChanged),r.text=this.isAllRecordsFilter()?"":null===(e=this.getActiveFilter())||void 0===e?void 0:e.filterName,n.delete.config.disabled=!this.allowDelete||!this.hasRows,n.insert.config.disabled=!this.createNewAllowed,n.exportToExcel.config.disabled=!(null===(t=this.rows)||void 0===t?void 0:t.length),n.import.config.hidden=!(this.allowImport&&(this.allowInsert||this.allowUpdate)),this.applyActionsConfig(n),this.topBarConfig.changed=!0,this.injectToolbarIntoScreenOne(),this.repaintStatusText()}applyActionsConfig(e){if(this.config.actionsConfig)for(const t in this.config.actionsConfig){if(!e[t])continue;const n=this.config.actionsConfig[t];void 0!==n.index&&(e[t].index=n.index),Object.assign(e[t].config,n)}}repaintStatusText(){if(this.config.statusField){const e=this.getActiveRow();this.statusText=e?e.cells[this.config.statusField].cellText:void 0}}getColHeaderIcon(e,t){if(null!=t){let t="control-Filter";switch(e){case _.SortDirection.Ascending:t+="SortAsc";break;case _.SortDirection.Descending:t+="SortDesc"}return t}return null!=e&&e!==_.SortDirection.None?e===_.SortDirection.Ascending?"control-SortAsc":"control-SortDesc":""}getColAlign(e){switch(e){case _.TextAlign.Center:return"center";case _.TextAlign.Right:return"right";case _.TextAlign.Justify:return"justify"}return null}getRowSelectorImage(e,t,n,r,o){if(r&&o){const e=this.getErrorImage(r,o,!0);if(e)return e}let a=this.activeRowIndex===t?"CurrentRow":"";if(this.config.batchUpdate&&!this.isMassUpdating)switch(n){case _.GridRowStatus.New:a="NewRow";break;case _.GridRowStatus.Inserted:a="RowInserted";break;case _.GridRowStatus.Modified:a="RowModified";break;case _.GridRowStatus.Deleted:a="RowDeleted"}return a}getErrorImage(e,t,n){const r=this.getRowErrorInfo(e,t,!n);switch(null==r?void 0:r.level){case _.PXErrorLevel.Error:case _.PXErrorLevel.RowError:return"Error";case _.PXErrorLevel.Warning:case _.PXErrorLevel.RowWarning:return"Warning";case _.PXErrorLevel.RowInfo:return"Info"}}getRowErrorInfo(e,t,n){let r;if(n)switch(t){case _.PXErrorLevel.Error:case _.PXErrorLevel.Warning:r=e}else switch(t){case _.PXErrorLevel.RowError:case _.PXErrorLevel.RowWarning:case _.PXErrorLevel.RowInfo:r=e}return r?{level:t,text:r}:void 0}getRowErrorLevel(e,t,n){var r;return null===(r=this.getRowErrorInfo(e,t,n))||void 0===r?void 0:r.level}getRowErrorText(e,t,n){var r;return null===(r=this.getRowErrorInfo(e,t,n))||void 0===r?void 0:r.text}getCellRenderType(e,t,n){return this.getCellDataType(t,e)===_.NetType.Boolean?"check-box":e.type===_.GridColumnType.Icon?"icon":e.type===_.GridColumnType.HyperLink||this.hasViewLink(e)&&n?"link":"text"}hasViewLink(e){var t;return e.linkCommand||(null===(t=e.state)||void 0===t?void 0:t.linkCommand)||e.viewName&&!e.hideViewLink}getCellCss(e,t){var n,r,o;if(!this.rows||0===this.rows.length||isNaN(e)||e>=this.rows.length||t>=this.visibleCols.length)return"";let a=this.activeCellIndex===t&&this.activeRowIndex===e?this.editMode?"edit":"active":"";const l=this.rows[e],d=this.visibleCols[t],c=(0,v.getColumnKey)(d),u=l.cells[c];if(!u)return a;switch(u.errorLevel){case _.PXErrorLevel.Error:a+=" error";break;case _.PXErrorLevel.Warning:a+=" warning"}const p=this.getColAlign(d.textAlign);if(a+=p?` qp-align-${p}`:" qp-align-left",!0===this.isCellReadOnly(u,d)&&(a+=" read-only"),u.style&&(a+=` ${u.style}`),t<this.visibleCols.length&&e<this.rows.length&&(null===(n=this.view)||void 0===n?void 0:n.cssCustomization.hasCustomCssHandlers(_.CustomEventType.GetCellCss))){const n=null===(r=this.view)||void 0===r?void 0:r.getRowModel(e),l=null===(o=this.view)||void 0===o?void 0:o.cssCustomization.getCustomCellCss(this.view,c,{rowIndex:e,activeRowIndex:this.activeRowIndex,errorLevel:u.errorLevel,error:u.error,row:n,cellValue:this.getTypedCellValue(u,this.visibleCols[t])});l&&(a+=` ${l}`)}return a}getRowCss(e){var t,n,r,o,a;if(!this.rows||0===this.rows.length)return"";let l=this.activeRowIndex===e?this.editMode?"edit":"active":"";const d=null===(t=this.rows[e])||void 0===t?void 0:t.style;if(d&&(l+=` ${d}`),(null===(n=this.rows[e])||void 0===n?void 0:n.selected)&&(l+=" selected"),e<this.rows.length&&(null===(r=this.view)||void 0===r?void 0:r.cssCustomization.hasCustomCssHandlers(_.CustomEventType.GetRowCss))){const t=null===(o=this.view)||void 0===o?void 0:o.getRowModel(e),n=null===(a=this.view)||void 0===a?void 0:a.cssCustomization.getCustomCss(_.CustomEventType.GetRowCss,this.view,{rowIndex:e,activeRowIndex:this.activeRowIndex,row:t});n&&(l+=` ${n}`)}return l}fillVisibleColumns(){if(void 0===this.columns)return;const e=this.columns.filter((e=>!1!==e.visible));this.visibleCols.splice(0,this.visibleCols.length,...e),this.adjustActiveCellIndex()}fillPreferences(e,t){var n,r,o;if(!(null===(n=this.columns)||void 0===n?void 0:n.length)||!this.preferences)return;t&&(null===(r=this.initialColumns)||void 0===r?void 0:r.length)&&this.restoreInitialColumns();const a=this.getPreferences(e);(null===(o=null==a?void 0:a.columns)||void 0===o?void 0:o.length)&&this.loadColumnsPreferences(this.columns,a.columns)}markFilterText(e,t){return(0,C.markHighlights)(this.getAllowFastFilter(e)?this.fastFilter:"",t)}getAllowFastFilter(e){let t=e.allowFastFilter;return this.config.fastFilterByAllFields&&void 0===t&&e.dataType===_.NetType.String&&(t=!0),t}isFastFilterEnabled(){return this.columns.some((e=>this.getAllowFastFilter(e)))}focusFastFilter(){var e,t;this.topBarFastFilter?null===(e=this.topBarFastFilter.elemText)||void 0===e||e.focus():null===(t=this.filterBarVM)||void 0===t||t.focusFastFilter()}getColumnCellIndex(e){const t="string"==typeof e?this.getColumnVisibleIndex(e):e;return this.config.showRowSelectors?t+1:t}getRowElem(e){return this.elemRows.querySelector(`tr[data-index="${e}"]`)}getColHeaderElem(e){const t="string"==typeof e?void 0:e;return this.elemHeaderTable.tHead.rows[0].cells[this.getColumnCellIndex(null!=t?(0,v.getColumnKey)(t):e)]}scrollIntoView(e,t=_.ScrollMode.Both){e&&(0,C.scrollToView)(this.elemContentWrap,e,t)}fireDefaultAction(){this.onDefaultAction&&this.onDefaultAction({args:new QpGridEventArgs(this)})}execDefaultAction(){this.allowUpdate?this.beginEdit():this.config.defaultAction?this.screenService.executeCommand(this.config.defaultAction):this.fireDefaultAction()}isCellLeftPart(e){let t=e.target;"TH"!==t.tagName&&(t=t.parentElement);const n=t.getBoundingClientRect();return e.clientX+1<n.left+n.width/2}createFakeRow(){const e={cells:{},fake:!0};return this.columns.forEach((t=>{var n,r;const o=t.type===_.GridColumnType.Icon;let a=o?"control@RowNote":"abc";o&&(null===(r=null===(n=t.valueItems)||void 0===n?void 0:n.items)||void 0===r?void 0:r.length)&&(a=(0,v.getColumnDisplayText)(t,(0,v.getTypedValue)(t,t.valueItems.items[0].value)));const l=new _.GridCell;l.value="1",l.cellText=a,l.readOnly=!0,e.cells[(0,v.getColumnKey)(t)]=l})),this.rows=[e],e}clearSearch(){this.searchField=void 0,this.searchValue=void 0}getSearchField(){return this.searchField?this.searchField:this.dataKeyNames?this.dataKeyNames[this.dataKeyNames.length-1]:void 0}findRow(e,t){if(!e||!this.rows)return-1;const n=this.getColumn(e);if(!n)return-1;const r=(0,C.netTypeConvert)(t,n.dataType);let o=!1;const a=n.dataType===_.NetType.String;let l=0;for(;l<this.rows.length;l++){const e=this.rows[l].cells[n.field],t=(0,C.netTypeConvert)((0,C.getRawValue)(e.value),n.dataType);if(o=a?(0,C.compareStrings)(r,t,!0):o=(0,C.equals)(r,t),o)break}return o?(this.setActiveRowIndex(l,!0),l):-1}getActiveFilter(){var e;return null===(e=this.filters)||void 0===e?void 0:e.find((e=>e.filterID===this.filterID))}setActiveFilter(e){this.onFilterApplied(this.fastFilter,e)}getFilters(){return this.filters}isClientFilter(e){const t=e||this.filterID;return!t||t<=f.QpFilterBarCustomElement.minFilterID}isAllRecordsFilter(e){const t=e||this.filterID;return!t||t===f.QpFilterBarCustomElement.clientFilterID}getFilterRow(e){var t;return null===(t=this.filterRows)||void 0===t?void 0:t.slice().reverse().find((t=>(0,C.compareStrings)(t.field,e,!0)))}isEmptyFilter(e){return null==e||null==e.condition||"EQ"===e.condition&&null==e.value}setColumnFilter(e){const t=this.getFilterRow(e.field);e.filter=this.isEmptyFilter(t)?void 0:t}applyFastFilter(e){this.loadingStatus="will-load",clearTimeout(this.debounceState.timeoutId),this.debounceState.timeoutId=setTimeout((()=>{this.onFilterApplied(e.target.value,this.filterID)}),this.debounceState.delay)}applyFilterRow(e,t,n=!1){if(this.config.allowStoredFilters&&this.filterRows){const r=n?void 0:this.getFilterRow(e.field);r?t=(0,v.copyFilterRow)(r,t):t&&(this.isAdvancedFilter&&!(0,v.orOperatorsBraced)(this.filterRows)&&((0,v.addOpenBrackets)(this.filterRows[0],1),(0,v.addCloseBrackets)(this.filterRows[this.filterRows.length-1],1)),this.filterRows.push(t),this.isAdvancedFilter&&(0,v.normalizeBrackets)(this.filterRows))}this.onFilterRowApplied(e,t)}onFilterApplied(e,t){return n.__awaiter(this,void 0,void 0,(function*(){this.fastFilter=e,this.filterID=t,e&&(this.setPageIndex(0),this.clearSearch()),yield this.refresh()}))}onSortApplied(e,t){this.setSortDirection(e,t)}onFilterSave(e,t){this.saveFilter(t,!1,e)}onFilterRemove(e){this.removeFilter(e)}onFilterOrderChanged(){this.saveFiltersOrder()}onFilterFavoriteChanged(e,t){t?this.preferencesManager.addFavouriteFilter(e):this.preferencesManager.deleteFavouriteFilter(e)}onFastFilter(e){return n.__awaiter(this,void 0,void 0,(function*(){yield this.onFilterApplied(e,this.filterID)}))}onFastFilterKeyDown(e){switch(e.key){case"Down":case"ArrowDown":case"Up":case"ArrowUp":case"Enter":case"PageDown":case"PageUp":return this.focus(),this.processKeyDown(e),!1}return!0}onFilterRowApplied(e,t){return n.__awaiter(this,void 0,void 0,(function*(){this.busyCounter.increment();try{e.filter=this.isEmptyFilter(t)?void 0:t,this.config.allowStoredFilters&&(yield this.saveFilter(!1,!0)),this.refresh()}finally{this.busyCounter.decrement()}}))}onFilterRowRemoved(e){return n.__awaiter(this,void 0,void 0,(function*(){e.filter=void 0,yield this.saveFilter(!1,!0),this.refresh()}))}onFilterRowsSetChanged(e){return n.__awaiter(this,void 0,void 0,(function*(){yield this.saveFilter(!1,!0),e&&this.refresh()}))}saveFilter(e=!1,t=!1,r){return n.__awaiter(this,void 0,void 0,(function*(){if(null==r&&(r=this.getActiveFilter()),null==r)return;const n=e||!t,o=n?r.filterName:void 0,a=Object.assign(Object.assign({},this.getBaseQueryParams()),{filterView:this.config.filterView,filterRowsView:this.config.filterRowsView,filterID:r.filterID,filterName:o,isDefault:r.isDefault,isShared:r.isShared,isHidden:r.isHidden,createNew:e,filterRows:t||e?this.filterRows:void 0});return this.apiClient.saveGridFilter(this.getScreenID(),a).then((t=>{var o;if(t){if(e){const e=Object.assign({},r);this.filters.push(e),null===(o=this.onFiltersChanged)||void 0===o||o.call(this,{args:new QpGridEventArgs(this)}),this.filterID=e.filterID=t}else{const e=this.getActiveFilter();null!=e&&Object.assign(e,r)}n&&(this.isDirtyFilter=!1)}}))}))}removeFilter(e){if(this.isClientFilter(e))return;const t=Object.assign(Object.assign({},this.getBaseQueryParams()),{filterView:this.config.filterView,filterRowsView:this.config.filterRowsView,filterID:e});this.apiClient.removeGridFilter(this.getScreenID(),t).then((t=>{var n;if(t){const t=this.filters.findIndex((t=>t.filterID===e));t>=0&&(this.filters.splice(t,1),null===(n=this.onFiltersChanged)||void 0===n||n.call(this,{args:new QpGridEventArgs(this)}),this.setFilterID(this.filters[0].filterID))}}))}saveFiltersOrder(){if(!this.filters||this.filters.length<=1)return;const e=this.filters.slice(1).map((e=>e.filterID)),t=Object.assign(Object.assign({},this.getBaseQueryParams()),{filters:e,filterView:this.config.filterView});this.apiClient.saveGridFiltersOrder(this.getScreenID(),t)}setFilterID(e){this.filterID!==e&&(this.filterID=e,this.refresh())}createColumnFilter(){var e,t;const n=this.getActiveColumn(),r=this.getActiveCell();if(null==n||null==r||!this.filterRows)return;const o=this.getCellDataType(r,n);let a=o===_.NetType.String?"LIKE":"EQ";(null===(t=null===(e=n.valueItems)||void 0===e?void 0:e.items)||void 0===t?void 0:t.length)&&(a="EQ");let l,d=(0,C.getRawValue)(this.getTypedCellValue(r,n));if(o===_.NetType.DateTime){const e="17",t="16";if(n.dateMask&&(n.dateMask.indexOf(e)>-1||n.dateMask.indexOf(t)>-1)){a="BETWEEN";const e=new Date(d).setSeconds(0,0),t=e+6e4;d=(0,C.getInvariantDate)(new Date(e)),l=(0,C.getInvariantDate)(new Date(t))}else d=(0,C.getInvariantDate)(new Date(d),!1)}let c=this.filterRows.slice().reverse();const u=this.filterRows.find((e=>!!e.openBrackets));if(u){const e=c.findIndex((e=>(e.closeBrackets||0)>0));c=e>0?this.filterRows.slice(-e).reverse():void 0}let p=null==c?void 0:c.find((e=>(0,C.compareStrings)(e.field,n.field,!0)&&e.condition===a));if(p||(p=null==c?void 0:c.find((e=>(0,C.compareStrings)(e.field,n.field,!0)))),p)this.valuesEquals(d,p.value)?((0,v.removeFilterRow)(this.filterRows,p),(0,v.normalizeBrackets)(this.filterRows),this.onFilterRowApplied(n,void 0)):(p.condition=a,p.value=d,p.value2=l,this.onFilterRowApplied(n,p));else{const e=new _.GridFilterRow;e.field=(0,v.getColumnKey)(n),e.condition=a,e.value=d,e.value2=l,this.applyFilterRow(n,e,!0)}}processRowsScroll(e){this.elemHeaderWrap.scrollLeft=this.elemContentWrap.scrollLeft}processSelectStart(e){e.preventDefault()}processHeaderCornerClick(e){const t=this.columns,n={id:`${this.config.id}_columns_dialog`,attachTo:this.elemHeaderTable,columns:[...t],hasSavedLayout:this.hasSavedLayout,allowSkipTabs:!!this.config.allowSkipTabs},r=new Map(t.map((e=>[(0,v.getColumnKey)(e),e.visible]))),o=new Map(t.map((e=>[(0,v.getColumnKey)(e),e.skipTab])));this.dialogService.open({viewModel:"client-controls/controls/compound/grid/dialogs/columns-dialog",model:n,lock:!1,childContainer:this.container.createChild()}).whenClosed((e=>{e.wasCancelled||("reset"===e.output?this.resetLayout():(t.splice(0,t.length,...e.output),t.forEach((e=>{e.visible!==r.get((0,v.getColumnKey)(e))&&(this.getChangedPref(e).visible=e.visible),e.skipTab!==o.get((0,v.getColumnKey)(e))&&(this.getChangedPref(e).skipTab=e.skipTab)})),this.focus(),this.saveLayout()))}))}processHeadMouseOver(e,t){this.setResizeHandlePositionFromEvent(e,t)}processHeadMouseMove(e,t){return this.columnToFilter=t,this.setResizeHandlePositionFromEvent(e,t),!0}processHeadMouseOut(e,t){this.columnToFilter=void 0}processHeadClick(e,t){if(0!==e.button||t.allowCheckAll||!t.field)return;let n=e.target;if("TH"!==n.tagName&&(n=n.parentElement),this.config.allowFilter&&t.allowFilter){const e={attachTo:n,id:`${this.config.id}_fd`,column:t,filter:t.filter};this.dialogService.open({viewModel:m.FilterDialog,model:e,lock:!1,childContainer:this.container.createChild()}).whenClosed((e=>{if(!e.wasCancelled&&e.output){const n=e.output;null!=n.sort?this.onSortApplied(t,n.sort):this.applyFilterRow(t,n.filter)}}))}else this.config.allowSort&&t.allowSort&&this.switchSortDirection(t)}processCheckAllClick(e,t){e.stopPropagation(),t.allowUpdate&&this.switchColumnCheckState(t)}processCellClick(e,t,n){var r,o,a,l;const d=e.target,c=this.visibleCols[t];this.processCellClickBase(e,t,n);const u=n.cells[(0,v.getColumnKey)(c)];if(this.cellIsCheckBox(u,c))this.switchCheckState(u,c,n);else if((()=>{let e=d;for(;e&&"TD"!==e.tagName;){if("A"===e.tagName)return!0;e=e.parentNode}})()){const t=null!==(r=c.linkCommand)&&void 0!==r?r:null===(o=c.state)||void 0===o?void 0:o.linkCommand;if(t&&this.screenService.model.actions.has(t)){const n=new _.ScreenUpdateParams({openFrameset:e.shiftKey||e.ctrlKey});this.screenService.executeCommand(t,n)}else u.href?(this.redirector.openUrl(u.href,u.hrefTarget),e.preventDefault()):c.viewName&&this.navigate(c,u.value)}else if(c.key===this.NotesKey){if(this.noteDialogConfig.recordId=null!==(a=n.noteId)&&void 0!==a?a:n.id,this.noteDialogView.noteText=n.note,!this.noteDialogVM)return;this.noteDialogVM.config.screenId=this.getScreenID(),null===(l=this.noteDialogVM.open())||void 0===l||l.whenClosed((e=>{e.wasCancelled||(n.note=this.noteDialogView.noteText,n.cells[c.key].value=n.note?1:0)}))}else c.key===this.FilesKey&&(this.hasFilesColumn=!0,this.filesDialogConfig.recordId=n.id,this.filesDialogConfig.screenId=this.getScreenID(),this.tq.queueMicroTask((()=>{var e;this.filesDialogVM&&(this.filesDialogVM.filesGridConfig.parameters={guid:null!==(e=n.noteId)&&void 0!==e?e:n.id},this.filesDialogVM.config.recordId=n.id,this.filesDialogVM.config.screenId=this.getScreenID(),this.filesDialogVM.uploaderConfig.recordId=n.id,this.filesDialogVM.open((e=>{n.cells[c.key].value=e?1:0})))})))}processCellDblClick(e,t,n){this.processCellClickBase(e,t,n),this.onDoubleClick&&this.onDoubleClick({sender:this}),this.execDefaultAction()}processCellClickBase(e,t,n){const r=e.target,o=this.visibleCols[t],a=this.rows.indexOf(n),l=a!==this.activeRowIndex;this.scrollIntoView(r),this.config.allowRowSelect&&this.clearRowsSelection(),(null==o?void 0:o.allowFocus)?l?this.setActiveRowIndex(a,!1,t):this.setActiveCellIndex(t):l&&this.setActiveRowIndex(a,!1)}processRowSelectorClick(e,t){let n=!0;const r=this.rows.indexOf(t),o=this.getActiveRow();this.config.allowRowSelect&&(e.ctrlKey?(this.setRowSelected(r,!t.selected),n=!1,!t.selected||null!=o&&o.selected||this.setActiveRowIndex(r)):e.shiftKey&&(this.clearRowsSelection(),this.selectRowsRange(this.activeRowIndex,r),n=!1)),n&&(this.scrollIntoView(e.target),this.setActiveRowIndex(this.rows.indexOf(t)))}processKeyDown(e){var t,n,r;let o=this.activeRowIndex,a=this.activeCellIndex,l=!1;const setNextRowSelected=e=>{const t=this.getActiveRow(),n=this.getRow(e);t&&this.setRowSelected(this.activeRowIndex,!(null==n?void 0:n.selected)),this.setRowSelected(e,!0)};switch(this.onKeyDown&&this.onKeyDown({sender:this,event:e}),e.key){case"Down":case"ArrowDown":if(o=this.getNextRowIndex(),void 0===o&&this.allowInsert){if(this.editMode&&!this.createNewAllowed&&this.commitActiveCellChanges(),this.createNewAllowed)return this.addNewRow(!1),!1}else this.config.allowRowSelect&&e.shiftKey&&!this.editMode&&void 0!==o&&setNextRowSelected(o);break;case"Up":case"ArrowUp":o=this.getPrevRowIndex(),this.config.allowRowSelect&&e.shiftKey&&!this.editMode&&void 0!==o&&setNextRowSelected(o);break;case"Right":case"ArrowRight":a=this.getNextCellIndex();break;case"Left":case"ArrowLeft":a=this.getPrevCellIndex();break;case"Home":a=this.getAdjoiningCellIndex(!1,-1);break;case"End":a=this.getAdjoiningCellIndex(!1,null===(t=this.visibleCols)||void 0===t?void 0:t.length,!0);break;case"Enter":e.ctrlKey||e.altKey||this.execDefaultAction();break;case"Insert":return e.ctrlKey||this.addNewRow(!0,e.shiftKey),!1;case"Delete":return this.editMode||this.deleteSelectedRows(),!1;case"F2":return this.beginEdit(),!1;case"F5":return this.refresh(!0),!1;case"F6":return this.editMode||this.switchSortDirection(this.getActiveColumn()),!1;case"PageDown":return this.pageDown(),!1;case"PageUp":return this.pageUp(),!1}switch(e.code){case"KeyF":if(e.shiftKey&&!this.editMode)return this.createColumnFilter(),!1;break;case"KeyC":if(e.ctrlKey&&!this.editMode)return(0,C.addTextToClipboard)(null!==(r=null===(n=this.getActiveCell())||void 0===n?void 0:n.cellText)&&void 0!==r?r:""),!1;break;case"KeyA":if(e.ctrlKey&&!this.editMode&&this.config.allowRowSelect)return this.hasRows&&this.selectRowsRange(0,this.rows.length-1),!1;break;case"Space":const t=this.getActiveCell(),o=this.getActiveColumn();t&&o&&this.cellIsCheckBox(t,o)&&this.switchCheckState(t,o,this.getActiveRow())}const d=this.getRowElem(this.activeRowIndex);return void 0!==o&&this.activeRowIndex!==o&&(this.setActiveRowIndex(o,!0),this.config.allowRowSelect&&!e.shiftKey&&this.clearRowsSelection(),l=!0),void 0!==a&&this.activeCellIndex!==a&&d&&(this.setActiveCellIndex(a),l=!0),!l}processContentWrapDblClick(e){e.target===this.elemContentWrap&&this.createNewAllowed&&this.addNewRow()}processFocus(e){!this.hasRows&&this.createNewAllowed&&this.addNewRow()}setResizeHandlePosition(e){const t=this.getColHeaderElem(e);if(t){const n=t.getBoundingClientRect(),r=this.elemHeaderWrap.getBoundingClientRect(),o=this.elemResizeHandle.offsetWidth,a=this.elemHeaderWrap.scrollLeft;this.elemResizeHandle.style.left=n.right+a-r.left-o/2+"px",this.elemResizeHandle.setAttribute("data-index",this.getColumnVisibleIndex(e.field).toString())}}setResizeHandlePositionFromEvent(e,t){let n=t;if(this.isCellLeftPart(e)){const e=this.getColumnVisibleIndex((0,v.getColumnKey)(t));e>0&&(n=this.visibleCols[e-1])}n.allowResize&&this.setResizeHandlePosition(n)}setResizerPosition(e){const t=this.resizeInfo;if(void 0!==t){const n=this.elemHeaderWrap.getBoundingClientRect(),r=e.pageX-n.left;t.left<0&&(t.left=r);const o=t.width+(r-t.left),a=20;return o>=a&&(this.elemResizeIndicator.style.left=`${r}px`),o>a?o:a}}processResizerMouseDown(e){const t=this.elemResizeHandle.getAttribute("data-index");if(null!=t){const n=this.visibleCols[parseInt(t)];this.resizeInfo={left:-1,column:n,width:n.width||0},this.setResizerPosition(e)}}processResizerMouseMove(e){void 0!==this.resizeInfo&&this.setResizerPosition(e)}processResizerMouseUp(e){const t=this.resizeInfo;if(void 0!==t){const n=this.setResizerPosition(e);n&&(t.column.width=this.getChangedPref(t.column).width=n,this.config.autoSaveLayout&&!this.config.autoAdjustColumns&&this.saveLayout()),this.tq.queueMicroTask((()=>this.setResizeHandlePosition(t.column))),this.resizeInfo=void 0}}processResizerMouseLeave(e){this.resizeInfo=void 0}processDragStart(e,t){return this.dragInfo={column:t,targetIndex:void 0},!0}processDragOver(e,t){if(this.dragInfo&&this.dragInfo.column!==t){const n=this.getColHeaderElem(t).getBoundingClientRect(),r=this.elemHeaderWrap.getBoundingClientRect(),o=n.left-r.left,a=n.right-r.left,l=2,d=e.clientX<n.left+n.width/l,c=(d?o:a)-this.elemArrowDown.offsetWidth/l;this.elemArrowUp.style.left=this.elemArrowDown.style.left=`${c}px`;let u=this.getColumnIndex((0,v.getColumnKey)(t))+(d?0:1);const p=this.getColumnIndex((0,v.getColumnKey)(this.dragInfo.column));u>p&&u--,this.dragInfo.targetIndex=u===p?void 0:u}else this.dragInfo&&(this.dragInfo.targetIndex=void 0)}processDragLeave(e){this.dragInfo&&!this.elemHeaderWrap.contains(e.relatedTarget)&&(this.dragInfo.targetIndex=void 0)}processDrop(e,t){var n;if(this.dragInfo){const e=null===(n=this.dragInfo)||void 0===n?void 0:n.targetIndex,t=this.getColumnIndex((0,v.getColumnKey)(this.dragInfo.column)),r=this.columns;void 0!==e&&r.splice(e,0,r.splice(t,1)[0]),this.dragInfo=void 0,this.config.autoSaveLayout&&this.saveLayout()}}get showDragArrows(){return!!this.dragInfo&&void 0!==this.dragInfo.targetIndex}processToolBarClick(e){var t;const n=null===(t=e.detail)||void 0===t?void 0:t.config,r=null==n?void 0:n.commandName;let o=!0;switch(r){case"refresh":this.refresh(!0);break;case"delete":this.deleteSelectedRows();break;case"insert":this.tq.flushMicroTaskQueue(),this.addNewRow();break;case"filter":this.showFilterBar=!this.showFilterBar,this.adjustPage();break;case"adjust":this.adjustColumns();break;case"exportToExcel":this.exportToExcel();break;case"import":this.import();break;case"nextPage":case"prevPage":case"firstPage":case"lastPage":this.processPagerButtonClick(e);break;default:o=!1,this.fireActionEvent(r)}o&&(e.stopPropagation(),e.propagationStopped=!0)}processToggleFilterClick(e){this.showFilterBar=!this.showFilterBar,this.adjustPage()}processToggleFilterMouseDown(e){e.preventDefault(),e.stopPropagation()}fireActionEvent(e){this.onAction&&e&&this.onAction({args:new QpGridActionEventArgs(this,e)})}processPagerButtonClick(e){var t;const n=null===(t=e.detail)||void 0===t?void 0:t.config;switch(null==n?void 0:n.commandName){case"firstPage":if(this.isFirstPage)break;this.clearSearch(),this.setPage(0);break;case"lastPage":if(this.isLastPage)break;const e=this.pagesCount||0;this.clearSearch(),this.setPage(e>0?e-1:-1);break;case"nextPage":if(this.isLastPage)break;this.setPage(this.pageIndex+1);break;case"prevPage":if(this.isFirstPage)break;this.setPage(this.pageIndex-1)}e.stopPropagation(),e.propagationStopped=!0}setPage(e){if(this.allowPaging()){const t=this.pagesCount||0;if(t>0&&(e<0||e>=t))return;this.config.pagerMode===_.GridPagerMode.Numeric&&this.clearSearch(),this.pageIndex=e,this.getRows()}}setPageIndex(e){this.allowPaging()&&(this.pageIndex=e)}getPagesCount(){const e=this.getPageSize();if(0===this.totalRowCount||e<=0)return 1;if(this.totalRowCount>0){const t=this.totalRowCount+e-1;return Math.floor(t<0?1:t/e)}return-1}getPageSize(){var e;return(null===(e=this.config)||void 0===e?void 0:e.pageSize)||0}get startRowIndex(){return(this.pageIndex||0)*this.getPageSize()+1}get endRowIndex(){var e;return this.startRowIndex+(null===(e=this.rows)||void 0===e?void 0:e.length)-1}setPagerButtonsState(){if(this.allowPaging()){const e=this.pagerBarConfigL.items,t=this.pagerBarConfigR.items;e.first.config.disabled=!!this.isFirstPage,e.prev.config.disabled=!!this.isFirstPage,t.last.config.disabled=!!this.isLastPage,t.next.config.disabled=!!this.isLastPage,this.pagerBarConfigR.styleChanged=this.pagerBarConfigL.styleChanged=!0}}pageDown(){let e=this.getNextRowIndex();if(void 0===e)return void(this.isLastPage||this.setPage(this.pageIndex+1));const t=Math.ceil(this.elemContentWrap.clientHeight/this.getRowHeight());isNaN(t)||(e=this.activeRowIndex+t,e>this.rows.length&&(e=this.rows.length-1),this.setActiveRowIndex(e,!0))}pageUp(){let e=this.getPrevRowIndex();if(void 0===e)return void(this.isFirstPage||this.setPage(this.pageIndex-1));const t=Math.ceil(this.elemContentWrap.clientHeight/this.getRowHeight());isNaN(t)||(e=this.activeRowIndex-t,e<0&&(e=0),this.setActiveRowIndex(e,!0))}adjustPageSize(){let e=!1;this.rows&&0!==this.rows.length||(e=!0,this.createFakeRow()),this.tq.flushing||this.tq.flushMicroTaskQueue();const t=this.getRowHeight();if(t>0){const e=Math.floor(this.elemContentWrap.clientHeight/t);this.config.pageSize=e;const n=this.totalRowCount;n>0&&e*this.pageIndex>=n&&this.setPageIndex(0)}return e&&(this.rows=[]),this.pageAdjusted||(this.pageAdjusted=!0),this.config.pageSize}adjustPage(){if(!this.needAdjustPage())return;this.config.autoAdjustColumns&&this.adjustColumns(!1);const e=this.isFirstPage&&this.isLastPage,t=this.config.pageSize,n=this.adjustPageSize();n&&n!==t&&(!e||this.rows.length>n)&&this.getRows()}getRowHeight(){let e=0;if(this.elemRows&&(0,C.isVisible)(this.elemRows)){const t=this.elemRows.tBodies[0].rows;for(let n=0;n<t.length;n++){const r=t[n];if(r.offsetHeight>0&&r.getAttribute("data-index")){e=r.offsetHeight;break}}}return e}resizeWindowHandler(){clearTimeout(this.adjustTimeoutID),!this.screenService.initialized&&this.screenService.isValid||(this.adjustTimeoutID=setTimeout((()=>{this.needAdjustPage()?this.adjustPage():this.config.autoAdjustColumns&&this.adjustColumns(!1)}),100))}allowPaging(){var e;return(null===(e=this.config)||void 0===e?void 0:e.pagerMode)!==_.GridPagerMode.InfiniteScroll&&this.getPageSize()>0}needAdjustPage(){var e;return this.allowPaging()&&(null===(e=this.config)||void 0===e?void 0:e.adjustPageSize)}adjustColumns(e){var t,n;const r=this.visibleCols,o=(null===(t=this.rows)||void 0===t?void 0:t.length)>0?this.elemRows:this.elemHeaderTable,a=(null===(n=this.rows)||void 0===n?void 0:n.length)>0?this.elemContentWrap:this.elemHeaderWrap;if(o&&o.offsetWidth>0&&r.length>0){let t=0,n=0,l=0;for(let e=0;e<r.length;e++)r[e].visible&&r[e].allowResize&&(t+=r[e].width||0,l=e,n++);const d=a.clientWidth-o.offsetWidth;let c=o.offsetWidth;if(0!==d){null==e&&(e=this.config.autoSaveLayout),this.config.autoAdjustColumns&&(e=!1);for(let e=0;e<r.length;e++){if(!r[e].visible||!r[e].allowResize||!r[e].width)continue;let n=r[e].width;if(e!==l){const e=Math.round(d*n/t);n+=e,c+=e}else n+=a.clientWidth-c;r[e].width=this.getChangedPref(r[e]).width=n}e&&this.saveLayout(),this.tq.flushing||this.tq.flushMicroTaskQueue()}}}getComponentErrors(e,t){var n,r,o,a,l;if(!t)return{};const d={},processRow=t=>{var n;if(t.cells)for(const r in t.cells)(null===(n=t.cells[r])||void 0===n?void 0:n.error)&&(d[`${e}.${r}`]={message:t.cells[r].error,level:t.cells[r].errorLevel})};return null===(n=t.rows)||void 0===n||n.forEach(processRow),null===(o=null===(r=t.commitResult)||void 0===r?void 0:r.inserted)||void 0===o||o.forEach(processRow),null===(l=null===(a=t.commitResult)||void 0===a?void 0:a.modified)||void 0===l||l.forEach(processRow),d}injectToolbarIntoScreenOne(){if(this.config.mergeToolbarWith){const e=this.screenService.getDataComponent(this.config.mergeToolbarWith);if(e&&e.appendComponentData){const t=e.appendComponentData(this.topBarConfig);("string"==typeof t?document.querySelector(t):t)&&(this.rightToolbarContainer=t)}}}loadColumnsPreferences(e,t){if(null==t)return;const n=e.length-1;for(const r of t){const t=e.find((e=>(0,C.compareStrings)((0,v.getColumnKey)(e),r.dataField,!0)));if(null!=t){void 0!==r.skipTab&&(t.skipTab=r.skipTab),void 0!==r.width&&r.width>0&&(t.width=r.width),void 0!==r.visible&&(0,v.isColumnVisibleChangeAllowed)(t)&&(t.visible=r.visible);const o=e.indexOf(t);r.order>=0&&o!==r.order&&(e.splice(e.indexOf(t),1),e.splice(r.order>n?n:r.order,0,t))}}}getPreferences(e){let t;return this.preferences&&(t=e===r.PreferenceLoadMode.merged?this.gridPreferencesMerger.merge(e,{user:this.preferences.user,def:this.preferences.def}):e===r.PreferenceLoadMode.onlyDefault?this.preferences.def:this.preferences.user),t}get preferencesMode(){return this.viewMode===x.ViewMode.Edit?r.PreferenceLoadMode.onlyDefault:r.PreferenceLoadMode.merged}getColumnPreferences(e,t){const n=(0,v.getColumnKey)(e);return null==t?void 0:t.find((e=>(0,C.compareStrings)(n,e.dataField,!0)))}getChangedPref(e){const t=(0,v.getColumnKey)(e);return this.changedPrefs.has(t)||this.changedPrefs.set(t,new GridColumnPreference),this.changedPrefs.get(t)}updateInitialColumns(){for(const e of this.initialColumns){const t=this.getColumn(this.getColumnKey(e));t&&this.needSyncVisibleWithState(t)&&(e.visible=t.visible)}}restoreInitialColumns(){const e=this.initialColumns.map((e=>{const t=this.getColumn(this.getColumnKey(e));return t&&(t.visible=e.visible,t.width=e.width,this.copyColumnProps(e,t)),Object.assign({},e)}));this.columns.splice(0,this.columns.length,...e),this.createColsSubscriptions()}subscribeScreenConfigurator(){this.subscriptions.push(this.eventManager.addEventListener(document.body,"startScreenConfiguration",(()=>{this.viewMode=x.ViewMode.Edit,this.fillPreferences(r.PreferenceLoadMode.onlyDefault,!0)}),T.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(document.body,"endScreenConfiguration",(()=>{this.viewMode=x.ViewMode.View}),T.delegationStrategy.none,!0))}updateActiveRowFromView(){var e;if(!this.view.activeRowChanged)return;this.view.activeRowChanged=!1;const t=this.view.activeRow,n=this.getActiveRow(),r=null===(e=this.activeCellState)||void 0===e?void 0:e.name,o=(0,v.copyRowPropsFromView)(t,n,this.columns,r);o.hasChanges&&(o.activeCellValueChanged&&r&&(this.activeCellState.value=n.cells[r].value,this.forceCellEditorUpdate()),this.updateRow(n))}matchRows(e,t){return e.id===t.id}matchColumns(e,t){return(e.field||e.key)===(t.field||t.key)}filterIDChanged(){var e;null===(e=this.onActiveFilterChanged)||void 0===e||e.call(this,{args:new QpGridEventArgs(this)})}activeRowIndexChanged(e,t){this.setActiveRowFlag(t,!1),this.forceRepaintRow(t),this.setActiveRowFlag(e,!0),this.forceRepaintRow(e)}activeCellIndexChanged(e,t){this.forceRepaintRow(this.activeRowIndex)}editModeChanged(){this.forceRepaintRow()}setCellTranslation(e,t){const n=this.getActiveRow();n&&n.id&&(this.additionalRowChanges=this.additionalRowChanges||{},this.additionalRowChanges[n.id]=this.additionalRowChanges[n.id]||{id:n.id,index:this.activeRowIndex,values:[]},this.additionalRowChanges[n.id].values.push({field:e,value:t}),n.changed=!0,this.updateRow(n,!0))}forceRepaintRow(e){const t=this.getRow(void 0!==e?e:this.activeRowIndex);t&&(t.styleChanged=!t.styleChanged)}setActiveRowFlag(e,t){const n=this.getRow(e);n&&(n.isActive=t)}getRow(e){return this.hasRows?this.rows[e]:void 0}storeScrollPosition(){this.scrollPosition={scrollTop:this.elemContentWrap.scrollTop,scrollLeft:this.elemContentWrap.scrollLeft}}restoreScrollPosition(){this.scrollPosition&&(this.elemContentWrap.scrollTop=this.scrollPosition.scrollTop,this.elemContentWrap.scrollLeft=this.scrollPosition.scrollLeft,delete this.scrollPosition)}get gridCaption(){var e;return null!==(e=this.config.caption)&&void 0!==e?e:this.caption}};A.defaultConfig={pagerMode:_.GridPagerMode.NextPrevFirstLast,pageSize:100,showRowSelectors:!0,allowRowSelect:!0,autoSaveLayout:!0,allowSkipTabs:!0,showFilterBar:_.GridFilterBarVisibility.OnDemand,showTopBar:!0,showBottomBar:!0,generateColumns:_.GridColumnGeneration.None,fastFilterByAllFields:!0,allowFilter:!0,allowSort:!0,showFastFilter:_.GridFastFilterVisibility.FilterBar,markRequired:!0},A.defaultColumnConfig={type:_.GridColumnType.NotSet,textAlign:_.TextAlign.NotSet,allowNull:!0,allowUpdate:!0,allowFilter:!0,allowFocus:!0,allowSort:!0,allowResize:!0,visible:!0,allowShowHide:_.GridColumnShowHideMode.True,displayMode:_.GridColumnDisplayMode.Value},n.__decorate([d.bindable,n.__metadata("design:type",_.PXViewCollection)],A.prototype,"view",void 0),n.__decorate([d.bindable,n.__metadata("design:type",Object)],A.prototype,"config",void 0),n.__decorate([d.bindable,n.__metadata("design:type",Array)],A.prototype,"rows",void 0),n.__decorate([d.bindable,n.__metadata("design:type",String)],A.prototype,"searchValue",void 0),n.__decorate([d.bindable,n.__metadata("design:type",String)],A.prototype,"searchField",void 0),n.__decorate([d.bindable,n.__metadata("design:type",String)],A.prototype,"statusText",void 0),n.__decorate([d.bindable,n.__metadata("design:type",Function)],A.prototype,"dataSource",void 0),n.__decorate([d.bindable,n.__metadata("design:type",Function)],A.prototype,"onDoubleClick",void 0),n.__decorate([d.bindable,n.__metadata("design:type",Function)],A.prototype,"onKeyDown",void 0),n.__decorate([d.bindable,n.__metadata("design:type",Function)],A.prototype,"onDefaultAction",void 0),n.__decorate([d.bindable,n.__metadata("design:type",Function)],A.prototype,"onAction",void 0),n.__decorate([d.bindable,n.__metadata("design:type",Function)],A.prototype,"onActiveRowChanged",void 0),n.__decorate([d.bindable,n.__metadata("design:type",Function)],A.prototype,"onDataReady",void 0),n.__decorate([d.bindable,n.__metadata("design:type",Function)],A.prototype,"onActiveFilterChanged",void 0),n.__decorate([d.bindable,n.__metadata("design:type",Function)],A.prototype,"onFiltersChanged",void 0),n.__decorate([d.bindable,n.__metadata("design:type",Function)],A.prototype,"onFilterColumns",void 0),n.__decorate([d.bindable,n.__metadata("design:type",String)],A.prototype,"caption",void 0),n.__decorate([d.observable,n.__metadata("design:type",Object)],A.prototype,"columnToFilter",void 0),n.__decorate([d.observable,n.__metadata("design:type",String)],A.prototype,"filterID",void 0),n.__decorate([d.observable,n.__metadata("design:type",Boolean)],A.prototype,"editMode",void 0),n.__decorate([d.observable,n.__metadata("design:type",Number)],A.prototype,"activeRowIndex",void 0),n.__decorate([d.observable,n.__metadata("design:type",Number)],A.prototype,"activeCellIndex",void 0),n.__decorate([(0,T.computedFrom)("updateRowsCount"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],A.prototype,"hasRows",null),n.__decorate([(0,T.computedFrom)("config.adjustPageSize"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],A.prototype,"isInfiniteScrollAllowed",null),n.__decorate([(0,T.computedFrom)("config.allowFilter","config.showFilterBar","config.allowStoredFilters"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],A.prototype,"isFilterBarAllowed",null),n.__decorate([(0,T.computedFrom)("updateRowsCount","statusText","config.pagerMode","config.pageSize","isFirstPage","isLastPage"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],A.prototype,"showBottomBar",null),n.__decorate([(0,T.computedFrom)("config.pagerMode","config.pageSize","isFirstPage","isLastPage"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],A.prototype,"showPager",null),n.__decorate([(0,T.computedFrom)("updateRowsCount","config.pagerMode"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],A.prototype,"showRecordsCounter",null),n.__decorate([(0,T.computedFrom)("dragInfo","dragInfo.targetIndex"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],A.prototype,"showDragArrows",null),n.__decorate([(0,T.computedFrom)("updateRowsCount"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],A.prototype,"startRowIndex",null),n.__decorate([(0,T.computedFrom)("updateRowsCount"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],A.prototype,"endRowIndex",null),n.__decorate([(0,T.computedFrom)("config.caption","caption"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],A.prototype,"gridCaption",null),A=I=n.__decorate([(0,d.processContent)(((e,t,n,r)=>{const o=n.querySelector("columns"),a=o?o.querySelectorAll("column"):void 0,l={field:"a",key:"a",type:1,caption:"a",captionImage:"a",dataType:1,width:1,textAlign:1,visible:!0,toolTip:"a",checked:!0,nullText:"a",valueItems:{},editorType:"a",editorConfig:{},fullState:!0,required:!0,timeMode:!0,sortDirection:1,generated:!0,skipTab:!0,commitChanges:!0,linkCommand:"a",hideViewLink:!0,format:"a",dateMask:"a",decimals:1,viewName:"a",maxLength:1,allowNull:!0,allowUpdate:!0,allowFilter:!0,allowFastFilter:!0,allowFocus:!0,allowSort:!0,allowResize:!0,allowCheckAll:!0,allowShowHide:1,suppressExport:!0},d=[];null==a||a.forEach((e=>{const t=e.getAttributeNames(),n={};null==t||t.forEach((t=>{const r=t.includes(".bind"),o=t.replace(".bind","").replace(/-([a-z])/gi,(e=>e[1].toUpperCase())),a=l[o];if(a){let l=e.getAttribute(t);l&&(r?(n.bindableProps||(n.bindableProps={}),n.bindableProps[o]=l):("boolean"==typeof a?l=(0,C.netTypeConvert)(l,_.NetType.Boolean):"number"==typeof a&&(l=(0,C.netTypeConvert)(l,_.NetType.Int32)),n[o]=l))}})),(n.field||n.key)&&d.push(n)})),d.length>0&&(r.columns=d,n.innerHTML="")})),(0,d.customElement)("qp-grid"),d.autoinject,n.__param(2,(0,c.inject)(p.GridApiClient)),n.__metadata("design:paramtypes",[Element,b.ScreenService,Object,d.TaskQueue,d.BindingEngine,g.DialogService,u.EventAggregator,_.RedirectHelper,y.AlertService,d.TargetInstruction,c.Container,o.PreferencesService,v.ExpressionEvaluator,d.EventManager,C.BusyCounter,q.TranslationService])],A),t.QpGridCustomElement=A;class QpGridEventArgs{constructor(e){this.activeRow=void 0,this.activeCell=void 0,this.activeRow=e.getActiveRow(),this.activeCell=e.getActiveCell()}getCell(e){if(this.activeRow&&e){const t=e.toLowerCase();for(const e in this.activeRow.cells)if(e.toLowerCase()===t)return this.activeRow.cells[e]}}}t.QpGridEventArgs=QpGridEventArgs;class QpGridActionEventArgs extends QpGridEventArgs{constructor(e,t){super(e),this.action=t}}t.QpGridActionEventArgs=QpGridActionEventArgs;class GridPreferencesMerger extends r.BasePreferenceMerger{combineUserAndDefPreferences(e,t){var n;if(!t||!t.columns)return e;if(!e||!e.columns)return t;const r=new GridPreferences;for(const o of e.columns){const e=t.columns.find((e=>e.dataField===o.dataField));null===(n=r.columns)||void 0===n||n.push(this.mergeColumnProperties(o,e||{}))}return r}mergeColumnProperties(e,t){const n=Object.assign(Object.assign({},e),t);return void 0===t.visible&&void 0!==e.visible&&(n.visible=e.visible),void 0===t.width&&void 0!==e.width&&(n.width=e.width),void 0===t.order&&void 0!==e.order&&(n.order=e.order),void 0===t.skipTab&&void 0!==e.skipTab&&(n.skipTab=e.skipTab),void 0===t.sortOrder&&void 0!==e.sortOrder&&(n.sortOrder=e.sortOrder),n}}t.GridPreferencesMerger=GridPreferencesMerger;t.GridPreferencesPair=class GridPreferencesPair{};class GridColumnPreference{}class GridPreferences extends r.PreferenceBase{constructor(){super(),this.type="Grid",this.columns=[]}}t.GridPreferences=GridPreferences;class GridControlPreferences extends r.PreferenceBase{constructor(){super(),this.type="qp-grid",this.preferences={}}}class GridPreferencesManager{constructor(e,t){this.preferencesService=e,this.onPreferencesChanged=t}subscribe(e,t){this.prefsKey=`${t}_prefs`,this.screenId=e,this.preferencesService.subscribe(this.prefsKey,this)}applyPreferences(e){var t;if(null==e?void 0:e.user){const n=e.user.preferences.favoriteFilters;this.favoriteFilters=n?[...n]:[],null===(t=this.onPreferencesChanged)||void 0===t||t.call(this)}}addFavouriteFilter(e){if(this.favoriteFilters||(this.favoriteFilters=[]),!this.favoriteFilters.includes(e))return this.favoriteFilters.push(e),this.savePreferences()}deleteFavouriteFilter(e){var t;if(null===(t=this.favoriteFilters)||void 0===t?void 0:t.includes(e))return this.favoriteFilters.splice(this.favoriteFilters.indexOf(e),1),this.savePreferences()}savePreferences(){const e=new GridControlPreferences;return e.preferences.favoriteFilters=this.favoriteFilters,this.preferencesService.saveUserPreferences(this.screenId,this.prefsKey,e)}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/index.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("client-controls/controls/compound/grid/qp-grid"),n("./node_modules/client-controls/controls/compound/grid/grid-api-client.js"),n("client-controls/controls/compound/grid/dialogs/columns-dialog"),n("client-controls/controls/compound/menu/qp-menu"),n("client-controls/controls/compound/system-menu/qp-sys-menu"),n("./node_modules/client-controls/controls/compound/system-menu/system-menu-data-component.js"),n("client-controls/controls/compound/system-menu/settings-menu-data-component"),n("client-controls/controls/compound/system-menu/qp-note-dialog/note-menu-data-component"),n("client-controls/controls/compound/system-menu/qp-tools-menu/tools-menu-data-component"),n("client-controls/controls/compound/system-menu/qp-customization-menu/customization-menu-data-component"),n("client-controls/controls/compound/inline-screen/inner-screen-toolbar-data-component"),n("client-controls/controls/compound/screen-toolbar/screen-toolbar-data-component"),n("./node_modules/client-controls/controls/compound/side-panel/side-panel-data-component.js"),n("client-controls/controls/compound/tool-bar/qp-tool-bar"),n("client-controls/controls/compound/screen-title/qp-screen-title"),n("./node_modules/client-controls/controls/compound/screen-title/screen-title-data-component.js"),n("client-controls/controls/compound/address-lookup/qp-address-lookup"),n("client-controls/controls/compound/currency/qp-currency"),n("client-controls/controls/compound/tree/qp-tree-node"),n("client-controls/controls/compound/tree/qp-tree"),n("client-controls/controls/compound/grid/elements/qp-filter-box"),n("client-controls/controls/compound/grid/qp-filter-editor"),n("client-controls/controls/compound/formula-editor/qp-formula-editor"),n("client-controls/controls/compound/formula-editor/qp-formula-dialog"),n("client-controls/controls/compound/inline-screen/qp-inline-screen"),n("client-controls/controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component"),n("client-controls/controls/compound/side-panel/qp-side-panel"),n("client-controls/controls/compound/system-menu/qp-note-dialog/qp-note-dialog"),n("client-controls/controls/compound/tree-selector/qp-tree-selector"),n("client-controls/controls/compound/tree-selector/qp-tree-selector-dialog"),n("client-controls/controls/compound/rich-text-editor/index"),n("client-controls/controls/compound/rich-text-editor/qp-rich-text-editor"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/index.js"),n("client-controls/controls/compound/rich-text-editor/au/component-id-custom-attribute"),n("./node_modules/client-controls/controls/compound/rich-text-editor/control-bar/index.js"),n("client-controls/controls/compound/translation-validation/qp-translation-validation"),n("./node_modules/client-controls/controls/compound/translation-validation/translation-validation-data-component.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m,f,v,b,y,_,x,C,S,E,k,T,M,q,I,A,O,P,D,F,j,R,N,L,V,B,$){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationValidationDataComponent=t.TranslationValidationCustomElement=t.ComponentIdCustomAttribute=t.QpRichTextEditorCustomElement=t.richTextIndex=t.QpTreeSelectorDialogCustomElement=t.QpTreeSelectorCustomElement=t.QpNoteDialogCustomElement=t.QpSidePanelCustomElement=t.QpInlineScreenDialogComponent=t.QpInlineScreenCustomElement=t.QpFormulaDialogCustomElement=t.QpFormulaEditorCustomElement=t.QpFilterEditorCustomElement=t.QpFilterBoxCustomElement=t.QpTreeCustomElement=t.QpTreeNodeCustomElement=t.QpCurrencyCustomElement=t.QpAddressLookupCustomElement=t.ScreenTitleDataComponent=t.QpScreenTitleCustomElement=t.QpToolBarCustomElement=t.SidePanelDataComponent=t.ScreenToolbarDataComponent=t.InnerScreenToolbarDataComponent=t.CustomizationMenuDataComponent=t.ToolsMenuDataComponent=t.NoteMenuDataComponent=t.SettingsMenuDataComponent=t.SystemMenuDataComponent=t.QpSysMenuCustomElement=t.QpMenuCustomElement=t.ColumnsDialog=t.GridApiClient=t.GridGenericInquiryApiClient=t.QpGridCustomElement=void 0,Object.defineProperty(t,"QpGridCustomElement",{enumerable:!0,get:function(){return r.QpGridCustomElement}}),Object.defineProperty(t,"GridGenericInquiryApiClient",{enumerable:!0,get:function(){return o.GridGenericInquiryApiClient}}),Object.defineProperty(t,"GridApiClient",{enumerable:!0,get:function(){return o.GridApiClient}}),Object.defineProperty(t,"ColumnsDialog",{enumerable:!0,get:function(){return a.ColumnsDialog}}),Object.defineProperty(t,"QpMenuCustomElement",{enumerable:!0,get:function(){return l.QpMenuCustomElement}}),Object.defineProperty(t,"QpSysMenuCustomElement",{enumerable:!0,get:function(){return d.QpSysMenuCustomElement}}),Object.defineProperty(t,"SystemMenuDataComponent",{enumerable:!0,get:function(){return c.SystemMenuDataComponent}}),Object.defineProperty(t,"SettingsMenuDataComponent",{enumerable:!0,get:function(){return u.SettingsMenuDataComponent}}),Object.defineProperty(t,"NoteMenuDataComponent",{enumerable:!0,get:function(){return p.NoteMenuDataComponent}}),Object.defineProperty(t,"ToolsMenuDataComponent",{enumerable:!0,get:function(){return h.ToolsMenuDataComponent}}),Object.defineProperty(t,"CustomizationMenuDataComponent",{enumerable:!0,get:function(){return g.CustomizationMenuDataComponent}}),Object.defineProperty(t,"InnerScreenToolbarDataComponent",{enumerable:!0,get:function(){return m.InnerScreenToolbarDataComponent}}),Object.defineProperty(t,"ScreenToolbarDataComponent",{enumerable:!0,get:function(){return f.ScreenToolbarDataComponent}}),Object.defineProperty(t,"SidePanelDataComponent",{enumerable:!0,get:function(){return v.SidePanelDataComponent}}),Object.defineProperty(t,"QpToolBarCustomElement",{enumerable:!0,get:function(){return b.QpToolBarCustomElement}}),Object.defineProperty(t,"QpScreenTitleCustomElement",{enumerable:!0,get:function(){return y.QpScreenTitleCustomElement}}),Object.defineProperty(t,"ScreenTitleDataComponent",{enumerable:!0,get:function(){return _.ScreenTitleDataComponent}}),Object.defineProperty(t,"QpAddressLookupCustomElement",{enumerable:!0,get:function(){return x.QpAddressLookupCustomElement}}),Object.defineProperty(t,"QpCurrencyCustomElement",{enumerable:!0,get:function(){return C.QpCurrencyCustomElement}}),Object.defineProperty(t,"QpTreeNodeCustomElement",{enumerable:!0,get:function(){return S.QpTreeNodeCustomElement}}),Object.defineProperty(t,"QpTreeCustomElement",{enumerable:!0,get:function(){return E.QpTreeCustomElement}}),Object.defineProperty(t,"QpFilterBoxCustomElement",{enumerable:!0,get:function(){return k.QpFilterBoxCustomElement}}),Object.defineProperty(t,"QpFilterEditorCustomElement",{enumerable:!0,get:function(){return T.QpFilterEditorCustomElement}}),Object.defineProperty(t,"QpFormulaEditorCustomElement",{enumerable:!0,get:function(){return M.QpFormulaEditorCustomElement}}),Object.defineProperty(t,"QpFormulaDialogCustomElement",{enumerable:!0,get:function(){return q.QpFormulaDialogCustomElement}}),Object.defineProperty(t,"QpInlineScreenCustomElement",{enumerable:!0,get:function(){return I.QpInlineScreenCustomElement}}),Object.defineProperty(t,"QpInlineScreenDialogComponent",{enumerable:!0,get:function(){return A.QpInlineScreenDialogComponent}}),Object.defineProperty(t,"QpSidePanelCustomElement",{enumerable:!0,get:function(){return O.QpSidePanelCustomElement}}),Object.defineProperty(t,"QpNoteDialogCustomElement",{enumerable:!0,get:function(){return P.QpNoteDialogCustomElement}}),Object.defineProperty(t,"QpTreeSelectorCustomElement",{enumerable:!0,get:function(){return D.QpTreeSelectorCustomElement}}),Object.defineProperty(t,"QpTreeSelectorDialogCustomElement",{enumerable:!0,get:function(){return F.QpTreeSelectorDialogCustomElement}}),t.richTextIndex=n.__importStar(j),Object.defineProperty(t,"QpRichTextEditorCustomElement",{enumerable:!0,get:function(){return R.QpRichTextEditorCustomElement}}),n.__exportStar(N,t),Object.defineProperty(t,"ComponentIdCustomAttribute",{enumerable:!0,get:function(){return L.ComponentIdCustomAttribute}}),n.__exportStar(V,t),Object.defineProperty(t,"TranslationValidationCustomElement",{enumerable:!0,get:function(){return B.TranslationValidationCustomElement}}),Object.defineProperty(t,"TranslationValidationDataComponent",{enumerable:!0,get:function(){return $.TranslationValidationDataComponent}})}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpInlineScreenDialogComponent=void 0;let o=class QpInlineScreenDialogComponent{constructor(){this.width="80vw",this.height="90vh"}bind(e,t){var n,r,o;(null===(r=null===(n=null==t?void 0:t.parentOverrideContext)||void 0===n?void 0:n.bindingContext)||void 0===r?void 0:r.config)&&(this.config=null===(o=t.parentOverrideContext.bindingContext.config)||void 0===o?void 0:o.data)}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],o.prototype,"config",void 0),o=n.__decorate([(0,r.customElement)("qp-inline-screen-dialog"),r.autoinject],o),t.QpInlineScreenDialogComponent=o}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/inline-screen/inner-screen-toolbar-data-component":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/client-controls.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/descriptors/data-component-register.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerScreenToolbarDataComponent=void 0;let d=class InnerScreenToolbarDataComponent{constructor(e){this.screenVM=e,this.toolBarVM=void 0,this.element=this.toolBarElem}getQueryParams(e){return{}}setComponentData(e){this.applyComponentData(e)}appendComponentData(e){var t;return null===(t=this.toolBarVM)||void 0===t||t.appendConfig(e),"#innerToolBarSuffix"}applyComponentData(e){var t,n,r;this.toolbar=e,this.toolbar.id="InnerScreenMainToolbar",null===(t=this.toolBarVM)||void 0===t||t.unbindStates();for(const e of this.screenVM.actions.keys()){const t=this.screenVM.actions.get(e),o=null==t?void 0:t.specialType;if(o===a.PXSpecialButtonType.Save||o===a.PXSpecialButtonType.SaveNotClose){null===(n=this.toolBarVM)||void 0===n||n.bindStateWith(t);const e=Object.values((null===(r=this.toolbar)||void 0===r?void 0:r.items)||{}).find((e=>e.config.commandName===t.commandName));e&&(e.config.state=t)}}}};d=n.__decorate([(0,r.useView)("./inner-screen-toolbar-data-component.html"),(0,l.selfRegisterWithName)("InlineScreenToolbar"),n.__metadata("design:paramtypes",[o.PXScreen])],d),t.InnerScreenToolbarDataComponent=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/inline-screen/qp-inline-screen":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/controls/abstract/index.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("./node_modules/client-controls/descriptors/event-manager.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/controls/compound/system-menu/sys-menu-api-client.js"),n("./node_modules/client-controls/services/screen-api-client.js"),n("./node_modules/client-controls/utils/control-helper.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m,f,v,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchParamsClass=t.QpInlineScreenCustomElement=void 0;(0,d.getLogger)("inline-screen");let y=class QpInlineScreenCustomElement{constructor(e){this.urlRouter=e,this.reregisteredDataComponents=!1,this.subscriptions=new Array,this.internalSubscriptions=new Array,this.initialized=!1,this.getScreenPath=e=>`screens/${e.substr(0,2).toUpperCase()}/${e}/${e}`}get screenVM(){var e;return"T"===(null===(e=this.config)||void 0===e?void 0:e.uiType)&&this.screenRef?this.screenRef.currentViewModel:void 0}get screenPath(){return this.isGI?"systemScreens/GenericInquiry":this.getScreenPath(this.config.screenId)}get legacyScreenPath(){const e=Object.assign(Object.assign({},this.config.navigationParameters),{PopupPanel:"Layer"});return this.needToHideScript&&(e.HideScript="On"),this.urlRouter.resolveSameWindowUrl(this.config.navigationUrl.replace("~/",""),m.topWindow.location,!1,!1,e)}get isGI(){return this.config.navigationUrl.toLowerCase().includes("genericinquiry")}get screenID(){return this.config.screenId}get siteMapScreenID(){return this.screenService.siteMapScreenID}get screenService(){return this.screenVM&&"T"===this.config.uiType?this.screenVM.getScreenService():this.ownScreenService}getScreenService(){return this.screenService}get keyFieldNames(){return this.config.navigationParameters?Object.keys(this.config.navigationParameters):[]}get needToHideScript(){return m.topWindow.hideScript}screenRefChanged(){this.initialized=!1,this.tq.queueTask((()=>{this.container.unregister(g.ScreenService),this.container.registerInstance(g.ScreenService,this.screenService)}))}configChanged(e,t){e.screenId===(null==t?void 0:t.screenId)&&JSON.stringify(e.navigationParameters)===JSON.stringify(t.navigationParameters)||("T"===this.config.uiType&&(this.container.unregister(SearchParamsClass),this.container.registerInstance(SearchParamsClass,new SearchParamsClass(this.config.navigationUrl.toLowerCase().split("?")[1]))),this.tq.queueTask((()=>n.__awaiter(this,void 0,void 0,(function*(){"E"===this.config.uiType&&(this.initialized=!1),this.initSidePanelScreen(),"E"!==this.config.uiType||this.config.isReport||(yield this.initScreenService()),this.config.isReport||this.registerDataComponents(),this.queryParamsChangedHandler()})))))}bind(){this.initSidePanelScreen(),this.screenApiClientSettings.companyId=(0,b.getCompanyFromUrl)(),this.screenApiClientSettings.isInlineScreenRequest=!0;let e=this.eventAggregator.subscribe("screen-initialized",(e=>{this.initialized=!0,"T"===this.config.uiType&&e.screenID!==this.screenVM.screenID||this.registerSubscriptions()}));this.subscriptions.push(e),e=this.eventAggregator.subscribe("screen-updated",(e=>{this.initialized=!0,this.config.isReport||this.isGI||e.screenID!==this.screenID||this.screenService.callbackRunning||this.disableKeyFields()})),this.subscriptions.push(e),this.config.isReport||this.registerDataComponents(),this.configChanged(this.config,void 0)}initSidePanelScreen(){this.config.uiType||(this.config.uiType="T"),this.config.graphInfo&&(this.graphInfo=this.config.graphInfo)}initScreenService(){return n.__awaiter(this,void 0,void 0,(function*(){this.ownScreenService.model=this,yield this.ownScreenService.initialize(),this.eventAggregator.publish("screen-initialized",{screenID:this.screenID,pendingUpdate:!1})}))}registerSubscriptions(){if(this.internalSubscriptions.forEach((e=>e.dispose())),this.internalSubscriptions=[],"T"===this.config.uiType){let e=this.screenVM.screenEventManager.subscribe("OpenPopup",(e=>{e.stop(),this.openDialog(e)}));this.internalSubscriptions.push(e),e=this.screenEventManager.subscribe("ExecuteCommand",(e=>{e.Command&&(this.screenService.executeCommand(e.Command,e.Params),e.stop())})),this.internalSubscriptions.push(e)}}registerDataComponents(){this.unregisterDataComponents(),this.reregisteredDataComponents=!0}iframeElementChanged(){this.iframeElement&&(this.iframeElement.onload=()=>{this.initialized=!0;const e=this.iframeElement.contentWindow;e&&(e.__suppressUrlUpdate=!0,e.openerPX=this.container.get(h.RedirectHelper))})}queryParamsChangedHandler(){var e,t;if(!this.config.navigationParameters||!this.screenVM&&"T"===this.config.uiType||"T"===this.config.uiType&&this.isGI)return;let n;if("E"===this.config.uiType){n={commitChanges:!1,blockPage:!0,data:[]};for(const t in this.config.navigationParameters)null===(e=n.data)||void 0===e||e.push({viewName:this.screenService.getGraphInfo().primaryView,fieldName:t,value:this.config.navigationParameters[t]})}null===(t=this.screenVM)||void 0===t||t.setupParameters(this.config.navigationParameters),this.screenService.update(void 0,n)}disableKeyFields(){"E"!==this.config.uiType&&this.keyFieldNames.forEach((e=>{const t=this.screenService.getGraphInfo().primaryView;this.screenService.model[t][e].enabled=!1}))}openDialog(e){this.dialogHelper.openDialog({templateId:e.name,context:this.screenVM,rootElement:this.contentElement,command:e.commandName},{overlayDismiss:!1}).whenClosed((()=>{}))}setActionStates(){}setDirty(){}unregisterDataComponents(){this.screenService.unregisterDataComponent("NotesMenuData"),this.screenService.unregisterDataComponent("TitleData"),this.screenService.unregisterDataComponent("LongRunData"),this.screenService.unregisterDataComponent("ScreenToolbar")}detached(){this.internalSubscriptions.forEach((e=>e.dispose())),this.internalSubscriptions=[],this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[],this.unregisterDataComponents()}};n.__decorate([o.bindable,n.__metadata("design:type",Object)],y.prototype,"config",void 0),n.__decorate([l.autoinject,n.__metadata("design:type",a.EventAggregator)],y.prototype,"eventAggregator",void 0),n.__decorate([(0,l.newInstance)(p.QpEventManager),n.__metadata("design:type",p.QpEventManager)],y.prototype,"screenEventManager",void 0),n.__decorate([r.observable,n.__metadata("design:type",Object)],y.prototype,"screenRef",void 0),n.__decorate([(0,l.newInstance)(f.SysMenuApiClient),n.__metadata("design:type",f.SysMenuApiClient)],y.prototype,"sysMenuApiClient",void 0),n.__decorate([l.autoinject,n.__metadata("design:type",o.Container)],y.prototype,"container",void 0),n.__decorate([(0,l.newInstance)(u.DialogHelper),n.__metadata("design:type",u.DialogHelper)],y.prototype,"dialogHelper",void 0),n.__decorate([(0,l.newInstance)(g.ScreenService),n.__metadata("design:type",g.ScreenService)],y.prototype,"ownScreenService",void 0),n.__decorate([(0,l.newInstance)(v.ScreenApiClientSettings),n.__metadata("design:type",v.ScreenApiClientSettings)],y.prototype,"screenApiClientSettings",void 0),n.__decorate([r.observable,n.__metadata("design:type",HTMLIFrameElement)],y.prototype,"iframeElement",void 0),n.__decorate([l.autoinject,n.__metadata("design:type",o.TaskQueue)],y.prototype,"tq",void 0),n.__decorate([(0,o.computedFrom)("screenRef.currentViewModel","config.uiType"),n.__metadata("design:type",c.PXScreen),n.__metadata("design:paramtypes",[])],y.prototype,"screenVM",null),n.__decorate([(0,o.computedFrom)("config.screenId"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],y.prototype,"screenPath",null),n.__decorate([(0,o.computedFrom)("config.screenId","config.isReport"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],y.prototype,"legacyScreenPath",null),n.__decorate([(0,o.computedFrom)("config.navigationUrl"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],y.prototype,"isGI",null),n.__decorate([(0,o.computedFrom)("config.screenId"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],y.prototype,"screenID",null),n.__decorate([(0,o.computedFrom)("screenVM","config.uiType"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],y.prototype,"screenService",null),n.__decorate([(0,o.computedFrom)("config.navigationParameters"),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[])],y.prototype,"keyFieldNames",null),y=n.__decorate([(0,o.customElement)("qp-inline-screen"),n.__param(0,(0,o.inject)(h.SessionUrlRouter)),n.__metadata("design:paramtypes",[Object])],y),t.QpInlineScreenCustomElement=y;class SearchParamsClass{constructor(e){this.searchParams=e}}t.SearchParamsClass=SearchParamsClass}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/menu/qp-menu":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/descriptors/index.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpMenuCustomElement=void 0;(0,o.getLogger)("qp-menu");let l=class QpMenuCustomElement{constructor(e,t){this.eventManager=e,this.redirector=t,this.menuOpened=!1,this.showOpener=!1}stopPropagation(e){return e.stopPropagation(),!1}attached(){r.PLATFORM.global.px&&r.PLATFORM.global.px.setTitle(this.menuElement,this.config.toolTip)}configChanged(e,t){var n;this.showOpener=(null===(n=this.config)||void 0===n?void 0:n.options)&&this.config.options.length&&!this.config.hideOpener}processMenuClick(e,t,n){const r=this.config.options.find((n=>"MenuButton"===n.type&&(e&&n.id===e||t&&n.commandName===t)));if(!r||r.disabled)return!1;this.hideMenu();const o=new CustomEvent("menuselected",{bubbles:!0,detail:{event:n,id:e,commandName:"",popupPanel:""}});return r.commandName?(o.detail.commandName=t,this.menuElement.dispatchEvent(o)):r.navigateUrl?this.redirector.openUrl(r.navigateUrl,r.target,r.openFrameset):r.popupPanel?(o.detail.popupPanel=r.popupPanel,this.menuElement.dispatchEvent(o)):this.menuElement.dispatchEvent(o),!1}processButtonMousedown(e){return!(!this.config.commandName||this.config.disabled)||this.toggleMenu(e)}processButtonClick(e){if(this.config.commandName&&!this.config.disabled){this.hideMenu();const t={event:e,id:this.config.id,commandName:this.config.commandName},n=new CustomEvent("menuselected",{bubbles:!0,detail:t});return this.menuElement.dispatchEvent(n),!1}return this.stopPropagation(e)}toggleMenu(e){var t;return!(null===(t=this.config.options)||void 0===t?void 0:t.length)||(this.menuOpened?this.hideMenu():this.showMenu(),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1)}showMenu(){r.PLATFORM.global.document.dispatchEvent(new MouseEvent("mousedown")),this.menuElement.focus(),this.documentMouseDownSubscription=this.eventManager.addEventListener(r.PLATFORM.global.document,"mousedown",(e=>this.hideMenu()),r.delegationStrategy.none,!0),this.menuOpened=!0}hideMenu(){this.unsubscribeFromMouseDownOnDocument(),this.menuOpened=!1}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"config",void 0),l=n.__decorate([r.autoinject,(0,r.customElement)("qp-menu"),n.__metadata("design:paramtypes",[r.EventManager,a.RedirectHelper])],l),t.QpMenuCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/au/component-id-custom-attribute":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentIdCustomAttribute=t.ComponentIdTranslator=void 0;let o=class ComponentIdTranslator{constructor(e){this.map={},this.element=e;const t=this.element.componentIdAttribute;t&&(t.translator=this)}add(e,t){return this.map[e]=t,this}translate(e){return this.map[e]}};o=n.__decorate([r.noView,r.autoinject,n.__metadata("design:paramtypes",[Element])],o),t.ComponentIdTranslator=o;let a=class ComponentIdCustomAttribute{constructor(e){this.children=[],this.element=e,this.element.componentIdAttribute=this}attached(){this.update()}update(){const e=this.getComposedId();e?this.element.setAttribute("id",e):this.element.removeAttribute("id"),this.children.forEach((e=>e.update()))}addChild(e){e&&!this.children.find((t=>t===e))&&this.children.push(e)}getComposedId(){if(!this.id)return;const e=this.getParentAttribute();if(!e)return this.id;e.addChild(this);const t=e.getComposedId(),n=e.translateId(this.id);return t?`${t}_${n}`:n}translateId(e){var t;let n=this;for(;n;){const r=null===(t=n.translator)||void 0===t?void 0:t.translate(e);if(r)return r;n=n.getParentAttribute()}return e}getParentAttribute(){let e=this.element.parentElement;for(;e;){const t=e.componentIdAttribute;if(t)return t;e=e.parentElement}}};n.__decorate([(0,r.bindable)({primaryProperty:!0,changeHandler:"update"}),n.__metadata("design:type",String)],a.prototype,"id",void 0),a=n.__decorate([r.autoinject,(0,r.customAttribute)("component-id",r.bindingMode.toView),n.__metadata("design:paramtypes",[Element])],a),t.ComponentIdCustomAttribute=a}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/au/factory.js":(e,t,n)=>{var r,o;r=[n,t,n("aurelia-framework"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AureliaElementFactory=void 0;const o="AureliaElementFactory";class AureliaElementFactory{constructor(e){this.container=null!=e?e:n.Container.instance,this.templateEngine=this.container.get(n.TemplatingEngine)}static attachDispose(e,t,n){const r=e.dispose;if(r&&r.signature===o)return e;const overridden=()=>{"function"==typeof r&&r.call(e),(null==n?void 0:n.parent)===t.parentElement&&t.remove(),(null==n?void 0:n.dispose)&&n.dispose()};return overridden.signature=o,e.dispose=overridden,e}createControl(e,t){var n,r;const o=this.createElement(e,t),a=null===(r=null===(n=null==o?void 0:o.au)||void 0===n?void 0:n.controller)||void 0===r?void 0:r.viewModel;if(!a)throw new TypeError;return AureliaElementFactory.attachDispose(a,o,t),a}static getControl(e){var t,n;let r=null===(n=null===(t=null==e?void 0:e.au)||void 0===t?void 0:t.controller)||void 0===n?void 0:n.viewModel;return r&&"Compose"===r.constructor.name&&(r=r.currentViewModel),r}createElement(e,t){var n,o;const a=document.createElement(e);return null===(n=null==t?void 0:t.parent)||void 0===n||n.appendChild(a),r.Tools.forEach(null==t?void 0:t.attrs,((e,t)=>{"function"==typeof e?a.addEventListener(t,e):a.setAttribute(t,e)})),r.Tools.forEach(null==t?void 0:t.model,((e,t)=>{"function"==typeof e?a.setAttribute(`${t}.delegate`,`${t}($event)`):a.setAttribute(`${t}.bind`,t)})),this.templateEngine.enhance({element:a,container:this.container,bindingContext:null!==(o=null==t?void 0:t.model)&&void 0!==o?o:{}}),a}}t.AureliaElementFactory=AureliaElementFactory}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/common/env.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Env=void 0;const n={agentName:window.navigator.userAgent.toLowerCase(),contains(e){return-1!==this.agentName.indexOf(e)}};t.Env={os:{isWindows:()=>n.contains("win"),isMacOS:()=>n.contains("mac os x"),isiOS:()=>n.contains("iphone")||n.contains("ipad"),isAndroid:()=>n.contains("android")},browser:{isFirefox:()=>n.contains("firefox"),isIE:()=>n.contains("msie")||n.contains("trident"),isChromium:()=>n.contains("chrome")&&!n.contains("chromeframe"),IsSafari:()=>(n.contains("safari")||n.contains("mobile/"))&&n.contains("applewebkit"),IsEdge:()=>n.contains("edge/")&&n.contains("chrome")&&n.contains("safari")&&n.contains("applewebkit")}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/compound/rich-text-editor/common/events.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;class EventSubscriber{constructor(e,t,r,o){this.targetEvent=t,this.callback=r,this.options=o,this.eventTarget=e,this.eventTarget&&n.Tools.forEach(n.Tools.explode(this.targetEvent," "),(e=>{var t;null===(t=this.eventTarget)||void 0===t||t.addEventListener(e,this.callback,this.options)}))}dispose(){this.eventTarget&&(n.Tools.forEach(n.Tools.explode(this.targetEvent," "),(e=>{var t;null===(t=this.eventTarget)||void 0===t||t.removeEventListener(e,this.callback,this.options)})),this.eventTarget=void 0)}}t.EventManager=class EventManager{constructor(){this.subscribers=[]}on(e,t,n,r){const o=new EventSubscriber(e,t,n,r);return this.subscribers.push(o),{dispose:()=>{const e=this.subscribers.indexOf(o);-1!==e&&(this.subscribers.splice(e,1),o.dispose())}}}dispose(){this.subscribers.forEach((e=>e.dispose())),this.subscribers=[]}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/common/keyboard.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/env.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/events.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShortcutService=t.isEscapeKey=t.isFunctionKey=t.hasShortcutModifier=t.isInsertFromPasteOrDrop=t.isInsertTextDataNull=t.isInsertReplacementText=t.isTypingKeyboardEvent=t.isNonTypingKeyboardEvent=t.isDeleteEvent=t.parseShortcut=t.createDisplayShortcut=t.encodedShortcutPattern=t.VK=void 0,t.VK={BACKSPACE:"Backspace",DELETE:"Delete",DOWN:"ArrowDown",ENTER:"Enter",ESC:"Escape",LEFT:"ArrowLeft",RIGHT:"ArrowRight",SPACEBAR:" ",TAB:"Tab",UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",CAPS_LOCK:"CapsLock",NUM_LOCK:"NumLock",PRINT_SCREEN:"F13",SCROLL_LOCK:"ScrollLock",PAUSE:"Pause",INSERT:"Insert",ALT:"Alt",SHIFT:"Shift",CTRL:"Control",META:"Meta",CONTEXT:"ContextMenu",modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||t.VK.metaKeyPressed(e),metaKeyPressed:e=>r.Env.os.isMacOS()||r.Env.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey};const a=n.Tools.makeMap("alt,ctrl,shift,meta,access"),isModifier=e=>e in a;function encodedShortcutPattern(e){return e.replace(/\+\s*\>/g,`+${">".charCodeAt(0)}`).trim()}function parseShortcut(e){const t={},o=r.Env.os.isMacOS()||r.Env.os.isiOS();n.Tools.forEach(n.Tools.explode(e.toLowerCase(),"+"),(e=>{isModifier(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.key=String.fromCharCode(parseInt(e)):t.key=e}));const l=[t.key];let d;for(d in a)t[d]?l.push(d):t[d]=!1;return t.id=l.join(","),t.access&&(t.alt=!0,o?t.ctrl=!0:t.shift=!0),t.meta&&(o?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t}t.encodedShortcutPattern=encodedShortcutPattern,t.createDisplayShortcut=function createDisplayShortcut(e){const t=r.Env.os.isMacOS()||r.Env.os.isiOS();return n.Tools.map(n.Tools.explode(e.trim()),(e=>n.Tools.map(n.Tools.explode(encodedShortcutPattern(e),">"),(e=>{const r=[];return n.Tools.forEach(n.Tools.explode(e.toLowerCase(),"+"),(e=>{isModifier(e)?r.push((e=>e?e.charAt(0).toUpperCase()+e.substring(1).toLowerCase():e)("meta"!==e||t?e:"ctrl")):r.push(e.toUpperCase())})),r.join("+")})).join(" "))).join(", ")},t.parseShortcut=parseShortcut;const l=[t.VK.TAB,t.VK.ESC,t.VK.HOME,t.VK.END,t.VK.PAUSE,t.VK.CAPS_LOCK,t.VK.PRINT_SCREEN,t.VK.NUM_LOCK,t.VK.SCROLL_LOCK,t.VK.PAGE_UP,t.VK.PAGE_DOWN,t.VK.INSERT,t.VK.ALT,t.VK.SHIFT,t.VK.CTRL,t.VK.META,t.VK.CONTEXT,t.VK.DOWN,t.VK.UP,t.VK.LEFT,t.VK.RIGHT];function isDeleteEvent(e){const n=e.key;return n===t.VK.BACKSPACE||n===t.VK.DELETE}function hasShortcutModifier(e){return e.altKey||e.ctrlKey||e.metaKey}function isEscapeKey(e){return"keydown"===e.type&&e.key===t.VK.ESC}t.isDeleteEvent=isDeleteEvent,t.isNonTypingKeyboardEvent=function isNonTypingKeyboardEvent(e){const n=e.key;return!isDeleteEvent(e)&&(t.VK.metaKeyPressed(e)||e.altKey||e.keyCode>=112&&e.keyCode<=123||-1!==l.indexOf(n))},t.isTypingKeyboardEvent=function isTypingKeyboardEvent(e){return!(isDeleteEvent(e)||"keyup"===e.type&&229===e.keyCode)},t.isInsertReplacementText=function isInsertReplacementText(e){return"insertReplacementText"===e.inputType},t.isInsertTextDataNull=function isInsertTextDataNull(e){return"insertText"===e.inputType&&null===e.data},t.isInsertFromPasteOrDrop=function isInsertFromPasteOrDrop(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType},t.hasShortcutModifier=hasShortcutModifier,t.isFunctionKey=function isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},t.isEscapeKey=isEscapeKey;t.ShortcutService=class ShortcutService{constructor(e){this.root={},e&&(this.eventManager=new o.EventManager,this.eventManager.on(e,"keyup keydown",(e=>this.dispatch(e)),!0))}dispose(){var e;null===(e=this.eventManager)||void 0===e||e.dispose()}dispatch(e,t){e.defaultPrevented||"keyup"!==e.type&&"keydown"!==e.type||this.dispatchKeyboardEvent(e,t)}addShortcut(e,t,r){return n.Tools.forEach(n.Tools.explode(e.trim()),(e=>{this.createShortcut(this.root,e,t,r)})),this}createShortcut(e,t,r,o){let a=e;t=encodedShortcutPattern(t),n.Tools.forEach(n.Tools.map(n.Tools.explode(t,">"),parseShortcut),(e=>{a.patterns||(a.patterns={});const t=a.patterns[e.id]||{shortcut:e};a.patterns[e.id]=t,a=t})),e!==a&&(a.handler=r,a.scope=o)}matchShortcut(e,t){return!(!e||!t)&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&(e.key.toLowerCase()===t.key.toLowerCase()&&(e.preventDefault(),e.stopImmediatePropagation(),!0)))}executeShortcut(e,t){var n;null===(n=e.handler)||void 0===n||n.call(e.scope||t,t)}dispatchKeyboardEvent(e,t){var r;if(this.pendingPatterns&&isEscapeKey(e))return this.pendingPatterns=void 0,void e.preventDefault();if(hasShortcutModifier(e)||e.key.length>1){const o=null!==(r=this.pendingPatterns)&&void 0!==r?r:this.root.patterns;n.Tools.forEach(o,(n=>{if(n.shortcut&&this.matchShortcut(e,n.shortcut))return"keydown"===e.type&&this.executeShortcut(n,t),this.pendingPatterns=n.patterns,!1}))}else"keydown"===e.type&&(this.pendingPatterns=void 0)}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tools=t.normalizeLineBreaks=void 0,t.normalizeLineBreaks=function normalizeLineBreaks(e){return e.replace(/\r\n/g,"\n")};const isArrayLike=e=>void 0!==e.length;t.Tools={newGuid:()=>{const s=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return s()+s()+"-"+s()+"-"+s()+"-"+s()+"-"+s()+s()+s()},makeMap:(e,n,r={})=>{const o=t.Tools.explode(e,n);let a=o.length;for(;a--;)r[o[a]]={};return r},explode:(e,t)=>Array.isArray(e)?e:""===e?[]:e.split(t||",").map((e=>e.trim())),some:(e,n,r)=>{if(!e)return!1;r=r||e;let o=!1;return isArrayLike(e)?t.Tools.forEach(e,((e,t,a)=>{if(!0===n.call(r,e,t,a))return o=!0,!1})):t.Tools.forEach(e,((e,t,a)=>{if(!0===n.call(r,e,t,a))return o=!0,!1})),o},forEach:(e,t,n)=>{if(!e)return!1;if(n=n||e,isArrayLike(e)){for(let r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(const r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return!1;return!0},map:(e,n)=>{const r=[];return t.Tools.forEach(e,((t,o)=>{r.push(n(t,o,e))})),r},toRecord:(e,t)=>e.reduce(((e,n)=>(e[n[t]]=n,e)),{}),extend:(e,...t)=>{if(e)for(const n of t)for(const t in n)if(n.hasOwnProperty(t)){const r=n[t];void 0!==r&&(e[t]=r)}return e},merge:(e,t)=>{let n=0,r=0;const o=[];for(;n<e.length&&r<t.length;)o.push(e[n]<=t[r]?e[n++]:t[r++]);return o.concat(e.slice(n)).concat(t.slice(r))},defineProperty:(e,t,n)=>{e.hasOwnProperty(t)||Object.defineProperty(e,t,n)},defineProperties:(e,n)=>{t.Tools.forEach(n,((n,r)=>{t.Tools.defineProperty(e,r,n)}))}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/compound/rich-text-editor/common/types.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeType=t.Type=t.createCachedModel=t.defaultModelConverter=t.asyncResolveValue=t.resolveIntoGetter=t.resolveValue=t.Lazy=t.mutable=void 0,t.mutable=function mutable(e){return e};class Lazy{constructor(e){this.getter=e}get(){const e=this.getter();return this.getter=()=>e,e}}function defaultModelConverter(e,t,n,r){return"getPushed"===e&&(r.toggle=o.isFunction(t)),"icon"===e&&t&&(r.images={normal:t}),t}var o;t.Lazy=Lazy,t.resolveValue=function resolveValue(e){return"function"==typeof e?e():e||""},t.resolveIntoGetter=function resolveIntoGetter(e){return"function"==typeof e?e:"string"==typeof e?()=>e:void 0},t.asyncResolveValue=function asyncResolveValue(e){return n.__awaiter(this,void 0,void 0,(function*(){return"function"==typeof e?yield e():e||""}))},t.defaultModelConverter=defaultModelConverter,t.createCachedModel=function createCachedModel(e,t,n=defaultModelConverter){var a;return(null!==(a=(null==t?void 0:t.model)===e?t:null)&&void 0!==a?a:{model:e,refresh:function(){const t=this;return r.Tools.forEach(e,((a,l)=>{if("refresh"!==l)if(a=n(l,a,e,t),o.isFunction(a))if(0===a.length&&l.length>3&&0===l.indexOf("get")){const r=new Lazy(a.bind(e));t[l]=r.get.bind(r);const o=l.substring(3).toLowerCase();n(o,a,e,t),t.hasOwnProperty(o)||Object.defineProperty(t,o,{get:()=>t[l].call(t)})}else t[l]=a.bind(e);else o.isArrayOf(a,o.isObject)?t[l]=r.Tools.map(a,((e,n)=>{var r;return createCachedModel(e,(null!==(r=t[l])&&void 0!==r?r:[])[n])})):o.isObject(a)?t[l]=createCachedModel(a,t[l]):t[l]=a})),t}}).refresh()},function(e){const t=Object.getPrototypeOf,hasProto=(e,t,n)=>{var r;return!!n(e,t.prototype)||(null===(r=e.constructor)||void 0===r?void 0:r.name)===t.name},isType=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&hasProto(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,isSimpleType=e=>t=>typeof t===e,eq=e=>t=>e===t;e.is=(n,r)=>e.isObject(n)&&hasProto(n,r,((e,n)=>t(e)===n)),e.isString=isType("string"),e.isObject=isType("object"),e.isPlainObject=t=>e.is(t,Object),e.isArray=isType("array"),e.isNull=eq(null),e.isBoolean=isSimpleType("boolean"),e.isUndefined=eq(void 0),e.isNullable=e=>null==e,e.isNonNullable=t=>!e.isNullable(t),e.isFunction=isSimpleType("function"),e.isNumber=isSimpleType("number"),e.isArrayOf=(t,n)=>{if(e.isArray(t)){for(let e=0,r=t.length;e<r;++e)if(!n(t[e]))return!1;return!0}return!1}}(o=t.Type||(t.Type={})),function(e){const isNodeType=e=>t=>!!t&&t.nodeType===e;e.isRestrictedNode=e=>!!e&&!Object.getPrototypeOf(e),e.isElement=isNodeType(Node.ELEMENT_NODE);const matchNodeName=e=>{const t=e.toLowerCase();return e=>o.isNonNullable(e)&&e.nodeName.toLowerCase()===t},matchNodeNames=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return-1!==t.indexOf(n)}return!1}};e.isTable=t=>e.isElement(t)&&"TABLE"===t.tagName;const hasContentEditableState=t=>n=>{if(e.isElement(n)){if(n.contentEditable===t)return!0;if(n.getAttribute("data-mce-contenteditable")===t)return!0}return!1};e.isTextareaOrInput=matchNodeNames(["textarea","input"]),e.isText=isNodeType(Node.TEXT_NODE),e.isCData=isNodeType(Node.CDATA_SECTION_NODE),e.isPi=isNodeType(Node.PROCESSING_INSTRUCTION_NODE),e.isComment=isNodeType(Node.COMMENT_NODE),e.isDocument=isNodeType(Node.DOCUMENT_NODE),e.isDocumentFragment=isNodeType(Node.DOCUMENT_FRAGMENT_NODE),e.isBr=matchNodeName("br"),e.isImg=matchNodeName("img"),e.isContentEditableTrue=hasContentEditableState("true"),e.isContentEditableFalse=hasContentEditableState("false"),e.isTableCell=matchNodeNames(["td","th"]),e.isTableCellOrCaption=matchNodeNames(["td","th","caption"]),e.isMedia=matchNodeNames(["video","audio","object","embed"]),e.isListItem=matchNodeName("li"),e.isAnchor=matchNodeNames(["a"])}(t.NodeType||(t.NodeType={}))}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/control-bar/index.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar"),n("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-button"),n("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-button-group"),n("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-color-picker"),n("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item"),n("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-selector"),n("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-separator")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(r,t),n.__exportStar(o,t),n.__exportStar(a,t),n.__exportStar(l,t),n.__exportStar(d,t),n.__exportStar(c,t),n.__exportStar(u,t)}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-button-group":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-icons.js"),n("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarButtonGroupViewModel=void 0;class QpToolbarButtonGroupViewModel extends a.QpToolbarItemBaseViewModel{refresh(){var e;super.refresh(),n.Tools.forEach(null===(e=this.model)||void 0===e?void 0:e.buttons,(e=>{var t;n.Tools.extend(e,{id:null!==(t=e.id)&&void 0!==t?t:n.Tools.newGuid()})})),this.updateMenu()}updateMenu(){if(!this.model||!this.model.buttons.length)return void(this.menuConfig=void 0);const e="toggle"===this.model.mode;let t=0;e&&(t=Math.max(0,this.model.buttons.findIndex((e=>e.pushed))));const n=this.model.buttons[t],a=this.model.buttons.slice(0);"group"===this.model.mode&&a.splice(t,1),this.model.tooltip=n.tooltip,this.menuConfig=Object.assign(this.menuConfig||{options:[]},{id:n.id,commandName:e?"":n.id,text:"icons"===this.model.showMode&&(0,o.encodeIconUrl)(n.icon)?"":(0,r.resolveValue)(n.label),disabled:!1===n.enabled,images:"labels"!==this.model.showMode?{normal:(0,o.encodeIconUrl)(n.icon)}:{}});const l=a.map((t=>({type:"MenuButton",id:t.id,commandName:e?"":t.id,text:(0,r.resolveValue)(t.label),disabled:!1===t.enabled,images:"labels"!==this.model.showMode?{normal:(0,o.encodeIconUrl)(t.icon)}:{}}))),d=Math.max(l.length,this.menuConfig.options.length);for(let e=0;e<d;e++)if(e>=this.menuConfig.options.length)this.menuConfig.options.push(l[e]);else{if(!(e<l.length)){this.menuConfig.options.splice(e,this.menuConfig.options.length-e);break}Object.assign(this.menuConfig.options[e],l[e])}}getButton(e){var t;return null===(t=this.model)||void 0===t?void 0:t.buttons.find((t=>t.id===e))}processButton(e){const t=e.detail,n=this.getButton(t.id);n&&setTimeout((()=>{n.execute(),this.updateMenu(),super.handleActionExecuted()}))}captureClick(e){var t;(null===(t=this.menuConfig)||void 0===t?void 0:t.disabled)&&(e.preventDefault(),e.stopImmediatePropagation())}}t.QpToolbarButtonGroupViewModel=QpToolbarButtonGroupViewModel}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-button":(e,t,n)=>{var r,o;r=[n,t,n("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarButtonViewModel=void 0;class QpToolbarButtonViewModel extends n.QpToolbarItemBaseViewModel{performCommand(){this.model&&!1!==this.model.enabled&&(this.model.execute(),super.handleActionExecuted())}}t.QpToolbarButtonViewModel=QpToolbarButtonViewModel}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-color-picker":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js"),n("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarColorPickerViewModel=void 0;class QpToolbarColorPickerViewModel extends r.QpToolbarItemBaseViewModel{refresh(){super.refresh(),this.model&&n.Tools.extend(this.model,{allowAdjust:!!this.model.addUserColor,disabled:!1===this.model.enabled})}colorSelected(e){var t;this.selectColor(null===(t=e.detail)||void 0===t?void 0:t.color)}newColorAdded(e){var t,n,r,o;null===(n=null===(t=this.model)||void 0===t?void 0:t.addUserColor)||void 0===n||n.call(this.model,null!==(o=null===(r=e.detail)||void 0===r?void 0:r.color)&&void 0!==o?o:"")}selectColor(e){var t;null===(t=this.model)||void 0===t||t.select(e),super.handleActionExecuted()}}t.QpToolbarColorPickerViewModel=QpToolbarColorPickerViewModel}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-icons.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconMap=t.encodeIconUrl=void 0,t.encodeIconUrl=function encodeIconUrl(e){var r;return"string"==typeof e?null!==(r=t.IconMap[(0,n.normalizeEntityName)(e)])&&void 0!==r?r:e:void 0},t.IconMap={undo:"main@Cancel",redo:"main@Redo",bold:"text@Bold",italic:"text@Italic",underline:"text@Underline",strikethrough:"text@Strike",subscript:"text@Sub",superscript:"text@Super",indent:"text@IndentR",outdent:"text@IndentL",justifyleft:"text@JustifyLeft",justifyright:"text@JustifyRight",justifycenter:"text@JustifyCenter",justifyfull:"text@JustifyFull",insertorderedlist:"text@Ordered",insertunorderedlist:"text@UnOrdered",forecolor:"svg:rte@colorText",backcolor:"svg:rte@colorBg",hilitecolor:"svg:rte@colorBg"}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/compound/rich-text-editor/au/factory.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-icons.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarItemCustomElement=t.toolbarModelConverter=t.QpToolbarItemBaseViewModel=void 0;let d=class QpToolbarItemBaseViewModel{constructor(e){this.element=e}dispose(){this.model=void 0}activate(e){this.model=e}bind(){}refresh(){}handleActionExecuted(){var e;null===(e=this.element)||void 0===e||e.dispatchEvent(new CustomEvent("action-executed",{bubbles:!0,detail:null}))}};function toolbarModelConverter(e,t,n,r){return"icon"===e?(r.images={normal:(0,l.encodeIconUrl)(t)},t):(0,a.defaultModelConverter)(e,t,n,r)}d=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[Element])],d),t.QpToolbarItemBaseViewModel=d,t.toolbarModelConverter=toolbarModelConverter;let c=class QpToolbarItemCustomElement{bind(){this.refresh()}getInnerControl(){return o.AureliaElementFactory.getControl(this.control)}configChanged(){this.refresh()}refresh(){var e,t;this.config?(this.model=(0,a.createCachedModel)(this.config.model,this.model,toolbarModelConverter),this.separator=this.config.separator?{id:this.config.separator.id,modelName:this.config.separator.modelName,model:(0,a.createCachedModel)(this.config.separator.model,null===(e=this.separator)||void 0===e?void 0:e.model,toolbarModelConverter)}:void 0):(this.model=void 0,this.separator=void 0);const n=this.getInnerControl();null===(t=null==n?void 0:n.refresh)||void 0===t||t.call(n)}dispose(){this.model=void 0;const e=this.getInnerControl();null==e||e.dispose()}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],c.prototype,"config",void 0),c=n.__decorate([(0,r.customElement)("qp-control-bar-item")],c),t.QpToolbarItemCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-selector":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-icons.js"),n("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarSelectorViewModel=void 0;class QpToolbarSelectorViewModel extends l.QpToolbarItemBaseViewModel{constructor(){super(...arguments),this.updating=!1}refresh(){var e;super.refresh(),this.css="";let t=null===(e=this.model)||void 0===e?void 0:e.width;if("string"!=typeof t||!t){const e=Math.max(...this.model.options.map((e=>e.label.length)));e!==-1/0&&(t=`${e}ch`)}t&&(this.css=`--control-editor-width: ${t}; --control-editor-box-sizing: content-box;`),this.updating=!0;try{this.updateSelector()}finally{this.updating=!1}}updateSelector(){var e;if(!this.model)return void(this.selectorConfig=void 0);this.selectorConfig||(this.selectorConfig=Object.assign({options:[]},QpToolbarSelectorViewModel.defaultConfig));const t=this.model.value;let n=[...this.model.options];if(t&&!n.find((e=>{var n,r;return(null!==(n=e.value)&&void 0!==n?n:e.label)===(null!==(r=t.value)&&void 0!==r?r:t.label)}))&&n.push(t),this.model.sort){const sortProc=()=>!n.find((e=>isNaN(parseInt(e.label))))?(e,t)=>{const n=parseInt(e.label),r=parseInt(t.label);return isNaN(n)||isNaN(r)?e.label.localeCompare(t.label):n-r}:(e,t)=>e.label.localeCompare(t.label);n=n.sort(sortProc())}const r=n.map((e=>({value:e.label,text:e.label,selected:e===t,imageUrl:(0,a.encodeIconUrl)(e.icon),enabled:!0}))),o=Math.max(r.length,this.selectorConfig.options.length);for(let e=0;e<o;e++)if(e>=this.selectorConfig.options.length)this.selectorConfig.options.push(r[e]);else{if(!(e<r.length)){this.selectorConfig.options.splice(e,this.selectorConfig.options.length-e);break}Object.assign(this.selectorConfig.options[e],r[e])}this.selectorConfig.enabled=!1!==this.model.enabled,this.value=null!==(e=null==t?void 0:t.label)&&void 0!==e?e:""}valueChanged(e){var t,n;if(this.updating)return;const r=null!==(n=null===(t=this.model)||void 0===t?void 0:t.options.find((t=>t.label===e)))&&void 0!==n?n:null;setTimeout((()=>{var e;null===(e=this.model)||void 0===e||e.setValue(r),super.handleActionExecuted()}))}}QpToolbarSelectorViewModel.defaultConfig={id:"",required:!1,enabled:!0,readOnly:!1,allowMultiSelect:!1,valueType:o.NetType.String,allowEdit:!1,allowNull:!1,autoSuggest:!1,valuesSeparator:"",colorMode:!1},n.__decorate([r.observable,n.__metadata("design:type",String)],QpToolbarSelectorViewModel.prototype,"value",void 0),t.QpToolbarSelectorViewModel=QpToolbarSelectorViewModel}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-separator":(e,t,n)=>{var r,o;r=[n,t,n("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarSeparatorViewModel=void 0;class QpToolbarSeparatorViewModel extends n.QpToolbarItemBaseViewModel{}t.QpToolbarSeparatorViewModel=QpToolbarSeparatorViewModel}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/compound/rich-text-editor/au/factory.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/types.js"),n("./node_modules/client-controls/controls/simple/image/components/index.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarCustomElement=void 0;let c=class QpToolbarCustomElement{constructor(e,t){this.element=e,this.bindingEngine=t,this.config={type:"main",sizing:"ellipsis",showMode:"icons"},this.items=[],this.generation=0}addItem(e){let t;return e.id&&(t=this.items.find((t=>t.id===e.id)),t)?o.AureliaElementFactory.getControl(null==t?void 0:t.ref):(t=this.createNewItem(e),this.items.push(t),this.items.length>1&&"separator"===t.modelName&&(this.items[this.items.length-2].separator=t,t.hidden=!0),new l.Lazy((()=>this.findControl(t.id))))}findControl(e){const t=this.items.find((t=>t.id===e));return o.AureliaElementFactory.getControl(null==t?void 0:t.ref)}get controls(){return a.Tools.map(this.items,(e=>o.AureliaElementFactory.getControl(e.ref))).filter((e=>!!e))}refresh(){a.Tools.forEach(this.controls,(e=>{var t;return null===(t=e.refresh)||void 0===t?void 0:t.call(e)}))}dispose(){this.disposeItems()}attached(){this.readToolbarItems()}detached(){this.disposeSourceListeners(),this.disposeGenerationListener()}actionExecuted(e){var t,n;e.stopImmediatePropagation(),null===(n=null===(t=this.layout)||void 0===t?void 0:t.hideDropDown)||void 0===n||n.call(this.layout)}configChanged(){this.config?this.generationListener=this.bindingEngine.propertyObserver(this.config,"generation").subscribe((()=>this.notifyChanged())):this.disposeGenerationListener(),this.notifyChanged()}disposeSourceListeners(){var e;null===(e=this.sourceListener)||void 0===e||e.dispose(),this.sourceListener=void 0}attachSourceListeners(){this.source&&(this.sourceListener=new d.MutationListener(this.source,(e=>{e.some((e=>"childList"===e.type&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].some((e=>l.NodeType.isElement(e)))))&&this.notifyChanged()}),{childList:!0}))}disposeGenerationListener(){var e;null===(e=this.generationListener)||void 0===e||e.dispose(),this.generationListener=void 0}disposeItems(){a.Tools.forEach(this.items,(e=>{var t,n,r;null===(t=e.dispose)||void 0===t||t.call(e),null===(r=null===(n=o.AureliaElementFactory.getControl(e.ref))||void 0===n?void 0:n.dispose)||void 0===r||r.call(n)})),this.items.splice(0,this.items.length)}updateItems(e){let t=null;a.Tools.forEach(e,(e=>{e.separator=void 0,t&&"separator"===e.modelName&&(t.separator=e,e.hidden=!0),t=e})),this.disposeItems(),this.items.push(...e)}findItem(e){return this.items.find((t=>t.id===e))}createNewItem(e,t){var n,r;let o;const l={generation:0,id:null!==(r=null!==(n=e.id)&&void 0!==n?n:e.model.id)&&void 0!==r?r:a.Tools.newGuid(),modelName:e.modelName,model:a.Tools.extend(e.model,{showMode:this.config.showMode||"icons"}),dispose:()=>{null==o||o.dispose(),o=void 0,null==t||t(),t=void 0}},generationChanged=()=>{var e,t;return null===(t=null===(e=this.findControl(l.id))||void 0===e?void 0:e.refresh)||void 0===t?void 0:t.call(e)};return o=new d.Disposables([this.bindingEngine.propertyObserver(l,"generation").subscribe(generationChanged),this.bindingEngine.propertyObserver(l.model,"generation").subscribe(generationChanged)]),l}notifyChanged(){this.generation++}generationChanged(){this.readToolbarItems()}readToolbarItems(){var e,t;let n;if(null===(e=this.config)||void 0===e?void 0:e.items)this.disposeSourceListeners(),n=a.Tools.map(this.config.items,(e=>this.createNewItem(e)));else if(this.source){this.attachSourceListeners(),n=[];let e=this.source.firstChild;for(;e;){if(l.NodeType.isElement(e)){const r=this.createDefinition(e);if(r){const o=null!==(t=r.id)&&void 0!==t?t:r.model.id,a=o?new d.MutationListener(e,(e=>{if(!e.some((e=>{var t;return"attributes"===e.type&&(null!==(t=e.attributeName)&&void 0!==t?t:"").startsWith("data-")})))return;const t=this.findItem(o);t&&t.generation++}),{attributes:!0}):void 0;n.push(this.createNewItem(r,null==a?void 0:a.dispose.bind(a)))}}e=e.nextSibling}}n&&this.updateItems(n)}createDefinition(e){var t;if(!l.NodeType.isElement(e))return;const getAttr=t=>{var n;return null!==(n=e.getAttribute(t))&&void 0!==n?n:void 0},getStrGetter=t=>e.hasAttribute(t)?()=>{var n;return null!==(n=e.getAttribute(t))&&void 0!==n?n:""}:void 0,getBoolGetter=(t,n)=>e.hasAttribute(t)?()=>((t,n)=>"true"===(e.getAttribute(t)||n).toLowerCase())(t,n):void 0;let n=e.nodeName.toLowerCase();"item"===n&&(n=null!==(t=getAttr("data-type"))&&void 0!==t?t:"");return"button"===n?{modelName:"button",model:Object.assign(Object.assign({},{generation:0,id:getAttr("id"),icon:getAttr("data-icon"),shortcut:getAttr("data-shortcut"),getLabel:getStrGetter("data-label"),getTooltip:getStrGetter("data-tooltip"),getEnabled:getBoolGetter("data-enabled","true"),getVisible:getBoolGetter("data-visible","true")}),{getPushed:getBoolGetter("data-pushed","false"),execute:()=>e.dispatchEvent(new MouseEvent("click"))})}:void 0}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],c.prototype,"config",void 0),n.__decorate([r.observable,n.__metadata("design:type",Number)],c.prototype,"generation",void 0),c=n.__decorate([(0,r.customElement)("qp-control-bar"),n.__metadata("design:paramtypes",[Element,r.BindingEngine])],c),t.QpToolbarCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/editor/anchor":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/plugins.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/types.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.EditorPlugins.register("anchor",(e=>({name:e,dispatch(e){const t=e.source;if(e.name===n.EditorEventName.AnchorSelected&&"preview"===t.mode){const t=e.as(CustomEvent).detail.data;o.NodeType.isAnchor(t)&&t.href&&window.open(t.href,"_blank")}return!0}})))}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/editor/dom.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/common/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/sanitizer.js")],o=function(e,t,n,r,o){"use strict";function sizeToPx(e){var t;const n=e.toLowerCase().match(/^([\d\.]+)(\D*)$/);if(!n)return 0;let r=parseFloat(n[1]);return isNaN(r)?0:("pt"===(null!==(t=n[2])&&void 0!==t?t:"").toLowerCase()&&(r=r/1.5*2),r)}function getCSSProperty(e,t,n){var r;const o=e.ownerDocument;return(null!==(r=null==o?void 0:o.defaultView)&&void 0!==r?r:window).getComputedStyle(e).getPropertyValue(t)||n}Object.defineProperty(t,"__esModule",{value:!0}),t.DOMUtils=t.HTMLUtils=t.TextUtils=t.getNumberCSSProperty=t.getCSSProperty=t.sizeToPx=void 0,t.sizeToPx=sizeToPx,t.getCSSProperty=getCSSProperty,t.getNumberCSSProperty=function getNumberCSSProperty(e,t,n=0){const r=getCSSProperty(e,t);return void 0!==r?sizeToPx(r):n};const a="data-rte-style";class DecomposedHtml{constructor(e){var t,n;if(this.format="html",this.html="",this.body="","object"==typeof e)return this.format=e.format,this.html=e.html,void(this.body=e.body);if(""===(e=e.trim()))return;if(!HTMLUtils.isHtml(e))return this.format="plain",void(this.body=e);const r=HTMLUtils.createDocument(e);try{if((null===(t=r.head)||void 0===t?void 0:t.hasChildNodes())&&r.head.querySelector("*:not(["+a+"])"))return void(this.format="html");this.format="fragment"}finally{this.body=null!==(n=r.body.innerHTML)&&void 0!==n?n:"",r.body.removeAttribute("contenteditable"),r.body.removeAttribute("spellcheck"),r.body.replaceChildren(),this.html=r.documentElement.outerHTML}}compose(e=!0,t){var n;if("plain"===this.format)return this.body;const r=HTMLUtils.createDocument(this.html);return r.body.innerHTML=e?(new o.HtmlSanitizer).SanitizeHtml(this.body):this.body,void 0!==t&&HTMLUtils.replaceEmbeddedStyles(r,t),(null===(n=r.head)||void 0===n?void 0:n.hasChildNodes())&&Array.from(r.head.querySelectorAll("*["+a+"]")).forEach((e=>e.removeAttribute(a))),r.documentElement.outerHTML}}class TextUtils{static isContentFlowNode(e){return!!e&&this.contentFlowTags.has(e.nodeName.toLowerCase())}static isContentAlwaysFilledNode(e){return!!e&&this.contentAlwaysFilledTags.has(e.nodeName.toLowerCase())}static nodeGeneratesInlineText(e,t){var n;if(!e){if(!t)return!1;const e=t.parentNode;return!!e&&(!!this.isContentFlowNode(e)&&this.nodeGeneratesInlineText(e.nextSibling,e))}return!!this.isContentAlwaysFilledNode(e)||!!this.isContentFlowNode(e)&&(e.nodeType===Node.TEXT_NODE&&0!==(null!==(n=e.textContent)&&void 0!==n?n:"").trim().length||(!!this.nodeGeneratesInlineText(e.firstChild,null)||this.nodeGeneratesInlineText(e.nextSibling,t)))}static replaceAll(e,t,n){return e.replace(new RegExp(t,"g"),n)}static compressSoftChar(e,t,n=1){const r=[];for(let e=0;e<Math.max(1,n);e++)r.push(t);const o=r.join(""),a=o+t;for(;;){const t=this.replaceAll(e,a,o);if(t.length===e.length)break;e=t}return e}static convertContentTo(e,t){Array.from(e.childNodes).forEach((e=>this.convertTo(e,t)))}static isPreformattedNode(e){const isPre=e=>{var t,n,r;if("pre"===e.nodeName.toLowerCase())return!0;const o=e.ownerDocument,a=null!==(n=null===(t=null==o?void 0:o.defaultView)||void 0===t?void 0:t.getComputedStyle(e))&&void 0!==n?n:e.style,l=null!==(r=null==a?void 0:a.whiteSpace)&&void 0!==r?r:"";return!!l.startsWith("pre")||"normal"!==l&&void 0};for(;e;){if(e.nodeType===Node.ELEMENT_NODE){const t=isPre(e);if(void 0===t){e=e.parentNode;continue}return t}e=e.parentNode}return!1}static fromTextContent(e){let t=!0;const n=[],r=String.fromCharCode(160);for(let o=0;o<e.length;o++){const a=e.charAt(o);if(" "===a){if(t)continue;n.push(" "),t=!0}else a===r?(n.push(" "),t=!1):(n.push(a),t=!1)}return n.join("")}static toTextContent(e){let t=!0;const n=[],r=String.fromCharCode(160);for(let o=0;o<e.length;o++){const a=e.charAt(o);" "===a?(t?n.push(r):n.push(" "),t=!t):(n.push(a),t=!1)}return n.join("")}static convertTo(e,t){var n,r,o;let a="";switch(e.nodeType){case Node.COMMENT_NODE:break;case Node.DOCUMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:this.convertContentTo(e,t);break;case Node.TEXT_NODE:const l=null!==(r=null===(n=e.parentNode)||void 0===n?void 0:n.nodeName.toLowerCase())&&void 0!==r?r:"";if("script"===l||"style"===l||"head"===l)break;a=this.fromTextContent(null!==(o=e.textContent)&&void 0!==o?o:""),this.isPreformattedNode(e)||(this.nodeGeneratesInlineText(e.nextSibling,e)||(a=a.trimEnd()),a=this.replaceAll(this.replaceAll(a,"\n",this.softSpace),"\r","")),t.push(a);break;case Node.ELEMENT_NODE:switch(e.nodeName.toLowerCase()){case"hr":t.push(this.hardBreak);break;case"br":this.nodeGeneratesInlineText(e.nextSibling,e)&&t.push(this.hardBreak);break;case"tr":case"li":case"div":case"p":case"pre":t.push(this.blockStart),this.nodeGeneratesInlineText(e.firstChild,null)&&t.push(this.placeHolder)}if(e.hasChildNodes())if("td"!==e.nodeName.toLowerCase())this.convertContentTo(e,t);else{const n=[];this.convertContentTo(e,n);let r=n.join("");r=this.replaceAll(r,this.hardBreak,this.softSpace),r=this.replaceAll(r,this.blockStart,this.softSpace),r=this.replaceAll(r,this.blockEnd,this.softSpace),r=this.replaceAll(r,this.placeHolder,""),r=this.compressSoftChar(r,this.softSpace),r=this.replaceAll(r,this.softSpace," "),t.push(r.trim())}switch(e.nodeName.toLowerCase()){case"tr":case"li":case"div":case"p":case"pre":t.push(this.blockEnd);break;case"td":t.push(this.softSpace)}}}static htmlEncode(e){const t=document.createElement("span");return t.textContent=this.toTextContent(e),t.innerHTML}static htmlDecode(e){var t;const n=document.createElement("span");return n.innerHTML=e,null!==(t=n.textContent)&&void 0!==t?t:""}static convertTextToHtml(e){return e?e.split("\n").map((e=>""===e?"<p><br></p>":"<p>"+this.htmlEncode(e)+"</p>")).join("\n"):""}static nodeToText(e){var t;let n=!0,r=e.firstChild;for(;r;){if(r.nodeType!==Node.TEXT_NODE){n=!1;break}r=r.nextSibling}if(n)return null!==(t=e.textContent)&&void 0!==t?t:"";const o=[];this.convertTo(e,o);let a=o.join("");return a=this.compressSoftChar(a,this.blockStart),a=this.compressSoftChar(a,this.blockEnd),a=this.replaceAll(a,this.blockStart+this.blockEnd,""),a=this.replaceAll(a,this.blockEnd+this.blockStart,this.hardBreak),a=this.replaceAll(a,this.blockStart,this.hardBreak),a=this.replaceAll(a,this.blockEnd,this.hardBreak),a=this.replaceAll(a,this.placeHolder,""),a=this.replaceAll(this.compressSoftChar(a,this.softSpace),this.softSpace," "),a.trim()}static convertHtmlToSimpleText(e){if(!HTMLUtils.isHtml(e))return{format:"plain",html:"",body:e};const t=HTMLUtils.createDocument(e);return{format:"plain",html:"",body:this.nodeToText(t.body)}}static convertValueToPlainText(e){if(!e)return{format:"plain",html:"",body:""};if("plain"===e.format)return e;const t=HTMLUtils.createDocument("");return t.body.innerHTML=e.body,{format:"plain",html:"",body:this.nodeToText(t.body)}}static elementIsPlain(e){if("string"==typeof e){if(!e)return!0;e=HTMLUtils.createDocument(`<html><body>${e}</body></html>`).body}if(e.nodeType===Node.TEXT_NODE)return!0;const t=e.nodeName.toLowerCase();if("br"===t)return!0;if("body"!==t&&("p"!==t||e.hasAttribute("style")))return!1;const n=Array.from(e.childNodes);for(const e of n)if(!this.elementIsPlain(e))return!1;return!0}static elementHasContent(e){var t;if("string"==typeof e){if(!e)return!1;e=HTMLUtils.createDocument(`<html><body>${e}</body></html>`).body}if(n.NodeType.isElement(e)){if(e.querySelector("img, svg, video"))return!0}return!!(null===(t=e.textContent)||void 0===t?void 0:t.trim())}}function createPairedMatchExpr(e){return new RegExp(/<(tagName)\b[^>]*>(.*?)<\/\1>/.source.replace("tagName",e),"is")}t.TextUtils=TextUtils,TextUtils.contentFlowTags=new Set(["#text","br","span","i","b","a","input","select","button","sub","sup","strong","small","label","img","svg"]),TextUtils.contentAlwaysFilledTags=new Set(["br","input","select","button","img","svg"]),TextUtils.softSpace="48fa303b-ab44-43a1-91ed-99006919eae3",TextUtils.blockStart="13fc34b9-1efc-434b-bf77-4f857731c2e5",TextUtils.blockEnd="ccb5d4fc-b52b-4e8b-a256-20d0956a10c0",TextUtils.placeHolder="192d7c0a-80b1-4918-86d3-67755f4ae96f",TextUtils.hardBreak="\n";class HTMLUtils{static uniqueClass(e){return`${e||"r"}-${r.Tools.newGuid()}`}static isHtml(e){return!!e&&this.htmlMatches.some((t=>!!e.match(t)))}static createDocument(e){const normalizeDocument=e=>{var t;return"body"!==(null===(t=e.body)||void 0===t?void 0:t.tagName.toLowerCase())&&e.body.remove(),"function"!=typeof e.createElement&&"function"==typeof e.createElement.remove&&e.createElement.remove(),e.body||e.documentElement.appendChild(e.createElement("body")),e};if("string"==typeof e){const t=new DOMParser;if(!e)return normalizeDocument(t.parseFromString("","text/html"));if(this.isHtml(e))return normalizeDocument(t.parseFromString(e,"text/html"));const n=normalizeDocument(t.parseFromString("","text/html"));return n.body.textContent=e,n}return normalizeDocument(e)}static setAttribute(e,t,n){"object"==typeof t?r.Tools.forEach(t,((t,n)=>{e.setAttribute(n,t)})):"string"==typeof n&&e.setAttribute(t,n)}static addStyle(e,t){var n;const o=e.head;t=(0,r.normalizeLineBreaks)(t.trim());const l=null===(n=Array.from(o.querySelectorAll("style")))||void 0===n?void 0:n.filter((e=>(0,r.normalizeLineBreaks)(e.innerText.trim())===t));if(null==l||l.forEach((e=>e.setAttribute(a,"true"))),null==l?void 0:l.length)return;const d=e.createElement("style");this.setAttribute(d,{type:"text/css",[a]:"true"}),d.appendChild(e.createTextNode(t)),o.appendChild(d)}static addStyleLinks(e,t){const n=e.head;r.Tools.forEach(t,(t=>{try{if(n.querySelector("link[href='"+t+"']"))return}catch(e){}const r=e.createElement("link");this.setAttribute(r,{rel:"stylesheet",type:"text/css",[a]:"true"}),n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),this.setAttribute(r,"href",t)}))}static classListToArray(e){var t;return null!==(t=null==e?void 0:e.split(" ").map((e=>e.trim())).filter((e=>!!e)))&&void 0!==t?t:[]}static embedStyles(e,t,n){if(n.cssLinks){const t=[];for(const e of n.cssLinks)t.push(e);this.addStyleLinks(e,t)}if(n.contentStyles){let t="";for(const e of n.contentStyles)t+=e+"\n";t&&this.addStyle(e,`/* RTE style begin */${t}/* RTE style end */`)}this.classListToArray(n.rootClass).forEach((e=>t.classList.add(e)))}static replaceEmbeddedStyles(e,t){var n,r,o,l;const d=this.createDocument(e);Array.from(null!==(r=null===(n=d.head)||void 0===n?void 0:n.querySelectorAll("*["+a+"]"))&&void 0!==r?r:[]).forEach((e=>e.remove())),Array.from(null!==(l=null===(o=d.head)||void 0===o?void 0:o.querySelectorAll("style"))&&void 0!==l?l:[]).forEach((e=>{var t,n;(null!==(n=null===(t=e.textContent)||void 0===t?void 0:t.trim())&&void 0!==n?n:"").startsWith("/* RTE style begin */")&&e.remove()})),t&&this.embedStyles(d,d.body,t)}static decomposeHtml(e,t){let n;return"plain"!==t?(n=new DecomposedHtml(e),{format:null!=t?t:n.format,html:n.html,body:n.body}):{format:"plain",html:"",body:e}}static composeHtml(e,t=!0,n){return new DecomposedHtml(e).compose(t,n)}static getHtmlFromDocument(e){return new DecomposedHtml(e.documentElement.outerHTML)}}t.HTMLUtils=HTMLUtils,HTMLUtils.htmlMatches=[createPairedMatchExpr("head"),function createSingleMatchExpr(e){return new RegExp(/<(tagName)\b[^>]*>/.source.replace("tagName",e),"is")}("meta"),createPairedMatchExpr("body"),createPairedMatchExpr("html")];class SelectionBookmark{constructor(e){this.dom=e;const t=e.document.getSelection();if(t){const n=e.isForwardSelection(t);this.insertMarkers(t,n)}}dispose(){var e,t;if(!this.startMarker)return;const n=this.dom.isForward(null===(e=this.startMarker)||void 0===e?void 0:e.node,null===(t=this.endMarker)||void 0===t?void 0:t.node),r=n?this.startMarker:this.endMarker,o=n?this.endMarker:this.startMarker,a=this.removeMarker(null==r?void 0:r.node,null==r?void 0:r.type),l=this.removeMarker(null==o?void 0:o.node,null==o?void 0:o.type);if(this.startMarker=void 0,this.endMarker=void 0,!a)return;const d=this.dom.document.createRange();if(d.setStart(a.node,a.offset),l)d.setEnd(l.node,l.offset);else try{d.setEnd(a.node,a.offset)}catch(e){}this.dom.setRange(d,n)}generateMarkers(){const e=this.dom.document.body.innerHTML;let t=r.Tools.newGuid();for(;-1!==e.indexOf(t);)t=r.Tools.newGuid();return{startText:"start["+t+"]",endText:"end["+t+"]"}}insertMarker(e,t,n){var r,o,a,l,d,c,u,p,h,g,m;const f=this.dom.document,v=f.createComment(n),b=SelectionBookmark.textNodeConstructors[e.nodeType];if(b){const n=f[b],g=null!==(o=null===(r=e.textContent)||void 0===r?void 0:r.substring(0,t))&&void 0!==o?o:"",m=null!==(l=null===(a=e.textContent)||void 0===a?void 0:a.substring(t))&&void 0!==l?l:"",y=n.call(f,g),_=n.call(f,m);t&&(null===(d=e.parentNode)||void 0===d||d.insertBefore(y,e)),null===(c=e.parentNode)||void 0===c||c.insertBefore(v,e),m.length&&(null===(u=e.parentNode)||void 0===u||u.insertBefore(_,e)),(null===(p=e.textContent)||void 0===p?void 0:p.length)&&(null===(h=e.parentNode)||void 0===h||h.removeChild(e))}else this.dom.insertNodeAt(e,v,t);let y;return y=b?t?t===(null!==(m=null===(g=e.textContent)||void 0===g?void 0:g.length)&&void 0!==m?m:0)?"end":"split":"start":"node",{node:v,type:y,key:n}}insertMarkers(e,t){var n,r,o,a,l,d,c,u,p,h,g,m,f,v,b,y;if(!e||!e.rangeCount)return;const{startText:_,endText:x}=this.generateMarkers(),C=e.getRangeAt(0);"br"===(null===(n=C.startContainer)||void 0===n?void 0:n.nodeName.toLowerCase())&&C.startContainer.parentNode&&C.setStart(C.startContainer.parentNode,this.dom.nodeIndex(C.startContainer)+1),"br"===(null===(r=C.endContainer)||void 0===r?void 0:r.nodeName.toLowerCase())&&C.endContainer.parentNode&&C.setEnd(C.endContainer.parentNode,this.dom.nodeIndex(C.endContainer)+1);const{startOffset:S,endOffset:E,startContainer:k,endContainer:T}=C;if(k!==T)C.compareBoundaryPoints(Range.START_TO_END,C)?(this.endMarker=this.insertMarker(T,E,x),this.startMarker=this.insertMarker(k,S,_)):(this.startMarker=this.insertMarker(k,S,_),this.endMarker=this.insertMarker(T,E,x));else if(S===E)this.startMarker=this.insertMarker(k,S,_);else{const e=k,t=this.dom.document,n=t.createComment(_),r=t.createComment(x),y=SelectionBookmark.textNodeConstructors[e.nodeType];let C="",T="";if(y){const _=Math.min(S,E),x=Math.max(S,E),k=t[y],M=null!==(a=null===(o=e.textContent)||void 0===o?void 0:o.substring(0,_))&&void 0!==a?a:"",q=null!==(d=null===(l=e.textContent)||void 0===l?void 0:l.substring(_,x))&&void 0!==d?d:"",I=null!==(u=null===(c=e.textContent)||void 0===c?void 0:c.substring(x))&&void 0!==u?u:"",A=k.call(t,M),O=k.call(t,q),P=k.call(t,I);let D;M.length>0?(null===(p=e.parentNode)||void 0===p||p.insertBefore(A,e),D="split"):D="start",S<=E?(null===(h=e.parentNode)||void 0===h||h.insertBefore(n,e),C=D):(null===(g=e.parentNode)||void 0===g||g.insertBefore(r,e),T=D),null===(m=e.parentNode)||void 0===m||m.insertBefore(O,e),null===(f=e.parentNode)||void 0===f||f.insertBefore(S<E?r:n,e),I.length>0?(null===(v=e.parentNode)||void 0===v||v.insertBefore(P,e),S<E?T="split":C="split"):S<E?T="end":C="end",null===(b=e.parentNode)||void 0===b||b.removeChild(e)}else S<E?(this.dom.insertNodeAt(e,r,E),this.dom.insertNodeAt(e,n,S)):(this.dom.insertNodeAt(e,n,S),this.dom.insertNodeAt(e,r,E)),C="node",T="node";this.startMarker={node:n,type:C,key:_},this.endMarker={node:r,type:T,key:x}}if(this.dom.setRangeBetween(this.startMarker.node,(null===(y=this.endMarker)||void 0===y?void 0:y.node)?this.endMarker.node:this.startMarker.node,t),!t&&this.endMarker){const e=this.endMarker;this.endMarker=this.startMarker,this.startMarker=e}}removeMarker(e,t){var n,r,o,a,l,d;if(e)try{if("split"===t){const t=e.previousSibling;if((null==t?void 0:t.nodeType)!==Node.TEXT_NODE){const n=null==t?void 0:t.parentNode;if(!n)return;return{node:n,offset:this.dom.nodeIndex(e)}}const l=null!==(r=null===(n=t.textContent)||void 0===n?void 0:n.length)&&void 0!==r?r:0;return(null===(o=e.nextSibling)||void 0===o?void 0:o.nodeType)===Node.TEXT_NODE&&(t.textContent+=null!==(a=e.nextSibling.textContent)&&void 0!==a?a:"",this.dom.deleteNode(e.nextSibling)),{node:t,offset:l}}if("start"===t){const t=e.nextSibling||e.parentNode;if(!t)return;return{node:t,offset:0}}if("end"===t){let t=e.previousSibling;for(;t&&t.nodeType!==Node.TEXT_NODE;)t=t.lastChild;if(!t)return;return{node:t,offset:null!==(d=null===(l=t.textContent)||void 0===l?void 0:l.length)&&void 0!==d?d:0}}{const t=e.parentNode;if(!t)return;return{node:t,offset:this.dom.nodeIndex(e)}}}finally{this.dom.deleteNode(e)}}}SelectionBookmark.textNodeConstructors={3:"createTextNode",4:"createCDATASection",8:"createComment"};class DOMUtils{constructor(e){this.document=e}execCommand(e,t){return"fontsize"===e.toLowerCase()?this.setFontSize(t):this.document.execCommand(e,!1,t)}queryCommandSupported(e){return this.document.queryCommandSupported(e)}queryCommandEnabled(e){return this.document.queryCommandEnabled(e)}queryCommandState(e){return this.document.queryCommandState(e)}queryCommandValue(e){return this.document.queryCommandValue(e)}generateUniqueId(){let e=r.Tools.newGuid();for(;this.document.getElementById(e);)e=r.Tools.newGuid();return e}detachedNode(e){return!e||!e.parentNode||(!e.ownerDocument||!e.ownerDocument.contains(e))}isForward(e,t,r,o){const a=this.document;if(!e||!t||n.NodeType.isRestrictedNode(e)||n.NodeType.isRestrictedNode(t))return!0;if(this.detachedNode(e)||this.detachedNode(t))return!0;const l=a.createRange(),d=a.createRange();try{l.setStart(e,r||0),l.collapse(!0),d.setStart(t,o||0),d.collapse(!0)}catch(e){return!0}return l.compareBoundaryPoints(l.START_TO_START,d)<=0}isForwardSelection(e){if(!e)return!0;const t=e.anchorNode,n=e.focusNode;return this.isForward(t,n,e.anchorOffset,e.focusOffset)}getHtmlFromDocument(e){var t;const n=null!==(t=this.document.cloneNode(!0))&&void 0!==t?t:this.document;return HTMLUtils.replaceEmbeddedStyles(n),(null==e?void 0:e.rootClass)&&(HTMLUtils.classListToArray(e.rootClass).forEach((e=>n.body.classList.remove(e))),""===n.body.className&&n.body.removeAttribute("class")),new DecomposedHtml(n.documentElement.outerHTML)}setHtmlToDocument(e,t,n){let r="";e&&(r="plain"===e.format?TextUtils.convertTextToHtml(e.body):HTMLUtils.composeHtml(e));const o=this.document;try{o.open(),o.write(r),o.close()}catch(e){}HTMLUtils.replaceEmbeddedStyles(o,t),n?o.body.setAttribute("spellcheck","true"):o.body.removeAttribute("spellcheck")}deleteNode(e){e.parentNode&&e.parentNode.removeChild(e)}nodeIndex(e){if(e&&e.parentNode&&e.parentNode.childNodes)for(let t=0;t<e.parentNode.childNodes.length;t++)if(e.parentNode.childNodes[t]===e)return t;return-1}insertNodeAt(e,t,n){e.childNodes.length>n?e.insertBefore(t,e.childNodes[n]):e.appendChild(t)}contains(e,t){if(e.compareDocumentPosition){const n=e.compareDocumentPosition(t);return!!(Node.DOCUMENT_POSITION_CONTAINED_BY&n)||!n}return!1}cloneRange(e){return{startContainer:e.startContainer,start:e.startOffset,endContainer:e.endContainer,end:e.endOffset}}setRange(e,t=!0){const n=this.document.getSelection();if(n&&(n.removeAllRanges(),e)){try{n.addRange(e)}catch(e){}t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset))}}setRangeBetween(e,t,n){const r=this.document.createRange();if(!e.parentNode||!t.parentNode)throw new TypeError;e===t?(r.setStart(e.parentNode,this.nodeIndex(e)),r.setEnd(e.parentNode,this.nodeIndex(e))):(r.setStart(e.parentNode,this.nodeIndex(e)),r.setEnd(t.parentNode,this.nodeIndex(t)+1)),this.restoreRange(r,n)}findContainedParent(e,t){const n=this.document.body;if(this.contains(n,e))return{node:e,index:t};let r=e,o=e.parentNode;for(;o&&o.parentNode&&!this.contains(n,o);)r=o,o=o.parentNode;if(o&&this.contains(n,o))for(let e=0;e<o.childNodes.length;e++)if(o.childNodes[e]===r)return{node:o,index:e}}restoreRange(e,t){const n=this.document.getSelection();if(!n)return;let r=!1;try{n.removeAllRanges(),n.addRange(e),r=!0}catch(e){}if(!n.rangeCount&&r){const t=this.findContainedParent(e.startContainer,e.startOffset),r=this.findContainedParent(e.endContainer,e.endOffset);if(t&&r){e.setStart(t.node,t.index),e.setEnd(r.node,r.index);try{n.removeAllRanges(),n.addRange(e)}catch(e){}}}t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset))}getAllComments(e){const t=this.document,n=t.createTreeWalker(t,NodeFilter.SHOW_COMMENT,(t=>{var n;const r=null!==(n=t.textContent)&&void 0!==n?n:"";return e.indexOf(r)>-1?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}));let r;const o=[];for(;r=n.nextNode();)o.push(r);return o}afterRangeAnchor(e,t,n){let r=e.compareDocumentPosition(t);if(document.DOCUMENT_POSITION_PRECEDING===r)return!0;if(document.DOCUMENT_POSITION_CONTAINS&r){if(!n)return!0;if(r=e.compareDocumentPosition(t.childNodes[n-1]),document.DOCUMENT_POSITION_PRECEDING===r)return!0}return e===t&&this.isTextual(e)}isTextual(e){return[Node.TEXT_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE].indexOf(e.nodeType)>-1}beforeRangeAnchor(e,t,n){let r=e.compareDocumentPosition(t);if(document.DOCUMENT_POSITION_FOLLOWING===r)return!0;if(document.DOCUMENT_POSITION_CONTAINS&r){if(n===t.childNodes.length)return!0;if(r=e.compareDocumentPosition(t.childNodes[n]),document.DOCUMENT_POSITION_FOLLOWING===r)return!0}return e===t&&this.isTextual(e)}withinRange(e,t){const n=this.afterRangeAnchor(e,t.startContainer,t.startOffset),r=this.beforeRangeAnchor(e,t.endContainer,t.endOffset),o=e===t.startContainer&&!t.startOffset,a=e===t.endContainer&&t.endOffset===t.endContainer.childNodes.length;return(n||o)&&(r||a)}getSelectedBottomNodes(e){const t=this.document,n=[];if(e){let r;const o=t.createTreeWalker(t,NodeFilter.SHOW_ALL,null);for(;r=o.nextNode();)r.childNodes&&r.childNodes.length||this.withinRange(r,e)&&n.push(r)}return n.length>1&&(n[0]===e.startContainer&&n[0].childNodes.length<=e.startOffset&&n.shift(),n.length>1&&(n[n.length-1]!==e.endContainer||e.startOffset||n.pop())),n}nodes2names(e){return Array.from(e).map((e=>{let t=e.nodeName.toLowerCase();"strong"===t&&(t="b");const n=e.getAttribute?e.getAttribute("class"):void 0;return n?t+"."+n:t}))}tagNClass(e,...t){const n=e.nodeName.toLowerCase();return-1!==t.findIndex((t=>{const r=t.split(".");return 2===r.length?n===r[0]&&e.className===r[1]:n===r[0]}))}getParentChain(e,t){const n=[];let r=e;for(;r&&(n.push(r),!this.tagNClass(r,t));)r=r.parentNode;return n}substract(e,t){const n=[];for(const r of e)-1===t.indexOf(r)&&n.push(r);return n}diff(e,t){const n=[];for(const r of e)t.indexOf(r)>-1&&n.push(r);return n}getSelectedStyle(e,t,n){this.document;let r;const isEmpty=e=>e.nodeType===Node.TEXT_NODE&&"​"===e.textContent,isException=e=>t&&t.indexOf(e)>-1,o=e.startContainer===e.endContainer&&e.startOffset===e.endOffset?[e.commonAncestorContainer]:this.getSelectedBottomNodes(e);for(const e of o){if(isException(e)||!n&&isEmpty(e))continue;const t=this.nodes2names(this.getParentChain(e,"BODY"));if(r=void 0===r?this.substract(t,["#text","body"]):this.diff(r,t),r&&!r.length)break}return r||[]}specialEmptyNode(e){switch(e.nodeType){case Node.TEXT_NODE:return"​"===e.textContent;case Node.ELEMENT_NODE:const t=e;if(t.getAttribute("data-filler")){if(!t.childNodes.length)return!0;if(1===t.childNodes.length&&"​"===t.childNodes[0].textContent)return!0}}return!1}touchesRange(e,t){if(this.withinRange(e,t))return!0;let n=e.compareDocumentPosition(t.startContainer);return!!(0!==n||document.DOCUMENT_POSITION_CONTAINED_BY&n)||(n=e.compareDocumentPosition(t.endContainer),!!(0!==n||document.DOCUMENT_POSITION_CONTAINED_BY&n))}isInline(e){return!(!e||!e.nodeName)&&DOMUtils.inlineNodeNames.indexOf(e.nodeName.toLowerCase())>-1}insertBefore(e,t){var n;t&&(null===(n=t.parentNode)||void 0===n||n.insertBefore(e,t))}insertAfter(e,t){var n,r;t.nextSibling?null===(n=t.parentNode)||void 0===n||n.insertBefore(e,t.nextSibling):null===(r=t.parentNode)||void 0===r||r.appendChild(e)}tagNClassUp(e,...t){let n=e;for(;n;){if(this.tagNClass(n,...t))return!0;if(n=n.parentNode,1!==(null==n?void 0:n.childNodes.length))break}return!1}findTagNClass(e,...t){for(const n of e)if(this.tagNClass(n,...t))return n;return null}deconstructList(e,t){let n,r;const deconstructLevel=(e,o)=>{let a=[];for(const l of Array.from(e.childNodes))if("li"===l.nodeName.toLowerCase()){const e={markers:o.slice(0),item:l};a.push(e);const d=this.withinRange(l,t);!n&&(this.contains(l,t.startContainer)||d||this.afterRangeAnchor(l,t.startContainer,t.startOffset))&&(n=e,r=e),n&&(this.contains(l,t.endContainer)||d)&&(r=e)}else a=a.concat(deconstructLevel(l,o.concat(l)));return a},o=deconstructLevel(e,[e]);return{list:o,start:o.indexOf(n),end:o.indexOf(r)}}shadowList(e){const t=this.document;for(const n of e)for(let e=0;e<n.markers.length;e++)n.markers[e]=t.createElement(n.markers[e].nodeName)}shiftList(e,t,n,r){const o=this.document;if(this.shadowList(e),r)for(let r=t;r<=n;r++){const t=e[r].markers;t.push(o.createElement(t[t.length-1].nodeName))}else for(let r=t;r<=n;r++)e[r].markers.pop()}removeDuplicateListNodes(e){if(e.length){e[0].newMarkers=e[0].markers.slice(0);for(let t=1;t<e.length;t++){const n=e[t],r=e[t-1],o=Math.min(n.markers.length,r.markers.length);let a=!1;for(let e=0;e<o;e++){if(n.markers[e].nodeName.toLowerCase()!==r.markers[e].nodeName.toLowerCase()){n.insertAt=r.markers[e-1],n.newMarkers=n.markers.slice(e),a=!0;break}n.markers[e]=r.markers[e]}a||(n.insertAt=r.markers[o-1],n.newMarkers=n.markers.slice(o))}}}transferChildren(e,t){for(;e.childNodes.length;)t.appendChild(e.childNodes[0])}reconstructList(e,t){const n=this.document;let r=t;for(const t of e){if(!t.markers.length){const e=n.createElement("div");this.transferChildren(t.item,e),this.insertAfter(e,r),r=e}else{let e=t.insertAt;if(!e){const n=t.newMarkers.shift();n&&(this.insertAfter(n,r),r=n,e=n)}for(;t.newMarkers.length;){const n=t.newMarkers.shift();e.appendChild(n),e=n}e.appendChild(t.item)}}}indentList(e,t,n){this.document;let r=e;for(this.tagNClass(r,"ul","ol")||(r=this.findTagNClass(this.getParentChain(r,"body").reverse(),"ul","ol"));r&&r.parentNode&&this.tagNClass(r.parentNode,"ul","ol");)r=r.parentNode;if(!r)return;const o=this.deconstructList(r,t);this.shiftList(o.list,o.start,o.end,n),this.removeDuplicateListNodes(o.list),this.reconstructList(o.list,r),this.deleteNode(r)}orderedRange(e){const t=this.document;if(!e)return e;const n=e.startContainer.compareDocumentPosition(e.endContainer),swapped=e=>{const n=t.createRange();return n.setStart(e.endContainer,e.endOffset),n.setEnd(e.startContainer,e.startOffset),n};if(n){if(n===document.DOCUMENT_POSITION_PRECEDING)return swapped(e);if(n&document.DOCUMENT_POSITION_CONTAINED_BY){if(this.beforeRangeAnchor(e.endContainer,e.startContainer,e.startOffset))return swapped(e)}else if(n&document.DOCUMENT_POSITION_CONTAINS&&!this.beforeRangeAnchor(e.startContainer,e.endContainer,e.endOffset))return swapped(e)}else if(e.startOffset>e.endOffset)return swapped(e);return e}getLastDescendant(e){const t=this.document.createTreeWalker(e,NodeFilter.SHOW_ALL,null);let n,r=e;for(;n=t.nextNode();)r=n;return r}insideRange(e,t){this.document;const n=this.orderedRange(t);return this.withinRange(e,n)&&this.withinRange(this.getLastDescendant(e),n)}createBlockquoteBlock(){const e=this.document.createElement("blockquote");return e.setAttribute("class","shift"),e.style.marginLeft="40px",e}shiftBlock(e,t){var n;let r;if(this.tagNClass(e,"blockquote.shift")?r=e:e.parentNode&&this.tagNClass(e.parentNode,"blockquote.shift")&&(r=e.parentNode),r&&r.nodeType===Node.ELEMENT_NODE){const e=r,t=e.style.marginLeft,n=sizeToPx(t||"0px");e.style.marginLeft=n+40+"px"}else{const r=t();null===(n=e.parentNode)||void 0===n||n.insertBefore(r,e);let o=e.nextSibling;o&&o.nodeType===Node.COMMENT_NODE&&(o=o.nextSibling),o&&"br"===o.nodeName.toLowerCase()&&this.deleteNode(o),r.appendChild(e)}}indentRec(e,t){this.document;const visibleContent=e=>e.some((e=>!this.specialEmptyNode(e)&&(!(e.nodeType===Node.TEXT_NODE&&!e.textContent)&&e.nodeType!==Node.COMMENT_NODE)));let n=[];for(const r of e)if(!(n.indexOf(r)>-1)&&this.touchesRange(r,t))if(this.isInline(r)){const e=[r];let t=r;for(;(t=t.nextSibling)&&this.isInline(t);)e.push(t);let o=r;for(;(o=o.previousSibling)&&this.isInline(o);)e.shift();if(visibleContent(e)){const n=this.createBlockquoteBlock();for(this.insertBefore(n,r);e.length;){const t=e.shift();t&&n.appendChild(t)}t&&this.tagNClass(t,"br")&&this.deleteNode(t)}n=n.concat(e)}else this.tagNClassUp(r,"ul","ol","li")?this.indentList(r,t,!0):this.tagNClass(r,"table.layout","blockquote.realbq","tbody","tr","td")||!this.insideRange(r,t)?this.indentRec(Array.from(r.childNodes),t):this.tagNClass(r,"br")||this.shiftBlock(r,(()=>this.createBlockquoteBlock()))}createRange(e,t,n,r){const o=this.document.createRange();return e&&o.setStart(e,null!=t?t:0),n&&o.setEnd(n,null!=r?r:0),o}queryRange(e,t){const n=[];if(e.commonAncestorContainer.nodeType===Node.ELEMENT_NODE){const r=e.commonAncestorContainer,o=Array.from(r.querySelectorAll(t));for(const t of o)this.withinRange(t,e)&&n.push(t)}return n}isRangeFlipped(e){return e.startContainer===e.endContainer?e.startOffset>e.endOffset:!!(document.DOCUMENT_POSITION_PRECEDING&e.startContainer.compareDocumentPosition(e.endContainer))}partition(e,t,n,r){const o=[],a=[];for(const n of e)t(n)?o.push(n):a.push(n);return{[n||"accepted"]:o,[r||"rejected"]:a}}getSelectedTextNodes(e){const t=this.document,n=Array.from(t.body.querySelectorAll("span[data-field=yes]")),r=[];for(const e of n){const n=[],o=t.createTreeWalker(e,NodeFilter.SHOW_TEXT,null);let a;for(;a=o.nextNode();)n.push(a);r.push({field:e,text:n})}const o=t.createTreeWalker(t,NodeFilter.SHOW_TEXT,null);let a;const l=[];if(e)for(;a=o.nextNode();)if(this.withinRange(a,e)){let e=!1;for(const t of r)t.text.indexOf(a)>-1&&(t.visited||(l.push(t.field),t.visited=!0),e=!0);e||l.push(a)}return l.length>1&&(l[0]===e.startContainer&&l[0].childNodes.length<=e.startOffset&&l.shift(),l.length>1&&(l[l.length-1]!==e.endContainer||e.startOffset||l.pop())),l}expandRangeToLines(e){var t;const n=this.document;if(!e)return e;const r=n.createRange(),o=n.body;if(e.collapsed&&e.startContainer===o&&o.childNodes.length>e.startOffset)if(this.isInline(o.childNodes[e.startOffset])){let n,a=o.childNodes[e.startOffset];for(;a&&this.isInline(a);)n=a,a=a.nextSibling;let l,d=null===(t=o.childNodes[e.startOffset])||void 0===t?void 0:t.previousSibling;for(;d&&this.isInline(d);)l=d,d=d.previousSibling;l?r.setStart(o,this.nodeIndex(l)):r.setStart(o,e.startOffset),n?r.setEnd(o,this.nodeIndex(n)+1):r.setEnd(o,e.endOffset)}else{let t=o.childNodes[e.startOffset];for(;t.childNodes.length&&!this.isInline(t.childNodes[0]);)t=t.childNodes[0];r.setStart(t,0),r.setEnd(t,t.childNodes.length)}else{if(this.isInline(e.startContainer)){let t=this.isTextual(e.startContainer)?e.startContainer:e.startOffset?e.startContainer.childNodes[e.startOffset-1]:e.startContainer;for(;this.isInline(t)&&t.parentNode&&this.isInline(t.parentNode);)t=t.parentNode;if(this.isInline(t))for(;t.previousSibling&&this.isInline(t.previousSibling);)t=t.previousSibling;t.parentNode&&r.setStart(t.parentNode,this.nodeIndex(t))}else{let t=e.startOffset;for(;t>0&&this.isInline(e.startContainer.childNodes[t-1]);)t--;r.setStart(e.startContainer,t)}if(this.isInline(e.endContainer)){let t=null;if(this.isTextual(e.endContainer)?t=e.endContainer:e.endOffset===e.endContainer.childNodes.length?this.isInline(e.endContainer)?t=e.endContainer:r.setEnd(e.endContainer,e.endOffset):e.endOffset?t=e.endContainer.childNodes[e.endOffset-1]:this.isInline(e.endContainer)?t=e.endContainer:e.endContainer.childNodes.length&&this.isInline(e.endContainer.childNodes[0])?t=e.endContainer.childNodes[0]:r.setEnd(e.endContainer,0),t){for(;t&&t.parentNode&&this.isInline(t)&&this.isInline(t.parentNode);)t=t.parentNode;if(t&&this.isInline(t))for(;t.nextSibling&&this.isInline(t.nextSibling);)t=t.nextSibling;t&&t.parentNode&&r.setEnd(t.parentNode,this.nodeIndex(t)+1)}}else{let t=e.endOffset;for(;t<e.endContainer.childNodes.length&&this.isInline(e.endContainer.childNodes[t]);)t++;r.setEnd(e.endContainer,t)}}const a=this.createRange(e.startContainer,e.startOffset,r.startContainer,r.startOffset),l=this.queryRange(a,"br");let d=null;if(l.length&&(d=this.isRangeFlipped(a)?l[0]:l[l.length-1],d)){const e=this.partition(this.getSelectedTextNodes(a),(e=>!!(document.DOCUMENT_POSITION_FOLLOWING&d.compareDocumentPosition(e))),"before","after");e.before.length&&r.setStartBefore(e.before.pop())}const c=this.createRange(e.endContainer,e.endOffset,r.endContainer,r.endOffset);if(this.queryRange(c,"br").length&&d){const e=this.partition(this.getSelectedTextNodes(a),(e=>!!(document.DOCUMENT_POSITION_FOLLOWING&d.compareDocumentPosition(e))),"before","after");e.after.length&&r.setEndBefore(e.after.shift())}return r}range(){const e=this.document.getSelection();return(null==e?void 0:e.rangeCount)?e.getRangeAt(0).cloneRange():void 0}indentBlock(){const e=this.document;let t=this.range();if(!t)return!1;t=this.expandRangeToLines(t);const n=t.commonAncestorContainer===e.body?Array.from(t.commonAncestorContainer.childNodes):[t.commonAncestorContainer];return this.indentRec(n,t),!0}expandToUpperBlocks(e){this.document;const isBoundary=e=>this.tagNClass(t.startContainer,"ul","ol","li","table.layout","blockquote.realbq","tbody","tr","td","body","#document"),t=this.orderedRange(e).cloneRange();for(;!isBoundary(t.startContainer);){const e=this.nodeIndex(t.startContainer);t.startContainer.parentNode&&t.setStart(t.startContainer.parentNode,e)}for(;!isBoundary(t.endContainer);){const e=this.nodeIndex(t.endContainer)+1;t.endContainer.parentNode&&t.setEnd(t.endContainer.parentNode,e)}return t}promoteNode(e){var t,n;const r=e.parentNode;null===(t=null==r?void 0:r.parentNode)||void 0===t||t.insertBefore(e,r),null===(n=null==r?void 0:r.parentNode)||void 0===n||n.removeChild(r)}outdentRec(e,t){const n=this.document,hasOneBlockChild=e=>1===e.childNodes.length&&!this.isInline(e.childNodes[0]);for(const r of e)if(this.touchesRange(r,t))if(this.tagNClass(r,"ul","ol","li"))this.indentList(r,t,!1);else if(this.tagNClass(r,"blockquote.shift")){const e=r,t=e.style.marginLeft;if(t){const r=sizeToPx(t)-40;if(r>0)e.style.marginLeft=r+"px";else if(hasOneBlockChild.call(this,e))this.promoteNode(e.childNodes[0]);else{const t=n.createElement("div");this.insertBefore(t,e),this.transferChildren(e,t),this.deleteNode(e)}}}else this.outdentRec(Array.from(r.childNodes),t)}outdentBlock(){const e=this.document;let t=this.range();if(!t)return!1;t=this.expandToUpperBlocks(this.expandRangeToLines(t));const n=t.commonAncestorContainer===e.body?Array.from(t.commonAncestorContainer.childNodes):[t.commonAncestorContainer];return this.outdentRec(n,t),!0}filterNodes(e,t){return e.filter((e=>t.indexOf(e.nodeName.toLowerCase())>-1))}filteredParentChain(e,t){return this.filterNodes(this.getParentChain(e,"BODY"),t)}expandRangeToItems(e,t){const n=this.document,r=this.filteredParentChain(e.startContainer,t).pop(),o=this.filteredParentChain(e.endContainer,t).pop();if(r||o){const t=n.createRange();return r?t.setStartBefore(r):t.setStart(e.startContainer,e.startOffset),o?t.setEndAfter(o):t.setEnd(e.endContainer,e.endOffset),t}return e}expandRangeToListItems(e){return this.expandRangeToItems(e,["li"])}isCursorAtTop(e){return e.collapsed&&"body"===e.startContainer.nodeName.toLowerCase()}topList(e){let t=e;for(;t&&t.parentNode&&this.tagNClass(t.parentNode,"ul","ol");)t=t.parentNode;return t}removeNested(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];let o=!1;for(let t=0;t<e.length;t++)if(n!==t){const n=e[t],a=!!(document.DOCUMENT_POSITION_CONTAINED_BY&n.compareDocumentPosition(r));if(o=o||a,o)break}o||t.push(r)}const n=[];for(let e=0;e<t.length;e++)-1===t.indexOf(t[e],e+1)&&n.push(t[e]);return n}setListType(e,t,n,r){const o=this.document;let a=1e3;for(let r=t;r<=n;r++){const t=e[r];a=Math.min(a,t.markers.length-1)}for(let l=t;l<=n;l++){const t=e[l];if(a>-1)for(let e=a;e<t.markers.length;e++)t.markers[e]=o.createElement(r)}this.shadowList(e)}isReversedRange(e){const t=e.startContainer.compareDocumentPosition(e.endContainer);return t?t===document.DOCUMENT_POSITION_PRECEDING||(t&document.DOCUMENT_POSITION_CONTAINED_BY?this.beforeRangeAnchor(e.endContainer,e.startContainer,e.startOffset):!!(t&document.DOCUMENT_POSITION_CONTAINS)&&!this.beforeRangeAnchor(e.startContainer,e.endContainer,e.endOffset)):e.startOffset>e.endOffset}isBlock(e){return!(!e||!e.nodeName)&&DOMUtils.blockNodeNames.indexOf(e.nodeName.toLowerCase())>-1}nameIs(e,t){return e&&e.nodeName.toLowerCase()===t.toLowerCase()}expandRangeToRight(e,t){let n=e;for(;n;)if(n.nodeType===Node.TEXT_NODE||n.nodeType===Node.COMMENT_NODE)t=this.nodeIndex(n)+1,n=n.parentNode;else if(t>=n.childNodes.length){const e=n.nodeName.toLowerCase();if(this.isBlock(n)||"body"===e||"html"===e||"#document"===e)break;t=this.nodeIndex(n)+1,n=n.parentNode}else{const e=n.childNodes[t];if(this.nameIs(e,"br")||this.isBlock(e))break;t++}return{container:n,offset:t}}expandRangeToLeft(e,t){let n=e;for(;n;)if(n.nodeType===Node.TEXT_NODE||n.nodeType===Node.COMMENT_NODE)t=this.nodeIndex(n),n=n.parentNode;else if(t){const e=n.childNodes[t];if(this.nameIs(e,"br")||this.isBlock(e))break;t--}else{const e=n.nodeName.toLowerCase();if(this.isBlock(n)||"body"===e||"html"===e||"#document"===e)break;t=this.nodeIndex(n),n=n.parentNode}return{container:n,offset:t}}expandRangeToLines1(e){if(!e)return e;const t=e.cloneRange();let n,r;return this.isReversedRange(e)?(n=this.expandRangeToRight(e.startContainer,e.startOffset),r=this.expandRangeToLeft(e.endContainer,e.endOffset)):(n=this.expandRangeToLeft(e.startContainer,e.startOffset),r=this.expandRangeToRight(e.endContainer,e.endOffset)),t.setStart(n.container,n.offset),t.setEnd(r.container,r.offset),t}getSelectedTopNodes(e){const t=[],n=Array.from(this.document.body.childNodes);for(const r of n)this.touchesRange(r,e)&&t.push(r);return t}getSelectedTopNodeStrides(e){const getCells=e=>{let t=e;const n=[];t.children[0]&&"tbody"===t.children[0].nodeName.toLowerCase()&&(t=t.children[0]);for(const e of Array.from(t.children))for(const t of Array.from(e.children))n.push(t);return n},t=[];let n=[];const createStride=()=>{n.length&&(t.push(n),n=[])},selectedChildren=t=>t&&t.childNodes?Array.from(t.childNodes).filter((t=>this.withinRange(t,e))):[],r=this.getSelectedTopNodes(e);for(const e of r)if(this.tagNClass(e,"blockquote.realbq")){createStride();for(const t of Array.from(e.childNodes))if(this.tagNClass(t,"table.layout")){const e=getCells(t);for(const t of e)createStride(),n=n.concat(selectedChildren(t));createStride()}else n.push(t);createStride()}else if(this.tagNClass(e,"table.layout")){const t=getCells(e);for(const e of t)createStride(),n=n.concat(selectedChildren(e));createStride()}else n.push(e);return n.length&&t.push(n),t}createListTree(){return{list:[],addItem(e){this.list.push(e)},last(){return this.list[this.list.length-1]},ensureListItem(){this.list.length||this.list.push([]),this.last().constructor!==Array&&this.list.push([])},addListItem(e){this.ensureListItem(),this.last().push(Array.prototype.slice.call(e.childNodes))},appendToListItem(e){this.ensureListItem();const t=this.last();t.length||t.push([]),t[t.length-1].push(e)},hasLists(){return this.list.some((e=>e.constructor===Array))},isList:e=>e.constructor===Array,removeBR(){}}}insideRangeExt(e,t){if(this.insideRange(e,t))return!0;let n=e;for(;n&&(n=1===n.childNodes.length?n.firstChild:null);)if(this.insideRange(n,t))return!0;return!1}hasSingleChild(e,t){return-1===e.childNodes.length&&(!t||e.childNodes[0].nodeName.toLowerCase()===t)}isCR(e){var t;if("BR"===e.nodeName)return!0;if("DIV"===e.nodeName&&this.hasSingleChild(e,"br"))return!0;if("P"===e.nodeName){if(!e.childNodes.length)return!0;if(this.hasSingleChild(e,"#text")&&" "===e.childNodes[0].textContent)return!0;if(1===e.childNodes.length&&"BR"===(null===(t=e.firstChild)||void 0===t?void 0:t.nodeName))return!0}return!1}replace(e,t){let n=e;for(let e=0;e<t.length;e+=2)n=n.replace(RegExp(t[e],"g"),t[e+1]);return n}isBlockNode(e){if(!e)return!1;switch(e.nodeName.toLowerCase()){case"div":case"p":case"h1":case"h2":case"h3":case"h4":case"h5":case"pre":case"blockquote":case"br":return!0}return!1}focusInsideContainersEnd(e){var t,n;if(!e)return;let r=e;for(;"br"!==r.nodeName.toLowerCase();)if(r.lastChild&&!this.nameIs(r.lastChild,"br"))r=r.lastChild;else{if(!(r.lastChild&&this.nameIs(r.lastChild,"br")&&r.lastChild.previousSibling)||this.nameIs(r.lastChild.previousSibling,"br"))break;r=r.lastChild.previousSibling}const o=this.document.createRange();if(r.nodeType===Node.TEXT_NODE){const e=null!==(n=null===(t=r.textContent)||void 0===t?void 0:t.length)&&void 0!==n?n:0;o.setStart(r,e),o.setEnd(r,e)}else{let e=r.childNodes.length;r&&r.lastChild&&this.nameIs(r.lastChild,"br")&&e--,o.setStart(r,e),o.setEnd(r,e)}this.setRange(o)}focusInsideTag(e){if(!e)return;const t=this.document.createRange();t.setStart(e,0),t.setEnd(e,0),this.setRange(t)}insertList(e){const t=this.range();if(!t)return;const n=this.document;let r=[];const o=this.expandRangeToListItems(t);if(this.isCursorAtTop(o)){if(n.body.childNodes.length>t.startOffset){const e=n.body.childNodes[t.startOffset];this.tagNClass(e,"ul","ol")&&(r=[e])}}else r=this.queryRange(o,"li").map((e=>e.parentNode)).filter((e=>!!e)).map((e=>this.topList(e)));r.length||"li"===o.commonAncestorContainer.nodeName.toLowerCase()&&o.commonAncestorContainer.parentNode&&(r=[this.topList(o.commonAncestorContainer.parentNode)]);const a=this.nodes2names(r);if(r.length){const t=e?"ul":"ol",n=this.removeNested(r);if(a.indexOf(t)>-1)for(const t of n){const n=this.deconstructList(t,o);this.setListType(n.list,n.start,n.end,e?"ol":"ul"),this.removeDuplicateListNodes(n.list),this.reconstructList(n.list,t),this.deleteNode(t)}else for(const e of n){const t=this.deconstructList(e,o);for(let e=t.start;e<=t.end;e++)t.list[e].markers.splice(0,t.list[e].markers.length);this.shadowList(t.list),this.removeDuplicateListNodes(t.list),this.reconstructList(t.list,e),this.deleteNode(e)}}else{const r=this.expandRangeToLines1(t),o=this.getSelectedTopNodeStrides(r);for(const t of o){const o=this.createListTree(),a=[];if(t.some((e=>this.insideRangeExt(e,r)))){if(t.length){for(const e of t){const t=this.isCR(e);t||""!==this.replace(e.textContent,["​",""," ","","\r","","\n","","\t",""])?t?o.addItem(e):this.isBlockNode(e)?(o.addListItem(e),a.push(e)):o.appendToListItem(e):a.push(e)}}if(o.hasLists()){o.removeBR();const r=n.createElement("span");let l=t[0];const d=l.parentNode;let c;d.insertBefore(r,l),l=r;for(let t=o.list.length-1;t>=0;t--){const r=o.list[t];if(o.isList(r)){const t=n.createElement(e?"ol":"ul");d.insertBefore(t,l),l=t;for(const e of r){const r=n.createElement("li");t.appendChild(r);for(const t of e)r.appendChild(t)}c||(c=t.lastChild)}else d.insertBefore(r,l),l=r,c||(c=r)}for(const e of a)this.deleteNode(e);this.deleteNode(r),this.focusInsideContainersEnd(c)}else{const t=n.createElement(e?"ol":"ul"),o=n.createElement("li");t.appendChild(o),r.insertNode(t),this.focusInsideTag(o)}}}}}insertOrderedList(){return this.insertList(!0),!0}insertUnorderedList(){return this.insertList(!1),!0}setAttribute(e,t,n){"object"==typeof t?r.Tools.forEach(t,((t,n)=>{e.setAttribute(n,t)})):"string"==typeof n&&e.setAttribute(t,n)}addStyle(e){var t;const n=this.document,o=n.head;e=(0,r.normalizeLineBreaks)(e.trim());const l=null===(t=Array.from(o.querySelectorAll("style")))||void 0===t?void 0:t.filter((t=>(0,r.normalizeLineBreaks)(t.innerText.trim())===e));if(null==l||l.forEach((e=>e.setAttribute(a,"true"))),null==l?void 0:l.length)return;const d=n.createElement("style");this.setAttribute(d,{type:"text/css",[a]:"true"}),d.appendChild(n.createTextNode(e)),o.firstChild?o.insertBefore(d,o.firstChild):o.appendChild(d)}addStyleLinks(e){const t=this.document,n=t.head;r.Tools.forEach(e,(e=>{try{if(n.querySelector("link[href='"+e+"']"))return}catch(e){}const r=t.createElement("link");this.setAttribute(r,{rel:"stylesheet",type:"text/css",[a]:"true"}),n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),this.setAttribute(r,"href",e)}))}insertNodeAtSelection(e){var t;const n=this.document,r=this.range();if(!r)return;r.deleteContents();const o=r.startOffset;let a=r.startContainer;if(a.nodeType===Node.TEXT_NODE&&(a=a.parentNode),a)if(a.nodeType===Node.TEXT_NODE&&e.nodeType===Node.TEXT_NODE){const t=e;a.insertData(o,t.data),r.setEnd(a,o+t.length),r.setStart(a,o+t.length)}else{let l,d;if(a.nodeType===Node.TEXT_NODE){const r=a;if(a=r.parentNode,!a)return;const c=null!==(t=r.nodeValue)&&void 0!==t?t:"",u=c.substring(0,o),p=c.substring(o);d=n.createTextNode(u),l=n.createTextNode(p),a.insertBefore(l,r),a.insertBefore(e,l),a.insertBefore(d,e),a.removeChild(r)}else if(a.childNodes&&(l=a.childNodes[o]),l){if(a.insertBefore(e,l),-1===Array.from(a.childNodes).indexOf(e)){const t=n.createElement("div");a.insertBefore(t,l),this.insertAfter(e,t),this.deleteNode(t)}}else{if(a.appendChild(e),-1===Array.from(a.childNodes).indexOf(e)){const t=n.createElement("div");a.appendChild(t),a.appendChild(e),this.deleteNode(t)}l=e}try{r.setEnd(l,0),r.setStart(l,0),r.collapse(!0),this.setRange(r)}catch(e){}}}rangeGetNode(e,t){if(n.NodeType.isElement(e)&&e.hasChildNodes()){const n=e.childNodes;return n[Math.min(Math.max(t,0),n.length-1)]}return e}getRoot(){return this.document.body}getParents(e,t,r,o){const a=[];let l=e;o=void 0===o;const d=r||("BODY"!==this.getRoot().nodeName?this.getRoot().parentNode:null);for(;l&&!(l===d||n.Type.isNullable(l.nodeType)||n.NodeType.isDocument(l)||n.NodeType.isDocumentFragment(l));){if(!t||t(l)){if(!o)return[l];a.push(l)}l=l.parentNode}return o?a:null}getParent(e,t,n){const r=this.getParents(e,t,n,!1);return r&&r.length>0?r[0]:null}findCommonAncestor(e,t){let n=e;for(;n;){let e=t;for(;e&&n!==e;)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n}isChildOf(e,t){return e===t||t.contains(e)}getChildrenIterator(e){return document.createNodeIterator(e,NodeFilter.SHOW_ALL,{acceptNode:e=>NodeFilter.FILTER_ACCEPT})}getChildNodes(e){const t=[],n=this.getChildrenIterator(e);for(;n.nextNode();)t.push(n.referenceNode);return t}walkRange(e,t,n){let r=this.rangeGetNode(e.startContainer,e.startOffset);const o=this.rangeGetNode(e.endContainer,e.endOffset-1),a=this.getChildrenIterator(e.commonAncestorContainer),acceptNode=e=>!n||n(e);for(;a.nextNode();){const e=a.referenceNode;if(!r||e===r){if(r=null,acceptNode(e)&&!0===t(e))break;if(e===o){const n=this.getChildrenIterator(e);for(;n.nextNode();){const e=n.referenceNode;if(acceptNode(e)&&!0===t(e))break}break}}}}withCSS(e){const t="styleWithCSS",n=this.document.queryCommandState(t);n||this.document.execCommand(t,!1,"true");try{return e()}finally{n||this.document.execCommand(t,!1,"false")}}saveSelection(e){const t=new SelectionBookmark(this);try{return e(t)}finally{t.dispose()}}getFontSize(){let e;const t=[],r=this.document.getSelection();if(r&&r.rangeCount){const o=r.getRangeAt(0);if(this.walkRange(o,(r=>{var a,l;if(n.NodeType.isText(r)){if(!(null!==(a=r.data)&&void 0!==a?a:"").trim().length)return;if(!o.collapsed&&(o.startContainer===r&&o.startOffset>=(null===(l=r.data)||void 0===l?void 0:l.length)||o.endContainer===r&&o.endOffset<=0))return}else if(!n.NodeType.isBr(r))return;const d=r.parentNode;if(n.NodeType.isElement(d)){t.push(d);const n=this.getComputedStyle(d);if(e=n.fontSize,e)return!0}})),e)return e}t.push(this.getRoot());for(const e of t){const t=this.getComputedStyle(e).fontSize;if(t)return t}return null}matchFormat(e,t){const n=this.getComputedStyle(e);for(const e in t.styles)if(n.getPropertyValue(e)!==t.styles[e])return!1;return!0}containOnlyFormat(e,t){const n=Array(e.style);for(const e of n)if(void 0===t.styles[e])return!1;return!0}applyFormatToElement(e,t){if(e.tagName===t.wrapperTag&&this.containOnlyFormat(e,t)){const n=e.parentElement;if(n&&this.matchFormat(n,t)){return Array.from(e.childNodes).forEach((t=>{e.removeChild(t),n.insertBefore(t,e)})),void e.remove()}}const r=e.style;for(const o in t.styles){const a=t.styles[o];n.Type.isString(a)?r[o]=a:a(e,o)}}applyStyleToSelection(e){return this.saveSelection((t=>{const r=this.document.getSelection();if(!r||!r.rangeCount)return!1;const o=r.getRangeAt(0),a=[];this.walkRange(o,(e=>{var n,r;e!==(null===(n=t.startMarker)||void 0===n?void 0:n.node)&&e!==(null===(r=t.endMarker)||void 0===r?void 0:r.node)&&a.push(e)}));const l=e.wrapperTag.toUpperCase();let d=[],c=null;const validStyleElement=e=>{if(e===this.getRoot())return!1;const n=this.document.createRange();n.selectNode(e);return(n.compareBoundaryPoints(Range.START_TO_START,o)>=0||o.startContainer===e&&0===o.startOffset||e.firstChild===(null===(r=t.startMarker)||void 0===r?void 0:r.node))&&(()=>{var r;return n.compareBoundaryPoints(Range.END_TO_END,o)<=0||o.endContainer===e&&o.endOffset===e.childNodes.length||e.lastChild===(null===(r=t.endMarker)||void 0===r?void 0:r.node)})();var r},completeSequence=()=>{if(null==d?void 0:d.length)try{const t=d[0];let r=t.parentElement;if(!r||!n.NodeType.isElement(r))return;if(this.matchFormat(r,e))return;if(!validStyleElement(r)){const e=this.document.createElement(l);r.insertBefore(e,t),d.forEach((e=>null==r?void 0:r.removeChild(e))),e.replaceChildren(...d),r=e}this.applyFormatToElement(r,e)}finally{d=[]}};return a.forEach((e=>{if(n.NodeType.isText(e)||n.NodeType.isBr(e))return c&&c.nextSibling===e?d.push(e):(c&&completeSequence(),d=[e]),void(c=e);completeSequence()})),completeSequence(),!0}))}getComputedStyle(e){var t,n;const r=null!==(t=e.ownerDocument)&&void 0!==t?t:this.document;return(null!==(n=null==r?void 0:r.defaultView)&&void 0!==n?n:window).getComputedStyle(e)}setFontSize(e){const changeSize=(t,n)=>{const r=sizeToPx(this.getComputedStyle(t).fontSize);t.style.fontSize=r+parseFloat(null!=e?e:"")+"px"};let t=null!=e?e:"";return e&&("-"!==e.charAt(0)&&"+"!==e.charAt(0)||(t=changeSize)),this.applyStyleToSelection({wrapperTag:"SPAN",styles:{"font-size":t}})}}t.DOMUtils=DOMUtils,DOMUtils.blockNodeNames=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","noscript","ol","output","p","pre","section","table","tfoot","ul","video","tr","td","li","th"],DOMUtils.inlineNodeNames=["b","big","i","small","tt","abbr","acronym","cite","code","dfn","em","kbd","strong","samp","var","a","bdo",,"img","map","object","q","script","span","sub","sup","button","input","label","select","textarea","#text","#comment","#cdata-section","s","strike","u","font"]}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/editor/editor.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/dom.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/events.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/events.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/surfaces.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/shortcuts.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/plugins.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/state.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/options.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextEditor=void 0;class EditorCommandWrapper{constructor(e){var t,n;this.command=e,this.name=e.name,this.getEnabled=null===(t=e.getEnabled)||void 0===t?void 0:t.bind(e),this.getValue=null===(n=e.getValue)||void 0===n?void 0:n.bind(e),this.shortcut=e.shortcut,this.icon=e.icon,this.label=e.label,this.tooltip=e.tooltip}execute(e,t){if(this.getEnabled&&!this.getEnabled(e))return!1;if(e.dispatch(o.EditorEventName.BeforeExecCommand,this.name).isDefaultPrevented())return!1;try{return this.command.execute(e,t)}finally{e.dispatch(o.EditorEventName.ExecCommand,this.name)}}}class RichTextEditor extends o.EditorSlotStorage{constructor(e){super(),this.host=e,this.document=null,this.shortcuts=new c.Shortcuts,this.options=new h.Options,this.eventManager=new l.EventManager,this.plugins=[],this.commands={},this.callbacks=[],this.element=null,this.currentMode="visual"}dispose(){this.eventManager.dispose(),this.disposeSurface(),super.dispose()}init(e){if(n.Tools.forEach(null!=e?e:{},((e,t)=>this.options.register(t,e))),this.attachPlugins(this.options.plugins),n.Tools.forEach(this.plugins,(e=>{var t;return null===(t=e.init)||void 0===t?void 0:t.call(e,this)})),this.createContainer(),!this.recreateSurface(this.currentMode)){const e=this.getDefaultMode();if(this.currentMode!==e&&!this.recreateSurface(e))throw new TypeError}n.Tools.forEach(this.plugins,(e=>{var t;return null===(t=e.show)||void 0===t?void 0:t.call(e,this)})),this.dispatch(o.EditorEventName.Init)}refresh(){var e;const t=this.currentMode,n=null===(e=this.document)||void 0===e?void 0:e.content;this.dispatch(o.EditorEventName.OptionChanged),n&&this.applyContent(n,{style:t})}addEventListener(e){return this.callbacks.push(e),{dispose:()=>{const t=this.callbacks.findIndex((t=>t===e));-1!==t&&this.callbacks.splice(t,1)}}}processHostEvents(e){this.callbacks.forEach((t=>t(e))),this.host.dispatch&&this.host.dispatch(e)}dispatch(e,t){const n=new a.RichTextEditorEvent(this,(0,a.CreateControlEvent)(e,t));return this.dispatchEvent(n),n}getContent(e){var t,n,a,l;const d=this.translateContent(null!==(a=null!==(t=this.pendingContent)&&void 0!==t?t:null===(n=this.document)||void 0===n?void 0:n.content)&&void 0!==a?a:{format:"fragment",html:"",body:""},"from-editor");switch(null==e?void 0:e.allowEmpty){case"html":if(""===d.body)return"";break;case"content":if(!r.TextUtils.elementHasContent(d.body))return"";break;case"text":if(""===r.TextUtils.convertValueToPlainText(d).body)return""}if(void 0===(null==e?void 0:e.format)){if("plain"===d.format)return d.body;if("fragment"===d.format&&r.TextUtils.elementIsPlain(d.body))return r.TextUtils.convertValueToPlainText(d).body}if(void 0===(null==e?void 0:e.format)||"html"===(null==e?void 0:e.format)){let t;return t=(0,o.isEditMode)(null==e?void 0:e.style)?this.options.styles[e.style]:null!==(l=null==e?void 0:e.style)&&void 0!==l?l:this.options.styles[this.mode],r.HTMLUtils.composeHtml(d,!0,t)}return d.body}get content(){return this.getContent()}get readonly(){return this.options.readonly}setContent(e,t){this.applyContent(this.translateContent(r.HTMLUtils.decomposeHtml(e,null==t?void 0:t.format),"to-editor"))}set mode(e){e!==this.currentMode&&(this.readonly&&"plain"!==e&&"preview"!==e||this.recreateSurface(e))}get mode(){return this.currentMode}executeCommand(e,t){var n,r;return null!==(r=null===(n=this.queryCommand(e))||void 0===n?void 0:n.execute(this,t))&&void 0!==r&&r}queryCommand(e){return this.commands[(0,o.normalizeEntityName)(e)]}focus(){var e;null===(e=this.document)||void 0===e||e.focus()}getFocused(){var e;return(null===(e=this.document)||void 0===e?void 0:e.getFocused())||!1}getState(){return p.EditorDocumentState.makeState(this)}setState(e){if(e&&e instanceof p.EditorDocumentState)if(e.mode===this.mode){if(!this.document)throw new TypeError;this.document.setState(e.documentState)}else{if(!this.recreateSurface(e.mode,null))throw new TypeError;this.document.setState(e.documentState)}}handleSurfaceEvents(e,t){const n=new a.RichTextEditorEvent(this,t);return this.shortcuts.dispatch(n),this.dispatchEvent(n),!1}getDefaultMode(){return this.readonly?"preview":"visual"}applyContent(e,t){let n;if(this.readonly?n="plain"===e.format?"plain":"preview":((null==t?void 0:t.style)&&(0,o.isEditMode)(null==t?void 0:t.style)&&(n=null==t?void 0:t.style),n||(n="plain"===e.format?"plain":"visual")),this.document)try{if(this.mode!==n){if(this.recreateSurface(n,e))return;if(n=this.getDefaultMode(),this.mode!==n&&this.recreateSurface(n,e))return}this.document.content=e}finally{this.dispatch(o.EditorEventName.Init)}else this.currentMode=n,this.pendingContent=e}attachPlugins(e){n.Tools.forEach(n.Tools.map(e,(e=>u.EditorPlugins.get(e))),(e=>e&&this.attachPlugin(e)))}attachPlugin(e){this.plugins.push(e),n.Tools.forEach(e.commands,(e=>{const t=(0,o.normalizeEntityName)(e.name);this.commands[t]=new EditorCommandWrapper(e),e.shortcut&&this.shortcuts.addShortcut(e.shortcut,t)}))}createContainer(){if(this.element)return;this.element=this.host.editorHost;const e=this.host.hostElement,t=e.ownerDocument;this.eventManager.on(t,"keydown keyup",(t=>{e.contains(t.target)&&this.shortcuts.dispatch(new a.RichTextEditorEvent(this,t))}))}recreateSurface(e,t){var n,r;if(!this.element)throw new TypeError;void 0===t?t=null!==(r=null===(n=this.document)||void 0===n?void 0:n.content)&&void 0!==r?r:this.pendingContent:null===t&&(t=void 0),t&&(t=this.translateContent(this.translateContent(t,"from-editor"),"to-editor",e));const a=this.getFocused(),l=(0,d.createSurface)(e,this.element,this.options,t,(()=>this.disposeSurface()));return!!l&&(l.addEventListener(this.handleSurfaceEvents.bind(this)),a&&l.focus(),this.document=l,this.currentMode=e,this.pendingContent=void 0,l.init(),this.dispatch(o.EditorEventName.ModeChanged),!0)}disposeSurface(){var e,t;this.pendingContent=null===(e=this.document)||void 0===e?void 0:e.content,null===(t=this.document)||void 0===t||t.dispose(),this.document=null}dispatchEvent(e){return this.processHostEvents(e),this.plugins.forEach((t=>t.dispatch&&t.dispatch(e))),!0}translateContent(e,t,n){const r={value:Object.assign({},e),direction:t,targetMode:null!=n?n:this.currentMode,handled:!1};return!this.dispatch(o.EditorEventName.ContentTranslating,r).isDefaultPrevented()&&r.handled?r.value:e}}t.RichTextEditor=RichTextEditor}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/editor/events.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js")],o=function(e,t,n){"use strict";function getEventAs(e,t){var n,r,o;const a=e.target;if(e instanceof(null!==(o=(null!==(r=null===(n=null==a?void 0:a.ownerDocument)||void 0===n?void 0:n.defaultView)&&void 0!==r?r:window)[t.name])&&void 0!==o?o:t))return e}Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextEditorEvent=t.getEventAs=t.CreateControlEvent=void 0,t.CreateControlEvent=function CreateControlEvent(e,t){return new CustomEvent(n.EditorEventType.ControlEvent,{bubbles:!0,detail:{eventName:e,data:t}})},t.getEventAs=getEventAs;t.RichTextEditorEvent=class RichTextEditorEvent{constructor(e,t){var r,o;if(this.source=e,this.nativeEvent=t,this.defaultPrevented=!1,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this.type=t.constructor.name,this.name=t.type,t instanceof CustomEvent){const e=t.type;e in n.EditorEventType&&(this.type=n.EditorEventType[e],this.type===n.EditorEventType.ControlEvent&&(this.name=(null===(o=null===(r=this.as(CustomEvent))||void 0===r?void 0:r.detail)||void 0===o?void 0:o.eventName)||""))}}isDefaultPrevented(){return this.defaultPrevented}preventDefault(){this.defaultPrevented||(this.nativeEvent.preventDefault(),this.defaultPrevented=!0)}stopImmediatePropagation(){this.nativeEvent.stopImmediatePropagation(),this.immediatePropagationStopped=!0}isImmediatePropagationStopped(){return this.immediatePropagationStopped}stopPropagation(){this.nativeEvent.stopPropagation(),this.propagationStopped=!0}isPropagationStopped(){return this.immediatePropagationStopped||this.propagationStopped}as(e){return getEventAs(this.nativeEvent,e)}}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/editor/format":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/plugins.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontHighlightColorsOption=t.FontBackgroundColorsOption=t.FontColorsOption=t.FontSizeOption=t.FontNameOption=t.FormatBlockOption=void 0,t.FormatBlockOption="format-block-option",t.FontNameOption="font-name-option",t.FontSizeOption="font-size-option",t.FontColorsOption="font-colors-option",t.FontBackgroundColorsOption="font-background-colors-option",t.FontHighlightColorsOption="font-highlight-colors-option",o.EditorPlugins.register("format",(e=>{class FormatCommand{constructor(e,t={},n){this.name=e,this.options={},"object"==typeof t?(Object.assign(this.options,t),"string"==typeof n&&(this.options.shortcut=n)):this.options.shortcut=t}get shortcut(){return this.options.shortcut}get label(){return this.options.label}get command(){var e;return null!==(e=this.options.command)&&void 0!==e?e:this.name}execute(e,t){var n,r;if(!e.document)return!1;const o=this.valueToCommand(null!==(r=null!==(n=this.options.value)&&void 0!==n?n:t&&t.length?t[0]:void 0)&&void 0!==r?r:this.options.defaultValue);return e.document.execCommand(this.command,o)}getValue(e){const t=e.document;if(!t)return;let n;return n=!1!==this.options.stateIsValue?t.queryCommandState(this.command):t.queryCommandValue(this.command),this.commandToValue(n)}getEnabled(e){if(!e.document)return!1;const t=this.command;return e.document.queryCommandSupported(t)}valueToCommand(e){return e}commandToValue(e){return e}}class FormatBlockOptions{constructor(e){this.options=e,this.values={},e.forEach((e=>this.values[e.label]=e.value))}static OptionsGetter(e,n){return(0,r.decodeSelectorOptions)(e.options.get(t.FormatBlockOption))}valueToOption(e){var t;const n=Object.keys(this.values);if(0===n.length)return null;let r=n[0];const o=(e||"").split(",");if(o.length>0){const e=n.map((e=>({key:e,index:o.indexOf(this.values[e])}))).filter((e=>e.index>=0)).sort(((e,t)=>e.index-t.index));e.length>0&&(r=e[0].key)}return null!==(t=this.options.find((e=>e.label===r)))&&void 0!==t?t:null}optionToValue(e){return null==e?void 0:e.value}}class FormatBlockCommand extends FormatCommand{constructor(){super(r.EditorCommandAlias.FormatBlock)}getValue(e){var t,n,r;return(null!==(r=null===(n=null===(t=e.document)||void 0===t?void 0:t.getSelection())||void 0===n?void 0:n.getParagraphStyle())&&void 0!==r?r:[]).join(",")}}FormatBlockCommand.ActionName=r.EditorCommandAlias.FormatBlock;class FontNameOptions{constructor(e){this.options=e,this.values={},e.forEach((e=>this.values[e.label]=e.value))}static OptionsGetter(e,n){return(0,r.decodeSelectorOptions)(e.options.get(t.FontNameOption))}valueToOption(e){var t;const r=Object.keys(this.values);if(0===r.length)return null;let o=r[0];const a=this.parseFontList(null!=e?e:"");if(a.length){const e=this.getFontMap();for(const t of a){const r=[];if(n.Tools.forEach(e,((e,n)=>{const o=e.indexOf(t);-1!==o&&r.push({key:n,index:o})})),r.length){o=r.sort(((e,t)=>e.index-t.index))[0].key;break}}}return null!==(t=this.options.find((e=>e.label===o)))&&void 0!==t?t:null}optionToValue(e){return null==e?void 0:e.value}getFontMap(){return this.fontMap||(this.fontMap={},n.Tools.forEach(this.values,((e,t)=>{this.fontMap[t]=this.parseFontList(e)}))),this.fontMap}parseFontList(e){return(null!=e?e:"").split(",").map((e=>{return(t=e.trim().toLowerCase())&&'"'===t.charAt(0)?t.substring(1,t.length-1).trim():t;var t})).filter((e=>!!e))}}class FontNameCommand extends FormatCommand{constructor(){super(r.EditorCommandAlias.FontName,{stateIsValue:!1})}commandToValue(e){return"string"==typeof e?e:""}}FontNameCommand.ActionName=r.EditorCommandAlias.FontName;class FontSizeOptions{constructor(e){this.options=e}static Convert(e){var t;const n=e.value,r=e.label.toLowerCase().match(/^([\d\.]+)(\D*)$/);if(!r)return e;let o=parseFloat(r[1]);return isNaN(o)?e:("pt"===(null!==(t=r[2])&&void 0!==t?t:"").toLowerCase()&&(o=o/1.5*2),o=Math.round(o),{label:String(o),value:n})}static OptionsGetter(e,n){return(0,r.decodeSelectorOptions)(e.options.get(t.FontSizeOption),FontSizeOptions.Convert)}valueToOption(e){return e?FontSizeOptions.Convert({label:String(e),value:e}):this.options.length?this.options[0]:null}optionToValue(e){return null==e?void 0:e.value}}class FontSizeCommand extends FormatCommand{constructor(){super(r.EditorCommandAlias.FontSize)}getValue(e){var t,n;return null===(n=null===(t=e.document)||void 0===t?void 0:t.getSelection())||void 0===n?void 0:n.getFontSize()}commandToValue(e){return"string"==typeof e?e:""}}FontSizeCommand.ActionName=r.EditorCommandAlias.FontSize;const o=[new FormatCommand(r.EditorCommandAlias.Underline,{label:"Underline"},"meta+u"),new FormatCommand(r.EditorCommandAlias.Strike,{label:"Strikethrough"}),new FormatCommand(r.EditorCommandAlias.Subscript,{label:"Subscript"}),new FormatCommand(r.EditorCommandAlias.Superscript,{label:"Superscript"})],a=[new FormatCommand(r.EditorCommandAlias.JustifyLeft,{label:"Align Text Left",stateIsValue:!0},"meta+l"),new FormatCommand(r.EditorCommandAlias.JustifyCenter,{label:"Center",stateIsValue:!0},"meta+e"),new FormatCommand(r.EditorCommandAlias.JustifyRight,{label:"Align Text Right",stateIsValue:!0},"meta+r"),new FormatCommand(r.EditorCommandAlias.JustifyFull,{label:"Justify",stateIsValue:!0},"meta+j")];return{name:e,init(e){e.options.registerDefault(t.FormatBlockOption,{Paragraph:"p","Heading 1":"h1","Heading 2":"h2","Heading 3":"h3","Heading 4":"h4","Heading 5":"h5","Heading 6":"h6",Preformatted:"pre",Quote:"blockquote"}),e.options.registerDefault(t.FontNameOption,{Arial:"arial,helvetica,sans-serif","Arial Black":"arial black,sans-serif","Book Antiqua":"book antiqua,palatino,serif","Comic Sans MS":"comic sans ms,sans-serif","Courier New":"courier new,courier,monospace",Georgia:"georgia,palatino,serif",Helvetica:"helvetica,arial,sans-serif",Impact:"impact,sans-serif",Symbol:"symbol",Tahoma:"tahoma,arial,helvetica,sans-serif",Terminal:"terminal,monaco,monospace","Times New Roman":"times new roman,times,serif","Trebuchet MS":"trebuchet ms,geneva,sans-serif",Verdana:"verdana,geneva,sans-serif",Webdings:"webdings",Wingdings:"wingdings,zapf dingbats"}),e.options.registerDefault(t.FontSizeOption,"8px;10px;12px;14px;16px;24px;32px")},commands:[new FormatCommand(r.EditorCommandAlias.Bold,{label:"Bold"},"meta+b"),new FormatCommand(r.EditorCommandAlias.Italic,{label:"Italic"},"meta+i"),...o,new FormatCommand(r.EditorCommandAlias.Indent,{label:"Indent"}),new FormatCommand(r.EditorCommandAlias.Outdent,{label:"Outdent"}),new FormatCommand(r.EditorCommandAlias.InsertOrderedList),new FormatCommand(r.EditorCommandAlias.InsertUnorderedList),...a,new FormatCommand(r.EditorCommandAlias.BackColor,{stateIsValue:!1,defaultValue:"white"}),new FormatCommand(r.EditorCommandAlias.HiliteColor,{stateIsValue:!1,defaultValue:"yellow"}),new FormatCommand(r.EditorCommandAlias.ForeColor,{stateIsValue:!1,defaultValue:"black"}),new FormatBlockCommand,new FontNameCommand,new FontSizeCommand,new FormatCommand("font-size-inc",{command:r.EditorCommandAlias.FontSize,value:"+1"},"meta+shift+>"),new FormatCommand("font-size-dec",{command:r.EditorCommandAlias.FontSize,value:"-1"},"meta+shift+<")],actions:[(0,r.createButtonGroup)("underline-group","menu",o),(0,r.createButtonGroup)("justify-group","menu",a),(0,r.createSelector)(FormatBlockCommand.ActionName,FormatBlockOptions.OptionsGetter,FormatBlockOptions),(0,r.createSelector)(FontNameCommand.ActionName,FontNameOptions.OptionsGetter,FontNameOptions),(0,r.createSelector)(FontSizeCommand.ActionName,FontSizeOptions.OptionsGetter,{sort:!0,converter:FontSizeOptions}),(0,r.createColorPicker)(r.EditorCommandAlias.ForeColor,{value:"red",defaultValue:"",userColorsOption:t.FontColorsOption}),(0,r.createColorPicker)(r.EditorCommandAlias.HiliteColor,{allowNull:!0,value:"yellow",defaultValue:"inherit",userColorsOption:t.FontHighlightColorsOption}),(0,r.createColorPicker)(r.EditorCommandAlias.BackColor,{allowNull:!0,defaultValue:"inherit",userColorsOption:t.FontBackgroundColorsOption})]}}))}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/editor/index.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("client-controls/controls/compound/rich-text-editor/editor/format"),n("client-controls/controls/compound/rich-text-editor/editor/modes"),n("client-controls/controls/compound/rich-text-editor/editor/toolbar"),n("client-controls/controls/compound/rich-text-editor/editor/undo")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(r,t),n.__exportStar(o,t),n.__exportStar(a,t),n.__exportStar(l,t)}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/editor/modes":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/plugins.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.EditorPlugins.register("modes",(e=>{const t={name:(0,n.normalizeEntityName)(n.EditorCommandAlias.ChangeMode),execute(e,t){if(t&&t.length){const r=t[0];"string"==typeof r&&(0,n.isEditMode)(r)&&(e.mode=r)}return!0},getValue:e=>e.mode};class SetEditorModeAction{constructor(e,t,r,o){this.name=e,this.label=t,this.mode=r,this.shortcut=o,this.type="command",this.commandName=n.EditorCommandAlias.ChangeMode,this.icon=""}get args(){return[this.mode]}getPushed(e){return e.mode===this.mode}}const r=new SetEditorModeAction("editMode","Visual","visual","meta+m>meta+e, f2"),o=new SetEditorModeAction("sourceMode","HTML","source","meta+m>meta+s, f4"),a=new SetEditorModeAction("plainMode","Plain text","plain","meta+m>meta+t"),l=new SetEditorModeAction("previewMode","Preview","preview","meta+m>meta+p");return{name:e,commands:[t],actions:[r,o,l,{name:"mode-group",type:"control",bind:e=>({modelName:"button-group",model:{id:"mode-group",mode:"toggle",buttons:[(0,n.createButtonFromCommand)(e,t.name,r),(0,n.createButtonFromCommand)(e,t.name,o),(0,n.createButtonFromCommand)(e,t.name,a),(0,n.createButtonFromCommand)(e,t.name,l)]}})}]}}))}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/editor/options.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Options=void 0;t.Options=class Options{constructor(){this.map={}}get id(){return this.get("id")}get readonly(){return!!this.get("readonly")}get toolbar(){var e;return null!==(e=this.get("toolbar"))&&void 0!==e?e:""}get plugins(){var e;return null!==(e=this.get("plugins"))&&void 0!==e?e:[]}get styles(){var e;return null!==(e=this.get("styles"))&&void 0!==e?e:{}}get spellcheck(){return this.get("spellcheck")}has(e){return void 0!==this.map[this.makeKey(e)]}registerDefault(e,t){this.has(e)||this.register(e,t)}register(e,t){this.map[this.makeKey(e)]=t}get(e){return this.map[this.makeKey(e)]}makeKey(e){return(0,n.normalizeEntityName)(e)}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/editor/plugins.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorPlugins=void 0,t.EditorPlugins=new class{constructor(){this.pluginCache={}}get(e){const t=(0,n.normalizeEntityName)(e);let r=this.pluginCache[t];return"function"==typeof r&&(r=r(t),this.pluginCache[t]=r),r}register(e,t){this.pluginCache[(0,n.normalizeEntityName)(e)]=t}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/editor/sanitizer.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlSanitizer=void 0;class HtmlSanitizer{SanitizeHtml(e){var t,n;if(""===(e=e.trim()))return"";if("<br>"===e.toLowerCase())return"";-1===e.toLowerCase().indexOf("<body")&&(e=`<body>${e}`);const r=(new DOMParser).parseFromString(e,"text/html");"body"!==r.body.tagName.toLowerCase()&&r.body.remove(),"function"!=typeof r.createElement&&"function"==typeof r.createElement.remove&&r.createElement.remove(),r.head&&r.head.querySelectorAll&&Array.from(r.head.querySelectorAll('link[rel="stylesheet"]')).forEach((e=>{r.body.insertBefore(e,r.body.firstChild)}));const makeSanitizedCopy=e=>{let t;if(e.nodeType===Node.TEXT_NODE)t=e.cloneNode(!0);else if(e.nodeType===Node.ELEMENT_NODE){const n=e.tagName.toUpperCase();if(!HtmlSanitizer.tagBlacklist.has(n)){if(HtmlSanitizer.contentTagWhiteList.has(n)||-1!==n.indexOf("-"))t=r.createElement("DIV");else try{t=r.createElement(n)}catch(e){return}for(const n of e.attributes){const r=n.name.toLowerCase();if(!HtmlSanitizer.attributeBlacklist.has(r))if("style"===n.name)for(const n of e.style)t.style.setProperty(n,e.style.getPropertyValue(n));else{if(HtmlSanitizer.uriAttributes.has(r)&&n.value.indexOf(":")>-1&&!this.startsWithAny(n.value,HtmlSanitizer.schemaWhiteList))continue;try{t.setAttribute(n.name,n.value)}catch(e){}}}for(const n of e.childNodes){const e=makeSanitizedCopy(n);e&&t.appendChild(e,!1)}}}else e.nodeType===Node.COMMENT_NODE&&(t=r.createComment(e.data));return t};return null!==(n=null===(t=makeSanitizedCopy(r.body))||void 0===t?void 0:t.innerHTML)&&void 0!==n?n:""}startsWithAny(e,t){for(const n of t)if(0===e.indexOf(n))return!0;return!1}}t.HtmlSanitizer=HtmlSanitizer,HtmlSanitizer.attributeBlacklist=new Set(["fscommand","onabort","onactivate","onafterprint","onafterupdate","onbeforeactivate","onbeforecopy","onbeforecut","onbeforedeactivate","onbeforeeditfocus","onbeforepaste","onbeforeprint","print","onbeforeunload","onbeforeupdate","onbegin","onblur","onbounce","oncellchange","onchange","onclick","oncontextmenu","oncontrolselect","oncopy","oncut","ondataavailable","ondatasetchanged","ondatasetcomplete","ondblclick","ondeactivate","ondrag","ondragend","ondragleave","ondragenter","ondragover","ondragdrop","ondragstart","ondrop","onend","onerror","onerrorupdate","onfilterchange","onfinish","onfocus","onfocusin","onfocusout","onhashchange","onhelp","oninput","onkeydown","onkeypress","onkeyup","onlayoutcomplete","onload","onlosecapture","releasecapture","onmediacomplete","onmediaerror","onmessage","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onmove","onmoveend","onmovestart","onoffline","ononline","onoutofsync","onpaste","onpause","onpopstate","onprogress","onpropertychange","onreadystatechange","onredo","onrepeat","onreset","onresize","onresizeend","onresizestart","onresume","onreverse","onrowsenter","onrowexit","onrowdelete","onrowinserted","onscroll","scrollby","onseek","onselect","onselectionchange","onselectstart","onstart","onstop","onstorage","onsyncrestored","onsubmit","ontimeerror","ontrackchange","onundo","onunload","onurlflip","seeksegmenttime"]),HtmlSanitizer.tagBlacklist=new Set(["SCRIPT","IFRAME","FRAME","FRAMESET"]),HtmlSanitizer.contentTagWhiteList=new Set(["FORM"]),HtmlSanitizer.schemaWhiteList=["http:","https:","data:","m-files:","file:","ftp:","mailto:","pw:"],HtmlSanitizer.uriAttributes=new Set(["href","action"])}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/compound/rich-text-editor/editor/selection.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/dom.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextareaSelection=t.DocumentBookmark=t.DocumentPersistentBookmark=t.DocumentSelectionRange=t.DocumentSelection=void 0;class DocumentSelectionPersistent{constructor(e){var t,n,r,o;this.direction="none",this.start="",this.end="",this.left=0,this.top=0;const a=e.document,l=a.getSelection();if(l){const t=l.rangeCount?l.getRangeAt(0):void 0;t&&(this.start=DocumentSelectionPersistent.serializePosition(t.startContainer,t.startOffset),this.end=DocumentSelectionPersistent.serializePosition(t.endContainer,t.endOffset),this.direction=e.isForwardSelection(l)?"forward":"backward")}this.left=null!==(n=null===(t=a.body)||void 0===t?void 0:t.scrollLeft)&&void 0!==n?n:0,this.top=null!==(o=null===(r=a.body)||void 0===r?void 0:r.scrollTop)&&void 0!==o?o:0}static getNodeIndex(e){let t=0,n=e;for(;n=n.previousSibling;)t++;return t}static serializePosition(e,t,n){var r,o;if(e){n=null!==(o=null!=n?n:null===(r=e.ownerDocument)||void 0===r?void 0:r.documentElement)&&void 0!==o?o:document.documentElement;const a=[];for(;e&&e!==n;)a.push(this.getNodeIndex(e)),e=e.parentNode;return a.join("/")+":"+t}return""}static deserializePosition(e,t,n){n=null!=n?n:(null!=t?t:document).documentElement;const r=e.split(":"),o=r[0]?r[0].split("/"):[];let a,l=o.length,d=n;for(;l--;){if(a=parseInt(o[l],10),!(a<d.childNodes.length))return null;d=d.childNodes[a]}return{node:d,offset:parseInt(r[1],10)}}restore(e){let t=!0;const n=e.createRange();try{t="forward"===this.direction;const r=DocumentSelectionPersistent.deserializePosition(this.start,e.document);if(!(null==r?void 0:r.node))return;n.setStart(r.node,r.offset);const o=DocumentSelectionPersistent.deserializePosition(this.end,e.document);o&&n.setEnd(o.node,o.offset)}finally{e.setRange(n,t),e.document.body.scrollTo({left:this.left,top:this.top})}}}t.DocumentSelection=class DocumentSelection{constructor(e){this.dom=e,this.selection=e.document.getSelection(),this.selection?e.isForwardSelection(this.selection)?this.direction="forward":this.direction="backward":this.direction="none"}getRange(){if(this.selection&&this.selection.rangeCount)return new DocumentSelectionRange(this.dom.document,this.selection.getRangeAt(0))}addBookmark(){if(this.selection)return DocumentBookmark.insert(this.dom,this.selection,"backward"!==this.direction)}hasStyle(e){return this.getSelectedStyles().indexOf(e)>-1}getParagraphStyle(){return this.getSelectedStyles()}getFontName(){return this.dom.queryCommandValue("fontName")}getFontSize(){return this.dom.getFontSize()}save(){return new DocumentSelectionPersistent(this.dom)}restore(e){e&&e instanceof DocumentSelectionPersistent&&e.restore(this.dom)}getSelectedStyles(){var e;return(null===(e=this.selection)||void 0===e?void 0:e.rangeCount)?this.dom.getSelectedStyle(this.selection.getRangeAt(0)):[]}};class DocumentSelectionRange{constructor(e,t){this.document=e,this.range=t,this.defaultView=e.defaultView}getStartContainer(){return this.range.startContainer}getStartOffset(){return this.range.startOffset}getEndContainer(){return this.range.endContainer}getEndOffset(){return this.range.endOffset}select(){if(!this.defaultView)return;const e=this.defaultView.getSelection();e&&(e.removeAllRanges(),e.addRange(this.range))}selectNode(e){this.range.selectNode(e)}selectNodeContents(e){this.range.selectNodeContents(e)}toString(){return this.range.toString()}isEqual(e){return this.document===e.document&&!!this.range&&!!e.range&&0===this.range.compareBoundaryPoints(Range.START_TO_START,e.range)&&0===this.range.compareBoundaryPoints(Range.END_TO_END,e.range)}clone(){return new DocumentSelectionRange(this.document,this.range.cloneRange())}surroundContents(e){return this.range.surroundContents(e),e}isCollapsed(){return this.range.collapsed}setStart(e,t){this.range.setStart(e,t)}setEnd(e,t){this.range.setEnd(e,t)}selectTextElem(e){this.range.selectNode(e)}collapse(){this.range.collapse()}deleteContents(){this.range.deleteContents()}ancestorContainer(){return this.range.commonAncestorContainer}}t.DocumentSelectionRange=DocumentSelectionRange;class DocumentPersistentBookmark{constructor(e){this.startMarker=e.startMarker,this.endMarker=e.endMarker}restore(e){var t,r;const o=new n.DOMUtils(e),a=null===(t=this.startMarker)||void 0===t?void 0:t.key;if(!a)return;const l=[a],d=null===(r=this.endMarker)||void 0===r?void 0:r.key;d&&l.push(d);const c=o.getAllComments(l);let u,p;for(const e of c)if(e.textContent===a&&(u=e),d&&e.textContent===d&&(p=e),u&&p)break;if(!u)return;const h=new DocumentBookmark(o);return h.startMarker={node:u,type:this.startMarker.type,key:this.startMarker.key},p&&(h.endMarker={node:p,type:this.endMarker.type,key:this.endMarker.key}),h}}t.DocumentPersistentBookmark=DocumentPersistentBookmark;class DocumentBookmark{constructor(e){this.dom=e}save(){return new DocumentPersistentBookmark(this)}remove(){var e,t;if(!this.startMarker)return;const n=this.dom.isForward(null===(e=this.startMarker)||void 0===e?void 0:e.node,null===(t=this.endMarker)||void 0===t?void 0:t.node),r=n?this.startMarker:this.endMarker,o=n?this.endMarker:this.startMarker,a=this.removeMarker(null==r?void 0:r.node,null==r?void 0:r.type),l=this.removeMarker(null==o?void 0:o.node,null==o?void 0:o.type);if(this.startMarker=void 0,this.endMarker=void 0,!a)return;const d=this.dom.document.createRange();if(d.setStart(a.node,a.offset),l)d.setEnd(l.node,l.offset);else try{d.setEnd(a.node,a.offset)}catch(e){}this.dom.setRange(d,n)}static insert(e,t,n){const r=new DocumentBookmark(e);return r.insertMarkers(t,n),r}generateMarkers(){const e=this.dom.document.body.innerHTML;let t=r.Tools.newGuid();for(;-1!==e.indexOf(t);)t=r.Tools.newGuid();return{startText:`start[${t}]`,endText:`end[${t}]`}}insertMarker(e,t,n){var r,o,a,l,d,c,u,p,h,g,m;const f=this.dom.document,v=f.createComment(n),b=DocumentBookmark.textNodeConstructors[e.nodeType];if(b){const n=f[b],g=null!==(o=null===(r=e.textContent)||void 0===r?void 0:r.substring(0,t))&&void 0!==o?o:"",m=null!==(l=null===(a=e.textContent)||void 0===a?void 0:a.substring(t))&&void 0!==l?l:"",y=n.call(f,g),_=n.call(f,m);t&&(null===(d=e.parentNode)||void 0===d||d.insertBefore(y,e)),null===(c=e.parentNode)||void 0===c||c.insertBefore(v,e),m.length&&(null===(u=e.parentNode)||void 0===u||u.insertBefore(_,e)),(null===(p=e.textContent)||void 0===p?void 0:p.length)&&(null===(h=e.parentNode)||void 0===h||h.removeChild(e))}else this.dom.insertNodeAt(e,v,t);let y;return y=b?t?t===(null!==(m=null===(g=e.textContent)||void 0===g?void 0:g.length)&&void 0!==m?m:0)?"end":"split":"start":"node",{node:v,type:y,key:n}}insertMarkers(e,t){var n,r,o,a,l,d,c,u,p,h,g,m,f,v,b,y;if(!e||!e.rangeCount)return;const{startText:_,endText:x}=this.generateMarkers(),C=e.getRangeAt(0);"br"===(null===(n=C.startContainer)||void 0===n?void 0:n.nodeName.toLowerCase())&&C.startContainer.parentNode&&C.setStart(C.startContainer.parentNode,this.dom.nodeIndex(C.startContainer)+1),"br"===(null===(r=C.endContainer)||void 0===r?void 0:r.nodeName.toLowerCase())&&C.endContainer.parentNode&&C.setEnd(C.endContainer.parentNode,this.dom.nodeIndex(C.endContainer)+1);const{startOffset:S,endOffset:E,startContainer:k,endContainer:T}=C;if(k!==T)C.compareBoundaryPoints(Range.START_TO_END,C)?(this.endMarker=this.insertMarker(T,E,x),this.startMarker=this.insertMarker(k,S,_)):(this.startMarker=this.insertMarker(k,S,_),this.endMarker=this.insertMarker(T,E,x));else if(S===E)this.startMarker=this.insertMarker(k,S,_);else{const e=k,t=this.dom.document,n=t.createComment(_),r=t.createComment(x),y=DocumentBookmark.textNodeConstructors[e.nodeType];let C="",T="";if(y){const _=Math.min(S,E),x=Math.max(S,E),k=t[y],M=null!==(a=null===(o=e.textContent)||void 0===o?void 0:o.substring(0,_))&&void 0!==a?a:"",q=null!==(d=null===(l=e.textContent)||void 0===l?void 0:l.substring(_,x))&&void 0!==d?d:"",I=null!==(u=null===(c=e.textContent)||void 0===c?void 0:c.substring(x))&&void 0!==u?u:"",A=k.call(t,M),O=k.call(t,q),P=k.call(t,I);let D;M.length>0?(null===(p=e.parentNode)||void 0===p||p.insertBefore(A,e),D="split"):D="start",S<=E?(null===(h=e.parentNode)||void 0===h||h.insertBefore(n,e),C=D):(null===(g=e.parentNode)||void 0===g||g.insertBefore(r,e),T=D),null===(m=e.parentNode)||void 0===m||m.insertBefore(O,e),null===(f=e.parentNode)||void 0===f||f.insertBefore(S<E?r:n,e),I.length>0?(null===(v=e.parentNode)||void 0===v||v.insertBefore(P,e),S<E?T="split":C="split"):S<E?T="end":C="end",null===(b=e.parentNode)||void 0===b||b.removeChild(e)}else S<E?(this.dom.insertNodeAt(e,r,E),this.dom.insertNodeAt(e,n,S)):(this.dom.insertNodeAt(e,n,S),this.dom.insertNodeAt(e,r,E)),C="node",T="node";this.startMarker={node:n,type:C,key:_},this.endMarker={node:r,type:T,key:x}}if(this.dom.setRangeBetween(this.startMarker.node,(null===(y=this.endMarker)||void 0===y?void 0:y.node)?this.endMarker.node:this.startMarker.node,t),!t&&this.endMarker){const e=this.endMarker;this.endMarker=this.startMarker,this.startMarker=e}}removeMarker(e,t){var n,r,o,a,l,d;if(e)try{if("split"===t){const t=e.previousSibling;if((null==t?void 0:t.nodeType)!==Node.TEXT_NODE){const n=null==t?void 0:t.parentNode;if(!n)return;return{node:n,offset:this.dom.nodeIndex(e)}}const l=null!==(r=null===(n=t.textContent)||void 0===n?void 0:n.length)&&void 0!==r?r:0;return(null===(o=e.nextSibling)||void 0===o?void 0:o.nodeType)===Node.TEXT_NODE&&(t.textContent+=null!==(a=e.nextSibling.textContent)&&void 0!==a?a:"",this.dom.deleteNode(e.nextSibling)),{node:t,offset:l}}if("start"===t){const t=e.nextSibling||e.parentNode;if(!t)return;return{node:t,offset:0}}if("end"===t){let t=e.previousSibling;for(;t&&t.nodeType!==Node.TEXT_NODE;)t=t.lastChild;if(!t)return;return{node:t,offset:null!==(d=null===(l=t.textContent)||void 0===l?void 0:l.length)&&void 0!==d?d:0}}{const t=e.parentNode;if(!t)return;return{node:t,offset:this.dom.nodeIndex(e)}}}finally{this.dom.deleteNode(e)}}}t.DocumentBookmark=DocumentBookmark,DocumentBookmark.textNodeConstructors={3:"createTextNode",4:"createCDATASection",8:"createComment"};class TextareaSelectionPersistent{constructor(e){this.direction="none",this.start=0,this.end=0,this.left=0,this.top=0,this.direction=e.selectionDirection,this.start=e.selectionStart,this.end=e.selectionEnd,this.top=e.scrollTop,this.left=e.scrollLeft}restore(e){e.setSelectionRange(this.start,this.end,this.direction),e.scrollTo({left:this.left,top:this.top})}}t.TextareaSelection=class TextareaSelection{constructor(e){this.textarea=e,this.direction=e.selectionDirection}getRange(){}addBookmark(){}hasStyle(e){return!1}getParagraphStyle(){return[]}getFontName(){return null}getFontSize(){return null}save(){return new TextareaSelectionPersistent(this.textarea)}restore(e){e&&e instanceof TextareaSelectionPersistent&&e.restore(this.textarea)}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/editor/shortcuts.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/common/keyboard.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shortcuts=void 0;t.Shortcuts=class Shortcuts{constructor(){this.service=new n.ShortcutService}dispose(){this.service.dispose()}dispatch(e){if(!e.isDefaultPrevented()&&("keyup"===e.name||"keydown"===e.name)){const t=e.as(KeyboardEvent);t&&this.service.dispatch(t,e.source)}}addShortcut(e,t,n){this.service.addShortcut(e,this.normalizeCommandFunc(t),n)}normalizeCommandFunc(e){const t=e;return"string"==typeof t?e=>{null==e||e.executeCommand(t)}:Array.isArray(t)?e=>{null==e||e.executeCommand(t[0],t[1])}:e=>{e&&t(e)}}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/editor/state.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorDocumentState=t.DocumentContentState=void 0;class DocumentContentState{constructor(e){this.content=e}isEqual(e){return!!(e&&e instanceof DocumentContentState)&&(e.content&&this.content?this.content.format===e.content.format&&this.content.body===e.content.body&&this.content.html===e.content.html:e.content===this.content)}}t.DocumentContentState=DocumentContentState;class EditorDocumentState{constructor(e,t){this.mode=e,this.documentState=t}static makeState(e){var t;const n=e.mode,r=null===(t=e.document)||void 0===t?void 0:t.getState();return r?new EditorDocumentState(n,r):null}isEqual(e){return!!(e&&e instanceof EditorDocumentState)&&this.documentState.isEqual(e.documentState)}}t.EditorDocumentState=EditorDocumentState}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/compound/rich-text-editor/editor/surfaces.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/state.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/env.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/dom.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/events.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/events.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/selection.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.createSurface=void 0,function(e){e[e.HostElement=0]="HostElement",e[e.Window=1]="Window",e[e.Document=2]="Document",e[e.ContentElement=3]="ContentElement",e[e.ContentWindow=4]="ContentWindow",e[e.ContentDocument=5]="ContentDocument",e[e.ContentBody=6]="ContentBody",e[e.ContentDocumentElement=7]="ContentDocumentElement"}(p||(p={}));class EditorBaseDocument{constructor(e,t,n,r){this.hostElement=e,this.options=t,this.style=n,this.eventManager=new c.EventManager,this.publicEvents=[],this.internalEvents=[],this.pendingFocus=!1,this.loaded=!1,this.pendingContent=r}get element(){return this.contentElement||null}dispose(){this.loaded=!1,this.eventManager.dispose(),this.destroyContentElement(),this.publicEvents=[]}init(){this.contentElement||this.createContentElement()}addEventListener(e){return this.publicEvents.push(e),{dispose:()=>this.removeEventListener(e)}}getSelection(){}getState(){return null}setState(e){this.notifyChanged()}execCommand(e,t){return!1}queryCommandSupported(e){return!1}queryCommandEnabled(e){return!1}queryCommandState(e){return!1}queryCommandValue(e){}focus(){var e;this.loaded?null===(e=this.contentElement)||void 0===e||e.focus():this.pendingFocus=!0}getFocused(){return this.contentElement===document.activeElement}insertText(e){}insertHTML(e){}insertElement(e){}clear(){}removeEventListener(e){if(!e)return;const t=this.publicEvents.findIndex((t=>t===e));-1!==t&&this.publicEvents.splice(t,1)}raiseEvent(e){this.publicEvents.forEach((t=>t(this,e)))}afterContentChanged(){this.notifyAttached(),this.reconnectEvents((e=>e===p.ContentDocument||e===p.ContentDocumentElement||e===p.ContentBody))}destroyContentElement(){var e;this.loaded=!1,this.detachEvents(),null===(e=this.contentElement)||void 0===e||e.remove(),this.contentElement=void 0}createContentElement(){throw new TypeError}getOrRecreateContentElement(){let e,t=this.getElementByName(p.ContentElement);if(t){try{e=t.contentDocument}catch(e){}if(!e){const e=this.getFocused();this.destroyContentElement(),t=this.getElementByName(p.ContentElement),e&&this.focus()}return t}}getOwnerDocument(){return this.getElementByName(p.Document)}getElementByName(e){var t,n,r,o,a,l;switch(e){case p.HostElement:return this.hostElement;case p.Document:return this.hostElement.ownerDocument;case p.Window:return this.hostElement.ownerDocument.defaultView;case p.ContentElement:return this.contentElement||this.createContentElement(),this.contentElement;case p.ContentWindow:return null===(t=this.getOrRecreateContentElement())||void 0===t?void 0:t.contentWindow;case p.ContentDocument:return null===(n=this.getOrRecreateContentElement())||void 0===n?void 0:n.contentDocument;case p.ContentDocumentElement:return null===(o=null===(r=this.getOrRecreateContentElement())||void 0===r?void 0:r.contentDocument)||void 0===o?void 0:o.documentElement;case p.ContentBody:return null===(l=null===(a=this.getOrRecreateContentElement())||void 0===a?void 0:a.contentDocument)||void 0===l?void 0:l.body}}createDelegate(e,t){return n=>{try{e.call(this,n)}catch(e){const n=this.constructor.name,r=o.Type.isObject(e)&&e.message||String(e);console.error(`${n}.${t||"<none>"} listener: ${r}`)}}}getEventHandlerFilterProcedure(e){return"function"==typeof e?e:t=>!e||e===t}attachEvents(e){const t=this.getEventHandlerFilterProcedure(e);this.getEventsMap().filter((e=>t(e.source))).forEach((e=>this.attachEvent(e)))}detachEvents(e){const t=this.getEventHandlerFilterProcedure(e);this.internalEvents=this.internalEvents.filter((e=>!t(e.source)||(e.disposable.dispose(),!1)))}reconnectEvents(e){this.detachEvents(e),this.attachEvents(e)}routeEventsToParent(e){var t;const n=null===(t=e.target)||void 0===t?void 0:t.ownerDocument;if(n&&n!==document){const t=this.getContentElement();("mousedown"===e.type||"mousemove"===e.type)&&t.dispatchEvent(new MouseEvent(e.type,{bubbles:!0,cancelable:!0}))}}getEventsMap(){return[{source:p.ContentBody,eventName:"mousedown mousemove",listener:this.routeEventsToParent}]}defaultEventHandler(e){this.raiseEvent(e)}notifyChanged(){this.raiseEvent((0,d.CreateControlEvent)(l.EditorEventName.ContentChanged))}notifyAttached(){this.raiseEvent((0,d.CreateControlEvent)(l.EditorEventName.ContentAttached))}changeEventHandler(e){this.defaultEventHandler(e),this.notifyChanged()}attachEvent(e){const t=this.getElementByName(e.source);if(!t||"object"!=typeof t)return;e.eventName.split(" ").map((e=>e.trim())).forEach((n=>{var r;return this.internalEvents.push({source:e.source,disposable:this.eventManager.on(t,n,this.createDelegate(null!==(r=e.listener)&&void 0!==r?r:this.defaultEventHandler,n),e.capture?{capture:!0}:void 0)})}))}getContentDocument(){return this.getElementByName(p.ContentDocument)}getContentElement(){return this.getElementByName(p.ContentElement)}}class EditorFrameBasedDocument extends EditorBaseDocument{set content(e){this.loaded?this.assignValue(e,this.style,this.options.spellcheck):this.pendingContent=e}get content(){var e;return this.loaded?null===(e=this.dom)||void 0===e?void 0:e.getHtmlFromDocument(this.style):this.pendingContent}assignValue(e,t,n){var r;null===(r=this.dom)||void 0===r||r.setHtmlToDocument(e,t,n),this.afterContentChanged()}createContentElement(){const e=this.getElementByName(p.HostElement);if(!e)return;const t=this.getOwnerDocument();t&&(this.contentElement=t.createElement("IFRAME"),this.contentElement.tabIndex=0,this.contentElement.style.outlineWidth="0px",this.frameLoadHandler=this.eventManager.on(this.contentElement,"load",(e=>this.frameLoaded(e))),e.appendChild(this.contentElement))}destroyContentElement(){var e;null===(e=this.frameLoadHandler)||void 0===e||e.dispose(),this.frameLoadHandler=void 0,super.destroyContentElement()}captureClicks(e){let t=e.target;for(;t;)o.NodeType.isAnchor(t)&&(e.preventDefault(),this.raiseEvent((0,d.CreateControlEvent)(l.EditorEventName.AnchorSelected,t))),t=t.parentElement}getEventsMap(){return[...super.getEventsMap(),{source:p.ContentDocument,eventName:"click",capture:!0,listener:this.captureClicks}]}frameLoaded(e){var t;const n=e.target;if(n&&this.contentElement===n&&(null===(t=this.frameLoadHandler)||void 0===t||t.dispose(),this.frameLoadHandler=void 0,!this.loaded)){this.loaded=!0,this.dom=new a.DOMUtils(this.getContentDocument());const e=this.pendingContent;this.pendingContent=void 0,this.content=e,this.pendingFocus&&(this.pendingFocus=!1,this.focus()),this.reconnectEvents()}}}class EditorTextBasedDocument extends EditorBaseDocument{constructor(){super(...arguments),this.focused=!1,this.format="plain"}set content(e){this.loaded?this.assignValue(this.toView(e)):this.pendingContent=e}get content(){return this.loaded?this.toValue(this.textarea.value):this.pendingContent}selectionChange(e){const t=this.getOwnerDocument(),n=(null==t?void 0:t.activeElement)===this.contentElement;(n||n!==this.focused)&&(this.focused=n,this.raiseEvent(e))}getSelection(){if(this.textarea)return new u.TextareaSelection(this.textarea)}getState(){return new n.DocumentContentState({format:this.format,html:this.decomposedHtml,body:this.textarea.value})}setState(e){e&&e instanceof n.DocumentContentState&&(this.assignValue(e.content),super.setState(e))}applyStyles(){const e=this.contentElement;if(!e)return;const t=e.style;t.resize="none",t.cursor="auto",this.style?a.HTMLUtils.embedStyles(e.ownerDocument,e,this.style):(t.margin="0px",t.padding="0px")}createContentElement(){this.dom=new a.DOMUtils(document),this.contentElement=Object.assign(document.createElement("textarea"),{contentWindow:window,contentDocument:document}),this.hostElement.appendChild(this.contentElement),this.applyStyles(),this.options.readonly&&this.contentElement.setAttribute("readonly","true");const e=this.pendingContent;this.pendingContent=void 0,this.loaded=!0,this.assignValue(this.toView(e)),this.pendingFocus&&(this.pendingFocus=!1,this.focus()),this.reconnectEvents()}getEventsMap(){return[...super.getEventsMap(),{source:p.Document,eventName:"selectionchange",listener:this.selectionChange},{source:p.ContentElement,eventName:"contextmenu"},{source:p.ContentElement,eventName:"mouseup mousedown click"},{source:p.ContentElement,eventName:"keyup keypress keydown"},{source:p.ContentElement,eventName:"cut paste drop"},{source:p.ContentElement,eventName:"focus focusin focusout blur beforedeactivate"},{source:p.ContentElement,eventName:"input",listener:this.changeEventHandler}]}get textarea(){return this.contentElement}toView(e){return e}toValue(e){return{format:this.format,html:this.decomposedHtml,body:e}}assignValue(e){e?(this.format=e.format,this.decomposedHtml=e.html,this.textarea.value=e.body):(this.format="plain",this.decomposedHtml="",this.textarea.value=""),this.textarea.setSelectionRange(0,0,"forward"),this.afterContentChanged()}}const h={preview:class EditorPreviewDocument extends EditorFrameBasedDocument{getEventsMap(){return[...super.getEventsMap(),{source:p.ContentDocument,eventName:"contextmenu"},{source:p.ContentDocument,eventName:"mouseup mousedown click"},{source:p.ContentDocument,eventName:"keyup keypress keydown"}]}},visual:class EditorEditableDocument extends EditorFrameBasedDocument{static prepareContent(e){var t;return"plain"===(null===(t=e.content)||void 0===t?void 0:t.format)&&(e.content={format:"fragment",html:"",body:a.TextUtils.convertTextToHtml(e.content.body)}),!0}focus(){if(this.loaded){const e=this.getContentDocument();e&&e.body&&e.body.focus()}else this.pendingFocus=!0}getSelection(){if(this.loaded&&this.dom)return new u.DocumentSelection(this.dom)}execCommand(e,t){var n;let r=!1;try{r=super.execCommand(e,t)||(null===(n=this.dom)||void 0===n?void 0:n.execCommand(e,t))||!1}finally{return r&&this.notifyChanged(),r}}queryCommandSupported(e){var t;return super.queryCommandSupported(e)||(null===(t=this.dom)||void 0===t?void 0:t.queryCommandSupported(e))||!1}queryCommandEnabled(e){var t;return super.queryCommandEnabled(e)||(null===(t=this.dom)||void 0===t?void 0:t.queryCommandEnabled(e))||!1}queryCommandState(e){var t;return super.queryCommandState(e)||(null===(t=this.dom)||void 0===t?void 0:t.queryCommandState(e))||!1}queryCommandValue(e){var t;return super.queryCommandValue(e)||(null===(t=this.dom)||void 0===t?void 0:t.queryCommandValue(e))||!1}getState(){var e;return new n.DocumentContentState(null===(e=this.dom)||void 0===e?void 0:e.getHtmlFromDocument(this.style))}setState(e){this.dom&&e&&e instanceof n.DocumentContentState&&(this.assignValue(e.content,this.style,this.options.spellcheck),super.setState(e))}getEventsMap(){return[...super.getEventsMap(),{source:p.ContentDocument,eventName:"contextmenu selectionchange mouseup mousedown click keyup keypress keydown paste drop"},{source:p.ContentBody,eventName:"focus focusin focusout blur"},{source:p.ContentBody,eventName:"cut paste drop"},{source:p.ContentBody,eventName:"input",listener:this.changeEventHandler}]}afterContentChanged(){try{const e=this.getContentDocument();if(e){const t=this.options,n=t&&!t.readonly;if(e.body.contentEditable=n.toString(),n)try{r.Env.browser.isFirefox()?(e.execCommand("enableObjectResizing",!1,"false"),e.execCommand("enableInlineTableEditing",!1,"false")):r.Env.browser.isIE()&&e.execCommand("AutoUrlDetect",!1,"false"),e.execCommand("defaultParagraphSeparator",!1,"p"),e.execCommand("styleWithCSS",!1,"true")}catch(e){}}}finally{super.afterContentChanged()}}},source:class EditorSourceDocument extends EditorTextBasedDocument{applyStyles(){super.applyStyles();const e=this.contentElement;e&&e.setAttribute("spellcheck","false")}static prepareContent(e){var t;return"plain"===(null===(t=e.content)||void 0===t?void 0:t.format)&&(e.content={format:"fragment",html:"",body:a.TextUtils.convertTextToHtml(e.content.body)}),!0}toValue(e){const t=a.HTMLUtils.decomposeHtml(e);return"html"===t.format?t:"fragment"===t.format?"html"===this.format?{format:"html",html:this.decomposedHtml,body:t.body}:t:{format:this.format,html:this.decomposedHtml,body:e}}},plain:class EditorPlainTextDocument extends EditorTextBasedDocument{applyStyles(){super.applyStyles();const e=this.contentElement;e&&e.setAttribute("spellcheck",(!0===this.options.spellcheck).toString())}static prepareContent(e){const t=e.content;return!t||("plain"===t.format||("fragment"===t.format&&a.TextUtils.elementIsPlain(t.body)||!!confirm("You're about to lose all the formatting."))&&(e.content=a.TextUtils.convertValueToPlainText(t),!0))}toView(e){return a.TextUtils.convertValueToPlainText(e)}toValue(e){return a.HTMLUtils.isHtml(e)?{format:"fragment",html:"",body:a.TextUtils.htmlEncode(e)}:{format:"plain",html:"",body:e}}}};t.createSurface=function createSurface(e,t,n,r,o){const a=h[e],l=n.styles[e],d=a.prepareContent;if(d){const e={content:r,options:n,style:l};if(!d(e))return null;r=e.content}return o(),new a(t,n,l,r)}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/editor/toolbar":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/plugins.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.EditorPlugins.register("toolbar",(e=>{class EditorToolbar{constructor(e){this.editor=e}static getInstance(e){const t=e;let n=t.getSlot(this.SlotKey);return n||(n=new EditorToolbar(e),t.setSlot(this.SlotKey,n)),n}createToolbar(){var e;if(null===(e=this.toolbars)||void 0===e?void 0:e.length)return;if(this.editor.options.readonly)return;const t=this.editor.host,{actions:r,actionMap:a}=this.buildActionMap(),processShortcut=e=>{e.shortcut&&this.editor.shortcuts.addShortcut(e.shortcut,(t=>e.execute()))};this.toolbars=n.Tools.map(r,((e,r)=>{const l=t.createToolbar({type:0===r?"main":"panel",showMode:"icons",sizing:"ellipsis",items:[]});return n.Tools.forEach(e,(e=>{var t;if("|"===e)l.addItem({modelName:"separator",model:{width:10,splitter:!0}});else if("@"===e)l.addItem({modelName:"separator",model:{width:30}});else{const r=a[e];if(r)if("command"===r.type){const e=this.editor.queryCommand(null!==(t=r.commandName)&&void 0!==t?t:r.name);e&&(l.addItem({modelName:"button",model:(0,o.createButtonFromCommand)(this.editor,e.name,r)}),r.shortcut&&this.editor.shortcuts.addShortcut(r.shortcut,(t=>{e.execute(t,r.args)})))}else{const e=r.bind(this.editor);if(l.addItem(e),"button"===e.modelName)processShortcut(e.model);else if("button-group"===e.modelName){const t=e.model;n.Tools.forEach(t.buttons,(e=>processShortcut(e)))}}}})),l}))}destroyToolbar(){n.Tools.forEach(this.toolbars,(e=>null==e?void 0:e.dispose())),this.toolbars=void 0}show(){this.createToolbar()}dispose(){this.destroyToolbar()}dispatch(e){var t;return(null===(t=this.toolbars)||void 0===t?void 0:t.length)&&(e.name!==o.EditorEventName.ContentAttached&&e.name!==o.EditorEventName.ContentChanged&&e.name!==o.EditorEventName.ExecCommand&&"selectionchange"!==e.name&&"keyup"!==e.name&&"mouseup"!==e.name||this.updateActions()),e.name===o.EditorEventName.OptionChanged&&(this.editor.options.readonly?this.destroyToolbar():this.createToolbar()),!1}buildActionMap(){const e=this.editor.options,t=function normalizeToolbar(e){return e.replace(/\|/g," | ").replace(/\>/g," > ")}(e.toolbar).split(">").map((e=>e.split(" ").map((e=>(0,o.normalizeEntityName)(e))).filter((e=>!!e)))),a={};return function attachPlugins(e){const acceptAction=e=>t.some((t=>t.some((t=>t===e)))),l=n.Tools.map(e,(e=>r.EditorPlugins.get(e)));n.Tools.forEach(l,(e=>e&&function attachPluginActions(e,t){n.Tools.forEach(e.actions,(e=>{const n=(0,o.normalizeEntityName)(e.name);!(n in a)&&t(n)&&(a[n]=e)}))}(e,acceptAction))),n.Tools.forEach(l,(e=>e&&function attachPluginDefaultActions(e,t){n.Tools.forEach(e.commands,(e=>{const n=(0,o.normalizeEntityName)(e.name);!(n in a)&&t(n)&&(a[n]={name:n,type:"command"})}))}(e,acceptAction)))}(e.plugins),{actions:t,actionMap:a}}updateActions(){this.updateTimeout&&window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout((()=>{n.Tools.forEach(this.toolbars,(e=>{var t;return null===(t=null==e?void 0:e.refresh)||void 0===t?void 0:t.call(e)})),this.updateTimeout=void 0}),10)}}return EditorToolbar.SlotKey="EditorToolbar",{name:e,show(e){EditorToolbar.getInstance(e).show()},dispatch:e=>EditorToolbar.getInstance(e.source).dispatch(e)}}))}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/common/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/keyboard.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeEntityName=t.decodeSelectorOptions=t.createSelector=t.createColorPicker=t.createButtonGroup=t.createButtonFromCommand=t.EditorCommandAlias=t.isEditMode=t.EditorEventName=t.NativeEventType=t.EditorEventType=t.EditorSlotStorage=void 0;t.EditorSlotStorage=class EditorSlotStorage{constructor(){this.slots=new Map}getSlot(e){var t;return null!==(t=this.slots.get(e))&&void 0!==t?t:null}setSlot(e,t){this.slots.set(e,t)}deleteSlot(e){const t=this.getSlot(e);this.slots.delete(e),null==t||t.dispose()}dispose(){const e=Array.from(this.slots.values());r.Tools.forEach(e,(e=>e.dispose())),this.slots.clear()}},function(e){e.ControlEvent="ControlEvent"}(t.EditorEventType||(t.EditorEventType={})),function(e){e.Event="Event",e.FocusEvent="FocusEvent",e.InputEvent="InputEvent",e.MouseEvent="MouseEvent",e.PointerEvent="PointerEvent",e.ClipboardEvent="ClipboardEvent",e.DragEvent="DragEvent",e.KeyboardEvent="KeyboardEvent",e.TouchEvent="TouchEvent",e.WheelEvent="WheelEvent"}(t.NativeEventType||(t.NativeEventType={})),function(e){e.Init="init",e.ModeChanged="modeChanged",e.ContentTranslating="contentTranslating",e.ContentAttached="contentAttached",e.ContentChanged="contentChanged",e.BeforeExecCommand="beforeExecCommand",e.ExecCommand="execCommand",e.OptionChanged="optionChanged",e.AnchorSelected="anchorSelected"}(t.EditorEventName||(t.EditorEventName={}));const a=r.Tools.makeMap("visual,source,preview,plain");function createTooltipGetter(e,t){if(e)return t?()=>{let r=(0,n.resolveValue)(e);const a=(0,o.createDisplayShortcut)(t);return a&&(r+=` (${a})`),r}:()=>(0,n.resolveValue)(e)}function createButtonFromCommand(e,t,r){var o,a,l,d,c,u,p,h,g,m,f,v,b;const y=e.queryCommand(t);if(!y)throw new TypeError;return{id:null!==(o=null==r?void 0:r.name)&&void 0!==o?o:t,icon:null!==(l=null!==(a=null==r?void 0:r.icon)&&void 0!==a?a:y.icon)&&void 0!==l?l:y.name,getLabel:(0,n.resolveIntoGetter)(null!==(d=null==r?void 0:r.label)&&void 0!==d?d:y.label),shortcut:null!==(c=null==r?void 0:r.shortcut)&&void 0!==c?c:y.shortcut,getTooltip:createTooltipGetter(null!==(h=null!==(p=null!==(u=null==r?void 0:r.tooltip)&&void 0!==u?u:y.tooltip)&&void 0!==p?p:null==r?void 0:r.label)&&void 0!==h?h:y.label,null!==(g=null==r?void 0:r.shortcut)&&void 0!==g?g:y.shortcut),execute:()=>{var t;return null===(t=e.focus)||void 0===t||t.call(e),y.execute(e,null==r?void 0:r.args)},getEnabled:null===(m=y.getEnabled)||void 0===m?void 0:m.bind(y,e),getPushed:null!==(v=null===(f=null==r?void 0:r.getPushed)||void 0===f?void 0:f.bind(r,e))&&void 0!==v?v:null===(b=y.getValue)||void 0===b?void 0:b.bind(y,e)}}t.isEditMode=e=>"string"==typeof e&&e in a,function(e){e.ChangeMode="changeMode",e.Undo="undo",e.Redo="redo",e.Copy="copy",e.Paste="paste",e.Cut="cut",e.Clear="clear",e.Bold="bold",e.Italic="italic",e.Underline="underline",e.Strike="strikeThrough",e.Subscript="subscript",e.Superscript="superscript",e.JustifyLeft="justifyLeft",e.JustifyCenter="justifyCenter",e.JustifyRight="justifyRight",e.JustifyFull="justifyFull",e.Indent="indent",e.Outdent="outdent",e.InsertOrderedList="insertOrderedList",e.InsertUnorderedList="insertUnorderedList",e.BackColor="backColor",e.HiliteColor="hiliteColor",e.ForeColor="foreColor",e.FontName="fontName",e.FontSize="fontSize",e.FormatBlock="formatBlock"}(t.EditorCommandAlias||(t.EditorCommandAlias={})),t.createButtonFromCommand=createButtonFromCommand,t.createButtonGroup=function createButtonGroup(e,t,n){return{name:e,type:"control",bind:r=>({modelName:"button-group",model:{id:e,mode:t,buttons:n.map((e=>createButtonFromCommand(r,e.name)))}})}},t.createColorPicker=function createColorPicker(e,t){return{name:e,type:"control",bind:r=>{var o,a,l,d,c,u;const p=null!==(o=null==t?void 0:t.command)&&void 0!==o?o:e,h=r.queryCommand(p);let g=null!==(l=null!==(a=null==t?void 0:t.value)&&void 0!==a?a:null==t?void 0:t.defaultValue)&&void 0!==l?l:null;const getUserColors=()=>{if(!(null==t?void 0:t.userColorsOption))return;const e=r.options.get(null==t?void 0:t.userColorsOption);return n.Type.isString(e)?e.split(","):n.Type.isArrayOf(e,n.Type.isString)?e:void 0};return{modelName:"color-picker",model:{id:p,icon:p,getLabel:(0,n.resolveIntoGetter)(null==h?void 0:h.label),shortcut:null!==(d=null==t?void 0:t.shortcut)&&void 0!==d?d:null==h?void 0:h.shortcut,getTooltip:createTooltipGetter(null!==(c=null==h?void 0:h.tooltip)&&void 0!==c?c:null==h?void 0:h.label,null!==(u=null==t?void 0:t.shortcut)&&void 0!==u?u:null==h?void 0:h.shortcut),allowNull:null==t?void 0:t.allowNull,get userColors(){return getUserColors()},select(e){var n,o;g=null!==(n=null!=e?e:null==t?void 0:t.defaultValue)&&void 0!==n?n:null,null===(o=r.queryCommand(p))||void 0===o||o.execute(r,[g])},get selectedColor(){return g},getEnabled:()=>{var e,t;const n=r.queryCommand(p);return null!==(t=null===(e=null==n?void 0:n.getEnabled)||void 0===e?void 0:e.call(n,r))&&void 0!==t&&t},addUserColor:(null==t?void 0:t.userColorsOption)?e=>{var n;r.options.register(null==t?void 0:t.userColorsOption,[...null!==(n=getUserColors())&&void 0!==n?n:[],e])}:void 0}}}}};class BaseSelectorOptionsConverter{constructor(e){this.options=e}valueToOption(e){var t;return null!==(t=this.options.find((t=>void 0!==t.value?t.value===e:t.label===e)))&&void 0!==t?t:null}optionToValue(e){var t;return null!==(t=null==e?void 0:e.value)&&void 0!==t?t:null==e?void 0:e.label}}t.createSelector=function createSelector(e,t,r){return{name:e,type:"control",bind:o=>{var a,l,d,c,u;"function"==typeof r&&(r={converter:r});const p=null!==(a=null==r?void 0:r.command)&&void 0!==a?a:e;"function"==typeof t&&(t=t(o,e));const h=t.map((e=>"object"==typeof e?e:{label:e})),g=new(null!==(l=null==r?void 0:r.converter)&&void 0!==l?l:BaseSelectorOptionsConverter)(h),m=o.queryCommand(p);return{modelName:"selector",model:{id:p,width:null==r?void 0:r.width,sort:null==r?void 0:r.sort,getLabel:(0,n.resolveIntoGetter)(null==m?void 0:m.label),shortcut:null!==(d=null==r?void 0:r.shortcut)&&void 0!==d?d:null==m?void 0:m.shortcut,getTooltip:createTooltipGetter(null!==(c=null==m?void 0:m.tooltip)&&void 0!==c?c:null==m?void 0:m.label,null!==(u=null==r?void 0:r.shortcut)&&void 0!==u?u:null==m?void 0:m.shortcut),getValue(){var e,t;const n=o.queryCommand(p);return g.valueToOption(null!==(t=null===(e=null==n?void 0:n.getValue)||void 0===e?void 0:e.call(n,o))&&void 0!==t?t:null)},getOptions:()=>h,setValue(e){o.executeCommand(p,[g.optionToValue(e)])},getEnabled:()=>{var e,t;const n=o.queryCommand(p);return null!==(t=null===(e=null==n?void 0:n.getEnabled)||void 0===e?void 0:e.call(n,o))&&void 0!==t&&t}}}}}},t.decodeSelectorOptions=function decodeSelectorOptions(e,t){const splitReduce=(e,t)=>e.split(t).map((e=>e.trim())).filter((e=>!!e)),o=[];return n.Type.isString(e)&&(e=splitReduce(e,";")),n.Type.isArrayOf(e,n.Type.isString)&&(e=e.reduce(((e,t)=>{const n=splitReduce(t,"=");return n.length&&(n.length>=2?e[n[0]]=n[1]:e[n[0]]=n[0]),e}),{})),n.Type.isObject(e)&&r.Tools.forEach(e,((e,t)=>{o.push({label:t,value:e})})),t?o.map((e=>t(e))):o},t.normalizeEntityName=function normalizeEntityName(e){return e.replace(/-/g,"").toLowerCase().trim()}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/editor/undo":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/keyboard.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/plugins.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o.EditorPlugins.register("undo",(e=>{let t;!function(e){e[e.Initial=0]="Initial",e[e.Removing=1]="Removing",e[e.Typing=2]="Typing",e[e.NonTyping=3]="NonTyping"}(t||(t={}));const o=new Set([t.Typing,t.Removing]);class UndoStep{constructor(e,t,n){this.action=n,this.created=new Date,this.state=t,this.updateSelection(e)}static makeStep(e,t){const n=e.getState();return n?new UndoStep(e,n,t):null}restore(e){var t,n;e.setState(this.state),e.mode=this.mode,null===(n=null===(t=e.document)||void 0===t?void 0:t.getSelection())||void 0===n||n.restore(this.selection)}updateSelection(e){var t,n,r;this.next||(this.mode=e.mode,this.selection=null!==(r=null===(n=null===(t=e.document)||void 0===t?void 0:t.getSelection())||void 0===n?void 0:n.save())&&void 0!==r?r:null)}merge(e,t){let n=!1;try{e.action===this.action&&o.has(this.action)?e.created.valueOf()-this.created.valueOf()<t&&(this.state=e.state,this.created=e.created,n=!0):this.isEqual(e)&&(n=!0)}finally{n&&(this.mode=e.mode,this.selection=e.selection)}return n}isEqual(e){return this.state.isEqual(e.state)}compress(e){let t=this.previous;for(;t&&e-- >0;)t=t.previous;null==t||t.delete()}delete(){this.next&&(this.next.previous=void 0),this.previous&&(this.previous.next=void 0)}}class UndoService{constructor(e){this.editor=e,this.lockEvents=0,this.currentStep=null}static getInstance(e){const t=e;let n=t.getSlot(this.SlotKey);return n||(n=new UndoService(e),t.setSlot(this.SlotKey,n)),n}init(){const e=this.lock();try{this.currentStep=UndoStep.makeStep(this.editor,t.Initial)}finally{e.dispose()}}dispose(){this.currentStep=null}get canUndo(){var e;return!!(null===(e=this.currentStep)||void 0===e?void 0:e.previous)}get canRedo(){var e;return!!(null===(e=this.currentStep)||void 0===e?void 0:e.next)}dispatch(e){if(e.name===n.EditorEventName.Init)return this.init(),!1;if(this.acceptEvent(e)){const t=this.lock();try{this.pushState(UndoStep.makeStep(this.editor,this.getContentAction(e)))}finally{t.dispose()}}return!1}pushState(e){e&&(this.currentStep?this.currentStep.merge(e,UndoService.ActionMergeDelay)||(e.previous=this.currentStep,this.currentStep.next=e,this.currentStep=e,UndoService.UndoSize>0&&this.currentStep.compress(UndoService.UndoSize)):this.currentStep=e)}undo(){var e;return!!(null===(e=this.currentStep)||void 0===e?void 0:e.previous)&&(this.currentStep=this.currentStep.previous,this.currentStep.restore(this.editor),!0)}redo(){var e;return!!(null===(e=this.currentStep)||void 0===e?void 0:e.next)&&(this.currentStep=this.currentStep.next,this.currentStep.restore(this.editor),!0)}isEventsLocked(){return this.lockEvents>0}lock(){return this.lockEvents++,{dispose:()=>this.lockEvents--}}getContentAction(e){if("keydown"===e.name||"keyup"===e.name){const n=e.as(KeyboardEvent);if(n){if((0,r.isDeleteEvent)(n))return t.Removing;if((0,r.isTypingKeyboardEvent)(n)&&!(0,r.isNonTypingKeyboardEvent)(n))return t.Typing}}return t.NonTyping}isUndoCommands(e){var t;if("object"==typeof e){if(!e)return!1;const n=null===(t=e.as(CustomEvent))||void 0===t?void 0:t.detail;e=null==n?void 0:n.data}return-1!==UndoService.undoCommands.indexOf(e)}acceptEvent(e){var t,o;if(e.isDefaultPrevented())return!1;if(e.name===n.EditorEventName.BeforeExecCommand)return this.isUndoCommands(e)||null===(t=this.currentStep)||void 0===t||t.updateSelection(this.editor),this.lockEvents++,!1;if(e.name===n.EditorEventName.ExecCommand)return this.lockEvents--,!this.isUndoCommands(e);if(this.isEventsLocked())return!1;switch(e.name){case"mouseup":return null===(o=this.currentStep)||void 0===o||o.updateSelection(this.editor),!1;case"keyup":case"keydown":case"paste":case"cut":return!0;case"input":{const t=e.as(InputEvent);if(t&&t.inputType)return(0,r.isInsertReplacementText)(t)||(0,r.isInsertTextDataNull)(t)||(0,r.isInsertFromPasteOrDrop)(t)}}return!1}}UndoService.ActionMergeDelay=500,UndoService.UndoSize=0,UndoService.undoCommands=[n.EditorCommandAlias.Undo,n.EditorCommandAlias.Redo],UndoService.SlotKey="UndoService";const a=[{name:n.EditorCommandAlias.Undo,label:"Undo",shortcut:"meta+z",getEnabled:e=>UndoService.getInstance(e).canUndo,execute:(e,t)=>UndoService.getInstance(e).undo()},{name:n.EditorCommandAlias.Redo,label:"Redo",shortcut:"shift+meta+z, meta+y",getEnabled:e=>UndoService.getInstance(e).canRedo,execute:(e,t)=>UndoService.getInstance(e).redo()}];return{name:e,commands:a,actions:[(0,n.createButtonGroup)("undo-group","menu",a)],dispatch:e=>UndoService.getInstance(e.source).dispatch(e)}}))}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/index":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function configure(e){e.globalResources(["./editor/modes","./editor/undo","./editor/format","./editor/toolbar","./editor/anchor","./qp-rich-text-editor","./au/component-id-custom-attribute","./control-bar/qp-control-bar","./control-bar/qp-control-bar-item","./control-bar/qp-control-bar-button","./control-bar/qp-control-bar-button-group","./control-bar/qp-control-bar-separator","./control-bar/qp-control-bar-selector","./control-bar/qp-control-bar-color-picker","./plugins/attachments/index"])}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/plugins/attachments/attachments.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/types.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processDocument=t.processImages=t.decomposeAttachmentUrl=t.composeAttachmentUrl=void 0;const addTrailingBackslash=e=>e.endsWith("/")?e:`${e}/`;function composeAttachmentUrl(e){return n.siteRoot&&-1===e.indexOf("://")?`${addTrailingBackslash(n.siteRoot)}Frames/GetFile.ashx?cache=yes&file=${e}`:e}function decomposeAttachmentUrl(e){const t="&file=",n=e.indexOf(t);return-1===n?e:e.substring(n+6)}function processImages(e,t){const n=e.querySelectorAll('img[objtype="attached"]');if(n.length>0){const e="from-editor"===t?decomposeAttachmentUrl:composeAttachmentUrl;return r.Tools.forEach(Array.from(n),(t=>{if(o.NodeType.isImg(t)){const n=t.getAttribute("src");n&&t.setAttribute("src",e(n))}})),!0}return!1}t.composeAttachmentUrl=composeAttachmentUrl,t.decomposeAttachmentUrl=decomposeAttachmentUrl,t.processImages=processImages,t.processDocument=function processDocument(e,t){return[processImages].reduce(((n,r)=>r(e,t)||n),!1)}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/plugins/attachments/index":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/plugins.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/dom.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/plugins/attachments/attachments.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.EditorPlugins.register("acumatica:attachments",(e=>({name:e,dispatch(e){e.source;if(e.name===n.EditorEventName.ContentTranslating){const t=e.as(CustomEvent).detail.data,n=o.HTMLUtils.createDocument(o.HTMLUtils.composeHtml(t.value));(0,a.processDocument)(n,"source"===t.targetMode?"from-editor":t.direction)&&(t.value=o.HTMLUtils.getHtmlFromDocument(n),t.handled=!0)}return!0}})))}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/rich-text-editor/qp-rich-styles.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpRichTextEditorStyles=void 0;class QpRichTextEditorStyles{getHttpClient(){return this.client||(this.client=r.Container.instance.get(o.HttpClient),this.client.configure((e=>e.withDefaults({headers:{Accept:"text/css"}})))),this.client}getCssFile(e){return n.__awaiter(this,void 0,void 0,(function*(){if(!(e in QpRichTextEditorStyles.cache)){const n=((t=r.PLATFORM.global.location.origin+a.siteRoot).endsWith("/")?t:`${t}/`)+"App_Themes/"+e;try{const t=this.getHttpClient(),r=yield t.fetch(n,{method:"GET"});r.ok&&(QpRichTextEditorStyles.cache[e]=(yield r.text()).trim())}catch(e){}}var t;return QpRichTextEditorStyles.cache[e]}))}static getDefaultStyle(e){var t,r,o,a;return n.__awaiter(this,void 0,void 0,(function*(){const n=null!==(t=null==e?void 0:e.rootSelector)&&void 0!==t?t:"body.rich",l=(null==e?void 0:e.important)?" !important":"";let d=`\n${n} {\n\tmargin: 0px${l};\n\tpadding: ${null!==(r=null==e?void 0:e.padding)&&void 0!==r?r:0}px${l};\n\tfont-family: ${null!==(o=null==e?void 0:e.fontName)&&void 0!==o?o:"Arial"}${l};\n\tfont-size: ${null!==(a=null==e?void 0:e.fontSize)&&void 0!==a?a:"small"}${l};\n}\n`;return(null==e?void 0:e.scrollbars)&&(d+=`\n${n}::-webkit-scrollbar {\n\tbackground-color: white;\n\twidth: 16px;\n\theight: 16px;\n}\n${n}::-webkit-scrollbar-thumb {\n\tbackground: rgba(0, 0, 0, 0.15);\n\tborder: 4px solid white;\n\tborder-radius: 8px;\n}\n${n}::-webkit-scrollbar-thumb:hover {\n\tbackground-color: rgba(0, 0, 0, 0.40);\n}\n${n}::-webkit-scrollbar-track {\n\tbackground-color: white;\n}\n`),d}))}getValue(e){return n.__awaiter(this,void 0,void 0,(function*(){if("source"===e)return"";let t="";const n=["00_RTEcommon.css","visual"===e?"00_RTEedit.css":"00_RTEview.css"];for(const e of n){const n=yield this.getCssFile(e);n&&(t&&(t+="\n"),t+=n)}return t}))}static getStyles(e){return n.__awaiter(this,void 0,void 0,(function*(){let t=QpRichTextEditorStyles.modes.get(e);if("string"!=typeof t){const n=new QpRichTextEditorStyles;t=yield n.getValue(e),QpRichTextEditorStyles.modes.set(e,t)}return t}))}}t.QpRichTextEditorStyles=QpRichTextEditorStyles,QpRichTextEditorStyles.modes=new Map,QpRichTextEditorStyles.cache={}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/rich-text-editor/qp-rich-text-editor":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/au/factory.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/types.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/editor.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/qp-rich-styles.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/dom.js"),n("client-controls/controls/compound/rich-text-editor/au/component-id-custom-attribute")],o=function(e,t,n,r,o,a,l,d,c,u,p,h){"use strict";var g;Object.defineProperty(t,"__esModule",{value:!0}),t.QpRichTextEditorCustomElement=void 0;let m=g=class QpRichTextEditorCustomElement extends o.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,this.config=Object.assign({},g.defaultConfig),this.internalUpdate=!1,this.updateQueued=!1,this.editor=new c.RichTextEditor(this)}get hostElement(){return this.element}get readonly(){return!!this.config.readOnly}set readonly(e){this.config.readOnly=e,this.notifyOptionsChanged()}buildInterface(){a.Tools.defineProperties(this.element,{value:{get:()=>{var e;return null!==(e=this.value)&&void 0!==e?e:""},set:e=>this.value=e},readonly:{get:()=>this.readonly,set:e=>this.readonly=e}}),this.idTranslator=new h.ComponentIdTranslator(this.element).add(d.EditorCommandAlias.FormatBlock,"textType").add(d.EditorCommandAlias.ForeColor,"menucolorText").add(d.EditorCommandAlias.BackColor,"menucolorBackground")}valueChanged(){var e;const t=null!==(e=this.value)&&void 0!==e?e:"";this.internalUpdate||this.editor.setContent(t),this.internalUpdate=!1,this.element.dispatchEvent(new CustomEvent("changed",{bubbles:!0,detail:t}))}stateChanged(e,t){super.stateChanged(e,t),this.notifyOptionsChanged()}configChanged(e,t){this.config||(this.config=Object.assign({},g.defaultConfig)),this.notifyOptionsChanged(),this.updateId()}notifyOptionsChanged(){this.editor.refresh()}updateId(){var e;this.idAttribute=(null===(e=this.config)||void 0===e?void 0:e.id)||this.element.getAttribute("id")||""}attached(){const e=Object.create(null,{attached:{get:()=>super.attached}});var t,r;return n.__awaiter(this,void 0,void 0,(function*(){e.attached.call(this),this.buildInterface(),this.updateId();const n=p.HTMLUtils.uniqueClass("rte"),o=(0,p.getNumberCSSProperty)(this.editorHost,"--content-padding",16),a=yield u.QpRichTextEditorStyles.getDefaultStyle({padding:o,scrollbars:!0,important:!0,rootSelector:`.${n}`}),getRootClass=e=>`rich ${null!=e?e:""} ${n}`;this.editor.init({readonly:this.readonly,spellcheck:null===(t=this.config.spellcheck)||void 0===t||t,toolbar:"format-block | font-name | font-size |bold italic underline strike-through fore-color hilite-color | justify-group insert-ordered-list insert-unordered-list indent outdent> mode-group | undo redo",plugins:["modes","undo","format","toolbar","anchor","acumatica:attachments"],styles:{visual:{rootClass:getRootClass(),contentStyles:[a,yield u.QpRichTextEditorStyles.getStyles("visual")]},preview:{rootClass:getRootClass("preview"),contentStyles:[a,yield u.QpRichTextEditorStyles.getStyles("preview")]},source:{rootClass:getRootClass("source"),contentStyles:[a]},plain:{rootClass:getRootClass("plain"),contentStyles:[a]}}}),this.editor.setContent(null!==(r=this.value)&&void 0!==r?r:"")}))}detached(){this.dispose(),super.detached()}createToolbar(e){const t=new l.AureliaElementFactory;return"main"===e.type?(this.mainToolbar||(this.mainToolbar=t.createControl("qp-control-bar",{parent:this.toolbarHost,model:{config:e},dispose:()=>this.mainToolbar=void 0})),this.mainToolbar):t.createControl("qp-control-bar",{parent:this.toolbarHost,model:{config:e}})}applyUpdate(e){this.value!==e&&(e||this.value)&&(this.internalUpdate=!0,this.value=e)}queueUpdate(){this.updateQueued||(this.updateQueued=!0,Promise.resolve().then((()=>n.__awaiter(this,void 0,void 0,(function*(){var e;this.applyUpdate(this.editor.getContent({allowEmpty:(null===(e=this.config)||void 0===e?void 0:e.required)?"content":"html",style:{rootClass:"rich",contentStyles:[yield u.QpRichTextEditorStyles.getDefaultStyle({padding:0,scrollbars:!1}),yield u.QpRichTextEditorStyles.getStyles("preview")]}}))})))).finally((()=>{this.updateQueued=!1})))}dispatch(e){e.name!==d.EditorEventName.ModeChanged&&e.name!==d.EditorEventName.ContentChanged||this.queueUpdate()}dispose(){this.editor.dispose()}};m.defaultConfig={id:"",required:!1,enabled:!0,readOnly:!1},n.__decorate([r.bindable,n.__metadata("design:type",Object)],m.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],m.prototype,"value",void 0),m=g=n.__decorate([r.autoinject,(0,r.customElement)("qp-rich-text-editor"),n.__metadata("design:paramtypes",[Element,r.Container])],m),t.QpRichTextEditorCustomElement=m}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/screen-title/qp-screen-title":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js")],o=function(e,t,n,r,o,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.QpScreenTitleCustomElement=void 0;(0,o.getLogger)("screen-title");let d=l=class QpScreenTitleCustomElement{constructor(e,t,n,r){this.element=e,this.http=t,this.taskQueue=n,this.bindingEngine=r,this.originalWidth=0,this.subscription=void 0}configChanged(e,t){this.rowErrorsChanged(e.rowErrors),this.subscription=this.bindingEngine.propertyObserver(this.config,"rowErrors").subscribe(((e,t)=>{this.rowErrorsChanged(e)})),this.config.tooltipAddToFavorites&&this.updateFavoritesTooltip()}toggleFavorites(e,t){this.config.isFavorite=!this.config.isFavorite;const n=`frameset/screen/${this.config.nodeId}/${this.config.isFavorite?"favorite":"unfavorite"}`;this.http.fetch(n,{method:"POST",headers:{"content-type":"application/json"}}).then((e=>{e.ok?r.PLATFORM.global.top.frameHelper&&(r.PLATFORM.global.top.frameHelper.needRefreshFav=!0):alert(`Error occured: ${e.statusText}`)})).catch((e=>alert(`Something went wrong. ${e.message}`))),this.updateFavoritesTooltip()}updateFavoritesTooltip(){r.PLATFORM.global.px&&(this.config.isFavorite?r.PLATFORM.global.px.setTitle(this.starElement,this.config.tooltipRemoveFromFavorites):r.PLATFORM.global.px.setTitle(this.starElement,this.config.tooltipAddToFavorites))}rowErrorsChanged(e){const t=[];e?(e.forEach((e=>{t.push([e[0],l.stylesMap.get(e[1])||"blue"])})),this.messages=t):this.messages=t}detached(){var e;null===(e=this.resizeObserver)||void 0===e||e.dispose()}};d.stylesMap=new Map([["1","blue"],["3","yellow"],["5","red"]]),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",HTMLElement)],d.prototype,"captionElement",void 0),n.__decorate([r.bindable,n.__metadata("design:type",HTMLElement)],d.prototype,"starElement",void 0),d=l=n.__decorate([(0,r.customElement)("qp-screen-title"),r.autoinject,n.__metadata("design:paramtypes",[Element,a.HttpClient,r.TaskQueue,r.BindingEngine])],d),t.QpScreenTitleCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/screen-title/screen-title-data-component.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/abstract/index.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/descriptors/data-component-register.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenTitleDataComponent=void 0;let d=class ScreenTitleDataComponent{constructor(e,t){this.viewModel=e,this.redirectHelper=t.get(a.RedirectHelper),this.container=t}getQueryParams(e){return{}}setComponentData(e){this.applyCaptionResult(e)}applyCaptionResult(e){var t,n,r,o,a;this.caption={title:"<No title>",caption:"",href:"",hidden:!1,id:"screen-title",name:"screenTitle",tabIndex:-1,propsTemplate:"",hasCaption:!1,isFavoritable:!1,isFavorite:!1},e&&(this.caption=Object.assign(Object.assign({},this.caption),e)),(null===(t=this.caption.href)||void 0===t?void 0:t.length)&&(this.caption.href=this.redirectHelper.getAbsoluteUrl(this.caption.href,!1)),null!==(n=(a=this.caption).caption)&&void 0!==n||(a.caption=null===(r=this.viewModel)||void 0===r?void 0:r.getCaptionText()),this.caption.rowErrors=null===(o=this.viewModel)||void 0===o?void 0:o.getRowErrors(),this.caption.caption&&(this.caption.hasCaption=!0),document.title=this.caption.title;const l=this.getClosestIframe(this.container.element.parentElement);l&&l.dispatchEvent(new Event("load"))}getClosestIframe(e){var t,n;const r=e.closest("body"),o=Array.from((null===(t=this.redirectHelper.getTopWin())||void 0===t?void 0:t.document.getElementsByTagName("iframe"))||[]);for(const e of o)try{if((null===(n=e.contentWindow)||void 0===n?void 0:n.document.body)===r)return e}catch(e){}}};n.__decorate([r.bindable,n.__metadata("design:type",HTMLElement)],d.prototype,"captionElem",void 0),d=n.__decorate([(0,r.inlineView)('<template>\n\t\t\t\t<div id="pnlTitle" class="pageTitle" if.bind="!hidden">\n\t\t\t\t\t<qp-screen-title ref="captionElem" config.bind="caption"></qp-screen-title>\n\t\t\t\t</div>\n\t\t\t</template>'),(0,l.selfRegisterWithName)("TitleData"),n.__metadata("design:paramtypes",[o.PXScreen,r.Container])],d),t.ScreenTitleDataComponent=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/screen-toolbar/screen-toolbar-data-component":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/client-controls.js"),n("./node_modules/client-controls/descriptors/data-component-register.js"),n("client-controls/controls/compound/tool-bar/qp-tool-bar")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenToolbarDataComponent=void 0;let d=class ScreenToolbarDataComponent{constructor(e){this.viewModel=e,this.toolBarVM=void 0}attached(){this.element=this.toolBarElem}setComponentData(e){var t,n,r;this.toolbar=e,this.toolbar.id="MainToolbar",null===(t=this.toolBarVM)||void 0===t||t.unbindStates();for(const e of this.viewModel.actions.keys()){const t=this.viewModel.actions.get(e);if(t&&1===t.specialType){null===(n=this.toolBarVM)||void 0===n||n.bindStateWith(t);const e=Object.values((null===(r=this.toolbar)||void 0===r?void 0:r.items)||{}).find((e=>e.config.commandName===t.commandName));(null==e?void 0:e.config)&&(e.config.state=t)}}}getQueryParams(e){return{}}appendComponentData(e){var t;return null===(t=this.toolBarVM)||void 0===t||t.appendConfig(e),"#toolBarSuffix"}};n.__decorate([r.bindable,n.__metadata("design:type",l.QpToolBarCustomElement)],d.prototype,"toolBarVM",void 0),n.__decorate([r.bindable,n.__metadata("design:type",HTMLElement)],d.prototype,"toolBarElem",void 0),d=n.__decorate([(0,r.useView)("./screen-toolbar-data-component.html"),(0,a.selfRegisterWithName)("ScreenToolbar"),n.__metadata("design:paramtypes",[o.PXScreen])],d),t.ScreenToolbarDataComponent=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/side-panel/qp-side-panel":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/services/preferences/index.js"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpSidePanelCustomElement=void 0;const p="qp-side-panel",h="640px";(0,a.getLogger)(p);let g=class QpSidePanelCustomElement{constructor(){this.maximized=!1,this.collapsed=!0,this.defaultIconClass="folder_open",this.width=h,this.subscriptions=new Array}bind(){if(!this.config)return;this.activeScreen=this.config.actions.length?this.config.actions[0]:void 0,this.preferencesService.subscribe(this.config.id,this);const e=r.Container.instance.get(c.BindingEngine).expressionObserver(this,"config.actions").subscribe((()=>{var e;this.activeScreen=null===(e=this.config)||void 0===e?void 0:e.actions.find((e=>{var t;return e.screenId===(null===(t=this.activeScreen)||void 0===t?void 0:t.screenId)})),this.activeScreen?this.activeScreenHasUndefinedKeys()&&(this.collapsed=!0):this.collapsed=!0}));this.subscriptions.push(e)}applyPreferences(e){var t,n,r;if(null==e?void 0:e.user){const o=null===(t=e.user.preferences)||void 0===t?void 0:t.width;this.width=null!=o?o:h,void 0!==(null===(n=e.user.preferences)||void 0===n?void 0:n.maximized)&&(this.maximized=null===(r=e.user.preferences)||void 0===r?void 0:r.maximized)}}toggleActiveScreen(e){var t;this.activeScreen=e,(null===(t=this.config)||void 0===t?void 0:t.disabled)||this.activeScreenHasUndefinedKeys()?this.collapsed=!0:this.collapsed=!1}toggleMaximize(){this.maximized=!this.maximized,this.savePreferences()}togglePanel(){var e;(null===(e=this.config)||void 0===e?void 0:e.disabled)||!this.collapsed||this.activeScreenHasUndefinedKeys()?this.collapsed=!0:this.collapsed=!1}collapsePanel(){this.collapsed=!0}afterResize(e){this.savePreferences(e)}savePreferences(e){if(!this.config)return;const t=this.container.get(d.ScreenService),n=(t.siteMapScreenID?t.siteMapScreenID:t.screenID)||(0,u.getScreenID)(),r=new SidePanelPreferences;r.preferences.width=e||this.width,r.preferences.maximized=this.maximized,this.preferencesService.saveUserPreferences(n,this.config.id,r)}activeScreenHasUndefinedKeys(){var e,t;if((null===(e=this.config)||void 0===e?void 0:e.gridMode)||!(null===(t=this.activeScreen)||void 0===t?void 0:t.navigationParameters))return!1;for(const e in this.activeScreen.navigationParameters){const t=this.activeScreen.navigationParameters[e];if(null===t||"string"==typeof t&&"<NEW>"===t.trim())return!0}return!1}detached(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],g.prototype,"config",void 0),n.__decorate([o.autoinject,n.__metadata("design:type",l.PreferencesService)],g.prototype,"preferencesService",void 0),n.__decorate([o.autoinject,n.__metadata("design:type",r.Container)],g.prototype,"container",void 0),g=n.__decorate([(0,r.customElement)(p),o.autoinject],g),t.QpSidePanelCustomElement=g;class SidePanelPreferences extends l.PreferenceBase{constructor(){super(),this.type=p,this.preferences={}}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/side-panel/side-panel-data-component.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/client-controls.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/descriptors/data-component-register.js"),n("client-controls/controls/compound/side-panel/qp-side-panel")],o=function(e,t,r,o,a,l,d,c,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SidePanelDataComponent=void 0;const h="SidePanelNavigationData";let g=class SidePanelDataComponent{constructor(e,t){this.viewModel=e,this.sidePanelConfig={id:"side_panel",actions:[],hasSidePanelConditions:!1},this.eventSubscriptions=[],this.bindingSubscriptions=[],this.bindingEngine=t.get(o.BindingEngine),this.container=t,this.bindSidePanels()}get maximized(){var e;return null===(e=this.sidePanelVM)||void 0===e?void 0:e.maximized}get collapsed(){var e;return null===(e=this.sidePanelVM)||void 0===e?void 0:e.collapsed}get width(){var e;return null===(e=this.sidePanelVM)||void 0===e?void 0:e.width}setComponentData(e){this.sidePanelConfig.actions=e?e.actions:[],this.sidePanelConfig.hasSidePanelConditions=!!e&&e.hasSidePanelConditions,this.applySidePanelsConfig()}getQueryParams(e){return{}}afterResize(e){this.sidePanelVM.afterResize(e)}applySidePanelsConfig(){var e,t;(null===(t=null===(e=this.sidePanelConfig)||void 0===e?void 0:e.actions)||void 0===t?void 0:t.length)?this.sidePanelConfig.actions.forEach((e=>{var t;if("T"===e.uiType)if(e.navigationUrl.toLowerCase().includes("genericinquiry")){const e="GenericInquiry";new Promise(((t,r)=>{n.e(85558).then(function(){var r=[n("./src/systemScreens ./src/systemScreens sync recursive ^\\.\\/.*$")(`./${e}`)];t.apply(null,r)}.bind(this)).catch(r.bind(this))})).then(r.__importStar)}else new Promise(((t,r)=>{Promise.all([n.e(11216),n.e(70063)]).then(function(){var r=[n("./src/screens ./src/screens sync recursive ^\\.\\/.*\\/.*\\/.*$")(`./${e.screenId.substr(0,2).toUpperCase()}/${e.screenId}/${e.screenId}`)];t.apply(null,r)}.bind(this)).catch(r.bind(this))})).then(r.__importStar);else(null===(t=e.graphInfo)||void 0===t?void 0:t.graphType)||(e.graphInfo=this.viewModel.graphInfo);this.setDuplicateId(e)})):this.sidePanelVM.collapsed=!0}setDuplicateId(e){const t=this.sidePanelConfig.actions.filter((t=>t.screenId===e.screenId));if(t.length>1){const n=t.findIndex((t=>t===e));n&&(e.duplicateId=n+1)}}bindSidePanels(){if(!this.sidePanelConfig.actions)return;const e="GenericInquiry"===(0,d.getScreenID)(),t=e?"Results":this.viewModel.graphInfo.primaryView,n=this.viewModel[t];if(n instanceof c.PXViewCollection||e){this.sidePanelConfig.gridMode=!0;const e=c.ReflectWithMetadata.getOwnMetadata(c.eventTypeMetadataName,Object.getPrototypeOf(c.CustomEventType.RowSelected),"primaryViewGridRowSelected");n.subscribeRowSelected(this.viewModel,{order:0,handler:e=>r.__awaiter(this,void 0,void 0,(function*(){var n;const r=null===(n=null==e?void 0:e.viewModel)||void 0===n?void 0:n.activeRow;if(!r)return;const o=r.fieldNames.reduce(((e,t)=>(r.getField(t).primaryKey&&(e[t]=(0,d.getRawValue)(r.getValue(t))),e)),{}),a={command:"SyncGridPosition",collectionsData:[],controlsParams:{},viewsParams:{Filter:{}}};if(a.controlsParams[t]={dataKey:o,syncPosition:!0,view:t,resultType:"GridData",suppressSelection:!0},a.controlsParams[h]={resultType:h},this.sidePanelVM.collapsed&&!this.sidePanelConfig.hasSidePanelConditions)this.applySidePanelsConfig();else{const e=this.viewModel.getScreenService(),t=yield e.screenApiClient.executeCallback(this.viewModel.screenID,a);t.controlsData&&t.controlsData[h]&&this.setComponentData(t.controlsData[h])}})),handlerName:"primaryViewGridRowSelected",props:e,eventType:c.CustomEventType.RowSelected})}else{const e=this.container.get(l.EventAggregator);this.eventSubscriptions.push(e.subscribe("screen-updated",(e=>{var t;(null===(t=this.viewModel)||void 0===t?void 0:t.screenID)===(null==e?void 0:e.screenID)&&(this.viewModel.isNewEntry()?this.sidePanelConfig&&(this.sidePanelConfig.disabled=!0):this.sidePanelConfig&&(this.sidePanelConfig.disabled=!1))})))}}sidePanelVMChanged(){if(!this.sidePanelConfig.actions||!this.sidePanelVM||this.sidePanelConfig.hasSidePanelConditions)return;const e=this.viewModel.graphInfo.primaryView,t=this.viewModel[e],n=this.bindingEngine.propertyObserver(this.sidePanelVM,"collapsed").subscribe((e=>{e||t.publishRowSelectedEvent()}));this.bindingSubscriptions.push(n)}detached(){this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],this.bindingSubscriptions.forEach((e=>e.dispose())),this.bindingSubscriptions=[]}};r.__decorate([o.observable,r.__metadata("design:type",p.QpSidePanelCustomElement)],g.prototype,"sidePanelVM",void 0),r.__decorate([(0,o.computedFrom)("sidePanelVM.maximized"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],g.prototype,"maximized",null),r.__decorate([(0,o.computedFrom)("sidePanelVM.collapsed"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],g.prototype,"collapsed",null),r.__decorate([(0,o.computedFrom)("sidePanelVM.width"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],g.prototype,"width",null),g=r.__decorate([(0,a.inlineView)('<template>\n\t\t\t\t<qp-side-panel config.bind="sidePanelConfig" if.bind="sidePanelConfig && sidePanelConfig.actions.length"\n\t\t\t\t\tview-model.ref="sidePanelVM"></qp-side-panel>\n\t\t\t</template>'),(0,u.selfRegisterWithName)("SidePanelNavigationData"),r.__metadata("design:paramtypes",[Object,a.Container])],g),t.SidePanelDataComponent=g}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/system-menu/files-dialog-api-client.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/descriptors/redirect-helper.js"),n("./node_modules/client-controls/services/base-api-client.js"),n("./node_modules/client-controls/utils/control-helper.js"),n("./node_modules/client-controls/controls/compound/grid/grid-api-client.js"),n("./node_modules/client-controls/controls/compound/grid/grid-helper.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinAcceptList=t.createAcceptList=t.acceptFile=t.PXScreenFileUploadEventName=t.fileListView_clear=t.FilesDialogApiClient=void 0;const g="ui/file";let m=class FilesDialogApiClient{constructor(e,t,n,r){this.client=e,this.redirector=t,this.eventAggregator=n,this.gridApiClient=r,this.requestId=0}upload(e,t,r,o,a,l){var d;return n.__awaiter(this,void 0,void 0,(function*(){e.append("graph",t),e.append("view",r),l=l||(0,c.getScreenID)(),e.append("screenId",l),a&&e.append("action",a),o&&e.append("recordId",o);const n={requestId:++this.requestId,graph:t,viewName:r,screenId:l,action:a,recordId:o,files:e.getAll("upload"),abortController:new AbortController},publish=e=>this.publishUploadEvent(Object.assign({type:e},n));let u=!0;publish(f.Uploading);try{return yield this.client.fetch("old/file/upload",e,null===(d=n.abortController)||void 0===d?void 0:d.signal)}catch(e){u=!1}finally{publish(u?f.Uploaded:f.Failed)}}))}saveFileInMemory(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){if(!e)return!1;const n=new FormData,o=Object.assign(Object.assign({key:e},t),null!=r?r:{}),a="file"===t.type?"uploadInMemory":"saveInMemory";h.Tools.forEach(o,((e,t)=>{void 0!==e&&n.append(t,e)}));try{const e=yield this.client.fetchExt(`ui/file/${a}`,n);return void 0!==e&&e}catch(e){return!1}}))}attachFromMobile(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${g}/${e}/attachFromMobile`,{recordId:t,fileId:r})}))}removeLink(e,t,r,o){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${g}/${e}/removeLink`,{recordId:t,fileId:r,viewName:o})}))}addLink(e){return n.__awaiter(this,void 0,void 0,(function*(){return this.redirector.doRedirects({isDirty:!1,redirects:[{url:`/pages/sm/SM202520.aspx?note=${e}`,isUrlExternal:!1,message:"",targetFrame:"",settings:{reload:!1,type:a.RedirectType.GoTo,mode:a.WindowMode.NewWindow}}]})}))}resetCache(e,t){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${g}/${e}/resetCache`,{viewName:t})}))}getAttachedImages(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){return(yield this.getAttachedFiles(e,t,r)).map((e=>({id:e.FileID,fullName:e.Name,imageUrl:e.ViewUrl,editUrl:e.EditUrl})))}))}getAttachedFiles(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){const n=yield(0,p.getCollectionData)(this.gridApiClient,e,fileListView_clear,{parameters:{guid:t},gridDataUrl:`ui/file/${e}/view`}),o=createAcceptList(r);return 0===o.length?n:n.filter((e=>!!e.Name&&acceptFile(e.Name,o)))}))}publishUploadEvent(e){this.eventAggregator.publish(e.type,e)}};m=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[d.BaseApiClient,l.RedirectHelper,o.EventAggregator,u.GridApiClient])],m),t.FilesDialogApiClient=m;class fileListView_clear extends a.PXView{}var f;function acceptFile(e,t){var n;const r=createAcceptList(t);if(0===r.length)return!0;const o=("string"==typeof e?e:null!==(n=e.name)&&void 0!==n?n:"").toLowerCase();return r.some((e=>o.endsWith(e.toLowerCase())))}function createAcceptList(e){return("string"==typeof e?e.split(","):null!=e?e:[]).map((e=>e.trim())).filter((e=>!!e))}t.fileListView_clear=fileListView_clear,function(e){e.Uploaded="file-uploading",e.Uploading="file-uploaded",e.Failed="file-uploading-failed"}(f=t.PXScreenFileUploadEventName||(t.PXScreenFileUploadEventName={})),t.acceptFile=acceptFile,t.createAcceptList=createAcceptList,t.joinAcceptList=function joinAcceptList(e){return("string"==typeof e?[e]:null!=e?e:[]).join(",")}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/system-menu/qp-business-events":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("client-controls/controls/compound/system-menu/qp-sys-menu"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/descriptors/index.js"),n("client-controls/controls/abstract/screen-base-view-model/screen-base-view-model"),n("./node_modules/client-controls/controls/compound/system-menu/sys-menu-api-client.js"),n("./node_modules/client-controls/dependency-property-injection/index.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SM402051=void 0;let p=class SM402051 extends d.PXScreen{constructor(){super(...arguments),this.Filter=(0,l.createCollection)(o.Filter),this.Msg=a.Messages}ensureInitialized(){return n.__awaiter(this,void 0,void 0,(function*(){this.initialized||(yield this.initialize(!1))}))}showDialog(e){this.businessGridConfig={screenId:this.screenService.screenID,view:"Events",topBarItems:{createBusiness:{config:{id:"businessEvent",text:this.Msg.CreateBusinessEvent,showInToolbar:!0,commandName:"businessEvent"}}},syncPosition:!0,generateColumns:0,autoAdjustColumns:!0,columns:[{field:"Name",allowFocus:!1,allowUpdate:!1,linkCommand:"ViewBusinessEvent"},{field:"Description",allowFocus:!1,allowUpdate:!1}],showFilterBar:l.GridFilterBarVisibility.False,allowUpdate:!1,allowDelete:!1,allowInsert:!1,adjustPageSize:!0,id:"Events_grid"},this.screenId=e,this.ensureInitialized().then((()=>{var t,n;const r={collectionsData:[],controlsParams:{},data:[{viewName:"Filter",fieldName:"CurrentScreenID",value:e}],viewsParams:{}};null===(n=null===(t=this.screenService.screenApiClient)||void 0===t?void 0:t.executeCallback(this.screenService.screenID,r))||void 0===n||n.then((()=>{this.dialogHelper.openDialog({templateId:"businessEventsDlg",context:this}).then((()=>{this.update()}))}))}))}openNewBusinessEvent(){this.sysMenuApiClient.createBusinessEvent(this.screenId,this.businessEventName).then((e=>{var t,n,r;(null===(t=null==e?void 0:e.redirectResults)||void 0===t?void 0:t.length)&&(null===(n=e.redirectResults[0])||void 0===n?void 0:n.close$)&&e.redirectResults[0].close$.then((()=>this.update())),null===(r=this.newEventDialog)||void 0===r||r.ok(),this.businessEventName=""}))}attached(){return n.__awaiter(this,void 0,void 0,(function*(){this.screenEventManager.subscribe("ExecuteCommand",(e=>{if(e.stop(),"businessEvent"===e.Command)this.dialogHelper.openDialog({templateId:"businessEvent",context:this},{},(e=>{this.newEventDialog=e.controller}))}))}))}closeCurrentDialog(){var e;this.businessEventName="",null===(e=this.newEventDialog)||void 0===e||e.ok()}};n.__decorate([u.autoinject,n.__metadata("design:type",c.SysMenuApiClient)],p.prototype,"sysMenuApiClient",void 0),p=n.__decorate([(0,l.graphInfo)({graphType:"PX.BusinessProcess.UI.BusinessProcessEventInqNewUI",primaryView:"Filter"}),u.autoinject,(0,r.customElement)("qp-business-events")],p),t.SM402051=p}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/system-menu/qp-customization-menu/customization-menu-data-component":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("aurelia-framework"),n("./node_modules/client-controls/client-controls.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/descriptors/data-component-register.js"),n("./node_modules/client-controls/controls/compound/system-menu/sys-menu-api-client.js")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomizationMenuDataComponent=void 0;let u=class CustomizationMenuDataComponent{constructor(e){this.screenViewModel=e,this.capturings=[],this.Msg=a.Messages,this.captureMode=!1}activate(e){var t;const n=e.container;this.sysMenuApiClient=n.get(c.SysMenuApiClient),this.redirector=n.get(l.RedirectHelper),this.eventManager=n.get(r.EventManager),this.screenEventManager=n.get(l.QpEventManager),this.element=null===(t=n.get(Element))||void 0===t?void 0:t.parentElement,this.screenEventManager.subscribe(l.OpenPopupEvent.EventName,(e=>{e.stop(),this.handleOpenPopup(e)}))}handleMenuSelected(e){return n.__awaiter(this,void 0,void 0,(function*(){if("inspectElement"===e.detail.id){if(this.captureMode)return;this.captureMode=!0;const e=o.PLATFORM.global.document;return e.activeElement.blur(),e.body.className="designMode",this.cleanupHandlers(),this.capturings.push(this.eventManager.addEventListener(e.documentElement,"blur",(e=>this.endCapture(e)),r.delegationStrategy.capturing,!0)),this.capturings.push(this.eventManager.addEventListener(e.documentElement,"mousedown",(e=>this.endCapture(e)),r.delegationStrategy.capturing,!0)),this.capturings.push(this.eventManager.addEventListener(e.documentElement,"keydown",(e=>this.endCapture(e)),r.delegationStrategy.capturing,!0)),this.capturings.push(this.eventManager.addEventListener(e.documentElement,"keyup",(e=>this.endCapture(e)),r.delegationStrategy.capturing,!0)),void this.capturings.push(this.eventManager.addEventListener(e.documentElement,"contextmenu",(e=>this.endCapture(e)),r.delegationStrategy.capturing,!0))}if("manageUDF"!==e.detail.id)"screenConfiguration"!==e.detail.id?this.customizationVM.execCommand(new l.ExecuteCommandEvent(e.detail.commandName)):document.body.dispatchEvent(new CustomEvent("startScreenConfiguration"));else{const e=yield this.sysMenuApiClient.manageAttributes(this.screenViewModel.screenID,this.screenViewModel.graphInfo.graphType,this.screenViewModel.graphInfo.primaryView);e&&this.redirector.doRedirects(e)}}))}getQueryParams(e){return{}}setComponentData(e){var t;this.menuControlConfig=e;const n=null===(t=this.menuControlConfig)||void 0===t?void 0:t.options;if(n&&!n.find((e=>"inspectElement"===e.id))){const e={type:"MenuButton",id:"inspectElement",text:a.Messages.InspectElement},t=n.findIndex((e=>"editProject"===e.id));t>=0&&n.splice(t,0,e)}}checkCtrlAlt(e){const t=e,n=o.PLATFORM.global.document;"keydown"===t.type&&t.altKey&&t.ctrlKey?(this.cleanupHandlers(),this.captureMode=!0,n.body.className="designMode",this.capturings.push(this.eventManager.addEventListener(n.documentElement,"keyup",(e=>this.checkCtrlAlt(e)),r.delegationStrategy.capturing,!0)),this.capturings.push(this.eventManager.addEventListener(n.documentElement,"mousedown",(e=>this.endCapture(e)),r.delegationStrategy.capturing,!0))):(this.captureMode=!1,n.body.className="",this.monitorKeyboard())}endCapture(e){const t=o.PLATFORM.global.document;if(this.captureMode=!1,t.body.className="",this.cleanupHandlers(),"mousedown"===e.type)try{this.handleClick(e)}catch(t){console.warn(e)}e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0,this.monitorKeyboard()}handleClick(e){var t,n,r,o,a,l,d,c,u;let p;const h={screenID:this.screenViewModel.siteMapScreenID};let g="",m="";const f=this.screenViewModel.graphInfo;for(let v=e.target;null!=v;v=v.parentNode){const e=v;if("TH"===e.nodeName&&(g=e.getAttribute("key")),"LI"===e.nodeName&&e.getAttribute("id")&&(m=e.getAttribute("id")),!((null===(n=null===(t=e.au)||void 0===t?void 0:t.controller)||void 0===n?void 0:n.viewModel)||(null===(o=null===(r=e.aurelia)||void 0===r?void 0:r.root)||void 0===o?void 0:o.viewModel)||g))continue;let b=findCurrentVM(e);if(p=null===(a=b.currentViewModel)||void 0===a?void 0:a.state,!p&&"QpFieldCustomElement"===b.constructor.name&&b.controlState&&(p=b.controlState,b=findCurrentVM(e.querySelector("enhanced-compose"))),p){h.name=p.name,h.type=`${b.viewModel||""} (${b.currentViewModel.constructor.name})`,h.graph=p.graph,h.dac=p.fieldDacName;const t=findFieldsetVM(e);t&&(h.viewName=t.viewName,h.graph||(h.graph=f.graphType)),b.currentViewModel.config.options&&(h.options=b.currentViewModel.config.options.map((e=>Object.assign({},e))));break}if(p=b.state,p)break;if("QpToolBarCustomElement"===b.constructor.name&&m){let e=b.config.items[m];!e&&(null===(l=b.itemElements)||void 0===l?void 0:l.length)&&(null===(d=b.items)||void 0===d?void 0:d.length)&&(e=b.items[b.itemElements.findIndex((e=>(null==e?void 0:e.id)===m))]||b.items.find((e=>(null==e?void 0:e.id)===m))),h.commandName=(null===(c=null==e?void 0:e.config)||void 0===c?void 0:c.commandName)||(null===(u=null==e?void 0:e.config)||void 0===u?void 0:u.action)||(null==e?void 0:e.commandName)||(null==e?void 0:e.action),h.type=`qp-tool-bar (${b.constructor.name})`,h.graph=f.graphType}if(g&&b.columns){const e=b.columns.find((e=>e.field===g));if(h.viewName=b.viewName,h.graph=f.graphType,h.type="qp-grid Column",h.dac=e.fieldDacName,e){h.name=e.field;break}}if("QpGridCustomElement"===b.constructor.name){h.type=`qp-grid (${b.constructor.name})`,h.graph=f.graphType,h.viewName=b.viewName;break}if("CustomizableCustomElement"===b.constructor.name){h.type=b.currentViewModel.constructor.name,h.graph=f.graphType,h.viewName=f.primaryView;break}b.viewModel&&!h.type&&(h.type=b.viewModel.constructor.name,h.graph=f.graphType,h.viewName=f.primaryView)}h&&this.customizationVM.openElementDialog(h)}cleanupHandlers(){this.capturings.forEach((e=>e.dispose())),this.capturings=[]}monitorKeyboard(){this.cleanupHandlers();const e=o.PLATFORM.global.document;this.capturings.push(this.eventManager.addEventListener(e.documentElement,"keydown",(e=>this.checkCtrlAlt(e)),r.delegationStrategy.capturing,!0))}handleOpenPopup(e){if("FilterWorkingProject"===e.name)this.customizationVM.openDialogMsg(e)}};function findCurrentVM(e){var t,n,r,o;let a;for(a=e;null!=a;a=a.parentNode){const e=a;if(null===(n=null===(t=null==e?void 0:e.au)||void 0===t?void 0:t.controller)||void 0===n?void 0:n.viewModel)return e.au.controller.viewModel;if(null===(o=null===(r=null==e?void 0:e.aurelia)||void 0===r?void 0:r.root)||void 0===o?void 0:o.viewModel)return e.aurelia.root.viewModel}}function findFieldsetVM(e){var t,n,r,o;let a;for(a=e;null!=a;a=a.parentNode){const e=a;if("QpFieldsetCustomElement"===(null===(o=null===(r=null===(n=null===(t=null==e?void 0:e.au)||void 0===t?void 0:t.controller)||void 0===n?void 0:n.viewModel)||void 0===r?void 0:r.constructor)||void 0===o?void 0:o.name))return e.au.controller.viewModel}}u=n.__decorate([(0,o.useView)("./customization-menu-data-component.html"),(0,d.selfRegisterWithName)("CustomizationMenuData"),n.__metadata("design:paramtypes",[a.PXScreen])],u),t.CustomizationMenuDataComponent=u}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/system-menu/qp-customization-menu/qp-customization-menu":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/compound/system-menu/sys-menu-api-client.js"),n("./node_modules/client-controls/client-controls.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CM000001=void 0;let c=class CM000001 extends d.PXScreen{constructor(e){super(),this.sysMenuApiClient=e,this.FirstSelect=(0,a.createSingle)(FirstSelect),this.FilterWorkingProject=(0,a.createSingle)(FilterWorkingProject),this.ViewElemInfo=(0,a.createSingle)(ViewElemInfo),this.Msg=o.Messages,this.wrapperGetDropdownValues=(e,t)=>n.__awaiter(this,void 0,void 0,(function*(){return this.getDropdownValues(e,t,this.dropDownOptions)})),this.loadOnDemand=!0}afterConstructor(){super.afterConstructor(),this.subscribers.push(this.screenEventManager.subscribe(a.OpenPopupEvent.EventName,(e=>{e.stop(),this.openDialogMsg(e)})))}execCommand(e){return n.__awaiter(this,void 0,void 0,(function*(){yield this.ensureInitialized(),this.screenEventManager.publish(e)}))}openElementDialog(e){return n.__awaiter(this,void 0,void 0,(function*(){yield this.ensureInitialized(),this.ViewElemInfo.AspxControl.value=e.type,this.ViewElemInfo.ViewName.value=e.viewName,this.ViewElemInfo.GraphName.value=e.graph,this.ViewElemInfo.GraphTypeName.value=e.graph,this.ViewElemInfo.FieldName.value=e.name,this.ViewElemInfo.CacheType.value=e.dac,this.ViewElemInfo.DacFullName.value=e.dac,this.ViewElemInfo.ActionName.value=e.commandName,this.customizedScreenID=e.screenID,(null==e?void 0:e.options)&&(this.dropDownOptions=e.options.map((e=>({value:e.value,description:e.text})))),this.tq.flushMicroTaskQueue(),[this.ViewElemInfo.AspxControl,this.ViewElemInfo.ViewName,this.ViewElemInfo.GraphName,this.ViewElemInfo.FieldName,this.ViewElemInfo.CacheType,this.ViewElemInfo.ActionName].forEach((e=>{null==e.value?e.visible=!1:(e.visible=!0,e.enabled=!0)})),this.openDialogMsg(new a.OpenPopupEvent("ViewElemInfo"))}))}getDropdownValues(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){const e={rows:r.map((e=>({id:`Drop.Down.Values.${e.value}`,cells:Object.fromEntries(Object.entries(e).map((([e,t])=>[e,new a.PXFieldState])))}))),columns:[{field:"value",caption:"Value",width:100,visible:!0},{field:"description",caption:"Description",width:200,visible:!0}],filterRows:t.filterRows||[],dataKeyNames:["value"],commitResult:null,filters:[{filterID:t.filterID||""}],filterID:t.filterID||"",hidden:!1,isFirstPage:!0,isLastPage:!0,pageIndex:0,totalRowCount:r.length,clearSearch:!1};return e.rows.forEach(((e,t)=>{e.cells.description.value=r[t].description,e.cells.description.cellText=r[t].description,e.cells.description.enabled=!1,e.cells.value.value=r[t].value,e.cells.value.cellText=r[t].value,e.cells.value.enabled=!1})),Promise.resolve(e)}))}processMenuSelected(e){this.execServerAction(e.detail.commandName)}execServerAction(e){return n.__awaiter(this,void 0,void 0,(function*(){const t=this.ViewElemInfo.GraphName.value,n=this.ViewElemInfo.ViewName.value,r=this.ViewElemInfo.CacheType.value,o=this.ViewElemInfo.FieldName.value;switch(e.toLowerCase()){case InspectPropertiesCommands.Customize:yield this.sysMenuApiClient.callCustomizeAction(this.customizedScreenID,t,n,e,o,r);break;case InspectPropertiesCommands.CustomizeBusinessLogic:yield this.sysMenuApiClient.callCustomizeBusinessLogicAction(this.customizedScreenID,t,n,e,o,r);break;case InspectPropertiesCommands.CustomizeDataFields:yield this.sysMenuApiClient.callCustomizeDataFieldsAction(this.customizedScreenID,t,n,e,o,r);break;case InspectPropertiesCommands.ViewBusinessLogic:yield this.sysMenuApiClient.callViewBusinessLogicAction(this.customizedScreenID,t,n,e,o,r);break;case InspectPropertiesCommands.ViewDataClass:yield this.sysMenuApiClient.callViewDataClassAction(this.customizedScreenID,t,n,e,o,r)}}))}};c=n.__decorate([(0,a.graphInfo)({graphType:"Customization.CustomizationGraph",primaryView:"FirstSelect"}),(0,r.customElement)("qp-customization-menu"),n.__param(0,(0,r.newInstance)(l.SysMenuApiClient)),n.__metadata("design:paramtypes",[l.SysMenuApiClient])],c),t.CM000001=c;class InspectPropertiesCommands{}InspectPropertiesCommands.Customize="MenuLayoutEditor".toLowerCase(),InspectPropertiesCommands.CustomizeBusinessLogic="MenuGraphEditor".toLowerCase(),InspectPropertiesCommands.CustomizeDataFields="MenuDacEditor".toLowerCase(),InspectPropertiesCommands.ViewBusinessLogic="MenuGraphSrc".toLowerCase(),InspectPropertiesCommands.ViewDataClass="MenuDacSrc".toLowerCase();class FirstSelect extends a.PXView{}class FilterWorkingProject extends a.PXView{}n.__decorate([a.commitChanges,n.__metadata("design:type",a.PXFieldState)],FilterWorkingProject.prototype,"Name",void 0);class ViewElemInfo extends a.PXView{}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/system-menu/qp-files-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/abstract/index.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/controls/compound/system-menu/files-dialog-api-client.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("client-controls/controls/compound/tool-bar/qp-tool-bar"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilesDialogCustomElement=void 0;let m=class QpFilesDialogCustomElement extends a.PXScreen{constructor(){super(),this.mobileUploadStarted=!1,this.Msg=h.Messages,this.eventSubscriptions=[],this.loadOnDemand=!0}attached(){return n.__awaiter(this,void 0,void 0,(function*(){this.subscribers.push(this.screenEventManager.subscribe(o.OpenPopupEvent.EventName,(e=>{e.stop(),this.open(void 0)})))}))}configChanged(e){e.graph&&(this.filesGridConfig={recordId:e.recordId,parameters:{guid:e.recordId},view:"fileListView_clear",screenId:e.screenId?e.screenId:(0,d.getScreenID)(),showFilterBar:o.GridFilterBarVisibility.False,showTopBar:!0,showRowSelectors:!0,allowDelete:!1,allowInsert:!1,allowUpdate:!0,topBarItems:{refresh:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("refresh")),{hidden:!1})},download:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("download")),{images:{normal:"main@GetFile"},showInToolbar:!0,commandName:"getFile"})},addlink:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("addLink")),{text:h.Messages.FilesAddLink,showInToolbar:!0,commandName:"addLink"})},removelink:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("removeLink")),{text:h.Messages.FilesRemoveLink,showInToolbar:!0,commandName:"removeLink"})},uploadusingmobile:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("uploadUsingMobile")),{text:h.Messages.CapturingImageButtonTitle,showInToolbar:!0,commandName:"attachFromMobile"})}},adjustPageSize:!0,pageSize:20,gridDataUrl:`ui/file/${e.screenId?e.screenId:(0,d.getScreenID)()}/view`,id:`${this.config.id}_fb_files`},this.uploaderConfig={id:`${this.config.id}_fb_upld2_FileUpldr`,recordId:e.recordId,graph:e.graph,view:e.view,action:e.action,screenId:e.screenId?e.screenId:(0,d.getScreenID)()},this.screenEventManager.subscribe("ExecuteCommand",(e=>{e.stop();const t=this.grid.getActiveRow();switch(e.Command){case"addLink":this.client.addLink(this.config.recordId).then((e=>{var t;e&&e.length&&(null===(t=e[0])||void 0===t?void 0:t.close$)&&e[0].close$.then((()=>{this.client.resetCache((0,d.getScreenID)(),this.config.view).then((()=>{this.refreshGrid()}))}))}));break;case"removeLink":this.client.removeLink((0,d.getScreenID)(),this.config.recordId,null==t?void 0:t.cells.FileID.value,this.config.view).then((e=>{e?alert(e):this.refreshGrid()}));break;case"attachFromMobile":this.mobileUploadStarted=!0,this.client.attachFromMobile((0,d.getScreenID)(),this.config.recordId,null==t?void 0:t.cells.FileID.value).then((e=>{e.Ok?alert(e.Ok):this.refreshGrid()}));break;case"getFile":const e=document.createElement("a");e.setAttribute("download",""),e.href=`${g.siteRoot}Frames/GetFile.ashx?fileID=${null==t?void 0:t.cells.FileID.value}&amp;fdwnld=1`,document.body.appendChild(e),e.click(),e.remove()}})))}initGrid(){this.tq.queueTask((()=>this.grid.refresh().then((()=>{this.grid.refresh()}))))}refreshGrid(){this.grid.refresh().then((()=>{this.afterChange&&this.afterChange(this.grid.hasRows)}))}open(e){return e&&(this.afterChange=e),this.dialogHelper.openDialog({templateId:"pnlFilesDialog",context:this,deactivateValidator:e=>this.fileCloseValidator(e)}).then((()=>{this.addFileLoadedListener((e=>{this.refreshGrid()})),this.initGrid()}))}addFileLoadedListener(e){this.eventSubscriptions.push(this.eventManager.addEventListener(this.uploader,"fileloaded",e,u.delegationStrategy.bubbling,!0))}fileCloseValidator(e){var t;return this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],!!(null===(t=e.output)||void 0===t?void 0:t.force)||!e.wasCancelled}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],m.prototype,"config",void 0),n.__decorate([l.autoinject,n.__metadata("design:type",c.FilesDialogApiClient)],m.prototype,"client",void 0),n.__decorate([l.autoinject,n.__metadata("design:type",r.TaskQueue)],m.prototype,"tq",void 0),m=n.__decorate([(0,r.customElement)("qp-files-dialog"),n.__metadata("design:paramtypes",[])],m),t.QpFilesDialogCustomElement=m}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/system-menu/qp-note-dialog/note-menu-data-component":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/client-controls.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/compound/system-menu/sys-menu-api-client.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("./node_modules/client-controls/descriptors/data-component-register.js")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoteMenuDataComponent=void 0;let u=class NoteMenuDataComponent{constructor(e){this.screenViewModel=e,this.activities=[],this.activitiesToolbarConfig={id:"activitiesToolbar",categories:[{id:"boo",name:"plain",text:"plain",actions:["refresh","NewTask","NewEvent","NewMailActivity"]},{id:"NewActivity",name:"NewActivity",text:"NewActivity",actions:["chat","escalation","message","note","phonecall","workItem"]}],items:{refresh:{config:{id:"refresh",showInToolbar:!0,commandName:"Refresh",blockPage:!0,imageKey:"Refresh",imageSet:"main",isSystem:!0,repaintControls:"all"}},NewTask:{config:{id:"NewTask",text:"Add Task",showInToolbar:!0,commandName:"NewTask"}},NewEvent:{config:{id:"NewEvent",text:"Add Event",showInToolbar:!0,commandName:"NewEvent"}},NewMailActivity:{config:{id:"NewMailActivity",text:"Add Email",showInToolbar:!0,commandName:"NewMailActivity"}},NewActivity:{type:"menu-options",config:{id:"NewActivity",text:"Add Activity",showInToolbar:!0,commandName:"NewActivity"}},chat:{config:{id:"chat",text:"Chat",commandName:"addChat"}},escalation:{config:{id:"escalation",text:"Escalation",commandName:"addEscalation"}},message:{config:{id:"message",text:"Message",commandName:"addMessage"}},note:{config:{id:"note",text:"Note",commandName:"addNote"}},phonecall:{config:{id:"phonecall",text:"Phone Call",commandName:"addPhoneCall"}},workItem:{config:{id:"workItem",text:"Work Item",commandName:"addWorkItem"}}},styleChanged:!1,changed:!1},this.Msg=o.Messages,this.setCurrentDialog=e=>{this.currentDialogController=e.controller}}activate(e){var t;const n=e.container;this.screenEventManager=n.get(a.QpEventManager),this.sysMenuApiClient=n.get(l.SysMenuApiClient),this.dialogHelper=n.get(o.DialogHelper),this.element=null===(t=n.get(Element))||void 0===t?void 0:t.parentElement}get activitiesButtonText(){var e,t;return`${o.Messages.Activities}${(null===(t=null===(e=this.notes)||void 0===e?void 0:e.activities)||void 0===t?void 0:t.count)?` (${this.notes.activities.count})`:""}`}get filesButtonText(){var e,t;return`${o.Messages.Files}${(null===(t=null===(e=this.notes)||void 0===e?void 0:e.note)||void 0===t?void 0:t.filesCount)?` (${this.notes.note.filesCount})`:""}`}getQueryParams(e){return{}}setComponentData(e){var t,n;const r=null===(n=null===(t=this.notes)||void 0===t?void 0:t.note)||void 0===n?void 0:n.activitiesDisabled;this.notes=e,r&&(this.notes.note.activitiesDisabled=!0),this.noteDialogConfig={recordId:this.screenViewModel.getScreenService().id,screenId:this.screenViewModel.screenID},this.filesDialogConfig={id:"pnlFilesDialog",recordId:this.screenViewModel.getScreenService().id,graph:this.screenViewModel.graphInfo.graphType,view:this.screenViewModel.graphInfo.primaryView}}noteShow(){var e;return n.__awaiter(this,void 0,void 0,(function*(){null===(e=this.noteVM.open())||void 0===e||e.whenClosed((e=>{e.wasCancelled||this.screenViewModel.setDirty(!0)}))}))}filesShow(){this.filesVM.open((()=>{this.screenEventManager.publish(new a.RefreshScreenEvent)}))}activitiesShow(){this.dialogHelper.openDialog({templateId:"pnlActivitiesShow",context:this},{},this.setCurrentDialog),this.refreshActivities()}openActivity(e){this.sysMenuApiClient.activityRedirect("openItem",e).then((e=>{var t,n;(null===(t=null==e?void 0:e.redirectResults)||void 0===t?void 0:t.length)&&(null===(n=e.redirectResults[0])||void 0===n?void 0:n.close$)&&e.redirectResults[0].close$.then((()=>this.refreshActivities()))}))}refreshActivities(){var e;const t=this;return null===(e=this.sysMenuApiClient.getActivities(this.screenViewModel.getScreenService().id))||void 0===e?void 0:e.then((e=>{var n,r;const o=(null===(n=this.activities)||void 0===n?void 0:n.length)||0;this.activities=e.map((e=>Object.assign(Object.assign({},e),{open:function(e){t.openActivity(e)}})))||[],(null===(r=this.activities)||void 0===r?void 0:r.length)!==o&&this.screenEventManager.publish(new a.RefreshScreenEvent)}))}attached(){return n.__awaiter(this,void 0,void 0,(function*(){this.screenEventManager.subscribe("ExecuteCommand",(e=>{switch(e.stop(),e.Command){case"Refresh":this.refreshActivities();break;case"businessEvent":this.dialogHelper.openDialog({templateId:"businessEvent",context:this},{},this.setCurrentDialog);break;default:e.Command&&this.sysMenuApiClient.activityRedirect(e.Command,this.screenViewModel.getScreenService().id).then((e=>{var t,n;(null===(t=null==e?void 0:e.redirectResults)||void 0===t?void 0:t.length)&&(null===(n=e.redirectResults[0])||void 0===n?void 0:n.close$)&&e.redirectResults[0].close$.then((()=>this.refreshActivities()))}))}}))}))}};n.__decorate([(0,d.computedFrom)("notes.activities.count"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],u.prototype,"activitiesButtonText",null),n.__decorate([(0,d.computedFrom)("notes.note.filesCount"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],u.prototype,"filesButtonText",null),u=n.__decorate([(0,r.useView)("./note-menu-data-component.html"),(0,c.selfRegisterWithName)("NotesMenuData"),n.__metadata("design:paramtypes",[o.PXScreen])],u),t.NoteMenuDataComponent=u}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/system-menu/qp-note-dialog/qp-note-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/controls/compound/system-menu/sys-menu-api-client.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpNoteDialogCustomElement=void 0;let c=class QpNoteDialogCustomElement{constructor(e,t,n){this.element=e,this.sysMenuApiClient=t,this.dialogHelper=n,this.hasPopupText=!1,this.Msg=a.Messages,this.chkAddPopupNoteConfig={id:"pnlNoteShow_ib_chkPopup",class:"checkBox",label:a.Messages.AddPopupNotesTitle}}updateNote(){this.sysMenuApiClient.updateNote(this.config.recordId,this.config.view,this.model.noteText,this.model.popupNoteText,this.config.screenId).then((()=>{Object.assign(this.view,this.model)})).finally((()=>{var e;null===(e=this.dialogController)||void 0===e||e.ok()}))}open(){if(this.view){this.model=Object.assign({},this.view),this.hasPopupText=!1;const dv=e=>this.noteCloseValidator(e);return this.dialogHelper.openDialog({templateId:"pnlNoteShow_ib",context:this,deactivateValidator:dv},{},(e=>{this.dialogController=e.controller}))}}noteCloseValidator(e){var t;return this.dialogController=void 0,!!(null===(t=e.output)||void 0===t?void 0:t.force)||(!e.wasCancelled||this.model.noteText===this.view.noteText)}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],c.prototype,"view",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],c.prototype,"config",void 0),c=n.__decorate([(0,r.customElement)("qp-note-dialog"),(0,d.autoinject)(),n.__param(2,(0,d.newInstance)()),n.__metadata("design:paramtypes",[Element,l.SysMenuApiClient,o.DialogHelper])],c),t.QpNoteDialogCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/system-menu/qp-notifications":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("client-controls/controls/compound/system-menu/qp-sys-menu"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/descriptors/index.js"),n("client-controls/controls/abstract/screen-base-view-model/screen-base-view-model"),n("./node_modules/client-controls/dependency-property-injection/index.js")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SM402061=void 0;let u=class SM402061 extends d.PXScreen{constructor(e){super(),this.redirector=e,this.Filter=(0,l.createCollection)(o.Filter),this.Msg=a.Messages,this.loadOnDemand=!0}showDialog(e){this.notificationsGridConfig={screenId:this.screenService.screenID,view:"Notifications",topBarItems:{addEmailTemplate:{config:{id:"emailTemplate",text:this.Msg.NotificationsAddEmailTemplate,showInToolbar:!0,commandName:"addEmailTemplate"}},addMobileTemplate:{config:{id:"mobileTemplate",text:this.Msg.NotificationsAddMobileTemplate,showInToolbar:!0,commandName:"addMobileTemplate"}}},syncPosition:!0,generateColumns:0,autoAdjustColumns:!0,columns:[{field:"Type",allowFocus:!1,allowUpdate:!1},{field:"Name",allowFocus:!1,allowUpdate:!1,linkCommand:"ViewNotification"}],showFilterBar:l.GridFilterBarVisibility.False,allowUpdate:!1,allowDelete:!1,allowInsert:!1,adjustPageSize:!0,id:"Notifications_grid"},this.screenId=e,this.ensureInitialized().then((()=>{var t,n;const r={collectionsData:[],controlsParams:{},clearSession:!0,data:[{viewName:"Filter",fieldName:"CurrentScreenID",value:e}],viewsParams:{}};null===(n=null===(t=this.screenService.screenApiClient)||void 0===t?void 0:t.executeCallback(this.screenService.screenID,r))||void 0===n||n.then((()=>{this.dialogHelper.openDialog({templateId:"notificationsDlg",context:this}).then((()=>{this.update()}))}))}))}};u=n.__decorate([(0,l.graphInfo)({graphType:"PX.BusinessProcess.UI.NotificationInquiryNewUI",primaryView:"Notifications"}),c.autoinject,(0,r.customElement)("qp-notifications"),n.__metadata("design:paramtypes",[l.RedirectHelper])],u),t.SM402061=u}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/system-menu/qp-sys-menu":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/base-api-client.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("./node_modules/client-controls/controls/compound/system-menu/sys-menu-api-client.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/services/session-url-serializer.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Filter=t.ProfilerInfo=t.AuditInfo=t.QpSysMenuCustomElement=void 0;let p=class QpSysMenuCustomElement{};n.__decorate([r.bindable,n.__metadata("design:type",Object)],p.prototype,"config",void 0),n.__decorate([(0,c.newInstance)(a.QpEventManager),n.__metadata("design:type",a.QpEventManager)],p.prototype,"screenEventManager",void 0),n.__decorate([(0,c.newInstance)(a.RedirectHelper),n.__metadata("design:type",a.RedirectHelper)],p.prototype,"redirector",void 0),n.__decorate([(0,c.newInstance)(o.BaseApiClient),n.__metadata("design:type",o.BaseApiClient)],p.prototype,"baseApiClient",void 0),n.__decorate([c.autoinject,n.__metadata("design:type",r.EventManager)],p.prototype,"eventManager",void 0),n.__decorate([c.autoinject,n.__metadata("design:type",Element)],p.prototype,"element",void 0),n.__decorate([(0,c.newInstance)(d.SysMenuApiClient),n.__metadata("design:type",d.SysMenuApiClient)],p.prototype,"sysMenuApiClient",void 0),n.__decorate([(0,c.newInstance)(l.DialogHelper),n.__metadata("design:type",l.DialogHelper)],p.prototype,"dialogHelper",void 0),n.__decorate([(0,c.inject)(u.SessionUrlSerializer),n.__metadata("design:type",Object)],p.prototype,"urlSerializer",void 0),p=n.__decorate([(0,r.customElement)("qp-sys-menu")],p),t.QpSysMenuCustomElement=p;t.AuditInfo=class AuditInfo{};t.ProfilerInfo=class ProfilerInfo{};class Filter extends a.PXView{}t.Filter=Filter}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/system-menu/qp-tools-menu/qp-tools-menu":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("client-controls/controls/compound/system-menu/qp-tools-menu/tools-menu-data-component"),n("aurelia-framework"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/abstract/index.js"),n("./node_modules/client-controls/controls/compound/system-menu/sys-menu-api-client.js"),n("./node_modules/client-controls/dependency-property-injection/index.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserList=t.Parameters=t.GridList=t.SC000001=void 0;let p=class SC000001 extends d.PXScreen{constructor(){super(),this.GridList=(0,l.createCollection)(GridList,{adjustPageSize:!0,allowInsert:!1,allowDelete:!1,allowUpdate:!1,initNewRow:!1,showFilterBar:l.GridFilterBarVisibility.False,columnsConfig:[{field:"Selected",allowCheckAll:!0}]}),this.UserList=(0,l.createCollection)(UserList,{adjustPageSize:!0,allowInsert:!1,allowDelete:!1,allowUpdate:!1,initNewRow:!1,columnsConfig:[{field:"Included",allowCheckAll:!0}]}),this.Parameters=(0,l.createSingle)(Parameters),this.Msg=a.Messages,this.loadOnDemand=!0}ensureInitialized(){return n.__awaiter(this,void 0,void 0,(function*(){this.initialized||(yield this.initialize(!1))}))}showShareColumnDialog(e){return n.__awaiter(this,void 0,void 0,(function*(){yield this.ensureInitialized(),this.dialogHelper.openDialog({templateId:e,context:this}).then((e=>{var t;const n=null===(t=null==e?void 0:e.controller)||void 0===t?void 0:t.controller.viewModel;this.update(new l.ScreenUpdateParams(void 0,null==n?void 0:n.element))}))}))}processMenuSelected(e){e.detail.popupPanel?this.screenEventManager.publish(new l.OpenPopupEvent(e.detail.popupPanel)):this.screenEventManager.publish(new l.ExecuteCommandEvent(e.detail.commandName))}openShareColumnsDialog(e){const t=this.parent.getScreenGrids();this.sysMenuApiClient.getShareColumnsCfg(this.parent.screenViewModel.siteMapScreenID,t).then((t=>{this.shareCols=t,this.showShareColumnDialog(e)}))}};n.__decorate([o.bindable,n.__metadata("design:type",r.ToolsMenuDataComponent)],p.prototype,"parent",void 0),n.__decorate([u.autoinject,n.__metadata("design:type",c.SysMenuApiClient)],p.prototype,"sysMenuApiClient",void 0),p=n.__decorate([(0,l.graphInfo)({graphType:"PX.Web.UI.SharedColumnSettings",primaryView:"Parameters"}),(0,o.customElement)("qp-tools-menu"),n.__metadata("design:paramtypes",[])],p),t.SC000001=p;class GridList extends l.PXView{}t.GridList=GridList;class Parameters extends l.PXView{}n.__decorate([l.commitChanges,n.__metadata("design:type",l.PXFieldState)],Parameters.prototype,"IsDefault",void 0),n.__decorate([l.commitChanges,n.__metadata("design:type",l.PXFieldState)],Parameters.prototype,"Override",void 0),n.__decorate([l.commitChanges,n.__metadata("design:type",l.PXFieldState)],Parameters.prototype,"RoleName",void 0),n.__decorate([l.skip,n.__metadata("design:type",l.PXFieldState)],Parameters.prototype,"FakeKey",void 0),t.Parameters=Parameters;class UserList extends l.PXView{}t.UserList=UserList}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/system-menu/qp-tools-menu/tools-menu-data-component":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/client-controls.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/descriptors/data-component-register.js"),n("./node_modules/client-controls/services/session-url-serializer.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/controls/compound/system-menu/sys-menu-api-client.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolsMenuDataComponent=void 0;let p=class ToolsMenuDataComponent{constructor(e){this.screenViewModel=e,this.profilerStarted=!1,this.Msg=o.Messages,this.setCurrentDialog=e=>{this.currentDialogController=e.controller}}activate(e){var t;const n=e.container;this.sysMenuApiClient=n.get(u.SysMenuApiClient),this.dialogHelper=n.get(o.DialogHelper),this.urlSerializer=n.get(d.SessionUrlSerializer),this.redirector=n.get(a.RedirectHelper),this.element=null===(t=n.get(Element))||void 0===t?void 0:t.parentElement}getQueryParams(e){return{}}setComponentData(e){var t;let n=this.screenViewModel.siteMapScreenID;n=`${n.substring(0,2)}.${n.substring(2,4)}.${n.substring(4,6)}.${n.substring(6,8)}`,(null===(t=this.screenViewModel)||void 0===t?void 0:t.isCustomized())&&(n=`CST.${n}`);const r={type:"",id:"screenID",text:`<div class='qp-menu-label'>${this.Msg.ScreenID}</div><span class='size-sm qp-menu-value'>${n}</span>`};e.options.unshift(r),this.menuControlConfig=e}getScreenGrids(){var e,t,n;const r=[],o=this.screenViewModel;for(const a in o)"PXViewCollection"===(null===(n=null===(t=null===(e=o[a])||void 0===e?void 0:e.__proto__)||void 0===t?void 0:t.constructor)||void 0===n?void 0:n.name)&&r.push(`${a};${a}`);return r}handleMenuSelected(e){e.detail.popupPanel?this.handleOpenPopup(new a.OpenPopupEvent(e.detail.popupPanel)):this.handleExecuteCommand(new a.ExecuteCommandEvent(e.detail.commandName))}showLinkPopup(){this.ensureLinks(),this.dialogHelper.openDialog({templateId:"pnlLinkShow",context:this,hideHeader:!0},{},this.setCurrentDialog)}openSendLinkWindow(){var e;this.ensureLinks(),this.sysMenuApiClient.sendEmail(null===(e=this.links)||void 0===e?void 0:e.external)}startLogging(){this.sysMenuApiClient.startProfiler().then((e=>{this.profilerStarted=!0,this.profiler=e}))}stopLogging(){this.sysMenuApiClient.stopProfiler().then((e=>{this.profilerStarted=!1}))}openRequestProfiler(){this.redirectToRequestProfiler()}enableLevelAudit(){this.redirect(`/pages/sm/SM205510.aspx?ScreenId=${this.screenViewModel.screenID}`)}handleExecuteCommand(e){switch(e.Command){case"businessEvent":this.dialogHelper.openDialog({templateId:"businessEvent",context:this},{},this.setCurrentDialog);break;case"SwitchUIScreenMode":e.stop(),this.sysMenuApiClient.switchUiScreenMode(this.screenViewModel.siteMapScreenID)}}handleOpenPopup(e){var t;switch(e.name){case"pnlAbout":null===(t=this.sysMenuApiClient.getAbout())||void 0===t||t.then((t=>{this.about=t,this.dialogHelper.openDialog({templateId:e.name,context:this,hideMaximizer:!0},{},this.setCurrentDialog)}));break;case"pnlLinkShow":this.showLinkPopup();break;case"auditHistoryDlg":e.stop(),this.sysMenuApiClient.auditLog(this.screenViewModel.siteMapScreenID).then((t=>{this.auditInfo=t,this.dialogHelper.openDialog({templateId:e.name,context:this},{},this.setCurrentDialog)}));break;case"notificationsDlg":e.stop(),this.notificationsVM.showDialog(this.screenViewModel.siteMapScreenID);break;case"businessEventsDlg":e.stop(),this.businessEventsVM.showDialog(this.screenViewModel.siteMapScreenID);break;case"pnlProfiler":this.sysMenuApiClient.isProfilerStarted().then((e=>{this.profilerStarted=!!e.started,this.profiler=e})),this.dialogHelper.openDialog({templateId:"pnlProfiler",context:this},{},this.setCurrentDialog);break;case"shareColumnsDlg":this.sharedColumnsVM.openShareColumnsDialog(e.name)}}closeCurrentDialog(){var e;null===(e=this.currentDialogController)||void 0===e||e.ok(),this.currentDialogController=void 0}redirectToRequestProfiler(){this.redirect("~/pages/sm/SM205070.aspx")}redirect(e,t){this.redirector.doRedirects({isDirty:!1,redirects:[{url:e,isUrlExternal:!1,message:"",targetFrame:t||"",settings:{reload:!1,type:a.RedirectType.GoTo,mode:a.WindowMode.NewWindow}}]})}ensureLinks(){let e=r.PLATFORM.global.location.href,t=c.topWindow.location.href;const n=this.urlSerializer.parseUrl(e);n.queryParams&&(n.queryParams.timeStamp||n.queryParams.HideScript)&&(delete n.queryParams.timeStamp,delete n.queryParams.HideScript,e=this.urlSerializer.serializeUrl(n));const o=function getWFragment(e){const t=/.*(\(W\(\d*\)\)).*/.exec(e);return t?t[1]:void 0}(t);if(o){let n=t.indexOf(o);t=t.substring(0,n)+t.substring(n+o.length+1),n=e.indexOf(o),e=`~${e.substring(n+o.length)}`}this.links={internal:e,external:t}}};p=n.__decorate([(0,r.useView)("./tools-menu-data-component.html"),(0,l.selfRegisterWithName)("ToolMenuData"),n.__metadata("design:paramtypes",[o.PXScreen])],p),t.ToolsMenuDataComponent=p}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/system-menu/settings-menu-data-component":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/client-controls.js"),n("./node_modules/client-controls/descriptors/data-component-register.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsMenuDataComponent=void 0;let l=class SettingsMenuDataComponent{constructor(e,t){this.screenViewModel=e,this.container=t,this.children=["ToolMenuData","CustomizationMenuData"],this.screenService=t.get(o.ScreenService)}activate(e){var t;const n=e.container;this.element=null===(t=n.get(Element))||void 0===t?void 0:t.parentElement}registerCompositeDataComponents(e){this.children.forEach((t=>(0,a.registerDataComponentOnScreen)(e,t,this.container)))}attached(){this.screenService.activateDataComponents(this.children)}getQueryParams(e){return{}}setComponentData(e){this.settingsMenu={id:"",text:"",options:[]},this.toolMenuDataComponent&&this.customizationMenuDataComponent&&([this.toolMenuDataComponent.component,this.customizationMenuDataComponent.component].forEach((e=>{if(e&&"menuControlConfig"in e){const t=e,n=this.settingsMenu.options.concat(t.menuControlConfig.options);this.settingsMenu=Object.assign(Object.assign(Object.assign({},this.settingsMenu),t.menuControlConfig),{options:n}),this.settingsMenu.options.push({type:"MenuSeparator",id:"",text:""})}})),this.settingsMenu.options.length&&"MenuSeparator"===this.settingsMenu.options[this.settingsMenu.options.length-1].type&&this.settingsMenu.options.splice(this.settingsMenu.options.length-1,1),this.settingsMenu.images={normal:"svg:main@setting"})}processSettingsMenuSelected(e){return n.__awaiter(this,void 0,void 0,(function*(){[this.toolMenuDataComponent.component,this.customizationMenuDataComponent.component].forEach((t=>{if(t&&"menuControlConfig"in t){t.handleMenuSelected(e)}}))}))}};n.__decorate([r.bindable,n.__metadata("design:type",HTMLElement)],l.prototype,"toolsMenuElem",void 0),l=n.__decorate([r.autoinject,(0,r.useView)("./settings-menu-data-component.html"),(0,a.selfRegisterWithName)("SettingsMenuData",{createImmediately:!0}),n.__metadata("design:paramtypes",[o.PXScreen,r.Container])],l),t.SettingsMenuDataComponent=l}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/system-menu/sys-menu-api-client.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/base-api-client.js"),n("aurelia-framework"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SysMenuApiClient=void 0;const l="ui/screen",d="sys-menu",c="ui/activity";let u=class SysMenuApiClient{constructor(e){this.client=e}callCustomizeAction(e,t,r,o,a,l){return n.__awaiter(this,void 0,void 0,(function*(){return this.callCustomizationGraphAction("customize",e,t,r,o,a,l)}))}callCustomizeBusinessLogicAction(e,t,r,o,a,l){return n.__awaiter(this,void 0,void 0,(function*(){return this.callCustomizationGraphAction("customize-business-logic",e,t,r,o,a,l)}))}callCustomizeDataFieldsAction(e,t,r,o,a,l){return n.__awaiter(this,void 0,void 0,(function*(){return yield this.callCustomizationGraphAction("customize-data-fields",e,t,r,o,a,l)}))}callViewBusinessLogicAction(e,t,r,o,a,l){return n.__awaiter(this,void 0,void 0,(function*(){return yield this.callCustomizationGraphAction("view-business-logic",e,t,r,o,a,l)}))}callViewDataClassAction(e,t,r,o,a,l){return n.__awaiter(this,void 0,void 0,(function*(){return yield this.callCustomizationGraphAction("view-data-class",e,t,r,o,a,l)}))}sendEmail(e){return this.client.fetchExt(`${c}/email`,e)}getAbout(){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${l}/about`)}))}getShareColumnsCfg(e,t){const n={grids:t};return this.client.fetchExt(`${l}/${e}/${d}/share-column-cfg`,n)}getActivities(e){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${c}/${e}`)}))}activityRedirect(e,t){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${c}`,{command:e,recordId:t})}))}updateNote(e,t,r,o,c){return n.__awaiter(this,void 0,void 0,(function*(){const n={view:t,recordId:e,noteText:r,popupNoteText:o};return this.client.fetchExt(`${l}/${c||(0,a.getScreenID)()}/${d}/note`,n)}))}auditLog(e){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${l}/${e}/audit-load`,{})}))}isProfilerStarted(){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${l}/is-profiler-started`,{})}))}startProfiler(){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${l}/start-profiler`,{})}))}stopProfiler(){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${l}/stop-profiler`,{})}))}createBusinessEvent(e,t){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${l}/${e}/create-business-event`,t)}))}manageAttributes(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){const n={screenID:e,graph:t,viewName:r};return this.client.fetchExt(`${l}/${e}/manage-attributes`,n)}))}switchUiScreenMode(e){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${l}/${e}/switch-screen-type`,null)}))}callCustomizationGraphAction(e,t,r,o,a,c,u){return n.__awaiter(this,void 0,void 0,(function*(){const n={screenID:t,graph:r,viewName:o,fieldName:c,dacFullName:u,command:a};return this.client.fetchExt(`${l}/${t}/${d}/inspect-properties/${e}`,n)}))}};u=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[r.BaseApiClient])],u),t.SysMenuApiClient=u}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/system-menu/system-menu-data-component.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/index.js"),n("aurelia-framework"),n("./node_modules/client-controls/client-controls.js"),n("./node_modules/client-controls/descriptors/data-component-register.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemMenuDataComponent=void 0;let d=class SystemMenuDataComponent{constructor(e,t){this.viewModel=e,this.container=t,this.children=["NotesMenuData","SettingsMenuData"],this.sysMenuConfig={screen:this.viewModel,graph:this.viewModel.graphInfo.graphType},this.screenService=t.get(r.ScreenService)}registerCompositeDataComponents(e){this.children.forEach((t=>(0,l.registerDataComponentOnScreen)(e,t,this.container)))}attached(){this.screenService.activateDataComponents(this.children)}getQueryParams(e){return{}}setComponentData(e){}};n.__decorate([o.bindable,n.__metadata("design:type",HTMLElement)],d.prototype,"toolsMenuElem",void 0),d=n.__decorate([(0,o.inlineView)('<template>\n\t\t\t\t<div id="pnlTools" class="toolsMenu">\n\t\t\t\t\t<qp-sys-menu view-model.ref="systemMenu" ref="toolsMenuElem" config.bind="sysMenuConfig"></qp-sys-menu>\n\t\t\t\t</div>\n\t\t\t</template>'),(0,l.selfRegisterWithName)("SysMenu",{createImmediately:!0}),n.__metadata("design:paramtypes",[a.PXScreen,o.Container])],d),t.SystemMenuDataComponent=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/tool-bar/qp-tool-bar":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),n("./node_modules/client-controls/descriptors/constants.js"),n("./node_modules/client-controls/descriptors/event-manager.js"),n("./node_modules/client-controls/descriptors/types.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c,u,p){"use strict";var h;Object.defineProperty(t,"__esModule",{value:!0}),t.NewMenuMenuOptions=t.NewMenuButton=t.MenuOptions=t.MenuButton=t.MenuItem=t.QpToolBarCustomElement=void 0;(0,a.getLogger)("tool-bar");let g=h=class QpToolBarCustomElement{constructor(e,t,n,r,o,a){this.element=e,this.bindingEngine=t,this.eventAggregator=n,this.screenEventManager=r,this.taskQueue=o,this.http=a,this.subscription=void 0,this.styleSubscription=void 0,this.saveObservers=[],this.items=[],this.menu=[],this.itemElements=[],this.showMenuOpener=!0,this.menuExclusions={},this.toolBarMode="toolbar+menu",this.menuOpened=!1,this.menuTopPosition=0,this.highlightedRow=void 0,this.highlightedColumn=void 0,this.highlightedID="",this.toolbarWidth=0,this.availableHeight=0,this.menuColumnsNbr=3}get ID(){var e;return null===(e=null==this?void 0:this.config)||void 0===e?void 0:e.id}appendConfig(e){this.extraConfig=e,this.config||(this.config=e),this.config.items||(this.config.items={}),this.mergeConfigs(),this.config.changed=!0}mergeConfigs(){var e;if(!this.extraConfig)return;const t={id:"_extra_category_",isSystem:!1,name:"Extra",actions:[]};for(const e in this.extraConfig.items){const n=this.extraConfig.items[e];this.config.items[e]=n,t.actions.push(e)}if(null===(e=this.config.categories)||void 0===e?void 0:e.length){const e=this.config.categories.findIndex((e=>"_extra_category_"===e.id));e>=0?this.config.categories[e]=t:this.config.categories.push(t)}}configChanged(e,t){var n,r;this.config&&(this.config.id||console.error("Id is not specified for toolbar ",this),(0,p.applyDefaultValues)(this.config,h.defaultConfig),this.mergeConfigs(),this.config.changed=!1,this.config.styleChanged=!1,null===(n=this.subscription)||void 0===n||n.dispose(),this.subscription=this.bindingEngine.propertyObserver(this.config,"changed").subscribe((e=>{e&&(this.setupViewModel(),this.taskQueue.queueTask((()=>{this.rebuildMenu()})),this.config.changed=!1)})),null===(r=this.styleSubscription)||void 0===r||r.dispose(),this.styleSubscription=this.bindingEngine.propertyObserver(this.config,"styleChanged").subscribe((e=>{e&&(this.synchroniseItems(),this.config.styleChanged=!1)})),this.setupViewModel(),this.setupWidthObserver(),this.taskQueue.queueTask((()=>this.adjustToolbarWidth())))}attached(){this.setupWidthObserver()}setupWidthObserver(){!this.resizeObserver&&r.PLATFORM.global.ResizeObserver&&this.toolbarElement&&this.fullULElement&&(this.resizeObserver=new r.PLATFORM.global.ResizeObserver((e=>{e&&e.length&&this.onWidthChange()})),this.resizeObserver.observe(this.fullULElement),this.resizeObserver.observe(this.toolbarElement))}onWidthChange(){const e=this.toolbarElement.clientWidth;this.menuColumnsNbr=Math.min(3,Math.floor(e/300)),this.rebuildMenu(),this.toolbarWidth=this.toolbarElement.clientWidth}adjustToolbarWidth(){var e;if(!this.menuOpener)return;const t=getComputedStyle(this.menuOpener),n=this.toolbarElement.clientWidth-this.menuOpener.offsetWidth-parseInt(t.marginLeft)-parseInt(t.marginRight);if(null===(e=this.config)||void 0===e?void 0:e.disableMenu)this.toolBarMode="toolbar only";else if("always menu"!==this.toolBarMode){if(this.fullULElement.scrollHeight<45)return this.toolBarMode="toolbar only",void this.hideMenu();this.toolBarMode="toolbar+menu"}let r=0;const o=[];let a=0,l=!0;for(const e of this.itemElements){if(!e)continue;if(this.isNavigation(e.id)){o.push(e),r+=getEleWidth(e);continue}if(!this.isSystem(e.id))continue;a+=getEleWidth(e),a>n&&(l=!1);const t=this.items.find((t=>t.id===e.id));null==t||t.makeVisible(l)}for(const e of this.itemElements){if(!e)continue;if(this.isSystem(e.id)||this.isNavigation(e.id))continue;a+=getEleWidth(e),a>n&&(l=!1);const t=this.items.find((t=>t.id===e.id));null==t||t.makeVisible(l)}if(l&&a+r<=n)for(const e of o){const t=this.items.find((t=>t.id===e.id));null==t||t.makeVisible()}else for(const e of o){const t=this.items.find((t=>t.id===e.id));null==t||t.makeVisible(!1)}}isNavigation(e){var t;if(!e)return!1;const n=null===(t=this.config.items[this.localId(e)])||void 0===t?void 0:t.config;return!!(null==n?void 0:n.isNavigation)}isSystem(e){var t;if(!e)return!1;const n=null===(t=this.config.items[this.localId(e)])||void 0===t?void 0:t.config;return!!(null==n?void 0:n.isSystem)}syncMenuChanges(){var e;for(const t of this.items){if(!t)continue;const n=null===(e=this.config.items[t.id])||void 0===e?void 0:e.config;n&&(t.disabled=void 0!==n.disabled&&n.disabled)}}synchroniseItems(){for(const e in this.config.items){const t=this.config.items[e].config,n=this.items.find((t=>t.id===this.fullId(e)));if(!n)continue;n.disabled=void 0!==t.disabled&&t.disabled;const r=n;r&&(r.images=t.images||r.images,r.toolTip=t.toolTip||r.toolTip)}this.attachToolTips()}unbindStates(){this.saveObservers.forEach((e=>e.dispose()))}bindStateWith(e){e&&this.saveObservers.push(this.bindingEngine.propertyObserver(e,"enabled").subscribe((t=>{const n=Object.values(this.config.items).find((t=>t.config.state===e));n&&(n.config.disabled=!t),this.synchroniseItems()})))}syncState(e,t){let n;if(e)if(e instanceof u.PXActionState)n=e;else if(n=e(),!n)return Object.assign(Object.assign({},t),{hidden:!0});return n?t=Object.assign({text:n.text,commandName:n.commandName,hidden:!n.visible,disabled:!n.enabled,toolTip:n.tooltip,imageSet:n.imageSet,imageKey:n.imageKey,imageUrl:n.imageUrl},t):t}setupViewModel(){var e,t;this.items||(this.items=[]),this.menuExclusions={};this.config.id;const n=this.config.categories,r=Object.entries(this.config.items).sort(((e,t)=>(null!=e[1].index?e[1].index:1e3)-(null!=t[1].index?t[1].index:1e3)));let o=0;for(const t of r){const r=t[0],a=this.config.items[r],l=this.syncState(a.config.state,a.config);let d;switch(a.type){case"menu-options":{const e=null==n?void 0:n.find((e=>e.id===r));if(e){this.menuExclusions[e.name]=!0;const t=new MenuOptions(this.fullId(r),l);for(const n of e.actions){const e=this.config.items[n].config;t.options.push(new MenuButton(this.fullId(n),e))}d=t}else{const e=a.config.options;if(!e)continue;const t=new MenuOptions(this.fullId(r),l);for(const n in e){const r=e[n];t.options.push(new MenuButton(this.fullId(n),r))}d=t}break}case"menu-button":case void 0:d=new MenuButton(this.fullId(r),l);break;default:d=new MenuItem(this.fullId(r))}let c=!1;if(l.hidden)c=!0;else if(n&&!(l.showInToolbar||l.favorite&&!l.disabled&&this.isInCategories(r))){d.showIfEnoughRoom=!0,c=!0;for(const e of n)if(null==(null==e?void 0:e.text)&&(null==e?void 0:e.actions.find((e=>e===r)))){c=!1;break}}c||(d.id!==(null===(e=this.items[o])||void 0===e?void 0:e.id)?this.items.splice(o,1,d):this.items[o].update(d),o++)}this.items.splice(o);const a=n?n.filter((e=>null==this.menuExclusions[e.name])):[];(null===(t=this.config)||void 0===t?void 0:t.disableMenu)?this.toolBarMode="toolbar only":a.find((e=>e.text))?this.toolBarMode="always menu":this.toolBarMode="toolbar+menu",this.rebuildMenu(),this.taskQueue.queueTask((()=>{this.attachToolTips()}))}isInCategories(e){for(const t of this.config.categories||[])if(null==t?void 0:t.actions.find((t=>t===e)))return!0;return!1}static isInMenu(e,t){var n;for(const r of e)if(null===(n=r.items)||void 0===n?void 0:n.find((e=>e.id===t)))return!0;return!1}rebuildMenu(){var e,t;if(!this.config)return;this.adjustToolbarWidth();const n=[];let o=0;for(const e of this.config.categories||[]){if(this.menuExclusions[e.name]||!e.actions)continue;++o;const t={};t.id=e.id,t.text=e.text,t.items=[];for(const n of e.actions){const r=this.config.items[n],a=r.config;let l;switch(r.type){case"menu-button":case void 0:l=new MenuButton(this.fullId(n),a,this.fullId(e.id));break;default:l=new MenuItem(this.fullId(n))}t.items.push(l),++o}n.push(t)}const a={items:[]};for(const t of this.items)t.visibleOnToolbar||!this.isSystem(t.id)&&(null===(e=this.config.categories)||void 0===e?void 0:e.length)||this.isNavigation(t.id)||h.isInMenu(n,t.id)||(a.items.push(t),++o);a.items.length&&n.unshift(a);let l=0;this.menu=[];let d=0;this.availableHeight=r.PLATFORM.global.document.documentElement.clientHeight-((null===(t=this.toolbarElement)||void 0===t?void 0:t.getBoundingClientRect().bottom)||0);const c=Math.floor(this.availableHeight/30);let u=0;for(const e of n)u+=e.items.length+1;this.menuColumnsNbr=Math.min(this.menuColumnsNbr,Math.max(Math.ceil(u/c),2));for(const e of n)d=Math.min(d+1,Math.floor(l*this.menuColumnsNbr/o)),l+=e.items.length+1,this.menu[d]||(this.menu[d]=[]),this.menu[d].push(new MenuLabel(this.fullId(e.id),e.text)),this.menu[d].push(...e.items);this.showMenuOpener=!this.isEverythingVisible()}isEverythingVisible(){var e;for(const t of this.menu)for(const n of t)if("MenuButton"===n.type&&!0!==(null===(e=this.items.find((e=>e.id===n.id)))||void 0===e?void 0:e.visibleOnToolbar))return!1;return!0}legacyEnv(){return!!r.PLATFORM.global.px}attachToolTips(){var e,t,n;for(const t of this.itemElements){if(!t)continue;const n=this.config.items[this.localId(t.id)];"menu-button"===(null==n?void 0:n.type)&&(null===(e=null==n?void 0:n.config)||void 0===e?void 0:e.toolTip)&&r.PLATFORM.global.px&&r.PLATFORM.global.px.setTitle(t,n.config.toolTip)}for(let e=0;e<(null===(t=this.fullULElement)||void 0===t?void 0:t.children.length);++e){const t=this.fullULElement.children[e];if(!t)continue;const o=this.config.items[this.localId(t.id)];"menu-button"===(null==o?void 0:o.type)&&(null===(n=null==o?void 0:o.config)||void 0===n?void 0:n.toolTip)&&r.PLATFORM.global.px&&r.PLATFORM.global.px.setTitle(t,o.config.toolTip)}}advanceSelection(e,t=0){null==this.highlightedColumn&&(this.highlightedColumn=t>0?this.menuColumnsNbr:0);const n=this.highlightedColumn;this.highlightedColumn=(this.highlightedColumn+t+this.menuColumnsNbr)%this.menuColumnsNbr;let r=this.menu[this.highlightedColumn];null==this.highlightedRow&&(this.highlightedRow=e>=0?-1:r.length),t&&(this.highlightedRow=Math.min(this.highlightedRow,r.length-1),e=0);const o=this.highlightedRow;this.highlightedRow+=e;let a=0;for(a=0;a<this.menuColumnsNbr;++a){for(r=this.menu[this.highlightedColumn];this.highlightedRow>=0&&this.highlightedRow<r.length;){const n=r[this.highlightedRow];if("MenuButton"===n.type&&!n.disabled)break;this.highlightedRow+=e||t}if(this.highlightedRow>=0&&this.highlightedRow<r.length)break;this.highlightedColumn=(this.highlightedColumn+t+this.menuColumnsNbr)%this.menuColumnsNbr,this.highlightedRow=o}a===this.menuColumnsNbr&&(this.highlightedRow=o,this.highlightedColumn=n),r=this.menu[this.highlightedColumn];const l=r&&r[this.highlightedRow];this.highlightedID=null==l?void 0:l.id,this.menuPane&&this.scrollIntoView()}onKeyDown(e){let t=!1;switch(e.key){case"Down":case"ArrowDown":this.menuOpened||this.showMenu(),this.advanceSelection(1),t=!0;break;case"Up":case"ArrowUp":this.menuOpened||this.showMenu(),this.advanceSelection(-1),t=!0;break;case"Left":case"ArrowLeft":this.menuOpened||this.showMenu(),this.advanceSelection(0,-1),t=!0;break;case"Right":case"ArrowRight":this.menuOpened||this.showMenu(),this.advanceSelection(0,1),t=!0;break;case"Esc":case"Escape":this.hideMenu(),t=!0;break;case"Enter":this.highlightedID&&this.processClick(this.highlightedID,"MenuButton",e),t=!0}return!t||(e.stopPropagation(),!1)}stopPropagation(e){return e.stopPropagation(),!1}toggleMenu(e){return this.menuOpened?this.hideMenu():this.showMenu(),!1}showMenu(){this.menuTopPosition=this.menuOpener.getBoundingClientRect().bottom;const e=r.PLATFORM.global.document.documentElement.clientHeight-this.toolbarElement.getBoundingClientRect().bottom;if(this.availableHeight!==e){const t=this.toolbarElement.clientWidth;this.availableHeight=e,this.menuColumnsNbr=Math.min(3,Math.floor(t/300)),this.setupViewModel()}this.rebuildMenu(),this.menuOpener.focus(),setTimeout((()=>{this.documentMouseDownSubscription=this.eventAggregator.subscribe(d.MOUSE_DOWN_REACHED_BODY,(()=>this.hideMenu()))}),0),this.menuOpened=!0}hideMenu(){this.unsubscribeFromMouseDownOnDocument(),this.menuOpened=!1,this.highlightedRow=void 0,this.highlightedColumn=void 0}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}detached(){var e,t,n;this.unsubscribeFromMouseDownOnDocument(),null===(e=this.styleSubscription)||void 0===e||e.dispose(),null===(t=this.subscription)||void 0===t||t.dispose(),null===(n=this.resizeObserver)||void 0===n||n.disconnect(),this.saveObservers.forEach((e=>e.dispose()))}toggleFavorites(e,t){const n=this.config.items[this.localId(e)].config;let r="add";return n.favorite?(n.favorite=!1,r="remove"):n.favorite=!0,this.http.fetch(`ui/FavoriteActions/${(0,p.getScreenID)()}/${n.commandName}/${r}`,{method:"POST",headers:{"content-type":"application/json"}}).then((e=>{e.ok?(this.setupViewModel(),this.taskQueue.queueTask((()=>{this.onWidthChange(),this.eventAggregator.publish(`repositioned:${this.menuOpener.id}`)}))):alert(`Error occured: ${e.statusText}`)})).catch((e=>alert(`Something went wrong. ${e.message}`))),this.stopPropagation(t)}processMenuSelected(e){const t=e.detail.id;this.processClick(t,"MenuButton",e.detail.event)}processMenuClick(e,t){this.processClick(e,"MenuButton",t,!0)}processOut(e,t){const n=this.toolbarElement.querySelector(`[id='${e}']`);return n&&(n.style.position="",n.style.zIndex=""),!0}processDown(e,t,n){r.PLATFORM.global.__px&&r.PLATFORM.global.__px(document).isActiveWC()&&r.PLATFORM.global.__px(document).registerWaitTask(this,(()=>{this.processClick(e,t,n)}),n);const o=this.toolbarElement.querySelector(`[id='${e}']`);return o&&(o.style.position="relative",o.style.zIndex="30000"),!0}processClick(e,t,n,o=!1){var a;if(r.PLATFORM.global.__px&&r.PLATFORM.global.__px(document).unregisterWaitTask(this),!o){const t=this.toolbarElement.querySelector(`[id='${e}']`);t&&(t.style.position="",t.style.zIndex="")}if(this.highlightedID="","MenuButton"!==t)return this.menuOpener.blur(),!0;const l=Object.assign(Object.assign({},this.items.find((t=>t.id===e))),null===(a=this.config.items[this.localId(e)])||void 0===a?void 0:a.config);if(!h.isEnabled(l))return!0;if(this.hideMenu(),document.activeElement){const e=new CustomEvent("update",{bubbles:!0,cancelable:!1});document.activeElement.dispatchEvent(e)}const d={event:n,config:l},u=this.toggleItem(e);void 0!==u&&(d.pushed=u);const p=new CustomEvent("buttonpressed",{bubbles:!0,detail:d});return l.target?l.target.dispatchEvent(p):this.element.dispatchEvent(p),l.commandName&&!p.propagationStopped&&this.screenEventManager.publish(new c.ExecuteCommandEvent(l.commandName)),!1}processMouseEnter(e,t){return this.highlightedID=e,!0}processMouseLeave(e,t){return this.highlightedID===e&&(this.highlightedID=""),!0}fullId(e){return`${this.config.id}${e}`}localId(e){return e.substring(this.ID?this.ID.length:0)}toggleItem(e){const t=this.items.find((t=>t.id===e));if(!t||"MenuButton"!==t.type)return;const n=t;return n.toggleMode?(n.pushed=!n.pushed,n.pushed):void 0}scrollIntoView(){var e,t,n,r;null!=this.highlightedRow&&null!=this.highlightedColumn&&("scrollBehavior"in document.documentElement.style?null===(t=null===(e=this.menuPane.children[this.highlightedColumn])||void 0===e?void 0:e.children[this.highlightedRow])||void 0===t||t.scrollIntoView({block:"nearest"}):null===(r=null===(n=this.menuPane.children[this.highlightedColumn])||void 0===n?void 0:n.children[this.highlightedRow])||void 0===r||r.scrollIntoView(!1))}static isEnabled(e){return!!e&&!e.disabled}};function getEleWidth(e){if(!e)return 0;const t=getComputedStyle(e);return e.getBoundingClientRect().width+parseInt(t.marginLeft)+parseInt(t.marginRight)}g.defaultConfig={hidden:!1,enabled:!0},n.__decorate([r.bindable,n.__metadata("design:type",Object)],g.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],g.prototype,"menuColumnsNbr",void 0),g=h=n.__decorate([(0,r.customElement)("qp-tool-bar"),r.autoinject,n.__metadata("design:paramtypes",[Element,r.BindingEngine,o.EventAggregator,c.QpEventManager,r.TaskQueue,l.HttpClient])],g),t.QpToolBarCustomElement=g;class MenuItem{constructor(e){this.cssClass="",this.width="",this.disabled=!1,this.hidden=!1,this.renderAs=MenuItem.RENDER_TEXT,this.visibleOnToolbar=!0,this.showIfEnoughRoom=!1,this.isNavigation=!1,this.isSystem=!1,this.showInToolbar=!1,this.id=e}get type(){return"MenuItem"}makeVisible(e=!0){this.visibleOnToolbar=e}renderIcon(){return!!(this.renderAs&MenuItem.RENDER_ICON)}renderText(){return!!(this.renderAs&MenuItem.RENDER_TEXT)}update(e){null!=e.cssClass&&(this.cssClass=e.cssClass),null!=e.width&&(this.width=e.width),null!=e.disabled&&(this.disabled=e.disabled),null!=e.renderAs&&(this.renderAs=e.renderAs),null!=e.visibleOnToolbar&&(this.visibleOnToolbar=e.visibleOnToolbar),null!=e.showIfEnoughRoom&&(this.showIfEnoughRoom=e.showIfEnoughRoom)}}t.MenuItem=MenuItem,MenuItem.RENDER_ICON=1,MenuItem.RENDER_TEXT=2;class MenuButton extends MenuItem{constructor(e,t,n){var r,o,a,l,d,c,u;super(e),this.toolTip="",this.images={},this.favorite=!1,this.connotation="",this.toggleMode=!1,this.pushed=!1,this.commandName=t.commandName,this.text=null!==(r=t.text)&&void 0!==r?r:"",this.categoryID=n,this.toolTip=null!==(o=t.toolTip)&&void 0!==o?o:"",this.disabled=!g.isEnabled(t),this.cssClass=null!==(l=null!==(a=t.css)&&void 0!==a?a:t.cssClass)&&void 0!==l?l:"",this.connotation=null!==(d=t.connotation)&&void 0!==d?d:"",this.favorite=!!t.favorite,this.images=t.images||{},this.toggleMode=null!==(c=t.toggleMode)&&void 0!==c&&c,this.pushed=null!==(u=t.pushed)&&void 0!==u&&u,t.imageUrl&&(this.images.normal=t.imageUrl),t.imageSet&&t.imageKey&&(this.images.normal=`${t.imageSet}@${t.imageKey}`),this.images.normal&&(this.renderAs=MenuItem.RENDER_ICON)}get type(){return"MenuButton"}update(e){super.update(e),null!=e.commandName&&(this.commandName=e.commandName),null!=e.text&&(this.text=e.text),null!=e.toolTip&&(this.toolTip=e.toolTip),null!=e.images&&(this.images=e.images),null!=e.favorite&&(this.favorite=e.favorite),null!=e.connotation&&(this.connotation=e.connotation),null!=e.toggleMode&&(this.toggleMode=e.toggleMode),null!=e.pushed&&(this.pushed=e.pushed),this.categoryID=e.categoryID}}t.MenuButton=MenuButton;class MenuOptions extends MenuButton{constructor(e,t){super(e,t),this.options=[]}update(e){super.update(e),this.options=e.options}get type(){return"MenuOptions"}}t.MenuOptions=MenuOptions;class MenuLabel extends MenuItem{constructor(e,t){super(e),this.imageURL="",this.text=t}get type(){return"MenuLabel"}update(e){super.update(e),null!=e.imageURL&&(this.imageURL=e.imageURL),null!=e.text&&(this.text=e.text)}}t.NewMenuButton=function NewMenuButton(e){return new MenuButton(e,{})},t.NewMenuMenuOptions=function NewMenuMenuOptions(e){return new MenuOptions(e,{})}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/translation-validation/qp-translation-validation":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/index.js"),n("./node_modules/client-controls/controls/compound/translation-validation/translation-validation-data-component.js"),n("./node_modules/client-controls/descriptors/index.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationValidationCustomElement=void 0;let d=class TranslationValidationCustomElement{constructor(e,t){this.translator=e,this.redirector=t,this.msg=o.Messages,this.getLocaleName=()=>this.translator.lang}get IsVisible(){var e,t,n;return(null===(n=null===(t=null===(e=this.component)||void 0===e?void 0:e.validationResult)||void 0===t?void 0:t.warnings)||void 0===n?void 0:n.length)||!1}get ValidationTitle(){var e,t,n;return(0,o.Format)(o.Messages.TranslationValidationTitle,`${(null===(n=null===(t=null===(e=this.component)||void 0===e?void 0:e.validationResult)||void 0===t?void 0:t.warnings)||void 0===n?void 0:n.length)||0}`)}toogleItems(){this.expanded=!this.expanded}openLocalizationScreen(){return this.redirector.openUrl(`Main?ScreenId=SM200540&Language=${this.translator.lang}`,"_blank")}};n.__decorate([r.bindable,n.__metadata("design:type",a.TranslationValidationDataComponent)],d.prototype,"component",void 0),n.__decorate([(0,r.computedFrom)("component.validationResult"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],d.prototype,"IsVisible",null),n.__decorate([(0,r.computedFrom)("component.validationResult"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],d.prototype,"ValidationTitle",null),d=n.__decorate([(0,r.customElement)("qp-translation-validation"),r.autoinject,n.__metadata("design:paramtypes",[o.QpTranslator,l.RedirectHelper])],d),t.TranslationValidationCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/compound/translation-validation/translation-validation-data-component.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationValidationDataComponent=void 0;t.TranslationValidationDataComponent=class TranslationValidationDataComponent{getQueryParams(){return{}}setComponentData(e){this.validationResult=e}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},"client-controls/controls/compound/tree-selector/qp-tree-selector-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("client-controls/controls/compound/tool-bar/qp-tool-bar"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/descriptors/event-manager.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m){"use strict";var f;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTreeSelectorDialogCustomElement=void 0;(0,a.getLogger)("qp-tree-selector-dialog");let v=f=class QpTreeSelectorDialogCustomElement{constructor(e,t,n,r,o){this.element=e,this.container=t,this.screenService=n,this.tq=r,this.dialogHelper=o,this.subscriptions=new Array}get multipleMode(){return"single"!==this.treeConfig.mode}attached(){const e=this.screenEventManager.subscribe("ExecuteCommand",(e=>{if(e.Command&&"select"===e.Command){if(this.tree.value){const e={value:this.tree.value.map((e=>{var t;return`${e.value||""}${this.multipleMode?null===(t=this.config)||void 0===t?void 0:t.separator:""}`})).join(""),text:this.tree.value.map((e=>{var t;return`${e.text||""}${this.multipleMode?null===(t=this.config)||void 0===t?void 0:t.separator:""}`})).join("")};this.selectValue(e)}e.stop()}}));this.subscriptions.push(e)}configChanged(e,t){var n,r,o,a,u,p,h,g,m,v,b,y,_,x,C;if(this.config||(this.config={}),(0,c.applyDefaultValues)(this.config,f.defaultConfig),null===(r=null===(n=this.config)||void 0===n?void 0:n.selectorConfig)||void 0===r?void 0:r.view){const e=[{field:null===(o=this.config)||void 0===o?void 0:o.selectorConfig.key,width:250,visible:!(null===(a=this.config)||void 0===a?void 0:a.selectorConfig.hideKeyField),allowShowHide:d.GridColumnShowHideMode.False},{field:null===(u=this.config)||void 0===u?void 0:u.selectorConfig.description,width:300}];this.gridConfig={graph:null===(p=this.screenService.getGraphInfo())||void 0===p?void 0:p.graphType,view:null===(h=this.config)||void 0===h?void 0:h.selectorConfig.view,columns:e,suppressNoteFiles:!0,valueField:null===(g=this.config)||void 0===g?void 0:g.selectorConfig.key,descriptionName:null===(m=this.config)||void 0===m?void 0:m.selectorConfig.description,displayName:"",allowInsert:!1,allowDelete:!1,allowUpdate:!1,generateColumns:0,allowSkipTabs:!1,topBarItems:{select:{config:Object.assign(Object.assign({},(0,l.NewMenuButton)("select")),{commandName:"select",text:"Select",connotation:"Success"})}},pageSize:14,adjustPageSize:!0,panel_id:`${null===(v=this.config)||void 0===v?void 0:v.id}_pnl_gr`,id:`${null===(b=this.config)||void 0===b?void 0:b.id}_grid`}}const S={};S[`${null===(y=this.config)||void 0===y?void 0:y.treeSelectorId}_t1_tree_ready`]={config:{id:`${null===(_=this.config)||void 0===_?void 0:_.treeSelectorId}_t1_tree_select`,commandName:"select",text:"Select",connotation:"Success"}},this.treeConfig=Object.assign(Object.assign({},null===(x=this.config)||void 0===x?void 0:x.treeConfig),{screenId:this.screenService.screenID,id:`${null===(C=this.config)||void 0===C?void 0:C.treeSelectorId}_t1_tree`,dynamic:!0,modifiable:!1,selectSeparately:!0,filterShowChildren:!1,topBarItems:S})}gridConfigChanged(){this.gridVM&&this.tq.queueTask((()=>{this.gridVM.refresh()}))}position(e,t){let n=NaN,r=NaN,a=NaN,l=NaN;const d=e,c=this.editorDiv.getBoundingClientRect(),u=d.querySelector("ux-dialog"),p=u.getBoundingClientRect();let h=p.width;const g=u.style,m=c.top,f=o.PLATFORM.global.innerHeight-c.bottom,v=o.PLATFORM.global.innerWidth-c.left,b=m>f;u.classList.add("qp-tree-selector-dialog"),u.style.position="absolute",p.height>o.PLATFORM.global.innerHeight?n=0:b?p.height>m?n=0:r=o.PLATFORM.global.innerHeight-c.top:p.height>f?r=0:n=c.bottom,p.width>o.PLATFORM.global.innerWidth?(a=0,h=o.PLATFORM.global.innerWidth,g.width=`${h}px`):v<h?l=0:a=c.left,Number.isNaN(n)||(g.top=`${n}px`),Number.isNaN(r)||(g.bottom=`${r}px`),Number.isNaN(a)||(g.left=`${a}px`),Number.isNaN(l)||(g.right=`${l}px`)}open(e){var t;const n=this.dialogHelper.openDialog({context:this,templateId:`tree-selector-panel_${null===(t=this.config)||void 0===t?void 0:t.id}`,width:"800px",height:"70vh",caption:e},{position:(e,t)=>this.position(e,t)},(e=>{this.currentDialog=e.controller}));return this.tq.queueMicroTask((()=>{if(!this.gridVM)return;const e=this.gridVM.onDataReady;this.gridVM.onDataReady=t=>{var n,r;this.gridVM.focusFastFilter(),this.gridVM.onDataReady=e,null===(r=(n=this.gridVM).onDataReady)||void 0===r||r.call(n,t)}})),n}treeValueChanged(e){var t;(null==e?void 0:e.length)>0&&(this.value={id:e.map((e=>{var t;return`${e.value||""}${this.multipleMode?null===(t=this.config)||void 0===t?void 0:t.separator:""}`})).join(""),value:e.map((e=>{var t;return`${e.value||""}${this.multipleMode?null===(t=this.config)||void 0===t?void 0:t.separator:""}`})).join(""),text:e.map((e=>{var t;return`${e.text||""}${this.multipleMode?null===(t=this.config)||void 0===t?void 0:t.separator:""}`})).join("")},null===(t=this.currentDialog)||void 0===t||t.ok(this.multipleMode?this.value.value:this.value))}selected(e){var t,n;if(this.gridConfig&&void 0!==(null==e?void 0:e.activeRow)){const r=e.getCell(this.gridConfig.valueField),o=e.getCell(this.gridConfig.descriptionName);r&&this.selectValue({id:r.value,value:`${r.value}${this.multipleMode?null===(t=this.config)||void 0===t?void 0:t.separator:""}`,text:`${null==o?void 0:o.value}${this.multipleMode?null===(n=this.config)||void 0===n?void 0:n.separator:""}`})}}selectValue(e){var t;void 0!==e&&(this.value=e,null===(t=this.currentDialog)||void 0===t||t.ok(this.value.value))}gridSelect(e){var t;(null===(t=this.preselectedValue)||void 0===t?void 0:t.id)&&this.selectValue(this.preselectedValue)}rowChanged(e){if(this.gridConfig&&void 0!==e.activeRow){const t=e.getCell(this.gridConfig.valueField),n=e.getCell(this.gridConfig.descriptionName);this.preselectedValue={id:null==t?void 0:t.value,text:n?`${null==t?void 0:t.value} - ${n.value}`:""}}}detached(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}};v.defaultConfig={id:"pu",separator:"; ",selectorTabTitle:u.Messages.TabbedTreeSelector,treeTabTitle:u.Messages.TabbedTreeTree,selectorConfig:{hideKeyField:!1}},n.__decorate([r.bindable,n.__metadata("design:type",Object)],v.prototype,"config",void 0),n.__decorate([(0,r.observable)({changeHandler:"treeValueChanged"}),n.__metadata("design:type",Object)],v.prototype,"treeValue",void 0),n.__decorate([r.observable,n.__metadata("design:type",Object)],v.prototype,"gridConfig",void 0),n.__decorate([r.bindable,n.__metadata("design:type",HTMLDivElement)],v.prototype,"editorDiv",void 0),n.__decorate([(0,h.newInstance)(g.QpEventManager),n.__metadata("design:type",g.QpEventManager)],v.prototype,"screenEventManager",void 0),n.__decorate([(0,r.computedFrom)("config.treeConfig.mode"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],v.prototype,"multipleMode",null),v=f=n.__decorate([(0,r.customElement)("qp-tree-selector-dialog"),h.autoinject,n.__metadata("design:paramtypes",[Element,r.Container,p.ScreenService,r.TaskQueue,m.DialogHelper])],v),t.QpTreeSelectorDialogCustomElement=v}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/tree-selector/qp-tree-selector":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpTreeSelectorCustomElement=void 0;(0,l.getLogger)("qp-tree-selector");let c=class QpTreeSelectorCustomElement extends d.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e}stateChanged(e,t){super.stateChanged(e,t),this.fieldLabel=e.text?e.text:e.name?e.name:""}valueChanged(){var e,t;if("string"!=typeof this.value){if(null===(null===(e=this.value)||void 0===e?void 0:e.id))return void(this.editorValue=void 0);const n=null!=(null===(t=this.value)||void 0===t?void 0:t.text),r=n?this.value.text.toString().trim():"",o=n?r:void 0;this.editorValue=o}else this.editorValue=this.value.trim()}get editorConfig(){var e;if(!this.config)return;let t=this.config.tabIndex,n=this.config.enabled;return this.editor&&(!this.config.readOnly&&this.config.enabled||(t=-1,n=!1)),{id:`${this.config.id}_text`,name:this.config.name,tabIndex:t,enabled:n,readOnly:this.config.readOnly,allowEditValue:this.config.allowEditValue||!!(null===(e=this.config.selectorConfig)||void 0===e?void 0:e.view)}}get multipleMode(){return"single"!==this.config.treeConfig.mode}openSelector(e){const t=this.field.elemText.value;this.treeSelectorDialog.open(e).whenClosed((e=>{e.wasCancelled||(this.multipleMode?this.value=`${t?`${t.trimEnd()} `:""}${e.output}`:this.value=e.output)}))}handleKeyDown(e){var t;return"F3"===e.key?(e.preventDefault(),e.stopImmediatePropagation(),this.openSelector(this.fieldLabel),!1):!!(null===(t=this.editorConfig)||void 0===t?void 0:t.allowEditValue)}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],c.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],c.prototype,"value",void 0),n.__decorate([r.observable,n.__metadata("design:type",HTMLInputElement)],c.prototype,"editor",void 0),n.__decorate([r.observable,n.__metadata("design:type",String)],c.prototype,"editorValue",void 0),n.__decorate([(0,r.computedFrom)("config","config.id","config.tabIndex","config.enabled","config.readOnly","config.allowEditValue","config.selectorConfig"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],c.prototype,"editorConfig",null),n.__decorate([(0,r.computedFrom)("config.treeConfig.mode"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],c.prototype,"multipleMode",null),c=n.__decorate([o.autoinject,(0,r.customElement)("qp-tree-selector"),n.__metadata("design:paramtypes",[Element,a.Container])],c),t.QpTreeSelectorCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/tree/qp-tree-node":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/services/localization.js"),n("./node_modules/client-controls/services/tree-service.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/services/tree-api-client.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpTreeNodeCustomElement=void 0;(0,o.getLogger)("qp-tree-node");let p=class QpTreeNodeCustomElement{constructor(e,t,n,r){this.element=e,this.treeService=t,this.tq=n,this.eventManager=r,this.updateTree=!0,this.updateText=!0,this.editMode=!1,this.showDragSeparator=!1,this.levelShift="0px",this.level=0,this.eventSubscriptions=[],this.localizedStrings=a.LOCALIZED_STRINGS.tree}get meta(){return this.treeService.metaMap[this.nodeId]}set meta(e){}get textParts(){var e;const{meta:t}=this;if(!t)return[];if((null==t?void 0:t.item)&&(null==t?void 0:t.mark)){return new d.TextParter(t.mark).getTextParts(t.item.name)}return[{text:null===(e=t.item)||void 0===e?void 0:e.name,selected:!1}]}attached(){var e,t,n,o,a,l,d;(null===(t=null===(e=this.meta)||void 0===e?void 0:e.item)||void 0===t?void 0:t.extraColumns)&&this.createOptionalControls(this.meta.item.extraColumns);const c=this.treeService.generateTestId(this.nodeId);c&&this.meta&&(this.meta.testId=c),this.treeService.treeNodes.push(this),this.treeService.treeNodes.length!==this.treeService.itemList.length||this.treeService.dynamic||this.dispatchEvent("ready"),this.treeService.iconWidth||(this.treeService.iconWidth=(null===(n=this.icon)||void 0===n?void 0:n.getBoundingClientRect().width)||0),this.treeService.openArrowWidth||(this.treeService.openArrowWidth=(null===(o=this.arrow)||void 0===o?void 0:o.getBoundingClientRect().width)||0),this.treeService.checkboxWidth||(this.treeService.checkboxWidth=(null===(a=this.checkBox)||void 0===a?void 0:a.getBoundingClientRect().width)||0),this.updateLevel(),"single"===this.treeService.mode&&this.treeNode&&this.eventSubscriptions.push(this.eventManager.addEventListener(this.treeNode,this.treeService.singleClickSelect?"click":"dblclick",this.onSelectSingle.bind(this),r.delegationStrategy.none,!0));const u=(null===(l=this.icon)||void 0===l?void 0:l.getElementsByTagName("svg")[0])||(null===(d=this.icon)||void 0===d?void 0:d.getElementsByTagName("div")[0]);u&&(u.style.width=`${this.treeService.iconSize}px`,u.style.height=`${this.treeService.iconSize}px`),this.treeNode&&(this.treeNode.viewModel=this)}updateLevel(){var e;this.level=this.treeService.getParentChain(this.nodeId).length-1,this.isLeaf=0===(null===(e=this.meta)||void 0===e?void 0:e.children.length),this.levelShift=23*(this.level+(this.isLeaf?1:0))+"px"}createOptionalControls(e){const t=this.treeNode.getElementsByClassName("optional-item");e.forEach(((e,n)=>{const r=document.createElement(this.treeService.extras[n].tagName);r.setAttribute("value",e),r.setAttribute("config.bind",`{enabled: false, textAlign: ${this.treeService.extras[n].textAlign}}`),r.style.width=`${this.treeService.extras[n].width}px`,t[n].appendChild(r)}))}getTransferData(e){return e.dataTransfer?JSON.parse(e.dataTransfer.getData("text/plain")):null}update(){this.dispatchEvent("updateTree")}dispatchEvent(e,t){const n=new CustomEvent(e,{bubbles:!0,detail:t});this.element.dispatchEvent(n)}dispatchNodeEvent(e){this.dispatchEvent(e,[this.treeService.getNode(this.nodeId)])}onOpen(e){e.stopImmediatePropagation(),this.treeService.dynamic&&!this.treeService.metaMap[this.nodeId].opened&&this.dispatchEvent("openNode",this.nodeId),this.treeService.toggle(this.nodeId),this.update()}checkSingle(){return this.treeService.selectSingle(this.nodeId),!0}onSelectSingle(){const e=this.treeService.selectSingle(this.nodeId);return this.dispatchEvent("valueSelected",e),this.dispatchEvent("onSelect",e),!0}onEdit(){this.editMode=!this.editMode,this.tq.queueMicroTask((()=>this.input.select())),this.hideNodeMenu(),this.editMode||this.update()}onSelectMulti(){return this.treeService.selectMulti(this.nodeId),this.update(),this.dispatchEvent("onSelect",this.treeService.collectInfo()),!0}onDeleteNode(){const e=this.treeService.getEventNode(this.nodeId);this.treeService.delete(this.nodeId),this.update(),this.hideNodeMenu(),this.dispatchEvent("onDelete",e)}onAddNode(e){var t,r,o;return n.__awaiter(this,void 0,void 0,(function*(){let n;const a=e?this.treeService.addChildNode:this.treeService.addSiblingNode;if(a){this.dispatchEvent("startLoading");const o=yield this.treeApiClient.checkAction({command:a,id:this.nodeId,parentId:(null===(t=this.meta.item)||void 0===t?void 0:t.parentId)||null,prevNodeId:this.treeService.getPrevNodeId(this.nodeId)},a);if("string"==typeof o)return alert(o),console.error(o),void this.dispatchEvent("endLoading");n=this.treeService.createCustomNewNode(o,e?this.nodeId:null===(r=this.meta.item)||void 0===r?void 0:r.parentId)}else n=this.treeService.createDefaultNewNode(this.nodeId,e?this.nodeId:null===(o=this.meta.item)||void 0===o?void 0:o.parentId);e?this.treeService.addNewChild(this.nodeId,n):this.treeService.addNewSibling(this.nodeId,n),this.update(),this.hideNodeMenu(),this.dispatchEvent("endLoading"),n&&n.item&&this.dispatchEvent("onAdd",this.treeService.getEventNode(n.item.id)||{})}))}onInput(e){return"Enter"!==e.key||(this.editMode=!1,e.preventDefault(),e.stopPropagation(),this.update(),!1)}hideNodeMenu(){var e;null===(e=this.toolbar)||void 0===e||e.classList.add("hidden")}onDragStart(e){return e.dataTransfer&&(this.treeService.selectedDrag&&"multi"===this.treeService.mode?e.dataTransfer.setData("text/plain",JSON.stringify({id:this.nodeId,treeId:this.treeService.treeId,item:this.treeService.draggedSelectedNodes()})):e.dataTransfer.setData("text/plain",JSON.stringify({id:this.nodeId,treeId:this.treeService.treeId,item:this.treeService.draggedNodes(this.nodeId)})),e.dataTransfer.setDragImage(this.flexFirst,0,0),e.dataTransfer.effectAllowed="move",this.treeService.hovered.id=this.nodeId,this.treeService.hovered.separator=!1),!0}onDragOver(e){this.treeService.hovered.id=this.nodeId,this.treeService.hovered.separator=!1,e.dataTransfer&&(e.dataTransfer.dropEffect="move")}showSeparator(){this.treeService.hovered.separator=!0}onDragLeave(e){this.treeService.resetHover()}dropNode(e,t){var r,o;return n.__awaiter(this,void 0,void 0,(function*(){const n=this.getTransferData(e);if(this.treeService.resetHover(),n){if(n.id!==this.nodeId||n.treeId!==this.treeService.treeId){const e=this.treeService.selectedDrag&&"multi"===this.treeService.mode&&this.treeService.collectInfo().length>0?n.item.map((e=>e.id)):[n.id],a=t?0:this.getChildIndex(null===(r=this.meta.item)||void 0===r?void 0:r.parentId,this.nodeId),l=t?this.nodeId:null===(o=this.meta.item)||void 0===o?void 0:o.parentId;if(this.treeService.checkDropCommand){this.dispatchEvent("startLoading");const e=t?null:a,r=yield this.treeApiClient.checkAction({command:this.treeService.checkDropCommand,parentId:l,id:n.id,prevNodeId:e,oldParentId:n.item[0].parentId},"action");if(this.dispatchEvent("endLoading"),"string"==typeof r)return alert(r),void console.error(r)}this.treeService.dropNode(l,a,e,n.treeId),this.update(),this.dispatchEvent("endLoading")}this.dispatchEvent("onChange",this.treeService.getEventNested(n.id,n.item[0].parentId||void 0))}}))}getChildIndex(e,t){return this.treeService.metaMap[e].children.indexOf(this.nodeId)}onMouseOut(){this.toolbar.classList.add("hidden")}onToolbarClick(e){this.treeService.shownToolbar&&this.treeService.shownToolbar!==this.toolbar&&this.treeService.shownToolbar.classList.add("hidden"),this.treeService.shownToolbar=this.toolbar,this.toolbar.classList.toggle("hidden")}flatChildren(e,t,n){const r=this.treeService.metaMap[e];if(!r)throw new Error(`Must have ${e}`);if(console.log(`Pushing ${t}`),n.push({level:t,item:r}),r.opened)for(const e of r.children)this.flatChildren(e,t+1,n);console.log(n)}getFlatMap(){const e=[];return this.flatChildren("null",0,e),e}detached(){this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[]}};n.__decorate([r.bindable,n.__metadata("design:type",String)],p.prototype,"nodeId",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],p.prototype,"id",void 0),n.__decorate([(0,c.inject)(u.TreeApiClient),n.__metadata("design:type",u.TreeApiClient)],p.prototype,"treeApiClient",void 0),n.__decorate([(0,r.computedFrom)("nodeId","updateTree"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],p.prototype,"meta",null),n.__decorate([(0,r.containerless)(),(0,r.computedFrom)("updateText"),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[])],p.prototype,"textParts",null),p=n.__decorate([(0,r.customElement)("qp-tree-node"),c.autoinject,n.__metadata("design:paramtypes",[Element,l.TreeService,r.TaskQueue,r.EventManager])],p),t.QpTreeNodeCustomElement=p}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/tree/qp-tree-toolbar":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/services/tree-service.js"),n("client-controls/controls/compound/tree/qp-tree"),n("aurelia-framework"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/utils/control-helper.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpTreeToolbarCustomElement=void 0;let p=class QpTreeToolbarCustomElement{constructor(e,t,n){this.container=e,this.element=t,this.screenService=n,this.treeService=this.container.get(o.TreeService),this.domEvents=new l.ElementEvents(this.element),this.domEvents.subscribe("buttonpressed",(e=>this.processToolBarClick(e)))}get hasToolbarItems(){var e;return(null===(e=this.config)||void 0===e?void 0:e.items)&&Object.keys(this.config.items).length}processToolBarClick(e){var t;const n=null===(t=e.detail)||void 0===t?void 0:t.config,r=null==n?void 0:n.commandName;switch(r){case"select":const e="multi"===this.parent.treeService.mode?this.parent.treeService.collectInfo():this.parent.treeService.selectSingle(this.parent.treeService.lastSelectedNodeId),t=new CustomEvent("valueSelected",{bubbles:!0,detail:e});this.element.dispatchEvent(t),this.parent.value=e;break;case"rename":this.rename();break;case"delete":this.delete();break;case"addSibling":this.addSibling();break;case"addChild":this.addChild();break;default:this.executeCommand(r,this.parent.value)}}rename(){this.parent.firstSelectedNode.editMode=!0}delete(){this.parent.firstSelectedNode.onDeleteNode()}addSibling(){this.parent.firstSelectedNode.onAddNode(!1)}addChild(){this.parent.firstSelectedNode.onAddNode(!0)}onFilter(e){if(e.length<3)this.parent.treeService.resetFilter(),this.parent.emptySearchResult=!1;else if(this.parent.treeService.dynamic){const t=this.treeService.setDynamicFilter(e);this.parent.openNode(t||[])}else this.parent.emptySearchResult=!this.parent.treeService.setFilter(e);this.parent.updateText()}executeCommand(e,t){let n;n=(0,u.isLegacyEnv)()?l.PLATFORM.global.px_cm.findDataSource():this.screenService,n.executeCommand(e,JSON.stringify(t))}};n.__decorate([l.bindable,n.__metadata("design:type",Object)],p.prototype,"config",void 0),n.__decorate([l.bindable,n.__metadata("design:type",String)],p.prototype,"caption",void 0),n.__decorate([l.bindable,n.__metadata("design:type",a.QpTreeCustomElement)],p.prototype,"parent",void 0),n.__decorate([(0,l.computedFrom)("config.items"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],p.prototype,"hasToolbarItems",null),p=n.__decorate([(0,l.customElement)("qp-tree-toolbar"),c.autoinject,n.__metadata("design:paramtypes",[r.Container,Element,d.ScreenService])],p),t.QpTreeToolbarCustomElement=p}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/compound/tree/qp-tree":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/services/tree-service.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/tree-api-client.js"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g){"use strict";var m;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTreeCustomElement=void 0;const f=(0,p.getLogger)("qp-tree");let v=m=class QpTreeCustomElement{constructor(e,t,n,r,o,l){this.container=e,this.element=t,this.tq=n,this.eventManager=r,this.bindingEngine=o,this.screenService=l,this.nodeId=null,this.emptySearchResult=!1,this.tooWideNodes=[],this.noData=!0,this.extraColumnsWidth=0,this.hasActions=!1,this.hasVerticalScroll=!1,this.hasHorizontalScroll=!1,this.actionLabels=[],this.value=[],this.resultType="TreeData",this.subscription=void 0,this.readySubscription=void 0,this.eventSubscriptions=[],this.repaintTree=!1,this.firstNodeSelected=!1,this.dataKeyNames=[],this.loadingInProgress=0,this.initialized=!1,this.container.registerInstance(a.TreeService,new a.TreeService),this.treeService=this.container.get(a.TreeService),this.registerTreeComponent()}attached(){this.linkedWithView()&&this.screenService.initialized&&(this.treeService.linkedWithView=!0,this.registerTreeComponent(),this.config&&this.configChanged(this.config),this.screenService.update(void 0,new l.ScreenUpdateParams({views:this.viewName?[this.viewName]:[]})))}registerTreeComponent(){this.screenService.isValid&&!this.componentSubscription&&(this.viewName=this.element.getAttribute("view.bind")||void 0,this.viewName&&(this.componentSubscription=this.screenService.registerDataComponent(this.viewName,this)))}linkedWithView(){return!!this.viewName&&this.screenService.isValid}getQueryParams(e){this.treeService.treeParams.dataKey=this.getRowDataKey();const t=Object.keys(this.treeService.metaMap).filter((e=>this.treeService.metaMap[e].opened)).map((e=>"null"===e?null:e));return t.length>1&&(this.treeService.treeParams.parameters=t),{view:this.treeService.treeParams.view,columns:this.treeService.treeParams.columns,parameters:this.treeService.treeParams.parameters,hideRootNode:this.config.hideRootNode,openedLayers:this.config.openedLayers,dynamic:this.config.dynamic,syncPosition:this.config.syncPosition,dataKey:this.treeService.treeParams.dataKey}}setComponentData(e){if(!this.config.data&&"testtree"!==this.treeService.treeParams.view){if(this.startLoading(),e.dataKeyNames&&(this.dataKeyNames=e.dataKeyNames),this.initialized&&this.saveTreeState(),this.treeService.resetTree(),this.resetParameters(),this.repaintTree=!0,this.config.columns){const t=this.treeApiClient.processColumnsData(e.rows,this.treeService.treeParams,this.config);this.applyTreeDataFromColumns(t)}else if(void 0===this.config.dynamic||!0===this.config.dynamic){const t=this.treeApiClient.processData(e.rows,this.config);this.applyDynamicTreeData(t)}else{const t=this.treeApiClient.processTreeData(e.rows,this.config);this.applyTreeData(t)}this.setTopBarButtonsState(),this.tq.queueMicroTask((()=>{if(this.repaintTree=!1,this.endLoading(),this.restoreTreeState(),this.treeService.itemList.length)if(!this.firstNodeSelected&&this.config.selectFirstNode){const e=this.treeService.selectSingle(this.treeService.itemList[0].id),t=new CustomEvent("valueSelected",{bubbles:!0,detail:e});this.element.dispatchEvent(t),this.firstNodeSelected=!0}else this.treeService.lastSelectedNodeId&&this.treeService.selectSingle(this.treeService.lastSelectedNodeId)}))}}bind(){var e,t,n;if(this.initialTopBarConfigItems=(null===(e=this.topToolbarConfig)||void 0===e?void 0:e.items)||[],this.linkedWithView()){const e=l.PXReflectionMetadata.getMetadata(null===(t=this.view)||void 0===t?void 0:t.instanceType,"treeConfig"),r=l.PXReflectionMetadata.getMetadata(this.screenService.model,this.viewName,"treeConfig");this.config||(this.config={}),(r||e)&&Object.assign(this.config,null!=r?r:e),(null===(n=this.view)||void 0===n?void 0:n.config)&&Object.assign(this.config,this.view.config)}else this.config&&this.configChanged(this.config);this.caption&&this.captionChanged(this.caption)}configChanged(e,t){if(e&&Object.keys(e).length){void 0===t&&(0,d.applyDefaultValues)(e,m.defaultConfig),this.treeService.treeId=this.config.id,this.treeService.modifiable=e.modifiable||!1,this.treeService.singleClickSelect=e.singleClickSelect||!1,this.treeService.selectedDrag=e.dragSelected||!1,this.treeService.filterShowChildren=e.filterShowChildren||!1,e.iconSize&&(this.treeService.iconSize=e.iconSize),this.treeService.selectSeparately=e.selectSeparately||!1,this.initTreeParams(e),e.data?this.buildClientTree():void 0===e.dynamic||!0===e.dynamic?(this.treeService.dynamic=!0,this.buildDynamicTree(),this.element.addEventListener("openNode",(e=>{const t=e.detail;this.openNode([t])}))):e.columns?(this.treeService.treeParams.columns=e.columns.split(" "),this.buildTreeFromColumns(this.treeService.treeParams)):"testtree"===this.treeService.treeParams.view?this.buildTestTree():this.buildTree(this.treeService.treeParams);try{let t=this.config.topBarItems||{};if(e.toolbar){const n=JSON.parse(e.toolbar);for(const e in n)n[e].target=this.topToolbar.element,n[e].type="menu-button";t=Object.assign(Object.assign({},t),n)}this.topToolbarConfig={id:`${this.config.id}_topBar`,styleChanged:!1,changed:!1,items:t,hideToolbarSearch:this.config.hideToolbarSearch}}catch(e){f.error("Cannot parse toolbar json",e)}this.treeService.mode=e.mode||"multi",this.treeService.defaultDrag=(e.defaultDrag||"cut").toLowerCase(),e.actionLabels&&(this.actionLabels=JSON.parse(e.actionLabels)),this.treeService.checkDropCommand=e.checkDropCommand||"",this.treeService.addChildNode=e.addChildNode||"",this.treeService.addSiblingNode=e.addSiblingNode||"",this.element.addEventListener("valueSelected",(e=>{this.value=e.detail,this.firstSelectedNode=this.treeService.treeNodes.find((e=>e.nodeId===this.value[0].id)),this.config.syncPosition&&(this.resetParameters(),this.screenService.update())})),this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,"updateTree",(e=>this.updateTree()),r.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,"ready",(e=>this.ready()),r.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,"startLoading",(e=>this.startLoading()),r.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,"endLoading",(e=>this.endLoading()),r.delegationStrategy.none,!0)),addEventListener("resize",this.onResize.bind(this)),e.onAdd&&this.addEventListener(e.onAdd,"onAdd"),e.onChange&&this.addEventListener(e.onChange,"onChange"),e.onDelete&&this.addEventListener(e.onDelete,"onDelete"),e.onSelect&&this.addEventListener(e.onSelect,"onSelect"),this.setupResizeObserver(),this.subscription=this.bindingEngine.propertyObserver(this.config,"refresh").subscribe(((e,t)=>{e!==t&&!0===e&&(this.treeService.resetTree(),this.config.columns?this.buildTreeFromColumns(this.treeService.treeParams):void 0===this.config.dynamic||!0===this.config.dynamic?this.buildDynamicTree():this.buildTree(this.treeService.treeParams),this.config.refresh=!1)}))}}ready(){this.tq.queueMicroTask((()=>{var e,t,n;if(this.emptySearchResult)this.readySubscription=this.bindingEngine.propertyObserver(this,"emptySearchResult").subscribe((e=>{var t;e||(this.ready(),null===(t=this.readySubscription)||void 0===t||t.dispose(),this.readySubscription=void 0)}));else{if(this.toolbar){const t=null===(e=this.toolbar)||void 0===e?void 0:e.getBoundingClientRect().width;this.treeService.extras.forEach((e=>{e.right+=t})),this.extraColumnsWidth+=t}this.topToolbar&&this.header&&(this.topToolbar.height=(null===(t=this.topToolbar)||void 0===t?void 0:t.element.getBoundingClientRect().height)+(null===(n=this.header)||void 0===n?void 0:n.getBoundingClientRect().height),this.treeTableWrap.style.paddingRight=`${this.extraColumnsWidth}px`,this.treeContainer.style.height=`calc(100% - ${this.topToolbar.height}px)`,this.treeContainer.style.top=`${this.topToolbar.height}px`,this.config.width&&(this.treeContainer.style.width=this.config.width),this.scrollsInfo(),this.hasHorizontalScroll&&(this.initEllipsis(),this.calcEllipsis()))}}))}captionChanged(e){if(e&&"$"===e[0]&&e[1]&&"{"!==e[1]){const t=e.substring(1),n=this.screenService.Model;(null==n?void 0:n.Msg)&&n.Msg[t]&&(this.captionText=n.Msg[t])}else this.captionText=e}getRowDataKey(){const e={},t=this.screenService.getGraphInfo().primaryView,n=this.screenService.model[t];function getRawValue(e){return e&&e.hasOwnProperty("id")?e.id:e}return this.dataKeyNames.forEach((t=>{let r;r=this.config.idName&&t===this.config.idName?getRawValue(this.value[0]):getRawValue(n.getValue(t)),r&&(e[t]=r)})),Object.keys(e).length?e:void 0}startLoading(){this.loadingInProgress+=1,this.busyCounter.increment(),this.element.classList.add("spinner")}endLoading(){this.tq.queueMicroTask((()=>{this.loadingInProgress&&(this.busyCounter.decrement(),this.loadingInProgress-=1),this.loadingInProgress||this.element.classList.remove("spinner")}))}onResize(){this.scrollsInfo(),this.resetWidths(),this.initEllipsis(),this.calcEllipsis(0,!0)}setupResizeObserver(){!this.resizeObserver&&r.PLATFORM.global.ResizeObserver&&this.treeContainer&&(this.resizeObserver=new r.PLATFORM.global.ResizeObserver((e=>{this.onResize()})),this.resizeObserver.observe(this.treeContainer))}scrollsInfo(){this.hasHorizontalScroll=this.treeTable.scrollWidth>this.treeTable.clientWidth,this.hasVerticalScroll=this.treeTable.scrollHeight>this.treeTable.clientHeight}addEventListener(e,t){e&&this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,t,(t=>this.executeCommand(e,t.detail)),r.delegationStrategy.none,!0))}initTreeParams(e){const t={view:e.dataMember};e.columns?t.columns=e.columns.split(" "):(e.description&&e.idParent&&e.idName?t.columns=[e.description,e.idParent,e.idName]:t.columns=[],e.iconField&&t.columns.push(e.iconField),e.iconColorField&&t.columns.push(e.iconColorField),e.actionField&&t.columns.push(e.actionField),e.extraColumnField&&t.columns.push(e.extraColumnField)),this.treeService.treeParams=t}loadNode(e){return n.__awaiter(this,void 0,void 0,(function*(){return this.treeApiClient.getNode(e,this.config)}))}openNode(e){return n.__awaiter(this,void 0,void 0,(function*(){this.treeService.treeParams.parameters=e.filter((e=>!1===this.treeService.metaMap[e].initialized)),e.forEach((e=>{this.treeService.metaMap[e].initialized=!0})),this.startLoading();try{let e=yield this.treeApiClient.getNode(this.treeService.treeParams,this.config);e=e.filter((e=>!this.treeService.metaMap[e.id])),e&&e.length>0&&(this.treeService.itemList=this.treeService.itemList.concat(e),this.treeService.createMetaMap(e),e.forEach((e=>this.treeService.metaMap[e.id].opened=!1))),this.tree.update()}finally{this.endLoading()}}))}saveTreeState(){this.savedMeta=this.treeService.metaMap,this.scrollPosition=this.treeTableWrap.scrollTop}restoreTreeState(){this.savedMeta&&(Object.keys(this.savedMeta).forEach((e=>{this.treeService.metaMap[e]&&(this.treeService.metaMap[e].opened=this.savedMeta[e].opened)})),this.tq.queueMicroTask((()=>{this.scrollPosition&&(this.treeTableWrap.scrollTop=this.scrollPosition)})))}resetParameters(){this.treeService.treeParams.parameters=void 0}buildDynamicTree(){return n.__awaiter(this,void 0,void 0,(function*(){if(!this.linkedWithView()){this.startLoading(),this.resetParameters();try{const e=yield this.treeApiClient.getNode(this.treeService.treeParams,this.config);this.applyDynamicTreeData(e)}finally{this.endLoading()}}}))}applyDynamicTreeData(e){if(this.treeService.itemList=this.treeService.itemList.concat(e),this.treeService.createMetaMap(e),this.linkedWithView()&&!this.initialized)"number"==typeof this.config.openedLayers&&this.tree.meta&&(this.updateOpenedLayers(),this.initialized=!0);else for(const t of e)null!==t.parentId||t.isLeaf||(this.openNode([t.id]),this.treeService.metaMap[t.id].opened=!0);this.tree.update()}buildTree(e){return n.__awaiter(this,void 0,void 0,(function*(){if(!this.linkedWithView()){this.startLoading(),this.resetParameters();try{const t=yield this.treeApiClient.getData(e,this.config);this.applyTreeData(t)}finally{this.endLoading()}}}))}applyTreeData(e){this.treeService.itemList=e,this.hasActions=e.some(this.ifAnyActionAvailable),this.noData=!e.length,this.noData||(this.treeService.createMetaMap(e),this.config.openedLayers&&this.config.openedLayers>0&&this.updateOpenedLayers(),this.tree.update(),this.calcExtraColumns())}ifAnyActionAvailable(e){var t,n,r,o;return(null===(t=e.actions)||void 0===t?void 0:t.createChild)||(null===(n=e.actions)||void 0===n?void 0:n.createSibling)||(null===(r=e.actions)||void 0===r?void 0:r.delete)||(null===(o=e.actions)||void 0===o?void 0:o.rename)}onTableWrapScroll(e){e.target.scrollTop<this.treeTable.scrollHeight-this.treeTableWrap.clientHeight+5&&(this.treeTable.style.height=`calc(100% + ${e.target.scrollTop}px`)}onTableScroll(e){this.calcEllipsis(e.target.scrollLeft)}initEllipsis(){this.tooWideNodes=[],this.treeService.treeNodes.forEach((e=>{null!=e.flexFirst&&(e.flexFirst.style.width="auto",e.treeNode.style.width="auto",e.flexFirst.getBoundingClientRect().width>this.treeTable.clientWidth&&this.tooWideNodes.push(e),e.treeNode.style.width=`${this.treeTable.scrollWidth}px`)}))}calcEllipsis(e=0,t=!1){const n=this.getFirstVisibleTreeNode();n&&(t&&(n.style.width=""),this.treeTable.scrollWidth>this.treeTable.clientWidth&&this.tooWideNodes.forEach((t=>{null!=t.flexFirst&&(this.treeTable.scrollWidth===this.treeTable.clientWidth+e?t.text.style.width="auto":t.text.style.width=this.treeTable.clientWidth-parseInt(t.levelShift,10)+e-this.treeService.iconWidth-this.treeService.openArrowWidth-this.treeService.checkboxWidth+"px")})))}resetWidths(){this.treeService.treeNodes.forEach((e=>{e.treeNode&&e.text&&(e.treeNode.style.width="auto",e.text.style.width="auto")}))}getFirstVisibleTreeNode(){let e=0;for(;!this.treeService.treeNodes[e]&&this.treeService.treeNodes[e].treeNode;)if(e++,e>=this.treeService.treeNodes.length)return null;return this.treeService.treeNodes[e].treeNode}buildTestTree(){return n.__awaiter(this,void 0,void 0,(function*(){this.startLoading();const e=yield this.treeApiClient.getTestData();this.calcExtraColumns(),this.treeService.itemList=e,this.hasActions=e.some(this.ifAnyActionAvailable),this.treeService.createMetaMap(e),this.config.openedLayers&&this.config.openedLayers>0&&this.updateOpenedLayers(),this.noData=!1,this.tree.update(),this.endLoading()}))}buildClientTree(){var e;(null===(e=this.config.data)||void 0===e?void 0:e.length)&&(this.startLoading(),this.tq.queueMicroTask((()=>{try{const e="string"==typeof this.config.data?JSON.parse(this.config.data):this.config.data;this.calcExtraColumns(),this.treeService.itemList=this.config.data||[],this.treeService.createMetaMap(e)}catch(e){alert(`Invalid data for tree ${this.element.id} Error: ${e.message}`)}this.config.openedLayers&&this.config.openedLayers>0&&this.updateOpenedLayers(),this.tree.update(),this.endLoading()})))}calcExtraColumns(){this.config.extraColumns&&this.config.extraColumns.length>0&&(this.treeService.extras=JSON.parse(this.config.extraColumns),this.treeService.extras.forEach(((e,t,n)=>{e.right=n.slice(t+1).reduce(((e,t)=>e+t.width),0)})),this.extraColumnsWidth=this.treeService.extras.reduce(((e,t)=>e+t.width),0))}updateOpenedLayers(){this.tree.treeService.traverseAndClose(this.tree.meta,0,(this.config.openedLayers||0)+1)}buildTreeFromColumns(e){return n.__awaiter(this,void 0,void 0,(function*(){this.startLoading();const t=yield this.treeApiClient.getDataFromColumns(e,this.config);this.applyTreeDataFromColumns(t),this.endLoading()}))}applyTreeDataFromColumns(e){this.tree.treeService.buildTree(e),this.tree.update()}updateText(){this.tree.updateText=!this.tree.updateText;const e=this.treeService.treeNodes;for(const t of e)t.updateText=!t.updateText}updateTree(){this.tree.updateTree=!this.tree.updateTree;const e=this.treeService.treeNodes;for(const t of e)t.updateTree=!t.updateTree,t.updateLevel();this.hasHorizontalScroll&&this.tq.queueMicroTask((()=>{this.initEllipsis(),this.calcEllipsis()}))}setTopBarButtonsState(){if(!this.config.topBarItems&&this.view&&this.view.actionNames){const e={};this.view.actionNames.forEach((t=>{const n=this.view[t];n&&(e[t]={config:Object.assign(Object.assign({},n),{images:{normal:`${n.imageSet||"main"}@${n.imageKey}`}})})})),this.topToolbarConfig.items=Object.assign(Object.assign({},e),this.initialTopBarConfigItems)}this.topToolbarConfig.changed=!0}executeCommand(e,t){r.PLATFORM.global.px_cm.findDataSource().executeCommand(e,JSON.stringify(t))}detached(){var e,t,n;this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(t=this.subscription)||void 0===t||t.dispose(),this.subscription=void 0,null===(n=this.readySubscription)||void 0===n||n.dispose(),this.readySubscription=void 0,this.viewName&&this.screenService.unregisterDataComponent(this.viewName),this.componentSubscription&&(this.componentSubscription.dispose(),this.componentSubscription=void 0)}};v.defaultConfig={mode:"multi",openedLayers:0,defaultDrag:"cut",modifiable:!0,dragSelected:!1,singleClickSelect:!1,dynamic:!1,hideRootNode:!1,refresh:!1,iconSize:16},n.__decorate([r.bindable,n.__metadata("design:type",String)],v.prototype,"caption",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],v.prototype,"topToolbarConfig",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],v.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Array)],v.prototype,"value",void 0),n.__decorate([r.bindable,n.__metadata("design:type",l.PXViewCollection)],v.prototype,"view",void 0),n.__decorate([(0,h.inject)(c.TreeApiClient),n.__metadata("design:type",c.TreeApiClient)],v.prototype,"treeApiClient",void 0),n.__decorate([h.autoinject,n.__metadata("design:type",g.BusyCounter)],v.prototype,"busyCounter",void 0),v=m=n.__decorate([(0,r.customElement)("qp-tree"),h.autoinject,n.__metadata("design:paramtypes",[o.Container,Element,r.TaskQueue,r.EventManager,r.BindingEngine,u.ScreenService])],v),t.QpTreeCustomElement=v}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/collapser/qp-collapsible":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/preferences/index.js"),n("client-controls/controls/dialog/informer/qp-informer-rack")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpCollapsibleCustomAttribute=void 0;class Collapser{constructor(e){this.collapsed=!1,this.collapsibles=[],this.id=e}collapsedChanged(){var e,t;this.collapsed?null===(e=this.collapserElement)||void 0===e||e.classList.remove("expanded"):null===(t=this.collapserElement)||void 0===t||t.classList.add("expanded")}onShrinkChanged(e,t){return n.__awaiter(this,void 0,void 0,(function*(){this.informChildren((n=>{var r,o;const a=null===(o=null===(r=null==n?void 0:n.au)||void 0===r?void 0:r.controller)||void 0===o?void 0:o.viewModel;a&&(e?a.collapse&&a.collapse():a.expand&&a.expand(),t&&a.saveUserPreferences&&a.saveUserPreferences())}))}))}applyPreferences(e){var t;if(null==e?void 0:e.user){this.collapsed=!!(null===(t=e.user.preferences)||void 0===t?void 0:t.collapsed);const setupDefaults=e=>{var t,n;const r=null===(n=null===(t=null==e?void 0:e.au)||void 0===t?void 0:t.controller)||void 0===n?void 0:n.viewModel;r&&(this.collapsed?r.collapse&&r.collapse():r.expand&&r.expand())};this.informChildren(setupDefaults)}}informChildren(e){for(const t of this.collapsibles){"QP-FIELDSET"!==t.nodeName&&"QP-FIELD"!==t.nodeName||e(t);t.querySelectorAll("qp-field, qp-fieldset").forEach((t=>e(t)))}}}n.__decorate([r.observable,n.__metadata("design:type",Boolean)],Collapser.prototype,"collapsed",void 0);let c=class CollapserService{constructor(e,t,n){this.preferencesService=e,this.eventManager=t,this.eventAggregator=n,this.collapsers=new Map,this.rawElements=[]}addCollapsible(e){this.rawElements.push(e),this.initSubscription||(this.initSubscription=this.eventAggregator.subscribe("screen-initialized",(e=>{for(const e of this.rawElements){const t=e.closest(".qp-collapsible-scope");if(!t)return;const n=t.getAttribute("id");if(!n)return;let r;this.collapsers.has(n)?r=this.collapsers.get(n):(r=new Collapser(n),this.collapsers.set(n,r)),r.collapsibles.push(e),this.preferencesService.subscribe(n,r),r.collapserElement||this.createCollapserElement(r)}this.rawElements=[],this.cleanup()})))}cleanup(){var e;for(const t of this.collapsers.keys()){const n=this.collapsers.get(t);for(let e=0;e<n.collapsibles.length;){n.collapsibles[e].parentElement?++e:n.collapsibles.splice(e,1)}n.collapsibles.length||(null===(e=n.collapserElement)||void 0===e||e.remove(),this.collapsers.delete(t))}}dispose(){this.initSubscription.dispose(),this.collapsers.forEach((e=>{var t;null===(t=e.pointerSubscription)||void 0===t||t.dispose()}))}createCollapserElement(e){e.collapserElement=document.createElement("div"),e.collapserElement.setAttribute("id",`${e.id}_collapser`),e.collapserElement.classList.add("qp-collapser"),e.collapserElement.classList.add("toggle"),e.collapsed||e.collapserElement.classList.add("expanded"),e.pointerSubscription=this.eventManager.addEventListener(e.collapserElement,"pointerdown",(t=>{this.processClick(e,t)}),r.delegationStrategy.none,!0);const t=document.body.querySelector(`#${e.id}`),n=null==t?void 0:t.querySelector(".qp-collapsible-anchor");null==n||n.appendChild(e.collapserElement)}processClick(e,t){e.collapsed=!e.collapsed,e.onShrinkChanged(e.collapsed,!0);const n=new ShrinkingPanelPreferences;return n.preferences.collapsed=e.collapsed,this.preferencesService.saveUserPreferences((0,a.getScreenID)(),e.id,n),t.preventDefault(),!1}};c=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[l.PreferencesService,r.EventManager,o.EventAggregator])],c);let u=class QpCollapsibleCustomAttribute{constructor(e,t){this.element=e,this.collapser=t}bind(){return n.__awaiter(this,void 0,void 0,(function*(){this.element.id||(0,d.fatalError)("Id of a collapsible element cannot be empty. Please define the id attribute",this.element),this.collapser.addCollapsible(this.element)}))}};u=n.__decorate([(0,r.customAttribute)("qp-collapsible"),r.autoinject,n.__metadata("design:paramtypes",[Element,c])],u),t.QpCollapsibleCustomAttribute=u;class ShrinkingPanelPreferences extends l.PreferenceBase{constructor(){super(),this.type="qp-collapser",this.preferences={}}}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/data-components/qp-data-component":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/descriptors/data-component-register.js"),n("aurelia-event-aggregator"),n("aurelia-framework"),n("./node_modules/client-controls/client-controls.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpDataComponent=void 0;let d=class QpDataComponent{constructor(e,t){this.container=e,this.eventAggregator=t,this.registered=!1;const n=this.eventAggregator.subscribe("data-components-initialized",(e=>{const t=(e||[]).filter((e=>e.name===this.name)).map((e=>e.component));t.length&&(this.component=t[0],this.component.hidden=this.hidden),n.dispose()}));this.model={container:e}}attached(){this.registered||(this.registered=(0,r.registerDataComponentOnScreen)(this.screen,this.name,this.container))}};n.__decorate([a.bindable,n.__metadata("design:type",String)],d.prototype,"name",void 0),n.__decorate([a.bindable,n.__metadata("design:type",l.PXScreen)],d.prototype,"screen",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Boolean)],d.prototype,"hidden",void 0),d=n.__decorate([a.autoinject,a.containerless,(0,a.customElement)("qp-data-component"),n.__metadata("design:paramtypes",[a.Container,o.EventAggregator])],d),t.QpDataComponent=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/data-components/qp-data-components":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/descriptors/data-component-register.js"),n("aurelia-event-aggregator"),n("aurelia-framework"),n("./node_modules/client-controls/client-controls.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpDataComponents=void 0;let d=class QpDataComponents{constructor(e,t){this.container=e,this.eventAggregator=t,this.registered=!1,this.items=[],this.eventAggregator.subscribe("data-components-initialized",(t=>{const n=(null!=t?t:[]).filter((e=>!!this.category&&e.category===this.category&&!this.items.some((t=>t.name===e.name))));this.items.push(...n.map((t=>({name:t.name,model:{container:e},component:t.component}))))}))}attached(){this.registered||this.category&&(this.registered=(0,r.registerDataComponentsOnScreenByCategory)(this.screen,this.category,this.container))}};n.__decorate([a.bindable,n.__metadata("design:type",String)],d.prototype,"category",void 0),n.__decorate([a.bindable,n.__metadata("design:type",l.PXScreen)],d.prototype,"screen",void 0),d=n.__decorate([a.autoinject,a.containerless,(0,a.customElement)("qp-data-components"),n.__metadata("design:paramtypes",[a.Container,o.EventAggregator])],d),t.QpDataComponents=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/field-pair/qp-field-pair":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("client-controls/controls/container/field/qp-field"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/descriptors/index.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFieldPairCustomElement=void 0;let c=class QpFieldPairCustomElement extends a.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,this.firstConfig={},this.secondConfig={},this.addConfigSetter("viewModel",(e=>this.view=e)),this.addConfigSetter("secondName",(e=>this.secondName=e))}get firstControlType(){return this.firstState?(0,o.getDefaultControlType)(this.firstState):void 0}get secondControlType(){return this.secondState?(0,o.getDefaultControlType)(this.secondState):void 0}stateChanged(e,t){var n,r;super.stateChanged(e,t),this.firstState=this.state,this.firstConfig.id=`ed${null===(n=this.view)||void 0===n?void 0:n.name}-${null===(r=this.firstState)||void 0===r?void 0:r.name}`}secondNameChanged(e){var t,n,r;this.secondState=null===(t=this.view)||void 0===t?void 0:t.getField(e),this.secondConfig.id=`ed${null===(n=this.view)||void 0===n?void 0:n.name}-${null===(r=this.secondState)||void 0===r?void 0:r.name}`}};n.__decorate([r.bindable,n.__metadata("design:type",d.PXFieldState)],c.prototype,"state",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],c.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",d.PXView)],c.prototype,"view",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],c.prototype,"secondName",void 0),n.__decorate([(0,r.computedFrom)("firstState.type","firstState.viewName","firstState.options","firstState.inputMask"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],c.prototype,"firstControlType",null),n.__decorate([(0,r.computedFrom)("secondState.type","secondState.viewName","secondState.options","secondState.inputMask"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],c.prototype,"secondControlType",null),c=n.__decorate([(0,r.customElement)("qp-field-pair"),r.autoinject,n.__metadata("design:paramtypes",[Element,l.Container])],c),t.QpFieldPairCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/field/own-binding-behavior":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js")],o=function(e,t,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.OwnBindingBehavior=void 0;let a=o=class OwnBindingBehavior{bind(e,t){var n,o,a,l;if(null===(o=null===(n=e.sourceExpression)||void 0===n?void 0:n.args)||void 0===o?void 0:o.length){const n=null===(a=e.sourceExpression)||void 0===a?void 0:a.args[0].name,r=null===(l=null==t?void 0:t.resources)||void 0===l?void 0:l.getBindingBehavior(n);if(r)return void r.bind(e,t)}const d=e.targetProperty.split(/(?=[A-Z])/).map((e=>e.toLowerCase())).join("-");e.targetObserver=new r.DataAttributeObserver(e.target,d)}unbind(e,t){var n,r,o,a;if(null===(r=null===(n=e.sourceExpression)||void 0===n?void 0:n.args)||void 0===r?void 0:r.length){const n=null===(o=e.sourceExpression)||void 0===o?void 0:o.args[0].name,r=null===(a=null==t?void 0:t.resources)||void 0===a?void 0:a.getBindingBehavior(n);r&&r.unbind(e,t)}}};a.BehaviorName="own",a=o=n.__decorate([(0,r.bindingBehavior)(o.BehaviorName)],a),t.OwnBindingBehavior=a}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/field/qp-field":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/control-helper.js"),n("client-controls/controls/container/field/own-binding-behavior")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findElementsByLabel=t.getDefaultControlType=t.QpFieldCustomElement=void 0;let d=class QpFieldCustomElement{constructor(e,t){var n;this.element=e,this.controlType=void 0,this.caption=void 0,this.controlSize=void 0,this.customType=!0,this.controlConfig={},this.collapsed=!1,this.stateExpr=this.element.getAttribute("control-state.bind"),this.proxyExpressions=null===(n=t.expressions)||void 0===n?void 0:n.filter((e=>e.sourceExpression.name!==l.OwnBindingBehavior.BehaviorName));for(const e of this.proxyExpressions||[])e.targetProperty.length>6&&e.targetProperty.startsWith("config")&&this.controlConfig&&(e.targetProperty=e.targetProperty[6].toLowerCase()+e.targetProperty.substring(7),e.bindTo=this.controlConfig)}collapse(){this.collapsed=!0}expand(){this.collapsed=!1}isCollapsed(){return this.collapsed}bind(e,t){if(this.controlConfig.id=this.controlId,this.controlConfig.tabIndex=this.tabIndex,!this.controlConfig.id&&this.stateExpr){const e=2,t=this.stateExpr.split(".",e);t.length===e&&(this.controlConfig.id=this.controlId=`ed${t[0]}-${t[1]}`)}this.pinnedChanged(),this.noLabelChanged()}noLabelChanged(){"false"===this.noLabel?this.noLabel=!1:"string"==typeof this.noLabel&&(this.noLabel=!0)}pinnedChanged(){"false"===this.pinned?this.pinned=!1:"string"==typeof this.pinned&&(this.pinned=!!this.pinned)}get label(){var e;if(!this.noLabel)return this.suppressLabel?"":null!=this.caption?this.caption:this.controlDisplayField?this.controlDisplayField.displayName:null===(e=this.controlState)||void 0===e?void 0:e.displayName}get suppressLabel(){var e,t;return!!this.noLabel||("qp-check-box"===this.controlType||(null===(e=this.controlState)||void 0===e?void 0:e.type)===o.NetType.Boolean||(null===(t=this.controlState)||void 0===t?void 0:t.suppressLabel))}get defaultControlType(){const e=this.controlState;return this.customType&&(null==e?void 0:e.controlType)?null==e?void 0:e.controlType:getDefaultControlType(e)}get effectiveControlType(){return this.controlType||this.defaultControlType}get errorMessage(){var e,t;return null!==(t=null===(e=this.controlState)||void 0===e?void 0:e.error)&&void 0!==t?t:this.controlErrorMessage}get errorLevel(){var e,t;return null!==(t=null===(e=this.controlState)||void 0===e?void 0:e.errorLevel)&&void 0!==t?t:this.controlErrorLevel}get errorCssClass(){if(!this.errorMessage)return"";switch(this.errorLevel){case o.PXErrorLevel.Error:case o.PXErrorLevel.RowError:return"err-l";case o.PXErrorLevel.Warning:case o.PXErrorLevel.RowWarning:return"war-l";case o.PXErrorLevel.RowInfo:return"inf-l";default:return""}}};function getDefaultControlType(e){if(null==e?void 0:e.viewName)return e.segments&&e.lookupMode!==o.DimensionLookupMode.BySegmentedKeys?"qp-segmented-selector":"qp-selector";switch(null==e?void 0:e.type){case o.NetType.Boolean:return"qp-check-box";case o.NetType.SByte:case o.NetType.Byte:case o.NetType.Int16:case o.NetType.UInt16:case o.NetType.Int32:case o.NetType.UInt32:case o.NetType.Int64:case o.NetType.UInt64:return(null==e?void 0:e.options)?"qp-drop-down":"qp-number-editor";case o.NetType.Single:case o.NetType.Double:case o.NetType.Decimal:return"qp-number-editor";case o.NetType.DateTime:return"qp-datetime-edit";case o.NetType.String:return(null==e?void 0:e.options)?e.isColorState?"qp-color-picker":"qp-drop-down":(null==e?void 0:e.inputMask)?"qp-mask-editor":"qp-text-editor";default:return"qp-text-editor"}}function findElementsByLabel(e,t){var n,r,o,a,l,d,c;const u=[];e=e.toUpperCase(),t||(t=document.body);const p=t.querySelectorAll("label");for(let r=0;r<p.length;++r){const o=p[r];if(o.innerText.trim().toUpperCase()!==e)continue;let a="qp-field",l=o.closest(a);if(!l){a="qp-text-editor";const e=t.querySelector(`#${o.getAttribute("for")}`);l=null!==(n=null==e?void 0:e.closest(a))&&void 0!==n?n:null}l&&u.push({type:a,VM:l.au.controller.viewModel})}const h=t.querySelectorAll("qp-tool-bar");for(let t=0;t<h.length;++t){const n=h[t];if(!(null===(o=null===(r=null==n?void 0:n.au)||void 0===r?void 0:r.controller)||void 0===o?void 0:o.viewModel))continue;const d=n.au.controller.viewModel;let c;const p=d.items.findIndex((t=>{var n,r,o,a;switch(t.type){case"MenuButton":{const o=t;if((null===(n=null==o?void 0:o.text)||void 0===n?void 0:n.toUpperCase())===e)return!0;if((null===(r=null==o?void 0:o.toolTip)||void 0===r?void 0:r.toUpperCase())===e)return!0;break}case"MenuOptions":{const n=t;for(const t of n.options)if((null===(o=null==t?void 0:t.text)||void 0===o?void 0:o.toUpperCase())===e||(null===(a=null==t?void 0:t.toolTip)||void 0===a?void 0:a.toUpperCase())===e)return c=t,!0;break}}return!1}));if(p>=0){const e=d.items[p];"MenuButton"===e.type?u.push({type:"ToolbarButton",VM:e,qpToolbarVM:d}):"MenuOptions"===e.type&&u.push({type:"ToolbarOptions",VM:c,parentVM:e,qpToolbarVM:d})}for(let t=0;t<d.menu.length;++t)for(let n=0;n<d.menu[t].length;++n){const r=d.menu[t][n];switch(r.type){case"MenuButton":{const t=r;(null===(a=null==t?void 0:t.text)||void 0===a?void 0:a.toUpperCase())!==e&&(null===(l=null==t?void 0:t.toolTip)||void 0===l?void 0:l.toUpperCase())!==e||u.push({type:"ToolbarMenuItem",VM:t,qpToolbarVM:d});break}}}}const g=t.querySelectorAll("qp-button > button");for(let t=0;t<g.length;++t){const n=g[t];if(n.innerText.trim().toUpperCase()!==e)continue;const r=n.closest("qp-button");r&&u.push({type:"qp-button",VM:r.au.controller.viewModel})}const m=t.querySelectorAll("qp-menu");for(let t=0;t<m.length;++t){const n=m[t];if(n.closest("qp-tool-bar"))continue;if(!(null===(c=null===(d=null==n?void 0:n.au)||void 0===d?void 0:d.controller)||void 0===c?void 0:c.viewModel))continue;const r=n.au.controller.viewModel,o=r.config.options.findIndex((t=>{var n,r;return"MenuButton"===(null==t?void 0:t.type)&&(null===(n=null==t?void 0:t.text)||void 0===n?void 0:n.toUpperCase())===e||(!(""!==(null==t?void 0:t.type)||!(null===(r=null==t?void 0:t.text)||void 0===r?void 0:r.toUpperCase().startsWith(`<DIV CLASS='QP-MENU-LABEL'>${e}`)))||void 0)}));if(o>=0){const e=r.config.options[o];u.push({type:"MenuButton",VM:e,qpMenuVM:r})}}return u}n.__decorate([r.bindable,n.__metadata("design:type",String)],d.prototype,"controlId",void 0),n.__decorate([r.bindable,n.__metadata("design:type",o.PXFieldState)],d.prototype,"controlState",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"controlType",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],d.prototype,"caption",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"controlSize",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"customType",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"noLabel",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"controlConfig",void 0),n.__decorate([r.bindable,n.__metadata("design:type",o.PXFieldState)],d.prototype,"controlDisplayField",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],d.prototype,"noIcon",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],d.prototype,"controlErrorMessage",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],d.prototype,"controlErrorLevel",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"context",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],d.prototype,"collapsed",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"pinned",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],d.prototype,"tabIndex",void 0),n.__decorate([(0,r.computedFrom)("controlState.displayName","controlState.suppressLabel","controlState.type","controlType","controlDisplayField"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],d.prototype,"label",null),n.__decorate([(0,r.computedFrom)("controlState.suppressLabel","controlState.type","controlType"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],d.prototype,"suppressLabel",null),n.__decorate([(0,r.computedFrom)("controlState.type","controlState.viewName","controlState.options","controlState.inputMask","controlState.controlType"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],d.prototype,"defaultControlType",null),n.__decorate([(0,r.computedFrom)("controlState.error","controlErrorMessage"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],d.prototype,"errorMessage",null),n.__decorate([(0,r.computedFrom)("controlState.errorLevel","controlErrorLevel"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],d.prototype,"errorLevel",null),n.__decorate([(0,r.computedFrom)("controlState.errorLevel","controlState.error","controlErrorMessage","controlErrorLevel"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],d.prototype,"errorCssClass",null),d=n.__decorate([(0,r.customElement)("qp-field"),n.__metadata("design:paramtypes",[Element,r.TargetInstruction])],d),t.QpFieldCustomElement=d,t.getDefaultControlType=getDefaultControlType,t.findElementsByLabel=findElementsByLabel,(0,a.registerQAObject)("getDefaultControlType",getDefaultControlType),(0,a.registerQAObject)("findElementsByLabel",findElementsByLabel)}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/container/fieldset/fieldset-configuration-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/container/fieldset/utils.js"),n("./node_modules/client-controls/services/screen-service.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldsetConfigurationService=void 0;let l=class FieldsetConfigurationService{constructor(e){this.screenService=e}getFieldsetFields(e,t,r,a,l,d,c){var u,p,h,g,m,f,v,b,y;return n.__awaiter(this,void 0,void 0,(function*(){const n=this.screenService.getViewsInfo();if(!n)throw new Error("Screen should have any structure data");const _=[],x=[],C={},S={},E={};for(const e in n){const t=!a||a===e,r=n[e],o={id:e,name:e,visible:!0,children:(null==r?void 0:r.map((n=>{var r,o;const a=`${e}.${n.fieldName}`;let d=l[a]||S[a];return d||(d=c(e,n.fieldName),d&&(S[a]=d)),t&&((null==d?void 0:d.primaryKey)||(null==d?void 0:d.required))&&(E[a]=!0),{id:a,name:(null===(r=n.fieldState)||void 0===r?void 0:r.text)||(null==d?void 0:d.displayName)||n.fieldName,parentId:e,visible:!!(null===(o=n.fieldState)||void 0===o?void 0:o.visible),tabSkip:!1,pinned:!1,required:t&&(null==d?void 0:d.required),deletable:!1}})))||[]};o.children.length>0&&(_.push(o),x.push(...o.children),C[o.id]=o)}const k=[{id:e,name:t,visible:!0,children:[]}],T={};for(const e of r){const t=`${e.viewName||a}.${e.name}`,n=l[t]||S[t],r={id:t,name:(null==n?void 0:n.displayName)||e.name||"",visible:null==n?void 0:n.visible,tabSkip:!1,pinned:void 0===e.pinned?E[t]:e.pinned,deletable:!1,required:(!a||e.viewName===a)&&(null==n?void 0:n.required),parentId:e.viewName||a||""};k[0].children.push(r),T[t]=r}const M=(null===(u=null==d?void 0:d.preferences)||void 0===u?void 0:u.fieldOrder)||r.map((e=>`${e.viewName||a}.${e.name}`)),q={},I=[{id:e,name:(null===(p=null==d?void 0:d.preferences)||void 0===p?void 0:p.fieldsetName)||t,visible:!(null===(h=null==d?void 0:d.preferences)||void 0===h?void 0:h.fieldsetCaptionHidden),children:[]}];for(const e of M){const t=l[e]||S[e],n=e.split("."),c=r.find((e=>e.viewName===n[0]&&e.name===n[1])),u={id:e,name:(null==t?void 0:t.displayName)||(null==t?void 0:t.name)||"",visible:!(0,o.getBooleanOrDefault)(null===(m=null===(g=null==d?void 0:d.preferences)||void 0===g?void 0:g.hidden)||void 0===m?void 0:m[e],!(null==t?void 0:t.visible)),tabSkip:(0,o.getBooleanOrDefault)(null===(v=null===(f=null==d?void 0:d.preferences)||void 0===f?void 0:f.tabSkip)||void 0===v?void 0:v[e],!1),pinned:(0,o.getBooleanOrDefault)(null===(y=null===(b=null==d?void 0:d.preferences)||void 0===b?void 0:b.pinned)||void 0===y?void 0:y[e],void 0===(null==c?void 0:c.pinned)?E[e]:c.pinned),required:(!a||n[0]===a)&&(null==t?void 0:t.required),deletable:!T[e],parentId:n[0]||(null==t?void 0:t.viewName)||""};I[0].children.push(u),q[u.id]=u}return{isAdmin:!0,allFields:_,choosenFields:I,availableFields:x.filter((e=>!q[e.id])).reduce(((e,t)=>{const n=t.parentId||"";let r=e.find((e=>e.id===n));return r||(r={id:n,children:[],name:n,visible:!0},e.push(r)),r.children.push(t),e}),new Array),defaultChoosenFields:k,allFieldsMap:C,keyFields:E}}))}};l=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[a.ScreenService])],l),t.FieldsetConfigurationService=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/fieldset/inline-view":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("aurelia-framework")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineView=void 0;let a=class InlineView{constructor(e,t,n,r){this.viewCompiler=e,this.viewSlot=t,this.container=n,this.viewResources=r,this.contextContainer=!0,this.viewCompiler=e,this.viewSlot=t,this.container=n,this.viewResources=r}bind(e,t){this.overrideContext=(0,r.createOverrideContext)(this.context,t)}attached(){this.refreshTemplate()}refreshTemplate(){const e=this.viewCompiler.compile(`<template>${this.template}</template>`,this.viewResources);!0!==this.contextContainer&&"true"!==this.contextContainer||!this.context.container||(this.container=this.context.container);const t=e.create(this.container);t.bind(this.context,this.overrideContext),this.viewSlot.removeAll(!1,!0),this.viewSlot.add(t),this.viewSlot.attached()}};n.__decorate([(0,o.bindable)({defaultBindingMode:o.bindingMode.toView}),n.__metadata("design:type",String)],a.prototype,"template",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],a.prototype,"context",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],a.prototype,"contextContainer",void 0),a=n.__decorate([o.noView,o.autoinject,o.containerless,n.__metadata("design:paramtypes",[o.ViewCompiler,o.ViewSlot,o.Container,o.ViewResources])],a),t.InlineView=a}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/fieldset/qp-edit-field-parent":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/dialog/edit-dialog-base/types.js"),n("./node_modules/client-controls/controls/dialog/edit-dialog-base/utils.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpEditFieldParentCustomElement=void 0;let d=class QpEditFieldParentCustomElement{constructor(){this.hovered=!1,this.selected=!1,this.isEditingName=!1}get active(){return this.hovered||this.selected}activate(){this.dragColType||(this.hovered=!0)}deactivate(){this.hovered=!1}processDragOver(e){return e.preventDefault(),this.onDragEvent(e,a.EditElementEvents.dragOver)}processDragLeave(e){return e.preventDefault(),this.onDragEvent(e,a.EditElementEvents.dragLeave)}processDrop(e){return e.preventDefault(),this.onDragEvent(e,a.EditElementEvents.drop)}processClick(){return this.selected=!this.selected,!0}switchVisible(e){return e.stopPropagation(),this.config.visible=!this.config.visible,(0,l.dispatchEditEvent)(a.EditElementEvents.preferenceChanged,{preferenceName:"fieldsetCaptionHidden",newValue:!this.config.visible}),!0}stopEditing(e){e.preventDefault(),e.stopImmediatePropagation(),this.isEditingName=!1,document.body.removeEventListener("click",this.onBodyClick)}onBodyClick(e){if(!this.editingElement)return;const t=this.editingElement.getBoundingClientRect();(e.pageX<t.left||e.pageX>t.right||e.pageY<t.top||e.pageY>t.bottom)&&this.stopEditing(e)}startEditName(e){return this.isEditingName=!0,document.body.addEventListener("click",(e=>this.onBodyClick(e))),this.editedName=this.config.name,this.prevEditedName=this.config.name,e.stopPropagation(),setTimeout((()=>{var e;const t=null===(e=this.editingElement)||void 0===e?void 0:e.firstElementChild;t&&(t.focus(),t.setSelectionRange(0,t.value.length))}),1),!0}processEditorChange(){return this.config.name=this.editedName,(0,l.dispatchEditEvent)(a.EditElementEvents.preferenceChanged,{preferenceName:"fieldsetName",newValue:this.config.name}),!0}processEditorKeyDown(e){return"Enter"!==e.key&&"Escape"!==e.key&&"Tab"!==e.key||("Escape"===e.key&&(this.editedName=this.prevEditedName,this.processEditorChange()),this.stopEditing(e)),!0}onDragEvent(e,t){return e.stopPropagation(),(0,l.dispatchEditEvent)(t,{originalEvent:e,item:this.config,itemType:a.EditElementType.choosen}),!0}};n.__decorate([o.bindable,n.__metadata("design:type",Object)],d.prototype,"config",void 0),n.__decorate([o.bindable,n.__metadata("design:type",String)],d.prototype,"dragColType",void 0),n.__decorate([(0,r.computedFrom)("hovered","selected"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],d.prototype,"active",null),d=n.__decorate([o.containerless],d),t.QpEditFieldParentCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/fieldset/qp-fieldset-edit":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/index.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/container/fieldset/types.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("aurelia-dialog"),n("./node_modules/client-controls/controls/dialog/base-dialog/base-dialog-with-events.js"),n("./node_modules/client-controls/controls/container/fieldset/utils.js"),n("./node_modules/client-controls/controls/dialog/edit-dialog-base/types.js"),n("./node_modules/client-controls/controls/dialog/edit-dialog-base/utils.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFieldsetEditCustomElement=void 0;let g=class QpFieldsetEditCustomElement extends c.BaseDialogWithEvents{constructor(e,t){super(t,e,!1),this.controller=e,this.msg=r.Messages,this.leftDropZoneActive=!1,this.leftItemActions=v}activate(e){this.config=e,this.baseDialogConfig={dialogTitle:e.dialogTitle,containerClass:"edit-fieldset-container",getResult:()=>this.fieldsetPreferences,resetToDefault:()=>this.resetConfigurationToDefault()},this.leftEditFieldOptions={showItemId:e.showItemId,itemType:p.EditElementType.available},this.rightEditFieldOptions={showItemId:e.showItemId,itemType:p.EditElementType.choosen,showRequired:!0,dropEvents:!0},this.availableFields=(0,u.cloneFieldList)(e.availableFields),this.choosenFields=(0,u.cloneFieldList)(e.choosenFields),this.resetFilters(),this.attachEvents(),this.selectedAvailableFields=[],this.selectedChoosenFields=[],this.rightItemActions=getRightColumnItemActions(),this.fieldsetPreferences=this.config.preferences?Object.assign(Object.assign({},this.config.preferences),{preferences:this.config.preferences.preferences?Object.assign({},this.config.preferences.preferences):{}}):void 0}resetConfigurationToDefault(){const e=this.config.defaultChoosenFields.reduce(((e,t)=>(t.children.forEach((t=>e[t.id]=!0)),e)),{}),t=this.config.allFields.map((t=>{const n=t.children.reduce(((t,n)=>(e[n.id]||t.push(Object.assign({},n)),t)),[]);return Object.assign(Object.assign({},t),{children:n})})).filter((e=>e.children.length>0));this.availableFields=(0,u.cloneFieldList)(t),this.choosenFields=(0,u.cloneFieldList)(this.config.defaultChoosenFields),this.fieldsetPreferences=this.config.preferences?Object.assign(Object.assign({},this.config.preferences),{preferences:this.config.preferences.preferences?Object.assign({},this.config.preferences.preferences):{}}):void 0,this.resetFilters()}searchAvailableFields(e){(e||this.availableFieldsFilter!==this.prevAvailableFieldsFilter)&&(this.currentAvailableFields=(0,u.filterFieldList)(this.availableFields,this.availableFieldsFilter,{searchParent:!0,toogleCollapse:!0,sort:!0,primaryViewId:this.config.primaryViewId}),this.prevAvailableFieldsFilter=this.availableFieldsFilter)}searchChoosenFields(){this.currentChoosenFields=(0,u.filterFieldList)(this.choosenFields,this.choosenFieldsFilter,{searchInChildViewId:!0,leaveEmptyParents:!0})}resetFilters(){this.availableFieldsFilter="",this.choosenFieldsFilter="",this.searchChoosenFields(),this.searchAvailableFields(!0),this.selectedAvailableFields=[],this.selectedChoosenFields=[]}processDropOnColumn(e,t){e.dataTransfer&&this.dropFields(JSON.parse(e.dataTransfer.getData(m)),void 0,!1,t)}processDragOver(e,t,n,r){if(e.preventDefault(),t===p.EditElementType.available)return void(!this.leftDropZoneActive&&this.dragInfo&&this.dragInfo.colType===p.EditElementType.choosen&&this.dragInfo.fields.every((e=>e.deletable))&&(this.leftDropZoneActive=!0));let o=n;const a=this.currentChoosenFields[this.currentChoosenFields.length-1];o?(0,u.listParentTypeChecker)(o)&&(o=o.children[0]):this.currentChoosenFields&&this.currentChoosenFields.length>0&&(o=a.children.length>0?a.children[a.children.length-1]:void 0);const l=r||null==o?void 0:o.id,d=r?null==o?void 0:o.id:void 0;if(d===this.rightDropZoneAfterId&&l===this.rightDropZoneBeforeId)return;const c=o?a.children.findIndex((e=>e.id===(null==o?void 0:o.id))):-1;if(c>=(r?0:1)&&c<(r?a.children.length-1:a.children.length)){const e=r?a.children[c+1].id:a.children[c-1].id;if(r&&this.rightDropZoneBeforeId===e||!r&&this.rightDropZoneAfterId===e)return}this.rightDropZoneAfterId=d,this.rightDropZoneBeforeId=l}processDragLeave(e,t,n){if(e.preventDefault(),t===p.EditElementType.available){if(!n&&e.target!==this.leftColumnElement)return!0;this.leftDropZoneActive=!1}else{if(!n&&e.target!==this.rightColumnElement)return!0;this.rightDropZoneAfterId=void 0,this.rightDropZoneBeforeId=void 0}}processDragEnd(){this.leftDropZoneActive=!1,this.rightDropZoneAfterId=void 0,this.rightDropZoneBeforeId=void 0,this.dragInfo=void 0}selectField(e,t,n,r){(0,u.makeFieldSelection)(e,t,n,r===p.EditElementType.available?this.selectedAvailableFields:this.selectedChoosenFields,r===p.EditElementType.available?this.currentAvailableFields:this.currentChoosenFields,r===p.EditElementType.available?this.lastSelectedAvailableField:this.lastSelectedChoosenField),r===p.EditElementType.available?this.lastSelectedAvailableField=e:this.lastSelectedChoosenField=e}dropFields(e,t,n,o){if(this.processDragEnd(),!e||!e.fields||0===e.fields.length||e.colType===p.EditElementType.available&&o===p.EditElementType.available)return;const a=this.availableFields.reduce(((e,t)=>(e[t.id]=t,e)),{}),l=this.choosenFields.reduce(((e,t)=>{var n;return null===(n=t.children)||void 0===n||n.forEach((n=>e[n.id]=t)),e}),{}),d=this.config.defaultChoosenFields.reduce(((e,t)=>(t.children.forEach((t=>{e[t.id]=!0})),e)),{});if(o===p.EditElementType.available){if(e.fields.some((e=>!e.deletable)))return;for(const t of e.fields){const e=this.currentChoosenFields.find((e=>{var n;return null===(n=e.children)||void 0===n?void 0:n.some((e=>e.id===t.id))}));if(!e)throw"No parent!";let n=a[t.parentId];const r=this.config.allFieldsMap[t.parentId];n||(n=Object.assign(Object.assign({},r),{collapsed:!0,children:[]}),a[n.id]=n,(0,u.addItemToArrayWithReference)(this.availableFields,n,this.config.allFields)),(0,u.addItemToArrayWithReference)(n.children,t,r.children),e.children.splice(e.children.findIndex((e=>e.id===t.id)),1),0===e.children.length&&this.choosenFields.length>1&&this.choosenFields.splice(this.choosenFields.indexOf(e),1)}}else{let o=!t||(0,u.listParentTypeChecker)(t)?this.choosenFields.find(((e,n,r)=>!t&&n===r.length-1||e.id===(null==t?void 0:t.id))):l[t.id];o||(o={name:r.Messages.Untitled,id:r.Messages.Untitled,children:[],visible:!0,collapsed:!0},this.choosenFields.push(o));let c=0;c=t?o.children.findIndex((e=>e.id===t.id))+(n?0:1):o.children.length,e.colType===p.EditElementType.available?e.fields.forEach((e=>{const t=a[e.parentId];t&&t.children&&(t.children.splice(t.children.findIndex((t=>t.id===e.id)),1),0===t.children.length&&(delete a[t.id],this.availableFields.splice(this.availableFields.findIndex((e=>e.id===t.id)),1)))})):e.fields.forEach((e=>{const t=l[e.id];if(!t.children)return;const n=t.children.findIndex((t=>t.id===e.id));t.children.splice(n,1),l[e.id]=o,n<=c&&c--}));const h=e.fields.map((e=>Object.assign(Object.assign({},e),{deletable:!d[e.id]})));c<=0?o.children.unshift(...h):c<o.children.length?o.children.splice(c,0,...h):o.children.push(...h)}const c=this.choosenFields.reduce(((e,t)=>[...e,...t.children.map((e=>(d[e.id]&&(d[e.id]=!1),e.id)))]),[]),g=Object.keys(d).filter((e=>d[e])).reduce(((e,t)=>(e[t]=!0,e)),{});(0,h.dispatchEditEvent)(p.EditElementEvents.preferenceChanged,{preferenceName:"fieldOrder",newValue:c}),(0,h.dispatchEditEvent)(p.EditElementEvents.preferenceChanged,{preferenceName:"deletedFields",newValue:g}),this.resetFilters()}toggleCollapse(e){e.collapsed=!e.collapsed}focusRightFilter(){this.rightFilterHasFocus=!0,this.rightFilterInput.setSelectionRange(0,this.rightFilterInput.value.length)}focusLeftFilter(){this.leftFilterHasFocus=!0,this.leftFilterInput.setSelectionRange(0,this.leftFilterInput.value.length)}blurRightFilter(){this.rightFilterHasFocus=!1}blurLeftFilter(){this.leftFilterHasFocus=!1}attachEvents(){this.addEventListner(document.body,p.EditElementEvents.activated,(e=>{e.detail.hovered=!0})),this.addEventListner(document.body,p.EditElementEvents.deactivated,(e=>{e.detail.hovered=!1})),this.addEventListner(document.body,p.EditElementEvents.select,(e=>{var t;(null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)&&this.selectField(e.detail.item,e.detail.originalEvent.ctrlKey,e.detail.originalEvent.shiftKey,e.detail.itemType)})),this.addEventListner(document.body,p.EditElementEvents.dragStart,(e=>{var t,n;if(!(null===(n=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===n?void 0:n.dataTransfer))return;const r=e.detail.itemType===p.EditElementType.available?this.selectedAvailableFields:this.selectedChoosenFields,o={colType:e.detail.itemType,fields:r&&r.length?r:[e.detail.item]};e.detail.originalEvent.dataTransfer.effectAllowed="move",e.detail.originalEvent.dataTransfer.setData(m,JSON.stringify(o)),this.dragInfo=o})),this.addEventListner(document.body,p.EditElementEvents.dragOver,(e=>{var t,n;(null===(n=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===n?void 0:n.dataTransfer)&&(e.detail.originalEvent.dataTransfer.dropEffect="move",this.processDragOver(e.detail.originalEvent,e.detail.itemType,e.detail.item,!!e.detail.after))})),this.addEventListner(document.body,p.EditElementEvents.dragLeave,(e=>{var t,n;(null===(n=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===n?void 0:n.dataTransfer)&&this.processDragLeave(e.detail.originalEvent,e.detail.itemType,e.detail.item)})),this.addEventListner(document.body,p.EditElementEvents.drop,(e=>{var t,n;(null===(n=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===n?void 0:n.dataTransfer)&&this.dropFields(JSON.parse(e.detail.originalEvent.dataTransfer.getData(m)),e.detail.item,!e.detail.after,e.detail.itemType)})),this.addEventListner(document.body,p.EditElementEvents.unchooseElement,(e=>{this.dropFields({colType:p.EditElementType.choosen,fields:[e.detail.item]},void 0,!1,p.EditElementType.available)})),this.addEventListner(document.body,p.EditElementEvents.preferenceChanged,(e=>{this.fieldsetPreferences=this.fieldsetPreferences||new a.FieldsetPreferences;const t=this.fieldsetPreferences.preferences;if(e.detail.fieldId){if(t[e.detail.preferenceName]=t[e.detail.preferenceName]||{},t[e.detail.preferenceName][e.detail.fieldId]=e.detail.newValue,e.detail.newFieldView){const t=this.choosenFields[0].children.findIndex((t=>{var n;return t.id===(null===(n=e.detail.newFieldView)||void 0===n?void 0:n.id)}));t>-1&&(this.choosenFields[0].children[t]=e.detail.newFieldView)}}else t[e.detail.preferenceName]=e.detail.newValue})),this.addEventListner(document.body,p.EditElementEvents.addElementToEnd,(e=>{this.dropFields({colType:e.detail.itemType,fields:[e.detail.item]},void 0,!1,p.EditElementType.choosen)}))}};n.__decorate([o.bindable,n.__metadata("design:type",String)],g.prototype,"availableFieldsFilter",void 0),n.__decorate([o.bindable,n.__metadata("design:type",String)],g.prototype,"choosenFieldsFilter",void 0),g=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[d.DialogController,l.EventManager])],g),t.QpFieldsetEditCustomElement=g;const m="fielditem",f={isEnabled:()=>!0,isReadonly:()=>!1,getState:()=>""},getRightColumnItemActions=()=>[Object.assign(Object.assign({},f),{className:"edit-field-icon--recycle",isVisible:(e,t)=>e&&t.deletable,onClick:e=>((0,h.dispatchEditEvent)(p.EditElementEvents.unchooseElement,{item:e,itemType:p.EditElementType.choosen}),e),getIcon:e=>"svg:main@recycle"}),Object.assign(Object.assign({},f),{className:"edit-field-icon--tabskip",isVisible:(e,t)=>e||t.tabSkip,isEnabled:(e,t)=>t.visible,onClick:e=>(e=Object.assign(Object.assign({},e),{tabSkip:!e.tabSkip}),(0,h.dispatchEditEvent)(p.EditElementEvents.preferenceChanged,{fieldId:e.id,preferenceName:"tabSkip",newValue:e.tabSkip,newFieldView:e}),e),getIcon:e=>"svg:main@"+(e.tabSkip?"tab_off":"tab_on"),getState:e=>""+(e.tabSkip?"tab_off":"tab_on")}),Object.assign(Object.assign({},f),{className:"edit-field-icon--pinned",isVisible:(e,t)=>e||t.pinned,isEnabled:(e,t)=>t.visible,onClick:e=>(e=Object.assign(Object.assign({},e),{pinned:!e.pinned}),(0,h.dispatchEditEvent)(p.EditElementEvents.preferenceChanged,{fieldId:e.id,preferenceName:"pinned",newValue:e.pinned,newFieldView:e}),e),getIcon:e=>"svg:main@"+(e.pinned?"pinned":"unpinned"),getState:e=>""+(e.pinned?"pinned":"unpinned")}),Object.assign(Object.assign({},f),{className:"edit-field-icon--eye",isVisible:(e,t)=>e||!t.visible,onClick:e=>(e=Object.assign(Object.assign({},e),{visible:!e.visible}),(0,h.dispatchEditEvent)(p.EditElementEvents.preferenceChanged,{fieldId:e.id,preferenceName:"hidden",newValue:!e.visible,newFieldView:e}),e),getIcon:e=>"svg:main@eye"+(e.visible?"":"Closed"),getState:e=>""+(e.visible?"eye_opened":"eye_closed")})],v=[Object.assign(Object.assign({},f),{className:"edit-field-icon--arrow",isVisible:(e,t)=>e,onClick:e=>((0,h.dispatchEditEvent)(p.EditElementEvents.addElementToEnd,{item:e,itemType:p.EditElementType.available}),e),getIcon:e=>"svg:main@arrorRight"})]}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/fieldset/qp-fieldset-layout":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/abstract/index.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFieldsetLayoutCustomElement=t.createFieldsetLayout=void 0;const a="qp-fieldset-layout";t.createFieldsetLayout=function createFieldsetLayout(e,t){const n=r.DOM.createElement(a);return n.setAttribute("use-multi.bind",t?"true":"false"),n.setAttribute("layout.bind",JSON.stringify(e)),n};let l=class QpFieldsetLayoutCustomElement{constructor(){this.layoutFields=[],this.inlineContext={},this.subscribedViews={},this.fieldCount=0,this.rows=[]}bind(e,t){let n=e,r=t.parentOverrideContext;for(;r&&!(n instanceof o.PXScreen);)n=r.bindingContext,r=r.parentOverrideContext;this.inlineContext=null!=n?n:{}}unbind(){this.unsubscribeViewHandlers()}attached(){this.layoutChanged(this.layout)}layoutChanged(e,t){e&&!t&&(this.layoutFields=[...e.fields],this.viewName=e.viewName,this.createFields())}viewChanged(e){if(this.fieldCount===this.layoutFields.length)return;const t=this.inlineContext[e];if(!t)return;0!==this.layoutFields.map((e=>t.getField(e.name))).filter((e=>!!e)).length&&this.createFields()}createFields(){this.unsubscribeViewHandlers();const getFieldState=(e,t)=>{if(e){const n=this.inlineContext[e];if(n){const r=n.getField(t);if(r)return r;this.subscribedViews[e]||(this.subscribedViews[e]=n.subscribeRowSelectedHandler(this.inlineContext,((t,n)=>this.viewChanged(e))))}}},e={columns:12,marginLeftColumns:0,marginRightColumns:0},fillPosition=t=>{var n,r,o,a;return{large:Object.assign(Object.assign({},e),null!==(n=t.large)&&void 0!==n?n:{}),medium:Object.assign(Object.assign({},e),null!==(o=null!==(r=t.medium)&&void 0!==r?r:t.large)&&void 0!==o?o:{}),small:Object.assign(Object.assign({},e),null!==(a=t.small)&&void 0!==a?a:{}),separateRow:t.separateRow}},t=this.layoutFields.map((e=>{var t,n,r;return Object.assign(Object.assign({},e),{viewName:null!==(n=null!==(t=e.viewName)&&void 0!==t?t:this.viewName)&&void 0!==n?n:"",state:getFieldState(null!==(r=e.viewName)&&void 0!==r?r:this.viewName,e.name),position:fillPosition(e.position)})})).filter((e=>!!e.state));let n={fields:[]};const r=[n],createNewRow=e=>e.position.separateRow;for(const e of t)createNewRow(e)?(0===n.fields.length?(n.verticalFit=!0,n.fields.push(e)):r.push({verticalFit:!0,fields:[e]}),n={fields:[]},r.push(n)):n.fields.push(e);0===n.fields.length&&r.pop(),this.fieldCount=t.length,this.rows=r}unsubscribeViewHandlers(){for(const e in this.subscribedViews)this.subscribedViews.hasOwnProperty(e)&&this.subscribedViews[e].dispose();this.subscribedViews={}}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"layout",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],l.prototype,"useMulti",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],l.prototype,"minWidth",void 0),l=n.__decorate([r.autoinject,(0,r.customElement)(a)],l),t.QpFieldsetLayoutCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/fieldset/qp-fieldset":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/controls/container/fieldset/fieldset-configuration-service.js"),n("aurelia-event-aggregator"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("aurelia-framework"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/controls/abstract/index.js"),n("./node_modules/client-controls/descriptors/index.js"),n("aurelia-dialog"),n("./node_modules/client-controls/services/messages.js"),n("client-controls/controls/container/fieldset/qp-fieldset-edit"),n("./node_modules/client-controls/controls/container/fieldset/types.js"),n("./node_modules/client-controls/services/preferences/index.js"),n("./node_modules/client-controls/services/features-service.js"),n("./node_modules/client-controls/services/field-defaults-service.js"),n("client-controls/controls/dialog/informer/qp-informer-rack")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m,f,v,b,y,_){"use strict";var x;Object.defineProperty(t,"__esModule",{value:!0}),t.QpFieldsetCustomElement=void 0;let C=x=class QpFieldsetCustomElement{constructor(e,t,n,r,a,d,c,u,h,g,m,f){this.element=e,this.container=t,this.dialogService=r,this.eventManager=a,this.configureFieldset=d,this.preferencesService=c,this.preferencesApi=u,this.screenService=h,this.tq=g,this.featuresService=m,this.fieldDefaultsService=f,this.controlSize=void 0,this.viewMode=p.ViewMode.View,this.inlineContext={},this.fieldNames=[],this.fields=new p.CaseInsensitiveMap,this.hasVisibleControls=!1,this.hasNotCollapsedFields=!0,this.eventSubscriptions=[],this.bindingEngine=t.get(l.BindingEngine),this.eventAggregator=t.get(o.EventAggregator),this.replaceElements=n.elementInstruction.replaceParts,this.insertElements=n.elementInstruction.insertParts,this.existingFields=n.elementInstruction.existingFields,this.dataFields=n.elementInstruction.dataFields,this.viewName=this.element.getAttribute("view.bind"),this.id=this.element.getAttribute("id"),requestAnimationFrame((()=>{window.getComputedStyle(e,null).backgroundColor}))}collapse(){this.collapsed=!0,this.tq.queueTask((()=>{const e=this.element.querySelectorAll("qp-field");for(let t=0;t<e.length;++t){if(e[t].scrollHeight)return void(this.hasNotCollapsedFields=!0)}this.hasNotCollapsedFields=!1}))}expand(){this.collapsed=!1}isCollapsed(){return this.collapsed}saveUserPreferences(){var e;return n.__awaiter(this,void 0,void 0,(function*(){this.preferences=this.preferences||{},this.preferences.user=(null===(e=this.preferences)||void 0===e?void 0:e.user)||new f.FieldsetPreferences,this.preferences.user.preferences.collapsed=this.collapsed,yield this.preferencesApi.savePreferences(this.inlineContext.screenID,this.id,this.preferences.user)}))}toggleShrinking(){this.element.querySelectorAll("qp-field").forEach((e=>{var t,n;const r=null===(n=null===(t=null==e?void 0:e.au)||void 0===t?void 0:t.controller)||void 0===n?void 0:n.viewModel;r&&(this.collapsed?r.expand&&r.expand():r.collapse&&r.collapse())})),this.collapsed=!this.collapsed,this.onCollapsedChanged(this.collapsed)}applyPreferences(e){var t,n;this.preferences=e,(null==e?void 0:e.user)&&void 0!==(null===(t=e.user.preferences)||void 0===t?void 0:t.collapsed)&&(this.collapsed=null===(n=e.user.preferences)||void 0===n?void 0:n.collapsed)}preferencesChanged(){this.recalcFields()}dataFieldsChanged(){this.recalcFields()}recalcFields(){var e,t;this.orderedFields=getOrderedFields(this.dataFields,null===(t=null===(e=this.preferences)||void 0===e?void 0:e.def)||void 0===t?void 0:t.preferences,(e=>this.getFieldViewName(e)),((e,t)=>this.getFieldState(e,t)),(e=>this.createFieldDescriptor(e)))}onCollapsedChanged(e){return n.__awaiter(this,void 0,void 0,(function*(){this.title&&!this.captionHidden&&(yield this.saveUserPreferences())}))}getCurrentView(){var e;return(null===(e=this.view)||void 0===e?void 0:e.isCollection())?this.view.activeRow:this.view}viewChanged(e,t){this.mapFields(e,!1)}mapFields(e,t){var n;const r=p.PXReflectionMetadata.getMetadata,handler=()=>{var e;this.fields.clear(),this.fieldNames.splice(0,this.fieldNames.length);const t=this.getCurrentView();if(t)for(const n of t.fieldNames)!0!==t.getField(n).skip&&((null===(e=this.existingFields)||void 0===e?void 0:e.find((e=>e.toLowerCase()===n.toLowerCase())))||this.group&&t.getField(n).group!==this.group||(this.fields.set(n,t.getField(n)),this.fieldNames.push(n)))};if(null===(n=this.fieldsSubscription)||void 0===n||n.dispose(),e){if(this.viewName){const e=r(this.inlineContext,this.viewName,"viewInfo");(null==e?void 0:e.displayName)&&(this.caption=e.displayName)}e.name=this.viewName||void 0,this.dataFields?t&&this.fields&&handler():e.fieldNames&&handler(),this.fieldsSubscription=this.bindingEngine.collectionObserver(e.fieldNames).subscribe(handler)}t&&this.recalcFields(),this.unregisterViewBinding(),this.registerViewBinding()}showEditDialog(){var e,t,r,o;return n.__awaiter(this,void 0,void 0,(function*(){let n;n=this.Fields?null===(e=this.Fields)||void 0===e?void 0:e.reduce(((e,t)=>{const n=this.getFieldViewName(t),r=this.getFieldState({viewName:n,name:t.name});return r&&(e[`${n}.${t.name}`]=r),e}),{}):this.fieldNames.reduce(((e,t)=>{const n=this.getFieldState({viewName:this.viewName,name:t});return n&&(e[`${this.viewName}.${t}`]=n),e}),{});const a=this.dataFields||this.fieldNames.map((e=>new f.DataFieldDescriptor({name:e,viewName:this.viewName}))),l=null===(t=this.preferencesService.getPreferences(this.id))||void 0===t?void 0:t.def,d=yield this.configureFieldset.getFieldsetFields(this.id,this.caption||g.Messages.Untitled,a,this.viewName||"",n,l,((e,t)=>{var n;return null===(n=this.inlineContext[e])||void 0===n?void 0:n.getField(t)})),c=Object.assign({dialogTitle:g.Messages.FormConfigurationTitle,leftColumnTitle:g.Messages.FormConfigurationAvailableFields,rightColumnTitle:g.Messages.FormConfigurationChoosenFields,showHierarchy:!0,showItemId:!0,primaryViewId:this.viewName||(null===(r=this.inlineContext.graphInfo)||void 0===r?void 0:r.primaryView),preferences:l},d);(null===(o=this.dialogService)||void 0===o?void 0:o.open({viewModel:m.QpFieldsetEditCustomElement,model:c,lock:!1})).whenClosed((e=>{e&&!e.wasCancelled&&this.preferencesService.setPreferences(this.id,e.output,"def",!0);const t=this.preferencesService.getPreferences(this.id);this.preferences=t?Object.assign({},t):void 0}))}))}bind(e,t){var r;return n.__awaiter(this,void 0,void 0,(function*(){let n=e,o=t.parentOverrideContext;for(;o&&!(n instanceof u.PXScreen);)n=o.bindingContext,o=o.parentOverrideContext;this.inlineContext=n;const a=this.getCurrentView();this.viewChanged(a,void 0),(null===(r=this.view)||void 0===r?void 0:r.isCollection())&&this.eventSubscriptions.push(this.bindingEngine.propertyObserver(this.view,"activeRow").subscribe(((e,t)=>this.mapFields(e,!0)))),this.id?this.preferencesService.subscribe(this.id,this):(0,_.fatalError)("In the qp-fieldset tag, the id attribute is required. Please define the id attribute for all qp-fieldset tags.",this.element)}))}get Fields(){if(this.dataFields)return this.orderedFields}get DynamicFields(){var e,t;if(!this.fieldNames)return;return getOrderedFields(this.fieldNames.map((e=>this.createFieldDescriptor({name:e,viewName:this.viewName}))),null===(t=null===(e=this.preferences)||void 0===e?void 0:e.def)||void 0===t?void 0:t.preferences,(e=>this.getFieldViewName(e)),((e,t)=>this.getFieldState(e,t)),(e=>this.createFieldDescriptor(e)))}get title(){var e,t,n;return(null===(n=null===(t=null===(e=this.preferences)||void 0===e?void 0:e.def)||void 0===t?void 0:t.preferences)||void 0===n?void 0:n.fieldsetName)||this.caption}get captionHiddenByPrefs(){var e,t,n;return null===(n=null===(t=null===(e=this.preferences)||void 0===e?void 0:e.def)||void 0===t?void 0:t.preferences)||void 0===n?void 0:n.fieldsetCaptionHidden}get captionHidden(){var e,t,n;return null===(n=null===(t=null===(e=this.preferences)||void 0===e?void 0:e.def)||void 0===t?void 0:t.preferences)||void 0===n?void 0:n.fieldsetCaptionHidden}get collapsible(){const e=this.Fields||(this.view?this.DynamicFields:void 0);if(!e||0===e.length)return!1;for(const t of e){const e=this.getFieldState(t);if((null==e?void 0:e.visible)&&(null==e?void 0:e.unpinned)&&!this.getFieldPinned(t))return!0}return!1}getFieldState(e,t=!0){var n;const r=e.viewName||this.viewName||"",o=null===(n=this.inlineContext[r])||void 0===n?void 0:n.getField(e.name);return t&&!e.isUnbound&&this.fieldNames.length&&!o&&(0,_.fatalError)(`The field ${r}.${e.name} cannot be bound to a FieldState.`,this.element),o}getFieldVisibility(e,t){var n,r,o;if(!e&&!t.isUnbound)return!1;if(fieldHasErrors(this.getFieldState(t)))return!0;const a=null===(o=null===(r=null===(n=this.preferences)||void 0===n?void 0:n.def)||void 0===r?void 0:r.preferences)||void 0===o?void 0:o.hidden;return!(null==a?void 0:a[`${this.getFieldViewName(t)}.${t.name}`])}attached(){this.checkVisible(),this.eventSubscriptions.push(this.eventAggregator.subscribe("screen-updated",(()=>{this.checkVisible()}))),this.eventSubscriptions.push(this.eventManager.addEventListener(document.body,"startScreenConfiguration",(()=>{this.viewMode=p.ViewMode.Edit}),d.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(document.body,"endScreenConfiguration",(()=>{this.viewMode=p.ViewMode.View,this.checkVisible()}),d.delegationStrategy.none,!0))}detached(){this.unregisterViewBinding(),this.eventSubscriptions.forEach((e=>null==e?void 0:e.dispose())),this.eventSubscriptions=[]}getFieldPinned(e){var t,n,r,o;const a=null===(o=null===(r=null===(n=null===(t=this.preferences)||void 0===t?void 0:t.def)||void 0===n?void 0:n.preferences)||void 0===r?void 0:r.pinned)||void 0===o?void 0:o[`${this.getFieldViewName(e)}.${e.name}`];return void 0===a?e.pinned:a}getFieldTabIndex(e){var t,n,r,o;return(null===(o=null===(r=null===(n=null===(t=this.preferences)||void 0===t?void 0:t.def)||void 0===n?void 0:n.preferences)||void 0===r?void 0:r.tabSkip)||void 0===o?void 0:o[`${this.getFieldViewName(e)}.${e.name}`])?-1:void 0}get fieldsetVisible(){return this.viewMode===p.ViewMode.Edit||this.hasVisibleControls}static ProcessContent(e,t,n,r){const o=[],func=(e,t,n)=>{for(let r=0;r<e.length;r++){const a=e[r];o.push(a);const l="TEMPLATE"===a.tagName?a.innerHTML:a.outerHTML;t.set(a.getAttribute(n)||"",l)}},a=n.getAttribute("view.bind"),l=n.querySelectorAll("field, using");if(l&&l.length){const e=[];x.processFields(e,a,l),r.dataFields=e}else if(a){const e=n.querySelectorAll("*[replace-part]"),t=r.replaceParts=new p.CaseInsensitiveMap;func(e,t,"replace-part");func(n.querySelectorAll("*[insert-after]"),r.insertParts=new p.CaseInsensitiveMap,"insert-after");const l=[];o.forEach((e=>{var t;const n=e;null===(t=((null==n?void 0:n.content)?n.content:e).querySelectorAll("qp-field"))||void 0===t||t.forEach((e=>l.push(e)))}));const d=[];l.forEach((e=>{var n;const r=null===(n=e.getAttribute("control-state.bind"))||void 0===n?void 0:n.split(".");r&&r[0]===a&&r[1]&&!t.has(r[1].toLowerCase())&&d.push(r[1])})),r.existingFields=d,n.innerHTML=""}else if(n.innerHTML){const e=document.createElement("template");e.setAttribute("replace-part","content"),e.innerHTML=n.innerHTML,n.innerHTML="",n.appendChild(e)}return!0}static processFields(e,t,n){var r;for(let o=0;o<n.length;o++){const a=n[o];if("using"===a.tagName.toLowerCase()){const n=a.getAttribute("view"),r=a.querySelectorAll("field, using");x.processFields(e,null!=n?n:t,r);continue}let l,d=null==a?void 0:a.getAttribute("name");const c=null==d?void 0:d.split(".",3);if(c&&c.length>1&&(l=c[0],d=2===c.length?c[1]:`${c[1]}__${c[2]}`),e.find((e=>e.name===d)))continue;if(!l&&null!=(null==a?void 0:a.getAttribute("replace-content"))&&"QP-FIELD"===(null===(r=a.firstElementChild)||void 0===r?void 0:r.tagName)){const e=a.firstElementChild.getAttribute("control-state.bind"),t=null==e?void 0:e.split(".",2);t&&t.length>1&&(d=t[1],l=t[0])}const u=convertFieldMarkupToDescriptor(a,d?{name:d,viewName:l||t}:null);u&&e.push(u)}}registerViewBinding(){var e;this.viewName&&(null===(e=this.container.get(c.ScreenService))||void 0===e||e.registerViewBinding(this.element,this.viewName))}unregisterViewBinding(){var e;this.viewName&&(null===(e=this.container.get(c.ScreenService))||void 0===e||e.unregisterViewBinding(this.element))}checkVisible(){this.Fields||this.view?this.hasVisibleControls=(this.Fields||this.DynamicFields||[]).some((e=>{var t;return this.getFieldVisibility(null===(t=this.getFieldState(e))||void 0===t?void 0:t.visible,e)})):this.hasVisibleControls=!0}getFieldViewName(e){return e.viewName||this.viewName||""}createFieldDescriptor(e){var t;return convertFieldMarkupToDescriptor(null===(t=this.fieldDefaultsService)||void 0===t?void 0:t.getFieldDefaultElement(e),e)}};function convertFieldMarkupToDescriptor(e,t){if(!t)return;const n=(null==e?void 0:e.getAttribute("control-type"))||void 0,r=null==e?void 0:e.getAttribute("no-label"),o=r?"true"===r:void 0;let a=null==e?void 0:e.getAttribute("caption");null===a&&(a=void 0);const l=null==e?void 0:e.getAttribute("unbound");let d=null==e?void 0:e.getAttribute("pinned");""===d&&(d="true"),d=(null==d?void 0:d.toLowerCase())||null;const c=new f.DataFieldDescriptor(t,n,a,o);"true"===d?c.pinned=!0:"false"===d&&(c.pinned=!1),c.isUnbound=""===l||"true"===(null==l?void 0:l.toLowerCase());const u=null!=(null==e?void 0:e.getAttribute("replace-content"));if(!u&&(null==e?void 0:e.childElementCount)){e=e.cloneNode(!0);const n=document.createElement("qp-field");n.classList.add("main-control"),null!=a&&n.setAttribute("caption",a),d&&n.setAttribute("pinned",d),n.setAttribute("control-state.bind",`${t.viewName}.${t.name}`),n.replaceChildren(...Array.from(e.children)),e.appendChild(n)}if(null==e?void 0:e.childElementCount){const t=document.createElement("div");t.setAttribute("class","${state.visible === false || collapsed && (typeof pinned === 'undefined' ? state.unpinned : !pinned) ? 'invisible-field' : ''} "+(u?"qp-field-override":""));e.querySelectorAll("qp-field").forEach((e=>{null==e.getAttribute("context.bind")&&e.setAttribute("context.bind","$this")})),e.childNodes.forEach((e=>{const n=e.cloneNode(!0);t.append(n)})),c.template=t.outerHTML}else{const n=function createQpField(e){const t=document.createElement("qp-field");return t.setAttribute("if.bind","visible"),t.setAttribute("control-id",`ed${e.viewName}-${e.name}`),t.setAttribute("control-type.bind","df.controlType"),t.setAttribute("no-label.bind","df.noLabel == null ? noLabel : df.noLabel"),t.setAttribute("caption.bind","df.caption"),t.setAttribute("control-state.bind","state"),t.setAttribute("control-size.bind","size"),t.setAttribute("context.bind","$this"),t.setAttribute("collapsed.bind","collapsed"),t.setAttribute("pinned.one-way","getFieldPinned(df)"),t.setAttribute("tab-index.one-way","getFieldTabIndex(df)"),t}(t),r=null==e?void 0:e.getAttributeNames();if(r)for(const t of r){if("pinned"===t)continue;const r=null==e?void 0:e.getAttribute(t);r&&n.setAttribute(t,r)}c.template=n.outerHTML}return c}function getOrderedFields(e,t,n,r,o){const a=[],l=null==t?void 0:t.fieldOrder,d=null==t?void 0:t.deletedFields,c=[],u={};for(const t of e){const e=`${n(t)}.${t.name}`;u[e]=t,c.push(e),a.push(Object.assign({},t))}if(!l)return a;const p=[],h={};for(const e of l){let t;if(h[e]=!0,u[e])t=Object.assign({},u[e]);else{const n=e.split(".");if(2!==n.length)throw"Bad field name";const[r,a]=n;t=o({name:a,viewName:r})}t&&r(t,!1)&&p.push(t)}for(const e of c)if(!h[e]||(null==d?void 0:d[e])){const t=e.split("."),n=r({viewName:t[0],name:t[1]},!1);if(!fieldHasErrors(n))continue;p.push(Object.assign({},u[e]))}return p}n.__decorate([l.bindable,n.__metadata("design:type",Object)],C.prototype,"view",void 0),n.__decorate([l.bindable,n.__metadata("design:type",String)],C.prototype,"group",void 0),n.__decorate([l.bindable,n.__metadata("design:type",String)],C.prototype,"caption",void 0),n.__decorate([l.bindable,n.__metadata("design:type",Object)],C.prototype,"controlSize",void 0),n.__decorate([l.bindable,n.__metadata("design:type",String)],C.prototype,"viewMode",void 0),n.__decorate([l.bindable,n.__metadata("design:type",Object)],C.prototype,"noLabel",void 0),n.__decorate([d.observable,n.__metadata("design:type",Array)],C.prototype,"dataFields",void 0),n.__decorate([d.observable,n.__metadata("design:type",Object)],C.prototype,"collapsed",void 0),n.__decorate([d.observable,n.__metadata("design:type",Object)],C.prototype,"preferences",void 0),n.__decorate([(0,d.computedFrom)("dataFields","preferences.def"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],C.prototype,"Fields",null),n.__decorate([(0,d.computedFrom)("fieldNames","preferences.def"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],C.prototype,"DynamicFields",null),n.__decorate([(0,d.computedFrom)("caption","preferences.def.preferences.fieldsetName"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],C.prototype,"title",null),n.__decorate([(0,d.computedFrom)("preferences.def.preferences.fieldsetCaptionHidden"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],C.prototype,"captionHiddenByPrefs",null),n.__decorate([(0,d.computedFrom)("preferences.def.preferences.fieldsetCaptionHidden"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],C.prototype,"captionHidden",null),n.__decorate([(0,d.computedFrom)("preferences.def.preferences.pinned","view","fieldNames","dataFields"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],C.prototype,"collapsible",null),n.__decorate([(0,d.computedFrom)("viewMode","hasVisibleControls"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],C.prototype,"fieldsetVisible",null),C=x=n.__decorate([(0,l.processContent)(x.ProcessContent),l.autoinject,(0,l.customElement)("qp-fieldset"),n.__metadata("design:paramtypes",[Element,a.Container,l.TargetInstruction,h.DialogService,l.EventManager,r.FieldsetConfigurationService,v.PreferencesService,v.PreferencesApi,c.ScreenService,l.TaskQueue,b.FeaturesService,y.FieldDefaultsService])],C),t.QpFieldsetCustomElement=C;const fieldHasErrors=e=>e&&e.errorLevel!==p.PXErrorLevel.Undefined&&e.errorLevel!==p.PXErrorLevel.RowInfo}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/container/fieldset/types.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/services/preferences/index.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldsetPreferences=t.DataFieldDescriptor=void 0;t.DataFieldDescriptor=class DataFieldDescriptor{constructor(e,t,n,r){this.isUnbound=!1,this.name=e.name,this.viewName=e.viewName,this.controlType=t,this.caption=n,this.noLabel=r}};class FieldsetPreferences extends n.PreferenceBase{constructor(){super(),this.type="qp-fieldset",this.preferences={}}}t.FieldsetPreferences=FieldsetPreferences}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/container/fieldset/utils.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBooleanOrDefault=t.listParentTypeChecker=t.addItemToArrayWithReference=t.makeFieldSelection=t.filterFieldList=t.cloneFieldList=void 0;t.cloneFieldList=e=>e.map((e=>Object.assign(Object.assign({},e),{collapsed:!0,children:e.children.map((e=>Object.assign(Object.assign({},e),{hovered:!1,selected:!1})))})));t.filterFieldList=(e,t,n)=>{var r,o;const a=null==t?void 0:t.toLowerCase(),l=[];for(const t of e){let e=!1;(null==n?void 0:n.searchParent)&&(!a||(null===(r=t.name)||void 0===r?void 0:r.toLowerCase().includes(a))||(null===(o=t.id)||void 0===o?void 0:o.toLowerCase().includes(a)))&&(l.push(t),e=!0);let d=!1;if(t.children){const r=a?t.children.filter((e=>{var t,r;if(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(a))return!0;if((null==n?void 0:n.searchInChildViewId)||!e.id)return null===(r=e.id)||void 0===r?void 0:r.toLowerCase().includes(a);const o=e.id.split(".");return(o.length>1?o[1]:o[0]).toLowerCase().includes(a)})):t.children;!e&&(r.length>0||(null==n?void 0:n.leaveEmptyParents))&&l.push(Object.assign(Object.assign({},t),{children:r})),d=r.length>0}(null==n?void 0:n.toogleCollapse)&&(t.collapsed=!a||!d)}return(null==n?void 0:n.sort)&&(l.forEach((e=>{!e.children||e.children.length<2||e.children.sort(((e,t)=>e.name.localeCompare(t.name)))})),l.sort(((e,t)=>{if(null==n?void 0:n.primaryViewId){if(e.id===n.primaryViewId)return t.id===n.primaryViewId?0:-1;if(t.id===n.primaryViewId)return 1}return e.id.localeCompare(t.id)}))),l},t.makeFieldSelection=function makeFieldSelection(e,t,n,r,o,a){const l=e.selected;if(t){if(e.selected=!e.selected,l){const t=r.indexOf(e);t>-1&&r.splice(t,1)}else r.push(e);return}if(r.forEach((e=>e.selected=!1)),r.splice(0,r.length),!n||!a)return void(l&&a||(e.selected=!0,r.push(e)));let d=!1,c=!1;for(const t of o)if(t.children){for(const n of t.children){const t=n.id===a.id||n.id===e.id;if((d||t)&&(n.selected=!0,r.push(n)),t&&(d=!d,!d)){c=!0;break}}if(c)break}},t.addItemToArrayWithReference=function addItemToArrayWithReference(e,t,n){if(0===e.length)return void e.push(t);const r={};let o,a=-1,l=!1;for(const e of n){if(e.id===t.id){l=!0;break}r[e.id]=!0,a++}if(!l)throw"Unknown item!";for(o=0;o<=a&&o<e.length&&r[e[o].id];o++);o!==e.length?e[o].id!==t.id&&e.splice(o,0,t):e.push(t)};t.listParentTypeChecker=e=>(null==e?void 0:e.hasOwnProperty("children"))||!1;t.getBooleanOrDefault=(e,t)=>void 0===e?t:e}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/container/index.js":(e,t,n)=>{var r,o;r=[n,t,n("client-controls/controls/container/field/qp-field"),n("client-controls/controls/container/inline-field/qp-inline-field"),n("client-controls/controls/container/panel/qp-panel"),n("client-controls/controls/container/field-pair/qp-field-pair"),n("client-controls/controls/container/fieldset/inline-view"),n("client-controls/controls/container/fieldset/qp-fieldset"),n("client-controls/controls/container/fieldset/qp-fieldset-layout"),n("client-controls/controls/container/template/qp-template"),n("client-controls/controls/container/splitter/qp-splitter"),n("client-controls/controls/container/resizer/qp-resizer"),n("client-controls/controls/container/tabbar/qp-tab"),n("client-controls/controls/container/tabbar/qp-tabbar"),n("client-controls/controls/container/wizard/qp-wizard"),n("client-controls/controls/container/data-components/qp-data-component"),n("client-controls/controls/container/data-components/qp-data-components"),n("client-controls/controls/container/field/own-binding-behavior")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m,f,v,b,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OwnBindingBehavior=t.QpDataComponents=t.QpDataComponent=t.QpWizardCustomElement=t.QpTabbarCustomElement=t.QpTabCustomElement=t.QpResizerCustomElement=t.QpSplitterCustomElement=t.QpTemplateCustomElement=t.QpFieldsetLayoutCustomElement=t.QpFieldsetCustomElement=t.InlineView=t.QpFieldPairCustomElement=t.QpPanelCustomElement=t.QpInlineFieldCustomElement=t.QpFieldCustomElement=void 0,Object.defineProperty(t,"QpFieldCustomElement",{enumerable:!0,get:function(){return n.QpFieldCustomElement}}),Object.defineProperty(t,"QpInlineFieldCustomElement",{enumerable:!0,get:function(){return r.QpInlineFieldCustomElement}}),Object.defineProperty(t,"QpPanelCustomElement",{enumerable:!0,get:function(){return o.QpPanelCustomElement}}),Object.defineProperty(t,"QpFieldPairCustomElement",{enumerable:!0,get:function(){return a.QpFieldPairCustomElement}}),Object.defineProperty(t,"InlineView",{enumerable:!0,get:function(){return l.InlineView}}),Object.defineProperty(t,"QpFieldsetCustomElement",{enumerable:!0,get:function(){return d.QpFieldsetCustomElement}}),Object.defineProperty(t,"QpFieldsetLayoutCustomElement",{enumerable:!0,get:function(){return c.QpFieldsetLayoutCustomElement}}),Object.defineProperty(t,"QpTemplateCustomElement",{enumerable:!0,get:function(){return u.QpTemplateCustomElement}}),Object.defineProperty(t,"QpSplitterCustomElement",{enumerable:!0,get:function(){return p.QpSplitterCustomElement}}),Object.defineProperty(t,"QpResizerCustomElement",{enumerable:!0,get:function(){return h.QpResizerCustomElement}}),Object.defineProperty(t,"QpTabCustomElement",{enumerable:!0,get:function(){return g.QpTabCustomElement}}),Object.defineProperty(t,"QpTabbarCustomElement",{enumerable:!0,get:function(){return m.QpTabbarCustomElement}}),Object.defineProperty(t,"QpWizardCustomElement",{enumerable:!0,get:function(){return f.QpWizardCustomElement}}),Object.defineProperty(t,"QpDataComponent",{enumerable:!0,get:function(){return v.QpDataComponent}}),Object.defineProperty(t,"QpDataComponents",{enumerable:!0,get:function(){return b.QpDataComponents}}),Object.defineProperty(t,"OwnBindingBehavior",{enumerable:!0,get:function(){return y.OwnBindingBehavior}})}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/inline-field/qp-inline-field":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js"),n("client-controls/controls/container/field/qp-field")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpInlineFieldCustomElement=void 0;let l=class QpInlineFieldCustomElement{constructor(e,t,n,r){this.element=e,this.tq=t,this.eventManager=n,this.bindingEngine=r,this.controlType=void 0,this.customType=!0,this.controlConfig={},this.updateValue=!1}bind(e,t){this.controlConfig||(this.controlConfig={}),this.controlConfig.id||(this.controlConfig.id=this.controlId);const n=this.controlState;if(n.type===o.NetType.DateTime&&"string"==typeof n.value&&(n.value=new Date(n.value)),n.name){const{viewModeName:e,name:t}=n;this.valueObserver=this.bindingEngine.propertyObserver(this.controlState,"value").subscribe((()=>{this.element.dispatchEvent(new CustomEvent("usertyping",{bubbles:!0,cancelable:!0,detail:{viewName:e,fieldName:t}}))}))}}unbind(){var e;null===(e=this.valueObserver)||void 0===e||e.dispose()}updateValueChanged(e){e&&this.refreshValue()}attached(){this.tq.queueTask((()=>this.focus()))}focus(){const e=this.getFocusElement();if(e)try{e.setAttribute("unblock","1"),e.focus()}catch(e){}}refreshValue(){const e=this.getFocusElement();if(e){const t=new CustomEvent("update",{bubbles:!0,cancelable:!1});e.dispatchEvent(t),this.tq.flushMicroTaskQueue()}}selectContent(){this.tq.queueTask((()=>{var e;return null===(e=this.getTextElement())||void 0===e?void 0:e.select()}))}getFocusElement(){const e=this.element.querySelector("*[focus-elem]");return e||this.getTextElement()}getTextElement(){const e=this.element.querySelector("input");return e||this.element.querySelector("textarea")}getControlType(){return this.controlType||this.defaultControlType}get defaultControlType(){const e=this.controlState;return this.customType&&(null==e?void 0:e.controlType)?null==e?void 0:e.controlType:(0,a.getDefaultControlType)(e)}get isDisabled(){var e;return(null===(e=this.controlState)||void 0===e?void 0:e.readOnly)||!this.controlState.enabled}get isCheckBox(){return this.controlState.type===o.NetType.Boolean&&!this.isDisabled}processCheckBoxClick(e){this.isCheckBox&&(this.switchCheckState(),e.stopPropagation(),e.preventDefault())}processCheckBoxKeyDown(e){this.isCheckBox&&"Space"===e.code&&this.switchCheckState()}switchCheckState(){this.controlState.value=!this.controlState.value,this.onValueUpdated&&this.onValueUpdated()}};n.__decorate([r.bindable,n.__metadata("design:type",String)],l.prototype,"controlId",void 0),n.__decorate([r.bindable,n.__metadata("design:type",o.PXFieldState)],l.prototype,"controlState",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"controlType",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"customType",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"controlConfig",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],l.prototype,"updateValue",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],l.prototype,"onValueUpdated",void 0),n.__decorate([(0,r.computedFrom)("controlState.type","controlState.viewName","controlState.options","controlState.inputMask","controlState.controlType"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],l.prototype,"defaultControlType",null),n.__decorate([(0,r.computedFrom)("controlState.readOnly","controlState.enabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],l.prototype,"isDisabled",null),l=n.__decorate([(0,r.customElement)("qp-inline-field"),n.__metadata("design:paramtypes",[Element,r.TaskQueue,r.EventManager,r.BindingEngine])],l),t.QpInlineFieldCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/panel/qp-panel":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),n("aurelia-framework"),n("client-controls/controls/dialog/informer/qp-informer-rack")],o=function(e,t,n,r,o,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.QpPanelCustomElement=void 0;let d=l=class QpPanelCustomElement{constructor(e){this.element=e;this.element.style.display="none"}static processContent(e,t,n){const r=n.attributes;return!r.getNamedItem("title")&&!r.getNamedItem("title.bind")||r.getNamedItem("caption")||r.getNamedItem("caption.bind")||(0,a.fatalError)(`"title" attribute must be substituted by "caption" attribute on qp-panel #${n.id}.`,n),!1}};n.__decorate([o.bindable,n.__metadata("design:type",String)],d.prototype,"caption",void 0),d=l=n.__decorate([o.autoinject,(0,r.customElement)("qp-panel"),o.noView,(0,o.processContent)(l.processContent),n.__metadata("design:paramtypes",[Element])],d),t.QpPanelCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/resizer/qp-resizer":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/preferences/index.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("client-controls/controls/dialog/informer/qp-informer-rack")],o=function(e,t,n,r,o,a,l,d,c,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpResizerCustomElement=void 0;(0,a.getLogger)("qp-resizer");let h=class QpResizerCustomElement{constructor(e,t){this.element=e,this.preferencesService=t,this.isDragged=!1}get disabledValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.disabled)&&void 0!==t?t:this.disabled)&&void 0!==n&&n}get invisibleValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.invisible)&&void 0!==t?t:this.invisible)&&void 0!==n&&n}get styleValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.style)&&void 0!==t?t:this.style)&&void 0!==n?n:""}get initialSizeValue(){var e,t;return null!==(t=null===(e=this.config)||void 0===e?void 0:e.initialSize)&&void 0!==t?t:this.initialSize}get effectiveMinSize(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.minSize)&&void 0!==t?t:this.minSize)&&void 0!==n?n:200}get cssPosition(){if(void 0===this.size&&void 0===this.initialSizeValue)return"";const e=void 0===this.size?this.initialSizeValue:`${Math.round(this.size)}px`;return`max-height: ${e}; height: ${e};`}bind(){if(this.id)this.onPositionChanged(!1),this.onDrag=this.onDrag.bind(this),this.onStopMoving=this.onStopMoving.bind(this),this.move=this.move.bind(this),this.preferencesService.subscribe(this.id,this);else{const e="Id of resizer cannot be empty. Please set id attribute. Should be unique for screen";(0,p.fatalError)(e)}}applyPreferences(e){var t,n;(null==e?void 0:e.user)&&(this.size=null!==(n=null===(t=e.user.preferences)||void 0===t?void 0:t.size)&&void 0!==n?n:this.size,this.onPositionChanged(!1))}onStartMoving(e){if(window.top&&c.browser.isChrome){window.top.document.querySelector("#main").style.pointerEvents="none",window.top.addEventListener("pointermove",this.onDrag),window.top.addEventListener("pointerup",this.onStopMoving)}else this.draggerElement.setPointerCapture(e.pointerId),this.draggerElement.addEventListener("pointermove",this.onDrag),this.draggerElement.addEventListener("pointerup",this.onStopMoving);this.isDragged=!0}onStopMoving(e){if(window.top&&c.browser.isChrome){window.top.document.querySelector("#main").style.pointerEvents="all",window.top.removeEventListener("pointermove",this.onDrag),window.top.removeEventListener("pointerup",this.onStopMoving)}else this.draggerElement.releasePointerCapture(e.pointerId),this.draggerElement.removeEventListener("pointermove",this.onDrag),this.draggerElement.removeEventListener("pointerup",this.onStopMoving);return this.onPositionChanged(!0),this.isDragged=!1,this.start=void 0,!0}onDrag(e){if(void 0===this.start)return this.start=e.y,void(this.size=this.contentElement.getBoundingClientRect().height);const t=e.y-this.start;if(this.clearAnimationFrame(),0===e.buttons)return void this.onStopMoving(e);const n=this.effectiveMinSize;return this.goal=(this.size||this.contentElement.getBoundingClientRect().height)+t,this.goal<n&&(this.goal=n),this.tick||(this.tick=window.requestAnimationFrame(this.move)),!0}clearAnimationFrame(){this.tick&&(window.cancelAnimationFrame(this.tick),this.tick=void 0)}move(){if(!this.size||!this.goal)return;const e=this.goal-this.size,t=this.effectiveMinSize;this.clearAnimationFrame(),this.size=this.size+.2*e,this.size<t&&(this.size=t),this.draggerElement.scrollIntoView(),this.isDragged&&(this.tick=window.requestAnimationFrame(this.move))}onPositionChanged(e){return n.__awaiter(this,void 0,void 0,(function*(){e&&(yield this.savePreferences())}))}savePreferences(){return n.__awaiter(this,void 0,void 0,(function*(){if(!this.id)return;const e=new ResizerPreferences;e.preferences.size=this.size,this.preferencesService.saveUserPreferences((0,l.getScreenID)(),this.id,e)}))}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],h.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],h.prototype,"id",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],h.prototype,"initialSize",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],h.prototype,"minSize",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],h.prototype,"disabled",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],h.prototype,"invisible",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],h.prototype,"style",void 0),n.__decorate([u.autoinject,n.__metadata("design:type",Boolean)],h.prototype,"isDragged",void 0),n.__decorate([(0,o.computedFrom)("config.disabled","disabled"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"disabledValue",null),n.__decorate([(0,o.computedFrom)("config.invisible","invisible"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"invisibleValue",null),n.__decorate([(0,o.computedFrom)("config.style","style"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"styleValue",null),n.__decorate([(0,o.computedFrom)("config.initialSize","initialSize"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"initialSizeValue",null),n.__decorate([(0,o.computedFrom)("size","initialSizeValue"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],h.prototype,"cssPosition",null),h=n.__decorate([(0,r.customElement)("qp-resizer"),u.autoinject,n.__metadata("design:paramtypes",[Element,d.PreferencesService])],h),t.QpResizerCustomElement=h;class ResizerPreferences extends d.PreferenceBase{constructor(){super(),this.type="qp-resizer",this.preferences={}}}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/splitter/qp-splitter":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/preferences/index.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("client-controls/controls/dialog/informer/qp-informer-rack")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.QpSplitterCustomElement=void 0;(0,a.getLogger)("qp-splitter");const h="split-pane";let g=p=class QpSplitterCustomElement{constructor(e,t){this.element=e,this.preferencesService=t,this.firstPaneMinSize=0,this.secondPaneMinSize=0,this.panes=[]}get splitValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.split)&&void 0!==t?t:this.split)&&void 0!==n?n:"width"}get disabledValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.disabled)&&void 0!==t?t:this.disabled)&&void 0!==n&&n}get reversedValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.reversed)&&void 0!==t?t:this.reversed)&&void 0!==n&&n}get unmarginValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.unmargin)&&void 0!==t?t:this.unmargin)&&void 0!==n&&n}get fadingValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.fading)&&void 0!==t?t:this.fading)&&void 0!==n&&n}get invisibleValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.invisible)&&void 0!==t?t:this.invisible)&&void 0!==n&&n}get styleValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.style)&&void 0!==t?t:this.style)&&void 0!==n?n:""}get firstHeaderValue(){var e,t;return null!==(t=null===(e=this.config)||void 0===e?void 0:e.firstHeader)&&void 0!==t?t:this.firstHeader}get secondHeaderValue(){var e,t;return null!==(t=null===(e=this.config)||void 0===e?void 0:e.secondHeader)&&void 0!==t?t:this.secondHeader}get initialStateValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.initialState)&&void 0!==t?t:this.initialState)&&void 0!==n?n:"normal"}get initialSplitValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.initialSplit)&&void 0!==t?t:this.initialSplit)&&void 0!==n?n:"50%"}get disableCollapseValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.disableCollapse)&&void 0!==t?t:this.disableCollapse)&&void 0!==n&&n}get disableCollapseFirstValue(){var e,t,n,r;return null!==(r=null!==(n=null!==(e=this.disableCollapseValue)&&void 0!==e?e:null===(t=this.config)||void 0===t?void 0:t.disableCollapseFirst)&&void 0!==n?n:this.disableCollapseFirst)&&void 0!==r&&r}get disableCollapseSecondValue(){var e,t,n,r;return null!==(r=null!==(n=null!==(e=this.disableCollapseValue)&&void 0!==e?e:null===(t=this.config)||void 0===t?void 0:t.disableCollapseSecond)&&void 0!==n?n:this.disableCollapseSecond)&&void 0!==r&&r}get disableCollapseOnDeltaValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.disableCollapseOnDelta)&&void 0!==t?t:this.disableCollapseOnDelta)&&void 0!==n&&n}get deltaCollapseValue(){var e,t,n;return this.disableCollapse||this.disableCollapseOnDelta?-1:null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.deltaCollapse)&&void 0!==t?t:this.deltaCollapse)&&void 0!==n?n:10}get collapseModeValue(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.collapseMode)&&void 0!==t?t:this.collapseMode)&&void 0!==n?n:"hide"}splitterStateChanged(){var e;this.processSize(),null===(e=this.onSplitterStateChanged)||void 0===e||e.call(this,{sender:this}),this.onPositionChanged(!1)}panesChanged(){2===this.panes.length||console.error(`Two "${h}" children elements required for qp-splitter element, they must have no other siblings`)}getSplitterState(){return this.splitterState}get firstHeaderDisplayed(){return this.firstHeaderValue&&"height"===this.splitValue&&this.firstPaneDisplayed}get secondHeaderDisplayed(){return this.secondHeaderValue&&"height"===this.splitValue&&this.secondPaneDisplayed}get firstHeaderDisplayedCollapsed(){return this.firstHeaderValue&&"height"===this.splitValue&&!this.firstPaneDisplayed}get secondHeaderDisplayedCollapsed(){return this.secondHeaderValue&&"height"===this.splitValue&&!this.secondPaneDisplayed}get firstPaneDisplayed(){return"collapsed-first"!==this.splitterState}get secondPaneDisplayed(){return"collapsed-second"!==this.splitterState}get eachPaneDisplayed(){return this.firstPaneDisplayed&&this.secondPaneDisplayed}get cssCollapse(){return"shrink"===this.collapseModeValue?"flex: 0 1 auto;":"display: none;"}get cssPosition(){if(void 0===this.splitterState)return"";const e=this.splitValue,t=void 0===this.position?this.initialSplitValue:`${Math.round(this.position)}px`;switch(this.splitterState){case"collapsed-first":return`max-${e}: 0%;`;case"collapsed-second":return"flex-grow: 1;";case"normal":return`max-${e}: ${t}; ${e}: ${t};`}}bind(){var e;if(this.id)null===(e=this.onSplitterStateChanged)||void 0===e||e.call(this,{sender:this}),this.onPositionChanged(!1),this.barDragged=this.barDragged.bind(this),this.preferencesService.subscribe(this.id,this);else{const e="Id of splitter cannot be empty. Please set id attribute";(0,u.fatalError)(e)}}applyPreferences(e){var t,n,r,o,a,l,d,c,u;(null==e?void 0:e.user)?(this.splitterState=null!==(o=null!==(r=null!==(t=this.splitterState)&&void 0!==t?t:null===(n=e.user.preferences)||void 0===n?void 0:n.splitterState)&&void 0!==r?r:this.initialStateValue)&&void 0!==o?o:"normal",this.position=null!==(l=null===(a=e.user.preferences)||void 0===a?void 0:a.position)&&void 0!==l?l:this.position,null===(d=this.onSplitterStateChanged)||void 0===d||d.call(this,{sender:this}),this.onPositionChanged(!1)):this.splitterState=null!==(u=null!==(c=this.splitterState)&&void 0!==c?c:this.initialStateValue)&&void 0!==u?u:"normal"}startMoving(){"normal"===this.splitterState&&(this.savedPosition=this.position,this.draggerElement.addEventListener("pointermove",this.barDragged))}get effectiveDeltaCollapse(){var e,t,n;return null!==(n=null!==(t=null===(e=this.config)||void 0===e?void 0:e.deltaCollapse)&&void 0!==t?t:this.deltaCollapse)&&void 0!==n?n:10}stopMoving(e){if("normal"!==this.splitterState)return;const{maxPos:t}=this.getMovementData(e.x,e.y),n=this.effectiveDeltaCollapse;return void 0!==this.position&&(this.position>=0&&this.position<=n?(this.toggleCollapseFirst(),this.position=this.savedPosition):this.position>=t-n&&this.position<=t&&(this.toggleCollapseSecond(),this.position=this.savedPosition)),this.draggerElement.releasePointerCapture(e.pointerId),this.draggerElement.removeEventListener("pointermove",this.barDragged),this.onPositionChanged(!0),!0}getMovementData(e,t){var n;const r=this.draggerElement.getBoundingClientRect(),o=this.firstElement.getBoundingClientRect(),a=this.element.getBoundingClientRect(),l="height"===(null===(n=this.config)||void 0===n?void 0:n.split)?"marginTop":"marginLeft",d=parseInt(getComputedStyle(this.draggerElement)[l]);let c="height"===this.splitValue?t-(o.bottom-o.height+d+r.height/2):e-(o.right-o.width+d+r.width/2);const u="height"===this.splitValue?a.height-r.height-2*d:a.width-r.width-2*d;return this.reversedValue&&(c=u-c),{pos:c,maxPos:u}}barDragged(e){if("normal"!==this.splitterState)return;this.draggerElement.setPointerCapture(e.pointerId);const{pos:t,maxPos:n}=this.getMovementData(e.x,e.y),r=this.reversedValue?this.secondPaneMinSize:this.firstPaneMinSize,o=n-(this.reversedValue?this.firstPaneMinSize:this.secondPaneMinSize);return t>=r&&t<=o&&(this.position=t),!0}saveMinimalSize(){const e=this.layoutElement.getBoundingClientRect();this.layoutElement.style.minHeight=`${e.height}px`}restoreMinimalSize(){this.layoutElement.style.minHeight=""}processSize(){"normal"===this.splitterState?this.restoreMinimalSize():this.saveMinimalSize()}toggleCollapse(e){var t;"normal"===this.splitterState?this.splitterState=e:this.splitterState="normal",this.processSize(),null===(t=this.onSplitterStateChanged)||void 0===t||t.call(this,{sender:this}),this.onPositionChanged(!0)}toggleCollapseFirst(){this.toggleCollapse("collapsed-first")}toggleCollapseSecond(){this.toggleCollapse("collapsed-second")}onPositionChanged(e){return n.__awaiter(this,void 0,void 0,(function*(){this.draggerElement.classList.toggle("qp-splitter-collapsed","collapsed-first"===this.splitterState||"collapsed-second"===this.splitterState),this.draggerElement.classList.toggle("qp-splitter-collapsed-first","collapsed-first"===this.splitterState),this.draggerElement.classList.toggle("qp-splitter-collapsed-second","collapsed-second"===this.splitterState),e&&(yield this.savePreferences())}))}savePreferences(){return n.__awaiter(this,void 0,void 0,(function*(){if(!this.id)return;const e=new SplitterPreferences;e.preferences.splitterState=this.splitterState,e.preferences.position=this.position,this.preferencesService.saveUserPreferences((0,l.getScreenID)(),this.id,e)}))}static processSlot(e,t){const n=e.getAttribute("slot");["A","B"].some((e=>e===n))||e.setAttribute("slot",t)}static processContent(e,t,n,r){const o=n.querySelectorAll(`:scope > ${h}`);if(2===o.length)return p.processSlot(o[0],"A"),p.processSlot(o[1],"B"),!0;(0,u.fatalError)(`Exactly two ${h} children required to use in qp-splitter`)}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],g.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],g.prototype,"id",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],g.prototype,"onSplitterStateChanged",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],g.prototype,"split",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],g.prototype,"splitterState",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],g.prototype,"disabled",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],g.prototype,"reversed",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],g.prototype,"unmargin",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],g.prototype,"fading",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],g.prototype,"invisible",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],g.prototype,"initialState",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],g.prototype,"initialSplit",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],g.prototype,"firstPaneMinSize",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],g.prototype,"secondPaneMinSize",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],g.prototype,"firstHeader",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],g.prototype,"secondHeader",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],g.prototype,"collapseMode",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],g.prototype,"disableCollapseFirst",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],g.prototype,"disableCollapseSecond",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],g.prototype,"disableCollapse",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],g.prototype,"disableCollapseOnDelta",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],g.prototype,"deltaCollapse",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],g.prototype,"style",void 0),n.__decorate([c.autoinject,n.__metadata("design:type",r.Container)],g.prototype,"container",void 0),n.__decorate([(0,r.children)(h),n.__metadata("design:type",Array)],g.prototype,"panes",void 0),n.__decorate([(0,o.computedFrom)("config.disabled","disabled"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"disabledValue",null),n.__decorate([(0,o.computedFrom)("config.reversed","reversed"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"reversedValue",null),n.__decorate([(0,o.computedFrom)("config.unmargin","unmargin"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"unmarginValue",null),n.__decorate([(0,o.computedFrom)("config.fading","fading"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"fadingValue",null),n.__decorate([(0,o.computedFrom)("config.invisible","invisible"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"invisibleValue",null),n.__decorate([(0,o.computedFrom)("config.style","style"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"styleValue",null),n.__decorate([(0,o.computedFrom)("config.firstHeader","firstHeader"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"firstHeaderValue",null),n.__decorate([(0,o.computedFrom)("config.secondHeader","secondHeader"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"secondHeaderValue",null),n.__decorate([(0,o.computedFrom)("config.disableCollapse","disableCollapse"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"disableCollapseValue",null),n.__decorate([(0,o.computedFrom)("disableCollapseValue","config.disableCollapseFirst","disableCollapseFirst"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"disableCollapseFirstValue",null),n.__decorate([(0,o.computedFrom)("disableCollapseValue","config.disableCollapseSecond","disableCollapseSecond"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"disableCollapseSecondValue",null),n.__decorate([(0,o.computedFrom)("firstHeaderValue","splitValue","firstPaneDisplayed"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"firstHeaderDisplayed",null),n.__decorate([(0,o.computedFrom)("secondHeaderValue","splitValue","secondPaneDisplayed"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"secondHeaderDisplayed",null),n.__decorate([(0,o.computedFrom)("firstHeaderValue","splitValue","firstPaneDisplayed"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"firstHeaderDisplayedCollapsed",null),n.__decorate([(0,o.computedFrom)("secondHeaderValue","splitValue","secondPaneDisplayed"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"secondHeaderDisplayedCollapsed",null),n.__decorate([(0,o.computedFrom)("splitterState"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"firstPaneDisplayed",null),n.__decorate([(0,o.computedFrom)("splitterState"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"secondPaneDisplayed",null),n.__decorate([(0,o.computedFrom)("firstPaneDisplayed","secondPaneDisplayed"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"eachPaneDisplayed",null),n.__decorate([(0,o.computedFrom)("collapseModeValue"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],g.prototype,"cssCollapse",null),n.__decorate([(0,o.computedFrom)("position","initialStateValue","splitValue","splitterState"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],g.prototype,"cssPosition",null),g=p=n.__decorate([(0,r.processContent)(p.processContent),(0,r.customElement)("qp-splitter"),c.autoinject,n.__metadata("design:paramtypes",[Element,d.PreferencesService])],g),t.QpSplitterCustomElement=g;class SplitterPreferences extends d.PreferenceBase{constructor(){super(),this.type="qp-splitter",this.preferences={}}}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/tabbar/qp-tab":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/services/preferences/index.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/container/tabbar/types.js"),n("./node_modules/client-controls/services/tab-fields-service.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h){"use strict";var g;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTabCustomElement=void 0;(0,o.getLogger)("qp-tab");let m=g=class QpTabCustomElement{constructor(e,t,n,r){this.element=e,this.screenService=t,this.container=n,this.preferencesService=r,this.visible=!1,this.loadOnDemand=!1,this.isEmpty=!1,this.fieldsetPreferences={},this.subscriptions=[],this.eventAggregator=n.get(a.EventAggregator),this.htmlTemplate=e.outerHTML}loadOnDemandChanged(e){e?this.screenService.registerLoadOnDemandArea(this.element):this.screenService.unregisterLoadOnDemandArea(this.element)}attached(){var e,t;const n=this.element.querySelector("qp-tab-header");n&&(n.remove(),n.style.display="inline-block",this.headerContentElement=n),this.fieldInfos=p.TabbarFieldsService.getTabFieldInfo({screenId:(0,h.getScreenID)(),tabbarId:this.tabbarId,tabId:this.id}),this.subscriptions.push(this.eventAggregator.subscribe("screen-updated",(e=>{this.processScreenData(e),this.checkTabErrors()}))),null===(t=null===(e=this.fieldInfos)||void 0===e?void 0:e.fieldsets)||void 0===t||t.forEach((e=>{this.preferencesService.subscribe(e.id,{applyPreferences:t=>{this.fieldsetPreferences[e.id]=null==t?void 0:t.def,this.checkTabErrors()}})}))}get headerHost(){return this.headerHostElement}set headerHost(e){this.headerHostElement!==e&&(this.headerContentElement?(this.headerHostElement&&this.headerHostElement.replaceChildren(this.headerContentElement.cloneNode(!0)),e&&(this.headerHostElement=e,this.headerHostElement.replaceChildren(this.headerContentElement))):this.headerHostElement=e)}detached(){this.screenService.unregisterLoadOnDemandArea(this.element)}captionChanged(e){if(!this.headerContentElement)if(e&&"$"===e[0]&&e[1]&&"{"!==e[1]){const t=e.substring(1),n=this.screenService.Model;(null==n?void 0:n.Msg)&&n.Msg[t]&&(this.captionText=n.Msg[t])}else this.captionText=e}onShowHeader(){this.checkTabErrors()}processScreenData(e){var t,n,r,o,a,l;if(!e)return;let d;(!this.fieldInfos||(null===(t=this.fieldInfos.fields)||void 0===t?void 0:t.length)||(null===(n=this.fieldInfos.fieldsets)||void 0===n?void 0:n.length))&&(d=!1),null===(o=null===(r=this.fieldInfos)||void 0===r?void 0:r.fieldsets)||void 0===o||o.forEach((t=>{var n;if(!t.viewId)return;const r=null===(n=e.fieldStates)||void 0===n?void 0:n[t.viewId];r&&(t.viewId=void 0,t.defaultFields=r.map((e=>`${t.viewId}.${e.fieldName}`))||[])})),null===(l=null===(a=this.fieldInfos)||void 0===a?void 0:a.grids)||void 0===l||l.forEach((t=>{var n,r,o;if(!t.view)return;const a=null===(n=e.controlsData)||void 0===n?void 0:n[t.view];a&&(a.hidden&&void 0===d&&(d=!0),a.hidden||(d=!1)),(null===(r=t.columns)||void 0===r?void 0:r.length)>0||a&&(t.columns=(null===(o=(null==a?void 0:a.columns)||(null==a?void 0:a.colProps))||void 0===o?void 0:o.map((e=>e.field?`${t.view}.${e.field}`:void 0)).filter((e=>!!e)))||[])})),void 0!==d&&(this.isEmpty=d,this.element.dispatchEvent(new CustomEvent(u.tabIsEmptyChangedEvent,{bubbles:!0,detail:{id:this.id}})))}checkTabErrors(){var e;const t=(null===(e=this.errorInfo)||void 0===e?void 0:e.level)||c.PXErrorLevel.Undefined;if(!this.fieldInfos||!this.screenService.hasFieldsErrors())return this.errorInfo=void 0,void(t!==c.PXErrorLevel.Undefined&&document.body.dispatchEvent(new CustomEvent(u.tabErrorsChangedEvent)));const checkError=(e,t)=>{const n=this.screenService.getFieldError(t),r=(null==n?void 0:n.level)||c.PXErrorLevel.Undefined,o=(null==e?void 0:e.level)||c.PXErrorLevel.Undefined;return(null==n?void 0:n.level)&&r>o&&(e=Object.assign({},n)),e};let n=this.fieldInfos.fields.reduce(checkError,void 0);const triggerEvent=()=>{t!==((null==n?void 0:n.level)||c.PXErrorLevel.Undefined)&&document.body.dispatchEvent(new CustomEvent(u.tabErrorsChangedEvent))};if((null==n?void 0:n.level)===c.PXErrorLevel.Error||(null==n?void 0:n.level)===c.PXErrorLevel.RowError)return this.errorInfo=n,void triggerEvent();if(this.fieldInfos.grids){if(this.fieldInfos.grids.some((e=>(n=e.columns.reduce(checkError,n),(null==n?void 0:n.level)===c.PXErrorLevel.Error||(null==n?void 0:n.level)===c.PXErrorLevel.RowError))))return this.errorInfo=n,void triggerEvent()}this.fieldInfos.fieldsets&&this.fieldInfos.fieldsets.some((e=>{const t=this.fieldsetPreferences[e.id];return t&&t.preferences.fieldOrder&&(n=t.preferences.fieldOrder.reduce(checkError,n)),n=e.defaultFields.reduce(checkError,n),(null==n?void 0:n.level)===c.PXErrorLevel.Error||(null==n?void 0:n.level)===c.PXErrorLevel.RowError})),this.errorInfo=n,triggerEvent()}getScreenID(){var e;return(null===(e=this.screenService)||void 0===e?void 0:e.isValid)?this.screenService.screenID:(0,h.getScreenID)()}static processContent(e,t,n,r){n.classList.add("v-stack");const o=n.getAttribute("ref");if(!o)return!0;let a=n;for(;a.parentNode;)a=a.parentNode;const l=a.querySelector(`#${o}`);if(!l)return!0;for(let e=0;e<n.childNodes.length;++e)n.removeChild(n.childNodes[e]);return n.append(l.content),!0}};n.__decorate([r.bindable,n.__metadata("design:type",String)],m.prototype,"id",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],m.prototype,"caption",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],m.prototype,"visible",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],m.prototype,"loadOnDemand",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],m.prototype,"tabbarId",void 0),m=g=n.__decorate([(0,r.customElement)("qp-tab"),r.autoinject,(0,r.inlineView)("<template css=\"${visible?'':'display:none !important'}\"><slot></slot></template>"),(0,r.processContent)(g.processContent),n.__metadata("design:paramtypes",[Element,l.ScreenService,r.Container,d.PreferencesService])],m),t.QpTabCustomElement=m}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/tabbar/qp-tabbar-edit":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/controls/dialog/edit-dialog-base/types.js"),n("./node_modules/client-controls/services/index.js"),n("aurelia-framework"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("aurelia-dialog"),n("./node_modules/client-controls/controls/dialog/base-dialog/base-dialog-with-events.js"),n("./node_modules/client-controls/controls/container/tabbar/types.js"),n("./node_modules/client-controls/controls/container/tabbar/utils.js"),n("./node_modules/client-controls/controls/dialog/edit-dialog-base/utils.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementToViews=t.QpTabbarEditCustomElement=void 0;let g=class QpTabbarEditCustomElement extends c.BaseDialogWithEvents{constructor(e,t){super(t,e,!1),this.controller=e,this.msg=o.Messages,this.bottomDropZone={},this.topDropZone={},this.topItemActions=v,this.bottomItemActions=b,this.bottomItemOptions={showItemId:!1,dropEvents:!0,itemType:r.EditElementType.available},this.topItemOptions={showItemId:!1,itemType:r.EditElementType.choosen,dropEvents:!0}}activate(e){this.config=e,this.baseDialogConfig={dialogTitle:e.dialogTitle,containerClass:"edit-tabbar-container",getResult:()=>this.tabbarPreferences,resetToDefault:()=>this.resetConfigurationToDefault()},this.hiddenTabs=(0,t.elementToViews)(e.hiddenTabs),this.visibleTabs=(0,t.elementToViews)(e.visibleTabs),this.selectedHiddenTabs=[],this.selectedVisibleTabs=[],this.attachEvents(),this.tabbarPreferences=this.config.preferences?Object.assign(Object.assign({},this.config.preferences),{preferences:this.config.preferences.preferences?Object.assign({},this.config.preferences.preferences):{}}):void 0}resetConfigurationToDefault(){this.visibleTabs=(0,t.elementToViews)(this.config.allTabs),this.hiddenTabs=[],this.tabbarPreferences=new u.TabbarPreferences,this.unselectTabs()}processDropOnSection(e,t){e.dataTransfer&&this.drop(JSON.parse(e.dataTransfer.getData(m)),void 0,!1,t)}processDragOver(e,t,n,o){if(e.preventDefault(),t===r.EditElementType.available)return setDropZone(n,o,this.hiddenTabs,this.bottomDropZone),void(this.topDropZone={});setDropZone(n,o,this.visibleTabs,this.topDropZone),this.bottomDropZone={}}processDragLeave(e,t,n){if(e.preventDefault(),t===r.EditElementType.available){if(!n&&e.target!==this.bottomSectionElement)return!0;this.bottomDropZone={}}else{if(!n&&e.target!==this.topSectionElement)return!0;this.topDropZone={}}}processDragEnd(){this.bottomDropZone={},this.topDropZone={},this.dragInfo=void 0}selectTab(e,t,n,o){(0,p.makeElementSelection)(e,t,n,o===r.EditElementType.available?this.selectedHiddenTabs:this.selectedVisibleTabs,o===r.EditElementType.available?this.hiddenTabs:this.visibleTabs,o===r.EditElementType.available?this.lastSelectedHiddenTab:this.lastSelectedVisibleTab),o===r.EditElementType.available?this.lastSelectedHiddenTab=e:this.lastSelectedVisibleTab=e}unselectTabs(){this.hiddenTabs.forEach((e=>{e.selected=!1,e.hovered=!1})),this.visibleTabs.forEach((e=>{e.selected=!1,e.hovered=!1})),this.selectedHiddenTabs=[],this.selectedVisibleTabs=[]}drop(e,t,n,o){this.processDragEnd();!function dropElements(e,t,n,r,o,a){let l=0;l=r?t.findIndex((e=>e.id===r.id))+(o?0:1):t.length;n.forEach((t=>{const n=e.findIndex((e=>e.id===t.id));e.splice(n,1),a&&n<=l&&l--})),l<=0?t.unshift(...n):l<t.length?t.splice(l,0,...n):t.push(...n)}(e.colType===r.EditElementType.available?this.hiddenTabs:this.visibleTabs,o===r.EditElementType.available?this.hiddenTabs:this.visibleTabs,e.fields,t,n,e.colType===o),(0,h.dispatchEditEvent)(r.EditElementEvents.preferenceChanged,{preferenceName:"visibleTabOrder",newValue:this.visibleTabs.map((e=>e.id))}),(0,h.dispatchEditEvent)(r.EditElementEvents.preferenceChanged,{preferenceName:"hiddenTabOrder",newValue:this.hiddenTabs.map((e=>e.id))}),this.unselectTabs()}attachEvents(){this.addEventListner(document.body,r.EditElementEvents.activated,(e=>{e.detail.hovered=!0})),this.addEventListner(document.body,r.EditElementEvents.deactivated,(e=>{e.detail.hovered=!1})),this.addEventListner(document.body,r.EditElementEvents.select,(e=>{var t;(null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)&&this.selectTab(e.detail.item,e.detail.originalEvent.ctrlKey,e.detail.originalEvent.shiftKey,e.detail.itemType)})),this.addEventListner(document.body,r.EditElementEvents.dragStart,(e=>{var t,n;if(!(null===(n=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===n?void 0:n.dataTransfer))return;const o=e.detail.itemType===r.EditElementType.available?this.selectedHiddenTabs:this.selectedVisibleTabs,a={colType:e.detail.itemType,fields:o&&o.length?o:[e.detail.item]};e.detail.originalEvent.dataTransfer.effectAllowed="move",e.detail.originalEvent.dataTransfer.setData(m,JSON.stringify(a)),this.dragInfo=a})),this.addEventListner(document.body,r.EditElementEvents.dragOver,(e=>{var t,n;(null===(n=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===n?void 0:n.dataTransfer)&&(e.detail.originalEvent.dataTransfer.dropEffect="move",this.processDragOver(e.detail.originalEvent,e.detail.itemType,e.detail.item,!!e.detail.after))})),this.addEventListner(document.body,r.EditElementEvents.dragLeave,(e=>{var t,n;(null===(n=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===n?void 0:n.dataTransfer)&&this.processDragLeave(e.detail.originalEvent,e.detail.itemType,e.detail.item)})),this.addEventListner(document.body,r.EditElementEvents.drop,(e=>{var t,n;(null===(n=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===n?void 0:n.dataTransfer)&&this.drop(JSON.parse(e.detail.originalEvent.dataTransfer.getData(m)),e.detail.item,!e.detail.after,e.detail.itemType)})),this.addEventListner(document.body,r.EditElementEvents.preferenceChanged,(e=>{this.tabbarPreferences=this.tabbarPreferences||new u.TabbarPreferences;const t=this.tabbarPreferences.preferences;if(e.detail.tabId){if(t[e.detail.preferenceName]=t[e.detail.preferenceName]||{},t[e.detail.preferenceName][e.detail.tabId]=e.detail.newValue,e.detail.newElementView){const t=this.visibleTabs.findIndex((t=>{var n;return t.id===(null===(n=e.detail.newElementView)||void 0===n?void 0:n.id)}));t>-1&&(this.visibleTabs[t]=e.detail.newElementView)}}else t[e.detail.preferenceName]=e.detail.newValue})),this.addEventListner(document.body,r.EditElementEvents.addElementToEnd,(e=>{this.drop({colType:e.detail.itemType,fields:[e.detail.item]},void 0,!1,e.detail.itemType===r.EditElementType.choosen?r.EditElementType.available:r.EditElementType.choosen)}))}};g=n.__decorate([a.autoinject,n.__metadata("design:paramtypes",[d.DialogController,l.EventManager])],g),t.QpTabbarEditCustomElement=g;const m="tabitem",f={isEnabled:()=>!0,isReadonly:()=>!1,isVisible:e=>e,getState:()=>""},v=[Object.assign(Object.assign({},f),{className:"edit-field-icon--eye",onClick:e=>((0,h.dispatchEditEvent)(r.EditElementEvents.addElementToEnd,{item:e,itemType:r.EditElementType.choosen}),e),getIcon:()=>"svg:main@pageLast"})],b=[Object.assign(Object.assign({},f),{className:"edit-field-icon--eye",onClick:e=>((0,h.dispatchEditEvent)(r.EditElementEvents.addElementToEnd,{item:e,itemType:r.EditElementType.available}),e),getIcon:()=>"svg:main@pageFirst"})];function setDropZone(e,t,n,r){let o=e;if(!o){if(!(n&&n.length>0))return void(r.sectionZoneActive||(r.sectionZoneActive=!0,r.afterId=void 0,r.beforeId=void 0));o=n[n.length-1]}const a=t||null==o?void 0:o.id,l=t?null==o?void 0:o.id:void 0;if(l===r.afterId&&a===r.beforeId)return;const d=o?n.findIndex((e=>e.id===(null==o?void 0:o.id))):-1;if(d>=(t?0:1)&&d<(t?n.length-1:n.length)){const e=t?n[d+1].id:n[d-1].id;if(t&&r.beforeId===e||!t&&r.afterId===e)return}r.afterId=l,r.beforeId=a}t.elementToViews=e=>e.map((e=>Object.assign(Object.assign({},e),{hovered:!1,selected:!1})))}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/tabbar/qp-tabbar":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/controls/container/tabbar/types.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/services/index.js"),n("client-controls/controls/container/tabbar/qp-tabbar-edit"),n("aurelia-dialog"),n("./node_modules/client-controls/services/preferences/index.js"),n("./node_modules/client-controls/controls/container/tabbar/utils.js"),n("./node_modules/client-controls/controls/container/tabbar/tabbar-drop.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/tab-fields-service.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m,f,v){"use strict";var b;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTabbarCustomElement=void 0;const y=(0,a.getLogger)("qp-tabbar");let _=b=class QpTabbarCustomElement{constructor(e,t,n,r,o,a){this.element=e,this.taskQueue=t,this.screenService=n,this.eventManager=r,this.dialogService=o,this.preferencesService=a,this.activeTabId="",this.viewMode=d.ViewMode.View,this.msg=c.Messages,this.tabs=[],this.renderedTabs=[],this.defaultTabs=[],this.tabsMap={},this.hiddenHeaders=[],this.userHiddenHeaders=[],this.dotsVisible=!1,this.userHiddenHeadersAvailable=!1,this.menuOpened=!1,this.subscriptions=[],this.lastVisibleIndex=-1,this.hoveringTabId=void 0,this.dotsHovering=!1,this.switchedManually=!1,this.draggableTab=void 0,this.dragStarted=!1,this.draggingOverDots=!1,this.hiddenEmptyDropZoneActive=!1,this.hiddenTabsError={level:d.PXErrorLevel.Undefined},y.warn("constructor")}tabsChanged(e){var t;if(this.activeId&&this.tabs.length!==e.length)for(const n of e){if(!(null===(t=n.addedNodes)||void 0===t?void 0:t.length))continue;const e=n.addedNodes[0].id,r=this.tabs.find((t=>t.id===e));r&&(r.loadOnDemand=!0)}this.processTabs()}activeTabIdChanged(e,t){this.showTab(e)}showTab(e,t=!0){var n,r;if(this.menuOpened&&(this.menuOpened=!1),!(null===(n=this.tabs)||void 0===n?void 0:n.length)||!(null===(r=this.renderedTabs)||void 0===r?void 0:r.length))return;t&&(this.switchedManually=!0);const o=this.activeId;let a=e;a!==this.activeId&&(this.activeId=a),this.tabsMap[a]||(a=this.renderedTabs[0].id,this.activeId=a);const l=this.tabs.find((e=>e.id===a));if(l){if(!l.visible){for(const e of this.tabs)e.id===a?e.visible=!0:e.visible=!1;o&&(null==l?void 0:l.loadOnDemand)&&(l.loadOnDemand=!1,setTimeout((()=>{this.screenService.update(void 0,new d.ScreenUpdateParams(void 0,l.element))}),1))}setTimeout((()=>{this.showTabHeader(a)}),2)}}bind(){return n.__awaiter(this,void 0,void 0,(function*(){this.id&&this.preferencesService.subscribe(this.id,this)}))}attached(){this.config||(this.config={id:""}),this.config.id||(this.config.id=this.element.getAttribute("id")||""),this.resizeObserver=new o.PLATFORM.global.ResizeObserver((e=>{e&&e.length&&this.onWidthChange()})),this.resizeObserver.observe(this.headerElement),this.subscriptions.push(this.eventManager.addEventListener(document.body,"startScreenConfiguration",(()=>{this.viewMode=d.ViewMode.Edit}),o.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(document.body,"endScreenConfiguration",(()=>{this.viewMode=d.ViewMode.View}),o.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(document.body,m.DropEventName,(e=>{var t,n;const r=e;(0,m.drop)(null===(t=null==r?void 0:r.detail)||void 0===t?void 0:t.dropLocation,{renderedTabs:this.renderedTabs,hiddenTabs:this.userHiddenHeaders},null===(n=null==r?void 0:r.detail)||void 0===n?void 0:n.draggableTabId)&&(this.saveLayout(),setTimeout((()=>{this.showTabHeader(this.activeId)}),1))}),o.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(document.body,r.tabErrorsChangedEvent,(()=>this.findHiddenTabsError()),o.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(this.element,r.tabIsEmptyChangedEvent,(e=>{var t;const n=this.tabsMap[e.detail.id];(null==n?void 0:n.id)===this.activeId&&(null==n?void 0:n.isEmpty)&&this.showTab(this.activeTabId||this.renderedTabs[0].id),(null===(t=this.rightTabHeader)||void 0===t?void 0:t.isEmpty)&&(this.rightTabHeader=void 0),this.userHiddenHeadersAvailable=!!this.userHiddenHeaders.find((e=>!e.isEmpty)),this.dotsVisible=!(!this.hiddenHeaders.find((e=>!e.isEmpty))&&!this.userHiddenHeadersAvailable)}),o.delegationStrategy.none,!0))}detached(){this.subscriptions.forEach((e=>null==e?void 0:e.dispose())),this.subscriptions=[],this.resizeObserver.disconnect(),this.resizeObserver=void 0}findHiddenTabsError(){var e,t;const n={level:d.PXErrorLevel.Undefined};if(this.hiddenHeaders)for(const t of this.hiddenHeaders)(null===(e=t.errorInfo)||void 0===e?void 0:e.level)&&t.errorInfo.level>n.level&&(n.level=t.errorInfo.level);if(this.userHiddenHeaders)for(const e of this.userHiddenHeaders)(null===(t=e.errorInfo)||void 0===t?void 0:t.level)&&e.errorInfo.level>n.level&&(n.level=e.errorInfo.level);this.hiddenTabsError=n}onWidthChange(){this.menuOpened=!1,this.showTabHeader(this.activeId)}onPointerEnter(e){return!this.draggableTab&&(this.hoveringTabId=e,!0)}onPointerLeave(e){return!(!this.hoveringTabId||e!==this.hoveringTabId)&&(this.hoveringTabId=void 0,!0)}onDotsPointerEnter(){return!this.draggableTab&&(this.dotsHovering=!0,!0)}onDotsPointerLeave(){return!!this.dotsHovering&&(this.dotsHovering=!1,!0)}stopPropagation(e){return e.stopPropagation(),!1}toggleMenu(e){return this.menuOpened=!this.menuOpened,!0}showEditDialog(){var e,t,r,o,a,l;return n.__awaiter(this,void 0,void 0,(function*(){if(!this.id)return;const n=null===(e=this.preferencesService.getPreferences(this.id))||void 0===e?void 0:e.def,d=[],p={};let h;this.defaultTabs.forEach((e=>{const t={name:e.captionText,id:e.id,parentId:"",visible:!0};d.push(t),p[t.id]=t}));let g=[];(null===(t=null==n?void 0:n.preferences)||void 0===t?void 0:t.visibleTabOrder)||(null===(r=null==n?void 0:n.preferences)||void 0===r?void 0:r.hiddenTabOrder)?(g=((null===(o=null==n?void 0:n.preferences)||void 0===o?void 0:o.hiddenTabOrder)||[]).map((e=>p[e])),h=((null===(a=null==n?void 0:n.preferences)||void 0===a?void 0:a.visibleTabOrder)||[]).map((e=>p[e]))):h=d.map((e=>Object.assign({},e)));const m={dialogTitle:c.Messages.TabConfigurationTitle,topSectionTitle:c.Messages.TabConfigurationVisibleTabs,bottomSectionTitle:c.Messages.TabConfigurationHiddenTabs,preferences:n,allTabs:d,visibleTabs:h,hiddenTabs:g};(null===(l=this.dialogService)||void 0===l?void 0:l.open({viewModel:u.QpTabbarEditCustomElement,model:m,lock:!1})).whenClosed((e=>{e&&!e.wasCancelled&&this.preferencesService.setPreferences(this.id,e.output,"def",!0);const t=this.preferencesService.getPreferences(this.id);this.preferences=t?Object.assign({},t):void 0}))}))}applyPreferences(e){this.preferences=e,this.processTabs()}onPointerDown(e,t,n){if(!this.draggableTab)return e.stopPropagation(),this.draggableTab={id:t.id,captionText:t.captionText},document.body.addEventListener("pointermove",(e=>this.onPointerMove(e,n))),document.body.addEventListener("pointerup",(()=>this.onPointerUp())),!0}onPointerMove(e,t){var n;if(!this.draggableTab)return;const r=this.dragElement.getBoundingClientRect();this.dragFloaterRect={left:e.clientX,right:e.clientX+r.width,top:e.clientY,bottom:e.clientY+r.height},this.dragStarted||(this.dragStarted=!0,this.fillVisibleTabDropzones()),!this.menuOpened||!this.tabbarMenu||this.hiddenDropZoneBorders&&this.emptyHiddenDropZone||(this.tabbarMenuRect=null===(n=this.tabbarMenu)||void 0===n?void 0:n.getBoundingClientRect(),this.fillHiddenTabDropzones()),!this.menuOpener||this.dropZoneMenuOperer&&this.dropZoneMenuOperer.left!==this.dropZoneMenuOperer.right&&0!==r.width||(this.dropZoneMenuOperer=this.menuOpener.getBoundingClientRect()),this.dropZoneMenuOperer&&(this.draggingOverDots=(0,g.rectsIntersect)(this.dragFloaterRect,this.dropZoneMenuOperer),this.draggingOverDots&&!this.menuOpened&&(this.menuOpened=!0)),this.findDropZone()}onPointerUp(){var e,t,n,r,o,a;if(!this.draggableTab)return;const l={visibleAfterId:(null===(e=this.visibleDropZone)||void 0===e?void 0:e.afterId)||(null===(t=this.hiddenDropZone)||void 0===t?void 0:t.afterId),visibleBeforeId:(null===(n=this.visibleDropZone)||void 0===n?void 0:n.beforeId)||(null===(r=this.hiddenDropZone)||void 0===r?void 0:r.beforeId),hiddenAfterId:null===(o=this.userHiddenDropZone)||void 0===o?void 0:o.afterId,hiddenBeforeId:null===(a=this.userHiddenDropZone)||void 0===a?void 0:a.beforeId,hiddenIsEmpty:this.hiddenEmptyDropZoneActive};(0,g.dispatchDropEvent)({dropLocation:l,draggableTabId:this.draggableTab.id}),this.draggableTab=void 0,this.dragStarted=!1,this.visibleDropZone=void 0,this.hiddenDropZone=void 0,this.userHiddenDropZone=void 0,this.draggingOverDots=!1,this.hiddenDropZoneBorders=void 0,this.hiddenEmptyDropZoneActive=!1,document.body.removeEventListener("pointermove",(e=>this.onPointerMove(e))),document.body.removeEventListener("pointerup",(e=>this.onPointerUp()))}onMenuScroll(e){return e.stopImmediatePropagation(),!0}onMenuClick(e){return e.stopPropagation(),!0}getErrorStyle(e){return e?e.level===d.PXErrorLevel.Error||e.level===d.PXErrorLevel.RowError?"tab-header--error":e.level===d.PXErrorLevel.RowWarning||e.level===d.PXErrorLevel.Warning?"tab-header--warning":"":""}getErrorIcon(e){return e?e.level===d.PXErrorLevel.Error||e.level===d.PXErrorLevel.RowError?"main@errorExclamation":e.level===d.PXErrorLevel.RowWarning||e.level===d.PXErrorLevel.Warning?"main@warningExclamation":"":""}static ProcessContent(e,t,n){v.TabbarFieldsService.initTabbar({screenId:(0,f.getScreenID)(),tabbarId:n.id,innerHtml:n.innerHTML});return Array.from(n.getElementsByTagName("QP-TAB")).forEach((e=>e.setAttribute("tabbar-id",n.id))),!0}processTabs(){var e,t,n,r,o,a,l,c,u,p,h,g,m,f,v,b,y,_,x;const C=[];let S,E;if(this.defaultTabs=[],null===(e=this.tabs)||void 0===e||e.forEach((e=>{e.element.classList.contains("aurelia-hide")||e&&(C.push(e),this.defaultTabs.push({id:e.id,captionText:e.captionText}),this.tabsMap[e.id]=e)})),this.viewMode!==d.ViewMode.Edit&&(null===(r=null===(n=null===(t=this.preferences)||void 0===t?void 0:t.user)||void 0===n?void 0:n.preferences)||void 0===r?void 0:r.hiddenTabOrder)&&(null===(l=null===(a=null===(o=this.preferences)||void 0===o?void 0:o.user)||void 0===a?void 0:a.preferences)||void 0===l?void 0:l.visibleTabOrder)?(S=null===(b=null===(v=null===(f=this.preferences)||void 0===f?void 0:f.user)||void 0===v?void 0:v.preferences)||void 0===b?void 0:b.visibleTabOrder,E=null===(x=null===(_=null===(y=this.preferences)||void 0===y?void 0:y.user)||void 0===_?void 0:_.preferences)||void 0===x?void 0:x.hiddenTabOrder):(S=null===(p=null===(u=null===(c=this.preferences)||void 0===c?void 0:c.def)||void 0===u?void 0:u.preferences)||void 0===p?void 0:p.visibleTabOrder,E=null===(m=null===(g=null===(h=this.preferences)||void 0===h?void 0:h.def)||void 0===g?void 0:g.preferences)||void 0===m?void 0:m.hiddenTabOrder),S&&E){const e={},t=[],n=[];for(const n of S){const r=this.tabsMap[n];r&&(t.push(r),e[n]=!0)}for(const t of E){const r=this.tabsMap[t];r&&(n.push(r),e[t]=!0)}for(const n of C)n&&(e[n.id]||t.push(n));this.renderedTabs=t,this.userHiddenHeaders=n}else this.renderedTabs=C,this.userHiddenHeaders=[];this.showTab(this.switchedManually?this.activeId:this.activeTabId,!1)}isTabHidden(e){const t=this.getTabHeaderElement(e);return!t||tabHeaderElementIsHidden(t)}showTabHeader(e){var t,n,r;let o=-1,a=-1,l=-1,d=-1;const c=[];for(let t=0;t<this.renderedTabs.length;t++){const n=this.renderedTabs[t];n&&(this.isTabHidden(n.id)?n.id!==e&&c.push(n):o=t,n.id===e&&(a=t),this.rightTabHeader&&this.rightTabHeader.id===n.id&&(d=t))}const u=o<this.lastVisibleIndex;this.lastVisibleIndex=o;const p=null===(n=null===(t=this.renderedTabs[o])||void 0===t?void 0:t.headerHost)||void 0===n?void 0:n.getBoundingClientRect(),h=null===(r=this.headerElement)||void 0===r?void 0:r.getBoundingClientRect();this.rightTabPartMargin=p&&h?p.right-h.left:0,this.rightTabHeader&&(u&&this.rightTabHeader.id!==e||d>-1&&d<=o)&&(this.rightTabHeader=void 0,c.shift()),this.hiddenHeaders=c,a>o?this.rightTabHeader=this.renderedTabs[a]:a<0&&(l=this.userHiddenHeaders.findIndex((t=>(null==t?void 0:t.id)===e)),l>-1&&(this.rightTabHeader=this.userHiddenHeaders[l])),this.userHiddenHeadersAvailable=!!this.userHiddenHeaders.find((e=>!e.isEmpty)),this.dotsVisible=!(!this.hiddenHeaders.find((e=>!e.isEmpty))&&!this.userHiddenHeadersAvailable),setTimeout((()=>{var e,t;this.rightTabPartWidth=(null===(t=null===(e=this.rightTabPart)||void 0===e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.width)||0,this.renderedTabs.forEach((e=>e.onShowHeader&&e.onShowHeader())),this.userHiddenHeaders.forEach((e=>e.onShowHeader&&e.onShowHeader())),this.findHiddenTabsError()}),0)}getTabHeaderElement(e,t){const n=this.tabsMap[e];return t?o.PLATFORM.global.document.body.querySelector(`.qp-tabbar-menu-item[tabid='${e}']`):(n.headerHost=this.element.querySelector(`.qp-tabbar-tab[tabid='${e}']`),n.headerHost)}fillVisibleTabDropzones(){const e=this.tabs.map((e=>{const t=this.getTabHeaderElement(null==e?void 0:e.id);if(tabHeaderElementIsHidden(t))return null;const n=t.getBoundingClientRect();return{left:Math.floor(n.left),right:Math.ceil(n.right),top:Math.floor(n.top),bottom:Math.ceil(n.bottom),middle:Math.floor(n.left+n.width/2),tabId:e.id}})).filter((e=>!!e)).sort(((e,t)=>e.left-t.left));this.dropZoneBorders=[];for(let t=0;t<e.length;t++)this.dropZoneBorders.push({left:t>0?e[t-1].middle:e[t].left,right:e[t].middle,top:e[t].top,bottom:e[t].bottom,beforeId:e[t].tabId,afterId:void 0}),t===e.length-1&&this.dropZoneBorders.push({left:e[t].middle,right:e[t].right+1,top:e[t].top,bottom:e[t].bottom,beforeId:void 0,afterId:e[t].tabId})}fillHiddenTabDropzones(){var e;0===this.userHiddenHeaders.length&&(this.emptyHiddenDropZone=null===(e=this.menuBlankElement)||void 0===e?void 0:e.getBoundingClientRect());const getHeaderElement=e=>this.getTabHeaderElement(e,!0);this.hiddenDropZoneBorders=[...(0,g.getVerticalDropZones)(this.hiddenHeaders,getHeaderElement).map((e=>Object.assign(Object.assign({},e),{userHidden:!1}))),...(0,g.getVerticalDropZones)(this.userHiddenHeaders,getHeaderElement).map((e=>Object.assign(Object.assign({},e),{userHidden:!0})))]}findDropZone(){const e=this.dropZoneBorders.find((e=>(0,g.rectsIntersect)(e,this.dragFloaterRect)));if(this.visibleDropZone=e,e)return this.menuOpened&&(this.menuOpened=!1),this.hiddenDropZone=void 0,void(this.userHiddenDropZone=void 0);if(!(0,g.rectsIntersect)(this.dragFloaterRect,this.tabbarMenuRect))return this.hiddenEmptyDropZoneActive=!1,this.hiddenDropZone=void 0,void(this.userHiddenDropZone=void 0);if(0===this.userHiddenHeaders.length&&this.emptyHiddenDropZone&&(this.hiddenEmptyDropZoneActive=(0,g.rectsIntersectVertically)(this.dragFloaterRect,this.emptyHiddenDropZone),this.userHiddenDropZone=void 0),!this.hiddenDropZoneBorders)return;const t=this.hiddenDropZoneBorders.find((e=>(0,g.rectsIntersectVertically)(e,this.dragFloaterRect)));(null==t?void 0:t.userHidden)?(this.hiddenDropZone=void 0,this.userHiddenDropZone=t):(this.hiddenDropZone=t,this.userHiddenDropZone=void 0)}saveLayout(){var e,t;return n.__awaiter(this,void 0,void 0,(function*(){if(!this.id)return;const n=new r.TabbarPreferences;n.preferences.hiddenTabOrder=null===(e=this.userHiddenHeaders)||void 0===e?void 0:e.map((e=>e.id)),n.preferences.visibleTabOrder=null===(t=this.renderedTabs)||void 0===t?void 0:t.map((e=>e.id)),this.viewMode===d.ViewMode.Edit?this.preferencesService.setPreferences(this.id,n,"def"):yield this.preferencesService.saveUserPreferences((0,f.getScreenID)(),this.id,n)}))}};function tabHeaderElementIsHidden(e){return!e||0===e.offsetWidth||e.offsetTop>22.5||e.id.endsWith("_hidden")}n.__decorate([o.bindable,n.__metadata("design:type",String)],_.prototype,"activeTabId",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],_.prototype,"config",void 0),n.__decorate([o.bindable,n.__metadata("design:type",String)],_.prototype,"viewMode",void 0),n.__decorate([o.bindable,n.__metadata("design:type",String)],_.prototype,"id",void 0),n.__decorate([(0,o.children)("qp-tab"),n.__metadata("design:type",Array)],_.prototype,"tabs",void 0),_=b=n.__decorate([(0,o.customElement)("qp-tabbar"),(0,o.processContent)(b.ProcessContent),o.autoinject,n.__metadata("design:paramtypes",[Element,o.TaskQueue,l.ScreenService,o.EventManager,p.DialogService,h.PreferencesService])],_),t.QpTabbarCustomElement=_}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/container/tabbar/tabbar-drop.js":(e,t,n)=>{var r;r=function(e,t){"use strict";var n;function findSourceAndIndex(e,t){var r,o;let a=null===(r=t.renderedTabs)||void 0===r?void 0:r.findIndex((t=>t.id===e));return a>-1?{sourceType:n.rendered,index:a,tabs:t.renderedTabs}:(a=null===(o=t.hiddenTabs)||void 0===o?void 0:o.findIndex((t=>t.id===e)),a>-1?{sourceType:n.hidden,index:a,tabs:t.hiddenTabs}:{sourceType:n.none,index:-1,tabs:[]})}function boolToNumber(e){return e?1:0}Object.defineProperty(t,"__esModule",{value:!0}),t.drop=t.DropEventName=void 0,function(e){e[e.none=0]="none",e[e.rendered=1]="rendered",e[e.hidden=2]="hidden"}(n||(n={})),t.DropEventName="tabbar_drop",t.drop=function drop(e,t,r){if(!r||!t||!function dropLocationIsValid(e){return!!e&&1===boolToNumber(!!e.visibleAfterId)+boolToNumber(!!e.visibleBeforeId)+boolToNumber(!!e.hiddenAfterId)+boolToNumber(!!e.hiddenBeforeId)+boolToNumber(e.hiddenIsEmpty)}(e))return!1;const o=findSourceAndIndex(r,t),a=e.hiddenIsEmpty?{sourceType:n.hidden,index:t.hiddenTabs.length,tabs:t.hiddenTabs}:findSourceAndIndex(e.visibleAfterId||e.visibleBeforeId||e.hiddenAfterId||e.hiddenBeforeId,t);if((e.visibleAfterId||e.hiddenAfterId)&&(a.index=a.index+1),a.sourceType===o.sourceType&&(a.index=a.index-(o.index<a.index?1:0)),o.sourceType===n.none||a.sourceType===n.none||a.sourceType===o.sourceType&&o.index===a.index)return!1;const l=o.tabs.splice(o.index,1)[0];return a.index>=a.tabs.length?a.tabs.push(l):a.tabs.splice(a.index,0,l),!0}}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/container/tabbar/types.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/services/preferences/index.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tabIsEmptyChangedEvent=t.tabErrorsChangedEvent=t.TabbarPreferences=void 0;class TabbarPreferences extends n.PreferenceBase{constructor(){super(),this.type="qp-tabbar",this.preferences={}}}t.TabbarPreferences=TabbarPreferences,t.tabErrorsChangedEvent="tabErrorsChangedEvent",t.tabIsEmptyChangedEvent="tabIsEmptyChangedEvent"}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/container/tabbar/utils.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/container/tabbar/tabbar-drop.js")],o=function(e,t,n){"use strict";function rectsIntersectHorizontrally(e,t){return!(!e||!t)&&(e.right>=t.left&&e.left<=t.right)}function rectsIntersectVertically(e,t){return!(!e||!t)&&(e.bottom>=t.top&&e.top<=t.bottom)}Object.defineProperty(t,"__esModule",{value:!0}),t.getVerticalDropZones=t.dispatchDropEvent=t.rectsIntersectVertically=t.rectsIntersectHorizontrally=t.rectsIntersect=t.makeElementSelection=void 0,t.makeElementSelection=function makeElementSelection(e,t,n,r,o,a){const l=e.selected;if(t){if(e.selected=!e.selected,l){const t=r.indexOf(e);t>-1&&r.splice(t,1)}else r.push(e);return}if(r.forEach((e=>e.selected=!1)),r.splice(0,r.length),!n||!a)return void(l&&a||(e.selected=!0,r.push(e)));let d=!1;for(const t of o){const n=t.id===a.id||t.id===e.id;if((d||n)&&(t.selected=!0,r.push(t)),n&&(d=!d,!d))break}},t.rectsIntersect=function rectsIntersect(e,t){return rectsIntersectHorizontrally(e,t)&&rectsIntersectVertically(e,t)},t.rectsIntersectHorizontrally=rectsIntersectHorizontrally,t.rectsIntersectVertically=rectsIntersectVertically,t.dispatchDropEvent=function dispatchDropEvent(e){const t=new CustomEvent(n.DropEventName,{bubbles:!0,detail:e});document.body.dispatchEvent(t)},t.getVerticalDropZones=function getVerticalDropZones(e,t){const n=[],r=e.map((e=>{const n=t(e.id).getBoundingClientRect();return{top:Math.floor(n.top),bottom:Math.ceil(n.bottom),middle:Math.floor(n.top+n.height/2),tabId:e.id}})).sort(((e,t)=>e.top-t.top));for(let e=0;e<r.length;e++)n.push({top:e>0?r[e-1].middle:r[e].top,bottom:r[e].middle,beforeId:r[e].tabId,afterId:void 0}),e===r.length-1&&n.push({top:r[e].middle,bottom:r[e].bottom+1,beforeId:void 0,afterId:r[e].tabId});return n}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/template/qp-template":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("aurelia-framework"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("client-controls/controls/dialog/informer/qp-informer-rack")],o=function(e,t,n,r,o,a,l){"use strict";var d;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTemplateCustomElement=t.ScreenTemplates=void 0,t.ScreenTemplates=new Map,t.ScreenTemplates.set("7-10-7",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t\t<div class="col-sm-12 col-md-12 col-lg-7_17 v-stack-children"><slot name="A">Slot A</slot></div>\n\t\t\t<div class="col-sm-12 col-md-12 col-lg-10_17 v-stack-children"><slot name="B"></slot></div>\n\t\t</div>\n\t\t<div class="col-sm-12 col-md-5 col-lg-7_24 v-stack-children"><slot name="C"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("10-7-7",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-12 col-lg-5 v-stack-children"><slot name="A"></slot></div>\n\t\t<div class="h-stack col-sm-12 col-md-12 col-lg-7">\n\t\t\t<div class="col-sm-12 col-md-6 col-lg-6 v-stack-children"><slot name="B">Slot A</slot></div>\n\t\t\t<div class="col-sm-12 col-md-6 col-lg-6 v-stack-children"><slot name="C"></slot></div>\n\t\t</div>\n\t</div>\n'),t.ScreenTemplates.set("1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-12 col-lg-12 v-stack-children"><slot name="A">Slot A</slot></div>\n\t</div>\n'),t.ScreenTemplates.set("1-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-12 col-lg-6 v-stack-children"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-12 col-lg-6 v-stack-children"><slot name="B"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("1-1-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-6 col-lg-4 v-stack-children"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-6 col-lg-4 v-stack-children"><slot name="B"></slot></div>\n\t\t<div class="col-sm-12 col-md-6 col-lg-4 v-stack-children"><slot name="C"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("17-7",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-7 col-lg-17_24 expandable-width v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-5 col-lg-7_24 v-stack-children"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("7-17",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-7 col-lg-7_24 v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-12 col-lg-17_24 expandable-width v-stack-children"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("2-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-8 col-lg-8 expandable-width v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-4 col-lg-4 v-stack-children"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("1-2",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-4 col-lg-4 v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-8 col-lg-8 expandable-width v-stack-children"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("17-17-14",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t<div class="col-sm-12 col-md-12 col-lg-6 v-stack-children"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-12 col-lg-6 v-stack-children"><slot name="B"></slot></div>\n\t</div>\n\t<div class="col-sm-12 col-md-5 col-lg-7_24 v-stack-children"><slot name="C"></slot></div>\n</div>\n'),t.ScreenTemplates.set("14-17-17",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-5 col-lg-7_24 v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t<div class="col-sm-12 col-md-12 col-lg-6 v-stack-children"><slot name="B"></slot></div>\n\t\t<div class="col-sm-12 col-md-12 col-lg-6 v-stack-children"><slot name="C"></slot></div>\n\t</div>\n</div>\n'),t.ScreenTemplates.set("17-14-17",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-6 col-lg-17_48 v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-6 col-lg-7_24 v-stack-children"><slot name="B"></slot></div>\n\t<div class="col-sm-12 col-md-6 col-lg-17_48 v-stack-children"><slot name="C"></slot></div>\n</div>\n'),t.ScreenTemplates.set("17-31",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-5 col-lg-17_48 v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-7 col-lg-31_48 expandable-width v-stack-children"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("top-7-10-7",'\n\t<div id="${id}_form" class="h-stack equal-height">\n\t\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t\t<div class="col-sm-12 col-md-12 col-lg-7_17"><slot name="A">Slot A</slot></div>\n\t\t\t<div class="col-sm-12 col-md-12 col-lg-10_17"><slot name="B"></slot></div>\n\t\t</div>\n\t\t<div class="col-sm-12 col-md-5 col-lg-7_24"><slot name="C"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("base-7-10-7",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t\t<div class="col-sm-12 col-md-12 col-lg-7_17"><slot name="A">Slot A</slot></div>\n\t\t\t<div class="col-sm-12 col-md-12 col-lg-10_17"><slot name="B"></slot></div>\n\t\t</div>\n\t\t<div class="col-sm-12 col-md-5 col-lg-7_24"><slot name="C"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("base-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-12 col-lg-12"><slot name="A">Slot A</slot></div>\n\t</div>\n'),t.ScreenTemplates.set("base-1-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-12 col-lg-6"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-12 col-lg-6"><slot name="B"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("base-1-1-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-6 col-lg-4"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-6 col-lg-4"><slot name="B"></slot></div>\n\t\t<div class="col-sm-12 col-md-6 col-lg-4"><slot name="C"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("top-1-1-1",'\n\t<div id="${id}_form" class="h-stack equal-height">\n\t\t<div class="col-sm-12 col-md-6 col-lg-4"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-6 col-lg-4"><slot name="B"></slot></div>\n\t\t<div class="col-sm-12 col-md-6 col-lg-4"><slot name="C"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("base-17-7",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-7 col-lg-17_24"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-5 col-lg-7_24 expandable-width"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("base-7-17",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-7 col-lg-7_24"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-12 col-lg-17_24 expandable-width"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("base-2-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-8 col-lg-8"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-4 col-lg-4 expandable-width"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("base-1-2",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-4 col-lg-4"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-8 col-lg-8 expandable-width"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("base-17-17-14",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t<div class="col-sm-12 col-md-12 col-lg-6"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-12 col-lg-6"><slot name="B"></slot></div>\n\t</div>\n\t<div class="col-sm-12 col-md-5 col-lg-7_24"><slot name="C"></slot></div>\n</div>\n'),t.ScreenTemplates.set("top-17-17-14",'\n\t<div id="${id}_form" class="h-stack equal-height">\n\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t<div class="col-sm-12 col-md-12 col-lg-6"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-12 col-lg-6"><slot name="B"></slot></div>\n\t</div>\n\t<div class="col-sm-12 col-md-5 col-lg-7_24"><slot name="C"></slot></div>\n</div>\n');let c=d=class QpTemplateCustomElement{constructor(e,t,n,r,o){this.element=e,this.viewCompiler=t,this.viewSlot=n,this.container=r,this.viewResources=o}bind(e,t){this.overrideContext=(0,a.createOverrideContext)(this,t),this.id||(0,l.fatalError)("qp-template tag requires the id attribute. Please define the id attribute for all qp-template tags.",this.element)}attached(){const e=this.viewCompiler.compile(`<template>${this.currentTemplate}</template>`,this.viewResources).create(this.container);e.contentView={fragment:this.element.querySelector("slot-content")},e.bind(this,this.overrideContext),this.viewSlot.add(e),this.viewSlot.attached()}get currentTemplate(){return t.ScreenTemplates.get(this.name)}static processContent(e,t,n,r){const o=document.createElement("slot-content"),a=Array.from(n.childNodes);return o.append(...a),n.replaceChildren(o),!0}};n.__decorate([o.bindable,n.__metadata("design:type",String)],c.prototype,"id",void 0),n.__decorate([o.bindable,n.__metadata("design:type",String)],c.prototype,"name",void 0),n.__decorate([(0,r.computedFrom)("name"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],c.prototype,"currentTemplate",null),c=d=n.__decorate([(0,o.customElement)("qp-template"),(0,o.inlineView)("<template><slot></slot></template>"),o.autoinject,(0,o.processContent)(d.processContent),n.__metadata("design:paramtypes",[Element,o.ViewCompiler,o.ViewSlot,o.Container,o.ViewResources])],c),t.QpTemplateCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/container/wizard/qp-wizard":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/services/keyboard-service.js")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpWizardCustomElement=void 0;(0,o.getLogger)("qp-wizard");let u=class QpWizardCustomElement{constructor(e,t,n,r){this.element=e,this.tq=t,this.screenService=n,this.keyboardService=r,this.activeTabId="",this.tabs=[],this.Msg=a.Messages}bind(){}tabsChanged(){for(let e=0;e<this.tabs.length;++e){const t=this.tabs[e];t.id||(t.id=`_${e}`)}this.tabs.length&&(this.activeTabId?this.activeTabIdChanged(this.activeTabId):this.activeTabId=this.tabs[0].id)}activeTabIdChanged(e,t){let n=-1,r=!1;for(let e=0;e<this.tabs.length;++e){const t=this.tabs[e];t.id===this.activeTabId?(t.visible||(t.visible=!0,r=!0),n=e):t.visible=!1}if(n>=0){const e=this.tabs[n];t&&r&&(null==e?void 0:e.loadOnDemand)&&this.screenService.update(void 0,new d.ScreenUpdateParams(void 0,e.element));const o=new CustomEvent("changeconfig",{bubbles:!0,detail:{caption:this.tabs[n].caption}});this.element.dispatchEvent(o),this.tq.queueTask((()=>{this.keyboardService.clearFocus(),this.keyboardService.focusFirstElement()}))}}attached(){this.tabsChanged()}showTab(e){this.activeTabId=e}processPrev(){const e=this.tabs.findIndex((e=>e.id===this.activeTabId));if(e<=0)return!0;const t=this.tabs[e-1].id,n=new CustomEvent("prevtab",{bubbles:!0,detail:{tabId:t,backward:!0}});return this.element.dispatchEvent(n),n.detail.cancel||(this.activeTabId=t),!0}processNext(){const e=this.tabs.findIndex((e=>e.id===this.activeTabId));if(-1===e)return!0;const t=this.tabs[e+1].id,n=new CustomEvent("nexttab",{bubbles:!0,detail:{tabId:t}});return this.element.dispatchEvent(n),n.detail.cancel||(this.activeTabId=t),!0}processSave(){const e=new CustomEvent("savedialog",{bubbles:!0});return this.element.dispatchEvent(e),!0}processCancel(){const e=new CustomEvent("closedialog",{bubbles:!0});return this.element.dispatchEvent(e),!0}stopPropagation(e){return e.stopPropagation(),!1}};n.__decorate([r.bindable,n.__metadata("design:type",String)],u.prototype,"activeTabId",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],u.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],u.prototype,"id",void 0),n.__decorate([(0,r.children)("qp-tab"),n.__metadata("design:type",Array)],u.prototype,"tabs",void 0),u=n.__decorate([(0,r.customElement)("qp-wizard"),r.autoinject,n.__metadata("design:paramtypes",[Element,r.TaskQueue,l.ScreenService,c.KeyboardService])],u),t.QpWizardCustomElement=u}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/alert/qp-alert":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("aurelia-dialog"),n("./node_modules/client-controls/controls/dialog/base-dialog/base-dialog.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/dependency-property-injection/index.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpAlertButtons=t.QpAlertResults=t.QpAlertComponent=void 0;let c=class QpAlertComponent extends a.BaseDialog{constructor(e){super(e,!1),this.controller=e,this.alertButtons=p,this.alertResults=u,this.Msg=l.Messages,e.settings.position=(e,t)=>this.position(e,t),e.settings.lock=!1,this.minHeight=250,this.maxHeight=450}position(e,t){t&&t.classList.add("qp-dialog-app-overlay")}activate(e){this.config=e}get showCloseButton(){return void 0!==this.config.hideCloseButton?this.config.hideCloseButton:this.config.buttons!==this.alertButtons.YesNoCancel&&this.config.buttons!==this.alertButtons.YesNo&&this.config.buttons!==this.alertButtons.OkCancel}stopProcessing(e){return e.stopPropagation(),e.preventDefault(),!1}};var u,p;n.__decorate([r.bindable,n.__metadata("design:type",Object)],c.prototype,"config",void 0),n.__decorate([(0,r.computedFrom)("config.hideCloseButton","config.buttons"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],c.prototype,"showCloseButton",null),c=n.__decorate([d.autoinject,n.__metadata("design:paramtypes",[o.DialogController])],c),t.QpAlertComponent=c,function(e){e[e.None=0]="None",e[e.Confirm=1]="Confirm",e[e.Cancel=2]="Cancel",e[e.Reject=3]="Reject",e[e.Retry=4]="Retry",e[e.Ignore=5]="Ignore",e[e.Yes=6]="Yes",e[e.No=7]="No"}(u=t.QpAlertResults||(t.QpAlertResults={})),function(e){e.Ok="ok",e.OkCancel="okCancel",e.AbortRetryIgnore="abortRetryIgnore",e.YesNoCancel="yesNoCancel",e.YesNo="yesNo",e.RetryCancel="retryCancel"}(p=t.QpAlertButtons||(t.QpAlertButtons={}))}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/dialog/base-dialog/base-dialog-with-events.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/base-dialog.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDialogWithEvents=void 0;class BaseDialogWithEvents extends r.BaseDialog{constructor(e,t,n=!0){super(t,n),this.eventManager=e,this.eventSubscriptions=[]}addEventListner(e,t,r){this.eventSubscriptions.push(this.eventManager.addEventListener(e,t,(e=>r(e)),n.delegationStrategy.none,!0))}detached(){this.eventSubscriptions.forEach((e=>null==e?void 0:e.dispose())),this.eventSubscriptions=[]}}t.BaseDialogWithEvents=BaseDialogWithEvents}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/dialog/base-dialog/base-dialog.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/keyboard-service.js"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/descriptors/constants.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDialog=void 0;class BaseDialog{constructor(e,t=!0){this.controller=e,this.busy=0,this.maxHeight=-1,this.minHeight=-1,t&&(e.settings.lock=!1,e.settings.position=this.position.bind(this));const n=e.ok;e.ok=t=>(this.busyCounter.increment(),++this.busy,n.bind(e,t)())}attached(){var e;null===(e=this.keyboardService)||void 0===e||e.setActiveArea(this.element)}detached(){var e;null===(e=this.keyboardService)||void 0===e||e.restorePreviousArea()}activate(e){this.eventAggregator.publish(l.DIALOG_OPENED)}unbind(){for(;this.busy;--this.busy)this.busyCounter.decrement()}position(e,t){if(!this.config.attachTo)return;const n=e,r=this.config.attachTo.getBoundingClientRect(),o=n.querySelector("ux-dialog");if(o){const t=e.getBoundingClientRect().height,n=e.getBoundingClientRect().width,a=r.top,l=t-(r.top+r.height);let d=o.offsetHeight;if(this.maxHeight>0&&d>this.maxHeight&&(d=this.maxHeight),this.minHeight>0){const e=Math.max(a,l);d>e&&(d=e),d<this.minHeight&&(d=this.minHeight)}let c=r.top+r.height;const u=o.offsetHeight>d?d:o.offsetHeight;u>l&&a>l?c=r.top-u:u>l&&(c=t-u),o.style.position="absolute",o.style.top=`${c>0?c:0}px`;let p=r.left;if(o.offsetWidth+p>n&&(p=n-o.offsetWidth),o.style.left=`${p}px`,o.offsetHeight>d){const e=o.querySelector("ux-dialog-body");e&&(e.style.height=d-(o.offsetHeight-e.offsetHeight)+"px")}}}}n.__decorate([a.autoinject,n.__metadata("design:type",Element)],BaseDialog.prototype,"element",void 0),n.__decorate([a.autoinject,n.__metadata("design:type",r.KeyboardService)],BaseDialog.prototype,"keyboardService",void 0),n.__decorate([a.autoinject,n.__metadata("design:type",o.EventAggregator)],BaseDialog.prototype,"eventAggregator",void 0),n.__decorate([a.autoinject,n.__metadata("design:type",d.BusyCounter)],BaseDialog.prototype,"busyCounter",void 0),t.BaseDialog=BaseDialog}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-dialog"),n("aurelia-framework"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("client-controls/controls/dialog/base-dialog/qp-dialog"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogHelper=void 0;let c=class DialogHelper{constructor(e){this.container=e,this.dialogService=e.get(r.DialogService),this.busyCounter=e.get(d.BusyCounter)}openDialog(e,t,n){return this.openDialogInternal(e,t,n)}openDialogInternal(e,t,n){var r;this.busyCounter.increment(),(null===(r=null==e?void 0:e.context)||void 0===r?void 0:r.screenService)&&(e.context.screenService.suspendUpdates=!0);const o=this.dialogService.open(Object.assign(Object.assign({lock:!1},t),{viewModel:l.QpDialogCustomElement,model:e,childContainer:this.container.createChild()}));return o.then((e=>{if(!e.wasCancelled){n&&n(e)}})).finally((()=>{var t;this.busyCounter.decrement(),(null===(t=null==e?void 0:e.context)||void 0===t?void 0:t.screenService)&&(e.context.screenService.suspendUpdates=!1)})),o}};c=n.__decorate([a.autoinject,n.__metadata("design:paramtypes",[o.Container])],c),t.DialogHelper=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/base-dialog/movable":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MovableCustomAttribute=void 0;let o=class MovableCustomAttribute{constructor(e){this.pointerStart={dx:0,dy:0},this.dragMode=!1,this.element=e}attached(){this.element.addEventListener("pointerdown",(e=>this.startMoving(e))),this.element.addEventListener("pointerup",(e=>this.stopMoving(e))),this.element.addEventListener("pointermove",(e=>this.moved(e)))}detached(){this.element.removeEventListener("pointerdown",(e=>this.startMoving(e))),this.element.removeEventListener("pointerup",(e=>this.stopMoving(e))),this.element.removeEventListener("pointermove",(e=>this.moved(e)))}startMoving(e){if(!this.target||this.target.classList.contains("qp-maximized"))return!0;this.element.setPointerCapture(e.pointerId),this.dragMode=!0;const t=this.target.getBoundingClientRect();return this.target.style.position="absolute",this.pointerStart={dx:e.x-t.x,dy:e.y-t.y},this.target.style.top=`${t.y}px`,this.target.style.left=`${t.x}px`,this.target.style.bottom="",this.target.style.right="",this.target.classList.add("qp-moved"),!1}stopMoving(e){return this.element.releasePointerCapture(e.pointerId),this.dragMode=!1,!1}moved(e){return!this.dragMode||!this.target||(this.target.style.top=e.y-this.pointerStart.dy+"px",this.target.style.left=e.x-this.pointerStart.dx+"px",!1)}};n.__decorate([(0,r.bindable)({primaryProperty:!0}),n.__metadata("design:type",Object)],o.prototype,"target",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],o.prototype,"dialogSelector",void 0),o=n.__decorate([(0,r.customAttribute)("movable"),n.__metadata("design:paramtypes",[Element])],o),t.MovableCustomAttribute=o}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/base-dialog/qp-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/dialog/base-dialog/base-dialog.js"),n("aurelia-dialog"),n("./node_modules/client-controls/descriptors/index.js"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js")],o=function(e,t,n,r,o,a,l,d,c,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpDialogCustomElement=void 0;let h=class QpDialogCustomElement extends o.BaseDialog{constructor(e,t,n){super(t,!1),this.container=e,this.controller=t,this.screenService=n,this.eventSubscriptions=[],this.maximized=!1,t.settings.position||(t.settings.position=(e,t)=>this.position(e,t)),this.screenEventManager=new l.QpEventManager(e),this.container.registerInstance(l.QpEventManager,this.screenEventManager),this.eventManager=e.get(r.EventManager)}get width(){var e,t,n,r;return(null===(e=this.config)||void 0===e?void 0:e.width)?null===(t=this.config)||void 0===t?void 0:t.width:null===(r=null===(n=this.viewModelCompose)||void 0===n?void 0:n.currentViewModel)||void 0===r?void 0:r.width}get height(){var e,t;return this.config.height?this.config.height:null===(t=null===(e=this.viewModelCompose)||void 0===e?void 0:e.currentViewModel)||void 0===t?void 0:t.height}position(e,t){t&&t.classList.add("qp-dialog-app-overlay"),this.setCenteringOffset(),this.container.get(d.EventAggregator).subscribe(l.RESIZE_WINDOW,(()=>{this.setCenteringOffset()}));const n=u.PLATFORM.global.innerWidth||0,r=u.PLATFORM.global.innerHeight||0;(n<480||r<480)&&this.maximize()}get QpEventManager(){return this.screenEventManager}setCenteringOffset(){if(this.config.centeringHeight&&this.dialogElement){const e=(parseInt(this.config.centeringHeight,10)-this.dialogElement.clientHeight)/2,t=this.dialogElement.offsetTop-e-30;this.offsetTop=(t>0?-e:-e-t)+"px"}}processChangeConfig(e){const t=e.detail;return this.config=Object.assign(Object.assign({},this.config),t),this.stopProcessing(e)}detached(){super.detached(),this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[]}stopProcessing(e){return e.stopPropagation(),e.preventDefault(),!1}processRepaint(e){return n.__awaiter(this,void 0,void 0,(function*(){if(!0===e||"object"==typeof e){const t="object"==typeof e?e:{},n=new l.ScreenUpdateParams({commitChanges:t.commitChanges},this.element),r=this.screenService.executeCommand("Repaint",n);t.synchronous&&(yield r)}}))}activate(e){const t=Object.create(null,{activate:{get:()=>super.activate}});var r,o;return n.__awaiter(this,void 0,void 0,(function*(){t.activate.call(this,e),this.config=e;const a=e.rootElement||(null===(r=e.context)||void 0===r?void 0:r.element);if(this.eventSubscriptions.push(this.screenEventManager.subscribe("ExecuteCommand",(e=>n.__awaiter(this,void 0,void 0,(function*(){var t;const n=null===(t=null==e?void 0:e.Params)||void 0===t?void 0:t.dialogCallback;if(n){if(n.viewName=this.config.templateId,(n.dialogResult===l.WebDialogResult.OK||n.dialogResult===l.WebDialogResult.Yes)&&this.config.command&&(e.Command=this.config.command,n.validateInput)){e.stop();return void((yield this.screenService.executeCommand(e.Command,e.Params)).succeeded&&this.controller.cancel())}n.dialogResult&&this.controller.cancel()}}))))),this.config.templateViewModel)yield this.processRepaint(this.config.autoRepaint);else{let e;if(this.config.template?(e=document.createElement("template"),e.innerHTML=this.config.template,e=e.content.firstChild):e=a.querySelector(`#${this.config.templateId}`),!e)return void this.controller.cancel();this.eventTarget=e,this.eventTarget.dispatchEvent(new CustomEvent("activate-dialog",{detail:{dialogElement:this.element}}));let t=this.config.autoRepaint,n=e.getAttribute("auto-repaint");if(n){if(n=JSON.parse(n.replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": ')),"object"!=typeof n&&"boolean"!=typeof n)throw new Error("auto-repaint attribute is of wrong type");t=n}yield this.processRepaint(t);let r=e.querySelector("footer");if(r){const t=e.cloneNode(!0);r=t.querySelector("footer"),this.footerTemplate=r.innerHTML,r.remove(),this.template=t.innerHTML}else this.template=null==e?void 0:e.innerHTML,this.footerTemplate="";this.config.caption=(null===(o=e.au)||void 0===o?void 0:o.controller.viewModel.caption)||e.getAttribute("caption")||this.config.caption;const l=e.getAttribute("width"),d=e.getAttribute("height");l&&(this.config.width=l),d&&(this.config.height=d);const c=e.getAttribute("class");!this.config.cssClass&&c&&"au-target"!==c&&(this.config.cssClass=c)}}))}canDeactivate(e){if(this.viewModelCompose){const t=this.viewModelCompose.currentViewModel;if(t&&t.canDeactivate)return t.canDeactivate(e)}return!this.config.deactivateValidator||this.config.deactivateValidator(e)}deactivate(e){var t;e.wasCancelled||void 0!==e.output||(e.output=void 0),null===(t=this.eventTarget)||void 0===t||t.dispatchEvent(new CustomEvent("deactivate-dialog",{detail:{dialogElement:this.element,result:e}}))}maximize(){this.maximized=!this.maximized}};n.__decorate([r.observable,n.__metadata("design:type",Object)],h.prototype,"viewModelCompose",void 0),n.__decorate([(0,p.computedFrom)("config","config.width","viewModelCompose","viewModelCompose.currentViewModel","viewModelCompose.currentViewModel.width"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"width",null),n.__decorate([(0,p.computedFrom)("config.height","viewModelCompose","viewModelCompose.currentViewModel","viewModelCompose.currentViewModel.height"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"height",null),h=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[r.Container,a.DialogController,c.ScreenService])],h),t.QpDialogCustomElement=h}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/base-dialog/qp-resizable":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js"),n("aurelia-event-aggregator")],o=function(e,t,n,r,o,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.QpResizableCustomElement=void 0;let d=l=class QpResizableCustomElement{constructor(e,t){this.container=e,this.eventAggregator=t,this.pointerStart={dx:0,dy:0},this.resizeDirection="",this.pointerEventSubscriptions=[],this.eventManager=e.get(r.EventManager)}attached(){var e,t,n,r,o,a,l;this.element&&(this.dialogElement=this.element.querySelector((null===(e=this.resizableConfig)||void 0===e?void 0:e.dialogSelector)||c),this.headerElement=this.element.querySelector((null===(t=this.resizableConfig)||void 0===t?void 0:t.headerSelector)||u),this.qpRzCenterElement=this.element.querySelector((null===(n=this.resizableConfig)||void 0===n?void 0:n.rzCenterSelector)||p),this.minWidth=null!==(o=null===(r=this.resizableConfig)||void 0===r?void 0:r.minWidth)&&void 0!==o?o:g,this.minHeight=null!==(l=null===(a=this.resizableConfig)||void 0===a?void 0:a.minHeight)&&void 0!==l?l:h)}detached(){this.pointerEventSubscriptions.forEach((e=>e.dispose())),this.pointerEventSubscriptions=[],this.dialogElement&&(this.dialogElement.style.bottom="",this.dialogElement.style.right="",this.eventAggregator.publish(o.RESIZE_WINDOW))}startResizing(e,t){if(!t.currentTarget||!this.dialogElement||!this.resizableElement)return!0;this.resizableElement.setPointerCapture(t.pointerId),this.pointerEventSubscriptions.push(this.eventManager.addEventListener(this.resizableElement,"pointerup",(e=>this.stopResizing(e)),r.delegationStrategy.none,!0)),this.pointerEventSubscriptions.push(this.eventManager.addEventListener(this.resizableElement,"pointermove",(e=>this.resized(e)),r.delegationStrategy.none,!0)),this.resizeDirection=e;const n=this.dialogElement.getBoundingClientRect(),o=this.resizableElement.getBoundingClientRect();return this.dialogElement.style.position="absolute",this.dialogElement.classList.add("qp-resized"),this.pointerStart={dx:t.x-n.x,dy:t.y-n.y,x:t.x,y:t.y,width:o.width,height:o.height},this.dialogElement.style.top=`${n.y}px`,this.dialogElement.style.left=`${n.x}px`,this.width=`${o.width}px`,this.height=`${o.height}px`,this.dialogElement.style.bottom="",this.dialogElement.style.right="",!0}stopResizing(e){return!this.resizableElement||(this.pointerEventSubscriptions.forEach((e=>e.dispose())),this.pointerEventSubscriptions=[],this.resizableElement.releasePointerCapture(e.pointerId),this.resizeDirection="",!1)}resized(e){if(!this.resizeDirection||!this.resizableElement||!this.dialogElement)return!0;switch(e.preventDefault(),this.resizeDirection){case"n":case"ne":case"nw":{const t=(this.pointerStart.height||0)-e.y+(this.pointerStart.y||0);if(t<this.minHeight)break;this.dialogElement.style.top=e.y-this.pointerStart.dy+"px",this.height=`${t}px`}}switch(this.resizeDirection){case"s":case"sw":case"se":{const t=(this.pointerStart.height||0)+e.y-(this.pointerStart.y||0);if(t<this.minHeight)break;this.height=`${t}px`}}switch(this.resizeDirection){case"w":case"nw":case"sw":{const t=(this.pointerStart.width||0)-e.x+(this.pointerStart.x||0);if(t<this.minWidth)break;this.dialogElement.style.left=e.x-this.pointerStart.dx+"px",this.width=`${t}px`}}switch(this.resizeDirection){case"e":case"ne":case"se":{const t=(this.pointerStart.width||0)+e.x-(this.pointerStart.x||0);if(t<this.minWidth)break;this.width=`${t}px`}}return this.eventAggregator.publish(o.RESIZE_WINDOW),!1}setHeight(e){e>=this.minHeight&&(this.height=`${e}px`)}maximizedChanged(){this.dialogElement&&!this.hideMaximizer&&(this.dialogElement.classList.contains("qp-maximized")?(this.dialogElement.classList.remove("qp-maximized"),this.qpRzCenterElement&&(this.qpRzCenterElement.style.width="",this.qpRzCenterElement.style.height=""),this.width=this.resizableElementSize.width,this.height=this.resizableElementSize.height):(this.resizableElementSize={width:this.width,height:this.height},this.width=void 0,this.height=void 0,this.resizableElement&&(this.resizableElement.style.width="",this.resizableElement.style.height=""),this.dialogElement.classList.add("qp-maximized"),this.qpRzCenterElement&&(this.qpRzCenterElement.style.width="100vw",this.qpRzCenterElement.style.height="100vh")),this.eventAggregator.publish(o.RESIZE_WINDOW))}static ProcessContent(e,t,n){const r=document.createElement("template");r.setAttribute("replace-part","content");const o=Array.from(n.childNodes);return o.forEach((e=>{const t=e;t.setAttribute&&t.setAttribute("with.bind","$parent")})),r.content.append(...o),n.replaceChildren(r),!0}};n.__decorate([r.bindable,n.__metadata("design:type",HTMLElement)],d.prototype,"element",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"resizableConfig",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],d.prototype,"maximized",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],d.prototype,"hideMaximizer",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],d.prototype,"height",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],d.prototype,"width",void 0),d=l=n.__decorate([r.autoinject,r.containerless,(0,r.processContent)(l.ProcessContent),n.__metadata("design:paramtypes",[r.Container,a.EventAggregator])],d),t.QpResizableCustomElement=d;const c="ux-dialog",u=".qp-dialog-header",p=".qp-rz-center",h=50,g=150}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/edit-dialog-base/qp-edit-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/index.js"),n("aurelia-framework"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("aurelia-dialog"),n("./node_modules/client-controls/controls/dialog/base-dialog/base-dialog-with-events.js")],o=function(e,t,n,r,o,a,l,d){"use strict";var c;Object.defineProperty(t,"__esModule",{value:!0}),t.QpEditDialogCustomElement=void 0;let u=c=class QpEditDialogCustomElement extends d.BaseDialogWithEvents{constructor(e,t,n){super(n,e,!1),this.controller=e,this.element=t,this.msg=r.Messages,this.resetToDefaultButtonConfig={text:r.Messages.ResetToDefault,id:"btnResetToDefault",enabled:!0,class:"edit-action-button"},this.applyButtonConfig={text:r.Messages.Apply,id:"btnApply",class:"primary-button  edit-action-button",dialogResult:1,enabled:!0},this.cancelButtonConfig={text:r.Messages.Cancel,id:"btnCancel",dialogResult:2,enabled:!0,class:"edit-action-button"},(null==e?void 0:e.settings)&&(e.settings.position=(e,t)=>{t&&t.classList.add("qp-dialog-app-overlay"),e&&e.classList.add("edit-dialog-container")})}activate(e){this.dialogConfig=e}resetConfigurationToDefault(){this.dialogConfig.resetToDefault()}applyConfiguration(){this.controller.ok(this.dialogConfig.getResult())}close(){this.controller.cancel()}static ProcessContent(e,t,n){const r=document.createElement("template");r.setAttribute("replace-part","content");const o=Array.from(n.childNodes);return o.forEach((e=>{const t=e;t.setAttribute&&t.setAttribute("with.bind","$parent")})),r.content.append(...o),n.replaceChildren(r),!0}};n.__decorate([o.bindable,n.__metadata("design:type",Object)],u.prototype,"dialogConfig",void 0),u=c=n.__decorate([o.autoinject,(0,o.processContent)(c.ProcessContent),n.__metadata("design:paramtypes",[l.DialogController,Element,a.EventManager])],u),t.QpEditDialogCustomElement=u}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/edit-dialog-base/qp-edit-element":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/dialog/edit-dialog-base/types.js"),n("./node_modules/client-controls/controls/dialog/edit-dialog-base/utils.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpEditElementCustomElement=void 0;let d=class QpEditElementCustomElement{get active(){return this.config.hovered||this.config.selected}get upperDropzoneVisible(){return this.config.id===this.upperDropzoneId}get bottomDropzoneVisible(){return this.config.id===this.bottomDropzoneId}get actionsAreVisible(){return this.actions.some((e=>e.isVisible(this.active,this.config)))}activate(){this.dragInfo||(0,l.dispatchEditEvent)(a.EditElementEvents.activated,this.config)}deactivate(){(0,l.dispatchEditEvent)(a.EditElementEvents.deactivated,this.config)}processDragStart(e){return this.onDragEvent(e,a.EditElementEvents.dragStart)}processDragOver(e){return!!this.options.dropEvents&&(e.preventDefault(),this.onDragEvent(e,a.EditElementEvents.dragOver,this.isPointAfterMiddle(e)))}processDragLeave(e){return!!this.options.dropEvents&&(e.preventDefault(),e.stopImmediatePropagation(),e.target!==this.element||this.onDragEvent(e,a.EditElementEvents.dragLeave))}processDrop(e){return!!this.options.dropEvents&&(e.preventDefault(),this.onDragEvent(e,a.EditElementEvents.drop,this.isPointAfterMiddle(e)))}processClick(e){return(0,l.dispatchEditEvent)(a.EditElementEvents.select,{originalEvent:e,item:this.config,itemType:this.options.itemType}),!0}processAction(e,t){return e.stopPropagation(),!(t.isVisible(this.active,this.config)&&t.isEnabled(this.active,this.config)&&!t.isReadonly(this.config))||(this.config=t.onClick(this.config),!0)}onDragEvent(e,t,n){return e.stopPropagation(),(0,l.dispatchEditEvent)(t,{originalEvent:e,item:this.config,itemType:this.options.itemType,after:n}),!0}isPointAfterMiddle(e){const t=e.pageY,n=this.element.getBoundingClientRect(),r=this.dropZoneElement&&this.dropZoneElement.getBoundingClientRect().height||0;return t>n.y+(n.height+(this.upperDropzoneVisible?r:-r))/2}};n.__decorate([o.bindable,n.__metadata("design:type",Object)],d.prototype,"config",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],d.prototype,"options",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Array)],d.prototype,"actions",void 0),n.__decorate([o.bindable,n.__metadata("design:type",String)],d.prototype,"upperDropzoneId",void 0),n.__decorate([o.bindable,n.__metadata("design:type",String)],d.prototype,"bottomDropzoneId",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],d.prototype,"dragInfo",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],d.prototype,"dropInfo",void 0),n.__decorate([(0,r.computedFrom)("config.hovered","config.selected"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],d.prototype,"active",null),n.__decorate([(0,r.computedFrom)("config.id","upperDropzoneId"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],d.prototype,"upperDropzoneVisible",null),n.__decorate([(0,r.computedFrom)("config.id","bottomDropzoneId"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],d.prototype,"bottomDropzoneVisible",null),n.__decorate([(0,r.computedFrom)("config","actions","active"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],d.prototype,"actionsAreVisible",null),d=n.__decorate([o.containerless],d),t.QpEditElementCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/dialog/edit-dialog-base/types.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditElementType=t.EditElementEvents=void 0,function(e){e.activated="activated",e.deactivated="deactivated",e.select="elementSelect",e.dragStart="elementDragStarted",e.dragOver="elementDragOver",e.drop="elementDrop",e.dragLeave="elementDragLeave",e.unchooseElement="unchooseElement",e.preferenceChanged="preferenceChanged",e.addElementToEnd="addElementToEnd"}(t.EditElementEvents||(t.EditElementEvents={})),function(e){e.available="available",e.choosen="choosen"}(t.EditElementType||(t.EditElementType={}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/dialog/edit-dialog-base/utils.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchEditEvent=void 0,t.dispatchEditEvent=function dispatchEditEvent(e,t){const n=new CustomEvent(e,{bubbles:!0,detail:t});document.body.dispatchEvent(n)}}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/dialog/index.js":(e,t,n)=>{var r,o;r=[n,t,n("client-controls/controls/dialog/base-dialog/qp-dialog"),n("client-controls/controls/dialog/informer/qp-informer-rack"),n("client-controls/controls/dialog/long-run/qp-long-run"),n("client-controls/controls/dialog/quick-processing/qp-quick-processing"),n("client-controls/controls/dialog/edit-dialog-base/qp-edit-dialog"),n("client-controls/controls/dialog/processing-dialog/qp-processing-dialog"),n("./node_modules/client-controls/controls/dialog/processing-dialog/qp-processing-data-component.js"),n("./node_modules/client-controls/controls/dialog/long-run/long-run-data-component.js"),n("./node_modules/client-controls/controls/dialog/quick-processing/quick-processing-data-component.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("client-controls/controls/dialog/workflow-dialog/qp-workflow-dialog"),n("./node_modules/client-controls/controls/dialog/workflow-dialog/workflow-data-component.js"),n("client-controls/controls/dialog/upload-dialog/qp-upload-dialog"),n("./node_modules/client-controls/controls/dialog/upload-dialog/copypaste-data-component.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m,f,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyPasteDataComponent=t.QpUploadDialogCustomElement=t.WorkflowDataComponent=t.QpWorkflowDialogCustomElement=t.DialogHelper=t.QuickProcessingDataComponent=t.LongRunDataComponent=t.QpProcessingDataComponent=t.QpProcessingDialogCustomElement=t.QpEditDialogCustomElement=t.QpQuickProcessingCustomElement=t.QpLongRunCustomElement=t.hideInformer=t.showInformer=t.QpInformerRackCustomElement=t.QpDialogCustomElement=void 0,Object.defineProperty(t,"QpDialogCustomElement",{enumerable:!0,get:function(){return n.QpDialogCustomElement}}),Object.defineProperty(t,"QpInformerRackCustomElement",{enumerable:!0,get:function(){return r.QpInformerRackCustomElement}}),Object.defineProperty(t,"showInformer",{enumerable:!0,get:function(){return r.showInformer}}),Object.defineProperty(t,"hideInformer",{enumerable:!0,get:function(){return r.hideInformer}}),Object.defineProperty(t,"QpLongRunCustomElement",{enumerable:!0,get:function(){return o.QpLongRunCustomElement}}),Object.defineProperty(t,"QpQuickProcessingCustomElement",{enumerable:!0,get:function(){return a.QpQuickProcessingCustomElement}}),Object.defineProperty(t,"QpEditDialogCustomElement",{enumerable:!0,get:function(){return l.QpEditDialogCustomElement}}),Object.defineProperty(t,"QpProcessingDialogCustomElement",{enumerable:!0,get:function(){return d.QpProcessingDialogCustomElement}}),Object.defineProperty(t,"QpProcessingDataComponent",{enumerable:!0,get:function(){return c.QpProcessingDataComponent}}),Object.defineProperty(t,"LongRunDataComponent",{enumerable:!0,get:function(){return u.LongRunDataComponent}}),Object.defineProperty(t,"QuickProcessingDataComponent",{enumerable:!0,get:function(){return p.QuickProcessingDataComponent}}),Object.defineProperty(t,"DialogHelper",{enumerable:!0,get:function(){return h.DialogHelper}}),Object.defineProperty(t,"QpWorkflowDialogCustomElement",{enumerable:!0,get:function(){return g.QpWorkflowDialogCustomElement}}),Object.defineProperty(t,"WorkflowDataComponent",{enumerable:!0,get:function(){return m.WorkflowDataComponent}}),Object.defineProperty(t,"QpUploadDialogCustomElement",{enumerable:!0,get:function(){return f.QpUploadDialogCustomElement}}),Object.defineProperty(t,"CopyPasteDataComponent",{enumerable:!0,get:function(){return v.CopyPasteDataComponent}})}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/informer/qp-informer-rack":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],o=function(e,t,n,r,o){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.QpInformerRackCustomElement=t.fatalError=t.hideInformer=t.showInformer=void 0;(0,o.getLogger)("qp-informer-rack");function hideInformer(e){const t=d.singleRack;if(t)for(let n=0;n<t.messages.length;++n)e===t.messages[n]&&t.messages.splice(n,1)}t.showInformer=function showInformer(e,t){const n=d.singleRack;return n?(t=t||"error",n.messages.push({message:e,status:t}),{dispose:()=>{hideInformer(n.messages[n.messages.length-1])}}):{dispose:()=>{}}},t.hideInformer=hideInformer;let l=0;t.fatalError=function fatalError(e,t){console.error("Fatal error: ",e),null==t||t.classList.add("fatal-error");const n=document.createElement("div");n.setAttribute("id",`fatal-error-${l}`),n.style.top=20+60*l+"px",n.innerHTML=e,n.classList.add("fatal-error-box"),document.body.appendChild(n),++l};let d=a=class QpInformerRackCustomElement{constructor(){this.messages=[],a.singleRack=this}};d=a=n.__decorate([(0,r.customElement)("qp-informer-rack"),r.autoinject,n.__metadata("design:paramtypes",[])],d),t.QpInformerRackCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/informer/qp-informer":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("client-controls/controls/dialog/informer/qp-informer-rack"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/utils/control-helper.js")],o=function(e,t,n,r,o,a,l,d){"use strict";var c;Object.defineProperty(t,"__esModule",{value:!0}),t.setInformerClosingTimeout=t.QpInformerCustomElement=void 0;(0,a.getLogger)("qp-informer");let u=c=class QpInformerCustomElement{constructor(e,t){this.element=e,this.bindingEngine=t,this.hidden=!1}configChanged(e,t){void 0===t&&((0,l.applyDefaultValues)(e,c.defaultConfig),this.statusObserver||(this.statusObserver=this.bindingEngine.propertyObserver(this.config,"status").subscribe((e=>{this.hidden=!1})))),this.message=unescape(this.config.message)}detached(){this.statusObserver&&this.statusObserver.dispose()}attached(){setTimeout((()=>{this.closeNotification()}),c.CLOSE_TIMEOUT)}closeNotification(){return this.closing="qp-closing",setTimeout((()=>{var e;this.hidden=!0,this.closing=void 0,(0,o.hideInformer)(this.config),null===(e=this.element.parentElement)||void 0===e||e.removeChild(this.element)}),300),!1}};function setInformerClosingTimeout(e){u.CLOSE_TIMEOUT=e}u.defaultConfig={hidden:!1},u.CLOSE_TIMEOUT=1e4,n.__decorate([r.bindable,n.__metadata("design:type",Object)],u.prototype,"config",void 0),u=c=n.__decorate([r.autoinject,(0,r.customElement)("qp-informer"),n.__metadata("design:paramtypes",[Element,r.BindingEngine])],u),t.QpInformerCustomElement=u,t.setInformerClosingTimeout=setInformerClosingTimeout,(0,d.registerQAObject)("setInformerClosingTimeout",setInformerClosingTimeout)}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/dialog/long-run/long-run-data-component.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("client-controls/controls/abstract/screen-base-view-model/screen-base-view-model"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/descriptors/data-component-register.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LongRunDataComponent=void 0;let c=class LongRunDataComponent{constructor(e,t,n="ElapsedTime"){this.screenViewModel=e,this.container=t,this.longRunConfig={id:"ctl00_phDS_ds_LongRun",switchedOff:!1,enabled:!0,spinHidden:!0,hidden:!0,status:"aborted",longRunAborted:"",longRunCompleted:"",longRunInProcess:"",longRunMessage:"",longRunAbort:""},this.eventAggregator=t.get(a.EventAggregator),this.screenService=e.getScreenService(),null!=n&&(this.longRunElapsedCommandName=n)}getQueryParams(e){return{}}setComponentData(e){this.applyLongRunResult(e)}applyLongRunResult(e){const t=e;if(null==t?void 0:t.status){const e=window,n=new l.LongRunChangedEvent(t.dueToCommand);if(n.status=t.status,n.message=t.message,n.seconds=t.seconds,n.abortMessage=t.abortMessage,t.status)if(t.status===l.ProcessStatus.InProcess){this.screenService.longRunInProgress=e.longRunInProcess=!0;const t=5e3;this.eventAggregator.publish("longrun-started",n),clearInterval(this.longRunInterval),this.longRunInterval=setInterval((()=>this.screenService.update(this.longRunElapsedCommandName)),t)}else t.status>l.ProcessStatus.InProcess&&(this.eventAggregator.publish("longrun-stopped"),clearInterval(this.longRunInterval),t.status===l.ProcessStatus.Completed?t.longRunHasWarning?this.eventAggregator.publish("longrun-succeded-with-warning",n):this.eventAggregator.publish("longrun-succeded",n):t.status===l.ProcessStatus.Aborted&&this.eventAggregator.publish("longrun-aborted",n),this.screenService.longRunInProgress=!1)}else this.eventAggregator.publish("longrun-cleared"),clearInterval(this.longRunInterval)}};n.__decorate([o.bindable,n.__metadata("design:type",Object)],c.prototype,"longRunConfig",void 0),c=n.__decorate([(0,o.inlineView)('<template><qp-long-run config.bind="longRunConfig"></qp-long-run></template>'),(0,d.selfRegisterWithName)("LongRunData",{createImmediately:!0}),n.__metadata("design:paramtypes",[r.PXScreen,o.Container,Object])],c),t.LongRunDataComponent=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/long-run/qp-long-run":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-event-aggregator"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/services/screen-service.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.QpLongRunCustomElement=void 0;(0,a.getLogger)("qp-long-run");let h=p=class QpLongRunCustomElement{constructor(e,t,n,r,o){this.container=e,this.element=t,this.bindingEngine=n,this.eventAggregator=r,this.tq=o,this.hidden=!1,this.eventSubscriptions=[],this.msg=c.Messages}get LongRunMessages(){return this.config&&this.config.longRunMessage&&this.config.longRunMessage.split("\n")||[]}get iconName(){switch(this.config.status){case"aborted":return"errorExclamation";case"completed":return"successCheckFilled";case"completedwithwarning":return"warningExclamationFilled"}}attached(){this.eventSubscriptions.push(this.eventAggregator.subscribe(l.CALLBACK_STARTED_EVENT,(e=>{e&&"Repaint"!==e&&"ElapsedTime"!==e&&"LongRun"!==e&&this.closeNotification(0)}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-cleared",((e=!1)=>{if(this.config){if(this.stopLongRunTimer(),this.config.spinHidden=!0,e&&this.closeNotification(300),"completed"===this.config.status)return;this.config.hidden=!0}}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-started",(e=>{if(this.config){const longrunStartedHandler=()=>{this.timerId=setInterval((()=>{this.longRunTimer()}),200),this.config.hidden=!1,this.config.spinHidden=!1,this.config.enabled=!0,this.config.longRunCompleted="",this.config.longRunMessage=`${e.message}`,this.config.status="inprocess",this.container.get(u.ScreenService).unregisterPostponedTask(longrunStartedHandler)};this.container.get(u.ScreenService).registerPostponedTask(longrunStartedHandler)}}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-succeded",(e=>{this.config&&(this.stopLongRunTimer(),this.config.hidden=!1,this.config.spinHidden=!0,this.config.enabled=!0,e.message&&(this.config.longRunMessage=e.message),this.config.status="completed")}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-succeded-with-warning",(e=>{this.config&&(this.stopLongRunTimer(),this.config.hidden=!1,this.config.spinHidden=!0,this.config.enabled=!0,e.message&&(this.config.longRunMessage=e.message),this.config.status="completedwithwarning")}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-aborted",(e=>{this.config&&(this.stopLongRunTimer(),this.config.hidden=!1,this.config.spinHidden=!0,this.config.enabled=!0,e.message&&(this.config.longRunMessage=e.message),this.config.status="aborted")}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("default-longrun-switched-off",(()=>{this.config.switchedOff=!0}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("default-longrun-switched-on",(()=>{this.config.switchedOff=!1})))}configChanged(e,t){void 0===t&&((0,d.applyDefaultValues)(e,p.defaultConfig),this.statusObserver||(this.statusObserver=this.bindingEngine.propertyObserver(this.config,"status").subscribe((e=>{this.hidden=""===e,"inprocess"!==e&&this.tq.queueTask((()=>{delete window.longRunInProcess}))}))))}detached(){this.statusObserver&&this.statusObserver.dispose(),this.eventSubscriptions.forEach((e=>e.dispose()))}closeNotification(e){return this.closing="qp-closing",setTimeout((()=>{this.config.status="",this.hidden=!0,this.closing=void 0}),e),!1}stopProcessing(e){if("inprocess"!==this.config.status)return!0;const t=new CustomEvent("cancel-long-run",{bubbles:!0,detail:{event:e}});return this.element.dispatchEvent(t),this.eventAggregator.publish("cancel-long-run"),!1}longRunTimer(){null==this.startTime&&(this.startTime=new Date);const e=(new Date).getTime()-this.startTime.getTime();let t=Math.floor(e/1e3);t-=86400*Math.floor(t/86400);const n=Math.floor(t/3600);t-=3600*n;const r=Math.floor(t/60);t-=60*r,this.config.longRunCompleted=[n.toString().padStart(2,"0"),r.toString().padStart(2,"0"),t.toString().padStart(2,"0")].join(":")}stopLongRunTimer(){this.timerId&&(clearInterval(this.timerId),delete this.timerId),delete this.startTime}};h.defaultConfig={hidden:!0,switchedOff:!1},n.__decorate([o.bindable,n.__metadata("design:type",Object)],h.prototype,"config",void 0),n.__decorate([(0,o.computedFrom)("config","config.longRunMessage"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"LongRunMessages",null),n.__decorate([(0,o.computedFrom)("config.status"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"iconName",null),h=p=n.__decorate([o.autoinject,(0,o.customElement)("qp-long-run"),n.__metadata("design:paramtypes",[o.Container,Element,o.BindingEngine,r.EventAggregator,o.TaskQueue])],h),t.QpLongRunCustomElement=h}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/dialog/processing-dialog/qp-processing-data-component.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/data-component-register.js"),n("client-controls/controls/dialog/processing-dialog/qp-processing-dialog")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpProcessingDataComponent=void 0;let l=class QpProcessingDataComponent{getQueryParams(e){return{}}setComponentData(e){var t;null===(t=this.uiControl)||void 0===t||t.applyProcessingResult(e)}};n.__decorate([r.bindable,n.__metadata("design:type",a.QpProcessingDialogCustomElement)],l.prototype,"uiControl",void 0),l=n.__decorate([(0,r.inlineView)('<template><qp-processing-dialog view-model.ref="uiControl"></qp-processing-dialog></template>'),(0,o.selfRegisterWithName)("ProcessingResultData")],l),t.QpProcessingDataComponent=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/processing-dialog/qp-processing-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/services/screen-service.js"),n("client-controls/controls/compound/tool-bar/qp-tool-bar"),n("aurelia-event-aggregator")],o=function(e,t,n,r,o,a,l,d,c,u,p){"use strict";var h;Object.defineProperty(t,"__esModule",{value:!0}),t.QpProcessingDialogCustomElement=void 0;let g=h=class QpProcessingDialogCustomElement{constructor(e,t,n,r){this.container=e,this.element=t,this.eventAggregator=n,this.tq=r,this.dialogConfig={context:this,templateId:"processingDialog",centeringHeight:"620px",hideMaximizer:!0,hideCloseButton:!0,cssClass:"col-sm-12 col-md-10 col-lg-8"},this.closeConfig={text:o.Messages.ProcessingClose,id:"processing_dialog_close",enabled:!0},this.cancelConfig={text:o.Messages.ProcessingCancel,id:"processing_dialog_cancel",enabled:!0},this.dialogShown=!1,this.processingIsActive=!0,this.subscriptions=[],this.msg=o.Messages,this.currentFilter=null,this.elapsedTime="",this.result="",this.processingErrorMessage="",this.remains=0,this.total=0,this.errors=0,this.skipped=0,this.processedItems=0,this.processingCompleted=!1,this.waitingForProcessed=!1,this.screenEventManager=e.get(a.QpEventManager)}get errorsOccured(){return this.result.includes("LabelAbbrError")}get warningsOccured(){return this.result.includes("LabelAbbrWarning")}get errorIconClasses(){return`${this.errorsOccured?"control-Error":""} ${this.warningsOccured?"control-Warning":""}`}get processingStatus(){if(0!==this.total){if(!this.percentage||0===this.percentage)return"initializing";if(!this.result)return"in-process"}return"in-process"}get processingProgressAnimationStatusClass(){return this.percentage&&this.percentage>0?"processing-dialog__progress-bar-percentage--animated":""}get progressBarVisibility(){return this.result||0===this.total?0:1}get filtersList(){return[{id:h.PROCESSED_ID,filterId:h.filterIDs.processed,label:this.msg.ProcessingProcessed,counter:this.processedItems,status:this.processedItems>0?this.getActiveFilterStatus(h.PROCESSED_ID):"disabled"},{id:h.ERRORS_ID,filterId:h.filterIDs.errors,label:this.msg.ProcessingErrors,counter:this.errors,status:this.errors>0?this.getActiveFilterStatus(h.ERRORS_ID):"disabled"},{id:h.WARNINGS_ID,filterId:h.filterIDs.warnings,label:this.msg.ProcessingWarnings,counter:this.skipped,status:this.skipped>0?this.getActiveFilterStatus(h.WARNINGS_ID):"disabled"},{id:h.REMAINING_ID,filterId:h.filterIDs.remains,label:this.msg.ProcessingRemaining,counter:this.remains,status:this.remains>0?this.getActiveFilterStatus(h.REMAINING_ID):"disabled"},{id:h.TOTAL_ID,filterId:h.filterIDs.default,label:this.msg.ProcessingTotal,counter:this.total,status:this.total>0?this.getActiveFilterStatus(h.TOTAL_ID):"disabled"}]}bind(){this.eventAggregator.subscribeOnce("screen-initialized",(()=>{this.screenService=this.container.get(c.ScreenService),this.parent=this.screenService.model;const e=this.getTopBarItems();this.processingGridConfig=Object.assign(Object.assign({},h.processingGridDefaultConfig),{topBarItems:e})}))}tooltipify(e){const t=document.createElement("template");t.innerHTML=e.trim();const n=t.content.querySelector(".LabelAbbrError, .LabelAbbrWarning");if(!n)return e;const r=null==n?void 0:n.getAttribute("title");n.removeAttribute("title"),n.removeAttribute("error");const o=document.createElement("qp-tooltip");return o.textContent=r,n.appendChild(o),t.innerHTML}applyProcessingResult(e){var t,n;if(this.elapsedTime=e.elapsedTime?this.tooltipify(e.elapsedTime):"",null===(t=this.elapsedTimeView)||void 0===t||t.refreshTemplate(),this.percentage=e.percentage,this.result=e.result||"",this.processingErrorMessage=e.processingErrorMessage||"",this.remains=e.remains||0,this.total=e.total||0,this.errors=e.errors||0,this.skipped=e.skipped||0,this.processedItems=e.processedItems||0,this.processingGridConfig.view=e.resultViewName,this.view=this.screenService.model[e.resultViewName],this.waitingForProcessed&&(this.waitingForProcessed=!1,this.tq.queueMicroTask((()=>{delete window.processingInProcess}))),void 0!==e.elapsedTime){if(!this.dialogShown){this.showProcessingDialog(),this.waitingForProcessed=this.processingCompleted=!1,window.processingInProcess=!0;const e=this.eventAggregator.subscribeOnce("longrun-stopped",(()=>{this.parent.screenEventManager.publish(new a.ExecuteCommandEvent("Repaint")),this.processingCompleted=!0,this.tq.queueMicroTask((()=>{this.waitingForProcessed=!0}))}));this.subscriptions.push(e)}null===(n=this.processingViewGridVM)||void 0===n||n.refresh()}}getTopBarItems(){const e={},t=this.parent.actions;for(const n of t.keys()){const r=t.get(n);(null==r?void 0:r.visibleOnProcessingResults)&&(e[r.commandName]={config:Object.assign(Object.assign({},(0,u.NewMenuButton)(r.commandName)),{text:r.text,showInToolbar:!0,commandName:r.commandName,connotation:r.connotation})})}return e}getActiveFilterStatus(e){switch(e){case h.PROCESSED_ID:return"completed";case h.ERRORS_ID:return"error";case h.WARNINGS_ID:return"warning";default:return"default"}}toggleFilter(e){var t;this.dialogIsMaximized()?this.currentFilter=e:this.currentFilter=(null===(t=this.currentFilter)||void 0===t?void 0:t.id)===e.id?null:e,this.currentFilter&&this.processingViewGridVM.setFilterID(this.currentFilter.filterId)}dialogIsMaximized(){return!(!this.dialogHelper||!this.currentDialog)&&this.currentDialog.controller.viewModel.maximized}currentFilterChanged(e){this.dialogHelper&&this.currentDialog&&(null!=e?(this.currentDialog.settings.model.hideMaximizer=!1,this.dialogIsMaximized()||(this.currentDialog.settings.model.height=this.currentDialog.settings.model.centeringHeight)):(this.currentDialog.settings.model.hideMaximizer=!0,this.currentDialog.settings.model.height=void 0))}showProcessingDialog(){this.dialogShown=!0,this.eventAggregator.publish("default-longrun-switched-off"),this.currentFilter=null;this.dialogHelper.openDialog(this.dialogConfig,{lock:!0},(e=>{this.currentDialog=e.controller})).whenClosed((()=>{this.eventAggregator.publish("longrun-cleared",{hide:!0}),this.dialogShown=!1,setTimeout((()=>{this.eventAggregator.publish("default-longrun-switched-on")}),300),this.processingIsActive?this.closeProcessing():this.processingIsActive=!0}))}closeProcessing(){var e;this.processingIsActive=!1;const t=this.parent.actions.get("actioncancelprocessing"),n=this.parent.actions.get("actioncloseprocessing"),r=t&&t.visible?t.commandName:null==n?void 0:n.commandName;r===(null==n?void 0:n.commandName)&&(null===(e=this.currentDialog)||void 0===e||e.cancel()),this.execCommand(new a.ExecuteCommandEvent(r))}execCommand(e){return n.__awaiter(this,void 0,void 0,(function*(){this.screenEventManager.publish(e)}))}detached(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions.splice(0,this.subscriptions.length),this.screenService.unregisterDataComponent("ProcessingResultData")}};g.filterIDs={default:"00000000-0000-0000-0000-000000000000",errors:"00000000-0000-0000-0000-000000000010",processed:"00000000-0000-0000-0000-000000000020",remains:"00000000-0000-0000-0000-000000000030",warnings:"00000000-0000-0000-0000-000000000040"},g.PROCESSED_ID="PROCESSED",g.ERRORS_ID="ERRORS",g.WARNINGS_ID="WARNINGS",g.REMAINING_ID="REMAINING",g.TOTAL_ID="TOTAL",g.processingGridDefaultConfig={id:"",preset:a.GridPreset.Inquiry,allowUpdate:!1,showFilterBar:a.GridFilterBarVisibility.False,filterView:"ViewFieldsFilters",filterRowsView:"ProcessingView$FilterRow",generateProcessColumns:!0,preserveSortsAndFilters:!1,syncPosition:!1,adjustPageSize:!1,mergeToolbarWith:void 0,columnsConfig:[{field:"Selected",allowShowHide:a.GridColumnShowHideMode.False,visible:!1},{field:"ProcessingStatus",width:100,visible:!0},{field:"ProcessingMessage",width:270,visible:!0}]},n.__decorate([(0,d.newInstance)(l.DialogHelper),n.__metadata("design:type",l.DialogHelper)],g.prototype,"dialogHelper",void 0),n.__decorate([r.observable,n.__metadata("design:type",Object)],g.prototype,"currentFilter",void 0),n.__decorate([(0,r.computedFrom)("result"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],g.prototype,"errorsOccured",null),n.__decorate([(0,r.computedFrom)("result"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],g.prototype,"warningsOccured",null),n.__decorate([(0,r.computedFrom)("errorsOccured","warningsOccured"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],g.prototype,"errorIconClasses",null),n.__decorate([(0,r.computedFrom)("percentage","total","result"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],g.prototype,"processingStatus",null),n.__decorate([(0,r.computedFrom)("percentage"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],g.prototype,"processingProgressAnimationStatusClass",null),n.__decorate([(0,r.computedFrom)("result","total"),n.__metadata("design:type",Number),n.__metadata("design:paramtypes",[])],g.prototype,"progressBarVisibility",null),n.__decorate([(0,r.computedFrom)("processedItems","errors","skipped","remains","total"),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[])],g.prototype,"filtersList",null),g=h=n.__decorate([(0,r.customElement)("qp-processing-dialog"),d.autoinject,n.__metadata("design:paramtypes",[r.Container,Element,p.EventAggregator,r.TaskQueue])],g),t.QpProcessingDialogCustomElement=g}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/quick-processing/qp-quick-processing":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-event-aggregator"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js")],o=function(e,t,n,r,o,a,l,d,c,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpQuickProcessingCustomElement=void 0;let h=class QpQuickProcessingCustomElement{constructor(e,t,n,r,o,a){this.container=e,this.element=t,this.bindingEngine=n,this.eventAggregator=r,this.screenEventManager=o,this.redirector=a,this.messages=[],this.cancelConfig={text:u.Messages.Cancel,id:"quick_processing_cancel",enabled:!0,tabIndex:-1},this.dialogConfig={context:this,templateId:"ProcessingResults",hideMaximizer:!0,hideCloseButton:!0},this.cancelling=!1,this.dialogShown=!1,this.autoRedirects=[],this.autoRedirectsDone=new Set,this.autoRedirectIndex=0,this.haveErrors=!1,this.subscriptions=[],this.Msg=u.Messages}attached(){let e=this.eventAggregator.subscribe(a.CALLBACK_COMPLETED_EVENT,(e=>{var t;(null==e?void 0:e.command)&&1===(null==e?void 0:e.dialogResult)&&(null==e?void 0:e.validationOk)&&this.quickProcessingActions&&this.quickProcessingActions.indexOf(null==e?void 0:e.command.toLowerCase())>=0?(this.messages=[],this.messagesSize=0,this.messagesPreviousSize=0,this.autoRedirects=[],this.autoRedirectsDone.clear(),this.autoRedirectIndex=0,this.status="in-progress",this.completedMessage="",this.cancelling=!1,this.dialogConfig.cssClass="status-dialog-in-progress",this.showDialog()):(!(null==e?void 0:e.command)||!this.quickProcessingActions||this.quickProcessingActions&&-1===this.quickProcessingActions.indexOf(null==e?void 0:e.command.toLowerCase())&&"Repaint"!==(null==e?void 0:e.command)&&"ElapsedTime"!==(null==e?void 0:e.command)&&"LongRun"!==(null==e?void 0:e.command))&&(null===(t=this.currentDialog)||void 0===t||t.close(!1))}));this.subscriptions.push(e),e=this.eventAggregator.subscribe(a.QuickProcessingActionsEvent,(e=>{this.quickProcessingActions=e.quickProcessingActions.map((e=>e.toLowerCase()))})),this.subscriptions.push(e),e=this.eventAggregator.subscribe(l.QuickProcessingChangedEvent,(e=>{e.log&&(this.haveErrors=e.log.some((e=>e.error)),this.messages=e.log.map((e=>this.createLogMessage(e))),this.messagesSize=this.messages.length,this.messagesSize!==this.messagesPreviousSize?(this.messagesPreviousSize=this.messagesSize,this.messagesSizeChanged=!0):this.messagesSizeChanged=!1,this.autoRedirects=e.log.filter((e=>e.autoRedirect&&e.redirect)).map((e=>e.redirect)),"in-progress"!==this.status&&this.completed(),this.showDialog())})),this.subscriptions.push(e),e=this.eventAggregator.subscribe("longrun-started",(e=>{this.timerId||(this.timerId=setInterval((()=>{this.longRunTimer()}),200)),this.longrunStatusMessage=`${e.message}`})),this.subscriptions.push(e),e=this.eventAggregator.subscribe("longrun-aborted",(e=>{this.status="aborted"})),this.subscriptions.push(e);const done=e=>{this.completedMessage=e.message,this.dialogShown&&this.completed()};e=this.eventAggregator.subscribe("longrun-succeded",done),this.subscriptions.push(e),e=this.eventAggregator.subscribe("longrun-succeded-with-warning",done),this.subscriptions.push(e)}get longrunStatusMessagesList(){return this.longrunStatusMessage&&this.longrunStatusMessage.split("\n")||[]}cancellingChanged(e){this.cancelConfig.enabled=!e}position(e,t){if(t){t.classList.add("qp-dialog-app-overlay");let e=this.eventAggregator.subscribe("longrun-cleared",(()=>{t.classList.add("hidden")}));this.subscriptions.push(e),e=this.eventAggregator.subscribe("longrun-started",(e=>{t.classList.remove("hidden")})),this.subscriptions.push(e)}e.classList.add("qp-status-dialog")}cancel(){"in-progress"===this.status&&(this.eventAggregator.publish("cancel-long-run"),this.cancelling=!0)}longRunTimer(){this.startTime||(this.startTime=new Date);const e=(new Date).getTime()-this.startTime.getTime();let t=Math.floor(e/1e3);t-=86400*Math.floor(t/86400);const n=Math.floor(t/3600);t-=3600*n;const r=Math.floor(t/60);t-=60*r,this.longRunTimerMessage=[n.toString().padStart(2,"0"),r.toString().padStart(2,"0"),t.toString().padStart(2,"0")].join(":")}stopLongRunTimer(){this.timerId&&(clearInterval(this.timerId),this.timerId=void 0),this.startTime=void 0}detached(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}completed(){this.stopLongRunTimer(),"aborted"!==this.status&&(this.status=this.haveErrors?"not-completed":"completed"),this.dialogConfig.cssClass=`status-dialog-${this.status}`,this.dialogConfig.hideCloseButton=!1,this.eventAggregator.publish("longrun-cleared",{hide:!0});for(const e of this.autoRedirects)this.autoRedirectsDone.has(e.redirects[0].url)||(this.autoRedirectsDone.add(e.redirects[0].url),setTimeout((()=>{this.redirector.doRedirects(e)}),5e3*this.autoRedirectIndex),this.autoRedirectIndex++)}createLogMessage(e){const t={text:e.text.map((e=>"link"===e.type?{type:"link",text:e.text}:{type:"text",text:e.text})),error:e.error};if(e.redirect){const n=Object.assign(Object.assign({},e.redirect),{redirects:e.redirect.redirects.map((e=>{const t=Object.assign({},e.queryParams);return delete t.AutoExportPDF,Object.assign(Object.assign({},e),{queryParams:t})}))});t.redirectAction=()=>{this.redirector.doRedirects(n)}}return t}showDialog(){if(this.dialogShown)return;this.dialogConfig.hideCloseButton=!0,this.dialogShown=!0,this.eventAggregator.publish("default-longrun-switched-off");const e=this.dialogHelper.openDialog(this.dialogConfig,{lock:!0,position:(e,t)=>this.position(e,t)},(e=>{this.currentDialog=e.controller}));e.catch((()=>{handleDialogHide()})),e.whenClosed((()=>{handleDialogHide()}));const handleDialogHide=()=>{this.dialogShown=!1,this.currentDialog=void 0,this.eventAggregator.publish("default-longrun-switched-on")}}};n.__decorate([o.bindable,n.__metadata("design:type",Object)],h.prototype,"config",void 0),n.__decorate([o.observable,n.__metadata("design:type",String)],h.prototype,"status",void 0),n.__decorate([o.observable,n.__metadata("design:type",Array)],h.prototype,"messages",void 0),n.__decorate([(0,c.newInstance)(d.DialogHelper),n.__metadata("design:type",d.DialogHelper)],h.prototype,"dialogHelper",void 0),n.__decorate([o.observable,n.__metadata("design:type",Boolean)],h.prototype,"cancelling",void 0),n.__decorate([(0,p.computedFrom)("longrunStatusMessage"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],h.prototype,"longrunStatusMessagesList",null),h=n.__decorate([c.autoinject,(0,o.customElement)("qp-quick-processing"),n.__metadata("design:paramtypes",[o.Container,Element,o.BindingEngine,r.EventAggregator,a.QpEventManager,a.RedirectHelper])],h),t.QpQuickProcessingCustomElement=h}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/dialog/quick-processing/quick-processing-data-component.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/descriptors/data-component-register.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickProcessingDataComponent=void 0;let d=class QuickProcessingDataComponent{constructor(e,t){this.viewModel=e,this.container=t,this.config={id:"ctl00_phDS_ds_QuickProcessing",hidden:!0,enabled:!0},this.eventAggregator=t.get(o.EventAggregator)}getQueryParams(e){return{}}setComponentData(e){this.applyQuickProcessingResult(e)}applyQuickProcessingResult(e){if(e){const t=e;if(t.quickProcessingActions){const e=new a.QuickProcessingActionsEvent;e.quickProcessingActions=t.quickProcessingActions,this.eventAggregator.publish(e)}if(t.log){const t=new a.QuickProcessingChangedEvent;t.log=e.log,this.eventAggregator.publish(t)}else this.eventAggregator.publish(a.QUICK_PROCESSING_CLEARED)}else this.eventAggregator.publish(a.QUICK_PROCESSING_CLEARED)}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"config",void 0),d=n.__decorate([(0,r.inlineView)('<template><qp-quick-processing config.bind="config"></qp-quick-processing></template>'),(0,l.selfRegisterWithName)("QuickProcessingData"),n.__metadata("design:paramtypes",[Object,r.Container])],d),t.QuickProcessingDataComponent=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/dialog/upload-dialog/copypaste-data-component.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/data-component-register.js"),n("./node_modules/client-controls/client-controls.js")],o=function(e,t,n,r,o,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.CopyPasteDataComponent=t.CopyPasteImportXmlDialog=void 0;let d=class CopyPasteImportXmlDialog{};d.Caption="Upload XML File",d=n.__decorate([a.localizable],d),t.CopyPasteImportXmlDialog=d;let c=l=class CopyPasteDataComponent{constructor(e){}getQueryParams(e){return{}}setComponentData(e){var t;e&&"object"==typeof e&&e.importEnabled?this.config=Object.assign(Object.assign({},l.defaultConfig),{key:null!==(t=e.viewName)&&void 0!==t?t:l.defaultConfig.key}):this.config=void 0}};c.defaultConfig={id:"dlgUploadXml",key:"UploadImportedXml",caption:d.Caption,sessionKey:"XmlUploadEntity",width:"450px",allowedTypes:".xml"},c=l=n.__decorate([(0,r.inlineView)('<template><qp-upload-dialog if.bind="!!config" config.bind="config" screen.bind="screen"></qp-upload-dialog></template>'),(0,o.selfRegisterWithName)("CopyPasteActionsData",{category:o.DataComponentCategory.PageHost}),n.__metadata("design:paramtypes",[a.PXScreen])],c),t.CopyPasteDataComponent=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/upload-dialog/qp-upload-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/controls/abstract/decorators/config-attributes.js"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/simple/image/components/index.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("./node_modules/client-controls/controls/compound/system-menu/files-dialog-api-client.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/services/index.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpUploadDialogCustomElement=void 0;let m=class QpUploadDialogCustomElement{constructor(e,t){this.element=e,this.container=t,this.importOptions={},this.controlError={},this.Messages=h.Messages,this.DialogMessages=f,this.PXErrorLevel=d.PXErrorLevel}attached(){var e,t;this.client=this.container.get(p.FilesDialogApiClient),this.screenService=this.container.get(l.ScreenService);const r=null===(t=null===(e=this.screenService)||void 0===e?void 0:e.model)||void 0===t?void 0:t.screenEventManager;this.listeners=new c.Disposables([r.subscribe("OpenPopup",(e=>n.__awaiter(this,void 0,void 0,(function*(){var t;e.commandName&&e.name===(null===(t=this.config)||void 0===t?void 0:t.key)&&(e.stop(),yield this.execute(e.commandName))}))))])}detached(){var e;this.client=void 0,this.screenService=void 0,null===(e=this.listeners)||void 0===e||e.dispose(),this.listeners=void 0}configChanged(){this.config&&!this.config.id&&(this.config.id=`dlg${this.config.key||"Upload"}`)}execute(e){return n.__awaiter(this,void 0,void 0,(function*(){if(!this.config)return;this.command=e;const t=this.container.get(u.DialogHelper),n={id:this.config.id,rootElement:this.element,templateId:this.config.key,context:this},r=yield t.openDialog(n,{lock:!0,keyboard:!0});r.wasCancelled||(yield r.closeResult)}))}cleanUp(){this.uploaderConfig=void 0,this.file=void 0,this.importOptions={},this.uploadedFile=void 0,this.controlError={}}deactivateDialog(e){this.cleanUp()}activateDialog(e){var t,n;if(!(null===(t=this.config)||void 0===t?void 0:t.sessionKey))throw new Error("Invalid sessionKey value");this.cleanUp(),this.file={type:"file"},this.importOptions={includeCustomColumns:!!this.config.renderImportOptions||void 0,fullSchemaCheck:!this.config.renderImportOptions&&void 0,checkIn:!!this.config.renderCheckIn||void 0},this.uploaderConfig={id:`${this.config.id}_upl_upl`,accept:null!==(n=this.config.allowedTypes)&&void 0!==n?n:"",ignoreSize:this.config.ignoreSize,singleMode:!0}}getFileToUpload(){var e,t;if(!this.file)return;let n;return"file"===this.file.type?this.uploadedFile?(n={type:"file",file:this.uploadedFile,autoSave:null===(e=this.config)||void 0===e?void 0:e.autoSave,namePrefix:null===(t=this.config)||void 0===t?void 0:t.namePrefix},n):(this.controlError[this.file.type]=this.DialogMessages.MessageSelectFile,void alert(this.controlError[this.file.type])):"link"===this.file.type?(this.file.link=this.fileLink,this.file.link?(n={type:"link",link:this.file.link},n):(this.controlError[this.file.type]=this.DialogMessages.MessageSelectLink,void alert(this.controlError[this.file.type]))):void 0}uploadClick(e){var t,r,o,a;return n.__awaiter(this,void 0,void 0,(function*(){const n=this.command,l=null===(t=this.config)||void 0===t?void 0:t.key,c=null===(r=this.config)||void 0===r?void 0:r.sessionKey,u=this.screenService,p=this.client;if(!(u&&p&&l&&n&&c))return;const h=this.getFileToUpload();if(!h)return;const g=!!this.importOptions.checkIn,m=yield p.saveFileInMemory(c,h,this.importOptions);if(!m)return this.controlError[h.type]="file"===h.type?this.DialogMessages.ErrorSelectFile:this.DialogMessages.ErrorSelectLink,void alert(this.controlError[h.type]);this.controlError[h.type]=void 0;(yield u.executeCommand(n,new d.ScreenUpdateParams({commitChanges:!1,blockPage:!0,dialogCallback:{viewName:l,dialogResult:1}},this.element))).succeeded&&(null===(o=e.target)||void 0===o||o.dispatchEvent(new CustomEvent("savedialog",{bubbles:!0})),u.model.screenEventManager.publish(new d.ExecuteCommandEvent("Repaint")),null===(a=this.fileUploadFinished)||void 0===a||a.call(this,{fileInfo:m,checkIn:g}))}))}uploadedFileChanged(){this.uploaderConfig&&(this.uploaderConfig.disableClick=!!this.uploadedFile),this.controlError.file=void 0}fileLinkChanged(){this.controlError.link=void 0}clearUploaded(){this.uploadedFile=void 0}get uploaderText(){var e;return(0,p.createAcceptList)((null===(e=this.config)||void 0===e?void 0:e.allowedTypes)||"*").map((e=>{return`*.${t=e,t.length>0&&"."===t.charAt(0)?t.substring(1):t}`;var t})).join(", ")}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],m.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],m.prototype,"fileUploadFinished",void 0),n.__decorate([r.observable,n.__metadata("design:type",File)],m.prototype,"uploadedFile",void 0),n.__decorate([r.observable,n.__metadata("design:type",String)],m.prototype,"fileLink",void 0),n.__decorate([(0,r.computedFrom)("config","config.allowedTypes"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],m.prototype,"uploaderText",null),m=n.__decorate([o.autoinject,(0,r.customElement)("qp-upload-dialog"),(0,a.configAttributes)(["id","key","sessionKey","caption","width","allowedTypes","ignoreSize","autoSave","namePrefix","renderLink","renderComment","renderImportOptions","renderCheckIn"]),n.__metadata("design:paramtypes",[Element,r.Container])],m),t.QpUploadDialogCustomElement=m;let f=class UploadDialogMessages{};f.RadioUploadFile="Upload file",f.RadioLinkFile="Link to existing file",f.CaptionUploader="Upload file",f.CaptionExistingFile="Existing file",f.CheckboxCustomColumns="Include Data From Custom Columns",f.CheckboxSchemaCheck="Check Database Structure Before Import",f.CaptionComment="Comment",f.CheckboxCheckIn="Check In",f.ButtonUpload="Upload",f.MessageSelectFile="Please select a file to upload",f.MessageSelectLink="Please specify a file link",f.ErrorSelectFile="Invalid file selected",f.ErrorSelectLink="Invalid file link selected",f=n.__decorate([g.localizable],f)}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/dialog/workflow-dialog/qp-workflow-dialog":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpWorkflowDialogCustomElement=t.FilterPreview=void 0;class FilterPreview extends o.PXView{}t.FilterPreview=FilterPreview;let a=class QpWorkflowDialogCustomElement{activateDialog(e){if(this.screen){this.screen.FilterPreview||(this.screen.FilterPreview=(0,o.createSingle)(FilterPreview));this.screen.getScreenService().registerViewBinding(e.detail.dialogElement,FilterPreview.name)}}deactivateDialog(e){var t;if(this.screen){this.screen.getScreenService().unregisterViewBinding(e.detail.dialogElement),(null===(t=e.detail.result)||void 0===t?void 0:t.wasCancelled)&&(this.screen.cancelViewChanges(FilterPreview.name),delete this.screen.FilterPreview)}}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],a.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],a.prototype,"screen",void 0),a=n.__decorate([r.autoinject,(0,r.customElement)("qp-workflow-dialog")],a),t.QpWorkflowDialogCustomElement=a}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/dialog/workflow-dialog/workflow-data-component.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("client-controls/controls/dialog/workflow-dialog/qp-workflow-dialog"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/client-controls.js"),n("./node_modules/client-controls/descriptors/data-component-register.js")],o=function(e,t,n,r,o,a,l,d){"use strict";function calculateDialogWidth(e){var t;const n=Math.min(...(null!==(t=e.fields)&&void 0!==t?t:[]).map((e=>{var t,n,r,o,a,l;return"qp-rich-text-editor"===e.controlType?6:null!==(l=null!==(o=null!==(n=null===(t=e.position.large)||void 0===t?void 0:t.columns)&&void 0!==n?n:null===(r=e.position.medium)||void 0===r?void 0:r.columns)&&void 0!==o?o:null===(a=e.position.small)||void 0===a?void 0:a.columns)&&void 0!==l?l:0})).filter((e=>e>0)));return 12===n?"500px":6===n?"800px":"90vw"}Object.defineProperty(t,"__esModule",{value:!0}),t.WorkflowDataComponent=void 0;let c=class WorkflowDataComponent{constructor(e){this.workflowScreen=e,this.screenService=e.getScreenService()}getQueryParams(e){return{}}setComponentData(e){this.applyWorkflowData(e)}applyWorkflowData(e){var t;if(this.screenService&&this.workflowScreen&&(null==e?void 0:e.viewName)===r.FilterPreview.name){const n=null!==(t=this.workflowScreen.FilterPreview)&&void 0!==t?t:this.workflowScreen.FilterPreview=(0,a.createSingle)(r.FilterPreview);this.config=n.dialog=Object.assign(Object.assign({},e),{width:calculateDialogWidth(e)})}else this.config=void 0}};c=n.__decorate([(0,o.inlineView)('<template><qp-workflow-dialog config.bind="config" screen.bind="workflowScreen"></qp-workflow-dialog></template>'),(0,d.selfRegisterWithName)("AuWorkflowFormsData",{category:d.DataComponentCategory.PageHost}),n.__metadata("design:paramtypes",[l.PXScreen])],c),t.WorkflowDataComponent=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/barcode-input/qp-barcode-input":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("client-controls/controls/simple/text-editor/qp-text-editor"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/descriptors/index.js"),n("client-controls/controls/dialog/informer/qp-informer-rack"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/screen-service.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h){"use strict";var g;Object.defineProperty(t,"__esModule",{value:!0}),t.QpBarcodeInputCustomElement=void 0;const m=(0,a.getLogger)("barcode-input");let f=g=class QpBarcodeInputCustomElement extends l.QpTextEditorCustomElement{constructor(e,t){super(e,t),this.value="",this.screenService=t.get(h.ScreenService)}stateChanged(e,t){super.stateChanged(e,t),this.state.commitChanges&&(0,u.fatalError)(`The barcode control ("${this.state.viewModeName}.${this.state.name}") must not use the "commit changes" option, because it leads to extra server requests. The control uses its own custom commit logic. Please remove &lt;PXFieldOptions.CommitChanges&gt; from the field declaration in ${this.screenService.screenID}.ts`)}configChanged(e,t){super.configChanged(e,t),e.soundControl&&(this.soundFileField=e.soundControl,this.soundSub||this.bindingEngine.propertyObserver(this.soundFileField,"value").subscribe((e=>{var t;!e||!g.allowedToPlay||this.screenService.longRunInProgress&&g.longRunInitialPlayed||(this.soundFileField.value="",g.longRunInitialPlayed=this.screenService.longRunInProgress,null===(t=this.getSound(e))||void 0===t||t.play().catch((t=>m.warn(`Audio file ${e} cannot be played: error ${t}`))))}))),this.config||(this.config={}),(0,p.applyDefaultValues)(this.config,g.defaultBICConfig);const n=["wms_success","wms_error"];for(const e of n)this.getSound(e)}attached(){super.attached(),g.allowedToPlay||(this.commandSub=this.eventAggregator.subscribe(c.CALLBACK_STARTED_EVENT,(e=>{var t;e&&(g.allowedToPlay=!0,null===(t=this.commandSub)||void 0===t||t.dispose())})))}getSound(e){var t,n;let r=g.soundCache.get(e);if(!r){if(!(null===(t=this.config)||void 0===t?void 0:t.soundPath)&&!(null===(n=this.config)||void 0===n?void 0:n.soundMapper))return m.error("Sound will not play: one of soundPath or soundMapper must be set in config"),null;let o=`${d.siteRoot||"/"}`;o.endsWith("/")||(o+="/"),r=new Audio(this.config.soundMapper?this.config.soundMapper(e):`${o}${this.config.soundPath}${e}.wav`),g.soundCache.set(e,r)}return r}processKeyDown(e){return!("Enter"===e.key&&!e.altKey)||(e.preventDefault(),e.stopPropagation(),this.sendUpdateEvent(),this.soundFileField&&(this.soundFileField.value=""),this.tq.queueTask((()=>this.screenEventManager.publish(new c.ExecuteCommandEvent(this.config.submitCommand)))),!1)}detached(){var e,t;null===(e=this.commandSub)||void 0===e||e.dispose(),null===(t=this.soundSub)||void 0===t||t.dispose(),super.detached()}};f.soundCache=new Map,f.allowedToPlay=!1,f.longRunInitialPlayed=!1,f.defaultBICConfig={soundPath:"Sounds/",submitCommand:"Scan",spellcheck:!1},n.__decorate([r.bindable,n.__metadata("design:type",String)],f.prototype,"value",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],f.prototype,"config",void 0),f=g=n.__decorate([r.autoinject,(0,r.customElement)("qp-barcode-input"),n.__metadata("design:paramtypes",[Element,o.Container])],f),t.QpBarcodeInputCustomElement=f}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/branch-selector/qp-branch-selector-3d":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/api-client.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.QpBranchSelector3dCustomElement=void 0;const h={ArrowDown:1,ArrowUp:-1,Down:1,PageDown:7,PageUp:-7,Up:-1};let g=p=class QpBranchSelector3dCustomElement extends l.QpBaseFieldEditor{constructor(e,t,n,r){super(t),this.element=e,this.apiClient=n,this.busyCounter=r,this.highlightedIndex=void 0,this.autoExpandIfLessThen=3,this.treeOpen=!1,this.loadingStatus="in-sync",this.addConfigSetter("graph",(e=>this.syncPropsToConfig("graph",e))),this.addConfigSetter("viewName",(e=>this.syncPropsToConfig("view",e)))}configChanged(){}editModeChanged(e,t){e&&(this.branches||this.loadBranches(),this.selectAllText())}loadBranches(){return n.__awaiter(this,void 0,void 0,(function*(){return this.branchesPromise||(this.loadingStatus="loading",this.busyCounter.increment(),this.branchesPromise=this.apiClient.getBranchTree({dac:this.config.dac,screenId:(0,a.getScreenID)(),view:this.config.view,graph:this.config.graph,screenStateId:this.config.screenStateId}).then((e=>{this.branches=e.data,this.loadingStatus="in-sync",this.tq.flushMicroTaskQueue()})).finally((()=>{this.busyCounter.decrement()}))),this.branchesPromise}))}toggleSelector(e){if(e.preventDefault(),e.stopImmediatePropagation(),this.inputControl.focus(),this.treeOpen)this.hide();else if(this.show(),this.highlightedIndex||this.search(),void 0!==this.highlightedIndex&&this.highlightedIndex>=0){const e=this.highlightedIndex;this.tq.flushTaskQueue(),this.tq.queueTask((()=>this.scrollNodeIntoView(e)))}}select(e,t){e.canSelect&&(this.value={id:e.acctCD,text:e.acctName},this.updateToolTip(),this.hide(),this.tq.queueTask((()=>{this.selectAllText(),this.filter=""}))),null==t||t.preventDefault(),null==t||t.stopImmediatePropagation(),null==t||t.stopPropagation()}handleKey(e){const t=h[e.key];switch(void 0!==t&&this.treeOpen!==e.altKey&&(e.preventDefault(),e.stopImmediatePropagation(),this.moveCursor(t)),e.key){case"Enter":void 0!==this.highlightedIndex&&this.flatStructure[this.highlightedIndex]&&this.select(this.flatStructure[this.highlightedIndex]);break;case"Esc":case"Escape":this.hide(),e.preventDefault(),e.stopImmediatePropagation()}return!0}moveCursor(e){return n.__awaiter(this,void 0,void 0,(function*(){if(!this.treeOpen)if(this.show(),Array.isArray(this.flatStructure)&&0!==this.flatStructure.length){if("number"==typeof this.highlightedIndex&&this.highlightedIndex>=0)return}else if(yield this.loadBranches(),!Array.isArray(this.flatStructure)||0===this.flatStructure.length)return;if("number"!=typeof this.highlightedIndex||this.highlightedIndex<0)this.selectFirst();else{let t=this.highlightedIndex+e;const n=e>0?1:-1,r=(e>0?this.flatStructure.length:0)+n;for(t<0&&(t=0),t>=this.flatStructure.length&&(t=this.flatStructure.length-1);t!==r;t+=n)if(this.flatStructure[t].canSelect){this.highlightedIndex=t;break}}this.tq.flushTaskQueue(),this.scrollNodeIntoView(this.highlightedIndex||0)}))}selectFirst(e){if(this.highlightedIndex=void 0,void 0===e){if(this.value&&this.value.id){const e=this.flatStructure.filter((e=>e.acctCD===this.value.id));if(e.length>1)if(e[0].primaryGroupID){const e=this.flatStructure.findIndex((e=>e.acctCD===this.value.id&&e.primaryGroupID===e.parentBAccountID));this.highlightedIndex=-1===e?0:e}else if("branch"===e[0].type){const t=this.flatStructure.findIndex((t=>t.bAccountID===e[0].parentBAccountID&&t.parentBAccountID===t.primaryGroupID)),n=this.flatStructure.findIndex(((e,n)=>n>t&&e.acctCD===this.value.id));this.highlightedIndex=-1===n?0:n}else{const e=this.flatStructure.findIndex((e=>e.acctCD===this.value.id));this.highlightedIndex=-1===e?0:e}else{const e=this.flatStructure.findIndex((e=>e.AcctCD===this.value.id));this.highlightedIndex=-1===e?0:e}}}else for(let t=0;t<this.flatStructure.length;t++)if(this.flatStructure[t].canSelect&&(""===e||this.flatStructure[t].displaySegments.length>1)){this.highlightedIndex=t;break}if(void 0!==this.highlightedIndex&&this.highlightedIndex>=0){const e=this.highlightedIndex;this.tq.flushTaskQueue(),this.tq.queueTask((()=>this.scrollNodeIntoView(e)))}}search(e){return n.__awaiter(this,void 0,void 0,(function*(){this.show(),this.filter=e,this.branches||(yield this.loadBranches()),this.selectFirst(e)}))}toolTipShown(){return n.__awaiter(this,void 0,void 0,(function*(){this.updateToolTip()}))}updateToolTip(){return n.__awaiter(this,void 0,void 0,(function*(){if(!this.value||!this.value.id)return void(this.toolTip=[]);this.branches||(this.toolTip=[],this.toolTip.push(`${this.value.id}${this.value.text?` - ${this.value.text}`:""}`),yield this.loadBranches());const{id:e}=this.value;if(e){let e=-1;const t=[];do{e=this.flatStructure.findIndex(((t,n)=>n>e&&t.AcctCD===this.value.id)),e>-1&&t.push(e)}while(-1!==e);for(e=0;e<t.length;e++){const n=t[e];let r=n>0&&this.flatStructure[n].level>0?n-1:-1;if(r>0)for(;r>0&&!(this.flatStructure[r].level<this.flatStructure[n].level);r--);let o=r>0&&this.flatStructure[r].level>0?r-1:-1;if(o>0)for(;o>0&&!(this.flatStructure[o].level<this.flatStructure[r].level);o--);if((this.flatStructure[n].parentBAccountID===this.flatStructure[n].primaryGroupID||void 0===this.flatStructure[n].primaryGroupID)&&(r<0||this.flatStructure[r].parentBAccountID===this.flatStructure[r].primaryGroupID||void 0===this.flatStructure[r].primaryGroupID)&&(o<0||this.flatStructure[o].parentBAccountID===this.flatStructure[o].pimaryGroupID||void 0===this.flatStructure[o].primaryGroupID)){this.toolTip=[],o>-1&&this.toolTip.push(`${this.flatStructure[o].acctCD}${this.flatStructure[o].acctName?` - ${this.flatStructure[o].acctName}`:""}`),r>-1&&this.toolTip.push(`${this.flatStructure[r].acctCD}${this.flatStructure[r].acctName?` - ${this.flatStructure[r].acctName}`:""}`),this.toolTip.push(`${this.value.id}${this.value.text?` - ${this.value.text}`:""}`);break}}}}))}get ROMode(){var e,t;return(null===(e=this.config)||void 0===e?void 0:e.readOnly)||!1===(null===(t=this.config)||void 0===t?void 0:t.enabled)}onFocus(){var e;return null===(e=this.inputControl)||void 0===e||e.select(),!0}onBlur(){var e,t,n,r;if(!1!==this.config.enabled&&!this.config.readOnly)if(""===this.inputControl.value.trim())(null===(e=this.value)||void 0===e?void 0:e.id)&&(this.value={id:"",text:""});else if(this.inputControl.value.trim()!==(null===(n=null===(t=this.value)||void 0===t?void 0:t.id)||void 0===n?void 0:n.trim())){const e=null===(r=this.flatStructure)||void 0===r?void 0:r.find((e=>e.acctCD.trim().toLowerCase()===this.inputControl.value.trim().toLowerCase()));this.value=e?{id:e.acctCD,text:e.acctName}:{id:this.inputControl.value,text:""}}return this.filter="",this.hide(),!0}syncPropsToConfig(e,t){this.config&&(this.config[e]=t)}static findParent(e,t){var n,r;if(e)for(const o of t){if(null===(n=o.children)||void 0===n?void 0:n.find((t=>t.acctCD===e.acctCD&&t.primaryGroupID===t.parentBAccountID)))return o;if(null===(r=o.children)||void 0===r?void 0:r.find((t=>t.acctCD===e.acctCD)))return o;if(o.children){const t=p.findParent(e,o.children);if(t)return t}}}findFilteredParent(e){var t;for(const n of this.filtered){if(n.bAccountID===e.bAccountID&&n.parentBAccountID===e.parentBAccountID)return n;if(null===(t=n.children)||void 0===t?void 0:t.length)for(const t of n.children)if(t.bAccountID===e.bAccountID&&t.parentBAccountID===e.parentBAccountID)return t}}toggleExpand(e,t){const n=this.findFilteredParent(e);if(n){const t=p.findParent(n,this.filtered);n.expand=!n.expand,e.expand=n.expand;const r=this.flatStructure.indexOf(e)+1;if(!1===e.expand){let t=this.flatStructure.findIndex((function(t,n){return!(n<r||t.level>e.level)}));-1===t&&(t=this.flatStructure.length);const n=t-r;n>0&&r<this.flatStructure.length&&this.flatStructure.splice(r,n)}else{let e=!1;t&&(e=t.children.indexOf(n)===t.children.length-1);const o=this.flatten(n.children,n.level+1,e);this.flatStructure.splice(r,0,...o)}}t.stopPropagation(),t.stopImmediatePropagation()}scrollNodeIntoView(e){var t,n;let r;r="nearest",e===(null===(t=this.flatStructure)||void 0===t?void 0:t.length)-1&&(r="start");const o=null===(n=this.treeView)||void 0===n?void 0:n.querySelectorAll(".branch-selector__node")[e];if(o){const e="scrollBehavior"in document.documentElement.style?{block:r}:void 0;o.scrollIntoView(e)}}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}show(){this.documentMouseDownSubscription=this.eventAggregator.subscribe(d.MOUSE_DOWN_REACHED_BODY,(()=>this.hide())),this.treeOpen=!0}hide(){this.unsubscribeFromMouseDownOnDocument(),this.treeOpen=!1}ignoreMouseDown(e){e.preventDefault(),e.stopImmediatePropagation()}selectAllText(){const e=this.inputControl.value.length;this.inputControl.setSelectionRange(0,e)}highlight(e){this.highlightedNode=e,e.canSelect&&(this.highlightedIndex=this.flatStructure.indexOf(e))}flatten(e,t,n,r=[]){var o,a,l;for(let d=0;d<e.length;d++){const c=e[d];c.level=t,c.lastChild=n;const u=this.value&&this.value.id&&(null===(o=c.children)||void 0===o?void 0:o.find((e=>{var t;return e.acctCD===this.value.id||(null===(t=e.children)||void 0===t?void 0:t.find((e=>e.acctCD===this.value.id)))})));let p=!!u;p&&(null==u?void 0:u.primaryGroupID)&&u.primaryGroupID!==u.parentBAccountID&&(p=!1),c.expand=c.expand||(null===(a=c.children)||void 0===a?void 0:a.length)&&(null===(l=c.children)||void 0===l?void 0:l.length)<=this.autoExpandIfLessThen||p,r.push(c),c.expand&&c.children&&(c.expand=!0,this.flatten(c.children,t+1,d===e.length-1,r))}return r}conditionsChanged(){if(!Array.isArray(this.branches))return;this.highlightedIndex=void 0;const e=this.filter&&this.filter.toLocaleLowerCase()||"";this.filtered=function filterBranches(e,t){var n;const r=[];for(const o of e){const{acctCD:e,acctName:l,bAccountID:d,parentBAccountID:c,canSelect:u,type:p,primaryGroupID:h}=Object.assign({},o),g=(null===(n=o.children)||void 0===n?void 0:n.length)?filterBranches(o.children,t):[];(g.length||e.toLocaleLowerCase().indexOf(t)>-1||l.toLocaleLowerCase().indexOf(t)>-1)&&r.push({acctCD:e,acctName:l,bAccountID:d,children:g.length?g:void 0,parentBAccountID:c,primaryGroupID:h,type:g.length?p:"branch",canSelect:u,displaySegments:(0,a.markHighlights)(t,`${e} - ${l}`)})}return r}(this.branches,e);const t=this.flatten(this.filtered,0,1===this.filtered.length);this.flatStructure=t}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],g.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],g.prototype,"value",void 0),n.__decorate([(0,r.observable)({changeHandler:"conditionsChanged"}),n.__metadata("design:type",Object)],g.prototype,"branches",void 0),n.__decorate([(0,r.observable)({changeHandler:"conditionsChanged"}),n.__metadata("design:type",Object)],g.prototype,"filter",void 0),n.__decorate([r.observable,n.__metadata("design:type",Object)],g.prototype,"autoExpandIfLessThen",void 0),n.__decorate([(0,r.computedFrom)("config.readOnly","config.enabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],g.prototype,"ROMode",null),g=p=n.__decorate([(0,r.customElement)("qp-branch-selector"),r.autoinject,n.__metadata("design:paramtypes",[Element,c.Container,o.ApiClient,u.BusyCounter])],g),t.QpBranchSelector3dCustomElement=g}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/button/qp-button":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/index.js"),n("client-controls/controls/dialog/informer/qp-informer-rack")],o=function(e,t,n,r,o,a,l,d,c){"use strict";var u;Object.defineProperty(t,"__esModule",{value:!0}),t.QpButtonCustomElement=void 0;let p=class Messages{};p.OK="OK",p.Cancel="Cancel",p.Abort="Abort",p.Retry="Retry",p.Ignore="Ignore",p.Yes="Yes",p.No="No",p=n.__decorate([d.localizable],p);let h=u=class QpButtonCustomElement{constructor(e,t,n){this.element=e,this.eventAggregator=t,this.screenEventManager=n,this.pushed=!1,this.imageSrc="",this.currentMouseType="normal",this.styleChanged=!1,this.Messages=p,this.menuOpen=!1,this.currentMode="normal",this.isMouseOver=!1,this.element.removeAttribute("style"),this.config={},(0,l.applyDefaultValues)(this.config,u.defaultConfig)}configChanged(e,t){this.config||(this.config={}),(0,l.applyDefaultValues)(this.config,u.defaultConfig),this.config.id||(this.config.id=`${this.element.getAttribute("id")}_btn`||""),this.config.toggleMode&&(this.pushed=this.config.pushed||!1),this.config.images||(this.config.images={}),this.config.imageUrl?this.config.images.normal=this.config.imageUrl:this.config.imageSet&&this.config.imageKey&&(this.config.images.normal=`${this.config.imageSet}@${this.config.imageKey}`),this.config.images.hover||(this.config.images.hover=this.config.images.normal),this.config.images.dropDown||(this.config.images.dropDown=this.config.images.pushed),this.config.images.pushed||(this.config.images.pushed=this.config.images.dropDown),this.config.images.pushed||(this.config.images.pushed=this.config.images.hover),this.config.images.disabled||(this.config.images.disabled=this.config.images.normal),this.imageSrc=this.config.images[this.currentMode],void 0!==this.hidden&&this.hiddenChanged(this.hidden),void 0!==this.enabled&&this.enabledChanged(this.enabled),void 0!==this.caption&&this.captionChanged(this.caption),this.config.dialogResult=(0,a.getDialogResultCode)(this.config.dialogResult)}stateChanged(){var e;if(!this.state)return;const t=this.state,n={id:(null===(e=this.config)||void 0===e?void 0:e.id)||"",text:t.text,action:t.commandName,hidden:!t.visible,enabled:t.enabled,imageSet:t.imageSet,imageKey:t.imageKey,imageUrl:t.imageUrl,toolTip:t.tooltip};this.config?Object.assign(this.config,n):this.config=n,this.configChanged(this.config,this.config)}hiddenChanged(e){this.config&&(this.config.hidden=e)}enabledChanged(e){this.config&&(this.config.enabled=e)}captionChanged(e){this.config&&(this.config.text=e)}dialogResultChanged(e){if(this.config&&(this.config.dialogResult=(0,a.getDialogResultCode)(e),void 0===this.config.text)){const t=a.WebDialogResult[this.config.dialogResult];void 0===t&&(0,c.fatalError)(`The button (id=${this.element.id}) does not set a caption, so a valid dialog-result must be provided (found "${e}")`,this.element),this.config.text=this.Messages[t]}}imageSrcChanged(e,t){if(this.config){if(this.config.enabled&&"disabled"===this.currentMode)this.currentMode="normal";else if(this.config.enabled)switch(this.currentMouseType){case"hover":this.currentMode=this.currentMouseType;break;case"pushed":this.menuOpen?this.currentMode="dropDown":this.currentMode=this.currentMouseType;break;case"normal":this.pushed?this.currentMode="pushed":this.currentMode=this.currentMouseType}else this.currentMode="disabled";this.config.images&&(this.imageSrc=this.config.images[this.currentMode])}else this.imageSrc=void 0}handleState(e){var t;if(null===(t=this.config)||void 0===t?void 0:t.enabled)switch(e.type){case"mouseover":this.currentMouseType="hover";break;case"mouseout":this.menuOpen?this.currentMouseType="pushed":this.currentMouseType="normal";break;case"mousedown":document.activeElement&&document.activeElement.blur(),this.currentMouseType="pushed";break;case"mouseup":this.pushed||this.menuOpen?this.currentMouseType="pushed":this.currentMouseType="hover"}}processMouseOver(e){this.isMouseOver=!0,this.handleState(e)}processMouseOut(e){this.isMouseOver=!1,this.handleState(e)}processPointerDown(e){return this.handleState(e),this.buttonElement.setPointerCapture(e.pointerId),!0}processPointerUp(e){isMouseOrPointerEvent(e)&&e.buttons>0&&!this.isPointInside(e.clientX,e.clientY)||this.handleState(e)}processPointerCancel(e){this.buttonElement.releasePointerCapture(e.pointerId)}detached(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}processClick(e,t=!1){var n,r;if(isMouseOrPointerEvent(e)&&e.buttons>0&&!this.isPointInside(e.clientX,e.clientY))return;const o=new a.ScreenUpdateParams({dialogCallback:{dialogResult:this.config.dialogResult,validateInput:this.config.validateInput}});if(this.screenEventManager.publish(new a.ExecuteCommandEvent(this.config.action,o)),this.config.action)return;if(this.config.popupPanel&&this.screenEventManager.publish(new a.OpenPopupEvent(this.config.popupPanel)),!(null===(n=this.config)||void 0===n?void 0:n.enabled))return!0;this.config.toggleMode&&(this.pushed=!this.pushed),this.config.options&&(this.menuOpen=!this.menuOpen,this.isMouseOver=!1);const l={event:e,value:e instanceof CustomEvent?e.detail.value:this.pushed,isMenuItem:t,config:this.config};this.documentMouseDownSubscription=this.eventAggregator.subscribe(a.MOUSE_DOWN_REACHED_BODY,(()=>{this.menuOpen=!1,this.isMouseOver=!1}));const d=new CustomEvent("buttonpressed",{bubbles:!0,detail:l});if(this.element.dispatchEvent(d),!(null===(r=this.config)||void 0===r?void 0:r.captureClick))return!0;e.stopPropagation()}processMenuClick(e){return this.processClick(e,!0)}isPointInside(e,t){const n=this.buttonElement.getBoundingClientRect();return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom}};h.defaultConfig={enabled:!0,dialogResult:a.WebDialogResult.None,validateInput:!1},n.__decorate([r.bindable,n.__metadata("design:type",Object)],h.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],h.prototype,"hidden",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],h.prototype,"enabled",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],h.prototype,"caption",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],h.prototype,"dialogResult",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],h.prototype,"pushed",void 0),n.__decorate([r.bindable,n.__metadata("design:type",a.PXActionState)],h.prototype,"state",void 0),n.__decorate([(0,r.observable)({changeHandler:"imageSrcChanged"}),n.__metadata("design:type",String)],h.prototype,"currentMouseType",void 0),n.__decorate([(0,r.observable)({changeHandler:"imageSrcChanged"}),n.__metadata("design:type",Boolean)],h.prototype,"styleChanged",void 0),h=u=n.__decorate([(0,r.customElement)("qp-button"),r.autoinject,n.__metadata("design:paramtypes",[Element,o.EventAggregator,a.QpEventManager])],h),t.QpButtonCustomElement=h;const isMouseOrPointerEvent=e=>e instanceof MouseEvent||e instanceof PointerEvent}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/calendar/qp-calendar":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/index.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/services/localizations-service.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/utils/control-helper.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h){"use strict";var g;Object.defineProperty(t,"__esModule",{value:!0}),t.QpCalendarCustomElement=t.StringToIntValueConverter=void 0;const m=(0,a.getLogger)("qp-calendar");t.StringToIntValueConverter=class StringToIntValueConverter{toView(e){return null==e?"":e.toString()}fromView(e){return parseInt(e)}};const f=7,v=12,b=.25,y=.5;let _=g=class QpCalendarCustomElement{constructor(e,t){this.elem=e,this.container=t,this.timer=void 0,this.down=!1,this.required=!1,this.year=NaN,this.month=NaN,this.monthNames=[],this.shortMonthNames=[],this.shortDayNames=[],this.yearFix=0,this.firstDayOfWeek=0,this.locale="en-US",this.enableMonthChange=!0,this.allowClicks=!1,this._bindMouseUpYearSel=e=>this.onMouseUpYearSel(e),this._bindMouseDownYearSel=e=>this.onMouseDownYearSel(e),this.formats={showDOWHeader:!0,showOtherMonthDays:!0,showWeekNumber:!0,nextPrevFormat:0},(0,h.isLegacyEnv)()?this.dateFormatInfo=(0,p.dateFormatInfo)():this.dateFormatInfo=this.container.get(u.LocalizationsService).getLocalePreferences("datetime"),this.dateFormatInfo?(this.monthNames=this.dateFormatInfo.monthNames.split(","),this.shortMonthNames=this.dateFormatInfo.abbrMonthNames.split(","),this.shortDayNames=this.dateFormatInfo.abbrDayNames.split(","),this.yearFix=this.dateFormatInfo.yearFix?this.dateFormatInfo.yearFix:0):(this.monthNames=g._MN,this.shortMonthNames=g._SMN,this.shortDayNames=g._SDN),this.todayDate=new Date,this.todayString=this.todayDateToString()}get monthPanel(){return function getWeeksInMonth(e,t){const n=[],r=getLastDayInMonth(e).getDate();let o=function getLeadingDays(e,t){const n=[],r=function getBeginningOfMonth(e){return new Date(e.getFullYear(),e.getMonth())}(e),o=(r.getDay()-t+f)%f,a=function getLastDayInPreviousMonth(e){return new Date(e.getFullYear(),e.getMonth(),0)}(r),l=a.getDate();for(let e=l-o+1;e<=l;++e)n.push({dayOfMonth:e,leadingDay:!0,date:new Date(a.getFullYear(),a.getMonth(),e)});return n}(e,t);for(let t=1;t<=r;++t)o.push({dayOfMonth:t,inCurrentMonth:!0,date:new Date(e.getFullYear(),e.getMonth(),t)}),o.length===f&&(n.push(o),o=[]);o=o.concat(function getTrailingDays(e,t){const n=[],r=(t+f-1)%f,o=getLastDayInMonth(e),a=o.getDay(),l=(r-a+f)%f;for(let e=1;e<=l;++e)n.push({dayOfMonth:e,trailingDay:!0,date:new Date(o.getFullYear(),o.getMonth()+1,e)});return n}(e,t)),o.length>0&&n.push(o);n.length<6&&n.push(function getTrailingWeek(e,t){const n=[],r=(t+f-1)%f,o=getLastDayInMonth(e),a=o.getDay(),l=(r-a+f)%f;for(let e=l+1;e<=l+f;++e)n.push({dayOfMonth:e,trailingDay:!0,date:new Date(o.getFullYear(),o.getMonth()+1,e)});return n}(e,t));return n}(new Date(this.year,this.month,1),this.firstDayOfWeek)}selectTheDate(e,t){return this.value=e,this.syncMonthYear(),this.monthPaneEle&&this.monthPaneEle.focus(),this.commitSelection(this.value),e.toJSON=()=>{const t=new Date(e);return t.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setUTCHours(0,0,0,0),t.toISOString()},t&&t.stopPropagation(),!1}selectCustomItem(e,t){return this.value=e,this.commitSelection(this.value),t&&t.stopPropagation(),!1}onChangeYearSel(e){this.closeYearSel(),e.blur()}onScrollYearSel(e){if(e.oldScrollTop===e.scrollTop||null==e.oldScrollTop)return;const t=e.clientHeight;e.scrollTop>=.75*t||e.scrollTop<=t*b?e.scrollTop>=.75*t?(e.oldScrollTop=Math.round(.75*t),e.scrollTop=e.oldScrollTop,this.down?this.timer||(this.timer=setInterval((()=>this.scrollDown()),50)):(clearTimeout(this.timer),this.timer=setTimeout((()=>this.scrollBackToCenter(this.yearSelection)),100),this.scrollDown())):e.scrollTop<=t*b&&(e.oldScrollTop=Math.round(t*b),e.scrollTop=e.oldScrollTop,this.down?this.timer||(this.timer=setInterval((()=>this.scrollUp()),50)):(clearTimeout(this.timer),this.timer=setTimeout((()=>this.scrollBackToCenter(this.yearSelection)),100),this.scrollUp())):(clearInterval(this.timer),this.timer=void 0,e.oldScrollTop=e.scrollTop)}scrollUp(){this.year--,this.renderSelectForIE()}scrollDown(){this.year++,this.renderSelectForIE()}renderSelectForIE(){(o.browser.isIE||o.browser.isIE11)&&setTimeout((()=>{var e,t;null===(e=this.yearSelection)||void 0===e||e.add(document.createElement("option"),null),null===(t=this.yearSelection)||void 0===t||t.remove(this.yearSelection.options.length-1)}),0)}scrollBackToCenter(e){if(!e)return;clearInterval(this.timer),this.timer=void 0;const t=e.clientHeight,n=t*y-e.scrollTop?t*y-e.scrollTop<0?-1:1:0;e.oldScrollTop=void 0,e.scrollTop=(t-n*t*y)*y;let r=0;this.timer=setInterval((()=>{if(e.scrollTop=(t-n*(3-r)*t*y/3)*y,r++,r>3)return e.oldScrollTop=e.scrollTop,clearInterval(this.timer),void(this.timer=void 0)}),50)}onMouseOut(e){(o.browser.isIE||o.browser.isIE11)&&this.onMouseUpYearSel(e)}onMouseUpYearSel(e){this.down&&(this.down=!1,this.scrollBackToCenter(this.yearSelection))}onMouseDownYearSel(e){this.down=!0}onKeyDownYearSel(e){switch(e.key){case"PageUp":this.year-=13,e.preventDefault(),e.stopPropagation();break;case"PageDown":this.year+=13,e.preventDefault(),e.stopPropagation();break;case"Up":case"ArrowUp":this.year--,this.renderSelectForIE();break;case"Down":case"ArrowDown":this.year++,this.renderSelectForIE()}}onFocusYearSel(e){e&&(this.yearSelection=e,this.openYearSel(),this.yearSelection.scrollTop=Math.round(e.clientHeight*y),this.yearSelection.oldScrollTop=this.yearSelection.scrollTop,this.yearSelection.addEventListener("mouseup",this._bindMouseUpYearSel),this.yearSelection.addEventListener("mousedown",this._bindMouseDownYearSel))}onBlurYearSel(e){var t,n;null===(t=this.yearSelection)||void 0===t||t.removeEventListener("mouseup",this._bindMouseUpYearSel),null===(n=this.yearSelection)||void 0===n||n.removeEventListener("mousedown",this._bindMouseDownYearSel),this.closeYearSel(),clearInterval(this.timer),e.oldScrollTop=void 0,this.timer=void 0,this.down=!1}closeYearSel(){this.yearSelection.size=1,this.yearSelection.classList.remove("opened"),this.yearSelection.classList.add("closed")}openYearSel(){this.yearSelection.size=13,this.yearSelection.classList.remove("closed"),this.yearSelection.classList.add("opened")}syncMonthYear(){this.value instanceof Date?(this.month=this.value.getMonth(),this.year=this.value.getFullYear()):(this.month=this.todayDate.getMonth(),this.year=this.todayDate.getFullYear())}commitSelection(e){const t=new CustomEvent("valuechanged",{bubbles:!0,detail:{value:this.value}});this.elem.dispatchEvent(t)}ignoreClicks(e){return e.stopImmediatePropagation(),!0}monthChanged(e){this.renderHintsToPrevNextMonths(e)}attached(){m.info("attached() of ",this.config&&this.config.id),this.syncMonthYear(),this.renderHintsToPrevNextMonths(this.month),this.monthPaneEle&&this.monthPaneEle.focus()}configChanged(e,t){m.info("configChanged() of ",e,t),this.config||(this.config={}),this.config.todayDate&&(this.todayDate=this.config.todayDate),this.config.todayString&&(this.todayString=this.config.todayString),null!=this.config.firstDayOfWeek&&(this.firstDayOfWeek=this.config.firstDayOfWeek),this.syncMonthYear()}keyDown(e){m.info(`${e.key} pressed`);let t=!0;switch(e.key){case"Down":case"ArrowDown":this.advanceDate(0,0,f);break;case"Up":case"ArrowUp":this.advanceDate(0,0,-f);break;case"Right":case"ArrowRight":this.advanceDate(0,0,1);break;case"Left":case"ArrowLeft":this.advanceDate(0,0,-1);break;case"PageUp":this.advanceDate(0,-1,0);break;case"PageDown":this.advanceDate(0,1,0);break;case"Home":this.advanceDate(-1,0,0);break;case"End":this.advanceDate(1,0,0);break;case"Space":this.value=this.todayDate,this.syncMonthYear();break;case"Enter":this.commitSelection(this.value);break;case"Esc":case"Escape":this.commitSelection(void 0);break;default:t=!1}return!t||(e.stopPropagation(),!1)}advanceDate(e,t,n){this.value instanceof Date&&(this.value=new Date(this.value.getFullYear()+e,this.value.getMonth()+t,this.value.getDate()+n),this.syncMonthYear())}todayDateToString(){let e;return e=this.dateFormatInfo&&this.dateFormatInfo.shortDate?(0,l.formatDate)(this.todayDate,this.dateFormatInfo.shortDate,this.dateFormatInfo):Intl.DateTimeFormat(this.locale).format(this.todayDate),r.PLATFORM.global.px?e:(0,d.Format)(g.TodayIs,{date:e})}renderHintsToPrevNextMonths(e){const t=(v+e-1)%v,n=(v+e+1)%v;this.prevMonthEle&&r.PLATFORM.global.px&&r.PLATFORM.global.px.setTitle(this.prevMonthEle,this.monthNames[t]),this.nextMonthEle&&r.PLATFORM.global.px&&r.PLATFORM.global.px.setTitle(this.nextMonthEle,this.monthNames[n])}handleMonthChange(e,t){return this.month+=e,this.month<0?(this.month=11,this.year--):this.month>=v&&(this.month=0,this.year++),this.ignoreClicks(t),!1}isTheSame(e,t){return e instanceof Date&&t instanceof Date&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}isWeekend(e){const t=e.getDay();return 0===t||t===f-1}getWeekNumber(e){if(void 0===e||e.length<f)return 0;const t=e[4].date;if(void 0===t)return 0;const n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=n.getDay();n.setDate(n.getDate()-(r+f-1)%f+4-1);const o=n.valueOf();return n.setMonth(0),n.setDate(4),Math.round((o-n.valueOf())/(864e5*f))+1}};function getLastDayInMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}_.TodayIs="Today is {date}",_._nextPrevShortMonth=1,_._nextPrevFullMonth=2,_._daysInWeek=7,_._MN=["January","February","March","April","May","June","July","August","September","October","November","December"],_._SMN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_._SDN=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],_._selectMode=0,_._addSelectionMode=1,_._rangeSelectionMode=2,n.__decorate([(0,r.computedFrom)("year","month"),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[])],_.prototype,"monthPanel",null),n.__decorate([r.bindable,n.__metadata("design:type",Object)],_.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],_.prototype,"value",void 0),n.__decorate([r.observable,n.__metadata("design:type",Number)],_.prototype,"month",void 0),n.__decorate([d.localizable,n.__metadata("design:type",String)],_,"TodayIs",void 0),_=g=n.__decorate([r.autoinject,(0,r.customElement)("qp-calendar"),n.__metadata("design:paramtypes",[Element,c.Container])],_),t.QpCalendarCustomElement=_}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/caption/qp-caption":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/services/index.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpCaptionCustomElement=void 0;let l=class QpCaptionCustomElement{constructor(){this.hiddenByPrefs=!1,this.viewMode=o.ViewMode.View,this.msg=a.Messages}};l.defaultConfig={enabled:!0,dialogResult:0},n.__decorate([r.bindable,n.__metadata("design:type",String)],l.prototype,"caption",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],l.prototype,"hideCaption",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],l.prototype,"hiddenByPrefs",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],l.prototype,"viewMode",void 0),l=n.__decorate([(0,r.customElement)("qp-caption"),r.containerless],l),t.QpCaptionCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/check-box/qp-check-box":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d){"use strict";var c;Object.defineProperty(t,"__esModule",{value:!0}),t.QpCheckBoxCustomElement=t.IntToBoolValueConverter=void 0;(0,o.getLogger)("check-box");t.IntToBoolValueConverter=class IntToBoolValueConverter{toView(e,t){return!!e}fromView(e,t){return e}};let u=c=class QpCheckBoxCustomElement extends a.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,this.addConfigSetter("displayName","label")}configChanged(e,t){this.config||(this.config={}),(0,d.applyDefaultValues)(this.config,c.defaultConfig)}toggleValue(e){return!(!e.altKey||!e.ctrlKey)||(e.target===this.element||(this.value=!this.value,e.stopPropagation(),!1))}};u.defaultConfig={enabled:!0,required:!1,trueValue:"true",falseValue:"false"},n.__decorate([r.bindable,n.__metadata("design:type",Object)],u.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],u.prototype,"value",void 0),u=c=n.__decorate([(0,r.customElement)("qp-check-box"),r.autoinject,n.__metadata("design:paramtypes",[Element,l.Container])],u),t.QpCheckBoxCustomElement=u}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/color-picker/qp-color-palette":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework")],o=function(e,t,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.QpColorPaletteCustomElement=void 0,function(e){let t;class RgbColorSample{constructor(e,n){this.wellknownName=n,"string"==typeof e?(this.color=e,this.rgb=function parseColor(e){var n,r;const o=[e=>{var t,n;const r=null!==(n=(null!==(t=e.match(/^#([0-9a-f]{6})$/i))&&void 0!==t?t:[])[1])&&void 0!==n?n:"";if(r)return{r:parseInt(r.substring(0,2),16),g:parseInt(r.substring(2,4),16),b:parseInt(r.substring(4,6),16)}},e=>{const t=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(t)return{r:parseInt(t[1]),g:parseInt(t[2]),b:parseInt(t[3])}}],convert=e=>{for(const t of o){const n=t(e);if(n)return n}};return null!==(r=null!==(n=convert(e))&&void 0!==n?n:(e=>(t||(t=document.createElement("div"),t.style.display="none",document.body.appendChild(t)),t.style.color=e,convert(window.getComputedStyle(t).color)))(e))&&void 0!==r?r:{r:0,g:0,b:0}}(e)):(this.rgb=e,this.color=function hexColor(e){const{r:t,g:n,b:r}=e;return"#"+(("0"+Math.round(t).toString(16)).slice(-2)+("0"+Math.round(n).toString(16)).slice(-2)+("0"+Math.round(r).toString(16)).slice(-2)).toUpperCase()}(e))}get textColor(){return function getTextColor(e){const contrastRatio=(e,t)=>(Math.max(e,t)+.05)/(Math.min(e,t)+.05),{r:t,g:n,b:r}=e,o=((e,t,n)=>{const r=[e,t,n].map((e=>e/255)),[o,a,l]=r.map((e=>e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)));return.2126*o+.7152*a+.0722*l})(t,n,r),a=contrastRatio(o,0);return contrastRatio(o,1)<a?"black":"white"}(this.rgb)}get description(){return`${this.wellknownName||this.color}, ${function rgbColor(e){const{r:t,g:n,b:r}=e;return`rgb(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)})`}(this.rgb)}, ${function hslColor(e){const{h:t,s:n,l:r}=e;return`hsl(${Math.round(t)}, ${Math.round(n)}%, ${Math.round(r)}%)`}(function rgbToHsl(e){let{r:t,g:n,b:r}=e;t/=255,n/=255,r/=255;const o=Math.max(t,n,r),a=Math.min(t,n,r),l=o-a;let d=0,c=0,u=(o+a)/2;return 0===l?d=0:o===t?d=(n-r)/l%6:o===n?d=(r-t)/l+2:o===r&&(d=(t-n)/l+4),d=Math.round(60*d),d<0&&(d+=360),c=0===l?0:l/(1-Math.abs(2*u-1)),c=Math.round(100*c),u=Math.round(100*u),{h:d,s:c,l:u}}(this.rgb))}`}}class HslColorSample extends RgbColorSample{constructor(e){super(function hslToRgb(e){let t,n,r,{h:o,s:a,l}=e;if(o/=360,a/=100,l/=100,0===a)t=n=r=l;else{const hue2rgb=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e),e=l<.5?l*(1+a):l+a-l*a,d=2*l-e;t=hue2rgb(d,e,o+1/3),n=hue2rgb(d,e,o),r=hue2rgb(d,e,o-1/3)}return{r:Math.round(255*t),g:Math.round(255*n),b:Math.round(255*r)}}(e))}}e.HslColorSample=HslColorSample;class HslColorRow{constructor(e,t){this.samples=[];for(let n=0,r=340/(t-1);n<t;n++)this.samples.push(new HslColorSample({h:10+n*r,s:100-e/5,l:e}))}}function lightnessLevel(e,t,n=(e=>e)){return 100*n(e)/n(t-1)}e.HslColorRow=HslColorRow;e.HslPalette=class HslPalette{constructor(e){this.rows=[];for(let t=e.rowCount-1;t>=0;t--)this.rows.push(new HslColorRow(lightnessLevel(t+2,e.rowCount+2+2),e.columnCount))}};e.GreyScalePalette=class GreyScalePalette{constructor(e){this.rows=[];const t=[];for(let n=0;n<e.columnCount;n++)t.push(new HslColorSample({h:0,s:0,l:lightnessLevel(n,e.columnCount,(e=>Math.log2(e+1)))}));this.rows.push({samples:t})}};class GenericPalette{constructor(e){this.rows=[];const t=[],n=GenericPalette.getPattern();for(let r=0;r<e.columnCount;r++)t.push(n[r%n.length]);this.rows.push({samples:t})}}GenericPalette.getPattern=()=>{const e="Dark red,Red,Dark orange,Yellow,Lime,Cyan,Cornflower blue,Blue,Dark violet,Fuchsia".split(",").map((e=>e.trim())).filter((e=>!!e)).map((e=>new RgbColorSample(e.toLowerCase().replace(/\s/g,""),e)));return GenericPalette.getPattern=()=>e,e},e.GenericPalette=GenericPalette;e.UserPalette=class UserPalette{constructor(e){this.rows=[],this.adjustable=!0,this.maxSize=0,this.maxSize=e.columnCount,this.rows.push({samples:[]});for(let t=0;t<Math.min(this.maxSize-1,e.userColors.length);t++)this.add(e.userColors[t])}add(e){if(!e)return;const t=this.rows[0].samples;t.find((t=>t.color===e))||(t.push(new RgbColorSample(e)),t.length===this.maxSize&&t.splice(0,1))}}}(o||(o={}));let a=class QpColorPaletteCustomElement{constructor(e){this.element=e,this.rows=6,this.columns=10,this.allowNull=!1,this.userColors=[],this.allowAdjust=!1,this.palettes=[]}createPalette(){var e;const t={rowCount:this.rows,columnCount:this.columns,userColors:null!==(e=this.userColors)&&void 0!==e?e:[]};this.palettes.push(...[o.GreyScalePalette,o.GenericPalette,o.HslPalette,o.UserPalette].map((e=>new e(t))))}bind(){this.createPalette()}rowsChanged(){this.createPalette()}columnsChanged(){this.createPalette()}selectColor(e){this.color=e,this.element.dispatchEvent(new CustomEvent("colorselected",{bubbles:!0,detail:{color:e}}))}pickCustomColor(e,t){if(!this.colorElement){this.colorElement=document.createElement("input"),this.colorElement.setAttribute("type","color");const e=this.colorElement.style;e.position="absolute",e.width="1px",e.height="0px",e.opacity="0",this.colorElement.value="#000000",this.colorElement.addEventListener("change",(()=>this.addCustomColor())),this.element.appendChild(this.colorElement)}this.paletteAdjustable=e,this.colorElement.focus(),this.colorElement.click()}addCustomColor(){var e;if(!this.colorElement||!this.paletteAdjustable)return;const t=this.colorElement.value;this.paletteAdjustable.add(t),null===(e=this.userColors)||void 0===e||e.push(t),this.element.dispatchEvent(new CustomEvent("newcolor",{bubbles:!0,detail:{color:t}}))}};n.__decorate([r.bindable,n.__metadata("design:type",Number)],a.prototype,"rows",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],a.prototype,"columns",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],a.prototype,"color",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],a.prototype,"allowNull",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Array)],a.prototype,"userColors",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],a.prototype,"allowAdjust",void 0),a=n.__decorate([r.autoinject,(0,r.customElement)("qp-color-palette"),n.__metadata("design:paramtypes",[Element])],a),t.QpColorPaletteCustomElement=a}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/color-picker/qp-color-picker":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpColorPickerCustomElement=t.ColorFormatValueConverter=void 0;let colorInputSupported=()=>{let e=!0;const t=document.createElement("input");return t.setAttribute("type","color"),t.value="a","a"===t.value&&(e=!1),colorInputSupported=()=>e,e};const o=/^#[a-f\d]{6}$/i,a="#000000";t.ColorFormatValueConverter=class ColorFormatValueConverter{toView(e){return e&&o.test(e)?e:a}fromView(e){return e&&o.test(e)?e:a}};let l=class QpColorPickerCustomElement{constructor(){this.supportsColor=colorInputSupported(),this.value=a}validateValue(e){o.test(e.target.value)||(e.target.value=a)}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],l.prototype,"value",void 0),l=n.__decorate([(0,r.customElement)("qp-color-picker")],l),t.QpColorPickerCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/color-picker/qp-menu-color-picker":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpMenuColorPickerCustomElement=void 0;let o=class QpMenuColorPickerCustomElement{constructor(e){this.element=e,this.onceOpened=!1}bind(){}attached(){this.refresh()}configChanged(){this.refresh()}refresh(){this.config||(this.config={})}stopPropagation(e){e.stopPropagation()}processButtonClick(e){var t;this.selectColor(null===(t=this.config)||void 0===t?void 0:t.selectedColor)}colorSelected(e){var t;this.selectColor(null===(t=e.detail)||void 0===t?void 0:t.color),e.stopPropagation()}newColorAdded(e){var t,n;const r=null===(t=e.detail)||void 0===t?void 0:t.color;null===(n=this.config.userColors)||void 0===n||n.push(r),e.stopPropagation(),this.element.dispatchEvent(new CustomEvent("newcolor",{bubbles:!0,detail:{color:r}}))}selectColor(e){this.config.selectedColor=e,this.dropDown.hideDropDown(),this.element.dispatchEvent(new CustomEvent("colorselected",{bubbles:!0,detail:{color:e}}))}dropDownOpened(e){var t;(null===(t=this.config)||void 0===t?void 0:t.disabled)?e.detail.prevent=!0:this.onceOpened=!0}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],o.prototype,"config",void 0),o=n.__decorate([r.autoinject,(0,r.customElement)("qp-menu-color-picker"),n.__metadata("design:paramtypes",[Element])],o),t.QpMenuColorPickerCustomElement=o}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/date-editor/qp-datetime-edit-utc":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.QpDatetimeEditUtcCustomElement=void 0;let l=a=class QpDatetimeEditUtcCustomElement{constructor(){this.conversionInProgress=!1}configChanged(e){this.config||(this.config={}),(0,o.applyDefaultValues)(this.config,a.defaultConfig)}valueChanged(e){if(!this.conversionInProgress){this.conversionInProgress=!0;try{this.convertedDate=new Date(e)}catch(e){this.convertedDate=new Date}this.conversionInProgress=!1}}convertedDateChanged(e){if(!this.conversionInProgress){this.conversionInProgress=!0;try{e||(this.value=""),e instanceof Date&&(this.value=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString())}catch(e){this.value=""}this.conversionInProgress=!1}}};l.defaultConfig={preserveTimezone:!0},n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"value",void 0),n.__decorate([(0,r.observable)({changeHandler:"convertedDateChanged"}),n.__metadata("design:type",Date)],l.prototype,"convertedDate",void 0),l=a=n.__decorate([(0,r.customElement)("qp-datetime-edit-utc")],l),t.QpDatetimeEditUtcCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/date-editor/qp-datetime-edit":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/localizations-service.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/utils/control-helper.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h){"use strict";var g;Object.defineProperty(t,"__esModule",{value:!0}),t.TextRange=t.QpDatetimeEditCustomElement=t.MAX_DAYS_IN_MONTH=t.MONTHS_IN_YEAR=t.MAX_YEAR=t.MIN_YEAR=t.DateUTCValueConverter=void 0;const m=(0,d.getLogger)("qp-datetime-edit");t.DateUTCValueConverter=class DateUTCValueConverter{toView(e,t){return e?t&&"string"==typeof e&&isNaN(new Date(e).getTime())||e instanceof Date||"Date"===e.constructor.name?e:new Date(e):null}fromView(e){return e?e instanceof Date?new Date(e.getTime()-6e4*e.getTimezoneOffset()):e:null}};t.MIN_YEAR=1900,t.MAX_YEAR=9999,t.MONTHS_IN_YEAR=12,t.MAX_DAYS_IN_MONTH=31;const f="0".charCodeAt(0),v="9".charCodeAt(0),isNumericChar=e=>/\d/.test(e),between=(e,t,n)=>e<=t&&n>=t;let b=g=class QpDatetimeEditCustomElement extends a.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,this.value=null,this.oldValue=null,this.focused=!1,this.fullDOW=!1,this.fullMonth=!1,this.selectOnFocus=!1,this.allowStrings=!1,this.roundUpTime=!1,this.required=!1,this.hideEnterKey=!1,this.promptChar="_",this.emptyChar=" ",this.valueMode=0,this.validateExp="",this.asciiCharSet=!1,this.dropDownOpen=!1,this.inlineEditor=!1,this.outerClickSubscription=void 0,this.allowRepaintText=!0,this.hasFocus=!1,this.lockMouseUp=!1,this.mouseClicked=!1,this.trackSelection=!0,this.trackPosition=!1,this.selStart=0,this.selEnd=0,this.field0ID=new Array,this.field1ID=new Array,this.mask=void 0,this.maskExclude=void 0,this.maskInclude=void 0,this.emptyText=void 0,this.AM="AM",this.PM="PM",this.lengthAmPm=this.AM.length>this.PM.length?this.AM.length:this.PM.length,this.yearFix=0,this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December",""],this.dowNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.validateEdit=!0,this.allowMouseDownFlag=!1,this.value=null,this.addConfigSetter("inputMask",(e=>this.config.editMask=this.convertMask(e,!0))),this.addConfigSetter("displayMask",(e=>this.config.displayMask=this.convertMask(e))),this.addConfigSetter("minValue",(e=>new Date(e))),this.addConfigSetter("maxValue",(e=>new Date(e))),(0,h.isLegacyEnv)()?this.dateFormatInfo=(0,p.dateFormatInfo)():this.dateFormatInfo=t.get(u.LocalizationsService).getLocalePreferences("datetime")}static createDate(e,t,n){const r=new Date(e,t,n);return r.setFullYear(e,t,n),r}static _trimEnd(e){return e.replace(/\s+$/,"")}static _filter(e,t,n,r,o,a){if(n>=t.length)return r;const l=t.charCodeAt(n);let d=t.charAt(n);if(l<21||o&&-1!==o.indexOf(d))return r;if(a&&-1!==a.indexOf(d))return d;switch(Math.floor((e-1)/6)){case 0:break;case 1:if(l>=f&&l<=v)return d;case 2:if(l>255||d.toUpperCase()!==d.toLowerCase())break;return r;case 3:return l>=f&&l<=v?d:r}return 0===(e=Math.floor((e-1)/2)%3)?d:(d=2===e?d.toLowerCase():d.toUpperCase(),o&&-1!==o.indexOf(d)?r:d)}static format(e,t,n,r){null==r&&(r=0),null==t&&(t="");let o,a="",l=0;const d=g.split(e),c=d[0],u=d[1],p=d[2];for(let e=0;e<c.length;e++)if(o=c.charCodeAt(e),o<21){let e;l<t.length&&(e=g._filter(o,t,l,"",u,p),l++),a+=e||n}else a+=c.charAt(e),r>0&&l++;return a}static encode(e){let t,n,r=0,o="";const a=g.split(e),l=a[0],d=a[1],c=a[2];for(let e=0;e<l.length;e++)if(n=l.charAt(e),t=g._flag(n,r),0!==t){if(t<0){r=r===-t?0:-t;continue}o+=String.fromCharCode(t)}else"\\"===n&&e+1<l.length?(n=l.charAt(e+1),0!==g._flag(n,0)&&(o+=n,e++)):o+=n;return d&&(o+=`|${d}`),c&&(d||(o+="|"),o+=`|${c}`),o}static split(e){const t=e.split("|");return 1===t.length&&(t[1]=""),2===t.length&&(t[2]=""),t}static _flag(e,t){let n=0;switch(e){case">":return-1;case"<":return-2;case"&":n=1;break;case"C":n=2;break;case"A":n=7;break;case"a":n=8;break;case"L":n=13;break;case"?":n=14;break;case"#":case"0":return 19;case"9":return 20;default:return 0}return n+2*t}get isEditLink(){return!1}get ROMode(){return this.config&&(this.config.readOnly||!this.config.enabled)}set textValue(e){this._textValue=e,this.elemText&&(this.elemText.value=e)}get textValue(){return this._textValue||""}detached(){super.detached(),this._disposeMaskObservers()}acceptDateFromCalendar(e){m.info("acceptDateFromCalendar");const t=e.detail&&e.detail.value;t&&this.setValue(t),this.hideDropDown(),e.preventDefault(),e.stopPropagation(),this.fireEvent("valuechanged"),setTimeout((()=>{this.elemText.focus()}),0)}configChanged(e){this.config||(this.config={}),(0,c.applyDefaultValues)(this.config,g.defaultConfig),this._disposeMaskObservers(),this._bindMaskObservers(),this.AM=this.dateFormatInfo.am||"AM",this.PM=this.dateFormatInfo.pm||"PM",this.lengthAmPm=Math.max(this.AM.length,this.PM.length),this.yearFix=this.dateFormatInfo.yearFix||0,this.config&&(this.monthNames=this.config.fullMonth?this.dateFormatInfo.monthNames.split(","):this.dateFormatInfo.abbrMonthNames.split(","),this.dowNames=this.config.fullDOW?this.dateFormatInfo.dayNames.split(","):this.dateFormatInfo.abbrDayNames.split(","),this._initializeMask(),this.tq.queueMicroTask((()=>{this.config.value&&(this.value=new Date(this.config.value))})))}attached(){super.attached(),this.trange=new TextRange(this.elemText),this.config&&this._bindMaskObservers()}bind(){this.editorDiv.focus=()=>{this.elemText.focus()},this.configChanged(this.config),this.tq.queueTask((()=>{this.valueChanged(this.value,null)}))}getValue(e=!1){if(null===this.value||e){const e=this._getTypedValue(this.textValue,!0);(this.allowStrings||null==e||e instanceof Date&&!isNaN(e.getTime())&&!(0,c.equals)(this.value,e))&&(this.value=e)}return this.value}getValueOrToday(){let e=this.getValue(!0);return null==e&&(e=new Date),e}setValue(e){const t=this._parseInvariant(e);(this.allowStrings||t instanceof Date&&!isNaN(t.getTime())&&(0,c.equals)(this._checkLimits(t),t))&&(this.value=t,this.oldValue=t,this.hasFocus?(this.textValue=this.getEditText(this.value),(0,c.isVisible)(this.elemText)&&this.select(this.selStart)):this.textValue=this.getDisplayText(this.value))}valueChanged(e,t){this.config&&(this.config.allowCustomItems&&null!=e&&this._setAllowStrings(e),this.hasFocus?(this.textValue=this.getEditText(this.value),(0,c.isVisible)(this.elemText)&&this.trange&&this.trange.refreshSelection()):this.textValue=null==e?this.getDisplayText(null):this.getDisplayText(this.value))}updateValue(e){const t=void 0===e?this.getValue(!0):e;if(!(0,c.equals)(t,this.oldValue)){if(this.fireEvent("valuechanging"))return this.setValue(this.oldValue),!1;new Object,this.oldValue;return void 0!==e?this.setValue(t):this.repaintText(t),this.oldValue=t,this.fireEvent("valuechanged"),!0}}getReadOnly(){return this.config.readOnly}getEnabled(){return null==this.elemText.getAttribute||!this.elemText.getAttribute("enabled")}getDisabled(){return!this.getEnabled()||this.getReadOnly()}doTrackSelection(){("INPUT"===this.elemText.tagName&&this.trackSelection||this.trackPosition)&&this.getSelectedText()}selectContent(e=!0){if((0,c.isVisible)(this.elemText))if((this.selectOnFocus||this.getDisabled())&&this.elemText.select)this.select(),this.lockMouseUp=!0,this.mouseClicked&&o.browser.isEdge&&setTimeout((()=>{this.select()}),0);else if("INPUT"===this.elemText.tagName||this.trackPosition){const t=e?this.selStart:0,n=e?this.selEnd:0;o.browser.isIE?this.select(t,n):setTimeout((()=>{this.select(t,n)}),0)}}processFocus(e){if(this.hasFocus=!0,this.oldValue=this.getValue(),!this.getDisabled()&&this.allowRepaintText&&!this.isEditLink){const e=this.getEditText(this.getValue());this.textValue!==e&&(this.textValue=e)}this.selectContent(this.trackPosition),this.getSelectedText(),this.allowRepaintText&&this.fireEvent("activated")}processUpdate(e){this.allowRepaintText&&!this.isEditLink&&this.updateValue()}processBlur(e){if(this.hasFocus=!1,this.onBlur(e),this.allowRepaintText&&!this.isEditLink){this.updateValue();const e=this.getDisplayText(this.getValue());e!==this.textValue&&(this.textValue=e)}}onBlur(e){if(this.allowStrings||this.getDisabled()||!this.focused)return;const t=this.textValue,n=this._fields1(t,!0),r=this.separate(t);if(this.emptyText!==t&&n.some((function(e){return!e}))){const e=new Date;this.roundUpTime?(e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(999)):(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0));for(let t=0;t<n.length;t++){const o=n[t];this._isDatePart(t)&&!o?n[t]=this._fieldValue(this.field0ID[t],e,!0,"0"):!between(10,this.field0ID[t],13)||o||this.isZeroTime(n,r,t)?!between(16,this.field0ID[t],17)||o||this.isZeroTime(n,r,t)||(n[t]=e.getMinutes()):n[t]=e.getHours()}const contains=function(e,t,n){return e.some((function(e){return e>=t&&e<=n}))},t=this.getMergedDateTime(n.slice());void 0!==t&&(contains(this.field0ID,10,13)||t.setHours(e.getHours()),contains(this.field0ID,16,17)||t.setMinutes(e.getMinutes()),contains(this.field0ID,18,19)||t.setSeconds(e.getSeconds()),contains(this.field0ID,22,28)||t.setMilliseconds(e.getMilliseconds()),this.textValue=this.getEditText(t))}}processKeyDown(e){switch(this.doTrackSelection(),e.key){case"Backspace":this.getReadOnly()&&(e.preventDefault(),e.stopPropagation());break;case"Esc":case"Escape":e.preventDefault();break;case"Enter":e.shiftKey||(this.hideEnterKey&&(e.preventDefault(),e.stopPropagation(),this.allowRepaintText&&this.updateValue()),this.fireEvent("valuechanged"))}if(!this.onKeyDown(e))return e.preventDefault(),e.stopPropagation(),!1;switch(e.key){case"Backspace":case"Delete":case"Del":if(this.getDisabled()){e.preventDefault(),e.stopPropagation();break}(o.browser.isAnyIE||o.browser.isSafari||o.browser.isFirefoxFrom65)&&(this.onKeyPress(e)||(e.preventDefault(),e.stopPropagation()))}return"KeyS"!==e.code&&83!==e.keyCode||!e.ctrlKey||(this.processBlur(),this.processFocus()),!0}onButtonClick(e){this.dropDownOpen?(this.hideDropDown(),this.focus()):this.showDropDown()}onKeyDown(e){const t=!(e.ctrlKey||e.metaKey||e.altKey);switch(e.key){case"Down":case"ArrowDown":case"-":case"F3":if(!this.config.timeMode&&("F3"===e.key||e.altKey))return this.onButtonClick(),!1;if("F3"!==e.key&&!e.shiftKey&&!this.inlineEditor&&!this.allowStrings)return this.incrementActivePart(-1),!1;break;case"Up":case"ArrowUp":case"+":if(t&&!this.inlineEditor&&!this.allowStrings)return this.incrementActivePart(1),!1;break;case"Right":case"ArrowRight":if(t&&!e.shiftKey&&!this.allowStrings)return this.selectActivePart(this.getActivePartIndex()+1),!1;break;case"Left":case"ArrowLeft":if(t&&!e.shiftKey&&!this.allowStrings)return this.selectActivePart(this.getActivePartIndex()-1),!1;break;case".":case"/":if(t&&!this.allowStrings)return e.shiftKey?this.selectActivePart(this.getActivePartIndex()-1):this.selectActivePart(this.getActivePartIndex()+1),!1;break;case"A":case"a":if(e.ctrlKey||e.metaKey)return this.select(),!1}return!0}processKeyPress(e){return this.doTrackSelection(),this.getDisabled()&&!e.ctrlKey?(e.preventDefault(),e.stopPropagation(),!1):this.onKeyPress(e)}onKeyPress(e){if(!this.mask||!this.validateEdit)return!0;let t=this.textValue;const n=t.length;let r=this.selStart,o=this.selEnd;this.emptyChar.charCodeAt(0);if(r!==o){for(;--o>=r;){let e=this.promptChar;this.mask.charCodeAt(o)>=21&&(e=this.mask.charAt(o)),t=t.substring(0,o)+e+t.substring(o+1)}o++}else switch(e.key){case"Del":case"Delete":case"Space":for(;o<n&&this.mask.charCodeAt(o)>=21;)o++;if(o>=n)return!1;t=t.substring(0,o)+this.promptChar+t.substring(o+1),o++;break;case"Backspace":for(;o>0&&this.mask.charCodeAt(o-1)>=21;)o--;if(o--<1)return!1;t=t.substring(0,o)+this.promptChar+t.substring(o+1)}if(1===e.key.length&&" "!==e.key&&o<n){const n=e.key.toUpperCase(),a=[t];if(r=this.insertCharAt(a,n,o),t=a[0],r<0)return!1;o=this.locatePromptPos(r)}return this.textValue=t,this.select(o),this.fireEvent("usertyping"),!1}processBeforePaste(e){e.returnValue=!1}processSelectStart(e){this.selectOnFocus||(e.preventDefault(),e.stopPropagation())}processInput(e){this.allowStrings&&(this.textValue=this.elemText.value),(0,c.isVisible)(this.elemText)&&this.fireEvent("usertyping")}processPaste(e){if(this.getDisabled())return e.preventDefault(),e.stopPropagation(),!1;const t=e.clipboardData;if(null!=t){const n=t.getData("Text"),r=this.text,o=this.processPasteValue(n);!n||o&&r===this.text||this.fireEvent("usertyping"),o&&(e.preventDefault(),e.stopPropagation())}else this.fireEvent("usertyping");return!0}initInlineEditor(e){this.config=e.config,this._initializeMask()}_bindMaskObservers(){this.editMaskObserver=this.bindingEngine.propertyObserver(this.config,"editMask").subscribe((()=>this.initEditMask())),this.displayMaskObserver=this.bindingEngine.propertyObserver(this.config,"displayMask").subscribe((()=>this.initDisplayMask()))}_disposeMaskObservers(){var e,t;null===(e=this.editMaskObserver)||void 0===e||e.dispose(),null===(t=this.displayMaskObserver)||void 0===t||t.dispose()}repaintText(e){const t=this.hasFocus?this.getEditText(e):this.getDisplayText(e);t!==this.text&&(this.text=t)}getDisplayText(e){return this.config.allowNull&&null==e?this.config.nullText:this._getFormattedText(e,!1)}getEditText(e){return this._getFormattedText(e,!0)}getVisible(){return this.elemText&&"none"!==this.elemText.style.display}select(e,t){this.getVisible()&&this.trange&&(this.trange.select(e,t),this.selStart=this.trange.selStart,this.selEnd=this.trange.selEnd)}getSelectedText(){if(!this.trange)return"";const e=this.trange.getSelectedText();return this.selStart=this.trange.selStart,this.selEnd=this.trange.selEnd,e}fireEvent(e,t){var n,r;const o={};switch(e){case"keydown":case"keypress":case"keyup":const e=t;e&&e.key&&(o.key=e.key);break;case"valuechanging":o.oldValue=this.oldValue,o.value=this.getValue();break;case"valuechanged":o.value=this.getValue();break;case"usertyping":o.viewName=null===(n=this.state)||void 0===n?void 0:n.viewModeName,o.fieldName=null===(r=this.state)||void 0===r?void 0:r.name}const a=new CustomEvent(e,{bubbles:!0,detail:o});return this.elemText.dispatchEvent(a),!0===a.detail.cancel}_getFormattedText(e,t){if(this.allowStrings&&!(e instanceof Date))return null!=e?e.toString():"";if(null==e||""===e||"string"==typeof e||isNaN(e.valueOf()))return this.getDisplayValue("",1);let n="";const r=t?this.mask||"":this.mask1,o=t?this.field0ID:this.field1ID;let a,l,d=-1,c=0;for(;++d<r.length;)if(a=r.charAt(d),l=r.charCodeAt(d),l<21){if(n+=this._fieldValue(o[c++],e,t,a),t)for(;d+1<r.length&&r.charCodeAt(d+1)===l;)d++}else n+=a;return t?this.getDisplayValue(n,1):n}focus(){try{this.elemText.focus()}catch(e){}}validateValue(e){if(this.isNullValue(e))e=this.config.allowNull?null:"";else if(this.validateExp){const t=new RegExp(this.validateExp).exec(e||"");e=null!=t?t[0]:this.config.allowNull?null:""}if(this.asciiCharSet&&e){const t=e;e="";for(let n=0;n<t.length;n++)t.charCodeAt(n)<127&&(e+=t.charAt(n))}return e}initEditMask(){this.mask0=this._dateMask(this.config.editMask,!1),this._initEmptyText(),this.setInputMask(this.mask0)}initDisplayMask(){this.mask1=this._dateMask(this.config.displayMask,!0)}_initializeMask(){this.initEditMask(),this.initDisplayMask()}_initEmptyText(){this.emptyText=this.mask0.replace(/[#LC]/g,this.promptChar)}_setAllowStrings(e){this.allowStrings=null==e||"Date"!==e.constructor.name,this.validateEdit=!this.allowStrings}_dateMask(e,t){let n,r;t?(null==this.field1ID&&(this.field1ID=new Array),this.field1ID.length=0):(null==this.field0ID&&(this.field0ID=new Array),this.field0ID.length=0),null==e&&(e="");let o=0,a=-1,l="";for(r=0;r<e.length;r++)if(n=e.charCodeAt(r),n<f||n>v){const o=e.charAt(r);if(t&&"\\"===o&&r+1<e.length){if(n=n=e.charAt(++r),"\\"===n)continue;"0"!==n&&"9"!==n||(l+=o),l+=n}else l+=o}else if(a=10*(n-f)+e.charCodeAt(++r)-f,t)this.field1ID[o++]=a,l+="";else switch(this.field0ID[o++]=a,a){case 14:l+="L";break;case 15:l+=Array(this.lengthAmPm+1).join("C");break;case 22:l+="#";break;default:for(l+="##",3===a&&(l+="##");a-- >23;)l+="#"}return l}setInputMask(e){if(null==e&&(e=""),this.rawMask===e)return;const t=this.mask?this.calculateValue(this.textValue,0,1):void 0;this.maskFull=g.encode(e);const n=g.split(this.maskFull);if(this.mask=n[0],this.maskExclude=n[1],this.maskInclude=n[2],null!=t){const e=this.getDisplayValue(t,0);this.textValue=e?g._trimEnd(e):"",this.value=null}this.rawMask=e}calculateValue(e,t,n){if(this.isNullValue(e))return this.config.allowNull?void 0:"";if(!this.mask)return e;const r=new RegExp(`\\${this.promptChar}`,"g");e=e.toString().replace(r,String.fromCharCode(0));let o,a,l=0,d=!0,c="";for(let r=0;r<this.mask.length;r++)if(a=this.mask.charCodeAt(r),a<21)o=void 0,l<e.length&&(o=g._filter(a,e,l,"",this.maskExclude,this.maskInclude),l++),c+=o||this.emptyChar,o&&(d=!1);else{if(n>0&&l<e.length){if(this.mask.charAt(r)!==e.charAt(l))return;l++}t>0&&(c+=this.mask.charAt(r))}return d?this.config.allowNull?void 0:"":g._trimEnd(c)}isNullValue(e){const t=String(e);return null==e||""===t||!(!this.config.allowNull||t!==this.config.nullText)}getDisplayValue(e,t,n){return this.mask?(void 0===n&&(n=this.promptChar),g.format(this.maskFull,e,n,t)):null!=e?e:""}_fieldValue(e,t,n,r){let o,a=2*(1&e);if(e<4)o=t.getFullYear()+this.yearFix,3===e?a=4:(o%=100,a=2===e?2:0);else if(e<8){if(o=t.getMonth()+1,e>5){const e=this.monthNames[o-1];if(e.length>0)return e}}else if(e<10)o=t.getDate();else if(e<16){if(o=t.getHours(),e>13){let t=o<12?this.AM:this.PM;return e-=13,a=t.length,e===a?t:(a<e&&(t+=" "),1===e?t.substring(0,e):t)}e<12&&(o%=12,0===o&&(o=12))}else if(e<18)o=t.getMinutes();else if(e<20)o=t.getSeconds();else{if(e<22)return this.dowNames[t.getDay()];{o=t.getMilliseconds();let n=a=e-21;for(;n-- >3;)o*=10;for(;n++<2;)o=Math.floor(o/10)}}let l=o.toString();if(e<20&&(e=l.length,n&&(0===a?a=2:n=!1),a>0))if(a<e)l=l.substring(0,a);else for(;e++<a;)l=(n?r:"0")+l;return l}_checkLimits(e){if(!this.config.timeMode&&!this.allowStrings&&null!=e&&!isNaN(e.getTime())){const t=e.getTime();let n,r;null!=this.config.minValue&&(n=this.config.minValue.getTime()),null!=this.config.maxValue&&(r=this.config.maxValue.getTime()),void 0!==n&&t<n&&(e=new Date(n)),void 0!==r&&t>r&&(e=new Date(r))}return e}_parseInvariant(e){let n=null;if(null==e||this.isNullValue(e)){if(this.config.allowNull)return null;n=new Date}else if(e instanceof Date)n=e;else if(this.config.timeMode||e.indexOf(":")>0){const t=Date.parse(e);isNaN(t)||(n=new Date(t))}else{const t=e.split("/");if(t.length>=3){const e=parseInt(t[2]),r=parseInt(t[0]),o=parseInt(t[1]);isNaN(e)||isNaN(r)||isNaN(o)||(n=g.createDate(e,r-1,o))}}return this.config.timeMode&&n instanceof Date&&!isNaN(n.getTime())&&(n.setFullYear(t.MIN_YEAR),n.setMonth(0),this.config.durationMode||n.setDate(1)),this.config.allowCustomItems&&this._setAllowStrings(n),this.allowStrings&&(null==n||isNaN(n.getTime()))?e:n}_getTypedValue(e,t){let n;if(this.isNullValue(e)||e===this.emptyText){if(this.config.allowNull)return null;n=new Date}else e instanceof Date?n=e:(n=this._parseText(e,this.hasFocus,t),null==n&&(n=this._parseText(e,!this.hasFocus,t)));return this.config.timeMode&&null!=n&&(n.setFullYear(1900),n.setMonth(0),this.config.durationMode||n.setDate(1)),this.config.allowCustomItems&&this._setAllowStrings(n),this.allowStrings&&null==n?e:null==n?null:t?this._checkLimits(n):n}_parseText(e,t,n){const r=this._fields1(e,t);let o=0;const a=r.length;let l=-1,d=-1,c=-1,u=-1,p=-1,h=-1,g=-1,m=-1,f=-1;for(;++f<a;){let e=r[f],n=t?this.field0ID[f]:this.field1ID[f];if(n<4)if(e>100&&e>this.yearFix&&(e-=this.yearFix),e<0)o++;else if(0===e)l=parseInt(this._fieldValue(n,new Date,!0,"0"));else{l=e;let t=29;e<100&&(n<3&&t<0&&(t=29),t>=0&&(l+=e>t?1900:2e3))}else if(n<8)e<1||e>12?o++:d=e;else if(n<10)e<1||e>31?o++:c=e;else if(n<14)24===e&&(e=0),n>11?m=-4:(12===e&&(e=0),e>12&&o++),e>23?o++:u=e;else{if(n<16){e>0&&m++;continue}if(n<18)e>59?o++:p=e;else if(n<20)e>59?o++:h=e;else{if(n<22)continue;for(;n++<24;)e*=10;for(;n-- >25;)e=Math.floor(e/10);g=e}}}0===m&&u>=0&&u<12&&(u+=12);let v=null;return 0===o&&(l>0&&d>0?(v=new Date(l,d-1),v.setFullYear(l,d-1)):v=new Date,null!=v&&(d>0&&v.setMonth(d-1),c>0&&v.setDate(c),v.setHours(u>=0?u:0),v.setMinutes(p>=0?p:0),v.setSeconds(h>=0?h:0),v.setMilliseconds(g>=0?g:0),l>0&&d>0&&c>0&&v.setFullYear(l,d-1,c)),n&&(v=this._checkLimits(v))),!v||this.config.timeMode||this.config.preserveTimezone||(v.toJSON=()=>{if(!v)return"";const e=new Date(v);return e.setUTCFullYear(v.getFullYear(),v.getMonth(),v.getDate()),e.setUTCHours(0,0,0,0),e.toISOString()}),v}_fields1(e,t){const n=t&&!this.getDisabled()?this.field0ID:this.field1ID,r=n.length;let o=-1,a=0,l=0;const d=new Array(r);for(;++o<r;)d[o]=-1;if(null==e)return d;for(e=e.toUpperCase(),o=-1;++o<e.length&&l<r;){let t=e.charCodeAt(o)-48,r=n[l];if(e.charAt(o)!==this.promptChar)if(20!==r&&21!==r||(r=n[++l]),14===r||15===r){if(t>=0&&t<=9){a=-1,l++,o--;continue}this.PM.charAt(0).toUpperCase()===e.charAt(o)&&(d[l++]=1,a=-1)}else if(6===r||7===r){for(a=-1;a-- >-3;){for(t=0;t<12;t++){let n=this.monthNames[t].toUpperCase();if(r=n.length,!(r<1)){if(-3===a){if(r<4)continue;n=n.substring(0,3)}if(r=e.indexOf(n)-1,r>-2&&(r<0||e.charAt(r).toLowerCase()===e.charAt(r)))break}}if(t<12){d[l]=t+1;break}}l++}else t>=0&&t<=9?a=a<=0?t:10*a+t:a>=0&&(d[l++]=a,a=0)}return l<r&&(d[l]=a),d}static between(e,t,n){return e<=t&&n>=t}getMergedDateTime(e){let t=-1,n=-1,r=-1,o=0,a=0,l=0,d=0,c=-1;for(let p=0;p<e.length;p++){const h=e[p],g=h;let m=h;null==m&&(m=parseInt(g,10));switch(this.field0ID[p]){case 1:case 2:case 3:t=m;break;case 4:case 5:n=m;break;case 6:case 7:n=this.monthNames.indexOf((u=g)[0].toUpperCase()+u.substring(1).toLowerCase());break;case 8:case 9:r=m;break;case 10:case 11:case 12:case 13:o=m;break;case 14:case 15:c=g===this.PM||1===m?1:0;break;case 16:case 17:a=m;break;case 18:case 19:l=m;break;case 22:case 23:case 24:case 25:case 26:case 27:case 28:d=m}}var u;0===c?12===o&&(o=0):1===c&&o<12&&(o+=12);let p=!1;if(between(1582,t,275760)&&between(1,n,12)){let e=31;switch(n){case 2:e=function(e){return!(e%4||!(e%100)&&e%400)}(t)?29:28;break;case 4:case 6:case 9:case 11:e=30}between(1,r,e)&&(p=!0)}const h=between(0,o,23)&&between(0,a,60)&&between(0,l,60)&&between(0,d,9999);if(p&&h)return new Date(t,n-1,r,o,a,l,d)}_isDatePart(e){return this.field0ID[e]<10}isZeroTime(e,t,n){if(0===e[n]){const e=this.field0ID[n];if(between(10,e,13)||between(16,e,28)){const e=Array.prototype.slice.call(t[n]);for(;e.length&&e[0]===this.promptChar;)e.shift();for(e.reverse();e.length&&e[0]===this.promptChar;)e.shift();return e.reverse(),0===parseInt(e.join(),10)}}return!1}processPasteValue(e){if(!this.mask)return!1;this.getSelectedText();const t=this.selStart,n=this.selEnd;let r=this.textValue;r=this.clearMaskedContent(r,t,n);const o=[r];let a=t;for(let t=0;t<e.length;t++)if(this.mask.charCodeAt(a)<=20&&e.charAt(t)===this.promptChar)a++;else if(a=this.insertCharAt(o,e.charAt(t),a),a<0||a>=this.mask.length)break;return this.textValue=o[0],this.select(n>0?n:t),!0}clearMaskedContent(e,t,n){if(!this.mask)return e;if((null==t||t<0)&&(t=0),(null==n||n>this.mask.length)&&(n=this.mask.length),t>n){const e=n;n=t,t=e}if(t!==n){for(;--n>=t;){let t=this.promptChar;this.mask.charCodeAt(n)>=21&&(t=this.mask.charAt(n)),e=e.substring(0,n)+t+e.substring(n+1)}n++}return e}separate(e){const isSep=function(e){return"\\/.:- ".indexOf(e)>-1},sepIndexes=function(e){const t=[];for(let n=0;n<e.length;n++)isSep(e[n])&&t.push(n);return t},isDesignator=function(e,t,n,r){for(const o of r){if(e.substr(t-o,n.length)===n)return!0}return!1},t=sepIndexes(this.AM),n=sepIndexes(this.PM),r=new Array;let o="";for(let a=0;a<e.length;a++){const l=e[a];!isSep(l)||isDesignator(e,a,this.AM,t)||isDesignator(e,a,this.PM,n)?o+=l:(r.push(o),o="")}return""!==o&&r.push(o),r}getPartCount(e){return this.separate(e).length}getActivePartIndex(){const e=this.trange&&this.trange.selEnd,t=this.textValue.substring(0,e);return this.getPartCount(t)-1}getPartLen(e){return this.separate(this.config.editMask)[e].length}selectActivePart(e){if(this.getDisabled())return;const sumLen=function(e){return e.reduce((function(e,t){return e+t.length+1}),0)},t=this.textValue,n=this.getPartCount(t);if(e>=0&&e<n){const n=this.separate(t),r=sumLen(n.slice(0,e));let o=sumLen(n.slice(0,e+1));o>0&&o--,this.trange&&this.trange.select(r,o)}}incrementActivePart(e){if(this.getDisabled()||!this.trange)return;const t=this.trange.selStart,n=this.trange.selEnd;this.getActivePartIndex();if(!this.field0ID)return;const r=this.field0ID[this.getActivePartIndex()];let o=this._getTypedValue(this.textValue,!0);switch(o||(o=new Date),r){case 1:case 2:case 3:o.setFullYear(o.getFullYear()+e);break;case 4:case 5:case 6:case 7:o.setMonth(o.getMonth()+e);break;case 8:case 9:o.setDate(o.getDate()+e);break;case 10:case 11:case 12:case 13:o.setHours(o.getHours()+e);break;case 16:case 17:o.setMinutes(o.getMinutes()+e);break;case 18:case 19:o.setSeconds(o.getSeconds()+e)}this.textValue=this.getEditText(o),this.fireEvent("usertyping"),this.trange.select(t,n)}locatePromptPos(e,t=!1){const n=this.mask?this.mask.length:0;for(;e>=0&&e<n&&this.mask&&this.mask.charCodeAt(e)>=21;)t?e--:e++;return e}insertCharAt(e,t,n){if(!this.mask)return-1;const r=this.mask.length;let o=n,a=e[0];if(n<r){if(this.__checkField){const r=new TXT;return r.txt=a,o=this.__checkField(t.charCodeAt(0),t,a,n,r),o>=0?(a=r.txt,e[0]=a,o):-1}{if(this.mask.charCodeAt(o)>=21&&this.mask.charAt(o)===t)return++o;for(;this.mask.charCodeAt(o)>=21;)if(++o>=r)return-1;const n=g._filter(this.mask.charCodeAt(o),t,0,void 0,this.maskExclude,this.maskInclude);return void 0===n?-1:(t=n,a=a.substring(0,o)+t+a.substring(o+1),e[0]=a,o++,o)}}return-1}__checkField(e,t,n,r,o){let a=n.length;const l=new POS;let d=0;const c=this._curField(r,l);if(!this.mask)return-1;if(t===this.mask.charAt(r))return++r;if(r>=l.n1&&(r--,n.charAt(r)!==this.promptChar))return this.__checkField(e,t,n,r+2,o);if(c<0)return-1;if(5===c){if(r<l.n1){let e=this.PM;e.charAt(0).toUpperCase()!==t.toUpperCase()&&(e=this.AM),l.n1===l.n0+1?e=e.charAt(0):(a=e.length,a<this.lengthAmPm?e+=" ":a>this.lengthAmPm&&(e=e.substring(0,this.lengthAmPm))),o.txt=n.substring(0,l.n0)+e+n.substring(l.n1)}return l.n1}if(e<48||e>57){if(46===e||58===e){for(r=l.n1;++r<a&&!(this.mask.charCodeAt(r)<21););return r}return-1}if(e-=48,l.n0===r){let t=n.charAt(r+1)===this.promptChar?0:n.charCodeAt(r+1)-48;switch(c){case 4:e--,t-=2;case 3:case 1:e>1?d=1:1===e&&t>2&&(d=2);break;case 2:e>3?d=1:3===e&&t>1&&(d=2);break;case 6:case 7:e>5&&(d=1)}}if(l.n0+1===r){let t=n.charAt(r-1)===this.promptChar?0:n.charCodeAt(r-1)-48;switch(c){case 4:t--,e-=2;case 3:case 1:(t>1||1===t&&e>2)&&(d=3);break;case 2:(t>3||3===t&&e>1)&&(d=3);break;case 6:case 7:(t>6||6===t&&e>0)&&(d=3)}}if(1===d&&(n=n.substring(0,r)+this.promptChar+n.substring(r+1),r++),2===d&&(n=n.substring(0,r+1)+this.promptChar+n.substring(r+2)),3===d){for(;++r<a&&!(this.mask.charCodeAt(r)<21););return r>=a?-1:this.__checkField(e+48,t,n,r,o)}return o.txt=n.substring(0,r)+t+n.substring(r+1),++r}_curField(e,t){if(!this.mask)return-1;let n,r=22,o=t.n0=t.n1=-1,a=0;for(;a<this.mask.length;a++)if(n=this.mask.charCodeAt(a),n>21!=r>21){if(n>21){if(a>=e)break}else t.n0=a,o++;r=n}return t.n0>=0&&(t.n1=a),o=this.field0ID[o],null==o?-1:o<8?o<4?0:1:o<20?Math.floor((o-4)/2):o>21?8:-1}convertMask(e,t){const n=this.makeMask(e,t);let r="";for(const e of n){const n=e.toString();parseInt(n)<1||parseInt(n)>28?((isNumericChar(n)||"\\"===n)&&(r+="\\"),t&&g._flag(n,0)>0&&(r+="\\"),parseInt(n)>28&&(r+=n)):(parseInt(n)<10&&(r+="0"),r+=n)}return r}makeMask(e,t){const n=this.makePattern(e),r=[];let o=0,a=-1;const l=n.length-1;let d=!1,c="0";for(;++a<=l;){const e=n[a],u=this.isMaskChar(e);if(!d&&("0"!==c&&c!==e||a===l&&u)&&("0"===c&&(c=e,o=a),u&&a===l&&a++,o=this.maskFlag(t,c,a-o-1),o>0&&r.push(o),c="0"),a>l)break;if("'"!==e)if(d)r.push(e);else if("\\"!==e){if(e!==c)if(u)t&&"0"!==c&&r.push(" "),o=a,c=e;else switch(e){case"z":case"g":break;case"%":a=l+1;break;case"/":r.push(this.dateFormatInfo.dateSeparator);break;case":":r.push(this.dateFormatInfo.timeSeparator);break;default:o>=0&&r.push(e)}}else a<l&&r.push(n[++a]);else d=!d}return r}makePattern(e){let t="";if(e||(e=this.config.timeMode?"t":"d"),1===e.length)switch(e[0]){case"D":t+=this.dateFormatInfo.longDate;break;case"f":t+=`${this.dateFormatInfo.longDate} ${this.dateFormatInfo.shortTime}`;break;case"F":case"U":t+=`${this.dateFormatInfo.longDate} ${this.dateFormatInfo.longTime}`;break;case"g":t+=`${this.dateFormatInfo.shortDate} ${this.dateFormatInfo.shortTime}`;break;case"G":t+=`${this.dateFormatInfo.shortDate} ${this.dateFormatInfo.longTime}`;break;case"m":case"M":t+=this.dateFormatInfo.monthDay;break;case"r":case"R":t+=this.dateFormatInfo.rfC1123;break;case"s":t+=this.dateFormatInfo.sortableDateTime;break;case"t":t+=this.dateFormatInfo.shortTime;break;case"T":t+=this.dateFormatInfo.longTime;break;case"u":t+=this.dateFormatInfo.universalSortableDateTime;break;case"y":case"Y":t+=this.dateFormatInfo.yearMonth;break;default:t+=this.dateFormatInfo.shortDate}else t+=e;return t}isMaskChar(e){return"d"===e||"m"===e||"M"===e||"y"===e||"h"===e||"H"===e||"s"===e||"f"===e||"t"===e}maskFlag(e=!1,t,n){let r=n;switch(t){case"y":r=1+Math.min(n,2);break;case"M":r=4+Math.min(n,e?1:3);break;case"d":r=n<2?8+n:e?-1:20+Math.min(n-2,1);break;case"h":r=10+Math.min(n,1);break;case"H":r=12+Math.min(n,1);break;case"t":r=14+Math.min(n,1);break;case"m":r=16+Math.min(n,1);break;case"s":r=18+Math.min(n,1);break;case"f":r=22+Math.min(n,6)}return r}toggleCalendar(e){return this.dropDownOpen?this.hideDropDown():this.showDropDown(),!1}showDropDown(){this.config.timeMode&&!this.dropDownOpen&&(this.createTimeItems(),this.focus()),this.dropDownOpen=!0}createTimeItems(){this.timeItems={allowMultiSelect:!1,options:[]};const e=this.config.durationMode?15:30;for(let t=0;t<24;t++)for(let n=0;n<60;n+=e){const e=new Date(1900,0,1,t,n,0),r={value:e,text:this.getDisplayText(e),selected:!1};this.timeItems.options.push(r)}}hideDropDown(){this.outerClickSubscription&&this.outerClickSubscription.dispose(),this.outerClickSubscription=void 0,this.dropDownOpen&&(this.dropDownOpen=!1)}handleOuterClick(e){return!e||(this.allowMouseDownFlag?(this.allowMouseDownFlag=!1,!0):(e.stopPropagation(),this.hideDropDown(),!0))}handleInnerClick(e){return this.allowMouseDownFlag=!0,!0}};b.defaultConfig={nullText:"",allowNull:!0,allowCustomItems:!1,minValue:new Date(t.MIN_YEAR,0,1),maxValue:new Date(t.MAX_YEAR,t.MONTHS_IN_YEAR-1,t.MAX_DAYS_IN_MONTH),timeMode:!1,durationMode:!1,enabled:!0,firstDayOfWeek:0},n.__decorate([(0,r.computedFrom)("enabled","config.readOnly","linkCommand.command"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],b.prototype,"isEditLink",null),n.__decorate([(0,r.computedFrom)("config.enabled","config.readOnly"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],b.prototype,"ROMode",null),n.__decorate([r.bindable,n.__metadata("design:type",Object)],b.prototype,"config",void 0),n.__decorate([(0,r.bindable)({defaultBindingMode:r.bindingMode.twoWay}),n.__metadata("design:type",Object)],b.prototype,"value",void 0),b=g=n.__decorate([r.autoinject,(0,r.customElement)("qp-datetime-edit"),n.__metadata("design:paramtypes",[Element,l.Container])],b),t.QpDatetimeEditCustomElement=b;class POS{constructor(){this.n0=-1,this.n1=-1}}class TXT{}class TextRange{constructor(e){this.element=e,this.selStart=0,this.selEnd=0}refreshSelection(){const e=this.element;e.selectionStart=this.selStart,e.selectionEnd=this.selEnd}select(e,t){const n=this.element,r=n.value.length;void 0===e||e<0?(e=0,t=r):void 0===t&&(t=e),t>=r?t=r:t<e&&(t=e),e>t&&(e=t),this.selStart=e,this.selEnd=t,null!=n.selectionStart?0===e&&t===r?n.select():(n.selectionStart=e,n.selectionEnd=t):n.select()}getSelectedText(){let e="";const t=this.element;return this.selStart=this.selEnd=0,null!=t.selectionStart&&null!=t.selectionEnd&&(this.selStart=t.selectionStart,this.selEnd=t.selectionEnd,this.selStart<this.selEnd&&(e=t.value.substring(this.selStart,this.selEnd))),e}}t.TextRange=TextRange}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/drop-down/qp-drop-down":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),n("./node_modules/client-controls/services/hover-activator-service/hover-activator-service.js"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c,u,p){"use strict";var h;Object.defineProperty(t,"__esModule",{value:!0}),t.DDElement=t.QpDropDownCustomElement=void 0;(0,o.getLogger)("drop-down");let g=h=class QpDropDownCustomElement extends d.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,this.value=null,this.valueArray=[],this.searchString="",this.searchTimeout=void 0,this.prepareHighlightIdx=void 0,this.showOptions=!1,this.hasFocus=!1,this.valueText="",this.highlightedIndex=void 0,this.autoSuggest=!1,this.currentImageUrl=void 0,this.addConfigSetter("options",(e=>{e||(e=[]);const t=this.config.options;t.splice(0,t.length,...e)})),this.addConfigSetter("multiSelect","allowMultiSelect"),this.addConfigSetter("type","valueType"),this.addConfigSetter("exclusiveValues",(e=>this.config.allowEdit=!e)),this.addConfigSetter("nullable","allowNull")}detached(){super.detached(),this.optionsObserver&&this.optionsObserver.dispose()}attached(){var e;super.attached(),this.config&&(this.options=void 0,this.value&&this.valueChanged(this.value,this.value),this.autoSuggest=null==this.config.autoSuggest?(null===(e=this.config.options)||void 0===e?void 0:e.length)>10:this.config.autoSuggest,this.subscribeToOptionsChange())}get ROMode(){return this.config&&(this.config.readOnly||!this.config.enabled)}configChanged(e,t){var n,r;this.config||(this.config={}),null===(n=this.optionsObserver)||void 0===n||n.dispose(),(0,p.applyDefaultValues)(this.config,h.defaultConfig),this.config.options||(this.config.options=[]),void 0===t&&this.config.value&&(this.value=this.config.value),this.autoSuggest=null==this.config.autoSuggest?(null===(r=this.config.options)||void 0===r?void 0:r.length)>10:this.config.autoSuggest,this.subscribeToOptionsChange(),this.options=void 0,this.syncValueTextWithValue()}decodeValueText(e){return e}encodeValueText(e){return e}syncValueTextWithValue(){var e;if(!this.config)return;if("string"==typeof this.value){const e=this.config.valuesSeparator;this.valueArray=this.config.allowMultiSelect?this.value.split(e):[this.value]}else null!=this.value?this.valueArray=[this.value.toString()]:this.valueArray=[];const t=this.decodeValueText(this.valueText);if(this.valueText="",null===(e=this.config)||void 0===e?void 0:e.options){let e="";this.valueArray.forEach((n=>{let r=this.config.options.find(((e,r)=>e.value===n&&e.text===t&&(e.selected=!0,!0)));r||(r=this.config.options.find(((e,t)=>e.value===n&&(e.selected=!0,!0)))),r?(e&&(e+=", "),e+=r.text):this.config.allowEdit&&(e=this.value||"")})),this.valueText=this.encodeValueText(e)}}valueChanged(e,t){var n;this.config&&this.config.options&&this.config.options.forEach((e=>e.selected=!1)),this.syncValueTextWithValue(),this.options=void 0,this.currentImageUrl=this.config&&this.config.options&&(null===(n=this.config.options.find((e=>e.value===this.value)))||void 0===n?void 0:n.imageUrl),this.config&&this.config.allowMultiSelect&&(this.options=this.getOptions(),this.options.forEach((e=>{this.config.options.find(((t,n)=>t.value===e.value&&(e.selected=t.selected,!0)))})))}enterHighlight(e){this.prepareHighlightIdx=e}commitHighlight(e){this.prepareHighlightIdx===e&&(this.highlight(e),this.prepareHighlightIdx=void 0)}highlight(e){this.showOptions&&(this.highlightedIndex=e)}select(e,t){this.appendValue(e.value),this.config.allowMultiSelect||(this.valueText=this.encodeValueText(e.text),this.hide()),t&&t.stopPropagation()}clearSelection(e){return e.preventDefault(),e.stopImmediatePropagation(),this.value=null,!1}toggleSelector(e){return!!this.ROMode||(e.preventDefault(),e.stopImmediatePropagation(),this.inputElement.focus(),this.showOptions?this.hide():this.show(!0),!1)}show(e=!1){this.showOptions=!0,e||!this.config.allowEdit&&!this.autoSuggest||this.filter(this.decodeValueText(this.valueText));const t=this.getOptions();for(let e=0;e<t.length;++e){const n=t[e];if(void 0!==this.valueArray.find((e=>e===n.value))){this.highlight(e);break}}this.eventAggregator.publish(u.MOUSE_DOWN_REACHED_BODY),this.tq.queueTask((()=>{this.scrollIntoView(),this.documentMouseDownSubscription=this.eventAggregator.subscribe(u.MOUSE_DOWN_REACHED_BODY,(()=>this.hide()));const e=this.container.get(l.HoverActivatorService);null==e||e.suppressTooltipFor(this.element)}))}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}hide(){if(this.unsubscribeFromMouseDownOnDocument(),this.showOptions){this.showOptions=!1;const e=this.container.get(l.HoverActivatorService);null==e||e.allowTooltipFor(this.element)}this.highlightedIndex=void 0}advanceSelection(e){const t=this.getOptions();null==this.highlightedIndex&&(this.highlightedIndex=e>=0?-1:t.length),this.highlightedIndex+=e,this.highlightedIndex<0?this.highlightedIndex=0:this.highlightedIndex>=t.length&&(this.highlightedIndex=t.length-1),this.optionsPane&&this.scrollIntoView()}ignoreClicks(e){e.preventDefault(),e.stopImmediatePropagation()}onFocus(){return(this.config.allowEdit||this.autoSuggest)&&this.inputElement.select(),!0}onBlur(){if(this.config.allowNull&&!this.decodeValueText(this.valueText))this.value=null;else if(this.config.allowEdit){const e=this.findElementByText(this.decodeValueText(this.valueText));this.value=e?e.value:this.decodeValueText(this.valueText)}else if(this.autoSuggest){const e=this.findElementByText(this.decodeValueText(this.valueText));e&&this.value!=e.value?this.value=e.value:this.syncValueTextWithValue()}return this.hide(),!0}onPaste(e){return!(!this.config.allowEdit&&!this.autoSuggest)}onInput(e){return this.filter(this.decodeValueText(this.valueText)),!this.showOptions&&this.autoSuggest&&this.show(),!1}onKeyPress(e){return this.searchString=this.searchString+e.key,void 0!==this.searchTimeout&&a.PLATFORM.global.clearTimeout(this.searchTimeout),this.config.allowEdit||this.autoSuggest?(this.showOptions||this.show(),!0):(this.search(this.searchString),this.searchTimeout=a.PLATFORM.global.setTimeout((()=>{this.searchString="",this.searchTimeout=void 0}),1e3),!1)}onKeyDown(e){if(this.ROMode)return!1;let t=!1;switch(e.key){case"Down":case"ArrowDown":this.showOptions?this.advanceSelection(1):(this.show(!0),null==this.highlightedIndex&&this.advanceSelection(1)),t=!0;break;case"Up":case"ArrowUp":this.showOptions?this.advanceSelection(-1):(this.show(!0),null==this.highlightedIndex&&this.advanceSelection(-1)),t=!0;break;case"Enter":void 0!==this.highlightedIndex&&this.select(this.getOptions()[this.highlightedIndex]);break;case"Esc":case"Escape":this.showOptions&&(this.hide(),t=!0)}if(!this.config.allowEdit&&!this.autoSuggest)switch(e.key){case" ":void 0!==this.highlightedIndex&&(this.select(this.getOptions()[this.highlightedIndex]),t=!0);break;case"Backspace":this.config.allowMultiSelect&&(this.value=""),this.config.allowNull&&(this.value=null),t=!0}return!t||(e.stopPropagation(),void 0!==this.searchTimeout&&clearTimeout(this.searchTimeout),!1)}getColorClass(e){return!e||e.startsWith("#")?"":`backcolor_${e.toLowerCase()}`}getAdditionalStyle(e){if(e&&e.startsWith("#"))return{background:e}}scrollIntoView(){var e,t;null!=this.highlightedIndex&&("scrollBehavior"in document.documentElement.style?null===(e=this.optionsPane.children[this.highlightedIndex])||void 0===e||e.scrollIntoView({block:"nearest"}):null===(t=this.optionsPane.children[this.highlightedIndex])||void 0===t||t.scrollIntoView(!1))}cloneOptions(e){this.options=e.map((({selected:e,value:t,imageUrl:n,text:r,enabled:o})=>({selected:e,value:t,imageUrl:n,text:r,enabled:o})))}getOptions(){return this.options||this.cloneOptions(this.config.options),this.options||[]}subscribeToOptionsChange(){this.optionsObserver&&this.optionsObserver.dispose(),this.config.options||(this.config.options=[]),this.optionsObserver=this.bindingEngine.collectionObserver(this.config.options).subscribe((()=>{this.options=void 0,this.autoSuggest=null==this.config.autoSuggest?this.config.options.length>10:this.config.autoSuggest,this.syncValueTextWithValue()}))}filter(e){if(this.highlightedIndex=0,!this.autoSuggest||!e||!this.config.options||0===this.config.options.length)return void this.cloneOptions(this.config.options);const t=e.toLocaleLowerCase(),n=new Array;this.config.options.forEach((e=>{e.text.toLocaleLowerCase().indexOf(t)>=0&&n.push(e)})),this.cloneOptions(n)}search(e){e=e.toLocaleLowerCase(),this.getOptions().find(((t,n)=>0===t.text.toLocaleLowerCase().indexOf(e)&&(this.highlight(n),this.select(t),!0)))}findElementByText(e){return e=e.toLocaleLowerCase(),this.getOptions().find(((t,n)=>!!(e&&t.text.toLocaleLowerCase()===e||!e&&!t.text)&&(this.highlight(n),this.select(t),!0)))}appendValue(e){if(this.config.allowMultiSelect){const t=this.valueArray.indexOf(e);if(-1===t){const t=this.valueArray.splice(0,this.valueArray.length).reduce(((e,t)=>(e[t]=!0,e)),{});t[e]=!0,this.config.options.forEach((e=>{t[e.value]&&this.valueArray.push(e.value)}))}else this.valueArray.splice(t,1);const n=this.config.valuesSeparator;this.value=this.valueArray.join(n)}else this.value=(0,p.netTypeConvert)(e,this.config.valueType)}};g.defaultConfig={enabled:!0,required:!1,valueType:u.NetType.String,autoSuggest:null,allowNull:!0,valuesSeparator:",",colorMode:!1,options:null},n.__decorate([r.bindable,n.__metadata("design:type",Object)],g.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],g.prototype,"value",void 0),n.__decorate([(0,r.computedFrom)("config.enabled","config.readOnly"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],g.prototype,"ROMode",null),g=h=n.__decorate([(0,r.customElement)("qp-drop-down"),r.autoinject,n.__metadata("design:paramtypes",[Element,c.Container])],g),t.QpDropDownCustomElement=g;t.DDElement=class DDElement{constructor(){this.selected=!1,this.enabled=!0}}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/external-viewer/qp-external-viewer":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeListener=t.QpExternalViewerCustomElement=void 0;let l=a=class QpExternalViewerCustomElement{constructor(){this.isAttached=!1,this.frameHeight=0,this.placeHolderHeight=0}attached(){this.isAttached=!0,this.applyConfig()}detached(){this.clearAutoHeight()}clearAutoHeight(){var e;this.frameHeight=0,this.placeHolderHeight=0,null===(e=this.listener)||void 0===e||e.dispose(),this.listener=void 0,this.resetTimer()}configChanged(e,t){void 0===t&&(0,o.applyDefaultValues)(e,a.defaultConfig),this.isAttached&&this.applyConfig()}applyConfig(){var e,t;(null===(e=this.config)||void 0===e?void 0:e.autoHeight)?(this.width=this.frameElement.getBoundingClientRect().width,null!==(t=this.listener)&&void 0!==t||(this.listener=new ResizeListener(this.frameElement,((e,t)=>this.handleResize(e)))),this.updateHeight()):this.clearAutoHeight()}resetTimer(){void 0!==this.timer&&(clearTimeout(this.timer),this.timer=void 0)}updateHeight(){void 0===this.timer?(this.placeHolderHeight=this.frameHeight,this.frameHeight=1):(clearTimeout(this.timer),this.timer=void 0),this.timer=setTimeout((()=>{var e;this.placeHolderHeight=0;try{this.frameHeight=function getContentHeight(e){var t,n,r;const o=null==e?void 0:e.body,a=null!==(t=null==o?void 0:o.offsetHeight)&&void 0!==t?t:0,l=null==o?void 0:o.parentElement,d=null!==(n=null==l?void 0:l.offsetHeight)&&void 0!==n?n:0,c=null!==(r=null==o?void 0:o.scrollHeight)&&void 0!==r?r:0;return c+(d-a)}(null===(e=this.frameElement.contentWindow)||void 0===e?void 0:e.document)}catch(e){this.frameHeight=0}this.resetTimer()}))}frameLoaded(){this.updateHeight()}handleResize(e){this.width!==e&&(this.width=e,this.updateHeight())}};l.defaultConfig={enabled:!0,readOnly:!1,scrolling:!0},n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"value",void 0),l=a=n.__decorate([r.autoinject,(0,r.customElement)("qp-external-viewer")],l),t.QpExternalViewerCustomElement=l;class ResizeListener{constructor(e,t){this.element=e;let n=0;this.observer=new ResizeObserver((e=>{const r=e&&e.length?e[0]:void 0;if(r){const{width:e,height:o}=r.contentRect;try{0==n++&&t(e,o)}finally{n--}}})),this.observer.observe(this.element)}dispose(){var e;null===(e=this.observer)||void 0===e||e.unobserve(this.element),this.observer=void 0}}t.ResizeListener=ResizeListener}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/icon/qp-hyper-icon":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],o=function(e,t,n,r,o,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.QpHyperIconCustomElement=void 0;(0,a.getLogger)("qp-hyper-icon");const d="@",c="svg:";let u=l=class QpHyperIconCustomElement{constructor(){this.disabled=!1,this.currentMode="normal",this.pushed=!1}disabledChanged(){this.disabled?this.currentMode="disabled":this.currentMode="normal"}imagesChanged(e,t){this.images.hover||(this.images.hover=this.images.normal),this.images.pushed||(this.images.pushed=this.images.hover),this.images.disabled||(this.images.disabled=this.images.normal)}OnMouseOver(){this.disabled||(this.pushed?this.currentMode="pushed":this.currentMode="hover")}OnMouseOut(){this.disabled||(this.currentMode="normal",this.pushed=!1)}OnMouseDown(){this.disabled||(this.currentMode="pushed",this.pushed=!0)}OnClick(){this.disabled||(this.currentMode="normal",this.pushed=!1)}get SpriteName(){return this.images&&l.parseSpriteName(this.images[this.currentMode])}get ImageName(){if(!this.images)return;if("svg"===l.parseImageType(this.images[this.currentMode])){const e=o.topWindow.__svg_icons_path,t=window.VENDOR_TIME_STAMP||"a",n=this.images[this.currentMode],r=n.indexOf("@"),a=n.substring(4,r);let l=n.substring(r+1);return l=e?`${e}${a}.svg?${t}#${l}`:`${o.siteRoot}Content/svg_icons/${a}.svg?${t}#${l}`,l}return l.parseImageName(this.images[this.currentMode])}get ImageType(){return this.images&&l.parseImageType(this.images[this.currentMode])}get SvgUrl(){if(!this.images)return;const e=this.images[this.currentMode],t=e.indexOf(d);if(t<0)return;if(0!==e.indexOf(c))return;const n=window.VENDOR_TIME_STAMP||"a",r=e.substring(4,t),a=e.substring(t+1),l=o.topWindow.__svg_icons_path;return l?`${l}${r}.svg?${n}#${a}`:`${o.siteRoot}/Content/svg_icons/${r}.svg?${n}#${a}`}static parseSpriteName(e){const t=e.indexOf(d);if(t<0)return null;const n=e.indexOf(c);return n>=0?e.substring(n+4,t):e.substring(0,t)}static parseImageName(e){const t=e.indexOf(d);return t<0?e:e.substr(t+1)}static parseImageType(e){let t=e.indexOf(c);return 0===t?"svg":(t=e.indexOf(d),t>=0?"sprite":"img")}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],u.prototype,"images",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],u.prototype,"disabled",void 0),n.__decorate([(0,r.computedFrom)("images","currentMode"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],u.prototype,"SpriteName",null),n.__decorate([(0,r.computedFrom)("images","currentMode"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],u.prototype,"ImageName",null),n.__decorate([(0,r.computedFrom)("images","currentMode"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],u.prototype,"ImageType",null),n.__decorate([(0,r.computedFrom)("images","currentMode"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],u.prototype,"SvgUrl",null),u=l=n.__decorate([r.autoinject,(0,r.customElement)("qp-hyper-icon")],u),t.QpHyperIconCustomElement=u}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/icon/qp-icon":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpIconCustomElement=void 0;(0,a.getLogger)("qp-icon");let l=class QpIconCustomElement{constructor(){this.imagesrc=null,this.spriteName=null,this.imageName=null,this.imageType=null,this.imageReady=!1}imgLoaded(){this.imageReady=!0}imagesrcChanged(e,t){const n=e||"";let o=!n;if(o)return this.spriteName=null,this.imageName=null,void(this.imageType=null);const a="svg:",l=n.indexOf("@");if(l<0&&(o=!0),o)return this.spriteName=null,n.startsWith("/")&&r.siteRoot&&!n.startsWith(r.siteRoot)?this.imageName=r.siteRoot+n.substring(1):this.imageName=n,void(this.imageType="img");const d=n.indexOf(a);if(this.spriteName=d>=0?n.substring(d+4,l):n.substring(0,l),this.imageName=n.substr(l+1),0===d){this.imageType="svg";const e=window.VENDOR_TIME_STAMP||"a",t=r.topWindow.__svg_icons_path;this.imageName=t?`${t}${this.spriteName}.svg?${e}#${this.imageName}`:`${r.siteRoot}Content/svg_icons/${this.spriteName}.svg?${e}#${this.imageName}`}else{const e=n.split("@");2===e.length?"fa"===e[0]?this.imageType="fa":this.imageType="sprite":this.imageType="img"}}};n.__decorate([o.bindable,(0,o.observable)({changeHandler:"imagesrcChanged"}),n.__metadata("design:type",Object)],l.prototype,"imagesrc",void 0),n.__decorate([o.bindable,n.__metadata("design:type",String)],l.prototype,"width",void 0),n.__decorate([o.bindable,n.__metadata("design:type",String)],l.prototype,"height",void 0),l=n.__decorate([o.autoinject,(0,o.customElement)("qp-icon")],l),t.QpIconCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/image/components/gallery/carousel":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/keyboard.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselCustomElement=void 0;let a=class CarouselCustomElement{constructor(e){this.element=e,this.previousEnabled=!0,this.nextEnabled=!0}move(e){var t,n;e?this.nextEnabled&&(null===(t=this.next)||void 0===t||t.call(this,{})):this.previousEnabled&&(null===(n=this.previous)||void 0===n||n.call(this,{}))}changePosition(e,t){(0,o.hasShortcutModifier)(e)||this.move(t),e.stopImmediatePropagation(),e.preventDefault()}carouselBodyChanged(){var e;null===(e=this.shortcuts)||void 0===e||e.dispose(),this.shortcuts=void 0,this.carouselBody&&(this.shortcuts=new o.ShortcutService(this.carouselBody).addShortcut("Ctrl+ArrowLeft, PageUp",(()=>this.move(!1))).addShortcut("Ctrl+ArrowRight, PageDown",(()=>this.move(!0))))}};n.__decorate([r.bindable,n.__metadata("design:type",Function)],a.prototype,"previous",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],a.prototype,"next",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],a.prototype,"previousEnabled",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],a.prototype,"nextEnabled",void 0),n.__decorate([r.observable,n.__metadata("design:type",Element)],a.prototype,"carouselBody",void 0),a=n.__decorate([r.autoinject,(0,r.customElement)("carousel"),n.__metadata("design:paramtypes",[Element])],a),t.CarouselCustomElement=a}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/image/components/gallery/image-feed":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/compound/rich-text-editor/editor/dom.js"),n("./node_modules/client-controls/controls/simple/image/components/types/index.js"),n("./node_modules/client-controls/controls/simple/image/components/utils.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageFeedCustomElement=void 0;let d=class ImageFeedCustomElement{constructor(e){this.element=e,this.index=-1,this.ratio=1.618,this.feedHeight=0,this.feedWidth=0,this.imageWidth=1/0,this.imageGap=0,this.leftTrack=0,this.rightTrack=0,this.feedOffset=0,this.images=[],this.loadedImages=new Map}bind(){}attached(){this.imageGap=Math.max(0,2*(0,o.getNumberCSSProperty)(this.element,"--image-view-image-padding",0)),this.listeners=new l.Disposables([new l.ResizeListener(this.element,((e,t)=>this.processResize(e,t)))]),this.collectionChanged()}detached(){var e,t;null===(e=this.listeners)||void 0===e||e.dispose(),null===(t=this.changeHandler)||void 0===t||t.dispose(),this.changeHandler=void 0}collectionChanged(){var e;return n.__awaiter(this,void 0,void 0,(function*(){null===(e=this.changeHandler)||void 0===e||e.dispose(),this.changeHandler=void 0,this.loadedImages.clear(),this.images.splice(0,this.images.length),this.feedOffset=0,this.leftTrack=0,this.rightTrack=0;const repaint=()=>n.__awaiter(this,void 0,void 0,(function*(){const e=this.element.getBoundingClientRect();yield this.processResize(e.width,e.height)}));(0,a.isMutableCollection)(this.collection)&&(this.changeHandler=this.collection.addMutationHandler((e=>{e.some((e=>"changed"!==e.name))&&repaint()}))),yield repaint()}))}loadImages(e,t){return n.__asyncGenerator(this,arguments,(function*loadImages_1(){var r,o;const a=this.collection;if(!a||void 0===e||t<=0)return yield n.__await(void 0);const l=a.getRange(e,t);try{for(var d,c=n.__asyncValues(l);!(d=yield n.__await(c.next())).done;){const t=d.value;if(a!==this.collection)return yield n.__await(void 0);const r={index:e++,source:t};this.loadedImages.set(r.index,r),yield yield n.__await(r)}}catch(e){r={error:e}}finally{try{d&&!d.done&&(o=c.return)&&(yield n.__await(o.call(c)))}finally{if(r)throw r.error}}}))}getImages(e,t){return n.__asyncGenerator(this,arguments,(function*getImages_1(){let r,o=0;for(let a=0;a<t;a++){const t=a+e,l=this.loadedImages.get(t);void 0===l?(null!=r||(r=t),o++):(yield n.__await(yield*n.__asyncDelegator(n.__asyncValues(this.loadImages(r,o)))),o=0,r=void 0,yield yield n.__await(l))}yield n.__await(yield*n.__asyncDelegator(n.__asyncValues(this.loadImages(r,o))))}))}getImageInFrame(e){return e=Math.max(0,e),!!this.images.find((t=>t.index===e))}scrollToSelected(){var e;if(!this.feed)return;const t=Math.max(0,this.index),n=this.images.findIndex((e=>e.index===t));if(-1===n)return;const r=this.feedWidth,a=this.images.length,l=this.imageWidth+this.imageGap,d=a*l;if(d<=r)return this.leftTrack=0,this.rightTrack=0,void(this.feedOffset=0);if("center"===(null!==(e=(0,o.getCSSProperty)(this.feed,"justify-content"))&&void 0!==e?e:"").toLowerCase()){this.feedOffset=0;const e=d+this.leftTrack+this.rightTrack,t=[this.leftTrack+n*l,this.leftTrack+(n+1)*l],o=[(e-r)/2,(e+r)/2];if(t[0]>=o[0]&&t[1]<=o[1])this.leftTrack+d<o[1]?(this.leftTrack=0,this.rightTrack=d-r):this.leftTrack>o[0]&&(this.leftTrack=d-r,this.rightTrack=0);else{if(t[0]<o[0]){const e=this.rightTrack-2*(o[0]-t[0]);return void(e>0?this.rightTrack=e:(this.rightTrack=0,this.leftTrack-=e))}{const e=this.leftTrack-2*(t[1]-o[1]);e>0?this.leftTrack=e:(this.leftTrack=0,this.rightTrack-=e)}}}else{this.leftTrack=0,this.rightTrack=0;const e=[n*l,(n+1)*l],t=[this.feedOffset,this.feedOffset+r];e[0]>=t[0]&&e[1]<=t[1]?d<t[1]&&(this.feedOffset=d-r):e[0]<t[0]?this.feedOffset=e[0]:this.feedOffset=e[1]-r}}updateVisibleImages(e){var t,r,o,a;return n.__awaiter(this,void 0,void 0,(function*(){const l=this.collection;if(l)try{null!=e||(e=this.images.length);const h=[];if(e>0){let l=0;const g=Math.max(0,this.index);if(this.getImageInFrame(g)){if(this.images.length===e)return;l=this.images[0].index}else l=0===this.images.length||g<this.images[0].index?g:Math.max(0,g-e+1);try{for(var d,c=n.__asyncValues(this.getImages(l,e));!(d=yield c.next()).done;){const e=d.value;h.push(e)}}catch(e){t={error:e}}finally{try{d&&!d.done&&(r=c.return)&&(yield r.call(c))}finally{if(t)throw t.error}}if(h.length<e){const t=Math.max(0,l-e+h.length),r=Math.max(0,l-t);if(r>0){const e=[];try{for(var u,p=n.__asyncValues(this.getImages(t,r));!(u=yield p.next()).done;){const t=u.value;e.push(t)}}catch(e){o={error:e}}finally{try{u&&!u.done&&(a=p.return)&&(yield a.call(p))}finally{if(o)throw o.error}}h.unshift(...e)}}}l===this.collection&&(this.images=h)}finally{this.scrollToSelected()}}))}updateImageCount(e){return n.__awaiter(this,void 0,void 0,(function*(){const t=this.imageWidth>0?Math.ceil(e/(this.imageWidth+this.imageGap)):0;0!==t?yield this.updateVisibleImages(1+t+1):this.images=[]}))}processResize(e,t){return n.__awaiter(this,void 0,void 0,(function*(){this.feedHeight=t,this.feedWidth=e,this.imageWidth=Math.max(0,this.feedHeight-this.imageGap)*this.ratio,yield this.updateImageCount(e)}))}selectImage(e,t){var n;this.index=t,null===(n=this.selected)||void 0===n||n.call(this,{source:e,index:t})}indexChanged(){return n.__awaiter(this,void 0,void 0,(function*(){this.index>=0&&(this.getImageInFrame(this.index)?this.scrollToSelected():yield this.updateVisibleImages())}))}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"collection",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],d.prototype,"index",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],d.prototype,"ratio",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],d.prototype,"selected",void 0),d=n.__decorate([r.autoinject,(0,r.customElement)("image-feed"),n.__metadata("design:paramtypes",[Element])],d),t.ImageFeedCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/image/components/gallery/image-gallery":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/keyboard.js"),n("./node_modules/client-controls/controls/simple/image/components/types/index.js"),n("./node_modules/client-controls/controls/simple/image/components/utils.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageGalleryCustomElement=void 0;let d=class ImageGalleryCustomElement{constructor(e){this.element=e,this.showFeed=!0,this.showArrows=!0,this.allowNull=!0,this.imageStyle="",this.readOnly=!1,this.allowZoom=!1,this.maxIndex=1/0}bind(){}attached(){this.collectionChanged()}detached(){var e,t;null===(e=this.shortcuts)||void 0===e||e.dispose(),this.shortcuts=void 0,null===(t=this.changeHandler)||void 0===t||t.dispose(),this.changeHandler=void 0}get minIndex(){return this.allowNull?-1:Math.min(0,this.maxIndex)}collectionChanged(){var e;return n.__awaiter(this,void 0,void 0,(function*(){this.imageSource=void 0,this.imageIndex=void 0,this.maxIndex=1/0,null===(e=this.changeHandler)||void 0===e||e.dispose(),this.changeHandler=void 0;const t=this.collection;if(t){const updateLength=e=>n.__awaiter(this,void 0,void 0,(function*(){t===this.collection&&(this.maxIndex=e-1,void 0!==this.index&&(this.index=(0,l.clamp)(this.minIndex,this.index,this.maxIndex),yield this.receiveImage()))})),update=()=>n.__awaiter(this,void 0,void 0,(function*(){t===this.collection&&(yield updateLength(yield t.getCount()))}));yield update(),(0,a.isMutableCollection)(t)&&(this.changeHandler=t.addMutationHandler((e=>{let t=0,n=!1;e.forEach((e=>{switch(e.name){case"changed":e.item===this.imageSource&&this.imageChanged();break;case"removed":e.item===this.imageSource&&(n=!0),t--;break;case"added":t++}})),n?this.collectionChanged():0!==t&&updateLength(this.maxIndex+t+1)})))}}))}imageChanged(){}indexChanged(){var e;return n.__awaiter(this,void 0,void 0,(function*(){const t=(0,l.clamp)(this.minIndex,null!==(e=this.index)&&void 0!==e?e:this.minIndex,this.maxIndex);t!==this.index&&(this.index=t),yield this.receiveImage()}))}galleryChanged(){var e;null===(e=this.shortcuts)||void 0===e||e.dispose(),this.shortcuts=void 0,this.gallery&&(this.shortcuts=new o.ShortcutService(this.gallery).addShortcut("ArrowLeft, ArrowUp, PageUp",(()=>this.move(-1))).addShortcut("ArrowRight, ArrowDown, PageDown",(()=>this.move(1))).addShortcut("Home",(()=>this.gotoStart())).addShortcut("End",(()=>this.gotoEnd())))}imageLoaded(e,t){var n;this.imageSource===e&&void 0!==this.imageIndex&&(null===(n=this.imageReady)||void 0===n||n.call(this,{source:e,image:t,index:this.imageIndex}))}receiveImage(){return n.__awaiter(this,void 0,void 0,(function*(){const e=this.index;if(!this.collection||void 0===e||e<0||e>this.maxIndex)return this.imageSource=void 0,void(this.imageIndex=void 0);if(this.imageSource&&this.imageIndex===e)return;const t=this.collection,n=yield t.getAt(e);t===this.collection&&e===this.index&&(n?(this.imageSource=n,this.imageIndex=e):void 0!==this.imageIndex?this.index=this.imageIndex:this.index=e>0?0:this.minIndex)}))}cancelImage(e){var t,n;null===(t=this.imageView)||void 0===t||t.reset(),e===this.imageSource&&void 0!==this.imageIndex&&(null===(n=this.imageCancel)||void 0===n||n.call(this,{source:e,index:this.imageIndex}))}clickImage(e,t){var n;this.imageSource===e&&void 0!==this.imageIndex&&(null===(n=this.imageClick)||void 0===n||n.call(this,{source:e,image:t,index:this.imageIndex}))}userSelect(e){var t;return n.__awaiter(this,void 0,void 0,(function*(){this.readOnly||this.index!==e&&(this.index=e,yield this.indexChanged(),null===(t=this.selected)||void 0===t||t.call(this,{source:this.imageSource,index:this.index}))}))}move(e){var t;this.userSelect((0,l.clamp)(this.minIndex,(null!==(t=this.index)&&void 0!==t?t:this.minIndex)+e,this.maxIndex))}gotoStart(){this.userSelect(0)}gotoEnd(){this.userSelect(this.maxIndex)}feedSelected(e,t){this.userSelect(t)}get sizeStyles(){let e="";const t=(0,l.convertToStylePixels)(this.width);void 0!==t&&(e+=`width: ${t};`);const n=(0,l.convertToStylePixels)(this.height);return void 0!==n&&(e+=`height: ${n};`),e}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"collection",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"width",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"height",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],d.prototype,"index",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],d.prototype,"showFeed",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],d.prototype,"showArrows",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],d.prototype,"allowNull",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],d.prototype,"imageStyle",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],d.prototype,"readOnly",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],d.prototype,"allowZoom",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],d.prototype,"imageClick",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],d.prototype,"imageCancel",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],d.prototype,"imageReady",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],d.prototype,"selected",void 0),n.__decorate([r.observable,n.__metadata("design:type",Object)],d.prototype,"imageSource",void 0),n.__decorate([r.observable,n.__metadata("design:type",HTMLElement)],d.prototype,"gallery",void 0),n.__decorate([(0,r.computedFrom)("width","height"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],d.prototype,"sizeStyles",null),d=n.__decorate([r.autoinject,(0,r.customElement)("image-gallery"),n.__metadata("design:paramtypes",[Element])],d),t.ImageGalleryCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/simple/image/components/index.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/controls/simple/image/components/types/index.js"),n("./node_modules/client-controls/controls/simple/image/components/utils.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(r,t),n.__exportStar(o,t)}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/image/components/popup/image-popup":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/index.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/keyboard.js"),n("./node_modules/client-controls/controls/simple/image/components/utils.js"),n("./node_modules/client-controls/controls/simple/image/components/types/index.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImagePopupCustomElement=void 0;let c=class ImagePopupCustomElement{constructor(e,t){this.element=e,this.bindingEngine=t,this.index=0,this.visible=!1,this.maxIndex=1/0,this.Messages=o.Messages,this.serviceButtons=[{modelName:"button",model:{id:"print",icon:"svg:main@print",getLabel:()=>this.Messages.PrintImageActionTitle,execute:()=>this.print()}},{modelName:"button",model:{id:"download",icon:"main@GetFile",getLabel:()=>this.Messages.DownloadImageActionTitle,execute:()=>this.download()}}]}attached(){this.updateToolbar()}detached(){this.visible=!1,this.detachListeners()}detachListeners(){var e,t;null===(e=this.propertyListeners)||void 0===e||e.dispose(),this.propertyListeners=void 0,null===(t=this.collectionListener)||void 0===t||t.dispose(),this.collectionListener=void 0}visibleChanged(){var e;this.visible?this.shortcuts=new a.ShortcutService(this.element.ownerDocument.documentElement).addShortcut("ArrowLeft, ArrowUp, PageUp",(()=>this.move(-1))).addShortcut("ArrowRight, ArrowDown, PageDown",(()=>this.move(1))).addShortcut("Home",(()=>this.index=0)).addShortcut("End",(()=>this.index=this.maxIndex)).addShortcut("Enter",(()=>this.ok())).addShortcut("Escape",(()=>this.cancel())):(null===(e=this.shortcuts)||void 0===e||e.dispose(),this.shortcuts=void 0)}srcChanged(){return n.__awaiter(this,void 0,void 0,(function*(){(0,d.isImageUrl)(this.src)||(0,d.isImageSource)(this.src)?this.collection=(0,l.createImageCollection)([this.src]):(0,d.isImageCollection)(this.src)?this.collection=this.src:this.collection=void 0}))}collectionChanged(){return n.__awaiter(this,void 0,void 0,(function*(){this.detachListeners(),this.maxIndex=1/0,this.collection&&(this.maxIndex=(yield this.collection.getCount())-1,(0,d.isMutableCollection)(this.collection)&&(this.collectionListener=this.collection.addMutationHandler((e=>{this.collectionChanged()}))))}))}move(e){this.index=(0,l.clamp)(0,this.index+e,this.maxIndex)}closePopup(e){var t;null===(t=this.close)||void 0===t||t.call(this,{succeeded:e}),this.visible=!1}ok(){this.closePopup(!0)}cancel(){this.closePopup(!1)}imageReady(e,t){var n;this.imageSource=e,this.image=t,this.imageName=null!==(n=e.name)&&void 0!==n?n:this.Messages.NoImageImagePopupCaption,this.updateToolbar()}imageSelected(e){this.index=e,this.updateToolbar()}updateToolbarState(){Promise.resolve().then((()=>{var e,t;return null===(t=null===(e=this.toolbar)||void 0===e?void 0:e.refresh)||void 0===t?void 0:t.call(e)}))}updateToolbar(){var e,t,n;const r=[],o=[],a=[],l=this.image,d=this.imageSource;if(d&&l){const createToolbarButton=(e,t)=>({id:e,modelName:"button",model:{id:e,icon:t.icon,getLabel:()=>{var e;return null!==(e=t.label)&&void 0!==e?e:""},getEnabled:()=>{var t,n;if(!this.image)return!1;const r=null===(n=null===(t=this.imageSource)||void 0===t?void 0:t.queryAction)||void 0===n?void 0:n.call(t,e,this.image);return!!r&&!r.disabled},execute:()=>{var e,n,r;if(!this.image)return!1;const o=null!==(r=null===(n=null===(e=this.imageSource)||void 0===e?void 0:e.executeCommand)||void 0===n?void 0:n.call(e,t.command,this.image,t.args))&&void 0!==r&&r;return o&&this.updateToolbarState(),o}}}),n=(null!==(t=null===(e=d.getActions)||void 0===e?void 0:e.call(d))&&void 0!==t?t:[]).map((e=>{var t;return{name:e,action:null===(t=d.queryAction)||void 0===t?void 0:t.call(d,e,l)}})).filter((e=>!!e.action&&!e.action.hidden));r.push(...n.filter((e=>"edit"!==e.name)).map((e=>createToolbarButton(e.name,e.action)))),o.push(...n.filter((e=>"edit"===e.name)).map((e=>createToolbarButton(e.name,e.action)))),d.name&&a.push(...this.serviceButtons),this.propertyListeners=this.bindingEngine.propertyObserver(l,"scale").subscribe((()=>this.updateToolbarState()))}this.toolbarToolsConfig={type:"main",sizing:"ellipsis",showMode:"both",items:[...r,...a,...o]},null!==(n=this.toolbarSystemConfig)&&void 0!==n||(this.toolbarSystemConfig={type:"panel",sizing:"fit-content",showMode:"icons",items:[{modelName:"button",model:{id:"close",icon:"svg:main@close",execute:()=>(this.cancel(),!0)}}]})}download(){var e;if(!this.image||!this.imageSource)return!1;const t=document.createElement("a");return t.style.display="none",t.download=null!==(e=this.imageSource.name)&&void 0!==e?e:"",t.href=this.image.url,document.body.append(t),t.click(),t.remove(),!0}print(){if(!this.image||!this.imageSource)return!1;const e=window.open("about:blank","_new");if(!e)return!1;const t=e.document;return t.open(),t.write(`\n\t\t\t<html><body onload="window.print()" onafterprint="window.close()">\n\t\t\t\t<img src="${this.image.url}"/>\n\t\t\t</body></html>`),t.close(),!0}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],c.prototype,"src",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Number)],c.prototype,"index",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],c.prototype,"visible",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],c.prototype,"close",void 0),n.__decorate([r.observable,n.__metadata("design:type",Object)],c.prototype,"collection",void 0),c=n.__decorate([r.autoinject,(0,r.customElement)("image-popup"),n.__metadata("design:paramtypes",[Element,r.BindingEngine])],c),t.ImagePopupCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/simple/image/components/types/collection.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/simple/image/components/types/image-collection.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMutableCollection=t.isImageCollection=t.isImageSource=t.isImageUrl=void 0,t.isImageUrl=function isImageUrl(e){return"string"==typeof e},t.isImageSource=function isImageSource(e){return"object"==typeof e&&"data"in e},t.isImageCollection=function isImageCollection(e){return"object"==typeof e&&"getCount"in e},t.isMutableCollection=function isMutableCollection(e){return"object"==typeof e&&"addMutationHandler"in e}}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/controls/simple/image/components/types/index.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/controls/simple/image/components/types/collection.js"),n("./node_modules/client-controls/controls/simple/image/components/types/image-collection.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(r,t),n.__exportStar(o,t)}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/simple/image/components/utils.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/types.js"),n("./node_modules/client-controls/controls/simple/image/components/types/index.js"),n("./node_modules/client-controls/services/index.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js")],o=function(e,t,n,r,o,a,l){"use strict";function createSharedImageGetter(e){return new SharedImageGetter(e)}var d,c;Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=t.createAbsoluteUrl=t.Disposables=t.ResizeListener=t.IntersectionListener=t.MutationListener=t.convertToStyleAbsolutePixels=t.convertToStylePixels=t.createImageCollection=t.crateImageSource=t.ZoomFeature=t.getImageName=t.SharedImageGetterError=t.createUploadImageGetter=t.createSharedImageGetter=void 0,t.createSharedImageGetter=createSharedImageGetter,t.createUploadImageGetter=function createUploadImageGetter(e,t,n){return new UploadImageGetter(e,t,n)},function(e){e.InvalidMime="Invalid image type"}(d=t.SharedImageGetterError||(t.SharedImageGetterError={}));class BaseSharedImageGetter{constructor(e){this.url=e,this.requests=[]}createGetter(e){const getValue=()=>n.__awaiter(this,void 0,void 0,(function*(){this.addRequest(e);try{const t=yield this.getUrl();if(void 0===t)return;return{url:t,size:(null==e?void 0:e.size)?Object.assign({},e.size):void 0,scale:1}}finally{this.removeRequest(e)}}));return{get value(){return getValue()},cancel:()=>this.abort()}}abort(){this.promise=void 0}addRequest(e){e&&e.progressHandler&&-1===this.requests.indexOf(e)&&this.requests.push(e)}removeRequest(e){if(e){const t=this.requests.indexOf(e);-1!==t&&this.requests.splice(t,1)}}sendProgress(e){this.requests.forEach((t=>{var n;return!t.canceled&&(null===(n=t.progressHandler)||void 0===n?void 0:n.call(t,e,t))}))}}class SharedImageGetter extends BaseSharedImageGetter{abort(){var e;null===(e=this.loader)||void 0===e||e.abort(),super.abort()}getUrl(){var e;return null!==(e=this.promise)&&void 0!==e?e:this.promise=new Promise((e=>{const send=t=>{this.loader=void 0,e(t)},t=this.url;if(t.startsWith("blob:"))return send(t);const error=e=>{void 0===e?this.sendProgress(!1):this.sendProgress({message:e}),this.promise=void 0,send()},n=this.loader=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=e=>{if(!n)return;const t=n.getAllResponseHeaders().match(/^Content-Type\:\s*(.*?)$/im),r=(t&&t[1]||"image/png").toLowerCase();r.startsWith("image")?send(URL.createObjectURL(new Blob([n.response],{type:r}))):error(d.InvalidMime)},n.onprogress=e=>{e.lengthComputable&&this.sendProgress(e.loaded/e.total*100)},n.onloadstart=()=>this.sendProgress(0),n.onloadend=()=>this.loader&&this.sendProgress(1/0),n.onabort=n.ontimeout=n.onerror=()=>error(),n.send()}))}}class EndlessProgress{constructor(e){this.handler=e,this.position=0,this.interval=setInterval((()=>this.step()),1e3)}dispose(){void 0!==this.interval&&(clearInterval(this.interval),this.interval=void 0)}step(){const e=Math.max(0,90-this.position),t=Math.max(Number.EPSILON,1*e/10);this.position=Math.min(90,this.position+t),this.handler(this.position)}}class UploadImageGetter extends BaseSharedImageGetter{constructor(e,t,n){super(t),this.name=e,this.controller=n}createGetter(e){return Object.assign(super.createGetter(e),{preview:this.url,progressTitle:(0,a.Format)(a.Messages.UploadingImageMessage,getImageName(this.name))})}setController(e){this.controller=e}fullfil(e){var t,n;this.clearProgress();const r=e?this.url:void 0;null===(t=this.resolve)||void 0===t||t.call(this,r),null!==(n=this.promise)&&void 0!==n||(this.promise=Promise.resolve(r))}abort(){var e;null===(e=this.controller)||void 0===e||e.abort(),this.clearProgress(),super.abort()}getUrl(){var e;return null!==(e=this.promise)&&void 0!==e?e:this.promise=new Promise((e=>{this.progress=new EndlessProgress((e=>this.sendProgress(e))),this.resolve=e}))}clearProgress(){var e;null===(e=this.progress)||void 0===e||e.dispose(),this.progress=void 0}}function getImageName(e){if(!e)return"";let t=e.replace("\\","/");t=t.substring(t.lastIndexOf("/")+1);try{return decodeURIComponent(t)}catch(e){return t}}t.getImageName=getImageName,function(e){e.CommandName="zoom",e.InActionName="zoom-in",e.OutActionName="zoom-out",e.MinValue=1,e.Delta=.2,e.MaxValue=30,e.zoomImage=function zoomImage(t,n){var o;let a=null!==(o=t.scale)&&void 0!==o?o:1;return"number"==typeof n?a=n:"object"==typeof n&&n&&"number"==typeof n.delta&&(a+=n.delta),(0,r.mutable)(t).scale=Math.max(e.MinValue,Math.min(a,e.MaxValue)),!0}}(c=t.ZoomFeature||(t.ZoomFeature={}));class ImageSource{constructor(e){this.url=e,this.commands=[{name:c.CommandName,execute:(e,t)=>c.zoomImage(e,t),query:e=>({minValue:c.MinValue,maxValue:c.MaxValue,value:e.scale})}],this.actions=[{name:c.InActionName,query:e=>{var t;return{command:c.CommandName,args:{delta:c.Delta},icon:"svg:main@plus",disabled:(null!==(t=e.scale)&&void 0!==t?t:c.MinValue)===c.MaxValue}}},{name:c.OutActionName,query:e=>{var t;return{command:c.CommandName,args:{delta:-c.Delta},icon:"svg:main@minus",disabled:(null!==(t=e.scale)&&void 0!==t?t:c.MinValue)===c.MinValue}}}],this.name=getImageName(e)}get(e){var t;return null!==(t=this.getter)&&void 0!==t||(this.getter=createSharedImageGetter(this.url)),this.getter.createGetter(e)}getActions(){return this.actions.map((e=>e.name))}queryAction(e,t){var n;return null===(n=this.actions.find((t=>t.name===e)))||void 0===n?void 0:n.query(t)}getCommands(){return this.commands.map((e=>e.name))}queryCommand(e,t){var n;return null===(n=this.commands.find((t=>t.name===e)))||void 0===n?void 0:n.query(t)}executeCommand(e,t,n){var r,o;return null!==(o=null===(r=this.commands.find((t=>t.name===e)))||void 0===r?void 0:r.execute(t,n))&&void 0!==o&&o}}function crateImageSource(e){return new ImageSource(e)}t.crateImageSource=crateImageSource,t.createImageCollection=function createImageCollection(e){const t=Array.from(e).map((e=>new r.Lazy((()=>(0,o.isImageUrl)(e)?crateImageSource(e):e))));return{getCount(){return n.__awaiter(this,void 0,void 0,(function*(){return t.length}))},getAt(e){return n.__awaiter(this,void 0,void 0,(function*(){if(e>=0&&e<t.length)return t[e].get()}))},getRange(e,r){return n.__asyncGenerator(this,arguments,(function*getRange_1(){const o=Math.min(t.length,e+r);for(let r=Math.max(0,e);r<o;r++)yield yield n.__await(t[r].get())}))}}},t.convertToStylePixels=function convertToStylePixels(e){return"number"==typeof e?`${e}px`:"string"==typeof e?/^[\d\s\.]*$/.test(e.toLowerCase())?`${parseInt(e)}px`:e:void 0},t.convertToStyleAbsolutePixels=function convertToStyleAbsolutePixels(e){if("number"==typeof e)return`${e}px`;if("string"==typeof e){if(/^[\d\s\.]*$/.test(e.toLowerCase()))return`${parseInt(e)}px`;if(!/\%/.test(e))return e}};t.MutationListener=class MutationListener{constructor(e,t,n){this.element=e,this.observer=new MutationObserver(t),this.observer.observe(this.element,n)}dispose(){this.observer.disconnect()}};t.IntersectionListener=class IntersectionListener{constructor(e,t,n){this.container=e,this.targets=t,this.observer=new IntersectionObserver(n,{root:e,threshold:0}),t.forEach((e=>this.observer.observe(e)))}dispose(){this.targets.forEach((e=>this.observer.unobserve(e)))}};t.ResizeListener=class ResizeListener{constructor(e,t){this.element=e;let n=0;this.observer=new ResizeObserver((e=>{try{if(0==n++){const n=e&&e.length?e[0]:void 0;if(n){const{width:e,height:r}=n.contentRect;t(e,r)}}}finally{n--}})),this.observer.observe(this.element)}dispose(){var e;null===(e=this.observer)||void 0===e||e.unobserve(this.element)}};t.Disposables=class Disposables{constructor(e){this.items=[],e&&this.append(...e)}append(...e){this.items.push(...e.filter((e=>!!e)))}dispose(){this.items.forEach((e=>e.dispose())),this.items.length=0}},t.createAbsoluteUrl=function createAbsoluteUrl(e){return e?e.startsWith("/")&&l.siteRoot&&!e.startsWith(l.siteRoot)?l.siteRoot+e.substring(1):e:""},t.clamp=function clamp(e,t,n){return Math.max(e,Math.min(t,n))}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/simple/image/components/view/image-scale.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/controls/compound/rich-text-editor/common/events.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomPanController=void 0;class Transformations{constructor(e,t,n,r,o){this.originX=e,this.originY=t,this.translateX=n,this.translateY=r,this.scale=o}transform(){return this.scale>1?`matrix(${this.scale.toFixed(1)}, 0, 0, ${this.scale.toFixed(1)}, ${this.translateX.toFixed(1)}, ${this.translateY.toFixed(1)})`:""}transformOrigin(){return this.scale>1?`${this.originX.toFixed(10)}px ${this.originY.toFixed(10)}px`:""}shift(e,t){return 1===this.scale?this:new Transformations(this.originX,this.originY,this.translateX+e,this.translateY+t,this.scale)}zoom(e,t,n){if(1===(e=Math.max(1,Math.min(e,Infinity))))return new Transformations(0,0,0,0,1);const r=this.originX*this.scale,o=this.originY*this.scale;if(Math.abs(t-r)<=1&&Math.abs(n-o)<=1)return new Transformations(this.originX,this.originY,this.translateX,this.translateY,e);const a=t/this.scale,l=n/this.scale,d=this.translateX+(t-r)*(1-1/this.scale),c=this.translateY+(n-o)*(1-1/this.scale);return new Transformations(a,l,d,c,e)}}t.ZoomPanController=class ZoomPanController{constructor(e,t){this.element=e,this.handler=t,this.current=new Transformations(0,0,0,0,1),this.eventManager=new n.EventManager,["wheel","mousedown","mouseup","mousemove"].forEach((e=>this.eventManager.on(this.element,e,this[e].bind(this))))}dispose(){this.handler=void 0,this.eventManager.dispose(),this.applyTransformations(new Transformations(0,0,0,0,1))}get zoom(){return this.current.scale}setZoom(e){if(this.current.scale!==e){let{originX:t,originY:n}=this.current;if(1===this.current.scale&&0===t&&0===n){const e=this.element.getBoundingClientRect();t=e.width/2,n=e.height/2}else t*=this.current.scale,n*=this.current.scale;this.applyTransformations(this.current.zoom(e,t,n))}}shift(e,t){this.applyTransformations(this.current.shift(e,t))}reset(){this.setZoom(1)}applyTransformations(e){var t;const n=this.element.style,r=e.transformOrigin();n.setProperty("transform-origin",r);const o=e.transform();n.setProperty("transform",o),this.current=e,null===(t=this.handler)||void 0===t||t.call(this,this.current.scale)}wheel(e){if(!(0!==e.buttons||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){e.preventDefault();const t=-e.deltaY/1e3,{top:n,left:r}=this.element.getBoundingClientRect();this.applyTransformations(this.current.zoom(this.current.scale+t,e.pageX-r,e.pageY-n))}}catchEvent(e){return!(1!==e.buttons||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)}mousedown(e){this.catchEvent(e)?this.panning=[e.pageX,e.pageY]:this.panning=void 0}mouseup(e){this.panning=void 0}mousemove(e){if(this.panning)if(this.catchEvent(e)){const t=this.panning;this.panning=[e.pageX,e.pageY],this.shift(this.panning[0]-t[0],this.panning[1]-t[1])}else this.panning=void 0}}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/image/components/view/image-view":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/types.js"),n("./node_modules/client-controls/controls/simple/image/components/types/index.js"),n("./node_modules/client-controls/controls/simple/image/components/utils.js"),n("./node_modules/client-controls/controls/simple/image/components/view/image-scale.js"),n("./node_modules/client-controls/services/index.js")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomCustomAttribute=t.ImageViewCustomElement=void 0;let u=class ImageViewCustomElement{constructor(e){this.element=e,this.objectFit="scale-down",this.objectPosition="unset",this.allowZoom=!1,this.progress=-1,this.loadFinished=!1,this.canceled=!1}bind(){}attached(){this.srcChanged()}reset(){this.image=void 0,this.request&&((0,o.mutable)(this.request).canceled=!0,this.request=void 0),this.getter=void 0,this.preview=void 0,this.progressTitle=void 0,this.progress=-1,this.canceled=!1,this.loadFinished=!1,this.errorOnLoad=void 0}reload(){this.reset(),this.receiveImage()}srcChanged(){this.reset(),(0,a.isImageUrl)(this.src)?this.source=(0,l.crateImageSource)(this.src):this.source=this.src,this.receiveImage()}receiveImage(){var e;return n.__awaiter(this,void 0,void 0,(function*(){if(this.image||!this.source)return;this.progress=0,this.request={size:this.getImageRuntimeSize(),progressHandler:(e,t)=>this.setProgress(e,t)};const t=this.source,n=this.getter=t.get(this.request);this.progressTitle=n.progressTitle,this.preview=n.preview;const r=yield n.value;n===this.getter&&(this.image=r,this.preview=void 0,this.progressTitle=void 0,r&&(null===(e=this.loaded)||void 0===e||e.call(this,{source:t,image:r})))}))}updateZoom(){var e,t;if(this.allowZoom&&this.source&&this.image){const n=null===(t=(e=this.source).queryCommand)||void 0===t?void 0:t.call(e,l.ZoomFeature.CommandName,this.image);(null==n?void 0:n.disabled)?this.zoomApplied=!1:!1===this.zoomApplied&&(this.zoomApplied=1)}else this.zoomApplied=!1}imageChanged(){this.updateZoom()}allowZoomChanged(){this.updateZoom()}get zoomApplied(){var e,t;return!!this.allowZoom&&(null!==(t=null===(e=this.image)||void 0===e?void 0:e.scale)&&void 0!==t?t:1)}set zoomApplied(e){var t,n;"number"==typeof e&&!isNaN(e)&&this.image&&(null===(n=null===(t=this.source)||void 0===t?void 0:t.executeCommand)||void 0===n||n.call(t,l.ZoomFeature.CommandName,this.image,e))}setProgress(e,t){this.request===t&&(!1===e?this.loadingCanceled():"object"==typeof e?(e&&(this.errorOnLoad=e.message),this.loadingCanceled(),this.errorHappened()):"number"==typeof e&&(this.canceled=!1,this.progress=e))}setLoaded(){this.loadFinished=!0}errorHappened(){var e;this.loadFinished=!0,this.source&&(null===(e=this.error)||void 0===e||e.call(this,{source:this.source}))}loadingCanceled(){this.canceled=!0,this.progress=-1}cancelLoading(){var e,t;null===(e=this.getter)||void 0===e||e.cancel(),this.loadingCanceled(),this.source&&(null===(t=this.cancel)||void 0===t||t.call(this,{source:this.source}))}mouseDown(e){1===e.buttons?this.touchPoint=new TouchPoint(e):this.touchPoint=void 0}mouseLeave(e){this.touchPoint=void 0}mouseMove(e){var t;1===e.buttons&&(null===(t=this.touchPoint)||void 0===t?void 0:t.sameAction(e))||(this.touchPoint=void 0)}mouseUp(e){0===e.buttons&&(this.touchPoint&&this.callClick(e),this.touchPoint=void 0)}callClick(e){try{if(e.ctrlKey&&e.shiftKey)return void this.reload();if(this.click&&this.loadFinished&&this.image&&this.source&&!(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey))return void this.click({source:this.source,image:this.image})}finally{e.stopImmediatePropagation(),e.preventDefault()}}getImageRuntimeSize(){var e;const t=(null!==(e=this.viewFrame)&&void 0!==e?e:this.element).getBoundingClientRect();return{width:t&&Math.round(t.width)||void 0,height:t&&Math.round(t.height)||void 0}}get styles(){let e="";const t=(0,l.convertToStylePixels)(this.width);void 0!==t&&(e+=`width: ${t};`);const n=(0,l.convertToStylePixels)(this.height);return void 0!==n&&(e+=`height: ${n};`),e}get downloadingMessage(){var e;if(null===(e=this.source)||void 0===e?void 0:e.name){const e=this.progressTitle;return void 0===e?(0,c.Format)(c.Messages.DownloadingImageMessage,this.source.name):e}return""}get reloadMessage(){var e;return(null===(e=this.source)||void 0===e?void 0:e.name)?this.errorOnLoad?(0,c.Format)(c.Messages.LoadErrorImageMessage,this.source.name):(0,c.Format)(c.Messages.ReloadImageMessage,this.source.name):""}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],u.prototype,"src",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],u.prototype,"width",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],u.prototype,"height",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],u.prototype,"objectFit",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],u.prototype,"objectPosition",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],u.prototype,"allowZoom",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],u.prototype,"click",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],u.prototype,"error",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],u.prototype,"cancel",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],u.prototype,"loaded",void 0),n.__decorate([r.observable,n.__metadata("design:type",Object)],u.prototype,"image",void 0),n.__decorate([(0,r.computedFrom)("image","image.scale","allowZoom"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[Object])],u.prototype,"zoomApplied",null),n.__decorate([(0,r.computedFrom)("width","height","getter","loadFinished","canceled"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],u.prototype,"styles",null),n.__decorate([(0,r.computedFrom)("source","source.name","progressTitle"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],u.prototype,"downloadingMessage",null),n.__decorate([(0,r.computedFrom)("source","getter","source.name","errorOnLoad"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],u.prototype,"reloadMessage",null),u=n.__decorate([r.autoinject,(0,r.customElement)("image-view"),n.__metadata("design:paramtypes",[Element])],u),t.ImageViewCustomElement=u;class TouchPoint{constructor(e){this.pageX=e.pageX,this.pageY=e.pageY,this.timestamp=e.timeStamp}sameAction(e){if(e.timeStamp-this.timestamp<20)return!0;return Math.abs(this.pageX-e.pageX)<10&&Math.abs(this.pageY-e.pageY)<10}}let p=class ZoomCustomAttribute{constructor(e){this.element=e,this.isAttached=!1}attached(){this.isAttached=!0,this.valueChanged()}detached(){this.detachController(),this.isAttached=!1}detachController(){var e;null===(e=this.controller)||void 0===e||e.dispose(),this.controller=void 0}valueChanged(){var e;this.isAttached&&!1!==this.value&&!isNaN(this.value)?(null!==(e=this.controller)&&void 0!==e||(this.controller=new d.ZoomPanController(this.element,(e=>this.value=e))),this.controller.setZoom(this.value)):this.detachController()}};p=n.__decorate([r.autoinject,(0,r.customAttribute)("zoom",r.bindingMode.twoWay),n.__metadata("design:paramtypes",[Element])],p),t.ZoomCustomAttribute=p}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/image/components/view/load-progress":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadProgressCustomElement=void 0;let o=class LoadProgressCustomElement{constructor(){this.progress=0,this.radius=17,this.fullPathLength=Math.PI*this.radius*2,this.maxProgressValue=100,this.startProgressBias=5,this.endProgressBias=2}bind(){}attached(){this.progressChanged()}detached(){this.stopRotating()}startRotating(){var e;null!==(e=this.spinner)&&void 0!==e||(this.spinner=a.createSpinner())}stopRotating(){var e;null===(e=this.spinner)||void 0===e||e.dispose(),this.spinner=void 0}progressChanged(){this.progress>=this.maxProgressValue?this.stopRotating():this.progress+this.startProgressBias>0&&this.startRotating()}triggerClick(e){if(this.cancel){e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||this.cancel({}),e.stopImmediatePropagation(),e.preventDefault()}}get progressValue(){return this.fullPathLength*(this.maxProgressValue-Math.min(this.maxProgressValue-this.endProgressBias,Math.max(this.startProgressBias,this.progress)))/this.maxProgressValue}};var a;n.__decorate([r.bindable,n.__metadata("design:type",Number)],o.prototype,"progress",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],o.prototype,"cancel",void 0),n.__decorate([(0,r.computedFrom)("progress"),n.__metadata("design:type",Number),n.__metadata("design:paramtypes",[])],o.prototype,"progressValue",null),o=n.__decorate([r.autoinject,(0,r.customElement)("load-progress")],o),t.LoadProgressCustomElement=o,function(e){e.ProgressStartingAngle=316;let t=e.ProgressStartingAngle;const n=[];class Spinner{constructor(){this.angle=t,this.disposed=!1,n.push(this),function startRotating(){0==d++&&(t=e.ProgressStartingAngle,l=window.setInterval((()=>function rotateValue(){t=(t+a)%r,n.forEach((e=>!e.disposed&&(e.angle=t)))}()),o))}()}dispose(){if(!this.disposed){this.disposed=!0,function stopRotating(){0==--d&&(window.clearInterval(l),l=void 0)}();const e=n.indexOf(this);-1!==e&&n.splice(e,1)}}}e.createSpinner=function createSpinner(){return new Spinner};const r=360,o=25,a=r/4e3*o;let l,d=0}(a||(a={}))}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/simple/image/index.js":(e,t,n)=>{var r,o;r=[n,t,n("client-controls/controls/simple/image/view/qp-image-view"),n("client-controls/controls/simple/image/upload/qp-image-uploader")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpImageUploaderCustomElement=t.QpImageViewCustomElement=void 0,Object.defineProperty(t,"QpImageViewCustomElement",{enumerable:!0,get:function(){return n.QpImageViewCustomElement}}),Object.defineProperty(t,"QpImageUploaderCustomElement",{enumerable:!0,get:function(){return r.QpImageUploaderCustomElement}})}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/image/upload/qp-image-uploader":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-event-aggregator"),n("aurelia-framework"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/services/index.js"),n("./node_modules/client-controls/controls/compound/system-menu/files-dialog-api-client.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/client-controls/controls/simple/image/components/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpImageUploaderCustomElement=void 0;let m=class QpImageUploaderCustomElement extends u.QpBaseFieldEditor{constructor(e,t,n){super(n),this.element=e,this.screenService=t,this.width="100px",this.height="100px",this.config={},this.index=-1,this.collectionSize=1/0,this.isAttached=!1,this.popupVisible=!1,this.popupIndex=-1,this.acceptList=[],this.Messages=l.Messages}bind(){const updateImages=()=>n.__awaiter(this,void 0,void 0,(function*(){var e;null!==(e=this.screen)&&void 0!==e||(this.screen=this.screenService.model),yield this.reloadImages()}));this.listeners=new p.Disposables([this.eventAggregator.subscribe("screen-initialized",updateImages),this.eventAggregator.subscribe("screen-updated",updateImages)])}unbind(){var e;null===(e=this.listeners)||void 0===e||e.dispose(),this.listeners=void 0}attached(){super.attached(),this.isAttached=!0,this.configChanged()}detached(){super.detached(),this.isAttached=!1,this.detachCollection()}assignCollection(e){var t,r;this.collection!==e&&(this.index=-1,null===(t=this.collection)||void 0===t||t.dispose(),null===(r=this.mutationHandler)||void 0===r||r.dispose(),this.mutationHandler=void 0,this.collection=e,(0,p.isMutableCollection)(this.collection)&&(this.mutationHandler=this.collection.addMutationHandler((e=>n.__awaiter(this,void 0,void 0,(function*(){var t,n;let r=!1;for(const t of e){if(t.itemIndex===this.index)return void(t.item?this.setValue(t.item.value):this.updateValueByIndex(this.index));"added"===t.name&&t.item&&-1===this.index&&this.value&&AttachedImageSource.getMatcher(this.value)(t.item)&&(void 0!==t.itemIndex?this.index=t.itemIndex:yield this.valueChanged()),r=!0}r&&(this.collectionSize=null!==(n=yield null===(t=this.collection)||void 0===t?void 0:t.getCount())&&void 0!==n?n:1/0)}))))))}detachCollection(){this.collectionId=void 0,this.assignCollection(void 0)}configChanged(){var e,t,r;return n.__awaiter(this,void 0,void 0,(function*(){null!==(e=this.config)&&void 0!==e||(this.config={}),this.config.id||(this.config.id=`ed${null!==(r=null===(t=this.state)||void 0===t?void 0:t.name)&&void 0!==r?r:"Image"}Uploader`),this.config.editDialog=!1,"string"==typeof this.config.viewName&&this.config.viewName!==this.viewName&&(this.viewName=this.config.viewName,this.detachCollection());const n=(0,d.createAcceptList)(this.config.acceptFiles||".gif,.ico,.jpg,.png,.svg");(0,d.joinAcceptList)(n)!==(0,d.joinAcceptList)(this.acceptList)&&(this.acceptList=n,this.detachCollection()),yield this.reloadImages()}))}updateValueByIndex(e){return n.__awaiter(this,void 0,void 0,(function*(){if(this.index=e,this.collection){const t=yield this.collection.getValueByIndex(e);e===this.index&&this.setValue(t)}}))}setValue(e){(this.value||e)&&(this.value=e)}valueChanged(){return n.__awaiter(this,void 0,void 0,(function*(){yield this.reloadImages()}))}updateRecord(e,t){var n,r;if(!this.operable)return void this.assignCollection(void 0);const o=null!==(n=this.viewName)&&void 0!==n?n:null===(r=e.graphInfo)||void 0===r?void 0:r.primaryView;if(t.name!==o)return void this.assignCollection(void 0);const a=t.id;if(!a&&!this.collectionId)return void this.assignCollection(void 0);new AttachedImageCollectionRequest(e.screenID,"",o,null!=a?a:"",t.getRecordIdByKeys(),this.acceptList).id!==this.collectionId&&(this.assignCollection(void 0),this.reloadImages())}reloadImages(){var e,t,r,o;return n.__awaiter(this,void 0,void 0,(function*(){if(!this.operable)return;const n=this.screen;if(!n)return;const a=null!==(e=this.viewName)&&void 0!==e?e:null===(t=n.graphInfo)||void 0===t?void 0:t.primaryView,l=this.screen[a];if(!l)return;(null===(r=this.recordSelectedHandler)||void 0===r?void 0:r.viewName)!==a&&(null===(o=this.recordSelectedHandler)||void 0===o||o.dispose(),this.recordSelectedHandler=Object.assign({viewName:a},l.subscribeRowSelectedHandler(n,((e,t)=>this.updateRecord(e,t)))));const d=l.id;if(!d)return;const c=new AttachedImageCollectionRequest(n.screenID,"",a,d,l.getRecordIdByKeys(),this.acceptList,this.lazyLoading);let u;if(c.id!==this.collectionId){u=AttachedImageCollectionSet.get(c),this.recordId=d,this.collectionId=c.id,this.assignCollection(u);const e=yield u.getCount();if(u!==this.collection)return;this.collectionSize=e}else u=this.collection;if(!u)return;const p=this.value,h=yield u.getIndexByValue(p);p===this.value&&u===this.collection&&(this.index=h)}))}createUploaderConfig(e){var t,n,r,o,a,l,d,c,u,p;const g=null!==(o=null!==(t=this.viewName)&&void 0!==t?t:null===(r=null===(n=this.screen)||void 0===n?void 0:n.graphInfo)||void 0===r?void 0:r.primaryView)&&void 0!==o?o:"",m=null!==(l=null===(a=this.screen)||void 0===a?void 0:a.screenID)&&void 0!==l?l:(0,h.getScreenID)(),f=null!==(u=null===(c=null===(d=this.screen)||void 0===d?void 0:d.graphInfo)||void 0===c?void 0:c.graphType)&&void 0!==u?u:"",v=this.recordId,b=this.acceptList.join(",");return{id:`${null!==(p=this.config.id)&&void 0!==p?p:""}_upload${e?"_clickable":""}`,accept:b,graph:f,screenId:m,view:g,recordId:v,disabled:!(v&&f&&g&&m&&!1!==this.config.enabled),disableClick:!e}}filesDropped(e){var t;return n.__awaiter(this,void 0,void 0,(function*(){if(this.readOnly)return;const n=this.collection;if(!n)return;if(0===e.detail.blobs.length)return;if(!(0,p.getImageName)(e.detail.blobs[0].name))return;const[r,o]=null!==(t=yield n.preloadFilesGetFirst(e.detail.blobs))&&void 0!==t?t:[-1,""];-1!==r&&(this.value=o)}))}showPreview(){this.popupIndex=this.index,this.popupVisible=!0}popupClosed(e){e&&!this.readOnly&&this.updateValueByIndex(this.popupIndex)}imageSelected(e,t){this.updateValueByIndex(t)}internalUploaderClick(){if(!1===this.config.editDialog)return!0;this.editTrigger()}editTrigger(){}clearTrigger(){this.readOnly||this.allowNull&&(this.value=null)}get operable(){return this.isAttached&&this.visible&&!!this.screen}get lazyLoading(){return!this.viewOnly&&(!1!==this.config.lazyLoading&&!1===this.config.showArrows)}get showArrows(){return!1!==this.config.showArrows}get visible(){return!this.config.hidden}get enabled(){return!1!==this.config.enabled}get readOnly(){return!!this.config.readOnly||!1===this.config.enabled}get allowNull(){return this.state&&!1!==this.config.allowNull}get viewOnly(){return!this.state}get showFeed(){return!(this.collectionSize<=1||!1===this.config.showFeed)&&(!!this.viewOnly||!this.readOnly&&!!this.config.showFeed)}get dropDownUploaderConfig(){return this.createUploaderConfig(!1)}get clickableUploaderConfig(){return this.createUploaderConfig(!1===this.config.editDialog)}get sizeStyles(){var e,t;let n="";const r=(0,p.convertToStylePixels)(null!==(e=this.config.width)&&void 0!==e?e:this.width);void 0!==r&&(n+=`width: ${r};`);const o=(0,p.convertToStylePixels)(null!==(t=this.config.height)&&void 0!==t?t:this.height);return void 0!==o&&(n+=`height: ${o};`),n}};n.__decorate([o.bindable,n.__metadata("design:type",Object)],m.prototype,"width",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],m.prototype,"height",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],m.prototype,"config",void 0),n.__decorate([o.bindable,n.__metadata("design:type",String)],m.prototype,"viewName",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],m.prototype,"value",void 0),n.__decorate([(0,o.computedFrom)("config","config.showArrows"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],m.prototype,"showArrows",null),n.__decorate([(0,o.computedFrom)("config","config.hidden"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],m.prototype,"visible",null),n.__decorate([(0,o.computedFrom)("config","config.enabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],m.prototype,"enabled",null),n.__decorate([(0,o.computedFrom)("config","config.readOnly","config.enabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],m.prototype,"readOnly",null),n.__decorate([(0,o.computedFrom)("config","config.allowNull","state"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],m.prototype,"allowNull",null),n.__decorate([(0,o.computedFrom)("state"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],m.prototype,"viewOnly",null),n.__decorate([(0,o.computedFrom)("state","config","config.showFeed","config.readOnly","config.enabled","collectionSize"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],m.prototype,"showFeed",null),n.__decorate([(0,o.computedFrom)("config","screen","config.id","config.enabled","acceptList","recordId","viewName"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],m.prototype,"dropDownUploaderConfig",null),n.__decorate([(0,o.computedFrom)("config","screen","config.id","config.enabled","acceptList","recordId","viewName"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],m.prototype,"clickableUploaderConfig",null),n.__decorate([(0,o.computedFrom)("width","height","config","config.width","config.height"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],m.prototype,"sizeStyles",null),m=n.__decorate([a.autoinject,(0,o.customElement)("qp-image-uploader"),n.__metadata("design:paramtypes",[Element,l.ScreenService,o.Container])],m),t.QpImageUploaderCustomElement=m;class AttachedImageSource{constructor(e,t,n){this.imageData=e,this.owner=t,this.getter=n,this.commands=[{name:p.ZoomFeature.CommandName,execute:(e,t)=>p.ZoomFeature.zoomImage(e,t),query:e=>({disabled:void 0===this.name,minValue:p.ZoomFeature.MinValue,maxValue:p.ZoomFeature.MaxValue,value:e.scale})},{name:AttachedImageSource.EditCommand,execute:(e,t)=>(this.owner.openUrl(this.imageData),!0),query:e=>({disabled:void 0===this.name})}],this.actions=[{name:p.ZoomFeature.InActionName,query:e=>{var t;return{command:p.ZoomFeature.CommandName,args:{delta:p.ZoomFeature.Delta},icon:"svg:main@plus",disabled:(null!==(t=e.scale)&&void 0!==t?t:p.ZoomFeature.MinValue)===p.ZoomFeature.MaxValue}}},{name:p.ZoomFeature.OutActionName,query:e=>{var t;return{command:p.ZoomFeature.CommandName,args:{delta:-p.ZoomFeature.Delta},icon:"svg:main@minus",disabled:(null!==(t=e.scale)&&void 0!==t?t:p.ZoomFeature.MinValue)===p.ZoomFeature.MinValue}}},{name:AttachedImageSource.EditAction,query:e=>({command:AttachedImageSource.EditCommand,icon:"svg:main@pencil",label:l.Messages.EditImageActionTitle})}],this.name=(0,p.getImageName)(e.fullName)}static getMatcher(e){return t=>{const clear=e=>(0,p.getImageName)(e).toLowerCase(),n=clear(e),r=clear(t.value);return!!n&&!!r&&n===r}}static composeAttachmentUrl(e){if(!g.siteRoot||-1!==e.indexOf("://"))return e;return`${t=g.siteRoot,t.endsWith("/")?t:`${t}/`}Frames/GetFile.ashx?cache=yes&file=${e}`;var t}get value(){return this.imageData.fullName}updateData(e){const t=this.imageData;return(t.id!==e.id||t.fullName!==e.fullName||t.imageUrl!==e.imageUrl||t.editUrl!==e.editUrl)&&(this.imageData=Object.assign({},e),!0)}get(e){return this.getter.createGetter(e)}getActions(){return this.actions.map((e=>e.name))}queryAction(e,t){var n;return null===(n=this.actions.find((t=>t.name===e)))||void 0===n?void 0:n.query(t)}getCommands(){return this.commands.map((e=>e.name))}queryCommand(e,t){var n;return null===(n=this.commands.find((t=>t.name===e)))||void 0===n?void 0:n.query(t)}executeCommand(e,t,n){var r,o;return null!==(o=null===(r=this.commands.find((t=>t.name===e)))||void 0===r?void 0:r.execute(t,n))&&void 0!==o&&o}}AttachedImageSource.EditCommand="edit",AttachedImageSource.EditAction="edit";class AttachedImageCollectionRequest{constructor(e,t,n,r,o,a,l=!1){this.screenID=e,this.screenTitle=t,this.viewName=n,this.recordId=r,this.keyValues=o,this.acceptList=a,this.lazy=l,this.id=`${e},${n},${r},[${(0,d.joinAcceptList)(a)}]`}}class AttachedImageCollectionSet{static get(e){const t=e.id;let n=this.map.get(t);return void 0===n&&(n=new AttachedImageCollection(e),this.map.set(t,n)),n.acquire()}static release(e){const t=e.request.id;e===this.map.get(t)&&this.map.delete(t)}}AttachedImageCollectionSet.map=new Map;class AttachedImageCollection{constructor(e){this.request=e,this.subscribers=new r.EventAggregator,this.attachedImages=[],this.uploadingFilesMap=new Map,this.refCount=0,this.fileApiClient=o.Container.instance.get(d.FilesDialogApiClient);const t=o.Container.instance.get(r.EventAggregator);this.listeners=new p.Disposables([t.subscribe(d.PXScreenFileUploadEventName.Uploading,(e=>this.uploadingStarted(e))),t.subscribe(d.PXScreenFileUploadEventName.Uploaded,(e=>this.filesUploaded(e))),t.subscribe(d.PXScreenFileUploadEventName.Failed,(e=>this.filesUploadingFailed(e)))])}acquire(){return++this.refCount,this}release(){0==--this.refCount&&(AttachedImageCollectionSet.release(this),this.listeners.dispose())}dispose(){this.release()}reload(){return n.__awaiter(this,void 0,void 0,(function*(){yield this.fetchCollection(!0)}))}createFullName(e){const t=(0,p.getImageName)(e.name);return`${this.request.screenTitle||""} (${this.request.keyValues})\\${t}`}updateUploadingProcess(e,t){const n=e.filter((e=>!!e&&"object"==typeof e&&(0,d.acceptFile)(e,this.request.acceptList))).map((e=>({fullName:this.createFullName(e),file:e}))).filter((e=>!!e.fullName));if(n.forEach((e=>{const n=this.uploadingFilesMap.get(e.fullName);n&&(void 0!==t.succeeded?(this.uploadingFilesMap.delete(e.fullName),n.fullfil(t.succeeded)):void 0!==t.controller&&n.setController(t.controller))})),!1===t.succeeded){const e=n.map((e=>this.attachedImages.find(AttachedImageSource.getMatcher(e.fullName)))).filter((e=>!!e));e.forEach((e=>{const t=this.attachedImages.indexOf(e);-1!==t&&this.attachedImages.splice(t,1)})),this.publishMutations(...e.map((e=>({name:"removed",item:e}))))}}preloadFilesGetFirst(e){return n.__awaiter(this,void 0,void 0,(function*(){if(0===e.length)return;const matchProc=e=>t=>t.value.toLowerCase()===e.toLowerCase(),t=e.filter((e=>!!e&&"object"==typeof e&&(0,d.acceptFile)(e,this.request.acceptList))).map((e=>({fullName:this.createFullName(e),file:e}))).filter((e=>!!e.fullName)),n=t.filter((e=>!this.attachedImages.some(matchProc(e.fullName)))).map((e=>this.createUploadImageSource({fullName:e.fullName,imageUrl:URL.createObjectURL(e.file)})));n.length>0&&(this.attachedImages.push(...n),this.publishMutations(...n.map((e=>({name:"added",item:e})))));for(const e of t){const t=this.attachedImages.findIndex(matchProc(e.fullName));if(-1!==t)return[t,this.attachedImages[t].value]}}))}openUrl(e){return n.__awaiter(this,void 0,void 0,(function*(){var t,n;(e.editUrl||(yield this.reload(),e.editUrl))&&(t=e.editUrl,null===(n=o.Container.instance.get(c.RedirectHelper))||void 0===n||n.openUrl(t,"",!1,!0))}))}getCount(){return n.__awaiter(this,void 0,void 0,(function*(){return this.request.lazy&&!this.fetching?1/0:(yield this.ensureLoaded()).length}))}getRange(e,t){return n.__asyncGenerator(this,arguments,(function*getRange_1(){const r=yield n.__await(this.ensureLoaded(e,t)),o=Math.min(r.length,e+t);for(let t=Math.max(0,e);t<o;t++)yield yield n.__await(r[t])}))}getAt(e){return n.__awaiter(this,void 0,void 0,(function*(){const t=yield this.ensureLoaded(e,1);if(e<t.length)return t[e]}))}getIndexByValue(e){return n.__awaiter(this,void 0,void 0,(function*(){if(!e)return-1;if(e="string"==typeof e?e.toLowerCase():void 0,this.request.lazy&&!this.fetching){let t=this.attachedImages.findIndex(AttachedImageSource.getMatcher(e));if(-1===t){const n=this.createImageSource({fullName:e,imageUrl:AttachedImageSource.composeAttachmentUrl(e)});t=this.attachedImages.push(n)-1,this.publishMutations({name:"added",item:n})}return t}return(yield this.ensureLoaded()).findIndex(AttachedImageSource.getMatcher(e))}))}getValueByIndex(e){return n.__awaiter(this,void 0,void 0,(function*(){if(e<0)return;const t=yield this.ensureLoaded(e,1);return e>=t.length?void 0:t[e].value}))}addMutationHandler(e){return this.subscribers.subscribe("event",e)}publishMutations(...e){const index=e=>"removed"===e.name?-1:this.attachedImages.indexOf(e.item),t=e.map((e=>Object.assign(Object.assign({},e),{itemIndex:index(e)})));this.subscribers.publish("event",t)}createImageSource(e){return new AttachedImageSource(e,this,(0,p.createSharedImageGetter)((0,p.createAbsoluteUrl)(e.imageUrl)))}createUploadImageSource(e,t){const n=(0,p.createUploadImageGetter)(e.fullName,e.imageUrl,t);return this.uploadingFilesMap.set(e.fullName,n),new AttachedImageSource(e,this,n)}fetchCollection(e=!1){var t;const fetch=()=>n.__awaiter(this,void 0,void 0,(function*(){var e;const t=null!==(e=yield this.fileApiClient.getAttachedImages(this.request.screenID,this.request.recordId,(0,d.joinAcceptList)(this.request.acceptList)))&&void 0!==e?e:[],n=[],addMutation=(e,t)=>n.push({name:e,item:t}),r=this.attachedImages.map((e=>[e,!1]));for(const e of t){const t=r.find((t=>AttachedImageSource.getMatcher(e.fullName)(t[0])));if(t)t[1]=!0,t[0].updateData(e)&&addMutation("changed",t[0]);else{const t=this.createImageSource(e);this.attachedImages.push(t),addMutation("added",t)}}r.forEach((e=>{if(!e[1]){const t=this.attachedImages.indexOf(e[0]);-1!==t&&(this.attachedImages.splice(t,1),addMutation("removed",e[0]))}})),this.publishMutations(...n)}));return this.fetching=e?fetch():null!==(t=this.fetching)&&void 0!==t?t:fetch()}ensureLoaded(e=0,t=1/0){return n.__awaiter(this,void 0,void 0,(function*(){return e+t>this.attachedImages.length&&(yield this.fetchCollection()),this.attachedImages}))}createRequestFromEvent(e){var t;return new AttachedImageCollectionRequest(e.screenId,this.request.screenTitle,e.viewName,null!==(t=e.recordId)&&void 0!==t?t:"",this.request.keyValues,this.request.acceptList)}uploadingStarted(e){return n.__awaiter(this,void 0,void 0,(function*(){const t=this.createRequestFromEvent(e);this.request.id===t.id&&(yield this.preloadFilesGetFirst(e.files),e.abortController&&this.updateUploadingProcess(e.files,{controller:e.abortController}))}))}handleUploadingResult(e,t){return n.__awaiter(this,void 0,void 0,(function*(){const n=this.createRequestFromEvent(e);this.request.id===n.id&&(this.updateUploadingProcess(e.files,{succeeded:t}),yield this.reload())}))}filesUploaded(e){return n.__awaiter(this,void 0,void 0,(function*(){yield this.handleUploadingResult(e,!0)}))}filesUploadingFailed(e){return n.__awaiter(this,void 0,void 0,(function*(){yield this.handleUploadingResult(e,!1)}))}}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/image/view/qp-image-view":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/client-controls/controls/simple/image/components/index.js"),n("./node_modules/client-controls/services/index.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpImageViewCustomElement=void 0;let d=class QpImageViewCustomElement extends o.QpBaseFieldEditor{constructor(){super(...arguments),this.width="100px",this.height="100px",this.config={},this.popupVisible=!1,this.Messages=l.Messages}imageClick(){this.popupVisible=!0}configChanged(){var e,t,n;null!==(e=this.config)&&void 0!==e||(this.config={}),this.config.id||(this.config.id=`ed${null!==(n=null===(t=this.state)||void 0===t?void 0:t.name)&&void 0!==n?n:"Image"}Viewer`)}valueChanged(){const e="string"==typeof this.value?this.value:void 0;this.imageUrl=e?(0,a.createAbsoluteUrl)(e):void 0}get visible(){return!this.config||!0!==this.config.hidden}get sizeStyles(){var e,t;let n="";const r=(0,a.convertToStylePixels)(null!==(e=this.config.width)&&void 0!==e?e:this.width);void 0!==r&&(n+=`width: ${r};`);const o=(0,a.convertToStylePixels)(null!==(t=this.config.height)&&void 0!==t?t:this.height);return void 0!==o&&(n+=`height: ${o};`),n}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"value",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"width",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"height",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"config",void 0),n.__decorate([(0,r.computedFrom)("config.hidden"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],d.prototype,"visible",null),n.__decorate([(0,r.computedFrom)("width","height","config","config.width","config.height"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],d.prototype,"sizeStyles",null),d=n.__decorate([r.autoinject,(0,r.customElement)("qp-image-view")],d),t.QpImageViewCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/simple/index.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("client-controls/controls/simple/branch-selector/qp-branch-selector-3d"),n("client-controls/controls/simple/button/qp-button"),n("client-controls/controls/simple/calendar/qp-calendar"),n("client-controls/controls/simple/check-box/qp-check-box"),n("client-controls/controls/simple/radio/qp-radio"),n("client-controls/controls/simple/color-picker/qp-color-picker"),n("client-controls/controls/simple/color-picker/qp-menu-color-picker"),n("client-controls/controls/simple/date-editor/qp-datetime-edit"),n("client-controls/controls/simple/date-editor/qp-datetime-edit-utc"),n("client-controls/controls/simple/drop-down/qp-drop-down"),n("client-controls/controls/simple/selector/qp-selector"),n("client-controls/controls/simple/icon/qp-hyper-icon"),n("client-controls/controls/simple/icon/qp-icon"),n("client-controls/controls/simple/last-update/last-update"),n("client-controls/controls/simple/loader-indicator/qp-loader-indicator"),n("client-controls/controls/simple/mail-editor/qp-mail-editor"),n("client-controls/controls/simple/link-editor/qp-link-editor"),n("client-controls/controls/simple/mask-editor/qp-mask-editor"),n("client-controls/controls/simple/number-editor/qp-number-editor"),n("client-controls/controls/simple/barcode-input/qp-barcode-input"),n("client-controls/controls/simple/segmented-selector/qp-segmented-selector"),n("client-controls/controls/simple/text-editor/converter"),n("client-controls/controls/simple/text-editor/qp-text-editor"),n("client-controls/controls/simple/uploader/qp-uploader"),n("client-controls/controls/simple/uploader/qp-multi-upload"),n("client-controls/controls/simple/longrun-indicator/qp-longrun-indicator"),n("client-controls/controls/simple/caption/qp-caption"),n("client-controls/controls/simple/label/qp-label"),n("client-controls/controls/simple/label/qp-label-light"),n("client-controls/controls/simple/simple-selector/qp-simple-selector"),n("client-controls/controls/simple/screen-configuration-menu/qp-screen-configuration-menu"),n("./node_modules/client-controls/controls/simple/screen-configuration-menu/default-preferences-data-component.js"),n("./node_modules/client-controls/controls/simple/screen-configuration-menu/user-preferences-data-component.js"),n("client-controls/controls/simple/external-viewer/qp-external-viewer"),n("client-controls/controls/simple/color-picker/qp-color-palette"),n("./node_modules/client-controls/controls/simple/image/index.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m,f,v,b,y,_,x,C,S,E,k,T,M,q,I,A,O,P,D,F,j,R,N,L,V,B){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpExternalViewerCustomElement=t.UserPreferencesDataComponent=t.DefaultPreferencesDataComponent=t.QpScreenConfigurationMenuCustomElement=t.QpSimpleSelectorCustomElement=t.QpLabelLightCustomElement=t.QpLabelCustomElement=t.QpCaptionCustomElement=t.QpLongrunIndicatorCustomElement=t.QpMultiUploadCustomElement=t.QpUploaderCustomElement=t.QpTextEditorCustomElement=t.TextEditorValueConverter=t.MetaValueConverter=t.QpSegmentedSelectorCustomElement=t.QpBarcodeInputCustomElement=t.QpNumberEditorCustomElement=t.QpMaskEditorCustomElement=t.QpLinkEditorCustomElement=t.QpMailEditorCustomElement=t.QpLoaderIndicatorCustomElement=t.QpLastUpdateCustomElement=t.QpIconCustomElement=t.QpHyperIconCustomElement=t.QpSelectorCustomElement=t.QpDropDownCustomElement=t.QpDatetimeEditUtcCustomElement=t.DateUTCValueConverter=t.QpDatetimeEditCustomElement=t.QpMenuColorPickerCustomElement=t.QpColorPickerCustomElement=t.QpRadioCustomElement=t.QpCheckBoxCustomElement=t.QpCalendarCustomElement=t.QpButtonCustomElement=t.QpBranchSelector3dCustomElement=void 0,Object.defineProperty(t,"QpBranchSelector3dCustomElement",{enumerable:!0,get:function(){return r.QpBranchSelector3dCustomElement}}),Object.defineProperty(t,"QpButtonCustomElement",{enumerable:!0,get:function(){return o.QpButtonCustomElement}}),Object.defineProperty(t,"QpCalendarCustomElement",{enumerable:!0,get:function(){return a.QpCalendarCustomElement}}),Object.defineProperty(t,"QpCheckBoxCustomElement",{enumerable:!0,get:function(){return l.QpCheckBoxCustomElement}}),Object.defineProperty(t,"QpRadioCustomElement",{enumerable:!0,get:function(){return d.QpRadioCustomElement}}),Object.defineProperty(t,"QpColorPickerCustomElement",{enumerable:!0,get:function(){return c.QpColorPickerCustomElement}}),Object.defineProperty(t,"QpMenuColorPickerCustomElement",{enumerable:!0,get:function(){return u.QpMenuColorPickerCustomElement}}),Object.defineProperty(t,"QpDatetimeEditCustomElement",{enumerable:!0,get:function(){return p.QpDatetimeEditCustomElement}}),Object.defineProperty(t,"DateUTCValueConverter",{enumerable:!0,get:function(){return p.DateUTCValueConverter}}),Object.defineProperty(t,"QpDatetimeEditUtcCustomElement",{enumerable:!0,get:function(){return h.QpDatetimeEditUtcCustomElement}}),Object.defineProperty(t,"QpDropDownCustomElement",{enumerable:!0,get:function(){return g.QpDropDownCustomElement}}),Object.defineProperty(t,"QpSelectorCustomElement",{enumerable:!0,get:function(){return m.QpSelectorCustomElement}}),Object.defineProperty(t,"QpHyperIconCustomElement",{enumerable:!0,get:function(){return f.QpHyperIconCustomElement}}),Object.defineProperty(t,"QpIconCustomElement",{enumerable:!0,get:function(){return v.QpIconCustomElement}}),Object.defineProperty(t,"QpLastUpdateCustomElement",{enumerable:!0,get:function(){return b.QpLastUpdateCustomElement}}),Object.defineProperty(t,"QpLoaderIndicatorCustomElement",{enumerable:!0,get:function(){return y.QpLoaderIndicatorCustomElement}}),Object.defineProperty(t,"QpMailEditorCustomElement",{enumerable:!0,get:function(){return _.QpMailEditorCustomElement}}),Object.defineProperty(t,"QpLinkEditorCustomElement",{enumerable:!0,get:function(){return x.QpLinkEditorCustomElement}}),Object.defineProperty(t,"QpMaskEditorCustomElement",{enumerable:!0,get:function(){return C.QpMaskEditorCustomElement}}),Object.defineProperty(t,"QpNumberEditorCustomElement",{enumerable:!0,get:function(){return S.QpNumberEditorCustomElement}}),Object.defineProperty(t,"QpBarcodeInputCustomElement",{enumerable:!0,get:function(){return E.QpBarcodeInputCustomElement}}),Object.defineProperty(t,"QpSegmentedSelectorCustomElement",{enumerable:!0,get:function(){return k.QpSegmentedSelectorCustomElement}}),Object.defineProperty(t,"MetaValueConverter",{enumerable:!0,get:function(){return T.MetaValueConverter}}),Object.defineProperty(t,"TextEditorValueConverter",{enumerable:!0,get:function(){return T.TextEditorValueConverter}}),Object.defineProperty(t,"QpTextEditorCustomElement",{enumerable:!0,get:function(){return M.QpTextEditorCustomElement}}),Object.defineProperty(t,"QpUploaderCustomElement",{enumerable:!0,get:function(){return q.QpUploaderCustomElement}}),Object.defineProperty(t,"QpMultiUploadCustomElement",{enumerable:!0,get:function(){return I.QpMultiUploadCustomElement}}),Object.defineProperty(t,"QpLongrunIndicatorCustomElement",{enumerable:!0,get:function(){return A.QpLongrunIndicatorCustomElement}}),Object.defineProperty(t,"QpCaptionCustomElement",{enumerable:!0,get:function(){return O.QpCaptionCustomElement}}),Object.defineProperty(t,"QpLabelCustomElement",{enumerable:!0,get:function(){return P.QpLabelCustomElement}}),Object.defineProperty(t,"QpLabelLightCustomElement",{enumerable:!0,get:function(){return D.QpLabelLightCustomElement}}),Object.defineProperty(t,"QpSimpleSelectorCustomElement",{enumerable:!0,get:function(){return F.QpSimpleSelectorCustomElement}}),Object.defineProperty(t,"QpScreenConfigurationMenuCustomElement",{enumerable:!0,get:function(){return j.QpScreenConfigurationMenuCustomElement}}),Object.defineProperty(t,"DefaultPreferencesDataComponent",{enumerable:!0,get:function(){return R.DefaultPreferencesDataComponent}}),Object.defineProperty(t,"UserPreferencesDataComponent",{enumerable:!0,get:function(){return N.UserPreferencesDataComponent}}),Object.defineProperty(t,"QpExternalViewerCustomElement",{enumerable:!0,get:function(){return L.QpExternalViewerCustomElement}}),n.__exportStar(V,t),n.__exportStar(B,t)}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/label/qp-label-light":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("client-controls/controls/simple/label/qp-label")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpLabelLightCustomElement=void 0;let a=class QpLabelLightCustomElement extends o.QpLabelCustomElement{};a=n.__decorate([(0,r.customElement)("qp-label-light"),(0,r.useView)("./qp-label.html"),r.containerless],a),t.QpLabelLightCustomElement=a}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/label/qp-label":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpLabelCustomElement=void 0;let o=class QpLabelCustomElement{processClick(){var e;null===(e=document.getElementById(this.controlId))||void 0===e||e.focus()}};n.__decorate([r.bindable,n.__metadata("design:type",String)],o.prototype,"controlId",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],o.prototype,"caption",void 0),o=n.__decorate([(0,r.customElement)("qp-label")],o),t.QpLabelCustomElement=o}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/last-update/last-update-value-converter":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("./node_modules/client-controls/services/localization.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgoValueConverter=void 0;const o="ago-signal";setInterval((()=>{(0,n.signalBindings)(o)}),2e4);const{JustNow:a,MinsAgo:l,HoursAgo:d,DaysAgo:c,LongAgo:u}=r.LOCALIZED_STRINGS&&r.LOCALIZED_STRINGS.lastUpdate||{JustNow:"Updated just now",MinsAgo:"Updated {{mins}} min ago",HoursAgo:"Updated {{hours}} hr ago"};t.AgoValueConverter=class AgoValueConverter{constructor(){this.signals=[o]}toView(e){if(!e)return"";const t=new Date,n=Math.floor((t.valueOf()-e.valueOf())/1e3);if(n<60)return a;const r=Math.floor(n/60);if(r<60)return l.replace("{{mins}}",r.toString());const o=Math.floor(r/60);if(o<=24)return d.replace("{{hours}}",o.toString());return Math.floor(o/24)<=7?c.replace("{{days}}",o.toString()):u}}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/last-update/last-update":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpLastUpdateCustomElement=void 0;let o=class QpLastUpdateCustomElement{valueChanged(e){this.dateTime=new Date(e)}};n.__decorate([r.bindable,n.__metadata("design:type",String)],o.prototype,"value",void 0),o=n.__decorate([(0,r.customElement)("qp-last-update")],o),t.QpLastUpdateCustomElement=o}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/link-editor/qp-link-editor":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("client-controls/controls/dialog/informer/qp-informer-rack")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.QpLinkEditorCustomElement=void 0;let h=p=class QpLinkEditorCustomElement extends o.QpBaseFieldEditor{constructor(e,t,n,r){super(t),this.element=e,this.dialogHelper=n,this.tq=r,this.mainLink={link:"",name:""},this.inputLink="",this.isInlineEditing=!1,this.linkDialogConfig={templateId:"pnlLinkEditor",title:a.Messages.LinkEditorLink,hideMaximizer:!0,width:"620px",context:this},this.Msg=a.Messages}valueChanged(e,t){var n,r;const o=this.mainLink;if(!this.value)return o.link="",void(o.name="");const a=null===(n=/<(?<link>.*)>(?<name>.*)/g.exec(this.value))||void 0===n?void 0:n.groups;if(a)o.link=a.link||"",o.name=a.name||"";else{!(null===(r=this.value.trim().match(/\s/g))||void 0===r?void 0:r.length)?(o.name=this.value,o.link=this.value):(o.name=this.value,o.link="")}}configChanged(e,t){this.config||(this.config={}),(0,d.applyDefaultValues)(this.config,p.linkDefaultConfig),void 0===t&&(0,d.applyDefaultValues)(e,p.linkDefaultConfig)}isValidHttpUrl(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}isValidOtherUrl(e){return!!new RegExp("((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}processPaste(e){const t=e.clipboardData?e.clipboardData:r.PLATFORM.global.clipboardData;if(null!=t){const e=t.getData("Text");return!(!e||!this.isValidHttpUrl(e)&&!this.isValidOtherUrl(e))}return!1}processInputKeyDown(e){return"KeyK"!==e.code||!e.ctrlKey||(this.currentDialog||this.processButtonClick(),!1)}processOpenLink(e){e.preventDefault(),r.PLATFORM.global.open(/^(http|https):/.test(this.mainLink.link)?this.mainLink.link:`http://${this.mainLink.link}`,"_blank")}detached(){super.detached()}setNewValue(e){var t,n,r;const o=e||this.dlgLink;o.name=(null===(t=o.name)||void 0===t?void 0:t.trim())||"",o.link=(null===(n=o.link)||void 0===n?void 0:n.trim())||"",this.mainLink.link===o.link&&this.mainLink.name===o.name||(o.link===o.name&&(o.name=""),this.mainLink.link===o.link&&this.mainLink.name===o.name||(o.name=null===(r=o.name)||void 0===r?void 0:r.replace(/>/g,"&gt;").replace(/</g,"&lt;"),o.link&&o.name?this.value=`<${o.link}>${o.name}`:o.name?this.value=o.name:o.link?this.value=o.link:this.value=void 0))}setNewValueAndCloseDialog(){this.setNewValue(),this.closeCurrentDialog(!0)}get ROMode(){return this.config&&(this.config.readOnly||!this.config.enabled)}openDialog(){this.dialogHelper.openDialog(this.linkDialogConfig,{},(e=>{var t;this.currentDialog=e.controller,null===(t=this.currentDialog.controller.viewModel.element)||void 0===t||t.querySelector("input").focus(),e.closeResult.finally((()=>{this.currentDialog=void 0}))}))}closeCurrentDialog(e=!1){var t,n;e?null===(t=this.currentDialog)||void 0===t||t.ok():null===(n=this.currentDialog)||void 0===n||n.cancel(),this.tq.queueMicroTask((()=>{this.inputLink="",this.isInlineEditing=!1}))}processButtonClick(){var e;if(this.ROMode&&!this.config.activeButton)return!0;this.isInlineEditing&&(null===(e=this.inputLinkElem)||void 0===e||e.blur(),this.tq.flushMicroTaskQueue()),this.dlgLink=Object.assign({},this.mainLink),this.dlgLink.name===this.dlgLink.link&&(this.dlgLink.name=""),this.dlgLink.name=this.dlgLink.name.replace(/&gt;/g,">").replace(/&lt;/g,"<"),this.openDialog()}copyButtonClick(){if(!this.ROMode||!this.mainLink.link)return;(0,d.addTextToClipboard)(this.mainLink.link);const e=(0,u.showInformer)(this.Msg.LinkCopiedClipboard,"info");setTimeout((()=>e.dispose()),3e3)}processInputFocus(){var e;const t=this.isInlineEditing;this.tq.queueMicroTask((()=>{this.inputLink=this.mainLink.link||this.mainLink.name,this.mainLink.link===this.mainLink.name&&(this.mainLink.name=""),this.isInlineEditing=!0})),this.tq.flushMicroTaskQueue(),t||null===(e=this.inputLinkElem)||void 0===e||e.select()}processInputBlur(){this.isInlineEditing&&this.tq.queueMicroTask((()=>{const e=Object.assign({},this.mainLink);e.link=this.inputLink,""===e.name&&(this.mainLink.name=this.inputLink),e.link||(e.name=""),this.setNewValue(e),this.inputLink="",this.isInlineEditing=!1}))}};h.linkDefaultConfig={allowNull:!0,enabled:!0,activeButton:!0},n.__decorate([r.bindable,n.__metadata("design:type",Object)],h.prototype,"value",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],h.prototype,"config",void 0),n.__decorate([(0,r.computedFrom)("config.readOnly","config.enabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],h.prototype,"ROMode",null),h=p=n.__decorate([r.autoinject,(0,r.customElement)("qp-link-editor"),n.__metadata("design:paramtypes",[Element,l.Container,c.DialogHelper,r.TaskQueue])],h),t.QpLinkEditorCustomElement=h}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/loader-indicator/qp-loader-indicator":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpLoaderIndicatorCustomElement=void 0;let o=class QpLoaderIndicatorCustomElement{get loadingClass(){return!0===this.loadingState?"loading":this.loadingState?this.loadingState:"in-sync"}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],o.prototype,"loadingState",void 0),n.__decorate([(0,r.computedFrom)("loadingState"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],o.prototype,"loadingClass",null),o=n.__decorate([(0,r.customElement)("qp-loader-indicator")],o),t.QpLoaderIndicatorCustomElement=o}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/longrun-indicator/qp-longrun-indicator":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("aurelia-event-aggregator")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpLongrunIndicatorCustomElement=void 0;let a=class QpLongrunIndicatorCustomElement{constructor(e,t){this.eventAggregator=e,this.tq=t,this.showProgress=!1,this.showSuccess=!1,this.showError=!1,this.showWarning=!1,e.subscribe("longrun-cleared",(()=>{this.showProgress=!1,this.showSuccess=!1,this.showError=!1,this.showWarning=!1,this.clearWaitingFlag()})),e.subscribe("longrun-started",(e=>{this.showProgress=!0,this.showSuccess=!1,this.showError=!1,this.showWarning=!1})),e.subscribe("longrun-succeded",(e=>{this.successText=this.config.successedTextCallback?this.config.successedTextCallback():e.message,this.showProgress=!1,this.showSuccess=!0,this.showError=!1,this.showWarning=!1,this.clearWaitingFlag()})),e.subscribe("longrun-succeded-with-warning",(e=>{this.warningText=this.config.warningTextCallback?this.config.warningTextCallback():e,this.showProgress=!1,this.showSuccess=!1,this.showError=!1,this.showWarning=!0,this.clearWaitingFlag()})),e.subscribe("longrun-aborted",(e=>{this.errorText=this.config.errorTextCallback?this.config.errorTextCallback():e.message,this.showProgress=!1,this.showSuccess=!1,this.showError=!0,this.showWarning=!1,this.clearWaitingFlag()}))}clearWaitingFlag(){this.tq.queueMicroTask((()=>{delete window.longRunInProcess}))}closeNotification(e){return setTimeout((()=>{this.showProgress=!1,this.showSuccess=!1,this.showError=!1,this.showWarning=!1}),300),!1}stopProcessing(e){return!this.showProgress||(this.config.cancelCallback&&this.config.cancelCallback(),!1)}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],a.prototype,"config",void 0),a=n.__decorate([(0,r.customElement)("qp-longrun-indicator"),r.autoinject,n.__metadata("design:paramtypes",[o.EventAggregator,r.TaskQueue])],a),t.QpLongrunIndicatorCustomElement=a}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/mail-editor/qp-mail-editor":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js"),n("client-controls/controls/simple/text-editor/qp-text-editor")],o=function(e,t,n,r,o,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.QpMailEditorCustomElement=void 0;let d=l=class QpMailEditorCustomElement extends a.QpTextEditorCustomElement{constructor(e,t){super(e,t)}configChanged(e,t){var n,r,o,a;super.configChanged(e,t),void 0===this.config&&(this.config={}),null!==(n=(o=this.config).activeButton)&&void 0!==n||(o.activeButton=l.mailDefaultConfig.activeButton),null!==(r=(a=this.config).images)&&void 0!==r||(a.images=Object.assign({},l.mailDefaultConfig.images))}detached(){var e;null===(e=this.frame)||void 0===e||e.remove(),this.frame=void 0,super.detached()}processKeyDown(e){return"F3"===e.key?(this.processButtonClick(e),!0):super.processKeyDown(e)}get buttonDisabled(){return!this.config||!this.config.activeButton||!1===this.config.enabled}processButtonClick(e){if(this.buttonDisabled)return!0;this.sendUpdateEvent(),this.processMailTo(e)}processMailTo(e){if(!this.config)return;const t={event:e},n=new CustomEvent("buttonpressed",{bubbles:!0,detail:t});if(this.element.dispatchEvent(n),t.cancel)return;if(this.config.action)return void this.screenEventManager.publish(new o.ExecuteCommandEvent(this.config.action,new o.ScreenUpdateParams));if(this.config.popupPanel)return void this.screenEventManager.publish(new o.OpenPopupEvent(this.config.popupPanel));const r=this.elemText.value;if(r){this.frame||(this.frame=document.createElement("iframe"),this.frame.style.display="none",document.body.appendChild(this.frame));try{this.frame.src=`mailto:${r}`}catch(e){}}}};d.mailDefaultConfig={activeButton:!0,images:{disabled:"control@MailSelectorD",normal:"control@MailSelectorN",hover:"control@MailSelectorH",pushed:"control@MailSelectorP"}},n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"config",void 0),n.__decorate([(0,r.computedFrom)("config.activeButton","config.enabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],d.prototype,"buttonDisabled",null),d=l=n.__decorate([r.autoinject,(0,r.customElement)("qp-mail-editor"),n.__metadata("design:paramtypes",[Element,r.Container])],d),t.QpMailEditorCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/simple/mask-editor/converter.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/utils/index.js"),n("client-controls/controls/simple/mask-editor/qp-mask-editor")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaskEditorValueConverter=void 0;t.MaskEditorValueConverter=class MaskEditorValueConverter{toView(e,t,n,r){return null==r?"":(r.enabled&&!r.readOnly||(t=!1),!t&&r.allowNull&&null==e?r.nullText:t?this.getEditText(e,r):this.getDisplayText(e,r))}fromView(e,t,n,r){if(r.allowNull&&(!e||e===r.nullText))return null;let o=this.calculateValue(e,r.valueMode,1,r);return void 0===o&&t&&(o=this.calculateValue(e,r.valueMode,0,r)),o}getDisplayValue(e,t,r){return this.initializeMask(t),t.inputMask?(r||(r=t.promptChar),(0,n.formatByMask)(this.maskParts.maskFull,e,r,t.valueMode)):null!=e?e:""}getDisplayText(e,t){return this.getDisplayValue(e,t,t.emptyChar)}getEditText(e,t){return t.skipValidation?null!=e?e:"":this.getDisplayValue(e,t)}calculateValue(e,t,o,a){if(!this.mask)return e;if(a.promptChar){const t=new RegExp(`\\${a.promptChar}`,"g");e=e.toString().replace(t,String.fromCharCode(0))}let l,d,c=0,u=!0,p="";for(let h=0;h<this.mask.length;h++)if((d=this.mask.charCodeAt(h))<r.maxMaskCode)l=null,c<e.length&&(l=(0,n.maskFilter)(d,e,c,null,this.maskParts.maskExclude,this.maskParts.maskInclude),c++),p+=l||(a.emptyChar||""),l&&(u=!1);else{if(o>0&&c<e.length){if(this.mask.charAt(h)!==e.charAt(c))return;c++}t>0&&(p+=this.mask.charAt(h))}return u?a.allowNull?null:"":p.trimEnd()}initializeMask(e){this.mask&&e.inputMask===this.rawMask||(this.maskParts=(0,n.getMaskParts)(e.inputMask),this.mask=this.maskParts.mask,this.rawMask=e.inputMask)}}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/mask-editor/qp-mask-editor":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("client-controls/controls/simple/text-editor/qp-text-editor"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js")],o=function(e,t,n,r,o,a,l){"use strict";var d;Object.defineProperty(t,"__esModule",{value:!0}),t.QpMaskEditorCustomElement=t.maxMaskCode=void 0,t.maxMaskCode=21;let c=d=class QpMaskEditorCustomElement extends o.QpTextEditorCustomElement{constructor(e,t){super(e,t),this.element=e,this.rawMask="",this.converter="mask",this.addConfigSetter("inputMask")}detached(){super.detached(),this.maskObserver&&(this.maskObserver.dispose(),delete this.maskObserver)}attached(){super.attached(),this.attachMaskObserver()}configChanged(e,t){void 0===this.config&&(this.config={}),(0,a.applyDefaultValues)(this.config,Object.assign(Object.assign({},o.QpTextEditorCustomElement.defaultConfig),d.defaultConfigM)),this.attachMaskObserver(),this.setInputMask(this.config.inputMask)}attachMaskObserver(){!this.maskObserver&&this.config&&(this.maskObserver=this.bindingEngine.propertyObserver(this.config,"inputMask").subscribe(((e,t)=>this.setInputMask(e))),this.rawMask!==this.config.inputMask&&this.setInputMask(this.config.inputMask))}setInputMask(e){null==e&&(e=""),this.rawMask!==e&&(this.maskParts=(0,a.getMaskParts)(e),this.mask=this.maskParts.mask,this.rawMask=e)}onKeyPress(e,n){if(!this.mask||this.config.skipValidation)return!0;if(n<7||n>8&&n<32)return!1;let r=this.elemText.value;const o=r.length;let a=this.elemText.selectionStart||0,l=this.elemText.selectionEnd||0;if(a!==l){for(;--l>=a;){let e=this.config.promptChar;this.mask.charCodeAt(l)>=t.maxMaskCode&&(e=this.mask.charAt(l)),r=r.substring(0,l)+e+r.substring(l+1)}l++}else if(7===n||32===n){for(;l<o&&this.mask.charCodeAt(l)>=t.maxMaskCode;)l++;if(l>=o)return!1;r=r.substring(0,l)+this.config.promptChar+r.substring(l+1),l++}else if(8===n){for(;l>0&&this.mask.charCodeAt(l-1)>=t.maxMaskCode;)l--;if(l--<1)return!1;r=r.substring(0,l)+this.config.promptChar+r.substring(l+1)}if(n>8&&32!==n&&l<o){const e=String.fromCharCode(n),t=[r];if(a=this.insertCharAt(t,e,l),r=t[0],a<0)return!1;l=this.locatePromptPos(a,!1)}return this.elemText.value=r,this.select(l),this.sendInputEvent(),!1}processPasteValue(e){if(!this.mask||this.config.skipValidation)return!1;const n=this.elemText.selectionStart||0,r=this.elemText.selectionEnd||0;let o=this.elemText.value;o=this.clearMaskedContent(o,n,r);const a=[o];let l=n;for(let n=0;n<e.length;n++)if(this.mask.charCodeAt(l)<t.maxMaskCode&&e.charAt(n)===this.config.promptChar)l++;else if(l=this.insertCharAt(a,e.charAt(n),l),l<0||l>=this.mask.length)break;return this.elemText.value=a[0],this.select(r>0?r:n),this.sendInputEvent(),!0}insertCharAt(e,n,r){const o=this.mask.length;let l=r,d=e[0];if(r<o){if(this.mask.charCodeAt(l)>=t.maxMaskCode&&this.mask.charAt(l)===n)return++l;for(;this.mask.charCodeAt(l)>=t.maxMaskCode;)if(++l>=o)return-1;let r;return null==(r=(0,a.maskFilter)(this.mask.charCodeAt(l),n,0,null,this.maskParts.maskExclude,this.maskParts.maskInclude))?-1:(d=d.substring(0,l)+r+d.substring(l+1),e[0]=d,l++,l)}return-1}locatePromptPos(e,n){const r=this.mask.length;for(;e>=0&&e<r&&this.mask.charCodeAt(e)>=t.maxMaskCode;)n?e--:e++;return e}clearMaskedContent(e,n,r){if((null==n||n<0)&&(n=0),(null==r||r>this.mask.length)&&(r=this.mask.length),n>r){const e=r;r=n,n=e}if(n!==r){for(;--r>=n;){let n=this.config.promptChar;this.mask.charCodeAt(r)>=t.maxMaskCode&&(n=this.mask.charAt(r)),e=e.substring(0,r)+n+e.substring(r+1)}r++}return e}};c.defaultConfigM={valueMode:0,promptChar:"_",emptyChar:" "},n.__decorate([r.bindable,n.__metadata("design:type",Object)],c.prototype,"config",void 0),c=d=n.__decorate([r.autoinject,(0,r.customElement)("qp-mask-editor"),(0,r.useView)("../text-editor/qp-text-editor.html"),n.__metadata("design:paramtypes",[Element,l.Container])],c),t.QpMaskEditorCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/simple/number-editor/converter.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/localizations-service.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/utils/control-helper.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberEditorValueConverter=void 0;let p=class NumberEditorValueConverter{constructor(){this.dotSymbol=".",this.defaultMinusSymbol="-",this.defaultDecimalSeparator=".",this.defaultGroupSeparator=",",this.getDecimals=e=>e.decimals<0?0:e.decimals,this.ensureNumberPrefences()}get numberFormatInfo(){return this.ensureNumberPrefences(),this.numberPreferences||{negativeSign:this.defaultMinusSymbol,number:{decimalSeparator:this.defaultDecimalSeparator,groupSeparator:this.defaultGroupSeparator}}}ensureNumberPrefences(){var e,t;this.translatorInitialized||((0,u.isLegacyEnv)()?(this.numberPreferences=(0,c.numberFormatInfo)(),this.translatorInitialized=!0):(this.localizationService=l.Container.instance.get(a.LocalizationsService),this.numberPreferences=null===(e=this.localizationService)||void 0===e?void 0:e.getLocalePreferences("number"),(null===(t=this.localizationService)||void 0===t?void 0:t.translatorInitialized)&&(this.translatorInitialized=!0)))}toView(e,t,n,r){if(null==r)return"";if(r.allowNull&&null==e)return t?"":r.nullText;if(n.hasChanges&&t)return null==e?"":e.toLocaleString("en-US",{useGrouping:!1}).replace(this.dotSymbol,this.numberFormatInfo.number.decimalSeparator);r.allowNull||null!=e||(e=0),r.enabled&&!r.readOnly||(t=!1),null==e.toFixed&&(e=this.parseFloat(e.toString()));const o=t?r.editFormat:r.displayFormat;return o?e.format(o,this.numberFormatInfo):t?this.getEditText(e,r):this.getDisplayText(e,r)}fromView(e,t,n,r){return!r.allowNull||e&&e!==r.nullText?this.checkLimits(this.parseValue(e,r),r):null}getEditText(e,t){let n;try{n=e.toFixed(this.getDecimals(t))}catch(e){n=(0).toFixed(this.getDecimals(t))}return n.replace(this.dotSymbol,this.numberFormatInfo.number.decimalSeparator)}getDisplayText(e,t){const n=t.valueType>=r.NetType.Single&&t.valueType<=r.NetType.Decimal,o=this.getDecimals(t);let a=e.toLocaleString(this.localizationService?this.localizationService.getLang():"en-US",{minimumFractionDigits:o,maximumFractionDigits:o,useGrouping:n});const l=a.split(this.dotSymbol);return a=l[0].replace(/,/g,this.numberFormatInfo.number.groupSeparator),l.length>1?a+this.numberFormatInfo.number.decimalSeparator+l[1]:a}checkLimits(e,t){if(null!=e&&!isNaN(e)){const n=t.minValue,r=t.maxValue;if(null!=n&&e<n)return n;if(null!=r&&e>r)return r}return e}parseValue(e,t){let n=0,r="";e=" "!==this.numberFormatInfo.number.decimalSeparator?e.replace(/\s/g,""):e.replace(/[\t\n\r\f]/g,"");for(let t=0;t<e.length;t++){const n=e.charAt(t);(0,o.isDigit)(n)||n===this.numberFormatInfo.negativeSign?r+=n:(n===this.numberFormatInfo.number.decimalSeparator||n===this.dotSymbol&&this.numberFormatInfo.number.groupSeparator!==this.dotSymbol)&&(r+=this.dotSymbol)}return n=this.parseFloat(r),isNaN(n)?0:Number(n.toFixed(this.getDecimals(t)))}parseFloat(e){let t=e.length,n=e.indexOf(this.numberFormatInfo.number.decimalSeparator);if(n<0&&(n=e.indexOf(this.dotSymbol)),n>=0&&(t=n),t>14){const n=t-14;return parseFloat(e.substr(n))}return parseFloat(e)}};p=n.__decorate([(0,d.autoinject)(),n.__metadata("design:paramtypes",[])],p),t.NumberEditorValueConverter=p}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/number-editor/qp-number-editor":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/simple/number-editor/converter.js"),n("client-controls/controls/simple/text-editor/qp-text-editor"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/services/localizations-service.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/utils/control-helper.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g){"use strict";var m;Object.defineProperty(t,"__esModule",{value:!0}),t.QpNumberEditorCustomElement=void 0;let f=m=class QpNumberEditorCustomElement extends a.QpTextEditorCustomElement{constructor(e,t){super(e,t),this.element=e,this.maxDecimals=null,this.conv=new o.NumberEditorValueConverter,this.subscribers=[],this.converter="numb",this.addConfigSetter("precision","decimals"),this.addConfigSetter("minValue"),this.addConfigSetter("maxValue"),this.addConfigSetter("type","valueType"),(0,h.isLegacyEnv)()?this.numberFormatInfo=(0,p.numberFormatInfo)()||this.conv.numberFormatInfo:this.numberFormatInfo=this.container.get(u.LocalizationsService).getLocalePreferences("number")}get type(){var e;return(null===(e=this.config)||void 0===e?void 0:e.decimals)>0?"qp-float":"qp-integer"}configChanged(e,t){var n;void 0===t&&((0,c.applyDefaultValues)(e,Object.assign(Object.assign({},m.defaultConfig),m.defaultConfigN)),null==this.config.decimals&&(this.config.decimals=0),this.config.allowNull||(null===(n=this.state)||void 0===n?void 0:n.nullable)||null!=this.value||null!=this.config.value||(this.value=0)),this.attachObservers()}detached(){super.detached(),this.detachObservers()}detachObservers(){this.subscribers.forEach((e=>e.dispose())),this.subscribers.splice(0,this.subscribers.length)}attachObservers(){if(this.detachObservers(),this.config){const e=["decimals","displayFormat","editFormat","valueType"];for(const t of e){const e=this.bindingEngine.propertyObserver(this.config,t).subscribe((()=>(0,r.signalBindings)("format-changed")));this.subscribers.push(e)}}}getDecimals(){return this.conv.getDecimals(this.config)}isMinus(e){return e===this.numberFormatInfo.negativeSign.charCodeAt(0)||45===e}processPasteValue(e){let t=e&&e.trim(),n=this.elemText.value;const r=new String(n),o=this.elemText.selectionStart||0,a=this.elemText.selectionEnd||0;t=t.replace(new RegExp(`\\${this.numberFormatInfo.number.groupSeparator}`,"g"),""),t=t.replace(new RegExp("s","g"),""),t=t.replace(/\+/,"");if(t.search(new RegExp(`^0-9\\${this.numberFormatInfo.number.decimalSeparator}-`,"g"))>=0)return!0;if(0!==o&&t.search(/[\-]/)>=0)return!0;n=o>=0?n.substring(0,o)+t+n.substring(a):t;const l=parseFloat(n.replace(this.numberFormatInfo.number.decimalSeparator,this.conv.dotSymbol));return isNaN(l)||this.conv.checkLimits(l,this.config)!==l?this.elemText.value=r.toString():this.elemText.value=this.conv.getEditText(l,this.config),this.sendInputEvent(),!0}onKeyPress(e,t){if(t<7||t>8&&t<32)return!1;let n=this.elemText.value,r=n.length,o=this.elemText.selectionStart||0,a=this.elemText.selectionEnd||0;if(o!==a)n=n.substring(0,o)+n.substring(a),a=o,r=n.length;else if(7===t||8===t)return!0;let l=0;const d=r;let u=!1;if(this.config.editFormat){let e,t="";for(let d=0;d<n.length;d++)e=n.charAt(d),(0,c.isDigit)(e)||e===this.numberFormatInfo.negativeSign?t+=e:e===this.numberFormatInfo.number.decimalSeparator?t+=this.conv.dotSymbol:(r--,d<o&&o--,d<a&&(a--,l++));n=t}t===this.conv.dotSymbol.charCodeAt(0)&&this.numberFormatInfo.number.decimalSeparator!==this.conv.dotSymbol&&(t=this.numberFormatInfo.number.decimalSeparator.charCodeAt(0));let p=n.indexOf(this.numberFormatInfo.number.decimalSeparator);if(t>8&&(!this.config.maxLength||this.config.maxLength<=0||this.config.maxLength>r)){const e=t===this.numberFormatInfo.number.decimalSeparator.charCodeAt(0);if(!((0,c.isDigit)(t)||e&&this.getDecimals()>0||0===o&&this.isMinus(t)&&this.config.minValue<0))return!1;if(r>0&&0===o&&this.isMinus(n.charCodeAt(0)))return!1;if(e){if(p>=0){if(p===o||p===o-1)return!1;r--,p<o&&(o=--a),n=n.substring(0,p)+n.substring(p+1)}if(r-o>this.getDecimals())return!1}else if(this.getDecimals()>0&&p>=0){r-p-1===this.getDecimals()&&o>p&&(u=!0)}const l=String.fromCharCode(t);if(a>=r)u&&(n=n.substring(0,r-1)),n+=l;else{const e=u?a+1:a;n=n.substring(0,o)+l+n.substring(e)}}let h=n.length;if(p=n.indexOf(this.numberFormatInfo.number.decimalSeparator),p>=0&&(h=p,this.maxDecimals)){if(parseInt(n.substring(p+1))>this.maxDecimals)return!1}if(h<15){if(this.config.editFormat){const e=this.conv.parseFloat(n);isNaN(e)||(n=e.format(this.config.editFormat,this.numberFormatInfo),l+=n.length-d-(u?0:1))}this.elemText.value=n,this.select(a+1+l),this.sendInputEvent()}return!1}};f.defaultConfigN={allowNull:!1,decimals:0,maxValue:999999999999,minValue:-999999999999,valueType:d.NetType.Int32,textAlign:3},n.__decorate([r.bindable,n.__metadata("design:type",Object)],f.prototype,"config",void 0),n.__decorate([(0,g.computedFrom)("config.decimals"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],f.prototype,"type",null),f=m=n.__decorate([r.autoinject,(0,r.customElement)("qp-number-editor"),(0,r.useView)("../text-editor/qp-text-editor.html"),n.__metadata("design:paramtypes",[Element,l.Container])],f),t.QpNumberEditorCustomElement=f}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/radio/qp-radio":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/utils/index.js"),n("aurelia-templating-resources")],o=function(e,t,n,r,o,a,l,d,c){"use strict";var u;Object.defineProperty(t,"__esModule",{value:!0}),t.RadioOption=t.QpRadioCustomElement=void 0;(0,o.getLogger)("radio");let p=u=class QpRadioCustomElement extends a.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,c.Repeat.useInnerMatcher=!1,this.addConfigSetter("options",(e=>{const t=this.config.options;return(null==e?void 0:e.length)?null==t?void 0:t.splice(0,t.length,...e):t}))}configChanged(e,t){this.config||(this.config={}),(0,d.applyDefaultValues)(this.config,u.defaultConfig),this.config.options||(this.config.options=[]),void 0===t&&this.config.value&&(this.value=this.config.value),this.options=this.config.options}matchValue(e,t){return typeof e!=typeof t?(null==e?void 0:e.toString())===(null==t?void 0:t.toString()):e===t}};p.defaultConfig={enabled:!0,required:!1},n.__decorate([r.bindable,n.__metadata("design:type",Object)],p.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],p.prototype,"value",void 0),p=u=n.__decorate([(0,r.customElement)("qp-radio"),r.autoinject,n.__metadata("design:paramtypes",[Element,l.Container])],p),t.QpRadioCustomElement=p;t.RadioOption=class RadioOption{constructor(){this.checked=!1,this.enabled=!0}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/simple/screen-configuration-menu/default-preferences-data-component.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/index.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultPreferencesDataComponent=void 0;let a=class DefaultPreferencesDataComponent{constructor(e){this.preferencesService=e}getQueryParams(e){return{}}setComponentData(e){this.applyScreenPreferences(e.defaultPreferences)}applyScreenPreferences(e){let t=0;for(const n in e)this.preferencesService.setPreferences(n,e[n],"def"),++t;t||this.preferencesService.notifyAllSubscribers()}};a=n.__decorate([r.noView,n.__metadata("design:paramtypes",[o.PreferencesService])],a),t.DefaultPreferencesDataComponent=a}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/screen-configuration-menu/qp-screen-configuration-menu":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/services/preferences/index.js"),n("./node_modules/client-controls/utils/control-helper.js"),n("./node_modules/client-controls/services/index.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpScreenConfigurationMenuCustomElement=void 0;let p=class QpScreenConfigurationMenuCustomElement{constructor(e,t,n,r){this.element=e,this.preferencesService=t,this.dialogHelper=n,this.screenService=r,this.resetToDefaultButtonConfig={text:o.Messages.ResetToDefault,id:"btnResetToDefault",enabled:!0,class:"screen-configuration-button"},this.applyButtonConfig={text:o.Messages.ApplyToAll,id:"btnApply",class:"screen-configuration-button  screen-configuration-main-button",dialogResult:1,enabled:!0},this.loadPersonalButtonConfig={text:o.Messages.LoadPersonalConfiguration,id:"btnLoadPersonalConfiguration",class:"screen-configuration-button",dialogResult:1,enabled:!0},this.cancelButtonConfig={text:o.Messages.Cancel,id:"btnCancel",dialogResult:2,enabled:!0,class:"screen-configuration-button"},this.btnExportConfig={id:"exportSc",images:{normal:"main@Copy"},options:[{type:"MenuButton",text:o.Messages.ExportConfiguration,commandName:h.export,images:{normal:"main@Copy"}},{type:"MenuButton",text:o.Messages.ImportConfiguration,commandName:h.import,images:{normal:"main@Paste"}}]},this.loadPersonalSettingsDialogConfig={title:o.Messages.LoadPersonalConfiguration,templateId:"loadPersonalSettings_dialog",hideMaximizer:!0},this.loadButtonConfig={text:o.Messages.Load,id:"btnUserLoad",class:"primary-button  personal-dialog--button",dialogResult:1,enabled:!0},this.cancelUserButtonConfig={text:o.Messages.Cancel,id:"btnUserCancel",class:"personal-dialog--button",dialogResult:2,enabled:!0},this.applyToAllDialogConfig={title:o.Messages.ApplyToAllDialogTitle,templateId:"applyToAll_dialog",hideMaximizer:!0,cssClass:"sc-apply-to-all-dialog non-responsive-dialog"},this.applyForcedButtonConfig={text:o.Messages.ApplyForced,id:"btnApplyForced",class:"personal-dialog--button",dialogResult:1,enabled:!0},this.applyNotForcedButtonConfig={text:o.Messages.ApplyNotForced,id:"btnApplyNotForced",class:"personal-dialog--button",dialogResult:1,enabled:!0},this.exiting=!1,this.msg=o.Messages}showApplyToAll(){return n.__awaiter(this,void 0,void 0,(function*(){const e=Object.assign(Object.assign({},this.applyToAllDialogConfig),{context:this});yield this.dialogHelper.openDialog(e)}))}applyToAll(e){return n.__awaiter(this,void 0,void 0,(function*(){(yield this.preferencesService.saveAllPreferences(this.getScreenID(),e))&&(yield this.closeDialog(),this.preferencesService.notifyAllSubscribers())}))}resetToDefault(){this.preferencesService.resetToDefault()}showUsersDialog(){return n.__awaiter(this,void 0,void 0,(function*(){this.users||(this.users=yield this.preferencesService.loadPreferenceUsers(this.getScreenID())),this.userSelectConfig={id:"selectedUserDropdown",options:this.users.map((e=>({value:e.id,text:e.text}))),size:"xm",class:"personal-dialog--user-selector"};const e=Object.assign(Object.assign({},this.loadPersonalSettingsDialogConfig),{context:this});yield this.dialogHelper.openDialog(e)}))}loadUserConfiguration(){return n.__awaiter(this,void 0,void 0,(function*(){this.selectedUser&&(yield this.preferencesService.loadAllPreferences(this.getScreenID(),a.PreferenceLoadMode.merged,this.selectedUser,!0),this.selectedUser=void 0)}))}attached(){return n.__awaiter(this,void 0,void 0,(function*(){this.exiting&&(this.exiting=!1),yield this.preferencesService.loadAllPreferences(this.getScreenID(),a.PreferenceLoadMode.onlyDefault)}))}cancel(){return n.__awaiter(this,void 0,void 0,(function*(){yield this.closeDialog()}))}closeDialog(){return n.__awaiter(this,void 0,void 0,(function*(){this.exiting=!0,yield(0,u.wait)(g),document.body.dispatchEvent(new CustomEvent("endScreenConfiguration")),yield this.preferencesService.loadAllPreferences(this.getScreenID(),a.PreferenceLoadMode.merged,void 0,!0)}))}processExportMenu(e){switch(e.detail.commandName){case h.import:this.fileUploader.click();break;case h.export:this.fileDownloader.download="ScreenConfiguration.json",this.fileDownloader.href=URL.createObjectURL(new Blob([JSON.stringify(this.preferencesService.getScreenDefaultPreferences(),null,"\t")],{type:"application/json"})),this.fileDownloader.click()}}fileUploaderChanged(){if(this.fileUploader.files&&this.fileUploader.files.length>0){const e=this.fileUploader.files[0];this.fileUploader.value="";const t=new FileReader;t.readAsText(e,"UTF-8"),t.onload=e=>{var t;const n=null===(t=e.target)||void 0===t?void 0:t.result;if("string"==typeof n)try{const e=JSON.parse(n);this.preferencesService.setScreenDefaultPreferences(e)}catch(e){console.log("Error parsing JSON",e)}}}}getScreenID(){var e;return(null===(e=this.screenService)||void 0===e?void 0:e.isValid)?this.screenService.screenID:(0,l.getScreenID)()}};var h;p=n.__decorate([r.autoinject,(0,r.customElement)("qp-screen-configuration-menu"),n.__metadata("design:paramtypes",[Element,a.PreferencesService,c.DialogHelper,d.ScreenService])],p),t.QpScreenConfigurationMenuCustomElement=p,function(e){e.export="Export",e.import="Import"}(h||(h={}));const g=200}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/simple/screen-configuration-menu/user-preferences-data-component.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/index.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserPreferencesDataComponent=void 0;let a=class UserPreferencesDataComponent{constructor(e){this.preferencesService=e}getQueryParams(e){return{}}setComponentData(e){this.applyScreenPreferences(e.userPreferences)}applyScreenPreferences(e){for(const t in e)this.preferencesService.setPreferences(t,e[t],"user")}};a=n.__decorate([r.noView,n.__metadata("design:paramtypes",[o.PreferencesService])],a),t.UserPreferencesDataComponent=a}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/segmented-selector/qp-segmented-selector":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/selector-service/selector-service.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/client-controls/services/messages.js")],o=function(e,t,n,r,o,a,l,d,c,u,p){"use strict";var h,g,m,f;Object.defineProperty(t,"__esModule",{value:!0}),t.QpSegmentedSelectorCustomElement=void 0,function(e){e[e.Ascii=0]="Ascii",e[e.AlphaNumeric=1]="AlphaNumeric",e[e.Numeric=2]="Numeric",e[e.Alpha=3]="Alpha"}(g||(g={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(m||(m={})),function(e){e[e.NotSet=0]="NotSet",e[e.Upper=1]="Upper",e[e.Lower=2]="Lower"}(f||(f={}));let v=h=class QpSegmentedSelectorCustomElement extends u.QpBaseFieldEditor{constructor(e,t,n){super(t),this.element=e,this.selectorService=n,this.value={},this.items=[],this.graph="",this.editMask="",this.segmentViewName="",this.segmentFieldList=[],this.segmentHeaderList=[],this.lastPos=0,this.selEnd=0,this.selStart=0,this.dropOpen=!1,this.autoCompleteNM=!1,this.asciiCharSet=!1,this.wildcard="",this.allowNull=!1,this.lastSegment=0,this.eventSubscriptions=[],this.selectorOpened=!1,this.eventManager=t.get(o.EventManager),this.addConfigSetter("inputMask",(e=>this.setInputMask(e))),this.addConfigSetter("segments",(e=>this.setSegments(e))),this.addConfigSetter("segmentViewName",(e=>this.setSegmentViewName(e))),this.addConfigSetter("segmentFieldList",(e=>this.setSegmentFieldList(e))),this.addConfigSetter("segmentHeaderList",(e=>this.setSegmentHeaderList(e))),this.addConfigSetter("graph",(e=>this.setGraph(e)))}attached(){super.attached(),this.input&&(this.maskedInput=this.input.au.controller.viewModel,this.elemText=this.maskedInput.elemText,this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions.push(this.eventManager.addEventListener(this.elemText,"blur",(e=>this.onBlur(e)),o.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.elemText,"focus",(e=>this.onFocus(e)),o.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.elemText,"keydown",(e=>this.handleKeyDown(e)),o.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.elemText,"keyup",(e=>this.onKeyUp(e)),o.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.input,"update",(()=>this.tq.queueMicroTask((()=>this.updateValue()))),o.delegationStrategy.none,!0)))}configChanged(e,t){this.config||(this.config={}),(0,l.applyDefaultValues)(this.config,h.defaultConfig)}valueChanged(e,t){e&&null!=e.id&&e.id!==(null==t?void 0:t.id)&&(this.maskedInput.value=e.id)}detached(){super.detached(),this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[]}createColumnsConfig(){const e=[];return this.segmentFieldList.forEach(((t,n)=>{e.push({field:t,caption:this.segmentHeaderList[n]})})),e}createLookupColumnsConfig(){var e;const t=[];for(let n=0;n<((null===(e=this.state.fieldList)||void 0===e?void 0:e.length)||0);++n)t.push({field:this.state.fieldList?this.state.fieldList[n]:"",caption:this.state.headerList?this.state.headerList[n]:"",hideViewLink:!0});return t}handleKeyDown(e){return n.__awaiter(this,void 0,void 0,(function*(){switch(e.key){case"F3":e.preventDefault();try{const e=this.getSegmentIndex(this.elemText.selectionStart),t={segment:e+1,value:this.getValue(this.elemText.value)};this.selectorOpened=!0;const n=yield this.selectorService.getSelectorValue({graph:this.graph,parameters:t,view:this.segmentViewName,columns:this.createColumnsConfig(),valueField:"Value",dialogCaptionPrefix:this.state.displayName||"Select",displayName:this.items[e].title,showFilterBar:c.GridFilterBarVisibility.False,topBarItems:{select:{config:{commandName:"select",text:p.Messages.SelectorSelect,connotation:"Success"}}},adjustPageSize:!0,pageSize:20},this.element,this.container,"");if(n){if(this.elemText.selectionStart=this.getSegmentPos(this.items[e]),this.elemText.value=this.setSegmentValue(this.items[e],n.id),this.state.lookupMode===c.DimensionLookupMode.BySegmentsAndChildSegmentValues)for(let t=e+1;t<this.items.length;++t)this.elemText.value=this.setSegmentValue(this.items[t],"");const t=e;let r=this.getSegmentPos(this.items[t]);t===this.items.length-1||(r=this.getSegmentPos(this.items[t+1])),this.selectPos(r)}}catch(e){}finally{this.selectorOpened=!1}break;case"ArrowRight":case"ArrowLeft":this.items&&this.items.length>1&&e.ctrlKey&&this.selectNextSegment("ArrowLeft"===e.key)}}))}onKeyUp(e){!this.items||this.dropOpen||this.autoCompleteNM||this.checkSegmentAlign()}onClick(e){return!this.items||this.dropOpen||this.autoCompleteNM||this.checkSegmentAlign(),!0}openSelector(e){return n.__awaiter(this,void 0,void 0,(function*(){try{const e=this.getSegmentIndex(this.elemText.selectionStart);this.getValue(this.elemText.value);this.selectorOpened=!0;const t=yield this.selectorService.getSelectorValue({graph:this.graph,view:this.state.viewName,columns:this.createLookupColumnsConfig(),valueField:this.state.valueField,dialogCaptionPrefix:this.state.displayName||"Select",displayName:this.items[e].title,showFilterBar:c.GridFilterBarVisibility.False,topBarItems:{select:{config:{commandName:"select",text:p.Messages.SelectorSelect,connotation:"Success"}}},adjustPageSize:!0,pageSize:20},this.element,this.container,"");t&&(this.value=t)}catch(e){}finally{this.selectorOpened=!1}return null==e||e.preventDefault(),null==e||e.stopImmediatePropagation(),!1}))}onBlur(e){this.selectorOpened||this.updateValue()}onFocus(e){var t;this.elemText.value=this.getEditText(null===(t=this.value)||void 0===t?void 0:t.id,!1,!1)}getValue(e,t=!1){if(null===e||null===this.items)return this.allowNull?null:"";const n=e.length;let r=0,o="",a=!0;for(const l of this.items){for(let t=0;t<l.length&&r<n;t++){const t=this.filterChar(l,e.charAt(r));null!==t&&t!==l.emptyChar?(o+=t,a=!1):o+=l.emptyChar,r++}if((t||r<n&&e[r]===l.separator)&&r++,r>=n)break}return a?this.allowNull?null:"":o.trimEnd()}getEditText(e,t,n){if(null===this.items)return"";if(e||(e=""),!e.trim().length&&t)return"";if(!n&&this.autoCompleteNM)return e;let r="";const o=e.length;let a=0;return this.items.forEach(((n,l)=>{const d=t?n.emptyChar:n.promptChar,c=n.emptyChar.charCodeAt(0)>32;let u=0;for(;u<n.length;){if(a<o){const t=e.charAt(a++);t===n.emptyChar?r+=c?n.emptyChar:d:r+=t}else r+=d;u++}l<this.items.length-1&&(r+=n.separator)})),r}selectPos(e){d.browser.isIE&&this.elemText.focus(),this.lastPos=e,d.browser.isEdge?this.tq.queueTask((()=>{this.elemText.setSelectionRange(this.lastPos,this.lastPos)})):this.elemText.setSelectionRange(this.lastPos,this.lastPos)}selectNextSegment(e){let t=this.getSegmentIndex(this.elemText.selectionStart);e?(t--,t<0&&(t=this.items.length-1)):(t++,t>=this.items.length&&(t=0));const n=this.getSegmentPos(this.items[t]);this.tq.queueTask((()=>this.selectPos(n)))}updateValue(){var e,t,n,r,o;this.selStart===this.selEnd&&this.items&&!this.autoCompleteNM&&this.config.alignSegments&&(this.elemText.value=this.alignSegment(this.elemText.value,this.selStart));const a=null===(e=this.getValue(this.elemText.value))||void 0===e?void 0:e.trim();(null!=this.value||a)&&((null===(n=null===(t=this.value)||void 0===t?void 0:t.id)||void 0===n?void 0:n.trim())||a?((null===(o=null===(r=this.value)||void 0===r?void 0:r.id)||void 0===o?void 0:o.trim())||"")!==(a||"")&&(this.value={id:a}):this.value={})}syncMaskItems(e){this.items=[],e.forEach((e=>{if(e.length<=0)return;const t={};switch(t.emptyChar=String.fromCharCode(e.fillCharacter),t.promptChar=String.fromCharCode(e.promptCharacter),t.length=e.length,t.readOnly=e.readOnly,t.separator=String.fromCharCode(e.separator),t.textAlign=0===e.align?m.Left:m.Right,t.textCase=e.caseConvert,t.title=e.descr,String.fromCharCode(e.editMask)){case"C":t.editMask=g.Ascii;break;case"a":t.editMask=g.AlphaNumeric;break;case"9":t.editMask=g.Numeric;break;case"?":t.editMask=g.Alpha}this.items.push(t)}))}setInputMask(e){this.config&&(this.config.inputMask=e,this.maskedInput.setInputMask(e))}setSegments(e){this.syncMaskItems(e),this.editMask=this.getEditMask()}setSegmentViewName(e){this.segmentViewName=e}setSegmentFieldList(e){this.segmentFieldList=e}setGraph(e){this.graph=e}setSegmentHeaderList(e){this.segmentHeaderList=e}getSegmentPos(e){let t=0,n=!1;for(const r of this.items){if(r===e){n=!0;break}t+=r.length+1}return n?t:-1}getSegmentIndex(e){if(null===e)return 0;const t=this.editMask.length;let n=-1;for(;e<t;){const t=this.editMask.charCodeAt(e);if(t>=20){n=t-20;break}e++}return n<0&&(n=this.items.length-1),n}getSegmentItem(e){return this.items[this.getSegmentIndex(e)]}getSegmentValue(e,t){void 0===t&&(t=this.elemText.value);const n=this.getSegmentPos(e);let r="";if(n>=0&&n<t.length){const o=t.substring(n,n+e.length);for(const t of o)t!==e.promptChar&&(r+=t);return""===r?null:r}return null}setSegmentValue(e,t){let n=this.elemText.value;const r=this.getSegmentPos(e);if(r>=0&&r<n.length){let o=e.length-t.length;if(o>0){let n="";const r=e.textAlign===m.Left;for(;o--;)n+=e.promptChar;r?t+=n:t=n+t}else o<0&&(t=t.substring(0,e.length));const a=r+e.length;n=n.substring(0,r)+t+n.substring(a)}return n}getEditMask(){let e="";if(null!==this.items){const t=this.items.length;this.items.forEach(((n,r)=>{const o=String.fromCharCode(n.editMask),a=String.fromCharCode(n.editMask+10);n.readOnly?e+=a.repeat(n.length):e+=o.repeat(n.length),r<t-1&&(e+=String.fromCharCode(r+20))}))}return e}filterChar(e,t){if(t===e.emptyChar)return t;if(this.wildcard.indexOf(t)>=0&&t!==e.promptChar)return t;if(t===e.promptChar||this.asciiCharSet&&t.charCodeAt(0)>127)return null;let n=!0;switch(e.editMask){case g.AlphaNumeric:n=(0,l.isLetter)(t)||(0,l.isDigit)(t);break;case g.Numeric:n=(0,l.isDigit)(t);break;case g.Alpha:n=(0,l.isLetter)(t)}if(!n)return null;switch(e.textCase){case f.Upper:t=t.toUpperCase();break;case f.Lower:t=t.toLowerCase()}return t}alignSegment(e,t){const n=this.getSegmentItem(t),r=n?this.getSegmentPos(n):-1;if(r>=0&&r<e.length){const t=r+n.length;let o="";for(let a=r;a<t&&a<e.length;a++){const t=e[a];t!==n.promptChar?o+=t:o+=n.emptyChar}o=o.trimEnd(),o.length!==n.length&&(e=this.setSegmentValue(n,o))}return e}checkSegmentAlign(){if(!this.config.alignSegments)return!1;const e=this.elemText.selectionStart;let t=!1;const n=this.elemText;if(e!==this.lastPos&&e===this.elemText.selectionEnd){this.getSegmentItem(e);const r=this.getSegmentIndex(e);this.lastSegment!==r&&null!==this.lastPos&&(n.value=this.alignSegment(n.value,this.lastPos),this.elemText.setSelectionRange(e,e),t=!0),this.lastSegment=r,this.lastPos=e}return t}};v.defaultConfig={alignSegments:!0},n.__decorate([o.bindable,n.__metadata("design:type",Object)],v.prototype,"config",void 0),n.__decorate([o.bindable,(0,o.observable)({changeHandler:"valueChanged"}),n.__metadata("design:type",Object)],v.prototype,"value",void 0),v=h=n.__decorate([o.autoinject,(0,o.customElement)("qp-segmented-selector"),n.__metadata("design:paramtypes",[Element,r.Container,a.SelectorService])],v),t.QpSegmentedSelectorCustomElement=v}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/selector/qp-selector":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/screen-service.js"),n("aurelia-framework"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/services/selector-service/selector-service.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/controls/simple/selector/selector-api-client.js"),n("./node_modules/client-controls/services/messages.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpSelectorCustomElement=void 0;(0,d.getLogger)("qp-selector");let m=class QpSelectorCustomElement extends c.QpBaseFieldEditor{constructor(e,t,n,r){super(t),this.element=e,this.selectorService=n,this.client=r,this.showSelector=!1,this.suggesterOpen=!1,this.selectorOpened=!1,this.showSuggester=!0,this.converterType="text",this.displayMode="both",this.eventSubscriptions=[],this.eventManager=t.get(o.EventManager);let a=["viewName"];a.forEach((e=>{this.addConfigSetter(e,(t=>this.setSuggesterProperty(e,t)))})),this.addConfigSetter("fieldList",((e,t)=>null==e?void 0:e.forEach((e=>this.addSuggesterField(e,t))))),a=["valueField","descriptionName"],a.forEach((e=>{this.addConfigSetter(e,(t=>this.setSuggesterProperty(e,t,!0)))})),this.addConfigSetter("inputMask"),this.addConfigSetter("allowNull"),this.addConfigSetter("valueMode"),this.addConfigSetter("skipValidation"),this.addConfigSetter("promptChar"),this.addConfigSetter("emptyChar"),this.addConfigSetter("displayName",(e=>{this.gridConfig&&(this.gridConfig.displayName=e)})),this.addConfigSetter("name",(e=>{this.gridConfig&&(this.gridConfig.dataField=e),this.config.suggester&&(this.config.suggester.dataField=e)})),this.addConfigSetter("selectorMode",(e=>this.setSelectorMode(e)))}attached(){this.editorDiv&&(this.editorDiv.focus=()=>{this.focus()})}focus(){if(!this.editorDiv)return;const e=this.editorDiv.querySelector(".qp-selector-link-wrapper"),t=document.activeElement;e&&e!==t?e.focus():this.editor!==t&&this.editor.focus()}setSelectorMode(e){this.mode=e,void 0!==e&&(e&u.PXSelectorMode.AutocompleteMode&&(this.showSuggester=!1),this.config.editorType?(this.editorType=this.config.editorType,this.converterType="text",this.maskedEditor=!1,this.displayMode="id"):(e&u.PXSelectorMode.NoAutocomplete?(this.editorType="qp-mask-editor",this.converterType="mask",this.maskedEditor=!0):(this.editorType="qp-text-editor",this.converterType="text",this.maskedEditor=!1),this.config.displayMode?this.displayMode=this.config.displayMode:(e&u.PXSelectorMode.DisplayMode)===u.PXSelectorMode.DisplayMode?this.displayMode="both":e&u.PXSelectorMode.DisplayModeText?this.displayMode="text":e&u.PXSelectorMode.DisplayModeValue&&(this.displayMode="id")),"text"===this.displayMode&&(this.editorType="qp-text-editor",this.converterType="text",this.maskedEditor=!1))}editorChanged(){this.editor&&(this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"focus",(e=>{var t;(null===(t=this.config)||void 0===t?void 0:t.allowEdit)&&!this.empty||this.onFocus(e)}),o.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"blur",(e=>{this.selectorOpened||(this.editorValueChanged(),this.tq.queueTask((()=>this.onBlur(e))))}),o.delegationStrategy.capturing,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"update",(e=>this.tq.queueMicroTask((()=>this.updateValue()))),o.delegationStrategy.none,!0)))}detached(){var e,t;super.detached(),this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],null===(e=this.valueIdSubscr)||void 0===e||e.dispose(),null===(t=this.valueTextSubscr)||void 0===t||t.dispose(),this.valueIdSubscr=this.valueTextSubscr=void 0}get empty(){var e;return!(this.value&&this.value.hasOwnProperty("id")&&(null===(e=this.value.id)||void 0===e?void 0:e.toString()))}get isDisabled(){var e,t;return(null===(e=this.config)||void 0===e?void 0:e.readOnly)||!(null===(t=this.config)||void 0===t?void 0:t.enabled)}get isLinkMode(){var e;return(null===(e=this.config)||void 0===e?void 0:e.allowEdit)&&!this.editMode&&!this.empty}setSuggesterProperty(e,t,n=!1){var r,o,a,l;this.ensureSuggester();const d=this.config.suggester;null!==(r=d[e])&&void 0!==r||(d[e]=t),this.gridConfig&&(null!==(o=(a=this.gridConfig)[l="viewName"===e?"view":e])&&void 0!==o||(a[l]=t)),n&&t&&this.addSuggesterField(t,this.state)}addSuggesterField(e,t){var n,r,o,a;if(!e)return;const l=e.toLowerCase();this.ensureSuggester();const d=this.config.suggester;d.fields||(d.fields=[]);let c=d.fields.findIndex((e=>{var t;return(null===(t=e.id)||void 0===t?void 0:t.toLowerCase())===l}));if(c>=0)return;c=null!==(r=null===(n=null==t?void 0:t.fieldList)||void 0===n?void 0:n.findIndex((t=>(0,p.compareStrings)(t,e,!0))))&&void 0!==r?r:-1;const u=c>=0&&(null==t?void 0:t.headerList)?t.headerList[c]:void 0,h=(null===(o=null==t?void 0:t.descriptionName)||void 0===o?void 0:o.toLowerCase())===l||(null===(a=null==t?void 0:t.valueField)||void 0===a?void 0:a.toLowerCase())===l;d.fields.push({id:e,filter:h,caption:u,type:"String"}),this.gridConfig&&(this.gridConfig.columns=this.suggesterFieldsToColumns(d.fields))}suggesterFieldsToColumns(e){this.config.suggester.valueField;return null==e?void 0:e.map((e=>({field:e.id,caption:e.caption,hideViewLink:!0})))}ensureSuggester(){var e,t;if(!this.config.suggester){const n=null===(e=this.container.get(r.ScreenService))||void 0===e?void 0:e.getGraphInfo();this.config.suggester={inlineArgs:!0,graph:null==n?void 0:n.graphType,dataField:null===(t=this.state)||void 0===t?void 0:t.name}}}configChanged(e){var t;if(e){this.ensureSuggester();const{viewName:n,graph:r}=e.suggester,o=this.suggesterFieldsToColumns(e.suggester.fields);this.gridConfig={dialogCaptionPrefix:e.dialogCaptionPrefix||"Select",selectButtonCaption:e.selectButtonCaption,graph:r,view:n,columns:o,valueField:e.suggester.valueField,descriptionName:e.suggester.descriptionName,displayName:e.suggester.displayName,dataField:null===(t=this.state)||void 0===t?void 0:t.name,showFastFilter:u.GridFastFilterVisibility.ToolBar,topBarItems:{select:{config:{commandName:"select",text:g.Messages.SelectorSelect,connotation:"Success"}},add:{config:{commandName:"addNewRecord",imageUrl:"main@RecordAdd"}}},actionsConfig:{exportToExcel:{hidden:!0}},allowSkipTabs:!1,autoSaveLayout:!1,preserveSortsAndFilters:!1,adjustPageSize:!0,pageSize:20,panel_id:`${e.id}_pnl_dlg`,id:`${e.id}_pnl_gr`},this.setSelectorMode(this.mode)}}get editorConfig(){if(!this.config)return;let e=this.config.tabIndex,t=this.config.enabled;return this.editor&&(this.config.readOnly||!this.config.enabled||this.isLinkMode)&&(e=-1,t=!1),{id:`${this.config.id}_text`,name:this.config.name,tabIndex:e,enabled:t,readOnly:this.config.readOnly,inputMask:this.config.inputMask,nullText:this.config.nullText,allowNull:this.config.allowNull,valueMode:this.config.valueMode,skipValidation:this.config.skipValidation,promptChar:this.config.promptChar,emptyChar:this.config.emptyChar}}displayModeChanged(){this.writeEditorValue()}editModeChanged(){this.editMode&&this.writeEditorValue()}writeEditorValue(){var e;if(this.selectorOpened)return;if(null==(null===(e=this.value)||void 0===e?void 0:e.id))return this.editorValue=void 0,void(this.refText=this.descrText="");const t=null!=this.value.text,n=this.value.id.toString().trim(),r=t?this.value.text.toString().trim():"";if(this.editMode)return"both"===this.displayMode||"id"===this.displayMode?this.editorValue=n:this.editorValue=t?r:void 0,void(this.refText=this.descrText="");let o;switch(this.displayMode){case"both":r&&n!==r?(this.refText=n,this.descrText=` - ${r}`,o=`${this.refText} - ${r}`):(o=this.refText=n,this.descrText="      ");break;case"id":o=this.refText=n,this.descrText="      ";break;case"text":o=this.refText=t?r:void 0,this.descrText="      "}this.editorValue=o}editorValueChanged(){var e;(null===(e=this.config)||void 0===e?void 0:e.suggester)&&"text"===this.displayMode&&(this.config.suggester.suggestOnBlur=!0)}valueChanged(){var e,t,n;null===(e=this.valueIdSubscr)||void 0===e||e.dispose(),null===(t=this.valueTextSubscr)||void 0===t||t.dispose(),this.valueIdSubscr=this.valueTextSubscr=void 0,this.writeEditorValue(),(null===(n=this.config)||void 0===n?void 0:n.suggester)&&(this.config.suggester.suggestOnBlur=!1),this.value&&(this.valueIdSubscr=this.bindingEngine.propertyObserver(this.value,"id").subscribe((e=>{this.value={id:e,text:""},this.writeEditorValue()})),this.valueTextSubscr=this.bindingEngine.propertyObserver(this.value,"text").subscribe((e=>{this.writeEditorValue()})))}openEditor(e){var t;const n=this.container.get(r.ScreenService),o=(n.siteMapScreenID?n.siteMapScreenID:n.screenID)||(0,p.getScreenID)();return this.client.getEditScreen(o,this.config.suggester.viewName||"",this.config.suggester.dataField||"",null===(t=this.value)||void 0===t?void 0:t.id),e.preventDefault(),e.stopPropagation(),!1}openSelector(e){var t,r,o;return n.__awaiter(this,void 0,void 0,(function*(){if(null===(r=null===(t=this.config)||void 0===t?void 0:t.suggester)||void 0===r?void 0:r.simpleSelect)this.editor.focus(),this.suggesterOpen=!this.suggesterOpen;else{this.selectorOpened=!0;try{const t=this.editMode?this.editor.value:null===(o=this.value)||void 0===o?void 0:o.id;let n=this.gridConfig.valueField;if("text"===this.displayMode){n=this.gridConfig.descriptionName;const e=this.gridConfig.columns.find((e=>(0,p.compareStrings)(e.field,this.gridConfig.valueField,!0)));e&&(e.allowShowHide=u.GridColumnShowHideMode.False,e.visible=!1)}const r=yield this.selectorService.getSelectorValue(this.gridConfig,this.element,this.container,t,n);if(this.selectorOpened=!1,r){if("<NEW>"===(null==r?void 0:r.id))return this.client.getEditScreen((0,p.getScreenID)(),this.config.suggester.viewName||"",this.config.suggester.dataField||"",void 0).then((e=>{var t,n;(null===(t=null==e?void 0:e.redirectResults)||void 0===t?void 0:t.length)&&(null===(n=e.redirectResults[0])||void 0===n?void 0:n.close$)&&e.redirectResults[0].close$.then((e=>{var t;if(e){const n=null===(t=Object.values(e)[0])||void 0===t?void 0:t.toString();null!=n&&(this.value={id:n,text:""})}}))})),null==e||e.preventDefault(),null==e||e.stopImmediatePropagation(),!1;this.value=r;const t=new CustomEvent("value-selected",{bubbles:!0,detail:r});this.element.dispatchEvent(t)}}catch(e){this.selectorOpened=!1}}return this.tq.queueTask((()=>this.focus())),null==e||e.preventDefault(),null==e||e.stopImmediatePropagation(),!1}))}handleKeyDown(e){return"F3"!==e.key||(e.preventDefault(),e.stopImmediatePropagation(),this.openSelector(),!1)}onSpanFocus(e){return this.config.readOnly||!this.config.enabled?(e.preventDefault(),e.stopImmediatePropagation(),!1):(this.editMode=!0,this.tq.queueMicroTask((()=>this.editor.focus())),!this.maskedEditor&&this.config.inputMask&&"text"!==this.displayMode&&(this.converterType="mask"),!0)}onFocus(e){return this.config.readOnly||!this.config.enabled?(e.preventDefault(),e.stopImmediatePropagation(),!1):(this.editMode=!0,!this.maskedEditor&&this.config.inputMask&&"text"!==this.displayMode&&(this.converterType="mask"),!0)}onBlur(e){return!this.editMode&&this.editorValue===this.editor.value||(this.editMode=!1,this.updateValue(),!0)}preventFocus(e){return e.preventDefault(),!1}clearValue(e){return this.onFocus(e),this.tq.queueTask((()=>{this.editorValue=""})),e.preventDefault(),e.stopImmediatePropagation(),!1}updateValue(){var e,t,n,r,o,a,l;if(!(null===(e=this.editorValue)||void 0===e?void 0:e.trim()))return"text"===this.displayMode&&!(null===(n=null===(t=this.value)||void 0===t?void 0:t.text)||void 0===n?void 0:n.toString().trim())||((null===(o=null===(r=this.value)||void 0===r?void 0:r.id)||void 0===o?void 0:o.toString().trim())&&(this.value=null),!0);"text"===this.displayMode||this.editorValue!==(null===(l=null===(a=this.value)||void 0===a?void 0:a.id)||void 0===l?void 0:l.toString().trim())&&(this.value={id:this.editorValue,text:""}),this.maskedEditor||"text"===this.converterType||(this.converterType="text"),this.writeEditorValue()}setSuggestedValue(e,t,n){var r,o;if(e)if((null===(o=null===(r=this.value)||void 0===r?void 0:r.id)||void 0===o?void 0:o.toString())===e)this.value.text=t,this.writeEditorValue(),this.editor.value=this.editorValue||"";else{this.value={id:e,text:t};const n=new CustomEvent("value-selected",{bubbles:!0,detail:e});this.element.dispatchEvent(n)}else this.value=null}};n.__decorate([o.bindable,n.__metadata("design:type",Object)],m.prototype,"config",void 0),n.__decorate([o.bindable,n.__metadata("design:type",Object)],m.prototype,"value",void 0),n.__decorate([o.observable,n.__metadata("design:type",Boolean)],m.prototype,"editMode",void 0),n.__decorate([o.observable,n.__metadata("design:type",HTMLInputElement)],m.prototype,"editor",void 0),n.__decorate([o.observable,n.__metadata("design:type",String)],m.prototype,"displayMode",void 0),n.__decorate([o.observable,n.__metadata("design:type",String)],m.prototype,"editorValue",void 0),n.__decorate([(0,o.computedFrom)("value","value.id"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],m.prototype,"empty",null),n.__decorate([(0,o.computedFrom)("config","config.readOnly","config.enabled"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],m.prototype,"isDisabled",null),n.__decorate([(0,o.computedFrom)("editMode","config","config.allowEdit","value","value.id"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],m.prototype,"isLinkMode",null),n.__decorate([(0,o.computedFrom)("config","config.id","config.tabIndex","config.enabled","config.readOnly","config.inputMask","config.allowEdit","editMode"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],m.prototype,"editorConfig",null),m=n.__decorate([o.autoinject,(0,o.customElement)("qp-selector"),n.__metadata("design:paramtypes",[Element,a.Container,l.SelectorService,h.SelectorApiClient])],m),t.QpSelectorCustomElement=m}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/simple/selector/selector-api-client.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/base-api-client.js"),n("aurelia-framework")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorApiClient=void 0;let a=class SelectorApiClient{constructor(e){this.client=e}getEditScreen(e,t,n,r){return this.client.fetchExt(`ui/screen/${e}/selector/edit-screen`,{DataMember:t,DataField:n,Value:r})}};a=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[r.BaseApiClient])],a),t.SelectorApiClient=a}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/simple-selector/qp-simple-selector":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpSimpleSelectorCustomElement=void 0;let d=class QpSimpleSelectorCustomElement extends a.QpBaseFieldEditor{constructor(e,t,n){super(e),this.dialogHelper=t,this.element=n,this.buttonConfig={id:"simple-select--button"}}configChanged(e){var t;this.buttonConfig.enabled=buttonPressable(e),this.buttonConfig.id=`${null===(t=this.config)||void 0===t?void 0:t.id}_btnSelector`}valueChanged(e){this.buttonConfig.text=e}toggleSelector(e){if(!buttonPressable(this.config))return;e.preventDefault(),e.stopImmediatePropagation();const t={hideMaximizer:this.config.hideMaximizer,templateId:this.config.dialogPanelId,caption:this.config.dialogTitle,rootElement:this.config.dialogPanelRoot,context:this};this.selectorContext=this.config.context,this.dialogHelper.openDialog(t)}};function buttonPressable(e){return!!(null==e?void 0:e.enabled)&&(!e.readOnly||e.readonlyOpensDialog)}n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],d.prototype,"value",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"selectorContext",void 0),d=n.__decorate([(0,r.customElement)("qp-simple-selector"),r.autoinject,n.__metadata("design:paramtypes",[o.Container,l.DialogHelper,Element])],d),t.QpSimpleSelectorCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/text-editor/converter":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/simple/number-editor/converter.js"),n("./node_modules/client-controls/controls/simple/mask-editor/converter.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveSCRIPTValueConverter=t.MetaValueConverter=t.TextEditorValueConverter=void 0;let l=class TextEditorValueConverter{toView(e,t,n,r){return!t&&r&&r.allowNull&&!e?r.nullText:null!=e?e.toString():""}fromView(e,t,n,r){return!r.allowNull||e&&e!==r.nullText?e:null}};l=n.__decorate([(0,r.valueConverter)("textEditor")],l),t.TextEditorValueConverter=l;let d=class MetaValueConverter{constructor(e,t,n){this.text=e,this.numb=t,this.mask=n,this.signals=["format-changed"]}toView(e,t,n,r,o){const a=this[t];return a&&a.toView?a.toView(e,n,r,o):e}fromView(e,t,n,r,o){const a=this[t];return a&&a.fromView?a.fromView(e,n,r,o):e}};d=n.__decorate([r.autoinject,(0,r.valueConverter)("meta"),n.__metadata("design:paramtypes",[l,o.NumberEditorValueConverter,a.MaskEditorValueConverter])],d),t.MetaValueConverter=d;const c=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;let u=class RemoveSCRIPTValueConverter{toView(e){return null==e?null:e.replace(c,"")}};u=n.__decorate([(0,r.valueConverter)("removeSCRIPT")],u),t.RemoveSCRIPTValueConverter=u}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/text-editor/qp-text-editor":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/abstract/base-field-editor/base-field-editor.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js"),n("./node_modules/client-controls/services/translation-service.js")],o=function(e,t,n,r,o,a,l,d,c,u,p){"use strict";var h;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTextEditorCustomElement=void 0;let g=h=class QpTextEditorCustomElement extends o.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,this.converter="text",this.hasFocus=!1,this.editorState={hasChanges:!1},this.languageButtonConfig={id:"btnLanguage",dialogResult:1,enabled:!0},this.Msg=l.Messages,this.addConfigSetter("length","maxLength"),this.addConfigSetter("nullable","allowNull"),this.addConfigSetter("multiLine",(e=>{e&&(this.config.type=1)})),this.addConfigSetter("language","language"),this.addConfigSetter("translations",(e=>this.setTranslations(e))),this.screenEventManager=new d.QpEventManager(t),this.container.registerInstance(d.QpEventManager,this.screenEventManager),this.dialogHelper=t.get(u.DialogHelper),this.translationService=t.get(p.TranslationService)}get SuggestionMode(){var e,t;return this.config&&!this.config.hasEditLink&&("multiline"===(null===(e=this.config.smartSuggestionMode)||void 0===e?void 0:e.toLowerCase())||"singleline"===(null===(t=this.config.smartSuggestionMode)||void 0===t?void 0:t.toLowerCase()))&&this.config.enabled&&!this.config.readOnly}configChanged(e,t){this.config||(this.config={}),(0,c.applyDefaultValues)(this.config,h.defaultConfig)}stateChanged(e,t){super.stateChanged(e,t),this.languageButtonConfig.text=e.language}isTextArea(){return"TEXTAREA"===this.elemText.tagName.toUpperCase()}get type(){return""}sendUpdateEvent(){const e=new CustomEvent("update",{bubbles:!0,cancelable:!1});this.elemText.dispatchEvent(e)}sendInputEvent(){const e=new InputEvent("input",{bubbles:!0,cancelable:!0});this.elemText.dispatchEvent(e)}select(e=null,t=null){this.config.hidden||(null==e||null==t?null!=e?this.elemText.setSelectionRange(e,e):this.elemText.select():this.elemText.setSelectionRange(e,t))}selectContent(){(0,c.isVisible)(this.elemText)&&this.config&&(this.config.selectOnFocus||this.getDisabled())&&this.tq.queueMicroTask((()=>this.select()))}getDisabled(){return!this.config.enabled||this.config.readOnly}processKeyDown(e){let t=e.key&&1===e.key.length&&!e.ctrlKey&&!e.metaKey&&!e.altKey?e.key[0].charCodeAt(0):null;switch(e.key){case"Backspace":t=8;break;case"Delete":t=7;break;case"Enter":const n=this.elemText,r=n.resizer;if(this.isTextArea()&&(e.ctrlKey||e.metaKey)){const e=n.selectionEnd;n.value=`${n.value.substring(0,e)}\n${n.value.substring(e)}`,n.selectionEnd=e+1,r&&r.adjust&&r.adjust();break}e.shiftKey||this.getDisabled()||this.sendUpdateEvent(),this.processBlur(e)}return null==t||!(this.getDisabled()||t>127&&this.config.asciiCharSet)&&this.onKeyPress(e,t)}onKeyPress(e,t){return!0}processFocus(e){this.hasFocus=!0,this.editorState.hasChanges=!1,this.selectContent()}processBlur(e){this.hasFocus=this.editorState.hasChanges=!1}processInput(e){this.editorState.hasChanges=!0}processPaste(e){if(this.getDisabled())return!1;const t=e.clipboardData?e.clipboardData:r.PLATFORM.global.clipboardData;if(null!=t){const e=t.getData("Text");if(this.processPasteValue(e))return!1}return!0}processPasteValue(e){return!1}processLinkClick(){this.screenEventManager.publish(new d.ExecuteCommandEvent(this.config.linkCommand))}setTranslations(e){e&&(this.translations=e,this.translationService.sendRequestForLocale().then((e=>{var t;null===(t=this.translations)||void 0===t||t.forEach((t=>{const n=null==e?void 0:e.find((e=>-1!==e.id.indexOf(t.language)));n&&(t.languageCaption=`${n.text} (${t.language})`)}))})))}openDialog(e,t){var n;const r=null===(n=this.translations)||void 0===n?void 0:n.map((e=>Object.assign({},e)));this.dialogHelper.openDialog(Object.assign(Object.assign({},t),{templateId:e,context:this}),{},(e=>{this.currentDialog=e.controller,e.closeResult.finally((()=>{this.currentDialog=void 0}))})).whenClosed((()=>{var e;if(!r&&!this.translations)return;((null==r?void 0:r.length)!==(null===(e=this.translations)||void 0===e?void 0:e.length)||(null==r?void 0:r.reduce(((e,t,n)=>{var r;return e||(null===(r=this.translations)||void 0===r?void 0:r[n].valueString)!==t.valueString}),!1)))&&this.translationService.setTranslations(this.state,this.translations)}))}openLocaleWindow(){this.openDialog("pnlLocaleEditor",{hideMaximizer:!0,caption:this.Msg.Translations})}get textMode(){if(null==this.config)return"text";switch(this.config.type){case 2:return"password";case 3:return"color"}return"text"}get align(){if(null==this.config)return"";switch(this.config.textAlign){case 1:return"left";case 2:return"center";case 3:return"right";case 4:return"justify"}return""}};g.defaultConfig={allowNull:!0,enabled:!0,selectOnFocus:!0,spellcheck:!0,type:0,enableSmartSuggestion:!1},n.__decorate([r.bindable,n.__metadata("design:type",Object)],g.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],g.prototype,"value",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],g.prototype,"converter",void 0),n.__decorate([r.bindable,n.__metadata("design:type",HTMLInputElement)],g.prototype,"elemText",void 0),n.__decorate([(0,r.computedFrom)("config.hasEditLink","config.smartSuggestionMode","config.enabled","config.readOnly"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],g.prototype,"SuggestionMode",null),n.__decorate([(0,r.computedFrom)("config.type"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],g.prototype,"textMode",null),n.__decorate([(0,r.computedFrom)("config.textAlign"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],g.prototype,"align",null),g=h=n.__decorate([(0,r.customElement)("qp-text-editor"),r.autoinject,n.__metadata("design:paramtypes",[Element,a.Container])],g),t.QpTextEditorCustomElement=g}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/uploader/qp-multi-upload":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/controls/compound/system-menu/files-dialog-api-client.js"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpMultiUploadCustomElement=void 0;let d=class QpMultiUploadCustomElement{constructor(e){this.element=e}raiseEvent(e,t){this.element.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))}filesChanged(){if(!this.config)return;const e=Array.isArray(this.files)?this.files:this.files?[this.files]:[];if(0===e.length)return;const t=l.PLATFORM.global.px_cm,n=t&&(t.findDataSource()||(null==t?void 0:t.dataSource)),r=new FormData;e.forEach((e=>r.append("upload",e)));const o={fileNames:e.map((e=>e.name)),blobs:e};this.raiseEvent("fileloading",o),this.client.upload(r,this.config.graph,this.config.view,this.config.recordId,this.config.action,this.config.screenId).then((()=>{this.raiseEvent("fileloaded",o),n&&n.executeCommand("RepaintControls")}))}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"config",void 0),n.__decorate([r.observable,n.__metadata("design:type",Object)],d.prototype,"files",void 0),n.__decorate([o.autoinject,n.__metadata("design:type",a.FilesDialogApiClient)],d.prototype,"client",void 0),d=n.__decorate([o.autoinject,(0,r.customElement)("qp-multi-upload"),n.__metadata("design:paramtypes",[Element])],d),t.QpMultiUploadCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/simple/uploader/qp-uploader":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/controls/compound/system-menu/files-dialog-api-client.js"),n("./node_modules/client-controls/services/messages.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpUploaderCustomElement=void 0;let d=class QpUploaderCustomElement{constructor(e,t){this.element=t,this.Messages=l.Messages,this.dragDropHandler=e=>{var t,n,r,o,a;this.hideReceiver();const l=e;if(l.defaultPrevented)return;l.preventDefault();const d=[];let c;if(null===(t=l.dataTransfer)||void 0===t?void 0:t.items){for(c=0;c<l.dataTransfer.items.length;c++)if("file"===(null===(n=l.dataTransfer)||void 0===n?void 0:n.items[c].kind)){const e=l.dataTransfer.items[c].getAsFile();if(this.allowed(e)&&(d.push(e),null===(r=this.config)||void 0===r?void 0:r.singleMode))break}}else for(c=0;c<l.dataTransfer.files.length;c++){const e=null===(o=l.dataTransfer)||void 0===o?void 0:o.files[c];if(this.allowed(e)&&(d.push(e),null===(a=this.config)||void 0===a?void 0:a.singleMode))break}this.postFiles(d)},this.dragOverHandler=e=>{clearTimeout(this.hideTimer),this.hideTimer=void 0,e.defaultPrevented?this.hideReceiver():(e.preventDefault(),e.target&&this.showReceiver(e.target))},this.dragLeaveHandler=()=>{this.hideTimer=setTimeout((()=>this.hideReceiver()),16)},this.ready=new Promise(((e,t)=>this.setReady=e))}postFiles(e){var t;(null===(t=this.config)||void 0===t?void 0:t.singleMode)?this.value=e[0]:this.value=e}allowed(e){return(0,a.acceptFile)(e,this.acceptList)}configChanged(){var e,t;this.acceptList=(0,a.createAcceptList)(null===(e=this.config)||void 0===e?void 0:e.accept),this.ready.then((e=>{this.detachHandlers(),this.attachHandlers()})),this.fileInput&&((null===(t=this.config)||void 0===t?void 0:t.singleMode)?this.fileInput.removeAttribute("multiple"):this.fileInput.setAttribute("multiple","true"))}detachHandlers(){this.element.removeEventListener("drop",this.dragDropHandler),this.element.removeEventListener("dragleave",this.dragLeaveHandler),this.element.removeEventListener("dragover",this.dragOverHandler),this.target&&(this.target.removeEventListener("drop",this.dragDropHandler),this.target.removeEventListener("dragleave",this.dragLeaveHandler),this.target.removeEventListener("dragover",this.dragOverHandler))}attachHandlers(){var e,t;this.element.addEventListener("drop",this.dragDropHandler),this.element.addEventListener("dragleave",this.dragLeaveHandler),this.element.addEventListener("dragover",this.dragOverHandler),(null===(e=this.config)||void 0===e?void 0:e.dropTarget)&&(this.target=r.DOM.querySelector(null===(t=this.config)||void 0===t?void 0:t.dropTarget),this.target&&(this.target.addEventListener("drop",this.dragDropHandler),this.target.addEventListener("dragleave",this.dragLeaveHandler),this.target.addEventListener("dragover",this.dragOverHandler)))}attached(){this.setReady(),this.attachHandlers()}filesFromInput(){var e,t;const n=[],r=(null===(e=this.fileInput.files)||void 0===e?void 0:e.length)||0;for(let e=0;e<r&&(n.push(this.fileInput.files[e]),!(null===(t=this.config)||void 0===t?void 0:t.singleMode));e++);this.postFiles(n),this.fileInput.value=""}hideReceiver(){this.receiver&&(r.DOM.removeNode(this.receiver),this.receiver=void 0)}showReceiver(e){let t;t=this.target&&e.compareDocumentPosition(this.target)&Node.DOCUMENT_POSITION_CONTAINS?this.target:this.element;const{top:n,left:o,width:a,height:l}=t.getBoundingClientRect();if(!this.receiver){this.receiver=r.DOM.createElement("DIV");const e=this.receiver.style;e.position="fixed",e.top=`${n}px`,e.left=`${o}px`,e.width=`${a}px`,e.height=`${l}px`,e.pointerEvents="none",e.boxSizing="border-box",e.border="5px dashed var(--primary-color, gray)",e.backgroundColor="rgba(255,255,255,.5)",e.zIndex="var(--zindex-dropdown, 20000)",r.DOM.appendNode(this.receiver)}}detached(){this.detachHandlers()}get showInput(){var e,t;return!(null===(e=this.config)||void 0===e?void 0:e.disabled)&&!(null===(t=this.config)||void 0===t?void 0:t.disableClick)}get buttonStyles(){var e;return(null===(e=this.config)||void 0===e?void 0:e.disableClick)?"--uploader-button-pointer-events: all;":""}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],d.prototype,"value",void 0),n.__decorate([(0,r.computedFrom)("config","config.disabled","config.disableClick"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],d.prototype,"showInput",null),n.__decorate([(0,r.computedFrom)("config","config.disableClick"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],d.prototype,"buttonStyles",null),d=n.__decorate([o.autoinject,(0,r.customElement)("qp-uploader"),n.__metadata("design:paramtypes",[r.Container,Element])],d),t.QpUploaderCustomElement=d}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/utility/drop-down-frame/qp-drop-down-frame":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpDropDownFrameCustomElement=void 0;const a="qp-drop-down-frame";let l=class QpDropDownFrameCustomElement{constructor(e){this.element=e,this.controlClass=a,this.opened=!1,this.showOpener=!0,this.contentElementId=`drop-down-container-${o.Tools.newGuid()}`}attached(){o.Tools.defineProperties(this.element,{opened:{get:()=>this.opened,set:e=>this.opened=e},hideDropDown:{get:()=>this.hideDropDown.bind(this)},showDropDown:{get:()=>this.showDropDown.bind(this)}})}hideDropDown(){this.opened=!1}showDropDown(){this.opened=!0}attachHideTrigger(){var e,t,n;const o=[[null!==(e=this.element.ownerDocument)&&void 0!==e?e:r.PLATFORM.global.document,"mousedown",e=>{const t=e.target;if(t.nodeType!==Node.ELEMENT_NODE)return;if(this.element.contains(t))return;const n=this.element.ownerDocument.getElementById(this.contentElementId);(null==n?void 0:n.contains(t))||(this.opened=!1)}],[null!==(n=null===(t=this.element.ownerDocument)||void 0===t?void 0:t.defaultView)&&void 0!==n?n:r.PLATFORM.global,"blur",e=>this.opened=!1]];return o.forEach((([e,t,n])=>e.addEventListener(t,n,!0))),{dispose:()=>o.forEach((([e,t,n])=>e.removeEventListener(t,n,!0)))}}openedChanged(e,t){var n,r,o,a;const l={opened:e},d=new CustomEvent("dropdown"+(e?"opened":"closed"),{bubbles:!0,detail:l});null===(n=this.element)||void 0===n||n.dispatchEvent(d),l.prevent?this.opened=t:e?(this.element.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,cancelable:!0})),null===(r=this.control.ownerDocument.defaultView)||void 0===r||r.focus(),this.control.focus(),this.hideTrigger=null!==(o=this.hideTrigger)&&void 0!==o?o:this.attachHideTrigger()):(null===(a=this.hideTrigger)||void 0===a||a.dispose(),this.hideTrigger=void 0)}stopPropagation(e){e.stopPropagation()}toggleDropDown(e){this.opened=!this.opened,e.stopImmediatePropagation()}};n.__decorate([r.bindable,n.__metadata("design:type",String)],l.prototype,"controlClass",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],l.prototype,"opened",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],l.prototype,"showOpener",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],l.prototype,"openerIcon",void 0),l=n.__decorate([r.autoinject,(0,r.customElement)(a),n.__metadata("design:paramtypes",[Element])],l),t.QpDropDownFrameCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/controls/utility/index.js":(e,t,n)=>{var r,o;r=[n,t,n("client-controls/controls/utility/suggester/elements/qp-suggester"),n("client-controls/controls/utility/suggester/qp-editor-wrapper"),n("client-controls/controls/utility/tooltip/qp-extention-cord"),n("client-controls/controls/utility/tooltip/qp-tooltip"),n("client-controls/controls/utility/wait-cursor/qp-wait-cursor"),n("client-controls/controls/utility/layout/qp-layout"),n("client-controls/controls/utility/drop-down-frame/qp-drop-down-frame")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpDropDownFrameCustomElement=t.QpLayoutCustomElement=t.QpWaitCursorCustomElement=t.QpTooltipCustomElement=t.QpExtentionCordCustomAttribute=t.QpEditorWrapperCustomElement=t.QpSuggesterCustomElement=void 0,Object.defineProperty(t,"QpSuggesterCustomElement",{enumerable:!0,get:function(){return n.QpSuggesterCustomElement}}),Object.defineProperty(t,"QpEditorWrapperCustomElement",{enumerable:!0,get:function(){return r.QpEditorWrapperCustomElement}}),Object.defineProperty(t,"QpExtentionCordCustomAttribute",{enumerable:!0,get:function(){return o.QpExtentionCordCustomAttribute}}),Object.defineProperty(t,"QpTooltipCustomElement",{enumerable:!0,get:function(){return a.QpTooltipCustomElement}}),Object.defineProperty(t,"QpWaitCursorCustomElement",{enumerable:!0,get:function(){return l.QpWaitCursorCustomElement}}),Object.defineProperty(t,"QpLayoutCustomElement",{enumerable:!0,get:function(){return d.QpLayoutCustomElement}}),Object.defineProperty(t,"QpDropDownFrameCustomElement",{enumerable:!0,get:function(){return c.QpDropDownFrameCustomElement}})}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/utility/layout/qp-layout":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/controls/compound/rich-text-editor/common/tools.js")],o=function(e,t,n,r,o){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.roundWithPrecision=t.QpLayoutCustomElement=void 0,function(e){e[e.Unavailable=0]="Unavailable",e[e.Hidden=-1]="Hidden",e[e.Visible=1]="Visible"}(a||(a={}));let l=class QpLayoutCustomElement{constructor(e,t){this.element=e,this.tq=t,this.layout="flex",this.hideBehavior="hide",this.ellipsisBehavior="last-visible",this.ellipsisState=a.Unavailable,this.ellipsisStateClass="",this.updateQueued=!1,this.updating=!1,this.dashboardId=`layout-dashboard-${o.Tools.newGuid()}`}bind(){}attached(){o.Tools.defineProperties(this.element,{opened:{get:()=>{var e;return null===(e=this.ellipsis)||void 0===e?void 0:e.opened},set:e=>!!this.ellipsis&&(this.ellipsis.opened=e)},hideDropDown:{get:()=>{var e,t;return null===(t=null===(e=this.ellipsis)||void 0===e?void 0:e.hideDropDown)||void 0===t?void 0:t.bind(this.ellipsis)}},showDropDown:{get:()=>{var e,t;return null===(t=null===(e=this.ellipsis)||void 0===e?void 0:e.showDropDown)||void 0===t?void 0:t.bind(this.ellipsis)}}}),this.updateConfig()}detached(){this.disconnectObservers()}disconnectObservers(){var e,t;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.resizeObserver=void 0,null===(t=this.mutationObserver)||void 0===t||t.disconnect(),this.mutationObserver=void 0}updateConfig(){if("bar"===this.layout&&"ellipsis"===this.hideBehavior?this.ellipsisState===a.Unavailable&&(this.ellipsisState=a.Hidden):this.ellipsisState=a.Unavailable,!this.resizeObserver&&r.PLATFORM.global.ResizeObserver&&(this.resizeObserver=new r.PLATFORM.global.ResizeObserver((e=>{e&&e.length&&this.queueUpdateLayout()})),this.resizeObserver.observe(this.host)),!this.mutationObserver&&r.PLATFORM.global.MutationObserver){const getLayoutItem=e=>{if(e!==this.host)for(;;){if(e.nodeType===Node.ELEMENT_NODE&&existingElement(e))return e;const t=e.parentNode;if(!t)return;if(t===this.host)return e.nodeType===Node.ELEMENT_NODE?e:void 0;e=t}},newElement=e=>e.nodeType===Node.ELEMENT_NODE&&e!==this.ellipsis&&!e.suspended&&!e.observed,existingElement=e=>e.nodeType===Node.ELEMENT_NODE&&e!==this.ellipsis&&!e.suspended&&!!e.observed;this.mutationObserver=new r.PLATFORM.global.MutationObserver((e=>{if(!e||!e.length)return;const t=Array.from(new Set(e.flatMap((e=>{var t,n;return[...e.target!==this.host?[e.target]:[],...Array.from(null!==(t=e.addedNodes)&&void 0!==t?t:[]),...Array.from(null!==(n=e.removedNodes)&&void 0!==n?n:[])]})).map((e=>getLayoutItem(e))).filter((e=>!!e)))),n=t.filter((e=>newElement(e))),r=t.filter((e=>existingElement(e)));r.forEach((e=>e.needUpdate=!0)),(n.length>0||r.length>0)&&this.queueUpdateLayout()})),this.mutationObserver.observe(this.host,{subtree:!0,characterData:!0,childList:!0})}}updateStyles(){var e;let t="";const n=[],addState=e=>n.push(e);if(this.ellipsisState===a.Hidden)addState("hidden");else if(this.ellipsisState===a.Visible){addState("visible");const n=null===(e=this.host)||void 0===e?void 0:e.getBoundingClientRect();t+=n?`--layout-bar-min-height: ${Math.round(n.height)}px;`:"",void 0!==this.minCount&&void 0!==this.minWidth&&(t+=`--layout-bar-min-width: ${Math.round(this.minWidth)}px;`),void 0!==this.hiddenPart&&(t+=`--layout-hidden-item-transparency: ${this.hiddenPart}%;`),void 0!==this.ellipsisOffset?(addState("left"),t+=`--layout-ellipsis-offset: ${Math.round(this.ellipsisOffset)}px;`):(addState("right"),t+="--layout-ellipsis-offset: 0px;")}else addState("none");this.ellipsisStateClass=n.map((e=>`qp-layout-ellipsis-${e}`)).join(" "),this.inlineCss=t}queueUpdateLayout(){this.updateQueued||(this.updateQueued=!0,this.tq.queueTask((()=>this.updateLayout())))}updateLayout(){var e,t;if(!this.updating){this.updating=!0;try{const n=this.host;if(this.ellipsisState!==a.Unavailable&&(this.ellipsisState=n.scrollWidth>n.clientWidth?a.Visible:a.Hidden),"hide"!==this.hideBehavior&&"ellipsis"!==this.hideBehavior)return;const r=n.getBoundingClientRect(),o=2,l=roundWithPrecision(this.ellipsisState===a.Visible?r.right-r.height:r.right,o);let d,c,u=r.height;const p=this.element.ownerDocument.getElementById(this.dashboardId),h=[],g=p?e=>h.push(e):e=>{},createOpposite=e=>{const t=e.cloneNode(!0);return t.suspended=!0,t.opposite=e,t.classList.add("qp-layout-hidden-item"),e.opposite=t},swap=(e,t)=>{n.insertBefore(t,e),n.removeChild(e)},m="border"===this.ellipsisBehavior?(e,t)=>{const n=t.left<l;d=n?t.width>0?Math.round(100*(t.right-l)/t.width):100:d;(e.suspended?e:e.opposite).classList.toggle("partial",n)}:(e,t)=>{c=void 0===c?t.left:Math.min(t.left,c)},f=Math.max(0,Math.round(null!==(e=this.minCount)&&void 0!==e?e:0)),v=Array.from(n.childNodes).filter((e=>e.nodeType===Node.ELEMENT_NODE&&e!==this.ellipsis)).reverse();if(v.forEach(((e,t)=>{var n;const r=v.length-1-t;e.suspended||e.observed||(e.observed=!0,null===(n=this.resizeObserver)||void 0===n||n.observe(e));let a=e.getBoundingClientRect();if(e.suspended){if(!!e.opposite.needUpdate||(()=>{const t=e.opposite.getBoundingClientRect();return a.width!==t.width})()){const t=createOpposite(e.opposite);swap(e,t),a=(e=t).getBoundingClientRect(),e.opposite.needUpdate=!1}}else e.needUpdate=!1;if(u+=r>=f?0:a.width,r>=f&&roundWithPrecision(a.right,o)>l)try{if(e.suspended)return void g(e.opposite);e.opposite||createOpposite(e),g(e)}finally{m(e,a)}else if(!e.suspended)return;swap(e,e.opposite)})),p){const e=h.reverse();if(e.length>0){const t=Array.from(p.childNodes).filter((e=>e.nodeType===Node.ELEMENT_NODE));t.filter((t=>-1===e.indexOf(t))).forEach((e=>{e.remove(),t.splice(t.indexOf(e),1)}));for(let n=0,r=0;n<e.length;n++)e[n]!==t[r]?p.insertBefore(e[n],t[r]):r++}else null===(t=this.ellipsis)||void 0===t||t.hideDropDown(),p.replaceChildren()}this.minWidth=u,this.hiddenPart=d,this.ellipsisOffset=void 0===c?void 0:c-r.left,void 0!==c&&this.ellipsisState!==a.Unavailable&&(this.ellipsisState=a.Visible)}finally{this.updating=!1,this.updateQueued=!1,this.updateStyles()}}}};function roundWithPrecision(e,t){const n=Math.pow(10,Math.max(0,t));return Math.round(e*n)/n}n.__decorate([(0,r.bindable)({changeHandler:"updateConfig"}),n.__metadata("design:type",String)],l.prototype,"layout",void 0),n.__decorate([(0,r.bindable)({changeHandler:"updateConfig"}),n.__metadata("design:type",String)],l.prototype,"hideBehavior",void 0),n.__decorate([(0,r.bindable)({changeHandler:"updateConfig"}),n.__metadata("design:type",Number)],l.prototype,"minCount",void 0),n.__decorate([(0,r.bindable)({changeHandler:"updateConfig"}),n.__metadata("design:type",String)],l.prototype,"ellipsisBehavior",void 0),l=n.__decorate([r.autoinject,(0,r.customElement)("qp-layout"),n.__metadata("design:paramtypes",[Element,r.TaskQueue])],l),t.QpLayoutCustomElement=l,t.roundWithPrecision=roundWithPrecision}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/utility/options/qp-options":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpOptionsCustomElement=void 0;const a=(0,o.getLogger)("qp-options");let l=class QpOptionsCustomElement{constructor(e){this.element=e,this.value=[],this.prepareHighlightIdx=void 0,this.highlightedIndex=void 0}attached(){if(null!=this.optionsFor&&(this.optionsPane.style.minWidth=this.optionsFor.clientWidth+"px"),!this.config.allowMultiSelect&&this.value.length>0){const e=this.config.options.findIndex((e=>this.value[0]<=e.value));e>=0&&(this.highlightedIndex=e),null==this.highlightedIndex&&(this.highlightedIndex=0),"scrollBehavior"in document.documentElement.style?this.optionsPane.children[this.highlightedIndex].scrollIntoView({block:"start"}):this.optionsPane.children[this.highlightedIndex].scrollIntoView(!1)}}commitSelection(){let e;this.config.allowMultiSelect?e=this.value:this.value.length>0&&(e=this.value[0]);const t=new CustomEvent("valuechanged",{bubbles:!0,detail:{value:e}});this.element.dispatchEvent(t)}enterHighlight(e){this.prepareHighlightIdx=e}commitHighlight(e){this.prepareHighlightIdx===e&&(this.highlight(e),this.prepareHighlightIdx=void 0)}highlight(e){this.highlightedIndex=e}ignoreClicks(e){e.preventDefault(),e.stopImmediatePropagation()}hide(){a.info("Hide")}select(e,t){!1!==e.value.enabled&&(this.appendValue(e.value),this.config.allowMultiSelect||this.hide(),this.commitSelection())}appendValue(e){if(this.config.allowMultiSelect){const t=this.value.indexOf(e);-1===t?this.value.push(e):this.value.splice(t,1)}else this.value=[e]}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"config",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Array)],l.prototype,"value",void 0),n.__decorate([r.bindable,n.__metadata("design:type",HTMLElement)],l.prototype,"optionsFor",void 0),l=n.__decorate([r.autoinject,(0,r.customElement)("qp-options"),n.__metadata("design:paramtypes",[Element])],l),t.QpOptionsCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/utility/suggester/elements/qp-suggester":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/localization.js"),n("aurelia-event-aggregator"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/services/suggestings-service.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js")],o=function(e,t,n,r,o,a,l,d,c,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpSuggesterCustomElement=void 0;const h=(0,l.getLogger)("qp-suggester"),g=navigator.userAgent.toLowerCase(),m=-1!==g.indexOf("safari")&&g.indexOf("chrome")<0;let f=class QpSuggesterCustomElement{constructor(e,t,n,o){this.eventManager=e,this.suggestingServiceFabric=t,this.eventAggregator=n,this.taskQueue=o,this.debounceState={delay:336,timeoutId:void 0},this.eventSubscriptions=[],this.forceOpen=!1,this.maxHeight=336,this.suggesting=!1,this.serializedArgs="",this.suggesterVerticalPaddings="8px",this.suggestionLineHeight="32px",this.msg=u.Messages,this.localizedStrings=r.LOCALIZED_STRINGS}attached(){this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"input",(e=>this.handleEditorInput(e)),a.delegationStrategy.capturing,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"keydown",(e=>this.handleEditorKeyDown(e)),a.delegationStrategy.capturing,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"blur",(e=>this.handleEditorBlur(e)),a.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"focus",(e=>this.handleEditorFocus(e)),a.delegationStrategy.capturing,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"click",(e=>this.handleEditorClick(e)),a.delegationStrategy.capturing,!0)),document.activeElement===this.editor&&(this.focused=!0);const{width:e}=this.rectElement.getBoundingClientRect();this.minWidth=e}configChanged(){this.config.suggestAfter=this.config.suggestAfter||2,this.ensureFieldsToRequest()}ensureFieldsToRequest(){var e,t;this.fieldsToRequest=null!==(t=null===(e=this.config.fields)||void 0===e?void 0:e.filter((e=>e.id&&e.filter)))&&void 0!==t?t:[]}suggestingChanged(e){if(e)this.taskQueue.queueTask((()=>{this.suggestionsContainer&&(!this.originalParent&&this.suggestionsContainer.parentElement&&(this.originalParent=this.suggestionsContainer.parentElement),p.DOM.appendNode(this.suggestionsContainer),this.eventAggregator.publish(`repositioned:${this.rectElement.id}`))}));else{if(!this.suggestionsContainer)return;p.DOM.appendNode(this.suggestionsContainer,this.originalParent)}}forceOpenChanged(e,t){this.focused=!0,e?this.suggesting||this.taskQueue.queueTask((()=>{this.MoveHighligt(1)})):this.suggesting&&this.hideSuggestions()}changeHighLight(e){this.preventHoverHighlight||(this.scrollSuggestionIntoView(e),this.taskQueue.flushTaskQueue(),this.highlightedSugestionIndex=e)}debounceHoverHighlight(){this.preventHoverHighlight=!0,clearTimeout(this.preventHoverHighlightTimeout),this.preventHoverHighlightTimeout=setTimeout((()=>{this.preventHoverHighlight=!1}),32)}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}detached(){this.unsubscribeFromMouseDownOnDocument(),this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],this.loading=void 0}ensureSuggesterService(){let e,t=void 0===this.suggestingsService||this.config.inlineArgs,n=this.config.inlineArgs;if(this.config.dependsOn&&this.config.dependsOn.length)try{e=this.config.dependsOn.map((e=>{var t;const n=e.id,r=__px_all(this.editor)[e.controlID],{width:o,height:a}=null===(t=null==r?void 0:r.element)||void 0===t?void 0:t.getBoundingClientRect();let l;if(o>0&&a>0)l=r.getValue();else if(e.controlID.indexOf("_lv0_")>0){const[t,n]=e.controlID.split("_lv0_");let r=this.editor;for(;r&&r.id!==t;)r=r.parentElement;if(null==r?void 0:r.object){const e=r.object,t=e.levels[0].columns.find((e=>e.formEditorID===n)).index;l=e.activeRow.cells[t].getValue()}}else(null==r?void 0:r.getValue)&&r.getValue()&&(l=r.getValue());return l instanceof Object&&l.id&&(l=l.id),{id:n,value:l}}));const n=JSON.stringify(e);this.serializedArgs!==n&&(t=!0,this.serializedArgs=n)}catch(e){n=!0}t&&(this.ensureFieldsToRequest(),this.suggestingsService=this.suggestingServiceFabric.getSuggestingService({args:e,descriptionName:this.config.descriptionName,fields:this.fieldsToRequest,graph:this.config.graph,graphStateId:this.config.graphStateId,inlineArgs:n,pageSize:7,serverFiltering:!!this.config.serverFiltering,valueField:this.config.valueField,viewName:this.config.viewName,dataField:this.config.dataField}))}handleEditorBlur(e){var t;if(clearTimeout(this.debounceState.timeoutId),this.focused=!1,this.suggestingsService&&this.suggestingsService.abortRequest(),null===(t=this.config)||void 0===t?void 0:t.suggestOnBlur){const e=this.editor.value;e.length>=1&&(this.ensureSuggesterService(),this.suggestingsService.getSuggestions(e).then((e=>{var t,n;this.suggesting=!0,this.suggestions=e,(null===(n=null===(t=this.suggestions)||void 0===t?void 0:t.suggestionItems)||void 0===n?void 0:n.length)?this.select(0):this.setEditorValue({display:void 0,useUpdateValue:!1,value:""}),this.suggesting=!1})))}return this.hideSuggestions(),!0}handleEditorClick(e){return e.altKey&&!e.ctrlKey&&(e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(1)),document.activeElement===this.editor&&(this.focused=!0),!0}handleEditorFocus(e){return this.focused=!0,!0}handleEditorInput(e){this.loading=!0;const t=this.editor.value;(t.length>=this.config.suggestAfter||this.suggesting)&&(clearTimeout(this.debounceState.timeoutId),this.debounceState.timeoutId=setTimeout((()=>{this.ensureSuggesterService(),this.suggestingsService.getSuggestions(t).then((e=>{this.suggestions=e,this.showSuggestions(),this.loading=!1,this.scrollSuggestionIntoView(0)})).catch((e=>{if(this.loading=!1,"AbortError"!==e.name)throw e;h.info("suggestions request aborted by user input")}))}),this.debounceState.delay))}isEditorEnabled(){const e=this.editor;return!(e.hasAttribute("readonly")||e.hasAttribute("disabled"))}handleEditorKeyDown(e){if(this.isEditorEnabled())switch(e.key){case"Esc":case"Escape":this.suggesting&&(this.hideSuggestions(),e.preventDefault(),e.stopImmediatePropagation());break;case"Enter":return this.suggesting&&!this.loading&&this.select(this.highlightedSugestionIndex,e),!0;case"Tab":this.suggesting&&(this.hideSuggestions(),e.preventDefault());break;case"Up":case"ArrowUp":!!this.suggesting!==e.altKey&&(this.debounceHoverHighlight(),e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(-1));break;case"Down":case"ArrowDown":!!this.suggesting!==e.altKey&&(this.debounceHoverHighlight(),e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(1));break;case"PageDown":this.debounceHoverHighlight(),e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(10);break;case"PageUp":this.debounceHoverHighlight(),e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(-10);break;default:return!0}}handleScroll(e){this.debounceHoverHighlight();const t=e.target;this.suggestions&&!this.suggestions.loading&&this.suggestions.haveMore&&this.suggestions.loadMore&&t.scrollTop+t.clientHeight+320+16>t.scrollHeight&&this.suggestions.loadMore()}hideSuggestions(){this.suggesting&&(this.unsubscribeFromMouseDownOnDocument(),this.suggesting=!1,this.suggestions=void 0,this.forceOpen&&(this.forceOpen=!1))}ignoreClicks(e){e.preventDefault(),e.stopImmediatePropagation()}MoveHighligt(e){return n.__awaiter(this,void 0,void 0,(function*(){if(!this.suggesting)return this.suggestions||(this.loading=!0,this.ensureSuggesterService(),yield this.suggestingsService.getSuggestions("").then((e=>{this.suggestions=e,this.loading=!1})).catch((e=>{if("AbortError"!==e.name)throw e;h.info("suggestions request aborted by user input")}))),void this.showSuggestions();let t=this.highlightedSugestionIndex+e;t<0&&(t=0),t>this.suggestions.suggestionItems.length-1&&(t=this.suggestions.suggestionItems.length-1),this.scrollSuggestionIntoView(t),this.taskQueue.flushTaskQueue(),this.highlightedSugestionIndex=t}))}scrollSuggestionIntoView(e){var t;let n;n="nearest",e===this.suggestions.suggestionItems.length-1&&(n="start");const r=null===(t=this.suggestionsContainer)||void 0===t?void 0:t.querySelectorAll("qp-suggestion")[e];if(r){const e="scrollBehavior"in document.documentElement.style||m?{block:n}:void 0;r.scrollIntoView(e)}}select(e,t=void 0){const n=this.suggestions.suggestionItems[e];n&&this.setEditorValue({display:n.display,useUpdateValue:!!t,value:n.value}),t&&(t.preventDefault(),t.stopImmediatePropagation()),this.hideSuggestions()}showSuggestions(){this.focused&&(this.suggesting||(this.suggesterWidth=void 0,this.documentMouseDownSubscription=this.eventAggregator.subscribe(c.MOUSE_DOWN_REACHED_BODY,(()=>this.handleEditorBlur())),this.suggesting=!0,this.taskQueue.queueTask((()=>{if(this.suggestionsContainer){const e=this.suggestionsContainer.getBoundingClientRect().width;this.suggesterWidth=e}}))),this.highlightedSugestionIndex=0)}};n.__decorate([a.bindable,n.__metadata("design:type",Object)],f.prototype,"config",void 0),n.__decorate([a.bindable,n.__metadata("design:type",HTMLElement)],f.prototype,"editor",void 0),n.__decorate([a.bindable,n.__metadata("design:type",HTMLElement)],f.prototype,"rectElement",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Function)],f.prototype,"setEditorValue",void 0),n.__decorate([a.bindable,n.__metadata("design:type",Boolean)],f.prototype,"forceOpen",void 0),n.__decorate([a.observable,n.__metadata("design:type",Boolean)],f.prototype,"suggesting",void 0),f=n.__decorate([a.autoinject,n.__metadata("design:paramtypes",[a.EventManager,d.SuggestingsServiceFabric,o.EventAggregator,a.TaskQueue])],f),t.QpSuggesterCustomElement=f}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/utility/suggester/qp-editor-wrapper":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpEditorWrapperCustomElement=void 0;const a=(0,o.getLogger)("qp-editor-wrapper");let l=class QpEditorWrapperCustomElement{constructor(e,t){this.element=e,this.tq=t}attached(){if(this.editor=this.element.querySelector(".editor"),this.editor&&(this.editor.setAttribute("autocomplete","off"),this.editor.setAttribute("autocorrect","off")),this.selector=this.element.querySelector(".selector"),this.rectElement=this.selector||this.editor,this.selector)if(this.selector.object){const e=this.selector.object;e.autoComplete=0,e.qpSuggester=!0}else a.error("no object",this.selector);else a.warn("no selector",this.element)}setEditorValue(e,t,n){var r;if(this.selector&&this.selector.object){const n=this.selector.object;if(null!=this.editor){const o=this.editor.value.trim();""!==o&&o===e||n.setValue("","");const a=n.hasHint?`${e} - ${t}`:t;null===(r=this.editor)||void 0===r||r.setAttribute("unblock","1"),n.updateValue(e,a),this.tq.queueTask((()=>{var e;return null===(e=this.editor)||void 0===e?void 0:e.removeAttribute("unblock")}))}else a.warn("no px object");n.fireEvent(15,null,{select:!0,complete:!0})}}};n.__decorate([r.bindable,n.__metadata("design:type",Object)],l.prototype,"config",void 0),l=n.__decorate([r.autoinject,(0,r.customElement)("qp-editor-wrapper"),n.__metadata("design:paramtypes",[Element,r.TaskQueue])],l),t.QpEditorWrapperCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/utility/tooltip/qp-extention-cord":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/hover-activator-service/hover-activator-service.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpExtentionCordCustomAttribute=void 0;let a=class QpExtentionCordCustomAttribute{constructor(e,t,n){this.element=e,this.hoverService=t,this.tq=n,this.hoverSubscriptionOptions={activateAfter:100,onActivate:()=>this.show(),onDeactivate:()=>this.hide()}}attached(){this.subscribeTo(this.element)}detached(){var e;null===(e=this.subscription)||void 0===e||e.dispose(),this.subscription=void 0,this.hide()}subscribeTo(e){var t;null===(t=this.subscription)||void 0===t||t.dispose(),this.subscription=void 0,this.subscription=this.hoverService.subscribeTo(e,this.hoverSubscriptionOptions)}forceShowChanged(e,t){e?this.tq.queueTask((()=>{this.hoverService.selfActivate(this.element,this.hoverSubscriptionOptions)})):t&&this.tq.queueTask((()=>{this.hoverService.selfHide(this.element,this.hoverSubscriptionOptions)}))}show(){this.clone&&this.hide();const e=this.clone=this.element.cloneNode(!0);e.classList.add("extention-cord"),e.style.position="fixed";const t=this.element.getBoundingClientRect();document.body.appendChild(e);e.getBoundingClientRect().width<t.width?this.hide():(e.style.pointerEvents="none",e.style.top=t.top+"px",e.style.height=t.height+"px",e.style.left=t.left+"px")}hide(){this.clone&&document.body.removeChild(this.clone),this.clone=void 0}};n.__decorate([(0,r.bindable)({primaryProperty:!0}),n.__metadata("design:type",Boolean)],a.prototype,"forceShow",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],a.prototype,"manualShowOnly",void 0),a=n.__decorate([(0,r.customAttribute)("extention-cord"),r.autoinject,n.__metadata("design:paramtypes",[Element,o.HoverActivatorService,r.TaskQueue])],a),t.QpExtentionCordCustomAttribute=a}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/utility/tooltip/qp-tooltip":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/services/hover-activator-service/hover-activator-service.js"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js")],o=function(e,t,n,r,o,a,l){"use strict";var d;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTooltipCustomElement=t.TooltipErrorLevel=void 0,function(e){e[e.Undefined=0]="Undefined",e[e.RowInfo=1]="RowInfo",e[e.Warning=2]="Warning",e[e.RowWarning=3]="RowWarning",e[e.Error=4]="Error",e[e.RowError=5]="RowError"}(d=t.TooltipErrorLevel||(t.TooltipErrorLevel={}));let c=class QpTooltipCustomElement{constructor(e,t,n,r){this.hoverService=e,this.ea=t,this.tq=n,this.element=r,this.visible=!0,this.centerToTarget=!1}targetChanged(e){this.subscribeTo(e)}updateSubscription(){var e;this.subscription&&(null===(e=this.subscription)||void 0===e||e.dispose(),this.subscription=void 0,this.subscriptionOptions={activatedElements:[this.contentElement],cssRule:this.rule,excludeCssRule:this.exclude,onActivate:e=>this.show(e),onDeactivate:()=>this.hide()},this.subscription=this.hoverService.subscribeTo(this.target,this.subscriptionOptions))}ruleChanged(){this.updateSubscription()}excludeChanged(){this.updateSubscription()}attached(){this.contentElement.parentElement&&(this.originalParent=this.contentElement.parentElement),this.target||(this.target=this.element.parentElement),this.subscriptionOptions={activatedElements:[this.contentElement],cssRule:this.rule,excludeCssRule:this.exclude,onActivate:e=>this.show(e),onDeactivate:()=>this.hide()},this.subscribeTo(this.target),this.hoverService.selfHide(this.target,this.subscriptionOptions)}detached(){var e;this.hide(),null===(e=this.subscription)||void 0===e||e.dispose(),this.subscription=void 0}subscribeTo(e){var t;null===(t=this.subscription)||void 0===t||t.dispose(),this.subscription=void 0,this.subscription=this.hoverService.subscribeTo(e,this.subscriptionOptions)}errorCssClass(e){switch(e){case d.Error:case d.RowError:return"error";case d.Warning:case d.RowWarning:return"warning";case d.RowInfo:return"info"}}show(e){var t,n,r;this.showMe||this.visible&&(this.onShow?this.onShow({opts:e}):(this.tooltip=null===(t=e.target.dataset)||void 0===t?void 0:t.tooltip,this.tooltip&&(null===(n=e.target.dataset)||void 0===n?void 0:n.errorLevel)?this.errorLevel=parseInt(null===(r=e.target.dataset)||void 0===r?void 0:r.errorLevel):this.errorLevel=void 0),this.showArgs=e,this.showMe=!0,this.rule?this.glueTarget=e.target:this.glueTarget=this.target||this.element.parentElement,l.DOM.appendNode(this.contentElement))}afterGlued(e){if(!this.showMe||!this.glueTarget)return;const t=this.contentElement.getBoundingClientRect();if(this.showArgs&&t.width>40){let e;const n=this.glueTarget.getBoundingClientRect();if(this.showArgs.target&&n.width>40){e=this.showArgs.target.getBoundingClientRect().left+this.showArgs.relativeX}else e=(n.right+n.left)/2;e-=t.left,e=Math.min(Math.max(e,20),t.width-20),this.pointerAdjustX=`${e}px`}else this.pointerAdjustX="unset"}get showMe(){return!!this.contentElement&&"none"!==this.contentElement.style.display}set showMe(e){this.contentElement&&(this.contentElement.style.display=e?"inline-block":"none")}hide(){this.showMe=!1,this.glueTarget=void 0,this.pointerAdjustX="unset",this.showArgs=void 0,this.contentElement&&l.DOM.appendNode(this.contentElement,this.originalParent)}stopPropagation(e){e.stopImmediatePropagation()}};n.__decorate([r.bindable,n.__metadata("design:type",HTMLElement)],c.prototype,"target",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],c.prototype,"rule",void 0),n.__decorate([r.bindable,n.__metadata("design:type",String)],c.prototype,"exclude",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Function)],c.prototype,"onShow",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],c.prototype,"visible",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Boolean)],c.prototype,"centerToTarget",void 0),c=n.__decorate([(0,r.customElement)("qp-tooltip"),r.autoinject,n.__metadata("design:paramtypes",[a.HoverActivatorService,o.EventAggregator,r.TaskQueue,Element])],c),t.QpTooltipCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/controls/utility/wait-cursor/qp-wait-cursor":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-event-aggregator"),n("aurelia-framework"),n("./node_modules/client-controls/services/index.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpWaitCursorCustomElement=void 0;let l=class QpWaitCursorCustomElement{constructor(e,t){this.eventAggregator=e,this.eventManager=t,this.callbackRunning=!1,this.blockPage=!1,this.subscribers=[],this.cancelHandler=this.cancelKeysHandler.bind(this)}cancelKeysHandler(e){if(this.callbackRunning){null==e.target.getAttribute("unblock")&&(e.stopImmediatePropagation(),e.preventDefault())}}get documentElement(){return o.PLATFORM.global.document.documentElement}attached(){this.subscribers.push(this.eventAggregator.subscribe(a.HttpFetchRunningEvent,(e=>{this.callbackRunning=e.callbackRunning,this.blockPage=e.blockPage})));const e=this.documentElement;e.addEventListener("keydown",this.cancelHandler,!0),e.addEventListener("keypress",this.cancelHandler,!0)}detached(){this.subscribers.forEach((e=>e.dispose())),this.subscribers.splice(0,this.subscribers.length);const e=this.documentElement;e.removeEventListener("keydown",this.cancelHandler),e.removeEventListener("keypress",this.cancelHandler)}};l=n.__decorate([(0,o.customElement)("qp-wait-cursor"),o.autoinject,n.__metadata("design:paramtypes",[r.EventAggregator,o.EventManager])],l),t.QpWaitCursorCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/dependency-property-injection/decorators.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/aurelia-metadata/dist/native-modules/aurelia-metadata.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/dependency-property-injection/resolvers.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.factory=t.optional=t.lazy=t.parent=t.inject=t.autoinject=t.emptyParameters=void 0,t.emptyParameters=Object.freeze([]);const a="design:type";function injectFn(e,t,n,...r){if(t)if(n&&n.configurable)n.value.inject=r;else{let o=e.constructor.injectProperties;o||(e.constructor.injectProperties=o=Object.create(null)),o[t]=r[0],n&&(n.writable=!0)}else e.inject=r}t.autoinject=function autoinject(e,r){const deco=function(e,r,o){r?o||(e.constructor.injectProperties||(e.constructor.injectProperties=Object.create(null)),e.constructor.injectProperties[r]=n.metadata.getOwn(a,e,r)):e.inject=n.metadata.getOwn(n.metadata.paramTypes,e,r)||t.emptyParameters};return e?deco(e,r):deco},t.inject=function inject(...e){return function(t,n,r){injectFn(t,n,r,...e)}},t.parent=function parent(e){return function(t,o,l){e||(e=n.metadata.get(a,t,o)),injectFn(t,o,l,r.Parent.of(e))}},t.lazy=function lazy(e){return function(t,n,o){injectFn(t,n,o,r.Lazy.of(e))}},t.optional=function optional(e,o=!0){return function(l,d,c){e||(e=n.metadata.get(a,l,d));const u=r.Optional.of(e,o);if("number"==typeof c){let e=l.inject;e||(e=n.metadata.getOwn(n.metadata.paramTypes,l,d)||t.emptyParameters),e[c]=u,l.inject=e}else injectFn(l,d,c,u)}},t.factory=function factory(e){return function(t,n,o){injectFn(t,n,o,r.Factory.of(e))}},t.newInstance=function newInstance(e,...t){return function(n,r,a){injectFn(n,r,a,o.DynamicNewInstance.of(e,...t))}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/dependency-property-injection/index.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/dependency-property-injection/decorators.js"),n("./node_modules/client-controls/dependency-property-injection/resolvers.js"),n("./node_modules/client-controls/dependency-property-injection/invocation-handler.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(r,t),n.__exportStar(o,t),n.__exportStar(a,t)}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/dependency-property-injection/invocation-handler.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyConstructorInvocationHandler=t.PropertyInvocationHandler=void 0;class PropertyInvocationHandler extends n.InvocationHandler{invoke(e,t){const n=super.invoke(e,t);return this.injectProperties(e,n)}injectProperties(e,t){const n=this.fn.injectProperties;for(const r in n)t[r]=e.get(n[r]);return t.afterConstructor&&t.afterConstructor.call(t),t}}t.PropertyInvocationHandler=PropertyInvocationHandler;class PropertyConstructorInvocationHandler extends n.InvocationHandler{invoke(e,t){const n=this.fn.injectProperties,r=Object.create(null);for(const t in n)r[t]={configurable:!0,enumerable:!0,writable:!0,value:e.get(n[t])};Object.create(this.fn.prototype||null,r);let o=this.dependencies.length,a=new Array(o);for(;o--;)a[o]=e.get(this.dependencies[o]);return t&&(a=a.concat(t)),void 0!==t?this.invoker.invokeWithDynamicDependencies(e,this.fn,this.dependencies,t):this.invoker.invoke(e,this.fn,this.dependencies)}}t.PropertyConstructorInvocationHandler=PropertyConstructorInvocationHandler}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/dependency-property-injection/resolvers.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js")],o=function(e,t,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicNewInstanceResolver=t.DynamicNewInstance=void 0;let a=o=class DynamicNewInstance extends r.NewInstance{constructor(e,...t){super(e),this.dynamicDependencies=t}get(e){let t=this.dynamicDependencies.length>0?this.dynamicDependencies.map((t=>t["protocol:aurelia:resolver"]?t.get(e):e.invoke(t))):void 0;const n=[],r=e.get(DynamicNewInstanceResolver).resolveType(this.key,n);n.length>0&&(t=t?[...t,...n]:n);const o=e.invoke(r,t);return e.registerInstance(this.asKey,o),o}static of(e,...t){return new o(e,...t)}};a=o=n.__decorate([(0,r.resolver)(),n.__metadata("design:paramtypes",[Object,Object])],a),t.DynamicNewInstance=a;class DynamicNewInstanceResolver{resolveType(e,t){return e}}t.DynamicNewInstanceResolver=DynamicNewInstanceResolver}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/api-types.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/descriptors/case-insensitive-map.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldsRetrieveMode=t.RedirectType=t.WindowMode=t.PopupPanelMode=t.LocalizationsCollection=t.HttpCodes=t.ErrorInfo=void 0;t.ErrorInfo=class ErrorInfo{constructor(e,t){this.status=e,this.data=t,this.isProcessed=!1}},function(e){e[e.Ok=200]="Ok",e[e.NoContent=204]="NoContent",e[e.Found=302]="Found",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.Conflict=409]="Conflict",e[e.ServerError=500]="ServerError"}(t.HttpCodes||(t.HttpCodes={}));class LocalizationsCollection extends n.CaseInsensitiveMap{}t.LocalizationsCollection=LocalizationsCollection,function(e){e.On="On",e.Layer="Layer"}(t.PopupPanelMode||(t.PopupPanelMode={})),function(e){e.Base="base",e.Same="same",e.New="new",e.NewWindow="newWindow",e.InlineWindow="inlineWindow",e.Layer="layer"}(t.WindowMode||(t.WindowMode={})),function(e){e.GoTo="goTo",e.OpenMessageBox="openMessageBox",e.OpenDialog="openDialog",e.Popup="popup",e.ClosePopup="closePopup",e.ReloadPage="reloadPage",e.OpenReport="openReport",e.WithUrl="withUrl",e.WithReport="withReport",e.WithinContext="withinContext",e.Export="export",e.OpenPayment="openPayment",e.Map="map"}(t.RedirectType||(t.RedirectType={})),function(e){e[e.Full=0]="Full",e[e.ErrorsOnly=1]="ErrorsOnly"}(t.FieldsRetrieveMode||(t.FieldsRetrieveMode={}))}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/base-view-model.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/descriptors/types.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/fieldstate.js"),n("./node_modules/client-controls/descriptors/reflection-metadata.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeHandler=t.PXView=t.CssCustomizable=void 0;class CssCustomizable{constructor(){this.handlers={}}setCustomCssHandler(e,t){this.handlers=t,this.screenModel=e}hasCustomCssHandlers(e){var t;return!!(null===(t=this.handlers)||void 0===t?void 0:t[e])}getCustomCss(e,t,n){let r;const o=this.handlers[e];if(o){for(const e of o){if(!e)continue;const o=e.handler({viewModel:t,selector:n,screenModel:this.screenModel},e.children);o&&(r=r?`${r} ${o}`:o)}return r}}}t.CssCustomizable=CssCustomizable;function executeHandler(e,t,n){wrapHandler(e,t,n)(n)}function wrapHandler(e,t,n){var r;const o=null===(r=t.children)||void 0===r?void 0:r.map((t=>wrapHandler(e,t,n)));return n=>t.handler.bind(e)(n,o)}t.PXView=class PXView{constructor(){this.fieldNames=[],this.cssCustomization=new CssCustomizable,this.viewInUpdateProcessField=!1,this.rowSelectedHandlers=[]}get viewInUpdateProcess(){var e,t;return null!==(t=null===(e=this.parent)||void 0===e?void 0:e.viewInUpdateProcess)&&void 0!==t?t:this.viewInUpdateProcessField}set viewInUpdateProcess(e){this.viewInUpdateProcessField=e}getField(e){return this[e]}setField(e,t){if(this[e]=t,e.indexOf("__")>=0){const n=e.split("__"),r=n[0],o=n[1];this[r]||(this[r]={}),this[r][o]=t}}subscribeValueChanged(e,t,n){const o=r.Container.instance.get(r.BindingEngine),a=this.getField(t);if(a)return o.propertyObserver(a,"value").subscribe(((t,r)=>{if(this.viewInUpdateProcess)return;const o=e.getScreenService();(null==o?void 0:o.updatesSuspended())||executeHandler(e,n,{screenModel:e,viewModel:this,newValue:t,oldValue:r})}))}subscribeRowSelectedHandler(e,t){const n=t.bind(null,e);return this.rowSelectedHandlers.push(n),{dispose:()=>{const e=this.rowSelectedHandlers.findIndex((e=>e===n));-1!==e&&this.rowSelectedHandlers.splice(e,1)}}}subscribeRowSelected(e,t){this.subscribeRowSelectedHandler(e,((e,n)=>executeHandler(e,t,{screenModel:e,viewModel:n})))}setFields(e,t={}){const r=[];let l=0,d=!1;e.forEach((e=>{var c,u,p,h;const{fieldName:g,fieldState:m}=e,f=m,v=t[g];let b=this.getField(g);!b&&f&&(b=(0,o.createFieldState)(this,g,null!==(u=null!==(c=f.stateType)&&void 0!==c?c:null==v?void 0:v.stateType)&&void 0!==u?u:"default",null!==(p=f.args)&&void 0!==p?p:null==v?void 0:v.args),this.setField(g,b)),b.primaryKey||f.required||(f.unpinned=!0);(void 0!==b.type&&b.type!==n.NetType.Empty?b.type:null!==(h=f.type)&&void 0!==h?h:null==v?void 0:v.type)===n.NetType.DateTime&&"string"==typeof m.value&&(m.value=new Date(m.value));let y=null;y=f.type?new o.PXFieldState(this,g,f.args):new o.PXShortFieldState,v&&Object.assign(y,v),Object.assign(y,m);for(const e of Object.getOwnPropertyNames(y))"function"!=typeof b[e]&&b[e]!==y[e]&&(b[e]=y[e]);b.applyOptions();const _=a.PXReflectionMetadata.getMetadataKeys(this,g);_&&_.forEach((e=>b[e]=a.PXReflectionMetadata.getMetadata(this,g,e))),r.push(g),d||this.fieldNames[l++]===g||(d=!0)})),(d||r.length>this.fieldNames.length)&&this.fieldNames.splice(0,this.fieldNames.length,...r),this.publishRowSelectedEvent()}publishRowSelectedEvent(){var e;null===(e=this.rowSelectedHandlers)||void 0===e||e.forEach((e=>e(this)))}setParentModel(e){this.parent=e}hideAll(){for(const e of this.fieldNames){this.getField(e).visible=!1}}setValue(e,t){const n=this[e];n&&(n.value=t)}getValue(e){const t=this.getField(e);return t?t.value:void 0}getGenericValue(e){const t=this.getField(e);return t?t.value:void 0}getRecordIdByKeys(){const e=[];return this.fieldNames.sort().forEach((t=>{var n;const r=this.getField(t);if(r.primaryKey){if(!r.hasOwnProperty("value"))throw new Error(`Field state of ${this.name}.${t} doesn't contain value. `);"object"==typeof r.value?e.push((null===(n=r.value)||void 0===n?void 0:n.hasOwnProperty)&&r.value.hasOwnProperty("id")?r.value.id:null):e.push(r.value)}})),e.join(";")}isCollection(){return!1}},t.executeHandler=executeHandler}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/case-insensitive-map.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CaseInsensitiveMap=void 0;class CaseInsensitiveMap{constructor(e){return Reflect.construct(Map,arguments,CaseInsensitiveMap)}set(e,t){return"string"==typeof e&&(e=e.toLowerCase()),Map.prototype.set.call(this,e,t)}get(e){return"string"==typeof e&&(e=e.toLowerCase()),Map.prototype.get.call(this,e)}has(e){return"string"==typeof e&&(e=e.toLowerCase()),Map.prototype.has.call(this,e)}clear(){Map.prototype.clear.call(this)}delete(e){return"string"==typeof e&&(e=e.toLowerCase()),Map.prototype.delete.call(this,e)}keys(){return Array.from(Map.prototype.keys.call(this)).map((e=>("string"==typeof e&&(e=e.toLowerCase()),e))).values()}}t.CaseInsensitiveMap=CaseInsensitiveMap}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/descriptors/constants.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QUICK_PROCESSING_CLEARED=t.CALLBACK_COMPLETED_EVENT=t.CALLBACK_STARTED_EVENT=t.BEFORE_CALLBACK_EVENT=t.DIALOG_OPENED=t.COORDINATE_SYSTEM_CHANGED_EVENT_NAME=t.DROP_ON_BODY=t.RESIZE_WINDOW=t.MOUSE_DOWN_REACHED_BODY=void 0,t.MOUSE_DOWN_REACHED_BODY="mouse-down-reached-body",t.RESIZE_WINDOW="resize-window",t.DROP_ON_BODY="drop_on_body",t.COORDINATE_SYSTEM_CHANGED_EVENT_NAME="absolute-positions-are-screwed",t.DIALOG_OPENED="dialog-opened",t.BEFORE_CALLBACK_EVENT="before-callback",t.CALLBACK_STARTED_EVENT="callback-started",t.CALLBACK_COMPLETED_EVENT="callback-completed",t.QUICK_PROCESSING_CLEARED="quick-processing-cleared"}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/descriptors/csrf-header-interceptor.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CsrfHeaderInterceptor=void 0;class CsrfHeaderInterceptor{response(e){return e.headers.has(CsrfHeaderInterceptor.TOKEN_HEADER)&&(this.latestCsrfToken=e.headers.get(CsrfHeaderInterceptor.TOKEN_HEADER)),e}request(e){return this.latestCsrfToken&&["POST","PUT","PATCH"].indexOf(e.method)>=0&&e.headers.set(CsrfHeaderInterceptor.TOKEN_HEADER,this.latestCsrfToken),e}}t.CsrfHeaderInterceptor=CsrfHeaderInterceptor,CsrfHeaderInterceptor.TOKEN_HEADER="X-XSRF-TOKEN"}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/descriptors/customization-types.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReflectWithMetadata=t.CustomEventType=void 0,function(e){e.ValueChanged="valueChanged",e.RowSelected="rowSelected",e.GetCellCss="cellCss",e.GetRowCss="rowCss"}(t.CustomEventType||(t.CustomEventType={})),t.ReflectWithMetadata=Reflect}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/descriptors/customization.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/descriptors/customization-types.js"),n("./node_modules/client-controls/descriptors/view-collection.js"),n("./node_modules/client-controls/descriptors/reflection-metadata.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleEvent=t.eventOrderMetadataName=t.eventPropMetadataName=t.eventTypeMetadataName=t.createObjectWithMixins=t.createScreenObjectWithMixins=t.applyMixins=t.applyScreenMixin=t.extendsScreen=t.createCollection=t.createSingle=t.extendsViewModel=void 0;const l=new Map,d=new Set,c=new Map;function applyMixinsInternal(e,t){!function sortExtensions(e){e&&e.sort(((e,t)=>e.dependencies.indexOf(t.name)?1:t.dependencies.indexOf(e.name)?-1:e.dependencies.length!==t.dependencies.length?e.dependencies.length-t.dependencies.length:e.name.localeCompare(t.name)))}(e),applyMixins(t,e.map((e=>e.ctor))),d.add(t.name)}function applyMixins(e,t){t&&t.forEach((t=>{var r;null===(r=n.Container.instance)||void 0===r||r.registerTransient(t),Object.getOwnPropertyNames(t.prototype).forEach((n=>{"constructor"!==n&&"__metadata__"!==n&&"__pxmetadata__"!==n&&Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n)||Object.create(null))})),a.PXReflectionMetadata.copyMetadata(t.prototype,e.prototype)}))}function createObjectWithMixins(e,t){const r=n.Container.instance.get(e);return applyMixinsToInstance(r,t),r}function applyMixinsToInstance(e,o){const a={};o&&o.forEach((o=>{!function copyObjectPropsAndMethods(e,n,o){Object.assign(e,n);const a=Object.getPrototypeOf(n),l=Object.getPrototypeOf(e),d=Object.getOwnPropertyNames(a),c=Object.getOwnPropertyNames(l).reduce(((e,t)=>(e[t]=!0,e)),{}),u=window.SCREEN_RESTRICTED_PROPS||{};for(const e of d){if(u[e])continue;const n=r.ReflectWithMetadata.getOwnMetadata(t.eventTypeMetadataName,a,e),d=r.ReflectWithMetadata.getOwnMetadata(t.eventPropMetadataName,a,e);let p=e,h=1;for(;n&&c[p];)p=`${e}_${h}`,h++;if(l[p]=a[e],c[p]=!0,n){const e=(o[n]||0)+1;r.ReflectWithMetadata.defineMetadata(t.eventOrderMetadataName,e,l,p),r.ReflectWithMetadata.defineMetadata(t.eventTypeMetadataName,n,l,p),r.ReflectWithMetadata.defineMetadata(t.eventPropMetadataName,d,l,p)}}}(e,n.Container.instance.get(o),a)}))}t.extendsViewModel=function extendsViewModel(e,t=void 0){return function(n,r,o){return e&&(console.info(`Extension ${n.name} registered for the ${e} view`),l.has(e)||l.set(e,[]),l.get(e).push({name:n.name,ctor:r?n[r]:n,dependencies:null!=t?t:[]})),n}},t.createSingle=function createSingle(e){const t=l.get(e.name);return t&&!d.has(e.name)&&(console.info(`Applying mixins for the the ${e.name} view`),applyMixinsInternal(t,e),n.Container.instance.registerTransient(e)),d.has(e.name)||(n.Container.instance.registerTransient(e),d.add(e.name)),createObjectWithMixins(e,null==t?void 0:t.map((e=>e.ctor)))},t.createCollection=function createCollection(e,t){const r=l.get(e.name);return r&&!d.has(e.name)&&(console.info(`Applying mixins for the the ${e.name} view`),applyMixinsInternal(r,e),n.Container.instance.registerTransient(e)),d.has(e.name)||(n.Container.instance.registerTransient(e),d.add(e.name)),new o.PXViewCollection((()=>createObjectWithMixins(e,null==r?void 0:r.map((e=>e.ctor)))),t)},t.extendsScreen=function extendsScreen(e,t=void 0){return function(n,r,o){return n&&e&&(console.info(`Extension ${n.name} registered for the ${e} screen view model`),c.has(e)||c.set(e,[]),c.get(e).push({name:n.name,ctor:r?n[r]:n,dependencies:null!=t?t:[]})),n}},t.applyScreenMixin=function applyScreenMixin(e){var t;null===(t=n.Container.instance)||void 0===t||t.registerTransient(e);const r=c.get(e.name.toUpperCase());return r&&!d.has(e.name)&&(console.info(`Applying mixins for the the ${e.name} screen view model`),applyMixinsInternal(r,e)),e},t.applyMixins=applyMixins,t.createScreenObjectWithMixins=function createScreenObjectWithMixins(e,t){var r;const o=null===(r=c.get(t.name))||void 0===r?void 0:r.map((e=>e.ctor));o&&(o.forEach((e=>{n.Container.instance.hasResolver(e)||n.Container.instance.registerTransient(e)})),applyMixinsToInstance(e,o),e.appliedMixins.push(...o))},t.createObjectWithMixins=createObjectWithMixins,t.eventTypeMetadataName="customEventType",t.eventPropMetadataName="customEventProps",t.eventOrderMetadataName="customEventOrder",t.handleEvent=function handleEvent(e,n){return(o,a,l)=>{r.ReflectWithMetadata.defineMetadata(t.eventTypeMetadataName,e,o,a),r.ReflectWithMetadata.defineMetadata(t.eventPropMetadataName,n,o,a)}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/data-component-register.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/services/index.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataComponentCategory=t.registerDataComponentsOnScreenByCategory=t.registerDataComponentOnScreen=t.selfRegisterWithName=t.getSelfRegisteredConfigurations=t.getSelfRegisteredConfiguration=void 0;const r=new Map;function getSelfRegisteredConfiguration(e){return r.get(e)}function getSelfRegisteredConfigurations(e){return Array.from(r.values()).filter((t=>{var n;return(null===(n=t.config)||void 0===n?void 0:n.category)===e}))}function registerDataComponentOnScreen(e,t,r){var o,a,l;const d=r.get(n.ScreenService),c=getSelfRegisteredConfiguration(t);if(null==c?void 0:c.ctor){const n=(null===(o=c.config)||void 0===o?void 0:o.createImmediately)?new c.ctor(e,r):()=>new c.ctor(e,r);return d.registerDataComponent(t,n,{oneTimeRegistration:null===(a=c.config)||void 0===a?void 0:a.oneTimeRegistration,category:null===(l=c.config)||void 0===l?void 0:l.category}),!0}return!1}t.getSelfRegisteredConfiguration=getSelfRegisteredConfiguration,t.getSelfRegisteredConfigurations=getSelfRegisteredConfigurations,t.selfRegisterWithName=function selfRegisterWithName(e,t){return n=>(r.set(e,{name:e,ctor:n,config:t}),n)},t.registerDataComponentOnScreen=registerDataComponentOnScreen,t.registerDataComponentsOnScreenByCategory=function registerDataComponentsOnScreenByCategory(e,t,n){return getSelfRegisteredConfigurations(t).reduce(((t,r)=>registerDataComponentOnScreen(e,r.name,n)||t),!1)},function(e){e.PageHost="page-host"}(t.DataComponentCategory||(t.DataComponentCategory={}))}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/event-manager.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/utils/control-helper.js")],o=function(e,t,n,r,o){"use strict";var a,l;Object.defineProperty(t,"__esModule",{value:!0}),t.QpEventManager=t.CallbackCompletedEvent=t.QuickProcessingActionsEvent=t.QuickProcessingChangedEvent=t.LongRunChangedEvent=t.ProcessStatus=t.LoadingFinishedEvent=t.LoadingStartedEvent=t.ReloadPageEvent=t.RefreshScreenEvent=t.ClosePopupEvent=t.OpenPopupEvent=t.ExecuteCommandEvent=t.QpEvent=void 0;class QpEvent{constructor(e,t,n){this.stopped=!1,this.type=e,this.detail=t,this.bubbles=void 0===n||n}stop(){this.stopped=!0}isActive(){return!this.stopped}}t.QpEvent=QpEvent;class ExecuteCommandEvent extends QpEvent{constructor(e,t){super("ExecuteCommand",{command:e,params:t}),this.command=e,this.params=t}get Command(){return this.detail.command}get Params(){return this.detail.params}set Command(e){this.detail.command=e}}t.ExecuteCommandEvent=ExecuteCommandEvent,(0,o.registerQAObject)("ExecuteCommandEvent",ExecuteCommandEvent);class OpenPopupEvent extends QpEvent{constructor(e,t,n,r,o,a){super(OpenPopupEvent.EventName,Object.assign(Object.assign({},"string"==typeof e?{content:{templateId:e}}:{content:e}),{command:t,message:n,repaintControls:r,data:a,id:o})),this.content=e,this.command=t,this.message=n,this.repaintControls=r}get dialogId(){var e;return null===(e=this.detail)||void 0===e?void 0:e.id}get name(){var e,t;return null===(t=null===(e=this.detail)||void 0===e?void 0:e.content)||void 0===t?void 0:t.templateId}get commandName(){return this.command}get dialogMessage(){return this.message}get autoRepaint(){return this.repaintControls}}t.OpenPopupEvent=OpenPopupEvent,OpenPopupEvent.EventName="OpenPopup";class ClosePopupEvent extends QpEvent{constructor(){super(ClosePopupEvent.EventName)}}t.ClosePopupEvent=ClosePopupEvent,ClosePopupEvent.EventName="ClosePopup";t.RefreshScreenEvent=class RefreshScreenEvent extends QpEvent{constructor(e){super("RefreshScreen",{command:e}),this.calledFromCommand=e}};t.ReloadPageEvent=class ReloadPageEvent extends QpEvent{constructor(e){super("ReloadPage",{command:e}),this.calledFromCommand=e}};t.LoadingStartedEvent=class LoadingStartedEvent extends QpEvent{constructor(){super("LoadingStarted")}};t.LoadingFinishedEvent=class LoadingFinishedEvent extends QpEvent{constructor(){super("LoadingFinished")}},function(e){e[e.NotExists=0]="NotExists",e[e.InProcess=1]="InProcess",e[e.Completed=2]="Completed",e[e.Aborted=3]="Aborted"}(l=t.ProcessStatus||(t.ProcessStatus={}));t.LongRunChangedEvent=class LongRunChangedEvent extends QpEvent{constructor(e){super("LongRunChanged",{command:e}),this.command=e,this.status=l.NotExists}};t.QuickProcessingChangedEvent=class QuickProcessingChangedEvent extends QpEvent{constructor(){super("QuickProcessingChanged")}};t.QuickProcessingActionsEvent=class QuickProcessingActionsEvent extends QpEvent{constructor(){super("QuickProcessingActions")}};t.CallbackCompletedEvent=class CallbackCompletedEvent extends QpEvent{constructor(){super("CallbackCompleted")}};let d=a=class QpEventManager{constructor(e){var t;this.subscribers={},this.parent=void 0,this.parent=null===(t=e.parent)||void 0===t?void 0:t.get(a)}publish(e){const t=this.subscribers[e.type];if(t)for(const n of t)if(n(e),!e.isActive())break;if(e.bubbles&&e.isActive()){let t=this.parent;for(;t;){if(t!==this){t.publish(e);break}t=t.parent}}}subscribe(e,t){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(t),{dispose:()=>this.removeHandler(e,t)}}removeHandler(e,t){if(!this.subscribers[e])return;const n=this.subscribers[e],r=n.findIndex((e=>e===t));r>=0&&n.splice(r,1)}};d=a=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[r.Container])],d),t.QpEventManager=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/field-state-generic.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/descriptors/fieldstate.js")],o=function(e,t,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.PXFieldStateGeneric=void 0;let a=o=class PXFieldStateGeneric extends r.PXFieldState{constructor(e,t,n,r,o){super(e,t,r,o),this.keys=n,this.obj=e}static createGeneric(e,t,n){return new o(e,t,n)}get fields(){return this.keys.map((e=>e))}};a=o=n.__decorate([(0,r.registerFieldState)("generic"),n.__metadata("design:paramtypes",[Object,String,Object,Number,String])],a),t.PXFieldStateGeneric=a}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/field-state-pair.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/descriptors/fieldstate.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PXFieldStatePair=void 0;let o=class PXFieldStatePair extends r.PXFieldState{constructor(e,t,n,r,o){super(e,t,r,o),this.viewModel=e,this.secondName=null==n?void 0:n.toString()}get controlType(){return"qp-field-pair"}};o=n.__decorate([(0,r.registerFieldState)("pair"),n.__metadata("design:paramtypes",[Object,String,Object,Number,String])],o),t.PXFieldStatePair=o}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/fieldstate.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework")],o=function(e,t,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.FieldStateDTO=t.createFieldState=t.registerFieldState=t.FieldState=t.PXFieldState=t.PXShortFieldState=t.DimensionLookupMode=t.PXSegment=t.PXFieldOptions=t.PXUIVisibility=t.PXSelectorMode=t.PXErrorLevel=void 0;const a=new Map;var l,d,c,u,p;!function(e){e[e.Undefined=0]="Undefined",e[e.RowInfo=1]="RowInfo",e[e.Warning=2]="Warning",e[e.RowWarning=3]="RowWarning",e[e.Error=4]="Error",e[e.RowError=5]="RowError"}(l=t.PXErrorLevel||(t.PXErrorLevel={})),function(e){e[e.Undefined=0]="Undefined",e[e.NoAutocomplete=1]="NoAutocomplete",e[e.MaskAutocomplete=32]="MaskAutocomplete",e[e.AutocompleteMode=33]="AutocompleteMode",e[e.TextModeReadonly=2]="TextModeReadonly",e[e.TextModeEditable=4]="TextModeEditable",e[e.TextModeSearch=6]="TextModeSearch",e[e.TextMode=6]="TextMode",e[e.DisplayModeHint=0]="DisplayModeHint",e[e.DisplayModeValue=8]="DisplayModeValue",e[e.DisplayModeText=16]="DisplayModeText",e[e.DisplayMode=24]="DisplayMode"}(d=t.PXSelectorMode||(t.PXSelectorMode={})),function(e){e[e.Undefined=0]="Undefined",e[e.Invisible=1]="Invisible",e[e.Visible=3]="Visible",e[e.SelectorVisible=7]="SelectorVisible",e[e.Dynamic=9]="Dynamic",e[e.Service=19]="Service",e[e.HiddenByAccessRights=33]="HiddenByAccessRights"}(c=t.PXUIVisibility||(t.PXUIVisibility={})),function(e){e[e.Default=0]="Default",e[e.Readonly=1]="Readonly",e[e.Hidden=2]="Hidden",e[e.NoLabel=4]="NoLabel",e[e.Multiline=8]="Multiline",e[e.CommitChanges=16]="CommitChanges",e[e.Disabled=32]="Disabled"}(u=t.PXFieldOptions||(t.PXFieldOptions={}));t.PXSegment=class PXSegment{},function(e){e[e.BySegmentedKeys=0]="BySegmentedKeys",e[e.BySegmentsAndAllAvailableSegmentValues=1]="BySegmentsAndAllAvailableSegmentValues",e[e.BySegmentsAndChildSegmentValues=2]="BySegmentsAndChildSegmentValues"}(p=t.DimensionLookupMode||(t.DimensionLookupMode={}));class PXShortFieldState{constructor(){this.enabled=!0,this.visible=!0,this.readOnly=!1,this.value=null,this.required=!1,this.options=void 0,this.language=void 0,this.translations=void 0,this.errorLevel=l.Undefined,this.error=void 0,this.unpinned=!1}}t.PXShortFieldState=PXShortFieldState;let h=o=class PXFieldState extends PXShortFieldState{constructor(e,t,n,r){super(),this.suppressLabel=!1,this.commitChanges=!1,this.unbound=!1,this.headerDescription=void 0,this.identity=!1,this.unique=!1,this.length=-1,this.nullable=!1,this.precision=-1,this.scale=-1,this.primaryKey=!1,this.descriptionName=void 0,this.viewName=void 0,this.fieldList=void 0,this.headerList=void 0,this.valueField=void 0,this.selectorMode=d.Undefined,this.visibility=c.Undefined,this.formulaEditorViewName=void 0,this.inputMask=void 0,this.displayMask=void 0,this.exclusiveValues=void 0,this.emptyPossible=void 0,this.isUnicode=void 0,this.multiSelect=void 0,this.noteIDField=void 0,this.noteDocsField=void 0,this.noteTextFiled=void 0,this.noteActivityField=void 0,this.noteTextExistsField=void 0,this.noteFilesExistsField=void 0,this.segments=void 0,this.validCombos=void 0,this.lookupMode=p.BySegmentedKeys,this.segmentValueField=void 0,this.segmentDescriptionName=void 0,this.segmentViewName=void 0,this.segmentFieldList=void 0,this.segmentHeaderList=void 0,this.wildcard=void 0,this.schemaObject=void 0,this.schemaField=void 0,this.isColorState=void 0,this.selectionMode=void 0,this.multiLine=void 0,this.updateValue=e=>{throw"updateValue() is not initialized"},this.name=t,this.viewModeName=null==e?void 0:e.name,this.view=e,this.fieldOptions=n,this.displayName=r}get textValue(){var e;if(null==this.value)return"";if("Date"===(null===(e=this.value.constructor)||void 0===e?void 0:e.name))return this.value.toLocaleString();if("object"==typeof this.value){const e=this.value.id;return null==e?"":this.value.text?this.value.text:e}return this.value.toString()}get systemValue(){if(null==this.value)return"";if("object"==typeof this.value){const e=this.value.id;return null==e?"":e}return this.value.toString()}get displayName(){return this.text}set displayName(e){this.text=e}applyOptions(){this.fieldOptions&&((this.fieldOptions&u.Readonly)===u.Readonly&&(this.readOnly=!0),(this.fieldOptions&u.NoLabel)===u.NoLabel&&(this.suppressLabel=!0),(this.fieldOptions&u.Multiline)===u.Multiline&&(this.multiLine=!0),(this.fieldOptions&u.Hidden)===u.Hidden&&(this.skip=!0),(this.fieldOptions&u.Disabled)===u.Disabled&&(this.enabled=!1),(this.fieldOptions&u.CommitChanges)===u.CommitChanges&&(this.commitChanges=!0))}configureControl(e){}static create(){const e=new o;return e.visible=!0,e.enabled=!0,e}static createUnbound(e=void 0){const t=new o;return t.unbound=!0,t.visible=!0,t.enabled=!0,t.calculation=e,t}};n.__decorate([(0,r.computedFrom)("value"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],h.prototype,"textValue",null),n.__decorate([(0,r.computedFrom)("value"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],h.prototype,"systemValue",null),h=o=n.__decorate([registerFieldState("default"),n.__metadata("design:paramtypes",[Object,Object,Number,String])],h),t.PXFieldState=h;function registerFieldState(e){return function(t){try{t&&a&&!a.has(e)&&a.set(e,t)}catch(e){}}}t.FieldState=class FieldState extends h{constructor(e,t,n,r){super(e,t,n,r)}},t.registerFieldState=registerFieldState,t.createFieldState=function createFieldState(e,t,n,r){return r?new(a.get(n))(e,t,...r):new(a.get(n))(e,t)};t.FieldStateDTO=class FieldStateDTO{constructor(e,t,n){this.enabled=e,this.visible=t,this.value=n}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/grid-presets.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/descriptors/grid-types.js")],o=function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.getGridPereset=t.GridPreset=void 0,function(e){e.Primary="primary",e.PrimaryInquiry="primaryInquiry",e.Inquiry="inquiry",e.Details="details",e.Attributes="attributes",e.ShortList="shortList",e.Empty="empty"}(r=t.GridPreset||(t.GridPreset={})),t.getGridPereset=function getGridPereset(e){return l[e]};const o={adjustPageSize:!0,mergeToolbarWith:"ScreenToolbar",syncPosition:!0,preserveSortsAndFilters:!0,showFilterBar:n.GridFilterBarVisibility.Always},a={adjustPageSize:!0,mergeToolbarWith:"ScreenToolbar",syncPosition:!0,preserveSortsAndFilters:!0,allowDelete:!1,allowInsert:!1,allowImport:!1,allowSkipTabs:!1,actionsConfig:{insert:{hidden:!0},delete:{hidden:!0}},showFilterBar:n.GridFilterBarVisibility.Always},l={[r.Primary]:o,[r.PrimaryInquiry]:a,[r.Inquiry]:{allowDelete:!1,allowInsert:!1,allowImport:!1,allowSkipTabs:!1,actionsConfig:{insert:{hidden:!0},delete:{hidden:!0}}},[r.Details]:{syncPosition:!0,wrapToolbar:!0},[r.Attributes]:{autoSaveLayout:!1,autoAdjustColumns:!0,fastFilterByAllFields:!1,allowFilter:!1,allowSort:!1,allowStoredFilters:!1,allowInsert:!1,allowDelete:!1,allowImport:!1,showTopBar:!1,showBottomBar:!1,pageSize:0},[r.ShortList]:{autoSaveLayout:!1,autoAdjustColumns:!0,fastFilterByAllFields:!1,allowFilter:!1,allowStoredFilters:!1,allowImport:!1,showBottomBar:!1,pageSize:0,actionsConfig:{adjust:{hidden:!0},exportToExcel:{hidden:!0}}}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/grid-types.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/descriptors/fieldstate.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridCell=t.GridFilterRow=t.GridFilter=t.GridAutoGrowMode=t.GridFilterBarVisibility=t.GridFastFilterVisibility=t.GridRowStatus=t.GridColumnDisplayMode=t.GridColumnShowHideMode=t.GridColumnType=t.GridColumnGeneration=t.TextAlign=t.SortDirection=t.GridPagerMode=void 0,function(e){e[e.InfiniteScroll=0]="InfiniteScroll",e[e.NextPrevFirstLast=1]="NextPrevFirstLast",e[e.Numeric=2]="Numeric"}(t.GridPagerMode||(t.GridPagerMode={})),function(e){e[e.None=0]="None",e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(t.SortDirection||(t.SortDirection={})),function(e){e[e.NotSet=0]="NotSet",e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=3]="Right",e[e.Justify=4]="Justify"}(t.TextAlign||(t.TextAlign={})),function(e){e[e.None=0]="None",e[e.Append=1]="Append",e[e.Recreate=2]="Recreate",e[e.AppendDynamic=3]="AppendDynamic",e[e.Selector=4]="Selector"}(t.GridColumnGeneration||(t.GridColumnGeneration={})),function(e){e[e.NotSet=0]="NotSet",e[e.Icon=1]="Icon",e[e.HyperLink=2]="HyperLink",e[e.CheckBox=3]="CheckBox"}(t.GridColumnType||(t.GridColumnType={})),function(e){e[e.False=0]="False",e[e.True=1]="True",e[e.Server=2]="Server",e[e.Client=3]="Client"}(t.GridColumnShowHideMode||(t.GridColumnShowHideMode={})),function(e){e[e.Value=0]="Value",e[e.Text=1]="Text",e[e.Both=2]="Both"}(t.GridColumnDisplayMode||(t.GridColumnDisplayMode={})),function(e){e[e.NotSet=0]="NotSet",e[e.Modified=1]="Modified",e[e.New=2]="New",e[e.Inserted=3]="Inserted",e[e.Deleted=4]="Deleted"}(t.GridRowStatus||(t.GridRowStatus={})),function(e){e[e.False=0]="False",e[e.ToolBar=1]="ToolBar",e[e.FilterBar=2]="FilterBar"}(t.GridFastFilterVisibility||(t.GridFastFilterVisibility={})),function(e){e[e.False=0]="False",e[e.Always=1]="Always",e[e.OnDemand=2]="OnDemand"}(t.GridFilterBarVisibility||(t.GridFilterBarVisibility={})),function(e){e[e.False=0]="False",e[e.Fit=1]="Fit",e[e.Fill=2]="Fill"}(t.GridAutoGrowMode||(t.GridAutoGrowMode={}));t.GridFilter=class GridFilter{};t.GridFilterRow=class GridFilterRow{};class GridCell extends n.PXFieldState{}t.GridCell=GridCell}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/index.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/descriptors/api-types.js"),n("./node_modules/client-controls/descriptors/base-view-model.js"),n("./node_modules/client-controls/descriptors/case-insensitive-map.js"),n("./node_modules/client-controls/descriptors/constants.js"),n("./node_modules/client-controls/descriptors/csrf-header-interceptor.js"),n("./node_modules/client-controls/descriptors/customization.js"),n("./node_modules/client-controls/descriptors/event-manager.js"),n("./node_modules/client-controls/descriptors/fieldstate.js"),n("./node_modules/client-controls/descriptors/grid-types.js"),n("./node_modules/client-controls/descriptors/grid-presets.js"),n("./node_modules/client-controls/descriptors/interface.js"),n("./node_modules/client-controls/descriptors/redirect-helper.js"),n("./node_modules/client-controls/descriptors/reflection-metadata.js"),n("./node_modules/client-controls/descriptors/types.js"),n("./node_modules/client-controls/descriptors/session-url-router.js"),n("./node_modules/client-controls/descriptors/field-state-generic.js"),n("./node_modules/client-controls/descriptors/field-state-pair.js"),n("./node_modules/client-controls/descriptors/customization-types.js"),n("./node_modules/client-controls/descriptors/view-collection.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m,f,v,b,y,_,x,C,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(r,t),n.__exportStar(o,t),n.__exportStar(a,t),n.__exportStar(l,t),n.__exportStar(d,t),n.__exportStar(c,t),n.__exportStar(u,t),n.__exportStar(p,t),n.__exportStar(h,t),n.__exportStar(g,t),n.__exportStar(m,t),n.__exportStar(f,t),n.__exportStar(v,t),n.__exportStar(b,t),n.__exportStar(y,t),n.__exportStar(_,t),n.__exportStar(x,t),n.__exportStar(C,t),n.__exportStar(S,t)}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/interface.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/descriptors/reflection-metadata.js"),n("./node_modules/client-controls/descriptors/customization.js")],o=function(e,t,n,r){"use strict";function applyMetadataValue(e,t,r,o){n.PXReflectionMetadata.setMetadata(e,t,r,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.treeConfig=t.gridConfig=t.columnConfig=t.placeAfterProperty=t.placeBeforeProperty=t.placeAfterView=t.placeBeforeView=t.viewInfo=t.graphInfo=t.featureInstalled=t.registerViewModelMixin=t.register=t.type=t.fieldInfo=t.calculation=t.multiLine=t.selectorSettings=t.text=t.unbound=t.disabled=t.readOnly=t.suppressLabel=t.mappedToViewField=t.linkCommand=t.autoRefresh=t.headerDescription=t.commitChanges=t.skip=t.pair=t.group=void 0,t.group=function group(e){return(t,n)=>{applyMetadataValue(t,n,"group",e)}},t.pair=function pair(e,t="s",n="xs"){return(r,o)=>{applyMetadataValue(r,o,"template",`<div style="position:relative;display: flex;">\n\t\t\t\t<qp-field control-id="ed${o}" control-state.bind="${o}" control-size="${t}" >\n\t\t\t\t</qp-field>\n\t\t\t\t<qp-field control-id="ed${e}" control-state.bind="${e}" control-size="${n}" >\n\t\t\t\t</qp-field>\n\t\t\t</div>`),applyMetadataValue(r,e,"skip",!0)}},t.skip=function skip(e,t){if("boolean"==typeof e)return(t,n)=>{applyMetadataValue(t,n,"skip",e)};applyMetadataValue(e,t,"skip",!0)},t.commitChanges=function commitChanges(e,t){if("boolean"==typeof e)return(t,n)=>{applyMetadataValue(t,n,"commitChanges",e)};applyMetadataValue(e,t,"commitChanges",!0)},t.headerDescription=function headerDescription(e,t){if("boolean"==typeof e)return(t,n)=>{applyMetadataValue(t,n,"headerDescription",e)};applyMetadataValue(e,t,"headerDescription",!0)},t.autoRefresh=function autoRefresh(e,t){if("boolean"==typeof e)return(t,n)=>{applyMetadataValue(t,n,"autoRefresh",e)};applyMetadataValue(e,t,"autoRefresh",!0)},t.linkCommand=function linkCommand(e){return(t,n)=>{applyMetadataValue(t,n,"linkCommand",e)}},t.mappedToViewField=function mappedToViewField(e,t){return(n,r)=>{applyMetadataValue(n,r,"mappedToViewField",{viewName:e,fieldName:t})}},t.suppressLabel=function suppressLabel(e,t){if("boolean"==typeof e)return(t,n)=>{applyMetadataValue(t,n,"suppressLabel",e)};applyMetadataValue(e,t,"suppressLabel",!0)},t.readOnly=function readOnly(e,t){if("boolean"==typeof e)return(t,n)=>{applyMetadataValue(t,n,"readOnly",e)};applyMetadataValue(e,t,"readOnly",!0)},t.disabled=function disabled(e,t){if("boolean"==typeof e)return(t,n)=>{applyMetadataValue(t,n,"disabled",!e)};applyMetadataValue(e,t,"enabled",!1)},t.unbound=function unbound(e,t){if("boolean"==typeof e)return(t,n)=>{applyMetadataValue(t,n,"unbound",e)};applyMetadataValue(e,t,"unbound",!0)},t.text=function text(e){return(t,n)=>{applyMetadataValue(t,n,"displayName",e)}},t.selectorSettings=function selectorSettings(e,t){return(n,r)=>{e&&applyMetadataValue(n,r,"valueField",e),t&&applyMetadataValue(n,r,"descriptionName",t)}},t.multiLine=function multiLine(e,t){if("boolean"==typeof e)return(t,n)=>{applyMetadataValue(t,n,"multiLine",e)};applyMetadataValue(e,t,"multiLine",!0)},t.calculation=function calculation(e){return(t,n)=>{applyMetadataValue(t,n,"calculation",e)}},t.fieldInfo=function fieldInfo(e){return(t,n)=>{for(const r of Object.getOwnPropertyNames(e))applyMetadataValue(t,n,r,e[r])}},t.type=function type(e){return(t,n)=>{applyMetadataValue(t,n,"type",e)}},t.register=function register(e={}){return function(e,t,n){return e}},t.registerViewModelMixin=function registerViewModelMixin(e={}){return function(e,t,n){return e}},t.featureInstalled=function featureInstalled(e){return t=>{console.log(`featureInstalled: ${e}`)}},t.graphInfo=function graphInfo(e){return t=>(n.PXReflectionMetadata.setMetadata(t,"graphInfo",e),(0,r.applyScreenMixin)(t),class extends t{runMixin(){(0,r.createScreenObjectWithMixins)(this,t)}})},t.viewInfo=function viewInfo(e){return function(t,n){applyMetadataValue(t,n,"viewInfo",e)}},t.placeBeforeView=function placeBeforeView(e){return function(t){n.PXReflectionMetadata.setMetadata(t,"placeBeforeView",e)}},t.placeAfterView=function placeAfterView(e){return function(t){n.PXReflectionMetadata.setMetadata(t,"placeAfterView",e)}},t.placeBeforeProperty=function placeBeforeProperty(e){return(t,n)=>{applyMetadataValue(t,n,"placeBeforeProperty",e)}},t.placeAfterProperty=function placeAfterProperty(e){return(t,n)=>{applyMetadataValue(t,n,"placeAfterProperty",e)}},t.columnConfig=function columnConfig(e){return(t,n)=>{applyMetadataValue(t,n,"columnConfig",e)}},t.gridConfig=function gridConfig(e){return(t,r)=>{r?applyMetadataValue(t,r,"gridConfig",e):n.PXReflectionMetadata.setMetadata(t,"gridConfig",e)}},t.treeConfig=function treeConfig(e){return(t,r)=>{r?applyMetadataValue(t,r,"treeConfig",e):n.PXReflectionMetadata.setMetadata(t,"treeConfig",e)}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/redirect-helper.js":(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,exports,__webpack_require__("./node_modules/tslib/tslib.es6.js"),__webpack_require__("client-controls/controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component"),__webpack_require__("./node_modules/client-controls/services/cookie-utils.js"),__webpack_require__("client-controls/controls/dialog/alert/qp-alert"),__webpack_require__("./node_modules/client-controls/services/session-url-serializer.js"),__webpack_require__("./node_modules/client-controls/descriptors/session-url-router.js"),__webpack_require__("./node_modules/client-controls/descriptors/api-types.js"),__webpack_require__("./node_modules/client-controls/descriptors/event-manager.js"),__webpack_require__("aurelia-framework"),__webpack_require__("./node_modules/client-controls/descriptors/types.js"),__webpack_require__("./node_modules/client-controls/dependency-property-injection/index.js"),__webpack_require__("./node_modules/client-controls/services/alert-service.js")],__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,tslib_1,qp_inline_screen_dialog_component_1,cookie_utils_1,qp_alert_1,session_url_serializer_1,session_url_router_1,api_types_1,event_manager_1,aurelia_framework_1,types_1,dependency_property_injection_1,alert_service_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RedirectHelper=void 0;let RedirectHelper=class RedirectHelper{constructor(e,t,n,r,o){this.basePath=e,this.urlRouter=t,this.urlSerializer=n,this.screenEventManager=r,this.alertService=o,this.AgentName="",this.Version=0,this.IsWinPhone=!1,this.IsIPad=!1,this.IsIPhone=!1,this.IsAndroid=!1,this.IsTablet=!1,this.IsTabletWin=!1,this.IsTabletOrWin=!1,this.IsDom=!1,this.IsWin=!1,this.IsWin98=!1,this.IsNetscape=!1,this.IsFirefox=!1,this.IsFirefox20=!1,this.IsFirefox40=!1,this.IsFirefoxFrom40=!1,this.IsFirefoxFrom65=!1,this.IsOpera=!1,this.IsIE=!1,this.IsIE10=!1,this.IsIE11=!1,this.IsIE910=!1,this.IsIE78=!1,this.IsAnyIE=!1,this.IsSafari=!1,this.IsMacSafari=!1,this.IsEdge=!1,this.IsIEorEdge=!1,this.IsWebKit=!1,this.popStateH=null,this.popupUnloadH=null,this.frameLoadH=null,this.layerStatePushed=!1,this.layerFrame=null,this.layerContainer=null,this.LAYER_CONTAINER_ID="_layer_cont",this.LAYER_FRAME_ID="_layer_frame",this.MAIN_FRAME_ID="main",this.initialize()}doRedirects(e){const t=e.redirects.sort((e=>e.settings.mode===api_types_1.WindowMode.Same||e.settings.mode===api_types_1.WindowMode.InlineWindow?1:-1));return e.redirectResults=t.map((t=>this.doRedirect(t,e.isDirty,e.command))),e.redirectResults}goTo(e,t,n,r,o,a){let l=t.mode===api_types_1.WindowMode.New;const d=n&&!l,c=t.suppressFrameset,u=t.preserveSession;let p=!1;const h=this.getOpenerWindowOptions();(null==h?void 0:h.framesetOpen)&&"_inline"===o&&(p=!0,o=void 0);let g=l&&!c||p;const m=!p&&(t.mode===api_types_1.WindowMode.NewWindow||t.mode===api_types_1.WindowMode.InlineWindow||t.mode===api_types_1.WindowMode.Layer);let f=!1;if(n||l||(m?"_inline"!==o&&(f=!0):f=!0),p&&c&&(g=!1,l=!0),f||d||g||l||m)return this.openUrl(e,l?"_blank":o,g,m,void 0,r,a,u)}reload(){const e=this.getTopWin();if(!e)throw new Error("Not found window that marked as top");null==e||e.location.reload()}openUrl(e,t,n,r,o,a=!1,l=void 0,d=!1){var c,u;if(null==e||0===e.length)throw new Error("TargetUrl can not be null or empty string");const p=this.getTopWin();if(!p)throw new Error("Not found window that marked as top");if(cookie_utils_1.CookieUtils.setSessionPrevWinCookie(null===(c=this.urlSerializer.parseUrl(document.location.href))||void 0===c?void 0:c.sessionNumber,null===(u=this.urlSerializer.parseUrl(e))||void 0===u?void 0:u.sessionNumber),n){if(a)return window.open(e);if(null!=this.searchFrame(p,this.MAIN_FRAME_ID))return this.openFrameset(e,a,t,l);r=!0}if(r)return window.Office&&window.Office.context?(window.Office.context.ui.displayDialogAsync(e),null):this.openWindow(e,a,t,o,l);let h=null,g=null;if(t){if(t&&!t.startsWith("_")&&(h=this.getElemByID(t),null==h&&(g=this.searchFrame(p,t))),null!=h||null!=g){const t=this.urlRouter.resolveSameWindowUrl(e,p.location,!1,a,l);e=this.urlRouter.resolveUrlHideScript(t,p)}else e="_blank"===t&&e.indexOf("preserveSession=true")<0?this.urlRouter.resolveBlankWindowUrl(e,p.location,a,d,l):this.urlRouter.resolveSameWindowUrl(e,p.location,!1,a,l);if("_inline"===t)return e.indexOf(".aspx")>-1&&(e+=(e.indexOf("?")>0?"&":"?")+"PopupPanel=Inline"),this.isPopupLayerWindow()&&(e+=(e.indexOf("?")>0?"&":"?")+"InLayer=On"),void(window.location.href=e);if(null!=g)g.location.href=e;else{window.open(e,t).lastCompany=p.company}return}const m=null!=l?l:{};throw m.isRedirect="true",e=this.urlRouter.resolveSameWindowUrl(e,p.location,!1,a,m),window!==p&&(e=this.urlRouter.resolveUrlHideScript(e,p)),this.screenEventManager.publish(new event_manager_1.LoadingStartedEvent),window.location.href=e,"redirected"}openWindow(e,t,n,r,o){const a="_layer"===n,l="_inline"===n;if(!t){let t=l?"Inline":"On";a&&(t="Layer"),t&&(e+=`${e.indexOf("?")>0?"&":"?"}PopupPanel=${t}`)}return a?this.openLayerWindow(e,r):this.openNewWindow(e,n,r,l,t,o)}startLC(){this.screenEventManager.publish(new event_manager_1.LoadingStartedEvent)}stopLC(){this.screenEventManager.publish(new event_manager_1.LoadingFinishedEvent)}export(e){let t=document.getElementById("px_exportFrame");null==t&&(t=document.createElement("iframe"),t.style.display="none",t.id="px_exportFrame",document.body.appendChild(t)),t.src=e}isEmbeddedWindow(){const e=window;let t=!1;try{e.frameElement}catch(e){t=!0}return t}getFrameElement(e){let t=null;const n=e||window;try{t=n.frameElement}catch(e){}return t}isPopupWindow(e){return e.indexOf("PopupPanel")>0&&e.indexOf("PopupPanel=Inline")<0}isPopupLayerWindow(e){return void 0===e&&(e=document.location.href),e.indexOf("PopupPanel=Layer")>0}closePopup(e,t){var n;null===(n=this.screenEventManager)||void 0===n||n.publish(new event_manager_1.ClosePopupEvent)}hideInlineLayerFrame(e=!1){const t=this.getInlineLayerFrameContainer();t&&(e||null==t.getAttribute("collapsible")?(t.style.display="none",this.excludeCss(t.parentNode,["layer-visible"],!0)):this.appendCss(t,["min"],!0))}excludeCss(e,t,n){let r="string"==typeof e?e.split(" "):e.className.split(" ");if(r.length)for(let e=0;e<r.length;e++)-1!==t.indexOf(r[e])&&r.splice(e--,1);return r=r.length?r.join(" ").trim():"",n&&(e.className=r),r}appendCss(e,t,n){let r="string"==typeof e?e.split(" "):e.className.split(" ");if(r.length)for(let e=0;e<t.length;e++)t[e]&&-1===r.indexOf(t[e])&&r.push(t[e]);return r=r.length?r.join(" ").trim():"",n&&(e.className=r),r}toggleCss(e,t,n,r){return e?this.appendCss(t,n,r):this.excludeCss(t,n,r)}hasCss(e,t){const n="string"==typeof e?e.split(" "):e.className.split(" ");if(n.length)for(let e=0;e<t.length;e++)if(-1!==n.indexOf(t[e]))return!0;return!1}getTopWin(){let e,t;try{e=window.top,t=null==e?void 0:e.location.href,null==t&&(e=null)}catch(t){e=null}return null==e?window:e}searchFrame(e,t){if(e.frames[t])return e.frames[t];for(let n=0;n<e.frames.length;n++){const r=null;try{arguments.callee(e.frames[n],t)}catch(e){}if(null!=r)return r}return null}popupAllowFocus(){return"https:"===location.protocol||this.IsIE}getInlineLayerFrameContainer(){var e;const t=this.getFrameElement();return t?null===(e=t.contentDocument)||void 0===e?void 0:e.getElementById(this.LAYER_CONTAINER_ID):this.getElemByID(this.LAYER_CONTAINER_ID)}isLayerShadowVisible(){const e=this._getLayerShadow();return!!e&&"none"!==e.style.display}setLayerShadowVisible(e){const t=this._getLayerShadow();t&&(t.style.display=e?"":"none")}addEventHandler(obj,eventName,callbackFunction,flag){const w=window;null==w.allEvents&&(w.allEvents={});const key=`${eventName}_${obj.tagName}#${obj.id}.${obj.className}`;w.allEvents.hasOwnProperty(key)||(w.allEvents[key]=[]),w.allEvents[key].push({o:obj,n:eventName,c:callbackFunction,f:flag}),obj.addEventListener?obj.addEventListener(eventName,callbackFunction,flag):obj.attachEvent?obj.attachEvent(`on${eventName}`,callbackFunction):eval(`obj.on${eventName}=${callbackFunction}`)}removeEventHandler(obj,eventName,callbackFunction,flag){const w=window;if(w&&w.allEvents)try{if(null!=w.allEvents){const e=`${eventName}_${obj.tagName}#${obj.id}.${obj.className}`;if(w.allEvents.hasOwnProperty(e)){const t=w.allEvents[e];let n=!1;for(let e=0;e<t.length;e++){const r=t[e];if(r&&r.o===obj&&r.n===eventName&&r.c===callbackFunction&&r.f===flag){n=!0,n&&t.splice(e,1);break}}0===t.length&&delete w.allEvents[e]}}}catch(e){}obj.removeEventListener?obj.removeEventListener(eventName,callbackFunction,flag):obj.detachEvent?obj.detachEvent(`on${eventName}`,callbackFunction):eval(`obj.on${eventName}= null;`)}eventElem(e,t){return e.target?e.target:e.srcElement?e.srcElement:t}getElemByID(e){return document.getElementById(e)}createWinFeatures(e,t,n,r,o){const a=new Object;return a.height=e,a.width=t,a.top=n,a.left=r,a.toString=function(){return this.state||(this.state="resizable,scrollbars",o&&(this.state+=",location=yes,toolbar=yes"),this.height&&(this.state+=`,height=${this.height}`),this.width&&(this.state+=`,width=${this.width}`),this.left&&(this.state+=`,left=${this.left}`),this.top&&(this.state+=`,top=${this.top}`)),this.state},a}_isInPagesFolder(e){const t=e.toLowerCase();return 0===t.indexOf("pages/")||t.indexOf("/pages/")>=0}isExternalWin(e){let t=!1;try{t=null==e.document}catch(e){t=!0}return t}getPageNameFromUrl(e){const t=e.lastIndexOf("/")+1,n=e.indexOf(".",t);return-1===n?this.MAIN_FRAME_ID:e.substring(t,n)}getPageName(){const e=window.location.href;return this.getPageNameFromUrl(e)}openFrameset(e,t,n,r){if(null==e||0===e.length)return;n&&n.startsWith("_")&&(n=null);const o=this.urlRouter.getOpenFramesetRouteParams(e,this.getTopWin().location,t,r);cookie_utils_1.CookieUtils.setCookie("urlPage",o.newUrl,"/");const a=window.open(unescape(o.newLocationHref));if(a){const e=this.getFrameElement(),t={urlContent:o.newUrl,targetFrame:n||(e?e.name:null),framesetOpen:!0,needNewSession:!0};a.openOptions=t,a.isRedirect=!0,a.lastCompany=this.getTopWin().company,a.urlPage=t.urlContent,a.urlFrame=t.targetFrame,a.framesetOpen=t.framesetOpen}}getLocalStorageItem(e,t){if(void 0!==window.localStorage){const n=window.localStorage.getItem(e);return void 0!==n?n:t}return t}getAbsoluteUrl(e,t){return t||(e=(null==e?void 0:e.startsWith("~"))?e.substring(1):this.basePath.replace(/\/$/,"")+(e||"")),e||""}initialize(){this.AgentName=window.navigator.userAgent.toLowerCase(),this.Version=parseInt(window.navigator.appVersion);const e=this.AgentName;this.IsWinPhone=e.indexOf("windows phone")>=0,this.IsIPad=/macintosh.*applewebkit.*safari/gi.test(e)&&window.navigator.maxTouchPoints>1||e.indexOf("ipad")>=0,this.IsIPhone=e.indexOf("iphone")>=0,this.IsAndroid=e.indexOf("android")>=0,this.IsTablet=this.IsIPad||this.IsIPhone||this.IsAndroid||this.IsWinPhone||e.indexOf("tablet")>=0,this.IsTabletOrWin=this.IsTablet,this.IsDom="function"==typeof document.getElementById,this.IsWin=e.indexOf("windows")>=0,this.IsWin98=e.indexOf("win98")>=0||e.indexOf("windows 98")>=0,this.IsTablet&&this.IsWin&&!this.IsWinPhone&&(this.IsTablet=!1,this.IsTabletWin=this.IsTabletOrWin=!0);const t=e.indexOf("firefox");let n=0;t>=0&&(n=parseFloat(e.substr(t+8,3))),this.IsNetscape=this.IsDom&&"Netscape"===navigator.appName,this.IsFirefox=t>=0,this.IsFirefox20=this.IsFirefox&&2===n,this.IsFirefox40=this.IsFirefox&&n>=4&&n<5,this.IsFirefoxFrom40=this.IsFirefox&&n>=4,this.IsFirefoxFrom65=this.IsFirefox&&n>=65,this.IsOpera=e.indexOf("opera")>=0,this.IsIE=e.indexOf("msie")>=0&&!this.IsOpera,this.IsIE10=this.IsIE&&e.indexOf("10.0")>=0,e.indexOf("rv:11.0")>0&&(this.IsIE11=!0),this.IsIE910=this.IsIE&&(e.indexOf("9.0")>=0||this.IsIE10),this.IsIE78=this.IsIE&&!this.IsIE910&&!this.IsIE11,this.IsAnyIE=this.IsIE||this.IsIE11,this.IsSafari=e.indexOf("safari")>=0,this.IsMacSafari=this.IsSafari&&e.indexOf("chrome")<0,this.IsEdge=e.indexOf("edge")>=0,this.IsIEorEdge=this.IsEdge||this.IsAnyIE,this.IsWebKit=e.indexOf("webkit")>=0&&!this.IsEdge,Function.createDelegate=function(e,t){return function(){return t.apply(e,arguments)}}}doRedirect(e,t,n){var r,o,a,l;const d=e.settings,c=this.getAbsoluteUrl(e.url,e.isUrlExternal);if(!d.type)throw new Error("Parameter type is mandatory in redirect settings");switch(d.type){case api_types_1.RedirectType.GoTo:case api_types_1.RedirectType.Map:return this.goTo(c,d,t,e.isUrlExternal,e.targetFrame,e.queryParams);case api_types_1.RedirectType.Popup:null===(r=this.screenEventManager)||void 0===r||r.publish(new event_manager_1.OpenPopupEvent({templateViewModel:qp_inline_screen_dialog_component_1.QpInlineScreenDialogComponent},n,d.formTitle,d.repaintControls,`pnlInlineScreen${null===(o=d.inlineScreenConfig)||void 0===o?void 0:o.screenId}`,d.inlineScreenConfig));break;case api_types_1.RedirectType.ClosePopup:this.closePopup(!1);break;case api_types_1.RedirectType.OpenMessageBox:{const t={title:d.formTitle,message:e.message,buttons:d.buttons};this.alertService.openAlert(t).then((e=>{e!==qp_alert_1.QpAlertResults.Confirm&&e!==qp_alert_1.QpAlertResults.Yes&&e!==qp_alert_1.QpAlertResults.No||this.screenEventManager.publish(new event_manager_1.ExecuteCommandEvent(n,new types_1.ScreenUpdateParams({dialogCallback:{viewName:d.viewName,dialogResult:e,dialogKey:d.dialogAnswerKey}})))}),(()=>{}));break}case api_types_1.RedirectType.OpenDialog:null===(a=this.screenEventManager)||void 0===a||a.publish(new event_manager_1.OpenPopupEvent(d.viewName,n,e.message,d.repaintControls));break;case api_types_1.RedirectType.WithReport:case api_types_1.RedirectType.OpenReport:case api_types_1.RedirectType.WithUrl:case api_types_1.RedirectType.WithinContext:case api_types_1.RedirectType.OpenPayment:return this.goTo(c,d,t,e.isUrlExternal,e.targetFrame,e.queryParams);case api_types_1.RedirectType.ReloadPage:null===(l=this.screenEventManager)||void 0===l||l.publish(new event_manager_1.ReloadPageEvent);break;default:{const t=(null==c?void 0:c.indexOf("Mobile/"))>=0;(d.type===api_types_1.RedirectType.Export||(null==c?void 0:c.indexOf(".ashx"))>0&&!t&&!e.targetFrame||(null==c?void 0:c.indexOf("Export.aspx"))>0&&!e.targetFrame)&&this.export(c);break}}}getOpenerWindowOptions(){return window.openOptions}openLayerWindow(e,t){var n,r;let o,a;const l=this.getFrameElement();let d=this.layerFrame,c=this.layerContainer,u=!0;if(null==this.layerContainer&&(c=this.getInlineLayerFrameContainer(),null==c&&(c=document.createElement("div"),c.id=this.LAYER_CONTAINER_ID,c.className="layer-cont",o=document.createElement("div"),o.className="frame-shadow spinner",c.appendChild(o)),c.style.display="none",this.layerContainer=c,l&&l.setAttribute("inline_frame",c.id)),null==this.layerFrame){const e=this.LAYER_FRAME_ID;d=l?null===(n=l.contentDocument)||void 0===n?void 0:n.getElementById(e):this.getElemByID(e),null==d&&(d=document.createElement("iframe"),d.id=e,d.setAttribute("name",e),d.setAttribute("frameborder","0"),d.className="layer",c.appendChild(d)),this.layerFrame=d}null==c.parentNode&&(l&&l.parentNode?null===(r=l.parentNode)||void 0===r||r.insertBefore(c,l.nextSibling):window.theForm.appendChild(c)),a=d.contentWindow;const p=a.location;let h=!1;try{h=p.href&&p.href.indexOf(e)>=0&&a.px_cm&&a.px_cm.requiredReloadPage(!0)}catch(e){}h?(a.px_cm.clearOnLoadTasks(),a.px_cm.reloadPage(),u=!1):p.replace(this.urlRouter.resolveUrlHideScript(e,this.getTopWin()));let g=this.getTopWin();if(!this.layerStatePushed&&g)try{g.history.pushState({},window.document.title,g.location.href),this.layerStatePushed=!0}catch(e){g=void 0}return a=d.contentWindow,null==a?null:(c.style.display="",u&&(o=this._getLayerShadow(),o.style.display=""),l&&this.appendCss(l.parentNode,["layer-visible"],!0),this.isExternalWin(a)||(null==this.popStateH&&(this.popStateH=Function.createDelegate(this,this._handleWidnowPopstate)),a.popupCommand=t,a.suppressChanges=!0,a.__suppressUrlUpdate=!0),a)}_getLayerShadow(){const e=this.layerContainer?this.layerContainer:this.getInlineLayerFrameContainer();return e?e.querySelector("div.spinner"):null}_handleWidnowPopstate(){this.hideInlineLayerFrame(),this.layerStatePushed=!1}openNewWindow(e,t,n,r,o,a){let l=(this.IsFirefox?window.screenX:window.screenLeft)+50,d=(this.IsFirefox?window.screenY:window.screenTop)+50,c=null,u=700,p=1e3;if(d>=600&&(d=50),l>=1e3&&(l=50),this.isPopupWindow(e)&&!this.getFrameElement()){const t=this.getPageNameFromUrl(e);p=Math.max(parseInt(this.getLocalStorageItem(`${t}_iwidth`,p),10),300),u=Math.max(parseInt(this.getLocalStorageItem(`${t}_iheight`,u),10),200)}const h=!this._isInPagesFolder(e),g=this.createWinFeatures(u,p,d,l,h),m=this;if("_inline"===t&&(r=!0),r)return e=this.urlRouter.resolveUrlPageTitle(e),document.location.href=this.urlRouter.resolveUrlHideScript(e,this.getTopWin()),null;if(e=this.urlRouter.resolveSameWindowUrl(e,this.getTopWin().location,!0,o,a),c=window.open(e,t,g.toString()),null==c)return null;if(c.isRedirect=!0,this.isExternalWin(c))return{window:c};try{c.focus()}catch(e){}null==this.popupUnloadH&&(this.popupUnloadH=Function.createDelegate(this,this._handlePopupUnload)),(this.IsAnyIE||this.IsEdge)&&this.addEventHandler(c,"unload",this.popupUnloadH),c.popupCommand=n,c.allowAutoHide=!0;const f=new Promise((e=>{c.resolveClose=e}));return this.addEventHandler(c,"load",(function(){m.removeEventHandler(c,"unload",m.popupUnloadH),m.addEventHandler(c,"unload",m.popupUnloadH),c.popupCommand=n,c.allowAutoHide=!0})),{window:c,close$:f}}_handlePopupUnload(e){var t,n;let r=this.eventElem(e);if(null===(t=e.currentTarget)||void 0===t?void 0:t.resolveClose){const t=(null===(n=r.defaultView)||void 0===n?void 0:n.savePerformed)?r.defaultView.keyFields:void 0;e.currentTarget.resolveClose(t)}r&&r.defaultView&&(r=r.defaultView),r&&this.removeEventHandler(r,"unload",this.popupUnloadH)}};RedirectHelper=tslib_1.__decorate([tslib_1.__param(0,(0,dependency_property_injection_1.optional)(types_1.BASE_PATH)),tslib_1.__param(1,(0,aurelia_framework_1.inject)(session_url_router_1.SessionUrlRouter)),tslib_1.__param(2,(0,aurelia_framework_1.inject)(session_url_serializer_1.SessionUrlSerializer)),tslib_1.__param(3,(0,aurelia_framework_1.inject)(event_manager_1.QpEventManager)),tslib_1.__param(4,(0,aurelia_framework_1.inject)(alert_service_1.AlertService)),tslib_1.__metadata("design:paramtypes",[String,Object,session_url_serializer_1.SessionUrlSerializer,event_manager_1.QpEventManager,alert_service_1.AlertService])],RedirectHelper),exports.RedirectHelper=RedirectHelper}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"./node_modules/client-controls/descriptors/reflection-metadata.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PXReflectionMetadata=void 0;t.PXReflectionMetadata=class PXReflectionMetadata{static setMetadata(e,t,n,r){e&&(e.__pxmetadata__||(e.__pxmetadata__={}),void 0!==r&&t&&"string"==typeof n?(e.__pxmetadata__[t]||(e.__pxmetadata__[t]={}),e.__pxmetadata__[t][n]=r):t&&(e.__pxmetadata__[t]=n))}static getMetadataKeys(e,t){if(e&&e.__pxmetadata__){if(t){if(!e.__pxmetadata__[t])return;return Object.getOwnPropertyNames(e.__pxmetadata__[t])}return Object.getOwnPropertyNames(e.__pxmetadata__)}}static getMetadata(e,t,n){if(e&&e.__pxmetadata__&&e.__pxmetadata__[t])return n?e.__pxmetadata__[t][n]:e.__pxmetadata__[t]}static copyMetadata(e,t){e&&t&&e.__pxmetadata__&&(t.__pxmetadata__||(t.__pxmetadata__={}),Object.assign(t.__pxmetadata__,e.__pxmetadata__))}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/descriptors/session-url-router.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/services/session-url-serializer.js"),n("./node_modules/client-controls/descriptors/api-types.js"),n("./node_modules/client-controls/services/cookie-utils.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionUrlRouter=void 0;let d=class SessionUrlRouter{constructor(e){this.urlSerializer=e}resolvePopupPanelMode(e){const t=this.urlSerializer.parseQueryParams(e.search);if(t.PopupPanel)return Object.values(a.PopupPanelMode).includes(t.PopupPanel)?t.PopupPanel:void 0}resolveSameWindowUrl(e,t,n,r,o){if(r)return e;const a=this.urlSerializer.parseLocation(t);if(a.sessionNumber||n){let t;t=n?a.sessionNumber?1e4+a.sessionNumber:1e4:a.sessionNumber,t>0&&(e=this.getSessionUrlByParams(this.urlSerializer.parseUrl(e,a.sitename),a,t,o))}else o&&(e=this.getSessionUrlByParams(this.urlSerializer.parseUrl(e,a.sitename),a,0,o));return e}resolveBlankWindowUrl(e,t,n,r,o){const a=decodeURI(e);if(n)return a;const l=this.urlSerializer.parseLocation(t),d=!0!==r?(this.getSessionNumberFromCookie()||l.sessionNumber)+1:l.sessionNumber;return this.getSessionUrlByParams(this.urlSerializer.parseUrl(e,l.sitename),l,d,o)}resolveUrlHideScript(e,t,n){if(e.indexOf("CstMode")>0||""===e||n)return e;if(t.hideScript&&e.toLowerCase().indexOf("hidescript")<0){const t=e.split("#");t[0]+=(t[0].indexOf("?")>0?"&":"?")+"HideScript=On",e=t.join("#")}return e}resolveUrlPageTitle(e){return e=this.copyUrlParameter(e,"HidePageTitle"),this.copyUrlParameter(e,"hidePageTitle")}getOpenFramesetRouteParams(e,t,n,r){let o=!1;t.href;let a=0;const l={newLocationHref:"",newUrl:e},d=this.urlSerializer.parseLocation(t),c=this.urlSerializer.parseUrl(e,d.sitename);-1===t.href.indexOf("/(S(")&&(a=d.sessionNumber?d.sessionNumber:this.getSessionNumberFromCookie()||0,o=!0);let u=e;if(!n)if(e.startsWith("/"))u=this.getSessionUrlByParams(c,d,a,r);else if(!e.startsWith("about:")){const t=o?this.getSessionUrlByParams(c,d,a,r):window.location.href;u=t.substring(0,t.lastIndexOf("/")+1)+e}return d.queryParams={},l.newUrl=u,l.newLocationHref=this.urlSerializer.serializeUrl(d),l}getSessionUrlByParams(e,t,n,r){if(r&&(e.queryParams=Object.assign(Object.assign({},e.queryParams),r)),null==e?void 0:e.sessionNumber)return e.sessionNumber=n,this.urlSerializer.serializeUrl(e);if(t.isRoot&&"https"===e.protocol){const o=this.urlSerializer.getDefaultUrlParams();return o.protocol=t.protocol,o.hostname=t.hostname,o.sessionNumber=n,o.sitename=e.sitename,o.pathname=e.pathname,o.queryParams=Object.assign(Object.assign({},e.queryParams),r||{}),this.urlSerializer.serializeUrl(o)}return e.sessionNumber=n,this.urlSerializer.serializeUrl(e)}getSessionNumberFromCookie(){return(l.CookieUtils.getLastWinCookie()||0)+1}copyUrlParameter(e,t){let n=unescape(document.location.href);const r=`${t}=`;if(n.indexOf(t)>0&&e.indexOf(r)<0){n=n.substring(n.indexOf(r)+r.length);const t=n.indexOf("&"),o=t>-1?n.substring(0,t):n;return e+(e.indexOf("?")>0?"&":"?")+r+o}return e}};d=n.__decorate([(0,r.autoinject)(),n.__metadata("design:paramtypes",[o.SessionUrlSerializer])],d),t.SessionUrlRouter=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/descriptors/types.js":(e,t,n)=>{var r;r=function(e,t){"use strict";var n,r,o,a;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HTTP_CONFIGURATION=t.BASE_PATH=t.ApiCientEvents=t.ViewMode=t.ScreenUpdateParams=t.PXPageLoadBehavior=t.PXActionState=t.PXSpecialButtonType=t.PXConfirmationType=t.ActionConnotation=t.PXTranslation=t.ScrollMode=t.getDialogResultCode=t.WebDialogResult=t.NetType=t.CurrencyViewMode=void 0,function(e){e.Current="current",e.Base="base"}(t.CurrencyViewMode||(t.CurrencyViewMode={})),function(e){e[e.Empty=0]="Empty",e[e.Object=1]="Object",e[e.DBNull=2]="DBNull",e[e.Boolean=3]="Boolean",e[e.Char=4]="Char",e[e.SByte=5]="SByte",e[e.Byte=6]="Byte",e[e.Int16=7]="Int16",e[e.UInt16=8]="UInt16",e[e.Int32=9]="Int32",e[e.UInt32=10]="UInt32",e[e.Int64=11]="Int64",e[e.UInt64=12]="UInt64",e[e.Single=13]="Single",e[e.Double=14]="Double",e[e.Decimal=15]="Decimal",e[e.DateTime=16]="DateTime",e[e.String=18]="String"}(t.NetType||(t.NetType={})),function(e){e[e.None=0]="None",e[e.OK=1]="OK",e[e.Cancel=2]="Cancel",e[e.Abort=3]="Abort",e[e.Retry=4]="Retry",e[e.Ignore=5]="Ignore",e[e.Yes=6]="Yes",e[e.No=7]="No"}(n=t.WebDialogResult||(t.WebDialogResult={})),t.getDialogResultCode=function getDialogResultCode(e){if(void 0===e||"number"==typeof e)return e;const t=parseInt(e);return isNaN(t)?n[e]:t},function(e){e[e.Both=0]="Both",e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal"}(t.ScrollMode||(t.ScrollMode={}));t.PXTranslation=class PXTranslation{},function(e){e[e.None=0]="None",e[e.Primary=1]="Primary",e[e.Secondary=2]="Secondary",e[e.Success=3]="Success",e[e.Danger=4]="Danger",e[e.Warning=5]="Warning",e[e.Info=6]="Info",e[e.Light=7]="Light",e[e.Dark=8]="Dark"}(r=t.ActionConnotation||(t.ActionConnotation={})),function(e){e[e.Always=0]="Always",e[e.IfDirty=1]="IfDirty",e[e.Unspecified=2]="Unspecified"}(o=t.PXConfirmationType||(t.PXConfirmationType={})),function(e){e[e.Default=0]="Default",e[e.Save=1]="Save",e[e.SaveNotClose=2]="SaveNotClose",e[e.Cancel=3]="Cancel",e[e.Refresh=4]="Refresh",e[e.CopyPaste=5]="CopyPaste",e[e.Report=6]="Report",e[e.First=7]="First",e[e.Next=8]="Next",e[e.Prev=9]="Prev",e[e.Last=10]="Last",e[e.Insert=11]="Insert",e[e.Delete=12]="Delete",e[e.Approve=13]="Approve",e[e.ApproveAll=14]="ApproveAll",e[e.Process=15]="Process",e[e.ProcessAll=16]="ProcessAll",e[e.Schedule=17]="Schedule",e[e.EditDetail=18]="EditDetail",e[e.ActionsFolder=19]="ActionsFolder",e[e.InquiriesFolder=20]="InquiriesFolder",e[e.ReportsFolder=21]="ReportsFolder",e[e.ToolbarFolder=22]="ToolbarFolder",e[e.SidePanelFolder=23]="SidePanelFolder",e[e.ApiCallback=24]="ApiCallback"}(a=t.PXSpecialButtonType||(t.PXSpecialButtonType={}));t.PXActionState=class PXActionState{constructor(e,t){this.screenViewModel=e,this.enabled=!0,this.visible=!0,this.commitChanges=!0,this.connotation=r.None,this.pressed=!1,this.closePopup=!1,this.confirmationMessage=void 0,this.confirmationType=o.IfDirty,this.popupVisible=!0,this.shortcutCtrl=!1,this.shortcutShift=!1,this.specialType=a.Default,this.onClosingPopup=a.Default,this.isLockedOnToolbar=!1,this.visibleOnProcessingResults=!1,this.automationDisabled=!1,this.automationHidden=!1,this.isMass=!1,this.menuAutoOpen=!1,this.clearAnswerAfterPress=!0,this.workflowHiddenOnMainToolbar=!1,this.bindToScreenName=void 0,this.commandName=t||""}press(){this.commandName&&this.screenViewModel.getScreenService().executeCommand(this.commandName,new ScreenUpdateParams({commitChanges:this.commitChanges}))}},function(e){e[e.InsertRecord=0]="InsertRecord",e[e.SearchSavedKeys=1]="SearchSavedKeys",e[e.PopulateSavedValues=2]="PopulateSavedValues",e[e.GoFirstRecord=3]="GoFirstRecord",e[e.GoLastRecord=4]="GoLastRecord"}(t.PXPageLoadBehavior||(t.PXPageLoadBehavior={}));class ScreenUpdateParams{constructor(e,t){this.commitChanges=!0,this.blockPage=!0,this.container=t,e&&(void 0!==e.commitChanges&&(this.commitChanges=e.commitChanges),void 0!==e.blockPage&&(this.blockPage=e.blockPage),this.views=e.views,this.dialogCallback=e.dialogCallback,this.requestOwner=e.requestOwner,this.openFrameset=e.openFrameset)}}t.ScreenUpdateParams=ScreenUpdateParams,function(e){e.View="view",e.Edit="edit"}(t.ViewMode||(t.ViewMode={}));class ApiCientEvents{}t.ApiCientEvents=ApiCientEvents,ApiCientEvents.ErrorRaisedEvent="ApiClientErrorRaisedEvent",ApiCientEvents.FetchRunningEvent="FetchRunning",t.BASE_PATH=Symbol("BASE_PATH"),t.DEFAULT_HTTP_CONFIGURATION=Symbol("DEFAULT_HTTP_CONFIGURATION")}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/descriptors/view-collection.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/descriptors/base-view-model.js"),n("./node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),n("./node_modules/client-controls/descriptors/reflection-metadata.js"),n("./node_modules/client-controls/descriptors/customization-types.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PXViewCollection=void 0;class RowSubscriber{constructor(){this.subscriptions=[],this.handlers={}}addSubscription(e,t){this.handlers[e]=t}subscribeToRow(e){if(this.dispose(),e){const t=r.Container.instance.get(a.BindingEngine);for(const n in this.handlers)e.hasOwnProperty(n)&&this.subscriptions.push(t.propertyObserver(e[n],"value").subscribe(this.handlers[n]))}}dispose(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}}class CssCustomizableCOllection extends o.CssCustomizable{getCustomCellCss(e,t,n){let r;const o=this.handlers[d.CustomEventType.GetCellCss];if(o){for(const a of o){if(!a)continue;const o=a.props;if((null==o?void 0:o.column)!==t)continue;const l=a.handler({viewModel:e,selector:n,screenModel:this.screenModel},a.children);l&&(r=r?`${r} ${l}`:l)}return r}}}class PXViewCollection{constructor(e,t){this.config=t,this.activeRowSubscriber=new RowSubscriber,this.activeRowChanged=!1,this.cssCustomization=new CssCustomizableCOllection,this.viewInUpdateProcess=!1,this.rowSelectedHandlers=[],this.initialized=!1,this.rowsChanged=0,e&&"function"==typeof e&&(this.typeConstructor=e,this.instance=this.createInstance())}isCollection(){return!0}get records(){if(this.rows){for(let e=0;e<this.rows.length;e++)this.getRowModel(e);return new Array(...this.rows)}return this.rows}get fieldNames(){return this.instance.fieldNames}fireRowsChanged(){this.rowsChanged++}getField(e){var t,n;return this.initialized&&null!==(n=null===(t=this.activeRow)||void 0===t?void 0:t.getField(e))&&void 0!==n?n:this.instance.getField(e)}setField(e,t){this.initialized||this.instance.setField(e,t)}setFields(e,t={}){!this.initialized&&e&&e.length>0&&(this.instance.setFields(e,t),this.initialized=!0)}subscribeValueChanged(e,t,n){return this.activeRowSubscriber.addSubscription(t,((t,r)=>{const a=e.getScreenService();(null==a?void 0:a.updatesSuspended())||(0,o.executeHandler)(e,n,{screenModel:e,viewModel:this,newValue:t,oldValue:r})})),this.activeRowSubscriber.subscribeToRow(this.activeRow),this.activeRowSubscriber}subscribeRowSelected(e,t){this.rowSelectedHandlers.push((()=>{(0,o.executeHandler)(e,t,{screenModel:e,viewModel:this})}))}createInstance(){return this.typeConstructor()}get instanceType(){return this.instance?Object.getPrototypeOf(this.instance).constructor:void 0}setActiveRow(e){return this.activeRow="number"==typeof e?this.getRowModel(e):void 0,this.activeRowSubscriber.subscribeToRow(this.activeRow),this.publishRowSelectedEvent(),this.activeRow}publishRowSelectedEvent(){var e;null===(e=this.rowSelectedHandlers)||void 0===e||e.forEach((e=>e(this)))}setRows(e,t){var n;this.rows=new Array(e.length),null===(n=this.sceenService)||void 0===n||n.clearObservers(this.name),this.fireRowsChanged(),this.rowsData=e,t&&(this.columns=t)}getRowModel(e){var t;if(this.rowsData&&!(e>=this.rowsData.length)){if(!this.rows[e]){const n=this.rows[e]=this.createRow(this.rowsData[e],this.columns);null===(t=this.sceenService)||void 0===t||t.attachValueObserversForView(this.columns.filter((e=>e.field)).map((e=>e.field)),n,this.name)}return this.rows[e]}}getMetadataKeys(e){return l.PXReflectionMetadata.getMetadataKeys(this.instance,e)}getMetadata(e,t){return l.PXReflectionMetadata.getMetadata(this.instance,e,t)}registerScreenService(e){this.sceenService=e}createRow(e,t){const n={};null==t||t.forEach((e=>n[e.field]=e.state));const r=this.createInstance();r.id=e.id;const o=Object.keys(e.cells).reduce(((t,n)=>(t.push({fieldName:n,fieldState:e.cells[n]}),t)),new Array);return r.setFields(o,n),r.setParentModel(this),r}}n.__decorate([(0,a.computedFrom)("rowsChanged","rows","rowsData"),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[])],PXViewCollection.prototype,"records",null),t.PXViewCollection=PXViewCollection}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/plugins/bank-feed/qp-mx":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpMxCustomElement=void 0;let a=class QpMxCustomElement{constructor(e){this.element=e}attached(){this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||"{}"),this.ds=r.PLATFORM.global.px_cm.findDataSource();const e=this.options,t=this.ds,n=this.element;(0,o.loadScript)("https://atrium.mx.com/connect.js",(()=>{new MXConnect({id:"mx-form-wrapper",iframeTitle:"Connect",onEvent:function onEvent(r,o){if("mx/connect/memberConnected"===r&&(this.memberData={user_guid:o.user_guid,member_guid:o.member_guid}),"mx/connect/stepChange"===r&&"connected"===o.previous)if(n.parentElement.removeChild(n),"Connect"===e.Mode){const e=JSON.stringify(this.memberData);t.executeCommand("SyncConnectFeed",e)}else{const e=JSON.stringify({updated:!1,error_reason:"Bank feed has been already connected."});t.executeCommand("SyncUpdateFeed",e)}if("mx/connect/updateCredentials"===r){n.parentElement.removeChild(n);const e=JSON.stringify({updated:!0});t.executeCommand("SyncUpdateFeed",e)}},config:{ui_message_version:4},targetOrigin:"*"}).load(e.Url)}))}cancelAndCloseForm(){this.element.parentElement.removeChild(this.element),"Connect"===this.options.Mode?this.ds.executeCommand("SyncConnectFeed",null):this.ds.executeCommand("SyncUpdateFeed",null)}};a=n.__decorate([(0,r.customElement)("qp-mx"),r.autoinject,n.__metadata("design:paramtypes",[Element])],a),t.QpMxCustomElement=a}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/plugins/bank-feed/qp-plaid.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpPlaidCustomElement=void 0;let a=class QpPlaidCustomElement{constructor(e){this.element=e}attached(){this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||"{}");const e=this.options,t=r.PLATFORM.global.px_cm.findDataSource();(0,o.loadScript)("https://cdn.plaid.com/link/v2/stable/link-initialize.js",(()=>{Plaid.create({token:e.Token,onSuccess:function onSuccess(n,r){const o={public_token:n,metadata:r};if("Update"===e.Mode){const e=JSON.stringify({updated:!0});t.executeCommand("SyncUpdateFeed",e)}else{const e=JSON.stringify(o);t.executeCommand("SyncConnectFeed",e)}},onExit:function onExit(n,r){if("Update"===e.Mode)if(null!==n){const e={updated:!1,error_reason:n.error_code},r=JSON.stringify(e);t.executeCommand("SyncUpdateFeed",r)}else t.executeCommand("SyncUpdateFeed",null);else t.executeCommand("SyncConnectFeed",null)},receivedRedirectUri:null}).open()}))}};a=n.__decorate([(0,r.customElement)("qp-plaid"),r.autoinject,r.noView,n.__metadata("design:paramtypes",[Element])],a),t.QpPlaidCustomElement=a}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/plugins/css-theme/css-theme.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCssVariables=void 0,t.updateCssVariables=function updateCssVariables(e){return n.__awaiter(this,void 0,void 0,(function*(){return e.fetch("frameset/cssvariables").then((e=>e.json())).then((e=>{const t=document.createElement("style");t.innerHTML=`:root {${e.variables}}`,document.head.appendChild(t)}))}))}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/plugins/dependency-property-injection/index":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/dependency-property-injection/index.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function configure(e){const t=e&&e.injectConstructor?n.PropertyConstructorInvocationHandler:n.PropertyInvocationHandler;e.container.setHandlerCreatedCallback((e=>e.fn.injectProperties?new t(e.fn,e.invoker,e.dependencies):e))}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/plugins/enhance-n-watch/index":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/plugins/enhance-n-watch/mutation-enhancer.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function configure(e){e.aurelia.enhanceAndWatch=function(t,o){return n.__awaiter(this,void 0,void 0,(function*(){return e.aurelia.__me=new r.MutationEnhancer(e.aurelia,t),e.aurelia.__me.watch(o),this.enhance(t,o)}))},e.aurelia.stopWatch=function(){return n.__awaiter(this,void 0,void 0,(function*(){e.aurelia.__me instanceof r.MutationEnhancer&&e.aurelia.__me.unwatch()}))}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/plugins/enhance-n-watch/mutation-enhancer.js":(e,t,n)=>{var r,o;r=[n,t,n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MutationEnhancer=void 0;const o=(0,r.getLogger)("enhance-watch");t.MutationEnhancer=class MutationEnhancer{constructor(e,t){this.au=e,this.bindingContext=t,this.enhanceSelector="",this.container=e.container,this.engine=e.container.get(n.TemplatingEngine)}watch(e){this.enhanceSelector=Object.keys(this.au.resources.elements).filter((e=>-1===["compose","router-view"].indexOf(e))).map((e=>e.toLowerCase())).join(","),this.observer=new MutationObserver((e=>{this.onMutationcallback(e)})),this.observer.observe(n.PLATFORM.global.document,{childList:!0,subtree:!0})}unwatch(){this.observer&&this.observer.disconnect()}onMutationcallback(e){var t,n;for(const r of e)if("childList"===r.type){for(let e=0;e<r.addedNodes.length;e++){const t=r.addedNodes[e];if(t.nodeType!==Node.ELEMENT_NODE)continue;let n;n=this.au.resources.getElement(t.nodeName.toLowerCase())?[t]:t.querySelectorAll(this.enhanceSelector);for(let e=0;e<n.length;e++){const t=n[e];t.getAttribute("au-target-id")?t.au.controller.attached():this.engine.enhance({element:t,container:this.container,resources:this.au.resources,bindingContext:this.bindingContext})}}for(let e=0;e<r.removedNodes.length;e++){const a=r.removedNodes[e];if(a.nodeType!==Node.ELEMENT_NODE)continue;let l;l=this.au.resources.getElement(a.nodeName.toLowerCase())?[a]:a.querySelectorAll(this.enhanceSelector);for(let e=0;e<l.length;e++){const r=l[e];r.au||o.warn("no au-target-id on removed node",r),r.getAttribute("au-target-id")&&(null===(n=null===(t=r.au)||void 0===t?void 0:t.controller)||void 0===n||n.detached())}}}}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/plugins/glue/glue-to-custom-attribute.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/descriptors/index.js")],o=function(e,t,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlueToCustomAttribute=void 0;(0,o.getLogger)("glue-to-attribute");let c=class GlueToCustomAttribute{constructor(e,t){this.ea=t,this.element=e}bind(){}targetChanged(e,t){this.unsubscribeListeners(),this.glueAndObserve()}unsubscribeListeners(){this.repositionSubscription&&(this.repositionSubscription.dispose(),this.repositionSubscription=void 0),this.coordinateSystemSubscription&&(this.coordinateSystemSubscription.dispose(),this.coordinateSystemSubscription=void 0)}glueAndObserve(){this.target&&(this.coordinateSystemSubscription=this.ea.subscribe(d.COORDINATE_SYSTEM_CHANGED_EVENT_NAME,(e=>{this.glueNow(e)})),this.repositionSubscription=this.ea.subscribe(`repositioned:${this.target.id}`,(()=>{this.moveIfNecessary()})),this.glueNow())}attached(){this.glueAndObserve()}detached(){this.unsubscribeListeners()}moveIfNecessary(){if(!this.target)return;const e=this.target.getBoundingClientRect(),t=this.element.getBoundingClientRect();t.top===e.bottom&&t.left<=e.left&&t.right>=e.right||this.glueNow()}glueNow(e){var t,n,r,o,l,d,c,u,p;if(!this.target)return;const h=this.element;if(("wheel"===(null==e?void 0:e.type)||"scroll"===(null==e?void 0:e.type))&&e.target===h)return;const g=h.style;g.position="fixed",g.removeProperty("transform"),g.removeProperty("left"),g.removeProperty("top"),g.removeProperty("bottom"),g.removeProperty("height");const m=this.target.getBoundingClientRect();let f=m.width||m.right-m.left;(null===(t=this.options)||void 0===t?void 0:t.ignoreTargetWidth)?g.minWidth="auto":g.minWidth=`${f}px`;const v=h.getBoundingClientRect(),b=window.getComputedStyle(h),y=g.width||b.maxWidth,_=g.height||b.maxHeight,x=y&&parseInt(y)||v.width,C=_&&parseInt(_)||v.height,S=m.top,E=a.PLATFORM.global.innerHeight-m.bottom;let k,T,M,q=!(E>C||S<C);(null===(n=this.options)||void 0===n?void 0:n.stretch)&&(q=S>E);const I=a.PLATFORM.global.document.documentElement.getBoundingClientRect(),A=m.left+Math.min(x,v.width)>I.width;if(A){const e=Math.max(m.right,I.right);f=Math.min(x,v.width),g.minWidth=`${f}px`,T=e}else T=(null===(r=this.options)||void 0===r?void 0:r.centerToTarget)||m.width<30?Math.max(10,m.left+m.width/2-v.width/2):m.right<0?m.left:Math.max(10,m.left);let O=0;q?(k=m.top,M=A?"translate(-100%,-100%)":(null===(o=this.options)||void 0===o?void 0:o.verticalDistanceFromTargetPX)?`translateY(calc(-100% - ${null===(l=this.options)||void 0===l?void 0:l.verticalDistanceFromTargetPX}px))`:"translateY(-100%)",O=k):(k=m.bottom,M=A?"translateX(-100%)":(null===(d=this.options)||void 0===d?void 0:d.verticalDistanceFromTargetPX)?`translateY(${null===(c=this.options)||void 0===c?void 0:c.verticalDistanceFromTargetPX}px)`:"",O=I.bottom-k);const P=function getContainingBlockOffset(e){const t={top:0,left:0};if(!e)return t;const n=e.ownerDocument;let r=e.parentElement;for(;r&&r!==n.body&&r!==n.documentElement;){if(isContainingBlock(r))return r.getBoundingClientRect();r=r.parentElement}return t}(h);T-=P.left,k-=P.top,h.classList.toggle("glue-to-above",q);let D=NaN;(null===(u=this.options)||void 0===u?void 0:u.stretch)&&v.height>O?q?(k=10,M="none"):(k=NaN,D=10):((null===(p=this.options)||void 0===p?void 0:p.stretch)||v.height>O)&&(g.height=O-10+"px"),g.left=`${T}px`,Number.isNaN(k)||(g.top=`${k}px`),Number.isNaN(D)||(g.bottom=`${D}px`),g.transform=M,h.dispatchEvent(new CustomEvent("glued",{bubbles:!0}))}};function isContainingBlock(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;const t=a.PLATFORM.global.getComputedStyle(e);return t.containerType&&"normal"!==t.containerType||t.perspective&&"none"!==t.perspective||t.transform&&"none"!==t.transform||t.backdropFilter&&"none"!==t.backdropFilter||-1!==(t.willChange||"").indexOf("transform")||t.filter&&"none"!==t.filter||t.contain&&-1!==["layout","paint","strict","content"].indexOf(t.contain)}n.__decorate([(0,r.bindable)({primaryProperty:!0}),n.__metadata("design:type",Object)],c.prototype,"target",void 0),n.__decorate([r.bindable,n.__metadata("design:type",Object)],c.prototype,"options",void 0),c=n.__decorate([(0,r.customAttribute)("glue-to"),n.__metadata("design:paramtypes",[Element,l.EventAggregator])],c),t.GlueToCustomAttribute=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/plugins/glue/index":(e,t,n)=>{var r,o;r=[n,t,n("aurelia-framework"),n("./node_modules/client-controls/plugins/glue/glue-to-custom-attribute.js"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/descriptors/index.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function configure(e){e.globalResources([r.GlueToCustomAttribute]);const t=e.container.get(o.EventAggregator);function notifyAbsolutePositionsAreScrewed(e){t.publish(a.COORDINATE_SYSTEM_CHANGED_EVENT_NAME,e)}e.postTask((()=>{n.PLATFORM.global.document.addEventListener("scroll",(e=>{notifyAbsolutePositionsAreScrewed(e)}),{capture:!0,passive:!0}),n.PLATFORM.global.addEventListener("resize",(e=>{notifyAbsolutePositionsAreScrewed(e)}),{passive:!0})}))}}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/plugins/happeded-on-body/index":(e,t,n)=>{var r,o;r=[n,t,n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/client-controls/descriptors/index.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function configure(e){const t=e.container.get(r.EventAggregator);e.postTask((()=>{n.PLATFORM.global.document.addEventListener("mousedown",(e=>{!function notifyMouseDownReachedBody(e){t.publish(o.MOUSE_DOWN_REACHED_BODY,e)}(e)}))})),e.postTask((()=>{n.PLATFORM.global.addEventListener("resize",(()=>{!function notifyResizeWindow(){const e={delay:250,timeoutId:void 0};e.timeoutId&&clearTimeout(e.timeoutId);e.timeoutId=setTimeout((()=>{t.publish(o.RESIZE_WINDOW)}),e.delay)}()}))})),e.postTask((()=>{n.PLATFORM.global.document.addEventListener("drop",(e=>{!function notifyDropOnBody(e){t.publish(o.DROP_ON_BODY,e)}(e)}))}))}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/plugins/index.js":(e,t,n)=>{var r,o;r=[n,t,n("client-controls/plugins/payment/qp-authorize-net"),n("client-controls/plugins/payment/qp-stripe"),n("client-controls/plugins/payment/qp-authorize-net-hosted-form"),n("client-controls/plugins/payment/qp-fortis"),n("./node_modules/client-controls/plugins/bank-feed/qp-plaid.js"),n("client-controls/plugins/bank-feed/qp-mx"),n("client-controls/plugins/glue/index"),n("client-controls/plugins/enhance-n-watch/index"),n("client-controls/plugins/happeded-on-body/index"),n("client-controls/plugins/dependency-property-injection/index"),n("./node_modules/client-controls/plugins/css-theme/css-theme.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCssVariables=t.configurePropertyInjection=t.configureHappenedOnBody=t.configureEnchanceAndWatch=t.configureGlue=t.QpMxCustomElement=t.QpPlaidCustomElement=t.QpFortisCustomElement=t.QpAuthorizeNetHostedFormCustomElement=t.QpStripeCustomElement=t.QpAuthorizeNetCustomElement=void 0,Object.defineProperty(t,"QpAuthorizeNetCustomElement",{enumerable:!0,get:function(){return n.QpAuthorizeNetCustomElement}}),Object.defineProperty(t,"QpStripeCustomElement",{enumerable:!0,get:function(){return r.QpStripeCustomElement}}),Object.defineProperty(t,"QpAuthorizeNetHostedFormCustomElement",{enumerable:!0,get:function(){return o.QpAuthorizeNetHostedFormCustomElement}}),Object.defineProperty(t,"QpFortisCustomElement",{enumerable:!0,get:function(){return a.QpFortisCustomElement}}),Object.defineProperty(t,"QpPlaidCustomElement",{enumerable:!0,get:function(){return l.QpPlaidCustomElement}}),Object.defineProperty(t,"QpMxCustomElement",{enumerable:!0,get:function(){return d.QpMxCustomElement}}),Object.defineProperty(t,"configureGlue",{enumerable:!0,get:function(){return c.configure}}),Object.defineProperty(t,"configureEnchanceAndWatch",{enumerable:!0,get:function(){return u.configure}}),Object.defineProperty(t,"configureHappenedOnBody",{enumerable:!0,get:function(){return p.configure}}),Object.defineProperty(t,"configurePropertyInjection",{enumerable:!0,get:function(){return h.configure}}),Object.defineProperty(t,"updateCssVariables",{enumerable:!0,get:function(){return g.updateCssVariables}})}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/plugins/payment/qp-authorize-net-hosted-form":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("aurelia-framework"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpAuthorizeNetHostedFormCustomElement=t.configure=void 0,t.configure=function configure(e){e.globalResources([l])};let l=class QpAuthorizeNetHostedFormCustomElement{constructor(e){this.element=e}attached(){this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||"");const e=document.getElementById("acceptButton");switch(e.setAttribute("data-apiLoginID",this.options.apiLoginID),e.setAttribute("data-clientKey",this.options.clientKey),this.options.type){case"AcceptUI_SANDBOX":(0,a.loadScript)("https://jstest.authorize.net/v3/AcceptUI.js",(()=>{e.click()}));break;case"AcceptUI_PRODUCTION":(0,a.loadScript)("https://js.authorize.net/v3/AcceptUI.js",(()=>{e.click()}))}r.PLATFORM.global.responseHandler=function(e){if("Error"===e.messages.resultCode){let t=0;for(;t<e.messages.message.length;)console.log(`${e.messages.message[t].code}:${e.messages.message[t].text}`),t+=1}else{r.PLATFORM.global.px_cm.findDataSource().executeCommand("SyncPaymentTransaction",e.opaqueData.dataValue)}}}};l=n.__decorate([(0,o.customElement)("qp-authorize-net-hosted-form"),n.__metadata("design:paramtypes",[Element])],l),t.QpAuthorizeNetHostedFormCustomElement=l}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/plugins/payment/qp-authorize-net":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpAuthorizeNetCustomElement=void 0;let a=class QpAuthorizeNetCustomElement{constructor(e){this.element=e,this.cardData={cardNumber:"",month:"",year:"",cardCode:""},this.authData={clientKey:"",apiLoginID:""},this.secureData={authData:this.authData,cardData:this.cardData}}attached(){this.initPopup()}initPopup(){switch(this.options=JSON.parse(this.element.getAttribute("options")||""),this.authData.clientKey=this.options.clientKey,this.authData.apiLoginID=this.options.apiLoginID,this.options.type){case"Accept_SANDBOX":(0,o.loadScript)("https://jstest.authorize.net/v1/Accept.js",this.initHostedForm.bind(this));break;case"Accept_PRODUCTION":(0,o.loadScript)("https://js.authorize.net/v1/Accept.js",this.initHostedForm.bind(this))}}closePaymentForm(){this.cardData.cardNumber="",this.cardData.month="",this.cardData.year="",this.cardData.cardCode="",this.element.style.display="none"}initHostedForm(){this.element.style.display="block"}sendPaymentDataToAnet(){Accept.dispatchData(this.secureData,(e=>{if("Error"===e.messages.resultCode){let t=0;for(;t<e.messages.message.length;)console.log(`${e.messages.message[t].code}:${e.messages.message[t].text}`),t+=1}else{r.PLATFORM.global.px_cm.findDataSource().executeCommand("SyncPaymentTransaction",e.opaqueData.dataValue),this.closePaymentForm()}}))}};a=n.__decorate([(0,r.customElement)("qp-authorize-net"),r.autoinject,n.__metadata("design:paramtypes",[Element])],a),t.QpAuthorizeNetCustomElement=a}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/plugins/payment/qp-fortis":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/localization.js"),n("aurelia-framework"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFortisCustomElement=void 0;const d=(0,l.getLogger)("qp-fortis");let c=class QpFortisCustomElement{constructor(e,t){this.element=e,this.http=t,this.shiftX=0,this.shiftY=0,this.isMobile=!1,this.title="",this.receiveMessageListener=e=>this.receiveMessage(e),this._bindMouseMove=e=>this.onMouseMove(e),this._bindRemoveMouseListeners=()=>this.removeMouseListeners(),this.localizedStrings=r.LOCALIZED_STRINGS.payment}attached(){this.isMobile=!this.getDataSource(),this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||"");const e=this.options.Url.replace(/&amp;/g,"&"),t=this.options.Mode,n=this.options.PaymentMethod,r=document.getElementById("payment-form-fortis"),o=document.createElement("iframe");o.setAttribute("src",e),o.style.background="#f5f7f8","payment"===t?"cc"===n?(this.title=this.localizedStrings.TitlePay,o.setAttribute("class","payformccsize")):"ach"===n&&(this.title=this.localizedStrings.TitlePayEFT,o.setAttribute("class","payformachsize")):"newProfile"===t&&("cc"===n?(this.title=this.localizedStrings.TitleCreateProfile,o.setAttribute("class","accountformccsize")):"ach"===n&&(this.title=this.localizedStrings.TitleCreateProfileEFT,o.setAttribute("class","accountformachsize"))),o.style.border="0px",null==r||r.appendChild(o),this.isMobile&&r&&(r.style.left=`${(screen.width/2-o.offsetWidth/2).toString()}px`),r.style.width="fit-content",window.addEventListener("message",this.receiveMessageListener,!1)}executeCommand(e,t){const n=this.getDataSource();n?n.executeCommand(e,t):window.location.replace(this.createUrlForMobile(e,t))}createUrlForMobile(e,t){return`${window.location.href.split("/Frames/")[0]}/CCService?ServiceAction=AcceptPluginPayment${this.element.getAttribute("mobileOptions")}&Command=${e}&Result=${t}`}callGraphMethod(e,t,n){this.http.fetch(`ui/plugin/${e}/${t}/${n}/info`,{method:"Post",headers:{"X-XSRF-TOKEN":o.PLATFORM.global.px.GetAntiForgeryToken()}})}getDataSource(){return o.PLATFORM.global.px_cm.findDataSource()||window.parent.parent.px_cm.findDataSource()}confirmTransactionAndClose(e){const t=document.getElementById("payment-form-fortis"),n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","response"),n.setAttribute("value",e),t.appendChild(n),this.executeCommand("SyncPaymentTransaction",e),this.closePaymentForm()}confirmVaultAndClose(e){const t=document.getElementById("payment-form-fortis"),n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","response"),n.setAttribute("value",e),t.appendChild(n),this.executeCommand("SyncCCPaymentMethods",e),this.closePaymentForm()}cancelAndClosePaymentForm(){switch(this.options.Mode){case"payment":this.executeCommand("SyncPaymentTransaction","__CLOSECCHFORM");break;case"newProfile":this.executeCommand("SyncCCPaymentMethods","__CLOSECCHFORM")}this.closePaymentForm()}closePaymentForm(){window.removeEventListener("message",this.receiveMessageListener,!1),this.element.parentElement&&this.element.parentElement.removeChild(this.element)}receiveMessage(e){const t=this.options.HostName;if(e.origin===t)if("close"===e.data)this.cancelAndClosePaymentForm();else switch(this.options.Mode){case"payment":const t=JSON.parse(e.data).id;this.confirmTransactionAndClose(t);break;case"newProfile":const n=JSON.parse(e.data).id;this.confirmVaultAndClose(n)}else d.warn(`Received a message with unexpected origin: ${e.origin}`)}mouseDown(e){this.shiftX=e.clientX-this.paymentForm.getBoundingClientRect().left,this.shiftY=e.clientY-this.paymentForm.getBoundingClientRect().top,this.element.addEventListener("mousemove",this._bindMouseMove),this.element.addEventListener("mouseup",this._bindRemoveMouseListeners),this.element.addEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.add("payment-form-being-dragged")}onMouseMove(e){this.paymentForm.style.left=e.pageX-this.shiftX+"px",this.paymentForm.style.top=e.pageY-this.shiftY+"px"}removeMouseListeners(){this.element.removeEventListener("mousemove",this._bindMouseMove),this.element.removeEventListener("mouseup",this._bindRemoveMouseListeners),this.element.removeEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.remove("payment-form-being-dragged")}};n.__decorate([o.bindable,n.__metadata("design:type",HTMLElement)],c.prototype,"paymentForm",void 0),c=n.__decorate([(0,o.customElement)("qp-fortis"),o.autoinject,n.__metadata("design:paramtypes",[Element,a.HttpClient])],c),t.QpFortisCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/plugins/payment/qp-stripe":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/localization.js"),n("./node_modules/client-controls/utils/index.js"),n("aurelia-framework"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpStripeCustomElement=void 0;const d=["Name","AddressLine1","AddressLine2","City","State","Zip","Phone","Email"];let c=class QpStripeCustomElement{constructor(e,t){this.element=e,this.http=t,this.title="",this.buttonCaption="",this.sum="",this.currency="",this.errors="",this.notReady=!0,this.fields=d,this.completeData={cardNumber:!1,cvc:!1,expirationDate:!1},this.shiftX=0,this.shiftY=0,this.separateBefore="Phone",this.isMobile=!1,this._bindMouseMove=e=>this.onMouseMove(e),this._bindRemoveMouseListeners=()=>this.removeMouseListeners(),this.localizedStrings=r.LOCALIZED_STRINGS.payment}attached(){this.isMobile=!this.getDataSource(),this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||""),this.options.required=["AddressLine1","Zip"],this.options.AddressVerification&&this.options.required.forEach((e=>{this.completeData[e]=!1})),this.element.style.display="block",(0,o.loadScript)("https://js.stripe.com/v3/",this.initHostedForm.bind(this))}keyDown(e){switch(e.key){case"Enter":null===this.payButton.getAttribute("disabled")&&this.submitPayment(e);break;case"Esc":case"Escape":this.cancelAndClosePaymentForm()}return!0}keyInputDown(e,t,n){return"Tab"===e.key&&(e.preventDefault(),e.stopPropagation(),document.getElementById(e.shiftKey?n:t).focus()),!0}initHostedForm(){var e,t;this.stripe=Stripe(this.options.ApiLoginID,{apiVersion:this.options.ApiVersion,locale:this.options.Locale});const n=this.stripe.elements(),r={base:{fontSize:"13px",color:"#32325d","::placeholder":{color:"#C6C6C6"}}};this.cardNumber=n.create("cardNumber",{showIcon:!0,style:r,placeholder:"0000 0000 0000 0000"}),this.cardNumber.mount("#card-number");const o=n.create("cardExpiry",{style:r});switch(this.cardNumber.on("change",(e=>{this.updateComplete(this.cardNumberLabel,"cardNumber",e.complete),e.complete&&o.focus(),e.error,this.checkCompleteness()})),this.updateComplete(this.cardNumberLabel,"cardNumber",!1),this.cardNumber.on("ready",(()=>{this.cardNumber.focus()})),o.mount("#card-expiry"),this.cardCvc=n.create("cardCvc",{style:r}),this.updateComplete(this.cardExpiryLabel,"expirationDate",!1),null===(e=this.cardCvc)||void 0===e||e.mount("#card-cvc"),o.on("change",(e=>{var t;this.updateComplete(this.cardExpiryLabel,"expirationDate",e.complete),e.complete&&(null===(t=this.cardCvc)||void 0===t||t.focus()),e.error,this.checkCompleteness()})),this.updateComplete(this.cardCvcLabel,"cvc",!1),null===(t=this.cardCvc)||void 0===t||t.on("change",(e=>{this.updateComplete(this.cardCvcLabel,"cvc",e.complete),e.complete&&this.payButton.focus(),e.error,this.checkCompleteness()})),this.payButton.addEventListener("click",this.submitPayment.bind(this)),this.options.Mode){case"payment":case"motopayment":this.sum=this.options.Amount,this.currency=this.options.Currency,this.title=this.localizedStrings.TitlePay,this.buttonCaption=this.localizedStrings.Pay;break;case"newProfile":this.title=this.localizedStrings.TitleCreateProfile,this.buttonCaption=this.localizedStrings.Save}this.fields.forEach((e=>{const t=document.getElementById(e);t.value=this.options[e]||"",void 0!==this.completeData[e]&&(t.previousElementSibling.setAttribute("required",""),this.checkFieldCompleteness(t),t.onkeyup=this.checkFieldCompleteness.bind(this,t))})),this.options.CVVVerification&&this.cardCvcLabel.setAttribute("required","")}checkFieldCompleteness(e){this.updateComplete(e.previousElementSibling,e.id,""!==e.value),this.checkCompleteness()}updateComplete(e,t,n){this.completeData[t]=n,n?e.classList.remove("field-warning"):(e.classList.add("field-warning"),this.completeData[e.id]=!1)}checkCompleteness(){let e=!0;this.options.AddressVerification&&this.options.required.forEach((t=>{this.completeData[t]||(e=!1)})),this.completeData.cardNumber&&this.completeData.expirationDate&&(this.completeData.cvc||!this.options.CVVVerification)&&e?this.payButton.removeAttribute("disabled"):this.payButton.setAttribute("disabled","")}submitPayment(e){var t;e.preventDefault();const n=document.getElementById("payment-form"),getVal=e=>{const t=n.querySelector(e);return t&&t.value||void 0},r={name:getVal("#Name"),email:getVal("#Email"),phone:getVal("#Phone"),address:{city:getVal("#City"),line1:getVal("#AddressLine1"),line2:getVal("#AddressLine2"),postal_code:getVal("#Zip"),state:getVal("#State")}};switch(this.options.CVVVerification||this.completeData.cvc||null===(t=this.cardCvc)||void 0===t||t.unmount(),this.options.Mode){case"payment":this.stripe.confirmCardPayment(this.options.ClientKey,{payment_method:{card:this.cardNumber,billing_details:r}}).then((e=>{e.error?this.errors=e.error.message:this.stripePaymentHandler(e.paymentIntent.id,"SyncPaymentTransaction")}));break;case"motopayment":this.stripe.createPaymentMethod({type:"card",card:this.cardNumber,billing_details:r}).then((e=>{e.error?this.errors=e.error.message:this.stripePaymentHandler(`${this.options.ClientKey}+${e.paymentMethod.id}`,"SyncPaymentTransaction")}));break;case"newProfile":this.stripe.createSource(this.cardNumber,{owner:r}).then((e=>{e.error?this.errors=e.error.message:this.stripePaymentHandler(e.source.id,"SyncCCPaymentMethods")}))}}executeCommand(e,t){const n=this.getDataSource();n?n.executeCommand(e,t):window.location.replace(this.createUrlForMobile(e,t))}createUrlForMobile(e,t){return`${window.location.href.split("/Frames/")[0]}/CCService?ServiceAction=AcceptPluginPayment${this.element.getAttribute("mobileOptions")}&Command=${e}&Result=${t}`}callGraphMethod(e,t,n){this.http.fetch(`ui/plugin/${e}/${t}/${n}/info`,{method:"Post",headers:{"X-XSRF-TOKEN":a.PLATFORM.global.px.GetAntiForgeryToken()}})}stripePaymentHandler(e,t){const n=document.getElementById("payment-form"),r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name","stripeToken"),r.setAttribute("value",e),n.appendChild(r),this.executeCommand(t,e),this.closePaymentForm()}getDataSource(){return a.PLATFORM.global.px_cm.findDataSource()||window.parent.parent.px_cm.findDataSource()}cancelAndClosePaymentForm(){switch(this.options.Mode){case"payment":case"motopayment":this.executeCommand("SyncPaymentTransaction","__CLOSECCHFORM");break;case"newProfile":this.executeCommand("SyncCCPaymentMethods","__CLOSECCHFORM")}this.closePaymentForm()}closePaymentForm(){this.element.parentElement.removeChild(this.element)}mouseDown(e){this.shiftX=e.clientX-this.paymentForm.getBoundingClientRect().left,this.shiftY=e.clientY-this.paymentForm.getBoundingClientRect().top,this.element.addEventListener("mousemove",this._bindMouseMove),this.element.addEventListener("mouseup",this._bindRemoveMouseListeners),this.element.addEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.add("payment-form-being-dragged")}onMouseMove(e){this.paymentForm.style.left=e.pageX-this.shiftX+"px",this.paymentForm.style.top=e.pageY-this.shiftY+"px"}removeMouseListeners(){this.element.removeEventListener("mousemove",this._bindMouseMove),this.element.removeEventListener("mouseup",this._bindRemoveMouseListeners),this.element.removeEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.remove("payment-form-being-dragged")}};n.__decorate([a.bindable,n.__metadata("design:type",HTMLElement)],c.prototype,"payButton",void 0),n.__decorate([a.bindable,n.__metadata("design:type",HTMLElement)],c.prototype,"paymentForm",void 0),n.__decorate([a.bindable,n.__metadata("design:type",HTMLElement)],c.prototype,"cardNumberLabel",void 0),n.__decorate([a.bindable,n.__metadata("design:type",HTMLElement)],c.prototype,"cardExpiryLabel",void 0),n.__decorate([a.bindable,n.__metadata("design:type",HTMLElement)],c.prototype,"cardCvcLabel",void 0),c=n.__decorate([(0,a.customElement)("qp-stripe"),a.autoinject,n.__metadata("design:paramtypes",[Element,l.HttpClient])],c),t.QpStripeCustomElement=c}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/alert-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("aurelia-dialog"),n("client-controls/controls/dialog/alert/qp-alert")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertService=void 0;let l=class AlertService{constructor(e){this.dialogService=e}openAlert(e){let t,n;const r=new Promise(((e,r)=>{t=e,n=r}));return this.dialogService.open({viewModel:a.QpAlertComponent,model:e,lock:!0}).whenClosed((e=>{e.wasCancelled?n():t(e.output)})),r}};l=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[o.DialogService])],l),t.AlertService=l}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/api-client.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/whatwg-fetch/fetch.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiClient=void 0;let l=class ApiClient{constructor(e){this.client=e}getBranchData(e,t){return this.client.fetch("ui/BranchSelector/Pass",{method:"POST",body:(0,r.json)(e),signal:t}).then((e=>e.json()))}getBranchTree(e,t){return this.client.fetch("ui/BranchSelector/Tree",{method:"POST",body:(0,r.json)(e),signal:t}).then((e=>e.json()))}getSuggestionData(e,t){return this.client.fetch("ui/Selector/GetSuggestions",{method:"POST",body:(0,r.json)(e),signal:t}).then((e=>e.json()))}getWikiTooltipData(e,t){return this.client.get(`apiweb/wikitooltip/presence?pagePath=${e.pagePath}&clientId=${e.clientId}`,{signal:t}).then((e=>e.ok&&e.status===a.HttpCodes.Ok?e.json():null)).catch((t=>console.log("Error: ",e)))}getWikiSetting(){return n.__awaiter(this,void 0,void 0,(function*(){try{const e=yield this.client.get("apiweb/wikitooltip/GetSetting");if(e.ok&&e.status==a.HttpCodes.Ok)return yield e.json()}catch(e){console.log("Error: ",e)}return null}))}};l=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[r.HttpClient])],l),t.ApiClient=l}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/base-api-client.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/descriptors/types.js"),n("aurelia-event-aggregator"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/client-controls/descriptors/api-types.js"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/client-controls/utils/platform-dependable-utils.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpFetchRunningEvent=t.BaseApiClient=t.asApiCallPromise=t.CallbackQueue=void 0;class CallbackQueue{constructor(){this.pendingCallbacks=new Array}push(e){this.pendingCallbacks.push(e)}shift(){return this.pendingCallbacks.shift()}hasItems(){return this.pendingCallbacks.length>0}}function preprocess(e,t){return this.preprocessRequired=!0,this.then(e,t)}function asApiCallPromise(e){return e.whenDataReady=preprocess,e}t.CallbackQueue=CallbackQueue,t.asApiCallPromise=asApiCallPromise;let m=class BaseApiClient{constructor(e,t,n,r,o,a,l){this.client=e,this.configuration=t,this.callbackQueue=r,this.eventAggregator=o,this.redirector=a,this.busyCounter=l,this.callbackRunning=!1,this.blockPage=!1,this.configuration&&this.client.configure(this.configuration),n&&this.client.configure((e=>e.withBaseUrl(n)))}getExt(e,t=!0){return n.__awaiter(this,void 0,void 0,(function*(){let n;this.callbackRunning=!0,t&&(this.blockPage=!0),this.eventAggregator.publish(new HttpFetchRunningEvent(this.callbackRunning,this.blockPage));try{n=yield this.client.fetch(e,{method:"GET",credentials:"include"})}catch(e){throw e.message&&console.error(e),new l.ErrorInfo(-1,e)}finally{this.resetCallbackRunning()}switch(n.status){case l.HttpCodes.Ok:return n.json();case l.HttpCodes.NoContent:return new Promise(((e,t)=>e(void 0)));case l.HttpCodes.ServerError:{const e=yield this.getResultData(n);throw this.showError(l.HttpCodes.ServerError,e),e}case l.HttpCodes.BadRequest:}return n.json()}))}fetch(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetch(e,{method:"POST",body:t,signal:r})}))}fetchExt(e,t,n=!0,r){let o,a;const l=asApiCallPromise(new Promise(((e,t)=>{o=e,a=t})));return l.finally((()=>{if(this.resetCallbackRunning(),this.callbackQueue.hasItems()){const e=this.callbackQueue.shift();e&&this.fetchExtInternal(this.client,e.url,e.data,e.resolve,e.reject,e.blockPage,l)}})),this.callbackRunning?(this.callbackQueue.push(new CallbackInfo(e,t,o,a,n)),l):(this.fetchExtInternal(this.client,e,t,o,a,n,l,r),l)}getResultData(e){return new Promise(((t,n)=>{e.json().then((e=>{t(e)}),(e=>{n(new l.ErrorInfo(-1,e))}))}))}showError(e,t){const n=new l.ErrorInfo(e,t);return this.eventAggregator.publish(c.ApiCientEvents.ErrorRaisedEvent,n),n}fetchExtInternal(e,t,r,o,a,d=!0,c,u){return n.__awaiter(this,void 0,void 0,(function*(){this.callbackRunning=!0,d&&(this.blockPage=!0),this.eventAggregator.publish(new HttpFetchRunningEvent(this.callbackRunning,this.blockPage));try{const n=new Date,d=yield e.fetch(t,{method:"POST",body:encodeBody(r),headers:u});if(d.cancelled||d.status===l.HttpCodes.NoContent)return this.resetCallbackRunning(),void o(void 0);if(d.redirected&&d.status===l.HttpCodes.Ok&&d.url.indexOf("Login.aspx")>0){if(!(p.topWindow.redirectedAt>n)&&(p.topWindow.redirectedAt=new Date,p.topWindow.confirm(h.Messages.NotLoggedInLogIn))){const e=d.url.indexOf("?ReturnUrl=");p.topWindow.location.href=`${d.url.substring(0,e)}?ReturnUrl=${encodeURIComponent(p.topWindow.location.href)}`}return void o(void 0)}switch(d.status){case l.HttpCodes.Ok:case l.HttpCodes.Conflict:const e=yield this.getResultData(d);o(e);break;case l.HttpCodes.BadRequest:const t=yield this.getResultData(d);a(this.showError(l.HttpCodes.BadRequest,{type:"",title:"",status:l.HttpCodes.BadRequest,detail:t}));break;case l.HttpCodes.ServerError:const n=yield this.getResultData(d);a(this.showError(l.HttpCodes.ServerError,n));break;case l.HttpCodes.Found:{const e=yield this.getResultData(d);e.command=null==r?void 0:r.command,this.busyCounter.increment(),c.preprocessRequired?c.then((t=>{this.redirector.doRedirects(e),this.busyCounter.decrement()})):(this.redirector.doRedirects(e),this.busyCounter.decrement()),o(e);break}default:this.resetCallbackRunning()}}catch(e){if("redirected"===e)return;e.message&&console.error(e),a(this.showError(l.HttpCodes.ServerError,e))}finally{this.resetCallbackRunning()}}))}resetCallbackRunning(){this.callbackRunning=this.blockPage=!1,this.eventAggregator.publish(new HttpFetchRunningEvent(this.callbackRunning,this.blockPage))}};m=n.__decorate([(0,u.autoinject)(),n.__param(0,(0,a.newInstance)()),n.__param(1,(0,u.optional)(r.DEFAULT_HTTP_CONFIGURATION)),n.__param(2,(0,u.optional)(r.BASE_PATH)),n.__metadata("design:paramtypes",[d.HttpClient,Function,String,CallbackQueue,o.EventAggregator,c.RedirectHelper,g.BusyCounter])],m),t.BaseApiClient=m;class CallbackInfo{constructor(e,t,n,r,o){this.url=e,this.data=t,this.resolve=n,this.reject=r,this.blockPage=o}}class HttpFetchRunningEvent extends c.QpEvent{constructor(e,t){super(c.ApiCientEvents.FetchRunningEvent,{callbackRunning:e,blockPage:t})}get blockPage(){return this.detail.blockPage}get callbackRunning(){return this.detail.callbackRunning}}function encodeBody(e){return"object"==typeof e&&e instanceof FormData?e:(0,d.json)(e)}t.HttpFetchRunningEvent=HttpFetchRunningEvent}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/cookie-utils.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CookieUtils=void 0;class CookieUtils{static getCookie(e){const t=new RegExp(`${e}=([^;]+)`);return t.test(`${document.cookie};`)?(t.exec(`${document.cookie};`),unescape(RegExp.$1)):null}static setCookie(e,t,n,r){if(e&&null!=t){let o=`${e}=${t}`;n&&(o+=`; path=${n}`),r&&(o+=`; expires=${r.toUTCString()}`),document.cookie=o}}static setSessionPrevWinCookie(e,t){this.setCookie("prevwin",t>=1e4?t:e,"/")}static setLastWinCookie(e){try{e>(this.getLastWinCookie()||0)&&this.setCookie(this.lastWinCookieParameter,e,"/")}catch(e){}}static getLastWinCookie(){const e=this.getCookie(this.lastWinCookieParameter);return e?parseInt(e):null}}t.CookieUtils=CookieUtils,CookieUtils.lastWinCookieParameter="lastwin",CookieUtils.sessionPrevWinCookieParameter="prevwin"}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/services/currency-api-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrencyApiService=void 0;const l="apiweb/currency";let d=class CurrencyApiService{constructor(e){this.client=e}getCurrencyState(e,t){return n.__awaiter(this,void 0,void 0,(function*(){if(void 0!==this.prevMode&&this.prevScreenId===e)return this.prevMode;if(this.stateRevievePromise)return this.stateRevievePromise;this.stateRevievePromise=this.client.fetch(`${l}/${e}/state`,{method:"GET",signal:t}).then((e=>e.json()));const n=yield this.stateRevievePromise;return this.stateRevievePromise=void 0,this.prevMode=n,this.prevScreenId=e,n}))}setCurrencyState(e,t){return n.__awaiter(this,void 0,void 0,(function*(){this.prevMode=e.currencyMode,this.prevScreenId=e.screenId,yield this.client.fetch(`${l}/${e.screenId}/state`,{method:"POST",body:(0,r.json)({showBase:e.currencyMode===a.CurrencyViewMode.Base}),signal:t})}))}};d=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[r.HttpClient])],d),t.CurrencyApiService=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/features-api-client.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),n("./node_modules/client-controls/descriptors/index.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeaturesApiClient=void 0;let l=class FeaturesApiClient{constructor(e){this.client=e,this.baseUri="ui/features/"}getActiveFeatures(){return this.getExt(`${this.baseUri}`)}getExt(e){return this.client.fetch(e,{method:"GET",credentials:"include"}).then((e=>{switch(e.status){case a.HttpCodes.Ok:return e.json();case a.HttpCodes.ServerError:case a.HttpCodes.BadRequest:return new Promise(((t,n)=>{e.json().then((t=>{n(new a.ErrorInfo(e.status,t))}),(e=>{n(new a.ErrorInfo(-1,e))}))}))}return e.json()}),(e=>(e.message&&console.error(e),Promise.reject(new a.ErrorInfo(-1,e)))))}};l=n.__decorate([(0,r.autoinject)(),n.__metadata("design:paramtypes",[o.HttpClient])],l),t.FeaturesApiClient=l}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/features-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/features-api-client.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeaturesService=void 0;let a=class FeaturesService{constructor(e){this.client=e}getFeatures(){var e;return n.__awaiter(this,void 0,void 0,(function*(){return this.features?this.features:null===(e=this.client.getActiveFeatures())||void 0===e?void 0:e.then((e=>(this.features=e.sets.reduce(((e,t)=>(e[t.name]=t.features.reduce(((e,t)=>(e[t.name]=t.enabled,e)),{}),e)),{}),this.features)))}))}};a=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[o.FeaturesApiClient])],a),t.FeaturesService=a}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/field-defaults-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/aurelia-loader/dist/native-modules/aurelia-loader.js"),n("./node_modules/client-controls/dependency-property-injection/index.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldDefaultsService=void 0;class FieldDefaultsService{constructor(){this.modules={},this.fieldDefaults={}}addFromModule(e){return n.__awaiter(this,void 0,void 0,(function*(){if(this.modules[e])return;this.modules[e]=!0;const t=yield this.loader.loadTemplate(`html-resource-plugin!${e}`),n="string"==typeof t?t:null==t?void 0:t.default;if(!n)return;const r=document.createElement("div");r.innerHTML=n;const o=r.firstChild;if(!o)return;const a=o.content.children;for(let e=0;e<a.length;e++){const t=a.item(e);if(!t)continue;Array.from(t.getElementsByTagName("field")).forEach((e=>{let t=e.getAttribute("name");if(t&&(0!==e.childElementCount||1!==e.attributes.length)){if(-1===t.indexOf(".")){const n=e.parentElement;t=`${null==n?void 0:n.getAttribute("view.bind")}.${t}`}this.fieldDefaults[t]=e}}))}}))}getFieldDefaultElement(e){if(!e)return null;const t=e.viewName?`${e.viewName}.${e.name}`:e.name;return t?this.fieldDefaults[t]:null}}n.__decorate([o.autoinject,n.__metadata("design:type",r.Loader)],FieldDefaultsService.prototype,"loader",void 0),t.FieldDefaultsService=FieldDefaultsService}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/hover-activator-service/hover-activator-service.js":(e,t,n)=>{var r,o;r=[n,t,n("aurelia-framework"),n("./node_modules/client-controls/utils/control-helper.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoverActivatorService=void 0;class HoverActivatorService{constructor(){this.hoverDelegate=e=>this.mouseMoveHandler(e),this.keyDelegate=e=>this.keyDownHandler(e),this.scrollDelegate=()=>this.scrollHappened(),this.resizeDelegate=()=>this.resizeHappened(),this.activators=new Map,this.actionTriggerTimers=[],this.lastMouseCoords={x:0,y:0},n.DOM.addEventListener("mousemove",this.hoverDelegate,!0),n.DOM.addEventListener("keydown",this.keyDelegate,!0),n.DOM.addEventListener("scroll",this.scrollDelegate,!0),n.PLATFORM.global.addEventListener("resize",this.resizeDelegate,{passive:!0}),(0,r.registerQAObject)("suppressTooltipsGlobally",this.suppressTooltipsGlobally.bind(this))}suppressTooltipsGlobally(e=!0){HoverActivatorService.tooltipsSuppressed=e,this.hideTooltip()}ensureLegacyTMHandled(){!this.legacyTM&&n.PLATFORM.global.px_tm&&(this.legacyTM=n.PLATFORM.global.px_tm,this.legacyHideTooltip=this.legacyTM.hideTooltip,this.legacyTM&&(n.PLATFORM.global.px_tm.hideTooltip=()=>{this.deactivateActiveSubscribers(),this.legacyHideTooltip.call(this.legacyTM)}))}mouseMoveHandler(e){if(n.PLATFORM.global.__suppressTooltip)return;this.ensureLegacyTMHandled();const t=e.target;this.lastMouseCoords={x:e.clientX,y:e.clientY},this.currentTarget!==t&&(this.clearActionTimers(),this.deactivateActiveSubscribers(t),this.actionTriggerTimers.push(setTimeout((()=>this.lockTarget(t)),32)))}keyDownHandler(e){}scrollHappened(){this.deactivateByUserActivity()}resizeHappened(){this.deactivateByUserActivity()}clearActionTimers(){this.actionTriggerTimers.forEach((e=>{clearTimeout(e)})),this.actionTriggerTimers=[]}hideTooltip(){this.deactivateByUserActivity()}suppressTooltipFor(e){const t=n.DOM.createAttribute(HoverActivatorService.hidetooltipAttrName);t.value="true";const setAttr=e=>e.attributes.setNamedItem(t.cloneNode(!0));setAttr(e),Array.from(e.children).forEach(setAttr),this.hideTooltip()}allowTooltipFor(e){const resetAttr=e=>e.attributes.removeNamedItem(HoverActivatorService.hidetooltipAttrName);resetAttr(e),Array.from(e.children).forEach(resetAttr)}deactivateByUserActivity(e){var t;this.clearActionTimers(),this.deactivateActiveSubscribers(),this.ensureLegacyTMHandled(),null===(t=this.legacyHideTooltip)||void 0===t||t.call(this.legacyTM)}deactivateActiveSubscribers(e=null){var t,n;const r=(null===(t=this.activeSubscribers)||void 0===t?void 0:t.filter((t=>{var n;if(null===(n=t.subscribersOptions.activatedElements)||void 0===n?void 0:n.find((t=>t.contains(e))))return!0;if(!t.subscribersOptions.cssRule&&t.activator.contains(e)){if(t.subscribersOptions.excludeCssRule){if(Array.from(t.activator.querySelectorAll(t.subscribersOptions.excludeCssRule)).find((t=>t.contains(e))))return!1}return!0}return!1})))||[];null===(n=this.activeSubscribers)||void 0===n||n.filter((e=>-1===r.indexOf(e))).forEach((e=>e.subscribersOptions.onDeactivate())),r.length?this.activeSubscribers=r:this.activeSubscribers=void 0}findActivators(e){var t;let n=e,r=[];if(HoverActivatorService.tooltipsSuppressed)return r;for(;n;)if(n.getAttribute("error"))n=void 0;else{const e=this.activators.get(n);e&&e.forEach((e=>{r.push({activator:n,subscribersOptions:e})})),n=n.parentElement||void 0}return 0==r.length?(null===(t=this.activeSubscribers)||void 0===t?void 0:t.filter((t=>{var n;return!!(null===(n=t.subscribersOptions.activatedElements)||void 0===n?void 0:n.find((t=>t.contains(e))))})))||[]:r}getActivationParams(e){const{left:t,top:n,width:r}=e.getBoundingClientRect(),o=this.lastMouseCoords.x-t,a=this.lastMouseCoords.y-n;return{target:e,targetW:r,targetTop:n,mouseX:this.lastMouseCoords.x,mouseY:this.lastMouseCoords.y,relativeX:o,relativeY:a}}lockTarget(e){this.clearActionTimers(),this.currentTarget=e,this.activeSubscribers=this.findActivators(e);for(const t of this.activeSubscribers)this.queueActivation(e,t)}targetNoChanged(e){return e===document.elementFromPoint(this.lastMouseCoords.x,this.lastMouseCoords.y)}targetVisible(e){const{width:t,height:n}=null==e?void 0:e.getBoundingClientRect();return t>0&&n>0}queueActivation(e,t){const n=t.subscribersOptions.activateAfter||500;if(t.subscribersOptions.excludeCssRule&&t.activator.contains(e)){if(Array.from(t.activator.querySelectorAll(t.subscribersOptions.excludeCssRule)).find((t=>t.contains(e))))return}if(t.subscribersOptions.cssRule){const r=t.activator.querySelectorAll(t.subscribersOptions.cssRule);for(let o=0;o<r.length;o++){const a=r[o];if(e==a||a.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY){this.actionTriggerTimers.push(setTimeout((()=>this.targetVisible(e)&&t.subscribersOptions.onActivate(this.getActivationParams(a))),n));break}}}else this.actionTriggerTimers.push(setTimeout((()=>this.targetVisible(e)&&this.targetNoChanged(e)&&t.subscribersOptions.onActivate(this.getActivationParams(e))),n))}subscribeTo(e,t){const n=this.activators.get(e)||[];return n.push(t),this.activators.set(e,n),{dispose:()=>{var n;const r=(null===(n=this.activators.get(e))||void 0===n?void 0:n.filter((e=>e!=t)))||[];r.length>0?this.activators.set(e,r):this.activators.delete(e)}}}selfActivate(e,t){this.clearActionTimers(),this.deactivateActiveSubscribers(),this.activeSubscribers=[{activator:e,subscribersOptions:t}],t.onActivate(this.getActivationParams(e)),this.currentTarget=void 0}selfHide(e,t){var n;null==t||t.onDeactivate();const r=(null===(n=this.activeSubscribers)||void 0===n?void 0:n.filter((e=>e.subscribersOptions!==t)))||[];0==r.length?this.activeSubscribers=void 0:this.activeSubscribers=r}}t.HoverActivatorService=HoverActivatorService,HoverActivatorService.hidetooltipAttrName="hidetooltip",HoverActivatorService.tooltipsSuppressed=!1}.apply(t,r),void 0===o||(e.exports=o)},"client-controls/services/hover-activator-service/index":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/services/hover-activator-service/hover-activator-service.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function configure(e){e.singleton(n.HoverActivatorService)}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/index.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/alert-service.js"),n("./node_modules/client-controls/services/api-client.js"),n("./node_modules/client-controls/services/base-api-client.js"),n("./node_modules/client-controls/services/features-api-client.js"),n("./node_modules/client-controls/services/features-service.js"),n("./node_modules/client-controls/services/localization.js"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/services/screen-api-client.js"),n("./node_modules/client-controls/services/screen-service.js"),n("./node_modules/client-controls/services/suggestings-service.js"),n("./node_modules/client-controls/services/tree-service.js"),n("./node_modules/client-controls/services/wiki-tooltip-service.js"),n("./node_modules/client-controls/services/hover-activator-service/hover-activator-service.js"),n("client-controls/services/hover-activator-service/index"),n("./node_modules/client-controls/services/selector-service/selector-service.js"),n("./node_modules/client-controls/services/currency-api-service.js"),n("./node_modules/client-controls/services/keyboard-service.js"),n("./node_modules/client-controls/services/preferences/index.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m,f,v,b,y,_,x,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hoverIndex=void 0,n.__exportStar(r,t),n.__exportStar(o,t),n.__exportStar(a,t),n.__exportStar(l,t),n.__exportStar(d,t),n.__exportStar(c,t),n.__exportStar(u,t),n.__exportStar(p,t),n.__exportStar(h,t),n.__exportStar(g,t),n.__exportStar(m,t),n.__exportStar(f,t),n.__exportStar(v,t),t.hoverIndex=n.__importStar(b),n.__exportStar(y,t),n.__exportStar(_,t),n.__exportStar(x,t),n.__exportStar(C,t)}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/keyboard-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("aurelia-event-aggregator"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),n("./node_modules/client-controls/utils/control-helper.js"),n("./node_modules/client-controls/descriptors/constants.js")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardService=void 0;let u=class KeyboardService{constructor(e,t,n){this.element=e,this.eventAggregator=t,this.taskQueue=n,this.stack=new Array,this.screenStateTouched=!1,this.subscriptions=[],this.focusableTags=["A","INPUT","BUTTON","TEXTAREA","SELECT","DETAILS"],this.elementsSelector='a[href]:not([tabindex="-1"]), button:not([tabindex="-1"]),\n\t\t\tinput:not([tabindex="-1"]), textarea:not([tabindex="-1"]),\n\t\t\tselect:not([tabindex="-1"]), details:not([tabindex="-1"]),\n\t\t\t[tabindex]:not([tabindex="-1"])',this.keysHandler=this.keyDownHandler.bind(this),this.observer=new MutationObserver((e=>this.onMutation(e))),this.setActiveArea(e),this.subscriptions.push(this.eventAggregator.subscribe(c.CALLBACK_COMPLETED_EVENT,(e=>{this.screenStateTouched&&!e.command||(this.focusFirstElement(),this.screenStateTouched=!0)}))),this.subscriptions.push(this.eventAggregator.subscribe(c.DIALOG_OPENED,(()=>{this.taskQueue.queueTask((()=>{this.focusFirstElement()}))})))}dispose(){var e;null===(e=this.observer)||void 0===e||e.disconnect(),this.element.ownerDocument.removeEventListener("keydown",this.keysHandler,!1),this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}get visibleElements(){return this.elements.filter((e=>(0,d.isVisible)(e)))}get firstFocusableElement(){return this.visibleElements.length?this.visibleElements[0]:void 0}get focusedElement(){const e=l.PLATFORM.global.document.activeElement;return this.elements.find((t=>t===e))}focusFirstElement(){var e;this.visibleElements.length&&!this.focusedElement&&(null===(e=this.firstFocusableElement)||void 0===e||e.focus())}clearFocus(){this.focusedElement&&this.focusedElement.blur()}setActiveArea(e){this.stack.push(e),this.setNewActiveArea(e)}restorePreviousArea(){this.stack.length>1&&this.stack.pop(),this.setNewActiveArea(this.stack[this.stack.length-1])}setNewActiveArea(e){this.activeArea=e,this.collectElements()}collectElements(e=!0){var t,n;this.elements=Array.from(this.activeArea.querySelectorAll(this.elementsSelector)),e&&(null===(t=this.observer)||void 0===t||t.disconnect(),null===(n=this.observer)||void 0===n||n.observe(this.activeArea,{childList:!0,subtree:!0})),this.element.ownerDocument.removeEventListener("keydown",this.keysHandler,!1),this.element.ownerDocument.addEventListener("keydown",this.keysHandler,!1)}keyDownHandler(e){switch(e.key){case"Enter":case"Tab":e.ctrlKey||e.altKey||this.focusElement(e.shiftKey?-1:1,"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation())}}onMutation(e){let t=!1;for(const n of e)if("childList"===n.type&&(this.checkNodesList(n.addedNodes)||this.checkNodesList(n.removedNodes))){t=!0;break}t&&this.collectElements(!1)}checkNodesList(e){for(let t=0;t<e.length;t++){const n=e[t];if(n.nodeType!==Node.ELEMENT_NODE)continue;const r=n,o=r.getAttribute("tabindex");if(this.focusableTags.includes(r.tagName)||null!=o&&"-1"!==o||r.querySelectorAll(this.elementsSelector).length>0)return!0}return!1}focusElement(e,t){if(!this.elements)return;const n=l.PLATFORM.global.document.activeElement;let r=n?this.elements.indexOf(n)+e:0,o=!1;const checkEdges=()=>{(r<0||r>=this.elements.length)&&!o&&(r=r<0?this.elements.length-1:0,o=!0)};for(checkEdges();r>=0&&r<this.elements.length;){const t=this.elements[r];if((0,d.isVisible)(t)&&null!=t.focus&&null==t.getAttribute("disabled")&&null==t.getAttribute("readonly"))return t.focus(),!0;r+=e,checkEdges()}return!1}};n.__decorate([(0,r.computedFrom)("elements"),n.__metadata("design:type",Array),n.__metadata("design:paramtypes",[])],u.prototype,"visibleElements",null),n.__decorate([(0,r.computedFrom)("visibleElements"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],u.prototype,"firstFocusableElement",null),n.__decorate([(0,r.computedFrom)("elements"),n.__metadata("design:type",Object),n.__metadata("design:paramtypes",[])],u.prototype,"focusedElement",null),u=n.__decorate([(0,o.autoinject)(),n.__metadata("design:paramtypes",[Element,a.EventAggregator,r.TaskQueue])],u),t.KeyboardService=u}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/localization.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/cookie-utils.js"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),n("./node_modules/client-controls/descriptors/api-types.js"),n("./node_modules/client-controls/services/localizations-api-client.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTranslator=t.localizable=t.Format=t.LOCALIZED_STRINGS=void 0;const h=(0,l.getLogger)("localization");function replacer(e,t){const n=t.lastIndexOf("{")+1,r=t.length-t.indexOf("}");return 1===n&&1===r?e:n%2==1&&r%2==1?t.substring(0,n/2)+e+t.substring(t.length-r/2+1):t.substring(0,t.length-r/2).substring(n/2)}function Format(e,t,...n){let r=e;if("string"==typeof t||null===t){const e=[t,...n];return r.replace(/{([0-9]+)}/g,(function(t,n){const r=parseInt(n);return null==e[r]?"":e[r]}))}for(const e in t)r=r.replace(new RegExp(`\\{+${e}\\}+`,"g"),(n=>replacer(t[e],n)));return r}function cloneParentProps(e){const t=Object.getPrototypeOf(e);if(!(null==t?void 0:t.name))return;cloneParentProps(t);const n=Object.getOwnPropertyNames(t);for(const r of n)e.hasOwnProperty(r)||(e[r]=t[r])}o.PLATFORM.global.ClientLocalizedStrings=o.PLATFORM.global.ClientLocalizedStrings||{},t.LOCALIZED_STRINGS=o.PLATFORM.global.ClientLocalizedStrings,t.default=t.LOCALIZED_STRINGS,t.Format=Format,t.localizable=function localizable(e,t){t&&e&&g.AddEntry(e,String(t));const processTarget=(e,t)=>{e.Format=Format,cloneParentProps(e);const n=Object.getOwnPropertyNames(e);for(const r of n){switch(r){case"length":case"name":case"prototype":continue}g.AddEntry(e,r,t)}};if("function"!=typeof e)return(t,n)=>{if(!t)return;let r;e&&("string"==typeof e?r={namespace:e}:"object"==typeof e&&(r=e)),n?g.AddEntry(t,String(n),r):processTarget(t,r)};processTarget(e)};let g=p=class QpTranslator{constructor(e,t){this.client=e,this.localizationClient=t,this.lang="",this.afterTranslation=this.SetLang((r.CookieUtils.getCookie("Culture")||"en-US").replace(/&.*/,""))}get inizialized(){return p.initialized}getLocalization(){return p.dict[this.lang]}getLocalePreferences(e){return p.localePreferences[e]}SetLang(e){return this.lang=e,this.loadDictionary(e).then((()=>{var t;const n=p.dict[e],r=p.dict.default;for(const e in p.data){const o=r.get(e)&&r.get(e).default||e,a=n&&n.get(o)||r.get(e),l=p.data[e];for(const n in l){const r=l[n];for(const n of r)n.target[p.DemangleKey(e,n.config)]=null!==(t=a[e])&&void 0!==t?t:a.default}}}),(()=>{}))}loadDictionary(e){return p.dict[e]?new Promise(((e,t)=>{e()})):this.localizationClient.getLocalizations(e).then((t=>{if(p.dict[e]=new c.LocalizationsCollection,t.localizedClientDictionary)for(const n in t.localizedClientDictionary)p.dict[e].set(n,t.localizedClientDictionary[n]);t.numberFormat&&(p.localePreferences.number=t.numberFormat),t.dateTimeFormat&&(p.localePreferences.datetime=t.dateTimeFormat),p.initialized=!0}),(()=>(h.warn(`Cannot load dictionary for "${e}"`),new Promise(((e,t)=>{e()})))))}static MangleKey(e,t){return t&&t.namespace?`${t.namespace}.${e}`:e}static DemangleKey(e,t){return t&&t.namespace?0!==e.indexOf(`${t.namespace}.`)?e:e.substring(t.namespace.length+1):e}static AddEntry(e,t,n){const r=p.MangleKey(t,n),o=e[t];this.dict.default||(this.dict.default=new c.LocalizationsCollection);const a={default:o};this.dict.default.set(r,a),this.data[r]||(this.data[r]={}),this.data[r].default||(this.data[r].default=[]);this.data[r].default.push({target:e,config:n})}static FillInDefaultDictionary(e){for(const t in e)this.dict.default.set(t,{default:e[t]})}};g.data={},g.defaultNumberFormatInfo={currency:{decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSizes:[3],negativePattern:0,positivePattern:0},currencySymbol:"$",negativeSign:"-",number:{decimalDigits:2,negativePattern:1,groupSizes:[3],decimalSeparator:".",groupSeparator:","},percent:{decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSizes:[3],negativePattern:1,positivePattern:1},percentSymbol:"%"},g.defaultDateFormatInfo={abbrDayNames:"Sun,Mon,Tue,Wed,Thu,Fri,Sat",abbrMonthNames:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,",am:"AM",dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",longDate:"dddd, MMMM d, yyyy",longTime:"h:mm:ss tt",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December,",pm:"PM",shortDate:"dd-MMM-yy",shortTime:"h:mm tt",dateSeparator:"/",timeSeparator:":",monthDay:"MMMM d",rfC1123:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",sortableDateTime:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",universalSortableDateTime:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",yearMonth:"MMMM yyyy",yearFix:0},g.localePreferences={number:p.defaultNumberFormatInfo,datetime:p.defaultDateFormatInfo},g.dict={},g=p=n.__decorate([a.autoinject,n.__metadata("design:paramtypes",[d.HttpClient,u.LocalizationsApiClient])],g),t.QpTranslator=g}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/localizations-api-client.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/descriptors/api-types.js"),n("aurelia-framework"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizationsApiClient=void 0;let d=class LocalizationsApiClient{constructor(e){this.client=e}getLocalizations(e){const t=l.PLATFORM.global.__site_root||"";return this.getExt(`${t}${""===t||t.endsWith("/")?"":"/"}ui/locale/${e}`)}getExt(e){return this.client.fetch(e,{method:"GET",credentials:"include"}).then((e=>{switch(e.status){case r.HttpCodes.Ok:return e.json();case r.HttpCodes.ServerError:case r.HttpCodes.BadRequest:return new Promise(((t,n)=>{e.json().then((t=>{n(new r.ErrorInfo(e.status,t))}),(e=>{n(new r.ErrorInfo(-1,e))}))}))}return e.json()}),(e=>(e.message&&console.error(e),Promise.reject(new r.ErrorInfo(-1,e)))))}};d=n.__decorate([(0,o.autoinject)(),n.__metadata("design:paramtypes",[a.HttpClient])],d),t.LocalizationsApiClient=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/localizations-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/localization.js"),n("aurelia-framework")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizationsService=void 0;let a=class LocalizationsService{constructor(e){this.translator=e}load(){return n.__awaiter(this,void 0,void 0,(function*(){return this.translator.afterTranslation||Promise.resolve()}))}getLocalization(e,t){const n=this.translator.getLocalization();if(n){const r=n.get(e);if(r){const e=t?r[t]:void 0;if(e)return e;const n=r.default;if(n)return n}}}getLocalePreferences(e){return this.translator.getLocalePreferences(e)}getLang(){return this.translator.lang}format(e,...t){return t&&0!==t.length?(0,r.Format)(e,t[0],...t.slice(1)):e}localize(e,t,n){var r;return null!==(r=this.getLocalization(t,e))&&void 0!==r?r:null!=n?n:t}get translatorInitialized(){return this.translator.inizialized}};a=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[r.QpTranslator])],a),t.LocalizationsService=a}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/messages.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/localization.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;let o=class Messages{};o.ExternalLink="External Link:",o.InternalLink="Internal Link:",o.AboutAcumatica="About Acumatica",o.Confirm="OK",o.Yes="Yes",o.No="No",o.ShareColumConfigStep1="Share Column Configuration Page 1 of 2",o.ShareColumConfigStep2="Share Column Configuration Page 2 of 2",o.Send="Send...",o.Save="Save",o.Cancel="Cancel",o.Previous="Prev",o.Next="Next",o.Done="Done",o.Finish="Finish",o.Reset="Reset",o.Clear="Clear",o.ClearFilter="Clear Filter",o.RemoveFilter="Remove Filter",o.SelectorSelect="Select",o.SelectCustomizationProject="Select Customization Project",o.NewEntity="New...",o.NewProject="New Project",o.InspectElement="Inspect Element (Ctrl+Alt+Click)",o.ElementProperties="Element Properties",o.Customize="Customize",o.CustomizeBusinessLogic="Customize Business Logic...",o.CustomizeDataFields="Customize Data Fields...",o.ViewBusinessLogicSource="View Business Logic Source...",o.ViewDataClassSource="View Data Class Source...",o.Actions="Actions",o.Note="Note",o.NoteTitle="Enter Record Note",o.AddPopupNotesTitle="Add Pop-Up Note",o.TaskAndActivitiesTitle="Tasks & Activities",o.Translations="Translations",o.Filter="Filter...",o.Help="Help",o.NoResultsFound="No results found.",o.Validate="Validate",o.Search="Search",o.Comment="Use <b>/* commented line */</b> to comment the text in the formula.",o.Apply="Apply",o.Load="Load",o.Files="Files",o.Activities="Activities",o.Shared="Shared",o.Default="Default",o.ScreenID="Screen ID",o.EmptySearchMessage1="Nothing has been found for '{0}'.\nTry using a different or less specific search term.",o.GridAddQuickFilter="Add Quick Filter",o.GridAdvFilter="Advanced filter",o.GridOpenAdvFilter="Open Advanced Filter",o.GridAdvanced="Advanced",o.GridFrom="From:",o.GridValue="Value:",o.GridTo="To:",o.GridName="Name:",o.GridSelectAll="Select All",o.GridAll="All",o.GridIsEmpty="Is Empty",o.GridSortAsc="Sort Ascending",o.GridSortDesc="Sort Descending",o.GridFilterSetup="Filter Settings",o.GridEditFilter="Edit Filter",o.GridRemoveFilterWarn="The current filter with all conditions will be deleted",o.GridDropColumnTip="Drop column here to set filter",o.GridSaveAs="Save As",o.GridDeleteFilter="Delete Filter",o.GridSaveFilter="Save Filter",o.GridSaveFilterAs="Save Filter As",o.GridPagesCount="of {0} pages",o.GridRecordsCount="Records {0}–{1} of {2}",o.GridRefresh="Refresh",o.GridAddRow="Add Row",o.GridDeleteRow="Delete Row",o.GridFitToScreen="Fit to Screen",o.GridExportToExcel="Export to Excel",o.GridFirstPage="Go to First Page",o.GridPrevPage="Go to Previous Page (PgUp)",o.GridNextPage="Go to Next Page (PgDn)",o.GridLastPage="Go to Last Page",o.ExportToExcelGlobalLimitExceeded="The number of selected records exceeds the recommended export limit of {0} records. Do you want to apply the limit or ignore it?",o.ExportToExcelInquiryLimitExceeded="The number of selected records exceeds the limit defined for the generic inquiry. Top {0} records will be exported.",o.ExportToExcelGlobalLimitExceededBtnApply="Apply",o.ExportToExcelGlobalLimitExceededBtnIgnore="Ignore",o.ExportToExcelGlobalLimitExceededBtnWarning="Warning",o.AddressLookupDialogTitle="Address Lookup",o.AddressLookupButtonTitle="Address Lookup",o.AddressLookupMapIsNotConfigured="The map is not configured",o.AddressLookupViewOnBingMap="View on Bing Maps",o.AddressLookupViewOnGoogleMaps="View on Google Maps",o.Parameters="Parameters",o.Globals="Globals",o.Operators="Operators",o.Arithmetic="Arithmetic",o.Logical="Logical",o.Comparison="Comparison",o.Other="Other",o.Functions="Functions",o.Conversion="Conversion",o.Aggregates="Aggregates",o.Text="Text",o.Math="Math",o.DateTime="Date/Time",o.Application="Application",o.Fields="Fields",o.Internal="Internal",o.External="External",o.Objects="Objects",o.Styles="Styles",o.SubstitutionKeys="Substitution Lists",o.BusinessEvents="Business Events",o.CreateBusinessEvent="Create business event",o.BusinessEventName="Business Event Name",o.AuditUpdateHistory="Update History",o.AuditIsNotAvailable="Detailed information is not available for this entry.",o.AuditCreatedBy="Created By",o.AuditCreatedThrough="Created Through",o.AuditCreatedOn="Created On",o.AuditLastModifiedBy="Last Modified By",o.AuditLastModifiedThrough="Last Modified Through",o.AuditLastModifiedOn="Last Modified On",o.AuditEnableFieldLevel="Enable field level audit",o.Notifications="Notifications",o.NotificationsAddEmailTemplate="Add email template",o.NotificationsAddMobileTemplate="Add mobile template",o.ProfilerHeader="Profiler",o.ProfilerStarted="Started",o.ProfilerRequestsLogged="Requests Logged",o.ProfilerStart="Start logging",o.ProfilerStop="Stop and export",o.ProfilerOpenRequest="Open request profiler",o.ProfilerDescription="Turn on the request profiler. The subsequent requests will be stored and can be viewed or exported later.",o.ProfilerWarning="Detailed information is not available for this entry.",o.FormConfigurationTitle="Section Configuration",o.FormConfigurationAvailableFields="Available Elements",o.FormConfigurationChoosenFields="Selected Elements",o.ResetToDefault="Reset To Default",o.Untitled="Untitled",o.ScreenConfigurationTitle="Form Configuration",o.ApplyToAll="Apply To All",o.LoadPersonalConfiguration="Load Personal Configuration",o.ExportConfiguration="Export Configuration",o.ImportConfiguration="Import Configuration",o.PersonalConfiguration_Info="Select the user whose personal configuration you want to load, and then to apply to all users.",o.User="User:",o.ApplyToAllDialogTitle="Apply Configuration to All Users",o.ApplyForced="Overwrite Personal Configuration",o.ApplyNotForced="Preserve Personal Configuration",o.FilesAddLink="Add Link",o.FilesRemoveLink="Remove Link",o.LinkEditorLink="Link",o.LinkEditorName="Name",o.CapturingImageButtonTitle="Upload Using Mobile App",o.CapturingImagePushSend="Tap the notification on your mobile device to start the upload.",o.ConfirmAction="Confirm Action",o.ConfirmConfirm="Confirm",o.LinkCopiedClipboard="The link has been copied to the clipboard.",o.TabConfigurationTitle="Tab Configuration",o.TabConfigurationVisibleTabs="Visible Tabs",o.TabConfigurationHiddenTabs="Hidden Tabs",o.ProcessingProcessed="Processed",o.ProcessingErrors="Errors",o.ProcessingWarnings="Warnings",o.ProcessingRemaining="Remaining",o.ProcessingTotal="Total",o.ProcessingClose="Close",o.ProcessingCancel="Cancel Processing",o.ProcessCompleted="Processing Completed",o.OperationCompleted="The operation has completed.",o.OperationAborted="The operation has been aborted.",o.NotLoggedInLogIn="You are currently logged off. Would you like to log in?",o.FileUploadCaption="File Upload",o.CommonSettingsCaption="Common Settings",o.ColumnsCaption="Columns",o.UploadFileCaption="Upload File",o.UploadFilesCaption="Upload Files",o.UploadImagePrompt="You haven’t uploaded any files yet",o.NoImageImagePrompt="Image is not selected",o.NoImageUploadImagePrompt="Upload or select image",o.DownloadingImageMessage="Downloading {0}",o.UploadingImageMessage="Uploading {0}",o.ReloadImageMessage="Reload {0}",o.LoadErrorImageMessage="Cannot load {0}",o.EditImageCommandTooltip="Choose image",o.ClearImageCommandTooltip="Clear selected image",o.PrintImageActionTitle="Print",o.DownloadImageActionTitle="Download",o.EditImageActionTitle="Edit",o.NoImageImagePopupCaption="No image",o.TabbedTreeSelector="Emails",o.TabbedTreeTree="Screen Fields",o.LoadRecordsFromFile="Load Records from File",o.TranslationValidationTitle="Translation Validation: {0} warnings",o.TranslationValidationItemTitle="Warning:",o.TranslationValidationItemBody="The following resource is not translated to the current locale: {0}",o=n.__decorate([r.localizable],o),t.Messages=o}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/preferences/index.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/preferences/preferences-service.js"),n("./node_modules/client-controls/services/preferences/preferences-api.js"),n("./node_modules/client-controls/services/preferences/types.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesApi=t.PreferencesService=void 0,Object.defineProperty(t,"PreferencesService",{enumerable:!0,get:function(){return r.PreferencesService}}),Object.defineProperty(t,"PreferencesApi",{enumerable:!0,get:function(){return o.PreferencesApi}}),n.__exportStar(a,t)}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/preferences/preferences-api.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/base-api-client.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesApi=void 0;const getApiRoute=e=>`ui/screen/${e}/preferences`;let a=class PreferencesApi{constructor(e){this.client=e}loadUsers(e){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${getApiRoute(e)}/users`)}))}loadPreferences(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${getApiRoute(e)}/${t}/${r}`)}))}savePreferences(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${getApiRoute(e)}/${t}`,r,!1)}))}loadDefaultPreferences(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${getApiRoute(e)}/${t}/${r}/default`)}))}loadAllPreferences(e,t){return n.__awaiter(this,void 0,void 0,(function*(){const n=t?`${getApiRoute(e)}?user=${t}`:getApiRoute(e);return this.client.getExt(n)}))}saveAllPreferences(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${getApiRoute(e)}`,{Preferences:t,ForceApplyForAll:r})}))}};a=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[o.BaseApiClient])],a),t.PreferencesApi=a}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/preferences/preferences-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/services/preferences/preferences-api.js"),n("./node_modules/client-controls/services/preferences/types.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesService=void 0;let d=class PreferencesService{constructor(e){this.api=e,this.subscribers=new o.CaseInsensitiveMap,this.mergers=new o.CaseInsensitiveMap,this.defaultMerger=new l.BasePreferenceMerger}registerMerger(e,t){this.mergers.set(e,t)}subscribe(e,t){const n=this.subscribers.get(e)||[];n.push(t),this.subscribers.set(e,n);const r=this.findKeySensitivePreferenceKey(e);r&&t.applyPreferences(this._screenPreferences[r])}unsubscribe(e){this.subscribers.delete(e)}getPreferences(e){var t;return null===(t=this._screenPreferences)||void 0===t?void 0:t[e]}saveUserPreferences(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){return this.setPreferences(t,r,"user"),this.api.savePreferences(e,t,this._screenPreferences[t].user)}))}setPreferences(e,t,n,r=!1){if(this._screenPreferences=this._screenPreferences||{},!t)return this._screenPreferences[e]=this._screenPreferences[e]||{},void(this._screenPreferences[e][n]=t);const o=this._screenPreferences[e],a=!(null==o?void 0:o[n])||r;(null==o?void 0:o[n])||(this._screenPreferences[e]={user:{type:t.type,preferences:{}},def:{type:t.type,preferences:{}}}),a?this._screenPreferences[e][n]=t:(this._screenPreferences[e][n]=Object.assign(Object.assign({},t),{type:o[n].type,preferences:Object.assign(Object.assign({},o[n].preferences),t.preferences)}),t.preferences||(this._screenPreferences[e][n]=Object.assign(Object.assign({},t),this._screenPreferences[e][n]))),this.notifySubscribers(e)}getScreenDefaultPreferences(){return Object.keys(this._screenPreferences).reduce(((e,t)=>(e[t]=this._screenPreferences[t].def,e)),{})}setScreenDefaultPreferences(e){Object.keys(this._screenPreferences).forEach((e=>{this._screenPreferences[e]=Object.assign(Object.assign({},this._screenPreferences[e]),{def:void 0})}));Object.keys(e).forEach((t=>{this._screenPreferences[t]=Object.assign(Object.assign({},this._screenPreferences[t]),{def:e[t]})})),this.notifyAllSubscribers()}setAllScreenPreferences(e){this._screenPreferences=e,this.notifyAllSubscribers()}loadAllPreferences(e,t,r,o){return n.__awaiter(this,void 0,void 0,(function*(){return yield this.checkScreenPreferences(e,t,r,o),this._screenPreferences}))}saveAllPreferences(e,t,r){return n.__awaiter(this,void 0,void 0,(function*(){r&&this.setScreenDefaultPreferences(r);return yield this.api.saveAllPreferences(e,this.getScreenDefaultPreferences()||{},t)}))}loadPreferenceUsers(e){return n.__awaiter(this,void 0,void 0,(function*(){return this.api.loadUsers(e)}))}resetToDefault(){this.setScreenDefaultPreferences({})}notifyAllSubscribers(){if(!this.subscribers)return;const e=this.subscribers.keys();for(const t of e)this.notifySubscribers(t)}getMerger(e){return e&&this.mergers.has(e)?this.mergers.get(e):this.defaultMerger}checkScreenPreferences(e,t,r,o){return n.__awaiter(this,void 0,void 0,(function*(){if(!o&&this._screenPreferences&&this.prevScreenId===e&&this.prevLoadMode===t)return void this.notifyAllSubscribers();const n=yield this.api.loadAllPreferences(e,r);if(this.prevScreenId=e,this.prevLoadMode=t,!n)return this._screenPreferences={},void this.notifyAllSubscribers();const a=n.def?Object.keys(n.def):[],d=n.user?Object.keys(n.user).filter((e=>!n.def[e])):[],c=a.reduce(((e,r)=>{var o,a,l,d,c;const u=(null===(o=n.def[r])||void 0===o?void 0:o.type)||(null===(l=null===(a=n.user)||void 0===a?void 0:a[r])||void 0===l?void 0:l.type),p=this.getMerger(u);return e[r]=e[r]||{},e[r].def=p.merge(t,{def:n.def[r],user:null===(d=n.user)||void 0===d?void 0:d[r]}),e[r].user=null===(c=n.user)||void 0===c?void 0:c[r],e}),{});t!==l.PreferenceLoadMode.onlyDefault&&(null==d?void 0:d.length)>0&&d.forEach((e=>{c[e]=c[e]||{},c[e].user=n.user[e]})),this.setAllScreenPreferences(c)}))}notifySubscribers(e){if(!this.subscribers)return;const t=this.subscribers.get(e);if(!t)return;const n=this.findKeySensitivePreferenceKey(e);for(const e of t)e.applyPreferences(n&&this._screenPreferences[n]||{})}findKeySensitivePreferenceKey(e){const t=this._screenPreferences&&Object.keys(this._screenPreferences);return null==t?void 0:t.find((t=>t.toLowerCase()===e.toLowerCase()))}};d=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[a.PreferencesApi])],d),t.PreferencesService=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/preferences/types.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceLoadMode=t.BasePreferenceMerger=t.PreferenceBase=void 0;t.PreferenceBase=class PreferenceBase{};var n;t.BasePreferenceMerger=class BasePreferenceMerger{merge(e,t){const r=t.def,o=t.user;switch(e){case n.onlyDefault:return r;case n.onlyUser:return o;case n.merged:return this.combineUserAndDefPreferences(r,o);default:return}}combineUserAndDefPreferences(e,t){if(!t||!t.preferences)return e;if(!e||!e.preferences)return t;const n=Object.assign(Object.assign({},e),{preferences:Object.assign({},e.preferences)});return Object.keys(t.preferences).forEach((e=>{n.preferences[e]=t.preferences[e]})),n}},function(e){e.merged="merged",e.onlyDefault="default",e.onlyUser="user"}(n=t.PreferenceLoadMode||(t.PreferenceLoadMode={}))}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/services/screen-api-client.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/base-api-client.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericInquiryApiClient=t.ScreenApiClient=t.ScreenApiClientSettings=void 0;class ScreenApiClientSettings{}t.ScreenApiClientSettings=ScreenApiClientSettings;let a=class ScreenApiClient{constructor(e,t){this.client=e,this.screenApiSettings=t,this.isFirstCallback=!0}get callbackRunning(){return this.client.callbackRunning}getScreenData(e){return n.__awaiter(this,void 0,void 0,(function*(){let t="";this.screenApiSettings.forceUI&&(t&&(t+="&"),t+=`ui=${this.screenApiSettings.forceUI}`);let n="";this.screenApiSettings.clearSessionOnGetRequest&&(n="/cleared");let r="";return this.screenApiSettings.companyId&&(r=`t/${this.screenApiSettings.companyId}/`),this.client.getExt(`${r}${this.getRoute(e)}${n}${t?"?":""}${t}`)}))}executeCallback(e,t,n,r){let o="";n&&(o+=`PopupPanel=${n}`),this.screenApiSettings.forceUI&&(o&&(o+="&"),o+=`ui=${this.screenApiSettings.forceUI}`),!this.isFirstCallback||this.screenApiSettings.dueToRedirect||n||(t.clearSession=!0),this.isFirstCallback&&this.screenApiSettings.dueToRedirect&&(t.isRedirect=!0);const a={};this.isFirstCallback&&this.screenApiSettings.dueToRedirect&&!(null==t?void 0:t.command)&&(a.RedirectTargetScreenID=e),this.isFirstCallback&&!this.screenApiSettings.isInlineScreenRequest&&(t.isFirstRequest=!0);let l="";return this.screenApiSettings.companyId&&(l=`t/${this.screenApiSettings.companyId}/`),this.isFirstCallback=!1,this.client.fetchExt(`${l}${this.getRoute(e)}?${o}`,t,r,a)}getRoute(e){return`ui/screen/${e}`}};a=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[o.BaseApiClient,ScreenApiClientSettings])],a),t.ScreenApiClient=a;t.GenericInquiryApiClient=class GenericInquiryApiClient extends a{constructor(e,t,n){super(e,t),this.genericInquiryId=n}getRoute(e){return`ui/inquiry/${this.genericInquiryId}`}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/screen-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/descriptors/api-types.js"),n("aurelia-framework"),n("aurelia-event-aggregator"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/descriptors/session-url-router.js"),n("./node_modules/client-controls/services/screen-api-client.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("client-controls/controls/dialog/informer/qp-informer-rack"),n("./node_modules/client-controls/services/alert-service.js"),n("client-controls/controls/dialog/alert/qp-alert"),n("./node_modules/client-controls/services/messages.js"),n("./node_modules/client-controls/descriptors/redirect-helper.js"),n("./node_modules/client-controls/services/tab-fields-service.js")],o=function(e,t,n,r,o,a,l,d,c,u,p,h,g,m,f,v,b,y,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupMessageOpenEvent=t.ScreenService=void 0;const x=(0,l.getLogger)("screenService");let C=class ScreenService{constructor(e,t,n,r,o,a,l){this.eventAggregator=e,this.tq=t,this.bindingEngine=n,this.alertService=r,this.redirector=o,this.busyCounter=a,this.urlRouter=l,this.isNewEntry=!0,this.initialized=!1,this.longRunInProgress=!1,this.dirtyValues=[],this.subscriptions=new Map,this.suspendUpdates=!1,this.updateInProgress=!1,this.viewBindings=[],this.postponedTasks=[],this.fieldErrorsMap={}}get screenID(){var e,t;return null!==(t=null===(e=this.model)||void 0===e?void 0:e.screenID)&&void 0!==t?t:""}get isValid(){return!!this.screenApiClient&&!!this.model}get callbackRunning(){var e;return!!(null===(e=this.screenApiClient)||void 0===e?void 0:e.callbackRunning)}registerDataComponent(e,t,n){return this.internalRegisterDataComponent(e,t,n),{dispose:()=>this.unregisterDataComponent(e)}}registerDataComponentOneTime(e,t){this.registerDataComponent(e,t,{oneTimeRegistration:!0})}unregisterDataComponent(e){var t;null===(t=this.dataComponents)||void 0===t||t.delete(e)}isCompositeComponent(e){return"children"in e}getDataComponentConfig(e){var t;return null===(t=this.dataComponents)||void 0===t?void 0:t.get(e)}getDataComponent(e){var t;return null===(t=this.getDataComponentConfig(e))||void 0===t?void 0:t.instance}registerViewBinding(e,t,n){e?this.unregisterViewBinding(e):this.unregisterViewBinding(t),t&&this.viewBindings.push({element:e,view:t,field:n})}unregisterViewBinding(e){let t=-1;t="string"==typeof e?this.viewBindings.findIndex((t=>t.view===e&&null==t.element)):this.viewBindings.findIndex((t=>t.element===e)),t>=0&&this.viewBindings.splice(t,1)}registerLoadOnDemandArea(e){this.loadOnDemandAreas||(this.loadOnDemandAreas=[]),this.unregisterLoadOnDemandArea(e),this.loadOnDemandAreas.push(e)}unregisterLoadOnDemandArea(e){var t;const n=null===(t=this.loadOnDemandAreas)||void 0===t?void 0:t.findIndex((t=>t===e));n>=0&&this.loadOnDemandAreas.splice(n,1)}registerPostponedTask(e){this.postponedTasks.push(e)}unregisterPostponedTask(e){var t;const n=null===(t=this.postponedTasks)||void 0===t?void 0:t.indexOf(e);n>=0&&this.postponedTasks.splice(n,1)}getGraphInfo(){var e;return null===(e=this.model)||void 0===e?void 0:e.graphInfo}getViewsInfo(){if(!this.initialized)throw"Screen should be initialized before getting info about its structure";return this.screenViewInfo}initialize(){var e,t;return n.__awaiter(this,void 0,void 0,(function*(){let n,r;const o=new Promise(((e,t)=>{n=e,r=t}));return this.screenViewInfo=null,null===(t=null===(e=this.screenApiClient)||void 0===e?void 0:e.getScreenData(this.model.screenID))||void 0===t||t.then((e=>{void 0!==e?(this.siteMapScreenID=e.siteMapScreenId,this.repaintScreen(e,!0,!0),this.initialized=!0,this.screenViewInfo=e.fieldStates,this.tq.queueTask((()=>n(e)))):this.tq.queueTask((()=>r(e)))}),(e=>{r(e)})),o}))}dispose(){this.dirtyValues=[],this.subscriptions.forEach((e=>e.forEach((e=>e.dispose())))),this.subscriptions=new Map}update(e,t){var o;return n.__awaiter(this,void 0,void 0,(function*(){const n=this.urlRouter.resolvePopupPanelMode(window.location);let a;this.eventAggregator.publish(d.CALLBACK_STARTED_EVENT,e),this.updateInProgress=!0;try{a=this.getQueryParams(e,t)}finally{this.updateInProgress=!1}null==t?void 0:t.blockPage;if(e){const t=this.model.actions.get(e);if((this.model.isDirty||(null==t?void 0:t.confirmationType)===d.PXConfirmationType.Always)&&(null==t?void 0:t.confirmationMessage)){if((yield this.alertService.openAlert({message:t.confirmationMessage,buttons:v.QpAlertButtons.OkCancel,title:b.Messages.ConfirmAction,okButtonText:b.Messages.ConfirmConfirm}))!==v.QpAlertResults.Confirm)return Promise.resolve({canceled:!0})}}const l=null===(o=this.screenApiClient)||void 0===o?void 0:o.executeCallback(this.model.screenID,a,n);if(!l)return Promise.resolve({succeeded:!1});let c,u,p=!1;return new Promise((n=>{this.busyCounter.increment(),l.whenDataReady((n=>{p=!0;const o=!!(null==n?void 0:n.redirects);if(c=o?n.screenData:n,(null==c?void 0:c.messages)&&c.messages.forEach((e=>{(0,m.showInformer)(e.message,e.messageType)})),null!=(null==c?void 0:c.graphIsDirty)&&this.model.setDirty(c.graphIsDirty),c&&this.repaintScreen(c,!1,!1,e),o&&(u=n,u.command=e,(null==u?void 0:u.redirects.length)>0&&(!1!==u.isDirty&&"CancelClose"!==e&&"CancelCloseToList"!==e||this.model.setDirty(!1),null==t?void 0:t.openFrameset)))for(const e of u.redirects)e.settings.mode!==r.WindowMode.InlineWindow&&e.settings.mode!==r.WindowMode.Same||(e.settings.mode=r.WindowMode.New);return this.tq.queueTask((()=>{if(this.postponedTasks.length>0&&!this.callbackRunning){for(const e of this.postponedTasks)e();this.postponedTasks.length=0}})),n})).finally((()=>{var r;this.busyCounter.decrement();const o=new d.CallbackCompletedEvent;o.command=e,o.dialogResult=null===(r=null==t?void 0:t.dialogCallback)||void 0===r?void 0:r.dialogResult,o.validationOk=(()=>{var e;if(!c||!c.messages)return!0;if(c.messages.every((e=>"error"!==e.messageType)))return!0;if(null===(e=null==t?void 0:t.dialogCallback)||void 0===e?void 0:e.viewName){const e=c.fieldStates[t.dialogCallback.viewName];if(e&&e.every((e=>!e.fieldState.error)))return!0}return!1})(),this.tq.queueTask((()=>{this.eventAggregator.publish(d.CALLBACK_COMPLETED_EVENT,o),this.postponedTasks.length=0,n({succeeded:p&&!!o.validationOk,redirectData:u})}))}))}))}))}executeCommand(e,t){return this.eventAggregator.publish(d.BEFORE_CALLBACK_EVENT,e),this.tq.flushMicroTaskQueue(),new Promise((r=>{this.tq.queueTask((()=>n.__awaiter(this,void 0,void 0,(function*(){r(yield this.update(e,t))}))))}))}setScreenParameter(e,t,n,r=void 0){this.registerViewFieldChange(e,t,n,{typing:!1,rowId:r})}registerViewFieldChange(e,t,n,r){let o=null==r?void 0:r.rowId;o||(o=this.getRecordIdByKeys(e));const a=this.dirtyValues.findIndex((n=>n.fieldName.toLowerCase()===t.toLowerCase()&&n.viewName.toLowerCase()===e.toLowerCase()&&n.rowId===o));if(a>=0){if(null==r?void 0:r.typing)return;this.dirtyValues.splice(a,1)}this.dirtyValues.push({viewName:e,fieldName:t,value:n,rowId:o,typing:null==r?void 0:r.typing})}cancelViewFieldChanges(e){this.dirtyValues=this.dirtyValues.filter((t=>t.viewName!==e))}hasChanges(){return this.dirtyValues.length>0}applyFieldUpdated(){this.tq.flushMicroTaskQueue()}repaintScreen(e,t=!1,n=!1,r){var o,a;this.id=e.id,this.isNewEntry=void 0!==e.isNewEntry&&e.isNewEntry,this.isDraft=e.isDraft;const l=e.fieldStates;this.suspendUpdates=!0;for(const n in l){const r=this.model[n];if(this.fieldErrorsMap[n]={},!r||!r.getField)continue;const c=[],u=l[n];if(r.name=n,r instanceof d.PXViewCollection&&r.isCollection()){const t=e.controlsData&&e.controlsData[n]?null==e?void 0:e.controlsData[n]:void 0,l=null===(o=null==t?void 0:t.columns)||void 0===o?void 0:o.filter((e=>e.state)).map((e=>({fieldName:e.field,fieldState:e.state})));l&&r.setFields&&r.setFields(l);const c=d.PXReflectionMetadata.getMetadata(this.Model,n,d.viewInfo.name);if(r.registerScreenService(this),t&&(null==c?void 0:c.syncAlways)){let e;if(null==t?void 0:t.rows){r.setRows(t.rows,t.columns);for(let n=0;n<r.records.length;n++){const o=r.records[n];(null!==(a=o.id)&&void 0!==a?a:o.getRecordIdByKeys())===t.activeRowId&&(e=n)}}r.setActiveRow(e)}}else r instanceof d.PXView&&(u.forEach((e=>{var o;!t&&r.getField(e.fieldName)||c.push(e.fieldName);const a=e.fieldState;a&&a.viewName&&(a.graph=null===(o=this.model.graphInfo)||void 0===o?void 0:o.graphType),a.error&&(this.fieldErrorsMap[n][`${n}.${e.fieldName}`]={message:a.error,level:a.errorLevel})})),r.setFields&&r.setFields(u),r.id=e.recordsIds?e.recordsIds[n]:r.getRecordIdByKeys(),this.attachValueObserversForView(c,r,n))}this.model.setActionStates(e.actionStates,e.actionNamesPerView),e.controlsData&&(n&&this.instantiateDataComponent(Object.keys(e.controlsData)),this.repaintDataComponents(this.dataComponents,e)),this.tq.flushing||this.tq.flushMicroTaskQueue(),this.dirtyValues=this.dirtyValues.filter((e=>{var t;if(!(null===(t=this.fieldErrorsMap)||void 0===t?void 0:t[e.viewName]))return!1;const n=this.fieldErrorsMap[e.viewName][`${e.viewName}.${e.fieldName}`];return n&&(n.level===d.PXErrorLevel.Error||n.level===d.PXErrorLevel.RowError)})),this.tq.queueTask((()=>this.suspendUpdates=!1)),e.screenID=this.screenID,this.eventAggregator.publish("screen-updated",e)}attachValueObserversForView(e,t,n){e.forEach((e=>this.attachValueObserver(t.getField(e),n,e,t)))}clearObservers(e){var t;e&&(null===(t=this.subscriptions.get(e))||void 0===t||t.forEach((e=>e.dispose())),this.subscriptions.delete(e))}updatesSuspended(){return this.suspendUpdates||this.updateInProgress}hasFieldsErrors(){if(!this.fieldErrorsMap)return!1;for(const e in this.fieldErrorsMap){if(!this.fieldErrorsMap[e])continue;if(Object.keys(this.fieldErrorsMap[e]).length>0)return!0}return!1}getFieldError(e){var t,n;const r=null==e?void 0:e.split(".");if(r)return null===(n=null===(t=this.fieldErrorsMap)||void 0===t?void 0:t[r[0]])||void 0===n?void 0:n[e]}get Model(){return this.model}activateDataComponents(e){const t=e?this.getDataComponents().filter((t=>e.indexOf(t.name)>-1)):this.getDataComponents();this.eventAggregator.publish("data-components-initialized",t)}instantiateDataComponent(e){if(!(null==e?void 0:e.length))return;let t=!1;for(const n of e){const e=this.getDataComponentConfig(n);let r=null==e?void 0:e.instance;!r&&(null==e?void 0:e.creator)&&(r=e.creator(),e.instance=r),r&&(r.resultType||(r.resultType=n),t=!0)}t&&this.activateDataComponents()}internalRegisterDataComponent(e,t,n){if(this.dataComponents||(this.dataComponents=new Map),this.dataComponents.has(e))return;const r={oneTimeRegistration:null==n?void 0:n.oneTimeRegistration,category:null==n?void 0:n.category};t instanceof Function?r.creator=t:(r.instance=t,r.instance.resultType||(r.instance.resultType=e),this.isCompositeComponent(t)&&t.registerCompositeDataComponents(this.model)),this.dataComponents.set(e,r)}getDataComponents(){return Array.from((this.dataComponents||new Map).entries()).filter((e=>e[1].instance)).map((e=>({name:e[0],component:e[1].instance,category:e[1].category})))}repaintDataComponents(e,t){null==e||e.forEach(((e,n)=>{const r=e.instance;r&&(this.isCompositeComponent(r)?r.setComponentData(t.controlsData):this.repaintDataComponent(r,n,(t.controlsData||{})[n]),e.oneTimeRegistration&&(t.controlsData||{})[n]&&this.unregisterDataComponent(n))}))}repaintDataComponent(e,t,n){if(n){try{e.setComponentData(n)}catch(e){x.error(`Error occured while running setComponentData ${t}`,e)}e.getComponentErrors&&(this.fieldErrorsMap[t]=e.getComponentErrors(t,n))}}collectDataComponentQueryParams(e,t,n,r,o,a,l){null==e||e.forEach(((e,d)=>{const c=e.instance;if(c){let e=!1;if(a&&c.element&&(l&&!l.contains(c.element)&&(e=!0),!e&&(null==r?void 0:r.some((e=>e!==l&&e.contains(c.element))))&&(e=!0)),!e&&o&&(e=!o.has(d.toLowerCase())),!e&&c.getQueryParams){const e=c.getQueryParams(n)||{};this.isCompositeComponent(c)||(t[d]=Object.assign(Object.assign({},e||{}),{resultType:null==c?void 0:c.resultType}))}}}))}getQueryParams(e,t){var n,r;void 0===t&&(t=new d.ScreenUpdateParams);const o={command:e};o.dialogCallback=t.dialogCallback,t.commitChanges?o.data=this.dirtyValues.filter((e=>!e.typing)).map((e=>{const t=Object.assign({},e);return delete t.typing,t})):t.data&&(o.data=t.data);const a=t.container,l=null===(n=this.loadOnDemandAreas)||void 0===n?void 0:n.filter((e=>!(0,c.isVisible)(e))),u=this.model.optimizeDataSelection,p=t.views?new Set(t.views.map((e=>e.toLowerCase()))):void 0;if(o.controlsParams={},this.collectDataComponentQueryParams(this.dataComponents,o.controlsParams,t,l,p,u,a),u){o.viewsParams=t.commitChanges||this.model.isDirty?_.TabbarFieldsService.getNecessaryViews(this.screenID):{};for(const e of this.viewBindings){if(e.element){if(a){if(!a.contains(e.element))continue}else if(!(null===(r=e.element.ownerDocument)||void 0===r?void 0:r.contains(e.element)))continue;if(null==l?void 0:l.some((t=>t.contains(e.element))))continue}p&&!p.has(e.view.toLowerCase())||(o.viewsParams[e.view]={})}}return o}attachValueObserver(e,t,n,r){const o=this.generateValueObserver(t,n,e.commitChanges,r);e.updateValue=o=>{var a;e.value=o;let l=null!==(a=r.id)&&void 0!==a?a:r.getRecordIdByKeys();l||(l=this.getRecordIdByKeys(t)),this.setScreenParameter(t,n,o,l)},this.subscriptions.has(t)||this.subscriptions.set(t,[]),this.subscriptions.get(t).push(this.bindingEngine.propertyObserver(e,"value").subscribe(o))}generateValueObserver(e,t,n,r){return(o,a)=>{var l;if(!this.suspendUpdates&&!this.updateInProgress&&!r.viewInUpdateProcess){let a=null!==(l=r.id)&&void 0!==l?l:r.getRecordIdByKeys();a||(a=this.getRecordIdByKeys(e)),this.setScreenParameter(e,t,o&&o.id?o.id:o,a),this.model.setDirty(),n&&this.update()}}}getRecordIdByKeys(e){const t=this.model[e];return t.id?t.id:t.getRecordIdByKeys()}};n.__decorate([(0,h.newInstance)(p.ScreenApiClient),n.__metadata("design:type",Object)],C.prototype,"screenApiClient",void 0),C=n.__decorate([(0,g.autoinject)(),n.__param(6,(0,g.inject)(u.SessionUrlRouter)),n.__metadata("design:paramtypes",[a.EventAggregator,o.TaskQueue,o.BindingEngine,f.AlertService,y.RedirectHelper,c.BusyCounter,Object])],C),t.ScreenService=C;t.PopupMessageOpenEvent=class PopupMessageOpenEvent{constructor(e){this.popupMessage=e}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/selector-service/selector-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),n("./node_modules/client-controls/utils/index.js"),n("./node_modules/client-controls/descriptors/index.js"),n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),n("./node_modules/client-controls/controls/dialog/base-dialog/dialog-helper.js")],o=function(e,t,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorService=void 0;const u=490;(0,o.getLogger)("selector service");let p=class SelectorService{constructor(e,t,n){this.dialogHelper=e,this.screenEventManager=t,this.tq=n,this.selectors=new Map,this.gridReady=!1,this.dataReadyHandler=()=>{}}getDialogVM(){var e;return null===(e=this.dialogController)||void 0===e?void 0:e.controller.viewModel}getSelectorValue(e,t,r,o,a){var d;return n.__awaiter(this,void 0,void 0,(function*(){let n,r;null===(d=this.dialogController)||void 0===d||d.cancel();const c=new Promise(((e,t)=>{n=e,r=t}));e.preset=l.GridPreset.Empty,e.allowUpdate=!1,e.allowDelete=!1,e.allowInsert=!1,e.adjustPageSize=!0,e.suppressNoteFiles=!0,e.markRequired=!1,e.id||(e.id="selector-dialog-grid"),this.gridConfig=e,this.searchValue=o,this.searchField=a||this.gridConfig.valueField;const p=`${e.dialogCaptionPrefix}${e.displayName?` – ${e.displayName}`:""}`;let h;return this.dialogHelper.openDialog({template:'<template auto-repaint="false"><qp-grid class="stretch"\n\t\t\t\tsearch-value.bind="searchValue" search-field.bind="searchField"\n\t\t\t\tconfig.bind="gridConfig"\n\t\t\t\ton-default-action.call="selected(args)"\n\t\t\t\ton-action.call="actionHandler(args)"\n\t\t\t\ton-data-ready.call="dataReadyHandler(grid, args)"\n\t\t\t\ton-active-row-changed.call="rowChanged(args)" ref="gridElem">\n\t\t\t\t</qp-grid></template>',context:this,id:e.panel_id,caption:p,resizableConfig:{minWidth:e.minWidth||u,minHeight:e.minHeight||330}},{ignoreTransitions:!0,rejectOnCancel:!0,position:(e,n)=>this.position(t,e,n)},(e=>{this.dialogController=e.controller,h=this.getDialogVM().QpEventManager.subscribe("ExecuteCommand",(e=>{"select"===e.Command&&e.stop()}))})).whenClosed((e=>{n(e.output)})).catch((()=>{r("because reason")})).finally((()=>{this.dialogController=void 0,null==h||h.dispose()})),yield c}))}position(e,t,n){const r=t.querySelector("ux-dialog"),o=t.querySelector("ux-dialog-body");if(!r||!o)return;const a=r.style,l=e.getBoundingClientRect(),c=l.top,p=d.PLATFORM.global.innerHeight-l.bottom,h=d.PLATFORM.global.innerWidth-l.left,g=c>p;a.width="800px",this.setHeight(t,g?c:p),a.position="absolute",a.transform="translateY(-10000px)",this.dataReadyHandler=(e,n)=>{let o=NaN,m=NaN,f=NaN,v=NaN,b=!1;const y=this.getDialogVM();y&&(y.position(t),b=y.maximized,y.maximized=!1);let _=r.getBoundingClientRect(),x=_.width;const C=e.freeWidth;C>0&&(x=Math.max(_.width-C+1,u),a.width=`${x}px`,x===u&&e.adjustColumns(!1));const S=e.freeHeight;S>0&&this.setHeight(t,Math.max(_.height-S+1,330)),_=r.getBoundingClientRect(),_.height>d.PLATFORM.global.innerHeight?o=0:g?_.height>c?o=0:m=d.PLATFORM.global.innerHeight-l.top:_.height>p?m=0:o=l.bottom,_.width>d.PLATFORM.global.innerWidth?(f=0,x=d.PLATFORM.global.innerWidth,a.width=`${x}px`):h<x?v=0:f=l.left,Number.isNaN(o)||(a.top=`${o}px`),Number.isNaN(m)||(a.bottom=`${m}px`),Number.isNaN(f)||(a.left=`${f}px`),Number.isNaN(v)||(a.right=`${v}px`),(b||d.PLATFORM.global.innerWidth<u||d.PLATFORM.global.innerHeight<330)&&y.maximize(),a.transform="none",this.dataReadyHandler=()=>{}}}setHeight(e,t){var n;const r=null===(n=this.getDialogVM())||void 0===n?void 0:n.resizerVM;if(r)r.setHeight(t);else{e.querySelector(".qp-resizable").style.height=`${t}px`}}actionHandler(e){var t,n;"select"===e.action?null===(t=this.dialogController)||void 0===t||t.ok(this.preselectedValue):"addNewRecord"===e.action&&(null===(n=this.dialogController)||void 0===n||n.ok({id:"<NEW>",text:"<NEW>"}))}selected(e){var t;if(void 0!==e.activeRow){const n=e.getCell(this.gridConfig.valueField),r=e.getCell(this.gridConfig.descriptionName);n&&(null===(t=this.dialogController)||void 0===t||t.ok({id:(0,a.getRawValue)(n.value),text:(0,a.getRawValue)(null==r?void 0:r.value)||""}))}}rowChanged(e){var t,n;if(!this.gridReady&&(this.gridReady=!0,this.gridElem)){const e=this.gridElem.querySelector("input");e&&this.tq.queueTask((()=>e.focus()))}if(void 0!==e.activeRow){const r=e.getCell(this.gridConfig.valueField),o=e.getCell(this.gridConfig.descriptionName),a=(null===(t=null==r?void 0:r.value)||void 0===t?void 0:t.id)?r.value.id:null==r?void 0:r.value,l=(null==o?void 0:o.value)||(null===(n=null==r?void 0:r.value)||void 0===n?void 0:n.text)||"";this.preselectedValue={id:a,text:l}}}getValueFromSelector(e){return n.__awaiter(this,void 0,void 0,(function*(){const t=yield this.ensureSelectorInTheDom(e);let n,r;const o=new Promise(((e,o)=>{n=e,r=o,t.resolvers={resolve:n,reject:r}}));return this.querySelector(t,e),o}))}querySelector(e,t){const n=__px(document).getDropDownPos(t.inputElement,e.panelElement,2);document.dropDownElem=e.panelElement,e.panelElement.setAttribute("controlID",e.panelObject.ID),e.panelElement.style.left=`${n.left}px`,e.panelElement.style.top=`${n.top}px`,e.panelElement.style.position="absolute",e.panelElement.style.display="",e.activeQuery=!0;const r=e.gridObject;r.clearFastFilter(),r.search(t.value,t.valueColumn);const o=e.gridObject;setTimeout((()=>{o.filterBar&&!__px(document).IsTablet?o.filterBar.focus():o.focus()}),1)}ensureSelectorInTheDom(e){return n.__awaiter(this,void 0,void 0,(function*(){let t,n;const r=new Promise(((e,r)=>{t=e,n=r}));if(this.selectors.has(e.controlId))t(this.selectors.get(e.controlId));else{const n={name:"DropDown",blockPage:!0,commitChanges:!1,repaintControls:0,postData:1,postDataControls:!0,container:"",repaintControlsIDs:"",selectControlsIDs:"",commitChangesIDs:"",optimizePostData:!1};__px_callback(window).execI({ID:e.controlId,sourceName:e.controlName},n,"",(n=>{this.selectors.set(e.controlId,this.callbackHandler(n,e)),t(this.selectors.get(e.controlId))}))}return r}))}callbackHandler(e,t){__px_cm(window).processHtmlData(e,`${t.controlId}_selector_dialog`);const n=document.querySelector(`#${t.controlId}_selector_dialog`),r=document.querySelector(`#${t.controlId}_pnl_gr`),o=r.object,a=o.events,l=document.querySelector(`#${t.controlId}_pnl`),d=l.object,c=d.events;document.querySelector("form").appendChild(l);const u={selectorElement:n,grid:r,gridObject:o,panelElement:l,panelObject:d,resolvers:void 0,activeQuery:!1},resolveWithCurrentCell=()=>{const e=o.activeRow.getCell(t.valueColumn).getValue(),n=o.activeRow.getCell(t.textColumn).getValue();u.resolvers&&u.activeQuery&&u.resolvers.resolve({id:e,text:n}),u.panelElement.style.display="none",document.dropDownElem=void 0},rejectWithStatus=e=>{u.resolvers.reject(new Error(e)),u.panelElement.style.display="none",document.dropDownElem=void 0};return u.panelObject.hideDropDown=()=>{rejectWithStatus("outer click")},c.addEventHandler("beforeHide",(()=>{rejectWithStatus("Close")})),a.addEventHandler("keyDown",((e,t)=>{switch(t.key){case 13:t.cancel=!0,resolveWithCurrentCell();break;case 27:t.cancel=!0,rejectWithStatus("Close")}})),o.extToolbar.events.addEventHandler("buttonClick",((e,t)=>{if("Select"===t.button.key)resolveWithCurrentCell()})),a.addEventHandler("cellClick",((e,t)=>{2===t.event.clickCount&&resolveWithCurrentCell()})),u}};p=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[c.DialogHelper,l.QpEventManager,r.TaskQueue])],p),t.SelectorService=p}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/session-url-serializer.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionUrlSerializer=void 0;const n="(W(",r=`/${n}`;t.SessionUrlSerializer=class SessionUrlSerializer{constructor(){this.getDefaultUrlParams=()=>({protocol:"",hostname:"",sitename:"",isRoot:!1,pathname:"",sessionNumber:0})}serializeUrl(e){let t="";return e.protocol&&e.hostname&&(t+=`${e.protocol}://`),e.hostname&&(t+=`${e.hostname}`),e.port&&(t+=`:${e.port}`),e.sitename&&(t+=`/${e.sitename}`),e.sessionNumber&&(t+=`/${n}${e.sessionNumber}))`),e.pathname&&(t+=`/${e.pathname}`),e.queryParams&&(t+=`?${this.serializeQueryParams(e.queryParams)}`),t}parseUrl(e,t){const o=this.getDefaultUrlParams();let a=e.indexOf("//"),l="";if(a>0){o.protocol=e.substring(0,a-1),a=o.protocol.length+3,l=e.substring(a,e.indexOf("/",a));const t=l.split(":");2===t.length?(o.hostname=t[0],o.port=parseInt(t[1]),isNaN(o.port)&&(o.port=void 0)):1===t.length&&(o.hostname=t[0]),o.isRoot=!0}else a=0;const d=e.substring(a).split("?");if(!d.length)throw Error("Url is in bad format");let c=d[0];l&&(c=c.substring(l.length)),c.startsWith(r)||(c=this.removeLeft(c,"/"));const u=c.split("/"),p=u.findIndex((e=>{if(e.startsWith(n))return!0}));let h=p+1;if(h>0){const e=u[p];o.sessionNumber=parseInt(e.substring(3)),isNaN(o.sessionNumber)&&(o.sessionNumber=0),o.sitename=u.slice(0,p).join("/")}else t?(o.sitename=t,u[0]===t&&(h=1)):"Main"!==u[0]&&(o.sitename=u[0],h=1);return o.pathname=u.slice(h).join("/"),2===d.length&&(o.queryParams=this.parseQueryParams(d[1])),o}parseLocation(e){const t=this.parseUrl(e.pathname);return t.protocol=e.protocol.substring(0,e.protocol.indexOf(":")),t.hostname=e.hostname,t.port=Number.parseInt(e.port),t}parseQueryParams(e){const t=this.removeLeft(e,"?"),n={};return t.split("&").forEach((e=>{const t=e.split("=");2===t.length&&(n[t[0]]=t[1])})),n}removeLeft(e,t){let n=e;for(;n.charAt(0)===t;)n=n.substring(1);return n}serializeQueryParams(e){let t=Object.keys(e).reduce(((t,n)=>`${t}${n}=${e[n]}&`),"");return t.lastIndexOf("&")===t.length-1&&(t=t.substring(0,t.length-1)),t}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/services/suggestings-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/api-client.js"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestingsServiceFabric=t.SuggestingsService=void 0;class SuggestingsService{constructor(e,t){this.params=e,this.apiClient=t,this.results=new Map,this.baseQuery={args:e.args,fields:this.params.fields,filter:"",graph:this.params.graph,graphStateId:this.params.graphStateId,inlineArgs:this.params.inlineArgs,skip:0,take:this.params.pageSize,view:this.params.viewName,dataField:this.params.dataField}}abortRequest(){this.abortController&&(this.abortController.signal.aborted||this.abortController.abort())}getSuggestions(e){return n.__awaiter(this,void 0,void 0,(function*(){if(!this.results.has(e)){const t=Object.assign(Object.assign(Object.assign({},this.baseQuery),{filter:e}),{take:2*this.params.pageSize});return this.getData(t).then((n=>(n.haveMore&&(n.loadMore=()=>{if(n.loading)return;n.loading=!0;const e=Object.assign(Object.assign({},t),{skip:n.suggestionItems.length,take:this.params.pageSize});this.getData(e).then((e=>{n.haveMore=e.haveMore,n.totalCount=e.totalCount,n.suggestionItems.push(...e.suggestionItems),n.loading=!1}))}),this.results.set(e,n),this.results.get(e))))}return Promise.resolve(this.results.get(e))}))}getData(e){return n.__awaiter(this,void 0,void 0,(function*(){return this.abortRequest(),this.abortController=new AbortController,this.apiClient.getSuggestionData(e,this.abortController.signal).then((t=>{if(!t.data||!t.fields)return{haveMore:!1,totalCount:0,suggestionItems:[],loading:!1};const n=t.fields.findIndex((e=>e.toLowerCase()===this.params.valueField.toLowerCase())),r=t.fields.length>1&&this.params.descriptionName!==this.params.valueField?t.fields.findIndex((e=>e.toLowerCase()===`${this.params.descriptionName}`.toLowerCase())):-1;return{haveMore:t.haveMore,loading:!1,suggestionItems:t.data.map((t=>{const o=t[n],l=-1===r?void 0:t[r];return{display:l,segments:(0,a.markHighlights)(e.filter,l?`${o} - ${l}`:`${o}`),value:o}})),totalCount:t.totalCount}}))}))}}t.SuggestingsService=SuggestingsService;let l=class SuggestingsServiceFabric{constructor(e){this.apiClient=e}getSuggestingService(e){return new SuggestingsService(e,this.apiClient)}};l=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[o.ApiClient])],l),t.SuggestingsServiceFabric=l}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/tab-fields-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/descriptors/api-types.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabbarFieldsService=void 0;function findAllFieldinfo(e){const t={fields:[],grids:[],fieldsets:[],allViewNames:[]},n=null==e?void 0:e.querySelectorAll("qp-fieldset, qp-field, qp-grid");if(!n||0===n.length)return t;const r={};return n.forEach((e=>{switch(null==e?void 0:e.tagName){case"QP-FIELD":const n=e.getAttribute("control-state.bind");if(n){t.fields.push(n);const e=n.split(".");e.length>0&&(r[e[0]]=!0)}break;case"QP-FIELDSET":const o=e.getAttribute("id"),a=e.getAttribute("view.bind"),l={id:o,defaultFields:[],viewId:void 0},d=e.querySelectorAll("field");(null==d?void 0:d.length)>0&&d.forEach((e=>{const t=null==e?void 0:e.getAttribute("name");if(a)l.defaultFields.push(`${a}.${t}`);else if(t){const e=t.split(".");l.defaultFields.push(t),r[e[0]]=!0}})),a&&(r[a]=!0,l.viewId=a),t.fieldsets.push(l);break;case"QP-GRID":const c=e.getAttribute("view.bind");c&&t.grids.push({view:c,columns:[]})}})),t.allViewNames=Object.keys(r),t}t.TabbarFieldsService=new class TabFieldsService{constructor(){this.fieldsInfo={}}initTabbar(e){const t=document.createElement("div");t.innerHTML=e.innerHtml;const n=Array.from(t.getElementsByTagName("QP-TAB"));this.fieldsInfo[e.screenId]=this.fieldsInfo[e.screenId]||{},this.fieldsInfo[e.screenId][e.tabbarId]={};for(const t of n){const n=findAllFieldinfo(t);this.fieldsInfo[e.screenId][e.tabbarId][t.id]=n}}getTabFieldInfo(e){var t,n,r;return null===(r=null===(n=null===(t=this.fieldsInfo)||void 0===t?void 0:t[e.screenId])||void 0===n?void 0:n[e.tabbarId])||void 0===r?void 0:r[e.tabId]}getNecessaryViews(e){var t;const r={},o=this.fieldsInfo[e];for(const e in o)for(const a in o[e]){const l=o[e][a];null===(t=null==l?void 0:l.allViewNames)||void 0===t||t.forEach((e=>r[e]={retrieveMode:n.FieldsRetrieveMode.ErrorsOnly}))}return r}}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/translation-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),n("./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),n("./node_modules/client-controls/services/screen-service.js")],o=function(e,t,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationService=void 0;let d=class TranslationService{constructor(e){this.container=e,this.screenService=e.get(l.ScreenService),this.http=e.get(a.HttpClient),this.processors={}}addTranslationsProcessor(e,t){this.processors[e]=t}removeTranslationsProcessor(e){delete this.processors[e]}setTranslations(e,t){return n.__awaiter(this,void 0,void 0,(function*(){if(!t||0===t.length)return;const n=e.name||"",r=t.map((e=>e.valueString)),o=`${n}Translations`,a=e.view;if((null==a?void 0:a.name)&&this.processors[a.name])return void this.processors[null==a?void 0:a.name](o,r);const l=null==a?void 0:a.getRecordIdByKeys();this.screenService.setScreenParameter((null==a?void 0:a.name)||"",o,r,l),this.screenService.update()}))}sendRequestForLocale(){return n.__awaiter(this,void 0,void 0,(function*(){const e=yield this.http.fetch("ui/locale");if(e.ok)return e.json()}))}};d=n.__decorate([(0,o.autoinject)(),n.__metadata("design:paramtypes",[r.Container])],d),t.TranslationService=d}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/tree-api-client.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/services/base-api-client.js"),n("aurelia-framework"),n("./node_modules/client-controls/utils/index.js")],o=function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeApiClient=void 0;const l="tree",d="ui/screen";let c=class TreeApiClient{constructor(e){this.client=e}getData(e,t){return n.__awaiter(this,void 0,void 0,(function*(){const n=yield this.client.fetchExt(`${d}/${(0,a.getScreenID)()}/${l}/data`,e);return this.processTreeData(n,t)}))}processTreeData(e,t){return e.map((e=>{let n=null;t.idParent&&(n=e.columns[t.idParent]&&"null"!==e.columns[t.idParent]?e.columns[t.idParent]:null);const r=this.createItem(e,t);return r.parentId=n,t.idName&&(r.id=e.columns[t.idName]),r}))}getDataFromColumns(e,t){return n.__awaiter(this,void 0,void 0,(function*(){const n=yield this.client.fetchExt(`${d}/${(0,a.getScreenID)()}/${l}/data`,e);return this.processColumnsData(n,e,t)}))}processColumnsData(e,t,n){const r={name:t.view,icon:"",iconColor:"",children:[]},o=[n.iconField,n.idName,n.iconColorField],a=t.columns.filter((e=>!o.includes(e)));for(const t of e)a.reduce(((e,r)=>{var o,a;const l=t.columns[r];let d=null===(o=e.children)||void 0===o?void 0:o.find((e=>e.name===l));return d||(d={name:l,children:[],icon:n.iconField?t.columns[n.iconField]:void 0,iconColor:n.iconColorField?t.columns[n.iconColorField]:void 0},null===(a=e.children)||void 0===a||a.push(d)),d}),r);return r}getTestData(){return n.__awaiter(this,void 0,void 0,(function*(){const e=yield this.client.fetchExt(`${d}/${(0,a.getScreenID)()}/${l}/testdata`,{});try{return JSON.parse(e)}catch(e){return alert(`Invalid input test data for tree ${this.treeId} Error: ${e.message}`),console.error(`Invalid input test data for tree ${this.treeId} Error: ${e.message}`),[]}}))}getNode(e,t){return n.__awaiter(this,void 0,void 0,(function*(){const n=yield this.client.fetchExt(`${d}/${(0,a.getScreenID)()}/${l}/node`,Object.assign(Object.assign({},e),{hideRootNode:t.hideRootNode,openedLayers:t.openedLayers}));return this.processData(n,t)}))}processData(e,t){return e?e.map((e=>{const n=void 0!==e.parentId&&"null"!==e.parentId?e.parentId:null,r=this.createItem(e,t);return r.parentId=n,r.value=t.idName?e.columns[t.idName]:null,t.idParent&&t.idName?r.id=!t.hideRootNode||e.columns[t.idParent]!==n&&""!==e.columns[t.idParent]?e.columns[t.idParent]:e.columns[t.idName]:r.id="",e.isLeaf&&(r.isLeaf=!0),r})):[]}checkAction(e,t){return n.__awaiter(this,void 0,void 0,(function*(){try{const t=yield this.client.fetchExt(`${d}/${(0,a.getScreenID)()}/${l}/action`,e);return"string"==typeof t?(console.error(t),t):(t.actions&&(t.actions=JSON.parse(t.actions)),t.extraColumns&&(t.extraColumns=JSON.parse(t.extraColumns)),t)}catch(e){return e.data}}))}createItem(e,t){const n={name:t.description?e.columns[t.description]:""};if(t.actionField&&e.columns[t.actionField])try{n.actions=JSON.parse(e.columns[t.actionField])}catch(e){alert(`Cannot parse JSON for actions in node id=${n.id}: ${e}`),console.error(`Cannot parse JSON for actions in node id=${n.id}: ${e}`)}if(t.extraColumnField&&e.columns[t.extraColumnField])try{n.extraColumns=JSON.parse(e.columns[t.extraColumnField])}catch(e){alert(`Cannot parse JSON for extra columns in node id=${n.id}: ${e}`),console.error(`Cannot parse JSON for extra columns in node id=${n.id}: ${e}`)}return t.iconField&&e.columns[t.iconField]&&(n.icon=e.columns[t.iconField]),t.iconColorField&&e.columns[t.iconColorField]&&(n.iconColor=e.columns[t.iconColorField]),n}};c=n.__decorate([o.autoinject,n.__metadata("design:paramtypes",[r.BaseApiClient])],c),t.TreeApiClient=c}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/tree-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/client-controls/utils/index.js"),n("./node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],o=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeService=t.getId=void 0;let o=1;const a=(0,r.getLogger)("tree-service");t.getId=()=>""+o++;const l=null,d={item:null,children:[],opened:!0,initialized:!1,hidden:!1,mark:""};function normalizeItemTreeNode(e,n,r){const o=(0,t.getId)();r.push({name:e.name,id:o,parentId:n,icon:e.icon,iconColor:e.iconColor,actions:e.actions});for(const t of e.children||[])normalizeItemTreeNode(t,o,r)}class TreeService{constructor(){this.itemList=[],this.metaMap={},this.mode="none",this.filterShowChildren=!0,this.filterStart=!1,this.filterIgnoreCase=!0,this.lastSelectedNodeId="",this.lastId=0,this.treeId="",this.defaultDrag="copy",this.modifiable=!1,this.dynamic=!1,this.linkedWithView=!1,this.selectSeparately=!1,this.selectedDrag=!1,this.singleClickSelect=!1,this.iconSize=16,this.checkDropCommand="",this.hovered={id:null,separator:!1},this.checkboxWidth=0,this.openArrowWidth=0,this.treeNodes=[]}buildTree(e){normalizeItemTreeNode(e,l,this.itemList),this.createMetaMap(this.itemList)}createMetaMap(e){e.forEach((e=>{const t=this.metaMap[e.id]||Object.assign(Object.assign({},d),{item:e,selected:!1});this.metaMap[e.id]=t})),e.forEach((e=>{const t=this.metaMap[e.parentId]||Object.assign({},d);this.metaMap[e.parentId]=Object.assign(Object.assign({},t),{children:[...t.children,e.id]}),this.dynamic&&!this.linkedWithView&&null!==e.parentId&&(this.metaMap[e.id].opened=!1)}));for(const e in this.metaMap)this.metaMap[e].testId=this.generateTestId(e)}isInitialized(e){return this.metaMap[e].initialized}toggle(e){const t=this.metaMap[e];this.metaMap=Object.assign(Object.assign({},this.metaMap),{[e]:Object.assign(Object.assign({},t),{opened:!t.opened})})}closeChildren(e){e.opened=!1,e.children.forEach((e=>{this.closeChildren(this.metaMap[e])}))}traverseAndClose(e,t,n){t>=n?this.closeChildren(e):e.children.forEach((e=>{this.traverseAndClose(this.metaMap[e],t+1,n)}))}copyChildren(e,t){return this.applyRecursivelyToChildren(this.metaMap[t].children,(t=>{const n=this.metaMap[t].item;if(!n)return a.error(`Cannot find node ${t} in tree ${this.treeId}`),[];e.push(Object.assign({},n))}),e)}resetFilter(){for(const e in this.metaMap)this.metaMap[e].mark="",this.metaMap[e].hidden=!1}resetSelected(){for(const e in this.metaMap)this.metaMap[e].selected=!1,this.metaMap[e].indeterminate=!1}getParentId(e){const t=this.metaMap[e];return e===l?e:t.item.parentId}getParentChain(e){const t=[];for(;e!==l;)e=this.getParentId(e),t.push(e);return t}getTestIdChain(e){const t=[];for(;e!==l&&"null"!==e;)t.push(this.getTestParentId(e)),e=this.getParentId(e);return t}getTestParentId(e){const t=this.metaMap[e];return this.metaMap[t.item.parentId].children.indexOf(e)}generateTestId(e){if(!this.treeId)return"";const t=this.getTestIdChain(e).reverse();let n=`${this.treeId}_node`;return t.forEach((e=>{n+=`_${e}`})),`${n}`}recalcTestId(e){if(!this.metaMap[e].item)return;const t=this.metaMap[this.metaMap[e].item.parentId],n=t.children.indexOf(e),r=t.children.slice(n,t.children.length);this.recalcChildren(r)}delete(e){const t=this.metaMap[e].item.parentId,n=this.metaMap[t].children.indexOf(e);-1!==n&&this.metaMap[t].children.splice(n,1),this.deleteChildren(e),n>=1?this.recalcTestId(this.metaMap[t].children[n-1]):this.recalcTestId(this.metaMap[t].children[n])}addNewChild(e,t){this.addNewNodeToTree(t),this.metaMap[e].children=[...this.metaMap[e].children.slice(),t.item.id],this.recalcTestId(t.item.id)}addNewSibling(e,t){this.addNewNodeToTree(t),this.insertAfter(e,t),this.recalcTestId(t.item.id)}insertAfter(e,t){const n=this.getParentId(e),r=Object.assign({},this.metaMap[n]),o=r.children.indexOf(e);o<0?a.info("index is not in parent children"):r.children.splice(o+1,0,t.item.id)}generateNewId(){for(;this.metaMap[this.lastId];)this.lastId=this.lastId+1;return this.lastId.toString()}lastIdNumber(){const e=Object.assign({},this.metaMap);return delete e.null,Math.max.apply(null,Object.keys(e))}createDefaultNewNode(e,t){const n=this.generateNewId(),r=Object.assign(Object.assign({},this.metaMap[e].item),{parentId:t,id:n});return Object.assign(Object.assign({},d),{item:Object.assign({},r)})}createCustomNewNode(e,t){return e.parentId=t,Object.assign(Object.assign({},d),{item:Object.assign({},e)})}addNewNodeToTree(e){var t;this.metaMap[null===(t=e.item)||void 0===t?void 0:t.id]=e,this.itemList.push(e.item)}draggedNodes(e){const t=this.metaMap[e].item;if(!t)return a.error(`Cannot find node ${e} in tree ${this.treeId}`),[];const n=[Object.assign({},t)];return this.copyChildren(n,e)}draggedSelectedNodes(){const e=[];for(const t in this.metaMap){const n=this.metaMap[t];n.selected&&0===n.children.length&&n.item&&e.push(Object.assign({},n.item))}return e}getRootTree(){return this.copyChildren([],null)}modifyids(e,t){e.map((e=>{e.id=(+e.id+t).toString(),e.parentId=(+e.parentId+t).toString()}))}insertNode(e,t,n){const r=Object.assign({},this.metaMap[e]);r.children.length?r.children.splice(n+1,0,t):r.children=[t],this.metaMap[t].item.parentId=e,this.metaMap[e]=r}dropNode(e,t,n,r=this.treeId){n.forEach((n=>{if(r!==this.treeId){const o=this.getTreeServiceById(r),a=o.draggedNodes(n),l=this.lastIdNumber()+1;o.modifyids(a,l),this.createMetaMap(a);const d=(+n+l).toString();this.insertNode(e,d,t),"cut"===this.defaultDrag&&o.delete(n),this.recalcTestId(d.toString()),o.resetHover()}else{if(!this.isDroppable(n,this.metaMap[e].children[t]||e))return;const r=this.getParentId(n);let o=[];if(e!==r&&n!==r&&this.metaMap[e].children[t]!==e){const a=Object.assign({},this.metaMap[r]),l=a.children.indexOf(n);o=a.children.slice(l+1),a.children=a.children.filter((e=>e!==n)),this.insertNode(e,n,t),this.metaMap[r]=a}else{const e=Object.assign({},this.metaMap[r]);e.children=e.children.filter((e=>e!==n)),e.children.splice(t,0,n),this.metaMap[r]=e}o.forEach((e=>{this.recalcTestId(e)})),this.recalcTestId(n)}this.resetHover()}))}isDroppable(e,t){if(e===t)return a.info("These must be different"),!1;if(e===l||t===l)return a.info("Do not use the root node"),!1;if(this.getParentChain(t).includes(e))return a.info("Cannot move unto self"),!1;return!0}resetHover(){this.hovered.id=null,this.hovered.separator=!1}resetTree(){for(const e in this.metaMap)this.metaMap[e].children=[],this.metaMap[e].item=null;this.metaMap={},this.itemList=[],this.treeNodes=[]}selectSingle(e){var t,n,r;return""!==this.lastSelectedNodeId&&this.metaMap[this.lastSelectedNodeId]&&(this.metaMap[this.lastSelectedNodeId].selected=!1),this.lastSelectedNodeId=e,this.metaMap[e]?(this.metaMap[e].selected=!0,[{id:null===(t=this.metaMap[e].item)||void 0===t?void 0:t.id,text:null===(n=this.metaMap[e].item)||void 0===n?void 0:n.name,value:null===(r=this.metaMap[e].item)||void 0===r?void 0:r.value}]):[]}selectMulti(e){var t;const n=this.metaMap[e],r=!n.selected;this.metaMap=Object.assign(Object.assign({},this.metaMap),{[e]:Object.assign(Object.assign({},n),{selected:r,indeterminate:!1})});let o=this.metaMap[null===(t=n.item)||void 0===t?void 0:t.parentId];if(!this.selectSeparately){for(;o.item&&o.item.id;)this.allChildrenSame(o.children,r)?(o.selected=r,o.indeterminate=!1):o.indeterminate=!0,o=this.metaMap[o.item.parentId];this.selectChildren(n.children,!n.selected)}}collectInfo(){var e,t,n,r,o,a;const l=[];for(const d in this.metaMap){const c=this.metaMap[d];if((0===c.children.length||this.selectSeparately)&&c.selected){let d;if(null===(null===(e=c.item)||void 0===e?void 0:e.value))continue;d=void 0===(null===(t=c.item)||void 0===t?void 0:t.value)?null===(n=c.item)||void 0===n?void 0:n.id:null===(r=c.item)||void 0===r?void 0:r.value,l.push({id:d,text:null===(o=c.item)||void 0===o?void 0:o.name,value:null===(a=c.item)||void 0===a?void 0:a.value})}}return l}getNested(e){const t=[this.getNode(e)];return this.getChildren(this.metaMap[e].children,t),t}getEventNested(e,t){const n=this.getEventNode(e);t&&(n.oldParentId=t);const r=[n];return this.getEventChildren(this.metaMap[e].children,r),r}getNode(e){var t,n;const r=this.metaMap[e];return{id:null===(t=r.item)||void 0===t?void 0:t.id,text:null===(n=r.item)||void 0===n?void 0:n.name}}getEventNode(e){var t,n;const r=this.metaMap[e],o=this.getPrevNodeId(e);return{id:e,parentId:null===(t=r.item)||void 0===t?void 0:t.parentId,text:null===(n=r.item)||void 0===n?void 0:n.name,prevNodeId:o}}getPrevNodeId(e){var t;const n=this.metaMap[null===(t=this.metaMap[e].item)||void 0===t?void 0:t.parentId],r=n.children.indexOf(e);return-1!==r&&r>0?n.children[r-1]:null}allChildrenSame(e,t){return e.every((e=>this.metaMap[e].selected===t&&!this.metaMap[e].indeterminate))}setFilter(e){if(this.resetFilter(),""===e)return;const t=new Set,r=new n.TextParter(e);this.itemList.forEach((e=>{r.hasMatch(e.name)&&(this.markTillRoot(t,e.id),this.filterShowChildren&&this.markChildren(this.metaMap[e.id].children,t))}));for(const n in this.metaMap){const r=this.metaMap[n];t.has(n)?(r.mark=e,r.children.length>0&&(r.opened=!0),r.hidden=!1):r.hidden=!0}return t.size}setDynamicFilter(e){if(this.resetFilter(),""===e)return;const t=new Set,r=[],o=new n.TextParter(e);return this.filterChildren(this.metaMap.null.children,t,o),null==t||t.forEach((t=>{var n,o;this.showChildren([t]),this.showTillRoot(null===(n=this.metaMap[t].item)||void 0===n?void 0:n.parentId);const a=this.metaMap[t];a.mark=e,!a.opened&&(null===(o=a.item)||void 0===o?void 0:o.name)&&(a.item.parentId&&!this.metaMap[a.item.parentId].initialized&&(r.push(a.item.parentId),this.metaMap[a.item.parentId].opened=!0),r.push(t))})),r}getTreeServiceById(e){return document.getElementById(e).au.controller.container.get(TreeService)}getEventChildren(e,t){e.forEach((e=>{t.push(this.getEventNode(e)),this.metaMap[e].children.length>0&&this.getEventChildren(this.metaMap[e].children,t)}))}getChildren(e,t){e.forEach((e=>{t.push(this.getNode(e)),this.metaMap[e].children.length>0&&this.getChildren(this.metaMap[e].children,t)}))}markTillRoot(e,t){var n;e.has(t)||(e.add(t),t!==l&&this.markTillRoot(e,null===(n=this.metaMap[t].item)||void 0===n?void 0:n.parentId))}showTillRoot(e){var t;this.metaMap[e].hidden=!1,this.metaMap[e].opened=!0,e!==l&&this.showTillRoot(null===(t=this.metaMap[e].item)||void 0===t?void 0:t.parentId)}showChildren(e){this.applyRecursivelyToChildren(e,(e=>{this.metaMap[e].hidden=!1}))}filterChildren(e,t,n){e.forEach((e=>{const r=this.metaMap[e].item;this.metaMap[e].hidden=!0,n.hasMatch(r.name)?(t.add(r.id),this.filterShowChildren&&this.markChildren(this.metaMap[e].children,t)):this.filterChildren(this.metaMap[e].children,t,n)}))}applyRecursivelyToChildren(e,t,n=null){return e.forEach((e=>{t(e),this.metaMap[e].children.length>0&&this.applyRecursivelyToChildren(this.metaMap[e].children,t,n)})),n}markChildren(e,t){this.applyRecursivelyToChildren(e,t.add.bind(t),t)}selectChildren(e,t){this.applyRecursivelyToChildren(e,(e=>{this.metaMap[e].selected=t,this.metaMap[e].indeterminate=!1}),t)}recalcChildren(e){this.applyRecursivelyToChildren(e,(e=>{this.metaMap[e].testId=this.generateTestId(e)}))}deleteChildren(e){this.metaMap[e].children.forEach((e=>{this.deleteChildren(e);const t=this.itemList.findIndex((t=>t.id===e));-1!==t&&this.itemList.splice(t,1),delete this.metaMap[e]})),this.metaMap[e].children=[]}}t.TreeService=TreeService}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/services/wiki-tooltip-service.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("aurelia-framework"),n("./node_modules/client-controls/services/api-client.js")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiBehavior=t.WikiTooltipServiceFabric=t.WikiTooltipService=void 0;class WikiTooltipService{constructor(e){this.apiClient=e}getWikiTooltip(e){return n.__awaiter(this,void 0,void 0,(function*(){return this.apiClient.getWikiTooltipData(e)}))}getWikiSetting(){return n.__awaiter(this,void 0,void 0,(function*(){const e=yield this.getWikiSettingData();if(e){const t={behavior:l.Disabled};return t.behavior=this.toWikiBehavior(e.behavior),t}return null}))}toWikiBehavior(e){let t=l.Disabled;switch(e.toString().toLowerCase()){case"2":case"hover":t=l.Hover;break;case"3":case"none":t=l.Disabled}return t}getWikiSettingData(){return n.__awaiter(this,void 0,void 0,(function*(){return yield this.apiClient.getWikiSetting()}))}}t.WikiTooltipService=WikiTooltipService;let a=class WikiTooltipServiceFabric{constructor(e){this.apiClient=e}getWikiTooltipService(){return new WikiTooltipService(this.apiClient)}};var l;a=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[o.ApiClient])],a),t.WikiTooltipServiceFabric=a,function(e){e[e.Hover=2]="Hover",e[e.Disabled=3]="Disabled"}(l=t.WikiBehavior||(t.WikiBehavior={}))}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/utils/busy-counter.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/dependency-property-injection/index.js"),n("aurelia-framework")],o=function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BusyCounter=void 0;let a=class BusyCounter{constructor(e){var t,n;this.tq=e,this.counter=0,null!==(t=(n=window).busyService)&&void 0!==t||(n.busyService=this)}increment(){++this.counter}decrement(){--this.counter}get Busy(){var e;return!!this.counter||(null===(e=this.tq.taskQueue)||void 0===e?void 0:e.length)}get Counter(){return this.counter}};a=n.__decorate([r.autoinject,n.__metadata("design:paramtypes",[o.TaskQueue])],a),t.BusyCounter=a}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/utils/control-helper.js":(e,t,n)=>{var r,o;r=[n,t,n("aurelia-framework"),n("./node_modules/client-controls/descriptors/types.js")],o=function(e,t,n,r){"use strict";function isDate(e){return e instanceof Date||e&&"Date"===e.constructor.name}function getInvariantDate(e,t=!1){let n="";if(null!=e){if(n=[e.getMonth()+1,e.getDate(),e.getFullYear()].join("/"),!t){const t=[e.getHours(),e.getMinutes(),e.getSeconds()],r=e.getMilliseconds();(t[0]||t[1]||t[2]||r)&&(n+=` ${t.join(":")}`),r&&(n+=`.${r.toString().padStart(3,"0")}`)}}return n}function isScriptLoaded(e){return document.querySelector(`script[src="${e}"]`)}function isObject(e){return e&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.deepMerge=t.isObject=t.refreshMenu=t.isLegacyEnv=t.isScriptLoaded=t.loadScript=t.addTextToClipboard=t.getInvariantDate=t.getInvariantText=t.netTypeConvert=t.scrollToView=t.isInViewport=t.applyDefaultValues=t.isDate=t.isNumeric=t.isVisible=t.isLetter=t.getCompanyFromUrl=t.getScreenID=t.registerQAObject=t.isDigit=t.formatNumber=t.formatDate=t.camelToDash=t.compareStrings=t.getRawValue=t.equals=void 0,t.equals=function equals(e,t){return!(null==e&&null!=t||null==t&&null!=e)&&(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t)},t.getRawValue=function getRawValue(e){return e&&e.id?e.id:e},t.compareStrings=function compareStrings(e,t,n){return n&&(e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase())),e===t},t.camelToDash=function camelToDash(e){return e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`))},t.formatDate=function formatDate(e,t,n){if(1===t.length)switch(t){case"d":t=n.shortDate;break;case"D":t=n.longDate;break;case"t":t=n.shortTime;break;case"T":t=n.longTime;break;case"g":t=`${n.shortDate} ${n.shortTime}`;break;case"G":t=`${n.shortDate} ${n.longTime}`;break;case"f":t=`${n.longDate} ${n.shortTime}`;break;case"F":t=`${n.longDate} ${n.longTime}`}let r="",o=!1;const a=n.monthNames.split(","),l=n.dayNames.split(",");for(let d=0;d<t.length;d++){if(o){r+=t.substr(d,1),o=!1;continue}if("\\"===t.charAt(d)){o=!0;continue}let c=t.substr(d,4),u="";switch(c){case"MMMM":case"dddd":u=a[e.getMonth()];break;case"yyyy":u=e.getFullYear().toString()}if(u)r+=u,d+=3;else{switch(c=t.substr(d,3),c){case"MMM":u=a[e.getMonth()].substr(0,3);break;case"ddd":u=l[e.getDay()].substr(0,3)}if(u)r+=u,d+=2;else{switch(c=t.substr(d,2),c){case"MM":u=(e.getMonth()+1).toString(),1===u.length&&(u=`0${u}`);break;case"dd":u=e.getDate().toString(),1===u.length&&(u=`0${u}`);break;case"yy":u=(e.getFullYear()%100).toString(),1===u.length&&(u=`0${u}`);break;case"HH":u=e.getHours().toString(),1===u.length&&(u=`0${u}`);break;case"hh":{let t=e.getHours();0===t?t=12:t>12&&(t-=12),u=t.toString(),1===u.length&&(u=`0${u}`);break}case"mm":u=e.getMinutes().toString(),1===u.length&&(u=`0${u}`);break;case"ss":u=e.getSeconds().toString(),1===u.length&&(u=`0${u}`);break;case"tt":{let t=!1;e.getHours()>=12&&(t=!0),u=t?n.pm:n.am;break}}if(u)r+=u,d+=1;else{switch(c=t.substr(d,1),c){case"M":u=(e.getMonth()+1).toString();break;case"d":u=e.getDate().toString();break;case"y":u=(e.getFullYear()%100).toString();break;case"H":u=e.getHours().toString();break;case"h":{let t=e.getHours();0===t?t=12:t>12&&(t-=12),u=t.toString();break}case"m":u=e.getMinutes().toString();break;case"s":u=e.getSeconds().toString()}r+=u||t.substr(d,1)}}}}return r},t.formatNumber=function formatNumber(e,t,n){const r=n.number.decimalSeparator,o=n.number.groupSeparator;let a=e.toLocaleString("en-US",{minimumFractionDigits:t,useGrouping:t>0});const l=a.split(".");return a=l[0].replace(/,/g,o),l.length>1?a+r+l[1]:a},t.isDigit=function isDigit(e){return"string"==typeof e&&(e=e.charCodeAt(0)),e>47&&e<58},t.registerQAObject=function registerQAObject(e,t){const n=window;n.qaObject||(n.qaObject={}),n.qaObject[e]=t},t.getScreenID=function getScreenID(){let e=window.__screenID;const t=window.location.pathname;return e=e?e.replace(/\./g,""):t.substr(t.lastIndexOf("/")+1).replace(".aspx","").replace(".html","").toUpperCase(),e},t.getCompanyFromUrl=function getCompanyFromUrl(){let e=n.PLATFORM.global.top.location.search;"?"===e[0]&&(e=e.substring(1));const t=e.split("&").find((e=>e.toLowerCase().startsWith("companyid")));return null==t?void 0:t.split("=")[1]},t.isLetter=function isLetter(e){return"number"==typeof e&&(e=String.fromCharCode(e)),e.charCodeAt(0)>255||e.toUpperCase()!==e.toLowerCase()},t.isVisible=function isVisible(e){try{return e&&null!=e.offsetParent}catch(e){}return!1},t.isNumeric=function isNumeric(e){return null!=e&&e>=r.NetType.SByte&&e<=r.NetType.Decimal},t.isDate=isDate,t.applyDefaultValues=function applyDefaultValues(e,t){const n=Object.assign({},e);!function clearUndefinedProps(e){for(const t in e)void 0===e[t]&&delete e[t]}(n),Object.assign(e,t,n)},t.isInViewport=function isInViewport(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},t.scrollToView=function scrollToView(e,t,n=r.ScrollMode.Both){if(null==t||e.scrollWidth<=e.offsetWidth&&e.scrollHeight<=e.offsetHeight)return;const o=e.offsetParent.getBoundingClientRect(),a=e.getBoundingClientRect(),l=t.getBoundingClientRect(),d=l.left-o.left,c=a.left-o.left,u=l.top-o.top,p=a.top-o.top,h=d+t.offsetWidth,g=c+e.offsetWidth,m=u+t.offsetHeight,f=p+e.offsetHeight,v=e.offsetWidth-e.clientWidth,b=e.offsetHeight-e.clientHeight;let y=-1,_=-1;const x=n===r.ScrollMode.Both||n===r.ScrollMode.Vertical,C=n===r.ScrollMode.Both||n===r.ScrollMode.Horizontal;x&&(m>f-b&&u-(m-f)>p&&(y=e.scrollTop+(m-f)+b),u<p&&(y=e.scrollTop-(p-u))),C&&(h>g-v&&d-(h-g)>c&&(_=e.scrollLeft+(h-g)+v),d<c&&(_=e.scrollLeft-(c-d))),x&&y>=0&&(e.scrollTop=y),C&&_>=0&&(e.scrollLeft=_)},t.netTypeConvert=function netTypeConvert(e,t){if(null==e)return null;let n=e;if(t===r.NetType.Boolean)"boolean"!=typeof e&&(e&&"string"==typeof e&&("0"!==e&&"false"!==e.toLowerCase()||(e=!1)),n=Boolean(e));else if(t>=r.NetType.SByte&&t<=r.NetType.UInt64)"number"!=typeof e&&(n=parseInt(e),isNaN(n)&&(n=0));else if(t>=r.NetType.Single&&t<=r.NetType.Decimal)"number"!=typeof e&&(n=parseFloat(e),isNaN(n)&&(n=0));else if(t===r.NetType.DateTime){if(!(e instanceof Date)){const t=e.toString().split(".");let r=t.length>1?t[1]:null;n="string"==typeof e&&t[0].startsWith("@")?NaN:new Date(Date.parse(t[0])),null!=r&&n instanceof Date&&(r=parseInt(r),isNaN(r)||n.setMilliseconds(r))}}else t!==r.NetType.Char&&t!==r.NetType.String||(n=String(e));return n},t.getInvariantText=function getInvariantText(e){let t="";return null==e||(t=isDate(e)?getInvariantDate(e):"boolean"==typeof e?e?"True":"False":e.toString()),t},t.getInvariantDate=getInvariantDate,t.addTextToClipboard=function addTextToClipboard(e){try{navigator.clipboard.writeText(e)}catch(t){const n=document.createElement("textarea");n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.opacity="0",n.value=e,document.body.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),document.body.removeChild(n)}},t.loadScript=function loadScript(e,t){var n;const load=()=>{t&&t()};if(isScriptLoaded(e))load();else{const t=document.createElement("script");t.type="text/javascript",t.defer=!0,t.src=e,t.charset="utf-8",t.addEventListener("load",load);const r=document.getElementsByTagName("script")[0];null===(n=null==r?void 0:r.parentNode)||void 0===n||n.insertBefore(t,r)}},t.isScriptLoaded=isScriptLoaded,t.isLegacyEnv=function isLegacyEnv(){return!!n.PLATFORM.global.px},t.refreshMenu=function refreshMenu(){var e;null===(e=n.PLATFORM.global.top)||void 0===e||e.frameHelper.refreshMenu()},t.isObject=isObject,t.deepMerge=function deepMerge(e,t,...n){if(!n.length||!isObject(e))return e;const r=e,o=n.length;for(let e=0;e<o;e+=1){const o=n[e];if(isObject(o))for(const e in o)o.hasOwnProperty(e)&&(isObject(o[e])?(r[e]&&isObject(r[e])||(r[e]={}),deepMerge(r[e],t,o[e])):Array.isArray(r[e])&&Array.isArray(o[e])?r[e]=Array.from(new Set(r[e].concat(o[e]))):!t&&r.hasOwnProperty(e)||(r[e]=o[e]))}return r}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/utils/file-utils.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePathRelativeTo=void 0,t.makePathRelativeTo=function makePathRelativeTo(e,t){if(!e||!t)return e;const n=e.includes("\\")?"\\":"/",r=e.split(n),o=t.split(n),a=Math.min(r.length,o.length);let l=0;for(;l<a&&r[l]===o[l];)l++;const d=[];let c=l;for(;c<o.length;)d.push(".."),c++;let u=l;for(;u<r.length;)d.push(r[u]),u++;return d.join("/")}}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/utils/index.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js"),n("./node_modules/client-controls/utils/control-helper.js"),n("./node_modules/client-controls/utils/mark-highlights.js"),n("./node_modules/client-controls/utils/mask-helper.js"),n("./node_modules/client-controls/utils/text-parter.js"),n("./node_modules/client-controls/utils/file-utils.js"),n("./node_modules/client-controls/utils/promise-utils.js"),n("./node_modules/client-controls/utils/busy-counter.js")],o=function(e,t,n,r,o,a,l,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(r,t),n.__exportStar(o,t),n.__exportStar(a,t),n.__exportStar(l,t),n.__exportStar(d,t),n.__exportStar(c,t),n.__exportStar(u,t)}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/utils/mark-highlights.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markHighlights=void 0,t.markHighlights=function markHighlights(e,t){if(!e||!t)return[{highlight:!1,text:null!=t?t:""}];const n=e.split(" ").filter((e=>e.length>0)).map((e=>{const t=e.toUpperCase();return{str:t,len:t.length}})),r=t.toUpperCase(),o=Array.from({length:r.length});for(let e=0;e<o.length;e++)o[e]=!1;const a=[];n.forEach((e=>{let t=0,n=-1;do{if(n=r.indexOf(e.str,t),n>-1){for(let t=n;t<n+e.len;t++)o[t]=!0;t=n+e.len}}while(n>-1)}));let l=!1,d=0;do{const e=d;for(;o[d]===l&&d<o.length;)d++;d>e&&a.push({highlight:l,text:t.substring(e,d)}),l=o[d]}while(d<o.length);return a}}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/utils/mask-helper.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitMask=t.maskFilter=t.encodeMask=t.formatByMask=t.MaskParts=t.getMaskParts=void 0,t.getMaskParts=function getMaskParts(e){const t=encodeMask(e),n=splitMask(t);return new MaskParts(t,n[0],n[1],n[2])};class MaskParts{constructor(e,t,n,r){this.maskFull=e,this.mask=t,this.maskExclude=n,this.maskInclude=r}}function encodeMask(e){let t,n,r=0,o="";const a=splitMask(e),l=a[0],d=a[1],c=a[2];for(let e=0;e<l.length;e++)if(n=l.charAt(e),0!==(t=maskFlag(n,r))){if(t<0){r=r===-t?0:-t;continue}o+=String.fromCharCode(t)}else"\\"===n&&e+1<l.length?(n=l.charAt(e+1),0!==maskFlag(n,0)&&(o+=n,e++)):o+=n;return d&&(o+="|"+d),c&&(d||(o+="|"),o+="|"+c),o}function maskFilter(e,t,n,r,o,a){if(n>=t.length)return r;const l=t.charCodeAt(n);let d=t.charAt(n);if(l<21||o&&-1!==o.indexOf(d))return r;if(a&&-1!==a.indexOf(d))return d;switch(Math.floor((e-1)/6)){case 0:break;case 1:if(l>47&&l<58)return d;case 2:if(l>255||d.toUpperCase()!==d.toLowerCase())break;return r;case 3:return l>47&&l<58?d:r}return 0==(e=Math.floor((e-1)/2)%3)?d:(function isGeorgianSymbol(e){return e>=4256&&e<=4351}(l)||(d=2===e?d.toLowerCase():d.toUpperCase()),o&&-1!==o.indexOf(d)?r:d)}function splitMask(e){null==e&&(e="");const t=e.split("|");return 1===t.length&&(t[1]=""),2===t.length&&(t[2]=""),t}function maskFlag(e,t){let n;switch(e){case">":return-1;case"<":return-2;case"&":n=1;break;case"C":n=2;break;case"A":n=7;break;case"a":n=8;break;case"L":n=13;break;case"?":n=14;break;case"#":case"0":return 19;case"9":return 20;default:return 0}return n+2*t}t.MaskParts=MaskParts,t.formatByMask=function formatByMask(e,t,n,r){null==r&&(r=0),null==t&&(t=""),null==n&&(n="");const o=splitMask(e);let a,l,d="",c=0;const u=o[0],p=o[1],h=o[2];for(let e=0;e<u.length;e++)(l=u.charCodeAt(e))<21?(a=null,c<t.length&&(a=maskFilter(l,t,c,null,p,h),c++),d+=a||n):(d+=u.charAt(e),r>0&&c++);return d},t.encodeMask=encodeMask,t.maskFilter=maskFilter,t.splitMask=splitMask}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/client-controls/utils/platform-dependable-utils.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js")],o=function(e,t,n){"use strict";var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.browser=t.dateFormatInfo=t.numberFormatInfo=t.siteRoot=t.topDocument=t.topWindow=void 0,n.PLATFORM.global.getViewModelById=function getViewModelById(e){var t;let n=document.getElementById(e);if(n)do{if(null===(t=n.au)||void 0===t?void 0:t.controller){const e=n.au.controller;return e.viewModel.currentViewModel?e.viewModel.currentViewModel:e.viewModel}n=n.parentNode}while(n);else;};let a,l=n.PLATFORM.global;try{l=l.top,a=l.document}catch(e){l=n.PLATFORM.global}t.topWindow=l,t.topDocument=t.topWindow.document;const d=n.PLATFORM.global.location.pathname;t.siteRoot=function normalizeSiteRoot(e){let t=null==e?void 0:e.split("/"),n=e;return t&&(t=t.filter((e=>!e.startsWith("(W("))),n=t.join("/")),n}(d.substring(0,d.toLowerCase().indexOf("scripts/")));t.numberFormatInfo=()=>t.topWindow._numbFormatInfo;t.dateFormatInfo=()=>t.topWindow._dateFormatInfo||{abbrMonthNames:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December,",dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",abbrDayNames:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"};const c=(null===(o=null===(r=n.PLATFORM.global)||void 0===r?void 0:r.navigator)||void 0===o?void 0:o.userAgent.toLowerCase())||"",u=c.indexOf("msie")>=0,p=c.indexOf("edge")>=0,h=c.indexOf("rv:11.0")>0,g=u||h,m=c.indexOf("safari")>=0,f=c.indexOf("firefox"),v=f>=0?parseFloat(c.substr(f+8,3)):0,b=f>=0,y=b&&v>=65,_=c.indexOf("webkit")>=0,x=window.chrome,C=window.navigator.vendor,S=void 0!==window.opr,E=!window.navigator.userAgent.match("CriOS")&&null!=x&&"Google Inc."===C&&!S&&!p,k=x||E;t.browser={isIE:u,isEdge:p,isIE11:h,isAnyIE:g,isOpera:S,isSafari:m,isFirefox:b,isFirefoxFrom65:y,isWebKit:_,isChrome:k,isChromium:x,isGoogleChrome:E}}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/utils/promise-utils.js":(e,t,n)=>{var r,o;r=[n,t,n("./node_modules/tslib/tslib.es6.js")],o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptAsync=t.wait=void 0;t.wait=e=>n.__awaiter(void 0,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}));t.loadScriptAsync=e=>n.__awaiter(void 0,void 0,void 0,(function*(){return new Promise(((t,n)=>{try{const r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.addEventListener("load",(()=>{t()})),r.addEventListener("error",(()=>{n()})),document.body.appendChild(r)}catch(e){n(e)}}))}))}.apply(t,r),void 0===o||(e.exports=o)},"./node_modules/client-controls/utils/text-parter.js":(e,t,n)=>{var r;r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextParter=void 0;t.TextParter=class TextParter{constructor(e,t=!0){this.search=e,this.ignoreCase=t}hasMatch(e){return this.ignoreCase?-1!==e.toLowerCase().indexOf(this.search.toLowerCase()):-1!==e.indexOf(this.search)}getTextParts(e){const t=[],n=this.ignoreCase?e.toLowerCase():e,r=this.ignoreCase?this.search.toLowerCase():this.search,o=n.split(r);let a=0;return o.length>1?(o.forEach((n=>{t.push({text:e.substr(a,n.length),selected:!1},{text:e.substr(a+n.length,r.length),selected:!0}),a+=n.length+r.length})),t.pop(),t):[{text:e,selected:!1}]}}}.apply(t,[n,t]),void 0===r||(e.exports=r)},"./node_modules/css-loader/dist/runtime/api.js":e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function toString(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function i(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(r)for(var d=0;d<this.length;d++){var c=this[d][0];null!=c&&(l[c]=!0)}for(var u=0;u<e.length;u++){var p=[].concat(e[u]);r&&l[p[0]]||(void 0!==a&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=a),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),o&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=o):p[4]="".concat(o)),t.push(p))}},t}},"./node_modules/css-loader/dist/runtime/getUrl.js":e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},"./node_modules/css-loader/dist/runtime/noSourceMaps.js":e=>{"use strict";e.exports=function(e){return e[1]}},"./node_modules/inherits/inherits_browser.js":e=>{"function"==typeof Object.create?e.exports=function inherits(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function inherits(e,t){if(t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype,e.prototype=new TempCtor,e.prototype.constructor=e}}},"./node_modules/path/path.js":(e,t,n)=>{"use strict";var r=n("./node_modules/process/browser.js"),o="win32"===r.platform,a=n("./node_modules/util/util.js");function normalizeArray(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];o&&"."!==o&&(".."===o?n.length&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(o))}return n}function trimArray(e){for(var t=e.length-1,n=0;n<=t&&!e[n];n++);for(var r=t;r>=0&&!e[r];r--);return 0===n&&r===t?e:n>r?[]:e.slice(n,r+1)}var l=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,d=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,c={};function win32SplitPath(e){var t=l.exec(e),n=(t[1]||"")+(t[2]||""),r=t[3]||"",o=d.exec(r);return[n,o[1],o[2],o[3]]}function win32StatPath(e){var t=l.exec(e),n=t[1]||"",r=!!n&&":"!==n[1];return{device:n,isUnc:r,isAbsolute:r||!!t[2],tail:t[3]}}function normalizeUNCRoot(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}c.resolve=function(){for(var e="",t="",n=!1,o=arguments.length-1;o>=-1;o--){var l;if(o>=0?l=arguments[o]:e?(l=r.env["="+e])&&l.substr(0,3).toLowerCase()===e.toLowerCase()+"\\"||(l=e+"\\"):l=r.cwd(),!a.isString(l))throw new TypeError("Arguments to path.resolve must be strings");if(l){var d=win32StatPath(l),c=d.device,u=d.isUnc,p=d.isAbsolute,h=d.tail;if((!c||!e||c.toLowerCase()===e.toLowerCase())&&(e||(e=c),n||(t=h+"\\"+t,n=p),e&&n))break}}return u&&(e=normalizeUNCRoot(e)),e+(n?"\\":"")+(t=normalizeArray(t.split(/[\\\/]+/),!n).join("\\"))||"."},c.normalize=function(e){var t=win32StatPath(e),n=t.device,r=t.isUnc,o=t.isAbsolute,a=t.tail,l=/[\\\/]$/.test(a);return(a=normalizeArray(a.split(/[\\\/]+/),!o).join("\\"))||o||(a="."),a&&l&&(a+="\\"),r&&(n=normalizeUNCRoot(n)),n+(o?"\\":"")+a},c.isAbsolute=function(e){return win32StatPath(e).isAbsolute},c.join=function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(!a.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&e.push(n)}var r=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(r=r.replace(/^[\\\/]{2,}/,"\\")),c.normalize(r)},c.relative=function(e,t){e=c.resolve(e),t=c.resolve(t);for(var n=e.toLowerCase(),r=t.toLowerCase(),o=trimArray(t.split("\\")),a=trimArray(n.split("\\")),l=trimArray(r.split("\\")),d=Math.min(a.length,l.length),u=d,p=0;p<d;p++)if(a[p]!==l[p]){u=p;break}if(0==u)return t;var h=[];for(p=u;p<a.length;p++)h.push("..");return(h=h.concat(o.slice(u))).join("\\")},c._makeLong=function(e){if(!a.isString(e))return e;if(!e)return"";var t=c.resolve(e);return/^[a-zA-Z]\:\\/.test(t)?"\\\\?\\"+t:/^\\\\[^?.]/.test(t)?"\\\\?\\UNC\\"+t.substring(2):e},c.dirname=function(e){var t=win32SplitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},c.basename=function(e,t){var n=win32SplitPath(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},c.extname=function(e){return win32SplitPath(e)[3]},c.format=function(e){if(!a.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!a.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var n=e.dir,r=e.base||"";return n?n[n.length-1]===c.sep?n+r:n+c.sep+r:r},c.parse=function(e){if(!a.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=win32SplitPath(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},c.sep="\\",c.delimiter=";";var u=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,p={};function posixSplitPath(e){return u.exec(e).slice(1)}p.resolve=function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var o=n>=0?arguments[n]:r.cwd();if(!a.isString(o))throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,t="/"===o[0])}return(t?"/":"")+(e=normalizeArray(e.split("/"),!t).join("/"))||"."},p.normalize=function(e){var t=p.isAbsolute(e),n=e&&"/"===e[e.length-1];return(e=normalizeArray(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},p.isAbsolute=function(e){return"/"===e.charAt(0)},p.join=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(!a.isString(n))throw new TypeError("Arguments to path.join must be strings");n&&(e+=e?"/"+n:n)}return p.normalize(e)},p.relative=function(e,t){e=p.resolve(e).substr(1),t=p.resolve(t).substr(1);for(var n=trimArray(e.split("/")),r=trimArray(t.split("/")),o=Math.min(n.length,r.length),a=o,l=0;l<o;l++)if(n[l]!==r[l]){a=l;break}var d=[];for(l=a;l<n.length;l++)d.push("..");return(d=d.concat(r.slice(a))).join("/")},p._makeLong=function(e){return e},p.dirname=function(e){var t=posixSplitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},p.basename=function(e,t){var n=posixSplitPath(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},p.extname=function(e){return posixSplitPath(e)[3]},p.format=function(e){if(!a.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!a.isString(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+p.sep:"")+(e.base||"")},p.parse=function(e){if(!a.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=posixSplitPath(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},p.sep="/",p.delimiter=":",e.exports=o?c:p,e.exports.posix=p,e.exports.win32=c},"./node_modules/process/browser.js":e=>{var t,n,r=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){n=defaultClearTimeout}}();var o,a=[],l=!1,d=-1;function cleanUpNextTick(){l&&o&&(l=!1,o.length?a=o.concat(a):d=-1,a.length&&drainQueue())}function drainQueue(){if(!l){var e=runTimeout(cleanUpNextTick);l=!0;for(var t=a.length;t;){for(o=a,a=[];++d<t;)o&&o[d].run();d=-1,t=a.length}o=null,l=!1,function runClearTimeout(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new Item(e,t)),1!==a.length||l||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=noop,r.addListener=noop,r.once=noop,r.off=noop,r.removeListener=noop,r.removeAllListeners=noop,r.emit=noop,r.prependListener=noop,r.prependOnceListener=noop,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":(e,t,n)=>{"use strict";var r=function isOldIE(){var e;return function memorize(){return void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e}}(),o=function getTarget(){var e={};return function memorize(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function getIndexByIdentifier(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function modulesToDom(e,t){for(var n={},r=[],o=0;o<e.length;o++){var l=e[o],d=t.base?l[0]+t.base:l[0],c=n[d]||0,u="".concat(d," ").concat(c);n[d]=c+1;var p=getIndexByIdentifier(u),h={css:l[1],media:l[2],sourceMap:l[3]};-1!==p?(a[p].references++,a[p].updater(h)):a.push({identifier:u,updater:addStyle(h,t),references:1}),r.push(u)}return r}function insertStyleElement(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var l=o(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var l=function replaceText(){var e=[];return function replace(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function applyToSingletonTag(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else{var a=document.createTextNode(o),d=e.childNodes;d[t]&&e.removeChild(d[t]),d.length?e.insertBefore(a,d[t]):e.appendChild(a)}}function applyToTag(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,c=0;function addStyle(e,t){var n,r,o;if(t.singleton){var a=c++;n=d||(d=insertStyleElement(t)),r=applyToSingletonTag.bind(null,n,a,!1),o=applyToSingletonTag.bind(null,n,a,!0)}else n=insertStyleElement(t),r=applyToTag.bind(null,n,t),o=function remove(){!function removeStyleElement(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function updateStyle(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var n=modulesToDom(e=e||[],t);return function update(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=getIndexByIdentifier(n[r]);a[o].references--}for(var l=modulesToDom(e,t),d=0;d<n.length;d++){var c=getIndexByIdentifier(n[d]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}n=l}}}},"./node_modules/tslib/tslib.es6.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>__assign,__asyncDelegator:()=>__asyncDelegator,__asyncGenerator:()=>__asyncGenerator,__asyncValues:()=>__asyncValues,__await:()=>__await,__awaiter:()=>__awaiter,__classPrivateFieldGet:()=>__classPrivateFieldGet,__classPrivateFieldSet:()=>__classPrivateFieldSet,__createBinding:()=>__createBinding,__decorate:()=>__decorate,__exportStar:()=>__exportStar,__extends:()=>__extends,__generator:()=>__generator,__importDefault:()=>__importDefault,__importStar:()=>__importStar,__makeTemplateObject:()=>__makeTemplateObject,__metadata:()=>__metadata,__param:()=>__param,__read:()=>__read,__rest:()=>__rest,__spread:()=>__spread,__spreadArrays:()=>__spreadArrays,__values:()=>__values});var extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},extendStatics(e,t)};function __extends(e,t){function __(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},__assign.apply(this,arguments)};function __rest(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function __decorate(e,t,n,r){var o,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(l=(a<3?o(l):a>3?o(t,n,l):o(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l}function __param(e,t){return function(n,r){t(n,r,e)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,n,r){return new(n||(n=Promise))((function(o,a){function fulfilled(e){try{step(r.next(e))}catch(e){a(e)}}function rejected(e){try{step(r.throw(e))}catch(e){a(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))}function __generator(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function verb(a){return function(d){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,d])}}}function __createBinding(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function __exportStar(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return l}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __spreadArrays(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],l=0,d=a.length;l<d;l++,o++)r[o]=a[l];return r}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},verb("next"),verb("throw"),verb("return"),r[Symbol.asyncIterator]=function(){return this},r;function verb(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||resume(e,t)}))})}function resume(e,t){try{!function step(e){e.value instanceof __await?Promise.resolve(e.value.v).then(fulfill,reject):settle(a[0][2],e)}(o[e](t))}catch(e){settle(a[0][3],e)}}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){e(t),a.shift(),a.length&&resume(a[0][0],a[0][1])}}function __asyncDelegator(e){var t,n;return t={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),t[Symbol.iterator]=function(){return this},t;function verb(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:__await(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=__values(e),t={},verb("next"),verb("throw"),verb("return"),t[Symbol.asyncIterator]=function(){return this},t);function verb(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function settle(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function __makeTemplateObject(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function __importStar(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function __importDefault(e){return e&&e.__esModule?e:{default:e}}function __classPrivateFieldGet(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function __classPrivateFieldSet(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"./node_modules/util/support/isBufferBrowser.js":e=>{e.exports=function isBuffer(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"./node_modules/util/util.js":(e,t,n)=>{var r=n("./node_modules/process/browser.js"),o=/%[sdj%]/g;t.format=function(e){if(!isString(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(inspect(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,a=r.length,l=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),d=r[n];n<a;d=r[++n])isNull(d)||!isObject(d)?l+=" "+d:l+=" "+inspect(d);return l},t.deprecate=function(e,o){if(isUndefined(n.g.process))return function(){return t.deprecate(e,o).apply(this,arguments)};if(!0===r.noDeprecation)return e;var a=!1;return function deprecated(){if(!a){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}};var a,l={};function inspect(e,n){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(n)?r.showHidden=n:n&&t._extend(r,n),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,e,r.depth)}function stylizeWithColor(e,t){var n=inspect.styles[t];return n?"["+inspect.colors[n][0]+"m"+e+"["+inspect.colors[n][1]+"m":e}function stylizeNoColor(e,t){return e}function formatValue(e,n,r){if(e.customInspect&&n&&isFunction(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return isString(o)||(o=formatValue(e,o,r)),o}var a=function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(isNumber(t))return e.stylize(""+t,"number");if(isBoolean(t))return e.stylize(""+t,"boolean");if(isNull(t))return e.stylize("null","null")}(e,n);if(a)return a;var l=Object.keys(n),d=function arrayToHash(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(l);if(e.showHidden&&(l=Object.getOwnPropertyNames(n)),isError(n)&&(l.indexOf("message")>=0||l.indexOf("description")>=0))return formatError(n);if(0===l.length){if(isFunction(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(isRegExp(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(isDate(n))return e.stylize(Date.prototype.toString.call(n),"date");if(isError(n))return formatError(n)}var u,p="",h=!1,g=["{","}"];(isArray(n)&&(h=!0,g=["[","]"]),isFunction(n))&&(p=" [Function"+(n.name?": "+n.name:"")+"]");return isRegExp(n)&&(p=" "+RegExp.prototype.toString.call(n)),isDate(n)&&(p=" "+Date.prototype.toUTCString.call(n)),isError(n)&&(p=" "+formatError(n)),0!==l.length||h&&0!=n.length?r<0?isRegExp(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=h?function formatArray(e,t,n,r,o){for(var a=[],l=0,d=t.length;l<d;++l)hasOwnProperty(t,String(l))?a.push(formatProperty(e,t,n,r,String(l),!0)):a.push("");return o.forEach((function(o){o.match(/^\d+$/)||a.push(formatProperty(e,t,n,r,o,!0))})),a}(e,n,r,d,l):l.map((function(t){return formatProperty(e,n,r,d,t,h)})),e.seen.pop(),function reduceToSingleString(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(r>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,p,g)):g[0]+p+g[1]}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatProperty(e,t,n,r,o,a){var l,d,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?d=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(d=e.stylize("[Setter]","special")),hasOwnProperty(r,o)||(l="["+o+"]"),d||(e.seen.indexOf(c.value)<0?(d=isNull(n)?formatValue(e,c.value,null):formatValue(e,c.value,n-1)).indexOf("\n")>-1&&(d=a?d.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+d.split("\n").map((function(e){return"   "+e})).join("\n")):d=e.stylize("[Circular]","special")),isUndefined(l)){if(a&&o.match(/^\d+$/))return d;(l=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(l=l.substr(1,l.length-2),l=e.stylize(l,"name")):(l=l.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),l=e.stylize(l,"string"))}return l+": "+d}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(isUndefined(a)&&(a=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!l[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var n=r.pid;l[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else l[e]=function(){};return l[e]},t.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=isArray,t.isBoolean=isBoolean,t.isNull=isNull,t.isNullOrUndefined=function isNullOrUndefined(e){return null==e},t.isNumber=isNumber,t.isString=isString,t.isSymbol=function isSymbol(e){return"symbol"==typeof e},t.isUndefined=isUndefined,t.isRegExp=isRegExp,t.isObject=isObject,t.isDate=isDate,t.isError=isError,t.isFunction=isFunction,t.isPrimitive=function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("./node_modules/util/support/isBufferBrowser.js");var d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function timestamp(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),d[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n("./node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!isObject(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}},"./node_modules/whatwg-fetch/fetch.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{DOMException:()=>u,Headers:()=>Headers,Request:()=>Request,Response:()=>Response,fetch:()=>fetch});var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r&&r,o={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(o.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Headers(e){this.map={},e instanceof Headers?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function consumed(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function fileReaderReady(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function readBlobAsArrayBuffer(e){var t=new FileReader,n=fileReaderReady(t);return t.readAsArrayBuffer(e),n}function bufferClone(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o.arrayBuffer&&o.blob&&function isDataView(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=bufferClone(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=consumed(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return function readBlobAsText(e){var t=new FileReader,n=fileReaderReady(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function readArrayBufferAsText(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(e,t){e=normalizeName(e),t=normalizeValue(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,t){this.map[normalizeName(e)]=normalizeValue(t)},Headers.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},Headers.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),iteratorFor(e)},o.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(e,t){if(!(this instanceof Request))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Headers(t.headers)),this.method=function normalizeMethod(e){var t=e.toUpperCase();return d.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function decode(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function Response(e,t){if(!(this instanceof Response))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var c=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})};var u=r.DOMException;try{new u}catch(e){(u=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),u.prototype.constructor=u}function fetch(e,t){return new Promise((function(n,a){var l=new Request(e,t);if(l.signal&&l.signal.aborted)return a(new u("Aborted","AbortError"));var d=new XMLHttpRequest;function abortXhr(){d.abort()}d.onload=function(){var e,t,r={status:d.status,statusText:d.statusText,headers:(e=d.getAllResponseHeaders()||"",t=new Headers,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in d?d.responseURL:r.headers.get("X-Request-URL");var o="response"in d?d.response:d.responseText;setTimeout((function(){n(new Response(o,r))}),0)},d.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},d.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},d.onabort=function(){setTimeout((function(){a(new u("Aborted","AbortError"))}),0)},d.open(l.method,function fixUrl(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?d.withCredentials=!0:"omit"===l.credentials&&(d.withCredentials=!1),"responseType"in d&&(o.blob?d.responseType="blob":o.arrayBuffer&&l.headers.get("Content-Type")&&-1!==l.headers.get("Content-Type").indexOf("application/octet-stream")&&(d.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof Headers?l.headers.forEach((function(e,t){d.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){d.setRequestHeader(e,normalizeValue(t.headers[e]))})),l.signal&&(l.signal.addEventListener("abort",abortXhr),d.onreadystatechange=function(){4===d.readyState&&l.signal.removeEventListener("abort",abortXhr)}),d.send(void 0===l._bodyInit?null:l._bodyInit)}))}fetch.polyfill=!0,r.fetch||(r.fetch=fetch,r.Headers=Headers,r.Request=Request,r.Response=Response)},"./node_modules/client-controls/controls/compound/address-lookup/qp-address-lookup.css":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=n.n(r),a=n("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!./node_modules/client-controls/controls/compound/address-lookup/qp-address-lookup.css"),l=n.n(a),d={insert:"head",singleton:!1};o()(l(),d);const c=l().locals||{}}}]);