/*! For license information please see app.js.LICENSE.txt */
(function(){var __webpack_modules__={"apps/dac-browser/qp-dac-browser.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'qp-dac-browser {\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-dac-browser {\r\n\tbackground: white;\r\n\tdisplay: flex;\r\n\tfont-family: Arial,"Helvetica Neue",Helvetica,sans-serif;\r\n\theight: 100%;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-dac-browser.qp-dac-busy {\r\n\tposition: absolute;\r\n\tcursor: wait;\r\n\tz-index: 10000;\r\n\tbackground-color: transparent;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-left-pane {\r\n\twidth: 250px;\r\n\tflex-shrink: 0;\r\n\tfont-size: 13px;\r\n\tline-height: 23px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tpadding-bottom: 5px;\r\n\tbackground-color: #F6F6F6;\r\n\tpadding: 16px 0 0 16px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-tree {\r\n\tflex: 1;\r\n\toverflow: auto;\r\n\tpadding-right: 5px;\r\n\r\n\tscrollbar-width: thin;\r\n  scrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n}\r\n\r\n.qp-dac-tree::-webkit-scrollbar-thumb {\r\n\tbackground: transparent;\r\n\tborder-radius: 5px;\r\n\t/* border-left: 5px solid white; */\r\n}\r\n.qp-dac-tree:hover::-webkit-scrollbar-thumb {\r\n\tbackground: rgba(0,0,0,0.15);\r\n}\r\n.qp-dac-tree::-webkit-scrollbar-track {\r\n\t/* -webkit-box-shadow: inset 0 0 6px rgb(0 0 0 / 30%); */\r\n\t/* border-left: 5px solid white; */\r\n}\r\n\r\n.qp-dac-tree::-webkit-scrollbar {\r\n\twidth: 8px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-namespace {\r\n\tmargin-top: 4px;\r\n}\r\n\r\n.qp-dac-ns-frame {\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-dac-namespace {\r\n\tfont-size: 13px;\r\n\tline-height: 23px;\r\n\theight: 23px;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tbox-shadow: none;\r\n\tmargin-left: 20px;\r\n}\r\n\r\n.qp-dac-ns-opener {\r\n\tdisplay: inline-block;\r\n\twidth: 23px;\r\n\theight: 23px;\r\n\tposition: absolute;\r\n\tfont: normal normal normal 18px/1 \'FontAwesome\';\r\n\tcolor: rgba(0, 0, 0, 0.6);\r\n}\r\n\r\n.qp-dac-ns-opener.qp-dac-ns-expanded::before {\r\n\tcontent: "\\e9c6";\r\n\tline-height: 23px;\r\n}\r\n\r\n.qp-dac-ns-opener.qp-dac-ns-collapsed::before {\r\n\tcontent: "\\e9be";\r\n\tline-height: 23px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-leaf {\r\n\tcursor: pointer;\r\n\tpadding-left: 5px;\r\n\theight: 23px;\r\n\tmargin: 1px 0 1px 25px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-leaf:hover {\r\n\t background: #e4e4e4;\r\n}\r\n.qp-dac-browser .qp-dac-leaf .qp-dac-leaf-text {\r\n\twidth: 100%;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-dac-leaf-text {\r\n\tdisplay: inline-block;\r\n\tfont-size: 13px;\r\n\tline-height: 23px;\r\n\theight: 23px;\r\n\tbox-shadow: none;\r\n\ttext-decoration: none;\r\n\tcolor: #000;\r\n}\r\n\r\n.extention-cord.qp-dac-namespace,\r\n.extention-cord.qp-dac-leaf-text {\r\n\tbackground: #e4e4e4;\r\n\tborder-left: 5px solid #e4e4e4;\r\n\tmargin-left: -5px;\r\n\tpadding-right: 5px;\r\n\tbox-sizing: border-box;\r\n\tfont-family: Arial,"Helvetica Neue",Helvetica,sans-serif !important;\r\n}\r\n\r\n.extention-cord.qp-dac-namespace.qp-dac-active,\r\n.extention-cord.qp-dac-leaf-text.qp-dac-active {\r\n\tborder-left: none;\r\n\tborder-right: none;\r\n\tmargin-left: -5px;\r\n\tpadding-left: 5px;\r\n\tfont-weight: bold;\r\n\tfont-family: Arial,"Helvetica Neue",Helvetica,sans-serif !important;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-tree .qp-dac-nothing-found-highlight {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.qp-dac-highlight {\r\n\tbackground-color: rgba(0, 0, 0, .25);\r\n\tborder-top: 3px solid transparent;\r\n\tborder-bottom: 3px solid transparent;\r\n}\r\n\r\n.qp-dac-namespace .qp-dac-highlight,\r\n.qp-dac-leaf-text .qp-dac-highlight {\r\n\tbackground-color: #CBEAFF;\r\n\tbackground-color: var(--highlight-color, #CBEAFF);\r\n}\r\n\r\n.qp-dac-leaf-text.qp-dac-active,\r\n.qp-dac-browser .qp-dac-leaf.qp-dac-active {\r\n\tfont-weight: bold;\r\n\tbackground-color: #E4E4E4;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-namespace.qp-dac-active {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-filter {\r\n\tdisplay: inline-table;\r\n\tvertical-align: middle;\r\n\tbackground-color: #fff;\r\n\tpadding: 3px 5px 3px 3px;\r\n\tborder: 1px solid #E1E1E1;\r\n\tborder-radius: 5px;\r\n\tmargin: 0 13px 14px 0px;\r\n\tbox-sizing: border-box;\r\n\tline-height: 18px;\r\n}\r\n\r\n.qp-dac-browser .qp-filter-input {\r\n\tdisplay: table-cell;\r\n\tcolor: #555;\r\n\tborder: none;\r\n\tfont-size: 15px;\r\n\tline-height: 20px;\r\n\tmargin: 0;\r\n\toutline: none;\r\n\twidth: 100%;\r\n\tbackground-color: transparent;\r\n\tpadding: 1px 2px 1px 6px;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\ninput.qp-filter-input::placeholder {\r\n\tfont-style: normal;\r\n\tcolor: rgba(0, 0, 0, .4);\r\n}\r\n\r\n.qp-dac-browser .qp-filter-button {\r\n\tdisplay: table-cell;\r\n\tvertical-align: middle;\r\n\ttext-align: center;\r\n\twhite-space: nowrap;\r\n\twidth: 1%;\r\n}\r\n\r\n.qp-dac-browser .qp-filter-image {\r\n\tfont: normal normal normal 14px/1 \'FontAwesome\';\r\n\tfont-size: 19px;\r\n\tcolor: rgba(0, 0, 0, .4);\r\n\tcursor: pointer;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.qp-dac-browser .qp-filter-image:before {\r\n\tcontent: "\\e91a";\r\n}\r\n\r\n.qp-dac-browser .qp-dac-body {\r\n\tflex: 1;\r\n\toverflow: auto;\r\n\tpadding-right: 5px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-welcome-text.qp-dac-initializing {\r\n\tbackground: white;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tposition: absolute;\r\n\tpadding: 0;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n}\r\n.qp-dac-browser .qp-dac-welcome-text.qp-dac-initializing > span {\r\n\talign-self: center;\r\n\tmax-width: 550px;\r\n}\r\n\r\n@keyframes waiter {\r\n  0% { content: "" }\r\n  25% { content: "." }\r\n  50% { content: ".." }\r\n  75% { content: "..."}\r\n}\r\n\r\n.qp-dac-browser .qp-dac-welcome-text.qp-dac-initializing > span::after {\r\n\tcontent: "...";\r\n\tposition: absolute;\r\n\tanimation: waiter 3s linear infinite;\r\n\t-webkit-animation: waiter 3s linear infinite;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-welcome-text {\r\n\tflex-basis: 100%;\r\n\ttext-align: center;\r\n\tpadding: 0 30px;\r\n\tfont-size: 35px;\r\n\talign-self: center;\r\n\tcolor: rgba(0, 0, 0, .2);\r\n}\r\n.qp-dac-browser .qp-dac-welcome-text > span {\r\n\tmax-width: 500px;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-not-found-icon qp-icon {\r\n\twidth: 70px;\r\n\ttext-align: center;\r\n\theight: 90px;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-not-found {\r\n\tcolor: #222;\r\n\twidth: 410px;\r\n\tdisplay: inline-block;\r\n\tmargin-bottom: 15px;\r\n}\r\n.qp-dac-browser .qp-dac-apologies {\r\n\tfont-size: 28px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-details {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-grow: 1;\r\n\tbox-sizing: border-box;\r\n\tpadding: 16px 5px 0 32px;\r\n\tcolor: #222;\r\n\theight: 100%;\r\n\toverflow: auto;\r\n\tfont-size: 13px;\r\n}\r\n\r\nux-dialog-container.active {\r\n\tbackground: rgba(0, 0, 0, .3);\r\n\ttransition: opacity .15s linear;\r\n}\r\nux-dialog.qp-dac-dialog {\r\n\tfont-family: Arial,"Helvetica Neue",Helvetica,sans-serif !important;\r\n\ttransform: scale(.8);\r\n\ttransition: all .15s ease-out;\r\n}\r\nux-dialog-container.active ux-dialog.qp-dac-dialog {\r\n\ttransform: scale(1);\r\n}\r\n\r\nux-dialog.qp-dialog > ux-dialog-header > button {\r\n\tmargin: 0;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\nux-dialog.qp-dialog > ux-dialog-header > button:focus {\r\n\tborder: none;\r\n}\r\n\r\n.dialog.qp-dialog {\r\n\tborder: none;\r\n\tborder-radius: 10px;\r\n\tpadding: 20px 20px 25px;\r\n\ttab-size: 4;\r\n}\r\n\r\n.dialog.qp-dialog ux-dialog-header {\r\n\tpadding: 0;\r\n\theight: 22px;\r\n\tline-height: 22px;\r\n\tmargin-bottom: 20px;\r\n\tfont-size: 19px;\r\n\tfont-weight: bold;\r\n}\r\n.dialog.qp-dac-dialog ux-dialog-body {\r\n\tfont-size: 13px;\r\n\tline-height: 24px;\r\n\tpadding: 0;\r\n\twidth: 600px;\r\n\tmax-width: calc( 100vw - 72px);\r\n\toverflow: auto;\r\n\tmax-height: calc( 100vh - 150px );\r\n\tmargin-right: -15px;\r\n}\r\n\r\n.dialog.qp-dac-dialog ux-dialog-body .qp-dac-description {\r\n\tpadding: 15px 0 0 0;\r\n\tmax-width: 50vw;\r\n}\r\n.dialog.qp-dac-dialog ux-dialog-body .qp-dac-description p {\r\n\tmargin: 0;\r\n}\r\n\r\n.qp-dac-dialog.qp-dialog .qp-dac-title {\r\n\tflex-flow: nowrap;\r\n\talign-items: center;\r\n}\r\n.qp-dac-dialog.qp-dialog .qp-dac-title .dialog-header-content {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-header {\r\n\tfont-size: 19px;\r\n\tfont-weight: bold;\r\n\tline-height: 22px;\r\n\tcolor: #222;\r\n\tmargin: 10px 0 10px 0;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-details-header {\r\n\tmargin-bottom: 22px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-left-pane .qp-dac-header {\r\n\tfont-size: 18px;\r\n\tline-height: 18px;\r\n\tcolor: #222;\r\n\tmargin-bottom: 13px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-body .qp-dac-header {\r\n\tfont-size: 19px;\r\n\tfont-weight: bold;\r\n\tline-height: 19px;\r\n\tcolor: #222;\r\n\tmargin: 30px 0 10px 0;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table-header {\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\tbackground: #fff;\r\n\tz-index: 1;\r\n\tborder-collapse: separate;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-title {\r\n\tfont-size: 19px;\r\n\tline-height: 19px;\r\n\tdisplay: flex;\r\n\tflex-flow: nowrap;\r\n\talign-items: center;\r\n\tmargin-bottom: 12px;\r\n\tfont-weight: bold;\r\n\tcolor: #222;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-title .qp-dac-type,\r\n.qp-dac-browser .qp-dac-title .qp-dac-type {\r\n\tcolor: #aaa;\r\n\tpadding: 0 10px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-title .qp-dac-preview{\r\n\tfont-size: 13px;\r\n\tflex-grow: 1;\r\n\ttext-align: right;\r\n\twhite-space: nowrap;\r\n\tpadding: 0 8px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-title .qp-dac-preview a,\r\n.qp-dac-browser .qp-dac-title .qp-dac-preview span {\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\ttext-decoration: none;\r\n\twhite-space: nowrap;\r\n\tcursor: pointer;\r\n\tmargin-left: 20px;\r\n}\r\n\r\n\r\n.qp-dac-browser .qp-dac-quick-refs {\r\n\tfont-size: 13px;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-quick-refs a {\r\n\tcolor: #027ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\ttext-decoration: none;\r\n\tmargin-right: 32px;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-info {\r\n\tmax-width: 600px;\r\n}\r\n.qp-dac-browser .qp-dac-names {\r\n\tfont-size: 13px;\r\n\tline-height: 24px;\r\n\tmargin-bottom: 20px;\r\n\tmax-width: 600px;\r\n}\r\n\r\n.qp-dac-field-row {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-label,\r\n.qp-dac-browser .qp-dac-label {\r\n\twidth: 150px;\r\n\tdisplay: inline-block;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-info > span,\r\n.qp-dac-browser .qp-dac-info > span {\r\n\twhite-space: nowrap;\r\n}\r\n\r\nqp-tooltip a {\r\n\tcolor: inherit;\r\n\ttext-decoration: underline;\r\n\ttext-decoration-style: dotted;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-info a,\r\n.qp-dac-browser .qp-dac-info a {\r\n\t\ttext-decoration: none;\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box,\r\n.qp-dac-browser .qp-dac-box {\r\n\tpadding: 1px 8px;\r\n\tmargin-left: 5px;\r\n\theight: 16px;\r\n\tline-height: 16px;\r\n\tborder-radius: 5px;\r\n\tdisplay: inline-block;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box qp-tooltip,\r\n.qp-dac-browser .qp-dac-box qp-tooltip {\r\n\ttext-transform: none;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-obsolete,\r\n.qp-dac-browser .qp-dac-box.qp-dac-obsolete {\r\n\tcolor: #FF000B;\r\n\tbackground-color: #FFE5E7;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-internalApi,\r\n.qp-dac-browser .qp-dac-box.qp-dac-internalApi {\r\n\tcolor: #FF000B;\r\n\tbackground-color: #FFE5E7;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-hidden,\r\n.qp-dac-browser .qp-dac-box.qp-dac-hidden {\r\n\tcolor: #775400;\r\n\tbackground-color: #FFEBBA;\r\n}\r\n.qp-dac-browser .qp-dac-box.qp-dac-delete-cascade {\r\n\tcolor: #775400;\r\n\tbackground-color: #FFEBBA;\r\n}\r\n.qp-dac-browser .qp-dac-box.qp-dac-nested {\r\n\tcolor: #775400;\r\n\tbackground-color: #FFEBBA;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-box.qp-dac-proj {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-box.qp-dac-accumulator {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-box.qp-dac-row-level-security {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-customized,\r\n.qp-dac-browser .qp-dac-box.qp-dac-customized {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-udf,\r\n.qp-dac-browser .qp-dac-box.qp-dac-udf {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-nvp-field,\r\n.qp-dac-browser .qp-dac-box.qp-dac-nvp-field {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-field-default-navigation,\r\n.qp-dac-browser .qp-dac-box.qp-dac-field-default-navigation {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-description {\r\n\tmargin-bottom: 20px;\r\n\tmax-width: 600px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-content-visible {\r\n\tborder-bottom: 1px solid;\r\n}\r\n.qp-dac-browser .qp-dac-table {\r\n\tfont-size: 13px;\r\n\tline-height: 29px;\r\n\tmargin-bottom: 22px;\r\n\tmin-width: 700px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table table {\r\n\tborder-collapse: separate;\r\n\twidth: 100%;\r\n\tborder-spacing: 0px;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table tr {\r\n\theight: 29px;\r\n}\r\n.qp-dac-browser .qp-dac-table tr:nth-child(even) {\r\n\tbackground-color: #F6F7F8;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table th {\r\n\ttext-align: left;\r\n\tfont-weight: bold;\r\n\tborder-bottom: 1px solid #E2E2E2;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table td {\r\n\twhite-space: normal;\r\n\tline-height: 15px;\r\n\tpadding: 7px 10px 7px 0;\r\n\tvertical-align: baseline;\r\n\tborder-bottom: 1px solid #E2E2E2;\r\n}\r\n.qp-dac-browser .qp-dac-table td span {\r\n\twhite-space: normal;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table th.qp-dac-key {\r\n\twidth: 26px;\r\n\tmin-width: 26px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table .qp-dac-main-key-fields,\r\n.qp-dac-browser .qp-dac-table .qp-dac-name {\r\n\twidth: 30%;\r\n}\r\n\r\n\r\n.qp-dac-browser .qp-dac-table .qp-dac-parent,\r\n.qp-dac-browser .qp-dac-table .qp-dac-type,\r\n.qp-dac-browser .qp-dac-table .qp-dac-disp-name {\r\n\twidth: 25%;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table .qp-dac-key-fields {\r\n\twidth: 45%;\r\n}\r\n.qp-dac-browser .qp-dac-table .qp-dac-ref-header {\r\n\twidth: 20%;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table td.qp-dac-disp-name {\r\n\twhite-space: normal;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-ref,\r\n.qp-dac-dialog .qp-dac-ref {\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\tcursor: pointer;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.qp-dac-browser qp-icon {\r\n\tdisplay: block;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-columns qp-icon {\r\n\twidth: 15px;\r\n\theight: 20px;\r\n\tmargin: 0 6px;\r\n\tposition: absolute;\r\n\ttop: 5px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-columns qp-icon.qp-dac-pk.qp-dac-double-key {\r\n\tleft: -3px;\r\n}\r\n.qp-dac-browser .qp-dac-columns qp-icon.qp-dac-fk.qp-dac-double-key {\r\n\tleft: 3px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-columns qp-icon.qp-dac-pk svg,\r\n.qp-dac-browser .qp-dac-columns qp-icon.qp-dac-fk svg {\r\n\twidth: 20px;\r\n\theight: 20px;\r\n}\r\n.qp-dac-browser .qp-dac-columns qp-icon.qp-dac-pk svg {\r\n\tfill: #FFAD62;\r\n}\r\n.qp-dac-browser .qp-dac-columns qp-icon.qp-dac-fk svg {\r\n\tfill: #616161;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-columns .qp-dac-key {\r\n\tpadding: 0;\r\n\tposition: relative;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-columns td.qp-dac-name {\r\n\tcursor: pointer;\r\n}\r\n.qp-dac-browser .qp-dac-columns td.qp-dac-name:hover {\r\n\tcolor: #027ACC;\r\n}\r\n\r\npre.qp-dac-sql {\r\n\twhite-space: pre-wrap;\r\n\tfont-family: \'Consolas\', "Courier New", \'Courier\', \'monospace\';\r\n\tfont-size: 13px;\r\n\tcolor: #222;\r\n\tline-height: 16px;\r\n\tmargin: 0;\r\n\tpadding: 1em;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-sql {\r\n\twhite-space: pre-wrap;\r\n\tfont-family: \'Consolas\', "Courier New", \'Courier\', \'monospace\';\r\n\tfont-size: 13px;\r\n\tcolor: #222;\r\n\tline-height: 16px;\r\n\tpadding-right: 15px;\r\n}\r\n\r\n.qp-dac-sql a {\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\ttext-decoration: none;\r\n}\r\n\r\n.qp-dac-dialog ux-dialog-header qp-icon {\r\n\tflex-grow: 0;\r\n\tmargin-top: 3px;\r\n\theight: 16px;\r\n\twidth: 16px;\r\n\toverflow: hidden;\r\n\topacity: 0.6;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-dac-dialog ux-dialog-header qp-icon svg {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.qp-dac-dialog ux-dialog-header qp-icon:hover {\r\n\topacity: 1;\r\n}\r\n\r\n.qp-dac-dialog ux-dialog-header .spacer {\r\n\tline-height: 1px;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-dac-hl-keyword {\r\n\tcolor: blue;\r\n}\r\n\r\n.qp-dac-hl-function {\r\n\tcolor: magenta;\r\n}\r\n\r\n.qp-dac-hl-number {\r\n\tcolor: green;\r\n}\r\n\r\n.qp-dac-hl-string {\r\n\tcolor: red;\r\n}\r\n\r\n.qp-dac-hl-special {\r\n\tcolor: darkgrey;\r\n\tfont-weight: 900;\r\n}\r\n\r\n.qp-dac-hl-bracket {\r\n\tcolor: darkgrey;\r\n\tfont-weight: 900;\r\n}\r\n\r\n/* C# syntax highlighting for highlight.js*/\r\n.hljs-comment {\r\n\tcolor: #008000;\r\n}\r\n\r\n.hljs-pscommand,\r\n.hljs-keyword,\r\n.hljs-selector-tag,\r\n.hljs-built_in,\r\n.hljs-name,\r\n.hljs-string .hljs-subst,\r\n.hljs-tag {\r\n\tcolor: #0101fd;\r\n}\r\n\r\n.hljs-literal {\r\n\t/* color: darken(#09885a, 5%); */\r\n\tcolor: #09885a;\r\n}\r\n\r\n.hljs-string .hljs-subst,\r\n.hljs-attr {\r\n\tcolor: #0451a5;\r\n}\r\n\r\n.hljs-string,\r\n.hljs-string .hljs-subst .hljs-string,\r\n.hljs-section,\r\n.hljs-template-tag,\r\n.hljs-template-variable,\r\n.hljs-deletion,\r\n.hljs-code {\r\n\tcolor: #a31515;\r\n}\r\n\r\n.hljs-parameter,\r\n.hljs-type,\r\n.hljs-attribute,\r\n.hljs-title,\r\n.hljs-addition,\r\n.hljs-selector-attr,\r\n.hljs-selector-pseudo,\r\n.hljs-meta {\r\n\t/* color: darken(#007d9a, 5%); */\r\n\tcolor: #007d9a;\r\n}\r\n\r\n.hljs-doctag {\r\n\t/* color: darken(#737373, 5%); */\r\n\tcolor: #737373;\r\n}\r\n\r\n.hljs-control {\r\n\tcolor: #af00db;\r\n}\r\n\r\n.hljs-helper {\r\n\tcolor: #795e26;\r\n}\r\n\r\n.hljs-symbol,\r\n.hljs-bullet,\r\n.hljs-link {\r\n\tcolor: #0071e1;\r\n\t/* color: darken(#0071e1, 5%); */\r\n}\r\n\r\n.hljs-emphasis {\r\n\tfont-style: italic;\r\n}\r\n\r\n.hljs-strong {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.hljs-reserved,\r\n.hljs-constant {\r\n\tcolor: #cd3131;\r\n}\r\n',""]),e.exports=i},"apps/enhance/controls/calendar/acmevent-calendar.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"\r\n@media (max-width : 700px) {\r\n  .b-calendar .b-top-toolbar .b-calendar-view-desc,\r\n  [data-ref=todayButton] {\r\n    display: none;\r\n  }\r\n\r\n  .b-calendar .b-top-toolbar {\r\n    padding-left: 0;\r\n    font-size: 0.8em;\r\n  }\r\n\r\n  .b-yearview-content .b-calendar-week {\r\n    max-width: 100%;\r\n  }\r\n\r\n  .b-calendarrow .b-cal-cell-header {\r\n    padding-top: 1em;\r\n\r\n    .b-day-name-date {\r\n      font-size: 1em;\r\n    }\r\n  }\r\n\r\n  .b-agendaview {\r\n    .b-cal-agenda-date {\r\n      flex-shrink: 1;\r\n    }\r\n\r\n    .b-grid-cell {\r\n      font-size: 0.7em;\r\n    }\r\n\r\n    .b-cal-agenda-event-time {\r\n      flex: 0 0 9em;\r\n    }\r\n  }\r\n}\r\n\r\n.b-content-element:not(.b-toolbar) > .b-field {\r\n  flex: unset !important;\r\n  margin-bottom: unset !important;\r\n}\r\n\r\n/*Tool tip Header background and padding*/\r\n.b-panel-header {\r\n  background-color: rgb(230,242,250) !important;\r\n  padding: 3px !important;\r\n}\r\n\r\n/*Tool tip Header Font Size*/\r\n.b-panel-header .b-header-title {\r\n  font-size: 14.4px !important;\r\n}\r\n\r\n/*Tool tip content Font Size*/\r\n.b-tooltip-content {\r\n  font-size: 14.4px !important;\r\n}\r\n\r\n/*Tool tip bottom border*/\r\n.b-panel-header.b-dock-top {\r\n  border-bottom: 0px solid #007ACC !important;\r\n}\r\n\r\n/*Tool tip Clock border*/\r\n.b-sch-clock-hour .b-sch-clock {\r\n  border: 2px solid #007ACC !important;\r\n}\r\n\r\n/*Event font - day view and week view*/\r\n.b-dayview-day-detail .b-cal-event-desc {\r\n  font-size: 13px !important;\r\n}\r\n\r\n/*Tool tip calendar indicator color*/\r\n.b-sch-clock-day .b-sch-clock .b-sch-hour-indicator {\r\n  background-color: #007ACC !important;\r\n}\r\n\r\nqp-acmevent-calendar {\r\n  display: block;\r\n  /*width: 100vw;*/\r\n  height: 100vh;\r\n}\r\n\r\n.acmtooltipCSS label {\r\n  margin-top: 1px;\r\n}\r\n",""]),e.exports=i},"apps/enhance/controls/payment/qp-giftcard.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'qp-giftcard {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 20000;\r\n}\r\n\r\n qp-giftcard .ac-warning {\r\n    font-size: 20px;\r\n    color: black;\r\n    float: none !important;\r\n    margin: 0px !important;\r\n    position: absolute;\r\n    top: 49%;\r\n    transform: translate(50%, -50%);\r\n }\r\n\r\n.gcpayment-form-background {\r\n  position: fixed;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.gcpayment-form-being-dragged {\r\n  opacity: 0.75;\r\n}\r\n\r\n.gcform-errors {\r\n  background-color: #FFD7D7;\r\n  width: 100%;\r\n  border-radius: 8px;\r\n  position: relative;\r\n}\r\n\r\n.gcform-warning {\r\n  background-color: #FF8C0033 !important;\r\n}\r\n\r\n#gccard-errors {\r\n  padding: 10px;\r\n  padding-left: 40px;\r\n  font-size: 13px;\r\n  word-wrap: break-word;\r\n  white-space: pre-line;\r\n}\r\n\r\n.gcpayment-form {\r\n  padding: 20px;\r\n  position: absolute;\r\n  background: #FFFFFF;\r\n  box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n  border-radius: 10px;\r\n  width: 300px;\r\n  top: 15%;\r\n  left: calc(50% - 460px / 2);\r\n}\r\n\r\n.gcpayment-form label {\r\n  margin: 2px;\r\n  font-size: 13px;\r\n  color: #222222;\r\n}\r\n\r\n.card-pin {\r\n  margin-top: 16px;\r\n}\r\n\r\n.gcpayment-form label.gcpayment-form-label {\r\n  left: 20px;\r\n  top: 20px;\r\n  font-size: 22px;\r\n  color: #000000;\r\n}\r\n\r\n.gcpayment-form i.ac.ac-close.ac-pull-right {\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\n.gcadditional-payment-info {\r\n  padding-top: 10px;\r\n}\r\n\r\n.gcadditional-payment-info div {\r\n    margin: 5px 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n.gcadditional-payment-info label, .gcpayment-amount-label {\r\n  display: inline-block;\r\n  max-width: 150px;\r\n}\r\n\r\n.gcadditional-payment-info input {\r\n  width: 150px;\r\n}\r\n\r\n.gcadditional-payment-info label[required]:before, .gccard-front label[required]:before, .gccard-back label[required]:before {\r\n  content: "* ";\r\n}\r\n\r\n.gcfield-warning:before {\r\n  color: red;\r\n}\r\n\r\n.gcinputfield-warning {\r\n  color: red !important;\r\n}\r\n\r\n.gcadditional-payment-info .gcpayment-form-input {\r\n  height: 16px;\r\n  padding: 4px 8px 4px 8px;\r\n  left: 100px;\r\n}\r\n\r\n.gcpayment-form-input {\r\n  background: #FFFFFF;\r\n  border: 1px solid rgba(0, 0, 0, 0.19);\r\n  border-radius: 5px;\r\n}\r\n\r\n.gcpayment-form-input:focus,\r\n.GiftCardElement--focus {\r\n  border: 2px solid #027ACC;\r\n  margin: -1px;\r\n}\r\n\r\n.gcpayment-card {\r\n  position: relative;\r\n  height: 150px;\r\n  margin-top: 14px;\r\n}\r\n\r\n.gccard-front {\r\n  position: absolute;\r\n  width: -webkit-fill-available !important;\r\n  width: -moz-available !important;\r\n  width: fill-available !important;\r\n  height: 117px;\r\n  background: #DCECF8;\r\n  border-radius: 8px;\r\n  z-index: 1;\r\n  padding: 16px;\r\n}\r\n\r\n.gccard-back {\r\n  position: absolute;\r\n  width: 134px;\r\n  height: 123px;\r\n  left: 272px;\r\n  top: 10px;\r\n  margin: 0px;\r\n  background: rgba(2, 122, 204, 0.24);\r\n  border-radius: 8px;\r\n}\r\n\r\n.gcpay-button {\r\n  width: 100%;\r\n  background-color: var(--primary-color, #007ACC) !important;\r\n  border-radius: 5px;\r\n  font-size: 13px;\r\n  line-height: 15px;\r\n  text-transform: uppercase;\r\n  color: #FFFFFF;\r\n  height: 30px;\r\n  margin-top: 20px;\r\n  border: 0px;\r\n  cursor: pointer;\r\n}\r\n\r\n.gcpayment-errors-hidden {\r\n  display: none;\r\n}\r\n\r\n.gcpay-button:disabled {\r\n  opacity: 0.4;\r\n  pointer-events: none;\r\n}\r\n\r\n.gcpay-button:not([disabled]):hover,\r\n.gcpay-button:active {\r\n  opacity: 0.87;\r\n  background-color: var(--primary-color, #007ACC) !important;\r\n  border-color: var(--primary-color, #007ACC) !important;\r\n}\r\n\r\n.gcbalance-button {\r\n  background: none !important;\r\n  border: none;\r\n  padding: 0 !important;\r\n  font-size: 13px;\r\n  color: blue;\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n}\r\n\r\n.gcbalance-info-hidden {\r\n  display: none !important;\r\n}\r\n\r\n#additional-payment-info input#Zip {\r\n  width: 100px;\r\n  margin-right: 150px;\r\n}\r\n\r\n.GiftCardElement {\r\n  padding: 5px 8px 3px 8px;\r\n  font-size: 13px;\r\n  color: #32325d;\r\n  width: 242px;\r\n}\r\n\r\n.GiftCardPINElement {\r\n  padding: 5px 8px 3px 8px;\r\n  font-size: 13px;\r\n  color: #32325d;\r\n  width: 100px;\r\n}\r\n\r\n.RighAlignElement {\r\n  text-align:right;\r\n}\r\n\r\n.LabelLikeElement {\r\n  border: none !important;\r\n}\r\n\r\n.LabelLikeElementWithWarning {\r\n  border: none !important;\r\n  background-color: #ff8c0033 !important;\r\n}\r\n\r\n.address-separator {\r\n  margin-top: 8px;\r\n  margin-bottom: 2px;\r\n  width: 100%;\r\n}\r\n\r\n/* Chrome, Safari, Edge, Opera */\r\ninput::-webkit-outer-spin-button,\r\ninput::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n\r\n/* Firefox */\r\ninput[type=number] {\r\n  -moz-appearance: textfield;\r\n}\r\n\r\n.gcLoader {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 2;\r\n  border-radius: 10px;\r\n  background-color: rgba(256,256,256,.5);\r\n  /*background-color: rgba(0,0,0,.05)*/\r\n}\r\n\r\n',""]),e.exports=i},"apps/enhance/controls/qp-gauge.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-gauge {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}",""]),e.exports=i},"apps/enhance/controls/qp-plugin-service.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".pluginServiceButton {\r\n    background-color: silver;\r\n    border: 1px black;\r\n    margin: 15px;\r\n    width: 50px;\r\n    height: 30px;\r\n}\r\n.pluginServiceHidden{\r\n    display: none;\r\n}",""]),e.exports=i},"apps/enhance/controls/qp-text-editor-autocomplete.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'.visuallyhidden {\r\n\tborder: 0;\r\n\tclip: rect(0 0 0 0);\r\n\theight: 1px;\r\n\tmargin: -1px;\r\n\toverflow: hidden;\r\n\tpadding: 0;\r\n\tposition: absolute;\r\n\twidth: 1px;\r\n}\r\n\r\n.drop-down__options-pane {\r\n\tmax-height: 210px;\r\n\toverflow-y: auto;\r\n\tposition: absolute;\r\n\tz-index: 20000;\r\n\theight: initial;\r\n\tdisplay: block;\r\n\tfont-size: 13px;\r\n\tborder: #d2d4d7 1px Solid;\r\n\tbackground-color: White;\r\n\tbox-shadow: 3px 3px 4px rgba(0, 0, 0, 0.64);\r\n\t-webkit-box-shadow: 4px 4px 6px rgba(0, 0, 0, 0.64);\r\n\t-moz-box-shadow: 4px 4px 6px rgba(0, 0, 0, 0.64);\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n}\r\n\r\n.drop-down__option {\r\n\tmin-height: 1em;\r\n\tpadding: 2px 4px;\r\n\tvertical-align: middle;\r\n\ttext-align: left;\r\n\twhite-space: nowrap;\r\n\tcursor: default;\r\n}\r\n\r\nqp-options .ddItemDisabled {\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\topacity: 0.26 !important;\r\n}\r\n\r\nqp-text-editor-autocomplete {\r\n\tdisplay: block;\r\n}\r\n\r\nqp-text-editor-autocomplete[style*="height"] qp-text-editor,\r\nqp-text-editor-autocomplete[style*="height"] qp-text-editor textarea {\r\n\theight: 100% !important;\r\n}\r\n\r\nqp-text-editor-autocomplete .qp-text-editor.myselection::selection {\r\n\tcolor: silver;\r\n\tbackground: white;\r\n}\r\n\r\n.main {\r\n\tbackground: white;\r\n\theight: 100%;\r\n\toverflow: auto;\r\n\tline-height: normal;\r\n}\r\n\r\n.ttip {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tdisplay: flex;\r\n\tflex-flow: column;\r\n\tz-index: 9999;\r\n\tbackground: white;\r\n\tcolor: gray;\r\n\twhite-space: nowrap;\r\n\tbox-shadow: 0px 1px 4px rgba(0, 0, 0, 0.25);\r\n\tborder-radius: 0px 5px 5px 0px;\r\n\t/*height: 21px;*/\r\n}\r\n\r\n.ttip-item {\r\n\theight: 21px;\r\n\tdisplay: flex;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tcursor: pointer;\r\n}\r\n\r\n.ttip-item:hover {\r\n\tcursor: hand;\r\n}\r\n\r\n.ttip-item-text {\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tborder: 0;\r\n}\r\n\r\n#indexHint {\r\n\tcolor: black;\r\n\tz-index: 100;\r\n\tpadding: 0 5px;\r\n\tfont-family: "Arial";\r\n\tfont-size: 10px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n',""]),e.exports=i},"./controls/compound/address-lookup/qp-address-lookup.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".btn-address-lookup {\r\n\tcolor: black;\r\n}\r\n\r\n.flex-container {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n}\r\n\r\n.flex-container-notconf {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\tjustify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.flex-item {}\r\n\r\n.mapContainer,\r\n#addressautocompletemap {\r\n\tz-index: 1000;\r\n}\r\n\r\n.customNavBar {\r\n\tposition: absolute;\r\n\ttop: 15px;\r\n\tleft: 15px;\r\n\tright: 200px;\r\n\tmax-width: 600px;\r\n\tz-index: 0;\r\n}\r\n\r\n.pac-container {\r\n\tz-index: 10001;\r\n}\r\n\r\n.pac-container:after {\r\n\t/* Disclaimer: not needed to show 'powered by Google' if also a Google Map is shown */\r\n\r\n\tbackground-image: none !important;\r\n\theight: 0px;\r\n}\r\n",""]),e.exports=i},"./plugins/bank-feed/qp-mx.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"#mx-form-container {\r\n    position: absolute;\r\n    top: 15%;\r\n    width: 350px;\r\n    height: 630px;\r\n    left: calc(50% - 350px / 2);\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    background-color: #FFFFFF;\r\n    z-index: 20000;\r\n}\r\n#mx-form-header {\r\n    height: 30px;\r\n}\r\n#mx-form-header {\r\n    font-size: 20px;\r\n}\r\n",""]),e.exports=i},"./plugins/payment/qp-authorize-net.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-authorize-net div{\r\n    padding: 15px;\r\n    position: fixed;\r\n    top: 25%;\r\n    left: 25%;\r\n    background-color: aliceblue;\r\n    border: solid 1px black;\r\n    z-index: 20000;\r\n}\r\n#paymentForm.show-payment-form {\r\n    display: block;\r\n}\r\n#paymentForm:not(.show-payment-form) {\r\n    display: none;\r\n}",""]),e.exports=i},"./plugins/payment/qp-fortis.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-fortis{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 20000;\r\n}\r\n#payment-form-fortis{\r\n    padding: 20px;\r\n    position: absolute;\r\n    background: #f5f7f8;\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 10px;\r\n    width: fit-content;\r\n\theight: fit-content;\r\n    top: 5%;\r\n    left: calc(50% - 295px);\r\n}\r\n#payment-form-fortis label {\r\n    margin: 2px;\r\n    font-size: 13px;\r\n    color: #222222;\r\n}\r\n#paymentForm-fortis.show-payment-form {\r\n    display: block;\r\n}\r\n#paymentForm-fortis:not(.show-payment-form) {\r\n    display: none;\r\n}\r\n#payment-form-fortis label.payment-form-label {\r\n    left: 20px;\r\n    top: 20px;\r\n    font-size: 22px;\r\n    color: #000000;\r\n}\r\n#payment-form-fortis i.ac.ac-close.ac-pull-right {\r\n    font-size: 20px;\r\n}\r\n.flexible{\r\n\tdisplay: inline-table;\r\n}\r\n.payformccsize{\r\n\twidth: 295px;\r\n\theight: 565px;\r\n}\r\n.payformachsize{\r\n\twidth: 305px;\r\n\theight: 670px;\r\n}\r\n.accountformccsize{\r\n\twidth: 290px;\r\n\theight: 530px;\r\n}\r\n.accountformachsize{\r\n\twidth: 550px;\r\n\theight: 695px;\r\n}",""]),e.exports=i},"./plugins/payment/qp-stripe.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'qp-stripe{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 20000;\r\n}\r\nqp-stripe .ac-warning{\r\n    font-size: 20px;\r\n    color: black;\r\n    float: left;\r\n    margin: 9px;\r\n}\r\n.payment-form-background {\r\n    position: fixed;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    width:100%;\r\n    height:100%;\r\n}\r\n.payment-form-being-dragged {\r\n    opacity: 0.75;\r\n}\r\n.form-errors{\r\n    background-color: #FFD7D7;\r\n    width: 100%;\r\n    border-radius: 8px;\r\n}\r\n#card-errors {\r\n    padding: 10px;\r\n    padding-left: 40px;\r\n    font-size: 13px;\r\n    word-wrap: break-word;\r\n}\r\n#payment-form {\r\n    padding: 20px;\r\n    position: absolute;\r\n    background: #FFFFFF;\r\n    overflow: hidden;\r\n\tbox-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 10px;\r\n    width: fit-content;\r\n\theight: fit-content;\r\n    top: 15%;\r\n    left: calc(50% - 460px / 2);\r\n}\r\n#payment-form:not(.payment-mobile){\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 10px;\r\n    width: 420px;\r\n    top: 15%;\r\n    left: calc(50% - 460px / 2);\r\n}\r\n.payment-form-background .payment-mobile {\r\n\tdisplay: none;\r\n}\r\n#payment-form label {\r\n    margin: 2px;\r\n    font-size: 13px;\r\n    color: #222222;\r\n}\r\n#card-number {\r\n    width: 242px;\r\n    line-height: 26px;\r\n    vertical-align: middle;\r\n}\r\n.card-expiry {\r\n    margin-top: 16px;\r\n}\r\n#card-expiry {\r\n    width: 81px;\r\n}\r\n#payment-form label.payment-form-label {\r\n    left: 20px;\r\n    top: 20px;\r\n    font-size: 22px;\r\n    color: #000000;\r\n}\r\n#payment-form i.ac.ac-close.ac-pull-right {\r\n    font-size: 20px;\r\n}\r\n#additional-payment-info{\r\n    padding-top: 10px;\r\n}\r\n#additional-payment-info div {\r\n    margin: 5px 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n#additional-payment-info label, .payment-amount-label {\r\n    display: inline-block;\r\n    max-width: 150px;\r\n}\r\n#additional-payment-info input{\r\n    width: 250px;\r\n}\r\n#additional-payment-info label[required]:before, .card-front label[required]:before, .card-back label[required]:before {\r\n    content:"* ";\r\n}\r\n.field-warning:before {\r\n    color: red;\r\n}\r\n#additional-payment-info .payment-form-input {\r\n    height: 16px;\r\n    padding: 4px 8px 4px 8px;\r\n    left: 200px;\r\n}\r\n.payment-form-input {\r\n    background: #FFFFFF;\r\n    border: 1px solid rgba(0, 0, 0, 0.19);\r\n    border-radius: 5px;\r\n}\r\n.payment-form-input:focus, \r\n.StripeElement--focus {\r\n    border: 2px solid #027ACC;\r\n    margin: -1px;\r\n}\r\n.payment-card {\r\n    position: relative;\r\n    height: 150px; \r\n    margin-top: 14px;\r\n}\r\n.card-front {\r\n    position: absolute;\r\n    width: 256px;\r\n    height: 117px;\r\n    background: #DCECF8;\r\n    border-radius: 8px;\r\n    z-index: 1;\r\n    padding: 16px;\r\n}\r\n.card-back {\r\n    position: absolute;\r\n    width: 134px;\r\n    height: 123px;\r\n    left: 272px;\r\n    top: 10px;\r\n    margin: 0px;\r\n    background: rgba(2, 122, 204, 0.24);\r\n    border-radius: 8px;\r\n}\r\n.magnetic-line {\r\n    width: 100%;\r\n    height: 32px;\r\n    margin-top: 16px;\r\n    background-color: rgba(2, 122, 204, 0.2);\r\n}\r\n.card-cvc {\r\n    position: absolute;\r\n    left: 30px;\r\n    bottom: 20px;\r\n}\r\n#card-cvc {\r\n    width: 70px;\r\n}\r\n.pay-button {\r\n    width: 100%;\r\n\tbackground-color: var(--primary-color, #007ACC) !important;\r\n    border-radius: 5px;\r\n    font-size: 13px;\r\n    line-height: 15px;\r\n    text-transform: uppercase;\r\n    color: #FFFFFF;\r\n    height: 30px;\r\n    margin-top: 20px;\r\n    border: 0px;\r\n}\r\n.payment-amount {\r\n    width: 110px;\r\n}\r\n.payment-errors-hidden {\r\n    display: none;\r\n}\r\n\r\n.pay-button:disabled{\r\n\topacity: 0.4;\r\n}\r\n\r\n.pay-button:not([disabled]):hover,\r\n.pay-button:active {\r\n\topacity: 0.87;\r\n\tbackground-color: var(--primary-color, #007ACC) !important;\r\n\tborder-color: var(--primary-color, #007ACC) !important;\r\n}\r\n.payment-amount[disabled] {\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: #E0E4E8;\r\n\tborder-bottom-style: dotted;\r\n\tborder-width: 1px;\r\n}\r\n#additional-payment-info input#Zip {\r\n    width: 100px;\r\n    margin-right: 150px;\r\n}\r\n.StripeElement {\r\n    padding: 5px 8px 3px 8px;\r\n}\r\n.address-separator {\r\n    margin-top: 8px;\r\n    margin-bottom: 2px;\r\n    width: 100%;\r\n}',""]),e.exports=i},"./plugins/wiki-tooltip/qp-wiki-tooltip.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'i.btn-small-more-local {\r\n\tcolor: rgba(0,0,0,.64);\r\n\tfont-size: 16px;\r\n\tpadding-left: 4px;\r\n\tpadding-right: 3px;\r\n\t/*padding-top: 3px;*/\r\n\tcursor: pointer;\r\n\tanimation: fadeIn .2s;\r\n\tvisibility: hidden;\r\n  transition: visibility 0s .3s;\r\n  transition-timing-function: ease-out;\r\n}\r\n\r\ndiv>i.btn-small-more-local {\r\n\tpadding-top: 4px;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  0% { opacity: 0; }\r\n  100% { opacity: 1; }\r\n}\r\n\r\nspan.btn-small-more-local {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding-left: 0;\r\n\tpadding-right: 0;\r\n\tcursor: pointer;\r\n\tcolor: RGBA(0, 0, 0, 0.8);\r\n}\r\n\r\nspan.btn-small-more-local>i.btn-small-more-local{\r\n\tcolor: RGBA(0, 0, 0, 0.87);\r\n\tanimation: none;\r\n\tvisibility: visible;\r\n\tpadding-left: 0;\r\n}\r\n\r\nspan.cb-label {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\twidth: 100%;\r\n}\r\n\r\nspan.cb-label > label {\r\n\twidth: 100%;\r\n}\r\n\r\n.label-hover {\r\n\twidth: unset !important;\r\n}\r\n\r\n.label-hover:hover + i.btn-small-more-local {\r\n\tvisibility: visible;\r\n}\r\n\r\ni.btn-small-more-local:hover {\r\n\tvisibility: visible;\r\n}\r\n\r\ninput[type="checkbox"] {\r\n\tmin-height: 14px;\r\n\tmin-width: 14px;\r\n}\r\n\r\ndiv.wk-uicontrol {\r\n\tdisplay: inline;\r\n\tfont-weight: bold;\r\n}\r\n\r\ndiv#wikiTooltipBodyShadow {\r\n\tposition: fixed;\r\n\tbackground-color: rgba(0, 0, 0, 0.2);\r\n\tleft: 0;\r\n\ttop: 0;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tz-index: 999999990;\r\n\tdisplay: none;\r\n}\r\n\r\ndiv#wikiTooltipSidePanel {\r\n\theight: 100%;\r\n\tposition: fixed;\r\n\toverflow: hidden;\r\n\tright: 0;\r\n\ttop: 0;\r\n\twidth: 350px;\r\n\tz-index: 999999991;\r\n\tbackground-color: white;\r\n\tdisplay: none;\r\n}\r\n\r\ndiv#wikiTooltipSidePanel>iframe {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tfont: normal normal 400 12px Verdana !important;\r\n}\r\n',""]),e.exports=i},"apps/dac-browser/qp-dac-browser.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'qp-dac-browser {\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-dac-browser {\r\n\tbackground: white;\r\n\tdisplay: flex;\r\n\tfont-family: Arial,"Helvetica Neue",Helvetica,sans-serif;\r\n\theight: 100%;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-dac-browser.qp-dac-busy {\r\n\tposition: absolute;\r\n\tcursor: wait;\r\n\tz-index: 10000;\r\n\tbackground-color: transparent;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-left-pane {\r\n\twidth: 250px;\r\n\tflex-shrink: 0;\r\n\tfont-size: 13px;\r\n\tline-height: 23px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tpadding-bottom: 5px;\r\n\tbackground-color: #F6F6F6;\r\n\tpadding: 16px 0 0 16px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-tree {\r\n\tflex: 1;\r\n\toverflow: auto;\r\n\tpadding-right: 5px;\r\n\r\n\tscrollbar-width: thin;\r\n  scrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n}\r\n\r\n.qp-dac-tree::-webkit-scrollbar-thumb {\r\n\tbackground: transparent;\r\n\tborder-radius: 5px;\r\n\t/* border-left: 5px solid white; */\r\n}\r\n.qp-dac-tree:hover::-webkit-scrollbar-thumb {\r\n\tbackground: rgba(0,0,0,0.15);\r\n}\r\n.qp-dac-tree::-webkit-scrollbar-track {\r\n\t/* -webkit-box-shadow: inset 0 0 6px rgb(0 0 0 / 30%); */\r\n\t/* border-left: 5px solid white; */\r\n}\r\n\r\n.qp-dac-tree::-webkit-scrollbar {\r\n\twidth: 8px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-namespace {\r\n\tmargin-top: 4px;\r\n}\r\n\r\n.qp-dac-ns-frame {\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-dac-namespace {\r\n\tfont-size: 13px;\r\n\tline-height: 23px;\r\n\theight: 23px;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tbox-shadow: none;\r\n\tmargin-left: 20px;\r\n}\r\n\r\n.qp-dac-ns-opener {\r\n\tdisplay: inline-block;\r\n\twidth: 23px;\r\n\theight: 23px;\r\n\tposition: absolute;\r\n\tfont: normal normal normal 18px/1 \'FontAwesome\';\r\n\tcolor: rgba(0, 0, 0, 0.6);\r\n}\r\n\r\n.qp-dac-ns-opener.qp-dac-ns-expanded::before {\r\n\tcontent: "\\e9c6";\r\n\tline-height: 23px;\r\n}\r\n\r\n.qp-dac-ns-opener.qp-dac-ns-collapsed::before {\r\n\tcontent: "\\e9be";\r\n\tline-height: 23px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-leaf {\r\n\tcursor: pointer;\r\n\tpadding-left: 5px;\r\n\theight: 23px;\r\n\tmargin: 1px 0 1px 25px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-leaf:hover {\r\n\t background: #e4e4e4;\r\n}\r\n.qp-dac-browser .qp-dac-leaf .qp-dac-leaf-text {\r\n\twidth: 100%;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-dac-leaf-text {\r\n\tdisplay: inline-block;\r\n\tfont-size: 13px;\r\n\tline-height: 23px;\r\n\theight: 23px;\r\n\tbox-shadow: none;\r\n\ttext-decoration: none;\r\n\tcolor: #000;\r\n}\r\n\r\n.extention-cord.qp-dac-namespace,\r\n.extention-cord.qp-dac-leaf-text {\r\n\tbackground: #e4e4e4;\r\n\tborder-left: 5px solid #e4e4e4;\r\n\tmargin-left: -5px;\r\n\tpadding-right: 5px;\r\n\tbox-sizing: border-box;\r\n\tfont-family: Arial,"Helvetica Neue",Helvetica,sans-serif !important;\r\n}\r\n\r\n.extention-cord.qp-dac-namespace.qp-dac-active,\r\n.extention-cord.qp-dac-leaf-text.qp-dac-active {\r\n\tborder-left: none;\r\n\tborder-right: none;\r\n\tmargin-left: -5px;\r\n\tpadding-left: 5px;\r\n\tfont-weight: bold;\r\n\tfont-family: Arial,"Helvetica Neue",Helvetica,sans-serif !important;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-tree .qp-dac-nothing-found-highlight {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.qp-dac-highlight {\r\n\tbackground-color: rgba(0, 0, 0, .25);\r\n\tborder-top: 3px solid transparent;\r\n\tborder-bottom: 3px solid transparent;\r\n}\r\n\r\n.qp-dac-namespace .qp-dac-highlight,\r\n.qp-dac-leaf-text .qp-dac-highlight {\r\n\tbackground-color: #CBEAFF;\r\n\tbackground-color: var(--highlight-color, #CBEAFF);\r\n}\r\n\r\n.qp-dac-leaf-text.qp-dac-active,\r\n.qp-dac-browser .qp-dac-leaf.qp-dac-active {\r\n\tfont-weight: bold;\r\n\tbackground-color: #E4E4E4;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-namespace.qp-dac-active {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-filter {\r\n\tdisplay: inline-table;\r\n\tvertical-align: middle;\r\n\tbackground-color: #fff;\r\n\tpadding: 3px 5px 3px 3px;\r\n\tborder: 1px solid #E1E1E1;\r\n\tborder-radius: 5px;\r\n\tmargin: 0 13px 14px 0px;\r\n\tbox-sizing: border-box;\r\n\tline-height: 18px;\r\n}\r\n\r\n.qp-dac-browser .qp-filter-input {\r\n\tdisplay: table-cell;\r\n\tcolor: #555;\r\n\tborder: none;\r\n\tfont-size: 15px;\r\n\tline-height: 20px;\r\n\tmargin: 0;\r\n\toutline: none;\r\n\twidth: 100%;\r\n\tbackground-color: transparent;\r\n\tpadding: 1px 2px 1px 6px;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\ninput.qp-filter-input::placeholder {\r\n\tfont-style: normal;\r\n\tcolor: rgba(0, 0, 0, .4);\r\n}\r\n\r\n.qp-dac-browser .qp-filter-button {\r\n\tdisplay: table-cell;\r\n\tvertical-align: middle;\r\n\ttext-align: center;\r\n\twhite-space: nowrap;\r\n\twidth: 1%;\r\n}\r\n\r\n.qp-dac-browser .qp-filter-image {\r\n\tfont: normal normal normal 14px/1 \'FontAwesome\';\r\n\tfont-size: 19px;\r\n\tcolor: rgba(0, 0, 0, .4);\r\n\tcursor: pointer;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.qp-dac-browser .qp-filter-image:before {\r\n\tcontent: "\\e91a";\r\n}\r\n\r\n.qp-dac-browser .qp-dac-body {\r\n\tflex: 1;\r\n\toverflow: auto;\r\n\tpadding-right: 5px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-welcome-text.qp-dac-initializing {\r\n\tbackground: white;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tposition: absolute;\r\n\tpadding: 0;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n}\r\n.qp-dac-browser .qp-dac-welcome-text.qp-dac-initializing > span {\r\n\talign-self: center;\r\n\tmax-width: 550px;\r\n}\r\n\r\n@keyframes waiter {\r\n  0% { content: "" }\r\n  25% { content: "." }\r\n  50% { content: ".." }\r\n  75% { content: "..."}\r\n}\r\n\r\n.qp-dac-browser .qp-dac-welcome-text.qp-dac-initializing > span::after {\r\n\tcontent: "...";\r\n\tposition: absolute;\r\n\tanimation: waiter 3s linear infinite;\r\n\t-webkit-animation: waiter 3s linear infinite;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-welcome-text {\r\n\tflex-basis: 100%;\r\n\ttext-align: center;\r\n\tpadding: 0 30px;\r\n\tfont-size: 35px;\r\n\talign-self: center;\r\n\tcolor: rgba(0, 0, 0, .2);\r\n}\r\n.qp-dac-browser .qp-dac-welcome-text > span {\r\n\tmax-width: 500px;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-not-found-icon qp-icon {\r\n\twidth: 70px;\r\n\ttext-align: center;\r\n\theight: 90px;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-not-found {\r\n\tcolor: #222;\r\n\twidth: 410px;\r\n\tdisplay: inline-block;\r\n\tmargin-bottom: 15px;\r\n}\r\n.qp-dac-browser .qp-dac-apologies {\r\n\tfont-size: 28px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-details {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-grow: 1;\r\n\tbox-sizing: border-box;\r\n\tpadding: 16px 5px 0 32px;\r\n\tcolor: #222;\r\n\theight: 100%;\r\n\toverflow: auto;\r\n\tfont-size: 13px;\r\n}\r\n\r\nux-dialog-container.active {\r\n\tbackground: rgba(0, 0, 0, .3);\r\n\ttransition: opacity .15s linear;\r\n}\r\nux-dialog.qp-dac-dialog {\r\n\tfont-family: Arial,"Helvetica Neue",Helvetica,sans-serif !important;\r\n\ttransform: scale(.8);\r\n\ttransition: all .15s ease-out;\r\n}\r\nux-dialog-container.active ux-dialog.qp-dac-dialog {\r\n\ttransform: scale(1);\r\n}\r\n\r\nux-dialog.qp-dialog > ux-dialog-header > button {\r\n\tmargin: 0;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\nux-dialog.qp-dialog > ux-dialog-header > button:focus {\r\n\tborder: none;\r\n}\r\n\r\n.dialog.qp-dialog {\r\n\tborder: none;\r\n\tborder-radius: 10px;\r\n\tpadding: 20px 20px 25px;\r\n\ttab-size: 4;\r\n}\r\n\r\n.dialog.qp-dialog ux-dialog-header {\r\n\tpadding: 0;\r\n\theight: 22px;\r\n\tline-height: 22px;\r\n\tmargin-bottom: 20px;\r\n\tfont-size: 19px;\r\n\tfont-weight: bold;\r\n}\r\n.dialog.qp-dac-dialog ux-dialog-body {\r\n\tfont-size: 13px;\r\n\tline-height: 24px;\r\n\tpadding: 0;\r\n\twidth: 600px;\r\n\tmax-width: calc( 100vw - 72px);\r\n\toverflow: auto;\r\n\tmax-height: calc( 100vh - 150px );\r\n\tmargin-right: -15px;\r\n}\r\n\r\n.dialog.qp-dac-dialog ux-dialog-body .qp-dac-description {\r\n\tpadding: 15px 0 0 0;\r\n\tmax-width: 50vw;\r\n}\r\n.dialog.qp-dac-dialog ux-dialog-body .qp-dac-description p {\r\n\tmargin: 0;\r\n}\r\n\r\n.qp-dac-dialog.qp-dialog .qp-dac-title {\r\n\tflex-flow: nowrap;\r\n\talign-items: center;\r\n}\r\n.qp-dac-dialog.qp-dialog .qp-dac-title .dialog-header-content {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-header {\r\n\tfont-size: 19px;\r\n\tfont-weight: bold;\r\n\tline-height: 22px;\r\n\tcolor: #222;\r\n\tmargin: 10px 0 10px 0;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-details-header {\r\n\tmargin-bottom: 22px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-left-pane .qp-dac-header {\r\n\tfont-size: 18px;\r\n\tline-height: 18px;\r\n\tcolor: #222;\r\n\tmargin-bottom: 13px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-body .qp-dac-header {\r\n\tfont-size: 19px;\r\n\tfont-weight: bold;\r\n\tline-height: 19px;\r\n\tcolor: #222;\r\n\tmargin: 30px 0 10px 0;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table-header {\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\tbackground: #fff;\r\n\tz-index: 1;\r\n\tborder-collapse: separate;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-title {\r\n\tfont-size: 19px;\r\n\tline-height: 19px;\r\n\tdisplay: flex;\r\n\tflex-flow: nowrap;\r\n\talign-items: center;\r\n\tmargin-bottom: 12px;\r\n\tfont-weight: bold;\r\n\tcolor: #222;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-title .qp-dac-type,\r\n.qp-dac-browser .qp-dac-title .qp-dac-type {\r\n\tcolor: #aaa;\r\n\tpadding: 0 10px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-title .qp-dac-preview{\r\n\tfont-size: 13px;\r\n\tflex-grow: 1;\r\n\ttext-align: right;\r\n\twhite-space: nowrap;\r\n\tpadding: 0 8px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-title .qp-dac-preview a,\r\n.qp-dac-browser .qp-dac-title .qp-dac-preview span {\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\ttext-decoration: none;\r\n\twhite-space: nowrap;\r\n\tcursor: pointer;\r\n\tmargin-left: 20px;\r\n}\r\n\r\n\r\n.qp-dac-browser .qp-dac-quick-refs {\r\n\tfont-size: 13px;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-quick-refs a {\r\n\tcolor: #027ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\ttext-decoration: none;\r\n\tmargin-right: 32px;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-info {\r\n\tmax-width: 600px;\r\n}\r\n.qp-dac-browser .qp-dac-names {\r\n\tfont-size: 13px;\r\n\tline-height: 24px;\r\n\tmargin-bottom: 20px;\r\n\tmax-width: 600px;\r\n}\r\n\r\n.qp-dac-field-row {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-label,\r\n.qp-dac-browser .qp-dac-label {\r\n\twidth: 150px;\r\n\tdisplay: inline-block;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-info > span,\r\n.qp-dac-browser .qp-dac-info > span {\r\n\twhite-space: nowrap;\r\n}\r\n\r\nqp-tooltip a {\r\n\tcolor: inherit;\r\n\ttext-decoration: underline;\r\n\ttext-decoration-style: dotted;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-info a,\r\n.qp-dac-browser .qp-dac-info a {\r\n\t\ttext-decoration: none;\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box,\r\n.qp-dac-browser .qp-dac-box {\r\n\tpadding: 1px 8px;\r\n\tmargin-left: 5px;\r\n\theight: 16px;\r\n\tline-height: 16px;\r\n\tborder-radius: 5px;\r\n\tdisplay: inline-block;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box qp-tooltip,\r\n.qp-dac-browser .qp-dac-box qp-tooltip {\r\n\ttext-transform: none;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-obsolete,\r\n.qp-dac-browser .qp-dac-box.qp-dac-obsolete {\r\n\tcolor: #FF000B;\r\n\tbackground-color: #FFE5E7;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-internalApi,\r\n.qp-dac-browser .qp-dac-box.qp-dac-internalApi {\r\n\tcolor: #FF000B;\r\n\tbackground-color: #FFE5E7;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-hidden,\r\n.qp-dac-browser .qp-dac-box.qp-dac-hidden {\r\n\tcolor: #775400;\r\n\tbackground-color: #FFEBBA;\r\n}\r\n.qp-dac-browser .qp-dac-box.qp-dac-delete-cascade {\r\n\tcolor: #775400;\r\n\tbackground-color: #FFEBBA;\r\n}\r\n.qp-dac-browser .qp-dac-box.qp-dac-nested {\r\n\tcolor: #775400;\r\n\tbackground-color: #FFEBBA;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-box.qp-dac-proj {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-box.qp-dac-accumulator {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-box.qp-dac-row-level-security {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-customized,\r\n.qp-dac-browser .qp-dac-box.qp-dac-customized {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-udf,\r\n.qp-dac-browser .qp-dac-box.qp-dac-udf {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-nvp-field,\r\n.qp-dac-browser .qp-dac-box.qp-dac-nvp-field {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-box.qp-dac-field-default-navigation,\r\n.qp-dac-browser .qp-dac-box.qp-dac-field-default-navigation {\r\n\tcolor: #016FBB;\r\n\tbackground-color: #EBF7FF;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-description {\r\n\tmargin-bottom: 20px;\r\n\tmax-width: 600px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-content-visible {\r\n\tborder-bottom: 1px solid;\r\n}\r\n.qp-dac-browser .qp-dac-table {\r\n\tfont-size: 13px;\r\n\tline-height: 29px;\r\n\tmargin-bottom: 22px;\r\n\tmin-width: 700px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table table {\r\n\tborder-collapse: separate;\r\n\twidth: 100%;\r\n\tborder-spacing: 0px;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table tr {\r\n\theight: 29px;\r\n}\r\n.qp-dac-browser .qp-dac-table tr:nth-child(even) {\r\n\tbackground-color: #F6F7F8;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table th {\r\n\ttext-align: left;\r\n\tfont-weight: bold;\r\n\tborder-bottom: 1px solid #E2E2E2;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table td {\r\n\twhite-space: normal;\r\n\tline-height: 15px;\r\n\tpadding: 7px 10px 7px 0;\r\n\tvertical-align: baseline;\r\n\tborder-bottom: 1px solid #E2E2E2;\r\n}\r\n.qp-dac-browser .qp-dac-table td span {\r\n\twhite-space: normal;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table th.qp-dac-key {\r\n\twidth: 26px;\r\n\tmin-width: 26px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table .qp-dac-main-key-fields,\r\n.qp-dac-browser .qp-dac-table .qp-dac-name {\r\n\twidth: 30%;\r\n}\r\n\r\n\r\n.qp-dac-browser .qp-dac-table .qp-dac-parent,\r\n.qp-dac-browser .qp-dac-table .qp-dac-type,\r\n.qp-dac-browser .qp-dac-table .qp-dac-disp-name {\r\n\twidth: 25%;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table .qp-dac-key-fields {\r\n\twidth: 45%;\r\n}\r\n.qp-dac-browser .qp-dac-table .qp-dac-ref-header {\r\n\twidth: 20%;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-table td.qp-dac-disp-name {\r\n\twhite-space: normal;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-ref,\r\n.qp-dac-dialog .qp-dac-ref {\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\tcursor: pointer;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.qp-dac-browser qp-icon {\r\n\tdisplay: block;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-columns qp-icon {\r\n\twidth: 15px;\r\n\theight: 20px;\r\n\tmargin: 0 6px;\r\n\tposition: absolute;\r\n\ttop: 5px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-columns qp-icon.qp-dac-pk.qp-dac-double-key {\r\n\tleft: -3px;\r\n}\r\n.qp-dac-browser .qp-dac-columns qp-icon.qp-dac-fk.qp-dac-double-key {\r\n\tleft: 3px;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-columns qp-icon.qp-dac-pk svg,\r\n.qp-dac-browser .qp-dac-columns qp-icon.qp-dac-fk svg {\r\n\twidth: 20px;\r\n\theight: 20px;\r\n}\r\n.qp-dac-browser .qp-dac-columns qp-icon.qp-dac-pk svg {\r\n\tfill: #FFAD62;\r\n}\r\n.qp-dac-browser .qp-dac-columns qp-icon.qp-dac-fk svg {\r\n\tfill: #616161;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-columns .qp-dac-key {\r\n\tpadding: 0;\r\n\tposition: relative;\r\n}\r\n\r\n.qp-dac-browser .qp-dac-columns td.qp-dac-name {\r\n\tcursor: pointer;\r\n}\r\n.qp-dac-browser .qp-dac-columns td.qp-dac-name:hover {\r\n\tcolor: #027ACC;\r\n}\r\n\r\npre.qp-dac-sql {\r\n\twhite-space: pre-wrap;\r\n\tfont-family: \'Consolas\', "Courier New", \'Courier\', \'monospace\';\r\n\tfont-size: 13px;\r\n\tcolor: #222;\r\n\tline-height: 16px;\r\n\tmargin: 0;\r\n\tpadding: 1em;\r\n}\r\n\r\n.qp-dac-dialog .qp-dac-sql {\r\n\twhite-space: pre-wrap;\r\n\tfont-family: \'Consolas\', "Courier New", \'Courier\', \'monospace\';\r\n\tfont-size: 13px;\r\n\tcolor: #222;\r\n\tline-height: 16px;\r\n\tpadding-right: 15px;\r\n}\r\n\r\n.qp-dac-sql a {\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\ttext-decoration: none;\r\n}\r\n\r\n.qp-dac-dialog ux-dialog-header qp-icon {\r\n\tflex-grow: 0;\r\n\tmargin-top: 3px;\r\n\theight: 16px;\r\n\twidth: 16px;\r\n\toverflow: hidden;\r\n\topacity: 0.6;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-dac-dialog ux-dialog-header qp-icon svg {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.qp-dac-dialog ux-dialog-header qp-icon:hover {\r\n\topacity: 1;\r\n}\r\n\r\n.qp-dac-dialog ux-dialog-header .spacer {\r\n\tline-height: 1px;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-dac-hl-keyword {\r\n\tcolor: blue;\r\n}\r\n\r\n.qp-dac-hl-function {\r\n\tcolor: magenta;\r\n}\r\n\r\n.qp-dac-hl-number {\r\n\tcolor: green;\r\n}\r\n\r\n.qp-dac-hl-string {\r\n\tcolor: red;\r\n}\r\n\r\n.qp-dac-hl-special {\r\n\tcolor: darkgrey;\r\n\tfont-weight: 900;\r\n}\r\n\r\n.qp-dac-hl-bracket {\r\n\tcolor: darkgrey;\r\n\tfont-weight: 900;\r\n}\r\n\r\n/* C# syntax highlighting for highlight.js*/\r\n.hljs-comment {\r\n\tcolor: #008000;\r\n}\r\n\r\n.hljs-pscommand,\r\n.hljs-keyword,\r\n.hljs-selector-tag,\r\n.hljs-built_in,\r\n.hljs-name,\r\n.hljs-string .hljs-subst,\r\n.hljs-tag {\r\n\tcolor: #0101fd;\r\n}\r\n\r\n.hljs-literal {\r\n\t/* color: darken(#09885a, 5%); */\r\n\tcolor: #09885a;\r\n}\r\n\r\n.hljs-string .hljs-subst,\r\n.hljs-attr {\r\n\tcolor: #0451a5;\r\n}\r\n\r\n.hljs-string,\r\n.hljs-string .hljs-subst .hljs-string,\r\n.hljs-section,\r\n.hljs-template-tag,\r\n.hljs-template-variable,\r\n.hljs-deletion,\r\n.hljs-code {\r\n\tcolor: #a31515;\r\n}\r\n\r\n.hljs-parameter,\r\n.hljs-type,\r\n.hljs-attribute,\r\n.hljs-title,\r\n.hljs-addition,\r\n.hljs-selector-attr,\r\n.hljs-selector-pseudo,\r\n.hljs-meta {\r\n\t/* color: darken(#007d9a, 5%); */\r\n\tcolor: #007d9a;\r\n}\r\n\r\n.hljs-doctag {\r\n\t/* color: darken(#737373, 5%); */\r\n\tcolor: #737373;\r\n}\r\n\r\n.hljs-control {\r\n\tcolor: #af00db;\r\n}\r\n\r\n.hljs-helper {\r\n\tcolor: #795e26;\r\n}\r\n\r\n.hljs-symbol,\r\n.hljs-bullet,\r\n.hljs-link {\r\n\tcolor: #0071e1;\r\n\t/* color: darken(#0071e1, 5%); */\r\n}\r\n\r\n.hljs-emphasis {\r\n\tfont-style: italic;\r\n}\r\n\r\n.hljs-strong {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.hljs-reserved,\r\n.hljs-constant {\r\n\tcolor: #cd3131;\r\n}\r\n',""]),e.exports=i},"apps/enhance/controls/calendar/acmevent-calendar.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"\r\n@media (max-width : 700px) {\r\n  .b-calendar .b-top-toolbar .b-calendar-view-desc,\r\n  [data-ref=todayButton] {\r\n    display: none;\r\n  }\r\n\r\n  .b-calendar .b-top-toolbar {\r\n    padding-left: 0;\r\n    font-size: 0.8em;\r\n  }\r\n\r\n  .b-yearview-content .b-calendar-week {\r\n    max-width: 100%;\r\n  }\r\n\r\n  .b-calendarrow .b-cal-cell-header {\r\n    padding-top: 1em;\r\n\r\n    .b-day-name-date {\r\n      font-size: 1em;\r\n    }\r\n  }\r\n\r\n  .b-agendaview {\r\n    .b-cal-agenda-date {\r\n      flex-shrink: 1;\r\n    }\r\n\r\n    .b-grid-cell {\r\n      font-size: 0.7em;\r\n    }\r\n\r\n    .b-cal-agenda-event-time {\r\n      flex: 0 0 9em;\r\n    }\r\n  }\r\n}\r\n\r\n.b-content-element:not(.b-toolbar) > .b-field {\r\n  flex: unset !important;\r\n  margin-bottom: unset !important;\r\n}\r\n\r\n/*Tool tip Header background and padding*/\r\n.b-panel-header {\r\n  background-color: rgb(230,242,250) !important;\r\n  padding: 3px !important;\r\n}\r\n\r\n/*Tool tip Header Font Size*/\r\n.b-panel-header .b-header-title {\r\n  font-size: 14.4px !important;\r\n}\r\n\r\n/*Tool tip content Font Size*/\r\n.b-tooltip-content {\r\n  font-size: 14.4px !important;\r\n}\r\n\r\n/*Tool tip bottom border*/\r\n.b-panel-header.b-dock-top {\r\n  border-bottom: 0px solid #007ACC !important;\r\n}\r\n\r\n/*Tool tip Clock border*/\r\n.b-sch-clock-hour .b-sch-clock {\r\n  border: 2px solid #007ACC !important;\r\n}\r\n\r\n/*Event font - day view and week view*/\r\n.b-dayview-day-detail .b-cal-event-desc {\r\n  font-size: 13px !important;\r\n}\r\n\r\n/*Tool tip calendar indicator color*/\r\n.b-sch-clock-day .b-sch-clock .b-sch-hour-indicator {\r\n  background-color: #007ACC !important;\r\n}\r\n\r\nqp-acmevent-calendar {\r\n  display: block;\r\n  /*width: 100vw;*/\r\n  height: 100vh;\r\n}\r\n\r\n.acmtooltipCSS label {\r\n  margin-top: 1px;\r\n}\r\n",""]),e.exports=i},"apps/enhance/controls/payment/qp-giftcard.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'qp-giftcard {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 20000;\r\n}\r\n\r\n qp-giftcard .ac-warning {\r\n    font-size: 20px;\r\n    color: black;\r\n    float: none !important;\r\n    margin: 0px !important;\r\n    position: absolute;\r\n    top: 49%;\r\n    transform: translate(50%, -50%);\r\n }\r\n\r\n.gcpayment-form-background {\r\n  position: fixed;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.gcpayment-form-being-dragged {\r\n  opacity: 0.75;\r\n}\r\n\r\n.gcform-errors {\r\n  background-color: #FFD7D7;\r\n  width: 100%;\r\n  border-radius: 8px;\r\n  position: relative;\r\n}\r\n\r\n.gcform-warning {\r\n  background-color: #FF8C0033 !important;\r\n}\r\n\r\n#gccard-errors {\r\n  padding: 10px;\r\n  padding-left: 40px;\r\n  font-size: 13px;\r\n  word-wrap: break-word;\r\n  white-space: pre-line;\r\n}\r\n\r\n.gcpayment-form {\r\n  padding: 20px;\r\n  position: absolute;\r\n  background: #FFFFFF;\r\n  box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n  border-radius: 10px;\r\n  width: 300px;\r\n  top: 15%;\r\n  left: calc(50% - 460px / 2);\r\n}\r\n\r\n.gcpayment-form label {\r\n  margin: 2px;\r\n  font-size: 13px;\r\n  color: #222222;\r\n}\r\n\r\n.card-pin {\r\n  margin-top: 16px;\r\n}\r\n\r\n.gcpayment-form label.gcpayment-form-label {\r\n  left: 20px;\r\n  top: 20px;\r\n  font-size: 22px;\r\n  color: #000000;\r\n}\r\n\r\n.gcpayment-form i.ac.ac-close.ac-pull-right {\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\n.gcadditional-payment-info {\r\n  padding-top: 10px;\r\n}\r\n\r\n.gcadditional-payment-info div {\r\n    margin: 5px 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n\r\n.gcadditional-payment-info label, .gcpayment-amount-label {\r\n  display: inline-block;\r\n  max-width: 150px;\r\n}\r\n\r\n.gcadditional-payment-info input {\r\n  width: 150px;\r\n}\r\n\r\n.gcadditional-payment-info label[required]:before, .gccard-front label[required]:before, .gccard-back label[required]:before {\r\n  content: "* ";\r\n}\r\n\r\n.gcfield-warning:before {\r\n  color: red;\r\n}\r\n\r\n.gcinputfield-warning {\r\n  color: red !important;\r\n}\r\n\r\n.gcadditional-payment-info .gcpayment-form-input {\r\n  height: 16px;\r\n  padding: 4px 8px 4px 8px;\r\n  left: 100px;\r\n}\r\n\r\n.gcpayment-form-input {\r\n  background: #FFFFFF;\r\n  border: 1px solid rgba(0, 0, 0, 0.19);\r\n  border-radius: 5px;\r\n}\r\n\r\n.gcpayment-form-input:focus,\r\n.GiftCardElement--focus {\r\n  border: 2px solid #027ACC;\r\n  margin: -1px;\r\n}\r\n\r\n.gcpayment-card {\r\n  position: relative;\r\n  height: 150px;\r\n  margin-top: 14px;\r\n}\r\n\r\n.gccard-front {\r\n  position: absolute;\r\n  width: -webkit-fill-available !important;\r\n  width: -moz-available !important;\r\n  width: fill-available !important;\r\n  height: 117px;\r\n  background: #DCECF8;\r\n  border-radius: 8px;\r\n  z-index: 1;\r\n  padding: 16px;\r\n}\r\n\r\n.gccard-back {\r\n  position: absolute;\r\n  width: 134px;\r\n  height: 123px;\r\n  left: 272px;\r\n  top: 10px;\r\n  margin: 0px;\r\n  background: rgba(2, 122, 204, 0.24);\r\n  border-radius: 8px;\r\n}\r\n\r\n.gcpay-button {\r\n  width: 100%;\r\n  background-color: var(--primary-color, #007ACC) !important;\r\n  border-radius: 5px;\r\n  font-size: 13px;\r\n  line-height: 15px;\r\n  text-transform: uppercase;\r\n  color: #FFFFFF;\r\n  height: 30px;\r\n  margin-top: 20px;\r\n  border: 0px;\r\n  cursor: pointer;\r\n}\r\n\r\n.gcpayment-errors-hidden {\r\n  display: none;\r\n}\r\n\r\n.gcpay-button:disabled {\r\n  opacity: 0.4;\r\n  pointer-events: none;\r\n}\r\n\r\n.gcpay-button:not([disabled]):hover,\r\n.gcpay-button:active {\r\n  opacity: 0.87;\r\n  background-color: var(--primary-color, #007ACC) !important;\r\n  border-color: var(--primary-color, #007ACC) !important;\r\n}\r\n\r\n.gcbalance-button {\r\n  background: none !important;\r\n  border: none;\r\n  padding: 0 !important;\r\n  font-size: 13px;\r\n  color: blue;\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n}\r\n\r\n.gcbalance-info-hidden {\r\n  display: none !important;\r\n}\r\n\r\n#additional-payment-info input#Zip {\r\n  width: 100px;\r\n  margin-right: 150px;\r\n}\r\n\r\n.GiftCardElement {\r\n  padding: 5px 8px 3px 8px;\r\n  font-size: 13px;\r\n  color: #32325d;\r\n  width: 242px;\r\n}\r\n\r\n.GiftCardPINElement {\r\n  padding: 5px 8px 3px 8px;\r\n  font-size: 13px;\r\n  color: #32325d;\r\n  width: 100px;\r\n}\r\n\r\n.RighAlignElement {\r\n  text-align:right;\r\n}\r\n\r\n.LabelLikeElement {\r\n  border: none !important;\r\n}\r\n\r\n.LabelLikeElementWithWarning {\r\n  border: none !important;\r\n  background-color: #ff8c0033 !important;\r\n}\r\n\r\n.address-separator {\r\n  margin-top: 8px;\r\n  margin-bottom: 2px;\r\n  width: 100%;\r\n}\r\n\r\n/* Chrome, Safari, Edge, Opera */\r\ninput::-webkit-outer-spin-button,\r\ninput::-webkit-inner-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n\r\n/* Firefox */\r\ninput[type=number] {\r\n  -moz-appearance: textfield;\r\n}\r\n\r\n.gcLoader {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 2;\r\n  border-radius: 10px;\r\n  background-color: rgba(256,256,256,.5);\r\n  /*background-color: rgba(0,0,0,.05)*/\r\n}\r\n\r\n',""]),e.exports=i},"apps/enhance/controls/qp-gauge.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-gauge {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}",""]),e.exports=i},"apps/enhance/controls/qp-plugin-service.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".pluginServiceButton {\r\n    background-color: silver;\r\n    border: 1px black;\r\n    margin: 15px;\r\n    width: 50px;\r\n    height: 30px;\r\n}\r\n.pluginServiceHidden{\r\n    display: none;\r\n}",""]),e.exports=i},"apps/enhance/controls/qp-text-editor-autocomplete.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'.visuallyhidden {\r\n\tborder: 0;\r\n\tclip: rect(0 0 0 0);\r\n\theight: 1px;\r\n\tmargin: -1px;\r\n\toverflow: hidden;\r\n\tpadding: 0;\r\n\tposition: absolute;\r\n\twidth: 1px;\r\n}\r\n\r\n.drop-down__options-pane {\r\n\tmax-height: 210px;\r\n\toverflow-y: auto;\r\n\tposition: absolute;\r\n\tz-index: 20000;\r\n\theight: initial;\r\n\tdisplay: block;\r\n\tfont-size: 13px;\r\n\tborder: #d2d4d7 1px Solid;\r\n\tbackground-color: White;\r\n\tbox-shadow: 3px 3px 4px rgba(0, 0, 0, 0.64);\r\n\t-webkit-box-shadow: 4px 4px 6px rgba(0, 0, 0, 0.64);\r\n\t-moz-box-shadow: 4px 4px 6px rgba(0, 0, 0, 0.64);\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n}\r\n\r\n.drop-down__option {\r\n\tmin-height: 1em;\r\n\tpadding: 2px 4px;\r\n\tvertical-align: middle;\r\n\ttext-align: left;\r\n\twhite-space: nowrap;\r\n\tcursor: default;\r\n}\r\n\r\nqp-options .ddItemDisabled {\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\topacity: 0.26 !important;\r\n}\r\n\r\nqp-text-editor-autocomplete {\r\n\tdisplay: block;\r\n}\r\n\r\nqp-text-editor-autocomplete[style*="height"] qp-text-editor,\r\nqp-text-editor-autocomplete[style*="height"] qp-text-editor textarea {\r\n\theight: 100% !important;\r\n}\r\n\r\nqp-text-editor-autocomplete .qp-text-editor.myselection::selection {\r\n\tcolor: silver;\r\n\tbackground: white;\r\n}\r\n\r\n.main {\r\n\tbackground: white;\r\n\theight: 100%;\r\n\toverflow: auto;\r\n\tline-height: normal;\r\n}\r\n\r\n.ttip {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tdisplay: flex;\r\n\tflex-flow: column;\r\n\tz-index: 9999;\r\n\tbackground: white;\r\n\tcolor: gray;\r\n\twhite-space: nowrap;\r\n\tbox-shadow: 0px 1px 4px rgba(0, 0, 0, 0.25);\r\n\tborder-radius: 0px 5px 5px 0px;\r\n\t/*height: 21px;*/\r\n}\r\n\r\n.ttip-item {\r\n\theight: 21px;\r\n\tdisplay: flex;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tcursor: pointer;\r\n}\r\n\r\n.ttip-item:hover {\r\n\tcursor: hand;\r\n}\r\n\r\n.ttip-item-text {\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tborder: 0;\r\n}\r\n\r\n#indexHint {\r\n\tcolor: black;\r\n\tz-index: 100;\r\n\tpadding: 0 5px;\r\n\tfont-family: "Arial";\r\n\tfont-size: 10px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n',""]),e.exports=i},"controls/abstract/screen-base-view-model/screen-base-view-model.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'body\r\n{\r\n\theight: 100%;\r\n\tmargin: 0px;\r\n\tborder: 0px;\r\n\tline-height: normal !important;\r\n}\r\n\r\nbody, input, textarea\r\n{\r\n\tfont-family: Arial, sans-serif !important;\r\n\tfont-size: var(--qp-regular-font-size);\r\n}\r\n\r\n*, *::before, *::after\r\n{\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n*:focus {\r\n\toutline: none;\r\n }\r\n\r\n/*--------------- Styles for render icons using css sprites ---------------*/\r\n.sprite-icon [class*="main-"], .sprite-icon [class*="control-"], .sprite-icon [class*="text-"]\r\n{\r\n\t/* use !important to prevent issues with browser extensions that change fonts */\r\n\tfont-family: \'FontAwesome\' !important;\r\n\tspeak: none;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: 1;\r\n\r\n\t/* Better Font Rendering =========== */\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.sprite-icon\r\n{\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n }\r\n\r\n.main-icon\r\n{\r\n\theight: 16px; width: 16px; font-size: 16px;\r\n}\r\n.main-icon-img\r\n{\r\n\tposition: absolute;\r\n}\r\n\r\n.control-icon\r\n{\r\n\theight: 12px;\r\n\twidth: 12px;\r\n\tfont-size: 12px;\r\n}\r\n.control-icon-img\r\n{\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n}\r\n\r\n.control-icon[icon^="Selector"]\r\n{\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tfont-size: 16px;\r\n\topacity: 0.64;\r\n\t/* cursor: pointer;  */\r\n}\r\n',""]),e.exports=i},"controls/compound/address-lookup/qp-address-lookup.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".btn-address-lookup {\r\n\tcolor: black;\r\n}\r\n\r\n.flex-container {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n}\r\n\r\n.flex-container-notconf {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\tjustify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.flex-item {}\r\n\r\n.mapContainer,\r\n#addressautocompletemap {\r\n\tz-index: 1000;\r\n}\r\n\r\n.customNavBar {\r\n\tposition: absolute;\r\n\ttop: 15px;\r\n\tleft: 15px;\r\n\tright: 200px;\r\n\tmax-width: 600px;\r\n\tz-index: 0;\r\n}\r\n\r\n.pac-container {\r\n\tz-index: 10001;\r\n}\r\n\r\n.pac-container:after {\r\n\t/* Disclaimer: not needed to show 'powered by Google' if also a Google Map is shown */\r\n\r\n\tbackground-image: none !important;\r\n\theight: 0px;\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/dialogs/columns-dialog.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".columns-dialog .filter-box\r\n{\r\n\tmargin-bottom: 10px;\r\n\twidth: 100%;\r\n\tborder: 1px solid #007ACC;\r\n}\r\n.columns-dialog .cols-list\r\n{\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n}\r\n.columns-dialog .cols-list > div\r\n{\r\n\tpadding: 4px;\r\n\tcursor: pointer;\r\n}\r\n.columns-dialog .cols-list > div:hover\r\n{\r\n\tbackground-color: var(--qp-menu-hover);\r\n}\r\n.columns-dialog .cols-list > div.dragover.before\r\n{\r\n\tborder-top: 1px solid red;\r\n\tpadding-top: 3px;\r\n}\r\n.columns-dialog .cols-list > div.dragover.after\r\n{\r\n\tborder-bottom: 1px solid red;\r\n\tpadding-bottom: 3px;\r\n}\r\n\r\n.columns-dialog .cols-list .field-name\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 12px;\r\n\tfont-weight: bold;\r\n\tcolor: RGBA(0, 0, 0, 0.7);\r\n\tpadding-left: 3px;\r\n\tvertical-align: middle;\r\n\tmax-width: 195px;\r\n\tline-height: 24px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.columns-dialog .cols-list .tab-switch\r\n{\r\n\tfloat: right;\r\n}\r\n.columns-dialog .cols-list .tab-switch.ac-TabOn\r\n{\r\n\tdisplay: none;\r\n}\r\n.columns-dialog .cols-list > div:hover .tab-switch\r\n{\r\n\tdisplay: inline-block;\r\n}\r\n.columns-dialog .cols-list i.visible-fixed\r\n{\r\n\topacity: 0.4;\r\n}\r\n\r\n.columns-dialog .cols-list i.ac\r\n{\r\n\tfont-size: 16px;\r\n\tvertical-align: middle;\r\n\tcolor: RGBA(0, 0, 0, 0.54);\r\n}\r\n.columns-dialog .cols-list i.ac-check_box\r\n{\r\n\tcolor: #007ACC;\r\n}\r\n\r\n.columns-dialog .cols-list > div:not([draggable]) i.drag-icon\r\n{\r\n\topacity: 0.2;\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/dialogs/columns-list-dialog.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".columns-list-dialog\r\n{\r\n\tmin-width: 250px;\r\n\tmax-width: 250px;\r\n\tborder-radius: 6px;\r\n\tpadding: 8px 0px;\r\n\tfont-size: 14px;\r\n}\r\n.columns-list-dialog ux-dialog-body\r\n{\r\n\tpadding: 0px;\r\n}\r\n\r\n.columns-list-dialog .cols-list\r\n{\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n}\r\n.columns-list-dialog .cols-list > div\r\n{\r\n\tpadding: 8px 16px;\r\n\tcursor: pointer;\r\n}\r\n.columns-list-dialog .cols-list > div:hover\r\n{\r\n\tbackground-color: var(--qp-menu-hover);\r\n}\r\n\r\n.columns-list-dialog .cols-list .field-name\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 14px;\r\n\tpadding-left: 1px;\r\n\tmax-width: 215px;\r\n}\r\n\r\n.columns-list-dialog .header\r\n{\r\n\tpadding: 6px 16px;\r\n}\r\n.columns-list-dialog .header > span\r\n{\r\n\tfont-weight: bold;\r\n}\r\n.columns-list-dialog .header > a\r\n{\r\n\tfloat: right;\r\n\tcolor: #027ACC;\r\n\ttext-decoration: none;\r\n}\r\n.columns-list-dialog .filter-container\r\n{\r\n\tpadding: 8px 16px;\r\n}\r\n.columns-list-dialog .filter-container .filter-box\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\n.columns-list-dialog .empty-message\r\n{\r\n\theight: 52px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 8px 16px;\r\n\tfont-size: 14px;\r\n\tcolor: #7C7C7C;\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/dialogs/filter-dialog.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".filter-dialog\r\n{\r\n\tmin-width: 270px;\r\n\twidth: 270px;\r\n\tborder-radius: 6px;\r\n\tpadding: 8px 0px;\r\n}\r\n\r\n.filter-dialog ux-dialog-body\r\n{\r\n\tpadding: 0px;\r\n\theight: auto;\r\n}\r\n.filter-dialog  ux-dialog-footer\r\n{\r\n\tpadding: 8px 16px;\r\n}\r\n.filter-dialog > ux-dialog-footer button\r\n{\r\n\tmargin: 0px;\r\n\tmargin-left: 8px;\r\n}\r\n\r\n.filter-dialog .sorts-and-filters\r\n{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\toverflow-y: auto;\r\n}\r\n\r\n.filter-dialog .items-list > div:not([class=separator])\r\n{\r\n\tpadding: 8px 16px;\r\n\tcursor: pointer;\r\n}\r\n.filter-dialog .items-list > div:not([class*=disabled]):hover\r\n{\r\n\tbackground-color: var(--qp-menu-hover);\r\n}\r\n.filter-dialog .items-list > div.disabled\r\n{\r\n\topacity: 0.5;\r\n\tcursor: default;\r\n}\r\n\r\n.filter-dialog .items-list .text\r\n{\r\n\tfont-size: 14px;\r\n\tcolor: RGBA(0, 0, 0, 0.87);\r\n\tmargin-left: 24px;\r\n\tmargin-right: 20px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.filter-dialog .items-list > div i.ac\r\n{\r\n\tfloat: left;\r\n\tfont-size: 16px;\r\n}\r\n.filter-dialog .items-list > div qp-icon\r\n{\r\n\tfloat: left;\r\n}\r\n.filter-dialog .items-list.items > div i.ac,\r\n.filter-dialog .items-list.select-all > div i.ac\r\n{\r\n\tcolor: #027ACC;\r\n}\r\n.filter-dialog .items-list > div i.ac.align-right,\r\n.filter-dialog .items-list > div qp-icon.align-right\r\n{\r\n\tfloat: right;\r\n}\r\n.filter-dialog .items-list > div i.ac[class*=outline_blank]\r\n{\r\n\tcolor: #CCCCCC;\r\n}\r\n\r\n.filter-dialog .items-list.items, .filter-dialog .items-list.conditions\r\n{\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n}\r\n\r\n.filter-dialog .separator\r\n{\r\n\tpadding: 8px 0px;\r\n\theight: 1px;\r\n}\r\n.filter-dialog .separator > div\r\n{\r\n\tfont-size: 0px;\r\n\tborder-top: 1px solid #E0E4E8\r\n}\r\n\r\n.filter-dialog .editors\r\n{\r\n\tpadding: 8px 16px;\r\n\tposition: relative;\r\n}\r\n.filter-dialog .editors .auto-size, .filter-dialog .editors .dropDown\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\n.filter-dialog .label-cont\r\n{\r\n\tdisplay: flex;\r\n}\r\n.filter-dialog .label-cont.second\r\n{\r\n\tmargin-top: 9px;\r\n}\r\n.filter-dialog .label-cont label\r\n{\r\n\twidth: 80px;\r\n\tline-height: 20px;\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/dialogs/filters-list-dialog.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".filters-list-dialog\r\n{\r\n\tborder-radius: 6px;\r\n\tpadding: 8px 0px;\r\n}\r\n.filters-list-dialog ux-dialog-body\r\n{\r\n\tpadding: 0px;\r\n}\r\n\r\n.filters-list-dialog .filter-container\r\n{\r\n\tpadding: 8px 16px;\r\n}\r\n.filters-list-dialog .filter-container .filter-box\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\n.filters-list-dialog .filters-list\r\n{\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n}\r\n.filters-list-dialog .filters-list > div:not([class=separator])\r\n{\r\n\tpadding: 8px 16px;\r\n\tcursor: pointer;\r\n}\r\n.filters-list-dialog .filters-list > div.selected\r\n{\r\n\tbackground-color: var(--qp-highlight-color);\r\n}\r\n.filters-list-dialog .filters-list > div:hover\r\n{\r\n\tbackground-color: var(--qp-menu-hover);\r\n}\r\n\r\n.filters-list-dialog .filters-list > div.dragover.before\r\n{\r\n\tborder-top: 1px solid #D9D9D9;\r\n\tpadding-top: 7px;\r\n}\r\n.filters-list-dialog .filters-list > div.dragover.after\r\n{\r\n\tborder-bottom: 1px solid #D9D9D9;\r\n\tpadding-bottom: 7px;\r\n}\r\n\r\n.filters-list-dialog .filters-list .filter-name\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 14px;\r\n\tpadding-left: 3px;\r\n\tvertical-align: middle;\r\n\tline-height: 16px;\r\n\r\n\tmax-width: 250px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.filters-list-dialog .filters-list > div .drag-icon\r\n{\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\twidth: 16px;\r\n\tvisibility: hidden;\r\n\tfill: RGBA(0, 0, 0, 0.54);\r\n}\r\n.filters-list-dialog .filters-list > div:hover .drag-icon\r\n{\r\n\tvisibility: visible;\r\n}\r\n.filters-list-dialog .filters-list > div:not([draggable]) .drag-icon\r\n{\r\n\tvisibility: hidden;\r\n}\r\n\r\n.filters-list-dialog .filters-list > div .fav-icon\r\n{\r\n\tvertical-align: middle;\r\n\tvisibility: hidden;\r\n}\r\n.filters-list-dialog .filters-list > div:hover .fav-icon\r\n{\r\n\tvisibility: visible;\r\n}\r\n.filters-list-dialog .filters-list > div .fav-icon.fav-on\r\n{\r\n\tvisibility: visible;\r\n\tcolor: #f7ba08;\r\n}\r\n.filters-list-dialog .filters-list > div[allrecords] .fav-icon\r\n{\r\n\tvisibility: hidden;\r\n}\r\n\r\n.filters-list-dialog .filters-list > div .shared-icon\r\n{\r\n\tfloat: right;\r\n}\r\n\r\n.filters-list-dialog .empty-message\r\n{\r\n\theight: 52px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 8px 16px;\r\n\tfont-size: 14px;\r\n\tcolor: #7C7C7C;\r\n}\r\n\r\n.filters-list-dialog .separator\r\n{\r\n\tpadding: 8px 0px;\r\n\theight: 1px;\r\n}\r\n.filters-list-dialog .separator > div\r\n{\r\n\tfont-size: 0px;\r\n\tborder-top: 1px solid #E0E4E8\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/dialogs/import-dialog.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".import-dialog .error-message {\r\n\tbox-sizing: content-box;\r\n\tdisplay: flex;\r\n\tgap: 10px;\r\n\theight: 32px;\r\n\talign-items: center;\r\n\tbackground-color: var(--qp-error-bg-color);\r\n\tborder-radius: 8px;\r\n\tpadding: 6px;\r\n\tpadding-left: 12px;\r\n}\r\n\r\n.import-dialog .error-message qp-icon {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.import-dialog .file-label {\r\n\tdisplay: flex;\r\n\tflex-wrap: nowrap;\r\n}\r\n\r\n.import-dialog .file-label .file-label-text {\r\n\tflex-basis: 100%;\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.import-dialog .file-label qp-icon {\r\n\tflex-grow: 0;\r\n\tcursor: pointer;\r\n\tpointer-events: all;\r\n}\r\n\r\n.import-dialog > .qp-resizable {\r\n\theight: 100%;\r\n}\r\n\r\n.import-dialog qp-fieldset {\r\n\twidth: 100%;\r\n}\r\n\r\n.import-dialog qp-grid {\r\n\theight: 100%;\r\n}\r\n\r\n.import-dialog .qp-wizard-footer {\r\n\tmargin-top: 12px;\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/elements/qp-filter-box.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".filter-box\r\n{\r\n  border: 1px solid #D2D4D7;\r\n  border-radius: 6px;\r\n  display: inline-block;\r\n  width: 200px;\r\n  background-color: white;\r\n  box-sizing: border-box;\r\n\theight: var(--qp-input-height);\r\n}\r\n\r\n\r\n@media (min-width: 0) and (max-width: 692px) { /* SM */\r\n\t.filter-box {\r\n\t\twidth: 150px;\r\n\t}\r\n}\r\n\r\n.filter-box * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n\r\n.filter-box.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.filter-box.has-filter {\r\n\tbackground-color: #D7EFFF;\r\n}\r\n\r\n.filter-box > div\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-left: 2px;\r\n}\r\n\r\n.filter-box .text\r\n{\r\n\tpadding: 6px 7px 6px 6px;\r\n\tflex: 1;\r\n\tborder: none;\r\n\tborder-radius: 6px;\r\n\twidth: 100%;\r\n\tbackground-color: transparent;\r\n\theight: var(--qp-input-height);\r\n}\r\n.filter-box qp-icon {\r\n\tmargin-right: 6px;\r\n}\r\n.filter-box qp-icon > svg\r\n{\r\n\tfill: #808080;\r\n}\r\n.filter-box.focus qp-icon > svg\r\n{\r\n\tfill: #000000;\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/elements/qp-filter-button.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".filter-button\r\n{\r\n\tposition: relative;\r\n}\r\n.filter-button .content\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: var(--qp-toolbar-height);\r\n\tpadding: 3px;\r\n\tborder: 1px solid #E0E4E8;\r\n\tborder-radius: 6px;\r\n\tcursor: pointer;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.filter-button .extended-button\r\n{\r\n\tz-index: 1;\r\n\tposition: absolute;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tbackground-color: white;\r\n}\r\n\r\n.filter-button:hover .content\r\n{\r\n\tbackground-color: var(--qp-background-color);\r\n}\r\n.filter-button.filtered .content\r\n{\r\n\tborder: none;\r\n\tbackground-color: var(--qp-highlight-color);\r\n}\r\n.filter-button.filtered:hover .content\r\n{\r\n\tbackground-color: var(--qp-highlight-hover-color);\r\n}\r\n\r\n.filter-button .content span.text\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 14px;\r\n\tpadding: 3px 5px;\r\n\tline-height: 16px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tmax-width: 220px;\r\n}\r\n.filter-button .extended-button .content  span.text\r\n{\r\n\tmax-width: 400px;\r\n}\r\n.filter-button.large .content span.text\r\n{\r\n\tmax-width: 320px;\r\n}\r\n.filter-button.large .extended-button .content  span.text\r\n{\r\n\tmax-width: 450px;\r\n}\r\n\r\n.filter-button .content i.ac\r\n{\r\n\tfont-size: 16px;\r\n\tline-height: 20px;\r\n\tpadding: 0px 3px;\r\n\topacity: 0.5;\r\n}\r\n.filter-button .content i.ac:hover\r\n{\r\n\topacity: 1;\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/elements/qp-filter-combo.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".filter-combo\r\n{\r\n\twidth: 160px;\r\n\tdisplay: flex;\r\n\tpadding-inline: 5px;\r\n\talign-items: center;\r\n\tbackground-color: var(--qp-background-color);\r\n\tborder-radius: 6px;\r\n\tcursor: pointer;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.filter-combo:hover\r\n{\r\n\tbackground-color: var(--qp-dark-background-color);\r\n}\r\n.filter-combo.filtered\r\n{\r\n\tbackground-color: var(--qp-highlight-color);\r\n}\r\n.filter-combo.filtered:hover\r\n{\r\n\tbackground-color: var(--qp-highlight-hover-color);\r\n}\r\n\r\n.filter-combo span.text\r\n{\r\n\tflex: 1;\r\n\tdisplay: inline-block;\r\n\tpadding: 3px 5px;\r\n\tline-height: 16px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.filter-combo i.ac\r\n{\r\n\tfont-size: 16px;\r\n\tline-height: 20px;\r\n\tpadding: 1px 3px;\r\n\topacity: 0.5;\r\n}\r\n.filter-combo:hover i.ac\r\n{\r\n\topacity: 1;\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/elements/qp-filter-node.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"\r\n.filter-node\r\n{\r\n\tdisplay: block;\r\n}\r\n\r\n.filter-node .button-container, .filter-node .node-container\r\n{\r\n\tdisplay: flex;\r\n}\r\n.filter-node .button-container:not(:last-child),\r\n.filter-node .node-container:not(:last-child)\r\n{\r\n\tmargin-bottom: 8px;\r\n}\r\n.filter-node .node-container > .filter-node\r\n{\r\n\tmargin-top: 8px;\r\n\tmargin-bottom: 8px;\r\n\tmargin-left: -6px;\r\n}\r\n\r\n.filter-node .btn-new, .filter-node .btn-delete\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 5px 7px;\r\n\tcursor: pointer;\r\n}\r\n.filter-node i.ac\r\n{\r\n\tfont-size: 16px;\r\n}\r\n.filter-node i.ac[class*=keyboard_arrow]\r\n{\r\n\tfont-size: 20px;\r\n}\r\n\r\n.filter-node .btn-brackets\r\n{\r\n\tposition: relative;\r\n\tpadding: 4px 2px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.filter-node .btn-condition\r\n{\r\n\tcursor: pointer;\r\n\tposition: relative;\r\n\tpadding-right: 5px;\r\n}\r\n.filter-node .btn-condition .text\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 12px;\r\n\tbackground-color: #8ef29e;\r\n\tborder-radius: 5px;\r\n\tpadding: 6px 3px;\r\n\tbox-sizing: border-box;\r\n\twidth: 32px;\r\n}\r\n.filter-node .btn-condition .text.or\r\n{\r\n\tbackground-color: #f5ba5b;\r\n\tpadding: 6px 7px;\r\n}\r\n\r\n.filter-node .node-container > .btn-brackets\r\n{\r\n\talign-self: flex-end;\r\n\ttransform: translateY(18px);\r\n}\r\n.filter-node .node-container > .btn-brackets.aurelia-hide\r\n{\r\n\ttransform: none;\r\n}\r\n.filter-node .node-container:only-child > .btn-brackets\r\n{\r\n\tdisplay: none !important;\r\n}\r\n\r\n.filter-node .node-container .left-actions\r\n{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n.filter-node .node-container .left-actions .btn-delete-brackets\r\n{\r\n\tcursor: pointer;\r\n\tposition: relative;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\tpadding-bottom: 2px;\r\n\tpadding-left: 10px;\r\n}\r\n.filter-node .node-container .left-actions .btn-condition\r\n{\r\n\tposition: relative;\r\n\ttop: 16px;\r\n\tmargin-top: auto;\r\n}\r\n.filter-node .node-container .left-actions .btn-condition.aurelia-hide\r\n{\r\n\ttop: 0px;\r\n}\r\n\r\n.filter-node .node-container .left-bracket, .filter-node .node-container .right-bracket\r\n{\r\n\tborder: 2px solid;\r\n\twidth: 10px;\r\n}\r\n.filter-node .node-container .left-bracket\r\n{\r\n\tborder-radius: 8px 0px 0px 8px;\r\n\tborder-right: none;\r\n\r\n}\r\n.filter-node .node-container .right-bracket\r\n{\r\n\tmargin-left: -6px;\r\n\tborder-radius: 0px 8px 8px 0px;\r\n\tborder-left: none;\r\n}\r\n.filter-node .node-container .right-actions\r\n{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.filter-node .button-container .btn-brackets\r\n{\r\n\ttop: 18px;\r\n}\r\n.filter-node .button-container .btn-brackets.aurelia-hide\r\n{\r\n\ttop: 0px;\r\n}\r\n.filter-node .button-container .btn-condition\r\n{\r\n\ttop: 19px;\r\n}\r\n.filter-node .button-container .btn-condition.aurelia-hide\r\n{\r\n\ttop: 0px;\r\n}\r\n\r\n.filter-node .button-container .btn-brackets, .filter-node .button-container .btn-new\r\n{\r\n\tvisibility: hidden;\r\n}\r\n.filter-node .button-container:hover .btn-brackets, .filter-node .button-container:hover > .btn-new,\r\n.filter-node .button-container > .btn-new[force-visible]\r\n{\r\n\tvisibility: visible;\r\n}\r\n\r\n.filter-node .node-container .left-actions .btn-delete-brackets,\r\n.filter-node .node-container .right-actions, .filter-node .node-container .btn-brackets\r\n{\r\n\tvisibility: hidden;\r\n}\r\n.filter-node .node-container:hover[mouse-hover] > .left-actions > .btn-delete-brackets,\r\n.filter-node .node-container:hover[mouse-hover] > .btn-brackets, .filter-node\r\n.node-container:hover[mouse-hover] > .right-actions,\r\n.filter-node .node-container > .right-actions[force-visible]\r\n{\r\n\tvisibility: visible;\r\n}\r\n\r\n.filter-node .aurelia-hide\r\n{\r\n\tdisplay: block !important;\r\n\tvisibility: hidden !important;\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/elements/qp-numeric-pager.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".numeric-pager {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.numeric-pager .page-editor {\r\n\twidth: 50px;\r\n\theight: 28px;\r\n}\r\n\r\n.numeric-pager > label {\r\n\tpadding-left: 10px;\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/qp-filter-bar.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".filter-bar\r\n{\r\n\tdisplay: block;\r\n}\r\n\r\n.filters-headers\r\n{\r\n  display: flex;\r\n}\r\n.filters-headers .headers-wrap\r\n{\r\n  flex: 1;\r\n  overflow: hidden;\r\n  border-bottom: 1px solid #E0E4E8;\r\n  margin-right: 6px;\r\n}\r\n.filters-headers .headers-wrap > ul\r\n{\r\n  display: table;\r\n  white-space: nowrap;\r\n\r\n  list-style: none outside none;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  border-spacing: 0px;\r\n}\r\n.filters-headers .headers-wrap > ul > li\r\n{\r\n  display: table-cell;\r\n  padding: 6px 16px;\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  height: 24px;\r\n  line-height: 24px;\r\n  opacity: 0.5;\r\n}\r\n.filters-headers .headers-wrap > ul > li:hover\r\n{\r\n  cursor: pointer;\r\n  background-color: #E0E4E8;\r\n  opacity: 1;\r\n}\r\n.filters-headers .headers-wrap > ul > li.selected\r\n{\r\n  color: #027ACC;\r\n  border-bottom: 2px solid #027ACC;\r\n  padding-bottom: 4px;\r\n  opacity: 1;\r\n}\r\n.filters-headers .filter-box-wrap\r\n{\r\n  padding-right: 5px;\r\n  align-self: flex-end;\r\n}\r\n\r\n.filters-strip-cont\r\n{\r\n\tdisplay: flex;\r\n}\r\n.filters-strip\r\n{\r\n  position: relative;\r\n  display: flex;\r\n  flex: 1;\r\n  gap: 8px;\r\n  padding-left: 1px;\r\n}\r\n.filters-strip .advanced-filter\r\n{\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.filters-strip button.qp-button, .filters-strip .drop-down__editor\r\n{\r\n\theight: var(--qp-toolbar-height);\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.filters-strip button.qp-button\r\n{\r\n\tmin-width: 36px;\r\n}\r\n.filters-strip .drop-down__editor\r\n{\r\n\twidth: 160px;\r\n}\r\n.filters-strip .filter-selected .drop-down__editor\r\n{\r\n\tbackground-color: #D7EFFF;\r\n}\r\n.filters-strip .drop-down__option\r\n{\r\n\tpadding: 7px 4px;\r\n}\r\n\r\n.filters-strip .qp-menu\r\n{\r\n\tborder-radius: 6px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.filters-strip .advanced-filter .filter-button span.text\r\n{\r\n  max-width: none;\r\n}\r\n.filters-strip .advanced-filter .filter-button span.and\r\n{\r\n  color: #419622;\r\n}\r\n.filters-strip .advanced-filter .filter-button span.or\r\n{\r\n  color: #df9a2b;\r\n}\r\n\r\n.filters-strip .filter-drop-tip\r\n{\r\n  flex: 1;\r\n  white-space: nowrap;\r\n  height: 30px;\r\n  font-style: italic;\r\n  border: 1px dashed #C8C8C8;\r\n  border-radius: 6px;\r\n  padding: 6px 5px;\r\n  color: #8F8F8F;\r\n}\r\n.filters-strip .add-filter button\r\n{\r\n  font-size: 16px;\r\n}\r\n\r\n.filters-strip i.arrow-down, .filters-strip i.arrow-up\r\n{\r\n  position: absolute;\r\n  z-index: 10000;\r\n}\r\n.filters-strip i.arrow-down\r\n{\r\n  top: 0px;\r\n  transform: translateY(-100%);\r\n}\r\n.filters-strip i.arrow-up\r\n{\r\n  bottom: 0px;\r\n  transform: translateY(100%);\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/qp-filter-editor.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"\r\n.filter-editor\r\n{\r\n\tdisplay: block;\r\n}\r\n\r\n.filter-editor > .btn-new\r\n{\r\n\tpadding: 5px 7px;\r\n\tcursor: pointer;\r\n\tfont-size: 20px;\r\n\tmargin-left: 10px;\r\n}\r\n",""]),e.exports=i},"controls/compound/grid/qp-grid.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'::-webkit-input-placeholder {\r\n  font-style: italic;\r\n}\r\n::-moz-placeholder {\r\n  font-style: italic;\r\n}\r\n:-ms-input-placeholder {\r\n  font-style: italic;\r\n}\r\n\r\nqp-grid, qp-grid *\r\n{\r\n  box-sizing: border-box;\r\n}\r\nqp-grid.grid\r\n{\r\n\tposition: relative;\r\n\tdisplay: flex !important;\r\n\tflex-direction: column !important;\r\n\tgap: 0px !important;\r\n\tfont-size: var(--qp-regular-font-size);\r\n\tcursor: default;\r\n\t/* border: 1px solid rgba(0, 0, 0, 0.03); */\r\n\theight: 100%;\r\n\t/* background-color: #F5F7F9;\r\n\tborder-radius: 10px 10px 0 0; */\r\n}\r\n\r\nqp-grid i.ac\r\n{\r\n\tposition: relative;\r\n}\r\n\r\nqp-grid.grid.auto-grow-fit\r\n{\r\n\theight: auto;\r\n}\r\nqp-grid.grid.auto-grow-fit .grid-content\r\n{\r\n\theight: auto;\r\n\tmin-height: 70px;\r\n}\r\nqp-grid.grid.auto-grow-fit .grid-content-wrap\r\n{\r\n\tposition: relative;\r\n\theight: auto;\r\n\tmin-height: 70px;\r\n}\r\nqp-grid.grid.auto-grow-fill .grid-content-wrap\r\n{\r\n\tposition: relative;\r\n}\r\n\r\n/* .grid-top-bar\r\n{\r\n\tpadding: 9px;\r\n} */\r\n.grid-top-bar .filter-bar\r\n{\r\n\tpadding-bottom: 9px;\r\n}\r\n.grid-top-toolbar\r\n{\r\n\tdisplay: flex;\r\n\tpadding-bottom: var(--qp-sections-row-gap);\r\n}\r\n.grid-top-toolbar.empty\r\n{\r\n\tdisplay: none;\r\n}\r\n\r\n.grid-left-toolbar-cont\r\n{\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n.grid-right-toolbar-cont\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 8px;\r\n}\r\n.grid-top-toolbar div.qp-tool-bar\r\n{\r\n\tmargin: 0 0 0 -4px;\r\n\theight:  auto;\r\n}\r\n/* .grid-top-toolbar .filter-box\r\n{\r\n\tmargin-right: 5px;\r\n} */\r\n\r\nux-dialog-body .grid-top-toolbar .filter-box {\r\n\tmargin-right: 0;\r\n}\r\n\r\n.grid-header\r\n{\r\n\tposition: relative;\r\n\tbackground-color: #F5F7F8;\r\n\tborder-bottom: 1px solid #E8E8E8;\r\n\tborder-top: 1px solid #E8E8E8;\r\n}\r\n/* .grid-header.scroll-margin\r\n{\r\n  padding-right: 17px;\r\n} */\r\n.grid-header i.arrow-down, .grid-header i.arrow-up\r\n{\r\n  position: absolute;\r\n  z-index: 10000;\r\n}\r\n.grid-header i.arrow-down\r\n{\r\n  top: 0px;\r\n  transform: translateY(-100%);\r\n}\r\n.grid-header i.arrow-up\r\n{\r\n  bottom: 0px;\r\n  transform: translateY(100%);\r\n}\r\n\r\n.grid-resize-handle\r\n{\r\n  position: absolute;\r\n  top: 0px; bottom: 0px;\r\n  left: -12px;\r\n  cursor: col-resize;\r\n  width: 12px;\r\n  z-index: 1000;\r\n}\r\n.grid-resize-area\r\n{\r\n  position: absolute;\r\n  top: 0px;\r\n  height: 100%;\r\n  width: 100%;\r\n  z-index: 20000;\r\n  cursor: col-resize;\r\n}\r\n.grid-resize-indicator\r\n{\r\n  width: 1px;\r\n  border: 1px black solid;\r\n  position: absolute;\r\n  height: 100%;\r\n}\r\n\r\n.grid-header .grid-header-table, .grid-content .grid-content-table\r\n{\r\n  table-layout: fixed;\r\n  width: 0px;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  border-collapse: separate;\r\n  border-width: 0px;\r\n  border-spacing: 0px;\r\n  outline: 0;\r\n  background-color: white;\r\n}\r\n\r\n.grid-header-table th:first-child {\r\n\tborder-left: none;\r\n}\r\n.grid-header-table th\r\n{\r\n  position: relative;\r\n  font-size: 13px;\r\n  color: rgba(0, 0, 0, 0.5);\r\n  font-weight: 700;\r\n  padding: 8px 4px;\r\n  overflow: hidden;\r\n  white-space: normal;\r\n  text-align: left;\r\n  vertical-align: top;\r\n  background-color: #F5F7F8;\r\n  border-left: 1px solid #E8E8E8;\r\n}\r\n\r\n.grid-header-table th:last-child\r\n{\r\n\tborder-right: 1px solid #E8E8E8;\r\n}\r\n\r\n.grid-header-table th:hover\r\n{\r\n  background-color: #E0E4E8;\r\n  color: RGBA(0, 0, 0, 0.87);\r\n  cursor: pointer;\r\n}\r\n\r\n.grid-header-table th.filtered\r\n{\r\n  background-color: var(--qp-highlight-color);\r\n}\r\n\r\n.grid-header-table th.col-header i.ac[fs-icon]\r\n{\r\n  position: absolute;\r\n  top: 6px; right: 4px;\r\n}\r\n.grid-header-table th.col-header.align-right i.ac[fs-icon]\r\n{\r\n  right: auto;\r\n  left: 0px;\r\n}\r\n.grid-header-table th.col-header i.ac[ch-icon]\r\n{\r\n\tposition: relative;\r\n\ttop: 1px;\r\n}\r\n\r\n.grid-header-table th .grid-header-text\r\n{\r\n  overflow: hidden;\r\n  margin-right: 15px;\r\n}\r\n.grid-header-table th.align-right .grid-header-text\r\n{\r\n\tmargin-right: 0px;\r\n\tmargin-left: 15px;\r\n}\r\n.grid-header-table th.required .grid-header-text\r\n{\r\n\tpadding-left: 7px;\r\n}\r\n.grid-header-table th.required .grid-header-text::before\r\n{\r\n\tcontent: "*";\r\n\tcolor: Red;\r\n\tfont-size: 13px;\r\n\tposition: absolute;\r\n\tmargin-left: -7px;\r\n}\r\n.grid-header-table.remove-required th.required .grid-header-text {\r\n\tpadding-left: 0px;\r\n}\r\n.grid-header-table.remove-required th.required .grid-header-text::before {\r\n\tmargin-left: 0;\r\n\tcontent: \'\';\r\n}\r\n\r\n.grid-header-wrap\r\n{\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.grid-header-table  .row-selector-col, .grid-content-table .row-selector-col\r\n{\r\n  width: 24px;\r\n}\r\n.grid-header-table  th.row-selector, .grid-content-table td.row-selector\r\n{\r\n  padding: 0px;\r\n  color: rgba(0, 0, 0, 0.54);\r\n  text-align: center;\r\n}\r\n.grid-header-table th.row-selector\r\n{\r\n\tpadding: 8px 2px;\r\n}\r\n\r\n.grid-header-table th qp-icon\r\n{\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n}\r\n/* .grid-content .grid-content-table qp-icon { } */\r\n\r\n/* .grid-content-table td.row-selector\r\n{\r\n  background-color: #F5F7F8 !important;\r\n  border-right: 1px solid #E0E4E8;\r\n} */\r\n\r\n.grid-content-table td.row-selector .cell-error-info\r\n{\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tbottom: 0px;\r\n\twidth: 3px;\r\n}\r\n.grid-content-table td.row-selector .cell-error-info[data-error-level="2"]\r\n{\r\n\r\n\tbackground-color: #FFB800;\r\n}\r\n.grid-content-table td.row-selector .cell-error-info[data-error-level="4"]\r\n{\r\n\tbackground-color: #EE4051;\r\n}\r\n\r\n.grid-content\r\n{\r\n\tposition: relative;\r\n\theight: 100%;\r\n\tmin-height: 100px;\r\n\t/* border: 1px solid #E0E4E8; */\r\n\tborder-top: none;\r\n}\r\n.grid-content qp-loader-indicator\r\n{\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: white;\r\n  opacity: 0.5;\r\n  z-index: 100;\r\n}\r\n.grid-content qp-loader-indicator > *\r\n{\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.grid-content-wrap\r\n{\r\n\toverflow-x: auto;\r\n\toverflow-y: auto;\r\n\tposition: absolute;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tbackground-color: white;\r\n}\r\n/* .grid:hover .grid-content-wrap {\r\n\toverflow-x: auto;\r\n} */\r\n\r\n\r\n.grid-content-table > tbody > tr > td\r\n{\r\n  position: relative;\r\n  line-height: var(--qp-grid-line-height);\r\n  min-height: var(--qp-grid-line-height);\r\n  border-bottom: 1px solid #E0E4E8;\r\n  border-bottom: 1px solid var(--activerow-color, #E0E4E8);\r\n  padding: 0px;\r\n  white-space: nowrap;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td .cell-content\r\n{\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\tpadding: 0 4px;\r\n\theight: var(--qp-grid-row-height);\r\n}\r\n.grid-content-table > tbody > tr > td:not([class*=qp-align-center]) .cell-content\r\n{\r\n\twidth: 100%;\r\n\toverflow: hidden;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.qp-align-right .cell-content\r\n{\r\n\t/* direction: rtl;  -- ... */\r\n\r\n\t/* height: var(----qp-grid-row-height); */\r\n\tbackground-color: inherit;\r\n\talign-items: flex-start;\r\n\tline-height: var(--qp-grid-row-height);\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.qp-align-right .cell-content span.text {\r\n\t/* text-overflow: ellipsis;   -- ... */\r\n\t/* overflow: hidden;   -- ... */\r\n\r\n\twhite-space: normal;\r\n\toverflow-wrap: anywhere;\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\tdisplay: block;\r\n\tmax-height: calc( var(--qp-grid-row-height) * 2 );\r\n\tbackground-color: inherit;\r\n\toverflow: hidden;\r\n}\r\n\r\n\r\n.grid-content-table > tbody > tr > td.qp-align-right .cell-content span.text::before {\r\n\t/* &lrm; U+200E Left-To-Right UTF mark in order to ensure that minus sign is on the left side */\r\n\t/* content: "\\200e"; -- ... */\r\n\r\n\tcontent: "###########";\r\n\tposition: absolute;\r\n\tbottom: var(--qp-grid-row-height);\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tbackground: white;\r\n\twhite-space: nowrap;\r\n\theight: calc( var(--qp-grid-row-height) );\r\n\tbackground-color: inherit;\r\n}\r\n\r\n.grid-content-table > tbody >  tr > td {\r\n\tbackground-color: var(--qp-row-color);\r\n}\r\n\r\n.grid-content-table > tbody >  tr.alt-row > td\r\n{\r\n\tbackground-color: var(--qp-altrow-color);\r\n\tborder-bottom: 1px solid var(--activerow-color, #E2E2E2);\r\n}\r\n\r\n\r\n.grid-content-table > tbody > tr > td.error\r\n{\r\n\tcolor: red;\r\n\t/* background-color: rgba(255, 0, 0, 0.17); */\r\n}\r\n.grid-content-table > tbody > tr > td.warning\r\n{\r\n\tcolor: brown;\r\n\t/* background-color: rgba(255, 193, 9, 0.2); */\r\n}\r\n.grid-content-table > tbody > tr:not([class*=edit]) > td.read-only i.ac,\r\n.grid-content-table > tbody > tr.edit > td.read-only .cell-content\r\n{\r\n\topacity: 0.5;\r\n}\r\n.grid-content-table > tbody > tr > td i.ac[err-icon]\r\n{\r\n\tposition: absolute;\r\n\tright: 2px;\r\n}\r\n.grid-content-table > tbody > tr > td i.ac.align-left[err-icon]\r\n{\r\n\tright: auto;\r\n\tleft: 2px;\r\n\tz-index: 1;\r\n\tline-height: var(--qp-grid-row-height);\r\n}\r\n\r\n.grid-content-table > tbody > tr.active > td\r\n{\r\n  background-color: var(--qp-highlight-color) !important;\r\n}\r\n.grid-content-table > tbody > tr.selected > td\r\n{\r\n\tbackground-color: #E0E4E8 !important;\r\n}\r\n.grid-content-table > tbody > tr.active > td.active\r\n{\r\n\tbackground-color: var(--qp-highlight-hover-color) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.edit .inline-editor\r\n{\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tbottom: 0px;\r\n\tleft: -5px;\r\n\tright: -5px;\r\n}\r\n.grid-content-table > tbody > tr > td.edit .inline-editor.marker\r\n{\r\n\tleft: -0px;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.edit:not(:last-child) .inline-editor.qp-drop-down-inline,\r\n.grid-content-table > tbody > tr > td.edit:not(:last-child) .inline-editor.qp-datetime-edit-inline,\r\n.grid-content-table > tbody > tr > td.edit:not(:last-child) .inline-editor.qp-selector-inline\r\n{\r\n\tright: -28px;\r\n\tleft: -5px;\r\n}\r\n.grid-content-table > tbody > tr > td.edit .inline-editor .control-wrapper\r\n{\r\n\tbackground-color: white;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td a {\r\n\tcolor: var(--qp-primary-color);\r\n\ttext-decoration-line: none;\r\n}\r\n.grid-content-table > tbody > tr > td a:hover {\r\n\ttext-decoration-line: underline;\r\n}\r\n\r\n\r\n.grid-pager\r\n{\r\n\tdisplay: flex;\r\n\tborder-top: 1px solid #E8E8E8;\r\n}\r\n.grid-pager div.qp-tool-bar\r\n{\r\n\tmargin: 0px;\r\n\theight:  auto;\r\n\tflex-direction: row-reverse;\r\n}\r\n.grid-pager .records-counter, .grid-pager .status-text\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0 10px;\r\n\tmin-height: 36px;\r\n}\r\n.grid-pager .pager-bars-cont\r\n{\r\n\tdisplay: flex;\r\n\tflex: 1;\r\n\tjustify-content: flex-end;\r\n}\r\n.grid-pager .pager-bars-cont qp-tool-bar\r\n{\r\n\tflex-grow: 0;\r\n}\r\n\r\n/* ------------- Filter button styles --------------- */\r\n.grid-right-toolbar-cont button.qp-button\r\n{\r\n\tmin-width: 36px;\r\n}\r\n.grid-right-toolbar-cont .grid-filter-button button.qp-button\r\n{\r\n\tbackground-color: transparent;\r\n}\r\n.grid-right-toolbar-cont .grid-filter-button  button.qp-button span.text\r\n{\r\n\tcolor: var(--qp-primary-color);\r\n}\r\n\r\n.grid-right-toolbar-cont .grid-filter-button button.qp-button:not([disabled]):hover,\r\n.grid-right-toolbar-cont .grid-filter-button button.qp-button.pushed\r\n{\r\n\tbackground-color: rgba(0, 0, 0, 0.06);\r\n}\r\n.grid-right-toolbar-cont .grid-filter-button button.qp-button.pushed:not([disabled]):hover\r\n{\r\n\tbackground-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.qp-tool-bar .qp-tool-bar-item.qp-toggle-pushed.grid-filter-button.has-filter .qp-tool-bar-button,\r\n.grid-right-toolbar-cont .grid-filter-button.has-filter button.qp-button.pushed\r\n{\r\n\tbackground-color: var(--qp-highlight-color);\r\n}\r\n.qp-tool-bar .qp-tool-bar-item.grid-filter-button.has-filter svg,\r\n.grid-right-toolbar-cont .grid-filter-button.has-filter svg\r\n{\r\n\tfill: var(--qp-primary-color);\r\n}\r\n\r\n/* ------------- Custom styles for the grid cells --------------- */\r\n.grid-content-table > tbody > tr > td.bad, .grid-content-table tr.bad > td\r\n{\r\n\tbackground-color: RGBA(255,140,155,0.5) !important;\r\n\tcolor: #9c2d75 !important;\r\n\tborder-bottom-color: RGBA(255,140,155,0.5) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.good, .grid-content-table tr.good > td\r\n{\r\n\tbackground-color: RGBA(156,237,171, 0.5) !important;\r\n\tcolor: #007b74 !important;\r\n\tborder-bottom-color: RGBA(156,237,171, 0.5) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.neutral, .grid-content-table tr.neutral > td\r\n{\r\n\tbackground-color: RGBA(255,216,79, 0.5) !important;\r\n\tcolor: #9c7258 !important;\r\n\tborder-bottom-color:  RGBA(255,216,79, 0.5) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.bold, .grid-content-table tr.bold > td\r\n{\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.italic, .grid-content-table tr.italic > td\r\n{\r\n\tfont-style: italic;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.red, .grid-content-table tr.red > td\r\n{\r\n\tcolor: white !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(255, 0, 0, 0.9) !important;\r\n\tborder-bottom-color: rgba(255, 0, 0, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.red60, .grid-content-table tr.red60 > td\r\n{\r\n\tbackground-color: rgba(255, 0, 0, 0.6) !important;\r\n\tborder-bottom-color: rgba(255, 0, 0, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.red40, .grid-content-table tr > td.red40\r\n{\r\n\tbackground-color: rgba(255, 0, 0, 0.4) !important;\r\n\tborder-bottom-color: rgba(255, 0, 0, 0.4) !important;\r\n}\r\n\r\n.grid-content-table  > tbody > tr > td.red20, .grid-content-table tr.red20 > td\r\n{\r\n\tbackground-color: rgba(255, 0, 0, 0.2) !important;\r\n\tborder-bottom-color: rgba(255, 0, 0, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.red0, .grid-content-table tr.red0 > td\r\n{\r\n\tcolor: rgba(255, 0, 0, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange, .grid-content-table tr.orange > td\r\n{\r\n\tcolor: white;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(255, 140, 0, 0.9) !important;\r\n\tborder-bottom-color: rgba(255, 140, 0, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange60, .grid-content-table tr.orange60 > td\r\n{\r\n\tbackground-color: rgba(255, 140, 0, 0.6) !important;\r\n\tborder-bottom-color: rgba(255, 140, 0, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange40, .grid-content-table tr.orange40 > td\r\n{\r\n\tbackground-color: rgba(255, 140, 0, 0.4) !important;\r\n\tborder-bottom-color: rgba(255, 140, 0, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange20, .grid-content-table tr.orange20 > td\r\n{\r\n\tbackground-color: rgba(255, 140, 0, 0.2) !important;\r\n\tborder-bottom-color: rgba(255, 140, 0, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange0, .grid-content-table tr.orange0 > td\r\n{\r\n\tcolor: rgba(255, 140, 0, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green, .grid-content-table tr.green > td\r\n{\r\n\tcolor: white !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(112, 173, 71, 0.9) !important;\r\n\tborder-bottom-color: rgba(112, 173, 71, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green60, .grid-content-table tr.green60 > td\r\n{\r\n\tbackground-color: rgba(112, 173, 71, 0.6) !important;\r\n\tborder-bottom-color: rgba(112, 173, 71, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green40, .grid-content-table tr.green40 > td\r\n{\r\n\tbackground-color: rgba(112, 173, 71, 0.4) !important;\r\n\tborder-bottom-color: rgba(112, 173, 71, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green20, .grid-content-table tr.green20 > td\r\n{\r\n\tbackground-color: rgba(112, 173, 71, 0.2) !important;\r\n\tborder-bottom-color: rgba(112, 173, 71, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green0, .grid-content-table tr.green0 > td\r\n{\r\n\tcolor: rgba(112, 173, 71, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue, .grid-content-table tr.blue > td\r\n{\r\n\tcolor: white !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(91, 155, 213, 0.9) !important;\r\n\tborder-bottom-color: rgba(91, 155, 213, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue60, .grid-content-table tr.blue60 > td\r\n{\r\n\tbackground-color: rgba(91, 155, 213, 0.6) !important;\r\n\tborder-bottom-color: rgba(91, 155, 213, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue40, .grid-content-table tr.blue40 > td\r\n{\r\n\tbackground-color: rgba(91, 155, 213, 0.4) !important;\r\n\tborder-bottom-color: rgba(91, 155, 213, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue20, .grid-content-table tr.blue20 > td\r\n{\r\n\tbackground-color: rgba(91, 155, 213, 0.2) !important;\r\n\tborder-bottom-color: rgba(91, 155, 213, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue0, .grid-content-table tr.blue0 > td\r\n{\r\n\tcolor: rgba(91, 155, 213, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow, .grid-content-table tr.yellow > td\r\n{\r\n\tcolor: black !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(255, 255, 0, 0.9) !important;\r\n\tborder-bottom-color: rgba(255, 255, 0, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow60, .grid-content-table tr.yellow60 > td\r\n{\r\n\tbackground-color: rgba(255, 255, 0, 0.6) !important;\r\n\tborder-bottom-color: rgba(255, 255, 0, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow40, .grid-content-table tr.yellow40 > td\r\n{\r\n\tbackground-color: rgba(255, 255, 0, 0.4) !important;\r\n\tborder-bottom-color: rgba(255, 255, 0, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow20, .grid-content-table tr.yellow20 > td\r\n{\r\n\tbackground-color: rgba(255, 255, 0, 0.2) !important;\r\n\tborder-bottom-color: rgba(255, 255, 0, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow0, .grid-content-table tr.yellow0 > td\r\n{\r\n\tcolor: rgba(255, 255, 0, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple, .grid-content-table tr.purple > td\r\n{\r\n\tcolor: white !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(128, 0, 128, 0.9) !important;\r\n\tborder-bottom-color: rgba(128, 0, 128, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple60, .grid-content-table tr.purple60 > td\r\n{\r\n\tbackground-color: rgba(128, 0, 128, 0.6) !important;\r\n\tborder-bottom-color: rgba(128, 0, 128, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple40, .grid-content-table tr.purple40 > td\r\n{\r\n\tbackground-color: rgba(128, 0, 128, 0.4) !important;\r\n\tborder-bottom-color: rgba(128, 0, 128, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple20, .grid-content-table tr.purple20 > td\r\n{\r\n\tbackground-color: rgba(128, 0, 128, 0.2) !important;\r\n\tborder-bottom-color: rgba(128, 0, 128, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple0, .grid-content-table tr.purple0 > td\r\n{\r\n\tcolor: rgba(128, 0, 128, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n',""]),e.exports=i},"controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".inline-screen-dialog {\r\n\theight: 100%;\r\n}\r\n",""]),e.exports=i},"controls/compound/rich-text-editor/qp-rich-text-editor.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-rich-text-editor {\r\n\t--control-border-color: rgba(0, 0, 0, 0.09);\r\n\r\n\tdisplay: block;\r\n}\r\n\r\n.qp-rte-control {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tbox-sizing: border-box;\r\n\theight: 100%;\r\n\toutline: 0px;\r\n\tborder-width: 1px;\r\n\tborder-style: solid;\r\n\tborder-color: rgba(0, 0, 0, 0.09);\r\n}\r\n\r\nqp-tab.no-padding .qp-rich-text-editor.stretch .qp-rte-control {\r\n\tborder-top-width: 0px;\r\n}\r\n\r\n.qp-rte-body {\r\n\t--content-padding: 16px;\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tbackground-color: white;\r\n}\r\n\r\n.qp-rte-body > * {\r\n\tbox-sizing: border-box;\r\n\tflex-grow: 1;\r\n\tborder: 0px;\r\n\toutline: 0px;\r\n}\r\n\r\n.qp-rte-toolbar {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n\tpadding: 12px;\r\n\twidth: 100%;\r\n\toverflow: hidden;\r\n\tbox-sizing: border-box;\r\n\tbackground-color: rgba(245, 247, 249, 1);\r\n}\r\n\r\n.qp-rte-toolbar.main {\r\n\tborder-width: 0px 0px 1px 0px;\r\n\tborder-style: solid;\r\n\tborder-color: var(--control-border-color);\r\n}\r\n\r\n.qp-rte-toolbar > * {\r\n\tflex: 1;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-rte-toolbar .qp-control-bar-panel {\r\n\tflex: 0 0 auto;\r\n}\r\n\r\n.qp-rte-control-readonly {\r\n\tborder: none;\r\n}\r\n\r\n.qp-rte-control-readonly .qp-rte-toolbar {\r\n\tpadding: 0;\r\n\tborder: none;\r\n}\r\n\r\n.qp-rte-control-readonly .qp-rte-body {\r\n\t--content-padding: 0px;\r\n}\r\n",""]),e.exports=i},"controls/compound/system-menu/qp-sys-menu.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-sys-menu {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: flex-end;\r\n\talign-items: center;\r\n}\r\n\r\nqp-sys-menu .qp-menu {\r\n\topacity: 0.87;\r\n}\r\n\r\nqp-sys-menu qp-button button.qp-button {\r\n    background-color: white;\r\n    border: none;\r\n}\r\n.qp-system-menu {\r\n\tz-index: 1;\r\n\tmargin-left: 8px;\r\n}\r\n\r\nqp-sys-menu button.qp-button qp-icon {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tvertical-align: bottom;\r\n\tdisplay: inline-block;\r\n}\r\n\r\nqp-sys-menu button.qp-button qp-icon {\r\n\tfill: #000000;\r\n\tcolor: #FFD800;\r\n}\r\n\r\n.files-dialog-grid {\r\n\theight: 450px;\r\n}\r\n#business_grid {\r\n\theight: 100%;\r\n}\r\n\r\n.files-dialog-grid qp-filter-box, .files-dialog-grid .qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button.disabled {\r\n\tdisplay: none;\r\n}\r\n\r\n.activities-table {\r\n    table-layout: fixed;\r\n    border-collapse: collapse;\r\n    width: 100%;\r\n    cursor: default;\r\n}\r\n.activities-table td {\r\n    padding: 5px 3px;\r\n    cursor: default;\r\n}\r\n.activities-table tr {\r\n    border-bottom: 1px solid LightGrey;\r\n}\r\n\r\n.activities-table tr.unread {\r\n    font-weight: bold;\r\n}\r\n.activities-table .activity__icon {\r\n    width:5%;\r\n\r\n}\r\n.activities-table .activity__datestart {\r\n    width:20%;\r\n}\r\n.activities-table .activity__title {\r\n    width: 60%;\r\n}\r\n.activities-table .activity__duration {\r\n    width: 15%;\r\n}\r\n.activities-table .activity__datestart,\r\n.activities-table .activity__duration {\r\n    color: red;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n.designMode .qp-field:hover .selector,\r\n.designMode .qp-field:hover .qp-text-editor,\r\n.designMode .qp-field:hover .editor input,\r\n.designMode .qp-field:hover .editor,\r\n.designMode .qp-field:hover .dropDown,\r\n.designMode .qp-field:hover .toolsBtn,\r\n.designMode .qp-field:hover .branch-selector__editor,\r\n.designMode .qp-field:hover .drop-down__editor\r\n{\r\n\tbox-shadow: inset 0px 0px 2px 0px #007ACC;\r\n\tbox-shadow: inset 0px 0px 2px 0px var(--primary-color, #007ACC);\r\n\tcursor: help !important;\r\n}\r\n.designMode .qp-field:hover .branch-selector__editor input,\r\n.designMode .qp-field:hover .branch-selector__button,\r\n.designMode .qp-field:hover .editor button\r\n{\r\n\tcursor: help !important;\r\n}\r\n\r\n.designMode .qp-field:hover .controlCont,\r\n.designMode .qp-field:hover .qp-checkbox,\r\n.designMode .qp-field:hover .editor,\r\n.designMode .qp-field:hover .dropDown,\r\n.designMode .qp-field:hover .toolsBtn,\r\n.designMode .qp-field:hover .branch-selector__editor,\r\n.designMode .qp-field:hover .qp-text-editor,\r\n.designMode .qp-field:hover .drop-down__editor\r\n{\r\n\tborder-color: #007ACC;\r\n\tborder-color: var(--primary-color, #007ACC);\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.designMode .qp-field:hover .qp-checkbox,\r\n.designMode .col-header:hover\r\n{\r\n\tbox-shadow: inset 0px 0px 2px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 2px 1px var(--primary-color, #007ACC);\r\n\tcursor: help !important;\r\n}\r\n\r\n.designMode,\r\n.designMode .toolBtnNormal:hover,\r\n.designMode .toolBtnDisabled:hover,\r\n.designMode label:hover,\r\n.designMode qp-grid:hover,\r\n.designMode .FormView:hover\r\n{\r\n\tcursor: help !important;\r\n}\r\n.popup-input{\r\n\twidth: 100%;\r\n\tmin-height:250px;\r\n}\r\n",""]),e.exports=i},"controls/compound/tree/qp-tree.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'qp-tree {\r\n    display: block;\r\n}\r\n\r\n.v-stack > qp-tree {\r\n\tflex: 1 auto;\r\n\tmin-height: 0;\r\n}\r\n\r\n.tree-root {\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\nqp-tree table {\r\n    border: none;\r\n}\r\nqp-tree qp-text-editor input {\r\n\twidth: 100%;\r\n}\r\n.tree-container {\r\n\toverflow-y: hidden;\r\n\toverflow-x: auto;\r\n\tmin-height: 100%;\r\n\tdisplay: block;\r\n}\r\n.tree-container.scroll-padding {\r\n\tmargin-bottom: 5px;\r\n}\r\n.tree-container::-webkit-scrollbar, .tree-table-wrap::-webkit-scrollbar {\r\n\twidth: 8px;\r\n\theight: 8px;\r\n\tbackground: transparent;\r\n}\r\n.tree-container::-webkit-scrollbar-thumb, .tree-table-wrap::-webkit-scrollbar-thumb {\r\n\tbackground: rgba(0, 0, 0, 0.15);\r\n\twidth: 8px;\r\n\tborder-radius: 8px;\r\n}\r\n\r\n.tree-table-container {\r\n\tmin-height: 100px;\r\n\twhite-space: nowrap;\r\n\toverflow: auto;\r\n\tflex: 1 auto;\r\n}\r\n\r\n.tree-table-container.has-size {\r\n\tposition: absolute;\r\n}\r\n\r\n.tree-table-wrap {\r\n\toverflow: auto;\r\n\tposition: relative;\r\n\theight: 100%;\r\n}\r\n.tree-table-wrap.hidden {\r\n\tvisibility: hidden;\r\n}\r\n\r\n.tree-flex {\r\n    align-items: center;\r\n    display: flex;\r\n\twidth: 100%;\r\n\tmin-width: 0;\r\n\tflex: 1;\r\n}\r\n\r\n.tree-main-toolbar {\r\n\tflex: 0 auto;\r\n    padding: 5px 0px 12px;\r\n    flex-direction: row;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: end;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.tree-main-toolbar__caption {\r\n\tflex: 1 50%;\r\n\tmargin: 7px 0;\r\n\tpadding-right: 20px;\r\n\tfont-size: 15px;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.tree-main-toolbar__caption--wide {\r\n\tflex-basis: 100%;\r\n}\r\n\r\n.filter-box.tree-main-toolbar__filter-box {\r\n\tflex: 1 50%;\r\n\twidth: auto;\r\n\tmin-width: 100px;\r\n}\r\n\r\n.tree-main-toolbar qp-button {\r\n\tbackground-color: #28a745;\r\n\tcolor: #fff;\r\n\tmargin: 3px 0px;\r\n\tleft: 0px;\r\n    position: absolute;\r\n}\r\n\r\n.tree-main-toolbar qp-button button {\r\n\tbackground-color: inherit;\r\n\tcolor: inherit;\r\n\tborder: 0px;\r\n\theight: 30px;\r\n\tline-height: 20px;\r\n\tpadding: 5px 10px;\r\n\topacity: 1;\r\n\tfont-family: Arial, "Helvetica Neue", Helvetica, sans-serif !important;\r\n}\r\n.tree-container .optional-item input.qp-text-editor[enabled="false"] {\r\n\tborder-width: 0px;\r\n}\r\n\r\n.tree-main-toolbar div.qp-tool-bar {\r\n\tmargin: 0 0 0 -4px;\r\n\theight: auto;\r\n}\r\n\r\n.tree-main-toolbar__toolbar-container {\r\n\tmargin-top: 2px;\r\n\tmax-width: 50%;\r\n}\r\n\r\n.tree-main-toolbar__toolbar-container--wide {\r\n\tmax-width: 100%;\r\n}\r\n\r\n.optional-item input.qp-text-editor[enabled="false"] {\r\n\tborder-width: 0px;\r\n}\r\n.tree-main-toolbar qp-button button:not([disabled]):hover,\r\n.tree-main-toolbar qp-button button.pushed {\r\n\tbackground-color: rgba(0, 0, 0, 0.1) !important;\r\n}\r\n\r\n.tree-text .selected {\r\n    background-color: orange;\r\n}\r\n\r\n.tree-checkbox {\r\n\tpadding: 4px 7px;\r\n}\r\n\r\n.tree-checkbox input {\r\n    accent-color: var(--primary-color, #007ACC);\r\n    border: 1px solid rgba(0, 0, 0, 0.19);\r\n    border-radius: 2px;\r\n    margin: 0px;\r\n    padding: 0px;\r\n}\r\n\r\n.tree-checkbox div {\r\n    border-radius: 2px;\r\n}\r\n\r\n.tree-checkbox .indeterminate {\r\n    background-color: white;\r\n    border: 1px solid var(--primary-color, #007ACC);\r\n}\r\n\r\n.tree-checkbox .indeterminate>.inside {\r\n    width: 8px;\r\n    height: 8px;\r\n    background-color: var(--primary-color, #007ACC);\r\n    margin: 3px;\r\n}\r\n\r\n.tree-checkbox input[type="checkbox"]:focus {\r\n    box-shadow: 0px 0px 0px rgba(115, 115, 115, 0.5);\r\n}\r\n\r\n.tree-open {\r\n    cursor: pointer;\r\n    width: 16px;\r\n\tmargin: 2px 0 2px 7px;\r\n\tfont-size: 16px;\r\n\ttext-align: center;\r\n}\r\n\r\n.tree-dragged {\r\n    cursor: grabbing;\r\n}\r\n.tree-row {\r\n\tdisplay: flex;\r\n\theight: var(--qp-input-height);\r\n\talign-items: center;\r\n}\r\n\r\n.empty-tree-search {\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\ttranslate: -50%;\r\n\tposition: absolute;\r\n\tfont-weight: bold;\r\n\tfont-size: 15px;\r\n\tcolor: rgba(0, 0, 0, 0.54);\r\n}\r\n\r\n.tree-node.hidden {\r\n    display: none;\r\n}\r\n\r\n.tree-node-hidden {\r\n    display: none;\r\n}\r\n\r\n.tree-node.draggable {\r\n    cursor: grab;\r\n}\r\n\r\n.tree-node:hover, .tree-node:hover .tree-sticky-column {\r\n    background-color: rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.tree-node:hover .tree-toolbar {\r\n    visibility: visible;\r\n}\r\n.tree-node-selected, .tree-node-selected .tree-sticky-column  {\r\n\tbackground-color: rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.tree-node-icon {\r\n\tpadding-right: 4px;\r\n\theight: auto;\r\n\tline-height: 0;\r\n\tmargin-top: 2px;\r\n\tmargin-left: 7px;\r\n}\r\n\r\n.tree-text-input {\r\n    border: 2px solid #027ACC;\r\n    box-sizing: border-box;\r\n    border-radius: 6px;\r\n    height: 26px;\r\n    width: 100%;\r\n    margin: -2px;\r\n}\r\n\r\n.tree-text-input.hidden {\r\n    display: none;\r\n}\r\n\r\n.tree-text {\r\n    margin-left: 7px;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    user-select: none;\r\n\ttext-overflow: ellipsis;\r\n}\r\nspan.tree-text, .tree-text span {\r\n    font-size: 14px;\r\n}\r\n\r\n.tree-edit-buttons {\r\n    display: none;\r\n    background-color: white;\r\n    padding: 6px;\r\n    position: absolute;\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 5px;\r\n    position: fixed;\r\n    z-index: 100;\r\n}\r\n\r\n.tree-edit-buttons>div {\r\n    display: block;\r\n    padding: 6px;\r\n}\r\n\r\n.tree-node-drag, .tree-node-drag td {\r\n    background-color: #D7EFFF;\r\n}\r\n\r\n.tree-toolbar {\r\n    user-select: none;\r\n    padding: 0px 4px;\r\n    cursor: pointer;\r\n}\r\n\r\n.tree-toolbar .tree-header:not(.hidden) {\r\n    visibility: hidden;\r\n}\r\n.tree-header {\r\n    display: flex;\r\n    align-items: baseline;\r\n    justify-content: flex-end;\r\n}\r\n.tree-toolbar svg {\r\n    max-height: 16px;\r\n    max-width: 16px;\r\n}\r\n\r\n.tree-toolbar>div {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    flex-direction: column;\r\n    position: absolute;\r\n    padding: 8px 20px;\r\n    background: #FFFFFF;\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 5px;\r\n}\r\n\r\n.tree-toolbar>div>div {\r\n    white-space: nowrap;\r\n    margin: 7px 0px;\r\n}\r\n\r\n.tree-toolbar>div>div>i {\r\n    margin-right: 7px;\r\n}\r\n\r\n.tree-toolbar .hidden {\r\n    display: none;\r\n}\r\n\r\n.tree-header.scroll-padding {\r\n\tpadding-right: 10px;\r\n}\r\n.tree-toolbar-right {\r\n    right: 10px;\r\n    z-index: 5;\r\n}\r\n.tree-toolbar.hidden {\r\n    opacity: 0;\r\n    cursor: default;\r\n}\r\n.tree-separator {\r\n    width: 100%;\r\n    background-color: black;\r\n    height: 2px;\r\n    padding: 1px;\r\n}\r\n\r\n.tree-separator.hidden {\r\n    opacity: 0;\r\n\theight: 0;\r\n}\r\n\r\n.tree-quad {\r\n\tbox-sizing: content-box;\r\n    width: 16px;\r\n    height: 16px !important;\r\n}\r\n.tree-toolbar.tree-sticky-column {\r\n\tright: 0px;\r\n}\r\n.optional-item {\r\n    height: var(--qp-input-height);\r\n\tdisplay: flex;\r\n    align-items: end;\r\n    justify-content: right;\r\n    text-align: center;\r\n    overflow: hidden;\r\n    margin-top: -4px;\r\n}\r\n\r\n.tree-sticky-column {\r\n\tposition: absolute;\r\n\theight: var(--qp-input-height);\r\n}\r\n.qp-tabbed-tree-selector-tab .tree-container {\r\n\theight: unset;\r\n}\r\n.qp-tabbed-tree-selector-tab .grid-top-bar-cont {\r\n\tpadding-bottom: 0;\r\n}\r\n.qp-tabbed-tree-selector-tab .grid-header-table,\r\n.qp-tabbed-tree-selector-tab .grid-content-table {\r\n\twidth: 100%;\r\n}\r\n.qp-tabbed-tree-selector .filter-box {\r\n\tmargin-right: 0;\r\n}\r\n.qp-tabbed-tree-selector qp-grid {\r\n\tborder: none;\r\n}\r\n.qp-tabbed-tree-selector .tree-main-toolbar qp-tool-bar {\r\n\tmargin-top: 0;\r\n}\r\n',""]),e.exports=i},"controls/container/field/qp-field.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'.qp-field\r\n{\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-field-wrapper {\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-field .wrapper, .qp-field-wrapper\r\n{\r\n\tdisplay: flex;\r\n\tposition: relative;\r\n\tborder-radius: 6px;\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.control-container > .qp-field > .wrapper {\r\n\tleft: -10px;\r\n\tmargin-right: -10px;\r\n}\r\n\r\n.label-wrapper > .qp-field {\r\n\tmargin-left: -10px;\r\n}\r\n\r\n.qp-field-wrapper .control-container,\r\n.qp-field .control-container {\r\n\tposition: relative;\r\n}\r\n\r\n.qp-field .control-container.size-default,\r\n.qp-field-wrapper .control-container.size-default {\r\n\tflex: 1 1 auto;\r\n\twidth: 66%;\r\n\tmin-width: 0;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 10px;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.qp-field .wrapper .main-control {\r\n\tflex-grow: 1;\r\n\twidth: calc( 2 * ( 100% + 10px ) / 12 - 10px ); /* 2 cols minimum */\r\n}\r\n\r\n.qp-field .wrapper .main-control ~ * {\r\n\tflex-grow: 0;\r\n\twidth: calc( 6 * ( 100% + 10px ) / 12 - 10px ); /* 6 cols or 50/50 by default*/\r\n}\r\n\r\n.qp-field-wrapper .control-container {\r\n\tline-height: 25px;\r\n}\r\n\r\n.qp-field .control-container > enhanced-compose > *,\r\n.qp-field-wrapper .control-container > * > *\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\n\r\n.qp-field .req-l .label-container:after {\r\n\tcontent: "*";\r\n\tfont-size: 15px;\r\n\topacity: 1;\r\n\r\n\tpadding: 0 3px;\r\n\tline-height: var(--qp-input-height);\r\n}\r\n.qp-field .req-l.qp-field-empty .label-container:after {\r\n\tcolor: #f00;\r\n}\r\n\r\n/* .qp-field.no-label .wrapper.err-l,\r\n.qp-field.no-label .wrapper.war-l,\r\n.qp-field.no-label .wrapper.inf-l {\r\n\tpadding-left: 8px;\r\n\tpadding-right: 26px;\r\n} */\r\n\r\n.qp-field.no-label .icon-container {\r\n\tleft: auto; right: 8px;\r\n}\r\n\r\n.qp-field .wrapper.err-l {\r\n\tbackground-color: rgba(255, 0, 0, 0.17);\r\n}\r\n\r\n.qp-field .wrapper.war-l {\r\n\tbackground-color: rgba(255, 193, 9, 0.2);\r\n}\r\n\r\n\r\n.qp-field .icon-container {\r\n\tfont-family: \'FontAwesome\';\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: var(--qp-input-height);\r\n\t/* Better Font Rendering =========== */\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tposition: absolute;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n\tfont-size: 16px;\r\n\tleft: -20px;\r\n\tz-index: 1;\r\n}\r\n\r\n.qp-field .err-l .icon-container,\r\n.qp-field .war-l .icon-container {\r\n\tcursor: help;\r\n}\r\n\r\n.qp-field .err-l .icon-container:before {\r\n  content: "\\e997";\r\n  color: #dc3545;\r\n}\r\n\r\n.qp-field .war-l .icon-container:before {\r\n  content: "\\e99a";\r\n  color: #ffc109;\r\n}\r\n\r\n.qp-field .war-l .icon-container:after {\r\n  content: "\\e99b";\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  color: black;\r\n}\r\n\r\n.qp-field .inf-l .icon-container:before {\r\n  content: "\\e998";\r\n  color: #28a745;\r\n}\r\n\r\n.qp-field .inf-l .icon-container:after {\r\n  content: "\\e999";\r\n  position: absolute;\r\n  top: 4px;\r\n  left: 0;\r\n  color: white;\r\n}\r\n\r\n.labelH {\r\n\toverflow: hidden;\r\n \tcolor: rgba(0, 0, 0, 0.64);\r\n}\r\n\r\n.qp-field-wrapper .label-wrapper,\r\n.qp-field > .wrapper > .label-wrapper {\r\n\twidth: calc( var(--qp-default-label-width) * var(--qp-label-zoom) );\r\n}\r\n\r\n.qp-field > .wrapper > .label-wrapper input {\r\n\tborder: none;\r\n\tpadding: 0;\r\n}\r\n.qp-field > .wrapper > .label-wrapper .drop-down__text.ReadOnly {\r\n\tpadding-left: 0;\r\n\tpadding-right: 0;\r\n}\r\n\r\n.label-wrapper > .label-container {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-field-wrapper .label-container,\r\n.qp-field > .wrapper > .label-wrapper,\r\n.qp-field .label-container {\r\n\tflex-grow: 0;\r\n\tflex-shrink: 0;\r\n\t/* width: var(--qp-default-label-width, 140px); */\r\n\r\n\tmargin-right: 13px;\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n}\r\n\r\n/* .qp-field .err-l .label-container,\r\n.qp-field .inf-l .label-container,\r\n.qp-field .war-l .label-container {\r\n\tpadding-left: 26px;\r\n} */\r\n\r\n.qp-field .size-s {\r\n\tflex-grow: 0.5 !important;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.qp-field.qp-field-collapsed {\r\n\t/*max-height: 0;\r\n\tmargin-top: 0;\r\n\ttransition: max-height .2s ease-out, margin-top .2s linear;*/\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-field.qp-field-expanded {\r\n/*\ttransition: max-height .2s ease-in, margin-top .2s linear;*/\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n}\r\n\r\n@media (min-width: 0) and (max-width: 480px) { /* Extra SM */\r\n\t.qp-field .wrapper, .qp-field-wrapper {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.qp-field .wrapper .label-wrapper {\r\n\t\tflex-direction: row;\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: -6px;\r\n\t}\r\n\r\n\t.qp-field .req-l .label-container:after {\r\n\t\tpadding: 0 0 0 3px;\r\n\t}\r\n\r\n\t.qp-field .control-container.size-default,\r\n.qp-field-wrapper .control-container.size-default {\r\n\tflex: 1 1 auto;\r\n\twidth: 100%;\r\n}\r\n\r\n}\r\n',""]),e.exports=i},"controls/container/splitter/qp-splitter.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"@keyframes fadeOut {\r\n\t0% {\r\n\t\topacity: 100%;\r\n\t}\r\n\r\n\t50% {\r\n\t\topacity: 100%;\r\n\t}\r\n\r\n\t100% {\r\n\t\topacity: 0%;\r\n\t}\r\n}\r\n\r\nqp-splitter {\r\n\theight: 100%;\r\n\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-splitter {\r\n    border: none;\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n\tbox-sizing: border-box;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-splitter.fixed-height {\r\n\theight: auto;\r\n}\r\n\r\n.qp-splitter.qp-splitter-width {\r\n\tflex-direction: row;\r\n}\r\n.qp-splitter.qp-splitter-height {\r\n\tflex-direction: column;\r\n\r\n\theight: 100%;\r\n}\r\n\r\n.qp-splitter-first {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-splitter-second {\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-splitter-height > .qp-splitter-first,\r\n.qp-splitter-height > .qp-splitter-second {\r\n\toverflow-y: auto;\r\n}\r\n\t.qp-splitter-height > .qp-splitter-second {\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n.qp-splitter-width > .qp-splitter-first,\r\n.qp-splitter-width > .qp-splitter-second {\r\n\toverflow-x: auto;\r\n}\r\n\r\n.qp-splitter-width > .qp-splitter-second {\r\n\tflex-basis: 0;\r\n}\r\n\r\n.qp-splitter-width.qp-splitter--reversed > .qp-splitter-second {\r\n\tflex-basis: unset;\r\n}\r\n\r\n.qp-splitter-width.qp-splitter--reversed > .qp-splitter-first {\r\n\tflex-basis: 0;\r\n}\r\n\r\n.qp-splitter-pane-inner {\r\n\tdisplay: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    flex-grow: 1;\r\n}\r\n\r\n.qp-splitter-bar {\r\n    background-color: white;\r\n    border: none;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n}\r\n\t.qp-splitter-width > .qp-splitter-bar {\r\n\t\tflex-basis: 16px;\r\n\t\tcursor: col-resize;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.qp-splitter-height > .qp-splitter-bar {\r\n\t\tflex-basis: 16px;\r\n\t\tcursor: row-resize;\r\n\t\tflex-direction: row;\r\n\t}\r\n\t.qp-splitter-bar.qp-splitter-collapsed {\r\n\t\tcursor: auto;\r\n\t}\r\n\r\n.qp-splitter--unmargin > .qp-splitter-bar {\r\n\tposition: relative;\r\n\r\n\twidth: 0;\r\n\tmax-width: 0;\r\n\r\n\t&:before {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\r\n\t\twidth: 16px;\r\n\r\n\t\tcontent: '';\r\n\t}\r\n}\r\n\r\n.qp-splitter--fading .qp-splitter-bar:not(:hover):not(.qp-splitter-collapsed){\r\n\topacity: 0%;\r\n\tanimation: 0.5s linear 0s fadeOut;\r\n}\r\n\r\n.qp-splitter--fading .qp-splitter-bar:hover:not(.qp-splitter-collapsed) {\r\n\topacity: 100%;\r\n}\r\n\r\n.qp-splitter--disabled > .qp-splitter-bar {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-splitter--invisible > .qp-splitter-bar {\r\n\topacity: 0%;\r\n\r\n\tanimation: none;\r\n}\r\n\r\n.qp-splitter-bar .qp-splitter-buttons {\r\n\tdisplay: flex;\r\n}\r\n.qp-splitter-bar:not(.qp-splitter-collapsed) > .qp-splitter-line {\r\n\tdisplay: flex;\r\n\tflex: 1;\r\n\tbackground-color: #F3F3F3;\r\n}\r\n\r\n.qp-splitter-bar:not(.qp-splitter-collapsed):hover > .qp-splitter-line {\r\n\tdisplay: flex;\r\n\tflex: 1;\r\n\tbackground-color: #C8C8C8;\r\n}\r\n\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-line {\r\n\t\twidth: 1px;\r\n\t\tmargin-left: 8px;\r\n\t}\r\n\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-line {\r\n\t\theight: 1px;\r\n\t\tmargin-top: 8px;\r\n\t}\r\n\r\n.qp-splitter-buttons {\r\n\tdisplay: none;\r\n}\r\n\r\n\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons {\r\n\t\tflex-direction: column-reverse;\r\n\t}\r\n\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons {\r\n\t\tflex-direction: row-reverse;\r\n\t}\r\n\r\n.qp-splitter-button {\r\n\tcursor: pointer;\r\n\tjustify-content: center;\r\n\tdisplay: flex;\r\n}\r\n\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons >  .qp-splitter-button {\r\n\t\theight: 32px;\r\n\t\twidth: 16px;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-first svg {\r\n\t\t\ttransform: rotate(90deg);\r\n\t\t}\r\n\t\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-second svg {\r\n\t\t\ttransform: rotate(270deg)\r\n\t\t}\r\n\r\n\t\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-dragdrop {\r\n\t\t\tcursor: col-resize;\r\n\t\t}\r\n\r\n\t\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-dragdrop svg {\r\n\t\t\ttransform: rotate(90deg)\r\n\t\t}\r\n\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\theight: 16px;\r\n\t\twidth: 32px;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-dragdrop {\r\n\t\tmargin-top: 2px;\r\n\r\n\t\tcursor: row-resize;\r\n\t}\r\n\t\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-first svg {\r\n\t\t\ttransform: rotate(180deg)\r\n\t\t}\r\n\t\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-second svg {\r\n\t\t\ttransform: rotate(0deg)\r\n\t\t}\r\n\r\n\t.qp-splitter-button > qp-icon {\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t.qp-splitter--fading .qp-splitter-button > qp-icon > svg {\r\n\t\tcolor: #C8C8C8;\r\n\t}\r\n\t\t.qp-splitter-button > qp-icon > svg {\r\n\t\t\tcolor: #C8C8C8;\r\n\t\t}\r\n\r\n\t\t.qp-splitter-bar:hover .qp-splitter-button:hover > qp-icon > svg {\r\n\t\t\tcolor: #7C7C7C;\r\n\t\t}\r\n\r\n.qp-splitter > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-first {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-splitter > .qp-splitter-bar:hover > .qp-splitter-buttons > .qp-splitter-button-first {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-splitter > .qp-splitter-bar:hover > .qp-splitter-buttons > .qp-splitter-button-second {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-splitter > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-second {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-splitter > .qp-splitter-bar.qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button-first,\r\n.qp-splitter > .qp-splitter-bar.qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button-second {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-splitter-width > .qp-splitter-collapsed > .qp-splitter-buttons {\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n}\r\n\t.qp-splitter-width > .qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\tflex-flow: column;\r\n\t\tbackground-color: rgba(var(--primary-color-rgb), 0.12);\r\n\t\twidth: 24px;\r\n\t\tflex-grow: 1;\r\n\t\tpadding: 4px;\r\n\t}\r\n\t\t.qp-splitter-width > .qp-splitter-collapsed-first > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\t\tmargin-right: 8px;\r\n\t\t}\r\n\t\t.qp-splitter-width > .qp-splitter-collapsed-second > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\t\tmargin-left: 8px;\r\n\t\t}\r\n\r\n.qp-splitter-height > .qp-splitter-collapsed > .qp-splitter-buttons {\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n}\r\n\t.qp-splitter-height > .qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\tflex-flow: row;\r\n\t\tbackground-color: rgba(var(--primary-color-rgb), 0.12);\r\n\t\theight: 20px;\r\n\t\tflex-grow: 1;\r\n\t\tjustify-content: space-around;\r\n\t\tpadding-left: 16px;\r\n\t\tpadding-right: 8px;\r\n\t}\r\n\t\t.qp-splitter-height > .qp-splitter-collapsed-first > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\t\tmargin-bottom: 12px;\r\n\t\t}\r\n\r\n\t\t.qp-splitter-height > .qp-splitter-collapsed-second > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\t\tmargin-top: 12px;\r\n\t\t}\r\n\r\n.qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button:hover {\r\n\tbackground-color: var(--qp-highlight-hover-color) !important;\r\n}\r\n\r\n.qp-splitter-first > .qp-fieldset-caption,\r\n.qp-splitter-second > .qp-fieldset-caption {\r\n\tbackground-color: white;\r\n    min-height: 24px;\r\n}\r\n",""]),e.exports=i},"controls/container/tabbar/qp-tabbar-edit.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".edit-tabbar-container {\r\n\tflex-direction: column;\r\n}\r\n\r\n.edit-section {\r\n\twidth: 100%;\r\n}\r\n\r\n.edit-section-bottom {\r\n\tflex-grow: 1;\r\n    flex-direction: column;\r\n    display: flex;\r\n}\r\n\r\n.edit-section-content {\r\n\toverflow-x: hidden;\r\n\tmargin: 8px 0;\r\n\tposition: relative;\r\n}\r\n\r\n.edit-section-content-bottom {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.edit-section-title {\r\n\tpadding: 8px 0;\r\n\tposition: relative;\r\n\theight: 16px;\r\n}\r\n\r\n.edit-section-empty {\r\n\tposition: relative;\r\n\tmin-height: 50px;\r\n\twidth: 100%;\r\n}\r\n\r\n.edit-section-dropzone {\r\n\tbackground-color: #027ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\topacity: 0.2;\r\n}\r\n",""]),e.exports=i},"controls/container/tabbar/qp-tabbar.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-tabbar {\r\n\theight: 100%;\r\n}\r\n\r\n.qp-tabbar {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\tuser-select: none;\r\n}\r\n\r\n.qp-tabbar-menu .qp-tab-empty,\r\n.qp-tabbar .qp-tab-empty {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-header {\r\n\tdisplay: flex;\r\n\tflex-wrap: nowrap;\r\n\talign-items: center;\r\n\r\n\tbox-shadow: inset 0 -1px 0 0px #e2e2e2;\r\n\ttext-transform: uppercase;\r\n\tfont-size: var(--qp-tabbar-font-size);\r\n\tmargin: 5px 0 0 0;\r\n\tcolor: #000;\r\n\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\tbackground-color: #fff;\r\n\tz-index: 1;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-wrapper {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\theight: 34px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n\theight: 34px;\r\n\tpadding: 8px 0;\r\n\tmargin: 0 16px;\r\n\tline-height: 18px;\r\n}\r\n\r\n.qp-tabbar-wrapper .tab-header-container:first-child .qp-tabbar-tab {\r\n\tmargin-left: 0;\r\n}\r\n\r\n.qp-tabbar>.qp-tabbar-content {\r\n\tflex: 1;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-wrapper span:first-child {\r\n\tpadding: 8px 16px 8px 0px;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-hover {\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-active {\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\tcursor: default;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-hover::after {\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 3px;\r\n\tbackground-color: #D2D4D7;\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\r\n\tborder-radius: 10px 10px 0 0;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-active::after {\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 3px;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\r\n\tborder-radius: 10px 10px 0 0;\r\n}\r\n\r\n.qp-tabbar-dragged-source {\r\n\tcolor: rgba(27, 27, 27, 0.3) !important;\r\n}\r\n\r\n.dragged-floater {\r\n\tposition: fixed;\r\n\tbackground: #FFFFFF;\r\n\tbox-shadow: 0px 0px 9px 1px rgba(0, 0, 0, 0.25);\r\n\tborder-radius: 8px 8px 0px 0px;\r\n\tpadding: 12px;\r\n\tz-index: 11000;\r\n\tuser-select: none;\r\n\tcursor: url(\"data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.80218 6.66521C4.80218 6.51964 4.83278 6.37506 4.90982 6.25155C5.09419 5.95599 5.51031 5.42452 6.11871 5.42452C6.73408 5.42452 7.18653 6.0166 7.38588 6.33609C7.46572 6.46406 7.49864 6.61317 7.49864 6.764C7.49864 6.97701 7.49864 7.3301 7.49864 7.78718C7.49864 6.62577 7.33188 5.17773 8.92248 5.17773C10.5131 5.17773 10.3587 6.9199 10.3587 7.78718C10.3587 7.09198 10.1891 5.65994 11.5361 5.65994C12.8832 5.65994 12.752 6.94352 12.7232 7.78718C12.7232 6.90505 13.2778 6.46129 13.8202 6.46129C14.3626 6.46129 14.8341 6.89465 14.8341 7.71689C14.8341 8.53913 14.854 9.8889 14.7598 10.5325C14.6905 11.0056 14.0952 13.4604 13.7848 14.7272C13.6754 15.1737 13.2753 15.4854 12.8156 15.4854H5.99286C5.68577 15.4854 5.3957 15.3443 5.20613 15.1027L1.87331 10.8551C1.64307 10.5617 1.59527 10.1645 1.74931 9.82481L1.84184 9.62077C1.94649 9.39001 2.13484 9.20758 2.36882 9.11034L2.58034 9.02244C2.97192 8.85971 3.42356 8.96165 3.70728 9.27679L4.80218 10.493V6.66521Z' fill='white' stroke='black' stroke-width='0.8'/%3E%3Cpath d='M7.5 9.5V13.5' stroke='black' stroke-width='0.8' stroke-linecap='square'/%3E%3Cpath d='M10 9.5V13.5' stroke='black' stroke-width='0.8' stroke-linecap='square'/%3E%3Cpath d='M12.5 9.5V13.5' stroke='black' stroke-width='0.8' stroke-linecap='square'/%3E%3C/svg%3E%0A\") 16 16, pointer !important;\r\n}\r\n\r\n.qp-tabbar .tab-header-container:first-child .qp-tabbar-tab.qp-tabbar-hover:after,\r\n.qp-tabbar .tab-header-container:first-child .qp-tabbar-tab.qp-tabbar-active:after {\r\n\tleft: 0px;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener {\r\n    padding: 9px 10px;\r\n    margin-left: 4px;\r\n    display: flex;\r\n    gap: 6px;\r\n\tfill: rgba(0, 0, 0, 0.5);\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-tabbar-opener .tab-header--icon,\r\n.qp-tabbar-opener--ellipsis {\r\n\tmargin-top: -1px;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener.qp-tabbar-opener--hover::after {\r\n\tbackground-color: #C7C7C7;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 3px;\r\n\tposition: absolute;\r\n\tbottom: 0px;\r\n\tborder-radius: 10px 10px 0 0;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener.qp-tabbar-opened,\r\n.qp-tabbar .qp-tabbar-opener.qp-tabbar-opener--hover {\r\n\tfill: #000;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener svg {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.qp-tabbar-shadow {\r\n\tposition: fixed;\r\n\tuser-select: none;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n\tright: 0;\r\n\tz-index: 5000;\r\n}\r\n\r\n.qp-tabbar-menu {\r\n\tz-index: 6000;\r\n\tbackground-color: white;\r\n\tmax-height: 80vh;\r\n\toverflow-y: auto;\r\n\t/* for FF */\r\n\toverflow-y: overlay;\r\n\tmin-width: 140px !important;\r\n\tbox-shadow: 0px 0px 14px 2px rgba(0, 0, 0, 0.15);\r\n\tbox-sizing: border-box;\r\n\tborder-radius: 5px;\r\n\tborder-top: 5px solid #fff;\r\n\tborder-bottom: 5px solid #fff;\r\n\tpadding: 8px 0px;\r\n\tmargin: 0 -3px;\r\n\r\n\tscrollbar-width: thin;\r\n\tscrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item {\r\n\twhite-space: nowrap;\r\n\tpadding: 8px 16px;\r\n\tfont-size: var(--qp-tabbar-font-size);\r\n\ttext-transform: uppercase;\r\n\tcursor: pointer;\r\n\tline-height: 16px;\r\n\tcolor: rgba(0, 0, 0, .85);\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover {\r\n\tbackground-color: rgba(0, 0, 0, 0.07);;\r\n}\r\n\r\nqp-tab-header {\r\n\tdisplay: none;\r\n}\r\n\r\nqp-tabbar qp-tab {\r\n\tpadding-top: var(--qp-sections-row-gap);\r\n\theight: 100%;\r\n}\r\n\r\nqp-tabbar qp-tab.no-padding {\r\n\tpadding: 0px;\r\n}\r\n\r\n.qp-tabbar-config-icon {\r\n\tpadding: 0 5px;\r\n\tcolor: #000;\r\n\tborder-radius: 6px;\r\n\tmargin: 3px 13px;\r\n\tcursor: pointer;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tfont-size: var(--qp-icon-size);\r\n\tfont-family: 'FontAwesome' !important;\r\n}\r\n\r\n.qp-tabbar-config-icon:hover {\r\n\tbackground-color: rgba(0, 0, 0, .06);\r\n}\r\n\r\n.qp-tabbar-config-icon:before {\r\n\tcontent: \"\\e93e\";\r\n}\r\n\r\n.tab-header-container {\r\n\tdisplay: flex;\r\n}\r\n\r\n.tab-header-container-reverse {\r\n\tflex-direction: row-reverse;\r\n}\r\n\r\n.qp-tabbar-dropzone {\r\n\tposition: absolute;\r\n}\r\n\r\n.qp-tabbar-dropzone-before {\r\n\tmargin-left: -8px;\r\n}\r\n\r\n.qp-tabbar-dropzone-after {\r\n\tmargin-right: 8px;\r\n}\r\n\r\n.qp-tabbar-dropzone-down {\r\n    margin-top: -5px;\r\n    position: absolute;\r\n}\r\n\r\n.qp-tabbar-dropzone-up {\r\n    margin-top: 18px;\r\n    position: absolute;\r\n}\r\n\r\n.tabbar-menu--separator {\r\n\twidth: 100%;\r\n    height: 32px;\r\n    padding: 8px 16px;\r\n    font-family: 'Arial';\r\n    font-weight: 700;\r\n    font-size: 15px;\r\n}\r\n\r\n.tabbar-menu--blank {\r\n\theight: 32px;\r\n}\r\n\r\n.qp-tabbar-hidden-dropzone {\r\n\tposition: absolute;\r\n\tdisplay: flex;\r\n    width: 100%;\r\n\tmargin-left: -8px;\r\n    justify-content: space-between;\r\n}\r\n\r\n.qp-tabbar-hidden-dropzone-before {\r\n\tmargin-top: -8px;\r\n}\r\n\r\n.qp-tabbar-hidden-dropzone-after {\r\n\tmargin-top: 24px;\r\n}\r\n\r\n.qp-tabbar-hidden-dropzone-empty {\r\n\tmargin-top: 9px;\r\n}\r\n\r\n.right-tab-part {\r\n\tposition: absolute;\r\n\tdisplay: flex;\r\n\theight: 34px;\r\n}\r\n\r\n.right-tab-part-placeholder {\r\n\tposition: relative;\r\n\tbackground-color: transparent;\r\n\theight: 1px;\r\n\tmargin-left: 16px;\r\n\tpointer-events: none;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.tab-header--error,\r\n.qp-tabbar .qp-tabbar-tab.tab-header--warning {\r\n\tborder-radius: 8px 8px 0 0;\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.tab-header--error {\r\n\tcolor: #EE4051;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.tab-header--warning {\r\n\tcolor: #DD9F00;\r\n\r\n}\r\n\r\n.tab-header--error.qp-tabbar-menu-item {\r\n\tbackground: rgba(238, 64, 81, 0.2);\r\n}\r\n\r\n.tab-header--warning.qp-tabbar-menu-item {\r\n\tbackground: rgba(255, 184, 0, 0.2);\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover.tab-header--error\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover.tab-header--warning {\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-active.tab-header--error::after,\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-hover.tab-header--error::after {\r\n\tbackground-color: #EE4051;\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-active.tab-header--warning::after,\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-hover.tab-header--warning::after {\r\n\tbackground-color: #FFB800;\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n\r\n.qp-tabbar-tab .tab-header--with-error {\r\n\tmargin-left: 5px;\r\n}\r\n\r\n.qp-tabbar-tab .tab-header--icon {\r\n\tposition: relative;\r\n}\r\n\r\n.tab-header--error .tab-header--icon,\r\n.tab-header--warning .tab-header--icon {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.tab-header--error .tab-header--icon svg {\r\n\tfill: #EE4051;\r\n\tcolor: #EE4051;\r\n}\r\n\r\n.tab-header--warning .tab-header--icon svg {\r\n\tfill: #FFB800;\r\n\tcolor: #FFB800;\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover.tab-header--warning {\r\n\tbackground: rgba(255, 184, 0, 0.3);\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover.tab-header--error {\r\n\tbackground: rgba(238, 64, 81, 0.3);\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener.tab-header--error,\r\n.qp-tabbar .qp-tabbar-opener.tab-header--warning {\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.qp-tabbar-opener.qp-tabbar-opened::after,\r\n.qp-tabbar-opener.qp-tabbar-opened::after {\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 3px;\r\n\tposition: absolute;\r\n\tbottom: 0px;\r\n\tborder-radius: 10px 10px 0 0;\r\n}\r\n\r\n.qp-tabbar-opener.tab-header--error.qp-tabbar-opened::after,\r\n.qp-tabbar-opener.tab-header--error.qp-tabbar-opener--hover::after {\r\n\tbackground-color: #EE4051;\r\n}\r\n\r\n.qp-tabbar-opener.tab-header--warning.qp-tabbar-opened::after,\r\n.qp-tabbar-opener.tab-header--warning.qp-tabbar-opener--hover::after {\r\n\tbackground-color: #FFB800;\r\n}\r\n\r\n.tabbar-menu--separator--margin {\r\n\tpadding: 8px 0px;\r\n\theight: 1px;\r\n}\r\n\r\n.tabbar-menu--separator--margin > div\r\n{\r\n\tfont-size: 0px;\r\n\tborder-top: 1px solid #E0E4E8\r\n}\r\n",""]),e.exports=i},"controls/container/wizard/qp-wizard.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-wizard {\r\n\theight: 100%;\r\n}\r\n\r\n.qp-wizard {\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.qp-wizard .qp-wizard-body {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-wizard .qp-wizard-footer {\r\n\tdisplay: block;\r\n\ttext-align: end;\r\n}\r\n\r\n.qp-wizard qp-tab {\r\n\theight: 100%;\r\n\tflex: 1;\r\n}\r\n",""]),e.exports=i},"controls/dialog/alert/qp-alert-dialog.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"ux-dialog>ux-dialog-footer button {\r\n\tborder-radius: 0;\r\n}\r\nux-dialog.qp-alert-dialog {\r\n\tmin-width: 300px;\r\n\tmax-width: min(40vw, 600px);\r\n\tpadding: 10px;\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-body {\r\n\tfont-size: 14px;\r\n\tpadding: 0px 10px;\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-body>div {\r\n\tmax-height: min(40vh, 400px);\r\n\toverflow-wrap: break-word;\r\n\toverflow-y: auto\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-body>div>p:first-child {\r\n\tmargin-top: 0;\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-body>div>p:first-child {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-footer button {\r\n\tmargin: 0 0 0 5px;\r\n}\r\n",""]),e.exports=i},"controls/dialog/base-dialog/base-dialog.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"\r\nux-dialog-container {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\ttransition: opacity .1s linear;\r\n}\r\n\r\nux-dialog-container > div {\r\n\tmargin-top: auto;\r\n\tmargin-bottom: auto;\r\n\tflex: 1 auto;\r\n\tpadding-left: 0;\r\n\tpadding-right: 0;\r\n}\r\n\r\nux-dialog-container > div > div {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-dialog-app-overlay.active {\r\n\topacity: 0.4;\r\n\tbackground-color: rgb(0, 0, 0);\r\n\ttransition: background-color .1s, opacity .1s;\r\n}\r\n\r\n.dialog ::-webkit-scrollbar {\r\n\twidth: 8px;\r\n\theight: 8px;\r\n}\r\n.dialog ::-webkit-scrollbar-track {\r\n\tbackground-color: transparent;\r\n}\r\n.dialog ::-webkit-scrollbar-thumb {\r\n\tbackground-color: rgba(0, 0, 0, 0.15);\r\n\tborder-radius: 8px;\r\n\tbackground-clip: content-box;\r\n}\r\n.dialog ::-webkit-scrollbar-thumb:hover {\r\n\tbackground-color: #7d7d7d;\r\n}\r\n\r\n.dialog {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tborder-radius: 0px;\r\n\tborder: none;\r\n\tbox-shadow: 0px 0px 14px 2px var(--qp-shadow-color);\r\n}\r\n\r\n.dialog:not(.non-responsive-dialog) ux-dialog-header,\r\n.dialog:not(.non-responsive-dialog) ux-dialog-body,\r\n.dialog:not(.non-responsive-dialog) ux-dialog-footer {\r\n\tcontainer-type: inline-size;\r\n  \tcontainer-name: qp-screen;\r\n}\r\n\r\n.dialog {\r\n\t/* no top and left padding because the title bar is used to move the dialog */\r\n\t--dialog-title-height: 22px;\r\n\t--dialog-title-body-spacing: 12px;\r\n}\r\n\r\n.dialog .qp-dialog-header {\r\n\tflex-grow: 1;\r\n\tbox-sizing: border-box;\r\n\theight: calc(10px + var(--dialog-title-height) + var(--dialog-title-body-spacing) / 2);\r\n\tpadding-top: 10px;\r\n\tpadding-bottom: calc(var(--dialog-title-body-spacing) / 2);\r\n\tpadding-inline-start: 10px;\r\n\tpadding-inline-end: 0;\r\n\tmargin-bottom: calc(var(--dialog-title-body-spacing) / 2);\r\n\tmargin-inline-end: 10px;\r\n\tfont-size: 18px;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: space-between;\r\n\talign-items: flex-start;\r\n\tgap: 20px;\r\n}\r\n\r\nux-dialog.dialog.qp-dialog > div.qp-dialog-header {\r\n\t/* inside non-resizable 20px margins, instead of resizable 10px table around */\r\n\tpadding: 0;\r\n\tmargin: 0 0 var(--dialog-title-body-spacing);\r\n\theight: var(--dialog-title-height);\r\n}\r\n\r\nux-dialog-container ux-dialog ux-dialog-header {\r\n\tpadding: 0;\r\n\tborder-bottom: none;\r\n\tz-index: 1;\r\n}\r\n\r\nux-dialog-header > .dialog-header-content {\r\n\tdisplay: flex;\r\n\tgap: 20px;\r\n}\r\n\r\n.dialog ux-dialog-body {\r\n\tpadding: 0px 10px;\r\n\tbox-sizing: border-box;\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\toverflow: auto;\r\n}\r\n\r\n.dialog ux-dialog-footer {\r\n\tpadding: 12px 10px 10px;\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n\tflex-direction: row;\r\n\tgap: 8px;\r\n\tborder-width: 0px;\r\n}\r\n\r\n.dialog ux-dialog-footer > .dialog-footer-content {\r\n\talign-self: flex-end;\r\n\tdisplay: flex;\r\n\tgap: var(--qp-toolbar-items-gap);\r\n}\r\n\r\nux-dialog.qp-dialog.qp-maximized {\r\n\tposition: absolute;\r\n\ttop: 0 !important;\r\n\tleft: 0 !important;\r\n\tbottom: 0 !important;\r\n\tright: 0 !important;\r\n\twidth: 100vw !important;\r\n\theight: 100vh;\r\n\tborder-radius: 0;\r\n}\r\n/* in case of no ux-header */\r\n.dialog ux-dialog-body:first-child {\r\n\tpadding-top: 10px;\r\n}\r\n/* in case of no ux-footer */\r\n.dialog ux-dialog-body:last-child {\r\n\tpadding-bottom: 10px;\r\n}\r\n\r\nux-dialog > ux-dialog-header > button {\r\n\topacity: 0.6;\r\n\tmargin: -10px -10px 0 0;\r\n\tfont-size: 28px;\r\n}\r\n\r\nux-dialog > ux-dialog-header > button:hover {\r\n\topacity: 1;\r\n}\r\n\r\nux-dialog.qp-dialog {\r\n\t--qp-dialog-min-width: 240px;\r\n\t--qp-dialog-max-width: calc(100vw - 60px);\r\n\tborder-radius: 10px;\r\n\tmin-width: var(--qp-dialog-min-width);\r\n}\r\n\r\nux-dialog.qp-dialog:not(.qp-maximized) {\r\n\tmax-width: var(--qp-dialog-max-width);\r\n}\r\n\r\nux-dialog .qp-dialog-header {\r\n\theight: 32px;\r\n\tbox-sizing: border-box;\r\n\tpadding: 0;\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex-shrink: 0;\r\n}\r\n\r\nux-dialog .qp-dialog-header .qp-dialog-title {\r\n\twidth: 0;\r\n\tflex-grow: 1;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tfont-size: 18px;\r\n\tline-height: 22px;\r\n\toverflow: hidden;\r\n\tmargin: 0;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\nux-dialog .qp-dialog-header-buttons {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 13px;\r\n}\r\n\r\nux-dialog .dialog-header-content qp-icon {\r\n\tflex-grow: 0;\r\n\tline-height: 16px;\r\n\tcursor: pointer;\r\n\topacity: 0.4;\r\n}\r\n\r\nux-dialog .dialog-header-content qp-icon:hover {\r\n\topacity: 1;\r\n}\r\n\r\nux-dialog.qp-dialog ux-dialog-body > .dialog-body-content {\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.stack-vert > div {\r\n\tmargin-top: 3px;\r\n}\r\n.stack-vert > div:first-child {\r\n\tmargin-top: 0px;\r\n}\r\n.stack-vert > div > * {\r\n\tmin-height: 24px;\r\n}\r\n\r\n.label-group {\r\n\tdisplay: flex;\r\n}\r\n.label-group > label {\r\n\twidth: 100px;\r\n\tdisplay: inline-block;\r\n}\r\n.label-group > label + * {\r\n\tflex: 1;\r\n}\r\n\r\n.empty-label-group {\r\n\tmargin-left: 100px;\r\n}\r\n\r\n.qp-dialog--auto-height:not(.qp-moved):not(.qp-resized) {\r\n\ttransform: translateY(var(--qp-dialog-offset));\r\n}\r\n",""]),e.exports=i},"controls/dialog/base-dialog/qp-resizable.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-resizable {\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 10px auto 10px;\r\n\tgrid-template-rows: 10px auto 10px;\r\n\toverflow: hidden;\r\n\tmin-width: var(--qp-dialog-min-width);\r\n}\r\n\r\n.qp-resizable:not(.qp-resizable-maximized) {\r\n\tmax-width: var(--qp-dialog-max-width);\r\n\tborder-radius: 10px;\r\n}\r\n\r\n.qp-resizable .qp-rz-center {\r\n\tbackground-color: #fff;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\toverflow: auto;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n}\r\n\r\n.qp-resizable .qp-rz-n {\r\n\tcursor: n-resize;\r\n}\r\n.qp-resizable .qp-rz-w {\r\n\tcursor: w-resize;\r\n}\r\n.qp-resizable .qp-rz-e {\r\n\tcursor: e-resize;\r\n}\r\n.qp-resizable .qp-rz-s {\r\n\tcursor: s-resize;\r\n}\r\n.qp-resizable .qp-rz-nw {\r\n\tcursor: nw-resize;\r\n}\r\n.qp-resizable .qp-rz-ne {\r\n\tcursor: ne-resize;\r\n}\r\n.qp-resizable .qp-rz-sw {\r\n\tcursor: sw-resize;\r\n}\r\n.qp-resizable .qp-rz-se {\r\n\tcursor: se-resize;\r\n}\r\n\r\nux-dialog.qp-dialog:not(.qp-maximized) .qp-resizable .qp-rz-center {\r\n\tgrid-area: 2 / 2 / 3 / 3;\r\n}\r\n\r\n.qp-resizable-maximized .qp-rz-center {\r\n\tgrid-area: 1 / 1 / -1 / -1;\r\n}\r\n\r\n.qp-resizable-maximized .qp-rz {\r\n\tdisplay: none;\r\n}\r\n",""]),e.exports=i},"controls/dialog/edit-dialog-base/qp-edit-dialog.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".edit-dialog-container > div {\r\n\tpadding: 5px !important;\r\n}\r\n\r\n.edit-dialog {\r\n\tpadding: 10px;\r\n\tborder-radius: 10px;\r\n\twidth: 790px;\r\n\theight: calc(100vh - 10px);\r\n\tbox-shadow: none;\r\n}\r\n\r\n.edit-container {\r\n\tdisplay: flex;\r\n\theight: 100%;\r\n}\r\n\r\n.thin-blue-line {\r\n\tborder-top: 1px solid #027ACC;\r\n\tborder-top: 1px solid var(--primary-color, #007ACC);\r\n}\r\n\r\n.title-with-line {\r\n\tposition: absolute;\r\n\tpadding-right: 8px;\r\n\tmargin-top: -8px;\r\n\tbackground-color: #ffffff;\r\n\tfont-family: 'Arial';\r\n\tfont-style: normal;\r\n\tfont-weight: 400;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n\ttext-transform: capitalize;\r\n\tcolor: #027ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n}\r\n\r\n.edit-action-button {\r\n\tborder-radius: 5px;\r\n\theight: 30px !important;\r\n\tpadding: 7px 10px !important;\r\n}\r\n\r\nux-dialog-footer.edit-footer {\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tpadding: 0;\r\n}\r\n\r\n.edit-dialog-header .dialog-header-content {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.edit-dialog-header .qp-dialog-close {\r\n\theight: 16px;\r\n\twidth: 16px;\r\n\toverflow: hidden;\r\n\topacity: 0.6;\r\n\tcursor: pointer;\r\n}\r\n\r\n.edit-dialog-header .qp-dialog-close svg {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n\r\n.edit-dialog-header .qp-dialog-close:hover {\r\n\t\topacity: 1;\r\n}\r\n\r\n\r\n.edit--text {\r\n\tfont-family: 'Arial';\r\n\tfont-style: normal;\r\n}\r\n\r\n.edit--text-l {\r\n\tfont-weight: 700;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n}\r\n\r\n.edit--text-m {\r\n\tfont-weight: 400;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n}\r\n\r\n.edit--text-s {\r\n\tfont-weight: 400;\r\n\tfont-size: 12px;\r\n\tline-height: 14px;\r\n}\r\n\r\n.edit-view {\r\n\tpadding: 8px 17px 8px 0;\r\n}\r\n\r\n.edit--view-name {\r\n\tcolor: #1B1B1B;\r\n}\r\n\r\n.edit--view-id {\r\n\tcolor: #808080;\r\n}\r\n\r\n.edit-field--searcher {\r\n\tborder: 1px solid rgba(0, 0, 0, 0.16);\r\n\theight: 32px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tborder-radius: 6px;\r\n\tpadding-left: 5px;\r\n}\r\n\r\n.edit-field--searcher input {\r\n\tborder: 0;\r\n\tflex: 1;\r\n}\r\n\r\n.edit-field--searcher input::placeholder {\r\n\tfont-style: normal;\r\n\tfont-family: 'Arial';\r\n\tfont-weight: 400;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n\tcolor: #1B1B1B;\r\n\topacity: 0.3;\r\n}\r\n\r\n.edit-field--searcher--focus {\r\n\tbox-shadow: inset 0 0 0 2px #027ACC;\r\n\tbox-shadow: inset 0 0 0 2px var(--primary-color, #007ACC);\r\n}\r\n\r\n.edit-field--searcher .control-icon {\r\n\twidth: 32px;\r\n\tjustify-content: center;\r\n\tdisplay: flex;\r\n}\r\n",""]),e.exports=i},"controls/dialog/edit-dialog-base/qp-edit-element.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'.edit-element {\r\n\tpadding: 8px 0px;\r\n\tdisplay: flex;\r\n\tuser-select: none;\r\n\toutline: 0;\r\n\tcursor: grab;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.edit-element--parent {\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.edit-element--group {\r\n\tdisplay: flex;\r\n}\r\n\r\n.edit-element--toolbar {\r\n\tpadding: 0 8px 0 0;\r\n}\r\n\r\n.edit-element--active {\r\n\tbackground-color: #D7EFFF;\r\n}\r\n\r\n\r\n.edit--element-name {\r\n\tcolor: #000000;\r\n\tmax-width: 300px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n}\r\n\r\n.edit--element-id {\r\n\tcolor: #808080;\r\n\tmax-width: 300px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n}\r\n\r\n.edit-element-icon--container {\r\n    width: 24px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\tcursor: pointer;\r\n}\r\n\r\n.edit-element-icon {\r\n    width: 16px;\r\n    height: 16px;\r\n\tdisplay: block;\r\n    cursor: pointer;\r\n}\r\n\r\n.edit-element-icon:not(.edit-element-icon--disabled) svg {\r\n    fill: black;\r\n\tcolor: black;\r\n}\r\n\r\n.edit-element-icon--disabled svg {\r\n    fill: #a2aeba;\r\n\tcolor: #a2aeba;\r\n}\r\n\r\n.edit-element-content {\r\n\tpointer-events: none;\r\n}\r\n\r\n.edit-element-dropzone {\r\n\theight: 4px;\r\n\twidth: 100%;\r\n\tbackground-color: #027ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tborder-radius: 2px;\r\n\topacity: 0.6;\r\n\tposition: absolute;\r\n\tanimation: expand-height .2s;\r\n}\r\n\r\n@keyframes expand-height {\r\n\tfrom {\r\n\t\theight: 0;\r\n\t}\r\n\tto {\r\n\t\theight: 4px;\r\n\t}\r\n}\r\n\r\n.edit-element-container {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.edit-element-container--reverse {\r\n\tdisplay: flex;\r\n\tflex-direction: column-reverse;\r\n}\r\n\r\n.edit--element-name.req-l:after {\r\n\tcontent: "*";\r\n\tfont-size: 15px;\r\n\tpadding-left: 5px;\r\n}\r\n',""]),e.exports=i},"controls/dialog/informer/qp-informer.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"\r\n.qp-informer-rack {\r\n\twidth: 0px;\r\n\theight: 0px;\r\n\tbackground: red;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: flex-end;\r\n}\r\n\r\n.qp-infromer {\r\n\tposition: relative;\r\n\tz-index: 30000;\r\n\twidth: 310px;\r\n\tpadding: 17px 33px 17px 43px;\r\n\tmargin-bottom: 12px;\r\n\tfont-size: 14px;\r\n\tfont-weight: 400;\r\n\tline-height: 16px;\r\n\ttop: 10px;\r\n\tright: 10px;\r\n\tbackground: white;\r\n\tbox-shadow: 0px 0px 30px rgba(0, 0, 0, 0.35);\r\n\toverflow-wrap: break-word;\r\n\tborder-radius: 5px;\r\n}\r\n\r\n.qp-infromer {\r\n\tanimation-name: scale;\r\n\tanimation-iteration-count: 1;\r\n\tanimation-duration: .2s;\r\n\tanimation-timing-function: cubic-bezier(.23,.86,.31,1.22);\r\n}\r\n\r\n.qp-infromer.qp-closing {\r\n\ttransform: scale(0);\r\n\ttransition: transform .2s cubic-bezier(.53,-0.29,.37,.52);\r\n}\r\n\r\n\r\n.qp-infromer.qp-status-error {\r\n\tborder-left: 5px solid var(--qp-error-color);\r\n}\r\n.qp-infromer.qp-status-info {\r\n\tborder-left: 5px solid var(--qp-success-color);\r\n}\r\n.qp-infromer.qp-status-warning {\r\n\tborder-left: 5px solid var(--qp-warning-color);\r\n}\r\n\r\n.qp-infromer.qp-status-warning svg {\r\n\tfill: var(--qp-warning-color);\r\n}\r\n\r\n.qp-infromer .qp-close-icon {\r\n\tposition: absolute;\r\n\tright: 12px;\r\n\ttop: 12px;\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n\tcursor: pointer;\r\n}\r\n\r\n@keyframes scale {\r\n\t0% {transform: scale(0)}\r\n\t100% {transform: scale(1)}\r\n}\r\n\r\n.qp-infromer .qp-status-icon {\r\n\tposition: absolute;\r\n\tleft: 10px;\r\n\ttop: 14px;\r\n\twidth: 22px;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-infromer.qp-status-info .qp-status-icon svg {\r\n\tfill: var(--qp-success-color);\r\n}\r\n\r\n.qp-infromer.qp-status-error .qp-status-icon svg {\r\n\tfill: none;\r\n\tcolor: var(--qp-error-color);\r\n}\r\n\r\n.fatal-error-box {\r\n\tposition: absolute;\r\n\tz-index: 100000;\r\n\ttop: 20px;\r\n\tleft: 20px;\r\n\tmin-height: 50px;\r\n\tbackground: #fff;\r\n\tpadding: 20px;\r\n\tborder-radius: 5px;\r\n\tborder-left: 5px solid var(--qp-error-color);\r\n\tbox-shadow: 0px 0px 30px rgba(0, 0, 0, 0.35);\r\n\tbackground-color: #FFF0F0;\r\n}\r\n",""]),e.exports=i},"controls/dialog/long-run/qp-long-run.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'/* for backward compatibility only */\r\nqp-long-run.progressButton {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-lr {\r\n\tposition: absolute;\r\n\tz-index: 6000;\r\n\twidth: 223px;\r\n\tpadding: 17px 40px 17px 42px;\r\n\tfont-size: 14px;\r\n\tfont-weight: normal;\r\n\ttop: 10px;\r\n\tright: 10px;\r\n\tbackground: white;\r\n\tbox-shadow: 0px 0px 30px rgba(0, 0, 0, 0.35);\r\n\toverflow-wrap: break-word;\r\n\tbox-sizing: content-box;\r\n\tborder-radius: 5px;\r\n}\r\n\r\n.qp-lr {\r\n\tanimation-name: scale;\r\n\tanimation-iteration-count: 1;\r\n\tanimation-duration: .2s;\r\n\tanimation-timing-function: cubic-bezier(.23,.86,.31,1.22);\r\n}\r\n\r\n.qp-lr.qp-closing {\r\n\ttransform: scale(0);\r\n\ttransition: transform .2s cubic-bezier(.53,-0.29,.37,.52);\r\n}\r\n\r\n\r\n.qp-lr.qp-status-aborted {\r\n\tborder-left: 5px solid var(--qp-error-color);\r\n}\r\n.qp-lr.qp-status-completed {\r\n\tborder-left: 5px solid var(--qp-success-color);\r\n}\r\n.qp-lr.qp-status-inprocess {\r\n\tborder-left: 5px solid var(--qp-warning-color);\r\n\tpadding-bottom: 58px;\r\n}\r\n.qp-lr.qp-status-completedwithwarning {\r\n\tborder-left: 5px solid var(--qp-warning-color);\r\n}\r\n\r\n.qp-lr .qp-lr-timer {\r\n\tcolor: #9F9F9F;\r\n}\r\n\r\n.qp-lr .qp-lr-cancel {\r\n\tposition: absolute;\r\n\tbottom: 15px;\r\n\tright: 15px;\r\n\tpadding: 5px 12px;\r\n\theight: 26px;\r\n\tbackground: #ECEDF0;\r\n\tfont-weight: 500;\r\n\tfont-size: 13px;\r\n\tborder-radius: 5px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-lr .qp-lr-cancel:hover:after {\r\n\tbackground-color: rgba(0, 0, 0, 0.1);\r\n\tcontent: "";\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n}\r\n\r\n.qp-lr .qp-close-icon {\r\n\tposition: absolute;\r\n\tright: 12px;\r\n\ttop: 12px;\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-lr .qp-close-icon:hover {\r\n\tcolor: #000;\r\n}\r\n\r\n@keyframes rotate {\r\n  25%   {transform: rotate(90deg);}\r\n  50%  {transform: rotate(180deg);}\r\n  75%  {transform: rotate(270deg);}\r\n  100% {transform: rotate(360deg);}\r\n}\r\n\r\n@keyframes scale {\r\n\t0% {transform: scale(0)}\r\n\t100% {transform: scale(1)}\r\n}\r\n\r\n.qp-lr.qp-status-inprocess .qp-status-icon {\r\n\tanimation-name: rotate;\r\n\tanimation-iteration-count: infinite;\r\n\tanimation-duration: 1s;\r\n\tanimation-timing-function: linear;\r\n}\r\n\r\n.qp-lr .qp-status-icon {\r\n\tposition: absolute;\r\n\tleft: 10px;\r\n\ttop: 14px;\r\n\twidth: 22px;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-lr .qp-status-icon svg {\r\n\tfill: #333333;\r\n}\r\n\r\n.qp-lr.qp-status-inprocess .qp-status-icon {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tleft: 13px;\r\n\ttop: 16px;\r\n}\r\n\r\n.qp-lr.qp-status-completed .qp-status-icon svg {\r\n\tfill: var(--qp-success-color);\r\n}\r\n\r\n.qp-lr.qp-status-aborted .qp-status-icon svg {\r\n\tfill: none;\r\n\tcolor: var(--qp-error-color);\r\n}\r\n\r\n.qp-lr.qp-status-completedwithwarning .qp-status-icon {\r\n\ttop: 15px;\r\n}\r\n\r\n.qp-lr.qp-status-completedwithwarning .qp-status-icon svg {\r\n\tfill: var(--qp-warning-color);\r\n}\r\n\r\n.qp-lr-message {\r\n\twhite-space: pre-wrap;\r\n}\r\n',""]),e.exports=i},"controls/dialog/quick-processing/qp-quick-processing.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-status-dialog {\r\n\tpointer-events: none;\r\n}\r\n\r\n.qp-status-dialog .qp-dialog {\r\n\tposition: absolute;\r\n\tleft: auto !important;\r\n\ttop: 10px !important;\r\n\tright: 10px;\r\n\tfont-size: 14px;\r\n\tborder-radius: 5px;\r\n\tborder-left-width: 5px;\r\n\tborder-left-style: solid;\r\n\ttransform: scale(0) !important;\r\n\ttransition: transform .2s cubic-bezier(0.23, 0.86, 0.31, 1.22);\r\n\tpointer-events: auto;\r\n}\r\n\r\n.qp-status-dialog .status-dialog-in-progress {\r\n\tborder-left-color: var(--qp-warning-color);\r\n}\r\n\r\n.qp-status-dialog .status-dialog-completed {\r\n\tborder-left-color: var(--qp-success-color);\r\n}\r\n\r\n.qp-status-dialog .status-dialog-aborted,\r\n.qp-status-dialog .status-dialog-not-completed {\r\n\tborder-left-color: var(--qp-error-color);\r\n}\r\n\r\n.qp-status-dialog.active .qp-dialog {\r\n\ttransform: scale(1) !important;\r\n}\r\n\r\n.qp-status-dialog:not(.active) .qp-dialog {\r\n\ttransition-timing-function: cubic-bezier(0.53, -0.29, 0.37, 0.52);\r\n}\r\n\r\n.qp-status-dialog .dialog .qp-dialog-header {\r\n\theight: 0;\r\n\tpadding: 0;\r\n\toverflow: visible;\r\n}\r\n\r\n.qp-status-dialog .dialog ux-dialog-body {\r\n\tpadding-left: 0;\r\n\tpadding-right: 5px;\r\n}\r\n\r\n.qp-status-dialog .qp-dialog-header-buttons {\r\n\ttop: 0;\r\n\tright: 5px;\r\n\tz-index: 5;\r\n}\r\n\r\n.qp-status-dialog .qp-dialog-close {\r\n\tmargin-left: 0;\r\n}\r\n\r\n.quick-processing__messages-list {\r\n\tmargin-bottom: 2px;\r\n\tposition: relative;\r\n}\r\n\r\n.quick-processing__messages-list:before {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\twidth: 2px;\r\n\theight: 100%;\r\n\tbackground: #D1D1D1;\r\n\tposition: absolute;\r\n\tleft: 9px;\r\n\ttop: 0;\r\n}\r\n\r\n.quick-processing__message {\r\n\tpadding-left: 32px;\r\n\tpadding-top: 4px;\r\n\tmin-height: 23px;\r\n\tposition: relative;\r\n}\r\n\r\n.animate-expand.au-enter {\r\n\tmin-height: 0;\r\n\tmax-height: 0;\r\n\topacity: 0;\r\n\ttransform: scaleY(0);\r\n\ttransform-origin: 0 0;\r\n}\r\n\r\n.animate-expand.au-enter-active {\r\n\tanimation: expand .2s ease;\r\n}\r\n\r\n.animate-expand.au-entered {\r\n\tmax-height: none;\r\n}\r\n\r\n@keyframes expand {\r\n\t0% {\r\n\t\tmax-height: 0;\r\n\t\topacity: 0;\r\n\t\ttransform: scaleY(0);\r\n\t\ttransform-origin: 0 0;\r\n\t}\r\n\t100% {\r\n\t\tmax-height: 200px;\r\n\t\topacity: 1;\r\n\t\ttransform: scaleY(1);\r\n\t\ttransform-origin: 0 0;\r\n\t}\r\n}\r\n\r\n.quick-processing__message:first-child {\r\n\tpadding-right: 25px;\r\n}\r\n\r\n.quick-processing__message-icon {\r\n\twidth: 22px;\r\n\theight: 22px;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tz-index: 2;\r\n}\r\n\r\n.quick-processing__message-icon:before {\r\n\tcontent: '';\r\n\twidth: calc(100% + 6px);\r\n\theight: calc(100% + 6px);\r\n\tposition: absolute;\r\n\tleft: -3px;\r\n\ttop: -3px;\r\n\tbackground: white;\r\n}\r\n\r\n.quick-processing__message + .quick-processing__message {\r\n\tmargin-top: 18px;\r\n}\r\n\r\n.quick-processing__message:last-child:before {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\twidth: 20px;\r\n\theight: calc(100% - 20px);\r\n\tbackground: white;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n}\r\n\r\n.quick-processing__message-part--link {\r\n\tcolor: var(--qp-primary-color);\r\n\ttext-decoration: none;\r\n}\r\n\r\n.quick-processing__message-icon svg {\r\n\tposition: relative;\r\n\tz-index: 2;\r\n}\r\n\r\n.quick-processing__message--success .quick-processing__message-icon svg {\r\n\tfill: var(--qp-success-color);\r\n}\r\n\r\n.quick-processing__message--error .quick-processing__message-icon svg {\r\n\tcolor: var(--qp-error-color);\r\n}\r\n\r\n.quick-processing__message-error {\r\n\tcolor: var(--qp-error-color);\r\n}\r\n\r\n.quick-processing__message-icon--spinner {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tleft: 2px;\r\n\ttop: 3px;\r\n}\r\n\r\n.quick-processing__message-icon--spinner:before {\r\n\theight: calc(100% + 8px);\r\n\ttop: -5px;\r\n}\r\n\r\n.quick-processing__message-icon--spinner svg {\r\n\tanimation-name: rotate;\r\n\tanimation-iteration-count: infinite;\r\n\tanimation-duration: 1s;\r\n\tanimation-timing-function: linear;\r\n}\r\n\r\n@keyframes rotate {\r\n\t25% {\r\n\t\ttransform: rotate(90deg);\r\n\t}\r\n\t50% {\r\n\t\ttransform: rotate(180deg);\r\n\t}\r\n\t75% {\r\n\t\ttransform: rotate(270deg);\r\n\t}\r\n\t100% {\r\n\t\ttransform: rotate(360deg);\r\n\t}\r\n}\r\n\r\n.quick-processing__timer {\r\n\tcolor: #9F9F9F;\r\n}\r\n\r\n.quick-processing__footer {\r\n\tmargin-top: 15px;\r\n\ttext-align: right;\r\n\tpadding-right: 5px;\r\n}\r\n\r\n.quick-processing__footer-button .qp-button {\r\n\theight: 26px;\r\n\tpadding-left: 12px;\r\n\tpadding-right: 12px;\r\n\tfont-size: 13px;\r\n}\r\n",""]),e.exports=i},"controls/simple/branch-selector/qp-branch-selector.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-branch-selector,\r\n.qp-branch-selector * {\r\n\tbox-sizing: border-box;\r\n}\r\n\r\nqp-branch-selector {\r\n\tdisplay: block;\r\n}\r\n\r\nqp-branch-selector qp-loader-indicator {\r\n\tpointer-events: none;\r\n}\r\n\r\n.branch-selector__editor input {\r\n\tcolor: transparent;\r\n\tmargin: 1px;\r\n\tborder: 0;\r\n\tflex-grow: 1;\r\n\tpadding: 0 3px 0 7px;\r\n\twidth: 0;\r\n\tborder-radius: 6px;\r\n}\r\n.branch-selector__editor.focus input {\r\n\tcolor: initial;\r\n}\r\n\r\n.branch-selector__editor {\r\n\tbackground-color: #fff;\r\n\tdisplay:flex;\r\n\tpadding:0;\r\n\tposition:relative;\r\n\tdirection:ltr;\r\n\tborder: #D2D4D7 1px solid;\r\n  margin-bottom: 0px;\r\n  margin-top: 0px;\r\n  box-sizing: border-box;\r\n  height: var(--qp-input-height);\r\n\tborder-radius: 6px;\r\n  -webkit-box-sizing: border-box;\r\n  -moz-box-sizing: border-box;\r\n}\r\n.branch-selector__editor.focus {\r\n  border: 1px solid #007ACC;\r\n  border: 1px solid var(--primary-color, #007ACC);\r\n  box-shadow: inset 0px 0px 0px 1px #007ACC;\r\n  box-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.branch-selector__editor.focus .branch-selector__display-text {\r\n\tdisplay: none;\r\n}\r\n\r\n.branch-selector__display-text {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 18px;\r\n\theight: 100%;\r\n\tpointer-events: none;\r\n\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tpadding: 0 0 0 8px;\r\n\tline-height: 30px;\r\n\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n.rtl .branch-selector__display-text {\r\n\tright:0;\r\n\tleft:26px;\r\n\tpadding: 0 6px 0 4px;\r\n}\r\n\r\n.branch-selector__button {\r\n\tbackground: #fff;\r\n\tborder: 0;\r\n\twidth: 24px;\r\n\tcursor: pointer;\r\n\tmargin: 1px;\r\n\tpadding: 4px 3px;\r\n\tborder-radius: 6px;\r\n}\r\n.branch-selector__button svg {\r\n\tcolor: #808080;\r\n\tfill: #808080;\r\n}\r\n.branch-selector__button:hover svg {\r\n\tcolor: #000;\r\n\tfill: #000;\r\n}\r\n\r\n.edit-mode .branch-selector__display-text {\r\n\tvisibility: hidden;\r\n}\r\n\r\n.edit-mode input {\r\n\tcolor: initial;\r\n}\r\n\r\n.branch-selector__branch-tree {\r\n\twidth: auto;\r\n\toverflow-y: auto;\r\n\tposition: absolute;\r\n\tz-index: 10000;\r\n\tbackground: white;\r\n\tbox-shadow: 3px 3px 4px rgb(0 0 0 / 64%);\r\n\tmax-height: 210px;\r\n\tmax-width: 610px;\r\n}\r\n\r\n.branch-selector__node {\r\n\tdisplay: block;\r\n\tmin-height: 18px;\r\n\tpadding: 5px 6px;\r\n\tfont-size: 13px;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\tposition: relative;\r\n\tbox-sizing: border-box;\r\n\theight: 24px;\r\n}\r\n\r\n.branch-selector__node.selected {\r\n  color: #007ACC;\r\n  color: var(--primary-color, #007ACC);\r\n}\r\n\r\n.branch-selector__node.highlight {\r\n  color: white;\r\n  background-color: #007ACC;\r\n  background-color: var(--primary-color, #007ACC);\r\n}\r\n\r\n@media screen and (-ms-high-contrast: active) {\r\n  .branch-selector__node.highlight {\r\n    background-color: white;\r\n    color: black;\r\n  }\r\n}\r\n\r\n.branch-selector__node.nesting-level-0 {\r\n\tpadding-left: 20px;\r\n}\r\n\r\n.branch-selector__node.nesting-level-0 {\r\n\tpadding-left: 20px;\r\n}\r\n.branch-selector__node.nesting-level-1 {\r\n\tpadding-left: 40px;\r\n}\r\n\r\n.branch-selector__node.nesting-level-2 {\r\n\tpadding-left: 60px;\r\n}\r\n\r\n\r\n.rtl .branch-selector__node.nesting-level-0 {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 20px;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-0 {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 20px;\r\n}\r\n.rtl .branch-selector__node.nesting-level-1 {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 40px;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-2 {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 60px;\r\n}\r\n\r\n.branch-selector__group {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.branch-selector__group .control-icon {\r\n\tfont-weight: normal;\r\n\t/* font-size: 15px; */\r\n}\r\n\r\n/* .branch-selector__node.nesting-level-1::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tleft: 20px;\r\n\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n} */\r\n\r\n.branch-selector__node.nesting-level-1+.branch-selector__node.nesting-level-2::before {\r\n\theight: 60%;\r\n\ttop: -15%;\r\n}\r\n\r\n.branch-selector__node.nesting-level-2::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tleft: 45px;\r\n\t/* left: 0;//2.35em; */\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n.branch-selector__node.nesting-level-1::before {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tleft: 25px;\r\n\t/* left: 0;//2.35em; */\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-2::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tright: 45px;\r\n\t/* left: 0;//2.35em; */\r\n\tleft:unset;\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-left: 0;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-right: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-1::before {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tright: 25px;\r\n\t/* left: 0;//2.35em; */\r\n\tleft:unset;\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-left: 0;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-right: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n\r\n.branch-selector__node.nesting-level-2:not(.parent-last-child)::after {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tleft: 25px;\r\n\t/* left: 0;//2.35em; */\r\n\ttop: -25%;\r\n\theight: 100%;\r\n\t/* border-bottom: 1px dotted #bbb; */\r\n\tborder-left: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-2:not(.parent-last-child)::after {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tright: 25px;\r\n\t/* left: 0;//2.35em; */\r\n\tleft:unset;\r\n\ttop: -25%;\r\n\theight: 100%;\r\n\t/* border-bottom: 1px dotted #bbb; */\r\n\tborder-right: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n\r\n.branch-selector__node.nesting-level-0+.branch-selector__node.nesting-level-1::before {\r\n\theight: 60%;\r\n\ttop: -15%;\r\n}\r\n\r\n.branch-selector__node qp-icon i.ac {\r\n\tfont-size: 16px;\r\n}\r\n\r\n.branch-selector__node .group-icon {\r\n\tposition: absolute;\r\n\r\n\twidth: 10px;\r\n\tleft: 6px;\r\n\ttop: 3px;\r\n\t/* left: 0;//2.35em; */\r\n\t/* background-color: white; */\r\n\tbackground-color: inherit;\r\n\r\n\r\n}\r\n.rtl .branch-selector__node .group-icon {\r\n\tleft:unset;\r\n\tright:6px;\r\n}\r\n\r\n.branch-selector__node .company-icon {\r\n\tposition: absolute;\r\n\tbackground-color: inherit;\r\n\twidth: 14px;\r\n\theight: 16px;\r\n\tleft: 19px;\r\n\ttop: 4px;\r\n}\r\n\r\n.rtl .branch-selector__node .company-icon {\r\n\tleft:unset;\r\n\tright:19px;\r\n}\r\n\r\n\r\n.branch-selector__node.nesting-level-0 .company-icon {\r\n\tleft: 4px;\r\n\ttop: 4px;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-0 .company-icon{\r\n\tleft:unset;\r\n\tright:4px;\r\n}\r\n\r\n.branch-selector__node.can-select {\r\n\tcursor: pointer;\r\n}\r\n\r\n.branch-selector__node-organization {\r\n\tmargin: 2px 0;\r\n}\r\n\r\n.branch-selector__node-branch {\r\n\r\n\tpadding-left: 30px;\r\n\tposition: relative;\r\n}\r\n\r\n.rtl .branch-selector__node-branch {\r\n\r\n\tpadding-left: unset;\r\n\tpadding-right: 30px;\r\n\tposition: relative;\r\n}\r\n\r\n\r\n.branch-selector__node-branch::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 15px;\r\n\tleft: 10px;\r\n\t/* left: 0;//2.35em; */\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n}\r\n\r\n.branch-selector__node-organization+.branch-selector__node-branch::before {\r\n\theight: 60%;\r\n\ttop: -15%;\r\n}\r\n\r\nqp-tooltip .tooltip-level {\r\n\tmargin: 5px 0;\r\n\tpadding: 0 2px;\r\n}\r\n\r\nqp-tooltip .branch-level-1 {\r\n\tposition: relative;\r\n\tpadding-left: 15px;\r\n}\r\n\r\nqp-tooltip .branch-level-2 {\r\n\tposition: relative;\r\n\tpadding-left: 30px;\r\n}\r\n\r\n\r\nqp-tooltip .branch-level-1::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 8px;\r\n\tleft: 4px;\r\n\t/* left: 0;//2.35em; */\r\n\theight: 60%;\r\n\ttop: -15%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n}\r\n\r\nqp-tooltip .branch-level-2::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 8px;\r\n\tleft: 19px;\r\n\t/* left: 0;//2.35em; */\r\n\theight: 60%;\r\n\ttop: -15%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n}\r\n",""]),e.exports=i},"controls/simple/calendar/qp-calendar.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'.qp-calendar select.year-select {\r\n\tscrollbar-width: thin;\r\n\tscrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n\tposition: absolute;\r\n\twidth: 80px;\r\n}\r\n@supports (-moz-appearance:none) {\r\n\t.qp-calendar select.year-select{\r\n\t\twidth: 80px;\r\n\t}\r\n\t.qp-calendar select.month-select{\r\n\t\twidth: 100px;\r\n\t}\r\n}\r\n.qp-calendar select.year-select::-webkit-scrollbar {\r\n\twidth: 19px;\r\n}\r\n.qp-calendar select.year-select::-webkit-scrollbar-thumb {\r\n    background: rgba(0, 0, 0, 0.15);\r\n    border-radius: 10px;\r\n    width: 3px;\r\n    border: 5px solid white;\r\n}\r\n.year-select.closed {\r\n\ttop: 0;\r\n}\r\n.year-select.opened {\r\n\ttop: 27px;\r\n\theight: auto;\r\n}\r\n\r\n.calendar {\r\n\tbackground-color: rgba(245, 247, 249, 1);\r\n\tborder-radius: 10px;\r\n\tpadding: 20px;\r\n\tbox-shadow: 0px 0px 16px 0px rgba(115, 115, 115, 0.5);\r\n }\r\n\r\n .calendarMT {\r\n\tpadding: 4px 4px;\r\n\tfont-size: 13px;\r\n }\r\n\r\n .calendarMT select {\r\n\tpadding: 0 10px;\r\n\tborder: 1px solid rgba(0, 0, 0, 0.15);\r\n\tborder-radius: 6px;\r\n\theight: 28px;\r\n\tappearance: none;\r\n\tcursor: pointer;\r\n}\r\n.calendarMT select::-ms-expand {\r\n\tdisplay: none;\r\n}\r\n\r\n\r\n.qp-calendar .month-year-header {\r\n\tdisplay: flex;\r\n\tgap: 8px;\r\n\tjustify-content: center;\r\n}\r\n\r\n.qp-calendar span.month-select {\r\n\tposition: relative;\r\n}\r\n\r\n.qp-calendar span.year-select {\r\n\tposition: relative;\r\n\tdisplay: inline-block;\r\n\twidth: 80px;\r\n}\r\n\r\n.qp-calendar span.month-select > qp-icon,\r\n.qp-calendar span.year-select > qp-icon {\r\n\tposition: absolute;\r\n\ttop: 7px;\r\n\tright: 5px;\r\n\tz-index: 1;\r\n\tpointer-events: none;\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.qp-calendar  span.month-select:hover > qp-icon,\r\n.qp-calendar  span.year-select:hover > qp-icon {\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-calendar select.month-select {\r\n\twidth: 100px;\r\n}\r\n\r\n /* .calendarMT select + select {\r\n\tmargin-left: 8px;\r\n } */\r\n\r\n.calendarNP {\r\n\twidth: 16px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.calendarNP > qp-icon {\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n}\r\n.calendarNP:hover > qp-icon {\r\n\tcolor: #000;\r\n}\r\n\r\n .calendarF {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tpadding: 8px 0 0 0;\r\n\ttext-align: center;\r\n }\r\n\r\n.calendarD {\r\n\ttext-align: right;\r\n\tvertical-align: middle;\r\n\tpadding: 8px 12px;\r\n\tbackground: white;\r\n\tfont-size: 13px;\r\n}\r\n\r\n.calendarD.upperLeft {\r\n\tborder-radius: 8px 0 0 0;\r\n}\r\n.calendarD.upperRight {\r\n\tborder-radius: 0 8px 0 0 ;\r\n}\r\n.calendarD.bottomLeft {\r\n\tborder-radius: 0 0 0 8px;\r\n}\r\n.calendarD.bottomRight {\r\n\tborder-radius: 0 0 8px 0;\r\n}\r\n\r\n.calendarD:hover {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #FFFFFF;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n .calendar table[id$="customItems"] .calendarD {\r\n\ttext-align: left;\r\n\tcursor: pointer;\r\n\tpadding: 3px 10px;\r\n }\r\n\r\n .calendarWE {\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n }\r\n\r\n .calendarTD {\r\n\toutline: 1px solid #007ACC;\r\n\toutline: 1px solid var(--primary-color, #007ACC);\r\n\tpadding: 4px 7px;\r\n\tborder-radius: 6px;\r\n }\r\n\r\n .calendarOMD {\r\n\tcolor: RGBA(0, 0, 0, 0.26);\r\n }\r\n\r\n .calendarSD {\r\n\tbackground-color: #D2D4D7;\r\n\tborder-radius: 6px;\r\n }\r\n\r\n .calendarDH {\r\n\ttext-align: center;\r\n\tcolor: rgba(0, 0, 0, 0.64);\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tpadding: 6px 3px;\r\n }\r\n\r\n .calendarWN, .calendarWN:hover {\r\n\tcolor: rgba(0, 0, 0, 0.64);\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tfont-size: 10px;\r\n\tpadding: 8px 10px;\r\n\tline-height: 16px;\r\n }\r\n\r\n.qp-calendar .custom-items {\r\n\tvertical-align: top;\r\n\tpadding-left: 20px;\r\n }\r\n\r\n.qp-calendar .custom-items > table {\r\n\tbackground: white;\r\n\tborder-radius: 10px;\r\n\tborder-spacing: 0px 2px;\r\n}\r\n',""]),e.exports=i},"controls/simple/check-box/qp-check-box.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'.qp-checkbox-default {\r\n\tdisplay: inline-block;\r\n\theight: var(--qp-input-height);\r\n\twidth: 100%;\r\n\twhite-space: nowrap;\r\n\r\n\t/* overflow: hidden;\r\n\ttext-overflow: ellipsis; */\r\n}\r\n\r\n.qp-checkbox-default input {\r\n\tmargin: 0 3px 0 0;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.qp-checkbox-default label {\r\n\tline-height: var(--qp-input-height);\r\n\tvertical-align: middle;\r\n}\r\n\r\n.qp-checkbox-button .qp-checkbox-icon {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-checkbox-button .qp-checkbox-label {\r\n\tdisplay: inline;\r\n}\r\n\r\n.qp-checkbox label {\r\n\tdisplay: inline-block;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twidth: calc( 100% - 20px );\r\n}\r\n\r\n.qp-checkbox input[type="checkbox"] {\r\n\tmargin-bottom: 0px;\r\n\tmargin-left: 0px;\r\n\theight: 14px;\r\n\twidth: 14px;\r\n\tposition: relative;\r\n}\r\n\r\n/* input[type="checkbox"]:focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: 0px 0px 4px 0px #007ACC;\r\n\tbox-shadow: 0px 0px 4px 0px var(--primary-color, #007ACC);\r\n} */\r\n\r\n.qp-checkbox input[type="checkbox"]:focus::after {\r\n\tcontent: "";\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\twidth: 18px;\r\n\theight: 18px;\r\n\tbackground: transparent;\r\n\tz-index: 1;\r\n\tborder: 2px solid rgba(2, 122, 204, 0.4);\r\n\ttop: -2px;\r\n\tleft: -2px;\r\n\tborder-radius: 4px;\r\n}\r\n',""]),e.exports=i},"controls/simple/color-picker/qp-color-palette.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-color-palette {\r\n\t--control-hover-background: rgba(0, 0, 0, 0.07);\r\n\t--control-border-color: rgba(0, 0, 0, 0.09);\r\n\t--control-border-radius: 6px;\r\n\t--control-shadow-color: rgba(115, 115, 115, 0.8);\r\n\t--control-font-color: #1b1b1b;\r\n\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 8px;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-row {\r\n\tdisplay: flex;\r\n\tgap: 2px;\r\n\tmargin-bottom: 2px;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-sample {\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tborder: 1px solid var(--control-border-color);\r\n\tborder-radius: 3px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-sample.selected {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-sample svg {\r\n\twidth: 15px;\r\n\theight: 15px;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-sample:hover {\r\n\t/* box-shadow: 0px 0px 8px var(--control-shadow-color); */\r\n}\r\n\r\n.qp-color-palette .qp-color-reset {\r\n\tborder: 0px;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tbackground-color: inherit;\r\n\tgap: 7.5px;\r\n\tcursor: pointer;\r\n\theight: var(--input-height, 32px);\r\n\talign-items: center;\r\n\tpadding: 0px 9.5px;\r\n\tborder-radius: var(--control-border-radius);\r\n\tcolor: var(--control-font-color);\r\n}\r\n\r\n.qp-color-palette .qp-color-reset:hover {\r\n\tbackground-color: var(--control-hover-background);\r\n}\r\n\r\n.qp-color-palette .qp-color-reset .qp-color-reset qp-icon {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-color-palette .qp-color-sample-add {\r\n\tdisplay: flex;\r\n\theight: 20px;\r\n\twidth: 20px;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tcursor: pointer;\r\n\tcolor: var(--control-font-color);\r\n}\r\n\r\n.qp-color-palette .qp-color-sample-add svg {\r\n\twidth: 15px;\r\n\theight: 15px;\r\n}\r\n",""]),e.exports=i},"controls/simple/color-picker/qp-menu-color-picker.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-menu-color-picker, .qp-menu-color-picker, qp-menu-color-picker > div {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n}\r\n\r\n.qp-menu-color-picker {\r\n\tmargin: 0;\r\n\tline-height: 24px;\r\n\tvertical-align: bottom;\r\n\tcursor: pointer;\r\n\twhite-space: nowrap;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.qp-menu-color-picker .qp-menu-color-picker-opener {\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\tbackground: transparent;\r\n\tvertical-align: middle;\r\n\tborder: none;\r\n\twidth: 16px;\r\n\tmargin: 0px;\r\n\tpadding: 0px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-menu-color-picker.qp-selected,\r\n.qp-menu-color-picker:hover {\r\n\tbackground-color: rgba(0, 0, 0, 0.06);\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.qp-menu-color-picker .qp-menu-color-picker-button {\r\n\tbackground: transparent;\r\n\tborder-width: 0 1px 0 0;\r\n\tborder-style: solid;\r\n\tborder-right-color: transparent;\r\n\tpadding: 5px 2px 5px 10px;\r\n\theight: 22px;\r\n\tline-height: 22px;\r\n\tcursor: pointer;\r\n\tbox-sizing: content-box;\r\n\tvertical-align: middle;\r\n\topacity: 0.87;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.qp-menu-color-picker.qp-selected .qp-menu-color-picker-button.qp-menu-color-picker-action-button,\r\n.qp-menu-color-picker:hover .qp-menu-color-picker-button.qp-menu-color-picker-action-button {\r\n\tborder-right-color: #fff;\r\n}\r\n\r\n.qp-menu-color-picker.disabled {\r\n\tcursor: default;\r\n\topacity: 0.26;\r\n}\r\n\r\n.qp-menu-color-picker-options {\r\n\tcolor: #000;\r\n\tfill: #000;\r\n\tbackground-color: white;\r\n\tmax-height: 80vh;\r\n\toverflow-y: auto; /* for FF */\r\n\toverflow-y: overlay;\r\n\tmin-width: 50px !important;\r\n\tbox-shadow: 0px 0px 16px rgba(115, 115, 115, 0.7);\r\n\tbox-sizing: border-box;\r\n\tpadding: 0;\r\n\ttext-transform: none;\r\n\tscrollbar-width: thin;\r\n\tscrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n\tborder-radius: 6px;\r\n\tz-index: var(--zindex-dropdown, 20000);\r\n}\r\n\r\n.qp-menu-color-picker-container {\r\n\tpadding: 16px;\r\n\theight: unset;\r\n}\r\n\r\n.qp-menu-color-picker qp-hyper-icon,\r\n.qp-menu-color-picker-options qp-hyper-icon {\r\n\twidth: 16px;\r\n}\r\n",""]),e.exports=i},"controls/simple/date-editor/qp-datetime-edit.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-datetime__editor {\r\n\tbackground-color: #FFFFFF;\r\n\theight: var(--qp-input-height);\r\n\tposition: relative;\r\n\tcursor: default;\r\n\tborder: #D2D4D7 1px solid;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n .modern-ui .size-default .qp-datetime__editor {\r\n\tmax-width: 130px;\r\n}\r\n\r\n.qp-datetime__editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 18px;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-datetime__editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-datetime__editor input {\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tborder-width: 0px !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n\r\n\tborder: #D2D4D7 1px solid;\r\n\tpadding: 3px 8px;\r\n\tmargin-bottom: 0px;\r\n\tmargin-top: 0px;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n}\r\n\r\n.qp-datetime__editor .buttonsCont {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 0px;\r\n\theight: 100%;\r\n\tpadding-right: 8px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-datetime__editor .buttonsCont > qp-icon {\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-datetime__editor .buttonsCont > qp-icon svg {\r\n\tfill: #808080;\r\n\tcolor: #808080;\r\n}\r\n.qp-datetime__editor .buttonsCont:hover > qp-icon svg {\r\n\tfill: #000;\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-datetime__editor .center:before {\r\n\tcontent: '';\r\n\tdisplay: inline-block;\r\n\theight: 100%;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.qp-datetime__editor .sprite-icon {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n}\r\n\r\n.qp-datetime__editor .control-icon {\r\n\twidth: 14px;\r\n\theight: 15px;\r\n\tmargin-top: 2px;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.qp-datetime__editor .sprite-icon .control-icon-img {\r\n\tfont-family: 'FontAwesome' !important;\r\n\tspeak: none;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: 1;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\topacity: 0.64;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-datetime__editor .control-icon-img:before {\r\n\tcontent: \"\\e9e0\";\r\n}\r\n\r\n.qp-datetime__editor.ReadOnly {\r\n\tbackground-color: transparent;\r\n\tborder-top-color: transparent;\r\n\tborder-left-color: transparent;\r\n\tborder-right-color: transparent;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n\tborder-radius: 0;\r\n}\r\n\r\n.qp-datetime__editor.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.qp-datetime__calendar-overlay {\r\n\tposition:fixed;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 2000;\r\n}\r\n",""]),e.exports=i},"controls/simple/drop-down/qp-drop-down.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-drop-down,\r\n.qp-drop-down * {\r\n  box-sizing: border-box;\r\n}\r\n\r\nqp-drop-down {\r\n\tdisplay: block;\r\n\tborder: 0;\r\n}\r\n\r\nqp-drop-down.GridCellEditor div.drop-down__editor {\r\n\theight: 100%;\r\n\tbox-sizing: content-box;\r\n\twidth: 100%;\r\n}\r\n\r\n\r\n.drop-down__editor {\r\n\tbackground-color: #FFFFFF;\r\n\theight: var(--qp-input-height);\r\n\tposition: relative;\r\n\tcursor: default;\r\n\tborder: #D2D4D7 1px solid;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tfont-size: 14px;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.drop-down__editor.ReadOnly {\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n\tborder-radius: 0;\r\n}\r\n\r\n.drop-down__editor.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.drop-down__editor .drop-down__display-text.drop-down__invisible + span + span.drop-down__text {\r\n\tdisplay: inline-block;\r\n\tline-height: 16px;\r\n}\r\n\r\n.drop-down__editor .drop-down__text {\r\n\tvertical-align: middle;\r\n\tpadding: 4px 8px 4px 8px;\r\n\theight: 24px;\r\n\tborder-radius: 6px;\r\n\tdisplay: none;\r\n}\r\n\r\n/* TODO: REMOVE NEXT RULE !!!!*/\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='N'] {\r\n\tbackground-color: rgba(195, 231, 255, 1);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='H'] {\r\n\t\tbackground-color: rgba(228, 192, 0, 0.25);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='V'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='L'] {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.1);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='R'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='D'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='B'] {\r\n\t\tbackground-color: rgba(255, 208, 208, 0.6);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='C'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='S'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='I'] {\r\n\t\tbackground-color: rgba(200, 229, 190, 0.6);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='P'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='E'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='A'] {\r\n\t\tbackground-color: rgba(123, 97, 255, 0.2);\r\n}\r\n\r\n\r\n.drop-down__editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 24px;\r\n\theight: 100%;\r\n}\r\n\r\n.drop-down__editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\t/* text-overflow: ellipsis; */\r\n}\r\n\r\n.drop-down__editor .drop-down__text {\r\n\twidth: var(--control-editor-width, unset);\r\n\tbox-sizing: var(--control-editor-box-sizing, inherit);\r\n}\r\n\r\n.drop-down__editor .buttonsCont {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 0px;\r\n\theight: 100%;\r\n\tpadding-right: 8px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.drop-down__editor .buttonsCont > qp-icon {\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.drop-down__editor .buttonsCont > qp-icon svg {\r\n\tfill: #808080;\r\n\tcolor: #808080;\r\n}\r\n.drop-down__editor .buttonsCont:hover > qp-icon svg {\r\n\tfill: #000;\r\n\tcolor: #000;\r\n}\r\n\r\n.drop-down__editor .center:before {\r\n\tcontent: '';\r\n\tdisplay: inline-block;\r\n\theight: 100%;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.drop-down__editor .sprite-icon {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n}\r\n\r\n.drop-down__editor .control-icon {\r\n\twidth: 14px;\r\n\theight: 15px;\r\n\tmargin-top: 2px;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.drop-down__editor .sprite-icon .control-icon-img {\r\n\tfont-family: 'FontAwesome' !important;\r\n\tspeak: none;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: 1;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\topacity: 0.64;\r\n\tcursor: pointer;\r\n}\r\n\r\n.drop-down__editor .control-icon-img.control-DropDownN:before {\r\n\tcontent: \"\\e9e0\";\r\n}\r\n\r\n.drop-down__display-text {\r\n  pointer-events: none;\r\n\r\n  margin: 0;\r\n  border: 0;\r\n  padding: 0 4px 0 6px;\r\n  line-height: 24px;\r\n\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tpadding: 0px 4px 0px 6px;\r\n\tborder-width: 0px !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.drop-down__display-text.drop-down__invisible {\r\n\tposition: absolute;\r\n\ttop: -40px;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.drop-down__current-color {\r\n\theight: 14px;\r\n\twidth: 14px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tborder-radius: 4px;\r\n\tmargin: 0 5px 0 0;\r\n}\r\n\r\n.drop-down__current-image {\r\n\tmargin-right: 5px;\r\n\tfloat: none;\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tfont-size: 15px;\r\n}\r\n\r\n.drop-down__image {\r\n\tfloat: none;\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.drop_down__color {\r\n\theight: 14px;\r\n\twidth: 14px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tborder-radius: 4px;\r\n\tmargin: 2px;\r\n}\r\n\r\n.drop-down__option {\r\n\tmin-height: 1em;\r\n\tpadding: 2px 4px;\r\n\tvertical-align: middle;\r\n\ttext-align: left;\r\n\twhite-space: nowrap;\r\n\tcursor: default;\r\n}\r\n\r\n.drop-down__option.ddSelection {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\n.drop-down__option.ddDisabled {\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\topacity: 0.66 !important;\r\n\tpointer-events: none;\r\n}\r\n\r\n.drop-down__option.ddInfo {\r\n\tfont-style: italic;\r\n}\r\n\r\nqp-options .ddItemDisabled {\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\topacity: 0.26 !important;\r\n}\r\n\r\n",""]),e.exports=i},"controls/simple/external-viewer/qp-external-viewer.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-external-viewer {\r\n\tdisplay: block;\r\n}\r\n\r\n.external-viewer-placeholder {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\toutline: 0;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.external-viewer {\r\n\tdisplay: block;\r\n\tborder: none;\r\n\twidth: 100%;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\toutline: 0;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n}\r\n",""]),e.exports=i},"controls/simple/icon/qp-icon.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-icon {\r\n\tdisplay: block;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tcolor: #000000;\r\n}\r\n\r\nqp-icon img {\r\n\twidth: 100%;\r\n\tvertical-align: bottom;\r\n}\r\n\r\nqp-icon > svg {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tfill: #000000;\r\n}\r\n\r\nqp-hyper-icon svg {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\ndiv.qp-hyper-icon {\r\n\tdisplay: flex;\r\n}\r\n",""]),e.exports=i},"controls/simple/link-editor/qp-link-editor.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-link-editor {\r\n\theight: 24px;\r\n\tposition: relative;\r\n\tcursor: default;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n\tbackground: #fff;\r\n\tborder: #D2D4D7 1px solid;\r\n\tborder-radius: 6px;\r\n\theight: 32px;\r\n}\r\n\r\n.qp-link-editor.focus {\r\n\torder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.qp-link-editor.ReadOnly.focus {\r\n\tborder-width: 1px;\r\n\tborder-bottom-color: #D2D4D7;\r\n\t-webkit-box-shadow: 0px 0px 0px 0px transparent;\r\n\tbox-shadow: 0px 0px 0px 0px transparent;\r\n}\r\n\r\n.qp-link-editor a {\r\n\tmax-width: calc(100% - 35px);\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tcolor: #027ACC;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.p-link {\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tmax-width: calc(100% - 35px);\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n}\r\n\r\n.link-obj {\r\n\tborder-radius: 4px;\r\n\tpadding: 0px 4px 0px 3px;\r\n\tbackground: #ECF7FF;\r\n\tdisplay: inline-flex;\r\n  \talign-items: center;\r\n\theight: 22px;\r\n  \twidth: 100%;\r\n}\r\n\r\n.link-obj-del {\r\n\tfont-size: 13px;\r\n\twidth: 18px;\r\n\tdisplay: inline-flex;\r\n\tflex: none;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tcolor: #027ACC;\r\n\topacity: 70%;\r\n\tcursor: pointer;\r\n}\r\n\r\n.link-obj-del-btn {\r\n\tfont-size: 13px;\r\n}\r\n\r\n.link-obj-del:hover {\r\n\topacity: 100%;\r\n}\r\n\r\n.input-url {\r\n\tflex: 1;\r\n\tmin-width: 10px;\r\n\tbackground: beige;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\n.qp-link-editor input {\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tpadding: 0px 4px 0px 6px;\r\n\tborder-width: 0px !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-link-editor input[invisible] {\r\n\tposition: absolute;\r\n\ttop: -40px;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-link-editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 28px;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-link-editor.ReadOnly {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tborder: none;\r\n\tborder-bottom: #D2D4D7 1px solid;\r\n\tborder-radius: 0;\r\n}\r\n\r\n.qp-link-editor.ReadOnly .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\theight: 100%;\r\n\tmargin-right: 0px;\r\n}\r\n\r\n.qp-link-editor.ReadOnly .buttonsCont {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n}\r\n\r\n.qp-link-editor.ReadOnly .link-obj {\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-link-editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding-left: 3px;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-link-editor .editorWrap .link-obj {\r\n\tbackground: none;\r\n\twidth: 100%;\r\n\tcursor: text;\r\n}\r\n\r\n.qp-link-editor .buttonsCont {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 1px;\r\n\theight: 100%;\r\n\tcursor: pointer;\r\n\tpadding-right: 6px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-link-editor .buttonsCont.inactive {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-link-editor .control-icon[icon],\r\n.qp-link-editor .buttonsCont .buttonAction {\r\n\tfont-size: 16px;\r\n\tcolor: #808080;\r\n}\r\n.qp-link-editor .control-icon[icon]:hover, .qp-link-editor .buttonsCont\r\n.buttonAction:hover {\r\n\tcolor: #000000;\r\n}\r\n\r\n.qp-link-editor qp-icon {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-link-editor-panel .qp-field-wrapper .qp-link-editor-input {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-link-editor-panel .qp-field-wrapper .label-container {\r\n\tmin-width: 40px;\r\n}\r\n",""]),e.exports=i},"controls/simple/loader-indicator/qp-loader-indicator.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".loader-indicator-img {\r\n    color:#999999;\r\n    color:var(#999999, --primary-color);\r\n}\r\n\r\n.loader-indicator-img .progress {\r\n  stroke-width: 10;\r\n  stroke: currentColor;\r\n  stroke-linecap: square;  \r\n  animation: dash 2.5s infinite;\r\n}\r\n\r\n\r\n@keyframes dash {\r\n  0% {\r\n    stroke-dasharray: 0, 250;\r\n    stroke-dashoffset: 0;\r\n  }\r\n\r\n  25% {\r\n    stroke-dasharray: 250, 0;\r\n    stroke-dashoffset: 0;\r\n  }\r\n\r\n  50% {\r\n    stroke-dasharray: 0, 250;\r\n    stroke-dashoffset: -250;\r\n  }\r\n\r\n  75% {\r\n    stroke-dasharray: 250, 0;\r\n    stroke-dashoffset: 0;\r\n  }\r\n\r\n  100% {\r\n    stroke-dasharray: 0, 250;\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\n",""]),e.exports=i},"controls/simple/mail-editor/qp-mail-editor.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-mail-editor {\r\n\tposition: relative;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n\tbackground: #fff;\r\n\tborder: #D2D4D7 1px solid;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.qp-control-outline.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.qp-control-outline.ReadOnly {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tborder: none;\r\n\tborder-bottom: #D2D4D7 1px solid;\r\n\tborder-radius: 0;\r\n}\r\n\r\n.qp-control-outline.ReadOnly.focus {\r\n\tborder-width: 1px;\r\n\tborder-bottom-color: #D2D4D7;\r\n\t-webkit-box-shadow: 0px 0px 0px 0px transparent;\r\n\tbox-shadow: 0px 0px 0px 0px transparent;\r\n}\r\n\r\n.err-l .qp-control-outline {\r\n\tborder: #f00 1px solid;\r\n}\r\n\r\n.err-l .qp-control-outline.focus {\r\n\tborder-color: #f00;\r\n\tbox-shadow: inset 0 0 0 1px #f00;\r\n}\r\n\r\n.qp-editor-plugin .qp-mail-editor.qp-control-outline,\r\n.qp-editor-plugin .qp-mail-editor.qp-control-outline.focus {\r\n\tcolor: initial;\r\n\tborder: 0px !important;\r\n\tpadding: 0px !important;\r\n\tbackground-color: transparent !important;\r\n\t-webkit-box-shadow: unset !important;\r\n\tbox-shadow: unset !important;\r\n}\r\n\r\n.qp-mail-editor input {\r\n\twidth: 100%;\r\n\theight: var(--qp-input-height);\r\n\tpadding: 0px 4px 0px 8px;\r\n\tborder-width: 0px !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-mail-editor input.dropDown {\r\n\tcursor: text;\r\n}\r\n\r\n.qp-mail-editor.ReadOnly input {\r\n\tcursor: default !important;\r\n}\r\n\r\n.qp-mail-editor input.invisible {\r\n\tposition: absolute;\r\n\ttop: -40px;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-mail-editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 28px;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-mail-editor.ReadOnly .editorCont {\r\n\tmargin-right: 0px;\r\n}\r\n\r\n.qp-mail-editor.ReadOnly .buttonsCont {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n}\r\n\r\n.qp-mail-editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-mail-editor .buttonsCont {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 1px;\r\n\theight: 100%;\r\n\tcursor: pointer;\r\n\tpadding-right: 6px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-editor-plugin .qp-mail-editor .buttonsCont {\r\n\tpadding-right: 0px !important;\r\n}\r\n\r\n.qp-mail-editor .buttonsCont.inactive {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-mail-editor .control-icon[icon] {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tfont-size: 16px;\r\n\tcolor: #808080;\r\n}\r\n\r\n.qp-mail-editor .control-icon[icon]:hover {\r\n\tcolor: #000000;\r\n}\r\n\r\n.qp-mail-editor qp-hyper-icon {\r\n\tdisplay: inline-block;\r\n}\r\n",""]),e.exports=i},"controls/simple/selector/qp-selector.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'.qp-selector,\r\n.qp-selector svg {\r\n\tbox-sizing: border-box;\r\n\tfill: #808080;\r\n}\r\n\r\n.qp-selector .qp-field-editor__button:hover svg {\r\n\tfill: #000;\r\n}\r\n\r\nqp-selector {\r\n\tdisplay: block;\r\n}\r\n.qp-selector {\r\n\tbackground-color: #fff;\r\n\tborder: #D2D4D7 1px solid;\r\n\theight: var(--qp-input-height);\r\n}\r\n.err-l .qp-selector {\r\n\tborder: #f00 1px solid;\r\n}\r\n\r\n.war-l .qp-selector {\r\n\tborder: #FFC109 1px solid;\r\n}\r\n\r\n.qp-selector .qp-selector-link-wrapper {\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-selector .qp-selector-link {\r\n\tdisplay: flex;\r\n\tpadding: 4px 24px 4px 4px;\r\n\talign-items: center;\r\n\t/* gap: 4px; */\r\n\tborder-radius: 4px;\r\n\tline-height: 16px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tcursor: text;\r\n}\r\n\r\n.qp-selector .qp-selector-spacer {\r\n\twidth: 36px;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 0.2;\r\n\tcursor: text;\r\n}\r\n\r\n.qp-selector .qp-selector-delete {\r\n\twidth: 19px;\r\n  height: 19px;\r\n\tpadding: 3px;\r\n\topacity: 0.4;\r\n\tcursor: pointer;\r\n\tflex-shrink: 0;\r\n}\r\n.qp-selector .qp-selector-delete:hover {\r\n\topacity: unset;\r\n}\r\n\r\n\r\n.qp-selector .qp-selector-delete svg {\r\n\tfill: var(--qp-primary-color);\r\n}\r\n\r\n.qp-selector .qp-selector-link-text {\r\n\tdisplay: inline-block;\r\n\t/* text-overflow: ellipsis; */\r\n\toverflow: hidden;\r\n\tcolor: var(--qp-primary-color);\r\n\tflex-shrink: 0;\r\n\tmax-width: calc( 100% - 20px);\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-selector .qp-selector-link-desc {\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tflex-shrink: 1;\r\n}\r\n\r\nspan.qp-selector-link-text:hover {\r\n\ttext-decoration: underline;\r\n}\r\n\r\n.qp-selector.editor{\r\n\tdisplay:flex;\r\n\talign-items: center;\r\n\tpadding: 4px;\r\n\tposition:relative;\r\n\tborder-radius: 6px;\r\n}\r\n.qp-selector .qp-editor-plugin {\r\n\tflex-grow: 1;\r\n\tpadding: 0 24px 0 4px;\r\n\tcolor: initial;\r\n}\r\n\r\n.qp-selector.qp-selector-readonly {\r\n\tbackground-color: transparent;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n\tborder-radius: 0;\r\n}\r\n\r\n.qp-selector.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.err-l .qp-selector.focus {\r\n\tborder-color: #f00;\r\n\tbox-shadow: inset 0 0 0 1px #f00;\r\n}\r\n\r\n.war-l .qp-selector.focus {\r\n\tborder-color: #FFC109;\r\n\tbox-shadow: inset 0 0 0 1px #FFC109;\r\n}\r\n\r\n\r\n.edit-mode.qp-selector input.qp-text-editor {\r\n\tcolor: initial;\r\n}\r\n\r\n.qp-selector qp-mask-editor {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-selector input.qp-text-editor {\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tbox-shadow: none !important;\r\n\toutline: none;\r\n\twidth: 100%;\r\n\tpadding: 0px;\r\n\tbackground-color: transparent;\r\n\tline-height: 22px;\r\n\ttext-overflow: ellipsis;\r\n\theight: var(--qp-input-height);\r\n}\r\n\r\n.qp-selector input.editor-input {\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tbox-shadow: none !important;\r\n\toutline: none;\r\n\twidth: 20px;\r\n\tflex:1 1 auto;\r\n\tpadding: 0 4px 0 8px;\r\n\tbackground-color: transparent;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-selector.qp-selector-readonly input.editor-input {\r\n\tdisplay: none;\r\n}\r\n\r\n/* .qp-selector input.editor-input[enabled="false"], .qp-selector input.editor-input[disabled] {\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: #E0E4E8;\r\n\tborder-bottom-style: dotted;\r\n\tborder-width: 1px;\r\n}*/\r\n/* .qp-selector input.editor-input[readonly] {\r\n\tbackground-color: #F5F7F8 !important;\r\n\tborder-top-color: transparent;\r\n\tborder-left-color: transparent;\r\n\tborder-right-color: transparent;\r\n\r\n\tborder-width: 1px;\r\n}  */\r\n\r\n.qp-selector input.editor-input[readonly]:focus {\r\n\tborder-width: 1px;\r\n\tbox-shadow: 0px 0px 0px 0px transparent;\r\n\tborder-bottom-color: #D2D4D7;\r\n\r\n\tbackground-color: #F5F7F8;\r\n\tborder-top-color: transparent;\r\n\tborder-left-color: transparent;\r\n\tborder-right-color: transparent;\r\n}\r\n\r\n.qp-selector-allow-edit .edit-btn-cont {\r\n\tpadding: 5px;\r\n\tmargin-right: 2px;\r\n\tcursor: pointer;\r\n\theight: 26px;\r\n\twidth: 26px;\r\n\tcolor: #808080;\r\n}\r\n\r\n.qp-selector-allow-edit .edit-btn-cont:hover svg {\r\n\tfill: #000;\r\n}\r\n\r\n/* .qp-field .control-container > enhanced-compose > .qp-selector-allow-edit, .qp-field-wrapper .control-container > * > .qp-selector-allow-edit {\r\n\twidth: calc(100% - 30px);\r\n} */\r\n.qp-field-editor__display-text {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 26px;\r\n\theight: 100%;\r\n\tpointer-events: none;\r\n\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tpadding: 0 4px 0 6px;\r\n\tline-height: 24px;\r\n\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-field-editor__button {\r\n\tbackground: #fff;\r\n\tborder: 0;\r\n\tcolor: #808080;\r\n\tcursor: pointer;\r\n\tpadding: 0;\r\n\tposition: absolute;\r\n\tright: 8px;\r\n}\r\n.qp-field-editor__button:focus {\r\n\tborder: 0;\r\n}\r\n.qp-field-editor__button qp-icon {\r\n\tcolor: #808080;\r\n}\r\n.qp-field-editor__button:hover qp-icon {\r\n\tcolor: black;\r\n}\r\n\r\n.qp-field-editor__button > .buttonsCont {\r\n\tvertical-align: unset;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.edit-mode .qp-field-editor__display-text {\r\n\tvisibility: hidden;\r\n}\r\n\r\n.edit-mode input.editor-input {\r\n\tcolor: initial;\r\n}\r\n\r\n.dialog-container{\r\n\tbackground:white;\r\n\tz-index: 1000;\r\n\t/* position: absolute; */\r\n\tmax-height: 500px;\r\n\r\n}\r\n.dialog-container.hide-selector{\r\n\tdisplay: none;\r\n}\r\n\r\nqp-mask-editor input {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-selector.label-hovered:not(.qp-selector-readonly):not(.focus) {\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--qp-highlight-hover-color, #007ACC);\r\n}\r\n',""]),e.exports=i},"controls/simple/text-editor/qp-text-editor.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'\r\nqp-text-editor, qp-number-editor, qp-mask-editor\r\n{\r\n\tdisplay: block;\r\n}\r\n\r\nqp-text-editor[fixed-width] > *, qp-number-editor[fixed-width] > *, qp-mask-editor[fixed-width] > *\r\n{\r\n\twidth: 100% !important;\r\n}\r\n\r\nqp-text-editor[fixed-height] > *, qp-number-editor[fixed-height] > *, qp-mask-editor[fixed-height] > *\r\n{\r\n\theight: 100% !important;\r\n}\r\n\r\ninput.qp-text-editor, textarea.qp-text-editor {\r\n\tborder: #D2D4D7 1px solid;\r\n\tpadding: 7px 8px;\r\n\tmargin-bottom: 0px;\r\n\tmargin-top: 0px;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\toutline: none;\r\n\tborder-radius: 6px;\r\n}\r\n\r\ntextarea.qp-text-editor {\r\n\tresize: vertical;\r\n\tvertical-align: top;\r\n\tmin-height: 25px;\r\n}\r\n\r\ninput.qp-text-editor {\r\n\theight: var(--qp-input-height);\r\n\twidth: 100%;\r\n}\r\ninput.qp-text-editor.auto-size\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\ninput.qp-text-editor[readonly], textarea.qp-text-editor[readonly]\r\n{\r\n\tbackground-color: transparent;\r\n\tborder-top-color: transparent;\r\n\tborder-left-color: transparent;\r\n\tborder-right-color: transparent;\r\n\tborder-width: 1px;\r\n\tborder-radius: 0;\r\n}\r\n\r\ninput.qp-text-editor[enabled="false"], input.qp-text-editor[disabled],\r\ntextarea.qp-text-editor[enabled="false"], textarea.qp-text-editor[disabled]\r\n{\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-radius: 0;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n\tborder-width: 1px;\r\n}\r\n\r\ninput.qp-text-editor:focus, text.qp-text-editor:focus,\r\ntextarea.qp-text-editor:focus\r\n{\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\ninput.qp-text-editor[readonly]:focus, textarea.qp-text-editor[readonly]:focus\r\n{\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-width: 1px;\r\n\tborder-radius: 0;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n}\r\n\r\na.qp-text-editor {\r\n\tdisplay: inline-block;\r\n\theight: 24px;\r\n\toutline: none;\r\n\r\n\tborder: #D2D4D7 1px solid;\r\n\tpadding: 3px 6px;\r\n\tmargin-bottom: 0px;\r\n\tmargin-top: 0px;\r\n}\r\n\r\na.qp-text-editor[enabled=false] {\r\n\tbackground-color: transparent !important;\r\n\tbox-shadow: none !important;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: #D2D4D7;\r\n\tborder-bottom-style: solid;\r\n\tborder-width: 1px;\r\n}\r\n\r\n.with-language {\r\n\tpadding-right: 36px !important;\r\n}\r\n\r\n.locale-editor {\r\n\twidth: 30px !important;\r\n    padding: 8px 4px;\r\n    text-transform: uppercase;\r\n    color: #027ACC;\r\n    color: var(--primary-color, #007ACC);\r\n    cursor: pointer;\r\n    font-weight: 400;\r\n    position: absolute;\r\n    margin-left: -32px;\r\n}\r\n\r\n\r\n.modern-ui .size-default .qp-text-editor.qp-integer,\r\n.modern-ui .size-default .qp-text-editor.qp-float {\r\n\t\tmax-width: 170px;\r\n}\r\n',""]),e.exports=i},"controls/utility/layout/qp-layout.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,":root {\r\n\t--layout-border-radius: var(--control-border-radius, 6px);\r\n\t--layout-hover-background: var(--control-toolbar-hover-background, rgba(0, 0, 0, 0.06));\r\n\t--layout-shadow-color: var(--control-shadow-color, rgba(115, 115, 115, 0.7));\r\n\t--layout-bar-min-height: var(--input-height, 32px);\r\n\t--layout-bar-min-width: unset;\r\n\t--layout-gap: 0px;\r\n\t--layout-column-gap: var(--layout-gap);\r\n\t--layout-row-gap: var(--layout-gap);\r\n}\r\n\r\nqp-layout {\r\n\tdisplay: block;\r\n}\r\n\r\n.qp-layout {\r\n\tdisplay: inline-block;\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n\tmin-width: var(--layout-bar-min-width);\r\n\tmin-height: var(--layout-bar-min-height);\r\n}\r\n\r\n.qp-layout.flex {\r\n\tflex-wrap: wrap;\r\n\tcolumn-gap: var(--layout-column-gap);\r\n\trow-gap: var(--layout-row-gap);\r\n\toverflow: visible;\r\n}\r\n\r\n.qp-layout.bar {\r\n\tdisplay: flex;\r\n\tcolumn-gap: var(--layout-column-gap);\r\n\trow-gap: var(--layout-row-gap);\r\n\tflex-wrap: nowrap;\r\n\talign-items: stretch;\r\n\tmin-width: var(--layout-bar-min-width);\r\n}\r\n\r\n.qp-layout.grid {\r\n\tdisplay: grid;\r\n\tcolumn-gap: var(--layout-column-gap);\r\n\trow-gap: var(--layout-row-gap);\r\n}\r\n\r\n.qp-layout .qp-layout-ellipsis {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-layout.qp-layout-ellipsis-left .qp-layout-ellipsis {\r\n\tleft: var(--layout-ellipsis-offset);\r\n}\r\n\r\n.qp-layout.qp-layout-ellipsis-right .qp-layout-ellipsis {\r\n\tright: var(--layout-ellipsis-offset);\r\n}\r\n\r\n.qp-layout.qp-layout-ellipsis-visible {\r\n\tmin-width: var(--layout-bar-min-width, var(--layout-bar-min-height));\r\n}\r\n\r\n.qp-layout .qp-layout-ellipsis .qp-layout-ellipsis-opener {\r\n\theight: 100%;\r\n\tborder-width: 0px;\r\n\tpadding-right: 10px;\r\n\tpadding-left: 10px;\r\n\tbackground-color: transparent;\r\n\tborder-radius: var(--layout-border-radius);\r\n\topacity: 1;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-layout .qp-layout-ellipsis .qp-layout-ellipsis-opener:hover,\r\n.qp-layout .qp-layout-ellipsis .qp-layout-ellipsis-opener.opened {\r\n\tbackground-color: var(--layout-hover-background) !important;\r\n}\r\n\r\n.qp-layout-ellipsis-options {\r\n\tmax-width: var(--layout-dashboard-max-width, 300px);\r\n\tmin-width: var(--layout-dashboard-min-width);\r\n\tbackground-color: white;\r\n\tborder-radius: var(--layout-border-radius);\r\n\tbox-shadow: 0px 0px 16px var(--layout-shadow-color);\r\n\tpadding: 8px;\r\n\tz-index: var(--zindex-container, 11000);\r\n}\r\n\r\n.qp-layout-dashboard {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tcolumn-gap: var(--layout-column-gap);\r\n\trow-gap: var(--layout-row-gap);\r\n}\r\n\r\n.qp-layout.bar .qp-layout-hidden-item {\r\n\tvisibility: hidden;\r\n\tpointer-events: none;\r\n}\r\n\r\n.qp-layout.bar .qp-layout-hidden-item.partial {\r\n\t--layout-hidden-item-mask: linear-gradient(to left, transparent var(--layout-hidden-item-transparency, 0%), black);\r\n\t-webkit-mask-image: var(--layout-hidden-item-mask);\r\n\tmask-image: var(--layout-hidden-item-mask);\r\n\tvisibility: visible;\r\n}\r\n\r\n",""]),e.exports=i},"controls/utility/options/qp-options.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".drop-down__options-pane {\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  position: absolute;\r\n  z-index: 20000;\r\n  height: initial;\r\n\tdisplay: block;\r\n\tfont-size: 14px;\r\n\r\n  background-color: White;\r\n  box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.7);\r\n\tbox-sizing: border-box;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.drop-down__option {\r\n\tmin-height: 1em;\r\n\tpadding: 2px 4px;\r\n\tvertical-align: middle;\r\n\ttext-align: left;\r\n\twhite-space: nowrap;\r\n\tcursor: default;\r\n}\r\n\r\n.drop-down__option.ddItem {\r\n\tpadding: 6px 8px;\r\n\tvertical-align: middle;\r\n\ttext-align: left;\r\n\twhite-space: nowrap;\r\n\tcursor: default;\r\n}\r\n\r\n.drop-down__option.ddSelection {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\nqp-options .ddItemDisabled {\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\topacity: 0.26 !important;\r\n}\r\n\r\n",""]),e.exports=i},"controls/utility/suggester/elements/qp-suggester.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,":root {\r\n\t--qp-suggestion-horizontal-paddings: 16px;\r\n}\r\n\r\nqp-suggester {\r\n  display: block;\r\n  position: absolute;\r\n  top: 100%;\r\n}\r\n\r\n.qp-suggester,\r\n.qp-suggester * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.qp-suggester {\r\n\tbackground-color: #FFFFFF;\r\n\tbox-shadow: 0 0 14px 2px rgba(0, 0, 0, 0.15);\r\n\tborder-radius: 6px;\r\n\tz-index: 10000;\r\n\toverflow-y: auto;\r\n\tposition: relative;\r\n}\r\n\r\n.qp-suggester:before,\r\n.qp-suggester:after {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\tposition: sticky;\r\n\tleft: 0;\r\n\tbackground: #FFFFFF;\r\n\theight: calc(var(--qp-suggester-vertical-paddings) + 1px);\r\n}\r\n\r\n.qp-suggester:before {\r\n\ttop: -1px;\r\n}\r\n\r\n.qp-suggester:after {\r\n\tbottom: -1px;\r\n}\r\n\r\n@media screen and (max-width: 400px) {\r\n  .qp-suggester {\r\n    max-width: calc(100vw - 18px);\r\n  }\r\n}\r\n\r\n.qp-suggester.loading {\r\n  filter: grayscale(.5);\r\n}\r\n\r\n.qp-suggester.show-above {\r\n  transform: translateY(-100%);\r\n  transform: translateY(calc(-100% - 1px));\r\n}\r\n\r\n.qp-suggester.show-left {\r\n  transform: translateX(-100%);\r\n}\r\n\r\n.qp-suggester.show-left.show-above {\r\n  transform: translate(-100%,-100%);\r\n}\r\n\r\n[aurelia-app] .qp-suggester::-webkit-scrollbar {\r\n  width: 18px;\r\n}\r\n\r\n[aurelia-app] .qp-suggester::-webkit-scrollbar-track {\r\n\tbackground: #FFFFFF;\r\n}\r\n\r\n[aurelia-app] .qp-suggester::-webkit-scrollbar-thumb {\r\n  width: 18px;\r\n  border-radius: 18px;\r\n  border: 5px solid #FFFFFF;\r\n}\r\n\r\nqp-suggestion {\r\n\tdisplay: block;\r\n\theight: var(--qp-suggestion-line-height);\r\n\tline-height: var(--qp-suggestion-line-height);\r\n\tpadding: 0 var(--qp-suggestion-horizontal-paddings);\r\n\tfont-size: 14px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tcursor: pointer;\r\n\tmax-width: 90vw;\r\n}\r\n\r\nqp-suggestion.suggestion-highlight {\r\n\tbackground-color: rgba(0, 0, 0, 0.07);\r\n}\r\n\r\nqp-suggestion.extention-cord {\r\n\tz-index: 10001;\r\n\tbackground: #EDEDED;\r\n}\r\n\r\nqp-suggestion mark {\r\n\tbackground: #B9E3FF;\r\n\tbox-shadow: 0 2px 0 0 #B9E3FF, 0 -2px 0 0px #B9E3FF;\r\n}\r\n\r\n.loading-placeholder.loading {\r\n\tfont-size: 0;\r\n\twidth: 27px;\r\n\theight: 27px;\r\n\tpadding: 0;\r\n\tborder-radius: 50%;\r\n\tmargin-top: 10px;\r\n\tmargin-bottom: 10px;\r\n\tborder: 3px solid #bbbbbb;\r\n\toverflow: visible;\r\n\tposition: relative;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tanimation: suggester-loading-spinner infinite 2s linear;\r\n}\r\n\r\n.loading-placeholder.loading:after {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\twidth: 80%; height: 80%;\r\n\tbackground: #ffffff;\r\n\tposition: absolute;\r\n\tright: -3px;\r\n\ttop: -3px;\r\n}\r\n\r\n@keyframes suggester-loading-spinner {\r\n  0% {\r\n    transform: translateX(-50%) rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: translateX(-50%) rotate(360deg);\r\n  }\r\n}\r\n\r\n.qp-suggester .no-results-found {\r\n\tpadding: .5em var(--qp-suggestion-horizontal-paddings);\r\n\tcolor: #AEAEAE;\r\n\tfont-size: 14px;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-suggester .no-results-found svg {\r\n\tdisplay: none;\r\n}\r\n",""]),e.exports=i},"controls/utility/tooltip/qp-tooltip.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-tooltip-container {\r\n\tz-index: 20000;\r\n\tmin-width: 100%;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tbox-sizing: border-box;\r\n\tpointer-events: all;\r\n\tfont-size: 15px;\r\n\tline-height: 16px;\r\n\tborder-radius: 5px;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tcolor: RGBA(255, 255, 255, 0.87);\r\n\tfont-weight: 400;\r\n\tpadding: 5px;\r\n\ttext-align: left;\r\n\ttext-indent: 0px;\r\n\twhite-space: normal;\r\n\ttext-transform: none;\r\n\toverflow: visible;\r\n\tmax-width: 400px;\r\n\toverflow-wrap: break-word;\r\n\ttext-transform: none;\r\n}\r\n\r\n.qp-tooltip-container:after {\r\n\tdisplay: none;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tleft: var(--pointer-adjust, 50%);\r\n\ttransform: translateX(-8px);\r\n\ttop: -15px;\r\n\tborder: 8px solid transparent;\r\n\tcontent: ' ';\r\n\tborder-top-color: #007ACC;\r\n\tborder-top-color: var(--primary-color, #007ACC);\r\n}\r\n.qp-tooltip-container.glue-to-above:after {\r\n\tdisplay: block;\r\n\ttop:unset;\r\n\tbottom: -15px;\r\n}\r\n\r\n.qp-tooltip-container:before {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tleft: var(--pointer-adjust, 50%);\r\n\ttransform: translateX(-8px);\r\n\ttop: -15px;\r\n\tborder: 8px solid transparent;\r\n\tcontent: ' ';\r\n\tborder-bottom-color: #007ACC;\r\n\tborder-bottom-color: var(--primary-color, #007ACC);\r\n}\r\n.qp-tooltip-container.glue-to-above:before {\r\n\tdisplay: none;\r\n\ttop: unset;\r\n\tbottom: -15px;\r\n}\r\n\r\n.qp-tooltip-container.error {\r\n\tbackground-color: #e51c23;\r\n\tborder-color: #e51c23;;\r\n\tcolor: rgba(255, 255, 255, 0.87);\r\n\tfont-family: Arial, sans-serif;\r\n\tmax-width: 350px;\r\n}\r\n.qp-tooltip-container.error::before {\r\n\tborder-bottom-color: #e51c23;\r\n}\r\n.qp-tooltip-container.error::after {\r\n\tborder-top-color: #e51c23;\r\n}\r\n\r\n.qp-tooltip-container.warning {\r\n\tbackground-color: #ffeb3b;\r\n\tborder-color: brown;;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\tfont-family: Arial, sans-serif;\r\n\tmax-width: 350px;\r\n}\r\n.qp-tooltip-container.warning::before {\r\n\tborder-bottom-color: brown;\r\n\ttop: -16px;\r\n\tbottom: unset;\r\n}\r\n.qp-tooltip-container.glue-to-above.warning::before {\r\n\tborder-top-color: brown;\r\n\tdisplay: block;\r\n\tborder-bottom-color: transparent;\r\n\ttop: unset;\r\n\tbottom: -16px;\r\n}\r\n.qp-tooltip-container.warning::after {\r\n\tdisplay: block;\r\n\tborder-bottom-color: #ffeb3b;\r\n\tborder-top-color: transparent;\r\n}\r\n.qp-tooltip-container.glue-to-above.warning::after {\r\n\tdisplay: block;\r\n\tborder-bottom-color: transparent;\r\n\tborder-top-color: #ffeb3b;;\r\n}\r\n\r\n.qp-tooltip-container.info {\r\n\tbackground-color: #28a745;\r\n\tborder-color: #28a745;\r\n\tcolor: rgb(255, 255, 255, 0.87);\r\n\tfont-family: Arial, sans-serif;\r\n\tmax-width: 350px;\r\n}\r\n.qp-tooltip-container.info::before {\r\n\tborder-bottom-color: #28a745;\r\n}\r\n.qp-tooltip-container.glue-to-above.info::after {\r\n\tborder-top-color: #28a745;\r\n}\r\n",""]),e.exports=i},"controls/utility/wait-cursor/qp-wait-cursor.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".wait-cursor {\r\n\ttext-align: center;\r\n\tbox-sizing: border-box;\r\n\tbackground: transparent;\r\n\tz-index: 10000;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tcursor: wait;\r\n}\r\n",""]),e.exports=i},"features/diagram-common/workflow-diagram-confirm.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".dia-confirm-modal {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    background-color: #0003;\r\n    z-index: 1000;\r\n}\r\n\r\n.dia-confirm-container {\r\n    user-select: none;\r\n    width: 400px;\r\n    height: 100px;\r\n    position: absolute;\r\n    top: 30%;\r\n    left: 40%;\r\n    z-index: 10;\r\n    background: white;\r\n    border: 1px solid lightgray;\r\n    border-radius: 5px;\r\n    padding: 15px;\r\n    font-weight: bold;\r\n}\r\n\r\n.dia-confirm-text {\r\n    height: 50px;\r\n    text-align: center;\r\n}\r\n\r\n.dia-confirm-span {\r\n    height: 20px;\r\n}\r\n\r\n.dia-confirm-buttons {\r\n    text-align: right;\r\n}\r\n\r\n.dia-confirm-btn {\r\n    margin: 0 5px;\r\n    height: 22px;\r\n    border: 0;\r\n    font-weight: bold;\r\n    background-color: transparent;\r\n}\r\n\r\n.dia-confirm-btn:hover {\r\n    border: 0;\r\n    cursor: pointer;\r\n    text-decoration: underline;\r\n}\r\n\r\n.dia-confirm-btn-ok {\r\n    color: darkred;\r\n}\r\n\r\n.dia-confirm-btn-cancel {\r\n    color: royalblue;\r\n}",""]),e.exports=i},"features/manufacturing-diagram/manufacturing-diagram.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".gsfBackground {\r\n    border-color: #bdbda7;\r\n    font-size: 11;\r\n    margin-bottom: 2;\r\n  }\r\n  \r\n.diagram-container {\r\n    overflow: hidden;\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    /*border: 1px solid red;*/\r\n    background-color: white;\r\n}\r\n\r\ndiv.diagram-button:hover {\r\n    background-color: #e4e4e4;\r\n    cursor: pointer;\r\n}\r\n\r\ndiv.diagram-button-addstate {\r\n    top: 10px;\r\n    left: 20px;\r\n    font-weight: 600;\r\n    right: unset;\r\n    height: 23px;\r\n    width: 140px;\r\n}\r\n\r\ndiv.diagram-buttons {\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 100px;\r\n    z-index: 10;\r\n    user-select: none;\r\n}\r\n\r\ndiv.diagram-buttons-block {\r\n    border: solid 1px #e4e4e4;\r\n    border-radius: 60px;\r\n    text-align: center;\r\n    z-index: 10;\r\n    display: flex;\r\n    flex-flow: column;\r\n    user-select: none;\r\n    padding: 2px;\r\n    margin-bottom: 20px;\r\n    box-shadow: 0 0 14px 0 rgba(0, 0, 0, 0.2);\r\n}\r\n\r\ndiv.diagram-button {\r\n    border: solid 1px #e4e4e4;\r\n    text-align: center;\r\n    z-index: 10;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    user-select: none;\r\n    width: 30px;\r\n    border-radius: 60px;\r\n    height: 30px;\r\n    margin-bottom: 20px;\r\n    flex-flow: column;\r\n    background-color: white;\r\n    box-shadow: 0 0 14px 0 rgba(0, 0, 0, 0.2);\r\n}\r\n\r\ndiv.diagram-buttons-block>div.diagram-button {\r\n    border: none;\r\n}\r\n\r\ndiv.diagram-button-plus {\r\n    margin-bottom: 10px;\r\n    font-weight: normal;\r\n    font-size: 14px;\r\n    box-shadow: none;\r\n}\r\n\r\ndiv.diagram-button-minus {\r\n    font-weight: normal;\r\n    font-size: 14px;\r\n    margin-bottom: 0;\r\n    box-shadow: none;\r\n}\r\n\r\nul.dia-menu {\r\n    display: none;\r\n    background-color: white;\r\n    list-style-type: none;\r\n    width: auto;\r\n    line-height: 26px;\r\n    border: solid 1px lightgray;\r\n    border-radius: 4px;\r\n    padding: 3px;\r\n    margin: 2px;\r\n    font-size: 14px;\r\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n    z-index: 10;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 100px;\r\n}\r\n\r\nul.dia-menu > li {\r\n    padding: 0 3px;\r\n}\r\n\r\nul.dia-menu > li.row {\r\n    min-width: 22px;\r\n    text-align: center;\r\n}\r\n\r\nul.dia-menu > li:hover {\r\n    background: dodgerblue;\r\n    color: white;\r\n    cursor: pointer;\r\n}\r\n\r\nul.dia-show-menu-column {\r\n    display: block;\r\n}\r\n\r\nul.dia-show-menu-row {\r\n    display: flex;\r\n}\r\n\r\n",""]),e.exports=i},"features/workflow-diagram/workflow-diagram.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".gsfBackground {\r\n    border-color: #bdbda7;\r\n    font-size: 11;\r\n    margin-bottom: 2;\r\n  }\r\n  \r\n.diagram-container {\r\n    overflow: hidden;\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    /*border: 1px solid red;*/\r\n    background-color: white;\r\n}\r\n\r\ndiv.diagram-button:hover {\r\n    background-color: #e4e4e4;\r\n    cursor: pointer;\r\n}\r\n\r\ndiv.diagram-button-addstate {\r\n    top: 10px;\r\n    left: 20px;\r\n    font-weight: 600;\r\n    right: unset;\r\n    height: 23px;\r\n    width: 140px;\r\n}\r\n\r\ndiv.diagram-buttons {\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 100px;\r\n    z-index: 10;\r\n    user-select: none;\r\n}\r\n\r\ndiv.diagram-buttons-block {\r\n    border: solid 1px #e4e4e4;\r\n    border-radius: 60px;\r\n    text-align: center;\r\n    z-index: 10;\r\n    display: flex;\r\n    flex-flow: column;\r\n    user-select: none;\r\n    padding: 2px;\r\n    margin-bottom: 20px;\r\n    box-shadow: 0 0 14px 0 rgba(0, 0, 0, 0.2);\r\n}\r\n\r\ndiv.diagram-button {\r\n    border: solid 1px #e4e4e4;\r\n    text-align: center;\r\n    z-index: 10;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    user-select: none;\r\n    width: 30px;\r\n    border-radius: 60px;\r\n    height: 30px;\r\n    margin-bottom: 20px;\r\n    flex-flow: column;\r\n    background-color: white;\r\n    box-shadow: 0 0 14px 0 rgba(0, 0, 0, 0.2);\r\n}\r\n\r\ndiv.diagram-buttons-block>div.diagram-button {\r\n    border: none;\r\n}\r\n\r\ndiv.diagram-button-plus {\r\n    margin-bottom: 10px;\r\n    font-weight: normal;\r\n    font-size: 14px;\r\n    box-shadow: none;\r\n}\r\n\r\ndiv.diagram-button-minus {\r\n    font-weight: normal;\r\n    font-size: 14px;\r\n    margin-bottom: 0;\r\n    box-shadow: none;\r\n}\r\n\r\nul.dia-menu {\r\n    display: none;\r\n    background-color: white;\r\n    list-style-type: none;\r\n    width: auto;\r\n    line-height: 26px;\r\n    border: solid 1px lightgray;\r\n    border-radius: 4px;\r\n    padding: 3px;\r\n    margin: 2px;\r\n    font-size: 14px;\r\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n    z-index: 10;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 100px;\r\n}\r\n\r\nul.dia-menu > li {\r\n    padding: 0 3px;\r\n}\r\n\r\nul.dia-menu > li.row {\r\n    min-width: 22px;\r\n    text-align: center;\r\n}\r\n\r\nul.dia-menu > li:hover {\r\n    background: dodgerblue;\r\n    color: white;\r\n    cursor: pointer;\r\n}\r\n\r\nul.dia-show-menu-column {\r\n    display: block;\r\n}\r\n\r\nul.dia-show-menu-row {\r\n    display: flex;\r\n}\r\n\r\n",""]),e.exports=i},"plugins/bank-feed/qp-mx.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"#mx-form-container {\r\n    position: absolute;\r\n    top: 15%;\r\n    width: 350px;\r\n    height: 630px;\r\n    left: calc(50% - 350px / 2);\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    background-color: #FFFFFF;\r\n    z-index: 20000;\r\n}\r\n#mx-form-header {\r\n    height: 30px;\r\n}\r\n#mx-form-header {\r\n    font-size: 20px;\r\n}\r\n",""]),e.exports=i},"plugins/payment/qp-authorize-net.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-authorize-net div{\r\n    padding: 15px;\r\n    position: fixed;\r\n    top: 25%;\r\n    left: 25%;\r\n    background-color: aliceblue;\r\n    border: solid 1px black;\r\n    z-index: 20000;\r\n}\r\n#paymentForm.show-payment-form {\r\n    display: block;\r\n}\r\n#paymentForm:not(.show-payment-form) {\r\n    display: none;\r\n}",""]),e.exports=i},"plugins/payment/qp-fortis.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-fortis{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 20000;\r\n}\r\n#payment-form-fortis{\r\n    padding: 20px;\r\n    position: absolute;\r\n    background: #f5f7f8;\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 10px;\r\n    width: fit-content;\r\n\theight: fit-content;\r\n    top: 5%;\r\n    left: calc(50% - 295px);\r\n}\r\n#payment-form-fortis label {\r\n    margin: 2px;\r\n    font-size: 13px;\r\n    color: #222222;\r\n}\r\n#paymentForm-fortis.show-payment-form {\r\n    display: block;\r\n}\r\n#paymentForm-fortis:not(.show-payment-form) {\r\n    display: none;\r\n}\r\n#payment-form-fortis label.payment-form-label {\r\n    left: 20px;\r\n    top: 20px;\r\n    font-size: 22px;\r\n    color: #000000;\r\n}\r\n#payment-form-fortis i.ac.ac-close.ac-pull-right {\r\n    font-size: 20px;\r\n}\r\n.flexible{\r\n\tdisplay: inline-table;\r\n}\r\n.payformccsize{\r\n\twidth: 295px;\r\n\theight: 565px;\r\n}\r\n.payformachsize{\r\n\twidth: 305px;\r\n\theight: 670px;\r\n}\r\n.accountformccsize{\r\n\twidth: 290px;\r\n\theight: 530px;\r\n}\r\n.accountformachsize{\r\n\twidth: 550px;\r\n\theight: 695px;\r\n}",""]),e.exports=i},"plugins/payment/qp-stripe.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'qp-stripe{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 20000;\r\n}\r\nqp-stripe .ac-warning{\r\n    font-size: 20px;\r\n    color: black;\r\n    float: left;\r\n    margin: 9px;\r\n}\r\n.payment-form-background {\r\n    position: fixed;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    width:100%;\r\n    height:100%;\r\n}\r\n.payment-form-being-dragged {\r\n    opacity: 0.75;\r\n}\r\n.form-errors{\r\n    background-color: #FFD7D7;\r\n    width: 100%;\r\n    border-radius: 8px;\r\n}\r\n#card-errors {\r\n    padding: 10px;\r\n    padding-left: 40px;\r\n    font-size: 13px;\r\n    word-wrap: break-word;\r\n}\r\n#payment-form {\r\n    padding: 20px;\r\n    position: absolute;\r\n    background: #FFFFFF;\r\n    overflow: hidden;\r\n\tbox-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 10px;\r\n    width: fit-content;\r\n\theight: fit-content;\r\n    top: 15%;\r\n    left: calc(50% - 460px / 2);\r\n}\r\n#payment-form:not(.payment-mobile){\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 10px;\r\n    width: 420px;\r\n    top: 15%;\r\n    left: calc(50% - 460px / 2);\r\n}\r\n.payment-form-background .payment-mobile {\r\n\tdisplay: none;\r\n}\r\n#payment-form label {\r\n    margin: 2px;\r\n    font-size: 13px;\r\n    color: #222222;\r\n}\r\n#card-number {\r\n    width: 242px;\r\n    line-height: 26px;\r\n    vertical-align: middle;\r\n}\r\n.card-expiry {\r\n    margin-top: 16px;\r\n}\r\n#card-expiry {\r\n    width: 81px;\r\n}\r\n#payment-form label.payment-form-label {\r\n    left: 20px;\r\n    top: 20px;\r\n    font-size: 22px;\r\n    color: #000000;\r\n}\r\n#payment-form i.ac.ac-close.ac-pull-right {\r\n    font-size: 20px;\r\n}\r\n#additional-payment-info{\r\n    padding-top: 10px;\r\n}\r\n#additional-payment-info div {\r\n    margin: 5px 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n#additional-payment-info label, .payment-amount-label {\r\n    display: inline-block;\r\n    max-width: 150px;\r\n}\r\n#additional-payment-info input{\r\n    width: 250px;\r\n}\r\n#additional-payment-info label[required]:before, .card-front label[required]:before, .card-back label[required]:before {\r\n    content:"* ";\r\n}\r\n.field-warning:before {\r\n    color: red;\r\n}\r\n#additional-payment-info .payment-form-input {\r\n    height: 16px;\r\n    padding: 4px 8px 4px 8px;\r\n    left: 200px;\r\n}\r\n.payment-form-input {\r\n    background: #FFFFFF;\r\n    border: 1px solid rgba(0, 0, 0, 0.19);\r\n    border-radius: 5px;\r\n}\r\n.payment-form-input:focus, \r\n.StripeElement--focus {\r\n    border: 2px solid #027ACC;\r\n    margin: -1px;\r\n}\r\n.payment-card {\r\n    position: relative;\r\n    height: 150px; \r\n    margin-top: 14px;\r\n}\r\n.card-front {\r\n    position: absolute;\r\n    width: 256px;\r\n    height: 117px;\r\n    background: #DCECF8;\r\n    border-radius: 8px;\r\n    z-index: 1;\r\n    padding: 16px;\r\n}\r\n.card-back {\r\n    position: absolute;\r\n    width: 134px;\r\n    height: 123px;\r\n    left: 272px;\r\n    top: 10px;\r\n    margin: 0px;\r\n    background: rgba(2, 122, 204, 0.24);\r\n    border-radius: 8px;\r\n}\r\n.magnetic-line {\r\n    width: 100%;\r\n    height: 32px;\r\n    margin-top: 16px;\r\n    background-color: rgba(2, 122, 204, 0.2);\r\n}\r\n.card-cvc {\r\n    position: absolute;\r\n    left: 30px;\r\n    bottom: 20px;\r\n}\r\n#card-cvc {\r\n    width: 70px;\r\n}\r\n.pay-button {\r\n    width: 100%;\r\n\tbackground-color: var(--primary-color, #007ACC) !important;\r\n    border-radius: 5px;\r\n    font-size: 13px;\r\n    line-height: 15px;\r\n    text-transform: uppercase;\r\n    color: #FFFFFF;\r\n    height: 30px;\r\n    margin-top: 20px;\r\n    border: 0px;\r\n}\r\n.payment-amount {\r\n    width: 110px;\r\n}\r\n.payment-errors-hidden {\r\n    display: none;\r\n}\r\n\r\n.pay-button:disabled{\r\n\topacity: 0.4;\r\n}\r\n\r\n.pay-button:not([disabled]):hover,\r\n.pay-button:active {\r\n\topacity: 0.87;\r\n\tbackground-color: var(--primary-color, #007ACC) !important;\r\n\tborder-color: var(--primary-color, #007ACC) !important;\r\n}\r\n.payment-amount[disabled] {\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: #E0E4E8;\r\n\tborder-bottom-style: dotted;\r\n\tborder-width: 1px;\r\n}\r\n#additional-payment-info input#Zip {\r\n    width: 100px;\r\n    margin-right: 150px;\r\n}\r\n.StripeElement {\r\n    padding: 5px 8px 3px 8px;\r\n}\r\n.address-separator {\r\n    margin-top: 8px;\r\n    margin-bottom: 2px;\r\n    width: 100%;\r\n}',""]),e.exports=i},"plugins/wiki-tooltip/qp-wiki-tooltip.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'i.btn-small-more-local {\r\n\tcolor: rgba(0,0,0,.64);\r\n\tfont-size: 16px;\r\n\tpadding-left: 4px;\r\n\tpadding-right: 3px;\r\n\t/*padding-top: 3px;*/\r\n\tcursor: pointer;\r\n\tanimation: fadeIn .2s;\r\n\tvisibility: hidden;\r\n  transition: visibility 0s .3s;\r\n  transition-timing-function: ease-out;\r\n}\r\n\r\ndiv>i.btn-small-more-local {\r\n\tpadding-top: 4px;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  0% { opacity: 0; }\r\n  100% { opacity: 1; }\r\n}\r\n\r\nspan.btn-small-more-local {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding-left: 0;\r\n\tpadding-right: 0;\r\n\tcursor: pointer;\r\n\tcolor: RGBA(0, 0, 0, 0.8);\r\n}\r\n\r\nspan.btn-small-more-local>i.btn-small-more-local{\r\n\tcolor: RGBA(0, 0, 0, 0.87);\r\n\tanimation: none;\r\n\tvisibility: visible;\r\n\tpadding-left: 0;\r\n}\r\n\r\nspan.cb-label {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\twidth: 100%;\r\n}\r\n\r\nspan.cb-label > label {\r\n\twidth: 100%;\r\n}\r\n\r\n.label-hover {\r\n\twidth: unset !important;\r\n}\r\n\r\n.label-hover:hover + i.btn-small-more-local {\r\n\tvisibility: visible;\r\n}\r\n\r\ni.btn-small-more-local:hover {\r\n\tvisibility: visible;\r\n}\r\n\r\ninput[type="checkbox"] {\r\n\tmin-height: 14px;\r\n\tmin-width: 14px;\r\n}\r\n\r\ndiv.wk-uicontrol {\r\n\tdisplay: inline;\r\n\tfont-weight: bold;\r\n}\r\n\r\ndiv#wikiTooltipBodyShadow {\r\n\tposition: fixed;\r\n\tbackground-color: rgba(0, 0, 0, 0.2);\r\n\tleft: 0;\r\n\ttop: 0;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tz-index: 999999990;\r\n\tdisplay: none;\r\n}\r\n\r\ndiv#wikiTooltipSidePanel {\r\n\theight: 100%;\r\n\tposition: fixed;\r\n\toverflow: hidden;\r\n\tright: 0;\r\n\ttop: 0;\r\n\twidth: 350px;\r\n\tz-index: 999999991;\r\n\tbackground-color: white;\r\n\tdisplay: none;\r\n}\r\n\r\ndiv#wikiTooltipSidePanel>iframe {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tfont: normal normal 400 12px Verdana !important;\r\n}\r\n',""]),e.exports=i},"@bryntum/calendar/calendar.stockholm.css":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'/*!\r\n *\r\n * Bryntum Calendar 4.3.9\r\n *\r\n * Copyright(c) 2022 Bryntum AB\r\n * https://bryntum.com/contact\r\n * https://bryntum.com/license\r\n *\r\n * Vendor resources\r\n *\r\n * Font Awesome Free 5 by @fontawesome - https://fontawesome.com\r\n * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)\r\n *\r\n */\r\n.b-theme-info:before {\r\n  content: \'{"name":"Stockholm"}\';\r\n}\r\n\r\n@font-face {\r\n  font-family: "Font Awesome 5 Free";\r\n  font-style: normal;\r\n  font-weight: 900;\r\n  font-display: block;\r\n  src: url("fonts/fa-solid-900.eot");\r\n  src: url("fonts/fa-solid-900.eot?#iefix") format("embedded-opentype"), url("fonts/fa-solid-900.woff2") format("woff2"), url("fonts/fa-solid-900.woff") format("woff"), url("fonts/fa-solid-900.ttf") format("truetype"), url("fonts/fa-solid-900.svg#fontawesome") format("svg");\r\n}\r\n.b-fa,\r\n.fas,\r\n.far,\r\n.fal,\r\n.fad,\r\n.fab {\r\n  -moz-osx-font-smoothing: grayscale;\r\n  -webkit-font-smoothing: antialiased;\r\n  display: inline-block;\r\n  font-style: normal;\r\n  font-variant: normal;\r\n  text-rendering: auto;\r\n  line-height: 1;\r\n}\r\n\r\n.b-fa-lg {\r\n  font-size: 1.3333333333em;\r\n  line-height: 0.75em;\r\n  vertical-align: -0.0667em;\r\n}\r\n\r\n.b-fa-xs {\r\n  font-size: 0.75em;\r\n}\r\n\r\n.b-fa-sm {\r\n  font-size: 0.875em;\r\n}\r\n\r\n.b-fa-1x {\r\n  font-size: 1em;\r\n}\r\n\r\n.b-fa-2x {\r\n  font-size: 2em;\r\n}\r\n\r\n.b-fa-3x {\r\n  font-size: 3em;\r\n}\r\n\r\n.b-fa-4x {\r\n  font-size: 4em;\r\n}\r\n\r\n.b-fa-5x {\r\n  font-size: 5em;\r\n}\r\n\r\n.b-fa-6x {\r\n  font-size: 6em;\r\n}\r\n\r\n.b-fa-7x {\r\n  font-size: 7em;\r\n}\r\n\r\n.b-fa-8x {\r\n  font-size: 8em;\r\n}\r\n\r\n.b-fa-9x {\r\n  font-size: 9em;\r\n}\r\n\r\n.b-fa-10x {\r\n  font-size: 10em;\r\n}\r\n\r\n.b-fa-fw, .b-fw-icon:before {\r\n  text-align: center;\r\n  width: 1.25em;\r\n}\r\n\r\n.b-fa-ul {\r\n  list-style-type: none;\r\n  margin-left: 2.5em;\r\n  padding-left: 0;\r\n}\r\n.b-fa-ul > li {\r\n  position: relative;\r\n}\r\n\r\n.b-fa-li {\r\n  left: -2em;\r\n  position: absolute;\r\n  text-align: center;\r\n  width: 2em;\r\n  line-height: inherit;\r\n}\r\n\r\n.b-fa-border {\r\n  border: solid 0.08em #eee;\r\n  border-radius: 0.1em;\r\n  padding: 0.2em 0.25em 0.15em;\r\n}\r\n\r\n.b-fa-pull-left {\r\n  float: left;\r\n}\r\n\r\n.b-fa-pull-right {\r\n  float: right;\r\n}\r\n\r\n.b-fa.b-fa-pull-left,\r\n.fas.b-fa-pull-left,\r\n.far.b-fa-pull-left,\r\n.fal.b-fa-pull-left,\r\n.fab.b-fa-pull-left {\r\n  margin-right: 0.3em;\r\n}\r\n.b-fa.b-fa-pull-right,\r\n.fas.b-fa-pull-right,\r\n.far.b-fa-pull-right,\r\n.fal.b-fa-pull-right,\r\n.fab.b-fa-pull-right {\r\n  margin-left: 0.3em;\r\n}\r\n\r\n.b-fa-spin {\r\n  animation: fa-spin 2s infinite linear;\r\n}\r\n\r\n.b-fa-pulse {\r\n  animation: fa-spin 1s infinite steps(8);\r\n}\r\n\r\n@keyframes fa-spin {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n.b-fa-rotate-90 {\r\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\r\n  transform: rotate(90deg);\r\n}\r\n\r\n.b-fa-rotate-180 {\r\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.b-fa-rotate-270 {\r\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\r\n  transform: rotate(270deg);\r\n}\r\n\r\n.b-fa-flip-horizontal {\r\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\r\n  transform: scale(-1, 1);\r\n}\r\n\r\n.b-fa-flip-vertical {\r\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\r\n  transform: scale(1, -1);\r\n}\r\n\r\n.b-fa-flip-both, .b-fa-flip-horizontal.b-fa-flip-vertical {\r\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\r\n  transform: scale(-1, -1);\r\n}\r\n\r\n:root .b-fa-rotate-90,\r\n:root .b-fa-rotate-180,\r\n:root .b-fa-rotate-270,\r\n:root .b-fa-flip-horizontal,\r\n:root .b-fa-flip-vertical,\r\n:root .b-fa-flip-both {\r\n  filter: none;\r\n}\r\n\r\n.b-fa-stack {\r\n  display: inline-block;\r\n  height: 2em;\r\n  line-height: 2em;\r\n  position: relative;\r\n  vertical-align: middle;\r\n  width: 2.5em;\r\n}\r\n\r\n.b-fa-stack-1x,\r\n.b-fa-stack-2x {\r\n  left: 0;\r\n  position: absolute;\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.b-fa-stack-1x {\r\n  line-height: inherit;\r\n}\r\n\r\n.b-fa-stack-2x {\r\n  font-size: 2em;\r\n}\r\n\r\n.b-fa-inverse {\r\n  color: #fff;\r\n}\r\n\r\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\r\nreaders do not read off random characters that represent icons */\r\n.b-fa-500px:before {\r\n  content: "\\f26e";\r\n}\r\n\r\n.b-fa-accessible-icon:before {\r\n  content: "\\f368";\r\n}\r\n\r\n.b-fa-accusoft:before {\r\n  content: "\\f369";\r\n}\r\n\r\n.b-fa-acquisitions-incorporated:before {\r\n  content: "\\f6af";\r\n}\r\n\r\n.b-fa-ad:before {\r\n  content: "\\f641";\r\n}\r\n\r\n.b-fa-address-book:before {\r\n  content: "\\f2b9";\r\n}\r\n\r\n.b-fa-address-card:before {\r\n  content: "\\f2bb";\r\n}\r\n\r\n.b-fa-adjust:before {\r\n  content: "\\f042";\r\n}\r\n\r\n.b-fa-adn:before {\r\n  content: "\\f170";\r\n}\r\n\r\n.b-fa-adversal:before {\r\n  content: "\\f36a";\r\n}\r\n\r\n.b-fa-affiliatetheme:before {\r\n  content: "\\f36b";\r\n}\r\n\r\n.b-fa-air-freshener:before {\r\n  content: "\\f5d0";\r\n}\r\n\r\n.b-fa-airbnb:before {\r\n  content: "\\f834";\r\n}\r\n\r\n.b-fa-algolia:before {\r\n  content: "\\f36c";\r\n}\r\n\r\n.b-fa-align-center:before {\r\n  content: "\\f037";\r\n}\r\n\r\n.b-fa-align-justify:before {\r\n  content: "\\f039";\r\n}\r\n\r\n.b-fa-align-left:before {\r\n  content: "\\f036";\r\n}\r\n\r\n.b-fa-align-right:before {\r\n  content: "\\f038";\r\n}\r\n\r\n.b-fa-alipay:before {\r\n  content: "\\f642";\r\n}\r\n\r\n.b-fa-allergies:before {\r\n  content: "\\f461";\r\n}\r\n\r\n.b-fa-amazon:before {\r\n  content: "\\f270";\r\n}\r\n\r\n.b-fa-amazon-pay:before {\r\n  content: "\\f42c";\r\n}\r\n\r\n.b-fa-ambulance:before {\r\n  content: "\\f0f9";\r\n}\r\n\r\n.b-fa-american-sign-language-interpreting:before {\r\n  content: "\\f2a3";\r\n}\r\n\r\n.b-fa-amilia:before {\r\n  content: "\\f36d";\r\n}\r\n\r\n.b-fa-anchor:before {\r\n  content: "\\f13d";\r\n}\r\n\r\n.b-fa-android:before {\r\n  content: "\\f17b";\r\n}\r\n\r\n.b-fa-angellist:before {\r\n  content: "\\f209";\r\n}\r\n\r\n.b-fa-angle-double-down:before {\r\n  content: "\\f103";\r\n}\r\n\r\n.b-fa-angle-double-left:before {\r\n  content: "\\f100";\r\n}\r\n\r\n.b-fa-angle-double-right:before {\r\n  content: "\\f101";\r\n}\r\n\r\n.b-fa-angle-double-up:before {\r\n  content: "\\f102";\r\n}\r\n\r\n.b-fa-angle-down:before {\r\n  content: "\\f107";\r\n}\r\n\r\n.b-fa-angle-left:before {\r\n  content: "\\f104";\r\n}\r\n\r\n.b-fa-angle-right:before {\r\n  content: "\\f105";\r\n}\r\n\r\n.b-fa-angle-up:before {\r\n  content: "\\f106";\r\n}\r\n\r\n.b-fa-angry:before {\r\n  content: "\\f556";\r\n}\r\n\r\n.b-fa-angrycreative:before {\r\n  content: "\\f36e";\r\n}\r\n\r\n.b-fa-angular:before {\r\n  content: "\\f420";\r\n}\r\n\r\n.b-fa-ankh:before {\r\n  content: "\\f644";\r\n}\r\n\r\n.b-fa-app-store:before {\r\n  content: "\\f36f";\r\n}\r\n\r\n.b-fa-app-store-ios:before {\r\n  content: "\\f370";\r\n}\r\n\r\n.b-fa-apper:before {\r\n  content: "\\f371";\r\n}\r\n\r\n.b-fa-apple:before {\r\n  content: "\\f179";\r\n}\r\n\r\n.b-fa-apple-alt:before {\r\n  content: "\\f5d1";\r\n}\r\n\r\n.b-fa-apple-pay:before {\r\n  content: "\\f415";\r\n}\r\n\r\n.b-fa-archive:before {\r\n  content: "\\f187";\r\n}\r\n\r\n.b-fa-archway:before {\r\n  content: "\\f557";\r\n}\r\n\r\n.b-fa-arrow-alt-circle-down:before {\r\n  content: "\\f358";\r\n}\r\n\r\n.b-fa-arrow-alt-circle-left:before {\r\n  content: "\\f359";\r\n}\r\n\r\n.b-fa-arrow-alt-circle-right:before {\r\n  content: "\\f35a";\r\n}\r\n\r\n.b-fa-arrow-alt-circle-up:before {\r\n  content: "\\f35b";\r\n}\r\n\r\n.b-fa-arrow-circle-down:before {\r\n  content: "\\f0ab";\r\n}\r\n\r\n.b-fa-arrow-circle-left:before {\r\n  content: "\\f0a8";\r\n}\r\n\r\n.b-fa-arrow-circle-right:before {\r\n  content: "\\f0a9";\r\n}\r\n\r\n.b-fa-arrow-circle-up:before {\r\n  content: "\\f0aa";\r\n}\r\n\r\n.b-fa-arrow-down:before {\r\n  content: "\\f063";\r\n}\r\n\r\n.b-fa-arrow-left:before {\r\n  content: "\\f060";\r\n}\r\n\r\n.b-fa-arrow-right:before {\r\n  content: "\\f061";\r\n}\r\n\r\n.b-fa-arrow-up:before {\r\n  content: "\\f062";\r\n}\r\n\r\n.b-fa-arrows-alt:before {\r\n  content: "\\f0b2";\r\n}\r\n\r\n.b-fa-arrows-alt-h:before {\r\n  content: "\\f337";\r\n}\r\n\r\n.b-fa-arrows-alt-v:before {\r\n  content: "\\f338";\r\n}\r\n\r\n.b-fa-artstation:before {\r\n  content: "\\f77a";\r\n}\r\n\r\n.b-fa-assistive-listening-systems:before {\r\n  content: "\\f2a2";\r\n}\r\n\r\n.b-fa-asterisk:before {\r\n  content: "\\f069";\r\n}\r\n\r\n.b-fa-asymmetrik:before {\r\n  content: "\\f372";\r\n}\r\n\r\n.b-fa-at:before {\r\n  content: "\\f1fa";\r\n}\r\n\r\n.b-fa-atlas:before {\r\n  content: "\\f558";\r\n}\r\n\r\n.b-fa-atlassian:before {\r\n  content: "\\f77b";\r\n}\r\n\r\n.b-fa-atom:before {\r\n  content: "\\f5d2";\r\n}\r\n\r\n.b-fa-audible:before {\r\n  content: "\\f373";\r\n}\r\n\r\n.b-fa-audio-description:before {\r\n  content: "\\f29e";\r\n}\r\n\r\n.b-fa-autoprefixer:before {\r\n  content: "\\f41c";\r\n}\r\n\r\n.b-fa-avianex:before {\r\n  content: "\\f374";\r\n}\r\n\r\n.b-fa-aviato:before {\r\n  content: "\\f421";\r\n}\r\n\r\n.b-fa-award:before {\r\n  content: "\\f559";\r\n}\r\n\r\n.b-fa-aws:before {\r\n  content: "\\f375";\r\n}\r\n\r\n.b-fa-baby:before {\r\n  content: "\\f77c";\r\n}\r\n\r\n.b-fa-baby-carriage:before {\r\n  content: "\\f77d";\r\n}\r\n\r\n.b-fa-backspace:before {\r\n  content: "\\f55a";\r\n}\r\n\r\n.b-fa-backward:before {\r\n  content: "\\f04a";\r\n}\r\n\r\n.b-fa-bacon:before {\r\n  content: "\\f7e5";\r\n}\r\n\r\n.b-fa-bacteria:before {\r\n  content: "\\e059";\r\n}\r\n\r\n.b-fa-bacterium:before {\r\n  content: "\\e05a";\r\n}\r\n\r\n.b-fa-bahai:before {\r\n  content: "\\f666";\r\n}\r\n\r\n.b-fa-balance-scale:before {\r\n  content: "\\f24e";\r\n}\r\n\r\n.b-fa-balance-scale-left:before {\r\n  content: "\\f515";\r\n}\r\n\r\n.b-fa-balance-scale-right:before {\r\n  content: "\\f516";\r\n}\r\n\r\n.b-fa-ban:before {\r\n  content: "\\f05e";\r\n}\r\n\r\n.b-fa-band-aid:before {\r\n  content: "\\f462";\r\n}\r\n\r\n.b-fa-bandcamp:before {\r\n  content: "\\f2d5";\r\n}\r\n\r\n.b-fa-barcode:before {\r\n  content: "\\f02a";\r\n}\r\n\r\n.b-fa-bars:before {\r\n  content: "\\f0c9";\r\n}\r\n\r\n.b-fa-baseball-ball:before {\r\n  content: "\\f433";\r\n}\r\n\r\n.b-fa-basketball-ball:before {\r\n  content: "\\f434";\r\n}\r\n\r\n.b-fa-bath:before {\r\n  content: "\\f2cd";\r\n}\r\n\r\n.b-fa-battery-empty:before {\r\n  content: "\\f244";\r\n}\r\n\r\n.b-fa-battery-full:before {\r\n  content: "\\f240";\r\n}\r\n\r\n.b-fa-battery-half:before {\r\n  content: "\\f242";\r\n}\r\n\r\n.b-fa-battery-quarter:before {\r\n  content: "\\f243";\r\n}\r\n\r\n.b-fa-battery-three-quarters:before {\r\n  content: "\\f241";\r\n}\r\n\r\n.b-fa-battle-net:before {\r\n  content: "\\f835";\r\n}\r\n\r\n.b-fa-bed:before {\r\n  content: "\\f236";\r\n}\r\n\r\n.b-fa-beer:before {\r\n  content: "\\f0fc";\r\n}\r\n\r\n.b-fa-behance:before {\r\n  content: "\\f1b4";\r\n}\r\n\r\n.b-fa-behance-square:before {\r\n  content: "\\f1b5";\r\n}\r\n\r\n.b-fa-bell:before {\r\n  content: "\\f0f3";\r\n}\r\n\r\n.b-fa-bell-slash:before {\r\n  content: "\\f1f6";\r\n}\r\n\r\n.b-fa-bezier-curve:before {\r\n  content: "\\f55b";\r\n}\r\n\r\n.b-fa-bible:before {\r\n  content: "\\f647";\r\n}\r\n\r\n.b-fa-bicycle:before {\r\n  content: "\\f206";\r\n}\r\n\r\n.b-fa-biking:before {\r\n  content: "\\f84a";\r\n}\r\n\r\n.b-fa-bimobject:before {\r\n  content: "\\f378";\r\n}\r\n\r\n.b-fa-binoculars:before {\r\n  content: "\\f1e5";\r\n}\r\n\r\n.b-fa-biohazard:before {\r\n  content: "\\f780";\r\n}\r\n\r\n.b-fa-birthday-cake:before {\r\n  content: "\\f1fd";\r\n}\r\n\r\n.b-fa-bitbucket:before {\r\n  content: "\\f171";\r\n}\r\n\r\n.b-fa-bitcoin:before {\r\n  content: "\\f379";\r\n}\r\n\r\n.b-fa-bity:before {\r\n  content: "\\f37a";\r\n}\r\n\r\n.b-fa-black-tie:before {\r\n  content: "\\f27e";\r\n}\r\n\r\n.b-fa-blackberry:before {\r\n  content: "\\f37b";\r\n}\r\n\r\n.b-fa-blender:before {\r\n  content: "\\f517";\r\n}\r\n\r\n.b-fa-blender-phone:before {\r\n  content: "\\f6b6";\r\n}\r\n\r\n.b-fa-blind:before {\r\n  content: "\\f29d";\r\n}\r\n\r\n.b-fa-blog:before {\r\n  content: "\\f781";\r\n}\r\n\r\n.b-fa-blogger:before {\r\n  content: "\\f37c";\r\n}\r\n\r\n.b-fa-blogger-b:before {\r\n  content: "\\f37d";\r\n}\r\n\r\n.b-fa-bluetooth:before {\r\n  content: "\\f293";\r\n}\r\n\r\n.b-fa-bluetooth-b:before {\r\n  content: "\\f294";\r\n}\r\n\r\n.b-fa-bold:before {\r\n  content: "\\f032";\r\n}\r\n\r\n.b-fa-bolt:before {\r\n  content: "\\f0e7";\r\n}\r\n\r\n.b-fa-bomb:before {\r\n  content: "\\f1e2";\r\n}\r\n\r\n.b-fa-bone:before {\r\n  content: "\\f5d7";\r\n}\r\n\r\n.b-fa-bong:before {\r\n  content: "\\f55c";\r\n}\r\n\r\n.b-fa-book:before {\r\n  content: "\\f02d";\r\n}\r\n\r\n.b-fa-book-dead:before {\r\n  content: "\\f6b7";\r\n}\r\n\r\n.b-fa-book-medical:before {\r\n  content: "\\f7e6";\r\n}\r\n\r\n.b-fa-book-open:before {\r\n  content: "\\f518";\r\n}\r\n\r\n.b-fa-book-reader:before {\r\n  content: "\\f5da";\r\n}\r\n\r\n.b-fa-bookmark:before {\r\n  content: "\\f02e";\r\n}\r\n\r\n.b-fa-bootstrap:before {\r\n  content: "\\f836";\r\n}\r\n\r\n.b-fa-border-all:before {\r\n  content: "\\f84c";\r\n}\r\n\r\n.b-fa-border-none:before {\r\n  content: "\\f850";\r\n}\r\n\r\n.b-fa-border-style:before {\r\n  content: "\\f853";\r\n}\r\n\r\n.b-fa-bowling-ball:before {\r\n  content: "\\f436";\r\n}\r\n\r\n.b-fa-box:before {\r\n  content: "\\f466";\r\n}\r\n\r\n.b-fa-box-open:before {\r\n  content: "\\f49e";\r\n}\r\n\r\n.b-fa-box-tissue:before {\r\n  content: "\\e05b";\r\n}\r\n\r\n.b-fa-boxes:before {\r\n  content: "\\f468";\r\n}\r\n\r\n.b-fa-braille:before {\r\n  content: "\\f2a1";\r\n}\r\n\r\n.b-fa-brain:before {\r\n  content: "\\f5dc";\r\n}\r\n\r\n.b-fa-bread-slice:before {\r\n  content: "\\f7ec";\r\n}\r\n\r\n.b-fa-briefcase:before {\r\n  content: "\\f0b1";\r\n}\r\n\r\n.b-fa-briefcase-medical:before {\r\n  content: "\\f469";\r\n}\r\n\r\n.b-fa-broadcast-tower:before {\r\n  content: "\\f519";\r\n}\r\n\r\n.b-fa-broom:before {\r\n  content: "\\f51a";\r\n}\r\n\r\n.b-fa-brush:before {\r\n  content: "\\f55d";\r\n}\r\n\r\n.b-fa-btc:before {\r\n  content: "\\f15a";\r\n}\r\n\r\n.b-fa-buffer:before {\r\n  content: "\\f837";\r\n}\r\n\r\n.b-fa-bug:before {\r\n  content: "\\f188";\r\n}\r\n\r\n.b-fa-building:before {\r\n  content: "\\f1ad";\r\n}\r\n\r\n.b-fa-bullhorn:before {\r\n  content: "\\f0a1";\r\n}\r\n\r\n.b-fa-bullseye:before {\r\n  content: "\\f140";\r\n}\r\n\r\n.b-fa-burn:before {\r\n  content: "\\f46a";\r\n}\r\n\r\n.b-fa-buromobelexperte:before {\r\n  content: "\\f37f";\r\n}\r\n\r\n.b-fa-bus:before {\r\n  content: "\\f207";\r\n}\r\n\r\n.b-fa-bus-alt:before {\r\n  content: "\\f55e";\r\n}\r\n\r\n.b-fa-business-time:before {\r\n  content: "\\f64a";\r\n}\r\n\r\n.b-fa-buy-n-large:before {\r\n  content: "\\f8a6";\r\n}\r\n\r\n.b-fa-buysellads:before {\r\n  content: "\\f20d";\r\n}\r\n\r\n.b-fa-calculator:before {\r\n  content: "\\f1ec";\r\n}\r\n\r\n.b-fa-calendar:before {\r\n  content: "\\f133";\r\n}\r\n\r\n.b-fa-calendar-alt:before {\r\n  content: "\\f073";\r\n}\r\n\r\n.b-fa-calendar-check:before {\r\n  content: "\\f274";\r\n}\r\n\r\n.b-fa-calendar-day:before {\r\n  content: "\\f783";\r\n}\r\n\r\n.b-fa-calendar-minus:before {\r\n  content: "\\f272";\r\n}\r\n\r\n.b-fa-calendar-plus:before {\r\n  content: "\\f271";\r\n}\r\n\r\n.b-fa-calendar-times:before {\r\n  content: "\\f273";\r\n}\r\n\r\n.b-fa-calendar-week:before {\r\n  content: "\\f784";\r\n}\r\n\r\n.b-fa-camera:before {\r\n  content: "\\f030";\r\n}\r\n\r\n.b-fa-camera-retro:before {\r\n  content: "\\f083";\r\n}\r\n\r\n.b-fa-campground:before {\r\n  content: "\\f6bb";\r\n}\r\n\r\n.b-fa-canadian-maple-leaf:before {\r\n  content: "\\f785";\r\n}\r\n\r\n.b-fa-candy-cane:before {\r\n  content: "\\f786";\r\n}\r\n\r\n.b-fa-cannabis:before {\r\n  content: "\\f55f";\r\n}\r\n\r\n.b-fa-capsules:before {\r\n  content: "\\f46b";\r\n}\r\n\r\n.b-fa-car:before {\r\n  content: "\\f1b9";\r\n}\r\n\r\n.b-fa-car-alt:before {\r\n  content: "\\f5de";\r\n}\r\n\r\n.b-fa-car-battery:before {\r\n  content: "\\f5df";\r\n}\r\n\r\n.b-fa-car-crash:before {\r\n  content: "\\f5e1";\r\n}\r\n\r\n.b-fa-car-side:before {\r\n  content: "\\f5e4";\r\n}\r\n\r\n.b-fa-caravan:before {\r\n  content: "\\f8ff";\r\n}\r\n\r\n.b-fa-caret-down:before {\r\n  content: "\\f0d7";\r\n}\r\n\r\n.b-fa-caret-left:before {\r\n  content: "\\f0d9";\r\n}\r\n\r\n.b-fa-caret-right:before {\r\n  content: "\\f0da";\r\n}\r\n\r\n.b-fa-caret-square-down:before {\r\n  content: "\\f150";\r\n}\r\n\r\n.b-fa-caret-square-left:before {\r\n  content: "\\f191";\r\n}\r\n\r\n.b-fa-caret-square-right:before {\r\n  content: "\\f152";\r\n}\r\n\r\n.b-fa-caret-square-up:before {\r\n  content: "\\f151";\r\n}\r\n\r\n.b-fa-caret-up:before {\r\n  content: "\\f0d8";\r\n}\r\n\r\n.b-fa-carrot:before {\r\n  content: "\\f787";\r\n}\r\n\r\n.b-fa-cart-arrow-down:before {\r\n  content: "\\f218";\r\n}\r\n\r\n.b-fa-cart-plus:before {\r\n  content: "\\f217";\r\n}\r\n\r\n.b-fa-cash-register:before {\r\n  content: "\\f788";\r\n}\r\n\r\n.b-fa-cat:before {\r\n  content: "\\f6be";\r\n}\r\n\r\n.b-fa-cc-amazon-pay:before {\r\n  content: "\\f42d";\r\n}\r\n\r\n.b-fa-cc-amex:before {\r\n  content: "\\f1f3";\r\n}\r\n\r\n.b-fa-cc-apple-pay:before {\r\n  content: "\\f416";\r\n}\r\n\r\n.b-fa-cc-diners-club:before {\r\n  content: "\\f24c";\r\n}\r\n\r\n.b-fa-cc-discover:before {\r\n  content: "\\f1f2";\r\n}\r\n\r\n.b-fa-cc-jcb:before {\r\n  content: "\\f24b";\r\n}\r\n\r\n.b-fa-cc-mastercard:before {\r\n  content: "\\f1f1";\r\n}\r\n\r\n.b-fa-cc-paypal:before {\r\n  content: "\\f1f4";\r\n}\r\n\r\n.b-fa-cc-stripe:before {\r\n  content: "\\f1f5";\r\n}\r\n\r\n.b-fa-cc-visa:before {\r\n  content: "\\f1f0";\r\n}\r\n\r\n.b-fa-centercode:before {\r\n  content: "\\f380";\r\n}\r\n\r\n.b-fa-centos:before {\r\n  content: "\\f789";\r\n}\r\n\r\n.b-fa-certificate:before {\r\n  content: "\\f0a3";\r\n}\r\n\r\n.b-fa-chair:before {\r\n  content: "\\f6c0";\r\n}\r\n\r\n.b-fa-chalkboard:before {\r\n  content: "\\f51b";\r\n}\r\n\r\n.b-fa-chalkboard-teacher:before {\r\n  content: "\\f51c";\r\n}\r\n\r\n.b-fa-charging-station:before {\r\n  content: "\\f5e7";\r\n}\r\n\r\n.b-fa-chart-area:before {\r\n  content: "\\f1fe";\r\n}\r\n\r\n.b-fa-chart-bar:before {\r\n  content: "\\f080";\r\n}\r\n\r\n.b-fa-chart-line:before {\r\n  content: "\\f201";\r\n}\r\n\r\n.b-fa-chart-pie:before {\r\n  content: "\\f200";\r\n}\r\n\r\n.b-fa-check:before {\r\n  content: "\\f00c";\r\n}\r\n\r\n.b-fa-check-circle:before {\r\n  content: "\\f058";\r\n}\r\n\r\n.b-fa-check-double:before {\r\n  content: "\\f560";\r\n}\r\n\r\n.b-fa-check-square:before {\r\n  content: "\\f14a";\r\n}\r\n\r\n.b-fa-cheese:before {\r\n  content: "\\f7ef";\r\n}\r\n\r\n.b-fa-chess:before {\r\n  content: "\\f439";\r\n}\r\n\r\n.b-fa-chess-bishop:before {\r\n  content: "\\f43a";\r\n}\r\n\r\n.b-fa-chess-board:before {\r\n  content: "\\f43c";\r\n}\r\n\r\n.b-fa-chess-king:before {\r\n  content: "\\f43f";\r\n}\r\n\r\n.b-fa-chess-knight:before {\r\n  content: "\\f441";\r\n}\r\n\r\n.b-fa-chess-pawn:before {\r\n  content: "\\f443";\r\n}\r\n\r\n.b-fa-chess-queen:before {\r\n  content: "\\f445";\r\n}\r\n\r\n.b-fa-chess-rook:before {\r\n  content: "\\f447";\r\n}\r\n\r\n.b-fa-chevron-circle-down:before {\r\n  content: "\\f13a";\r\n}\r\n\r\n.b-fa-chevron-circle-left:before {\r\n  content: "\\f137";\r\n}\r\n\r\n.b-fa-chevron-circle-right:before {\r\n  content: "\\f138";\r\n}\r\n\r\n.b-fa-chevron-circle-up:before {\r\n  content: "\\f139";\r\n}\r\n\r\n.b-fa-chevron-down:before {\r\n  content: "\\f078";\r\n}\r\n\r\n.b-fa-chevron-left:before {\r\n  content: "\\f053";\r\n}\r\n\r\n.b-fa-chevron-right:before {\r\n  content: "\\f054";\r\n}\r\n\r\n.b-fa-chevron-up:before {\r\n  content: "\\f077";\r\n}\r\n\r\n.b-fa-child:before {\r\n  content: "\\f1ae";\r\n}\r\n\r\n.b-fa-chrome:before {\r\n  content: "\\f268";\r\n}\r\n\r\n.b-fa-chromecast:before {\r\n  content: "\\f838";\r\n}\r\n\r\n.b-fa-church:before {\r\n  content: "\\f51d";\r\n}\r\n\r\n.b-fa-circle:before {\r\n  content: "\\f111";\r\n}\r\n\r\n.b-fa-circle-notch:before {\r\n  content: "\\f1ce";\r\n}\r\n\r\n.b-fa-city:before {\r\n  content: "\\f64f";\r\n}\r\n\r\n.b-fa-clinic-medical:before {\r\n  content: "\\f7f2";\r\n}\r\n\r\n.b-fa-clipboard:before {\r\n  content: "\\f328";\r\n}\r\n\r\n.b-fa-clipboard-check:before {\r\n  content: "\\f46c";\r\n}\r\n\r\n.b-fa-clipboard-list:before {\r\n  content: "\\f46d";\r\n}\r\n\r\n.b-fa-clock:before {\r\n  content: "\\f017";\r\n}\r\n\r\n.b-fa-clone:before {\r\n  content: "\\f24d";\r\n}\r\n\r\n.b-fa-closed-captioning:before {\r\n  content: "\\f20a";\r\n}\r\n\r\n.b-fa-cloud:before {\r\n  content: "\\f0c2";\r\n}\r\n\r\n.b-fa-cloud-download-alt:before {\r\n  content: "\\f381";\r\n}\r\n\r\n.b-fa-cloud-meatball:before {\r\n  content: "\\f73b";\r\n}\r\n\r\n.b-fa-cloud-moon:before {\r\n  content: "\\f6c3";\r\n}\r\n\r\n.b-fa-cloud-moon-rain:before {\r\n  content: "\\f73c";\r\n}\r\n\r\n.b-fa-cloud-rain:before {\r\n  content: "\\f73d";\r\n}\r\n\r\n.b-fa-cloud-showers-heavy:before {\r\n  content: "\\f740";\r\n}\r\n\r\n.b-fa-cloud-sun:before {\r\n  content: "\\f6c4";\r\n}\r\n\r\n.b-fa-cloud-sun-rain:before {\r\n  content: "\\f743";\r\n}\r\n\r\n.b-fa-cloud-upload-alt:before {\r\n  content: "\\f382";\r\n}\r\n\r\n.b-fa-cloudflare:before {\r\n  content: "\\e07d";\r\n}\r\n\r\n.b-fa-cloudscale:before {\r\n  content: "\\f383";\r\n}\r\n\r\n.b-fa-cloudsmith:before {\r\n  content: "\\f384";\r\n}\r\n\r\n.b-fa-cloudversify:before {\r\n  content: "\\f385";\r\n}\r\n\r\n.b-fa-cocktail:before {\r\n  content: "\\f561";\r\n}\r\n\r\n.b-fa-code:before {\r\n  content: "\\f121";\r\n}\r\n\r\n.b-fa-code-branch:before {\r\n  content: "\\f126";\r\n}\r\n\r\n.b-fa-codepen:before {\r\n  content: "\\f1cb";\r\n}\r\n\r\n.b-fa-codiepie:before {\r\n  content: "\\f284";\r\n}\r\n\r\n.b-fa-coffee:before {\r\n  content: "\\f0f4";\r\n}\r\n\r\n.b-fa-cog:before {\r\n  content: "\\f013";\r\n}\r\n\r\n.b-fa-cogs:before {\r\n  content: "\\f085";\r\n}\r\n\r\n.b-fa-coins:before {\r\n  content: "\\f51e";\r\n}\r\n\r\n.b-fa-columns:before {\r\n  content: "\\f0db";\r\n}\r\n\r\n.b-fa-comment:before {\r\n  content: "\\f075";\r\n}\r\n\r\n.b-fa-comment-alt:before {\r\n  content: "\\f27a";\r\n}\r\n\r\n.b-fa-comment-dollar:before {\r\n  content: "\\f651";\r\n}\r\n\r\n.b-fa-comment-dots:before {\r\n  content: "\\f4ad";\r\n}\r\n\r\n.b-fa-comment-medical:before {\r\n  content: "\\f7f5";\r\n}\r\n\r\n.b-fa-comment-slash:before {\r\n  content: "\\f4b3";\r\n}\r\n\r\n.b-fa-comments:before {\r\n  content: "\\f086";\r\n}\r\n\r\n.b-fa-comments-dollar:before {\r\n  content: "\\f653";\r\n}\r\n\r\n.b-fa-compact-disc:before {\r\n  content: "\\f51f";\r\n}\r\n\r\n.b-fa-compass:before {\r\n  content: "\\f14e";\r\n}\r\n\r\n.b-fa-compress:before {\r\n  content: "\\f066";\r\n}\r\n\r\n.b-fa-compress-alt:before {\r\n  content: "\\f422";\r\n}\r\n\r\n.b-fa-compress-arrows-alt:before {\r\n  content: "\\f78c";\r\n}\r\n\r\n.b-fa-concierge-bell:before {\r\n  content: "\\f562";\r\n}\r\n\r\n.b-fa-confluence:before {\r\n  content: "\\f78d";\r\n}\r\n\r\n.b-fa-connectdevelop:before {\r\n  content: "\\f20e";\r\n}\r\n\r\n.b-fa-contao:before {\r\n  content: "\\f26d";\r\n}\r\n\r\n.b-fa-cookie:before {\r\n  content: "\\f563";\r\n}\r\n\r\n.b-fa-cookie-bite:before {\r\n  content: "\\f564";\r\n}\r\n\r\n.b-fa-copy:before {\r\n  content: "\\f0c5";\r\n}\r\n\r\n.b-fa-copyright:before {\r\n  content: "\\f1f9";\r\n}\r\n\r\n.b-fa-cotton-bureau:before {\r\n  content: "\\f89e";\r\n}\r\n\r\n.b-fa-couch:before {\r\n  content: "\\f4b8";\r\n}\r\n\r\n.b-fa-cpanel:before {\r\n  content: "\\f388";\r\n}\r\n\r\n.b-fa-creative-commons:before {\r\n  content: "\\f25e";\r\n}\r\n\r\n.b-fa-creative-commons-by:before {\r\n  content: "\\f4e7";\r\n}\r\n\r\n.b-fa-creative-commons-nc:before {\r\n  content: "\\f4e8";\r\n}\r\n\r\n.b-fa-creative-commons-nc-eu:before {\r\n  content: "\\f4e9";\r\n}\r\n\r\n.b-fa-creative-commons-nc-jp:before {\r\n  content: "\\f4ea";\r\n}\r\n\r\n.b-fa-creative-commons-nd:before {\r\n  content: "\\f4eb";\r\n}\r\n\r\n.b-fa-creative-commons-pd:before {\r\n  content: "\\f4ec";\r\n}\r\n\r\n.b-fa-creative-commons-pd-alt:before {\r\n  content: "\\f4ed";\r\n}\r\n\r\n.b-fa-creative-commons-remix:before {\r\n  content: "\\f4ee";\r\n}\r\n\r\n.b-fa-creative-commons-sa:before {\r\n  content: "\\f4ef";\r\n}\r\n\r\n.b-fa-creative-commons-sampling:before {\r\n  content: "\\f4f0";\r\n}\r\n\r\n.b-fa-creative-commons-sampling-plus:before {\r\n  content: "\\f4f1";\r\n}\r\n\r\n.b-fa-creative-commons-share:before {\r\n  content: "\\f4f2";\r\n}\r\n\r\n.b-fa-creative-commons-zero:before {\r\n  content: "\\f4f3";\r\n}\r\n\r\n.b-fa-credit-card:before {\r\n  content: "\\f09d";\r\n}\r\n\r\n.b-fa-critical-role:before {\r\n  content: "\\f6c9";\r\n}\r\n\r\n.b-fa-crop:before {\r\n  content: "\\f125";\r\n}\r\n\r\n.b-fa-crop-alt:before {\r\n  content: "\\f565";\r\n}\r\n\r\n.b-fa-cross:before {\r\n  content: "\\f654";\r\n}\r\n\r\n.b-fa-crosshairs:before {\r\n  content: "\\f05b";\r\n}\r\n\r\n.b-fa-crow:before {\r\n  content: "\\f520";\r\n}\r\n\r\n.b-fa-crown:before {\r\n  content: "\\f521";\r\n}\r\n\r\n.b-fa-crutch:before {\r\n  content: "\\f7f7";\r\n}\r\n\r\n.b-fa-css3:before {\r\n  content: "\\f13c";\r\n}\r\n\r\n.b-fa-css3-alt:before {\r\n  content: "\\f38b";\r\n}\r\n\r\n.b-fa-cube:before {\r\n  content: "\\f1b2";\r\n}\r\n\r\n.b-fa-cubes:before {\r\n  content: "\\f1b3";\r\n}\r\n\r\n.b-fa-cut:before {\r\n  content: "\\f0c4";\r\n}\r\n\r\n.b-fa-cuttlefish:before {\r\n  content: "\\f38c";\r\n}\r\n\r\n.b-fa-d-and-d:before {\r\n  content: "\\f38d";\r\n}\r\n\r\n.b-fa-d-and-d-beyond:before {\r\n  content: "\\f6ca";\r\n}\r\n\r\n.b-fa-dailymotion:before {\r\n  content: "\\e052";\r\n}\r\n\r\n.b-fa-dashcube:before {\r\n  content: "\\f210";\r\n}\r\n\r\n.b-fa-database:before {\r\n  content: "\\f1c0";\r\n}\r\n\r\n.b-fa-deaf:before {\r\n  content: "\\f2a4";\r\n}\r\n\r\n.b-fa-deezer:before {\r\n  content: "\\e077";\r\n}\r\n\r\n.b-fa-delicious:before {\r\n  content: "\\f1a5";\r\n}\r\n\r\n.b-fa-democrat:before {\r\n  content: "\\f747";\r\n}\r\n\r\n.b-fa-deploydog:before {\r\n  content: "\\f38e";\r\n}\r\n\r\n.b-fa-deskpro:before {\r\n  content: "\\f38f";\r\n}\r\n\r\n.b-fa-desktop:before {\r\n  content: "\\f108";\r\n}\r\n\r\n.b-fa-dev:before {\r\n  content: "\\f6cc";\r\n}\r\n\r\n.b-fa-deviantart:before {\r\n  content: "\\f1bd";\r\n}\r\n\r\n.b-fa-dharmachakra:before {\r\n  content: "\\f655";\r\n}\r\n\r\n.b-fa-dhl:before {\r\n  content: "\\f790";\r\n}\r\n\r\n.b-fa-diagnoses:before {\r\n  content: "\\f470";\r\n}\r\n\r\n.b-fa-diaspora:before {\r\n  content: "\\f791";\r\n}\r\n\r\n.b-fa-dice:before {\r\n  content: "\\f522";\r\n}\r\n\r\n.b-fa-dice-d20:before {\r\n  content: "\\f6cf";\r\n}\r\n\r\n.b-fa-dice-d6:before {\r\n  content: "\\f6d1";\r\n}\r\n\r\n.b-fa-dice-five:before {\r\n  content: "\\f523";\r\n}\r\n\r\n.b-fa-dice-four:before {\r\n  content: "\\f524";\r\n}\r\n\r\n.b-fa-dice-one:before {\r\n  content: "\\f525";\r\n}\r\n\r\n.b-fa-dice-six:before {\r\n  content: "\\f526";\r\n}\r\n\r\n.b-fa-dice-three:before {\r\n  content: "\\f527";\r\n}\r\n\r\n.b-fa-dice-two:before {\r\n  content: "\\f528";\r\n}\r\n\r\n.b-fa-digg:before {\r\n  content: "\\f1a6";\r\n}\r\n\r\n.b-fa-digital-ocean:before {\r\n  content: "\\f391";\r\n}\r\n\r\n.b-fa-digital-tachograph:before {\r\n  content: "\\f566";\r\n}\r\n\r\n.b-fa-directions:before {\r\n  content: "\\f5eb";\r\n}\r\n\r\n.b-fa-discord:before {\r\n  content: "\\f392";\r\n}\r\n\r\n.b-fa-discourse:before {\r\n  content: "\\f393";\r\n}\r\n\r\n.b-fa-disease:before {\r\n  content: "\\f7fa";\r\n}\r\n\r\n.b-fa-divide:before {\r\n  content: "\\f529";\r\n}\r\n\r\n.b-fa-dizzy:before {\r\n  content: "\\f567";\r\n}\r\n\r\n.b-fa-dna:before {\r\n  content: "\\f471";\r\n}\r\n\r\n.b-fa-dochub:before {\r\n  content: "\\f394";\r\n}\r\n\r\n.b-fa-docker:before {\r\n  content: "\\f395";\r\n}\r\n\r\n.b-fa-dog:before {\r\n  content: "\\f6d3";\r\n}\r\n\r\n.b-fa-dollar-sign:before {\r\n  content: "\\f155";\r\n}\r\n\r\n.b-fa-dolly:before {\r\n  content: "\\f472";\r\n}\r\n\r\n.b-fa-dolly-flatbed:before {\r\n  content: "\\f474";\r\n}\r\n\r\n.b-fa-donate:before {\r\n  content: "\\f4b9";\r\n}\r\n\r\n.b-fa-door-closed:before {\r\n  content: "\\f52a";\r\n}\r\n\r\n.b-fa-door-open:before {\r\n  content: "\\f52b";\r\n}\r\n\r\n.b-fa-dot-circle:before {\r\n  content: "\\f192";\r\n}\r\n\r\n.b-fa-dove:before {\r\n  content: "\\f4ba";\r\n}\r\n\r\n.b-fa-download:before {\r\n  content: "\\f019";\r\n}\r\n\r\n.b-fa-draft2digital:before {\r\n  content: "\\f396";\r\n}\r\n\r\n.b-fa-drafting-compass:before {\r\n  content: "\\f568";\r\n}\r\n\r\n.b-fa-dragon:before {\r\n  content: "\\f6d5";\r\n}\r\n\r\n.b-fa-draw-polygon:before {\r\n  content: "\\f5ee";\r\n}\r\n\r\n.b-fa-dribbble:before {\r\n  content: "\\f17d";\r\n}\r\n\r\n.b-fa-dribbble-square:before {\r\n  content: "\\f397";\r\n}\r\n\r\n.b-fa-dropbox:before {\r\n  content: "\\f16b";\r\n}\r\n\r\n.b-fa-drum:before {\r\n  content: "\\f569";\r\n}\r\n\r\n.b-fa-drum-steelpan:before {\r\n  content: "\\f56a";\r\n}\r\n\r\n.b-fa-drumstick-bite:before {\r\n  content: "\\f6d7";\r\n}\r\n\r\n.b-fa-drupal:before {\r\n  content: "\\f1a9";\r\n}\r\n\r\n.b-fa-dumbbell:before {\r\n  content: "\\f44b";\r\n}\r\n\r\n.b-fa-dumpster:before {\r\n  content: "\\f793";\r\n}\r\n\r\n.b-fa-dumpster-fire:before {\r\n  content: "\\f794";\r\n}\r\n\r\n.b-fa-dungeon:before {\r\n  content: "\\f6d9";\r\n}\r\n\r\n.b-fa-dyalog:before {\r\n  content: "\\f399";\r\n}\r\n\r\n.b-fa-earlybirds:before {\r\n  content: "\\f39a";\r\n}\r\n\r\n.b-fa-ebay:before {\r\n  content: "\\f4f4";\r\n}\r\n\r\n.b-fa-edge:before {\r\n  content: "\\f282";\r\n}\r\n\r\n.b-fa-edge-legacy:before {\r\n  content: "\\e078";\r\n}\r\n\r\n.b-fa-edit:before {\r\n  content: "\\f044";\r\n}\r\n\r\n.b-fa-egg:before {\r\n  content: "\\f7fb";\r\n}\r\n\r\n.b-fa-eject:before {\r\n  content: "\\f052";\r\n}\r\n\r\n.b-fa-elementor:before {\r\n  content: "\\f430";\r\n}\r\n\r\n.b-fa-ellipsis-h:before {\r\n  content: "\\f141";\r\n}\r\n\r\n.b-fa-ellipsis-v:before {\r\n  content: "\\f142";\r\n}\r\n\r\n.b-fa-ello:before {\r\n  content: "\\f5f1";\r\n}\r\n\r\n.b-fa-ember:before {\r\n  content: "\\f423";\r\n}\r\n\r\n.b-fa-empire:before {\r\n  content: "\\f1d1";\r\n}\r\n\r\n.b-fa-envelope:before {\r\n  content: "\\f0e0";\r\n}\r\n\r\n.b-fa-envelope-open:before {\r\n  content: "\\f2b6";\r\n}\r\n\r\n.b-fa-envelope-open-text:before {\r\n  content: "\\f658";\r\n}\r\n\r\n.b-fa-envelope-square:before {\r\n  content: "\\f199";\r\n}\r\n\r\n.b-fa-envira:before {\r\n  content: "\\f299";\r\n}\r\n\r\n.b-fa-equals:before {\r\n  content: "\\f52c";\r\n}\r\n\r\n.b-fa-eraser:before {\r\n  content: "\\f12d";\r\n}\r\n\r\n.b-fa-erlang:before {\r\n  content: "\\f39d";\r\n}\r\n\r\n.b-fa-ethereum:before {\r\n  content: "\\f42e";\r\n}\r\n\r\n.b-fa-ethernet:before {\r\n  content: "\\f796";\r\n}\r\n\r\n.b-fa-etsy:before {\r\n  content: "\\f2d7";\r\n}\r\n\r\n.b-fa-euro-sign:before {\r\n  content: "\\f153";\r\n}\r\n\r\n.b-fa-evernote:before {\r\n  content: "\\f839";\r\n}\r\n\r\n.b-fa-exchange-alt:before {\r\n  content: "\\f362";\r\n}\r\n\r\n.b-fa-exclamation:before {\r\n  content: "\\f12a";\r\n}\r\n\r\n.b-fa-exclamation-circle:before {\r\n  content: "\\f06a";\r\n}\r\n\r\n.b-fa-exclamation-triangle:before {\r\n  content: "\\f071";\r\n}\r\n\r\n.b-fa-expand:before {\r\n  content: "\\f065";\r\n}\r\n\r\n.b-fa-expand-alt:before {\r\n  content: "\\f424";\r\n}\r\n\r\n.b-fa-expand-arrows-alt:before {\r\n  content: "\\f31e";\r\n}\r\n\r\n.b-fa-expeditedssl:before {\r\n  content: "\\f23e";\r\n}\r\n\r\n.b-fa-external-link-alt:before {\r\n  content: "\\f35d";\r\n}\r\n\r\n.b-fa-external-link-square-alt:before {\r\n  content: "\\f360";\r\n}\r\n\r\n.b-fa-eye:before {\r\n  content: "\\f06e";\r\n}\r\n\r\n.b-fa-eye-dropper:before {\r\n  content: "\\f1fb";\r\n}\r\n\r\n.b-fa-eye-slash:before {\r\n  content: "\\f070";\r\n}\r\n\r\n.b-fa-facebook:before {\r\n  content: "\\f09a";\r\n}\r\n\r\n.b-fa-facebook-f:before {\r\n  content: "\\f39e";\r\n}\r\n\r\n.b-fa-facebook-messenger:before {\r\n  content: "\\f39f";\r\n}\r\n\r\n.b-fa-facebook-square:before {\r\n  content: "\\f082";\r\n}\r\n\r\n.b-fa-fan:before {\r\n  content: "\\f863";\r\n}\r\n\r\n.b-fa-fantasy-flight-games:before {\r\n  content: "\\f6dc";\r\n}\r\n\r\n.b-fa-fast-backward:before {\r\n  content: "\\f049";\r\n}\r\n\r\n.b-fa-fast-forward:before {\r\n  content: "\\f050";\r\n}\r\n\r\n.b-fa-faucet:before {\r\n  content: "\\e005";\r\n}\r\n\r\n.b-fa-fax:before {\r\n  content: "\\f1ac";\r\n}\r\n\r\n.b-fa-feather:before {\r\n  content: "\\f52d";\r\n}\r\n\r\n.b-fa-feather-alt:before {\r\n  content: "\\f56b";\r\n}\r\n\r\n.b-fa-fedex:before {\r\n  content: "\\f797";\r\n}\r\n\r\n.b-fa-fedora:before {\r\n  content: "\\f798";\r\n}\r\n\r\n.b-fa-female:before {\r\n  content: "\\f182";\r\n}\r\n\r\n.b-fa-fighter-jet:before {\r\n  content: "\\f0fb";\r\n}\r\n\r\n.b-fa-figma:before {\r\n  content: "\\f799";\r\n}\r\n\r\n.b-fa-file:before {\r\n  content: "\\f15b";\r\n}\r\n\r\n.b-fa-file-alt:before {\r\n  content: "\\f15c";\r\n}\r\n\r\n.b-fa-file-archive:before {\r\n  content: "\\f1c6";\r\n}\r\n\r\n.b-fa-file-audio:before {\r\n  content: "\\f1c7";\r\n}\r\n\r\n.b-fa-file-code:before {\r\n  content: "\\f1c9";\r\n}\r\n\r\n.b-fa-file-contract:before {\r\n  content: "\\f56c";\r\n}\r\n\r\n.b-fa-file-csv:before {\r\n  content: "\\f6dd";\r\n}\r\n\r\n.b-fa-file-download:before {\r\n  content: "\\f56d";\r\n}\r\n\r\n.b-fa-file-excel:before {\r\n  content: "\\f1c3";\r\n}\r\n\r\n.b-fa-file-export:before {\r\n  content: "\\f56e";\r\n}\r\n\r\n.b-fa-file-image:before {\r\n  content: "\\f1c5";\r\n}\r\n\r\n.b-fa-file-import:before {\r\n  content: "\\f56f";\r\n}\r\n\r\n.b-fa-file-invoice:before {\r\n  content: "\\f570";\r\n}\r\n\r\n.b-fa-file-invoice-dollar:before {\r\n  content: "\\f571";\r\n}\r\n\r\n.b-fa-file-medical:before {\r\n  content: "\\f477";\r\n}\r\n\r\n.b-fa-file-medical-alt:before {\r\n  content: "\\f478";\r\n}\r\n\r\n.b-fa-file-pdf:before {\r\n  content: "\\f1c1";\r\n}\r\n\r\n.b-fa-file-powerpoint:before {\r\n  content: "\\f1c4";\r\n}\r\n\r\n.b-fa-file-prescription:before {\r\n  content: "\\f572";\r\n}\r\n\r\n.b-fa-file-signature:before {\r\n  content: "\\f573";\r\n}\r\n\r\n.b-fa-file-upload:before {\r\n  content: "\\f574";\r\n}\r\n\r\n.b-fa-file-video:before {\r\n  content: "\\f1c8";\r\n}\r\n\r\n.b-fa-file-word:before {\r\n  content: "\\f1c2";\r\n}\r\n\r\n.b-fa-fill:before {\r\n  content: "\\f575";\r\n}\r\n\r\n.b-fa-fill-drip:before {\r\n  content: "\\f576";\r\n}\r\n\r\n.b-fa-film:before {\r\n  content: "\\f008";\r\n}\r\n\r\n.b-fa-filter:before {\r\n  content: "\\f0b0";\r\n}\r\n\r\n.b-fa-fingerprint:before {\r\n  content: "\\f577";\r\n}\r\n\r\n.b-fa-fire:before {\r\n  content: "\\f06d";\r\n}\r\n\r\n.b-fa-fire-alt:before {\r\n  content: "\\f7e4";\r\n}\r\n\r\n.b-fa-fire-extinguisher:before {\r\n  content: "\\f134";\r\n}\r\n\r\n.b-fa-firefox:before {\r\n  content: "\\f269";\r\n}\r\n\r\n.b-fa-firefox-browser:before {\r\n  content: "\\e007";\r\n}\r\n\r\n.b-fa-first-aid:before {\r\n  content: "\\f479";\r\n}\r\n\r\n.b-fa-first-order:before {\r\n  content: "\\f2b0";\r\n}\r\n\r\n.b-fa-first-order-alt:before {\r\n  content: "\\f50a";\r\n}\r\n\r\n.b-fa-firstdraft:before {\r\n  content: "\\f3a1";\r\n}\r\n\r\n.b-fa-fish:before {\r\n  content: "\\f578";\r\n}\r\n\r\n.b-fa-fist-raised:before {\r\n  content: "\\f6de";\r\n}\r\n\r\n.b-fa-flag:before {\r\n  content: "\\f024";\r\n}\r\n\r\n.b-fa-flag-checkered:before {\r\n  content: "\\f11e";\r\n}\r\n\r\n.b-fa-flag-usa:before {\r\n  content: "\\f74d";\r\n}\r\n\r\n.b-fa-flask:before {\r\n  content: "\\f0c3";\r\n}\r\n\r\n.b-fa-flickr:before {\r\n  content: "\\f16e";\r\n}\r\n\r\n.b-fa-flipboard:before {\r\n  content: "\\f44d";\r\n}\r\n\r\n.b-fa-flushed:before {\r\n  content: "\\f579";\r\n}\r\n\r\n.b-fa-fly:before {\r\n  content: "\\f417";\r\n}\r\n\r\n.b-fa-folder:before {\r\n  content: "\\f07b";\r\n}\r\n\r\n.b-fa-folder-minus:before {\r\n  content: "\\f65d";\r\n}\r\n\r\n.b-fa-folder-open:before {\r\n  content: "\\f07c";\r\n}\r\n\r\n.b-fa-folder-plus:before {\r\n  content: "\\f65e";\r\n}\r\n\r\n.b-fa-font:before {\r\n  content: "\\f031";\r\n}\r\n\r\n.b-fa-font-awesome:before {\r\n  content: "\\f2b4";\r\n}\r\n\r\n.b-fa-font-awesome-alt:before {\r\n  content: "\\f35c";\r\n}\r\n\r\n.b-fa-font-awesome-flag:before {\r\n  content: "\\f425";\r\n}\r\n\r\n.b-fa-font-awesome-logo-full:before {\r\n  content: "\\f4e6";\r\n}\r\n\r\n.b-fa-fonticons:before {\r\n  content: "\\f280";\r\n}\r\n\r\n.b-fa-fonticons-fi:before {\r\n  content: "\\f3a2";\r\n}\r\n\r\n.b-fa-football-ball:before {\r\n  content: "\\f44e";\r\n}\r\n\r\n.b-fa-fort-awesome:before {\r\n  content: "\\f286";\r\n}\r\n\r\n.b-fa-fort-awesome-alt:before {\r\n  content: "\\f3a3";\r\n}\r\n\r\n.b-fa-forumbee:before {\r\n  content: "\\f211";\r\n}\r\n\r\n.b-fa-forward:before {\r\n  content: "\\f04e";\r\n}\r\n\r\n.b-fa-foursquare:before {\r\n  content: "\\f180";\r\n}\r\n\r\n.b-fa-free-code-camp:before {\r\n  content: "\\f2c5";\r\n}\r\n\r\n.b-fa-freebsd:before {\r\n  content: "\\f3a4";\r\n}\r\n\r\n.b-fa-frog:before {\r\n  content: "\\f52e";\r\n}\r\n\r\n.b-fa-frown:before {\r\n  content: "\\f119";\r\n}\r\n\r\n.b-fa-frown-open:before {\r\n  content: "\\f57a";\r\n}\r\n\r\n.b-fa-fulcrum:before {\r\n  content: "\\f50b";\r\n}\r\n\r\n.b-fa-funnel-dollar:before {\r\n  content: "\\f662";\r\n}\r\n\r\n.b-fa-futbol:before {\r\n  content: "\\f1e3";\r\n}\r\n\r\n.b-fa-galactic-republic:before {\r\n  content: "\\f50c";\r\n}\r\n\r\n.b-fa-galactic-senate:before {\r\n  content: "\\f50d";\r\n}\r\n\r\n.b-fa-gamepad:before {\r\n  content: "\\f11b";\r\n}\r\n\r\n.b-fa-gas-pump:before {\r\n  content: "\\f52f";\r\n}\r\n\r\n.b-fa-gavel:before {\r\n  content: "\\f0e3";\r\n}\r\n\r\n.b-fa-gem:before {\r\n  content: "\\f3a5";\r\n}\r\n\r\n.b-fa-genderless:before {\r\n  content: "\\f22d";\r\n}\r\n\r\n.b-fa-get-pocket:before {\r\n  content: "\\f265";\r\n}\r\n\r\n.b-fa-gg:before {\r\n  content: "\\f260";\r\n}\r\n\r\n.b-fa-gg-circle:before {\r\n  content: "\\f261";\r\n}\r\n\r\n.b-fa-ghost:before {\r\n  content: "\\f6e2";\r\n}\r\n\r\n.b-fa-gift:before {\r\n  content: "\\f06b";\r\n}\r\n\r\n.b-fa-gifts:before {\r\n  content: "\\f79c";\r\n}\r\n\r\n.b-fa-git:before {\r\n  content: "\\f1d3";\r\n}\r\n\r\n.b-fa-git-alt:before {\r\n  content: "\\f841";\r\n}\r\n\r\n.b-fa-git-square:before {\r\n  content: "\\f1d2";\r\n}\r\n\r\n.b-fa-github:before {\r\n  content: "\\f09b";\r\n}\r\n\r\n.b-fa-github-alt:before {\r\n  content: "\\f113";\r\n}\r\n\r\n.b-fa-github-square:before {\r\n  content: "\\f092";\r\n}\r\n\r\n.b-fa-gitkraken:before {\r\n  content: "\\f3a6";\r\n}\r\n\r\n.b-fa-gitlab:before {\r\n  content: "\\f296";\r\n}\r\n\r\n.b-fa-gitter:before {\r\n  content: "\\f426";\r\n}\r\n\r\n.b-fa-glass-cheers:before {\r\n  content: "\\f79f";\r\n}\r\n\r\n.b-fa-glass-martini:before {\r\n  content: "\\f000";\r\n}\r\n\r\n.b-fa-glass-martini-alt:before {\r\n  content: "\\f57b";\r\n}\r\n\r\n.b-fa-glass-whiskey:before {\r\n  content: "\\f7a0";\r\n}\r\n\r\n.b-fa-glasses:before {\r\n  content: "\\f530";\r\n}\r\n\r\n.b-fa-glide:before {\r\n  content: "\\f2a5";\r\n}\r\n\r\n.b-fa-glide-g:before {\r\n  content: "\\f2a6";\r\n}\r\n\r\n.b-fa-globe:before {\r\n  content: "\\f0ac";\r\n}\r\n\r\n.b-fa-globe-africa:before {\r\n  content: "\\f57c";\r\n}\r\n\r\n.b-fa-globe-americas:before {\r\n  content: "\\f57d";\r\n}\r\n\r\n.b-fa-globe-asia:before {\r\n  content: "\\f57e";\r\n}\r\n\r\n.b-fa-globe-europe:before {\r\n  content: "\\f7a2";\r\n}\r\n\r\n.b-fa-gofore:before {\r\n  content: "\\f3a7";\r\n}\r\n\r\n.b-fa-golf-ball:before {\r\n  content: "\\f450";\r\n}\r\n\r\n.b-fa-goodreads:before {\r\n  content: "\\f3a8";\r\n}\r\n\r\n.b-fa-goodreads-g:before {\r\n  content: "\\f3a9";\r\n}\r\n\r\n.b-fa-google:before {\r\n  content: "\\f1a0";\r\n}\r\n\r\n.b-fa-google-drive:before {\r\n  content: "\\f3aa";\r\n}\r\n\r\n.b-fa-google-pay:before {\r\n  content: "\\e079";\r\n}\r\n\r\n.b-fa-google-play:before {\r\n  content: "\\f3ab";\r\n}\r\n\r\n.b-fa-google-plus:before {\r\n  content: "\\f2b3";\r\n}\r\n\r\n.b-fa-google-plus-g:before {\r\n  content: "\\f0d5";\r\n}\r\n\r\n.b-fa-google-plus-square:before {\r\n  content: "\\f0d4";\r\n}\r\n\r\n.b-fa-google-wallet:before {\r\n  content: "\\f1ee";\r\n}\r\n\r\n.b-fa-gopuram:before {\r\n  content: "\\f664";\r\n}\r\n\r\n.b-fa-graduation-cap:before {\r\n  content: "\\f19d";\r\n}\r\n\r\n.b-fa-gratipay:before {\r\n  content: "\\f184";\r\n}\r\n\r\n.b-fa-grav:before {\r\n  content: "\\f2d6";\r\n}\r\n\r\n.b-fa-greater-than:before {\r\n  content: "\\f531";\r\n}\r\n\r\n.b-fa-greater-than-equal:before {\r\n  content: "\\f532";\r\n}\r\n\r\n.b-fa-grimace:before {\r\n  content: "\\f57f";\r\n}\r\n\r\n.b-fa-grin:before {\r\n  content: "\\f580";\r\n}\r\n\r\n.b-fa-grin-alt:before {\r\n  content: "\\f581";\r\n}\r\n\r\n.b-fa-grin-beam:before {\r\n  content: "\\f582";\r\n}\r\n\r\n.b-fa-grin-beam-sweat:before {\r\n  content: "\\f583";\r\n}\r\n\r\n.b-fa-grin-hearts:before {\r\n  content: "\\f584";\r\n}\r\n\r\n.b-fa-grin-squint:before {\r\n  content: "\\f585";\r\n}\r\n\r\n.b-fa-grin-squint-tears:before {\r\n  content: "\\f586";\r\n}\r\n\r\n.b-fa-grin-stars:before {\r\n  content: "\\f587";\r\n}\r\n\r\n.b-fa-grin-tears:before {\r\n  content: "\\f588";\r\n}\r\n\r\n.b-fa-grin-tongue:before {\r\n  content: "\\f589";\r\n}\r\n\r\n.b-fa-grin-tongue-squint:before {\r\n  content: "\\f58a";\r\n}\r\n\r\n.b-fa-grin-tongue-wink:before {\r\n  content: "\\f58b";\r\n}\r\n\r\n.b-fa-grin-wink:before {\r\n  content: "\\f58c";\r\n}\r\n\r\n.b-fa-grip-horizontal:before {\r\n  content: "\\f58d";\r\n}\r\n\r\n.b-fa-grip-lines:before {\r\n  content: "\\f7a4";\r\n}\r\n\r\n.b-fa-grip-lines-vertical:before {\r\n  content: "\\f7a5";\r\n}\r\n\r\n.b-fa-grip-vertical:before {\r\n  content: "\\f58e";\r\n}\r\n\r\n.b-fa-gripfire:before {\r\n  content: "\\f3ac";\r\n}\r\n\r\n.b-fa-grunt:before {\r\n  content: "\\f3ad";\r\n}\r\n\r\n.b-fa-guilded:before {\r\n  content: "\\e07e";\r\n}\r\n\r\n.b-fa-guitar:before {\r\n  content: "\\f7a6";\r\n}\r\n\r\n.b-fa-gulp:before {\r\n  content: "\\f3ae";\r\n}\r\n\r\n.b-fa-h-square:before {\r\n  content: "\\f0fd";\r\n}\r\n\r\n.b-fa-hacker-news:before {\r\n  content: "\\f1d4";\r\n}\r\n\r\n.b-fa-hacker-news-square:before {\r\n  content: "\\f3af";\r\n}\r\n\r\n.b-fa-hackerrank:before {\r\n  content: "\\f5f7";\r\n}\r\n\r\n.b-fa-hamburger:before {\r\n  content: "\\f805";\r\n}\r\n\r\n.b-fa-hammer:before {\r\n  content: "\\f6e3";\r\n}\r\n\r\n.b-fa-hamsa:before {\r\n  content: "\\f665";\r\n}\r\n\r\n.b-fa-hand-holding:before {\r\n  content: "\\f4bd";\r\n}\r\n\r\n.b-fa-hand-holding-heart:before {\r\n  content: "\\f4be";\r\n}\r\n\r\n.b-fa-hand-holding-medical:before {\r\n  content: "\\e05c";\r\n}\r\n\r\n.b-fa-hand-holding-usd:before {\r\n  content: "\\f4c0";\r\n}\r\n\r\n.b-fa-hand-holding-water:before {\r\n  content: "\\f4c1";\r\n}\r\n\r\n.b-fa-hand-lizard:before {\r\n  content: "\\f258";\r\n}\r\n\r\n.b-fa-hand-middle-finger:before {\r\n  content: "\\f806";\r\n}\r\n\r\n.b-fa-hand-paper:before {\r\n  content: "\\f256";\r\n}\r\n\r\n.b-fa-hand-peace:before {\r\n  content: "\\f25b";\r\n}\r\n\r\n.b-fa-hand-point-down:before {\r\n  content: "\\f0a7";\r\n}\r\n\r\n.b-fa-hand-point-left:before {\r\n  content: "\\f0a5";\r\n}\r\n\r\n.b-fa-hand-point-right:before {\r\n  content: "\\f0a4";\r\n}\r\n\r\n.b-fa-hand-point-up:before {\r\n  content: "\\f0a6";\r\n}\r\n\r\n.b-fa-hand-pointer:before {\r\n  content: "\\f25a";\r\n}\r\n\r\n.b-fa-hand-rock:before {\r\n  content: "\\f255";\r\n}\r\n\r\n.b-fa-hand-scissors:before {\r\n  content: "\\f257";\r\n}\r\n\r\n.b-fa-hand-sparkles:before {\r\n  content: "\\e05d";\r\n}\r\n\r\n.b-fa-hand-spock:before {\r\n  content: "\\f259";\r\n}\r\n\r\n.b-fa-hands:before {\r\n  content: "\\f4c2";\r\n}\r\n\r\n.b-fa-hands-helping:before {\r\n  content: "\\f4c4";\r\n}\r\n\r\n.b-fa-hands-wash:before {\r\n  content: "\\e05e";\r\n}\r\n\r\n.b-fa-handshake:before {\r\n  content: "\\f2b5";\r\n}\r\n\r\n.b-fa-handshake-alt-slash:before {\r\n  content: "\\e05f";\r\n}\r\n\r\n.b-fa-handshake-slash:before {\r\n  content: "\\e060";\r\n}\r\n\r\n.b-fa-hanukiah:before {\r\n  content: "\\f6e6";\r\n}\r\n\r\n.b-fa-hard-hat:before {\r\n  content: "\\f807";\r\n}\r\n\r\n.b-fa-hashtag:before {\r\n  content: "\\f292";\r\n}\r\n\r\n.b-fa-hat-cowboy:before {\r\n  content: "\\f8c0";\r\n}\r\n\r\n.b-fa-hat-cowboy-side:before {\r\n  content: "\\f8c1";\r\n}\r\n\r\n.b-fa-hat-wizard:before {\r\n  content: "\\f6e8";\r\n}\r\n\r\n.b-fa-hdd:before {\r\n  content: "\\f0a0";\r\n}\r\n\r\n.b-fa-head-side-cough:before {\r\n  content: "\\e061";\r\n}\r\n\r\n.b-fa-head-side-cough-slash:before {\r\n  content: "\\e062";\r\n}\r\n\r\n.b-fa-head-side-mask:before {\r\n  content: "\\e063";\r\n}\r\n\r\n.b-fa-head-side-virus:before {\r\n  content: "\\e064";\r\n}\r\n\r\n.b-fa-heading:before {\r\n  content: "\\f1dc";\r\n}\r\n\r\n.b-fa-headphones:before {\r\n  content: "\\f025";\r\n}\r\n\r\n.b-fa-headphones-alt:before {\r\n  content: "\\f58f";\r\n}\r\n\r\n.b-fa-headset:before {\r\n  content: "\\f590";\r\n}\r\n\r\n.b-fa-heart:before {\r\n  content: "\\f004";\r\n}\r\n\r\n.b-fa-heart-broken:before {\r\n  content: "\\f7a9";\r\n}\r\n\r\n.b-fa-heartbeat:before {\r\n  content: "\\f21e";\r\n}\r\n\r\n.b-fa-helicopter:before {\r\n  content: "\\f533";\r\n}\r\n\r\n.b-fa-highlighter:before {\r\n  content: "\\f591";\r\n}\r\n\r\n.b-fa-hiking:before {\r\n  content: "\\f6ec";\r\n}\r\n\r\n.b-fa-hippo:before {\r\n  content: "\\f6ed";\r\n}\r\n\r\n.b-fa-hips:before {\r\n  content: "\\f452";\r\n}\r\n\r\n.b-fa-hire-a-helper:before {\r\n  content: "\\f3b0";\r\n}\r\n\r\n.b-fa-history:before {\r\n  content: "\\f1da";\r\n}\r\n\r\n.b-fa-hive:before {\r\n  content: "\\e07f";\r\n}\r\n\r\n.b-fa-hockey-puck:before {\r\n  content: "\\f453";\r\n}\r\n\r\n.b-fa-holly-berry:before {\r\n  content: "\\f7aa";\r\n}\r\n\r\n.b-fa-home:before {\r\n  content: "\\f015";\r\n}\r\n\r\n.b-fa-hooli:before {\r\n  content: "\\f427";\r\n}\r\n\r\n.b-fa-hornbill:before {\r\n  content: "\\f592";\r\n}\r\n\r\n.b-fa-horse:before {\r\n  content: "\\f6f0";\r\n}\r\n\r\n.b-fa-horse-head:before {\r\n  content: "\\f7ab";\r\n}\r\n\r\n.b-fa-hospital:before {\r\n  content: "\\f0f8";\r\n}\r\n\r\n.b-fa-hospital-alt:before {\r\n  content: "\\f47d";\r\n}\r\n\r\n.b-fa-hospital-symbol:before {\r\n  content: "\\f47e";\r\n}\r\n\r\n.b-fa-hospital-user:before {\r\n  content: "\\f80d";\r\n}\r\n\r\n.b-fa-hot-tub:before {\r\n  content: "\\f593";\r\n}\r\n\r\n.b-fa-hotdog:before {\r\n  content: "\\f80f";\r\n}\r\n\r\n.b-fa-hotel:before {\r\n  content: "\\f594";\r\n}\r\n\r\n.b-fa-hotjar:before {\r\n  content: "\\f3b1";\r\n}\r\n\r\n.b-fa-hourglass:before {\r\n  content: "\\f254";\r\n}\r\n\r\n.b-fa-hourglass-end:before {\r\n  content: "\\f253";\r\n}\r\n\r\n.b-fa-hourglass-half:before {\r\n  content: "\\f252";\r\n}\r\n\r\n.b-fa-hourglass-start:before {\r\n  content: "\\f251";\r\n}\r\n\r\n.b-fa-house-damage:before {\r\n  content: "\\f6f1";\r\n}\r\n\r\n.b-fa-house-user:before {\r\n  content: "\\e065";\r\n}\r\n\r\n.b-fa-houzz:before {\r\n  content: "\\f27c";\r\n}\r\n\r\n.b-fa-hryvnia:before {\r\n  content: "\\f6f2";\r\n}\r\n\r\n.b-fa-html5:before {\r\n  content: "\\f13b";\r\n}\r\n\r\n.b-fa-hubspot:before {\r\n  content: "\\f3b2";\r\n}\r\n\r\n.b-fa-i-cursor:before {\r\n  content: "\\f246";\r\n}\r\n\r\n.b-fa-ice-cream:before {\r\n  content: "\\f810";\r\n}\r\n\r\n.b-fa-icicles:before {\r\n  content: "\\f7ad";\r\n}\r\n\r\n.b-fa-icons:before {\r\n  content: "\\f86d";\r\n}\r\n\r\n.b-fa-id-badge:before {\r\n  content: "\\f2c1";\r\n}\r\n\r\n.b-fa-id-card:before {\r\n  content: "\\f2c2";\r\n}\r\n\r\n.b-fa-id-card-alt:before {\r\n  content: "\\f47f";\r\n}\r\n\r\n.b-fa-ideal:before {\r\n  content: "\\e013";\r\n}\r\n\r\n.b-fa-igloo:before {\r\n  content: "\\f7ae";\r\n}\r\n\r\n.b-fa-image:before {\r\n  content: "\\f03e";\r\n}\r\n\r\n.b-fa-images:before {\r\n  content: "\\f302";\r\n}\r\n\r\n.b-fa-imdb:before {\r\n  content: "\\f2d8";\r\n}\r\n\r\n.b-fa-inbox:before {\r\n  content: "\\f01c";\r\n}\r\n\r\n.b-fa-indent:before {\r\n  content: "\\f03c";\r\n}\r\n\r\n.b-fa-industry:before {\r\n  content: "\\f275";\r\n}\r\n\r\n.b-fa-infinity:before {\r\n  content: "\\f534";\r\n}\r\n\r\n.b-fa-info:before {\r\n  content: "\\f129";\r\n}\r\n\r\n.b-fa-info-circle:before {\r\n  content: "\\f05a";\r\n}\r\n\r\n.b-fa-innosoft:before {\r\n  content: "\\e080";\r\n}\r\n\r\n.b-fa-instagram:before {\r\n  content: "\\f16d";\r\n}\r\n\r\n.b-fa-instagram-square:before {\r\n  content: "\\e055";\r\n}\r\n\r\n.b-fa-instalod:before {\r\n  content: "\\e081";\r\n}\r\n\r\n.b-fa-intercom:before {\r\n  content: "\\f7af";\r\n}\r\n\r\n.b-fa-internet-explorer:before {\r\n  content: "\\f26b";\r\n}\r\n\r\n.b-fa-invision:before {\r\n  content: "\\f7b0";\r\n}\r\n\r\n.b-fa-ioxhost:before {\r\n  content: "\\f208";\r\n}\r\n\r\n.b-fa-italic:before {\r\n  content: "\\f033";\r\n}\r\n\r\n.b-fa-itch-io:before {\r\n  content: "\\f83a";\r\n}\r\n\r\n.b-fa-itunes:before {\r\n  content: "\\f3b4";\r\n}\r\n\r\n.b-fa-itunes-note:before {\r\n  content: "\\f3b5";\r\n}\r\n\r\n.b-fa-java:before {\r\n  content: "\\f4e4";\r\n}\r\n\r\n.b-fa-jedi:before {\r\n  content: "\\f669";\r\n}\r\n\r\n.b-fa-jedi-order:before {\r\n  content: "\\f50e";\r\n}\r\n\r\n.b-fa-jenkins:before {\r\n  content: "\\f3b6";\r\n}\r\n\r\n.b-fa-jira:before {\r\n  content: "\\f7b1";\r\n}\r\n\r\n.b-fa-joget:before {\r\n  content: "\\f3b7";\r\n}\r\n\r\n.b-fa-joint:before {\r\n  content: "\\f595";\r\n}\r\n\r\n.b-fa-joomla:before {\r\n  content: "\\f1aa";\r\n}\r\n\r\n.b-fa-journal-whills:before {\r\n  content: "\\f66a";\r\n}\r\n\r\n.b-fa-js:before {\r\n  content: "\\f3b8";\r\n}\r\n\r\n.b-fa-js-square:before {\r\n  content: "\\f3b9";\r\n}\r\n\r\n.b-fa-jsfiddle:before {\r\n  content: "\\f1cc";\r\n}\r\n\r\n.b-fa-kaaba:before {\r\n  content: "\\f66b";\r\n}\r\n\r\n.b-fa-kaggle:before {\r\n  content: "\\f5fa";\r\n}\r\n\r\n.b-fa-key:before {\r\n  content: "\\f084";\r\n}\r\n\r\n.b-fa-keybase:before {\r\n  content: "\\f4f5";\r\n}\r\n\r\n.b-fa-keyboard:before {\r\n  content: "\\f11c";\r\n}\r\n\r\n.b-fa-keycdn:before {\r\n  content: "\\f3ba";\r\n}\r\n\r\n.b-fa-khanda:before {\r\n  content: "\\f66d";\r\n}\r\n\r\n.b-fa-kickstarter:before {\r\n  content: "\\f3bb";\r\n}\r\n\r\n.b-fa-kickstarter-k:before {\r\n  content: "\\f3bc";\r\n}\r\n\r\n.b-fa-kiss:before {\r\n  content: "\\f596";\r\n}\r\n\r\n.b-fa-kiss-beam:before {\r\n  content: "\\f597";\r\n}\r\n\r\n.b-fa-kiss-wink-heart:before {\r\n  content: "\\f598";\r\n}\r\n\r\n.b-fa-kiwi-bird:before {\r\n  content: "\\f535";\r\n}\r\n\r\n.b-fa-korvue:before {\r\n  content: "\\f42f";\r\n}\r\n\r\n.b-fa-landmark:before {\r\n  content: "\\f66f";\r\n}\r\n\r\n.b-fa-language:before {\r\n  content: "\\f1ab";\r\n}\r\n\r\n.b-fa-laptop:before {\r\n  content: "\\f109";\r\n}\r\n\r\n.b-fa-laptop-code:before {\r\n  content: "\\f5fc";\r\n}\r\n\r\n.b-fa-laptop-house:before {\r\n  content: "\\e066";\r\n}\r\n\r\n.b-fa-laptop-medical:before {\r\n  content: "\\f812";\r\n}\r\n\r\n.b-fa-laravel:before {\r\n  content: "\\f3bd";\r\n}\r\n\r\n.b-fa-lastfm:before {\r\n  content: "\\f202";\r\n}\r\n\r\n.b-fa-lastfm-square:before {\r\n  content: "\\f203";\r\n}\r\n\r\n.b-fa-laugh:before {\r\n  content: "\\f599";\r\n}\r\n\r\n.b-fa-laugh-beam:before {\r\n  content: "\\f59a";\r\n}\r\n\r\n.b-fa-laugh-squint:before {\r\n  content: "\\f59b";\r\n}\r\n\r\n.b-fa-laugh-wink:before {\r\n  content: "\\f59c";\r\n}\r\n\r\n.b-fa-layer-group:before {\r\n  content: "\\f5fd";\r\n}\r\n\r\n.b-fa-leaf:before {\r\n  content: "\\f06c";\r\n}\r\n\r\n.b-fa-leanpub:before {\r\n  content: "\\f212";\r\n}\r\n\r\n.b-fa-lemon:before {\r\n  content: "\\f094";\r\n}\r\n\r\n.b-fa-less:before {\r\n  content: "\\f41d";\r\n}\r\n\r\n.b-fa-less-than:before {\r\n  content: "\\f536";\r\n}\r\n\r\n.b-fa-less-than-equal:before {\r\n  content: "\\f537";\r\n}\r\n\r\n.b-fa-level-down-alt:before {\r\n  content: "\\f3be";\r\n}\r\n\r\n.b-fa-level-up-alt:before {\r\n  content: "\\f3bf";\r\n}\r\n\r\n.b-fa-life-ring:before {\r\n  content: "\\f1cd";\r\n}\r\n\r\n.b-fa-lightbulb:before {\r\n  content: "\\f0eb";\r\n}\r\n\r\n.b-fa-line:before {\r\n  content: "\\f3c0";\r\n}\r\n\r\n.b-fa-link:before {\r\n  content: "\\f0c1";\r\n}\r\n\r\n.b-fa-linkedin:before {\r\n  content: "\\f08c";\r\n}\r\n\r\n.b-fa-linkedin-in:before {\r\n  content: "\\f0e1";\r\n}\r\n\r\n.b-fa-linode:before {\r\n  content: "\\f2b8";\r\n}\r\n\r\n.b-fa-linux:before {\r\n  content: "\\f17c";\r\n}\r\n\r\n.b-fa-lira-sign:before {\r\n  content: "\\f195";\r\n}\r\n\r\n.b-fa-list:before {\r\n  content: "\\f03a";\r\n}\r\n\r\n.b-fa-list-alt:before {\r\n  content: "\\f022";\r\n}\r\n\r\n.b-fa-list-ol:before {\r\n  content: "\\f0cb";\r\n}\r\n\r\n.b-fa-list-ul:before {\r\n  content: "\\f0ca";\r\n}\r\n\r\n.b-fa-location-arrow:before {\r\n  content: "\\f124";\r\n}\r\n\r\n.b-fa-lock:before {\r\n  content: "\\f023";\r\n}\r\n\r\n.b-fa-lock-open:before {\r\n  content: "\\f3c1";\r\n}\r\n\r\n.b-fa-long-arrow-alt-down:before {\r\n  content: "\\f309";\r\n}\r\n\r\n.b-fa-long-arrow-alt-left:before {\r\n  content: "\\f30a";\r\n}\r\n\r\n.b-fa-long-arrow-alt-right:before {\r\n  content: "\\f30b";\r\n}\r\n\r\n.b-fa-long-arrow-alt-up:before {\r\n  content: "\\f30c";\r\n}\r\n\r\n.b-fa-low-vision:before {\r\n  content: "\\f2a8";\r\n}\r\n\r\n.b-fa-luggage-cart:before {\r\n  content: "\\f59d";\r\n}\r\n\r\n.b-fa-lungs:before {\r\n  content: "\\f604";\r\n}\r\n\r\n.b-fa-lungs-virus:before {\r\n  content: "\\e067";\r\n}\r\n\r\n.b-fa-lyft:before {\r\n  content: "\\f3c3";\r\n}\r\n\r\n.b-fa-magento:before {\r\n  content: "\\f3c4";\r\n}\r\n\r\n.b-fa-magic:before {\r\n  content: "\\f0d0";\r\n}\r\n\r\n.b-fa-magnet:before {\r\n  content: "\\f076";\r\n}\r\n\r\n.b-fa-mail-bulk:before {\r\n  content: "\\f674";\r\n}\r\n\r\n.b-fa-mailchimp:before {\r\n  content: "\\f59e";\r\n}\r\n\r\n.b-fa-male:before {\r\n  content: "\\f183";\r\n}\r\n\r\n.b-fa-mandalorian:before {\r\n  content: "\\f50f";\r\n}\r\n\r\n.b-fa-map:before {\r\n  content: "\\f279";\r\n}\r\n\r\n.b-fa-map-marked:before {\r\n  content: "\\f59f";\r\n}\r\n\r\n.b-fa-map-marked-alt:before {\r\n  content: "\\f5a0";\r\n}\r\n\r\n.b-fa-map-marker:before {\r\n  content: "\\f041";\r\n}\r\n\r\n.b-fa-map-marker-alt:before {\r\n  content: "\\f3c5";\r\n}\r\n\r\n.b-fa-map-pin:before {\r\n  content: "\\f276";\r\n}\r\n\r\n.b-fa-map-signs:before {\r\n  content: "\\f277";\r\n}\r\n\r\n.b-fa-markdown:before {\r\n  content: "\\f60f";\r\n}\r\n\r\n.b-fa-marker:before {\r\n  content: "\\f5a1";\r\n}\r\n\r\n.b-fa-mars:before {\r\n  content: "\\f222";\r\n}\r\n\r\n.b-fa-mars-double:before {\r\n  content: "\\f227";\r\n}\r\n\r\n.b-fa-mars-stroke:before {\r\n  content: "\\f229";\r\n}\r\n\r\n.b-fa-mars-stroke-h:before {\r\n  content: "\\f22b";\r\n}\r\n\r\n.b-fa-mars-stroke-v:before {\r\n  content: "\\f22a";\r\n}\r\n\r\n.b-fa-mask:before {\r\n  content: "\\f6fa";\r\n}\r\n\r\n.b-fa-mastodon:before {\r\n  content: "\\f4f6";\r\n}\r\n\r\n.b-fa-maxcdn:before {\r\n  content: "\\f136";\r\n}\r\n\r\n.b-fa-mdb:before {\r\n  content: "\\f8ca";\r\n}\r\n\r\n.b-fa-medal:before {\r\n  content: "\\f5a2";\r\n}\r\n\r\n.b-fa-medapps:before {\r\n  content: "\\f3c6";\r\n}\r\n\r\n.b-fa-medium:before {\r\n  content: "\\f23a";\r\n}\r\n\r\n.b-fa-medium-m:before {\r\n  content: "\\f3c7";\r\n}\r\n\r\n.b-fa-medkit:before {\r\n  content: "\\f0fa";\r\n}\r\n\r\n.b-fa-medrt:before {\r\n  content: "\\f3c8";\r\n}\r\n\r\n.b-fa-meetup:before {\r\n  content: "\\f2e0";\r\n}\r\n\r\n.b-fa-megaport:before {\r\n  content: "\\f5a3";\r\n}\r\n\r\n.b-fa-meh:before {\r\n  content: "\\f11a";\r\n}\r\n\r\n.b-fa-meh-blank:before {\r\n  content: "\\f5a4";\r\n}\r\n\r\n.b-fa-meh-rolling-eyes:before {\r\n  content: "\\f5a5";\r\n}\r\n\r\n.b-fa-memory:before {\r\n  content: "\\f538";\r\n}\r\n\r\n.b-fa-mendeley:before {\r\n  content: "\\f7b3";\r\n}\r\n\r\n.b-fa-menorah:before {\r\n  content: "\\f676";\r\n}\r\n\r\n.b-fa-mercury:before {\r\n  content: "\\f223";\r\n}\r\n\r\n.b-fa-meteor:before {\r\n  content: "\\f753";\r\n}\r\n\r\n.b-fa-microblog:before {\r\n  content: "\\e01a";\r\n}\r\n\r\n.b-fa-microchip:before {\r\n  content: "\\f2db";\r\n}\r\n\r\n.b-fa-microphone:before {\r\n  content: "\\f130";\r\n}\r\n\r\n.b-fa-microphone-alt:before {\r\n  content: "\\f3c9";\r\n}\r\n\r\n.b-fa-microphone-alt-slash:before {\r\n  content: "\\f539";\r\n}\r\n\r\n.b-fa-microphone-slash:before {\r\n  content: "\\f131";\r\n}\r\n\r\n.b-fa-microscope:before {\r\n  content: "\\f610";\r\n}\r\n\r\n.b-fa-microsoft:before {\r\n  content: "\\f3ca";\r\n}\r\n\r\n.b-fa-minus:before {\r\n  content: "\\f068";\r\n}\r\n\r\n.b-fa-minus-circle:before {\r\n  content: "\\f056";\r\n}\r\n\r\n.b-fa-minus-square:before {\r\n  content: "\\f146";\r\n}\r\n\r\n.b-fa-mitten:before {\r\n  content: "\\f7b5";\r\n}\r\n\r\n.b-fa-mix:before {\r\n  content: "\\f3cb";\r\n}\r\n\r\n.b-fa-mixcloud:before {\r\n  content: "\\f289";\r\n}\r\n\r\n.b-fa-mixer:before {\r\n  content: "\\e056";\r\n}\r\n\r\n.b-fa-mizuni:before {\r\n  content: "\\f3cc";\r\n}\r\n\r\n.b-fa-mobile:before {\r\n  content: "\\f10b";\r\n}\r\n\r\n.b-fa-mobile-alt:before {\r\n  content: "\\f3cd";\r\n}\r\n\r\n.b-fa-modx:before {\r\n  content: "\\f285";\r\n}\r\n\r\n.b-fa-monero:before {\r\n  content: "\\f3d0";\r\n}\r\n\r\n.b-fa-money-bill:before {\r\n  content: "\\f0d6";\r\n}\r\n\r\n.b-fa-money-bill-alt:before {\r\n  content: "\\f3d1";\r\n}\r\n\r\n.b-fa-money-bill-wave:before {\r\n  content: "\\f53a";\r\n}\r\n\r\n.b-fa-money-bill-wave-alt:before {\r\n  content: "\\f53b";\r\n}\r\n\r\n.b-fa-money-check:before {\r\n  content: "\\f53c";\r\n}\r\n\r\n.b-fa-money-check-alt:before {\r\n  content: "\\f53d";\r\n}\r\n\r\n.b-fa-monument:before {\r\n  content: "\\f5a6";\r\n}\r\n\r\n.b-fa-moon:before {\r\n  content: "\\f186";\r\n}\r\n\r\n.b-fa-mortar-pestle:before {\r\n  content: "\\f5a7";\r\n}\r\n\r\n.b-fa-mosque:before {\r\n  content: "\\f678";\r\n}\r\n\r\n.b-fa-motorcycle:before {\r\n  content: "\\f21c";\r\n}\r\n\r\n.b-fa-mountain:before {\r\n  content: "\\f6fc";\r\n}\r\n\r\n.b-fa-mouse:before {\r\n  content: "\\f8cc";\r\n}\r\n\r\n.b-fa-mouse-pointer:before {\r\n  content: "\\f245";\r\n}\r\n\r\n.b-fa-mug-hot:before {\r\n  content: "\\f7b6";\r\n}\r\n\r\n.b-fa-music:before {\r\n  content: "\\f001";\r\n}\r\n\r\n.b-fa-napster:before {\r\n  content: "\\f3d2";\r\n}\r\n\r\n.b-fa-neos:before {\r\n  content: "\\f612";\r\n}\r\n\r\n.b-fa-network-wired:before {\r\n  content: "\\f6ff";\r\n}\r\n\r\n.b-fa-neuter:before {\r\n  content: "\\f22c";\r\n}\r\n\r\n.b-fa-newspaper:before {\r\n  content: "\\f1ea";\r\n}\r\n\r\n.b-fa-nimblr:before {\r\n  content: "\\f5a8";\r\n}\r\n\r\n.b-fa-node:before {\r\n  content: "\\f419";\r\n}\r\n\r\n.b-fa-node-js:before {\r\n  content: "\\f3d3";\r\n}\r\n\r\n.b-fa-not-equal:before {\r\n  content: "\\f53e";\r\n}\r\n\r\n.b-fa-notes-medical:before {\r\n  content: "\\f481";\r\n}\r\n\r\n.b-fa-npm:before {\r\n  content: "\\f3d4";\r\n}\r\n\r\n.b-fa-ns8:before {\r\n  content: "\\f3d5";\r\n}\r\n\r\n.b-fa-nutritionix:before {\r\n  content: "\\f3d6";\r\n}\r\n\r\n.b-fa-object-group:before {\r\n  content: "\\f247";\r\n}\r\n\r\n.b-fa-object-ungroup:before {\r\n  content: "\\f248";\r\n}\r\n\r\n.b-fa-octopus-deploy:before {\r\n  content: "\\e082";\r\n}\r\n\r\n.b-fa-odnoklassniki:before {\r\n  content: "\\f263";\r\n}\r\n\r\n.b-fa-odnoklassniki-square:before {\r\n  content: "\\f264";\r\n}\r\n\r\n.b-fa-oil-can:before {\r\n  content: "\\f613";\r\n}\r\n\r\n.b-fa-old-republic:before {\r\n  content: "\\f510";\r\n}\r\n\r\n.b-fa-om:before {\r\n  content: "\\f679";\r\n}\r\n\r\n.b-fa-opencart:before {\r\n  content: "\\f23d";\r\n}\r\n\r\n.b-fa-openid:before {\r\n  content: "\\f19b";\r\n}\r\n\r\n.b-fa-opera:before {\r\n  content: "\\f26a";\r\n}\r\n\r\n.b-fa-optin-monster:before {\r\n  content: "\\f23c";\r\n}\r\n\r\n.b-fa-orcid:before {\r\n  content: "\\f8d2";\r\n}\r\n\r\n.b-fa-osi:before {\r\n  content: "\\f41a";\r\n}\r\n\r\n.b-fa-otter:before {\r\n  content: "\\f700";\r\n}\r\n\r\n.b-fa-outdent:before {\r\n  content: "\\f03b";\r\n}\r\n\r\n.b-fa-page4:before {\r\n  content: "\\f3d7";\r\n}\r\n\r\n.b-fa-pagelines:before {\r\n  content: "\\f18c";\r\n}\r\n\r\n.b-fa-pager:before {\r\n  content: "\\f815";\r\n}\r\n\r\n.b-fa-paint-brush:before {\r\n  content: "\\f1fc";\r\n}\r\n\r\n.b-fa-paint-roller:before {\r\n  content: "\\f5aa";\r\n}\r\n\r\n.b-fa-palette:before {\r\n  content: "\\f53f";\r\n}\r\n\r\n.b-fa-palfed:before {\r\n  content: "\\f3d8";\r\n}\r\n\r\n.b-fa-pallet:before {\r\n  content: "\\f482";\r\n}\r\n\r\n.b-fa-paper-plane:before {\r\n  content: "\\f1d8";\r\n}\r\n\r\n.b-fa-paperclip:before {\r\n  content: "\\f0c6";\r\n}\r\n\r\n.b-fa-parachute-box:before {\r\n  content: "\\f4cd";\r\n}\r\n\r\n.b-fa-paragraph:before {\r\n  content: "\\f1dd";\r\n}\r\n\r\n.b-fa-parking:before {\r\n  content: "\\f540";\r\n}\r\n\r\n.b-fa-passport:before {\r\n  content: "\\f5ab";\r\n}\r\n\r\n.b-fa-pastafarianism:before {\r\n  content: "\\f67b";\r\n}\r\n\r\n.b-fa-paste:before {\r\n  content: "\\f0ea";\r\n}\r\n\r\n.b-fa-patreon:before {\r\n  content: "\\f3d9";\r\n}\r\n\r\n.b-fa-pause:before {\r\n  content: "\\f04c";\r\n}\r\n\r\n.b-fa-pause-circle:before {\r\n  content: "\\f28b";\r\n}\r\n\r\n.b-fa-paw:before {\r\n  content: "\\f1b0";\r\n}\r\n\r\n.b-fa-paypal:before {\r\n  content: "\\f1ed";\r\n}\r\n\r\n.b-fa-peace:before {\r\n  content: "\\f67c";\r\n}\r\n\r\n.b-fa-pen:before {\r\n  content: "\\f304";\r\n}\r\n\r\n.b-fa-pen-alt:before {\r\n  content: "\\f305";\r\n}\r\n\r\n.b-fa-pen-fancy:before {\r\n  content: "\\f5ac";\r\n}\r\n\r\n.b-fa-pen-nib:before {\r\n  content: "\\f5ad";\r\n}\r\n\r\n.b-fa-pen-square:before {\r\n  content: "\\f14b";\r\n}\r\n\r\n.b-fa-pencil-alt:before {\r\n  content: "\\f303";\r\n}\r\n\r\n.b-fa-pencil-ruler:before {\r\n  content: "\\f5ae";\r\n}\r\n\r\n.b-fa-penny-arcade:before {\r\n  content: "\\f704";\r\n}\r\n\r\n.b-fa-people-arrows:before {\r\n  content: "\\e068";\r\n}\r\n\r\n.b-fa-people-carry:before {\r\n  content: "\\f4ce";\r\n}\r\n\r\n.b-fa-pepper-hot:before {\r\n  content: "\\f816";\r\n}\r\n\r\n.b-fa-perbyte:before {\r\n  content: "\\e083";\r\n}\r\n\r\n.b-fa-percent:before {\r\n  content: "\\f295";\r\n}\r\n\r\n.b-fa-percentage:before {\r\n  content: "\\f541";\r\n}\r\n\r\n.b-fa-periscope:before {\r\n  content: "\\f3da";\r\n}\r\n\r\n.b-fa-person-booth:before {\r\n  content: "\\f756";\r\n}\r\n\r\n.b-fa-phabricator:before {\r\n  content: "\\f3db";\r\n}\r\n\r\n.b-fa-phoenix-framework:before {\r\n  content: "\\f3dc";\r\n}\r\n\r\n.b-fa-phoenix-squadron:before {\r\n  content: "\\f511";\r\n}\r\n\r\n.b-fa-phone:before {\r\n  content: "\\f095";\r\n}\r\n\r\n.b-fa-phone-alt:before {\r\n  content: "\\f879";\r\n}\r\n\r\n.b-fa-phone-slash:before {\r\n  content: "\\f3dd";\r\n}\r\n\r\n.b-fa-phone-square:before {\r\n  content: "\\f098";\r\n}\r\n\r\n.b-fa-phone-square-alt:before {\r\n  content: "\\f87b";\r\n}\r\n\r\n.b-fa-phone-volume:before {\r\n  content: "\\f2a0";\r\n}\r\n\r\n.b-fa-photo-video:before {\r\n  content: "\\f87c";\r\n}\r\n\r\n.b-fa-php:before {\r\n  content: "\\f457";\r\n}\r\n\r\n.b-fa-pied-piper:before {\r\n  content: "\\f2ae";\r\n}\r\n\r\n.b-fa-pied-piper-alt:before {\r\n  content: "\\f1a8";\r\n}\r\n\r\n.b-fa-pied-piper-hat:before {\r\n  content: "\\f4e5";\r\n}\r\n\r\n.b-fa-pied-piper-pp:before {\r\n  content: "\\f1a7";\r\n}\r\n\r\n.b-fa-pied-piper-square:before {\r\n  content: "\\e01e";\r\n}\r\n\r\n.b-fa-piggy-bank:before {\r\n  content: "\\f4d3";\r\n}\r\n\r\n.b-fa-pills:before {\r\n  content: "\\f484";\r\n}\r\n\r\n.b-fa-pinterest:before {\r\n  content: "\\f0d2";\r\n}\r\n\r\n.b-fa-pinterest-p:before {\r\n  content: "\\f231";\r\n}\r\n\r\n.b-fa-pinterest-square:before {\r\n  content: "\\f0d3";\r\n}\r\n\r\n.b-fa-pizza-slice:before {\r\n  content: "\\f818";\r\n}\r\n\r\n.b-fa-place-of-worship:before {\r\n  content: "\\f67f";\r\n}\r\n\r\n.b-fa-plane:before {\r\n  content: "\\f072";\r\n}\r\n\r\n.b-fa-plane-arrival:before {\r\n  content: "\\f5af";\r\n}\r\n\r\n.b-fa-plane-departure:before {\r\n  content: "\\f5b0";\r\n}\r\n\r\n.b-fa-plane-slash:before {\r\n  content: "\\e069";\r\n}\r\n\r\n.b-fa-play:before {\r\n  content: "\\f04b";\r\n}\r\n\r\n.b-fa-play-circle:before {\r\n  content: "\\f144";\r\n}\r\n\r\n.b-fa-playstation:before {\r\n  content: "\\f3df";\r\n}\r\n\r\n.b-fa-plug:before {\r\n  content: "\\f1e6";\r\n}\r\n\r\n.b-fa-plus:before {\r\n  content: "\\f067";\r\n}\r\n\r\n.b-fa-plus-circle:before {\r\n  content: "\\f055";\r\n}\r\n\r\n.b-fa-plus-square:before {\r\n  content: "\\f0fe";\r\n}\r\n\r\n.b-fa-podcast:before {\r\n  content: "\\f2ce";\r\n}\r\n\r\n.b-fa-poll:before {\r\n  content: "\\f681";\r\n}\r\n\r\n.b-fa-poll-h:before {\r\n  content: "\\f682";\r\n}\r\n\r\n.b-fa-poo:before {\r\n  content: "\\f2fe";\r\n}\r\n\r\n.b-fa-poo-storm:before {\r\n  content: "\\f75a";\r\n}\r\n\r\n.b-fa-poop:before {\r\n  content: "\\f619";\r\n}\r\n\r\n.b-fa-portrait:before {\r\n  content: "\\f3e0";\r\n}\r\n\r\n.b-fa-pound-sign:before {\r\n  content: "\\f154";\r\n}\r\n\r\n.b-fa-power-off:before {\r\n  content: "\\f011";\r\n}\r\n\r\n.b-fa-pray:before {\r\n  content: "\\f683";\r\n}\r\n\r\n.b-fa-praying-hands:before {\r\n  content: "\\f684";\r\n}\r\n\r\n.b-fa-prescription:before {\r\n  content: "\\f5b1";\r\n}\r\n\r\n.b-fa-prescription-bottle:before {\r\n  content: "\\f485";\r\n}\r\n\r\n.b-fa-prescription-bottle-alt:before {\r\n  content: "\\f486";\r\n}\r\n\r\n.b-fa-print:before {\r\n  content: "\\f02f";\r\n}\r\n\r\n.b-fa-procedures:before {\r\n  content: "\\f487";\r\n}\r\n\r\n.b-fa-product-hunt:before {\r\n  content: "\\f288";\r\n}\r\n\r\n.b-fa-project-diagram:before {\r\n  content: "\\f542";\r\n}\r\n\r\n.b-fa-pump-medical:before {\r\n  content: "\\e06a";\r\n}\r\n\r\n.b-fa-pump-soap:before {\r\n  content: "\\e06b";\r\n}\r\n\r\n.b-fa-pushed:before {\r\n  content: "\\f3e1";\r\n}\r\n\r\n.b-fa-puzzle-piece:before {\r\n  content: "\\f12e";\r\n}\r\n\r\n.b-fa-python:before {\r\n  content: "\\f3e2";\r\n}\r\n\r\n.b-fa-qq:before {\r\n  content: "\\f1d6";\r\n}\r\n\r\n.b-fa-qrcode:before {\r\n  content: "\\f029";\r\n}\r\n\r\n.b-fa-question:before {\r\n  content: "\\f128";\r\n}\r\n\r\n.b-fa-question-circle:before {\r\n  content: "\\f059";\r\n}\r\n\r\n.b-fa-quidditch:before {\r\n  content: "\\f458";\r\n}\r\n\r\n.b-fa-quinscape:before {\r\n  content: "\\f459";\r\n}\r\n\r\n.b-fa-quora:before {\r\n  content: "\\f2c4";\r\n}\r\n\r\n.b-fa-quote-left:before {\r\n  content: "\\f10d";\r\n}\r\n\r\n.b-fa-quote-right:before {\r\n  content: "\\f10e";\r\n}\r\n\r\n.b-fa-quran:before {\r\n  content: "\\f687";\r\n}\r\n\r\n.b-fa-r-project:before {\r\n  content: "\\f4f7";\r\n}\r\n\r\n.b-fa-radiation:before {\r\n  content: "\\f7b9";\r\n}\r\n\r\n.b-fa-radiation-alt:before {\r\n  content: "\\f7ba";\r\n}\r\n\r\n.b-fa-rainbow:before {\r\n  content: "\\f75b";\r\n}\r\n\r\n.b-fa-random:before {\r\n  content: "\\f074";\r\n}\r\n\r\n.b-fa-raspberry-pi:before {\r\n  content: "\\f7bb";\r\n}\r\n\r\n.b-fa-ravelry:before {\r\n  content: "\\f2d9";\r\n}\r\n\r\n.b-fa-react:before {\r\n  content: "\\f41b";\r\n}\r\n\r\n.b-fa-reacteurope:before {\r\n  content: "\\f75d";\r\n}\r\n\r\n.b-fa-readme:before {\r\n  content: "\\f4d5";\r\n}\r\n\r\n.b-fa-rebel:before {\r\n  content: "\\f1d0";\r\n}\r\n\r\n.b-fa-receipt:before {\r\n  content: "\\f543";\r\n}\r\n\r\n.b-fa-record-vinyl:before {\r\n  content: "\\f8d9";\r\n}\r\n\r\n.b-fa-recycle:before {\r\n  content: "\\f1b8";\r\n}\r\n\r\n.b-fa-red-river:before {\r\n  content: "\\f3e3";\r\n}\r\n\r\n.b-fa-reddit:before {\r\n  content: "\\f1a1";\r\n}\r\n\r\n.b-fa-reddit-alien:before {\r\n  content: "\\f281";\r\n}\r\n\r\n.b-fa-reddit-square:before {\r\n  content: "\\f1a2";\r\n}\r\n\r\n.b-fa-redhat:before {\r\n  content: "\\f7bc";\r\n}\r\n\r\n.b-fa-redo:before {\r\n  content: "\\f01e";\r\n}\r\n\r\n.b-fa-redo-alt:before {\r\n  content: "\\f2f9";\r\n}\r\n\r\n.b-fa-registered:before {\r\n  content: "\\f25d";\r\n}\r\n\r\n.b-fa-remove-format:before {\r\n  content: "\\f87d";\r\n}\r\n\r\n.b-fa-renren:before {\r\n  content: "\\f18b";\r\n}\r\n\r\n.b-fa-reply:before {\r\n  content: "\\f3e5";\r\n}\r\n\r\n.b-fa-reply-all:before {\r\n  content: "\\f122";\r\n}\r\n\r\n.b-fa-replyd:before {\r\n  content: "\\f3e6";\r\n}\r\n\r\n.b-fa-republican:before {\r\n  content: "\\f75e";\r\n}\r\n\r\n.b-fa-researchgate:before {\r\n  content: "\\f4f8";\r\n}\r\n\r\n.b-fa-resolving:before {\r\n  content: "\\f3e7";\r\n}\r\n\r\n.b-fa-restroom:before {\r\n  content: "\\f7bd";\r\n}\r\n\r\n.b-fa-retweet:before {\r\n  content: "\\f079";\r\n}\r\n\r\n.b-fa-rev:before {\r\n  content: "\\f5b2";\r\n}\r\n\r\n.b-fa-ribbon:before {\r\n  content: "\\f4d6";\r\n}\r\n\r\n.b-fa-ring:before {\r\n  content: "\\f70b";\r\n}\r\n\r\n.b-fa-road:before {\r\n  content: "\\f018";\r\n}\r\n\r\n.b-fa-robot:before {\r\n  content: "\\f544";\r\n}\r\n\r\n.b-fa-rocket:before {\r\n  content: "\\f135";\r\n}\r\n\r\n.b-fa-rocketchat:before {\r\n  content: "\\f3e8";\r\n}\r\n\r\n.b-fa-rockrms:before {\r\n  content: "\\f3e9";\r\n}\r\n\r\n.b-fa-route:before {\r\n  content: "\\f4d7";\r\n}\r\n\r\n.b-fa-rss:before {\r\n  content: "\\f09e";\r\n}\r\n\r\n.b-fa-rss-square:before {\r\n  content: "\\f143";\r\n}\r\n\r\n.b-fa-ruble-sign:before {\r\n  content: "\\f158";\r\n}\r\n\r\n.b-fa-ruler:before {\r\n  content: "\\f545";\r\n}\r\n\r\n.b-fa-ruler-combined:before {\r\n  content: "\\f546";\r\n}\r\n\r\n.b-fa-ruler-horizontal:before {\r\n  content: "\\f547";\r\n}\r\n\r\n.b-fa-ruler-vertical:before {\r\n  content: "\\f548";\r\n}\r\n\r\n.b-fa-running:before {\r\n  content: "\\f70c";\r\n}\r\n\r\n.b-fa-rupee-sign:before {\r\n  content: "\\f156";\r\n}\r\n\r\n.b-fa-rust:before {\r\n  content: "\\e07a";\r\n}\r\n\r\n.b-fa-sad-cry:before {\r\n  content: "\\f5b3";\r\n}\r\n\r\n.b-fa-sad-tear:before {\r\n  content: "\\f5b4";\r\n}\r\n\r\n.b-fa-safari:before {\r\n  content: "\\f267";\r\n}\r\n\r\n.b-fa-salesforce:before {\r\n  content: "\\f83b";\r\n}\r\n\r\n.b-fa-sass:before {\r\n  content: "\\f41e";\r\n}\r\n\r\n.b-fa-satellite:before {\r\n  content: "\\f7bf";\r\n}\r\n\r\n.b-fa-satellite-dish:before {\r\n  content: "\\f7c0";\r\n}\r\n\r\n.b-fa-save:before {\r\n  content: "\\f0c7";\r\n}\r\n\r\n.b-fa-schlix:before {\r\n  content: "\\f3ea";\r\n}\r\n\r\n.b-fa-school:before {\r\n  content: "\\f549";\r\n}\r\n\r\n.b-fa-screwdriver:before {\r\n  content: "\\f54a";\r\n}\r\n\r\n.b-fa-scribd:before {\r\n  content: "\\f28a";\r\n}\r\n\r\n.b-fa-scroll:before {\r\n  content: "\\f70e";\r\n}\r\n\r\n.b-fa-sd-card:before {\r\n  content: "\\f7c2";\r\n}\r\n\r\n.b-fa-search:before {\r\n  content: "\\f002";\r\n}\r\n\r\n.b-fa-search-dollar:before {\r\n  content: "\\f688";\r\n}\r\n\r\n.b-fa-search-location:before {\r\n  content: "\\f689";\r\n}\r\n\r\n.b-fa-search-minus:before {\r\n  content: "\\f010";\r\n}\r\n\r\n.b-fa-search-plus:before {\r\n  content: "\\f00e";\r\n}\r\n\r\n.b-fa-searchengin:before {\r\n  content: "\\f3eb";\r\n}\r\n\r\n.b-fa-seedling:before {\r\n  content: "\\f4d8";\r\n}\r\n\r\n.b-fa-sellcast:before {\r\n  content: "\\f2da";\r\n}\r\n\r\n.b-fa-sellsy:before {\r\n  content: "\\f213";\r\n}\r\n\r\n.b-fa-server:before {\r\n  content: "\\f233";\r\n}\r\n\r\n.b-fa-servicestack:before {\r\n  content: "\\f3ec";\r\n}\r\n\r\n.b-fa-shapes:before {\r\n  content: "\\f61f";\r\n}\r\n\r\n.b-fa-share:before {\r\n  content: "\\f064";\r\n}\r\n\r\n.b-fa-share-alt:before {\r\n  content: "\\f1e0";\r\n}\r\n\r\n.b-fa-share-alt-square:before {\r\n  content: "\\f1e1";\r\n}\r\n\r\n.b-fa-share-square:before {\r\n  content: "\\f14d";\r\n}\r\n\r\n.b-fa-shekel-sign:before {\r\n  content: "\\f20b";\r\n}\r\n\r\n.b-fa-shield-alt:before {\r\n  content: "\\f3ed";\r\n}\r\n\r\n.b-fa-shield-virus:before {\r\n  content: "\\e06c";\r\n}\r\n\r\n.b-fa-ship:before {\r\n  content: "\\f21a";\r\n}\r\n\r\n.b-fa-shipping-fast:before {\r\n  content: "\\f48b";\r\n}\r\n\r\n.b-fa-shirtsinbulk:before {\r\n  content: "\\f214";\r\n}\r\n\r\n.b-fa-shoe-prints:before {\r\n  content: "\\f54b";\r\n}\r\n\r\n.b-fa-shopify:before {\r\n  content: "\\e057";\r\n}\r\n\r\n.b-fa-shopping-bag:before {\r\n  content: "\\f290";\r\n}\r\n\r\n.b-fa-shopping-basket:before {\r\n  content: "\\f291";\r\n}\r\n\r\n.b-fa-shopping-cart:before {\r\n  content: "\\f07a";\r\n}\r\n\r\n.b-fa-shopware:before {\r\n  content: "\\f5b5";\r\n}\r\n\r\n.b-fa-shower:before {\r\n  content: "\\f2cc";\r\n}\r\n\r\n.b-fa-shuttle-van:before {\r\n  content: "\\f5b6";\r\n}\r\n\r\n.b-fa-sign:before {\r\n  content: "\\f4d9";\r\n}\r\n\r\n.b-fa-sign-in-alt:before {\r\n  content: "\\f2f6";\r\n}\r\n\r\n.b-fa-sign-language:before {\r\n  content: "\\f2a7";\r\n}\r\n\r\n.b-fa-sign-out-alt:before {\r\n  content: "\\f2f5";\r\n}\r\n\r\n.b-fa-signal:before {\r\n  content: "\\f012";\r\n}\r\n\r\n.b-fa-signature:before {\r\n  content: "\\f5b7";\r\n}\r\n\r\n.b-fa-sim-card:before {\r\n  content: "\\f7c4";\r\n}\r\n\r\n.b-fa-simplybuilt:before {\r\n  content: "\\f215";\r\n}\r\n\r\n.b-fa-sink:before {\r\n  content: "\\e06d";\r\n}\r\n\r\n.b-fa-sistrix:before {\r\n  content: "\\f3ee";\r\n}\r\n\r\n.b-fa-sitemap:before {\r\n  content: "\\f0e8";\r\n}\r\n\r\n.b-fa-sith:before {\r\n  content: "\\f512";\r\n}\r\n\r\n.b-fa-skating:before {\r\n  content: "\\f7c5";\r\n}\r\n\r\n.b-fa-sketch:before {\r\n  content: "\\f7c6";\r\n}\r\n\r\n.b-fa-skiing:before {\r\n  content: "\\f7c9";\r\n}\r\n\r\n.b-fa-skiing-nordic:before {\r\n  content: "\\f7ca";\r\n}\r\n\r\n.b-fa-skull:before {\r\n  content: "\\f54c";\r\n}\r\n\r\n.b-fa-skull-crossbones:before {\r\n  content: "\\f714";\r\n}\r\n\r\n.b-fa-skyatlas:before {\r\n  content: "\\f216";\r\n}\r\n\r\n.b-fa-skype:before {\r\n  content: "\\f17e";\r\n}\r\n\r\n.b-fa-slack:before {\r\n  content: "\\f198";\r\n}\r\n\r\n.b-fa-slack-hash:before {\r\n  content: "\\f3ef";\r\n}\r\n\r\n.b-fa-slash:before {\r\n  content: "\\f715";\r\n}\r\n\r\n.b-fa-sleigh:before {\r\n  content: "\\f7cc";\r\n}\r\n\r\n.b-fa-sliders-h:before {\r\n  content: "\\f1de";\r\n}\r\n\r\n.b-fa-slideshare:before {\r\n  content: "\\f1e7";\r\n}\r\n\r\n.b-fa-smile:before {\r\n  content: "\\f118";\r\n}\r\n\r\n.b-fa-smile-beam:before {\r\n  content: "\\f5b8";\r\n}\r\n\r\n.b-fa-smile-wink:before {\r\n  content: "\\f4da";\r\n}\r\n\r\n.b-fa-smog:before {\r\n  content: "\\f75f";\r\n}\r\n\r\n.b-fa-smoking:before {\r\n  content: "\\f48d";\r\n}\r\n\r\n.b-fa-smoking-ban:before {\r\n  content: "\\f54d";\r\n}\r\n\r\n.b-fa-sms:before {\r\n  content: "\\f7cd";\r\n}\r\n\r\n.b-fa-snapchat:before {\r\n  content: "\\f2ab";\r\n}\r\n\r\n.b-fa-snapchat-ghost:before {\r\n  content: "\\f2ac";\r\n}\r\n\r\n.b-fa-snapchat-square:before {\r\n  content: "\\f2ad";\r\n}\r\n\r\n.b-fa-snowboarding:before {\r\n  content: "\\f7ce";\r\n}\r\n\r\n.b-fa-snowflake:before {\r\n  content: "\\f2dc";\r\n}\r\n\r\n.b-fa-snowman:before {\r\n  content: "\\f7d0";\r\n}\r\n\r\n.b-fa-snowplow:before {\r\n  content: "\\f7d2";\r\n}\r\n\r\n.b-fa-soap:before {\r\n  content: "\\e06e";\r\n}\r\n\r\n.b-fa-socks:before {\r\n  content: "\\f696";\r\n}\r\n\r\n.b-fa-solar-panel:before {\r\n  content: "\\f5ba";\r\n}\r\n\r\n.b-fa-sort:before {\r\n  content: "\\f0dc";\r\n}\r\n\r\n.b-fa-sort-alpha-down:before {\r\n  content: "\\f15d";\r\n}\r\n\r\n.b-fa-sort-alpha-down-alt:before {\r\n  content: "\\f881";\r\n}\r\n\r\n.b-fa-sort-alpha-up:before {\r\n  content: "\\f15e";\r\n}\r\n\r\n.b-fa-sort-alpha-up-alt:before {\r\n  content: "\\f882";\r\n}\r\n\r\n.b-fa-sort-amount-down:before {\r\n  content: "\\f160";\r\n}\r\n\r\n.b-fa-sort-amount-down-alt:before {\r\n  content: "\\f884";\r\n}\r\n\r\n.b-fa-sort-amount-up:before {\r\n  content: "\\f161";\r\n}\r\n\r\n.b-fa-sort-amount-up-alt:before {\r\n  content: "\\f885";\r\n}\r\n\r\n.b-fa-sort-down:before {\r\n  content: "\\f0dd";\r\n}\r\n\r\n.b-fa-sort-numeric-down:before {\r\n  content: "\\f162";\r\n}\r\n\r\n.b-fa-sort-numeric-down-alt:before {\r\n  content: "\\f886";\r\n}\r\n\r\n.b-fa-sort-numeric-up:before {\r\n  content: "\\f163";\r\n}\r\n\r\n.b-fa-sort-numeric-up-alt:before {\r\n  content: "\\f887";\r\n}\r\n\r\n.b-fa-sort-up:before {\r\n  content: "\\f0de";\r\n}\r\n\r\n.b-fa-soundcloud:before {\r\n  content: "\\f1be";\r\n}\r\n\r\n.b-fa-sourcetree:before {\r\n  content: "\\f7d3";\r\n}\r\n\r\n.b-fa-spa:before {\r\n  content: "\\f5bb";\r\n}\r\n\r\n.b-fa-space-shuttle:before {\r\n  content: "\\f197";\r\n}\r\n\r\n.b-fa-speakap:before {\r\n  content: "\\f3f3";\r\n}\r\n\r\n.b-fa-speaker-deck:before {\r\n  content: "\\f83c";\r\n}\r\n\r\n.b-fa-spell-check:before {\r\n  content: "\\f891";\r\n}\r\n\r\n.b-fa-spider:before {\r\n  content: "\\f717";\r\n}\r\n\r\n.b-fa-spinner:before {\r\n  content: "\\f110";\r\n}\r\n\r\n.b-fa-splotch:before {\r\n  content: "\\f5bc";\r\n}\r\n\r\n.b-fa-spotify:before {\r\n  content: "\\f1bc";\r\n}\r\n\r\n.b-fa-spray-can:before {\r\n  content: "\\f5bd";\r\n}\r\n\r\n.b-fa-square:before {\r\n  content: "\\f0c8";\r\n}\r\n\r\n.b-fa-square-full:before {\r\n  content: "\\f45c";\r\n}\r\n\r\n.b-fa-square-root-alt:before {\r\n  content: "\\f698";\r\n}\r\n\r\n.b-fa-squarespace:before {\r\n  content: "\\f5be";\r\n}\r\n\r\n.b-fa-stack-exchange:before {\r\n  content: "\\f18d";\r\n}\r\n\r\n.b-fa-stack-overflow:before {\r\n  content: "\\f16c";\r\n}\r\n\r\n.b-fa-stackpath:before {\r\n  content: "\\f842";\r\n}\r\n\r\n.b-fa-stamp:before {\r\n  content: "\\f5bf";\r\n}\r\n\r\n.b-fa-star:before {\r\n  content: "\\f005";\r\n}\r\n\r\n.b-fa-star-and-crescent:before {\r\n  content: "\\f699";\r\n}\r\n\r\n.b-fa-star-half:before {\r\n  content: "\\f089";\r\n}\r\n\r\n.b-fa-star-half-alt:before {\r\n  content: "\\f5c0";\r\n}\r\n\r\n.b-fa-star-of-david:before {\r\n  content: "\\f69a";\r\n}\r\n\r\n.b-fa-star-of-life:before {\r\n  content: "\\f621";\r\n}\r\n\r\n.b-fa-staylinked:before {\r\n  content: "\\f3f5";\r\n}\r\n\r\n.b-fa-steam:before {\r\n  content: "\\f1b6";\r\n}\r\n\r\n.b-fa-steam-square:before {\r\n  content: "\\f1b7";\r\n}\r\n\r\n.b-fa-steam-symbol:before {\r\n  content: "\\f3f6";\r\n}\r\n\r\n.b-fa-step-backward:before {\r\n  content: "\\f048";\r\n}\r\n\r\n.b-fa-step-forward:before {\r\n  content: "\\f051";\r\n}\r\n\r\n.b-fa-stethoscope:before {\r\n  content: "\\f0f1";\r\n}\r\n\r\n.b-fa-sticker-mule:before {\r\n  content: "\\f3f7";\r\n}\r\n\r\n.b-fa-sticky-note:before {\r\n  content: "\\f249";\r\n}\r\n\r\n.b-fa-stop:before {\r\n  content: "\\f04d";\r\n}\r\n\r\n.b-fa-stop-circle:before {\r\n  content: "\\f28d";\r\n}\r\n\r\n.b-fa-stopwatch:before {\r\n  content: "\\f2f2";\r\n}\r\n\r\n.b-fa-stopwatch-20:before {\r\n  content: "\\e06f";\r\n}\r\n\r\n.b-fa-store:before {\r\n  content: "\\f54e";\r\n}\r\n\r\n.b-fa-store-alt:before {\r\n  content: "\\f54f";\r\n}\r\n\r\n.b-fa-store-alt-slash:before {\r\n  content: "\\e070";\r\n}\r\n\r\n.b-fa-store-slash:before {\r\n  content: "\\e071";\r\n}\r\n\r\n.b-fa-strava:before {\r\n  content: "\\f428";\r\n}\r\n\r\n.b-fa-stream:before {\r\n  content: "\\f550";\r\n}\r\n\r\n.b-fa-street-view:before {\r\n  content: "\\f21d";\r\n}\r\n\r\n.b-fa-strikethrough:before {\r\n  content: "\\f0cc";\r\n}\r\n\r\n.b-fa-stripe:before {\r\n  content: "\\f429";\r\n}\r\n\r\n.b-fa-stripe-s:before {\r\n  content: "\\f42a";\r\n}\r\n\r\n.b-fa-stroopwafel:before {\r\n  content: "\\f551";\r\n}\r\n\r\n.b-fa-studiovinari:before {\r\n  content: "\\f3f8";\r\n}\r\n\r\n.b-fa-stumbleupon:before {\r\n  content: "\\f1a4";\r\n}\r\n\r\n.b-fa-stumbleupon-circle:before {\r\n  content: "\\f1a3";\r\n}\r\n\r\n.b-fa-subscript:before {\r\n  content: "\\f12c";\r\n}\r\n\r\n.b-fa-subway:before {\r\n  content: "\\f239";\r\n}\r\n\r\n.b-fa-suitcase:before {\r\n  content: "\\f0f2";\r\n}\r\n\r\n.b-fa-suitcase-rolling:before {\r\n  content: "\\f5c1";\r\n}\r\n\r\n.b-fa-sun:before {\r\n  content: "\\f185";\r\n}\r\n\r\n.b-fa-superpowers:before {\r\n  content: "\\f2dd";\r\n}\r\n\r\n.b-fa-superscript:before {\r\n  content: "\\f12b";\r\n}\r\n\r\n.b-fa-supple:before {\r\n  content: "\\f3f9";\r\n}\r\n\r\n.b-fa-surprise:before {\r\n  content: "\\f5c2";\r\n}\r\n\r\n.b-fa-suse:before {\r\n  content: "\\f7d6";\r\n}\r\n\r\n.b-fa-swatchbook:before {\r\n  content: "\\f5c3";\r\n}\r\n\r\n.b-fa-swift:before {\r\n  content: "\\f8e1";\r\n}\r\n\r\n.b-fa-swimmer:before {\r\n  content: "\\f5c4";\r\n}\r\n\r\n.b-fa-swimming-pool:before {\r\n  content: "\\f5c5";\r\n}\r\n\r\n.b-fa-symfony:before {\r\n  content: "\\f83d";\r\n}\r\n\r\n.b-fa-synagogue:before {\r\n  content: "\\f69b";\r\n}\r\n\r\n.b-fa-sync:before {\r\n  content: "\\f021";\r\n}\r\n\r\n.b-fa-sync-alt:before {\r\n  content: "\\f2f1";\r\n}\r\n\r\n.b-fa-syringe:before {\r\n  content: "\\f48e";\r\n}\r\n\r\n.b-fa-table:before {\r\n  content: "\\f0ce";\r\n}\r\n\r\n.b-fa-table-tennis:before {\r\n  content: "\\f45d";\r\n}\r\n\r\n.b-fa-tablet:before {\r\n  content: "\\f10a";\r\n}\r\n\r\n.b-fa-tablet-alt:before {\r\n  content: "\\f3fa";\r\n}\r\n\r\n.b-fa-tablets:before {\r\n  content: "\\f490";\r\n}\r\n\r\n.b-fa-tachometer-alt:before {\r\n  content: "\\f3fd";\r\n}\r\n\r\n.b-fa-tag:before {\r\n  content: "\\f02b";\r\n}\r\n\r\n.b-fa-tags:before {\r\n  content: "\\f02c";\r\n}\r\n\r\n.b-fa-tape:before {\r\n  content: "\\f4db";\r\n}\r\n\r\n.b-fa-tasks:before {\r\n  content: "\\f0ae";\r\n}\r\n\r\n.b-fa-taxi:before {\r\n  content: "\\f1ba";\r\n}\r\n\r\n.b-fa-teamspeak:before {\r\n  content: "\\f4f9";\r\n}\r\n\r\n.b-fa-teeth:before {\r\n  content: "\\f62e";\r\n}\r\n\r\n.b-fa-teeth-open:before {\r\n  content: "\\f62f";\r\n}\r\n\r\n.b-fa-telegram:before {\r\n  content: "\\f2c6";\r\n}\r\n\r\n.b-fa-telegram-plane:before {\r\n  content: "\\f3fe";\r\n}\r\n\r\n.b-fa-temperature-high:before {\r\n  content: "\\f769";\r\n}\r\n\r\n.b-fa-temperature-low:before {\r\n  content: "\\f76b";\r\n}\r\n\r\n.b-fa-tencent-weibo:before {\r\n  content: "\\f1d5";\r\n}\r\n\r\n.b-fa-tenge:before {\r\n  content: "\\f7d7";\r\n}\r\n\r\n.b-fa-terminal:before {\r\n  content: "\\f120";\r\n}\r\n\r\n.b-fa-text-height:before {\r\n  content: "\\f034";\r\n}\r\n\r\n.b-fa-text-width:before {\r\n  content: "\\f035";\r\n}\r\n\r\n.b-fa-th:before {\r\n  content: "\\f00a";\r\n}\r\n\r\n.b-fa-th-large:before {\r\n  content: "\\f009";\r\n}\r\n\r\n.b-fa-th-list:before {\r\n  content: "\\f00b";\r\n}\r\n\r\n.b-fa-the-red-yeti:before {\r\n  content: "\\f69d";\r\n}\r\n\r\n.b-fa-theater-masks:before {\r\n  content: "\\f630";\r\n}\r\n\r\n.b-fa-themeco:before {\r\n  content: "\\f5c6";\r\n}\r\n\r\n.b-fa-themeisle:before {\r\n  content: "\\f2b2";\r\n}\r\n\r\n.b-fa-thermometer:before {\r\n  content: "\\f491";\r\n}\r\n\r\n.b-fa-thermometer-empty:before {\r\n  content: "\\f2cb";\r\n}\r\n\r\n.b-fa-thermometer-full:before {\r\n  content: "\\f2c7";\r\n}\r\n\r\n.b-fa-thermometer-half:before {\r\n  content: "\\f2c9";\r\n}\r\n\r\n.b-fa-thermometer-quarter:before {\r\n  content: "\\f2ca";\r\n}\r\n\r\n.b-fa-thermometer-three-quarters:before {\r\n  content: "\\f2c8";\r\n}\r\n\r\n.b-fa-think-peaks:before {\r\n  content: "\\f731";\r\n}\r\n\r\n.b-fa-thumbs-down:before {\r\n  content: "\\f165";\r\n}\r\n\r\n.b-fa-thumbs-up:before {\r\n  content: "\\f164";\r\n}\r\n\r\n.b-fa-thumbtack:before {\r\n  content: "\\f08d";\r\n}\r\n\r\n.b-fa-ticket-alt:before {\r\n  content: "\\f3ff";\r\n}\r\n\r\n.b-fa-tiktok:before {\r\n  content: "\\e07b";\r\n}\r\n\r\n.b-fa-times:before {\r\n  content: "\\f00d";\r\n}\r\n\r\n.b-fa-times-circle:before {\r\n  content: "\\f057";\r\n}\r\n\r\n.b-fa-tint:before {\r\n  content: "\\f043";\r\n}\r\n\r\n.b-fa-tint-slash:before {\r\n  content: "\\f5c7";\r\n}\r\n\r\n.b-fa-tired:before {\r\n  content: "\\f5c8";\r\n}\r\n\r\n.b-fa-toggle-off:before {\r\n  content: "\\f204";\r\n}\r\n\r\n.b-fa-toggle-on:before {\r\n  content: "\\f205";\r\n}\r\n\r\n.b-fa-toilet:before {\r\n  content: "\\f7d8";\r\n}\r\n\r\n.b-fa-toilet-paper:before {\r\n  content: "\\f71e";\r\n}\r\n\r\n.b-fa-toilet-paper-slash:before {\r\n  content: "\\e072";\r\n}\r\n\r\n.b-fa-toolbox:before {\r\n  content: "\\f552";\r\n}\r\n\r\n.b-fa-tools:before {\r\n  content: "\\f7d9";\r\n}\r\n\r\n.b-fa-tooth:before {\r\n  content: "\\f5c9";\r\n}\r\n\r\n.b-fa-torah:before {\r\n  content: "\\f6a0";\r\n}\r\n\r\n.b-fa-torii-gate:before {\r\n  content: "\\f6a1";\r\n}\r\n\r\n.b-fa-tractor:before {\r\n  content: "\\f722";\r\n}\r\n\r\n.b-fa-trade-federation:before {\r\n  content: "\\f513";\r\n}\r\n\r\n.b-fa-trademark:before {\r\n  content: "\\f25c";\r\n}\r\n\r\n.b-fa-traffic-light:before {\r\n  content: "\\f637";\r\n}\r\n\r\n.b-fa-trailer:before {\r\n  content: "\\e041";\r\n}\r\n\r\n.b-fa-train:before {\r\n  content: "\\f238";\r\n}\r\n\r\n.b-fa-tram:before {\r\n  content: "\\f7da";\r\n}\r\n\r\n.b-fa-transgender:before {\r\n  content: "\\f224";\r\n}\r\n\r\n.b-fa-transgender-alt:before {\r\n  content: "\\f225";\r\n}\r\n\r\n.b-fa-trash:before {\r\n  content: "\\f1f8";\r\n}\r\n\r\n.b-fa-trash-alt:before {\r\n  content: "\\f2ed";\r\n}\r\n\r\n.b-fa-trash-restore:before {\r\n  content: "\\f829";\r\n}\r\n\r\n.b-fa-trash-restore-alt:before {\r\n  content: "\\f82a";\r\n}\r\n\r\n.b-fa-tree:before {\r\n  content: "\\f1bb";\r\n}\r\n\r\n.b-fa-trello:before {\r\n  content: "\\f181";\r\n}\r\n\r\n.b-fa-trophy:before {\r\n  content: "\\f091";\r\n}\r\n\r\n.b-fa-truck:before {\r\n  content: "\\f0d1";\r\n}\r\n\r\n.b-fa-truck-loading:before {\r\n  content: "\\f4de";\r\n}\r\n\r\n.b-fa-truck-monster:before {\r\n  content: "\\f63b";\r\n}\r\n\r\n.b-fa-truck-moving:before {\r\n  content: "\\f4df";\r\n}\r\n\r\n.b-fa-truck-pickup:before {\r\n  content: "\\f63c";\r\n}\r\n\r\n.b-fa-tshirt:before {\r\n  content: "\\f553";\r\n}\r\n\r\n.b-fa-tty:before {\r\n  content: "\\f1e4";\r\n}\r\n\r\n.b-fa-tumblr:before {\r\n  content: "\\f173";\r\n}\r\n\r\n.b-fa-tumblr-square:before {\r\n  content: "\\f174";\r\n}\r\n\r\n.b-fa-tv:before {\r\n  content: "\\f26c";\r\n}\r\n\r\n.b-fa-twitch:before {\r\n  content: "\\f1e8";\r\n}\r\n\r\n.b-fa-twitter:before {\r\n  content: "\\f099";\r\n}\r\n\r\n.b-fa-twitter-square:before {\r\n  content: "\\f081";\r\n}\r\n\r\n.b-fa-typo3:before {\r\n  content: "\\f42b";\r\n}\r\n\r\n.b-fa-uber:before {\r\n  content: "\\f402";\r\n}\r\n\r\n.b-fa-ubuntu:before {\r\n  content: "\\f7df";\r\n}\r\n\r\n.b-fa-uikit:before {\r\n  content: "\\f403";\r\n}\r\n\r\n.b-fa-umbraco:before {\r\n  content: "\\f8e8";\r\n}\r\n\r\n.b-fa-umbrella:before {\r\n  content: "\\f0e9";\r\n}\r\n\r\n.b-fa-umbrella-beach:before {\r\n  content: "\\f5ca";\r\n}\r\n\r\n.b-fa-uncharted:before {\r\n  content: "\\e084";\r\n}\r\n\r\n.b-fa-underline:before {\r\n  content: "\\f0cd";\r\n}\r\n\r\n.b-fa-undo:before {\r\n  content: "\\f0e2";\r\n}\r\n\r\n.b-fa-undo-alt:before {\r\n  content: "\\f2ea";\r\n}\r\n\r\n.b-fa-uniregistry:before {\r\n  content: "\\f404";\r\n}\r\n\r\n.b-fa-unity:before {\r\n  content: "\\e049";\r\n}\r\n\r\n.b-fa-universal-access:before {\r\n  content: "\\f29a";\r\n}\r\n\r\n.b-fa-university:before {\r\n  content: "\\f19c";\r\n}\r\n\r\n.b-fa-unlink:before {\r\n  content: "\\f127";\r\n}\r\n\r\n.b-fa-unlock:before {\r\n  content: "\\f09c";\r\n}\r\n\r\n.b-fa-unlock-alt:before {\r\n  content: "\\f13e";\r\n}\r\n\r\n.b-fa-unsplash:before {\r\n  content: "\\e07c";\r\n}\r\n\r\n.b-fa-untappd:before {\r\n  content: "\\f405";\r\n}\r\n\r\n.b-fa-upload:before {\r\n  content: "\\f093";\r\n}\r\n\r\n.b-fa-ups:before {\r\n  content: "\\f7e0";\r\n}\r\n\r\n.b-fa-usb:before {\r\n  content: "\\f287";\r\n}\r\n\r\n.b-fa-user:before {\r\n  content: "\\f007";\r\n}\r\n\r\n.b-fa-user-alt:before {\r\n  content: "\\f406";\r\n}\r\n\r\n.b-fa-user-alt-slash:before {\r\n  content: "\\f4fa";\r\n}\r\n\r\n.b-fa-user-astronaut:before {\r\n  content: "\\f4fb";\r\n}\r\n\r\n.b-fa-user-check:before {\r\n  content: "\\f4fc";\r\n}\r\n\r\n.b-fa-user-circle:before {\r\n  content: "\\f2bd";\r\n}\r\n\r\n.b-fa-user-clock:before {\r\n  content: "\\f4fd";\r\n}\r\n\r\n.b-fa-user-cog:before {\r\n  content: "\\f4fe";\r\n}\r\n\r\n.b-fa-user-edit:before {\r\n  content: "\\f4ff";\r\n}\r\n\r\n.b-fa-user-friends:before {\r\n  content: "\\f500";\r\n}\r\n\r\n.b-fa-user-graduate:before {\r\n  content: "\\f501";\r\n}\r\n\r\n.b-fa-user-injured:before {\r\n  content: "\\f728";\r\n}\r\n\r\n.b-fa-user-lock:before {\r\n  content: "\\f502";\r\n}\r\n\r\n.b-fa-user-md:before {\r\n  content: "\\f0f0";\r\n}\r\n\r\n.b-fa-user-minus:before {\r\n  content: "\\f503";\r\n}\r\n\r\n.b-fa-user-ninja:before {\r\n  content: "\\f504";\r\n}\r\n\r\n.b-fa-user-nurse:before {\r\n  content: "\\f82f";\r\n}\r\n\r\n.b-fa-user-plus:before {\r\n  content: "\\f234";\r\n}\r\n\r\n.b-fa-user-secret:before {\r\n  content: "\\f21b";\r\n}\r\n\r\n.b-fa-user-shield:before {\r\n  content: "\\f505";\r\n}\r\n\r\n.b-fa-user-slash:before {\r\n  content: "\\f506";\r\n}\r\n\r\n.b-fa-user-tag:before {\r\n  content: "\\f507";\r\n}\r\n\r\n.b-fa-user-tie:before {\r\n  content: "\\f508";\r\n}\r\n\r\n.b-fa-user-times:before {\r\n  content: "\\f235";\r\n}\r\n\r\n.b-fa-users:before {\r\n  content: "\\f0c0";\r\n}\r\n\r\n.b-fa-users-cog:before {\r\n  content: "\\f509";\r\n}\r\n\r\n.b-fa-users-slash:before {\r\n  content: "\\e073";\r\n}\r\n\r\n.b-fa-usps:before {\r\n  content: "\\f7e1";\r\n}\r\n\r\n.b-fa-ussunnah:before {\r\n  content: "\\f407";\r\n}\r\n\r\n.b-fa-utensil-spoon:before {\r\n  content: "\\f2e5";\r\n}\r\n\r\n.b-fa-utensils:before {\r\n  content: "\\f2e7";\r\n}\r\n\r\n.b-fa-vaadin:before {\r\n  content: "\\f408";\r\n}\r\n\r\n.b-fa-vector-square:before {\r\n  content: "\\f5cb";\r\n}\r\n\r\n.b-fa-venus:before {\r\n  content: "\\f221";\r\n}\r\n\r\n.b-fa-venus-double:before {\r\n  content: "\\f226";\r\n}\r\n\r\n.b-fa-venus-mars:before {\r\n  content: "\\f228";\r\n}\r\n\r\n.b-fa-vest:before {\r\n  content: "\\e085";\r\n}\r\n\r\n.b-fa-vest-patches:before {\r\n  content: "\\e086";\r\n}\r\n\r\n.b-fa-viacoin:before {\r\n  content: "\\f237";\r\n}\r\n\r\n.b-fa-viadeo:before {\r\n  content: "\\f2a9";\r\n}\r\n\r\n.b-fa-viadeo-square:before {\r\n  content: "\\f2aa";\r\n}\r\n\r\n.b-fa-vial:before {\r\n  content: "\\f492";\r\n}\r\n\r\n.b-fa-vials:before {\r\n  content: "\\f493";\r\n}\r\n\r\n.b-fa-viber:before {\r\n  content: "\\f409";\r\n}\r\n\r\n.b-fa-video:before {\r\n  content: "\\f03d";\r\n}\r\n\r\n.b-fa-video-slash:before {\r\n  content: "\\f4e2";\r\n}\r\n\r\n.b-fa-vihara:before {\r\n  content: "\\f6a7";\r\n}\r\n\r\n.b-fa-vimeo:before {\r\n  content: "\\f40a";\r\n}\r\n\r\n.b-fa-vimeo-square:before {\r\n  content: "\\f194";\r\n}\r\n\r\n.b-fa-vimeo-v:before {\r\n  content: "\\f27d";\r\n}\r\n\r\n.b-fa-vine:before {\r\n  content: "\\f1ca";\r\n}\r\n\r\n.b-fa-virus:before {\r\n  content: "\\e074";\r\n}\r\n\r\n.b-fa-virus-slash:before {\r\n  content: "\\e075";\r\n}\r\n\r\n.b-fa-viruses:before {\r\n  content: "\\e076";\r\n}\r\n\r\n.b-fa-vk:before {\r\n  content: "\\f189";\r\n}\r\n\r\n.b-fa-vnv:before {\r\n  content: "\\f40b";\r\n}\r\n\r\n.b-fa-voicemail:before {\r\n  content: "\\f897";\r\n}\r\n\r\n.b-fa-volleyball-ball:before {\r\n  content: "\\f45f";\r\n}\r\n\r\n.b-fa-volume-down:before {\r\n  content: "\\f027";\r\n}\r\n\r\n.b-fa-volume-mute:before {\r\n  content: "\\f6a9";\r\n}\r\n\r\n.b-fa-volume-off:before {\r\n  content: "\\f026";\r\n}\r\n\r\n.b-fa-volume-up:before {\r\n  content: "\\f028";\r\n}\r\n\r\n.b-fa-vote-yea:before {\r\n  content: "\\f772";\r\n}\r\n\r\n.b-fa-vr-cardboard:before {\r\n  content: "\\f729";\r\n}\r\n\r\n.b-fa-vuejs:before {\r\n  content: "\\f41f";\r\n}\r\n\r\n.b-fa-walking:before {\r\n  content: "\\f554";\r\n}\r\n\r\n.b-fa-wallet:before {\r\n  content: "\\f555";\r\n}\r\n\r\n.b-fa-warehouse:before {\r\n  content: "\\f494";\r\n}\r\n\r\n.b-fa-watchman-monitoring:before {\r\n  content: "\\e087";\r\n}\r\n\r\n.b-fa-water:before {\r\n  content: "\\f773";\r\n}\r\n\r\n.b-fa-wave-square:before {\r\n  content: "\\f83e";\r\n}\r\n\r\n.b-fa-waze:before {\r\n  content: "\\f83f";\r\n}\r\n\r\n.b-fa-weebly:before {\r\n  content: "\\f5cc";\r\n}\r\n\r\n.b-fa-weibo:before {\r\n  content: "\\f18a";\r\n}\r\n\r\n.b-fa-weight:before {\r\n  content: "\\f496";\r\n}\r\n\r\n.b-fa-weight-hanging:before {\r\n  content: "\\f5cd";\r\n}\r\n\r\n.b-fa-weixin:before {\r\n  content: "\\f1d7";\r\n}\r\n\r\n.b-fa-whatsapp:before {\r\n  content: "\\f232";\r\n}\r\n\r\n.b-fa-whatsapp-square:before {\r\n  content: "\\f40c";\r\n}\r\n\r\n.b-fa-wheelchair:before {\r\n  content: "\\f193";\r\n}\r\n\r\n.b-fa-whmcs:before {\r\n  content: "\\f40d";\r\n}\r\n\r\n.b-fa-wifi:before {\r\n  content: "\\f1eb";\r\n}\r\n\r\n.b-fa-wikipedia-w:before {\r\n  content: "\\f266";\r\n}\r\n\r\n.b-fa-wind:before {\r\n  content: "\\f72e";\r\n}\r\n\r\n.b-fa-window-close:before {\r\n  content: "\\f410";\r\n}\r\n\r\n.b-fa-window-maximize:before {\r\n  content: "\\f2d0";\r\n}\r\n\r\n.b-fa-window-minimize:before {\r\n  content: "\\f2d1";\r\n}\r\n\r\n.b-fa-window-restore:before {\r\n  content: "\\f2d2";\r\n}\r\n\r\n.b-fa-windows:before {\r\n  content: "\\f17a";\r\n}\r\n\r\n.b-fa-wine-bottle:before {\r\n  content: "\\f72f";\r\n}\r\n\r\n.b-fa-wine-glass:before {\r\n  content: "\\f4e3";\r\n}\r\n\r\n.b-fa-wine-glass-alt:before {\r\n  content: "\\f5ce";\r\n}\r\n\r\n.b-fa-wix:before {\r\n  content: "\\f5cf";\r\n}\r\n\r\n.b-fa-wizards-of-the-coast:before {\r\n  content: "\\f730";\r\n}\r\n\r\n.b-fa-wodu:before {\r\n  content: "\\e088";\r\n}\r\n\r\n.b-fa-wolf-pack-battalion:before {\r\n  content: "\\f514";\r\n}\r\n\r\n.b-fa-won-sign:before {\r\n  content: "\\f159";\r\n}\r\n\r\n.b-fa-wordpress:before {\r\n  content: "\\f19a";\r\n}\r\n\r\n.b-fa-wordpress-simple:before {\r\n  content: "\\f411";\r\n}\r\n\r\n.b-fa-wpbeginner:before {\r\n  content: "\\f297";\r\n}\r\n\r\n.b-fa-wpexplorer:before {\r\n  content: "\\f2de";\r\n}\r\n\r\n.b-fa-wpforms:before {\r\n  content: "\\f298";\r\n}\r\n\r\n.b-fa-wpressr:before {\r\n  content: "\\f3e4";\r\n}\r\n\r\n.b-fa-wrench:before {\r\n  content: "\\f0ad";\r\n}\r\n\r\n.b-fa-x-ray:before {\r\n  content: "\\f497";\r\n}\r\n\r\n.b-fa-xbox:before {\r\n  content: "\\f412";\r\n}\r\n\r\n.b-fa-xing:before {\r\n  content: "\\f168";\r\n}\r\n\r\n.b-fa-xing-square:before {\r\n  content: "\\f169";\r\n}\r\n\r\n.b-fa-y-combinator:before {\r\n  content: "\\f23b";\r\n}\r\n\r\n.b-fa-yahoo:before {\r\n  content: "\\f19e";\r\n}\r\n\r\n.b-fa-yammer:before {\r\n  content: "\\f840";\r\n}\r\n\r\n.b-fa-yandex:before {\r\n  content: "\\f413";\r\n}\r\n\r\n.b-fa-yandex-international:before {\r\n  content: "\\f414";\r\n}\r\n\r\n.b-fa-yarn:before {\r\n  content: "\\f7e3";\r\n}\r\n\r\n.b-fa-yelp:before {\r\n  content: "\\f1e9";\r\n}\r\n\r\n.b-fa-yen-sign:before {\r\n  content: "\\f157";\r\n}\r\n\r\n.b-fa-yin-yang:before {\r\n  content: "\\f6ad";\r\n}\r\n\r\n.b-fa-yoast:before {\r\n  content: "\\f2b1";\r\n}\r\n\r\n.b-fa-youtube:before {\r\n  content: "\\f167";\r\n}\r\n\r\n.b-fa-youtube-square:before {\r\n  content: "\\f431";\r\n}\r\n\r\n.b-fa-zhihu:before {\r\n  content: "\\f63f";\r\n}\r\n\r\n.sr-only {\r\n  border: 0;\r\n  clip: rect(0, 0, 0, 0);\r\n  height: 1px;\r\n  margin: -1px;\r\n  overflow: hidden;\r\n  padding: 0;\r\n  position: absolute;\r\n  width: 1px;\r\n}\r\n\r\n.sr-only-focusable:active, .sr-only-focusable:focus {\r\n  clip: auto;\r\n  height: auto;\r\n  margin: 0;\r\n  overflow: visible;\r\n  position: static;\r\n  width: auto;\r\n}\r\n\r\n.b-fa {\r\n  font-family: inherit;\r\n  line-height: inherit;\r\n  -webkit-font-smoothing: inherit;\r\n}\r\n\r\n.b-fa:before {\r\n  font-family: "Font Awesome 5 Free", FontAwesome5Free;\r\n  font-weight: 900;\r\n}\r\n\r\n.b-icon:before {\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  display: inline-block;\r\n  font-style: normal;\r\n  font-variant: normal;\r\n  font-weight: normal;\r\n  line-height: 1;\r\n  font-family: "Font Awesome 5 Free", FontAwesome5Free;\r\n  font-weight: 900;\r\n  vertical-align: 0;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.b-fw-icon:before {\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  display: inline-block;\r\n  font-style: normal;\r\n  font-variant: normal;\r\n  font-weight: normal;\r\n  line-height: 1;\r\n  font-family: "Font Awesome 5 Free", FontAwesome5Free;\r\n  font-weight: 900;\r\n  vertical-align: 0;\r\n}\r\n\r\n.b-content-icon, .b-grid-cell.b-group-title:before, .b-row-reordering .b-row-reordering-target-parent .b-tree-cell::before, .b-gridbase.b-columnresize.b-touch.b-column-resizing .b-grid-header.b-resizing::before, .b-checkbox .b-checkbox-label:before {\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  display: inline-block;\r\n  font-style: normal;\r\n  font-variant: normal;\r\n  font-weight: normal;\r\n  line-height: 1;\r\n  font-family: "Font Awesome 5 Free", FontAwesome5Free;\r\n  font-weight: 900;\r\n  vertical-align: 0;\r\n}\r\n\r\n.b-icon-add:before {\r\n  content: "\\f067";\r\n}\r\n\r\n.b-icon-remove:before {\r\n  content: "\\f00d";\r\n}\r\n\r\n.b-icon-clear:before {\r\n  content: "\\f00d";\r\n}\r\n\r\n.b-icon-close:before, .b-popup-close:before {\r\n  content: "\\f00d";\r\n}\r\n\r\n.b-icon-collapse-down:before {\r\n  content: "\\f078";\r\n}\r\n\r\n.b-icon-collapse-left:before {\r\n  content: "\\f053";\r\n}\r\n\r\n.b-icon-collapse-right:before {\r\n  content: "\\f054";\r\n}\r\n\r\n.b-icon-collapse-up:before {\r\n  content: "\\f077";\r\n}\r\n\r\n.b-icon-search:before {\r\n  content: "\\f002";\r\n}\r\n\r\n.b-icon-search-plus:before {\r\n  content: "\\f00e";\r\n}\r\n\r\n.b-icon-search-minus:before {\r\n  content: "\\f010";\r\n}\r\n\r\n.b-icon-hide:before {\r\n  content: "\\f057";\r\n}\r\n\r\n.b-icon-trash:before {\r\n  content: "\\f1f8";\r\n}\r\n\r\n.b-icon-edit:before {\r\n  content: "\\f303";\r\n}\r\n\r\n.b-icon-copy:before {\r\n  content: "\\f0c5";\r\n}\r\n\r\n.b-icon-cut:before {\r\n  content: "\\f0c4";\r\n}\r\n\r\n.b-icon-paste:before {\r\n  content: "\\f0ea";\r\n}\r\n\r\n.b-icon-expand-row:before {\r\n  content: "\\f107";\r\n}\r\n\r\n.b-icon-expand-column:before {\r\n  content: "\\f105";\r\n}\r\n\r\n.b-icon-expand, .b-popup-expand:before {\r\n  content: "\\f065";\r\n}\r\n\r\n.b-icon-first:before {\r\n  content: "\\f100";\r\n}\r\n\r\n.b-icon-previous:before {\r\n  content: "\\f104";\r\n}\r\n\r\n.b-icon-next:before {\r\n  content: "\\f105";\r\n}\r\n\r\n.b-icon-last:before {\r\n  content: "\\f101";\r\n}\r\n\r\n.b-icon-reload:before {\r\n  content: "\\f01e";\r\n}\r\n\r\n.b-icon-undo:before {\r\n  content: "\\f0e2";\r\n}\r\n\r\n.b-icon-redo:before {\r\n  content: "\\f01e";\r\n}\r\n\r\n.b-icon-code:before {\r\n  content: "\\f121";\r\n}\r\n\r\n.b-icon-clipboard:before {\r\n  content: "\\f328";\r\n}\r\n\r\n.b-icon-filter:before,\r\n.b-icon-filter-equal:before {\r\n  content: "\\f0b0";\r\n}\r\n\r\n.b-icon-filter-less:before,\r\n.b-icon-filter-before:before {\r\n  content: "\\f053";\r\n}\r\n\r\n.b-icon-filter-more:before,\r\n.b-icon-filter-after:before {\r\n  content: "\\f054";\r\n}\r\n\r\n.b-icon-check:before, .b-checkbox .b-checkbox-label:before {\r\n  content: "\\f00c";\r\n}\r\n\r\n.b-icon-checked:before {\r\n  content: "\\f14a";\r\n}\r\n\r\n.b-icon-unchecked:before {\r\n  content: "\\f0c8";\r\n}\r\n\r\n.b-icon-calendar:before {\r\n  content: "\\f133";\r\n}\r\n\r\n.b-icon-clock:before {\r\n  content: "\\f017";\r\n}\r\n\r\n.b-icon-recurring:before {\r\n  content: "\\f021";\r\n}\r\n\r\n.b-icon-duration:before {\r\n  content: "\\f254";\r\n}\r\n\r\n.b-icon-milestone:before {\r\n  content: "\\f0c8";\r\n  transform: rotate(45deg);\r\n  position: relative;\r\n  top: 0.1em;\r\n}\r\n\r\n.b-icon-user:before {\r\n  content: "\\f007";\r\n}\r\n\r\n.b-icon-menu:before {\r\n  content: "\\f0c9";\r\n}\r\n\r\n.b-icon-menu-horizontal:before {\r\n  content: "\\f141";\r\n}\r\n\r\n.b-icon-menu-vertical:before {\r\n  content: "\\f142";\r\n}\r\n\r\n.b-icon-info:before {\r\n  content: "\\f129";\r\n}\r\n\r\n.b-icon-sub-menu:before {\r\n  content: "\\f054";\r\n}\r\n\r\n.b-icon-star:before {\r\n  content: "\\f005";\r\n}\r\n\r\n.b-icon-warning:before {\r\n  content: "\\f071";\r\n}\r\n\r\n.b-icon-columns:before {\r\n  content: "\\f0db";\r\n}\r\n\r\n.b-icon-picker:before {\r\n  content: "\\f0d7";\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.b-icon-picker-rotated:before {\r\n  content: "\\f0d7";\r\n  transform: rotate(180deg);\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.b-icon-resize-horizontal:before {\r\n  content: "\\f337";\r\n}\r\n\r\n.b-icon-fullscreen:before {\r\n  content: "\\f0b2";\r\n}\r\n\r\n.b-icon-cog:before {\r\n  content: "\\f013";\r\n}\r\n\r\n.b-icon-file-download:before {\r\n  content: "\\f56d";\r\n}\r\n\r\n.b-icon-sync:before {\r\n  content: "\\f2f1";\r\n}\r\n\r\n.b-icon-bad-mood-emoji:before {\r\n  content: "\\f119";\r\n}\r\n\r\n.b-icon-circle:before {\r\n  content: "\\f111";\r\n}\r\n\r\n.b-icon-square:before {\r\n  content: "\\f0c8";\r\n}\r\n\r\n.b-icon-up:before {\r\n  content: "\\f062";\r\n}\r\n\r\n.b-icon-down:before {\r\n  content: "\\f063";\r\n}\r\n\r\n.b-icon-left:before {\r\n  content: "\\f060";\r\n}\r\n\r\n.b-icon-right:before {\r\n  content: "\\f061";\r\n}\r\n\r\n.b-icon-angle-left:before {\r\n  content: "\\f104";\r\n}\r\n\r\n.b-icon-angle-right:before {\r\n  content: "\\f105";\r\n}\r\n\r\n.b-icon-prev:before {\r\n  content: "\\f053";\r\n}\r\n\r\n.b-icon-next:before {\r\n  content: "\\f054";\r\n}\r\n\r\n.b-icon-move-left-right:before {\r\n  content: "\\f337";\r\n}\r\n\r\n.b-icon-move-up-down:before {\r\n  content: "\\f338";\r\n}\r\n\r\n.b-icon-clock-live {\r\n  background-color: #b0b1b2;\r\n  border-radius: 50%;\r\n  width: 1em;\r\n  height: 1em;\r\n  position: relative;\r\n  animation-delay: 0s;\r\n}\r\n.b-icon-clock-live:before, .b-icon-clock-live:after {\r\n  position: absolute;\r\n  display: block;\r\n  font-size: 1em !important;\r\n  content: "";\r\n  width: 0.1em !important;\r\n  left: 0.44em;\r\n  /* half width of clock - half width of hand */\r\n  background: #fff;\r\n  border-radius: 0.5em;\r\n}\r\n.b-icon-clock-live:before {\r\n  top: 0.15em;\r\n  height: 0.4em !important;\r\n  /* half the width/height of the clock */\r\n  transform-origin: 0.05em 0.35em;\r\n  animation: rotate 6s infinite linear;\r\n  animation-play-state: paused;\r\n  animation-delay: inherit;\r\n}\r\n.b-icon-clock-live:after {\r\n  top: 0.22em;\r\n  height: 0.33em;\r\n  /* top + height for little hand must = top + height for big hand */\r\n  transform-origin: 0.05em 0.3em;\r\n  animation: rotate 72s infinite linear;\r\n  /* time should be big-hand time * 12 */\r\n  animation-play-state: paused;\r\n  animation-delay: inherit;\r\n}\r\n\r\n/* Animations */\r\n@keyframes rotate {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n.b-icon-spinner:before {\r\n  content: "\\f110";\r\n  animation: rotate 2s infinite linear;\r\n}\r\n\r\n.b-color-blue {\r\n  background-color: #3183fe;\r\n}\r\n\r\n.b-color-deep-orange {\r\n  background-color: #ff5722;\r\n}\r\n\r\n.b-color-orange {\r\n  background-color: #feac31;\r\n}\r\n\r\n.b-color-amber {\r\n  background-color: #ffc107;\r\n}\r\n\r\n.b-color-indigo {\r\n  background-color: #4531fe;\r\n}\r\n\r\n.b-color-lime {\r\n  background-color: #83fe31;\r\n}\r\n\r\n.b-color-teal {\r\n  background-color: #31feac;\r\n}\r\n\r\n.b-color-green {\r\n  background-color: #27ca37;\r\n}\r\n\r\n.b-color-light-green {\r\n  background-color: #9efea7;\r\n}\r\n\r\n.b-color-purple {\r\n  background-color: #fe31ea;\r\n}\r\n\r\n.b-color-yellow {\r\n  background-color: #ecfe26;\r\n}\r\n\r\n.b-color-red {\r\n  background-color: #e53f2c;\r\n}\r\n\r\n.b-color-dark-gray {\r\n  background-color: #474849;\r\n}\r\n\r\n.b-color-gray {\r\n  background-color: #b0b0b7;\r\n}\r\n\r\n.b-color-light-gray {\r\n  background-color: #e0e0e7;\r\n}\r\n\r\n.b-color-white {\r\n  background-color: #fff;\r\n}\r\n\r\n.b-noselect {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.b-released,\r\n.b-hide-display {\r\n  display: none !important;\r\n}\r\n\r\n.b-hide-visibility {\r\n  visibility: hidden !important;\r\n}\r\n\r\n.b-hide-offscreen {\r\n  visibility: hidden !important;\r\n  position: absolute !important;\r\n  top: -10000em;\r\n  left: -10000em;\r\n}\r\n\r\n.b-yscroll-pad {\r\n  display: none;\r\n}\r\n\r\n.b-visible-scrollbar .b-show-yscroll-padding > .b-yscroll-pad {\r\n  display: block;\r\n  order: 9999;\r\n  border-left: 1px solid #ddd;\r\n}\r\n.b-visible-scrollbar .b-show-yscroll-padding > .b-yscroll-pad .b-yscroll-pad-sizer {\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n  visibility: hidden;\r\n  margin-left: -1px;\r\n  height: 0;\r\n}\r\n\r\n.b-fx-highlight {\r\n  z-index: 9999;\r\n  animation-name: b-fx-highlight-animation;\r\n  animation-duration: 1s;\r\n  animation: b-fx-highlight-animation 1s ease 0s 1;\r\n}\r\n\r\n@keyframes b-fx-highlight-animation {\r\n  0% {\r\n    box-shadow: none;\r\n  }\r\n  50% {\r\n    box-shadow: 0 0 10px 5px rgba(253, 126, 20, 0.5);\r\n  }\r\n  100% {\r\n    box-shadow: none;\r\n  }\r\n}\r\n/**\r\n * DomHelper size monitoring polyfill for when ResizeObserver not available\r\n * now only necessary on IE.\r\n */\r\n.b-no-resizeobserver.b-resize-monitored {\r\n  position: relative;\r\n}\r\n.b-no-resizeobserver.b-resize-monitored .b-resize-monitors {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  visibility: hidden;\r\n  overflow: hidden;\r\n}\r\n.b-no-resizeobserver.b-resize-monitored .b-resize-monitors > * {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.b-no-resizeobserver.b-resize-monitored .b-resize-monitors > .b-resize-monitor-expand:after {\r\n  content: "";\r\n  display: block;\r\n  width: 100000px;\r\n  height: 100000px;\r\n}\r\n.b-no-resizeobserver.b-resize-monitored .b-resize-monitors > .b-resize-monitor-shrink:after {\r\n  content: "";\r\n  display: block;\r\n  width: 200%;\r\n  height: 200%;\r\n  min-width: 1px;\r\n  min-height: 1px;\r\n}\r\n\r\n.b-float-root {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  pointer-events: none;\r\n  overflow: hidden;\r\n  overflow: -moz-hidden-unscrollable;\r\n  overflow: clip;\r\n  z-index: 11000;\r\n  contain: strict;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.b-float-root.b-safari {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n.b-float-root > .b-floating {\r\n  position: absolute;\r\n  contain: layout style;\r\n  pointer-events: all;\r\n  transition: opacity 0.2s;\r\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.12), 0 3px 6px rgba(0, 0, 0, 0.24);\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 11001;\r\n}\r\n.b-firefox .b-float-root > .b-floating {\r\n  contain: layout;\r\n}\r\n.b-float-root > .b-floating.b-hidden {\r\n  opacity: 0;\r\n}\r\n.b-float-root > .b-floating.b-aligned-above:not(.b-anchored) {\r\n  box-shadow: -3px -1px 6px rgba(0, 0, 0, 0.12), 3px -2px 6px rgba(0, 0, 0, 0.24);\r\n}\r\n\r\n.b-drawable-el {\r\n  animation-duration: 0.001ms;\r\n  animation-name: b-drawable-anim;\r\n  height: 0 !important;\r\n  width: 0 !important;\r\n  visibility: hidden;\r\n}\r\n\r\n@keyframes b-drawable-anim {\r\n  from {\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n/*\r\n    The Gripper\r\n    ===========\r\n    The Hoverable mixin applies various b-hover classes to a hoverTarget element. Based on these classes, a resize\r\n    gripper element inside the target is styled. This element may be always present, or (as with CalendarDrag), moved\r\n    in to the active hoverTarget on hoverEnter.\r\n\r\n    Hoverable may set the following classes simultaneously. Within each are the classes that are mutually exclusive:\r\n\r\n     - b-hover-(top|bottom)\r\n     - b-hover-(right|left)\r\n     - b-hover-edge   (set when hovering near any edge)\r\n\r\n   It may be that none of the above are present if hoverEdges is used. When hoverEdges is not used, these classes will\r\n   be present on the hoverTarget no matter where the cursor is inside it.\r\n\r\n   To facilitate animations, the b-hover-anim class is added in a way such that transitions for styles activated by it\r\n   will be animated.\r\n*/\r\n.b-gripper {\r\n  position: absolute;\r\n  /*\r\n   Horizontal gripper (top and bottom):\r\n          +---------------------------+\r\n          |           =====           |\r\n          |                           |\r\n          |                           |\r\n          |           =====           |\r\n          +---------------------------+\r\n   */\r\n  /*\r\n   Vertical gripper (left and right):\r\n          +---------------------------+\r\n          |                           |\r\n          | ||                     || |\r\n          | ||                     || |\r\n          |                           |\r\n          +---------------------------+\r\n   */\r\n}\r\n.b-gripper:after {\r\n  content: " ";\r\n  position: absolute;\r\n  opacity: 0;\r\n}\r\n.b-hover-top .b-gripper.b-gripper-horz, .b-hover-bottom .b-gripper.b-gripper-horz {\r\n  cursor: ns-resize;\r\n  height: 1em;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n.b-hover-bottom .b-gripper.b-gripper-horz {\r\n  bottom: 0;\r\n}\r\n.b-gripper.b-gripper-horz:after {\r\n  border-top: 1px solid rgba(0, 0, 0, 0.3);\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\r\n  width: 0;\r\n  height: 0.25em;\r\n  left: 50%;\r\n  margin-left: 0;\r\n}\r\n.b-hover-top .b-gripper.b-gripper-horz:after {\r\n  top: 0.4em;\r\n}\r\n.b-hover-bottom .b-gripper.b-gripper-horz:after {\r\n  bottom: 0.4em;\r\n}\r\n.b-hover-anim.b-hover-edge .b-gripper.b-gripper-horz:after {\r\n  transition: opacity 0.2s, margin-left 0.2s, width 0.2s;\r\n  opacity: 1;\r\n  margin-left: -0.6em;\r\n  width: 1.2em;\r\n}\r\n.b-hover-left .b-gripper.b-gripper-vert, .b-hover-right .b-gripper.b-gripper-vert {\r\n  cursor: ew-resize;\r\n  width: 1em;\r\n  top: 0;\r\n  bottom: 0;\r\n}\r\n.b-hover-right .b-gripper.b-gripper-vert {\r\n  right: 0;\r\n}\r\n.b-gripper.b-gripper-vert:after {\r\n  background: repeating-linear-gradient(90deg, rgba(0, 0, 0, 0.5), rgba(255, 255, 255, 0.8) 3px);\r\n  height: 0;\r\n  width: 0.5em;\r\n  top: 50%;\r\n  margin-top: 0;\r\n}\r\n.b-hover-left .b-gripper.b-gripper-vert:after {\r\n  left: 4px;\r\n}\r\n.b-hover-right .b-gripper.b-gripper-vert:after {\r\n  right: 4px;\r\n}\r\n.b-hover-anim.b-hover-edge .b-gripper.b-gripper-vert:after {\r\n  transition: opacity 0.2s, margin-top 0.2s, height 0.2s;\r\n  opacity: 1;\r\n  margin-top: -6px;\r\n  height: 12px;\r\n}\r\n\r\n.b-dragging {\r\n  position: absolute !important;\r\n  z-index: 10000;\r\n  pointer-events: none;\r\n  opacity: 0.8;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/*\r\n Used when Drag code is creating a separate proxy element representing the dragged element,\r\n   as opposed to the \'inline\' drag of the actual element\r\n*/\r\n.b-drag-proxy {\r\n  top: 0;\r\n  left: 0;\r\n  pointer-events: none !important;\r\n  box-sizing: border-box;\r\n}\r\n.b-drag-proxy * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.b-aborting {\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.b-drag-original.b-hidden {\r\n  display: none !important;\r\n}\r\n\r\n.b-draghelper-active * {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.simulated-mouse {\r\n  position: absolute;\r\n  z-index: 100;\r\n  top: 10px;\r\n  left: 10px;\r\n  transition: top 0.5s, left 0.5s;\r\n  pointer-events: none;\r\n  font-size: 16px;\r\n}\r\n.simulated-mouse.quick {\r\n  transition: top 0.05s, left 0.05s;\r\n}\r\n.simulated-mouse:after {\r\n  position: absolute;\r\n  content: "\\f245";\r\n  font-family: "Font Awesome 5 Free";\r\n  font-weight: 900;\r\n  z-index: 102;\r\n}\r\n.simulated-mouse.drag:before, .simulated-mouse.mousedown:before, .simulated-mouse.dblclick:before, .simulated-mouse.click:before {\r\n  position: absolute;\r\n  content: "";\r\n  border: 2px solid transparent;\r\n  border-radius: 50%;\r\n  animation-name: click;\r\n  animation-duration: 0.2s;\r\n  top: 0;\r\n  left: 0;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 101;\r\n  opacity: 0.7;\r\n}\r\n.simulated-mouse.drag:after {\r\n  content: "\\f25a";\r\n  left: -3px;\r\n}\r\n.simulated-mouse.dblclick:before {\r\n  animation-name: dblclick;\r\n  animation-duration: 0.3s;\r\n}\r\n.simulated-mouse.mousedown:before, .simulated-mouse.drag:before {\r\n  animation-name: none;\r\n  width: 1.5em;\r\n  height: 1.5em;\r\n  border-color: red;\r\n}\r\n\r\n@keyframes click {\r\n  0% {\r\n    width: 0;\r\n    height: 0;\r\n  }\r\n  90% {\r\n    width: 1.5em;\r\n    height: 1.5em;\r\n    border-color: red;\r\n  }\r\n  100% {\r\n    width: 0;\r\n    height: 0;\r\n    border-color: transparent;\r\n  }\r\n}\r\n@keyframes dblclick {\r\n  0% {\r\n    width: 0;\r\n    height: 0;\r\n  }\r\n  40% {\r\n    width: 1.5em;\r\n    height: 1.5em;\r\n    border-color: red;\r\n  }\r\n  50% {\r\n    width: 0;\r\n    height: 0;\r\n  }\r\n  90% {\r\n    width: 1.5em;\r\n    height: 1.5em;\r\n    border-color: red;\r\n  }\r\n  100% {\r\n    width: 0;\r\n    height: 0;\r\n    border-color: transparent;\r\n  }\r\n}\r\n.b-widget {\r\n  display: inline-flex;\r\n  overflow: hidden;\r\n  line-height: normal;\r\n  font-weight: 400;\r\n  font-size: 1em;\r\n  box-sizing: border-box;\r\n  color-scheme: light;\r\n}\r\n.b-widget.b-measure {\r\n  display: block !important;\r\n}\r\n.b-widget.b-anchored {\r\n  overflow: visible;\r\n}\r\n.b-widget.b-maximized {\r\n  transform: none !important;\r\n  width: 100% !important;\r\n  height: 100% !important;\r\n  max-width: 100% !important;\r\n  max-height: 100% !important;\r\n}\r\n.b-widget * {\r\n  box-sizing: border-box;\r\n}\r\n.b-widget:before, .b-widget:after,\r\n.b-widget *:before,\r\n.b-widget *:after {\r\n  box-sizing: border-box;\r\n}\r\n.b-widget.b-positioned {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n.b-widget.b-floating.b-centered, .b-widget.b-positioned.b-centered {\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.b-widget > .b-focus-trap {\r\n  position: absolute;\r\n  display: none;\r\n  clip: rect(0, 0, 0, 0);\r\n}\r\n.b-widget.b-focus-trapped.b-contains-focus > .b-focus-trap {\r\n  display: inherit;\r\n}\r\n.b-widget.b-hidden {\r\n  display: none !important;\r\n}\r\n.b-widget.b-hiding {\r\n  pointer-events: none;\r\n}\r\n.b-widget .b-widget-inner {\r\n  width: 100%;\r\n  position: relative;\r\n  flex: 1;\r\n}\r\n.b-widget .b-anchor {\r\n  width: 16px;\r\n  height: 8px;\r\n  position: absolute;\r\n  z-index: -1;\r\n}\r\n.b-widget .b-anchor svg {\r\n  position: absolute;\r\n  top: 0;\r\n  overflow: visible;\r\n}\r\n.b-widget .b-anchor.b-anchor-top {\r\n  left: 0;\r\n  bottom: calc(100% - 1px);\r\n}\r\n.b-widget .b-anchor.b-anchor-bottom {\r\n  left: 0;\r\n  top: calc(100% - 1px);\r\n}\r\n.b-widget .b-anchor.b-anchor-bottom svg {\r\n  transform: rotate(180deg);\r\n}\r\n.b-widget .b-anchor.b-anchor-left {\r\n  top: 0;\r\n  width: 8px;\r\n  height: 16px;\r\n  right: calc(100% - 1px);\r\n}\r\n.b-widget .b-anchor.b-anchor-left svg {\r\n  transform: rotate(270deg);\r\n  transform-origin: 8px 8px;\r\n}\r\n.b-widget .b-anchor.b-anchor-right {\r\n  top: 0;\r\n  width: 8px;\r\n  height: 16px;\r\n  left: calc(100% - 1px);\r\n}\r\n.b-widget .b-anchor.b-anchor-right svg {\r\n  transform: rotate(90deg);\r\n  transform-origin: 4px 4px;\r\n}\r\n\r\n.b-widget-scroller {\r\n  overflow: hidden;\r\n  -webkit-overflow-scrolling: touch;\r\n  overflow-anchor: none;\r\n  /* without this we see weird issues in Mac Chrome <= 63 with no scrollbar, covered in Tree.t.js */\r\n}\r\n.b-widget-scroller.b-hide-scroll {\r\n  -ms-overflow-style: none;\r\n  scrollbar-width: none;\r\n}\r\n.b-widget-scroller.b-hide-scroll::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.b-scroller-stretcher {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 1px;\r\n  width: 1px;\r\n}\r\n\r\n.b-text-align-left {\r\n  text-align: left;\r\n}\r\n\r\n.b-text-align-center {\r\n  text-align: center;\r\n}\r\n\r\n.b-text-align-right {\r\n  text-align: right;\r\n}\r\n\r\n.b-widget.b-badge {\r\n  overflow: visible;\r\n}\r\n\r\n.b-badge:before {\r\n  content: attr(data-badge);\r\n  position: absolute;\r\n  min-width: 2.223em;\r\n  min-height: 2.223em;\r\n  right: -1em;\r\n  top: -1em;\r\n  padding: 0.5em;\r\n  background-color: #e53f2c;\r\n  color: #fff;\r\n  border-radius: 50%;\r\n  font-size: 0.6em;\r\n  z-index: 5;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  animation-name: b-badge-show;\r\n  animation-duration: 0.3s;\r\n}\r\n\r\n.b-button.b-badge:before {\r\n  font-size: 0.7em;\r\n}\r\n\r\n@keyframes b-badge-show {\r\n  0% {\r\n    opacity: 0;\r\n    transform: scale(0.1) rotate(180deg);\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n    transform: scale(1) rotate(0deg);\r\n  }\r\n}\r\n.b-button {\r\n  position: relative;\r\n  padding: 0 1em;\r\n  min-width: 3em;\r\n  min-height: 2.7em;\r\n  border: 1px solid;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-weight: 400;\r\n  transition: background-color 200ms, color 200ms, border 200ms;\r\n  white-space: nowrap;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-transform: uppercase;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n.b-button:not(.b-tab) {\r\n  border-radius: 2px;\r\n}\r\n.b-button::-moz-focus-inner {\r\n  border: 0;\r\n}\r\n.b-button label {\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.b-button.b-rotate-vertical {\r\n  min-height: 3em;\r\n  min-width: 2.7em;\r\n  padding: 1em 0 1em 0;\r\n}\r\n.b-button.b-rotate-vertical label {\r\n  -webkit-writing-mode: vertical-lr;\r\n  writing-mode: vertical-lr;\r\n  -ms-writing-mode: tb-lr;\r\n}\r\n.b-button.b-rotate-left {\r\n  flex-direction: column-reverse;\r\n}\r\n.b-button.b-rotate-left label {\r\n  transform: rotate(180deg);\r\n}\r\n.b-button.b-rotate-left i {\r\n  transform: rotate(270deg);\r\n}\r\n.b-button.b-rotate-right {\r\n  flex-direction: column;\r\n}\r\n.b-button.b-rotate-right i {\r\n  transform: rotate(90deg);\r\n}\r\n.b-button.b-icon-align-start i:not(.b-button-menu-icon) {\r\n  order: -100;\r\n}\r\n.b-button.b-icon-align-start:not(.b-rotate-vertical) label {\r\n  margin-left: 0.5em;\r\n}\r\n.b-button.b-icon-align-start.b-rotate-right label {\r\n  margin-top: 0.5em;\r\n}\r\n.b-button.b-icon-align-start.b-rotate-left label {\r\n  margin-bottom: 0.5em;\r\n}\r\n.b-button.b-icon-align-end i {\r\n  order: 100;\r\n}\r\n.b-button.b-icon-align-end:not(.b-rotate-vertical) label {\r\n  margin-right: 0.5em;\r\n}\r\n.b-button.b-icon-align-end.b-rotate-right label {\r\n  margin-bottom: 0.5em;\r\n}\r\n.b-button.b-icon-align-end.b-rotate-left label {\r\n  margin-top: 0.5em;\r\n}\r\n.b-button .b-button-menu-icon {\r\n  margin-inline-start: 0.5em;\r\n}\r\n.b-button i {\r\n  font-size: 1em;\r\n}\r\n.b-button label:empty {\r\n  display: none;\r\n}\r\n.b-button.b-badge {\r\n  overflow: visible !important;\r\n}\r\n.b-button.b-rounded {\r\n  border-radius: 50%;\r\n}\r\n.b-button:focus {\r\n  outline: none;\r\n}\r\n.b-button:disabled {\r\n  cursor: default;\r\n}\r\n.b-toolbar-content > .b-button {\r\n  font-size: 0.9em;\r\n}\r\n.b-button.b-borderless {\r\n  border: none;\r\n}\r\n\r\nbutton.b-button.b-transparent:not(.b-tab) {\r\n  background-color: transparent;\r\n  border: none;\r\n}\r\n\r\na.b-button {\r\n  text-decoration: none;\r\n}\r\n\r\n.b-button.b-white:not(.b-tab) {\r\n  color: #fff;\r\n  border-color: rgba(255, 255, 255, 0.3);\r\n  background-color: rgba(255, 255, 255, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-white:not(.b-tab):focus, .b-button.b-white:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(255, 255, 255, 0.3);\r\n}\r\n.b-button.b-white:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n.b-button.b-white:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(255, 255, 255, 0.3);\r\n}\r\n.b-button.b-white:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(255, 255, 255, 0.3);\r\n}\r\n.b-button.b-white:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(255, 255, 255, 0.7);\r\n}\r\n.b-button.b-white:not(.b-tab):active:not(.b-disabled), .b-button.b-white:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #f2f2f2;\r\n  border-color: rgba(242, 242, 242, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-white:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(255, 255, 255, 0.3);\r\n  border-color: rgba(255, 255, 255, 0.1);\r\n}\r\n\r\n.b-button.b-blue:not(.b-tab) {\r\n  color: #3183fe;\r\n  border-color: rgba(49, 131, 254, 0.3);\r\n  background-color: rgba(49, 131, 254, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-blue:not(.b-tab):focus, .b-button.b-blue:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(49, 131, 254, 0.3);\r\n}\r\n.b-button.b-blue:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(49, 131, 254, 0.8);\r\n}\r\n.b-button.b-blue:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(49, 131, 254, 0.3);\r\n}\r\n.b-button.b-blue:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(49, 131, 254, 0.3);\r\n}\r\n.b-button.b-blue:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(49, 131, 254, 0.7);\r\n}\r\n.b-button.b-blue:not(.b-tab):active:not(.b-disabled), .b-button.b-blue:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #1874fe;\r\n  border-color: rgba(24, 116, 254, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-blue:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(49, 131, 254, 0.3);\r\n  border-color: rgba(49, 131, 254, 0.1);\r\n}\r\n\r\n.b-button.b-deep-orange:not(.b-tab) {\r\n  color: #ff5722;\r\n  border-color: rgba(255, 87, 34, 0.3);\r\n  background-color: rgba(255, 87, 34, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-deep-orange:not(.b-tab):focus, .b-button.b-deep-orange:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(255, 87, 34, 0.3);\r\n}\r\n.b-button.b-deep-orange:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(255, 87, 34, 0.8);\r\n}\r\n.b-button.b-deep-orange:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(255, 87, 34, 0.3);\r\n}\r\n.b-button.b-deep-orange:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(255, 87, 34, 0.3);\r\n}\r\n.b-button.b-deep-orange:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(255, 87, 34, 0.7);\r\n}\r\n.b-button.b-deep-orange:not(.b-tab):active:not(.b-disabled), .b-button.b-deep-orange:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #ff4409;\r\n  border-color: rgba(255, 68, 9, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-deep-orange:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(255, 87, 34, 0.3);\r\n  border-color: rgba(255, 87, 34, 0.1);\r\n}\r\n\r\n.b-button.b-orange:not(.b-tab) {\r\n  color: #feac31;\r\n  border-color: rgba(254, 172, 49, 0.3);\r\n  background-color: rgba(254, 172, 49, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-orange:not(.b-tab):focus, .b-button.b-orange:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(254, 172, 49, 0.3);\r\n}\r\n.b-button.b-orange:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(254, 172, 49, 0.8);\r\n}\r\n.b-button.b-orange:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(254, 172, 49, 0.3);\r\n}\r\n.b-button.b-orange:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(254, 172, 49, 0.3);\r\n}\r\n.b-button.b-orange:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(254, 172, 49, 0.7);\r\n}\r\n.b-button.b-orange:not(.b-tab):active:not(.b-disabled), .b-button.b-orange:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #fea218;\r\n  border-color: rgba(254, 162, 24, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-orange:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(254, 172, 49, 0.3);\r\n  border-color: rgba(254, 172, 49, 0.1);\r\n}\r\n\r\n.b-button.b-amber:not(.b-tab) {\r\n  color: #ffc107;\r\n  border-color: rgba(255, 193, 7, 0.3);\r\n  background-color: rgba(255, 193, 7, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-amber:not(.b-tab):focus, .b-button.b-amber:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(255, 193, 7, 0.3);\r\n}\r\n.b-button.b-amber:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(255, 193, 7, 0.8);\r\n}\r\n.b-button.b-amber:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(255, 193, 7, 0.3);\r\n}\r\n.b-button.b-amber:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(255, 193, 7, 0.3);\r\n}\r\n.b-button.b-amber:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(255, 193, 7, 0.7);\r\n}\r\n.b-button.b-amber:not(.b-tab):active:not(.b-disabled), .b-button.b-amber:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #edb100;\r\n  border-color: rgba(237, 177, 0, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-amber:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(255, 193, 7, 0.3);\r\n  border-color: rgba(255, 193, 7, 0.1);\r\n}\r\n\r\n.b-button.b-indigo:not(.b-tab) {\r\n  color: #4531fe;\r\n  border-color: rgba(69, 49, 254, 0.3);\r\n  background-color: rgba(69, 49, 254, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-indigo:not(.b-tab):focus, .b-button.b-indigo:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(69, 49, 254, 0.3);\r\n}\r\n.b-button.b-indigo:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(69, 49, 254, 0.8);\r\n}\r\n.b-button.b-indigo:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(69, 49, 254, 0.3);\r\n}\r\n.b-button.b-indigo:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(69, 49, 254, 0.3);\r\n}\r\n.b-button.b-indigo:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(69, 49, 254, 0.7);\r\n}\r\n.b-button.b-indigo:not(.b-tab):active:not(.b-disabled), .b-button.b-indigo:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #2e18fe;\r\n  border-color: rgba(46, 24, 254, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-indigo:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(69, 49, 254, 0.3);\r\n  border-color: rgba(69, 49, 254, 0.1);\r\n}\r\n\r\n.b-button.b-lime:not(.b-tab) {\r\n  color: #83fe31;\r\n  border-color: rgba(131, 254, 49, 0.3);\r\n  background-color: rgba(131, 254, 49, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-lime:not(.b-tab):focus, .b-button.b-lime:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(131, 254, 49, 0.3);\r\n}\r\n.b-button.b-lime:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(131, 254, 49, 0.8);\r\n}\r\n.b-button.b-lime:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(131, 254, 49, 0.3);\r\n}\r\n.b-button.b-lime:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(131, 254, 49, 0.3);\r\n}\r\n.b-button.b-lime:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(131, 254, 49, 0.7);\r\n}\r\n.b-button.b-lime:not(.b-tab):active:not(.b-disabled), .b-button.b-lime:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #74fe18;\r\n  border-color: rgba(116, 254, 24, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-lime:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(131, 254, 49, 0.3);\r\n  border-color: rgba(131, 254, 49, 0.1);\r\n}\r\n\r\n.b-button.b-teal:not(.b-tab) {\r\n  color: #31feac;\r\n  border-color: rgba(49, 254, 172, 0.3);\r\n  background-color: rgba(49, 254, 172, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-teal:not(.b-tab):focus, .b-button.b-teal:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(49, 254, 172, 0.3);\r\n}\r\n.b-button.b-teal:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(49, 254, 172, 0.8);\r\n}\r\n.b-button.b-teal:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(49, 254, 172, 0.3);\r\n}\r\n.b-button.b-teal:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(49, 254, 172, 0.3);\r\n}\r\n.b-button.b-teal:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(49, 254, 172, 0.7);\r\n}\r\n.b-button.b-teal:not(.b-tab):active:not(.b-disabled), .b-button.b-teal:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #18fea2;\r\n  border-color: rgba(24, 254, 162, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-teal:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(49, 254, 172, 0.3);\r\n  border-color: rgba(49, 254, 172, 0.1);\r\n}\r\n\r\n.b-button.b-green:not(.b-tab) {\r\n  color: #27ca37;\r\n  border-color: rgba(39, 202, 55, 0.3);\r\n  background-color: rgba(39, 202, 55, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-green:not(.b-tab):focus, .b-button.b-green:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(39, 202, 55, 0.3);\r\n}\r\n.b-button.b-green:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(39, 202, 55, 0.8);\r\n}\r\n.b-button.b-green:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(39, 202, 55, 0.3);\r\n}\r\n.b-button.b-green:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(39, 202, 55, 0.3);\r\n}\r\n.b-button.b-green:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(39, 202, 55, 0.7);\r\n}\r\n.b-button.b-green:not(.b-tab):active:not(.b-disabled), .b-button.b-green:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #23b531;\r\n  border-color: rgba(35, 181, 49, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-green:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(39, 202, 55, 0.3);\r\n  border-color: rgba(39, 202, 55, 0.1);\r\n}\r\n\r\n.b-button.b-light-green:not(.b-tab) {\r\n  color: #9efea7;\r\n  border-color: rgba(158, 254, 167, 0.3);\r\n  background-color: rgba(158, 254, 167, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-light-green:not(.b-tab):focus, .b-button.b-light-green:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(158, 254, 167, 0.3);\r\n}\r\n.b-button.b-light-green:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(158, 254, 167, 0.8);\r\n}\r\n.b-button.b-light-green:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(158, 254, 167, 0.3);\r\n}\r\n.b-button.b-light-green:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(158, 254, 167, 0.3);\r\n}\r\n.b-button.b-light-green:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(158, 254, 167, 0.7);\r\n}\r\n.b-button.b-light-green:not(.b-tab):active:not(.b-disabled), .b-button.b-light-green:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #85fe90;\r\n  border-color: rgba(133, 254, 144, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-light-green:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(158, 254, 167, 0.3);\r\n  border-color: rgba(158, 254, 167, 0.1);\r\n}\r\n\r\n.b-button.b-purple:not(.b-tab) {\r\n  color: #fe31ea;\r\n  border-color: rgba(254, 49, 234, 0.3);\r\n  background-color: rgba(254, 49, 234, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-purple:not(.b-tab):focus, .b-button.b-purple:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(254, 49, 234, 0.3);\r\n}\r\n.b-button.b-purple:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(254, 49, 234, 0.8);\r\n}\r\n.b-button.b-purple:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(254, 49, 234, 0.3);\r\n}\r\n.b-button.b-purple:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(254, 49, 234, 0.3);\r\n}\r\n.b-button.b-purple:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(254, 49, 234, 0.7);\r\n}\r\n.b-button.b-purple:not(.b-tab):active:not(.b-disabled), .b-button.b-purple:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #fe18e7;\r\n  border-color: rgba(254, 24, 231, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-purple:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(254, 49, 234, 0.3);\r\n  border-color: rgba(254, 49, 234, 0.1);\r\n}\r\n\r\n.b-button.b-yellow:not(.b-tab) {\r\n  color: #ecfe26;\r\n  border-color: rgba(236, 254, 38, 0.3);\r\n  background-color: rgba(236, 254, 38, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-yellow:not(.b-tab):focus, .b-button.b-yellow:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(236, 254, 38, 0.3);\r\n}\r\n.b-button.b-yellow:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(236, 254, 38, 0.8);\r\n}\r\n.b-button.b-yellow:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(236, 254, 38, 0.3);\r\n}\r\n.b-button.b-yellow:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(236, 254, 38, 0.3);\r\n}\r\n.b-button.b-yellow:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(236, 254, 38, 0.7);\r\n}\r\n.b-button.b-yellow:not(.b-tab):active:not(.b-disabled), .b-button.b-yellow:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #eafe0d;\r\n  border-color: rgba(234, 254, 13, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-yellow:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(236, 254, 38, 0.3);\r\n  border-color: rgba(236, 254, 38, 0.1);\r\n}\r\n\r\n.b-button.b-red:not(.b-tab) {\r\n  color: #e53f2c;\r\n  border-color: rgba(229, 63, 44, 0.3);\r\n  background-color: rgba(229, 63, 44, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-red:not(.b-tab):focus, .b-button.b-red:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(229, 63, 44, 0.3);\r\n}\r\n.b-button.b-red:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(229, 63, 44, 0.8);\r\n}\r\n.b-button.b-red:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(229, 63, 44, 0.3);\r\n}\r\n.b-button.b-red:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(229, 63, 44, 0.3);\r\n}\r\n.b-button.b-red:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(229, 63, 44, 0.7);\r\n}\r\n.b-button.b-red:not(.b-tab):active:not(.b-disabled), .b-button.b-red:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #dc2f1b;\r\n  border-color: rgba(220, 47, 27, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-red:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(229, 63, 44, 0.3);\r\n  border-color: rgba(229, 63, 44, 0.1);\r\n}\r\n\r\n.b-button.b-dark-gray:not(.b-tab) {\r\n  color: #474849;\r\n  border-color: rgba(71, 72, 73, 0.3);\r\n  background-color: rgba(71, 72, 73, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-dark-gray:not(.b-tab):focus, .b-button.b-dark-gray:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(71, 72, 73, 0.3);\r\n}\r\n.b-button.b-dark-gray:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(71, 72, 73, 0.8);\r\n}\r\n.b-button.b-dark-gray:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(71, 72, 73, 0.3);\r\n}\r\n.b-button.b-dark-gray:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(71, 72, 73, 0.3);\r\n}\r\n.b-button.b-dark-gray:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(71, 72, 73, 0.7);\r\n}\r\n.b-button.b-dark-gray:not(.b-tab):active:not(.b-disabled), .b-button.b-dark-gray:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #3a3b3c;\r\n  border-color: rgba(58, 59, 60, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-dark-gray:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(71, 72, 73, 0.3);\r\n  border-color: rgba(71, 72, 73, 0.1);\r\n}\r\n\r\n.b-button.b-gray:not(.b-tab) {\r\n  color: #b0b0b7;\r\n  border-color: rgba(176, 176, 183, 0.3);\r\n  background-color: rgba(176, 176, 183, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-gray:not(.b-tab):focus, .b-button.b-gray:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(176, 176, 183, 0.3);\r\n}\r\n.b-button.b-gray:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(176, 176, 183, 0.8);\r\n}\r\n.b-button.b-gray:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(176, 176, 183, 0.3);\r\n}\r\n.b-button.b-gray:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(176, 176, 183, 0.3);\r\n}\r\n.b-button.b-gray:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(176, 176, 183, 0.7);\r\n}\r\n.b-button.b-gray:not(.b-tab):active:not(.b-disabled), .b-button.b-gray:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #a3a3ab;\r\n  border-color: rgba(163, 163, 171, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-gray:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(176, 176, 183, 0.3);\r\n  border-color: rgba(176, 176, 183, 0.1);\r\n}\r\n\r\n.b-button.b-light-gray:not(.b-tab) {\r\n  color: #e0e0e7;\r\n  border-color: rgba(224, 224, 231, 0.3);\r\n  background-color: rgba(224, 224, 231, 0.05);\r\n}\r\n.b-using-keyboard .b-button.b-light-gray:not(.b-tab):focus, .b-button.b-light-gray:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(224, 224, 231, 0.3);\r\n}\r\n.b-button.b-light-gray:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(224, 224, 231, 0.8);\r\n}\r\n.b-button.b-light-gray:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(224, 224, 231, 0.3);\r\n}\r\n.b-button.b-light-gray:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(224, 224, 231, 0.3);\r\n}\r\n.b-button.b-light-gray:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(224, 224, 231, 0.7);\r\n}\r\n.b-button.b-light-gray:not(.b-tab):active:not(.b-disabled), .b-button.b-light-gray:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #d2d2dc;\r\n  border-color: rgba(210, 210, 220, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button.b-light-gray:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(224, 224, 231, 0.3);\r\n  border-color: rgba(224, 224, 231, 0.1);\r\n}\r\n\r\n.b-button:not(.b-tab) {\r\n  color: #787883;\r\n  border-color: rgba(120, 120, 131, 0.3);\r\n  background-color: rgba(120, 120, 131, 0.05);\r\n}\r\n.b-using-keyboard .b-button:not(.b-tab):focus, .b-button:not(.b-tab).b-using-keyboard:focus {\r\n  background-color: rgba(120, 120, 131, 0.3);\r\n}\r\n.b-button:not(.b-tab).b-pressed {\r\n  color: #fff;\r\n  background-color: rgba(120, 120, 131, 0.8);\r\n}\r\n.b-button:not(.b-tab):hover:not(.b-disabled) {\r\n  background-color: rgba(120, 120, 131, 0.3);\r\n}\r\n.b-button:not(.b-tab):hover:not(.b-disabled):not(.b-pressed) {\r\n  border-color: rgba(120, 120, 131, 0.3);\r\n}\r\n.b-button:not(.b-tab).b-pressed:hover {\r\n  color: #fff;\r\n  background-color: rgba(120, 120, 131, 0.7);\r\n}\r\n.b-button:not(.b-tab):active:not(.b-disabled), .b-button:not(.b-tab):active:focus:not(.b-disabled) {\r\n  background-color: #6c6c76;\r\n  border-color: rgba(108, 108, 118, 0.3);\r\n  color: #fff;\r\n}\r\n.b-button:not(.b-tab).b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(120, 120, 131, 0.3);\r\n  border-color: rgba(120, 120, 131, 0.1);\r\n}\r\n\r\n.b-ie.b-button:not(.b-rotate-vertical),\r\n.b-ie .b-button:not(.b-rotate-vertical) {\r\n  height: 2.7em;\r\n}\r\n\r\n.b-button.b-raised.b-blue {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #3183fe;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-blue:focus, .b-button.b-raised.b-blue.b-outer.b-using-keyboard:focus {\r\n  background-color: #5f9efe;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-blue:focus:hover:not(.b-disabled), .b-button.b-raised.b-blue.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-blue:hover:not(.b-disabled) {\r\n  background-color: #468ffe;\r\n}\r\n.b-button.b-raised.b-blue.b-pressed, .b-button.b-raised.b-blue.b-pressed[data-group]:hover {\r\n  background-color: #0468fe;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-blue.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-blue.b-pressed:focus:hover, .b-button.b-raised.b-blue.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-blue.b-pressed:focus, .b-button.b-raised.b-blue.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #227afe;\r\n}\r\n.b-button.b-raised.b-blue.b-pressed:active {\r\n  background-color: #014fc4;\r\n}\r\n.b-button.b-raised.b-blue.b-pressed:active:hover {\r\n  background-color: #015be2;\r\n}\r\n.b-button.b-raised.b-blue:active:not(.b-disabled) {\r\n  background-color: #0161f1;\r\n  border-color: #0161f1;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-blue:active:hover:not(.b-disabled) {\r\n  background-color: #1371fe;\r\n  border-color: #1371fe;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-blue:disabled:hover, .b-button.b-raised.b-blue:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #0151c8;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-deep-orange {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #ff5722;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-deep-orange:focus, .b-button.b-raised.b-deep-orange.b-outer.b-using-keyboard:focus {\r\n  background-color: #ff7a50;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-deep-orange:focus:hover:not(.b-disabled), .b-button.b-raised.b-deep-orange.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-deep-orange:hover:not(.b-disabled) {\r\n  background-color: #ff6838;\r\n}\r\n.b-button.b-raised.b-deep-orange.b-pressed, .b-button.b-raised.b-deep-orange.b-pressed[data-group]:hover {\r\n  background-color: #f63b00;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-deep-orange.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-deep-orange.b-pressed:focus:hover, .b-button.b-raised.b-deep-orange.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-deep-orange.b-pressed:focus, .b-button.b-raised.b-deep-orange.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #ff4c14;\r\n}\r\n.b-button.b-raised.b-deep-orange.b-pressed:active {\r\n  background-color: #bc2d00;\r\n}\r\n.b-button.b-raised.b-deep-orange.b-pressed:active:hover {\r\n  background-color: #d93400;\r\n}\r\n.b-button.b-raised.b-deep-orange:active:not(.b-disabled) {\r\n  background-color: #e73700;\r\n  border-color: #e73700;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-deep-orange:active:hover:not(.b-disabled) {\r\n  background-color: #ff4105;\r\n  border-color: #ff4105;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-deep-orange:disabled:hover, .b-button.b-raised.b-deep-orange:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #bb2d00;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-orange {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #feac31;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-orange:focus, .b-button.b-raised.b-orange.b-outer.b-using-keyboard:focus {\r\n  background-color: #febe5f;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-orange:focus:hover:not(.b-disabled), .b-button.b-raised.b-orange.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-orange:hover:not(.b-disabled) {\r\n  background-color: #feb446;\r\n}\r\n.b-button.b-raised.b-orange.b-pressed, .b-button.b-raised.b-orange.b-pressed[data-group]:hover {\r\n  background-color: #fe9a04;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-orange.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-orange.b-pressed:focus:hover, .b-button.b-raised.b-orange.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-orange.b-pressed:focus, .b-button.b-raised.b-orange.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #fea622;\r\n}\r\n.b-button.b-raised.b-orange.b-pressed:active {\r\n  background-color: #c47601;\r\n}\r\n.b-button.b-raised.b-orange.b-pressed:active:hover {\r\n  background-color: #e28801;\r\n}\r\n.b-button.b-raised.b-orange:active:not(.b-disabled) {\r\n  background-color: #f19101;\r\n  border-color: #f19101;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-orange:active:hover:not(.b-disabled) {\r\n  background-color: #fea013;\r\n  border-color: #fea013;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-orange:disabled:hover, .b-button.b-raised.b-orange:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #c87801;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-amber {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #ffc107;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-amber:focus, .b-button.b-raised.b-amber.b-outer.b-using-keyboard:focus {\r\n  background-color: #ffcc35;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-amber:focus:hover:not(.b-disabled), .b-button.b-raised.b-amber.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-amber:hover:not(.b-disabled) {\r\n  background-color: #ffc720;\r\n}\r\n.b-button.b-raised.b-amber.b-pressed, .b-button.b-raised.b-amber.b-pressed[data-group]:hover {\r\n  background-color: #dfa700;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-amber.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-amber.b-pressed:focus:hover, .b-button.b-raised.b-amber.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-amber.b-pressed:focus, .b-button.b-raised.b-amber.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #f9bb00;\r\n}\r\n.b-button.b-raised.b-amber.b-pressed:active {\r\n  background-color: #aa8000;\r\n}\r\n.b-button.b-raised.b-amber.b-pressed:active:hover {\r\n  background-color: #c59300;\r\n}\r\n.b-button.b-raised.b-amber:active:not(.b-disabled) {\r\n  background-color: #d29d00;\r\n  border-color: #d29d00;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-amber:active:hover:not(.b-disabled) {\r\n  background-color: #ecb100;\r\n  border-color: #ecb100;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-amber:disabled:hover, .b-button.b-raised.b-amber:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #a07800;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-indigo {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #4531fe;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-indigo:focus, .b-button.b-raised.b-indigo.b-outer.b-using-keyboard:focus {\r\n  background-color: #6e5ffe;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-indigo:focus:hover:not(.b-disabled), .b-button.b-raised.b-indigo.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-indigo:hover:not(.b-disabled) {\r\n  background-color: #5846fe;\r\n}\r\n.b-button.b-raised.b-indigo.b-pressed, .b-button.b-raised.b-indigo.b-pressed[data-group]:hover {\r\n  background-color: #1c04fe;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-indigo.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-indigo.b-pressed:focus:hover, .b-button.b-raised.b-indigo.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-indigo.b-pressed:focus, .b-button.b-raised.b-indigo.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #3722fe;\r\n}\r\n.b-button.b-raised.b-indigo.b-pressed:active {\r\n  background-color: #1401c4;\r\n}\r\n.b-button.b-raised.b-indigo.b-pressed:active:hover {\r\n  background-color: #1701e2;\r\n}\r\n.b-button.b-raised.b-indigo:active:not(.b-disabled) {\r\n  background-color: #1901f1;\r\n  border-color: #1901f1;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-indigo:active:hover:not(.b-disabled) {\r\n  background-color: #2a13fe;\r\n  border-color: #2a13fe;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-indigo:disabled:hover, .b-button.b-raised.b-indigo:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #1401c8;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-lime {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #83fe31;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-lime:focus, .b-button.b-raised.b-lime.b-outer.b-using-keyboard:focus {\r\n  background-color: #9efe5f;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-lime:focus:hover:not(.b-disabled), .b-button.b-raised.b-lime.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-lime:hover:not(.b-disabled) {\r\n  background-color: #8ffe46;\r\n}\r\n.b-button.b-raised.b-lime.b-pressed, .b-button.b-raised.b-lime.b-pressed[data-group]:hover {\r\n  background-color: #68fe04;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-lime.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-lime.b-pressed:focus:hover, .b-button.b-raised.b-lime.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-lime.b-pressed:focus, .b-button.b-raised.b-lime.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #7afe22;\r\n}\r\n.b-button.b-raised.b-lime.b-pressed:active {\r\n  background-color: #4fc401;\r\n}\r\n.b-button.b-raised.b-lime.b-pressed:active:hover {\r\n  background-color: #5be201;\r\n}\r\n.b-button.b-raised.b-lime:active:not(.b-disabled) {\r\n  background-color: #61f101;\r\n  border-color: #61f101;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-lime:active:hover:not(.b-disabled) {\r\n  background-color: #71fe13;\r\n  border-color: #71fe13;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-lime:disabled:hover, .b-button.b-raised.b-lime:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #51c801;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-teal {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #31feac;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-teal:focus, .b-button.b-raised.b-teal.b-outer.b-using-keyboard:focus {\r\n  background-color: #5ffebe;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-teal:focus:hover:not(.b-disabled), .b-button.b-raised.b-teal.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-teal:hover:not(.b-disabled) {\r\n  background-color: #46feb4;\r\n}\r\n.b-button.b-raised.b-teal.b-pressed, .b-button.b-raised.b-teal.b-pressed[data-group]:hover {\r\n  background-color: #04fe9a;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-teal.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-teal.b-pressed:focus:hover, .b-button.b-raised.b-teal.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-teal.b-pressed:focus, .b-button.b-raised.b-teal.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #22fea6;\r\n}\r\n.b-button.b-raised.b-teal.b-pressed:active {\r\n  background-color: #01c476;\r\n}\r\n.b-button.b-raised.b-teal.b-pressed:active:hover {\r\n  background-color: #01e288;\r\n}\r\n.b-button.b-raised.b-teal:active:not(.b-disabled) {\r\n  background-color: #01f191;\r\n  border-color: #01f191;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-teal:active:hover:not(.b-disabled) {\r\n  background-color: #13fea0;\r\n  border-color: #13fea0;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-teal:disabled:hover, .b-button.b-raised.b-teal:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #01c878;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-green {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #27ca37;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-green:focus, .b-button.b-raised.b-green.b-outer.b-using-keyboard:focus {\r\n  background-color: #44db53;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-green:focus:hover:not(.b-disabled), .b-button.b-raised.b-green.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-green:hover:not(.b-disabled) {\r\n  background-color: #34d844;\r\n}\r\n.b-button.b-raised.b-green.b-pressed, .b-button.b-raised.b-green.b-pressed[data-group]:hover {\r\n  background-color: #21ac2f;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-green.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-green.b-pressed:focus:hover, .b-button.b-raised.b-green.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-green.b-pressed:focus, .b-button.b-raised.b-green.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #25c034;\r\n}\r\n.b-button.b-raised.b-green.b-pressed:active {\r\n  background-color: #198324;\r\n}\r\n.b-button.b-raised.b-green.b-pressed:active:hover {\r\n  background-color: #1d9829;\r\n}\r\n.b-button.b-raised.b-green:active:not(.b-disabled) {\r\n  background-color: #1fa22c;\r\n  border-color: #1fa22c;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-green:active:hover:not(.b-disabled) {\r\n  background-color: #23b632;\r\n  border-color: #23b632;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-green:disabled:hover, .b-button.b-raised.b-green:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #167520;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-light-green {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #9efea7;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-light-green:focus, .b-button.b-raised.b-light-green.b-outer.b-using-keyboard:focus {\r\n  background-color: #cbfed0;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-light-green:focus:hover:not(.b-disabled), .b-button.b-raised.b-light-green.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-light-green:hover:not(.b-disabled) {\r\n  background-color: #a8feb0;\r\n}\r\n.b-button.b-raised.b-light-green.b-pressed, .b-button.b-raised.b-light-green.b-pressed[data-group]:hover {\r\n  background-color: #61fd70;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-light-green.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-light-green.b-pressed:focus:hover, .b-button.b-raised.b-light-green.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-light-green.b-pressed:focus, .b-button.b-raised.b-light-green.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #8afe95;\r\n}\r\n.b-button.b-raised.b-light-green.b-pressed:active {\r\n  background-color: #0ffd26;\r\n}\r\n.b-button.b-raised.b-light-green.b-pressed:active:hover {\r\n  background-color: #38fd4b;\r\n}\r\n.b-button.b-raised.b-light-green:active:not(.b-disabled) {\r\n  background-color: #4cfd5d;\r\n  border-color: #4cfd5d;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-light-green:active:hover:not(.b-disabled) {\r\n  background-color: #75fe82;\r\n  border-color: #75fe82;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-light-green:disabled:hover, .b-button.b-raised.b-light-green:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #39fd4b;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-purple {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #fe31ea;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-purple:focus, .b-button.b-raised.b-purple.b-outer.b-using-keyboard:focus {\r\n  background-color: #fe5fef;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-purple:focus:hover:not(.b-disabled), .b-button.b-raised.b-purple.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-purple:hover:not(.b-disabled) {\r\n  background-color: #fe46ec;\r\n}\r\n.b-button.b-raised.b-purple.b-pressed, .b-button.b-raised.b-purple.b-pressed[data-group]:hover {\r\n  background-color: #fe04e5;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-purple.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-purple.b-pressed:focus:hover, .b-button.b-raised.b-purple.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-purple.b-pressed:focus, .b-button.b-raised.b-purple.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #fe22e8;\r\n}\r\n.b-button.b-raised.b-purple.b-pressed:active {\r\n  background-color: #c401b1;\r\n}\r\n.b-button.b-raised.b-purple.b-pressed:active:hover {\r\n  background-color: #e201cc;\r\n}\r\n.b-button.b-raised.b-purple:active:not(.b-disabled) {\r\n  background-color: #f101da;\r\n  border-color: #f101da;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-purple:active:hover:not(.b-disabled) {\r\n  background-color: #fe13e7;\r\n  border-color: #fe13e7;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-purple:disabled:hover, .b-button.b-raised.b-purple:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #c801b5;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-yellow {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #ecfe26;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-yellow:focus, .b-button.b-raised.b-yellow.b-outer.b-using-keyboard:focus {\r\n  background-color: #f0fe54;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-yellow:focus:hover:not(.b-disabled), .b-button.b-raised.b-yellow.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-yellow:hover:not(.b-disabled) {\r\n  background-color: #eefe3c;\r\n}\r\n.b-button.b-raised.b-yellow.b-pressed, .b-button.b-raised.b-yellow.b-pressed[data-group]:hover {\r\n  background-color: #e3f701;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-yellow.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-yellow.b-pressed:focus:hover, .b-button.b-raised.b-yellow.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-yellow.b-pressed:focus, .b-button.b-raised.b-yellow.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #ebfe17;\r\n}\r\n.b-button.b-raised.b-yellow.b-pressed:active {\r\n  background-color: #adbd01;\r\n}\r\n.b-button.b-raised.b-yellow.b-pressed:active:hover {\r\n  background-color: #c8da01;\r\n}\r\n.b-button.b-raised.b-yellow:active:not(.b-disabled) {\r\n  background-color: #d5e901;\r\n  border-color: #d5e901;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-yellow:active:hover:not(.b-disabled) {\r\n  background-color: #e9fe09;\r\n  border-color: #e9fe09;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-yellow:disabled:hover, .b-button.b-raised.b-yellow:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #adbd01;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-red {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #e53f2c;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-red:focus, .b-button.b-raised.b-red.b-outer.b-using-keyboard:focus {\r\n  background-color: #ea6455;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-red:focus:hover:not(.b-disabled), .b-button.b-raised.b-red.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-red:hover:not(.b-disabled) {\r\n  background-color: #e85241;\r\n}\r\n.b-button.b-raised.b-red.b-pressed, .b-button.b-raised.b-red.b-pressed[data-group]:hover {\r\n  background-color: #cf2c19;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-red.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-red.b-pressed:focus:hover, .b-button.b-raised.b-red.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-red.b-pressed:focus, .b-button.b-raised.b-red.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #e43420;\r\n}\r\n.b-button.b-raised.b-red.b-pressed:active {\r\n  background-color: #9e2213;\r\n}\r\n.b-button.b-raised.b-red.b-pressed:active:hover {\r\n  background-color: #b62716;\r\n}\r\n.b-button.b-raised.b-red:active:not(.b-disabled) {\r\n  background-color: #c22918;\r\n  border-color: #c22918;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-red:active:hover:not(.b-disabled) {\r\n  background-color: #db2f1b;\r\n  border-color: #db2f1b;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-red:disabled:hover, .b-button.b-raised.b-red:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #982013;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-dark-gray {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #474849;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-dark-gray:focus, .b-button.b-raised.b-dark-gray.b-outer.b-using-keyboard:focus {\r\n  background-color: #5e5f60;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-dark-gray:focus:hover:not(.b-disabled), .b-button.b-raised.b-dark-gray.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-dark-gray:hover:not(.b-disabled) {\r\n  background-color: #595a5c;\r\n}\r\n.b-button.b-raised.b-dark-gray.b-pressed, .b-button.b-raised.b-dark-gray.b-pressed[data-group]:hover {\r\n  background-color: #3c3d3e;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-dark-gray.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-dark-gray.b-pressed:focus:hover, .b-button.b-raised.b-dark-gray.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-dark-gray.b-pressed:focus, .b-button.b-raised.b-dark-gray.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #434445;\r\n}\r\n.b-button.b-raised.b-dark-gray.b-pressed:active {\r\n  background-color: #2e2f2f;\r\n}\r\n.b-button.b-raised.b-dark-gray.b-pressed:active:hover {\r\n  background-color: #353637;\r\n}\r\n.b-button.b-raised.b-dark-gray:active:not(.b-disabled) {\r\n  background-color: #393a3a;\r\n  border-color: #393a3a;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-dark-gray:active:hover:not(.b-disabled) {\r\n  background-color: #404142;\r\n  border-color: #404142;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-dark-gray:disabled:hover, .b-button.b-raised.b-dark-gray:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #151515;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-gray {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #b0b0b7;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-gray:focus, .b-button.b-raised.b-gray.b-outer.b-using-keyboard:focus {\r\n  background-color: #c8c8cd;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-gray:focus:hover:not(.b-disabled), .b-button.b-raised.b-gray.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-gray:hover:not(.b-disabled) {\r\n  background-color: #b8b8be;\r\n}\r\n.b-button.b-raised.b-gray.b-pressed, .b-button.b-raised.b-gray.b-pressed[data-group]:hover {\r\n  background-color: #94949d;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-gray.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-gray.b-pressed:focus:hover, .b-button.b-raised.b-gray.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-gray.b-pressed:focus, .b-button.b-raised.b-gray.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #a7a7ae;\r\n}\r\n.b-button.b-raised.b-gray.b-pressed:active {\r\n  background-color: #6f6f7a;\r\n}\r\n.b-button.b-raised.b-gray.b-pressed:active:hover {\r\n  background-color: #81818c;\r\n}\r\n.b-button.b-raised.b-gray:active:not(.b-disabled) {\r\n  background-color: #8a8a95;\r\n  border-color: #8a8a95;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-gray:active:hover:not(.b-disabled) {\r\n  background-color: #9d9da6;\r\n  border-color: #9d9da6;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-gray:disabled:hover, .b-button.b-raised.b-gray:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #7b7b86;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised.b-light-gray {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #e0e0e7;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-light-gray:focus, .b-button.b-raised.b-light-gray.b-outer.b-using-keyboard:focus {\r\n  background-color: #fafafb;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised.b-light-gray:focus:hover:not(.b-disabled), .b-button.b-raised.b-light-gray.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised.b-light-gray:hover:not(.b-disabled) {\r\n  background-color: #e3e3e9;\r\n}\r\n.b-button.b-raised.b-light-gray.b-pressed, .b-button.b-raised.b-light-gray.b-pressed[data-group]:hover {\r\n  background-color: #babac9;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-light-gray.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-light-gray.b-pressed:focus:hover, .b-button.b-raised.b-light-gray.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-light-gray.b-pressed:focus, .b-button.b-raised.b-light-gray.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #d3d3dd;\r\n}\r\n.b-button.b-raised.b-light-gray.b-pressed:active {\r\n  background-color: #8686a2;\r\n}\r\n.b-button.b-raised.b-light-gray.b-pressed:active:hover {\r\n  background-color: #a0a0b5;\r\n}\r\n.b-button.b-raised.b-light-gray:active:not(.b-disabled) {\r\n  background-color: #adadbf;\r\n  border-color: #adadbf;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-light-gray:active:hover:not(.b-disabled) {\r\n  background-color: #c6c6d3;\r\n  border-color: #c6c6d3;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-light-gray:disabled:hover, .b-button.b-raised.b-light-gray:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #a7a7ba;\r\n  cursor: default;\r\n}\r\n\r\n.b-button.b-raised {\r\n  color: #fff;\r\n  border: none;\r\n  background-color: #787883;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised:focus, .b-button.b-raised.b-outer.b-using-keyboard:focus {\r\n  background-color: #90909a;\r\n}\r\n.b-outer.b-using-keyboard .b-button.b-raised:focus:hover:not(.b-disabled), .b-button.b-raised.b-outer.b-using-keyboard:focus:hover:not(.b-disabled), .b-button.b-raised:hover:not(.b-disabled) {\r\n  background-color: #858590;\r\n}\r\n.b-button.b-raised.b-pressed, .b-button.b-raised.b-pressed[data-group]:hover {\r\n  background-color: #666670;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised.b-pressed:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-pressed:focus:hover, .b-button.b-raised.b-outer.b-using-keyboard.b-pressed:focus:hover, .b-outer.b-using-keyboard .b-button.b-raised.b-pressed:focus, .b-button.b-raised.b-outer.b-using-keyboard.b-pressed:focus {\r\n  background-color: #72727d;\r\n}\r\n.b-button.b-raised.b-pressed:active {\r\n  background-color: #4e4e55;\r\n}\r\n.b-button.b-raised.b-pressed:active:hover {\r\n  background-color: #5a5a63;\r\n}\r\n.b-button.b-raised:active:not(.b-disabled) {\r\n  background-color: #606069;\r\n  border-color: #606069;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised:active:hover:not(.b-disabled) {\r\n  background-color: #6c6c76;\r\n  border-color: #6c6c76;\r\n  box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.3);\r\n}\r\n.b-button.b-raised:disabled:hover, .b-button.b-raised:disabled {\r\n  background-color: #e0e0e7;\r\n  color: #a5a6a7;\r\n  border-color: #47474e;\r\n  cursor: default;\r\n}\r\n\r\n.b-buttongroup {\r\n  overflow: visible;\r\n  flex-shrink: 0;\r\n}\r\n.b-buttongroup.b-content-element {\r\n  display: inline-flex;\r\n  flex-flow: row nowrap;\r\n}\r\n.b-buttongroup.b-content-element.b-rotate-vertical {\r\n  flex-direction: column;\r\n}\r\n.b-toolbar .b-buttongroup {\r\n  font-size: 0.9em;\r\n}\r\n.b-buttongroup .b-button {\r\n  margin: 0;\r\n}\r\n.b-buttongroup .b-button:not(.b-pressed) {\r\n  box-shadow: none !important;\r\n}\r\n.b-buttongroup .b-button.b-pressed, .b-buttongroup .b-button:active {\r\n  z-index: 2;\r\n}\r\n.b-buttongroup .b-button:not(:first-child) {\r\n  margin-left: -1px;\r\n}\r\n.b-buttongroup.b-columned.b-content-element {\r\n  flex: 1;\r\n  flex-wrap: wrap;\r\n}\r\n.b-buttongroup.b-columned.b-content-element .b-button {\r\n  margin-left: 0;\r\n}\r\n.b-buttongroup .b-button:not(:first-child):not(:last-child) {\r\n  border-radius: 0;\r\n}\r\n.b-buttongroup .b-button:first-child:not(:last-child) {\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n.b-buttongroup .b-button:last-child:not(:first-child) {\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n\r\n.b-panel.b-calendarpanel {\r\n  --min-row-height: 75;\r\n  --min-column-width: 75;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n.b-panel.b-calendarpanel.b-outer {\r\n  display: inline-flex;\r\n}\r\n.b-panel.b-calendarpanel .b-week-number-cell {\r\n  display: none;\r\n}\r\n.b-panel.b-calendarpanel.b-show-week-column .b-week-number-cell {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.b-panel.b-calendarpanel .b-calendar-weekdays .b-calendar-day-header {\r\n  flex: 1 0 0px;\r\n  text-align: center;\r\n}\r\n.b-panel.b-calendarpanel .b-calendarpanel-content {\r\n  flex-flow: column nowrap;\r\n  align-items: stretch;\r\n}\r\n.b-panel.b-calendarpanel .b-calendarpanel-content .b-calendar-row {\r\n  display: flex;\r\n}\r\n.b-panel.b-calendarpanel .b-calendarpanel-content .b-calendar-row.b-calendar-week .b-calendar-cell {\r\n  text-align: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n.b-panel.b-calendarpanel .b-calendarpanel-content .b-calendar-days {\r\n  flex: 1 1 auto;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  overflow: hidden;\r\n}\r\n.b-panel.b-calendarpanel .b-calendarpanel-content .b-weeks-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.b-panel.b-calendarpanel .b-calendarpanel-content .b-weeks-container.b-min-columnwidth.b-horizontal-overflow {\r\n  align-items: flex-start;\r\n}\r\n.b-panel.b-calendarpanel .b-calendarpanel-content .b-weeks-container.b-min-columnwidth.b-horizontal-overflow .b-calendar-row {\r\n  overflow: hidden;\r\n}\r\n.b-panel.b-calendarpanel .b-calendarpanel-content.b-hide-nonworking-days .b-calendar-day-header.b-nonworking-day, .b-panel.b-calendarpanel .b-calendarpanel-content.b-hide-nonworking-days .b-calendar-cell.b-nonworking-day {\r\n  display: none;\r\n}\r\n\r\n.b-container .b-checkbox .b-checkbox-label {\r\n  margin-left: 0;\r\n}\r\n.b-container .b-checkbox .b-checkbox-label:before {\r\n  margin: 0.675em;\r\n  margin-right: 0.4em;\r\n  margin-left: 0;\r\n  margin-top: 0.5em;\r\n}\r\n\r\n.b-checkbox {\r\n  position: relative;\r\n  align-items: center;\r\n}\r\n.b-ie .b-checkbox, .b-checkbox.b-ie {\r\n  display: flex;\r\n}\r\n.b-ie .b-checkbox .b-field-inner, .b-checkbox.b-ie .b-field-inner {\r\n  flex: none;\r\n}\r\n.b-ie .b-check-header-with-checkbox .b-checkbox .b-field-inner {\r\n  flex: 1 0 0px;\r\n}\r\n.b-checkbox .b-field-inner {\r\n  border: none;\r\n  background-color: transparent;\r\n}\r\n.b-checkbox .b-checkbox-label {\r\n  position: relative;\r\n  font-size: inherit;\r\n  cursor: pointer;\r\n  color: #4f5964;\r\n}\r\n.b-container .b-checkbox .b-checkbox-label {\r\n  color: #616161;\r\n}\r\n.b-checkbox .b-checkbox-label:before {\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-right: 0.4em;\r\n  font-size: inherit;\r\n  width: 1.6em;\r\n  height: 1.6em;\r\n  padding: 0.15em;\r\n  border-radius: 2px;\r\n  transition: color 0.2s, background 0.2s;\r\n  color: rgba(255, 255, 255, 0.2);\r\n  background: #fff;\r\n  border: 1px solid #d0d1d2;\r\n}\r\n.b-checkbox input {\r\n  z-index: 1;\r\n  opacity: 0;\r\n  width: 2.2em;\r\n  height: 2.2em;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  margin: 0;\r\n  cursor: pointer;\r\n  transition: color 0.5s, background-color 0.5s;\r\n}\r\n.b-checkbox input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #fff;\r\n  border-color: #d0d1d2;\r\n}\r\n.b-checkbox.b-disabled .b-checkbox-label {\r\n  color: #b0b0b7;\r\n}\r\n.b-checkbox.b-disabled .b-checkbox-label::before {\r\n  border-color: #d0d1d2;\r\n  background: #e8e9ea;\r\n}\r\n.b-checkbox.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-color: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.b-checkbox.b-blue .b-checkbox-label:before {\r\n  color: rgba(49, 131, 254, 0.1);\r\n  border-color: rgba(49, 131, 254, 0.5);\r\n}\r\n.b-checkbox.b-blue input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #3183fe;\r\n  border-color: #3183fe;\r\n}\r\n.b-checkbox.b-blue.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(49, 131, 254, 0.2);\r\n}\r\n.b-checkbox.b-blue.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(49, 131, 254, 0.2);\r\n  border-color: rgba(49, 131, 254, 0.2);\r\n}\r\n\r\n.b-checkbox.b-deep-orange .b-checkbox-label:before {\r\n  color: rgba(255, 87, 34, 0.1);\r\n  border-color: rgba(255, 87, 34, 0.5);\r\n}\r\n.b-checkbox.b-deep-orange input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #ff5722;\r\n  border-color: #ff5722;\r\n}\r\n.b-checkbox.b-deep-orange.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(255, 87, 34, 0.2);\r\n}\r\n.b-checkbox.b-deep-orange.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(255, 87, 34, 0.2);\r\n  border-color: rgba(255, 87, 34, 0.2);\r\n}\r\n\r\n.b-checkbox.b-orange .b-checkbox-label:before {\r\n  color: rgba(254, 172, 49, 0.1);\r\n  border-color: rgba(254, 172, 49, 0.5);\r\n}\r\n.b-checkbox.b-orange input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #feac31;\r\n  border-color: #feac31;\r\n}\r\n.b-checkbox.b-orange.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(254, 172, 49, 0.2);\r\n}\r\n.b-checkbox.b-orange.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(254, 172, 49, 0.2);\r\n  border-color: rgba(254, 172, 49, 0.2);\r\n}\r\n\r\n.b-checkbox.b-indigo .b-checkbox-label:before {\r\n  color: rgba(69, 49, 254, 0.1);\r\n  border-color: rgba(69, 49, 254, 0.5);\r\n}\r\n.b-checkbox.b-indigo input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #4531fe;\r\n  border-color: #4531fe;\r\n}\r\n.b-checkbox.b-indigo.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(69, 49, 254, 0.2);\r\n}\r\n.b-checkbox.b-indigo.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(69, 49, 254, 0.2);\r\n  border-color: rgba(69, 49, 254, 0.2);\r\n}\r\n\r\n.b-checkbox.b-green .b-checkbox-label:before {\r\n  color: rgba(39, 202, 55, 0.1);\r\n  border-color: rgba(39, 202, 55, 0.5);\r\n}\r\n.b-checkbox.b-green input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #27ca37;\r\n  border-color: #27ca37;\r\n}\r\n.b-checkbox.b-green.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(39, 202, 55, 0.2);\r\n}\r\n.b-checkbox.b-green.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(39, 202, 55, 0.2);\r\n  border-color: rgba(39, 202, 55, 0.2);\r\n}\r\n\r\n.b-checkbox.b-purple .b-checkbox-label:before {\r\n  color: rgba(254, 49, 234, 0.1);\r\n  border-color: rgba(254, 49, 234, 0.5);\r\n}\r\n.b-checkbox.b-purple input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #fe31ea;\r\n  border-color: #fe31ea;\r\n}\r\n.b-checkbox.b-purple.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(254, 49, 234, 0.2);\r\n}\r\n.b-checkbox.b-purple.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(254, 49, 234, 0.2);\r\n  border-color: rgba(254, 49, 234, 0.2);\r\n}\r\n\r\n.b-checkbox.b-yellow .b-checkbox-label:before {\r\n  color: rgba(236, 254, 38, 0.1);\r\n  border-color: rgba(236, 254, 38, 0.5);\r\n}\r\n.b-checkbox.b-yellow input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #ecfe26;\r\n  border-color: #ecfe26;\r\n}\r\n.b-checkbox.b-yellow.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(236, 254, 38, 0.2);\r\n}\r\n.b-checkbox.b-yellow.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(236, 254, 38, 0.2);\r\n  border-color: rgba(236, 254, 38, 0.2);\r\n}\r\n\r\n.b-checkbox.b-red .b-checkbox-label:before {\r\n  color: rgba(229, 63, 44, 0.1);\r\n  border-color: rgba(229, 63, 44, 0.5);\r\n}\r\n.b-checkbox.b-red input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #e53f2c;\r\n  border-color: #e53f2c;\r\n}\r\n.b-checkbox.b-red.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(229, 63, 44, 0.2);\r\n}\r\n.b-checkbox.b-red.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(229, 63, 44, 0.2);\r\n  border-color: rgba(229, 63, 44, 0.2);\r\n}\r\n\r\n.b-checkbox.b-amber .b-checkbox-label:before {\r\n  color: rgba(255, 193, 7, 0.1);\r\n  border-color: rgba(255, 193, 7, 0.5);\r\n}\r\n.b-checkbox.b-amber input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #ffc107;\r\n  border-color: #ffc107;\r\n}\r\n.b-checkbox.b-amber.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(255, 193, 7, 0.2);\r\n}\r\n.b-checkbox.b-amber.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(255, 193, 7, 0.2);\r\n  border-color: rgba(255, 193, 7, 0.2);\r\n}\r\n\r\n.b-checkbox.b-lime .b-checkbox-label:before {\r\n  color: rgba(131, 254, 49, 0.1);\r\n  border-color: rgba(131, 254, 49, 0.5);\r\n}\r\n.b-checkbox.b-lime input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #83fe31;\r\n  border-color: #83fe31;\r\n}\r\n.b-checkbox.b-lime.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(131, 254, 49, 0.2);\r\n}\r\n.b-checkbox.b-lime.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(131, 254, 49, 0.2);\r\n  border-color: rgba(131, 254, 49, 0.2);\r\n}\r\n\r\n.b-checkbox.b-teal .b-checkbox-label:before {\r\n  color: rgba(49, 254, 172, 0.1);\r\n  border-color: rgba(49, 254, 172, 0.5);\r\n}\r\n.b-checkbox.b-teal input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #31feac;\r\n  border-color: #31feac;\r\n}\r\n.b-checkbox.b-teal.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(49, 254, 172, 0.2);\r\n}\r\n.b-checkbox.b-teal.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(49, 254, 172, 0.2);\r\n  border-color: rgba(49, 254, 172, 0.2);\r\n}\r\n\r\n.b-checkbox.b-light-green .b-checkbox-label:before {\r\n  color: rgba(158, 254, 167, 0.1);\r\n  border-color: rgba(158, 254, 167, 0.5);\r\n}\r\n.b-checkbox.b-light-green input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #9efea7;\r\n  border-color: #9efea7;\r\n}\r\n.b-checkbox.b-light-green.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(158, 254, 167, 0.2);\r\n}\r\n.b-checkbox.b-light-green.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(158, 254, 167, 0.2);\r\n  border-color: rgba(158, 254, 167, 0.2);\r\n}\r\n\r\n.b-checkbox.b-purple .b-checkbox-label:before {\r\n  color: rgba(254, 49, 234, 0.1);\r\n  border-color: rgba(254, 49, 234, 0.5);\r\n}\r\n.b-checkbox.b-purple input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  color: #474849;\r\n  background: #fe31ea;\r\n  border-color: #fe31ea;\r\n}\r\n.b-checkbox.b-purple.b-disabled .b-checkbox-label::before {\r\n  border-color: rgba(254, 49, 234, 0.2);\r\n}\r\n.b-checkbox.b-purple.b-disabled input[type=checkbox]:checked + .b-checkbox-label:before {\r\n  background: rgba(254, 49, 234, 0.2);\r\n  border-color: rgba(254, 49, 234, 0.2);\r\n}\r\n\r\n.b-combo .b-fieldtrigger.b-icon-picker:before {\r\n  transition: transform 0.3s;\r\n}\r\n.b-combo.b-open .b-fieldtrigger.b-icon-picker:before {\r\n  transform: rotate(180deg);\r\n}\r\n.b-combo.b-inline-picker:not(.b-label-above) {\r\n  flex-wrap: wrap;\r\n  align-content: flex-start;\r\n}\r\n.b-combo.b-inline-picker:not(.b-label-above) .b-field-inner {\r\n  flex-shrink: 0;\r\n  align-self: flex-start;\r\n}\r\n.b-combo.b-inline-picker:not(.b-label-above) .b-combo-picker {\r\n  flex: 1 0 100%;\r\n}\r\n.b-combo .b-field-inner .b-fieldtrigger.b-icon-remove {\r\n  font-size: 0.8em;\r\n}\r\n.b-combo.b-hide-trigger .b-fieldtrigger.b-icon-picker, .b-combo.b-readonly .b-fieldtrigger.b-icon-picker {\r\n  display: none;\r\n}\r\n.b-combo.b-uses-chipview .b-field-inner {\r\n  align-self: stretch;\r\n}\r\n.b-combo.b-uses-chipview .b-chipview {\r\n  align-self: stretch;\r\n  display: flex;\r\n  flex-flow: wrap;\r\n  flex: 1 1 auto;\r\n  align-items: center;\r\n  margin: 0.3em 0.3em 0.1em 0;\r\n}\r\n.b-combo.b-uses-chipview .b-chipview:not(.b-empty) input {\r\n  padding-left: 0.2em;\r\n  order: 99999;\r\n}\r\n.b-combo.b-uses-chipview.b-not-editable input {\r\n  order: -1;\r\n  min-width: 0;\r\n  padding-left: 0;\r\n  padding-right: 0;\r\n  flex: 0 1 0px;\r\n}\r\n.b-combo.b-uses-chipview.b-not-editable:not(.b-empty) .b-chipview .b-chip {\r\n  padding: calc(0.3em + 0.5px) 0.7em calc(0.3em + 0.5px) 0.7em;\r\n}\r\n.b-combo.b-uses-chipview.b-not-editable:not(.b-empty) input {\r\n  padding: 0;\r\n  height: 0;\r\n}\r\n\r\n.b-list.b-combo-picker.b-empty:not(.b-masked)[data-add-new-value]::after {\r\n  content: attr(data-add-new-value);\r\n  display: block;\r\n  padding: 0.8em;\r\n  color: #4f5964;\r\n  cursor: pointer;\r\n}\r\n\r\n.b-container.b-outer, .b-auto-container:not(.b-toolbar-content).b-single-child > .b-container {\r\n  align-self: stretch;\r\n  flex: 1 1 auto;\r\n}\r\n\r\nbody.b-container.b-outer {\r\n  margin: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n.b-container:focus {\r\n  outline: none;\r\n}\r\n\r\n.b-content-element {\r\n  position: relative;\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n}\r\n.b-content-element.b-flex-row {\r\n  align-content: start;\r\n}\r\n.b-content-element.b-text-content {\r\n  display: block;\r\n  overflow: auto;\r\n}\r\n\r\n.b-ie .b-content-element.b-flex-row,\r\n.b-ie.b-content-element.b-flex-row {\r\n  align-content: flex-start;\r\n}\r\n\r\n.b-datepicker:focus {\r\n  outline: 0;\r\n}\r\n.b-datepicker .b-datepicker-title {\r\n  font-weight: bold;\r\n}\r\n.b-datepicker .b-field {\r\n  background-color: transparent;\r\n  border: 0 none;\r\n  color: #4f5964;\r\n  min-width: 0;\r\n  display: inline-flex;\r\n  flex: none !important;\r\n  width: auto;\r\n  margin-bottom: 0 !important;\r\n  height: 100%;\r\n  cursor: pointer;\r\n}\r\n.b-datepicker .b-field:not(.b-readonly):hover {\r\n  opacity: 0.7;\r\n}\r\n.b-datepicker .b-field .b-field-inner {\r\n  flex: none;\r\n  border: 0 none;\r\n  background-color: transparent;\r\n  align-self: stretch;\r\n  padding: 0;\r\n  box-shadow: none;\r\n}\r\n.b-datepicker .b-field div[type=text] {\r\n  outline: none;\r\n}\r\n.b-datepicker .b-field.b-datepicker-yearfield {\r\n  margin-left: 0.5em;\r\n}\r\n.b-datepicker .b-toolbar.b-dock-top {\r\n  background-color: #fff5e6;\r\n  color: #4f5964;\r\n  border-bottom: none;\r\n  min-height: 0;\r\n  font-size: 1.2em;\r\n}\r\n.b-datepicker .b-toolbar.b-dock-top .b-toolbar-content {\r\n  padding: 0.5em 0.3em;\r\n}\r\n.b-datepicker .b-toolbar.b-dock-top .b-toolbar-content .b-widget:not(.b-last-visible-child) {\r\n  margin-right: 0;\r\n}\r\n.b-datepicker .b-toolbar.b-dock-top .b-container {\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  margin: 0 !important;\r\n}\r\n.b-datepicker .b-toolbar.b-dock-top .b-icon {\r\n  color: #4f5964;\r\n}\r\n.b-datepicker .b-toolbar.b-dock-top .b-icon:before {\r\n  line-height: normal;\r\n}\r\n.b-datepicker .b-toolbar.b-dock-top .b-button {\r\n  border: none;\r\n  background: transparent !important;\r\n  border-radius: 50%;\r\n  min-width: 0;\r\n  min-height: 0;\r\n  width: 2em;\r\n  height: 2em;\r\n}\r\n.b-datepicker .b-toolbar.b-dock-top .b-button:hover {\r\n  opacity: 0.7;\r\n}\r\n.b-datepicker .b-calendar-weekdays {\r\n  background-color: #fff5e6;\r\n  font-size: 0.85em;\r\n}\r\n.b-datepicker .b-calendar-weekdays .b-calendar-day-header {\r\n  padding: 0.4em 0;\r\n}\r\n.b-datepicker.b-show-week-column .b-week-number-cell {\r\n  line-height: 2.2em;\r\n  width: 2.2em;\r\n  margin: 4px 5px;\r\n  text-align: center;\r\n}\r\n.b-datepicker .b-calendarpanel-content {\r\n  padding: 0;\r\n  justify-content: flex-start;\r\n}\r\n.b-datepicker .b-calendarpanel-content .b-calendar-row.b-calendar-week .b-week-number-cell {\r\n  color: #76c579;\r\n}\r\n.b-datepicker .b-calendarpanel-content .b-calendar-row.b-calendar-week .b-calendar-cell {\r\n  display: flex;\r\n  height: 2.2em;\r\n  width: 2.2em;\r\n  margin: 4px 5px;\r\n  border-width: 1px;\r\n  border-style: solid;\r\n  border-color: transparent;\r\n  border-radius: 50%;\r\n  transition: background-color 0.2s, color 0.2s;\r\n  align-items: center;\r\n}\r\n.b-datepicker .b-calendarpanel-content .b-calendar-row.b-calendar-week .b-calendar-cell.b-today {\r\n  border-color: #feac31;\r\n  border-width: 1px;\r\n}\r\n.b-datepicker .b-calendarpanel-content .b-calendar-row.b-calendar-week .b-calendar-cell.b-active-date:not(.b-selected-date) {\r\n  border-color: #feac31;\r\n}\r\n.b-datepicker .b-calendarpanel-content .b-calendar-row.b-calendar-week .b-calendar-cell.b-selected-date {\r\n  color: #fff;\r\n  background-color: #feac31;\r\n  border-color: #feac31;\r\n}\r\n.b-datepicker .b-calendarpanel-content .b-calendar-row.b-calendar-week .b-calendar-cell.b-other-month {\r\n  color: #bbb;\r\n}\r\n.b-datepicker .b-calendarpanel-content .b-calendar-row.b-calendar-week .b-calendar-cell:not(.b-disabled-date, .b-selected-date) {\r\n  cursor: pointer;\r\n}\r\n.b-datepicker .b-calendarpanel-content .b-calendar-row.b-calendar-week .b-calendar-cell:not(.b-disabled-date, .b-selected-date):hover {\r\n  background-color: rgba(254, 172, 49, 0.5);\r\n  border-color: rgba(254, 172, 49, 0.5);\r\n}\r\n.b-datepicker .b-calendarpanel-content .b-calendar-row.b-calendar-week .b-calendar-cell:not(.b-disabled-date, .b-selected-date):hover.b-today {\r\n  background-color: #feac31;\r\n  border-color: #feac31;\r\n}\r\n.b-datepicker .b-calendarpanel-content .b-calendar-row.b-calendar-week .b-calendar-cell.b-out-of-range {\r\n  color: #aaa;\r\n}\r\n.b-datepicker .b-calendarpanel-content .b-calendar-row.b-calendar-week .b-calendar-cell.b-disabled-date {\r\n  color: #aaa;\r\n  opacity: 0.4;\r\n}\r\n\r\n.b-readonly-combo-list.b-empty {\r\n  display: none;\r\n}\r\n.b-readonly-combo-list .b-list-item {\r\n  min-width: auto;\r\n}\r\n.b-visible-scrollbar .b-readonly-combo-list .b-list-item {\r\n  padding-right: 2em;\r\n}\r\n\r\n.b-editor {\r\n  background-color: #fff;\r\n  border-radius: 2px;\r\n}\r\n.b-editor.b-positioned {\r\n  box-shadow: 0 0 6px rgba(0, 0, 0, 0.1);\r\n}\r\n.b-editor.b-content-element > .b-widget.b-field {\r\n  margin: 0;\r\n}\r\n@keyframes b-field-updated {\r\n  0% {\r\n    color: #4f5964;\r\n  }\r\n  25% {\r\n    color: #9ca6b0;\r\n  }\r\n  75% {\r\n    color: #9ca6b0;\r\n  }\r\n  100% {\r\n    color: #4f5964;\r\n  }\r\n}\r\n.b-has-label.b-label-above {\r\n  flex-direction: column;\r\n}\r\n.b-has-label.b-label-before .b-label {\r\n  align-self: center;\r\n  margin-right: 1em;\r\n}\r\n.b-has-label.b-label-above .b-label {\r\n  align-self: flex-start;\r\n  flex: none !important;\r\n  margin: 0 0 0.4em 0.1em;\r\n}\r\n.b-has-label.b-open .b-label, .b-has-label:focus-within .b-label, .b-has-label.b-ie:focus .b-label {\r\n  color: #4f5964;\r\n}\r\n.b-container .b-has-label .b-label.b-align-end {\r\n  margin-left: 1em;\r\n  text-align: left;\r\n}\r\n.b-container .b-has-label.b-open .b-label, .b-container .b-has-label:focus-within .b-label, .b-container .b-has-label.b-ie:focus .b-label {\r\n  color: #212121;\r\n}\r\n.b-has-label.b-invalid .b-label {\r\n  color: #e53f2c !important;\r\n}\r\n.b-has-label.b-disabled .b-label {\r\n  color: #b0b0b7;\r\n}\r\n\r\n.b-field-updated {\r\n  animation-name: b-field-updated;\r\n  animation-duration: 0.5s;\r\n}\r\n\r\n.b-flex-column > .b-field {\r\n  width: auto;\r\n}\r\n\r\n.b-flex-row:not(.b-toolbar-content) > .b-field {\r\n  flex: 1 0 100%;\r\n  margin-bottom: 0.6em;\r\n  align-self: flex-start;\r\n}\r\n.b-flex-row:not(.b-toolbar-content) > .b-field.b-label-above {\r\n  margin-bottom: 1.2em;\r\n}\r\n.b-flex-row:not(.b-toolbar-content) > .b-field.b-inline .b-field-inner {\r\n  margin-right: 0.6em;\r\n}\r\n.b-flex-row:not(.b-toolbar-content) > .b-field.b-last-visible-child, .b-flex-row:not(.b-toolbar-content) > .b-field.b-last-row {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.b-field-inner {\r\n  display: flex;\r\n  flex: 1 1 100%;\r\n  align-items: center;\r\n  background-color: #fff;\r\n  border-radius: 2px;\r\n  border-width: 1px;\r\n  border-style: solid;\r\n  border-color: #d0d1d2;\r\n  min-width: 0;\r\n  position: relative;\r\n}\r\n\r\n.b-field-hint {\r\n  align-self: stretch;\r\n  overflow: visible;\r\n  pointer-events: none;\r\n  position: relative;\r\n  white-space: nowrap;\r\n  width: 0;\r\n}\r\n.b-field-hint .b-field-hint-content {\r\n  position: absolute;\r\n  right: 0.6em;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  font-size: 0.9em;\r\n  text-transform: uppercase;\r\n}\r\n.b-field-no-hint .b-field-hint {\r\n  display: none;\r\n}\r\n\r\n.b-numberfield,\r\n.b-textfield {\r\n  align-items: stretch;\r\n  min-width: 3em;\r\n  color: #4f5964;\r\n  border-radius: 2px;\r\n  position: relative;\r\n  width: 12.5em;\r\n}\r\n.b-numberfield.b-has-width,\r\n.b-textfield.b-has-width {\r\n  width: auto;\r\n}\r\n.b-numberfield.b-contains-focus .b-field-inner,\r\n.b-textfield.b-contains-focus .b-field-inner {\r\n  border-color: rgba(254, 172, 49, 0.6);\r\n}\r\n.b-numberfield .b-fieldtrigger,\r\n.b-textfield .b-fieldtrigger {\r\n  color: #b0b1b2;\r\n  font-size: 0.9em;\r\n  cursor: pointer;\r\n  flex: 0 0 auto;\r\n  align-items: center;\r\n}\r\n.b-numberfield .b-fieldtrigger.b-align-start,\r\n.b-textfield .b-fieldtrigger.b-align-start {\r\n  padding: 0 0 0 0.8em;\r\n}\r\n.b-numberfield .b-fieldtrigger.b-align-end,\r\n.b-textfield .b-fieldtrigger.b-align-end {\r\n  padding: 0 0.8em 0 0;\r\n}\r\n.b-numberfield .b-fieldtrigger:before,\r\n.b-textfield .b-fieldtrigger:before {\r\n  font-size: 1.3em;\r\n  transition: all 0.3s;\r\n  transform: scale(1);\r\n}\r\n.b-numberfield .b-spintrigger,\r\n.b-textfield .b-spintrigger {\r\n  flex-direction: column;\r\n  font-size: 1em;\r\n}\r\n.b-numberfield .b-spintrigger .b-spin-up:before,\r\n.b-textfield .b-spintrigger .b-spin-up:before {\r\n  content: "\\f0d8";\r\n  vertical-align: bottom;\r\n}\r\n.b-numberfield .b-spintrigger .b-spin-down:before,\r\n.b-textfield .b-spintrigger .b-spin-down:before {\r\n  content: "\\f0d7";\r\n  vertical-align: top;\r\n}\r\n.b-numberfield.b-hide-spinner .b-spintrigger,\r\n.b-textfield.b-hide-spinner .b-spintrigger {\r\n  display: none;\r\n}\r\n.b-numberfield input, .b-numberfield textarea,\r\n.b-textfield input,\r\n.b-textfield textarea {\r\n  background-color: transparent;\r\n  color: inherit;\r\n  padding: 0.8em;\r\n  font-weight: 400;\r\n  flex: 1 1 0;\r\n  border: 0 none;\r\n  margin: 0;\r\n  font-family: inherit;\r\n  font-size: inherit;\r\n  min-width: 1em;\r\n  text-align: inherit;\r\n}\r\n.b-numberfield input:focus, .b-numberfield textarea:focus,\r\n.b-textfield input:focus,\r\n.b-textfield textarea:focus {\r\n  outline: none;\r\n}\r\n.b-numberfield input::-ms-clear, .b-numberfield textarea::-ms-clear,\r\n.b-textfield input::-ms-clear,\r\n.b-textfield textarea::-ms-clear {\r\n  display: none;\r\n}\r\n.b-numberfield textarea,\r\n.b-textfield textarea {\r\n  align-self: stretch;\r\n}\r\n.b-numberfield ::-webkit-input-placeholder,\r\n.b-textfield ::-webkit-input-placeholder {\r\n  color: #b0b0b7;\r\n}\r\n.b-numberfield.b-empty .b-fieldtrigger.b-icon-remove,\r\n.b-textfield.b-empty .b-fieldtrigger.b-icon-remove {\r\n  visibility: hidden;\r\n}\r\n.b-numberfield:focus-within .b-label i,\r\n.b-textfield:focus-within .b-label i {\r\n  color: rgba(254, 172, 49, 0.6);\r\n}\r\n.b-numberfield:not(.b-disabled):hover .b-label i,\r\n.b-textfield:not(.b-disabled):hover .b-label i {\r\n  color: rgba(254, 172, 49, 0.6);\r\n}\r\n.b-numberfield:not(.b-disabled):hover .b-field-inner,\r\n.b-textfield:not(.b-disabled):hover .b-field-inner {\r\n  border-color: rgba(254, 172, 49, 0.6);\r\n}\r\n.b-numberfield.b-invalid .b-field-inner,\r\n.b-textfield.b-invalid .b-field-inner {\r\n  border-color: #e53f2c !important;\r\n}\r\n.b-numberfield.b-disabled,\r\n.b-textfield.b-disabled {\r\n  color: #b0b0b7;\r\n  cursor: default;\r\n}\r\n.b-numberfield.b-disabled input,\r\n.b-textfield.b-disabled input {\r\n  cursor: text;\r\n}\r\n.b-numberfield.b-disabled .b-fieldtrigger,\r\n.b-textfield.b-disabled .b-fieldtrigger {\r\n  color: #e4e4e4;\r\n}\r\n.b-numberfield.b-disabled .b-fieldtrigger,\r\n.b-textfield.b-disabled .b-fieldtrigger {\r\n  cursor: default;\r\n}\r\n.b-numberfield.b-disabled .b-field-inner,\r\n.b-textfield.b-disabled .b-field-inner {\r\n  border-style: solid;\r\n}\r\n.b-numberfield.b-readonly,\r\n.b-textfield.b-readonly {\r\n  cursor: default;\r\n}\r\n.b-numberfield.b-readonly input,\r\n.b-textfield.b-readonly input {\r\n  cursor: text;\r\n}\r\n.b-numberfield.b-readonly .b-fieldtrigger,\r\n.b-textfield.b-readonly .b-fieldtrigger {\r\n  color: #e4e4e4;\r\n  cursor: default;\r\n}\r\n\r\n.b-numberfield input[type=number]::-webkit-inner-spin-button,\r\n.b-numberfield input[type=number]::-webkit-outer-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n.b-numberfield input[type=number] {\r\n  -moz-appearance: textfield;\r\n}\r\n.b-numberfield .b-field-inner .b-fieldtrigger.b-icon-remove {\r\n  font-size: 0.8em;\r\n}\r\n\r\n.b-tooltip.b-field-error-tip {\r\n  border: 1px solid #e53f2c;\r\n}\r\n.b-tooltip.b-field-error-tip .b-popup-content {\r\n  background-color: #fffef6;\r\n  color: #e53f2c;\r\n  font-weight: bold;\r\n}\r\n\r\n.b-filepicker {\r\n  overflow: visible;\r\n}\r\n\r\n.b-displayfield {\r\n  color: inherit;\r\n}\r\n.b-displayfield .b-field-inner {\r\n  border: 0;\r\n  background: transparent;\r\n}\r\n.b-displayfield .b-field-inner span {\r\n  padding: 0.8em;\r\n}\r\n\r\n.b-pickerfield.b-open .b-field-inner {\r\n  border-color: #feac31;\r\n}\r\n.b-pickerfield:not(.b-readonly):not(.b-disabled) input[readonly] {\r\n  cursor: pointer;\r\n}\r\n\r\n.b-datefield.b-open .b-fieldtrigger {\r\n  color: #feac31 !important;\r\n}\r\n.b-datefield.b-no-steppers .b-step-trigger {\r\n  display: none;\r\n}\r\n\r\n.b-datetimefield {\r\n  align-items: center;\r\n  position: relative;\r\n}\r\n.b-datetimefield.b-ie {\r\n  width: 24em;\r\n}\r\n.b-datetimefield input {\r\n  text-align: center;\r\n}\r\n.b-datetimefield .b-field-inner {\r\n  height: 100%;\r\n}\r\n.b-datetimefield .b-datefield {\r\n  flex: 1 1 55%;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n.b-datetimefield .b-datefield .b-field-inner {\r\n  border: none;\r\n  border-right: 1px solid #dedfe0;\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n.b-datetimefield .b-timefield {\r\n  flex: 1 1 45%;\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n.b-datetimefield .b-timefield .b-field-inner {\r\n  border: none;\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n.b-datetimefield:not(.b-disabled):hover .b-field-inner, .b-datetimefield:focus-within .b-field-inner {\r\n  border-color: rgba(254, 172, 49, 0.6);\r\n}\r\n.b-datetimefield:not(.b-disabled):hover .b-datefield .b-field-inner, .b-datetimefield:focus-within .b-datefield .b-field-inner {\r\n  border-right: 1px solid #dedfe0;\r\n}\r\n\r\n.b-label {\r\n  align-items: center;\r\n  color: #4f5964;\r\n  font-size: 0.9em;\r\n  text-transform: uppercase;\r\n  text-align: right;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n}\r\n.b-container .b-label {\r\n  color: #616161;\r\n  margin-left: 0.3em;\r\n}\r\n\r\n.b-list {\r\n  display: block;\r\n  background-color: white;\r\n  outline: none;\r\n}\r\n.b-list.b-floating {\r\n  border-radius: 2px;\r\n}\r\n.b-list.b-empty:not(.b-masked) {\r\n  min-height: initial !important;\r\n}\r\n.b-list.b-empty:not(.b-masked)[data-empty-text]::after {\r\n  content: attr(data-empty-text);\r\n  display: block;\r\n  padding: 0.8em;\r\n  color: #4f5964;\r\n}\r\n.b-list.b-masked {\r\n  padding: 2em 0;\r\n}\r\n.b-list .b-selected-icon {\r\n  margin-inline-end: 0.5em;\r\n  display: none;\r\n}\r\n.b-ie .b-list .b-selected-icon {\r\n  margin-right: 0.5em;\r\n}\r\n.b-list .b-select-all-item {\r\n  border-bottom: 1px solid;\r\n  font-weight: bold;\r\n  position: sticky;\r\n  top: 0;\r\n  background-color: white;\r\n  z-index: 1;\r\n}\r\n.b-list.b-multiselect .b-list-item .b-selected-icon {\r\n  display: block;\r\n  visibility: hidden;\r\n}\r\n.b-list.b-multiselect .b-list-item.b-selected .b-selected-icon {\r\n  visibility: visible;\r\n}\r\n\r\n.b-list-item {\r\n  position: relative;\r\n  padding: 0.8em;\r\n  color: #4f5964;\r\n  cursor: pointer;\r\n  background-color: transparent;\r\n  transition: background-color 0.2s, color 0.2s;\r\n  border-top: 1px dotted rgba(224, 224, 231, 0.8);\r\n  min-width: 100px;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n.b-list-item.b-hidden {\r\n  display: none;\r\n}\r\n.b-list-item:first-child {\r\n  border-top: none;\r\n  border-top-right-radius: 2px;\r\n  border-top-left-radius: 2px;\r\n}\r\n.b-list-item:last-child {\r\n  border-bottom-right-radius: 2px;\r\n  border-bottom-left-radius: 2px;\r\n}\r\n.b-list-item.b-active, .b-list-item:focus {\r\n  outline: none;\r\n}\r\n.b-list-item.b-active:not(.b-disabled), .b-list-item:focus:not(.b-disabled) {\r\n  background-color: rgba(254, 172, 49, 0.3);\r\n  color: #4f5964;\r\n}\r\n.b-list-item.b-list-item-group-header {\r\n  font-weight: bold;\r\n}\r\n.b-list-item.b-list-item-group-header .b-icon-check, .b-list-item.b-list-item-group-header .b-checkbox .b-checkbox-label:before, .b-checkbox .b-list-item.b-list-item-group-header .b-checkbox-label:before {\r\n  display: none;\r\n}\r\n.b-grouped .b-list-item:not(.b-list-item-group-header) {\r\n  padding-left: 2em;\r\n}\r\n\r\n.b-chipview {\r\n  background-color: transparent;\r\n}\r\n.b-chipview.b-empty::after {\r\n  display: none;\r\n}\r\n.b-chipview input {\r\n  padding-top: 0.6em;\r\n  padding-bottom: calc(0.6em + 1px);\r\n}\r\n.b-chipview .b-chip {\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0 0 0.3em 0.3em;\r\n  padding: 0.3em 0.7em 0.3em 0.7em;\r\n  border-radius: 1em;\r\n  background-color: #e0e0e7;\r\n  color: #5a6672;\r\n  transition: background-color 0.3s, color 0.3s;\r\n}\r\n.b-chipview .b-chip .b-icon {\r\n  height: 1.5em;\r\n  width: 1.5em;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #eeeef2;\r\n  color: #474849;\r\n}\r\n.b-chipview .b-chip .b-icon:first-child:not(.b-close-icon) {\r\n  margin-right: 0.5em;\r\n  margin-left: -0.4em;\r\n}\r\n.b-chipview .b-chip:hover {\r\n  background-color: #d2d2dc;\r\n  color: #4f5964;\r\n}\r\n.b-chipview .b-chip:hover .b-icon {\r\n  background-color: #eeeef2;\r\n  color: #474849;\r\n}\r\n.b-chipview .b-chip.b-selected {\r\n  background-color: #feac31;\r\n  color: #fff;\r\n}\r\n.b-chipview .b-chip.b-selected .b-icon {\r\n  background-color: #eeeef2;\r\n  color: #feac31;\r\n}\r\n.b-chipview .b-chip.b-selected:hover {\r\n  background-color: #fea218;\r\n  color: #fff;\r\n}\r\n.b-chipview .b-chip.b-selected:hover .b-icon {\r\n  background-color: #eeeef2;\r\n  color: #fea218;\r\n}\r\n.b-chipview .b-chip .b-close-icon {\r\n  margin-left: 0.5em;\r\n  cursor: pointer;\r\n}\r\n.b-chipview.b-chips-closable .b-chip {\r\n  padding-right: 0.3em;\r\n}\r\n\r\n@keyframes maskOpacity {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n.b-masked {\r\n  position: relative;\r\n}\r\n\r\n.b-mask {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  z-index: 10000;\r\n  background-color: transparent;\r\n}\r\n.b-mask:not(.b-prevent-transitions) {\r\n  transition: opacity 1s;\r\n}\r\n.b-mask.b-visible {\r\n  pointer-events: all;\r\n  opacity: 1;\r\n}\r\n.b-mask.b-visible:not(.b-prevent-transitions):not(.b-delayed-show) {\r\n  animation: maskOpacity 0.3s ease 0s 1;\r\n}\r\n.b-mask.b-hidden {\r\n  pointer-events: none;\r\n  opacity: 0;\r\n}\r\n.b-mask.b-hidden:not(.b-prevent-transitions) {\r\n  animation: maskOpacity 0.2s ease 0s 1 reverse;\r\n}\r\n.b-mask.b-delayed-show {\r\n  opacity: 0;\r\n}\r\n.b-mask.b-mask-bright {\r\n  background-color: rgba(255, 255, 255, 0.7);\r\n}\r\n.b-mask.b-mask-bright-blur {\r\n  background-color: rgba(255, 255, 255, 0.7);\r\n}\r\n.b-mask.b-mask-dark {\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n}\r\n.b-mask.b-mask-dark-blur {\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.b-mask-content {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  display: flex;\r\n  flex-direction: column;\r\n  color: #fff;\r\n  background-color: #feac31;\r\n  border-radius: 2px;\r\n}\r\n\r\n.b-mask-text {\r\n  padding: 1em;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.b-mask-progress-bar {\r\n  height: 3px;\r\n  background-color: #3183fe;\r\n}\r\n\r\n.b-mask-icon {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.b-masked-dark-blur,\r\n.b-masked-bright-blur {\r\n  filter: blur(3px);\r\n  transform: scale(1.01);\r\n  transition: all 0.5s;\r\n}\r\n\r\n.b-messagedialog.b-popup {\r\n  min-width: 18em;\r\n}\r\n.b-messagedialog.b-popup .b-button {\r\n  min-width: 9em;\r\n}\r\n.b-messagedialog.b-popup .b-messagedialog-header,\r\n.b-messagedialog.b-popup .b-messagedialog-content {\r\n  padding: 1em;\r\n}\r\n.b-messagedialog.b-popup .b-messagedialog-content.b-panel-content {\r\n  border-radius: 0;\r\n  min-height: 4em;\r\n}\r\n.b-messagedialog.b-popup .b-messagedialog-input,\r\n.b-messagedialog.b-popup .b-messagedialog-okbutton,\r\n.b-messagedialog.b-popup .b-messagedialog-cancelbutton {\r\n  display: none;\r\n}\r\n.b-messagedialog.b-popup.b-messagedialog-prompt .b-messagedialog-okbutton,\r\n.b-messagedialog.b-popup.b-messagedialog-prompt .b-messagedialog-cancelbutton, .b-messagedialog.b-popup.b-messagedialog-confirm .b-messagedialog-okbutton,\r\n.b-messagedialog.b-popup.b-messagedialog-confirm .b-messagedialog-cancelbutton {\r\n  display: inline-flex;\r\n}\r\n.b-messagedialog.b-popup.b-messagedialog-prompt .b-messagedialog-input {\r\n  display: inline-flex;\r\n  margin: 1em 0 0 0;\r\n}\r\n.b-messagedialog.b-popup.b-messagedialog-alert .b-messagedialog-okbutton {\r\n  display: inline-flex;\r\n}\r\n.b-messagedialog.b-popup .b-panel-body-wrap {\r\n  background: #f8f9fa;\r\n}\r\n.b-messagedialog.b-popup .b-popup-content,\r\n.b-messagedialog.b-popup .b-toolbar {\r\n  background: transparent;\r\n}\r\n.b-messagedialog.b-popup .b-toolbar .b-toolbar-content {\r\n  justify-content: flex-end;\r\n}\r\n.b-messagedialog.b-popup .b-toolbar .b-toolbar-content .b-button:not(:first-child) {\r\n  margin-left: 1em;\r\n}\r\n\r\n.b-pagingtoolbar .b-toolbar-content {\r\n  justify-content: center;\r\n}\r\n.b-pagingtoolbar .b-toolbar-content .b-toolbar-text,\r\n.b-pagingtoolbar .b-toolbar-content .b-button {\r\n  margin: 0 0.5em;\r\n}\r\n.b-pagingtoolbar .b-toolbar-content .b-numberfield {\r\n  width: unset;\r\n}\r\n.b-pagingtoolbar .b-toolbar-content .b-numberfield input {\r\n  width: 4em;\r\n  text-align: center;\r\n}\r\n.b-pagingtoolbar .b-toolbar-content .b-disabled.b-html {\r\n  color: #b0b0b7;\r\n}\r\n\r\n.b-panel.b-floating {\r\n  border-radius: 2px;\r\n}\r\n.b-panel.b-floating > .b-panel-body-wrap > .b-panel-content {\r\n  border-radius: 2px;\r\n}\r\n.b-panel.b-floating > .b-panel-header.b-dock-top, .b-panel.b-floating:not(.b-has-header) > .b-panel-body-wrap > .b-toolbar.b-dock-top {\r\n  border-top-left-radius: 2px;\r\n  border-top-right-radius: 2px;\r\n}\r\n.b-panel.b-floating > .b-panel-body-wrap > .b-toolbar.b-dock-bottom {\r\n  border-bottom-left-radius: 2px;\r\n  border-bottom-right-radius: 2px;\r\n}\r\n.b-panel.b-floating.b-panel-has-header > .b-panel-body-wrap > .b-panel-content, .b-panel.b-floating.b-panel-has-top-toolbar > .b-panel-body-wrap > .b-panel-content {\r\n  border-top-left-radius: 0;\r\n  border-top-right-radius: 0;\r\n}\r\n.b-panel.b-floating.b-panel-has-bottom-toolbar > .b-panel-body-wrap > .b-panel-content {\r\n  border-bottom-left-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n\r\n.b-panel {\r\n  padding: 0;\r\n  color: #4f5964;\r\n  z-index: 0;\r\n}\r\n.b-panel > .b-panel-overlay,\r\n.b-panel > .b-panel-body-wrap {\r\n  z-index: 0;\r\n}\r\n.b-panel > .b-panel-collapse-size-locker {\r\n  position: absolute !important;\r\n}\r\n.b-panel:not(.b-panel-collapsible-overlay).b-collapsed > .b-panel-collapse-size-locker {\r\n  clip: rect(0, 0, 0, 0);\r\n}\r\n.b-panel:not(.b-panel-collapsible-overlay).b-panel-collapse-down:not(.b-panel-has-header) > .b-panel-collapse-size-locker, .b-panel:not(.b-panel-collapsible-overlay).b-header-dock-bottom.b-panel-collapse-down > .b-panel-collapse-size-locker, .b-panel:not(.b-panel-collapsible-overlay).b-header-dock-bottom.b-panel-collapse-up > .b-panel-collapse-size-locker {\r\n  top: 0;\r\n}\r\n.b-panel:not(.b-panel-collapsible-overlay).b-panel-collapse-up:not(.b-panel-has-header) > .b-panel-collapse-size-locker, .b-panel:not(.b-panel-collapsible-overlay).b-header-dock-top.b-panel-collapse-up > .b-panel-collapse-size-locker, .b-panel:not(.b-panel-collapsible-overlay).b-header-dock-top.b-panel-collapse-down > .b-panel-collapse-size-locker {\r\n  bottom: 0;\r\n}\r\n.b-panel:not(.b-panel-collapsible-overlay).b-panel-collapse-left:not(.b-panel-has-header) > .b-panel-collapse-size-locker, .b-panel:not(.b-panel-collapsible-overlay).b-header-dock-left.b-panel-collapse-left > .b-panel-collapse-size-locker, .b-panel:not(.b-panel-collapsible-overlay).b-header-dock-left.b-panel-collapse-right > .b-panel-collapse-size-locker {\r\n  right: 0;\r\n}\r\n.b-panel:not(.b-panel-collapsible-overlay).b-panel-collapse-right:not(.b-panel-has-header) > .b-panel-collapse-size-locker, .b-panel:not(.b-panel-collapsible-overlay).b-header-dock-right.b-panel-collapse-left > .b-panel-collapse-size-locker, .b-panel:not(.b-panel-collapsible-overlay).b-header-dock-right.b-panel-collapse-right > .b-panel-collapse-size-locker {\r\n  left: 0;\r\n}\r\n.b-panel.b-panel-collapsible-overlay:not(.b-collapsing, .b-expanding, .b-panel-overlay-revealed, .b-panel-overlay-revealing) > .b-panel-overlay > .b-panel-overlay-header {\r\n  display: none;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-panel-overlay-revealed > .b-panel-overlay {\r\n  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.3);\r\n  overflow: visible;\r\n}\r\n.b-panel.b-panel-collapsible-overlay > .b-panel-header {\r\n  transition: transform 0.2s ease-in-out;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed > .b-panel-header > .b-collapsify-hide {\r\n  display: none;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsing > .b-panel-header, .b-panel.b-panel-collapsible-overlay.b-expanding > .b-panel-header {\r\n  opacity: 0;\r\n}\r\n.b-panel.b-panel-collapsible-overlay:not(.b-collapsed, .b-collapsing) > .b-panel-overlay > .b-panel-overlay-header {\r\n  display: none;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsing, .b-panel.b-panel-collapsible-overlay.b-expanding, .b-panel.b-panel-collapsible-overlay.b-panel-overlay-revealing, .b-panel.b-panel-collapsible-overlay.b-panel-overlay-revealed {\r\n  overflow: visible;\r\n  z-index: 1;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-panel-collapse-down > .b-panel-collapse-size-locker {\r\n  bottom: 0;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-panel-collapse-up > .b-panel-collapse-size-locker {\r\n  top: 0;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-panel-collapse-left > .b-panel-collapse-size-locker {\r\n  left: 0;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-panel-collapse-right > .b-panel-collapse-size-locker {\r\n  right: 0;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsing {\r\n  overflow: visible;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsing > .b-panel-header {\r\n  z-index: -1;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsing.b-panel-collapse-up > .b-panel-header {\r\n  transform: translate(0, -100%);\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsing.b-panel-collapse-down > .b-panel-header {\r\n  transform: translate(0, 100%);\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsing.b-panel-collapse-right > .b-panel-header {\r\n  transform: translate(100%, 0);\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsing.b-panel-collapse-left > .b-panel-header {\r\n  transform: translate(-100%, 0);\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding) > .b-panel-collapse-size-locker {\r\n  transition: transform 0.2s ease-in-out, clip-path 0.2s ease-in-out, top 0.2s ease-in-out, right 0.2s ease-in-out, bottom 0.2s ease-in-out, left 0.2s ease-in-out;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding).b-panel-collapse-up > .b-panel-collapse-size-locker {\r\n  transform: translate(0, -100%);\r\n  clip-path: inset(0 0 100% 0);\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding).b-panel-collapse-up.b-panel-overlay-revealed > .b-panel-collapse-size-locker {\r\n  clip-path: inset(0 0 -10px 0);\r\n  transform: translate(0, 0);\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding).b-panel-collapse-up.b-panel-overlay-revealed > .b-panel-collapse-size-locker:not(.b-panel-overlay-header-top) {\r\n  top: 100%;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding).b-panel-collapse-down > .b-panel-collapse-size-locker {\r\n  transform: translate(0, 100%);\r\n  clip-path: inset(100% 0 0 0);\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding).b-panel-collapse-down.b-panel-overlay-revealed > .b-panel-collapse-size-locker {\r\n  clip-path: inset(-10px 0 0 0);\r\n  transform: translate(0, 0);\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding).b-panel-collapse-down.b-panel-overlay-revealed > .b-panel-collapse-size-locker:not(.b-panel-overlay-header-bottom) {\r\n  bottom: 100%;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding).b-panel-collapse-left > .b-panel-collapse-size-locker {\r\n  transform: translate(-100%, 0);\r\n  clip-path: inset(0 0 0 100%);\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding).b-panel-collapse-left.b-panel-overlay-revealed > .b-panel-collapse-size-locker {\r\n  clip-path: inset(0 -10px 0 0);\r\n  transform: translate(0, 0);\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding).b-panel-collapse-left.b-panel-overlay-revealed > .b-panel-collapse-size-locker:not(.b-panel-overlay-header-left) {\r\n  left: 100%;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding).b-panel-collapse-right > .b-panel-collapse-size-locker {\r\n  transform: translate(100%, 0);\r\n  clip-path: inset(0 100% 0 0);\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding).b-panel-collapse-right.b-panel-overlay-revealed > .b-panel-collapse-size-locker {\r\n  clip-path: inset(0 0 0 -10px);\r\n  transform: translate(0, 0);\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-collapsed:not(.b-expanding).b-panel-collapse-right.b-panel-overlay-revealed > .b-panel-collapse-size-locker:not(.b-panel-overlay-header-right) {\r\n  right: 100%;\r\n}\r\n.b-panel.b-panel-collapsible-overlay.b-expanding {\r\n  flex: none !important;\r\n  overflow: visible;\r\n}\r\n.b-panel.b-header-dock-right, .b-panel.b-header-dock-bottom {\r\n  justify-content: flex-end;\r\n}\r\n.b-panel.b-collapsed:not(.b-expanding):not(.b-panel-overlay-revealed) {\r\n  visibility: hidden;\r\n}\r\n.b-panel.b-collapsed > .b-panel-collapse-revealer {\r\n  visibility: visible;\r\n  cursor: pointer;\r\n}\r\n.b-panel.b-collapsed, .b-panel.b-collapsing {\r\n  flex-grow: unset !important;\r\n  flex-basis: unset !important;\r\n  flex-shrink: 0 !important;\r\n}\r\n.b-panel.b-collapsed.b-header-dock-top, .b-panel.b-collapsed.b-header-dock-bottom, .b-panel.b-collapsing.b-header-dock-top, .b-panel.b-collapsing.b-header-dock-bottom {\r\n  min-height: auto !important;\r\n}\r\n.b-panel.b-collapsed.b-header-dock-top.b-panel-collapsible-overlay, .b-panel.b-collapsed.b-header-dock-bottom.b-panel-collapsible-overlay, .b-panel.b-collapsing.b-header-dock-top.b-panel-collapsible-overlay, .b-panel.b-collapsing.b-header-dock-bottom.b-panel-collapsible-overlay {\r\n  height: unset !important;\r\n}\r\n.b-vbox > .b-panel.b-collapsed.b-header-dock-top, .b-vbox > .b-panel.b-collapsed.b-header-dock-bottom, .b-vbox > .b-panel.b-collapsing.b-header-dock-top, .b-vbox > .b-panel.b-collapsing.b-header-dock-bottom {\r\n  flex: none !important;\r\n}\r\n.b-panel.b-collapsed.b-header-dock-right, .b-panel.b-collapsed.b-header-dock-left, .b-panel.b-collapsing.b-header-dock-right, .b-panel.b-collapsing.b-header-dock-left {\r\n  min-width: auto !important;\r\n}\r\n.b-panel.b-collapsed.b-header-dock-right.b-panel-collapsible-overlay, .b-panel.b-collapsed.b-header-dock-left.b-panel-collapsible-overlay, .b-panel.b-collapsing.b-header-dock-right.b-panel-collapsible-overlay, .b-panel.b-collapsing.b-header-dock-left.b-panel-collapsible-overlay {\r\n  width: unset !important;\r\n}\r\n.b-hbox > .b-panel.b-collapsed.b-header-dock-right, .b-hbox > .b-panel.b-collapsed.b-header-dock-left, .b-hbox > .b-panel.b-collapsing.b-header-dock-right, .b-hbox > .b-panel.b-collapsing.b-header-dock-left {\r\n  flex: none !important;\r\n}\r\n.b-panel.b-collapsed:not(.b-expanding).b-header-dock-right, .b-panel.b-collapsed:not(.b-expanding).b-header-dock-left {\r\n  width: unset !important;\r\n}\r\n.b-panel.b-header-dock-top .b-panel-content {\r\n  border-top-right-radius: 0;\r\n  border-top-left-radius: 0;\r\n}\r\n.b-panel.b-header-dock-right .b-panel-content {\r\n  border-top-right-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n.b-panel.b-header-dock-bottom .b-panel-content {\r\n  border-bottom-left-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n.b-panel.b-header-dock-left .b-panel-content {\r\n  border-top-left-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n.b-panel.b-panel-has-bottom-toolbar .b-panel-content {\r\n  border-bottom-left-radius: 0;\r\n  border-bottom-right-radius: 0;\r\n}\r\n.b-panel.b-floating > .b-dock-top {\r\n  border-top-right-radius: 2px;\r\n  border-top-left-radius: 2px;\r\n}\r\n.b-panel.b-floating > .b-dock-right {\r\n  border-top-right-radius: 2px;\r\n  border-bottom-right-radius: 2px;\r\n}\r\n.b-panel.b-floating > .b-dock-bottom {\r\n  position: static;\r\n  border-bottom-left-radius: 2px;\r\n  border-bottom-right-radius: 2px;\r\n}\r\n.b-panel.b-floating > .b-dock-left {\r\n  border-top-left-radius: 2px;\r\n  border-bottom-left-radius: 2px;\r\n}\r\n\r\n.b-panel-content {\r\n  background-color: #f8f9fa;\r\n  justify-content: space-between;\r\n  overflow: hidden;\r\n  padding: 1em;\r\n}\r\n.b-panel-content + .b-toolbar.b-bottom-toolbar {\r\n  min-height: 3.9em;\r\n}\r\n.b-panel-content.b-auto-container.b-single-child > .b-container {\r\n  flex: 1 1 auto;\r\n}\r\n.b-panel-content.b-fit-container {\r\n  padding: 0;\r\n}\r\n\r\n.b-tabpanel .b-panel-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-panel-header {\r\n  display: flex;\r\n  background-color: #fff5e6;\r\n  color: #4f5964;\r\n  padding: 1em;\r\n  flex: 0 0 auto;\r\n  align-items: center;\r\n  z-index: 1;\r\n}\r\n.b-panel-header.b-panel-ui-toolbar {\r\n  background-color: #f3f4f5;\r\n  color: #4f5964;\r\n  padding: 0.6em;\r\n}\r\n.b-panel-header.b-panel-ui-toolbar.b-dock-top, .b-panel-header.b-panel-ui-toolbar.b-dock-bottom {\r\n  min-height: 4.2em;\r\n}\r\n.b-panel-header.b-panel-ui-toolbar.b-dock-left, .b-panel-header.b-panel-ui-toolbar.b-dock-right {\r\n  min-width: 4.2em;\r\n}\r\n.b-panel-header.b-panel-ui-toolbar .b-header-title {\r\n  font-size: unset;\r\n  font-weight: unset;\r\n}\r\n.b-panel-header.b-dock-top {\r\n  border-bottom: 1px solid #feac31;\r\n}\r\n.b-panel-header.b-dock-right {\r\n  flex-flow: column nowrap;\r\n}\r\n.b-panel-header.b-dock-left {\r\n  flex-flow: column-reverse nowrap;\r\n}\r\n.b-panel-header.b-dock-left .b-header-title {\r\n  transform: rotate(180deg);\r\n}\r\n.b-panel-header .b-header-title {\r\n  flex: 1 1 auto;\r\n  text-align: center;\r\n  justify-content: center;\r\n  font-size: 1.2em;\r\n  font-weight: 500;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.b-panel-header .b-header-title:not(:last-child) {\r\n  padding-right: 1em;\r\n}\r\n.b-panel-header .b-header-title.b-align-start {\r\n  text-align: start;\r\n  justify-content: flex-start;\r\n}\r\n.b-panel-header .b-header-title.b-align-center {\r\n  text-align: center;\r\n  justify-content: center;\r\n  padding-right: 0;\r\n}\r\n.b-panel-header .b-header-title.b-align-end {\r\n  text-align: end;\r\n  justify-content: flex-end;\r\n}\r\n.b-panel-header .b-header-title.b-align-end:not(:last-child) {\r\n  margin-right: 1em;\r\n}\r\n.b-panel-header.b-dock-right .b-header-title, .b-panel-header.b-dock-left .b-header-title {\r\n  -webkit-writing-mode: vertical-lr;\r\n  writing-mode: vertical-lr;\r\n  -ms-writing-mode: tb-lr;\r\n}\r\n.b-panel-header.b-dock-right, .b-panel-header.b-dock-bottom {\r\n  order: 100;\r\n}\r\n\r\n.b-button.b-tool,\r\n.b-tool {\r\n  cursor: pointer;\r\n  color: #4f5964;\r\n  height: 2em;\r\n  width: 2em;\r\n  font-size: 0.9em;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  border: 0 none;\r\n  background-color: transparent;\r\n  flex-shrink: 0;\r\n  contain: paint;\r\n}\r\n.b-button.b-tool::-moz-focus-inner,\r\n.b-tool::-moz-focus-inner {\r\n  border: 0;\r\n}\r\n.b-button.b-tool:focus,\r\n.b-tool:focus {\r\n  outline: none;\r\n}\r\n.b-using-keyboard .b-button.b-tool:focus,\r\n.b-using-keyboard .b-tool:focus {\r\n  background-color: rgba(220, 220, 220, 0.5);\r\n}\r\n.b-button.b-tool.b-icon:before,\r\n.b-tool.b-icon:before {\r\n  width: 1em;\r\n  height: 1em;\r\n  text-align: center;\r\n}\r\n.b-button.b-tool:hover,\r\n.b-tool:hover {\r\n  opacity: 0.8;\r\n}\r\n.b-button.b-tool.b-disabled,\r\n.b-tool.b-disabled {\r\n  opacity: 0.4;\r\n}\r\n.b-button.b-tool.b-rotate-left:before,\r\n.b-tool.b-rotate-left:before {\r\n  transform: rotate(270deg);\r\n}\r\n.b-button.b-tool.b-rotate-right:before,\r\n.b-tool.b-rotate-right:before {\r\n  transform: rotate(90deg);\r\n}\r\n.b-button.b-tool i,\r\n.b-tool i {\r\n  display: flex;\r\n}\r\n.b-button.b-tool a,\r\n.b-tool a {\r\n  color: #4f5964;\r\n}\r\n\r\n.b-button.b-tool {\r\n  min-height: 2em;\r\n  min-width: 2em;\r\n}\r\n\r\n.b-collapsetool:not(.b-collapsing):before {\r\n  transition: all 0.2s ease-in-out;\r\n}\r\n.b-collapsetool:not(.b-collapsed):before {\r\n  transform: rotate(0deg);\r\n}\r\n.b-collapsetool.b-collapsed:before {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.b-dock-top .b-header-title:not(:last-child), .b-dock-bottom .b-header-title:not(:last-child) {\r\n  padding-right: 0.2em;\r\n}\r\n.b-dock-top .b-tool.b-align-start, .b-dock-bottom .b-tool.b-align-start {\r\n  margin: 0 0.4em 0 0;\r\n}\r\n.b-dock-top .b-tool.b-align-end, .b-dock-bottom .b-tool.b-align-end {\r\n  margin: 0 0 0 0.4em;\r\n}\r\n\r\n.b-dock-right .b-header-title:not(:last-child), .b-dock-left .b-header-title:not(:last-child) {\r\n  padding: 0.2em 0;\r\n}\r\n.b-dock-right .b-tool.b-align-start, .b-dock-left .b-tool.b-align-start {\r\n  margin-block-end: 0.4em;\r\n}\r\n.b-dock-right .b-tool.b-align-end, .b-dock-left .b-tool.b-align-end {\r\n  margin-block-start: 0.4em;\r\n}\r\n\r\n.b-popup {\r\n  color: #4f5964;\r\n}\r\n.b-popup.b-text-popup {\r\n  max-width: 25em;\r\n}\r\n.b-popup.b-positioned {\r\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.12), 0 3px 6px rgba(0, 0, 0, 0.24);\r\n}\r\n\r\n.b-popup-content {\r\n  background: #f8f9fa;\r\n}\r\n.b-popup-content a {\r\n  color: #22262b;\r\n}\r\n\r\n.b-popup-header {\r\n  background-color: #fff5e6;\r\n  color: #4f5964;\r\n}\r\n\r\n.b-modal-mask {\r\n  background-color: rgba(100, 100, 100, 0.5);\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  pointer-events: all;\r\n  z-index: 11001;\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .b-popup {\r\n    max-width: 100% !important;\r\n  }\r\n}\r\n.b-menu {\r\n  min-height: 20px;\r\n  outline: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  /* HACK for IE11. Without this padding menu may scroll on first/last item hover */\r\n  /* Covered by Menu.t.js */\r\n}\r\n.b-menu .b-panel-content {\r\n  background-color: #fff;\r\n}\r\n.b-menu.b-empty::after {\r\n  content: attr(data-empty-text);\r\n  display: block;\r\n  padding: 0.8em;\r\n  color: #4f5964;\r\n}\r\n.b-menu.b-ie .b-menu-content {\r\n  padding-bottom: 1px;\r\n}\r\n.b-menu .b-icon:before, .b-menu .b-icon-fw:before {\r\n  min-width: 1.3em;\r\n}\r\n.b-menu.b-menu-with-submenu .b-menuitem:not(.b-has-submenu) .b-menu-text {\r\n  margin-right: 2em;\r\n}\r\n\r\n.b-sub-menu .b-anchor:before {\r\n  position: absolute;\r\n  height: 2.7em;\r\n  width: 11px;\r\n  left: -2px;\r\n  content: " ";\r\n  margin-top: -0.8em;\r\n}\r\n\r\n.b-menu-content {\r\n  flex-flow: column nowrap;\r\n  justify-content: start;\r\n  align-items: stretch;\r\n  padding: 0;\r\n}\r\n.b-menu-content > :not(.b-menuitem) {\r\n  margin: 0.2em 0.6em;\r\n  display: flex;\r\n}\r\n.b-menu-content > :not(.b-menuitem):first-child {\r\n  margin-top: 0.4em;\r\n}\r\n.b-menu-content > :not(.b-menuitem):last-child {\r\n  margin-bottom: 0.4em;\r\n}\r\n.b-menu-content > .b-button {\r\n  justify-content: flex-start;\r\n}\r\n\r\n.b-menuitem {\r\n  flex-shrink: 0;\r\n  padding: 0.8em;\r\n  color: #4f5964;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s, color 0.2s;\r\n  border-top: 1px dotted rgba(224, 224, 231, 0.8);\r\n  font-size: 1em;\r\n  min-width: 7em;\r\n  display: flex;\r\n}\r\n.b-menuitem.b-disabled {\r\n  opacity: 0.5;\r\n}\r\n.b-menuitem:first-child {\r\n  border-top: none;\r\n  border-top-right-radius: 2px;\r\n  border-top-left-radius: 2px;\r\n}\r\n.b-menuitem:last-child {\r\n  border-bottom-right-radius: 2px;\r\n  border-bottom-left-radius: 2px;\r\n}\r\n.b-menuitem.b-separator:not(:first-child) {\r\n  border-top: 1px solid #c3c3d1;\r\n}\r\n.b-menuitem.b-contains-focus, .b-menuitem:focus {\r\n  outline: none;\r\n  background-color: rgba(254, 172, 49, 0.3);\r\n  color: #4f5964;\r\n}\r\n.b-menuitem span.b-menu-text {\r\n  flex: 1 1 auto;\r\n  white-space: nowrap;\r\n  margin-left: 0.6em;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  min-width: 5em;\r\n}\r\n.b-menuitem.b-has-submenu .b-icon-sub-menu {\r\n  margin-left: 0.3em;\r\n}\r\n\r\na.b-menuitem:hover .b-menu-text {\r\n  text-decoration: underline;\r\n}\r\n\r\n.b-menu-with-icon .b-menuitem-icon {\r\n  width: 1.25em;\r\n  text-align: center;\r\n  flex-shrink: 0;\r\n  margin-inline-end: 0.5em;\r\n}\r\n.b-menu-with-icon span.b-menu-text {\r\n  margin-left: 1.75em;\r\n}\r\n.b-menu-with-icon .b-menuitem-icon ~ span.b-menu-text {\r\n  margin-left: 0;\r\n}\r\n\r\n.b-ripple {\r\n  display: none;\r\n}\r\n\r\n.b-slider {\r\n  background-color: transparent;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: visible;\r\n}\r\n.b-slider label {\r\n  font-size: 0.8em;\r\n  transition: color 0.2s;\r\n}\r\n.b-slider [type=range] {\r\n  align-self: stretch;\r\n  max-width: 100%;\r\n  -webkit-appearance: none;\r\n  margin: 10px 0;\r\n  padding: 0;\r\n  font-size: inherit;\r\n  background-color: transparent;\r\n}\r\n.b-slider [type=range]:focus {\r\n  outline: 0;\r\n}\r\n.b-slider [type=range]:focus::-webkit-slider-runnable-track {\r\n  background: #c9dfff;\r\n}\r\n.b-slider [type=range]:focus::-moz-range-track {\r\n  background: #c9dfff;\r\n}\r\n.b-slider [type=range]:focus::-ms-fill-lower, .b-slider [type=range]:focus::-ms-fill-upper {\r\n  background: #c9dfff;\r\n}\r\n.b-slider [type=range]:focus::-webkit-slider-thumb {\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.2);\r\n}\r\n.b-slider [type=range]::-moz-focus-outer {\r\n  border: 0;\r\n}\r\n.b-slider [type=range]::-ms-tooltip {\r\n  display: none;\r\n}\r\n.b-slider [type=range]::-webkit-slider-runnable-track {\r\n  cursor: pointer;\r\n  height: 8px;\r\n  transition: all 0.2s ease;\r\n  width: 100%;\r\n  background: #e0e0e7;\r\n  border: none;\r\n  border-radius: 2px;\r\n}\r\n.b-slider [type=range]::-webkit-slider-thumb {\r\n  background: #3183fe;\r\n  border: none;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  height: 20px;\r\n  width: 20px;\r\n  -webkit-appearance: none;\r\n  margin-top: -6px;\r\n  transition: all 0.5s;\r\n}\r\n.b-slider [type=range]::-moz-range-track {\r\n  cursor: pointer;\r\n  height: 8px;\r\n  transition: all 0.2s ease;\r\n  width: 100%;\r\n  background: #e0e0e7;\r\n  border: none;\r\n  border-radius: 2px;\r\n}\r\n.b-slider [type=range]::-moz-range-thumb {\r\n  background: #3183fe;\r\n  border: none;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  height: 20px;\r\n  width: 20px;\r\n}\r\n.b-slider [type=range]::-ms-track {\r\n  cursor: pointer;\r\n  height: 8px;\r\n  transition: all 0.2s ease;\r\n  width: 100%;\r\n  background: transparent;\r\n  border-color: transparent;\r\n  border-width: 10px 0;\r\n  color: transparent;\r\n}\r\n.b-slider [type=range]::-ms-fill-lower, .b-slider [type=range]::-ms-fill-upper {\r\n  background: #e0e0e7;\r\n  border: none;\r\n  border-radius: 4px;\r\n}\r\n.b-slider [type=range]::-ms-thumb {\r\n  background: #3183fe;\r\n  border: none;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  height: 20px;\r\n  width: 20px;\r\n  margin-top: 0;\r\n}\r\n.b-slider.b-disabled [type=range]::-ms-thumb, .b-slider.b-disabled [type=range]::-ms-fill-lower, .b-slider.b-disabled [type=range]::-ms-fill-upper {\r\n  background: #d2d2dc;\r\n  cursor: default;\r\n}\r\n.b-slider.b-disabled [type=range]::-moz-range-thumb, .b-slider.b-disabled [type=range]::-moz-range-track {\r\n  background: #d2d2dc;\r\n  cursor: default;\r\n}\r\n.b-slider.b-disabled [type=range]::-webkit-slider-thumb, .b-slider.b-disabled [type=range]::-webkit-slider-runnable-track {\r\n  background: #d2d2dc;\r\n  cursor: default;\r\n}\r\n.b-grid-cell .b-slider {\r\n  width: 100%;\r\n}\r\n\r\n.b-container .b-slider label {\r\n  margin: 0;\r\n}\r\n\r\n.b-container .b-slidetoggle .b-slidetoggle-label {\r\n  margin-left: 0;\r\n}\r\n\r\n.b-slidetoggle {\r\n  height: 3.25em;\r\n}\r\n.b-slidetoggle .b-field-inner::before {\r\n  width: 2.4em;\r\n}\r\n.b-slidetoggle input,\r\n.b-slidetoggle .b-slidetoggle-toggle {\r\n  width: 2.4em;\r\n  height: 1.4em;\r\n  top: 0.5em;\r\n  font-size: inherit;\r\n  flex-shrink: 0;\r\n}\r\n.b-slidetoggle input:checked + .b-slidetoggle-toggle {\r\n  opacity: 1;\r\n}\r\n.b-slidetoggle input:checked + .b-slidetoggle-toggle .b-slidetoggle-thumb {\r\n  background-color: #fff;\r\n  transform: translate(1.2em, 0.2em);\r\n}\r\n.b-slidetoggle .b-slidetoggle-toggle {\r\n  transition: background-color 0.2s, opacity 0.2s;\r\n  opacity: 0.7;\r\n  border-radius: 0.7em;\r\n  margin-right: 0.4em;\r\n}\r\n.b-slidetoggle:hover .b-slidetoggle-toggle {\r\n  opacity: 1;\r\n}\r\n.b-slidetoggle .b-slidetoggle-thumb {\r\n  height: 1em;\r\n  width: 1em;\r\n  background-color: white;\r\n  border-radius: 0.5em;\r\n  position: absolute;\r\n  transform: translate(0.2em, 0.2em);\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.b-slidetoggle-label {\r\n  cursor: pointer;\r\n}\r\n\r\n.b-slidetoggle.b-white input:checked + .b-slidetoggle-toggle {\r\n  background-color: #fff;\r\n}\r\n.b-slidetoggle.b-white .b-slidetoggle-toggle {\r\n  background-color: white;\r\n}\r\n\r\n.b-slidetoggle.b-blue input:checked + .b-slidetoggle-toggle {\r\n  background-color: #3183fe;\r\n}\r\n.b-slidetoggle.b-blue .b-slidetoggle-toggle {\r\n  background-color: #98c1ff;\r\n}\r\n\r\n.b-slidetoggle.b-deep-orange input:checked + .b-slidetoggle-toggle {\r\n  background-color: #ff5722;\r\n}\r\n.b-slidetoggle.b-deep-orange .b-slidetoggle-toggle {\r\n  background-color: #ffab91;\r\n}\r\n\r\n.b-slidetoggle.b-orange input:checked + .b-slidetoggle-toggle {\r\n  background-color: #feac31;\r\n}\r\n.b-slidetoggle.b-orange .b-slidetoggle-toggle {\r\n  background-color: #ffd698;\r\n}\r\n\r\n.b-slidetoggle.b-amber input:checked + .b-slidetoggle-toggle {\r\n  background-color: #ffc107;\r\n}\r\n.b-slidetoggle.b-amber .b-slidetoggle-toggle {\r\n  background-color: #ffe083;\r\n}\r\n\r\n.b-slidetoggle.b-indigo input:checked + .b-slidetoggle-toggle {\r\n  background-color: #4531fe;\r\n}\r\n.b-slidetoggle.b-indigo .b-slidetoggle-toggle {\r\n  background-color: #a298ff;\r\n}\r\n\r\n.b-slidetoggle.b-lime input:checked + .b-slidetoggle-toggle {\r\n  background-color: #83fe31;\r\n}\r\n.b-slidetoggle.b-lime .b-slidetoggle-toggle {\r\n  background-color: #c1ff98;\r\n}\r\n\r\n.b-slidetoggle.b-teal input:checked + .b-slidetoggle-toggle {\r\n  background-color: #31feac;\r\n}\r\n.b-slidetoggle.b-teal .b-slidetoggle-toggle {\r\n  background-color: #98ffd6;\r\n}\r\n\r\n.b-slidetoggle.b-green input:checked + .b-slidetoggle-toggle {\r\n  background-color: #27ca37;\r\n}\r\n.b-slidetoggle.b-green .b-slidetoggle-toggle {\r\n  background-color: #8dea96;\r\n}\r\n\r\n.b-slidetoggle.b-light-green input:checked + .b-slidetoggle-toggle {\r\n  background-color: #9efea7;\r\n}\r\n.b-slidetoggle.b-light-green .b-slidetoggle-toggle {\r\n  background-color: #ceffd3;\r\n}\r\n\r\n.b-slidetoggle.b-purple input:checked + .b-slidetoggle-toggle {\r\n  background-color: #fe31ea;\r\n}\r\n.b-slidetoggle.b-purple .b-slidetoggle-toggle {\r\n  background-color: #ff98f5;\r\n}\r\n\r\n.b-slidetoggle.b-yellow input:checked + .b-slidetoggle-toggle {\r\n  background-color: #ecfe26;\r\n}\r\n.b-slidetoggle.b-yellow .b-slidetoggle-toggle {\r\n  background-color: #f6ff92;\r\n}\r\n\r\n.b-slidetoggle.b-red input:checked + .b-slidetoggle-toggle {\r\n  background-color: #e53f2c;\r\n}\r\n.b-slidetoggle.b-red .b-slidetoggle-toggle {\r\n  background-color: #f39e95;\r\n}\r\n\r\n.b-slidetoggle.b-dark-gray input:checked + .b-slidetoggle-toggle {\r\n  background-color: #474849;\r\n}\r\n.b-slidetoggle.b-dark-gray .b-slidetoggle-toggle {\r\n  background-color: #9ea4a9;\r\n}\r\n\r\n.b-slidetoggle.b-gray input:checked + .b-slidetoggle-toggle {\r\n  background-color: #b0b0b7;\r\n}\r\n.b-slidetoggle.b-gray .b-slidetoggle-toggle {\r\n  background-color: #d6d6dd;\r\n}\r\n\r\n.b-slidetoggle.b-light-gray input:checked + .b-slidetoggle-toggle {\r\n  background-color: #e0e0e7;\r\n}\r\n.b-slidetoggle.b-light-gray .b-slidetoggle-toggle {\r\n  background-color: #efeff4;\r\n}\r\n\r\n.b-slidetoggle input:checked + .b-slidetoggle-toggle {\r\n  background-color: #787883;\r\n}\r\n.b-slidetoggle .b-slidetoggle-toggle {\r\n  background-color: #b8b8c4;\r\n}\r\n\r\n.b-splitter {\r\n  background-color: #e5e5e8;\r\n  flex: 0 0 0.5em;\r\n  position: relative;\r\n  touch-action: none;\r\n}\r\n@media (pointer: coarse) {\r\n  .b-splitter {\r\n    --splitter-inner-size: 2em;\r\n  }\r\n}\r\n@media (pointer: fine) {\r\n  .b-splitter {\r\n    --splitter-inner-size: 0;\r\n  }\r\n}\r\n.b-splitter.b-disabled {\r\n  flex: 0 0 1px;\r\n  pointer-events: none;\r\n}\r\n.b-splitter:not(.b-disabled) {\r\n  overflow: visible;\r\n}\r\n.b-splitter::after {\r\n  content: "";\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 1;\r\n}\r\n.b-splitter:hover::after, .b-splitter.b-moving::after {\r\n  background-color: #e5e5e8;\r\n}\r\n.b-splitter.b-horizontal {\r\n  cursor: ns-resize;\r\n  min-height: 0.5em;\r\n}\r\n.b-splitter.b-horizontal.b-disabled {\r\n  min-height: 1px;\r\n}\r\n.b-splitter.b-horizontal::after {\r\n  height: var(--splitter-inner-size);\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 100%;\r\n}\r\n.b-splitter.b-horizontal:hover::after, .b-splitter.b-horizontal.b-moving::after {\r\n  height: 13px;\r\n}\r\n.b-splitter.b-vertical {\r\n  cursor: ew-resize;\r\n  min-width: 0.5em;\r\n}\r\n.b-splitter.b-vertical.b-disabled {\r\n  min-width: 1px;\r\n}\r\n.b-splitter.b-vertical::after {\r\n  width: var(--splitter-inner-size);\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  height: 100%;\r\n}\r\n.b-splitter.b-vertical:hover::after, .b-splitter.b-vertical.b-moving::after {\r\n  width: 13px;\r\n}\r\n\r\n.b-timefield.b-open .b-icon-clock-live {\r\n  background-color: #feac31 !important;\r\n}\r\n.b-timefield.b-empty .b-fieldtrigger {\r\n  animation-delay: -300s;\r\n}\r\n.b-timefield.b-disabled .b-icon-clock-live, .b-timefield.b-readonly .b-icon-clock-live {\r\n  background-color: #e4e4e4;\r\n}\r\n.b-timefield:not(.b-disabled):not(.b-readonly) .b-icon-angle-left:hover,\r\n.b-timefield:not(.b-disabled):not(.b-readonly) .b-icon-angle-right:hover {\r\n  color: #feac31;\r\n}\r\n.b-timefield.b-no-steppers .b-step-trigger {\r\n  display: none;\r\n}\r\n\r\n.b-timepicker {\r\n  width: 20em;\r\n}\r\n.b-timepicker.b-24h {\r\n  width: 12.8em;\r\n}\r\n.b-timepicker .b-panel-content {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 0.3em;\r\n}\r\n.b-timepicker .b-panel-content .b-widget {\r\n  margin: 0.3em;\r\n}\r\n.b-timepicker .b-panel-content .b-widget.b-html {\r\n  margin: 0;\r\n}\r\n.b-timepicker .b-panel-content .b-widget label {\r\n  font-weight: bold;\r\n}\r\n.b-timepicker .b-panel-content .b-numberfield {\r\n  flex: 0 1 5.3em;\r\n}\r\n.b-timepicker .b-panel-content .b-button {\r\n  flex: 0 0 3em;\r\n  padding: 0;\r\n}\r\n.b-timepicker .b-panel-content .b-button label {\r\n  text-overflow: clip;\r\n}\r\n\r\n.b-ie.b-timepicker {\r\n  width: 25em;\r\n}\r\n.b-ie.b-timepicker.b-24h {\r\n  width: 13.8em;\r\n}\r\n.b-ie.b-timepicker .b-panel-content .b-button {\r\n  line-height: 3em;\r\n}\r\n\r\n@keyframes progress {\r\n  0% {\r\n    width: 0;\r\n  }\r\n  100% {\r\n    width: 100%;\r\n  }\r\n}\r\n.b-float-root > .b-floating.b-toast {\r\n  display: inline-block;\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  top: auto;\r\n  right: 2em;\r\n  left: auto;\r\n  max-width: 60%;\r\n  max-height: 60%;\r\n  transition: bottom 0.25s ease-in, transform 0.25s ease-in;\r\n  padding: 1em;\r\n  background-color: #f8f9fa;\r\n  color: #4f5964;\r\n  border-radius: 2px;\r\n  cursor: pointer;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-toast-hide {\r\n  bottom: 0 !important;\r\n  transform: translateY(100%) !important;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-icon:before {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.b-toast-progress {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 3px;\r\n  background: #feac31;\r\n  animation-name: progress;\r\n  animation-timing-function: linear;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-white {\r\n  background-color: #fff;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-white .b-toast-progress {\r\n  background: white;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-blue {\r\n  background-color: #3183fe;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-blue .b-toast-progress {\r\n  background: #83b5fe;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-deep-orange {\r\n  background-color: #ff5722;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-deep-orange .b-toast-progress {\r\n  background: #ff9a7a;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-orange {\r\n  background-color: #feac31;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-orange .b-toast-progress {\r\n  background: #fecd83;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-amber {\r\n  background-color: #ffc107;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-amber .b-toast-progress {\r\n  background: #ffda6a;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-indigo {\r\n  background-color: #4531fe;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-indigo .b-toast-progress {\r\n  background: #8f83fe;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-lime {\r\n  background-color: #83fe31;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-lime .b-toast-progress {\r\n  background: #b5fe83;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-teal {\r\n  background-color: #31feac;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-teal .b-toast-progress {\r\n  background: #83fecd;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-green {\r\n  background-color: #27ca37;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-green .b-toast-progress {\r\n  background: #78e582;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-light-green {\r\n  background-color: #9efea7;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-light-green .b-toast-progress {\r\n  background: #c5feca;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-purple {\r\n  background-color: #fe31ea;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-purple .b-toast-progress {\r\n  background: #fe83f2;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-yellow {\r\n  background-color: #ecfe26;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-yellow .b-toast-progress {\r\n  background: #f4fe7d;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-red {\r\n  background-color: #e53f2c;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-red .b-toast-progress {\r\n  background: #ef8c80;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-dark-gray {\r\n  background-color: #474849;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-dark-gray .b-toast-progress {\r\n  background: #909193;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-gray {\r\n  background-color: #b0b0b7;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-gray .b-toast-progress {\r\n  background: #d0d0d4;\r\n}\r\n\r\n.b-float-root > .b-floating.b-toast.b-light-gray {\r\n  background-color: #e0e0e7;\r\n  color: #fff;\r\n}\r\n.b-float-root > .b-floating.b-toast.b-light-gray .b-toast-progress {\r\n  background: #ececf1;\r\n}\r\n\r\n.b-tooltip {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n.b-tooltip .b-tooltip-loading .b-icon {\r\n  display: inline-block;\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.b-tooltip-content {\r\n  background: white;\r\n  color: #4f5964;\r\n  font-size: 1em;\r\n  line-height: 1.4em;\r\n  padding: 1em;\r\n}\r\n.b-tooltip-content a {\r\n  color: #4f5964;\r\n}\r\n\r\n.b-tooltip-header.b-dock-right .b-header-title,\r\n.b-tooltip-header.b-dock-left .b-header-title {\r\n  font-size: 1em;\r\n}\r\n\r\n.b-textareafield textarea {\r\n  padding: 0.8em;\r\n  align-self: stretch;\r\n}\r\n\r\n.b-textareafield-picker {\r\n  display: flex;\r\n}\r\n.b-textareafield-picker textarea {\r\n  flex: 1;\r\n  min-height: 10em;\r\n}\r\n.b-textareafield-picker textarea:focus {\r\n  outline: none;\r\n  border-color: rgba(254, 172, 49, 0.6);\r\n}\r\n\r\n.b-toolbar-overflow-menu > .b-panel-body-wrap > .b-menu-content .b-widget {\r\n  flex: 0 0 auto !important;\r\n  width: auto;\r\n}\r\n\r\n.b-toolbar {\r\n  background-color: #f3f4f5;\r\n  color: #4f5964;\r\n  flex-shrink: 0;\r\n}\r\n.b-toolbar.b-dock-header, .b-toolbar.b-dock-pre-header {\r\n  background-color: transparent;\r\n}\r\n.b-toolbar.b-dock-header .b-toolbar-content, .b-toolbar.b-dock-pre-header .b-toolbar-content {\r\n  padding: 0;\r\n}\r\n.b-toolbar.b-dock-header > .b-button, .b-toolbar.b-dock-pre-header > .b-button {\r\n  margin: 0;\r\n}\r\n.b-toolbar.b-dock-header .b-button, .b-toolbar.b-dock-pre-header .b-button {\r\n  min-height: auto;\r\n}\r\n.b-toolbar.b-dock-header {\r\n  margin-left: 1em;\r\n}\r\n.b-toolbar.b-dock-pre-header {\r\n  margin-right: 1em;\r\n}\r\n.b-toolbar > .b-tool {\r\n  align-self: center;\r\n  background-color: transparent;\r\n}\r\n.b-toolbar > .b-tool.b-pressed {\r\n  background-color: rgba(50, 50, 50, 0.2);\r\n}\r\n.b-toolbar .b-button:not(.b-text) {\r\n  flex-shrink: 0;\r\n}\r\n.b-toolbar .b-row-start-scroller {\r\n  margin: 0 0.6em 0 0;\r\n}\r\n.b-toolbar.b-dock-left .b-row-start-scroller {\r\n  margin: 0 0 0 0.6em;\r\n}\r\n.b-toolbar.b-dock-right .b-row-start-scroller {\r\n  margin: 0 0 0 0.6em;\r\n}\r\n.b-toolbar .b-row-end-scroller, .b-toolbar .b-row-menu {\r\n  margin: 0 0 0 0.6em;\r\n}\r\n.b-toolbar .b-column-start-scroller {\r\n  margin: 0 0 0.6em 0;\r\n}\r\n.b-toolbar .b-column-end-scroller, .b-toolbar .b-column-menu {\r\n  margin: 0.6em 0 0 0;\r\n}\r\n.b-toolbar > .b-overflow-button {\r\n  margin: 0.6em;\r\n}\r\n.b-toolbar .b-toolbar-content {\r\n  padding: 0.6em;\r\n  gap: 0.5em;\r\n}\r\n.b-toolbar .b-toolbar-content .b-field {\r\n  margin-bottom: 0;\r\n}\r\n.b-toolbar .b-toolbar-content > .b-toolbar-fill {\r\n  flex: 1 1 0%;\r\n}\r\n.b-toolbar .b-toolbar-content .b-html {\r\n  align-items: center;\r\n}\r\n.b-toolbar .b-toolbar-content .b-html code {\r\n  margin: 0 0.5em;\r\n}\r\n.b-toolbar .b-toolbar-content.b-overflow .b-field, .b-toolbar .b-toolbar-content.b-overflow .b-button {\r\n  flex-shrink: 0;\r\n}\r\n.b-panel-body-wrap.b-vbox:not(.b-grid-body-wrap):not(.b-taskboard-body-wrap):not(.b-calendar-body-wrap) > .b-toolbar .b-toolbar-content {\r\n  padding-left: 1em;\r\n  padding-right: 1em;\r\n}\r\n.b-toolbar.b-dock-top, .b-toolbar.b-dock-bottom {\r\n  min-height: 4.2em;\r\n}\r\n.b-toolbar.b-dock-top .b-toolbar-content > .b-toolbar-separator, .b-toolbar.b-dock-bottom .b-toolbar-content > .b-toolbar-separator {\r\n  margin: 0.2em 0.5em 0.2em 0;\r\n  border-style: solid;\r\n  border-width: 0 1px 0 1px;\r\n  border-left-color: #d7dbde;\r\n  border-right-color: #e5e7e9;\r\n}\r\n.b-toolbar.b-dock-top .b-toolbar-content > .b-widget:not(.b-button), .b-toolbar.b-dock-bottom .b-toolbar-content > .b-widget:not(.b-button) {\r\n  min-height: 0;\r\n}\r\n.b-toolbar.b-dock-top {\r\n  border-bottom: 1px solid #d8d9da;\r\n}\r\n.b-toolbar.b-dock-left, .b-toolbar.b-dock-right {\r\n  min-width: 4.2em;\r\n}\r\n.b-toolbar.b-dock-left .b-toolbar-content > .b-toolbar-separator, .b-toolbar.b-dock-right .b-toolbar-content > .b-toolbar-separator {\r\n  margin: 0 0.5em 0.2em 0.2em;\r\n  border-style: solid;\r\n  border-width: 1px 0 1px 0;\r\n  border-top-color: #d7dbde;\r\n  border-bottom-color: #e5e7e9;\r\n}\r\n.b-toolbar.b-dock-left .b-toolbar-content > .b-widget:not(.b-button), .b-toolbar.b-dock-right .b-toolbar-content > .b-widget:not(.b-button) {\r\n  min-width: 0;\r\n}\r\n\r\n.b-tabpanel .b-panel .b-toolbar {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-toolbar.b-outer {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.b-tabpanel-tabs {\r\n  display: flex;\r\n  flex: 0 0 auto;\r\n  flex-direction: row;\r\n  margin-bottom: 0;\r\n  background-color: transparent;\r\n}\r\n.b-tabpanel-tabs.b-edge {\r\n  margin-bottom: -1px;\r\n}\r\n.b-tabpanel-tab {\r\n  display: flex;\r\n  padding: 0.9em;\r\n  cursor: pointer;\r\n  transition: background-color 0.2s, color 0.2s;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 0.9em;\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n  color: #7b7b7b;\r\n  background-color: transparent;\r\n  border-width: 0;\r\n  border-style: solid;\r\n  border-color: transparent;\r\n  border-top-left-radius: 2px;\r\n  border-top-right-radius: 2px;\r\n}\r\n.b-tabpanel-tab.b-rotate-vertical {\r\n  min-width: auto;\r\n  min-height: 3em;\r\n}\r\n.b-tabpanel-tab:not(.b-rotate-vertical) {\r\n  min-height: auto;\r\n  min-width: 3em;\r\n}\r\n.b-tabpanel-tab.b-active {\r\n  background-color: #fff5e6;\r\n  border-color: #d0d1d2;\r\n  color: #3b3b3b;\r\n  z-index: 1;\r\n}\r\n.b-dock-left > .b-tabpanel-tabs > .b-tabpanel-tab {\r\n  border-width: 0 0 0 0;\r\n}\r\n.b-dock-right > .b-tabpanel-tabs > .b-tabpanel-tab {\r\n  border-width: 0 0 0 0;\r\n}\r\n.b-dock-bottom > .b-tabpanel-tabs > .b-tabpanel-tab {\r\n  border-width: 0 0 0 0;\r\n}\r\n.b-tabpanel-tab.b-hidden {\r\n  display: none !important;\r\n}\r\n.b-tabpanel-tab.b-disabled {\r\n  background-color: transparent;\r\n  color: rgba(123, 123, 123, 0.3);\r\n  border-color: rgba(0, 0, 0, 0);\r\n}\r\n.b-tabpanel-tab:focus {\r\n  outline: none;\r\n}\r\n.b-tabpanel-tab:hover:not(.b-active):not(.b-disabled), .b-tabpanel-tab:focus:not(.b-active):not(.b-disabled) {\r\n  background-color: #fff5e6;\r\n  color: #616161;\r\n}\r\n.b-tabpanel-body.b-card-container {\r\n  background-color: transparent;\r\n  border-radius: 2px;\r\n  border: 0 solid #d0d1d2;\r\n  flex: 1 0 auto;\r\n  padding: 1em 0;\r\n}\r\n.b-tabpanel[data-active-index="0"] .b-tabpanel-body {\r\n  border-top-left-radius: 0;\r\n}\r\n.b-tabpanel .b-html {\r\n  color: #4f5964;\r\n}\r\n\r\n.b-toolbar.b-tabbar {\r\n  background-color: transparent;\r\n  min-height: auto;\r\n}\r\n.b-toolbar.b-tabbar > .b-tabpanel-tabs {\r\n  padding: 0;\r\n}\r\n.b-toolbar.b-tabbar.b-dock-top {\r\n  border-bottom: 1px solid #feac31;\r\n}\r\n.b-toolbar.b-tabbar.b-dock-right {\r\n  border-left: 1px solid #feac31;\r\n}\r\n.b-toolbar.b-tabbar.b-dock-bottom {\r\n  border-top: 1px solid #feac31;\r\n}\r\n.b-toolbar.b-tabbar.b-dock-left {\r\n  border-right: 1px solid #feac31;\r\n}\r\n\r\n.b-tabbar.b-dock-top .b-tabpanel-tabs > .b-widget:not(.b-last-visible-child), .b-tabbar.b-dock-bottom .b-tabpanel-tabs > .b-widget:not(.b-last-visible-child), .b-tabbar.b-dock-left .b-tabpanel-tabs > .b-widget:not(.b-last-visible-child), .b-tabbar.b-dock-right .b-tabpanel-tabs > .b-widget:not(.b-last-visible-child) {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.b-histogram {\r\n  background-color: #fff;\r\n  padding: 1px;\r\n  contain: strict;\r\n}\r\n.b-histogram svg * {\r\n  vector-effect: non-scaling-stroke;\r\n}\r\n.b-histogram rect {\r\n  fill: #27ca37;\r\n  transition-property: x, y, width, height, fill;\r\n  transition-duration: 1000ms;\r\n}\r\n.b-histogram rect.b-exceeds-top {\r\n  fill: #e53f2c;\r\n}\r\n.b-histogram text.b-bar-legend {\r\n  writing-mode: tb;\r\n  text-anchor: end;\r\n  font-size: 75%;\r\n}\r\n.b-histogram svg {\r\n  overflow: visible;\r\n}\r\n.b-histogram path {\r\n  fill: transparent;\r\n  stroke: #f99;\r\n  transition: d 1000ms;\r\n  pointer-events: none;\r\n}\r\n\r\n.b-scale {\r\n  contain: strict;\r\n}\r\n.b-scale svg * {\r\n  vector-effect: non-scaling-stroke;\r\n}\r\n.b-scale.b-scale-vertical text.b-scale-tick-label {\r\n  transform: translateY(0.3em);\r\n}\r\n.b-scale.b-scale-vertical.b-align-right {\r\n  text-anchor: end;\r\n}\r\n.b-scale.b-scale-horizontal text.b-scale-tick-label {\r\n  text-anchor: middle;\r\n}\r\n.b-scale path {\r\n  stroke: #9c9c9c;\r\n  pointer-events: none;\r\n}\r\n.b-scale text {\r\n  fill: #808080;\r\n}\r\n\r\n.b-hbox,\r\n.b-vbox {\r\n  display: flex;\r\n  align-items: stretch;\r\n  justify-content: flex-start;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n.b-hbox > .b-box-center,\r\n.b-vbox > .b-box-center {\r\n  flex: 1 1 auto;\r\n}\r\n\r\n.b-hbox {\r\n  flex-flow: row nowrap;\r\n}\r\n\r\n.b-vbox {\r\n  flex-flow: column nowrap;\r\n}\r\n\r\n.b-card-container {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n  overflow: hidden;\r\n  padding: 0;\r\n  position: relative;\r\n}\r\n.b-card-container.b-animating {\r\n  overflow: hidden;\r\n}\r\n.b-card-container > .b-card-item {\r\n  flex: 1 0 100%;\r\n  align-items: stretch;\r\n  max-width: 100%;\r\n}\r\n.b-card-container.b-hide-child-headers > .b-panel:not(.b-positioned) > .b-panel-header {\r\n  display: none;\r\n}\r\n\r\n@keyframes b-card-slide-in-left {\r\n  0% {\r\n    transform: translateX(-100%);\r\n  }\r\n  100% {\r\n    transform: translateX(0);\r\n  }\r\n}\r\n@keyframes b-card-slide-out-right {\r\n  0% {\r\n    transform: translateX(-100%);\r\n  }\r\n  100% {\r\n    transform: translateX(0);\r\n  }\r\n}\r\n@keyframes b-card-slide-in-right {\r\n  0% {\r\n    transform: translateX(0);\r\n  }\r\n  100% {\r\n    transform: translateX(-100%);\r\n  }\r\n}\r\n@keyframes b-card-slide-out-left {\r\n  0% {\r\n    transform: translateX(0);\r\n  }\r\n  100% {\r\n    transform: translateX(-100%);\r\n  }\r\n}\r\n.b-slide-in-left {\r\n  animation: b-card-slide-in-left 0.3s ease 0s 1;\r\n}\r\n\r\n.b-slide-out-right {\r\n  pointer-events: none;\r\n  left: 1em;\r\n  animation: b-card-slide-out-right 0.3s ease 0s 1;\r\n}\r\n\r\n.b-slide-in-right {\r\n  animation: b-card-slide-in-right 0.3s ease 0s 1;\r\n}\r\n\r\n.b-slide-out-left {\r\n  pointer-events: none;\r\n  margin-left: -1em;\r\n  margin-right: 1em;\r\n  animation: b-card-slide-out-left 0.3s ease 0s 1;\r\n}\r\n\r\n.b-fit-container {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n.b-fit-container > .b-fit-item {\r\n  flex: 1 0 auto;\r\n  margin: 0;\r\n  max-width: 100%;\r\n}\r\n\r\n.b-edge .b-fit-container > .b-fit-item,\r\n.b-ie .b-fit-container > .b-fit-item {\r\n  flex: 1 0 auto;\r\n}\r\n\r\n.b-resource-avatar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 2.2em;\r\n  height: 2.2em;\r\n  border-radius: 50%;\r\n  flex-shrink: 0;\r\n}\r\n.b-resource-avatar.b-resource-icon:before {\r\n  font-size: 1.5em;\r\n}\r\n\r\n.b-resource-initials {\r\n  background: #3183fe;\r\n  color: #fff;\r\n  text-transform: uppercase;\r\n}\r\n\r\n.b-slidetoggle .b-slidetoggle-label,\r\n.b-checkbox .b-checkbox-label {\r\n  text-transform: uppercase;\r\n  font-size: 0.9em;\r\n}\r\n.b-slidetoggle .b-slidetoggle-label::before,\r\n.b-checkbox .b-checkbox-label::before {\r\n  font-size: 1.1111111111em;\r\n}\r\n\r\n.b-checkbox.b-blue label.b-checkbox-label:before {\r\n  color: transparent;\r\n  border-color: #d0d1d2;\r\n}\r\n.b-checkbox.b-blue input[type=checkbox]:checked + label.b-checkbox-label:before {\r\n  color: #3183fe;\r\n  background: #fff;\r\n  border-color: #d0d1d2;\r\n}\r\n.b-checkbox.b-blue.b-disabled label::before {\r\n  border-color: #d0d1d2;\r\n  background: #e8e9ea;\r\n}\r\n\r\n.b-checkbox.b-orange label.b-checkbox-label:before {\r\n  color: transparent;\r\n  border-color: #d0d1d2;\r\n}\r\n.b-checkbox.b-orange input[type=checkbox]:checked + label.b-checkbox-label:before {\r\n  color: #feac31;\r\n  background: #fff;\r\n  border-color: #d0d1d2;\r\n}\r\n.b-checkbox.b-orange.b-disabled label::before {\r\n  border-color: #d0d1d2;\r\n  background: #e8e9ea;\r\n}\r\n\r\n.b-popup > .b-panel-body-wrap > .b-bottom-toolbar {\r\n  background: #f8f9fa;\r\n}\r\n\r\n.b-icon-sort-asc:before {\r\n  content: "\\f062";\r\n}\r\n\r\n.b-icon-sort-desc:before {\r\n  content: "\\f063";\r\n}\r\n\r\n.b-icon-group-collapse:before {\r\n  content: "\\f068" !important;\r\n}\r\n\r\n.b-icon-group-expand:before {\r\n  content: "\\f067" !important;\r\n}\r\n\r\n.b-icon-column-move-left:before {\r\n  content: "\\f0a8";\r\n}\r\n\r\n.b-icon-column-move-right:before {\r\n  content: "\\f0a9";\r\n}\r\n\r\n.b-icon-hide-column:before {\r\n  content: "\\f057";\r\n}\r\n\r\n.b-icon-sort:before {\r\n  content: "\\f0dc";\r\n}\r\n\r\n.b-icon-sort-asc:before {\r\n  content: "\\f15e";\r\n}\r\n\r\n.b-icon-sort-desc:before {\r\n  content: "\\f15d";\r\n}\r\n\r\n.b-icon-sorted-asc:before {\r\n  content: "\\f062";\r\n}\r\n\r\n.b-icon-group-asc:before {\r\n  content: "\\f885";\r\n}\r\n\r\n.b-icon-group-desc:before {\r\n  content: "\\f160";\r\n}\r\n\r\n.b-icon-group-collapse:before {\r\n  content: "\\f056";\r\n}\r\n\r\n.b-icon-group-expand:before {\r\n  content: "\\f055";\r\n}\r\n\r\n.b-icon-grouped-asc:before {\r\n  content: "\\f012";\r\n}\r\n\r\n.b-icon-tree-expand:before {\r\n  content: "\\f105";\r\n}\r\n\r\n.b-icon-tree-collapse:before {\r\n  content: "\\f107";\r\n}\r\n\r\n.b-icon-tree-folder:before {\r\n  content: "\\f07b";\r\n}\r\n\r\n.b-icon-tree-folder-open:before {\r\n  content: "\\f07c";\r\n}\r\n\r\n.b-icon-tree-leaf:before {\r\n  content: "\\f111";\r\n}\r\n\r\n.b-icon-expand-gridregion:before {\r\n  content: "\\f0da";\r\n}\r\n\r\n.b-icon-collapse-gridregion:before {\r\n  content: "\\f0d9";\r\n}\r\n\r\n.b-grid.b-readonly.b-actioncolumn-readonly .b-action-cell {\r\n  filter: grayscale(1);\r\n  opacity: 0.2;\r\n  pointer-events: none;\r\n}\r\n\r\n.b-action-cell {\r\n  text-align: end;\r\n}\r\n\r\n.b-actions-ct {\r\n  width: 100%;\r\n}\r\n\r\n.b-action-item {\r\n  width: 1.3em;\r\n  margin: 0 0.15em;\r\n  text-align: center;\r\n  font-size: 1.2em;\r\n  cursor: pointer;\r\n  color: #4d4d4d;\r\n}\r\n\r\n.b-action-cell.b-grid-cell .b-action-item {\r\n  transition: all 0.15s ease-in-out;\r\n}\r\n\r\n.b-action-item:hover {\r\n  transform: scale3d(1.2, 1.2, 1);\r\n  color: #feac31;\r\n}\r\n\r\n.b-check-cell .b-checkbox label.b-checkbox-label:before {\r\n  margin-right: 0;\r\n}\r\n\r\n.b-check-header-with-checkbox .b-grid-header-text {\r\n  display: none;\r\n}\r\n.b-check-header-with-checkbox .b-field-inner {\r\n  justify-content: center;\r\n}\r\n.b-check-header-with-checkbox .b-checkbox-label:before {\r\n  margin: 0 !important;\r\n}\r\n\r\n.b-percent-bar-outer {\r\n  flex: 1;\r\n  height: 30%;\r\n  max-height: 0.8em;\r\n  background: #f1f1f1;\r\n}\r\n\r\n.b-percent-bar {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  height: 100%;\r\n  max-width: 100%;\r\n  padding: 0 0.2em;\r\n  background: #27ca37;\r\n  color: #fff;\r\n  font-size: 0.7em;\r\n  text-align: right;\r\n  transition: width 0.5s, padding 0.5s, background-color 0.5s;\r\n}\r\n.b-percent-bar.b-zero {\r\n  padding: 0;\r\n  text-indent: 0.2em;\r\n}\r\n.b-percent-bar.b-low {\r\n  background: #e53f2c;\r\n  color: #4f5964;\r\n}\r\n.b-percent-bar.b-low span {\r\n  left: 100%;\r\n  margin: 0 0 0 5px;\r\n}\r\n.b-percent-bar span {\r\n  position: relative;\r\n  display: inline-block;\r\n  margin: 0 5px 0 0;\r\n  line-height: 1em;\r\n}\r\n\r\n.b-grid-body-container.b-scrolling .b-percent-bar {\r\n  transition: none;\r\n}\r\n\r\n.b-rating-cell .b-icon {\r\n  font-size: 1.8em;\r\n}\r\n.b-rating-cell .b-empty {\r\n  color: rgba(224, 224, 231, 0.3);\r\n}\r\n.b-rating-cell .b-filled {\r\n  color: #ffce3a;\r\n}\r\n\r\n.b-gridbase:not(.b-readonly) .b-rating-cell-inner:not(.b-not-editable) .b-icon {\r\n  cursor: pointer;\r\n  transition: all 0.2s linear;\r\n  position: relative;\r\n}\r\n.b-gridbase:not(.b-readonly) .b-rating-cell-inner:not(.b-not-editable):hover .b-icon {\r\n  color: #ffce3a;\r\n}\r\n.b-gridbase:not(.b-readonly) .b-rating-cell-inner:not(.b-not-editable):hover .b-icon.b-empty::before {\r\n  opacity: 0.4;\r\n}\r\n.b-gridbase:not(.b-readonly) .b-rating-cell-inner:not(.b-not-editable) .b-icon:hover {\r\n  transform: scale(1.3);\r\n}\r\n.b-gridbase:not(.b-readonly) .b-rating-cell-inner:not(.b-not-editable) .b-icon:hover.b-filled {\r\n  opacity: 1;\r\n}\r\n.b-gridbase:not(.b-readonly) .b-rating-cell-inner:not(.b-not-editable) .b-icon:hover:hover ~ .b-icon::before {\r\n  color: rgba(224, 224, 231, 0.3);\r\n  opacity: 1;\r\n}\r\n\r\n.b-grid-body-container.b-scrolling .b-rating-cell-inner .b-icon {\r\n  transition: none;\r\n}\r\n\r\n.b-grid-cell.b-row-number-cell {\r\n  background-color: #f1f1f1;\r\n  border-right: 1px solid #e9eaeb;\r\n}\r\n\r\n.b-grid-row.b-hover .b-grid-cell.b-row-number-cell:hover {\r\n  border-right: 1px solid #e9eaeb;\r\n}\r\n\r\n.b-group-row .b-grid-cell.b-row-number-cell:first-child {\r\n  border-right: 1px solid #e9eaeb;\r\n}\r\n\r\n.b-gridbase:focus .b-grid-row.b-selected .b-grid-cell.b-row-number-cell.b-selected {\r\n  border-right: 1px solid #e9eaeb;\r\n}\r\n\r\n.b-tree-expander {\r\n  position: relative;\r\n  top: 1px;\r\n  margin: 0 0.55em;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.b-loading-children .b-tree-expander .b-icon:before {\r\n  content: "\\f110";\r\n  animation: spin 2s infinite linear;\r\n}\r\n\r\n.b-grid-cell.b-tree-cell {\r\n  align-items: stretch;\r\n}\r\n\r\n.b-tree-leaf-cell .b-tree-cell-inner:before {\r\n  font-family: "Font Awesome 5 Free", FontAwesome5Free;\r\n  font-weight: 900;\r\n  color: #adaeaf;\r\n  margin-right: 0.6em;\r\n  width: 1.25em;\r\n  min-width: 1.25em;\r\n  text-align: center;\r\n}\r\n\r\n.b-tree-icon,\r\n.b-icon-tree-leaf,\r\n.b-icon-tree-folder,\r\n.b-icon-tree-folder-open,\r\n.b-icon-tree-expand,\r\n.b-icon-tree-collapse {\r\n  color: #adaeaf;\r\n  width: 1.25em;\r\n  min-width: 1.25em;\r\n  text-align: center;\r\n}\r\n\r\n.b-tree-icon,\r\n.b-icon-tree-leaf,\r\n.b-icon-tree-folder,\r\n.b-icon-tree-folder-open {\r\n  margin-right: 0.6em;\r\n}\r\n\r\n.b-icon-tree-leaf:before {\r\n  font-size: 0.3em;\r\n  vertical-align: middle;\r\n}\r\n\r\n.b-icon-tree-folder:before,\r\n.b-icon-tree-folder-open:before {\r\n  margin-left: 0.1em;\r\n}\r\n\r\n.b-icon-tree-expand.b-empty-parent,\r\n.b-icon-tree-collapse.b-empty-parent {\r\n  visibility: hidden;\r\n}\r\n.b-icon-tree-expand:before,\r\n.b-icon-tree-collapse:before {\r\n  font-size: 1.2em;\r\n}\r\n\r\n.b-tree-cell-inner {\r\n  padding: 0.5em 0;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-shrink: 0;\r\n  flex-grow: 1;\r\n}\r\n\r\na.b-tree-cell-inner {\r\n  text-decoration: none;\r\n}\r\na.b-tree-cell-inner:hover .b-tree-cell-value {\r\n  text-decoration: underline;\r\n}\r\n\r\n.b-tree-parent-cell,\r\n.b-tree-leaf-cell {\r\n  padding-left: 10px;\r\n}\r\n\r\n.b-tree-cell.b-tree-parent-cell {\r\n  font-weight: 600;\r\n  color: #797b7d;\r\n}\r\n\r\n.b-tree-cell-value {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n\r\n.b-touch .b-tree-expander {\r\n  width: 1.1em;\r\n}\r\n.b-touch .b-icon-tree-expand:before,\r\n.b-touch .b-icon-tree-collapse:before {\r\n  font-size: 1.8em;\r\n}\r\n.b-touch .b-icon-tree-leaf:before {\r\n  font-size: 0.6em;\r\n}\r\n.b-touch .b-tree-icon,\r\n.b-touch .b-tree-leaf-cell:not(.b-tree-parent-cell):before {\r\n  font-size: 1.2em;\r\n}\r\n\r\n.b-cell-editor {\r\n  position: absolute;\r\n  background-color: transparent;\r\n  border-width: 0;\r\n  border-style: solid;\r\n  box-shadow: none !important;\r\n  z-index: 1;\r\n  /*transition: left 0.1s, top 0.1s;*/\r\n}\r\n.b-cell-editor > .b-widget {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.b-cell-editor .b-numberfield,\r\n.b-cell-editor .b-textfield {\r\n  align-items: stretch;\r\n}\r\n.b-cell-editor .b-numberfield:not(.b-has-start-trigger) .b-field-inner,\r\n.b-cell-editor .b-textfield:not(.b-has-start-trigger) .b-field-inner {\r\n  padding-left: 0;\r\n}\r\n.b-cell-editor .b-numberfield input,\r\n.b-cell-editor .b-textfield input {\r\n  padding: 0.8em calc(0.5em - 1px);\r\n}\r\n\r\n.b-cell-editor-hidden {\r\n  display: none;\r\n}\r\n\r\n.b-grid-row .b-grid-cell.b-focused.b-editing:after {\r\n  display: none;\r\n}\r\n\r\n.b-celltooltip-tip {\r\n  max-height: 50%;\r\n}\r\n\r\n.b-columndragtoolbar {\r\n  position: absolute;\r\n  top: calc(100% - 3em);\r\n  left: 50%;\r\n  z-index: 100;\r\n  animation-name: b-show-columndragtoolbar;\r\n  animation-duration: 0.2s;\r\n  transform: translateX(-50%);\r\n  display: inline-flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 1em;\r\n  background: #f8f9fa;\r\n  transition: opacity 0.2s, top 0.2s;\r\n  box-shadow: none;\r\n  padding: 1em 1em 0.5em 1em;\r\n  opacity: 0.4;\r\n  font-size: 0.8em;\r\n}\r\n.b-columndragtoolbar.b-closer {\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.b-columndragtoolbar.b-hover {\r\n  opacity: 0.8;\r\n}\r\n.b-columndragtoolbar.b-remove {\r\n  animation-name: b-hide-columndragtoolbar;\r\n  animation-duration: 0.2s;\r\n  top: 100%;\r\n  opacity: 0;\r\n}\r\n.b-columndragtoolbar.b-remove.b-closer {\r\n  animation-name: b-hide-columndragtoolbar-closer;\r\n}\r\n.b-columndragtoolbar > .b-title {\r\n  color: #fff;\r\n  flex-basis: 100%;\r\n  margin-bottom: 1em;\r\n  text-align: center;\r\n}\r\n.b-columndragtoolbar > .b-title:before {\r\n  content: "Drag header downwards";\r\n}\r\n.b-columndragtoolbar.b-closer > .b-title:before {\r\n  content: "Drop header on a button";\r\n}\r\n.b-columndragtoolbar .b-group {\r\n  display: inline-flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-right: 1.5em;\r\n}\r\n.b-columndragtoolbar .b-group:last-child {\r\n  margin-right: 0;\r\n}\r\n.b-columndragtoolbar .b-group .b-title {\r\n  color: #fff;\r\n  margin-top: 0.5em;\r\n  margin-bottom: 0.5em;\r\n}\r\n.b-columndragtoolbar .b-buttons {\r\n  display: inline-flex;\r\n  flex-direction: row;\r\n}\r\n.b-columndragtoolbar .b-target-button {\r\n  display: inline-flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  transition: all 0.2s;\r\n  color: #4f5964;\r\n  border: 0.3em solid #feac31;\r\n  border-radius: 1em;\r\n  background: transparent;\r\n  padding: 1em 0;\r\n  width: 7em;\r\n  margin-right: 0.5em;\r\n  box-shadow: none;\r\n}\r\n.b-columndragtoolbar .b-target-button:last-child {\r\n  margin-right: 0;\r\n}\r\n.b-columndragtoolbar .b-target-button i {\r\n  font-size: 2.5em;\r\n  color: #feac31;\r\n  pointer-events: none;\r\n  transition: all 0.2s;\r\n}\r\n.b-columndragtoolbar .b-target-button.b-hover:not([data-disabled=true]) {\r\n  background-color: #feac31;\r\n  color: #fff;\r\n  box-shadow: none;\r\n}\r\n.b-columndragtoolbar .b-target-button.b-hover:not([data-disabled=true]) i {\r\n  transform: scale(1.1);\r\n  color: #fff;\r\n}\r\n.b-columndragtoolbar .b-target-button.b-activate i {\r\n  transform: scale(1.1) rotate(180deg) !important;\r\n}\r\n.b-columndragtoolbar .b-target-button[data-button-id^=group] {\r\n  border-color: #3183fe;\r\n  background-color: transparent;\r\n}\r\n.b-columndragtoolbar .b-target-button[data-button-id^=group] i {\r\n  color: #3183fe;\r\n}\r\n.b-columndragtoolbar .b-target-button[data-button-id^=group].b-hover:not([data-disabled=true]) {\r\n  background-color: #3183fe;\r\n}\r\n.b-columndragtoolbar .b-target-button[data-button-id^=group].b-hover:not([data-disabled=true]) i {\r\n  color: #fff;\r\n}\r\n.b-columndragtoolbar .b-target-button[data-button-id^=multisort] {\r\n  border-color: #fb9701;\r\n}\r\n.b-columndragtoolbar .b-target-button[data-button-id^=multisort] i {\r\n  color: #fb9701;\r\n}\r\n.b-columndragtoolbar .b-target-button[data-button-id^=multisort].b-hover:not([data-disabled=true]) {\r\n  background-color: #fb9701;\r\n}\r\n.b-columndragtoolbar .b-target-button[data-button-id^=multisort].b-hover:not([data-disabled=true]) i {\r\n  color: #fff;\r\n}\r\n.b-columndragtoolbar .b-target-button[data-disabled=true] {\r\n  opacity: 0.5;\r\n}\r\n\r\n@keyframes b-show-columndragtoolbar {\r\n  from {\r\n    top: 100%;\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    top: calc(100% - 3em);\r\n    opacity: 0.4;\r\n  }\r\n}\r\n@keyframes b-hide-columndragtoolbar {\r\n  from {\r\n    top: calc(100% - 3em);\r\n    opacity: 0.4;\r\n  }\r\n  to {\r\n    top: 100%;\r\n    opacity: 0;\r\n  }\r\n}\r\n@keyframes b-hide-columndragtoolbar-closer {\r\n  from {\r\n    top: 50%;\r\n    opacity: 0.4;\r\n  }\r\n  to {\r\n    top: 100%;\r\n    opacity: 0;\r\n  }\r\n}\r\n.b-grid-header.b-drag-proxy {\r\n  line-height: normal;\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  background-color: #f3f4f5;\r\n  border: 1px solid #d8d9da;\r\n  transition: background-color 0.3s;\r\n}\r\n.b-grid-header.b-drag-proxy .b-grid-header-text {\r\n  padding: 5px;\r\n}\r\n.b-grid-header.b-drop-placeholder {\r\n  opacity: 0.3;\r\n}\r\n.b-grid-header.b-drag-invalid {\r\n  color: #e53f2c;\r\n  border: 1px solid #e53f2c;\r\n}\r\n\r\n.b-gridbase.b-columnresize .b-grid-header.b-resize-handle {\r\n  cursor: ew-resize !important;\r\n}\r\n.b-gridbase.b-columnresize .b-grid-header.b-resizing {\r\n  background: white;\r\n}\r\n.b-gridbase.b-columnresize.b-sort {\r\n  /*.b-grid-header.b-resizing:hover:not(.b-sort):after {\r\n          display: none;\r\n      }*/\r\n}\r\n.b-gridbase.b-columnresize.b-sort .b-grid-header.b-resizing:not(.b-filter) .b-filter-icon,\r\n.b-gridbase.b-columnresize.b-sort .b-grid-header.b-over-resize-handle:not(.b-filter) .b-filter-icon,\r\n.b-gridbase.b-columnresize.b-sort .b-grid-header.b-resizing:not(.b-sort):after,\r\n.b-gridbase.b-columnresize.b-sort .b-grid-header.b-over-resize-handle:hover:not(.b-sort):after {\r\n  display: none;\r\n}\r\n.b-gridbase.b-columnresize.b-touch.b-column-resizing .b-grid-header.b-resizing {\r\n  overflow: visible;\r\n  z-index: 100;\r\n}\r\n.b-gridbase.b-columnresize.b-touch.b-column-resizing .b-grid-header.b-resizing::before {\r\n  content: "\\f337";\r\n  font-size: 1.5em;\r\n  color: #fff;\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateX(50%) translateY(-50%);\r\n  right: 0;\r\n  z-index: 101;\r\n  border-radius: 100%;\r\n  background-color: #d8d9da;\r\n  pointer-events: none;\r\n  padding: 0.5em;\r\n}\r\n.b-gridbase.b-columnresize.b-touch.b-column-resizing .b-grid-header:not(.b-resizing) {\r\n  z-index: 1;\r\n}\r\n\r\n.b-context-menu {\r\n  min-width: 14em;\r\n}\r\n\r\n@keyframes b-filter-icon-color {\r\n  0% {\r\n    color: #b0b0b7;\r\n  }\r\n  50% {\r\n    color: #3183fe;\r\n  }\r\n  100% {\r\n    color: #b0b0b7;\r\n  }\r\n}\r\n.b-grid-header .b-filter-icon {\r\n  display: none;\r\n  cursor: pointer;\r\n  transition: opacity 0.2s;\r\n}\r\n.b-grid-header .b-filter-icon::after {\r\n  font-family: "Font Awesome 5 Free", FontAwesome5Free;\r\n  font-weight: 900;\r\n  font-size: 0.8em;\r\n  color: #e5e7e9;\r\n  margin-left: 0.5em;\r\n  transition: transform 0.3s, color 0.2s;\r\n  transform: none;\r\n  background: inherit;\r\n  /* Transparent bg will look bad if there is text under the icon */\r\n  content: "\\f0b0";\r\n}\r\n.b-grid-header .b-filter-icon:hover::after {\r\n  color: #b0b0b7;\r\n}\r\n\r\n.b-gridbase:not(.b-filter) .b-filter-icon {\r\n  opacity: 0.2;\r\n  pointer-events: none;\r\n}\r\n\r\n.b-gridbase:not(.b-column-resizing) .b-grid-header-container:not(.b-dragging-header) .b-grid-header.b-filterable:hover > .b-grid-header-text > .b-filter-icon {\r\n  display: flex;\r\n}\r\n\r\n.b-grid-header.b-filter .b-grid-header-text {\r\n  font-weight: 700;\r\n  color: #666;\r\n}\r\n.b-grid-header.b-filter .b-filter-icon {\r\n  display: flex;\r\n}\r\n.b-grid-header.b-filter .b-filter-icon::after {\r\n  color: #b0b0b7;\r\n}\r\n.b-grid-header.b-filter .b-filter-icon.b-latest::after {\r\n  animation-name: b-filter-icon-color;\r\n  animation-duration: 0.75s;\r\n}\r\n\r\n.b-filter-popup .b-field {\r\n  width: 15em;\r\n}\r\n\r\n.b-filter-bar-field {\r\n  margin: 0 0 0.5em 0;\r\n  width: 100%;\r\n}\r\n\r\n.b-filter-bar-compact .b-grid-header.b-filter-bar-enabled {\r\n  flex-direction: row;\r\n}\r\n.b-filter-bar-compact .b-grid-header.b-filter-bar-enabled .b-grid-header-text {\r\n  padding: 0.25em 0;\r\n  width: 2em;\r\n  order: 1;\r\n  margin-right: -0.5em;\r\n}\r\n.b-filter-bar-compact .b-grid-header.b-filter-bar-enabled .b-grid-header-text .b-grid-header-text-content {\r\n  display: none;\r\n}\r\n.b-filter-bar-compact .b-filter-bar-field {\r\n  margin: 0;\r\n}\r\n.b-filter-bar-compact .b-filter-bar-field .b-field-inner {\r\n  background-color: transparent;\r\n  border: none;\r\n}\r\n.b-filter-bar-compact .b-filter-bar-field .b-field-inner::before {\r\n  display: none;\r\n}\r\n.b-filter-bar-compact .b-filter-bar-field .b-field-inner input {\r\n  padding: 0.8em 0;\r\n}\r\n.b-filter-bar-compact .b-filter-bar-field .b-field-inner input::placeholder {\r\n  color: #667280;\r\n  text-transform: uppercase;\r\n  font-size: 0.9em;\r\n  font-weight: 500;\r\n}\r\n.b-filter-bar-compact .b-filter-bar-field .b-fieldtrigger {\r\n  display: none;\r\n}\r\n.b-filter-bar-compact .b-filter-bar-field:focus-within:not(.b-empty) .b-icon-remove, .b-filter-bar-compact .b-filter-bar-field:focus-within .b-fieldtrigger:not(.b-step-trigger):not(.b-icon-remove):not(.b-spintrigger) {\r\n  display: inline-flex;\r\n}\r\n.b-filter-bar-compact .b-filter-bar-field .b-fieldtrigger.b-align-end {\r\n  padding: 0;\r\n}\r\n.b-filter-bar-compact .b-filter-bar-field.b-uses-chipview:not(.b-empty) input {\r\n  margin-left: 0.5em;\r\n  margin-top: -0.25em;\r\n}\r\n.b-filter-bar-compact .b-filter-bar-field.b-uses-chipview:not(.b-empty) input::placeholder {\r\n  color: transparent;\r\n}\r\n.b-filter-bar-compact .b-filter-bar-field.b-uses-chipview:not(.b-empty) .b-chip {\r\n  font-size: 0.9em;\r\n}\r\n.b-filter-bar-compact .b-filter-bar-field.b-uses-chipview:not(.b-empty) .b-chip[data-index="0"] {\r\n  margin-left: 0;\r\n}\r\n\r\n.b-group-summary .b-grid-group-collapsed.b-header-summary .b-grid-cell.b-group-title {\r\n  overflow: hidden;\r\n}\r\n.b-group-summary .b-grid-row.b-group-footer .b-grid-cell {\r\n  border-right-color: transparent;\r\n  background-color: #fffbf5;\r\n}\r\n.b-group-summary .b-grid-row.b-group-footer td {\r\n  padding: 0.25em 0;\r\n}\r\n.b-group-summary .b-grid-row.b-group-footer .b-grid-summary-label {\r\n  padding-right: 1em;\r\n}\r\n.b-group-summary .b-grid-row.b-group-footer .b-grid-summary-value {\r\n  width: 100%;\r\n}\r\n\r\n.b-export {\r\n  overflow: hidden;\r\n}\r\n.b-export .b-export-content {\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n.b-export .b-export-body {\r\n  flex: 1;\r\n}\r\n.b-export .b-grid-header-container {\r\n  margin-right: 0 !important;\r\n  border-right: none !important;\r\n}\r\n.b-export .b-grid-body-container.b-widget-scroller {\r\n  overflow-y: hidden !important;\r\n}\r\n.b-export .b-grid-footer-container {\r\n  padding-right: 0 !important;\r\n}\r\n.b-export .b-virtual-scrollers {\r\n  display: none;\r\n}\r\n.b-export.b-visible-scrollbar .b-show-yscroll-padding > .b-yscroll-pad {\r\n  display: none;\r\n}\r\n.b-export.b-multipage .b-export-content {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.b-export.b-multipage .b-export-body {\r\n  overflow: hidden;\r\n}\r\n\r\n.b-quick-hit-cell {\r\n  background: #f5fe8c;\r\n}\r\n\r\n.b-quick-hit-text {\r\n  font-weight: 400;\r\n  background: #f5fe8c;\r\n}\r\n\r\n.b-quick-hit-text {\r\n  padding: 0.3em 0;\r\n}\r\n\r\n.b-quick-hit-header {\r\n  position: absolute;\r\n  top: 0.3em;\r\n  left: 0.3em;\r\n  bottom: 0.3em;\r\n  right: 0.3em;\r\n  z-index: 1;\r\n}\r\n.b-quick-hit-header.b-quick-hit-mode-grid {\r\n  bottom: auto;\r\n  height: 3em;\r\n  z-index: 100;\r\n  opacity: 0.75;\r\n}\r\n\r\n.b-quick-hit-field {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  padding: 7px 0;\r\n  background: #f5fe8c;\r\n}\r\n\r\n.b-quick-hit-cell-badge,\r\n.b-quick-hit-header .b-quick-hit-badge {\r\n  position: absolute;\r\n  top: 0.4em;\r\n  right: 0.4em;\r\n  font-size: 0.7em;\r\n  line-height: 0.7em;\r\n}\r\n\r\n.b-quick-hit-header .b-quick-hit-badge {\r\n  color: #7f8a01;\r\n}\r\n\r\n.b-quick-hit-cell-badge {\r\n  color: #7f8a01;\r\n}\r\n\r\n.b-grid-splitter {\r\n  z-index: 5;\r\n  position: relative;\r\n  background: #bec0c1;\r\n  flex: 0 0 1px;\r\n}\r\n.b-grid-splitter .b-grid-splitter-inner {\r\n  display: none;\r\n  width: 0.5em;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n.b-grid-splitter:not(.b-grid-splitter-collapsed) .b-grid-splitter-inner {\r\n  cursor: col-resize;\r\n}\r\n@media (pointer: coarse) {\r\n  .b-grid-splitter .b-grid-splitter-inner {\r\n    left: calc((2em - 0.5em) / -2);\r\n    width: 2em;\r\n  }\r\n}\r\n\r\n.b-grid-splitter-buttons {\r\n  display: none;\r\n  position: absolute;\r\n  margin-top: -1em;\r\n  height: 2em;\r\n}\r\n.b-grid-splitter-buttons .b-icon {\r\n  position: absolute;\r\n  top: 0;\r\n  width: 0.55em;\r\n  background: #e9eaeb;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.b-grid-splitter-buttons .b-icon.b-icon-collapse-gridregion {\r\n  left: -0.55em;\r\n  border-radius: 1em 0 0 1em;\r\n}\r\n.b-grid-splitter-buttons .b-icon.b-icon-expand-gridregion {\r\n  right: -0.55em;\r\n  border-radius: 0 1em 1em 0;\r\n}\r\n\r\n.b-grid-splitter-collapsed .b-grid-splitter-buttons {\r\n  display: block;\r\n}\r\n\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled) {\r\n  flex: 0 0 0.5em;\r\n  background: #e9eaeb;\r\n}\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled) .b-grid-splitter-inner {\r\n  display: flex;\r\n}\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled).b-grid-splitter-collapsed {\r\n  cursor: initial;\r\n  flex: 0 0 10px;\r\n}\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled).b-grid-splitter-collapsed .b-grid-splitter-inner {\r\n  background: #e9eaeb;\r\n  width: 10px;\r\n}\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled).b-grid-splitter-collapsed:not(.b-grid-splitter-allow-collapse) .b-icon-collapse-gridregion, .b-gridbase.b-split .b-grid-splitter:not(.b-disabled).b-grid-splitter-collapsed.b-grid-splitter-allow-collapse .b-icon-expand-gridregion {\r\n  display: none;\r\n}\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled).b-left-only:not(.b-grid-splitter-collapsed) .b-icon.b-icon-expand-gridregion {\r\n  display: none;\r\n}\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled).b-right-only:not(.b-grid-splitter-collapsed) .b-icon.b-icon-collapse-gridregion {\r\n  display: none;\r\n}\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled) .b-icon {\r\n  cursor: pointer;\r\n  color: #7b7b86;\r\n  font-size: 2em;\r\n  padding: 0.05em;\r\n}\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled) .b-icon:hover {\r\n  color: #3183fe;\r\n}\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled):hover, .b-gridbase.b-split .b-grid-splitter:not(.b-disabled).b-moving {\r\n  overflow: visible;\r\n}\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled):hover .b-grid-splitter-inner, .b-gridbase.b-split .b-grid-splitter:not(.b-disabled).b-moving .b-grid-splitter-inner {\r\n  background: #e9eaeb;\r\n  left: calc((13px - 0.5em) / -2);\r\n  width: 13px;\r\n}\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled):hover .b-grid-splitter-buttons, .b-gridbase.b-split .b-grid-splitter:not(.b-disabled).b-moving .b-grid-splitter-buttons {\r\n  display: block;\r\n}\r\n.b-gridbase.b-split .b-grid-splitter:not(.b-disabled).b-grid-splitter-collapsed:nth-child(2):hover:not(.b-moving) .b-grid-splitter-inner {\r\n  left: 0;\r\n}\r\n\r\n.b-grid-header-scroller.b-collapsed,\r\n.b-grid-footer-scroller.b-collapsed,\r\n.b-virtual-scroller.b-collapsed {\r\n  width: 0;\r\n}\r\n\r\n.b-touch .b-splitter-scroller,\r\n.b-touch .b-icon-expand-gridregion,\r\n.b-touch .b-icon-collapse-gridregion {\r\n  display: none;\r\n}\r\n.b-touch .b-moving .b-grid-splitter-inner {\r\n  width: 2em;\r\n}\r\n.b-touch .b-moving .b-grid-splitter-buttons,\r\n.b-touch .b-moving .b-icon-expand-gridregion,\r\n.b-touch .b-moving .b-icon-collapse-gridregion {\r\n  display: flex;\r\n}\r\n.b-touch .b-moving .b-icon {\r\n  display: block !important;\r\n}\r\n\r\n.b-draghelper-active .b-gridbase.b-split .b-grid-splitter {\r\n  cursor: initial;\r\n  flex: 0 0 0.5em !important;\r\n  transform: none !important;\r\n}\r\n.b-draghelper-active .b-gridbase.b-split .b-grid-splitter .b-icon {\r\n  display: none !important;\r\n}\r\n.b-draghelper-active .b-gridbase.b-split .b-grid-splitter .b-grid-splitter-inner {\r\n  width: 0.5em !important;\r\n}\r\n\r\n.b-row-drop-indicator {\r\n  display: none;\r\n  pointer-events: none;\r\n}\r\n\r\n.b-row-reordering .b-row-drop-indicator {\r\n  position: absolute;\r\n  display: block;\r\n  left: 0;\r\n  top: -1px;\r\n  width: 100%;\r\n  height: 2px;\r\n  background-color: #feac31;\r\n  z-index: 2000;\r\n}\r\n.b-row-reordering .b-drag-proxy.b-dragging {\r\n  transition: margin-top 0.2s, opacity 0.2s;\r\n  margin-top: 5em;\r\n  background: transparent;\r\n  opacity: 1;\r\n}\r\n.b-row-reordering .b-drag-proxy.b-dragging .b-grid-row, .b-row-reordering .b-drag-proxy.b-dragging .b-row-dragging-multiple {\r\n  transition: transform 0.2s, background-color 0.2s;\r\n  box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.2);\r\n  transform: scale(0.8);\r\n  background: #fff;\r\n}\r\n.b-row-reordering .b-drag-proxy.b-dragging .b-row-dragging-multiple {\r\n  top: -0.3em;\r\n  left: 0.3em;\r\n  z-index: -1;\r\n}\r\n.b-row-reordering .b-drag-proxy.b-dragging.b-drag-invalid .b-grid-row {\r\n  border: 2px solid #e53f2c;\r\n}\r\n.b-row-reordering .b-grid-body-container {\r\n  z-index: 4;\r\n}\r\n.b-row-reordering .b-drag-original {\r\n  opacity: 0.3;\r\n}\r\n.b-row-reordering .b-drag-proxy.b-dropping {\r\n  margin-top: 0;\r\n  opacity: 0;\r\n}\r\n.b-row-reordering .b-drag-proxy.b-dropping .b-grid-row {\r\n  transform: scale(1);\r\n}\r\n.b-row-reordering .b-row-reordering-target-parent .b-tree-cell {\r\n  color: #feac31;\r\n  overflow: visible;\r\n  contain: none;\r\n}\r\n.b-row-reordering .b-row-reordering-target-parent .b-tree-cell .b-tree-expander::before {\r\n  color: #feac31;\r\n}\r\n.b-row-reordering .b-row-reordering-target-parent .b-tree-cell::before {\r\n  content: "\\f061";\r\n  position: absolute;\r\n  left: -0.5em;\r\n}\r\n\r\n.b-search-hit-cell {\r\n  background: #f5fe8c;\r\n}\r\n\r\n.b-search-hit-text {\r\n  font-weight: 400;\r\n  background: #f5fe8c;\r\n  padding: 0.3em 0;\r\n}\r\n\r\n.b-search-hit-field {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  padding: 0.5em 0;\r\n  background: #f5fe8c;\r\n}\r\n\r\n.b-search-hit-cell-badge {\r\n  position: absolute;\r\n  top: 0.4em;\r\n  right: 0.4em;\r\n  font-size: 0.7em;\r\n  line-height: 0.7em;\r\n  color: #7f8a01;\r\n}\r\n\r\n.b-gridbase.b-sort .b-grid-header.b-sort .b-grid-header-text::after {\r\n  font-family: "Font Awesome 5 Free", FontAwesome5Free;\r\n  font-weight: 900;\r\n  font-size: 0.8em;\r\n  color: #b0b0b7;\r\n  margin-left: 0.5em;\r\n  transition: transform 0.3s, color 0.2s;\r\n  transform: none;\r\n  background: inherit;\r\n  /* Transparent bg will look bad if there is text under the icon */\r\n  content: "\\f062";\r\n}\r\n.b-gridbase.b-sort .b-grid-header.b-sort.b-desc .b-grid-header-text::after {\r\n  transform: rotate(180deg);\r\n}\r\n.b-gridbase.b-sort .b-grid-header.b-sort .b-grid-header-text[data-sort-index]::before {\r\n  content: attr(data-sort-index);\r\n  position: relative;\r\n  top: 1em;\r\n  color: #7b7b86;\r\n  z-index: 30;\r\n  font-size: 0.6em;\r\n  order: 1;\r\n}\r\n.b-gridbase.b-sort .b-grid-header.b-sort .b-grid-header-text {\r\n  color: #667280;\r\n}\r\n\r\n.b-gridbase.b-sort:not(.b-column-resizing) .b-grid-header-container:not(.b-dragging-header) .b-grid-header.b-sortable.b-depth-0:hover:not(.b-sort):not(.b-group) .b-grid-header-text::after, .b-gridbase.b-sort:not(.b-column-resizing) .b-grid-header-container:not(.b-dragging-header) .b-grid-header.b-sortable.b-depth-0:focus:not(.b-sort):not(.b-group) .b-grid-header-text::after {\r\n  font-family: "Font Awesome 5 Free", FontAwesome5Free;\r\n  font-weight: 900;\r\n  font-size: 0.8em;\r\n  color: #e5e7e9;\r\n  margin-left: 0.5em;\r\n  transition: transform 0.3s, color 0.2s;\r\n  transform: none;\r\n  background: inherit;\r\n  /* Transparent bg will look bad if there is text under the icon */\r\n  content: "\\f15e";\r\n}\r\n\r\n.b-grid-header.b-group .b-grid-header-text::after {\r\n  font-family: "Font Awesome 5 Free", FontAwesome5Free;\r\n  font-weight: 900;\r\n  font-size: 0.8em;\r\n  color: #3183fe;\r\n  margin-left: 0.5em;\r\n  transition: transform 0.3s, color 0.2s;\r\n  transform: none;\r\n  background: inherit;\r\n  /* Transparent bg will look bad if there is text under the icon */\r\n  content: "\\f012";\r\n  transform: rotate(90deg);\r\n}\r\n.b-grid-header.b-group.b-desc .b-grid-header-text:after {\r\n  transform: rotate(270deg) scaleX(-1);\r\n}\r\n\r\n.b-group-row {\r\n  background: #fafbfc;\r\n}\r\n.b-group-row .b-grid-cell {\r\n  border-right-color: transparent;\r\n}\r\n.b-group-row .b-group-title.b-grid-cell-align-right, .b-group-row .b-group-title.b-grid-cell-align-end {\r\n  justify-content: flex-end;\r\n}\r\n.b-group-row .b-group-title.b-grid-cell-align-center {\r\n  justify-content: start;\r\n}\r\n\r\n.b-grid-cell.b-group-title {\r\n  color: #4f5964;\r\n  overflow: visible;\r\n  contain: size layout style;\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n}\r\n.b-firefox .b-grid-cell.b-group-title {\r\n  contain: size layout;\r\n}\r\n.b-grid-cell.b-group-title:before {\r\n  content: "\\f056";\r\n  margin-right: 0.5em;\r\n  cursor: pointer;\r\n  color: #babbbc;\r\n}\r\n\r\n.b-grid-group-collapsed .b-group-title:before {\r\n  content: "\\f055";\r\n}\r\n\r\n.b-stripe .b-grid-row.b-group-row,\r\n.b-grid-row.b-group-row {\r\n  border-bottom: 1px solid #d8d9da;\r\n  cursor: pointer;\r\n}\r\n\r\n.b-cut-row {\r\n  opacity: 0.4;\r\n}\r\n\r\n.b-stickycells .b-grid-sticky-row {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  min-width: auto;\r\n  border: 0 none;\r\n  padding: 0;\r\n  contain: initial;\r\n}\r\n.b-stickycells .b-grid-sticky-row .b-grid-cell {\r\n  width: min-content;\r\n  contain: initial;\r\n  padding: 0;\r\n  border: 0 none;\r\n}\r\n.b-stickycells .b-sticky-cells-current-top-row .b-sticky-content-el {\r\n  visibility: hidden;\r\n}\r\n.b-stickycells .b-sticky-cells-current-top-row.b-not-enough-height .b-sticky-content-el {\r\n  visibility: visible;\r\n  align-self: flex-end;\r\n}\r\n\r\n.b-stripe .b-grid-row.b-odd {\r\n  background-color: rgba(250, 250, 250, 0.8);\r\n}\r\n.b-stripe .b-grid-row.b-even {\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n.b-stripe .b-grid-row {\r\n  border-bottom: none;\r\n}\r\n.b-stripe .b-grid-row.b-selected {\r\n  background-color: rgba(254, 172, 49, 0.25);\r\n}\r\n.b-stripe .b-grid-row.b-selected .b-grid-cell.b-selected {\r\n  background-color: rgba(254, 172, 49, 0.25);\r\n}\r\n\r\n.b-stripe:focus .b-grid-row.b-selected {\r\n  background-color: rgba(254, 172, 49, 0.3);\r\n}\r\n\r\n.b-grid-footer-summary td {\r\n  padding: 0.25em 0;\r\n}\r\n.b-grid-footer-summary .b-grid-summary-label {\r\n  font-size: 0.7em;\r\n  padding-right: 1em;\r\n}\r\n.b-grid-footer-summary .b-grid-summary-value {\r\n  width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.b-summary-disabled .b-grid-footer-container {\r\n  display: none;\r\n}\r\n\r\n.b-exportdialog.b-popup .b-bottom-toolbar > button {\r\n  flex: 1;\r\n  margin-right: 0.5em;\r\n}\r\n.b-exportdialog.b-popup .b-bottom-toolbar > button:last-child {\r\n  margin-right: 0;\r\n}\r\n\r\n.b-grid-footer-container {\r\n  background-color: #f3f4f5;\r\n  outline: 1px solid #d8d9da;\r\n  z-index: 2;\r\n  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.08);\r\n}\r\n.b-grid-footer-container.b-hidden {\r\n  display: none;\r\n}\r\n\r\n.b-grid-footers {\r\n  display: inline-flex;\r\n  align-items: stretch;\r\n  height: 100%;\r\n  white-space: nowrap;\r\n  line-height: initial;\r\n}\r\n.b-overflowing > .b-grid-footers {\r\n  flex: 1;\r\n}\r\n:not(.b-overflowing) > .b-grid-footers {\r\n  min-width: 100%;\r\n}\r\n\r\n.b-grid-footer {\r\n  display: flex;\r\n  border-right: 1px solid #d8d9da;\r\n  flex-direction: column;\r\n  flex-shrink: 0;\r\n  align-items: stretch;\r\n  justify-content: center;\r\n  position: relative;\r\n  padding: 0.5em 0.5em;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  height: 100%;\r\n  color: #667280;\r\n  overflow: hidden;\r\n}\r\n\r\n.b-grid-footer:last-child {\r\n  border-right: none;\r\n}\r\n\r\n.b-grid-footer-align-start {\r\n  text-align: left;\r\n}\r\n\r\n.b-grid-footer-align-center {\r\n  text-align: center;\r\n}\r\n\r\n.b-grid-footer-align-end {\r\n  text-align: right;\r\n}\r\n\r\n.b-gridbase {\r\n  position: relative;\r\n  /*\r\n   * This implements the fillLastColumn config. It causes the last leaf header, and the last cell in\r\n   * each row to flex-grow to consume all available space when there are no configured flexed columns and rows are not\r\n   * wider than their container.\r\n   */\r\n}\r\n.b-gridbase.b-outer {\r\n  height: 100%;\r\n}\r\n.b-gridbase.b-autoheight {\r\n  height: auto;\r\n  flex: none;\r\n}\r\n.b-gridbase.b-autoheight.b-ie {\r\n  display: block;\r\n}\r\n.b-gridbase .b-grid-panel-body:not(.b-autoheight) > .b-grid-body-container {\r\n  flex: 1 1 0%;\r\n  contain: strict;\r\n}\r\n.b-gridbase .b-grid-panel-body:not(.b-autoheight) > .b-grid-body-container > .b-grid-vertical-scroller {\r\n  min-height: 100%;\r\n}\r\n.b-gridbase.b-grid-translate .b-grid-row, .b-gridbase.b-grid-translate3d .b-grid-row {\r\n  transform-style: flat;\r\n}\r\n.b-gridbase.b-enable-sticky .b-sticky-cell,\r\n.b-gridbase.b-enable-sticky .b-grid-subgrid,\r\n.b-gridbase.b-enable-sticky .b-grid-vertical-scroller,\r\n.b-gridbase.b-enable-sticky .b-grid-row {\r\n  overflow: visible !important;\r\n}\r\n.b-gridbase.b-no-column-lines .b-grid-row .b-grid-cell {\r\n  border-right-color: transparent;\r\n}\r\n.b-gridbase.b-fill-last-column .b-grid-horizontal-scroller:not(.b-has-flex):not(.b-horizontal-overflow) .b-grid-cell:last-child,\r\n.b-gridbase.b-fill-last-column .b-grid-footer-scroller:not(.b-has-flex):not(.b-overflowing) .b-grid-footer:last-child,\r\n.b-gridbase.b-fill-last-column .b-grid-header-scroller:not(.b-has-flex):not(.b-overflowing) .b-last-parent,\r\n.b-gridbase.b-fill-last-column .b-grid-header-scroller:not(.b-has-flex):not(.b-overflowing) .b-last-leaf {\r\n  flex-grow: 1;\r\n}\r\n.b-gridbase:not(.b-masked) .b-grid-empty {\r\n  min-height: 5em;\r\n}\r\n.b-gridbase:not(.b-masked) .b-grid-empty .b-grid-subgrid:first-child::before {\r\n  color: #667280;\r\n  content: attr(data-empty-text);\r\n  padding: 1em;\r\n}\r\n.b-gridbase.b-grid-notextselection .b-grid-cell {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n.b-gridbase.b-notransition .b-grid-cell * {\r\n  transition: none !important;\r\n}\r\n.b-gridbase.b-disabled {\r\n  opacity: 0.5;\r\n}\r\n\r\n.b-grid-panel-body {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  background-color: #fff;\r\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\r\n}\r\n\r\n.b-gridbase:not(.b-animating) .b-grid-row:not(.b-grid-row-updating) * {\r\n  transition: none;\r\n}\r\n\r\n.b-grid-body-container {\r\n  position: relative;\r\n}\r\n.b-grid-body-container:focus {\r\n  outline: none;\r\n}\r\n.b-grid-body-container:focus .b-grid-row.b-selected {\r\n  background-color: rgba(254, 172, 49, 0.3);\r\n}\r\n\r\n.b-playing-demo .b-grid-body-container {\r\n  overflow: hidden !important;\r\n}\r\n\r\n.b-grid-vertical-scroller {\r\n  position: absolute;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  overflow: hidden;\r\n  width: 100%;\r\n  align-items: stretch;\r\n}\r\n\r\n.b-grid-row-container {\r\n  display: inline-block;\r\n  min-width: 100%;\r\n}\r\n\r\n.b-virtual-scrollers {\r\n  display: flex;\r\n  flex-direction: row;\r\n  contain: paint style layout;\r\n}\r\n.b-firefox .b-virtual-scrollers {\r\n  contain: paint layout;\r\n}\r\n.b-overlay-scrollbar .b-virtual-scrollers {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  pointer-events: none;\r\n}\r\n.b-overlay-scrollbar .b-virtual-scrollers .b-virtual-scroller {\r\n  height: 16px;\r\n}\r\n.b-virtual-scrollers .b-virtual-scroller {\r\n  overflow-x: scroll;\r\n  overflow-y: hidden;\r\n}\r\n.b-virtual-scrollers .b-virtual-width {\r\n  height: 1px;\r\n}\r\n\r\n.b-overlay-scrollbar .b-virtual-scroller.b-scrolling {\r\n  pointer-events: all;\r\n}\r\n\r\n/* using tag name to increase specificity, otherwise rule gets overridden by salesforce styles */\r\n.b-grid-footer-container,\r\nheader.b-grid-header-container {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.b-grid-header-container {\r\n  border-bottom: 1px solid #d8d9da;\r\n}\r\n\r\n.b-grid-footer-scroller,\r\n.b-grid-header-scroller {\r\n  overflow: hidden;\r\n  position: relative;\r\n  display: flex;\r\n}\r\n\r\n.b-grid-footers,\r\n.b-grid-headers {\r\n  z-index: 2;\r\n  contain: paint style layout;\r\n}\r\n.b-firefox .b-grid-footers,\r\n.b-firefox .b-grid-headers {\r\n  contain: paint layout;\r\n}\r\n\r\n.b-grid-row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: stretch;\r\n  position: absolute;\r\n  min-width: 100%;\r\n  transition: background-color 0.2s;\r\n  left: 0;\r\n  overflow: hidden;\r\n  border-bottom: 1px solid #e9eaeb;\r\n  height: 45px;\r\n  contain: layout;\r\n}\r\n\r\n.b-grid-refreshing .b-grid-row {\r\n  transition: none;\r\n}\r\n\r\n.b-grid-row.b-selected {\r\n  background-color: rgba(254, 172, 49, 0.25);\r\n}\r\n\r\n.b-grid-row.b-removing {\r\n  left: -100%;\r\n  transition: left 0.4s;\r\n  pointer-events: none;\r\n}\r\n\r\n.b-grid-cell {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  color: #606263;\r\n  font-weight: 400;\r\n  padding: 0 0.5em;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  flex-shrink: 0;\r\n  text-overflow: ellipsis;\r\n  border-right: 1px solid #e9eaeb;\r\n  transform-style: flat;\r\n  width: 0;\r\n  contain: strict;\r\n}\r\n.b-grid-cell:last-child {\r\n  border-right-color: transparent;\r\n}\r\n.b-grid-cell > i:not(:last-child) {\r\n  margin-right: 0.5em;\r\n}\r\n.b-show-dirty .b-grid-cell.b-cell-dirty:before {\r\n  content: " ";\r\n  position: absolute;\r\n  top: -5px;\r\n  left: -5px;\r\n  background-color: red;\r\n  width: 10px;\r\n  height: 10px;\r\n  transform: rotateZ(45deg);\r\n}\r\n.b-grid-cell.b-focused {\r\n  transition: none !important;\r\n}\r\n.b-grid-cell.b-focused:after {\r\n  content: "";\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  pointer-events: none;\r\n  border: 1px solid rgba(49, 131, 254, 0.6) !important;\r\n  border-radius: 0;\r\n}\r\n.b-grid-cell.b-checkbox-selection {\r\n  background-color: #f1f1f1;\r\n}\r\n.b-grid-cell.b-auto-height {\r\n  white-space: normal;\r\n}\r\n.b-grid-cell.b-measuring-auto-height {\r\n  contain: paint style layout;\r\n  align-self: baseline;\r\n}\r\n.b-firefox .b-grid-cell.b-measuring-auto-height {\r\n  contain: paint layout;\r\n}\r\n\r\n.b-outer:not(.b-using-keyboard) .b-group-row .b-grid-cell.b-focused:after {\r\n  content: none;\r\n}\r\n\r\n.b-grid-cell-align-right, .b-grid-cell-align-end {\r\n  justify-content: flex-end;\r\n}\r\n\r\n.b-grid-cell-align-center {\r\n  justify-content: center;\r\n}\r\n\r\n.b-grid-subgrid.b-grid-subgrid-collapsed {\r\n  width: 0;\r\n}\r\n.b-grid-subgrid.b-grid-horizontal-scroller {\r\n  overflow-x: auto;\r\n  overflow-y: hidden;\r\n  position: relative;\r\n  -ms-overflow-style: none;\r\n  overscroll-behavior: contain auto;\r\n}\r\n.b-grid-subgrid.b-grid-horizontal-scroller::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n.b-firefox .b-gridbase:not(.b-overlay-scrollbar) .b-grid-subgrid.b-grid-horizontal-scroller, .b-gridbase.b-firefox:not(.b-overlay-scrollbar) .b-grid-subgrid.b-grid-horizontal-scroller {\r\n  overflow: hidden !important;\r\n}\r\n.b-grid-subgrid.b-grid-subgrid-animate-collapse {\r\n  transition: width 0.15s;\r\n}\r\n\r\n.b-playing-demo .b-grid-subgrid {\r\n  overflow: hidden !important;\r\n}\r\n\r\n.b-grid-header-scroller.b-grid-subgrid-animate-collapse {\r\n  transition: width 0.15s;\r\n}\r\n\r\n.b-gridbase:not(.b-moving-splitter) .b-grid-row:not(.b-group-row).b-hover .b-grid-cell {\r\n  background-color: rgba(254, 172, 49, 0.15);\r\n}\r\n.b-gridbase:not(.b-moving-splitter) .b-grid-row:not(.b-group-row).b-hover .b-grid-cell:not(.b-focused) {\r\n  background-color: rgba(254, 172, 49, 0.1);\r\n}\r\n\r\n.b-grid-header-container {\r\n  background-color: #f3f4f5;\r\n  z-index: 4;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);\r\n}\r\n.b-grid-header-container.b-hidden {\r\n  display: none;\r\n}\r\n\r\n.b-grid-headers {\r\n  display: inline-flex;\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n  line-height: initial;\r\n  position: relative;\r\n}\r\n.b-overflowing > .b-grid-headers {\r\n  flex: 1;\r\n}\r\n:not(.b-overflowing) > .b-grid-headers {\r\n  min-width: 100%;\r\n}\r\n\r\n.b-grid-header-align-right > .b-grid-header-text > .b-grid-header-text-content {\r\n  text-align: right;\r\n}\r\n\r\n.b-grid-header-align-center > .b-grid-header-text > .b-grid-header-text-content {\r\n  text-align: center;\r\n}\r\n\r\n.b-gridbase:not(.b-column-resizing):not(.b-row-reordering) .b-grid-header-container:not(.b-dragging-header) .b-depth-0:hover, .b-gridbase:not(.b-column-resizing):not(.b-row-reordering) .b-grid-header-container:not(.b-dragging-header) .b-depth-0:focus {\r\n  background-color: white;\r\n}\r\n\r\n.b-gridbase.b-columnresize .b-grid-header-resizable:not(.b-last-leaf) {\r\n  overflow: visible;\r\n}\r\n.b-gridbase.b-columnresize .b-grid-header-resizable .b-grid-header-resize-handle {\r\n  position: absolute;\r\n  top: 0;\r\n  right: -5px;\r\n  bottom: 0;\r\n  width: 10px;\r\n  background-color: transparent;\r\n  z-index: 3;\r\n  cursor: col-resize;\r\n  display: block;\r\n}\r\n\r\n.b-touch-events .b-gridbase.b-columnresize .b-grid-header-resizable .b-grid-header-resize-handle {\r\n  right: -10px;\r\n  width: 20px;\r\n}\r\n\r\n.b-fill-last-column .b-grid-headers .b-last-parent,\r\n.b-fill-last-column .b-grid-headers .b-last-leaf {\r\n  border-right-color: transparent;\r\n}\r\n.b-fill-last-column .b-grid-headers .b-last-parent > .b-grid-header-text,\r\n.b-fill-last-column .b-grid-headers .b-last-leaf > .b-grid-header-text {\r\n  border-right-color: transparent;\r\n}\r\n\r\n.b-ie .b-grid-header.b-depth-1 .b-grid-header-text {\r\n  flex-basis: 1em;\r\n}\r\n\r\n/* Need some rules to be global to be used in drag proxies*/\r\n.b-grid-header-text {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  padding: 1em 0 1em 0;\r\n  white-space: nowrap;\r\n  position: relative;\r\n  font-weight: 500;\r\n  display: flex;\r\n  align-items: center;\r\n  overflow: hidden;\r\n}\r\n.b-grid-header-text > .b-grid-header-text-content {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  flex: 1 1 0;\r\n  width: 0;\r\n  font-size: 0.9em;\r\n}\r\n.b-ie .b-grid-header-text > .b-grid-header-text-content {\r\n  flex: 1 1 0%;\r\n}\r\n.b-grid-header-text > .b-grid-header-text-content > i {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.b-grid-header-children {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.b-grid-header-children > * {\r\n  width: inherit;\r\n}\r\n\r\n.b-grid-header-parent > .b-grid-header-children {\r\n  border-top: 1px solid #d8d9da;\r\n  flex-flow: row nowrap;\r\n}\r\n\r\n.b-grid-header {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  position: relative;\r\n  overflow: hidden;\r\n  color: #667280;\r\n  outline: none;\r\n  border-right: 1px solid #d8d9da;\r\n  text-transform: uppercase;\r\n}\r\n.b-grid-header:not(.b-depth-0) {\r\n  overflow: visible;\r\n}\r\n.b-grid-header.b-depth-0 {\r\n  padding: 0 0.5em 0 0.5em;\r\n  width: 0;\r\n  cursor: pointer;\r\n}\r\n.b-grid-header.b-depth-0 .b-grid-header-text {\r\n  border-bottom: none;\r\n  transition: background-color 0.2s;\r\n  flex-direction: row;\r\n}\r\n.b-grid-header.b-grid-header-parent {\r\n  border-right: none;\r\n  flex-basis: auto;\r\n  padding-left: 0;\r\n  padding-right: 0;\r\n}\r\n.b-grid-header.b-grid-header-parent > .b-grid-header-text {\r\n  padding-left: 0.5em;\r\n  padding-right: 0.5em;\r\n  border-right: 1px solid #d8d9da;\r\n}\r\n.b-grid-header .b-grid-header-resize-handle {\r\n  display: none;\r\n}\r\n\r\n.b-gridbase.b-no-column-lines .b-grid-header {\r\n  border-right-color: transparent;\r\n}\r\n\r\n.b-sch-style-plain {\r\n  border-radius: 2px;\r\n}\r\n\r\n.b-gridbase.b-no-column-lines .b-sch-header-timeaxis-cell {\r\n  border-right-color: transparent;\r\n}\r\n\r\n.b-recurrenceeditor.b-popup .b-recurrenceeditor-content.b-popup-content .b-field.b-recurrencepositionscombo {\r\n  width: 10.1em;\r\n}\r\n\r\n.b-icon-unassign:before {\r\n  content: "\\f506";\r\n}\r\n\r\n.b-icon-valid:before {\r\n  content: "\\f00c";\r\n}\r\n\r\n.b-icon-invalid:before {\r\n  content: "\\f05e";\r\n}\r\n\r\n.b-icon-checking:before {\r\n  content: "\\f110";\r\n}\r\n\r\n.b-icon-prev:before {\r\n  content: "\\f104";\r\n}\r\n\r\n.b-icon-next:before {\r\n  content: "\\f105";\r\n}\r\n\r\n.b-icon-expand-resource:before {\r\n  content: "\\f103";\r\n}\r\n\r\n.b-sch-event-content {\r\n  z-index: 1;\r\n}\r\n\r\n.b-sch-event:not(.b-milestone) .b-sch-event-content {\r\n  margin: 0 0.5em 0 0.75em;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  display: flex;\r\n}\r\n.b-sch-event:not(.b-milestone) .b-sch-event-content > :not(i) {\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n}\r\n\r\n.b-verticaltimeaxis-row .b-sch-event:not(.b-milestone) .b-sch-event-content {\r\n  flex-direction: column;\r\n}\r\n\r\n.b-prevent-event-transitions .b-sch-event-wrap {\r\n  transition: none !important;\r\n}\r\n\r\n.b-sch-canvas,\r\n.b-sch-foreground-canvas,\r\n.b-sch-background-canvas {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  pointer-events: none;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  overflow: clip;\r\n  contain: strict;\r\n}\r\n.b-sch-vertical .b-sch-canvas,\r\n.b-sch-vertical .b-sch-foreground-canvas,\r\n.b-sch-vertical .b-sch-background-canvas {\r\n  min-width: 100%;\r\n}\r\n\r\n.b-sch-background-canvas {\r\n  z-index: 1;\r\n  background-repeat: repeat;\r\n}\r\n\r\n.b-sch-foreground-canvas {\r\n  z-index: 2;\r\n}\r\n.b-row-reordering .b-sch-foreground-canvas * {\r\n  pointer-events: none !important;\r\n}\r\n\r\n.b-schedulerbase > .b-editor {\r\n  z-index: 5;\r\n}\r\n\r\n.b-sch-event.b-milestone label,\r\n.b-sch-event .b-sch-event-content,\r\n.b-sch-event-wrap:not(.b-milestone-wrap) .b-sch-event {\r\n  font-weight: 500;\r\n  font-size: 13px;\r\n}\r\n\r\n.b-sch-event-wrap {\r\n  position: absolute;\r\n  will-change: contents, width, height, transform;\r\n  transform-style: flat;\r\n  z-index: 5;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  pointer-events: all;\r\n  transition: background-color 0.2s, color 0.2s, opacity 0.2s, font-weight 0.2s, border 0.2s;\r\n  contain: layout style;\r\n}\r\n.b-animating .b-sch-event-wrap:not(.b-dragging):not(.b-sch-event-wrap-resizing) {\r\n  transition: background-color 0.2s, color 0.2s, opacity 0.2s, font-weight 0.2s, border 0.2s, transform 0.2s, width 0.2s, height 0.2s, font-size 0.2s;\r\n}\r\n.b-toggling-node .b-sch-event-wrap {\r\n  transition: none;\r\n}\r\n.b-sch-event-wrap.b-active {\r\n  z-index: 15 !important;\r\n}\r\n.b-sch-event-wrap:focus {\r\n  outline: none;\r\n  z-index: 7;\r\n}\r\n.b-scrolling .b-sch-event-wrap {\r\n  transition: none !important;\r\n}\r\n.b-scrolling .b-sch-event-wrap .b-sch-event {\r\n  transition: none !important;\r\n}\r\n.b-grid-body-container.b-scrolling .b-sch-event-wrap {\r\n  pointer-events: none;\r\n}\r\n\r\n.b-sch-event-wrap.b-milestone-wrap {\r\n  margin-left: -0.5em;\r\n  z-index: 4;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-event {\r\n  overflow: visible;\r\n  box-shadow: none;\r\n  border-color: #777;\r\n  background-color: transparent;\r\n  width: 1em;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #777;\r\n  transition: background-color 0.2s, border 0.2s;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-sch-event-withicon {\r\n  justify-content: center;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-sch-event-withicon .b-sch-event-content {\r\n  font-size: inherit;\r\n  justify-content: center;\r\n  background-color: transparent;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-sch-event-withicon i {\r\n  margin-right: 0;\r\n  line-height: 1em;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-event label {\r\n  position: absolute;\r\n  left: 110%;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-event-content {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap.b-sch-style-plain > .b-sch-event {\r\n  background-color: transparent;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-fa, .b-sch-event-wrap.b-milestone-wrap .b-icon {\r\n  margin-right: 1em;\r\n  color: #777;\r\n  font-size: inherit;\r\n}\r\n.b-labels-topbottom .b-sch-event-wrap.b-milestone-wrap .b-sch-event:not(.b-sch-event-withicon) {\r\n  font-size: 40%;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  font-size: inherit;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content::before {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  content: " ";\r\n  height: 0.707107em;\r\n  width: 0.707107em;\r\n  transform-origin: 50% 50%;\r\n  transform: translate(-50%, -50%) rotate(45deg);\r\n  background-image: inherit;\r\n  background-color: inherit;\r\n  border-style: inherit;\r\n  border-color: inherit;\r\n}\r\n.b-using-keyboard .b-sch-event-wrap.b-milestone-wrap.b-active .b-sch-event.b-sch-event-withicon {\r\n  outline: 1px solid rgba(49, 131, 254, 0.6);\r\n  outline-offset: 3px;\r\n}\r\n.b-using-keyboard .b-sch-event-wrap.b-milestone-wrap.b-active .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content:before {\r\n  outline: 1px solid rgba(49, 131, 254, 0.6);\r\n  outline-offset: 3px;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-event-selected:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.25));\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content {\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.15));\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-event-selected:not(.b-sch-event-withicon):hover .b-sch-event-content {\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.35));\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap.b-measure {\r\n  height: 1em;\r\n  position: fixed;\r\n  top: -10000px;\r\n  left: -10000px;\r\n  visibility: hidden;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap.b-measure label {\r\n  font-weight: 400;\r\n}\r\n.b-ie .b-sch-event-wrap.b-milestone-wrap.b-measure {\r\n  display: block;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap {\r\n  margin: 0;\r\n  min-width: 0;\r\n  flex-direction: row;\r\n}\r\n.b-using-keyboard .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap.b-active {\r\n  outline: 1px solid rgba(49, 131, 254, 0.6);\r\n  outline-offset: 3px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap.b-active .b-sch-event.b-milestone,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap.b-active .b-sch-event.b-milestone:before {\r\n  outline: none;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone {\r\n  font-size: inherit;\r\n  width: inherit;\r\n  min-width: 0;\r\n  padding: 0;\r\n  margin: 0 0.5em;\r\n  align-self: stretch;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1;\r\n  background-color: #777;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: transparent;\r\n  font-size: 13px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone .b-sch-event-content::before {\r\n  content: none;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone::after {\r\n  background: inherit;\r\n  position: absolute;\r\n  content: " ";\r\n  height: 0.707107em;\r\n  width: 0.707107em;\r\n  border: inherit;\r\n  z-index: 0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone::before {\r\n  top: 50%;\r\n  left: 0;\r\n  transform-origin: 50% 50%;\r\n  transform: translate(-50%, -50%) rotate(45deg);\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone::after {\r\n  top: 0;\r\n  right: 0;\r\n  transform: rotate(-45deg);\r\n  transform-origin: 100% 0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone:hover {\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.15));\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-image: none;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone.b-sch-event-selected {\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.25));\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-image: none;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover {\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.35));\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-image: none;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap.b-measure .b-sch-event.b-milestone:before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-milestone-wrap.b-measure .b-sch-event.b-milestone:after {\r\n  display: none;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap.b-sch-event-wrap label.b-sch-label-left {\r\n  margin: 0 0 0 0.5em;\r\n  transform: translateX(calc(-100% - 1em)) translateY(0);\r\n}\r\n.b-labels-topbottom .b-sch-event-wrap.b-milestone-wrap.b-sch-event-wrap label.b-sch-label-left {\r\n  transform: translateX(-100%) translateY(0);\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap.b-sch-event-wrap label.b-sch-label-right {\r\n  margin: 0 0 0 -0.5em;\r\n  transform: translateX(calc(100% + 1em)) translateY(0);\r\n}\r\n.b-labels-topbottom .b-sch-event-wrap.b-milestone-wrap.b-sch-event-wrap label.b-sch-label-right {\r\n  transform: translateX(100%) translateY(0);\r\n}\r\n\r\n.b-sch-event {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  flex: 1;\r\n  width: calc(100% - 1px);\r\n  text-align: left;\r\n  min-width: 5px;\r\n  min-height: 5px;\r\n  color: #fff;\r\n  background-color: #27ca37;\r\n  transition: background-color 0.2s, color 0.2s, opacity 0.2s, font-weight 0.2s, border 0.2s;\r\n  border-color: #27ca37;\r\n  position: relative;\r\n}\r\n.b-toggling-node .b-sch-event {\r\n  transition: none;\r\n}\r\n.b-sch-event label {\r\n  color: #888;\r\n}\r\n.b-sch-event:not(.b-milestone) .b-fa, .b-sch-event:not(.b-milestone) .b-icon {\r\n  margin-right: 0.4em;\r\n  line-height: inherit;\r\n}\r\n.b-sch-event:before {\r\n  font-family: "Font Awesome 5 Free", FontAwesome5Free;\r\n  font-weight: 900;\r\n}\r\n.b-sch-event.b-sch-event-resizing, .b-sch-event:hover {\r\n  z-index: 6;\r\n}\r\n.b-sch-event.b-sch-event-selected, .b-sch-event.b-sch-event-selected * {\r\n  font-weight: 500;\r\n  z-index: 6;\r\n}\r\n.b-sch-event:not(.b-milestone).b-sch-event-selected .b-sch-event-content, .b-sch-event:not(.b-milestone).b-sch-event-selected .b-sch-event-content * {\r\n  color: #fff;\r\n}\r\n.b-sch-event.b-sch-event-assign-selected {\r\n  animation-name: instance-selected;\r\n  animation-duration: 0.2s;\r\n  animation-iteration-count: 3;\r\n  animation-timing-function: ease-in-out;\r\n}\r\n.b-sch-event.b-milestone {\r\n  transition: background 0s;\r\n}\r\n\r\n.b-sch-event-wrap:not(.b-milestone-wrap) {\r\n  min-width: 6px;\r\n  min-height: 6px;\r\n}\r\n.b-using-keyboard .b-sch-event-wrap:not(.b-milestone-wrap).b-active .b-sch-event {\r\n  outline: 1px solid rgba(49, 131, 254, 0.6);\r\n  outline-offset: 3px;\r\n}\r\n.b-sch-event-wrap:not(.b-milestone-wrap) .b-sch-event {\r\n  align-self: flex-start;\r\n}\r\n.b-sch-event-wrap:not(.b-milestone-wrap) .b-sch-event.b-sch-event-selected {\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0.25), rgba(0, 0, 0, 0.25));\r\n}\r\n.b-sch-event-wrap:not(.b-milestone-wrap) .b-sch-event:hover {\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.15));\r\n}\r\n.b-sch-event-wrap:not(.b-milestone-wrap) .b-sch-event.b-sch-event-selected:hover {\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.35));\r\n}\r\n.b-sch-event-resizing .b-sch-event-wrap:not(.b-milestone-wrap) .b-sch-event, .b-dragproxy .b-sch-event-wrap:not(.b-milestone-wrap) .b-sch-event {\r\n  background-color: #73e47e;\r\n}\r\n\r\n@keyframes instance-selected {\r\n  0% {\r\n    top: -2px;\r\n  }\r\n  50% {\r\n    top: 2px;\r\n  }\r\n  100% {\r\n    top: 0;\r\n  }\r\n}\r\n.b-initial-fade-in .b-sch-event-wrap {\r\n  opacity: 0;\r\n  animation-name: initial-fade-in;\r\n  animation-duration: 0.5s;\r\n  animation-fill-mode: forwards;\r\n}\r\n\r\n@keyframes initial-fade-in {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n.b-initial-zoom-in .b-sch-event-wrap .b-sch-event {\r\n  animation-name: initial-zoom-in;\r\n  animation-duration: 0.4s;\r\n  animation-timing-function: ease-in;\r\n}\r\n\r\n@keyframes initial-zoom-in {\r\n  0% {\r\n    transform: scale(0.01);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n}\r\n.b-initial-slide-from-left .b-sch-event-wrap {\r\n  left: -100%;\r\n  animation-name: initial-slide-from-left;\r\n  animation-duration: 0.7s;\r\n  animation-fill-mode: forwards;\r\n}\r\n\r\n@keyframes initial-slide-from-left {\r\n  0% {\r\n    left: -100%;\r\n  }\r\n  100% {\r\n    left: 0;\r\n  }\r\n}\r\n.b-initial-slide-from-top .b-sch-event-wrap {\r\n  top: -100%;\r\n  animation-name: initial-slide-from-top;\r\n  animation-duration: 0.7s;\r\n  animation-fill-mode: forwards;\r\n}\r\n\r\n@keyframes initial-slide-from-top {\r\n  0% {\r\n    top: -100%;\r\n  }\r\n  100% {\r\n    top: 0;\r\n  }\r\n}\r\n.b-schedulerbase-event-parent:not(.b-milestone-wrap) .b-schedulerbase-event {\r\n  overflow: visible;\r\n  background-color: #8bc34a;\r\n  border-color: #8bc34a;\r\n  flex: 1 1 0%;\r\n  min-height: 1em;\r\n  clip-path: polygon(-20px 0, calc(100% + 20px) 0, calc(100% + 20px) 100%, 100% 100%, calc(100% - 8px) calc(100% - 8px), 8px calc(100% - 8px), 0 100%, -20px 100%);\r\n}\r\n.b-schedulerbase:not(.b-schedulerbase-resizing-event-percent):not(.b-resizing-event):not(.b-dragging-event) .b-schedulerbase-event-parent:not(.b-milestone-wrap):hover .b-schedulerbase-event {\r\n  background-color: #bcdc97;\r\n}\r\n\r\n.b-sch-vertical .b-sch-event-wrap {\r\n  contain: strict;\r\n}\r\n.b-sch-vertical .b-sch-event {\r\n  align-items: flex-start;\r\n  padding-left: 0.75em;\r\n  contain: strict;\r\n  white-space: normal;\r\n}\r\n.b-sch-vertical .b-sch-event .b-sch-event-content {\r\n  margin: 0.75em 0 0.5em 0;\r\n}\r\n.b-sch-vertical:not(.b-masked) .b-grid-empty .b-grid-subgrid:first-child::before {\r\n  content: "";\r\n  display: none;\r\n}\r\n.b-sch-vertical:not(.b-masked) .b-grid-empty .b-timeline-subgrid::before {\r\n  color: #262626;\r\n  content: attr(data-empty-text);\r\n  padding: 1em;\r\n}\r\n\r\n.b-sch-vertical.b-eventlayout-mixed .b-sch-event {\r\n  opacity: 0.8;\r\n}\r\n\r\n.b-timelinebase.b-overlay-scrollbar .b-virtual-scrollers {\r\n  z-index: 100;\r\n}\r\n\r\n.b-schedulerbase.b-animating .b-grid-row {\r\n  transition: height 0.2s, transform 0.2s;\r\n}\r\n\r\n.b-grid-footer-container .b-sch-timeaxiscolumn {\r\n  padding: 0;\r\n  /*flex    : none !important;*/\r\n}\r\n\r\n.b-sch-timeaxis-cell {\r\n  padding: 0;\r\n  flex: none !important;\r\n  align-items: baseline;\r\n  border-right: none;\r\n  /* No focus outline in scheduler */\r\n}\r\n.b-sch-timeaxis-cell.b-focused::after {\r\n  content: none;\r\n}\r\n\r\n.b-gridbase .b-timeline-subgrid .b-grid-row.b-selected:not(.b-group-row) {\r\n  background-color: transparent;\r\n}\r\n.b-gridbase .b-timeline-subgrid .b-grid-row.b-selected .b-grid-cell.b-sch-timeaxis-cell.b-selected {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-gridbase.b-timelinebase .b-timeline-subgrid .b-grid-row:not(.b-group-row).b-hover .b-grid-cell {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-stripe .b-timeline-subgrid .b-grid-row.b-selected.b-odd,\r\n.b-stripe .b-timeline-subgrid .b-grid-row.b-odd,\r\n.b-gridbase.b-stripe .b-timeline-subgrid .b-grid-row.b-selected.b-odd,\r\n.b-gridbase.b-stripe .b-timeline-subgrid .b-grid-row.b-odd {\r\n  background-color: rgba(250, 250, 250, 0.8);\r\n}\r\n.b-stripe .b-timeline-subgrid .b-grid-row.b-selected.b-even,\r\n.b-stripe .b-timeline-subgrid .b-grid-row.b-even,\r\n.b-gridbase.b-stripe .b-timeline-subgrid .b-grid-row.b-selected.b-even,\r\n.b-gridbase.b-stripe .b-timeline-subgrid .b-grid-row.b-even {\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n\r\n.b-stripe .b-timeline-subgrid .b-grid-row.b-selected .b-grid-cell.b-selected {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-stripe .b-timeline-subgrid .b-grid-row.b-selected .b-grid-cell.b-selected {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-gridbase .b-timeline-subgrid .b-group-row.b-selected,\r\n.b-timeline-subgrid .b-group-row.b-selected,\r\n.b-timeline-subgrid .b-group-row {\r\n  z-index: 3;\r\n  background-color: rgba(250, 251, 252, 0.8);\r\n}\r\n\r\n.b-timeline-subgrid {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.b-resource-info {\r\n  flex: 1;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n.b-resource-info dt {\r\n  font-weight: 400;\r\n  margin-bottom: 0.2em;\r\n}\r\n.b-resource-info dd {\r\n  margin: 0;\r\n  font-size: 0.8em;\r\n  color: #474849;\r\n}\r\n.b-resource-info .b-resource-avatar {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.b-resourcecollapse-cell {\r\n  cursor: pointer;\r\n}\r\n.b-resourcecollapse-cell .b-icon {\r\n  transition: transform 0.2s !important;\r\n}\r\n.b-resourcecollapse-cell .b-icon.b-flip {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.b-columnlines .b-grid-cell:not(:last-child) {\r\n  border-right: 1px solid #e9eaeb;\r\n}\r\n\r\n.b-columnlines .b-group-row .b-grid-cell {\r\n  border-right-color: transparent;\r\n}\r\n\r\n.b-column-line,\r\n.b-column-line-major {\r\n  height: 100%;\r\n  position: absolute;\r\n  border-left-width: 1px;\r\n  border-left-style: solid;\r\n}\r\n\r\n.b-column-line {\r\n  border-color: #f4f5f5;\r\n}\r\n\r\n.b-column-line-major {\r\n  border-color: #d0d3d5;\r\n  z-index: 1;\r\n}\r\n\r\n.b-sch-vertical .b-column-line:not(.b-resource-column-line),\r\n.b-sch-vertical .b-column-line-major {\r\n  height: auto;\r\n  width: 100%;\r\n  position: absolute;\r\n  border-left: none;\r\n  border-top-width: 1px;\r\n  border-top-style: solid;\r\n}\r\n\r\n.b-animating .b-resource-column-line {\r\n  transition: left 0.2s linear;\r\n}\r\n\r\n.b-sch-foreground-canvas > svg {\r\n  overflow: visible;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  pointer-events: none;\r\n  height: 100%;\r\n  z-index: 3;\r\n}\r\n\r\n.b-sch-dependency-arrow {\r\n  fill: #bbb;\r\n}\r\n.b-sch-dependency-arrow path {\r\n  fill: inherit;\r\n}\r\n\r\n.b-sch-dependency {\r\n  pointer-events: visibleStroke;\r\n  fill: transparent;\r\n  stroke: #bbb;\r\n  stroke-width: 1;\r\n  transition: stroke-width 0.2s linear;\r\n}\r\n.b-sch-dependency.b-sch-dependency-over {\r\n  stroke-width: 2;\r\n  stroke-dasharray: 0;\r\n}\r\n.b-sch-dependency.b-sch-released {\r\n  display: none;\r\n}\r\n\r\n.b-sch-dependency:not(.b-sch-dependency-markerless) {\r\n  marker-end: url("#arrowEnd");\r\n}\r\n.b-sch-dependency:not(.b-sch-dependency-markerless).b-sch-bidirectional-line {\r\n  marker-start: url("#arrowEnd");\r\n}\r\n\r\n.b-edge .b-sch-foreground-canvas .b-sch-dependency.b-sch-bidirectional-line:not(.b-sch-dependency-markerless),\r\n.b-ie .b-sch-foreground-canvas .b-sch-dependency.b-sch-bidirectional-line:not(.b-sch-dependency-markerless) {\r\n  marker-start: url("#arrowStart");\r\n}\r\n.b-edge .b-sch-foreground-canvas .b-no-start-marker,\r\n.b-ie .b-sch-foreground-canvas .b-no-start-marker {\r\n  marker-start: none;\r\n}\r\n.b-edge .b-sch-foreground-canvas .b-no-end-marker,\r\n.b-ie .b-sch-foreground-canvas .b-no-end-marker {\r\n  marker-end: none;\r\n}\r\n\r\n.b-dependencies .b-sch-event.b-sch-terminals-visible,\r\n.b-dependencies .b-gantt-task.b-sch-terminals-visible {\r\n  overflow: visible;\r\n}\r\n.b-dependencies.b-highlighting .b-sch-event-wrap .b-sch-event,\r\n.b-dependencies.b-highlighting .b-sch-dependency {\r\n  opacity: 0.3;\r\n}\r\n.b-dependencies.b-highlighting .b-sch-event-wrap .b-sch-event.b-highlight,\r\n.b-dependencies.b-highlighting .b-sch-dependency.b-highlight {\r\n  opacity: 1;\r\n}\r\n.b-dependencies.b-highlighting .b-sch-resourcetimerange {\r\n  opacity: 0.3;\r\n}\r\n\r\n.b-sch-terminal {\r\n  width: 12px;\r\n  height: 12px;\r\n  background-color: #fff;\r\n  border-width: 1px;\r\n  border-style: solid;\r\n  border-color: inherit;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  z-index: 6;\r\n  cursor: pointer;\r\n}\r\n.b-sch-terminal.b-sch-terminal:hover {\r\n  background-color: #e6e6e6;\r\n}\r\n.b-dragging .b-sch-terminal, .b-sch-event-resizing .b-sch-terminal {\r\n  display: none;\r\n}\r\n\r\n.b-creating-dependency .b-sch-terminal:hover,\r\n.b-creating-dependency .b-sch-terminal-active {\r\n  background-color: #e6e6e6;\r\n}\r\n.b-creating-dependency .b-sch-terminal:hover.b-valid,\r\n.b-creating-dependency .b-sch-terminal-active.b-valid {\r\n  border-color: #27ca37;\r\n  background-color: #9eeca5;\r\n}\r\n.b-creating-dependency .b-sch-terminal:hover.b-invalid,\r\n.b-creating-dependency .b-sch-terminal-active.b-invalid {\r\n  border-color: #e53f2c;\r\n  background-color: #f6bbb4;\r\n}\r\n\r\n.b-sch-terminal-top {\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%) translateY(-80%);\r\n}\r\n\r\n.b-sch-terminal-bottom {\r\n  bottom: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%) translateY(80%);\r\n}\r\n\r\n.b-sch-terminal-left {\r\n  left: 0;\r\n  top: 50%;\r\n  transform: translateX(-80%) translateY(-50%);\r\n}\r\n\r\n.b-sch-terminal-right {\r\n  right: 0;\r\n  top: 50%;\r\n  transform: translateX(80%) translateY(-50%);\r\n}\r\n\r\n.b-labels-topbottom .b-schedulerbase:not(.b-sch-layout-milestones) .b-milestone:not(.b-sch-event-withicon) .b-sch-terminal-left,\r\n.b-labels-topbottom .b-gantt:not(.b-sch-layout-milestones) .b-milestone:not(.b-gantt-task-withicon) .b-sch-terminal-left {\r\n  transform: translate(-0.35em, -50%);\r\n}\r\n.b-labels-topbottom .b-schedulerbase:not(.b-sch-layout-milestones) .b-milestone:not(.b-sch-event-withicon) .b-sch-terminal-right,\r\n.b-labels-topbottom .b-gantt:not(.b-sch-layout-milestones) .b-milestone:not(.b-gantt-task-withicon) .b-sch-terminal-right {\r\n  transform: translate(0.35em, -50%);\r\n}\r\n\r\n.b-sch-dependency-connector {\r\n  position: absolute;\r\n  contain: strict;\r\n  border-top: 2px dashed #bbb;\r\n  z-index: 10;\r\n  transform-origin: 0 0;\r\n  pointer-events: none;\r\n}\r\n.b-sch-dependency-connector.b-removing {\r\n  transition: width 0.2s ease-out;\r\n}\r\n.b-sch-dependency-connector.b-valid {\r\n  border-color: #27ca37;\r\n  border-top-style: solid;\r\n}\r\n\r\n.b-sch-dependency-creation-tooltip.b-popup {\r\n  max-width: none;\r\n}\r\n.b-sch-dependency-creation-tooltip .b-popup-header {\r\n  padding: 0.5em 0.075em;\r\n  background-color: #27ca37;\r\n}\r\n.b-safari .b-sch-dependency-creation-tooltip .b-popup-header, .b-firefox .b-sch-dependency-creation-tooltip .b-popup-header {\r\n  width: 1.5em;\r\n}\r\n.b-sch-dependency-creation-tooltip .b-popup-header i {\r\n  margin-bottom: 0.5em;\r\n}\r\n.b-sch-dependency-creation-tooltip.b-invalid .b-popup-header {\r\n  background-color: #e53f2c;\r\n}\r\n.b-sch-dependency-creation-tooltip.b-checking .b-popup-header {\r\n  background-color: #b0b0b7;\r\n}\r\n\r\n.b-sch-dependency-creation-tooltip .b-panel-header,\r\n.b-sch-dependency-tooltip .b-panel-header {\r\n  color: #fff;\r\n}\r\n.b-sch-dependency-creation-tooltip td:first-child,\r\n.b-sch-dependency-tooltip td:first-child {\r\n  padding-right: 5px;\r\n  font-size: 12px;\r\n}\r\n.b-sch-dependency-creation-tooltip .b-sch-box,\r\n.b-sch-dependency-tooltip .b-sch-box {\r\n  width: 12px;\r\n  height: 8px;\r\n  border: 1px solid #bbb;\r\n  display: none;\r\n  margin-left: 5px;\r\n  position: relative;\r\n  top: 2px;\r\n}\r\n.b-sch-dependency-creation-tooltip .b-sch-box.b-left, .b-sch-dependency-creation-tooltip .b-sch-box.b-right, .b-sch-dependency-creation-tooltip .b-sch-box.b-top, .b-sch-dependency-creation-tooltip .b-sch-box.b-bottom,\r\n.b-sch-dependency-tooltip .b-sch-box.b-left,\r\n.b-sch-dependency-tooltip .b-sch-box.b-right,\r\n.b-sch-dependency-tooltip .b-sch-box.b-top,\r\n.b-sch-dependency-tooltip .b-sch-box.b-bottom {\r\n  display: block;\r\n}\r\n.b-sch-dependency-creation-tooltip .b-sch-box:after,\r\n.b-sch-dependency-tooltip .b-sch-box:after {\r\n  content: "";\r\n  width: 3px;\r\n  height: 3px;\r\n  border-radius: 50%;\r\n  background-color: #888;\r\n  position: absolute;\r\n}\r\n.b-sch-dependency-creation-tooltip .b-sch-box.b-right:after,\r\n.b-sch-dependency-tooltip .b-sch-box.b-right:after {\r\n  right: -2px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n}\r\n.b-sch-dependency-creation-tooltip .b-sch-box.b-left:after,\r\n.b-sch-dependency-tooltip .b-sch-box.b-left:after {\r\n  left: -2px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n}\r\n.b-sch-dependency-creation-tooltip .b-sch-box.b-top:after,\r\n.b-sch-dependency-tooltip .b-sch-box.b-top:after {\r\n  top: -2px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n.b-sch-dependency-creation-tooltip .b-sch-box.b-bottom:after,\r\n.b-sch-dependency-tooltip .b-sch-box.b-bottom:after {\r\n  bottom: -2px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.b-predecessor-list {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.b-predecessor-list > * {\r\n  flex: 0 0 auto;\r\n  align-self: stretch;\r\n  width: auto;\r\n}\r\n.b-predecessor-list > .b-list-item .b-predecessor-item-text {\r\n  flex: 1;\r\n}\r\n.b-predecessor-list > .b-list-item .b-sch-box {\r\n  width: 1.2em;\r\n  height: 0.9em;\r\n  border: 1px solid #bbb;\r\n  margin-left: 0.5em;\r\n  position: relative;\r\n}\r\n.b-predecessor-list > .b-list-item .b-sch-box:after {\r\n  content: "";\r\n  width: 0.5em;\r\n  height: 0.5em;\r\n  border-radius: 50%;\r\n  background-color: #fff;\r\n  position: absolute;\r\n  border: 1px solid #bbb;\r\n  display: none;\r\n}\r\n.b-predecessor-list > .b-list-item.b-selected .b-sch-box {\r\n  background-color: #27ca37;\r\n}\r\n.b-predecessor-list > .b-list-item.b-selected.b-fs .b-sch-box.b-from:after {\r\n  right: -0.25em;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: block;\r\n}\r\n.b-predecessor-list > .b-list-item.b-selected.b-fs .b-sch-box.b-to:after {\r\n  left: -0.25em;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: block;\r\n}\r\n.b-predecessor-list > .b-list-item.b-selected.b-sf .b-sch-box.b-from:after {\r\n  left: -0.25em;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: block;\r\n}\r\n.b-predecessor-list > .b-list-item.b-selected.b-sf .b-sch-box.b-to:after {\r\n  right: -0.25em;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: block;\r\n}\r\n.b-predecessor-list > .b-list-item.b-selected.b-ss .b-sch-box.b-from:after {\r\n  left: -0.25em;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: block;\r\n}\r\n.b-predecessor-list > .b-list-item.b-selected.b-ss .b-sch-box.b-to:after {\r\n  left: -0.25em;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: block;\r\n}\r\n.b-predecessor-list > .b-list-item.b-selected.b-ff .b-sch-box.b-from:after {\r\n  right: -0.25em;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: block;\r\n}\r\n.b-predecessor-list > .b-list-item.b-selected.b-ff .b-sch-box.b-to:after {\r\n  right: -0.25em;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: block;\r\n}\r\n\r\n.b-dependencyeditor.b-popup {\r\n  width: 29em;\r\n}\r\n.b-dependencyeditor.b-popup .b-popup-content {\r\n  padding: 1em 1em 0 1em;\r\n}\r\n.b-dependencyeditor.b-popup .b-popup-content .b-textfield label {\r\n  flex: 1 0 4em;\r\n}\r\n.b-dependencyeditor.b-popup .b-bottom-toolbar {\r\n  padding: 1em 1em 0.4em 1em;\r\n}\r\n.b-dependencyeditor.b-popup .b-bottom-toolbar .b-label-filler {\r\n  display: none;\r\n}\r\n.b-dependencyeditor.b-popup .b-bottom-toolbar > button {\r\n  flex: 1;\r\n  margin-right: 0.5em;\r\n}\r\n.b-dependencyeditor.b-popup .b-bottom-toolbar > button:last-child {\r\n  margin-right: 0;\r\n}\r\n\r\n.b-dragselect-rect {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  transform-origin: 0 0;\r\n  pointer-events: none;\r\n  z-index: 100;\r\n  border: 1px dashed #474849;\r\n}\r\n\r\n.b-cut-item {\r\n  opacity: 0.4;\r\n}\r\n\r\n.b-schedulerbase.b-dragging-event {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.b-sch-event-wrap.b-dragging {\r\n  z-index: 7;\r\n  pointer-events: none;\r\n  opacity: 0.65;\r\n}\r\n.b-sch-event-wrap.b-dragging.b-drag-main {\r\n  z-index: 10;\r\n  opacity: 1;\r\n}\r\n\r\n.b-drag-proxy .b-sch-event-wrap {\r\n  opacity: 0.5;\r\n}\r\n\r\n.b-sch-event-wrap.b-aborting, .b-sch-event-wrap.b-drag-animation {\r\n  transition: background-color 0.2s, color 0.2s, opacity 0.2s, font-weight 0.2s, border 0.2s, transform 0.2s;\r\n}\r\n\r\n.b-float-root > .b-tooltip.b-eventdrag-tooltip {\r\n  pointer-events: none;\r\n}\r\n\r\n.b-sch-tip-message {\r\n  margin-top: 0.5em;\r\n}\r\n.b-sch-tip-message:empty {\r\n  display: none;\r\n}\r\n\r\n.b-schedulerbase.b-dragcreating {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n.b-schedulerbase.b-dragcreating .b-sch-timeaxis-cell,\r\n.b-schedulerbase.b-dragcreating .b-sch-event-wrap {\r\n  pointer-events: none;\r\n}\r\n\r\n.b-dragcreate-lock .b-iscreating {\r\n  opacity: 0.5;\r\n}\r\n.b-dragcreate-lock .b-iscreating .b-sch-event-content {\r\n  display: none;\r\n}\r\n\r\n.b-sch-dragcreating.b-too-narrow {\r\n  opacity: 0.25;\r\n}\r\n\r\n.b-sch-dragcreate-tooltip.b-too-narrow .b-sch-tooltip-startdate,\r\n.b-sch-dragcreate-tooltip.b-too-narrow .b-sch-tooltip-enddate {\r\n  color: #e53f2c;\r\n}\r\n.b-sch-dragcreate-tooltip.b-too-narrow .b-sch-tooltip-startdate .b-sch-clock,\r\n.b-sch-dragcreate-tooltip.b-too-narrow .b-sch-tooltip-enddate .b-sch-clock {\r\n  border-color: #e53f2c;\r\n}\r\n\r\n.b-eventeditor.b-popup {\r\n  width: 29em;\r\n}\r\n.b-eventeditor.b-popup .b-eventeditor-content.b-popup-content {\r\n  padding-bottom: 0;\r\n}\r\n.b-eventeditor.b-popup .b-eventeditor-content.b-popup-content .b-textfield label, .b-eventeditor.b-popup .b-eventeditor-content.b-popup-content .b-checkbox > label {\r\n  flex: 1 0 6em;\r\n}\r\n.b-eventeditor.b-popup .b-bottom-toolbar > .b-toolbar-content {\r\n  padding-left: calc(1em + 6.6em);\r\n}\r\n.b-eventeditor.b-popup .b-bottom-toolbar > .b-toolbar-content > button {\r\n  flex: 1;\r\n  margin-right: 0.5em;\r\n}\r\n.b-eventeditor.b-popup .b-bottom-toolbar > .b-toolbar-content > button:last-child {\r\n  margin-right: 0;\r\n}\r\n\r\n.b-ie .b-eventfilter {\r\n  flex: 0 1 200px;\r\n}\r\n\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-start:before, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-end:after, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-true:before, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-true:after,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-start:before,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-end:after,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-true:before,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-true:after {\r\n  content: "";\r\n  width: 4px;\r\n  height: 50%;\r\n  top: 25%;\r\n  position: absolute;\r\n  border-style: solid;\r\n  border-color: rgba(255, 255, 255, 0.5);\r\n  pointer-events: none;\r\n  z-index: 7;\r\n}\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-true:before, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-start:before,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-true:before,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-start:before {\r\n  margin-left: 3px;\r\n  left: 0;\r\n  border-width: 0 1px;\r\n}\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-true:after, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-end:after, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-true:hover:after, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-end:hover:after,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-true:after,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-end:after,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-true:hover:after,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-end:hover:after {\r\n  margin-right: 3px;\r\n  right: 0;\r\n  border-width: 0 1px;\r\n}\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event.b-resize-handle {\r\n  cursor: ew-resize;\r\n}\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency).b-resizing-event, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-resizing {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  cursor: ew-resize !important;\r\n}\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover.b-sch-style-rounded .b-sch-event.b-sch-event-resizable-start:before, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover.b-sch-style-rounded .b-sch-event.b-sch-event-resizable-end:after, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover.b-sch-style-rounded .b-sch-event.b-sch-event-resizable-true:before, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover.b-sch-style-rounded .b-sch-event.b-sch-event-resizable-true:after,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-style-rounded .b-sch-event-resizing.b-sch-event-resizable-start:before,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-style-rounded .b-sch-event-resizing.b-sch-event-resizable-end:after,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-style-rounded .b-sch-event-resizing.b-sch-event-resizable-true:before,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-style-rounded .b-sch-event-resizing.b-sch-event-resizable-true:after {\r\n  height: 30%;\r\n  top: 35%;\r\n}\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover.b-sch-style-rounded .b-sch-event.b-sch-event-resizable-true:before, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover.b-sch-style-rounded .b-sch-event.b-sch-event-resizable-start:before,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-style-rounded .b-sch-event-resizing.b-sch-event-resizable-true:before,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-style-rounded .b-sch-event-resizing.b-sch-event-resizable-start:before {\r\n  left: 0.3em;\r\n}\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover.b-sch-style-rounded .b-sch-event.b-sch-event-resizable-true:after, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover.b-sch-style-rounded .b-sch-event.b-sch-event-resizable-end:after, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover.b-sch-style-rounded .b-sch-event.b-sch-event-resizable-true:hover:after, .b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover.b-sch-style-rounded .b-sch-event.b-sch-event-resizable-end:hover:after,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-style-rounded .b-sch-event-resizing.b-sch-event-resizable-true:after,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-style-rounded .b-sch-event-resizing.b-sch-event-resizable-end:after,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-style-rounded .b-sch-event-resizing.b-sch-event-resizable-true:hover:after,\r\n.b-eventresize:not(.b-sch-vertical):not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-style-rounded .b-sch-event-resizing.b-sch-event-resizable-end:hover:after {\r\n  right: 0.3em;\r\n}\r\n\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-start:before, .b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-end:after, .b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-true:before, .b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-true:after,\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-start:before,\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-end:after,\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-true:before,\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-true:after {\r\n  content: "";\r\n  height: 4px;\r\n  width: 2em;\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  border-style: solid;\r\n  border-color: rgba(255, 255, 255, 0.5);\r\n  pointer-events: none;\r\n}\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-true:before, .b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-start:before,\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-true:before,\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-start:before {\r\n  margin-top: 3px;\r\n  top: 0;\r\n  border-width: 1px 0;\r\n}\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-true:after, .b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-end:after, .b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-true:hover:after, .b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap.b-sch-event-hover:not(.b-sch-style-line) .b-sch-event.b-sch-event-resizable-end:hover:after,\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-true:after,\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-end:after,\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-true:hover:after,\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-wrap:not(.b-sch-style-line) .b-sch-event-resizing.b-sch-event-resizable-end:hover:after {\r\n  margin-bottom: 3px;\r\n  bottom: 0;\r\n  border-width: 1px 0;\r\n}\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event.b-resize-handle {\r\n  cursor: ns-resize;\r\n}\r\n.b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency).b-resizing-event, .b-eventresize.b-sch-vertical:not(.b-readonly):not(.b-creating-dependency) .b-sch-event-resizing {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  cursor: ns-resize !important;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-event-wrap-resizing {\r\n  z-index: 7;\r\n}\r\n\r\n.b-schedulerbase.b-resizing-event .b-sch-timeaxis-cell,\r\n.b-schedulerbase.b-resizing-event .b-sch-event-wrap {\r\n  /* prevent drag create */\r\n  pointer-events: none;\r\n}\r\n\r\n.b-popup.b-sch-event-tooltip {\r\n  max-width: 30em;\r\n}\r\n.b-popup.b-sch-event-tooltip .b-sch-clockwrap {\r\n  margin-top: 0.5em;\r\n}\r\n.b-popup.b-sch-event-tooltip .b-sch-clockwrap:first-child {\r\n  margin-top: 0;\r\n}\r\n.b-popup.b-sch-event-tooltip .b-sch-event-title {\r\n  font-weight: 600;\r\n}\r\n\r\n.b-timeaxis-group-summary {\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.b-timeaxis-group-summary .b-timeaxis-tick {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  justify-content: center;\r\n}\r\n.b-timeaxis-group-summary .b-timeaxis-summary-value {\r\n  text-align: center;\r\n}\r\n\r\n.b-gridbase.b-schedulerbase .b-timeline-subgrid .b-grid-row.b-group-footer.b-hover .b-grid-cell,\r\n.b-gridbase.b-schedulerbase .b-timeline-subgrid .b-grid-row.b-group-footer.b-hover .b-grid-cell:hover {\r\n  background-color: #fffbf5;\r\n}\r\n\r\n.b-headerzoom-rect {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  height: 100%;\r\n  transform-origin: 0 0;\r\n  pointer-events: none;\r\n  z-index: 100;\r\n  background: rgba(152, 193, 255, 0.3);\r\n}\r\n\r\n.b-ie .b-sch-event-wrap .b-sch-label-right, .b-ie .b-gantt-task-wrap .b-sch-label-right {\r\n  right: -5px;\r\n  top: 50%;\r\n  transform: translate3d(100%, -50%, 0);\r\n}\r\n.b-ie .b-sch-event-wrap .b-sch-label-left, .b-ie .b-gantt-task-wrap .b-sch-label-left {\r\n  left: -5px;\r\n  top: 50%;\r\n  transform: translate3d(-100%, -50%, 0);\r\n}\r\n\r\n.b-sch-event-wrap .b-sch-label, .b-gantt-task-wrap .b-sch-label {\r\n  font-size: 12px;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  margin: 0.2em 0;\r\n  color: #888;\r\n  font-weight: 500;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  pointer-events: all;\r\n}\r\n.b-sch-event-wrap .b-sch-label.b-sch-label-top, .b-gantt-task-wrap .b-sch-label.b-sch-label-top {\r\n  order: -2;\r\n}\r\n.b-sch-event-wrap .b-sch-label.b-sch-label-left, .b-gantt-task-wrap .b-sch-label.b-sch-label-left {\r\n  order: -1;\r\n}\r\n.b-sch-event-wrap .b-sch-label-left, .b-gantt-task-wrap .b-sch-label-left {\r\n  position: absolute;\r\n  align-self: self-start;\r\n  transform: translate3d(calc(-100% - 1.5em), 0, 0);\r\n  margin: 0;\r\n}\r\n.b-sch-event-wrap .b-sch-label-right, .b-gantt-task-wrap .b-sch-label-right {\r\n  position: absolute;\r\n  align-self: flex-end;\r\n  transform: translate3d(calc(100% + 1.5em), 0, 0);\r\n  margin: 0;\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-label-left, .b-gantt-task-wrap.b-milestone-wrap .b-sch-label-left {\r\n  transform: translate3d(calc(-100% - 3em), 0, 0);\r\n}\r\n.b-sch-event-wrap.b-milestone-wrap .b-sch-label-right, .b-gantt-task-wrap.b-milestone-wrap .b-sch-label-right {\r\n  transform: translate3d(calc(100% + 3em), 0, 0);\r\n}\r\n.b-baselines .b-sch-event-wrap.b-has-baselines .b-sch-label-left, .b-baselines .b-sch-event-wrap.b-has-baselines .b-sch-label-right, .b-baselines .b-gantt-task-wrap.b-has-baselines .b-sch-label-left, .b-baselines .b-gantt-task-wrap.b-has-baselines .b-sch-label-right {\r\n  top: 0;\r\n  line-height: 85%;\r\n}\r\n\r\n.b-measure-label {\r\n  height: 1em;\r\n  position: fixed;\r\n  top: -10000px;\r\n  left: -10000px;\r\n  visibility: hidden;\r\n}\r\n.b-measure-label label {\r\n  padding-left: 1.5em;\r\n}\r\n\r\n.b-pan .b-timeline-subgrid {\r\n  cursor: move;\r\n}\r\n\r\n.b-sch-resourcetimerange {\r\n  display: flex;\r\n  position: absolute;\r\n  background-color: rgba(255, 235, 59, 0.1);\r\n  color: #ffe60c;\r\n  z-index: 2;\r\n  justify-content: center;\r\n  align-items: flex-end;\r\n}\r\n.b-sch-resourcetimerange [data-task-feature] {\r\n  font-size: 12px;\r\n}\r\n.b-animating .b-sch-resourcetimerange {\r\n  transition: background-color 0.2s, color 0.2s, opacity 0.2s, font-weight 0.2s, border 0.2s, transform 0.2s, width 0.2s, height 0.2s, font-size 0.2s;\r\n}\r\n.b-sch-resourcetimerange .b-sch-event-withicon .b-fa {\r\n  margin-right: 0.4em;\r\n  line-height: inherit;\r\n}\r\n.b-sch-resourcetimerange .b-sch-event-content {\r\n  margin: 3px;\r\n}\r\n\r\n.b-sch-vertical .b-sch-resourcetimerange {\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n}\r\n\r\n.b-sch-color-red.b-sch-resourcetimerange {\r\n  background-color: rgba(229, 63, 44, 0.1);\r\n  color: #d02b18;\r\n}\r\n\r\n.b-sch-color-pink.b-sch-resourcetimerange {\r\n  background-color: rgba(254, 49, 131, 0.1);\r\n  color: #fe0468;\r\n}\r\n\r\n.b-sch-color-purple.b-sch-resourcetimerange {\r\n  background-color: rgba(254, 49, 234, 0.1);\r\n  color: #fe04e5;\r\n}\r\n\r\n.b-sch-color-violet.b-sch-resourcetimerange {\r\n  background-color: rgba(172, 49, 254, 0.1);\r\n  color: #9a04fe;\r\n}\r\n\r\n.b-sch-color-indigo.b-sch-resourcetimerange {\r\n  background-color: rgba(69, 49, 254, 0.1);\r\n  color: #1c04fe;\r\n}\r\n\r\n.b-sch-color-blue.b-sch-resourcetimerange {\r\n  background-color: rgba(49, 131, 254, 0.1);\r\n  color: #0468fe;\r\n}\r\n\r\n.b-sch-color-cyan.b-sch-resourcetimerange {\r\n  background-color: rgba(49, 233, 254, 0.1);\r\n  color: #04e4fe;\r\n}\r\n\r\n.b-sch-color-teal.b-sch-resourcetimerange {\r\n  background-color: rgba(49, 254, 172, 0.1);\r\n  color: #04fe9a;\r\n}\r\n\r\n.b-sch-color-green.b-sch-resourcetimerange {\r\n  background-color: rgba(39, 202, 55, 0.1);\r\n  color: #1fad2d;\r\n}\r\n\r\n.b-sch-color-lime.b-sch-resourcetimerange {\r\n  background-color: rgba(118, 230, 44, 0.1);\r\n  color: #61d117;\r\n}\r\n\r\n.b-sch-color-yellow.b-sch-resourcetimerange {\r\n  background-color: rgba(255, 235, 59, 0.1);\r\n  color: #ffe60c;\r\n}\r\n\r\n.b-sch-color-orange.b-sch-resourcetimerange {\r\n  background-color: rgba(254, 172, 49, 0.1);\r\n  color: #fe9a04;\r\n}\r\n\r\n.b-sch-color-deep-orange.b-sch-resourcetimerange {\r\n  background-color: rgba(255, 112, 67, 0.1);\r\n  color: #ff4b13;\r\n}\r\n\r\n.b-sch-color-gray.b-sch-resourcetimerange {\r\n  background-color: rgba(160, 160, 160, 0.1);\r\n  color: #8e8282;\r\n}\r\n\r\n.b-sch-color-gantt-green.b-sch-resourcetimerange {\r\n  background-color: rgba(142, 233, 151, 0.1);\r\n  color: #5de16a;\r\n}\r\n\r\n.b-schedule-selected-tick {\r\n  position: absolute;\r\n  pointer-events: none;\r\n  z-index: 100;\r\n  background-color: rgba(254, 172, 49, 0.3);\r\n}\r\n\r\n.b-sch-scheduletip.b-nonworking-time {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.b-simpleeventeditor {\r\n  z-index: 10;\r\n}\r\n.b-simpleeventeditor .b-field {\r\n  align-items: stretch;\r\n}\r\n.b-sch-horizontal .b-simpleeventeditor .b-field {\r\n  height: 100%;\r\n}\r\n\r\n.b-stickyevents .b-sch-resourcetimerange {\r\n  justify-content: start;\r\n  overflow: hidden;\r\n}\r\n\r\n.b-sch-summarybar {\r\n  padding: 0;\r\n  flex-direction: row;\r\n  justify-content: start;\r\n  flex-grow: unset !important;\r\n}\r\n.b-sch-summarybar .b-timeaxis-tick {\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: center;\r\n  overflow: hidden;\r\n  justify-content: center;\r\n  align-items: stretch;\r\n}\r\n\r\n.b-sch-summarybar:not(.b-sch-vertical) .b-timeaxis-tick {\r\n  padding: 0.5em 0;\r\n}\r\n.b-sch-summarybar:not(.b-sch-vertical) .b-timeaxis-tick:not(:last-child) {\r\n  border-right: 1px solid #d8d9da;\r\n}\r\n\r\n.b-sch-vertical .b-sch-summarybar {\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background: #f3f4f5 !important;\r\n  color: #667280;\r\n}\r\n.b-sch-vertical .b-sch-summarybar .b-timeaxis-tick {\r\n  padding: 0 0.5em;\r\n}\r\n.b-sch-vertical .b-sch-summarybar .b-timeaxis-tick:not(:last-child) {\r\n  border-bottom: 1px solid #d8d9da;\r\n}\r\n\r\n.b-timeaxis-summary-tip {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n}\r\n.b-timeaxis-summary-tip header {\r\n  width: 100%;\r\n  text-align: center;\r\n  font-weight: 700;\r\n  margin-bottom: 1em;\r\n}\r\n.b-timeaxis-summary-tip label {\r\n  flex: 1 1 50%;\r\n}\r\n.b-timeaxis-summary-tip .b-timeaxis-summary-value {\r\n  flex: 0 0 auto;\r\n}\r\n\r\n.b-float-root > .b-floating.b-interaction-tooltip {\r\n  pointer-events: none;\r\n}\r\n\r\n.b-sch-timerange {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  position: absolute;\r\n  left: 0;\r\n  overflow: hidden;\r\n  justify-content: center;\r\n  color: #aaa;\r\n  z-index: 1;\r\n  cursor: pointer;\r\n}\r\n.b-sch-timerange.b-over-resize-handle {\r\n  cursor: ew-resize;\r\n}\r\n.b-schedulerbase:not(.b-dragging-timerange) .b-sch-timerange:hover {\r\n  z-index: 3;\r\n}\r\n.b-sch-timerange label {\r\n  font-size: 0.8em;\r\n  color: inherit;\r\n  white-space: nowrap;\r\n  cursor: inherit;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  padding: 0.3em;\r\n}\r\n.b-sch-foreground-canvas .b-sch-timerange.b-narrow-range label {\r\n  writing-mode: tb;\r\n}\r\n\r\n.b-sch-current-time {\r\n  pointer-events: none;\r\n}\r\n\r\n.b-animating .b-sch-timerange {\r\n  transition: transform 0.3s, width 0.3s, height 0.3s;\r\n}\r\n\r\n.b-timeline-subgrid .b-sch-timerange {\r\n  height: 100%;\r\n  align-items: flex-start;\r\n  min-width: 1px;\r\n  color: #aaa;\r\n  font-size: 14px;\r\n}\r\n.b-timeline-subgrid .b-sch-timerange:not(.b-sch-line) label.b-vertical {\r\n  -webkit-writing-mode: vertical-lr;\r\n  writing-mode: vertical-lr;\r\n  -ms-writing-mode: tb-lr;\r\n}\r\n.b-timeline-subgrid .b-sch-timerange.b-sch-line:before {\r\n  display: none;\r\n}\r\n.b-timeline-subgrid .b-sch-range {\r\n  background-color: rgba(240, 240, 240, 0.5);\r\n  pointer-events: none;\r\n}\r\n.b-timeline-subgrid .b-sch-line {\r\n  border-left: 2px dotted #fab005;\r\n  color: #fff;\r\n  padding: 0;\r\n  z-index: 2;\r\n}\r\n.b-timeline-subgrid .b-sch-line label {\r\n  background-color: #fab005;\r\n  padding: 0.3em;\r\n  white-space: nowrap;\r\n  margin-top: 0.5em;\r\n}\r\n.b-timeline-subgrid .b-sch-current-time {\r\n  border-left-color: #fa5252;\r\n}\r\n\r\n.b-sch-vertical .b-sch-timerange {\r\n  left: auto;\r\n  top: 0;\r\n}\r\n.b-sch-vertical .b-sch-timerange label {\r\n  -webkit-writing-mode: vertical-lr;\r\n  writing-mode: vertical-lr;\r\n  -ms-writing-mode: tb-lr;\r\n  transform: rotate(180deg);\r\n}\r\n.b-sch-vertical .b-sch-timerange.b-over-resize-handle {\r\n  cursor: ns-resize;\r\n}\r\n.b-sch-vertical .b-timeline-subgrid .b-sch-timerange {\r\n  height: auto;\r\n  width: 100%;\r\n}\r\n.b-sch-vertical .b-timeline-subgrid .b-sch-line {\r\n  border-top: 2px dotted #fab005;\r\n  color: #fff;\r\n  padding: 0;\r\n}\r\n.b-sch-vertical .b-timeline-subgrid .b-sch-line label {\r\n  background-color: #fab005;\r\n  padding: 0.3em;\r\n  white-space: nowrap;\r\n  margin-left: 0.5em;\r\n}\r\n\r\n.b-grid-header .b-sch-timerange {\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  bottom: 0;\r\n  background-color: #98c1ff;\r\n  color: #fff;\r\n  line-height: 1;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n.b-grid-header .b-sch-timerange.b-sch-line {\r\n  padding: 0 0.5em;\r\n  background-color: #fab005;\r\n  z-index: 2;\r\n}\r\n.b-grid-header .b-sch-timerange.b-sch-current-time {\r\n  background-color: #fa5252;\r\n}\r\n.b-grid-header .b-sch-timerange:before {\r\n  margin-inline-end: 0.5em;\r\n}\r\n.b-grid-header .b-sch-timerange label {\r\n  padding: 0;\r\n}\r\n.b-grid-header.b-sch-timeaxiscolumn-levels-1 .b-sch-timerange {\r\n  height: 100%;\r\n}\r\n.b-grid-header.b-sch-timeaxiscolumn-levels-2 .b-sch-timerange {\r\n  height: 50%;\r\n}\r\n.b-grid-header.b-sch-timeaxiscolumn-levels-3 .b-sch-timerange {\r\n  height: 33.3333333333%;\r\n}\r\n.b-grid-header .b-sch-line {\r\n  border-bottom-right-radius: 5px;\r\n  border-top-right-radius: 5px;\r\n}\r\n.b-grid-header .b-sch-line.b-sch-timerange-with-headerlabel label {\r\n  left: -2px;\r\n}\r\n\r\n.b-verticaltimeaxiscolumn .b-sch-timerange {\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  right: 0;\r\n  background-color: #98c1ff;\r\n  color: #fff;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n.b-verticaltimeaxiscolumn .b-sch-timerange:before {\r\n  margin-bottom: 0.5em;\r\n}\r\n.b-verticaltimeaxiscolumn .b-sch-line {\r\n  border-bottom-left-radius: 5px;\r\n  border-bottom-right-radius: 5px;\r\n}\r\n.b-verticaltimeaxiscolumn .b-sch-line.b-sch-timerange-with-headerlabel label {\r\n  top: -2px;\r\n}\r\n\r\n.b-sch-timeranges-with-headerelements .b-timeline-subgrid .b-sch-range:before {\r\n  display: none;\r\n}\r\n\r\n.b-grid-headers .b-sch-nonworkingtime {\r\n  background-color: rgba(240, 213, 213, 0.3);\r\n  z-index: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.b-sch-clockwrap {\r\n  display: flex;\r\n}\r\n.b-sch-clockwrap:not(:first-child) {\r\n  margin-top: 0.3em;\r\n}\r\n\r\n.b-sch-clock {\r\n  position: relative;\r\n  height: 21px;\r\n  width: 21px;\r\n  min-width: 21px;\r\n  white-space: nowrap;\r\n}\r\n.b-sch-clock .b-sch-hour-indicator {\r\n  border-top: 2px solid transparent;\r\n  border-bottom: 6px solid #777;\r\n}\r\n.b-sch-clock .b-sch-minute-indicator {\r\n  border-top: 8px solid #777;\r\n}\r\n.b-sch-clock .b-sch-minute-indicator,\r\n.b-sch-clock .b-sch-hour-indicator {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 1px;\r\n  width: 2px;\r\n  height: 8px;\r\n  overflow: hidden;\r\n  margin-left: -1px;\r\n  transform-origin: 50% 100%;\r\n}\r\n\r\n.b-sch-clock-hour .b-sch-clock {\r\n  border: 2px solid #feac31;\r\n  background-color: #f8f8f8;\r\n  border-radius: 100%;\r\n}\r\n.b-sch-clock-hour .b-sch-clock-dot {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  width: 4px;\r\n  height: 4px;\r\n  margin-left: -2px;\r\n  margin-top: -2px;\r\n  background: #777;\r\n  border-radius: 3px;\r\n  z-index: 2;\r\n}\r\n\r\n.b-sch-clock-day .b-sch-clock {\r\n  background-color: #f8f8f8;\r\n  border: none;\r\n  border-radius: 2px;\r\n}\r\n.b-sch-clock-day .b-sch-clock .b-sch-hour-indicator {\r\n  width: inherit;\r\n  position: static !important;\r\n  background-color: #feac31;\r\n  border-top-left-radius: 2px;\r\n  border-top-right-radius: 2px;\r\n  font-size: 7px;\r\n  line-height: 8px;\r\n  text-align: center;\r\n  color: #fff;\r\n  height: 9px;\r\n  text-indent: 0;\r\n  margin-top: -1px;\r\n  margin-left: 0;\r\n  border: 0 none;\r\n  transform: none !important;\r\n}\r\n.b-sch-clock-day .b-sch-clock .b-sch-minute-indicator {\r\n  width: inherit;\r\n  color: #555;\r\n  position: static !important;\r\n  height: 16px;\r\n  background-color: transparent;\r\n  font-size: 10px;\r\n  text-align: center;\r\n  text-indent: 0;\r\n  line-height: 12px;\r\n  border: none;\r\n  margin-left: 0;\r\n  transform: none !important;\r\n}\r\n.b-sch-clock-day .b-sch-clock-dot {\r\n  display: none;\r\n}\r\n\r\n.b-sch-clock-text {\r\n  margin-left: 8px;\r\n  padding-top: 1px;\r\n  white-space: nowrap;\r\n  width: 100%;\r\n}\r\n\r\n/*.b-rtl .b-sch-clock-text {\r\n    margin-left  : auto;\r\n    margin-right : 25px;\r\n}*/\r\n.b-sticky-headers .b-grid-header, .b-sticky-headers .b-timeaxis, .b-sticky-headers .b-sticky-header, .b-sticky-headers .b-sch-header-timeaxis-cell {\r\n  overflow: visible;\r\n}\r\n.b-sticky-headers .b-sch-header-text.b-sticky-header {\r\n  position: sticky;\r\n}\r\n.b-sticky-headers .b-horizontaltimeaxis .b-sch-header-text.b-sticky-header {\r\n  left: 0;\r\n  padding: 0 0.5em 0 0.75em;\r\n}\r\n.b-sticky-headers .b-verticaltimeaxis .b-sch-header-text.b-sticky-header {\r\n  top: 0;\r\n}\r\n.b-sticky-headers .b-verticaltimeaxis .b-sch-header-row-0 .b-sch-header-text.b-sticky-header {\r\n  padding-top: 0.5em;\r\n}\r\n.b-sticky-headers .b-verticaltimeaxis .b-sch-header-row.b-lowest .b-sch-header-text.b-sticky-header {\r\n  padding-top: 0.75em;\r\n  padding-bottom: 0.5em;\r\n}\r\n\r\n.b-sch-vertical .b-sticky-headers .b-content-element, .b-sch-vertical .b-sticky-headers .b-grid-subgrid, .b-sch-vertical .b-sticky-headers .b-verticaltimeaxis-row, .b-sch-vertical .b-sticky-headers .b-verticaltimeaxiscolumn, .b-sch-vertical .b-sticky-headers .b-verticaltimeaxis, .b-sch-vertical .b-sticky-headers .b-sch-header-row, .b-sch-vertical .b-sticky-headers .b-sch-header-timeaxis-cell {\r\n  overflow: visible;\r\n}\r\n\r\n.b-sch-column.b-grid-header {\r\n  padding: 0;\r\n}\r\n\r\n.b-grid-header-container .b-sch-timeaxiscolumn {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n  padding: 0;\r\n  flex-grow: unset !important;\r\n  background-color: #f3f4f5;\r\n  border-right: 0 none;\r\n}\r\n.b-grid-header-container .b-sch-timeaxiscolumn.b-depth-0:hover {\r\n  background-color: #f3f4f5 !important;\r\n}\r\n.b-grid-header-container .b-sch-timeaxiscolumn .b-sch-header-timeaxis-cell:hover {\r\n  background-color: white;\r\n}\r\n\r\n.b-horizontaltimeaxis {\r\n  flex-direction: column;\r\n  flex: 1 0 100%;\r\n}\r\n.b-horizontaltimeaxis .b-sch-header-row {\r\n  flex: 1 0 2em;\r\n}\r\n.b-horizontaltimeaxis .b-sch-header-row.b-sch-header-row-0.b-lowest {\r\n  flex: 1;\r\n}\r\n.b-horizontaltimeaxis .b-sch-header-timeaxis-cell {\r\n  height: 100%;\r\n  border-left: 1px solid #d8d9da;\r\n}\r\n.b-horizontaltimeaxis .b-sch-header-timeaxis-cell:hover {\r\n  cursor: pointer;\r\n  background-color: white;\r\n}\r\n.b-horizontaltimeaxis .b-sch-header-timeaxis-cell.b-last .b-sch-header-text {\r\n  overflow: hidden;\r\n  padding: 0 0.5em;\r\n}\r\n\r\n.b-sch-timeaxiscolumn-levels-1 {\r\n  min-height: 1.5em;\r\n}\r\n\r\n.b-sch-timeaxiscolumn-levels-2 {\r\n  min-height: 3em;\r\n}\r\n\r\n.b-sch-timeaxiscolumn-levels-3 {\r\n  min-height: 4.5em;\r\n}\r\n\r\n.b-sch-header-row {\r\n  position: relative;\r\n  contain: strict;\r\n}\r\n.b-sch-header-row:last-child .b-sch-header-timeaxis-cell {\r\n  border-bottom: none;\r\n}\r\n\r\n.b-sch-header-timeaxis-cell {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  color: #667280;\r\n  border-bottom: 1px solid #d8d9da;\r\n  overflow: hidden;\r\n  transition: background-color 0.2s;\r\n  font-size: 0.9em;\r\n  font-weight: 500;\r\n  padding: 0.5em 0 0.5em 0;\r\n  white-space: nowrap;\r\n  contain: strict;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n.b-sch-header-timeaxis-cell.b-align-start, .b-sch-header-timeaxis-cell.b-align-end {\r\n  padding-left: 0.3em;\r\n  padding-right: 0.3em;\r\n}\r\n.b-sch-header-timeaxis-cell.b-align-start {\r\n  justify-content: flex-start;\r\n}\r\n.b-sch-header-timeaxis-cell.b-align-end {\r\n  justify-content: flex-end;\r\n}\r\n\r\n.b-schedulerbase.b-fill-last-column .b-sch-timeaxiscolumn:last-child {\r\n  border-right-color: #d8d9da;\r\n}\r\n\r\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\r\n  .b-sch-timeaxiscolumn {\r\n    height: 100%;\r\n  }\r\n}\r\n.b-verticaltimeaxiscolumn {\r\n  flex-flow: column nowrap;\r\n  align-items: stretch;\r\n  padding: 0;\r\n  border-right: none;\r\n  background-color: #fbfcfc !important;\r\n}\r\n.b-verticaltimeaxiscolumn.b-grid-cell.b-focused:after {\r\n  display: none;\r\n}\r\n\r\n.b-verticaltimeaxis {\r\n  flex: 1 0 100%;\r\n  contain: strict;\r\n}\r\n.b-verticaltimeaxis .b-sch-header-row {\r\n  flex-direction: column;\r\n  flex: 1;\r\n}\r\n.b-verticaltimeaxis .b-sch-header-timeaxis-cell {\r\n  width: 100%;\r\n  text-transform: uppercase;\r\n  padding: 0;\r\n  border-left: 0 none;\r\n}\r\n.b-verticaltimeaxis .b-sch-header-row.b-lowest .b-sch-header-timeaxis-cell {\r\n  border-right: none;\r\n  border-bottom: none;\r\n  justify-content: flex-end;\r\n}\r\n.b-verticaltimeaxis .b-sch-header-row.b-lowest .b-sch-header-timeaxis-cell .b-sch-header-text {\r\n  padding-right: 0.5em;\r\n}\r\n.b-verticaltimeaxis .b-sch-header-row.b-lowest .b-sch-header-timeaxis-cell:hover {\r\n  background-color: #f3f4f5;\r\n}\r\n.b-verticaltimeaxis .b-sch-header-row:not(.b-lowest) {\r\n  flex: 0 0 2em;\r\n}\r\n.b-verticaltimeaxis .b-sch-header-row:not(.b-lowest) .b-sch-header-timeaxis-cell {\r\n  align-items: flex-start;\r\n  border-right: 1px solid #d8d9da;\r\n}\r\n.b-verticaltimeaxis .b-sch-header-row:not(.b-lowest) .b-sch-header-text {\r\n  padding-bottom: 0.75em;\r\n  writing-mode: vertical-lr;\r\n  -ms-writing-mode: tb-lr;\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.b-sch-vertical .b-sch-timeaxiscolumn {\r\n  flex-direction: row;\r\n  min-height: 3em;\r\n}\r\n\r\n.b-resourceheader {\r\n  flex: 1;\r\n  position: relative;\r\n  contain: strict;\r\n}\r\n.b-resourceheader.b-has-images {\r\n  min-height: 3em;\r\n}\r\n.b-resourceheader.b-animating .b-resourceheader-cell {\r\n  transition: width 0.2s, left 0.2s;\r\n}\r\n\r\n.b-resourceheader-cell {\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: #667280;\r\n  border-right: 1px solid #d8d9da;\r\n  overflow: hidden;\r\n  transition: background-color 0.2s;\r\n  font-size: 0.9em;\r\n  font-weight: 500;\r\n  padding: 0.5em;\r\n  white-space: nowrap;\r\n  contain: strict;\r\n  height: 100%;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n.b-resourceheader-cell:hover {\r\n  cursor: pointer;\r\n  background-color: white;\r\n}\r\n.b-resourceheader-cell.b-align-start, .b-resourceheader-cell.b-align-end {\r\n  padding-left: 0.3em;\r\n  padding-right: 0.3em;\r\n}\r\n.b-resourceheader-cell.b-align-start {\r\n  justify-content: flex-start;\r\n}\r\n.b-resourceheader-cell.b-align-end {\r\n  justify-content: flex-end;\r\n}\r\n.b-resourceheader-cell i {\r\n  margin-right: 0.5em;\r\n}\r\n.b-resourceheader-cell .b-resource-name {\r\n  overflow: hidden;\r\n}\r\n.b-resourceheader-cell .b-resource-avatar {\r\n  margin-right: 1em;\r\n}\r\n\r\n.b-recurrenceconfirmationpopup.b-popup {\r\n  width: 29em;\r\n  max-width: none;\r\n}\r\n.b-recurrenceconfirmationpopup.b-popup .b-recurrenceconfirmationpopup-header,\r\n.b-recurrenceconfirmationpopup.b-popup .b-recurrenceconfirmationpopup-content {\r\n  padding: 0.65em;\r\n}\r\n.b-recurrenceconfirmationpopup.b-popup .b-bottom-toolbar > button {\r\n  margin-right: 0.5em;\r\n}\r\n.b-recurrenceconfirmationpopup.b-popup .b-bottom-toolbar > button:last-child {\r\n  margin-right: 0;\r\n}\r\n\r\nbutton.b-button.b-recurrencelegendbutton {\r\n  /* allow lines wrapping for the button since recurrence legend might be a long string */\r\n  white-space: normal;\r\n}\r\n\r\n.b-recurrenceeditor.b-popup .b-recurrenceeditor-content.b-popup-content {\r\n  padding: 1em 1em 0 1em;\r\n}\r\n.b-recurrenceeditor.b-popup .b-recurrenceeditor-content.b-popup-content .b-field label.b-align-start {\r\n  flex: 1 0 10.4em;\r\n}\r\n.b-recurrenceeditor.b-popup .b-recurrenceeditor-content.b-popup-content .b-recurrencepositionscombo {\r\n  flex: none;\r\n  width: 9.6em;\r\n}\r\n.b-recurrenceeditor.b-popup .b-recurrenceeditor-content.b-popup-content .b-recurrencedayscombo {\r\n  margin-left: 0.5em;\r\n}\r\n.b-recurrenceeditor.b-popup .b-bottom-toolbar .b-label-filler {\r\n  width: 10.8em;\r\n}\r\n.b-recurrenceeditor.b-popup .b-bottom-toolbar > button {\r\n  flex: 1;\r\n  margin-right: 0.5em;\r\n}\r\n.b-recurrenceeditor.b-popup .b-bottom-toolbar > button:last-child {\r\n  margin-right: 0;\r\n}\r\n\r\n.b-resourcecombo .b-resource-icon {\r\n  display: none;\r\n  margin-left: 0.5em;\r\n}\r\n.b-resourcecombo.b-show-event-color:not(.b-uses-chipview) .b-resource-icon {\r\n  display: block;\r\n}\r\n\r\n.b-resourcecombo-picker .b-icon {\r\n  display: none;\r\n  margin-right: 0.5em;\r\n}\r\n.b-resourcecombo-picker.b-show-event-color .b-icon {\r\n  display: block;\r\n}\r\n.b-resourcecombo-picker.b-show-event-color .b-selected .b-icon-square:before {\r\n  content: "\\f14a";\r\n}\r\n\r\n.b-theme-material .b-resourcecombo .b-resource-icon {\r\n  margin-left: 0;\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.b-resourcefilter .b-list-item {\r\n  border: 0 none;\r\n  border-radius: 0;\r\n}\r\n.b-resourcefilter .b-icon {\r\n  visibility: visible !important;\r\n}\r\n.b-resourcefilter .b-icon:before {\r\n  content: "\\f0c8";\r\n  opacity: 0.6;\r\n}\r\n.b-resourcefilter .b-selected .b-icon:before {\r\n  content: "\\f14a";\r\n  opacity: 1;\r\n}\r\n.b-outer:not(.b-using-keyboard) .b-resourcefilter .b-list-item:focus, .b-outer:not(.b-using-keyboard) .b-resourcefilter .b-list-item.b-active {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-toolbar.b-undoredo {\r\n  padding: 0;\r\n}\r\n.b-toolbar.b-undoredo > * {\r\n  border-radius: 0;\r\n}\r\n.b-buttongroup .b-toolbar.b-undoredo:not(:first-child) > button:first-child {\r\n  margin-left: -1px;\r\n}\r\n.b-buttongroup .b-toolbar.b-undoredo > .b-widget {\r\n  margin-right: 0;\r\n}\r\n.b-toolbar.b-undoredo .b-widget.b-combo {\r\n  flex: 1 0 250px;\r\n  margin: 0 0.5em;\r\n}\r\n.b-theme-material .b-toolbar.b-undoredo .b-widget.b-combo .b-field-inner {\r\n  padding-left: 0.7em;\r\n  padding-right: 0.7em;\r\n}\r\n\r\n.b-sch-red {\r\n  background-color: #e53f2c;\r\n}\r\n\r\n.b-sch-foreground-red {\r\n  color: #e53f2c;\r\n}\r\n\r\n.b-sch-pink {\r\n  background-color: #fe3183;\r\n}\r\n\r\n.b-sch-foreground-pink {\r\n  color: #fe3183;\r\n}\r\n\r\n.b-sch-purple {\r\n  background-color: #fe31ea;\r\n}\r\n\r\n.b-sch-foreground-purple {\r\n  color: #fe31ea;\r\n}\r\n\r\n.b-sch-violet {\r\n  background-color: #ac31fe;\r\n}\r\n\r\n.b-sch-foreground-violet {\r\n  color: #ac31fe;\r\n}\r\n\r\n.b-sch-indigo {\r\n  background-color: #4531fe;\r\n}\r\n\r\n.b-sch-foreground-indigo {\r\n  color: #4531fe;\r\n}\r\n\r\n.b-sch-blue {\r\n  background-color: #3183fe;\r\n}\r\n\r\n.b-sch-foreground-blue {\r\n  color: #3183fe;\r\n}\r\n\r\n.b-sch-cyan {\r\n  background-color: #31e9fe;\r\n}\r\n\r\n.b-sch-foreground-cyan {\r\n  color: #31e9fe;\r\n}\r\n\r\n.b-sch-teal {\r\n  background-color: #31feac;\r\n}\r\n\r\n.b-sch-foreground-teal {\r\n  color: #31feac;\r\n}\r\n\r\n.b-sch-green {\r\n  background-color: #27ca37;\r\n}\r\n\r\n.b-sch-foreground-green {\r\n  color: #27ca37;\r\n}\r\n\r\n.b-sch-lime {\r\n  background-color: #76e62c;\r\n}\r\n\r\n.b-sch-foreground-lime {\r\n  color: #76e62c;\r\n}\r\n\r\n.b-sch-yellow {\r\n  background-color: #FFEB3B;\r\n}\r\n\r\n.b-sch-foreground-yellow {\r\n  color: #FFEB3B;\r\n}\r\n\r\n.b-sch-orange {\r\n  background-color: #feac31;\r\n}\r\n\r\n.b-sch-foreground-orange {\r\n  color: #feac31;\r\n}\r\n\r\n.b-sch-deep-orange {\r\n  background-color: #ff7043;\r\n}\r\n\r\n.b-sch-foreground-deep-orange {\r\n  color: #ff7043;\r\n}\r\n\r\n.b-sch-gray {\r\n  background-color: #a0a0a0;\r\n}\r\n\r\n.b-sch-foreground-gray {\r\n  color: #a0a0a0;\r\n}\r\n\r\n.b-sch-gantt-green {\r\n  background-color: #8ee997;\r\n}\r\n\r\n.b-sch-foreground-gantt-green {\r\n  color: #8ee997;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-event-wrap .b-sch-event:hover, .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-sch-event-resizing, .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-sch-event-selected, .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-sch-event-selected:hover,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event:hover,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-sch-event-resizing,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-sch-event-selected,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-sch-event-selected:hover,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event:hover,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-sch-event-resizing,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-sch-event-selected,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-sch-event-selected:hover,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event:hover,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-sch-event-resizing,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-sch-event-selected,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-sch-event-selected:hover,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event:hover,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-sch-event-resizing,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-sch-event-selected,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-sch-event-selected:hover,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event:hover,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-sch-event-resizing,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-sch-event-selected,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-sch-event-selected:hover,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event:hover,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-sch-event-resizing,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-sch-event-selected,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-sch-event-selected:hover,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event:hover,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-sch-event-resizing,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-sch-event-selected,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-sch-event-selected:hover,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event:hover,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-sch-event-resizing,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-sch-event-selected,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-sch-event-selected:hover,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event:hover,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-sch-event-resizing,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-sch-event-selected,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-sch-event-selected:hover {\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone {\r\n  border-width: 0;\r\n}\r\n.b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content {\r\n  border-width: 0;\r\n  border-color: inherit;\r\n  border-style: inherit;\r\n}\r\n.b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone:hover, .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing, .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected, .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone:hover,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover {\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content, .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-line.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-event-wrap .b-sch-event.b-sch-event-withicon.b-milestone .b-sch-event-content,\r\n.b-sch-style-border.b-sch-event-wrap .b-sch-event.b-sch-event-withicon.b-milestone .b-sch-event-content,\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-sch-event-withicon.b-milestone .b-sch-event-content,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-sch-event-withicon.b-milestone .b-sch-event-content,\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-sch-event-withicon.b-milestone .b-sch-event-content,\r\n.b-sch-style-interday.b-sch-event-wrap .b-sch-event.b-sch-event-withicon.b-milestone .b-sch-event-content,\r\n.b-sch-style-line.b-sch-event-wrap .b-sch-event.b-sch-event-withicon.b-milestone .b-sch-event-content,\r\n.b-sch-style-dashed.b-sch-event-wrap .b-sch-event.b-sch-event-withicon.b-milestone .b-sch-event-content,\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-sch-event-withicon.b-milestone .b-sch-event-content,\r\n.b-sch-style-rounded.b-sch-event-wrap .b-sch-event.b-sch-event-withicon.b-milestone .b-sch-event-content {\r\n  background: none !important;\r\n}\r\n\r\n.b-sch-style-interday .b-sch-event:not(.b-milestone),\r\n.b-sch-style-plain .b-sch-event:not(.b-milestone) {\r\n  background-color: #27ca37;\r\n  border-color: #27ca37;\r\n  color: #fff;\r\n  font-weight: 500;\r\n}\r\n.b-sch-style-interday .b-sch-event:not(.b-milestone):hover, .b-sch-style-interday .b-sch-event:not(.b-milestone).b-sch-event-selected,\r\n.b-sch-style-plain .b-sch-event:not(.b-milestone):hover,\r\n.b-sch-style-plain .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #10801b;\r\n  background-image: none;\r\n}\r\n.b-sch-style-interday .b-sch-event:not(.b-milestone).b-sch-event-selected,\r\n.b-sch-style-plain .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  font-weight: 500;\r\n}\r\n.b-sch-style-interday .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-interday .b-sch-event:not(.b-milestone).b-sch-event-selected:hover,\r\n.b-sch-style-plain .b-sch-event:not(.b-milestone).b-sch-event-resizing,\r\n.b-sch-style-plain .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #0d7817;\r\n  background-image: none;\r\n}\r\n.b-sch-style-interday .b-sch-event.b-milestone .b-sch-event-content,\r\n.b-sch-style-plain .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #777;\r\n}\r\n\r\n.b-sch-style-interday .b-sch-event {\r\n  opacity: 0.8;\r\n  border-radius: 3px;\r\n}\r\n.b-sch-style-interday .b-sch-event-content {\r\n  font-weight: 400;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-custom-color .b-sch-event:not(.b-milestone) {\r\n  background-color: currentColor;\r\n}\r\n.b-sch-style-plain.b-sch-custom-color .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected, .b-sch-style-plain.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: currentColor;\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1));\r\n}\r\n.b-sch-style-plain.b-sch-custom-color .b-sch-event:not(.b-milestone) .b-sch-event-content {\r\n  color: #fff;\r\n}\r\n.b-sch-style-plain.b-sch-custom-color .b-sch-event.b-milestone .b-sch-event-content::before {\r\n  background-color: currentColor;\r\n}\r\n.b-sch-style-plain.b-sch-custom-color .b-sch-event.b-milestone:hover .b-sch-event-content::before, .b-sch-style-plain.b-sch-custom-color .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content::before, .b-sch-style-plain.b-sch-custom-color .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content::before {\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1));\r\n}\r\n\r\n.b-sch-layout-milestone-text-position-inside .b-sch-event-wrap.b-milestone-wrap .b-milestone {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.b-sch-layout-milestone-text-position-inside .b-sch-event-wrap.b-milestone-wrap .b-milestone label {\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  color: inherit;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-red .b-sch-event:not(.b-milestone) {\r\n  background-color: #e53f2c;\r\n  border-color: #e53f2c;\r\n}\r\n.b-sch-style-plain.b-sch-color-red .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-red .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #971b0d;\r\n}\r\n.b-sch-style-plain.b-sch-color-red .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-red .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #8c170a;\r\n}\r\n.b-sch-style-plain.b-sch-color-red .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #e53f2c;\r\n  border-color: #e53f2c;\r\n}\r\n.b-sch-style-plain.b-sch-color-red .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #971b0d;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #8c170a;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-red.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #e53f2c;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-red.b-milestone-wrap:hover .b-sch-event {\r\n  background: #971b0d;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-red.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #8c170a;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-pink .b-sch-event:not(.b-milestone) {\r\n  background-color: #fe3183;\r\n  border-color: #fe3183;\r\n}\r\n.b-sch-style-plain.b-sch-color-pink .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-pink .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #b50149;\r\n}\r\n.b-sch-style-plain.b-sch-color-pink .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-pink .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #a60043;\r\n}\r\n.b-sch-style-plain.b-sch-color-pink .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #fe3183;\r\n  border-color: #fe3183;\r\n}\r\n.b-sch-style-plain.b-sch-color-pink .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #b50149;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #a60043;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-pink.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #fe3183;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-pink.b-milestone-wrap:hover .b-sch-event {\r\n  background: #b50149;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-pink.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #a60043;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-purple .b-sch-event:not(.b-milestone) {\r\n  background-color: #fe31ea;\r\n  border-color: #fe31ea;\r\n}\r\n.b-sch-style-plain.b-sch-color-purple .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-purple .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #b501a4;\r\n}\r\n.b-sch-style-plain.b-sch-color-purple .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-purple .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #a60096;\r\n}\r\n.b-sch-style-plain.b-sch-color-purple .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #fe31ea;\r\n  border-color: #fe31ea;\r\n}\r\n.b-sch-style-plain.b-sch-color-purple .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #b501a4;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #a60096;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-purple.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #fe31ea;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-purple.b-milestone-wrap:hover .b-sch-event {\r\n  background: #b501a4;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-purple.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #a60096;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-violet .b-sch-event:not(.b-milestone) {\r\n  background-color: #ac31fe;\r\n  border-color: #ac31fe;\r\n}\r\n.b-sch-style-plain.b-sch-color-violet .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-violet .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #6d01b5;\r\n}\r\n.b-sch-style-plain.b-sch-color-violet .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-violet .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #6400a6;\r\n}\r\n.b-sch-style-plain.b-sch-color-violet .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #ac31fe;\r\n  border-color: #ac31fe;\r\n}\r\n.b-sch-style-plain.b-sch-color-violet .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #6d01b5;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #6400a6;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-violet.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #ac31fe;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-violet.b-milestone-wrap:hover .b-sch-event {\r\n  background: #6d01b5;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-violet.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #6400a6;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-indigo .b-sch-event:not(.b-milestone) {\r\n  background-color: #4531fe;\r\n  border-color: #4531fe;\r\n}\r\n.b-sch-style-plain.b-sch-color-indigo .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-indigo .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #1201b5;\r\n}\r\n.b-sch-style-plain.b-sch-color-indigo .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-indigo .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #1100a6;\r\n}\r\n.b-sch-style-plain.b-sch-color-indigo .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #4531fe;\r\n  border-color: #4531fe;\r\n}\r\n.b-sch-style-plain.b-sch-color-indigo .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #1201b5;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #1100a6;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-indigo.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #4531fe;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-indigo.b-milestone-wrap:hover .b-sch-event {\r\n  background: #1201b5;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-indigo.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #1100a6;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-blue .b-sch-event:not(.b-milestone) {\r\n  background-color: #3183fe;\r\n  border-color: #3183fe;\r\n}\r\n.b-sch-style-plain.b-sch-color-blue .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-blue .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #0149b5;\r\n}\r\n.b-sch-style-plain.b-sch-color-blue .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-blue .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #0043a6;\r\n}\r\n.b-sch-style-plain.b-sch-color-blue .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #3183fe;\r\n  border-color: #3183fe;\r\n}\r\n.b-sch-style-plain.b-sch-color-blue .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #0149b5;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #0043a6;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-blue.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #3183fe;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-blue.b-milestone-wrap:hover .b-sch-event {\r\n  background: #0149b5;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-blue.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #0043a6;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-cyan .b-sch-event:not(.b-milestone) {\r\n  background-color: #31e9fe;\r\n  border-color: #31e9fe;\r\n}\r\n.b-sch-style-plain.b-sch-color-cyan .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-cyan .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #01a3b5;\r\n}\r\n.b-sch-style-plain.b-sch-color-cyan .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-cyan .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #0095a6;\r\n}\r\n.b-sch-style-plain.b-sch-color-cyan .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #31e9fe;\r\n  border-color: #31e9fe;\r\n}\r\n.b-sch-style-plain.b-sch-color-cyan .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #01a3b5;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #0095a6;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-cyan.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #31e9fe;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-cyan.b-milestone-wrap:hover .b-sch-event {\r\n  background: #01a3b5;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-cyan.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #0095a6;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-teal .b-sch-event:not(.b-milestone) {\r\n  background-color: #31feac;\r\n  border-color: #31feac;\r\n}\r\n.b-sch-style-plain.b-sch-color-teal .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-teal .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #01b56d;\r\n}\r\n.b-sch-style-plain.b-sch-color-teal .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-teal .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #00a664;\r\n}\r\n.b-sch-style-plain.b-sch-color-teal .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #31feac;\r\n  border-color: #31feac;\r\n}\r\n.b-sch-style-plain.b-sch-color-teal .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #01b56d;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #00a664;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-teal.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #31feac;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-teal.b-milestone-wrap:hover .b-sch-event {\r\n  background: #01b56d;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-teal.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #00a664;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-green .b-sch-event:not(.b-milestone) {\r\n  background-color: #27ca37;\r\n  border-color: #27ca37;\r\n}\r\n.b-sch-style-plain.b-sch-color-green .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-green .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #10801b;\r\n}\r\n.b-sch-style-plain.b-sch-color-green .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-green .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #0d7817;\r\n}\r\n.b-sch-style-plain.b-sch-color-green .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #27ca37;\r\n  border-color: #27ca37;\r\n}\r\n.b-sch-style-plain.b-sch-color-green .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #10801b;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #0d7817;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-green.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #27ca37;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-green.b-milestone-wrap:hover .b-sch-event {\r\n  background: #10801b;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-green.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #0d7817;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-lime .b-sch-event:not(.b-milestone) {\r\n  background-color: #76e62c;\r\n  border-color: #76e62c;\r\n}\r\n.b-sch-style-plain.b-sch-color-lime .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-lime .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #44980c;\r\n}\r\n.b-sch-style-plain.b-sch-color-lime .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-lime .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #3e8d0a;\r\n}\r\n.b-sch-style-plain.b-sch-color-lime .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #76e62c;\r\n  border-color: #76e62c;\r\n}\r\n.b-sch-style-plain.b-sch-color-lime .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #44980c;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #3e8d0a;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-lime.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #76e62c;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-lime.b-milestone-wrap:hover .b-sch-event {\r\n  background: #44980c;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-lime.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #3e8d0a;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-yellow .b-sch-event:not(.b-milestone) {\r\n  background-color: #FFEB3B;\r\n  border-color: #FFEB3B;\r\n}\r\n.b-sch-style-plain.b-sch-color-yellow .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-yellow .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #bca900;\r\n}\r\n.b-sch-style-plain.b-sch-color-yellow .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-yellow .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #ad9b00;\r\n}\r\n.b-sch-style-plain.b-sch-color-yellow .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #FFEB3B;\r\n  border-color: #FFEB3B;\r\n}\r\n.b-sch-style-plain.b-sch-color-yellow .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #bca900;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #ad9b00;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-yellow.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #FFEB3B;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-yellow.b-milestone-wrap:hover .b-sch-event {\r\n  background: #bca900;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-yellow.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #ad9b00;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-orange .b-sch-event:not(.b-milestone) {\r\n  background-color: #feac31;\r\n  border-color: #feac31;\r\n}\r\n.b-sch-style-plain.b-sch-color-orange .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-orange .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #b56d01;\r\n}\r\n.b-sch-style-plain.b-sch-color-orange .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-orange .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #a66400;\r\n}\r\n.b-sch-style-plain.b-sch-color-orange .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #feac31;\r\n  border-color: #feac31;\r\n}\r\n.b-sch-style-plain.b-sch-color-orange .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #b56d01;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #a66400;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-orange.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #feac31;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-orange.b-milestone-wrap:hover .b-sch-event {\r\n  background: #b56d01;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-orange.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #a66400;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-deep-orange .b-sch-event:not(.b-milestone) {\r\n  background-color: #ff7043;\r\n  border-color: #ff7043;\r\n}\r\n.b-sch-style-plain.b-sch-color-deep-orange .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-deep-orange .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #c12e00;\r\n}\r\n.b-sch-style-plain.b-sch-color-deep-orange .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-deep-orange .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #b12a00;\r\n}\r\n.b-sch-style-plain.b-sch-color-deep-orange .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #ff7043;\r\n  border-color: #ff7043;\r\n}\r\n.b-sch-style-plain.b-sch-color-deep-orange .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #c12e00;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #b12a00;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-deep-orange.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #ff7043;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-deep-orange.b-milestone-wrap:hover .b-sch-event {\r\n  background: #c12e00;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-deep-orange.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #b12a00;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-gray .b-sch-event:not(.b-milestone) {\r\n  background-color: #a0a0a0;\r\n  border-color: #a0a0a0;\r\n}\r\n.b-sch-style-plain.b-sch-color-gray .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-gray .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #606060;\r\n}\r\n.b-sch-style-plain.b-sch-color-gray .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-gray .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #614f4f;\r\n}\r\n.b-sch-style-plain.b-sch-color-gray .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #a0a0a0;\r\n  border-color: #a0a0a0;\r\n}\r\n.b-sch-style-plain.b-sch-color-gray .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #606060;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #614f4f;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-gray.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #a0a0a0;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-gray.b-milestone-wrap:hover .b-sch-event {\r\n  background: #606060;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-gray.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #614f4f;\r\n}\r\n\r\n.b-sch-style-plain.b-sch-color-gantt-green .b-sch-event:not(.b-milestone) {\r\n  background-color: #8ee997;\r\n  border-color: #8ee997;\r\n}\r\n.b-sch-style-plain.b-sch-color-gantt-green .b-sch-event:not(.b-milestone):hover, .b-sch-style-plain.b-sch-color-gantt-green .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #25bc34;\r\n}\r\n.b-sch-style-plain.b-sch-color-gantt-green .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-plain.b-sch-color-gantt-green .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #1eb02d;\r\n}\r\n.b-sch-style-plain.b-sch-color-gantt-green .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: #8ee997;\r\n  border-color: #8ee997;\r\n}\r\n.b-sch-style-plain.b-sch-color-gantt-green .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-plain.b-sch-color-gantt-green .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #25bc34;\r\n  background-image: none;\r\n}\r\n.b-sch-style-plain.b-sch-color-gantt-green .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content, .b-sch-style-plain.b-sch-color-gantt-green .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #1eb02d;\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-gantt-green.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #8ee997;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-gantt-green.b-milestone-wrap:hover .b-sch-event {\r\n  background: #25bc34;\r\n}\r\n.b-sch-layout-milestones .b-sch-style-plain.b-sch-color-gantt-green.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #1eb02d;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-border .b-sch-event {\r\n  background-color: #27ca37;\r\n  border-color: #1b8d27;\r\n  border-style: solid;\r\n  border-width: 0;\r\n  font-weight: 600;\r\n  opacity: 0.8;\r\n  border-radius: 3px;\r\n}\r\n.b-sch-event-wrap.b-sch-style-border .b-sch-event:not(.b-milestone) {\r\n  color: #fff;\r\n  font-size: 11px;\r\n  border-width: 1px;\r\n}\r\n.b-sch-event-wrap.b-sch-style-border .b-sch-event:not(.b-milestone).b-sch-event-startsoutside {\r\n  border-left: none;\r\n}\r\n.b-sch-event-wrap.b-sch-style-border .b-sch-event:not(.b-milestone):hover, .b-sch-event-wrap.b-sch-style-border .b-sch-event:not(.b-milestone).b-sch-event-resizing {\r\n  background-color: #1b8d27;\r\n  opacity: 1;\r\n}\r\n.b-sch-event-wrap.b-sch-style-border .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  font-weight: 600;\r\n}\r\n.b-sch-event-wrap.b-sch-style-border .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #198324;\r\n}\r\n.b-sch-event-wrap.b-sch-style-border .b-sch-event.b-milestone {\r\n  background: none;\r\n}\r\n.b-sch-event-wrap.b-sch-style-border .b-sch-event.b-milestone .b-sch-event-content::before {\r\n  border-width: 1px;\r\n  border-radius: 3px;\r\n  opacity: 0.8;\r\n}\r\n.b-sch-event-wrap.b-sch-style-border .b-sch-event.b-milestone:hover, .b-sch-event-wrap.b-sch-style-border .b-sch-event.b-milestone.b-sch-event-selected {\r\n  opacity: 1;\r\n}\r\n.b-sch-event-wrap.b-sch-style-border .b-sch-event.b-milestone:hover .b-sch-event-content::before, .b-sch-event-wrap.b-sch-style-border .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content::before {\r\n  opacity: 1;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-border .b-sch-event.b-milestone {\r\n  border-top-width: 1px;\r\n  border-bottom-width: 1px;\r\n  border-radius: 0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-border .b-sch-event.b-milestone .b-sch-event-content {\r\n  font-weight: 600;\r\n  font-size: 11px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-border .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-border .b-sch-event.b-milestone::after {\r\n  border-width: 0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-border .b-sch-event.b-milestone::before {\r\n  border-left-width: 1px;\r\n  border-bottom-width: 1px;\r\n  border-bottom-left-radius: 3px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-border .b-sch-event.b-milestone::after {\r\n  border-right-width: 1px;\r\n  border-bottom-width: 1px;\r\n  top: -1px;\r\n  border-bottom-right-radius: 3px;\r\n}\r\n\r\n.b-sch-style-border.b-sch-custom-color .b-sch-event:not(.b-milestone) {\r\n  background-color: currentColor;\r\n  background-image: linear-gradient(rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2));\r\n  border-color: currentColor;\r\n}\r\n.b-sch-style-border.b-sch-custom-color .b-sch-event:not(.b-milestone) .b-sch-event-content {\r\n  color: #fff;\r\n}\r\n.b-sch-style-border.b-sch-custom-color .b-sch-event:not(.b-milestone):hover, .b-sch-style-border.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-border.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected, .b-sch-style-border.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: currentColor;\r\n  background-image: none;\r\n  border-color: currentColor;\r\n}\r\n.b-sch-style-border.b-sch-custom-color .b-sch-event.b-milestone .b-sch-event-content::before {\r\n  background-color: currentColor;\r\n  background-image: linear-gradient(rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2));\r\n  border-color: currentColor;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-red .b-sch-event {\r\n  border-color: #aa2415;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-red .b-sch-event {\r\n  background-color: #e53f2c;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-red .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-red .b-sch-event.b-sch-event-selected {\r\n  background-color: #aa2415;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-red .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-red .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #9e2213;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-red .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #e53f2c;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-red .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-red .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #aa2415;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-red .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #9e2213;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-red.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #e53f2c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-red.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-red.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #aa2415;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-red.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #9e2213;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-pink .b-sch-event {\r\n  border-color: #d30155;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event {\r\n  background-color: #fe3183;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event.b-sch-event-selected {\r\n  background-color: #d30155;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #c4014f;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-pink .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #fe3183;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-pink .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-pink .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #d30155;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-pink .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #c4014f;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-pink.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #fe3183;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-pink.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-pink.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #d30155;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-pink.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #c4014f;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-purple .b-sch-event {\r\n  border-color: #d301bf;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event {\r\n  background-color: #fe31ea;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event.b-sch-event-selected {\r\n  background-color: #d301bf;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #c401b1;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-purple .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #fe31ea;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-purple .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-purple .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #d301bf;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-purple .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #c401b1;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-purple.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #fe31ea;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-purple.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-purple.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #d301bf;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-purple.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #c401b1;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-violet .b-sch-event {\r\n  border-color: #7f01d3;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event {\r\n  background-color: #ac31fe;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event.b-sch-event-selected {\r\n  background-color: #7f01d3;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #7601c4;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-violet .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #ac31fe;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-violet .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-violet .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #7f01d3;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-violet .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #7601c4;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-violet.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #ac31fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-violet.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-violet.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #7f01d3;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-violet.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #7601c4;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-indigo .b-sch-event {\r\n  border-color: #1601d3;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event {\r\n  background-color: #4531fe;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event.b-sch-event-selected {\r\n  background-color: #1601d3;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #1401c4;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-indigo .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #4531fe;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-indigo .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-indigo .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #1601d3;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-indigo .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #1401c4;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-indigo.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #4531fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-indigo.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-indigo.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #1601d3;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-indigo.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #1401c4;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-blue .b-sch-event {\r\n  border-color: #0155d3;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event {\r\n  background-color: #3183fe;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event.b-sch-event-selected {\r\n  background-color: #0155d3;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #014fc4;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-blue .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #3183fe;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-blue .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-blue .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #0155d3;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-blue .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #014fc4;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-blue.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #3183fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-blue.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-blue.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #0155d3;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-blue.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #014fc4;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-cyan .b-sch-event {\r\n  border-color: #01bed3;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event {\r\n  background-color: #31e9fe;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event.b-sch-event-selected {\r\n  background-color: #01bed3;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #01b0c4;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-cyan .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #31e9fe;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-cyan .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-cyan .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #01bed3;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-cyan .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #01b0c4;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-cyan.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #31e9fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-cyan.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-cyan.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #01bed3;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-cyan.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #01b0c4;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-teal .b-sch-event {\r\n  border-color: #01d37f;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event {\r\n  background-color: #31feac;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event.b-sch-event-selected {\r\n  background-color: #01d37f;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #01c476;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-teal .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #31feac;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-teal .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-teal .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #01d37f;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-teal .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #01c476;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-teal.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #31feac;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-teal.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-teal.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #01d37f;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-teal.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #01c476;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-green .b-sch-event {\r\n  border-color: #1b8d27;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-green .b-sch-event {\r\n  background-color: #27ca37;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-green .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-green .b-sch-event.b-sch-event-selected {\r\n  background-color: #1b8d27;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-green .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-green .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #198324;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-green .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #27ca37;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-green .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-green .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #1b8d27;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-green .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #198324;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-green.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #27ca37;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-green.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-green.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #1b8d27;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-green.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #198324;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-lime .b-sch-event {\r\n  border-color: #50ab14;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event {\r\n  background-color: #76e62c;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event.b-sch-event-selected {\r\n  background-color: #50ab14;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #4b9f13;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-lime .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #76e62c;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-lime .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-lime .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #50ab14;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-lime .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #4b9f13;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-lime.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #76e62c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-lime.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-lime.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #50ab14;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-lime.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #4b9f13;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-yellow .b-sch-event {\r\n  border-color: #dcc500;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event {\r\n  background-color: #FFEB3B;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event.b-sch-event-selected {\r\n  background-color: #dcc500;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #ccb700;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-yellow .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #FFEB3B;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-yellow .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-yellow .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #dcc500;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-yellow .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #ccb700;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-yellow.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #FFEB3B;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-yellow.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-yellow.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #dcc500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-yellow.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #ccb700;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-orange .b-sch-event {\r\n  border-color: #d37f01;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event {\r\n  background-color: #feac31;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event.b-sch-event-selected {\r\n  background-color: #d37f01;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #c47601;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-orange .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #feac31;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-orange .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-orange .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #d37f01;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-orange .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #c47601;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-orange.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #feac31;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-orange.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-orange.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #d37f01;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-orange.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #c47601;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-deep-orange .b-sch-event {\r\n  border-color: #e13600;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event {\r\n  background-color: #ff7043;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event.b-sch-event-selected {\r\n  background-color: #e13600;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #d13200;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-deep-orange .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #ff7043;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-deep-orange .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-deep-orange .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #e13600;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-deep-orange .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #d13200;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-deep-orange.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #ff7043;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-deep-orange.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-deep-orange.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #e13600;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-deep-orange.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #d13200;\r\n}\r\n\r\n.b-sch-style-border.b-sch-color-gray .b-sch-event {\r\n  border-color: #707070;\r\n}\r\n\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event {\r\n  background-color: #a0a0a0;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event:hover, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event.b-sch-event-selected {\r\n  background-color: #707070;\r\n}\r\n.b-sch-style-border:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event.b-sch-event-resizing, .b-sch-style-border:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #686868;\r\n}\r\n\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-gray .b-sch-event:not(.b-sch-event-withicon) .b-sch-event-content {\r\n  background-color: #a0a0a0;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-gray .b-sch-event:not(.b-sch-event-withicon):hover .b-sch-event-content, .b-sch-style-border.b-milestone-wrap.b-sch-color-gray .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected .b-sch-event-content {\r\n  background-color: #707070;\r\n}\r\n.b-sch-style-border.b-milestone-wrap.b-sch-color-gray .b-sch-event:not(.b-sch-event-withicon).b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #686868;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-gray.b-milestone-wrap .b-sch-event.b-milestone {\r\n  background: #a0a0a0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-gray.b-milestone-wrap:hover .b-sch-event, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-gray.b-milestone-wrap.b-sch-event-selected .b-sch-event {\r\n  background: #707070;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-border.b-sch-color-gray.b-milestone-wrap.b-sch-event-selected:hover .b-sch-event {\r\n  background: #686868;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event {\r\n  background-color: rgba(255, 255, 255, 0.5);\r\n  border-color: #27ca37;\r\n  border-style: solid;\r\n  border-width: 0;\r\n  font-weight: 600;\r\n  opacity: 0.8;\r\n  border-radius: 3px;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event:not(.b-milestone) {\r\n  color: #27ca37;\r\n  font-size: 11px;\r\n  border-width: 2px;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-startsoutside {\r\n  border-left: none;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event:not(.b-milestone):hover, .b-sch-style-hollow.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(255, 255, 255, 0.5);\r\n  border-width: 0;\r\n  border-color: inherit;\r\n  border-style: inherit;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content::before {\r\n  border-width: 2px;\r\n  border-radius: 3px;\r\n  opacity: 0.8;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone:hover, .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected {\r\n  opacity: 1;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #27ca37;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected {\r\n  font-weight: 600;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover::before {\r\n  background-color: #23b632;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone {\r\n  border-top-width: 2px;\r\n  border-bottom-width: 2px;\r\n  border-radius: 0;\r\n  background-color: rgba(255, 255, 255, 0.5);\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n  font-weight: 600;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone::after {\r\n  border-width: 0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone::before {\r\n  border-left-width: 2px;\r\n  border-bottom-width: 2px;\r\n  border-bottom-left-radius: 3px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-hollow.b-sch-event-wrap .b-sch-event.b-milestone::after {\r\n  border-right-width: 2px;\r\n  border-bottom-width: 2px;\r\n  border-bottom-right-radius: 3px;\r\n  top: -2px;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-custom-color .b-sch-event {\r\n  border-color: currentColor;\r\n}\r\n.b-sch-style-hollow.b-sch-custom-color .b-sch-event:not(.b-milestone):hover, .b-sch-style-hollow.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected, .b-sch-style-hollow.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-hollow.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: currentColor;\r\n}\r\n.b-sch-style-hollow.b-sch-custom-color .b-sch-event:not(.b-milestone):hover .b-sch-event-content, .b-sch-style-hollow.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected .b-sch-event-content, .b-sch-style-hollow.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-resizing .b-sch-event-content, .b-sch-style-hollow.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected:hover .b-sch-event-content {\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-custom-color .b-sch-event.b-milestone .b-sch-event-content::before {\r\n  background-color: rgba(255, 255, 255, 0.5);\r\n}\r\n.b-sch-style-hollow.b-sch-custom-color .b-sch-event.b-milestone:hover .b-sch-event-content::before, .b-sch-style-hollow.b-sch-custom-color .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content::before, .b-sch-style-hollow.b-sch-custom-color .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content::before, .b-sch-style-hollow.b-sch-custom-color .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content::before {\r\n  background-color: currentColor;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-red .b-sch-event {\r\n  border-color: #e53f2c;\r\n  color: #e53f2c;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-red .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-red .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-red .b-sch-event.b-sch-event-resizing {\r\n  background-color: #e53f2c;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-red .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #db2f1b;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-red .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-red .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #e53f2c;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-red .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #db2f1b;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-pink .b-sch-event {\r\n  border-color: #fe3183;\r\n  color: #fe3183;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event.b-sch-event-resizing {\r\n  background-color: #fe3183;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #fe1371;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-pink .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-pink .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #fe3183;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-pink .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #fe1371;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-purple .b-sch-event {\r\n  border-color: #fe31ea;\r\n  color: #fe31ea;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event.b-sch-event-resizing {\r\n  background-color: #fe31ea;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #fe13e7;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-purple .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-purple .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #fe31ea;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-purple .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #fe13e7;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-violet .b-sch-event {\r\n  border-color: #ac31fe;\r\n  color: #ac31fe;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event.b-sch-event-resizing {\r\n  background-color: #ac31fe;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #a013fe;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-violet .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-violet .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #ac31fe;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-violet .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #a013fe;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-indigo .b-sch-event {\r\n  border-color: #4531fe;\r\n  color: #4531fe;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event.b-sch-event-resizing {\r\n  background-color: #4531fe;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #2a13fe;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-indigo .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-indigo .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #4531fe;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-indigo .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #2a13fe;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-blue .b-sch-event {\r\n  border-color: #3183fe;\r\n  color: #3183fe;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event.b-sch-event-resizing {\r\n  background-color: #3183fe;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #1371fe;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-blue .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-blue .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #3183fe;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-blue .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #1371fe;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-cyan .b-sch-event {\r\n  border-color: #31e9fe;\r\n  color: #31e9fe;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event.b-sch-event-resizing {\r\n  background-color: #31e9fe;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #13e6fe;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-cyan .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-cyan .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #31e9fe;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-cyan .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #13e6fe;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-teal .b-sch-event {\r\n  border-color: #31feac;\r\n  color: #31feac;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event.b-sch-event-resizing {\r\n  background-color: #31feac;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #13fea0;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-teal .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-teal .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #31feac;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-teal .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #13fea0;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-green .b-sch-event {\r\n  border-color: #27ca37;\r\n  color: #27ca37;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-green .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-green .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-green .b-sch-event.b-sch-event-resizing {\r\n  background-color: #27ca37;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-green .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #23b632;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-green .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-green .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #27ca37;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-green .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #23b632;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-lime .b-sch-event {\r\n  border-color: #76e62c;\r\n  color: #76e62c;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event.b-sch-event-resizing {\r\n  background-color: #76e62c;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #67dc1a;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-lime .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-lime .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #76e62c;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-lime .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #67dc1a;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-yellow .b-sch-event {\r\n  border-color: #FFEB3B;\r\n  color: #FFEB3B;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event.b-sch-event-resizing {\r\n  background-color: #FFEB3B;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #ffe81c;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-yellow .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-yellow .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #FFEB3B;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-yellow .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #ffe81c;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-orange .b-sch-event {\r\n  border-color: #feac31;\r\n  color: #feac31;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event.b-sch-event-resizing {\r\n  background-color: #feac31;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #fea013;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-orange .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-orange .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #feac31;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-orange .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #fea013;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-deep-orange .b-sch-event {\r\n  border-color: #ff7043;\r\n  color: #ff7043;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event.b-sch-event-resizing {\r\n  background-color: #ff7043;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #ff5823;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-deep-orange .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-deep-orange .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #ff7043;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-deep-orange .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #ff5823;\r\n}\r\n\r\n.b-sch-style-hollow.b-sch-event-wrap.b-sch-color-gray .b-sch-event {\r\n  border-color: #a0a0a0;\r\n  color: #a0a0a0;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event:hover, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event.b-sch-event-selected, .b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event.b-sch-event-resizing {\r\n  background-color: #a0a0a0;\r\n  color: #fff;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #909090;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-gray .b-sch-event:hover .b-sch-event-content, .b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-gray .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #a0a0a0;\r\n}\r\n.b-sch-style-hollow.b-sch-event-wrap.b-milestone-wrap.b-sch-color-gray .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #909090;\r\n}\r\n\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event {\r\n  background-color: #d2f6d5;\r\n  border-color: #23b632;\r\n  font-weight: 500;\r\n  opacity: 0.8;\r\n}\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event:not(.b-milestone),\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event:not(.b-milestone) {\r\n  color: #1b8d27;\r\n  border-left-width: 3px;\r\n  border-left-style: solid;\r\n}\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event:not(.b-milestone):hover, .b-sch-style-calendar.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-calendar.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-selected,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event:not(.b-milestone):hover,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-resizing,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #27ca37;\r\n  opacity: 1;\r\n}\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-calendar.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-selected,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-resizing,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-selected:hover,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: #1b8d27;\r\n}\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-startsoutside,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event:not(.b-milestone).b-sch-event-startsoutside {\r\n  border-left: none;\r\n}\r\n.b-sch-vertical .b-sch-style-calendar.b-sch-event-wrap .b-sch-event:not(.b-milestone),\r\n.b-sch-vertical .b-sch-style-colored.b-sch-event-wrap .b-sch-event:not(.b-milestone) {\r\n  border-top-width: 3px;\r\n  border-top-style: solid;\r\n  border-left-width: 0;\r\n  border-left-style: none;\r\n}\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone {\r\n  background-color: transparent;\r\n}\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content:before,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content:before {\r\n  border-width: 3px;\r\n  border-style: solid;\r\n}\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-sch-event-selected,\r\n.b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-sch-event-selected {\r\n  font-weight: 500;\r\n  opacity: 1;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone::after,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone::before,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone::after {\r\n  background: #d2f6d5;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone::before,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone::before {\r\n  border-top: 3px solid transparent;\r\n  border-right: 3px solid transparent;\r\n  border-bottom: 3px solid #23b632;\r\n  border-left: 3px solid #23b632;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone:hover > *, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone:hover::after,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone:hover > *,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone:hover::before,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone:hover::after {\r\n  background: none;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover > *, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover::after,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover > *,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover::before,\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-colored.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: none;\r\n}\r\n\r\n.b-sch-style-colored.b-sch-custom-color .b-sch-event {\r\n  border-color: currentColor;\r\n}\r\n.b-sch-style-colored.b-sch-custom-color .b-sch-event:not(.b-milestone) {\r\n  background-color: currentColor;\r\n  background-image: linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.8));\r\n}\r\n.b-sch-style-colored.b-sch-custom-color .b-sch-event:not(.b-milestone):hover, .b-sch-style-colored.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-resizing, .b-sch-style-colored.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: currentColor;\r\n  background-image: linear-gradient(rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4));\r\n}\r\n.b-sch-style-colored.b-sch-custom-color .b-sch-event:not(.b-milestone):hover .b-sch-event-content, .b-sch-style-colored.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-resizing .b-sch-event-content, .b-sch-style-colored.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected .b-sch-event-content {\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected, .b-sch-style-colored.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected:hover {\r\n  background-color: currentColor;\r\n  background-image: none;\r\n}\r\n.b-sch-style-colored.b-sch-custom-color .b-sch-event.b-milestone .b-sch-event-content::before {\r\n  background-color: currentColor;\r\n  background-image: linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.8));\r\n}\r\n.b-sch-style-colored.b-sch-custom-color .b-sch-event.b-milestone:hover .b-sch-event-content::before, .b-sch-style-colored.b-sch-custom-color .b-sch-event.b-milestone.b-sch-event-resizing .b-sch-event-content::before, .b-sch-style-colored.b-sch-custom-color .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content::before {\r\n  background-image: linear-gradient(rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4));\r\n}\r\n.b-sch-style-colored.b-sch-custom-color .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content::before, .b-sch-style-colored.b-sch-custom-color .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content::before {\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event {\r\n  opacity: 1;\r\n}\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event .b-sch-event-content {\r\n  font-weight: 400;\r\n  color: #606060;\r\n}\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event.b-sch-event-selected .b-sch-event-content * {\r\n  color: #606060;\r\n}\r\n.b-sch-style-calendar.b-sch-event-wrap .b-sch-event:not(.b-milestone) .b-sch-event-content {\r\n  margin: 0;\r\n  padding: 0.3em;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-red .b-sch-event {\r\n  background-color: #fad9d5;\r\n  border-color: #db2f1b;\r\n  color: #aa2415;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-red .b-sch-event:hover {\r\n  background-color: #f5b2ab;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-red .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-red .b-sch-event.b-sch-event-selected {\r\n  background-color: #e53f2c;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-red .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #db2f1b;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-red:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-red:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #fad9d5;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-red:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #db2f1b;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-red:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #f5b2ab;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-red:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #e53f2c;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-red:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #db2f1b;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone {\r\n  background: #fad9d5;\r\n  border-color: #db2f1b;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone::after {\r\n  background: #fad9d5;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone > * {\r\n  color: #aa2415;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #db2f1b;\r\n  border-left-color: #db2f1b;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone:hover::after {\r\n  background: #f5b2ab;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #e53f2c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #db2f1b;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event {\r\n  background-color: #ffd6e6;\r\n  border-color: #fe1371;\r\n  color: #d30155;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event:hover {\r\n  background-color: #ffadcd;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event.b-sch-event-selected {\r\n  background-color: #fe3183;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #fe1371;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-pink:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-pink:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #ffd6e6;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-pink:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #fe1371;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-pink:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #ffadcd;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-pink:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #fe3183;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-pink:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #fe1371;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone {\r\n  background: #ffd6e6;\r\n  border-color: #fe1371;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone::after {\r\n  background: #ffd6e6;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone > * {\r\n  color: #d30155;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #fe1371;\r\n  border-left-color: #fe1371;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone:hover::after {\r\n  background: #ffadcd;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #fe3183;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #fe1371;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event {\r\n  background-color: #ffd6fb;\r\n  border-color: #fe13e7;\r\n  color: #d301bf;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event:hover {\r\n  background-color: #ffadf7;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event.b-sch-event-selected {\r\n  background-color: #fe31ea;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #fe13e7;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-purple:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-purple:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #ffd6fb;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-purple:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #fe13e7;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-purple:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #ffadf7;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-purple:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #fe31ea;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-purple:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #fe13e7;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone {\r\n  background: #ffd6fb;\r\n  border-color: #fe13e7;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone::after {\r\n  background: #ffd6fb;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone > * {\r\n  color: #d301bf;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #fe13e7;\r\n  border-left-color: #fe13e7;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone:hover::after {\r\n  background: #ffadf7;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #fe31ea;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #fe13e7;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event {\r\n  background-color: #eed6ff;\r\n  border-color: #a013fe;\r\n  color: #7f01d3;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event:hover {\r\n  background-color: #deadff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event.b-sch-event-selected {\r\n  background-color: #ac31fe;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #a013fe;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-violet:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-violet:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #eed6ff;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-violet:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #a013fe;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-violet:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #deadff;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-violet:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #ac31fe;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-violet:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #a013fe;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone {\r\n  background: #eed6ff;\r\n  border-color: #a013fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone::after {\r\n  background: #eed6ff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone > * {\r\n  color: #7f01d3;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #a013fe;\r\n  border-left-color: #a013fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone:hover::after {\r\n  background: #deadff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #ac31fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #a013fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event {\r\n  background-color: #dad6ff;\r\n  border-color: #2a13fe;\r\n  color: #1601d3;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event:hover {\r\n  background-color: #b5adff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event.b-sch-event-selected {\r\n  background-color: #4531fe;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #2a13fe;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-indigo:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-indigo:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #dad6ff;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-indigo:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #2a13fe;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-indigo:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #b5adff;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-indigo:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #4531fe;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-indigo:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #2a13fe;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone {\r\n  background: #dad6ff;\r\n  border-color: #2a13fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone::after {\r\n  background: #dad6ff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone > * {\r\n  color: #1601d3;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #2a13fe;\r\n  border-left-color: #2a13fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone:hover::after {\r\n  background: #b5adff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #4531fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #2a13fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event {\r\n  background-color: #d6e6ff;\r\n  border-color: #1371fe;\r\n  color: #0155d3;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event:hover {\r\n  background-color: #adcdff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event.b-sch-event-selected {\r\n  background-color: #3183fe;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #1371fe;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-blue:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-blue:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #d6e6ff;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-blue:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #1371fe;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-blue:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #adcdff;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-blue:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #3183fe;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-blue:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #1371fe;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone {\r\n  background: #d6e6ff;\r\n  border-color: #1371fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone::after {\r\n  background: #d6e6ff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone > * {\r\n  color: #0155d3;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #1371fe;\r\n  border-left-color: #1371fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone:hover::after {\r\n  background: #adcdff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #3183fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #1371fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event {\r\n  background-color: #d6fbff;\r\n  border-color: #13e6fe;\r\n  color: #01bed3;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event:hover {\r\n  background-color: #adf6ff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event.b-sch-event-selected {\r\n  background-color: #31e9fe;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #13e6fe;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-cyan:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-cyan:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #d6fbff;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-cyan:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #13e6fe;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-cyan:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #adf6ff;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-cyan:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #31e9fe;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-cyan:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #13e6fe;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone {\r\n  background: #d6fbff;\r\n  border-color: #13e6fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone::after {\r\n  background: #d6fbff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone > * {\r\n  color: #01bed3;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #13e6fe;\r\n  border-left-color: #13e6fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone:hover::after {\r\n  background: #adf6ff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #31e9fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #13e6fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event {\r\n  background-color: #d6ffee;\r\n  border-color: #13fea0;\r\n  color: #01d37f;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event:hover {\r\n  background-color: #adffde;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event.b-sch-event-selected {\r\n  background-color: #31feac;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #13fea0;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-teal:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-teal:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #d6ffee;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-teal:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #13fea0;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-teal:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #adffde;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-teal:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #31feac;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-teal:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #13fea0;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone {\r\n  background: #d6ffee;\r\n  border-color: #13fea0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone::after {\r\n  background: #d6ffee;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone > * {\r\n  color: #01d37f;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #13fea0;\r\n  border-left-color: #13fea0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone:hover::after {\r\n  background: #adffde;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #31feac;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #13fea0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-green .b-sch-event {\r\n  background-color: #d2f6d5;\r\n  border-color: #23b632;\r\n  color: #1b8d27;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-green .b-sch-event:hover {\r\n  background-color: #a5eeac;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-green .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-green .b-sch-event.b-sch-event-selected {\r\n  background-color: #27ca37;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-green .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #23b632;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-green:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-green:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #d2f6d5;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-green:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #23b632;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-green:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #a5eeac;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-green:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #27ca37;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-green:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #23b632;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone {\r\n  background: #d2f6d5;\r\n  border-color: #23b632;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone::after {\r\n  background: #d2f6d5;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone > * {\r\n  color: #1b8d27;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #23b632;\r\n  border-left-color: #23b632;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone:hover::after {\r\n  background: #a5eeac;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #27ca37;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #23b632;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event {\r\n  background-color: #e4fad5;\r\n  border-color: #67dc1a;\r\n  color: #50ab14;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event:hover {\r\n  background-color: #c8f5ab;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event.b-sch-event-selected {\r\n  background-color: #76e62c;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #67dc1a;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-lime:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-lime:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #e4fad5;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-lime:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #67dc1a;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-lime:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #c8f5ab;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-lime:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #76e62c;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-lime:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #67dc1a;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone {\r\n  background: #e4fad5;\r\n  border-color: #67dc1a;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone::after {\r\n  background: #e4fad5;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone > * {\r\n  color: #50ab14;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #67dc1a;\r\n  border-left-color: #67dc1a;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone:hover::after {\r\n  background: #c8f5ab;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #76e62c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #67dc1a;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event {\r\n  background-color: #fffbd8;\r\n  border-color: #ffe81c;\r\n  color: #dcc500;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event:hover {\r\n  background-color: #fff7b1;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event.b-sch-event-selected {\r\n  background-color: #FFEB3B;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #ffe81c;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-yellow:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-yellow:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #fffbd8;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-yellow:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #ffe81c;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-yellow:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #fff7b1;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-yellow:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #FFEB3B;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-yellow:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #ffe81c;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone {\r\n  background: #fffbd8;\r\n  border-color: #ffe81c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone::after {\r\n  background: #fffbd8;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone > * {\r\n  color: #dcc500;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #ffe81c;\r\n  border-left-color: #ffe81c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone:hover::after {\r\n  background: #fff7b1;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #FFEB3B;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #ffe81c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event {\r\n  background-color: #ffeed6;\r\n  border-color: #fea013;\r\n  color: #d37f01;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event:hover {\r\n  background-color: navajowhite;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event.b-sch-event-selected {\r\n  background-color: #feac31;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #fea013;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-orange:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-orange:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #ffeed6;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-orange:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #fea013;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-orange:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: navajowhite;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-orange:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #feac31;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-orange:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #fea013;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone {\r\n  background: #ffeed6;\r\n  border-color: #fea013;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone::after {\r\n  background: #ffeed6;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone > * {\r\n  color: #d37f01;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #fea013;\r\n  border-left-color: #fea013;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone:hover::after {\r\n  background: navajowhite;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #feac31;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #fea013;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event {\r\n  background-color: #ffe2d9;\r\n  border-color: #ff5823;\r\n  color: #e13600;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event:hover {\r\n  background-color: #ffc6b4;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event.b-sch-event-selected {\r\n  background-color: #ff7043;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #ff5823;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-deep-orange:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-deep-orange:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #ffe2d9;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-deep-orange:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #ff5823;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-deep-orange:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #ffc6b4;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-deep-orange:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #ff7043;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-deep-orange:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #ff5823;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone {\r\n  background: #ffe2d9;\r\n  border-color: #ff5823;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone::after {\r\n  background: #ffe2d9;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone > * {\r\n  color: #e13600;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #ff5823;\r\n  border-left-color: #ff5823;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone:hover::after {\r\n  background: #ffc6b4;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #ff7043;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #ff5823;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event {\r\n  background-color: #ececec;\r\n  border-color: #909090;\r\n  color: #707070;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event:hover {\r\n  background-color: #d9d9d9;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event.b-sch-event-resizing, .b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event.b-sch-event-selected {\r\n  background-color: #a0a0a0;\r\n  color: #fff;\r\n}\r\n.b-sch-style-colored:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #909090;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-gray:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-gray:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #ececec;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-gray:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #909090;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-gray:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #d9d9d9;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-gray:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #a0a0a0;\r\n}\r\n.b-sch-style-colored.b-milestone-wrap.b-sch-color-gray:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #909090;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone {\r\n  background: #ececec;\r\n  border-color: #909090;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone::after {\r\n  background: #ececec;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone > * {\r\n  color: #707070;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #909090;\r\n  border-left-color: #909090;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone:hover::after {\r\n  background: #d9d9d9;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #a0a0a0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #909090;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-red .b-sch-event {\r\n  background-color: #fad9d5;\r\n  border-color: #db2f1b;\r\n  color: #aa2415;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-red .b-sch-event:hover {\r\n  background-color: #f5b2ab;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-red .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-red .b-sch-event.b-sch-event-selected {\r\n  background-color: #f29f96;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-red .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #ee7f73;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-red:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-red:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #fad9d5;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-red:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #db2f1b;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-red:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #f5b2ab;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-red:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #e53f2c;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-red:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #ee7f73;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone {\r\n  background: #fad9d5;\r\n  border-color: #db2f1b;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone::after {\r\n  background: #fad9d5;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone > * {\r\n  color: #aa2415;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #db2f1b;\r\n  border-left-color: #db2f1b;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone:hover::after {\r\n  background: #f5b2ab;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #e53f2c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #ee7f73;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event {\r\n  background-color: #ffd6e6;\r\n  border-color: #fe1371;\r\n  color: #d30155;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event:hover {\r\n  background-color: #ffadcd;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event.b-sch-event-selected {\r\n  background-color: #ff98c1;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-pink .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #fe70a9;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-pink:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-pink:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #ffd6e6;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-pink:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #fe1371;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-pink:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #ffadcd;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-pink:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #fe3183;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-pink:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #fe70a9;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone {\r\n  background: #ffd6e6;\r\n  border-color: #fe1371;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone::after {\r\n  background: #ffd6e6;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone > * {\r\n  color: #d30155;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #fe1371;\r\n  border-left-color: #fe1371;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone:hover::after {\r\n  background: #ffadcd;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #fe3183;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #fe70a9;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event {\r\n  background-color: #ffd6fb;\r\n  border-color: #fe13e7;\r\n  color: #d301bf;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event:hover {\r\n  background-color: #ffadf7;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event.b-sch-event-selected {\r\n  background-color: #ff98f5;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-purple .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #fe70f0;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-purple:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-purple:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #ffd6fb;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-purple:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #fe13e7;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-purple:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #ffadf7;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-purple:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #fe31ea;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-purple:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #fe70f0;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone {\r\n  background: #ffd6fb;\r\n  border-color: #fe13e7;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone::after {\r\n  background: #ffd6fb;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone > * {\r\n  color: #d301bf;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #fe13e7;\r\n  border-left-color: #fe13e7;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone:hover::after {\r\n  background: #ffadf7;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #fe31ea;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #fe70f0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event {\r\n  background-color: #eed6ff;\r\n  border-color: #a013fe;\r\n  color: #7f01d3;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event:hover {\r\n  background-color: #deadff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event.b-sch-event-selected {\r\n  background-color: #d698ff;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-violet .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #c570fe;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-violet:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-violet:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #eed6ff;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-violet:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #a013fe;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-violet:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #deadff;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-violet:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #ac31fe;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-violet:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #c570fe;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone {\r\n  background: #eed6ff;\r\n  border-color: #a013fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone::after {\r\n  background: #eed6ff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone > * {\r\n  color: #7f01d3;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #a013fe;\r\n  border-left-color: #a013fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone:hover::after {\r\n  background: #deadff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #ac31fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #c570fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event {\r\n  background-color: #dad6ff;\r\n  border-color: #2a13fe;\r\n  color: #1601d3;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event:hover {\r\n  background-color: #b5adff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event.b-sch-event-selected {\r\n  background-color: #a298ff;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-indigo .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #7d70fe;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-indigo:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-indigo:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #dad6ff;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-indigo:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #2a13fe;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-indigo:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #b5adff;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-indigo:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #4531fe;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-indigo:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #7d70fe;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone {\r\n  background: #dad6ff;\r\n  border-color: #2a13fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone::after {\r\n  background: #dad6ff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone > * {\r\n  color: #1601d3;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #2a13fe;\r\n  border-left-color: #2a13fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone:hover::after {\r\n  background: #b5adff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #4531fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #7d70fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event {\r\n  background-color: #d6e6ff;\r\n  border-color: #1371fe;\r\n  color: #0155d3;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event:hover {\r\n  background-color: #adcdff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event.b-sch-event-selected {\r\n  background-color: #98c1ff;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-blue .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #70a9fe;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-blue:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-blue:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #d6e6ff;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-blue:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #1371fe;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-blue:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #adcdff;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-blue:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #3183fe;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-blue:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #70a9fe;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone {\r\n  background: #d6e6ff;\r\n  border-color: #1371fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone::after {\r\n  background: #d6e6ff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone > * {\r\n  color: #0155d3;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #1371fe;\r\n  border-left-color: #1371fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone:hover::after {\r\n  background: #adcdff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #3183fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #70a9fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event {\r\n  background-color: #d6fbff;\r\n  border-color: #13e6fe;\r\n  color: #01bed3;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event:hover {\r\n  background-color: #adf6ff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event.b-sch-event-selected {\r\n  background-color: #98f4ff;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-cyan .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #70f0fe;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-cyan:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-cyan:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #d6fbff;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-cyan:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #13e6fe;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-cyan:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #adf6ff;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-cyan:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #31e9fe;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-cyan:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #70f0fe;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone {\r\n  background: #d6fbff;\r\n  border-color: #13e6fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone::after {\r\n  background: #d6fbff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone > * {\r\n  color: #01bed3;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #13e6fe;\r\n  border-left-color: #13e6fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone:hover::after {\r\n  background: #adf6ff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #31e9fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #70f0fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event {\r\n  background-color: #d6ffee;\r\n  border-color: #13fea0;\r\n  color: #01d37f;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event:hover {\r\n  background-color: #adffde;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event.b-sch-event-selected {\r\n  background-color: #98ffd6;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-teal .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #70fec5;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-teal:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-teal:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #d6ffee;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-teal:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #13fea0;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-teal:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #adffde;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-teal:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #31feac;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-teal:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #70fec5;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone {\r\n  background: #d6ffee;\r\n  border-color: #13fea0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone::after {\r\n  background: #d6ffee;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone > * {\r\n  color: #01d37f;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #13fea0;\r\n  border-left-color: #13fea0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone:hover::after {\r\n  background: #adffde;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #31feac;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #70fec5;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-green .b-sch-event {\r\n  background-color: #d2f6d5;\r\n  border-color: #23b632;\r\n  color: #1b8d27;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-green .b-sch-event:hover {\r\n  background-color: #a5eeac;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-green .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-green .b-sch-event.b-sch-event-selected {\r\n  background-color: #8ee997;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-green .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #6fe37a;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-green:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-green:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #d2f6d5;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-green:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #23b632;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-green:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #a5eeac;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-green:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #27ca37;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-green:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #6fe37a;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone {\r\n  background: #d2f6d5;\r\n  border-color: #23b632;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone::after {\r\n  background: #d2f6d5;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone > * {\r\n  color: #1b8d27;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #23b632;\r\n  border-left-color: #23b632;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone:hover::after {\r\n  background: #a5eeac;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #27ca37;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #6fe37a;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event {\r\n  background-color: #e4fad5;\r\n  border-color: #67dc1a;\r\n  color: #50ab14;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event:hover {\r\n  background-color: #c8f5ab;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event.b-sch-event-selected {\r\n  background-color: #bbf396;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-lime .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #a4ee72;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-lime:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-lime:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #e4fad5;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-lime:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #67dc1a;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-lime:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #c8f5ab;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-lime:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #76e62c;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-lime:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #a4ee72;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone {\r\n  background: #e4fad5;\r\n  border-color: #67dc1a;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone::after {\r\n  background: #e4fad5;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone > * {\r\n  color: #50ab14;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #67dc1a;\r\n  border-left-color: #67dc1a;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone:hover::after {\r\n  background: #c8f5ab;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #76e62c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #a4ee72;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event {\r\n  background-color: #fffbd8;\r\n  border-color: #ffe81c;\r\n  color: #dcc500;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event:hover {\r\n  background-color: #fff7b1;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event.b-sch-event-selected {\r\n  background-color: #fff59d;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-yellow .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #fff174;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-yellow:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-yellow:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #fffbd8;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-yellow:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #ffe81c;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-yellow:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #fff7b1;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-yellow:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #FFEB3B;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-yellow:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #fff174;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone {\r\n  background: #fffbd8;\r\n  border-color: #ffe81c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone::after {\r\n  background: #fffbd8;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone > * {\r\n  color: #dcc500;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #ffe81c;\r\n  border-left-color: #ffe81c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone:hover::after {\r\n  background: #fff7b1;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #FFEB3B;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #fff174;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event {\r\n  background-color: #ffeed6;\r\n  border-color: #fea013;\r\n  color: #d37f01;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event:hover {\r\n  background-color: navajowhite;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event.b-sch-event-selected {\r\n  background-color: #ffd698;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-orange .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #fec570;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-orange:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-orange:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #ffeed6;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-orange:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #fea013;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-orange:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: navajowhite;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-orange:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #feac31;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-orange:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #fec570;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone {\r\n  background: #ffeed6;\r\n  border-color: #fea013;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone::after {\r\n  background: #ffeed6;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone > * {\r\n  color: #d37f01;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #fea013;\r\n  border-left-color: #fea013;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone:hover::after {\r\n  background: navajowhite;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #feac31;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #fec570;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event {\r\n  background-color: #ffe2d9;\r\n  border-color: #ff5823;\r\n  color: #e13600;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event:hover {\r\n  background-color: #ffc6b4;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event.b-sch-event-selected {\r\n  background-color: #ffb8a1;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-deep-orange .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #ff9877;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-deep-orange:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-deep-orange:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #ffe2d9;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-deep-orange:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #ff5823;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-deep-orange:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #ffc6b4;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-deep-orange:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #ff7043;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-deep-orange:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #ff9877;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone {\r\n  background: #ffe2d9;\r\n  border-color: #ff5823;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone::after {\r\n  background: #ffe2d9;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone > * {\r\n  color: #e13600;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #ff5823;\r\n  border-left-color: #ff5823;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone:hover::after {\r\n  background: #ffc6b4;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #ff7043;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #ff9877;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event {\r\n  background-color: #ececec;\r\n  border-color: #909090;\r\n  color: #707070;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event:hover {\r\n  background-color: #d9d9d9;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event.b-sch-event-resizing, .b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event.b-sch-event-selected {\r\n  background-color: #d0d0d0;\r\n  color: #fff;\r\n}\r\n.b-sch-style-calendar:not(.b-milestone-wrap).b-sch-color-gray .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: #bbbbbb;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-gray:not(.b-sch-event-withicon) .b-sch-event {\r\n  background: none;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-gray:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content {\r\n  background-color: #ececec;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-gray:not(.b-sch-event-withicon) .b-sch-event .b-sch-event-content:before {\r\n  border-color: #909090;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-gray:not(.b-sch-event-withicon) .b-sch-event:hover .b-sch-event-content {\r\n  background-color: #d9d9d9;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-gray:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #a0a0a0;\r\n}\r\n.b-sch-style-calendar.b-milestone-wrap.b-sch-color-gray:not(.b-sch-event-withicon) .b-sch-event.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: #bbbbbb;\r\n}\r\n\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone {\r\n  background: #ececec;\r\n  border-color: #909090;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone::after {\r\n  background: #ececec;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone > * {\r\n  color: #707070;\r\n  font-weight: 500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone::before {\r\n  border-bottom-color: #909090;\r\n  border-left-color: #909090;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone:hover::after {\r\n  background: #d9d9d9;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected::after {\r\n  background: #a0a0a0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected:hover > * {\r\n  color: #fff;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: #bbbbbb;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-colored.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected:hover .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line .b-sch-event {\r\n  background-color: transparent;\r\n  border-color: #27ca37;\r\n  border-style: solid;\r\n  color: #777;\r\n  font-weight: 500;\r\n  justify-content: center;\r\n  overflow: visible;\r\n  height: auto !important;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line .b-sch-event .b-sch-event-content {\r\n  padding: 0;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line .b-sch-event.b-active {\r\n  outline-offset: 5px;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line .b-sch-event:not(.b-milestone)::before, .b-sch-event-wrap.b-sch-style-line .b-sch-event:not(.b-milestone)::after {\r\n  content: "";\r\n  border-color: inherit;\r\n  border-style: solid;\r\n  border-width: 0;\r\n  position: absolute;\r\n  border-radius: 2px;\r\n}\r\n.b-sch-horizontal .b-sch-event-wrap.b-sch-style-line .b-sch-event:not(.b-milestone)::before, .b-sch-horizontal .b-sch-event-wrap.b-sch-style-line .b-sch-event:not(.b-milestone)::after {\r\n  top: -9px;\r\n  height: 13px;\r\n  border-left-width: 5px;\r\n}\r\n.b-sch-vertical .b-sch-event-wrap.b-sch-style-line .b-sch-event:not(.b-milestone)::before, .b-sch-vertical .b-sch-event-wrap.b-sch-style-line .b-sch-event:not(.b-milestone)::after {\r\n  left: -9px;\r\n  width: 13px;\r\n  border-top-width: 5px;\r\n}\r\n.b-sch-horizontal .b-sch-event-wrap.b-sch-style-line .b-sch-event:not(.b-milestone)::before {\r\n  left: 0;\r\n}\r\n.b-sch-vertical .b-sch-event-wrap.b-sch-style-line .b-sch-event:not(.b-milestone)::before {\r\n  border-left-width: 5px;\r\n  top: 0;\r\n}\r\n.b-sch-horizontal .b-sch-event-wrap.b-sch-style-line .b-sch-event:not(.b-milestone)::after {\r\n  top: -9px;\r\n  right: 0;\r\n  height: 13px;\r\n}\r\n.b-sch-vertical .b-sch-event-wrap.b-sch-style-line .b-sch-event:not(.b-milestone)::after {\r\n  bottom: 0;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone {\r\n  top: initial;\r\n  border-width: 0;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: transparent;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone .b-sch-event-content::before {\r\n  border-width: 5px;\r\n  border-style: solid;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-sch-event-selected, .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-sch-event-resizing {\r\n  background-color: transparent;\r\n  border-color: #1d9829;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line .b-sch-event.b-sch-event-selected {\r\n  font-weight: 500;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: transparent;\r\n  border-color: #1b8d27;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone {\r\n  border-top-width: 5px;\r\n  border-bottom-width: 5px;\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone::before {\r\n  border-width: 0;\r\n  border-left-width: 5px;\r\n  border-bottom-width: 5px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone::after {\r\n  border-width: 0;\r\n  border-right-width: 5px;\r\n  border-bottom-width: 5px;\r\n  top: -5px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone:hover::after, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone.b-sch-event-selected::after, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-line .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: none;\r\n}\r\n\r\n.b-sch-style-line.b-sch-custom-color .b-sch-event {\r\n  border-color: currentColor;\r\n  opacity: 0.8;\r\n}\r\n.b-sch-style-line.b-sch-custom-color .b-sch-event:hover, .b-sch-style-line.b-sch-custom-color .b-sch-event.b-sch-event-selected, .b-sch-style-line.b-sch-custom-color .b-sch-event.b-sch-event-resizing, .b-sch-style-line.b-sch-custom-color .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: currentColor;\r\n  opacity: 1;\r\n}\r\n.b-sch-style-line.b-sch-custom-color .b-sch-event:hover .b-sch-event-content,\r\n.b-sch-style-line.b-sch-custom-color .b-sch-event:hover .b-sch-event-content *, .b-sch-style-line.b-sch-custom-color .b-sch-event.b-sch-event-selected .b-sch-event-content,\r\n.b-sch-style-line.b-sch-custom-color .b-sch-event.b-sch-event-selected .b-sch-event-content *, .b-sch-style-line.b-sch-custom-color .b-sch-event.b-sch-event-resizing .b-sch-event-content,\r\n.b-sch-style-line.b-sch-custom-color .b-sch-event.b-sch-event-resizing .b-sch-event-content *, .b-sch-style-line.b-sch-custom-color .b-sch-event.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-sch-style-line.b-sch-custom-color .b-sch-event.b-sch-event-selected:hover .b-sch-event-content * {\r\n  color: inherit;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-red .b-sch-event {\r\n  border-color: #e53f2c;\r\n  color: #e53f2c;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-red .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-red .b-sch-event.b-sch-event-selected {\r\n  border-color: #b62716;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-red .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #aa2415;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-red .b-sch-event.b-sch-event-selected * {\r\n  color: #e53f2c;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-pink .b-sch-event {\r\n  border-color: #fe3183;\r\n  color: #fe3183;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-pink .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-pink .b-sch-event.b-sch-event-selected {\r\n  border-color: #e2015b;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-pink .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #d30155;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-pink .b-sch-event.b-sch-event-selected * {\r\n  color: #fe3183;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-purple .b-sch-event {\r\n  border-color: #fe31ea;\r\n  color: #fe31ea;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-purple .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-purple .b-sch-event.b-sch-event-selected {\r\n  border-color: #e201cc;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-purple .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #d301bf;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-purple .b-sch-event.b-sch-event-selected * {\r\n  color: #fe31ea;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-violet .b-sch-event {\r\n  border-color: #ac31fe;\r\n  color: #ac31fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-violet .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-violet .b-sch-event.b-sch-event-selected {\r\n  border-color: #8801e2;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-violet .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #7f01d3;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-violet .b-sch-event.b-sch-event-selected * {\r\n  color: #ac31fe;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-indigo .b-sch-event {\r\n  border-color: #4531fe;\r\n  color: #4531fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-indigo .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-indigo .b-sch-event.b-sch-event-selected {\r\n  border-color: #1701e2;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-indigo .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #1601d3;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-indigo .b-sch-event.b-sch-event-selected * {\r\n  color: #4531fe;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-blue .b-sch-event {\r\n  border-color: #3183fe;\r\n  color: #3183fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-blue .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-blue .b-sch-event.b-sch-event-selected {\r\n  border-color: #015be2;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-blue .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #0155d3;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-blue .b-sch-event.b-sch-event-selected * {\r\n  color: #3183fe;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-cyan .b-sch-event {\r\n  border-color: #31e9fe;\r\n  color: #31e9fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-cyan .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-cyan .b-sch-event.b-sch-event-selected {\r\n  border-color: #01cbe2;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-cyan .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #01bed3;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-cyan .b-sch-event.b-sch-event-selected * {\r\n  color: #31e9fe;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-teal .b-sch-event {\r\n  border-color: #31feac;\r\n  color: #31feac;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-teal .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-teal .b-sch-event.b-sch-event-selected {\r\n  border-color: #01e288;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-teal .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #01d37f;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-teal .b-sch-event.b-sch-event-selected * {\r\n  color: #31feac;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-green .b-sch-event {\r\n  border-color: #27ca37;\r\n  color: #27ca37;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-green .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-green .b-sch-event.b-sch-event-selected {\r\n  border-color: #1d9829;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-green .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #1b8d27;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-green .b-sch-event.b-sch-event-selected * {\r\n  color: #27ca37;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-lime .b-sch-event {\r\n  border-color: #76e62c;\r\n  color: #76e62c;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-lime .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-lime .b-sch-event.b-sch-event-selected {\r\n  border-color: #56b816;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-lime .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #50ab14;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-lime .b-sch-event.b-sch-event-selected * {\r\n  color: #76e62c;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-yellow .b-sch-event {\r\n  border-color: #FFEB3B;\r\n  color: #FFEB3B;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-yellow .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-yellow .b-sch-event.b-sch-event-selected {\r\n  border-color: #ecd300;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-yellow .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #dcc500;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-yellow .b-sch-event.b-sch-event-selected * {\r\n  color: #FFEB3B;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-orange .b-sch-event {\r\n  border-color: #feac31;\r\n  color: #feac31;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-orange .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-orange .b-sch-event.b-sch-event-selected {\r\n  border-color: #e28801;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-orange .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #d37f01;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-orange .b-sch-event.b-sch-event-selected * {\r\n  color: #feac31;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-deep-orange .b-sch-event {\r\n  border-color: #ff7043;\r\n  color: #ff7043;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-deep-orange .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-deep-orange .b-sch-event.b-sch-event-selected {\r\n  border-color: #f23a00;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-deep-orange .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #e13600;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-deep-orange .b-sch-event.b-sch-event-selected * {\r\n  color: #ff7043;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-gray .b-sch-event {\r\n  border-color: #a0a0a0;\r\n  color: #a0a0a0;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-gray .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-line.b-sch-color-gray .b-sch-event.b-sch-event-selected {\r\n  border-color: #787878;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-gray .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #707070;\r\n}\r\n.b-sch-event-wrap.b-sch-style-line.b-sch-color-gray .b-sch-event.b-sch-event-selected * {\r\n  color: #a0a0a0;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed .b-sch-event {\r\n  background-color: transparent;\r\n  border-color: #27ca37;\r\n  border-style: dashed;\r\n  color: #777;\r\n  font-weight: 500;\r\n  justify-content: center;\r\n  overflow: visible;\r\n}\r\n.b-sch-horizontal .b-sch-event-wrap.b-sch-style-dashed .b-sch-event {\r\n  padding: 5px 0 3px 0;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed .b-sch-event .b-sch-event-content {\r\n  padding: 0;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-sch-event-selected, .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-sch-event-resizing {\r\n  background-color: transparent;\r\n  border-color: #1d9829;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-sch-event-selected {\r\n  font-weight: 500;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: transparent;\r\n  border-color: #1b8d27;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone {\r\n  top: initial;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone .b-sch-event-content {\r\n  border-width: 0;\r\n  background-color: transparent;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone .b-sch-event-content::before {\r\n  border-width: 5px;\r\n  border-style: dashed;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone {\r\n  border-top-width: 5px;\r\n  border-bottom-width: 5px;\r\n  background-color: transparent;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone::before {\r\n  border-width: 0;\r\n  border-left-width: 5px;\r\n  border-bottom-width: 5px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone::after {\r\n  border-width: 0;\r\n  border-right-width: 5px;\r\n  border-bottom-width: 5px;\r\n  top: -5px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone:hover::after, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone.b-sch-event-selected::after, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-dashed .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: none;\r\n}\r\n\r\n.b-sch-style-dashed.b-sch-custom-color .b-sch-event {\r\n  border-color: currentColor;\r\n  opacity: 0.8;\r\n}\r\n.b-sch-style-dashed.b-sch-custom-color .b-sch-event:hover, .b-sch-style-dashed.b-sch-custom-color .b-sch-event.b-sch-event-selected, .b-sch-style-dashed.b-sch-custom-color .b-sch-event.b-sch-event-resizing, .b-sch-style-dashed.b-sch-custom-color .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: currentColor;\r\n  opacity: 1;\r\n}\r\n.b-sch-style-dashed.b-sch-custom-color .b-sch-event:hover .b-sch-event-content,\r\n.b-sch-style-dashed.b-sch-custom-color .b-sch-event:hover .b-sch-event-content *, .b-sch-style-dashed.b-sch-custom-color .b-sch-event.b-sch-event-selected .b-sch-event-content,\r\n.b-sch-style-dashed.b-sch-custom-color .b-sch-event.b-sch-event-selected .b-sch-event-content *, .b-sch-style-dashed.b-sch-custom-color .b-sch-event.b-sch-event-resizing .b-sch-event-content,\r\n.b-sch-style-dashed.b-sch-custom-color .b-sch-event.b-sch-event-resizing .b-sch-event-content *, .b-sch-style-dashed.b-sch-custom-color .b-sch-event.b-sch-event-selected:hover .b-sch-event-content,\r\n.b-sch-style-dashed.b-sch-custom-color .b-sch-event.b-sch-event-selected:hover .b-sch-event-content * {\r\n  color: inherit;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-red .b-sch-event {\r\n  border-color: #e53f2c;\r\n  color: #e53f2c;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-red .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-red .b-sch-event.b-sch-event-selected {\r\n  border-color: #b62716;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-red .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #aa2415;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-red .b-sch-event.b-sch-event-selected * {\r\n  color: #e53f2c;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-pink .b-sch-event {\r\n  border-color: #fe3183;\r\n  color: #fe3183;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-pink .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-pink .b-sch-event.b-sch-event-selected {\r\n  border-color: #e2015b;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-pink .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #d30155;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-pink .b-sch-event.b-sch-event-selected * {\r\n  color: #fe3183;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-purple .b-sch-event {\r\n  border-color: #fe31ea;\r\n  color: #fe31ea;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-purple .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-purple .b-sch-event.b-sch-event-selected {\r\n  border-color: #e201cc;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-purple .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #d301bf;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-purple .b-sch-event.b-sch-event-selected * {\r\n  color: #fe31ea;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-violet .b-sch-event {\r\n  border-color: #ac31fe;\r\n  color: #ac31fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-violet .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-violet .b-sch-event.b-sch-event-selected {\r\n  border-color: #8801e2;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-violet .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #7f01d3;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-violet .b-sch-event.b-sch-event-selected * {\r\n  color: #ac31fe;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-indigo .b-sch-event {\r\n  border-color: #4531fe;\r\n  color: #4531fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-indigo .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-indigo .b-sch-event.b-sch-event-selected {\r\n  border-color: #1701e2;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-indigo .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #1601d3;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-indigo .b-sch-event.b-sch-event-selected * {\r\n  color: #4531fe;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-blue .b-sch-event {\r\n  border-color: #3183fe;\r\n  color: #3183fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-blue .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-blue .b-sch-event.b-sch-event-selected {\r\n  border-color: #015be2;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-blue .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #0155d3;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-blue .b-sch-event.b-sch-event-selected * {\r\n  color: #3183fe;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-cyan .b-sch-event {\r\n  border-color: #31e9fe;\r\n  color: #31e9fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-cyan .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-cyan .b-sch-event.b-sch-event-selected {\r\n  border-color: #01cbe2;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-cyan .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #01bed3;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-cyan .b-sch-event.b-sch-event-selected * {\r\n  color: #31e9fe;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-teal .b-sch-event {\r\n  border-color: #31feac;\r\n  color: #31feac;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-teal .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-teal .b-sch-event.b-sch-event-selected {\r\n  border-color: #01e288;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-teal .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #01d37f;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-teal .b-sch-event.b-sch-event-selected * {\r\n  color: #31feac;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-green .b-sch-event {\r\n  border-color: #27ca37;\r\n  color: #27ca37;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-green .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-green .b-sch-event.b-sch-event-selected {\r\n  border-color: #1d9829;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-green .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #1b8d27;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-green .b-sch-event.b-sch-event-selected * {\r\n  color: #27ca37;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-lime .b-sch-event {\r\n  border-color: #76e62c;\r\n  color: #76e62c;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-lime .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-lime .b-sch-event.b-sch-event-selected {\r\n  border-color: #56b816;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-lime .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #50ab14;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-lime .b-sch-event.b-sch-event-selected * {\r\n  color: #76e62c;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-yellow .b-sch-event {\r\n  border-color: #FFEB3B;\r\n  color: #FFEB3B;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-yellow .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-yellow .b-sch-event.b-sch-event-selected {\r\n  border-color: #ecd300;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-yellow .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #dcc500;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-yellow .b-sch-event.b-sch-event-selected * {\r\n  color: #FFEB3B;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-orange .b-sch-event {\r\n  border-color: #feac31;\r\n  color: #feac31;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-orange .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-orange .b-sch-event.b-sch-event-selected {\r\n  border-color: #e28801;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-orange .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #d37f01;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-orange .b-sch-event.b-sch-event-selected * {\r\n  color: #feac31;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-deep-orange .b-sch-event {\r\n  border-color: #ff7043;\r\n  color: #ff7043;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-deep-orange .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-deep-orange .b-sch-event.b-sch-event-selected {\r\n  border-color: #f23a00;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-deep-orange .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #e13600;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-deep-orange .b-sch-event.b-sch-event-selected * {\r\n  color: #ff7043;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-gray .b-sch-event {\r\n  border-color: #a0a0a0;\r\n  color: #a0a0a0;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-gray .b-sch-event:hover, .b-sch-event-wrap.b-sch-style-dashed.b-sch-color-gray .b-sch-event.b-sch-event-selected {\r\n  border-color: #787878;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-gray .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #707070;\r\n}\r\n.b-sch-event-wrap.b-sch-style-dashed.b-sch-color-gray .b-sch-event.b-sch-event-selected * {\r\n  color: #a0a0a0;\r\n}\r\n\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event {\r\n  background-color: transparent;\r\n  border-color: #27ca37;\r\n  border-style: solid;\r\n  padding: 0;\r\n  color: #777;\r\n  font-weight: 500;\r\n  overflow: visible;\r\n}\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event:not(.b-milestone) {\r\n  font-size: 10px;\r\n}\r\n.b-sch-horizontal .b-sch-style-minimal.b-sch-event-wrap .b-sch-event:not(.b-milestone) {\r\n  border-width: 0 0 1px 0;\r\n  align-items: flex-end;\r\n}\r\n.b-sch-vertical .b-sch-style-minimal.b-sch-event-wrap .b-sch-event:not(.b-milestone) {\r\n  border-width: 0 0 0 1px;\r\n  align-items: flex-start;\r\n  padding-left: 0.75em;\r\n}\r\n.b-sch-vertical .b-sch-style-minimal.b-sch-event-wrap .b-sch-event {\r\n  left: 0;\r\n  flex-direction: column;\r\n}\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-sch-event-selected * {\r\n  color: #777;\r\n}\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event:hover, .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-sch-event-selected, .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-sch-event-resizing {\r\n  background-color: transparent;\r\n  border-color: #1d9829;\r\n}\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-sch-event-selected {\r\n  font-weight: 500;\r\n}\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-sch-event-selected:hover {\r\n  background-color: transparent;\r\n  border-color: #1b8d27;\r\n}\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: transparent;\r\n  border-style: solid;\r\n  font-size: 20px;\r\n}\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content::before {\r\n  border-width: 1px;\r\n}\r\n.b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content label {\r\n  font-size: 10px;\r\n  left: 90%;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone {\r\n  border-top-width: 1px;\r\n  border-bottom-width: 1px;\r\n  background-color: transparent;\r\n  border-style: solid;\r\n  height: 20px;\r\n  font-size: 20px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone .b-sch-event-content {\r\n  font-size: 10px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone::before {\r\n  border-width: 0;\r\n  border-left-width: 1px;\r\n  border-bottom-width: 1px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone::after {\r\n  border-width: 0;\r\n  border-right-width: 1px;\r\n  border-bottom-width: 1px;\r\n  top: -1px;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone:hover::after, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected::after, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover::before, .b-schedulerbase.b-sch-layout-milestones .b-sch-style-minimal.b-sch-event-wrap .b-sch-event.b-milestone.b-sch-event-selected:hover::after {\r\n  background: none;\r\n}\r\n\r\n.b-sch-style-minimal.b-sch-custom-color .b-sch-event {\r\n  border-color: currentColor;\r\n  opacity: 0.8;\r\n}\r\n.b-sch-style-minimal.b-sch-custom-color .b-sch-event .b-sch-event-content {\r\n  color: #777;\r\n}\r\n.b-sch-style-minimal.b-sch-custom-color .b-sch-event:hover, .b-sch-style-minimal.b-sch-custom-color .b-sch-event.b-sch-event-selected, .b-sch-style-minimal.b-sch-custom-color .b-sch-event.b-sch-event-resizing, .b-sch-style-minimal.b-sch-custom-color .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: currentColor;\r\n  opacity: 1;\r\n}\r\n\r\n.b-sch-horizontal .b-sch-style-line .b-sch-event,\r\n.b-sch-horizontal .b-sch-style-dashed .b-sch-event {\r\n  top: 5px;\r\n  height: auto !important;\r\n  border-width: 5px 0 0 0;\r\n}\r\n.b-sch-vertical .b-sch-style-line .b-sch-event,\r\n.b-sch-vertical .b-sch-style-dashed .b-sch-event {\r\n  left: 0;\r\n  border-width: 0 0 0 5px;\r\n  flex-direction: column;\r\n}\r\n.b-sch-vertical .b-sch-style-line .b-sch-event .b-sch-event-content,\r\n.b-sch-vertical .b-sch-style-dashed .b-sch-event .b-sch-event-content {\r\n  margin: 0;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-red .b-sch-event {\r\n  border-color: #e53f2c;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-red .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-red .b-sch-event.b-sch-event-selected {\r\n  border-color: #b62716;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-red .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #aa2415;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-pink .b-sch-event {\r\n  border-color: #fe3183;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-pink .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-pink .b-sch-event.b-sch-event-selected {\r\n  border-color: #e2015b;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-pink .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #d30155;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-purple .b-sch-event {\r\n  border-color: #fe31ea;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-purple .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-purple .b-sch-event.b-sch-event-selected {\r\n  border-color: #e201cc;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-purple .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #d301bf;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-violet .b-sch-event {\r\n  border-color: #ac31fe;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-violet .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-violet .b-sch-event.b-sch-event-selected {\r\n  border-color: #8801e2;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-violet .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #7f01d3;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-indigo .b-sch-event {\r\n  border-color: #4531fe;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-indigo .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-indigo .b-sch-event.b-sch-event-selected {\r\n  border-color: #1701e2;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-indigo .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #1601d3;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-blue .b-sch-event {\r\n  border-color: #3183fe;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-blue .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-blue .b-sch-event.b-sch-event-selected {\r\n  border-color: #015be2;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-blue .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #0155d3;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-cyan .b-sch-event {\r\n  border-color: #31e9fe;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-cyan .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-cyan .b-sch-event.b-sch-event-selected {\r\n  border-color: #01cbe2;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-cyan .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #01bed3;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-teal .b-sch-event {\r\n  border-color: #31feac;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-teal .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-teal .b-sch-event.b-sch-event-selected {\r\n  border-color: #01e288;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-teal .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #01d37f;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-green .b-sch-event {\r\n  border-color: #27ca37;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-green .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-green .b-sch-event.b-sch-event-selected {\r\n  border-color: #1d9829;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-green .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #1b8d27;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-lime .b-sch-event {\r\n  border-color: #76e62c;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-lime .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-lime .b-sch-event.b-sch-event-selected {\r\n  border-color: #56b816;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-lime .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #50ab14;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-yellow .b-sch-event {\r\n  border-color: #FFEB3B;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-yellow .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-yellow .b-sch-event.b-sch-event-selected {\r\n  border-color: #ecd300;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-yellow .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #dcc500;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-orange .b-sch-event {\r\n  border-color: #feac31;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-orange .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-orange .b-sch-event.b-sch-event-selected {\r\n  border-color: #e28801;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-orange .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #d37f01;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-deep-orange .b-sch-event {\r\n  border-color: #ff7043;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-deep-orange .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-deep-orange .b-sch-event.b-sch-event-selected {\r\n  border-color: #f23a00;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-deep-orange .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #e13600;\r\n}\r\n\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-gray .b-sch-event {\r\n  border-color: #a0a0a0;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-gray .b-sch-event:hover, .b-sch-style-minimal:not(.b-milestone).b-sch-color-gray .b-sch-event.b-sch-event-selected {\r\n  border-color: #787878;\r\n}\r\n.b-sch-style-minimal:not(.b-milestone).b-sch-color-gray .b-sch-event.b-sch-event-selected:hover {\r\n  border-color: #707070;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(142, 233, 151, 0.6);\r\n  border-color: #27ca37;\r\n  color: #139620;\r\n  font-weight: 500;\r\n  font-size: 11px;\r\n  border-radius: 2em;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded .b-sch-event:not(.b-milestone) .b-sch-event-content {\r\n  margin: 0 1em;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(86, 222, 99, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded .b-sch-event.b-milestone .b-sch-event-content::before {\r\n  border-radius: 1em;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-custom-color .b-sch-event:not(.b-milestone) {\r\n  background-color: currentColor;\r\n  background-image: linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.8));\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-custom-color .b-sch-event:not(.b-milestone):hover {\r\n  background-color: currentColor;\r\n  background-image: linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-custom-color .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-image: none;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-custom-color .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: currentColor;\r\n  background-image: linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.8));\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-custom-color .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-image: linear-gradient(rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-custom-color .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-image: none;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-red .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(242, 159, 150, 0.6);\r\n  color: #b01f0f;\r\n  border-color: #e53f2c;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-red .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(236, 111, 97, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-red .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #e53f2c;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-red .b-sch-event.b-milestone {\r\n  border-color: #b01f0f;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-red .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(242, 159, 150, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-red .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(236, 111, 97, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-red .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #e53f2c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-red .b-milestone {\r\n  background-color: #f7c5c0;\r\n  color: #b01f0f;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-red .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-pink .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(255, 152, 193, 0.6);\r\n  color: #d30155;\r\n  border-color: #fe3183;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-pink .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(254, 101, 162, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-pink .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #fe3183;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-pink .b-sch-event.b-milestone {\r\n  border-color: #d30155;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-pink .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(255, 152, 193, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-pink .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(254, 101, 162, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-pink .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #fe3183;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-pink .b-milestone {\r\n  background-color: #ffc1da;\r\n  color: #d30155;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-pink .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-purple .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(255, 152, 245, 0.6);\r\n  color: #d301bf;\r\n  border-color: #fe31ea;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-purple .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(254, 101, 239, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-purple .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #fe31ea;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-purple .b-sch-event.b-milestone {\r\n  border-color: #d301bf;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-purple .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(255, 152, 245, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-purple .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(254, 101, 239, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-purple .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #fe31ea;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-purple .b-milestone {\r\n  background-color: #ffc1f9;\r\n  color: #d301bf;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-purple .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-violet .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(214, 152, 255, 0.6);\r\n  color: #7f01d3;\r\n  border-color: #ac31fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-violet .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(193, 101, 254, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-violet .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #ac31fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-violet .b-sch-event.b-milestone {\r\n  border-color: #7f01d3;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-violet .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(214, 152, 255, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-violet .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(193, 101, 254, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-violet .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #ac31fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-violet .b-milestone {\r\n  background-color: #e6c1ff;\r\n  color: #7f01d3;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-violet .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-indigo .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(162, 152, 255, 0.6);\r\n  color: #1501d3;\r\n  border-color: #4531fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-indigo .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(116, 101, 254, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-indigo .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #4531fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-indigo .b-sch-event.b-milestone {\r\n  border-color: #1501d3;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-indigo .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(162, 152, 255, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-indigo .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(116, 101, 254, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-indigo .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #4531fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-indigo .b-milestone {\r\n  background-color: #c7c1ff;\r\n  color: #1501d3;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-indigo .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-blue .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(152, 193, 255, 0.6);\r\n  color: #0155d3;\r\n  border-color: #3183fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-blue .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(101, 162, 254, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-blue .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #3183fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-blue .b-sch-event.b-milestone {\r\n  border-color: #0155d3;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-blue .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(152, 193, 255, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-blue .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(101, 162, 254, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-blue .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #3183fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-blue .b-milestone {\r\n  background-color: #c1daff;\r\n  color: #0155d3;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-blue .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-cyan .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(152, 244, 255, 0.6);\r\n  color: #01bed3;\r\n  border-color: #31e9fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-cyan .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(101, 239, 254, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-cyan .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #31e9fe;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-cyan .b-sch-event.b-milestone {\r\n  border-color: #01bed3;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-cyan .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(152, 244, 255, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-cyan .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(101, 239, 254, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-cyan .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #31e9fe;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-cyan .b-milestone {\r\n  background-color: #c1f8ff;\r\n  color: #01bed3;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-cyan .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-teal .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(152, 255, 214, 0.6);\r\n  color: #01d37f;\r\n  border-color: #31feac;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-teal .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(101, 254, 193, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-teal .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #31feac;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-teal .b-sch-event.b-milestone {\r\n  border-color: #01d37f;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-teal .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(152, 255, 214, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-teal .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(101, 254, 193, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-teal .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #31feac;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-teal .b-milestone {\r\n  background-color: #c1ffe6;\r\n  color: #01d37f;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-teal .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-green .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(142, 233, 151, 0.6);\r\n  color: #139620;\r\n  border-color: #27ca37;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-green .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(86, 222, 99, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-green .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #27ca37;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-green .b-sch-event.b-milestone {\r\n  border-color: #139620;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-green .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(142, 233, 151, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-green .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(86, 222, 99, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-green .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #27ca37;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-green .b-milestone {\r\n  background-color: #bbf2c1;\r\n  color: #139620;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-green .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-lime .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(187, 243, 150, 0.6);\r\n  color: #4fb20e;\r\n  border-color: #76e62c;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-lime .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(152, 236, 97, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-lime .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #76e62c;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-lime .b-sch-event.b-milestone {\r\n  border-color: #4fb20e;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-lime .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(187, 243, 150, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-lime .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(152, 236, 97, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-lime .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #76e62c;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-lime .b-milestone {\r\n  background-color: #d6f8c0;\r\n  color: #4fb20e;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-lime .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-yellow .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(255, 245, 157, 0.6);\r\n  color: #dcc500;\r\n  border-color: #FFEB3B;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-yellow .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(255, 240, 108, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-yellow .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #FFEB3B;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-yellow .b-sch-event.b-milestone {\r\n  border-color: #dcc500;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-yellow .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(255, 245, 157, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-yellow .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(255, 240, 108, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-yellow .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #FFEB3B;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-yellow .b-milestone {\r\n  background-color: #fff9c4;\r\n  color: #dcc500;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-yellow .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-orange .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(255, 214, 152, 0.6);\r\n  color: #d37f01;\r\n  border-color: #feac31;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-orange .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(254, 193, 101, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-orange .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #feac31;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-orange .b-sch-event.b-milestone {\r\n  border-color: #d37f01;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-orange .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(255, 214, 152, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-orange .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(254, 193, 101, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-orange .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #feac31;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-orange .b-milestone {\r\n  background-color: #ffe6c1;\r\n  color: #d37f01;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-orange .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-deep-orange .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(255, 184, 161, 0.6);\r\n  color: #e13600;\r\n  border-color: #ff7043;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-deep-orange .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(255, 148, 114, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-deep-orange .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #ff7043;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-deep-orange .b-sch-event.b-milestone {\r\n  border-color: #e13600;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-deep-orange .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(255, 184, 161, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-deep-orange .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(255, 148, 114, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-deep-orange .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #ff7043;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-deep-orange .b-milestone {\r\n  background-color: #ffd4c7;\r\n  color: #e13600;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-deep-orange .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-gray .b-sch-event:not(.b-milestone) {\r\n  background-color: rgba(208, 208, 208, 0.6);\r\n  color: #924e4e;\r\n  border-color: #a0a0a0;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-gray .b-sch-event:not(.b-milestone):hover {\r\n  background-color: rgba(184, 184, 184, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-gray .b-sch-event:not(.b-milestone).b-sch-event-selected {\r\n  background-color: #a0a0a0;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-gray .b-sch-event.b-milestone {\r\n  border-color: #924e4e;\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-gray .b-sch-event.b-milestone .b-sch-event-content {\r\n  background-color: rgba(208, 208, 208, 0.6);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-gray .b-sch-event.b-milestone:hover .b-sch-event-content {\r\n  background-color: rgba(184, 184, 184, 0.8);\r\n}\r\n.b-sch-event-wrap.b-sch-style-rounded.b-sch-color-gray .b-sch-event.b-milestone.b-sch-event-selected .b-sch-event-content {\r\n  background-color: #a0a0a0;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-gray .b-milestone {\r\n  background-color: #e3e3e3;\r\n  color: #924e4e;\r\n}\r\n.b-schedulerbase.b-sch-layout-milestones .b-sch-event-wrap.b-sch-style-rounded.b-sch-color-gray .b-milestone .b-sch-event-content {\r\n  font-size: 11px;\r\n}\r\n\r\n.b-icon-calendar-week:before {\r\n  content: "\\f784";\r\n}\r\n\r\n/**\r\n *\r\n * The DayView. Days are vertical stack of hours in which intra day events are rendered.\r\n * A DayView can show a single of many days side by side.\r\n *\r\n */\r\n/*\r\n * Calendar View styles\r\n *\r\n */\r\n/*\r\n * Calendar header row styles\r\n *\r\n */\r\n.cal-view-readonly {\r\n  filter: grayscale(75%);\r\n  transition: filter 0.5s;\r\n}\r\n\r\n.b-cal-event-bar-container {\r\n  flex: 1;\r\n  flex-flow: column;\r\n}\r\n.b-cal-event-bar-container .b-cal-event {\r\n  padding: 0 0.3em;\r\n  gap: 0.3em;\r\n}\r\n.b-cal-event-bar-container .b-solid-bar .b-cal-event-desc {\r\n  color: #fdfdfd;\r\n}\r\n\r\n.b-daycellrenderer .b-cal-event-bar-container {\r\n  flex-grow: 1;\r\n  contain: style;\r\n}\r\n.b-daycellrenderer .b-cal-event-bar-container .b-cal-event-wrap {\r\n  position: absolute;\r\n  padding-right: 2px;\r\n  padding-left: 1px;\r\n}\r\n.b-daycellrenderer .b-cal-event-bar-container .b-cal-event-wrap.b-overflow {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n  max-width: 14%;\r\n  right: auto;\r\n}\r\n.b-daycellrenderer .b-calendar-cell:last-child .b-cal-event-bar-container .b-cal-event-wrap.b-overflow {\r\n  right: 0;\r\n}\r\n.b-daycellrenderer .b-cal-cell-overflow {\r\n  flex: 0 0 auto;\r\n  align-self: stretch;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n  color: #888;\r\n  margin: 0 1px;\r\n  font-family: inherit;\r\n  padding: 0 0.3em;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.3em;\r\n  border: 0 none;\r\n  background-color: transparent;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n}\r\n.b-daycellrenderer .b-cal-cell-overflow:hover, .b-daycellrenderer .b-cal-cell-overflow:focus-within {\r\n  background-color: #dcdce2;\r\n  border-radius: 4px;\r\n}\r\n.b-daycellrenderer .b-cal-cell-overflow.b-active {\r\n  outline: 0 none;\r\n  font-weight: bold;\r\n  text-decoration: underline;\r\n  color: #2f2f2f;\r\n}\r\n\r\n/**\r\n *\r\n * The DayView. Days are vertical stack of hours in which intra day events are rendered.\r\n * A DayView can show a single of many days side by side.\r\n *\r\n */\r\n/*\r\n * Calendar View styles\r\n *\r\n */\r\n/*\r\n * Calendar header row styles\r\n *\r\n */\r\n.b-agendaview.b-gridbase.b-enable-sticky .b-grid-subgrid.b-grid-horizontal-scroller {\r\n  overflow: visible !important;\r\n}\r\n.b-agendaview.b-gridbase.b-enable-sticky .b-virtual-scrollers {\r\n  display: none !important;\r\n}\r\n.b-agendaview.b-gridbase.b-enable-sticky .b-cal-agenda-date {\r\n  position: sticky;\r\n  top: 1.7em;\r\n}\r\n\r\n.b-cal-agenda-grid-row.b-selected, .b-grid-body-container:focus .b-cal-agenda-grid-row.b-selected, .b-gridbase .b-cal-agenda-grid-row.b-grid-row.b-hover .b-grid-cell.b-calendar-cell, .b-gridbase .b-cal-agenda-grid-row.b-grid-row.b-hover .b-grid-cell.b-calendar-cell:not(.b-nonworking-day):hover {\r\n  background-color: transparent;\r\n}\r\n.b-cal-agenda-grid-row.b-selected .b-calendar-cell.b-nonworking-day, .b-grid-body-container:focus .b-cal-agenda-grid-row.b-selected .b-calendar-cell.b-nonworking-day, .b-gridbase .b-cal-agenda-grid-row.b-grid-row.b-hover .b-grid-cell.b-calendar-cell .b-calendar-cell.b-nonworking-day, .b-gridbase .b-cal-agenda-grid-row.b-grid-row.b-hover .b-grid-cell.b-calendar-cell:not(.b-nonworking-day):hover .b-calendar-cell.b-nonworking-day {\r\n  background-color: #f3f4f566;\r\n}\r\n.b-cal-agenda-grid-row .b-calendar-cell {\r\n  flex: 1 1 100%;\r\n  padding: 1.5em 0;\r\n  align-items: flex-start;\r\n  color: #606060;\r\n}\r\n.b-cal-agenda-grid-row .b-calendar-cell.b-nonworking-day {\r\n  background-color: #f3f4f566;\r\n}\r\n\r\n.b-cal-agenda-event-row {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-self: stretch;\r\n}\r\n\r\n.b-grid-cell.b-calendar-cell {\r\n  font-weight: inherit;\r\n}\r\n\r\n.b-cal-agenda-date {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  flex: 0 0 14em;\r\n  padding: 0 1em;\r\n  align-items: center;\r\n  height: 2.6em;\r\n  margin: 0.2em 0 0 0;\r\n}\r\n\r\n.cal-agenda-date-date-number {\r\n  margin: 0 0.1em 0 0;\r\n  font-size: 3em;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  width: 1.5em;\r\n  height: 1.5em;\r\n  border-radius: 50%;\r\n}\r\n.cal-agenda-date-date-number:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n.b-today .cal-agenda-date-date-number {\r\n  background-color: #5fa2dd;\r\n  color: #fff;\r\n}\r\n\r\n.b-cal-agenda-event-time {\r\n  flex: 0 0 12em;\r\n  white-space: nowrap;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.b-cal-agenda-header {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: flex-start;\r\n  padding: 0.5em 0 0.5em 0.5em;\r\n}\r\n\r\n.b-cal-agenda-header-date {\r\n  width: 14em;\r\n}\r\n\r\n.b-cal-agenda-header-time {\r\n  width: 12em;\r\n}\r\n\r\n.b-eventlist .b-grid-panel-body {\r\n  position: relative;\r\n}\r\n.b-eventlist .b-grid-panel-body .b-cal-widget-settings-button {\r\n  position: absolute;\r\n  font-size: 110%;\r\n  border-radius: 50%;\r\n  left: auto !important;\r\n  right: 0;\r\n  margin: 0.75em 0.75em 0 0;\r\n  z-index: 100;\r\n}\r\n@supports (aspect-ratio: auto) {\r\n  .b-eventlist .b-grid-panel-body .b-cal-widget-settings-button {\r\n    aspect-ratio: 1;\r\n  }\r\n}\r\n@supports not (aspect-ratio: auto) {\r\n  .b-eventlist .b-grid-panel-body .b-cal-widget-settings-button {\r\n    min-width: 3em;\r\n    min-height: 3em;\r\n  }\r\n}\r\n.b-eventlist .b-grid-panel-body.b-has-scrollbar .b-cal-widget-settings-button {\r\n  margin-right: 1.75em;\r\n}\r\n\r\n/**\r\n *\r\n * The DayView. Days are vertical stack of hours in which intra day events are rendered.\r\n * A DayView can show a single of many days side by side.\r\n *\r\n */\r\n/*\r\n * Calendar View styles\r\n *\r\n */\r\n/*\r\n * Calendar header row styles\r\n *\r\n */\r\n.b-calendarrow {\r\n  --min-day-width: 0;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: stretch;\r\n  overflow: hidden;\r\n  flex: 1 0 0%;\r\n  background-color: #fff;\r\n}\r\n.b-calendarrow.b-animating:not(.b-dayview-initializing) .b-calendarrow-cell-container {\r\n  transition: height 300ms;\r\n}\r\n.b-calendarrow .b-calendarrow-header, .b-calendarrow .b-calendarrow-body {\r\n  flex: 0 0 auto;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n}\r\n.b-calendarrow .b-calendarrow-body {\r\n  flex: 1 1 0%;\r\n  overflow: hidden;\r\n}\r\n.b-calendarrow .b-calendarrow-body:not(.b-zero-height) {\r\n  border-top: 1px solid #ddd;\r\n}\r\n.b-calendarrow .b-calendarrow-header-container, .b-calendarrow .b-calendarrow-cell-container {\r\n  flex: 1 0 0%;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n  overflow: hidden;\r\n}\r\n.b-calendarrow .b-calendarrow-cell-container {\r\n  position: relative;\r\n  overflow: visible;\r\n}\r\n.b-calendarrow .b-cal-cell-header {\r\n  padding: 1.2em 0 0.2em;\r\n  justify-content: center;\r\n  align-items: center;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  background-color: #fff;\r\n  cursor: pointer;\r\n}\r\n.b-calendarrow .b-cal-cell-header .b-week-num {\r\n  display: none;\r\n}\r\n.b-calendarrow .b-cal-cell-header:hover .b-day-name-date {\r\n  background-color: #f0f0f0;\r\n}\r\n.b-draggable-started .b-calendarrow .b-cal-cell-header:hover .b-day-name-date {\r\n  background-color: initial;\r\n}\r\n.b-calendarrow .b-cal-cell-header .b-day-name-day {\r\n  font-size: 0.8em;\r\n  margin-bottom: 0.2em;\r\n}\r\n.b-calendarrow .b-cal-cell-header .b-day-name-date {\r\n  font-size: 1.8em;\r\n  border-radius: 50%;\r\n  width: 1.8em;\r\n  height: 1.8em;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: background-color 0.4s;\r\n  margin: 0.1em 0 0.2em 0;\r\n}\r\n.b-calendarrow .b-cal-cell-header.b-weekend {\r\n  color: #e53f2c;\r\n}\r\n.b-calendarrow .b-cal-cell-header.b-today .b-day-name-date {\r\n  background-color: #5fa2dd;\r\n  color: #fff;\r\n}\r\n.b-calendarrow .b-cal-cell-header.b-today:hover .b-day-name-date {\r\n  background-color: #2c84d0;\r\n}\r\n.b-calendarrow.b-shifted-day .b-day-name-date {\r\n  width: 3em;\r\n}\r\n.b-calendarrow.b-hide-allday-header .b-cal-cell-header:not(:last-child) {\r\n  border-right: 1px solid #ddd;\r\n}\r\n.b-calendarrow .b-cal-cell-header, .b-calendarrow .b-calendar-cell {\r\n  flex: 1 1 100%;\r\n  min-width: var(--min-day-width);\r\n  color: #606060;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n}\r\n.b-calendarrow .b-calendar-cell {\r\n  overflow: visible;\r\n}\r\n.b-calendarrow .b-calendar-cell.b-weekend {\r\n  color: #606060;\r\n}\r\n.b-calendarrow .b-calendar-cell.b-today .b-day-num {\r\n  border-radius: 50%;\r\n  background-color: #5fa2dd;\r\n  color: #fff;\r\n  font-weight: bold;\r\n}\r\n.b-calendarrow .b-calendar-cell.b-nonworking-day .b-cal-event-bar-container {\r\n  background-color: transparent;\r\n}\r\n.b-calendarrow .b-calendar-cell:not(:last-child) {\r\n  border-right: 1px solid #ddd;\r\n}\r\n.b-calendarrow .b-cal-event-bar-container {\r\n  flex: 1 1 100%;\r\n}\r\n\r\n/**\r\n *\r\n * The DayView. Days are vertical stack of hours in which intra day events are rendered.\r\n * A DayView can show a single of many days side by side.\r\n *\r\n */\r\n/*\r\n * Calendar View styles\r\n *\r\n */\r\n/*\r\n * Calendar header row styles\r\n *\r\n */\r\n.b-dayview {\r\n  --dayview-border-color: #ddd;\r\n  --dayview-background-color: #fff;\r\n  --dayview-half-hour-line-color: #f0f0f0;\r\n}\r\n\r\n.b-daycellcollecter .b-dayview-content {\r\n  display: flex;\r\n  align-items: stretch;\r\n  padding: 0;\r\n  flex: 1 1 0%;\r\n  overflow: hidden;\r\n  flex-flow: column nowrap;\r\n  background-color: #fff;\r\n  color: #606060;\r\n  outline: none;\r\n}\r\n.b-daycellcollecter .b-dayview-content .b-virtual-scrollers {\r\n  padding-left: var(--time-axis-width);\r\n  background-color: #fff;\r\n}\r\n.b-daycellcollecter .b-dayview-content .b-virtual-scrollers .b-virtual-scroller {\r\n  border-left: 1px solid #ddd;\r\n  flex: 1 1 0%;\r\n}\r\n.b-daycellcollecter .b-dayview-content .b-virtual-scrollers .b-virtual-scroller .b-scroller-stretcher {\r\n  position: relative;\r\n}\r\n.b-daycellcollecter .b-dayview-content .b-cal-event-wrap:is(.b-starts-above, .b-ends-below):before, .b-daycellcollecter .b-dayview-content .b-cal-event-wrap:is(.b-starts-above, .b-ends-below):after {\r\n  font-family: "Font Awesome 5 Free", FontAwesome5Free;\r\n  transform: translate(-50%, -2px);\r\n  margin-left: 50%;\r\n  position: absolute;\r\n  font-size: 80%;\r\n  opacity: 0.7;\r\n  z-index: 1;\r\n  pointer-events: none;\r\n}\r\n.b-daycellcollecter .b-dayview-content .b-cal-event-wrap.b-starts-above:before {\r\n  content: "\\f106";\r\n  top: 0;\r\n}\r\n.b-daycellcollecter .b-dayview-content .b-cal-event-wrap.b-ends-below:after {\r\n  content: "\\f107";\r\n  bottom: 0;\r\n}\r\n.b-daycellcollecter .b-dayview-content .b-cal-event-desc-complex {\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n  align-items: normal;\r\n}\r\n.b-daycellcollecter .b-dayview-content .b-cal-event-resource-avatars {\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.b-dayview-allday-row {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  max-height: 50%;\r\n}\r\n\r\n.b-dayview-day-detail .b-cal-event-wrap {\r\n  min-height: 10px;\r\n}\r\n\r\n.b-dayview-allday-row-start {\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  flex: 0 0 var(--time-axis-width);\r\n  min-width: var(--time-axis-width);\r\n}\r\n.b-dayview-allday-row-start .b-dayview-allday-text {\r\n  flex: 1 1 auto;\r\n  display: none;\r\n  flex-flow: column nowrap;\r\n  justify-content: center;\r\n  font-size: 0.7em;\r\n  color: #b0b0b0;\r\n}\r\n.b-dayview-allday-row-start .b-expand-allday-button {\r\n  display: none;\r\n}\r\n.b-dayview-allday-row-start .b-expand-allday-button :before {\r\n  line-height: inherit;\r\n}\r\n.b-dayview-allday-row-start.b-has-cell-overflow {\r\n  padding: 0.5em 0;\r\n  cursor: pointer;\r\n}\r\n.b-dayview-allday-row-start.b-has-cell-overflow .b-expand-allday-button {\r\n  transition: transform 0.3s;\r\n  display: flex;\r\n  height: 1.5em;\r\n  width: 1.5em;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 50%;\r\n  cursor: inherit;\r\n  border: 0 none;\r\n  background-color: transparent;\r\n}\r\n.b-dayview-allday-row-start.b-has-cell-overflow .b-expand-allday-button:focus {\r\n  outline: none;\r\n  background-color: #e8e8e8;\r\n}\r\n.b-dayview-allday-row-start.b-has-cell-overflow.b-expanded .b-expand-allday-button {\r\n  transform: rotate(-180deg);\r\n}\r\n\r\n.b-dayview-schedule-container {\r\n  border-left: 1px solid #ddd;\r\n  flex: 1 0 0%;\r\n  contain: style layout;\r\n}\r\n\r\n.b-dayview-day-content {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  flex: 1 1 0;\r\n  border-top: 1px solid #ddd;\r\n  align-items: flex-start;\r\n  outline: none;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n\r\n.b-dayview-day-container {\r\n  flex: 1 0 0%;\r\n  border-left: 1px solid #ddd;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n  min-height: 100%;\r\n  overscroll-behavior: contain auto;\r\n  contain: layout style;\r\n  background-image: linear-gradient(to bottom, transparent, transparent var(--half-hour-height), var(--dayview-half-hour-line-color) 1px, transparent calc(var(--half-hour-height) + 1px), transparent calc(var(--hour-height) - 1px), var(--dayview-border-color) 1px);\r\n  background-size: 100% var(--hour-height);\r\n  background-position-y: var(--day-start-offset);\r\n  clip-path: polygon(0px 0px, 100% 0px, 100% calc(var(--day-length) * var(--hour-height)), 0px calc(var(--day-length) * var(--hour-height)));\r\n  background-repeat: repeat-y;\r\n}\r\n.b-dayview-day-container .b-overflow {\r\n  opacity: 0;\r\n}\r\n.b-dayview-day-container .b-cal-event-body {\r\n  transition: background-color 0.1s;\r\n}\r\n.b-dayview-day-container .b-cal-event-wrap.b-starts-above .b-event-header {\r\n  visibility: hidden;\r\n}\r\n.b-dayview-day-container .b-calendar-cell {\r\n  flex: 1 1 100%;\r\n  height: var(--day-height);\r\n  min-width: var(--min-day-width);\r\n  position: relative;\r\n  overflow: visible;\r\n}\r\n.b-dayview-day-container .b-calendar-cell .b-current-time-indicator {\r\n  position: absolute;\r\n  pointer-events: none;\r\n  border-top: 2px solid #e53f2c;\r\n  margin-top: -2px;\r\n  width: 100%;\r\n  z-index: 3;\r\n}\r\n.b-dayview-day-container .b-calendar-cell .b-current-time-indicator:before {\r\n  content: "";\r\n  height: 10px;\r\n  width: 10px;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  background-color: #e53f2c;\r\n  margin-top: -6px;\r\n  margin-left: -5px;\r\n}\r\n.b-dayview-day-container .b-calendar-cell .b-cal-tentative-event,\r\n.b-dayview-day-container .b-calendar-cell .b-cal-event-wrap {\r\n  position: absolute;\r\n  z-index: 2;\r\n  left: 0;\r\n  width: 100%;\r\n  transition: left 0.1s, width 0.1s, opacity 0.1s;\r\n}\r\n.b-dayview-day-container .b-calendar-cell .b-cal-tentative-event.b-editing,\r\n.b-dayview-day-container .b-calendar-cell .b-cal-event-wrap.b-editing {\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  z-index: 3;\r\n  opacity: 1;\r\n}\r\n.b-dayview-day-container .b-calendar-cell .b-cal-tentative-event.b-cal-in-cluster,\r\n.b-dayview-day-container .b-calendar-cell .b-cal-event-wrap.b-cal-in-cluster {\r\n  box-shadow: #aaaaaa40 -2px 1px 3px, #aaaaaa40 0 -1px 3px;\r\n}\r\n.b-dayview-day-container .b-calendar-cell .b-cal-tentative-event.b-short-event .b-event-header,\r\n.b-dayview-day-container .b-calendar-cell .b-cal-event-wrap.b-short-event .b-event-header {\r\n  margin: 0;\r\n}\r\n.b-dayview-day-container .b-calendar-cell .b-cal-tentative-event.b-short-event .b-cal-event-body,\r\n.b-dayview-day-container .b-calendar-cell .b-cal-event-wrap.b-short-event .b-cal-event-body {\r\n  flex-flow: row nowrap;\r\n  align-content: center;\r\n}\r\n.b-dayview-day-container .b-calendar-cell .b-cal-tentative-event.b-short-event .b-cal-event-body .b-cal-event-desc,\r\n.b-dayview-day-container .b-calendar-cell .b-cal-event-wrap.b-short-event .b-cal-event-body .b-cal-event-desc {\r\n  font-size: 0.7em;\r\n  white-space: nowrap;\r\n}\r\n.b-dayview-day-container .b-calendar-cell .b-cal-tentative-event.b-short-event .b-cal-event-footer,\r\n.b-dayview-day-container .b-calendar-cell .b-cal-event-wrap.b-short-event .b-cal-event-footer {\r\n  display: none;\r\n}\r\n.b-dayview-day-container .b-calendar-cell .b-cal-tentative-event {\r\n  z-index: 20;\r\n}\r\n.b-dayview-day-container .b-calendar-cell .b-cal-event {\r\n  align-items: stretch;\r\n  background-color: #59b53b;\r\n  color: #606060;\r\n  border-radius: 0;\r\n  position: relative;\r\n}\r\n.b-dayview-day-container .b-calendar-cell .b-cal-event-body {\r\n  padding: 0.3em 0.5em 0;\r\n  flex: 1 1 0%;\r\n  margin: 0 0 0 0.25em;\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  white-space: normal;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.b-dayview-day-container .b-calendar-cell.b-nonworking-day {\r\n  background-color: #f3f4f566;\r\n}\r\n.b-dayview-day-container .b-calendar-cell:not(.b-last-cell) {\r\n  border-right: 1px solid #ddd;\r\n}\r\n.b-dayview-day-container .b-event-header {\r\n  display: flex;\r\n  align-content: center;\r\n  margin-bottom: 0.3em;\r\n  white-space: nowrap;\r\n  gap: 0.3em;\r\n}\r\n.b-dayview-day-container .b-event-header .b-event-time {\r\n  flex: 1;\r\n  font-size: 0.7em;\r\n}\r\n.b-dayview-day-container .b-cal-event-wrap:hover .b-cal-event-body {\r\n  background-color: rgba(255, 255, 255, 0.7);\r\n}\r\n.b-dayview-day-container .b-cal-event-wrap.b-selected:not(.b-dragging-item):hover .b-cal-event-body,\r\n.b-dayview-day-container .b-cal-event-wrap.b-selected:not(.b-dragging-item) .b-cal-event-body,\r\n.b-dayview-day-container .b-cal-event-wrap.b-cal-tentative-event .b-cal-event-body {\r\n  background-color: rgba(255, 255, 255, 0.6);\r\n}\r\n\r\n.b-dayview.b-no-transitions .b-cal-event-wrap {\r\n  transition: none !important;\r\n}\r\n\r\n.b-timeaxis-container {\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  overflow: hidden;\r\n  background-position-x: 100%;\r\n  background-repeat: repeat-y;\r\n  flex: 0 0 var(--time-axis-width);\r\n  min-width: var(--time-axis-width);\r\n  height: var(--day-height);\r\n  background-image: linear-gradient(to bottom, transparent calc(var(--hour-height) - 1px), var(--dayview-border-color) 1px);\r\n  background-size: 0.5em var(--hour-height);\r\n  background-position-y: var(--day-start-offset);\r\n}\r\n.b-timeaxis-container:not(.b-core-hours-overlay-day) {\r\n  position: relative;\r\n}\r\n.b-timeaxis-container .b-outside-core-hours {\r\n  position: absolute;\r\n  width: 100%;\r\n  background-color: rgba(135, 135, 135, 0.1);\r\n  pointer-events: none;\r\n  z-index: -1;\r\n}\r\n.b-timeaxis-container .b-outside-core-hours.b-before-core-hours {\r\n  top: 0;\r\n}\r\n\r\n.b-dayview-timeaxis-time {\r\n  display: flex;\r\n  flex: 0 0 var(--hour-height);\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  padding: 0.6em 1em 0 1em;\r\n  font-size: 0.7em;\r\n  color: #b0b0b0;\r\n  white-space: nowrap;\r\n}\r\n.b-dayview-timeaxis-time:first-child {\r\n  margin-top: calc(var(--hour-height) / 2 - 3px);\r\n}\r\n\r\n/**\r\n *\r\n * The DayView. Days are vertical stack of hours in which intra day events are rendered.\r\n * A DayView can show a single of many days side by side.\r\n *\r\n */\r\n/*\r\n * Calendar View styles\r\n *\r\n */\r\n/*\r\n * Calendar header row styles\r\n *\r\n */\r\n.b-weekview .b-cal-event-wrap.b-cal-event-reveal.b-cal-in-cluster {\r\n  left: 0 !important;\r\n  width: 100% !important;\r\n  z-index: 3;\r\n  opacity: 1;\r\n}\r\n\r\n/**\r\n *\r\n * The DayView. Days are vertical stack of hours in which intra day events are rendered.\r\n * A DayView can show a single of many days side by side.\r\n *\r\n */\r\n/*\r\n * Calendar View styles\r\n *\r\n */\r\n/*\r\n * Calendar header row styles\r\n *\r\n */\r\n.b-visible-scrollbar .b-monthview .b-show-yscroll-padding > .b-yscroll-pad {\r\n  visibility: hidden;\r\n}\r\n.b-monthview .b-calendar-row.b-calendar-weekdays {\r\n  flex: 0 0 auto;\r\n}\r\n.b-monthview .b-calendar-row.b-calendar-weekdays .b-week-number-cell {\r\n  flex: 0 0 2em;\r\n}\r\n.b-monthview .b-calendar-row.b-calendar-weekdays .b-calendar-day-header {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  color: #606060;\r\n  padding-right: 0.5em;\r\n  padding-bottom: 0.25em;\r\n}\r\n.b-monthview .b-calendar-row.b-calendar-weekdays .b-calendar-day-header.b-weekend {\r\n  color: #e53f2c;\r\n}\r\n.b-monthview .b-week-number-cell, .b-monthview .b-calendar-cell {\r\n  display: flex;\r\n  flex-direction: column;\r\n  contain: size style;\r\n}\r\n.b-monthview .b-week-number-cell.b-other-month .b-day-num, .b-monthview .b-calendar-cell.b-other-month .b-day-num {\r\n  color: #aaa;\r\n}\r\n.b-monthview .b-week-num, .b-monthview .b-day-num {\r\n  font-size: 0.9em;\r\n  height: 2em;\r\n  width: 2em;\r\n  align-self: flex-end;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.b-monthview .b-calendar-cell .b-week-num {\r\n  color: #777;\r\n  margin-right: auto;\r\n}\r\n.b-monthview .b-weeks-container {\r\n  flex: 1 0 0%;\r\n  border: 1px solid #ddd;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row {\r\n  flex: 1 0 0px;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row:last-child {\r\n  border-bottom: 0 none;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row.b-shrinkwrapped {\r\n  transition: flex-basis 0.5s;\r\n  overflow: hidden;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row.b-shrinkwrapped .b-cal-cell-overflow {\r\n  display: none;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row.b-shrinkwrapped.b-flexing .b-cal-cell-overflow {\r\n  display: initial;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row .b-week-number-cell, .b-monthview .b-weeks-container .b-calendar-row .b-calendar-cell {\r\n  flex: 1;\r\n  color: #606060;\r\n  border-right: 1px solid #ddd;\r\n  overflow: hidden;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row .b-week-number-cell:last-child, .b-monthview .b-weeks-container .b-calendar-row .b-calendar-cell:last-child {\r\n  border-right: 0 none;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row .b-week-number-cell.b-weekend, .b-monthview .b-weeks-container .b-calendar-row .b-calendar-cell.b-weekend {\r\n  color: #606060;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row .b-week-number-cell.b-today .b-day-num, .b-monthview .b-weeks-container .b-calendar-row .b-calendar-cell.b-today .b-day-num {\r\n  border-radius: 50%;\r\n  background-color: #5fa2dd;\r\n  color: #fff;\r\n  font-weight: bold;\r\n  font-size: 85%;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row .b-week-number-cell.b-nonworking-day, .b-monthview .b-weeks-container .b-calendar-row .b-calendar-cell.b-nonworking-day {\r\n  background-color: #f3f4f566;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row .b-week-number-cell.b-nonworking-day.b-dynamic-nonworking-day, .b-monthview .b-weeks-container .b-calendar-row .b-calendar-cell.b-nonworking-day.b-dynamic-nonworking-day {\r\n  display: flex !important;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row .b-week-number-cell {\r\n  padding-top: 5px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  flex: 0 0 2em;\r\n  color: #777;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-row .b-week-number-cell:hover {\r\n  background-color: #f0f0f0;\r\n  border-radius: 3px;\r\n}\r\n.b-monthview .b-weeks-container .b-calendar-days {\r\n  position: relative;\r\n}\r\n.b-monthview .b-hide-nonworking-days .b-weeks-container .b-last-working-day {\r\n  border-right: 0 none;\r\n}\r\n.b-monthview .b-cal-cell-header {\r\n  display: flex;\r\n  color: #3c4043;\r\n  padding: 1px 0.2em 0.1em 0.2em;\r\n  max-height: 1.8em;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n.b-monthview .b-cal-cell-header .b-day-name {\r\n  height: 1.8em;\r\n  display: flex;\r\n  align-items: center;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n}\r\n.b-monthview .b-cal-cell-header .b-day-num {\r\n  height: 2em;\r\n  z-index: 10;\r\n  margin-left: auto;\r\n}\r\n.b-monthview.day-number-center .b-cal-cell-header {\r\n  justify-content: center;\r\n}\r\n.b-monthview.b-show-week-column .b-week-num {\r\n  display: none;\r\n}\r\n.b-monthview.b-show-week-column .b-cal-cell-header {\r\n  cursor: pointer;\r\n}\r\n.b-monthview.b-show-week-column .b-cal-cell-header:hover {\r\n  background-color: #f0f0f0;\r\n  border-radius: 3px;\r\n}\r\n.b-monthview:not(.b-show-week-column) .b-day-name {\r\n  cursor: pointer;\r\n}\r\n.b-monthview:not(.b-show-week-column) .b-week-num:hover, .b-monthview:not(.b-show-week-column) .b-day-num:hover {\r\n  cursor: pointer;\r\n  background-color: #f0f0f0;\r\n  border-radius: 50%;\r\n}\r\n.b-monthview .b-monthview-content {\r\n  contain: strict;\r\n  background-color: #fff;\r\n  flex-basis: 0%;\r\n  justify-content: flex-start;\r\n  padding: 0.6em 0 0 0;\r\n}\r\n.b-monthview .b-cal-event-bar-container,\r\n.b-monthview .b-cal-cell-overflow {\r\n  font-size: 0.9em;\r\n}\r\n\r\n.b-cal-event-wrap {\r\n  display: flex;\r\n  overflow: hidden;\r\n}\r\n.b-grid-row .b-cal-event-wrap {\r\n  transition: opacity 0.1s;\r\n}\r\n.b-draggable-started .b-cal-event-wrap:not(.b-dragging-item) {\r\n  pointer-events: none;\r\n}\r\n.b-draggable-started .b-cal-event-wrap.b-dragging-item {\r\n  opacity: 0.5;\r\n  outline: none;\r\n  pointer-events: none;\r\n}\r\n.b-cal-event-wrap:hover {\r\n  cursor: pointer;\r\n}\r\n.b-cal-event-wrap.b-intraday .b-cal-event .b-cal-event-body {\r\n  color: #606060;\r\n}\r\n.b-cal-event-wrap.b-intraday .b-cal-event:hover {\r\n  background: linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.8)) currentColor;\r\n}\r\n.b-using-keyboard .b-cal-event-wrap.b-active {\r\n  outline: 1px rgba(49, 131, 254, 0.6) solid;\r\n  outline-offset: 1px;\r\n}\r\n.b-cal-event-wrap.b-active:not(.b-dragging-item) {\r\n  outline: none;\r\n  opacity: 1 !important;\r\n  z-index: 10 !important;\r\n}\r\n.b-cal-event-wrap.b-continues-left .b-cal-event {\r\n  padding-left: calc(var(--arrow-width) + 0.3em);\r\n  clip-path: polygon(0 50%, var(--arrow-width) 0, 100% 0, 100% 100%, var(--arrow-width) 100%);\r\n}\r\n.b-cal-event-wrap.b-continues-right .b-cal-event {\r\n  padding-right: calc(var(--arrow-width) + 0.3em);\r\n  clip-path: polygon(0 0, calc(100% - var(--arrow-width)) 0, 100% 50%, calc(100% - var(--arrow-width)) 100%, 0 100%);\r\n}\r\n.b-cal-event-wrap:is(.b-continues-left.b-continues-right) .b-cal-event {\r\n  clip-path: polygon(0 50%, var(--arrow-width) 0, calc(100% - var(--arrow-width)) 0, 100% 50%, calc(100% - var(--arrow-width)) 100%, var(--arrow-width) 100%);\r\n}\r\n.b-cal-event-wrap.b-focused .b-cal-event {\r\n  background-color: green !important;\r\n  color: #fff !important;\r\n}\r\n\r\n.b-cal-event {\r\n  display: flex;\r\n  border-radius: 4px;\r\n  align-items: center;\r\n  flex: 1 1 auto;\r\n  overflow: hidden;\r\n  color: #606060;\r\n  line-height: 1;\r\n}\r\n.b-ie .b-calendarrow .b-cal-event, .b-ie .b-calendar-row .b-cal-event, .b-ie .b-agendaview .b-cal-event, .b-ie .b-overflowpopup .b-cal-event {\r\n  padding-top: 3px;\r\n}\r\n.b-cal-event .b-cal-event-icon, .b-cal-event .b-cal-recurrence-icon {\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  width: auto;\r\n}\r\n.b-cal-event .b-cal-event-icon:before, .b-cal-event .b-cal-recurrence-icon:before {\r\n  font-size: 0.7em;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-event-reveal .b-cal-event, .b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-editing .b-cal-event, .b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-selected .b-cal-event, .b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-active .b-cal-event {\r\n  background: currentColor;\r\n}\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-event-reveal .b-cal-event:hover, .b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-editing .b-cal-event:hover, .b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-selected .b-cal-event:hover, .b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-active .b-cal-event:hover {\r\n  background: currentColor;\r\n}\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-event-reveal .b-cal-event .b-cal-event-icon,\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-event-reveal .b-cal-event .b-cal-recurrence-icon,\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-event-reveal .b-cal-event .b-cal-event-body, .b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-editing .b-cal-event .b-cal-event-icon,\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-editing .b-cal-event .b-cal-recurrence-icon,\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-editing .b-cal-event .b-cal-event-body, .b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-selected .b-cal-event .b-cal-event-icon,\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-selected .b-cal-event .b-cal-recurrence-icon,\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-selected .b-cal-event .b-cal-event-body, .b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-active .b-cal-event .b-cal-event-icon,\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-active .b-cal-event .b-cal-recurrence-icon,\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-active .b-cal-event .b-cal-event-body {\r\n  color: #fff;\r\n}\r\n.b-cal-event-bar-container .b-cal-event-wrap.b-allday {\r\n  opacity: 0.8;\r\n}\r\n.b-cal-event-bar-container .b-cal-event-wrap.b-allday.b-cal-event-reveal .b-cal-event-bar-container .b-cal-event-wrap.b-allday.b-editing, .b-cal-event-bar-container .b-cal-event-wrap.b-allday:hover {\r\n  opacity: 1;\r\n}\r\n.b-cal-event-bar-container .b-cal-event-wrap.b-allday .b-cal-event-icon.b-icon-circle:before {\r\n  content: none;\r\n}\r\n\r\n.b-solid-bar .b-cal-event {\r\n  background-color: #59b53b;\r\n}\r\n\r\n.b-cal-event-desc-complex {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.3em;\r\n}\r\n\r\n.b-cal-event-name {\r\n  margin-inline-start: 0.3em;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.b-cal-event-resource-avatars {\r\n  gap: inherit;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.b-cal-event-body {\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n}\r\n.b-cal-event-body .b-cal-event-desc {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.b-cal-event-body .b-cal-event-desc .b-resource-avatar {\r\n  border: 1px solid #fff;\r\n}\r\n\r\n.b-draggable-active .b-calendar-cell {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.b-cal-event-list .b-panel-header .b-header-title {\r\n  font-size: 1em;\r\n  cursor: pointer;\r\n}\r\n\r\n.b-resourceview {\r\n  align-items: stretch;\r\n}\r\n.b-resourceview .b-cal-widget-settings-button {\r\n  display: none;\r\n}\r\n\r\n.b-resourceview-content {\r\n  flex-flow: row nowrap;\r\n  align-items: stretch;\r\n  padding: 0;\r\n}\r\n.b-resourceview-content > * {\r\n  flex: 1 0 0;\r\n  margin-right: 0.5em;\r\n}\r\n.b-resourceview-content > *.b-filtered-hiding {\r\n  min-width: 0;\r\n  width: 0;\r\n  flex: none;\r\n  border: 0 none;\r\n  transition: width 0.3s;\r\n}\r\n.b-resourceview-content > *:last-child, .b-resourceview-content > *.b-last-resource-view {\r\n  margin-right: 0;\r\n}\r\n.b-resourceview-content .b-panel-header {\r\n  background-color: #fff;\r\n  border: 1px solid #ddd;\r\n  border-top: none;\r\n  border-radius: 0;\r\n  color: #606060;\r\n  height: 4.5em;\r\n}\r\n.b-resourceview-content .b-dayview.b-first-resource-view > .b-panel-header {\r\n  border-left: none;\r\n}\r\n.b-resourceview-content > .b-dayview.b-resource-dayview-timeaxis {\r\n  position: sticky;\r\n  left: 0;\r\n  background-color: #fff;\r\n  z-index: 1;\r\n  border-right: 1px solid #ddd;\r\n}\r\n.b-resourceview-content > .b-dayview.b-resource-dayview-timeaxis .b-dayview-day-container {\r\n  display: none;\r\n}\r\n.b-resourceview-content > .b-dayview.b-first-resource-view .b-dayview-schedule-container, .b-resourceview-content > .b-dayview.b-first-resource-view .b-dayview-day-container {\r\n  border-left: 0 none;\r\n}\r\n.b-resourceview-content > .b-dayview.b-last-resource-view .b-panel-header {\r\n  border-inline-end: 0 none;\r\n}\r\n.b-resourceview-content > .b-dayview.b-resource-dayview-scroller {\r\n  position: sticky;\r\n  right: 0;\r\n  background-color: #fff !important;\r\n  z-index: 1;\r\n  border-left: 1px solid #ddd;\r\n}\r\n.b-resourceview-content > .b-dayview.b-resource-dayview-scroller .b-dayview-timeaxis-time, .b-resourceview-content > .b-dayview.b-resource-dayview-scroller .b-dayview-allday-row-start {\r\n  display: none;\r\n}\r\n.b-resourceview-content > .b-dayview.b-resource-dayview-scroller .b-dayview-day-container {\r\n  visibility: hidden;\r\n}\r\n.b-resourceview-content > .b-dayview.b-resource-dayview-scroller .b-timeaxis-container {\r\n  max-width: 1px;\r\n  margin-left: -1px;\r\n}\r\n.b-resourceview-content > .b-dayview.b-resource-dayview-scroller .b-yscroll-pad {\r\n  visibility: hidden;\r\n}\r\n.b-resourceview-content > .b-dayview:not(.b-resource-dayview-timeaxis):not(.b-resource-dayview-scroller):not(.b-last-resource-view) .b-dayview-day-container, .b-resourceview-content > .b-dayview:not(.b-resource-dayview-timeaxis):not(.b-resource-dayview-scroller):not(.b-last-resource-view) .b-dayview-schedule-container {\r\n  border-right: 1px solid #ddd;\r\n}\r\n.b-resourceview-content > .b-dayview:not(.b-resource-dayview-timeaxis):not(.b-resource-dayview-scroller) .b-dayview-allday-row-start, .b-resourceview-content > .b-dayview:not(.b-resource-dayview-timeaxis):not(.b-resource-dayview-scroller) .b-timeaxis-container {\r\n  display: none;\r\n}\r\n.b-resourceview-content > .b-dayview.b-resource-dayview-timeaxis, .b-resourceview-content > .b-dayview.b-resource-dayview-scroller {\r\n  flex: 0 0 auto;\r\n  margin-right: 0;\r\n}\r\n.b-resourceview-content > .b-dayview.b-resource-dayview-timeaxis .b-dayview-header, .b-resourceview-content > .b-dayview.b-resource-dayview-scroller .b-dayview-header {\r\n  visibility: hidden;\r\n  padding-left: 0;\r\n  padding-right: 0;\r\n}\r\n.b-resourceview-content > .b-dayview.b-resource-dayview-timeaxis .b-dayview-schedule-container, .b-resourceview-content > .b-dayview.b-resource-dayview-scroller .b-dayview-schedule-container {\r\n  display: flex;\r\n  max-width: 0;\r\n  border: 0 none;\r\n}\r\n.b-resourceview-content .b-dayview-day-container {\r\n  overscroll-behavior: auto;\r\n}\r\n.b-resourceview-content .b-monthview-content {\r\n  padding-top: 0;\r\n}\r\n.b-resourceview-content .b-monthview-content .b-calendar-weekdays {\r\n  padding: 0.5em 0;\r\n  border-inline: 1px solid #ddd;\r\n}\r\n.b-resourceview-content .b-monthview-content .b-calendar-weekdays .b-calendar-day-header {\r\n  padding-bottom: 0;\r\n}\r\n.b-resourceview-content > .b-eventlist > .b-panel-body-wrap {\r\n  border-inline: 1px solid #ddd;\r\n}\r\n\r\n.b-resourceview-title {\r\n  display: grid;\r\n  column-gap: 1em;\r\n  align-items: center;\r\n}\r\n.b-resourceview-title .b-resource-avatar-container {\r\n  font-size: 1.2em;\r\n}\r\n.b-resourceview-title.b-has-meta .b-resource-avatar-container {\r\n  grid-row: 1/span 2;\r\n}\r\n.b-resourceview-title .b-resource-avatar {\r\n  border: 1px solid currentColor;\r\n}\r\n.b-resourceview-title .b-resource-name,\r\n.b-resourceview-title .b-resource-meta {\r\n  grid-column: 2;\r\n}\r\n.b-resourceview-title .b-resource-name {\r\n  font-size: 1.1em;\r\n}\r\n.b-resourceview-title .b-resource-meta {\r\n  font-size: 0.7em;\r\n  font-weight: 400;\r\n}\r\n\r\n.b-overflowpopup {\r\n  min-width: 13em;\r\n  max-width: 30em;\r\n  z-index: 20;\r\n  position: fixed !important;\r\n}\r\n.b-overflowpopup .b-cal-event-wrap {\r\n  flex-shrink: 0;\r\n}\r\n\r\n.b-overflowpopup-header {\r\n  border-top-left-radius: 3px;\r\n  border-top-right-radius: 3px;\r\n}\r\n\r\n.b-daycellcollecter .b-overflowpopup-content {\r\n  contain: style !important;\r\n  flex-flow: column nowrap;\r\n  align-items: stretch;\r\n}\r\n.b-daycellcollecter .b-overflowpopup-content .b-cal-event-wrap {\r\n  flex-shrink: 0;\r\n  position: relative !important;\r\n}\r\n\r\n/**\r\n *\r\n * The DayView. Days are vertical stack of hours in which intra day events are rendered.\r\n * A DayView can show a single of many days side by side.\r\n *\r\n */\r\n/*\r\n * Calendar View styles\r\n *\r\n */\r\n/*\r\n * Calendar header row styles\r\n *\r\n */\r\n.b-sidebar {\r\n  flex: 1 0 auto;\r\n  width: min-content;\r\n}\r\n.b-sidebar .b-sidebar-content {\r\n  align-items: stretch;\r\n  gap: 1em;\r\n}\r\n.b-sidebar .b-sidebar-content.b-panel-content {\r\n  flex-flow: column nowrap;\r\n  justify-content: flex-start;\r\n  padding: 1em;\r\n}\r\n\r\n.b-calendar .b-sidebar {\r\n  max-width: 30%;\r\n}\r\n.b-calendar .b-sidebar:not(.b-collapsed):not(.b-collapsing).b-has-datepicker {\r\n  min-width: 16.5em;\r\n}\r\n.b-calendar .b-sidebar.b-sidebar-left {\r\n  order: 0;\r\n}\r\n.b-calendar .b-sidebar.b-sidebar-right {\r\n  order: 10;\r\n}\r\n.b-calendar .b-sidebar-content {\r\n  color: #606060;\r\n  overflow: hidden;\r\n}\r\n.b-calendar .b-sidebar-content .b-datepicker {\r\n  flex-shrink: 0;\r\n}\r\n.b-calendar .b-sidebar-content .b-datepicker .b-toolbar {\r\n  background: transparent;\r\n  font-size: 1em;\r\n}\r\n.b-calendar .b-sidebar-content .b-datepicker .b-toolbar .b-datepicker-title {\r\n  font-weight: normal;\r\n}\r\n.b-calendar .b-sidebar-content .b-calendar-weekdays {\r\n  font-size: 0.9em;\r\n}\r\n.b-calendar .b-sidebar-content .b-calendar-weekdays {\r\n  border-bottom: none;\r\n}\r\n.b-calendar .b-sidebar-content .b-datepicker-month {\r\n  margin-inline-end: 0.5em;\r\n  margin-right: 0.5em;\r\n}\r\n.b-calendar .b-sidebar-content .b-datepicker-content {\r\n  font-size: 0.85em;\r\n  background: transparent;\r\n}\r\n.b-calendar .b-sidebar-content .b-datepicker-content .b-week-number-cell {\r\n  line-height: 2em;\r\n  width: 2em;\r\n  margin: 0.1em 0.1em;\r\n}\r\n.b-calendar .b-sidebar-content .b-datepicker-content .b-calendar-row {\r\n  background: transparent;\r\n}\r\n.b-calendar .b-sidebar-content .b-datepicker-content .b-calendar-row.b-calendar-week .b-calendar-cell {\r\n  height: 2em;\r\n  width: 2em;\r\n  margin: 0.1em 0.1em;\r\n}\r\n.b-calendar .b-sidebar-content .b-datepicker-content .b-calendar-row.b-calendar-week .b-calendar-cell.b-selected-date {\r\n  background-color: #5fa2dd;\r\n  border-color: #5fa2dd;\r\n}\r\n.b-calendar .b-sidebar-content .b-resourcefilter {\r\n  flex-shrink: 1;\r\n}\r\n.b-calendar .b-sidebar-content .b-resourcefilter .b-list-item {\r\n  padding: 0.5em 0.5em 0.5em 0;\r\n}\r\n.b-calendar .b-sidebar-content .b-resourcefilter .b-icon {\r\n  margin-inline-end: 0.8em;\r\n}\r\n.b-calendar .b-sidebar-content .b-resourcefilter .b-icon:before {\r\n  font-size: 150%;\r\n}\r\n.b-calendar .b-sidebar-content .b-field {\r\n  flex: 0 0 auto;\r\n  width: auto;\r\n}\r\n.b-calendar .b-sidebar-content .b-field input[type=text] {\r\n  width: 0;\r\n}\r\n.b-calendar .b-sidebar-content .b-list {\r\n  background-color: transparent;\r\n}\r\n\r\n.b-yearview-content {\r\n  flex-basis: 0;\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  align-content: flex-start;\r\n  justify-content: space-around;\r\n  font-size: 0.9em;\r\n  font-weight: 300;\r\n  padding: 1em;\r\n  column-gap: 1em;\r\n  row-gap: 3em;\r\n}\r\n.b-yearview-body-wrap .b-yearview-content {\r\n  background-color: #fff;\r\n  color: #606060;\r\n}\r\n.b-yearview-content .b-yearview-month {\r\n  flex-basis: calc(25% - 1em);\r\n  min-width: 16em;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  height: min-content;\r\n}\r\n.b-yearview-content .b-yearview-month-name {\r\n  margin-bottom: 0.4em;\r\n  padding: 0.1em 0 0.2em 0.3em;\r\n  font-size: 1.3em;\r\n  color: #777;\r\n  max-width: 15.3846153846em;\r\n}\r\n.b-yearview-content .b-yearview-month-name:hover {\r\n  cursor: pointer;\r\n  background-color: #f0f0f0;\r\n}\r\n.b-yearview-content .b-calendar-weekdays {\r\n  height: 2.1em;\r\n}\r\n.b-yearview-content .b-calendar-week {\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  max-width: 20em;\r\n}\r\n.b-yearview-content .b-calendar-week:last-child {\r\n  margin-bottom: 1em;\r\n}\r\n.b-yearview-content .b-calendar-week > * {\r\n  flex: 1 1 auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.b-yearview-content .b-yearview-weekday-cell {\r\n  color: #333;\r\n}\r\n.b-yearview-content.b-hide-week-numbers .b-week-number-cell {\r\n  display: none;\r\n}\r\n.b-yearview-content .b-cal-cell-overflow {\r\n  margin: 0;\r\n}\r\n.b-yearview-content .b-cal-cell-overflow.b-active {\r\n  outline: 0 none;\r\n  opacity: 1 !important;\r\n  z-index: 10 !important;\r\n  box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2), -5px 2px 5px rgba(0, 0, 0, 0.2);\r\n}\r\n.b-yearview-content .b-cal-cell-overflow:hover {\r\n  background-color: inherit;\r\n}\r\n.b-yearview-content:not(.b-draggable-active) .b-calendar-cell.b-calendar-1-to-3-events:hover, .b-yearview-content:not(.b-draggable-active) .b-calendar-cell.b-calendar-4-to-6-events:hover, .b-yearview-content:not(.b-draggable-active) .b-calendar-cell.b-calendar-7-or-more-events:hover {\r\n  border-radius: 0;\r\n}\r\n.b-yearview-content:not(.b-draggable-active) .b-calendar-cell.b-calendar-1-to-3-events:hover .b-calendar-cell-inner, .b-yearview-content:not(.b-draggable-active) .b-calendar-cell.b-calendar-4-to-6-events:hover .b-calendar-cell-inner, .b-yearview-content:not(.b-draggable-active) .b-calendar-cell.b-calendar-7-or-more-events:hover .b-calendar-cell-inner {\r\n  mix-blend-mode: multiply;\r\n}\r\n.b-yearview-content:not(.b-draggable-active) .b-calendar-cell.b-calendar-1-to-3-events:hover .b-calendar-cell-inner {\r\n  background-color: #f9f69e;\r\n}\r\n.b-yearview-content:not(.b-draggable-active) .b-calendar-cell.b-calendar-4-to-6-events:hover .b-calendar-cell-inner {\r\n  background-color: #f9d49e;\r\n}\r\n.b-yearview-content:not(.b-draggable-active) .b-calendar-cell.b-calendar-7-or-more-events:hover .b-calendar-cell-inner {\r\n  background-color: #f9bdb3;\r\n}\r\n.b-yearview-content:not(.b-draggable-active) .b-calendar-cell .b-calendar-cell-inner:hover {\r\n  cursor: pointer;\r\n  background-color: #f0f0f0;\r\n}\r\n.b-yearview-content .b-calendar-cell.b-calendar-1-to-3-events {\r\n  background-color: #f9f69e;\r\n}\r\n.b-yearview-content .b-calendar-cell.b-calendar-4-to-6-events {\r\n  background-color: #f9d49e;\r\n}\r\n.b-yearview-content .b-calendar-cell.b-calendar-7-or-more-events {\r\n  background-color: #f9bdb3;\r\n}\r\n.b-yearview-content .b-calendar-cell.b-cal-tentative-event {\r\n  background-color: #19fd09;\r\n}\r\n.b-yearview-content .b-calendar-cell.b-cal-tentative-event.b-other-month {\r\n  background-color: #79d59f;\r\n}\r\n.b-yearview-content .b-calendar-cell .b-calendar-cell-inner {\r\n  height: 2em;\r\n  width: 2em;\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n}\r\n.b-yearview-content .b-calendar-cell.b-today .b-calendar-cell-inner {\r\n  border-radius: 50%;\r\n  background-color: #5fa2dd;\r\n  color: #fff;\r\n  font-weight: bold;\r\n}\r\n.b-yearview-content .b-calendar-cell.b-other-month .b-calendar-cell-inner {\r\n  color: #aaa;\r\n}\r\n.b-yearview-content .b-week-number-cell {\r\n  flex: 0 0 2em;\r\n  background-color: #f1f3f4;\r\n  color: #777;\r\n}\r\n.b-yearview-content .b-week-number-cell:hover {\r\n  cursor: pointer;\r\n  background-color: #f0f0f0;\r\n}\r\n.b-yearview-content .b-calendar-cell.b-active, .b-yearview-content .b-week-number-cell.b-active {\r\n  outline: 0 none;\r\n  background-color: #e8e8e8;\r\n  border-radius: 50%;\r\n}\r\n.b-yearview-content.b-hide-nonworking-days .b-nonworking-day {\r\n  display: none;\r\n}\r\n.b-yearview-content .b-calendar-week:not([data-week]) .b-week-number-cell {\r\n  background-color: inherit;\r\n}\r\n\r\n.b-hover-top.b-starts-above .b-gripper-horz, .b-hover-bottom.b-ends-below .b-gripper-horz {\r\n  display: none;\r\n}\r\n\r\n.b-hover-left.b-continues-left .b-gripper-vert, .b-hover-right.b-continues-right .b-gripper-vert {\r\n  display: none;\r\n}\r\n\r\n.b-cal-drag-proxy {\r\n  position: absolute;\r\n  pointer-events: none;\r\n  opacity: 0.8;\r\n  max-width: 17em;\r\n}\r\n.b-cal-drag-proxy .b-cal-event {\r\n  background: linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.8)) currentColor;\r\n  padding: 0 0.3em;\r\n  gap: 0.3em;\r\n}\r\n\r\n.b-dayview-content .b-cal-tentative-event,\r\n.b-monthview-content .b-cal-tentative-event {\r\n  pointer-events: none;\r\n}\r\n\r\n.b-dayview-day-container .b-cal-tentative-event:not(.b-cal-tentative-event-first) .b-event-header,\r\n.b-dayview-day-container .b-cal-tentative-event:not(.b-cal-tentative-event-first) .b-cal-event-desc {\r\n  display: none;\r\n}\r\n\r\n.b-draggable-started {\r\n  cursor: pointer;\r\n}\r\n.b-draggable-started .b-week-num, .b-draggable-started .b-day-num, .b-draggable-started .b-cal-cell-overflow {\r\n  pointer-events: none;\r\n}\r\n\r\n.b-cal-event-wrap.b-resizing {\r\n  display: none;\r\n}\r\n\r\n.b-cal-event-wrap:not(.b-cal-tentative-event-last) .b-cal-event-footer {\r\n  display: none;\r\n}\r\n\r\n.b-cal-event-footer {\r\n  position: absolute;\r\n  bottom: 0.5em;\r\n  right: 0.7em;\r\n  white-space: nowrap;\r\n  font-size: 0.7em;\r\n}\r\n\r\n.b-cal-tooltip-duration,\r\n.b-cal-tooltip-recurrence {\r\n  margin-top: 0.5em;\r\n}\r\n.b-cal-tooltip-duration:before,\r\n.b-cal-tooltip-recurrence:before {\r\n  margin-right: 0.5em;\r\n  width: 1.5em;\r\n  text-align: center;\r\n}\r\n\r\n.b-eventtip .b-icon-edit {\r\n  display: none;\r\n}\r\n.b-eventtip.b-eventedit .b-icon-edit {\r\n  display: inline-flex;\r\n}\r\n.b-eventtip .b-sch-clock {\r\n  border-color: white;\r\n}\r\n\r\n.b-grid-to-cal-drag-proxy {\r\n  position: absolute;\r\n  z-index: 10;\r\n  pointer-events: none;\r\n  opacity: 0.9;\r\n  width: 15em;\r\n  height: 25px;\r\n  align-items: center;\r\n  display: flex;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  background-color: #59b53b;\r\n  border-radius: 4px;\r\n  color: #fdfdfd;\r\n  padding-left: 0.3em;\r\n  font-size: 0.9em;\r\n}\r\n.b-grid-to-cal-drag-proxy .b-fa {\r\n  font-size: 0.7em;\r\n}\r\n.b-grid-to-cal-drag-proxy .b-fa:first-child {\r\n  margin-right: 0.3em;\r\n}\r\n.b-grid-to-cal-drag-proxy .b-fa:not(:first-child) {\r\n  margin-left: 0.3em;\r\n}\r\n\r\n.b-weekexpander .b-has-overflow .b-week-number-cell, .b-weekexpander .b-shrinkwrapped .b-week-number-cell {\r\n  position: relative;\r\n}\r\n.b-weekexpander .b-has-overflow .b-week-number-cell .b-week-toggle-tool-wrap, .b-weekexpander .b-shrinkwrapped .b-week-number-cell .b-week-toggle-tool-wrap {\r\n  flex: 1 0 auto;\r\n  order: 9999;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  padding-bottom: 4px;\r\n}\r\n.b-weekexpander .b-has-overflow .b-week-number-cell .b-week-toggle-tool-wrap .b-week-toggle-tool, .b-weekexpander .b-shrinkwrapped .b-week-number-cell .b-week-toggle-tool-wrap .b-week-toggle-tool {\r\n  height: 1.5em;\r\n  width: 1.5em;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.b-weekexpander .b-has-overflow .b-week-number-cell .b-week-toggle-tool-wrap .b-week-toggle-tool:hover, .b-weekexpander .b-shrinkwrapped .b-week-number-cell .b-week-toggle-tool-wrap .b-week-toggle-tool:hover {\r\n  border-radius: 50%;\r\n  background-color: rgba(90, 90, 90, 0.2);\r\n}\r\n.b-weekexpander .b-has-overflow .b-week-toggle-tool:before {\r\n  content: "\\f107";\r\n}\r\n.b-weekexpander .b-shrinkwrapped .b-week-toggle-tool:before {\r\n  content: "\\f106";\r\n}\r\n\r\n.b-calendar-print-iframe {\r\n  position: absolute;\r\n  top: -1000em;\r\n  left: -1000em;\r\n}\r\n\r\n.b-calendar.b-shrinkwrap-row-heights .b-print-content .b-weeks-container {\r\n  flex: 0 0 auto;\r\n}\r\n.b-calendar .b-print-content {\r\n  font-family: "Helvetica Neue", Arial, Helvetica, sans-serif;\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n.b-calendar .b-print-content .b-print-header {\r\n  font-size: 1.4em;\r\n}\r\n.b-calendar .b-print-content .b-print-body {\r\n  flex: 1;\r\n  display: flex;\r\n}\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport {\r\n  display: flex;\r\n  flex: 1;\r\n}\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport header {\r\n  display: none;\r\n}\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport .b-calendarmixin {\r\n  padding: 0;\r\n}\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport .b-dayview, .b-calendar .b-print-content .b-print-body .b-print-viewport .b-weekview, .b-calendar .b-print-content .b-print-body .b-print-viewport .b-monthview {\r\n  flex: 1 0 100%;\r\n}\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport .b-dayview .b-monthview-content, .b-calendar .b-print-content .b-print-body .b-print-viewport .b-weekview .b-monthview-content, .b-calendar .b-print-content .b-print-body .b-print-viewport .b-monthview .b-monthview-content {\r\n  padding: 0;\r\n}\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport .b-dayview .b-expand-allday-button, .b-calendar .b-print-content .b-print-body .b-print-viewport .b-dayview .b-yscroll-pad, .b-calendar .b-print-content .b-print-body .b-print-viewport .b-weekview .b-expand-allday-button, .b-calendar .b-print-content .b-print-body .b-print-viewport .b-weekview .b-yscroll-pad {\r\n  display: none;\r\n}\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport .b-dayview .b-dayview-day-content, .b-calendar .b-print-content .b-print-body .b-print-viewport .b-weekview .b-dayview-day-content {\r\n  overflow-y: hidden !important;\r\n}\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport .b-agendaview .b-grid-body-container.b-widget-scroller {\r\n  overflow-y: hidden !important;\r\n}\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport .b-yearview .b-yearview-content {\r\n  padding: 0;\r\n  overflow-y: hidden !important;\r\n}\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport .b-yearview .b-yearview-month:nth-child(9),\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport .b-yearview .b-yearview-month:nth-child(10),\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport .b-yearview .b-yearview-month:nth-child(11),\r\n.b-calendar .b-print-content .b-print-body .b-print-viewport .b-yearview .b-yearview-month:nth-child(12) {\r\n  margin-bottom: 0;\r\n}\r\n\r\n/**\r\n *\r\n * The DayView. Days are vertical stack of hours in which intra day events are rendered.\r\n * A DayView can show a single of many days side by side.\r\n *\r\n */\r\n/*\r\n * Calendar View styles\r\n *\r\n */\r\n/*\r\n * Calendar header row styles\r\n *\r\n */\r\n.b-calendar.b-outer {\r\n  height: 100%;\r\n}\r\n\r\n.b-calendar, .b-calendar-content {\r\n  color: #606060;\r\n  overflow: hidden;\r\n}\r\n\r\n.b-calendar {\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n.b-calendar .b-calendar-view-desc {\r\n  font-size: 1.4em;\r\n  margin: 0 0 0 1.8em;\r\n  white-space: nowrap;\r\n}\r\n.b-calendar > * > .b-top-toolbar {\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n.b-calendar > * > .b-top-toolbar > .b-button {\r\n  margin-right: 0.25em;\r\n}\r\n.b-calendar .b-calendar-viewcontainer > .b-monthview > .b-panel-body-wrap > .b-panel-content,\r\n.b-calendar .b-calendar-viewcontainer > .b-yearview > .b-panel-body-wrap > .b-panel-content {\r\n  padding-top: 1.2em;\r\n}\r\n\r\n.b-panel-ui-calendar-banner.b-panel-header {\r\n  background-color: #f3f4f5;\r\n  font-size: 1.4em;\r\n  padding: 0.6em;\r\n  white-space: nowrap;\r\n}\r\n.b-panel-ui-calendar-banner.b-panel-header .b-header-title {\r\n  font-size: unset;\r\n  font-weight: 400;\r\n}\r\n\r\n.b-allday.b-cal-color-red .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-red .b-cal-event {\r\n  background-color: #e53f2c;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-red .b-cal-event {\r\n  color: #e53f2c;\r\n}\r\n\r\n.b-allday.b-cal-color-pink .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-pink .b-cal-event {\r\n  background-color: #fe3183;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-pink .b-cal-event {\r\n  color: #fe3183;\r\n}\r\n\r\n.b-allday.b-cal-color-purple .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-purple .b-cal-event {\r\n  background-color: #fe31ea;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-purple .b-cal-event {\r\n  color: #fe31ea;\r\n}\r\n\r\n.b-allday.b-cal-color-violet .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-violet .b-cal-event {\r\n  background-color: #ac31fe;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-violet .b-cal-event {\r\n  color: #ac31fe;\r\n}\r\n\r\n.b-allday.b-cal-color-indigo .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-indigo .b-cal-event {\r\n  background-color: #4531fe;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-indigo .b-cal-event {\r\n  color: #4531fe;\r\n}\r\n\r\n.b-allday.b-cal-color-blue .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-blue .b-cal-event {\r\n  background-color: #3183fe;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-blue .b-cal-event {\r\n  color: #3183fe;\r\n}\r\n\r\n.b-allday.b-cal-color-cyan .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-cyan .b-cal-event {\r\n  background-color: #31e9fe;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-cyan .b-cal-event {\r\n  color: #31e9fe;\r\n}\r\n\r\n.b-allday.b-cal-color-teal .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-teal .b-cal-event {\r\n  background-color: #31feac;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-teal .b-cal-event {\r\n  color: #31feac;\r\n}\r\n\r\n.b-allday.b-cal-color-green .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-green .b-cal-event {\r\n  background-color: #27ca37;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-green .b-cal-event {\r\n  color: #27ca37;\r\n}\r\n\r\n.b-allday.b-cal-color-lime .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-lime .b-cal-event {\r\n  background-color: #76e62c;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-lime .b-cal-event {\r\n  color: #76e62c;\r\n}\r\n\r\n.b-allday.b-cal-color-yellow .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-yellow .b-cal-event {\r\n  background-color: #FFEB3B;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-yellow .b-cal-event {\r\n  color: #FFEB3B;\r\n}\r\n\r\n.b-allday.b-cal-color-orange .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-orange .b-cal-event {\r\n  background-color: #feac31;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-orange .b-cal-event {\r\n  color: #feac31;\r\n}\r\n\r\n.b-allday.b-cal-color-deep-orange .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-deep-orange .b-cal-event {\r\n  background-color: #ff7043;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-deep-orange .b-cal-event {\r\n  color: #ff7043;\r\n}\r\n\r\n.b-allday.b-cal-color-gray .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-gray .b-cal-event {\r\n  background-color: #a0a0a0;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-gray .b-cal-event {\r\n  color: #a0a0a0;\r\n}\r\n\r\n.b-allday.b-cal-color-gantt-green .b-cal-event,\r\n.b-dayview .b-cal-event-wrap.b-cal-color-gantt-green .b-cal-event {\r\n  background-color: #8ee997;\r\n}\r\n\r\n.b-cal-event-bar-container .b-cal-event-wrap:not(.b-allday).b-cal-color-gantt-green .b-cal-event {\r\n  color: #8ee997;\r\n}\r\n',""]),e.exports=i},"controls/compound/menu/qp-menu.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-menu .qp-menu{display:inline-flex;align-items:center;height:var(--qp-toolbar-height);line-height:var(--qp-toolbar-height);cursor:pointer;white-space:nowrap;border-radius:6px}qp-menu .qp-menu.qp-selected,qp-menu .qp-menu:hover{background-color:rgba(0,0,0,.06);border-radius:6px}qp-menu .qp-menu .qp-menu-button{background:transparent;border-width:0 1px 0 0;border-style:solid;border-right-color:transparent;padding:0 2px 0 10px;cursor:pointer;opacity:.87}qp-menu .qp-menu.qp-selected:not(.qp-menu-no-options) .qp-menu-button.qp-menu-action-button,qp-menu .qp-menu:not(.qp-menu-no-options):hover .qp-menu-button.qp-menu-action-button{border-right-color:#fff}qp-menu .qp-menu.qp-menu-no-options .qp-menu-button{border-width:0px;padding:5px 10px}qp-menu .qp-menu.qp-menu-no-options .qp-menu-opener{display:none}qp-menu .qp-menu .qp-menu-button.disabled{opacity:.26;cursor:default}qp-menu .qp-menu .qp-menu-opener{background:transparent;border:none;padding:0 4px 0 1px;cursor:pointer}qp-menu.qp-button .qp-menu{background-color:rgba(0,0,0,.06)}qp-menu.qp-button .qp-menu:hover,qp-menu.qp-button .qp-menu.qp-selected{background-color:rgba(0,0,0,.1)}.qp-menu-options{color:#000;fill:#000;z-index:var(--zindex-dropdown, 20000);background-color:#fff;max-height:80vh;overflow-y:auto;overflow-y:overlay;min-width:50px !important;box-shadow:0px 0px 16px rgba(115,115,115,.7);box-sizing:border-box;padding:0;text-transform:none;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.15) transparent;border-radius:6px}.qp-menu-options .qp-menu-container{padding:8px 0px}.qp-menu-options .qp-menu-item{min-height:18px;line-height:18px;opacity:.87;padding:7px 16px;font-size:14px;display:block;white-space:nowrap;text-align:left;max-width:300px;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.qp-menu-options .qp-menu-item:hover{background-color:var(--qp-menu-hover)}.qp-menu-options .qp-menu-item.disabled{opacity:.3;cursor:auto}.qp-menu-options .qp-menu-item.disabled:hover{color:#000;fill:#000;background-color:inherit}.qp-menu-options .qp-menu-item .qp-menu-spacer{margin:0px 5px 1px 5px}.qp-menu-options .qp-menu-item .qp-menu-icon{float:left}.qp-menu-options .qp-menu-spacer .qp-menu-label{display:inline-block}.qp-menu-options .qp-menu-spacer .qp-menu-value{display:inline-block;text-align:end}.qp-menu-options .qp-menu-separator{border-bottom:1px solid #aaa;padding:0;min-height:0;margin:3px 0;cursor:auto}",""]),e.exports=i},"controls/compound/screen-title/qp-screen-title.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".rtl qp-screen-title{float:right;display:flex;text-align:end;width:100%;flex-direction:column;align-content:flex-start;align-items:flex-start}.rtl .search-hint-box{flex-direction:unset}.rtl .search-hint-box .icon{padding:2px 0px 0px 10px}qp-screen-title{float:left;max-width:100%;min-width:300px}qp-screen-title:hover .favoriteOff{visibility:visible}qp-screen-title a{font-size:19px;text-decoration:none;color:RGBA(0, 0, 0, 0.87);cursor:pointer;display:inline-block}qp-screen-title a:hover{text-decoration:underline}qp-screen-title i{margin-left:10px}qp-screen-title .star-container{display:flex;align-items:baseline}qp-screen-title .withCaption{width:100%}qp-screen-title .withCaption>div>a{font-size:13px;color:#027acc;text-overflow:ellipsis;display:block;white-space:nowrap;overflow:hidden}qp-screen-title .withCaption>span{font-size:18px;border-width:0px;display:block;margin-top:3px;color:#000;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}qp-screen-title .captionLine{display:flex;align-items:center;align-content:center}qp-screen-title span{display:none}qp-screen-title .favoriteOff{color:#000;visibility:hidden}qp-screen-title .favoriteOn{color:#f7ba08}qp-screen-title .no-star{display:none}.search-hint-box{display:flex;border-radius:10px;border:none;padding:7px 10px;margin:5px 0;background-color:#fff5d2;align-items:center}.search-hint-box.blue{background-color:#d4e5fd}.search-hint-box.yeloow{background-color:#fff5d2}.search-hint-box.red{background-color:#ffe6e6}.search-hint-box .icon{padding:2px 10px 0px 0px;font-size:22px}.search-hint-box .icon.blue{color:blue}.search-hint-box .icon.yellow{color:orange}.search-hint-box .icon.red{color:red}.search-hint-box .message{line-height:normal;font-size:13px}",""]),e.exports=i},"controls/compound/tool-bar/qp-tool-bar.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,'qp-tool-bar{flex-grow:1}qp-tool-bar div.qp-tool-bar.qp-tool-bar-no-menu{height:auto}qp-tool-bar div.qp-tool-bar.qp-tool-bar-no-menu.qp-tool-bar-nowrap{white-space:nowrap}qp-tool-bar div.qp-tool-bar{display:inline-flex;flex-wrap:wrap;height:var(--qp-toolbar-height);width:100%;overflow:hidden;background-color:inherit}@media screen and (max-width: 500px){qp-tool-bar div.qp-tool-bar{width:100%}}qp-tool-bar .qp-tool-bar-item{background-color:inherit;color:#000;font-weight:400;white-space:nowrap;border:none;box-sizing:content-box;text-align:center;cursor:default;min-width:inherit;font-size:var(--qp-regular-font-size);border-radius:var(--qp-input-border-radius);height:var(--qp-toolbar-height);margin:0 calc( var(--qp-toolbar-items-gap) /2 )}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button{padding:calc( ( var(--qp-toolbar-height) - var(--qp-icon-size) ) / 2 ) 10px;height:var(--qp-icon-size);line-height:var(--qp-icon-size);cursor:pointer;box-sizing:content-box;display:table;border-radius:var(--qp-input-border-radius);background-color:rgba(0,0,0,.06)}qp-tool-bar .qp-tool-bar-item.minor-button .qp-tool-bar-button{background-color:transparent}qp-tool-bar .qp-tool-bar-item.qp-toggle-pushed .qp-tool-bar-button{background-color:rgba(0,0,0,.06)}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button:hover{background-color:rgba(0,0,0,.1)}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button.disabled:hover{background-color:inherit}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button>qp-hyper-icon{display:flex;align-items:center;height:var(--qp-icon-size)}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button .qp-hyper-icon>img{max-height:var(--qp-icon-size)}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-text{display:inline-block}qp-tool-bar .checkBox{padding-right:0}qp-tool-bar .toolBar button:disabled{background-color:inherit;color:#000;opacity:.26;cursor:default}qp-tool-bar .items-list{list-style:none outside none;height:var(--qp-toolbar-height);margin:0px;padding:0px;border-spacing:0px;border-collapse:separate}qp-tool-bar .items-list .qp-tool-bar-button.disabled{opacity:.26;cursor:default;background-color:inherit}qp-tool-bar .items-list li{display:inline-block;vertical-align:bottom}qp-tool-bar .qp-tool-bar-opener{display:inline-block;box-sizing:border-box;height:var(--qp-toolbar-height);color:rgba(0,0,0,.5);cursor:pointer;padding:calc( ( var(--qp-toolbar-height) - var(--qp-icon-size) ) / 2 ) 10px;border-radius:var(--qp-input-border-radius)}qp-tool-bar .qp-tool-bar-opener.qp-menu-opened,qp-tool-bar .qp-tool-bar-opener.qp-menu-opened:hover,qp-tool-bar .qp-tool-bar-opener.qp-menu-opened:focus{background-color:rgba(0,0,0,.06);z-index:6000;box-shadow:none}qp-tool-bar .qp-tool-bar-opener:hover{background-color:rgba(0,0,0,.06)}qp-tool-bar .qp-tool-bar-opener:focus{background-color:#fff;box-shadow:inset 0px 0px 0px 2px rgba(2,122,204,.4)}qp-tool-bar .qp-tool-bar-opener.qp-tool-bar-invisible{opacity:0}qp-tool-bar .qp-menu-shadow{position:fixed;top:0;bottom:0;left:0;right:0;z-index:5000;background-color:rgba(0,0,0,.25)}qp-tool-bar .qp-tool-bar-item.qp-connotation-default .qp-tool-bar-button.disabled:hover{background-color:inherit;fill:inherit;color:inherit;cursor:default}qp-tool-bar .qp-tool-bar-item.qp-connotation-default .qp-tool-bar-button:hover,qp-tool-bar .qp-tool-bar-item.minor-button.qp-connotation-default.qp-toggle-pushed .qp-tool-bar-button:hover{background-color:rgba(0,0,0,.1)}qp-tool-bar .qp-tool-bar-item.minor-button.qp-connotation-default .qp-tool-bar-button:hover{background-color:rgba(0,0,0,.06)}.qp-connotation-Primary,.qp-connotation-Primary:hover{background-color:#007acc !important;background-color:var(--primary-color, #007ACC) !important;color:#fff !important}.qp-connotation-Secondary,.qp-connotation-Secondary:hover{background-color:#6c757d !important;color:#fff !important}.qp-connotation-Success,.qp-connotation-Success:hover{background-color:#28a745 !important;color:#fff !important}.qp-connotation-Danger,.qp-connotation-Danger:hover{background-color:#dc3545 !important;color:#fff !important}.qp-connotation-Warning,.qp-connotation-Warning:hover{background-color:#ffc107 !important;color:#212529 !important}.qp-connotation-Info,.qp-connotation-Info:hover{background-color:#17a2b8 !important;color:#fff !important}.qp-connotation-Light,.qp-connotation-Light:hover{background-color:#f8f9fa !important;color:#212529 !important}.qp-connotation-Dark,.qp-connotation-Dark:hover{background-color:#343a40 !important;color:#fff !important}.qp-tool-bar-menu{z-index:6000;background-color:#fff;max-height:80vh;overflow-y:auto;overflow-y:overlay;min-width:272px !important;box-shadow:0px 0px 16px rgba(115,115,115,.7);box-sizing:border-box;border-top:5px solid #fff;border-bottom:5px solid #fff;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.15) transparent;border-radius:var(--qp-input-border-radius)}.qp-tool-bar-menu::-webkit-scrollbar{width:19px}.qp-tool-bar-menu::-webkit-scrollbar-thumb{background:rgba(0,0,0,.15);border-radius:0px;width:3px;border:5px solid #fff}.qp-tool-bar-menu .qp-tool-bar-container{padding:0 14px 7px 0;margin:0;overflow:hidden;display:inline-flex;flex-flow:row nowrap}.qp-tool-bar-menu .qp-tool-bar-column{width:240px;margin-right:20px}.qp-tool-bar-menu .qp-tool-bar-menu-item{display:block;padding:0 0 0 29px;margin-left:5px;cursor:pointer;height:30px;font-size:14px;line-height:30px;color:#007acc;color:var(--primary-color, #007ACC);white-space:nowrap;position:relative}.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-empty-label{height:10px}.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-label{font-size:16px;color:#000;cursor:default;padding:10px 0 0 29px;margin-top:7px;box-sizing:border-box;height:40px}.qp-tool-bar-menu .qp-menu-text{display:inline-block;text-overflow:ellipsis;overflow:hidden;width:100%}.qp-tool-bar-menu .qp-tool-bar-menu-item.disabled .qp-menu-text{opacity:.3}.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-item:hover,.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-item.qp-menu-highlighted{background-color:#eee}.qp-tool-bar-menu .qp-tool-bar-menu-item.disabled{cursor:default}.qp-tool-bar-menu .qp-tool-bar-menu-item.disabled:hover{background-color:inherit}.qp-tool-bar-menu .qp-menu-fav-placeholder{width:30px;height:30px;position:absolute;cursor:pointer;font-family:"FontAwesome" !important;left:0px;color:#000}.qp-tool-bar-menu .qp-tool-bar-menu-item:hover .qp-menu-fav-placeholder:not(.favorite):before{content:"";margin-left:6px}.qp-tool-bar-menu .qp-tool-bar-menu-item .qp-menu-fav-placeholder:not(.favorite):hover:before{content:"";margin-left:6px}.qp-tool-bar-menu .qp-menu-fav-placeholder.favorite:before,.qp-tool-bar-menu .qp-tool-bar-menu-item.extention-cord .qp-menu-fav-placeholder.favorite:before{content:"";color:#f7ba08;margin-left:6px;font-family:"FontAwesome" !important}.qp-tool-bar-menu .qp-menu-color-bead{display:inline-block;border-radius:10px;width:10px;height:10px;margin-left:3px}.qp-menu-item.extention-cord{z-index:6000;background:#eee;line-height:30px;color:#007acc;color:var(--primary-color, #007ACC);white-space:nowrap;font-size:14px;box-shadow:none;padding-right:5px}.qp-menu-item.extention-cord.disabled:before{background:#fff;content:"";position:absolute;display:block;width:100%;height:100%;opacity:.7}.qp-menu-item.extention-cord.disabled{background-color:#fff}body.designMode .qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button:hover,body.designMode .qp-tool-bar .qp-tool-bar-item .qp-menu:hover,body.designMode .qp-tool-bar-menu .qp-tool-bar-menu-item .qp-menu-item:hover{box-shadow:0px 0px 2px 1px #007acc;box-shadow:0px 0px 2px 1px var(--primary-color, #007ACC);cursor:help !important;opacity:1}',""]),e.exports=i},"controls/container/resizer/qp-resizer.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".qp-resizer{position:relative;padding-bottom:8px}.qp-resizer__content{display:block;height:calc(100% - 8px);overflow-y:auto}.qp-resizer__dragger{display:flex;align-items:center;justify-content:center;position:absolute;bottom:0;left:0;right:0;height:8px;cursor:row-resize}.qp-resizer__icon{display:flex;align-items:center;height:8px;overflow:hidden}.qp-resizer__icon svg{color:#c8c8c8}.qp-resizer__icon:hover svg{color:#7c7c7c}",""]),e.exports=i},"controls/dialog/upload-dialog/qp-upload-dialog.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,".upload-dialog-body{--qp-default-label-width: 100px}.upload-dialog-body qp-field.upload-field .label-container label{display:flex;align-items:center}.upload-dialog-body qp-field.upload-field .icon-container{height:100%;display:flex;align-items:center}.upload-dialog-body qp-uploader .qp-uploader{margin:0px}.upload-dialog-body qp-uploader .uploader-button{min-height:18px}.upload-dialog-body qp-uploader .uploader-button .file-label{display:flex;flex-wrap:nowrap;position:absolute;overflow:hidden;width:100%}.upload-dialog-body qp-uploader .uploader-button .file-label .file-label-text{flex-basis:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;line-height:20px}.upload-dialog-body qp-uploader .uploader-button .file-label qp-icon{flex-grow:0;cursor:pointer;pointer-events:all}.upload-dialog-body qp-text-editor textarea{width:100%;min-height:32px}",""]),e.exports=i},"controls/simple/button/qp-button.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-button{display:inline-flex}qp-button button.qp-button div.btn-inner qp-icon.icon-menu{display:inline;padding-left:5px}qp-button div.glue-to{position:fixed;z-index:1000}qp-button div.glue-to div.options-panel{background-color:#fff;z-index:1000;max-width:412px;max-height:269px}qp-button div.drop-down__options-pane{opacity:1 !important;min-width:210px;color:rgba(0,0,0,.87)}qp-button div.drop-down__options-pane div{height:26px;line-height:26px}qp-button button.qp-button{font-weight:400;font-size:var(--qp-regular-font-size);background-color:rgba(0,0,0,.06);border:none;padding:3px 10px 3px 10px;height:var(--qp-button-height);min-width:60px;opacity:.87;white-space:nowrap;cursor:pointer;overflow:hidden;width:inherit;border-radius:var(--qp-input-border-radius);flex-grow:1}qp-button button.qp-button qp-icon{display:inline-block;vertical-align:bottom}qp-button button.qp-button[disabled]{color:rgba(27,27,27,.4);cursor:initial}qp-button button.qp-button.primary-button,qp-button button.qp-button:not([disabled]):hover,qp-button button.qp-button.pushed{background-color:rgba(0,0,0,.1)}qp-button button.qp-button.ButtonT{background-color:transparent;border:none}qp-button button.qp-button:not([disabled]):active{opacity:1}qp-button button.qp-button:focus{box-shadow:inset 0 0 0 2px rgba(2,122,204,.4)}qp-button.major-button button.qp-button{background-color:#007acc;background-color:var(--primary-color, #007ACC);color:#fff}qp-button.major-button button.qp-button[disabled]{background-color:rgba(2,122,204,.4)}qp-button.major-button button.qp-button:not([disabled]):hover{background-color:#016fbb;color:#fff}qp-button.major-button button.qp-button:focus{box-shadow:inset 0 0 0 2px rgba(255,255,255,.4)}qp-button.minor-button button.qp-button{background-color:transparent}qp-button.minor-button button.qp-button:not([disabled]):hover{background-color:rgba(0,0,0,.06)}qp-button.minor-button button.qp-button:focus{background-color:transparent;box-shadow:inset 0 0 0 2px rgba(2,122,204,.4)}qp-button button.qp-button.minor-button.pushed{background-color:rgba(0,0,0,.06)}",""]),e.exports=i},"controls/simple/image/components/gallery/carousel.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"carousel,.carousel-body{display:flex;flex-grow:1;position:relative;overflow:hidden}carousel .carousel-left,.carousel-body .carousel-left{position:absolute;top:0px;background-color:transparent;height:100%;display:flex;align-items:center;padding:10px;flex-direction:row;pointer-events:all;z-index:1;cursor:pointer;width:clamp(40px, 20%, 150px);left:0px}carousel .carousel-left>qp-icon.arrow,.carousel-body .carousel-left>qp-icon.arrow{width:11px;height:16px}carousel .carousel-left>qp-icon.arrow svg,.carousel-body .carousel-left>qp-icon.arrow svg{filter:drop-shadow(0px 0px 4px rgba(0, 0, 0, 0.7))}carousel .carousel-left>qp-icon.arrow.left svg,.carousel-body .carousel-left>qp-icon.arrow.left svg{transform:rotate(180deg)}carousel .carousel-left.carousel-button-disabled,.carousel-body .carousel-left.carousel-button-disabled{display:var(--carousel-button-disabled-display, flex);cursor:default}carousel .carousel-left.carousel-button-disabled svg,.carousel-body .carousel-left.carousel-button-disabled svg{visibility:hidden}carousel .carousel-right,.carousel-body .carousel-right{position:absolute;top:0px;background-color:transparent;height:100%;display:flex;align-items:center;padding:10px;flex-direction:row-reverse;pointer-events:all;z-index:1;cursor:pointer;width:clamp(40px, 20%, 150px);right:0px}carousel .carousel-right>qp-icon.arrow,.carousel-body .carousel-right>qp-icon.arrow{width:11px;height:16px}carousel .carousel-right>qp-icon.arrow svg,.carousel-body .carousel-right>qp-icon.arrow svg{filter:drop-shadow(0px 0px 4px rgba(0, 0, 0, 0.7))}carousel .carousel-right>qp-icon.arrow.left svg,.carousel-body .carousel-right>qp-icon.arrow.left svg{transform:rotate(180deg)}carousel .carousel-right.carousel-button-disabled,.carousel-body .carousel-right.carousel-button-disabled{display:var(--carousel-button-disabled-display, flex);cursor:default}carousel .carousel-right.carousel-button-disabled svg,.carousel-body .carousel-right.carousel-button-disabled svg{visibility:hidden}carousel .carousel-center,.carousel-body .carousel-center{display:flex;flex-grow:1;position:relative;justify-content:center}carousel .carousel-center>*,.carousel-body .carousel-center>*{position:absolute;height:100%;width:100%}",""]),e.exports=i},"controls/simple/image/components/gallery/image-feed.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"image-feed{display:flex;flex-grow:1;position:relative;overflow:hidden}image-feed .image-feed{display:flex;flex-wrap:nowrap;position:absolute;top:0px;left:0px;overflow:hidden;width:100%}image-feed .image-feed>image-view{flex-shrink:0;cursor:pointer}image-feed .image-feed>image-view.selected{z-index:1}image-feed .image-feed>.image-feed-track{flex-grow:0;flex-shrink:0;height:100%}",""]),e.exports=i},"controls/simple/image/components/gallery/image-gallery.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"image-gallery,.image-gallery{display:flex;flex-grow:1;flex-direction:column;align-items:stretch;flex-wrap:nowrap;overflow:hidden}image-gallery image-feed,.image-gallery image-feed{flex-basis:clamp(56px, 15%, 120px);flex-grow:0}image-gallery .image-gallery-placeholder,.image-gallery .image-gallery-placeholder{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch}",""]),e.exports=i},"controls/simple/image/components/popup/image-popup.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"image-popup{display:inline}image-popup .image-popup-host{display:inline}.image-popup{display:flex;position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:var(--zindex-container, 11000);background-color:#fff;align-items:stretch;flex-direction:column;flex-wrap:nowrap}.image-popup>*{flex-grow:1}.image-popup .image-popup-caption{position:relative;flex:0 0 auto;display:flex;flex-wrap:nowrap;align-items:center;height:48px;width:100vw;border-bottom:1px solid rgba(0,0,0,.1)}.image-popup .image-popup-caption .image-popup-title{flex-grow:1;font-size:14px;text-overflow:ellipsis;text-wrap:nowrap;overflow:hidden;padding:0px 24px}.image-popup .image-popup-caption .image-popup-toolbar{display:flex;padding-right:8px;flex:0 1 380px;flex-wrap:nowrap;height:100%;align-self:end;--control-toolbar-hover-background: transparent;--control-toolbar-item-opacity: 0.7;--control-toolbar-item-hover-opacity: 1;--layout-hover-background: transparent}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar{display:flex;position:relative;height:100%;align-items:center}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar qp-layout{justify-content:right;display:flex}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar.qp-control-bar-main{flex:1 1 auto}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar.qp-control-bar-main .qp-control-bar{position:absolute}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar.qp-control-bar-panel{flex:0 0 24px}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar .image-popup-toolbar-button{cursor:pointer}.image-popup image-gallery .image-view-image{cursor:pointer !important}",""]),e.exports=i},"controls/simple/image/components/view/image-view.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"image-view{display:flex;padding:calc(2 * var(--image-view-image-padding, 0px)) var(--image-view-image-padding, 0px) 0px var(--image-view-image-padding, 0px);align-items:stretch;justify-content:stretch}image-view .image-view{position:relative;display:flex;flex-grow:1;user-select:none;overflow:hidden}image-view .image-view img{width:100%;height:100%}image-view .image-view img.image-view-image{cursor:var(--image-view-cursor, pointer)}image-view .image-view img.image-view-image-preview{filter:blur(4px) opacity(0.4)}image-view .image-view .image-view-load-status{position:absolute;width:100%;height:100%;z-index:0;display:flex;align-items:center;flex-grow:1;flex-direction:column;justify-content:center;gap:16px;container-type:size;container-name:load-status}image-view .image-view .image-view-load-status reload-icon{display:flex;align-items:center;justify-content:center}image-view .image-view .image-view-load-status reload-icon>svg{width:clamp(20px, 30%, 49px);fill:none;stroke:#aeaeae;cursor:pointer}image-view .image-view .image-view-load-status reload-icon>svg #reload-icon-arrow{fill:#aeaeae}image-view .image-view .image-view-load-status .image-view-load-status-text{display:none;text-shadow:0px 0px 14px #fff,0px 0px 14px #fff}@container load-status (min-width: 160px){image-view .image-view .image-view-load-status .image-view-load-status-text{display:block}}",""]),e.exports=i},"controls/simple/image/components/view/load-progress.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"load-progress{display:flex}load-progress .load-progress{display:flex;flex-grow:1;align-items:center;justify-content:center}load-progress .load-progress .load-progress-icon{width:clamp(20px, 30%, 49px);fill:none;cursor:pointer}load-progress .load-progress .load-progress-icon #progress-body{fill:#fff;stroke:#aeaeae;stroke-width:1px}load-progress .load-progress .load-progress-icon #progress-value{fill:transparent;stroke:#0061a4;stroke-width:3px}load-progress .load-progress .load-progress-icon #progress-cancel{fill:#aeaeae}",""]),e.exports=i},"controls/simple/image/upload/qp-image-uploader.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-image-uploader{display:inline}.qp-image-uploader{display:flex;flex-direction:column}.qp-image-uploader qp-multi-upload{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch}.qp-image-uploader qp-multi-upload .qp-uploader{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch;margin:0px;padding:0px;border:0px solid transparent}.qp-image-uploader qp-multi-upload .qp-uploader .uploader-button{flex-grow:1;display:flex;align-items:stretch;justify-content:stretch;position:relative}.qp-image-uploader image-gallery{flex-grow:1}.qp-image-uploader image-gallery carousel{border:1px solid rgba(0,0,0,.1);border-radius:10px;background-color:#fff}.qp-image-uploader image-gallery carousel image-view .image-view-load-status{cursor:default}.qp-image-uploader image-gallery .qp-image-uploader-placeholder{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message{flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message svg{fill:none;fill:#000;fill-opacity:.4;fill-rule:evenodd;clip-rule:evenodd}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message svg.qp-image-uploader-prompt{width:53px;height:44px}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message svg.qp-image-uploader-null{width:46px;height:46px}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message.qp-image-uploader-message-null{cursor:default}.qp-image-uploader image-gallery image-feed{--image-view-image-padding: 3px}.qp-image-uploader image-gallery image-feed .image-feed{justify-content:center}.qp-image-uploader image-gallery image-feed .image-feed image-view .image-view{border-radius:10px;outline:1px solid #c9c9c9}.qp-image-uploader image-gallery image-feed .image-feed image-view.selected .image-view{outline:2px solid #007acc;outline-offset:-1px}.qp-image-uploader qp-control-bar.image-gallery-toolbar{--control-toolbar-hover-background: transparent;--control-toolbar-gap: 0px;position:absolute;top:2px;right:0px;z-index:1}.qp-image-uploader image-view{background-color:#fff}",""]),e.exports=i},"controls/simple/image/view/qp-image-view.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-image-view{display:inline}.qp-image-view{border:1px solid rgba(0,0,0,.1);border-radius:10px;overflow:hidden;background-color:#fff}.qp-image-view .qp-image-view-message{flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}.qp-image-view .qp-image-view-message svg{fill:none;fill:#000;fill-opacity:.4;fill-rule:evenodd;clip-rule:evenodd}.qp-image-view .qp-image-view-message svg.qp-image-view-null{width:46px;height:46px}.qp-image-view .qp-image-view-message.qp-image-view-message-null{cursor:default}",""]),e.exports=i},"controls/simple/uploader/qp-multi-upload.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-multi-upload{display:flex;align-items:stretch;justify-content:stretch}qp-multi-upload>qp-uploader{flex-grow:1}",""]),e.exports=i},"controls/simple/uploader/qp-uploader.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,"qp-uploader{display:flex;align-items:stretch;justify-content:stretch}qp-uploader>.qp-uploader{flex-grow:1}.qp-uploader{margin:10px 0;border:3px dashed #d3d3d3;padding:10px;text-align:center;position:relative}.qp-uploader .uploader-input{cursor:pointer;position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;z-index:1}.qp-uploader .uploader-button{position:relative;cursor:pointer;pointer-events:var(--uploader-button-pointer-events, none)}",""]),e.exports=i},"controls/styles.scss":function(e,n,r){var o=r("../node_modules/css-loader/dist/runtime/noSourceMaps.js"),i=r("../node_modules/css-loader/dist/runtime/api.js")(o);i.push([e.id,':root{--primary-color-rgb: 0, 122, 204;--qp-primary-color: rgba(var(--primary-color-rgb));--qp-highlight-color: rgba(224, 239, 249, 1);--qp-highlight-hover-color: rgba(204, 228, 245, 1);--qp-altrow-color: rgba(245, 247, 248, 1);--qp-row-color: rgba(255, 255, 255, 1);--qp-background-color: rgba(0, 0, 0, 0.06);--qp-dark-background-color: rgba(0, 0, 0, 0.1);--qp-menu-hover: rgba(0, 0, 0, 0.07);--qp-shadow-color: rgba(0, 0, 0, 0.2);--qp-border-color: rgba(210, 212, 215, 1);--qp-sucess-bg-color: rgba(237, 247, 234, 1);--qp-error-bg-color: rgba(255, 239, 239, 1);--qp-success-color: rgba(71, 168, 36, 1);--qp-warning-color: rgba(255, 184, 0, 1);--qp-error-color: rgba(238, 64, 81, 1);--qp-label-color: #1B1B1B;--qp-input-height: 30px;--qp-grid-row-height: 26px;--qp-grid-line-height: 16px;--qp-inputs-gap: 4px;--qp-input-border-radius: 6px;--qp-regular-font-size: 14px;--qp-tabbar-font-size: 13px;--qp-button-height: 28px;--qp-toolbar-height: 28px;--qp-toolbar-items-gap: 8px;--qp-icon-size: 16px;--qp-sections-column-gap: 8px;--qp-sections-row-gap: 8px;--qp-fieldset-padding-top: 12px;--qp-fieldset-padding-left: 16px;--qp-page-host-margin: 4px;--qp-page-host-padding: 12px}@media(min-height: 680px){:root{--qp-sections-row-gap: 12px;--qp-inputs-gap: 6px;--qp-input-height: 32px;--qp-toolbar-height: 32px;--qp-button-height: 32px;--qp-tabbar-font-size: 14px;--qp-grid-row-height: 29px}}@media(min-width: 1400px){:root{--qp-sections-column-gap: 12px;--qp-page-host-margin: 7px;--qp-page-host-padding: 17px}}qp-note-dialog,qp-files-dialog{position:absolute}.fatal-error{background-color:var(--qp-error-color) !important}.qp-collapser{display:block;position:relative}.qp-collapser.container{flex-shrink:0;min-height:20px;padding-right:32px}.qp-collapser.toggle{display:flex;align-items:center;height:20px;width:24px;font-size:16px;font-family:"FontAwesome" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;background-color:rgba(0,0,0,.06);border-radius:var(--qp-input-border-radius);padding:0 4px;cursor:pointer;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.qp-collapser.toggle:hover{background-color:#007acc;background-color:var(--primary-color, #007ACC);color:#fff}.qp-collapser.toggle:not(.expanded):before{content:"";padding-top:4px}.qp-collapser.expanded:before{content:""}.qp-collapser.toggle:not(.expanded){background-color:#e6f2fa;color:#027acc;fill:#027acc}.qp-collapser.hidden{display:none}',""]),e.exports=i},"apps/dac-browser/qp-dac-browser.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-dac-browser.css"></require><div if.bind="!isTextMode" class="qp-dac-browser" ref="rootElement"><div class="qp-dac-left-pane"><div class="qp-dac-header">${Msg.DacBrowserTitle}</div><div class="qp-dac-filter"><input type="text" class="qp-filter-input" id="qp-filter-input" placeholder="${Msg.Search}" autocomplete="new-password" value.bind="filter" blur.delegate="doFiltering()" focus.capture="selectContent()" input.delegate="doFiltering() & debounce:500"><div class="qp-filter-button"><span class="qp-filter-image"></span></div></div><div class="qp-dac-tree"><div click.delegate="toggleLang()" if.bind="DACTree.length===0" innerhtml="${NothingFound}"></div><div repeat.for="ns of DACTree" class="qp-dac-ns-frame"><div class="qp-dac-ns-opener ${ns.expanded ? \'qp-dac-ns-expanded\': \'qp-dac-ns-collapsed\'}" click.delegate="toggleNS(ns.name)"></div><div click.delegate="toggleNS(ns.name)" id="namespace_${ns.name}" class="qp-dac-namespace ${SelectedDAC.namespace===ns.name ? \'qp-dac-active\' : \'\'}" innerhtml="${ns.filteredName || ns.name | removeSCRIPT}" extention-cord></div><div if.bind="ns.expanded" class="qp-dac-pane"><div class="qp-dac-leaf ${(SelectedDAC.link===dac._links.self && SelectedDAC.namespace===ns.name) ? \'qp-dac-active\' : \'\'}" repeat.for="dac of ns.dacs" id="${dac._links.self}"><a class="qp-dac-leaf-text ${(SelectedDAC.link===dac._links.self && SelectedDAC.namespace===ns.name) ? \'qp-dac-active\' : \'\'} ${dac.filteredDisplayName || dac.displayName ? \'qp-dac-leaf-tooltipable\' : \'\'}" data-tooltip="${dac.filteredDisplayName || dac.displayName}" extention-cord innerhtml="${dac.filteredName || dac.dotNotatedFullName | removeSCRIPT}" href="${dac._links.self}"></a>\x3c!-- <div style="min-width: unset;" innerhtml="${dac.filteredDisplayName || dac.displayName | sanitizeHTML}"></div> --\x3e</div></div></div><qp-tooltip rule.bind="\'.qp-dac-leaf-tooltipable\'" on-show.call="toolTipShown(opts)"><div innerhtml="${tooltip | removeSCRIPT}"></div></qp-tooltip></div></div><div class="qp-dac-details" if.bind="CurrentDAC"><div class="qp-dac-details-header"><div class="qp-dac-title"><span>${CurrentDAC.dotNotatedFullName}</span> <span class="qp-dac-type">${DACMsg}</span> <span class="qp-dac-box qp-dac-obsolete" if.bind="CurrentDAC.isObsolete">${Msg.Obsolete}<qp-tooltip>${Msg.ObsoleteDacTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-internalApi" if.bind="CurrentDAC.isInternalApi">${Msg.InternalApi}<qp-tooltip>${Msg.InternalApiTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-customized" if.bind="CurrentDAC.dacExtensions.length>0">${Msg.Customized} </span><span class="qp-dac-box qp-dac-hidden" if.bind="CurrentDAC.isHidden">${Msg.Hidden}<qp-tooltip>${Msg.HiddenTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-hidden" if.bind="!CurrentDAC.existsInDb">${Msg.Virtual}<qp-tooltip>${Msg.VirtualDacTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-proj" if.bind="CurrentDAC.isProjection">${Msg.Projection}<qp-tooltip>${Msg.ProjectionTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-accumulator" if.bind="CurrentDAC.isAccumulator">${Msg.Accumulator}<qp-tooltip>${Msg.AccumulatorTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-row-level-security" if.bind="CurrentDAC.hasRowLevelSecurity">${Msg.RowLevelSecurity}<qp-tooltip>${Msg.RowLevelSecurityTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-nested" if.bind="CurrentDAC.declaringTypes.length>0">${Msg.Nested}<qp-tooltip>${Msg.NestedTooltip}</qp-tooltip></span><span class="qp-dac-preview"><span if.bind="CurrentDAC._links.sourceCode" click.delegate="showSourceCode()">${Msg.ViewSourceCode}</span> <span if.bind="CurrentDAC._links.sql" click.delegate="showSQLQuery()">${Msg.ViewDacQuery}</span> <a href="${CurrentDAC._links.previewData}" show.bind="CurrentDAC._links.previewData" target="_blank">${Msg.PreviewSourceData}</a></span></div><div class="qp-dac-quick-refs"><a id="Definition-Link" href="${CurrentDAC._links.self}#Definition" router-ignore>${Msg.Definition}</a> <a id="Fields-Link" href="${CurrentDAC._links.self}#Fields" router-ignore>${Msg.Fields}</a> <a id="Incoming-References-Link" href="${CurrentDAC._links.self}#Incoming-References" router-ignore>${Msg.IncomingReferences}</a> <a id="Outgoing-References-Link" href="${CurrentDAC._links.self}#Outgoing-References" router-ignore>${Msg.OutgoingReferences}</a></div></div><div scroll.trigger="processScroll($event)" class="qp-dac-body"><a id="Definition"></a><div id="Definition-Header"><div class="qp-dac-names"><div class="qp-dac-field-row" if.bind="CurrentDAC.baseDac"><span class="qp-dac-label">${Msg.BaseDAC}:</span> <a class="qp-dac-info qp-dac-ref" href="${CurrentDAC.baseDac._links.self}">${CurrentDAC.baseDac.name}</a></div><div class="qp-dac-field-row" if.bind="CurrentDAC.displayName"><span class="qp-dac-label">${Msg.DisplayName}:</span> <span class="qp-dac-info">${CurrentDAC.displayName}</span></div><div class="qp-dac-field-row"><span class="qp-dac-label">${Msg.Namespace}:</span> <span class="qp-dac-info">${CurrentDAC.namespace}</span></div><div class="qp-dac-field-row" show.bind="CurrentDAC.primaryScreens && CurrentDAC.primaryScreens.length"><span if.bind="CurrentDAC.primaryScreens.length===1" class="qp-dac-label">${Msg.PrimaryScreen}:</span> <span else class="qp-dac-label">${Msg.PrimaryScreens}:</span> <span class="qp-dac-info"><template repeat.for="screen of CurrentDAC.primaryScreens"><span>${screen.title} (<a if.bind="screen._links.self" href="${screen._links.self}" target="_blank">${screen.screenId}</a><template else>${screen.screenId}</template>)${$last ? \'\' : \',&#160;\'}</span> &#32;</template></span></div><div class="qp-dac-field-row" if.bind="CurrentDAC.dacExtensions.length"><span class="qp-dac-label">${Msg.AppliedCustomization}:</span> <span class="qp-dac-info"><template repeat.for="extension of CurrentDAC.dacExtensions"><span>${extension.extensionName} (${extension.assemblyName}<template if.bind="extension.customizationProject">&#160;from&#32; <a if.bind="extension.customizationProject._links.self" href="javascript:void%200" click.delegate="openLinkInPopup(extension.customizationProject.name, extension.customizationProject._links.self)">${extension.customizationProject.name}</a><template else>${extension.customizationProject.name}</template></template>)${$last ? \'\' : \',&#160;\'}</span> &#32;</template></span></div></div><div class="qp-dac-description" show.bind="CurrentDAC.documentation.summary"><div class="qp-dac-header">${Msg.Summary}</div><p>${CurrentDAC.documentation.summary}</p></div><div class="qp-dac-description" show.bind="CurrentDAC.documentation.remarks"><div class="qp-dac-header">${Msg.Remarks}</div><p>${CurrentDAC.documentation.remarks}</p></div></div>\x3c!-- FIELDS --\x3e<div class="qp-dac-table qp-dac-columns"><a id="Fields"></a><div class="qp-dac-header">${Msg.Fields}</div><table><tr id="Fields-Header" class="qp-dac-table-header"><th class="qp-dac-key"></th><th class="qp-dac-name">${Msg.Name}</th><th class="qp-dac-type">${Msg.Type}</th><th class="qp-dac-disp-name">${Msg.DisplayName}</th><th class="qp-dac-ref-header">${Msg.ForeignReference}</th></tr><tr repeat.for="field of CurrentDAC.fields"><td class="qp-dac-key" title="${ (field.foreignDacReferences && field.foreignDacReferences.length && field.isKey) ? Msg.PrimaryForeignKey : (field.foreignDacReferences && field.foreignDacReferences.length ? Msg.ForeignKey : (field.isKey ? Msg.PrimaryKey : \'\'))}"><qp-icon class="qp-dac-pk ${field.foreignDacReferences && field.foreignDacReferences.length ? \'qp-dac-double-key\' : \'\'}" show.bind="field.isKey" imagesrc="svg:main@filledKey"></qp-icon><qp-icon class="qp-dac-fk ${field.isKey ? \'qp-dac-double-key\' : \'\'}" if.bind="field.foreignDacReferences && field.foreignDacReferences.length" imagesrc="svg:main@filledKey"></qp-icon></td><td class="qp-dac-name" click.delegate="showColumnDetails(field.name, field._links && field._links.self)">${field.name} <span class="qp-dac-box qp-dac-obsolete" if.bind="field.isObsolete">${Msg.Obsolete}<qp-tooltip>${Msg.ObsoleteFieldTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-hidden" if.bind="!field.existsInDb">${Msg.Virtual}<qp-tooltip>${Msg.VirtualFieldTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-udf" if.bind="field.kind === \'udf\'">${Msg.UDF}<qp-tooltip>${Msg.UDFTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-nvp-field" if.bind="field.kind === \'nameValuePair\'">${Msg.NameValuePairField}<qp-tooltip>${Msg.NameValuePairFieldTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-field-default-navigation" if.bind="field.hasDefaultNavigation">${Msg.DefaultNavigation}<qp-tooltip>${Msg.DefaultNavigationTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-customized qp-dac-customized-tooltipable" data-tooltip="${$index}" if.bind="field.dacFieldExtensions.length">${Msg.Customized}</span></td><td class="qp-dac-type">${field.sqlType}</td><td class="qp-dac-disp-name">${field.displayName}</td><td class="qp-dac-fk-ref"><template repeat.for="ref of field.foreignDacReferences"><a class="qp-dac-ref qp-dac-ref-tooltipable" href="${ref.foreignDac._links.self}" data-tooltip="${ref.foreignDac.fullName}">${ref.foreignDac.name}</a>${$last ? \'\' : \', \'}</template></td></tr></table><qp-tooltip rule.bind="\'.qp-dac-customized-tooltipable\'" on-show.call="customizationToolTipShown(opts)"><template repeat.for="extension of CurrentField.dacFieldExtensions"><div>${extension.customizationType === "created" ? Msg.Created+\' \' : Msg.Modified+\' \'}${extension.extensionName} (${extension.assemblyName}<template if.bind="extension.customizationProject">&#160;from&#32; <a if.bind="extension.customizationProject._links.self" href="javascript:void%200" click.delegate="openLinkInPopup(extension.customizationProject.name, extension.customizationProject._links.self)">${extension.customizationProject.name}</a><template else>${extension.customizationProject.name}</template></template>)${$last ? \'\' : \',&#160;\'}</div></template></qp-tooltip></div><div class="qp-dac-table qp-dac-columns"><a id="Incoming-References"></a><div class="qp-dac-header">${Msg.IncomingReferences}</div><table if.bind="CurrentDAC.incomingReferences && CurrentDAC.incomingReferences.length"><tr id="Incoming-References-Header" class="qp-dac-table-header"><th class="qp-dac-key"></th><th class="qp-dac-main-key-fields">${Msg.ParentKeyFields}</th><th class="qp-dac-parent">${Msg.ChildDAC}</th><th class="qp-dac-key-fields">${Msg.ChildKeyFields}</th></tr><tr repeat.for="ref of CurrentDAC.incomingReferences"><td class="qp-dac-key"></td><td><span>${ref.dacFieldNames.join(\', \')}</span></td><td class="qp-dac-fk-ref"><a class="qp-dac-ref qp-dac-ref-tooltipable" href="${ref.foreignDac._links.self}" data-tooltip="${ref.foreignDac.fullName}">${ref.foreignDac.name}</a></td><td><span>${ref.foreignDacFieldNames.join(\', \')}</span> <span class="qp-dac-box qp-dac-delete-cascade" if.bind="ref.hasCascadeDeletion">${Msg.DeleteCascade}<qp-tooltip>${Msg.Format(Msg.DeleteCascadeIncomingTooltip, ref.foreignDac.name, CurrentDAC.name)}</qp-tooltip></span></td></tr></table><div else class="qp-dac-description">${Msg.NoIncomingReferences}</div></div><div class="qp-dac-table qp-dac-columns"><a id="Outgoing-References"></a><div class="qp-dac-header">${Msg.OutgoingReferences}</div><table if.bind="CurrentDAC.outgoingReferences && CurrentDAC.outgoingReferences.length"><tr id="Outgoing-References-Header" class="qp-dac-table-header"><th class="qp-dac-key"></th><th class="qp-dac-main-key-fields">${Msg.ChildKeyFields}</th><th class="qp-dac-parent">${Msg.ParentDAC}</th><th class="qp-dac-key-fields">${Msg.ParentKeyFields}</th></tr><tr repeat.for="ref of CurrentDAC.outgoingReferences"><td class="qp-dac-key"></td><td><span>${ref.dacFieldNames.join(\', \')}</span> <span class="qp-dac-box qp-dac-delete-cascade" if.bind="ref.hasCascadeDeletion">${Msg.DeleteCascade}<qp-tooltip>${Msg.Format(Msg.DeleteCascadeOutgoingTooltip, CurrentDAC.name, ref.foreignDac.name)}</qp-tooltip></span></td><td class="qp-dac-fk-ref"><a class="qp-dac-ref qp-dac-ref-tooltipable" href="${ref.foreignDac._links.self}" data-tooltip="${ref.foreignDac.fullName}">${ref.foreignDac.name}</a></td><td><span>${ref.foreignDacFieldNames.join(\', \')}</span></td></tr></table><div else class="qp-dac-description">${Msg.NoOutgoingReferences}</div></div></div><qp-tooltip rule.bind="\'.qp-dac-ref-tooltipable\'" on-show.call="toolTipShown(opts)"><div innerhtml="${tooltip | removeSCRIPT}"></div></qp-tooltip></div><div else class="qp-dac-welcome-text ${SelectedDAC===\'Uninitialized\' ? \'qp-dac-initializing\' : \'\'}"><span if.bind="SelectedDAC===\'Not found\'"><div class="qp-dac-not-found-icon"><qp-icon imagesrc="svg:main@ladderFromWell"></qp-icon></div><div class="qp-dac-not-found">${Msg.DACIsNotFound}</div><div class="qp-dac-apologies">${Msg.DACIsNotFoundApologies}</div></span><span if.bind="SelectedDAC===\'Uninitialized\'">${Msg.WaitForInitialization}</span> <span if.bind="SelectedDAC===undefined">${Msg.DACBrowserWelcomeText}</span></div></div><pre else innerhtml="${TextContent}" class="qp-dac-sql" click.delegate="processClickInTextMode($event)">\r\n\t</pre><div if.bind="WaitForData" class="qp-dac-browser qp-dac-busy"></div></template>'},"apps/dac-browser/qp-dac-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-dac-browser.css"></require><require from="../../controls/dialog/base-dialog/base-dialog.css"></require><ux-dialog class="dialog qp-dac-dialog qp-dialog non-responsive-dialog"><ux-dialog-header class="qp-dac-title" show-close-button.bind="false"><span>${data.name}</span> <span class="qp-dac-type">${Msg.Field}</span> <span class="qp-dac-box qp-dac-obsolete" if.bind="data.isObsolete">${Msg.Obsolete}<qp-tooltip>${Msg.ObsoleteFieldTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-internalApi" if.bind="data.isInternalApi">${Msg.InternalApi}<qp-tooltip>${Msg.InternalApiTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-hidden" if.bind="!data.existsInDb">${Msg.Virtual}<qp-tooltip>${Msg.VirtualFieldTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-udf" if.bind="data.kind === \'udf\'">${Msg.UDF}<qp-tooltip>${Msg.UDFTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-nvp-field" if.bind="data.kind === \'nameValuePair\'">${Msg.NameValuePairField}<qp-tooltip>${Msg.NameValuePairFieldTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-field-default-navigation" if.bind="data.hasDefaultNavigation">${Msg.DefaultNavigation}<qp-tooltip>${Msg.DefaultNavigationTooltip}</qp-tooltip></span><span class="qp-dac-box qp-dac-customized" if.bind="data.dacFieldExtensions.length>0">${Msg.Customized}</span><div class="spacer"></div><qp-icon class="qp-dialog-close" imagesrc="svg:main@close" click.delegate="hide()"></qp-icon></ux-dialog-header><ux-dialog-body><div class="qp-dac-field-row" if.bind="data.displayName"><span class="qp-dac-label">${Msg.DisplayName}:</span> <span class="qp-dac-info">${data.displayName}</span></div><div class="qp-dac-field-row"><span class="qp-dac-label">${Msg.DAC}:</span> <span class="qp-dac-info">${data.dacName}</span></div><div class="qp-dac-field-row"><span class="qp-dac-label">${Msg.Type}:</span> <span class="qp-dac-info">${data.sqlType}</span></div>\x3c!-- CUSTOMIZATION --\x3e<div class="qp-dac-field-row" if.bind="data.dacFieldExtensions.length"><span class="qp-dac-label">${Msg.AppliedCustomization}:</span> <span class="qp-dac-info"><template repeat.for="extension of data.dacFieldExtensions"><span>${extension.customizationType === "created" ? Msg.Created+\' \' :\'\'}${extension.extensionName} (${extension.assemblyName}<template if.bind="extension.customizationProject">&#160;from&#32; <a if.bind="extension.customizationProject._links.self" href="javascript:void%200" click.delegate="parent.openLinkInPopup(extension.customizationProject.name, extension.customizationProject._links.self)">${extension.customizationProject.name}</a><template else>${extension.customizationProject.name}</template></template>)${$last ? \'\' : \',&#160;\'}</span> &#32;</template></span></div><div class="qp-dac-field-row" show.bind="data.foreignDacReferences && data.foreignDacReferences.length"><span class="qp-dac-label">${Msg.ForeignReference}:</span> <span class="qp-dac-info"><template repeat.for="ref of data.foreignDacReferences"><a class="qp-dac-ref" href="${ref.foreignDac._links.self}" click.delegate="hide()">${ref.foreignDac.name}</a>${$last ? \'\' : \',&nbsp; \'}</template></span></div><div class="qp-dac-description" if.bind="data.documentation.summary"><div class="qp-dac-header">${Msg.Summary}</div><p>${data.documentation.summary}</p></div><div class="qp-dac-description" if.bind="data.documentation.value"><div class="qp-dac-header">${Msg.Value}</div><p>${data.documentation.value}</p></div><div class="qp-dac-description" if.bind="data.documentation.remarks"><div class="qp-dac-header">${Msg.Remarks}</div><p>${data.documentation.remarks}</p></div><div class="qp-dac-field-row" if.bind="data.dacExtensions.length>0"><span class="qp-dac-label">${Msg.Customized}:</span> <span class="qp-dac-info"><span repeat.for="ext of data.dacExtensions">${ext.extensionName}</span></span></div></ux-dialog-body></ux-dialog></template>'},"apps/dac-browser/qp-dac-text-popup.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="../../controls/dialog/base-dialog/base-dialog.css"></require><require from="./qp-dac-browser.css"></require><ux-dialog class="dialog qp-dac-dialog qp-dialog"><ux-dialog-header class="qp-dac-title" show-close-button.bind="false"><span>${params.name}</span> <span class="qp-dac-type">${params.title}</span><div class="spacer"></div><qp-icon class="qp-tab-opener" imagesrc="svg:main@external" click.delegate="openInNewTab()"></qp-icon><qp-icon class="qp-dialog-close" imagesrc="svg:main@close" click.delegate="hide()"></qp-icon></ux-dialog-header><ux-dialog-body><div class="qp-dac-sql" click.delegate="processClick($event)" innerhtml="${params.text | removeSCRIPT}"></div></ux-dialog-body></ux-dialog></template>'},"apps/db-router/db-router.html":function(e,n,r){"use strict";r.r(n);n.default="<template>\x3c!-- ${router.currentInstruction.params.link} |${router.currentInstruction.params.section}| --\x3e<router-view></router-view></template>"},"apps/enhance/controls/calendar/acmevent-calendar.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="@bryntum/calendar/calendar.stockholm.css"></require><require from="./acmevent-calendar.css"></require></template>'},"apps/enhance/controls/payment/qp-giftcard.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-giftcard.css"></require><div class="gcpayment-form-background"></div><div ref="paymentForm" id="dvpayment-form" class="gcpayment-form" keydown.capture="keyDown($event)"><div ref="headerForDrag" mousedown.trigger="mouseDown($event)"><label class="gcpayment-form-label">${title}</label> <i class="ac ac-close ac-pull-right" title="${ClosePaymentFormToolTip}" click.delegate="cancelAndClosePaymentForm()"></i></div><div id="gcLoader" class="${(showloader) ? \'gcLoader\': \'\'}"><div class="${(showloader) ? \'spinner\': \'\'}"></div></div><div id="additional-payment-info1" class="gcadditional-payment-info"><div id="paymentTotaldue-info"><label>${PaymentAmountCaption}</label><div><input class="gcpayment-form-input RighAlignElement LabelLikeElement" type="text" value.bind="paymentAmount" disabled="disabled"></div></div></div><div class="gcpayment-card"><div id="cardfrontdiv" class="gccard-front"><div><label ref="cardNumberLabel">${GiftCardNbrCaption}</label><div><input ref="cardNumber" id="edcardNumber" class="gcpayment-form-input GiftCardElement" type="text" maxlength="15" value.bind="cardData.cardNumber" autocomplete="off"></div></div><div class="card-pin"><label ref="cardPinLabel">${GiftCardPINCaption}</label><div><input ref="cardPIN" id="edcardPIN" class="gcpayment-form-input GiftCardPINElement" width="50" type="text" maxlength="6" value.bind="cardData.cardPIN" autocomplete="off"></div></div></div></div><div id="additional-payment-info2" class="gcadditional-payment-info"><div><label>${GiftCardBalanceCaption}</label><div><input ref="balanceInfo" class="gcpayment-form-input RighAlignElement LabelLikeElement gcbalance-info-hidden" type="text" value.bind="cardData.amountBalance" disabled="disabled"> <button ref="balanceButton" id="gcbalance-button" class="gcbalance-button">${GetBalanceButtonCaption}</button></div></div></div><div class="gcform-errors ${(errors == \'\') ? \'gcpayment-errors-hidden\': \'\'} ${(iswarning) ? \'gcform-warning\': \'\'}"><i class="ac ac-warning"></i><div id="gccard-errors">${errors}</div></div><div class="${(hidePartial) ? \'gcbalance-info-hidden\' : \'\'}" style="margin-top:20px !important"><label style="display:block !important"><input ref="acceptPartialPayment" id="chkacceptPartialPayment" type="checkbox" checked.bind="cardData.acceptPartialPayment" style="vertical-align: top !important; margin-top: 1px;"> <span style="vertical-align: middle !important;">${AdjsutPaymentToCaption} ${cardData.amountBalance}</span></label></div><button ref="payButton" id="gcpay-button" disabled="disabled" class="gcpay-button">${buttonCaption} ${sum} ${currency}</button></div></template>'},"apps/enhance/controls/qp-gauge.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-gauge.css"></require><div class="qp-gauge" ref="gaugeElement" id="${config.id}"></div></template>'},"apps/enhance/controls/qp-plugin-service.html":function(e,n,r){"use strict";r.r(n);n.default='<template id="${config.id}" class="${config.class}"><require from="./qp-plugin-service.css"></require><button class="pluginServiceButton pluginServiceHidden" click.delegate="openPluginForm()">Custom pay</button><div ref="root"></div></template>'},"apps/enhance/controls/qp-tabbed-tree-selector.html":function(e,n,r){"use strict";r.r(n);n.default='<template><div class="qp-tabbed-tree-selector"><qp-tabbar config.bind="{id: config.treeSelectorId}"><qp-tab id="grid" if.bind="gridConfig" caption.bind="config.selectorTabTitle"><qp-grid id="${config.treeSelectorId}_grid" class="qp-tabbed-tree-selector-tab" config.bind="gridConfig" on-active-row-changed.call="rowChanged(args)" on-default-action.call="selected(args)" on-action.call="selected(args)" dblclick.delegate="selected(args)" view-model.ref="gridVM"><div slot="externalToolbar"><qp-button config.bind="okConfig" click.trigger="gridSelect(preselectedValue)"></qp-button></div></qp-grid></qp-tab><qp-tab id="tree" caption.bind="config.treeTabTitle"><qp-tree value.two-way="treeValue" view-model.ref="tree" class="qp-tabbed-tree-selector-tab" config.bind="treeConfig"></qp-tree></qp-tab></qp-tabbar></div></template>'},"apps/enhance/controls/qp-text-editor-autocomplete.html":function(e,n,r){"use strict";r.r(n);n.default='<template css="display: ${config.hidden ? \'none\': \'\'};"><require from="./qp-text-editor-autocomplete.css"></require><input type="text" ref="elemText" value.to-view="value" class="visuallyhidden" id="${config.id}" tabindex="-1" name="${config.name}" update.delegate="inputAction($event)"><div contenteditable="true" tabindex="${config.tabIndex}" class="main ${config.class}" ref="main" keydown.capture="keyDownExtraAction($event)" blur.capture="blurAction($event)" update.delegate="inputAction($event)" keydown.delegate="keyDownAction($event)" keyup.delegate="keyUpAction($event)" textcontent="${value}"></div><div class="ttip" ref="tooltip" aria-hidden="true" show.bind="tooltipShow"><div class="ttip-item" repeat.for="w of trieWords" click.delegate="ttipItemClick($event, w)"><span class="ttip-item-text" innerhtml="${w}"></span> <span id="indexHint" show.bind="w == autocompleteWord"></span></div></div></template>'},"controls/abstract/screen-base-view-model/screen-base-view-model.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./screen-base-view-model.css"></require></template>'},"controls/compound/address-lookup/qp-address-lookup.html":function(e,n,r){"use strict";r.r(n);n.default='<template id="${config.id}" show.bind="!config.hidden"><require from="./qp-address-lookup.css"></require><qp-button config.bind="btnAddressLookupConfig" class="btn-address-lookup" click.delegate="processAddressLookupClick($event)"></qp-button><qp-panel id="addresslookup_mapdialog" config.bind="mapdialogConfig"><div class="flex-container"><div class="flex-item" style="height: inherit;"><div class="mapcontainer" id="mapContainer" ref="mapContainer" style="height: inherit;"></div><div id="searchBoxContainer" class="customNavBar"><qp-text-editor ref="searchBox" config.bind="txtNameConfig"></qp-text-editor></div></div></div><footer><qp-button click.delegate="ok()" config.bind="saveButtonConfig"></qp-button><qp-button config.bind="cancelButtonConfig"></qp-button></footer></qp-panel><qp-panel id="addresslookup_mapdialog_notconf" config.bind="mapdialogConfig"><div class="flex-container-notconf">${msg.AddressLookupMapIsNotConfigured}</div></qp-panel></template>'},"controls/compound/grid/dialogs/columns-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="../../../styles.scss"></require><require from="../../../dialog/base-dialog/base-dialog.css"></require><require from="./columns-dialog.css"></require><require from="../elements/qp-filter-box"></require><ux-dialog class="dialog columns-dialog" id="${config.id}"><ux-dialog-body><qp-filter-box ref="elemFilterBox" on-filter.call="processInput(filter)" filter.two-way="search" highlight-text.bind="false"></qp-filter-box><div class="cols-list" ref="elemColsList" selectstart.delegate="processSelectStart($event)"><div repeat.for="col of columns" draggable.bind="search ? null : true & attr" if.bind="visibleChangeAllowed(col) || col.visible" class="${getDragOverClass(col, dragInfo ? dragInfo.targetIndex : null)}" mouseup.delegate="processColClick($event, col)" dragstart.delegate="processDragStart($event, col)" dragover.delegate="processDragOver($event, col)" drop.delegate="processDrop($event, col)" dragleave.delegate="processDragLeave($event)"><i class="ac drag-icon ac-more_vert"></i> <i class="ac ac-check_box${col.tag.visible ? \'\' : \'_outline_blank\'} ${!visibleChangeAllowed(col) ? \'visible-fixed\' : \'\'}"></i> <span class="field-name">${col.caption || col.field || col.key}</span> <span if.bind="config.allowSkipTabs && col.tag.visible" class="tab-switch ac ac-2x ac-Tab${col.tag.skipTab ? \'Off\' : \'On\'}" mouseup.delegate="processSkipTabClick($event, col)"></span></div></div></ux-dialog-body><ux-dialog-footer><qp-button id="${config.id}_reset" click.trigger="controller.ok(\'reset\')" config.bind="resetConfig" style="float:left">${msg.Reset}</qp-button><qp-button id="${config.id}_ok" click.trigger="controller.ok(config.columns)" config.bind="okConfig">${msg.Confirm}</qp-button><qp-button id="${config.id}_cancel" click.trigger="controller.cancel()" config.bind="cancelConfig">${msg.Cancel}</qp-button></ux-dialog-footer></ux-dialog></template>'},"controls/compound/grid/dialogs/columns-list-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="../../../styles.scss"></require><require from="../../../dialog/base-dialog/base-dialog.css"></require><require from="./columns-list-dialog.css"></require><require from="../elements/qp-filter-box"></require><ux-dialog class="dialog columns-list-dialog" id="${config.id}_columns_list"><ux-dialog-body><div class="header"><span>${msg.GridAddQuickFilter}</span> <a if.bind="config.showAdvancedLink" href="javasript:void 0" click.trigger="controller.ok(true)" tabindex="-1">${msg.GridAdvanced}</a></div><div class="filter-container"><qp-filter-box on-filter.call="processFilter(filter)" ref="elemFilterBox" filter.two-way="search" highlight-text.bind="false"></qp-filter-box></div><div if.bind="columns.length" class="cols-list" selectstart.delegate="processSelectStart($event)"><div repeat.for="col of columns" if.bind="col.allowFilter" click.delegate="processColClick($event, col)"><span class="field-name">${col.caption || col.field || col.key}</span></div></div><div else class="empty-message">${msg.Format(msg.EmptySearchMessage1, search)}.</div></ux-dialog-body></ux-dialog></template>'},"controls/compound/grid/dialogs/filter-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="../../../styles.scss"></require><require from="../../../dialog/base-dialog/base-dialog.css"></require><require from="./filter-dialog.css"></require><ux-dialog class="dialog filter-dialog" id="${config.id}"><ux-dialog-body><div class="sorts-and-filters" mousedown.delegate="preventFocus($event)" selectstart.delegate="preventSelection($event)"><div class="items-list" if.bind="config.showSortItems"><div click.delegate="processSortClick($event, 1)" data-cmd="SA"><qp-icon imagesrc="svg:main@sortAsc"></qp-icon><i class="ac control-MenuCheck align-right" if.bind="col.sortDirection == 1"></i><div class="text">${msg.GridSortAsc}</div></div><div click.delegate="processSortClick($event, 2)" data-cmd="SD"><qp-icon imagesrc="svg:main@sortDesc"></qp-icon><i class="ac control-MenuCheck align-right" if.bind="col.sortDirection == 2"></i><div class="text">${msg.GridSortDesc}</div></div></div><div class="separator" if.bind="config.showSortItems"><div>&nbsp;</div></div><div class="items-list clear-filter"><div if.bind="config.showRemoveItem" click.delegate="processRemoveClick($event)"><i class="ac ac-delete"></i><div class="text">${msg.RemoveFilter}</div></div><div class="clear-filter ${hasFilter ? \'\' : \'disabled\'}" click.delegate="processClearClick($event)" data-cmd="Clear"><i class="ac ac-close"></i><div class="text">${msg.ClearFilter}</div></div></div><div class="separator"><div>&nbsp;</div></div><div class="items-list conditions" if.bind="!hasValueItems"><div repeat.for="cond of conditions" click.delegate="processConditionClick($event, cond.value)" data-cmd="${cond.value}"><i class="ac control-MenuCheck" if.bind="(isBoolean && filter.value == cond.value) || filter.condition == cond.value"></i><div class="text">${cond.text}</div></div></div><div class="items-list select-all" if.bind="hasValueItems"><div click.delegate="processSelectClick()" data-cmd="SelectAll"><i class="ac ac-${selectionIcon}"></i><div class="text">${msg.GridSelectAll}</div></div></div><div class="separator" if.bind="hasValueItems"><div>&nbsp;</div></div><div class="items-list items" if.bind="hasValueItems"><div repeat.for="item of items" click.delegate="processItemClick($event, item)"><i class="ac ac-${item.selected ? \'check_box_filled\' : \'check_box_outline_blank\'}"></i><div class="text">${item.text || item.value || \'&nbsp;\'}</div></div></div></div><div class="editors" if.bind="!hasValueItems && !isBoolean" ref="elemEditorsCont"><let label-text.bind="isBetween ? msg.GridFrom : msg.GridValue"></let><qp-mask-editor if.bind="isString && !isSelector" value.two-way="filter.value" config.bind="txtConfig"></qp-mask-editor><qp-selector if.bind="isSelector" value.two-way="selectorValue" state.bind="selectorState" config.bind="selectorConfig"></qp-selector><div class="label-cont" if.bind="isNumeric"><label for="filter_dialog_num1">${labelText}</label><qp-number-editor value.two-way="filter.value" config.bind="numConfig1"></qp-number-editor></div><div class="label-cont second" if.bind="isNumeric && isBetween"><label for="filter_dialog_num2">${msg.GridTo}</label><qp-number-editor value.two-way="filter.value2" config.bind="numConfig2"></qp-number-editor></div><div class="label-cont" if.bind="isDateTime"><label for="filter_dialog_date1">${labelText}</label><qp-datetime-edit value.two-way="filter.value" config.bind="dateConfig1"></qp-datetime-edit></div><div class="label-cont second" if.bind="isDateTime && isBetween"><label for="filter_dialog_date2">${msg.GridTo}</label><qp-datetime-edit value.two-way="filter.value2" config.bind="dateConfig2"></qp-datetime-edit></div></div></ux-dialog-body><ux-dialog-footer><qp-button click.trigger="controller.ok()" config.bind="okConfig" id="${config.id}_ok" class="major-button"></qp-button><qp-button click.trigger="controller.cancel()" config.bind="cancelConfig" id="${config.id}_cancel"></qp-button></ux-dialog-footer></ux-dialog></template>'},"controls/compound/grid/dialogs/filter-editor-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="../qp-filter-editor"></require><qp-panel id="${config.id}" caption.bind="msg.GridAdvFilter" width="620px" height="360px"><qp-filter-editor filter-rows.bind="filterRows" columns.bind="config.columns" id="${config.id}_body"></qp-filter-editor><footer><qp-button click.trigger="currentDialog.ok(filterRows)" config.bind="okConfig" class="major-button"></qp-button><qp-button click.trigger="currentDialog.cancel()" config.bind="cancelConfig"></qp-button></footer></qp-panel><template></template></template>'},"controls/compound/grid/dialogs/filter-setup-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="../../../dialog/base-dialog/base-dialog.css"></require><qp-panel id="${config.id}" caption.bind="config.saveAs ? msg.GridSaveFilterAs : msg.GridSaveFilter" width="420px"><div class="stack-vert" ref="elemContent"><div class="label-group"><label for.bind="txtNameConfig.id">${msg.GridName}</label><qp-text-editor config.bind="txtNameConfig" value.two-way="filter.filterName" input.delegate="processNameInput($event)"></qp-text-editor></div><div class="empty-label-group"><qp-check-box config.bind="chkSharedConfig" value.two-way="filter.isShared"></qp-check-box></div><div class="empty-label-group"><qp-check-box config.bind="chkDefaultConfig" value.two-way="filter.isDefault"></qp-check-box></div></div><footer><qp-button click.trigger="currentDialog.ok(filter)" config.bind="okConfig" class="major-button"></qp-button><qp-button click.trigger="currentDialog.cancel()" config.bind="cancelConfig"></qp-button></footer></qp-panel></template>'},"controls/compound/grid/dialogs/filters-list-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="../../../styles.scss"></require><require from="../../../dialog/base-dialog/base-dialog.css"></require><require from="./filters-list-dialog.css"></require><require from="../elements/qp-filter-box"></require><ux-dialog class="dialog filters-list-dialog" id="${config.id}"><ux-dialog-body><div class="filter-container"><qp-filter-box ref="elemFilterBox" on-filter.call="processInput(filter)" filter.two-way="search" highlight-text.bind="false"></qp-filter-box></div><div if.bind="filters.length" class="filters-list" ref="elemFiltersList" selectstart.delegate="processSelectStart($event)"><template repeat.for="fh of filters"><div class="${fh.filterID == config.filterId ? \'selected\' : \'\'}" allrecords.bind="isClientFilter(fh.filterID) ? true : null & attr" mouseup.delegate="processFilterClick($event, fh)"><i class="ac fav-icon ${fh.isFavorite ? \'ac-star fav-on\' : \'ac-star_border\'}" mouseup.delegate="processFavoriteClick($event, fh)"></i> <span class="filter-name">${fh.filterName || fh.filterID}</span><qp-icon if.bind="fh.isShared" class="shared-icon" imagesrc="svg:main@multiEmployee"></qp-icon></div><div class="separator" if.bind="$index == 0 && filters.length > 1"><div>&nbsp;</div></div></template></div><div else class="empty-message">${msg.Format(msg.EmptySearchMessage1, search)}.</div></ux-dialog-body></ux-dialog></template>'},"controls/compound/grid/dialogs/import-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./import-dialog.css"></require><require from="../../../container/fieldset/inline-view"></require><qp-wizard id="import-wizard_${activeTabId}" config.bind="wizardConfig" active-tab-id.two-way="activeTabId" nexttab.trigger="nextTab($event)" prevtab.trigger="prevTab($event)"><qp-tab id="${UPLOAD_TAB}" caption="${Messages.FileUploadCaption}"><div class="stretch" if.bind="activeTabId === UPLOAD_TAB"><div class="error-message" if.bind="!!errorMessage"><qp-icon class="qp-status-icon" imagesrc="svg:main@errorExclamation"></qp-icon><span>${errorMessage}</span></div><qp-multi-upload config.bind="uploaderConfig" fileloaded.trigger="afterUploaded($event)"><div if.bind="!!fileUploaded" class="file-label"><div class="file-label-text">${fileUploaded}</div><qp-icon class="qp-dialog-close" imagesrc="svg:main@close" click.delegate="clearUploaded()"></qp-icon></div><div else>${Messages.UploadFileCaption} (${uploaderFiles})</div></qp-multi-upload></div></qp-tab><qp-tab id="${SETTINGS_TAB}" caption="${Messages.CommonSettingsCaption}"><div class="stretch" if.bind="activeTabId === SETTINGS_TAB"><inline-view template.bind="settingsTemplate" context.bind="screenModel"></inline-view></div></qp-tab><qp-tab id="${COLUMNS_TAB}" caption="${Messages.ColumnsCaption}"><div class="v-stack" if.bind="activeTabId === COLUMNS_TAB"><qp-label-light caption.bind="ImportMessages.MapPropertiesToColumns"></qp-label-light><inline-view template.bind="columnsTemplate" context.bind="screenModel"></inline-view></div></qp-tab></qp-wizard></template>'},"controls/compound/grid/elements/qp-filter-box.html":function(e,n,r){"use strict";r.r(n);n.default='<template id="${id}" class="filter-box ${editMode ? \'focus\' : \'\'} ${hasText ? \'has-filter\' : \'\'}"><require from="./qp-filter-box.css"></require><div><input type="text" class="text" placeholder="${Msg.Search}" value.bind="filter" ref="elemText" focus.trigger="processFocus($event)" blur.trigger="processBlur($event)" keydown.delegate="processKeyDown($event)" input.delegate="applyFastFilter($event.target.value) & debounce:500" id="${id}_text"><qp-icon imagesrc="svg:main@search"></qp-icon></div></template>'},"controls/compound/grid/elements/qp-filter-button.html":function(e,n,r){"use strict";r.r(n);n.default='<template class="filter-button ${hasFilter ? \'filtered\' : \'\'}" click.delegate="processClick($event)" data-cmd="${config.column.field}" mouseenter.trigger="processMouseEnter($event)" mouseleave.trigger="processMouseLeave($event)"><require from="../../../styles.scss"></require><require from="./qp-filter-button.css"></require><div class="content" css="visibilty: ${showExpanded ? \'hidden\' : \'\'}"><span class="text" ref="elemText">${config.column.caption || config.filter.field}${isComparisonOperator ? \'\' : \':\'} ${config.filter.text} </span><i class="ac ac-close" click.delegate="processRemoveClick($event)"></i></div><div class="extended-button" if.bind="showExpanded"><div class="content"><span class="text">${config.column.caption || config.filter.field}${isComparisonOperator ? \'\' : \':\'} ${config.filter.text} </span><i class="ac ac-close" click.delegate="processRemoveClick($event)"></i></div></div></template>'},"controls/compound/grid/elements/qp-filter-combo.html":function(e,n,r){"use strict";r.r(n);n.default='<template id="${id}" class="filter-combo ${isClientFilter(filterId) ? \'\': \'filtered\'}" click.delegate="processClick($event)"><require from="../../../styles.scss"></require><require from="./qp-filter-combo.css"></require><span class="text">${activeFilter.filterName || activeFilter.filterID}</span> <i class="ac ac-keyboard_arrow_down"></i></template>'},"controls/compound/grid/elements/qp-filter-node.html":function(e,n,r){"use strict";r.r(n);n.default='<template class="filter-node"><require from="./qp-filter-node.css"></require><require from="./qp-filter-button"></require><template repeat.for="item of node.items"><div if.bind="isFilterNode(item)" class="node-container" mouseenter.trigger="processMouseEnter($event, item)" mouseleave.trigger="processMouseLeave($event, item)"><div class="btn-brackets" show.bind="!$last && node.items.length > 2" click.delegate="processBracketsNodeClick(item)"><i class="ac ac-keyboard_arrow_right"></i></div><div class="left-actions"><div class="btn-delete-brackets" click.delegate="processDeleteBracketsClick(item)"><i class="ac ac-keyboard_arrow_left"></i></div><div class="btn-condition" show.bind="!$last" click.delegate="processConditionNodeClick(item)"><span class="text ${item.orOperator ? \'or\' : \'\'}">${item.orOperator ? \'OR\' : \'AND\'}</span></div></div><div class="left-bracket">&nbsp;</div><qp-filter-node node.bind="item" columns.bind="columns" id.bind="id" on-hierarchy-changed.call="processHierarchyChanged()" on-filter-row-delete.call="processConditionDelete(filter)" on-filter-node-delete.call="processNodeDelete(node)" on-filter-row-insert.call="processFilterRowInsert(filter, col, closeBrackets)" on-node-mouse-move.call="processNodeMouseMove(elem, mouseLeave)"></qp-filter-node><div class="right-bracket">&nbsp;</div><div class="right-actions"><div class="btn-delete" click.delegate="processDeleteNodeClick(item)"><i class="ac ac-delete"></i></div><div class="btn-new" click.delegate="processNewItemNodeClick($event, item)"><i class="ac ac-add"></i></div></div></div><div else class="button-container"><let col.bind="getColumn(item.field)"></let><div class="btn-brackets" show.bind="!$last && node.items.length > 2" click.delegate="processBracketsClick(item)"><i class="ac ac-keyboard_arrow_right"></i></div><div class="btn-condition" show.bind="!$last" click.delegate="processConditionClick(item)"><span class="text ${item.orOperator ? \'or\' : \'\'}">${item.orOperator ? \'OR\' : \'AND\'}</span></div><qp-filter-button config.bind="{id: id, filter: item, column: col, showRemoveItem: true, showSortItems: false}" on-filter.call="processFilterRowApplied(col, filter, item)" on-filter-remove.call="processFilterRowDeleted(col, item)" class="large"></qp-filter-button><div class="btn-new" click.delegate="processNewItemClick($event, item)"><i class="ac ac-add"></i></div></div></template></template>'},"controls/compound/grid/elements/qp-numeric-pager.html":function(e,n,r){"use strict";r.r(n);n.default='<template class="numeric-pager"><require from="./qp-numeric-pager.css"></require><qp-number-editor class="page-editor" fixed-width fixed-height value.two-way="value" config.bind="numConfig"></qp-number-editor><label for.bind="id">${Msg.Format(Msg.GridPagesCount, pagesCount.toString())}</label></template>'},"controls/compound/grid/qp-filter-bar.html":function(e,n,r){"use strict";r.r(n);n.default='<template class="filter-bar"><require from="./qp-filter-bar.css"></require><require from="./elements/qp-filter-box"></require><require from="./elements/qp-filter-button"></require><require from="./elements/qp-filter-combo"></require><require from="./dialogs/filter-setup-dialog"></require><require from="./dialogs/filter-editor-dialog"></require><qp-filter-setup-dialog view-model.ref="filterSetupVM"></qp-filter-setup-dialog><qp-filter-editor-dialog view-model.ref="filterEditorVM"></qp-filter-editor-dialog><div class="filters-headers" if.bind="!config.hideHeaders"><div class="headers-wrap"><ul><li repeat.for="f of filters" class="${filterId == f.filterID ? \'selected\' : \'\'}" click.delegate="processFilterHeaderClick($event, f)">${f.filterName}</li></ul></div><div class="filter-box-wrap"><qp-filter-box if.bind="config.showFastFilter" filter.bind="fastFilter2" view-model.ref="fastFilterVM" on-filter.call="processFastFilter(filter)" on-key-down.call="processFastFilterKeyDown(ev)"></qp-filter-box></div></div><div class="filters-strip-cont"><div class="filters-strip" css="flex-wrap: ${!filterText ? \'wrap\' : \'nowrap\'}" ref="elemFiltersWrap" dragleave.delegate="processDragLeave($event)" drop.delegate="processDrop($event)" dragover.delegate="processDragOverBar($event)"><qp-filter-combo id="${config.id}_fc" filter-id.two-way="filterId" filters.bind="filters" if.bind="config.allowStoredFilters" on-favorite-changed.call="processFilterFavoriteChanged(filterID, isFavorite)" on-filters-order-changed.call="onFiltersOrderChanged()"></qp-filter-combo><qp-filter-button if.bind="!filterText" repeat.for="fr of filterRows" config.bind="{filter: fr, id: config.id, column: getColumn(fr.field), showRemoveItem: true}" on-filter.call="onFilterRowApplied(col, filter)" on-sort.call="onSortApplied(col, sort)" on-filter-remove.call="onFilterRowDeleted(col)" draggable="true" dragstart.delegate="processDragStart($event, fr)" dragover.delegate="processDragOver($event, fr)"></qp-filter-button><qp-button if.bind="!filterText && filterRows != null" ref="elemAddFilterBtn" class="add-filter" config.bind="btnAddFilterConfig" click.delegate="processAddFilterClick($event)"></qp-button>\x3c!-- <div class="filter-drop-tip">\r\n\t\t\t\t${msg.GridDropColumnTip}\r\n\t\t\t</div> --\x3e<div if.bind="filterText" class="advanced-filter"><div class="filter-button filtered" click.delegate="showAdvancedFilter()"><div class="content"><span class="text" innerhtml.bind="filterText | removeSCRIPT"></span> <i class="ac ac-keyboard_arrow_down"></i></div></div></div><qp-button config.bind="btnSaveConfig" if.bind="config.allowStoredFilters" click.delegate="processSaveFilter($event)"></qp-button><qp-menu config.bind="btnFilterSaveConfig" class="save-menu" if.bind="config.allowStoredFilters" menuselected.delegate="processFilterMenu($event)"></qp-menu><i class="ac control-RedArrowDown arrow-down" ref="elemArrowDown" show.bind="showDragArrows"></i> <i class="ac control-RedArrowUp arrow-up" ref="elemArrowUp" show.bind="showDragArrows"></i></div><div class="filter-box-wrap" if.bind="config.showFastFilter"><qp-filter-box id="${config.id}_fb" filter.bind="fastFilter" view-model.ref="fastFilterVM" on-filter.call="processFastFilter(filter)" on-key-down.call="processFastFilterKeyDown(ev)"></qp-filter-box></div></div></template>'},"controls/compound/grid/qp-filter-editor.html":function(e,n,r){"use strict";r.r(n);n.default='<template class="filter-editor" id="${id}"><require from="./qp-filter-editor.css"></require><require from="./elements/qp-filter-node"></require><qp-filter-node if.bind="filterRows.length" id.bind="id" node.bind="rootNode" columns.bind="columns" on-hierarchy-changed.call="processHierarchyChanged()" on-filter-row-delete.call="processFilterRowDelete(filter)" on-filter-node-delete.call="processFilterNodeDelete(node)" on-filter-row-insert.call="processFilterRowInsert(filter, col, closeBrackets)" on-node-mouse-move.call="processNodeMouseMove(elem, mouseLeave)"></qp-filter-node><div class="btn-new" else click.delegate="processNewItemClick($event)"><i class="ac ac-add"></i></div></template>'},"controls/compound/grid/qp-grid.html":function(e,n,r){"use strict";r.r(n);n.default='<template id="${config.id}" css="display: ${config.hidden ? \'none\': \'\'};" class="grid ${config.autoGrowInHeight ? (config.autoGrowInHeight == 2 ? \'auto-grow-fill\' : \'auto-grow-fit\') : \'\'}"><require from="./qp-grid.css"></require><require from="./qp-filter-bar"></require><require from="./elements/qp-filter-box"></require><require from="./elements/qp-numeric-pager"></require><require from="../system-menu/qp-files-dialog"></require><qp-files-dialog if.bind="!config.suppressNoteFiles && hasFilesColumn" view-model.ref="filesDialogVM" config.bind="filesDialogConfig"></qp-files-dialog><qp-note-dialog if.bind="!config.suppressNoteFiles" view-model.ref="noteDialogVM" config.bind="noteDialogConfig" view.bind="noteDialogView"></qp-note-dialog><qp-caption if.bind="gridCaption" class="grid-caption" caption.bind="gridCaption"></qp-caption><div class="grid-top-bar"><div if.bind="config.showTopBar" class="grid-top-toolbar ${!!rightToolbarContainer ? \'empty\' : \'\'}"><div class="grid-left-toolbar-cont" ref="topBarCont" if.bind="!rightToolbarContainer"><qp-tool-bar config.bind="topBarConfig"></qp-tool-bar></div><div class="grid-right-toolbar-cont" portal="target.bind: rightToolbarContainer || topBarCont; position: afterend"><qp-button if.bind="isFilterBarAllowed && config.showFilterBar == 2" class="grid-filter-button ${hasFilter ? \'has-filter\' : \'\'}" config.bind="btnToggleFilterConfig" view-model.ref="btnToggleFilterVM" click.delegate="processToggleFilterClick($event)" mousedown.trigger="processToggleFilterMouseDown($event)"></qp-button><qp-filter-box if.bind="allowFastFilter && (config.showFastFilter == 1 || (!isFilterBarAllowed && config.showFastFilter == 2))" id="${config.id}_fb" filter.bind="fastFilter" view-model.ref="topBarFastFilter" on-filter.call="onFastFilter(filter)" on-key-down.call="onFastFilterKeyDown(ev)"></qp-filter-box></div></div><qp-filter-bar if.bind="isFilterBarAllowed && showFilterBar" view-model.ref="filterBarVM" drag-column.bind="dragInfo.column" fast-filter.bind="fastFilter" filter-id.two-way="filterID" filters.bind="filters" filter-rows.bind="filterRows" is-dirty-filter.two-way="isDirtyFilter" config.bind="filterBarConfig" on-sort-changed.call="onSortApplied(col, sort)" on-filter-changed.call="onFilterApplied(filter, filterID)" on-filter-save.call="onFilterSave(filter, createNew)" on-filter-remove.call="onFilterRemove(filterID)" on-filters-order-changed.call="onFilterOrderChanged()" on-filter-favorite-changed.call="onFilterFavoriteChanged(filterID, isFavorite)" on-filter-row-changed.call="onFilterRowApplied(col, filter)" on-filter-row-removed.call="onFilterRowRemoved(col)" on-rows-set-changed.call="onFilterRowsSetChanged(refresh)" on-fast-filter-key-down.call="onFastFilterKeyDown(ev)"></qp-filter-bar></div><div class="grid-resize-area" show.bind="resizeInfo != undefined" mousemove.delegate="processResizerMouseMove($event)" mouseup.delegate="processResizerMouseUp($event)" mouseleave.trigger="processResizerMouseLeave($event)"><div class="grid-resize-indicator" ref="elemResizeIndicator"></div></div><div class="grid-header ${hasVScroll ? \'scroll-margin\' : \'\'}" ref="elemHeader"><div class="grid-header-wrap" ref="elemHeaderWrap"><table ref="elemHeaderTable" if.bind="layoutLoaded" class="grid-header-table ${!config.markRequired ? \'remove-required\': \'\'}"><colgroup><col if.bind="config.showRowSelectors" class="row-selector-col"><col repeat.for="col of visibleCols" css="width: ${col.width ? (col.width + \'px\'): null};"></colgroup><thead><tr><th if.bind="config.showRowSelectors" class="row-selector" click.delegate="processHeaderCornerClick($event)">\x3c!-- <i class="ac control-LocalMenu"></i> --\x3e<qp-icon imagesrc="svg:main@setting"></qp-icon></th><th repeat.for="col of visibleCols" css="text-align:${getColAlign(col.textAlign)}" class="col-header ${col.textAlign == 3 ? \'align-right\' : \'\'} ${col.filter ? \'filtered\' : \'\'} ${col.required ? \'required\' : \'\'}" title.bind="col.toolTip & attr" key.bind="getColumnKey(col) & attr" mouseup.delegate="processHeadClick($event, col)" mouseover.delegate="processHeadMouseOver($event, col)" mousemove.delegate="processHeadMouseMove($event, col)" mouseout.delegate="processHeadMouseOut($event, col)" draggable="true" dragstart.delegate="processDragStart($event, col)" dragover.delegate="processDragOver($event, col)" drop.delegate="processDrop($event, col)" dragleave.delegate="processDragLeave($event)"><div if.bind="!col.allowCheckAll && col.caption" class="grid-header-text">${col.caption}</div><qp-icon if.bind="col.captionImage" imagesrc.bind="col.captionImage"></qp-icon><i if.bind="col.sortDirection > 0 || col.filter || (col == columnToFilter && !col.allowCheckAll && col.allowFilter)" fs-icon class="ac ${col == columnToFilter ? \'control-ArrowDown\' : getColHeaderIcon(col.sortDirection, col.filter)}"></i> <i if.bind="col.allowCheckAll" ch-icon class="ac control-Grid${col.checked ? \'Check\' : \'Uncheck\'}" mouseup.delegate="processCheckAllClick($event, col)"></i></th></tr></thead></table><div class="grid-resize-handle" ref="elemResizeHandle" mousedown.delegate="processResizerMouseDown($event)">&nbsp;</div></div><i class="ac control-RedArrowDown arrow-down" ref="elemArrowDown" show.bind="showDragArrows"></i> <i class="ac control-RedArrowUp arrow-up" ref="elemArrowUp" show.bind="showDragArrows"></i></div><div class="grid-content"><qp-loader-indicator show.bind="loadingStatus != \'in-sync\'" loading-state.bind="loadingStatus" style="position: absolute;bottom:0;left:0;right:0;height:5px;"></qp-loader-indicator><qp-tooltip rule.bind="\'*[data-tooltip]\'"></qp-tooltip><div class="grid-content-wrap" scroll.trigger="processRowsScroll($event)" ref="elemContentWrap" tabindex="${config.tabIndex}" keydown.delegate="processKeyDown($event)" focus.trigger="processFocus($event)" selectstart.delegate="processSelectStart($event)" dblclick.delegate="processContentWrapDblClick($event)"><table ref="elemRows" if.bind="rows != null" class="grid-content-table" css="visibility: ${!rows || rows.length == 0 ? \'hidden\' : \'\'}; display: ${rowsHidden ? \'none\' : \'\'}"><colgroup><col if.bind="config.showRowSelectors" class="row-selector-col"><col repeat.for="col of visibleCols" css="width: ${col.width ? (col.width + \'px\'): null};"></colgroup><tbody><tr virtual-repeat.for="r of rows" data-index="${$index}" matcher.bind="matchRows" infinite-scroll-next="getMoreRows" class="${$odd ? \'alt-row\' : \'\'} ${getRowCss($index, r.styleChanged)}" css="visibility: ${r.fake ? \'hidden\' : \'\'}"><td if.bind="config.showRowSelectors" class="row-selector" click.delegate="processRowSelectorClick($event, r)" data-tooltip.bind="r.error" data-error-level.bind="r.errorLevel"><span class="cell-error-info" if.bind="!!getRowErrorLevel(r.error, r.errorLevel, true)" data-tooltip.bind="getRowErrorText(r.error, r.errorLevel, true)" data-error-level.bind="getRowErrorLevel(r.error, r.errorLevel, true)"></span> <i class="ac control-${getRowSelectorImage(editMode, $index, r.status, r.error, r.errorLevel)}" if.bind="r.isActive || (!!r.status && !isMassUpdating) || !!getRowErrorLevel(r.error, r.errorLevel)"></i><template else>&nbsp;</template></td><td repeat.for="col of visibleCols" id.bind="($parent.r.isActive ? config.id+\'_\'+getColumnKey(col)+\'_cell\' : undefined) & attr" class="${getCellCss($parent.$index, $index, $parent.r.styleChanged)}" css="text-align:${getColAlign(col.textAlign)}" click.delegate="processCellClick($event, $index, $parent.r)" dblclick.delegate="processCellDblClick($event, $index, $parent.r)"><let cell.bind="$parent.r.cells[getColumnKey(col)]"></let><template if.bind="editMode && $parent.r.isActive && activeCellIndex == $index"><qp-inline-field view-model.ref="inlineEditorVM" control-state.bind="setActiveCellState(cell, col, updateEditorState)" control-type.bind="col.editorType" control-config.bind="col.editorConfig" class="inline-editor" update-value.bind="updateEditorValue" control-id="${config.id}_${col.field}_editor" keydown.delegate="processEditKeyDown($event)" value-selected.delegate="processDropDownSelected($event)" on-value-updated.call="commitActiveCellChanges(true)"></qp-inline-field></template><span class="cell-content" data-tooltip.bind="cell.error" data-error-level.bind="cell.errorLevel"><i if.bind="!!cell.errorLevel" err-icon align-left.bind="col.textAlign == 3 ? \'\' : null & attr" class="ac control-${getErrorImage(cell.error, cell.errorLevel)} ${col.textAlign == 3 ? \'align-left\' : \'\'}"></i><let cell-type.bind="getCellRenderType(col, cell, cell.value)"></let><template if.bind="cellType == \'check-box\'"><i class="ac control-Grid${cell.value ? \'Check\' : \'Uncheck\'}"></i></template><template if.bind="cellType == \'icon\'"><a if.bind="hasViewLink(col)" href="javascript:void 0" tabindex="-1"><qp-icon imagesrc.bind="cell.cellText || (col.valueItems ? getColumnDisplayText(col, cell.value) : \'\')"></qp-icon></a><qp-icon else imagesrc.bind="cell.cellText || (col.valueItems ? getColumnDisplayText(col, cell.value) : \'\')"></qp-icon></template><template if.bind="cellType == \'link\'"><a href.bind="cell.href || \'javascript:void 0\'" target.bind="cell.hrefTarget & attr" tabindex="-1"><template if.bind="cell.hrefText || cell.href">${cell.hrefText || cell.href}</template><template else><template if.bind="!fastFilter">${cell.cellText || getRawCellValue(cell.value)}</template><template else><template repeat.for="s of markFilterText(col, cell.cellText || getRawCellValue(cell.value))"><mark if.bind="s.highlight">${s.text}</mark><template else>${s.text}</template></template></template></template></a></template><template if.bind="cellType == \'text\'"><template if.bind="!!cell.cellText"><span class="text"><template if.bind="!fastFilter">${cell.cellText}</template><template else><template repeat.for="s of markFilterText(col, cell.cellText)"><mark if.bind="s.highlight">${s.text}</mark><template else>${s.text}</template></template></template></span></template><template else>&nbsp;</template></template></span></td></tr></tbody></table></div></div><div show.bind="config.showBottomBar && showBottomBar" class="grid-pager"><div if.bind="showRecordsCounter" class="records-counter"><let startrow.bind="(pageIndex * config.pageSize) + 1"></let><label>${Msg.Format(Msg.GridRecordsCount, startRowIndex.toString(), endRowIndex.toString(), totalRowCount.toString())}</label></div><div if.bind="statusText" class="status-text"><label>${statusText}</label></div><div class="pager-bars-cont" show.bind="showPager"><qp-tool-bar config.bind="pagerBarConfigL" buttonpressed.delegate="processPagerButtonClick($event)"></qp-tool-bar><qp-numeric-pager if.bind="config.pagerMode == 2 && hasRows" id="${config.id}_ab_edPi" pages-count.bind="pagesCount" page-index.bind="pageIndex" on-page-index-changed.call="setPage(index)"></qp-numeric-pager><qp-tool-bar config.bind="pagerBarConfigR" buttonpressed.delegate="processPagerButtonClick($event)"></qp-tool-bar></div></div></template>'},"controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-inline-screen-dialog-component.css"></require><div class="inline-screen-dialog"><qp-inline-screen config.bind="config"></qp-inline-screen></div></template>'},"controls/compound/menu/qp-menu.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-menu.scss"></require><div id="${config.id}_menu" ref="menuElement" class="qp-menu ${menuOpened ? \'qp-selected\': \'\'} ${(!showOpener) ? \'qp-menu-no-options\' : \'\'}" mousedown.trigger="toggleMenu($event)"><button class="qp-menu-button ${config.commandName ? \'qp-menu-action-button\' : \'\'} ${(config.enabled == false || config.disabled) && config.commandName ? \'disabled\' : \'\'}" mousedown.trigger="processButtonMousedown($event)" click.capture="processButtonClick($event)"><qp-hyper-icon if.bind="config.images.normal" images.bind="config.images"></qp-hyper-icon><div else>${config.text}</div></button> <button if.bind="config.options && config.options.length" class="qp-menu-opener ${config.commandName ? \'qp-menu-action-opener\': \'\'}" click.capture="stopPropagation($event)"><qp-icon imagesrc="svg:main@treeArrowDown" data-type="drop"></qp-icon></button></div><div glue-to.bind="menuElement" portal if.bind="menuOpened" class="qp-menu-options" id="${config.id}_menu_items" mousedown.trigger="stopPropagation($event)"><div ref="optionsPane" class="qp-menu-container"><div repeat.for="op of config.options" id="${op.id}" class="qp-menu-item ${op.disabled ? \'disabled\' : \'\'} ${op.type===\'MenuSeparator\' ? \'qp-menu-separator\' : \'\'}" data-cmd="${op.commandName}" mouseup.capture="processMenuClick(op.id, op.commandName, $event)"><qp-hyper-icon if.bind="op.images && op.images.normal" images.bind="op.images" class="qp-menu-icon"></qp-hyper-icon><span if.bind="op.text" class="qp-menu-spacer" innerhtml="${op.text}"></span></div></div></div></template>'},"controls/compound/rich-text-editor/qp-rich-text-editor.html":function(e,n,r){"use strict";r.r(n);n.default='<template class="qp-rich-text-editor" component-id.bind="idAttribute"><require from="./qp-rich-text-editor.css"></require><div class="qp-rte-control ${readonly? \'qp-rte-control-readonly\': \'\'}" tabindex="0"><div class="qp-rte-toolbar main" component-id.bind="\'mtlb\'" ref="toolbarHost"></div><div class="qp-rte-body" ref="editorHost"></div></div></template>'},"controls/compound/screen-title/qp-screen-title.html":function(e,n,r){"use strict";r.r(n);n.default='<template id="${config.id}" class="${config.class}"><require from="./qp-screen-title.scss"></require><div id="usrScreenTitle" class="star-container"><div class="${config.hasCaption? \'withCaption\': \'\'}"><div class="captionLine"><a id="usrTitle" href="${config.href}">${config.title}</a> <i id="usrFavorite" ref="starElement" class="ac fav-icon ${config.isFavoritable? \'\': \'no-star\'} ${config.isFavorite? \'favoriteOn ac-star\': \'ac-star_border favoriteOff\'}" click.delegate="toggleFavorites(item.id, $event)"></i></div><span id="usrCaption" ref="captionElement">${config.caption}</span></div></div><div portal="#InfoBannerContainer" repeat.for="msg of messages" class="search-hint-box ${msg[1]}"><div class="icon ${msg[1]}"><i class="ac ac-warning"></i></div><div class="message">${msg[0]}</div></div></template>'},"controls/compound/system-menu/qp-files-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-sys-menu.css"></require><qp-panel id="pnlFilesDialog" caption.bind="Msg.Files" width="720px" fileloaded.delegate="processMenuSelected($event)"><div if.bind="mobileUploadStarted" class="fileDialogInfo"><span class="ac text-BoxHint"></span> <span id="CapturingImagePushSendMessage">${Msg.CapturingImagePushSend}</span> <span class="cross ac ac-close" click.delegate="mobileUploadStarted = false"></span></div><qp-multi-upload ref="uploader" view-model.ref="uploaderAu" config.bind="uploaderConfig"></qp-multi-upload><qp-grid class="files-dialog-grid" view-model.ref="grid" config.bind="filesGridConfig"></qp-grid></qp-panel></template>'},"controls/compound/system-menu/qp-note-dialog/qp-note-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><qp-panel id="pnlNoteShow_ib" caption.bind="Msg.NoteTitle" width="570px" height="362px"><textarea id="pnlNoteShow_ib_txt" name="pnlNoteShow$ib$txt" value.bind="model.noteText" attach-focus style="width: 100%; height: 100%; resize: none">\r\n\t\t</textarea><qp-check-box if.bind="model.popupNoteEnabled" config.bind="chkAddPopupNoteConfig" value.two-way="hasPopupText"></qp-check-box><textarea id="pnlNoteShow_ib_txtP" name="pnlNoteShow$ib$txtP" if.bind="hasPopupText" value.bind="model.popupNoteText" style="width: 100%; height: 100%; resize: none">\r\n\t\t</textarea><footer><qp-button config.bind="{ id: \'pnlNoteShow_ib_0\', text: Msg.Save }" click.trigger="updateNote()"></qp-button></footer></qp-panel></template>'},"controls/compound/system-menu/qp-sys-menu.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="../../container/field/qp-field.css"></require><require from="./qp-sys-menu.css"></require><qp-data-component name="NotesMenuData" screen.bind="viewModel"></qp-data-component><qp-data-component name="SettingsMenuData" screen.bind="viewModel"></qp-data-component></template>'},"controls/compound/tool-bar/qp-tool-bar.html":function(e,n,r){"use strict";r.r(n);n.default='<template css="display: ${config.hidden ? \'none\': \'\'};"><require from="./qp-tool-bar.scss"></require><require from="../menu/qp-menu"></require><div id="${config.id}" name="${config.name}" class="qp-tool-bar ${toolBarMode===\'toolbar only\' ? \'qp-tool-bar-no-menu\' : \'\'} ${config.disableMenu ? \'qp-tool-bar-nowrap\' : \'\'} ${config.class}" ref="toolbarElement"><ul id="${config.id}_full_bar" class="items-list ${config.canOverflow ? \'asTable\' : \'\'}" ref="fullULElement" css="${ (toolBarMode!==\'toolbar only\') ? \'position: absolute; top: -1000px; width: \'+toolbarElement.clientWidth+\'px;\' : \'\'}"><li repeat.for="item of items" css="${\'width: \'+item.width+\'; \'}" class="qp-tool-bar-item ${item.renderIcon() ? \'minor-button\' : \'\'} ${item.connotation ? \'qp-connotation-\'+item.connotation : \'qp-connotation-default\'} ${item.toggleMode ? (item.pushed ? \'qp-toggle-pushed\' : \'qp-toggle-released\') : \'\'} ${item.cssClass ? item.cssClass : \'\'}" click.capture="processClick(item.id, item.type, $event)" mousedown.trigger="processDown(item.id, item.type, $event)" mouseout.trigger="processOut(item.id, $event)" data-cmd="${toolBarMode===\'toolbar only\' ? item.commandName : undefined}" id="${toolBarMode===\'toolbar only\' ? item.id : undefined}"><div if.bind="item.type===\'MenuButton\'" class="qp-tool-bar-button ${item.disabled ? \'disabled\' : \'\'}"><qp-hyper-icon if.bind="item.renderIcon()" images.bind="item.images"></qp-hyper-icon><div if.bind="item.renderText()" class="qp-tool-bar-text">${item.text}</div></div><qp-menu if.bind="item.type===\'MenuOptions\'" config.bind="item" menuselected.delegate="processMenuSelected($event)"></qp-menu><div if.bind="item.type!==\'MenuButton\' && item.type!==\'MenuOptions\'">[${item.id}]</div><qp-tooltip if.bind="!legacyEnv() && item.toolTip" exclude=".qp-menu-options"><div>${item.toolTip}</div></qp-tooltip></li></ul><ul id="${config.id}_bar" show.bind="toolBarMode!==\'toolbar only\'" class="items-list ${config.canOverflow ? \'asTable\' : \'\'}"><li repeat.for="item of items" if.bind="!item.showIfEnoughRoom" ref="itemElements[$index]" css="${\'width: \'+item.width+\'; \'} ${item.visibleOnToolbar ? \'\' : \'position: absolute; top:-1000px;\'}" class="qp-tool-bar-item ${item.renderIcon() ? \'minor-button\' : \'\'} ${item.connotation ? \'qp-connotation-\'+item.connotation : \'qp-connotation-default\'} ${item.toggleMode ? (item.pushed ? \'qp-toggle-pushed\' : \'qp-toggle-released\') : \'\'} ${item.cssClass ? item.cssClass : \'\'}" click.capture="processClick(item.id, item.type, $event)" mouseout.trigger="processOut(item.id, $event)" mousedown.trigger="processDown(item.id, item.type, $event)" data-cmd="${toolBarMode===\'toolbar only\' ? undefined : item.commandName}" id="${toolBarMode===\'toolbar only\' ? undefined : item.id}"><div if.bind="item.type===\'MenuButton\'" class="qp-tool-bar-button ${item.disabled ? \'disabled\' : \'\'}"><qp-hyper-icon if.bind="item.renderIcon()" images.bind="item.images"></qp-hyper-icon><div if.bind="item.renderText()" class="qp-tool-bar-text">${item.text}</div></div><qp-menu if.bind="item.type===\'MenuOptions\'" config.bind="item" menuselected.delegate="processMenuSelected($event)"></qp-menu><div if.bind="item.type!==\'MenuButton\' && item.type!==\'MenuOptions\'">[${item.id}]</div><qp-tooltip if.bind="!legacyEnv() && item.toolTip" target.bind="itemElements[$index]" exclude=".qp-menu-options"><div>${item.toolTip}</div></qp-tooltip></li></ul><div show.bind="showMenuOpener && toolBarMode!==\'toolbar only\'" class="qp-tool-bar-opener ${menuOpened ? \'qp-menu-opened\': \'\'}" ref="menuOpener" id="${config.id}_MenuOpener" keydown.capture="onKeyDown($event)" mousedown.capture="toggleMenu($event)" tabindex="1"><qp-icon imagesrc="svg:main@ellipsis"></qp-icon></div></div><div if.bind="menuOpened && showMenuOpener" class="qp-menu-shadow"><div glue-to.bind="menuOpener" portal class="qp-tool-bar-menu" id="${config.id}_MenuOpener_menu_items" mousedown.trigger="stopPropagation($event)" css="max-height: calc(100vh - ${menuTopPosition}px - 10px)"><div id="${config.id}_popup" ref="menuPane" class="qp-tool-bar-container"><div repeat.for="col of menu" class="qp-tool-bar-column"><div repeat.for="item of col" id="${item.id}_item" data-category-id.bind="item.categoryID ? item.categoryID+\'_item\' : undefined & attr" disabled.bind="item.disabled & attr" class="qp-tool-bar-menu-item ${item.type===\'MenuButton\' ? \'qp-menu-item\' : item.text ? \'qp-menu-label\' : \'qp-menu-empty-label\'} ${item.disabled ? \'disabled\' : \'\'} ${highlightedID === item.id ? \'qp-menu-highlighted\':\'\'} ${item.toggleMode ? (item.pushed ? \'qp-toggle-pushed\' : \'qp-toggle-released\') : \'\'}" data-cmd="${item.commandName}" click.delegate="processMenuClick(item.id, $event)" mouseenter.trigger="processMouseEnter(item.id, $event)" mouseleave.trigger="processMouseLeave(item.id, $event)"><div if.bind="item.type===\'MenuButton\'" class="qp-menu-fav-placeholder ${item.favorite===true ? \'favorite\' : \'\'}" click.delegate="toggleFavorites(item.id, $event)"></div><span if.bind="item.type===\'MenuButton\'" extention-cord.bind="highlightedID === item.id & debounce:32" class="qp-menu-item qp-menu-text ${item.disabled ? \'disabled\' : \'\'}">${item.text || item.toolTip}<div if.bind="item.connotation" class="qp-menu-color-bead ${\'qp-connotation-\'+item.connotation}" css="background-color: ${item.color};"></div></span><span if.bind="item.type===\'MenuLabel\'" class="qp-menu-label qp-menu-text">${item.text}</span></div></div></div></div></div></template>'},"controls/compound/tree/qp-tree-node.html":function(e,n,r){"use strict";r.r(n);n.default='<template id="${id}"><tr id="${meta.testId}" ref="treeNode" if.bind="nodeId!==null" class="tree-row ${meta.hidden==true && meta.item!=null ? \'tree-node-hidden\' : \'\'} tree-node ${treeService.mode==\'single\' && meta.selected ? \'tree-node-selected\' : \'\'} ${treeService.modifiable && !(meta.item.actions.disableDrag === true)? \'draggable\': \'\'} ${treeService.hovered.id==nodeId && treeService.hovered.separator==false && !(meta.item.actions.disableDropChild === true) ? \'tree-node-drag\' : \'\'}" draggable="true" dragstart.delegate="treeService.modifiable && !(meta.item.actions.disableDrag === true)? onDragStart($event): null" drop.trigger="treeService.modifiable && !(meta.item.actions.disableDropChild === true)? dropNode($event, true): null" dragover.trigger="treeService.modifiable? onDragOver($event): null" dblclick.delegate="onSelectSingle()" click.delegate="treeService.mode==\'multi\' ? onSelectMulti() : checkSingle()"><td ref="flexFirst" class="tree-flex" css="padding-left: ${levelShift}"><i if.bind="meta.children.length > 0" ref="arrow" class="ac ${(meta.opened)?\'ac-keyboard_arrow_down\':\'ac-keyboard_arrow_right\'} tree-open" click.trigger="onOpen($event)"></i><div class="tree-checkbox tree-quad" ref="checkBox" if.bind="treeService.mode==\'multi\'"><input if.bind="!meta.indeterminate" type="checkbox" class="tree-quad" checked.bind="meta.selected"><div if.bind="meta.indeterminate" class="indeterminate"><div class="inside"></div></div></div><qp-icon if.bind="meta.item.icon" class="tree-node-icon" ref="icon" imagesrc.bind="meta.item.icon" css="color: ${meta.item.iconColor}; width: ${treeService.iconSize}; height: ${treeService.iconSize}"></qp-icon><span if.bind="!editMode" ref="text" class="tree-text" title.bind="meta.item.name"><span if.bind="!meta.hidden" repeat.for="part of textParts" class.bind="part.selected ? \'selected\' : \'\'">${part.text}</span> </span><input ref="input" value.bind="meta.item.name" focus.bind="editMode" keydown.capture="onInput($event)" class="tree-text-input ${editMode?\'\':\'hidden\'}" blur.trigger="editMode=false"></td><td repeat.for="extra of treeService.extras" class="tree-sticky-column" css="right: ${extra.right}px"><div css="width: ${extra.width}px" class="optional-item"></div></td><td ref="actionMenu" if.bind="meta.item.actions && (meta.item.actions.rename || meta.item.actions.createChild || meta.item.actions.createSibling || meta.item.actions.delete)" class="tree-toolbar tree-sticky-column"><qp-icon class="tree-quad" imagesrc="svg:main@ellipsis" click.delegate="onToolbarClick($event)"></qp-icon><div ref="toolbar" class="tree-toolbar-right hidden"><div if.bind="meta.item.actions.createSibling" id="${meta.testId}_addsibling" click.delegate="onAddNode(false)"><i class="tree-quad ac ac-add"></i>${treeService.actionLabels[0] || localizedStrings.AddSibling}</div><div if.bind="meta.item.actions.createChild" id="${meta.testId}_addchild" click.delegate="onAddNode(true)"><i class="tree-quad ac ac-add"></i>${treeService.actionLabels[1] || localizedStrings.AddChild}</div><div if.bind="meta.item.actions.rename" id="${meta.testId}_rename" click.delegate="onEdit()"><i class="tree-quad ac main-RecordEdit"></i>${treeService.actionLabels[2] || localizedStrings.Rename}</div><div if.bind="meta.item.actions.delete" id="${meta.testId}_delete" click.delegate="onDeleteNode()"><i class="tree-quad ac ac-delete"></i>${treeService.actionLabels[3] || localizedStrings.Delete}</div></div></td></tr><tr class="tree-separator ${treeService.hovered.separator && treeService.hovered.id==nodeId? \'\': \'hidden\'} ${meta.hidden==true && meta.item!=null ? \'tree-node-hidden\' : \'\'}" dragover.trigger="treeService.modifiable? showSeparator(): null"><td colspan="100%" drop.trigger="treeService.modifiable? dropNode($event, false): null"></td></tr><template if.bind="meta.opened"><tr as-element="qp-tree-node" repeat.for="child of meta.children" node-id.bind="child" containerless></tr></template></template>'},"controls/compound/tree/qp-tree-toolbar.html":function(e,n,r){"use strict";r.r(n);n.default='<template class="tree-main-toolbar"><require from="../grid/elements/qp-filter-box"></require><div class="tree-main-toolbar__caption ${hasToolbarItems ? \'tree-main-toolbar__caption--wide\' : \'\'}" if.bind="caption">${caption}</div><qp-tool-bar if.bind="hasToolbarItems" config.bind="config" class="tree-main-toolbar__toolbar-container ${config.hideToolbarSearch ? \'tree-main-toolbar__toolbar-container--wide\' : \'\' }"></qp-tool-bar><qp-filter-box id="${config.id}_text" class="tree-main-toolbar__filter-box filter-box" on-filter.call="onFilter(filter)" if.bind="!config.hideToolbarSearch"></qp-filter-box></template>'},"controls/compound/tree/qp-tree.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-tree.css"></require><require from="./qp-tree-toolbar"></require><div id="${config.id}_tree_root" class="tree-root"><qp-tree-toolbar view-model.ref="topToolbar" config.bind="topToolbarConfig" caption.bind="captionText" parent.bind="$this"></qp-tree-toolbar><div class="tree-header ${hasVerticalScroll? \'scroll-padding\': \'\'}" ref="header" if.bind="treeService.extras && treeService.extras.length > 0 && !noData && !emptySearchResult"><div repeat.for="extra of treeService.extras" class="optional-item" css="right: ${extra.right}px; width: ${extra.width}px;"><qp-text-editor value="${extra.title}" config.bind="{enabled: false, textAlign: extra.textAlign}"></qp-text-editor></div><div ref="toolbar" if.bind="hasActions" class="tree-toolbar tree-quad hidden"><qp-icon imagesrc="svg:main@ellipsis"></qp-icon></div></div><div ref="treeContainer" class="tree-table-container ${(config.width || config.height) && topToolbar.height ? \'has-size\': \'\'}"><div if.bind="emptySearchResult" class="empty-tree-search">No items found</div><div class="tree-table-wrap ${emptySearchResult? \'hidden\': \'\'}" if.bind="!repaintTree" ref="treeTableWrap" scroll.trigger="!treeService.dynamic && hasHorizontalScroll? onTableWrapScroll($event): null"><table ref="treeTable" class="tree-container ${hasVerticalScroll? \'scroll-padding\': \'\'}" scroll.trigger="!treeService.dynamic? onTableScroll($event): null" as-element="qp-tree-node" view-model.ref="tree" node-id.bind="nodeId" cellspacing="0" cellpadding="0" id="${config.id}"></table></div></div></div></template>'},"controls/container/field/qp-field.html":function(e,n,r){"use strict";r.r(n);n.default='<template class="qp-field ${controlState.visible === false || collapsed && (typeof pinned === \'undefined\' ? controlState.unpinned : !pinned) ? \'qp-field-collapsed\' : \'qp-field-expanded\'} ${noLabel === true ? \'no-label\' : \'\'}"><require from="./qp-field.css"></require><qp-tooltip if.bind="errorMessage" rule.bind="\'div[data-tooltip]\'" exclude.bind="\'enhanced-compose.main-control\'"></qp-tooltip><div class="wrapper ${errorCssClass} ${controlState.required === true ? \'req-l\': \'\'} ${controlState.textValue ? \'\' : \'qp-field-empty\'}" show.bind="controlState.visible === undefined || controlState.visible !== false" data-tooltip.bind="errorMessage" data-error-level.bind="errorLevel"><span class="label-wrapper" show.bind="!noLabel"><slot name="label"><qp-label-light if.bind="!noLabel" caption.bind="label" control-id.bind="controlConfig.id"></qp-label-light></slot></span><div class="control-container no-label ${controlSize || \'size-default\'}"><div if.bind="!noIcon" class="icon-container"></div><enhanced-compose if.bind="controlState" view-model.bind="controlType || defaultControlType" config.bind="controlConfig" state.bind="controlState" value.two-way="controlState.value" control-id.bind="controlId" context.bind="context" proxy-expressions.bind="proxyExpressions" class="main-control"></enhanced-compose><slot></slot></div></div></template>'},"controls/container/resizer/qp-resizer.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="../../styles.scss"></require><require from="./qp-resizer.scss"></require><div class="qp-resizer ${invisibleValue ? \' qp-resizer--invisible\' : \'\'}${disabledValue ? \' qp-resizer--disabled\' : \'\'}" css="${cssPosition}${styleValue}"><div class="qp-resizer__container" css="${cssPosition}"><div class="qp-resizer__content" ref="contentElement"><slot></slot></div><div class="qp-resizer__dragger" aria-grabbed="${isDragged}" ref="draggerElement" pointerdown.delegate="onStartMoving($event)"><div class="qp-resizer__icon"><qp-icon imagesrc="svg:main@dragdropMarkFlat"></qp-icon></div></div></div></div></template>'},"controls/container/splitter/qp-splitter.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="../../styles.scss"></require><require from="./qp-splitter.css"></require><div class="qp-splitter qp-splitter-${splitValue}${fadingValue ? \' qp-splitter--fading\' : \'\'}${invisibleValue ? \' qp-splitter--invisible\' : \'\'}${disabledValue ? \' qp-splitter--disabled\' : \'\'}${reversedValue ? \' qp-splitter--reversed\' : \'\'}${unmarginValue ? \' qp-splitter--unmargin\' : \'\'}" css="${styleValue}" ref="layoutElement"><div class="qp-splitter-first" ref="firstElement" css="${reversedValue ? \'\' : cssPosition} ${firstPaneDisplayed ? \'\' : cssCollapse}"><div if.bind="firstHeaderDisplayed" click.delegate="toggleCollapseFirst()" class="qp-fieldset-caption"><div class="qp-caption">${firstHeaderValue}</div><qp-icon class="qp-fieldset-toggle" imagesrc="svg:main@treeArrowUp"></qp-icon></div><div class="qp-splitter-pane-inner"><slot name="A"></slot></div></div><div class="qp-splitter-bar" ref="draggerElement" pointerdown.delegate="startMoving($event)" pointerup.delegate="stopMoving($event)"><div class="qp-splitter-line"></div><div if.bind="!invisibleValue" class="qp-splitter-buttons"><div class="qp-splitter-button qp-splitter-button-first" if.bind="firstPaneDisplayed && !disableCollapseFirstValue" click.delegate="toggleCollapseFirst()"><div if.bind="secondHeaderDisplayedCollapsed" class="qp-caption">${secondHeaderValue}</div><qp-icon imagesrc="svg:main@treeArrowDown"></qp-icon></div><div class="qp-splitter-button qp-splitter-dragdrop" if.bind="eachPaneDisplayed"><qp-icon imagesrc="svg:main@dragdropMarkFlat"></qp-icon></div><div class="qp-splitter-button qp-splitter-button-second" if.bind="secondPaneDisplayed && !disableCollapseSecondValue" click.delegate="toggleCollapseSecond()"><div if.bind="firstHeaderDisplayedCollapsed" class="qp-caption">${firstHeaderValue}</div><qp-icon imagesrc="svg:main@treeArrowDown"></qp-icon></div></div><div class="qp-splitter-line"></div></div><div class="qp-splitter-second" css="${reversedValue ? cssPosition : \'\'} ${ secondPaneDisplayed ? \'\' : cssCollapse };"><div if.bind="secondHeaderDisplayed" click.delegate="toggleCollapseSecond()" class="qp-fieldset-caption"><div class="qp-caption">${secondHeaderValue}</div><qp-icon class="qp-fieldset-toggle" imagesrc="svg:main@treeArrowDown"></qp-icon></div><div class="qp-splitter-pane-inner"><slot name="B"></slot></div></div></div></template>'},"controls/container/tabbar/qp-tabbar-edit.html":function(e,n,r){"use strict";r.r(n);n.default='<template id="tabbar-edit-form"><require from="../../dialog/edit-dialog-base/qp-edit-dialog"></require><require from="./qp-tabbar-edit.css"></require><require from="../../dialog/edit-dialog-base/qp-edit-element"></require><qp-edit-dialog dialog-config.bind="baseDialogConfig"><div class="edit-section"><div class="edit-section-title"><div class="thin-blue-line"></div><span class="title-with-line">${config.topSectionTitle}</span></div><div class="edit-section-content ${visibleTabs.length === 0?\'edit-section-empty\'+(topDropZone.sectionZoneActive?\'edit-section-dropzone\':\'\'):\'\'}" drop.delegate="processDropOnSection($event, \'choosen\')" dragend.delegate="processDragEnd($event)" dragover.delegate="processDragOver($event,\'choosen\', undefined, true)" dragleave.delegate="processDragLeave($event,\'choosen\')" ref="topSectionElement"><div repeat.for="tab of visibleTabs"><qp-edit-element config.bind="tab" upper-dropzone-id.bind="$parent.topDropZone.beforeId" bottom-dropzone-id.bind="$parent.topDropZone.afterId" drag-info.bind="$parent.dragInfo" options.bind="topItemOptions" actions.bind="topItemActions"></qp-edit-element></div></div></div><div class="edit-section edit-section-bottom"><div class="edit-section-title"><div class="thin-blue-line"></div><span class="title-with-line">${config.bottomSectionTitle}</span></div><div class="edit-section-content edit-section-content-bottom ${hiddenTabs.length === 0?\'edit-section-empty\'+(bottomDropZone.sectionZoneActive?\' edit-section-dropzone\':\'\'):\'\'}" drop.delegate="processDropOnSection($event, \'available\')" dragend.delegate="processDragEnd($event)" dragover.delegate="processDragOver($event,\'available\', undefined, true)" dragleave.delegate="processDragLeave($event,\'available\')" ref="bottomSectionElement"><div repeat.for="tab of hiddenTabs"><qp-edit-element config.bind="tab" upper-dropzone-id.bind="$parent.bottomDropZone.beforeId" bottom-dropzone-id.bind="$parent.bottomDropZone.afterId" drag-info.bind="$parent.dragInfo" options.bind="bottomItemOptions" actions.bind="bottomItemActions"></qp-edit-element></div></div></div></qp-edit-dialog></template>'},"controls/container/tabbar/qp-tabbar.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-tabbar.css"></require><require from="./qp-tab"></require><div class="qp-tabbar" id="${config.id}_tabbar"><div class="qp-tabbar-header" sticky sticky-always><div class="qp-tabbar-wrapper" ref="headerElement"><div repeat.for="tab of renderedTabs" class="tab-header-container ${$parent.visibleDropZone.afterId === tab.id?\'tab-header-container-reverse\':\'\'} ${tab.isEmpty ? \'qp-tab-empty\': \'\'}"><div if.bind="$parent.visibleDropZone.beforeId === tab.id || $parent.visibleDropZone.afterId === tab.id" class="qp-tabbar-dropzone ${$parent.visibleDropZone.afterId === tab.id?\'qp-tabbar-dropzone-after\':\'qp-tabbar-dropzone-before\'}"><qp-icon imagesrc="svg:main@treeArrowDown" class="qp-tabbar-dropzone-down"></qp-icon><qp-icon imagesrc="svg:main@treeArrowUp" class="qp-tabbar-dropzone-up"></qp-icon></div><div id="${config.id}_${tab.id}_tabbar" class="qp-tabbar-tab ${tab.id===hoveringTabId ? \'qp-tabbar-hover\' : \'\'} ${tab.id===activeId ? \'qp-tabbar-active\' : \'\'} ${tab.id===draggableTab.id && dragStarted ? \'qp-tabbar-dragged-source\' : \'\'} ${getErrorStyle(tab.errorInfo)}" tabid.bind="tab.id & attr" ref="tab.headerHost" click.delegate="showTab(tab.id)" pointerenter.trigger="onPointerEnter(tab.id)" pointerleave.trigger="onPointerLeave(tab.id)" pointerdown.delegate="onPointerDown($event, tab)"><qp-icon if.bind="tab.errorInfo.level > 1" imagesrc="svg:${getErrorIcon(tab.errorInfo)}" class="tab-header--icon"></qp-icon><div class="${tab.errorInfo.level > 1 ? \'tab-header--with-error\' : \'\'}">${tab.captionText}</div></div></div><div show.bind="dragStarted" class="dragged-floater" ref="dragElement" css="top: ${dragFloaterRect.top}px; left:${dragFloaterRect.left}px">${draggableTab.captionText}</div></div><div class="right-tab-part" css="margin-left: ${rightTabPartMargin + 16}px" ref="rightTabPart"><div if.bind="rightTabHeader" class="tab-header-container ${rightTabHeader.isEmpty ? \'qp-tab-empty\': \'\'}"><div id="${config.id}_${rightTabHeader.id}_tabbar" class="qp-tabbar-tab ${rightTabHeader.id===hoveringTabId ? \'qp-tabbar-hover\' : \'\'} ${rightTabHeader.id===activeId && rightTabHeader.id!==draggableTab.id ? \'qp-tabbar-active\' : \'\'} ${rightTabHeader.id===draggableTab.id && dragStarted ? \'qp-tabbar-dragged-source\' : \'\'} ${getErrorStyle(rightTabHeader.errorInfo)}" ref="rightTabHeader.headerHost" click.delegate="showTab(rightTabHeader.id)" pointerenter.trigger="onPointerEnter(rightTabHeader.id)" pointerleave.trigger="onPointerLeave(rightTabHeader.id)" pointerdown.delegate="onPointerDown($event, rightTabHeader)"><qp-icon if.bind="rightTabHeader.errorInfo.level > 1" imagesrc="svg:${getErrorIcon(rightTabHeader.errorInfo)}" class="tab-header--icon" pointerenter.trigger="onPointerEnter(rightTabHeader.id)" pointerleave.trigger="onPointerLeave(rightTabHeader.id)"></qp-icon><div class="${rightTabHeader.errorInfo.level > 1 ? \'tab-header--with-error\' : \'\'}" pointerenter.trigger="onPointerEnter(rightTabHeader.id)" pointerleave.trigger="onPointerLeave(rightTabHeader.id)">${rightTabHeader.captionText}</div></div></div><div show.bind="dotsVisible || dragStarted" ref="menuOpener" css="top: ${dragFloaterRect.top}; left: ${dragFloaterRect.left}" dragover.delegate="dotsDragOver($event, tab)" pointerenter.trigger="onDotsPointerEnter()" pointerleave.trigger="onDotsPointerLeave()" class="qp-tabbar-opener ${menuOpened ? \'qp-tabbar-opened\': \'\'} ${getErrorStyle(hiddenTabsError)} ${dotsHovering ? \'qp-tabbar-opener--hover\': \'\'}" pointerdown.capture="toggleMenu($event)"><qp-icon if.bind="hiddenTabsError.level > 1" imagesrc="svg:${getErrorIcon(hiddenTabsError)}" class="tab-header--icon"></qp-icon><qp-icon imagesrc="svg:main@ellipsis" class="qp-tabbar-opener--ellipsis"></qp-icon></div><div id="${config.id}_config_opener" class="qp-tabbar-config-icon" if.bind="viewMode === \'edit\'" click.delegate="showEditDialog()"></div></div><div class="right-tab-part-placeholder" css="min-width: ${rightTabPartWidth}px"></div></div><div class="qp-tabbar-content" id="${config.id}_${activeId}_content"><slot></slot></div></div><div if.bind="menuOpened" class="qp-tabbar-shadow" pointerdown.delegate="toggleMenu($event)" ref="tabbarMenu"><div glue-to.bind="menuOpener" portal class="qp-tabbar-menu" pointerdown.delegate="onMenuClick($event)" scroll.trigger="onMenuScroll($event)"><div repeat.for="tab of hiddenHeaders" class="hidden-tab-header-container ${$parent.hiddenDropZone.afterId === tab.id?\'hidden-tab-header-container-reverse\':\'\'} ${tab.isEmpty ? \'qp-tab-empty\': \'\'}"><div if.bind="$parent.hiddenDropZone.beforeId === tab.id || $parent.hiddenDropZone.afterId === tab.id" class="qp-tabbar-hidden-dropzone ${$parent.hiddenDropZone.afterId === tab.id?\'qp-tabbar-hidden-dropzone-after\':\'qp-tabbar-hidden-dropzone-before\'}"><qp-icon imagesrc="svg:main@treeArrowRight" class="qp-tabbar-dropzone-right"></qp-icon><qp-icon imagesrc="svg:main@treeArrowLeft" class="qp-tabbar-dropzone-left"></qp-icon></div><div ref="tab.headerHost" tabid.bind="tab.id & attr" id="${config.id}_${tab.id}_hidden" class="qp-tabbar-menu-item ${tab.id===hoveringTabId ? \'qp-tabbar-menu-item-hover\' : \'\'} ${getErrorStyle(tab.errorInfo)}" click.delegate="showTab(tab.id)" pointerenter.trigger="onPointerEnter(tab.id)" pointerleave.trigger="onPointerLeave(tab.id)" pointerdown.delegate="onPointerDown($event, tab)"><div class="${tab.errorInfo.level > 1 ? \'tab-header--with-error\' : \'\'}">${tab.captionText}</div><qp-icon if.bind="tab.errorInfo.level > 1" imagesrc="svg:${getErrorIcon(tab.errorInfo)}" class="tab-header--icon"></qp-icon></div></div><div if.bind="(userHiddenHeadersAvailable || dragStarted) && hiddenHeaders.length > 0" class="tabbar-menu--separator--margin"><div>&nbsp;</div></div><div if.bind="userHiddenHeadersAvailable || dragStarted" class="tabbar-menu--separator">${msg.TabConfigurationHiddenTabs}</div><div repeat.for="tab of userHiddenHeaders" class="hidden-tab-header-container ${$parent.userHiddenDropZone.afterId === tab.id?\'hidden-tab-header-container-reverse\':\'\'} ${tab.isEmpty ? \'qp-tab-empty\': \'\'}"><div if.bind="$parent.userHiddenDropZone.beforeId === tab.id || $parent.userHiddenDropZone.afterId === tab.id" class="qp-tabbar-hidden-dropzone ${$parent.userHiddenDropZone.afterId === tab.id?\'qp-tabbar-hidden-dropzone-after\':\'qp-tabbar-hidden-dropzone-before\'}"><qp-icon imagesrc="svg:main@treeArrowRight" class="qp-tabbar-dropzone-right"></qp-icon><qp-icon imagesrc="svg:main@treeArrowLeft" class="qp-tabbar-dropzone-left"></qp-icon></div><div ref="tab.headerHost" tabid.bind="tab.id & attr" id="${config.id}_${tab.id}_hidden" class="qp-tabbar-menu-item ${tab.id===hoveringTabId ? \'qp-tabbar-menu-item-hover\' : \'\'} ${getErrorStyle(tab.errorInfo)}" click.delegate="showTab(tab.id)" pointerenter.trigger="onPointerEnter(tab.id)" pointerleave.trigger="onPointerLeave(tab.id)" pointerdown.delegate="onPointerDown($event, tab)"><div class="${tab.errorInfo.level > 1 ? \'tab-header--with-error\' : \'\'}">${tab.captionText}</div><qp-icon if.bind="tab.errorInfo.level > 1" imagesrc="svg:${getErrorIcon(tab.errorInfo)}" class="tab-header--icon"></qp-icon></div></div><div if.bind="userHiddenHeaders.length === 0 && dragStarted" class="tabbar-menu--blank" ref="menuBlankElement"><div if.bind="hiddenEmptyDropZoneActive" class="qp-tabbar-hidden-dropzone qp-tabbar-hidden-dropzone-empty"><qp-icon imagesrc="svg:main@treeArrowRight" class="qp-tabbar-dropzone-right"></qp-icon><qp-icon imagesrc="svg:main@treeArrowLeft" class="qp-tabbar-dropzone-left"></qp-icon></div></div></div></div></template>'},"controls/container/wizard/qp-wizard.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-wizard.css"></require><require from="../tabbar/qp-tab"></require><div class="qp-wizard" style="height: 100%;" id.bind="id & attr"><div class="qp-wizard-body"><slot></slot></div><div class="qp-wizard-footer"><qp-button config.bind="{ id: id+\'_cancel_btn\', text: (config.buttons && config.buttons.cancel) || Msg.Cancel, hidden: false, action: config.cancelCommand}" click.delegate="processCancel()"></qp-button><qp-button config.bind="{ id: id+\'_prev_btn\', text: (config.buttons && config.buttons.prev) || Msg.Previous, hidden: false, disabled: !tabs.length || activeTabId===tabs[0].id, action: config.prevCommand}" click.delegate="processPrev()"></qp-button><qp-button class="major-button" config.bind="{ id: id+\'_next_btn\', text: (config.buttons && config.buttons.next) || Msg.Next, disabled: config.disableNext, hidden: !tabs.length || activeTabId===tabs[tabs.length-1].id, action: config.nextCommand }" click.delegate="processNext()"></qp-button><qp-button class="major-button" config.bind="{ id: id+\'_save_btn\', text: (config.buttons && config.buttons.done) || Msg.Done, hidden: !tabs.length || activeTabId!==tabs[tabs.length-1].id, action: config.saveCommand }" click.delegate="processSave()"></qp-button></div></div></template>'},"controls/dialog/alert/qp-alert.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="../base-dialog/movable"></require><require from="../base-dialog/base-dialog.css"></require><require from="./qp-alert-dialog.css"></require><ux-dialog class="dialog qp-dialog qp-alert-dialog" ref="dialogElement" id="messageBox"><ux-dialog-header if.bind="!config.hideHeader" show-close-button.bind="false"><div class="qp-dialog-header" movable.bind="dialogElement"><div class="qp-dialog-title">${config ? config.title : \'\'}</div><qp-icon if.bind="!hideCloseButton" class="qp-dialog-close" imagesrc="svg:main@close" click.delegate="controller.cancel({force:true})" pointerdown.capture="stopProcessing($event)"></qp-icon></div></ux-dialog-header><ux-dialog-body><div><p>${config.message}</p></div></ux-dialog-body><ux-dialog-footer class="qp-dialog-footer"><div if.bind="config.buttons === alertButtons.Ok"><qp-button class="major-button" click.delegate="controller.ok(config.okButtonResult || alertResults.Confirm)" config.bind="{ id: \'messageBox_btnOk\', text: config.okButtonText || Msg.Confirm, hidden: false}"></qp-button></div><div if.bind="config.buttons === alertButtons.OkCancel"><qp-button class="major-button" click.delegate="controller.ok(config.okButtonResult || alertResults.Confirm)" config.bind="{ id: \'messageBox_btnOk\', text: config.okButtonText || Msg.Confirm, hidden: false}"></qp-button><qp-button click.delegate="controller.cancel()" config.bind="{ id: \'messageBox_btnCancel\', text: config.cancelButtonText || Msg.Cancel}"></qp-button></div><div if.bind="config.buttons === alertButtons.YesNo"><qp-button class="major-button" click.delegate="controller.ok(config.yesButtonResult || alertResults.Yes)" config.bind="{ id: \'messageBox_btnYes\', text: config.yesButtonText || Msg.Yes, hidden: false}"></qp-button><qp-button click.delegate="controller.ok(config.noButtonResult || alertResults.No)" config.bind="{ id: \'messageBox_btnNo\', text: config.noButtonText || Msg.No, hidden: false}"></qp-button></div><div if.bind="config.buttons === alertButtons.YesNoCancel"><qp-button class="major-button" click.delegate="controller.ok(config.yesButtonResult || alertResults.Yes)" config.bind="{ id: \'messageBox_btnYes\', text: config.yesButtonText || Msg.Yes, hidden: false}"></qp-button><qp-button click.delegate="controller.ok(config.noButtonResult || alertResults.No)" config.bind="{ id: \'messageBox_btnNo\', text: config.noButtonText || Msg.No, hidden: false}"></qp-button><qp-button click.delegate="controller.cancel()" config.bind="{ id: \'messageBox_btnCancel\', text: config.cancelButtonText || Msg.Cancel}"></qp-button></div><div if.bind="!config.buttons"><qp-button class="major-button" click.delegate="controller.ok(config.okButtonResult || alertResults.Confirm)" config.bind="{ id: \'messageBox_btnOk\', text: config.okButtonText || Msg.Confirm, hidden: false}"></qp-button></div></ux-dialog-footer></ux-dialog></template>'},"controls/dialog/base-dialog/qp-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./base-dialog.css"></require><require from="../../container/fieldset/inline-view"></require><require from="./qp-resizable"></require><require from="./movable"></require><ux-dialog class="dialog qp-dialog ${config.cssClass ? config.cssClass : (!width ? \'col-sm-12 col-md-6 col-lg-4\' : \'\')} ${(height || maximized) ? \'\' : \'qp-dialog--auto-height\'}" id="${config.id || config.templateId}" closedialog.capture="controller.cancel()" savedialog.capture="controller.ok()" changeconfig.capture="processChangeConfig($event)" ref="dialogElement" css="--qp-dialog-offset: ${offsetTop}; width: ${resizerVM.width}"><qp-resizable element.bind="element" maximized.bind="maximized" width.bind="width" height.bind="height" resizable-config.bind="config.resizableConfig" hide-maximizer.bind="config.hideMaximizer" view-model.ref="resizerVM"><ux-dialog-header if.bind="!config.hideHeader" show-close-button.bind="false"><div class="qp-dialog-header" movable.bind="dialogElement" dblclick.delegate="maximize()"><div class="qp-dialog-title">${config.caption}</div><qp-icon if.bind="!config.hideMaximizer" class="qp-dialog-maximize" imagesrc="svg:main@fullscreen" id="${config.id || config.templateId}_maximizer" click.delegate="maximize()" pointerdown.capture="stopProcessing($event)"></qp-icon><qp-icon if.bind="!config.hideCloseButton" class="qp-dialog-close" imagesrc="svg:main@close" id="${config.id || config.templateId}_closer" click.delegate="controller.cancel({force:true})" pointerdown.capture="stopProcessing($event)"></qp-icon></div></ux-dialog-header><ux-dialog-body><div class="dialog-body-content v-stack"><template if.bind="!!template"><inline-view template.bind="template" context.bind="config.context"></inline-view></template><template else><compose view-model.bind="config.templateViewModel" model.bind="config.context" view-model.ref="viewModelCompose" containerless></compose></template></div></ux-dialog-body><ux-dialog-footer if.bind="footerTemplate"><div class="dialog-footer-content"><inline-view template.bind="footerTemplate" context.bind="config.context" context-container="false"></inline-view></div></ux-dialog-footer></qp-resizable></ux-dialog></template>'},"controls/dialog/base-dialog/qp-resizable.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-resizable.css"></require><div class="qp-resizable ${ maximized ? \'qp-resizable-maximized\' : \'\' }" ref="resizableElement" css="width: ${width}; height: ${height}"><div class="qp-rz qp-rz-nw" pointerdown.delegate="startResizing(\'nw\', $event)"></div><div class="qp-rz qp-rz-n" pointerdown.delegate="startResizing(\'n\', $event)"></div><div class="qp-rz qp-rz-ne" pointerdown.delegate="startResizing(\'ne\', $event)"></div><div class="qp-rz qp-rz-w" pointerdown.delegate="startResizing(\'w\', $event)"></div><div class="qp-rz-center"><template replaceable part="content"></template></div><div class="qp-rz qp-rz-e" pointerdown.delegate="startResizing(\'e\', $event)"></div><div class="qp-rz qp-rz-sw" pointerdown.delegate="startResizing(\'sw\', $event)"></div><div class="qp-rz qp-rz-s" pointerdown.delegate="startResizing(\'s\', $event)"></div><div class="qp-rz qp-rz-se" pointerdown.delegate="startResizing(\'se\', $event)"></div></div></template>'},"controls/dialog/edit-dialog-base/qp-edit-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-edit-dialog.css"></require><require from="../base-dialog/movable"></require><ux-dialog class="dialog edit-dialog" ref="dialogElement"><ux-dialog-header class="edit-dialog-header" movable.bind="dialogElement" show-close-button.bind="false" ref="headerElement"><span>${dialogConfig.dialogTitle}</span><qp-icon class="qp-dialog-close" imagesrc="svg:main@close" pointerdown.capture="close()"></qp-icon></ux-dialog-header><ux-dialog-body><div class="edit-container ${dialogConfig.containerClass}"><template replaceable part="content"></template></div></ux-dialog-body><ux-dialog-footer class="edit-footer"><div><qp-button class="f_secondary" click.delegate="resetConfigurationToDefault()" config.bind="resetToDefaultButtonConfig"></qp-button></div><div><qp-button click.delegate="applyConfiguration()" config.bind="applyButtonConfig"></qp-button><qp-button click.delegate="close()" config.bind="cancelButtonConfig"></qp-button></div></ux-dialog-footer></ux-dialog></template>'},"controls/dialog/edit-dialog-base/qp-edit-element.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-edit-element.css"></require><div dragover.delegate="processDragOver($event)" dragleave.delegate="processDragLeave($event)" draggable="true" dragstart.delegate="processDragStart($event)" drop.delegate="processDrop($event)" ref="element" class="edit-element-container ${bottomDropzoneVisible ? \'edit-element-container--reverse\' : \'\'}"><div ref="dropZoneElement" if.bind="bottomDropzoneVisible || upperDropzoneVisible" class="edit-element-dropzone"></div><div class="edit-element ${active ? \'edit-element--active\' : \'\'}" mouseenter.trigger="activate($event)" mouseleave.trigger="deactivate($event)" click.delegate="processClick($event)"><div class="edit-element--group"><div class="edit-element-icon--container"><qp-icon class="edit-element-icon" imagesrc="svg:main@grabber" if.bind="active"></qp-icon></div><div class="edit-element-content" css="width: calc(326px - ${(actionsAreVisible ? actions.length * 24 + 8 : 0) + \'px\'}"><div class="edit--element-name edit--text edit--text-m ${options.showRequired && config.required ? \'req-l\': \'\'}">${config.name}</div><div if.bind="options.showItemId" class="edit--element-id edit--text edit--text-s">${config.id}</div></div></div><div class="edit-element--group edit-element--toolbar" if.bind="actionsAreVisible"><div repeat.for="action of actions" class="edit-element-icon--container ${action.getState($parent.config)}" click.delegate="processAction($event, action)"><qp-icon class="edit-element-icon ${action.isEnabled($parent.active, $parent.config) && !action.isReadonly($parent.config)? \'\' : \'edit-element-icon--disabled\'} ${action.className}" imagesrc.bind="action.getIcon($parent.config)" if.bind="action.isVisible($parent.active, $parent.config)"></qp-icon></div></div></div></div></template>'},"controls/dialog/informer/qp-informer-rack.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-informer"></require><div id="__qp-informers-rack" class="qp-informer-rack"><qp-informer repeat.for="msg of messages" config.bind="msg"></qp-informer></div></template>'},"controls/dialog/informer/qp-informer.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-informer.css"></require><div class="qp-infromer qp-status-${config.status} ${closing}" css="${config.hidden || hidden ? \'display: none;\' : \'\'}"><qp-icon if.bind="config.status==\'error\'" class="qp-status-icon" imagesrc="svg:main@errorExclamation"></qp-icon><qp-icon if.bind="config.status==\'warning\'" class="qp-status-icon" imagesrc="svg:main@warningExclamationFilled"></qp-icon><qp-icon if.bind="config.status==\'info\'" class="qp-status-icon" imagesrc="svg:main@checkmark"></qp-icon><span>${message}</span><qp-icon click.delegate="closeNotification($event)" class="qp-close-icon" imagesrc="main@RecordDel"></qp-icon></div></template>'},"controls/dialog/long-run/qp-long-run.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-long-run.css"></require><div show.bind="config.status===\'inprocess\' && !config.switchedOff" class="qp-lr qp-status-${config.status}" id="${config.id}" css="${config.hidden ? \'display: none;\' : \'\'}" ref="inprocElement"><qp-icon class="qp-status-icon" imagesrc="svg:main@spinner"></qp-icon><span repeat.for="message of LongRunMessages">${message}</span> <span class="qp-lr-timer" ref="timeElement" id="${config.id}_timer">${config.longRunCompleted}</span><div class="qp-lr-cancel" id="${config.id}_cancel" click.delegate="stopProcessing($event)">Cancel</div></div><div if.bind="config.status===\'aborted\' || config.status===\'completed\' || config.status===\'completedwithwarning\'" show.bind="!config.switchedOff" class="qp-lr qp-status-${config.status} ${closing}" css="${config.hidden || hidden ? \'display: none;\' : \'\'}"><qp-icon class="qp-status-icon" imagesrc="svg:main@${iconName}"></qp-icon><span class="qp-lr-message">${config.longRunMessage || (config.status === \'aborted\' ? msg.OperationAborted : msg.OperationCompleted)}</span><qp-icon click.delegate="closeNotification($event)" class="qp-close-icon" imagesrc="main@RecordDel"></qp-icon></div></template>'},"controls/dialog/quick-processing/qp-quick-processing.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-quick-processing.css"></require><qp-panel id="ProcessingResults" class="quick-processing" width="310px" auto-repaint="true"><div id="pnlQuickInfo_cont"><div class="quick-processing__messages-list"><div class="quick-processing__message quick-processing__message--${message.error ? \'error\': \'success\'} ${(messagesSizeChanged && (messagesSize === ($index + 1))) ? \'au-animate animate-expand\' : \'\'}" repeat.for="message of messages"><qp-icon class="quick-processing__message-icon" imagesrc.bind="message.error ? \'svg:main@errorExclamation\' : \'svg:main@successCheckFilled\'"></qp-icon><template repeat.for="part of message.text"><span if.bind="part.type === \'text\'" class="quick-processing__message-part">${part.text}</span> <a if.bind="part.type === \'link\'" href="javascript:void(0)" class="quick-processing__message-part quick-processing__message-part--link" click.delegate="message.redirectAction()">${part.text}</a></template><br if.bind="message.error"><span if.bind="message.error" class="quick-processing__message-error">${message.error}</span></div><div class="quick-processing__message quick-processing__message--success au-animate animate-expand" if.bind="status === \'completed\'"><qp-icon class="quick-processing__message-icon" imagesrc="svg:main@successCheckFilled"></qp-icon><span>${Msg.ProcessCompleted}</span></div><div class="quick-processing__message quick-processing__message--error au-animate animate-expand" if.bind="status === \'aborted\'"><qp-icon class="quick-processing__message-icon" imagesrc="svg:main@errorExclamation"></qp-icon><span>${CompletedMessage || Msg.OperationAborted}</span></div><div if.bind="status === \'in-progress\'" class="quick-processing__message quick-processing__message--status"><qp-icon class="quick-processing__message-icon quick-processing__message-icon--spinner" imagesrc="svg:main@spinner"></qp-icon><span repeat.for="message of longrunStatusMessagesList">${message}</span> <span class="quick-processing__timer" id="${config.id}_timer">${longRunTimerMessage}</span></div></div><div class="quick-processing__footer" show.bind="status === \'in-progress\'"><qp-button class="quick-processing__footer-button" id="${config.id}_cancel" config.bind="cancelConfig" click.delegate="cancel($event)"></qp-button></div></div></qp-panel></template>'},"controls/dialog/upload-dialog/qp-upload-dialog.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-upload-dialog.scss"></require><qp-panel id="${config.key}" caption="${config.caption}" width.bind="config.width & attr" auto-repaint="false" activate-dialog.trigger="activateDialog($event)" deactivate-dialog.trigger="deactivateDialog($event)"><div class="upload-dialog-body v-stack"><qp-field if.bind="config.renderLink" control-size="size-fit"><qp-radio config.bind="{ id: config.id + \'_type\',\r\n\t\t\t\t\toptions: [{\r\n\t\t\t\t\t\ttext: DialogMessages.RadioUploadFile,\r\n\t\t\t\t\t\tvalue: \'file\'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttext: DialogMessages.RadioLinkFile,\r\n\t\t\t\t\t\tvalue: \'link\'\r\n\t\t\t\t\t}] }" value.two-way="file.type"></qp-radio></qp-field><template if.bind="file.type === \'file\'"><qp-field caption="${DialogMessages.CaptionUploader}" class="upload-field" control-size="size-fit" control-id.bind="uploaderConfig.id" control-error-message.bind="controlError.file" control-error-level.bind="controlError.file ? PXErrorLevel.Error : PXErrorLevel.Undefined"><qp-uploader config.bind="uploaderConfig" value.two-way="uploadedFile"><div if.bind="!!uploadedFile" class="file-label"><div class="file-label-text">${uploadedFile.name}</div><qp-icon class="qp-dialog-close" imagesrc="main@Remove" click.delegate="clearUploaded()"></qp-icon></div><div else>${uploaderText}</div></qp-uploader></qp-field><qp-field if.bind="config.renderComment" control-id.bind="config.id + \'_comment\'" caption="${DialogMessages.CaptionComment}" control-size="size-fit"><qp-text-editor config.bind="{ id: config.id + \'_comment\', type: 1, rows: 3 }" value.two-way="file.comment"></qp-text-editor></qp-field></template><template else><qp-field caption="${DialogMessages.CaptionExistingFile}" control-size="size-fit" control-id.bind="config.id + \'_link\'" control-error-message.bind="controlError.link" control-error-level.bind="controlError.link ? PXErrorLevel.Error : PXErrorLevel.Undefined"><qp-text-editor config.bind="{ id: config.id + \'_link\', type: 0 }" value.two-way="fileLink"></qp-text-editor></qp-field></template><template if.bind="config.renderImportOptions"><qp-field control-size="size-fit"><qp-check-box config.bind="{ id: config.id + \'_columns\', label: DialogMessages.CheckboxCustomColumns }" value.two-way="importOptions.includeCustomColumns"></qp-check-box></qp-field><qp-field control-size="size-fit"><qp-check-box config.bind="{ id: config.id + \'_fullCheck\', label: DialogMessages.CheckboxSchemaCheck }" value.two-way="importOptions.fullSchemaCheck"></qp-check-box></qp-field></template><qp-field if.bind="config.renderCheckIn" control-size="size-fit"><qp-check-box config.bind="{ id: config.id + \'_checkIn\', label: DialogMessages.CheckboxCheckIn }" value.two-way="importOptions.checkIn"></qp-check-box></qp-field></div><footer><qp-button config.bind="{ id: config.id + \'_btnUpload\', text: DialogMessages.ButtonUpload }" click.delegate="uploadClick($event)"></qp-button><qp-button config.bind="{ id: config.id + \'_btnCancel\', dialogResult: 2, text: Messages.Cancel }"></qp-button></footer></qp-panel></template>'},"controls/simple/barcode-input/qp-barcode-input.html":function(e,n,r){"use strict";r.r(n);n.default='<template><input type="text" id="${config.id}" name="${config.name}" ref="elemText" value.bind="value" maxlength.bind="config.maxLength & attr" enabled.bind="config.enabled ? null : false & attr" readonly="${config.readOnly || !config.enabled ? true : null}" autocomplete="off" autocorrect="off" spellcheck="false" tabindex="${config.tabIndex}" class="qp-text-editor ${config.class} ${config.readOnly || !config.enabled ? \'ReadOnly\' : \'\'} ${hasFocus ? \'focus\':\'\'}" css="text-align: ${align};${config.hidden ? \'display:none;\': \'\'}${config.width ? \'width: \'+config.width+\'px\' : \'\'}" keydown.trigger="processKeyDown($event)" focus.trigger="processFocus($event)" blur.trigger="processBlur($event)"></template>'},"controls/simple/branch-selector/qp-branch-selector-3d.html":function(e,n,r){"use strict";r.r(n);n.default='<template class="branch-selector ${editMode?\'edit-mode\':\'\'} ${ROMode ?\'ReadOnly\':\'\'}"><require from="./qp-branch-selector.css"></require><div id="${config.id}" class="branch-selector__editor ${config.class} ${editMode && !ROMode ? \'focus edit-mode\':\'\'} ${ROMode ? \'ReadOnly\':\'\'}" ref="rectControl"><input class="${ROMode ? \'ReadOnly\':\'\'}" id="${config.id}_text" name="${config.name}" tabindex="${config.tabIndex}" value.to-view="value.id.trim()" ref="inputControl" blur.trigger="onBlur()" input.delegate="search(inputControl.value)" keydown.capture="handleKey($event)" autocomplete="off" autocorrect="off" focus.from-view="editMode" focus.trigger="onFocus()" enabled.bind="config.enabled === false ?  false:null  & attr" readonly="${ROMode ? true : null}"><div class="branch-selector__display-text" if.bind="value && value.id">${[value.id]}${value.text?\' - \'+value.text:\'\'}</div><button type="button" show.bind="config.enabled!== false && !config.readOnly" mousedown.trigger="toggleSelector($event)" class="branch-selector__button" tabindex="-1"><qp-icon show.bind="!ROMode" imagesrc="svg:main@treeArrowDown"></qp-icon>\x3c!-- <i class="control-icon control-ArrowDown"></i> --\x3e</button><qp-loader-indicator if.bind="loadingStatus != \'in-sync\'" style="position: absolute;bottom:0;left:0;right:0;" loading-state.bind="loadingStatus"></qp-loader-indicator><qp-tooltip if.bind="!treeOpen && toolTip && toolTip.length" target.bind="element" on-show.call="toolTipShown()"><div repeat.for="t of toolTip" class="tooltip-level branch-level-${$index}">${t}</div></qp-tooltip></div><div id="${config.id}_items" class="branch-selector__branch-tree" if.bind="branches && treeOpen" glue-to.bind="rectControl" portal ref="treeView" style="width: auto;" mousedown.capture="ignoreMouseDown($event)"><div repeat.for="n of flatStructure" node.bind="n" click.delegate="select(n,$event)" mouseenter.capture="highlight(n,$event)" class="branch-selector__node branch-selector__${n.type} ${highlightedIndex == $index?\'highlight\':\'\'} nesting-level-${n.level} ${b.canSelect?\'can-select\':\'\'} ${n.lastChild?\'parent-last-child\':\'\'}"><qp-icon class="group-icon" if.bind="n.type==\'group\'" imagesrc="${n.expand?\'control@DropDownH\':\'control@SubMenu\'}" click.delegate="toggleExpand(n,$event)"></qp-icon><qp-icon class="company-icon" if.bind="n.type==\'organization\'" imagesrc="${n.expand?\'ac@keyboard_arrow_down\':\'ac@keyboard_arrow_right\'}" click.delegate="toggleExpand(n,$event)"></qp-icon><template repeat.for="s of n.displaySegments"><mark if.bind="s.highlight">${s.text}</mark><template else>${s.text}</template></template></div></div></template>'},"controls/simple/button/qp-button.html":function(e,n,r){"use strict";r.r(n);n.default='<template show.bind="!config.hidden"><require from="./qp-button.scss"></require><require from="../../utility/options/qp-options"></require><button id="${config.id}" name="${config.name}" css="${config.style}" type="button" ref="buttonElement" tabindex="${config.tabIndex}" class="qp-button ${config.class} ${pushed ? \'pushed\' : \'\'}" disabled.bind="config.enabled == false || config.disabled" click.capture="processClick($event)" mouseover.delegate="processMouseOver($event)" mouseout.delegate="processMouseOut($event)" pointerdown.delegate="processPointerDown($event)" pointerup.delegate="processPointerUp($event)" pointercancel.delegate="processPointerCancel($event)"><div class="btn-inner" data-cmd="${config.commandName}"><qp-icon if.bind="imageSrc" imagesrc.bind="imageSrc"></qp-icon><span class="text" if.bind="!imageSrc || config.displayIconAndText">${config.text || config.displayName}</span><qp-icon if.bind="config.options" imagesrc="control@ArrowDown" class="icon-menu"></qp-icon></div></button><div glue-to.bind="buttonElement" if.bind="config.options && menuOpen" class="glue-to" id="${config.id}_items"><div class="options-panel"><qp-options config.bind="config" options-for.bind="buttonElement" valuechanged.delegate="processMenuClick($event)"></qp-options></div></div></template>'},"controls/simple/calendar/qp-calendar.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-calendar"></require><require from="./qp-calendar.css"></require>\x3c!-- <input  id="${config.id}" tabindex="${config.tabIndex}" name="${config.name}" value.to-view="value | dateToString"> --\x3e<table class="calendar qp-calendar" cellpadding="0" cellspacing="0" style="z-index: 11000;" click.delegate="$event.stopPropagation()" mousedown.trigger="ignoreClicks($event)"><tbody><tr><td class="calendarMT"><table cellpadding="0" cellspacing="0" border="0" style="height:100%; width:100%;"><tbody><tr><td class="calendarNP" click.capture="handleMonthChange(-1, $event)" ref="prevMonthEle"><qp-icon imagesrc="svg:main@arrowLeft"></qp-icon></td><td class="month-year-header"><span class="month-select"><select ref="monthSelEle" class="month-select" value.bind="month | stringToInt"><option repeat.for="i of 12" value.one-time="i">${monthNames[i]}</option></select><qp-icon imagesrc="svg:main@treeArrowDown"></qp-icon></span><span class="year-select"><select ref="yearSelEle" class="year-select closed" style="pointer-events: none;" value.bind="year | stringToInt"><option value="${year}">${year}</option></select><qp-icon imagesrc="svg:main@treeArrowDown"></qp-icon><select ref="yearSelEle" class="year-select closed" value.bind="year | stringToInt" mouseout.trigger="onMouseOut($event.currentTarget)" scroll.trigger="onScrollYearSel($event.currentTarget)" keydown.trigger="onKeyDownYearSel($event)" focus.trigger="onFocusYearSel($event.currentTarget)" blur.trigger="onBlurYearSel($event.currentTarget)" change.trigger="onChangeYearSel($event.currentTarget)"><option repeat.for="i of 27" value="${year+i-13}">${year+i-13}</option></select></span></td><td class="calendarNP" click.capture="handleMonthChange(1, $event)" ref="nextMonthEle"><qp-icon imagesrc="svg:main@arrowRight"></qp-icon></td></tr></tbody></table></td><td if.bind="config.customItems.length > 0" rowspan="3" class="custom-items"><table id="${id}_customItems"><tbody><tr repeat.for="item of config.customItems" click.capture="selectCustomItem(item, $event)"><td class="calendarD">${item}</td></tr></tbody></table></td></tr><tr><td><table cellspacing="0" align="Center" border="0" style="width:100%;" ref="monthPaneEle" keydown.capture="keyDown($event)" tabindex="0"><colgroup><col repeat.for="i of 8" style="width:12%"></colgroup><tbody><tr><td class="calendarDH">#</td><td class="calendarDH" repeat.for="i of 7">${shortDayNames[(i+firstDayOfWeek)%7]}</td></tr><tr repeat.for="week of monthPanel"><td class="calendarWN calendarD">${getWeekNumber(week)}</td><td repeat.for="day of week" class="calendarD ${($index===0 && $parent.$index===0)? \'upperLeft\' : \'\'} ${($index===6 && $parent.$index===0)? \'upperRight\' : \'\'} ${($index===0 && $parent.$index===5)? \'bottomLeft\' : \'\'} ${($index===6 && $parent.$index===5)? \'bottomRight\' : \'\'} ${isTheSame(day.date, todayDate) ? \'calendarTD\' : \'\'} ${day.trailingDay || day.leadingDay ? \'calendarOMD\' : \'\'} ${isWeekend(day.date) ? \'calendarWE\':\'\'} ${isTheSame(day.date, value) ? \'calendarSD\':\'\'}" click.capture="selectTheDate(day.date, $event)">${day.dayOfMonth}</td></tr></tbody></table></td></tr><tr><td ref="todayCellEle" class="calendarF" style="cursor: pointer;" click.capture="selectTheDate(todayDate, $event)">${todayString}</td>\x3c!--<td class="calendarF">${Intl.DateTimeFormat(locale).format(todayDate)} - ${todayDateToString()}</td>--\x3e</tr></tbody></table></template>'},"controls/simple/check-box/qp-check-box.html":function(e,n,r){"use strict";r.r(n);n.default='<template css="display: ${config.hidden ? \'none\': \'block\'};"><require from="./qp-check-box"></require><require from="./qp-check-box.css"></require><span if.bind="config.renderStyle!==\'button\'" id="${config.id}" class="qp-checkbox qp-checkbox-default ${config.class}" enabled.bind="!!config.enabled & attr" click.delegate="config.enabled===true && toggleValue($event)"><label if.bind="config.textAlign===\'left\'" for="${config.id}_text" class="left ${config.labelWidth ? \'fld-l\'+config.labelWidth : \'\'}">${config.label}</label> <input id="${config.id}_text" name="${config.name}" ref="element" type="checkbox" tabindex="${config.tabIndex}" disabled.bind="!config.enabled" checked.two-way="value | intToBool"><label if.bind="config.textAlign!==\'left\'" for="${config.id}_text">${config.label}</label></span><div else class="qp-checkbox qp-checkbox-button ${config.class}" id="${config.id}" enabled.bind="!!config.enabled & attr" checked.bind="!!value & attr"><qp-hyper-icon id="${config.id}_pic" if.bind="config.renderStyle == \'button\' && value" images.bind="config.checkImages" disabled.bind="!config.enabled" click.delegate="config.enabled===true && toggleValue($event)" class="qp-checkbox-icon"></qp-hyper-icon><qp-hyper-icon id="${config.id}_pic" if.bind="config.renderStyle == \'button\' && !value" images.bind="config.uncheckImages" disabled.bind="!config.enabled" click.delegate="config.enabled===true && toggleValue($event)" class="qp-checkbox-icon"></qp-hyper-icon><label if.bind="config.renderStyle == \'button\' && config.label && config.label.length" class="qp-checkbox-label" for="${config.id}_pic">${config.label}</label></div></template>'},"controls/simple/color-picker/qp-color-palette.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-color-palette.css"></require><div class="qp-color-palette"><button if.bind="allowNull" class="qp-color-reset" click.capture="selectColor()"><qp-icon imagesrc="svg:main@colorReset"></qp-icon><span>None</span></button><div class="qp-color-palette-pane" repeat.for="palette of palettes" show.bind="(allowAdjust && palette.adjustable) || (palette.rows.length > 0 && palette.rows[0].samples.length > 0)"><div class="qp-color-palette-row" repeat.for="colorRow of palette.rows"><div class="qp-color-palette-sample ${colorSample.color === color ? \'selected\': \'\'}" repeat.for="colorSample of colorRow.samples" css="background-color: ${colorSample.color};" click.delegate="selectColor(colorSample.color)"><qp-icon if.bind="colorSample.color === color" class="qp-color-sample-selected" css="color: ${colorSample.textColor & oneTime};" imagesrc="svg:main@doneMark"></qp-icon><qp-tooltip>${colorSample.description & oneTime}</qp-tooltip></div><qp-icon class="qp-color-sample-add" if.bind="allowAdjust && palette.adjustable && ($index === palette.rows.length - 1)" imagesrc="svg:main@roundPlus" click.delegate="pickCustomColor(palette, $event)"></qp-icon></div></div></div></template>'},"controls/simple/color-picker/qp-color-picker.html":function(e,n,r){"use strict";r.r(n);n.default='<template style="display:inline-block;"><require from="./qp-color-picker"></require><div style="display:flex;padding:0;border:0;" class.bind="config.class"><input if.bind="supportsColor" disabled.bind="config.readOnly" class="editor" style="flex:1 1 auto" type="color" tabindex="${config.tabIndex}" value.bind="value | colorFormat & updateTrigger:\'blur\'"> <span else css="background-color:${value};flex:1 1 auto;min-width:60px;"></span> <input class="editor size-xs" disabled.bind="config.readOnly" style="flex:0 1 auto" type="text" value.bind="value | colorFormat & updateTrigger:\'blur\'" id="${config.id}" tabindex="${config.tabIndex}" name="${config.name}" blur.capture="validateValue($event)"></div></template>'},"controls/simple/color-picker/qp-menu-color-picker.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-menu-color-picker.css"></require><div as-element="qp-drop-down-frame" class="${config.disabled ? \'disabled\': \'\'}" control-class="qp-menu-color-picker" ref="dropDown" dropdownopened.trigger="dropDownOpened($event)"><template replace-part="main"><button ref="btnElement" class="qp-menu-color-picker-button qp-menu-color-picker-action-button" click.capture="processButtonClick($event)"><qp-hyper-icon if.bind="!!config.images.normal" css="color: ${config.selectedColor ? config.selectedColor: \'currentColor\'}" images.bind="config.images"></qp-hyper-icon><div if.bind="!!config.label">${config.label}</div></button></template><template replace-part="dropdown"><qp-color-palette if.bind="onceOpened" allow-null.bind="config.allowNull" color.bind="config.selectedColor" allow-adjust.bind="config.allowAdjust" user-colors.bind="config.userColors" newcolor.trigger="newColorAdded($event)" colorselected.trigger="colorSelected($event)"></qp-color-palette></template></div><qp-tooltip target.bind="btnElement" if.bind="!!config.tooltip"><div>${config.tooltip}</div></qp-tooltip></template>'},"controls/simple/date-editor/qp-datetime-edit-utc.html":function(e,n,r){"use strict";r.r(n);n.default='<template><qp-datetime-edit config.bind="config" value.two-way="convertedDate" containerless></qp-datetime-edit></template>'},"controls/simple/date-editor/qp-datetime-edit.html":function(e,n,r){"use strict";r.r(n);n.default='<template css="display: ${config.hidden ? \'none\': \'inline-block\'};"><require from="./qp-datetime-edit.css"></require><require from="../../utility/options/qp-options"></require><div id="${config.id}" class="${config.class} qp-datetime__editor dropDown ${hasFocus ? \'focus\' : \'\'} ${ROMode ? \'ReadOnly\' : \'\'}" buttons.bind="ROMode ? \'0\' : \'\' & attr" css="display: ${config.hidden ? \'none\': \'block\'}; ${config.width ? \'width: \'+config.width+\'px;\' : \'\'} ${config.height ? \'height: \'+config.height+\'px;\' : \'\'}" ref="editorDiv"><div class="editorCont"><div class="editorWrap"><input id="${config.id}_text" ref="elemText" name="${config.name}$text" type="text" tabindex="${ROMode ? \'-1\' : config.tabIndex}" class="editor ${ROMode ? \'ReadOnly\' : \'\'}" keydown.capture="processKeyDown($event)" keypress.capture="processKeyPress($event)" focus.capture="processFocus($event)" blur.capture="processBlur($event)" update.capture="processUpdate($event)" beforepaste.delegate="processBeforePaste($event)" paste.delegate="processPaste($event)" selectstart.delegate="processSelectStart($event)" input.delegate="processInput($event)" value.to-view="textValue" focus.bind="focused" enabled.bind="config.enabled ? null : false & attr" disabled.bind="ROMode"></div></div><div class="buttonsCont qp-calendar-opener" mousedown.capture="toggleCalendar($event)"><span class="center"></span><qp-icon show.bind="!ROMode" imagesrc.bind="config && config.timeMode ? \'svg:main@aroundTheClock\' : \'svg:main@datePicker\'" type="sel"></qp-icon>\x3c!-- <div class="sprite-icon control-icon" icon="DropDownN" type="sel"\r\n\t\t\tcss="${ROMode ? \'display: none;\' : \'\'}">\r\n\t\t\t\t<div class="control-icon-img control-DropDownN">\r\n\t\t\t\t</div>\r\n\t\t\t</div> --\x3e</div></div><div if.bind="dropDownOpen" class="qp-datetime__calendar-overlay" mousedown.trigger="handleOuterClick($event)"><div glue-to.bind="elemText" portal style="z-index: 10000; max-width:412px; max-height:269px;" mousedown.trigger="handleInnerClick($event)" id="${config.id}_items"><qp-options if.bind="config.timeMode" config.bind="timeItems" value.to-view="[getValueOrToday()]" options-for.bind="element" valuechanged.delegate="acceptDateFromCalendar($event)"></qp-options><qp-calendar else config.to-view="{\'customItems\': config.customItems, \'firstDayOfWeek\': config.firstDayOfWeek}" value.to-view="getValueOrToday()" valuechanged.delegate="acceptDateFromCalendar($event)"></qp-calendar></div></div></template>'},"controls/simple/drop-down/qp-drop-down.html":function(e,n,r){"use strict";r.r(n);n.default='<template enabled.bind="!!config.enabled & attr" class="${ROMode ? \'ReadOnly\' : \'\'}"><require from="./qp-drop-down.css"></require><require from="../../utility/options/qp-options.css"></require><div id="${config.id}" tabindex="-1" class="drop-down__editor ${config.class} ${hasFocus ? \'focus\':\'\'} ${ROMode ? \'ReadOnly\' : \'\'} size-${config.size}" ref="editorWrap" css="display: ${config.hidden ? \'none\': \'block\'};" mousedown.trigger="toggleSelector($event)" buttons.bind="ROMode ? \'0\' : \'\' & attr"><div class="editorCont"><div class="editorWrap" title=""><input name="${config.name}$text" type="text" id="${config.id}_text" autocomplete="off" autocorrect="off" ref="inputElement" value.bind="valueText" tabindex="${ROMode ? \'-1\' : config.tabIndex}" keydown.capture="onKeyDown($event)" keypress.delegate="onKeyPress($event)" input.delegate="onInput($event)" focus.bind="hasFocus" focus.capture="onFocus()" blur.capture="onBlur()" paste.delegate="onPaste($event)" class="drop-down__display-text ${ROMode ? \'ReadOnly\' : \'\'} ${config.allowEdit || (autoSuggest && hasFocus) ? \'\' : \'drop-down__invisible\'}" readonly.bind="ROMode ? \'readonly\' : null & attr"><span class="center"></span><span class="drop-down__text ${ROMode ? \'ReadOnly\' : \'\'}" valueattr.bind="value & attr"><div if.bind="config.colorMode" class="${\'drop-down__current-color \'+getColorClass(value)}" css="${getAdditionalStyle(value)}"></div><qp-icon if.bind="currentImageUrl" imagesrc.bind="currentImageUrl" height="100%" width="100%" class="drop-down__current-image"></qp-icon>${valueText}</span></div></div><div class="buttonsCont"><span class="center"></span><div if.bind="config.clearButton && !ROMode" class="sprite-icon control-icon" icon="ClearN" type="clear" mousedown.trigger="clearSelection($event)"><div class="control-icon-img control-ClearN"></div></div><qp-icon show.bind="!ROMode" imagesrc="svg:main@treeArrowDown" type="sel"></qp-icon>\x3c!-- <div class="sprite-icon control-icon" icon="DropDownN" type="sel"\r\n\t\t\tcss="${ROMode ? \'display: none;\' : \'\'}">\r\n\t\t\t\t<div class="control-icon-img control-DropDownN">\r\n\t\t\t\t</div>\r\n\t\t\t</div> --\x3e</div></div><div if.bind="showOptions" id="${config.id}_dd" class="drop-down__options-pane ${config.class}" ref="optionsPane" glue-to.bind="editorWrap" portal css="width: auto; min-width: ${editorWrap.clientWidth}px; max-width: 50vw;" mousedown.capture="ignoreClicks($event)"><div class="drop-down__option ddItem ddDisabled ddInfo" if.bind="options && !options.length">No Data Available</div><div repeat.for="op of options" click.capture="select(op,$event)" class="drop-down__option ddItem ${highlightedIndex === $index ? \'ddSelection\':\'\'} ${op.enabled===0 || op.enabled===false ? \'ddDisabled\':\'\'}" mouseenter.capture="enterHighlight($index)" mousemove.capture="commitHighlight($index) & throttle:100"><div if.bind="config.allowMultiSelect" class="sprite-icon control-icon" icon.bind="op.selected ? \'GridCheck\' : \'GridUncheck\' & attr" data-type="check" style="margin-left: 2px; margin-right: 5px;"><div class="control-icon-img control-${op.selected ? \'GridCheck\' : \'GridUncheck\'}"></div></div><qp-icon if.bind="op.imageUrl" imagesrc.bind="op.imageUrl" class="drop-down__image"></qp-icon><div if.bind="config.colorMode" class="${\'drop-down__current-color \'+getColorClass(op.value)}"></div>${op.text || \'&nbsp;\'}</div></div></template>'},"controls/simple/external-viewer/qp-external-viewer.html":function(e,n,r){"use strict";r.r(n);n.default='<template css="display: ${config.hidden ? \'none\': \'\'};"><require from="./qp-external-viewer.css"></require><div class="external-viewer-placeholder" css="height: ${placeHolderHeight > 0 ? placeHolderHeight + \'px\' : \'inherit\'} !important;"><iframe src.bind="value" scrolling.bind="config.scrolling === false ? \'no\' : \'auto\' & attr" class="external-viewer" load.trigger="frameLoaded()" ref="frameElement" css="height: ${frameHeight > 0 ? frameHeight + \'px\' : \'inherit\'} !important;"></iframe></div></template>'},"controls/simple/icon/qp-hyper-icon.html":function(e,n,r){"use strict";r.r(n);n.default='<template><div class="qp-hyper-icon" mouseover.delegate="OnMouseOver()" mouseout.delegate="OnMouseOut()" mousedown.delegate="OnMouseDown()" click.delegate="OnClick()"><img if.bind="ImageType===\'img\'" src.bind="ImageName & attr" align="absmiddle"><div if.bind="ImageType!==\'img\'" class="sprite-icon ${SpriteName}-icon" icon.bind="ImageName & attr"><div if.bind="ImageType===\'sprite\'" class="${SpriteName}-icon-img ${SpriteName}-${ImageName}"></div><svg if.bind="ImageType===\'svg\'"><use href.bind="SvgUrl & attr"></use></svg></div></div></template>'},"controls/simple/icon/qp-icon.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-icon.css"></require><img if.bind="imageType===\'img\'" class="${!imageReady ? \'qp-loader-indicator loading\' : \'\'}" src.bind="imageName & attr" load.bind="imgLoaded()" css="${width ? \'width: \'+width+\'; \' : \'\'} ${height ? \'height: \'+height+\'; \' : \'\'} "><div if.bind="imageType===\'sprite\'" class="sprite-icon ${spriteName}-icon" icon.bind="imageName & attr"><div if.bind="imageType===\'sprite\'" class="${spriteName}-icon-img ${spriteName}-${imageName}"></div></div><svg if.bind="imageType===\'svg\'"><use href.bind="imageName & attr"></use></svg> <i if.bind="imageType===\'fa\'" class="ac ac-${imageName}" icon.bind="imageName & attr" style="padding-right: 5px;"></i></template>'},"controls/simple/image/components/gallery/carousel.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./carousel.scss"></require><div class="carousel-body" tabindex="0" ref="carouselBody"><div class="carousel-left ${previousEnabled ? \'\' : \'carousel-button-disabled\'}" click.delegate="changePosition($event, false)"><qp-icon class="arrow left" imagesrc="svg:main@carousel-arrow"></qp-icon></div><div class="carousel-center"><slot></slot></div><div class="carousel-right ${nextEnabled ? \'\' : \'carousel-button-disabled\'}" click.delegate="changePosition($event, true)"><qp-icon class="arrow right" imagesrc="svg:main@carousel-arrow"></qp-icon></div></div></template>'},"controls/simple/image/components/gallery/image-feed.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./image-feed.scss"></require><require from="../view/image-view"></require><div class="image-feed" ref="feed" css="height: ${feedHeight}px; width: ${feedWidth + feedOffset}px; left: -${feedOffset}px;"><div class="image-feed-track" css="width: ${leftTrack}px;"></div><image-view repeat.for="item of images" src.bind="item.source" width="${imageWidth}px" height="100%" object-fit="cover" click.delegate="selectImage(item.source, item.index)" class="${item.index === index ? \'selected\': \'\'}" data-image-index="${item.index}"></image-view><div class="image-feed-track" css="width: ${rightTrack}px;"></div></div></template>'},"controls/simple/image/components/gallery/image-gallery.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./image-gallery.scss"></require><require from="./image-feed"></require><require from="./carousel"></require><require from="../view/image-view"></require><div class="image-gallery" tabindex="0" ref="gallery" css.bind="sizeStyles"><let index-valid.bind="index >=0 && maxIndex >= 0"></let><carousel previous.call="move(-1)" next.call="move(1)" previous-enabled.bind="showArrows && !readOnly && index > minIndex" next-enabled.bind="showArrows && !readOnly && index < maxIndex" css.bind="showArrows ? \'\' : \'--carousel-button-disabled-display: none;\'"><image-view if.bind="indexValid" src.one-way="imageSource" click.call="clickImage(source, image)" cancel.call="cancelImage(source)" loaded.call="imageLoaded(source, image)" view-model.ref="imageView" css.bind="imageStyle" allow-zoom.bind="allowZoom"></image-view><div class="image-gallery-placeholder" show.bind="!indexValid"><slot></slot></div></carousel><image-feed if.bind="showFeed && !readOnly" collection.bind="collection" index.one-way="index" selected.call="feedSelected(source, index)"></image-feed></div></template>'},"controls/simple/image/components/popup/image-popup.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./image-popup.scss"></require><require from="../gallery/image-gallery"></require><div if.bind="visible" class="image-popup-host"><div portal class="image-popup"><div class="image-popup-caption"><div class="image-popup-title">${imageName}</div><div class="image-popup-toolbar"><qp-control-bar component-id="image-popup-tools" config.bind="toolbarToolsConfig" view-model.ref="toolbar"></qp-control-bar><qp-control-bar component-id="image-popup-system" config.bind="toolbarSystemConfig"></qp-control-bar></div></div><image-gallery collection.bind="collection" index.one-way="index" show-feed.bind="false" allow-null.bind="false" allow-zoom.bind="true" image-click.call="ok()" image-cancel.call="cancel()" image-ready.call="imageReady(source, image)" selected.call="imageSelected(index)"></image-gallery></div></div></template>'},"controls/simple/image/components/view/image-view.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./image-view.scss"></require><require from="./load-progress"></require><div class="image-view" ref="viewFrame" css.bind="styles"><template if.bind="!image"><img if.bind="preview" class="image-view-image-preview" src.bind="preview & attr" width.bind="image.size.width & attr" height.bind="image.size.height & attr" draggable="false" css="object-fit: ${objectFit}; object-position: ${objectPosition}"><div class="image-view-load-status"><template if.bind="!canceled"><template if.bind="progress >= 0 & debounce:500"><load-progress progress.bind="progress" cancel.call="cancelLoading()"></load-progress><div class="image-view-load-status-text">${downloadingMessage}</div></template></template><template else><reload-icon><svg click.delegate="reload()" viewBox="0 0 49 49" xmlns="http://www.w3.org/2000/svg"><circle id="reload-icon-circle" cx="24.5" cy="24.5" r="21.5"/><path id="reload-icon-arrow" d="M17.15 23L23.3 29.15V15.5H25.55V29.15L32 23L33.5 24.5L24.5 33.5L15.5 24.5L17.15 23Z"/></svg></reload-icon><div class="image-view-load-status-text">${reloadMessage}</div></template></div></template><template else><img class="image-view-image" src.bind="image.url & attr" width.bind="image.size.width & attr" height.bind="image.size.height & attr" load.trigger="setLoaded()" error.trigger="errorHappened($event)" alt.bind="source.name & attr" draggable="false" mousedown.trigger="mouseDown($event)" mouseleave.trigger="mouseLeave($event)" mouseup.trigger="mouseUp($event)" mousemove.trigger="mouseMove($event)" css="object-fit: ${objectFit}; object-position: ${objectPosition}" loading="lazy" zoom.two-way="zoomApplied"><div class="image-view-spinner" if.bind="!loadFinished"></div></template></div></template>'},"controls/simple/image/components/view/load-progress.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./load-progress.scss"></require><div class="load-progress"><svg class="load-progress-icon" click.delegate="triggerClick($event)" viewBox="0 0 49 49" xmlns="http://www.w3.org/2000/svg"><circle id="progress-body" cx="24.5" cy="24.5" r="21.5"/><circle id="progress-value" cx="24.5" cy="24.5" r="${radius}" stroke-dashoffset="${progressValue}" stroke-dasharray="107" transform="rotate(${spinner ? spinner.angle : 316}, 24.5, 24.5)"></circle><path id="progress-cancel" d="M31.5 18.91L30.09 17.5L24.5 23.09L18.91 17.5L17.5 18.91L23.09 24.5L17.5 30.09L18.91 31.5L24.5 25.91L30.09 31.5L31.5 30.09L25.91 24.5L31.5 18.91Z"/></svg></div></template>'},"controls/simple/image/upload/qp-image-uploader.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-image-uploader.scss"></require><require from="../components/popup/image-popup"></require><require from="../components/gallery/image-gallery"></require><div if.bind="visible" class="qp-image-uploader" component-id.bind="config.id" css.bind="sizeStyles"><qp-multi-upload config.bind="dropDownUploaderConfig" fileloading.trigger="filesDropped($event)"><image-gallery component-id="gallery" collection.bind="collection" index.one-way="index" show-feed.bind="showFeed" read-only.bind="readOnly" allow-null.bind="allowNull" allow-zoom.bind="false" show-arrows.bind="showArrows" image-click.call="showPreview()" selected.call="imageSelected(source, index)"><div class="qp-image-uploader-placeholder"><qp-multi-upload config.bind="clickableUploaderConfig" fileloading.trigger="filesDropped($event)" click.delegate="internalUploaderClick()"><template if.bind="readOnly || collectionSize > 0"><div class="qp-image-uploader-message qp-image-uploader-message-null"><svg class="qp-image-uploader-null" viewBox="0 0 46 46" xmlns="http://www.w3.org/2000/svg"><path d="M23 0.25C10.4557 0.25 0.25 10.4557 0.25 23C0.25 35.5443 10.4557 45.75 23 45.75C35.5443 45.75 45.75 35.5443 45.75 23C45.75 10.4557 35.5443 0.25 23 0.25ZM4.61301 23C4.61301 18.7149 6.09021 14.7714 8.55655 11.6412L34.3582 37.4428C31.2286 39.9098 27.2851 41.387 23 41.387C12.861 41.387 4.61301 33.139 4.61301 23ZM11.6412 8.55655L37.4434 34.3588C39.9098 31.2286 41.387 27.2851 41.387 23C41.387 12.861 33.139 4.61301 23 4.61301C18.7149 4.61301 14.7714 6.09021 11.6412 8.55655Z"/></svg><div>${Messages.NoImageImagePrompt}<span if.bind="!readOnly"><br>${Messages.NoImageUploadImagePrompt}</span></div></div></template><template else><div class="qp-image-uploader-message"><svg class="qp-image-uploader-prompt" viewBox="0 0 53 44" xmlns="http://www.w3.org/2000/svg"><path d="M25.9583 2.99998C21.0011 2.99998 16.8189 6.33053 15.5327 10.8782L15.3097 11.6666H14.4902H13.5C7.51692 11.6666 2.66667 16.5169 2.66667 22.5C2.66667 28.4831 7.51691 33.3333 13.5 33.3333L20 33.3333V35.5H13.5C6.3203 35.5 0.5 29.6797 0.5 22.5C0.5 15.3203 6.3203 9.49998 13.5 9.49998H13.6984C15.4829 4.45156 20.2968 0.833313 25.9583 0.833313H26.5C33.3149 0.833313 38.905 6.07716 39.4555 12.75H41.125C47.4072 12.75 52.5 17.8427 52.5 24.125C52.5 30.4072 47.4072 35.5 41.125 35.5H33V33.3333L41.125 33.3333C46.2106 33.3333 50.3333 29.2106 50.3333 24.125C50.3333 19.0394 46.2106 14.9166 41.125 14.9166H38.4167H37.3333V13.8333C37.3333 7.85023 32.4831 2.99998 26.5 2.99998H25.9583ZM27.266 16.8589C27.0629 16.6558 26.7873 16.5416 26.5 16.5416C26.2127 16.5416 25.9371 16.6558 25.734 16.8589L18.1506 24.4423C17.7276 24.8653 17.7276 25.5513 18.1506 25.9743C18.5737 26.3974 19.2596 26.3974 19.6827 25.9743L25.4167 20.2404V42.8125C25.4167 43.4108 25.9017 43.8958 26.5 43.8958C27.0983 43.8958 27.5833 43.4108 27.5833 42.8125V20.2404L33.3173 25.9743C33.7404 26.3974 34.4263 26.3974 34.8494 25.9743C35.2724 25.5513 35.2724 24.8653 34.8494 24.4423L27.266 16.8589Z"/></svg><div>${Messages.UploadImagePrompt}</div></div></template></qp-multi-upload></div></image-gallery><qp-control-bar if.bind="!viewOnly" class="image-gallery-toolbar" component-id="toolbar" config.bind="{ type: \'panel\', sizing: \'fit-content\', showMode: \'icons\' }"><button id="edit" data-icon="svg:main@pencil" data-visible="${!readOnly && config.editDialog !== false}" data-tooltip="${Messages.EditImageCommandTooltip}" click.trigger="editTrigger()"></button> <button id="clear" data-icon="main@Remove" data-visible="${!readOnly}" data-tooltip="${Messages.ClearImageCommandTooltip}" data-enabled="${!!value ? \'true\' : \'false\'}" click.trigger="clearTrigger()"></button></qp-control-bar></qp-multi-upload><image-popup src.bind="collection" index.two-way="popupIndex" visible.two-way="popupVisible" close.call="popupClosed(succeeded)"></image-popup></div></template>'},"controls/simple/image/view/qp-image-view.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-image-view.scss"></require><require from="../components/view/image-view"></require><require from="../components/popup/image-popup"></require><div class="qp-image-view" if.bind="visible" component-id.bind="config.id"><template if.bind="!!imageUrl"><image-view src.bind="imageUrl" click.call="imageClick()" width.bind="config.width || width" height.bind="config.height || height" component-id="image"></image-view><image-popup src.bind="imageUrl" visible.two-way="popupVisible"></image-popup></template><template else><div component-id="no-image" class="qp-image-view-message qp-image-view-message-null" css.bind="sizeStyles"><svg class="qp-image-view-null" viewBox="0 0 46 46" xmlns="http://www.w3.org/2000/svg"><path d="M23 0.25C10.4557 0.25 0.25 10.4557 0.25 23C0.25 35.5443 10.4557 45.75 23 45.75C35.5443 45.75 45.75 35.5443 45.75 23C45.75 10.4557 35.5443 0.25 23 0.25ZM4.61301 23C4.61301 18.7149 6.09021 14.7714 8.55655 11.6412L34.3582 37.4428C31.2286 39.9098 27.2851 41.387 23 41.387C12.861 41.387 4.61301 33.139 4.61301 23ZM11.6412 8.55655L37.4434 34.3588C39.9098 31.2286 41.387 27.2851 41.387 23C41.387 12.861 33.139 4.61301 23 4.61301C18.7149 4.61301 14.7714 6.09021 11.6412 8.55655Z"/></svg><div>${Messages.NoImageImagePrompt}</div></div></template></div></template>'},"controls/simple/last-update/last-update.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./last-update-value-converter"></require>${dateTime | ago}</template>'},"controls/simple/link-editor/qp-link-editor.html":function(e,n,r){"use strict";r.r(n);n.default='<template css="display: ${config.hidden ? \'none\': \'inline\'};"><require from="./qp-link-editor.css"></require><div id="${config.id}" class="qp-link-editor ${config.class} ${config.readOnly || !config.enabled ? \'ReadOnly\' : \'\'} ${hasFocus ? \'focus\':\'\'}" css="${config.hidden ? \'display:none;\': \'\'}${config.width ? \'width: \'+config.width+\'px\' : \'\'}"><div class="editorCont"><div if.bind="value && !isInlineEditing" class="editorWrap"><span class="link-obj" click.delegate="inputLinkElem.focus()"><a show.bind="mainLink.link" href.bind="mainLink.link" target="_blank" enabled.bind="config.enabled ? null : false & attr" css="text-align: ${align}" click.delegate="processOpenLink($event)" innerhtml.bind="mainLink.name"></a><p show.bind="!mainLink.link" innerhtml.bind="mainLink.name" class="p-link"></p></span></div><input tabindex="${config.tabIndex}" class="input-url" ref="inputLinkElem" show.bind="!ROMode" value.bind="inputLink" focus.bind="hasFocus" focus.trigger="processInputFocus($event)" blur.trigger="processInputBlur($event)" paste.delegate="processPaste($event)" keydown.delegate="processInputKeyDown($event)"></div><div class="buttonsCont" if.bind="ROMode && mainLink.link"><qp-icon id="${config.id}_btn_copy" class="buttonAction" imagesrc="main@Copy" click.delegate="copyButtonClick()"></qp-icon></div><div class="buttonsCont" if.bind="!ROMode && config.activeButton"><qp-icon id="${config.id}_btn" class="buttonAction" click.delegate="processButtonClick()" imagesrc="text@Link"></qp-icon></div></div><qp-panel id="pnlLinkEditor" caption="Edit Link" class="qp-link-editor-panel label-size-s"><div class="qp-field-wrapper"><qp-label-light label-size="xs" caption="${Msg.LinkEditorLink}"></qp-label-light><div class="control-container size-default"><qp-text-editor config.bind="{class: \'editor\', enabled: true}" class="qp-link-editor-input" value.two-way="dlgLink.link"></qp-text-editor></div></div><div class="qp-field-wrapper"><qp-label-light label-size="xs" caption="${Msg.LinkEditorName}"></qp-label-light><div class="control-container size-default"><qp-text-editor config.bind="{class: \'editor\', enabled: true}" class="qp-link-editor-input" value.two-way="dlgLink.name"></qp-text-editor></div></div><footer><qp-button caption="OK" click.delegate="setNewValueAndCloseDialog()" class="major-button"></qp-button><qp-button caption="Cancel" click.delegate="closeCurrentDialog($event)"></qp-button></footer></qp-panel></template>'},"controls/simple/loader-indicator/qp-loader-indicator.html":function(e,n,r){"use strict";r.r(n);n.default='<template class="qp-loader-indicator" class.bind="loadingClass"><require from="./qp-loader-indicator.css"></require><template if.bind="loadingState==\'in-sync\'"><template replaceable part="in-sync"></template></template><template if.bind="loadingState==\'will-load\'"><template replaceable part="will-load"></template></template><template if.bind="loadingState==\'loading\'"><template replaceable part="loading"><svg class="loader-indicator-img" height="3px" width="100%" viewBox="80 0 235 10" preserveAspectRatio="none"><path class="progress" stroke-width="4" d="M70,10 l250,0"></path></svg></template></template></template>'},"controls/simple/mail-editor/qp-mail-editor.html":function(e,n,r){"use strict";r.r(n);n.default='<template css="display: ${config.hidden ? \'none\': \'inline-block\'};"><require from="./qp-mail-editor.css"></require><div id="${config.id}" class="qp-control-outline qp-mail-editor ${config.class} ${config.readOnly || !config.enabled ? \'ReadOnly\' : \'\'} ${hasFocus ? \'focus\':\'\'}" css="${config.hidden ? \'display:none;\': \'\'}${config.width ? \'width: \'+config.width+\'px\' : \'\'}"><div class="editorCont"><div class="editorWrap"><input type="text" ref="elemText" id="${config.id}_text" name="${config.name}$text" tabindex="${config.tabIndex}" autocomplete="off" autocorrect="off" class="${config.class} qp-text-editor ${config.language?\'with-language\':\'\'}" maxlength.bind="config.maxLength & attr" enabled.bind="config.enabled ? null : false & attr" readonly="${config.readOnly || !config.enabled ? true : null}" spellcheck.bind="config.spellcheck ? null : false & attr" css="text-align: ${align}" placeholder.bind="config.placeholder & attr" value.bind="value | meta : converter : hasFocus : editorState : config & updateTrigger : \'blur\' : \'update\'" keydown.trigger="processKeyDown($event)" input.delegate="processInput($event)" focus.trigger="processFocus($event)" blur.trigger="processBlur($event)" paste.delegate="processPaste($event)"></div></div><div class="buttonsCont"><qp-hyper-icon id="${config.id}_btn" disabled.bind="buttonDisabled" images.bind="config.images" click.delegate="processButtonClick()"></qp-hyper-icon></div></div></template>'},"controls/simple/segmented-selector/qp-segmented-selector.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="../selector/qp-selector.css"></require><div class="qp-selector editor ${config.readOnly || !config.enabled ? \'qp-selector-readonly\' : \'\'}"><qp-mask-editor ref="input" config.bind="config" click.delegate="onClick($event)"></qp-mask-editor><button if.bind="!config.readOnly && !config.disabled && !config.enabled == false && state.lookupMode === 2" type="button" mousedown.capture="openSelector($event)" class="qp-field-editor__button" tabindex="-1"><qp-icon imagesrc="svg:main@search" class="buttonsCont" type="sel"></qp-icon></button></div></template>'},"controls/simple/selector/qp-selector.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-selector.css"></require><require from="../../utility/suggester/elements/qp-suggester"></require><div class="editor qp-selector ${editMode?\'focus edit-mode\':\'\'} ${config.readOnly || !config.enabled ? \'qp-selector-readonly\' : \'\'} ${config.allowEdit ? \'qp-selector-allow-edit\' : \'\'} ${empty ? \'qp-selector-empty\':\'\'}" ref="editorDiv" id="${config.id}" tabindex="-1"><enhanced-compose show.bind="!isLinkMode" class="qp-editor-plugin" view-model.bind="editorType" config.bind="editorConfig" value.two-way="editorValue" elem-text.from-view="editor" converter.to-view="converterType" keydown.delegate="handleKeyDown($event)"></enhanced-compose><span if.bind="isLinkMode" class="qp-selector-link-wrapper" focus-elem tabindex="${(config.readOnly || !config.enabled) ? \'-1\' : \'0\'}" focus.trigger="onSpanFocus($event)"><span class="qp-selector-link"><span class="qp-selector-link-text" mousedown.trigger="openEditor($event)">${refText}</span> <span class="qp-selector-link-desc">${descrText}</span> </span></span><button if.bind="!config.readOnly && !config.disabled && !config.enabled == false" type="button" mousedown.capture="openSelector($event)" class="qp-field-editor__button" tabindex="-1"><qp-icon imagesrc="svg:main@search" class="buttonsCont" type="sel"></qp-icon>\x3c!-- <div class="buttonsCont sprite-icon control-icon" icon="SelectorN" type="sel">\r\n\t\t\t\t<div class="control-icon-img control-SelectorN">\r\n\t\t\t\t</div>\r\n\t\t\t</div> --\x3e</button></div><qp-suggester if.bind="config.suggester && editor && showSuggester" config.bind="config.suggester" editor.two-way="editor" rect-element.bind="editorDiv" force-open.two-way="suggesterOpen" set-editor-value.call="setSuggestedValue(value,display,useUpdateValue)"></qp-suggester></template>'},"controls/simple/text-editor/qp-text-editor.html":function(e,n,r){"use strict";r.r(n);n.default='<template css="display: ${config.hidden ? \'none\': \'\'};"><require from="./qp-text-editor.css"></require><require from="../../dialog/base-dialog/base-dialog.css"></require><template if.bind="(config.hasEditLink || config.linkCommand) && (!config.enabled || config.readOnly)"><a id="${config.id}" name="${config.name}" class="${config.class} qp-text-editor" tabindex="${config.tabIndex}" href="javascript: void 0" css="text-align: ${align}" click.trigger="processLinkClick()" enabled.bind="enabled ? null : false & attr">${value | meta : converter : false : { hasChanges: false } : config}</a></template><template else><template if.bind="SuggestionMode"><qp-text-editor-autocomplete config.bind="config" value.two-way="value"></template><template else><textarea if.bind="config.type == 1" id="${config.id}" ref="elemText" name="${config.name}" class="${config.class} qp-text-editor ${config.language?\'with-language\':\'\'}" tabindex="${config.tabIndex}" maxlength.bind="config.maxLength & attr" enabled.bind="config.enabled ? null : false & attr" readonly="${config.readOnly || !config.enabled ? true : null}" spellcheck.bind="config.spellcheck ? null : false & attr" css="text-align: ${align}" placeholder.bind="config.placeholder & attr" wrap.bind="wrap ? \'off\': null & attr" rows.bind="config.rows & attr" cols.bind="config.cols & attr" value.bind="value | meta : converter : hasFocus : editorState : config & updateTrigger : \'blur\' : \'update\'" keydown.trigger="processKeyDown($event)" focus.trigger="processFocus($event)" blur.trigger="processBlur($event)" paste.delegate="processPaste($event)">\r\n    </textarea> <input if.bind="config.type != 1" type="${textMode}" id="${config.id}" ref="elemText" name="${config.name}" class="${config.class} qp-text-editor ${type} ${config.language?\'with-language\':\'\'}" tabindex="${config.tabIndex}" autocomplete="off" autocorrect="off" maxlength.bind="config.maxLength & attr" enabled.bind="config.enabled ? null : false & attr" readonly="${config.readOnly || !config.enabled ? true : null}" spellcheck.bind="config.spellcheck ? null : false & attr" css="text-align: ${align}" placeholder.bind="config.placeholder & attr" value.bind="value | meta : converter : hasFocus : editorState : config & updateTrigger : \'blur\' : \'update\'" keydown.trigger="processKeyDown($event)" input.delegate="processInput($event)" focus.trigger="processFocus($event)" blur.trigger="processBlur($event)" paste.delegate="processPaste($event)"> <a if.bind="config.language" class="locale-editor" click.delegate="openLocaleWindow($event)">${config.language}</a><qp-panel id="pnlLocaleEditor"><div class="qp-field-wrapper" repeat.for="translation of translations"><span class="label-wrapper label-size-sm"><qp-label-light caption="${translation.languageCaption || translation.language}" control-id="translation_${translation.language}"></qp-label-light></span><div class="control-container size-xxl"><qp-text-editor config.bind="{class: \'editor\', id: `translation_${translation.language}`}" value.two-way="translation.valueString"></qp-text-editor></div></div></qp-panel></template></template></template>'},"controls/simple/uploader/qp-multi-upload.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-multi-upload.scss"></require><qp-uploader config.bind="config" value.two-way="files"><slot></slot></qp-uploader></template>'},"controls/simple/uploader/qp-uploader.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-uploader.scss"></require><div class="qp-uploader"><input show.bind="showInput" ref="fileInput" class="uploader-input" type="file" change.trigger="filesFromInput()" id="${config ? config.id : \'\'}" title="" accept="${config ? config.accept : \'\'}"><div class="qp-tool-bar-button uploader-button" css.bind="buttonStyles"><slot><div class="qp-tool-bar-text">${(config && config.singleMode) ? Messages.UploadFileCaption : Messages.UploadFilesCaption }</div></slot></div></div></template>'},"controls/utility/drop-down-frame/qp-drop-down-frame.html":function(e,n,r){"use strict";r.r(n);n.default='<template><div ref="control" class="${controlClass} ${opened ? `${controlClass}-selected qp-selected`: \'\'} ${!showOpener ? `${controlClass}-no-options`: \'\'}"><template replaceable part="main"></template><template replaceable part="opener"><button if.bind="showOpener" class="${controlClass}-opener ${opened ? \'opened\': \'\'}" mousedown.delegate="toggleDropDown($event)"><qp-icon imagesrc.bind="openerIcon || (opened ? \'svg:main@treeArrowUp\': \'svg:main@treeArrowDown\')"></qp-icon></button></template></div><div glue-to.bind="opened ? control: null" portal show.bind="opened" class="${controlClass}-options" mousedown.delegate="stopPropagation($event)" id="${contentElementId}"><div class="${controlClass}-container"><template replaceable part="dropdown"></template></div></div></template>'},"controls/utility/layout/qp-layout.html":function(e,n,r){"use strict";r.r(n);n.default='<template class="qp-layout-${layout}"><require from="./qp-layout.css"></require><div class="qp-layout ${layout} ${ellipsisStateClass}" css.bind="inlineCss" ref="host"><slot></slot><qp-layout-ellipsis as-element="qp-drop-down-frame" if.bind="ellipsisState !== 0" show.bind="ellipsisState === 1" opener-icon="svg:main@ellipsis" control-class="qp-layout-ellipsis" class.bind="ellipsisClass" ref="ellipsis"><template replace-part="dropdown"><div class="qp-layout-dashboard" id="${dashboardId}"></div></template></qp-layout-ellipsis></div></template>'},"controls/utility/options/qp-options.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-options.css"></require><div class="drop-down__options-pane ${config.class}" ref="optionsPane" mousedown.capture="ignoreClicks($event)"><div repeat.for="op of config.options" css="${ (op.value.visible===false || op.value.visible===0) ? \'display: none\' : \'\'}" click.delegate="select(op,$event)" class="ddItem ${highlightedIndex === $index ? \'ddSelection\':\'\'} ${op.value.enabled===false ? \'ddItemDisabled\' : \'\'}" mouseenter.capture="enterHighlight($index)" mousemove.capture="commitHighlight($index) & throttle:100" keydown.delegate="onKeyDown($event)" keypress.delegate="onKeyPress($event)" data-cmd="${op.value.command}"><div if.bind="config.allowMultiSelect" class="sprite-icon control-icon" icon.bind="op.selected ? \'GridCheck\' : \'GridUncheck\' & attr" data-type="check" style="margin-left: 2px; margin-right: 5px;"><div class="control-icon-img control-${op.selected ? \'GridCheck\' : \'GridUncheck\'}"></div></div>${op.text}</div></div></template>'},"controls/utility/suggester/elements/qp-suggester.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-suggester.css"></require><div if.bind="suggesting && suggestions" ref="suggestionsContainer" glue-to.bind="rectElement" class="qp-suggester ${loading || suggestions.loading ? \'loading\' : \'\'}" css="max-height: ${maxHeight}px;\r\n\t\t${suggesterWidth ? \'width: \' + suggesterWidth + \'px;\' : \'\'}\r\n\t\t${minWidth ? \'min-width: \' + minWidth + \'px;\' : \'\'}\r\n\t\t--qp-suggester-vertical-paddings: ${suggesterVerticalPaddings};\r\n\t\t--qp-suggestion-line-height: ${suggestionLineHeight};" scroll.trigger="handleScroll($event)" mousedown.capture="ignoreClicks($event)"><qp-suggestion repeat.for="i of suggestions.suggestionItems" extention-cord="force-show.bind: $index == highlightedSugestionIndex & debounce: 32; manual-show-only: true" css="--qp-suggestion-line-height: ${suggestionLineHeight}" class="${$index==highlightedSugestionIndex?\'suggestion-highlight\':\'\'}" mouseenter.capture="changeHighLight($index)" mouseup.delegate="select($index,$event)"><template repeat.for="s of i.segments"><mark if.bind="s.highlight">${s.text}</mark><template else>${s.text}</template></template></qp-suggestion><qp-suggestion if.bind="suggestions.haveMore" repeat.for="i of 1" class="loading-placeholder ${suggestions.loading ? \'loading\' : \'\'}">loading</qp-suggestion><div if.bind="suggestions.totalCount==0" class="no-results-found"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" style="vertical-align:bottom;margin-right:.5em;" fill="currentColor"><g id="sad" stroke="none" stroke-width=".8" fill="none" fill-rule="evenodd"><g id="Group" fill="#c8930c"><circle cx="10.84" cy="5.68" r="1.03"></circle><circle cx="5.16" cy="5.68" r="1.03"></circle><path d="M8,0 C3.58177778,0 0,3.58177778 0,8 C0,12.4182222 3.58177778,16 8,16 C12.4182222,16 16,12.4182222 16,8 C16,3.58177778 12.4182222,0 8,0 Z M8,14.6671111 C4.31822222,14.6671111 1.33333333,11.6822222 1.33333333,8.00044444 C1.33333333,4.31844444 4.31822222,1.33333333 8,1.33333333 C11.6822222,1.33333333 14.6671111,4.31822222 14.6671111,8.00022222 C14.6671111,11.6822222 11.6822222,14.6671111 8,14.6671111 Z" fill-rule="nonzero"></path><path d="M11.1988131,12.3870968 C10.9618705,12.3870968 10.7318091,12.2666654 10.6093237,12.0538815 C10.0854351,11.1424204 9.08513805,10.5760202 7.99974353,10.5760202 C6.91411964,10.5760202 5.914052,11.1424204 5.39016335,12.0538815 C5.21125217,12.3649409 4.80250892,12.4785719 4.47748694,12.307248 C4.15223558,12.1363627 4.03342021,11.7454545 4.21233139,11.434395 C4.97247455,10.1118441 6.42394887,9.29032258 7.99997291,9.29032258 C9.57576756,9.29032258 11.0274713,10.1120635 11.7876144,11.434395 C11.9665256,11.7454545 11.8479396,12.1361433 11.5226882,12.307248 C11.4194703,12.3614311 11.3084536,12.3870968 11.1988131,12.3870968 Z"></path></g></g></svg> ${localizedStrings.noResultsFound || msg.NoResultsFound}</div></div></template>'},"controls/utility/suggester/qp-editor-wrapper.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./elements/qp-suggester"></require><slot></slot><qp-suggester if.bind="config && config.suggester && editor" editor.two-way="editor" rect-element.bind="rectElement" set-editor-value.call="setEditorValue(value,display,useUpdateValue)" config.bind="config.suggester"></qp-suggester></template>'},"controls/utility/tooltip/qp-tooltip.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-tooltip.css"></require><div ref="contentElement" class="qp-tooltip-container ${errorCssClass(errorLevel)}" glue-to="target.bind: glueTarget; options.bind: {ignoreTargetWidth:true, centerToTarget: centerToTarget, verticalDistanceFromTargetPX:8}" css="--pointer-adjust:${pointerAdjustX}" style="display: none" glued.delegate="afterGlued($event)" click.capture="stopPropagation($event)"><slot>${tooltip}</slot></div></template>'},"controls/utility/wait-cursor/qp-wait-cursor.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-wait-cursor.css"></require><div class="wait-cursor" if.bind="callbackRunning && blockPage"></div></template>'},"features/diagram-common/workflow-diagram-confirm.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./workflow-diagram-confirm.css"></require><div class="dia-confirm-modal"><div class="dia-confirm-container"><div class="dia-confirm-text">${data}</div><div class="dia-confirm-span"></div><div class="dia-confirm-buttons"><button class="dia-confirm-btn dia-confirm-btn-ok" click.delegate="ok()">DELETE</button> <button class="dia-confirm-btn dia-confirm-btn-cancel" click.delegate="cancel()">CANCEL</button></div></div></div></template>'},"features/manufacturing-diagram/manufacturing-diagram.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./manufacturing-diagram.css"></require><input if.bind="config && config.id" id="${config.id}" name="${config.name}" value.to-view="value" ref="elemText" style="width:0px;height:0px;visibility:hidden;position:absolute;"><iframe width="100%" height="100%" ref="container" style="border: none;" src="./md.html"></iframe></template>'},"features/workflow-diagram/workflow-diagram.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./workflow-diagram.css"></require><require from="../diagram-common/workflow-diagram-confirm"></require><input if.bind="config && config.id" id="${config.id}" name="${config.name}" value.to-view="value" ref="elemText" style="width:0px;height:0px;visibility:hidden;position:absolute;"><div class="diagram-container" ref="diagramContainer"></div><ul id="nodeContextMenu" class="dia-menu"><li id="showState" click.delegate="showState($event)"><i class="ac ac-border_color"></i> Edit State</li><li id="addTransition" click.delegate="addTransition($event)"><i class="ac ac-add"></i> Add Transition</li><li id="removeState" click.delegate="removeState($event)"><i class="ac ac-delete"></i> Delete State</li></ul><ul id="transitionContextMenu" class="dia-menu"><li id="showTransition" click.delegate="showTransition($event)">Properties</li><li id="removeTransition" click.delegate="removeTransition($event)">Delete Transition</li></ul><ul id="linkContextMenu" class="dia-menu"><li id="showTransition" class="row" click.delegate="showTransition($event)"><i class="ac ac-border_color"></i></li><li id="removeTransition" class="row" click.delegate="removeTransition($event)"><i class="ac ac-delete"></i></li></ul><ul id="diagramContextMenu" class="dia-menu"><li id="newState" click.delegate="newState($event)"><i class="ac ac-add"></i> Add State</li><li id="newPredefinedState" click.delegate="newPredefinedState($event)"><i class="ac ac-add"></i> Add Predefined State</li></ul>\x3c!--div show.bind="!modeReadOnly" class="diagram-button diagram-button-addstate" click.delegate="newState($event)">NEW STATE</div--\x3e<div class="diagram-buttons"><div class="diagram-buttons-block"><div class="diagram-button diagram-button-plus" click.delegate="changeScale(.2)"><svg width="16px" height="16px" xmlns="http://www.w3.org/2000/svg"><path d="M14.8 8.8H8.40005V15H7.00005V8.8H0.800049V7.2H7.00005V1H8.40005V7.2H14.8V8.8Z" fill="black"/></svg></div><div class="diagram-button diagram-button-minus" click.delegate="changeScale(-.2)"><svg width="16px" height="16px" xmlns="http://www.w3.org/2000/svg"><path d="M14.8 8.79995H0.800049V7.19995H14.8V8.79995Z" fill="black"/></svg></div></div><div class="diagram-button diagram-button-100" click.delegate="scale100()"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.04492 12H2.39844V5.79492C1.79688 6.35742 1.08789 6.77344 0.271484 7.04297V5.54883C0.701172 5.4082 1.16797 5.14258 1.67188 4.75195C2.17578 4.35742 2.52148 3.89844 2.70898 3.375H4.04492V12Z" fill="black"/><path d="M7.17969 7.42383V5.77734H8.82617V7.42383H7.17969ZM7.17969 12V10.3535H8.82617V12H7.17969Z" fill="black"/><path d="M14.7207 12H13.0742V5.79492C12.4727 6.35742 11.7637 6.77344 10.9473 7.04297V5.54883C11.377 5.4082 11.8438 5.14258 12.3477 4.75195C12.8516 4.35742 13.1973 3.89844 13.3848 3.375H14.7207V12Z" fill="black"/></svg></div><div class="diagram-button diagram-button-fit" click.delegate="scaleFit()"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M15 1h1v14h-1V1zM0 1h1v14H0V1zM14 7.5L11.5 5v2h-7V5L2 7.5 4.5 10V8h7v2L14 7.5z"/></svg></div><div class="diagram-button diagram-button-toggleview" click.delegate="allToogleView($event)"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 2H3C1.89543 2 1 2.89543 1 4V12C1 13.1046 1.89543 14 3 14H13C14.1046 14 15 13.1046 15 12V4C15 2.89543 14.1046 2 13 2ZM3 1C1.34315 1 0 2.34315 0 4V12C0 13.6569 1.34315 15 3 15H13C14.6569 15 16 13.6569 16 12V4C16 2.34315 14.6569 1 13 1H3Z" fill="black"/><path d="M2 8C2 7.44772 2.44772 7 3 7H13C13.5523 7 14 7.44772 14 8V8C14 8.55228 13.5523 9 13 9H3C2.44772 9 2 8.55228 2 8V8Z" fill="black"/><path d="M2 11C2 10.4477 2.44772 10 3 10H13C13.5523 10 14 10.4477 14 11V11C14 11.5523 13.5523 12 13 12H3C2.44772 12 2 11.5523 2 11V11Z" fill="black"/></g><defs><clipPath id="clip0"><rect width="16" height="16" fill="white"/></clipPath></defs></svg></div></div><workflow-diagram-confirm show.bind="showConfirm" value.two-way="confirmValue" data.bind="confirmText"></workflow-diagram-confirm></template>'},"plugins/bank-feed/qp-mx.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-mx.css"></require><div id="mx-form-container"><div id="mx-form-header"><i class="ac ac-close ac-pull-right" tooltip="Close payment form" click.delegate="cancelAndCloseForm()"></i></div><div id="mx-form-wrapper"></div></div></template>'},"plugins/payment/qp-authorize-net-hosted-form.html":function(e,n,r){"use strict";r.r(n);n.default='<template id="${config.id}" class="${config.class}"><style>#AcceptUIContainer button {\r\n            background-color: blue;\r\n        }</style><form id="paymentForm" style="opacity: 0;" method="POST"><input type="hidden" name="dataValue" id="dataValue"> <input type="hidden" name="dataDescriptor" id="dataDescriptor"> <button id="acceptButton" type="button" class="AcceptUI" data-billingaddressoptions=\'{"show":true, "required":false}\' data-acceptuiformbtntxt="Submit" data-acceptuiformheadertxt="Card Information" data-responsehandler="responseHandler">Pay</button></form></template>'},"plugins/payment/qp-authorize-net.html":function(e,n,r){"use strict";r.r(n);n.default='<template id="${config.id}" class="${config.class}"><require from="./qp-authorize-net.css"></require><div ref="paymentForm"><p><label>Card Number</label> <input type="text" maxlength="16" value.bind="cardData.cardNumber"></p><p><label>Month</label> <input type="text" maxlength="2" value.bind="cardData.month"></p><p><label>Year</label> <input type="text" maxlength="4" value.bind="cardData.year"></p><p><label>Card Code</label> <input type="text" maxlength="3" value.bind="cardData.cardCode"></p><p><button ref="okPayButton" type="button" click.delegate="sendPaymentDataToAnet()">Pay</button> <button ref="cancelPayButton" type="button" click.delegate="closePaymentForm()">Cancel</button></p></div></template>'},"plugins/payment/qp-fortis.html":function(e,n,r){"use strict";r.r(n);n.default='<template id="${config.id}" class="${config.class}"><require from="./qp-fortis.css"></require><div ref="paymentForm" id="payment-form-fortis" class="flexible"><div ref="headerForDrag" mousedown.trigger="mouseDown($event)"><label class="payment-form-label">${title}</label> <i class="ac ac-close ac-pull-right" tooltip="Close payment form" click.delegate="cancelAndClosePaymentForm()"></i></div></div></template>'},"plugins/payment/qp-stripe.html":function(e,n,r){"use strict";r.r(n);n.default='<template><require from="./qp-stripe.css"></require><div class="payment-form-background ${isMobile?\'payment-mobile\':\'\'}"></div><div ref="paymentForm" class="${isMobile?\'payment-mobile\':\'\'}" id="payment-form" keydown.capture="keyDown($event)"><div ref="headerForDrag" mousedown.trigger="mouseDown($event)"><label class="payment-form-label">${title}</label> <i class="ac ac-close ac-pull-right" tooltip="Close payment form" click.delegate="cancelAndClosePaymentForm()"></i></div><div class="payment-card"><div class="card-front"><div><label ref="cardNumberLabel" required>${localizedStrings.CardNumber}</label><div id="card-number" class="payment-form-input"></div></div><div class="card-expiry"><label ref="cardExpiryLabel" required>${localizedStrings.ExpirationDate}</label><div id="card-expiry" class="payment-form-input"></div></div></div><div class="card-back"><div class="magnetic-line"></div><div class="card-cvc"><label ref="cardCvcLabel">${localizedStrings.Cvc}</label><div id="card-cvc" class="payment-form-input"></div></div></div></div><div id="additional-payment-info"><template repeat.for="item of fields"><div if.bind="item === separateBefore"><fieldset class="address-separator"><legend>${localizedStrings.ContactInfo}</legend></fieldset></div><div><label for="${item}">${localizedStrings[item]}</label> <input id="${item}" class="payment-form-input" keydown.capture="keyInputDown($event, ($index+1==fields.length)?\'pay-button\':fields[$index+1], ($index==0)?\'card-expiry\':fields[$index-1])"></div></template></div><div class="form-errors ${(errors == \'\')? \'payment-errors-hidden\': \'\'}"><i class="ac ac-warning"></i><div id="card-errors">${errors}</div></div><button ref="payButton" id="pay-button" disabled="disabled" class="pay-button">${buttonCaption} ${sum} ${currency}</button></div></template>'},"plugins/wiki-tooltip/qp-wiki-tooltip.html":function(e,n,r){"use strict";r.r(n);n.default='<template show.bind="uiWikiData.isShow==9"><require from="./qp-wiki-tooltip.css"></require><i class="ac ac-help btn-small-more-local" ref="btnMore"></i> <span class="btn-small-more-local" ref="btnMoreOfMenu" click.trigger="moreClick($event)"><i class="ac ac-help btn-small-more-local"></i></span></template>'},"apps/dac-browser/index":function(e,n,r){var o,i;o=[r,n,r("apps/dac-browser/qp-dac-browser")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configure=void 0,n.configure=function configure(e){e.globalResources([r.QpDacBrowserCustomElement])}}.apply(n,o),void 0===i||(e.exports=i)},"apps/dac-browser/messages":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/localization.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorMessages=void 0;let i=class ErrorMessages{};i.DisplayName="Display Name",i.DAC="DAC",i.DacQuery="DAC Query",i.Type="Type",i.Obsolete="Obsolete",i.ObsoleteDacTooltip="The DAC is obsolete and is going to be removed in a future version.",i.ObsoleteFieldTooltip="The field is obsolete and is going to be removed in a future version.",i.Customized="Customized",i.Field="Field",i.ForeignReference="Foreign Reference",i.Virtual="Nonexistent in DB",i.VirtualDacTooltip="The DAC exists only in the application code and does not correspond to table in the database.",i.VirtualFieldTooltip="The field exists only in the application code and does not correspond to a field in the database.",i.Remarks="Remarks",i.Summary="Summary",i.Value="Value",i.AppliedCustomization="Customization",i.Created="Created in",i.Modified="Modified in",i.UDF="User-Defined",i.UDFTooltip="A user-defined field",i.NameValuePairField="Name-Value",i.NameValuePairFieldTooltip="The field is stored in a KvExt table.",i.DefaultNavigation="Default Navigation",i.DefaultNavigationTooltip="The field has the PXSelector attribute that causes the opening of the record defined in the attribute if a user clicks the field on the form.",i.DacBrowserTitle="DAC Schema Browser",i.Search="Search",i.Namespace="Namespace",i.Definition="Definition",i.Fields="Fields",i.IncomingReferences="Incoming References",i.OutgoingReferences="Outgoing References",i.PreviewSourceData="Source Data",i.ViewDacQuery="DAC Query",i.SourceCode="Source Code",i.ViewSourceCode="Source Code",i.Hidden="Hidden",i.HiddenTooltip="The DAC is hidden and is not available in the reporting.",i.Projection="Projection",i.ProjectionTooltip="The DAC has a PXProjection attribute, which binds the DAC to a data set defined by the Select command in this attribute.",i.Accumulator="Accumulator",i.AccumulatorTooltip="The DAC has a PXAccumulator attribute, which updates DAC records in the database according to the policies specified in the attribute.",i.RowLevelSecurity="Row-Level Security",i.RowLevelSecurityTooltip="Row-level security is applied to the DAC data.",i.Name="Name",i.ChildDAC="Child DAC",i.ParentDAC="Parent DAC",i.BaseDAC="Base DAC",i.ParentKeyFields="Parent Key Fields",i.ChildKeyFields="Child Key Fields",i.PrimaryScreen="Primary Screen",i.PrimaryScreens="Primary Screens",i.PrimaryForeignKey="Primary and Foreign Key",i.PrimaryKey="Primary Key",i.ForeignKey="Foreign Key",i.NoOutgoingReferences="The DAC contains no outgoing references",i.NoIncomingReferences="The DAC contains no incoming references",i.DACBrowserWelcomeText="Select a DAC",i.DeleteCascade="Cascade Deletion",i.DeleteCascadeOutgoingTooltip="The record in {0} will be removed after the removal of the related record from {1}.",i.DeleteCascadeIncomingTooltip="The related record in {0} will be removed after the removal of the record from {1}.",i.Nested="Nested",i.NestedTooltip="The DAC is defined within another class.",i.InternalApi="Internal",i.InternalApiTooltip="The DAC is supposed to be used only internally in Acumatica ERP. Do not use it in your reports, generic inquiries, or customizations.",i.DACIsNotFound="No description of the DAC has been found",i.DACIsNotFoundApologies="Probably, the DAC has been removed, or the customization project containing this DAC has been unpublished",i.NotLoggedInLogIn="You are currently logged off. Would you like to log in?",i.WaitForInitialization="Please wait while the DAC Schema Browser is getting ready",i=r.__decorate([(0,o.localizable)("PX.DacSchemaBrowser.Areas.DacBrowser.Localization")],i),n.ErrorMessages=i}.apply(n,o),void 0===i||(e.exports=i)},"apps/dac-browser/qp-dac-browser":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/session-url-serializer.ts"),r("./services/cookie-utils.ts"),r("aurelia-framework"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("aurelia-dialog"),r("apps/dac-browser/qp-dac-dialog"),r("apps/dac-browser/qp-dac-text-popup"),r("apps/db-router/db-router"),r("apps/dac-browser/messages"),r("../node_modules/sql-formatter/lib/index.js"),r("../node_modules/sql-highlight/lib/index.js"),r("../node_modules/highlight.js/lib/core.js"),r("../node_modules/highlight.js/lib/languages/csharp.js"),r("./utils/index.ts"),r("./descriptors/index.ts"),r("./services/localization.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g,m,f,v,y,x,C,S){"use strict";var D;Object.defineProperty(n,"__esModule",{value:!0}),n.QpDacBrowserCustomElement=void 0,v=r.__importDefault(v),y=r.__importDefault(y),v.default.registerLanguage("csharp",y.default);(0,c.getLogger)("dac-browser");let E=D=class QpDacBrowserCustomElement{constructor(e,n,r,o,i,a){this.client=e,this.dialogService=n,this.translator=r,this.router=o,this.taskQueue=i,this.urlSerializer=a,this.FullDACTree=void 0,this.DACTree=void 0,this.filter="",this.SelectedDAC="Uninitialized",this.highlightedID="",this.WaitForData=!1,this.isTextMode=!1,this.TextContent="",this.Msg=g.ErrorMessages}get DACMsg(){return g.ErrorMessages.DAC}get NothingFound(){return(0,S.Format)(D.NothingFoundMsg,{filter:`<span class='qp-dac-nothing-found-highlight'>${this.filter}</span>`})}formatQuery(e){var n;let r=(0,m.format)(e.sqlQuery,{language:"mysql"===(null===(n=e.queryDialect)||void 0===n?void 0:n.toLowerCase())?"mysql":"tsql"});for(const n in e.aliases){const o=e.aliases[n],i=new RegExp(`\\[ *${n} *\\]`,"g"),a=D.escapeNumbers(o.originalAlias);r=r.replace(i,`[${a}]`)}r=(0,f.highlight)(r,{html:!0,classPrefix:"qp-dac-hl-"});for(const n in e.aliases){const o=e.aliases[n];if(!o.dac)continue;const i=D.escapeNumbers(o.originalAlias),a=new RegExp(`\\[ *${i} *\\]`,"g");r=r.replace(a,`[<a href='${o.dac._links.self||""}'>${o.originalAlias}</a>]`)}return r}static escapeNumbers(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/0/g,"__ZERO__")).replace(/1/g,"__ONE__")).replace(/2/g,"__TWO__")).replace(/3/g,"__THREE__")).replace(/4/g,"__FOUR__")).replace(/5/g,"__FIVE__")).replace(/6/g,"__SIX__")).replace(/7/g,"__SEVEN__")).replace(/8/g,"__EIGHT__")).replace(/9/g,"__NINE__")}static unescapeNumbers(e){e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/__ZERO__/g,"0")).replace(/__ONE__/g,"1")).replace(/__TWO__/g,"2")).replace(/__THREE__/g,"3")).replace(/__FOUR__/g,"4")).replace(/__FIVE__/g,"5")).replace(/__SIX__/g,"6")).replace(/__SEVEN__/g,"7")).replace(/__EIGHT__/g,"8")).replace(/__NINE__/g,"9")}activate(e){var n;e&&(e.link?(this.WaitForData=!0,this.getData(`/${e.link}`).then((n=>{var r,o,i;if(n){if(n.status===C.HttpCodes.NotFound||n.status===C.HttpCodes.BadRequest)this.SelectedDAC="Not found";else{if(n.sourceCode||n.sqlQuery)return this.isTextMode=!0,n.sourceCode?this.TextContent=v.default.highlight(n.sourceCode,{language:"csharp"}).value:n.sqlQuery&&(this.TextContent=this.formatQuery(n)),void(this.WaitForData=!1);n.items?(this.showDACTree(n.items),this.CurrentDAC=void 0,this.SelectedDAC=void 0):this.SelectedDAC&&(null===(o=null===(r=this.CurrentDAC)||void 0===r?void 0:r._links)||void 0===o?void 0:o.self)===e.link||this.showDAC(n)}!this.FullDACTree&&(null===(i=null==n?void 0:n._links)||void 0===i?void 0:i.index)&&this.getData(n._links.index).then((e=>{this.showDACTree(e.items),this.syncTreeWithCurrentDAC(!0)}))}else this.SelectedDAC="Not found";this.syncTreeWithCurrentDAC(!0),this.WaitForData=!1}),(()=>{this.WaitForData=!1,this.SelectedDAC="Not found"}))):(this.CurrentDAC=void 0,e.path&&(this.SelectedDAC="Not found")),i.CookieUtils.setLastWinCookie(null===(n=this.urlSerializer.parseUrl(document.location.href))||void 0===n?void 0:n.sessionNumber))}syncTreeWithCurrentDAC(e=!1){this.CurrentDAC&&(!this.openLeaf(this.CurrentDAC.namespace,this.CurrentDAC.name)&&e&&(this.filter="",this.doFiltering(),this.openLeaf(this.CurrentDAC.namespace,this.CurrentDAC.name)),this.taskQueue.queueTask((()=>{if(!this.CurrentDAC)return;const e=document.getElementById(this.CurrentDAC._links.self)||document.getElementById(`namespace_${this.CurrentDAC.namespace}`);e&&!(0,x.isInViewport)(e)&&e.scrollIntoView()})))}openLeaf(e,n){var r,o;let i=null===(r=this.DACTree)||void 0===r?void 0:r.find((n=>n.name===e));if(!i)return!1;i.expanded=!0;return!!i.dacs.find((e=>e.name===n))&&(i=null===(o=this.FullDACTree)||void 0===o?void 0:o.find((n=>n.name===e)),i&&(i.expanded=!0),!0)}attached(){var e;null===(e=document.getElementById("qp-filter-input"))||void 0===e||e.focus()}toggleLang(){let e=this.translator.lang;e="en-US"===e?"ru-RU":"en-US",this.translator.SetLang(e)}getData(e){return this.client.fetch(e,{method:"GET"}).then((e=>{switch(e.status){case C.HttpCodes.Ok:case C.HttpCodes.NotFound:case C.HttpCodes.BadRequest:return e.json();case C.HttpCodes.Forbidden:case C.HttpCodes.Unauthorized:return(e.status===C.HttpCodes.Forbidden||window.confirm(this.Msg.NotLoggedInLogIn))&&window.location.reload(),new Promise(((e,n)=>{n()}))}return new Promise((e=>{e()}))}),(()=>new Promise(((e,n)=>{n()}))))}showDACTree(e){this.FullDACTree=e,this.doSorting(),this.doFiltering()}showDAC(e){var n;this.CurrentDAC=e,this.CurrentDAC&&(this.CurrentDAC.dotNotatedFullName=[...this.CurrentDAC.declaringTypes||[],this.CurrentDAC.name].join("."),document.title=`${this.CurrentDAC.dotNotatedFullName} - ${this.Msg.DacBrowserTitle}`,window.location.hash?setTimeout((()=>{window.location.href=window.location.href}),0):null===(n=document.getElementById("Definition"))||void 0===n||n.scrollIntoView(),this.CurrentDAC.name&&this.CurrentDAC.namespace&&(this.SelectedDAC={link:this.CurrentDAC._links.self,namespace:this.CurrentDAC.namespace})),this.taskQueue.queueTask((()=>this.processScroll()))}doSorting(){if(this.FullDACTree)for(const e of this.FullDACTree){for(const n of e.dacs)n.dotNotatedFullName=[...n.declaringTypes||[],n.name].join(".");e.dacs.sort(((e,n)=>e.dotNotatedFullName===n.dotNotatedFullName?0:e.dotNotatedFullName<n.dotNotatedFullName?-1:1))}}doFiltering(){if(this.DACTree=[],this.FullDACTree){for(const e of this.FullDACTree){const n=this.filter.toLocaleLowerCase(),r=Object.assign({},e);if(n)if(e.name.toLocaleLowerCase().indexOf(n)>=0)r.filteredName=e.name.replace(new RegExp(n,"ig"),"<span class='qp-dac-highlight'>$&</span>"),r.expanded=!1,this.DACTree.push(r);else{r.expanded=!0,r.dacs=[];for(const o of e.dacs){const e=Object.assign({},o);e.dotNotatedFullName.toLocaleLowerCase().indexOf(n)>=0?(e.filteredName=e.dotNotatedFullName.replace(new RegExp(n,"ig"),"<span class='qp-dac-highlight'>$&</span>"),r.dacs.push(e)):o.displayName&&o.displayName.toLocaleLowerCase().indexOf(n)>=0&&(e.filteredDisplayName=o.displayName.replace(new RegExp(n,"ig"),"<span class='qp-dac-highlight'>$&</span>"),r.dacs.push(e))}r.dacs.length>0&&this.DACTree.push(r)}else r.expanded=!1,this.DACTree.push(r)}this.syncTreeWithCurrentDAC()}}selectContent(){const e=document.getElementById("qp-filter-input");null==e||e.setSelectionRange(0,e.value.length)}toggleNS(e){var n,r;let o=null===(n=this.DACTree)||void 0===n?void 0:n.find((n=>n.name===e));if(o){const n=!o.expanded;o.expanded=n,o=null===(r=this.FullDACTree)||void 0===r?void 0:r.find((n=>n.name===e)),o&&(o.expanded=n)}return!1}showColumnDetails(e,n){var r;(null===(r=this.CurrentDAC)||void 0===r?void 0:r.name)&&this.getData(n).then((e=>{const n={parent:this,data:e};this.dialogService.open({viewModel:u.DACDialog,model:n,lock:!1}).whenClosed((()=>{}))}))}showSourceCode(){var e;(null===(e=this.CurrentDAC)||void 0===e?void 0:e.name)&&this.CurrentDAC._links.sourceCode&&this.getData(this.CurrentDAC._links.sourceCode).then((e=>{if(!this.CurrentDAC)return;const n=e.dacSourceCodes.map((e=>e.sourceCode)).join("\n\n\n\n"),r=v.default.highlight(n,{language:"csharp"}).value,o={name:this.CurrentDAC.dotNotatedFullName||this.CurrentDAC.name,title:this.Msg.SourceCode,link:this.CurrentDAC._links.sourceCode||"",text:r};this.dialogService.open({viewModel:p.TextDialog,model:o,lock:!1}).whenClosed((()=>{}))}))}showSQLQuery(){var e;(null===(e=this.CurrentDAC)||void 0===e?void 0:e.name)&&this.CurrentDAC._links.sql&&this.getData(this.CurrentDAC._links.sql).then((e=>{if(!this.CurrentDAC)return;const n={name:this.CurrentDAC.dotNotatedFullName||this.CurrentDAC.name,title:this.Msg.DacQuery,link:this.CurrentDAC._links.sql||"",text:this.formatQuery(e)};this.dialogService.open({viewModel:p.TextDialog,model:n,lock:!1}).whenClosed((()=>{}))}))}customizationToolTipShown(e){var n,r;this.CurrentField=void 0;const o=parseInt((null===(n=e.target.dataset)||void 0===n?void 0:n.tooltip)||"");if(isNaN(o))return;const i=null===(r=this.CurrentDAC)||void 0===r?void 0:r.fields[o];i&&(this.CurrentField=i)}toolTipShown(e){var n;this.tooltip=null===(n=e.target.dataset)||void 0===n?void 0:n.tooltip}processClickInTextMode(e){var n;return"A"===(null===(n=e.target)||void 0===n?void 0:n.nodeName)&&(this.isTextMode=!1),!0}openLinkInPopup(e,n){let r=window.screenX+50,o=window.screenY+50;return o>=600&&(o=50),r>=1e3&&(r=50),window.open(n,e,`resizable,scrollbars,status,location=yes,toolbar=yes,height=700,width=1000,left=${r},top=${o}`),!1}processScroll(){this.highlightLink("Definition"),this.highlightLink("Fields"),this.highlightLink("Incoming-References"),this.highlightLink("Outgoing-References")}highlightLink(e){const n=this.rootElement.querySelector(`#${e}-Header`),r=this.rootElement.querySelector(`#${e}-Link`);n&&function isVisible(e){let n=e.getBoundingClientRect();const r=n.top,o=n.height;let i=e.parentNode;if(n.bottom<0)return!1;if(r>document.documentElement.clientHeight)return!1;do{if(n=i.getBoundingClientRect(),!(r<=n.bottom))return!1;if(r+o<=n.top)return!1;i=i.parentNode}while(i&&i!==document.body);return!0}(n)?null==r||r.classList.add("qp-dac-content-visible"):null==r||r.classList.remove("qp-dac-content-visible")}};E.NothingFoundMsg="No entries have been found for the {filter}",r.__decorate([(0,a.computedFrom)("Msg.DAC"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],E.prototype,"DACMsg",null),r.__decorate([(0,a.computedFrom)("filter","translator.lang"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],E.prototype,"NothingFound",null),r.__decorate([S.localizable,r.__metadata("design:type",String)],E,"NothingFoundMsg",void 0),E=D=r.__decorate([(0,a.customElement)("qp-dac-browser"),a.autoinject,r.__metadata("design:paramtypes",[l.HttpClient,d.DialogService,S.QpTranslator,b.DBRouter,a.TaskQueue,o.SessionUrlSerializer])],E),n.QpDacBrowserCustomElement=E}.apply(n,o),void 0===i||(e.exports=i)},"apps/dac-browser/qp-dac-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("aurelia-dialog"),r("./controls/dialog/base-dialog/base-dialog.ts"),r("apps/dac-browser/messages")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DACDialog=void 0;(0,i.getLogger)("dac-dialog");let d=class DACDialog extends l.BaseDialog{constructor(e){super(e),this.controller=e,this.config={},this.Msg=c.ErrorMessages}activate(e){this.parent=e.parent,this.data=e.data}deactivate(e){!e.wasCancelled&&e.output}hide(){return this.controller.cancel(),!0}};d=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[a.DialogController])],d),n.DACDialog=d}.apply(n,o),void 0===i||(e.exports=i)},"apps/dac-browser/qp-dac-text-popup":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("aurelia-dialog"),r("./controls/dialog/base-dialog/base-dialog.ts"),r("apps/dac-browser/messages")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TextDialog=void 0;(0,i.getLogger)("dac-dialog");let d=class TextDialog extends l.BaseDialog{constructor(e){super(e),this.controller=e,this.config={},this.Msg=c.ErrorMessages}activate(e){this.params=e}deactivate(e){!e.wasCancelled&&e.output}hide(){return this.controller.cancel(),!0}processClick(e){var n;return"A"===(null===(n=e.target)||void 0===n?void 0:n.nodeName)&&this.hide(),!0}openInNewTab(){var e,n,r;this.hide(),(null===(e=this.params)||void 0===e?void 0:e.link)&&(null===(r=window.open(null===(n=this.params)||void 0===n?void 0:n.link,"_blank"))||void 0===r||r.focus())}};d=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[a.DialogController])],d),n.TextDialog=d}.apply(n,o),void 0===i||(e.exports=i)},"apps/db-router/db-router":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("aurelia-event-aggregator"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DBRouter=void 0;let l=class DBRouter{constructor(e,n){this.ea=e,this.httpClient=n,this.prevHash="",window.addEventListener("hashchange",this.hashChanged,!1)}hashChanged(){window.location.hash!==this.prevHash&&setTimeout((()=>{var e;this.prevHash=window.location.hash,window.location.hash?window.location.href=window.location.href:null===(e=document.getElementById("Definition"))||void 0===e||e.scrollIntoView()}),0)}configureRouter(e,n){this.router=n,e.options.pushState=!0,e.map([{route:[""],name:"home",moduleId:"apps/dac-browser/qp-dac-browser"},{route:["*link"],name:"dac",moduleId:"apps/dac-browser/qp-dac-browser"}]),e.mapUnknownRoutes({route:[""],name:"home",moduleId:"apps/dac-browser/qp-dac-browser"})}};l=r.__decorate([(0,a.inject)(i.EventAggregator,o.HttpClient),r.__metadata("design:paramtypes",[i.EventAggregator,o.HttpClient])],l),n.DBRouter=l}.apply(n,o),void 0===i||(e.exports=i)},"apps/db-router/main":function(e,n,r){var o,i;o=[r,n,r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("aurelia-framework"),r("./descriptors/types.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configure=void 0;const a={debug:!1,testing:!1}||{};n.configure=function configure(e){e.use.standardConfiguration().feature("plugins/glue").feature("plugins/happeded-on-body").feature("plugins/dependency-property-injection").feature("services/hover-activator-service").plugin("aurelia-dialog").plugin("aurelia-ui-virtualization").feature("controls/index").feature("apps/dac-browser");const defaultConfiguration=e=>e.withDefaults({headers:{Accept:"application/json","X-Requested-With":"Fetch"},credentials:"same-origin"});e.container.registerInstance(i.DEFAULT_HTTP_CONFIGURATION,defaultConfiguration),e.container.get(r.HttpClient).configure(defaultConfiguration),e.use.developmentLogging(a.debug?"debug":"warn"),a.testing&&e.use.plugin("aurelia-testing"),e.start().then((()=>e.setRoot("apps/db-router/db-router")))}}.apply(n,o),void 0===i||(e.exports=i)},"apps/enhance/controls/calendar/acmevent-calendar":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../../ext-packages/bryntum-calendar/calendar.module.js")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpAcmEventsCalendarCustomElement=void 0;let a=class QpAcmEventsCalendarCustomElement{constructor(e){this.element=e}attached(){return r.__awaiter(this,void 0,void 0,(function*(){let e=window.location.href.split(/[?#]/)[0];console.log("hostingsite: "+e);var n=new RegExp("/Pages/CR/CR2010BC.aspx","ig");let r=e.replace(n,"").replace(/\/$/,""),o=r+"/bmcalendar/evbmRecords";console.log("apiURL: "+o);const a={layout:"vbox",showOn:"hover",align:"l-r",minWidth:null,tools:{addtoOutlook:{cls:"b-fa b-fa-calendar-alt",weight:20,tooltip:"Add to Outlook (.ics)",handler(){let e=this.eventRecord;e.exportToICS({DTSTART:e.startDateICAL,DTEND:e.endDateICAL,LOCATION:e.eventlocation,"X-ALT-DESC;FMTTYPE=text/html":e.note,DESCRIPTION:e.plainnote})}}},onBeforeShow({source:e}){this.tools.delete.hidden=!0,this.tools.edit.hidden=!0,i.DomHelper.createElement({parent:e.contentElement,text:this.eventRecord.summary,style:"font-size: 13px; line-height: 16px; max-width:300px; margin-top: 7px;"}),i.DomHelper.createElement({parent:e.contentElement,html:this.eventRecord.detaillink,style:"margin-top: 7px;"})},onHide({source:e}){e.html=""}};var l=new i.Calendar({date:new Date,autoCreate:void 0,readOnly:!0,mode:"month",sidebar:void 0,modes:{day:{dayStartShift:0},week:{dayStartShift:0}},tbar:{items:{filterByName:{type:"textfield",weight:650,icon:"b-fa b-fa-filter",placeholder:"Find event",clearable:!0,keyStrokeChangeDelay:100,triggers:{filter:{align:"start",cls:"b-fa b-fa-filter"}},onChange({value:e}){e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),l.eventStore.filter({id:"eventNameFilter",filterBy:n=>n.name.match(new RegExp(e,"i"))})}}}},crudManager:{transport:{load:{url:o}},eventStore:{modelClass:ExEventModel},autoLoad:!1},appendTo:this.element,listeners:{eventClick:e=>{const n=e.eventRecord;let o=r+"/Main?ScreenId=CR306031&NoteID="+n.id;window.open(o,"_blank")},dateRangeChange:e=>{console.log("date range changed...");let n=!1;if(e.source.loadingRange||(e.source.loadingRange=Object.assign({},{startDate:null,endDate:null}),e.source.loadingRange.startDate=new Date(e.new.startDate),e.source.loadingRange.endDate=new Date(e.new.endDate)),0==Object.keys(e.old).length)n=!0;else{let r=new Date(e.new.startDate),o=new Date(e.new.endDate);console.log("newStartDate:"+r),console.log("event.source.loadingRange.startDate:"+e.source.loadingRange.startDate),console.log("newEndDate:"+o),console.log("event.source.loadingRange.endDate:"+e.source.loadingRange.endDate),n=!(r>=e.source.loadingRange.startDate&&o<=e.source.loadingRange.endDate)}n&&(console.log("loading data..."),e.source.crudManager.load({request:{params:{StartDate:new Date(e.new.startDate).toISOString(),EndDate:new Date(e.new.endDate).toISOString()}}}),e.source.loadingRange.startDate=new Date(e.new.startDate),e.source.loadingRange.endDate=new Date(e.new.endDate))}},features:{eventTooltip:a,eventEdit:void 0}})}))}};a=r.__decorate([o.autoinject,(0,o.customElement)("qp-acmevent-calendar"),r.__metadata("design:paramtypes",[Element])],a),n.QpAcmEventsCalendarCustomElement=a;class ExEventModel extends i.EventModel{static get fields(){return[{name:"summary",type:"string"},{name:"plainnote",type:"string"},{name:"detaillink",type:"string"},{name:"eventlocation",type:"string"},{name:"startDateICAL",type:"string"},{name:"endDateICAL",type:"string"}]}}}.apply(n,o),void 0===i||(e.exports=i)},"apps/enhance/controls/index":function(e,n,r){var o,i;o=[r,n,r("apps/enhance/controls/qp-plugin-service"),r("apps/enhance/controls/qp-gauge"),r("apps/enhance/controls/qp-tabbed-tree-selector"),r("apps/enhance/controls/qp-text-editor-autocomplete"),r("apps/enhance/controls/calendar/acmevent-calendar"),r("apps/enhance/controls/payment/qp-giftcard")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configure=void 0,n.configure=function configure(e){e.globalResources([r.QpPluginServiceCustomElement,o.QpGaugeCustomElement,i.QpTabedTreeSelectorCustomElement,a.QpTextEditorAutocompleteCustomElement,l.QpAcmEventsCalendarCustomElement,c.QpGiftCardCustomElement])}}.apply(n,o),void 0===i||(e.exports=i)},"apps/enhance/controls/payment/messages":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GCMessages=void 0;class GCMessages{}n.GCMessages=GCMessages,GCMessages.PartialBalanceWarning="Gift card balance will partially cover payment amount.",GCMessages.InSufficientFundError="Your gift card has insufficient funds.",GCMessages.PanelTitle="Pay with a Gift Card",GCMessages.PayButtonCaption="PAY",GCMessages.InvalidGiftCardError="Invalid Gift Card Number.",GCMessages.InvalidGiftCardPINError="Invalid Gift Card PIN.",GCMessages.InSufficientFundAdjError="Please adjust your payment amount and try again.",GCMessages.ClosePaymentFormToolTip="Close payment form",GCMessages.PaymentAmountCaption="Payment Amount:",GCMessages.GiftCardNbrCaption="Gift Card Number:",GCMessages.GiftCardPINCaption="Gift Card PIN:",GCMessages.GiftCardBalanceCaption="Gift Card Balance:",GCMessages.GetBalanceButtonCaption="Get Balance",GCMessages.AdjsutPaymentToCaption="Adjust Payment to"}.apply(n,[r,n]),void 0===o||(e.exports=o)},"apps/enhance/controls/payment/qp-giftcard":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("apps/enhance/controls/payment/messages")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpGiftCardCustomElement=void 0;let l=class QpGiftCardCustomElement{constructor(e,n){this.element=e,this.httpClient=n,this.title="",this.buttonCaption="",this.ClosePaymentFormToolTip=a.GCMessages.ClosePaymentFormToolTip,this.PaymentAmountCaption=a.GCMessages.PaymentAmountCaption,this.GiftCardNbrCaption=a.GCMessages.GiftCardNbrCaption,this.GiftCardPINCaption=a.GCMessages.GiftCardPINCaption,this.GiftCardBalanceCaption=a.GCMessages.GiftCardBalanceCaption,this.GetBalanceButtonCaption=a.GCMessages.GetBalanceButtonCaption,this.AdjsutPaymentToCaption=a.GCMessages.AdjsutPaymentToCaption,this.sum="",this.paymentAmount="",this.currency="",this.errors="",this.showloader=!1,this.iswarning=!1,this.hidePartial=!0,this.completeData={cardNumber:!1,pin:!1,validcardinfo:!1},this.cardData={cardNumber:"",cardPIN:"",amountBalance:"",remainingpayment:"",acceptPartialPayment:!1},this.shiftX=0,this.shiftY=0,this._bindMouseMove=e=>this.onMouseMove(e),this._bindRemoveMouseListeners=()=>this.removeMouseListeners()}attached(){this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||""),this.element.style.display="block",this.initHostedForm()}keyDown(e){switch(e.key){case"Enter":null===this.payButton.getAttribute("disabled")&&this.submitPayment(e);break;case"Esc":case"Escape":this.cancelAndClosePaymentForm()}return!0}keyInputDown(e,n,r){return"Tab"===e.key&&(e.preventDefault(),e.stopPropagation(),document.getElementById(e.shiftKey?r:n).focus()),!0}initHostedForm(){this.cardNumber.focus(),this.completeData.validcardinfo=!1,this.cardNumber.addEventListener("keypress",(e=>{var n=e.which?e.which:e.keyCode;n>31&&(n<48||n>57)&&e.preventDefault()})),this.cardNumber.addEventListener("paste",(e=>{var n;(null===(n=e.clipboardData)||void 0===n?void 0:n.getData("Text").match(/[^\d]/))&&e.preventDefault()})),this.cardNumber.addEventListener("keyup",(e=>{this.updateComplete(this.cardNumberLabel,this.cardNumber,"cardNumber",15===this.cardData.cardNumber.length),this.checkCompleteness(),this.cardData.cardNumber&&15===this.cardData.cardNumber.length&&this.cardPIN.focus()})),this.cardNumber.addEventListener("input",(e=>{this.cardData.cardPIN="",this.errors="",this.iswarning=!1,this.hidePartial=!0,this.cardData.amountBalance=`0.00 ${this.currency}`,this.balanceButton.classList.contains("gcbalance-info-hidden")&&this.balanceButton.classList.remove("gcbalance-info-hidden"),this.balanceInfo.classList.contains("gcbalance-info-hidden")||this.balanceInfo.classList.add("gcbalance-info-hidden")})),this.updateComplete(this.cardNumberLabel,this.cardNumber,"cardNumber",!1),this.cardPIN.addEventListener("keypress",(e=>{var n=e.which?e.which:e.keyCode;n>31&&(n<48||n>57)&&e.preventDefault()})),this.cardPIN.addEventListener("paste",(e=>{var n;(null===(n=e.clipboardData)||void 0===n?void 0:n.getData("Text").match(/[^\d]/))&&e.preventDefault()}));var e="";if(this.cardPIN.addEventListener("keyup",(n=>{this.updateComplete(this.cardPinLabel,this.cardPIN,"pin",6===this.cardData.cardPIN.length),this.checkCompleteness(),this.cardData.cardNumber&&this.cardData.cardPIN&&(6===this.cardData.cardPIN.length&&e!=this.cardData.cardPIN&&this.checkBalance(this),e=this.cardData.cardPIN)})),this.cardPIN.addEventListener("input",(e=>{this.errors="",this.hidePartial=!0,this.iswarning=!1,this.cardData.amountBalance=`0.00 ${this.currency}`,this.balanceButton.classList.contains("gcbalance-info-hidden")&&this.balanceButton.classList.remove("gcbalance-info-hidden"),this.balanceInfo.classList.contains("gcbalance-info-hidden")||this.balanceInfo.classList.add("gcbalance-info-hidden")})),this.acceptPartialPayment.addEventListener("input",(e=>{this.cardData.acceptPartialPayment?(this.sum=this.balanceData.balanceamount,this.errors=a.GCMessages.PartialBalanceWarning,this.iswarning=!0):(this.sum=this.options.Amount,this.errors=a.GCMessages.InSufficientFundError,this.iswarning=!1),this.checkCompleteness()})),this.updateComplete(this.cardPinLabel,this.cardPIN,"pin",!1),this.balanceButton.addEventListener("click",this.checkBalance.bind(this)),this.payButton.addEventListener("click",this.submitPayment.bind(this)),"payment"===this.options.Mode)this.sum=this.options.Amount,this.currency=this.options.Currency,this.paymentAmount=`${this.options.Amount} ${this.options.Currency}`,this.title=a.GCMessages.PanelTitle,this.buttonCaption=a.GCMessages.PayButtonCaption,this.cardData.amountBalance=`0.00 ${this.options.Currency}`,this.cardData.remainingpayment=`0.00 ${this.options.Currency}`,this.cardData.acceptPartialPayment=!0}checkFieldCompleteness(e,n){this.updateComplete(e.previousElementSibling,n,e.id,""!=e.value),this.checkCompleteness()}updateComplete(e,n,r,o){this.completeData[r]=o,o?n.classList.remove("gcinputfield-warning"):n.classList.add("gcinputfield-warning")}checkCompleteness(){this.completeData.cardNumber&&this.completeData.pin&&this.completeData.validcardinfo&&this.cardData.acceptPartialPayment?this.payButton.removeAttribute("disabled"):this.payButton.setAttribute("disabled","")}submitPayment(e){if(e.preventDefault(),"payment"===this.options.Mode){const e={ProcessingCenterID:this.options.ProcessingCenterID,DocRefNbr:this.options.DocRefNbr,DocType:this.options.DocType,GiftCardNumber:this.cardData.cardNumber,GiftCardPIN:this.cardData.cardPIN,ExtRefNbr:this.options.ExtRefNbr,PaymentAmount:this.sum,PaymentCurrency:this.currency,RedemptionReqID:this.options.TransactionID};this.showloader=!0,this.httpClient.fetch("acmgiftcard/gcplugin/redeemgiftcard",{method:"POST",body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{this.showloader=!1,this.redemptionResponse=e,this.redemptionResponse.errorinfo?(this.errors=this.redemptionResponse.errorinfo,this.iswarning=!1):this.giftcardPaymentHandler(this.redemptionResponse.transactionid,"SyncPaymentTransaction")}))}}giftcardPaymentHandler(e,n){this.executeCommand(n,e),this.closePaymentForm()}getDataSource(){return o.PLATFORM.global.px_cm.findDataSource()||window.parent.parent.px_cm.findDataSource()}executeCommand(e,n){const r=this.getDataSource();r?r.executeCommand(e,n):window.location.replace(this.createUrlForMobile(e,n))}createUrlForMobile(e,n){return`${window.location.href.split("/Frames/")[0]}/CCService?ServiceAction=AcceptPluginPayment${this.element.getAttribute("mobileOptions")}&Command=${e}&Result=${n}`}checkBalance(e){if(this.hidePartial=!0,15!==this.cardData.cardNumber.length)return this.errors=a.GCMessages.InvalidGiftCardError,void this.cardNumber.focus();if(6!==this.cardData.cardPIN.length)return this.errors=a.GCMessages.InvalidGiftCardPINError,void this.cardPIN.focus();const n={processingcenterid:this.options.ProcessingCenterID,giftcardnumber:this.cardData.cardNumber,giftcardpin:this.cardData.cardPIN,doctype:this.options.DocType,docrefnbr:this.options.DocRefNbr};this.showloader=!0,this.httpClient.fetch("acmgiftcard/gcplugin/balanceInfo",{method:"POST",body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{if(this.showloader=!1,this.balanceData=e,this.balanceData.errorinfo)this.errors=this.balanceData.errorinfo,this.completeData.validcardinfo=!1,this.checkCompleteness(),this.balanceButton.classList.remove("gcbalance-info-hidden"),this.balanceInfo.classList.add("gcbalance-info-hidden");else{this.completeData.validcardinfo=!0,this.errors="",this.cardData.amountBalance=`${this.balanceData.balanceamount} ${this.balanceData.balancecurrency}`;let e=parseFloat(this.options.Amount),n=parseFloat(this.balanceData.balanceamount);if(e>n)if(this.options.PartialPaymentAllowed){this.errors=a.GCMessages.InSufficientFundError;let r=e-n;this.cardData.remainingpayment=`${r.toFixed(2)} ${this.currency}`,this.hidePartial=!(n>0),this.cardData.acceptPartialPayment=!1}else this.errors=`${a.GCMessages.InSufficientFundError}\n${a.GCMessages.InSufficientFundAdjError}`,this.hidePartial=!0,this.cardData.acceptPartialPayment=!1;else this.cardData.remainingpayment=this.options.Amount,this.sum=this.options.Amount,this.cardData.acceptPartialPayment=!0;this.checkCompleteness(),this.balanceButton.classList.add("gcbalance-info-hidden"),this.balanceInfo.classList.remove("gcbalance-info-hidden")}}))}cancelAndClosePaymentForm(){if("payment"===this.options.Mode)this.executeCommand("SyncPaymentTransaction","__CLOSECCHFORM");this.closePaymentForm()}closePaymentForm(){this.element.parentElement.removeChild(this.element)}mouseDown(e){this.shiftX=e.clientX-this.paymentForm.getBoundingClientRect().left,this.shiftY=e.clientY-this.paymentForm.getBoundingClientRect().top,this.element.addEventListener("mousemove",this._bindMouseMove),this.element.addEventListener("mouseup",this._bindRemoveMouseListeners),this.element.addEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.add("gcpayment-form-being-dragged")}onMouseMove(e){this.paymentForm.style.left=e.pageX-this.shiftX+"px",this.paymentForm.style.top=e.pageY-this.shiftY+"px"}removeMouseListeners(){this.element.removeEventListener("mousemove",this._bindMouseMove),this.element.removeEventListener("mouseup",this._bindRemoveMouseListeners),this.element.removeEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.remove("gcpayment-form-being-dragged")}};r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],l.prototype,"payButton",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],l.prototype,"balanceButton",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],l.prototype,"paymentForm",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],l.prototype,"cardNumberLabel",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],l.prototype,"cardPinLabel",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],l.prototype,"cardNumber",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],l.prototype,"cardPIN",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],l.prototype,"remainingpayment",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],l.prototype,"balanceInfo",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],l.prototype,"acceptPartialPayment",void 0),l=r.__decorate([(0,o.customElement)("qp-giftcard"),o.autoinject,(0,o.useView)("./qp-giftcard.html"),r.__metadata("design:paramtypes",[Element,i.HttpClient])],l),n.QpGiftCardCustomElement=l}.apply(n,o),void 0===i||(e.exports=i)},"apps/enhance/controls/qp-gauge":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),r("aurelia-framework"),r("./utils/index.ts")],i=function(e,n,r,o,i,a){"use strict";var l;Object.defineProperty(n,"__esModule",{value:!0}),n.QpGaugeCustomElement=void 0;let c=l=class QpGaugeCustomElement{constructor(e){this.element=e,this.everytingReady=new Promise(((e,n)=>{this.getReady=e}))}attached(){this.getReady&&this.getReady()}detached(){this.chart&&(this.chart.clear(),this.chart.destroy())}configChanged(e,n){void 0===n&&(0,a.applyDefaultValues)(e,l.defaultConfig),this.normalizeFormattedValues(),this.everytingReady.then((()=>this.createGauge()))}valueChanged(e,n){var r;(null===(r=this.chart)||void 0===r?void 0:r.arrows[0].setValue)&&null!=this.config.value&&(this.chart.arrows[0].setValue(this.config.value),this.chart.axes[0].setBottomText(this.formatDecimal(this.config.value)))}normalizeFormattedValues(){this.config&&this.config.formattedValues&&Object.keys(this.config.formattedValues).forEach((e=>{let n=parseFloat(e);if(0===n)return;let r=this.roundNumber(n);n!==r&&void 0===this.config.formattedValues[r]&&(this.config.formattedValues[r]=this.config.formattedValues[n])}))}roundNumber(e){return Math.round(100*e)/100}formatDecimal(e){var n,r;return null!==(r=null!==(n=this.config.formattedValues[e])&&void 0!==n?n:this.config.formattedValues[this.roundNumber(e)])&&void 0!==r?r:e.toString()}formatInverval(e,n){return`${this.formatDecimal(e)}  ${this.formatDecimal(n)}`}createGauge(){let e=Math.max(this.config.end,this.config.value),n=Math.min(this.config.begin,this.config.value),r=this,i=Math.min(n,this.config.normalEdge),a=Math.max(n,this.config.normalEdge),l=Math.min(e,this.config.errorEdge),c=Math.max(e,this.config.errorEdge),d=Math.min(a,l),u=Math.max(a,l);const p=.02;let b=c-i,g=(a-i)/b>p,m=(u-d)/b>p&&(c-l)/b>p,f=240/b*(a-i)-120,v=240/b*(l-i)-120,y=10,x=10;if(g&&m&&f>=-65&&v<=65&&v-f<10){let e=(65-Math.abs(f))/65*5;f>-3&&(e=-e),y-=e,x+=e}let labelFunction=function(e){return r.formatDecimal(e)},C={type:"gauge",theme:"light",addClassNames:!0,gradientRatio:[0,0,0,0,0,0,0,0,0,0,1,0,0],axes:[{axisThickness:1,axisAlpha:.2,tickAlpha:.2,labelsEnabled:!0,labelFunction,valueInterval:b,minorTickInterval:b/25,inside:!1,bands:[{color:this.config.normalColor,endValue:a,innerRadius:"70%",startValue:i,balloonText:this.formatInverval(i,a)},{color:this.config.warningColor,endValue:u,innerRadius:"70%",startValue:d,balloonText:this.formatInverval(d,u)},{color:this.config.errorColor,endValue:c,innerRadius:"70%",startValue:l,balloonText:this.formatInverval(l,c)}],bottomText:"",bottomTextFontSize:14,bottomTextYOffset:-20,startValue:i,endValue:c}],arrows:[{nailAlpha:0,nailBorderThickness:.5,innerRadius:8,nailRadius:2}],export:{enabled:!0}};g&&C.axes.push({axisThickness:0,tickThickness:0,labelsEnabled:!0,valueInterval:a-i,labelFunction,inside:!1,startAngle:-120,endAngle:f,startValue:i,endValue:a,showFirstLabel:!1,showLastLabel:!0,labelOffset:y}),m&&C.axes.push({axisThickness:0,tickThickness:0,labelsEnabled:!0,valueInterval:c-l,labelFunction,inside:!1,startAngle:v,endAngle:120,startValue:l,endValue:c,showFirstLabel:!0,showLastLabel:!1,labelOffset:x}),this.chart=o.PLATFORM.global.AmCharts.makeChart(this.gaugeElement,C),this.valueChanged(this.config.value,this.config.value)}};c.defaultConfig={begin:0,end:100,value:0,normalEdge:70,errorEdge:90,normalColor:"#007C09",warningColor:"#FFC109",errorColor:"#DC3545",formattedValues:{}},r.__decorate([i.bindable,r.__metadata("design:type",Object)],c.prototype,"config",void 0),c=l=r.__decorate([i.autoinject,(0,i.customElement)("qp-gauge"),r.__metadata("design:paramtypes",[Element])],c),n.QpGaugeCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"apps/enhance/controls/qp-plugin-service":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js")],i=function(e,n,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpPluginServiceCustomElement=void 0;const l="plugins/";let c=class QpPluginServiceCustomElement{constructor(e,n){this.element=e,this.http=n}configChanged(e){this.initPopup(this.config)}initPopup(e){var n;new Promise(((o,i)=>{Promise.resolve().then(function(){var i=[(null===(n=null==e?void 0:e.Path)||void 0===n?void 0:n.startsWith(l))?r("./plugins ./plugins sync recursive ^\\.\\/.*$")(`./${e.Path.substr(8)}`):r("./apps/enhance/controls sync recursive ^.*$")(`${e.Path}`)];o.apply(null,i)}.bind(this)).catch(i.bind(this))})).then(o.__importStar).then((()=>{const n=document.createElement(e.TagName);n.setAttribute("options",JSON.stringify(e)),n.setAttribute("mobileOptions",this.element.getAttribute("mobileOptions")||""),document.body.appendChild(n)}))}};o.__decorate([i.bindable,o.__metadata("design:type",Object)],c.prototype,"config",void 0),o.__decorate([i.bindable,o.__metadata("design:type",HTMLElement)],c.prototype,"button",void 0),c=o.__decorate([(0,i.customElement)("qp-plugin-service"),i.autoinject,o.__metadata("design:paramtypes",[Element,a.HttpClient])],c),n.QpPluginServiceCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"apps/enhance/controls/qp-tabbed-tree-selector":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("controls/compound/tool-bar/qp-tool-bar"),r("./descriptors/index.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpTabedTreeSelectorCustomElement=void 0;let c=class QpTabedTreeSelectorCustomElement{constructor(e){this.tq=e,this.okConfig={text:"Select"}}attached(){var e,n,r,o,l,c,d,u,p,b,g,m,f;const v=[{field:null===(e=this.config)||void 0===e?void 0:e.selectorConfig.key,width:250,visible:!(null===(n=this.config)||void 0===n?void 0:n.selectorConfig.hideKeyField),allowShowHide:a.GridColumnShowHideMode.False},{field:null===(r=this.config)||void 0===r?void 0:r.selectorConfig.description,width:300}];this.gridConfig={graph:null===(o=this.config)||void 0===o?void 0:o.treeConfig.graph,view:null===(l=this.config)||void 0===l?void 0:l.selectorConfig.view,columns:v,suppressNoteFiles:!0,valueField:null===(c=this.config)||void 0===c?void 0:c.selectorConfig.key,descriptionName:null===(d=this.config)||void 0===d?void 0:d.selectorConfig.description,displayName:"",allowInsert:!1,allowDelete:!1,allowUpdate:!1,generateColumns:0,allowSkipTabs:!1,topBarItems:{select:{config:Object.assign(Object.assign({},(0,i.NewMenuButton)("select")),{commandName:"select",text:"Select",connotation:"Success"})}},pageSize:14,adjustPageSize:!0,panel_id:`${null===(u=this.config)||void 0===u?void 0:u.id}_pnl_gr`,id:`${null===(p=this.config)||void 0===p?void 0:p.id}_grid`};const y={};y[`${null===(b=this.config)||void 0===b?void 0:b.treeSelectorId}_t1_tree_ready`]={config:{id:`${null===(g=this.config)||void 0===g?void 0:g.treeSelectorId}_t1_tree_select`,commandName:"select",text:"Select",connotation:"Success"}},this.treeConfig=Object.assign(Object.assign({},null===(m=this.config)||void 0===m?void 0:m.treeConfig),{id:`${null===(f=this.config)||void 0===f?void 0:f.treeSelectorId}_t1_tree`,dynamic:!0,modifiable:!1,selectSeparately:!0,filterShowChildren:!1,topBarItems:y}),this.tq.queueMicroTask((()=>{if(!this.gridVM)return;const e=this.gridVM.onDataReady;this.gridVM.onDataReady=n=>{var r,o;this.gridVM.focusFastFilter(),this.gridVM.onDataReady=e,null===(o=(r=this.gridVM).onDataReady)||void 0===o||o.call(r,n)}}))}gridConfigChanged(){this.tq.queueTask((()=>{this.gridVM.refresh()}))}treeValueChanged(e){if((null==e?void 0:e.length)>0){const n=px_all[this.config.treeSelectorId];"multi"===this.treeConfig.mode?n.tree.selectedNode={value:e.map((({value:e})=>{var n;return`${e}${null===(n=this.config)||void 0===n?void 0:n.separator}`})).join(""),text:e.map((e=>{var n;return`${e.text||""}${null===(n=this.config)||void 0===n?void 0:n.separator}`})).join("")}:n.tree.selectedNode={id:e[0].id,value:e[0].value,text:e[0].text},n.selectTreeValue(),n.hideDropDown(!1)}}selected(e){var n,r;if(void 0!==(null==e?void 0:e.activeRow)){const o=e.getCell(this.gridConfig.valueField),i=e.getCell(this.gridConfig.descriptionName);o&&this.selectValue({id:o.value,value:`${o.value}${"multi"===this.treeConfig.mode?null===(n=this.config)||void 0===n?void 0:n.separator:""}`,text:`${null==i?void 0:i.value}${"multi"===this.treeConfig.mode?null===(r=this.config)||void 0===r?void 0:r.separator:""}`})}}selectValue(e){const n=px_all[this.config.treeSelectorId];n.tree.selectedNode=e,n.selectTreeValue(),n.hideDropDown(!1)}click(){const e=px_all[this.config.treeSelectorId];e.tree.selectedNode={value:"qqqq"},e.selectTreeValue(),e.hideDropDown(!1)}gridSelect(e){var n;(null===(n=this.preselectedValue)||void 0===n?void 0:n.id)&&this.selectValue({value:this.preselectedValue.id})}rowChanged(e){if(void 0!==e.activeRow){const n=e.getCell(this.gridConfig.valueField),r=e.getCell(this.gridConfig.descriptionName);this.preselectedValue={id:null==n?void 0:n.value,text:r?`${null==n?void 0:n.value} - ${r.value}`:""}}}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"config",void 0),r.__decorate([(0,o.observable)({changeHandler:"treeValueChanged"}),r.__metadata("design:type",Object)],c.prototype,"treeValue",void 0),r.__decorate([o.observable,r.__metadata("design:type",Object)],c.prototype,"gridConfig",void 0),c=r.__decorate([(0,o.customElement)("qp-tabbed-tree-selector"),l.autoinject,r.__metadata("design:paramtypes",[o.TaskQueue])],c),n.QpTabedTreeSelectorCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"apps/enhance/controls/qp-text-editor-autocomplete":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./utils/index.ts"),r("./services/tries.ts")],i=function(e,n,r,o,i,a,l){"use strict";var c;Object.defineProperty(n,"__esModule",{value:!0}),n.QpTextEditorAutocompleteCustomElement=void 0;(0,i.getLogger)("text-editor-autocomplete");const d={numbs:{lineHeght:21},str:{spaceStr:" ",emptyStr:"",divSpace:"",skipSugg:"skipSugg",toNormal:e=>e?e.replace(/\u00a0/g,d.str.spaceStr):d.str.emptyStr,joinSmart(e,n,r){let o=e,i=0,a=0;return(e.endsWith(d.str.spaceStr)||e.endsWith(d.str.divSpace))&&(n.startsWith(d.str.spaceStr)||n.startsWith(d.str.divSpace))&&(o=e.substring(0,e.length-1),i--),o+=n,a=o.length,r?o.endsWith(d.str.spaceStr)||o.endsWith(d.str.divSpace)||!r.startsWith(d.str.spaceStr)&&!r.startsWith(d.str.divSpace)||(r=d.str.divSpace+r,i++):(r=d.str.divSpace,i++),o+=r,a+=i,{s:o,delta:i,pos:a}}}};let u=c=class QpTextEditorAutocompleteCustomElement{constructor(e,n,r){this.element=e,this.eventManager=n,this.taskQueue=r,this.eventSubscriptions=[],this.debounceState={delay:336,timeoutId:void 0},this.tooltipShow=!1,this.preSearch=null,this.skipEscape=!1,this.trieWords=[],window.triesdata&&(this.ensembleTrieNode=new l.EnsembleTrieNode(window.triesdata))}attached(){this.taskQueue.flushMicroTaskQueue()}detached(){this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[]}configChanged(e,n){this.config||(this.config={}),(0,a.applyDefaultValues)(this.config,c.defaultConfig)}getString(e){var n,r;const o=this.main;let i=e,a=d.str.toNormal(null===(n=o.textContent)||void 0===n?void 0:n.substring(0,i)).replace(/\s+/g,d.str.spaceStr),l=d.str.toNormal(null===(r=o.textContent)||void 0===r?void 0:r.substring(i)).replace(/\s+/g,d.str.spaceStr);if(l&&l.trimStart()==l)return null;let c=(null==a?void 0:a.split(/\s/).pop())||d.str.emptyStr;return{e:l,s:a,pos:i,wordPart:c}}setCaretPosition(e){setTimeout((()=>{var n,r;null===(n=window.getSelection())||void 0===n||n.setPosition(null===(r=this.main)||void 0===r?void 0:r.childNodes[0],e)}),10)}blurAction(){d.str.toNormal(this.value||d.str.emptyStr)!=d.str.toNormal(this.main.textContent||d.str.emptyStr)&&(this.value=d.str.toNormal(this.main.textContent).trim(),this.taskQueue.flushMicroTaskQueue(),this.taskQueue.flushTaskQueue()),setTimeout((()=>{this.toggleTooltip(null,!1)}),200)}inputAction(e){return this.blurAction(),!0}ttipItemClick(e,n){this.main.focus();let r=new KeyboardEvent("KeyUp",{key:"ArrowRight"});this.autocompleteWord=n,this.keyUpAction(r,d.str.skipSugg)}keyDownExtraAction(e,n){return"Escape"!==e.key&&"Delete"!==e.key||!this.tooltipShow||(this.toggleTooltip(null,!1),this.skipEscape=!0,e.stopPropagation(),e.preventDefault(),!1)}keyDownAction(e,n){if(!(e.key&&1===e.key.length&&!e.ctrlKey&&!e.metaKey&&!e.altKey)&&this.tooltipShow&&this.ensembleTrieNode){let n=0;switch(e.key){case"ArrowUp":return n=this.trieWords.findIndex((e=>e==this.autocompleteWord)),0!=n&&(n--,this.autocompleteWord=this.trieWords[n],this.tooltip.style.top=this.tooltip.offsetTop+d.numbs.lineHeght+"px"),!1;case"ArrowDown":return n=this.trieWords.findIndex((e=>e==this.autocompleteWord)),n!=this.trieWords.length-1&&(n++,this.autocompleteWord=this.trieWords[n],this.tooltip.style.top=this.tooltip.offsetTop-d.numbs.lineHeght+"px"),!1}}return!0}keyUpAction(e,n){var r;if(!this.ensembleTrieNode)return;if(this.skipEscape)return void(this.skipEscape=!1);const o=e.key&&1===e.key.length&&!e.ctrlKey&&!e.metaKey&&!e.altKey;o&&e.key[0].charCodeAt(0);if(!o&&!this.tooltipShow)switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Home":case"End":case"PageUp":case"PageDown":case"Delete":return}let i=this.getCaretIndex(),a=this.getString(i);if(this.autocompleteWord=d.str.toNormal(this.autocompleteWord),!o&&"Shift"!=e.key&&this.tooltipShow){let r=!0;switch(e.key){case"ArrowUp":case"ArrowDown":return;case"Backspace":r=!1;break;case"ArrowRight":case"End":if(this.autocompleteWord&&this.preSearch){const e=d.str.joinSmart(this.preSearch.s,this.autocompleteWord,this.preSearch.e);e.s!=this.main.textContent&&(this.main.textContent=e.s,i=e.pos,this.main.focus(),this.setCaretPosition(i),this.main.focus(),r=!1,n==d.str.skipSugg&&(r=!0),a=this.getString(i))}default:this.toggleTooltip(null,!1),this.autocompleteWord=d.str.emptyStr,this.preSearch=null}if(r)return}if(this.toggleTooltip(null,!1),this.autocompleteWord=d.str.emptyStr,this.preSearch=null,!a||!a.s)return;let l=this.ensembleTrieNode.findSuggestions(a.s.toLowerCase());if(this.trieWords=[],l&&l.length){"singleline"===(null===(r=this.config.smartSuggestionMode)||void 0===r?void 0:r.toLowerCase())&&(l=[l[0]]);for(let e=0;e<l.length;e++){let n=l[e].reduced;a.s.endsWith(d.str.spaceStr)||a.s.endsWith(d.str.divSpace)||!n.startsWith(d.str.spaceStr)||(n=d.str.divSpace+n.trim()),this.trieWords.push(n)}let n=this.trieWords[0];this.autocompleteWord=n,this.preSearch=a,setTimeout((()=>this.toggleTooltip(e,!0)),100)}else this.toggleTooltip(e,!1)}getCaretCoordinates(){var e;let n=0,r=0;if(void 0!==window.getSelection){const o=window.getSelection();if(0!==(null==o?void 0:o.rangeCount)){const i=null===(e=null==o?void 0:o.getRangeAt(0))||void 0===e?void 0:e.cloneRange();if(i){i.collapse(!0);const e=i.getClientRects()[0];e&&(n=e.left,r=e.top)}}}return{x:n,y:r}}getCaretIndex(){var e;let n=0;if(void 0!==window.getSelection){const r=window.getSelection();if(0!==(null==r?void 0:r.rangeCount)){const r=null===(e=window.getSelection())||void 0===e?void 0:e.getRangeAt(0);if(r){const e=r.cloneRange();e.selectNodeContents(this.main),e.setEnd(r.endContainer,r.endOffset),n=e.toString().length}}}return n<0?0:n}toggleTooltip(e,n=!0){if(this.tooltipShow=n,this.taskQueue.flushMicroTaskQueue(),this.taskQueue.flushTaskQueue(),!this.tooltipShow)return null;const r=this.tooltip,o=this.main;if(o.focus(),n&&o.contains(null==e?void 0:e.target)){let{x:e,y:n}=this.getCaretCoordinates();const i=o.getClientRects()[0],a=i.x,l=i.y,c=o.offsetLeft;n=n-l+o.offsetTop-3,e=e-a+c+1;const d=r.getBoundingClientRect(),u=window.innerWidth;return d.width+e>u-50&&(e=d.width-u+10,n+=18,u>d.width&&(e=u-d.width-50),e<10&&(e=10)),r.setAttribute("aria-hidden","false"),r.setAttribute("style",`max-width: ${u-50}px; overflow: hidden; text-overflow: ellipsis; left: ${e}px; top: ${n}px`),{x:e,y:n}}return r.setAttribute("aria-hidden","true"),null}};u.defaultConfig={allowNull:!0,enabled:!0,selectOnFocus:!0,spellcheck:!0,type:0},r.__decorate([o.bindable,r.__metadata("design:type",Object)],u.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],u.prototype,"value",void 0),u=c=r.__decorate([(0,o.customElement)("qp-text-editor-autocomplete"),o.autoinject,r.__metadata("design:paramtypes",[Element,o.EventManager,o.TaskQueue])],u),n.QpTextEditorAutocompleteCustomElement=u}.apply(n,o),void 0===i||(e.exports=i)},"apps/enhance/main":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-bootstrapper/dist/native-modules/aurelia-bootstrapper.js"),r("aurelia-framework"),r("./descriptors/index.ts"),r("./compatibility-layer/faux-screen.ts"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js")],i=function(e,n,o,i,a,l,c,d,u){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r("aurelia-logging-console");const p={debug:!1,testing:!1}||{};(0,d.disableConnectQueue)();const focusPoucus=function(e){const n=e instanceof Element&&e.getAttribute("id")||void 0;return{element:e,id:n}};let b=focusPoucus(document.activeElement);b.element&&"BODY"===b.element.tagName&&document.addEventListener("focus",(e=>{b=focusPoucus(e.target)}),{capture:!0,once:!0});const configure=function(e){return o.__awaiter(this,void 0,void 0,(function*(){const n=a.PLATFORM.global.globalControlsModules;e.use.basicConfiguration().defaultResources().globalResources([c.FauxScreenCustomAttribute]).plugin("aurelia-animator-css").plugin("aurelia-ui-virtualization").plugin("aurelia-dialog",(e=>{e.useDefaults(),e.settings.showCloseButton=!0,e.settings.startingZIndex=15e3,e.settings.mouseEvent="mousedown"})).plugin("aurelia-portal-attribute").feature("plugins/enhance-n-watch/index").feature("plugins/glue/index").feature("plugins/happeded-on-body/index").feature("services/hover-activator-service/index").feature("plugins/wiki-tooltip/index").feature("plugins/dependency-property-injection/index").feature("controls/index").feature("apps/enhance/controls/index"),(null==n?void 0:n.workflowDiagram)&&e.use.feature("features/workflow-diagram/index"),(null==n?void 0:n.manufacturingDiagram)&&e.use.feature("features/manufacturing-diagram/index"),e.use.developmentLogging(p.debug?"debug":"warn"),yield e.start();let r=window.__site_root||"";r.endsWith("/")||(r+="/"),e.container.registerInstance(l.BASE_PATH,r);const defaultConfiguration=e=>e.withBaseUrl(r).withDefaults({headers:{Accept:"application/json","X-Requested-With":"Fetch"},credentials:"same-origin"});e.container.registerInstance(l.DEFAULT_HTTP_CONFIGURATION,defaultConfiguration);e.container.get(u.HttpClient).configure(defaultConfiguration);const o={elements:{},values:{}};if(p.debug&&(a.PLATFORM.global.fauxScreen=o),yield e.enhanceAndWatch(o),b.id){const e=a.DOM.getElementById(b.id);e&&e.focus()}else b.element instanceof HTMLElement&&null!=b.element.parentNode&&b.element!==document.activeElement&&b.element.focus();if(a.PLATFORM.global.px_cm){px_cm.handleLoad(),px_cm.auEnhanceCompleted&&px_cm.auEnhanceCompleted(),px_cm.requiredReloadPage(!1)&&(px_cm.reloadPage(!0),px_cm.clientAlreadyReloaded=!0),px_cm.au_flush=function(){const n=e.container.get(a.TaskQueue);n.flushing||n.flushMicroTaskQueue()},px_cm.au_enhance=function(n){const r=e.container.get(a.TemplatingEngine).enhance({element:n,container:e.container,resources:e.resources,bindingContext:o});return px_cm.au_flush(),r};const n=px_cm.AureliaEnhanceAwaitQueue;if(n){for(const e of n)e();n.splice(0,n.length)}}}))},g=document.querySelector("body"),m=null==g?void 0:g.hasAttribute("no-enhance");m||window.addEventListener("load",(()=>{const e=setInterval((()=>{window.controlsRegistered&&window.readyForAurelia&&(clearInterval(e),(0,i.bootstrap)(configure))}),5)}))}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-object-factory.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/base-editor.ts"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./compatibility-layer/faux-objects/text-editor.ts"),r("./compatibility-layer/faux-objects/faux-object.ts"),r("./compatibility-layer/faux-objects/calendar.ts"),r("./compatibility-layer/faux-objects/datetime-edit.ts"),r("./compatibility-layer/faux-objects/color-picker.ts"),r("./compatibility-layer/faux-objects/branch-selector.ts"),r("./compatibility-layer/faux-objects/check-box.ts"),r("./compatibility-layer/faux-objects/drop-down.ts"),r("./compatibility-layer/faux-objects/number-editor.ts"),r("./compatibility-layer/faux-objects/mail-editor.ts"),r("./compatibility-layer/faux-objects/mask-editor.ts"),r("./compatibility-layer/faux-objects/selector.ts"),r("./compatibility-layer/faux-objects/button.ts"),r("./compatibility-layer/faux-objects/plugin-service.ts"),r("./compatibility-layer/faux-objects/screen-title.ts"),r("./compatibility-layer/faux-objects/tool-bar.ts"),r("./compatibility-layer/faux-objects/long-run.ts"),r("./compatibility-layer/faux-objects/text-editor-autocomplete.ts"),r("./compatibility-layer/faux-objects/workflow-diagram.ts"),r("./compatibility-layer/faux-objects/tree.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g,m,f,v,y,x,C,S,D,E,k,T){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getFauxObject=n.controlTag2FauxObjectMap=void 0;(0,o.getLogger)("object-proxy");n.controlTag2FauxObjectMap={"qp-branch-selector":u.FauxObjectBranchSelector,"qp-color-picker":d.FauxObjectColorPicker,"qp-text-editor":i.FauxObjectTextEditor,"qp-number-editor":g.FauxObjectNumberEditor,"qp-mail-editor":m.FauxObjectMailEditor,"qp-mask-editor":f.FauxObjectMaskEditor,"qp-calendar":l.FauxObjectCalendar,"qp-datetime-edit":c.FauxObjectDatetimeEdit,"qp-check-box":p.FauxObjectCheckBox,"qp-drop-down":b.FauxObjectDropDown,"qp-selector":v.FauxObjectSelector,"qp-workflow-diagram":k.FauxObjectWorkflowDiagram,"qp-manufacturing-diagram":r.FauxObjectBaseEditor,"qp-button":y.FauxObjectButton,"qp-screen-title":C.FauxObjectScreenTitle,"qp-tool-bar":S.FauxObjectToolBar,"qp-long-run":D.FauxObjectLongRun,"qp-plugin-service":x.FauxObjectPluginService,"qp-tree":T.FauxObjectTree,"qp-text-editor-autocomplete":E.FauxObjectTextEditorAutocomplete,"qp-external-viewer":r.FauxObjectBaseEditor};n.getFauxObject=function getFauxObject(e,r,o,i){const l=e.tagName.toLowerCase();return new(n.controlTag2FauxObjectMap[l]||a.FauxObjectBase)(e,r,o,i)}}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/base-editor.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./compatibility-layer/faux-objects/faux-object.ts"),r("aurelia-framework"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectBaseEditor=n.Events=void 0;(0,r.getLogger)("base-editor");const c={dataField:null,enabled:!0,readOnly:!1,required:!1,value:null};var d;!function(e){e.valueChanging="valueChanging",e.valueChanged="valueChanged"}(d=n.Events||(n.Events={}));class FauxObjectBaseEditor extends o.FauxObjectBase{constructor(e,n,r,i){super(e,n,r),this.element=e,this.screenValues=r,this.bindingEngine=i,this.enabled=!0,this.readOnly=!1,this.onValueChange=0,this.autoCallBack=new o.CallbackSettings,this.trackValue=!1,this[o.propertySetters].set("readOnly",(e=>this.setReadOnly(e))),this[o.propertySetters].set("enabled",(e=>this.setEnabled(e))),this[o.propertySetters].set("value",(e=>this.setValue(e))),this[o.configSetters].set("readOnly",null),this[o.configSetters].set("enabled",null),this.subscription=this.bindingEngine.propertyObserver(this.screenValues,this.ID).subscribe((e=>{this.trackValue&&this.taskQueue.queueMicroTask((()=>this.updateValue(e)))}));const a=this.getExternalProps();this.events.appendEvents([d.valueChanging,d.valueChanged],a?a.clientEvents:null)}[o.initializeFauxObject](){super[o.initializeFauxObject](),this.px_cm.setStackElements(this),this.saveTextElementRef(),this.domEventsElem=new i.ElementEvents(this.element),this.domEventsElem.subscribe("input",(()=>{this.px_cm.notifyOwnerTyping(this)})),this.domEventsElem.subscribe("focus",(()=>{this.px_cm.notifyOwnerActivate(this)}))}afterInitialize(){super.afterInitialize(),this.taskQueue.queueTask((()=>{this.value=this.getValue(),this.trackValue=!0}))}get taskQueue(){return a.Container.instance.get(i.TaskQueue)}[o.disposeFauxObject](){super[o.disposeFauxObject](),this.domEventsElem.disposeAll(),this.subscription.dispose()}saveTextElementRef(){this.elemText=this.elemFocus=this.getTextElement(),this.elemText&&this.setObjectRef(this.elemText)}getDefaultCallbackProps(){return Object.assign(Object.assign({},super.getDefaultCallbackProps()),c)}updateState(e){}refreshValue(){const e=this.getTextElement();if(e===i.PLATFORM.global.document.activeElement){const n=new CustomEvent("update",{bubbles:!0,cancelable:!1});e.dispatchEvent(n),this.flushMicroTaskQueue()}return!1}updateValue(e){if(void 0===e)return this.refreshValue();if(this.updateState(e),!(0,l.equals)(e,this.value)){const n={oldValue:this.value,value:e,commandCanceled:!1};if(this.fireEvent(d.valueChanging,null,n))return this.setValue(this.value),!1;if(this.setValue(e),e===this.value&&(void 0!==e&&this.flushMicroTaskQueue(),this.fireEvent(d.valueChanged,null,n),this.px_cm.notifyOwnerChanged(this),this.px_cm.processPostData(this,n),n.commandCanceled))return this.setValue(n.oldValue),!1}return!0}focus(){const e=this.getTextElement();try{e.focus()}catch(e){}}getTextElement(){return this.element.querySelector("input")}setVisible(e){super.setVisible(e),this.px_cm.setStackElementsVisible(this,e)}getEnabled(){return this[o.configRef].enabled}setEnabled(e){this.enabled=this[o.configRef].enabled=!!e}getReadOnly(){return this[o.configRef].readOnly}setReadOnly(e){this.readOnly=this[o.configRef].readOnly=!!e}getValue(e=void 0){return e&&this.refreshValue(),this.screenValues[this[o.configRef].id]}setValue(e){const n=this.trackValue;this.trackValue=!1,this.screenValues[this[o.configRef].id]=e,this.value=e,n&&setTimeout((()=>this.trackValue=n),0)}getLabelText(){let e;return this.labelWrapper&&(e=this.labelWrapper.getElementsByTagName("label")[0]),e?e.textContent:""}initStateBag(e){this.stateBag=this.px.topWin().Object.create(this.px.topWin().PXStateBag.prototype),this.stateBag.constructor(this,e||"PXText")}flushMicroTaskQueue(){const e=a.Container.instance.get(i.TaskQueue);e&&!e.flushing&&e.flushMicroTaskQueue()}}n.FauxObjectBaseEditor=FauxObjectBaseEditor}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/branch-selector.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./compatibility-layer/faux-objects/base-editor.ts"),r("./compatibility-layer/faux-objects/faux-object.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectBranchSelector=void 0;class FauxObjectBranchSelector extends o.FauxObjectBaseEditor{constructor(e,n,r,o){super(e,n,r,o),this.autoCallBack=new i.CallbackSettings,this[i.propertySetters].set("branchName",(e=>!1)),this[i.configSetters].set("value",(e=>this.setValue(e)))}[i.initializeFauxObject](){super[i.initializeFauxObject](),this.elemWrapper=this.element.querySelector(".editor"),this.elemText=this.element.querySelector("input")}[i.disposeFauxObject](){super[i.disposeFauxObject]()}setValue(e){if(e instanceof Object)super.setValue(e);else{if(this.screenValues[this[i.configRef].id]instanceof Object&&this.screenValues[this[i.configRef].id].id===e)return;const n={id:e,text:"no branch name"};super.setValue(n)}}getValue(e){var n;return super.getValue(e),null===(n=this.screenValues[this[i.configRef].id])||void 0===n?void 0:n.id}setProperties(e){const{branchName:n,value:o}=e,i=r.__rest(e,["branchName","value"]);n&&o?(i.value={id:o,text:n},super.setProperties(i)):super.setProperties(e)}copyPropertiesToConfig(e){const{branchName:n,value:o}=e,i=r.__rest(e,["branchName","value"]);n&&o?(i.value={id:o,text:n},super.copyPropertiesToConfig(i)):super.copyPropertiesToConfig(e)}focus(){var e;try{null===(e=this.elemText)||void 0===e||e.focus()}catch(e){}}}n.FauxObjectBranchSelector=FauxObjectBranchSelector}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/button.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),r("./compatibility-layer/faux-objects/faux-object.ts"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectMenu=n.FauxObjectButton=void 0;(0,a.getLogger)("button__faux-object");const l={hidden:!1,enabled:!0,queryString:""};class FauxObjectButton extends o.FauxObjectBase{constructor(e,n,r){super(e,n,r),this.enabled=!0,this.readOnly=!1,this.commandState=null,this.autoCallBack=new o.CallbackSettings,this.popupCommand=new o.CallbackSettings,this.syncText=!0,this.syncVisible=!0,this.labelWrapper=void 0,this.hideEnterKey=!0,this.collectParams=0,this.openFrameset=!1,this.navigateUrl="",this.popupPanel="",this.dependOnGrid=void 0,this.stateColumn=void 0,this.linkedGrid=void 0,this.sourceName=n.name,this[o.propertySetters].set("enabled",(e=>this.setEnabled(e)));const i=this.getExternalProps();this.events.appendEvents(["click","mouseUp","mouseDown"],i?i.clientEvents:null)}[o.initializeFauxObject](){if(super[o.initializeFauxObject](),this.px_cm.setStackElements(this),this.px_cm.registerCommandExecutor(this),this.domEvents=new i.ElementEvents(this.element),this.domEvents.subscribe("mouseup",(e=>{this.fireEvent("mouseUp",e,{})&&this.px.cancelEvent(e)})),this.domEvents.subscribe("mousedown",(e=>{this.fireEvent("mouseDown",e,{})&&this.px.cancelEvent(e)})),this.elemButton=this.element.querySelector("button"),this.elemButton&&this.setObjectRef(this.elemButton),this.dependOnGrid){const e=this.linkedGrid=this.px_all[this.dependOnGrid];if(e){this.setEnabled(this.getEnabledState(null));const h=(e,n)=>{this.linkedGrid===e&&this.setEnabled(this.getEnabledState(null))};e.events.addEventHandler("afterRepaint",h),e.events.addEventHandler("afterRepaintRow",h)}}this.domEvents.subscribe("buttonpressed",(e=>{const n=e.detail.event;this[o.configRef].toggleMode&&this.setPushed(e.detail.value),this.fireEvent("click",n,{})?this.px.cancelEvent(n):this.getEnabled()&&(e.detail.isMenuItem?this.execMenu(n,n.detail):this.exec(n,void 0))}))}[o.disposeFauxObject](){super[o.disposeFauxObject]()}getDefaultCallbackProps(){return l}commandStateCallback(e,n){this.setEnabled(this.getEnabledState(e)),this.syncVisible&&this.setVisible(e.getVisible());const r=e.getDisplayName();if(null!=r){!(0===r.indexOf("action"))&&this.syncText&&this.setText(r)}const o=e.getTooltip();null!=o&&this.setTooltip(o)}focus(){var e;try{null===(e=this.elemButton)||void 0===e||e.focus()}catch(e){}}getMenu(){return this._dropMenu}initMenu(e,n,r){n.options&&(this._dropMenu=new FauxObjectMenu(e,this,n.options,r),this.px_all[e]=this._dropMenu)}setText(e){this[o.configRef].text=e}getText(){return this[o.configRef].text}setTooltip(e){this[o.configRef].toolTip=e}get dialogResult(){return this[o.configRef].dialogResult}set dialogResult(e){this[o.configRef].dialogResult=e}setHidden(e){this.setVisible(!e)}setVisible(e){super.setVisible(e),this.px_cm.setStackElementsVisible(this,e)}getVisible(){return!this.hidden}getEnabled(){return this[o.configRef].enabled}setEnabled(e){e&&this.commandState?this.enabled=this[o.configRef].enabled=!!this.getEnabledState(null):this.enabled=this[o.configRef].enabled=!!e}setPushed(e){const n=this[o.configRef],r=this.screenValues[this[o.configRef].id];n.toggleMode&&e!==r&&(this.screenValues[this[o.configRef].id]=e)}getPushed(){return!!this.screenValues[this[o.configRef].id]}execMenu(e,n){var o;const i=r.PLATFORM.global[`_${this.ID}_menu`];if(!i)return;const a=n.value.command;let l;for(const e in i.items){const n=i.items[e];if((null===(o=n.autoCallBack)||void 0===o?void 0:o.command)===a){l=n;break}}l&&(l.autoCallBack.enabled=n.value.enabled,l.isMenuItem=!0,l.ID=this.ID,this.exec(e,l))}exec(e,n=void 0){const r=(n=n||this).autoCallBack,o=n.isMenuItem?n:this,i={cancelPostBack:!1,eventArgs:null};let a=n.commandSourceID;if(!a&&this.owner&&(a=this.owner.commandSourceID),n.navigateUrl){if(!i.cancelPostBack){const r=n.queryString,i=r?`${n.navigateUrl}?${r}`:n.navigateUrl;if(o.popupPanel){const e=o.px_all[o.popupPanel];e.getVisible()&&i===e.getPageUrl()?e.hide():(e.setPageUrl(i),e.show(o))}else{const r=e&&(e.shiftKey||e.ctrlKey);this.px.openUrl(i,n.target,r||n.openFrameset)}}}else if(n.autoPostBack)!i.cancelPostBack&&e&&e.target&&this.px.doPost(e.target.getAttribute("name"),"click");else if(r&&r.enabled&&r.command){const e=r.target&&this.px_all[r.target];e&&"PXBaseDataSource"===e.__className&&(e.callbackFromUI=!0),i.cancelCallBack||this.px_callback.exec(o,o.autoCallBack,o.popupCommand)}else if(a&&n.commandName){const r=this.px_all[a];r&&r.executeCommand&&(r.sourceEvent=e,"PXBaseDataSource"===r.__className&&(r.callbackFromUI=!0),n.commandName&&r.executeCommand(n.commandName,n.commandArgument,o.popupCommand))}if(o.popupPanel&&!n.autoPostBack&&!n.navigateUrl){const e=this.px_all[o.popupPanel];e&&(e.getVisible()?e.hide():(e.closeCallback=o.popupCommand,e.show(o)))}}getEnabledState(e){null!=e&&(this.commandState=e);let n=null!=this.commandState?this.commandState.getEnabled():null;if(this.linkedGrid&&(null==n||!0===n)){const e=this.linkedGrid.activeRow;let r=this.linkedGrid.rows.length>0;if(this.stateColumn&&e){const n=e.getCell(this.stateColumn);n&&(r=Boolean(n.getValue()))}n=r}return n}}n.FauxObjectButton=FauxObjectButton;class FauxObjectMenu{constructor(e,n,r,i){this.ID=e,this.owner=n,this[o.configRef]=r,this.readProperties(this,i)}getItems(){return this[o.configRef]}setProperties(e){return this._readItemsProps(this[o.configRef],e?e.items:null)}readProperties(e,n){for(const r in n){const i=e[r],a=n[r];let l={[r]:a};"items"===r?this._readItemsProps(this[o.configRef],a):null!=i&&"object"==typeof i?i instanceof Date?(l={[r]:new Date(Date.parse(a))},Object.assign(e,l)):i instanceof Array?Object.assign(e,l):this.readProperties(i,a):"boolean"==typeof i?e[r]=!!a:Object.assign(e,l)}}_readItemsProps(e,n){for(let r=0;r<e.length;r++){const o=e[r];if(o&&o.value){const e=n?n["i"+r]:{},i=Object.assign(Object.assign({},FauxObjectMenu.defaultProperties),e);this.readProperties(o.value,i),o.value.hasChild&&this._readItemsProps(o.value.childItems,n)}}}}n.FauxObjectMenu=FauxObjectMenu,FauxObjectMenu.defaultProperties={enabled:!0,visible:!0}}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/calendar.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/faux-object.ts"),r("aurelia-framework")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectCalendar=void 0;class FauxObjectCalendar extends r.FauxObjectBase{constructor(e,n,r){super(e,n,r)}[r.initializeFauxObject](){super[r.initializeFauxObject]();const e=this.element;this.domEvents=new o.ElementEvents(e),this.domEvents.subscribe("valuechanged",(()=>{px_cm.notifyOwnerChanged(this),px_cm.processPostData(this)}))}[r.disposeFauxObject](){super[r.disposeFauxObject](),this.domEvents.disposeAll()}}n.FauxObjectCalendar=FauxObjectCalendar}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/check-box.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/faux-object.ts"),r("./compatibility-layer/faux-objects/base-editor.ts"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectCheckBox=void 0;(0,a.getLogger)("check-box__faux-object");class FauxObjectCheckBox extends o.FauxObjectBaseEditor{constructor(e,n,r,o){super(e,n,r,o);const i=this.getExternalProps();this.events.appendEvents(["click","mouseUp","mouseDown"],i?i.clientEvents:null)}[r.initializeFauxObject](){super[r.initializeFauxObject](),this.elemText=this.element.querySelector("input"),this.domEvents=new i.ElementEvents(this.element),this.domEvents.subscribe("mouseup",(e=>{this.fireEvent("mouseUp",e,{})&&this.px.cancelEvent(e)})),this.domEvents.subscribe("mousedown",(e=>{this.getEnabled()&&this.px.registerWaitTask(this,this.updateValue,!this.getChecked()),this.fireEvent("mouseDown",e,{})&&this.px.cancelEvent(e)})),this.domEvents.subscribe("click",(e=>{const n=this.fireEvent("click",e,{});!n&&this.getEnabled()&&(this.px.isActiveWC()||this.px.unregisterWaitTask(this)),n&&this.px.cancelEvent(e)}))}setValue(e){if("string"==typeof e)return e.toLowerCase()===this[r.configRef].trueValue.toLowerCase()?super.setValue(!0):super.setValue(!1);super.setValue(e)}[r.disposeFauxObject](){super[r.disposeFauxObject]()}refreshValue(){return!1}getChecked(){return 0!=this.getValue()}setChecked(e){e?this.setValue(1):this.setValue(0)}}n.FauxObjectCheckBox=FauxObjectCheckBox}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/color-picker.ts":function(e,n,r){var o,i;o=[r,n,r("aurelia-framework"),r("./compatibility-layer/faux-objects/faux-object.ts"),r("./compatibility-layer/faux-objects/base-editor.ts"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectColorPicker=void 0;(0,a.getLogger)("faux-color-picker");class FauxObjectColorPicker extends i.FauxObjectBaseEditor{constructor(e,n,r,o){super(e,n,r,o)}[o.initializeFauxObject](){super[o.initializeFauxObject]();const e=this.element.querySelector("input[type=color]");e&&(this.domEventsColor=new r.ElementEvents(e),this.domEventsColor.subscribe("blur",(()=>{this.taskQueue.flushTaskQueue()})))}getTextElement(){return this.element.querySelector("input[type=text]")}[o.disposeFauxObject](){super[o.disposeFauxObject](),this.domEventsColor&&this.domEventsColor.disposeAll()}}n.FauxObjectColorPicker=FauxObjectColorPicker}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/datetime-edit.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/faux-object.ts"),r("./compatibility-layer/faux-objects/base-editor.ts"),r("aurelia-framework"),r("./utils/index.ts"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectDatetimeEdit=n.MAX_DAYS_IN_MONTH=n.MONTHS_IN_YEAR=n.MAX_YEAR=n.MIN_YEAR=void 0;(0,l.getLogger)("date-time__faux-object");n.MIN_YEAR=1900,n.MAX_YEAR=9999,n.MONTHS_IN_YEAR=12,n.MAX_DAYS_IN_MONTH=31;class FauxObjectDatetimeEdit extends o.FauxObjectBaseEditor{constructor(e,n,o,i){super(e,n,o,i),this.onValueChange=0,this.allowStrings=!1,this.durationMode=!1,this.allowCustomItems=!1,this[r.configSetters].set("editMask",null),this[r.configSetters].set("displayMask",null),this[r.configSetters].set("nullText",null),this[r.configSetters].set("allowNull",null),this[r.configSetters].set("allowCustomItems",null),this[r.configSetters].set("minValue",(e=>this.setMinValue(e))),this[r.configSetters].set("maxValue",(e=>this.setMaxValue(e))),this[r.configSetters].set("timeMode",null)}[r.initializeFauxObject](){super[r.initializeFauxObject](),this.elemText=this.element.querySelector("input"),this.domEvents=new i.ElementEvents(this.element),this.domEvents.subscribe("paste",(()=>{px_cm.notifyOwnerTyping(this)})),this.domEvents.subscribe("usertyping",(()=>{px_cm.notifyOwnerTyping(this)})),this.domEvents.subscribe("activated",(()=>{px_cm.notifyOwnerActivate(this)}))}setMinValue(e){try{this[r.configRef].minValue=new Date(e)}catch(o){let i=this._parseStringValue(e);i instanceof Date||(i=new Date(n.MIN_YEAR,0,1)),this[r.configRef].minValue=i}}setMaxValue(e){try{this[r.configRef].maxValue=new Date(e)}catch(o){let i=this._parseStringValue(e);i instanceof Date||(i=new Date(n.MAX_YEAR,n.MONTHS_IN_YEAR-1,n.MAX_DAYS_IN_MONTH)),this[r.configRef].minValue=i}}setValue(e){const n="string"==typeof e?this._parseStringValue(e):e,r=n&&"Date"===n.constructor.name?n:null;this.allowCustomItems&&(this.allowStrings=!0),(this.allowCustomItems||null==e||r&&!isNaN(r.getTime())&&(0,a.equals)(this._ajustLimits(r),r))&&super.setValue(n)}setSize(e,n){this[r.configRef].width=e,this[r.configRef].height=n}[r.disposeFauxObject](){super[r.disposeFauxObject](),this.domEvents.disposeAll()}setTimeMode(e){this[r.configRef].timeMode=e}setDateMask(e,n){const o=this[r.configRef];o.editMask=e,o.displayMask=n}_parseStringValue(e){const n=this[r.configRef];let o=null;if(null==e||this.isNullValue(e)){if(n.allowNull)return null;o=new Date}else if(n.timeMode||e.indexOf(":")>0){const n=Date.parse(e);isNaN(n)||(o=new Date(n))}else{const n=e.split("/");if(n.length>=3){const e=parseInt(n[2]),r=parseInt(n[0]),i=parseInt(n[1]);isNaN(e)||isNaN(r)||isNaN(i)||(o=new Date(e,r-1,i),o.setFullYear(e,r-1,i))}}return n.timeMode&&o instanceof Date&&!isNaN(o.getTime())&&(o.setFullYear(n.minValue.getFullYear()),o.setMonth(0),this.durationMode||o.setDate(1)),n.allowCustomItems&&(null==o||isNaN(o.getTime()))?e:o}isNullValue(e){const n=this[r.configRef],o=String(e);return void 0===e||""===o||!(!n.allowNull||o!==n.nullText)}_ajustLimits(e){const n=this[r.configRef];if(!n.timeMode&&!this.allowCustomItems&&null!=e&&!isNaN(e.getTime())){const r=e.getTime();let o,i;null!=n.minValue&&(o=n.minValue.getTime()),null!=n.maxValue&&(i=n.maxValue.getTime()),void 0!==o&&r<o&&(e=new Date(o)),void 0!==i&&r>i&&(e=new Date(i))}return e}}n.FauxObjectDatetimeEdit=FauxObjectDatetimeEdit}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/drop-down.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/faux-object.ts"),r("./compatibility-layer/faux-objects/base-editor.ts"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./utils/index.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectDropDown=void 0;(0,i.getLogger)("drop-down__faux-object");class FauxObjectDropDown extends o.FauxObjectBaseEditor{constructor(e,n,o,i){super(e,n,o,i),this.compareItems=function(e,n){if(e.value!==n.value)return!1;if(e.text!==n.text)return!1;if(e.imageURL!==n.imageURL)return!1;const r=null==e.enabled||e.enabled,o=null==n.enabled||n.enabled;return Boolean(r)===Boolean(o)},n.options&&n.options.length||(n.options=[]),this.__className="PXDropDown",this[r.propertySetters].set("items",(e=>this.setItems(e))),this.initStateBag("PText"),e.style.zIndex=null}[r.initializeFauxObject](){super[r.initializeFauxObject](),this.elemText=this.element.querySelector("input"),this.updateState(this.getValue())}updateState(e){this.stateBag.update("Value",null!=e?e:"")}setValue(e){const n=this[r.configRef];if(!n.allowMultiSelect&&!n.allowNull&&!n.allowEdit&&n.options&&!n.options.find((n=>n.value==e)))return;const o=(0,a.netTypeConvert)(e,n.valueType);super.setValue(o),this.updateState(o)}getValue(e=void 0){const n=super.getValue(e);return n??null}[r.disposeFauxObject](){super[r.disposeFauxObject]()}refreshValue(){return!1}setAllowNull(e){this[r.configRef].allowNull=e}setAllowEdit(e){this[r.configRef].allowEdit=e}setAllowMultiSelect(e){this[r.configRef].allowMultiSelect=e}initInlineEditor(e){const n=this[r.configRef],o=e[r.configRef];n.allowMultiSelect=o.allowMultiSelect,n.options.splice(0,n.options.length);for(const e of o.options){const r=new DDElement;r.value=e.value,r.text=e.text,n.options.push(r)}}getDisplayText(e){const n=this[r.configRef];let o;o="string"==typeof e?e.split(","):null!=e?[e]:[];let i="";return o.forEach((e=>{const r=n.options.find(((r,o)=>(0,a.netTypeConvert)(r.value,n.valueType)===e&&(r.selected=!0,!0)));r&&(i&&(i+=", "),i+=r.text)})),i}addItemByValues(e,n,r,o){const i=new DDElement;return i.value=e,i.text=n,i.enabled=r??!0,i.imageUrl=o??"",this.addItem(i)}removeItem(e){const n=this[r.configRef].options;let o=this.findItemByValue(e);if(null!=o){let r=n[o].value;n.splice(o,1),r===e&&(o>=n.length&&(o=n.length-1),r=o>=0?n[o].value:null,this.updateValue(r))}}parseItem(e,n){const r=n.split("|");e.value=r.length>0?r[0]:"",e.text=r.length>1?r[1]:e.value,e.enabled=!(r.length>2)||Boolean(r[2]),e.imageUrl=r.length>3?r[3]:""}setProperties(e){const n=Object.assign(Object.assign({},this.getDefaultCallbackProps()),e);return n.hasOwnProperty("items")&&(this.setItems(n.items),delete n.items),super.setProperties(n)}setItems(e){let n=!1;const o=this[r.configRef];let i;if("string"==typeof e){const r=e.split(";");i=new Array(r.length);for(let e=0;e<r.length;e++)i[e]=new DDElement,this.parseItem(i[e],r[e]);if(null!=o.options&&o.options.length===i.length){for(let e=0;e<i.length;e++)if(!this.compareItems(o.options[e],i[e])){n=!0;break}}else n=!0}else if(e&&"Array"===e.constructor.name){n=!0,i=new Array;for(const n of e)null!=n.value&&(n.value=n.value.toString(),i.push(n))}else null==e&&(n=!0,i=new Array);if(n&&i){o.options.splice(0,o.options.length,...i),this.items=i;const e=this.getValue();o.allowEdit||null!=this.findItemByValue(e)?this.setValue(e):o.allowNull?this.setValue(null):this.setValue(i[0].value)}}findItemByValue(e){const n=this[r.configRef].options;if(null!=n){let r=0;for(;r<n.length;r++){if(n[r].value==e)break}if(r<n.length)return r}return null}addItem(e){const n=this[r.configRef].options;let o=this.findItemByValue(e.value),i=!0;return null!=o?(i=!this.compareItems(n[o],e),n[o]=e):(o=n.length,n[o]=e),o}}n.FauxObjectDropDown=FauxObjectDropDown;class DDElement{constructor(){this.selected=!1,this.enabled=!0}}}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/faux-object.ts":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,exports,__webpack_require__("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),__webpack_require__("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),__webpack_require__("./utils/platform-dependable-utils.ts")],__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,aurelia_logging_1,aurelia_pal_1,platform_dependable_utils_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CallbackCommand=exports.CallbackSettings=exports.CommandState=exports.FauxObjectEventsList=exports.FauxObjectBase=exports.propertySetters=exports.configSetters=exports.configRef=exports.disposeFauxObject=exports.initializeFauxObject=void 0;const logger=(0,aurelia_logging_1.getLogger)("faux-object");exports.initializeFauxObject=Symbol("initializeFauxObject"),exports.disposeFauxObject=Symbol("disposeFauxObject"),exports.configRef=Symbol("configRef"),exports.configSetters=Symbol("configSetters"),exports.propertySetters=Symbol("propertySetters");const defaultCallbackProperties={hidden:!1};class FauxObjectBase{constructor(e,n,r){if(this.element=e,this.screenValues=r,this.hidden=!1,!n.id)throw logger.error("config without id"),"wrong config";this[exports.configRef]=n,this.ID=n.id,this.name=n.name,this.px_context=px_context,this.tabIndex=this[exports.configRef].tabIndex;n.propsTemplate&&(this.__className=n.propsTemplate.substring(2)),this.sourceID=e.getAttribute("source-id"),this[exports.propertySetters]=new Map([["hidden",e=>this.setHidden(e)]]),this[exports.configSetters]=new Map([["hidden",null]]);const o=this.getExternalProps();this.events=new FauxObjectEventsList(this,[FauxObjectBase.initEventName],o?o.clientEvents:null)}get px_cm(){return px_cm}get px(){return this.px_context.px}get px_all(){return this.px_context.px_all}get px_callback(){return this.px_context.px_callback}getTemplateProps(){return window[this[exports.configRef].propsTemplate||""]}getExternalProps(){const e=this.sourceID?this.sourceID:this.ID,n=window[`_${e}`];return n||{}}fireEvent(e,n=null,r=null){return this.events.fireEvent(e,n,r)}[exports.initializeFauxObject](){const e=Object.assign(Object.assign({},this.getTemplateProps()),this.getExternalProps());this.readProperties(this,e),this.copyPropertiesToConfig(e),this.px_all[this.ID]=this;const n=this.ID.split("_").pop();n&&(px_context.px_alls[n]=this),this.bindingContainer&&px_cm.notifyOwnerCreated(this),px_cm.tabIndexer=px_cm.tabIndexer||[],this.tabIndex&&this.tabIndex>=0&&this.px_cm.tabIndexer.push(this),this.fireEvent(FauxObjectBase.initEventName);const r=this.element.querySelector("[id]");r&&!r.object&&this.setObjectRef(r)}[exports.disposeFauxObject](){}destructor(){this[exports.disposeFauxObject]()}afterInitialize(){}setObjectRef(e){e.object=this}setHidden(e){this.setVisible(!e)}setVisible(e){this.hidden=this[exports.configRef].hidden=!e}getVisible(){return!this.hidden}getDefaultCallbackProps(){return defaultCallbackProperties}setProperties(e){const n=Object.assign(Object.assign({},this.getDefaultCallbackProps()),e),r=this[exports.propertySetters],o=this[exports.configRef];for(const e in n){const i=r.get(e);if(i)i(n[e]);else{const r={[e]:n[e]};if(Object.assign(this,r),this[exports.configSetters].has(e)){const i=this[exports.configSetters].get(e);i?i(n[e]):Object.assign(o,r)}}}}readProperties(e,n){for(const r in n){const o=e[r],i=n[r];let a={[r]:i};null!=o&&"object"==typeof o?o instanceof Date?(a={[r]:new Date(Date.parse(i))},Object.assign(e,a)):o instanceof Array?Object.assign(e,a):this.readProperties(o,i):"boolean"==typeof o?e[r]=!!i:Object.assign(e,a)}}copyPropertiesToConfig(e){const n=this[exports.configRef];for(const r in e){if(!this[exports.configSetters].has(r))continue;const o=this[exports.configSetters].get(r);o?o(e[r]):Object.assign(n,{[r]:e[r]})}}}exports.FauxObjectBase=FauxObjectBase,FauxObjectBase.initEventName="initialize";class FauxObjectEventsList{constructor(e,n,r){this.owner=e,this.events=new Object,this.handlers=new Object,this.count=0,this.appendEvents(n,r)}dispose(){delete this.owner,delete this.handlers,delete this.events}appendEvents(events,handlers){if(null!=events){for(const e of events)this.events[e]=this.count++;if(null!=handlers)for(const hn in handlers)if(this.events.hasOwnProperty(hn)){const hlist=handlers[hn].startsWith("(")?[handlers[hn]]:handlers[hn].split(",");for(const handler of hlist){let hf;const win=aurelia_pal_1.PLATFORM.global;try{hf=win[handler]}catch(e){}try{hf=eval(handler)}catch(e){}if(null==hf)try{hf=platform_dependable_utils_1.topWindow.eval(handler)}catch(e){}hf&&this.addEventHandler(hn,hf)}}}}addEventHandler(e,n){const r=this.events[e];if(null==r||r<0)return;let o=this.handlers[r];null==o&&(o=this.handlers[r]=[]);for(let e=0;e<=o.length;e++){if(null==o[e]){o[e]=new Object,o[e].func=n;break}if(o[e].func===n)break}}removeEventHandler(e,n){const r=this.events[e];if(null==r||r<0||r>=this.count)return;const o=this.handlers[r];if(null!=o)for(const e in o)if(null!=o[e]&&o[e].func===n)return delete o[e],void(o[e]=null)}fireEvent(e,n,r){const o=this.events[e],i=this.initializeEvent(o,n,r),a=this.handlers[o];let l=null==a?0:a.length;if(0===l)return!1;let c=!1;try{for(;l-- >0;)null!=a[l]&&(a[l].func(this.owner,i),i.cancel&&(c=!0))}catch(e){}return c}initializeEvent(e,n,r){var o;if(this.eventArgs=new Object,this.eventArgs.event=n,this.eventArgs.id=e,this.eventArgs.srcElement=null===(o=this.owner)||void 0===o?void 0:o.element,this.eventArgs.srcArgs=r,null!=r)for(const e in r)this.eventArgs[e]=r[e];return this.eventArgs}}exports.FauxObjectEventsList=FauxObjectEventsList;class CommandState{constructor(){this._visible=!0,this._enabled=!0,this._displayName=null,this._tooltip=null}getEnabled(){return this._enabled}setEnabled(e){this._enabled=e}getVisible(){return this._visible}setVisible(e){this._visible=e}getDisplayName(){return this._displayName}setDisplayName(e){this._displayName=e}getTooltip(){return this._tooltip}setTooltip(e){this._tooltip=e}}exports.CommandState=CommandState;class CallbackSettings{constructor(){this.enabled=!0,this.activeBehavior=!1,this.suppressOnReload=!1,this.fromUIOnly=!1,this.behavior=new CallbackCommand}}exports.CallbackSettings=CallbackSettings;class CallbackCommand{constructor(){this.blockPage=!1,this.repaintControls=0,this.commitChanges=!1,this.postData=1,this.postDataControls=!0,this.closePopup=!1,this.hideText=!1,this.optimizePostData=!0,this.popupCheckSave=!0,this.showProcessInfo=!1}}exports.CallbackCommand=CallbackCommand}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"./compatibility-layer/faux-objects/long-run.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/faux-object.ts"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("aurelia-framework")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectLongRun=void 0;const a=(0,o.getLogger)("long-run__faux-object");class FauxObjectLongRun extends r.FauxObjectBase{constructor(e,n,r){super(e,n,r),this.spin=new LRSpin(this),this.time=new LRTime(this)}[r.initializeFauxObject](){super[r.initializeFauxObject](),this.domEvents=new i.ElementEvents(this.element),this.domEvents.subscribe("cancel-long-run",(e=>{a.debug("cancel-long-run",e.detail),this.cancelLongRun(e.detail.event)}))}cancelLongRun(e){const n=this.ID.substr(0,this.ID.length-8),r=this.px_all[n];r.sourceEvent=e,r.executeCommand("LongRun")}}n.FauxObjectLongRun=FauxObjectLongRun;class LRElement{constructor(e){this.parent=e}get element(){return this}setAttribute(e,n){switch(e){case"error":this.error=n;break;case"status":switch(n){case"completed":case"aborted":case"inprocess":case"completedwithwarning":this.parent[r.configRef].status=n;break;default:a.error("WRONG LongRun status value: ",n)}break;default:a.error("WRONG LongRun attribute assignment: ",e," - ",n)}}removeAttribute(e){return this.setAttribute(e)}setVisible(e){this.parent[r.configRef].hidden=!e}setText(e){this.parent[r.configRef].longRunCompleted=e}setTooltip(e){this.parent[r.configRef].longRunMessage=e}setEnabled(e){this.parent[r.configRef].enabled=e}}class LRSpin extends LRElement{constructor(e){super(e),this.parent=e}setVisible(e){this.parent[r.configRef].spinHidden=!e}}class LRTime extends LRElement{constructor(e){super(e),this.parent=e}}}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/mail-editor.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/text-editor.ts"),r("./compatibility-layer/faux-objects/faux-object.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectMailEditor=void 0;class FauxObjectMailEditor extends r.FauxObjectTextEditor{constructor(e,n,r,i){super(e,n,r,i),this.autoCallBack=new o.CallbackSettings,this.popupCommand=new o.CallbackSettings,this[o.configSetters].set("images",null),this[o.configSetters].set("activeButton",null)}getTextElement(){return this.element.querySelector("input")}[o.initializeFauxObject](){super[o.initializeFauxObject](),this.domEventsElem.subscribe("buttonpressed",(e=>{this.activeButton&&this.execButtonClick(e.detail.event)&&(e.detail.cancel=!0)}))}execButtonClick(e){let n=!1;if(this.autoCallBack&&this.autoCallBack.enabled&&this.autoCallBack.command){const e=this.autoCallBack.target&&this.px_all[this.autoCallBack.target];e&&"PXBaseDataSource"===e.__className&&(e.callbackFromUI=!0),this.px_callback.exec(this,this.autoCallBack,this.popupCommand),n=!0}else if(this.commandSourceID&&this.commandName){const r=this.px_all[this.commandSourceID];r&&r.executeCommand&&(r.sourceEvent=e,"PXBaseDataSource"===r.__className&&(r.callbackFromUI=!0),this.commandName&&(r.executeCommand(this.commandName,this.commandArgument,this.popupCommand),n=!0))}if(this.popupPanel){const e=this.px_all[this.popupPanel];e&&(e.getVisible()?e.hide():(e.closeCallback=this.popupCommand,e.show(this)),n=!0)}return n}}n.FauxObjectMailEditor=FauxObjectMailEditor}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/mask-editor.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/faux-object.ts"),r("./compatibility-layer/faux-objects/text-editor.ts"),r("./utils/index.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectMaskEditor=void 0;const a={inputMask:""};class FauxObjectMaskEditor extends o.FauxObjectTextEditor{constructor(e,n,o,i){super(e,n,o,i),this[r.configSetters].set("inputMask",(e=>this.setInputMask(e))),this[r.configSetters].set("valueMode",null),this[r.configSetters].set("promptChar",null),this[r.configSetters].set("emptyChar",null),this[r.propertySetters].set("inputMask",(e=>this.setInputMask(e))),this.initStateBag("PXMaskEditor")}getDefaultCallbackProps(){return Object.assign(Object.assign({},super.getDefaultCallbackProps()),a)}initInlineEditor(e){this.setInputMask(e.getInputMask())}getInputMask(){return this[r.configRef].inputMask}setInputMask(e){this[r.configRef].inputMask=e,this.stateBag.update("InputMask",null!=e?e:"")}getDisplayText(e){const n=this[r.configRef];return this.rawMask&&n.inputMask===this.rawMask||(this.maskParts=(0,i.getMaskParts)(n.inputMask),this.rawMask=n.inputMask),(0,i.formatByMask)(this.maskParts.maskFull,e,n.emptyChar,n.valueMode)}}n.FauxObjectMaskEditor=FauxObjectMaskEditor}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/number-editor.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/text-editor.ts"),r("./compatibility-layer/faux-objects/faux-object.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectNumberEditor=void 0;class FauxObjectNumberEditor extends r.FauxObjectTextEditor{constructor(e,n,r,i){super(e,n,r,i),this.decimals=0,this[o.configSetters].set("decimals",null),this[o.configSetters].set("minValue",null),this[o.configSetters].set("maxValue",null),this[o.configSetters].set("valueType",null),this[o.configSetters].set("editFormat",null),this[o.configSetters].set("displayFormat",null)}initInlineEditor(e){this.setDecimals(e.getDecimals()),this.setMaxValue(e.getMaxValue()),this.setMinValue(e.getMinValue())}setValue(e){isNaN(e)||super.setValue(e)}getDecimals(){return this[o.configRef].decimals}setDecimals(e){this[o.configRef].decimals=this.decimals=e}getMinValue(){return this[o.configRef].minValue}setMinValue(e){this[o.configRef].minValue=e}getMaxValue(){return this[o.configRef].maxValue}setMaxValue(e){this[o.configRef].maxValue=e}}n.FauxObjectNumberEditor=FauxObjectNumberEditor}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/plugin-service.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/faux-object.ts"),r("./compatibility-layer/faux-objects/faux-object.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectPluginService=void 0;class FauxObjectPluginService extends o.FauxObjectBase{constructor(e,n,o){super(e,n,o),this[r.configSetters].set("graph",null)}}n.FauxObjectPluginService=FauxObjectPluginService}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/screen-title.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/faux-object.ts"),r("./compatibility-layer/faux-objects/faux-object.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectScreenTitle=void 0;class FauxObjectScreenTitle extends o.FauxObjectBase{constructor(e,n,o){super(e,n,o),this[r.configSetters].set("caption",null),this[r.configSetters].set("title",null),this[r.configSetters].set("isFavorite",null),this[r.configSetters].set("isFavoritable",null),this[r.configSetters].set("hasCaption",null),this[r.configSetters].set("nodeId",null),this[r.configSetters].set("href",null),this[r.configSetters].set("tooltipAddToFavorites",null),this[r.configSetters].set("tooltipRemoveFromFavorites",null),this[r.configSetters].set("rowErrors",null)}}n.FauxObjectScreenTitle=FauxObjectScreenTitle}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/selector.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./compatibility-layer/faux-objects/base-editor.ts"),r("./compatibility-layer/faux-objects/faux-object.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectSelector=void 0;class FauxObjectSelector extends o.FauxObjectBaseEditor{constructor(e,n,r,o){super(e,n,r,o),this.autoCallBack=new i.CallbackSettings,this[i.propertySetters].set("hintText",(e=>!1)),this[i.configSetters].set("value",(e=>this.setValue(e))),this.initStateBag("PXSelector")}[i.initializeFauxObject](){super[i.initializeFauxObject]()}[i.disposeFauxObject](){super[i.disposeFauxObject]()}getValue(e=void 0){e&&this.refreshValue();const n=this.screenValues[this[i.configRef].id];return null==n?void 0:n.id}updateState(e){this.stateBag.update("Value",null==e?void 0:e.id)}setValue(e){if(e instanceof Object)super.setValue(e);else{if(this.screenValues[this[i.configRef].id]instanceof Object&&this.screenValues[this[i.configRef].id].id===e)return;const n={id:e,text:e};super.setValue(n)}}setProperties(e){const{hintText:n,value:o}=e,i=r.__rest(e,["hintText","value"]);n&&o?(i.value={id:o,text:n},super.setProperties(i)):super.setProperties(e)}afterInitialize(){super.afterInitialize();const e=this.element.querySelector("div.qp-selector");e&&this.setObjectRef(e),this.trackValue=!0}copyPropertiesToConfig(e){const{hintText:n,value:o}=e,i=r.__rest(e,["hintText","value"]);n&&o?(i.value={value:o,text:n},super.copyPropertiesToConfig(i)):super.copyPropertiesToConfig(e)}}n.FauxObjectSelector=FauxObjectSelector}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/text-editor-autocomplete.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/text-editor.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectTextEditorAutocomplete=void 0;class FauxObjectTextEditorAutocomplete extends r.FauxObjectTextEditor{constructor(e,n,r,o){super(e,n,r,o)}refreshValue(){const e=this.getTextElement();if(e){const n=new CustomEvent("update",{bubbles:!0,cancelable:!0});e.dispatchEvent(n),this.flushMicroTaskQueue()}return!1}}n.FauxObjectTextEditorAutocomplete=FauxObjectTextEditorAutocomplete}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/text-editor.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/faux-object.ts"),r("./compatibility-layer/faux-objects/base-editor.ts"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectTextEditor=void 0;const a={defaultLocale:"",language:"",localizationInfo:null};class FauxObjectTextEditor extends o.FauxObjectBaseEditor{constructor(e,n,o,i){super(e,n,o,i),this.linkCommand=new r.CallbackSettings,this[r.configSetters].set("selectOnFocus",null),this[r.configSetters].set("allowNull",null),this[r.configSetters].set("nullText",null),this[r.configSetters].set("required",null),this[r.configSetters].set("asciiCharSet",null),this[r.configSetters].set("validateExp",null)}[r.initializeFauxObject](){super[r.initializeFauxObject](),this.defaultLocale=null,this.px_cm.registerRequiresOnLoad(this,this.ID),this.px_cm.registerAutoSize(this,this.getExternalProps()),this.wrapLanguage();new MutationObserver((e=>{this.onMutationCallback(e)})).observe(this.element,{childList:!0,subtree:!0}),this.domEventsElem.subscribe("click",(e=>{const n=e.target;n&&"A"===n.tagName&&this.px_callback.exec(this,this.linkCommand)})),this.domEventsElem.subscribe("focus",(e=>{this.hasFocus=!0})),this.domEventsElem.subscribe("blur",(e=>{this.hasFocus=!1}))}[r.disposeFauxObject](){super[r.disposeFauxObject]()}onMutationCallback(e){let n=!1;for(const r of e)if("childList"===r.type&&(r.addedNodes.length>0||r.removedNodes.length>0)){n=!0;break}n&&this.saveTextElementRef()}getDefaultCallbackProps(){return Object.assign(Object.assign({},super.getDefaultCallbackProps()),a)}getTextElement(){let e=this.element.querySelector("div[contenteditable]");return e||(e=this.element.querySelector("input")),e&&e.parentElement===this.element?e:this.element.querySelector("textarea")}onLoad(){this.syncStateWithCommand&&this.px_cm.registerCommandExecutor(this)}setProperties(e){this.syncStateWithCommand&&(e.readOnly=this.getReadOnly()),super.setProperties(e),this.wrapLanguage()}initInlineEditor(e){const n=this.getTextElement();"TEXTAREA"===n.tagName&&this.px.registerAutoSizedText(n),this.saveTextElementRef()}commandStateCallback(e){this.setReadOnly(!e.getEnabled())}setVisible(e){if(!!e!==this.getVisible()){const n=e?"":"none";if(this.boundImage&&(this.boundImage.style.display=n),this.labelID){const e=this.px.elemByID(this.labelID);e&&(e.style.display=n)}const r=this.element.nextElementSibling;r&&"indi"===r.getAttribute("data-lang")&&(r.style.display=n)}super.setVisible(e)}setReadOnly(e){super.setReadOnly(e),this.wrapLanguage()}setValue(e){super.setValue(e),this.repaintText(e)}repaintText(e){}getSelectedText(){const e=this.getTextElement();if(!(e instanceof HTMLDivElement))return this.selStart=e.selectionStart||0,this.selEnd=e.selectionEnd||0,e.value.substring(this.selStart,this.selEnd)}select(e=null,n=null){const r=this.getTextElement();r instanceof HTMLDivElement||(null==e||null==n?null!=e?r.setSelectionRange(e,e):r.select():r.setSelectionRange(e,n))}getPositioning(e){return i.PLATFORM.global.getComputedStyle(e).position}removeLanguage(){this.elemLanguage&&this.elemLanguage.parentNode&&this.elemLanguage.parentNode.removeChild(this.elemLanguage)}wrapLanguage(e=null){const n=e||this.language||this.defaultLocale;if(n){if(this.elemLanguage&&this.elemLanguage.parentNode)return this.elemLanguage.innerHTML=n,void(this.elemLanguage.style.display=this.getReadOnly()?"none":"");const e=this.elemText&&this.elemText.nextElementSibling,r=this.elemText&&this.elemText.parentNode;if(r){this.elemLanguage=i.PLATFORM.global.document.createElement("a"),this.elemLanguage.className="langindi2",this.elemLanguage.innerHTML=n,this.elemLanguage.href="javascript:void 0",this.elemLanguage.style.display=this.getReadOnly()?"none":"";"static"===this.getPositioning(r)&&(r.style.position="relative"),this.elemLanguage.setAttribute("style","position:absolute;top:2px; /* background-color: rgba(255,255,255,0.8);*/ "),this.elemLanguage.style[this.px.isRTL()?"left":"right"]="-30px",r.insertBefore(this.elemLanguage,e),this.px.addEventHandler(this.elemLanguage,"click",this.localeEditor.bind(this))}}}localeEditor(e){const n=this.px_all[this.bindingContainer];if(n&&"PXGrid"===n.__className)n.localizedInlineEditor=this,(n.activeCell.language||n.activeRow.isNew()&&n.activeCell.column.defaultLocale&&!n.activeCell.getReadOnly())&&this.px_cm.showLocalizePopup(n.dataSourceID,n.dataMember,n.activeCell.column.getKey(),n,this.getValue(),n.activeCell.language);else if(n&&this.language)this.getReadOnly()||this.px_cm.showLocalizePopup(n.dataSourceID,n.dataMember,this.dataField,this,this.getValue(),this.language);else if(this.localizationInfo){const e=this.localizationInfo.split(";");this.px_cm.showLocalizePopup(e[0],e[1],e[2],this,this.getValue(),this.language)}return e.preventDefault(),e.stopPropagation(),!1}localeUpdated(e){if(!e)return;const n=e.split(";");n.length>1&&(this.language=n[0],this.setValue(n[1]))}adjustInline(e){if(this.wrapLanguage(e),this.elemLanguage&&this.elemLanguage.parentNode){this.elemLanguage.style.display="";const e=this.px.isRTL()?["multiLangRTL"]:["multiLang"];this.elemText&&this.px.appendCss(this.elemText,e,!0);const n=this.getPositioning(this.elemLanguage.parentNode);if(("absolute"===n||"relative"===n)&&null!=this.elemText){const e=window.getComputedStyle(this.elemText),n=6,r=27,o=3,i=this.px.isRTL()?(this.elemText.offsetLeft||0)+n:(this.elemText.offsetLeft||0)+parseInt(e.width,10)-r;this.elemLanguage.style.right="",this.elemLanguage.style.left=i+"px",this.elemLanguage.style.top=`${this.elemText.offsetTop+o}px`,this.elemText.style.zIndex&&(this.elemLanguage.style.zIndex=String(parseInt(this.elemText.style.zIndex)+1))}}}hideInline(){this.elemLanguage&&(this.elemLanguage.style.display="none",this.elemText&&this.px.excludeCss(this.elemText,["multiLang","multiLangRTL"],!0))}}n.FauxObjectTextEditor=FauxObjectTextEditor}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/tool-bar.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/faux-object.ts"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./compatibility-layer/faux-objects/button.ts"),r("./utils/platform-dependable-utils.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c,d){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxExportExcelButton=n.FauxObjectToolBar=void 0;const u=(0,i.getLogger)("tool-bar__faux-object"),p={hidden:!1,disabled:!1,connotation:"",favorite:!1,showInToolbar:!1,commandArgument:""};class FauxObjectToolBar extends r.FauxObjectBase{constructor(e,n,r){super(e,n,r),this.commandState=null,this._items=[],this.registeredCommands={};const o=this.getExternalProps();this.events.appendEvents(["buttonClick","menuShow"],o?o.clientEvents:null)}get items(){return this._items}set items(e){this._items=e}get configItems(){return this[r.configRef].items}[r.initializeFauxObject](){this.initItems(this[r.configRef].items),super[r.initializeFauxObject](),this.paramsCall=this.px_callback.createCommand("CollectParams",!0,!1,!1,3),this.domEvents=new o.ElementEvents(this.element),this.domEvents.subscribe("mouseup",(e=>{this.fireEvent("mouseUp",e,{})&&this.px.cancelEvent(e)})),this.domEvents.subscribe("buttonpressed",(e=>{u.debug("buttonpressed",e.detail);const n=e.detail.event,r=e.detail.config;FauxObjectToolBar.isEnabled(r)&&(e.detail.isMenuItem?this.execMenu(n,n.detail,r):this.exec(n,r))}))}static isEnabled(e){return!!e&&!e.disabled}get taskQueue(){return c.Container.instance.get(o.TaskQueue)}registerCommands(){var e;for(const n in this[r.configRef].items){const o=null===(e=this[r.configRef].items[n])||void 0===e?void 0:e.config;if(null==o)continue;if(this.registeredCommands[n])continue;this.registeredCommands[n]=!0;let i=o.commandSourceID;if(i||(i=this.commandSourceID),i){const e=this.px_all[i];if(e&&e.registerCommandControl){const n=o.commandName;n&&e.registerCommandControl(this,n)}}if(o.autoCallBack&&o.autoCallBack.command&&o.autoCallBack.target){const e=this.px_all[o.autoCallBack.target];e&&e.registerCommandControl&&e.registerCommandControl(this,o.autoCallBack.command)}if(o.dependOnGrid){const e=o.linkedGrid=this.px_all[o.dependOnGrid];e&&(this.setItemEnabledState(o),e.toolBarAttached||(e.toolBarAttached=!0,e.events.addEventHandler("afterRepaint",(e=>this.handleGridRepaint(e))),e.events.addEventHandler("afterRepaintRow",(e=>this.handleGridRepaint(e)))))}}}handleGridRepaint(e){var n;for(const r in this.configItems){const o=null===(n=this.configItems[r])||void 0===n?void 0:n.config;null!=o&&o.linkedGrid===e&&this.setItemEnabledState(o)}}navigate(e,n){const o=e.target?e.target:this[r.configRef].target,i=e.queryString,a=i?e.navigateUrl+(-1===e.navigateUrl.indexOf("?")?"?":"&")+i:e.navigateUrl;if(e.popupPanel){const n=this.px_all[e.popupPanel];n.getVisible()&&a===n.getPageUrl()?n.hide():(n.setPageUrl(a),n.show(this))}else{const r=n&&(n.shiftKey||n.ctrlKey);this.px.openUrl(a,o,r||e.openFrameset)}}get commandSourceID(){return this[r.configRef].commandSourceID}set commandSourceID(e){this[r.configRef].commandSourceID=e}execMenu(e,n,o){var i;const a=this.items[o.index],l=a.getMenu(),c=null===(i=null==l?void 0:l.getItems()[n.value.index])||void 0===i?void 0:i.value;if(!c||!l)return;let d=c.autoPostBack;null==d&&(d=o.autoPostBack),null==d&&(d=this[r.configRef].autoPostBack);let u=c.commandSourceID;u||(u=o.commandSourceID),u||(u=a.owner.commandSourceID);const p=c.autoCallBack||o.autoCallBack||a.autoCallBack;if(null==p.enabled&&(p.enabled=!0),c.navigateUrl)if(c.popupPanel){const e=this.px_all[c.popupPanel];e.getVisible()&&c.navigateUrl===e.getPageUrl()?e.hide():(e.setPageUrl(c.navigateUrl),e.show(a||l))}else{const n=e&&(e.shiftKey||e.ctrlKey);this.px.openUrl(c.navigateUrl,c.target,n||c.openFrameset)}else if(d){const n=e.target.getAttribute("name");this.px.doPost(n,`click|"${c.value?`val|${c.value}`:this.element.id}`)}else if(p&&p.enabled&&p.command)this.px_callback.exec(c,c.autoCallBack,c.popupCommand);else if(u&&c.commandName){const n=this.px_all[u];n&&n.executeCommand&&(n.sourceEvent=e,n.executeCommand(c.commandName,c.commandArgument,c.popupCommand))}if(c.popupPanel&&!d&&!c.navigateUrl){const e=this.px_all[c.popupPanel];e&&(e.getVisible()?e.hide():(e.closeCallback=c.popupCommand,e.show(c)))}}exec(e,n){const o=n,i={button:n};if(n.suppressActions||this.fireEvent("buttonClick",e,i))return;let a=n.autoPostBack;null==a&&(a=this[r.configRef].autoPostBack);let l=n.commandSourceID;const c=n.autoCallBack||o.autoCallBack;if(l||(l=this.commandSourceID),n.navigateUrl)if(1===o.collectParams){const e={};e.button=o;const r=FauxObjectToolBar._processCollect;this.px_callback.execI(this,this.paramsCall,n.index,r,e)}else this.navigate(n,e);else if(a){const e=this.element.getAttribute("name");this.px.doPost.doPost(e,`click:${n.index}`)}else if(c&&c.enabled&&c.command)e&&(e.openFrameset=o.openFrameset),e.cancelCallBack||this.px_callback.exec(this,o.autoCallBack,o.popupCommand);else if(l&&n.commandName){const r=this.px_all[l];r&&r.executeCommand&&(r.sourceEvent=e,r.executeCommand(n.commandName,n.commandArgument,o.popupCommand))}if(o.popupPanel&&!a&&!o.navigateUrl){const e=this.px_all[o.popupPanel];e&&(e.getVisible()?e.hide():(e.closeCallback=o.popupCommand,e.show(this)))}}static _processCollect(e,n){const r=n.button;r&&e&&(r.queryString=e,r.navigate())}readProperties(e,n){for(const r in n){const o=e[r],i=n[r];let a={[r]:i};null!=o&&"object"==typeof o?o instanceof Date?(a={[r]:new Date(Date.parse(i))},Object.assign(e,a)):"items"===r?this.readProperties(o,i):o instanceof Array?Object.assign(e,a):this.readProperties(o,i):"disabled"===r?this.syncItemEnabledState(e,i):"boolean"==typeof o?e[r]=!!i:Object.assign(e,a)}}copyPropertiesToConfig(e){super.copyPropertiesToConfig(e)}setProperties(e){if(this[r.configRef]&&(this[r.configRef].changed=!0),e&&e.items)for(const n in e.items){const o=e.items[n];o.config=Object.assign(Object.assign({},p),o.config);let i=this[r.configRef].items[n];i||(i=this[r.configRef].items[n]={}),delete i.index,super.readProperties(i,o)}e&&(this[r.configRef].categories=[],e.categories&&this.readProperties(this[r.configRef].categories,e.categories)),this.registerCommands()}commandStateCallback(e,n){this[r.configRef]&&(this[r.configRef].styleChanged=!0);for(const o in this[r.configRef].items){const i=this[r.configRef].items[o].config,a=i.commandName;if((0,d.compareStrings)(a,n,!0)){this.setItemState(i,e);break}}}syncItemEnabledState(e,n){if(n)e.disabled=!0;else{let n,r=e.commandName,o=e.commandSourceID;if(!o&&this.commandSourceID&&(o=this.commandSourceID),r&&o||!e.autoCallBack||e.popupPanel||(r=e.autoCallBack.command,o=e.autoCallBack.target),r&&o){const e=this.px_all[o];e&&e.getCommandState&&(n=e.getCommandState(this,r))}this.setItemEnabledState(e,n)}}setItemEnabledState(e,n){if(n&&(e.disabled=!n.getEnabled()),e.linkedGrid&&(null==e.disabled||!1===e.disabled)){let n=e.linkedGrid.rows.length>0;const r=e.linkedGrid.activeRow;if(e.stateColumn&&r){const o=r.getCell(e.stateColumn);o&&(n=Boolean(o.getValue())),e.disabled=!n}}}setItemState(e,n){this.setItemEnabledState(e,n),e.hidden=!n.getVisible();const r=n.getDisplayName();e.syncText&&null!=r&&1!==e.displayStyle&&(e.text=r);const o=n.getTooltip();null!=o&&(e.toolTip=o)}getEnabled(){return!!this[r.configRef].enabled}setEnabled(e){this[r.configRef].enabled=!!e}getEnabledState(e){null!=e&&(this.commandState=e);return null!=this.commandState?this.commandState.getEnabled():null}getButton(e){const n=this.items;if("ExportExcel"===e){let r=n.find((n=>(null==n?void 0:n.item.config.commandName)===e));if(r)return r;for(const o in this.configItems){const i=this.configItems[o];if(i.config.commandName===e)return r=new FauxExportExcelButton(this,Object.assign(Object.assign({},i),{id:o,enabled:!0})),n.push(r),r}return null}if(n&&e)for(const o of n){if(!(o instanceof a.FauxObjectButton))continue;const n=o[r.configRef],i=o.autoCallBack;if(n.key===e||(0,d.compareStrings)(n.commandName,e,!0)||i&&(0,d.compareStrings)(i.command,e,!0))return o}return null}arrangeOverflowItems(){u.error("ARRANGE OVERFLOW is not yet implemented. ")}initItems(e){if(e&&e.length)for(const n of e)if(null!=n)if(this.items[n.index])this.items[n.index].setProperties(n);else if("qp-button"===n.type||"PXToolBarButton"===n.type){o.DOM.getElementById(n.id)}else if("label"===n.type||"PXToolBarLabel"===n.type){const e=o.DOM.getElementById(n.id);this.items[n.index]=new FauxToolBarLabel(e,n)}}}n.FauxObjectToolBar=FauxObjectToolBar;class FauxExportExcelButton{constructor(e,n){this.images={},this.toolbar=e,this.item=n}getTooltip(){return this.item.config.toolTip}setTooltip(e){this.item.config.toolTip=e}setStyle(){var e,n;const o=null===(n=null===(e=this.toolbar[r.configRef])||void 0===e?void 0:e.items[this.item.id])||void 0===n?void 0:n.config;o&&(o.imageKey=void 0,o.imageSet=void 0,o.images=this.images,this.toolbar[r.configRef].styleChanged=!0)}setProperties(e){for(const n in e){const r={[n]:e[n]};Object.assign(this,r)}}}n.FauxExportExcelButton=FauxExportExcelButton,l.topWindow.FauxExportExcelButton=function(e,n){return new FauxExportExcelButton(e,n)};class FauxToolBarLabel{constructor(e,n){this.config=n,this.itemCell=e.parentElement,this.element=e}get type(){return"PXToolBarSeperator"}set type(e){}setProperties(e){for(const n in e){const r={[n]:e[n]};Object.assign(this,r)}}setText(e){this.config.text=e}}}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/tree.ts":function(e,n,r){var o,i;o=[r,n,r("./compatibility-layer/faux-objects/faux-object.ts"),r("./compatibility-layer/faux-objects/faux-object.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectTree=void 0;class FauxObjectTree extends o.FauxObjectBase{constructor(e,n,o){super(e,n,o),this[r.configSetters].set("dragselected",null),this[r.configSetters].set("modifiable",null),this[r.configSetters].set("mode",null),this[r.configSetters].set("singleclickselect",null),this[r.configSetters].set("extracolumns",null),this[r.configSetters].set("refresh",null)}}n.FauxObjectTree=FauxObjectTree}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-objects/workflow-diagram.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./compatibility-layer/faux-objects/base-editor.ts"),r("./compatibility-layer/faux-objects/faux-object.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FauxObjectWorkflowDiagram=void 0;class FauxObjectWorkflowDiagram extends o.FauxObjectBaseEditor{constructor(e,n,r,o){super(e,n,r,o),this[i.propertySetters].set("hidden",(e=>this.setHidden(e))),this[i.propertySetters].set("visible",(e=>this.setVisible(e))),this[i.configSetters].set("hidden",null)}[i.initializeFauxObject](){super[i.initializeFauxObject](),this.elemText=this.element.querySelector("input")}[i.disposeFauxObject](){super[i.disposeFauxObject]()}setProperties(e){const{hidden:n}=e,o=r.__rest(e,["hidden"]);void 0===n?(o.hidden=!0,super.setProperties(o)):(e.hidden=!!e.hidden,super.setProperties(e))}setHidden(e){this.hidden=this[i.configRef].hidden=e}setVisible(e){}}n.FauxObjectWorkflowDiagram=FauxObjectWorkflowDiagram}.apply(n,o),void 0===i||(e.exports=i)},"./compatibility-layer/faux-screen.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./compatibility-layer/faux-objects/faux-object.ts"),r("./compatibility-layer/faux-object-factory.ts"),r("controls/container/field/qp-field")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.registerQAObject=n.FauxScreenCustomAttribute=void 0;let c=class FauxScreenCustomAttribute{constructor(e,n,r){this.element=e,this.bindingEngine=n,this.tq=r}bind(e){void 0!==e.elements[this.config.id]&&(e.elements[this.config.id]=void 0,this.tq.flushMicroTaskQueue()),e.elements[this.config.id]=this.config;const n=this.config.value;e.values[this.config.id]=n,this.values=e.values,this.elements=e.elements}attached(){const e=(0,a.getFauxObject)(this.element,this.config,this.values,this.bindingEngine);this.element.object=e,e[i.initializeFauxObject](),this.tq.queueMicroTask((()=>e.afterInitialize()))}unbind(){this.values[this.config.id]=void 0,this.elements[this.config.id]=void 0}detached(){this.element.object[i.disposeFauxObject]()}};function registerQAObject(e,n){const r=window;r.qaObject||(r.qaObject={}),r.qaObject[e]=n}r.__decorate([(0,o.bindable)({defaultBindingMode:o.bindingMode.oneTime,primaryProperty:!0}),r.__metadata("design:type",Object)],c.prototype,"config",void 0),c=r.__decorate([o.autoinject,(0,o.customAttribute)("faux-screen"),r.__metadata("design:paramtypes",[Element,o.BindingEngine,o.TaskQueue])],c),n.FauxScreenCustomAttribute=c,n.registerQAObject=registerQAObject,registerQAObject("getDefaultControlType",l.getDefaultControlType)}.apply(n,o),void 0===i||(e.exports=i)},"./controls/abstract/base-field-editor/base-field-editor.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("aurelia-framework"),r("aurelia-event-aggregator"),r("./services/screen-service.ts"),r("./descriptors/index.ts"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js")],i=function(e,n,r,o,i,a,l,c,d){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpBaseFieldEditor=void 0;let u=class QpBaseFieldEditor{constructor(e){this.container=e,this.stateSubscriptions=[],this.configSetters=new Map,this.bindingEngine=e.get(i.BindingEngine),this.tq=e.get(i.TaskQueue),this.eventAggregator=e.get(a.EventAggregator),this.screenEventManager=e.get(c.QpEventManager),this.addConfigSetter("visible",(e=>this.config.hidden=!e)),this.addConfigSetter("enabled"),this.addConfigSetter("readOnly"),this.addConfigSetter("required")}attached(){}detached(){var e;this.unregisterFieldBinding(this.state),this.unsubscribeStateChanges(),null===(e=this.inputSubscription)||void 0===e||e.dispose()}addConfigSetter(e,n=null){this.configSetters.set(e,n)}stateChanged(e,n){this.unsubscribeStateChanges(),e&&this.subscribeStateChanges(e),this.unregisterFieldBinding(n),this.registerFieldBinding(e)}registerFieldBinding(e){if(null==e?void 0:e.name){const n=e.name,r=this.container.get(Element);if(r){const o=e.viewModeName;if(o){const e=this.container.get(l.ScreenService);null==e||e.registerViewBinding(r,o,n)}const a=this.container.get(d.EventManager);this.inputSubscription=a.addEventListener(r,"input",(e=>{r.dispatchEvent(new CustomEvent("usertyping",{bubbles:!0,cancelable:!0,detail:{viewName:o,fieldName:n}}))}),i.delegationStrategy.none,!0)}}}unregisterFieldBinding(e){if((null==e?void 0:e.name)&&(null==e?void 0:e.viewModeName)){const e=this.container.get(l.ScreenService),n=this.container.get(Element);n&&(null==e||e.unregisterViewBinding(n))}}subscribeStateChanges(e){this.config&&e.configureControl(this.config),this.configSetters.forEach(((n,r)=>{if(this.config&&("visible"===r||"required"===r||"readOnly"===r))if(null==this.config[r])null==this.config[`${r}_stateControlled`]&&(this.config[`${r}_stateControlled`]=!0);else if(!0!==this.config[`${r}_stateControlled`])return;const o=this.bindingEngine.propertyObserver(e,r).subscribe(((o,i)=>this.setConfigProperty(n,r,o,e)));this.setConfigProperty(n,r,e[r],e),this.stateSubscriptions.push(o)}))}setConfigProperty(e,n,r,o){if(null==e||"string"==typeof e){if(void 0===r)return;Object.assign(this.config,{[String(e||n)]:r})}else e(r,o)}unsubscribeStateChanges(){this.stateSubscriptions.forEach((e=>e.dispose())),this.stateSubscriptions=[]}};r.__decorate([i.bindable,r.__metadata("design:type",c.PXFieldState)],u.prototype,"state",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],u.prototype,"config",void 0),u=r.__decorate([i.autoinject,r.__metadata("design:paramtypes",[o.Container])],u),n.QpBaseFieldEditor=u}.apply(n,o),void 0===i||(e.exports=i)},"./controls/abstract/customization/customizable.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("aurelia-framework"),r("../node_modules/aurelia-loader/dist/native-modules/aurelia-loader.js"),r("./descriptors/index.ts"),r("../node_modules/path/path.js")],i=function(e,n,r,o,i,a,l,c,d){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CustomizableCustomElement=void 0,d=r.__importStar(d);const u=(0,o.getLogger)("customizable");let p=class CustomizableCustomElement{constructor(e,n,r,o,i,a,l,d){this.container=e,this.viewResources=n,this.element=r,this.targetInstruction=o,this.compositionEngine=i,this.loader=a,this.viewCompiler=l,this.taskQueue=d,this.initialized=!1,this.expressions=this.targetInstruction.expressions,this.screenEventManager=e.get(c.QpEventManager),this.container=e,this.slot=this.bindingContext=this.overrideContext=void 0,this.isAttached=this.isBound=this.isCompiled=this.isInitialized=!1,this.isCleanedUp=!0}bind(e,n){this.isBound=!0,this.bindingContext=e.context||e,this.overrideContext=(0,i.createOverrideContext)(e,n),this.screenNameChanged(this.screenName)}unbind(){this.isBound=!1;const e=null==this?void 0:this.currentViewModel;(null==e?void 0:e.unbind)&&e.unbind(),this.bindingContext=void 0,this.overrideContext=void 0}attached(){this.isAttached=!0,this.isInitialized=!0,this.slot=new a.ViewSlot(this.routerElement||this.element.firstElementChild||this.element,!0),this.taskQueue.queueMicroTask((()=>{this.tryCompile()}))}detached(){this.isAttached=!1;const e=null==this?void 0:this.currentViewModel;(null==e?void 0:e.detached)&&e.detached(),this.isCompiled&&this.cleanUp(),this.slot=void 0}findElement(e,n){if(!n)throw new Error("Empty locator. ");const r=e.content.querySelector(n);if(!r)throw new Error(`Element ${n} is not found. `);return r}applyCustomization(e,n){var r,o,i,a,l,c,d,u,p,b,g,m;try{for(let f=0;f<n.content.children.length;++f){const v=n.content.children[f];if("MODIFY"!==v.nodeName)if(null===(o=v.attributes.modify)||void 0===o?void 0:o.value){const n=this.findElement(e,null===(i=v.attributes.modify)||void 0===i?void 0:i.value);for(let e=0;e<v.attributes.length;++e){const r=v.attributes[e];"modify"!==r.name&&(r.value?n.setAttribute(r.name,r.value):n.removeAttribute(r.name))}}else if(null===(a=v.attributes.replace)||void 0===a?void 0:a.value){const n=this.findElement(e,null===(l=v.attributes.replace)||void 0===l?void 0:l.value);null===(c=n.parentNode)||void 0===c||c.replaceChild(v.cloneNode(!0),n)}else if(null===(d=v.attributes.before)||void 0===d?void 0:d.value){const n=this.findElement(e,null===(u=v.attributes.before)||void 0===u?void 0:u.value);null===(p=n.parentNode)||void 0===p||p.insertBefore(v.cloneNode(!0),n)}else if(null===(b=v.attributes.after)||void 0===b?void 0:b.value){const n=this.findElement(e,null===(g=v.attributes.after)||void 0===g?void 0:g.value);null===(m=n.parentNode)||void 0===m||m.insertBefore(v.cloneNode(!0),n.nextElementSibling)}else e.content.appendChild(v.cloneNode(!0));else{const n=this.findElement(e,null===(r=v.attributes.target)||void 0===r?void 0:r.value);for(let e=0;e<v.attributes.length;++e){const r=v.attributes[e];"target"!==r.name&&(r.value?n.setAttribute(r.name,r.value):n.removeAttribute(r.name))}}}}catch(e){let r=`${e.message}<br>`;throw r+=`In customization template:<br>${this.escapeHtml(n.outerHTML)}`,new Error(r)}}escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}isViewModel(e){let n=e;do{if("PXScreen"===n.name)return!0;n=n.__proto__}while(n);return!1}getViewModelClassFromScreenName(e){return r.__awaiter(this,void 0,void 0,(function*(){const n=d.parse(e).dir,r=yield this.loader.loadModule(e),o=Object.getOwnPropertyNames(r);let i;for(const e of o){const n=r[e];if(this.isViewModel(n)){i=this.container.get(n);break}}this.currentViewModel=i;const a=new Array,l=i;l.appliedMixins&&l.appliedMixins.forEach((e=>a.push({viewName:d.join(n,"extensions",`${e.name}.html`)}))),a.push({viewName:l.viewName});for(const e of a){const n=yield this.loader.loadTemplate(`html-resource-plugin!${e.viewName}`),r=document.createElement("div");r.innerHTML=moduleHtmlToString(n),e.template=r.firstChild}const c=a[a.length-1].template;try{for(let e=a.length-2;e>=0;--e)this.applyCustomization(c,a[e].template);this.html=c.outerHTML}catch(e){this.html=`<template><div style="white-space: pre;background-color: lightgoldenrodyellow;padding: 12px;">Error: ${e.message}</div></template>`}this.taskQueue.queueMicroTask((()=>{this.tryCompile()}))}))}screenNameChanged(e){return r.__awaiter(this,void 0,void 0,(function*(){this.currentViewModel||this.currentViewModelPromise||!e||this.getViewModelClassFromScreenName(e)}))}activate(e,n){this.screenName=n.settings.screen,this.routerElement=n.navModel.router.viewPorts.default.element}deactivate(){const e=null==this?void 0:this.currentViewModel;(null==e?void 0:e.deactivate)&&e.deactivate()}cleanUp(){this.isCompiled=!1;const e=this.slot;try{e.detached()}catch(e){u.error(e.message)}try{e.unbind()}catch(e){u.error(e.message)}try{e.removeAll()}catch(e){u.error(e.message)}this.isCleanedUp=!0}tryCompile(){if(this.isAttached){this.isCleanedUp||this.cleanUp();try{this.taskQueue.queueMicroTask((()=>{this.compile()}))}catch(e){u.warn(e.message),this.taskQueue.queueMicroTask((()=>{this.compile(`<template>${e.message}</template>`)}))}}}dispatchCompiledEvent(){const e=new CustomEvent("compiled",{cancelable:!0,bubbles:!0,detail:this});this.element.dispatchEvent(e)}compile(e){if(this.isCompiled)return;this.isCleanedUp||this.cleanUp();const n=e||this.html;if(!n)return;this.isCleanedUp=!1;const r=this.container.get(a.ViewResources),o=this.container.createChild(),l=this.viewCompiler.compile(n,r).create(o),c=this.slot;this.bindingContext&&(this.bindingContext.viewModel=this.currentViewModel,this.currentViewModel.screenEventManager=this.screenEventManager,this.bindingContext.viewModelActivated&&this.bindingContext.viewModelActivated());const d=(0,i.createOverrideContext)(this.currentViewModel,this.overrideContext);c.add(l),c.bind(this.currentViewModel,d),this.currentViewModel.attached(),c.attached(),this.dispatchCompiledEvent(),this.isCompiled=!0}};r.__decorate([a.bindable,r.__metadata("design:type",String)],p.prototype,"screenName",void 0),p=r.__decorate([a.autoinject,(0,a.customElement)("customizable"),(0,a.inlineView)("<template></template>"),r.__metadata("design:paramtypes",[a.Container,a.ViewResources,Element,a.TargetInstruction,a.CompositionEngine,l.Loader,a.ViewCompiler,a.TaskQueue])],p),n.CustomizableCustomElement=p;const moduleHtmlToString=e=>{if(!e||"string"==typeof e)return e;if("object"==typeof e&&e.hasOwnProperty("default"))return e.default;throw{message:"loadTemplate returned something strange",data:e}}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/abstract/decorators/config-attributes.ts":function(e,n,r){var o,i;o=[r,n,r("aurelia-framework")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configAttributes=void 0;class ConfigSetter{constructor(e,n,r){this.owner=e,this.properties=n,this.configAlias=r,this.previousValues={}}static getInstance(e,n,r="config"){return e.hasOwnProperty(ConfigSetter.PropertyName)||Object.defineProperty(e,ConfigSetter.PropertyName,{value:new ConfigSetter(e,n,r),enumerable:!1,writable:!1}),e[ConfigSetter.PropertyName]}propertyChanged(e,n,r){if(-1!==this.properties.indexOf(e)){const r=this.config[e],o=this.previousValues[e];void 0!==r&&o!==r||this.setConfigValue(e,n)}else e===this.configAlias&&(!0===this.config[ConfigSetter.Marker]?delete this.config[ConfigSetter.Marker]:(this.previousValues={},this.properties.forEach((e=>{if(void 0===this.config[e]){const n=this.owner[e];void 0!==n&&this.setConfigValue(e,n)}}))))}get config(){let e=this.owner[this.configAlias];return"object"==typeof e&&e||(this.owner[this.configAlias]=e={[ConfigSetter.Marker]:!0}),e}setConfigValue(e,n){this.config[e]=this.previousValues[e]=n}}ConfigSetter.PropertyName="__config_setter__",ConfigSetter.Marker=Symbol(ConfigSetter.name),n.configAttributes=function configAttributes(e,n){return o=>{e.forEach((e=>{const n=r.metadata.getOrCreateOwn(r.metadata.resource,r.HtmlBehaviorResource,o);if(n.attributes&&!n.attributes[e]){new r.BindableProperty(e).registerWith(o,n)}}));const i=o.prototype.propertyChanged;o.prototype.propertyChanged=function(r,o,a){var l;null===(l=ConfigSetter.getInstance(this,e,n))||void 0===l||l.propertyChanged(r,o,a),null==i||i.call(this,r,o,a)}}}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/abstract/enhanced-compose/enhanced-compose.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EnhancedComposeCustomElement=void 0;const a=(0,i.getLogger)("enhanced-compose");let l=class EnhancedComposeCustomElement{constructor(e,n,r,o,i){this.container=e,this.viewResources=n,this.element=r,this.targetInstruction=o,this.compositionEngine=i,this.expressions=this.targetInstruction.expressions}bind(e,n){this.bindingContext=e,this.overrideContext=n,this.viewModelChanged(this.viewModel)}unbind(){this.currentViewModelPromise=void 0,this.currentViewModel=void 0}getViewModelClassFromTagName(e){let n=this.viewResources.getElement(e);return n||(n=this.viewResources.getElement("qp-text-editor")),n.target}viewModelChanged(e){if(this.currentViewModel||this.currentViewModelPromise||!e)return;const n=this.getViewModelClassFromTagName(e);n||a.error("No client control exists for tag",e);const r=this.context?(0,o.createOverrideContext)(this.context,this.overrideContext):this.overrideContext,i={bindingContext:this.bindingContext,overrideContext:r,viewModel:n,container:this.container,host:this.element,viewResources:this.container.get(o.ViewResources),viewSlot:this.container.get(o.ViewSlot)},l=this.currentViewModelPromise=this.compositionEngine.compose(i).then((e=>{var n,r;if(l!==this.currentViewModelPromise)return;const a=this.currentViewModel=e.viewModel,c=o.metadata.get(o.metadata.resource,a.constructor);if(c){const n=c.properties;for(const r of n){const n=this.expressions.find((e=>e.targetProperty===r.name));if(n){const r=n.createBinding(a);e.view.addBinding(r)}}const r=this.expressions.find((e=>"controlId"===e.targetProperty));if(r){const n=r.createBinding(a);e.view.addBinding(n)}for(const n of this.proxyExpressions||[]){const r=n.createBinding(n.bindTo||a);e.view.addBinding(r)}}e.bind(i),a.controlId&&a.config&&(null!==(n=(r=a.config).id)&&void 0!==n||(r.id=a.controlId)),a.attached&&a.attached()}),(e=>a.error("error composing",e))).finally((()=>{l===this.currentViewModelPromise&&(this.currentViewModelPromise=void 0)}))}};r.__decorate([o.bindable,r.__metadata("design:type",String)],l.prototype,"viewModel",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],l.prototype,"currentViewModel",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],l.prototype,"context",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Array)],l.prototype,"proxyExpressions",void 0),l=r.__decorate([o.noView,(0,o.customElement)("enhanced-compose"),o.autoinject,r.__metadata("design:paramtypes",[o.Container,o.ViewResources,Element,o.TargetInstruction,o.CompositionEngine])],l),n.EnhancedComposeCustomElement=l}.apply(n,o),void 0===i||(e.exports=i)},"./controls/abstract/index.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/abstract/customization/customizable.ts"),r("./controls/abstract/enhanced-compose/enhanced-compose.ts"),r("./controls/abstract/base-field-editor/base-field-editor.ts"),r("controls/abstract/screen-base-view-model/screen-base-view-model"),r("./controls/abstract/decorators/config-attributes.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configAttributes=n.PXScreen=n.QpBaseFieldEditor=n.EnhancedComposeCustomElement=n.CustomizableCustomElement=void 0,Object.defineProperty(n,"CustomizableCustomElement",{enumerable:!0,get:function(){return r.CustomizableCustomElement}}),Object.defineProperty(n,"EnhancedComposeCustomElement",{enumerable:!0,get:function(){return o.EnhancedComposeCustomElement}}),Object.defineProperty(n,"QpBaseFieldEditor",{enumerable:!0,get:function(){return i.QpBaseFieldEditor}}),Object.defineProperty(n,"PXScreen",{enumerable:!0,get:function(){return a.PXScreen}}),Object.defineProperty(n,"configAttributes",{enumerable:!0,get:function(){return l.configAttributes}})}.apply(n,o),void 0===i||(e.exports=i)},"controls/abstract/screen-base-view-model/screen-base-view-model":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/base-api-client.ts"),r("controls/dialog/informer/qp-informer-rack"),r("./services/features-service.ts"),r("./services/localizations-service.ts"),r("aurelia-framework"),r("aurelia-event-aggregator"),r("./services/screen-service.ts"),r("./dependency-property-injection/index.ts"),r("./descriptors/index.ts"),r("./utils/index.ts"),r("./controls/dialog/base-dialog/dialog-helper.ts"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),r("./services/field-defaults-service.ts"),r("./controls/abstract/screen-base-view-model/utils.ts"),r("./utils/index.ts"),r("./services/messages.ts"),r("./controls/compound/grid/grid-api-client.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g,m,f,v,y,x,C,S,D){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PXScreen=void 0;class PXScreen{constructor(){this.actions=new b.CaseInsensitiveMap,this.optimizeDataSelection=!0,this.appliedMixins=new Array,this.loadOnDemand=!1,this.initialized=!1,this.actionNames=[],this.subscribers=[],this.model=void 0,this.dirtyFlag=!1,this.serverEnableSave=!0,this.saveActions=[],this.Messages=S.Messages,this.LAYER_CONTAINER_ID="_layer_cont",this.graphInfo=b.PXReflectionMetadata.getMetadata(Object.getPrototypeOf(this).constructor,"graphInfo")}afterConstructor(){this.screenService.model=this,this.runMixin&&this.runMixin(),this.subscribers.push(this.eventManager.addEventListener(v.PLATFORM.global,"beforeunload",(e=>{if(this.isDirty)return e.preventDefault(),e.returnValue=!1,"";window.pageLoaded=!1,window.controlsRegistered=!1}),f.delegationStrategy.none,!0))}getScreenService(){return this.screenService}get screenID(){return this.siteMapScreenID}get modelScreenID(){let e=this;for(;e.__proto__.constructor&&e.__proto__.constructor.name!==PXScreen.name;)e=e.__proto__;return e.constructor.name}get siteMapScreenID(){var e;return(null===(e=this.screenService)||void 0===e?void 0:e.siteMapScreenID)||this.modelScreenID}isCustomized(){var e;return(null===(e=this.__proto__.__proto__)||void 0===e?void 0:e.constructor.name)!==PXScreen.name}get isDirty(){return this.saveActions.length>0&&this.dirtyFlag}setDirty(e=!0){this.dirtyFlag!==e&&(this.dirtyFlag=e,this.saveActions.forEach((e=>{const n=this.actions.get(e);n&&(n.enabled=this.dirtyFlag&&this.serverEnableSave,n.bindToScreenName&&(this[n.bindToScreenName].enabled=n.enabled))})))}activate(e){var n,o,i;return r.__awaiter(this,void 0,void 0,(function*(){if(yield this.featuresService.getFeatures().then((e=>this.features=e)),yield this.localizationService.load(),e&&void 0!==e.initialized&&(this.model=e,!e.viewModel)){const r=null===top||void 0===top?void 0:top.document.getElementById(this.LAYER_CONTAINER_ID);r&&(null===(n=window.frameElement)||void 0===n?void 0:n.id)!==(null===(o=null==r?void 0:r.querySelector("iframe"))||void 0===o?void 0:o.id)&&(r.style.display="none",null===(i=r.closest(".frame-cont"))||void 0===i||i.classList.remove("layer-visible")),e.viewModel=this,e.viewModelActivated&&e.viewModelActivated(),this.onActivate()}}))}openDialogMsg(e,n){return this.dialogHelper.openDialog(Object.assign(Object.assign({},n),{templateId:e.name,context:this,command:e.commandName}))}get viewName(){const e=this.__proto__.constructor.fileName;if(!e)return window.SCREEN_VIEW_NAME;const n=this.constructor.rootName,r=(0,g.makePathRelativeTo)(e,n);return`${r.substring(0,r.lastIndexOf(".ts"))}.html`}getViewStrategy(){return this.viewName}clearActions(){var e,n;null===(e=this.actions)||void 0===e||e.clear(),null===(n=this.actionNames)||void 0===n||n.splice(0)}attached(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.fieldDefaultsService.addFromModule(this.viewName),this.loadOnDemand||(yield this.initialize()),this.subscribers.push(this.eventAggregator.subscribe("cancel-long-run",(()=>{this.screenService.executeCommand("LongRun")}))),this.subscribers.push(this.eventManager.addEventListener(this.element,"usertyping",(e=>{const n=e.detail;n.viewName&&this.screenService.registerViewFieldChange(n.viewName,n.fieldName,void 0,{typing:!0}),this.setDirty()}),f.delegationStrategy.none,!0))}))}setupParameters(e){this[this.graphInfo.primaryView];for(const n in e)this.screenService.setScreenParameter(this.graphInfo.primaryView,n,e[n])}getKeys(){const e={},n=this[this.graphInfo.primaryView];for(const r in n){const o=n[r];o&&(o.primaryKey&&(e[r]=o.systemValue))}return e}isNewEntry(){return this.screenService.isNewEntry}getCaptionText(){let e,n="";const r=this[this.graphInfo.primaryView];for(const o in r){const i=r[o];i&&(i.primaryKey&&(n+=`${i.textValue} `,e=i))}if(e)for(const e in r){const o=r[e];o&&o.headerDescription&&o.textValue&&(n+=`- ${o.textValue}`)}return n}getRowErrors(){const e={},n=this[this.graphInfo.primaryView];for(const r in n){const o=n[r];o&&(o.errorLevel!==b.PXErrorLevel.RowError&&o.errorLevel!==b.PXErrorLevel.RowWarning&&o.errorLevel!==b.PXErrorLevel.RowInfo||!o.error||e[o.error]||(e[o.error]=o.errorLevel))}if(Object.keys(e).length){const n=[];return Object.keys(e).forEach((r=>n.push([r,e[r].toString()]))),n}}setActionStates(e,n){if(this.saveActions=[],this.serverEnableSave=!1,e){for(const n in e){let r=this.actions.get(n);r||this.actions.set(n,r=new b.PXActionState(this,n));const o=new b.PXActionState(this,n);Object.assign(o,e[n]);const i=e[n].specialType;if(i===b.PXSpecialButtonType.Save||i===b.PXSpecialButtonType.SaveNotClose){this.saveActions.push(n),this.serverEnableSave=this.serverEnableSave||null==e[n].enabled||e[n].enabled;const r=(null==this.dirtyFlag||this.dirtyFlag)&&this.serverEnableSave;o.enabled=r}Object.assign(r,o),o.bindToScreenName&&(this[o.bindToScreenName]=o)}this.actionNames=Object.keys(e)}if(n)for(const e in n){const r=this[e];if(!r)continue;const o=n[e];for(const e of o){const n=this.actions.get(e);n&&(r[e]=n)}r.actionNames=o}this.onActionsUpdate()}attachFieldsValueHandlers(e){(null==e?void 0:e[b.CustomEventType.ValueChanged])&&e[b.CustomEventType.ValueChanged].forEach((e=>{const n=e.props;this.attachValueHandler(e,n.view,n.field)}))}attachCssCustomizations(e){if(!(null==e?void 0:e[b.CustomEventType.GetRowCss])&&!(null==e?void 0:e[b.CustomEventType.GetCellCss]))return;const n=[b.CustomEventType.GetRowCss,b.CustomEventType.GetCellCss].reduce(((n,r)=>{var o;return null===(o=e[r])||void 0===o||o.forEach((e=>{const o=e.props;n[o.view]=n[o.view]||{},n[o.view][r]=n[o.view][r]||[],n[o.view][r].push(e)})),n}),{});for(const e in n){const r=this[e];r&&r.cssCustomization.setCustomCssHandler(this,n[e])}}attachRowSelectedHandlers(e){(null==e?void 0:e[b.CustomEventType.RowSelected])&&e[b.CustomEventType.RowSelected].forEach((e=>{const n=this[e.props.view];n&&n.subscribeRowSelected(this,e)}))}attachValueHandler(e,n,r){const o=this[n];if(o){const n=o.subscribeValueChanged(this,r,e);n&&this.subscribers.push(n)}}detached(){this.subscribers.forEach((e=>e.dispose())),this.subscribers.splice(0,this.subscribers.length),this.screenService.dispose()}cancelViewChanges(e){this.screenService.cancelViewFieldChanges(e),this.setDirty(this.screenService.hasChanges())}ensureInitialized(){return r.__awaiter(this,void 0,void 0,(function*(){this.busyCounter.increment(),this.initialized||(yield this.initialize(!1)),this.busyCounter.decrement()}))}initialize(e=!0,n){return r.__awaiter(this,void 0,void 0,(function*(){const r=this.screenEventManager.subscribe("ExecuteCommand",(e=>{var n,r;(e.Command||(null===(r=null===(n=e.Params)||void 0===n?void 0:n.dialogCallback)||void 0===r?void 0:r.dialogResult))&&(this.screenService.executeCommand(e.Command,e.Params),e.stop())}));this.subscribers.push(r),this.subscribers.push(this.eventAggregator.subscribe(b.ApiCientEvents.ErrorRaisedEvent,(e=>{var n,r,o;e.isProcessed||((0,i.showInformer)((null===(n=e.data)||void 0===n?void 0:n.detail)||(null===(r=e.data)||void 0===r?void 0:r.title)||(null===(o=e.data)||void 0===o?void 0:o.message),"error"),e.isProcessed=!0)}))),yield this.onBeforeInitialize();try{yield this.screenService.initialize()}catch(e){return this.initialized=!0,this.eventAggregator.publish("screen-initialized",{screenID:this.screenID,pendingUpdate:!1,failure:!0}),this.onInitializeError(e),void(window.pageLoaded=!0)}this.eventAggregator.publish("screen-initialize-data-ready",this.screenID);const o=(0,x.getEventHandlersByType)(this);if(this.attachFieldsValueHandlers(o),this.attachCssCustomizations(o),this.attachRowSelectedHandlers(o),yield this.onInitialize(),this.initialized=!0,this.eventAggregator.publish("screen-initialized",{screenID:this.screenID,pendingUpdate:e}),window.pageLoaded=!0,this.onAfterInitialize(),e)return this.update(n)}))}update(e){return this.screenService.update(void 0,e).then()}onActivate(){}onBeforeInitialize(){return r.__awaiter(this,void 0,void 0,(function*(){}))}onInitialize(){return r.__awaiter(this,void 0,void 0,(function*(){}))}onInitializeError(e){}onAfterInitialize(){}onActionsUpdate(){}}r.__decorate([p.autoinject,r.__metadata("design:type",d.EventAggregator)],PXScreen.prototype,"eventAggregator",void 0),r.__decorate([(0,p.newInstance)(b.QpEventManager),r.__metadata("design:type",b.QpEventManager)],PXScreen.prototype,"screenEventManager",void 0),r.__decorate([(0,p.newInstance)(b.RedirectHelper),r.__metadata("design:type",b.RedirectHelper)],PXScreen.prototype,"redirectHelper",void 0),r.__decorate([(0,p.newInstance)(o.BaseApiClient),r.__metadata("design:type",o.BaseApiClient)],PXScreen.prototype,"baseApiClient",void 0),r.__decorate([(0,p.newInstance)(D.GridApiClient),r.__metadata("design:type",D.GridApiClient)],PXScreen.prototype,"gridApiClient",void 0),r.__decorate([(0,p.newInstance)(u.ScreenService),r.__metadata("design:type",u.ScreenService)],PXScreen.prototype,"screenService",void 0),r.__decorate([(0,p.inject)(a.FeaturesService),r.__metadata("design:type",Object)],PXScreen.prototype,"featuresService",void 0),r.__decorate([(0,p.inject)(l.LocalizationsService),r.__metadata("design:type",Object)],PXScreen.prototype,"localizationService",void 0),r.__decorate([p.autoinject,r.__metadata("design:type",c.TaskQueue)],PXScreen.prototype,"tq",void 0),r.__decorate([(0,p.newInstance)(m.DialogHelper),r.__metadata("design:type",m.DialogHelper)],PXScreen.prototype,"dialogHelper",void 0),r.__decorate([p.autoinject,r.__metadata("design:type",Element)],PXScreen.prototype,"element",void 0),r.__decorate([p.autoinject,r.__metadata("design:type",c.Container)],PXScreen.prototype,"container",void 0),r.__decorate([p.autoinject,r.__metadata("design:type",f.EventManager)],PXScreen.prototype,"eventManager",void 0),r.__decorate([p.autoinject,r.__metadata("design:type",y.FieldDefaultsService)],PXScreen.prototype,"fieldDefaultsService",void 0),r.__decorate([p.autoinject,r.__metadata("design:type",C.BusyCounter)],PXScreen.prototype,"busyCounter",void 0),n.PXScreen=PXScreen;const E=Object.getOwnPropertyNames(PXScreen.prototype).reduce(((e,n)=>(e[n]=!0,e)),{});E.__metadata__=!0,E.__pxmetadata__=!0,window.SCREEN_RESTRICTED_PROPS=E}.apply(n,o),void 0===i||(e.exports=i)},"./controls/abstract/screen-base-view-model/utils.ts":function(e,n,r){var o,i;o=[r,n,r("./descriptors/index.ts")],i=function(e,n,r){"use strict";function processManualHandlers(e){const n=[];for(let r=e.length-1;r>=0;r--)if(n.unshift(e[r]),e[r].props.manualHandler&&r>0){n[0].children=processManualHandlers(e.slice(0,r));break}return n}function getAllFunctions(e){let n=new Array,r=e;do{n=n.concat(Object.getOwnPropertyNames(r)),r=Object.getPrototypeOf(r)}while(r);return n.sort().filter((function(n,r,o){if(n!==o[r+1]&&"function"==typeof e[n])return!0}))}function searchMetadata(e,n,o){let i,a=e;do{i=r.ReflectWithMetadata.getOwnMetadata(n,a,o),i||(a=Object.getPrototypeOf(a))}while(!i&&a);return{eventType:i,prototype:a}}Object.defineProperty(n,"__esModule",{value:!0}),n.searchMetadata=n.getAllFunctions=n.processManualHandlers=n.getEventHandlersByType=void 0,n.getEventHandlersByType=function getEventHandlersByType(e){const n=Object.getPrototypeOf(e),o=getAllFunctions(e),i={};for(const a of o){const{eventType:o,prototype:l}=searchMetadata(n,r.eventTypeMetadataName,a);if(!o)continue;i[o]=i[o]||[];const c=r.ReflectWithMetadata.getOwnMetadata(r.eventPropMetadataName,l,a),d=r.ReflectWithMetadata.getOwnMetadata(r.eventOrderMetadataName,l,a);i[o].push({order:d,handler:e[a],handlerName:a,props:c,eventType:o})}for(const e in i){const n=i[e];(null==n?void 0:n.sort)&&(n.sort(((e,n)=>{const r=e.order-n.order;if(0!==r)return r;const o=(void 0===e.props.order?Number.MAX_SAFE_INTEGER:e.props.order)-(void 0===n.props.order?Number.MAX_SAFE_INTEGER:n.props.order);return 0!==o?o:e.handlerName.localeCompare(n.handlerName)})),i[e]=processManualHandlers(n))}return i},n.processManualHandlers=processManualHandlers,n.getAllFunctions=getAllFunctions,n.searchMetadata=searchMetadata}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/address-lookup/address-helper.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AddressHelper=void 0;class AddressHelper{static getSearchQuery(e){var n,r;if(e.AddressLine1||e.AddressLine2||e.City||e.State||e.PostalCode)return AddressHelper.getFormattedAddressHelper(" ",[e.AddressLine1,e.AddressLine2,e.City,AddressHelper.getFormattedAddressHelper(" ",[null===(n=e.State)||void 0===n?void 0:n.id,e.PostalCode]),null===(r=e.Country)||void 0===r?void 0:r.id])}static getFormattedAddress(e){var n,r;if(e.AddressLine1||e.AddressLine2||e.City||e.State||e.PostalCode)return AddressHelper.getFormattedAddressHelper(", ",[e.AddressLine1,e.AddressLine2,e.City,AddressHelper.getFormattedAddressHelper(" ",[null===(n=e.State)||void 0===n?void 0:n.id,e.PostalCode]),null===(r=e.Country)||void 0===r?void 0:r.id])}static getFormattedAddressHelper(e,n){return n.filter((e=>!!e)).join(e)}}n.AddressHelper=AddressHelper}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./controls/compound/address-lookup/address-lookup-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AddressLookupService=void 0;n.AddressLookupService=class AddressLookupService{constructor(e){this.http=e}getAddressLookupSetting(){return r.__awaiter(this,void 0,void 0,(function*(){try{const e=yield this.http.get("apiweb/AddressLookup/setting");if(e.ok&&200===e.status)return e.json()}catch(e){console.log("Error: ",e)}return null}))}}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/address-lookup/map-api/bing-api.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./controls/compound/address-lookup/address-helper.ts"),r("./controls/compound/address-lookup/map-api/map-api.ts"),r("./services/messages.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});class BingApi extends i.MapApi{constructor(e){super(e),this.latitude="",this.longitude="",this.Microsoft=window.Microsoft,this.handlers=[],this.stp=!1,this.properties=this.getProviderProperties()}destroy(){var e,n;this.handlers.forEach((e=>{this.Microsoft.Maps.Events.removeHandler(e)})),delete this.address,delete this.searchManager,delete this.infowindow,delete this.marker,null===(e=this.map)||void 0===e||e.entities.clear(),null===(n=this.map)||void 0===n||n.dispose(),delete this.map}geocodeQuery(e){this.address=e;const n=o.AddressHelper.getSearchQuery(e);if(!n)return;const r={where:n,callback:n=>{n&&n.results&&n.results.length>0&&(this.showPlace(n.results[0].location,o.AddressHelper.getFormattedAddress(e),""),this.map.setView({center:n.results[0].location}),this.infowindow.setOptions({visible:!0}))},errorCallback:()=>{}};this.searchManager.geocode(r)}initializeMaps(e,n,r){return super.initializeMaps(e,n,r).then((()=>(this.Microsoft||(this.Microsoft=window.Microsoft),this.bindAutocompleteSearchControl())))}getAddress(){if(!this.bingSuggestedAddress)return;const e=this.bingSuggestedAddress,n={};return n.AddressLine1=e.addressLine,n.City=e.locality,n.Country={id:e.countryRegionISO2,text:e.countryRegion},n.Latitude=this.latitude,n.Longitude=this.longitude,n.PostalCode=e.postalCode,n.State={id:e.adminDistrict},n}getProviderProperties(){var e;return{url:(null===(e=this.setting.url)||void 0===e?void 0:e.toLowerCase().trim().replace("${api_key}",this.setting.apiKey||""))||`https://www.bing.com/api/maps/mapcontrol?key=${this.setting.apiKey}&setLang=en&includeEntityTypes=Address,Business`,providerName:"BINGMAPS",countries:this.setting.countries,path:this.setting.path||"./map-api/bing-api"}}geocodeQueryByLoc(e){return new Promise(((n,r)=>{e||r();const o={location:e,includeCountryIso2:!0,callback:(e,r)=>{n(e)},errorCallback:()=>{r()}};this.searchManager.reverseGeocode(o)}))}static getUrl(e,n){let r=`https://www.bing.com/maps?where1=${n}`;return r+=encodeURIComponent(e),r}static sleep(e){return new Promise((n=>setTimeout(n,e)))}bindAutocompleteSearchControl(){return r.__awaiter(this,void 0,void 0,(function*(){try{this.map=new this.Microsoft.Maps.Map(this.mapContainer,{})}catch(e){yield BingApi.sleep(2*i.MapApi.dblClickDelay),this.map=new this.Microsoft.Maps.Map(this.mapContainer,{})}this.map.setView({zoom:13});const e=new Promise((e=>{this.Microsoft.Maps.loadModule("Microsoft.Maps.Search",(()=>{this.searchManager=new this.Microsoft.Maps.Search.SearchManager(this.map),e()}))})),n=new Promise((e=>{this.Microsoft.Maps.loadModule("Microsoft.Maps.AutoSuggest",(()=>{let n={maxResults:5,businessSuggestions:!0,map:this.map};this.countries&&this.countries.length&&(n={maxResults:5,businessSuggestions:!0,map:this.map,countryCode:this.countries[0]});new this.Microsoft.Maps.AutosuggestManager(n).attachAutosuggest(this.searchBoxInput,"#searchBoxContainer",(e=>{this.selectedSuggestion(e),this.map.setView({center:e.location}),this.infowindow.setOptions({visible:!0})})),e()}))}));return Promise.all([e,n]).then((()=>{this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.map,"dblclick",(()=>{this.stp=!0,setTimeout((()=>this.stp=!1),3*i.MapApi.dblClickDelay)}))),this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.map,"click",(e=>{setTimeout((()=>this.addHandedMarker(e)),i.MapApi.dblClickDelay)}))),this.marker=new this.Microsoft.Maps.Pushpin(this.map.getCenter(),{draggable:!0}),this.infowindow=new this.Microsoft.Maps.Infobox(this.map.getCenter(),{visible:!1,enableHoverStyle:!0}),this.infowindow.setMap(this.map),this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.marker,"click",(e=>{this.infowindow.setOptions({visible:!this.infowindow.getVisible(),description:this.infowindow.getDescription()})}))),this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.marker,"dragstart",(e=>{this.infowindow.setOptions({visible:!1})}))),this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.marker,"dragend",(e=>{this.infowindow.setOptions({visible:!1}),this.addHandedMarker(e)})))}))}))}addHandedMarker(e){this.stp||this.geocodeQueryByLoc(e.location).then((e=>{this.selectedSuggestion(e)}))}selectedSuggestion(e){this.map.entities.clear(),this.bingSuggestedAddress=e.address,this.showPlace(e.location,e.address.formattedAddress,BingApi.getUrl(e.address.formattedAddress,"")),this.latitude=e.location.latitude,this.longitude=e.location.longitude}showPlace(e,n,r){var i;n&&(this.map.entities.push(this.marker),this.marker.setLocation(e),r||(r=(null===(i=this.address)||void 0===i?void 0:i.AddressLine1)?BingApi.getUrl(o.AddressHelper.getFormattedAddress(this.address),""):`https://bing.com/maps/default.aspx?cp=${e.latitude}~${e.longitude}&lvl=16&dir=0&sty=o&sp=point.${e.latitude}_${e.longitude}_You%20are%20here`),r&&(n=`${n}<div class="view-link">\n\t\t\t\t<a target="_blank" href="${r}"> <span> ${a.Messages.AddressLookupViewOnBingMap} </span> </a>\n\t\t\t\t</div >`),this.infowindow.setOptions({visible:!1,description:n,location:e,enableHoverStyle:!0,offset:{x:0,y:10}}))}}n.default=BingApi}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/address-lookup/map-api/default-api.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/address-lookup/map-api/map-api.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});class DefaultApi extends r.MapApi{constructor(e){super(e),this.properties={url:"http://about:blank",providerName:"DEFAULT",countries:[],path:"./map-api/default-api"}}destroy(){}geocodeQuery(e){}initializeMaps(e,n,r){return Promise.resolve(super.initializeMaps(e,n,r))}getAddress(){}}n.default=DefaultApi}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/address-lookup/map-api/google-api.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/address-lookup/address-helper.ts"),r("./controls/compound/address-lookup/map-api/map-api.ts"),r("./services/messages.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});class GoogleApi extends o.MapApi{constructor(e){super(e),this.isInfowindowOpen=!1,this.stp=!1,this.properties=this.getProviderProperties()}destroy(){GoogleApi.googleMap.event.clearListeners(this.marker,"click"),GoogleApi.googleMap.event.clearListeners(this.marker,"dragend"),GoogleApi.googleMap.event.clearListeners(this.marker,"dragstart"),GoogleApi.googleMap.event.clearListeners(this.autocomplete,"place_changed"),delete this.map,delete this.marker,delete this.autocomplete,delete this.infowindow}initializeMaps(e,n,r){return super.initializeMaps(e,n,r).then((()=>{GoogleApi.googleMap=window.google.maps;if(this.autocomplete=new GoogleApi.googleMap.places.Autocomplete(this.searchBoxInput,{bounds:{east:180,west:-180,north:90,south:-90},fields:["name","url","address_component","geometry","adr_address","formatted_address"]}),this.countries&&this.countries.length)try{this.autocomplete.setComponentRestrictions({country:this.countries})}catch(e){alert("Can't apply countries component restriction.")}this.map=new GoogleApi.googleMap.Map(this.mapContainer,{center:{lat:-33.8688,lng:151.2195},zoom:13,fullscreenControl:!1,clickableIcons:!1,streetViewControl:!1,mapTypeControl:!0,mapTypeControlOptions:{style:GoogleApi.googleMap.MapTypeControlStyle.HORIZONTAL_BAR,position:GoogleApi.googleMap.ControlPosition.TOP_RIGHT},styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]}),this.map.getDiv().addEventListener("dblclick",(()=>{this.stp=!0,setTimeout((()=>this.stp=!1),3*GoogleApi.dblClickDelay)})),this.map.addListener("click",(e=>{setTimeout(this.addHandedMarker.bind(this),GoogleApi.dblClickDelay,e)})),this.marker=new GoogleApi.googleMap.Marker({map:this.map,anchorPoint:new GoogleApi.googleMap.Point(0,GoogleApi.defaultPoint),draggable:!0}),this.marker.addListener("dragend",(e=>{this.closeInfowindow(),this.addHandedMarker(e)})),this.marker.addListener("dragstart",(e=>{this.closeInfowindow()})),this.autocomplete.addListener("place_changed",(()=>{const e=this.autocomplete.getPlace();e.geometry?(this.selectedPlace=e,this.showPlace(e.geometry.location,e.formatted_address,e.name,e.url)):this.selectedPlace=null}));const e=GoogleApi.offset;this.infowindow=new GoogleApi.googleMap.InfoWindow({pixelOffset:e}),GoogleApi.googleMap.event.addListener(this.marker,"click",(()=>{this.isInfowindowOpen?this.closeInfowindow():this.openInfowindow()}))}))}addHandedMarker(e){if(this.stp)return;(new GoogleApi.googleMap.Geocoder).geocode({location:e.latLng}).then((n=>{this.closeInfowindow(),n.results[0]?(this.marker.setPosition(e.latLng),this.marker.setTitle(n.results[0].formatted_address),this.infowindow.setContent(n.results[0].formatted_address),this.selectedPlace=n.results[0]):(this.marker.setPosition(e.latLng),this.marker.setTitle(null),this.selectedPlace=null)}))}geocodeQuery(e){let n=r.AddressHelper.getSearchQuery(e);if(!n)return;(new GoogleApi.googleMap.Geocoder).geocode({address:n},((o,i)=>{if("OK"===i){const i=o[0].geometry;this.marker?this.marker.setPosition(i.location):this.marker=new GoogleApi.googleMap.Marker({map:this.map,position:i.location}),n=r.AddressHelper.getFormattedAddress(e);const a=GoogleApi.getUrl(n,"&q=");this.showPlace(i.location,n,"",a)}}))}getAddress(){var e,n,r,o;const i=this.selectedPlace;if(!i)return;const a=(new DOMParser).parseFromString(i.adr_address,"text/html"),l={};if(l.Latitude=i.geometry.location.lat(),l.Longitude=i.geometry.location.lng(),l.AddressLine1=null===(e=null==a?void 0:a.querySelector(".street-address"))||void 0===e?void 0:e.innerText,!l.AddressLine1){let e=i.address_components.filter((e=>"premise"===e.types[0]));e.length>0&&(l.AddressLine1=e[0].short_name),l.AddressLine1&&(e=i.address_components.filter((e=>"locality"===e.types[0])),e.length>0&&(l.AddressLine1+=", "+e[0].short_name)),l.AddressLine1||(l.AddressLine1=i.formatted_address.split(",")[0])}if(l.PostalCode=null===(n=null==a?void 0:a.querySelector(".postal-code"))||void 0===n?void 0:n.innerText,!l.PostalCode){const e=i.address_components.filter((e=>e.types.indexOf("postal_code")>-1));e.length>0&&(l.PostalCode=e[0].short_name)}if(l.City=null===(r=null==a?void 0:a.querySelector(".sublocality"))||void 0===r?void 0:r.innerText,l.City||(l.City=null===(o=null==a?void 0:a.querySelector(".locality"))||void 0===o?void 0:o.innerText),!l.City){let e=i.address_components.filter((e=>e.types.indexOf("sublocality")>-1));e.length>0?l.City=e[0].short_name:(e=i.address_components.filter((e=>e.types.indexOf("locality")>-1)),e.length>0&&(l.City=e[0].short_name))}let c=i.address_components.filter((e=>e.types.indexOf("administrative_area_level_1")>-1));return c.length>0&&(l.State={id:c[0].short_name,text:c[0].long_name}),c=i.address_components.filter((e=>e.types.indexOf("country")>-1)),c.length>0&&(l.Country={id:c[0].short_name,text:c[0].long_name}),l}getProviderProperties(){var e;return{url:(null===(e=this.setting.url)||void 0===e?void 0:e.toLowerCase().trim().replace("${api_key}",this.setting.apiKey||""))||`https://maps.googleapis.com/maps/api/js?key=${this.setting.apiKey}&libraries=places&language=EN`,providerName:"GOOGLEMAPS",countries:this.setting.countries,path:this.setting.path||"./map-api/google-api"}}openInfowindow(){this.infowindow.open(this.map,this.marker),this.isInfowindowOpen=!0}closeInfowindow(){this.infowindow.close(),this.isInfowindowOpen=!1}showPlace(e,n,r,o){if(!n)return;this.marker.setVisible(!1),this.map.setCenter(e),this.map.setZoom(GoogleApi.defaultZoom),this.marker.setPosition(e),this.marker.setVisible(!0),o||(o=GoogleApi.getUrl());const a=`<div id="content-custom">${n}</div>\n\t\t\t<div class="view-link">\n\t\t\t<a target="_blank" href="${o}"> <span> ${i.Messages.AddressLookupViewOnGoogleMaps} </span> </a>\n\t\t\t</div>`;this.infowindow.setContent(a),this.openInfowindow()}static getUrl(e,n){let r="http://maps.google.com/maps?hl="+n;return e&&(r+=encodeURIComponent(e)),r}}n.default=GoogleApi,GoogleApi.defaultZoom=13,GoogleApi.defaultPoint=-29,GoogleApi.offset={width:0,height:-10}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/address-lookup/map-api/map-api.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MapApi=void 0;class MapApi{constructor(e){this.setting=e}initializeMaps(e,n,r){return this.mapContainer=e,this.searchBox=n,this.searchBoxInput=this.searchBox.querySelector("input"),this.countries=r,Promise.resolve()}}n.MapApi=MapApi,MapApi.dblClickDelay=200}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./controls/compound/address-lookup/map-provider-properties-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework")],i=function(e,n,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MapProviderPropertiesService=void 0;n.MapProviderPropertiesService=class MapProviderPropertiesService{constructor(e){this.addressLookupSetting=e}initMapApi(){return o.__awaiter(this,void 0,void 0,(function*(){return yield this.dynamicImport(),this.mapApi}))}dynamicImport(){return o.__awaiter(this,void 0,void 0,(function*(){this.addressLookupSetting.path||(this.addressLookupSetting.path="./map-api/default-api");const e=yield new Promise(((e,n)=>{Promise.resolve().then(function(){var n=[r("./controls/compound/address-lookup sync recursive ^.*$")(""+i.PLATFORM.moduleName(this.addressLookupSetting.path))];e.apply(null,n)}.bind(this)).catch(n.bind(this))})).then(o.__importStar);this.mapApi=new e.default(this.addressLookupSetting)}))}}}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/address-lookup/qp-address-lookup":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./controls/compound/address-lookup/map-provider-properties-service.ts"),r("./controls/compound/address-lookup/address-lookup-service.ts"),r("./descriptors/base-view-model.ts"),r("./utils/control-helper.ts"),r("./services/messages.ts"),r("aurelia-framework"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("aurelia-event-aggregator"),r("./controls/dialog/base-dialog/dialog-helper.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b){"use strict";var g;Object.defineProperty(n,"__esModule",{value:!0}),n.QpAddressLookupCustomElement=void 0;let m=g=class QpAddressLookupCustomElement{constructor(e,n,r,o,i,a,l){this.element=e,this.bindingEngine=n,this.observerLocator=r,this.eventAggregator=o,this.dialogHelper=i,this.tq=a,this.http=l,this.msg=c.Messages,this.btnAddressLookupConfig={id:"btnAddressLookup",text:c.Messages.AddressLookupButtonTitle,enabled:!0},this.mapdialogConfig={title:c.Messages.AddressLookupDialogTitle,width:"50vw",height:"50vh"},this.saveButtonConfig={text:c.Messages.Confirm,id:"btnConfirm",dialogResult:1,enabled:!0},this.cancelButtonConfig={text:c.Messages.Cancel,id:"btnCancel",dialogResult:2,enabled:!0},this.txtNameConfig={id:"edFilterName",class:"editor auto-size"},this.isScriptLoaded=!1,this.subscriptions=new Array}bind(e,n){if(this.clearSubscriptions(),this.config?(0,l.applyDefaultValues)(this.config,g.defaultConfig):this.config=Object.assign({},g.defaultConfig),this.btnAddressLookupConfig=Object.assign(Object.assign({},this.config),{text:this.config.buttonText||c.Messages.AddressLookupButtonTitle}),this.saveButtonConfig.enabled=void 0===this.config.enabled?void 0===this.overrideAddress||this.overrideAddress:this.config.enabled,this.txtNameConfig.hidden=!this.saveButtonConfig.enabled,!this.view&&this.config.view&&(this.view=this.config.view),this.view){["AddressLine1","AddressLine2","AddressLine3","City","CountryID","State","PostalCode","Latitude","Longitude","OverrideAddress"].forEach((e=>{const n=(e[0].toLowerCase()+e.substring(1)).replace("ID","");this.observerLocator.getObserver(this,n)._context0||void 0===this.view[e]||(this.subscriptions.push(this.bindingEngine.expressionObserver(this.view,`${e}.value`).subscribe(((e,r)=>{e!==r&&(this[n]=e)}))),this.subscriptions.push(this.bindingEngine.propertyObserver(this,n).subscribe(((n,r)=>{n!==r&&(this.view[e].value=n)}))),void 0===this[n]&&void 0!==this.view[e].value&&(this[n]=this.view[e].value))}))}this.config.okButtonText&&(this.saveButtonConfig.text=this.config.okButtonText),this.config.cancelButtonText&&(this.cancelButtonConfig.text=this.config.cancelButtonText)}overrideAddressChanged(e){var n,r;this.saveButtonConfig.enabled=void 0===this.config.enabled?void 0===e||e:this.config.enabled,this.saveButtonConfig.text=null!==(n=this.config.okButtonText)&&void 0!==n?n:this.saveButtonConfig.text,this.cancelButtonConfig.text=null!==(r=this.config.cancelButtonText)&&void 0!==r?r:this.cancelButtonConfig.text,this.txtNameConfig.hidden=!this.saveButtonConfig.enabled}clearSubscriptions(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}ensureAddressLookupService(){void 0===this.addressLookupService&&(this.addressLookupService=new i.AddressLookupService(this.http))}ensureMapSetting(){return r.__awaiter(this,void 0,void 0,(function*(){if(this.mapSetting)return;this.mapSetting=yield this.addressLookupService.getAddressLookupSetting(),this.mapSetting||(this.mapSetting={providerName:"DEFAULT"});const e=new o.MapProviderPropertiesService(this.mapSetting);this.mapApi=yield e.initMapApi()}))}ensureMapProviderProperties(e){this.mapApi&&(this.isScriptLoaded?e():"DEFAULT"!==this.mapApi.properties.providerName?this.mapApi.properties.url&&(0,l.loadScript)(this.mapApi.properties.url,(()=>{this.isScriptLoaded=!0,e()})):e())}detached(){this.mapApi&&(this.mapApi.destroy(),this.mapApi=void 0),this.clearSubscriptions()}ok(){var e;const n=null===(e=this.mapApi)||void 0===e?void 0:e.getAddress();n&&(this.addressLine1=null==n?void 0:n.AddressLine1,this.addressLine2=null==n?void 0:n.AddressLine2,this.addressLine3=null==n?void 0:n.AddressLine3,this.city=null==n?void 0:n.City,this.country=null==n?void 0:n.Country,this.state=null==n?void 0:n.State,this.postalCode=null==n?void 0:n.PostalCode,this.latitude=null==n?void 0:n.Latitude,this.longitude=null==n?void 0:n.Longitude)}processAddressLookupClick(e){var n;return r.__awaiter(this,void 0,void 0,(function*(){if(this.ensureAddressLookupService(),yield this.ensureMapSetting(),this.mapSetting&&"DEFAULT"!==this.mapSetting.providerName&&"DEFAULT"!==(null===(n=this.mapApi)||void 0===n?void 0:n.properties.providerName))this.ensureMapProviderProperties(this.openMapDialog.bind(this));else{const e=Object.assign(Object.assign({},this.mapdialogConfig),{templateId:"addresslookup_mapdialog_notconf",context:this});this.dialogHelper.openDialog(e)}}))}openMapDialog(){const e=Object.assign(Object.assign({},this.mapdialogConfig),{templateId:"addresslookup_mapdialog",context:this}),n=this.dialogHelper.openDialog(e);n.then((()=>{this.tq.queueTask((()=>{this.mapApi&&this.mapApi.initializeMaps&&this.mapApi.initializeMaps(this.mapContainer,this.searchBox,this.mapApi.properties.countries).then((()=>{var e;const n={AddressLine1:this.addressLine1,AddressLine2:this.addressLine2,AddressLine3:this.addressLine3,Country:this.country,City:this.city,PostalCode:this.postalCode,Longitude:this.longitude,Latitude:this.latitude,State:this.state};null===(e=this.mapApi)||void 0===e||e.geocodeQuery(n)}))}))})),n.whenClosed((()=>{var e;null===(e=this.mapApi)||void 0===e||e.destroy()}))}};m.defaultConfig={hidden:!1},r.__decorate([d.bindable,r.__metadata("design:type",Object)],m.prototype,"config",void 0),r.__decorate([d.bindable,r.__metadata("design:type",String)],m.prototype,"addressLine1",void 0),r.__decorate([d.bindable,r.__metadata("design:type",String)],m.prototype,"addressLine2",void 0),r.__decorate([d.bindable,r.__metadata("design:type",String)],m.prototype,"addressLine3",void 0),r.__decorate([d.bindable,r.__metadata("design:type",String)],m.prototype,"city",void 0),r.__decorate([d.bindable,r.__metadata("design:type",Object)],m.prototype,"country",void 0),r.__decorate([d.bindable,r.__metadata("design:type",Object)],m.prototype,"state",void 0),r.__decorate([d.bindable,r.__metadata("design:type",String)],m.prototype,"postalCode",void 0),r.__decorate([d.bindable,r.__metadata("design:type",String)],m.prototype,"latitude",void 0),r.__decorate([d.bindable,r.__metadata("design:type",String)],m.prototype,"longitude",void 0),r.__decorate([d.bindable,r.__metadata("design:type",Boolean)],m.prototype,"overrideAddress",void 0),r.__decorate([d.bindable,r.__metadata("design:type",a.PXView)],m.prototype,"view",void 0),m=g=r.__decorate([(0,d.customElement)("qp-address-lookup"),d.autoinject,r.__metadata("design:paramtypes",[Element,d.BindingEngine,d.ObserverLocator,p.EventAggregator,b.DialogHelper,d.TaskQueue,u.HttpClient])],m),n.QpAddressLookupCustomElement=m}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/address-lookup/types.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0})}.apply(n,[r,n]),void 0===o||(e.exports=o)},"client-controls/controls/compound/grid/dialogs/columns-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-dialog"),r("aurelia-framework"),r("./controls/dialog/base-dialog/base-dialog.ts"),r("./services/messages.ts"),r("./controls/compound/grid/grid-helper.ts"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c,d){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnsDialog=void 0;let u=class ColumnsDialog extends a.BaseDialog{constructor(e){super(e),this.controller=e,this.msg=l.Messages,this.minHeight=300,this.maxHeight=500}activate(e){super.activate(e),this.config=e,this.columns=[...e.columns],this.columns.forEach((e=>e.tag={visible:e.visible,skipTab:e.skipTab})),this.cancelConfig={text:this.msg.Cancel},this.okConfig={text:this.msg.Confirm},this.resetConfig={text:this.msg.Reset,enabled:!!e.hasSavedLayout}}deactivate(e){e.wasCancelled||this.columns.forEach((e=>{e.visible=e.tag.visible,e.skipTab=e.tag.skipTab,delete e.tag}))}getColumnIndex(e){return this.config.columns.findIndex((n=>(0,d.compareStrings)((0,c.getColumnKey)(n),e,!0)))}getDragOverClass(e,n){if(null==this.dragInfo||null==n)return null;const r=this.getColumnIndex((0,c.getColumnKey)(e)),o=this.getColumnIndex((0,c.getColumnKey)(this.dragInfo.column));return r===n?"dragover "+(r>o?"after":"before"):void 0}visibleChangeAllowed(e){return(0,c.isColumnVisibleChangeAllowed)(e)}processInput(e){const n=this.config.columns.filter((n=>{const r=n.caption||n.field||n.key;return r&&r.toLowerCase().indexOf(e)>=0}));this.columns.splice(0,this.columns.length,...n)}processColClick(e,n){this.visibleChangeAllowed(n)&&(n.tag.visible=!n.tag.visible)}processSkipTabClick(e,n){n.tag.skipTab=!n.tag.skipTab,e.stopPropagation()}processSelectStart(e){e.preventDefault()}processDragStart(e,n){return this.dragInfo={column:n,targetIndex:void 0},!0}processDragOver(e,n){if(this.dragInfo&&this.dragInfo.column!==n){const r=e.target.getBoundingClientRect(),o=2,i=e.clientY<r.top+r.height/o;let a=this.getColumnIndex((0,c.getColumnKey)(n))+(i?0:1);const l=this.getColumnIndex((0,c.getColumnKey)(this.dragInfo.column));a>l&&a--,this.dragInfo.targetIndex=a===l?void 0:a}else this.dragInfo&&(this.dragInfo.targetIndex=void 0)}processDragLeave(e){this.dragInfo&&!this.elemColsList.contains(e.relatedTarget)&&(this.dragInfo.targetIndex=void 0)}processDrop(e,n){if(this.dragInfo){const e=this.dragInfo.targetIndex,n=this.getColumnIndex((0,c.getColumnKey)(this.dragInfo.column)),r=this.config.columns;void 0!==e&&(r.splice(e,0,r.splice(n,1)[0]),this.columns=[...r]),this.dragInfo=void 0}}};r.__decorate([i.bindable,r.__metadata("design:type",String)],u.prototype,"search",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],u.prototype,"dragInfo",void 0),u=r.__decorate([i.autoinject,r.__metadata("design:paramtypes",[o.DialogController])],u),n.ColumnsDialog=u}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/dialogs/columns-list-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("aurelia-dialog"),r("./controls/dialog/base-dialog/base-dialog.ts"),r("./services/messages.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColumnsListDialog=void 0;let c=class ColumnsListDialog extends a.BaseDialog{constructor(e){super(e),this.controller=e,this.msg=l.Messages,this.minHeight=250,this.maxHeight=500}activate(e){super.activate(e),this.config=e,this.columns=this.sortColumns([...e.columns].filter((e=>e.allowFilter)))}processFilter(e){const n=this.config.columns.filter((n=>{const r=n.caption||n.field||n.key;return n.allowFilter&&r&&r.toLowerCase().indexOf(e)>=0}));this.columns.splice(0,this.columns.length,...this.sortColumns(n))}processColClick(e,n){this.controller.ok(n)}processSelectStart(e){e.preventDefault()}sortColumns(e){return e.filter((e=>!1!==e.visible)).sort(((e,n)=>(e.caption||e.field||e.key||"").localeCompare(n.caption||n.field||n.key||"")))}};r.__decorate([o.bindable,r.__metadata("design:type",String)],c.prototype,"search",void 0),c=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[i.DialogController])],c),n.ColumnsListDialog=c}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/dialogs/filter-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/dialog/base-dialog/base-dialog.ts"),r("aurelia-dialog"),r("./controls/compound/grid/grid-helper.ts"),r("./services/messages.ts"),r("./descriptors/index.ts"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";var p;Object.defineProperty(n,"__esModule",{value:!0}),n.FilterDialogResult=n.FilterDialog=void 0;let b=p=class FilterDialog extends i.BaseDialog{constructor(e,n){super(e),this.controller=e,this.tq=n,this.items=[],this.msg=c.Messages,this.dateCustomItems=["@Today","@WeekStart","@WeekEnd","@MonthStart","@MonthEnd","@QuarterStart","@QuarterEnd","@PeriodStart","@PeriodEnd","@YearStart","@YearEnd"],this.maxHeight=530,e.settings.keyboard=["Enter","Escape"]}activate(e){var n;if(this.config=e,this.col=e.column,this.col||(this.col={field:(null===(n=e.filter)||void 0===n?void 0:n.field)||"",dataType:d.NetType.String}),this.filter=e.filter?Object.assign({},e.filter):new d.GridFilterRow,this.filter.field=this.col.field,this.isDateTime){if(this.filter.value){const e=new Date(this.filter.value);isNaN(e.getTime())||(this.filter.value=e)}if(this.filter.value2){const e=new Date(this.filter.value2);isNaN(e.getTime())||(this.filter.value2=e)}}null==e.showSortItems&&(e.showSortItems=!0),this.okConfig={text:c.Messages.Apply},this.cancelConfig={text:c.Messages.Cancel};const r=this.col.maxLength&&!this.col.format?this.col.maxLength:void 0;if(this.txtConfig={id:`${this.config.id}_txt`,class:"editor auto-size",maxLength:r,inputMask:this.col.format},this.numConfig1={id:`${this.config.id}_num1`,class:"editor auto-size",valueType:this.col.dataType,decimals:this.col.decimals,textAlign:3,allowNull:!0},this.numConfig2=Object.assign(Object.assign({},this.numConfig1),{id:`${this.config.id}_num2`}),this.allowCustomItems=!this.col.timeMode,this.dateConfig1={id:`${this.config.id}_date1`,class:"dropDown auto-size",editMask:this.col.dateMask,displayMask:this.col.dateMask,allowCustomItems:this.allowCustomItems,customItems:this.allowCustomItems?this.dateCustomItems:void 0,timeMode:this.col.timeMode},this.dateConfig2=Object.assign(Object.assign({},this.dateConfig1),{id:`${this.config.id}_date2`}),this.selectorConfig={id:`${this.config.id}_sel`,class:"editor auto-size"},this.isSelector&&(this.selectorValue={id:this.filter.value},this.selectorState=d.PXFieldState.create(),Object.assign(this.selectorState,this.col.state),this.selectorState.enabled=!0,this.selectorState.readOnly=!1),!this.filter.condition){const e=this.col.dataType;e===d.NetType.DateTime||(0,u.isNumeric)(e)?this.filter.condition="BETWEEN":e===d.NetType.String?this.filter.condition="LIKE":this.filter.condition="EQ"}if(this.hasValueItems){let e=null;this.col.valueItems.emptyPossible&&"ISNULL"===this.filter.condition?(this.filter.value=l.filterNullValue,this.filter.condition="IN",e=[l.filterNullValue]):this.filter.value&&(e=this.filter.value.split(","));for(const n of this.col.valueItems.items){const r=!e||e.indexOf(n.value)>=0;this.items.push({value:n.value,text:n.text,selected:r})}if(this.col.valueItems.emptyPossible){const n=!e||e.indexOf(l.filterNullValue)>=0;this.items.push({value:l.filterNullValue,text:this.msg.GridIsEmpty,selected:n})}this.calcSelectionState()}}deactivate(e){e.wasCancelled||void 0!==e.output||(e.output=this.getDialogResult(this.getFilter()))}calcSelectionState(){this.hasValueItems&&(this.items.every((e=>!e.selected))?this.selectionState=0:this.selectionState=this.items.some((e=>!e.selected))?-1:1)}getDialogResult(e,n,r){return new FilterDialogResult(e,n,r)}attached(){super.attached(),this.elemEditorsCont&&this.tq.queueTask((()=>{const e=this.elemEditorsCont.querySelector("input");e&&e.focus()}))}getFilter(){var e;let n=this.filter;if(this.hasValueItems){const e=this.items.filter((e=>e.selected)).map((e=>e.value));e.length>0&&e.length<this.items.length?(this.filter.condition="IN",this.filter.value=e.join(",")):n=void 0}else{const r=this.filter;this.isSelector&&(r.value=null===(e=this.selectorValue)||void 0===e?void 0:e.id),r.value instanceof Date&&(r.value=(0,u.getInvariantText)(r.value)),r.value2 instanceof Date&&(r.value2=(0,u.getInvariantText)(r.value2)),(null==r.condition||p.valueFilters.indexOf(r.condition)>=0&&null==r.value||"BETWEEN"===r.condition&&(null==r.value||null==r.value2))&&(n=void 0)}return n&&(n.text=(0,l.getFilterRowDisplayText)(n,this.col)),n}get conditions(){let e=p.stringFilters;const n=this.col.dataType;n===d.NetType.Boolean?e=p.boolFilters:n===d.NetType.DateTime?e=p.dateFilters:(0,u.isNumeric)(n)&&(e=p.numberFilters),this.col.allowNull||n===d.NetType.String||(e=e.filter((e=>p.nullFilters.indexOf(e)<0)));const r=new Array;for(const n of e){const e=l.FilterConditions[n];r.push({value:n,text:null!=e?e:n})}return r}get hasValueItems(){return null!=this.col.valueItems}get isDateTime(){return this.col.dataType===d.NetType.DateTime}get isNumeric(){return(0,u.isNumeric)(this.col.dataType)&&!this.col.textField&&this.col.displayMode===d.GridColumnDisplayMode.Value}get isSelector(){return!!this.col.viewName&&this.isString}get isBoolean(){return this.col.dataType===d.NetType.Boolean}get isString(){return this.col.dataType===d.NetType.String||!!this.col.textField||this.col.displayMode!==d.GridColumnDisplayMode.Value}get isBetween(){return"BETWEEN"===this.filter.condition}get selectionIcon(){switch(this.selectionState){case 0:return"check_box_outline_blank";case 1:return"check_box_filled"}return"minus_square_filled"}get hasFilter(){const e=this.config.filter;return null!=e&&!(null==e.condition||"EQ"===e.condition&&null==e.value)}preventSelection(e){e.preventDefault()}preventFocus(e){e.preventDefault()}processConditionClick(e,n){p.boolFilters.indexOf(n)>=0?(this.filter.value=n===this.filter.value?void 0:n,this.filter.condition=null!=this.filter.value?"EQ":void 0):this.filter.condition=n}processItemClick(e,n){n.selected=!n.selected,this.calcSelectionState()}processSortClick(e,n){let r=n;this.col.sortDirection===n&&(r=d.SortDirection.None),this.controller.ok(this.getDialogResult(void 0,r))}processSelectClick(){const e=1!==this.selectionState;this.items.forEach((n=>n.selected=e)),this.calcSelectionState()}processClearClick(e){this.hasFilter&&this.controller.ok(this.getDialogResult(void 0))}processRemoveClick(e){this.controller.ok(this.getDialogResult(void 0,void 0,!0))}};b.boolFilters=["True","False"],b.stringFilters=["EQ","NE","ISNULL","ISNOTNULL","LIKE","RLIKE","LLIKE","NOTLIKE"],b.numberFilters=["EQ","NE","GT","GE","LT","LE","BETWEEN","ISNULL","ISNOTNULL"],b.dateFilters=["EQ","NE","GT","GE","LT","LE","BETWEEN","ISNULL","ISNOTNULL","TODAY","OVERDUE","TODAY_OVERDUE","TOMMOROW","THIS_WEEK","NEXT_WEEK","THIS_MONTH","NEXT_MONTH"],b.valueFilters=["EQ","NE","GT","GE","LT","LE","BETWEEN","LIKE","RLIKE"],b.nullFilters=["ISNULL","ISNOTNULL"],r.__decorate([o.bindable,r.__metadata("design:type",Array)],b.prototype,"items",void 0),r.__decorate([(0,o.computedFrom)("config.column.dataType"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"conditions",null),r.__decorate([(0,o.computedFrom)("config.column.valueItems"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"hasValueItems",null),r.__decorate([(0,o.computedFrom)("config.column.dataType"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"isDateTime",null),r.__decorate([(0,o.computedFrom)("config.column.dataType"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"isNumeric",null),r.__decorate([(0,o.computedFrom)("config.column.viewName","config.column.dataType"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"isSelector",null),r.__decorate([(0,o.computedFrom)("config.column.dataType"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"isBoolean",null),r.__decorate([(0,o.computedFrom)("config.column.dataType"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"isString",null),r.__decorate([(0,o.computedFrom)("filter.condition"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"isBetween",null),r.__decorate([(0,o.computedFrom)("selectionState"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"selectionIcon",null),r.__decorate([(0,o.computedFrom)("config.filter","config.filter.condition"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"hasFilter",null),b=p=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[a.DialogController,o.TaskQueue])],b),n.FilterDialog=b;class FilterDialogResult{constructor(e,n,r){this.filter=e,this.sort=n,this.removeFilter=r}}n.FilterDialogResult=FilterDialogResult}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/dialogs/filter-editor-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/messages.ts"),r("./controls/dialog/base-dialog/dialog-helper.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpFilterEditorDialog=void 0;let l=class QpFilterEditorDialog{constructor(e,n){this.element=e,this.dialogHelper=n,this.msg=i.Messages}open(e){this.config=e,this.setControlsState();const n=this.dialogHelper.openDialog({templateId:this.config.id,context:this,hideMaximizer:!0},{},(e=>{this.currentDialog=e.controller}));return n.then((()=>{})),n}setControlsState(){var e;this.filterRows=null===(e=this.config.filterRows)||void 0===e?void 0:e.map((e=>Object.assign({},e))),this.cancelConfig={id:`${this.config.id}_cancelBtn`,text:i.Messages.Cancel},this.okConfig={id:`${this.config.id}_okBtn`,text:i.Messages.Apply}}};l=r.__decorate([(0,o.customElement)("qp-filter-editor-dialog"),o.autoinject,r.__metadata("design:paramtypes",[Element,a.DialogHelper])],l),n.QpFilterEditorDialog=l}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/dialogs/filter-setup-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/messages.ts"),r("./descriptors/index.ts"),r("./controls/dialog/base-dialog/dialog-helper.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpFilterSetupDialog=void 0;let c=class QpFilterSetupDialog{constructor(e,n){this.element=e,this.dialogHelper=n,this.msg=i.Messages}open(e){this.config=e,this.setControlsState();const n=this.dialogHelper.openDialog({templateId:this.config.id,context:this,hideMaximizer:!0},{},(e=>{this.currentDialog=e.controller}));return n.then((()=>{const e=this.elemContent.querySelector("input");e&&e.focus()})),n}setControlsState(){this.filter=this.config.filter?Object.assign({},this.config.filter):new a.GridFilter,this.config.isSharedEditable||(this.filter.isShared=!1),this.config.saveAs&&(this.filter.filterName="",this.filter.isDefault=this.filter.isShared=!1);const e=this.config.id;this.cancelConfig={id:`${e}_cancelBtn`,text:i.Messages.Cancel},this.okConfig={id:`${e}_okBtn`,text:this.config.saveAs?i.Messages.Save:i.Messages.Apply},this.txtNameConfig={id:`${e}_edFilterName`,class:"auto-size"},this.chkSharedConfig={id:`${e}_chkShared`,label:i.Messages.Shared},this.chkDefaultConfig={id:`${e}_chkDefault`,label:i.Messages.Default},this.okConfig.enabled=!!this.filter.filterName,this.chkSharedConfig.enabled=!!this.config.isSharedEditable}processNameInput(e){const n=e.target;this.okConfig.enabled=!!n.value}};c=r.__decorate([(0,o.customElement)("qp-filter-setup-dialog"),o.autoinject,r.__metadata("design:paramtypes",[Element,l.DialogHelper])],c),n.QpFilterSetupDialog=c}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/dialogs/filters-list-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-dialog"),r("aurelia-framework"),r("./controls/dialog/base-dialog/base-dialog.ts"),r("./services/messages.ts"),r("./utils/index.ts"),r("controls/compound/grid/qp-filter-bar")],i=function(e,n,r,o,i,a,l,c,d){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FiltersListDialog=void 0;let u=class FiltersListDialog extends a.BaseDialog{constructor(e){super(e),this.controller=e,this.msg=l.Messages,this.minHeight=300,this.maxHeight=500}activate(e){this.config=e,this.filters=[...e.filters],this.sortFilters()}sortFilters(){var e;null===(e=this.filters)||void 0===e||e.sort(((e,n)=>{var r,o;if(this.isClientFilter(n.filterID)||n.isFavorite&&!e.isFavorite)return 1;if(this.isClientFilter(e.filterID)||e.isFavorite&&!n.isFavorite)return-1;const i=null!==(r=e.filterName)&&void 0!==r?r:e.filterID,a=null!==(o=n.filterName)&&void 0!==o?o:n.filterID;return i===a?0:i<a?-1:1}))}getFilterIndex(e){return this.config.filters.findIndex((n=>(0,c.compareStrings)(n.filterID,e,!0)))}isClientFilter(e){return!e||e<=d.QpFilterBarCustomElement.minFilterID}getDragOverClass(e,n){if(null==this.dragInfo||null==n)return null;const r=this.getFilterIndex(e.filterID),o=this.getFilterIndex(this.dragInfo.filter.filterID);return r===n?"dragover "+(r>o?"after":"before"):void 0}attached(){if(super.attached(),this.elemFilterBox){const e=this.elemFilterBox.querySelector("input");e&&e.focus()}}processInput(e){e&&(e=e.toLowerCase());const n=this.config.filters.filter((n=>{const r=n.filterName||n.filterID;return r&&r.toLowerCase().indexOf(e)>=0}));this.filters.splice(0,this.filters.length,...n)}processFilterClick(e,n){this.controller.ok(n.filterID)}processFavoriteClick(e,n){var r,o;n.isFavorite=!n.isFavorite,null===(o=(r=this.config).onFavoriteChanged)||void 0===o||o.call(r,{filterID:n.filterID,isFavorite:n.isFavorite}),this.sortFilters(),e.stopPropagation()}processSelectStart(e){e.preventDefault()}processDragStart(e,n){return this.dragInfo={filter:n,targetIndex:void 0},!0}processDragOver(e,n){if(this.dragInfo&&this.dragInfo.filter!==n){const r=e.target.getBoundingClientRect(),o=2,i=e.clientY<r.top+r.height/o;let a=this.getFilterIndex(n.filterID)+(i?0:1);const l=this.getFilterIndex(this.dragInfo.filter.filterID);a>l&&a--,this.dragInfo.targetIndex=a===l||0===a?void 0:a}else this.dragInfo&&(this.dragInfo.targetIndex=void 0);e.dataTransfer&&(e.dataTransfer.dropEffect="move")}processDragLeave(e){this.dragInfo&&!this.elemFiltersList.contains(e.relatedTarget)&&(this.dragInfo.targetIndex=void 0)}processDrop(e,n){if(this.dragInfo){const e=this.dragInfo.targetIndex,n=this.getFilterIndex(this.dragInfo.filter.filterID),r=this.config.filters;void 0!==e&&(r.splice(e,0,r.splice(n,1)[0]),this.filters=[...r],this.config.onFiltersOrderChanged&&this.config.onFiltersOrderChanged()),this.dragInfo=void 0}}};r.__decorate([i.bindable,r.__metadata("design:type",String)],u.prototype,"search",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],u.prototype,"dragInfo",void 0),u=r.__decorate([i.autoinject,r.__metadata("design:paramtypes",[o.DialogController])],u),n.FiltersListDialog=u}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/dialogs/import-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("aurelia-event-aggregator"),r("./services/messages.ts"),r("./controls/dialog/base-dialog/dialog-helper.ts"),r("./services/screen-service.ts"),r("./descriptors/types.ts"),r("./descriptors/index.ts"),r("./services/index.ts"),r("controls/compound/grid/qp-grid")],i=function(e,n,r,o,i,a,l,c,d,u,p,b){"use strict";var g;Object.defineProperty(n,"__esModule",{value:!0}),n.ImportRecordsDialog=void 0;let m=class ImportMessages{};m.MapPropertiesToColumns="Map properties to columns.",m=r.__decorate([p.localizable],m);let f=g=class ImportRecordsDialog{constructor(e,n,r,o){this.element=e,this.screenService=n,this.eventAggregator=r,this.tq=o,this.wizardConfig={disableNext:!0,buttons:{done:a.Messages.Finish}},this.UPLOAD_TAB="uploadTab",this.SETTINGS_TAB="settingsTab",this.COLUMNS_TAB="columnsTab",this.subscriptions=[],this.skipCallback=!1,this.attachedViews=[],this.fileUploaded="",this.canDeactivateDialog=!1,this.Messages=a.Messages,this.ImportMessages=m,this.activeTabId=this.UPLOAD_TAB}static Execute(e,n){return r.__awaiter(this,void 0,void 0,(function*(){const r=e.get(l.DialogHelper);if(!r)return!1;const o={id:"import-dialog",templateViewModel:g,context:n,cssClass:"import-dialog col-sm-10 col-md-6 col-lg-4",height:"60vh"},i=yield r.openDialog(o,{lock:!0,keyboard:!0});if(i.wasCancelled)return!1;return!(yield i.closeResult).wasCancelled}))}activate(e){this.config=e,this.screenModel=this.screenService.model,this.subscriptions.push(this.screenService.registerDataComponent("ImportDataHandler",{setComponentData:e=>{if(e&&"object"==typeof e&&this.currentIsRecordCollection){const n=e;n.dynamicGridResult&&(this.currentViewGridResult=n.dynamicGridResult)}},getQueryParams:e=>({dataMemberView:this.config.viewName,dynamicView:this.currentDynamicView,isRecordsCollection:this.currentIsRecordCollection,resultType:"ImportDataHandler"})})),this.subscriptions.push(this.screenModel.screenEventManager.subscribe("OpenPopup",(e=>r.__awaiter(this,void 0,void 0,(function*(){if(e.commandName===this.importAttribute.importWizardAction){if(e.stop(),this.skipCallback)return void(this.skipCallback=!1);this.activeTabId===this.UPLOAD_TAB?(this.settingsView=e.name,yield this.attachView(e.name,(0,u.createSingle)(createClass(u.PXView,e.name)),!1,this.SETTINGS_TAB)):this.activeTabId===this.SETTINGS_TAB&&(this.columnsView=e.name,yield this.attachView(e.name,(0,u.createCollection)(createClass(u.PXView,e.name)),!0,this.COLUMNS_TAB))}}))))),this.subscriptions.push(this.eventAggregator.subscribe(d.ApiCientEvents.ErrorRaisedEvent,(e=>r.__awaiter(this,void 0,void 0,(function*(){e.isProcessed||(e.isProcessed=!0,e.data&&e.data.title&&(this.errorMessage=e.data.title,this.activeTabId=this.UPLOAD_TAB,yield this.detachViews(!0)))})))))}detachViews(e){return r.__awaiter(this,void 0,void 0,(function*(){const n=[...this.attachedViews].reverse();for(const r of n)yield this.detachView(r,e)}))}cancelView(e){return r.__awaiter(this,void 0,void 0,(function*(){this.skipCallback=!0;let n=!1;try{n=!!(yield this.screenService.executeCommand(this.importAttribute.importWizardAction,new d.ScreenUpdateParams({dialogCallback:{viewName:e,dialogResult:0}},this.element))).succeeded}finally{n||(this.skipCallback=!1)}}))}detachView(e,n){return r.__awaiter(this,void 0,void 0,(function*(){const r=this.attachedViews.indexOf(e);-1!==r&&(this.attachedViews.splice(r,1),this.screenService.cancelViewFieldChanges(e),delete this.screenModel[e],n&&(yield this.cancelView(e)))}))}detached(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.detachViews(!1),this.subscriptions.forEach((e=>e.dispose()))}))}processImport(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.screenService.executeCommand(this.importAttribute.importWizardAction,new d.ScreenUpdateParams({commitChanges:!0,blockPage:!0,dialogCallback:{viewName:this.columnsView,dialogResult:1}},this.element)),yield this.detachViews(!1),this.canDeactivateDialog=!0,this.element.dispatchEvent(new CustomEvent("savedialog",{bubbles:!0}))}))}cancelImport(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.detachViews(!0),this.canDeactivateDialog=!0,this.element.dispatchEvent(new CustomEvent("closedialog",{bubbles:!0}))}))}canDeactivate(e){if(this.canDeactivateDialog)return!0;if(e.wasCancelled){if(0===this.attachedViews.length)return!0;this.cancelImport()}else this.processImport();return!1}attachView(e,n,o,i){return r.__awaiter(this,void 0,void 0,(function*(){this.screenModel[e]=n,-1===this.attachedViews.indexOf(e)&&this.attachedViews.push(e),this.currentDynamicView=e,this.currentIsRecordCollection=o,yield this.screenService.update(void 0,new d.ScreenUpdateParams(void 0,this.element)),this.activeTabId=i}))}configChanged(){var e;this.importAttribute=new PXImportAttribute(this.config.viewName),this.config.fileTypes=null!==(e=this.config.fileTypes)&&void 0!==e?e:["csv","xlsx"],this.uploaderConfig={accept:this.config.fileTypes.map((e=>`.${e}`)).join(","),id:`${this.config.id}_uploader`,action:this.importAttribute.uploadFileAction,view:this.importAttribute.contentBagView,graph:this.config.graphType,singleMode:!0},this.uploaderFiles=this.config.fileTypes.map((e=>`*.${e}`)).join(", ")}afterUploaded(e){return r.__awaiter(this,void 0,void 0,(function*(){this.errorMessage="",this.fileUploaded=e.detail.fileNames.length>0?e.detail.fileNames[0]:"",this.uploaderConfig.disabled=!0,yield this.detachViews(!0),yield this.screenService.executeCommand(this.importAttribute.importWizardAction,new d.ScreenUpdateParams({commitChanges:!0,blockPage:!0},this.element))}))}clearUploaded(){this.errorMessage="",this.fileUploaded="",this.uploaderConfig.disabled=!1,this.wizardConfig.disableNext=!0}currentTabGridChanged(e){if(!this.currentTabGrid)return;const n=this.currentTabGrid.onDataReady;this.currentTabGrid.onDataReady=e=>{this.tq.queueTask((()=>{var r,o;this.currentTabGrid.focusFastFilter(),this.currentTabGrid.onDataReady=n,null===(o=(r=this.currentTabGrid).onDataReady)||void 0===o||o.call(r,e)}))}}activeTabIdChanged(){return r.__awaiter(this,void 0,void 0,(function*(){this.activeTabId===this.UPLOAD_TAB?this.wizardConfig.disableNext=""===this.fileUploaded:this.activeTabId===this.SETTINGS_TAB?(this.wizardConfig.disableNext=!1,this.settingsTemplate=`<qp-fieldset view.bind="${this.settingsView}" id="${this.settingsView.replace("$","_")}_id"></qp-fieldset>`):this.activeTabId===this.COLUMNS_TAB&&(this.wizardConfig.disableNext=!1,this.columnsTemplate=`<qp-grid\n\t\t\t\tid="grid_${this.columnsView.replace("$","_")}"\n\t\t\t\tview.bind="${this.columnsView}"\n\t\t\t\tview-model.ref="currentTabGrid"\n\t\t\t\tconfig.bind="{\n\t\t\t\t\tautoAdjustColumns: true,\n\t\t\t\t\tallowDelete: false,\n\t\t\t\t\tallowInsert: false,\n\t\t\t\t\tpagerMode: 0,\n\t\t\t\t}"></qp-grid>`,yield Promise.resolve().then((()=>{if(this.currentViewGridResult){const e=this.screenService.getDataComponent(this.currentDynamicView);e&&e.setComponentData(this.currentViewGridResult)}})))}))}nextTab(e){return r.__awaiter(this,void 0,void 0,(function*(){this.activeTabId===this.UPLOAD_TAB?e.detail.cancel=""===this.fileUploaded:this.activeTabId===this.SETTINGS_TAB&&(e.detail.cancel=!0,yield this.screenService.executeCommand(this.importAttribute.importWizardAction,new d.ScreenUpdateParams({commitChanges:!0,blockPage:!0,dialogCallback:{viewName:this.settingsView,dialogResult:1,validateInput:!0}},this.element)))}))}prevTab(e){return r.__awaiter(this,void 0,void 0,(function*(){this.activeTabId===this.COLUMNS_TAB?(yield this.detachView(this.columnsView,!0),yield this.cancelView(this.settingsView)):this.activeTabId===this.SETTINGS_TAB&&(yield this.cancelView(this.settingsView))}))}};r.__decorate([o.observable,r.__metadata("design:type",Object)],f.prototype,"config",void 0),r.__decorate([o.observable,r.__metadata("design:type",b.QpGridCustomElement)],f.prototype,"currentTabGrid",void 0),r.__decorate([o.observable,r.__metadata("design:type",String)],f.prototype,"activeTabId",void 0),f=g=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[Element,c.ScreenService,i.EventAggregator,o.TaskQueue])],f),n.ImportRecordsDialog=f;class PXImportAttribute{constructor(e){this.viewName=e,this.uploadFileAction=`${e}$UploadFileAction`,this.contentBagView=`${e}$ImportContentBag`,this.columnsView=`${e}$ImportColumns`,this.importWizardAction=`${e}$ImportWizardAction`,this.importAction=`${e}$ImportAction`}}function createClass(e,n){const r=new Proxy(e,{get:(e,r)=>"name"===r?n:e[r],construct(e,n){const o=new e(...n);return o.constructor=r,o}});return r}}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/elements/qp-filter-box":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/messages.ts"),r("./utils/index.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpFilterBoxCustomElement=void 0;let l=class QpFilterBoxCustomElement{constructor(e){this.busyCounter=e,this.highlightText=!0,this.Msg=i.Messages,this.isBusy=!1}applyFastFilter(e){return r.__awaiter(this,void 0,void 0,(function*(){try{this.highlightText&&(this.hasText=!!e),this.onFilter&&(yield this.onFilter({filter:e}))}finally{this.isBusy&&this.busyCounter.decrement(),this.isBusy=!1}}))}filterChanged(e){this.hasText=!!e}processFocus(){this.editMode=!0}processBlur(){this.editMode=!1}processKeyDown(e){return this.isBusy||(this.isBusy=!0,this.busyCounter.increment()),!this.onKeyDown||this.onKeyDown({ev:e})}};r.__decorate([o.bindable,r.__metadata("design:type",Function)],l.prototype,"onFilter",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],l.prototype,"onKeyDown",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],l.prototype,"id",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],l.prototype,"filter",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],l.prototype,"highlightText",void 0),l=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[a.BusyCounter])],l),n.QpFilterBoxCustomElement=l}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/elements/qp-filter-button":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-dialog"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("aurelia-framework"),r("./descriptors/index.ts"),r("controls/compound/grid/dialogs/filter-dialog")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpFilterButtonCustomElement=void 0;let d=class QpFilterButtonCustomElement{constructor(e,n,r){this.element=e,this.dialogService=n,this.container=r,this.showExpanded=!1}get hasFilter(){const e=this.config.filter;return null!=e&&!(null==e.condition||"EQ"===e.condition&&null==e.value)}get isComparisonOperator(){const e=this.config.filter;return null!=e&&null!=e.value&&("EQ"===e.condition||"NE"===e.condition||"LT"===e.condition||"GT"===e.condition||"LE"===e.condition||"GE"===e.condition)}configChanged(e){e.column||(e.column={field:e.filter.field,dataType:l.NetType.String})}processMouseEnter(e){const n=e.offsetX<=this.elemText.clientWidth+this.elemText.offsetLeft;this.elemText.scrollWidth>this.elemText.clientWidth&&n&&(this.showExpanded=!0)}processMouseLeave(e){this.showExpanded=!1}processClick(e){if(0!==e.button)return;let n=e.target;n.tagName.length<10&&(n=n.parentElement);const r={attachTo:n,id:`${this.config.id}_fd`,column:this.config.column,filter:this.config.filter,showSortItems:this.config.showSortItems,showRemoveItem:this.config.showRemoveItem};this.dialogService.open({viewModel:c.FilterDialog,model:r,lock:!1,childContainer:this.container.createChild()}).whenClosed((n=>{if(!n.wasCancelled){const r=n.output;null!=r.sort?this.onSort&&this.onSort({col:this.config.column,sort:r.sort}):null!=r.removeFilter?this.processRemoveClick(e):this.onFilter&&this.onFilter({col:this.config.column,filter:r.filter})}}))}processRemoveClick(e){this.onFilterRemove&&this.onFilterRemove({col:this.config.column}),e.stopPropagation()}};r.__decorate([a.bindable,r.__metadata("design:type",Object)],d.prototype,"config",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],d.prototype,"onSort",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],d.prototype,"onFilter",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],d.prototype,"onFilterRemove",void 0),r.__decorate([(0,a.computedFrom)("config.filter","config.filter.condition","config.filter.value"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],d.prototype,"hasFilter",null),r.__decorate([(0,a.computedFrom)("config.filter","config.filter.condition","config.filter.value"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],d.prototype,"isComparisonOperator",null),d=r.__decorate([a.autoinject,r.__metadata("design:paramtypes",[Element,o.DialogService,i.Container])],d),n.QpFilterButtonCustomElement=d}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/elements/qp-filter-combo":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-dialog"),r("aurelia-framework"),r("./utils/index.ts"),r("controls/compound/grid/dialogs/filters-list-dialog"),r("controls/compound/grid/qp-filter-bar")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpFilterComboCustomElement=void 0;let d=class QpFilterComboCustomElement{constructor(e,n){this.element=e,this.dialogService=n}filterIdChanged(){this.setActiveFilter()}filtersChanged(){this.setActiveFilter()}setActiveFilter(){var e;this.activeFilter=null===(e=this.filters)||void 0===e?void 0:e.find((e=>(0,a.compareStrings)(e.filterID,this.filterId,!0)))}isClientFilter(e){return!e||e<=c.QpFilterBarCustomElement.minFilterID}processClick(e){if(0!==e.button)return;const n={attachTo:this.element,id:`${this.id}_fld`,filterId:this.filterId,filters:this.filters,onFavoriteChanged:this.onFavoriteChanged,onFiltersOrderChanged:this.onFiltersOrderChanged};this.dialogService.open({viewModel:l.FiltersListDialog,model:n,lock:!1}).whenClosed((e=>{if(!e.wasCancelled){const n=e.output;n&&(this.filterId=n)}}))}};r.__decorate([i.bindable,r.__metadata("design:type",String)],d.prototype,"id",void 0),r.__decorate([(0,i.bindable)({defaultBindingMode:i.bindingMode.twoWay}),r.__metadata("design:type",String)],d.prototype,"filterId",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Array)],d.prototype,"filters",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Function)],d.prototype,"onFiltersOrderChanged",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Function)],d.prototype,"onFavoriteChanged",void 0),d=r.__decorate([i.autoinject,r.__metadata("design:paramtypes",[Element,o.DialogService])],d),n.QpFilterComboCustomElement=d}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/elements/qp-filter-node":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-dialog"),r("aurelia-framework"),r("controls/compound/grid/dialogs/columns-list-dialog"),r("./controls/compound/grid/grid-helper.ts"),r("controls/compound/grid/qp-filter-editor"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c,d){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpFilterNodeCustomElement=void 0;let u=class QpFilterNodeCustomElement{constructor(e){this.dialogService=e}getColumn(e){return this.columns.find((n=>(0,d.compareStrings)(n.field,e,!0)))}isFilterNode(e){return e instanceof c.FilterNode}processHierarchyChanged(){this.onHierarchyChanged&&this.onHierarchyChanged()}processConditionDelete(e){this.onFilterRowDelete&&this.onFilterRowDelete({filter:e})}processNodeDelete(e){this.onFilterNodeDelete&&this.onFilterNodeDelete({node:e})}processFilterRowInsert(e,n,r){this.onFilterRowInsert&&this.onFilterRowInsert({filter:e,col:n,closeBrackets:r})}processNodeMouseMove(e,n){this.onNodeMouseMove&&this.onNodeMouseMove({elem:e,mouseLeave:n})}processMouseEnter(e,n){this.processNodeMouseMove(e.target,!1)}processMouseLeave(e,n){this.processNodeMouseMove(e.target,!0)}processConditionClick(e){e.orOperator=!e.orOperator}processConditionNodeClick(e){e.orOperator=!e.orOperator,e.getLastCondition().orOperator=e.orOperator}addBrackets(e){if(this.node.items.length<3)return;const n=this.node.items.indexOf(e);if(n>=0&&n<this.node.items.length-1){const r=this.isFilterNode(e)?e.getFirstCondition():e,o=this.node.items[n+1],i=this.isFilterNode(o)?o.getLastCondition():o;r.openBrackets=r.openBrackets?++r.openBrackets:1,i.closeBrackets=i.closeBrackets?++i.closeBrackets:1,this.processHierarchyChanged()}}processBracketsClick(e){this.addBrackets(e)}processBracketsNodeClick(e){this.addBrackets(e)}processDeleteBracketsClick(e){let n=e.getFirstCondition();n&&n.openBrackets&&n.openBrackets>0&&(n.openBrackets-=1),n=e.getLastCondition(),n&&n.closeBrackets&&n.closeBrackets>0&&(n.closeBrackets-=1),this.processHierarchyChanged()}processFilterRowApplied(e,n,r){(0,l.copyFilterRow)(r,n)}processFilterRowDeleted(e,n){this.node.items.splice(this.node.items.indexOf(n),1),this.processConditionDelete(n)}processDeleteNodeClick(e){this.processNodeDelete(e)}showInsertDialog(e,n,r){var o;let i=e.target;"DIV"!==i.tagName&&(i=i.parentElement);const l=(null===(o=i.parentElement)||void 0===o?void 0:o.classList.contains("right-actions"))?i.parentElement:i;l.setAttribute("force-visible","");const c={attachTo:i,columns:this.columns,id:this.id};this.dialogService.open({viewModel:a.ColumnsListDialog,model:c,lock:!1}).whenClosed((e=>{!e.wasCancelled&&e.output&&this.processFilterRowInsert(n,e.output,r),l.removeAttribute("force-visible")}))}processNewItemClick(e,n){this.showInsertDialog(e,n,n.closeBrackets)}processNewItemNodeClick(e,n){const r=n.getLastCondition();let o=0,i=n.parent;for(;i&&i.parent&&i.getLastCondition()===r;)o++,i=i.parent;this.showInsertDialog(e,r,o)}};r.__decorate([i.bindable,r.__metadata("design:type",String)],u.prototype,"id",void 0),r.__decorate([i.bindable,r.__metadata("design:type",c.FilterNode)],u.prototype,"node",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Array)],u.prototype,"columns",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Function)],u.prototype,"onHierarchyChanged",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Function)],u.prototype,"onFilterRowDelete",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Function)],u.prototype,"onFilterNodeDelete",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Function)],u.prototype,"onFilterRowInsert",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Function)],u.prototype,"onNodeMouseMove",void 0),u=r.__decorate([i.autoinject,r.__metadata("design:paramtypes",[o.DialogService])],u),n.QpFilterNodeCustomElement=u}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/elements/qp-numeric-pager":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/messages.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpNumericPagerCustomElement=void 0;let a=class QpNumericPagerCustomElement{constructor(){this.Msg=i.Messages,this.numConfig={minValue:1}}pageIndexChanged(e){this.value=e+1}pagesCountChanged(e){this.numConfig.maxValue=e}valueChanged(e){this.onPageIndexChanged&&e!==this.pageIndex+1&&this.onPageIndexChanged({index:e-1})}idChanged(e){this.numConfig.id=e}};r.__decorate([o.bindable,r.__metadata("design:type",String)],a.prototype,"id",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],a.prototype,"pageIndex",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],a.prototype,"pagesCount",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],a.prototype,"onPageIndexChanged",void 0),r.__decorate([o.observable,r.__metadata("design:type",Number)],a.prototype,"value",void 0),a=r.__decorate([o.autoinject],a),n.QpNumericPagerCustomElement=a}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/grid/grid-api-client.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/base-api-client.ts"),r("aurelia-framework"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("./services/index.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GridGenericInquiryApiClient=n.GridApiClient=void 0;let c=class GridApiClient{constructor(e){this.client=e}getGridData(e,n){return this.client.fetchExt(n.gridDataUrl?n.gridDataUrl:`${this.getRoute(e)}`,n)}saveGridFilter(e,n){return this.client.fetchExt(`${this.getRoute(e)}/saveFilter`,n)}removeGridFilter(e,n){return this.client.fetchExt(`${this.getRoute(e)}/removeFilter`,n)}saveGridFiltersOrder(e,n){return this.client.fetchExt(`${this.getRoute(e)}/saveFiltersOrder`,n)}initNewGridRow(e,n){return this.client.fetchExt(`${this.getRoute(e)}/initNewRow`,n)}navigate(e,n){return this.client.fetchExt(`${this.getRoute(e)}/navigate`,n)}exportToExcel(e,n){let r=n.gridDataUrl?n.gridDataUrl:`${this.getRoute(e)}`;return r=`${r}/exportToExcel`,this.client.fetch(r,(0,a.json)(n))}getRoute(e){return`${(0,l.Format)("ui/screen/{0}/grid",e)}`}};c=r.__decorate([i.autoinject,r.__metadata("design:paramtypes",[o.BaseApiClient])],c),n.GridApiClient=c;n.GridGenericInquiryApiClient=class GridGenericInquiryApiClient extends c{constructor(e,n){super(e),this.genericInquiryId=n}getRoute(e){return`${(0,l.Format)("ui/inquiry/{0}/grid",this.genericInquiryId)}`}}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/grid/grid-helper.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("../node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("./descriptors/index.ts"),r("./utils/index.ts"),r("./services/messages.ts"),r("./services/localizations-service.ts"),r("./utils/platform-dependable-utils.ts"),r("./utils/control-helper.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b){"use strict";let g,m;Object.defineProperty(n,"__esModule",{value:!0}),n.getCollectionData=n.copyRowPropsFromView=n.removeFilterRow=n.normalizeBrackets=n.orOperatorsBraced=n.reduceBrackets=n.addCloseBrackets=n.addOpenBrackets=n.getTypedValue=n.getColumnDisplayText=n.getRawCellValue=n.getColumnDefaultValue=n.getFilterRowDisplayText=n.getFilterDisplayText=n.isColumnVisibleChangeAllowed=n.getColumnKey=n.isAdvancedFilter=n.isEmptyFilter=n.copyFilterRow=n.clearFilterRow=n.filterNullValue=n.FilterConditions=n.ExpressionEvaluator=void 0;let f=class ExpressionEvaluator{constructor(e,n){this.parser=e,this.resources=n,this.parser=e,this.lookupFunctions=n.lookupFunctions}evaluate(e,n){let r;try{r=this.parser.parse(e)}catch(e){}const o={bindingContext:n,overrideContext:(0,a.createOverrideContext)(n)},i=null==r?void 0:r.evaluate(o,this.lookupFunctions);return void 0===i?e:i}};f=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[a.Parser,i.ViewResources])],f),n.ExpressionEvaluator=f,n.FilterConditions={EQ:"Equals",NE:"Does Not Equal",GT:"Is Greater Than",GE:"Is Greater Than or Equal To",LT:"Is Less Than",LE:"Is Less Than or Equal To",BETWEEN:"Is Between",LIKE:"Contains",LLIKE:"Ends With",RLIKE:"Starts With",NOTLIKE:"Does Not Contain",ISNULL:"Is Empty",ISNOTNULL:"Is Not Empty",TODAY:"Today",OVERDUE:"Overdue",TODAY_OVERDUE:"Today+Overdue",TOMMOROW:"Tomorrow",THIS_WEEK:"This Week",NEXT_WEEK:"Next Week",THIS_MONTH:"This Month",NEXT_MONTH:"Next Month"};const v=["EQ","NE","GT","GE","LT","LE","BETWEEN","LIKE","NOTLIKE","LLIKE","RLIKE"],y=["TODAY","OVERDUE","TODAY_OVERDUE","TOMMOROW","THIS_WEEK","NEXT_WEEK","THIS_MONTH","NEXT_MONTH"];function clearFilterRow(e){e.condition=e.orOperator=void 0,e.value=e.value2=void 0,e.openBrackets=e.closeBrackets=void 0,e.text=d.Messages.GridAll}function isEmptyFilter(e){return null==e||null==e.condition||"EQ"===e.condition&&null==e.value}function getFilterRowDisplayText(e,r){var o,i;let a=e.value,c=getColumnDisplayText(r,getTypedValue(r,e.value2,r.dataType,!0)).trimEnd(),u="";const p=((null===(i=null===(o=r.valueItems)||void 0===o?void 0:o.items)||void 0===i?void 0:i.length)||0)>0,b=r.dataType===l.NetType.String;p&&a?a=a.split(",").map((e=>e===n.filterNullValue?d.Messages.GridSelectAll:getColumnDisplayText(r,e))).join(", "):(a=getColumnDisplayText(r,getTypedValue(r,a,r.dataType,!0)).trimEnd(),b&&(a=a?`'${a}'`:"")),b&&(c=c?`'${c}'`:"");let g=e.condition;switch("EQ"!==g||e.value||(g=void 0),g){case"IN":u+=a;break;case"EQ":u+=`= ${a}`;break;case"NE":u+=`!= ${a}`;break;case"GT":u+=`> ${a}`;break;case"LT":u+=`< ${a}`;break;case"GE":u+=`>= ${a}`;break;case"LE":u+=`<= ${a}`;break;default:g?(u+="BETWEEN"===e.condition?"":n.FilterConditions[g],v.indexOf(g)>=0&&(u+=` ${a}${c?` - ${c}`:""}`)):u+=d.Messages.GridAll}return u}function getRawCellValue(e){return e&&void 0!==e.id?e.id:e}function getColumnDisplayText(e,n,r){var i,a;if(void 0!==(null==n?void 0:n.id)&&(e.textField||e.displayMode!==l.GridColumnDisplayMode.Value))return function getCellDisplayText(e,n,r){switch(e.displayMode){case l.GridColumnDisplayMode.Both:return null!=n&&r?`${n} - ${r}`:r||n;case l.GridColumnDisplayMode.Text:return r}return r}(e,n.id,n.text);let d="";if(n&&(n=getRawCellValue(n)),null==n)return null!==(i=e.nullText)&&void 0!==i?i:d;let f=e.valueItems,v=e.format,y=e.dataType;if(r&&e.fullState&&(r.type&&(y=r.type),r.format&&(v=r.format),r.options&&(f={items:r.options,multiSelect:r.multiSelect,exclusive:r.exclusiveValues,emptyPossible:r.emptyPossible})),((null===(a=null==f?void 0:f.items)||void 0===a?void 0:a.length)||0)>0)if(f&&f.multiSelect){const r=n.split(","),o=new Array;for(const n of r){const r=getValueItem(e,n,f,y);null!=r&&o.push(r.text)}d=o.join(", ")}else{const r=getValueItem(e,n,f,y);null!=r&&(d=(e.type===l.GridColumnType.Icon&&r.icon?r.icon:r.text)||"")}else(0,c.isNumeric)(y)?(0,b.isLegacyEnv)()?null!=g||(g=(0,p.numberFormatInfo)()):null!=g||(g=o.Container.instance.get(u.LocalizationsService).getLocalePreferences("number")):y===l.NetType.DateTime&&((0,b.isLegacyEnv)()?null!=m||(m=(0,p.dateFormatInfo)()):null!=m||(m=o.Container.instance.get(u.LocalizationsService).getLocalePreferences("datetime"))),d=v?(0,c.isNumeric)(y)&&"number"==typeof n?(0,c.formatNumber)(n,e.decimals,g):y===l.NetType.DateTime&&n instanceof Date?(0,c.formatDate)(n,v,m):y===l.NetType.String?(0,c.formatByMask)((0,c.encodeMask)(v),n," "):(0,c.getInvariantText)(n):(0,c.isNumeric)(y)?(0,c.formatNumber)(n,e.decimals,g):y===l.NetType.DateTime&&"Date"===n.constructor.name?(0,c.formatDate)(n,e.timeMode?"t":"d",m):(0,c.getInvariantText)(n);return d}function getTypedValue(e,n,r,o=!1){if(null==n)return n;void 0===r&&(r=e.dataType);const i="string"==typeof n,a=n;return e.allowNull&&i&&""===n?n=null:r===l.NetType.String&&n instanceof Date?n=(0,c.getInvariantText)(n):(n=(0,c.netTypeConvert)(n,r||l.NetType.String),o&&isNaN(n)&&(n=(0,c.getInvariantText)(a))),n}function getValueItem(e,n,r,o){if(null==(null==r?void 0:r.items)||null==n)return null;for(const i of r.items)if(n===getTypedValue(e,i.value,o))return i;return r.exclusive?null:{value:n,text:String(n)}}function addOpenBrackets(e,n){e.openBrackets||(e.openBrackets=0),e.openBrackets+=n}function addCloseBrackets(e,n){e.closeBrackets||(e.closeBrackets=0),e.closeBrackets+=n}function reduceBrackets(e){if(e&&e.openBrackets&&e.closeBrackets)for(;e.openBrackets&&e.closeBrackets;)e.openBrackets--,e.closeBrackets--}function copyValueIfDifferent(e,n,r){return!(!e||!n)&&(!!e.hasOwnProperty(r)&&(e[r]!==n[r]&&(n[r]=e[r],!0)))}n.filterNullValue="<null>",n.clearFilterRow=clearFilterRow,n.copyFilterRow=function copyFilterRow(e,n){return clearFilterRow(e),n&&Object.assign(e,n),e},n.isEmptyFilter=isEmptyFilter,n.isAdvancedFilter=function isAdvancedFilter(e){if(e){const n=e[e.length-1];return null==e?void 0:e.some((e=>!!e.orOperator&&e!==n))}return!1},n.getColumnKey=function getColumnKey(e){return e.field||e.key||""},n.isColumnVisibleChangeAllowed=function isColumnVisibleChangeAllowed(e){var n;return e.allowShowHide===l.GridColumnShowHideMode.True||e.allowShowHide===l.GridColumnShowHideMode.Client||e.allowShowHide===l.GridColumnShowHideMode.Server&&(null===(n=e.state)||void 0===n?void 0:n.visible)},n.getFilterDisplayText=function getFilterDisplayText(e,n){const r=e[e.length-1];let o="";for(const i of e){let e=n.find((e=>(0,c.compareStrings)(e.field,i.field,!0)));e||(e={field:i.field,dataType:l.NetType.String}),i.openBrackets&&(o+="(".repeat(i.openBrackets)),o+=`<b>${i.field}</b> `,isEmptyFilter(i)||y.indexOf(i.condition)>=0?o+="= ":"BETWEEN"===i.condition?o+="Between ":"IN"===i.condition&&(o+=`${i.condition} `);const a=getFilterRowDisplayText(i,e);"IN"===i.condition?o+=`(${a})`:"BETWEEN"===i.condition?o+=a.replace("-","and"):o+=a,i.closeBrackets&&(o+=")".repeat(i.closeBrackets)),i!==r&&(o+=`<span class="${i.orOperator?"or":"and"}"> ${i.orOperator?"OR":"AND"} </span>`)}return o},n.getFilterRowDisplayText=getFilterRowDisplayText,n.getColumnDefaultValue=function getColumnDefaultValue(e){var n;return(null===(n=e.state)||void 0===n?void 0:n.defaultValue)?e.state.defaultValue:e.allowNull?null:e.dataType===l.NetType.String?"":(0,c.isNumeric)(e.dataType)?0:e.dataType!==l.NetType.Boolean&&(e.dataType===l.NetType.DateTime?new Date:void 0)},n.getRawCellValue=getRawCellValue,n.getColumnDisplayText=getColumnDisplayText,n.getTypedValue=getTypedValue,n.addOpenBrackets=addOpenBrackets,n.addCloseBrackets=addCloseBrackets,n.reduceBrackets=reduceBrackets,n.orOperatorsBraced=function orOperatorsBraced(e){let n=0;for(const r of e)if(n-=r.closeBrackets||0,n+=r.openBrackets||0,r.orOperator&&n<=0)return!1;return!0},n.normalizeBrackets=function normalizeBrackets(e){const n=new Array,r=e[0],o=e[e.length-1];for(const i of e)if(reduceBrackets(i),i.openBrackets>0)n.push({fr:i,opened:i.openBrackets});else if(i.closeBrackets>0){let e=n.pop();if(!e){i.closeBrackets=void 0;continue}let a=i.closeBrackets;for(;e&&a>0;)a>=e.opened?(e.fr.openBrackets===e.opened&&e.opened>1&&(i.closeBrackets-=e.opened-1,e.fr.openBrackets=e.opened=a=1),i===o&&e.fr===r&&(i.closeBrackets-=a,e.fr.openBrackets-=a),a-=e.opened,a>0&&(e=n.pop())):(e.opened-=a,n.push(e),a=0)}for(const e of n)e.fr.openBrackets-=e.opened},n.removeFilterRow=function removeFilterRow(e,n){!function copyRemovedFilterRowBrackets(e,n){let r;const o=e.indexOf(n);n.openBrackets?(r=e[o+1],r&&addOpenBrackets(r,n.openBrackets)):n.closeBrackets&&(r=e[o-1],r&&addCloseBrackets(r,n.closeBrackets));r&&reduceBrackets(r)}(e,n),e.splice(e.indexOf(n),1)},n.copyRowPropsFromView=function copyRowPropsFromView(e,n,r,o){if(!e||!n)return{hasChanges:!1,activeCellValueChanged:!1};const i=Object.keys(n.cells).reduce(((i,a)=>{const l=e[a];if(!l)return i;const c=n.cells[a],d=copyValueIfDifferent(l,c,"value");let u=copyValueIfDifferent(l,c,"readOnly")||d;if(u=copyValueIfDifferent(l,c,"error")||u,u=copyValueIfDifferent(l,c,"errorLevel")||u,d){const e=r.find((e=>e.field===a));e&&(c.cellText=getColumnDisplayText(e,c.value,c)),c.changed=!0}return{hasChanges:d||i.hasChanges,activeCellValueChanged:i.activeCellValueChanged||a===o&&d}}),{hasChanges:!1,activeCellValueChanged:!1});return i.hasChanges&&(n.changed=!0),i},n.getCollectionData=function getCollectionData(e,n,o,i){var a;return r.__awaiter(this,void 0,void 0,(function*(){const r={view:o.name,columns:[],refreshColumns:!0,generateColumns:l.GridColumnGeneration.None,fastFilterByAllFields:!0,filterRows:[],parameters:null==i?void 0:i.parameters,suppressSelection:!1,gridDataUrl:null==i?void 0:i.gridDataUrl,preserveSortsAndFilters:!0,refreshFilters:!1,isRequestOwner:!1,pagerMode:void 0===(null==i?void 0:i.count)?l.GridPagerMode.InfiniteScroll:l.GridPagerMode.NextPrevFirstLast,startRow:null!==(a=null==i?void 0:i.startIndex)&&void 0!==a?a:0,pageSize:null==i?void 0:i.count},c=yield e.getGridData(n,r);return c.rows&&c.columns?c.rows.map((e=>{var n;return null===(n=c.columns)||void 0===n?void 0:n.reduce(((n,r)=>{var o;const i=r.field,a=e.cells[i],l=null!==(o=null==a?void 0:a.href)&&void 0!==o?o:null==a?void 0:a.value;return"string"==typeof l?n[i]=l:"object"==typeof l&&l&&void 0!==l.id&&(n[i]=l.id),n}),{})})):[]}))}}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/qp-filter-bar":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-dialog"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("aurelia-framework"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),r("aurelia-event-aggregator"),r("./controls/compound/grid/grid-helper.ts"),r("controls/compound/grid/dialogs/columns-list-dialog"),r("./services/messages.ts"),r("./descriptors/index.ts"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g){"use strict";var m;Object.defineProperty(n,"__esModule",{value:!0}),n.QpFilterBarCustomElement=void 0;let f=m=class QpFilterBarCustomElement{constructor(e,n,r,o,i,a){this.element=e,this.bindingEngine=n,this.eventAggregator=r,this.dialogService=o,this.container=i,this.tq=a,this.msg=p.Messages,this.filterSetupVM=void 0,this.filterEditorVM=void 0,this.btnFilterSaveOptions=[{type:"MenuButton",text:this.msg.GridSaveAs,commandName:"SaveAsFilter",images:{normal:"main@Save"}},{type:"MenuButton",text:this.msg.GridOpenAdvFilter,commandName:"Advanced",images:{normal:"svg:main@advancedFilter"}},{type:"MenuButton",text:this.msg.GridEditFilter,commandName:"Setup",images:{normal:"svg:main@edit"}},{type:"MenuButton",text:this.msg.GridDeleteFilter,commandName:"Remove",images:{normal:"main@Remove"}}],this.btnAddFilterConfig={imageUrl:"ac@keyboard_arrow_down"},this.btnFilterSaveConfig={images:{normal:"svg:main@dots"},options:this.btnFilterSaveOptions,hideOpener:!0},this.btnSaveConfig={text:this.msg.GridSaveFilter,hidden:!this.isFilterRetained()}}focusFastFilter(){var e;null===(e=this.fastFilterVM)||void 0===e||e.elemText.focus()}raiseOnFilterEvent(){this.onFilterChanged&&this.onFilterChanged({filter:this.fastFilter,filterID:this.filterId})}setCommandsState(){this.btnSaveConfig.hidden=!this.isFilterRetained();const e=!this.isClientFilter()&&this.isCurrentFilterEditable(),n=this.btnFilterSaveConfig.options;n[2].disabled=n[3].disabled=!e}filterIdChanged(e,n){this.setCommandsState(),n&&this.raiseOnFilterEvent()}filtersChanged(){this.setCommandsState()}filterRowsChanged(){this.filterText=this.isAdvancedFilter()?(0,d.getFilterDisplayText)(this.filterRows,this.config.columns):""}isDirtyFilterChanged(e,n){this.btnSaveConfig.hidden=!this.isFilterRetained()}dragColumnChanged(e){this.dragInfo=e?{field:e.field,targetIndex:void 0}:void 0}onSortApplied(e,n){this.onSortChanged&&this.onSortChanged({col:e,sort:n})}onFilterRowApplied(e,n){var r;const o=this.getFilterRow(e.field);o?n=(0,d.copyFilterRow)(o,n):n&&(null===(r=this.filterRows)||void 0===r||r.push(n)),this.onFilterRowChanged&&this.onFilterRowChanged({col:e,filter:n})}onFilterRowDeleted(e){var n;const r=this.getFilterRow(e.field);null!=r&&(null===(n=this.filterRows)||void 0===n||n.splice(this.filterRows.indexOf(r),1)),this.onFilterRowRemoved&&this.onFilterRowRemoved({col:e})}onFilterRowsSetChanged(e=!1){this.isDirtyFilter=!0,this.onRowsSetChanged&&this.onRowsSetChanged({refresh:e})}processFilterFavoriteChanged(e,n){var r;null===(r=this.onFilterFavoriteChanged)||void 0===r||r.call(this,{filterID:e,isFavorite:n})}getActiveFilter(){var e;return null===(e=this.filters)||void 0===e?void 0:e.find((e=>e.filterID===this.filterId))}isClientFilter(e){const n=e||this.filterId;return!n||n<=m.minFilterID}isFilterRetained(){return this.isClientFilter()||this.isDirtyFilter}isCurrentFilterEditable(){const e=this.getActiveFilter();return!(!e||this.isClientFilter(e.filterID))&&!(e.isSystem||e.isShared&&!0!==this.config.isSharedEditable)}getColumn(e){var n;return null===(n=this.config.columns)||void 0===n?void 0:n.find((n=>(0,g.compareStrings)(n.field,e,!0)))}getFilterRow(e){var n;return null===(n=this.filterRows)||void 0===n?void 0:n.slice().reverse().find((n=>(0,g.compareStrings)(n.field,e,!0)))}getFilterRowIndex(e){var n;const r=this.getFilterRow(e);return r?null===(n=this.filterRows)||void 0===n?void 0:n.indexOf(r):-1}setFilterID(e){this.filterId!==e&&(this.filterId=e,this.raiseOnFilterEvent())}isAdvancedFilter(e){return e||(e=this.filterRows),(0,d.isAdvancedFilter)(e)}removeFiltersBrackets(e){e||(e=this.filterRows),null==e||e.forEach((e=>e.openBrackets=e.closeBrackets=void 0))}processFilterMenu(e){switch(e.detail.commandName){case"SaveAsFilter":case"Setup":this.showFilterSettings("SaveAsFilter"===e.detail.commandName);break;case"Remove":this.onFilterRemove&&l.PLATFORM.global.confirm(this.msg.GridRemoveFilterWarn)&&this.onFilterRemove({filterID:this.filterId});break;case"Save":this.processSaveFilter();break;case"Advanced":this.showAdvancedFilter()}}showFilterSettings(e){var n;let r=this.getActiveFilter();this.isClientFilter(null==r?void 0:r.filterID)&&(r=Object.assign({},r),r.filterName="");const o={id:`${this.config.id}_pnlSaveF`,filter:r,isSharedEditable:this.config.isSharedEditable,saveAs:e};null===(n=this.filterSetupVM)||void 0===n||n.open(o).whenClosed((n=>{!n.wasCancelled&&this.onFilterSave&&this.onFilterSave({filter:n.output,createNew:e})}))}showAdvancedFilter(){var e;const n={id:`${this.config.id}_filter_editor`,columns:this.config.columns,filterRows:this.filterRows};null===(e=this.filterEditorVM)||void 0===e||e.open(n).whenClosed((e=>{if(!e.wasCancelled){const n=e.output;this.isAdvancedFilter(n)||this.removeFiltersBrackets(n),this.filterRows.splice(0,this.filterRows.length,...n),this.filterRowsChanged(),this.onFilterRowsSetChanged(!0)}}))}processSaveFilter(){const e=this.getActiveFilter();this.onFilterSave&&e&&(this.isClientFilter(e.filterID)?this.showFilterSettings(!0):this.onFilterSave({filter:e,createNew:!1}))}processFastFilter(e){this.fastFilter=e,this.raiseOnFilterEvent()}processFastFilterKeyDown(e){return!this.onFastFilterKeyDown||this.onFastFilterKeyDown({ev:e})}processFilterHeaderClick(e,n){this.setFilterID(n.filterID)}processAddFilterClick(e){let n=e.target;for(;"BUTTON"!==n.tagName;)n=n.parentElement;const r=new Set(this.filterRows.map((e=>{var n;return null===(n=e.field)||void 0===n?void 0:n.toLowerCase()}))),o={attachTo:n,columns:this.config.columns.filter((e=>{var n;return!r.has(null===(n=e.field)||void 0===n?void 0:n.toLowerCase())})),showAdvancedLink:!0,id:this.config.id};this.dialogService.open({viewModel:u.ColumnsListDialog,model:o,lock:!1,childContainer:this.container.createChild()}).whenClosed((e=>{if(!e.wasCancelled&&e.output){const n=e.output;n&&"object"==typeof n?this.filterRows.find((e=>e.field===n.field))||(this.filterRows.push({field:n.field,text:this.msg.GridAll}),this.onFilterRowsSetChanged()):this.showAdvancedFilter()}}))}processDragStart(e,n){return this.dragInfo={field:n.field,targetIndex:void 0},this.bodyDropSubscription=this.eventAggregator.subscribe(b.DROP_ON_BODY,(e=>this.processDropOnBody(e))),!0}processDragOver(e,n){if(this.createColDragInfo(),this.dragInfo&&this.dragInfo.field!==n.field){const r=this.elemFiltersWrap.querySelectorAll("qp-filter-button")[this.filterRows.indexOf(n)],o=r.getBoundingClientRect(),i=this.elemFiltersWrap.getBoundingClientRect(),a=o.left-i.left,c=o.right-i.left,d=2,u=e.clientX<o.left+o.width/d;let p=this.getFilterRowIndex(n.field)+(u?0:1);const b=this.getFilterRowIndex(this.dragInfo.field);b>=0&&p>b&&p--;let g=(u?a:c)-this.elemArrowDown.offsetWidth/d;if(p>0){const e=l.PLATFORM.global.getComputedStyle(r);if(e.marginLeft||e.marginRight){const n=(e.marginLeft?parseInt(e.marginLeft):0)+(e.marginRight?parseInt(e.marginRight):0);g+=(u?-n:n)/d}}this.elemArrowUp.style.left=this.elemArrowDown.style.left=`${g}px`,this.dragInfo.targetIndex=p===b?void 0:p}else this.dragInfo&&(this.dragInfo.targetIndex=void 0);e.stopPropagation()}processDragOverBar(e){var n;this.dragInfo&&null!=this.dragInfo.targetIndex||(this.createColDragInfo(),0===(null===(n=this.filterRows)||void 0===n?void 0:n.length)&&(this.dragInfo.targetIndex=0,this.tq.queueTask((()=>{const e=this.elemAddFilterBtn.offsetLeft-this.elemArrowUp.offsetWidth/2;this.elemArrowUp.style.left=this.elemArrowDown.style.left=`${e}px`}))))}processDragLeave(e){this.dragInfo&&!this.elemFiltersWrap.contains(e.relatedTarget)&&(this.dragInfo.targetIndex=void 0)}processDrop(e){if(this.dragInfo){const e=this.dragInfo.targetIndex,n=this.dragInfo.field,r=this.getFilterRowIndex(n);void 0!==e&&(r<0?this.filterRows.splice(e,0,{field:n,text:this.msg.GridAll}):this.filterRows.splice(e,0,this.filterRows.splice(r,1)[0]),this.onFilterRowsSetChanged()),this.dragInfo=void 0}}processDropOnBody(e){var n;if(!this.elemFiltersWrap.contains(e.target)&&this.dragInfo){const e=this.getColumn(this.dragInfo.field);e&&this.onFilterRowDeleted(e)}null===(n=this.bodyDropSubscription)||void 0===n||n.dispose(),this.bodyDropSubscription=void 0}createColDragInfo(){!this.dragInfo&&this.dragColumn&&(this.dragInfo={field:this.dragColumn.field,targetIndex:void 0})}get showDragArrows(){return!!this.dragInfo&&void 0!==this.dragInfo.targetIndex}};f.clientFilterID="00000000-0000-0000-0000-000000000000",f.minFilterID="00000000-0000-0000-0000-000000000010",r.__decorate([a.bindable,r.__metadata("design:type",Object)],f.prototype,"config",void 0),r.__decorate([a.bindable,r.__metadata("design:type",String)],f.prototype,"fastFilter",void 0),r.__decorate([a.bindable,r.__metadata("design:type",String)],f.prototype,"filterId",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Array)],f.prototype,"filters",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Array)],f.prototype,"filterRows",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Boolean)],f.prototype,"isDirtyFilter",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Object)],f.prototype,"dragColumn",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],f.prototype,"onSortChanged",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],f.prototype,"onFilterChanged",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],f.prototype,"onFilterSave",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],f.prototype,"onFilterRemove",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],f.prototype,"onFiltersOrderChanged",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],f.prototype,"onFilterFavoriteChanged",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],f.prototype,"onFilterRowChanged",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],f.prototype,"onFilterRowRemoved",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],f.prototype,"onRowsSetChanged",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],f.prototype,"onFastFilterKeyDown",void 0),r.__decorate([(0,a.computedFrom)("dragInfo","dragInfo.targetIndex"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],f.prototype,"showDragArrows",null),f=m=r.__decorate([a.autoinject,r.__metadata("design:paramtypes",[Element,a.BindingEngine,c.EventAggregator,o.DialogService,i.Container,a.TaskQueue])],f),n.QpFilterBarCustomElement=f}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/qp-filter-editor":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-dialog"),r("aurelia-framework"),r("./descriptors/index.ts"),r("controls/compound/grid/dialogs/columns-list-dialog"),r("./controls/compound/grid/grid-helper.ts")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FilterNode=n.QpFilterEditorCustomElement=void 0;let d=class QpFilterEditorCustomElement{constructor(e){this.dialogService=e,this.hoverNodes=[]}filterRowsChanged(){this.buildFilterRowsTree()}processHierarchyChanged(){this.buildFilterRowsTree()}buildFilterRowsTree(){let e=this.rootNode;if(null==e&&(e=this.rootNode=new FilterNode),e.items.splice(0,e.items.length),this.filterRows){(0,c.normalizeBrackets)(this.filterRows);for(const n of this.filterRows)if(n.openBrackets>0){let r=n.openBrackets;for(;r-- >0;)e.items.push(e=new FilterNode(e));e.items.push(n)}else if(n.closeBrackets>0){let r=n.closeBrackets;for(e.items.push(n);r-- >0&&e.parent;)0===r&&(e.orOperator=n.orOperator),e=e.parent}else e.items.push(n)}}processFilterRowDelete(e){(0,c.removeFilterRow)(this.filterRows,e),this.buildFilterRowsTree()}processFilterNodeDelete(e){const n=e.getFirstCondition(),r=e.getLastCondition(),o=this.filterRows.indexOf(n),i=this.filterRows.indexOf(r);let a=0,l=0;for(let e=o;e<=i;e++){const n=this.filterRows[e];n.openBrackets&&(a+=n.openBrackets),n.closeBrackets&&(l+=n.closeBrackets)}const d=a>l?a-l:0,u=l>a?l-a:0;if(d>0||u>0){const n=e.parent.items;if(d>0){const r=n[n.indexOf(e)+1],o=r instanceof FilterNode?r.getFirstCondition():r;o&&((0,c.addOpenBrackets)(o,d),(0,c.reduceBrackets)(o))}if(u>0){const r=n[n.indexOf(e)-1],o=r instanceof FilterNode?r.getLastCondition():r;o&&((0,c.addCloseBrackets)(o,u),(0,c.reduceBrackets)(o))}}this.filterRows.splice(o,i-o+1),this.buildFilterRowsTree()}processFilterRowInsert(e,n,r){const o=e?this.filterRows.indexOf(e):-1,i=new a.GridFilterRow;i.field=n.field,i.text=(0,c.getFilterRowDisplayText)(i,n),r&&(null==e?void 0:e.closeBrackets)&&(i.closeBrackets=r,e.closeBrackets-=r),this.filterRows.splice(o+1,0,i),this.buildFilterRowsTree()}processNewItemClick(e){let n=e.target;"DIV"!==n.tagName&&(n=n.parentElement);const r={attachTo:n,columns:this.columns,id:this.id};this.dialogService.open({viewModel:l.ColumnsListDialog,model:r,lock:!1}).whenClosed((e=>{!e.wasCancelled&&e.output&&this.processFilterRowInsert(void 0,e.output)}))}processNodeMouseMove(e,n){const r=this.hoverNodes,o="mouse-hover";n?(e.removeAttribute(o),r.pop()):(r.length&&r[r.length-1].removeAttribute(o),r.push(e)),r.length&&r[r.length-1].setAttribute(o,"")}};r.__decorate([i.bindable,r.__metadata("design:type",String)],d.prototype,"id",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Array)],d.prototype,"filterRows",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Array)],d.prototype,"columns",void 0),d=r.__decorate([(0,i.customElement)("qp-filter-editor"),i.autoinject,r.__metadata("design:paramtypes",[o.DialogService])],d),n.QpFilterEditorCustomElement=d;class FilterNode{constructor(e){this.items=[],this.parent=e}getFirstCondition(){let e=this;do{e=e.items[0]}while(e instanceof FilterNode);return e}getLastCondition(){let e=this;do{e=e.items[e.items.length-1]}while(e instanceof FilterNode);return e}getLevel(){let e=this.parent,n=-1;for(;e;)e=e.parent,n++;return n}}n.FilterNode=FilterNode}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/grid/qp-grid":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/preferences/index.ts"),r("./services/preferences/index.ts"),r("./services/messages.ts"),r("./services/localization.ts"),r("aurelia-framework"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("aurelia-event-aggregator"),r("./controls/compound/grid/grid-api-client.ts"),r("./utils/platform-dependable-utils.ts"),r("aurelia-dialog"),r("controls/compound/grid/dialogs/filter-dialog"),r("controls/compound/grid/qp-filter-bar"),r("./controls/compound/grid/grid-helper.ts"),r("./services/screen-service.ts"),r("./services/alert-service.ts"),r("./descriptors/index.ts"),r("./descriptors/types.ts"),r("./utils/index.ts"),r("aurelia-framework"),r("controls/dialog/alert/qp-alert"),r("controls/compound/tool-bar/qp-tool-bar"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("controls/compound/grid/dialogs/import-dialog"),r("./services/translation-service.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g,m,f,v,y,x,C,S,D,E,k,T,_,M,R){"use strict";var I;Object.defineProperty(n,"__esModule",{value:!0}),n.GridPreferences=n.GridPreferencesPair=n.GridPreferencesMerger=n.QpGridActionEventArgs=n.QpGridEventArgs=n.QpGridCustomElement=void 0;let F=I=class QpGridCustomElement{constructor(e,n,r,o,i,l,c,d,u,p,b,g,m,f,v,y){this.element=e,this.screenService=n,this.tq=o,this.bindingEngine=i,this.dialogService=l,this.eventAggregator=c,this.redirector=d,this.alertService=u,this.container=b,this.preferencesService=g,this.evaluator=m,this.eventManager=f,this.busyCounter=v,this.translationService=y,this.viewMode=S.ViewMode.View,this.resultType="GridData",this.Msg=a.Messages,this.NotesKey="Notes",this.FilesKey="Files",this.debounceState={delay:500,timeoutId:void 0},this.subscriptions=new Array,this.colsSubscriptions=new Array,this.loadingStatus="in-sync",this.layoutLoaded=!1,this.filtersLoaded=!1,this.hasSavedLayout=!1,this.isSavingLayout=!1,this.rowsHidden=!1,this.pageAdjusted=!1,this.awaitColsGeneration=!1,this.showFilterBar=!1,this.manualColumnsConfig={},this.visibleCols=new Array,this.editMode=!1,this.updateEditorValue=!1,this.updateEditorState=!1,this.updateRowsCount=!1,this.allowUpdate=!1,this.allowDelete=!1,this.allowInsert=!1,this.allowImport=!1,this.allowFastFilter=!1,this.activeRowIndex=-1,this.activeCellIndex=0,this.changedPrefs=new Map,this.noteDialogView={},this.noteDialogVM=void 0,this.inlineEditorVM=void 0,this.filesDialogVM=void 0,this.hasFilesColumn=!1,this.gridPreferencesMerger=new GridPreferencesMerger,this.pagerBarConfigL={id:"",disableMenu:!0,items:{first:{config:Object.assign(Object.assign({},(0,T.NewMenuButton)("firstPage")),{commandName:"firstPage",imageUrl:"main@PageFirst",toolTip:this.Msg.GridFirstPage,disabled:!0})},prev:{config:Object.assign(Object.assign({},(0,T.NewMenuButton)("prevPage")),{commandName:"prevPage",imageUrl:"main@PagePrev",toolTip:this.Msg.GridPrevPage,disabled:!0})}},styleChanged:!1},this.pagerBarConfigR={id:"",disableMenu:!0,items:{next:{config:Object.assign(Object.assign({},(0,T.NewMenuButton)("nextPage")),{commandName:"nextPage",imageUrl:"main@PageNext",toolTip:this.Msg.GridNextPage,disabled:!0})},last:{config:Object.assign(Object.assign({},(0,T.NewMenuButton)("lastPage")),{commandName:"lastPage",imageUrl:"main@PageLast",toolTip:this.Msg.GridLastPage,disabled:!0})}},styleChanged:!1},this.apiClient=r,this.templateColumns=p.elementInstruction.columns,this.id=this.element.getAttribute("id")||"",this.preferencesManager=new GridPreferencesManager(g,this.setFavoriteInFilters.bind(this)),n.isValid&&(this.viewName=this.element.getAttribute("view.bind")||void 0,this.viewName&&(this.componentSubscription=n.registerDataComponent(this.viewName,this),this.id=this.id||`${this.viewName}_grid`,this.translationService.addTranslationsProcessor(this.viewName,this.setCellTranslation.bind(this)))),this.topBarConfig={id:"",disableMenu:!0,items:{refresh:{index:-90,config:Object.assign(Object.assign({},(0,T.NewMenuButton)("refresh")),{commandName:"refresh",images:{normal:"main@Refresh"},toolTip:this.Msg.GridRefresh,isSystem:!0,showInToolbar:!0,target:this.element,text:"Refresh"})},insert:{index:-60,config:Object.assign(Object.assign({},(0,T.NewMenuButton)("insert")),{commandName:"insert",images:{normal:"main@RecordAdd"},toolTip:this.Msg.GridAddRow,isSystem:!0,showInToolbar:!0,target:this.element,hidden:!0,text:"Add Row"})},delete:{index:-50,config:Object.assign(Object.assign({},(0,T.NewMenuButton)("delete")),{commandName:"delete",images:{normal:"main@RecordDel"},toolTip:this.Msg.GridDeleteRow,isSystem:!0,showInToolbar:!0,target:this.element,hidden:!0,text:"Delete Row"})},adjust:{config:Object.assign(Object.assign({},(0,T.NewMenuButton)("adjust")),{commandName:"adjust",images:{normal:"main@Adjust"},toolTip:this.Msg.GridFitToScreen,isSystem:!0,showInToolbar:!0,target:this.element,text:"Fit to Screen"})},exportToExcel:{config:Object.assign(Object.assign({},(0,T.NewMenuButton)("exportToExcel")),{commandName:"exportToExcel",images:{normal:"main@Excel"},toolTip:this.Msg.GridExportToExcel,isSystem:!0,showInToolbar:!0,target:this.element,text:"Export to Excel"})},import:{config:Object.assign(Object.assign({},(0,T.NewMenuButton)("import")),{commandName:"import",images:{normal:"main@Upload"},isSystem:!0,showInToolbar:!0,target:this.element,hidden:!0,text:this.Msg.LoadRecordsFromFile,toolTip:this.Msg.LoadRecordsFromFile})},filter:{config:Object.assign(Object.assign({},(0,T.NewMenuButton)("filter")),{commandName:"filter",images:{normal:"svg:main@filter"},toolTip:this.Msg.GridFilterSetup,isSystem:!0,showInToolbar:!0,target:this.element,hidden:!0,text:"Filter Settings",toggleMode:!0,pushed:!1})}},styleChanged:!1,changed:!1},this.btnToggleFilterConfig={id:"",enabled:!0,toggleMode:!0,toolTip:this.Msg.GridFilterSetup,tabIndex:-1,displayIconAndText:!0},this.domEvents=new E.ElementEvents(this.element),this.domEvents.subscribe("buttonpressed",(e=>this.processToolBarClick(e)))}bind(e,n){var r,o;if(this.config||(this.config={}),this.config.columns||(this.config.columns=[]),this.id&&this.config.id&&this.id!==this.config.id&&(alert(`IDs conflict in qp-grid: ${this.id} != ${this.config.id}`),console.error(`IDs conflict in qp-grid: ${this.id} != ${this.config.id}`)),this.id=this.id||this.config.id||"",this.id||(alert("ID is not given to qp-grid. "),console.error("ID is not given to qp-grid. ")),this.btnToggleFilterConfig.id=`${this.id}_toggleFilter`,this.topBarConfig.id=`${this.id}_topBar`,this.pagerBarConfigL.id=`${this.id}_pagerL`,this.pagerBarConfigR.id=`${this.id}_pagerR`,this.linkedWithView()){const e=C.PXReflectionMetadata.getMetadata(null===(r=this.view)||void 0===r?void 0:r.instanceType,"gridConfig"),n=C.PXReflectionMetadata.getMetadata(this.screenService.model,this.viewName,"gridConfig"),i=!!this.config.hasOwnProperty("mergeToolbarWith");(n||e)&&Object.assign(this.config,null!=n?n:e),i&&(this.config.mergeToolbarWith=void 0),(null===(o=this.view)||void 0===o?void 0:o.config)&&Object.assign(this.config,this.view.config)}this.config.preset&&(0,D.deepMerge)(this.config,!1,(0,C.getGridPereset)(this.config.preset)),(0,D.applyDefaultValues)(this.config,I.defaultConfig),this.config.preset||console.error(`preset is not specified for the grid with id="${this.id}"`),this.config.id=this.id,this.config.autoAdjustColumns&&(this.config.autoSaveLayout=!1),this.config.autoGrowInHeight&&(this.config.adjustPageSize=!1),this.allowUpdate=!!this.config.allowUpdate,this.allowDelete=!!this.config.allowDelete,this.allowInsert=!!this.config.allowInsert,this.adjustPagerMode();const i=this.config.columns;if(this.templateColumns){const n=new Array;this.templateColumns.map((r=>{const o={};for(const n of Object.getOwnPropertyNames(r))if("bindableProps"!==n)o[n]=r[n];else for(const i of Object.getOwnPropertyNames(r[n]))o[i]=this.evaluator.evaluate(r[n][i],e);n.push(o)})),i.splice(i.length,0,...n)}this.manualColumnsConfig=Object.fromEntries(i.map((e=>[(0,v.getColumnKey)(e),Object.assign({},e)]))),this.columns=i.map((e=>Object.assign({},e))),this.columns.forEach((e=>(0,D.applyDefaultValues)(e,I.defaultColumnConfig))),this.allowFastFilter=this.isFastFilterEnabled(),this.filterBarConfig={id:this.config.id,columns:this.columns,hideHeaders:!0,isSharedFiltersEditable:this.isSharedFiltersEditable,allowStoredFilters:this.config.allowStoredFilters,showFastFilter:this.allowFastFilter&&this.config.showFastFilter===C.GridFastFilterVisibility.FilterBar},this.showFilterBar=this.config.showFilterBar===C.GridFilterBarVisibility.Always,this.topBarConfig.disableMenu=!this.config.wrapToolbar,this.initialTopBarConfigItems=this.topBarConfig.items,this.config.topBarItems&&(this.topBarConfig.items=Object.assign(Object.assign({},this.config.topBarItems),this.topBarConfig.items),this.topBarConfig.changed=!0),this.injectToolbarIntoScreenOne(),this.noteDialogConfig={view:this.getViewName()},this.filesDialogConfig={graph:this.getGraphName(),view:this.getViewName(),id:"pnlFilesDialog"},this.fillVisibleColumns(),this.createSubscriptions(),this.linkedWithView()&&(this.preferencesService.subscribe(this.gridId,this),this.preferencesService.registerMerger("grid",this.gridPreferencesMerger),this.preferencesManager.subscribe(this.getScreenID(),this.gridId)),this.linkedWithView()&&!this.config.screenId||this.refresh()}attached(){this.rowsPromise||this.linkedWithView()||this.refresh(),b.browser.isAnyIE&&this.tq.queueTask((()=>{this.createSubscriptions(),(0,D.applyDefaultValues)(this.config,I.defaultConfig)}))}detached(){var e;this.componentSubscription&&this.componentSubscription.dispose(),this.clearSubscriptions(),this.preferencesService.unsubscribe(this.gridId),null===(e=this.elemFastFilter)||void 0===e||e.removeEventListener("input",this.fastFilterHandler)}applyPreferences(e){var n,r,i,a,l,c;this.preferences=e,this.hasSavedLayout=this.viewMode===S.ViewMode.View&&!!(null===(i=null===(r=null===(n=this.preferences)||void 0===n?void 0:n.user)||void 0===r?void 0:r.columns)||void 0===i?void 0:i.length)||this.viewMode===S.ViewMode.Edit&&!!(null===(c=null===(l=null===(a=this.preferences)||void 0===a?void 0:a.def)||void 0===l?void 0:l.columns)||void 0===c?void 0:c.length),this.isSavingLayout||(this.viewMode===S.ViewMode.Edit?this.fillPreferences(o.PreferenceLoadMode.onlyDefault,!0):(this.changedPrefs.clear(),this.fillPreferences(o.PreferenceLoadMode.merged,!0)))}createSubscriptions(){var e;this.clearSubscriptions();const n=this.bindingEngine.collectionObserver(this.columns).subscribe((()=>this.fillVisibleColumns()));this.subscriptions.push(n),this.linkedWithView()&&this.view&&this.subscriptions.push(this.bindingEngine.propertyObserver(this.view,"activeRowChanged").subscribe((()=>this.updateActiveRowFromView()))),this.createColsSubscriptions(),(this.needAdjustPage()||(null===(e=this.config)||void 0===e?void 0:e.autoAdjustColumns))&&this.subscriptions.push(this.eventAggregator.subscribe(C.RESIZE_WINDOW,(()=>this.resizeWindowHandler()))),this.config.fastFilterId&&this.subscriptions.push(this.eventAggregator.subscribe("screen-initialized",(()=>this.attachFastFilterEditor())))}createColsSubscriptions(){this.clearColsSubscriptions();const func=()=>this.fillVisibleColumns();this.columns.forEach((e=>{const n=this.bindingEngine.propertyObserver(e,"visible").subscribe(func);this.colsSubscriptions.push(n)}))}attachFastFilterEditor(){this.config.fastFilterId&&(this.elemFastFilter=document.getElementById(this.config.fastFilterId),this.elemFastFilter&&(this.fastFilterHandler||(this.fastFilterHandler=this.applyFastFilter.bind(this)),this.elemFastFilter.addEventListener("input",this.fastFilterHandler)))}clearSubscriptions(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[],this.clearColsSubscriptions()}clearColsSubscriptions(){this.colsSubscriptions.forEach((e=>e.dispose())),this.colsSubscriptions=[]}getScreenID(){var e;return this.config.screenId?this.config.screenId:(null===(e=this.screenService)||void 0===e?void 0:e.isValid)?this.screenService.siteMapScreenID?this.screenService.siteMapScreenID:this.screenService.screenID:(0,D.getScreenID)()}getViewName(){var e;return(null===(e=this.config)||void 0===e?void 0:e.view)||this.viewName}getGraphName(){var e,n;return(null===(e=this.config)||void 0===e?void 0:e.graph)||(null===(n=this.screenService.getGraphInfo())||void 0===n?void 0:n.graphType)}linkedWithView(){return!!this.viewName&&this.screenService.isValid}getRows(e=!1,n=!1){return r.__awaiter(this,void 0,void 0,(function*(){if(this.rowsPromise||!this.config)return this.rowsPromise;this.busyCounter.increment();this.config;const r=this.getQueryParams(void 0,e);this.exitEditMode(!1),n&&(this.storeScrollPosition(),this.rowsHidden=!0);const clearState=()=>{this.loadingStatus="in-sync",delete this.rowsPromise},o=this.dataSource?this.dataSource:this.apiClient.getGridData.bind(this.apiClient);return this.loadingStatus="loading",this.rowsPromise=o(this.getScreenID(),r).then((n=>{n&&this.setComponentData(n,e),clearState()}),(e=>clearState())).finally((()=>{this.busyCounter.decrement()})),this.rowsPromise}))}exportToExcel(){return r.__awaiter(this,void 0,void 0,(function*(){const e=1e3;let n=this.config.exportRowsLimit;if(n&&this.totalRowCount>n){if((yield this.alertService.openAlert({title:a.Messages.ExportToExcelGlobalLimitExceededBtnWarning,message:(0,l.Format)(a.Messages.ExportToExcelInquiryLimitExceeded,n.toString()),buttons:k.QpAlertButtons.OkCancel}))===k.QpAlertResults.Cancel)return}else if(this.totalRowCount>e){const r=yield this.alertService.openAlert({title:a.Messages.ExportToExcelGlobalLimitExceededBtnWarning,message:(0,l.Format)(a.Messages.ExportToExcelGlobalLimitExceeded,e.toString()),buttons:k.QpAlertButtons.YesNoCancel,yesButtonText:a.Messages.ExportToExcelGlobalLimitExceededBtnApply,noButtonText:a.Messages.ExportToExcelGlobalLimitExceededBtnIgnore});if(r===k.QpAlertResults.Cancel)return;r===k.QpAlertResults.Yes&&(n=e)}const r=this.getQueryParams();if(n&&(r.exportRowsCount=n),this.isAllRecordsFilter()){const e=this.columns.filter((e=>null!=e.filter)).map((e=>e.filter));e.length>0&&(r.filterRows=e)}this.exitEditMode(!1),this.apiClient.exportToExcel(this.getScreenID(),r).then((()=>{this.screenService.update()}))}))}import(){return r.__awaiter(this,void 0,void 0,(function*(){const e=this.getViewName();if(!e)return;this.cancelActiveRowChanges();const n={id:this.id,viewName:e,graphType:this.screenService.getGraphInfo().graphType};return yield M.ImportRecordsDialog.Execute(this.container,n)}))}refresh(e=!1){return r.__awaiter(this,void 0,void 0,(function*(){return this.getRows(!1,e)}))}search(e,n){null!=e&&this.config.pagerMode!==C.GridPagerMode.InfiniteScroll&&(this.searchField=n,this.searchValue=e,this.setPageIndex(0),this.refresh(),this.config.pagerMode>1&&this.clearSearch())}getQueryParams(e,n=!1){var r;const o=this.config.generateColumns===C.GridColumnGeneration.Recreate||this.config.generateColumns===C.GridColumnGeneration.Append||this.config.generateColumns===C.GridColumnGeneration.AppendDynamic,i=I.defaultColumnConfig,a=(o?this.config.columns:this.columns).map((e=>{var n,r;const o=null===(n=this.changedPrefs.get((0,v.getColumnKey)(e)))||void 0===n?void 0:n.visible,a=this.manualColumnsConfig[(0,v.getColumnKey)(e)],l=null!==(r=null==a?void 0:a.allowShowHide)&&void 0!==r?r:e.allowShowHide!==i.allowShowHide?e.allowShowHide:void 0;return{field:e.field,key:e.key,fullState:e.fullState,visible:o,type:e.type===i.type?void 0:e.type,allowFastFilter:null==a?void 0:a.allowFastFilter,allowShowHide:l,sortDirection:e.sortDirection,generated:e.generated,nullText:e.nullText,format:null==a?void 0:a.format,timeMode:null==a?void 0:a.timeMode,suppressExport:e.suppressExport,textField:null==a?void 0:a.textField,displayMode:null==a?void 0:a.displayMode}})),l=n?this.rows.length:0,c=this.config,d=c.allowStoredFilters?void 0:this.columns.filter((e=>null!=e.filter)).map((e=>e.filter));let u=!1;this.needAdjustPage()&&(this.pageAdjusted?this.adjustPageSize():u=!0);const p=null===(r=null==e?void 0:e.commitChanges)||void 0===r||r;this.config.generateColumns&&(this.awaitColsGeneration=!0);return Object.assign(Object.assign({},this.getBaseQueryParams()),{columns:a,refreshColumns:!this.layoutLoaded||o,generateColumns:c.generateColumns,generateColumnsAfterSelect:c.generateColumnsAfterSelect,generateProcessColumns:c.generateProcessColumns,suppressSelection:u||this.suppressSelection,pagerMode:c.pagerMode,startRow:l,searchValue:this.searchValue,searchField:this.searchField,dataKey:c.syncPosition?this.getRowDataKey(this.getActiveRow()):void 0,pageIndex:this.pageIndex,pageSize:c.pageSize,parameters:c.parameters,preserveSortsAndFilters:c.preserveSortsAndFilters,syncPosition:c.syncPosition,suppressNoteFiles:c.suppressNoteFiles,refreshFilters:!1!==c.allowStoredFilters&&!this.filtersLoaded,fastFilterByAllFields:c.fastFilterByAllFields,fastFilter:this.fastFilter,filterID:this.filterID,filterRows:d,quickFilterFields:this.isAllRecordsFilter()?c.quickFilterFields:void 0,filterView:c.filterView,filterRowsView:c.filterRowsView,changes:p?this.getDataChanges():void 0,isRequestOwner:(null==e?void 0:e.requestOwner)===this.id,gridDataUrl:this.config.gridDataUrl,dataField:this.config.dataField})}getDataChanges(){var e;let n;return this.commitActiveRowChanges(!1),null===(e=this.rows)||void 0===e||e.forEach(((e,r)=>{var o;if(!e.status||e.status===C.GridRowStatus.New)return;const i=e.id&&(null===(o=this.additionalRowChanges)||void 0===o?void 0:o[e.id])||{id:e.id,index:r,values:[]};for(const n in e.cells){const r=e.cells[n],o=this.dataKeyNames.includes(n);(r.changed||r.errorLevel===C.PXErrorLevel.Error||o)&&i.values.push({field:n,value:(0,v.getRawCellValue)(r.value),oldValue:o?(0,v.getRawCellValue)(r.oldValue):void 0})}switch(n||(n={}),e.status){case C.GridRowStatus.Deleted:n.deleted||(n.deleted=[]),n.deleted.push(i);break;case C.GridRowStatus.Inserted:n.inserted||(n.inserted=[]),n.inserted.push(i);break;case C.GridRowStatus.Modified:n.modified||(n.modified=[]),n.modified.push(i)}})),this.additionalRowChanges=void 0,n}setComponentData(e,n=!1){var r,o,i,a;if(e.commitResult)return void this.applyCommitResult(e.commitResult);if(this.suppressSelection)return;const l=this.config;this.columns;if(e.columns?(this.initializeColumns(e.columns),this.initialColumns=this.columns.map((e=>Object.assign({},e))),this.createSubscriptions(),this.subscribeScreenConfigurator(),this.config.generateColumns&&!this.awaitColsGeneration||(this.layoutLoaded=!0,this.awaitColsGeneration=!1),this.allowFastFilter=this.isFastFilterEnabled()):e.colsProps&&(e.colsProps.forEach((e=>{const n=this.getColumn((0,v.getColumnKey)(e));n&&this.copyColumnProps(n,e)})),this.updateInitialColumns()),this.fillPreferences(this.preferencesMode),this.config.autoAdjustColumns&&(this.tq.flushing||this.tq.flushMicroTaskQueue(),this.adjustColumns(!1)),l.hidden=e.hidden,void 0!==e.allowUpdate&&(this.allowUpdate=e.allowUpdate&&!1!==l.allowUpdate),void 0!==e.allowDelete&&(this.allowDelete=e.allowDelete&&!1!==l.allowDelete),void 0!==e.allowInsert&&(this.allowInsert=e.allowInsert&&!1!==l.allowInsert),void 0!==e.allowImport&&(this.allowImport=e.allowImport&&!1!==l.allowImport),void 0!==e.allowStoredFilters&&!1!==l.allowStoredFilters&&(l.allowStoredFilters=e.allowStoredFilters,this.filterBarConfig.allowStoredFilters=e.allowStoredFilters),this.filterBarConfig.showFastFilter=this.allowFastFilter&&this.config.showFastFilter===C.GridFastFilterVisibility.FilterBar,e.dataKeyNames&&(this.dataKeyNames=e.dataKeyNames),(null===(r=e.quickFilterFields)||void 0===r?void 0:r.length)&&(this.config.quickFilterFields=e.quickFilterFields),void 0!==e.fastFilter&&(this.fastFilter=e.fastFilter),l.allowStoredFilters&&this.syncFiltersState(e),this.needAdjustPage()&&!this.pageAdjusted&&this.layoutLoaded)return this.adjustPageSize(),void(!this.screenService.initialized&&this.screenService.isValid||this.tq.queueTask((()=>this.getRows())));if(this.totalRowCount=e.totalRowCount,this.pageIndex=null!==(o=e.pageIndex)&&void 0!==o?o:0,this.isFirstPage=e.isFirstPage,this.isLastPage=e.isLastPage,this.pagesCount=this.getPagesCount(),this.endEdit(!0),this.rows=n?this.rows.concat(e.rows):e.rows?e.rows:[],this.setActiveRowFlag(this.activeRowIndex,!0),this.rowsHidden=!1,this.updateRowsCount=!this.updateRowsCount,this.adjustActiveRowIndex(),this.setTopBarButtonsState(),this.setPagerButtonsState(),this.searchValue&&(0===this.pageIndex||-1===this.pageIndex)){const e=this.getSearchField();e&&this.findRow(e,this.searchValue)}e.clearSearch&&this.clearSearch(),this.linkedWithView()&&(null===(i=this.view)||void 0===i||i.setRows(this.rows,this.columns),null===(a=this.view)||void 0===a||a.setActiveRow(this.hasRows?this.activeRowIndex:void 0)),this.fireActiveRowChanged(),this.tq.flushMicroTaskQueue(),this.tq.flushTaskQueue(),this.config.autoAdjustColumns&&this.adjustColumns(!1),this.restoreScrollPosition(),this.onDataReady&&this.onDataReady({grid:this,args:new QpGridEventArgs(this)}),this.needAdjustPage()&&this.layoutLoaded&&this.tq.queueTask((()=>this.adjustPage()))}applyCommitResult(e){var n,r,o;null===(n=e.inserted)||void 0===n||n.forEach((e=>this.commitRowChanges(e))),null===(r=e.modified)||void 0===r||r.forEach((e=>this.commitRowChanges(e)));let i=!1;null===(o=e.deleted)||void 0===o||o.reverse().forEach((e=>{e.affected?(this.deleteRow(e.index),i=!0):this.commitRowChanges(e)})),!this.adjustActiveRowIndex()&&i&&this.fireActiveRowChanged(),this.setTopBarButtonsState()}commitRowChanges(e,n){var r;const o=n||this.rows[e.index];if(null==o)return;const i=this.checkActiveCellEditorChanges(),a=this.rowIsWaitingForUpdate(o);a&&(delete o.waitRefetch,delete o.waitInit);const l=this.editMode&&e.index===this.activeRowIndex&&this.linkedWithView()&&this.view;for(const n in e.cells){const r=e.cells[n],i=o.cells[n],c=i.cellText,d=i.value;a&&i.manualInput&&(r.value=d,r.cellText=c),l&&r.hasOwnProperty("value")&&this.setActiveRowFieldValue(n,r.value);const u=this.getColumn(n);(null==u?void 0:u.state)&&Object.assign(i,u.state),Object.assign(i,r)}this.editMode&&e.index===this.activeRowIndex&&!i&&(this.updateEditorState=!this.updateEditorState,null===(r=this.inlineEditorVM)||void 0===r||r.selectContent()),this.editMode&&e.index===this.activeRowIndex&&this.config.autoRepaint&&(this.currentDataKey=this.getRowDataKey(o)),a||this.clearRowManualInput(o),this.clearRowChanges(o),o.status!==C.GridRowStatus.New&&(o.status=C.GridRowStatus.NotSet),o.error=e.error,o.errorLevel=e.errorLevel,this.forceRepaintRow(),this.view.fireRowsChanged()}syncFiltersState(e){var n;this.filtersLoaded;e.filters&&(this.filters=e.filters,this.setFavoriteInFilters(),null===(n=this.onFiltersChanged)||void 0===n||n.call(this,{args:new QpGridEventArgs(this)}),this.isSharedFiltersEditable=e.isSharedFiltersEditable,this.filtersLoaded=!0,this.filterBarConfig&&(this.filterBarConfig.isSharedEditable=this.isSharedFiltersEditable)),null!=e.filterID&&(this.filterID=e.filterID),null==this.filterID&&this.filters.length>0&&(this.filterID=this.filters[0].filterID),this.isDirtyFilter=e.isDirtyFilter,this.filterRows=e.filterRows||[],this.hasFilter=this.filterRows.some((e=>!(0,v.isEmptyFilter)(e))),this.isAdvancedFilter=(0,v.isAdvancedFilter)(this.filterRows),this.columns.forEach((e=>this.setColumnFilter(e)))}setFavoriteInFilters(){var e;const n=this.preferencesManager.favoriteFilters;null===(e=this.filters)||void 0===e||e.forEach((e=>e.isFavorite=null==n?void 0:n.includes(e.filterID)))}initializeColumns(e){const n=this.columns,r=this.config.generateColumns;r&&n.splice(0,n.length),this.config.suppressNoteFiles&&(e=e.filter((e=>e.key!==this.NotesKey&&e.key!==this.FilesKey))),this.onFilterColumns&&(e=e.filter((e=>this.onFilterColumns({col:e}))));const o=n.length>0;e.forEach(((e,i)=>{var a;const l=this.getColumn((0,v.getColumnKey)(e));if(l){const r=n.indexOf(l);r!==i&&(i>r&&i--,n.splice(i,0,n.splice(r,1)[0])),this.copyColumnInitialProps(l,e),this.copyColumnProps(l,e)}else if(r!==C.GridColumnGeneration.None||!o||e.generated){(0,D.applyDefaultValues)(e,I.defaultColumnConfig);const r=this.getColumnConfig(e);r&&(this.needSyncVisibleWithState(r)||(null===(a=e.state)||void 0===a?void 0:a.skip)||(e.visible=!0),Object.assign(e,r),this.updateManualColumnConfig((0,v.getColumnKey)(e),r)),n.splice(i>n.length?n.length:i,0,e)}}))}copyColumnInitialProps(e,n){const r=this.manualColumnsConfig[(0,v.getColumnKey)(e)];void 0!==n.type&&void 0===(null==r?void 0:r.type)&&(e.type=n.type),void 0!==n.caption&&void 0===(null==r?void 0:r.caption)&&(e.caption=n.caption),void 0!==n.dataType&&(e.dataType=n.dataType),void 0!==n.width&&void 0===(null==r?void 0:r.width)&&(e.width=n.width),void 0!==n.textAlign&&void 0===(null==r?void 0:r.textAlign)&&(e.textAlign=n.textAlign),void 0!==n.timeMode&&void 0===(null==r?void 0:r.timeMode)&&(e.timeMode=n.timeMode),void 0!==n.dateMask&&void 0===(null==r?void 0:r.dateMask)&&(e.dateMask=n.dateMask),void 0!==n.viewName&&(e.viewName=n.viewName),void 0!==n.maxLength&&void 0===(null==r?void 0:r.maxLength)&&(e.maxLength=n.maxLength),void 0!==n.valueItems&&void 0===(null==r?void 0:r.valueItems)&&(e.valueItems=n.valueItems),void 0!==n.commitChanges&&void 0===(null==r?void 0:r.commitChanges)&&(e.commitChanges=n.commitChanges),void 0!==n.allowNull&&(e.allowNull=n.allowNull),void 0!==n.allowFastFilter&&void 0===(null==r?void 0:r.allowFastFilter)&&(e.allowFastFilter=n.allowFastFilter),void 0!==n.allowShowHide&&void 0===(null==r?void 0:r.allowShowHide)&&(e.allowShowHide=n.allowShowHide),void 0!==n.generated&&(e.generated=n.generated),void 0!==n.suppressExport&&void 0===(null==r?void 0:r.suppressExport)&&(e.suppressExport=n.suppressExport),e.state||this.initColumnState(e,n.state)}copyColumnProps(e,n){const r=this.manualColumnsConfig[(0,v.getColumnKey)(e)];void 0!==n.visible&&this.needSyncVisibleWithState(e)&&(e.visible=n.visible),void 0!==n.required&&(e.required=n.required),void 0!==n.allowUpdate&&(e.allowUpdate=n.allowUpdate),void 0!==n.format&&void 0===(null==r?void 0:r.format)&&(e.format=n.format),void 0!==n.decimals&&void 0===(null==r?void 0:r.decimals)&&(e.decimals=n.decimals),void 0!==n.sortDirection&&(e.sortDirection=n.sortDirection),void 0!==n.valueItems&&(e.valueItems=n.valueItems),this.updateColumnState(e,n)}initColumnState(e,n){var r;if(e.state=(0,C.createFieldState)(void 0,e.field,null!==(r=null==n?void 0:n.stateType)&&void 0!==r?r:"default",null==n?void 0:n.args),n&&(Object.assign(e.state,n),e.state.applyOptions(),e.state.skip&&(e.visible=!1,e.allowShowHide=C.GridColumnShowHideMode.Client)),this.view){const n=this.view.getMetadataKeys(e.field);n&&n.forEach((n=>e.state[n]=this.view.getMetadata(e.field,n)))}}updateColumnState(e,n){e.state&&(void 0!==n.visible&&this.needSyncVisibleWithState(e)&&(e.state.visible=n.visible),void 0!==n.required&&(e.state.required=n.required),void 0!==n.allowUpdate&&(e.state.readOnly=!n.allowUpdate),void 0!==n.format&&(e.state.inputMask=n.format),void 0!==n.decimals&&(e.state.precision=n.decimals))}getColumnConfig(e){var n,r;const o=(0,v.getColumnKey)(e),i=null===(n=this.config.columnsConfig)||void 0===n?void 0:n.find((e=>(0,D.compareStrings)((0,v.getColumnKey)(e),o,!0)));e.state&&this.initColumnState(e,e.state);const a=null===(r=e.state)||void 0===r?void 0:r.columnConfig;return i||a?Object.assign(Object.assign({},i),a):void 0}needSyncVisibleWithState(e){return e.allowShowHide!==C.GridColumnShowHideMode.Client&&e.allowShowHide!==C.GridColumnShowHideMode.False}updateManualColumnConfig(e,n){if(n){let r=this.manualColumnsConfig[e];r||(this.manualColumnsConfig[e]=r={field:e}),Object.assign(r,n)}}getMoreRows(e,n,r){this.config.pagerMode===C.GridPagerMode.InfiniteScroll&&n&&!this.isLastPage&&this.getRows(!0)}rowsChanged(){const e=this.elemContentWrap;e&&this.tq.queueMicroTask((()=>this.hasVScroll=e.scrollHeight>e.offsetHeight))}get hasRows(){return this.rows&&this.rows.length>0}get isInfiniteScrollAllowed(){return this.config.pagerMode===C.GridPagerMode.InfiniteScroll&&!this.config.adjustPageSize}get isFilterBarAllowed(){return!!this.config.allowFilter&&!!this.config.showFilterBar&&!!this.config.allowStoredFilters}get showBottomBar(){return this.showPager||this.showRecordsCounter||!!this.statusText}get showPager(){var e;let n=this.config.pagerMode!==C.GridPagerMode.InfiniteScroll&&(null!==(e=this.config.pageSize)&&void 0!==e?e:0)>=0;return n&&!this.config.adjustPageSize&&(n=!this.isFirstPage||!this.isLastPage),n}get showRecordsCounter(){return this.config.pagerMode===C.GridPagerMode.Numeric&&this.hasRows}adjustPagerMode(){this.isInfiniteScrollAllowed||this.config.pagerMode!==C.GridPagerMode.InfiniteScroll||(this.config.pagerMode=I.defaultConfig.pagerMode)}get gridId(){return this.getViewName()||this.id}getColumn(e){return this.columns.find((n=>(0,D.compareStrings)((0,v.getColumnKey)(n),e,!0)))}getColumnIndex(e){return this.columns.findIndex((n=>(0,D.compareStrings)((0,v.getColumnKey)(n),e,!0)))}getColumnVisibleIndex(e){return this.visibleCols.findIndex((n=>(0,D.compareStrings)((0,v.getColumnKey)(n),e,!0)))}getColumnKey(e){return(0,v.getColumnKey)(e)}getColumnDisplayText(e,n){return(0,v.getColumnDisplayText)(e,n)}focus(){this.elemContentWrap.focus()}setSortDirection(e,n){this.columns.forEach((n=>{n!==e&&(n.sortDirection=void 0)})),this.clearSearch(),e.sortDirection=n,this.refresh()}switchSortDirection(e){if(this.config.allowSort&&(null==e?void 0:e.allowSort)){let n=e.sortDirection;switch(e.sortDirection){case C.SortDirection.Ascending:n=C.SortDirection.Descending;break;case C.SortDirection.Descending:n=C.SortDirection.None;break;default:n=C.SortDirection.Ascending}this.setSortDirection(e,n)}}selectRowsRange(e,n){if(void 0!==n&&n<e){const r=e;e=n,n=r}let r=e;do{this.setRowSelected(r++,!0)}while(void 0!==n&&r<=n)}setRowSelected(e,n){const r=this.rows[e],o=!!(null==r?void 0:r.selected);r&&n!==o&&(r.selected=n,this.forceRepaintRow(e))}clearRowsSelection(){var e;null===(e=this.rows)||void 0===e||e.forEach(((e,n)=>{e.selected&&(e.selected=!1,this.forceRepaintRow(n))}))}saveLayout(){var e,n,o;return r.__awaiter(this,void 0,void 0,(function*(){if(!this.linkedWithView())return;const r=this.viewMode===S.ViewMode.Edit?null===(e=this.preferences)||void 0===e?void 0:e.def:null===(n=this.preferences)||void 0===n?void 0:n.user;let i=0;const a=null===(o=this.columns)||void 0===o?void 0:o.map((e=>{var n,o,a,l,c,d,u,p,b;const g=(0,v.getColumnKey)(e),m=null!==(o=null===(n=this.changedPrefs.get(g))||void 0===n?void 0:n.visible)&&void 0!==o?o:null===(a=this.getColumnPreferences(e,null==r?void 0:r.columns))||void 0===a?void 0:a.visible,f=null!==(c=null===(l=this.changedPrefs.get(g))||void 0===l?void 0:l.skipTab)&&void 0!==c?c:null===(d=this.getColumnPreferences(e,null==r?void 0:r.columns))||void 0===d?void 0:d.skipTab,y=null!==(p=null===(u=this.changedPrefs.get(g))||void 0===u?void 0:u.width)&&void 0!==p?p:null===(b=this.getColumnPreferences(e,null==r?void 0:r.columns))||void 0===b?void 0:b.width;return{dataField:g,visible:m,order:i++,width:y,sortOrder:e.sortDirection,skipTab:f}})),l=new GridPreferences;l.columns=a,this.isSavingLayout=!0,this.viewMode===S.ViewMode.Edit?(this.preferencesService.setPreferences(this.gridId,l,"def"),this.isSavingLayout=!1):this.preferencesService.saveUserPreferences(this.getScreenID(),this.gridId,l).then((e=>{e&&(this.changedPrefs.clear(),this.config.autoAdjustColumns&&this.adjustColumns(!1))})).finally((()=>this.isSavingLayout=!1))}))}resetLayout(){return r.__awaiter(this,void 0,void 0,(function*(){this.linkedWithView()&&this.hasSavedLayout&&(this.viewMode===S.ViewMode.Edit?(this.preferencesService.setPreferences(this.gridId,new GridPreferences,"def"),this.changedPrefs.clear()):(yield this.preferencesService.saveUserPreferences(this.getScreenID(),this.gridId,new GridPreferences),this.changedPrefs.clear(),this.needAdjustPage()?this.adjustPage():this.config.autoAdjustColumns&&this.adjustColumns(!1)))}))}navigate(e,n){return r.__awaiter(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign(Object.assign({},this.getBaseQueryParams()),{syncPosition:this.config.syncPosition,parameters:this.config.parameters,dataKey:this.config.syncPosition?this.getRowDataKey(this.getActiveRow()):void 0}),{field:e.field,value:(0,v.getRawCellValue)(n)});if(r.dataView=r.view,r.view=e.viewName,r.field&&r.value){const e=yield this.apiClient.navigate(this.getScreenID(),r);e&&this.redirector.openUrl(e,"",!1,!0)}}))}adjustActiveRowIndex(){if(this.hasRows){if(this.activeRowIndex<0)this.activeRowIndex=0;else if(this.activeRowIndex>=this.rows.length)return this.setActiveRowIndex(this.rows.length-1),!0}else this.activeRowIndex=-1;return!1}adjustActiveCellIndex(){var e;(0===this.activeCellIndex||this.activeCellIndex>=(null===(e=this.visibleCols)||void 0===e?void 0:e.length))&&(this.activeCellIndex=this.getAdjoiningCellIndex(!1,-1)||0)}setActiveRowIndex(e,n=!1,r){var o;if(e!==this.activeRowIndex){if(!this.onBeforeRowChange(e))return;if(n){const n=this.getRowElem(e);if(n)this.scrollIntoView(n,C.ScrollMode.Vertical);else{const n=this.elemRows.querySelector("tr[data-index]");n&&(this.elemContentWrap.scrollTop=n.offsetHeight*e,this.tq.flushMicroTaskQueue())}}this.activeRowIndex=e,void 0!==r&&(this.activeCellIndex=r),this.setTopBarButtonsState(),this.linkedWithView()&&(null===(o=this.view)||void 0===o||o.setActiveRow(this.activeRowIndex)),this.fireActiveRowChanged()}else void 0!==r&&this.setActiveCellIndex(r,n)}onBeforeRowChange(e){return this.editMode&&this.commitActiveRowChanges(),!0}fireActiveRowChanged(){let e;if(this.onActiveRowChanged&&this.onActiveRowChanged({args:new QpGridEventArgs(this)}),this.config.autoRepaint instanceof C.ScreenUpdateParams?e=this.config.autoRepaint:this.config.autoRepaint&&(e=new C.ScreenUpdateParams({views:this.config.autoRepaint})),e&&this.screenService.initialized){const n=this.getRowDataKey(this.getActiveRow());if(JSON.stringify(this.currentDataKey)!==JSON.stringify(n)){const r=this.getViewName();if(r&&e.views){e.views.find((e=>(0,D.compareStrings)(e,r,!0)))||e.views.push(r)}this.currentDataKey=n,this.suppressSelection=!0,this.screenService.update(void 0,e).finally((()=>this.suppressSelection=!1))}}}getActiveRow(){return this.hasRows?this.rows[this.activeRowIndex]:void 0}getActiveCell(){var e;const n=this.getActiveColumn();return n?null===(e=this.getActiveRow())||void 0===e?void 0:e.cells[n.field]:void 0}getActiveColumn(){return this.visibleCols[this.activeCellIndex]}getCell(e,n){return null==n?void 0:n.cells[this.getColumnKey(e)]}setActiveCellIndex(e,n=!0){if(this.activeCellIndex!==e){if(!this.onBeforeCellChange(e))return;if(n){const n=this.getRowElem(this.activeRowIndex),r=0===e||!this.getAdjoiningCellIndex(this.editMode,e,!0),o=null==n?void 0:n.cells[r?0:this.getColumnCellIndex(e)];this.scrollIntoView(o)}this.activeCellIndex=e,this.setTopBarButtonsState()}}onBeforeCellChange(e){return this.editMode&&this.commitActiveCellChanges(!0),!0}getNextRowIndex(){let e=this.activeRowIndex;return e<this.rows.length-1?++e:void 0}getPrevRowIndex(){let e=this.activeRowIndex;return e>0?--e:void 0}getNextCellIndex(e=!1){return this.getAdjoiningCellIndex(e,this.activeCellIndex,!1)}getPrevCellIndex(e=!1){return this.getAdjoiningCellIndex(e,this.activeCellIndex,!0)}getAdjoiningCellIndex(e,n,r=!1){const o=r?-1:1;let i,a=n;const l=this.getActiveRow();for(;r&&a>0||!r&&a<this.visibleCols.length-1;){i=this.visibleCols[a+=o];const n=this.getCell(i,l);if(i.allowFocus&&(!e||!this.isCellReadOnly(n,i)&&!i.skipTab))break}return a===n||!(null==i?void 0:i.allowFocus)||(null==i?void 0:i.skipTab)?void 0:a}beginEdit(){if(!this.editMode&&this.activeRowIndex>=0){const e=this.isNewRowActive;(e&&this.allowInsert||!e&&this.allowUpdate)&&(this.editMode=!0,this.view&&(this.view.viewInUpdateProcess=!0))}}endEdit(e=!1){this.editMode&&(e?this.cancelActiveRowChanges():this.commitActiveRowChanges(),this.exitEditMode(),this.adjustActiveRowIndex())}exitEditMode(e=!0){this.editMode&&(this.editMode=!1,this.view&&(this.view.viewInUpdateProcess=!1),this.activeCellState=void 0,e&&this.focus())}cancelActiveRowChanges(){const e=this.getActiveRow();e&&this.editMode&&(e.status===C.GridRowStatus.New?this.deleteActiveRow(!1):this.clearRowChanges(e,!0))}commitActiveRowChanges(e){const n=this.getActiveRow();if(n&&this.editMode){this.commitActiveCellChanges();let r=n.changed;r&&n.waitRefetch&&(r=this.rowHasManualInputChanges(n)),r?this.updateActiveRow(e):n.status===C.GridRowStatus.New&&this.deleteActiveRow(!1,e)}}commitActiveCellChanges(e=!1){const n=this.activeCellState;if(!this.editMode||!n||n.readOnly)return;const r=this.getActiveRow(),o=this.getActiveColumn();r&&o&&(this.forceCellEditorUpdate(),this.updateCellValue(r,o,n.value,e))}checkActiveCellEditorChanges(){const e=this.activeCellState;if(!this.editMode||!e||e.readOnly)return!1;const n=this.getActiveRow(),r=this.getActiveColumn();if(n&&r&&this.rowIsWaitingForUpdate(n)){const o=n.cells[(0,v.getColumnKey)(r)];if(!o||o.readOnly)return!1;this.forceCellEditorUpdate();const i=this.getTypedCellValue(o,r);if(o&&!this.valuesEquals(i,e.value))return o.manualInput=!0}return!1}clearRowChanges(e,n=!1){let r=!1;for(const o of this.visibleCols){const i=e.cells[(0,v.getColumnKey)(o)];i.changed&&(n&&this.cancelCellChanges(i,o),i.manualInput?r=!0:(delete i.oldValue,delete i.changed))}r||delete e.changed}cancelCellChanges(e,n){void 0!==e.oldValue&&this.setCellValue(e,n,e.oldValue),delete e.manualInput}updateCellValue(e,n,r,o=!1){const i=e.cells[(0,v.getColumnKey)(n)];if(!i||this.isCellReadOnly(i,n))return!1;const a=this.getTypedCellValue(i,n);if(i&&!this.valuesEquals(a,r)){void 0===i.oldValue&&(i.oldValue=a),i.changed=e.changed=!0;const l=this.rowIsWaitingForUpdate(e);return this.setCellValue(i,n,r),l&&(i.manualInput=!0),o&&n.commitChanges&&this.updateRow(e),!0}return!1}setCellValue(e,n,r){e.value=r,e.cellText=(0,v.getColumnDisplayText)(n,r,e),this.setActiveRowFieldValue(n.field,r)}switchCheckState(e,n,r){this.cellIsCheckBox(e,n)&&!this.isCellReadOnly(e,n)&&(this.editMode?this.updateCellValue(r,n,!e.value,!0):(n.allowCheckAll||this.allowUpdate)&&this.updateCellValue(r,n,!e.value)&&this.updateRow(r))}switchColumnCheckState(e,n){var r;if(!e.allowUpdate)return;let o=!1;const i=this.config.batchUpdate;e.checked=void 0!==n?n:!e.checked,this.config.batchUpdate||(this.config.batchUpdate=!0,this.isMassUpdating=!0),null===(r=this.rows)||void 0===r||r.forEach((n=>{this.updateCellValue(n,e,e.checked)&&(this.updateRow(n),o=!0)})),this.config.batchUpdate=i,this.isMassUpdating=void 0,o&&!i&&this.updateScreen()}setActiveRowFieldValue(e,n){var r,o;if(!this.linkedWithView()||!(null===(o=null===(r=this.view)||void 0===r?void 0:r.activeRow)||void 0===o?void 0:o.hasOwnProperty(e)))return;const i=this.view.activeRow[e];i&&(i.value=n)}forceCellEditorUpdate(){this.updateEditorValue=!0,this.tq.flushing||this.tq.flushMicroTaskQueue(),this.updateEditorValue=!1}getCurrentEditorType(){var e;return null===(e=this.inlineEditorVM)||void 0===e?void 0:e.getControlType()}clearRowManualInput(e){for(const n of this.visibleCols){const r=e.cells[(0,v.getColumnKey)(n)];r&&delete r.manualInput}}rowHasManualInputChanges(e){let n=!1;if(e.changed&&e.waitRefetch)for(const r of this.visibleCols){const o=e.cells[(0,v.getColumnKey)(r)];if(o.changed&&o.manualInput){n=!0;break}}return n}rowIsWaitingForUpdate(e){return!(!e.waitInit&&!e.waitRefetch)}deleteActiveRow(e=!0,n){if(this.hasRows&&this.allowDelete){const r=this.getActiveRow();if(!r)return;void 0===n&&(n=!this.config.batchUpdate),this.editMode&&this.exitEditMode(),this.isClientNewRow(r)?(this.deleteRow(this.activeRowIndex),e&&(this.adjustActiveRowIndex()||this.fireActiveRowChanged())):(r.status=C.GridRowStatus.Deleted,n&&this.updateScreen())}}deleteRow(e){void 0!==e&&e>=0&&(this.rows.splice(e,1),this.setTopBarButtonsState())}deleteSelectedRows(){var e;if(!this.allowDelete)return;if(!this.rows.some((e=>e.selected)))return this.deleteActiveRow();let n=!1;null===(e=this.rows)||void 0===e||e.forEach(((e,r)=>{e.selected&&(this.isClientNewRow(e)?this.deleteRow(r):(e.status=C.GridRowStatus.Deleted,n=!0))})),n&&(this.isMassUpdating=!0,this.updateScreen().finally((()=>this.isMassUpdating=void 0)))}updateActiveRow(e){if(this.allowUpdate){const n=this.getActiveRow();n&&this.updateRow(n,e)}}updateRow(e,n){e&&e.changed&&(void 0===n&&(n=!this.config.batchUpdate),e.status=this.isClientNewRow(e)?C.GridRowStatus.Inserted:C.GridRowStatus.Modified,n&&(this.rowIsWaitingForUpdate(e)||this.clearRowManualInput(e),e.waitRefetch=!0,this.updateScreen()))}updateScreen(){return this.screenService.model.setDirty(),this.screenService.update(void 0,new C.ScreenUpdateParams({requestOwner:this.id}))}removeAllRows(){var e;if((null===(e=this.rows)||void 0===e?void 0:e.length)&&this.allowDelete){for(const e of this.rows)e.status=C.GridRowStatus.Deleted;this.updateScreen()}}addNewRow(e=!0,n=!1){if(!this.allowInsert)return;if(this.screenService.callbackRunning)return void this.screenService.registerPostponedTask((()=>this.addNewRow(e,n)));const r=n?this.activeRowIndex:this.rows.length,o=this.createNewRow();o.index=r,this.rows.splice(r,0,o),this.tq.flushMicroTaskQueue(),n||this.getRowElem(r)||(this.elemContentWrap.scrollTop=this.elemContentWrap.scrollHeight,this.tq.flushMicroTaskQueue());const i=e?this.getAdjoiningCellIndex(!0,-1):void 0;this.setActiveRowIndex(r,!0,i),this.editMode||this.beginEdit(),this.config.initNewRow&&this.initNewRow(),this.setTopBarButtonsState();const a=new CustomEvent("virtual-repeat-scroller-size-changed",{bubbles:!1});this.elemContentWrap.dispatchEvent(a)}createNewRow(){const e={status:C.GridRowStatus.New,cells:{}};return this.columns.forEach((n=>{const r=n.field||n.key;if(r){const o=(0,v.getColumnDefaultValue)(n),i=new C.GridCell;n.state&&Object.assign(i,n.state),i.value=o,i.cellText=(0,v.getColumnDisplayText)(n,o),i.readOnly=!n.allowUpdate,e.cells[r]=i}})),e}initNewRow(){const e=this.getActiveRow();if(e&&e.status===C.GridRowStatus.New){const n=this.columns.map((e=>({field:e.field,key:e.key,type:e.type,fullState:e.fullState,nullText:e.nullText}))),r={id:e.id,index:e.index,values:[]};for(const n in e.cells){const o=e.cells[n];null!=o.value&&r.values.push({field:n,value:o.value})}const o=Object.assign(Object.assign({},this.getBaseQueryParams()),{columns:n,row:r});e.waitInit=!0,this.apiClient.initNewGridRow(this.getScreenID(),o).then((n=>{n&&(e.id=n.id,this.commitRowChanges(n,e))}))}}isClientNewRow(e){return e.status===C.GridRowStatus.New&&!this.config.initNewRow}get isNewRowActive(){const e=this.getActiveRow();return(null==e?void 0:e.status)===C.GridRowStatus.New}get createNewAllowed(){var e;return this.allowInsert&&(!this.isNewRowActive||(null===(e=this.getActiveRow())||void 0===e?void 0:e.changed))}get freeHeight(){return this.elemContentWrap.clientHeight-this.elemRows.clientHeight}get freeWidth(){return this.elemContentWrap.clientWidth-this.elemRows.clientWidth}processEditKeyDown(e){switch(e.key){case"Escape":return this.endEdit(!0),!1;case"Right":case"ArrowRight":case"Left":case"ArrowLeft":case"Home":case"End":case"Insert":case"Delete":case"PageDown":case"PageUp":e.stopPropagation();break;case"Enter":e.ctrlKey?this.endEdit():e.altKey||(this.processEditorTabKey(e.shiftKey),e.stopPropagation());break;case"Tab":return this.processEditorTabKey(e.shiftKey),e.stopPropagation(),!1}return!0}processEditorTabKey(e=!1){var n;let r=e?this.getPrevCellIndex(!0):this.getNextCellIndex(!0);if(void 0===r){const n=e?this.getPrevRowIndex():this.getNextRowIndex();void 0!==n&&n!==this.activeRowIndex&&(r=this.getAdjoiningCellIndex(!0,e?this.visibleCols.length:-1,e),this.setActiveRowIndex(n,!1,r))}void 0!==r?this.setActiveCellIndex(r):!e&&this.allowInsert&&(this.commitActiveCellChanges(),this.isNewRowActive&&!(null===(n=this.getActiveRow())||void 0===n?void 0:n.changed)||this.addNewRow())}processDropDownSelected(e){const n=this.getNextCellIndex(!0);void 0!==n?this.setActiveCellIndex(n):this.commitActiveCellChanges(!0)}getBaseQueryParams(){return{view:this.getViewName()}}getRawCellValue(e){return(0,v.getRawCellValue)(e)}getCellDataType(e,n){var r;return null!==(r=null==e?void 0:e.type)&&void 0!==r?r:n.dataType}isCellReadOnly(e,n){return null!=(null==e?void 0:e.readOnly)?e.readOnly:!n.allowUpdate}cellIsCheckBox(e,n){return this.getCellDataType(e,n)===C.NetType.Boolean}setActiveCellState(e,n){return this.activeCellState=this.getCellState(e,n)}getCellState(e,n){var r,o,i,a,l,c,d;const u=null!==(i=null!==(r=e.stateType)&&void 0!==r?r:null===(o=n.state)||void 0===o?void 0:o.stateType)&&void 0!==i?i:"default",p=null!==(a=null==e?void 0:e.args)&&void 0!==a?a:null===(l=n.state)||void 0===l?void 0:l.args,b=null===(c=this.view)||void 0===c?void 0:c.activeRow,g=(0,C.createFieldState)(void 0,n.field,u,p);Object.assign(g,n.state),Object.assign(g,e),b&&(b.name=this.viewName),g.view=b,g.applyOptions();const m=null===(d=this.view)||void 0===d?void 0:d.getMetadataKeys(n.field);return m&&m.forEach((e=>g[e]=this.view.getMetadata(n.field,e))),(n.displayMode===C.GridColumnDisplayMode.Text||n.textField&&n.displayMode!==C.GridColumnDisplayMode.Both)&&(g.length=0,g.selectorMode|=C.PXSelectorMode.DisplayModeText),g.readOnly=this.isCellReadOnly(e,n),g.value=this.getTypedCellValue(e,n),g}getTypedCellValue(e,n){return e.value&&e.value.id?e.value:(0,v.getTypedValue)(n,e.value,e.type)}valuesEquals(e,n){return(0,D.equals)((0,D.getRawValue)(e),(0,D.getRawValue)(n))}getRowDataKey(e){if(e){const n={};if(this.dataKeyNames)for(const r of this.dataKeyNames){const o=e.cells[r];n[r]=(0,D.getRawValue)(o.value)}return n}}setTopBarButtonsState(){var e,n;if(!this.config.topBarItems&&this.view&&this.view.actionNames){const e={};this.view.actionNames.forEach((n=>{this.view[n]&&(e[n]={config:{state:this.view[n]}})})),this.topBarConfig.items=Object.assign(Object.assign({},e),this.initialTopBarConfigItems)}const r=this.topBarConfig.items;r.delete.config.hidden=!this.allowDelete,r.insert.config.hidden=!this.allowInsert;const o=this.btnToggleFilterConfig;o.pushed=this.showFilterBar,o.images={normal:"svg:main@filter"+(this.hasFilter?"Little":"")},o.images.pushed=o.images.hover=o.images.normal,this.btnToggleFilterVM&&(this.btnToggleFilterVM.pushed=this.showFilterBar,this.btnToggleFilterVM.styleChanged=!this.btnToggleFilterVM.styleChanged),o.text=this.isAllRecordsFilter()?"":null===(e=this.getActiveFilter())||void 0===e?void 0:e.filterName,r.delete.config.disabled=!this.allowDelete||!this.hasRows,r.insert.config.disabled=!this.createNewAllowed,r.exportToExcel.config.disabled=!(null===(n=this.rows)||void 0===n?void 0:n.length),r.import.config.hidden=!(this.allowImport&&(this.allowInsert||this.allowUpdate)),this.applyActionsConfig(r),this.topBarConfig.changed=!0,this.injectToolbarIntoScreenOne(),this.repaintStatusText()}applyActionsConfig(e){if(this.config.actionsConfig)for(const n in this.config.actionsConfig){if(!e[n])continue;const r=this.config.actionsConfig[n];void 0!==r.index&&(e[n].index=r.index),Object.assign(e[n].config,r)}}repaintStatusText(){if(this.config.statusField){const e=this.getActiveRow();this.statusText=e?e.cells[this.config.statusField].cellText:void 0}}getColHeaderIcon(e,n){if(null!=n){let n="control-Filter";switch(e){case C.SortDirection.Ascending:n+="SortAsc";break;case C.SortDirection.Descending:n+="SortDesc"}return n}return null!=e&&e!==C.SortDirection.None?e===C.SortDirection.Ascending?"control-SortAsc":"control-SortDesc":""}getColAlign(e){switch(e){case C.TextAlign.Center:return"center";case C.TextAlign.Right:return"right";case C.TextAlign.Justify:return"justify"}return null}getRowSelectorImage(e,n,r,o,i){if(o&&i){const e=this.getErrorImage(o,i,!0);if(e)return e}let a=this.activeRowIndex===n?"CurrentRow":"";if(this.config.batchUpdate&&!this.isMassUpdating)switch(r){case C.GridRowStatus.New:a="NewRow";break;case C.GridRowStatus.Inserted:a="RowInserted";break;case C.GridRowStatus.Modified:a="RowModified";break;case C.GridRowStatus.Deleted:a="RowDeleted"}return a}getErrorImage(e,n,r){const o=this.getRowErrorInfo(e,n,!r);switch(null==o?void 0:o.level){case C.PXErrorLevel.Error:case C.PXErrorLevel.RowError:return"Error";case C.PXErrorLevel.Warning:case C.PXErrorLevel.RowWarning:return"Warning";case C.PXErrorLevel.RowInfo:return"Info"}}getRowErrorInfo(e,n,r){let o;if(r)switch(n){case C.PXErrorLevel.Error:case C.PXErrorLevel.Warning:o=e}else switch(n){case C.PXErrorLevel.RowError:case C.PXErrorLevel.RowWarning:case C.PXErrorLevel.RowInfo:o=e}return o?{level:n,text:o}:void 0}getRowErrorLevel(e,n,r){var o;return null===(o=this.getRowErrorInfo(e,n,r))||void 0===o?void 0:o.level}getRowErrorText(e,n,r){var o;return null===(o=this.getRowErrorInfo(e,n,r))||void 0===o?void 0:o.text}getCellRenderType(e,n,r){return this.getCellDataType(n,e)===C.NetType.Boolean?"check-box":e.type===C.GridColumnType.Icon?"icon":e.type===C.GridColumnType.HyperLink||this.hasViewLink(e)&&r?"link":"text"}hasViewLink(e){var n;return e.linkCommand||(null===(n=e.state)||void 0===n?void 0:n.linkCommand)||e.viewName&&!e.hideViewLink}getCellCss(e,n){var r,o,i;if(!this.rows||0===this.rows.length||isNaN(e)||e>=this.rows.length||n>=this.visibleCols.length)return"";let a=this.activeCellIndex===n&&this.activeRowIndex===e?this.editMode?"edit":"active":"";const l=this.rows[e],c=this.visibleCols[n],d=(0,v.getColumnKey)(c),u=l.cells[d];if(!u)return a;switch(u.errorLevel){case C.PXErrorLevel.Error:a+=" error";break;case C.PXErrorLevel.Warning:a+=" warning"}const p=this.getColAlign(c.textAlign);if(a+=p?` qp-align-${p}`:" qp-align-left",!0===this.isCellReadOnly(u,c)&&(a+=" read-only"),u.style&&(a+=` ${u.style}`),n<this.visibleCols.length&&e<this.rows.length&&(null===(r=this.view)||void 0===r?void 0:r.cssCustomization.hasCustomCssHandlers(C.CustomEventType.GetCellCss))){const r=null===(o=this.view)||void 0===o?void 0:o.getRowModel(e),l=null===(i=this.view)||void 0===i?void 0:i.cssCustomization.getCustomCellCss(this.view,d,{rowIndex:e,activeRowIndex:this.activeRowIndex,errorLevel:u.errorLevel,error:u.error,row:r,cellValue:this.getTypedCellValue(u,this.visibleCols[n])});l&&(a+=` ${l}`)}return a}getRowCss(e){var n,r,o,i,a;if(!this.rows||0===this.rows.length)return"";let l=this.activeRowIndex===e?this.editMode?"edit":"active":"";const c=null===(n=this.rows[e])||void 0===n?void 0:n.style;if(c&&(l+=` ${c}`),(null===(r=this.rows[e])||void 0===r?void 0:r.selected)&&(l+=" selected"),e<this.rows.length&&(null===(o=this.view)||void 0===o?void 0:o.cssCustomization.hasCustomCssHandlers(C.CustomEventType.GetRowCss))){const n=null===(i=this.view)||void 0===i?void 0:i.getRowModel(e),r=null===(a=this.view)||void 0===a?void 0:a.cssCustomization.getCustomCss(C.CustomEventType.GetRowCss,this.view,{rowIndex:e,activeRowIndex:this.activeRowIndex,row:n});r&&(l+=` ${r}`)}return l}fillVisibleColumns(){if(void 0===this.columns)return;const e=this.columns.filter((e=>!1!==e.visible));this.visibleCols.splice(0,this.visibleCols.length,...e),this.adjustActiveCellIndex()}fillPreferences(e,n){var r,o,i;if(!(null===(r=this.columns)||void 0===r?void 0:r.length)||!this.preferences)return;n&&(null===(o=this.initialColumns)||void 0===o?void 0:o.length)&&this.restoreInitialColumns();const a=this.getPreferences(e);(null===(i=null==a?void 0:a.columns)||void 0===i?void 0:i.length)&&this.loadColumnsPreferences(this.columns,a.columns)}markFilterText(e,n){return(0,D.markHighlights)(this.getAllowFastFilter(e)?this.fastFilter:"",n)}getAllowFastFilter(e){let n=e.allowFastFilter;return this.config.fastFilterByAllFields&&void 0===n&&e.dataType===C.NetType.String&&(n=!0),n}isFastFilterEnabled(){return this.columns.some((e=>this.getAllowFastFilter(e)))}focusFastFilter(){var e,n;this.topBarFastFilter?null===(e=this.topBarFastFilter.elemText)||void 0===e||e.focus():null===(n=this.filterBarVM)||void 0===n||n.focusFastFilter()}getColumnCellIndex(e){const n="string"==typeof e?this.getColumnVisibleIndex(e):e;return this.config.showRowSelectors?n+1:n}getRowElem(e){return this.elemRows.querySelector(`tr[data-index="${e}"]`)}getColHeaderElem(e){const n="string"==typeof e?void 0:e;return this.elemHeaderTable.tHead.rows[0].cells[this.getColumnCellIndex(null!=n?(0,v.getColumnKey)(n):e)]}scrollIntoView(e,n=C.ScrollMode.Both){e&&(0,D.scrollToView)(this.elemContentWrap,e,n)}fireDefaultAction(){this.onDefaultAction&&this.onDefaultAction({args:new QpGridEventArgs(this)})}execDefaultAction(){this.allowUpdate?this.beginEdit():this.config.defaultAction?this.screenService.executeCommand(this.config.defaultAction):this.fireDefaultAction()}isCellLeftPart(e){let n=e.target;"TH"!==n.tagName&&(n=n.parentElement);const r=n.getBoundingClientRect();return e.clientX+1<r.left+r.width/2}createFakeRow(){const e={cells:{},fake:!0};return this.columns.forEach((n=>{var r,o;const i=n.type===C.GridColumnType.Icon;let a=i?"control@RowNote":"abc";i&&(null===(o=null===(r=n.valueItems)||void 0===r?void 0:r.items)||void 0===o?void 0:o.length)&&(a=(0,v.getColumnDisplayText)(n,(0,v.getTypedValue)(n,n.valueItems.items[0].value)));const l=new C.GridCell;l.value="1",l.cellText=a,l.readOnly=!0,e.cells[(0,v.getColumnKey)(n)]=l})),this.rows=[e],e}clearSearch(){this.searchField=void 0,this.searchValue=void 0}getSearchField(){return this.searchField?this.searchField:this.dataKeyNames?this.dataKeyNames[this.dataKeyNames.length-1]:void 0}findRow(e,n){if(!e||!this.rows)return-1;const r=this.getColumn(e);if(!r)return-1;const o=(0,D.netTypeConvert)(n,r.dataType);let i=!1;const a=r.dataType===C.NetType.String;let l=0;for(;l<this.rows.length;l++){const e=this.rows[l].cells[r.field],n=(0,D.netTypeConvert)((0,D.getRawValue)(e.value),r.dataType);if(i=a?(0,D.compareStrings)(o,n,!0):i=(0,D.equals)(o,n),i)break}return i?(this.setActiveRowIndex(l,!0),l):-1}getActiveFilter(){var e;return null===(e=this.filters)||void 0===e?void 0:e.find((e=>e.filterID===this.filterID))}setActiveFilter(e){this.onFilterApplied(this.fastFilter,e)}getFilters(){return this.filters}isClientFilter(e){const n=e||this.filterID;return!n||n<=f.QpFilterBarCustomElement.minFilterID}isAllRecordsFilter(e){const n=e||this.filterID;return!n||n===f.QpFilterBarCustomElement.clientFilterID}getFilterRow(e){var n;return null===(n=this.filterRows)||void 0===n?void 0:n.slice().reverse().find((n=>(0,D.compareStrings)(n.field,e,!0)))}isEmptyFilter(e){return null==e||null==e.condition||"EQ"===e.condition&&null==e.value}setColumnFilter(e){const n=this.getFilterRow(e.field);e.filter=this.isEmptyFilter(n)?void 0:n}applyFastFilter(e){this.loadingStatus="will-load",clearTimeout(this.debounceState.timeoutId),this.debounceState.timeoutId=setTimeout((()=>{this.onFilterApplied(e.target.value,this.filterID)}),this.debounceState.delay)}applyFilterRow(e,n,r=!1){if(this.config.allowStoredFilters&&this.filterRows){const o=r?void 0:this.getFilterRow(e.field);o?n=(0,v.copyFilterRow)(o,n):n&&(this.isAdvancedFilter&&!(0,v.orOperatorsBraced)(this.filterRows)&&((0,v.addOpenBrackets)(this.filterRows[0],1),(0,v.addCloseBrackets)(this.filterRows[this.filterRows.length-1],1)),this.filterRows.push(n),this.isAdvancedFilter&&(0,v.normalizeBrackets)(this.filterRows))}this.onFilterRowApplied(e,n)}onFilterApplied(e,n){return r.__awaiter(this,void 0,void 0,(function*(){this.fastFilter=e,this.filterID=n,e&&(this.setPageIndex(0),this.clearSearch()),yield this.refresh()}))}onSortApplied(e,n){this.setSortDirection(e,n)}onFilterSave(e,n){this.saveFilter(n,!1,e)}onFilterRemove(e){this.removeFilter(e)}onFilterOrderChanged(){this.saveFiltersOrder()}onFilterFavoriteChanged(e,n){n?this.preferencesManager.addFavouriteFilter(e):this.preferencesManager.deleteFavouriteFilter(e)}onFastFilter(e){return r.__awaiter(this,void 0,void 0,(function*(){yield this.onFilterApplied(e,this.filterID)}))}onFastFilterKeyDown(e){switch(e.key){case"Down":case"ArrowDown":case"Up":case"ArrowUp":case"Enter":case"PageDown":case"PageUp":return this.focus(),this.processKeyDown(e),!1}return!0}onFilterRowApplied(e,n){return r.__awaiter(this,void 0,void 0,(function*(){this.busyCounter.increment();try{e.filter=this.isEmptyFilter(n)?void 0:n,this.config.allowStoredFilters&&(yield this.saveFilter(!1,!0)),this.refresh()}finally{this.busyCounter.decrement()}}))}onFilterRowRemoved(e){return r.__awaiter(this,void 0,void 0,(function*(){e.filter=void 0,yield this.saveFilter(!1,!0),this.refresh()}))}onFilterRowsSetChanged(e){return r.__awaiter(this,void 0,void 0,(function*(){yield this.saveFilter(!1,!0),e&&this.refresh()}))}saveFilter(e=!1,n=!1,o){return r.__awaiter(this,void 0,void 0,(function*(){if(null==o&&(o=this.getActiveFilter()),null==o)return;const r=e||!n,i=r?o.filterName:void 0,a=Object.assign(Object.assign({},this.getBaseQueryParams()),{filterView:this.config.filterView,filterRowsView:this.config.filterRowsView,filterID:o.filterID,filterName:i,isDefault:o.isDefault,isShared:o.isShared,isHidden:o.isHidden,createNew:e,filterRows:n||e?this.filterRows:void 0});return this.apiClient.saveGridFilter(this.getScreenID(),a).then((n=>{var i;if(n){if(e){const e=Object.assign({},o);this.filters.push(e),null===(i=this.onFiltersChanged)||void 0===i||i.call(this,{args:new QpGridEventArgs(this)}),this.filterID=e.filterID=n}else{const e=this.getActiveFilter();null!=e&&Object.assign(e,o)}r&&(this.isDirtyFilter=!1)}}))}))}removeFilter(e){if(this.isClientFilter(e))return;const n=Object.assign(Object.assign({},this.getBaseQueryParams()),{filterView:this.config.filterView,filterRowsView:this.config.filterRowsView,filterID:e});this.apiClient.removeGridFilter(this.getScreenID(),n).then((n=>{var r;if(n){const n=this.filters.findIndex((n=>n.filterID===e));n>=0&&(this.filters.splice(n,1),null===(r=this.onFiltersChanged)||void 0===r||r.call(this,{args:new QpGridEventArgs(this)}),this.setFilterID(this.filters[0].filterID))}}))}saveFiltersOrder(){if(!this.filters||this.filters.length<=1)return;const e=this.filters.slice(1).map((e=>e.filterID)),n=Object.assign(Object.assign({},this.getBaseQueryParams()),{filters:e,filterView:this.config.filterView});this.apiClient.saveGridFiltersOrder(this.getScreenID(),n)}setFilterID(e){this.filterID!==e&&(this.filterID=e,this.refresh())}createColumnFilter(){var e,n;const r=this.getActiveColumn(),o=this.getActiveCell();if(null==r||null==o||!this.filterRows)return;const i=this.getCellDataType(o,r);let a=i===C.NetType.String?"LIKE":"EQ";(null===(n=null===(e=r.valueItems)||void 0===e?void 0:e.items)||void 0===n?void 0:n.length)&&(a="EQ");let l,c=(0,D.getRawValue)(this.getTypedCellValue(o,r));if(i===C.NetType.DateTime){const e="17",n="16";if(r.dateMask&&(r.dateMask.indexOf(e)>-1||r.dateMask.indexOf(n)>-1)){a="BETWEEN";const e=new Date(c).setSeconds(0,0),n=e+6e4;c=(0,D.getInvariantDate)(new Date(e)),l=(0,D.getInvariantDate)(new Date(n))}else c=(0,D.getInvariantDate)(new Date(c),!1)}let d=this.filterRows.slice().reverse();const u=this.filterRows.find((e=>!!e.openBrackets));if(u){const e=d.findIndex((e=>(e.closeBrackets||0)>0));d=e>0?this.filterRows.slice(-e).reverse():void 0}let p=null==d?void 0:d.find((e=>(0,D.compareStrings)(e.field,r.field,!0)&&e.condition===a));if(p||(p=null==d?void 0:d.find((e=>(0,D.compareStrings)(e.field,r.field,!0)))),p)this.valuesEquals(c,p.value)?((0,v.removeFilterRow)(this.filterRows,p),(0,v.normalizeBrackets)(this.filterRows),this.onFilterRowApplied(r,void 0)):(p.condition=a,p.value=c,p.value2=l,this.onFilterRowApplied(r,p));else{const e=new C.GridFilterRow;e.field=(0,v.getColumnKey)(r),e.condition=a,e.value=c,e.value2=l,this.applyFilterRow(r,e,!0)}}processRowsScroll(e){this.elemHeaderWrap.scrollLeft=this.elemContentWrap.scrollLeft}processSelectStart(e){e.preventDefault()}processHeaderCornerClick(e){const n=this.columns,r={id:`${this.config.id}_columns_dialog`,attachTo:this.elemHeaderTable,columns:[...n],hasSavedLayout:this.hasSavedLayout,allowSkipTabs:!!this.config.allowSkipTabs},o=new Map(n.map((e=>[(0,v.getColumnKey)(e),e.visible]))),i=new Map(n.map((e=>[(0,v.getColumnKey)(e),e.skipTab])));this.dialogService.open({viewModel:"client-controls/controls/compound/grid/dialogs/columns-dialog",model:r,lock:!1,childContainer:this.container.createChild()}).whenClosed((e=>{e.wasCancelled||("reset"===e.output?this.resetLayout():(n.splice(0,n.length,...e.output),n.forEach((e=>{e.visible!==o.get((0,v.getColumnKey)(e))&&(this.getChangedPref(e).visible=e.visible),e.skipTab!==i.get((0,v.getColumnKey)(e))&&(this.getChangedPref(e).skipTab=e.skipTab)})),this.focus(),this.saveLayout()))}))}processHeadMouseOver(e,n){this.setResizeHandlePositionFromEvent(e,n)}processHeadMouseMove(e,n){return this.columnToFilter=n,this.setResizeHandlePositionFromEvent(e,n),!0}processHeadMouseOut(e,n){this.columnToFilter=void 0}processHeadClick(e,n){if(0!==e.button||n.allowCheckAll||!n.field)return;let r=e.target;if("TH"!==r.tagName&&(r=r.parentElement),this.config.allowFilter&&n.allowFilter){const e={attachTo:r,id:`${this.config.id}_fd`,column:n,filter:n.filter};this.dialogService.open({viewModel:m.FilterDialog,model:e,lock:!1,childContainer:this.container.createChild()}).whenClosed((e=>{if(!e.wasCancelled&&e.output){const r=e.output;null!=r.sort?this.onSortApplied(n,r.sort):this.applyFilterRow(n,r.filter)}}))}else this.config.allowSort&&n.allowSort&&this.switchSortDirection(n)}processCheckAllClick(e,n){e.stopPropagation(),n.allowUpdate&&this.switchColumnCheckState(n)}processCellClick(e,n,r){var o,i,a,l;const c=e.target,d=this.visibleCols[n];this.processCellClickBase(e,n,r);const u=r.cells[(0,v.getColumnKey)(d)];if(this.cellIsCheckBox(u,d))this.switchCheckState(u,d,r);else if((()=>{let e=c;for(;e&&"TD"!==e.tagName;){if("A"===e.tagName)return!0;e=e.parentNode}})()){const n=null!==(o=d.linkCommand)&&void 0!==o?o:null===(i=d.state)||void 0===i?void 0:i.linkCommand;if(n&&this.screenService.model.actions.has(n)){const r=new C.ScreenUpdateParams({openFrameset:e.shiftKey||e.ctrlKey});this.screenService.executeCommand(n,r)}else u.href?(this.redirector.openUrl(u.href,u.hrefTarget),e.preventDefault()):d.viewName&&this.navigate(d,u.value)}else if(d.key===this.NotesKey){if(this.noteDialogConfig.recordId=null!==(a=r.noteId)&&void 0!==a?a:r.id,this.noteDialogView.noteText=r.note,!this.noteDialogVM)return;this.noteDialogVM.config.screenId=this.getScreenID(),null===(l=this.noteDialogVM.open())||void 0===l||l.whenClosed((e=>{e.wasCancelled||(r.note=this.noteDialogView.noteText,r.cells[d.key].value=r.note?1:0)}))}else d.key===this.FilesKey&&(this.hasFilesColumn=!0,this.filesDialogConfig.recordId=r.id,this.filesDialogConfig.screenId=this.getScreenID(),this.tq.queueMicroTask((()=>{var e;this.filesDialogVM&&(this.filesDialogVM.filesGridConfig.parameters={guid:null!==(e=r.noteId)&&void 0!==e?e:r.id},this.filesDialogVM.config.recordId=r.id,this.filesDialogVM.config.screenId=this.getScreenID(),this.filesDialogVM.uploaderConfig.recordId=r.id,this.filesDialogVM.open((e=>{r.cells[d.key].value=e?1:0})))})))}processCellDblClick(e,n,r){this.processCellClickBase(e,n,r),this.onDoubleClick&&this.onDoubleClick({sender:this}),this.execDefaultAction()}processCellClickBase(e,n,r){const o=e.target,i=this.visibleCols[n],a=this.rows.indexOf(r),l=a!==this.activeRowIndex;this.scrollIntoView(o),this.config.allowRowSelect&&this.clearRowsSelection(),(null==i?void 0:i.allowFocus)?l?this.setActiveRowIndex(a,!1,n):this.setActiveCellIndex(n):l&&this.setActiveRowIndex(a,!1)}processRowSelectorClick(e,n){let r=!0;const o=this.rows.indexOf(n),i=this.getActiveRow();this.config.allowRowSelect&&(e.ctrlKey?(this.setRowSelected(o,!n.selected),r=!1,!n.selected||null!=i&&i.selected||this.setActiveRowIndex(o)):e.shiftKey&&(this.clearRowsSelection(),this.selectRowsRange(this.activeRowIndex,o),r=!1)),r&&(this.scrollIntoView(e.target),this.setActiveRowIndex(this.rows.indexOf(n)))}processKeyDown(e){var n,r,o;let i=this.activeRowIndex,a=this.activeCellIndex,l=!1;const setNextRowSelected=e=>{const n=this.getActiveRow(),r=this.getRow(e);n&&this.setRowSelected(this.activeRowIndex,!(null==r?void 0:r.selected)),this.setRowSelected(e,!0)};switch(this.onKeyDown&&this.onKeyDown({sender:this,event:e}),e.key){case"Down":case"ArrowDown":if(i=this.getNextRowIndex(),void 0===i&&this.allowInsert){if(this.editMode&&!this.createNewAllowed&&this.commitActiveCellChanges(),this.createNewAllowed)return this.addNewRow(!1),!1}else this.config.allowRowSelect&&e.shiftKey&&!this.editMode&&void 0!==i&&setNextRowSelected(i);break;case"Up":case"ArrowUp":i=this.getPrevRowIndex(),this.config.allowRowSelect&&e.shiftKey&&!this.editMode&&void 0!==i&&setNextRowSelected(i);break;case"Right":case"ArrowRight":a=this.getNextCellIndex();break;case"Left":case"ArrowLeft":a=this.getPrevCellIndex();break;case"Home":a=this.getAdjoiningCellIndex(!1,-1);break;case"End":a=this.getAdjoiningCellIndex(!1,null===(n=this.visibleCols)||void 0===n?void 0:n.length,!0);break;case"Enter":e.ctrlKey||e.altKey||this.execDefaultAction();break;case"Insert":return e.ctrlKey||this.addNewRow(!0,e.shiftKey),!1;case"Delete":return this.editMode||this.deleteSelectedRows(),!1;case"F2":return this.beginEdit(),!1;case"F5":return this.refresh(!0),!1;case"F6":return this.editMode||this.switchSortDirection(this.getActiveColumn()),!1;case"PageDown":return this.pageDown(),!1;case"PageUp":return this.pageUp(),!1}switch(e.code){case"KeyF":if(e.shiftKey&&!this.editMode)return this.createColumnFilter(),!1;break;case"KeyC":if(e.ctrlKey&&!this.editMode)return(0,D.addTextToClipboard)(null!==(o=null===(r=this.getActiveCell())||void 0===r?void 0:r.cellText)&&void 0!==o?o:""),!1;break;case"KeyA":if(e.ctrlKey&&!this.editMode&&this.config.allowRowSelect)return this.hasRows&&this.selectRowsRange(0,this.rows.length-1),!1;break;case"Space":const n=this.getActiveCell(),i=this.getActiveColumn();n&&i&&this.cellIsCheckBox(n,i)&&this.switchCheckState(n,i,this.getActiveRow())}const c=this.getRowElem(this.activeRowIndex);return void 0!==i&&this.activeRowIndex!==i&&(this.setActiveRowIndex(i,!0),this.config.allowRowSelect&&!e.shiftKey&&this.clearRowsSelection(),l=!0),void 0!==a&&this.activeCellIndex!==a&&c&&(this.setActiveCellIndex(a),l=!0),!l}processContentWrapDblClick(e){e.target===this.elemContentWrap&&this.createNewAllowed&&this.addNewRow()}processFocus(e){!this.hasRows&&this.createNewAllowed&&this.addNewRow()}setResizeHandlePosition(e){const n=this.getColHeaderElem(e);if(n){const r=n.getBoundingClientRect(),o=this.elemHeaderWrap.getBoundingClientRect(),i=this.elemResizeHandle.offsetWidth,a=this.elemHeaderWrap.scrollLeft;this.elemResizeHandle.style.left=r.right+a-o.left-i/2+"px",this.elemResizeHandle.setAttribute("data-index",this.getColumnVisibleIndex(e.field).toString())}}setResizeHandlePositionFromEvent(e,n){let r=n;if(this.isCellLeftPart(e)){const e=this.getColumnVisibleIndex((0,v.getColumnKey)(n));e>0&&(r=this.visibleCols[e-1])}r.allowResize&&this.setResizeHandlePosition(r)}setResizerPosition(e){const n=this.resizeInfo;if(void 0!==n){const r=this.elemHeaderWrap.getBoundingClientRect(),o=e.pageX-r.left;n.left<0&&(n.left=o);const i=n.width+(o-n.left),a=20;return i>=a&&(this.elemResizeIndicator.style.left=`${o}px`),i>a?i:a}}processResizerMouseDown(e){const n=this.elemResizeHandle.getAttribute("data-index");if(null!=n){const r=this.visibleCols[parseInt(n)];this.resizeInfo={left:-1,column:r,width:r.width||0},this.setResizerPosition(e)}}processResizerMouseMove(e){void 0!==this.resizeInfo&&this.setResizerPosition(e)}processResizerMouseUp(e){const n=this.resizeInfo;if(void 0!==n){const r=this.setResizerPosition(e);r&&(n.column.width=this.getChangedPref(n.column).width=r,this.config.autoSaveLayout&&!this.config.autoAdjustColumns&&this.saveLayout()),this.tq.queueMicroTask((()=>this.setResizeHandlePosition(n.column))),this.resizeInfo=void 0}}processResizerMouseLeave(e){this.resizeInfo=void 0}processDragStart(e,n){return this.dragInfo={column:n,targetIndex:void 0},!0}processDragOver(e,n){if(this.dragInfo&&this.dragInfo.column!==n){const r=this.getColHeaderElem(n).getBoundingClientRect(),o=this.elemHeaderWrap.getBoundingClientRect(),i=r.left-o.left,a=r.right-o.left,l=2,c=e.clientX<r.left+r.width/l,d=(c?i:a)-this.elemArrowDown.offsetWidth/l;this.elemArrowUp.style.left=this.elemArrowDown.style.left=`${d}px`;let u=this.getColumnIndex((0,v.getColumnKey)(n))+(c?0:1);const p=this.getColumnIndex((0,v.getColumnKey)(this.dragInfo.column));u>p&&u--,this.dragInfo.targetIndex=u===p?void 0:u}else this.dragInfo&&(this.dragInfo.targetIndex=void 0)}processDragLeave(e){this.dragInfo&&!this.elemHeaderWrap.contains(e.relatedTarget)&&(this.dragInfo.targetIndex=void 0)}processDrop(e,n){var r;if(this.dragInfo){const e=null===(r=this.dragInfo)||void 0===r?void 0:r.targetIndex,n=this.getColumnIndex((0,v.getColumnKey)(this.dragInfo.column)),o=this.columns;void 0!==e&&o.splice(e,0,o.splice(n,1)[0]),this.dragInfo=void 0,this.config.autoSaveLayout&&this.saveLayout()}}get showDragArrows(){return!!this.dragInfo&&void 0!==this.dragInfo.targetIndex}processToolBarClick(e){var n;const r=null===(n=e.detail)||void 0===n?void 0:n.config,o=null==r?void 0:r.commandName;let i=!0;switch(o){case"refresh":this.refresh(!0);break;case"delete":this.deleteSelectedRows();break;case"insert":this.tq.flushMicroTaskQueue(),this.addNewRow();break;case"filter":this.showFilterBar=!this.showFilterBar,this.adjustPage();break;case"adjust":this.adjustColumns();break;case"exportToExcel":this.exportToExcel();break;case"import":this.import();break;case"nextPage":case"prevPage":case"firstPage":case"lastPage":this.processPagerButtonClick(e);break;default:i=!1,this.fireActionEvent(o)}i&&(e.stopPropagation(),e.propagationStopped=!0)}processToggleFilterClick(e){this.showFilterBar=!this.showFilterBar,this.adjustPage()}processToggleFilterMouseDown(e){e.preventDefault(),e.stopPropagation()}fireActionEvent(e){this.onAction&&e&&this.onAction({args:new QpGridActionEventArgs(this,e)})}processPagerButtonClick(e){var n;const r=null===(n=e.detail)||void 0===n?void 0:n.config;switch(null==r?void 0:r.commandName){case"firstPage":if(this.isFirstPage)break;this.clearSearch(),this.setPage(0);break;case"lastPage":if(this.isLastPage)break;const e=this.pagesCount||0;this.clearSearch(),this.setPage(e>0?e-1:-1);break;case"nextPage":if(this.isLastPage)break;this.setPage(this.pageIndex+1);break;case"prevPage":if(this.isFirstPage)break;this.setPage(this.pageIndex-1)}e.stopPropagation(),e.propagationStopped=!0}setPage(e){if(this.allowPaging()){const n=this.pagesCount||0;if(n>0&&(e<0||e>=n))return;this.config.pagerMode===C.GridPagerMode.Numeric&&this.clearSearch(),this.pageIndex=e,this.getRows()}}setPageIndex(e){this.allowPaging()&&(this.pageIndex=e)}getPagesCount(){const e=this.getPageSize();if(0===this.totalRowCount||e<=0)return 1;if(this.totalRowCount>0){const n=this.totalRowCount+e-1;return Math.floor(n<0?1:n/e)}return-1}getPageSize(){var e;return(null===(e=this.config)||void 0===e?void 0:e.pageSize)||0}get startRowIndex(){return(this.pageIndex||0)*this.getPageSize()+1}get endRowIndex(){var e;return this.startRowIndex+(null===(e=this.rows)||void 0===e?void 0:e.length)-1}setPagerButtonsState(){if(this.allowPaging()){const e=this.pagerBarConfigL.items,n=this.pagerBarConfigR.items;e.first.config.disabled=!!this.isFirstPage,e.prev.config.disabled=!!this.isFirstPage,n.last.config.disabled=!!this.isLastPage,n.next.config.disabled=!!this.isLastPage,this.pagerBarConfigR.styleChanged=this.pagerBarConfigL.styleChanged=!0}}pageDown(){let e=this.getNextRowIndex();if(void 0===e)return void(this.isLastPage||this.setPage(this.pageIndex+1));const n=Math.ceil(this.elemContentWrap.clientHeight/this.getRowHeight());isNaN(n)||(e=this.activeRowIndex+n,e>this.rows.length&&(e=this.rows.length-1),this.setActiveRowIndex(e,!0))}pageUp(){let e=this.getPrevRowIndex();if(void 0===e)return void(this.isFirstPage||this.setPage(this.pageIndex-1));const n=Math.ceil(this.elemContentWrap.clientHeight/this.getRowHeight());isNaN(n)||(e=this.activeRowIndex-n,e<0&&(e=0),this.setActiveRowIndex(e,!0))}adjustPageSize(){let e=!1;this.rows&&0!==this.rows.length||(e=!0,this.createFakeRow()),this.tq.flushing||this.tq.flushMicroTaskQueue();const n=this.getRowHeight();if(n>0){const e=Math.floor(this.elemContentWrap.clientHeight/n);this.config.pageSize=e;const r=this.totalRowCount;r>0&&e*this.pageIndex>=r&&this.setPageIndex(0)}return e&&(this.rows=[]),this.pageAdjusted||(this.pageAdjusted=!0),this.config.pageSize}adjustPage(){if(!this.needAdjustPage())return;this.config.autoAdjustColumns&&this.adjustColumns(!1);const e=this.isFirstPage&&this.isLastPage,n=this.config.pageSize,r=this.adjustPageSize();r&&r!==n&&(!e||this.rows.length>r)&&this.getRows()}getRowHeight(){let e=0;if(this.elemRows&&(0,D.isVisible)(this.elemRows)){const n=this.elemRows.tBodies[0].rows;for(let r=0;r<n.length;r++){const o=n[r];if(o.offsetHeight>0&&o.getAttribute("data-index")){e=o.offsetHeight;break}}}return e}resizeWindowHandler(){clearTimeout(this.adjustTimeoutID),!this.screenService.initialized&&this.screenService.isValid||(this.adjustTimeoutID=setTimeout((()=>{this.needAdjustPage()?this.adjustPage():this.config.autoAdjustColumns&&this.adjustColumns(!1)}),100))}allowPaging(){var e;return(null===(e=this.config)||void 0===e?void 0:e.pagerMode)!==C.GridPagerMode.InfiniteScroll&&this.getPageSize()>0}needAdjustPage(){var e;return this.allowPaging()&&(null===(e=this.config)||void 0===e?void 0:e.adjustPageSize)}adjustColumns(e){var n,r;const o=this.visibleCols,i=(null===(n=this.rows)||void 0===n?void 0:n.length)>0?this.elemRows:this.elemHeaderTable,a=(null===(r=this.rows)||void 0===r?void 0:r.length)>0?this.elemContentWrap:this.elemHeaderWrap;if(i&&i.offsetWidth>0&&o.length>0){let n=0,r=0,l=0;for(let e=0;e<o.length;e++)o[e].visible&&o[e].allowResize&&(n+=o[e].width||0,l=e,r++);const c=a.clientWidth-i.offsetWidth;let d=i.offsetWidth;if(0!==c){null==e&&(e=this.config.autoSaveLayout),this.config.autoAdjustColumns&&(e=!1);for(let e=0;e<o.length;e++){if(!o[e].visible||!o[e].allowResize||!o[e].width)continue;let r=o[e].width;if(e!==l){const e=Math.round(c*r/n);r+=e,d+=e}else r+=a.clientWidth-d;o[e].width=this.getChangedPref(o[e]).width=r}e&&this.saveLayout(),this.tq.flushing||this.tq.flushMicroTaskQueue()}}}getComponentErrors(e,n){var r,o,i,a,l;if(!n)return{};const c={},processRow=n=>{var r;if(n.cells)for(const o in n.cells)(null===(r=n.cells[o])||void 0===r?void 0:r.error)&&(c[`${e}.${o}`]={message:n.cells[o].error,level:n.cells[o].errorLevel})};return null===(r=n.rows)||void 0===r||r.forEach(processRow),null===(i=null===(o=n.commitResult)||void 0===o?void 0:o.inserted)||void 0===i||i.forEach(processRow),null===(l=null===(a=n.commitResult)||void 0===a?void 0:a.modified)||void 0===l||l.forEach(processRow),c}injectToolbarIntoScreenOne(){if(this.config.mergeToolbarWith){const e=this.screenService.getDataComponent(this.config.mergeToolbarWith);if(e&&e.appendComponentData){const n=e.appendComponentData(this.topBarConfig);("string"==typeof n?document.querySelector(n):n)&&(this.rightToolbarContainer=n)}}}loadColumnsPreferences(e,n){if(null==n)return;const r=e.length-1;for(const o of n){const n=e.find((e=>(0,D.compareStrings)((0,v.getColumnKey)(e),o.dataField,!0)));if(null!=n){void 0!==o.skipTab&&(n.skipTab=o.skipTab),void 0!==o.width&&o.width>0&&(n.width=o.width),void 0!==o.visible&&(0,v.isColumnVisibleChangeAllowed)(n)&&(n.visible=o.visible);const i=e.indexOf(n);o.order>=0&&i!==o.order&&(e.splice(e.indexOf(n),1),e.splice(o.order>r?r:o.order,0,n))}}}getPreferences(e){let n;return this.preferences&&(n=e===o.PreferenceLoadMode.merged?this.gridPreferencesMerger.merge(e,{user:this.preferences.user,def:this.preferences.def}):e===o.PreferenceLoadMode.onlyDefault?this.preferences.def:this.preferences.user),n}get preferencesMode(){return this.viewMode===S.ViewMode.Edit?o.PreferenceLoadMode.onlyDefault:o.PreferenceLoadMode.merged}getColumnPreferences(e,n){const r=(0,v.getColumnKey)(e);return null==n?void 0:n.find((e=>(0,D.compareStrings)(r,e.dataField,!0)))}getChangedPref(e){const n=(0,v.getColumnKey)(e);return this.changedPrefs.has(n)||this.changedPrefs.set(n,new GridColumnPreference),this.changedPrefs.get(n)}updateInitialColumns(){for(const e of this.initialColumns){const n=this.getColumn(this.getColumnKey(e));n&&this.needSyncVisibleWithState(n)&&(e.visible=n.visible)}}restoreInitialColumns(){const e=this.initialColumns.map((e=>{const n=this.getColumn(this.getColumnKey(e));return n&&(n.visible=e.visible,n.width=e.width,this.copyColumnProps(e,n)),Object.assign({},e)}));this.columns.splice(0,this.columns.length,...e),this.createColsSubscriptions()}subscribeScreenConfigurator(){this.subscriptions.push(this.eventManager.addEventListener(document.body,"startScreenConfiguration",(()=>{this.viewMode=S.ViewMode.Edit,this.fillPreferences(o.PreferenceLoadMode.onlyDefault,!0)}),_.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(document.body,"endScreenConfiguration",(()=>{this.viewMode=S.ViewMode.View}),_.delegationStrategy.none,!0))}updateActiveRowFromView(){var e;if(!this.view.activeRowChanged)return;this.view.activeRowChanged=!1;const n=this.view.activeRow,r=this.getActiveRow(),o=null===(e=this.activeCellState)||void 0===e?void 0:e.name,i=(0,v.copyRowPropsFromView)(n,r,this.columns,o);i.hasChanges&&(i.activeCellValueChanged&&o&&(this.activeCellState.value=r.cells[o].value,this.forceCellEditorUpdate()),this.updateRow(r))}matchRows(e,n){return e.id===n.id}matchColumns(e,n){return(e.field||e.key)===(n.field||n.key)}filterIDChanged(){var e;null===(e=this.onActiveFilterChanged)||void 0===e||e.call(this,{args:new QpGridEventArgs(this)})}activeRowIndexChanged(e,n){this.setActiveRowFlag(n,!1),this.forceRepaintRow(n),this.setActiveRowFlag(e,!0),this.forceRepaintRow(e)}activeCellIndexChanged(e,n){this.forceRepaintRow(this.activeRowIndex)}editModeChanged(){this.forceRepaintRow()}setCellTranslation(e,n){const r=this.getActiveRow();r&&r.id&&(this.additionalRowChanges=this.additionalRowChanges||{},this.additionalRowChanges[r.id]=this.additionalRowChanges[r.id]||{id:r.id,index:this.activeRowIndex,values:[]},this.additionalRowChanges[r.id].values.push({field:e,value:n}),r.changed=!0,this.updateRow(r,!0))}forceRepaintRow(e){const n=this.getRow(void 0!==e?e:this.activeRowIndex);n&&(n.styleChanged=!n.styleChanged)}setActiveRowFlag(e,n){const r=this.getRow(e);r&&(r.isActive=n)}getRow(e){return this.hasRows?this.rows[e]:void 0}storeScrollPosition(){this.scrollPosition={scrollTop:this.elemContentWrap.scrollTop,scrollLeft:this.elemContentWrap.scrollLeft}}restoreScrollPosition(){this.scrollPosition&&(this.elemContentWrap.scrollTop=this.scrollPosition.scrollTop,this.elemContentWrap.scrollLeft=this.scrollPosition.scrollLeft,delete this.scrollPosition)}get gridCaption(){var e;return null!==(e=this.config.caption)&&void 0!==e?e:this.caption}};F.defaultConfig={pagerMode:C.GridPagerMode.NextPrevFirstLast,pageSize:100,showRowSelectors:!0,allowRowSelect:!0,autoSaveLayout:!0,allowSkipTabs:!0,showFilterBar:C.GridFilterBarVisibility.OnDemand,showTopBar:!0,showBottomBar:!0,generateColumns:C.GridColumnGeneration.None,fastFilterByAllFields:!0,allowFilter:!0,allowSort:!0,showFastFilter:C.GridFastFilterVisibility.FilterBar,markRequired:!0},F.defaultColumnConfig={type:C.GridColumnType.NotSet,textAlign:C.TextAlign.NotSet,allowNull:!0,allowUpdate:!0,allowFilter:!0,allowFocus:!0,allowSort:!0,allowResize:!0,visible:!0,allowShowHide:C.GridColumnShowHideMode.True,displayMode:C.GridColumnDisplayMode.Value},r.__decorate([c.bindable,r.__metadata("design:type",C.PXViewCollection)],F.prototype,"view",void 0),r.__decorate([c.bindable,r.__metadata("design:type",Object)],F.prototype,"config",void 0),r.__decorate([c.bindable,r.__metadata("design:type",Array)],F.prototype,"rows",void 0),r.__decorate([c.bindable,r.__metadata("design:type",String)],F.prototype,"searchValue",void 0),r.__decorate([c.bindable,r.__metadata("design:type",String)],F.prototype,"searchField",void 0),r.__decorate([c.bindable,r.__metadata("design:type",String)],F.prototype,"statusText",void 0),r.__decorate([c.bindable,r.__metadata("design:type",Function)],F.prototype,"dataSource",void 0),r.__decorate([c.bindable,r.__metadata("design:type",Function)],F.prototype,"onDoubleClick",void 0),r.__decorate([c.bindable,r.__metadata("design:type",Function)],F.prototype,"onKeyDown",void 0),r.__decorate([c.bindable,r.__metadata("design:type",Function)],F.prototype,"onDefaultAction",void 0),r.__decorate([c.bindable,r.__metadata("design:type",Function)],F.prototype,"onAction",void 0),r.__decorate([c.bindable,r.__metadata("design:type",Function)],F.prototype,"onActiveRowChanged",void 0),r.__decorate([c.bindable,r.__metadata("design:type",Function)],F.prototype,"onDataReady",void 0),r.__decorate([c.bindable,r.__metadata("design:type",Function)],F.prototype,"onActiveFilterChanged",void 0),r.__decorate([c.bindable,r.__metadata("design:type",Function)],F.prototype,"onFiltersChanged",void 0),r.__decorate([c.bindable,r.__metadata("design:type",Function)],F.prototype,"onFilterColumns",void 0),r.__decorate([c.bindable,r.__metadata("design:type",String)],F.prototype,"caption",void 0),r.__decorate([c.observable,r.__metadata("design:type",Object)],F.prototype,"columnToFilter",void 0),r.__decorate([c.observable,r.__metadata("design:type",String)],F.prototype,"filterID",void 0),r.__decorate([c.observable,r.__metadata("design:type",Boolean)],F.prototype,"editMode",void 0),r.__decorate([c.observable,r.__metadata("design:type",Number)],F.prototype,"activeRowIndex",void 0),r.__decorate([c.observable,r.__metadata("design:type",Number)],F.prototype,"activeCellIndex",void 0),r.__decorate([(0,_.computedFrom)("updateRowsCount"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],F.prototype,"hasRows",null),r.__decorate([(0,_.computedFrom)("config.adjustPageSize"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],F.prototype,"isInfiniteScrollAllowed",null),r.__decorate([(0,_.computedFrom)("config.allowFilter","config.showFilterBar","config.allowStoredFilters"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],F.prototype,"isFilterBarAllowed",null),r.__decorate([(0,_.computedFrom)("updateRowsCount","statusText","config.pagerMode","config.pageSize","isFirstPage","isLastPage"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],F.prototype,"showBottomBar",null),r.__decorate([(0,_.computedFrom)("config.pagerMode","config.pageSize","isFirstPage","isLastPage"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],F.prototype,"showPager",null),r.__decorate([(0,_.computedFrom)("updateRowsCount","config.pagerMode"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],F.prototype,"showRecordsCounter",null),r.__decorate([(0,_.computedFrom)("dragInfo","dragInfo.targetIndex"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],F.prototype,"showDragArrows",null),r.__decorate([(0,_.computedFrom)("updateRowsCount"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],F.prototype,"startRowIndex",null),r.__decorate([(0,_.computedFrom)("updateRowsCount"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],F.prototype,"endRowIndex",null),r.__decorate([(0,_.computedFrom)("config.caption","caption"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],F.prototype,"gridCaption",null),F=I=r.__decorate([(0,c.processContent)(((e,n,r,o)=>{const i=r.querySelector("columns"),a=i?i.querySelectorAll("column"):void 0,l={field:"a",key:"a",type:1,caption:"a",captionImage:"a",dataType:1,width:1,textAlign:1,visible:!0,toolTip:"a",checked:!0,nullText:"a",valueItems:{},editorType:"a",editorConfig:{},fullState:!0,required:!0,timeMode:!0,sortDirection:1,generated:!0,skipTab:!0,commitChanges:!0,linkCommand:"a",hideViewLink:!0,format:"a",dateMask:"a",decimals:1,viewName:"a",maxLength:1,allowNull:!0,allowUpdate:!0,allowFilter:!0,allowFastFilter:!0,allowFocus:!0,allowSort:!0,allowResize:!0,allowCheckAll:!0,allowShowHide:1,suppressExport:!0},c=[];null==a||a.forEach((e=>{const n=e.getAttributeNames(),r={};null==n||n.forEach((n=>{const o=n.includes(".bind"),i=n.replace(".bind","").replace(/-([a-z])/gi,(e=>e[1].toUpperCase())),a=l[i];if(a){let l=e.getAttribute(n);l&&(o?(r.bindableProps||(r.bindableProps={}),r.bindableProps[i]=l):("boolean"==typeof a?l=(0,D.netTypeConvert)(l,C.NetType.Boolean):"number"==typeof a&&(l=(0,D.netTypeConvert)(l,C.NetType.Int32)),r[i]=l))}})),(r.field||r.key)&&c.push(r)})),c.length>0&&(o.columns=c,r.innerHTML="")})),(0,c.customElement)("qp-grid"),c.autoinject,r.__param(2,(0,d.inject)(p.GridApiClient)),r.__metadata("design:paramtypes",[Element,y.ScreenService,Object,c.TaskQueue,c.BindingEngine,g.DialogService,u.EventAggregator,C.RedirectHelper,x.AlertService,c.TargetInstruction,d.Container,i.PreferencesService,v.ExpressionEvaluator,c.EventManager,D.BusyCounter,R.TranslationService])],F),n.QpGridCustomElement=F;class QpGridEventArgs{constructor(e){this.activeRow=void 0,this.activeCell=void 0,this.activeRow=e.getActiveRow(),this.activeCell=e.getActiveCell()}getCell(e){if(this.activeRow&&e){const n=e.toLowerCase();for(const e in this.activeRow.cells)if(e.toLowerCase()===n)return this.activeRow.cells[e]}}}n.QpGridEventArgs=QpGridEventArgs;class QpGridActionEventArgs extends QpGridEventArgs{constructor(e,n){super(e),this.action=n}}n.QpGridActionEventArgs=QpGridActionEventArgs;class GridPreferencesMerger extends o.BasePreferenceMerger{combineUserAndDefPreferences(e,n){var r;if(!n||!n.columns)return e;if(!e||!e.columns)return n;const o=new GridPreferences;for(const i of e.columns){const e=n.columns.find((e=>e.dataField===i.dataField));null===(r=o.columns)||void 0===r||r.push(this.mergeColumnProperties(i,e||{}))}return o}mergeColumnProperties(e,n){const r=Object.assign(Object.assign({},e),n);return void 0===n.visible&&void 0!==e.visible&&(r.visible=e.visible),void 0===n.width&&void 0!==e.width&&(r.width=e.width),void 0===n.order&&void 0!==e.order&&(r.order=e.order),void 0===n.skipTab&&void 0!==e.skipTab&&(r.skipTab=e.skipTab),void 0===n.sortOrder&&void 0!==e.sortOrder&&(r.sortOrder=e.sortOrder),r}}n.GridPreferencesMerger=GridPreferencesMerger;n.GridPreferencesPair=class GridPreferencesPair{};class GridColumnPreference{}class GridPreferences extends o.PreferenceBase{constructor(){super(),this.type="Grid",this.columns=[]}}n.GridPreferences=GridPreferences;class GridControlPreferences extends o.PreferenceBase{constructor(){super(),this.type="qp-grid",this.preferences={}}}class GridPreferencesManager{constructor(e,n){this.preferencesService=e,this.onPreferencesChanged=n}subscribe(e,n){this.prefsKey=`${n}_prefs`,this.screenId=e,this.preferencesService.subscribe(this.prefsKey,this)}applyPreferences(e){var n;if(null==e?void 0:e.user){const r=e.user.preferences.favoriteFilters;this.favoriteFilters=r?[...r]:[],null===(n=this.onPreferencesChanged)||void 0===n||n.call(this)}}addFavouriteFilter(e){if(this.favoriteFilters||(this.favoriteFilters=[]),!this.favoriteFilters.includes(e))return this.favoriteFilters.push(e),this.savePreferences()}deleteFavouriteFilter(e){var n;if(null===(n=this.favoriteFilters)||void 0===n?void 0:n.includes(e))return this.favoriteFilters.splice(this.favoriteFilters.indexOf(e),1),this.savePreferences()}savePreferences(){const e=new GridControlPreferences;return e.preferences.favoriteFilters=this.favoriteFilters,this.preferencesService.saveUserPreferences(this.screenId,this.prefsKey,e)}}}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpInlineScreenDialogComponent=void 0;let i=class QpInlineScreenDialogComponent{constructor(){this.width="80vw",this.height="90vh"}bind(e,n){var r,o,i;(null===(o=null===(r=null==n?void 0:n.parentOverrideContext)||void 0===r?void 0:r.bindingContext)||void 0===o?void 0:o.config)&&(this.config=null===(i=n.parentOverrideContext.bindingContext.config)||void 0===i?void 0:i.data)}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],i.prototype,"config",void 0),i=r.__decorate([(0,o.customElement)("qp-inline-screen-dialog"),o.autoinject],i),n.QpInlineScreenDialogComponent=i}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/menu/qp-menu":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./descriptors/index.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpMenuCustomElement=void 0;(0,i.getLogger)("qp-menu");let l=class QpMenuCustomElement{constructor(e,n){this.eventManager=e,this.redirector=n,this.menuOpened=!1,this.showOpener=!1}stopPropagation(e){return e.stopPropagation(),!1}attached(){o.PLATFORM.global.px&&o.PLATFORM.global.px.setTitle(this.menuElement,this.config.toolTip)}configChanged(e,n){var r;this.showOpener=(null===(r=this.config)||void 0===r?void 0:r.options)&&this.config.options.length&&!this.config.hideOpener}processMenuClick(e,n,r){const o=this.config.options.find((r=>"MenuButton"===r.type&&(e&&r.id===e||n&&r.commandName===n)));if(!o||o.disabled)return!1;this.hideMenu();const i=new CustomEvent("menuselected",{bubbles:!0,detail:{event:r,id:e,commandName:"",popupPanel:""}});return o.commandName?(i.detail.commandName=n,this.menuElement.dispatchEvent(i)):o.navigateUrl?this.redirector.openUrl(o.navigateUrl,o.target,o.openFrameset):o.popupPanel?(i.detail.popupPanel=o.popupPanel,this.menuElement.dispatchEvent(i)):this.menuElement.dispatchEvent(i),!1}processButtonMousedown(e){return!(!this.config.commandName||this.config.disabled)||this.toggleMenu(e)}processButtonClick(e){if(this.config.commandName&&!this.config.disabled){this.hideMenu();const n={event:e,id:this.config.id,commandName:this.config.commandName},r=new CustomEvent("menuselected",{bubbles:!0,detail:n});return this.menuElement.dispatchEvent(r),!1}return this.stopPropagation(e)}toggleMenu(e){var n;return!(null===(n=this.config.options)||void 0===n?void 0:n.length)||(this.menuOpened?this.hideMenu():this.showMenu(),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1)}showMenu(){o.PLATFORM.global.document.dispatchEvent(new MouseEvent("mousedown")),this.menuElement.focus(),this.documentMouseDownSubscription=this.eventManager.addEventListener(o.PLATFORM.global.document,"mousedown",(e=>this.hideMenu()),o.delegationStrategy.none,!0),this.menuOpened=!0}hideMenu(){this.unsubscribeFromMouseDownOnDocument(),this.menuOpened=!1}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],l.prototype,"config",void 0),l=r.__decorate([o.autoinject,(0,o.customElement)("qp-menu"),r.__metadata("design:paramtypes",[o.EventManager,a.RedirectHelper])],l),n.QpMenuCustomElement=l}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/au/component-id-custom-attribute.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentIdCustomAttribute=n.ComponentIdTranslator=void 0;let i=class ComponentIdTranslator{constructor(e){this.map={},this.element=e;const n=this.element.componentIdAttribute;n&&(n.translator=this)}add(e,n){return this.map[e]=n,this}translate(e){return this.map[e]}};i=r.__decorate([o.noView,o.autoinject,r.__metadata("design:paramtypes",[Element])],i),n.ComponentIdTranslator=i;let a=class ComponentIdCustomAttribute{constructor(e){this.children=[],this.element=e,this.element.componentIdAttribute=this}attached(){this.update()}update(){const e=this.getComposedId();e?this.element.setAttribute("id",e):this.element.removeAttribute("id"),this.children.forEach((e=>e.update()))}addChild(e){e&&!this.children.find((n=>n===e))&&this.children.push(e)}getComposedId(){if(!this.id)return;const e=this.getParentAttribute();if(!e)return this.id;e.addChild(this);const n=e.getComposedId(),r=e.translateId(this.id);return n?`${n}_${r}`:r}translateId(e){var n;let r=this;for(;r;){const o=null===(n=r.translator)||void 0===n?void 0:n.translate(e);if(o)return o;r=r.getParentAttribute()}return e}getParentAttribute(){let e=this.element.parentElement;for(;e;){const n=e.componentIdAttribute;if(n)return n;e=e.parentElement}}};r.__decorate([(0,o.bindable)({primaryProperty:!0,changeHandler:"update"}),r.__metadata("design:type",String)],a.prototype,"id",void 0),a=r.__decorate([o.autoinject,(0,o.customAttribute)("component-id",o.bindingMode.toView),r.__metadata("design:paramtypes",[Element])],a),n.ComponentIdCustomAttribute=a}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/au/factory.ts":function(e,n,r){var o,i;o=[r,n,r("aurelia-framework"),r("./controls/compound/rich-text-editor/common/tools.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AureliaElementFactory=void 0;const i="AureliaElementFactory";class AureliaElementFactory{constructor(e){this.container=null!=e?e:r.Container.instance,this.templateEngine=this.container.get(r.TemplatingEngine)}static attachDispose(e,n,r){const o=e.dispose;if(o&&o.signature===i)return e;const overridden=()=>{"function"==typeof o&&o.call(e),(null==r?void 0:r.parent)===n.parentElement&&n.remove(),(null==r?void 0:r.dispose)&&r.dispose()};return overridden.signature=i,e.dispose=overridden,e}createControl(e,n){var r,o;const i=this.createElement(e,n),a=null===(o=null===(r=null==i?void 0:i.au)||void 0===r?void 0:r.controller)||void 0===o?void 0:o.viewModel;if(!a)throw new TypeError;return AureliaElementFactory.attachDispose(a,i,n),a}static getControl(e){var n,r;let o=null===(r=null===(n=null==e?void 0:e.au)||void 0===n?void 0:n.controller)||void 0===r?void 0:r.viewModel;return o&&"Compose"===o.constructor.name&&(o=o.currentViewModel),o}createElement(e,n){var r,i;const a=document.createElement(e);return null===(r=null==n?void 0:n.parent)||void 0===r||r.appendChild(a),o.Tools.forEach(null==n?void 0:n.attrs,((e,n)=>{"function"==typeof e?a.addEventListener(n,e):a.setAttribute(n,e)})),o.Tools.forEach(null==n?void 0:n.model,((e,n)=>{"function"==typeof e?a.setAttribute(`${n}.delegate`,`${n}($event)`):a.setAttribute(`${n}.bind`,n)})),this.templateEngine.enhance({element:a,container:this.container,bindingContext:null!==(i=null==n?void 0:n.model)&&void 0!==i?i:{}}),a}}n.AureliaElementFactory=AureliaElementFactory}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/common/env.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Env=void 0;const r={agentName:window.navigator.userAgent.toLowerCase(),contains(e){return-1!==this.agentName.indexOf(e)}};n.Env={os:{isWindows:()=>r.contains("win"),isMacOS:()=>r.contains("mac os x"),isiOS:()=>r.contains("iphone")||r.contains("ipad"),isAndroid:()=>r.contains("android")},browser:{isFirefox:()=>r.contains("firefox"),isIE:()=>r.contains("msie")||r.contains("trident"),isChromium:()=>r.contains("chrome")&&!r.contains("chromeframe"),IsSafari:()=>(r.contains("safari")||r.contains("mobile/"))&&r.contains("applewebkit"),IsEdge:()=>r.contains("edge/")&&r.contains("chrome")&&r.contains("safari")&&r.contains("applewebkit")}}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./controls/compound/rich-text-editor/common/events.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/rich-text-editor/common/tools.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EventManager=void 0;class EventSubscriber{constructor(e,n,o,i){this.targetEvent=n,this.callback=o,this.options=i,this.eventTarget=e,this.eventTarget&&r.Tools.forEach(r.Tools.explode(this.targetEvent," "),(e=>{var n;null===(n=this.eventTarget)||void 0===n||n.addEventListener(e,this.callback,this.options)}))}dispose(){this.eventTarget&&(r.Tools.forEach(r.Tools.explode(this.targetEvent," "),(e=>{var n;null===(n=this.eventTarget)||void 0===n||n.removeEventListener(e,this.callback,this.options)})),this.eventTarget=void 0)}}n.EventManager=class EventManager{constructor(){this.subscribers=[]}on(e,n,r,o){const i=new EventSubscriber(e,n,r,o);return this.subscribers.push(i),{dispose:()=>{const e=this.subscribers.indexOf(i);-1!==e&&(this.subscribers.splice(e,1),i.dispose())}}}dispose(){this.subscribers.forEach((e=>e.dispose())),this.subscribers=[]}}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/common/keyboard.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/rich-text-editor/common/tools.ts"),r("./controls/compound/rich-text-editor/common/env.ts"),r("./controls/compound/rich-text-editor/common/events.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ShortcutService=n.isEscapeKey=n.isFunctionKey=n.hasShortcutModifier=n.isInsertFromPasteOrDrop=n.isInsertTextDataNull=n.isInsertReplacementText=n.isTypingKeyboardEvent=n.isNonTypingKeyboardEvent=n.isDeleteEvent=n.parseShortcut=n.createDisplayShortcut=n.encodedShortcutPattern=n.VK=void 0,n.VK={BACKSPACE:"Backspace",DELETE:"Delete",DOWN:"ArrowDown",ENTER:"Enter",ESC:"Escape",LEFT:"ArrowLeft",RIGHT:"ArrowRight",SPACEBAR:" ",TAB:"Tab",UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",CAPS_LOCK:"CapsLock",NUM_LOCK:"NumLock",PRINT_SCREEN:"F13",SCROLL_LOCK:"ScrollLock",PAUSE:"Pause",INSERT:"Insert",ALT:"Alt",SHIFT:"Shift",CTRL:"Control",META:"Meta",CONTEXT:"ContextMenu",modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||n.VK.metaKeyPressed(e),metaKeyPressed:e=>o.Env.os.isMacOS()||o.Env.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey};const a=r.Tools.makeMap("alt,ctrl,shift,meta,access"),isModifier=e=>e in a;function encodedShortcutPattern(e){return e.replace(/\+\s*\>/g,`+${">".charCodeAt(0)}`).trim()}function parseShortcut(e){const n={},i=o.Env.os.isMacOS()||o.Env.os.isiOS();r.Tools.forEach(r.Tools.explode(e.toLowerCase(),"+"),(e=>{isModifier(e)?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.key=String.fromCharCode(parseInt(e)):n.key=e}));const l=[n.key];let c;for(c in a)n[c]?l.push(c):n[c]=!1;return n.id=l.join(","),n.access&&(n.alt=!0,i?n.ctrl=!0:n.shift=!0),n.meta&&(i?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n}n.encodedShortcutPattern=encodedShortcutPattern,n.createDisplayShortcut=function createDisplayShortcut(e){const n=o.Env.os.isMacOS()||o.Env.os.isiOS();return r.Tools.map(r.Tools.explode(e.trim()),(e=>r.Tools.map(r.Tools.explode(encodedShortcutPattern(e),">"),(e=>{const o=[];return r.Tools.forEach(r.Tools.explode(e.toLowerCase(),"+"),(e=>{isModifier(e)?o.push((e=>e?e.charAt(0).toUpperCase()+e.substring(1).toLowerCase():e)("meta"!==e||n?e:"ctrl")):o.push(e.toUpperCase())})),o.join("+")})).join(" "))).join(", ")},n.parseShortcut=parseShortcut;const l=[n.VK.TAB,n.VK.ESC,n.VK.HOME,n.VK.END,n.VK.PAUSE,n.VK.CAPS_LOCK,n.VK.PRINT_SCREEN,n.VK.NUM_LOCK,n.VK.SCROLL_LOCK,n.VK.PAGE_UP,n.VK.PAGE_DOWN,n.VK.INSERT,n.VK.ALT,n.VK.SHIFT,n.VK.CTRL,n.VK.META,n.VK.CONTEXT,n.VK.DOWN,n.VK.UP,n.VK.LEFT,n.VK.RIGHT];function isDeleteEvent(e){const r=e.key;return r===n.VK.BACKSPACE||r===n.VK.DELETE}function hasShortcutModifier(e){return e.altKey||e.ctrlKey||e.metaKey}function isEscapeKey(e){return"keydown"===e.type&&e.key===n.VK.ESC}n.isDeleteEvent=isDeleteEvent,n.isNonTypingKeyboardEvent=function isNonTypingKeyboardEvent(e){const r=e.key;return!isDeleteEvent(e)&&(n.VK.metaKeyPressed(e)||e.altKey||e.keyCode>=112&&e.keyCode<=123||-1!==l.indexOf(r))},n.isTypingKeyboardEvent=function isTypingKeyboardEvent(e){return!(isDeleteEvent(e)||"keyup"===e.type&&229===e.keyCode)},n.isInsertReplacementText=function isInsertReplacementText(e){return"insertReplacementText"===e.inputType},n.isInsertTextDataNull=function isInsertTextDataNull(e){return"insertText"===e.inputType&&null===e.data},n.isInsertFromPasteOrDrop=function isInsertFromPasteOrDrop(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType},n.hasShortcutModifier=hasShortcutModifier,n.isFunctionKey=function isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},n.isEscapeKey=isEscapeKey;n.ShortcutService=class ShortcutService{constructor(e){this.root={},e&&(this.eventManager=new i.EventManager,this.eventManager.on(e,"keyup keydown",(e=>this.dispatch(e)),!0))}dispose(){var e;null===(e=this.eventManager)||void 0===e||e.dispose()}dispatch(e,n){e.defaultPrevented||"keyup"!==e.type&&"keydown"!==e.type||this.dispatchKeyboardEvent(e,n)}addShortcut(e,n,o){return r.Tools.forEach(r.Tools.explode(e.trim()),(e=>{this.createShortcut(this.root,e,n,o)})),this}createShortcut(e,n,o,i){let a=e;n=encodedShortcutPattern(n),r.Tools.forEach(r.Tools.map(r.Tools.explode(n,">"),parseShortcut),(e=>{a.patterns||(a.patterns={});const n=a.patterns[e.id]||{shortcut:e};a.patterns[e.id]=n,a=n})),e!==a&&(a.handler=o,a.scope=i)}matchShortcut(e,n){return!(!e||!n)&&(n.ctrl===e.ctrlKey&&n.meta===e.metaKey&&n.alt===e.altKey&&n.shift===e.shiftKey&&(e.key.toLowerCase()===n.key.toLowerCase()&&(e.preventDefault(),e.stopImmediatePropagation(),!0)))}executeShortcut(e,n){var r;null===(r=e.handler)||void 0===r||r.call(e.scope||n,n)}dispatchKeyboardEvent(e,n){var o;if(this.pendingPatterns&&isEscapeKey(e))return this.pendingPatterns=void 0,void e.preventDefault();if(hasShortcutModifier(e)||e.key.length>1){const i=null!==(o=this.pendingPatterns)&&void 0!==o?o:this.root.patterns;r.Tools.forEach(i,(r=>{if(r.shortcut&&this.matchShortcut(e,r.shortcut))return"keydown"===e.type&&this.executeShortcut(r,n),this.pendingPatterns=r.patterns,!1}))}else"keydown"===e.type&&(this.pendingPatterns=void 0)}}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/common/tools.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Tools=n.normalizeLineBreaks=void 0,n.normalizeLineBreaks=function normalizeLineBreaks(e){return e.replace(/\r\n/g,"\n")};const isArrayLike=e=>void 0!==e.length;n.Tools={newGuid:()=>{const s=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return s()+s()+"-"+s()+"-"+s()+"-"+s()+"-"+s()+s()+s()},makeMap:(e,r,o={})=>{const i=n.Tools.explode(e,r);let a=i.length;for(;a--;)o[i[a]]={};return o},explode:(e,n)=>Array.isArray(e)?e:""===e?[]:e.split(n||",").map((e=>e.trim())),some:(e,r,o)=>{if(!e)return!1;o=o||e;let i=!1;return isArrayLike(e)?n.Tools.forEach(e,((e,n,a)=>{if(!0===r.call(o,e,n,a))return i=!0,!1})):n.Tools.forEach(e,((e,n,a)=>{if(!0===r.call(o,e,n,a))return i=!0,!1})),i},forEach:(e,n,r)=>{if(!e)return!1;if(r=r||e,isArrayLike(e)){for(let o=0,i=e.length;o<i;o++)if(!1===n.call(r,e[o],o,e))return!1}else for(const o in e)if(e.hasOwnProperty(o)&&!1===n.call(r,e[o],o,e))return!1;return!0},map:(e,r)=>{const o=[];return n.Tools.forEach(e,((n,i)=>{o.push(r(n,i,e))})),o},toRecord:(e,n)=>e.reduce(((e,r)=>(e[r[n]]=r,e)),{}),extend:(e,...n)=>{if(e)for(const r of n)for(const n in r)if(r.hasOwnProperty(n)){const o=r[n];void 0!==o&&(e[n]=o)}return e},merge:(e,n)=>{let r=0,o=0;const i=[];for(;r<e.length&&o<n.length;)i.push(e[r]<=n[o]?e[r++]:n[o++]);return i.concat(e.slice(r)).concat(n.slice(o))},defineProperty:(e,n,r)=>{e.hasOwnProperty(n)||Object.defineProperty(e,n,r)},defineProperties:(e,r)=>{n.Tools.forEach(r,((r,o)=>{n.Tools.defineProperty(e,o,r)}))}}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./controls/compound/rich-text-editor/common/types.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./controls/compound/rich-text-editor/common/tools.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NodeType=n.Type=n.createCachedModel=n.defaultModelConverter=n.asyncResolveValue=n.resolveIntoGetter=n.resolveValue=n.Lazy=n.mutable=void 0,n.mutable=function mutable(e){return e};class Lazy{constructor(e){this.getter=e}get(){const e=this.getter();return this.getter=()=>e,e}}function defaultModelConverter(e,n,r,o){return"getPushed"===e&&(o.toggle=i.isFunction(n)),"icon"===e&&n&&(o.images={normal:n}),n}var i;n.Lazy=Lazy,n.resolveValue=function resolveValue(e){return"function"==typeof e?e():e||""},n.resolveIntoGetter=function resolveIntoGetter(e){return"function"==typeof e?e:"string"==typeof e?()=>e:void 0},n.asyncResolveValue=function asyncResolveValue(e){return r.__awaiter(this,void 0,void 0,(function*(){return"function"==typeof e?yield e():e||""}))},n.defaultModelConverter=defaultModelConverter,n.createCachedModel=function createCachedModel(e,n,r=defaultModelConverter){var a;return(null!==(a=(null==n?void 0:n.model)===e?n:null)&&void 0!==a?a:{model:e,refresh:function(){const n=this;return o.Tools.forEach(e,((a,l)=>{if("refresh"!==l)if(a=r(l,a,e,n),i.isFunction(a))if(0===a.length&&l.length>3&&0===l.indexOf("get")){const o=new Lazy(a.bind(e));n[l]=o.get.bind(o);const i=l.substring(3).toLowerCase();r(i,a,e,n),n.hasOwnProperty(i)||Object.defineProperty(n,i,{get:()=>n[l].call(n)})}else n[l]=a.bind(e);else i.isArrayOf(a,i.isObject)?n[l]=o.Tools.map(a,((e,r)=>{var o;return createCachedModel(e,(null!==(o=n[l])&&void 0!==o?o:[])[r])})):i.isObject(a)?n[l]=createCachedModel(a,n[l]):n[l]=a})),n}}).refresh()},function(e){const n=Object.getPrototypeOf,hasProto=(e,n,r)=>{var o;return!!r(e,n.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===n.name},isType=e=>n=>(e=>{const n=typeof e;return null===e?"null":"object"===n&&Array.isArray(e)?"array":"object"===n&&hasProto(e,String,((e,n)=>n.isPrototypeOf(e)))?"string":n})(n)===e,isSimpleType=e=>n=>typeof n===e,eq=e=>n=>e===n;e.is=(r,o)=>e.isObject(r)&&hasProto(r,o,((e,r)=>n(e)===r)),e.isString=isType("string"),e.isObject=isType("object"),e.isPlainObject=n=>e.is(n,Object),e.isArray=isType("array"),e.isNull=eq(null),e.isBoolean=isSimpleType("boolean"),e.isUndefined=eq(void 0),e.isNullable=e=>null==e,e.isNonNullable=n=>!e.isNullable(n),e.isFunction=isSimpleType("function"),e.isNumber=isSimpleType("number"),e.isArrayOf=(n,r)=>{if(e.isArray(n)){for(let e=0,o=n.length;e<o;++e)if(!r(n[e]))return!1;return!0}return!1}}(i=n.Type||(n.Type={})),function(e){const isNodeType=e=>n=>!!n&&n.nodeType===e;e.isRestrictedNode=e=>!!e&&!Object.getPrototypeOf(e),e.isElement=isNodeType(Node.ELEMENT_NODE);const matchNodeName=e=>{const n=e.toLowerCase();return e=>i.isNonNullable(e)&&e.nodeName.toLowerCase()===n},matchNodeNames=e=>{const n=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const r=e.nodeName.toLowerCase();return-1!==n.indexOf(r)}return!1}};e.isTable=n=>e.isElement(n)&&"TABLE"===n.tagName;const hasContentEditableState=n=>r=>{if(e.isElement(r)){if(r.contentEditable===n)return!0;if(r.getAttribute("data-mce-contenteditable")===n)return!0}return!1};e.isTextareaOrInput=matchNodeNames(["textarea","input"]),e.isText=isNodeType(Node.TEXT_NODE),e.isCData=isNodeType(Node.CDATA_SECTION_NODE),e.isPi=isNodeType(Node.PROCESSING_INSTRUCTION_NODE),e.isComment=isNodeType(Node.COMMENT_NODE),e.isDocument=isNodeType(Node.DOCUMENT_NODE),e.isDocumentFragment=isNodeType(Node.DOCUMENT_FRAGMENT_NODE),e.isBr=matchNodeName("br"),e.isImg=matchNodeName("img"),e.isContentEditableTrue=hasContentEditableState("true"),e.isContentEditableFalse=hasContentEditableState("false"),e.isTableCell=matchNodeNames(["td","th"]),e.isTableCellOrCaption=matchNodeNames(["td","th","caption"]),e.isMedia=matchNodeNames(["video","audio","object","embed"]),e.isListItem=matchNodeName("li"),e.isAnchor=matchNodeNames(["a"])}(n.NodeType||(n.NodeType={}))}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/editor/dom.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/rich-text-editor/common/types.ts"),r("./controls/compound/rich-text-editor/common/tools.ts"),r("./controls/compound/rich-text-editor/editor/sanitizer.ts")],i=function(e,n,r,o,i){"use strict";function sizeToPx(e){var n;const r=e.toLowerCase().match(/^([\d\.]+)(\D*)$/);if(!r)return 0;let o=parseFloat(r[1]);return isNaN(o)?0:("pt"===(null!==(n=r[2])&&void 0!==n?n:"").toLowerCase()&&(o=o/1.5*2),o)}function getCSSProperty(e,n,r){var o;const i=e.ownerDocument;return(null!==(o=null==i?void 0:i.defaultView)&&void 0!==o?o:window).getComputedStyle(e).getPropertyValue(n)||r}Object.defineProperty(n,"__esModule",{value:!0}),n.DOMUtils=n.HTMLUtils=n.TextUtils=n.getNumberCSSProperty=n.getCSSProperty=n.sizeToPx=void 0,n.sizeToPx=sizeToPx,n.getCSSProperty=getCSSProperty,n.getNumberCSSProperty=function getNumberCSSProperty(e,n,r=0){const o=getCSSProperty(e,n);return void 0!==o?sizeToPx(o):r};const a="data-rte-style";class DecomposedHtml{constructor(e){var n,r;if(this.format="html",this.html="",this.body="","object"==typeof e)return this.format=e.format,this.html=e.html,void(this.body=e.body);if(""===(e=e.trim()))return;if(!HTMLUtils.isHtml(e))return this.format="plain",void(this.body=e);const o=HTMLUtils.createDocument(e);try{if((null===(n=o.head)||void 0===n?void 0:n.hasChildNodes())&&o.head.querySelector("*:not(["+a+"])"))return void(this.format="html");this.format="fragment"}finally{this.body=null!==(r=o.body.innerHTML)&&void 0!==r?r:"",o.body.removeAttribute("contenteditable"),o.body.removeAttribute("spellcheck"),o.body.replaceChildren(),this.html=o.documentElement.outerHTML}}compose(e=!0,n){var r;if("plain"===this.format)return this.body;const o=HTMLUtils.createDocument(this.html);return o.body.innerHTML=e?(new i.HtmlSanitizer).SanitizeHtml(this.body):this.body,void 0!==n&&HTMLUtils.replaceEmbeddedStyles(o,n),(null===(r=o.head)||void 0===r?void 0:r.hasChildNodes())&&Array.from(o.head.querySelectorAll("*["+a+"]")).forEach((e=>e.removeAttribute(a))),o.documentElement.outerHTML}}class TextUtils{static isContentFlowNode(e){return!!e&&this.contentFlowTags.has(e.nodeName.toLowerCase())}static isContentAlwaysFilledNode(e){return!!e&&this.contentAlwaysFilledTags.has(e.nodeName.toLowerCase())}static nodeGeneratesInlineText(e,n){var r;if(!e){if(!n)return!1;const e=n.parentNode;return!!e&&(!!this.isContentFlowNode(e)&&this.nodeGeneratesInlineText(e.nextSibling,e))}return!!this.isContentAlwaysFilledNode(e)||!!this.isContentFlowNode(e)&&(e.nodeType===Node.TEXT_NODE&&0!==(null!==(r=e.textContent)&&void 0!==r?r:"").trim().length||(!!this.nodeGeneratesInlineText(e.firstChild,null)||this.nodeGeneratesInlineText(e.nextSibling,n)))}static replaceAll(e,n,r){return e.replace(new RegExp(n,"g"),r)}static compressSoftChar(e,n,r=1){const o=[];for(let e=0;e<Math.max(1,r);e++)o.push(n);const i=o.join(""),a=i+n;for(;;){const n=this.replaceAll(e,a,i);if(n.length===e.length)break;e=n}return e}static convertContentTo(e,n){Array.from(e.childNodes).forEach((e=>this.convertTo(e,n)))}static isPreformattedNode(e){const isPre=e=>{var n,r,o;if("pre"===e.nodeName.toLowerCase())return!0;const i=e.ownerDocument,a=null!==(r=null===(n=null==i?void 0:i.defaultView)||void 0===n?void 0:n.getComputedStyle(e))&&void 0!==r?r:e.style,l=null!==(o=null==a?void 0:a.whiteSpace)&&void 0!==o?o:"";return!!l.startsWith("pre")||"normal"!==l&&void 0};for(;e;){if(e.nodeType===Node.ELEMENT_NODE){const n=isPre(e);if(void 0===n){e=e.parentNode;continue}return n}e=e.parentNode}return!1}static fromTextContent(e){let n=!0;const r=[],o=String.fromCharCode(160);for(let i=0;i<e.length;i++){const a=e.charAt(i);if(" "===a){if(n)continue;r.push(" "),n=!0}else a===o?(r.push(" "),n=!1):(r.push(a),n=!1)}return r.join("")}static toTextContent(e){let n=!0;const r=[],o=String.fromCharCode(160);for(let i=0;i<e.length;i++){const a=e.charAt(i);" "===a?(n?r.push(o):r.push(" "),n=!n):(r.push(a),n=!1)}return r.join("")}static convertTo(e,n){var r,o,i;let a="";switch(e.nodeType){case Node.COMMENT_NODE:break;case Node.DOCUMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:this.convertContentTo(e,n);break;case Node.TEXT_NODE:const l=null!==(o=null===(r=e.parentNode)||void 0===r?void 0:r.nodeName.toLowerCase())&&void 0!==o?o:"";if("script"===l||"style"===l||"head"===l)break;a=this.fromTextContent(null!==(i=e.textContent)&&void 0!==i?i:""),this.isPreformattedNode(e)||(this.nodeGeneratesInlineText(e.nextSibling,e)||(a=a.trimEnd()),a=this.replaceAll(this.replaceAll(a,"\n",this.softSpace),"\r","")),n.push(a);break;case Node.ELEMENT_NODE:switch(e.nodeName.toLowerCase()){case"hr":n.push(this.hardBreak);break;case"br":this.nodeGeneratesInlineText(e.nextSibling,e)&&n.push(this.hardBreak);break;case"tr":case"li":case"div":case"p":case"pre":n.push(this.blockStart),this.nodeGeneratesInlineText(e.firstChild,null)&&n.push(this.placeHolder)}if(e.hasChildNodes())if("td"!==e.nodeName.toLowerCase())this.convertContentTo(e,n);else{const r=[];this.convertContentTo(e,r);let o=r.join("");o=this.replaceAll(o,this.hardBreak,this.softSpace),o=this.replaceAll(o,this.blockStart,this.softSpace),o=this.replaceAll(o,this.blockEnd,this.softSpace),o=this.replaceAll(o,this.placeHolder,""),o=this.compressSoftChar(o,this.softSpace),o=this.replaceAll(o,this.softSpace," "),n.push(o.trim())}switch(e.nodeName.toLowerCase()){case"tr":case"li":case"div":case"p":case"pre":n.push(this.blockEnd);break;case"td":n.push(this.softSpace)}}}static htmlEncode(e){const n=document.createElement("span");return n.textContent=this.toTextContent(e),n.innerHTML}static htmlDecode(e){var n;const r=document.createElement("span");return r.innerHTML=e,null!==(n=r.textContent)&&void 0!==n?n:""}static convertTextToHtml(e){return e?e.split("\n").map((e=>""===e?"<p><br></p>":"<p>"+this.htmlEncode(e)+"</p>")).join("\n"):""}static nodeToText(e){var n;let r=!0,o=e.firstChild;for(;o;){if(o.nodeType!==Node.TEXT_NODE){r=!1;break}o=o.nextSibling}if(r)return null!==(n=e.textContent)&&void 0!==n?n:"";const i=[];this.convertTo(e,i);let a=i.join("");return a=this.compressSoftChar(a,this.blockStart),a=this.compressSoftChar(a,this.blockEnd),a=this.replaceAll(a,this.blockStart+this.blockEnd,""),a=this.replaceAll(a,this.blockEnd+this.blockStart,this.hardBreak),a=this.replaceAll(a,this.blockStart,this.hardBreak),a=this.replaceAll(a,this.blockEnd,this.hardBreak),a=this.replaceAll(a,this.placeHolder,""),a=this.replaceAll(this.compressSoftChar(a,this.softSpace),this.softSpace," "),a.trim()}static convertHtmlToSimpleText(e){if(!HTMLUtils.isHtml(e))return{format:"plain",html:"",body:e};const n=HTMLUtils.createDocument(e);return{format:"plain",html:"",body:this.nodeToText(n.body)}}static convertValueToPlainText(e){if(!e)return{format:"plain",html:"",body:""};if("plain"===e.format)return e;const n=HTMLUtils.createDocument("");return n.body.innerHTML=e.body,{format:"plain",html:"",body:this.nodeToText(n.body)}}static elementIsPlain(e){if("string"==typeof e){if(!e)return!0;e=HTMLUtils.createDocument(`<html><body>${e}</body></html>`).body}if(e.nodeType===Node.TEXT_NODE)return!0;const n=e.nodeName.toLowerCase();if("br"===n)return!0;if("body"!==n&&("p"!==n||e.hasAttribute("style")))return!1;const r=Array.from(e.childNodes);for(const e of r)if(!this.elementIsPlain(e))return!1;return!0}static elementHasContent(e){var n;if("string"==typeof e){if(!e)return!1;e=HTMLUtils.createDocument(`<html><body>${e}</body></html>`).body}if(r.NodeType.isElement(e)){if(e.querySelector("img, svg, video"))return!0}return!!(null===(n=e.textContent)||void 0===n?void 0:n.trim())}}function createPairedMatchExpr(e){return new RegExp(/<(tagName)\b[^>]*>(.*?)<\/\1>/.source.replace("tagName",e),"is")}n.TextUtils=TextUtils,TextUtils.contentFlowTags=new Set(["#text","br","span","i","b","a","input","select","button","sub","sup","strong","small","label","img","svg"]),TextUtils.contentAlwaysFilledTags=new Set(["br","input","select","button","img","svg"]),TextUtils.softSpace="48fa303b-ab44-43a1-91ed-99006919eae3",TextUtils.blockStart="13fc34b9-1efc-434b-bf77-4f857731c2e5",TextUtils.blockEnd="ccb5d4fc-b52b-4e8b-a256-20d0956a10c0",TextUtils.placeHolder="192d7c0a-80b1-4918-86d3-67755f4ae96f",TextUtils.hardBreak="\n";class HTMLUtils{static uniqueClass(e){return`${e||"r"}-${o.Tools.newGuid()}`}static isHtml(e){return!!e&&this.htmlMatches.some((n=>!!e.match(n)))}static createDocument(e){const normalizeDocument=e=>{var n;return"body"!==(null===(n=e.body)||void 0===n?void 0:n.tagName.toLowerCase())&&e.body.remove(),"function"!=typeof e.createElement&&"function"==typeof e.createElement.remove&&e.createElement.remove(),e.body||e.documentElement.appendChild(e.createElement("body")),e};if("string"==typeof e){const n=new DOMParser;if(!e)return normalizeDocument(n.parseFromString("","text/html"));if(this.isHtml(e))return normalizeDocument(n.parseFromString(e,"text/html"));const r=normalizeDocument(n.parseFromString("","text/html"));return r.body.textContent=e,r}return normalizeDocument(e)}static setAttribute(e,n,r){"object"==typeof n?o.Tools.forEach(n,((n,r)=>{e.setAttribute(r,n)})):"string"==typeof r&&e.setAttribute(n,r)}static addStyle(e,n){var r;const i=e.head;n=(0,o.normalizeLineBreaks)(n.trim());const l=null===(r=Array.from(i.querySelectorAll("style")))||void 0===r?void 0:r.filter((e=>(0,o.normalizeLineBreaks)(e.innerText.trim())===n));if(null==l||l.forEach((e=>e.setAttribute(a,"true"))),null==l?void 0:l.length)return;const c=e.createElement("style");this.setAttribute(c,{type:"text/css",[a]:"true"}),c.appendChild(e.createTextNode(n)),i.appendChild(c)}static addStyleLinks(e,n){const r=e.head;o.Tools.forEach(n,(n=>{try{if(r.querySelector("link[href='"+n+"']"))return}catch(e){}const o=e.createElement("link");this.setAttribute(o,{rel:"stylesheet",type:"text/css",[a]:"true"}),r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),this.setAttribute(o,"href",n)}))}static classListToArray(e){var n;return null!==(n=null==e?void 0:e.split(" ").map((e=>e.trim())).filter((e=>!!e)))&&void 0!==n?n:[]}static embedStyles(e,n,r){if(r.cssLinks){const n=[];for(const e of r.cssLinks)n.push(e);this.addStyleLinks(e,n)}if(r.contentStyles){let n="";for(const e of r.contentStyles)n+=e+"\n";n&&this.addStyle(e,`/* RTE style begin */${n}/* RTE style end */`)}this.classListToArray(r.rootClass).forEach((e=>n.classList.add(e)))}static replaceEmbeddedStyles(e,n){var r,o,i,l;const c=this.createDocument(e);Array.from(null!==(o=null===(r=c.head)||void 0===r?void 0:r.querySelectorAll("*["+a+"]"))&&void 0!==o?o:[]).forEach((e=>e.remove())),Array.from(null!==(l=null===(i=c.head)||void 0===i?void 0:i.querySelectorAll("style"))&&void 0!==l?l:[]).forEach((e=>{var n,r;(null!==(r=null===(n=e.textContent)||void 0===n?void 0:n.trim())&&void 0!==r?r:"").startsWith("/* RTE style begin */")&&e.remove()})),n&&this.embedStyles(c,c.body,n)}static decomposeHtml(e,n){let r;return"plain"!==n?(r=new DecomposedHtml(e),{format:null!=n?n:r.format,html:r.html,body:r.body}):{format:"plain",html:"",body:e}}static composeHtml(e,n=!0,r){return new DecomposedHtml(e).compose(n,r)}static getHtmlFromDocument(e){return new DecomposedHtml(e.documentElement.outerHTML)}}n.HTMLUtils=HTMLUtils,HTMLUtils.htmlMatches=[createPairedMatchExpr("head"),function createSingleMatchExpr(e){return new RegExp(/<(tagName)\b[^>]*>/.source.replace("tagName",e),"is")}("meta"),createPairedMatchExpr("body"),createPairedMatchExpr("html")];class SelectionBookmark{constructor(e){this.dom=e;const n=e.document.getSelection();if(n){const r=e.isForwardSelection(n);this.insertMarkers(n,r)}}dispose(){var e,n;if(!this.startMarker)return;const r=this.dom.isForward(null===(e=this.startMarker)||void 0===e?void 0:e.node,null===(n=this.endMarker)||void 0===n?void 0:n.node),o=r?this.startMarker:this.endMarker,i=r?this.endMarker:this.startMarker,a=this.removeMarker(null==o?void 0:o.node,null==o?void 0:o.type),l=this.removeMarker(null==i?void 0:i.node,null==i?void 0:i.type);if(this.startMarker=void 0,this.endMarker=void 0,!a)return;const c=this.dom.document.createRange();if(c.setStart(a.node,a.offset),l)c.setEnd(l.node,l.offset);else try{c.setEnd(a.node,a.offset)}catch(e){}this.dom.setRange(c,r)}generateMarkers(){const e=this.dom.document.body.innerHTML;let n=o.Tools.newGuid();for(;-1!==e.indexOf(n);)n=o.Tools.newGuid();return{startText:"start["+n+"]",endText:"end["+n+"]"}}insertMarker(e,n,r){var o,i,a,l,c,d,u,p,b,g,m;const f=this.dom.document,v=f.createComment(r),y=SelectionBookmark.textNodeConstructors[e.nodeType];if(y){const r=f[y],g=null!==(i=null===(o=e.textContent)||void 0===o?void 0:o.substring(0,n))&&void 0!==i?i:"",m=null!==(l=null===(a=e.textContent)||void 0===a?void 0:a.substring(n))&&void 0!==l?l:"",x=r.call(f,g),C=r.call(f,m);n&&(null===(c=e.parentNode)||void 0===c||c.insertBefore(x,e)),null===(d=e.parentNode)||void 0===d||d.insertBefore(v,e),m.length&&(null===(u=e.parentNode)||void 0===u||u.insertBefore(C,e)),(null===(p=e.textContent)||void 0===p?void 0:p.length)&&(null===(b=e.parentNode)||void 0===b||b.removeChild(e))}else this.dom.insertNodeAt(e,v,n);let x;return x=y?n?n===(null!==(m=null===(g=e.textContent)||void 0===g?void 0:g.length)&&void 0!==m?m:0)?"end":"split":"start":"node",{node:v,type:x,key:r}}insertMarkers(e,n){var r,o,i,a,l,c,d,u,p,b,g,m,f,v,y,x;if(!e||!e.rangeCount)return;const{startText:C,endText:S}=this.generateMarkers(),D=e.getRangeAt(0);"br"===(null===(r=D.startContainer)||void 0===r?void 0:r.nodeName.toLowerCase())&&D.startContainer.parentNode&&D.setStart(D.startContainer.parentNode,this.dom.nodeIndex(D.startContainer)+1),"br"===(null===(o=D.endContainer)||void 0===o?void 0:o.nodeName.toLowerCase())&&D.endContainer.parentNode&&D.setEnd(D.endContainer.parentNode,this.dom.nodeIndex(D.endContainer)+1);const{startOffset:E,endOffset:k,startContainer:T,endContainer:_}=D;if(T!==_)D.compareBoundaryPoints(Range.START_TO_END,D)?(this.endMarker=this.insertMarker(_,k,S),this.startMarker=this.insertMarker(T,E,C)):(this.startMarker=this.insertMarker(T,E,C),this.endMarker=this.insertMarker(_,k,S));else if(E===k)this.startMarker=this.insertMarker(T,E,C);else{const e=T,n=this.dom.document,r=n.createComment(C),o=n.createComment(S),x=SelectionBookmark.textNodeConstructors[e.nodeType];let D="",_="";if(x){const C=Math.min(E,k),S=Math.max(E,k),T=n[x],M=null!==(a=null===(i=e.textContent)||void 0===i?void 0:i.substring(0,C))&&void 0!==a?a:"",R=null!==(c=null===(l=e.textContent)||void 0===l?void 0:l.substring(C,S))&&void 0!==c?c:"",I=null!==(u=null===(d=e.textContent)||void 0===d?void 0:d.substring(S))&&void 0!==u?u:"",F=T.call(n,M),A=T.call(n,R),O=T.call(n,I);let P;M.length>0?(null===(p=e.parentNode)||void 0===p||p.insertBefore(F,e),P="split"):P="start",E<=k?(null===(b=e.parentNode)||void 0===b||b.insertBefore(r,e),D=P):(null===(g=e.parentNode)||void 0===g||g.insertBefore(o,e),_=P),null===(m=e.parentNode)||void 0===m||m.insertBefore(A,e),null===(f=e.parentNode)||void 0===f||f.insertBefore(E<k?o:r,e),I.length>0?(null===(v=e.parentNode)||void 0===v||v.insertBefore(O,e),E<k?_="split":D="split"):E<k?_="end":D="end",null===(y=e.parentNode)||void 0===y||y.removeChild(e)}else E<k?(this.dom.insertNodeAt(e,o,k),this.dom.insertNodeAt(e,r,E)):(this.dom.insertNodeAt(e,r,E),this.dom.insertNodeAt(e,o,k)),D="node",_="node";this.startMarker={node:r,type:D,key:C},this.endMarker={node:o,type:_,key:S}}if(this.dom.setRangeBetween(this.startMarker.node,(null===(x=this.endMarker)||void 0===x?void 0:x.node)?this.endMarker.node:this.startMarker.node,n),!n&&this.endMarker){const e=this.endMarker;this.endMarker=this.startMarker,this.startMarker=e}}removeMarker(e,n){var r,o,i,a,l,c;if(e)try{if("split"===n){const n=e.previousSibling;if((null==n?void 0:n.nodeType)!==Node.TEXT_NODE){const r=null==n?void 0:n.parentNode;if(!r)return;return{node:r,offset:this.dom.nodeIndex(e)}}const l=null!==(o=null===(r=n.textContent)||void 0===r?void 0:r.length)&&void 0!==o?o:0;return(null===(i=e.nextSibling)||void 0===i?void 0:i.nodeType)===Node.TEXT_NODE&&(n.textContent+=null!==(a=e.nextSibling.textContent)&&void 0!==a?a:"",this.dom.deleteNode(e.nextSibling)),{node:n,offset:l}}if("start"===n){const n=e.nextSibling||e.parentNode;if(!n)return;return{node:n,offset:0}}if("end"===n){let n=e.previousSibling;for(;n&&n.nodeType!==Node.TEXT_NODE;)n=n.lastChild;if(!n)return;return{node:n,offset:null!==(c=null===(l=n.textContent)||void 0===l?void 0:l.length)&&void 0!==c?c:0}}{const n=e.parentNode;if(!n)return;return{node:n,offset:this.dom.nodeIndex(e)}}}finally{this.dom.deleteNode(e)}}}SelectionBookmark.textNodeConstructors={3:"createTextNode",4:"createCDATASection",8:"createComment"};class DOMUtils{constructor(e){this.document=e}execCommand(e,n){return"fontsize"===e.toLowerCase()?this.setFontSize(n):this.document.execCommand(e,!1,n)}queryCommandSupported(e){return this.document.queryCommandSupported(e)}queryCommandEnabled(e){return this.document.queryCommandEnabled(e)}queryCommandState(e){return this.document.queryCommandState(e)}queryCommandValue(e){return this.document.queryCommandValue(e)}generateUniqueId(){let e=o.Tools.newGuid();for(;this.document.getElementById(e);)e=o.Tools.newGuid();return e}detachedNode(e){return!e||!e.parentNode||(!e.ownerDocument||!e.ownerDocument.contains(e))}isForward(e,n,o,i){const a=this.document;if(!e||!n||r.NodeType.isRestrictedNode(e)||r.NodeType.isRestrictedNode(n))return!0;if(this.detachedNode(e)||this.detachedNode(n))return!0;const l=a.createRange(),c=a.createRange();try{l.setStart(e,o||0),l.collapse(!0),c.setStart(n,i||0),c.collapse(!0)}catch(e){return!0}return l.compareBoundaryPoints(l.START_TO_START,c)<=0}isForwardSelection(e){if(!e)return!0;const n=e.anchorNode,r=e.focusNode;return this.isForward(n,r,e.anchorOffset,e.focusOffset)}getHtmlFromDocument(e){var n;const r=null!==(n=this.document.cloneNode(!0))&&void 0!==n?n:this.document;return HTMLUtils.replaceEmbeddedStyles(r),(null==e?void 0:e.rootClass)&&(HTMLUtils.classListToArray(e.rootClass).forEach((e=>r.body.classList.remove(e))),""===r.body.className&&r.body.removeAttribute("class")),new DecomposedHtml(r.documentElement.outerHTML)}setHtmlToDocument(e,n,r){let o="";e&&(o="plain"===e.format?TextUtils.convertTextToHtml(e.body):HTMLUtils.composeHtml(e));const i=this.document;try{i.open(),i.write(o),i.close()}catch(e){}HTMLUtils.replaceEmbeddedStyles(i,n),r?i.body.setAttribute("spellcheck","true"):i.body.removeAttribute("spellcheck")}deleteNode(e){e.parentNode&&e.parentNode.removeChild(e)}nodeIndex(e){if(e&&e.parentNode&&e.parentNode.childNodes)for(let n=0;n<e.parentNode.childNodes.length;n++)if(e.parentNode.childNodes[n]===e)return n;return-1}insertNodeAt(e,n,r){e.childNodes.length>r?e.insertBefore(n,e.childNodes[r]):e.appendChild(n)}contains(e,n){if(e.compareDocumentPosition){const r=e.compareDocumentPosition(n);return!!(Node.DOCUMENT_POSITION_CONTAINED_BY&r)||!r}return!1}cloneRange(e){return{startContainer:e.startContainer,start:e.startOffset,endContainer:e.endContainer,end:e.endOffset}}setRange(e,n=!0){const r=this.document.getSelection();if(r&&(r.removeAllRanges(),e)){try{r.addRange(e)}catch(e){}n&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset))}}setRangeBetween(e,n,r){const o=this.document.createRange();if(!e.parentNode||!n.parentNode)throw new TypeError;e===n?(o.setStart(e.parentNode,this.nodeIndex(e)),o.setEnd(e.parentNode,this.nodeIndex(e))):(o.setStart(e.parentNode,this.nodeIndex(e)),o.setEnd(n.parentNode,this.nodeIndex(n)+1)),this.restoreRange(o,r)}findContainedParent(e,n){const r=this.document.body;if(this.contains(r,e))return{node:e,index:n};let o=e,i=e.parentNode;for(;i&&i.parentNode&&!this.contains(r,i);)o=i,i=i.parentNode;if(i&&this.contains(r,i))for(let e=0;e<i.childNodes.length;e++)if(i.childNodes[e]===o)return{node:i,index:e}}restoreRange(e,n){const r=this.document.getSelection();if(!r)return;let o=!1;try{r.removeAllRanges(),r.addRange(e),o=!0}catch(e){}if(!r.rangeCount&&o){const n=this.findContainedParent(e.startContainer,e.startOffset),o=this.findContainedParent(e.endContainer,e.endOffset);if(n&&o){e.setStart(n.node,n.index),e.setEnd(o.node,o.index);try{r.removeAllRanges(),r.addRange(e)}catch(e){}}}n&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset))}getAllComments(e){const n=this.document,r=n.createTreeWalker(n,NodeFilter.SHOW_COMMENT,(n=>{var r;const o=null!==(r=n.textContent)&&void 0!==r?r:"";return e.indexOf(o)>-1?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}));let o;const i=[];for(;o=r.nextNode();)i.push(o);return i}afterRangeAnchor(e,n,r){let o=e.compareDocumentPosition(n);if(document.DOCUMENT_POSITION_PRECEDING===o)return!0;if(document.DOCUMENT_POSITION_CONTAINS&o){if(!r)return!0;if(o=e.compareDocumentPosition(n.childNodes[r-1]),document.DOCUMENT_POSITION_PRECEDING===o)return!0}return e===n&&this.isTextual(e)}isTextual(e){return[Node.TEXT_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE].indexOf(e.nodeType)>-1}beforeRangeAnchor(e,n,r){let o=e.compareDocumentPosition(n);if(document.DOCUMENT_POSITION_FOLLOWING===o)return!0;if(document.DOCUMENT_POSITION_CONTAINS&o){if(r===n.childNodes.length)return!0;if(o=e.compareDocumentPosition(n.childNodes[r]),document.DOCUMENT_POSITION_FOLLOWING===o)return!0}return e===n&&this.isTextual(e)}withinRange(e,n){const r=this.afterRangeAnchor(e,n.startContainer,n.startOffset),o=this.beforeRangeAnchor(e,n.endContainer,n.endOffset),i=e===n.startContainer&&!n.startOffset,a=e===n.endContainer&&n.endOffset===n.endContainer.childNodes.length;return(r||i)&&(o||a)}getSelectedBottomNodes(e){const n=this.document,r=[];if(e){let o;const i=n.createTreeWalker(n,NodeFilter.SHOW_ALL,null);for(;o=i.nextNode();)o.childNodes&&o.childNodes.length||this.withinRange(o,e)&&r.push(o)}return r.length>1&&(r[0]===e.startContainer&&r[0].childNodes.length<=e.startOffset&&r.shift(),r.length>1&&(r[r.length-1]!==e.endContainer||e.startOffset||r.pop())),r}nodes2names(e){return Array.from(e).map((e=>{let n=e.nodeName.toLowerCase();"strong"===n&&(n="b");const r=e.getAttribute?e.getAttribute("class"):void 0;return r?n+"."+r:n}))}tagNClass(e,...n){const r=e.nodeName.toLowerCase();return-1!==n.findIndex((n=>{const o=n.split(".");return 2===o.length?r===o[0]&&e.className===o[1]:r===o[0]}))}getParentChain(e,n){const r=[];let o=e;for(;o&&(r.push(o),!this.tagNClass(o,n));)o=o.parentNode;return r}substract(e,n){const r=[];for(const o of e)-1===n.indexOf(o)&&r.push(o);return r}diff(e,n){const r=[];for(const o of e)n.indexOf(o)>-1&&r.push(o);return r}getSelectedStyle(e,n,r){this.document;let o;const isEmpty=e=>e.nodeType===Node.TEXT_NODE&&""===e.textContent,isException=e=>n&&n.indexOf(e)>-1,i=e.startContainer===e.endContainer&&e.startOffset===e.endOffset?[e.commonAncestorContainer]:this.getSelectedBottomNodes(e);for(const e of i){if(isException(e)||!r&&isEmpty(e))continue;const n=this.nodes2names(this.getParentChain(e,"BODY"));if(o=void 0===o?this.substract(n,["#text","body"]):this.diff(o,n),o&&!o.length)break}return o||[]}specialEmptyNode(e){switch(e.nodeType){case Node.TEXT_NODE:return""===e.textContent;case Node.ELEMENT_NODE:const n=e;if(n.getAttribute("data-filler")){if(!n.childNodes.length)return!0;if(1===n.childNodes.length&&""===n.childNodes[0].textContent)return!0}}return!1}touchesRange(e,n){if(this.withinRange(e,n))return!0;let r=e.compareDocumentPosition(n.startContainer);return!!(0!==r||document.DOCUMENT_POSITION_CONTAINED_BY&r)||(r=e.compareDocumentPosition(n.endContainer),!!(0!==r||document.DOCUMENT_POSITION_CONTAINED_BY&r))}isInline(e){return!(!e||!e.nodeName)&&DOMUtils.inlineNodeNames.indexOf(e.nodeName.toLowerCase())>-1}insertBefore(e,n){var r;n&&(null===(r=n.parentNode)||void 0===r||r.insertBefore(e,n))}insertAfter(e,n){var r,o;n.nextSibling?null===(r=n.parentNode)||void 0===r||r.insertBefore(e,n.nextSibling):null===(o=n.parentNode)||void 0===o||o.appendChild(e)}tagNClassUp(e,...n){let r=e;for(;r;){if(this.tagNClass(r,...n))return!0;if(r=r.parentNode,1!==(null==r?void 0:r.childNodes.length))break}return!1}findTagNClass(e,...n){for(const r of e)if(this.tagNClass(r,...n))return r;return null}deconstructList(e,n){let r,o;const deconstructLevel=(e,i)=>{let a=[];for(const l of Array.from(e.childNodes))if("li"===l.nodeName.toLowerCase()){const e={markers:i.slice(0),item:l};a.push(e);const c=this.withinRange(l,n);!r&&(this.contains(l,n.startContainer)||c||this.afterRangeAnchor(l,n.startContainer,n.startOffset))&&(r=e,o=e),r&&(this.contains(l,n.endContainer)||c)&&(o=e)}else a=a.concat(deconstructLevel(l,i.concat(l)));return a},i=deconstructLevel(e,[e]);return{list:i,start:i.indexOf(r),end:i.indexOf(o)}}shadowList(e){const n=this.document;for(const r of e)for(let e=0;e<r.markers.length;e++)r.markers[e]=n.createElement(r.markers[e].nodeName)}shiftList(e,n,r,o){const i=this.document;if(this.shadowList(e),o)for(let o=n;o<=r;o++){const n=e[o].markers;n.push(i.createElement(n[n.length-1].nodeName))}else for(let o=n;o<=r;o++)e[o].markers.pop()}removeDuplicateListNodes(e){if(e.length){e[0].newMarkers=e[0].markers.slice(0);for(let n=1;n<e.length;n++){const r=e[n],o=e[n-1],i=Math.min(r.markers.length,o.markers.length);let a=!1;for(let e=0;e<i;e++){if(r.markers[e].nodeName.toLowerCase()!==o.markers[e].nodeName.toLowerCase()){r.insertAt=o.markers[e-1],r.newMarkers=r.markers.slice(e),a=!0;break}r.markers[e]=o.markers[e]}a||(r.insertAt=o.markers[i-1],r.newMarkers=r.markers.slice(i))}}}transferChildren(e,n){for(;e.childNodes.length;)n.appendChild(e.childNodes[0])}reconstructList(e,n){const r=this.document;let o=n;for(const n of e){if(!n.markers.length){const e=r.createElement("div");this.transferChildren(n.item,e),this.insertAfter(e,o),o=e}else{let e=n.insertAt;if(!e){const r=n.newMarkers.shift();r&&(this.insertAfter(r,o),o=r,e=r)}for(;n.newMarkers.length;){const r=n.newMarkers.shift();e.appendChild(r),e=r}e.appendChild(n.item)}}}indentList(e,n,r){this.document;let o=e;for(this.tagNClass(o,"ul","ol")||(o=this.findTagNClass(this.getParentChain(o,"body").reverse(),"ul","ol"));o&&o.parentNode&&this.tagNClass(o.parentNode,"ul","ol");)o=o.parentNode;if(!o)return;const i=this.deconstructList(o,n);this.shiftList(i.list,i.start,i.end,r),this.removeDuplicateListNodes(i.list),this.reconstructList(i.list,o),this.deleteNode(o)}orderedRange(e){const n=this.document;if(!e)return e;const r=e.startContainer.compareDocumentPosition(e.endContainer),swapped=e=>{const r=n.createRange();return r.setStart(e.endContainer,e.endOffset),r.setEnd(e.startContainer,e.startOffset),r};if(r){if(r===document.DOCUMENT_POSITION_PRECEDING)return swapped(e);if(r&document.DOCUMENT_POSITION_CONTAINED_BY){if(this.beforeRangeAnchor(e.endContainer,e.startContainer,e.startOffset))return swapped(e)}else if(r&document.DOCUMENT_POSITION_CONTAINS&&!this.beforeRangeAnchor(e.startContainer,e.endContainer,e.endOffset))return swapped(e)}else if(e.startOffset>e.endOffset)return swapped(e);return e}getLastDescendant(e){const n=this.document.createTreeWalker(e,NodeFilter.SHOW_ALL,null);let r,o=e;for(;r=n.nextNode();)o=r;return o}insideRange(e,n){this.document;const r=this.orderedRange(n);return this.withinRange(e,r)&&this.withinRange(this.getLastDescendant(e),r)}createBlockquoteBlock(){const e=this.document.createElement("blockquote");return e.setAttribute("class","shift"),e.style.marginLeft="40px",e}shiftBlock(e,n){var r;let o;if(this.tagNClass(e,"blockquote.shift")?o=e:e.parentNode&&this.tagNClass(e.parentNode,"blockquote.shift")&&(o=e.parentNode),o&&o.nodeType===Node.ELEMENT_NODE){const e=o,n=e.style.marginLeft,r=sizeToPx(n||"0px");e.style.marginLeft=r+40+"px"}else{const o=n();null===(r=e.parentNode)||void 0===r||r.insertBefore(o,e);let i=e.nextSibling;i&&i.nodeType===Node.COMMENT_NODE&&(i=i.nextSibling),i&&"br"===i.nodeName.toLowerCase()&&this.deleteNode(i),o.appendChild(e)}}indentRec(e,n){this.document;const visibleContent=e=>e.some((e=>!this.specialEmptyNode(e)&&(!(e.nodeType===Node.TEXT_NODE&&!e.textContent)&&e.nodeType!==Node.COMMENT_NODE)));let r=[];for(const o of e)if(!(r.indexOf(o)>-1)&&this.touchesRange(o,n))if(this.isInline(o)){const e=[o];let n=o;for(;(n=n.nextSibling)&&this.isInline(n);)e.push(n);let i=o;for(;(i=i.previousSibling)&&this.isInline(i);)e.shift();if(visibleContent(e)){const r=this.createBlockquoteBlock();for(this.insertBefore(r,o);e.length;){const n=e.shift();n&&r.appendChild(n)}n&&this.tagNClass(n,"br")&&this.deleteNode(n)}r=r.concat(e)}else this.tagNClassUp(o,"ul","ol","li")?this.indentList(o,n,!0):this.tagNClass(o,"table.layout","blockquote.realbq","tbody","tr","td")||!this.insideRange(o,n)?this.indentRec(Array.from(o.childNodes),n):this.tagNClass(o,"br")||this.shiftBlock(o,(()=>this.createBlockquoteBlock()))}createRange(e,n,r,o){const i=this.document.createRange();return e&&i.setStart(e,null!=n?n:0),r&&i.setEnd(r,null!=o?o:0),i}queryRange(e,n){const r=[];if(e.commonAncestorContainer.nodeType===Node.ELEMENT_NODE){const o=e.commonAncestorContainer,i=Array.from(o.querySelectorAll(n));for(const n of i)this.withinRange(n,e)&&r.push(n)}return r}isRangeFlipped(e){return e.startContainer===e.endContainer?e.startOffset>e.endOffset:!!(document.DOCUMENT_POSITION_PRECEDING&e.startContainer.compareDocumentPosition(e.endContainer))}partition(e,n,r,o){const i=[],a=[];for(const r of e)n(r)?i.push(r):a.push(r);return{[r||"accepted"]:i,[o||"rejected"]:a}}getSelectedTextNodes(e){const n=this.document,r=Array.from(n.body.querySelectorAll("span[data-field=yes]")),o=[];for(const e of r){const r=[],i=n.createTreeWalker(e,NodeFilter.SHOW_TEXT,null);let a;for(;a=i.nextNode();)r.push(a);o.push({field:e,text:r})}const i=n.createTreeWalker(n,NodeFilter.SHOW_TEXT,null);let a;const l=[];if(e)for(;a=i.nextNode();)if(this.withinRange(a,e)){let e=!1;for(const n of o)n.text.indexOf(a)>-1&&(n.visited||(l.push(n.field),n.visited=!0),e=!0);e||l.push(a)}return l.length>1&&(l[0]===e.startContainer&&l[0].childNodes.length<=e.startOffset&&l.shift(),l.length>1&&(l[l.length-1]!==e.endContainer||e.startOffset||l.pop())),l}expandRangeToLines(e){var n;const r=this.document;if(!e)return e;const o=r.createRange(),i=r.body;if(e.collapsed&&e.startContainer===i&&i.childNodes.length>e.startOffset)if(this.isInline(i.childNodes[e.startOffset])){let r,a=i.childNodes[e.startOffset];for(;a&&this.isInline(a);)r=a,a=a.nextSibling;let l,c=null===(n=i.childNodes[e.startOffset])||void 0===n?void 0:n.previousSibling;for(;c&&this.isInline(c);)l=c,c=c.previousSibling;l?o.setStart(i,this.nodeIndex(l)):o.setStart(i,e.startOffset),r?o.setEnd(i,this.nodeIndex(r)+1):o.setEnd(i,e.endOffset)}else{let n=i.childNodes[e.startOffset];for(;n.childNodes.length&&!this.isInline(n.childNodes[0]);)n=n.childNodes[0];o.setStart(n,0),o.setEnd(n,n.childNodes.length)}else{if(this.isInline(e.startContainer)){let n=this.isTextual(e.startContainer)?e.startContainer:e.startOffset?e.startContainer.childNodes[e.startOffset-1]:e.startContainer;for(;this.isInline(n)&&n.parentNode&&this.isInline(n.parentNode);)n=n.parentNode;if(this.isInline(n))for(;n.previousSibling&&this.isInline(n.previousSibling);)n=n.previousSibling;n.parentNode&&o.setStart(n.parentNode,this.nodeIndex(n))}else{let n=e.startOffset;for(;n>0&&this.isInline(e.startContainer.childNodes[n-1]);)n--;o.setStart(e.startContainer,n)}if(this.isInline(e.endContainer)){let n=null;if(this.isTextual(e.endContainer)?n=e.endContainer:e.endOffset===e.endContainer.childNodes.length?this.isInline(e.endContainer)?n=e.endContainer:o.setEnd(e.endContainer,e.endOffset):e.endOffset?n=e.endContainer.childNodes[e.endOffset-1]:this.isInline(e.endContainer)?n=e.endContainer:e.endContainer.childNodes.length&&this.isInline(e.endContainer.childNodes[0])?n=e.endContainer.childNodes[0]:o.setEnd(e.endContainer,0),n){for(;n&&n.parentNode&&this.isInline(n)&&this.isInline(n.parentNode);)n=n.parentNode;if(n&&this.isInline(n))for(;n.nextSibling&&this.isInline(n.nextSibling);)n=n.nextSibling;n&&n.parentNode&&o.setEnd(n.parentNode,this.nodeIndex(n)+1)}}else{let n=e.endOffset;for(;n<e.endContainer.childNodes.length&&this.isInline(e.endContainer.childNodes[n]);)n++;o.setEnd(e.endContainer,n)}}const a=this.createRange(e.startContainer,e.startOffset,o.startContainer,o.startOffset),l=this.queryRange(a,"br");let c=null;if(l.length&&(c=this.isRangeFlipped(a)?l[0]:l[l.length-1],c)){const e=this.partition(this.getSelectedTextNodes(a),(e=>!!(document.DOCUMENT_POSITION_FOLLOWING&c.compareDocumentPosition(e))),"before","after");e.before.length&&o.setStartBefore(e.before.pop())}const d=this.createRange(e.endContainer,e.endOffset,o.endContainer,o.endOffset);if(this.queryRange(d,"br").length&&c){const e=this.partition(this.getSelectedTextNodes(a),(e=>!!(document.DOCUMENT_POSITION_FOLLOWING&c.compareDocumentPosition(e))),"before","after");e.after.length&&o.setEndBefore(e.after.shift())}return o}range(){const e=this.document.getSelection();return(null==e?void 0:e.rangeCount)?e.getRangeAt(0).cloneRange():void 0}indentBlock(){const e=this.document;let n=this.range();if(!n)return!1;n=this.expandRangeToLines(n);const r=n.commonAncestorContainer===e.body?Array.from(n.commonAncestorContainer.childNodes):[n.commonAncestorContainer];return this.indentRec(r,n),!0}expandToUpperBlocks(e){this.document;const isBoundary=e=>this.tagNClass(n.startContainer,"ul","ol","li","table.layout","blockquote.realbq","tbody","tr","td","body","#document"),n=this.orderedRange(e).cloneRange();for(;!isBoundary(n.startContainer);){const e=this.nodeIndex(n.startContainer);n.startContainer.parentNode&&n.setStart(n.startContainer.parentNode,e)}for(;!isBoundary(n.endContainer);){const e=this.nodeIndex(n.endContainer)+1;n.endContainer.parentNode&&n.setEnd(n.endContainer.parentNode,e)}return n}promoteNode(e){var n,r;const o=e.parentNode;null===(n=null==o?void 0:o.parentNode)||void 0===n||n.insertBefore(e,o),null===(r=null==o?void 0:o.parentNode)||void 0===r||r.removeChild(o)}outdentRec(e,n){const r=this.document,hasOneBlockChild=e=>1===e.childNodes.length&&!this.isInline(e.childNodes[0]);for(const o of e)if(this.touchesRange(o,n))if(this.tagNClass(o,"ul","ol","li"))this.indentList(o,n,!1);else if(this.tagNClass(o,"blockquote.shift")){const e=o,n=e.style.marginLeft;if(n){const o=sizeToPx(n)-40;if(o>0)e.style.marginLeft=o+"px";else if(hasOneBlockChild.call(this,e))this.promoteNode(e.childNodes[0]);else{const n=r.createElement("div");this.insertBefore(n,e),this.transferChildren(e,n),this.deleteNode(e)}}}else this.outdentRec(Array.from(o.childNodes),n)}outdentBlock(){const e=this.document;let n=this.range();if(!n)return!1;n=this.expandToUpperBlocks(this.expandRangeToLines(n));const r=n.commonAncestorContainer===e.body?Array.from(n.commonAncestorContainer.childNodes):[n.commonAncestorContainer];return this.outdentRec(r,n),!0}filterNodes(e,n){return e.filter((e=>n.indexOf(e.nodeName.toLowerCase())>-1))}filteredParentChain(e,n){return this.filterNodes(this.getParentChain(e,"BODY"),n)}expandRangeToItems(e,n){const r=this.document,o=this.filteredParentChain(e.startContainer,n).pop(),i=this.filteredParentChain(e.endContainer,n).pop();if(o||i){const n=r.createRange();return o?n.setStartBefore(o):n.setStart(e.startContainer,e.startOffset),i?n.setEndAfter(i):n.setEnd(e.endContainer,e.endOffset),n}return e}expandRangeToListItems(e){return this.expandRangeToItems(e,["li"])}isCursorAtTop(e){return e.collapsed&&"body"===e.startContainer.nodeName.toLowerCase()}topList(e){let n=e;for(;n&&n.parentNode&&this.tagNClass(n.parentNode,"ul","ol");)n=n.parentNode;return n}removeNested(e){const n=[];for(let r=0;r<e.length;r++){const o=e[r];let i=!1;for(let n=0;n<e.length;n++)if(r!==n){const r=e[n],a=!!(document.DOCUMENT_POSITION_CONTAINED_BY&r.compareDocumentPosition(o));if(i=i||a,i)break}i||n.push(o)}const r=[];for(let e=0;e<n.length;e++)-1===n.indexOf(n[e],e+1)&&r.push(n[e]);return r}setListType(e,n,r,o){const i=this.document;let a=1e3;for(let o=n;o<=r;o++){const n=e[o];a=Math.min(a,n.markers.length-1)}for(let l=n;l<=r;l++){const n=e[l];if(a>-1)for(let e=a;e<n.markers.length;e++)n.markers[e]=i.createElement(o)}this.shadowList(e)}isReversedRange(e){const n=e.startContainer.compareDocumentPosition(e.endContainer);return n?n===document.DOCUMENT_POSITION_PRECEDING||(n&document.DOCUMENT_POSITION_CONTAINED_BY?this.beforeRangeAnchor(e.endContainer,e.startContainer,e.startOffset):!!(n&document.DOCUMENT_POSITION_CONTAINS)&&!this.beforeRangeAnchor(e.startContainer,e.endContainer,e.endOffset)):e.startOffset>e.endOffset}isBlock(e){return!(!e||!e.nodeName)&&DOMUtils.blockNodeNames.indexOf(e.nodeName.toLowerCase())>-1}nameIs(e,n){return e&&e.nodeName.toLowerCase()===n.toLowerCase()}expandRangeToRight(e,n){let r=e;for(;r;)if(r.nodeType===Node.TEXT_NODE||r.nodeType===Node.COMMENT_NODE)n=this.nodeIndex(r)+1,r=r.parentNode;else if(n>=r.childNodes.length){const e=r.nodeName.toLowerCase();if(this.isBlock(r)||"body"===e||"html"===e||"#document"===e)break;n=this.nodeIndex(r)+1,r=r.parentNode}else{const e=r.childNodes[n];if(this.nameIs(e,"br")||this.isBlock(e))break;n++}return{container:r,offset:n}}expandRangeToLeft(e,n){let r=e;for(;r;)if(r.nodeType===Node.TEXT_NODE||r.nodeType===Node.COMMENT_NODE)n=this.nodeIndex(r),r=r.parentNode;else if(n){const e=r.childNodes[n];if(this.nameIs(e,"br")||this.isBlock(e))break;n--}else{const e=r.nodeName.toLowerCase();if(this.isBlock(r)||"body"===e||"html"===e||"#document"===e)break;n=this.nodeIndex(r),r=r.parentNode}return{container:r,offset:n}}expandRangeToLines1(e){if(!e)return e;const n=e.cloneRange();let r,o;return this.isReversedRange(e)?(r=this.expandRangeToRight(e.startContainer,e.startOffset),o=this.expandRangeToLeft(e.endContainer,e.endOffset)):(r=this.expandRangeToLeft(e.startContainer,e.startOffset),o=this.expandRangeToRight(e.endContainer,e.endOffset)),n.setStart(r.container,r.offset),n.setEnd(o.container,o.offset),n}getSelectedTopNodes(e){const n=[],r=Array.from(this.document.body.childNodes);for(const o of r)this.touchesRange(o,e)&&n.push(o);return n}getSelectedTopNodeStrides(e){const getCells=e=>{let n=e;const r=[];n.children[0]&&"tbody"===n.children[0].nodeName.toLowerCase()&&(n=n.children[0]);for(const e of Array.from(n.children))for(const n of Array.from(e.children))r.push(n);return r},n=[];let r=[];const createStride=()=>{r.length&&(n.push(r),r=[])},selectedChildren=n=>n&&n.childNodes?Array.from(n.childNodes).filter((n=>this.withinRange(n,e))):[],o=this.getSelectedTopNodes(e);for(const e of o)if(this.tagNClass(e,"blockquote.realbq")){createStride();for(const n of Array.from(e.childNodes))if(this.tagNClass(n,"table.layout")){const e=getCells(n);for(const n of e)createStride(),r=r.concat(selectedChildren(n));createStride()}else r.push(n);createStride()}else if(this.tagNClass(e,"table.layout")){const n=getCells(e);for(const e of n)createStride(),r=r.concat(selectedChildren(e));createStride()}else r.push(e);return r.length&&n.push(r),n}createListTree(){return{list:[],addItem(e){this.list.push(e)},last(){return this.list[this.list.length-1]},ensureListItem(){this.list.length||this.list.push([]),this.last().constructor!==Array&&this.list.push([])},addListItem(e){this.ensureListItem(),this.last().push(Array.prototype.slice.call(e.childNodes))},appendToListItem(e){this.ensureListItem();const n=this.last();n.length||n.push([]),n[n.length-1].push(e)},hasLists(){return this.list.some((e=>e.constructor===Array))},isList:e=>e.constructor===Array,removeBR(){}}}insideRangeExt(e,n){if(this.insideRange(e,n))return!0;let r=e;for(;r&&(r=1===r.childNodes.length?r.firstChild:null);)if(this.insideRange(r,n))return!0;return!1}hasSingleChild(e,n){return-1===e.childNodes.length&&(!n||e.childNodes[0].nodeName.toLowerCase()===n)}isCR(e){var n;if("BR"===e.nodeName)return!0;if("DIV"===e.nodeName&&this.hasSingleChild(e,"br"))return!0;if("P"===e.nodeName){if(!e.childNodes.length)return!0;if(this.hasSingleChild(e,"#text")&&" "===e.childNodes[0].textContent)return!0;if(1===e.childNodes.length&&"BR"===(null===(n=e.firstChild)||void 0===n?void 0:n.nodeName))return!0}return!1}replace(e,n){let r=e;for(let e=0;e<n.length;e+=2)r=r.replace(RegExp(n[e],"g"),n[e+1]);return r}isBlockNode(e){if(!e)return!1;switch(e.nodeName.toLowerCase()){case"div":case"p":case"h1":case"h2":case"h3":case"h4":case"h5":case"pre":case"blockquote":case"br":return!0}return!1}focusInsideContainersEnd(e){var n,r;if(!e)return;let o=e;for(;"br"!==o.nodeName.toLowerCase();)if(o.lastChild&&!this.nameIs(o.lastChild,"br"))o=o.lastChild;else{if(!(o.lastChild&&this.nameIs(o.lastChild,"br")&&o.lastChild.previousSibling)||this.nameIs(o.lastChild.previousSibling,"br"))break;o=o.lastChild.previousSibling}const i=this.document.createRange();if(o.nodeType===Node.TEXT_NODE){const e=null!==(r=null===(n=o.textContent)||void 0===n?void 0:n.length)&&void 0!==r?r:0;i.setStart(o,e),i.setEnd(o,e)}else{let e=o.childNodes.length;o&&o.lastChild&&this.nameIs(o.lastChild,"br")&&e--,i.setStart(o,e),i.setEnd(o,e)}this.setRange(i)}focusInsideTag(e){if(!e)return;const n=this.document.createRange();n.setStart(e,0),n.setEnd(e,0),this.setRange(n)}insertList(e){const n=this.range();if(!n)return;const r=this.document;let o=[];const i=this.expandRangeToListItems(n);if(this.isCursorAtTop(i)){if(r.body.childNodes.length>n.startOffset){const e=r.body.childNodes[n.startOffset];this.tagNClass(e,"ul","ol")&&(o=[e])}}else o=this.queryRange(i,"li").map((e=>e.parentNode)).filter((e=>!!e)).map((e=>this.topList(e)));o.length||"li"===i.commonAncestorContainer.nodeName.toLowerCase()&&i.commonAncestorContainer.parentNode&&(o=[this.topList(i.commonAncestorContainer.parentNode)]);const a=this.nodes2names(o);if(o.length){const n=e?"ul":"ol",r=this.removeNested(o);if(a.indexOf(n)>-1)for(const n of r){const r=this.deconstructList(n,i);this.setListType(r.list,r.start,r.end,e?"ol":"ul"),this.removeDuplicateListNodes(r.list),this.reconstructList(r.list,n),this.deleteNode(n)}else for(const e of r){const n=this.deconstructList(e,i);for(let e=n.start;e<=n.end;e++)n.list[e].markers.splice(0,n.list[e].markers.length);this.shadowList(n.list),this.removeDuplicateListNodes(n.list),this.reconstructList(n.list,e),this.deleteNode(e)}}else{const o=this.expandRangeToLines1(n),i=this.getSelectedTopNodeStrides(o);for(const n of i){const i=this.createListTree(),a=[];if(n.some((e=>this.insideRangeExt(e,o)))){if(n.length){for(const e of n){const n=this.isCR(e);n||""!==this.replace(e.textContent,["",""," ","","\r","","\n","","\t",""])?n?i.addItem(e):this.isBlockNode(e)?(i.addListItem(e),a.push(e)):i.appendToListItem(e):a.push(e)}}if(i.hasLists()){i.removeBR();const o=r.createElement("span");let l=n[0];const c=l.parentNode;let d;c.insertBefore(o,l),l=o;for(let n=i.list.length-1;n>=0;n--){const o=i.list[n];if(i.isList(o)){const n=r.createElement(e?"ol":"ul");c.insertBefore(n,l),l=n;for(const e of o){const o=r.createElement("li");n.appendChild(o);for(const n of e)o.appendChild(n)}d||(d=n.lastChild)}else c.insertBefore(o,l),l=o,d||(d=o)}for(const e of a)this.deleteNode(e);this.deleteNode(o),this.focusInsideContainersEnd(d)}else{const n=r.createElement(e?"ol":"ul"),i=r.createElement("li");n.appendChild(i),o.insertNode(n),this.focusInsideTag(i)}}}}}insertOrderedList(){return this.insertList(!0),!0}insertUnorderedList(){return this.insertList(!1),!0}setAttribute(e,n,r){"object"==typeof n?o.Tools.forEach(n,((n,r)=>{e.setAttribute(r,n)})):"string"==typeof r&&e.setAttribute(n,r)}addStyle(e){var n;const r=this.document,i=r.head;e=(0,o.normalizeLineBreaks)(e.trim());const l=null===(n=Array.from(i.querySelectorAll("style")))||void 0===n?void 0:n.filter((n=>(0,o.normalizeLineBreaks)(n.innerText.trim())===e));if(null==l||l.forEach((e=>e.setAttribute(a,"true"))),null==l?void 0:l.length)return;const c=r.createElement("style");this.setAttribute(c,{type:"text/css",[a]:"true"}),c.appendChild(r.createTextNode(e)),i.firstChild?i.insertBefore(c,i.firstChild):i.appendChild(c)}addStyleLinks(e){const n=this.document,r=n.head;o.Tools.forEach(e,(e=>{try{if(r.querySelector("link[href='"+e+"']"))return}catch(e){}const o=n.createElement("link");this.setAttribute(o,{rel:"stylesheet",type:"text/css",[a]:"true"}),r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),this.setAttribute(o,"href",e)}))}insertNodeAtSelection(e){var n;const r=this.document,o=this.range();if(!o)return;o.deleteContents();const i=o.startOffset;let a=o.startContainer;if(a.nodeType===Node.TEXT_NODE&&(a=a.parentNode),a)if(a.nodeType===Node.TEXT_NODE&&e.nodeType===Node.TEXT_NODE){const n=e;a.insertData(i,n.data),o.setEnd(a,i+n.length),o.setStart(a,i+n.length)}else{let l,c;if(a.nodeType===Node.TEXT_NODE){const o=a;if(a=o.parentNode,!a)return;const d=null!==(n=o.nodeValue)&&void 0!==n?n:"",u=d.substring(0,i),p=d.substring(i);c=r.createTextNode(u),l=r.createTextNode(p),a.insertBefore(l,o),a.insertBefore(e,l),a.insertBefore(c,e),a.removeChild(o)}else if(a.childNodes&&(l=a.childNodes[i]),l){if(a.insertBefore(e,l),-1===Array.from(a.childNodes).indexOf(e)){const n=r.createElement("div");a.insertBefore(n,l),this.insertAfter(e,n),this.deleteNode(n)}}else{if(a.appendChild(e),-1===Array.from(a.childNodes).indexOf(e)){const n=r.createElement("div");a.appendChild(n),a.appendChild(e),this.deleteNode(n)}l=e}try{o.setEnd(l,0),o.setStart(l,0),o.collapse(!0),this.setRange(o)}catch(e){}}}rangeGetNode(e,n){if(r.NodeType.isElement(e)&&e.hasChildNodes()){const r=e.childNodes;return r[Math.min(Math.max(n,0),r.length-1)]}return e}getRoot(){return this.document.body}getParents(e,n,o,i){const a=[];let l=e;i=void 0===i;const c=o||("BODY"!==this.getRoot().nodeName?this.getRoot().parentNode:null);for(;l&&!(l===c||r.Type.isNullable(l.nodeType)||r.NodeType.isDocument(l)||r.NodeType.isDocumentFragment(l));){if(!n||n(l)){if(!i)return[l];a.push(l)}l=l.parentNode}return i?a:null}getParent(e,n,r){const o=this.getParents(e,n,r,!1);return o&&o.length>0?o[0]:null}findCommonAncestor(e,n){let r=e;for(;r;){let e=n;for(;e&&r!==e;)e=e.parentNode;if(r===e)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r}isChildOf(e,n){return e===n||n.contains(e)}getChildrenIterator(e){return document.createNodeIterator(e,NodeFilter.SHOW_ALL,{acceptNode:e=>NodeFilter.FILTER_ACCEPT})}getChildNodes(e){const n=[],r=this.getChildrenIterator(e);for(;r.nextNode();)n.push(r.referenceNode);return n}walkRange(e,n,r){let o=this.rangeGetNode(e.startContainer,e.startOffset);const i=this.rangeGetNode(e.endContainer,e.endOffset-1),a=this.getChildrenIterator(e.commonAncestorContainer),acceptNode=e=>!r||r(e);for(;a.nextNode();){const e=a.referenceNode;if(!o||e===o){if(o=null,acceptNode(e)&&!0===n(e))break;if(e===i){const r=this.getChildrenIterator(e);for(;r.nextNode();){const e=r.referenceNode;if(acceptNode(e)&&!0===n(e))break}break}}}}withCSS(e){const n="styleWithCSS",r=this.document.queryCommandState(n);r||this.document.execCommand(n,!1,"true");try{return e()}finally{r||this.document.execCommand(n,!1,"false")}}saveSelection(e){const n=new SelectionBookmark(this);try{return e(n)}finally{n.dispose()}}getFontSize(){let e;const n=[],o=this.document.getSelection();if(o&&o.rangeCount){const i=o.getRangeAt(0);if(this.walkRange(i,(o=>{var a,l;if(r.NodeType.isText(o)){if(!(null!==(a=o.data)&&void 0!==a?a:"").trim().length)return;if(!i.collapsed&&(i.startContainer===o&&i.startOffset>=(null===(l=o.data)||void 0===l?void 0:l.length)||i.endContainer===o&&i.endOffset<=0))return}else if(!r.NodeType.isBr(o))return;const c=o.parentNode;if(r.NodeType.isElement(c)){n.push(c);const r=this.getComputedStyle(c);if(e=r.fontSize,e)return!0}})),e)return e}n.push(this.getRoot());for(const e of n){const n=this.getComputedStyle(e).fontSize;if(n)return n}return null}matchFormat(e,n){const r=this.getComputedStyle(e);for(const e in n.styles)if(r.getPropertyValue(e)!==n.styles[e])return!1;return!0}containOnlyFormat(e,n){const r=Array(e.style);for(const e of r)if(void 0===n.styles[e])return!1;return!0}applyFormatToElement(e,n){if(e.tagName===n.wrapperTag&&this.containOnlyFormat(e,n)){const r=e.parentElement;if(r&&this.matchFormat(r,n)){return Array.from(e.childNodes).forEach((n=>{e.removeChild(n),r.insertBefore(n,e)})),void e.remove()}}const o=e.style;for(const i in n.styles){const a=n.styles[i];r.Type.isString(a)?o[i]=a:a(e,i)}}applyStyleToSelection(e){return this.saveSelection((n=>{const o=this.document.getSelection();if(!o||!o.rangeCount)return!1;const i=o.getRangeAt(0),a=[];this.walkRange(i,(e=>{var r,o;e!==(null===(r=n.startMarker)||void 0===r?void 0:r.node)&&e!==(null===(o=n.endMarker)||void 0===o?void 0:o.node)&&a.push(e)}));const l=e.wrapperTag.toUpperCase();let c=[],d=null;const validStyleElement=e=>{if(e===this.getRoot())return!1;const r=this.document.createRange();r.selectNode(e);return(r.compareBoundaryPoints(Range.START_TO_START,i)>=0||i.startContainer===e&&0===i.startOffset||e.firstChild===(null===(o=n.startMarker)||void 0===o?void 0:o.node))&&(()=>{var o;return r.compareBoundaryPoints(Range.END_TO_END,i)<=0||i.endContainer===e&&i.endOffset===e.childNodes.length||e.lastChild===(null===(o=n.endMarker)||void 0===o?void 0:o.node)})();var o},completeSequence=()=>{if(null==c?void 0:c.length)try{const n=c[0];let o=n.parentElement;if(!o||!r.NodeType.isElement(o))return;if(this.matchFormat(o,e))return;if(!validStyleElement(o)){const e=this.document.createElement(l);o.insertBefore(e,n),c.forEach((e=>null==o?void 0:o.removeChild(e))),e.replaceChildren(...c),o=e}this.applyFormatToElement(o,e)}finally{c=[]}};return a.forEach((e=>{if(r.NodeType.isText(e)||r.NodeType.isBr(e))return d&&d.nextSibling===e?c.push(e):(d&&completeSequence(),c=[e]),void(d=e);completeSequence()})),completeSequence(),!0}))}getComputedStyle(e){var n,r;const o=null!==(n=e.ownerDocument)&&void 0!==n?n:this.document;return(null!==(r=null==o?void 0:o.defaultView)&&void 0!==r?r:window).getComputedStyle(e)}setFontSize(e){const changeSize=(n,r)=>{const o=sizeToPx(this.getComputedStyle(n).fontSize);n.style.fontSize=o+parseFloat(null!=e?e:"")+"px"};let n=null!=e?e:"";return e&&("-"!==e.charAt(0)&&"+"!==e.charAt(0)||(n=changeSize)),this.applyStyleToSelection({wrapperTag:"SPAN",styles:{"font-size":n}})}}n.DOMUtils=DOMUtils,DOMUtils.blockNodeNames=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","noscript","ol","output","p","pre","section","table","tfoot","ul","video","tr","td","li","th"],DOMUtils.inlineNodeNames=["b","big","i","small","tt","abbr","acronym","cite","code","dfn","em","kbd","strong","samp","var","a","bdo",,"img","map","object","q","script","span","sub","sup","button","input","label","select","textarea","#text","#comment","#cdata-section","s","strike","u","font"]}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/editor/editor.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/rich-text-editor/common/tools.ts"),r("./controls/compound/rich-text-editor/editor/dom.ts"),r("./controls/compound/rich-text-editor/editor/types.ts"),r("./controls/compound/rich-text-editor/editor/events.ts"),r("./controls/compound/rich-text-editor/common/events.ts"),r("./controls/compound/rich-text-editor/editor/surfaces.ts"),r("./controls/compound/rich-text-editor/editor/shortcuts.ts"),r("./controls/compound/rich-text-editor/editor/plugins.ts"),r("./controls/compound/rich-text-editor/editor/state.ts"),r("./controls/compound/rich-text-editor/editor/options.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RichTextEditor=void 0;class EditorCommandWrapper{constructor(e){var n,r;this.command=e,this.name=e.name,this.getEnabled=null===(n=e.getEnabled)||void 0===n?void 0:n.bind(e),this.getValue=null===(r=e.getValue)||void 0===r?void 0:r.bind(e),this.shortcut=e.shortcut,this.icon=e.icon,this.label=e.label,this.tooltip=e.tooltip}execute(e,n){if(this.getEnabled&&!this.getEnabled(e))return!1;if(e.dispatch(i.EditorEventName.BeforeExecCommand,this.name).isDefaultPrevented())return!1;try{return this.command.execute(e,n)}finally{e.dispatch(i.EditorEventName.ExecCommand,this.name)}}}class RichTextEditor extends i.EditorSlotStorage{constructor(e){super(),this.host=e,this.document=null,this.shortcuts=new d.Shortcuts,this.options=new b.Options,this.eventManager=new l.EventManager,this.plugins=[],this.commands={},this.callbacks=[],this.element=null,this.currentMode="visual"}dispose(){this.eventManager.dispose(),this.disposeSurface(),super.dispose()}init(e){if(r.Tools.forEach(null!=e?e:{},((e,n)=>this.options.register(n,e))),this.attachPlugins(this.options.plugins),r.Tools.forEach(this.plugins,(e=>{var n;return null===(n=e.init)||void 0===n?void 0:n.call(e,this)})),this.createContainer(),!this.recreateSurface(this.currentMode)){const e=this.getDefaultMode();if(this.currentMode!==e&&!this.recreateSurface(e))throw new TypeError}r.Tools.forEach(this.plugins,(e=>{var n;return null===(n=e.show)||void 0===n?void 0:n.call(e,this)})),this.dispatch(i.EditorEventName.Init)}refresh(){var e;const n=this.currentMode,r=null===(e=this.document)||void 0===e?void 0:e.content;this.dispatch(i.EditorEventName.OptionChanged),r&&this.applyContent(r,{style:n})}addEventListener(e){return this.callbacks.push(e),{dispose:()=>{const n=this.callbacks.findIndex((n=>n===e));-1!==n&&this.callbacks.splice(n,1)}}}processHostEvents(e){this.callbacks.forEach((n=>n(e))),this.host.dispatch&&this.host.dispatch(e)}dispatch(e,n){const r=new a.RichTextEditorEvent(this,(0,a.CreateControlEvent)(e,n));return this.dispatchEvent(r),r}getContent(e){var n,r,a,l;const c=this.translateContent(null!==(a=null!==(n=this.pendingContent)&&void 0!==n?n:null===(r=this.document)||void 0===r?void 0:r.content)&&void 0!==a?a:{format:"fragment",html:"",body:""},"from-editor");switch(null==e?void 0:e.allowEmpty){case"html":if(""===c.body)return"";break;case"content":if(!o.TextUtils.elementHasContent(c.body))return"";break;case"text":if(""===o.TextUtils.convertValueToPlainText(c).body)return""}if(void 0===(null==e?void 0:e.format)){if("plain"===c.format)return c.body;if("fragment"===c.format&&o.TextUtils.elementIsPlain(c.body))return o.TextUtils.convertValueToPlainText(c).body}if(void 0===(null==e?void 0:e.format)||"html"===(null==e?void 0:e.format)){let n;return n=(0,i.isEditMode)(null==e?void 0:e.style)?this.options.styles[e.style]:null!==(l=null==e?void 0:e.style)&&void 0!==l?l:this.options.styles[this.mode],o.HTMLUtils.composeHtml(c,!0,n)}return c.body}get content(){return this.getContent()}get readonly(){return this.options.readonly}setContent(e,n){this.applyContent(this.translateContent(o.HTMLUtils.decomposeHtml(e,null==n?void 0:n.format),"to-editor"))}set mode(e){e!==this.currentMode&&(this.readonly&&"plain"!==e&&"preview"!==e||this.recreateSurface(e))}get mode(){return this.currentMode}executeCommand(e,n){var r,o;return null!==(o=null===(r=this.queryCommand(e))||void 0===r?void 0:r.execute(this,n))&&void 0!==o&&o}queryCommand(e){return this.commands[(0,i.normalizeEntityName)(e)]}focus(){var e;null===(e=this.document)||void 0===e||e.focus()}getFocused(){var e;return(null===(e=this.document)||void 0===e?void 0:e.getFocused())||!1}getState(){return p.EditorDocumentState.makeState(this)}setState(e){if(e&&e instanceof p.EditorDocumentState)if(e.mode===this.mode){if(!this.document)throw new TypeError;this.document.setState(e.documentState)}else{if(!this.recreateSurface(e.mode,null))throw new TypeError;this.document.setState(e.documentState)}}handleSurfaceEvents(e,n){const r=new a.RichTextEditorEvent(this,n);return this.shortcuts.dispatch(r),this.dispatchEvent(r),!1}getDefaultMode(){return this.readonly?"preview":"visual"}applyContent(e,n){let r;if(this.readonly?r="plain"===e.format?"plain":"preview":((null==n?void 0:n.style)&&(0,i.isEditMode)(null==n?void 0:n.style)&&(r=null==n?void 0:n.style),r||(r="plain"===e.format?"plain":"visual")),this.document)try{if(this.mode!==r){if(this.recreateSurface(r,e))return;if(r=this.getDefaultMode(),this.mode!==r&&this.recreateSurface(r,e))return}this.document.content=e}finally{this.dispatch(i.EditorEventName.Init)}else this.currentMode=r,this.pendingContent=e}attachPlugins(e){r.Tools.forEach(r.Tools.map(e,(e=>u.EditorPlugins.get(e))),(e=>e&&this.attachPlugin(e)))}attachPlugin(e){this.plugins.push(e),r.Tools.forEach(e.commands,(e=>{const n=(0,i.normalizeEntityName)(e.name);this.commands[n]=new EditorCommandWrapper(e),e.shortcut&&this.shortcuts.addShortcut(e.shortcut,n)}))}createContainer(){if(this.element)return;this.element=this.host.editorHost;const e=this.host.hostElement,n=e.ownerDocument;this.eventManager.on(n,"keydown keyup",(n=>{e.contains(n.target)&&this.shortcuts.dispatch(new a.RichTextEditorEvent(this,n))}))}recreateSurface(e,n){var r,o;if(!this.element)throw new TypeError;void 0===n?n=null!==(o=null===(r=this.document)||void 0===r?void 0:r.content)&&void 0!==o?o:this.pendingContent:null===n&&(n=void 0),n&&(n=this.translateContent(this.translateContent(n,"from-editor"),"to-editor",e));const a=this.getFocused(),l=(0,c.createSurface)(e,this.element,this.options,n,(()=>this.disposeSurface()));return!!l&&(l.addEventListener(this.handleSurfaceEvents.bind(this)),a&&l.focus(),this.document=l,this.currentMode=e,this.pendingContent=void 0,l.init(),this.dispatch(i.EditorEventName.ModeChanged),!0)}disposeSurface(){var e,n;this.pendingContent=null===(e=this.document)||void 0===e?void 0:e.content,null===(n=this.document)||void 0===n||n.dispose(),this.document=null}dispatchEvent(e){return this.processHostEvents(e),this.plugins.forEach((n=>n.dispatch&&n.dispatch(e))),!0}translateContent(e,n,r){const o={value:Object.assign({},e),direction:n,targetMode:null!=r?r:this.currentMode,handled:!1};return!this.dispatch(i.EditorEventName.ContentTranslating,o).isDefaultPrevented()&&o.handled?o.value:e}}n.RichTextEditor=RichTextEditor}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/editor/events.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/rich-text-editor/editor/types.ts")],i=function(e,n,r){"use strict";function getEventAs(e,n){var r,o,i;const a=e.target;if(e instanceof(null!==(i=(null!==(o=null===(r=null==a?void 0:a.ownerDocument)||void 0===r?void 0:r.defaultView)&&void 0!==o?o:window)[n.name])&&void 0!==i?i:n))return e}Object.defineProperty(n,"__esModule",{value:!0}),n.RichTextEditorEvent=n.getEventAs=n.CreateControlEvent=void 0,n.CreateControlEvent=function CreateControlEvent(e,n){return new CustomEvent(r.EditorEventType.ControlEvent,{bubbles:!0,detail:{eventName:e,data:n}})},n.getEventAs=getEventAs;n.RichTextEditorEvent=class RichTextEditorEvent{constructor(e,n){var o,i;if(this.source=e,this.nativeEvent=n,this.defaultPrevented=!1,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this.type=n.constructor.name,this.name=n.type,n instanceof CustomEvent){const e=n.type;e in r.EditorEventType&&(this.type=r.EditorEventType[e],this.type===r.EditorEventType.ControlEvent&&(this.name=(null===(i=null===(o=this.as(CustomEvent))||void 0===o?void 0:o.detail)||void 0===i?void 0:i.eventName)||""))}}isDefaultPrevented(){return this.defaultPrevented}preventDefault(){this.defaultPrevented||(this.nativeEvent.preventDefault(),this.defaultPrevented=!0)}stopImmediatePropagation(){this.nativeEvent.stopImmediatePropagation(),this.immediatePropagationStopped=!0}isImmediatePropagationStopped(){return this.immediatePropagationStopped}stopPropagation(){this.nativeEvent.stopPropagation(),this.propagationStopped=!0}isPropagationStopped(){return this.immediatePropagationStopped||this.propagationStopped}as(e){return getEventAs(this.nativeEvent,e)}}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/editor/options.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/rich-text-editor/editor/types.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Options=void 0;n.Options=class Options{constructor(){this.map={}}get id(){return this.get("id")}get readonly(){return!!this.get("readonly")}get toolbar(){var e;return null!==(e=this.get("toolbar"))&&void 0!==e?e:""}get plugins(){var e;return null!==(e=this.get("plugins"))&&void 0!==e?e:[]}get styles(){var e;return null!==(e=this.get("styles"))&&void 0!==e?e:{}}get spellcheck(){return this.get("spellcheck")}has(e){return void 0!==this.map[this.makeKey(e)]}registerDefault(e,n){this.has(e)||this.register(e,n)}register(e,n){this.map[this.makeKey(e)]=n}get(e){return this.map[this.makeKey(e)]}makeKey(e){return(0,r.normalizeEntityName)(e)}}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/editor/plugins.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/rich-text-editor/editor/types.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EditorPlugins=void 0,n.EditorPlugins=new class{constructor(){this.pluginCache={}}get(e){const n=(0,r.normalizeEntityName)(e);let o=this.pluginCache[n];return"function"==typeof o&&(o=o(n),this.pluginCache[n]=o),o}register(e,n){this.pluginCache[(0,r.normalizeEntityName)(e)]=n}}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/editor/sanitizer.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HtmlSanitizer=void 0;class HtmlSanitizer{SanitizeHtml(e){var n,r;if(""===(e=e.trim()))return"";if("<br>"===e.toLowerCase())return"";-1===e.toLowerCase().indexOf("<body")&&(e=`<body>${e}`);const o=(new DOMParser).parseFromString(e,"text/html");"body"!==o.body.tagName.toLowerCase()&&o.body.remove(),"function"!=typeof o.createElement&&"function"==typeof o.createElement.remove&&o.createElement.remove(),o.head&&o.head.querySelectorAll&&Array.from(o.head.querySelectorAll('link[rel="stylesheet"]')).forEach((e=>{o.body.insertBefore(e,o.body.firstChild)}));const makeSanitizedCopy=e=>{let n;if(e.nodeType===Node.TEXT_NODE)n=e.cloneNode(!0);else if(e.nodeType===Node.ELEMENT_NODE){const r=e.tagName.toUpperCase();if(!HtmlSanitizer.tagBlacklist.has(r)){if(HtmlSanitizer.contentTagWhiteList.has(r)||-1!==r.indexOf("-"))n=o.createElement("DIV");else try{n=o.createElement(r)}catch(e){return}for(const r of e.attributes){const o=r.name.toLowerCase();if(!HtmlSanitizer.attributeBlacklist.has(o))if("style"===r.name)for(const r of e.style)n.style.setProperty(r,e.style.getPropertyValue(r));else{if(HtmlSanitizer.uriAttributes.has(o)&&r.value.indexOf(":")>-1&&!this.startsWithAny(r.value,HtmlSanitizer.schemaWhiteList))continue;try{n.setAttribute(r.name,r.value)}catch(e){}}}for(const r of e.childNodes){const e=makeSanitizedCopy(r);e&&n.appendChild(e,!1)}}}else e.nodeType===Node.COMMENT_NODE&&(n=o.createComment(e.data));return n};return null!==(r=null===(n=makeSanitizedCopy(o.body))||void 0===n?void 0:n.innerHTML)&&void 0!==r?r:""}startsWithAny(e,n){for(const r of n)if(0===e.indexOf(r))return!0;return!1}}n.HtmlSanitizer=HtmlSanitizer,HtmlSanitizer.attributeBlacklist=new Set(["fscommand","onabort","onactivate","onafterprint","onafterupdate","onbeforeactivate","onbeforecopy","onbeforecut","onbeforedeactivate","onbeforeeditfocus","onbeforepaste","onbeforeprint","print","onbeforeunload","onbeforeupdate","onbegin","onblur","onbounce","oncellchange","onchange","onclick","oncontextmenu","oncontrolselect","oncopy","oncut","ondataavailable","ondatasetchanged","ondatasetcomplete","ondblclick","ondeactivate","ondrag","ondragend","ondragleave","ondragenter","ondragover","ondragdrop","ondragstart","ondrop","onend","onerror","onerrorupdate","onfilterchange","onfinish","onfocus","onfocusin","onfocusout","onhashchange","onhelp","oninput","onkeydown","onkeypress","onkeyup","onlayoutcomplete","onload","onlosecapture","releasecapture","onmediacomplete","onmediaerror","onmessage","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onmove","onmoveend","onmovestart","onoffline","ononline","onoutofsync","onpaste","onpause","onpopstate","onprogress","onpropertychange","onreadystatechange","onredo","onrepeat","onreset","onresize","onresizeend","onresizestart","onresume","onreverse","onrowsenter","onrowexit","onrowdelete","onrowinserted","onscroll","scrollby","onseek","onselect","onselectionchange","onselectstart","onstart","onstop","onstorage","onsyncrestored","onsubmit","ontimeerror","ontrackchange","onundo","onunload","onurlflip","seeksegmenttime"]),HtmlSanitizer.tagBlacklist=new Set(["SCRIPT","IFRAME","FRAME","FRAMESET"]),HtmlSanitizer.contentTagWhiteList=new Set(["FORM"]),HtmlSanitizer.schemaWhiteList=["http:","https:","data:","m-files:","file:","ftp:","mailto:","pw:"],HtmlSanitizer.uriAttributes=new Set(["href","action"])}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./controls/compound/rich-text-editor/editor/selection.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/rich-text-editor/editor/dom.ts"),r("./controls/compound/rich-text-editor/common/tools.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TextareaSelection=n.DocumentBookmark=n.DocumentPersistentBookmark=n.DocumentSelectionRange=n.DocumentSelection=void 0;class DocumentSelectionPersistent{constructor(e){var n,r,o,i;this.direction="none",this.start="",this.end="",this.left=0,this.top=0;const a=e.document,l=a.getSelection();if(l){const n=l.rangeCount?l.getRangeAt(0):void 0;n&&(this.start=DocumentSelectionPersistent.serializePosition(n.startContainer,n.startOffset),this.end=DocumentSelectionPersistent.serializePosition(n.endContainer,n.endOffset),this.direction=e.isForwardSelection(l)?"forward":"backward")}this.left=null!==(r=null===(n=a.body)||void 0===n?void 0:n.scrollLeft)&&void 0!==r?r:0,this.top=null!==(i=null===(o=a.body)||void 0===o?void 0:o.scrollTop)&&void 0!==i?i:0}static getNodeIndex(e){let n=0,r=e;for(;r=r.previousSibling;)n++;return n}static serializePosition(e,n,r){var o,i;if(e){r=null!==(i=null!=r?r:null===(o=e.ownerDocument)||void 0===o?void 0:o.documentElement)&&void 0!==i?i:document.documentElement;const a=[];for(;e&&e!==r;)a.push(this.getNodeIndex(e)),e=e.parentNode;return a.join("/")+":"+n}return""}static deserializePosition(e,n,r){r=null!=r?r:(null!=n?n:document).documentElement;const o=e.split(":"),i=o[0]?o[0].split("/"):[];let a,l=i.length,c=r;for(;l--;){if(a=parseInt(i[l],10),!(a<c.childNodes.length))return null;c=c.childNodes[a]}return{node:c,offset:parseInt(o[1],10)}}restore(e){let n=!0;const r=e.createRange();try{n="forward"===this.direction;const o=DocumentSelectionPersistent.deserializePosition(this.start,e.document);if(!(null==o?void 0:o.node))return;r.setStart(o.node,o.offset);const i=DocumentSelectionPersistent.deserializePosition(this.end,e.document);i&&r.setEnd(i.node,i.offset)}finally{e.setRange(r,n),e.document.body.scrollTo({left:this.left,top:this.top})}}}n.DocumentSelection=class DocumentSelection{constructor(e){this.dom=e,this.selection=e.document.getSelection(),this.selection?e.isForwardSelection(this.selection)?this.direction="forward":this.direction="backward":this.direction="none"}getRange(){if(this.selection&&this.selection.rangeCount)return new DocumentSelectionRange(this.dom.document,this.selection.getRangeAt(0))}addBookmark(){if(this.selection)return DocumentBookmark.insert(this.dom,this.selection,"backward"!==this.direction)}hasStyle(e){return this.getSelectedStyles().indexOf(e)>-1}getParagraphStyle(){return this.getSelectedStyles()}getFontName(){return this.dom.queryCommandValue("fontName")}getFontSize(){return this.dom.getFontSize()}save(){return new DocumentSelectionPersistent(this.dom)}restore(e){e&&e instanceof DocumentSelectionPersistent&&e.restore(this.dom)}getSelectedStyles(){var e;return(null===(e=this.selection)||void 0===e?void 0:e.rangeCount)?this.dom.getSelectedStyle(this.selection.getRangeAt(0)):[]}};class DocumentSelectionRange{constructor(e,n){this.document=e,this.range=n,this.defaultView=e.defaultView}getStartContainer(){return this.range.startContainer}getStartOffset(){return this.range.startOffset}getEndContainer(){return this.range.endContainer}getEndOffset(){return this.range.endOffset}select(){if(!this.defaultView)return;const e=this.defaultView.getSelection();e&&(e.removeAllRanges(),e.addRange(this.range))}selectNode(e){this.range.selectNode(e)}selectNodeContents(e){this.range.selectNodeContents(e)}toString(){return this.range.toString()}isEqual(e){return this.document===e.document&&!!this.range&&!!e.range&&0===this.range.compareBoundaryPoints(Range.START_TO_START,e.range)&&0===this.range.compareBoundaryPoints(Range.END_TO_END,e.range)}clone(){return new DocumentSelectionRange(this.document,this.range.cloneRange())}surroundContents(e){return this.range.surroundContents(e),e}isCollapsed(){return this.range.collapsed}setStart(e,n){this.range.setStart(e,n)}setEnd(e,n){this.range.setEnd(e,n)}selectTextElem(e){this.range.selectNode(e)}collapse(){this.range.collapse()}deleteContents(){this.range.deleteContents()}ancestorContainer(){return this.range.commonAncestorContainer}}n.DocumentSelectionRange=DocumentSelectionRange;class DocumentPersistentBookmark{constructor(e){this.startMarker=e.startMarker,this.endMarker=e.endMarker}restore(e){var n,o;const i=new r.DOMUtils(e),a=null===(n=this.startMarker)||void 0===n?void 0:n.key;if(!a)return;const l=[a],c=null===(o=this.endMarker)||void 0===o?void 0:o.key;c&&l.push(c);const d=i.getAllComments(l);let u,p;for(const e of d)if(e.textContent===a&&(u=e),c&&e.textContent===c&&(p=e),u&&p)break;if(!u)return;const b=new DocumentBookmark(i);return b.startMarker={node:u,type:this.startMarker.type,key:this.startMarker.key},p&&(b.endMarker={node:p,type:this.endMarker.type,key:this.endMarker.key}),b}}n.DocumentPersistentBookmark=DocumentPersistentBookmark;class DocumentBookmark{constructor(e){this.dom=e}save(){return new DocumentPersistentBookmark(this)}remove(){var e,n;if(!this.startMarker)return;const r=this.dom.isForward(null===(e=this.startMarker)||void 0===e?void 0:e.node,null===(n=this.endMarker)||void 0===n?void 0:n.node),o=r?this.startMarker:this.endMarker,i=r?this.endMarker:this.startMarker,a=this.removeMarker(null==o?void 0:o.node,null==o?void 0:o.type),l=this.removeMarker(null==i?void 0:i.node,null==i?void 0:i.type);if(this.startMarker=void 0,this.endMarker=void 0,!a)return;const c=this.dom.document.createRange();if(c.setStart(a.node,a.offset),l)c.setEnd(l.node,l.offset);else try{c.setEnd(a.node,a.offset)}catch(e){}this.dom.setRange(c,r)}static insert(e,n,r){const o=new DocumentBookmark(e);return o.insertMarkers(n,r),o}generateMarkers(){const e=this.dom.document.body.innerHTML;let n=o.Tools.newGuid();for(;-1!==e.indexOf(n);)n=o.Tools.newGuid();return{startText:`start[${n}]`,endText:`end[${n}]`}}insertMarker(e,n,r){var o,i,a,l,c,d,u,p,b,g,m;const f=this.dom.document,v=f.createComment(r),y=DocumentBookmark.textNodeConstructors[e.nodeType];if(y){const r=f[y],g=null!==(i=null===(o=e.textContent)||void 0===o?void 0:o.substring(0,n))&&void 0!==i?i:"",m=null!==(l=null===(a=e.textContent)||void 0===a?void 0:a.substring(n))&&void 0!==l?l:"",x=r.call(f,g),C=r.call(f,m);n&&(null===(c=e.parentNode)||void 0===c||c.insertBefore(x,e)),null===(d=e.parentNode)||void 0===d||d.insertBefore(v,e),m.length&&(null===(u=e.parentNode)||void 0===u||u.insertBefore(C,e)),(null===(p=e.textContent)||void 0===p?void 0:p.length)&&(null===(b=e.parentNode)||void 0===b||b.removeChild(e))}else this.dom.insertNodeAt(e,v,n);let x;return x=y?n?n===(null!==(m=null===(g=e.textContent)||void 0===g?void 0:g.length)&&void 0!==m?m:0)?"end":"split":"start":"node",{node:v,type:x,key:r}}insertMarkers(e,n){var r,o,i,a,l,c,d,u,p,b,g,m,f,v,y,x;if(!e||!e.rangeCount)return;const{startText:C,endText:S}=this.generateMarkers(),D=e.getRangeAt(0);"br"===(null===(r=D.startContainer)||void 0===r?void 0:r.nodeName.toLowerCase())&&D.startContainer.parentNode&&D.setStart(D.startContainer.parentNode,this.dom.nodeIndex(D.startContainer)+1),"br"===(null===(o=D.endContainer)||void 0===o?void 0:o.nodeName.toLowerCase())&&D.endContainer.parentNode&&D.setEnd(D.endContainer.parentNode,this.dom.nodeIndex(D.endContainer)+1);const{startOffset:E,endOffset:k,startContainer:T,endContainer:_}=D;if(T!==_)D.compareBoundaryPoints(Range.START_TO_END,D)?(this.endMarker=this.insertMarker(_,k,S),this.startMarker=this.insertMarker(T,E,C)):(this.startMarker=this.insertMarker(T,E,C),this.endMarker=this.insertMarker(_,k,S));else if(E===k)this.startMarker=this.insertMarker(T,E,C);else{const e=T,n=this.dom.document,r=n.createComment(C),o=n.createComment(S),x=DocumentBookmark.textNodeConstructors[e.nodeType];let D="",_="";if(x){const C=Math.min(E,k),S=Math.max(E,k),T=n[x],M=null!==(a=null===(i=e.textContent)||void 0===i?void 0:i.substring(0,C))&&void 0!==a?a:"",R=null!==(c=null===(l=e.textContent)||void 0===l?void 0:l.substring(C,S))&&void 0!==c?c:"",I=null!==(u=null===(d=e.textContent)||void 0===d?void 0:d.substring(S))&&void 0!==u?u:"",F=T.call(n,M),A=T.call(n,R),O=T.call(n,I);let P;M.length>0?(null===(p=e.parentNode)||void 0===p||p.insertBefore(F,e),P="split"):P="start",E<=k?(null===(b=e.parentNode)||void 0===b||b.insertBefore(r,e),D=P):(null===(g=e.parentNode)||void 0===g||g.insertBefore(o,e),_=P),null===(m=e.parentNode)||void 0===m||m.insertBefore(A,e),null===(f=e.parentNode)||void 0===f||f.insertBefore(E<k?o:r,e),I.length>0?(null===(v=e.parentNode)||void 0===v||v.insertBefore(O,e),E<k?_="split":D="split"):E<k?_="end":D="end",null===(y=e.parentNode)||void 0===y||y.removeChild(e)}else E<k?(this.dom.insertNodeAt(e,o,k),this.dom.insertNodeAt(e,r,E)):(this.dom.insertNodeAt(e,r,E),this.dom.insertNodeAt(e,o,k)),D="node",_="node";this.startMarker={node:r,type:D,key:C},this.endMarker={node:o,type:_,key:S}}if(this.dom.setRangeBetween(this.startMarker.node,(null===(x=this.endMarker)||void 0===x?void 0:x.node)?this.endMarker.node:this.startMarker.node,n),!n&&this.endMarker){const e=this.endMarker;this.endMarker=this.startMarker,this.startMarker=e}}removeMarker(e,n){var r,o,i,a,l,c;if(e)try{if("split"===n){const n=e.previousSibling;if((null==n?void 0:n.nodeType)!==Node.TEXT_NODE){const r=null==n?void 0:n.parentNode;if(!r)return;return{node:r,offset:this.dom.nodeIndex(e)}}const l=null!==(o=null===(r=n.textContent)||void 0===r?void 0:r.length)&&void 0!==o?o:0;return(null===(i=e.nextSibling)||void 0===i?void 0:i.nodeType)===Node.TEXT_NODE&&(n.textContent+=null!==(a=e.nextSibling.textContent)&&void 0!==a?a:"",this.dom.deleteNode(e.nextSibling)),{node:n,offset:l}}if("start"===n){const n=e.nextSibling||e.parentNode;if(!n)return;return{node:n,offset:0}}if("end"===n){let n=e.previousSibling;for(;n&&n.nodeType!==Node.TEXT_NODE;)n=n.lastChild;if(!n)return;return{node:n,offset:null!==(c=null===(l=n.textContent)||void 0===l?void 0:l.length)&&void 0!==c?c:0}}{const n=e.parentNode;if(!n)return;return{node:n,offset:this.dom.nodeIndex(e)}}}finally{this.dom.deleteNode(e)}}}n.DocumentBookmark=DocumentBookmark,DocumentBookmark.textNodeConstructors={3:"createTextNode",4:"createCDATASection",8:"createComment"};class TextareaSelectionPersistent{constructor(e){this.direction="none",this.start=0,this.end=0,this.left=0,this.top=0,this.direction=e.selectionDirection,this.start=e.selectionStart,this.end=e.selectionEnd,this.top=e.scrollTop,this.left=e.scrollLeft}restore(e){e.setSelectionRange(this.start,this.end,this.direction),e.scrollTo({left:this.left,top:this.top})}}n.TextareaSelection=class TextareaSelection{constructor(e){this.textarea=e,this.direction=e.selectionDirection}getRange(){}addBookmark(){}hasStyle(e){return!1}getParagraphStyle(){return[]}getFontName(){return null}getFontSize(){return null}save(){return new TextareaSelectionPersistent(this.textarea)}restore(e){e&&e instanceof TextareaSelectionPersistent&&e.restore(this.textarea)}}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/editor/shortcuts.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/rich-text-editor/common/keyboard.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Shortcuts=void 0;n.Shortcuts=class Shortcuts{constructor(){this.service=new r.ShortcutService}dispose(){this.service.dispose()}dispatch(e){if(!e.isDefaultPrevented()&&("keyup"===e.name||"keydown"===e.name)){const n=e.as(KeyboardEvent);n&&this.service.dispatch(n,e.source)}}addShortcut(e,n,r){this.service.addShortcut(e,this.normalizeCommandFunc(n),r)}normalizeCommandFunc(e){const n=e;return"string"==typeof n?e=>{null==e||e.executeCommand(n)}:Array.isArray(n)?e=>{null==e||e.executeCommand(n[0],n[1])}:e=>{e&&n(e)}}}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/editor/state.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EditorDocumentState=n.DocumentContentState=void 0;class DocumentContentState{constructor(e){this.content=e}isEqual(e){return!!(e&&e instanceof DocumentContentState)&&(e.content&&this.content?this.content.format===e.content.format&&this.content.body===e.content.body&&this.content.html===e.content.html:e.content===this.content)}}n.DocumentContentState=DocumentContentState;class EditorDocumentState{constructor(e,n){this.mode=e,this.documentState=n}static makeState(e){var n;const r=e.mode,o=null===(n=e.document)||void 0===n?void 0:n.getState();return o?new EditorDocumentState(r,o):null}isEqual(e){return!!(e&&e instanceof EditorDocumentState)&&this.documentState.isEqual(e.documentState)}}n.EditorDocumentState=EditorDocumentState}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./controls/compound/rich-text-editor/editor/surfaces.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/rich-text-editor/editor/state.ts"),r("./controls/compound/rich-text-editor/common/env.ts"),r("./controls/compound/rich-text-editor/common/types.ts"),r("./controls/compound/rich-text-editor/editor/dom.ts"),r("./controls/compound/rich-text-editor/editor/types.ts"),r("./controls/compound/rich-text-editor/editor/events.ts"),r("./controls/compound/rich-text-editor/common/events.ts"),r("./controls/compound/rich-text-editor/editor/selection.ts")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";var p;Object.defineProperty(n,"__esModule",{value:!0}),n.createSurface=void 0,function(e){e[e.HostElement=0]="HostElement",e[e.Window=1]="Window",e[e.Document=2]="Document",e[e.ContentElement=3]="ContentElement",e[e.ContentWindow=4]="ContentWindow",e[e.ContentDocument=5]="ContentDocument",e[e.ContentBody=6]="ContentBody",e[e.ContentDocumentElement=7]="ContentDocumentElement"}(p||(p={}));class EditorBaseDocument{constructor(e,n,r,o){this.hostElement=e,this.options=n,this.style=r,this.eventManager=new d.EventManager,this.publicEvents=[],this.internalEvents=[],this.pendingFocus=!1,this.loaded=!1,this.pendingContent=o}get element(){return this.contentElement||null}dispose(){this.loaded=!1,this.eventManager.dispose(),this.destroyContentElement(),this.publicEvents=[]}init(){this.contentElement||this.createContentElement()}addEventListener(e){return this.publicEvents.push(e),{dispose:()=>this.removeEventListener(e)}}getSelection(){}getState(){return null}setState(e){this.notifyChanged()}execCommand(e,n){return!1}queryCommandSupported(e){return!1}queryCommandEnabled(e){return!1}queryCommandState(e){return!1}queryCommandValue(e){}focus(){var e;this.loaded?null===(e=this.contentElement)||void 0===e||e.focus():this.pendingFocus=!0}getFocused(){return this.contentElement===document.activeElement}insertText(e){}insertHTML(e){}insertElement(e){}clear(){}removeEventListener(e){if(!e)return;const n=this.publicEvents.findIndex((n=>n===e));-1!==n&&this.publicEvents.splice(n,1)}raiseEvent(e){this.publicEvents.forEach((n=>n(this,e)))}afterContentChanged(){this.notifyAttached(),this.reconnectEvents((e=>e===p.ContentDocument||e===p.ContentDocumentElement||e===p.ContentBody))}destroyContentElement(){var e;this.loaded=!1,this.detachEvents(),null===(e=this.contentElement)||void 0===e||e.remove(),this.contentElement=void 0}createContentElement(){throw new TypeError}getOrRecreateContentElement(){let e,n=this.getElementByName(p.ContentElement);if(n){try{e=n.contentDocument}catch(e){}if(!e){const e=this.getFocused();this.destroyContentElement(),n=this.getElementByName(p.ContentElement),e&&this.focus()}return n}}getOwnerDocument(){return this.getElementByName(p.Document)}getElementByName(e){var n,r,o,i,a,l;switch(e){case p.HostElement:return this.hostElement;case p.Document:return this.hostElement.ownerDocument;case p.Window:return this.hostElement.ownerDocument.defaultView;case p.ContentElement:return this.contentElement||this.createContentElement(),this.contentElement;case p.ContentWindow:return null===(n=this.getOrRecreateContentElement())||void 0===n?void 0:n.contentWindow;case p.ContentDocument:return null===(r=this.getOrRecreateContentElement())||void 0===r?void 0:r.contentDocument;case p.ContentDocumentElement:return null===(i=null===(o=this.getOrRecreateContentElement())||void 0===o?void 0:o.contentDocument)||void 0===i?void 0:i.documentElement;case p.ContentBody:return null===(l=null===(a=this.getOrRecreateContentElement())||void 0===a?void 0:a.contentDocument)||void 0===l?void 0:l.body}}createDelegate(e,n){return r=>{try{e.call(this,r)}catch(e){const r=this.constructor.name,o=i.Type.isObject(e)&&e.message||String(e);console.error(`${r}.${n||"<none>"} listener: ${o}`)}}}getEventHandlerFilterProcedure(e){return"function"==typeof e?e:n=>!e||e===n}attachEvents(e){const n=this.getEventHandlerFilterProcedure(e);this.getEventsMap().filter((e=>n(e.source))).forEach((e=>this.attachEvent(e)))}detachEvents(e){const n=this.getEventHandlerFilterProcedure(e);this.internalEvents=this.internalEvents.filter((e=>!n(e.source)||(e.disposable.dispose(),!1)))}reconnectEvents(e){this.detachEvents(e),this.attachEvents(e)}routeEventsToParent(e){var n;const r=null===(n=e.target)||void 0===n?void 0:n.ownerDocument;if(r&&r!==document){const n=this.getContentElement();("mousedown"===e.type||"mousemove"===e.type)&&n.dispatchEvent(new MouseEvent(e.type,{bubbles:!0,cancelable:!0}))}}getEventsMap(){return[{source:p.ContentBody,eventName:"mousedown mousemove",listener:this.routeEventsToParent}]}defaultEventHandler(e){this.raiseEvent(e)}notifyChanged(){this.raiseEvent((0,c.CreateControlEvent)(l.EditorEventName.ContentChanged))}notifyAttached(){this.raiseEvent((0,c.CreateControlEvent)(l.EditorEventName.ContentAttached))}changeEventHandler(e){this.defaultEventHandler(e),this.notifyChanged()}attachEvent(e){const n=this.getElementByName(e.source);if(!n||"object"!=typeof n)return;e.eventName.split(" ").map((e=>e.trim())).forEach((r=>{var o;return this.internalEvents.push({source:e.source,disposable:this.eventManager.on(n,r,this.createDelegate(null!==(o=e.listener)&&void 0!==o?o:this.defaultEventHandler,r),e.capture?{capture:!0}:void 0)})}))}getContentDocument(){return this.getElementByName(p.ContentDocument)}getContentElement(){return this.getElementByName(p.ContentElement)}}class EditorFrameBasedDocument extends EditorBaseDocument{set content(e){this.loaded?this.assignValue(e,this.style,this.options.spellcheck):this.pendingContent=e}get content(){var e;return this.loaded?null===(e=this.dom)||void 0===e?void 0:e.getHtmlFromDocument(this.style):this.pendingContent}assignValue(e,n,r){var o;null===(o=this.dom)||void 0===o||o.setHtmlToDocument(e,n,r),this.afterContentChanged()}createContentElement(){const e=this.getElementByName(p.HostElement);if(!e)return;const n=this.getOwnerDocument();n&&(this.contentElement=n.createElement("IFRAME"),this.contentElement.tabIndex=0,this.contentElement.style.outlineWidth="0px",this.frameLoadHandler=this.eventManager.on(this.contentElement,"load",(e=>this.frameLoaded(e))),e.appendChild(this.contentElement))}destroyContentElement(){var e;null===(e=this.frameLoadHandler)||void 0===e||e.dispose(),this.frameLoadHandler=void 0,super.destroyContentElement()}captureClicks(e){let n=e.target;for(;n;)i.NodeType.isAnchor(n)&&(e.preventDefault(),this.raiseEvent((0,c.CreateControlEvent)(l.EditorEventName.AnchorSelected,n))),n=n.parentElement}getEventsMap(){return[...super.getEventsMap(),{source:p.ContentDocument,eventName:"click",capture:!0,listener:this.captureClicks}]}frameLoaded(e){var n;const r=e.target;if(r&&this.contentElement===r&&(null===(n=this.frameLoadHandler)||void 0===n||n.dispose(),this.frameLoadHandler=void 0,!this.loaded)){this.loaded=!0,this.dom=new a.DOMUtils(this.getContentDocument());const e=this.pendingContent;this.pendingContent=void 0,this.content=e,this.pendingFocus&&(this.pendingFocus=!1,this.focus()),this.reconnectEvents()}}}class EditorTextBasedDocument extends EditorBaseDocument{constructor(){super(...arguments),this.focused=!1,this.format="plain"}set content(e){this.loaded?this.assignValue(this.toView(e)):this.pendingContent=e}get content(){return this.loaded?this.toValue(this.textarea.value):this.pendingContent}selectionChange(e){const n=this.getOwnerDocument(),r=(null==n?void 0:n.activeElement)===this.contentElement;(r||r!==this.focused)&&(this.focused=r,this.raiseEvent(e))}getSelection(){if(this.textarea)return new u.TextareaSelection(this.textarea)}getState(){return new r.DocumentContentState({format:this.format,html:this.decomposedHtml,body:this.textarea.value})}setState(e){e&&e instanceof r.DocumentContentState&&(this.assignValue(e.content),super.setState(e))}applyStyles(){const e=this.contentElement;if(!e)return;const n=e.style;n.resize="none",n.cursor="auto",this.style?a.HTMLUtils.embedStyles(e.ownerDocument,e,this.style):(n.margin="0px",n.padding="0px")}createContentElement(){this.dom=new a.DOMUtils(document),this.contentElement=Object.assign(document.createElement("textarea"),{contentWindow:window,contentDocument:document}),this.hostElement.appendChild(this.contentElement),this.applyStyles(),this.options.readonly&&this.contentElement.setAttribute("readonly","true");const e=this.pendingContent;this.pendingContent=void 0,this.loaded=!0,this.assignValue(this.toView(e)),this.pendingFocus&&(this.pendingFocus=!1,this.focus()),this.reconnectEvents()}getEventsMap(){return[...super.getEventsMap(),{source:p.Document,eventName:"selectionchange",listener:this.selectionChange},{source:p.ContentElement,eventName:"contextmenu"},{source:p.ContentElement,eventName:"mouseup mousedown click"},{source:p.ContentElement,eventName:"keyup keypress keydown"},{source:p.ContentElement,eventName:"cut paste drop"},{source:p.ContentElement,eventName:"focus focusin focusout blur beforedeactivate"},{source:p.ContentElement,eventName:"input",listener:this.changeEventHandler}]}get textarea(){return this.contentElement}toView(e){return e}toValue(e){return{format:this.format,html:this.decomposedHtml,body:e}}assignValue(e){e?(this.format=e.format,this.decomposedHtml=e.html,this.textarea.value=e.body):(this.format="plain",this.decomposedHtml="",this.textarea.value=""),this.textarea.setSelectionRange(0,0,"forward"),this.afterContentChanged()}}const b={preview:class EditorPreviewDocument extends EditorFrameBasedDocument{getEventsMap(){return[...super.getEventsMap(),{source:p.ContentDocument,eventName:"contextmenu"},{source:p.ContentDocument,eventName:"mouseup mousedown click"},{source:p.ContentDocument,eventName:"keyup keypress keydown"}]}},visual:class EditorEditableDocument extends EditorFrameBasedDocument{static prepareContent(e){var n;return"plain"===(null===(n=e.content)||void 0===n?void 0:n.format)&&(e.content={format:"fragment",html:"",body:a.TextUtils.convertTextToHtml(e.content.body)}),!0}focus(){if(this.loaded){const e=this.getContentDocument();e&&e.body&&e.body.focus()}else this.pendingFocus=!0}getSelection(){if(this.loaded&&this.dom)return new u.DocumentSelection(this.dom)}execCommand(e,n){var r;let o=!1;try{o=super.execCommand(e,n)||(null===(r=this.dom)||void 0===r?void 0:r.execCommand(e,n))||!1}finally{return o&&this.notifyChanged(),o}}queryCommandSupported(e){var n;return super.queryCommandSupported(e)||(null===(n=this.dom)||void 0===n?void 0:n.queryCommandSupported(e))||!1}queryCommandEnabled(e){var n;return super.queryCommandEnabled(e)||(null===(n=this.dom)||void 0===n?void 0:n.queryCommandEnabled(e))||!1}queryCommandState(e){var n;return super.queryCommandState(e)||(null===(n=this.dom)||void 0===n?void 0:n.queryCommandState(e))||!1}queryCommandValue(e){var n;return super.queryCommandValue(e)||(null===(n=this.dom)||void 0===n?void 0:n.queryCommandValue(e))||!1}getState(){var e;return new r.DocumentContentState(null===(e=this.dom)||void 0===e?void 0:e.getHtmlFromDocument(this.style))}setState(e){this.dom&&e&&e instanceof r.DocumentContentState&&(this.assignValue(e.content,this.style,this.options.spellcheck),super.setState(e))}getEventsMap(){return[...super.getEventsMap(),{source:p.ContentDocument,eventName:"contextmenu selectionchange mouseup mousedown click keyup keypress keydown paste drop"},{source:p.ContentBody,eventName:"focus focusin focusout blur"},{source:p.ContentBody,eventName:"cut paste drop"},{source:p.ContentBody,eventName:"input",listener:this.changeEventHandler}]}afterContentChanged(){try{const e=this.getContentDocument();if(e){const n=this.options,r=n&&!n.readonly;if(e.body.contentEditable=r.toString(),r)try{o.Env.browser.isFirefox()?(e.execCommand("enableObjectResizing",!1,"false"),e.execCommand("enableInlineTableEditing",!1,"false")):o.Env.browser.isIE()&&e.execCommand("AutoUrlDetect",!1,"false"),e.execCommand("defaultParagraphSeparator",!1,"p"),e.execCommand("styleWithCSS",!1,"true")}catch(e){}}}finally{super.afterContentChanged()}}},source:class EditorSourceDocument extends EditorTextBasedDocument{applyStyles(){super.applyStyles();const e=this.contentElement;e&&e.setAttribute("spellcheck","false")}static prepareContent(e){var n;return"plain"===(null===(n=e.content)||void 0===n?void 0:n.format)&&(e.content={format:"fragment",html:"",body:a.TextUtils.convertTextToHtml(e.content.body)}),!0}toValue(e){const n=a.HTMLUtils.decomposeHtml(e);return"html"===n.format?n:"fragment"===n.format?"html"===this.format?{format:"html",html:this.decomposedHtml,body:n.body}:n:{format:this.format,html:this.decomposedHtml,body:e}}},plain:class EditorPlainTextDocument extends EditorTextBasedDocument{applyStyles(){super.applyStyles();const e=this.contentElement;e&&e.setAttribute("spellcheck",(!0===this.options.spellcheck).toString())}static prepareContent(e){const n=e.content;return!n||("plain"===n.format||("fragment"===n.format&&a.TextUtils.elementIsPlain(n.body)||!!confirm("You're about to lose all the formatting."))&&(e.content=a.TextUtils.convertValueToPlainText(n),!0))}toView(e){return a.TextUtils.convertValueToPlainText(e)}toValue(e){return a.HTMLUtils.isHtml(e)?{format:"fragment",html:"",body:a.TextUtils.htmlEncode(e)}:{format:"plain",html:"",body:e}}}};n.createSurface=function createSurface(e,n,r,o,i){const a=b[e],l=r.styles[e],c=a.prepareContent;if(c){const e={content:o,options:r,style:l};if(!c(e))return null;o=e.content}return i(),new a(n,r,l,o)}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/editor/types.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/rich-text-editor/common/types.ts"),r("./controls/compound/rich-text-editor/common/tools.ts"),r("./controls/compound/rich-text-editor/common/keyboard.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.normalizeEntityName=n.decodeSelectorOptions=n.createSelector=n.createColorPicker=n.createButtonGroup=n.createButtonFromCommand=n.EditorCommandAlias=n.isEditMode=n.EditorEventName=n.NativeEventType=n.EditorEventType=n.EditorSlotStorage=void 0;n.EditorSlotStorage=class EditorSlotStorage{constructor(){this.slots=new Map}getSlot(e){var n;return null!==(n=this.slots.get(e))&&void 0!==n?n:null}setSlot(e,n){this.slots.set(e,n)}deleteSlot(e){const n=this.getSlot(e);this.slots.delete(e),null==n||n.dispose()}dispose(){const e=Array.from(this.slots.values());o.Tools.forEach(e,(e=>e.dispose())),this.slots.clear()}},function(e){e.ControlEvent="ControlEvent"}(n.EditorEventType||(n.EditorEventType={})),function(e){e.Event="Event",e.FocusEvent="FocusEvent",e.InputEvent="InputEvent",e.MouseEvent="MouseEvent",e.PointerEvent="PointerEvent",e.ClipboardEvent="ClipboardEvent",e.DragEvent="DragEvent",e.KeyboardEvent="KeyboardEvent",e.TouchEvent="TouchEvent",e.WheelEvent="WheelEvent"}(n.NativeEventType||(n.NativeEventType={})),function(e){e.Init="init",e.ModeChanged="modeChanged",e.ContentTranslating="contentTranslating",e.ContentAttached="contentAttached",e.ContentChanged="contentChanged",e.BeforeExecCommand="beforeExecCommand",e.ExecCommand="execCommand",e.OptionChanged="optionChanged",e.AnchorSelected="anchorSelected"}(n.EditorEventName||(n.EditorEventName={}));const a=o.Tools.makeMap("visual,source,preview,plain");function createTooltipGetter(e,n){if(e)return n?()=>{let o=(0,r.resolveValue)(e);const a=(0,i.createDisplayShortcut)(n);return a&&(o+=` (${a})`),o}:()=>(0,r.resolveValue)(e)}function createButtonFromCommand(e,n,o){var i,a,l,c,d,u,p,b,g,m,f,v,y;const x=e.queryCommand(n);if(!x)throw new TypeError;return{id:null!==(i=null==o?void 0:o.name)&&void 0!==i?i:n,icon:null!==(l=null!==(a=null==o?void 0:o.icon)&&void 0!==a?a:x.icon)&&void 0!==l?l:x.name,getLabel:(0,r.resolveIntoGetter)(null!==(c=null==o?void 0:o.label)&&void 0!==c?c:x.label),shortcut:null!==(d=null==o?void 0:o.shortcut)&&void 0!==d?d:x.shortcut,getTooltip:createTooltipGetter(null!==(b=null!==(p=null!==(u=null==o?void 0:o.tooltip)&&void 0!==u?u:x.tooltip)&&void 0!==p?p:null==o?void 0:o.label)&&void 0!==b?b:x.label,null!==(g=null==o?void 0:o.shortcut)&&void 0!==g?g:x.shortcut),execute:()=>{var n;return null===(n=e.focus)||void 0===n||n.call(e),x.execute(e,null==o?void 0:o.args)},getEnabled:null===(m=x.getEnabled)||void 0===m?void 0:m.bind(x,e),getPushed:null!==(v=null===(f=null==o?void 0:o.getPushed)||void 0===f?void 0:f.bind(o,e))&&void 0!==v?v:null===(y=x.getValue)||void 0===y?void 0:y.bind(x,e)}}n.isEditMode=e=>"string"==typeof e&&e in a,function(e){e.ChangeMode="changeMode",e.Undo="undo",e.Redo="redo",e.Copy="copy",e.Paste="paste",e.Cut="cut",e.Clear="clear",e.Bold="bold",e.Italic="italic",e.Underline="underline",e.Strike="strikeThrough",e.Subscript="subscript",e.Superscript="superscript",e.JustifyLeft="justifyLeft",e.JustifyCenter="justifyCenter",e.JustifyRight="justifyRight",e.JustifyFull="justifyFull",e.Indent="indent",e.Outdent="outdent",e.InsertOrderedList="insertOrderedList",e.InsertUnorderedList="insertUnorderedList",e.BackColor="backColor",e.HiliteColor="hiliteColor",e.ForeColor="foreColor",e.FontName="fontName",e.FontSize="fontSize",e.FormatBlock="formatBlock"}(n.EditorCommandAlias||(n.EditorCommandAlias={})),n.createButtonFromCommand=createButtonFromCommand,n.createButtonGroup=function createButtonGroup(e,n,r){return{name:e,type:"control",bind:o=>({modelName:"button-group",model:{id:e,mode:n,buttons:r.map((e=>createButtonFromCommand(o,e.name)))}})}},n.createColorPicker=function createColorPicker(e,n){return{name:e,type:"control",bind:o=>{var i,a,l,c,d,u;const p=null!==(i=null==n?void 0:n.command)&&void 0!==i?i:e,b=o.queryCommand(p);let g=null!==(l=null!==(a=null==n?void 0:n.value)&&void 0!==a?a:null==n?void 0:n.defaultValue)&&void 0!==l?l:null;const getUserColors=()=>{if(!(null==n?void 0:n.userColorsOption))return;const e=o.options.get(null==n?void 0:n.userColorsOption);return r.Type.isString(e)?e.split(","):r.Type.isArrayOf(e,r.Type.isString)?e:void 0};return{modelName:"color-picker",model:{id:p,icon:p,getLabel:(0,r.resolveIntoGetter)(null==b?void 0:b.label),shortcut:null!==(c=null==n?void 0:n.shortcut)&&void 0!==c?c:null==b?void 0:b.shortcut,getTooltip:createTooltipGetter(null!==(d=null==b?void 0:b.tooltip)&&void 0!==d?d:null==b?void 0:b.label,null!==(u=null==n?void 0:n.shortcut)&&void 0!==u?u:null==b?void 0:b.shortcut),allowNull:null==n?void 0:n.allowNull,get userColors(){return getUserColors()},select(e){var r,i;g=null!==(r=null!=e?e:null==n?void 0:n.defaultValue)&&void 0!==r?r:null,null===(i=o.queryCommand(p))||void 0===i||i.execute(o,[g])},get selectedColor(){return g},getEnabled:()=>{var e,n;const r=o.queryCommand(p);return null!==(n=null===(e=null==r?void 0:r.getEnabled)||void 0===e?void 0:e.call(r,o))&&void 0!==n&&n},addUserColor:(null==n?void 0:n.userColorsOption)?e=>{var r;o.options.register(null==n?void 0:n.userColorsOption,[...null!==(r=getUserColors())&&void 0!==r?r:[],e])}:void 0}}}}};class BaseSelectorOptionsConverter{constructor(e){this.options=e}valueToOption(e){var n;return null!==(n=this.options.find((n=>void 0!==n.value?n.value===e:n.label===e)))&&void 0!==n?n:null}optionToValue(e){var n;return null!==(n=null==e?void 0:e.value)&&void 0!==n?n:null==e?void 0:e.label}}n.createSelector=function createSelector(e,n,o){return{name:e,type:"control",bind:i=>{var a,l,c,d,u;"function"==typeof o&&(o={converter:o});const p=null!==(a=null==o?void 0:o.command)&&void 0!==a?a:e;"function"==typeof n&&(n=n(i,e));const b=n.map((e=>"object"==typeof e?e:{label:e})),g=new(null!==(l=null==o?void 0:o.converter)&&void 0!==l?l:BaseSelectorOptionsConverter)(b),m=i.queryCommand(p);return{modelName:"selector",model:{id:p,width:null==o?void 0:o.width,sort:null==o?void 0:o.sort,getLabel:(0,r.resolveIntoGetter)(null==m?void 0:m.label),shortcut:null!==(c=null==o?void 0:o.shortcut)&&void 0!==c?c:null==m?void 0:m.shortcut,getTooltip:createTooltipGetter(null!==(d=null==m?void 0:m.tooltip)&&void 0!==d?d:null==m?void 0:m.label,null!==(u=null==o?void 0:o.shortcut)&&void 0!==u?u:null==m?void 0:m.shortcut),getValue(){var e,n;const r=i.queryCommand(p);return g.valueToOption(null!==(n=null===(e=null==r?void 0:r.getValue)||void 0===e?void 0:e.call(r,i))&&void 0!==n?n:null)},getOptions:()=>b,setValue(e){i.executeCommand(p,[g.optionToValue(e)])},getEnabled:()=>{var e,n;const r=i.queryCommand(p);return null!==(n=null===(e=null==r?void 0:r.getEnabled)||void 0===e?void 0:e.call(r,i))&&void 0!==n&&n}}}}}},n.decodeSelectorOptions=function decodeSelectorOptions(e,n){const splitReduce=(e,n)=>e.split(n).map((e=>e.trim())).filter((e=>!!e)),i=[];return r.Type.isString(e)&&(e=splitReduce(e,";")),r.Type.isArrayOf(e,r.Type.isString)&&(e=e.reduce(((e,n)=>{const r=splitReduce(n,"=");return r.length&&(r.length>=2?e[r[0]]=r[1]:e[r[0]]=r[0]),e}),{})),r.Type.isObject(e)&&o.Tools.forEach(e,((e,n)=>{i.push({label:n,value:e})})),n?i.map((e=>n(e))):i},n.normalizeEntityName=function normalizeEntityName(e){return e.replace(/-/g,"").toLowerCase().trim()}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/rich-text-editor/qp-rich-styles.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("./utils/platform-dependable-utils.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpRichTextEditorStyles=void 0;class QpRichTextEditorStyles{getHttpClient(){return this.client||(this.client=o.Container.instance.get(i.HttpClient),this.client.configure((e=>e.withDefaults({headers:{Accept:"text/css"}})))),this.client}getCssFile(e){return r.__awaiter(this,void 0,void 0,(function*(){if(!(e in QpRichTextEditorStyles.cache)){const r=((n=o.PLATFORM.global.location.origin+a.siteRoot).endsWith("/")?n:`${n}/`)+"App_Themes/"+e;try{const n=this.getHttpClient(),o=yield n.fetch(r,{method:"GET"});o.ok&&(QpRichTextEditorStyles.cache[e]=(yield o.text()).trim())}catch(e){}}var n;return QpRichTextEditorStyles.cache[e]}))}static getDefaultStyle(e){var n,o,i,a;return r.__awaiter(this,void 0,void 0,(function*(){const r=null!==(n=null==e?void 0:e.rootSelector)&&void 0!==n?n:"body.rich",l=(null==e?void 0:e.important)?" !important":"";let c=`\n${r} {\n\tmargin: 0px${l};\n\tpadding: ${null!==(o=null==e?void 0:e.padding)&&void 0!==o?o:0}px${l};\n\tfont-family: ${null!==(i=null==e?void 0:e.fontName)&&void 0!==i?i:"Arial"}${l};\n\tfont-size: ${null!==(a=null==e?void 0:e.fontSize)&&void 0!==a?a:"small"}${l};\n}\n`;return(null==e?void 0:e.scrollbars)&&(c+=`\n${r}::-webkit-scrollbar {\n\tbackground-color: white;\n\twidth: 16px;\n\theight: 16px;\n}\n${r}::-webkit-scrollbar-thumb {\n\tbackground: rgba(0, 0, 0, 0.15);\n\tborder: 4px solid white;\n\tborder-radius: 8px;\n}\n${r}::-webkit-scrollbar-thumb:hover {\n\tbackground-color: rgba(0, 0, 0, 0.40);\n}\n${r}::-webkit-scrollbar-track {\n\tbackground-color: white;\n}\n`),c}))}getValue(e){return r.__awaiter(this,void 0,void 0,(function*(){if("source"===e)return"";let n="";const r=["00_RTEcommon.css","visual"===e?"00_RTEedit.css":"00_RTEview.css"];for(const e of r){const r=yield this.getCssFile(e);r&&(n&&(n+="\n"),n+=r)}return n}))}static getStyles(e){return r.__awaiter(this,void 0,void 0,(function*(){let n=QpRichTextEditorStyles.modes.get(e);if("string"!=typeof n){const r=new QpRichTextEditorStyles;n=yield r.getValue(e),QpRichTextEditorStyles.modes.set(e,n)}return n}))}}n.QpRichTextEditorStyles=QpRichTextEditorStyles,QpRichTextEditorStyles.modes=new Map,QpRichTextEditorStyles.cache={}}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/rich-text-editor/qp-rich-text-editor":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/abstract/base-field-editor/base-field-editor.ts"),r("./controls/compound/rich-text-editor/common/tools.ts"),r("./controls/compound/rich-text-editor/au/factory.ts"),r("./controls/compound/rich-text-editor/editor/types.ts"),r("./controls/compound/rich-text-editor/editor/editor.ts"),r("./controls/compound/rich-text-editor/qp-rich-styles.ts"),r("./controls/compound/rich-text-editor/editor/dom.ts"),r("./controls/compound/rich-text-editor/au/component-id-custom-attribute.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b){"use strict";var g;Object.defineProperty(n,"__esModule",{value:!0}),n.QpRichTextEditorCustomElement=void 0;let m=g=class QpRichTextEditorCustomElement extends i.QpBaseFieldEditor{constructor(e,n){super(n),this.element=e,this.config=Object.assign({},g.defaultConfig),this.internalUpdate=!1,this.updateQueued=!1,this.editor=new d.RichTextEditor(this)}get hostElement(){return this.element}get readonly(){return!!this.config.readOnly}set readonly(e){this.config.readOnly=e,this.notifyOptionsChanged()}buildInterface(){a.Tools.defineProperties(this.element,{value:{get:()=>{var e;return null!==(e=this.value)&&void 0!==e?e:""},set:e=>this.value=e},readonly:{get:()=>this.readonly,set:e=>this.readonly=e}}),this.idTranslator=new b.ComponentIdTranslator(this.element).add(c.EditorCommandAlias.FormatBlock,"textType").add(c.EditorCommandAlias.ForeColor,"menucolorText").add(c.EditorCommandAlias.BackColor,"menucolorBackground")}valueChanged(){var e;const n=null!==(e=this.value)&&void 0!==e?e:"";this.internalUpdate||this.editor.setContent(n),this.internalUpdate=!1,this.element.dispatchEvent(new CustomEvent("changed",{bubbles:!0,detail:n}))}stateChanged(e,n){super.stateChanged(e,n),this.notifyOptionsChanged()}configChanged(e,n){this.config||(this.config=Object.assign({},g.defaultConfig)),this.notifyOptionsChanged(),this.updateId()}notifyOptionsChanged(){this.editor.refresh()}updateId(){var e;this.idAttribute=(null===(e=this.config)||void 0===e?void 0:e.id)||this.element.getAttribute("id")||""}attached(){const e=Object.create(null,{attached:{get:()=>super.attached}});var n,o;return r.__awaiter(this,void 0,void 0,(function*(){e.attached.call(this),this.buildInterface(),this.updateId();const r=p.HTMLUtils.uniqueClass("rte"),i=(0,p.getNumberCSSProperty)(this.editorHost,"--content-padding",16),a=yield u.QpRichTextEditorStyles.getDefaultStyle({padding:i,scrollbars:!0,important:!0,rootSelector:`.${r}`}),getRootClass=e=>`rich ${null!=e?e:""} ${r}`;this.editor.init({readonly:this.readonly,spellcheck:null===(n=this.config.spellcheck)||void 0===n||n,toolbar:"format-block | font-name | font-size |bold italic underline strike-through fore-color hilite-color | justify-group insert-ordered-list insert-unordered-list indent outdent> mode-group | undo redo",plugins:["modes","undo","format","toolbar","anchor","acumatica:attachments"],styles:{visual:{rootClass:getRootClass(),contentStyles:[a,yield u.QpRichTextEditorStyles.getStyles("visual")]},preview:{rootClass:getRootClass("preview"),contentStyles:[a,yield u.QpRichTextEditorStyles.getStyles("preview")]},source:{rootClass:getRootClass("source"),contentStyles:[a]},plain:{rootClass:getRootClass("plain"),contentStyles:[a]}}}),this.editor.setContent(null!==(o=this.value)&&void 0!==o?o:"")}))}detached(){this.dispose(),super.detached()}createToolbar(e){const n=new l.AureliaElementFactory;return"main"===e.type?(this.mainToolbar||(this.mainToolbar=n.createControl("qp-control-bar",{parent:this.toolbarHost,model:{config:e},dispose:()=>this.mainToolbar=void 0})),this.mainToolbar):n.createControl("qp-control-bar",{parent:this.toolbarHost,model:{config:e}})}applyUpdate(e){this.value!==e&&(e||this.value)&&(this.internalUpdate=!0,this.value=e)}queueUpdate(){this.updateQueued||(this.updateQueued=!0,Promise.resolve().then((()=>r.__awaiter(this,void 0,void 0,(function*(){var e;this.applyUpdate(this.editor.getContent({allowEmpty:(null===(e=this.config)||void 0===e?void 0:e.required)?"content":"html",style:{rootClass:"rich",contentStyles:[yield u.QpRichTextEditorStyles.getDefaultStyle({padding:0,scrollbars:!1}),yield u.QpRichTextEditorStyles.getStyles("preview")]}}))})))).finally((()=>{this.updateQueued=!1})))}dispatch(e){e.name!==c.EditorEventName.ModeChanged&&e.name!==c.EditorEventName.ContentChanged||this.queueUpdate()}dispose(){this.editor.dispose()}};m.defaultConfig={id:"",required:!1,enabled:!0,readOnly:!1},r.__decorate([o.bindable,r.__metadata("design:type",Object)],m.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],m.prototype,"value",void 0),m=g=r.__decorate([o.autoinject,(0,o.customElement)("qp-rich-text-editor"),r.__metadata("design:paramtypes",[Element,o.Container])],m),n.QpRichTextEditorCustomElement=m}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/screen-title/qp-screen-title":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js")],i=function(e,n,r,o,i,a){"use strict";var l;Object.defineProperty(n,"__esModule",{value:!0}),n.QpScreenTitleCustomElement=void 0;(0,i.getLogger)("screen-title");let c=l=class QpScreenTitleCustomElement{constructor(e,n,r,o){this.element=e,this.http=n,this.taskQueue=r,this.bindingEngine=o,this.originalWidth=0,this.subscription=void 0}configChanged(e,n){this.rowErrorsChanged(e.rowErrors),this.subscription=this.bindingEngine.propertyObserver(this.config,"rowErrors").subscribe(((e,n)=>{this.rowErrorsChanged(e)})),this.config.tooltipAddToFavorites&&this.updateFavoritesTooltip()}toggleFavorites(e,n){this.config.isFavorite=!this.config.isFavorite;const r=`frameset/screen/${this.config.nodeId}/${this.config.isFavorite?"favorite":"unfavorite"}`;this.http.fetch(r,{method:"POST",headers:{"content-type":"application/json"}}).then((e=>{e.ok?o.PLATFORM.global.top.frameHelper&&(o.PLATFORM.global.top.frameHelper.needRefreshFav=!0):alert(`Error occured: ${e.statusText}`)})).catch((e=>alert(`Something went wrong. ${e.message}`))),this.updateFavoritesTooltip()}updateFavoritesTooltip(){o.PLATFORM.global.px&&(this.config.isFavorite?o.PLATFORM.global.px.setTitle(this.starElement,this.config.tooltipRemoveFromFavorites):o.PLATFORM.global.px.setTitle(this.starElement,this.config.tooltipAddToFavorites))}rowErrorsChanged(e){const n=[];e?(e.forEach((e=>{n.push([e[0],l.stylesMap.get(e[1])||"blue"])})),this.messages=n):this.messages=n}detached(){var e;null===(e=this.resizeObserver)||void 0===e||e.dispose()}};c.stylesMap=new Map([["1","blue"],["3","yellow"],["5","red"]]),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],c.prototype,"captionElement",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],c.prototype,"starElement",void 0),c=l=r.__decorate([(0,o.customElement)("qp-screen-title"),o.autoinject,r.__metadata("design:paramtypes",[Element,a.HttpClient,o.TaskQueue,o.BindingEngine])],c),n.QpScreenTitleCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/system-menu/files-dialog-api-client.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("aurelia-event-aggregator"),r("./descriptors/index.ts"),r("./descriptors/redirect-helper.ts"),r("./services/base-api-client.ts"),r("./utils/control-helper.ts"),r("./controls/compound/grid/grid-api-client.ts"),r("./controls/compound/grid/grid-helper.ts"),r("./controls/compound/rich-text-editor/common/tools.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.joinAcceptList=n.createAcceptList=n.acceptFile=n.PXScreenFileUploadEventName=n.fileListView_clear=n.FilesDialogApiClient=void 0;const g="ui/file";let m=class FilesDialogApiClient{constructor(e,n,r,o){this.client=e,this.redirector=n,this.eventAggregator=r,this.gridApiClient=o,this.requestId=0}upload(e,n,o,i,a,l){var c;return r.__awaiter(this,void 0,void 0,(function*(){e.append("graph",n),e.append("view",o),l=l||(0,d.getScreenID)(),e.append("screenId",l),a&&e.append("action",a),i&&e.append("recordId",i);const r={requestId:++this.requestId,graph:n,viewName:o,screenId:l,action:a,recordId:i,files:e.getAll("upload"),abortController:new AbortController},publish=e=>this.publishUploadEvent(Object.assign({type:e},r));let u=!0;publish(f.Uploading);try{return yield this.client.fetch("old/file/upload",e,null===(c=r.abortController)||void 0===c?void 0:c.signal)}catch(e){u=!1}finally{publish(u?f.Uploaded:f.Failed)}}))}saveFileInMemory(e,n,o){return r.__awaiter(this,void 0,void 0,(function*(){if(!e)return!1;const r=new FormData,i=Object.assign(Object.assign({key:e},n),null!=o?o:{}),a="file"===n.type?"uploadInMemory":"saveInMemory";b.Tools.forEach(i,((e,n)=>{void 0!==e&&r.append(n,e)}));try{const e=yield this.client.fetchExt(`ui/file/${a}`,r);return void 0!==e&&e}catch(e){return!1}}))}attachFromMobile(e,n,o){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${g}/${e}/attachFromMobile`,{recordId:n,fileId:o})}))}removeLink(e,n,o,i){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${g}/${e}/removeLink`,{recordId:n,fileId:o,viewName:i})}))}addLink(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.redirector.doRedirects({isDirty:!1,redirects:[{url:`/pages/sm/SM202520.aspx?note=${e}`,isUrlExternal:!1,message:"",targetFrame:"",settings:{reload:!1,type:a.RedirectType.GoTo,mode:a.WindowMode.NewWindow}}]})}))}resetCache(e,n){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${g}/${e}/resetCache`,{viewName:n})}))}getAttachedImages(e,n,o){return r.__awaiter(this,void 0,void 0,(function*(){return(yield this.getAttachedFiles(e,n,o)).map((e=>({id:e.FileID,fullName:e.Name,imageUrl:e.ViewUrl,editUrl:e.EditUrl})))}))}getAttachedFiles(e,n,o){return r.__awaiter(this,void 0,void 0,(function*(){const r=yield(0,p.getCollectionData)(this.gridApiClient,e,fileListView_clear,{parameters:{guid:n},gridDataUrl:`ui/file/${e}/view`}),i=createAcceptList(o);return 0===i.length?r:r.filter((e=>!!e.Name&&acceptFile(e.Name,i)))}))}publishUploadEvent(e){this.eventAggregator.publish(e.type,e)}};m=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[c.BaseApiClient,l.RedirectHelper,i.EventAggregator,u.GridApiClient])],m),n.FilesDialogApiClient=m;class fileListView_clear extends a.PXView{}var f;function acceptFile(e,n){var r;const o=createAcceptList(n);if(0===o.length)return!0;const i=("string"==typeof e?e:null!==(r=e.name)&&void 0!==r?r:"").toLowerCase();return o.some((e=>i.endsWith(e.toLowerCase())))}function createAcceptList(e){return("string"==typeof e?e.split(","):null!=e?e:[]).map((e=>e.trim())).filter((e=>!!e))}n.fileListView_clear=fileListView_clear,function(e){e.Uploaded="file-uploading",e.Uploading="file-uploaded",e.Failed="file-uploading-failed"}(f=n.PXScreenFileUploadEventName||(n.PXScreenFileUploadEventName={})),n.acceptFile=acceptFile,n.createAcceptList=createAcceptList,n.joinAcceptList=function joinAcceptList(e){return("string"==typeof e?[e]:null!=e?e:[]).join(",")}}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/system-menu/qp-files-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./descriptors/index.ts"),r("./controls/abstract/index.ts"),r("./dependency-property-injection/index.ts"),r("./utils/index.ts"),r("./controls/compound/system-menu/files-dialog-api-client.ts"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("controls/compound/tool-bar/qp-tool-bar"),r("./services/messages.ts"),r("./utils/platform-dependable-utils.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpFilesDialogCustomElement=void 0;let m=class QpFilesDialogCustomElement extends a.PXScreen{constructor(){super(),this.mobileUploadStarted=!1,this.Msg=b.Messages,this.eventSubscriptions=[],this.loadOnDemand=!0}attached(){return r.__awaiter(this,void 0,void 0,(function*(){this.subscribers.push(this.screenEventManager.subscribe(i.OpenPopupEvent.EventName,(e=>{e.stop(),this.open(void 0)})))}))}configChanged(e){e.graph&&(this.filesGridConfig={recordId:e.recordId,parameters:{guid:e.recordId},view:"fileListView_clear",screenId:e.screenId?e.screenId:(0,c.getScreenID)(),showFilterBar:i.GridFilterBarVisibility.False,showTopBar:!0,showRowSelectors:!0,allowDelete:!1,allowInsert:!1,allowUpdate:!0,topBarItems:{refresh:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("refresh")),{hidden:!1})},download:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("download")),{images:{normal:"main@GetFile"},showInToolbar:!0,commandName:"getFile"})},addlink:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("addLink")),{text:b.Messages.FilesAddLink,showInToolbar:!0,commandName:"addLink"})},removelink:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("removeLink")),{text:b.Messages.FilesRemoveLink,showInToolbar:!0,commandName:"removeLink"})},uploadusingmobile:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("uploadUsingMobile")),{text:b.Messages.CapturingImageButtonTitle,showInToolbar:!0,commandName:"attachFromMobile"})}},adjustPageSize:!0,pageSize:20,gridDataUrl:`ui/file/${e.screenId?e.screenId:(0,c.getScreenID)()}/view`,id:`${this.config.id}_fb_files`},this.uploaderConfig={id:`${this.config.id}_fb_upld2_FileUpldr`,recordId:e.recordId,graph:e.graph,view:e.view,action:e.action,screenId:e.screenId?e.screenId:(0,c.getScreenID)()},this.screenEventManager.subscribe("ExecuteCommand",(e=>{e.stop();const n=this.grid.getActiveRow();switch(e.Command){case"addLink":this.client.addLink(this.config.recordId).then((e=>{var n;e&&e.length&&(null===(n=e[0])||void 0===n?void 0:n.close$)&&e[0].close$.then((()=>{this.client.resetCache((0,c.getScreenID)(),this.config.view).then((()=>{this.refreshGrid()}))}))}));break;case"removeLink":this.client.removeLink((0,c.getScreenID)(),this.config.recordId,null==n?void 0:n.cells.FileID.value,this.config.view).then((e=>{e?alert(e):this.refreshGrid()}));break;case"attachFromMobile":this.mobileUploadStarted=!0,this.client.attachFromMobile((0,c.getScreenID)(),this.config.recordId,null==n?void 0:n.cells.FileID.value).then((e=>{e.Ok?alert(e.Ok):this.refreshGrid()}));break;case"getFile":const e=document.createElement("a");e.setAttribute("download",""),e.href=`${g.siteRoot}Frames/GetFile.ashx?fileID=${null==n?void 0:n.cells.FileID.value}&amp;fdwnld=1`,document.body.appendChild(e),e.click(),e.remove()}})))}initGrid(){this.tq.queueTask((()=>this.grid.refresh().then((()=>{this.grid.refresh()}))))}refreshGrid(){this.grid.refresh().then((()=>{this.afterChange&&this.afterChange(this.grid.hasRows)}))}open(e){return e&&(this.afterChange=e),this.dialogHelper.openDialog({templateId:"pnlFilesDialog",context:this,deactivateValidator:e=>this.fileCloseValidator(e)}).then((()=>{this.addFileLoadedListener((e=>{this.refreshGrid()})),this.initGrid()}))}addFileLoadedListener(e){this.eventSubscriptions.push(this.eventManager.addEventListener(this.uploader,"fileloaded",e,u.delegationStrategy.bubbling,!0))}fileCloseValidator(e){var n;return this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],!!(null===(n=e.output)||void 0===n?void 0:n.force)||!e.wasCancelled}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],m.prototype,"config",void 0),r.__decorate([l.autoinject,r.__metadata("design:type",d.FilesDialogApiClient)],m.prototype,"client",void 0),r.__decorate([l.autoinject,r.__metadata("design:type",o.TaskQueue)],m.prototype,"tq",void 0),m=r.__decorate([(0,o.customElement)("qp-files-dialog"),r.__metadata("design:paramtypes",[])],m),n.QpFilesDialogCustomElement=m}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/system-menu/qp-note-dialog/qp-note-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/dialog/base-dialog/dialog-helper.ts"),r("./services/messages.ts"),r("./controls/compound/system-menu/sys-menu-api-client.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpNoteDialogCustomElement=void 0;let d=class QpNoteDialogCustomElement{constructor(e,n,r){this.element=e,this.sysMenuApiClient=n,this.dialogHelper=r,this.hasPopupText=!1,this.Msg=a.Messages,this.chkAddPopupNoteConfig={id:"pnlNoteShow_ib_chkPopup",class:"checkBox",label:a.Messages.AddPopupNotesTitle}}updateNote(){this.sysMenuApiClient.updateNote(this.config.recordId,this.config.view,this.model.noteText,this.model.popupNoteText,this.config.screenId).then((()=>{Object.assign(this.view,this.model)})).finally((()=>{var e;null===(e=this.dialogController)||void 0===e||e.ok()}))}open(){if(this.view){this.model=Object.assign({},this.view),this.hasPopupText=!1;const dv=e=>this.noteCloseValidator(e);return this.dialogHelper.openDialog({templateId:"pnlNoteShow_ib",context:this,deactivateValidator:dv},{},(e=>{this.dialogController=e.controller}))}}noteCloseValidator(e){var n;return this.dialogController=void 0,!!(null===(n=e.output)||void 0===n?void 0:n.force)||(!e.wasCancelled||this.model.noteText===this.view.noteText)}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],d.prototype,"view",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],d.prototype,"config",void 0),d=r.__decorate([(0,o.customElement)("qp-note-dialog"),(0,c.autoinject)(),r.__param(2,(0,c.newInstance)()),r.__metadata("design:paramtypes",[Element,l.SysMenuApiClient,i.DialogHelper])],d),n.QpNoteDialogCustomElement=d}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/system-menu/qp-sys-menu":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/base-api-client.ts"),r("./descriptors/index.ts"),r("./controls/dialog/base-dialog/dialog-helper.ts"),r("./controls/compound/system-menu/sys-menu-api-client.ts"),r("./dependency-property-injection/index.ts"),r("./services/session-url-serializer.ts")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Filter=n.ProfilerInfo=n.AuditInfo=n.QpSysMenuCustomElement=void 0;let p=class QpSysMenuCustomElement{};r.__decorate([o.bindable,r.__metadata("design:type",Object)],p.prototype,"config",void 0),r.__decorate([(0,d.newInstance)(a.QpEventManager),r.__metadata("design:type",a.QpEventManager)],p.prototype,"screenEventManager",void 0),r.__decorate([(0,d.newInstance)(a.RedirectHelper),r.__metadata("design:type",a.RedirectHelper)],p.prototype,"redirector",void 0),r.__decorate([(0,d.newInstance)(i.BaseApiClient),r.__metadata("design:type",i.BaseApiClient)],p.prototype,"baseApiClient",void 0),r.__decorate([d.autoinject,r.__metadata("design:type",o.EventManager)],p.prototype,"eventManager",void 0),r.__decorate([d.autoinject,r.__metadata("design:type",Element)],p.prototype,"element",void 0),r.__decorate([(0,d.newInstance)(c.SysMenuApiClient),r.__metadata("design:type",c.SysMenuApiClient)],p.prototype,"sysMenuApiClient",void 0),r.__decorate([(0,d.newInstance)(l.DialogHelper),r.__metadata("design:type",l.DialogHelper)],p.prototype,"dialogHelper",void 0),r.__decorate([(0,d.inject)(u.SessionUrlSerializer),r.__metadata("design:type",Object)],p.prototype,"urlSerializer",void 0),p=r.__decorate([(0,o.customElement)("qp-sys-menu")],p),n.QpSysMenuCustomElement=p;n.AuditInfo=class AuditInfo{};n.ProfilerInfo=class ProfilerInfo{};class Filter extends a.PXView{}n.Filter=Filter}.apply(n,o),void 0===i||(e.exports=i)},"./controls/compound/system-menu/sys-menu-api-client.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/base-api-client.ts"),r("aurelia-framework"),r("./utils/index.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SysMenuApiClient=void 0;const l="ui/screen",c="sys-menu",d="ui/activity";let u=class SysMenuApiClient{constructor(e){this.client=e}callCustomizeAction(e,n,o,i,a,l){return r.__awaiter(this,void 0,void 0,(function*(){return this.callCustomizationGraphAction("customize",e,n,o,i,a,l)}))}callCustomizeBusinessLogicAction(e,n,o,i,a,l){return r.__awaiter(this,void 0,void 0,(function*(){return this.callCustomizationGraphAction("customize-business-logic",e,n,o,i,a,l)}))}callCustomizeDataFieldsAction(e,n,o,i,a,l){return r.__awaiter(this,void 0,void 0,(function*(){return yield this.callCustomizationGraphAction("customize-data-fields",e,n,o,i,a,l)}))}callViewBusinessLogicAction(e,n,o,i,a,l){return r.__awaiter(this,void 0,void 0,(function*(){return yield this.callCustomizationGraphAction("view-business-logic",e,n,o,i,a,l)}))}callViewDataClassAction(e,n,o,i,a,l){return r.__awaiter(this,void 0,void 0,(function*(){return yield this.callCustomizationGraphAction("view-data-class",e,n,o,i,a,l)}))}sendEmail(e){return this.client.fetchExt(`${d}/email`,e)}getAbout(){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${l}/about`)}))}getShareColumnsCfg(e,n){const r={grids:n};return this.client.fetchExt(`${l}/${e}/${c}/share-column-cfg`,r)}getActivities(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${d}/${e}`)}))}activityRedirect(e,n){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${d}`,{command:e,recordId:n})}))}updateNote(e,n,o,i,d){return r.__awaiter(this,void 0,void 0,(function*(){const r={view:n,recordId:e,noteText:o,popupNoteText:i};return this.client.fetchExt(`${l}/${d||(0,a.getScreenID)()}/${c}/note`,r)}))}auditLog(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${l}/${e}/audit-load`,{})}))}isProfilerStarted(){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${l}/is-profiler-started`,{})}))}startProfiler(){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${l}/start-profiler`,{})}))}stopProfiler(){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${l}/stop-profiler`,{})}))}createBusinessEvent(e,n){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${l}/${e}/create-business-event`,n)}))}manageAttributes(e,n,o){return r.__awaiter(this,void 0,void 0,(function*(){const r={screenID:e,graph:n,viewName:o};return this.client.fetchExt(`${l}/${e}/manage-attributes`,r)}))}switchUiScreenMode(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${l}/${e}/switch-screen-type`,null)}))}callCustomizationGraphAction(e,n,o,i,a,d,u){return r.__awaiter(this,void 0,void 0,(function*(){const r={screenID:n,graph:o,viewName:i,fieldName:d,dacFullName:u,command:a};return this.client.fetchExt(`${l}/${n}/${c}/inspect-properties/${e}`,r)}))}};u=r.__decorate([i.autoinject,r.__metadata("design:paramtypes",[o.BaseApiClient])],u),n.SysMenuApiClient=u}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/tool-bar/qp-tool-bar":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("aurelia-event-aggregator"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("./descriptors/constants.ts"),r("./descriptors/event-manager.ts"),r("./descriptors/types.ts"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p){"use strict";var b;Object.defineProperty(n,"__esModule",{value:!0}),n.NewMenuMenuOptions=n.NewMenuButton=n.MenuOptions=n.MenuButton=n.MenuItem=n.QpToolBarCustomElement=void 0;(0,a.getLogger)("tool-bar");let g=b=class QpToolBarCustomElement{constructor(e,n,r,o,i,a){this.element=e,this.bindingEngine=n,this.eventAggregator=r,this.screenEventManager=o,this.taskQueue=i,this.http=a,this.subscription=void 0,this.styleSubscription=void 0,this.saveObservers=[],this.items=[],this.menu=[],this.itemElements=[],this.showMenuOpener=!0,this.menuExclusions={},this.toolBarMode="toolbar+menu",this.menuOpened=!1,this.menuTopPosition=0,this.highlightedRow=void 0,this.highlightedColumn=void 0,this.highlightedID="",this.toolbarWidth=0,this.availableHeight=0,this.menuColumnsNbr=3}get ID(){var e;return null===(e=null==this?void 0:this.config)||void 0===e?void 0:e.id}appendConfig(e){this.extraConfig=e,this.config||(this.config=e),this.config.items||(this.config.items={}),this.mergeConfigs(),this.config.changed=!0}mergeConfigs(){var e;if(!this.extraConfig)return;const n={id:"_extra_category_",isSystem:!1,name:"Extra",actions:[]};for(const e in this.extraConfig.items){const r=this.extraConfig.items[e];this.config.items[e]=r,n.actions.push(e)}if(null===(e=this.config.categories)||void 0===e?void 0:e.length){const e=this.config.categories.findIndex((e=>"_extra_category_"===e.id));e>=0?this.config.categories[e]=n:this.config.categories.push(n)}}configChanged(e,n){var r,o;this.config&&(this.config.id||console.error("Id is not specified for toolbar ",this),(0,p.applyDefaultValues)(this.config,b.defaultConfig),this.mergeConfigs(),this.config.changed=!1,this.config.styleChanged=!1,null===(r=this.subscription)||void 0===r||r.dispose(),this.subscription=this.bindingEngine.propertyObserver(this.config,"changed").subscribe((e=>{e&&(this.setupViewModel(),this.taskQueue.queueTask((()=>{this.rebuildMenu()})),this.config.changed=!1)})),null===(o=this.styleSubscription)||void 0===o||o.dispose(),this.styleSubscription=this.bindingEngine.propertyObserver(this.config,"styleChanged").subscribe((e=>{e&&(this.synchroniseItems(),this.config.styleChanged=!1)})),this.setupViewModel(),this.setupWidthObserver(),this.taskQueue.queueTask((()=>this.adjustToolbarWidth())))}attached(){this.setupWidthObserver()}setupWidthObserver(){!this.resizeObserver&&o.PLATFORM.global.ResizeObserver&&this.toolbarElement&&this.fullULElement&&(this.resizeObserver=new o.PLATFORM.global.ResizeObserver((e=>{e&&e.length&&this.onWidthChange()})),this.resizeObserver.observe(this.fullULElement),this.resizeObserver.observe(this.toolbarElement))}onWidthChange(){const e=this.toolbarElement.clientWidth;this.menuColumnsNbr=Math.min(3,Math.floor(e/300)),this.rebuildMenu(),this.toolbarWidth=this.toolbarElement.clientWidth}adjustToolbarWidth(){var e;if(!this.menuOpener)return;const n=getComputedStyle(this.menuOpener),r=this.toolbarElement.clientWidth-this.menuOpener.offsetWidth-parseInt(n.marginLeft)-parseInt(n.marginRight);if(null===(e=this.config)||void 0===e?void 0:e.disableMenu)this.toolBarMode="toolbar only";else if("always menu"!==this.toolBarMode){if(this.fullULElement.scrollHeight<45)return this.toolBarMode="toolbar only",void this.hideMenu();this.toolBarMode="toolbar+menu"}let o=0;const i=[];let a=0,l=!0;for(const e of this.itemElements){if(!e)continue;if(this.isNavigation(e.id)){i.push(e),o+=getEleWidth(e);continue}if(!this.isSystem(e.id))continue;a+=getEleWidth(e),a>r&&(l=!1);const n=this.items.find((n=>n.id===e.id));null==n||n.makeVisible(l)}for(const e of this.itemElements){if(!e)continue;if(this.isSystem(e.id)||this.isNavigation(e.id))continue;a+=getEleWidth(e),a>r&&(l=!1);const n=this.items.find((n=>n.id===e.id));null==n||n.makeVisible(l)}if(l&&a+o<=r)for(const e of i){const n=this.items.find((n=>n.id===e.id));null==n||n.makeVisible()}else for(const e of i){const n=this.items.find((n=>n.id===e.id));null==n||n.makeVisible(!1)}}isNavigation(e){var n;if(!e)return!1;const r=null===(n=this.config.items[this.localId(e)])||void 0===n?void 0:n.config;return!!(null==r?void 0:r.isNavigation)}isSystem(e){var n;if(!e)return!1;const r=null===(n=this.config.items[this.localId(e)])||void 0===n?void 0:n.config;return!!(null==r?void 0:r.isSystem)}syncMenuChanges(){var e;for(const n of this.items){if(!n)continue;const r=null===(e=this.config.items[n.id])||void 0===e?void 0:e.config;r&&(n.disabled=void 0!==r.disabled&&r.disabled)}}synchroniseItems(){for(const e in this.config.items){const n=this.config.items[e].config,r=this.items.find((n=>n.id===this.fullId(e)));if(!r)continue;r.disabled=void 0!==n.disabled&&n.disabled;const o=r;o&&(o.images=n.images||o.images,o.toolTip=n.toolTip||o.toolTip)}this.attachToolTips()}unbindStates(){this.saveObservers.forEach((e=>e.dispose()))}bindStateWith(e){e&&this.saveObservers.push(this.bindingEngine.propertyObserver(e,"enabled").subscribe((n=>{const r=Object.values(this.config.items).find((n=>n.config.state===e));r&&(r.config.disabled=!n),this.synchroniseItems()})))}syncState(e,n){let r;if(e)if(e instanceof u.PXActionState)r=e;else if(r=e(),!r)return Object.assign(Object.assign({},n),{hidden:!0});return r?n=Object.assign({text:r.text,commandName:r.commandName,hidden:!r.visible,disabled:!r.enabled,toolTip:r.tooltip,imageSet:r.imageSet,imageKey:r.imageKey,imageUrl:r.imageUrl},n):n}setupViewModel(){var e,n;this.items||(this.items=[]),this.menuExclusions={};this.config.id;const r=this.config.categories,o=Object.entries(this.config.items).sort(((e,n)=>(null!=e[1].index?e[1].index:1e3)-(null!=n[1].index?n[1].index:1e3)));let i=0;for(const n of o){const o=n[0],a=this.config.items[o],l=this.syncState(a.config.state,a.config);let c;switch(a.type){case"menu-options":{const e=null==r?void 0:r.find((e=>e.id===o));if(e){this.menuExclusions[e.name]=!0;const n=new MenuOptions(this.fullId(o),l);for(const r of e.actions){const e=this.config.items[r].config;n.options.push(new MenuButton(this.fullId(r),e))}c=n}else{const e=a.config.options;if(!e)continue;const n=new MenuOptions(this.fullId(o),l);for(const r in e){const o=e[r];n.options.push(new MenuButton(this.fullId(r),o))}c=n}break}case"menu-button":case void 0:c=new MenuButton(this.fullId(o),l);break;default:c=new MenuItem(this.fullId(o))}let d=!1;if(l.hidden)d=!0;else if(r&&!(l.showInToolbar||l.favorite&&!l.disabled&&this.isInCategories(o))){c.showIfEnoughRoom=!0,d=!0;for(const e of r)if(null==(null==e?void 0:e.text)&&(null==e?void 0:e.actions.find((e=>e===o)))){d=!1;break}}d||(c.id!==(null===(e=this.items[i])||void 0===e?void 0:e.id)?this.items.splice(i,1,c):this.items[i].update(c),i++)}this.items.splice(i);const a=r?r.filter((e=>null==this.menuExclusions[e.name])):[];(null===(n=this.config)||void 0===n?void 0:n.disableMenu)?this.toolBarMode="toolbar only":a.find((e=>e.text))?this.toolBarMode="always menu":this.toolBarMode="toolbar+menu",this.rebuildMenu(),this.taskQueue.queueTask((()=>{this.attachToolTips()}))}isInCategories(e){for(const n of this.config.categories||[])if(null==n?void 0:n.actions.find((n=>n===e)))return!0;return!1}static isInMenu(e,n){var r;for(const o of e)if(null===(r=o.items)||void 0===r?void 0:r.find((e=>e.id===n)))return!0;return!1}rebuildMenu(){var e,n;if(!this.config)return;this.adjustToolbarWidth();const r=[];let i=0;for(const e of this.config.categories||[]){if(this.menuExclusions[e.name]||!e.actions)continue;++i;const n={};n.id=e.id,n.text=e.text,n.items=[];for(const r of e.actions){const o=this.config.items[r],a=o.config;let l;switch(o.type){case"menu-button":case void 0:l=new MenuButton(this.fullId(r),a,this.fullId(e.id));break;default:l=new MenuItem(this.fullId(r))}n.items.push(l),++i}r.push(n)}const a={items:[]};for(const n of this.items)n.visibleOnToolbar||!this.isSystem(n.id)&&(null===(e=this.config.categories)||void 0===e?void 0:e.length)||this.isNavigation(n.id)||b.isInMenu(r,n.id)||(a.items.push(n),++i);a.items.length&&r.unshift(a);let l=0;this.menu=[];let c=0;this.availableHeight=o.PLATFORM.global.document.documentElement.clientHeight-((null===(n=this.toolbarElement)||void 0===n?void 0:n.getBoundingClientRect().bottom)||0);const d=Math.floor(this.availableHeight/30);let u=0;for(const e of r)u+=e.items.length+1;this.menuColumnsNbr=Math.min(this.menuColumnsNbr,Math.max(Math.ceil(u/d),2));for(const e of r)c=Math.min(c+1,Math.floor(l*this.menuColumnsNbr/i)),l+=e.items.length+1,this.menu[c]||(this.menu[c]=[]),this.menu[c].push(new MenuLabel(this.fullId(e.id),e.text)),this.menu[c].push(...e.items);this.showMenuOpener=!this.isEverythingVisible()}isEverythingVisible(){var e;for(const n of this.menu)for(const r of n)if("MenuButton"===r.type&&!0!==(null===(e=this.items.find((e=>e.id===r.id)))||void 0===e?void 0:e.visibleOnToolbar))return!1;return!0}legacyEnv(){return!!o.PLATFORM.global.px}attachToolTips(){var e,n,r;for(const n of this.itemElements){if(!n)continue;const r=this.config.items[this.localId(n.id)];"menu-button"===(null==r?void 0:r.type)&&(null===(e=null==r?void 0:r.config)||void 0===e?void 0:e.toolTip)&&o.PLATFORM.global.px&&o.PLATFORM.global.px.setTitle(n,r.config.toolTip)}for(let e=0;e<(null===(n=this.fullULElement)||void 0===n?void 0:n.children.length);++e){const n=this.fullULElement.children[e];if(!n)continue;const i=this.config.items[this.localId(n.id)];"menu-button"===(null==i?void 0:i.type)&&(null===(r=null==i?void 0:i.config)||void 0===r?void 0:r.toolTip)&&o.PLATFORM.global.px&&o.PLATFORM.global.px.setTitle(n,i.config.toolTip)}}advanceSelection(e,n=0){null==this.highlightedColumn&&(this.highlightedColumn=n>0?this.menuColumnsNbr:0);const r=this.highlightedColumn;this.highlightedColumn=(this.highlightedColumn+n+this.menuColumnsNbr)%this.menuColumnsNbr;let o=this.menu[this.highlightedColumn];null==this.highlightedRow&&(this.highlightedRow=e>=0?-1:o.length),n&&(this.highlightedRow=Math.min(this.highlightedRow,o.length-1),e=0);const i=this.highlightedRow;this.highlightedRow+=e;let a=0;for(a=0;a<this.menuColumnsNbr;++a){for(o=this.menu[this.highlightedColumn];this.highlightedRow>=0&&this.highlightedRow<o.length;){const r=o[this.highlightedRow];if("MenuButton"===r.type&&!r.disabled)break;this.highlightedRow+=e||n}if(this.highlightedRow>=0&&this.highlightedRow<o.length)break;this.highlightedColumn=(this.highlightedColumn+n+this.menuColumnsNbr)%this.menuColumnsNbr,this.highlightedRow=i}a===this.menuColumnsNbr&&(this.highlightedRow=i,this.highlightedColumn=r),o=this.menu[this.highlightedColumn];const l=o&&o[this.highlightedRow];this.highlightedID=null==l?void 0:l.id,this.menuPane&&this.scrollIntoView()}onKeyDown(e){let n=!1;switch(e.key){case"Down":case"ArrowDown":this.menuOpened||this.showMenu(),this.advanceSelection(1),n=!0;break;case"Up":case"ArrowUp":this.menuOpened||this.showMenu(),this.advanceSelection(-1),n=!0;break;case"Left":case"ArrowLeft":this.menuOpened||this.showMenu(),this.advanceSelection(0,-1),n=!0;break;case"Right":case"ArrowRight":this.menuOpened||this.showMenu(),this.advanceSelection(0,1),n=!0;break;case"Esc":case"Escape":this.hideMenu(),n=!0;break;case"Enter":this.highlightedID&&this.processClick(this.highlightedID,"MenuButton",e),n=!0}return!n||(e.stopPropagation(),!1)}stopPropagation(e){return e.stopPropagation(),!1}toggleMenu(e){return this.menuOpened?this.hideMenu():this.showMenu(),!1}showMenu(){this.menuTopPosition=this.menuOpener.getBoundingClientRect().bottom;const e=o.PLATFORM.global.document.documentElement.clientHeight-this.toolbarElement.getBoundingClientRect().bottom;if(this.availableHeight!==e){const n=this.toolbarElement.clientWidth;this.availableHeight=e,this.menuColumnsNbr=Math.min(3,Math.floor(n/300)),this.setupViewModel()}this.rebuildMenu(),this.menuOpener.focus(),setTimeout((()=>{this.documentMouseDownSubscription=this.eventAggregator.subscribe(c.MOUSE_DOWN_REACHED_BODY,(()=>this.hideMenu()))}),0),this.menuOpened=!0}hideMenu(){this.unsubscribeFromMouseDownOnDocument(),this.menuOpened=!1,this.highlightedRow=void 0,this.highlightedColumn=void 0}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}detached(){var e,n,r;this.unsubscribeFromMouseDownOnDocument(),null===(e=this.styleSubscription)||void 0===e||e.dispose(),null===(n=this.subscription)||void 0===n||n.dispose(),null===(r=this.resizeObserver)||void 0===r||r.disconnect(),this.saveObservers.forEach((e=>e.dispose()))}toggleFavorites(e,n){const r=this.config.items[this.localId(e)].config;let o="add";return r.favorite?(r.favorite=!1,o="remove"):r.favorite=!0,this.http.fetch(`ui/FavoriteActions/${(0,p.getScreenID)()}/${r.commandName}/${o}`,{method:"POST",headers:{"content-type":"application/json"}}).then((e=>{e.ok?(this.setupViewModel(),this.taskQueue.queueTask((()=>{this.onWidthChange(),this.eventAggregator.publish(`repositioned:${this.menuOpener.id}`)}))):alert(`Error occured: ${e.statusText}`)})).catch((e=>alert(`Something went wrong. ${e.message}`))),this.stopPropagation(n)}processMenuSelected(e){const n=e.detail.id;this.processClick(n,"MenuButton",e.detail.event)}processMenuClick(e,n){this.processClick(e,"MenuButton",n,!0)}processOut(e,n){const r=this.toolbarElement.querySelector(`[id='${e}']`);return r&&(r.style.position="",r.style.zIndex=""),!0}processDown(e,n,r){o.PLATFORM.global.__px&&o.PLATFORM.global.__px(document).isActiveWC()&&o.PLATFORM.global.__px(document).registerWaitTask(this,(()=>{this.processClick(e,n,r)}),r);const i=this.toolbarElement.querySelector(`[id='${e}']`);return i&&(i.style.position="relative",i.style.zIndex="30000"),!0}processClick(e,n,r,i=!1){var a;if(o.PLATFORM.global.__px&&o.PLATFORM.global.__px(document).unregisterWaitTask(this),!i){const n=this.toolbarElement.querySelector(`[id='${e}']`);n&&(n.style.position="",n.style.zIndex="")}if(this.highlightedID="","MenuButton"!==n)return this.menuOpener.blur(),!0;const l=Object.assign(Object.assign({},this.items.find((n=>n.id===e))),null===(a=this.config.items[this.localId(e)])||void 0===a?void 0:a.config);if(!b.isEnabled(l))return!0;if(this.hideMenu(),document.activeElement){const e=new CustomEvent("update",{bubbles:!0,cancelable:!1});document.activeElement.dispatchEvent(e)}const c={event:r,config:l},u=this.toggleItem(e);void 0!==u&&(c.pushed=u);const p=new CustomEvent("buttonpressed",{bubbles:!0,detail:c});return l.target?l.target.dispatchEvent(p):this.element.dispatchEvent(p),l.commandName&&!p.propagationStopped&&this.screenEventManager.publish(new d.ExecuteCommandEvent(l.commandName)),!1}processMouseEnter(e,n){return this.highlightedID=e,!0}processMouseLeave(e,n){return this.highlightedID===e&&(this.highlightedID=""),!0}fullId(e){return`${this.config.id}${e}`}localId(e){return e.substring(this.ID?this.ID.length:0)}toggleItem(e){const n=this.items.find((n=>n.id===e));if(!n||"MenuButton"!==n.type)return;const r=n;return r.toggleMode?(r.pushed=!r.pushed,r.pushed):void 0}scrollIntoView(){var e,n,r,o;null!=this.highlightedRow&&null!=this.highlightedColumn&&("scrollBehavior"in document.documentElement.style?null===(n=null===(e=this.menuPane.children[this.highlightedColumn])||void 0===e?void 0:e.children[this.highlightedRow])||void 0===n||n.scrollIntoView({block:"nearest"}):null===(o=null===(r=this.menuPane.children[this.highlightedColumn])||void 0===r?void 0:r.children[this.highlightedRow])||void 0===o||o.scrollIntoView(!1))}static isEnabled(e){return!!e&&!e.disabled}};function getEleWidth(e){if(!e)return 0;const n=getComputedStyle(e);return e.getBoundingClientRect().width+parseInt(n.marginLeft)+parseInt(n.marginRight)}g.defaultConfig={hidden:!1,enabled:!0},r.__decorate([o.bindable,r.__metadata("design:type",Object)],g.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],g.prototype,"menuColumnsNbr",void 0),g=b=r.__decorate([(0,o.customElement)("qp-tool-bar"),o.autoinject,r.__metadata("design:paramtypes",[Element,o.BindingEngine,i.EventAggregator,d.QpEventManager,o.TaskQueue,l.HttpClient])],g),n.QpToolBarCustomElement=g;class MenuItem{constructor(e){this.cssClass="",this.width="",this.disabled=!1,this.hidden=!1,this.renderAs=MenuItem.RENDER_TEXT,this.visibleOnToolbar=!0,this.showIfEnoughRoom=!1,this.isNavigation=!1,this.isSystem=!1,this.showInToolbar=!1,this.id=e}get type(){return"MenuItem"}makeVisible(e=!0){this.visibleOnToolbar=e}renderIcon(){return!!(this.renderAs&MenuItem.RENDER_ICON)}renderText(){return!!(this.renderAs&MenuItem.RENDER_TEXT)}update(e){null!=e.cssClass&&(this.cssClass=e.cssClass),null!=e.width&&(this.width=e.width),null!=e.disabled&&(this.disabled=e.disabled),null!=e.renderAs&&(this.renderAs=e.renderAs),null!=e.visibleOnToolbar&&(this.visibleOnToolbar=e.visibleOnToolbar),null!=e.showIfEnoughRoom&&(this.showIfEnoughRoom=e.showIfEnoughRoom)}}n.MenuItem=MenuItem,MenuItem.RENDER_ICON=1,MenuItem.RENDER_TEXT=2;class MenuButton extends MenuItem{constructor(e,n,r){var o,i,a,l,c,d,u;super(e),this.toolTip="",this.images={},this.favorite=!1,this.connotation="",this.toggleMode=!1,this.pushed=!1,this.commandName=n.commandName,this.text=null!==(o=n.text)&&void 0!==o?o:"",this.categoryID=r,this.toolTip=null!==(i=n.toolTip)&&void 0!==i?i:"",this.disabled=!g.isEnabled(n),this.cssClass=null!==(l=null!==(a=n.css)&&void 0!==a?a:n.cssClass)&&void 0!==l?l:"",this.connotation=null!==(c=n.connotation)&&void 0!==c?c:"",this.favorite=!!n.favorite,this.images=n.images||{},this.toggleMode=null!==(d=n.toggleMode)&&void 0!==d&&d,this.pushed=null!==(u=n.pushed)&&void 0!==u&&u,n.imageUrl&&(this.images.normal=n.imageUrl),n.imageSet&&n.imageKey&&(this.images.normal=`${n.imageSet}@${n.imageKey}`),this.images.normal&&(this.renderAs=MenuItem.RENDER_ICON)}get type(){return"MenuButton"}update(e){super.update(e),null!=e.commandName&&(this.commandName=e.commandName),null!=e.text&&(this.text=e.text),null!=e.toolTip&&(this.toolTip=e.toolTip),null!=e.images&&(this.images=e.images),null!=e.favorite&&(this.favorite=e.favorite),null!=e.connotation&&(this.connotation=e.connotation),null!=e.toggleMode&&(this.toggleMode=e.toggleMode),null!=e.pushed&&(this.pushed=e.pushed),this.categoryID=e.categoryID}}n.MenuButton=MenuButton;class MenuOptions extends MenuButton{constructor(e,n){super(e,n),this.options=[]}update(e){super.update(e),this.options=e.options}get type(){return"MenuOptions"}}n.MenuOptions=MenuOptions;class MenuLabel extends MenuItem{constructor(e,n){super(e),this.imageURL="",this.text=n}get type(){return"MenuLabel"}update(e){super.update(e),null!=e.imageURL&&(this.imageURL=e.imageURL),null!=e.text&&(this.text=e.text)}}n.NewMenuButton=function NewMenuButton(e){return new MenuButton(e,{})},n.NewMenuMenuOptions=function NewMenuMenuOptions(e){return new MenuOptions(e,{})}}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/tree/qp-tree-node":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./services/localization.ts"),r("./services/tree-service.ts"),r("./utils/index.ts"),r("./dependency-property-injection/index.ts"),r("./services/tree-api-client.ts")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpTreeNodeCustomElement=void 0;(0,i.getLogger)("qp-tree-node");let p=class QpTreeNodeCustomElement{constructor(e,n,r,o){this.element=e,this.treeService=n,this.tq=r,this.eventManager=o,this.updateTree=!0,this.updateText=!0,this.editMode=!1,this.showDragSeparator=!1,this.levelShift="0px",this.level=0,this.eventSubscriptions=[],this.localizedStrings=a.LOCALIZED_STRINGS.tree}get meta(){return this.treeService.metaMap[this.nodeId]}set meta(e){}get textParts(){var e;const{meta:n}=this;if(!n)return[];if((null==n?void 0:n.item)&&(null==n?void 0:n.mark)){return new c.TextParter(n.mark).getTextParts(n.item.name)}return[{text:null===(e=n.item)||void 0===e?void 0:e.name,selected:!1}]}attached(){var e,n,r,i,a,l,c;(null===(n=null===(e=this.meta)||void 0===e?void 0:e.item)||void 0===n?void 0:n.extraColumns)&&this.createOptionalControls(this.meta.item.extraColumns);const d=this.treeService.generateTestId(this.nodeId);d&&this.meta&&(this.meta.testId=d),this.treeService.treeNodes.push(this),this.treeService.treeNodes.length!==this.treeService.itemList.length||this.treeService.dynamic||this.dispatchEvent("ready"),this.treeService.iconWidth||(this.treeService.iconWidth=(null===(r=this.icon)||void 0===r?void 0:r.getBoundingClientRect().width)||0),this.treeService.openArrowWidth||(this.treeService.openArrowWidth=(null===(i=this.arrow)||void 0===i?void 0:i.getBoundingClientRect().width)||0),this.treeService.checkboxWidth||(this.treeService.checkboxWidth=(null===(a=this.checkBox)||void 0===a?void 0:a.getBoundingClientRect().width)||0),this.updateLevel(),"single"===this.treeService.mode&&this.treeNode&&this.eventSubscriptions.push(this.eventManager.addEventListener(this.treeNode,this.treeService.singleClickSelect?"click":"dblclick",this.onSelectSingle.bind(this),o.delegationStrategy.none,!0));const u=(null===(l=this.icon)||void 0===l?void 0:l.getElementsByTagName("svg")[0])||(null===(c=this.icon)||void 0===c?void 0:c.getElementsByTagName("div")[0]);u&&(u.style.width=`${this.treeService.iconSize}px`,u.style.height=`${this.treeService.iconSize}px`),this.treeNode&&(this.treeNode.viewModel=this)}updateLevel(){var e;this.level=this.treeService.getParentChain(this.nodeId).length-1,this.isLeaf=0===(null===(e=this.meta)||void 0===e?void 0:e.children.length),this.levelShift=23*(this.level+(this.isLeaf?1:0))+"px"}createOptionalControls(e){const n=this.treeNode.getElementsByClassName("optional-item");e.forEach(((e,r)=>{const o=document.createElement(this.treeService.extras[r].tagName);o.setAttribute("value",e),o.setAttribute("config.bind",`{enabled: false, textAlign: ${this.treeService.extras[r].textAlign}}`),o.style.width=`${this.treeService.extras[r].width}px`,n[r].appendChild(o)}))}getTransferData(e){return e.dataTransfer?JSON.parse(e.dataTransfer.getData("text/plain")):null}update(){this.dispatchEvent("updateTree")}dispatchEvent(e,n){const r=new CustomEvent(e,{bubbles:!0,detail:n});this.element.dispatchEvent(r)}dispatchNodeEvent(e){this.dispatchEvent(e,[this.treeService.getNode(this.nodeId)])}onOpen(e){e.stopImmediatePropagation(),this.treeService.dynamic&&!this.treeService.metaMap[this.nodeId].opened&&this.dispatchEvent("openNode",this.nodeId),this.treeService.toggle(this.nodeId),this.update()}checkSingle(){return this.treeService.selectSingle(this.nodeId),!0}onSelectSingle(){const e=this.treeService.selectSingle(this.nodeId);return this.dispatchEvent("valueSelected",e),this.dispatchEvent("onSelect",e),!0}onEdit(){this.editMode=!this.editMode,this.tq.queueMicroTask((()=>this.input.select())),this.hideNodeMenu(),this.editMode||this.update()}onSelectMulti(){return this.treeService.selectMulti(this.nodeId),this.update(),this.dispatchEvent("onSelect",this.treeService.collectInfo()),!0}onDeleteNode(){const e=this.treeService.getEventNode(this.nodeId);this.treeService.delete(this.nodeId),this.update(),this.hideNodeMenu(),this.dispatchEvent("onDelete",e)}onAddNode(e){var n,o,i;return r.__awaiter(this,void 0,void 0,(function*(){let r;const a=e?this.treeService.addChildNode:this.treeService.addSiblingNode;if(a){this.dispatchEvent("startLoading");const i=yield this.treeApiClient.checkAction({command:a,id:this.nodeId,parentId:(null===(n=this.meta.item)||void 0===n?void 0:n.parentId)||null,prevNodeId:this.treeService.getPrevNodeId(this.nodeId)},a);if("string"==typeof i)return alert(i),console.error(i),void this.dispatchEvent("endLoading");r=this.treeService.createCustomNewNode(i,e?this.nodeId:null===(o=this.meta.item)||void 0===o?void 0:o.parentId)}else r=this.treeService.createDefaultNewNode(this.nodeId,e?this.nodeId:null===(i=this.meta.item)||void 0===i?void 0:i.parentId);e?this.treeService.addNewChild(this.nodeId,r):this.treeService.addNewSibling(this.nodeId,r),this.update(),this.hideNodeMenu(),this.dispatchEvent("endLoading"),r&&r.item&&this.dispatchEvent("onAdd",this.treeService.getEventNode(r.item.id)||{})}))}onInput(e){return"Enter"!==e.key||(this.editMode=!1,e.preventDefault(),e.stopPropagation(),this.update(),!1)}hideNodeMenu(){var e;null===(e=this.toolbar)||void 0===e||e.classList.add("hidden")}onDragStart(e){return e.dataTransfer&&(this.treeService.selectedDrag&&"multi"===this.treeService.mode?e.dataTransfer.setData("text/plain",JSON.stringify({id:this.nodeId,treeId:this.treeService.treeId,item:this.treeService.draggedSelectedNodes()})):e.dataTransfer.setData("text/plain",JSON.stringify({id:this.nodeId,treeId:this.treeService.treeId,item:this.treeService.draggedNodes(this.nodeId)})),e.dataTransfer.setDragImage(this.flexFirst,0,0),e.dataTransfer.effectAllowed="move",this.treeService.hovered.id=this.nodeId,this.treeService.hovered.separator=!1),!0}onDragOver(e){this.treeService.hovered.id=this.nodeId,this.treeService.hovered.separator=!1,e.dataTransfer&&(e.dataTransfer.dropEffect="move")}showSeparator(){this.treeService.hovered.separator=!0}onDragLeave(e){this.treeService.resetHover()}dropNode(e,n){var o,i;return r.__awaiter(this,void 0,void 0,(function*(){const r=this.getTransferData(e);if(this.treeService.resetHover(),r){if(r.id!==this.nodeId||r.treeId!==this.treeService.treeId){const e=this.treeService.selectedDrag&&"multi"===this.treeService.mode&&this.treeService.collectInfo().length>0?r.item.map((e=>e.id)):[r.id],a=n?0:this.getChildIndex(null===(o=this.meta.item)||void 0===o?void 0:o.parentId,this.nodeId),l=n?this.nodeId:null===(i=this.meta.item)||void 0===i?void 0:i.parentId;if(this.treeService.checkDropCommand){this.dispatchEvent("startLoading");const e=n?null:a,o=yield this.treeApiClient.checkAction({command:this.treeService.checkDropCommand,parentId:l,id:r.id,prevNodeId:e,oldParentId:r.item[0].parentId},"action");if(this.dispatchEvent("endLoading"),"string"==typeof o)return alert(o),void console.error(o)}this.treeService.dropNode(l,a,e,r.treeId),this.update(),this.dispatchEvent("endLoading")}this.dispatchEvent("onChange",this.treeService.getEventNested(r.id,r.item[0].parentId||void 0))}}))}getChildIndex(e,n){return this.treeService.metaMap[e].children.indexOf(this.nodeId)}onMouseOut(){this.toolbar.classList.add("hidden")}onToolbarClick(e){this.treeService.shownToolbar&&this.treeService.shownToolbar!==this.toolbar&&this.treeService.shownToolbar.classList.add("hidden"),this.treeService.shownToolbar=this.toolbar,this.toolbar.classList.toggle("hidden")}flatChildren(e,n,r){const o=this.treeService.metaMap[e];if(!o)throw new Error(`Must have ${e}`);if(console.log(`Pushing ${n}`),r.push({level:n,item:o}),o.opened)for(const e of o.children)this.flatChildren(e,n+1,r);console.log(r)}getFlatMap(){const e=[];return this.flatChildren("null",0,e),e}detached(){this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[]}};r.__decorate([o.bindable,r.__metadata("design:type",String)],p.prototype,"nodeId",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],p.prototype,"id",void 0),r.__decorate([(0,d.inject)(u.TreeApiClient),r.__metadata("design:type",u.TreeApiClient)],p.prototype,"treeApiClient",void 0),r.__decorate([(0,o.computedFrom)("nodeId","updateTree"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[Object])],p.prototype,"meta",null),r.__decorate([(0,o.containerless)(),(0,o.computedFrom)("updateText"),r.__metadata("design:type",Array),r.__metadata("design:paramtypes",[])],p.prototype,"textParts",null),p=r.__decorate([(0,o.customElement)("qp-tree-node"),d.autoinject,r.__metadata("design:paramtypes",[Element,l.TreeService,o.TaskQueue,o.EventManager])],p),n.QpTreeNodeCustomElement=p}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/tree/qp-tree-toolbar":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./services/tree-service.ts"),r("controls/compound/tree/qp-tree"),r("aurelia-framework"),r("./services/screen-service.ts"),r("./dependency-property-injection/index.ts"),r("./utils/control-helper.ts")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpTreeToolbarCustomElement=void 0;let p=class QpTreeToolbarCustomElement{constructor(e,n,r){this.container=e,this.element=n,this.screenService=r,this.treeService=this.container.get(i.TreeService),this.domEvents=new l.ElementEvents(this.element),this.domEvents.subscribe("buttonpressed",(e=>this.processToolBarClick(e)))}get hasToolbarItems(){var e;return(null===(e=this.config)||void 0===e?void 0:e.items)&&Object.keys(this.config.items).length}processToolBarClick(e){var n;const r=null===(n=e.detail)||void 0===n?void 0:n.config,o=null==r?void 0:r.commandName;switch(o){case"select":const e="multi"===this.parent.treeService.mode?this.parent.treeService.collectInfo():this.parent.treeService.selectSingle(this.parent.treeService.lastSelectedNodeId),n=new CustomEvent("valueSelected",{bubbles:!0,detail:e});this.element.dispatchEvent(n),this.parent.value=e;break;case"rename":this.rename();break;case"delete":this.delete();break;case"addSibling":this.addSibling();break;case"addChild":this.addChild();break;default:this.executeCommand(o,this.parent.value)}}rename(){this.parent.firstSelectedNode.editMode=!0}delete(){this.parent.firstSelectedNode.onDeleteNode()}addSibling(){this.parent.firstSelectedNode.onAddNode(!1)}addChild(){this.parent.firstSelectedNode.onAddNode(!0)}onFilter(e){if(e.length<3)this.parent.treeService.resetFilter(),this.parent.emptySearchResult=!1;else if(this.parent.treeService.dynamic){const n=this.treeService.setDynamicFilter(e);this.parent.openNode(n||[])}else this.parent.emptySearchResult=!this.parent.treeService.setFilter(e);this.parent.updateText()}executeCommand(e,n){let r;r=(0,u.isLegacyEnv)()?l.PLATFORM.global.px_cm.findDataSource():this.screenService,r.executeCommand(e,JSON.stringify(n))}};r.__decorate([l.bindable,r.__metadata("design:type",Object)],p.prototype,"config",void 0),r.__decorate([l.bindable,r.__metadata("design:type",String)],p.prototype,"caption",void 0),r.__decorate([l.bindable,r.__metadata("design:type",a.QpTreeCustomElement)],p.prototype,"parent",void 0),r.__decorate([(0,l.computedFrom)("config.items"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],p.prototype,"hasToolbarItems",null),p=r.__decorate([(0,l.customElement)("qp-tree-toolbar"),d.autoinject,r.__metadata("design:paramtypes",[o.Container,Element,c.ScreenService])],p),n.QpTreeToolbarCustomElement=p}.apply(n,o),void 0===i||(e.exports=i)},"controls/compound/tree/qp-tree":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./services/tree-service.ts"),r("./descriptors/index.ts"),r("./utils/index.ts"),r("./services/tree-api-client.ts"),r("./services/screen-service.ts"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./dependency-property-injection/index.ts"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g){"use strict";var m;Object.defineProperty(n,"__esModule",{value:!0}),n.QpTreeCustomElement=void 0;const f=(0,p.getLogger)("qp-tree");let v=m=class QpTreeCustomElement{constructor(e,n,r,o,i,l){this.container=e,this.element=n,this.tq=r,this.eventManager=o,this.bindingEngine=i,this.screenService=l,this.nodeId=null,this.emptySearchResult=!1,this.tooWideNodes=[],this.noData=!0,this.extraColumnsWidth=0,this.hasActions=!1,this.hasVerticalScroll=!1,this.hasHorizontalScroll=!1,this.actionLabels=[],this.value=[],this.resultType="TreeData",this.subscription=void 0,this.readySubscription=void 0,this.eventSubscriptions=[],this.repaintTree=!1,this.firstNodeSelected=!1,this.dataKeyNames=[],this.loadingInProgress=0,this.initialized=!1,this.container.registerInstance(a.TreeService,new a.TreeService),this.treeService=this.container.get(a.TreeService),this.registerTreeComponent()}attached(){this.linkedWithView()&&this.screenService.initialized&&(this.treeService.linkedWithView=!0,this.registerTreeComponent(),this.config&&this.configChanged(this.config),this.screenService.update(void 0,new l.ScreenUpdateParams({views:this.viewName?[this.viewName]:[]})))}registerTreeComponent(){this.screenService.isValid&&!this.componentSubscription&&(this.viewName=this.element.getAttribute("view.bind")||void 0,this.viewName&&(this.componentSubscription=this.screenService.registerDataComponent(this.viewName,this)))}linkedWithView(){return!!this.viewName&&this.screenService.isValid}getQueryParams(e){this.treeService.treeParams.dataKey=this.getRowDataKey();const n=Object.keys(this.treeService.metaMap).filter((e=>this.treeService.metaMap[e].opened)).map((e=>"null"===e?null:e));return n.length>1&&(this.treeService.treeParams.parameters=n),{view:this.treeService.treeParams.view,columns:this.treeService.treeParams.columns,parameters:this.treeService.treeParams.parameters,hideRootNode:this.config.hideRootNode,openedLayers:this.config.openedLayers,dynamic:this.config.dynamic,syncPosition:this.config.syncPosition,dataKey:this.treeService.treeParams.dataKey}}setComponentData(e){if(!this.config.data&&"testtree"!==this.treeService.treeParams.view){if(this.startLoading(),e.dataKeyNames&&(this.dataKeyNames=e.dataKeyNames),this.initialized&&this.saveTreeState(),this.treeService.resetTree(),this.resetParameters(),this.repaintTree=!0,this.config.columns){const n=this.treeApiClient.processColumnsData(e.rows,this.treeService.treeParams,this.config);this.applyTreeDataFromColumns(n)}else if(void 0===this.config.dynamic||!0===this.config.dynamic){const n=this.treeApiClient.processData(e.rows,this.config);this.applyDynamicTreeData(n)}else{const n=this.treeApiClient.processTreeData(e.rows,this.config);this.applyTreeData(n)}this.setTopBarButtonsState(),this.tq.queueMicroTask((()=>{if(this.repaintTree=!1,this.endLoading(),this.restoreTreeState(),this.treeService.itemList.length)if(!this.firstNodeSelected&&this.config.selectFirstNode){const e=this.treeService.selectSingle(this.treeService.itemList[0].id),n=new CustomEvent("valueSelected",{bubbles:!0,detail:e});this.element.dispatchEvent(n),this.firstNodeSelected=!0}else this.treeService.lastSelectedNodeId&&this.treeService.selectSingle(this.treeService.lastSelectedNodeId)}))}}bind(){var e,n,r;if(this.initialTopBarConfigItems=(null===(e=this.topToolbarConfig)||void 0===e?void 0:e.items)||[],this.linkedWithView()){const e=l.PXReflectionMetadata.getMetadata(null===(n=this.view)||void 0===n?void 0:n.instanceType,"treeConfig"),o=l.PXReflectionMetadata.getMetadata(this.screenService.model,this.viewName,"treeConfig");this.config||(this.config={}),(o||e)&&Object.assign(this.config,null!=o?o:e),(null===(r=this.view)||void 0===r?void 0:r.config)&&Object.assign(this.config,this.view.config)}else this.config&&this.configChanged(this.config);this.caption&&this.captionChanged(this.caption)}configChanged(e,n){if(e&&Object.keys(e).length){void 0===n&&(0,c.applyDefaultValues)(e,m.defaultConfig),this.treeService.treeId=this.config.id,this.treeService.modifiable=e.modifiable||!1,this.treeService.singleClickSelect=e.singleClickSelect||!1,this.treeService.selectedDrag=e.dragSelected||!1,this.treeService.filterShowChildren=e.filterShowChildren||!1,e.iconSize&&(this.treeService.iconSize=e.iconSize),this.treeService.selectSeparately=e.selectSeparately||!1,this.initTreeParams(e),e.data?this.buildClientTree():void 0===e.dynamic||!0===e.dynamic?(this.treeService.dynamic=!0,this.buildDynamicTree(),this.element.addEventListener("openNode",(e=>{const n=e.detail;this.openNode([n])}))):e.columns?(this.treeService.treeParams.columns=e.columns.split(" "),this.buildTreeFromColumns(this.treeService.treeParams)):"testtree"===this.treeService.treeParams.view?this.buildTestTree():this.buildTree(this.treeService.treeParams);try{let n=this.config.topBarItems||{};if(e.toolbar){const r=JSON.parse(e.toolbar);for(const e in r)r[e].target=this.topToolbar.element,r[e].type="menu-button";n=Object.assign(Object.assign({},n),r)}this.topToolbarConfig={id:`${this.config.id}_topBar`,styleChanged:!1,changed:!1,items:n,hideToolbarSearch:this.config.hideToolbarSearch}}catch(e){f.error("Cannot parse toolbar json",e)}this.treeService.mode=e.mode||"multi",this.treeService.defaultDrag=(e.defaultDrag||"cut").toLowerCase(),e.actionLabels&&(this.actionLabels=JSON.parse(e.actionLabels)),this.treeService.checkDropCommand=e.checkDropCommand||"",this.treeService.addChildNode=e.addChildNode||"",this.treeService.addSiblingNode=e.addSiblingNode||"",this.element.addEventListener("valueSelected",(e=>{this.value=e.detail,this.firstSelectedNode=this.treeService.treeNodes.find((e=>e.nodeId===this.value[0].id)),this.config.syncPosition&&(this.resetParameters(),this.screenService.update())})),this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,"updateTree",(e=>this.updateTree()),o.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,"ready",(e=>this.ready()),o.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,"startLoading",(e=>this.startLoading()),o.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,"endLoading",(e=>this.endLoading()),o.delegationStrategy.none,!0)),addEventListener("resize",this.onResize.bind(this)),e.onAdd&&this.addEventListener(e.onAdd,"onAdd"),e.onChange&&this.addEventListener(e.onChange,"onChange"),e.onDelete&&this.addEventListener(e.onDelete,"onDelete"),e.onSelect&&this.addEventListener(e.onSelect,"onSelect"),this.setupResizeObserver(),this.subscription=this.bindingEngine.propertyObserver(this.config,"refresh").subscribe(((e,n)=>{e!==n&&!0===e&&(this.treeService.resetTree(),this.config.columns?this.buildTreeFromColumns(this.treeService.treeParams):void 0===this.config.dynamic||!0===this.config.dynamic?this.buildDynamicTree():this.buildTree(this.treeService.treeParams),this.config.refresh=!1)}))}}ready(){this.tq.queueMicroTask((()=>{var e,n,r;if(this.emptySearchResult)this.readySubscription=this.bindingEngine.propertyObserver(this,"emptySearchResult").subscribe((e=>{var n;e||(this.ready(),null===(n=this.readySubscription)||void 0===n||n.dispose(),this.readySubscription=void 0)}));else{if(this.toolbar){const n=null===(e=this.toolbar)||void 0===e?void 0:e.getBoundingClientRect().width;this.treeService.extras.forEach((e=>{e.right+=n})),this.extraColumnsWidth+=n}this.topToolbar&&this.header&&(this.topToolbar.height=(null===(n=this.topToolbar)||void 0===n?void 0:n.element.getBoundingClientRect().height)+(null===(r=this.header)||void 0===r?void 0:r.getBoundingClientRect().height),this.treeTableWrap.style.paddingRight=`${this.extraColumnsWidth}px`,this.treeContainer.style.height=`calc(100% - ${this.topToolbar.height}px)`,this.treeContainer.style.top=`${this.topToolbar.height}px`,this.config.width&&(this.treeContainer.style.width=this.config.width),this.scrollsInfo(),this.hasHorizontalScroll&&(this.initEllipsis(),this.calcEllipsis()))}}))}captionChanged(e){if(e&&"$"===e[0]&&e[1]&&"{"!==e[1]){const n=e.substring(1),r=this.screenService.Model;(null==r?void 0:r.Msg)&&r.Msg[n]&&(this.captionText=r.Msg[n])}else this.captionText=e}getRowDataKey(){const e={},n=this.screenService.getGraphInfo().primaryView,r=this.screenService.model[n];function getRawValue(e){return e&&e.hasOwnProperty("id")?e.id:e}return this.dataKeyNames.forEach((n=>{let o;o=this.config.idName&&n===this.config.idName?getRawValue(this.value[0]):getRawValue(r.getValue(n)),o&&(e[n]=o)})),Object.keys(e).length?e:void 0}startLoading(){this.loadingInProgress+=1,this.busyCounter.increment(),this.element.classList.add("spinner")}endLoading(){this.tq.queueMicroTask((()=>{this.loadingInProgress&&(this.busyCounter.decrement(),this.loadingInProgress-=1),this.loadingInProgress||this.element.classList.remove("spinner")}))}onResize(){this.scrollsInfo(),this.resetWidths(),this.initEllipsis(),this.calcEllipsis(0,!0)}setupResizeObserver(){!this.resizeObserver&&o.PLATFORM.global.ResizeObserver&&this.treeContainer&&(this.resizeObserver=new o.PLATFORM.global.ResizeObserver((e=>{this.onResize()})),this.resizeObserver.observe(this.treeContainer))}scrollsInfo(){this.hasHorizontalScroll=this.treeTable.scrollWidth>this.treeTable.clientWidth,this.hasVerticalScroll=this.treeTable.scrollHeight>this.treeTable.clientHeight}addEventListener(e,n){e&&this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,n,(n=>this.executeCommand(e,n.detail)),o.delegationStrategy.none,!0))}initTreeParams(e){const n={view:e.dataMember};e.columns?n.columns=e.columns.split(" "):(e.description&&e.idParent&&e.idName?n.columns=[e.description,e.idParent,e.idName]:n.columns=[],e.iconField&&n.columns.push(e.iconField),e.iconColorField&&n.columns.push(e.iconColorField),e.actionField&&n.columns.push(e.actionField),e.extraColumnField&&n.columns.push(e.extraColumnField)),this.treeService.treeParams=n}loadNode(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.treeApiClient.getNode(e,this.config)}))}openNode(e){return r.__awaiter(this,void 0,void 0,(function*(){this.treeService.treeParams.parameters=e.filter((e=>!1===this.treeService.metaMap[e].initialized)),e.forEach((e=>{this.treeService.metaMap[e].initialized=!0})),this.startLoading();try{let e=yield this.treeApiClient.getNode(this.treeService.treeParams,this.config);e=e.filter((e=>!this.treeService.metaMap[e.id])),e&&e.length>0&&(this.treeService.itemList=this.treeService.itemList.concat(e),this.treeService.createMetaMap(e),e.forEach((e=>this.treeService.metaMap[e.id].opened=!1))),this.tree.update()}finally{this.endLoading()}}))}saveTreeState(){this.savedMeta=this.treeService.metaMap,this.scrollPosition=this.treeTableWrap.scrollTop}restoreTreeState(){this.savedMeta&&(Object.keys(this.savedMeta).forEach((e=>{this.treeService.metaMap[e]&&(this.treeService.metaMap[e].opened=this.savedMeta[e].opened)})),this.tq.queueMicroTask((()=>{this.scrollPosition&&(this.treeTableWrap.scrollTop=this.scrollPosition)})))}resetParameters(){this.treeService.treeParams.parameters=void 0}buildDynamicTree(){return r.__awaiter(this,void 0,void 0,(function*(){if(!this.linkedWithView()){this.startLoading(),this.resetParameters();try{const e=yield this.treeApiClient.getNode(this.treeService.treeParams,this.config);this.applyDynamicTreeData(e)}finally{this.endLoading()}}}))}applyDynamicTreeData(e){if(this.treeService.itemList=this.treeService.itemList.concat(e),this.treeService.createMetaMap(e),this.linkedWithView()&&!this.initialized)"number"==typeof this.config.openedLayers&&this.tree.meta&&(this.updateOpenedLayers(),this.initialized=!0);else for(const n of e)null!==n.parentId||n.isLeaf||(this.openNode([n.id]),this.treeService.metaMap[n.id].opened=!0);this.tree.update()}buildTree(e){return r.__awaiter(this,void 0,void 0,(function*(){if(!this.linkedWithView()){this.startLoading(),this.resetParameters();try{const n=yield this.treeApiClient.getData(e,this.config);this.applyTreeData(n)}finally{this.endLoading()}}}))}applyTreeData(e){this.treeService.itemList=e,this.hasActions=e.some(this.ifAnyActionAvailable),this.noData=!e.length,this.noData||(this.treeService.createMetaMap(e),this.config.openedLayers&&this.config.openedLayers>0&&this.updateOpenedLayers(),this.tree.update(),this.calcExtraColumns())}ifAnyActionAvailable(e){var n,r,o,i;return(null===(n=e.actions)||void 0===n?void 0:n.createChild)||(null===(r=e.actions)||void 0===r?void 0:r.createSibling)||(null===(o=e.actions)||void 0===o?void 0:o.delete)||(null===(i=e.actions)||void 0===i?void 0:i.rename)}onTableWrapScroll(e){e.target.scrollTop<this.treeTable.scrollHeight-this.treeTableWrap.clientHeight+5&&(this.treeTable.style.height=`calc(100% + ${e.target.scrollTop}px`)}onTableScroll(e){this.calcEllipsis(e.target.scrollLeft)}initEllipsis(){this.tooWideNodes=[],this.treeService.treeNodes.forEach((e=>{null!=e.flexFirst&&(e.flexFirst.style.width="auto",e.treeNode.style.width="auto",e.flexFirst.getBoundingClientRect().width>this.treeTable.clientWidth&&this.tooWideNodes.push(e),e.treeNode.style.width=`${this.treeTable.scrollWidth}px`)}))}calcEllipsis(e=0,n=!1){const r=this.getFirstVisibleTreeNode();r&&(n&&(r.style.width=""),this.treeTable.scrollWidth>this.treeTable.clientWidth&&this.tooWideNodes.forEach((n=>{null!=n.flexFirst&&(this.treeTable.scrollWidth===this.treeTable.clientWidth+e?n.text.style.width="auto":n.text.style.width=this.treeTable.clientWidth-parseInt(n.levelShift,10)+e-this.treeService.iconWidth-this.treeService.openArrowWidth-this.treeService.checkboxWidth+"px")})))}resetWidths(){this.treeService.treeNodes.forEach((e=>{e.treeNode&&e.text&&(e.treeNode.style.width="auto",e.text.style.width="auto")}))}getFirstVisibleTreeNode(){let e=0;for(;!this.treeService.treeNodes[e]&&this.treeService.treeNodes[e].treeNode;)if(e++,e>=this.treeService.treeNodes.length)return null;return this.treeService.treeNodes[e].treeNode}buildTestTree(){return r.__awaiter(this,void 0,void 0,(function*(){this.startLoading();const e=yield this.treeApiClient.getTestData();this.calcExtraColumns(),this.treeService.itemList=e,this.hasActions=e.some(this.ifAnyActionAvailable),this.treeService.createMetaMap(e),this.config.openedLayers&&this.config.openedLayers>0&&this.updateOpenedLayers(),this.noData=!1,this.tree.update(),this.endLoading()}))}buildClientTree(){var e;(null===(e=this.config.data)||void 0===e?void 0:e.length)&&(this.startLoading(),this.tq.queueMicroTask((()=>{try{const e="string"==typeof this.config.data?JSON.parse(this.config.data):this.config.data;this.calcExtraColumns(),this.treeService.itemList=this.config.data||[],this.treeService.createMetaMap(e)}catch(e){alert(`Invalid data for tree ${this.element.id} Error: ${e.message}`)}this.config.openedLayers&&this.config.openedLayers>0&&this.updateOpenedLayers(),this.tree.update(),this.endLoading()})))}calcExtraColumns(){this.config.extraColumns&&this.config.extraColumns.length>0&&(this.treeService.extras=JSON.parse(this.config.extraColumns),this.treeService.extras.forEach(((e,n,r)=>{e.right=r.slice(n+1).reduce(((e,n)=>e+n.width),0)})),this.extraColumnsWidth=this.treeService.extras.reduce(((e,n)=>e+n.width),0))}updateOpenedLayers(){this.tree.treeService.traverseAndClose(this.tree.meta,0,(this.config.openedLayers||0)+1)}buildTreeFromColumns(e){return r.__awaiter(this,void 0,void 0,(function*(){this.startLoading();const n=yield this.treeApiClient.getDataFromColumns(e,this.config);this.applyTreeDataFromColumns(n),this.endLoading()}))}applyTreeDataFromColumns(e){this.tree.treeService.buildTree(e),this.tree.update()}updateText(){this.tree.updateText=!this.tree.updateText;const e=this.treeService.treeNodes;for(const n of e)n.updateText=!n.updateText}updateTree(){this.tree.updateTree=!this.tree.updateTree;const e=this.treeService.treeNodes;for(const n of e)n.updateTree=!n.updateTree,n.updateLevel();this.hasHorizontalScroll&&this.tq.queueMicroTask((()=>{this.initEllipsis(),this.calcEllipsis()}))}setTopBarButtonsState(){if(!this.config.topBarItems&&this.view&&this.view.actionNames){const e={};this.view.actionNames.forEach((n=>{const r=this.view[n];r&&(e[n]={config:Object.assign(Object.assign({},r),{images:{normal:`${r.imageSet||"main"}@${r.imageKey}`}})})})),this.topToolbarConfig.items=Object.assign(Object.assign({},e),this.initialTopBarConfigItems)}this.topToolbarConfig.changed=!0}executeCommand(e,n){o.PLATFORM.global.px_cm.findDataSource().executeCommand(e,JSON.stringify(n))}detached(){var e,n,r;this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(n=this.subscription)||void 0===n||n.dispose(),this.subscription=void 0,null===(r=this.readySubscription)||void 0===r||r.dispose(),this.readySubscription=void 0,this.viewName&&this.screenService.unregisterDataComponent(this.viewName),this.componentSubscription&&(this.componentSubscription.dispose(),this.componentSubscription=void 0)}};v.defaultConfig={mode:"multi",openedLayers:0,defaultDrag:"cut",modifiable:!0,dragSelected:!1,singleClickSelect:!1,dynamic:!1,hideRootNode:!1,refresh:!1,iconSize:16},r.__decorate([o.bindable,r.__metadata("design:type",String)],v.prototype,"caption",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],v.prototype,"topToolbarConfig",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],v.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Array)],v.prototype,"value",void 0),r.__decorate([o.bindable,r.__metadata("design:type",l.PXViewCollection)],v.prototype,"view",void 0),r.__decorate([(0,b.inject)(d.TreeApiClient),r.__metadata("design:type",d.TreeApiClient)],v.prototype,"treeApiClient",void 0),r.__decorate([b.autoinject,r.__metadata("design:type",g.BusyCounter)],v.prototype,"busyCounter",void 0),v=m=r.__decorate([(0,o.customElement)("qp-tree"),b.autoinject,r.__metadata("design:paramtypes",[i.Container,Element,o.TaskQueue,o.EventManager,o.BindingEngine,u.ScreenService])],v),n.QpTreeCustomElement=v}.apply(n,o),void 0===i||(e.exports=i)},"./controls/container/field/own-binding-behavior.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js")],i=function(e,n,r,o){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.OwnBindingBehavior=void 0;let a=i=class OwnBindingBehavior{bind(e,n){var r,i,a,l;if(null===(i=null===(r=e.sourceExpression)||void 0===r?void 0:r.args)||void 0===i?void 0:i.length){const r=null===(a=e.sourceExpression)||void 0===a?void 0:a.args[0].name,o=null===(l=null==n?void 0:n.resources)||void 0===l?void 0:l.getBindingBehavior(r);if(o)return void o.bind(e,n)}const c=e.targetProperty.split(/(?=[A-Z])/).map((e=>e.toLowerCase())).join("-");e.targetObserver=new o.DataAttributeObserver(e.target,c)}unbind(e,n){var r,o,i,a;if(null===(o=null===(r=e.sourceExpression)||void 0===r?void 0:r.args)||void 0===o?void 0:o.length){const r=null===(i=e.sourceExpression)||void 0===i?void 0:i.args[0].name,o=null===(a=null==n?void 0:n.resources)||void 0===a?void 0:a.getBindingBehavior(r);o&&o.unbind(e,n)}}};a.BehaviorName="own",a=i=r.__decorate([(0,o.bindingBehavior)(i.BehaviorName)],a),n.OwnBindingBehavior=a}.apply(n,o),void 0===i||(e.exports=i)},"controls/container/field/qp-field":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./descriptors/index.ts"),r("./utils/control-helper.ts"),r("./controls/container/field/own-binding-behavior.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.findElementsByLabel=n.getDefaultControlType=n.QpFieldCustomElement=void 0;let c=class QpFieldCustomElement{constructor(e,n){var r;this.element=e,this.controlType=void 0,this.caption=void 0,this.controlSize=void 0,this.customType=!0,this.controlConfig={},this.collapsed=!1,this.stateExpr=this.element.getAttribute("control-state.bind"),this.proxyExpressions=null===(r=n.expressions)||void 0===r?void 0:r.filter((e=>e.sourceExpression.name!==l.OwnBindingBehavior.BehaviorName));for(const e of this.proxyExpressions||[])e.targetProperty.length>6&&e.targetProperty.startsWith("config")&&this.controlConfig&&(e.targetProperty=e.targetProperty[6].toLowerCase()+e.targetProperty.substring(7),e.bindTo=this.controlConfig)}collapse(){this.collapsed=!0}expand(){this.collapsed=!1}isCollapsed(){return this.collapsed}bind(e,n){if(this.controlConfig.id=this.controlId,this.controlConfig.tabIndex=this.tabIndex,!this.controlConfig.id&&this.stateExpr){const e=2,n=this.stateExpr.split(".",e);n.length===e&&(this.controlConfig.id=this.controlId=`ed${n[0]}-${n[1]}`)}this.pinnedChanged(),this.noLabelChanged()}noLabelChanged(){"false"===this.noLabel?this.noLabel=!1:"string"==typeof this.noLabel&&(this.noLabel=!0)}pinnedChanged(){"false"===this.pinned?this.pinned=!1:"string"==typeof this.pinned&&(this.pinned=!!this.pinned)}get label(){var e;if(!this.noLabel)return this.suppressLabel?"":null!=this.caption?this.caption:this.controlDisplayField?this.controlDisplayField.displayName:null===(e=this.controlState)||void 0===e?void 0:e.displayName}get suppressLabel(){var e,n;return!!this.noLabel||("qp-check-box"===this.controlType||(null===(e=this.controlState)||void 0===e?void 0:e.type)===i.NetType.Boolean||(null===(n=this.controlState)||void 0===n?void 0:n.suppressLabel))}get defaultControlType(){const e=this.controlState;return this.customType&&(null==e?void 0:e.controlType)?null==e?void 0:e.controlType:getDefaultControlType(e)}get effectiveControlType(){return this.controlType||this.defaultControlType}get errorMessage(){var e,n;return null!==(n=null===(e=this.controlState)||void 0===e?void 0:e.error)&&void 0!==n?n:this.controlErrorMessage}get errorLevel(){var e,n;return null!==(n=null===(e=this.controlState)||void 0===e?void 0:e.errorLevel)&&void 0!==n?n:this.controlErrorLevel}get errorCssClass(){if(!this.errorMessage)return"";switch(this.errorLevel){case i.PXErrorLevel.Error:case i.PXErrorLevel.RowError:return"err-l";case i.PXErrorLevel.Warning:case i.PXErrorLevel.RowWarning:return"war-l";case i.PXErrorLevel.RowInfo:return"inf-l";default:return""}}};function getDefaultControlType(e){if(null==e?void 0:e.viewName)return e.segments&&e.lookupMode!==i.DimensionLookupMode.BySegmentedKeys?"qp-segmented-selector":"qp-selector";switch(null==e?void 0:e.type){case i.NetType.Boolean:return"qp-check-box";case i.NetType.SByte:case i.NetType.Byte:case i.NetType.Int16:case i.NetType.UInt16:case i.NetType.Int32:case i.NetType.UInt32:case i.NetType.Int64:case i.NetType.UInt64:return(null==e?void 0:e.options)?"qp-drop-down":"qp-number-editor";case i.NetType.Single:case i.NetType.Double:case i.NetType.Decimal:return"qp-number-editor";case i.NetType.DateTime:return"qp-datetime-edit";case i.NetType.String:return(null==e?void 0:e.options)?e.isColorState?"qp-color-picker":"qp-drop-down":(null==e?void 0:e.inputMask)?"qp-mask-editor":"qp-text-editor";default:return"qp-text-editor"}}function findElementsByLabel(e,n){var r,o,i,a,l,c,d;const u=[];e=e.toUpperCase(),n||(n=document.body);const p=n.querySelectorAll("label");for(let o=0;o<p.length;++o){const i=p[o];if(i.innerText.trim().toUpperCase()!==e)continue;let a="qp-field",l=i.closest(a);if(!l){a="qp-text-editor";const e=n.querySelector(`#${i.getAttribute("for")}`);l=null!==(r=null==e?void 0:e.closest(a))&&void 0!==r?r:null}l&&u.push({type:a,VM:l.au.controller.viewModel})}const b=n.querySelectorAll("qp-tool-bar");for(let n=0;n<b.length;++n){const r=b[n];if(!(null===(i=null===(o=null==r?void 0:r.au)||void 0===o?void 0:o.controller)||void 0===i?void 0:i.viewModel))continue;const c=r.au.controller.viewModel;let d;const p=c.items.findIndex((n=>{var r,o,i,a;switch(n.type){case"MenuButton":{const i=n;if((null===(r=null==i?void 0:i.text)||void 0===r?void 0:r.toUpperCase())===e)return!0;if((null===(o=null==i?void 0:i.toolTip)||void 0===o?void 0:o.toUpperCase())===e)return!0;break}case"MenuOptions":{const r=n;for(const n of r.options)if((null===(i=null==n?void 0:n.text)||void 0===i?void 0:i.toUpperCase())===e||(null===(a=null==n?void 0:n.toolTip)||void 0===a?void 0:a.toUpperCase())===e)return d=n,!0;break}}return!1}));if(p>=0){const e=c.items[p];"MenuButton"===e.type?u.push({type:"ToolbarButton",VM:e,qpToolbarVM:c}):"MenuOptions"===e.type&&u.push({type:"ToolbarOptions",VM:d,parentVM:e,qpToolbarVM:c})}for(let n=0;n<c.menu.length;++n)for(let r=0;r<c.menu[n].length;++r){const o=c.menu[n][r];switch(o.type){case"MenuButton":{const n=o;(null===(a=null==n?void 0:n.text)||void 0===a?void 0:a.toUpperCase())!==e&&(null===(l=null==n?void 0:n.toolTip)||void 0===l?void 0:l.toUpperCase())!==e||u.push({type:"ToolbarMenuItem",VM:n,qpToolbarVM:c});break}}}}const g=n.querySelectorAll("qp-button > button");for(let n=0;n<g.length;++n){const r=g[n];if(r.innerText.trim().toUpperCase()!==e)continue;const o=r.closest("qp-button");o&&u.push({type:"qp-button",VM:o.au.controller.viewModel})}const m=n.querySelectorAll("qp-menu");for(let n=0;n<m.length;++n){const r=m[n];if(r.closest("qp-tool-bar"))continue;if(!(null===(d=null===(c=null==r?void 0:r.au)||void 0===c?void 0:c.controller)||void 0===d?void 0:d.viewModel))continue;const o=r.au.controller.viewModel,i=o.config.options.findIndex((n=>{var r,o;return"MenuButton"===(null==n?void 0:n.type)&&(null===(r=null==n?void 0:n.text)||void 0===r?void 0:r.toUpperCase())===e||(!(""!==(null==n?void 0:n.type)||!(null===(o=null==n?void 0:n.text)||void 0===o?void 0:o.toUpperCase().startsWith(`<DIV CLASS='QP-MENU-LABEL'>${e}`)))||void 0)}));if(i>=0){const e=o.config.options[i];u.push({type:"MenuButton",VM:e,qpMenuVM:o})}}return u}r.__decorate([o.bindable,r.__metadata("design:type",String)],c.prototype,"controlId",void 0),r.__decorate([o.bindable,r.__metadata("design:type",i.PXFieldState)],c.prototype,"controlState",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"controlType",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],c.prototype,"caption",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"controlSize",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"customType",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"noLabel",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"controlConfig",void 0),r.__decorate([o.bindable,r.__metadata("design:type",i.PXFieldState)],c.prototype,"controlDisplayField",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],c.prototype,"noIcon",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],c.prototype,"controlErrorMessage",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],c.prototype,"controlErrorLevel",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"context",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],c.prototype,"collapsed",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"pinned",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],c.prototype,"tabIndex",void 0),r.__decorate([(0,o.computedFrom)("controlState.displayName","controlState.suppressLabel","controlState.type","controlType","controlDisplayField"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],c.prototype,"label",null),r.__decorate([(0,o.computedFrom)("controlState.suppressLabel","controlState.type","controlType"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],c.prototype,"suppressLabel",null),r.__decorate([(0,o.computedFrom)("controlState.type","controlState.viewName","controlState.options","controlState.inputMask","controlState.controlType"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],c.prototype,"defaultControlType",null),r.__decorate([(0,o.computedFrom)("controlState.error","controlErrorMessage"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],c.prototype,"errorMessage",null),r.__decorate([(0,o.computedFrom)("controlState.errorLevel","controlErrorLevel"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],c.prototype,"errorLevel",null),r.__decorate([(0,o.computedFrom)("controlState.errorLevel","controlState.error","controlErrorMessage","controlErrorLevel"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],c.prototype,"errorCssClass",null),c=r.__decorate([(0,o.customElement)("qp-field"),r.__metadata("design:paramtypes",[Element,o.TargetInstruction])],c),n.QpFieldCustomElement=c,n.getDefaultControlType=getDefaultControlType,n.findElementsByLabel=findElementsByLabel,(0,a.registerQAObject)("getDefaultControlType",getDefaultControlType),(0,a.registerQAObject)("findElementsByLabel",findElementsByLabel)}.apply(n,o),void 0===i||(e.exports=i)},"controls/container/fieldset/inline-view":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("aurelia-framework")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InlineView=void 0;let a=class InlineView{constructor(e,n,r,o){this.viewCompiler=e,this.viewSlot=n,this.container=r,this.viewResources=o,this.contextContainer=!0,this.viewCompiler=e,this.viewSlot=n,this.container=r,this.viewResources=o}bind(e,n){this.overrideContext=(0,o.createOverrideContext)(this.context,n)}attached(){this.refreshTemplate()}refreshTemplate(){const e=this.viewCompiler.compile(`<template>${this.template}</template>`,this.viewResources);!0!==this.contextContainer&&"true"!==this.contextContainer||!this.context.container||(this.container=this.context.container);const n=e.create(this.container);n.bind(this.context,this.overrideContext),this.viewSlot.removeAll(!1,!0),this.viewSlot.add(n),this.viewSlot.attached()}};r.__decorate([(0,i.bindable)({defaultBindingMode:i.bindingMode.toView}),r.__metadata("design:type",String)],a.prototype,"template",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],a.prototype,"context",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],a.prototype,"contextContainer",void 0),a=r.__decorate([i.noView,i.autoinject,i.containerless,r.__metadata("design:paramtypes",[i.ViewCompiler,i.ViewSlot,i.Container,i.ViewResources])],a),n.InlineView=a}.apply(n,o),void 0===i||(e.exports=i)},"./controls/container/panel/qp-panel.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),r("aurelia-framework"),r("controls/dialog/informer/qp-informer-rack")],i=function(e,n,r,o,i,a){"use strict";var l;Object.defineProperty(n,"__esModule",{value:!0}),n.QpPanelCustomElement=void 0;let c=l=class QpPanelCustomElement{constructor(e){this.element=e;this.element.style.display="none"}static processContent(e,n,r){const o=r.attributes;return!o.getNamedItem("title")&&!o.getNamedItem("title.bind")||o.getNamedItem("caption")||o.getNamedItem("caption.bind")||(0,a.fatalError)(`"title" attribute must be substituted by "caption" attribute on qp-panel #${r.id}.`,r),!1}};r.__decorate([i.bindable,r.__metadata("design:type",String)],c.prototype,"caption",void 0),c=l=r.__decorate([i.autoinject,(0,o.customElement)("qp-panel"),i.noView,(0,i.processContent)(l.processContent),r.__metadata("design:paramtypes",[Element])],c),n.QpPanelCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"controls/container/resizer/qp-resizer":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./utils/index.ts"),r("./services/preferences/index.ts"),r("./utils/platform-dependable-utils.ts"),r("./dependency-property-injection/index.ts"),r("controls/dialog/informer/qp-informer-rack")],i=function(e,n,r,o,i,a,l,c,d,u,p){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpResizerCustomElement=void 0;(0,a.getLogger)("qp-resizer");let b=class QpResizerCustomElement{constructor(e,n){this.element=e,this.preferencesService=n,this.isDragged=!1}get disabledValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.disabled)&&void 0!==n?n:this.disabled)&&void 0!==r&&r}get invisibleValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.invisible)&&void 0!==n?n:this.invisible)&&void 0!==r&&r}get styleValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.style)&&void 0!==n?n:this.style)&&void 0!==r?r:""}get initialSizeValue(){var e,n;return null!==(n=null===(e=this.config)||void 0===e?void 0:e.initialSize)&&void 0!==n?n:this.initialSize}get effectiveMinSize(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.minSize)&&void 0!==n?n:this.minSize)&&void 0!==r?r:200}get cssPosition(){if(void 0===this.size&&void 0===this.initialSizeValue)return"";const e=void 0===this.size?this.initialSizeValue:`${Math.round(this.size)}px`;return`max-height: ${e}; height: ${e};`}bind(){if(this.id)this.onPositionChanged(!1),this.onDrag=this.onDrag.bind(this),this.onStopMoving=this.onStopMoving.bind(this),this.move=this.move.bind(this),this.preferencesService.subscribe(this.id,this);else{const e="Id of resizer cannot be empty. Please set id attribute. Should be unique for screen";(0,p.fatalError)(e)}}applyPreferences(e){var n,r;(null==e?void 0:e.user)&&(this.size=null!==(r=null===(n=e.user.preferences)||void 0===n?void 0:n.size)&&void 0!==r?r:this.size,this.onPositionChanged(!1))}onStartMoving(e){if(window.top&&d.browser.isChrome){window.top.document.querySelector("#main").style.pointerEvents="none",window.top.addEventListener("pointermove",this.onDrag),window.top.addEventListener("pointerup",this.onStopMoving)}else this.draggerElement.setPointerCapture(e.pointerId),this.draggerElement.addEventListener("pointermove",this.onDrag),this.draggerElement.addEventListener("pointerup",this.onStopMoving);this.isDragged=!0}onStopMoving(e){if(window.top&&d.browser.isChrome){window.top.document.querySelector("#main").style.pointerEvents="all",window.top.removeEventListener("pointermove",this.onDrag),window.top.removeEventListener("pointerup",this.onStopMoving)}else this.draggerElement.releasePointerCapture(e.pointerId),this.draggerElement.removeEventListener("pointermove",this.onDrag),this.draggerElement.removeEventListener("pointerup",this.onStopMoving);return this.onPositionChanged(!0),this.isDragged=!1,this.start=void 0,!0}onDrag(e){if(void 0===this.start)return this.start=e.y,void(this.size=this.contentElement.getBoundingClientRect().height);const n=e.y-this.start;if(this.clearAnimationFrame(),0===e.buttons)return void this.onStopMoving(e);const r=this.effectiveMinSize;return this.goal=(this.size||this.contentElement.getBoundingClientRect().height)+n,this.goal<r&&(this.goal=r),this.tick||(this.tick=window.requestAnimationFrame(this.move)),!0}clearAnimationFrame(){this.tick&&(window.cancelAnimationFrame(this.tick),this.tick=void 0)}move(){if(!this.size||!this.goal)return;const e=this.goal-this.size,n=this.effectiveMinSize;this.clearAnimationFrame(),this.size=this.size+.2*e,this.size<n&&(this.size=n),this.draggerElement.scrollIntoView(),this.isDragged&&(this.tick=window.requestAnimationFrame(this.move))}onPositionChanged(e){return r.__awaiter(this,void 0,void 0,(function*(){e&&(yield this.savePreferences())}))}savePreferences(){return r.__awaiter(this,void 0,void 0,(function*(){if(!this.id)return;const e=new ResizerPreferences;e.preferences.size=this.size,this.preferencesService.saveUserPreferences((0,l.getScreenID)(),this.id,e)}))}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],b.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],b.prototype,"id",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],b.prototype,"initialSize",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],b.prototype,"minSize",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],b.prototype,"disabled",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],b.prototype,"invisible",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],b.prototype,"style",void 0),r.__decorate([u.autoinject,r.__metadata("design:type",Boolean)],b.prototype,"isDragged",void 0),r.__decorate([(0,i.computedFrom)("config.disabled","disabled"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"disabledValue",null),r.__decorate([(0,i.computedFrom)("config.invisible","invisible"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"invisibleValue",null),r.__decorate([(0,i.computedFrom)("config.style","style"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"styleValue",null),r.__decorate([(0,i.computedFrom)("config.initialSize","initialSize"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"initialSizeValue",null),r.__decorate([(0,i.computedFrom)("size","initialSizeValue"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],b.prototype,"cssPosition",null),b=r.__decorate([(0,o.customElement)("qp-resizer"),u.autoinject,r.__metadata("design:paramtypes",[Element,c.PreferencesService])],b),n.QpResizerCustomElement=b;class ResizerPreferences extends c.PreferenceBase{constructor(){super(),this.type="qp-resizer",this.preferences={}}}}.apply(n,o),void 0===i||(e.exports=i)},"controls/container/splitter/qp-splitter":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./utils/index.ts"),r("./services/preferences/index.ts"),r("./dependency-property-injection/index.ts"),r("controls/dialog/informer/qp-informer-rack")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";var p;Object.defineProperty(n,"__esModule",{value:!0}),n.QpSplitterCustomElement=void 0;(0,a.getLogger)("qp-splitter");const b="split-pane";let g=p=class QpSplitterCustomElement{constructor(e,n){this.element=e,this.preferencesService=n,this.firstPaneMinSize=0,this.secondPaneMinSize=0,this.panes=[]}get splitValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.split)&&void 0!==n?n:this.split)&&void 0!==r?r:"width"}get disabledValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.disabled)&&void 0!==n?n:this.disabled)&&void 0!==r&&r}get reversedValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.reversed)&&void 0!==n?n:this.reversed)&&void 0!==r&&r}get unmarginValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.unmargin)&&void 0!==n?n:this.unmargin)&&void 0!==r&&r}get fadingValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.fading)&&void 0!==n?n:this.fading)&&void 0!==r&&r}get invisibleValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.invisible)&&void 0!==n?n:this.invisible)&&void 0!==r&&r}get styleValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.style)&&void 0!==n?n:this.style)&&void 0!==r?r:""}get firstHeaderValue(){var e,n;return null!==(n=null===(e=this.config)||void 0===e?void 0:e.firstHeader)&&void 0!==n?n:this.firstHeader}get secondHeaderValue(){var e,n;return null!==(n=null===(e=this.config)||void 0===e?void 0:e.secondHeader)&&void 0!==n?n:this.secondHeader}get initialStateValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.initialState)&&void 0!==n?n:this.initialState)&&void 0!==r?r:"normal"}get initialSplitValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.initialSplit)&&void 0!==n?n:this.initialSplit)&&void 0!==r?r:"50%"}get disableCollapseValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.disableCollapse)&&void 0!==n?n:this.disableCollapse)&&void 0!==r&&r}get disableCollapseFirstValue(){var e,n,r,o;return null!==(o=null!==(r=null!==(e=this.disableCollapseValue)&&void 0!==e?e:null===(n=this.config)||void 0===n?void 0:n.disableCollapseFirst)&&void 0!==r?r:this.disableCollapseFirst)&&void 0!==o&&o}get disableCollapseSecondValue(){var e,n,r,o;return null!==(o=null!==(r=null!==(e=this.disableCollapseValue)&&void 0!==e?e:null===(n=this.config)||void 0===n?void 0:n.disableCollapseSecond)&&void 0!==r?r:this.disableCollapseSecond)&&void 0!==o&&o}get disableCollapseOnDeltaValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.disableCollapseOnDelta)&&void 0!==n?n:this.disableCollapseOnDelta)&&void 0!==r&&r}get deltaCollapseValue(){var e,n,r;return this.disableCollapse||this.disableCollapseOnDelta?-1:null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.deltaCollapse)&&void 0!==n?n:this.deltaCollapse)&&void 0!==r?r:10}get collapseModeValue(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.collapseMode)&&void 0!==n?n:this.collapseMode)&&void 0!==r?r:"hide"}splitterStateChanged(){var e;this.processSize(),null===(e=this.onSplitterStateChanged)||void 0===e||e.call(this,{sender:this}),this.onPositionChanged(!1)}panesChanged(){2===this.panes.length||console.error(`Two "${b}" children elements required for qp-splitter element, they must have no other siblings`)}getSplitterState(){return this.splitterState}get firstHeaderDisplayed(){return this.firstHeaderValue&&"height"===this.splitValue&&this.firstPaneDisplayed}get secondHeaderDisplayed(){return this.secondHeaderValue&&"height"===this.splitValue&&this.secondPaneDisplayed}get firstHeaderDisplayedCollapsed(){return this.firstHeaderValue&&"height"===this.splitValue&&!this.firstPaneDisplayed}get secondHeaderDisplayedCollapsed(){return this.secondHeaderValue&&"height"===this.splitValue&&!this.secondPaneDisplayed}get firstPaneDisplayed(){return"collapsed-first"!==this.splitterState}get secondPaneDisplayed(){return"collapsed-second"!==this.splitterState}get eachPaneDisplayed(){return this.firstPaneDisplayed&&this.secondPaneDisplayed}get cssCollapse(){return"shrink"===this.collapseModeValue?"flex: 0 1 auto;":"display: none;"}get cssPosition(){if(void 0===this.splitterState)return"";const e=this.splitValue,n=void 0===this.position?this.initialSplitValue:`${Math.round(this.position)}px`;switch(this.splitterState){case"collapsed-first":return`max-${e}: 0%;`;case"collapsed-second":return"flex-grow: 1;";case"normal":return`max-${e}: ${n}; ${e}: ${n};`}}bind(){var e;if(this.id)null===(e=this.onSplitterStateChanged)||void 0===e||e.call(this,{sender:this}),this.onPositionChanged(!1),this.barDragged=this.barDragged.bind(this),this.preferencesService.subscribe(this.id,this);else{const e="Id of splitter cannot be empty. Please set id attribute";(0,u.fatalError)(e)}}applyPreferences(e){var n,r,o,i,a,l,c,d,u;(null==e?void 0:e.user)?(this.splitterState=null!==(i=null!==(o=null!==(n=this.splitterState)&&void 0!==n?n:null===(r=e.user.preferences)||void 0===r?void 0:r.splitterState)&&void 0!==o?o:this.initialStateValue)&&void 0!==i?i:"normal",this.position=null!==(l=null===(a=e.user.preferences)||void 0===a?void 0:a.position)&&void 0!==l?l:this.position,null===(c=this.onSplitterStateChanged)||void 0===c||c.call(this,{sender:this}),this.onPositionChanged(!1)):this.splitterState=null!==(u=null!==(d=this.splitterState)&&void 0!==d?d:this.initialStateValue)&&void 0!==u?u:"normal"}startMoving(){"normal"===this.splitterState&&(this.savedPosition=this.position,this.draggerElement.addEventListener("pointermove",this.barDragged))}get effectiveDeltaCollapse(){var e,n,r;return null!==(r=null!==(n=null===(e=this.config)||void 0===e?void 0:e.deltaCollapse)&&void 0!==n?n:this.deltaCollapse)&&void 0!==r?r:10}stopMoving(e){if("normal"!==this.splitterState)return;const{maxPos:n}=this.getMovementData(e.x,e.y),r=this.effectiveDeltaCollapse;return void 0!==this.position&&(this.position>=0&&this.position<=r?(this.toggleCollapseFirst(),this.position=this.savedPosition):this.position>=n-r&&this.position<=n&&(this.toggleCollapseSecond(),this.position=this.savedPosition)),this.draggerElement.releasePointerCapture(e.pointerId),this.draggerElement.removeEventListener("pointermove",this.barDragged),this.onPositionChanged(!0),!0}getMovementData(e,n){var r;const o=this.draggerElement.getBoundingClientRect(),i=this.firstElement.getBoundingClientRect(),a=this.element.getBoundingClientRect(),l="height"===(null===(r=this.config)||void 0===r?void 0:r.split)?"marginTop":"marginLeft",c=parseInt(getComputedStyle(this.draggerElement)[l]);let d="height"===this.splitValue?n-(i.bottom-i.height+c+o.height/2):e-(i.right-i.width+c+o.width/2);const u="height"===this.splitValue?a.height-o.height-2*c:a.width-o.width-2*c;return this.reversedValue&&(d=u-d),{pos:d,maxPos:u}}barDragged(e){if("normal"!==this.splitterState)return;this.draggerElement.setPointerCapture(e.pointerId);const{pos:n,maxPos:r}=this.getMovementData(e.x,e.y),o=this.reversedValue?this.secondPaneMinSize:this.firstPaneMinSize,i=r-(this.reversedValue?this.firstPaneMinSize:this.secondPaneMinSize);return n>=o&&n<=i&&(this.position=n),!0}saveMinimalSize(){const e=this.layoutElement.getBoundingClientRect();this.layoutElement.style.minHeight=`${e.height}px`}restoreMinimalSize(){this.layoutElement.style.minHeight=""}processSize(){"normal"===this.splitterState?this.restoreMinimalSize():this.saveMinimalSize()}toggleCollapse(e){var n;"normal"===this.splitterState?this.splitterState=e:this.splitterState="normal",this.processSize(),null===(n=this.onSplitterStateChanged)||void 0===n||n.call(this,{sender:this}),this.onPositionChanged(!0)}toggleCollapseFirst(){this.toggleCollapse("collapsed-first")}toggleCollapseSecond(){this.toggleCollapse("collapsed-second")}onPositionChanged(e){return r.__awaiter(this,void 0,void 0,(function*(){this.draggerElement.classList.toggle("qp-splitter-collapsed","collapsed-first"===this.splitterState||"collapsed-second"===this.splitterState),this.draggerElement.classList.toggle("qp-splitter-collapsed-first","collapsed-first"===this.splitterState),this.draggerElement.classList.toggle("qp-splitter-collapsed-second","collapsed-second"===this.splitterState),e&&(yield this.savePreferences())}))}savePreferences(){return r.__awaiter(this,void 0,void 0,(function*(){if(!this.id)return;const e=new SplitterPreferences;e.preferences.splitterState=this.splitterState,e.preferences.position=this.position,this.preferencesService.saveUserPreferences((0,l.getScreenID)(),this.id,e)}))}static processSlot(e,n){const r=e.getAttribute("slot");["A","B"].some((e=>e===r))||e.setAttribute("slot",n)}static processContent(e,n,r,o){const i=r.querySelectorAll(`:scope > ${b}`);if(2===i.length)return p.processSlot(i[0],"A"),p.processSlot(i[1],"B"),!0;(0,u.fatalError)(`Exactly two ${b} children required to use in qp-splitter`)}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],g.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],g.prototype,"id",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],g.prototype,"onSplitterStateChanged",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],g.prototype,"split",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],g.prototype,"splitterState",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],g.prototype,"disabled",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],g.prototype,"reversed",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],g.prototype,"unmargin",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],g.prototype,"fading",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],g.prototype,"invisible",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],g.prototype,"initialState",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],g.prototype,"initialSplit",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],g.prototype,"firstPaneMinSize",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],g.prototype,"secondPaneMinSize",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],g.prototype,"firstHeader",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],g.prototype,"secondHeader",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],g.prototype,"collapseMode",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],g.prototype,"disableCollapseFirst",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],g.prototype,"disableCollapseSecond",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],g.prototype,"disableCollapse",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],g.prototype,"disableCollapseOnDelta",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],g.prototype,"deltaCollapse",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],g.prototype,"style",void 0),r.__decorate([d.autoinject,r.__metadata("design:type",o.Container)],g.prototype,"container",void 0),r.__decorate([(0,o.children)(b),r.__metadata("design:type",Array)],g.prototype,"panes",void 0),r.__decorate([(0,i.computedFrom)("config.disabled","disabled"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"disabledValue",null),r.__decorate([(0,i.computedFrom)("config.reversed","reversed"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"reversedValue",null),r.__decorate([(0,i.computedFrom)("config.unmargin","unmargin"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"unmarginValue",null),r.__decorate([(0,i.computedFrom)("config.fading","fading"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"fadingValue",null),r.__decorate([(0,i.computedFrom)("config.invisible","invisible"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"invisibleValue",null),r.__decorate([(0,i.computedFrom)("config.style","style"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"styleValue",null),r.__decorate([(0,i.computedFrom)("config.firstHeader","firstHeader"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"firstHeaderValue",null),r.__decorate([(0,i.computedFrom)("config.secondHeader","secondHeader"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"secondHeaderValue",null),r.__decorate([(0,i.computedFrom)("config.disableCollapse","disableCollapse"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"disableCollapseValue",null),r.__decorate([(0,i.computedFrom)("disableCollapseValue","config.disableCollapseFirst","disableCollapseFirst"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"disableCollapseFirstValue",null),r.__decorate([(0,i.computedFrom)("disableCollapseValue","config.disableCollapseSecond","disableCollapseSecond"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"disableCollapseSecondValue",null),r.__decorate([(0,i.computedFrom)("firstHeaderValue","splitValue","firstPaneDisplayed"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"firstHeaderDisplayed",null),r.__decorate([(0,i.computedFrom)("secondHeaderValue","splitValue","secondPaneDisplayed"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"secondHeaderDisplayed",null),r.__decorate([(0,i.computedFrom)("firstHeaderValue","splitValue","firstPaneDisplayed"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"firstHeaderDisplayedCollapsed",null),r.__decorate([(0,i.computedFrom)("secondHeaderValue","splitValue","secondPaneDisplayed"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"secondHeaderDisplayedCollapsed",null),r.__decorate([(0,i.computedFrom)("splitterState"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"firstPaneDisplayed",null),r.__decorate([(0,i.computedFrom)("splitterState"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"secondPaneDisplayed",null),r.__decorate([(0,i.computedFrom)("firstPaneDisplayed","secondPaneDisplayed"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"eachPaneDisplayed",null),r.__decorate([(0,i.computedFrom)("collapseModeValue"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],g.prototype,"cssCollapse",null),r.__decorate([(0,i.computedFrom)("position","initialStateValue","splitValue","splitterState"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],g.prototype,"cssPosition",null),g=p=r.__decorate([(0,o.processContent)(p.processContent),(0,o.customElement)("qp-splitter"),d.autoinject,r.__metadata("design:paramtypes",[Element,c.PreferencesService])],g),n.QpSplitterCustomElement=g;class SplitterPreferences extends c.PreferenceBase{constructor(){super(),this.type="qp-splitter",this.preferences={}}}}.apply(n,o),void 0===i||(e.exports=i)},"controls/container/tabbar/qp-tab":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("aurelia-event-aggregator"),r("./services/screen-service.ts"),r("./services/preferences/index.ts"),r("./descriptors/index.ts"),r("./controls/container/tabbar/types.ts"),r("./services/tab-fields-service.ts"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b){"use strict";var g;Object.defineProperty(n,"__esModule",{value:!0}),n.QpTabCustomElement=void 0;(0,i.getLogger)("qp-tab");let m=g=class QpTabCustomElement{constructor(e,n,r,o){this.element=e,this.screenService=n,this.container=r,this.preferencesService=o,this.visible=!1,this.loadOnDemand=!1,this.isEmpty=!1,this.fieldsetPreferences={},this.subscriptions=[],this.eventAggregator=r.get(a.EventAggregator),this.htmlTemplate=e.outerHTML}loadOnDemandChanged(e){e?this.screenService.registerLoadOnDemandArea(this.element):this.screenService.unregisterLoadOnDemandArea(this.element)}attached(){var e,n;const r=this.element.querySelector("qp-tab-header");r&&(r.remove(),r.style.display="inline-block",this.headerContentElement=r),this.fieldInfos=p.TabbarFieldsService.getTabFieldInfo({screenId:(0,b.getScreenID)(),tabbarId:this.tabbarId,tabId:this.id}),this.subscriptions.push(this.eventAggregator.subscribe("screen-updated",(e=>{this.processScreenData(e),this.checkTabErrors()}))),null===(n=null===(e=this.fieldInfos)||void 0===e?void 0:e.fieldsets)||void 0===n||n.forEach((e=>{this.preferencesService.subscribe(e.id,{applyPreferences:n=>{this.fieldsetPreferences[e.id]=null==n?void 0:n.def,this.checkTabErrors()}})}))}get headerHost(){return this.headerHostElement}set headerHost(e){this.headerHostElement!==e&&(this.headerContentElement?(this.headerHostElement&&this.headerHostElement.replaceChildren(this.headerContentElement.cloneNode(!0)),e&&(this.headerHostElement=e,this.headerHostElement.replaceChildren(this.headerContentElement))):this.headerHostElement=e)}detached(){this.screenService.unregisterLoadOnDemandArea(this.element)}captionChanged(e){if(!this.headerContentElement)if(e&&"$"===e[0]&&e[1]&&"{"!==e[1]){const n=e.substring(1),r=this.screenService.Model;(null==r?void 0:r.Msg)&&r.Msg[n]&&(this.captionText=r.Msg[n])}else this.captionText=e}onShowHeader(){this.checkTabErrors()}processScreenData(e){var n,r,o,i,a,l;if(!e)return;let c;(!this.fieldInfos||(null===(n=this.fieldInfos.fields)||void 0===n?void 0:n.length)||(null===(r=this.fieldInfos.fieldsets)||void 0===r?void 0:r.length))&&(c=!1),null===(i=null===(o=this.fieldInfos)||void 0===o?void 0:o.fieldsets)||void 0===i||i.forEach((n=>{var r;if(!n.viewId)return;const o=null===(r=e.fieldStates)||void 0===r?void 0:r[n.viewId];o&&(n.viewId=void 0,n.defaultFields=o.map((e=>`${n.viewId}.${e.fieldName}`))||[])})),null===(l=null===(a=this.fieldInfos)||void 0===a?void 0:a.grids)||void 0===l||l.forEach((n=>{var r,o,i;if(!n.view)return;const a=null===(r=e.controlsData)||void 0===r?void 0:r[n.view];a&&(a.hidden&&void 0===c&&(c=!0),a.hidden||(c=!1)),(null===(o=n.columns)||void 0===o?void 0:o.length)>0||a&&(n.columns=(null===(i=(null==a?void 0:a.columns)||(null==a?void 0:a.colProps))||void 0===i?void 0:i.map((e=>e.field?`${n.view}.${e.field}`:void 0)).filter((e=>!!e)))||[])})),void 0!==c&&(this.isEmpty=c,this.element.dispatchEvent(new CustomEvent(u.tabIsEmptyChangedEvent,{bubbles:!0,detail:{id:this.id}})))}checkTabErrors(){var e;const n=(null===(e=this.errorInfo)||void 0===e?void 0:e.level)||d.PXErrorLevel.Undefined;if(!this.fieldInfos||!this.screenService.hasFieldsErrors())return this.errorInfo=void 0,void(n!==d.PXErrorLevel.Undefined&&document.body.dispatchEvent(new CustomEvent(u.tabErrorsChangedEvent)));const checkError=(e,n)=>{const r=this.screenService.getFieldError(n),o=(null==r?void 0:r.level)||d.PXErrorLevel.Undefined,i=(null==e?void 0:e.level)||d.PXErrorLevel.Undefined;return(null==r?void 0:r.level)&&o>i&&(e=Object.assign({},r)),e};let r=this.fieldInfos.fields.reduce(checkError,void 0);const triggerEvent=()=>{n!==((null==r?void 0:r.level)||d.PXErrorLevel.Undefined)&&document.body.dispatchEvent(new CustomEvent(u.tabErrorsChangedEvent))};if((null==r?void 0:r.level)===d.PXErrorLevel.Error||(null==r?void 0:r.level)===d.PXErrorLevel.RowError)return this.errorInfo=r,void triggerEvent();if(this.fieldInfos.grids){if(this.fieldInfos.grids.some((e=>(r=e.columns.reduce(checkError,r),(null==r?void 0:r.level)===d.PXErrorLevel.Error||(null==r?void 0:r.level)===d.PXErrorLevel.RowError))))return this.errorInfo=r,void triggerEvent()}this.fieldInfos.fieldsets&&this.fieldInfos.fieldsets.some((e=>{const n=this.fieldsetPreferences[e.id];return n&&n.preferences.fieldOrder&&(r=n.preferences.fieldOrder.reduce(checkError,r)),r=e.defaultFields.reduce(checkError,r),(null==r?void 0:r.level)===d.PXErrorLevel.Error||(null==r?void 0:r.level)===d.PXErrorLevel.RowError})),this.errorInfo=r,triggerEvent()}getScreenID(){var e;return(null===(e=this.screenService)||void 0===e?void 0:e.isValid)?this.screenService.screenID:(0,b.getScreenID)()}static processContent(e,n,r,o){r.classList.add("v-stack");const i=r.getAttribute("ref");if(!i)return!0;let a=r;for(;a.parentNode;)a=a.parentNode;const l=a.querySelector(`#${i}`);if(!l)return!0;for(let e=0;e<r.childNodes.length;++e)r.removeChild(r.childNodes[e]);return r.append(l.content),!0}};r.__decorate([o.bindable,r.__metadata("design:type",String)],m.prototype,"id",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],m.prototype,"caption",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],m.prototype,"visible",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],m.prototype,"loadOnDemand",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],m.prototype,"tabbarId",void 0),m=g=r.__decorate([(0,o.customElement)("qp-tab"),o.autoinject,(0,o.inlineView)("<template css=\"${visible?'':'display:none !important'}\"><slot></slot></template>"),(0,o.processContent)(g.processContent),r.__metadata("design:paramtypes",[Element,l.ScreenService,o.Container,c.PreferencesService])],m),n.QpTabCustomElement=m}.apply(n,o),void 0===i||(e.exports=i)},"controls/container/tabbar/qp-tabbar-edit":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./controls/dialog/edit-dialog-base/types.ts"),r("./services/index.ts"),r("aurelia-framework"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("aurelia-dialog"),r("./controls/dialog/base-dialog/base-dialog-with-events.ts"),r("./controls/container/tabbar/types.ts"),r("./controls/container/tabbar/utils.ts"),r("./controls/dialog/edit-dialog-base/utils.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.elementToViews=n.QpTabbarEditCustomElement=void 0;let g=class QpTabbarEditCustomElement extends d.BaseDialogWithEvents{constructor(e,n){super(n,e,!1),this.controller=e,this.msg=i.Messages,this.bottomDropZone={},this.topDropZone={},this.topItemActions=v,this.bottomItemActions=y,this.bottomItemOptions={showItemId:!1,dropEvents:!0,itemType:o.EditElementType.available},this.topItemOptions={showItemId:!1,itemType:o.EditElementType.choosen,dropEvents:!0}}activate(e){this.config=e,this.baseDialogConfig={dialogTitle:e.dialogTitle,containerClass:"edit-tabbar-container",getResult:()=>this.tabbarPreferences,resetToDefault:()=>this.resetConfigurationToDefault()},this.hiddenTabs=(0,n.elementToViews)(e.hiddenTabs),this.visibleTabs=(0,n.elementToViews)(e.visibleTabs),this.selectedHiddenTabs=[],this.selectedVisibleTabs=[],this.attachEvents(),this.tabbarPreferences=this.config.preferences?Object.assign(Object.assign({},this.config.preferences),{preferences:this.config.preferences.preferences?Object.assign({},this.config.preferences.preferences):{}}):void 0}resetConfigurationToDefault(){this.visibleTabs=(0,n.elementToViews)(this.config.allTabs),this.hiddenTabs=[],this.tabbarPreferences=new u.TabbarPreferences,this.unselectTabs()}processDropOnSection(e,n){e.dataTransfer&&this.drop(JSON.parse(e.dataTransfer.getData(m)),void 0,!1,n)}processDragOver(e,n,r,i){if(e.preventDefault(),n===o.EditElementType.available)return setDropZone(r,i,this.hiddenTabs,this.bottomDropZone),void(this.topDropZone={});setDropZone(r,i,this.visibleTabs,this.topDropZone),this.bottomDropZone={}}processDragLeave(e,n,r){if(e.preventDefault(),n===o.EditElementType.available){if(!r&&e.target!==this.bottomSectionElement)return!0;this.bottomDropZone={}}else{if(!r&&e.target!==this.topSectionElement)return!0;this.topDropZone={}}}processDragEnd(){this.bottomDropZone={},this.topDropZone={},this.dragInfo=void 0}selectTab(e,n,r,i){(0,p.makeElementSelection)(e,n,r,i===o.EditElementType.available?this.selectedHiddenTabs:this.selectedVisibleTabs,i===o.EditElementType.available?this.hiddenTabs:this.visibleTabs,i===o.EditElementType.available?this.lastSelectedHiddenTab:this.lastSelectedVisibleTab),i===o.EditElementType.available?this.lastSelectedHiddenTab=e:this.lastSelectedVisibleTab=e}unselectTabs(){this.hiddenTabs.forEach((e=>{e.selected=!1,e.hovered=!1})),this.visibleTabs.forEach((e=>{e.selected=!1,e.hovered=!1})),this.selectedHiddenTabs=[],this.selectedVisibleTabs=[]}drop(e,n,r,i){this.processDragEnd();!function dropElements(e,n,r,o,i,a){let l=0;l=o?n.findIndex((e=>e.id===o.id))+(i?0:1):n.length;r.forEach((n=>{const r=e.findIndex((e=>e.id===n.id));e.splice(r,1),a&&r<=l&&l--})),l<=0?n.unshift(...r):l<n.length?n.splice(l,0,...r):n.push(...r)}(e.colType===o.EditElementType.available?this.hiddenTabs:this.visibleTabs,i===o.EditElementType.available?this.hiddenTabs:this.visibleTabs,e.fields,n,r,e.colType===i),(0,b.dispatchEditEvent)(o.EditElementEvents.preferenceChanged,{preferenceName:"visibleTabOrder",newValue:this.visibleTabs.map((e=>e.id))}),(0,b.dispatchEditEvent)(o.EditElementEvents.preferenceChanged,{preferenceName:"hiddenTabOrder",newValue:this.hiddenTabs.map((e=>e.id))}),this.unselectTabs()}attachEvents(){this.addEventListner(document.body,o.EditElementEvents.activated,(e=>{e.detail.hovered=!0})),this.addEventListner(document.body,o.EditElementEvents.deactivated,(e=>{e.detail.hovered=!1})),this.addEventListner(document.body,o.EditElementEvents.select,(e=>{var n;(null===(n=null==e?void 0:e.detail)||void 0===n?void 0:n.originalEvent)&&this.selectTab(e.detail.item,e.detail.originalEvent.ctrlKey,e.detail.originalEvent.shiftKey,e.detail.itemType)})),this.addEventListner(document.body,o.EditElementEvents.dragStart,(e=>{var n,r;if(!(null===(r=null===(n=null==e?void 0:e.detail)||void 0===n?void 0:n.originalEvent)||void 0===r?void 0:r.dataTransfer))return;const i=e.detail.itemType===o.EditElementType.available?this.selectedHiddenTabs:this.selectedVisibleTabs,a={colType:e.detail.itemType,fields:i&&i.length?i:[e.detail.item]};e.detail.originalEvent.dataTransfer.effectAllowed="move",e.detail.originalEvent.dataTransfer.setData(m,JSON.stringify(a)),this.dragInfo=a})),this.addEventListner(document.body,o.EditElementEvents.dragOver,(e=>{var n,r;(null===(r=null===(n=null==e?void 0:e.detail)||void 0===n?void 0:n.originalEvent)||void 0===r?void 0:r.dataTransfer)&&(e.detail.originalEvent.dataTransfer.dropEffect="move",this.processDragOver(e.detail.originalEvent,e.detail.itemType,e.detail.item,!!e.detail.after))})),this.addEventListner(document.body,o.EditElementEvents.dragLeave,(e=>{var n,r;(null===(r=null===(n=null==e?void 0:e.detail)||void 0===n?void 0:n.originalEvent)||void 0===r?void 0:r.dataTransfer)&&this.processDragLeave(e.detail.originalEvent,e.detail.itemType,e.detail.item)})),this.addEventListner(document.body,o.EditElementEvents.drop,(e=>{var n,r;(null===(r=null===(n=null==e?void 0:e.detail)||void 0===n?void 0:n.originalEvent)||void 0===r?void 0:r.dataTransfer)&&this.drop(JSON.parse(e.detail.originalEvent.dataTransfer.getData(m)),e.detail.item,!e.detail.after,e.detail.itemType)})),this.addEventListner(document.body,o.EditElementEvents.preferenceChanged,(e=>{this.tabbarPreferences=this.tabbarPreferences||new u.TabbarPreferences;const n=this.tabbarPreferences.preferences;if(e.detail.tabId){if(n[e.detail.preferenceName]=n[e.detail.preferenceName]||{},n[e.detail.preferenceName][e.detail.tabId]=e.detail.newValue,e.detail.newElementView){const n=this.visibleTabs.findIndex((n=>{var r;return n.id===(null===(r=e.detail.newElementView)||void 0===r?void 0:r.id)}));n>-1&&(this.visibleTabs[n]=e.detail.newElementView)}}else n[e.detail.preferenceName]=e.detail.newValue})),this.addEventListner(document.body,o.EditElementEvents.addElementToEnd,(e=>{this.drop({colType:e.detail.itemType,fields:[e.detail.item]},void 0,!1,e.detail.itemType===o.EditElementType.choosen?o.EditElementType.available:o.EditElementType.choosen)}))}};g=r.__decorate([a.autoinject,r.__metadata("design:paramtypes",[c.DialogController,l.EventManager])],g),n.QpTabbarEditCustomElement=g;const m="tabitem",f={isEnabled:()=>!0,isReadonly:()=>!1,isVisible:e=>e,getState:()=>""},v=[Object.assign(Object.assign({},f),{className:"edit-field-icon--eye",onClick:e=>((0,b.dispatchEditEvent)(o.EditElementEvents.addElementToEnd,{item:e,itemType:o.EditElementType.choosen}),e),getIcon:()=>"svg:main@pageLast"})],y=[Object.assign(Object.assign({},f),{className:"edit-field-icon--eye",onClick:e=>((0,b.dispatchEditEvent)(o.EditElementEvents.addElementToEnd,{item:e,itemType:o.EditElementType.available}),e),getIcon:()=>"svg:main@pageFirst"})];function setDropZone(e,n,r,o){let i=e;if(!i){if(!(r&&r.length>0))return void(o.sectionZoneActive||(o.sectionZoneActive=!0,o.afterId=void 0,o.beforeId=void 0));i=r[r.length-1]}const a=n||null==i?void 0:i.id,l=n?null==i?void 0:i.id:void 0;if(l===o.afterId&&a===o.beforeId)return;const c=i?r.findIndex((e=>e.id===(null==i?void 0:i.id))):-1;if(c>=(n?0:1)&&c<(n?r.length-1:r.length)){const e=n?r[c+1].id:r[c-1].id;if(n&&o.beforeId===e||!n&&o.afterId===e)return}o.afterId=l,o.beforeId=a}n.elementToViews=e=>e.map((e=>Object.assign(Object.assign({},e),{hovered:!1,selected:!1})))}.apply(n,o),void 0===i||(e.exports=i)},"controls/container/tabbar/qp-tabbar":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./controls/container/tabbar/types.ts"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./services/screen-service.ts"),r("./descriptors/index.ts"),r("./services/index.ts"),r("controls/container/tabbar/qp-tabbar-edit"),r("aurelia-dialog"),r("./services/preferences/index.ts"),r("./controls/container/tabbar/utils.ts"),r("./controls/container/tabbar/tabbar-drop.ts"),r("./utils/index.ts"),r("./services/tab-fields-service.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g,m,f,v){"use strict";var y;Object.defineProperty(n,"__esModule",{value:!0}),n.QpTabbarCustomElement=void 0;const x=(0,a.getLogger)("qp-tabbar");let C=y=class QpTabbarCustomElement{constructor(e,n,r,o,i,a){this.element=e,this.taskQueue=n,this.screenService=r,this.eventManager=o,this.dialogService=i,this.preferencesService=a,this.activeTabId="",this.viewMode=c.ViewMode.View,this.msg=d.Messages,this.tabs=[],this.renderedTabs=[],this.defaultTabs=[],this.tabsMap={},this.hiddenHeaders=[],this.userHiddenHeaders=[],this.dotsVisible=!1,this.userHiddenHeadersAvailable=!1,this.menuOpened=!1,this.subscriptions=[],this.lastVisibleIndex=-1,this.hoveringTabId=void 0,this.dotsHovering=!1,this.switchedManually=!1,this.draggableTab=void 0,this.dragStarted=!1,this.draggingOverDots=!1,this.hiddenEmptyDropZoneActive=!1,this.hiddenTabsError={level:c.PXErrorLevel.Undefined},x.warn("constructor")}tabsChanged(e){var n;if(this.activeId&&this.tabs.length!==e.length)for(const r of e){if(!(null===(n=r.addedNodes)||void 0===n?void 0:n.length))continue;const e=r.addedNodes[0].id,o=this.tabs.find((n=>n.id===e));o&&(o.loadOnDemand=!0)}this.processTabs()}activeTabIdChanged(e,n){this.showTab(e)}showTab(e,n=!0){var r,o;if(this.menuOpened&&(this.menuOpened=!1),!(null===(r=this.tabs)||void 0===r?void 0:r.length)||!(null===(o=this.renderedTabs)||void 0===o?void 0:o.length))return;n&&(this.switchedManually=!0);const i=this.activeId;let a=e;a!==this.activeId&&(this.activeId=a),this.tabsMap[a]||(a=this.renderedTabs[0].id,this.activeId=a);const l=this.tabs.find((e=>e.id===a));if(l){if(!l.visible){for(const e of this.tabs)e.id===a?e.visible=!0:e.visible=!1;i&&(null==l?void 0:l.loadOnDemand)&&(l.loadOnDemand=!1,setTimeout((()=>{this.screenService.update(void 0,new c.ScreenUpdateParams(void 0,l.element))}),1))}setTimeout((()=>{this.showTabHeader(a)}),2)}}bind(){return r.__awaiter(this,void 0,void 0,(function*(){this.id&&this.preferencesService.subscribe(this.id,this)}))}attached(){this.config||(this.config={id:""}),this.config.id||(this.config.id=this.element.getAttribute("id")||""),this.resizeObserver=new i.PLATFORM.global.ResizeObserver((e=>{e&&e.length&&this.onWidthChange()})),this.resizeObserver.observe(this.headerElement),this.subscriptions.push(this.eventManager.addEventListener(document.body,"startScreenConfiguration",(()=>{this.viewMode=c.ViewMode.Edit}),i.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(document.body,"endScreenConfiguration",(()=>{this.viewMode=c.ViewMode.View}),i.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(document.body,m.DropEventName,(e=>{var n,r;const o=e;(0,m.drop)(null===(n=null==o?void 0:o.detail)||void 0===n?void 0:n.dropLocation,{renderedTabs:this.renderedTabs,hiddenTabs:this.userHiddenHeaders},null===(r=null==o?void 0:o.detail)||void 0===r?void 0:r.draggableTabId)&&(this.saveLayout(),setTimeout((()=>{this.showTabHeader(this.activeId)}),1))}),i.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(document.body,o.tabErrorsChangedEvent,(()=>this.findHiddenTabsError()),i.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(this.element,o.tabIsEmptyChangedEvent,(e=>{var n;const r=this.tabsMap[e.detail.id];(null==r?void 0:r.id)===this.activeId&&(null==r?void 0:r.isEmpty)&&this.showTab(this.activeTabId||this.renderedTabs[0].id),(null===(n=this.rightTabHeader)||void 0===n?void 0:n.isEmpty)&&(this.rightTabHeader=void 0),this.userHiddenHeadersAvailable=!!this.userHiddenHeaders.find((e=>!e.isEmpty)),this.dotsVisible=!(!this.hiddenHeaders.find((e=>!e.isEmpty))&&!this.userHiddenHeadersAvailable)}),i.delegationStrategy.none,!0))}detached(){this.subscriptions.forEach((e=>null==e?void 0:e.dispose())),this.subscriptions=[],this.resizeObserver.disconnect(),this.resizeObserver=void 0}findHiddenTabsError(){var e,n;const r={level:c.PXErrorLevel.Undefined};if(this.hiddenHeaders)for(const n of this.hiddenHeaders)(null===(e=n.errorInfo)||void 0===e?void 0:e.level)&&n.errorInfo.level>r.level&&(r.level=n.errorInfo.level);if(this.userHiddenHeaders)for(const e of this.userHiddenHeaders)(null===(n=e.errorInfo)||void 0===n?void 0:n.level)&&e.errorInfo.level>r.level&&(r.level=e.errorInfo.level);this.hiddenTabsError=r}onWidthChange(){this.menuOpened=!1,this.showTabHeader(this.activeId)}onPointerEnter(e){return!this.draggableTab&&(this.hoveringTabId=e,!0)}onPointerLeave(e){return!(!this.hoveringTabId||e!==this.hoveringTabId)&&(this.hoveringTabId=void 0,!0)}onDotsPointerEnter(){return!this.draggableTab&&(this.dotsHovering=!0,!0)}onDotsPointerLeave(){return!!this.dotsHovering&&(this.dotsHovering=!1,!0)}stopPropagation(e){return e.stopPropagation(),!1}toggleMenu(e){return this.menuOpened=!this.menuOpened,!0}showEditDialog(){var e,n,o,i,a,l;return r.__awaiter(this,void 0,void 0,(function*(){if(!this.id)return;const r=null===(e=this.preferencesService.getPreferences(this.id))||void 0===e?void 0:e.def,c=[],p={};let b;this.defaultTabs.forEach((e=>{const n={name:e.captionText,id:e.id,parentId:"",visible:!0};c.push(n),p[n.id]=n}));let g=[];(null===(n=null==r?void 0:r.preferences)||void 0===n?void 0:n.visibleTabOrder)||(null===(o=null==r?void 0:r.preferences)||void 0===o?void 0:o.hiddenTabOrder)?(g=((null===(i=null==r?void 0:r.preferences)||void 0===i?void 0:i.hiddenTabOrder)||[]).map((e=>p[e])),b=((null===(a=null==r?void 0:r.preferences)||void 0===a?void 0:a.visibleTabOrder)||[]).map((e=>p[e]))):b=c.map((e=>Object.assign({},e)));const m={dialogTitle:d.Messages.TabConfigurationTitle,topSectionTitle:d.Messages.TabConfigurationVisibleTabs,bottomSectionTitle:d.Messages.TabConfigurationHiddenTabs,preferences:r,allTabs:c,visibleTabs:b,hiddenTabs:g};(null===(l=this.dialogService)||void 0===l?void 0:l.open({viewModel:u.QpTabbarEditCustomElement,model:m,lock:!1})).whenClosed((e=>{e&&!e.wasCancelled&&this.preferencesService.setPreferences(this.id,e.output,"def",!0);const n=this.preferencesService.getPreferences(this.id);this.preferences=n?Object.assign({},n):void 0}))}))}applyPreferences(e){this.preferences=e,this.processTabs()}onPointerDown(e,n,r){if(!this.draggableTab)return e.stopPropagation(),this.draggableTab={id:n.id,captionText:n.captionText},document.body.addEventListener("pointermove",(e=>this.onPointerMove(e,r))),document.body.addEventListener("pointerup",(()=>this.onPointerUp())),!0}onPointerMove(e,n){var r;if(!this.draggableTab)return;const o=this.dragElement.getBoundingClientRect();this.dragFloaterRect={left:e.clientX,right:e.clientX+o.width,top:e.clientY,bottom:e.clientY+o.height},this.dragStarted||(this.dragStarted=!0,this.fillVisibleTabDropzones()),!this.menuOpened||!this.tabbarMenu||this.hiddenDropZoneBorders&&this.emptyHiddenDropZone||(this.tabbarMenuRect=null===(r=this.tabbarMenu)||void 0===r?void 0:r.getBoundingClientRect(),this.fillHiddenTabDropzones()),!this.menuOpener||this.dropZoneMenuOperer&&this.dropZoneMenuOperer.left!==this.dropZoneMenuOperer.right&&0!==o.width||(this.dropZoneMenuOperer=this.menuOpener.getBoundingClientRect()),this.dropZoneMenuOperer&&(this.draggingOverDots=(0,g.rectsIntersect)(this.dragFloaterRect,this.dropZoneMenuOperer),this.draggingOverDots&&!this.menuOpened&&(this.menuOpened=!0)),this.findDropZone()}onPointerUp(){var e,n,r,o,i,a;if(!this.draggableTab)return;const l={visibleAfterId:(null===(e=this.visibleDropZone)||void 0===e?void 0:e.afterId)||(null===(n=this.hiddenDropZone)||void 0===n?void 0:n.afterId),visibleBeforeId:(null===(r=this.visibleDropZone)||void 0===r?void 0:r.beforeId)||(null===(o=this.hiddenDropZone)||void 0===o?void 0:o.beforeId),hiddenAfterId:null===(i=this.userHiddenDropZone)||void 0===i?void 0:i.afterId,hiddenBeforeId:null===(a=this.userHiddenDropZone)||void 0===a?void 0:a.beforeId,hiddenIsEmpty:this.hiddenEmptyDropZoneActive};(0,g.dispatchDropEvent)({dropLocation:l,draggableTabId:this.draggableTab.id}),this.draggableTab=void 0,this.dragStarted=!1,this.visibleDropZone=void 0,this.hiddenDropZone=void 0,this.userHiddenDropZone=void 0,this.draggingOverDots=!1,this.hiddenDropZoneBorders=void 0,this.hiddenEmptyDropZoneActive=!1,document.body.removeEventListener("pointermove",(e=>this.onPointerMove(e))),document.body.removeEventListener("pointerup",(e=>this.onPointerUp()))}onMenuScroll(e){return e.stopImmediatePropagation(),!0}onMenuClick(e){return e.stopPropagation(),!0}getErrorStyle(e){return e?e.level===c.PXErrorLevel.Error||e.level===c.PXErrorLevel.RowError?"tab-header--error":e.level===c.PXErrorLevel.RowWarning||e.level===c.PXErrorLevel.Warning?"tab-header--warning":"":""}getErrorIcon(e){return e?e.level===c.PXErrorLevel.Error||e.level===c.PXErrorLevel.RowError?"main@errorExclamation":e.level===c.PXErrorLevel.RowWarning||e.level===c.PXErrorLevel.Warning?"main@warningExclamation":"":""}static ProcessContent(e,n,r){v.TabbarFieldsService.initTabbar({screenId:(0,f.getScreenID)(),tabbarId:r.id,innerHtml:r.innerHTML});return Array.from(r.getElementsByTagName("QP-TAB")).forEach((e=>e.setAttribute("tabbar-id",r.id))),!0}processTabs(){var e,n,r,o,i,a,l,d,u,p,b,g,m,f,v,y,x,C,S;const D=[];let E,k;if(this.defaultTabs=[],null===(e=this.tabs)||void 0===e||e.forEach((e=>{e.element.classList.contains("aurelia-hide")||e&&(D.push(e),this.defaultTabs.push({id:e.id,captionText:e.captionText}),this.tabsMap[e.id]=e)})),this.viewMode!==c.ViewMode.Edit&&(null===(o=null===(r=null===(n=this.preferences)||void 0===n?void 0:n.user)||void 0===r?void 0:r.preferences)||void 0===o?void 0:o.hiddenTabOrder)&&(null===(l=null===(a=null===(i=this.preferences)||void 0===i?void 0:i.user)||void 0===a?void 0:a.preferences)||void 0===l?void 0:l.visibleTabOrder)?(E=null===(y=null===(v=null===(f=this.preferences)||void 0===f?void 0:f.user)||void 0===v?void 0:v.preferences)||void 0===y?void 0:y.visibleTabOrder,k=null===(S=null===(C=null===(x=this.preferences)||void 0===x?void 0:x.user)||void 0===C?void 0:C.preferences)||void 0===S?void 0:S.hiddenTabOrder):(E=null===(p=null===(u=null===(d=this.preferences)||void 0===d?void 0:d.def)||void 0===u?void 0:u.preferences)||void 0===p?void 0:p.visibleTabOrder,k=null===(m=null===(g=null===(b=this.preferences)||void 0===b?void 0:b.def)||void 0===g?void 0:g.preferences)||void 0===m?void 0:m.hiddenTabOrder),E&&k){const e={},n=[],r=[];for(const r of E){const o=this.tabsMap[r];o&&(n.push(o),e[r]=!0)}for(const n of k){const o=this.tabsMap[n];o&&(r.push(o),e[n]=!0)}for(const r of D)r&&(e[r.id]||n.push(r));this.renderedTabs=n,this.userHiddenHeaders=r}else this.renderedTabs=D,this.userHiddenHeaders=[];this.showTab(this.switchedManually?this.activeId:this.activeTabId,!1)}isTabHidden(e){const n=this.getTabHeaderElement(e);return!n||tabHeaderElementIsHidden(n)}showTabHeader(e){var n,r,o;let i=-1,a=-1,l=-1,c=-1;const d=[];for(let n=0;n<this.renderedTabs.length;n++){const r=this.renderedTabs[n];r&&(this.isTabHidden(r.id)?r.id!==e&&d.push(r):i=n,r.id===e&&(a=n),this.rightTabHeader&&this.rightTabHeader.id===r.id&&(c=n))}const u=i<this.lastVisibleIndex;this.lastVisibleIndex=i;const p=null===(r=null===(n=this.renderedTabs[i])||void 0===n?void 0:n.headerHost)||void 0===r?void 0:r.getBoundingClientRect(),b=null===(o=this.headerElement)||void 0===o?void 0:o.getBoundingClientRect();this.rightTabPartMargin=p&&b?p.right-b.left:0,this.rightTabHeader&&(u&&this.rightTabHeader.id!==e||c>-1&&c<=i)&&(this.rightTabHeader=void 0,d.shift()),this.hiddenHeaders=d,a>i?this.rightTabHeader=this.renderedTabs[a]:a<0&&(l=this.userHiddenHeaders.findIndex((n=>(null==n?void 0:n.id)===e)),l>-1&&(this.rightTabHeader=this.userHiddenHeaders[l])),this.userHiddenHeadersAvailable=!!this.userHiddenHeaders.find((e=>!e.isEmpty)),this.dotsVisible=!(!this.hiddenHeaders.find((e=>!e.isEmpty))&&!this.userHiddenHeadersAvailable),setTimeout((()=>{var e,n;this.rightTabPartWidth=(null===(n=null===(e=this.rightTabPart)||void 0===e?void 0:e.getBoundingClientRect())||void 0===n?void 0:n.width)||0,this.renderedTabs.forEach((e=>e.onShowHeader&&e.onShowHeader())),this.userHiddenHeaders.forEach((e=>e.onShowHeader&&e.onShowHeader())),this.findHiddenTabsError()}),0)}getTabHeaderElement(e,n){const r=this.tabsMap[e];return n?i.PLATFORM.global.document.body.querySelector(`.qp-tabbar-menu-item[tabid='${e}']`):(r.headerHost=this.element.querySelector(`.qp-tabbar-tab[tabid='${e}']`),r.headerHost)}fillVisibleTabDropzones(){const e=this.tabs.map((e=>{const n=this.getTabHeaderElement(null==e?void 0:e.id);if(tabHeaderElementIsHidden(n))return null;const r=n.getBoundingClientRect();return{left:Math.floor(r.left),right:Math.ceil(r.right),top:Math.floor(r.top),bottom:Math.ceil(r.bottom),middle:Math.floor(r.left+r.width/2),tabId:e.id}})).filter((e=>!!e)).sort(((e,n)=>e.left-n.left));this.dropZoneBorders=[];for(let n=0;n<e.length;n++)this.dropZoneBorders.push({left:n>0?e[n-1].middle:e[n].left,right:e[n].middle,top:e[n].top,bottom:e[n].bottom,beforeId:e[n].tabId,afterId:void 0}),n===e.length-1&&this.dropZoneBorders.push({left:e[n].middle,right:e[n].right+1,top:e[n].top,bottom:e[n].bottom,beforeId:void 0,afterId:e[n].tabId})}fillHiddenTabDropzones(){var e;0===this.userHiddenHeaders.length&&(this.emptyHiddenDropZone=null===(e=this.menuBlankElement)||void 0===e?void 0:e.getBoundingClientRect());const getHeaderElement=e=>this.getTabHeaderElement(e,!0);this.hiddenDropZoneBorders=[...(0,g.getVerticalDropZones)(this.hiddenHeaders,getHeaderElement).map((e=>Object.assign(Object.assign({},e),{userHidden:!1}))),...(0,g.getVerticalDropZones)(this.userHiddenHeaders,getHeaderElement).map((e=>Object.assign(Object.assign({},e),{userHidden:!0})))]}findDropZone(){const e=this.dropZoneBorders.find((e=>(0,g.rectsIntersect)(e,this.dragFloaterRect)));if(this.visibleDropZone=e,e)return this.menuOpened&&(this.menuOpened=!1),this.hiddenDropZone=void 0,void(this.userHiddenDropZone=void 0);if(!(0,g.rectsIntersect)(this.dragFloaterRect,this.tabbarMenuRect))return this.hiddenEmptyDropZoneActive=!1,this.hiddenDropZone=void 0,void(this.userHiddenDropZone=void 0);if(0===this.userHiddenHeaders.length&&this.emptyHiddenDropZone&&(this.hiddenEmptyDropZoneActive=(0,g.rectsIntersectVertically)(this.dragFloaterRect,this.emptyHiddenDropZone),this.userHiddenDropZone=void 0),!this.hiddenDropZoneBorders)return;const n=this.hiddenDropZoneBorders.find((e=>(0,g.rectsIntersectVertically)(e,this.dragFloaterRect)));(null==n?void 0:n.userHidden)?(this.hiddenDropZone=void 0,this.userHiddenDropZone=n):(this.hiddenDropZone=n,this.userHiddenDropZone=void 0)}saveLayout(){var e,n;return r.__awaiter(this,void 0,void 0,(function*(){if(!this.id)return;const r=new o.TabbarPreferences;r.preferences.hiddenTabOrder=null===(e=this.userHiddenHeaders)||void 0===e?void 0:e.map((e=>e.id)),r.preferences.visibleTabOrder=null===(n=this.renderedTabs)||void 0===n?void 0:n.map((e=>e.id)),this.viewMode===c.ViewMode.Edit?this.preferencesService.setPreferences(this.id,r,"def"):yield this.preferencesService.saveUserPreferences((0,f.getScreenID)(),this.id,r)}))}};function tabHeaderElementIsHidden(e){return!e||0===e.offsetWidth||e.offsetTop>22.5||e.id.endsWith("_hidden")}r.__decorate([i.bindable,r.__metadata("design:type",String)],C.prototype,"activeTabId",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],C.prototype,"config",void 0),r.__decorate([i.bindable,r.__metadata("design:type",String)],C.prototype,"viewMode",void 0),r.__decorate([i.bindable,r.__metadata("design:type",String)],C.prototype,"id",void 0),r.__decorate([(0,i.children)("qp-tab"),r.__metadata("design:type",Array)],C.prototype,"tabs",void 0),C=y=r.__decorate([(0,i.customElement)("qp-tabbar"),(0,i.processContent)(y.ProcessContent),i.autoinject,r.__metadata("design:paramtypes",[Element,i.TaskQueue,l.ScreenService,i.EventManager,p.DialogService,b.PreferencesService])],C),n.QpTabbarCustomElement=C}.apply(n,o),void 0===i||(e.exports=i)},"./controls/container/tabbar/tabbar-drop.ts":function(e,n,r){var o;o=function(e,n){"use strict";var r;function findSourceAndIndex(e,n){var o,i;let a=null===(o=n.renderedTabs)||void 0===o?void 0:o.findIndex((n=>n.id===e));return a>-1?{sourceType:r.rendered,index:a,tabs:n.renderedTabs}:(a=null===(i=n.hiddenTabs)||void 0===i?void 0:i.findIndex((n=>n.id===e)),a>-1?{sourceType:r.hidden,index:a,tabs:n.hiddenTabs}:{sourceType:r.none,index:-1,tabs:[]})}function boolToNumber(e){return e?1:0}Object.defineProperty(n,"__esModule",{value:!0}),n.drop=n.DropEventName=void 0,function(e){e[e.none=0]="none",e[e.rendered=1]="rendered",e[e.hidden=2]="hidden"}(r||(r={})),n.DropEventName="tabbar_drop",n.drop=function drop(e,n,o){if(!o||!n||!function dropLocationIsValid(e){return!!e&&1===boolToNumber(!!e.visibleAfterId)+boolToNumber(!!e.visibleBeforeId)+boolToNumber(!!e.hiddenAfterId)+boolToNumber(!!e.hiddenBeforeId)+boolToNumber(e.hiddenIsEmpty)}(e))return!1;const i=findSourceAndIndex(o,n),a=e.hiddenIsEmpty?{sourceType:r.hidden,index:n.hiddenTabs.length,tabs:n.hiddenTabs}:findSourceAndIndex(e.visibleAfterId||e.visibleBeforeId||e.hiddenAfterId||e.hiddenBeforeId,n);if((e.visibleAfterId||e.hiddenAfterId)&&(a.index=a.index+1),a.sourceType===i.sourceType&&(a.index=a.index-(i.index<a.index?1:0)),i.sourceType===r.none||a.sourceType===r.none||a.sourceType===i.sourceType&&i.index===a.index)return!1;const l=i.tabs.splice(i.index,1)[0];return a.index>=a.tabs.length?a.tabs.push(l):a.tabs.splice(a.index,0,l),!0}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./controls/container/tabbar/types.ts":function(e,n,r){var o,i;o=[r,n,r("./services/preferences/index.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tabIsEmptyChangedEvent=n.tabErrorsChangedEvent=n.TabbarPreferences=void 0;class TabbarPreferences extends r.PreferenceBase{constructor(){super(),this.type="qp-tabbar",this.preferences={}}}n.TabbarPreferences=TabbarPreferences,n.tabErrorsChangedEvent="tabErrorsChangedEvent",n.tabIsEmptyChangedEvent="tabIsEmptyChangedEvent"}.apply(n,o),void 0===i||(e.exports=i)},"./controls/container/tabbar/utils.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/container/tabbar/tabbar-drop.ts")],i=function(e,n,r){"use strict";function rectsIntersectHorizontrally(e,n){return!(!e||!n)&&(e.right>=n.left&&e.left<=n.right)}function rectsIntersectVertically(e,n){return!(!e||!n)&&(e.bottom>=n.top&&e.top<=n.bottom)}Object.defineProperty(n,"__esModule",{value:!0}),n.getVerticalDropZones=n.dispatchDropEvent=n.rectsIntersectVertically=n.rectsIntersectHorizontrally=n.rectsIntersect=n.makeElementSelection=void 0,n.makeElementSelection=function makeElementSelection(e,n,r,o,i,a){const l=e.selected;if(n){if(e.selected=!e.selected,l){const n=o.indexOf(e);n>-1&&o.splice(n,1)}else o.push(e);return}if(o.forEach((e=>e.selected=!1)),o.splice(0,o.length),!r||!a)return void(l&&a||(e.selected=!0,o.push(e)));let c=!1;for(const n of i){const r=n.id===a.id||n.id===e.id;if((c||r)&&(n.selected=!0,o.push(n)),r&&(c=!c,!c))break}},n.rectsIntersect=function rectsIntersect(e,n){return rectsIntersectHorizontrally(e,n)&&rectsIntersectVertically(e,n)},n.rectsIntersectHorizontrally=rectsIntersectHorizontrally,n.rectsIntersectVertically=rectsIntersectVertically,n.dispatchDropEvent=function dispatchDropEvent(e){const n=new CustomEvent(r.DropEventName,{bubbles:!0,detail:e});document.body.dispatchEvent(n)},n.getVerticalDropZones=function getVerticalDropZones(e,n){const r=[],o=e.map((e=>{const r=n(e.id).getBoundingClientRect();return{top:Math.floor(r.top),bottom:Math.ceil(r.bottom),middle:Math.floor(r.top+r.height/2),tabId:e.id}})).sort(((e,n)=>e.top-n.top));for(let e=0;e<o.length;e++)r.push({top:e>0?o[e-1].middle:o[e].top,bottom:o[e].middle,beforeId:o[e].tabId,afterId:void 0}),e===o.length-1&&r.push({top:o[e].middle,bottom:o[e].bottom+1,beforeId:void 0,afterId:o[e].tabId});return r}}.apply(n,o),void 0===i||(e.exports=i)},"controls/container/wizard/qp-wizard":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./services/messages.ts"),r("./services/screen-service.ts"),r("./descriptors/index.ts"),r("./services/keyboard-service.ts")],i=function(e,n,r,o,i,a,l,c,d){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpWizardCustomElement=void 0;(0,i.getLogger)("qp-wizard");let u=class QpWizardCustomElement{constructor(e,n,r,o){this.element=e,this.tq=n,this.screenService=r,this.keyboardService=o,this.activeTabId="",this.tabs=[],this.Msg=a.Messages}bind(){}tabsChanged(){for(let e=0;e<this.tabs.length;++e){const n=this.tabs[e];n.id||(n.id=`_${e}`)}this.tabs.length&&(this.activeTabId?this.activeTabIdChanged(this.activeTabId):this.activeTabId=this.tabs[0].id)}activeTabIdChanged(e,n){let r=-1,o=!1;for(let e=0;e<this.tabs.length;++e){const n=this.tabs[e];n.id===this.activeTabId?(n.visible||(n.visible=!0,o=!0),r=e):n.visible=!1}if(r>=0){const e=this.tabs[r];n&&o&&(null==e?void 0:e.loadOnDemand)&&this.screenService.update(void 0,new c.ScreenUpdateParams(void 0,e.element));const i=new CustomEvent("changeconfig",{bubbles:!0,detail:{caption:this.tabs[r].caption}});this.element.dispatchEvent(i),this.tq.queueTask((()=>{this.keyboardService.clearFocus(),this.keyboardService.focusFirstElement()}))}}attached(){this.tabsChanged()}showTab(e){this.activeTabId=e}processPrev(){const e=this.tabs.findIndex((e=>e.id===this.activeTabId));if(e<=0)return!0;const n=this.tabs[e-1].id,r=new CustomEvent("prevtab",{bubbles:!0,detail:{tabId:n,backward:!0}});return this.element.dispatchEvent(r),r.detail.cancel||(this.activeTabId=n),!0}processNext(){const e=this.tabs.findIndex((e=>e.id===this.activeTabId));if(-1===e)return!0;const n=this.tabs[e+1].id,r=new CustomEvent("nexttab",{bubbles:!0,detail:{tabId:n}});return this.element.dispatchEvent(r),r.detail.cancel||(this.activeTabId=n),!0}processSave(){const e=new CustomEvent("savedialog",{bubbles:!0});return this.element.dispatchEvent(e),!0}processCancel(){const e=new CustomEvent("closedialog",{bubbles:!0});return this.element.dispatchEvent(e),!0}stopPropagation(e){return e.stopPropagation(),!1}};r.__decorate([o.bindable,r.__metadata("design:type",String)],u.prototype,"activeTabId",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],u.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],u.prototype,"id",void 0),r.__decorate([(0,o.children)("qp-tab"),r.__metadata("design:type",Array)],u.prototype,"tabs",void 0),u=r.__decorate([(0,o.customElement)("qp-wizard"),o.autoinject,r.__metadata("design:paramtypes",[Element,o.TaskQueue,l.ScreenService,d.KeyboardService])],u),n.QpWizardCustomElement=u}.apply(n,o),void 0===i||(e.exports=i)},"controls/dialog/alert/qp-alert":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("aurelia-dialog"),r("./controls/dialog/base-dialog/base-dialog.ts"),r("./services/messages.ts"),r("./dependency-property-injection/index.ts")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpAlertButtons=n.QpAlertResults=n.QpAlertComponent=void 0;let d=class QpAlertComponent extends a.BaseDialog{constructor(e){super(e,!1),this.controller=e,this.alertButtons=p,this.alertResults=u,this.Msg=l.Messages,e.settings.position=(e,n)=>this.position(e,n),e.settings.lock=!1,this.minHeight=250,this.maxHeight=450}position(e,n){n&&n.classList.add("qp-dialog-app-overlay")}activate(e){this.config=e}get showCloseButton(){return void 0!==this.config.hideCloseButton?this.config.hideCloseButton:this.config.buttons!==this.alertButtons.YesNoCancel&&this.config.buttons!==this.alertButtons.YesNo&&this.config.buttons!==this.alertButtons.OkCancel}stopProcessing(e){return e.stopPropagation(),e.preventDefault(),!1}};var u,p;r.__decorate([o.bindable,r.__metadata("design:type",Object)],d.prototype,"config",void 0),r.__decorate([(0,o.computedFrom)("config.hideCloseButton","config.buttons"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],d.prototype,"showCloseButton",null),d=r.__decorate([c.autoinject,r.__metadata("design:paramtypes",[i.DialogController])],d),n.QpAlertComponent=d,function(e){e[e.None=0]="None",e[e.Confirm=1]="Confirm",e[e.Cancel=2]="Cancel",e[e.Reject=3]="Reject",e[e.Retry=4]="Retry",e[e.Ignore=5]="Ignore",e[e.Yes=6]="Yes",e[e.No=7]="No"}(u=n.QpAlertResults||(n.QpAlertResults={})),function(e){e.Ok="ok",e.OkCancel="okCancel",e.AbortRetryIgnore="abortRetryIgnore",e.YesNoCancel="yesNoCancel",e.YesNo="yesNo",e.RetryCancel="retryCancel"}(p=n.QpAlertButtons||(n.QpAlertButtons={}))}.apply(n,o),void 0===i||(e.exports=i)},"./controls/dialog/base-dialog/base-dialog-with-events.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("./controls/dialog/base-dialog/base-dialog.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BaseDialogWithEvents=void 0;class BaseDialogWithEvents extends o.BaseDialog{constructor(e,n,r=!0){super(n,r),this.eventManager=e,this.eventSubscriptions=[]}addEventListner(e,n,o){this.eventSubscriptions.push(this.eventManager.addEventListener(e,n,(e=>o(e)),r.delegationStrategy.none,!0))}detached(){this.eventSubscriptions.forEach((e=>null==e?void 0:e.dispose())),this.eventSubscriptions=[]}}n.BaseDialogWithEvents=BaseDialogWithEvents}.apply(n,o),void 0===i||(e.exports=i)},"./controls/dialog/base-dialog/base-dialog.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/keyboard-service.ts"),r("aurelia-event-aggregator"),r("./dependency-property-injection/index.ts"),r("./descriptors/constants.ts"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BaseDialog=void 0;class BaseDialog{constructor(e,n=!0){this.controller=e,this.busy=0,this.maxHeight=-1,this.minHeight=-1,n&&(e.settings.lock=!1,e.settings.position=this.position.bind(this));const r=e.ok;e.ok=n=>(this.busyCounter.increment(),++this.busy,r.bind(e,n)())}attached(){var e;null===(e=this.keyboardService)||void 0===e||e.setActiveArea(this.element)}detached(){var e;null===(e=this.keyboardService)||void 0===e||e.restorePreviousArea()}activate(e){this.eventAggregator.publish(l.DIALOG_OPENED)}unbind(){for(;this.busy;--this.busy)this.busyCounter.decrement()}position(e,n){if(!this.config.attachTo)return;const r=e,o=this.config.attachTo.getBoundingClientRect(),i=r.querySelector("ux-dialog");if(i){const n=e.getBoundingClientRect().height,r=e.getBoundingClientRect().width,a=o.top,l=n-(o.top+o.height);let c=i.offsetHeight;if(this.maxHeight>0&&c>this.maxHeight&&(c=this.maxHeight),this.minHeight>0){const e=Math.max(a,l);c>e&&(c=e),c<this.minHeight&&(c=this.minHeight)}let d=o.top+o.height;const u=i.offsetHeight>c?c:i.offsetHeight;u>l&&a>l?d=o.top-u:u>l&&(d=n-u),i.style.position="absolute",i.style.top=`${d>0?d:0}px`;let p=o.left;if(i.offsetWidth+p>r&&(p=r-i.offsetWidth),i.style.left=`${p}px`,i.offsetHeight>c){const e=i.querySelector("ux-dialog-body");e&&(e.style.height=c-(i.offsetHeight-e.offsetHeight)+"px")}}}}r.__decorate([a.autoinject,r.__metadata("design:type",Element)],BaseDialog.prototype,"element",void 0),r.__decorate([a.autoinject,r.__metadata("design:type",o.KeyboardService)],BaseDialog.prototype,"keyboardService",void 0),r.__decorate([a.autoinject,r.__metadata("design:type",i.EventAggregator)],BaseDialog.prototype,"eventAggregator",void 0),r.__decorate([a.autoinject,r.__metadata("design:type",c.BusyCounter)],BaseDialog.prototype,"busyCounter",void 0),n.BaseDialog=BaseDialog}.apply(n,o),void 0===i||(e.exports=i)},"./controls/dialog/base-dialog/dialog-helper.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-dialog"),r("aurelia-framework"),r("./dependency-property-injection/index.ts"),r("controls/dialog/base-dialog/qp-dialog"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DialogHelper=void 0;let d=class DialogHelper{constructor(e){this.container=e,this.dialogService=e.get(o.DialogService),this.busyCounter=e.get(c.BusyCounter)}openDialog(e,n,r){return this.openDialogInternal(e,n,r)}openDialogInternal(e,n,r){var o;this.busyCounter.increment(),(null===(o=null==e?void 0:e.context)||void 0===o?void 0:o.screenService)&&(e.context.screenService.suspendUpdates=!0);const i=this.dialogService.open(Object.assign(Object.assign({lock:!1},n),{viewModel:l.QpDialogCustomElement,model:e,childContainer:this.container.createChild()}));return i.then((e=>{if(!e.wasCancelled){r&&r(e)}})).finally((()=>{var n;this.busyCounter.decrement(),(null===(n=null==e?void 0:e.context)||void 0===n?void 0:n.screenService)&&(e.context.screenService.suspendUpdates=!1)})),i}};d=r.__decorate([a.autoinject,r.__metadata("design:paramtypes",[i.Container])],d),n.DialogHelper=d}.apply(n,o),void 0===i||(e.exports=i)},"controls/dialog/base-dialog/movable":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MovableCustomAttribute=void 0;let i=class MovableCustomAttribute{constructor(e){this.pointerStart={dx:0,dy:0},this.dragMode=!1,this.element=e}attached(){this.element.addEventListener("pointerdown",(e=>this.startMoving(e))),this.element.addEventListener("pointerup",(e=>this.stopMoving(e))),this.element.addEventListener("pointermove",(e=>this.moved(e)))}detached(){this.element.removeEventListener("pointerdown",(e=>this.startMoving(e))),this.element.removeEventListener("pointerup",(e=>this.stopMoving(e))),this.element.removeEventListener("pointermove",(e=>this.moved(e)))}startMoving(e){if(!this.target||this.target.classList.contains("qp-maximized"))return!0;this.element.setPointerCapture(e.pointerId),this.dragMode=!0;const n=this.target.getBoundingClientRect();return this.target.style.position="absolute",this.pointerStart={dx:e.x-n.x,dy:e.y-n.y},this.target.style.top=`${n.y}px`,this.target.style.left=`${n.x}px`,this.target.style.bottom="",this.target.style.right="",this.target.classList.add("qp-moved"),!1}stopMoving(e){return this.element.releasePointerCapture(e.pointerId),this.dragMode=!1,!1}moved(e){return!this.dragMode||!this.target||(this.target.style.top=e.y-this.pointerStart.dy+"px",this.target.style.left=e.x-this.pointerStart.dx+"px",!1)}};r.__decorate([(0,o.bindable)({primaryProperty:!0}),r.__metadata("design:type",Object)],i.prototype,"target",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],i.prototype,"dialogSelector",void 0),i=r.__decorate([(0,o.customAttribute)("movable"),r.__metadata("design:paramtypes",[Element])],i),n.MovableCustomAttribute=i}.apply(n,o),void 0===i||(e.exports=i)},"controls/dialog/base-dialog/qp-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/dialog/base-dialog/base-dialog.ts"),r("aurelia-dialog"),r("./descriptors/index.ts"),r("aurelia-event-aggregator"),r("./services/screen-service.ts"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js")],i=function(e,n,r,o,i,a,l,c,d,u,p){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpDialogCustomElement=void 0;let b=class QpDialogCustomElement extends i.BaseDialog{constructor(e,n,r){super(n,!1),this.container=e,this.controller=n,this.screenService=r,this.eventSubscriptions=[],this.maximized=!1,n.settings.position||(n.settings.position=(e,n)=>this.position(e,n)),this.screenEventManager=new l.QpEventManager(e),this.container.registerInstance(l.QpEventManager,this.screenEventManager),this.eventManager=e.get(o.EventManager)}get width(){var e,n,r,o;return(null===(e=this.config)||void 0===e?void 0:e.width)?null===(n=this.config)||void 0===n?void 0:n.width:null===(o=null===(r=this.viewModelCompose)||void 0===r?void 0:r.currentViewModel)||void 0===o?void 0:o.width}get height(){var e,n;return this.config.height?this.config.height:null===(n=null===(e=this.viewModelCompose)||void 0===e?void 0:e.currentViewModel)||void 0===n?void 0:n.height}position(e,n){n&&n.classList.add("qp-dialog-app-overlay"),this.setCenteringOffset(),this.container.get(c.EventAggregator).subscribe(l.RESIZE_WINDOW,(()=>{this.setCenteringOffset()}));const r=u.PLATFORM.global.innerWidth||0,o=u.PLATFORM.global.innerHeight||0;(r<480||o<480)&&this.maximize()}get QpEventManager(){return this.screenEventManager}setCenteringOffset(){if(this.config.centeringHeight&&this.dialogElement){const e=(parseInt(this.config.centeringHeight,10)-this.dialogElement.clientHeight)/2,n=this.dialogElement.offsetTop-e-30;this.offsetTop=(n>0?-e:-e-n)+"px"}}processChangeConfig(e){const n=e.detail;return this.config=Object.assign(Object.assign({},this.config),n),this.stopProcessing(e)}detached(){super.detached(),this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[]}stopProcessing(e){return e.stopPropagation(),e.preventDefault(),!1}processRepaint(e){return r.__awaiter(this,void 0,void 0,(function*(){if(!0===e||"object"==typeof e){const n="object"==typeof e?e:{},r=new l.ScreenUpdateParams({commitChanges:n.commitChanges},this.element),o=this.screenService.executeCommand("Repaint",r);n.synchronous&&(yield o)}}))}activate(e){const n=Object.create(null,{activate:{get:()=>super.activate}});var o,i;return r.__awaiter(this,void 0,void 0,(function*(){n.activate.call(this,e),this.config=e;const a=e.rootElement||(null===(o=e.context)||void 0===o?void 0:o.element);if(this.eventSubscriptions.push(this.screenEventManager.subscribe("ExecuteCommand",(e=>r.__awaiter(this,void 0,void 0,(function*(){var n;const r=null===(n=null==e?void 0:e.Params)||void 0===n?void 0:n.dialogCallback;if(r){if(r.viewName=this.config.templateId,(r.dialogResult===l.WebDialogResult.OK||r.dialogResult===l.WebDialogResult.Yes)&&this.config.command&&(e.Command=this.config.command,r.validateInput)){e.stop();return void((yield this.screenService.executeCommand(e.Command,e.Params)).succeeded&&this.controller.cancel())}r.dialogResult&&this.controller.cancel()}}))))),this.config.templateViewModel)yield this.processRepaint(this.config.autoRepaint);else{let e;if(this.config.template?(e=document.createElement("template"),e.innerHTML=this.config.template,e=e.content.firstChild):e=a.querySelector(`#${this.config.templateId}`),!e)return void this.controller.cancel();this.eventTarget=e,this.eventTarget.dispatchEvent(new CustomEvent("activate-dialog",{detail:{dialogElement:this.element}}));let n=this.config.autoRepaint,r=e.getAttribute("auto-repaint");if(r){if(r=JSON.parse(r.replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": ')),"object"!=typeof r&&"boolean"!=typeof r)throw new Error("auto-repaint attribute is of wrong type");n=r}yield this.processRepaint(n);let o=e.querySelector("footer");if(o){const n=e.cloneNode(!0);o=n.querySelector("footer"),this.footerTemplate=o.innerHTML,o.remove(),this.template=n.innerHTML}else this.template=null==e?void 0:e.innerHTML,this.footerTemplate="";this.config.caption=(null===(i=e.au)||void 0===i?void 0:i.controller.viewModel.caption)||e.getAttribute("caption")||this.config.caption;const l=e.getAttribute("width"),c=e.getAttribute("height");l&&(this.config.width=l),c&&(this.config.height=c);const d=e.getAttribute("class");!this.config.cssClass&&d&&"au-target"!==d&&(this.config.cssClass=d)}}))}canDeactivate(e){if(this.viewModelCompose){const n=this.viewModelCompose.currentViewModel;if(n&&n.canDeactivate)return n.canDeactivate(e)}return!this.config.deactivateValidator||this.config.deactivateValidator(e)}deactivate(e){var n;e.wasCancelled||void 0!==e.output||(e.output=void 0),null===(n=this.eventTarget)||void 0===n||n.dispatchEvent(new CustomEvent("deactivate-dialog",{detail:{dialogElement:this.element,result:e}}))}maximize(){this.maximized=!this.maximized}};r.__decorate([o.observable,r.__metadata("design:type",Object)],b.prototype,"viewModelCompose",void 0),r.__decorate([(0,p.computedFrom)("config","config.width","viewModelCompose","viewModelCompose.currentViewModel","viewModelCompose.currentViewModel.width"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"width",null),r.__decorate([(0,p.computedFrom)("config.height","viewModelCompose","viewModelCompose.currentViewModel","viewModelCompose.currentViewModel.height"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"height",null),b=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[o.Container,a.DialogController,d.ScreenService])],b),n.QpDialogCustomElement=b}.apply(n,o),void 0===i||(e.exports=i)},"controls/dialog/base-dialog/qp-resizable":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./descriptors/index.ts"),r("aurelia-event-aggregator")],i=function(e,n,r,o,i,a){"use strict";var l;Object.defineProperty(n,"__esModule",{value:!0}),n.QpResizableCustomElement=void 0;let c=l=class QpResizableCustomElement{constructor(e,n){this.container=e,this.eventAggregator=n,this.pointerStart={dx:0,dy:0},this.resizeDirection="",this.pointerEventSubscriptions=[],this.eventManager=e.get(o.EventManager)}attached(){var e,n,r,o,i,a,l;this.element&&(this.dialogElement=this.element.querySelector((null===(e=this.resizableConfig)||void 0===e?void 0:e.dialogSelector)||d),this.headerElement=this.element.querySelector((null===(n=this.resizableConfig)||void 0===n?void 0:n.headerSelector)||u),this.qpRzCenterElement=this.element.querySelector((null===(r=this.resizableConfig)||void 0===r?void 0:r.rzCenterSelector)||p),this.minWidth=null!==(i=null===(o=this.resizableConfig)||void 0===o?void 0:o.minWidth)&&void 0!==i?i:g,this.minHeight=null!==(l=null===(a=this.resizableConfig)||void 0===a?void 0:a.minHeight)&&void 0!==l?l:b)}detached(){this.pointerEventSubscriptions.forEach((e=>e.dispose())),this.pointerEventSubscriptions=[],this.dialogElement&&(this.dialogElement.style.bottom="",this.dialogElement.style.right="",this.eventAggregator.publish(i.RESIZE_WINDOW))}startResizing(e,n){if(!n.currentTarget||!this.dialogElement||!this.resizableElement)return!0;this.resizableElement.setPointerCapture(n.pointerId),this.pointerEventSubscriptions.push(this.eventManager.addEventListener(this.resizableElement,"pointerup",(e=>this.stopResizing(e)),o.delegationStrategy.none,!0)),this.pointerEventSubscriptions.push(this.eventManager.addEventListener(this.resizableElement,"pointermove",(e=>this.resized(e)),o.delegationStrategy.none,!0)),this.resizeDirection=e;const r=this.dialogElement.getBoundingClientRect(),i=this.resizableElement.getBoundingClientRect();return this.dialogElement.style.position="absolute",this.dialogElement.classList.add("qp-resized"),this.pointerStart={dx:n.x-r.x,dy:n.y-r.y,x:n.x,y:n.y,width:i.width,height:i.height},this.dialogElement.style.top=`${r.y}px`,this.dialogElement.style.left=`${r.x}px`,this.width=`${i.width}px`,this.height=`${i.height}px`,this.dialogElement.style.bottom="",this.dialogElement.style.right="",!0}stopResizing(e){return!this.resizableElement||(this.pointerEventSubscriptions.forEach((e=>e.dispose())),this.pointerEventSubscriptions=[],this.resizableElement.releasePointerCapture(e.pointerId),this.resizeDirection="",!1)}resized(e){if(!this.resizeDirection||!this.resizableElement||!this.dialogElement)return!0;switch(e.preventDefault(),this.resizeDirection){case"n":case"ne":case"nw":{const n=(this.pointerStart.height||0)-e.y+(this.pointerStart.y||0);if(n<this.minHeight)break;this.dialogElement.style.top=e.y-this.pointerStart.dy+"px",this.height=`${n}px`}}switch(this.resizeDirection){case"s":case"sw":case"se":{const n=(this.pointerStart.height||0)+e.y-(this.pointerStart.y||0);if(n<this.minHeight)break;this.height=`${n}px`}}switch(this.resizeDirection){case"w":case"nw":case"sw":{const n=(this.pointerStart.width||0)-e.x+(this.pointerStart.x||0);if(n<this.minWidth)break;this.dialogElement.style.left=e.x-this.pointerStart.dx+"px",this.width=`${n}px`}}switch(this.resizeDirection){case"e":case"ne":case"se":{const n=(this.pointerStart.width||0)+e.x-(this.pointerStart.x||0);if(n<this.minWidth)break;this.width=`${n}px`}}return this.eventAggregator.publish(i.RESIZE_WINDOW),!1}setHeight(e){e>=this.minHeight&&(this.height=`${e}px`)}maximizedChanged(){this.dialogElement&&!this.hideMaximizer&&(this.dialogElement.classList.contains("qp-maximized")?(this.dialogElement.classList.remove("qp-maximized"),this.qpRzCenterElement&&(this.qpRzCenterElement.style.width="",this.qpRzCenterElement.style.height=""),this.width=this.resizableElementSize.width,this.height=this.resizableElementSize.height):(this.resizableElementSize={width:this.width,height:this.height},this.width=void 0,this.height=void 0,this.resizableElement&&(this.resizableElement.style.width="",this.resizableElement.style.height=""),this.dialogElement.classList.add("qp-maximized"),this.qpRzCenterElement&&(this.qpRzCenterElement.style.width="100vw",this.qpRzCenterElement.style.height="100vh")),this.eventAggregator.publish(i.RESIZE_WINDOW))}static ProcessContent(e,n,r){const o=document.createElement("template");o.setAttribute("replace-part","content");const i=Array.from(r.childNodes);return i.forEach((e=>{const n=e;n.setAttribute&&n.setAttribute("with.bind","$parent")})),o.content.append(...i),r.replaceChildren(o),!0}};r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],c.prototype,"element",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"resizableConfig",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],c.prototype,"maximized",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],c.prototype,"hideMaximizer",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],c.prototype,"height",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],c.prototype,"width",void 0),c=l=r.__decorate([o.autoinject,o.containerless,(0,o.processContent)(l.ProcessContent),r.__metadata("design:paramtypes",[o.Container,a.EventAggregator])],c),n.QpResizableCustomElement=c;const d="ux-dialog",u=".qp-dialog-header",p=".qp-rz-center",b=50,g=150}.apply(n,o),void 0===i||(e.exports=i)},"controls/dialog/edit-dialog-base/qp-edit-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/index.ts"),r("aurelia-framework"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("aurelia-dialog"),r("./controls/dialog/base-dialog/base-dialog-with-events.ts")],i=function(e,n,r,o,i,a,l,c){"use strict";var d;Object.defineProperty(n,"__esModule",{value:!0}),n.QpEditDialogCustomElement=void 0;let u=d=class QpEditDialogCustomElement extends c.BaseDialogWithEvents{constructor(e,n,r){super(r,e,!1),this.controller=e,this.element=n,this.msg=o.Messages,this.resetToDefaultButtonConfig={text:o.Messages.ResetToDefault,id:"btnResetToDefault",enabled:!0,class:"edit-action-button"},this.applyButtonConfig={text:o.Messages.Apply,id:"btnApply",class:"primary-button  edit-action-button",dialogResult:1,enabled:!0},this.cancelButtonConfig={text:o.Messages.Cancel,id:"btnCancel",dialogResult:2,enabled:!0,class:"edit-action-button"},(null==e?void 0:e.settings)&&(e.settings.position=(e,n)=>{n&&n.classList.add("qp-dialog-app-overlay"),e&&e.classList.add("edit-dialog-container")})}activate(e){this.dialogConfig=e}resetConfigurationToDefault(){this.dialogConfig.resetToDefault()}applyConfiguration(){this.controller.ok(this.dialogConfig.getResult())}close(){this.controller.cancel()}static ProcessContent(e,n,r){const o=document.createElement("template");o.setAttribute("replace-part","content");const i=Array.from(r.childNodes);return i.forEach((e=>{const n=e;n.setAttribute&&n.setAttribute("with.bind","$parent")})),o.content.append(...i),r.replaceChildren(o),!0}};r.__decorate([i.bindable,r.__metadata("design:type",Object)],u.prototype,"dialogConfig",void 0),u=d=r.__decorate([i.autoinject,(0,i.processContent)(d.ProcessContent),r.__metadata("design:paramtypes",[l.DialogController,Element,a.EventManager])],u),n.QpEditDialogCustomElement=u}.apply(n,o),void 0===i||(e.exports=i)},"controls/dialog/edit-dialog-base/qp-edit-element":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("aurelia-framework"),r("./controls/dialog/edit-dialog-base/types.ts"),r("./controls/dialog/edit-dialog-base/utils.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpEditElementCustomElement=void 0;let c=class QpEditElementCustomElement{get active(){return this.config.hovered||this.config.selected}get upperDropzoneVisible(){return this.config.id===this.upperDropzoneId}get bottomDropzoneVisible(){return this.config.id===this.bottomDropzoneId}get actionsAreVisible(){return this.actions.some((e=>e.isVisible(this.active,this.config)))}activate(){this.dragInfo||(0,l.dispatchEditEvent)(a.EditElementEvents.activated,this.config)}deactivate(){(0,l.dispatchEditEvent)(a.EditElementEvents.deactivated,this.config)}processDragStart(e){return this.onDragEvent(e,a.EditElementEvents.dragStart)}processDragOver(e){return!!this.options.dropEvents&&(e.preventDefault(),this.onDragEvent(e,a.EditElementEvents.dragOver,this.isPointAfterMiddle(e)))}processDragLeave(e){return!!this.options.dropEvents&&(e.preventDefault(),e.stopImmediatePropagation(),e.target!==this.element||this.onDragEvent(e,a.EditElementEvents.dragLeave))}processDrop(e){return!!this.options.dropEvents&&(e.preventDefault(),this.onDragEvent(e,a.EditElementEvents.drop,this.isPointAfterMiddle(e)))}processClick(e){return(0,l.dispatchEditEvent)(a.EditElementEvents.select,{originalEvent:e,item:this.config,itemType:this.options.itemType}),!0}processAction(e,n){return e.stopPropagation(),!(n.isVisible(this.active,this.config)&&n.isEnabled(this.active,this.config)&&!n.isReadonly(this.config))||(this.config=n.onClick(this.config),!0)}onDragEvent(e,n,r){return e.stopPropagation(),(0,l.dispatchEditEvent)(n,{originalEvent:e,item:this.config,itemType:this.options.itemType,after:r}),!0}isPointAfterMiddle(e){const n=e.pageY,r=this.element.getBoundingClientRect(),o=this.dropZoneElement&&this.dropZoneElement.getBoundingClientRect().height||0;return n>r.y+(r.height+(this.upperDropzoneVisible?o:-o))/2}};r.__decorate([i.bindable,r.__metadata("design:type",Object)],c.prototype,"config",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],c.prototype,"options",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Array)],c.prototype,"actions",void 0),r.__decorate([i.bindable,r.__metadata("design:type",String)],c.prototype,"upperDropzoneId",void 0),r.__decorate([i.bindable,r.__metadata("design:type",String)],c.prototype,"bottomDropzoneId",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],c.prototype,"dragInfo",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],c.prototype,"dropInfo",void 0),r.__decorate([(0,o.computedFrom)("config.hovered","config.selected"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],c.prototype,"active",null),r.__decorate([(0,o.computedFrom)("config.id","upperDropzoneId"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],c.prototype,"upperDropzoneVisible",null),r.__decorate([(0,o.computedFrom)("config.id","bottomDropzoneId"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],c.prototype,"bottomDropzoneVisible",null),r.__decorate([(0,o.computedFrom)("config","actions","active"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],c.prototype,"actionsAreVisible",null),c=r.__decorate([i.containerless],c),n.QpEditElementCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"./controls/dialog/edit-dialog-base/types.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EditElementType=n.EditElementEvents=void 0,function(e){e.activated="activated",e.deactivated="deactivated",e.select="elementSelect",e.dragStart="elementDragStarted",e.dragOver="elementDragOver",e.drop="elementDrop",e.dragLeave="elementDragLeave",e.unchooseElement="unchooseElement",e.preferenceChanged="preferenceChanged",e.addElementToEnd="addElementToEnd"}(n.EditElementEvents||(n.EditElementEvents={})),function(e){e.available="available",e.choosen="choosen"}(n.EditElementType||(n.EditElementType={}))}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./controls/dialog/edit-dialog-base/utils.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.dispatchEditEvent=void 0,n.dispatchEditEvent=function dispatchEditEvent(e,n){const r=new CustomEvent(e,{bubbles:!0,detail:n});document.body.dispatchEvent(r)}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"controls/dialog/informer/qp-informer-rack":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o,i){"use strict";var a;Object.defineProperty(n,"__esModule",{value:!0}),n.QpInformerRackCustomElement=n.fatalError=n.hideInformer=n.showInformer=void 0;(0,i.getLogger)("qp-informer-rack");function hideInformer(e){const n=c.singleRack;if(n)for(let r=0;r<n.messages.length;++r)e===n.messages[r]&&n.messages.splice(r,1)}n.showInformer=function showInformer(e,n){const r=c.singleRack;return r?(n=n||"error",r.messages.push({message:e,status:n}),{dispose:()=>{hideInformer(r.messages[r.messages.length-1])}}):{dispose:()=>{}}},n.hideInformer=hideInformer;let l=0;n.fatalError=function fatalError(e,n){console.error("Fatal error: ",e),null==n||n.classList.add("fatal-error");const r=document.createElement("div");r.setAttribute("id",`fatal-error-${l}`),r.style.top=20+60*l+"px",r.innerHTML=e,r.classList.add("fatal-error-box"),document.body.appendChild(r),++l};let c=a=class QpInformerRackCustomElement{constructor(){this.messages=[],a.singleRack=this}};c=a=r.__decorate([(0,o.customElement)("qp-informer-rack"),o.autoinject,r.__metadata("design:paramtypes",[])],c),n.QpInformerRackCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"controls/dialog/informer/qp-informer":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("controls/dialog/informer/qp-informer-rack"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./utils/index.ts"),r("./utils/control-helper.ts")],i=function(e,n,r,o,i,a,l,c){"use strict";var d;Object.defineProperty(n,"__esModule",{value:!0}),n.setInformerClosingTimeout=n.QpInformerCustomElement=void 0;(0,a.getLogger)("qp-informer");let u=d=class QpInformerCustomElement{constructor(e,n){this.element=e,this.bindingEngine=n,this.hidden=!1}configChanged(e,n){void 0===n&&((0,l.applyDefaultValues)(e,d.defaultConfig),this.statusObserver||(this.statusObserver=this.bindingEngine.propertyObserver(this.config,"status").subscribe((e=>{this.hidden=!1})))),this.message=unescape(this.config.message)}detached(){this.statusObserver&&this.statusObserver.dispose()}attached(){setTimeout((()=>{this.closeNotification()}),d.CLOSE_TIMEOUT)}closeNotification(){return this.closing="qp-closing",setTimeout((()=>{var e;this.hidden=!0,this.closing=void 0,(0,i.hideInformer)(this.config),null===(e=this.element.parentElement)||void 0===e||e.removeChild(this.element)}),300),!1}};function setInformerClosingTimeout(e){u.CLOSE_TIMEOUT=e}u.defaultConfig={hidden:!1},u.CLOSE_TIMEOUT=1e4,r.__decorate([o.bindable,r.__metadata("design:type",Object)],u.prototype,"config",void 0),u=d=r.__decorate([o.autoinject,(0,o.customElement)("qp-informer"),r.__metadata("design:paramtypes",[Element,o.BindingEngine])],u),n.QpInformerCustomElement=u,n.setInformerClosingTimeout=setInformerClosingTimeout,(0,c.registerQAObject)("setInformerClosingTimeout",setInformerClosingTimeout)}.apply(n,o),void 0===i||(e.exports=i)},"controls/dialog/long-run/qp-long-run":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-event-aggregator"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./descriptors/index.ts"),r("./utils/index.ts"),r("./services/messages.ts"),r("./services/screen-service.ts")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";var p;Object.defineProperty(n,"__esModule",{value:!0}),n.QpLongRunCustomElement=void 0;(0,a.getLogger)("qp-long-run");let b=p=class QpLongRunCustomElement{constructor(e,n,r,o,i){this.container=e,this.element=n,this.bindingEngine=r,this.eventAggregator=o,this.tq=i,this.hidden=!1,this.eventSubscriptions=[],this.msg=d.Messages}get LongRunMessages(){return this.config&&this.config.longRunMessage&&this.config.longRunMessage.split("\n")||[]}get iconName(){switch(this.config.status){case"aborted":return"errorExclamation";case"completed":return"successCheckFilled";case"completedwithwarning":return"warningExclamationFilled"}}attached(){this.eventSubscriptions.push(this.eventAggregator.subscribe(l.CALLBACK_STARTED_EVENT,(e=>{e&&"Repaint"!==e&&"ElapsedTime"!==e&&"LongRun"!==e&&this.closeNotification(0)}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-cleared",((e=!1)=>{if(this.config){if(this.stopLongRunTimer(),this.config.spinHidden=!0,e&&this.closeNotification(300),"completed"===this.config.status)return;this.config.hidden=!0}}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-started",(e=>{if(this.config){const longrunStartedHandler=()=>{this.timerId=setInterval((()=>{this.longRunTimer()}),200),this.config.hidden=!1,this.config.spinHidden=!1,this.config.enabled=!0,this.config.longRunCompleted="",this.config.longRunMessage=`${e.message}`,this.config.status="inprocess",this.container.get(u.ScreenService).unregisterPostponedTask(longrunStartedHandler)};this.container.get(u.ScreenService).registerPostponedTask(longrunStartedHandler)}}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-succeded",(e=>{this.config&&(this.stopLongRunTimer(),this.config.hidden=!1,this.config.spinHidden=!0,this.config.enabled=!0,e.message&&(this.config.longRunMessage=e.message),this.config.status="completed")}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-succeded-with-warning",(e=>{this.config&&(this.stopLongRunTimer(),this.config.hidden=!1,this.config.spinHidden=!0,this.config.enabled=!0,e.message&&(this.config.longRunMessage=e.message),this.config.status="completedwithwarning")}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-aborted",(e=>{this.config&&(this.stopLongRunTimer(),this.config.hidden=!1,this.config.spinHidden=!0,this.config.enabled=!0,e.message&&(this.config.longRunMessage=e.message),this.config.status="aborted")}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("default-longrun-switched-off",(()=>{this.config.switchedOff=!0}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("default-longrun-switched-on",(()=>{this.config.switchedOff=!1})))}configChanged(e,n){void 0===n&&((0,c.applyDefaultValues)(e,p.defaultConfig),this.statusObserver||(this.statusObserver=this.bindingEngine.propertyObserver(this.config,"status").subscribe((e=>{this.hidden=""===e,"inprocess"!==e&&this.tq.queueTask((()=>{delete window.longRunInProcess}))}))))}detached(){this.statusObserver&&this.statusObserver.dispose(),this.eventSubscriptions.forEach((e=>e.dispose()))}closeNotification(e){return this.closing="qp-closing",setTimeout((()=>{this.config.status="",this.hidden=!0,this.closing=void 0}),e),!1}stopProcessing(e){if("inprocess"!==this.config.status)return!0;const n=new CustomEvent("cancel-long-run",{bubbles:!0,detail:{event:e}});return this.element.dispatchEvent(n),this.eventAggregator.publish("cancel-long-run"),!1}longRunTimer(){null==this.startTime&&(this.startTime=new Date);const e=(new Date).getTime()-this.startTime.getTime();let n=Math.floor(e/1e3);n-=86400*Math.floor(n/86400);const r=Math.floor(n/3600);n-=3600*r;const o=Math.floor(n/60);n-=60*o,this.config.longRunCompleted=[r.toString().padStart(2,"0"),o.toString().padStart(2,"0"),n.toString().padStart(2,"0")].join(":")}stopLongRunTimer(){this.timerId&&(clearInterval(this.timerId),delete this.timerId),delete this.startTime}};b.defaultConfig={hidden:!0,switchedOff:!1},r.__decorate([i.bindable,r.__metadata("design:type",Object)],b.prototype,"config",void 0),r.__decorate([(0,i.computedFrom)("config","config.longRunMessage"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"LongRunMessages",null),r.__decorate([(0,i.computedFrom)("config.status"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"iconName",null),b=p=r.__decorate([i.autoinject,(0,i.customElement)("qp-long-run"),r.__metadata("design:paramtypes",[i.Container,Element,i.BindingEngine,o.EventAggregator,i.TaskQueue])],b),n.QpLongRunCustomElement=b}.apply(n,o),void 0===i||(e.exports=i)},"controls/dialog/quick-processing/qp-quick-processing":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-event-aggregator"),r("aurelia-framework"),r("./descriptors/index.ts"),r("./descriptors/index.ts"),r("./controls/dialog/base-dialog/dialog-helper.ts"),r("./dependency-property-injection/index.ts"),r("./services/messages.ts"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js")],i=function(e,n,r,o,i,a,l,c,d,u,p){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpQuickProcessingCustomElement=void 0;let b=class QpQuickProcessingCustomElement{constructor(e,n,r,o,i,a){this.container=e,this.element=n,this.bindingEngine=r,this.eventAggregator=o,this.screenEventManager=i,this.redirector=a,this.messages=[],this.cancelConfig={text:u.Messages.Cancel,id:"quick_processing_cancel",enabled:!0,tabIndex:-1},this.dialogConfig={context:this,templateId:"ProcessingResults",hideMaximizer:!0,hideCloseButton:!0},this.cancelling=!1,this.dialogShown=!1,this.autoRedirects=[],this.autoRedirectsDone=new Set,this.autoRedirectIndex=0,this.haveErrors=!1,this.subscriptions=[],this.Msg=u.Messages}attached(){let e=this.eventAggregator.subscribe(a.CALLBACK_COMPLETED_EVENT,(e=>{var n;(null==e?void 0:e.command)&&1===(null==e?void 0:e.dialogResult)&&(null==e?void 0:e.validationOk)&&this.quickProcessingActions&&this.quickProcessingActions.indexOf(null==e?void 0:e.command.toLowerCase())>=0?(this.messages=[],this.messagesSize=0,this.messagesPreviousSize=0,this.autoRedirects=[],this.autoRedirectsDone.clear(),this.autoRedirectIndex=0,this.status="in-progress",this.completedMessage="",this.cancelling=!1,this.dialogConfig.cssClass="status-dialog-in-progress",this.showDialog()):(!(null==e?void 0:e.command)||!this.quickProcessingActions||this.quickProcessingActions&&-1===this.quickProcessingActions.indexOf(null==e?void 0:e.command.toLowerCase())&&"Repaint"!==(null==e?void 0:e.command)&&"ElapsedTime"!==(null==e?void 0:e.command)&&"LongRun"!==(null==e?void 0:e.command))&&(null===(n=this.currentDialog)||void 0===n||n.close(!1))}));this.subscriptions.push(e),e=this.eventAggregator.subscribe(a.QuickProcessingActionsEvent,(e=>{this.quickProcessingActions=e.quickProcessingActions.map((e=>e.toLowerCase()))})),this.subscriptions.push(e),e=this.eventAggregator.subscribe(l.QuickProcessingChangedEvent,(e=>{e.log&&(this.haveErrors=e.log.some((e=>e.error)),this.messages=e.log.map((e=>this.createLogMessage(e))),this.messagesSize=this.messages.length,this.messagesSize!==this.messagesPreviousSize?(this.messagesPreviousSize=this.messagesSize,this.messagesSizeChanged=!0):this.messagesSizeChanged=!1,this.autoRedirects=e.log.filter((e=>e.autoRedirect&&e.redirect)).map((e=>e.redirect)),"in-progress"!==this.status&&this.completed(),this.showDialog())})),this.subscriptions.push(e),e=this.eventAggregator.subscribe("longrun-started",(e=>{this.timerId||(this.timerId=setInterval((()=>{this.longRunTimer()}),200)),this.longrunStatusMessage=`${e.message}`})),this.subscriptions.push(e),e=this.eventAggregator.subscribe("longrun-aborted",(e=>{this.status="aborted"})),this.subscriptions.push(e);const done=e=>{this.completedMessage=e.message,this.dialogShown&&this.completed()};e=this.eventAggregator.subscribe("longrun-succeded",done),this.subscriptions.push(e),e=this.eventAggregator.subscribe("longrun-succeded-with-warning",done),this.subscriptions.push(e)}get longrunStatusMessagesList(){return this.longrunStatusMessage&&this.longrunStatusMessage.split("\n")||[]}cancellingChanged(e){this.cancelConfig.enabled=!e}position(e,n){if(n){n.classList.add("qp-dialog-app-overlay");let e=this.eventAggregator.subscribe("longrun-cleared",(()=>{n.classList.add("hidden")}));this.subscriptions.push(e),e=this.eventAggregator.subscribe("longrun-started",(e=>{n.classList.remove("hidden")})),this.subscriptions.push(e)}e.classList.add("qp-status-dialog")}cancel(){"in-progress"===this.status&&(this.eventAggregator.publish("cancel-long-run"),this.cancelling=!0)}longRunTimer(){this.startTime||(this.startTime=new Date);const e=(new Date).getTime()-this.startTime.getTime();let n=Math.floor(e/1e3);n-=86400*Math.floor(n/86400);const r=Math.floor(n/3600);n-=3600*r;const o=Math.floor(n/60);n-=60*o,this.longRunTimerMessage=[r.toString().padStart(2,"0"),o.toString().padStart(2,"0"),n.toString().padStart(2,"0")].join(":")}stopLongRunTimer(){this.timerId&&(clearInterval(this.timerId),this.timerId=void 0),this.startTime=void 0}detached(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}completed(){this.stopLongRunTimer(),"aborted"!==this.status&&(this.status=this.haveErrors?"not-completed":"completed"),this.dialogConfig.cssClass=`status-dialog-${this.status}`,this.dialogConfig.hideCloseButton=!1,this.eventAggregator.publish("longrun-cleared",{hide:!0});for(const e of this.autoRedirects)this.autoRedirectsDone.has(e.redirects[0].url)||(this.autoRedirectsDone.add(e.redirects[0].url),setTimeout((()=>{this.redirector.doRedirects(e)}),5e3*this.autoRedirectIndex),this.autoRedirectIndex++)}createLogMessage(e){const n={text:e.text.map((e=>"link"===e.type?{type:"link",text:e.text}:{type:"text",text:e.text})),error:e.error};if(e.redirect){const r=Object.assign(Object.assign({},e.redirect),{redirects:e.redirect.redirects.map((e=>{const n=Object.assign({},e.queryParams);return delete n.AutoExportPDF,Object.assign(Object.assign({},e),{queryParams:n})}))});n.redirectAction=()=>{this.redirector.doRedirects(r)}}return n}showDialog(){if(this.dialogShown)return;this.dialogConfig.hideCloseButton=!0,this.dialogShown=!0,this.eventAggregator.publish("default-longrun-switched-off");const e=this.dialogHelper.openDialog(this.dialogConfig,{lock:!0,position:(e,n)=>this.position(e,n)},(e=>{this.currentDialog=e.controller}));e.catch((()=>{handleDialogHide()})),e.whenClosed((()=>{handleDialogHide()}));const handleDialogHide=()=>{this.dialogShown=!1,this.currentDialog=void 0,this.eventAggregator.publish("default-longrun-switched-on")}}};r.__decorate([i.bindable,r.__metadata("design:type",Object)],b.prototype,"config",void 0),r.__decorate([i.observable,r.__metadata("design:type",String)],b.prototype,"status",void 0),r.__decorate([i.observable,r.__metadata("design:type",Array)],b.prototype,"messages",void 0),r.__decorate([(0,d.newInstance)(c.DialogHelper),r.__metadata("design:type",c.DialogHelper)],b.prototype,"dialogHelper",void 0),r.__decorate([i.observable,r.__metadata("design:type",Boolean)],b.prototype,"cancelling",void 0),r.__decorate([(0,p.computedFrom)("longrunStatusMessage"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],b.prototype,"longrunStatusMessagesList",null),b=r.__decorate([d.autoinject,(0,i.customElement)("qp-quick-processing"),r.__metadata("design:paramtypes",[i.Container,Element,i.BindingEngine,o.EventAggregator,a.QpEventManager,a.RedirectHelper])],b),n.QpQuickProcessingCustomElement=b}.apply(n,o),void 0===i||(e.exports=i)},"controls/dialog/upload-dialog/qp-upload-dialog":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./dependency-property-injection/index.ts"),r("./controls/abstract/decorators/config-attributes.ts"),r("./services/screen-service.ts"),r("./descriptors/index.ts"),r("./controls/simple/image/components/index.ts"),r("./controls/dialog/base-dialog/dialog-helper.ts"),r("./controls/compound/system-menu/files-dialog-api-client.ts"),r("./services/messages.ts"),r("./services/index.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpUploadDialogCustomElement=void 0;let m=class QpUploadDialogCustomElement{constructor(e,n){this.element=e,this.container=n,this.importOptions={},this.controlError={},this.Messages=b.Messages,this.DialogMessages=f,this.PXErrorLevel=c.PXErrorLevel}attached(){var e,n;this.client=this.container.get(p.FilesDialogApiClient),this.screenService=this.container.get(l.ScreenService);const o=null===(n=null===(e=this.screenService)||void 0===e?void 0:e.model)||void 0===n?void 0:n.screenEventManager;this.listeners=new d.Disposables([o.subscribe("OpenPopup",(e=>r.__awaiter(this,void 0,void 0,(function*(){var n;e.commandName&&e.name===(null===(n=this.config)||void 0===n?void 0:n.key)&&(e.stop(),yield this.execute(e.commandName))}))))])}detached(){var e;this.client=void 0,this.screenService=void 0,null===(e=this.listeners)||void 0===e||e.dispose(),this.listeners=void 0}configChanged(){this.config&&!this.config.id&&(this.config.id=`dlg${this.config.key||"Upload"}`)}execute(e){return r.__awaiter(this,void 0,void 0,(function*(){if(!this.config)return;this.command=e;const n=this.container.get(u.DialogHelper),r={id:this.config.id,rootElement:this.element,templateId:this.config.key,context:this},o=yield n.openDialog(r,{lock:!0,keyboard:!0});o.wasCancelled||(yield o.closeResult)}))}cleanUp(){this.uploaderConfig=void 0,this.file=void 0,this.importOptions={},this.uploadedFile=void 0,this.controlError={}}deactivateDialog(e){this.cleanUp()}activateDialog(e){var n,r;if(!(null===(n=this.config)||void 0===n?void 0:n.sessionKey))throw new Error("Invalid sessionKey value");this.cleanUp(),this.file={type:"file"},this.importOptions={includeCustomColumns:!!this.config.renderImportOptions||void 0,fullSchemaCheck:!this.config.renderImportOptions&&void 0,checkIn:!!this.config.renderCheckIn||void 0},this.uploaderConfig={id:`${this.config.id}_upl_upl`,accept:null!==(r=this.config.allowedTypes)&&void 0!==r?r:"",ignoreSize:this.config.ignoreSize,singleMode:!0}}getFileToUpload(){var e,n;if(!this.file)return;let r;return"file"===this.file.type?this.uploadedFile?(r={type:"file",file:this.uploadedFile,autoSave:null===(e=this.config)||void 0===e?void 0:e.autoSave,namePrefix:null===(n=this.config)||void 0===n?void 0:n.namePrefix},r):(this.controlError[this.file.type]=this.DialogMessages.MessageSelectFile,void alert(this.controlError[this.file.type])):"link"===this.file.type?(this.file.link=this.fileLink,this.file.link?(r={type:"link",link:this.file.link},r):(this.controlError[this.file.type]=this.DialogMessages.MessageSelectLink,void alert(this.controlError[this.file.type]))):void 0}uploadClick(e){var n,o,i,a;return r.__awaiter(this,void 0,void 0,(function*(){const r=this.command,l=null===(n=this.config)||void 0===n?void 0:n.key,d=null===(o=this.config)||void 0===o?void 0:o.sessionKey,u=this.screenService,p=this.client;if(!(u&&p&&l&&r&&d))return;const b=this.getFileToUpload();if(!b)return;const g=!!this.importOptions.checkIn,m=yield p.saveFileInMemory(d,b,this.importOptions);if(!m)return this.controlError[b.type]="file"===b.type?this.DialogMessages.ErrorSelectFile:this.DialogMessages.ErrorSelectLink,void alert(this.controlError[b.type]);this.controlError[b.type]=void 0;(yield u.executeCommand(r,new c.ScreenUpdateParams({commitChanges:!1,blockPage:!0,dialogCallback:{viewName:l,dialogResult:1}},this.element))).succeeded&&(null===(i=e.target)||void 0===i||i.dispatchEvent(new CustomEvent("savedialog",{bubbles:!0})),u.model.screenEventManager.publish(new c.ExecuteCommandEvent("Repaint")),null===(a=this.fileUploadFinished)||void 0===a||a.call(this,{fileInfo:m,checkIn:g}))}))}uploadedFileChanged(){this.uploaderConfig&&(this.uploaderConfig.disableClick=!!this.uploadedFile),this.controlError.file=void 0}fileLinkChanged(){this.controlError.link=void 0}clearUploaded(){this.uploadedFile=void 0}get uploaderText(){var e;return(0,p.createAcceptList)((null===(e=this.config)||void 0===e?void 0:e.allowedTypes)||"*").map((e=>{return`*.${n=e,n.length>0&&"."===n.charAt(0)?n.substring(1):n}`;var n})).join(", ")}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],m.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],m.prototype,"fileUploadFinished",void 0),r.__decorate([o.observable,r.__metadata("design:type",File)],m.prototype,"uploadedFile",void 0),r.__decorate([o.observable,r.__metadata("design:type",String)],m.prototype,"fileLink",void 0),r.__decorate([(0,o.computedFrom)("config","config.allowedTypes"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],m.prototype,"uploaderText",null),m=r.__decorate([i.autoinject,(0,o.customElement)("qp-upload-dialog"),(0,a.configAttributes)(["id","key","sessionKey","caption","width","allowedTypes","ignoreSize","autoSave","namePrefix","renderLink","renderComment","renderImportOptions","renderCheckIn"]),r.__metadata("design:paramtypes",[Element,o.Container])],m),n.QpUploadDialogCustomElement=m;let f=class UploadDialogMessages{};f.RadioUploadFile="Upload file",f.RadioLinkFile="Link to existing file",f.CaptionUploader="Upload file",f.CaptionExistingFile="Existing file",f.CheckboxCustomColumns="Include Data From Custom Columns",f.CheckboxSchemaCheck="Check Database Structure Before Import",f.CaptionComment="Comment",f.CheckboxCheckIn="Check In",f.ButtonUpload="Upload",f.MessageSelectFile="Please select a file to upload",f.MessageSelectLink="Please specify a file link",f.ErrorSelectFile="Invalid file selected",f.ErrorSelectLink="Invalid file link selected",f=r.__decorate([g.localizable],f)}.apply(n,o),void 0===i||(e.exports=i)},"controls/index":function(e,n,r){var o,i;o=[r,n,r("plugins/payment/qp-authorize-net"),r("plugins/payment/qp-stripe"),r("plugins/payment/qp-authorize-net-hosted-form"),r("plugins/payment/qp-fortis"),r("./plugins/bank-feed/qp-plaid.ts"),r("plugins/bank-feed/qp-mx"),r("./controls/abstract/customization/customizable.ts"),r("controls/compound/grid/qp-grid"),r("controls/compound/menu/qp-menu"),r("controls/container/resizer/qp-resizer"),r("controls/container/splitter/qp-splitter"),r("controls/compound/system-menu/qp-sys-menu"),r("controls/container/tabbar/qp-tab"),r("controls/container/tabbar/qp-tabbar"),r("controls/compound/tool-bar/qp-tool-bar"),r("controls/container/wizard/qp-wizard"),r("controls/dialog/base-dialog/qp-dialog"),r("./controls/container/panel/qp-panel.ts"),r("controls/dialog/informer/qp-informer-rack"),r("controls/dialog/long-run/qp-long-run"),r("controls/dialog/quick-processing/qp-quick-processing"),r("controls/dialog/upload-dialog/qp-upload-dialog"),r("controls/simple/branch-selector/qp-branch-selector-3d"),r("controls/simple/button/qp-button"),r("controls/simple/calendar/qp-calendar"),r("controls/simple/check-box/qp-check-box"),r("controls/simple/color-picker/qp-color-picker"),r("controls/simple/date-editor/qp-datetime-edit"),r("controls/simple/date-editor/qp-datetime-edit-utc"),r("controls/simple/drop-down/qp-drop-down"),r("controls/simple/selector/qp-selector"),r("controls/simple/icon/qp-hyper-icon"),r("controls/simple/icon/qp-icon"),r("controls/simple/last-update/last-update"),r("controls/simple/loader-indicator/qp-loader-indicator"),r("controls/simple/mail-editor/qp-mail-editor"),r("controls/simple/link-editor/qp-link-editor"),r("./controls/simple/mask-editor/qp-mask-editor.ts"),r("./controls/simple/number-editor/qp-number-editor.ts"),r("controls/simple/barcode-input/qp-barcode-input"),r("controls/compound/screen-title/qp-screen-title"),r("controls/simple/segmented-selector/qp-segmented-selector"),r("controls/utility/suggester/qp-editor-wrapper"),r("controls/simple/text-editor/qp-text-editor"),r("controls/compound/address-lookup/qp-address-lookup"),r("./controls/utility/tooltip/qp-extention-cord.ts"),r("controls/utility/tooltip/qp-tooltip"),r("controls/simple/uploader/qp-uploader"),r("controls/simple/uploader/qp-multi-upload"),r("./controls/simple/text-editor/converter.ts"),r("controls/compound/system-menu/qp-note-dialog/qp-note-dialog"),r("controls/utility/wait-cursor/qp-wait-cursor"),r("controls/compound/tree/qp-tree-node"),r("controls/compound/tree/qp-tree"),r("controls/simple/external-viewer/qp-external-viewer"),r("controls/simple/color-picker/qp-color-palette"),r("controls/simple/color-picker/qp-menu-color-picker"),r("controls/utility/drop-down-frame/qp-drop-down-frame"),r("controls/utility/layout/qp-layout"),r("controls/compound/rich-text-editor/qp-rich-text-editor"),r("controls/simple/image/view/qp-image-view"),r("controls/simple/image/upload/qp-image-uploader")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g,m,f,v,y,x,C,S,D,E,k,T,_,M,R,I,F,A,O,P,H,q,L,j,N,$,B,z,V,W,U,G,Y,K,X,Q,Z,J,ee,te,ne,re,oe,ie,se,ae,le,ce,de,he,ue,pe){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configure=void 0,n.configure=function configure(e){e.globalResources([L.QpIconCustomElement,R.QpCalendarCustomElement,M.QpButtonCustomElement,I.QpCheckBoxCustomElement,D.QpInformerRackCustomElement,_.QpBranchSelector3dCustomElement,F.QpColorPickerCustomElement,Y.QpEditorWrapperCustomElement,K.QpTextEditorCustomElement,V.QpNumberEditorCustomElement,$.QpMailEditorCustomElement,B.QpLinkEditorCustomElement,z.QpMaskEditorCustomElement,W.QpBarcodeInputCustomElement,A.QpDatetimeEditCustomElement,O.QpDatetimeEditUtcCustomElement,A.DateUTCValueConverter,H.QpSelectorCustomElement,P.QpDropDownCustomElement,j.QpLastUpdateCustomElement,Z.QpTooltipCustomElement,re.QpWaitCursorCustomElement,N.QpLoaderIndicatorCustomElement,Q.QpExtentionCordCustomAttribute,E.QpLongRunCustomElement,k.QpQuickProcessingCustomElement,y.QpToolBarCustomElement,u.QpGridCustomElement,te.TextEditorValueConverter,te.MetaValueConverter,te.RemoveSCRIPTValueConverter,p.QpMenuCustomElement,X.QpAddressLookupCustomElement,q.QpHyperIconCustomElement,r.QpAuthorizeNetCustomElement,o.QpStripeCustomElement,i.QpAuthorizeNetHostedFormCustomElement,m.QpSysMenuCustomElement,ne.QpNoteDialogCustomElement,C.QpDialogCustomElement,S.QpPanelCustomElement,l.QpPlaidCustomElement,c.QpMxCustomElement,a.QpFortisCustomElement,J.QpUploaderCustomElement,ee.QpMultiUploadCustomElement,T.QpUploadDialogCustomElement,g.QpSplitterCustomElement,b.QpResizerCustomElement,v.QpTabbarCustomElement,f.QpTabCustomElement,x.QpWizardCustomElement,U.QpScreenTitleCustomElement,G.QpSegmentedSelectorCustomElement,d.CustomizableCustomElement,oe.QpTreeNodeCustomElement,ie.QpTreeCustomElement,se.QpExternalViewerCustomElement,ae.QpColorPaletteCustomElement,le.QpMenuColorPickerCustomElement,ce.QpDropDownFrameCustomElement,de.QpLayoutCustomElement,he.QpRichTextEditorCustomElement,ue.QpImageViewCustomElement,pe.QpImageUploaderCustomElement])}}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/barcode-input/qp-barcode-input":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("controls/simple/text-editor/qp-text-editor"),r("./utils/platform-dependable-utils.ts"),r("./descriptors/index.ts"),r("controls/dialog/informer/qp-informer-rack"),r("./utils/index.ts"),r("./services/screen-service.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b){"use strict";var g;Object.defineProperty(n,"__esModule",{value:!0}),n.QpBarcodeInputCustomElement=void 0;const m=(0,a.getLogger)("barcode-input");let f=g=class QpBarcodeInputCustomElement extends l.QpTextEditorCustomElement{constructor(e,n){super(e,n),this.value="",this.screenService=n.get(b.ScreenService)}stateChanged(e,n){super.stateChanged(e,n),this.state.commitChanges&&(0,u.fatalError)(`The barcode control ("${this.state.viewModeName}.${this.state.name}") must not use the "commit changes" option, because it leads to extra server requests. The control uses its own custom commit logic. Please remove &lt;PXFieldOptions.CommitChanges&gt; from the field declaration in ${this.screenService.screenID}.ts`)}configChanged(e,n){super.configChanged(e,n),e.soundControl&&(this.soundFileField=e.soundControl,this.soundSub||this.bindingEngine.propertyObserver(this.soundFileField,"value").subscribe((e=>{var n;!e||!g.allowedToPlay||this.screenService.longRunInProgress&&g.longRunInitialPlayed||(this.soundFileField.value="",g.longRunInitialPlayed=this.screenService.longRunInProgress,null===(n=this.getSound(e))||void 0===n||n.play().catch((n=>m.warn(`Audio file ${e} cannot be played: error ${n}`))))}))),this.config||(this.config={}),(0,p.applyDefaultValues)(this.config,g.defaultBICConfig);const r=["wms_success","wms_error"];for(const e of r)this.getSound(e)}attached(){super.attached(),g.allowedToPlay||(this.commandSub=this.eventAggregator.subscribe(d.CALLBACK_STARTED_EVENT,(e=>{var n;e&&(g.allowedToPlay=!0,null===(n=this.commandSub)||void 0===n||n.dispose())})))}getSound(e){var n,r;let o=g.soundCache.get(e);if(!o){if(!(null===(n=this.config)||void 0===n?void 0:n.soundPath)&&!(null===(r=this.config)||void 0===r?void 0:r.soundMapper))return m.error("Sound will not play: one of soundPath or soundMapper must be set in config"),null;let i=`${c.siteRoot||"/"}`;i.endsWith("/")||(i+="/"),o=new Audio(this.config.soundMapper?this.config.soundMapper(e):`${i}${this.config.soundPath}${e}.wav`),g.soundCache.set(e,o)}return o}processKeyDown(e){return!("Enter"===e.key&&!e.altKey)||(e.preventDefault(),e.stopPropagation(),this.sendUpdateEvent(),this.soundFileField&&(this.soundFileField.value=""),this.tq.queueTask((()=>this.screenEventManager.publish(new d.ExecuteCommandEvent(this.config.submitCommand)))),!1)}detached(){var e,n;null===(e=this.commandSub)||void 0===e||e.dispose(),null===(n=this.soundSub)||void 0===n||n.dispose(),super.detached()}};f.soundCache=new Map,f.allowedToPlay=!1,f.longRunInitialPlayed=!1,f.defaultBICConfig={soundPath:"Sounds/",submitCommand:"Scan",spellcheck:!1},r.__decorate([o.bindable,r.__metadata("design:type",String)],f.prototype,"value",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],f.prototype,"config",void 0),f=g=r.__decorate([o.autoinject,(0,o.customElement)("qp-barcode-input"),r.__metadata("design:paramtypes",[Element,i.Container])],f),n.QpBarcodeInputCustomElement=f}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/branch-selector/qp-branch-selector-3d":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/api-client.ts"),r("./utils/index.ts"),r("./controls/abstract/base-field-editor/base-field-editor.ts"),r("./descriptors/index.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";var p;Object.defineProperty(n,"__esModule",{value:!0}),n.QpBranchSelector3dCustomElement=void 0;const b={ArrowDown:1,ArrowUp:-1,Down:1,PageDown:7,PageUp:-7,Up:-1};let g=p=class QpBranchSelector3dCustomElement extends l.QpBaseFieldEditor{constructor(e,n,r,o){super(n),this.element=e,this.apiClient=r,this.busyCounter=o,this.highlightedIndex=void 0,this.autoExpandIfLessThen=3,this.treeOpen=!1,this.loadingStatus="in-sync",this.addConfigSetter("graph",(e=>this.syncPropsToConfig("graph",e))),this.addConfigSetter("viewName",(e=>this.syncPropsToConfig("view",e)))}configChanged(){}editModeChanged(e,n){e&&(this.branches||this.loadBranches(),this.selectAllText())}loadBranches(){return r.__awaiter(this,void 0,void 0,(function*(){return this.branchesPromise||(this.loadingStatus="loading",this.busyCounter.increment(),this.branchesPromise=this.apiClient.getBranchTree({dac:this.config.dac,screenId:(0,a.getScreenID)(),view:this.config.view,graph:this.config.graph,screenStateId:this.config.screenStateId}).then((e=>{this.branches=e.data,this.loadingStatus="in-sync",this.tq.flushMicroTaskQueue()})).finally((()=>{this.busyCounter.decrement()}))),this.branchesPromise}))}toggleSelector(e){if(e.preventDefault(),e.stopImmediatePropagation(),this.inputControl.focus(),this.treeOpen)this.hide();else if(this.show(),this.highlightedIndex||this.search(),void 0!==this.highlightedIndex&&this.highlightedIndex>=0){const e=this.highlightedIndex;this.tq.flushTaskQueue(),this.tq.queueTask((()=>this.scrollNodeIntoView(e)))}}select(e,n){e.canSelect&&(this.value={id:e.acctCD,text:e.acctName},this.updateToolTip(),this.hide(),this.tq.queueTask((()=>{this.selectAllText(),this.filter=""}))),null==n||n.preventDefault(),null==n||n.stopImmediatePropagation(),null==n||n.stopPropagation()}handleKey(e){const n=b[e.key];switch(void 0!==n&&this.treeOpen!==e.altKey&&(e.preventDefault(),e.stopImmediatePropagation(),this.moveCursor(n)),e.key){case"Enter":void 0!==this.highlightedIndex&&this.flatStructure[this.highlightedIndex]&&this.select(this.flatStructure[this.highlightedIndex]);break;case"Esc":case"Escape":this.hide(),e.preventDefault(),e.stopImmediatePropagation()}return!0}moveCursor(e){return r.__awaiter(this,void 0,void 0,(function*(){if(!this.treeOpen)if(this.show(),Array.isArray(this.flatStructure)&&0!==this.flatStructure.length){if("number"==typeof this.highlightedIndex&&this.highlightedIndex>=0)return}else if(yield this.loadBranches(),!Array.isArray(this.flatStructure)||0===this.flatStructure.length)return;if("number"!=typeof this.highlightedIndex||this.highlightedIndex<0)this.selectFirst();else{let n=this.highlightedIndex+e;const r=e>0?1:-1,o=(e>0?this.flatStructure.length:0)+r;for(n<0&&(n=0),n>=this.flatStructure.length&&(n=this.flatStructure.length-1);n!==o;n+=r)if(this.flatStructure[n].canSelect){this.highlightedIndex=n;break}}this.tq.flushTaskQueue(),this.scrollNodeIntoView(this.highlightedIndex||0)}))}selectFirst(e){if(this.highlightedIndex=void 0,void 0===e){if(this.value&&this.value.id){const e=this.flatStructure.filter((e=>e.acctCD===this.value.id));if(e.length>1)if(e[0].primaryGroupID){const e=this.flatStructure.findIndex((e=>e.acctCD===this.value.id&&e.primaryGroupID===e.parentBAccountID));this.highlightedIndex=-1===e?0:e}else if("branch"===e[0].type){const n=this.flatStructure.findIndex((n=>n.bAccountID===e[0].parentBAccountID&&n.parentBAccountID===n.primaryGroupID)),r=this.flatStructure.findIndex(((e,r)=>r>n&&e.acctCD===this.value.id));this.highlightedIndex=-1===r?0:r}else{const e=this.flatStructure.findIndex((e=>e.acctCD===this.value.id));this.highlightedIndex=-1===e?0:e}else{const e=this.flatStructure.findIndex((e=>e.AcctCD===this.value.id));this.highlightedIndex=-1===e?0:e}}}else for(let n=0;n<this.flatStructure.length;n++)if(this.flatStructure[n].canSelect&&(""===e||this.flatStructure[n].displaySegments.length>1)){this.highlightedIndex=n;break}if(void 0!==this.highlightedIndex&&this.highlightedIndex>=0){const e=this.highlightedIndex;this.tq.flushTaskQueue(),this.tq.queueTask((()=>this.scrollNodeIntoView(e)))}}search(e){return r.__awaiter(this,void 0,void 0,(function*(){this.show(),this.filter=e,this.branches||(yield this.loadBranches()),this.selectFirst(e)}))}toolTipShown(){return r.__awaiter(this,void 0,void 0,(function*(){this.updateToolTip()}))}updateToolTip(){return r.__awaiter(this,void 0,void 0,(function*(){if(!this.value||!this.value.id)return void(this.toolTip=[]);this.branches||(this.toolTip=[],this.toolTip.push(`${this.value.id}${this.value.text?` - ${this.value.text}`:""}`),yield this.loadBranches());const{id:e}=this.value;if(e){let e=-1;const n=[];do{e=this.flatStructure.findIndex(((n,r)=>r>e&&n.AcctCD===this.value.id)),e>-1&&n.push(e)}while(-1!==e);for(e=0;e<n.length;e++){const r=n[e];let o=r>0&&this.flatStructure[r].level>0?r-1:-1;if(o>0)for(;o>0&&!(this.flatStructure[o].level<this.flatStructure[r].level);o--);let i=o>0&&this.flatStructure[o].level>0?o-1:-1;if(i>0)for(;i>0&&!(this.flatStructure[i].level<this.flatStructure[o].level);i--);if((this.flatStructure[r].parentBAccountID===this.flatStructure[r].primaryGroupID||void 0===this.flatStructure[r].primaryGroupID)&&(o<0||this.flatStructure[o].parentBAccountID===this.flatStructure[o].primaryGroupID||void 0===this.flatStructure[o].primaryGroupID)&&(i<0||this.flatStructure[i].parentBAccountID===this.flatStructure[i].pimaryGroupID||void 0===this.flatStructure[i].primaryGroupID)){this.toolTip=[],i>-1&&this.toolTip.push(`${this.flatStructure[i].acctCD}${this.flatStructure[i].acctName?` - ${this.flatStructure[i].acctName}`:""}`),o>-1&&this.toolTip.push(`${this.flatStructure[o].acctCD}${this.flatStructure[o].acctName?` - ${this.flatStructure[o].acctName}`:""}`),this.toolTip.push(`${this.value.id}${this.value.text?` - ${this.value.text}`:""}`);break}}}}))}get ROMode(){var e,n;return(null===(e=this.config)||void 0===e?void 0:e.readOnly)||!1===(null===(n=this.config)||void 0===n?void 0:n.enabled)}onFocus(){var e;return null===(e=this.inputControl)||void 0===e||e.select(),!0}onBlur(){var e,n,r,o;if(!1!==this.config.enabled&&!this.config.readOnly)if(""===this.inputControl.value.trim())(null===(e=this.value)||void 0===e?void 0:e.id)&&(this.value={id:"",text:""});else if(this.inputControl.value.trim()!==(null===(r=null===(n=this.value)||void 0===n?void 0:n.id)||void 0===r?void 0:r.trim())){const e=null===(o=this.flatStructure)||void 0===o?void 0:o.find((e=>e.acctCD.trim().toLowerCase()===this.inputControl.value.trim().toLowerCase()));this.value=e?{id:e.acctCD,text:e.acctName}:{id:this.inputControl.value,text:""}}return this.filter="",this.hide(),!0}syncPropsToConfig(e,n){this.config&&(this.config[e]=n)}static findParent(e,n){var r,o;if(e)for(const i of n){if(null===(r=i.children)||void 0===r?void 0:r.find((n=>n.acctCD===e.acctCD&&n.primaryGroupID===n.parentBAccountID)))return i;if(null===(o=i.children)||void 0===o?void 0:o.find((n=>n.acctCD===e.acctCD)))return i;if(i.children){const n=p.findParent(e,i.children);if(n)return n}}}findFilteredParent(e){var n;for(const r of this.filtered){if(r.bAccountID===e.bAccountID&&r.parentBAccountID===e.parentBAccountID)return r;if(null===(n=r.children)||void 0===n?void 0:n.length)for(const n of r.children)if(n.bAccountID===e.bAccountID&&n.parentBAccountID===e.parentBAccountID)return n}}toggleExpand(e,n){const r=this.findFilteredParent(e);if(r){const n=p.findParent(r,this.filtered);r.expand=!r.expand,e.expand=r.expand;const o=this.flatStructure.indexOf(e)+1;if(!1===e.expand){let n=this.flatStructure.findIndex((function(n,r){return!(r<o||n.level>e.level)}));-1===n&&(n=this.flatStructure.length);const r=n-o;r>0&&o<this.flatStructure.length&&this.flatStructure.splice(o,r)}else{let e=!1;n&&(e=n.children.indexOf(r)===n.children.length-1);const i=this.flatten(r.children,r.level+1,e);this.flatStructure.splice(o,0,...i)}}n.stopPropagation(),n.stopImmediatePropagation()}scrollNodeIntoView(e){var n,r;let o;o="nearest",e===(null===(n=this.flatStructure)||void 0===n?void 0:n.length)-1&&(o="start");const i=null===(r=this.treeView)||void 0===r?void 0:r.querySelectorAll(".branch-selector__node")[e];if(i){const e="scrollBehavior"in document.documentElement.style?{block:o}:void 0;i.scrollIntoView(e)}}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}show(){this.documentMouseDownSubscription=this.eventAggregator.subscribe(c.MOUSE_DOWN_REACHED_BODY,(()=>this.hide())),this.treeOpen=!0}hide(){this.unsubscribeFromMouseDownOnDocument(),this.treeOpen=!1}ignoreMouseDown(e){e.preventDefault(),e.stopImmediatePropagation()}selectAllText(){const e=this.inputControl.value.length;this.inputControl.setSelectionRange(0,e)}highlight(e){this.highlightedNode=e,e.canSelect&&(this.highlightedIndex=this.flatStructure.indexOf(e))}flatten(e,n,r,o=[]){var i,a,l;for(let c=0;c<e.length;c++){const d=e[c];d.level=n,d.lastChild=r;const u=this.value&&this.value.id&&(null===(i=d.children)||void 0===i?void 0:i.find((e=>{var n;return e.acctCD===this.value.id||(null===(n=e.children)||void 0===n?void 0:n.find((e=>e.acctCD===this.value.id)))})));let p=!!u;p&&(null==u?void 0:u.primaryGroupID)&&u.primaryGroupID!==u.parentBAccountID&&(p=!1),d.expand=d.expand||(null===(a=d.children)||void 0===a?void 0:a.length)&&(null===(l=d.children)||void 0===l?void 0:l.length)<=this.autoExpandIfLessThen||p,o.push(d),d.expand&&d.children&&(d.expand=!0,this.flatten(d.children,n+1,c===e.length-1,o))}return o}conditionsChanged(){if(!Array.isArray(this.branches))return;this.highlightedIndex=void 0;const e=this.filter&&this.filter.toLocaleLowerCase()||"";this.filtered=function filterBranches(e,n){var r;const o=[];for(const i of e){const{acctCD:e,acctName:l,bAccountID:c,parentBAccountID:d,canSelect:u,type:p,primaryGroupID:b}=Object.assign({},i),g=(null===(r=i.children)||void 0===r?void 0:r.length)?filterBranches(i.children,n):[];(g.length||e.toLocaleLowerCase().indexOf(n)>-1||l.toLocaleLowerCase().indexOf(n)>-1)&&o.push({acctCD:e,acctName:l,bAccountID:c,children:g.length?g:void 0,parentBAccountID:d,primaryGroupID:b,type:g.length?p:"branch",canSelect:u,displaySegments:(0,a.markHighlights)(n,`${e} - ${l}`)})}return o}(this.branches,e);const n=this.flatten(this.filtered,0,1===this.filtered.length);this.flatStructure=n}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],g.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],g.prototype,"value",void 0),r.__decorate([(0,o.observable)({changeHandler:"conditionsChanged"}),r.__metadata("design:type",Object)],g.prototype,"branches",void 0),r.__decorate([(0,o.observable)({changeHandler:"conditionsChanged"}),r.__metadata("design:type",Object)],g.prototype,"filter",void 0),r.__decorate([o.observable,r.__metadata("design:type",Object)],g.prototype,"autoExpandIfLessThen",void 0),r.__decorate([(0,o.computedFrom)("config.readOnly","config.enabled"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],g.prototype,"ROMode",null),g=p=r.__decorate([(0,o.customElement)("qp-branch-selector"),o.autoinject,r.__metadata("design:paramtypes",[Element,d.Container,i.ApiClient,u.BusyCounter])],g),n.QpBranchSelector3dCustomElement=g}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/button/qp-button":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("aurelia-event-aggregator"),r("./descriptors/index.ts"),r("./utils/index.ts"),r("./services/index.ts"),r("controls/dialog/informer/qp-informer-rack")],i=function(e,n,r,o,i,a,l,c,d){"use strict";var u;Object.defineProperty(n,"__esModule",{value:!0}),n.QpButtonCustomElement=void 0;let p=class Messages{};p.OK="OK",p.Cancel="Cancel",p.Abort="Abort",p.Retry="Retry",p.Ignore="Ignore",p.Yes="Yes",p.No="No",p=r.__decorate([c.localizable],p);let b=u=class QpButtonCustomElement{constructor(e,n,r){this.element=e,this.eventAggregator=n,this.screenEventManager=r,this.pushed=!1,this.imageSrc="",this.currentMouseType="normal",this.styleChanged=!1,this.Messages=p,this.menuOpen=!1,this.currentMode="normal",this.isMouseOver=!1,this.element.removeAttribute("style"),this.config={},(0,l.applyDefaultValues)(this.config,u.defaultConfig)}configChanged(e,n){this.config||(this.config={}),(0,l.applyDefaultValues)(this.config,u.defaultConfig),this.config.id||(this.config.id=`${this.element.getAttribute("id")}_btn`||""),this.config.toggleMode&&(this.pushed=this.config.pushed||!1),this.config.images||(this.config.images={}),this.config.imageUrl?this.config.images.normal=this.config.imageUrl:this.config.imageSet&&this.config.imageKey&&(this.config.images.normal=`${this.config.imageSet}@${this.config.imageKey}`),this.config.images.hover||(this.config.images.hover=this.config.images.normal),this.config.images.dropDown||(this.config.images.dropDown=this.config.images.pushed),this.config.images.pushed||(this.config.images.pushed=this.config.images.dropDown),this.config.images.pushed||(this.config.images.pushed=this.config.images.hover),this.config.images.disabled||(this.config.images.disabled=this.config.images.normal),this.imageSrc=this.config.images[this.currentMode],void 0!==this.hidden&&this.hiddenChanged(this.hidden),void 0!==this.enabled&&this.enabledChanged(this.enabled),void 0!==this.caption&&this.captionChanged(this.caption),this.config.dialogResult=(0,a.getDialogResultCode)(this.config.dialogResult)}stateChanged(){var e;if(!this.state)return;const n=this.state,r={id:(null===(e=this.config)||void 0===e?void 0:e.id)||"",text:n.text,action:n.commandName,hidden:!n.visible,enabled:n.enabled,imageSet:n.imageSet,imageKey:n.imageKey,imageUrl:n.imageUrl,toolTip:n.tooltip};this.config?Object.assign(this.config,r):this.config=r,this.configChanged(this.config,this.config)}hiddenChanged(e){this.config&&(this.config.hidden=e)}enabledChanged(e){this.config&&(this.config.enabled=e)}captionChanged(e){this.config&&(this.config.text=e)}dialogResultChanged(e){if(this.config&&(this.config.dialogResult=(0,a.getDialogResultCode)(e),void 0===this.config.text)){const n=a.WebDialogResult[this.config.dialogResult];void 0===n&&(0,d.fatalError)(`The button (id=${this.element.id}) does not set a caption, so a valid dialog-result must be provided (found "${e}")`,this.element),this.config.text=this.Messages[n]}}imageSrcChanged(e,n){if(this.config){if(this.config.enabled&&"disabled"===this.currentMode)this.currentMode="normal";else if(this.config.enabled)switch(this.currentMouseType){case"hover":this.currentMode=this.currentMouseType;break;case"pushed":this.menuOpen?this.currentMode="dropDown":this.currentMode=this.currentMouseType;break;case"normal":this.pushed?this.currentMode="pushed":this.currentMode=this.currentMouseType}else this.currentMode="disabled";this.config.images&&(this.imageSrc=this.config.images[this.currentMode])}else this.imageSrc=void 0}handleState(e){var n;if(null===(n=this.config)||void 0===n?void 0:n.enabled)switch(e.type){case"mouseover":this.currentMouseType="hover";break;case"mouseout":this.menuOpen?this.currentMouseType="pushed":this.currentMouseType="normal";break;case"mousedown":document.activeElement&&document.activeElement.blur(),this.currentMouseType="pushed";break;case"mouseup":this.pushed||this.menuOpen?this.currentMouseType="pushed":this.currentMouseType="hover"}}processMouseOver(e){this.isMouseOver=!0,this.handleState(e)}processMouseOut(e){this.isMouseOver=!1,this.handleState(e)}processPointerDown(e){return this.handleState(e),this.buttonElement.setPointerCapture(e.pointerId),!0}processPointerUp(e){isMouseOrPointerEvent(e)&&e.buttons>0&&!this.isPointInside(e.clientX,e.clientY)||this.handleState(e)}processPointerCancel(e){this.buttonElement.releasePointerCapture(e.pointerId)}detached(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}processClick(e,n=!1){var r,o;if(isMouseOrPointerEvent(e)&&e.buttons>0&&!this.isPointInside(e.clientX,e.clientY))return;const i=new a.ScreenUpdateParams({dialogCallback:{dialogResult:this.config.dialogResult,validateInput:this.config.validateInput}});if(this.screenEventManager.publish(new a.ExecuteCommandEvent(this.config.action,i)),this.config.action)return;if(this.config.popupPanel&&this.screenEventManager.publish(new a.OpenPopupEvent(this.config.popupPanel)),!(null===(r=this.config)||void 0===r?void 0:r.enabled))return!0;this.config.toggleMode&&(this.pushed=!this.pushed),this.config.options&&(this.menuOpen=!this.menuOpen,this.isMouseOver=!1);const l={event:e,value:e instanceof CustomEvent?e.detail.value:this.pushed,isMenuItem:n,config:this.config};this.documentMouseDownSubscription=this.eventAggregator.subscribe(a.MOUSE_DOWN_REACHED_BODY,(()=>{this.menuOpen=!1,this.isMouseOver=!1}));const c=new CustomEvent("buttonpressed",{bubbles:!0,detail:l});if(this.element.dispatchEvent(c),!(null===(o=this.config)||void 0===o?void 0:o.captureClick))return!0;e.stopPropagation()}processMenuClick(e){return this.processClick(e,!0)}isPointInside(e,n){const r=this.buttonElement.getBoundingClientRect();return e>=r.left&&e<=r.right&&n>=r.top&&n<=r.bottom}};b.defaultConfig={enabled:!0,dialogResult:a.WebDialogResult.None,validateInput:!1},r.__decorate([o.bindable,r.__metadata("design:type",Object)],b.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],b.prototype,"hidden",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],b.prototype,"enabled",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],b.prototype,"caption",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],b.prototype,"dialogResult",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],b.prototype,"pushed",void 0),r.__decorate([o.bindable,r.__metadata("design:type",a.PXActionState)],b.prototype,"state",void 0),r.__decorate([(0,o.observable)({changeHandler:"imageSrcChanged"}),r.__metadata("design:type",String)],b.prototype,"currentMouseType",void 0),r.__decorate([(0,o.observable)({changeHandler:"imageSrcChanged"}),r.__metadata("design:type",Boolean)],b.prototype,"styleChanged",void 0),b=u=r.__decorate([(0,o.customElement)("qp-button"),o.autoinject,r.__metadata("design:paramtypes",[Element,i.EventAggregator,a.QpEventManager])],b),n.QpButtonCustomElement=b;const isMouseOrPointerEvent=e=>e instanceof MouseEvent||e instanceof PointerEvent}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/calendar/qp-calendar":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./utils/platform-dependable-utils.ts"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./utils/index.ts"),r("./services/index.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./services/localizations-service.ts"),r("./utils/platform-dependable-utils.ts"),r("./utils/control-helper.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b){"use strict";var g;Object.defineProperty(n,"__esModule",{value:!0}),n.QpCalendarCustomElement=n.StringToIntValueConverter=void 0;const m=(0,a.getLogger)("qp-calendar");n.StringToIntValueConverter=class StringToIntValueConverter{toView(e){return null==e?"":e.toString()}fromView(e){return parseInt(e)}};const f=7,v=12,y=.25,x=.5;let C=g=class QpCalendarCustomElement{constructor(e,n){this.elem=e,this.container=n,this.timer=void 0,this.down=!1,this.required=!1,this.year=NaN,this.month=NaN,this.monthNames=[],this.shortMonthNames=[],this.shortDayNames=[],this.yearFix=0,this.firstDayOfWeek=0,this.locale="en-US",this.enableMonthChange=!0,this.allowClicks=!1,this._bindMouseUpYearSel=e=>this.onMouseUpYearSel(e),this._bindMouseDownYearSel=e=>this.onMouseDownYearSel(e),this.formats={showDOWHeader:!0,showOtherMonthDays:!0,showWeekNumber:!0,nextPrevFormat:0},(0,b.isLegacyEnv)()?this.dateFormatInfo=(0,p.dateFormatInfo)():this.dateFormatInfo=this.container.get(u.LocalizationsService).getLocalePreferences("datetime"),this.dateFormatInfo?(this.monthNames=this.dateFormatInfo.monthNames.split(","),this.shortMonthNames=this.dateFormatInfo.abbrMonthNames.split(","),this.shortDayNames=this.dateFormatInfo.abbrDayNames.split(","),this.yearFix=this.dateFormatInfo.yearFix?this.dateFormatInfo.yearFix:0):(this.monthNames=g._MN,this.shortMonthNames=g._SMN,this.shortDayNames=g._SDN),this.todayDate=new Date,this.todayString=this.todayDateToString()}get monthPanel(){return function getWeeksInMonth(e,n){const r=[],o=getLastDayInMonth(e).getDate();let i=function getLeadingDays(e,n){const r=[],o=function getBeginningOfMonth(e){return new Date(e.getFullYear(),e.getMonth())}(e),i=(o.getDay()-n+f)%f,a=function getLastDayInPreviousMonth(e){return new Date(e.getFullYear(),e.getMonth(),0)}(o),l=a.getDate();for(let e=l-i+1;e<=l;++e)r.push({dayOfMonth:e,leadingDay:!0,date:new Date(a.getFullYear(),a.getMonth(),e)});return r}(e,n);for(let n=1;n<=o;++n)i.push({dayOfMonth:n,inCurrentMonth:!0,date:new Date(e.getFullYear(),e.getMonth(),n)}),i.length===f&&(r.push(i),i=[]);i=i.concat(function getTrailingDays(e,n){const r=[],o=(n+f-1)%f,i=getLastDayInMonth(e),a=i.getDay(),l=(o-a+f)%f;for(let e=1;e<=l;++e)r.push({dayOfMonth:e,trailingDay:!0,date:new Date(i.getFullYear(),i.getMonth()+1,e)});return r}(e,n)),i.length>0&&r.push(i);r.length<6&&r.push(function getTrailingWeek(e,n){const r=[],o=(n+f-1)%f,i=getLastDayInMonth(e),a=i.getDay(),l=(o-a+f)%f;for(let e=l+1;e<=l+f;++e)r.push({dayOfMonth:e,trailingDay:!0,date:new Date(i.getFullYear(),i.getMonth()+1,e)});return r}(e,n));return r}(new Date(this.year,this.month,1),this.firstDayOfWeek)}selectTheDate(e,n){return this.value=e,this.syncMonthYear(),this.monthPaneEle&&this.monthPaneEle.focus(),this.commitSelection(this.value),e.toJSON=()=>{const n=new Date(e);return n.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setUTCHours(0,0,0,0),n.toISOString()},n&&n.stopPropagation(),!1}selectCustomItem(e,n){return this.value=e,this.commitSelection(this.value),n&&n.stopPropagation(),!1}onChangeYearSel(e){this.closeYearSel(),e.blur()}onScrollYearSel(e){if(e.oldScrollTop===e.scrollTop||null==e.oldScrollTop)return;const n=e.clientHeight;e.scrollTop>=.75*n||e.scrollTop<=n*y?e.scrollTop>=.75*n?(e.oldScrollTop=Math.round(.75*n),e.scrollTop=e.oldScrollTop,this.down?this.timer||(this.timer=setInterval((()=>this.scrollDown()),50)):(clearTimeout(this.timer),this.timer=setTimeout((()=>this.scrollBackToCenter(this.yearSelection)),100),this.scrollDown())):e.scrollTop<=n*y&&(e.oldScrollTop=Math.round(n*y),e.scrollTop=e.oldScrollTop,this.down?this.timer||(this.timer=setInterval((()=>this.scrollUp()),50)):(clearTimeout(this.timer),this.timer=setTimeout((()=>this.scrollBackToCenter(this.yearSelection)),100),this.scrollUp())):(clearInterval(this.timer),this.timer=void 0,e.oldScrollTop=e.scrollTop)}scrollUp(){this.year--,this.renderSelectForIE()}scrollDown(){this.year++,this.renderSelectForIE()}renderSelectForIE(){(i.browser.isIE||i.browser.isIE11)&&setTimeout((()=>{var e,n;null===(e=this.yearSelection)||void 0===e||e.add(document.createElement("option"),null),null===(n=this.yearSelection)||void 0===n||n.remove(this.yearSelection.options.length-1)}),0)}scrollBackToCenter(e){if(!e)return;clearInterval(this.timer),this.timer=void 0;const n=e.clientHeight,r=n*x-e.scrollTop?n*x-e.scrollTop<0?-1:1:0;e.oldScrollTop=void 0,e.scrollTop=(n-r*n*x)*x;let o=0;this.timer=setInterval((()=>{if(e.scrollTop=(n-r*(3-o)*n*x/3)*x,o++,o>3)return e.oldScrollTop=e.scrollTop,clearInterval(this.timer),void(this.timer=void 0)}),50)}onMouseOut(e){(i.browser.isIE||i.browser.isIE11)&&this.onMouseUpYearSel(e)}onMouseUpYearSel(e){this.down&&(this.down=!1,this.scrollBackToCenter(this.yearSelection))}onMouseDownYearSel(e){this.down=!0}onKeyDownYearSel(e){switch(e.key){case"PageUp":this.year-=13,e.preventDefault(),e.stopPropagation();break;case"PageDown":this.year+=13,e.preventDefault(),e.stopPropagation();break;case"Up":case"ArrowUp":this.year--,this.renderSelectForIE();break;case"Down":case"ArrowDown":this.year++,this.renderSelectForIE()}}onFocusYearSel(e){e&&(this.yearSelection=e,this.openYearSel(),this.yearSelection.scrollTop=Math.round(e.clientHeight*x),this.yearSelection.oldScrollTop=this.yearSelection.scrollTop,this.yearSelection.addEventListener("mouseup",this._bindMouseUpYearSel),this.yearSelection.addEventListener("mousedown",this._bindMouseDownYearSel))}onBlurYearSel(e){var n,r;null===(n=this.yearSelection)||void 0===n||n.removeEventListener("mouseup",this._bindMouseUpYearSel),null===(r=this.yearSelection)||void 0===r||r.removeEventListener("mousedown",this._bindMouseDownYearSel),this.closeYearSel(),clearInterval(this.timer),e.oldScrollTop=void 0,this.timer=void 0,this.down=!1}closeYearSel(){this.yearSelection.size=1,this.yearSelection.classList.remove("opened"),this.yearSelection.classList.add("closed")}openYearSel(){this.yearSelection.size=13,this.yearSelection.classList.remove("closed"),this.yearSelection.classList.add("opened")}syncMonthYear(){this.value instanceof Date?(this.month=this.value.getMonth(),this.year=this.value.getFullYear()):(this.month=this.todayDate.getMonth(),this.year=this.todayDate.getFullYear())}commitSelection(e){const n=new CustomEvent("valuechanged",{bubbles:!0,detail:{value:this.value}});this.elem.dispatchEvent(n)}ignoreClicks(e){return e.stopImmediatePropagation(),!0}monthChanged(e){this.renderHintsToPrevNextMonths(e)}attached(){m.info("attached() of ",this.config&&this.config.id),this.syncMonthYear(),this.renderHintsToPrevNextMonths(this.month),this.monthPaneEle&&this.monthPaneEle.focus()}configChanged(e,n){m.info("configChanged() of ",e,n),this.config||(this.config={}),this.config.todayDate&&(this.todayDate=this.config.todayDate),this.config.todayString&&(this.todayString=this.config.todayString),null!=this.config.firstDayOfWeek&&(this.firstDayOfWeek=this.config.firstDayOfWeek),this.syncMonthYear()}keyDown(e){m.info(`${e.key} pressed`);let n=!0;switch(e.key){case"Down":case"ArrowDown":this.advanceDate(0,0,f);break;case"Up":case"ArrowUp":this.advanceDate(0,0,-f);break;case"Right":case"ArrowRight":this.advanceDate(0,0,1);break;case"Left":case"ArrowLeft":this.advanceDate(0,0,-1);break;case"PageUp":this.advanceDate(0,-1,0);break;case"PageDown":this.advanceDate(0,1,0);break;case"Home":this.advanceDate(-1,0,0);break;case"End":this.advanceDate(1,0,0);break;case"Space":this.value=this.todayDate,this.syncMonthYear();break;case"Enter":this.commitSelection(this.value);break;case"Esc":case"Escape":this.commitSelection(void 0);break;default:n=!1}return!n||(e.stopPropagation(),!1)}advanceDate(e,n,r){this.value instanceof Date&&(this.value=new Date(this.value.getFullYear()+e,this.value.getMonth()+n,this.value.getDate()+r),this.syncMonthYear())}todayDateToString(){let e;return e=this.dateFormatInfo&&this.dateFormatInfo.shortDate?(0,l.formatDate)(this.todayDate,this.dateFormatInfo.shortDate,this.dateFormatInfo):Intl.DateTimeFormat(this.locale).format(this.todayDate),o.PLATFORM.global.px?e:(0,c.Format)(g.TodayIs,{date:e})}renderHintsToPrevNextMonths(e){const n=(v+e-1)%v,r=(v+e+1)%v;this.prevMonthEle&&o.PLATFORM.global.px&&o.PLATFORM.global.px.setTitle(this.prevMonthEle,this.monthNames[n]),this.nextMonthEle&&o.PLATFORM.global.px&&o.PLATFORM.global.px.setTitle(this.nextMonthEle,this.monthNames[r])}handleMonthChange(e,n){return this.month+=e,this.month<0?(this.month=11,this.year--):this.month>=v&&(this.month=0,this.year++),this.ignoreClicks(n),!1}isTheSame(e,n){return e instanceof Date&&n instanceof Date&&e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()}isWeekend(e){const n=e.getDay();return 0===n||n===f-1}getWeekNumber(e){if(void 0===e||e.length<f)return 0;const n=e[4].date;if(void 0===n)return 0;const r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=r.getDay();r.setDate(r.getDate()-(o+f-1)%f+4-1);const i=r.valueOf();return r.setMonth(0),r.setDate(4),Math.round((i-r.valueOf())/(864e5*f))+1}};function getLastDayInMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}C.TodayIs="Today is {date}",C._nextPrevShortMonth=1,C._nextPrevFullMonth=2,C._daysInWeek=7,C._MN=["January","February","March","April","May","June","July","August","September","October","November","December"],C._SMN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],C._SDN=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],C._selectMode=0,C._addSelectionMode=1,C._rangeSelectionMode=2,r.__decorate([(0,o.computedFrom)("year","month"),r.__metadata("design:type",Array),r.__metadata("design:paramtypes",[])],C.prototype,"monthPanel",null),r.__decorate([o.bindable,r.__metadata("design:type",Object)],C.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],C.prototype,"value",void 0),r.__decorate([o.observable,r.__metadata("design:type",Number)],C.prototype,"month",void 0),r.__decorate([c.localizable,r.__metadata("design:type",String)],C,"TodayIs",void 0),C=g=r.__decorate([o.autoinject,(0,o.customElement)("qp-calendar"),r.__metadata("design:paramtypes",[Element,d.Container])],C),n.QpCalendarCustomElement=C}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/check-box/qp-check-box":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./controls/abstract/base-field-editor/base-field-editor.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c){"use strict";var d;Object.defineProperty(n,"__esModule",{value:!0}),n.QpCheckBoxCustomElement=n.IntToBoolValueConverter=void 0;(0,i.getLogger)("check-box");n.IntToBoolValueConverter=class IntToBoolValueConverter{toView(e,n){return!!e}fromView(e,n){return e}};let u=d=class QpCheckBoxCustomElement extends a.QpBaseFieldEditor{constructor(e,n){super(n),this.element=e,this.addConfigSetter("displayName","label")}configChanged(e,n){this.config||(this.config={}),(0,c.applyDefaultValues)(this.config,d.defaultConfig)}toggleValue(e){return!(!e.altKey||!e.ctrlKey)||(e.target===this.element||(this.value=!this.value,e.stopPropagation(),!1))}};u.defaultConfig={enabled:!0,required:!1,trueValue:"true",falseValue:"false"},r.__decorate([o.bindable,r.__metadata("design:type",Object)],u.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],u.prototype,"value",void 0),u=d=r.__decorate([(0,o.customElement)("qp-check-box"),o.autoinject,r.__metadata("design:paramtypes",[Element,l.Container])],u),n.QpCheckBoxCustomElement=u}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/color-picker/qp-color-palette":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework")],i=function(e,n,r,o){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.QpColorPaletteCustomElement=void 0,function(e){let n;class RgbColorSample{constructor(e,r){this.wellknownName=r,"string"==typeof e?(this.color=e,this.rgb=function parseColor(e){var r,o;const i=[e=>{var n,r;const o=null!==(r=(null!==(n=e.match(/^#([0-9a-f]{6})$/i))&&void 0!==n?n:[])[1])&&void 0!==r?r:"";if(o)return{r:parseInt(o.substring(0,2),16),g:parseInt(o.substring(2,4),16),b:parseInt(o.substring(4,6),16)}},e=>{const n=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(n)return{r:parseInt(n[1]),g:parseInt(n[2]),b:parseInt(n[3])}}],convert=e=>{for(const n of i){const r=n(e);if(r)return r}};return null!==(o=null!==(r=convert(e))&&void 0!==r?r:(e=>(n||(n=document.createElement("div"),n.style.display="none",document.body.appendChild(n)),n.style.color=e,convert(window.getComputedStyle(n).color)))(e))&&void 0!==o?o:{r:0,g:0,b:0}}(e)):(this.rgb=e,this.color=function hexColor(e){const{r:n,g:r,b:o}=e;return"#"+(("0"+Math.round(n).toString(16)).slice(-2)+("0"+Math.round(r).toString(16)).slice(-2)+("0"+Math.round(o).toString(16)).slice(-2)).toUpperCase()}(e))}get textColor(){return function getTextColor(e){const contrastRatio=(e,n)=>(Math.max(e,n)+.05)/(Math.min(e,n)+.05),{r:n,g:r,b:o}=e,i=((e,n,r)=>{const o=[e,n,r].map((e=>e/255)),[i,a,l]=o.map((e=>e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)));return.2126*i+.7152*a+.0722*l})(n,r,o),a=contrastRatio(i,0);return contrastRatio(i,1)<a?"black":"white"}(this.rgb)}get description(){return`${this.wellknownName||this.color}, ${function rgbColor(e){const{r:n,g:r,b:o}=e;return`rgb(${Math.round(n)}, ${Math.round(r)}, ${Math.round(o)})`}(this.rgb)}, ${function hslColor(e){const{h:n,s:r,l:o}=e;return`hsl(${Math.round(n)}, ${Math.round(r)}%, ${Math.round(o)}%)`}(function rgbToHsl(e){let{r:n,g:r,b:o}=e;n/=255,r/=255,o/=255;const i=Math.max(n,r,o),a=Math.min(n,r,o),l=i-a;let c=0,d=0,u=(i+a)/2;return 0===l?c=0:i===n?c=(r-o)/l%6:i===r?c=(o-n)/l+2:i===o&&(c=(n-r)/l+4),c=Math.round(60*c),c<0&&(c+=360),d=0===l?0:l/(1-Math.abs(2*u-1)),d=Math.round(100*d),u=Math.round(100*u),{h:c,s:d,l:u}}(this.rgb))}`}}class HslColorSample extends RgbColorSample{constructor(e){super(function hslToRgb(e){let n,r,o,{h:i,s:a,l}=e;if(i/=360,a/=100,l/=100,0===a)n=r=o=l;else{const hue2rgb=(e,n,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(n-e)*r:r<.5?n:r<2/3?e+(n-e)*(2/3-r)*6:e),e=l<.5?l*(1+a):l+a-l*a,c=2*l-e;n=hue2rgb(c,e,i+1/3),r=hue2rgb(c,e,i),o=hue2rgb(c,e,i-1/3)}return{r:Math.round(255*n),g:Math.round(255*r),b:Math.round(255*o)}}(e))}}e.HslColorSample=HslColorSample;class HslColorRow{constructor(e,n){this.samples=[];for(let r=0,o=340/(n-1);r<n;r++)this.samples.push(new HslColorSample({h:10+r*o,s:100-e/5,l:e}))}}function lightnessLevel(e,n,r=(e=>e)){return 100*r(e)/r(n-1)}e.HslColorRow=HslColorRow;e.HslPalette=class HslPalette{constructor(e){this.rows=[];for(let n=e.rowCount-1;n>=0;n--)this.rows.push(new HslColorRow(lightnessLevel(n+2,e.rowCount+2+2),e.columnCount))}};e.GreyScalePalette=class GreyScalePalette{constructor(e){this.rows=[];const n=[];for(let r=0;r<e.columnCount;r++)n.push(new HslColorSample({h:0,s:0,l:lightnessLevel(r,e.columnCount,(e=>Math.log2(e+1)))}));this.rows.push({samples:n})}};class GenericPalette{constructor(e){this.rows=[];const n=[],r=GenericPalette.getPattern();for(let o=0;o<e.columnCount;o++)n.push(r[o%r.length]);this.rows.push({samples:n})}}GenericPalette.getPattern=()=>{const e="Dark red,Red,Dark orange,Yellow,Lime,Cyan,Cornflower blue,Blue,Dark violet,Fuchsia".split(",").map((e=>e.trim())).filter((e=>!!e)).map((e=>new RgbColorSample(e.toLowerCase().replace(/\s/g,""),e)));return GenericPalette.getPattern=()=>e,e},e.GenericPalette=GenericPalette;e.UserPalette=class UserPalette{constructor(e){this.rows=[],this.adjustable=!0,this.maxSize=0,this.maxSize=e.columnCount,this.rows.push({samples:[]});for(let n=0;n<Math.min(this.maxSize-1,e.userColors.length);n++)this.add(e.userColors[n])}add(e){if(!e)return;const n=this.rows[0].samples;n.find((n=>n.color===e))||(n.push(new RgbColorSample(e)),n.length===this.maxSize&&n.splice(0,1))}}}(i||(i={}));let a=class QpColorPaletteCustomElement{constructor(e){this.element=e,this.rows=6,this.columns=10,this.allowNull=!1,this.userColors=[],this.allowAdjust=!1,this.palettes=[]}createPalette(){var e;const n={rowCount:this.rows,columnCount:this.columns,userColors:null!==(e=this.userColors)&&void 0!==e?e:[]};this.palettes.push(...[i.GreyScalePalette,i.GenericPalette,i.HslPalette,i.UserPalette].map((e=>new e(n))))}bind(){this.createPalette()}rowsChanged(){this.createPalette()}columnsChanged(){this.createPalette()}selectColor(e){this.color=e,this.element.dispatchEvent(new CustomEvent("colorselected",{bubbles:!0,detail:{color:e}}))}pickCustomColor(e,n){if(!this.colorElement){this.colorElement=document.createElement("input"),this.colorElement.setAttribute("type","color");const e=this.colorElement.style;e.position="absolute",e.width="1px",e.height="0px",e.opacity="0",this.colorElement.value="#000000",this.colorElement.addEventListener("change",(()=>this.addCustomColor())),this.element.appendChild(this.colorElement)}this.paletteAdjustable=e,this.colorElement.focus(),this.colorElement.click()}addCustomColor(){var e;if(!this.colorElement||!this.paletteAdjustable)return;const n=this.colorElement.value;this.paletteAdjustable.add(n),null===(e=this.userColors)||void 0===e||e.push(n),this.element.dispatchEvent(new CustomEvent("newcolor",{bubbles:!0,detail:{color:n}}))}};r.__decorate([o.bindable,r.__metadata("design:type",Number)],a.prototype,"rows",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],a.prototype,"columns",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],a.prototype,"color",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],a.prototype,"allowNull",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Array)],a.prototype,"userColors",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],a.prototype,"allowAdjust",void 0),a=r.__decorate([o.autoinject,(0,o.customElement)("qp-color-palette"),r.__metadata("design:paramtypes",[Element])],a),n.QpColorPaletteCustomElement=a}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/color-picker/qp-color-picker":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpColorPickerCustomElement=n.ColorFormatValueConverter=void 0;let colorInputSupported=()=>{let e=!0;const n=document.createElement("input");return n.setAttribute("type","color"),n.value="a","a"===n.value&&(e=!1),colorInputSupported=()=>e,e};const i=/^#[a-f\d]{6}$/i,a="#000000";n.ColorFormatValueConverter=class ColorFormatValueConverter{toView(e){return e&&i.test(e)?e:a}fromView(e){return e&&i.test(e)?e:a}};let l=class QpColorPickerCustomElement{constructor(){this.supportsColor=colorInputSupported(),this.value=a}validateValue(e){i.test(e.target.value)||(e.target.value=a)}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],l.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],l.prototype,"value",void 0),l=r.__decorate([(0,o.customElement)("qp-color-picker")],l),n.QpColorPickerCustomElement=l}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/color-picker/qp-menu-color-picker":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpMenuColorPickerCustomElement=void 0;let i=class QpMenuColorPickerCustomElement{constructor(e){this.element=e,this.onceOpened=!1}bind(){}attached(){this.refresh()}configChanged(){this.refresh()}refresh(){this.config||(this.config={})}stopPropagation(e){e.stopPropagation()}processButtonClick(e){var n;this.selectColor(null===(n=this.config)||void 0===n?void 0:n.selectedColor)}colorSelected(e){var n;this.selectColor(null===(n=e.detail)||void 0===n?void 0:n.color),e.stopPropagation()}newColorAdded(e){var n,r;const o=null===(n=e.detail)||void 0===n?void 0:n.color;null===(r=this.config.userColors)||void 0===r||r.push(o),e.stopPropagation(),this.element.dispatchEvent(new CustomEvent("newcolor",{bubbles:!0,detail:{color:o}}))}selectColor(e){this.config.selectedColor=e,this.dropDown.hideDropDown(),this.element.dispatchEvent(new CustomEvent("colorselected",{bubbles:!0,detail:{color:e}}))}dropDownOpened(e){var n;(null===(n=this.config)||void 0===n?void 0:n.disabled)?e.detail.prevent=!0:this.onceOpened=!0}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],i.prototype,"config",void 0),i=r.__decorate([o.autoinject,(0,o.customElement)("qp-menu-color-picker"),r.__metadata("design:paramtypes",[Element])],i),n.QpMenuColorPickerCustomElement=i}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/date-editor/qp-datetime-edit-utc":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./utils/index.ts")],i=function(e,n,r,o,i){"use strict";var a;Object.defineProperty(n,"__esModule",{value:!0}),n.QpDatetimeEditUtcCustomElement=void 0;let l=a=class QpDatetimeEditUtcCustomElement{constructor(){this.conversionInProgress=!1}configChanged(e){this.config||(this.config={}),(0,i.applyDefaultValues)(this.config,a.defaultConfig)}valueChanged(e){if(!this.conversionInProgress){this.conversionInProgress=!0;try{this.convertedDate=new Date(e)}catch(e){this.convertedDate=new Date}this.conversionInProgress=!1}}convertedDateChanged(e){if(!this.conversionInProgress){this.conversionInProgress=!0;try{e||(this.value=""),e instanceof Date&&(this.value=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString())}catch(e){this.value=""}this.conversionInProgress=!1}}};l.defaultConfig={preserveTimezone:!0},r.__decorate([o.bindable,r.__metadata("design:type",Object)],l.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],l.prototype,"value",void 0),r.__decorate([(0,o.observable)({changeHandler:"convertedDateChanged"}),r.__metadata("design:type",Date)],l.prototype,"convertedDate",void 0),l=a=r.__decorate([(0,o.customElement)("qp-datetime-edit-utc")],l),n.QpDatetimeEditUtcCustomElement=l}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/date-editor/qp-datetime-edit":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./utils/platform-dependable-utils.ts"),r("./controls/abstract/base-field-editor/base-field-editor.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./utils/index.ts"),r("./services/localizations-service.ts"),r("./utils/platform-dependable-utils.ts"),r("./utils/control-helper.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b){"use strict";var g;Object.defineProperty(n,"__esModule",{value:!0}),n.TextRange=n.QpDatetimeEditCustomElement=n.MAX_DAYS_IN_MONTH=n.MONTHS_IN_YEAR=n.MAX_YEAR=n.MIN_YEAR=n.DateUTCValueConverter=void 0;const m=(0,c.getLogger)("qp-datetime-edit");n.DateUTCValueConverter=class DateUTCValueConverter{toView(e,n){return e?n&&"string"==typeof e&&isNaN(new Date(e).getTime())||e instanceof Date||"Date"===e.constructor.name?e:new Date(e):null}fromView(e){return e?e instanceof Date?new Date(e.getTime()-6e4*e.getTimezoneOffset()):e:null}};n.MIN_YEAR=1900,n.MAX_YEAR=9999,n.MONTHS_IN_YEAR=12,n.MAX_DAYS_IN_MONTH=31;const f="0".charCodeAt(0),v="9".charCodeAt(0),isNumericChar=e=>/\d/.test(e),between=(e,n,r)=>e<=n&&r>=n;let y=g=class QpDatetimeEditCustomElement extends a.QpBaseFieldEditor{constructor(e,n){super(n),this.element=e,this.value=null,this.oldValue=null,this.focused=!1,this.fullDOW=!1,this.fullMonth=!1,this.selectOnFocus=!1,this.allowStrings=!1,this.roundUpTime=!1,this.required=!1,this.hideEnterKey=!1,this.promptChar="_",this.emptyChar=" ",this.valueMode=0,this.validateExp="",this.asciiCharSet=!1,this.dropDownOpen=!1,this.inlineEditor=!1,this.outerClickSubscription=void 0,this.allowRepaintText=!0,this.hasFocus=!1,this.lockMouseUp=!1,this.mouseClicked=!1,this.trackSelection=!0,this.trackPosition=!1,this.selStart=0,this.selEnd=0,this.field0ID=new Array,this.field1ID=new Array,this.mask=void 0,this.maskExclude=void 0,this.maskInclude=void 0,this.emptyText=void 0,this.AM="AM",this.PM="PM",this.lengthAmPm=this.AM.length>this.PM.length?this.AM.length:this.PM.length,this.yearFix=0,this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December",""],this.dowNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.validateEdit=!0,this.allowMouseDownFlag=!1,this.value=null,this.addConfigSetter("inputMask",(e=>this.config.editMask=this.convertMask(e,!0))),this.addConfigSetter("displayMask",(e=>this.config.displayMask=this.convertMask(e))),this.addConfigSetter("minValue",(e=>new Date(e))),this.addConfigSetter("maxValue",(e=>new Date(e))),(0,b.isLegacyEnv)()?this.dateFormatInfo=(0,p.dateFormatInfo)():this.dateFormatInfo=n.get(u.LocalizationsService).getLocalePreferences("datetime")}static createDate(e,n,r){const o=new Date(e,n,r);return o.setFullYear(e,n,r),o}static _trimEnd(e){return e.replace(/\s+$/,"")}static _filter(e,n,r,o,i,a){if(r>=n.length)return o;const l=n.charCodeAt(r);let c=n.charAt(r);if(l<21||i&&-1!==i.indexOf(c))return o;if(a&&-1!==a.indexOf(c))return c;switch(Math.floor((e-1)/6)){case 0:break;case 1:if(l>=f&&l<=v)return c;case 2:if(l>255||c.toUpperCase()!==c.toLowerCase())break;return o;case 3:return l>=f&&l<=v?c:o}return 0===(e=Math.floor((e-1)/2)%3)?c:(c=2===e?c.toLowerCase():c.toUpperCase(),i&&-1!==i.indexOf(c)?o:c)}static format(e,n,r,o){null==o&&(o=0),null==n&&(n="");let i,a="",l=0;const c=g.split(e),d=c[0],u=c[1],p=c[2];for(let e=0;e<d.length;e++)if(i=d.charCodeAt(e),i<21){let e;l<n.length&&(e=g._filter(i,n,l,"",u,p),l++),a+=e||r}else a+=d.charAt(e),o>0&&l++;return a}static encode(e){let n,r,o=0,i="";const a=g.split(e),l=a[0],c=a[1],d=a[2];for(let e=0;e<l.length;e++)if(r=l.charAt(e),n=g._flag(r,o),0!==n){if(n<0){o=o===-n?0:-n;continue}i+=String.fromCharCode(n)}else"\\"===r&&e+1<l.length?(r=l.charAt(e+1),0!==g._flag(r,0)&&(i+=r,e++)):i+=r;return c&&(i+=`|${c}`),d&&(c||(i+="|"),i+=`|${d}`),i}static split(e){const n=e.split("|");return 1===n.length&&(n[1]=""),2===n.length&&(n[2]=""),n}static _flag(e,n){let r=0;switch(e){case">":return-1;case"<":return-2;case"&":r=1;break;case"C":r=2;break;case"A":r=7;break;case"a":r=8;break;case"L":r=13;break;case"?":r=14;break;case"#":case"0":return 19;case"9":return 20;default:return 0}return r+2*n}get isEditLink(){return!1}get ROMode(){return this.config&&(this.config.readOnly||!this.config.enabled)}set textValue(e){this._textValue=e,this.elemText&&(this.elemText.value=e)}get textValue(){return this._textValue||""}detached(){super.detached(),this._disposeMaskObservers()}acceptDateFromCalendar(e){m.info("acceptDateFromCalendar");const n=e.detail&&e.detail.value;n&&this.setValue(n),this.hideDropDown(),e.preventDefault(),e.stopPropagation(),this.fireEvent("valuechanged"),setTimeout((()=>{this.elemText.focus()}),0)}configChanged(e){this.config||(this.config={}),(0,d.applyDefaultValues)(this.config,g.defaultConfig),this._disposeMaskObservers(),this._bindMaskObservers(),this.AM=this.dateFormatInfo.am||"AM",this.PM=this.dateFormatInfo.pm||"PM",this.lengthAmPm=Math.max(this.AM.length,this.PM.length),this.yearFix=this.dateFormatInfo.yearFix||0,this.config&&(this.monthNames=this.config.fullMonth?this.dateFormatInfo.monthNames.split(","):this.dateFormatInfo.abbrMonthNames.split(","),this.dowNames=this.config.fullDOW?this.dateFormatInfo.dayNames.split(","):this.dateFormatInfo.abbrDayNames.split(","),this._initializeMask(),this.tq.queueMicroTask((()=>{this.config.value&&(this.value=new Date(this.config.value))})))}attached(){super.attached(),this.trange=new TextRange(this.elemText),this.config&&this._bindMaskObservers()}bind(){this.editorDiv.focus=()=>{this.elemText.focus()},this.configChanged(this.config),this.tq.queueTask((()=>{this.valueChanged(this.value,null)}))}getValue(e=!1){if(null===this.value||e){const e=this._getTypedValue(this.textValue,!0);(this.allowStrings||null==e||e instanceof Date&&!isNaN(e.getTime())&&!(0,d.equals)(this.value,e))&&(this.value=e)}return this.value}getValueOrToday(){let e=this.getValue(!0);return null==e&&(e=new Date),e}setValue(e){const n=this._parseInvariant(e);(this.allowStrings||n instanceof Date&&!isNaN(n.getTime())&&(0,d.equals)(this._checkLimits(n),n))&&(this.value=n,this.oldValue=n,this.hasFocus?(this.textValue=this.getEditText(this.value),(0,d.isVisible)(this.elemText)&&this.select(this.selStart)):this.textValue=this.getDisplayText(this.value))}valueChanged(e,n){this.config&&(this.config.allowCustomItems&&null!=e&&this._setAllowStrings(e),this.hasFocus?(this.textValue=this.getEditText(this.value),(0,d.isVisible)(this.elemText)&&this.trange&&this.trange.refreshSelection()):this.textValue=null==e?this.getDisplayText(null):this.getDisplayText(this.value))}updateValue(e){const n=void 0===e?this.getValue(!0):e;if(!(0,d.equals)(n,this.oldValue)){if(this.fireEvent("valuechanging"))return this.setValue(this.oldValue),!1;new Object,this.oldValue;return void 0!==e?this.setValue(n):this.repaintText(n),this.oldValue=n,this.fireEvent("valuechanged"),!0}}getReadOnly(){return this.config.readOnly}getEnabled(){return null==this.elemText.getAttribute||!this.elemText.getAttribute("enabled")}getDisabled(){return!this.getEnabled()||this.getReadOnly()}doTrackSelection(){("INPUT"===this.elemText.tagName&&this.trackSelection||this.trackPosition)&&this.getSelectedText()}selectContent(e=!0){if((0,d.isVisible)(this.elemText))if((this.selectOnFocus||this.getDisabled())&&this.elemText.select)this.select(),this.lockMouseUp=!0,this.mouseClicked&&i.browser.isEdge&&setTimeout((()=>{this.select()}),0);else if("INPUT"===this.elemText.tagName||this.trackPosition){const n=e?this.selStart:0,r=e?this.selEnd:0;i.browser.isIE?this.select(n,r):setTimeout((()=>{this.select(n,r)}),0)}}processFocus(e){if(this.hasFocus=!0,this.oldValue=this.getValue(),!this.getDisabled()&&this.allowRepaintText&&!this.isEditLink){const e=this.getEditText(this.getValue());this.textValue!==e&&(this.textValue=e)}this.selectContent(this.trackPosition),this.getSelectedText(),this.allowRepaintText&&this.fireEvent("activated")}processUpdate(e){this.allowRepaintText&&!this.isEditLink&&this.updateValue()}processBlur(e){if(this.hasFocus=!1,this.onBlur(e),this.allowRepaintText&&!this.isEditLink){this.updateValue();const e=this.getDisplayText(this.getValue());e!==this.textValue&&(this.textValue=e)}}onBlur(e){if(this.allowStrings||this.getDisabled()||!this.focused)return;const n=this.textValue,r=this._fields1(n,!0),o=this.separate(n);if(this.emptyText!==n&&r.some((function(e){return!e}))){const e=new Date;this.roundUpTime?(e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(999)):(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0));for(let n=0;n<r.length;n++){const i=r[n];this._isDatePart(n)&&!i?r[n]=this._fieldValue(this.field0ID[n],e,!0,"0"):!between(10,this.field0ID[n],13)||i||this.isZeroTime(r,o,n)?!between(16,this.field0ID[n],17)||i||this.isZeroTime(r,o,n)||(r[n]=e.getMinutes()):r[n]=e.getHours()}const contains=function(e,n,r){return e.some((function(e){return e>=n&&e<=r}))},n=this.getMergedDateTime(r.slice());void 0!==n&&(contains(this.field0ID,10,13)||n.setHours(e.getHours()),contains(this.field0ID,16,17)||n.setMinutes(e.getMinutes()),contains(this.field0ID,18,19)||n.setSeconds(e.getSeconds()),contains(this.field0ID,22,28)||n.setMilliseconds(e.getMilliseconds()),this.textValue=this.getEditText(n))}}processKeyDown(e){switch(this.doTrackSelection(),e.key){case"Backspace":this.getReadOnly()&&(e.preventDefault(),e.stopPropagation());break;case"Esc":case"Escape":e.preventDefault();break;case"Enter":e.shiftKey||(this.hideEnterKey&&(e.preventDefault(),e.stopPropagation(),this.allowRepaintText&&this.updateValue()),this.fireEvent("valuechanged"))}if(!this.onKeyDown(e))return e.preventDefault(),e.stopPropagation(),!1;switch(e.key){case"Backspace":case"Delete":case"Del":if(this.getDisabled()){e.preventDefault(),e.stopPropagation();break}(i.browser.isAnyIE||i.browser.isSafari||i.browser.isFirefoxFrom65)&&(this.onKeyPress(e)||(e.preventDefault(),e.stopPropagation()))}return"KeyS"!==e.code&&83!==e.keyCode||!e.ctrlKey||(this.processBlur(),this.processFocus()),!0}onButtonClick(e){this.dropDownOpen?(this.hideDropDown(),this.focus()):this.showDropDown()}onKeyDown(e){const n=!(e.ctrlKey||e.metaKey||e.altKey);switch(e.key){case"Down":case"ArrowDown":case"-":case"F3":if(!this.config.timeMode&&("F3"===e.key||e.altKey))return this.onButtonClick(),!1;if("F3"!==e.key&&!e.shiftKey&&!this.inlineEditor&&!this.allowStrings)return this.incrementActivePart(-1),!1;break;case"Up":case"ArrowUp":case"+":if(n&&!this.inlineEditor&&!this.allowStrings)return this.incrementActivePart(1),!1;break;case"Right":case"ArrowRight":if(n&&!e.shiftKey&&!this.allowStrings)return this.selectActivePart(this.getActivePartIndex()+1),!1;break;case"Left":case"ArrowLeft":if(n&&!e.shiftKey&&!this.allowStrings)return this.selectActivePart(this.getActivePartIndex()-1),!1;break;case".":case"/":if(n&&!this.allowStrings)return e.shiftKey?this.selectActivePart(this.getActivePartIndex()-1):this.selectActivePart(this.getActivePartIndex()+1),!1;break;case"A":case"a":if(e.ctrlKey||e.metaKey)return this.select(),!1}return!0}processKeyPress(e){return this.doTrackSelection(),this.getDisabled()&&!e.ctrlKey?(e.preventDefault(),e.stopPropagation(),!1):this.onKeyPress(e)}onKeyPress(e){if(!this.mask||!this.validateEdit)return!0;let n=this.textValue;const r=n.length;let o=this.selStart,i=this.selEnd;this.emptyChar.charCodeAt(0);if(o!==i){for(;--i>=o;){let e=this.promptChar;this.mask.charCodeAt(i)>=21&&(e=this.mask.charAt(i)),n=n.substring(0,i)+e+n.substring(i+1)}i++}else switch(e.key){case"Del":case"Delete":case"Space":for(;i<r&&this.mask.charCodeAt(i)>=21;)i++;if(i>=r)return!1;n=n.substring(0,i)+this.promptChar+n.substring(i+1),i++;break;case"Backspace":for(;i>0&&this.mask.charCodeAt(i-1)>=21;)i--;if(i--<1)return!1;n=n.substring(0,i)+this.promptChar+n.substring(i+1)}if(1===e.key.length&&" "!==e.key&&i<r){const r=e.key.toUpperCase(),a=[n];if(o=this.insertCharAt(a,r,i),n=a[0],o<0)return!1;i=this.locatePromptPos(o)}return this.textValue=n,this.select(i),this.fireEvent("usertyping"),!1}processBeforePaste(e){e.returnValue=!1}processSelectStart(e){this.selectOnFocus||(e.preventDefault(),e.stopPropagation())}processInput(e){this.allowStrings&&(this.textValue=this.elemText.value),(0,d.isVisible)(this.elemText)&&this.fireEvent("usertyping")}processPaste(e){if(this.getDisabled())return e.preventDefault(),e.stopPropagation(),!1;const n=e.clipboardData;if(null!=n){const r=n.getData("Text"),o=this.text,i=this.processPasteValue(r);!r||i&&o===this.text||this.fireEvent("usertyping"),i&&(e.preventDefault(),e.stopPropagation())}else this.fireEvent("usertyping");return!0}initInlineEditor(e){this.config=e.config,this._initializeMask()}_bindMaskObservers(){this.editMaskObserver=this.bindingEngine.propertyObserver(this.config,"editMask").subscribe((()=>this.initEditMask())),this.displayMaskObserver=this.bindingEngine.propertyObserver(this.config,"displayMask").subscribe((()=>this.initDisplayMask()))}_disposeMaskObservers(){var e,n;null===(e=this.editMaskObserver)||void 0===e||e.dispose(),null===(n=this.displayMaskObserver)||void 0===n||n.dispose()}repaintText(e){const n=this.hasFocus?this.getEditText(e):this.getDisplayText(e);n!==this.text&&(this.text=n)}getDisplayText(e){return this.config.allowNull&&null==e?this.config.nullText:this._getFormattedText(e,!1)}getEditText(e){return this._getFormattedText(e,!0)}getVisible(){return this.elemText&&"none"!==this.elemText.style.display}select(e,n){this.getVisible()&&this.trange&&(this.trange.select(e,n),this.selStart=this.trange.selStart,this.selEnd=this.trange.selEnd)}getSelectedText(){if(!this.trange)return"";const e=this.trange.getSelectedText();return this.selStart=this.trange.selStart,this.selEnd=this.trange.selEnd,e}fireEvent(e,n){var r,o;const i={};switch(e){case"keydown":case"keypress":case"keyup":const e=n;e&&e.key&&(i.key=e.key);break;case"valuechanging":i.oldValue=this.oldValue,i.value=this.getValue();break;case"valuechanged":i.value=this.getValue();break;case"usertyping":i.viewName=null===(r=this.state)||void 0===r?void 0:r.viewModeName,i.fieldName=null===(o=this.state)||void 0===o?void 0:o.name}const a=new CustomEvent(e,{bubbles:!0,detail:i});return this.elemText.dispatchEvent(a),!0===a.detail.cancel}_getFormattedText(e,n){if(this.allowStrings&&!(e instanceof Date))return null!=e?e.toString():"";if(null==e||""===e||"string"==typeof e||isNaN(e.valueOf()))return this.getDisplayValue("",1);let r="";const o=n?this.mask||"":this.mask1,i=n?this.field0ID:this.field1ID;let a,l,c=-1,d=0;for(;++c<o.length;)if(a=o.charAt(c),l=o.charCodeAt(c),l<21){if(r+=this._fieldValue(i[d++],e,n,a),n)for(;c+1<o.length&&o.charCodeAt(c+1)===l;)c++}else r+=a;return n?this.getDisplayValue(r,1):r}focus(){try{this.elemText.focus()}catch(e){}}validateValue(e){if(this.isNullValue(e))e=this.config.allowNull?null:"";else if(this.validateExp){const n=new RegExp(this.validateExp).exec(e||"");e=null!=n?n[0]:this.config.allowNull?null:""}if(this.asciiCharSet&&e){const n=e;e="";for(let r=0;r<n.length;r++)n.charCodeAt(r)<127&&(e+=n.charAt(r))}return e}initEditMask(){this.mask0=this._dateMask(this.config.editMask,!1),this._initEmptyText(),this.setInputMask(this.mask0)}initDisplayMask(){this.mask1=this._dateMask(this.config.displayMask,!0)}_initializeMask(){this.initEditMask(),this.initDisplayMask()}_initEmptyText(){this.emptyText=this.mask0.replace(/[#LC]/g,this.promptChar)}_setAllowStrings(e){this.allowStrings=null==e||"Date"!==e.constructor.name,this.validateEdit=!this.allowStrings}_dateMask(e,n){let r,o;n?(null==this.field1ID&&(this.field1ID=new Array),this.field1ID.length=0):(null==this.field0ID&&(this.field0ID=new Array),this.field0ID.length=0),null==e&&(e="");let i=0,a=-1,l="";for(o=0;o<e.length;o++)if(r=e.charCodeAt(o),r<f||r>v){const i=e.charAt(o);if(n&&"\\"===i&&o+1<e.length){if(r=r=e.charAt(++o),"\\"===r)continue;"0"!==r&&"9"!==r||(l+=i),l+=r}else l+=i}else if(a=10*(r-f)+e.charCodeAt(++o)-f,n)this.field1ID[i++]=a,l+="";else switch(this.field0ID[i++]=a,a){case 14:l+="L";break;case 15:l+=Array(this.lengthAmPm+1).join("C");break;case 22:l+="#";break;default:for(l+="##",3===a&&(l+="##");a-- >23;)l+="#"}return l}setInputMask(e){if(null==e&&(e=""),this.rawMask===e)return;const n=this.mask?this.calculateValue(this.textValue,0,1):void 0;this.maskFull=g.encode(e);const r=g.split(this.maskFull);if(this.mask=r[0],this.maskExclude=r[1],this.maskInclude=r[2],null!=n){const e=this.getDisplayValue(n,0);this.textValue=e?g._trimEnd(e):"",this.value=null}this.rawMask=e}calculateValue(e,n,r){if(this.isNullValue(e))return this.config.allowNull?void 0:"";if(!this.mask)return e;const o=new RegExp(`\\${this.promptChar}`,"g");e=e.toString().replace(o,String.fromCharCode(0));let i,a,l=0,c=!0,d="";for(let o=0;o<this.mask.length;o++)if(a=this.mask.charCodeAt(o),a<21)i=void 0,l<e.length&&(i=g._filter(a,e,l,"",this.maskExclude,this.maskInclude),l++),d+=i||this.emptyChar,i&&(c=!1);else{if(r>0&&l<e.length){if(this.mask.charAt(o)!==e.charAt(l))return;l++}n>0&&(d+=this.mask.charAt(o))}return c?this.config.allowNull?void 0:"":g._trimEnd(d)}isNullValue(e){const n=String(e);return null==e||""===n||!(!this.config.allowNull||n!==this.config.nullText)}getDisplayValue(e,n,r){return this.mask?(void 0===r&&(r=this.promptChar),g.format(this.maskFull,e,r,n)):null!=e?e:""}_fieldValue(e,n,r,o){let i,a=2*(1&e);if(e<4)i=n.getFullYear()+this.yearFix,3===e?a=4:(i%=100,a=2===e?2:0);else if(e<8){if(i=n.getMonth()+1,e>5){const e=this.monthNames[i-1];if(e.length>0)return e}}else if(e<10)i=n.getDate();else if(e<16){if(i=n.getHours(),e>13){let n=i<12?this.AM:this.PM;return e-=13,a=n.length,e===a?n:(a<e&&(n+=" "),1===e?n.substring(0,e):n)}e<12&&(i%=12,0===i&&(i=12))}else if(e<18)i=n.getMinutes();else if(e<20)i=n.getSeconds();else{if(e<22)return this.dowNames[n.getDay()];{i=n.getMilliseconds();let r=a=e-21;for(;r-- >3;)i*=10;for(;r++<2;)i=Math.floor(i/10)}}let l=i.toString();if(e<20&&(e=l.length,r&&(0===a?a=2:r=!1),a>0))if(a<e)l=l.substring(0,a);else for(;e++<a;)l=(r?o:"0")+l;return l}_checkLimits(e){if(!this.config.timeMode&&!this.allowStrings&&null!=e&&!isNaN(e.getTime())){const n=e.getTime();let r,o;null!=this.config.minValue&&(r=this.config.minValue.getTime()),null!=this.config.maxValue&&(o=this.config.maxValue.getTime()),void 0!==r&&n<r&&(e=new Date(r)),void 0!==o&&n>o&&(e=new Date(o))}return e}_parseInvariant(e){let r=null;if(null==e||this.isNullValue(e)){if(this.config.allowNull)return null;r=new Date}else if(e instanceof Date)r=e;else if(this.config.timeMode||e.indexOf(":")>0){const n=Date.parse(e);isNaN(n)||(r=new Date(n))}else{const n=e.split("/");if(n.length>=3){const e=parseInt(n[2]),o=parseInt(n[0]),i=parseInt(n[1]);isNaN(e)||isNaN(o)||isNaN(i)||(r=g.createDate(e,o-1,i))}}return this.config.timeMode&&r instanceof Date&&!isNaN(r.getTime())&&(r.setFullYear(n.MIN_YEAR),r.setMonth(0),this.config.durationMode||r.setDate(1)),this.config.allowCustomItems&&this._setAllowStrings(r),this.allowStrings&&(null==r||isNaN(r.getTime()))?e:r}_getTypedValue(e,n){let r;if(this.isNullValue(e)||e===this.emptyText){if(this.config.allowNull)return null;r=new Date}else e instanceof Date?r=e:(r=this._parseText(e,this.hasFocus,n),null==r&&(r=this._parseText(e,!this.hasFocus,n)));return this.config.timeMode&&null!=r&&(r.setFullYear(1900),r.setMonth(0),this.config.durationMode||r.setDate(1)),this.config.allowCustomItems&&this._setAllowStrings(r),this.allowStrings&&null==r?e:null==r?null:n?this._checkLimits(r):r}_parseText(e,n,r){const o=this._fields1(e,n);let i=0;const a=o.length;let l=-1,c=-1,d=-1,u=-1,p=-1,b=-1,g=-1,m=-1,f=-1;for(;++f<a;){let e=o[f],r=n?this.field0ID[f]:this.field1ID[f];if(r<4)if(e>100&&e>this.yearFix&&(e-=this.yearFix),e<0)i++;else if(0===e)l=parseInt(this._fieldValue(r,new Date,!0,"0"));else{l=e;let n=29;e<100&&(r<3&&n<0&&(n=29),n>=0&&(l+=e>n?1900:2e3))}else if(r<8)e<1||e>12?i++:c=e;else if(r<10)e<1||e>31?i++:d=e;else if(r<14)24===e&&(e=0),r>11?m=-4:(12===e&&(e=0),e>12&&i++),e>23?i++:u=e;else{if(r<16){e>0&&m++;continue}if(r<18)e>59?i++:p=e;else if(r<20)e>59?i++:b=e;else{if(r<22)continue;for(;r++<24;)e*=10;for(;r-- >25;)e=Math.floor(e/10);g=e}}}0===m&&u>=0&&u<12&&(u+=12);let v=null;return 0===i&&(l>0&&c>0?(v=new Date(l,c-1),v.setFullYear(l,c-1)):v=new Date,null!=v&&(c>0&&v.setMonth(c-1),d>0&&v.setDate(d),v.setHours(u>=0?u:0),v.setMinutes(p>=0?p:0),v.setSeconds(b>=0?b:0),v.setMilliseconds(g>=0?g:0),l>0&&c>0&&d>0&&v.setFullYear(l,c-1,d)),r&&(v=this._checkLimits(v))),!v||this.config.timeMode||this.config.preserveTimezone||(v.toJSON=()=>{if(!v)return"";const e=new Date(v);return e.setUTCFullYear(v.getFullYear(),v.getMonth(),v.getDate()),e.setUTCHours(0,0,0,0),e.toISOString()}),v}_fields1(e,n){const r=n&&!this.getDisabled()?this.field0ID:this.field1ID,o=r.length;let i=-1,a=0,l=0;const c=new Array(o);for(;++i<o;)c[i]=-1;if(null==e)return c;for(e=e.toUpperCase(),i=-1;++i<e.length&&l<o;){let n=e.charCodeAt(i)-48,o=r[l];if(e.charAt(i)!==this.promptChar)if(20!==o&&21!==o||(o=r[++l]),14===o||15===o){if(n>=0&&n<=9){a=-1,l++,i--;continue}this.PM.charAt(0).toUpperCase()===e.charAt(i)&&(c[l++]=1,a=-1)}else if(6===o||7===o){for(a=-1;a-- >-3;){for(n=0;n<12;n++){let r=this.monthNames[n].toUpperCase();if(o=r.length,!(o<1)){if(-3===a){if(o<4)continue;r=r.substring(0,3)}if(o=e.indexOf(r)-1,o>-2&&(o<0||e.charAt(o).toLowerCase()===e.charAt(o)))break}}if(n<12){c[l]=n+1;break}}l++}else n>=0&&n<=9?a=a<=0?n:10*a+n:a>=0&&(c[l++]=a,a=0)}return l<o&&(c[l]=a),c}static between(e,n,r){return e<=n&&r>=n}getMergedDateTime(e){let n=-1,r=-1,o=-1,i=0,a=0,l=0,c=0,d=-1;for(let p=0;p<e.length;p++){const b=e[p],g=b;let m=b;null==m&&(m=parseInt(g,10));switch(this.field0ID[p]){case 1:case 2:case 3:n=m;break;case 4:case 5:r=m;break;case 6:case 7:r=this.monthNames.indexOf((u=g)[0].toUpperCase()+u.substring(1).toLowerCase());break;case 8:case 9:o=m;break;case 10:case 11:case 12:case 13:i=m;break;case 14:case 15:d=g===this.PM||1===m?1:0;break;case 16:case 17:a=m;break;case 18:case 19:l=m;break;case 22:case 23:case 24:case 25:case 26:case 27:case 28:c=m}}var u;0===d?12===i&&(i=0):1===d&&i<12&&(i+=12);let p=!1;if(between(1582,n,275760)&&between(1,r,12)){let e=31;switch(r){case 2:e=function(e){return!(e%4||!(e%100)&&e%400)}(n)?29:28;break;case 4:case 6:case 9:case 11:e=30}between(1,o,e)&&(p=!0)}const b=between(0,i,23)&&between(0,a,60)&&between(0,l,60)&&between(0,c,9999);if(p&&b)return new Date(n,r-1,o,i,a,l,c)}_isDatePart(e){return this.field0ID[e]<10}isZeroTime(e,n,r){if(0===e[r]){const e=this.field0ID[r];if(between(10,e,13)||between(16,e,28)){const e=Array.prototype.slice.call(n[r]);for(;e.length&&e[0]===this.promptChar;)e.shift();for(e.reverse();e.length&&e[0]===this.promptChar;)e.shift();return e.reverse(),0===parseInt(e.join(),10)}}return!1}processPasteValue(e){if(!this.mask)return!1;this.getSelectedText();const n=this.selStart,r=this.selEnd;let o=this.textValue;o=this.clearMaskedContent(o,n,r);const i=[o];let a=n;for(let n=0;n<e.length;n++)if(this.mask.charCodeAt(a)<=20&&e.charAt(n)===this.promptChar)a++;else if(a=this.insertCharAt(i,e.charAt(n),a),a<0||a>=this.mask.length)break;return this.textValue=i[0],this.select(r>0?r:n),!0}clearMaskedContent(e,n,r){if(!this.mask)return e;if((null==n||n<0)&&(n=0),(null==r||r>this.mask.length)&&(r=this.mask.length),n>r){const e=r;r=n,n=e}if(n!==r){for(;--r>=n;){let n=this.promptChar;this.mask.charCodeAt(r)>=21&&(n=this.mask.charAt(r)),e=e.substring(0,r)+n+e.substring(r+1)}r++}return e}separate(e){const isSep=function(e){return"\\/.:- ".indexOf(e)>-1},sepIndexes=function(e){const n=[];for(let r=0;r<e.length;r++)isSep(e[r])&&n.push(r);return n},isDesignator=function(e,n,r,o){for(const i of o){if(e.substr(n-i,r.length)===r)return!0}return!1},n=sepIndexes(this.AM),r=sepIndexes(this.PM),o=new Array;let i="";for(let a=0;a<e.length;a++){const l=e[a];!isSep(l)||isDesignator(e,a,this.AM,n)||isDesignator(e,a,this.PM,r)?i+=l:(o.push(i),i="")}return""!==i&&o.push(i),o}getPartCount(e){return this.separate(e).length}getActivePartIndex(){const e=this.trange&&this.trange.selEnd,n=this.textValue.substring(0,e);return this.getPartCount(n)-1}getPartLen(e){return this.separate(this.config.editMask)[e].length}selectActivePart(e){if(this.getDisabled())return;const sumLen=function(e){return e.reduce((function(e,n){return e+n.length+1}),0)},n=this.textValue,r=this.getPartCount(n);if(e>=0&&e<r){const r=this.separate(n),o=sumLen(r.slice(0,e));let i=sumLen(r.slice(0,e+1));i>0&&i--,this.trange&&this.trange.select(o,i)}}incrementActivePart(e){if(this.getDisabled()||!this.trange)return;const n=this.trange.selStart,r=this.trange.selEnd;this.getActivePartIndex();if(!this.field0ID)return;const o=this.field0ID[this.getActivePartIndex()];let i=this._getTypedValue(this.textValue,!0);switch(i||(i=new Date),o){case 1:case 2:case 3:i.setFullYear(i.getFullYear()+e);break;case 4:case 5:case 6:case 7:i.setMonth(i.getMonth()+e);break;case 8:case 9:i.setDate(i.getDate()+e);break;case 10:case 11:case 12:case 13:i.setHours(i.getHours()+e);break;case 16:case 17:i.setMinutes(i.getMinutes()+e);break;case 18:case 19:i.setSeconds(i.getSeconds()+e)}this.textValue=this.getEditText(i),this.fireEvent("usertyping"),this.trange.select(n,r)}locatePromptPos(e,n=!1){const r=this.mask?this.mask.length:0;for(;e>=0&&e<r&&this.mask&&this.mask.charCodeAt(e)>=21;)n?e--:e++;return e}insertCharAt(e,n,r){if(!this.mask)return-1;const o=this.mask.length;let i=r,a=e[0];if(r<o){if(this.__checkField){const o=new TXT;return o.txt=a,i=this.__checkField(n.charCodeAt(0),n,a,r,o),i>=0?(a=o.txt,e[0]=a,i):-1}{if(this.mask.charCodeAt(i)>=21&&this.mask.charAt(i)===n)return++i;for(;this.mask.charCodeAt(i)>=21;)if(++i>=o)return-1;const r=g._filter(this.mask.charCodeAt(i),n,0,void 0,this.maskExclude,this.maskInclude);return void 0===r?-1:(n=r,a=a.substring(0,i)+n+a.substring(i+1),e[0]=a,i++,i)}}return-1}__checkField(e,n,r,o,i){let a=r.length;const l=new POS;let c=0;const d=this._curField(o,l);if(!this.mask)return-1;if(n===this.mask.charAt(o))return++o;if(o>=l.n1&&(o--,r.charAt(o)!==this.promptChar))return this.__checkField(e,n,r,o+2,i);if(d<0)return-1;if(5===d){if(o<l.n1){let e=this.PM;e.charAt(0).toUpperCase()!==n.toUpperCase()&&(e=this.AM),l.n1===l.n0+1?e=e.charAt(0):(a=e.length,a<this.lengthAmPm?e+=" ":a>this.lengthAmPm&&(e=e.substring(0,this.lengthAmPm))),i.txt=r.substring(0,l.n0)+e+r.substring(l.n1)}return l.n1}if(e<48||e>57){if(46===e||58===e){for(o=l.n1;++o<a&&!(this.mask.charCodeAt(o)<21););return o}return-1}if(e-=48,l.n0===o){let n=r.charAt(o+1)===this.promptChar?0:r.charCodeAt(o+1)-48;switch(d){case 4:e--,n-=2;case 3:case 1:e>1?c=1:1===e&&n>2&&(c=2);break;case 2:e>3?c=1:3===e&&n>1&&(c=2);break;case 6:case 7:e>5&&(c=1)}}if(l.n0+1===o){let n=r.charAt(o-1)===this.promptChar?0:r.charCodeAt(o-1)-48;switch(d){case 4:n--,e-=2;case 3:case 1:(n>1||1===n&&e>2)&&(c=3);break;case 2:(n>3||3===n&&e>1)&&(c=3);break;case 6:case 7:(n>6||6===n&&e>0)&&(c=3)}}if(1===c&&(r=r.substring(0,o)+this.promptChar+r.substring(o+1),o++),2===c&&(r=r.substring(0,o+1)+this.promptChar+r.substring(o+2)),3===c){for(;++o<a&&!(this.mask.charCodeAt(o)<21););return o>=a?-1:this.__checkField(e+48,n,r,o,i)}return i.txt=r.substring(0,o)+n+r.substring(o+1),++o}_curField(e,n){if(!this.mask)return-1;let r,o=22,i=n.n0=n.n1=-1,a=0;for(;a<this.mask.length;a++)if(r=this.mask.charCodeAt(a),r>21!=o>21){if(r>21){if(a>=e)break}else n.n0=a,i++;o=r}return n.n0>=0&&(n.n1=a),i=this.field0ID[i],null==i?-1:i<8?i<4?0:1:i<20?Math.floor((i-4)/2):i>21?8:-1}convertMask(e,n){const r=this.makeMask(e,n);let o="";for(const e of r){const r=e.toString();parseInt(r)<1||parseInt(r)>28?((isNumericChar(r)||"\\"===r)&&(o+="\\"),n&&g._flag(r,0)>0&&(o+="\\"),parseInt(r)>28&&(o+=r)):(parseInt(r)<10&&(o+="0"),o+=r)}return o}makeMask(e,n){const r=this.makePattern(e),o=[];let i=0,a=-1;const l=r.length-1;let c=!1,d="0";for(;++a<=l;){const e=r[a],u=this.isMaskChar(e);if(!c&&("0"!==d&&d!==e||a===l&&u)&&("0"===d&&(d=e,i=a),u&&a===l&&a++,i=this.maskFlag(n,d,a-i-1),i>0&&o.push(i),d="0"),a>l)break;if("'"!==e)if(c)o.push(e);else if("\\"!==e){if(e!==d)if(u)n&&"0"!==d&&o.push(" "),i=a,d=e;else switch(e){case"z":case"g":break;case"%":a=l+1;break;case"/":o.push(this.dateFormatInfo.dateSeparator);break;case":":o.push(this.dateFormatInfo.timeSeparator);break;default:i>=0&&o.push(e)}}else a<l&&o.push(r[++a]);else c=!c}return o}makePattern(e){let n="";if(e||(e=this.config.timeMode?"t":"d"),1===e.length)switch(e[0]){case"D":n+=this.dateFormatInfo.longDate;break;case"f":n+=`${this.dateFormatInfo.longDate} ${this.dateFormatInfo.shortTime}`;break;case"F":case"U":n+=`${this.dateFormatInfo.longDate} ${this.dateFormatInfo.longTime}`;break;case"g":n+=`${this.dateFormatInfo.shortDate} ${this.dateFormatInfo.shortTime}`;break;case"G":n+=`${this.dateFormatInfo.shortDate} ${this.dateFormatInfo.longTime}`;break;case"m":case"M":n+=this.dateFormatInfo.monthDay;break;case"r":case"R":n+=this.dateFormatInfo.rfC1123;break;case"s":n+=this.dateFormatInfo.sortableDateTime;break;case"t":n+=this.dateFormatInfo.shortTime;break;case"T":n+=this.dateFormatInfo.longTime;break;case"u":n+=this.dateFormatInfo.universalSortableDateTime;break;case"y":case"Y":n+=this.dateFormatInfo.yearMonth;break;default:n+=this.dateFormatInfo.shortDate}else n+=e;return n}isMaskChar(e){return"d"===e||"m"===e||"M"===e||"y"===e||"h"===e||"H"===e||"s"===e||"f"===e||"t"===e}maskFlag(e=!1,n,r){let o=r;switch(n){case"y":o=1+Math.min(r,2);break;case"M":o=4+Math.min(r,e?1:3);break;case"d":o=r<2?8+r:e?-1:20+Math.min(r-2,1);break;case"h":o=10+Math.min(r,1);break;case"H":o=12+Math.min(r,1);break;case"t":o=14+Math.min(r,1);break;case"m":o=16+Math.min(r,1);break;case"s":o=18+Math.min(r,1);break;case"f":o=22+Math.min(r,6)}return o}toggleCalendar(e){return this.dropDownOpen?this.hideDropDown():this.showDropDown(),!1}showDropDown(){this.config.timeMode&&!this.dropDownOpen&&(this.createTimeItems(),this.focus()),this.dropDownOpen=!0}createTimeItems(){this.timeItems={allowMultiSelect:!1,options:[]};const e=this.config.durationMode?15:30;for(let n=0;n<24;n++)for(let r=0;r<60;r+=e){const e=new Date(1900,0,1,n,r,0),o={value:e,text:this.getDisplayText(e),selected:!1};this.timeItems.options.push(o)}}hideDropDown(){this.outerClickSubscription&&this.outerClickSubscription.dispose(),this.outerClickSubscription=void 0,this.dropDownOpen&&(this.dropDownOpen=!1)}handleOuterClick(e){return!e||(this.allowMouseDownFlag?(this.allowMouseDownFlag=!1,!0):(e.stopPropagation(),this.hideDropDown(),!0))}handleInnerClick(e){return this.allowMouseDownFlag=!0,!0}};y.defaultConfig={nullText:"",allowNull:!0,allowCustomItems:!1,minValue:new Date(n.MIN_YEAR,0,1),maxValue:new Date(n.MAX_YEAR,n.MONTHS_IN_YEAR-1,n.MAX_DAYS_IN_MONTH),timeMode:!1,durationMode:!1,enabled:!0,firstDayOfWeek:0},r.__decorate([(0,o.computedFrom)("enabled","config.readOnly","linkCommand.command"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],y.prototype,"isEditLink",null),r.__decorate([(0,o.computedFrom)("config.enabled","config.readOnly"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],y.prototype,"ROMode",null),r.__decorate([o.bindable,r.__metadata("design:type",Object)],y.prototype,"config",void 0),r.__decorate([(0,o.bindable)({defaultBindingMode:o.bindingMode.twoWay}),r.__metadata("design:type",Object)],y.prototype,"value",void 0),y=g=r.__decorate([o.autoinject,(0,o.customElement)("qp-datetime-edit"),r.__metadata("design:paramtypes",[Element,l.Container])],y),n.QpDatetimeEditCustomElement=y;class POS{constructor(){this.n0=-1,this.n1=-1}}class TXT{}class TextRange{constructor(e){this.element=e,this.selStart=0,this.selEnd=0}refreshSelection(){const e=this.element;e.selectionStart=this.selStart,e.selectionEnd=this.selEnd}select(e,n){const r=this.element,o=r.value.length;void 0===e||e<0?(e=0,n=o):void 0===n&&(n=e),n>=o?n=o:n<e&&(n=e),e>n&&(e=n),this.selStart=e,this.selEnd=n,null!=r.selectionStart?0===e&&n===o?r.select():(r.selectionStart=e,r.selectionEnd=n):r.select()}getSelectedText(){let e="";const n=this.element;return this.selStart=this.selEnd=0,null!=n.selectionStart&&null!=n.selectionEnd&&(this.selStart=n.selectionStart,this.selEnd=n.selectionEnd,this.selStart<this.selEnd&&(e=n.value.substring(this.selStart,this.selEnd))),e}}n.TextRange=TextRange}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/drop-down/qp-drop-down":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),r("./services/hover-activator-service/hover-activator-service.ts"),r("./controls/abstract/base-field-editor/base-field-editor.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./descriptors/index.ts"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p){"use strict";var b;Object.defineProperty(n,"__esModule",{value:!0}),n.DDElement=n.QpDropDownCustomElement=void 0;(0,i.getLogger)("drop-down");let g=b=class QpDropDownCustomElement extends c.QpBaseFieldEditor{constructor(e,n){super(n),this.element=e,this.value=null,this.valueArray=[],this.searchString="",this.searchTimeout=void 0,this.prepareHighlightIdx=void 0,this.showOptions=!1,this.hasFocus=!1,this.valueText="",this.highlightedIndex=void 0,this.autoSuggest=!1,this.currentImageUrl=void 0,this.addConfigSetter("options",(e=>{e||(e=[]);const n=this.config.options;n.splice(0,n.length,...e)})),this.addConfigSetter("multiSelect","allowMultiSelect"),this.addConfigSetter("type","valueType"),this.addConfigSetter("exclusiveValues",(e=>this.config.allowEdit=!e)),this.addConfigSetter("nullable","allowNull")}detached(){super.detached(),this.optionsObserver&&this.optionsObserver.dispose()}attached(){var e;super.attached(),this.config&&(this.options=void 0,this.value&&this.valueChanged(this.value,this.value),this.autoSuggest=null==this.config.autoSuggest?(null===(e=this.config.options)||void 0===e?void 0:e.length)>10:this.config.autoSuggest,this.subscribeToOptionsChange())}get ROMode(){return this.config&&(this.config.readOnly||!this.config.enabled)}configChanged(e,n){var r,o;this.config||(this.config={}),null===(r=this.optionsObserver)||void 0===r||r.dispose(),(0,p.applyDefaultValues)(this.config,b.defaultConfig),this.config.options||(this.config.options=[]),void 0===n&&this.config.value&&(this.value=this.config.value),this.autoSuggest=null==this.config.autoSuggest?(null===(o=this.config.options)||void 0===o?void 0:o.length)>10:this.config.autoSuggest,this.subscribeToOptionsChange(),this.options=void 0,this.syncValueTextWithValue()}decodeValueText(e){return e}encodeValueText(e){return e}syncValueTextWithValue(){var e;if(!this.config)return;if("string"==typeof this.value){const e=this.config.valuesSeparator;this.valueArray=this.config.allowMultiSelect?this.value.split(e):[this.value]}else null!=this.value?this.valueArray=[this.value.toString()]:this.valueArray=[];const n=this.decodeValueText(this.valueText);if(this.valueText="",null===(e=this.config)||void 0===e?void 0:e.options){let e="";this.valueArray.forEach((r=>{let o=this.config.options.find(((e,o)=>e.value===r&&e.text===n&&(e.selected=!0,!0)));o||(o=this.config.options.find(((e,n)=>e.value===r&&(e.selected=!0,!0)))),o?(e&&(e+=", "),e+=o.text):this.config.allowEdit&&(e=this.value||"")})),this.valueText=this.encodeValueText(e)}}valueChanged(e,n){var r;this.config&&this.config.options&&this.config.options.forEach((e=>e.selected=!1)),this.syncValueTextWithValue(),this.options=void 0,this.currentImageUrl=this.config&&this.config.options&&(null===(r=this.config.options.find((e=>e.value===this.value)))||void 0===r?void 0:r.imageUrl),this.config&&this.config.allowMultiSelect&&(this.options=this.getOptions(),this.options.forEach((e=>{this.config.options.find(((n,r)=>n.value===e.value&&(e.selected=n.selected,!0)))})))}enterHighlight(e){this.prepareHighlightIdx=e}commitHighlight(e){this.prepareHighlightIdx===e&&(this.highlight(e),this.prepareHighlightIdx=void 0)}highlight(e){this.showOptions&&(this.highlightedIndex=e)}select(e,n){this.appendValue(e.value),this.config.allowMultiSelect||(this.valueText=this.encodeValueText(e.text),this.hide()),n&&n.stopPropagation()}clearSelection(e){return e.preventDefault(),e.stopImmediatePropagation(),this.value=null,!1}toggleSelector(e){return!!this.ROMode||(e.preventDefault(),e.stopImmediatePropagation(),this.inputElement.focus(),this.showOptions?this.hide():this.show(!0),!1)}show(e=!1){this.showOptions=!0,e||!this.config.allowEdit&&!this.autoSuggest||this.filter(this.decodeValueText(this.valueText));const n=this.getOptions();for(let e=0;e<n.length;++e){const r=n[e];if(void 0!==this.valueArray.find((e=>e===r.value))){this.highlight(e);break}}this.eventAggregator.publish(u.MOUSE_DOWN_REACHED_BODY),this.tq.queueTask((()=>{this.scrollIntoView(),this.documentMouseDownSubscription=this.eventAggregator.subscribe(u.MOUSE_DOWN_REACHED_BODY,(()=>this.hide()));const e=this.container.get(l.HoverActivatorService);null==e||e.suppressTooltipFor(this.element)}))}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}hide(){if(this.unsubscribeFromMouseDownOnDocument(),this.showOptions){this.showOptions=!1;const e=this.container.get(l.HoverActivatorService);null==e||e.allowTooltipFor(this.element)}this.highlightedIndex=void 0}advanceSelection(e){const n=this.getOptions();null==this.highlightedIndex&&(this.highlightedIndex=e>=0?-1:n.length),this.highlightedIndex+=e,this.highlightedIndex<0?this.highlightedIndex=0:this.highlightedIndex>=n.length&&(this.highlightedIndex=n.length-1),this.optionsPane&&this.scrollIntoView()}ignoreClicks(e){e.preventDefault(),e.stopImmediatePropagation()}onFocus(){return(this.config.allowEdit||this.autoSuggest)&&this.inputElement.select(),!0}onBlur(){if(this.config.allowNull&&!this.decodeValueText(this.valueText))this.value=null;else if(this.config.allowEdit){const e=this.findElementByText(this.decodeValueText(this.valueText));this.value=e?e.value:this.decodeValueText(this.valueText)}else if(this.autoSuggest){const e=this.findElementByText(this.decodeValueText(this.valueText));e&&this.value!=e.value?this.value=e.value:this.syncValueTextWithValue()}return this.hide(),!0}onPaste(e){return!(!this.config.allowEdit&&!this.autoSuggest)}onInput(e){return this.filter(this.decodeValueText(this.valueText)),!this.showOptions&&this.autoSuggest&&this.show(),!1}onKeyPress(e){return this.searchString=this.searchString+e.key,void 0!==this.searchTimeout&&a.PLATFORM.global.clearTimeout(this.searchTimeout),this.config.allowEdit||this.autoSuggest?(this.showOptions||this.show(),!0):(this.search(this.searchString),this.searchTimeout=a.PLATFORM.global.setTimeout((()=>{this.searchString="",this.searchTimeout=void 0}),1e3),!1)}onKeyDown(e){if(this.ROMode)return!1;let n=!1;switch(e.key){case"Down":case"ArrowDown":this.showOptions?this.advanceSelection(1):(this.show(!0),null==this.highlightedIndex&&this.advanceSelection(1)),n=!0;break;case"Up":case"ArrowUp":this.showOptions?this.advanceSelection(-1):(this.show(!0),null==this.highlightedIndex&&this.advanceSelection(-1)),n=!0;break;case"Enter":void 0!==this.highlightedIndex&&this.select(this.getOptions()[this.highlightedIndex]);break;case"Esc":case"Escape":this.showOptions&&(this.hide(),n=!0)}if(!this.config.allowEdit&&!this.autoSuggest)switch(e.key){case" ":void 0!==this.highlightedIndex&&(this.select(this.getOptions()[this.highlightedIndex]),n=!0);break;case"Backspace":this.config.allowMultiSelect&&(this.value=""),this.config.allowNull&&(this.value=null),n=!0}return!n||(e.stopPropagation(),void 0!==this.searchTimeout&&clearTimeout(this.searchTimeout),!1)}getColorClass(e){return!e||e.startsWith("#")?"":`backcolor_${e.toLowerCase()}`}getAdditionalStyle(e){if(e&&e.startsWith("#"))return{background:e}}scrollIntoView(){var e,n;null!=this.highlightedIndex&&("scrollBehavior"in document.documentElement.style?null===(e=this.optionsPane.children[this.highlightedIndex])||void 0===e||e.scrollIntoView({block:"nearest"}):null===(n=this.optionsPane.children[this.highlightedIndex])||void 0===n||n.scrollIntoView(!1))}cloneOptions(e){this.options=e.map((({selected:e,value:n,imageUrl:r,text:o,enabled:i})=>({selected:e,value:n,imageUrl:r,text:o,enabled:i})))}getOptions(){return this.options||this.cloneOptions(this.config.options),this.options||[]}subscribeToOptionsChange(){this.optionsObserver&&this.optionsObserver.dispose(),this.config.options||(this.config.options=[]),this.optionsObserver=this.bindingEngine.collectionObserver(this.config.options).subscribe((()=>{this.options=void 0,this.autoSuggest=null==this.config.autoSuggest?this.config.options.length>10:this.config.autoSuggest,this.syncValueTextWithValue()}))}filter(e){if(this.highlightedIndex=0,!this.autoSuggest||!e||!this.config.options||0===this.config.options.length)return void this.cloneOptions(this.config.options);const n=e.toLocaleLowerCase(),r=new Array;this.config.options.forEach((e=>{e.text.toLocaleLowerCase().indexOf(n)>=0&&r.push(e)})),this.cloneOptions(r)}search(e){e=e.toLocaleLowerCase(),this.getOptions().find(((n,r)=>0===n.text.toLocaleLowerCase().indexOf(e)&&(this.highlight(r),this.select(n),!0)))}findElementByText(e){return e=e.toLocaleLowerCase(),this.getOptions().find(((n,r)=>!!(e&&n.text.toLocaleLowerCase()===e||!e&&!n.text)&&(this.highlight(r),this.select(n),!0)))}appendValue(e){if(this.config.allowMultiSelect){const n=this.valueArray.indexOf(e);if(-1===n){const n=this.valueArray.splice(0,this.valueArray.length).reduce(((e,n)=>(e[n]=!0,e)),{});n[e]=!0,this.config.options.forEach((e=>{n[e.value]&&this.valueArray.push(e.value)}))}else this.valueArray.splice(n,1);const r=this.config.valuesSeparator;this.value=this.valueArray.join(r)}else this.value=(0,p.netTypeConvert)(e,this.config.valueType)}};g.defaultConfig={enabled:!0,required:!1,valueType:u.NetType.String,autoSuggest:null,allowNull:!0,valuesSeparator:",",colorMode:!1,options:null},r.__decorate([o.bindable,r.__metadata("design:type",Object)],g.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],g.prototype,"value",void 0),r.__decorate([(0,o.computedFrom)("config.enabled","config.readOnly"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],g.prototype,"ROMode",null),g=b=r.__decorate([(0,o.customElement)("qp-drop-down"),o.autoinject,r.__metadata("design:paramtypes",[Element,d.Container])],g),n.QpDropDownCustomElement=g;n.DDElement=class DDElement{constructor(){this.selected=!1,this.enabled=!0}}}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/external-viewer/qp-external-viewer":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./utils/index.ts")],i=function(e,n,r,o,i){"use strict";var a;Object.defineProperty(n,"__esModule",{value:!0}),n.ResizeListener=n.QpExternalViewerCustomElement=void 0;let l=a=class QpExternalViewerCustomElement{constructor(){this.isAttached=!1,this.frameHeight=0,this.placeHolderHeight=0}attached(){this.isAttached=!0,this.applyConfig()}detached(){this.clearAutoHeight()}clearAutoHeight(){var e;this.frameHeight=0,this.placeHolderHeight=0,null===(e=this.listener)||void 0===e||e.dispose(),this.listener=void 0,this.resetTimer()}configChanged(e,n){void 0===n&&(0,i.applyDefaultValues)(e,a.defaultConfig),this.isAttached&&this.applyConfig()}applyConfig(){var e,n;(null===(e=this.config)||void 0===e?void 0:e.autoHeight)?(this.width=this.frameElement.getBoundingClientRect().width,null!==(n=this.listener)&&void 0!==n||(this.listener=new ResizeListener(this.frameElement,((e,n)=>this.handleResize(e)))),this.updateHeight()):this.clearAutoHeight()}resetTimer(){void 0!==this.timer&&(clearTimeout(this.timer),this.timer=void 0)}updateHeight(){void 0===this.timer?(this.placeHolderHeight=this.frameHeight,this.frameHeight=1):(clearTimeout(this.timer),this.timer=void 0),this.timer=setTimeout((()=>{var e;this.placeHolderHeight=0;try{this.frameHeight=function getContentHeight(e){var n,r,o;const i=null==e?void 0:e.body,a=null!==(n=null==i?void 0:i.offsetHeight)&&void 0!==n?n:0,l=null==i?void 0:i.parentElement,c=null!==(r=null==l?void 0:l.offsetHeight)&&void 0!==r?r:0,d=null!==(o=null==i?void 0:i.scrollHeight)&&void 0!==o?o:0;return d+(c-a)}(null===(e=this.frameElement.contentWindow)||void 0===e?void 0:e.document)}catch(e){this.frameHeight=0}this.resetTimer()}))}frameLoaded(){this.updateHeight()}handleResize(e){this.width!==e&&(this.width=e,this.updateHeight())}};l.defaultConfig={enabled:!0,readOnly:!1,scrolling:!0},r.__decorate([o.bindable,r.__metadata("design:type",Object)],l.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],l.prototype,"value",void 0),l=a=r.__decorate([o.autoinject,(0,o.customElement)("qp-external-viewer")],l),n.QpExternalViewerCustomElement=l;class ResizeListener{constructor(e,n){this.element=e;let r=0;this.observer=new ResizeObserver((e=>{const o=e&&e.length?e[0]:void 0;if(o){const{width:e,height:i}=o.contentRect;try{0==r++&&n(e,i)}finally{r--}}})),this.observer.observe(this.element)}dispose(){var e;null===(e=this.observer)||void 0===e||e.unobserve(this.element),this.observer=void 0}}n.ResizeListener=ResizeListener}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/icon/qp-hyper-icon":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./utils/platform-dependable-utils.ts"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o,i,a){"use strict";var l;Object.defineProperty(n,"__esModule",{value:!0}),n.QpHyperIconCustomElement=void 0;(0,a.getLogger)("qp-hyper-icon");const c="@",d="svg:";let u=l=class QpHyperIconCustomElement{constructor(){this.disabled=!1,this.currentMode="normal",this.pushed=!1}disabledChanged(){this.disabled?this.currentMode="disabled":this.currentMode="normal"}imagesChanged(e,n){this.images.hover||(this.images.hover=this.images.normal),this.images.pushed||(this.images.pushed=this.images.hover),this.images.disabled||(this.images.disabled=this.images.normal)}OnMouseOver(){this.disabled||(this.pushed?this.currentMode="pushed":this.currentMode="hover")}OnMouseOut(){this.disabled||(this.currentMode="normal",this.pushed=!1)}OnMouseDown(){this.disabled||(this.currentMode="pushed",this.pushed=!0)}OnClick(){this.disabled||(this.currentMode="normal",this.pushed=!1)}get SpriteName(){return this.images&&l.parseSpriteName(this.images[this.currentMode])}get ImageName(){if(!this.images)return;if("svg"===l.parseImageType(this.images[this.currentMode])){const e=i.topWindow.__svg_icons_path,n=window.VENDOR_TIME_STAMP||"a",r=this.images[this.currentMode],o=r.indexOf("@"),a=r.substring(4,o);let l=r.substring(o+1);return l=e?`${e}${a}.svg?${n}#${l}`:`${i.siteRoot}Content/svg_icons/${a}.svg?${n}#${l}`,l}return l.parseImageName(this.images[this.currentMode])}get ImageType(){return this.images&&l.parseImageType(this.images[this.currentMode])}get SvgUrl(){if(!this.images)return;const e=this.images[this.currentMode],n=e.indexOf(c);if(n<0)return;if(0!==e.indexOf(d))return;const r=window.VENDOR_TIME_STAMP||"a",o=e.substring(4,n),a=e.substring(n+1),l=i.topWindow.__svg_icons_path;return l?`${l}${o}.svg?${r}#${a}`:`${i.siteRoot}/Content/svg_icons/${o}.svg?${r}#${a}`}static parseSpriteName(e){const n=e.indexOf(c);if(n<0)return null;const r=e.indexOf(d);return r>=0?e.substring(r+4,n):e.substring(0,n)}static parseImageName(e){const n=e.indexOf(c);return n<0?e:e.substr(n+1)}static parseImageType(e){let n=e.indexOf(d);return 0===n?"svg":(n=e.indexOf(c),n>=0?"sprite":"img")}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],u.prototype,"images",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],u.prototype,"disabled",void 0),r.__decorate([(0,o.computedFrom)("images","currentMode"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],u.prototype,"SpriteName",null),r.__decorate([(0,o.computedFrom)("images","currentMode"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],u.prototype,"ImageName",null),r.__decorate([(0,o.computedFrom)("images","currentMode"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],u.prototype,"ImageType",null),r.__decorate([(0,o.computedFrom)("images","currentMode"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],u.prototype,"SvgUrl",null),u=l=r.__decorate([o.autoinject,(0,o.customElement)("qp-hyper-icon")],u),n.QpHyperIconCustomElement=u}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/icon/qp-icon":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./utils/platform-dependable-utils.ts"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpIconCustomElement=void 0;(0,a.getLogger)("qp-icon");let l=class QpIconCustomElement{constructor(){this.imagesrc=null,this.spriteName=null,this.imageName=null,this.imageType=null,this.imageReady=!1}imgLoaded(){this.imageReady=!0}imagesrcChanged(e,n){const r=e||"";let i=!r;if(i)return this.spriteName=null,this.imageName=null,void(this.imageType=null);const a="svg:",l=r.indexOf("@");if(l<0&&(i=!0),i)return this.spriteName=null,r.startsWith("/")&&o.siteRoot&&!r.startsWith(o.siteRoot)?this.imageName=o.siteRoot+r.substring(1):this.imageName=r,void(this.imageType="img");const c=r.indexOf(a);if(this.spriteName=c>=0?r.substring(c+4,l):r.substring(0,l),this.imageName=r.substr(l+1),0===c){this.imageType="svg";const e=window.VENDOR_TIME_STAMP||"a",n=o.topWindow.__svg_icons_path;this.imageName=n?`${n}${this.spriteName}.svg?${e}#${this.imageName}`:`${o.siteRoot}Content/svg_icons/${this.spriteName}.svg?${e}#${this.imageName}`}else{const e=r.split("@");2===e.length?"fa"===e[0]?this.imageType="fa":this.imageType="sprite":this.imageType="img"}}};r.__decorate([i.bindable,(0,i.observable)({changeHandler:"imagesrcChanged"}),r.__metadata("design:type",Object)],l.prototype,"imagesrc",void 0),r.__decorate([i.bindable,r.__metadata("design:type",String)],l.prototype,"width",void 0),r.__decorate([i.bindable,r.__metadata("design:type",String)],l.prototype,"height",void 0),l=r.__decorate([i.autoinject,(0,i.customElement)("qp-icon")],l),n.QpIconCustomElement=l}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/image/components/gallery/carousel":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/compound/rich-text-editor/common/keyboard.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CarouselCustomElement=void 0;let a=class CarouselCustomElement{constructor(e){this.element=e,this.previousEnabled=!0,this.nextEnabled=!0}move(e){var n,r;e?this.nextEnabled&&(null===(n=this.next)||void 0===n||n.call(this,{})):this.previousEnabled&&(null===(r=this.previous)||void 0===r||r.call(this,{}))}changePosition(e,n){(0,i.hasShortcutModifier)(e)||this.move(n),e.stopImmediatePropagation(),e.preventDefault()}carouselBodyChanged(){var e;null===(e=this.shortcuts)||void 0===e||e.dispose(),this.shortcuts=void 0,this.carouselBody&&(this.shortcuts=new i.ShortcutService(this.carouselBody).addShortcut("Ctrl+ArrowLeft, PageUp",(()=>this.move(!1))).addShortcut("Ctrl+ArrowRight, PageDown",(()=>this.move(!0))))}};r.__decorate([o.bindable,r.__metadata("design:type",Function)],a.prototype,"previous",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],a.prototype,"next",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],a.prototype,"previousEnabled",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],a.prototype,"nextEnabled",void 0),r.__decorate([o.observable,r.__metadata("design:type",Element)],a.prototype,"carouselBody",void 0),a=r.__decorate([o.autoinject,(0,o.customElement)("carousel"),r.__metadata("design:paramtypes",[Element])],a),n.CarouselCustomElement=a}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/image/components/gallery/image-feed":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/compound/rich-text-editor/editor/dom.ts"),r("./controls/simple/image/components/types/index.ts"),r("./controls/simple/image/components/utils.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ImageFeedCustomElement=void 0;let c=class ImageFeedCustomElement{constructor(e){this.element=e,this.index=-1,this.ratio=1.618,this.feedHeight=0,this.feedWidth=0,this.imageWidth=1/0,this.imageGap=0,this.leftTrack=0,this.rightTrack=0,this.feedOffset=0,this.images=[],this.loadedImages=new Map}bind(){}attached(){this.imageGap=Math.max(0,2*(0,i.getNumberCSSProperty)(this.element,"--image-view-image-padding",0)),this.listeners=new l.Disposables([new l.ResizeListener(this.element,((e,n)=>this.processResize(e,n)))]),this.collectionChanged()}detached(){var e,n;null===(e=this.listeners)||void 0===e||e.dispose(),null===(n=this.changeHandler)||void 0===n||n.dispose(),this.changeHandler=void 0}collectionChanged(){var e;return r.__awaiter(this,void 0,void 0,(function*(){null===(e=this.changeHandler)||void 0===e||e.dispose(),this.changeHandler=void 0,this.loadedImages.clear(),this.images.splice(0,this.images.length),this.feedOffset=0,this.leftTrack=0,this.rightTrack=0;const repaint=()=>r.__awaiter(this,void 0,void 0,(function*(){const e=this.element.getBoundingClientRect();yield this.processResize(e.width,e.height)}));(0,a.isMutableCollection)(this.collection)&&(this.changeHandler=this.collection.addMutationHandler((e=>{e.some((e=>"changed"!==e.name))&&repaint()}))),yield repaint()}))}loadImages(e,n){return r.__asyncGenerator(this,arguments,(function*loadImages_1(){var o,i;const a=this.collection;if(!a||void 0===e||n<=0)return yield r.__await(void 0);const l=a.getRange(e,n);try{for(var c,d=r.__asyncValues(l);!(c=yield r.__await(d.next())).done;){const n=c.value;if(a!==this.collection)return yield r.__await(void 0);const o={index:e++,source:n};this.loadedImages.set(o.index,o),yield yield r.__await(o)}}catch(e){o={error:e}}finally{try{c&&!c.done&&(i=d.return)&&(yield r.__await(i.call(d)))}finally{if(o)throw o.error}}}))}getImages(e,n){return r.__asyncGenerator(this,arguments,(function*getImages_1(){let o,i=0;for(let a=0;a<n;a++){const n=a+e,l=this.loadedImages.get(n);void 0===l?(null!=o||(o=n),i++):(yield r.__await(yield*r.__asyncDelegator(r.__asyncValues(this.loadImages(o,i)))),i=0,o=void 0,yield yield r.__await(l))}yield r.__await(yield*r.__asyncDelegator(r.__asyncValues(this.loadImages(o,i))))}))}getImageInFrame(e){return e=Math.max(0,e),!!this.images.find((n=>n.index===e))}scrollToSelected(){var e;if(!this.feed)return;const n=Math.max(0,this.index),r=this.images.findIndex((e=>e.index===n));if(-1===r)return;const o=this.feedWidth,a=this.images.length,l=this.imageWidth+this.imageGap,c=a*l;if(c<=o)return this.leftTrack=0,this.rightTrack=0,void(this.feedOffset=0);if("center"===(null!==(e=(0,i.getCSSProperty)(this.feed,"justify-content"))&&void 0!==e?e:"").toLowerCase()){this.feedOffset=0;const e=c+this.leftTrack+this.rightTrack,n=[this.leftTrack+r*l,this.leftTrack+(r+1)*l],i=[(e-o)/2,(e+o)/2];if(n[0]>=i[0]&&n[1]<=i[1])this.leftTrack+c<i[1]?(this.leftTrack=0,this.rightTrack=c-o):this.leftTrack>i[0]&&(this.leftTrack=c-o,this.rightTrack=0);else{if(n[0]<i[0]){const e=this.rightTrack-2*(i[0]-n[0]);return void(e>0?this.rightTrack=e:(this.rightTrack=0,this.leftTrack-=e))}{const e=this.leftTrack-2*(n[1]-i[1]);e>0?this.leftTrack=e:(this.leftTrack=0,this.rightTrack-=e)}}}else{this.leftTrack=0,this.rightTrack=0;const e=[r*l,(r+1)*l],n=[this.feedOffset,this.feedOffset+o];e[0]>=n[0]&&e[1]<=n[1]?c<n[1]&&(this.feedOffset=c-o):e[0]<n[0]?this.feedOffset=e[0]:this.feedOffset=e[1]-o}}updateVisibleImages(e){var n,o,i,a;return r.__awaiter(this,void 0,void 0,(function*(){const l=this.collection;if(l)try{null!=e||(e=this.images.length);const b=[];if(e>0){let l=0;const g=Math.max(0,this.index);if(this.getImageInFrame(g)){if(this.images.length===e)return;l=this.images[0].index}else l=0===this.images.length||g<this.images[0].index?g:Math.max(0,g-e+1);try{for(var c,d=r.__asyncValues(this.getImages(l,e));!(c=yield d.next()).done;){const e=c.value;b.push(e)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=d.return)&&(yield o.call(d))}finally{if(n)throw n.error}}if(b.length<e){const n=Math.max(0,l-e+b.length),o=Math.max(0,l-n);if(o>0){const e=[];try{for(var u,p=r.__asyncValues(this.getImages(n,o));!(u=yield p.next()).done;){const n=u.value;e.push(n)}}catch(e){i={error:e}}finally{try{u&&!u.done&&(a=p.return)&&(yield a.call(p))}finally{if(i)throw i.error}}b.unshift(...e)}}}l===this.collection&&(this.images=b)}finally{this.scrollToSelected()}}))}updateImageCount(e){return r.__awaiter(this,void 0,void 0,(function*(){const n=this.imageWidth>0?Math.ceil(e/(this.imageWidth+this.imageGap)):0;0!==n?yield this.updateVisibleImages(1+n+1):this.images=[]}))}processResize(e,n){return r.__awaiter(this,void 0,void 0,(function*(){this.feedHeight=n,this.feedWidth=e,this.imageWidth=Math.max(0,this.feedHeight-this.imageGap)*this.ratio,yield this.updateImageCount(e)}))}selectImage(e,n){var r;this.index=n,null===(r=this.selected)||void 0===r||r.call(this,{source:e,index:n})}indexChanged(){return r.__awaiter(this,void 0,void 0,(function*(){this.index>=0&&(this.getImageInFrame(this.index)?this.scrollToSelected():yield this.updateVisibleImages())}))}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"collection",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],c.prototype,"index",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],c.prototype,"ratio",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],c.prototype,"selected",void 0),c=r.__decorate([o.autoinject,(0,o.customElement)("image-feed"),r.__metadata("design:paramtypes",[Element])],c),n.ImageFeedCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/image/components/gallery/image-gallery":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/compound/rich-text-editor/common/keyboard.ts"),r("./controls/simple/image/components/types/index.ts"),r("./controls/simple/image/components/utils.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ImageGalleryCustomElement=void 0;let c=class ImageGalleryCustomElement{constructor(e){this.element=e,this.showFeed=!0,this.showArrows=!0,this.allowNull=!0,this.imageStyle="",this.readOnly=!1,this.allowZoom=!1,this.maxIndex=1/0}bind(){}attached(){this.collectionChanged()}detached(){var e,n;null===(e=this.shortcuts)||void 0===e||e.dispose(),this.shortcuts=void 0,null===(n=this.changeHandler)||void 0===n||n.dispose(),this.changeHandler=void 0}get minIndex(){return this.allowNull?-1:Math.min(0,this.maxIndex)}collectionChanged(){var e;return r.__awaiter(this,void 0,void 0,(function*(){this.imageSource=void 0,this.imageIndex=void 0,this.maxIndex=1/0,null===(e=this.changeHandler)||void 0===e||e.dispose(),this.changeHandler=void 0;const n=this.collection;if(n){const updateLength=e=>r.__awaiter(this,void 0,void 0,(function*(){n===this.collection&&(this.maxIndex=e-1,void 0!==this.index&&(this.index=(0,l.clamp)(this.minIndex,this.index,this.maxIndex),yield this.receiveImage()))})),update=()=>r.__awaiter(this,void 0,void 0,(function*(){n===this.collection&&(yield updateLength(yield n.getCount()))}));yield update(),(0,a.isMutableCollection)(n)&&(this.changeHandler=n.addMutationHandler((e=>{let n=0,r=!1;e.forEach((e=>{switch(e.name){case"changed":e.item===this.imageSource&&this.imageChanged();break;case"removed":e.item===this.imageSource&&(r=!0),n--;break;case"added":n++}})),r?this.collectionChanged():0!==n&&updateLength(this.maxIndex+n+1)})))}}))}imageChanged(){}indexChanged(){var e;return r.__awaiter(this,void 0,void 0,(function*(){const n=(0,l.clamp)(this.minIndex,null!==(e=this.index)&&void 0!==e?e:this.minIndex,this.maxIndex);n!==this.index&&(this.index=n),yield this.receiveImage()}))}galleryChanged(){var e;null===(e=this.shortcuts)||void 0===e||e.dispose(),this.shortcuts=void 0,this.gallery&&(this.shortcuts=new i.ShortcutService(this.gallery).addShortcut("ArrowLeft, ArrowUp, PageUp",(()=>this.move(-1))).addShortcut("ArrowRight, ArrowDown, PageDown",(()=>this.move(1))).addShortcut("Home",(()=>this.gotoStart())).addShortcut("End",(()=>this.gotoEnd())))}imageLoaded(e,n){var r;this.imageSource===e&&void 0!==this.imageIndex&&(null===(r=this.imageReady)||void 0===r||r.call(this,{source:e,image:n,index:this.imageIndex}))}receiveImage(){return r.__awaiter(this,void 0,void 0,(function*(){const e=this.index;if(!this.collection||void 0===e||e<0||e>this.maxIndex)return this.imageSource=void 0,void(this.imageIndex=void 0);if(this.imageSource&&this.imageIndex===e)return;const n=this.collection,r=yield n.getAt(e);n===this.collection&&e===this.index&&(r?(this.imageSource=r,this.imageIndex=e):void 0!==this.imageIndex?this.index=this.imageIndex:this.index=e>0?0:this.minIndex)}))}cancelImage(e){var n,r;null===(n=this.imageView)||void 0===n||n.reset(),e===this.imageSource&&void 0!==this.imageIndex&&(null===(r=this.imageCancel)||void 0===r||r.call(this,{source:e,index:this.imageIndex}))}clickImage(e,n){var r;this.imageSource===e&&void 0!==this.imageIndex&&(null===(r=this.imageClick)||void 0===r||r.call(this,{source:e,image:n,index:this.imageIndex}))}userSelect(e){var n;return r.__awaiter(this,void 0,void 0,(function*(){this.readOnly||this.index!==e&&(this.index=e,yield this.indexChanged(),null===(n=this.selected)||void 0===n||n.call(this,{source:this.imageSource,index:this.index}))}))}move(e){var n;this.userSelect((0,l.clamp)(this.minIndex,(null!==(n=this.index)&&void 0!==n?n:this.minIndex)+e,this.maxIndex))}gotoStart(){this.userSelect(0)}gotoEnd(){this.userSelect(this.maxIndex)}feedSelected(e,n){this.userSelect(n)}get sizeStyles(){let e="";const n=(0,l.convertToStylePixels)(this.width);void 0!==n&&(e+=`width: ${n};`);const r=(0,l.convertToStylePixels)(this.height);return void 0!==r&&(e+=`height: ${r};`),e}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"collection",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"width",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"height",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],c.prototype,"index",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],c.prototype,"showFeed",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],c.prototype,"showArrows",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],c.prototype,"allowNull",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],c.prototype,"imageStyle",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],c.prototype,"readOnly",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],c.prototype,"allowZoom",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],c.prototype,"imageClick",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],c.prototype,"imageCancel",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],c.prototype,"imageReady",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],c.prototype,"selected",void 0),r.__decorate([o.observable,r.__metadata("design:type",Object)],c.prototype,"imageSource",void 0),r.__decorate([o.observable,r.__metadata("design:type",HTMLElement)],c.prototype,"gallery",void 0),r.__decorate([(0,o.computedFrom)("width","height"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],c.prototype,"sizeStyles",null),c=r.__decorate([o.autoinject,(0,o.customElement)("image-gallery"),r.__metadata("design:paramtypes",[Element])],c),n.ImageGalleryCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"./controls/simple/image/components/index.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./controls/simple/image/components/types/index.ts"),r("./controls/simple/image/components/utils.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.__exportStar(o,n),r.__exportStar(i,n)}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/image/components/popup/image-popup":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/index.ts"),r("./controls/compound/rich-text-editor/common/keyboard.ts"),r("./controls/simple/image/components/utils.ts"),r("./controls/simple/image/components/types/index.ts")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ImagePopupCustomElement=void 0;let d=class ImagePopupCustomElement{constructor(e,n){this.element=e,this.bindingEngine=n,this.index=0,this.visible=!1,this.maxIndex=1/0,this.Messages=i.Messages,this.serviceButtons=[{modelName:"button",model:{id:"print",icon:"svg:main@print",getLabel:()=>this.Messages.PrintImageActionTitle,execute:()=>this.print()}},{modelName:"button",model:{id:"download",icon:"main@GetFile",getLabel:()=>this.Messages.DownloadImageActionTitle,execute:()=>this.download()}}]}attached(){this.updateToolbar()}detached(){this.visible=!1,this.detachListeners()}detachListeners(){var e,n;null===(e=this.propertyListeners)||void 0===e||e.dispose(),this.propertyListeners=void 0,null===(n=this.collectionListener)||void 0===n||n.dispose(),this.collectionListener=void 0}visibleChanged(){var e;this.visible?this.shortcuts=new a.ShortcutService(this.element.ownerDocument.documentElement).addShortcut("ArrowLeft, ArrowUp, PageUp",(()=>this.move(-1))).addShortcut("ArrowRight, ArrowDown, PageDown",(()=>this.move(1))).addShortcut("Home",(()=>this.index=0)).addShortcut("End",(()=>this.index=this.maxIndex)).addShortcut("Enter",(()=>this.ok())).addShortcut("Escape",(()=>this.cancel())):(null===(e=this.shortcuts)||void 0===e||e.dispose(),this.shortcuts=void 0)}srcChanged(){return r.__awaiter(this,void 0,void 0,(function*(){(0,c.isImageUrl)(this.src)||(0,c.isImageSource)(this.src)?this.collection=(0,l.createImageCollection)([this.src]):(0,c.isImageCollection)(this.src)?this.collection=this.src:this.collection=void 0}))}collectionChanged(){return r.__awaiter(this,void 0,void 0,(function*(){this.detachListeners(),this.maxIndex=1/0,this.collection&&(this.maxIndex=(yield this.collection.getCount())-1,(0,c.isMutableCollection)(this.collection)&&(this.collectionListener=this.collection.addMutationHandler((e=>{this.collectionChanged()}))))}))}move(e){this.index=(0,l.clamp)(0,this.index+e,this.maxIndex)}closePopup(e){var n;null===(n=this.close)||void 0===n||n.call(this,{succeeded:e}),this.visible=!1}ok(){this.closePopup(!0)}cancel(){this.closePopup(!1)}imageReady(e,n){var r;this.imageSource=e,this.image=n,this.imageName=null!==(r=e.name)&&void 0!==r?r:this.Messages.NoImageImagePopupCaption,this.updateToolbar()}imageSelected(e){this.index=e,this.updateToolbar()}updateToolbarState(){Promise.resolve().then((()=>{var e,n;return null===(n=null===(e=this.toolbar)||void 0===e?void 0:e.refresh)||void 0===n?void 0:n.call(e)}))}updateToolbar(){var e,n,r;const o=[],i=[],a=[],l=this.image,c=this.imageSource;if(c&&l){const createToolbarButton=(e,n)=>({id:e,modelName:"button",model:{id:e,icon:n.icon,getLabel:()=>{var e;return null!==(e=n.label)&&void 0!==e?e:""},getEnabled:()=>{var n,r;if(!this.image)return!1;const o=null===(r=null===(n=this.imageSource)||void 0===n?void 0:n.queryAction)||void 0===r?void 0:r.call(n,e,this.image);return!!o&&!o.disabled},execute:()=>{var e,r,o;if(!this.image)return!1;const i=null!==(o=null===(r=null===(e=this.imageSource)||void 0===e?void 0:e.executeCommand)||void 0===r?void 0:r.call(e,n.command,this.image,n.args))&&void 0!==o&&o;return i&&this.updateToolbarState(),i}}}),r=(null!==(n=null===(e=c.getActions)||void 0===e?void 0:e.call(c))&&void 0!==n?n:[]).map((e=>{var n;return{name:e,action:null===(n=c.queryAction)||void 0===n?void 0:n.call(c,e,l)}})).filter((e=>!!e.action&&!e.action.hidden));o.push(...r.filter((e=>"edit"!==e.name)).map((e=>createToolbarButton(e.name,e.action)))),i.push(...r.filter((e=>"edit"===e.name)).map((e=>createToolbarButton(e.name,e.action)))),c.name&&a.push(...this.serviceButtons),this.propertyListeners=this.bindingEngine.propertyObserver(l,"scale").subscribe((()=>this.updateToolbarState()))}this.toolbarToolsConfig={type:"main",sizing:"ellipsis",showMode:"both",items:[...o,...a,...i]},null!==(r=this.toolbarSystemConfig)&&void 0!==r||(this.toolbarSystemConfig={type:"panel",sizing:"fit-content",showMode:"icons",items:[{modelName:"button",model:{id:"close",icon:"svg:main@close",execute:()=>(this.cancel(),!0)}}]})}download(){var e;if(!this.image||!this.imageSource)return!1;const n=document.createElement("a");return n.style.display="none",n.download=null!==(e=this.imageSource.name)&&void 0!==e?e:"",n.href=this.image.url,document.body.append(n),n.click(),n.remove(),!0}print(){if(!this.image||!this.imageSource)return!1;const e=window.open("about:blank","_new");if(!e)return!1;const n=e.document;return n.open(),n.write(`\n\t\t\t<html><body onload="window.print()" onafterprint="window.close()">\n\t\t\t\t<img src="${this.image.url}"/>\n\t\t\t</body></html>`),n.close(),!0}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],d.prototype,"src",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Number)],d.prototype,"index",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],d.prototype,"visible",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],d.prototype,"close",void 0),r.__decorate([o.observable,r.__metadata("design:type",Object)],d.prototype,"collection",void 0),d=r.__decorate([o.autoinject,(0,o.customElement)("image-popup"),r.__metadata("design:paramtypes",[Element,o.BindingEngine])],d),n.ImagePopupCustomElement=d}.apply(n,o),void 0===i||(e.exports=i)},"./controls/simple/image/components/types/collection.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0})}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./controls/simple/image/components/types/image-collection.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isMutableCollection=n.isImageCollection=n.isImageSource=n.isImageUrl=void 0,n.isImageUrl=function isImageUrl(e){return"string"==typeof e},n.isImageSource=function isImageSource(e){return"object"==typeof e&&"data"in e},n.isImageCollection=function isImageCollection(e){return"object"==typeof e&&"getCount"in e},n.isMutableCollection=function isMutableCollection(e){return"object"==typeof e&&"addMutationHandler"in e}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./controls/simple/image/components/types/index.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./controls/simple/image/components/types/collection.ts"),r("./controls/simple/image/components/types/image-collection.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.__exportStar(o,n),r.__exportStar(i,n)}.apply(n,o),void 0===i||(e.exports=i)},"./controls/simple/image/components/utils.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./controls/compound/rich-text-editor/common/types.ts"),r("./controls/simple/image/components/types/index.ts"),r("./services/index.ts"),r("./utils/platform-dependable-utils.ts")],i=function(e,n,r,o,i,a,l){"use strict";function createSharedImageGetter(e){return new SharedImageGetter(e)}var c,d;Object.defineProperty(n,"__esModule",{value:!0}),n.clamp=n.createAbsoluteUrl=n.Disposables=n.ResizeListener=n.IntersectionListener=n.MutationListener=n.convertToStyleAbsolutePixels=n.convertToStylePixels=n.createImageCollection=n.crateImageSource=n.ZoomFeature=n.getImageName=n.SharedImageGetterError=n.createUploadImageGetter=n.createSharedImageGetter=void 0,n.createSharedImageGetter=createSharedImageGetter,n.createUploadImageGetter=function createUploadImageGetter(e,n,r){return new UploadImageGetter(e,n,r)},function(e){e.InvalidMime="Invalid image type"}(c=n.SharedImageGetterError||(n.SharedImageGetterError={}));class BaseSharedImageGetter{constructor(e){this.url=e,this.requests=[]}createGetter(e){const getValue=()=>r.__awaiter(this,void 0,void 0,(function*(){this.addRequest(e);try{const n=yield this.getUrl();if(void 0===n)return;return{url:n,size:(null==e?void 0:e.size)?Object.assign({},e.size):void 0,scale:1}}finally{this.removeRequest(e)}}));return{get value(){return getValue()},cancel:()=>this.abort()}}abort(){this.promise=void 0}addRequest(e){e&&e.progressHandler&&-1===this.requests.indexOf(e)&&this.requests.push(e)}removeRequest(e){if(e){const n=this.requests.indexOf(e);-1!==n&&this.requests.splice(n,1)}}sendProgress(e){this.requests.forEach((n=>{var r;return!n.canceled&&(null===(r=n.progressHandler)||void 0===r?void 0:r.call(n,e,n))}))}}class SharedImageGetter extends BaseSharedImageGetter{abort(){var e;null===(e=this.loader)||void 0===e||e.abort(),super.abort()}getUrl(){var e;return null!==(e=this.promise)&&void 0!==e?e:this.promise=new Promise((e=>{const send=n=>{this.loader=void 0,e(n)},n=this.url;if(n.startsWith("blob:"))return send(n);const error=e=>{void 0===e?this.sendProgress(!1):this.sendProgress({message:e}),this.promise=void 0,send()},r=this.loader=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=e=>{if(!r)return;const n=r.getAllResponseHeaders().match(/^Content-Type\:\s*(.*?)$/im),o=(n&&n[1]||"image/png").toLowerCase();o.startsWith("image")?send(URL.createObjectURL(new Blob([r.response],{type:o}))):error(c.InvalidMime)},r.onprogress=e=>{e.lengthComputable&&this.sendProgress(e.loaded/e.total*100)},r.onloadstart=()=>this.sendProgress(0),r.onloadend=()=>this.loader&&this.sendProgress(1/0),r.onabort=r.ontimeout=r.onerror=()=>error(),r.send()}))}}class EndlessProgress{constructor(e){this.handler=e,this.position=0,this.interval=setInterval((()=>this.step()),1e3)}dispose(){void 0!==this.interval&&(clearInterval(this.interval),this.interval=void 0)}step(){const e=Math.max(0,90-this.position),n=Math.max(Number.EPSILON,1*e/10);this.position=Math.min(90,this.position+n),this.handler(this.position)}}class UploadImageGetter extends BaseSharedImageGetter{constructor(e,n,r){super(n),this.name=e,this.controller=r}createGetter(e){return Object.assign(super.createGetter(e),{preview:this.url,progressTitle:(0,a.Format)(a.Messages.UploadingImageMessage,getImageName(this.name))})}setController(e){this.controller=e}fullfil(e){var n,r;this.clearProgress();const o=e?this.url:void 0;null===(n=this.resolve)||void 0===n||n.call(this,o),null!==(r=this.promise)&&void 0!==r||(this.promise=Promise.resolve(o))}abort(){var e;null===(e=this.controller)||void 0===e||e.abort(),this.clearProgress(),super.abort()}getUrl(){var e;return null!==(e=this.promise)&&void 0!==e?e:this.promise=new Promise((e=>{this.progress=new EndlessProgress((e=>this.sendProgress(e))),this.resolve=e}))}clearProgress(){var e;null===(e=this.progress)||void 0===e||e.dispose(),this.progress=void 0}}function getImageName(e){if(!e)return"";let n=e.replace("\\","/");n=n.substring(n.lastIndexOf("/")+1);try{return decodeURIComponent(n)}catch(e){return n}}n.getImageName=getImageName,function(e){e.CommandName="zoom",e.InActionName="zoom-in",e.OutActionName="zoom-out",e.MinValue=1,e.Delta=.2,e.MaxValue=30,e.zoomImage=function zoomImage(n,r){var i;let a=null!==(i=n.scale)&&void 0!==i?i:1;return"number"==typeof r?a=r:"object"==typeof r&&r&&"number"==typeof r.delta&&(a+=r.delta),(0,o.mutable)(n).scale=Math.max(e.MinValue,Math.min(a,e.MaxValue)),!0}}(d=n.ZoomFeature||(n.ZoomFeature={}));class ImageSource{constructor(e){this.url=e,this.commands=[{name:d.CommandName,execute:(e,n)=>d.zoomImage(e,n),query:e=>({minValue:d.MinValue,maxValue:d.MaxValue,value:e.scale})}],this.actions=[{name:d.InActionName,query:e=>{var n;return{command:d.CommandName,args:{delta:d.Delta},icon:"svg:main@plus",disabled:(null!==(n=e.scale)&&void 0!==n?n:d.MinValue)===d.MaxValue}}},{name:d.OutActionName,query:e=>{var n;return{command:d.CommandName,args:{delta:-d.Delta},icon:"svg:main@minus",disabled:(null!==(n=e.scale)&&void 0!==n?n:d.MinValue)===d.MinValue}}}],this.name=getImageName(e)}get(e){var n;return null!==(n=this.getter)&&void 0!==n||(this.getter=createSharedImageGetter(this.url)),this.getter.createGetter(e)}getActions(){return this.actions.map((e=>e.name))}queryAction(e,n){var r;return null===(r=this.actions.find((n=>n.name===e)))||void 0===r?void 0:r.query(n)}getCommands(){return this.commands.map((e=>e.name))}queryCommand(e,n){var r;return null===(r=this.commands.find((n=>n.name===e)))||void 0===r?void 0:r.query(n)}executeCommand(e,n,r){var o,i;return null!==(i=null===(o=this.commands.find((n=>n.name===e)))||void 0===o?void 0:o.execute(n,r))&&void 0!==i&&i}}function crateImageSource(e){return new ImageSource(e)}n.crateImageSource=crateImageSource,n.createImageCollection=function createImageCollection(e){const n=Array.from(e).map((e=>new o.Lazy((()=>(0,i.isImageUrl)(e)?crateImageSource(e):e))));return{getCount(){return r.__awaiter(this,void 0,void 0,(function*(){return n.length}))},getAt(e){return r.__awaiter(this,void 0,void 0,(function*(){if(e>=0&&e<n.length)return n[e].get()}))},getRange(e,o){return r.__asyncGenerator(this,arguments,(function*getRange_1(){const i=Math.min(n.length,e+o);for(let o=Math.max(0,e);o<i;o++)yield yield r.__await(n[o].get())}))}}},n.convertToStylePixels=function convertToStylePixels(e){return"number"==typeof e?`${e}px`:"string"==typeof e?/^[\d\s\.]*$/.test(e.toLowerCase())?`${parseInt(e)}px`:e:void 0},n.convertToStyleAbsolutePixels=function convertToStyleAbsolutePixels(e){if("number"==typeof e)return`${e}px`;if("string"==typeof e){if(/^[\d\s\.]*$/.test(e.toLowerCase()))return`${parseInt(e)}px`;if(!/\%/.test(e))return e}};n.MutationListener=class MutationListener{constructor(e,n,r){this.element=e,this.observer=new MutationObserver(n),this.observer.observe(this.element,r)}dispose(){this.observer.disconnect()}};n.IntersectionListener=class IntersectionListener{constructor(e,n,r){this.container=e,this.targets=n,this.observer=new IntersectionObserver(r,{root:e,threshold:0}),n.forEach((e=>this.observer.observe(e)))}dispose(){this.targets.forEach((e=>this.observer.unobserve(e)))}};n.ResizeListener=class ResizeListener{constructor(e,n){this.element=e;let r=0;this.observer=new ResizeObserver((e=>{try{if(0==r++){const r=e&&e.length?e[0]:void 0;if(r){const{width:e,height:o}=r.contentRect;n(e,o)}}}finally{r--}})),this.observer.observe(this.element)}dispose(){var e;null===(e=this.observer)||void 0===e||e.unobserve(this.element)}};n.Disposables=class Disposables{constructor(e){this.items=[],e&&this.append(...e)}append(...e){this.items.push(...e.filter((e=>!!e)))}dispose(){this.items.forEach((e=>e.dispose())),this.items.length=0}},n.createAbsoluteUrl=function createAbsoluteUrl(e){return e?e.startsWith("/")&&l.siteRoot&&!e.startsWith(l.siteRoot)?l.siteRoot+e.substring(1):e:""},n.clamp=function clamp(e,n,r){return Math.max(e,Math.min(n,r))}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/simple/image/components/view/image-scale.ts":function(e,n,r){var o,i;o=[r,n,r("./controls/compound/rich-text-editor/common/events.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ZoomPanController=void 0;class Transformations{constructor(e,n,r,o,i){this.originX=e,this.originY=n,this.translateX=r,this.translateY=o,this.scale=i}transform(){return this.scale>1?`matrix(${this.scale.toFixed(1)}, 0, 0, ${this.scale.toFixed(1)}, ${this.translateX.toFixed(1)}, ${this.translateY.toFixed(1)})`:""}transformOrigin(){return this.scale>1?`${this.originX.toFixed(10)}px ${this.originY.toFixed(10)}px`:""}shift(e,n){return 1===this.scale?this:new Transformations(this.originX,this.originY,this.translateX+e,this.translateY+n,this.scale)}zoom(e,n,r){if(1===(e=Math.max(1,Math.min(e,Infinity))))return new Transformations(0,0,0,0,1);const o=this.originX*this.scale,i=this.originY*this.scale;if(Math.abs(n-o)<=1&&Math.abs(r-i)<=1)return new Transformations(this.originX,this.originY,this.translateX,this.translateY,e);const a=n/this.scale,l=r/this.scale,c=this.translateX+(n-o)*(1-1/this.scale),d=this.translateY+(r-i)*(1-1/this.scale);return new Transformations(a,l,c,d,e)}}n.ZoomPanController=class ZoomPanController{constructor(e,n){this.element=e,this.handler=n,this.current=new Transformations(0,0,0,0,1),this.eventManager=new r.EventManager,["wheel","mousedown","mouseup","mousemove"].forEach((e=>this.eventManager.on(this.element,e,this[e].bind(this))))}dispose(){this.handler=void 0,this.eventManager.dispose(),this.applyTransformations(new Transformations(0,0,0,0,1))}get zoom(){return this.current.scale}setZoom(e){if(this.current.scale!==e){let{originX:n,originY:r}=this.current;if(1===this.current.scale&&0===n&&0===r){const e=this.element.getBoundingClientRect();n=e.width/2,r=e.height/2}else n*=this.current.scale,r*=this.current.scale;this.applyTransformations(this.current.zoom(e,n,r))}}shift(e,n){this.applyTransformations(this.current.shift(e,n))}reset(){this.setZoom(1)}applyTransformations(e){var n;const r=this.element.style,o=e.transformOrigin();r.setProperty("transform-origin",o);const i=e.transform();r.setProperty("transform",i),this.current=e,null===(n=this.handler)||void 0===n||n.call(this,this.current.scale)}wheel(e){if(!(0!==e.buttons||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){e.preventDefault();const n=-e.deltaY/1e3,{top:r,left:o}=this.element.getBoundingClientRect();this.applyTransformations(this.current.zoom(this.current.scale+n,e.pageX-o,e.pageY-r))}}catchEvent(e){return!(1!==e.buttons||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)}mousedown(e){this.catchEvent(e)?this.panning=[e.pageX,e.pageY]:this.panning=void 0}mouseup(e){this.panning=void 0}mousemove(e){if(this.panning)if(this.catchEvent(e)){const n=this.panning;this.panning=[e.pageX,e.pageY],this.shift(this.panning[0]-n[0],this.panning[1]-n[1])}else this.panning=void 0}}}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/image/components/view/image-view":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/compound/rich-text-editor/common/types.ts"),r("./controls/simple/image/components/types/index.ts"),r("./controls/simple/image/components/utils.ts"),r("./controls/simple/image/components/view/image-scale.ts"),r("./services/index.ts")],i=function(e,n,r,o,i,a,l,c,d){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ZoomCustomAttribute=n.ImageViewCustomElement=void 0;let u=class ImageViewCustomElement{constructor(e){this.element=e,this.objectFit="scale-down",this.objectPosition="unset",this.allowZoom=!1,this.progress=-1,this.loadFinished=!1,this.canceled=!1}bind(){}attached(){this.srcChanged()}reset(){this.image=void 0,this.request&&((0,i.mutable)(this.request).canceled=!0,this.request=void 0),this.getter=void 0,this.preview=void 0,this.progressTitle=void 0,this.progress=-1,this.canceled=!1,this.loadFinished=!1,this.errorOnLoad=void 0}reload(){this.reset(),this.receiveImage()}srcChanged(){this.reset(),(0,a.isImageUrl)(this.src)?this.source=(0,l.crateImageSource)(this.src):this.source=this.src,this.receiveImage()}receiveImage(){var e;return r.__awaiter(this,void 0,void 0,(function*(){if(this.image||!this.source)return;this.progress=0,this.request={size:this.getImageRuntimeSize(),progressHandler:(e,n)=>this.setProgress(e,n)};const n=this.source,r=this.getter=n.get(this.request);this.progressTitle=r.progressTitle,this.preview=r.preview;const o=yield r.value;r===this.getter&&(this.image=o,this.preview=void 0,this.progressTitle=void 0,o&&(null===(e=this.loaded)||void 0===e||e.call(this,{source:n,image:o})))}))}updateZoom(){var e,n;if(this.allowZoom&&this.source&&this.image){const r=null===(n=(e=this.source).queryCommand)||void 0===n?void 0:n.call(e,l.ZoomFeature.CommandName,this.image);(null==r?void 0:r.disabled)?this.zoomApplied=!1:!1===this.zoomApplied&&(this.zoomApplied=1)}else this.zoomApplied=!1}imageChanged(){this.updateZoom()}allowZoomChanged(){this.updateZoom()}get zoomApplied(){var e,n;return!!this.allowZoom&&(null!==(n=null===(e=this.image)||void 0===e?void 0:e.scale)&&void 0!==n?n:1)}set zoomApplied(e){var n,r;"number"==typeof e&&!isNaN(e)&&this.image&&(null===(r=null===(n=this.source)||void 0===n?void 0:n.executeCommand)||void 0===r||r.call(n,l.ZoomFeature.CommandName,this.image,e))}setProgress(e,n){this.request===n&&(!1===e?this.loadingCanceled():"object"==typeof e?(e&&(this.errorOnLoad=e.message),this.loadingCanceled(),this.errorHappened()):"number"==typeof e&&(this.canceled=!1,this.progress=e))}setLoaded(){this.loadFinished=!0}errorHappened(){var e;this.loadFinished=!0,this.source&&(null===(e=this.error)||void 0===e||e.call(this,{source:this.source}))}loadingCanceled(){this.canceled=!0,this.progress=-1}cancelLoading(){var e,n;null===(e=this.getter)||void 0===e||e.cancel(),this.loadingCanceled(),this.source&&(null===(n=this.cancel)||void 0===n||n.call(this,{source:this.source}))}mouseDown(e){1===e.buttons?this.touchPoint=new TouchPoint(e):this.touchPoint=void 0}mouseLeave(e){this.touchPoint=void 0}mouseMove(e){var n;1===e.buttons&&(null===(n=this.touchPoint)||void 0===n?void 0:n.sameAction(e))||(this.touchPoint=void 0)}mouseUp(e){0===e.buttons&&(this.touchPoint&&this.callClick(e),this.touchPoint=void 0)}callClick(e){try{if(e.ctrlKey&&e.shiftKey)return void this.reload();if(this.click&&this.loadFinished&&this.image&&this.source&&!(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey))return void this.click({source:this.source,image:this.image})}finally{e.stopImmediatePropagation(),e.preventDefault()}}getImageRuntimeSize(){var e;const n=(null!==(e=this.viewFrame)&&void 0!==e?e:this.element).getBoundingClientRect();return{width:n&&Math.round(n.width)||void 0,height:n&&Math.round(n.height)||void 0}}get styles(){let e="";const n=(0,l.convertToStylePixels)(this.width);void 0!==n&&(e+=`width: ${n};`);const r=(0,l.convertToStylePixels)(this.height);return void 0!==r&&(e+=`height: ${r};`),e}get downloadingMessage(){var e;if(null===(e=this.source)||void 0===e?void 0:e.name){const e=this.progressTitle;return void 0===e?(0,d.Format)(d.Messages.DownloadingImageMessage,this.source.name):e}return""}get reloadMessage(){var e;return(null===(e=this.source)||void 0===e?void 0:e.name)?this.errorOnLoad?(0,d.Format)(d.Messages.LoadErrorImageMessage,this.source.name):(0,d.Format)(d.Messages.ReloadImageMessage,this.source.name):""}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],u.prototype,"src",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],u.prototype,"width",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],u.prototype,"height",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],u.prototype,"objectFit",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],u.prototype,"objectPosition",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],u.prototype,"allowZoom",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],u.prototype,"click",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],u.prototype,"error",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],u.prototype,"cancel",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],u.prototype,"loaded",void 0),r.__decorate([o.observable,r.__metadata("design:type",Object)],u.prototype,"image",void 0),r.__decorate([(0,o.computedFrom)("image","image.scale","allowZoom"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[Object])],u.prototype,"zoomApplied",null),r.__decorate([(0,o.computedFrom)("width","height","getter","loadFinished","canceled"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],u.prototype,"styles",null),r.__decorate([(0,o.computedFrom)("source","source.name","progressTitle"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],u.prototype,"downloadingMessage",null),r.__decorate([(0,o.computedFrom)("source","getter","source.name","errorOnLoad"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],u.prototype,"reloadMessage",null),u=r.__decorate([o.autoinject,(0,o.customElement)("image-view"),r.__metadata("design:paramtypes",[Element])],u),n.ImageViewCustomElement=u;class TouchPoint{constructor(e){this.pageX=e.pageX,this.pageY=e.pageY,this.timestamp=e.timeStamp}sameAction(e){if(e.timeStamp-this.timestamp<20)return!0;return Math.abs(this.pageX-e.pageX)<10&&Math.abs(this.pageY-e.pageY)<10}}let p=class ZoomCustomAttribute{constructor(e){this.element=e,this.isAttached=!1}attached(){this.isAttached=!0,this.valueChanged()}detached(){this.detachController(),this.isAttached=!1}detachController(){var e;null===(e=this.controller)||void 0===e||e.dispose(),this.controller=void 0}valueChanged(){var e;this.isAttached&&!1!==this.value&&!isNaN(this.value)?(null!==(e=this.controller)&&void 0!==e||(this.controller=new c.ZoomPanController(this.element,(e=>this.value=e))),this.controller.setZoom(this.value)):this.detachController()}};p=r.__decorate([o.autoinject,(0,o.customAttribute)("zoom",o.bindingMode.twoWay),r.__metadata("design:paramtypes",[Element])],p),n.ZoomCustomAttribute=p}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/image/components/view/load-progress":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LoadProgressCustomElement=void 0;let i=class LoadProgressCustomElement{constructor(){this.progress=0,this.radius=17,this.fullPathLength=Math.PI*this.radius*2,this.maxProgressValue=100,this.startProgressBias=5,this.endProgressBias=2}bind(){}attached(){this.progressChanged()}detached(){this.stopRotating()}startRotating(){var e;null!==(e=this.spinner)&&void 0!==e||(this.spinner=a.createSpinner())}stopRotating(){var e;null===(e=this.spinner)||void 0===e||e.dispose(),this.spinner=void 0}progressChanged(){this.progress>=this.maxProgressValue?this.stopRotating():this.progress+this.startProgressBias>0&&this.startRotating()}triggerClick(e){if(this.cancel){e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||this.cancel({}),e.stopImmediatePropagation(),e.preventDefault()}}get progressValue(){return this.fullPathLength*(this.maxProgressValue-Math.min(this.maxProgressValue-this.endProgressBias,Math.max(this.startProgressBias,this.progress)))/this.maxProgressValue}};var a;r.__decorate([o.bindable,r.__metadata("design:type",Number)],i.prototype,"progress",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],i.prototype,"cancel",void 0),r.__decorate([(0,o.computedFrom)("progress"),r.__metadata("design:type",Number),r.__metadata("design:paramtypes",[])],i.prototype,"progressValue",null),i=r.__decorate([o.autoinject,(0,o.customElement)("load-progress")],i),n.LoadProgressCustomElement=i,function(e){e.ProgressStartingAngle=316;let n=e.ProgressStartingAngle;const r=[];class Spinner{constructor(){this.angle=n,this.disposed=!1,r.push(this),function startRotating(){0==c++&&(n=e.ProgressStartingAngle,l=window.setInterval((()=>function rotateValue(){n=(n+a)%o,r.forEach((e=>!e.disposed&&(e.angle=n)))}()),i))}()}dispose(){if(!this.disposed){this.disposed=!0,function stopRotating(){0==--c&&(window.clearInterval(l),l=void 0)}();const e=r.indexOf(this);-1!==e&&r.splice(e,1)}}}e.createSpinner=function createSpinner(){return new Spinner};const o=360,i=25,a=o/4e3*i;let l,c=0}(a||(a={}))}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/image/upload/qp-image-uploader":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-event-aggregator"),r("aurelia-framework"),r("./dependency-property-injection/index.ts"),r("./services/index.ts"),r("./controls/compound/system-menu/files-dialog-api-client.ts"),r("./descriptors/index.ts"),r("./controls/abstract/base-field-editor/base-field-editor.ts"),r("./controls/simple/image/components/index.ts"),r("./utils/index.ts"),r("./utils/platform-dependable-utils.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpImageUploaderCustomElement=void 0;let m=class QpImageUploaderCustomElement extends u.QpBaseFieldEditor{constructor(e,n,r){super(r),this.element=e,this.screenService=n,this.width="100px",this.height="100px",this.config={},this.index=-1,this.collectionSize=1/0,this.isAttached=!1,this.popupVisible=!1,this.popupIndex=-1,this.acceptList=[],this.Messages=l.Messages}bind(){const updateImages=()=>r.__awaiter(this,void 0,void 0,(function*(){var e;null!==(e=this.screen)&&void 0!==e||(this.screen=this.screenService.model),yield this.reloadImages()}));this.listeners=new p.Disposables([this.eventAggregator.subscribe("screen-initialized",updateImages),this.eventAggregator.subscribe("screen-updated",updateImages)])}unbind(){var e;null===(e=this.listeners)||void 0===e||e.dispose(),this.listeners=void 0}attached(){super.attached(),this.isAttached=!0,this.configChanged()}detached(){super.detached(),this.isAttached=!1,this.detachCollection()}assignCollection(e){var n,o;this.collection!==e&&(this.index=-1,null===(n=this.collection)||void 0===n||n.dispose(),null===(o=this.mutationHandler)||void 0===o||o.dispose(),this.mutationHandler=void 0,this.collection=e,(0,p.isMutableCollection)(this.collection)&&(this.mutationHandler=this.collection.addMutationHandler((e=>r.__awaiter(this,void 0,void 0,(function*(){var n,r;let o=!1;for(const n of e){if(n.itemIndex===this.index)return void(n.item?this.setValue(n.item.value):this.updateValueByIndex(this.index));"added"===n.name&&n.item&&-1===this.index&&this.value&&AttachedImageSource.getMatcher(this.value)(n.item)&&(void 0!==n.itemIndex?this.index=n.itemIndex:yield this.valueChanged()),o=!0}o&&(this.collectionSize=null!==(r=yield null===(n=this.collection)||void 0===n?void 0:n.getCount())&&void 0!==r?r:1/0)}))))))}detachCollection(){this.collectionId=void 0,this.assignCollection(void 0)}configChanged(){var e,n,o;return r.__awaiter(this,void 0,void 0,(function*(){null!==(e=this.config)&&void 0!==e||(this.config={}),this.config.id||(this.config.id=`ed${null!==(o=null===(n=this.state)||void 0===n?void 0:n.name)&&void 0!==o?o:"Image"}Uploader`),this.config.editDialog=!1,"string"==typeof this.config.viewName&&this.config.viewName!==this.viewName&&(this.viewName=this.config.viewName,this.detachCollection());const r=(0,c.createAcceptList)(this.config.acceptFiles||".gif,.ico,.jpg,.png,.svg");(0,c.joinAcceptList)(r)!==(0,c.joinAcceptList)(this.acceptList)&&(this.acceptList=r,this.detachCollection()),yield this.reloadImages()}))}updateValueByIndex(e){return r.__awaiter(this,void 0,void 0,(function*(){if(this.index=e,this.collection){const n=yield this.collection.getValueByIndex(e);e===this.index&&this.setValue(n)}}))}setValue(e){(this.value||e)&&(this.value=e)}valueChanged(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.reloadImages()}))}updateRecord(e,n){var r,o;if(!this.operable)return void this.assignCollection(void 0);const i=null!==(r=this.viewName)&&void 0!==r?r:null===(o=e.graphInfo)||void 0===o?void 0:o.primaryView;if(n.name!==i)return void this.assignCollection(void 0);const a=n.id;if(!a&&!this.collectionId)return void this.assignCollection(void 0);new AttachedImageCollectionRequest(e.screenID,"",i,null!=a?a:"",n.getRecordIdByKeys(),this.acceptList).id!==this.collectionId&&(this.assignCollection(void 0),this.reloadImages())}reloadImages(){var e,n,o,i;return r.__awaiter(this,void 0,void 0,(function*(){if(!this.operable)return;const r=this.screen;if(!r)return;const a=null!==(e=this.viewName)&&void 0!==e?e:null===(n=r.graphInfo)||void 0===n?void 0:n.primaryView,l=this.screen[a];if(!l)return;(null===(o=this.recordSelectedHandler)||void 0===o?void 0:o.viewName)!==a&&(null===(i=this.recordSelectedHandler)||void 0===i||i.dispose(),this.recordSelectedHandler=Object.assign({viewName:a},l.subscribeRowSelectedHandler(r,((e,n)=>this.updateRecord(e,n)))));const c=l.id;if(!c)return;const d=new AttachedImageCollectionRequest(r.screenID,"",a,c,l.getRecordIdByKeys(),this.acceptList,this.lazyLoading);let u;if(d.id!==this.collectionId){u=AttachedImageCollectionSet.get(d),this.recordId=c,this.collectionId=d.id,this.assignCollection(u);const e=yield u.getCount();if(u!==this.collection)return;this.collectionSize=e}else u=this.collection;if(!u)return;const p=this.value,b=yield u.getIndexByValue(p);p===this.value&&u===this.collection&&(this.index=b)}))}createUploaderConfig(e){var n,r,o,i,a,l,c,d,u,p;const g=null!==(i=null!==(n=this.viewName)&&void 0!==n?n:null===(o=null===(r=this.screen)||void 0===r?void 0:r.graphInfo)||void 0===o?void 0:o.primaryView)&&void 0!==i?i:"",m=null!==(l=null===(a=this.screen)||void 0===a?void 0:a.screenID)&&void 0!==l?l:(0,b.getScreenID)(),f=null!==(u=null===(d=null===(c=this.screen)||void 0===c?void 0:c.graphInfo)||void 0===d?void 0:d.graphType)&&void 0!==u?u:"",v=this.recordId,y=this.acceptList.join(",");return{id:`${null!==(p=this.config.id)&&void 0!==p?p:""}_upload${e?"_clickable":""}`,accept:y,graph:f,screenId:m,view:g,recordId:v,disabled:!(v&&f&&g&&m&&!1!==this.config.enabled),disableClick:!e}}filesDropped(e){var n;return r.__awaiter(this,void 0,void 0,(function*(){if(this.readOnly)return;const r=this.collection;if(!r)return;if(0===e.detail.blobs.length)return;if(!(0,p.getImageName)(e.detail.blobs[0].name))return;const[o,i]=null!==(n=yield r.preloadFilesGetFirst(e.detail.blobs))&&void 0!==n?n:[-1,""];-1!==o&&(this.value=i)}))}showPreview(){this.popupIndex=this.index,this.popupVisible=!0}popupClosed(e){e&&!this.readOnly&&this.updateValueByIndex(this.popupIndex)}imageSelected(e,n){this.updateValueByIndex(n)}internalUploaderClick(){if(!1===this.config.editDialog)return!0;this.editTrigger()}editTrigger(){}clearTrigger(){this.readOnly||this.allowNull&&(this.value=null)}get operable(){return this.isAttached&&this.visible&&!!this.screen}get lazyLoading(){return!this.viewOnly&&(!1!==this.config.lazyLoading&&!1===this.config.showArrows)}get showArrows(){return!1!==this.config.showArrows}get visible(){return!this.config.hidden}get enabled(){return!1!==this.config.enabled}get readOnly(){return!!this.config.readOnly||!1===this.config.enabled}get allowNull(){return this.state&&!1!==this.config.allowNull}get viewOnly(){return!this.state}get showFeed(){return!(this.collectionSize<=1||!1===this.config.showFeed)&&(!!this.viewOnly||!this.readOnly&&!!this.config.showFeed)}get dropDownUploaderConfig(){return this.createUploaderConfig(!1)}get clickableUploaderConfig(){return this.createUploaderConfig(!1===this.config.editDialog)}get sizeStyles(){var e,n;let r="";const o=(0,p.convertToStylePixels)(null!==(e=this.config.width)&&void 0!==e?e:this.width);void 0!==o&&(r+=`width: ${o};`);const i=(0,p.convertToStylePixels)(null!==(n=this.config.height)&&void 0!==n?n:this.height);return void 0!==i&&(r+=`height: ${i};`),r}};r.__decorate([i.bindable,r.__metadata("design:type",Object)],m.prototype,"width",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],m.prototype,"height",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],m.prototype,"config",void 0),r.__decorate([i.bindable,r.__metadata("design:type",String)],m.prototype,"viewName",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],m.prototype,"value",void 0),r.__decorate([(0,i.computedFrom)("config","config.showArrows"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],m.prototype,"showArrows",null),r.__decorate([(0,i.computedFrom)("config","config.hidden"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],m.prototype,"visible",null),r.__decorate([(0,i.computedFrom)("config","config.enabled"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],m.prototype,"enabled",null),r.__decorate([(0,i.computedFrom)("config","config.readOnly","config.enabled"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],m.prototype,"readOnly",null),r.__decorate([(0,i.computedFrom)("config","config.allowNull","state"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],m.prototype,"allowNull",null),r.__decorate([(0,i.computedFrom)("state"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],m.prototype,"viewOnly",null),r.__decorate([(0,i.computedFrom)("state","config","config.showFeed","config.readOnly","config.enabled","collectionSize"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],m.prototype,"showFeed",null),r.__decorate([(0,i.computedFrom)("config","screen","config.id","config.enabled","acceptList","recordId","viewName"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],m.prototype,"dropDownUploaderConfig",null),r.__decorate([(0,i.computedFrom)("config","screen","config.id","config.enabled","acceptList","recordId","viewName"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],m.prototype,"clickableUploaderConfig",null),r.__decorate([(0,i.computedFrom)("width","height","config","config.width","config.height"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],m.prototype,"sizeStyles",null),m=r.__decorate([a.autoinject,(0,i.customElement)("qp-image-uploader"),r.__metadata("design:paramtypes",[Element,l.ScreenService,i.Container])],m),n.QpImageUploaderCustomElement=m;class AttachedImageSource{constructor(e,n,r){this.imageData=e,this.owner=n,this.getter=r,this.commands=[{name:p.ZoomFeature.CommandName,execute:(e,n)=>p.ZoomFeature.zoomImage(e,n),query:e=>({disabled:void 0===this.name,minValue:p.ZoomFeature.MinValue,maxValue:p.ZoomFeature.MaxValue,value:e.scale})},{name:AttachedImageSource.EditCommand,execute:(e,n)=>(this.owner.openUrl(this.imageData),!0),query:e=>({disabled:void 0===this.name})}],this.actions=[{name:p.ZoomFeature.InActionName,query:e=>{var n;return{command:p.ZoomFeature.CommandName,args:{delta:p.ZoomFeature.Delta},icon:"svg:main@plus",disabled:(null!==(n=e.scale)&&void 0!==n?n:p.ZoomFeature.MinValue)===p.ZoomFeature.MaxValue}}},{name:p.ZoomFeature.OutActionName,query:e=>{var n;return{command:p.ZoomFeature.CommandName,args:{delta:-p.ZoomFeature.Delta},icon:"svg:main@minus",disabled:(null!==(n=e.scale)&&void 0!==n?n:p.ZoomFeature.MinValue)===p.ZoomFeature.MinValue}}},{name:AttachedImageSource.EditAction,query:e=>({command:AttachedImageSource.EditCommand,icon:"svg:main@pencil",label:l.Messages.EditImageActionTitle})}],this.name=(0,p.getImageName)(e.fullName)}static getMatcher(e){return n=>{const clear=e=>(0,p.getImageName)(e).toLowerCase(),r=clear(e),o=clear(n.value);return!!r&&!!o&&r===o}}static composeAttachmentUrl(e){if(!g.siteRoot||-1!==e.indexOf("://"))return e;return`${n=g.siteRoot,n.endsWith("/")?n:`${n}/`}Frames/GetFile.ashx?cache=yes&file=${e}`;var n}get value(){return this.imageData.fullName}updateData(e){const n=this.imageData;return(n.id!==e.id||n.fullName!==e.fullName||n.imageUrl!==e.imageUrl||n.editUrl!==e.editUrl)&&(this.imageData=Object.assign({},e),!0)}get(e){return this.getter.createGetter(e)}getActions(){return this.actions.map((e=>e.name))}queryAction(e,n){var r;return null===(r=this.actions.find((n=>n.name===e)))||void 0===r?void 0:r.query(n)}getCommands(){return this.commands.map((e=>e.name))}queryCommand(e,n){var r;return null===(r=this.commands.find((n=>n.name===e)))||void 0===r?void 0:r.query(n)}executeCommand(e,n,r){var o,i;return null!==(i=null===(o=this.commands.find((n=>n.name===e)))||void 0===o?void 0:o.execute(n,r))&&void 0!==i&&i}}AttachedImageSource.EditCommand="edit",AttachedImageSource.EditAction="edit";class AttachedImageCollectionRequest{constructor(e,n,r,o,i,a,l=!1){this.screenID=e,this.screenTitle=n,this.viewName=r,this.recordId=o,this.keyValues=i,this.acceptList=a,this.lazy=l,this.id=`${e},${r},${o},[${(0,c.joinAcceptList)(a)}]`}}class AttachedImageCollectionSet{static get(e){const n=e.id;let r=this.map.get(n);return void 0===r&&(r=new AttachedImageCollection(e),this.map.set(n,r)),r.acquire()}static release(e){const n=e.request.id;e===this.map.get(n)&&this.map.delete(n)}}AttachedImageCollectionSet.map=new Map;class AttachedImageCollection{constructor(e){this.request=e,this.subscribers=new o.EventAggregator,this.attachedImages=[],this.uploadingFilesMap=new Map,this.refCount=0,this.fileApiClient=i.Container.instance.get(c.FilesDialogApiClient);const n=i.Container.instance.get(o.EventAggregator);this.listeners=new p.Disposables([n.subscribe(c.PXScreenFileUploadEventName.Uploading,(e=>this.uploadingStarted(e))),n.subscribe(c.PXScreenFileUploadEventName.Uploaded,(e=>this.filesUploaded(e))),n.subscribe(c.PXScreenFileUploadEventName.Failed,(e=>this.filesUploadingFailed(e)))])}acquire(){return++this.refCount,this}release(){0==--this.refCount&&(AttachedImageCollectionSet.release(this),this.listeners.dispose())}dispose(){this.release()}reload(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.fetchCollection(!0)}))}createFullName(e){const n=(0,p.getImageName)(e.name);return`${this.request.screenTitle||""} (${this.request.keyValues})\\${n}`}updateUploadingProcess(e,n){const r=e.filter((e=>!!e&&"object"==typeof e&&(0,c.acceptFile)(e,this.request.acceptList))).map((e=>({fullName:this.createFullName(e),file:e}))).filter((e=>!!e.fullName));if(r.forEach((e=>{const r=this.uploadingFilesMap.get(e.fullName);r&&(void 0!==n.succeeded?(this.uploadingFilesMap.delete(e.fullName),r.fullfil(n.succeeded)):void 0!==n.controller&&r.setController(n.controller))})),!1===n.succeeded){const e=r.map((e=>this.attachedImages.find(AttachedImageSource.getMatcher(e.fullName)))).filter((e=>!!e));e.forEach((e=>{const n=this.attachedImages.indexOf(e);-1!==n&&this.attachedImages.splice(n,1)})),this.publishMutations(...e.map((e=>({name:"removed",item:e}))))}}preloadFilesGetFirst(e){return r.__awaiter(this,void 0,void 0,(function*(){if(0===e.length)return;const matchProc=e=>n=>n.value.toLowerCase()===e.toLowerCase(),n=e.filter((e=>!!e&&"object"==typeof e&&(0,c.acceptFile)(e,this.request.acceptList))).map((e=>({fullName:this.createFullName(e),file:e}))).filter((e=>!!e.fullName)),r=n.filter((e=>!this.attachedImages.some(matchProc(e.fullName)))).map((e=>this.createUploadImageSource({fullName:e.fullName,imageUrl:URL.createObjectURL(e.file)})));r.length>0&&(this.attachedImages.push(...r),this.publishMutations(...r.map((e=>({name:"added",item:e})))));for(const e of n){const n=this.attachedImages.findIndex(matchProc(e.fullName));if(-1!==n)return[n,this.attachedImages[n].value]}}))}openUrl(e){return r.__awaiter(this,void 0,void 0,(function*(){var n,r;(e.editUrl||(yield this.reload(),e.editUrl))&&(n=e.editUrl,null===(r=i.Container.instance.get(d.RedirectHelper))||void 0===r||r.openUrl(n,"",!1,!0))}))}getCount(){return r.__awaiter(this,void 0,void 0,(function*(){return this.request.lazy&&!this.fetching?1/0:(yield this.ensureLoaded()).length}))}getRange(e,n){return r.__asyncGenerator(this,arguments,(function*getRange_1(){const o=yield r.__await(this.ensureLoaded(e,n)),i=Math.min(o.length,e+n);for(let n=Math.max(0,e);n<i;n++)yield yield r.__await(o[n])}))}getAt(e){return r.__awaiter(this,void 0,void 0,(function*(){const n=yield this.ensureLoaded(e,1);if(e<n.length)return n[e]}))}getIndexByValue(e){return r.__awaiter(this,void 0,void 0,(function*(){if(!e)return-1;if(e="string"==typeof e?e.toLowerCase():void 0,this.request.lazy&&!this.fetching){let n=this.attachedImages.findIndex(AttachedImageSource.getMatcher(e));if(-1===n){const r=this.createImageSource({fullName:e,imageUrl:AttachedImageSource.composeAttachmentUrl(e)});n=this.attachedImages.push(r)-1,this.publishMutations({name:"added",item:r})}return n}return(yield this.ensureLoaded()).findIndex(AttachedImageSource.getMatcher(e))}))}getValueByIndex(e){return r.__awaiter(this,void 0,void 0,(function*(){if(e<0)return;const n=yield this.ensureLoaded(e,1);return e>=n.length?void 0:n[e].value}))}addMutationHandler(e){return this.subscribers.subscribe("event",e)}publishMutations(...e){const index=e=>"removed"===e.name?-1:this.attachedImages.indexOf(e.item),n=e.map((e=>Object.assign(Object.assign({},e),{itemIndex:index(e)})));this.subscribers.publish("event",n)}createImageSource(e){return new AttachedImageSource(e,this,(0,p.createSharedImageGetter)((0,p.createAbsoluteUrl)(e.imageUrl)))}createUploadImageSource(e,n){const r=(0,p.createUploadImageGetter)(e.fullName,e.imageUrl,n);return this.uploadingFilesMap.set(e.fullName,r),new AttachedImageSource(e,this,r)}fetchCollection(e=!1){var n;const fetch=()=>r.__awaiter(this,void 0,void 0,(function*(){var e;const n=null!==(e=yield this.fileApiClient.getAttachedImages(this.request.screenID,this.request.recordId,(0,c.joinAcceptList)(this.request.acceptList)))&&void 0!==e?e:[],r=[],addMutation=(e,n)=>r.push({name:e,item:n}),o=this.attachedImages.map((e=>[e,!1]));for(const e of n){const n=o.find((n=>AttachedImageSource.getMatcher(e.fullName)(n[0])));if(n)n[1]=!0,n[0].updateData(e)&&addMutation("changed",n[0]);else{const n=this.createImageSource(e);this.attachedImages.push(n),addMutation("added",n)}}o.forEach((e=>{if(!e[1]){const n=this.attachedImages.indexOf(e[0]);-1!==n&&(this.attachedImages.splice(n,1),addMutation("removed",e[0]))}})),this.publishMutations(...r)}));return this.fetching=e?fetch():null!==(n=this.fetching)&&void 0!==n?n:fetch()}ensureLoaded(e=0,n=1/0){return r.__awaiter(this,void 0,void 0,(function*(){return e+n>this.attachedImages.length&&(yield this.fetchCollection()),this.attachedImages}))}createRequestFromEvent(e){var n;return new AttachedImageCollectionRequest(e.screenId,this.request.screenTitle,e.viewName,null!==(n=e.recordId)&&void 0!==n?n:"",this.request.keyValues,this.request.acceptList)}uploadingStarted(e){return r.__awaiter(this,void 0,void 0,(function*(){const n=this.createRequestFromEvent(e);this.request.id===n.id&&(yield this.preloadFilesGetFirst(e.files),e.abortController&&this.updateUploadingProcess(e.files,{controller:e.abortController}))}))}handleUploadingResult(e,n){return r.__awaiter(this,void 0,void 0,(function*(){const r=this.createRequestFromEvent(e);this.request.id===r.id&&(this.updateUploadingProcess(e.files,{succeeded:n}),yield this.reload())}))}filesUploaded(e){return r.__awaiter(this,void 0,void 0,(function*(){yield this.handleUploadingResult(e,!0)}))}filesUploadingFailed(e){return r.__awaiter(this,void 0,void 0,(function*(){yield this.handleUploadingResult(e,!1)}))}}}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/image/view/qp-image-view":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/abstract/base-field-editor/base-field-editor.ts"),r("./controls/simple/image/components/index.ts"),r("./services/index.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpImageViewCustomElement=void 0;let c=class QpImageViewCustomElement extends i.QpBaseFieldEditor{constructor(){super(...arguments),this.width="100px",this.height="100px",this.config={},this.popupVisible=!1,this.Messages=l.Messages}imageClick(){this.popupVisible=!0}configChanged(){var e,n,r;null!==(e=this.config)&&void 0!==e||(this.config={}),this.config.id||(this.config.id=`ed${null!==(r=null===(n=this.state)||void 0===n?void 0:n.name)&&void 0!==r?r:"Image"}Viewer`)}valueChanged(){const e="string"==typeof this.value?this.value:void 0;this.imageUrl=e?(0,a.createAbsoluteUrl)(e):void 0}get visible(){return!this.config||!0!==this.config.hidden}get sizeStyles(){var e,n;let r="";const o=(0,a.convertToStylePixels)(null!==(e=this.config.width)&&void 0!==e?e:this.width);void 0!==o&&(r+=`width: ${o};`);const i=(0,a.convertToStylePixels)(null!==(n=this.config.height)&&void 0!==n?n:this.height);return void 0!==i&&(r+=`height: ${i};`),r}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"value",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"width",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"height",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"config",void 0),r.__decorate([(0,o.computedFrom)("config.hidden"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],c.prototype,"visible",null),r.__decorate([(0,o.computedFrom)("width","height","config","config.width","config.height"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],c.prototype,"sizeStyles",null),c=r.__decorate([o.autoinject,(0,o.customElement)("qp-image-view")],c),n.QpImageViewCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/last-update/last-update-value-converter":function(e,n,r){var o,i;o=[r,n,r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("./services/localization.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AgoValueConverter=void 0;const i="ago-signal";setInterval((()=>{(0,r.signalBindings)(i)}),2e4);const{JustNow:a,MinsAgo:l,HoursAgo:c,DaysAgo:d,LongAgo:u}=o.LOCALIZED_STRINGS&&o.LOCALIZED_STRINGS.lastUpdate||{JustNow:"Updated just now",MinsAgo:"Updated {{mins}} min ago",HoursAgo:"Updated {{hours}} hr ago"};n.AgoValueConverter=class AgoValueConverter{constructor(){this.signals=[i]}toView(e){if(!e)return"";const n=new Date,r=Math.floor((n.valueOf()-e.valueOf())/1e3);if(r<60)return a;const o=Math.floor(r/60);if(o<60)return l.replace("{{mins}}",o.toString());const i=Math.floor(o/60);if(i<=24)return c.replace("{{hours}}",i.toString());return Math.floor(i/24)<=7?d.replace("{{days}}",i.toString()):u}}}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/last-update/last-update":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpLastUpdateCustomElement=void 0;let i=class QpLastUpdateCustomElement{valueChanged(e){this.dateTime=new Date(e)}};r.__decorate([o.bindable,r.__metadata("design:type",String)],i.prototype,"value",void 0),i=r.__decorate([(0,o.customElement)("qp-last-update")],i),n.QpLastUpdateCustomElement=i}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/link-editor/qp-link-editor":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/abstract/base-field-editor/base-field-editor.ts"),r("./services/messages.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./utils/index.ts"),r("./controls/dialog/base-dialog/dialog-helper.ts"),r("controls/dialog/informer/qp-informer-rack")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";var p;Object.defineProperty(n,"__esModule",{value:!0}),n.QpLinkEditorCustomElement=void 0;let b=p=class QpLinkEditorCustomElement extends i.QpBaseFieldEditor{constructor(e,n,r,o){super(n),this.element=e,this.dialogHelper=r,this.tq=o,this.mainLink={link:"",name:""},this.inputLink="",this.isInlineEditing=!1,this.linkDialogConfig={templateId:"pnlLinkEditor",title:a.Messages.LinkEditorLink,hideMaximizer:!0,width:"620px",context:this},this.Msg=a.Messages}valueChanged(e,n){var r,o;const i=this.mainLink;if(!this.value)return i.link="",void(i.name="");const a=null===(r=/<(?<link>.*)>(?<name>.*)/g.exec(this.value))||void 0===r?void 0:r.groups;if(a)i.link=a.link||"",i.name=a.name||"";else{!(null===(o=this.value.trim().match(/\s/g))||void 0===o?void 0:o.length)?(i.name=this.value,i.link=this.value):(i.name=this.value,i.link="")}}configChanged(e,n){this.config||(this.config={}),(0,c.applyDefaultValues)(this.config,p.linkDefaultConfig),void 0===n&&(0,c.applyDefaultValues)(e,p.linkDefaultConfig)}isValidHttpUrl(e){let n;try{n=new URL(e)}catch(e){return!1}return"http:"===n.protocol||"https:"===n.protocol}isValidOtherUrl(e){return!!new RegExp("((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}processPaste(e){const n=e.clipboardData?e.clipboardData:o.PLATFORM.global.clipboardData;if(null!=n){const e=n.getData("Text");return!(!e||!this.isValidHttpUrl(e)&&!this.isValidOtherUrl(e))}return!1}processInputKeyDown(e){return"KeyK"!==e.code||!e.ctrlKey||(this.currentDialog||this.processButtonClick(),!1)}processOpenLink(e){e.preventDefault(),o.PLATFORM.global.open(/^(http|https):/.test(this.mainLink.link)?this.mainLink.link:`http://${this.mainLink.link}`,"_blank")}detached(){super.detached()}setNewValue(e){var n,r,o;const i=e||this.dlgLink;i.name=(null===(n=i.name)||void 0===n?void 0:n.trim())||"",i.link=(null===(r=i.link)||void 0===r?void 0:r.trim())||"",this.mainLink.link===i.link&&this.mainLink.name===i.name||(i.link===i.name&&(i.name=""),this.mainLink.link===i.link&&this.mainLink.name===i.name||(i.name=null===(o=i.name)||void 0===o?void 0:o.replace(/>/g,"&gt;").replace(/</g,"&lt;"),i.link&&i.name?this.value=`<${i.link}>${i.name}`:i.name?this.value=i.name:i.link?this.value=i.link:this.value=void 0))}setNewValueAndCloseDialog(){this.setNewValue(),this.closeCurrentDialog(!0)}get ROMode(){return this.config&&(this.config.readOnly||!this.config.enabled)}openDialog(){this.dialogHelper.openDialog(this.linkDialogConfig,{},(e=>{var n;this.currentDialog=e.controller,null===(n=this.currentDialog.controller.viewModel.element)||void 0===n||n.querySelector("input").focus(),e.closeResult.finally((()=>{this.currentDialog=void 0}))}))}closeCurrentDialog(e=!1){var n,r;e?null===(n=this.currentDialog)||void 0===n||n.ok():null===(r=this.currentDialog)||void 0===r||r.cancel(),this.tq.queueMicroTask((()=>{this.inputLink="",this.isInlineEditing=!1}))}processButtonClick(){var e;if(this.ROMode&&!this.config.activeButton)return!0;this.isInlineEditing&&(null===(e=this.inputLinkElem)||void 0===e||e.blur(),this.tq.flushMicroTaskQueue()),this.dlgLink=Object.assign({},this.mainLink),this.dlgLink.name===this.dlgLink.link&&(this.dlgLink.name=""),this.dlgLink.name=this.dlgLink.name.replace(/&gt;/g,">").replace(/&lt;/g,"<"),this.openDialog()}copyButtonClick(){if(!this.ROMode||!this.mainLink.link)return;(0,c.addTextToClipboard)(this.mainLink.link);const e=(0,u.showInformer)(this.Msg.LinkCopiedClipboard,"info");setTimeout((()=>e.dispose()),3e3)}processInputFocus(){var e;const n=this.isInlineEditing;this.tq.queueMicroTask((()=>{this.inputLink=this.mainLink.link||this.mainLink.name,this.mainLink.link===this.mainLink.name&&(this.mainLink.name=""),this.isInlineEditing=!0})),this.tq.flushMicroTaskQueue(),n||null===(e=this.inputLinkElem)||void 0===e||e.select()}processInputBlur(){this.isInlineEditing&&this.tq.queueMicroTask((()=>{const e=Object.assign({},this.mainLink);e.link=this.inputLink,""===e.name&&(this.mainLink.name=this.inputLink),e.link||(e.name=""),this.setNewValue(e),this.inputLink="",this.isInlineEditing=!1}))}};b.linkDefaultConfig={allowNull:!0,enabled:!0,activeButton:!0},r.__decorate([o.bindable,r.__metadata("design:type",Object)],b.prototype,"value",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],b.prototype,"config",void 0),r.__decorate([(0,o.computedFrom)("config.readOnly","config.enabled"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],b.prototype,"ROMode",null),b=p=r.__decorate([o.autoinject,(0,o.customElement)("qp-link-editor"),r.__metadata("design:paramtypes",[Element,l.Container,d.DialogHelper,o.TaskQueue])],b),n.QpLinkEditorCustomElement=b}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/loader-indicator/qp-loader-indicator":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpLoaderIndicatorCustomElement=void 0;let i=class QpLoaderIndicatorCustomElement{get loadingClass(){return!0===this.loadingState?"loading":this.loadingState?this.loadingState:"in-sync"}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],i.prototype,"loadingState",void 0),r.__decorate([(0,o.computedFrom)("loadingState"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],i.prototype,"loadingClass",null),i=r.__decorate([(0,o.customElement)("qp-loader-indicator")],i),n.QpLoaderIndicatorCustomElement=i}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/mail-editor/qp-mail-editor":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./descriptors/index.ts"),r("controls/simple/text-editor/qp-text-editor")],i=function(e,n,r,o,i,a){"use strict";var l;Object.defineProperty(n,"__esModule",{value:!0}),n.QpMailEditorCustomElement=void 0;let c=l=class QpMailEditorCustomElement extends a.QpTextEditorCustomElement{constructor(e,n){super(e,n)}configChanged(e,n){var r,o,i,a;super.configChanged(e,n),void 0===this.config&&(this.config={}),null!==(r=(i=this.config).activeButton)&&void 0!==r||(i.activeButton=l.mailDefaultConfig.activeButton),null!==(o=(a=this.config).images)&&void 0!==o||(a.images=Object.assign({},l.mailDefaultConfig.images))}detached(){var e;null===(e=this.frame)||void 0===e||e.remove(),this.frame=void 0,super.detached()}processKeyDown(e){return"F3"===e.key?(this.processButtonClick(e),!0):super.processKeyDown(e)}get buttonDisabled(){return!this.config||!this.config.activeButton||!1===this.config.enabled}processButtonClick(e){if(this.buttonDisabled)return!0;this.sendUpdateEvent(),this.processMailTo(e)}processMailTo(e){if(!this.config)return;const n={event:e},r=new CustomEvent("buttonpressed",{bubbles:!0,detail:n});if(this.element.dispatchEvent(r),n.cancel)return;if(this.config.action)return void this.screenEventManager.publish(new i.ExecuteCommandEvent(this.config.action,new i.ScreenUpdateParams));if(this.config.popupPanel)return void this.screenEventManager.publish(new i.OpenPopupEvent(this.config.popupPanel));const o=this.elemText.value;if(o){this.frame||(this.frame=document.createElement("iframe"),this.frame.style.display="none",document.body.appendChild(this.frame));try{this.frame.src=`mailto:${o}`}catch(e){}}}};c.mailDefaultConfig={activeButton:!0,images:{disabled:"control@MailSelectorD",normal:"control@MailSelectorN",hover:"control@MailSelectorH",pushed:"control@MailSelectorP"}},r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"config",void 0),r.__decorate([(0,o.computedFrom)("config.activeButton","config.enabled"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],c.prototype,"buttonDisabled",null),c=l=r.__decorate([o.autoinject,(0,o.customElement)("qp-mail-editor"),r.__metadata("design:paramtypes",[Element,o.Container])],c),n.QpMailEditorCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"./controls/simple/mask-editor/converter.ts":function(e,n,r){var o,i;o=[r,n,r("./utils/index.ts"),r("./controls/simple/mask-editor/qp-mask-editor.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MaskEditorValueConverter=void 0;n.MaskEditorValueConverter=class MaskEditorValueConverter{toView(e,n,r,o){return null==o?"":(o.enabled&&!o.readOnly||(n=!1),!n&&o.allowNull&&null==e?o.nullText:n?this.getEditText(e,o):this.getDisplayText(e,o))}fromView(e,n,r,o){if(o.allowNull&&(!e||e===o.nullText))return null;let i=this.calculateValue(e,o.valueMode,1,o);return void 0===i&&n&&(i=this.calculateValue(e,o.valueMode,0,o)),i}getDisplayValue(e,n,o){return this.initializeMask(n),n.inputMask?(o||(o=n.promptChar),(0,r.formatByMask)(this.maskParts.maskFull,e,o,n.valueMode)):null!=e?e:""}getDisplayText(e,n){return this.getDisplayValue(e,n,n.emptyChar)}getEditText(e,n){return n.skipValidation?null!=e?e:"":this.getDisplayValue(e,n)}calculateValue(e,n,i,a){if(!this.mask)return e;if(a.promptChar){const n=new RegExp(`\\${a.promptChar}`,"g");e=e.toString().replace(n,String.fromCharCode(0))}let l,c,d=0,u=!0,p="";for(let b=0;b<this.mask.length;b++)if((c=this.mask.charCodeAt(b))<o.maxMaskCode)l=null,d<e.length&&(l=(0,r.maskFilter)(c,e,d,null,this.maskParts.maskExclude,this.maskParts.maskInclude),d++),p+=l||(a.emptyChar||""),l&&(u=!1);else{if(i>0&&d<e.length){if(this.mask.charAt(b)!==e.charAt(d))return;d++}n>0&&(p+=this.mask.charAt(b))}return u?a.allowNull?null:"":p.trimEnd()}initializeMask(e){this.mask&&e.inputMask===this.rawMask||(this.maskParts=(0,r.getMaskParts)(e.inputMask),this.mask=this.maskParts.mask,this.rawMask=e.inputMask)}}}.apply(n,o),void 0===i||(e.exports=i)},"./controls/simple/mask-editor/qp-mask-editor.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("controls/simple/text-editor/qp-text-editor"),r("./utils/index.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js")],i=function(e,n,r,o,i,a,l){"use strict";var c;Object.defineProperty(n,"__esModule",{value:!0}),n.QpMaskEditorCustomElement=n.maxMaskCode=void 0,n.maxMaskCode=21;let d=c=class QpMaskEditorCustomElement extends i.QpTextEditorCustomElement{constructor(e,n){super(e,n),this.element=e,this.rawMask="",this.converter="mask",this.addConfigSetter("inputMask")}detached(){super.detached(),this.maskObserver&&(this.maskObserver.dispose(),delete this.maskObserver)}attached(){super.attached(),this.attachMaskObserver()}configChanged(e,n){void 0===this.config&&(this.config={}),(0,a.applyDefaultValues)(this.config,Object.assign(Object.assign({},i.QpTextEditorCustomElement.defaultConfig),c.defaultConfigM)),this.attachMaskObserver(),this.setInputMask(this.config.inputMask)}attachMaskObserver(){!this.maskObserver&&this.config&&(this.maskObserver=this.bindingEngine.propertyObserver(this.config,"inputMask").subscribe(((e,n)=>this.setInputMask(e))),this.rawMask!==this.config.inputMask&&this.setInputMask(this.config.inputMask))}setInputMask(e){null==e&&(e=""),this.rawMask!==e&&(this.maskParts=(0,a.getMaskParts)(e),this.mask=this.maskParts.mask,this.rawMask=e)}onKeyPress(e,r){if(!this.mask||this.config.skipValidation)return!0;if(r<7||r>8&&r<32)return!1;let o=this.elemText.value;const i=o.length;let a=this.elemText.selectionStart||0,l=this.elemText.selectionEnd||0;if(a!==l){for(;--l>=a;){let e=this.config.promptChar;this.mask.charCodeAt(l)>=n.maxMaskCode&&(e=this.mask.charAt(l)),o=o.substring(0,l)+e+o.substring(l+1)}l++}else if(7===r||32===r){for(;l<i&&this.mask.charCodeAt(l)>=n.maxMaskCode;)l++;if(l>=i)return!1;o=o.substring(0,l)+this.config.promptChar+o.substring(l+1),l++}else if(8===r){for(;l>0&&this.mask.charCodeAt(l-1)>=n.maxMaskCode;)l--;if(l--<1)return!1;o=o.substring(0,l)+this.config.promptChar+o.substring(l+1)}if(r>8&&32!==r&&l<i){const e=String.fromCharCode(r),n=[o];if(a=this.insertCharAt(n,e,l),o=n[0],a<0)return!1;l=this.locatePromptPos(a,!1)}return this.elemText.value=o,this.select(l),this.sendInputEvent(),!1}processPasteValue(e){if(!this.mask||this.config.skipValidation)return!1;const r=this.elemText.selectionStart||0,o=this.elemText.selectionEnd||0;let i=this.elemText.value;i=this.clearMaskedContent(i,r,o);const a=[i];let l=r;for(let r=0;r<e.length;r++)if(this.mask.charCodeAt(l)<n.maxMaskCode&&e.charAt(r)===this.config.promptChar)l++;else if(l=this.insertCharAt(a,e.charAt(r),l),l<0||l>=this.mask.length)break;return this.elemText.value=a[0],this.select(o>0?o:r),this.sendInputEvent(),!0}insertCharAt(e,r,o){const i=this.mask.length;let l=o,c=e[0];if(o<i){if(this.mask.charCodeAt(l)>=n.maxMaskCode&&this.mask.charAt(l)===r)return++l;for(;this.mask.charCodeAt(l)>=n.maxMaskCode;)if(++l>=i)return-1;let o;return null==(o=(0,a.maskFilter)(this.mask.charCodeAt(l),r,0,null,this.maskParts.maskExclude,this.maskParts.maskInclude))?-1:(c=c.substring(0,l)+o+c.substring(l+1),e[0]=c,l++,l)}return-1}locatePromptPos(e,r){const o=this.mask.length;for(;e>=0&&e<o&&this.mask.charCodeAt(e)>=n.maxMaskCode;)r?e--:e++;return e}clearMaskedContent(e,r,o){if((null==r||r<0)&&(r=0),(null==o||o>this.mask.length)&&(o=this.mask.length),r>o){const e=o;o=r,r=e}if(r!==o){for(;--o>=r;){let r=this.config.promptChar;this.mask.charCodeAt(o)>=n.maxMaskCode&&(r=this.mask.charAt(o)),e=e.substring(0,o)+r+e.substring(o+1)}o++}return e}};d.defaultConfigM={valueMode:0,promptChar:"_",emptyChar:" "},r.__decorate([o.bindable,r.__metadata("design:type",Object)],d.prototype,"config",void 0),d=c=r.__decorate([o.autoinject,(0,o.customElement)("qp-mask-editor"),(0,o.useView)("../text-editor/qp-text-editor.html"),r.__metadata("design:paramtypes",[Element,l.Container])],d),n.QpMaskEditorCustomElement=d}.apply(n,o),void 0===i||(e.exports=i)},"./controls/simple/number-editor/converter.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./descriptors/index.ts"),r("./utils/index.ts"),r("./services/localizations-service.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./dependency-property-injection/index.ts"),r("./utils/platform-dependable-utils.ts"),r("./utils/control-helper.ts")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NumberEditorValueConverter=void 0;let p=class NumberEditorValueConverter{constructor(){this.dotSymbol=".",this.defaultMinusSymbol="-",this.defaultDecimalSeparator=".",this.defaultGroupSeparator=",",this.getDecimals=e=>e.decimals<0?0:e.decimals,this.ensureNumberPrefences()}get numberFormatInfo(){return this.ensureNumberPrefences(),this.numberPreferences||{negativeSign:this.defaultMinusSymbol,number:{decimalSeparator:this.defaultDecimalSeparator,groupSeparator:this.defaultGroupSeparator}}}ensureNumberPrefences(){var e,n;this.translatorInitialized||((0,u.isLegacyEnv)()?(this.numberPreferences=(0,d.numberFormatInfo)(),this.translatorInitialized=!0):(this.localizationService=l.Container.instance.get(a.LocalizationsService),this.numberPreferences=null===(e=this.localizationService)||void 0===e?void 0:e.getLocalePreferences("number"),(null===(n=this.localizationService)||void 0===n?void 0:n.translatorInitialized)&&(this.translatorInitialized=!0)))}toView(e,n,r,o){if(null==o)return"";if(o.allowNull&&null==e)return n?"":o.nullText;if(r.hasChanges&&n)return null==e?"":e.toLocaleString("en-US",{useGrouping:!1}).replace(this.dotSymbol,this.numberFormatInfo.number.decimalSeparator);o.allowNull||null!=e||(e=0),o.enabled&&!o.readOnly||(n=!1),null==e.toFixed&&(e=this.parseFloat(e.toString()));const i=n?o.editFormat:o.displayFormat;return i?e.format(i,this.numberFormatInfo):n?this.getEditText(e,o):this.getDisplayText(e,o)}fromView(e,n,r,o){return!o.allowNull||e&&e!==o.nullText?this.checkLimits(this.parseValue(e,o),o):null}getEditText(e,n){let r;try{r=e.toFixed(this.getDecimals(n))}catch(e){r=(0).toFixed(this.getDecimals(n))}return r.replace(this.dotSymbol,this.numberFormatInfo.number.decimalSeparator)}getDisplayText(e,n){const r=n.valueType>=o.NetType.Single&&n.valueType<=o.NetType.Decimal,i=this.getDecimals(n);let a=e.toLocaleString(this.localizationService?this.localizationService.getLang():"en-US",{minimumFractionDigits:i,maximumFractionDigits:i,useGrouping:r});const l=a.split(this.dotSymbol);return a=l[0].replace(/,/g,this.numberFormatInfo.number.groupSeparator),l.length>1?a+this.numberFormatInfo.number.decimalSeparator+l[1]:a}checkLimits(e,n){if(null!=e&&!isNaN(e)){const r=n.minValue,o=n.maxValue;if(null!=r&&e<r)return r;if(null!=o&&e>o)return o}return e}parseValue(e,n){let r=0,o="";e=" "!==this.numberFormatInfo.number.decimalSeparator?e.replace(/\s/g,""):e.replace(/[\t\n\r\f]/g,"");for(let n=0;n<e.length;n++){const r=e.charAt(n);(0,i.isDigit)(r)||r===this.numberFormatInfo.negativeSign?o+=r:(r===this.numberFormatInfo.number.decimalSeparator||r===this.dotSymbol&&this.numberFormatInfo.number.groupSeparator!==this.dotSymbol)&&(o+=this.dotSymbol)}return r=this.parseFloat(o),isNaN(r)?0:Number(r.toFixed(this.getDecimals(n)))}parseFloat(e){let n=e.length,r=e.indexOf(this.numberFormatInfo.number.decimalSeparator);if(r<0&&(r=e.indexOf(this.dotSymbol)),r>=0&&(n=r),n>14){const r=n-14;return parseFloat(e.substr(r))}return parseFloat(e)}};p=r.__decorate([(0,c.autoinject)(),r.__metadata("design:paramtypes",[])],p),n.NumberEditorValueConverter=p}.apply(n,o),void 0===i||(e.exports=i)},"./controls/simple/number-editor/qp-number-editor.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/simple/number-editor/converter.ts"),r("controls/simple/text-editor/qp-text-editor"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./descriptors/index.ts"),r("./utils/index.ts"),r("./services/localizations-service.ts"),r("./utils/platform-dependable-utils.ts"),r("./utils/control-helper.ts"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g){"use strict";var m;Object.defineProperty(n,"__esModule",{value:!0}),n.QpNumberEditorCustomElement=void 0;let f=m=class QpNumberEditorCustomElement extends a.QpTextEditorCustomElement{constructor(e,n){super(e,n),this.element=e,this.maxDecimals=null,this.conv=new i.NumberEditorValueConverter,this.subscribers=[],this.converter="numb",this.addConfigSetter("precision","decimals"),this.addConfigSetter("minValue"),this.addConfigSetter("maxValue"),this.addConfigSetter("type","valueType"),(0,b.isLegacyEnv)()?this.numberFormatInfo=(0,p.numberFormatInfo)()||this.conv.numberFormatInfo:this.numberFormatInfo=this.container.get(u.LocalizationsService).getLocalePreferences("number")}get type(){var e;return(null===(e=this.config)||void 0===e?void 0:e.decimals)>0?"qp-float":"qp-integer"}configChanged(e,n){var r;void 0===n&&((0,d.applyDefaultValues)(e,Object.assign(Object.assign({},m.defaultConfig),m.defaultConfigN)),null==this.config.decimals&&(this.config.decimals=0),this.config.allowNull||(null===(r=this.state)||void 0===r?void 0:r.nullable)||null!=this.value||null!=this.config.value||(this.value=0)),this.attachObservers()}detached(){super.detached(),this.detachObservers()}detachObservers(){this.subscribers.forEach((e=>e.dispose())),this.subscribers.splice(0,this.subscribers.length)}attachObservers(){if(this.detachObservers(),this.config){const e=["decimals","displayFormat","editFormat","valueType"];for(const n of e){const e=this.bindingEngine.propertyObserver(this.config,n).subscribe((()=>(0,o.signalBindings)("format-changed")));this.subscribers.push(e)}}}getDecimals(){return this.conv.getDecimals(this.config)}isMinus(e){return e===this.numberFormatInfo.negativeSign.charCodeAt(0)||45===e}processPasteValue(e){let n=e&&e.trim(),r=this.elemText.value;const o=new String(r),i=this.elemText.selectionStart||0,a=this.elemText.selectionEnd||0;n=n.replace(new RegExp(`\\${this.numberFormatInfo.number.groupSeparator}`,"g"),""),n=n.replace(new RegExp("s","g"),""),n=n.replace(/\+/,"");if(n.search(new RegExp(`^0-9\\${this.numberFormatInfo.number.decimalSeparator}-`,"g"))>=0)return!0;if(0!==i&&n.search(/[\-]/)>=0)return!0;r=i>=0?r.substring(0,i)+n+r.substring(a):n;const l=parseFloat(r.replace(this.numberFormatInfo.number.decimalSeparator,this.conv.dotSymbol));return isNaN(l)||this.conv.checkLimits(l,this.config)!==l?this.elemText.value=o.toString():this.elemText.value=this.conv.getEditText(l,this.config),this.sendInputEvent(),!0}onKeyPress(e,n){if(n<7||n>8&&n<32)return!1;let r=this.elemText.value,o=r.length,i=this.elemText.selectionStart||0,a=this.elemText.selectionEnd||0;if(i!==a)r=r.substring(0,i)+r.substring(a),a=i,o=r.length;else if(7===n||8===n)return!0;let l=0;const c=o;let u=!1;if(this.config.editFormat){let e,n="";for(let c=0;c<r.length;c++)e=r.charAt(c),(0,d.isDigit)(e)||e===this.numberFormatInfo.negativeSign?n+=e:e===this.numberFormatInfo.number.decimalSeparator?n+=this.conv.dotSymbol:(o--,c<i&&i--,c<a&&(a--,l++));r=n}n===this.conv.dotSymbol.charCodeAt(0)&&this.numberFormatInfo.number.decimalSeparator!==this.conv.dotSymbol&&(n=this.numberFormatInfo.number.decimalSeparator.charCodeAt(0));let p=r.indexOf(this.numberFormatInfo.number.decimalSeparator);if(n>8&&(!this.config.maxLength||this.config.maxLength<=0||this.config.maxLength>o)){const e=n===this.numberFormatInfo.number.decimalSeparator.charCodeAt(0);if(!((0,d.isDigit)(n)||e&&this.getDecimals()>0||0===i&&this.isMinus(n)&&this.config.minValue<0))return!1;if(o>0&&0===i&&this.isMinus(r.charCodeAt(0)))return!1;if(e){if(p>=0){if(p===i||p===i-1)return!1;o--,p<i&&(i=--a),r=r.substring(0,p)+r.substring(p+1)}if(o-i>this.getDecimals())return!1}else if(this.getDecimals()>0&&p>=0){o-p-1===this.getDecimals()&&i>p&&(u=!0)}const l=String.fromCharCode(n);if(a>=o)u&&(r=r.substring(0,o-1)),r+=l;else{const e=u?a+1:a;r=r.substring(0,i)+l+r.substring(e)}}let b=r.length;if(p=r.indexOf(this.numberFormatInfo.number.decimalSeparator),p>=0&&(b=p,this.maxDecimals)){if(parseInt(r.substring(p+1))>this.maxDecimals)return!1}if(b<15){if(this.config.editFormat){const e=this.conv.parseFloat(r);isNaN(e)||(r=e.format(this.config.editFormat,this.numberFormatInfo),l+=r.length-c-(u?0:1))}this.elemText.value=r,this.select(a+1+l),this.sendInputEvent()}return!1}};f.defaultConfigN={allowNull:!1,decimals:0,maxValue:999999999999,minValue:-999999999999,valueType:c.NetType.Int32,textAlign:3},r.__decorate([o.bindable,r.__metadata("design:type",Object)],f.prototype,"config",void 0),r.__decorate([(0,g.computedFrom)("config.decimals"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],f.prototype,"type",null),f=m=r.__decorate([o.autoinject,(0,o.customElement)("qp-number-editor"),(0,o.useView)("../text-editor/qp-text-editor.html"),r.__metadata("design:paramtypes",[Element,l.Container])],f),n.QpNumberEditorCustomElement=f}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/segmented-selector/qp-segmented-selector":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("aurelia-framework"),r("./services/selector-service/selector-service.ts"),r("./utils/index.ts"),r("./utils/platform-dependable-utils.ts"),r("./descriptors/index.ts"),r("./controls/abstract/base-field-editor/base-field-editor.ts"),r("./services/messages.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p){"use strict";var b,g,m,f;Object.defineProperty(n,"__esModule",{value:!0}),n.QpSegmentedSelectorCustomElement=void 0,function(e){e[e.Ascii=0]="Ascii",e[e.AlphaNumeric=1]="AlphaNumeric",e[e.Numeric=2]="Numeric",e[e.Alpha=3]="Alpha"}(g||(g={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(m||(m={})),function(e){e[e.NotSet=0]="NotSet",e[e.Upper=1]="Upper",e[e.Lower=2]="Lower"}(f||(f={}));let v=b=class QpSegmentedSelectorCustomElement extends u.QpBaseFieldEditor{constructor(e,n,r){super(n),this.element=e,this.selectorService=r,this.value={},this.items=[],this.graph="",this.editMask="",this.segmentViewName="",this.segmentFieldList=[],this.segmentHeaderList=[],this.lastPos=0,this.selEnd=0,this.selStart=0,this.dropOpen=!1,this.autoCompleteNM=!1,this.asciiCharSet=!1,this.wildcard="",this.allowNull=!1,this.lastSegment=0,this.eventSubscriptions=[],this.selectorOpened=!1,this.eventManager=n.get(i.EventManager),this.addConfigSetter("inputMask",(e=>this.setInputMask(e))),this.addConfigSetter("segments",(e=>this.setSegments(e))),this.addConfigSetter("segmentViewName",(e=>this.setSegmentViewName(e))),this.addConfigSetter("segmentFieldList",(e=>this.setSegmentFieldList(e))),this.addConfigSetter("segmentHeaderList",(e=>this.setSegmentHeaderList(e))),this.addConfigSetter("graph",(e=>this.setGraph(e)))}attached(){super.attached(),this.input&&(this.maskedInput=this.input.au.controller.viewModel,this.elemText=this.maskedInput.elemText,this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions.push(this.eventManager.addEventListener(this.elemText,"blur",(e=>this.onBlur(e)),i.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.elemText,"focus",(e=>this.onFocus(e)),i.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.elemText,"keydown",(e=>this.handleKeyDown(e)),i.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.elemText,"keyup",(e=>this.onKeyUp(e)),i.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.input,"update",(()=>this.tq.queueMicroTask((()=>this.updateValue()))),i.delegationStrategy.none,!0)))}configChanged(e,n){this.config||(this.config={}),(0,l.applyDefaultValues)(this.config,b.defaultConfig)}valueChanged(e,n){e&&null!=e.id&&e.id!==(null==n?void 0:n.id)&&(this.maskedInput.value=e.id)}detached(){super.detached(),this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[]}createColumnsConfig(){const e=[];return this.segmentFieldList.forEach(((n,r)=>{e.push({field:n,caption:this.segmentHeaderList[r]})})),e}createLookupColumnsConfig(){var e;const n=[];for(let r=0;r<((null===(e=this.state.fieldList)||void 0===e?void 0:e.length)||0);++r)n.push({field:this.state.fieldList?this.state.fieldList[r]:"",caption:this.state.headerList?this.state.headerList[r]:"",hideViewLink:!0});return n}handleKeyDown(e){return r.__awaiter(this,void 0,void 0,(function*(){switch(e.key){case"F3":e.preventDefault();try{const e=this.getSegmentIndex(this.elemText.selectionStart),n={segment:e+1,value:this.getValue(this.elemText.value)};this.selectorOpened=!0;const r=yield this.selectorService.getSelectorValue({graph:this.graph,parameters:n,view:this.segmentViewName,columns:this.createColumnsConfig(),valueField:"Value",dialogCaptionPrefix:this.state.displayName||"Select",displayName:this.items[e].title,showFilterBar:d.GridFilterBarVisibility.False,topBarItems:{select:{config:{commandName:"select",text:p.Messages.SelectorSelect,connotation:"Success"}}},adjustPageSize:!0,pageSize:20},this.element,this.container,"");if(r){if(this.elemText.selectionStart=this.getSegmentPos(this.items[e]),this.elemText.value=this.setSegmentValue(this.items[e],r.id),this.state.lookupMode===d.DimensionLookupMode.BySegmentsAndChildSegmentValues)for(let n=e+1;n<this.items.length;++n)this.elemText.value=this.setSegmentValue(this.items[n],"");const n=e;let o=this.getSegmentPos(this.items[n]);n===this.items.length-1||(o=this.getSegmentPos(this.items[n+1])),this.selectPos(o)}}catch(e){}finally{this.selectorOpened=!1}break;case"ArrowRight":case"ArrowLeft":this.items&&this.items.length>1&&e.ctrlKey&&this.selectNextSegment("ArrowLeft"===e.key)}}))}onKeyUp(e){!this.items||this.dropOpen||this.autoCompleteNM||this.checkSegmentAlign()}onClick(e){return!this.items||this.dropOpen||this.autoCompleteNM||this.checkSegmentAlign(),!0}openSelector(e){return r.__awaiter(this,void 0,void 0,(function*(){try{const e=this.getSegmentIndex(this.elemText.selectionStart);this.getValue(this.elemText.value);this.selectorOpened=!0;const n=yield this.selectorService.getSelectorValue({graph:this.graph,view:this.state.viewName,columns:this.createLookupColumnsConfig(),valueField:this.state.valueField,dialogCaptionPrefix:this.state.displayName||"Select",displayName:this.items[e].title,showFilterBar:d.GridFilterBarVisibility.False,topBarItems:{select:{config:{commandName:"select",text:p.Messages.SelectorSelect,connotation:"Success"}}},adjustPageSize:!0,pageSize:20},this.element,this.container,"");n&&(this.value=n)}catch(e){}finally{this.selectorOpened=!1}return null==e||e.preventDefault(),null==e||e.stopImmediatePropagation(),!1}))}onBlur(e){this.selectorOpened||this.updateValue()}onFocus(e){var n;this.elemText.value=this.getEditText(null===(n=this.value)||void 0===n?void 0:n.id,!1,!1)}getValue(e,n=!1){if(null===e||null===this.items)return this.allowNull?null:"";const r=e.length;let o=0,i="",a=!0;for(const l of this.items){for(let n=0;n<l.length&&o<r;n++){const n=this.filterChar(l,e.charAt(o));null!==n&&n!==l.emptyChar?(i+=n,a=!1):i+=l.emptyChar,o++}if((n||o<r&&e[o]===l.separator)&&o++,o>=r)break}return a?this.allowNull?null:"":i.trimEnd()}getEditText(e,n,r){if(null===this.items)return"";if(e||(e=""),!e.trim().length&&n)return"";if(!r&&this.autoCompleteNM)return e;let o="";const i=e.length;let a=0;return this.items.forEach(((r,l)=>{const c=n?r.emptyChar:r.promptChar,d=r.emptyChar.charCodeAt(0)>32;let u=0;for(;u<r.length;){if(a<i){const n=e.charAt(a++);n===r.emptyChar?o+=d?r.emptyChar:c:o+=n}else o+=c;u++}l<this.items.length-1&&(o+=r.separator)})),o}selectPos(e){c.browser.isIE&&this.elemText.focus(),this.lastPos=e,c.browser.isEdge?this.tq.queueTask((()=>{this.elemText.setSelectionRange(this.lastPos,this.lastPos)})):this.elemText.setSelectionRange(this.lastPos,this.lastPos)}selectNextSegment(e){let n=this.getSegmentIndex(this.elemText.selectionStart);e?(n--,n<0&&(n=this.items.length-1)):(n++,n>=this.items.length&&(n=0));const r=this.getSegmentPos(this.items[n]);this.tq.queueTask((()=>this.selectPos(r)))}updateValue(){var e,n,r,o,i;this.selStart===this.selEnd&&this.items&&!this.autoCompleteNM&&this.config.alignSegments&&(this.elemText.value=this.alignSegment(this.elemText.value,this.selStart));const a=null===(e=this.getValue(this.elemText.value))||void 0===e?void 0:e.trim();(null!=this.value||a)&&((null===(r=null===(n=this.value)||void 0===n?void 0:n.id)||void 0===r?void 0:r.trim())||a?((null===(i=null===(o=this.value)||void 0===o?void 0:o.id)||void 0===i?void 0:i.trim())||"")!==(a||"")&&(this.value={id:a}):this.value={})}syncMaskItems(e){this.items=[],e.forEach((e=>{if(e.length<=0)return;const n={};switch(n.emptyChar=String.fromCharCode(e.fillCharacter),n.promptChar=String.fromCharCode(e.promptCharacter),n.length=e.length,n.readOnly=e.readOnly,n.separator=String.fromCharCode(e.separator),n.textAlign=0===e.align?m.Left:m.Right,n.textCase=e.caseConvert,n.title=e.descr,String.fromCharCode(e.editMask)){case"C":n.editMask=g.Ascii;break;case"a":n.editMask=g.AlphaNumeric;break;case"9":n.editMask=g.Numeric;break;case"?":n.editMask=g.Alpha}this.items.push(n)}))}setInputMask(e){this.config&&(this.config.inputMask=e,this.maskedInput.setInputMask(e))}setSegments(e){this.syncMaskItems(e),this.editMask=this.getEditMask()}setSegmentViewName(e){this.segmentViewName=e}setSegmentFieldList(e){this.segmentFieldList=e}setGraph(e){this.graph=e}setSegmentHeaderList(e){this.segmentHeaderList=e}getSegmentPos(e){let n=0,r=!1;for(const o of this.items){if(o===e){r=!0;break}n+=o.length+1}return r?n:-1}getSegmentIndex(e){if(null===e)return 0;const n=this.editMask.length;let r=-1;for(;e<n;){const n=this.editMask.charCodeAt(e);if(n>=20){r=n-20;break}e++}return r<0&&(r=this.items.length-1),r}getSegmentItem(e){return this.items[this.getSegmentIndex(e)]}getSegmentValue(e,n){void 0===n&&(n=this.elemText.value);const r=this.getSegmentPos(e);let o="";if(r>=0&&r<n.length){const i=n.substring(r,r+e.length);for(const n of i)n!==e.promptChar&&(o+=n);return""===o?null:o}return null}setSegmentValue(e,n){let r=this.elemText.value;const o=this.getSegmentPos(e);if(o>=0&&o<r.length){let i=e.length-n.length;if(i>0){let r="";const o=e.textAlign===m.Left;for(;i--;)r+=e.promptChar;o?n+=r:n=r+n}else i<0&&(n=n.substring(0,e.length));const a=o+e.length;r=r.substring(0,o)+n+r.substring(a)}return r}getEditMask(){let e="";if(null!==this.items){const n=this.items.length;this.items.forEach(((r,o)=>{const i=String.fromCharCode(r.editMask),a=String.fromCharCode(r.editMask+10);r.readOnly?e+=a.repeat(r.length):e+=i.repeat(r.length),o<n-1&&(e+=String.fromCharCode(o+20))}))}return e}filterChar(e,n){if(n===e.emptyChar)return n;if(this.wildcard.indexOf(n)>=0&&n!==e.promptChar)return n;if(n===e.promptChar||this.asciiCharSet&&n.charCodeAt(0)>127)return null;let r=!0;switch(e.editMask){case g.AlphaNumeric:r=(0,l.isLetter)(n)||(0,l.isDigit)(n);break;case g.Numeric:r=(0,l.isDigit)(n);break;case g.Alpha:r=(0,l.isLetter)(n)}if(!r)return null;switch(e.textCase){case f.Upper:n=n.toUpperCase();break;case f.Lower:n=n.toLowerCase()}return n}alignSegment(e,n){const r=this.getSegmentItem(n),o=r?this.getSegmentPos(r):-1;if(o>=0&&o<e.length){const n=o+r.length;let i="";for(let a=o;a<n&&a<e.length;a++){const n=e[a];n!==r.promptChar?i+=n:i+=r.emptyChar}i=i.trimEnd(),i.length!==r.length&&(e=this.setSegmentValue(r,i))}return e}checkSegmentAlign(){if(!this.config.alignSegments)return!1;const e=this.elemText.selectionStart;let n=!1;const r=this.elemText;if(e!==this.lastPos&&e===this.elemText.selectionEnd){this.getSegmentItem(e);const o=this.getSegmentIndex(e);this.lastSegment!==o&&null!==this.lastPos&&(r.value=this.alignSegment(r.value,this.lastPos),this.elemText.setSelectionRange(e,e),n=!0),this.lastSegment=o,this.lastPos=e}return n}};v.defaultConfig={alignSegments:!0},r.__decorate([i.bindable,r.__metadata("design:type",Object)],v.prototype,"config",void 0),r.__decorate([i.bindable,(0,i.observable)({changeHandler:"valueChanged"}),r.__metadata("design:type",Object)],v.prototype,"value",void 0),v=b=r.__decorate([i.autoinject,(0,i.customElement)("qp-segmented-selector"),r.__metadata("design:paramtypes",[Element,o.Container,a.SelectorService])],v),n.QpSegmentedSelectorCustomElement=v}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/selector/qp-selector":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/screen-service.ts"),r("aurelia-framework"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./services/selector-service/selector-service.ts"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./controls/abstract/base-field-editor/base-field-editor.ts"),r("./descriptors/index.ts"),r("./utils/index.ts"),r("./controls/simple/selector/selector-api-client.ts"),r("./services/messages.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpSelectorCustomElement=void 0;(0,c.getLogger)("qp-selector");let m=class QpSelectorCustomElement extends d.QpBaseFieldEditor{constructor(e,n,r,o){super(n),this.element=e,this.selectorService=r,this.client=o,this.showSelector=!1,this.suggesterOpen=!1,this.selectorOpened=!1,this.showSuggester=!0,this.converterType="text",this.displayMode="both",this.eventSubscriptions=[],this.eventManager=n.get(i.EventManager);let a=["viewName"];a.forEach((e=>{this.addConfigSetter(e,(n=>this.setSuggesterProperty(e,n)))})),this.addConfigSetter("fieldList",((e,n)=>null==e?void 0:e.forEach((e=>this.addSuggesterField(e,n))))),a=["valueField","descriptionName"],a.forEach((e=>{this.addConfigSetter(e,(n=>this.setSuggesterProperty(e,n,!0)))})),this.addConfigSetter("inputMask"),this.addConfigSetter("allowNull"),this.addConfigSetter("valueMode"),this.addConfigSetter("skipValidation"),this.addConfigSetter("promptChar"),this.addConfigSetter("emptyChar"),this.addConfigSetter("displayName",(e=>{this.gridConfig&&(this.gridConfig.displayName=e)})),this.addConfigSetter("name",(e=>{this.gridConfig&&(this.gridConfig.dataField=e),this.config.suggester&&(this.config.suggester.dataField=e)})),this.addConfigSetter("selectorMode",(e=>this.setSelectorMode(e)))}attached(){this.editorDiv&&(this.editorDiv.focus=()=>{this.focus()})}focus(){if(!this.editorDiv)return;const e=this.editorDiv.querySelector(".qp-selector-link-wrapper"),n=document.activeElement;e&&e!==n?e.focus():this.editor!==n&&this.editor.focus()}setSelectorMode(e){this.mode=e,void 0!==e&&(e&u.PXSelectorMode.AutocompleteMode&&(this.showSuggester=!1),this.config.editorType?(this.editorType=this.config.editorType,this.converterType="text",this.maskedEditor=!1,this.displayMode="id"):(e&u.PXSelectorMode.NoAutocomplete?(this.editorType="qp-mask-editor",this.converterType="mask",this.maskedEditor=!0):(this.editorType="qp-text-editor",this.converterType="text",this.maskedEditor=!1),this.config.displayMode?this.displayMode=this.config.displayMode:(e&u.PXSelectorMode.DisplayMode)===u.PXSelectorMode.DisplayMode?this.displayMode="both":e&u.PXSelectorMode.DisplayModeText?this.displayMode="text":e&u.PXSelectorMode.DisplayModeValue&&(this.displayMode="id")),"text"===this.displayMode&&(this.editorType="qp-text-editor",this.converterType="text",this.maskedEditor=!1))}editorChanged(){this.editor&&(this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"focus",(e=>{var n;(null===(n=this.config)||void 0===n?void 0:n.allowEdit)&&!this.empty||this.onFocus(e)}),i.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"blur",(e=>{this.selectorOpened||(this.editorValueChanged(),this.tq.queueTask((()=>this.onBlur(e))))}),i.delegationStrategy.capturing,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"update",(e=>this.tq.queueMicroTask((()=>this.updateValue()))),i.delegationStrategy.none,!0)))}detached(){var e,n;super.detached(),this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],null===(e=this.valueIdSubscr)||void 0===e||e.dispose(),null===(n=this.valueTextSubscr)||void 0===n||n.dispose(),this.valueIdSubscr=this.valueTextSubscr=void 0}get empty(){var e;return!(this.value&&this.value.hasOwnProperty("id")&&(null===(e=this.value.id)||void 0===e?void 0:e.toString()))}get isDisabled(){var e,n;return(null===(e=this.config)||void 0===e?void 0:e.readOnly)||!(null===(n=this.config)||void 0===n?void 0:n.enabled)}get isLinkMode(){var e;return(null===(e=this.config)||void 0===e?void 0:e.allowEdit)&&!this.editMode&&!this.empty}setSuggesterProperty(e,n,r=!1){var o,i,a,l;this.ensureSuggester();const c=this.config.suggester;null!==(o=c[e])&&void 0!==o||(c[e]=n),this.gridConfig&&(null!==(i=(a=this.gridConfig)[l="viewName"===e?"view":e])&&void 0!==i||(a[l]=n)),r&&n&&this.addSuggesterField(n,this.state)}addSuggesterField(e,n){var r,o,i,a;if(!e)return;const l=e.toLowerCase();this.ensureSuggester();const c=this.config.suggester;c.fields||(c.fields=[]);let d=c.fields.findIndex((e=>{var n;return(null===(n=e.id)||void 0===n?void 0:n.toLowerCase())===l}));if(d>=0)return;d=null!==(o=null===(r=null==n?void 0:n.fieldList)||void 0===r?void 0:r.findIndex((n=>(0,p.compareStrings)(n,e,!0))))&&void 0!==o?o:-1;const u=d>=0&&(null==n?void 0:n.headerList)?n.headerList[d]:void 0,b=(null===(i=null==n?void 0:n.descriptionName)||void 0===i?void 0:i.toLowerCase())===l||(null===(a=null==n?void 0:n.valueField)||void 0===a?void 0:a.toLowerCase())===l;c.fields.push({id:e,filter:b,caption:u,type:"String"}),this.gridConfig&&(this.gridConfig.columns=this.suggesterFieldsToColumns(c.fields))}suggesterFieldsToColumns(e){this.config.suggester.valueField;return null==e?void 0:e.map((e=>({field:e.id,caption:e.caption,hideViewLink:!0})))}ensureSuggester(){var e,n;if(!this.config.suggester){const r=null===(e=this.container.get(o.ScreenService))||void 0===e?void 0:e.getGraphInfo();this.config.suggester={inlineArgs:!0,graph:null==r?void 0:r.graphType,dataField:null===(n=this.state)||void 0===n?void 0:n.name}}}configChanged(e){var n;if(e){this.ensureSuggester();const{viewName:r,graph:o}=e.suggester,i=this.suggesterFieldsToColumns(e.suggester.fields);this.gridConfig={dialogCaptionPrefix:e.dialogCaptionPrefix||"Select",selectButtonCaption:e.selectButtonCaption,graph:o,view:r,columns:i,valueField:e.suggester.valueField,descriptionName:e.suggester.descriptionName,displayName:e.suggester.displayName,dataField:null===(n=this.state)||void 0===n?void 0:n.name,showFastFilter:u.GridFastFilterVisibility.ToolBar,topBarItems:{select:{config:{commandName:"select",text:g.Messages.SelectorSelect,connotation:"Success"}},add:{config:{commandName:"addNewRecord",imageUrl:"main@RecordAdd"}}},actionsConfig:{exportToExcel:{hidden:!0}},allowSkipTabs:!1,autoSaveLayout:!1,preserveSortsAndFilters:!1,adjustPageSize:!0,pageSize:20,panel_id:`${e.id}_pnl_dlg`,id:`${e.id}_pnl_gr`},this.setSelectorMode(this.mode)}}get editorConfig(){if(!this.config)return;let e=this.config.tabIndex,n=this.config.enabled;return this.editor&&(this.config.readOnly||!this.config.enabled||this.isLinkMode)&&(e=-1,n=!1),{id:`${this.config.id}_text`,name:this.config.name,tabIndex:e,enabled:n,readOnly:this.config.readOnly,inputMask:this.config.inputMask,nullText:this.config.nullText,allowNull:this.config.allowNull,valueMode:this.config.valueMode,skipValidation:this.config.skipValidation,promptChar:this.config.promptChar,emptyChar:this.config.emptyChar}}displayModeChanged(){this.writeEditorValue()}editModeChanged(){this.editMode&&this.writeEditorValue()}writeEditorValue(){var e;if(this.selectorOpened)return;if(null==(null===(e=this.value)||void 0===e?void 0:e.id))return this.editorValue=void 0,void(this.refText=this.descrText="");const n=null!=this.value.text,r=this.value.id.toString().trim(),o=n?this.value.text.toString().trim():"";if(this.editMode)return"both"===this.displayMode||"id"===this.displayMode?this.editorValue=r:this.editorValue=n?o:void 0,void(this.refText=this.descrText="");let i;switch(this.displayMode){case"both":o&&r!==o?(this.refText=r,this.descrText=`- ${o}`,i=`${this.refText} - ${o}`):(i=this.refText=r,this.descrText="");break;case"id":i=this.refText=r,this.descrText="";break;case"text":i=this.refText=n?o:void 0,this.descrText=""}this.editorValue=i}editorValueChanged(){var e;(null===(e=this.config)||void 0===e?void 0:e.suggester)&&"text"===this.displayMode&&(this.config.suggester.suggestOnBlur=!0)}valueChanged(){var e,n,r;null===(e=this.valueIdSubscr)||void 0===e||e.dispose(),null===(n=this.valueTextSubscr)||void 0===n||n.dispose(),this.valueIdSubscr=this.valueTextSubscr=void 0,this.writeEditorValue(),(null===(r=this.config)||void 0===r?void 0:r.suggester)&&(this.config.suggester.suggestOnBlur=!1),this.value&&(this.valueIdSubscr=this.bindingEngine.propertyObserver(this.value,"id").subscribe((e=>{this.value={id:e,text:""},this.writeEditorValue()})),this.valueTextSubscr=this.bindingEngine.propertyObserver(this.value,"text").subscribe((e=>{this.writeEditorValue()})))}openEditor(e){var n;const r=this.container.get(o.ScreenService),i=(r.siteMapScreenID?r.siteMapScreenID:r.screenID)||(0,p.getScreenID)();return this.client.getEditScreen(i,this.config.suggester.viewName||"",this.config.suggester.dataField||"",null===(n=this.value)||void 0===n?void 0:n.id),e.preventDefault(),e.stopPropagation(),!1}openSelector(e){var n,o,i;return r.__awaiter(this,void 0,void 0,(function*(){if(null===(o=null===(n=this.config)||void 0===n?void 0:n.suggester)||void 0===o?void 0:o.simpleSelect)this.editor.focus(),this.suggesterOpen=!this.suggesterOpen;else{this.selectorOpened=!0;try{const n=this.editMode?this.editor.value:null===(i=this.value)||void 0===i?void 0:i.id;let r=this.gridConfig.valueField;if("text"===this.displayMode){r=this.gridConfig.descriptionName;const e=this.gridConfig.columns.find((e=>(0,p.compareStrings)(e.field,this.gridConfig.valueField,!0)));e&&(e.allowShowHide=u.GridColumnShowHideMode.False,e.visible=!1)}const o=yield this.selectorService.getSelectorValue(this.gridConfig,this.element,this.container,n,r);if(this.selectorOpened=!1,o){if("<NEW>"===(null==o?void 0:o.id))return this.client.getEditScreen((0,p.getScreenID)(),this.config.suggester.viewName||"",this.config.suggester.dataField||"",void 0).then((e=>{var n,r;(null===(n=null==e?void 0:e.redirectResults)||void 0===n?void 0:n.length)&&(null===(r=e.redirectResults[0])||void 0===r?void 0:r.close$)&&e.redirectResults[0].close$.then((e=>{var n;if(e){const r=null===(n=Object.values(e)[0])||void 0===n?void 0:n.toString();null!=r&&(this.value={id:r,text:""})}}))})),null==e||e.preventDefault(),null==e||e.stopImmediatePropagation(),!1;this.value=o;const n=new CustomEvent("value-selected",{bubbles:!0,detail:o});this.element.dispatchEvent(n)}}catch(e){this.selectorOpened=!1}}return this.tq.queueTask((()=>this.focus())),null==e||e.preventDefault(),null==e||e.stopImmediatePropagation(),!1}))}handleKeyDown(e){return"F3"!==e.key||(e.preventDefault(),e.stopImmediatePropagation(),this.openSelector(),!1)}onSpanFocus(e){return this.config.readOnly||!this.config.enabled?(e.preventDefault(),e.stopImmediatePropagation(),!1):(this.editMode=!0,this.tq.queueMicroTask((()=>this.editor.focus())),!this.maskedEditor&&this.config.inputMask&&"text"!==this.displayMode&&(this.converterType="mask"),!0)}onFocus(e){return this.config.readOnly||!this.config.enabled?(e.preventDefault(),e.stopImmediatePropagation(),!1):(this.editMode=!0,!this.maskedEditor&&this.config.inputMask&&"text"!==this.displayMode&&(this.converterType="mask"),!0)}onBlur(e){return!this.editMode&&this.editorValue===this.editor.value||(this.editMode=!1,this.updateValue(),!0)}preventFocus(e){return e.preventDefault(),!1}clearValue(e){return this.onFocus(e),this.tq.queueTask((()=>{this.editorValue=""})),e.preventDefault(),e.stopImmediatePropagation(),!1}updateValue(){var e,n,r,o,i,a,l;if(!(null===(e=this.editorValue)||void 0===e?void 0:e.trim()))return"text"===this.displayMode&&!(null===(r=null===(n=this.value)||void 0===n?void 0:n.text)||void 0===r?void 0:r.toString().trim())||((null===(i=null===(o=this.value)||void 0===o?void 0:o.id)||void 0===i?void 0:i.toString().trim())&&(this.value=null),!0);"text"===this.displayMode||this.editorValue!==(null===(l=null===(a=this.value)||void 0===a?void 0:a.id)||void 0===l?void 0:l.toString().trim())&&(this.value={id:this.editorValue,text:""}),this.maskedEditor||"text"===this.converterType||(this.converterType="text"),this.writeEditorValue()}setSuggestedValue(e,n,r){var o,i;if(e)if((null===(i=null===(o=this.value)||void 0===o?void 0:o.id)||void 0===i?void 0:i.toString())===e)this.value.text=n,this.writeEditorValue(),this.editor.value=this.editorValue||"";else{this.value={id:e,text:n};const r=new CustomEvent("value-selected",{bubbles:!0,detail:e});this.element.dispatchEvent(r)}else this.value=null}};r.__decorate([i.bindable,r.__metadata("design:type",Object)],m.prototype,"config",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],m.prototype,"value",void 0),r.__decorate([i.observable,r.__metadata("design:type",Boolean)],m.prototype,"editMode",void 0),r.__decorate([i.observable,r.__metadata("design:type",HTMLInputElement)],m.prototype,"editor",void 0),r.__decorate([i.observable,r.__metadata("design:type",String)],m.prototype,"displayMode",void 0),r.__decorate([i.observable,r.__metadata("design:type",String)],m.prototype,"editorValue",void 0),r.__decorate([(0,i.computedFrom)("value","value.id"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],m.prototype,"empty",null),r.__decorate([(0,i.computedFrom)("config","config.readOnly","config.enabled"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],m.prototype,"isDisabled",null),r.__decorate([(0,i.computedFrom)("editMode","config","config.allowEdit","value","value.id"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],m.prototype,"isLinkMode",null),r.__decorate([(0,i.computedFrom)("config","config.id","config.tabIndex","config.enabled","config.readOnly","config.inputMask","config.allowEdit","editMode"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],m.prototype,"editorConfig",null),m=r.__decorate([i.autoinject,(0,i.customElement)("qp-selector"),r.__metadata("design:paramtypes",[Element,a.Container,l.SelectorService,b.SelectorApiClient])],m),n.QpSelectorCustomElement=m}.apply(n,o),void 0===i||(e.exports=i)},"./controls/simple/selector/selector-api-client.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/base-api-client.ts"),r("aurelia-framework")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SelectorApiClient=void 0;let a=class SelectorApiClient{constructor(e){this.client=e}getEditScreen(e,n,r,o){return this.client.fetchExt(`ui/screen/${e}/selector/edit-screen`,{DataMember:n,DataField:r,Value:o})}};a=r.__decorate([i.autoinject,r.__metadata("design:paramtypes",[o.BaseApiClient])],a),n.SelectorApiClient=a}.apply(n,o),void 0===i||(e.exports=i)},"./controls/simple/text-editor/converter.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/simple/number-editor/converter.ts"),r("./controls/simple/mask-editor/converter.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RemoveSCRIPTValueConverter=n.MetaValueConverter=n.TextEditorValueConverter=void 0;let l=class TextEditorValueConverter{toView(e,n,r,o){return!n&&o&&o.allowNull&&!e?o.nullText:null!=e?e.toString():""}fromView(e,n,r,o){return!o.allowNull||e&&e!==o.nullText?e:null}};l=r.__decorate([(0,o.valueConverter)("textEditor")],l),n.TextEditorValueConverter=l;let c=class MetaValueConverter{constructor(e,n,r){this.text=e,this.numb=n,this.mask=r,this.signals=["format-changed"]}toView(e,n,r,o,i){const a=this[n];return a&&a.toView?a.toView(e,r,o,i):e}fromView(e,n,r,o,i){const a=this[n];return a&&a.fromView?a.fromView(e,r,o,i):e}};c=r.__decorate([o.autoinject,(0,o.valueConverter)("meta"),r.__metadata("design:paramtypes",[l,i.NumberEditorValueConverter,a.MaskEditorValueConverter])],c),n.MetaValueConverter=c;const d=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;let u=class RemoveSCRIPTValueConverter{toView(e){return null==e?null:e.replace(d,"")}};u=r.__decorate([(0,o.valueConverter)("removeSCRIPT")],u),n.RemoveSCRIPTValueConverter=u}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/text-editor/qp-text-editor":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/abstract/base-field-editor/base-field-editor.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./services/messages.ts"),r("./descriptors/index.ts"),r("./utils/index.ts"),r("./controls/dialog/base-dialog/dialog-helper.ts"),r("./services/translation-service.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p){"use strict";var b;Object.defineProperty(n,"__esModule",{value:!0}),n.QpTextEditorCustomElement=void 0;let g=b=class QpTextEditorCustomElement extends i.QpBaseFieldEditor{constructor(e,n){super(n),this.element=e,this.converter="text",this.hasFocus=!1,this.editorState={hasChanges:!1},this.languageButtonConfig={id:"btnLanguage",dialogResult:1,enabled:!0},this.Msg=l.Messages,this.addConfigSetter("length","maxLength"),this.addConfigSetter("nullable","allowNull"),this.addConfigSetter("multiLine",(e=>{e&&(this.config.type=1)})),this.addConfigSetter("language","language"),this.addConfigSetter("translations",(e=>this.setTranslations(e))),this.screenEventManager=new c.QpEventManager(n),this.container.registerInstance(c.QpEventManager,this.screenEventManager),this.dialogHelper=n.get(u.DialogHelper),this.translationService=n.get(p.TranslationService)}get SuggestionMode(){var e,n;return this.config&&!this.config.hasEditLink&&("multiline"===(null===(e=this.config.smartSuggestionMode)||void 0===e?void 0:e.toLowerCase())||"singleline"===(null===(n=this.config.smartSuggestionMode)||void 0===n?void 0:n.toLowerCase()))&&this.config.enabled&&!this.config.readOnly}configChanged(e,n){this.config||(this.config={}),(0,d.applyDefaultValues)(this.config,b.defaultConfig)}stateChanged(e,n){super.stateChanged(e,n),this.languageButtonConfig.text=e.language}isTextArea(){return"TEXTAREA"===this.elemText.tagName.toUpperCase()}get type(){return""}sendUpdateEvent(){const e=new CustomEvent("update",{bubbles:!0,cancelable:!1});this.elemText.dispatchEvent(e)}sendInputEvent(){const e=new InputEvent("input",{bubbles:!0,cancelable:!0});this.elemText.dispatchEvent(e)}select(e=null,n=null){this.config.hidden||(null==e||null==n?null!=e?this.elemText.setSelectionRange(e,e):this.elemText.select():this.elemText.setSelectionRange(e,n))}selectContent(){(0,d.isVisible)(this.elemText)&&this.config&&(this.config.selectOnFocus||this.getDisabled())&&this.tq.queueMicroTask((()=>this.select()))}getDisabled(){return!this.config.enabled||this.config.readOnly}processKeyDown(e){let n=e.key&&1===e.key.length&&!e.ctrlKey&&!e.metaKey&&!e.altKey?e.key[0].charCodeAt(0):null;switch(e.key){case"Backspace":n=8;break;case"Delete":n=7;break;case"Enter":const r=this.elemText,o=r.resizer;if(this.isTextArea()&&(e.ctrlKey||e.metaKey)){const e=r.selectionEnd;r.value=`${r.value.substring(0,e)}\n${r.value.substring(e)}`,r.selectionEnd=e+1,o&&o.adjust&&o.adjust();break}e.shiftKey||this.getDisabled()||this.sendUpdateEvent(),this.processBlur(e)}return null==n||!(this.getDisabled()||n>127&&this.config.asciiCharSet)&&this.onKeyPress(e,n)}onKeyPress(e,n){return!0}processFocus(e){this.hasFocus=!0,this.editorState.hasChanges=!1,this.selectContent()}processBlur(e){this.hasFocus=this.editorState.hasChanges=!1}processInput(e){this.editorState.hasChanges=!0}processPaste(e){if(this.getDisabled())return!1;const n=e.clipboardData?e.clipboardData:o.PLATFORM.global.clipboardData;if(null!=n){const e=n.getData("Text");if(this.processPasteValue(e))return!1}return!0}processPasteValue(e){return!1}processLinkClick(){this.screenEventManager.publish(new c.ExecuteCommandEvent(this.config.linkCommand))}setTranslations(e){e&&(this.translations=e,this.translationService.sendRequestForLocale().then((e=>{var n;null===(n=this.translations)||void 0===n||n.forEach((n=>{const r=null==e?void 0:e.find((e=>-1!==e.id.indexOf(n.language)));r&&(n.languageCaption=`${r.text} (${n.language})`)}))})))}openDialog(e,n){var r;const o=null===(r=this.translations)||void 0===r?void 0:r.map((e=>Object.assign({},e)));this.dialogHelper.openDialog(Object.assign(Object.assign({},n),{templateId:e,context:this}),{},(e=>{this.currentDialog=e.controller,e.closeResult.finally((()=>{this.currentDialog=void 0}))})).whenClosed((()=>{var e;if(!o&&!this.translations)return;((null==o?void 0:o.length)!==(null===(e=this.translations)||void 0===e?void 0:e.length)||(null==o?void 0:o.reduce(((e,n,r)=>{var o;return e||(null===(o=this.translations)||void 0===o?void 0:o[r].valueString)!==n.valueString}),!1)))&&this.translationService.setTranslations(this.state,this.translations)}))}openLocaleWindow(){this.openDialog("pnlLocaleEditor",{hideMaximizer:!0,caption:this.Msg.Translations})}get textMode(){if(null==this.config)return"text";switch(this.config.type){case 2:return"password";case 3:return"color"}return"text"}get align(){if(null==this.config)return"";switch(this.config.textAlign){case 1:return"left";case 2:return"center";case 3:return"right";case 4:return"justify"}return""}};g.defaultConfig={allowNull:!0,enabled:!0,selectOnFocus:!0,spellcheck:!0,type:0,enableSmartSuggestion:!1},r.__decorate([o.bindable,r.__metadata("design:type",Object)],g.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],g.prototype,"value",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],g.prototype,"converter",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLInputElement)],g.prototype,"elemText",void 0),r.__decorate([(0,o.computedFrom)("config.hasEditLink","config.smartSuggestionMode","config.enabled","config.readOnly"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],g.prototype,"SuggestionMode",null),r.__decorate([(0,o.computedFrom)("config.type"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],g.prototype,"textMode",null),r.__decorate([(0,o.computedFrom)("config.textAlign"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],g.prototype,"align",null),g=b=r.__decorate([(0,o.customElement)("qp-text-editor"),o.autoinject,r.__metadata("design:paramtypes",[Element,a.Container])],g),n.QpTextEditorCustomElement=g}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/uploader/qp-multi-upload":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./dependency-property-injection/index.ts"),r("./controls/compound/system-menu/files-dialog-api-client.ts"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpMultiUploadCustomElement=void 0;let c=class QpMultiUploadCustomElement{constructor(e){this.element=e}raiseEvent(e,n){this.element.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:n}))}filesChanged(){if(!this.config)return;const e=Array.isArray(this.files)?this.files:this.files?[this.files]:[];if(0===e.length)return;const n=l.PLATFORM.global.px_cm,r=n&&(n.findDataSource()||(null==n?void 0:n.dataSource)),o=new FormData;e.forEach((e=>o.append("upload",e)));const i={fileNames:e.map((e=>e.name)),blobs:e};this.raiseEvent("fileloading",i),this.client.upload(o,this.config.graph,this.config.view,this.config.recordId,this.config.action,this.config.screenId).then((()=>{this.raiseEvent("fileloaded",i),r&&r.executeCommand("RepaintControls")}))}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"config",void 0),r.__decorate([o.observable,r.__metadata("design:type",Object)],c.prototype,"files",void 0),r.__decorate([i.autoinject,r.__metadata("design:type",a.FilesDialogApiClient)],c.prototype,"client",void 0),c=r.__decorate([i.autoinject,(0,o.customElement)("qp-multi-upload"),r.__metadata("design:paramtypes",[Element])],c),n.QpMultiUploadCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"controls/simple/uploader/qp-uploader":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./dependency-property-injection/index.ts"),r("./controls/compound/system-menu/files-dialog-api-client.ts"),r("./services/messages.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpUploaderCustomElement=void 0;let c=class QpUploaderCustomElement{constructor(e,n){this.element=n,this.Messages=l.Messages,this.dragDropHandler=e=>{var n,r,o,i,a;this.hideReceiver();const l=e;if(l.defaultPrevented)return;l.preventDefault();const c=[];let d;if(null===(n=l.dataTransfer)||void 0===n?void 0:n.items){for(d=0;d<l.dataTransfer.items.length;d++)if("file"===(null===(r=l.dataTransfer)||void 0===r?void 0:r.items[d].kind)){const e=l.dataTransfer.items[d].getAsFile();if(this.allowed(e)&&(c.push(e),null===(o=this.config)||void 0===o?void 0:o.singleMode))break}}else for(d=0;d<l.dataTransfer.files.length;d++){const e=null===(i=l.dataTransfer)||void 0===i?void 0:i.files[d];if(this.allowed(e)&&(c.push(e),null===(a=this.config)||void 0===a?void 0:a.singleMode))break}this.postFiles(c)},this.dragOverHandler=e=>{clearTimeout(this.hideTimer),this.hideTimer=void 0,e.defaultPrevented?this.hideReceiver():(e.preventDefault(),e.target&&this.showReceiver(e.target))},this.dragLeaveHandler=()=>{this.hideTimer=setTimeout((()=>this.hideReceiver()),16)},this.ready=new Promise(((e,n)=>this.setReady=e))}postFiles(e){var n;(null===(n=this.config)||void 0===n?void 0:n.singleMode)?this.value=e[0]:this.value=e}allowed(e){return(0,a.acceptFile)(e,this.acceptList)}configChanged(){var e,n;this.acceptList=(0,a.createAcceptList)(null===(e=this.config)||void 0===e?void 0:e.accept),this.ready.then((e=>{this.detachHandlers(),this.attachHandlers()})),this.fileInput&&((null===(n=this.config)||void 0===n?void 0:n.singleMode)?this.fileInput.removeAttribute("multiple"):this.fileInput.setAttribute("multiple","true"))}detachHandlers(){this.element.removeEventListener("drop",this.dragDropHandler),this.element.removeEventListener("dragleave",this.dragLeaveHandler),this.element.removeEventListener("dragover",this.dragOverHandler),this.target&&(this.target.removeEventListener("drop",this.dragDropHandler),this.target.removeEventListener("dragleave",this.dragLeaveHandler),this.target.removeEventListener("dragover",this.dragOverHandler))}attachHandlers(){var e,n;this.element.addEventListener("drop",this.dragDropHandler),this.element.addEventListener("dragleave",this.dragLeaveHandler),this.element.addEventListener("dragover",this.dragOverHandler),(null===(e=this.config)||void 0===e?void 0:e.dropTarget)&&(this.target=o.DOM.querySelector(null===(n=this.config)||void 0===n?void 0:n.dropTarget),this.target&&(this.target.addEventListener("drop",this.dragDropHandler),this.target.addEventListener("dragleave",this.dragLeaveHandler),this.target.addEventListener("dragover",this.dragOverHandler)))}attached(){this.setReady(),this.attachHandlers()}filesFromInput(){var e,n;const r=[],o=(null===(e=this.fileInput.files)||void 0===e?void 0:e.length)||0;for(let e=0;e<o&&(r.push(this.fileInput.files[e]),!(null===(n=this.config)||void 0===n?void 0:n.singleMode));e++);this.postFiles(r),this.fileInput.value=""}hideReceiver(){this.receiver&&(o.DOM.removeNode(this.receiver),this.receiver=void 0)}showReceiver(e){let n;n=this.target&&e.compareDocumentPosition(this.target)&Node.DOCUMENT_POSITION_CONTAINS?this.target:this.element;const{top:r,left:i,width:a,height:l}=n.getBoundingClientRect();if(!this.receiver){this.receiver=o.DOM.createElement("DIV");const e=this.receiver.style;e.position="fixed",e.top=`${r}px`,e.left=`${i}px`,e.width=`${a}px`,e.height=`${l}px`,e.pointerEvents="none",e.boxSizing="border-box",e.border="5px dashed var(--primary-color, gray)",e.backgroundColor="rgba(255,255,255,.5)",e.zIndex="var(--zindex-dropdown, 20000)",o.DOM.appendNode(this.receiver)}}detached(){this.detachHandlers()}get showInput(){var e,n;return!(null===(e=this.config)||void 0===e?void 0:e.disabled)&&!(null===(n=this.config)||void 0===n?void 0:n.disableClick)}get buttonStyles(){var e;return(null===(e=this.config)||void 0===e?void 0:e.disableClick)?"--uploader-button-pointer-events: all;":""}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],c.prototype,"value",void 0),r.__decorate([(0,o.computedFrom)("config","config.disabled","config.disableClick"),r.__metadata("design:type",Boolean),r.__metadata("design:paramtypes",[])],c.prototype,"showInput",null),r.__decorate([(0,o.computedFrom)("config","config.disableClick"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],c.prototype,"buttonStyles",null),c=r.__decorate([i.autoinject,(0,o.customElement)("qp-uploader"),r.__metadata("design:paramtypes",[o.Container,Element])],c),n.QpUploaderCustomElement=c}.apply(n,o),void 0===i||(e.exports=i)},"controls/utility/drop-down-frame/qp-drop-down-frame":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/compound/rich-text-editor/common/tools.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpDropDownFrameCustomElement=void 0;const a="qp-drop-down-frame";let l=class QpDropDownFrameCustomElement{constructor(e){this.element=e,this.controlClass=a,this.opened=!1,this.showOpener=!0,this.contentElementId=`drop-down-container-${i.Tools.newGuid()}`}attached(){i.Tools.defineProperties(this.element,{opened:{get:()=>this.opened,set:e=>this.opened=e},hideDropDown:{get:()=>this.hideDropDown.bind(this)},showDropDown:{get:()=>this.showDropDown.bind(this)}})}hideDropDown(){this.opened=!1}showDropDown(){this.opened=!0}attachHideTrigger(){var e,n,r;const i=[[null!==(e=this.element.ownerDocument)&&void 0!==e?e:o.PLATFORM.global.document,"mousedown",e=>{const n=e.target;if(n.nodeType!==Node.ELEMENT_NODE)return;if(this.element.contains(n))return;const r=this.element.ownerDocument.getElementById(this.contentElementId);(null==r?void 0:r.contains(n))||(this.opened=!1)}],[null!==(r=null===(n=this.element.ownerDocument)||void 0===n?void 0:n.defaultView)&&void 0!==r?r:o.PLATFORM.global,"blur",e=>this.opened=!1]];return i.forEach((([e,n,r])=>e.addEventListener(n,r,!0))),{dispose:()=>i.forEach((([e,n,r])=>e.removeEventListener(n,r,!0)))}}openedChanged(e,n){var r,o,i,a;const l={opened:e},c=new CustomEvent("dropdown"+(e?"opened":"closed"),{bubbles:!0,detail:l});null===(r=this.element)||void 0===r||r.dispatchEvent(c),l.prevent?this.opened=n:e?(this.element.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,cancelable:!0})),null===(o=this.control.ownerDocument.defaultView)||void 0===o||o.focus(),this.control.focus(),this.hideTrigger=null!==(i=this.hideTrigger)&&void 0!==i?i:this.attachHideTrigger()):(null===(a=this.hideTrigger)||void 0===a||a.dispose(),this.hideTrigger=void 0)}stopPropagation(e){e.stopPropagation()}toggleDropDown(e){this.opened=!this.opened,e.stopImmediatePropagation()}};r.__decorate([o.bindable,r.__metadata("design:type",String)],l.prototype,"controlClass",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],l.prototype,"opened",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],l.prototype,"showOpener",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],l.prototype,"openerIcon",void 0),l=r.__decorate([o.autoinject,(0,o.customElement)(a),r.__metadata("design:paramtypes",[Element])],l),n.QpDropDownFrameCustomElement=l}.apply(n,o),void 0===i||(e.exports=i)},"controls/utility/layout/qp-layout":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./controls/compound/rich-text-editor/common/tools.ts")],i=function(e,n,r,o,i){"use strict";var a;Object.defineProperty(n,"__esModule",{value:!0}),n.roundWithPrecision=n.QpLayoutCustomElement=void 0,function(e){e[e.Unavailable=0]="Unavailable",e[e.Hidden=-1]="Hidden",e[e.Visible=1]="Visible"}(a||(a={}));let l=class QpLayoutCustomElement{constructor(e,n){this.element=e,this.tq=n,this.layout="flex",this.hideBehavior="hide",this.ellipsisBehavior="last-visible",this.ellipsisState=a.Unavailable,this.ellipsisStateClass="",this.updateQueued=!1,this.updating=!1,this.dashboardId=`layout-dashboard-${i.Tools.newGuid()}`}bind(){}attached(){i.Tools.defineProperties(this.element,{opened:{get:()=>{var e;return null===(e=this.ellipsis)||void 0===e?void 0:e.opened},set:e=>!!this.ellipsis&&(this.ellipsis.opened=e)},hideDropDown:{get:()=>{var e,n;return null===(n=null===(e=this.ellipsis)||void 0===e?void 0:e.hideDropDown)||void 0===n?void 0:n.bind(this.ellipsis)}},showDropDown:{get:()=>{var e,n;return null===(n=null===(e=this.ellipsis)||void 0===e?void 0:e.showDropDown)||void 0===n?void 0:n.bind(this.ellipsis)}}}),this.updateConfig()}detached(){this.disconnectObservers()}disconnectObservers(){var e,n;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.resizeObserver=void 0,null===(n=this.mutationObserver)||void 0===n||n.disconnect(),this.mutationObserver=void 0}updateConfig(){if("bar"===this.layout&&"ellipsis"===this.hideBehavior?this.ellipsisState===a.Unavailable&&(this.ellipsisState=a.Hidden):this.ellipsisState=a.Unavailable,!this.resizeObserver&&o.PLATFORM.global.ResizeObserver&&(this.resizeObserver=new o.PLATFORM.global.ResizeObserver((e=>{e&&e.length&&this.queueUpdateLayout()})),this.resizeObserver.observe(this.host)),!this.mutationObserver&&o.PLATFORM.global.MutationObserver){const getLayoutItem=e=>{if(e!==this.host)for(;;){if(e.nodeType===Node.ELEMENT_NODE&&existingElement(e))return e;const n=e.parentNode;if(!n)return;if(n===this.host)return e.nodeType===Node.ELEMENT_NODE?e:void 0;e=n}},newElement=e=>e.nodeType===Node.ELEMENT_NODE&&e!==this.ellipsis&&!e.suspended&&!e.observed,existingElement=e=>e.nodeType===Node.ELEMENT_NODE&&e!==this.ellipsis&&!e.suspended&&!!e.observed;this.mutationObserver=new o.PLATFORM.global.MutationObserver((e=>{if(!e||!e.length)return;const n=Array.from(new Set(e.flatMap((e=>{var n,r;return[...e.target!==this.host?[e.target]:[],...Array.from(null!==(n=e.addedNodes)&&void 0!==n?n:[]),...Array.from(null!==(r=e.removedNodes)&&void 0!==r?r:[])]})).map((e=>getLayoutItem(e))).filter((e=>!!e)))),r=n.filter((e=>newElement(e))),o=n.filter((e=>existingElement(e)));o.forEach((e=>e.needUpdate=!0)),(r.length>0||o.length>0)&&this.queueUpdateLayout()})),this.mutationObserver.observe(this.host,{subtree:!0,characterData:!0,childList:!0})}}updateStyles(){var e;let n="";const r=[],addState=e=>r.push(e);if(this.ellipsisState===a.Hidden)addState("hidden");else if(this.ellipsisState===a.Visible){addState("visible");const r=null===(e=this.host)||void 0===e?void 0:e.getBoundingClientRect();n+=r?`--layout-bar-min-height: ${Math.round(r.height)}px;`:"",void 0!==this.minCount&&void 0!==this.minWidth&&(n+=`--layout-bar-min-width: ${Math.round(this.minWidth)}px;`),void 0!==this.hiddenPart&&(n+=`--layout-hidden-item-transparency: ${this.hiddenPart}%;`),void 0!==this.ellipsisOffset?(addState("left"),n+=`--layout-ellipsis-offset: ${Math.round(this.ellipsisOffset)}px;`):(addState("right"),n+="--layout-ellipsis-offset: 0px;")}else addState("none");this.ellipsisStateClass=r.map((e=>`qp-layout-ellipsis-${e}`)).join(" "),this.inlineCss=n}queueUpdateLayout(){this.updateQueued||(this.updateQueued=!0,this.tq.queueTask((()=>this.updateLayout())))}updateLayout(){var e,n;if(!this.updating){this.updating=!0;try{const r=this.host;if(this.ellipsisState!==a.Unavailable&&(this.ellipsisState=r.scrollWidth>r.clientWidth?a.Visible:a.Hidden),"hide"!==this.hideBehavior&&"ellipsis"!==this.hideBehavior)return;const o=r.getBoundingClientRect(),i=2,l=roundWithPrecision(this.ellipsisState===a.Visible?o.right-o.height:o.right,i);let c,d,u=o.height;const p=this.element.ownerDocument.getElementById(this.dashboardId),b=[],g=p?e=>b.push(e):e=>{},createOpposite=e=>{const n=e.cloneNode(!0);return n.suspended=!0,n.opposite=e,n.classList.add("qp-layout-hidden-item"),e.opposite=n},swap=(e,n)=>{r.insertBefore(n,e),r.removeChild(e)},m="border"===this.ellipsisBehavior?(e,n)=>{const r=n.left<l;c=r?n.width>0?Math.round(100*(n.right-l)/n.width):100:c;(e.suspended?e:e.opposite).classList.toggle("partial",r)}:(e,n)=>{d=void 0===d?n.left:Math.min(n.left,d)},f=Math.max(0,Math.round(null!==(e=this.minCount)&&void 0!==e?e:0)),v=Array.from(r.childNodes).filter((e=>e.nodeType===Node.ELEMENT_NODE&&e!==this.ellipsis)).reverse();if(v.forEach(((e,n)=>{var r;const o=v.length-1-n;e.suspended||e.observed||(e.observed=!0,null===(r=this.resizeObserver)||void 0===r||r.observe(e));let a=e.getBoundingClientRect();if(e.suspended){if(!!e.opposite.needUpdate||(()=>{const n=e.opposite.getBoundingClientRect();return a.width!==n.width})()){const n=createOpposite(e.opposite);swap(e,n),a=(e=n).getBoundingClientRect(),e.opposite.needUpdate=!1}}else e.needUpdate=!1;if(u+=o>=f?0:a.width,o>=f&&roundWithPrecision(a.right,i)>l)try{if(e.suspended)return void g(e.opposite);e.opposite||createOpposite(e),g(e)}finally{m(e,a)}else if(!e.suspended)return;swap(e,e.opposite)})),p){const e=b.reverse();if(e.length>0){const n=Array.from(p.childNodes).filter((e=>e.nodeType===Node.ELEMENT_NODE));n.filter((n=>-1===e.indexOf(n))).forEach((e=>{e.remove(),n.splice(n.indexOf(e),1)}));for(let r=0,o=0;r<e.length;r++)e[r]!==n[o]?p.insertBefore(e[r],n[o]):o++}else null===(n=this.ellipsis)||void 0===n||n.hideDropDown(),p.replaceChildren()}this.minWidth=u,this.hiddenPart=c,this.ellipsisOffset=void 0===d?void 0:d-o.left,void 0!==d&&this.ellipsisState!==a.Unavailable&&(this.ellipsisState=a.Visible)}finally{this.updating=!1,this.updateQueued=!1,this.updateStyles()}}}};function roundWithPrecision(e,n){const r=Math.pow(10,Math.max(0,n));return Math.round(e*r)/r}r.__decorate([(0,o.bindable)({changeHandler:"updateConfig"}),r.__metadata("design:type",String)],l.prototype,"layout",void 0),r.__decorate([(0,o.bindable)({changeHandler:"updateConfig"}),r.__metadata("design:type",String)],l.prototype,"hideBehavior",void 0),r.__decorate([(0,o.bindable)({changeHandler:"updateConfig"}),r.__metadata("design:type",Number)],l.prototype,"minCount",void 0),r.__decorate([(0,o.bindable)({changeHandler:"updateConfig"}),r.__metadata("design:type",String)],l.prototype,"ellipsisBehavior",void 0),l=r.__decorate([o.autoinject,(0,o.customElement)("qp-layout"),r.__metadata("design:paramtypes",[Element,o.TaskQueue])],l),n.QpLayoutCustomElement=l,n.roundWithPrecision=roundWithPrecision}.apply(n,o),void 0===i||(e.exports=i)},"controls/utility/options/qp-options":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpOptionsCustomElement=void 0;const a=(0,i.getLogger)("qp-options");let l=class QpOptionsCustomElement{constructor(e){this.element=e,this.value=[],this.prepareHighlightIdx=void 0,this.highlightedIndex=void 0}attached(){if(null!=this.optionsFor&&(this.optionsPane.style.minWidth=this.optionsFor.clientWidth+"px"),!this.config.allowMultiSelect&&this.value.length>0){const e=this.config.options.findIndex((e=>this.value[0]<=e.value));e>=0&&(this.highlightedIndex=e),null==this.highlightedIndex&&(this.highlightedIndex=0),"scrollBehavior"in document.documentElement.style?this.optionsPane.children[this.highlightedIndex].scrollIntoView({block:"start"}):this.optionsPane.children[this.highlightedIndex].scrollIntoView(!1)}}commitSelection(){let e;this.config.allowMultiSelect?e=this.value:this.value.length>0&&(e=this.value[0]);const n=new CustomEvent("valuechanged",{bubbles:!0,detail:{value:e}});this.element.dispatchEvent(n)}enterHighlight(e){this.prepareHighlightIdx=e}commitHighlight(e){this.prepareHighlightIdx===e&&(this.highlight(e),this.prepareHighlightIdx=void 0)}highlight(e){this.highlightedIndex=e}ignoreClicks(e){e.preventDefault(),e.stopImmediatePropagation()}hide(){a.info("Hide")}select(e,n){!1!==e.value.enabled&&(this.appendValue(e.value),this.config.allowMultiSelect||this.hide(),this.commitSelection())}appendValue(e){if(this.config.allowMultiSelect){const n=this.value.indexOf(e);-1===n?this.value.push(e):this.value.splice(n,1)}else this.value=[e]}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],l.prototype,"config",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Array)],l.prototype,"value",void 0),r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],l.prototype,"optionsFor",void 0),l=r.__decorate([o.autoinject,(0,o.customElement)("qp-options"),r.__metadata("design:paramtypes",[Element])],l),n.QpOptionsCustomElement=l}.apply(n,o),void 0===i||(e.exports=i)},"controls/utility/suggester/elements/qp-suggester":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/localization.ts"),r("aurelia-event-aggregator"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./services/suggestings-service.ts"),r("./descriptors/index.ts"),r("./services/messages.ts"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js")],i=function(e,n,r,o,i,a,l,c,d,u,p){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpSuggesterCustomElement=void 0;const b=(0,l.getLogger)("qp-suggester"),g=navigator.userAgent.toLowerCase(),m=-1!==g.indexOf("safari")&&g.indexOf("chrome")<0;let f=class QpSuggesterCustomElement{constructor(e,n,r,i){this.eventManager=e,this.suggestingServiceFabric=n,this.eventAggregator=r,this.taskQueue=i,this.debounceState={delay:336,timeoutId:void 0},this.eventSubscriptions=[],this.forceOpen=!1,this.maxHeight=336,this.suggesting=!1,this.serializedArgs="",this.suggesterVerticalPaddings="8px",this.suggestionLineHeight="32px",this.msg=u.Messages,this.localizedStrings=o.LOCALIZED_STRINGS}attached(){this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"input",(e=>this.handleEditorInput(e)),a.delegationStrategy.capturing,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"keydown",(e=>this.handleEditorKeyDown(e)),a.delegationStrategy.capturing,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"blur",(e=>this.handleEditorBlur(e)),a.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"focus",(e=>this.handleEditorFocus(e)),a.delegationStrategy.capturing,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"click",(e=>this.handleEditorClick(e)),a.delegationStrategy.capturing,!0)),document.activeElement===this.editor&&(this.focused=!0);const{width:e}=this.rectElement.getBoundingClientRect();this.minWidth=e}configChanged(){this.config.suggestAfter=this.config.suggestAfter||2,this.ensureFieldsToRequest()}ensureFieldsToRequest(){var e,n;this.fieldsToRequest=null!==(n=null===(e=this.config.fields)||void 0===e?void 0:e.filter((e=>e.id&&e.filter)))&&void 0!==n?n:[]}suggestingChanged(e){if(e)this.taskQueue.queueTask((()=>{this.suggestionsContainer&&(!this.originalParent&&this.suggestionsContainer.parentElement&&(this.originalParent=this.suggestionsContainer.parentElement),p.DOM.appendNode(this.suggestionsContainer),this.eventAggregator.publish(`repositioned:${this.rectElement.id}`))}));else{if(!this.suggestionsContainer)return;p.DOM.appendNode(this.suggestionsContainer,this.originalParent)}}forceOpenChanged(e,n){this.focused=!0,e?this.suggesting||this.taskQueue.queueTask((()=>{this.MoveHighligt(1)})):this.suggesting&&this.hideSuggestions()}changeHighLight(e){this.preventHoverHighlight||(this.scrollSuggestionIntoView(e),this.taskQueue.flushTaskQueue(),this.highlightedSugestionIndex=e)}debounceHoverHighlight(){this.preventHoverHighlight=!0,clearTimeout(this.preventHoverHighlightTimeout),this.preventHoverHighlightTimeout=setTimeout((()=>{this.preventHoverHighlight=!1}),32)}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}detached(){this.unsubscribeFromMouseDownOnDocument(),this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],this.loading=void 0}ensureSuggesterService(){let e,n=void 0===this.suggestingsService||this.config.inlineArgs,r=this.config.inlineArgs;if(this.config.dependsOn&&this.config.dependsOn.length)try{e=this.config.dependsOn.map((e=>{var n;const r=e.id,o=__px_all(this.editor)[e.controlID],{width:i,height:a}=null===(n=null==o?void 0:o.element)||void 0===n?void 0:n.getBoundingClientRect();let l;if(i>0&&a>0)l=o.getValue();else if(e.controlID.indexOf("_lv0_")>0){const[n,r]=e.controlID.split("_lv0_");let o=this.editor;for(;o&&o.id!==n;)o=o.parentElement;if(null==o?void 0:o.object){const e=o.object,n=e.levels[0].columns.find((e=>e.formEditorID===r)).index;l=e.activeRow.cells[n].getValue()}}else(null==o?void 0:o.getValue)&&o.getValue()&&(l=o.getValue());return l instanceof Object&&l.id&&(l=l.id),{id:r,value:l}}));const r=JSON.stringify(e);this.serializedArgs!==r&&(n=!0,this.serializedArgs=r)}catch(e){r=!0}n&&(this.ensureFieldsToRequest(),this.suggestingsService=this.suggestingServiceFabric.getSuggestingService({args:e,descriptionName:this.config.descriptionName,fields:this.fieldsToRequest,graph:this.config.graph,graphStateId:this.config.graphStateId,inlineArgs:r,pageSize:7,serverFiltering:!!this.config.serverFiltering,valueField:this.config.valueField,viewName:this.config.viewName,dataField:this.config.dataField}))}handleEditorBlur(e){var n;if(clearTimeout(this.debounceState.timeoutId),this.focused=!1,this.suggestingsService&&this.suggestingsService.abortRequest(),null===(n=this.config)||void 0===n?void 0:n.suggestOnBlur){const e=this.editor.value;e.length>=1&&(this.ensureSuggesterService(),this.suggestingsService.getSuggestions(e).then((e=>{var n,r;this.suggesting=!0,this.suggestions=e,(null===(r=null===(n=this.suggestions)||void 0===n?void 0:n.suggestionItems)||void 0===r?void 0:r.length)?this.select(0):this.setEditorValue({display:void 0,useUpdateValue:!1,value:""}),this.suggesting=!1})))}return this.hideSuggestions(),!0}handleEditorClick(e){return e.altKey&&!e.ctrlKey&&(e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(1)),document.activeElement===this.editor&&(this.focused=!0),!0}handleEditorFocus(e){return this.focused=!0,!0}handleEditorInput(e){this.loading=!0;const n=this.editor.value;(n.length>=this.config.suggestAfter||this.suggesting)&&(clearTimeout(this.debounceState.timeoutId),this.debounceState.timeoutId=setTimeout((()=>{this.ensureSuggesterService(),this.suggestingsService.getSuggestions(n).then((e=>{this.suggestions=e,this.showSuggestions(),this.loading=!1,this.scrollSuggestionIntoView(0)})).catch((e=>{if(this.loading=!1,"AbortError"!==e.name)throw e;b.info("suggestions request aborted by user input")}))}),this.debounceState.delay))}isEditorEnabled(){const e=this.editor;return!(e.hasAttribute("readonly")||e.hasAttribute("disabled"))}handleEditorKeyDown(e){if(this.isEditorEnabled())switch(e.key){case"Esc":case"Escape":this.suggesting&&(this.hideSuggestions(),e.preventDefault(),e.stopImmediatePropagation());break;case"Enter":return this.suggesting&&!this.loading&&this.select(this.highlightedSugestionIndex,e),!0;case"Tab":this.suggesting&&(this.hideSuggestions(),e.preventDefault());break;case"Up":case"ArrowUp":!!this.suggesting!==e.altKey&&(this.debounceHoverHighlight(),e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(-1));break;case"Down":case"ArrowDown":!!this.suggesting!==e.altKey&&(this.debounceHoverHighlight(),e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(1));break;case"PageDown":this.debounceHoverHighlight(),e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(10);break;case"PageUp":this.debounceHoverHighlight(),e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(-10);break;default:return!0}}handleScroll(e){this.debounceHoverHighlight();const n=e.target;this.suggestions&&!this.suggestions.loading&&this.suggestions.haveMore&&this.suggestions.loadMore&&n.scrollTop+n.clientHeight+320+16>n.scrollHeight&&this.suggestions.loadMore()}hideSuggestions(){this.suggesting&&(this.unsubscribeFromMouseDownOnDocument(),this.suggesting=!1,this.suggestions=void 0,this.forceOpen&&(this.forceOpen=!1))}ignoreClicks(e){e.preventDefault(),e.stopImmediatePropagation()}MoveHighligt(e){return r.__awaiter(this,void 0,void 0,(function*(){if(!this.suggesting)return this.suggestions||(this.loading=!0,this.ensureSuggesterService(),yield this.suggestingsService.getSuggestions("").then((e=>{this.suggestions=e,this.loading=!1})).catch((e=>{if("AbortError"!==e.name)throw e;b.info("suggestions request aborted by user input")}))),void this.showSuggestions();let n=this.highlightedSugestionIndex+e;n<0&&(n=0),n>this.suggestions.suggestionItems.length-1&&(n=this.suggestions.suggestionItems.length-1),this.scrollSuggestionIntoView(n),this.taskQueue.flushTaskQueue(),this.highlightedSugestionIndex=n}))}scrollSuggestionIntoView(e){var n;let r;r="nearest",e===this.suggestions.suggestionItems.length-1&&(r="start");const o=null===(n=this.suggestionsContainer)||void 0===n?void 0:n.querySelectorAll("qp-suggestion")[e];if(o){const e="scrollBehavior"in document.documentElement.style||m?{block:r}:void 0;o.scrollIntoView(e)}}select(e,n=void 0){const r=this.suggestions.suggestionItems[e];r&&this.setEditorValue({display:r.display,useUpdateValue:!!n,value:r.value}),n&&(n.preventDefault(),n.stopImmediatePropagation()),this.hideSuggestions()}showSuggestions(){this.focused&&(this.suggesting||(this.suggesterWidth=void 0,this.documentMouseDownSubscription=this.eventAggregator.subscribe(d.MOUSE_DOWN_REACHED_BODY,(()=>this.handleEditorBlur())),this.suggesting=!0,this.taskQueue.queueTask((()=>{if(this.suggestionsContainer){const e=this.suggestionsContainer.getBoundingClientRect().width;this.suggesterWidth=e}}))),this.highlightedSugestionIndex=0)}};r.__decorate([a.bindable,r.__metadata("design:type",Object)],f.prototype,"config",void 0),r.__decorate([a.bindable,r.__metadata("design:type",HTMLElement)],f.prototype,"editor",void 0),r.__decorate([a.bindable,r.__metadata("design:type",HTMLElement)],f.prototype,"rectElement",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Function)],f.prototype,"setEditorValue",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Boolean)],f.prototype,"forceOpen",void 0),r.__decorate([a.observable,r.__metadata("design:type",Boolean)],f.prototype,"suggesting",void 0),f=r.__decorate([a.autoinject,r.__metadata("design:paramtypes",[a.EventManager,c.SuggestingsServiceFabric,i.EventAggregator,a.TaskQueue])],f),n.QpSuggesterCustomElement=f}.apply(n,o),void 0===i||(e.exports=i)},"controls/utility/suggester/qp-editor-wrapper":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpEditorWrapperCustomElement=void 0;const a=(0,i.getLogger)("qp-editor-wrapper");let l=class QpEditorWrapperCustomElement{constructor(e,n){this.element=e,this.tq=n}attached(){if(this.editor=this.element.querySelector(".editor"),this.editor&&(this.editor.setAttribute("autocomplete","off"),this.editor.setAttribute("autocorrect","off")),this.selector=this.element.querySelector(".selector"),this.rectElement=this.selector||this.editor,this.selector)if(this.selector.object){const e=this.selector.object;e.autoComplete=0,e.qpSuggester=!0}else a.error("no object",this.selector);else a.warn("no selector",this.element)}setEditorValue(e,n,r){var o;if(this.selector&&this.selector.object){const r=this.selector.object;if(null!=this.editor){const i=this.editor.value.trim();""!==i&&i===e||r.setValue("","");const a=r.hasHint?`${e} - ${n}`:n;null===(o=this.editor)||void 0===o||o.setAttribute("unblock","1"),r.updateValue(e,a),this.tq.queueTask((()=>{var e;return null===(e=this.editor)||void 0===e?void 0:e.removeAttribute("unblock")}))}else a.warn("no px object");r.fireEvent(15,null,{select:!0,complete:!0})}}};r.__decorate([o.bindable,r.__metadata("design:type",Object)],l.prototype,"config",void 0),l=r.__decorate([o.autoinject,(0,o.customElement)("qp-editor-wrapper"),r.__metadata("design:paramtypes",[Element,o.TaskQueue])],l),n.QpEditorWrapperCustomElement=l}.apply(n,o),void 0===i||(e.exports=i)},"./controls/utility/tooltip/qp-extention-cord.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/hover-activator-service/hover-activator-service.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpExtentionCordCustomAttribute=void 0;let a=class QpExtentionCordCustomAttribute{constructor(e,n,r){this.element=e,this.hoverService=n,this.tq=r,this.hoverSubscriptionOptions={activateAfter:100,onActivate:()=>this.show(),onDeactivate:()=>this.hide()}}attached(){this.subscribeTo(this.element)}detached(){var e;null===(e=this.subscription)||void 0===e||e.dispose(),this.subscription=void 0,this.hide()}subscribeTo(e){var n;null===(n=this.subscription)||void 0===n||n.dispose(),this.subscription=void 0,this.subscription=this.hoverService.subscribeTo(e,this.hoverSubscriptionOptions)}forceShowChanged(e,n){e?this.tq.queueTask((()=>{this.hoverService.selfActivate(this.element,this.hoverSubscriptionOptions)})):n&&this.tq.queueTask((()=>{this.hoverService.selfHide(this.element,this.hoverSubscriptionOptions)}))}show(){this.clone&&this.hide();const e=this.clone=this.element.cloneNode(!0);e.classList.add("extention-cord"),e.style.position="fixed";const n=this.element.getBoundingClientRect();document.body.appendChild(e);e.getBoundingClientRect().width<n.width?this.hide():(e.style.pointerEvents="none",e.style.top=n.top+"px",e.style.height=n.height+"px",e.style.left=n.left+"px")}hide(){this.clone&&document.body.removeChild(this.clone),this.clone=void 0}};r.__decorate([(0,o.bindable)({primaryProperty:!0}),r.__metadata("design:type",Boolean)],a.prototype,"forceShow",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],a.prototype,"manualShowOnly",void 0),a=r.__decorate([(0,o.customAttribute)("extention-cord"),o.autoinject,r.__metadata("design:paramtypes",[Element,i.HoverActivatorService,o.TaskQueue])],a),n.QpExtentionCordCustomAttribute=a}.apply(n,o),void 0===i||(e.exports=i)},"controls/utility/tooltip/qp-tooltip":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("aurelia-event-aggregator"),r("./services/hover-activator-service/hover-activator-service.ts"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js")],i=function(e,n,r,o,i,a,l){"use strict";var c;Object.defineProperty(n,"__esModule",{value:!0}),n.QpTooltipCustomElement=n.TooltipErrorLevel=void 0,function(e){e[e.Undefined=0]="Undefined",e[e.RowInfo=1]="RowInfo",e[e.Warning=2]="Warning",e[e.RowWarning=3]="RowWarning",e[e.Error=4]="Error",e[e.RowError=5]="RowError"}(c=n.TooltipErrorLevel||(n.TooltipErrorLevel={}));let d=class QpTooltipCustomElement{constructor(e,n,r,o){this.hoverService=e,this.ea=n,this.tq=r,this.element=o,this.visible=!0,this.centerToTarget=!1}targetChanged(e){this.subscribeTo(e)}updateSubscription(){var e;this.subscription&&(null===(e=this.subscription)||void 0===e||e.dispose(),this.subscription=void 0,this.subscriptionOptions={activatedElements:[this.contentElement],cssRule:this.rule,excludeCssRule:this.exclude,onActivate:e=>this.show(e),onDeactivate:()=>this.hide()},this.subscription=this.hoverService.subscribeTo(this.target,this.subscriptionOptions))}ruleChanged(){this.updateSubscription()}excludeChanged(){this.updateSubscription()}attached(){this.contentElement.parentElement&&(this.originalParent=this.contentElement.parentElement),this.target||(this.target=this.element.parentElement),this.subscriptionOptions={activatedElements:[this.contentElement],cssRule:this.rule,excludeCssRule:this.exclude,onActivate:e=>this.show(e),onDeactivate:()=>this.hide()},this.subscribeTo(this.target),this.hoverService.selfHide(this.target,this.subscriptionOptions)}detached(){var e;this.hide(),null===(e=this.subscription)||void 0===e||e.dispose(),this.subscription=void 0}subscribeTo(e){var n;null===(n=this.subscription)||void 0===n||n.dispose(),this.subscription=void 0,this.subscription=this.hoverService.subscribeTo(e,this.subscriptionOptions)}errorCssClass(e){switch(e){case c.Error:case c.RowError:return"error";case c.Warning:case c.RowWarning:return"warning";case c.RowInfo:return"info"}}show(e){var n,r,o;this.showMe||this.visible&&(this.onShow?this.onShow({opts:e}):(this.tooltip=null===(n=e.target.dataset)||void 0===n?void 0:n.tooltip,this.tooltip&&(null===(r=e.target.dataset)||void 0===r?void 0:r.errorLevel)?this.errorLevel=parseInt(null===(o=e.target.dataset)||void 0===o?void 0:o.errorLevel):this.errorLevel=void 0),this.showArgs=e,this.showMe=!0,this.rule?this.glueTarget=e.target:this.glueTarget=this.target||this.element.parentElement,l.DOM.appendNode(this.contentElement))}afterGlued(e){if(!this.showMe||!this.glueTarget)return;const n=this.contentElement.getBoundingClientRect();if(this.showArgs&&n.width>40){let e;const r=this.glueTarget.getBoundingClientRect();if(this.showArgs.target&&r.width>40){e=this.showArgs.target.getBoundingClientRect().left+this.showArgs.relativeX}else e=(r.right+r.left)/2;e-=n.left,e=Math.min(Math.max(e,20),n.width-20),this.pointerAdjustX=`${e}px`}else this.pointerAdjustX="unset"}get showMe(){return!!this.contentElement&&"none"!==this.contentElement.style.display}set showMe(e){this.contentElement&&(this.contentElement.style.display=e?"inline-block":"none")}hide(){this.showMe=!1,this.glueTarget=void 0,this.pointerAdjustX="unset",this.showArgs=void 0,this.contentElement&&l.DOM.appendNode(this.contentElement,this.originalParent)}stopPropagation(e){e.stopImmediatePropagation()}};r.__decorate([o.bindable,r.__metadata("design:type",HTMLElement)],d.prototype,"target",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],d.prototype,"rule",void 0),r.__decorate([o.bindable,r.__metadata("design:type",String)],d.prototype,"exclude",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Function)],d.prototype,"onShow",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],d.prototype,"visible",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Boolean)],d.prototype,"centerToTarget",void 0),d=r.__decorate([(0,o.customElement)("qp-tooltip"),o.autoinject,r.__metadata("design:paramtypes",[a.HoverActivatorService,i.EventAggregator,o.TaskQueue,Element])],d),n.QpTooltipCustomElement=d}.apply(n,o),void 0===i||(e.exports=i)},"controls/utility/wait-cursor/qp-wait-cursor":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-event-aggregator"),r("aurelia-framework"),r("./services/index.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpWaitCursorCustomElement=void 0;let l=class QpWaitCursorCustomElement{constructor(e,n){this.eventAggregator=e,this.eventManager=n,this.callbackRunning=!1,this.blockPage=!1,this.subscribers=[],this.cancelHandler=this.cancelKeysHandler.bind(this)}cancelKeysHandler(e){if(this.callbackRunning){null==e.target.getAttribute("unblock")&&(e.stopImmediatePropagation(),e.preventDefault())}}get documentElement(){return i.PLATFORM.global.document.documentElement}attached(){this.subscribers.push(this.eventAggregator.subscribe(a.HttpFetchRunningEvent,(e=>{this.callbackRunning=e.callbackRunning,this.blockPage=e.blockPage})));const e=this.documentElement;e.addEventListener("keydown",this.cancelHandler,!0),e.addEventListener("keypress",this.cancelHandler,!0)}detached(){this.subscribers.forEach((e=>e.dispose())),this.subscribers.splice(0,this.subscribers.length);const e=this.documentElement;e.removeEventListener("keydown",this.cancelHandler),e.removeEventListener("keypress",this.cancelHandler)}};l=r.__decorate([(0,i.customElement)("qp-wait-cursor"),i.autoinject,r.__metadata("design:paramtypes",[o.EventAggregator,i.EventManager])],l),n.QpWaitCursorCustomElement=l}.apply(n,o),void 0===i||(e.exports=i)},"./dependency-property-injection/decorators.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/aurelia-metadata/dist/native-modules/aurelia-metadata.js"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./dependency-property-injection/resolvers.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.newInstance=n.factory=n.optional=n.lazy=n.parent=n.inject=n.autoinject=n.emptyParameters=void 0,n.emptyParameters=Object.freeze([]);const a="design:type";function injectFn(e,n,r,...o){if(n)if(r&&r.configurable)r.value.inject=o;else{let i=e.constructor.injectProperties;i||(e.constructor.injectProperties=i=Object.create(null)),i[n]=o[0],r&&(r.writable=!0)}else e.inject=o}n.autoinject=function autoinject(e,o){const deco=function(e,o,i){o?i||(e.constructor.injectProperties||(e.constructor.injectProperties=Object.create(null)),e.constructor.injectProperties[o]=r.metadata.getOwn(a,e,o)):e.inject=r.metadata.getOwn(r.metadata.paramTypes,e,o)||n.emptyParameters};return e?deco(e,o):deco},n.inject=function inject(...e){return function(n,r,o){injectFn(n,r,o,...e)}},n.parent=function parent(e){return function(n,i,l){e||(e=r.metadata.get(a,n,i)),injectFn(n,i,l,o.Parent.of(e))}},n.lazy=function lazy(e){return function(n,r,i){injectFn(n,r,i,o.Lazy.of(e))}},n.optional=function optional(e,i=!0){return function(l,c,d){e||(e=r.metadata.get(a,l,c));const u=o.Optional.of(e,i);if("number"==typeof d){let e=l.inject;e||(e=r.metadata.getOwn(r.metadata.paramTypes,l,c)||n.emptyParameters),e[d]=u,l.inject=e}else injectFn(l,c,d,u)}},n.factory=function factory(e){return function(n,r,i){injectFn(n,r,i,o.Factory.of(e))}},n.newInstance=function newInstance(e,...n){return function(r,o,a){injectFn(r,o,a,i.DynamicNewInstance.of(e,...n))}}}.apply(n,o),void 0===i||(e.exports=i)},"./dependency-property-injection/index.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./dependency-property-injection/decorators.ts"),r("./dependency-property-injection/resolvers.ts"),r("./dependency-property-injection/invocation-handler.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.__exportStar(o,n),r.__exportStar(i,n),r.__exportStar(a,n)}.apply(n,o),void 0===i||(e.exports=i)},"./dependency-property-injection/invocation-handler.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PropertyConstructorInvocationHandler=n.PropertyInvocationHandler=void 0;class PropertyInvocationHandler extends r.InvocationHandler{invoke(e,n){const r=super.invoke(e,n);return this.injectProperties(e,r)}injectProperties(e,n){const r=this.fn.injectProperties;for(const o in r)n[o]=e.get(r[o]);return n.afterConstructor&&n.afterConstructor.call(n),n}}n.PropertyInvocationHandler=PropertyInvocationHandler;class PropertyConstructorInvocationHandler extends r.InvocationHandler{invoke(e,n){const r=this.fn.injectProperties,o=Object.create(null);for(const n in r)o[n]={configurable:!0,enumerable:!0,writable:!0,value:e.get(r[n])};Object.create(this.fn.prototype||null,o);let i=this.dependencies.length,a=new Array(i);for(;i--;)a[i]=e.get(this.dependencies[i]);return n&&(a=a.concat(n)),void 0!==n?this.invoker.invokeWithDynamicDependencies(e,this.fn,this.dependencies,n):this.invoker.invoke(e,this.fn,this.dependencies)}}n.PropertyConstructorInvocationHandler=PropertyConstructorInvocationHandler}.apply(n,o),void 0===i||(e.exports=i)},"./dependency-property-injection/resolvers.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js")],i=function(e,n,r,o){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.DynamicNewInstanceResolver=n.DynamicNewInstance=void 0;let a=i=class DynamicNewInstance extends o.NewInstance{constructor(e,...n){super(e),this.dynamicDependencies=n}get(e){let n=this.dynamicDependencies.length>0?this.dynamicDependencies.map((n=>n["protocol:aurelia:resolver"]?n.get(e):e.invoke(n))):void 0;const r=[],o=e.get(DynamicNewInstanceResolver).resolveType(this.key,r);r.length>0&&(n=n?[...n,...r]:r);const i=e.invoke(o,n);return e.registerInstance(this.asKey,i),i}static of(e,...n){return new i(e,...n)}};a=i=r.__decorate([(0,o.resolver)(),r.__metadata("design:paramtypes",[Object,Object])],a),n.DynamicNewInstance=a;class DynamicNewInstanceResolver{resolveType(e,n){return e}}n.DynamicNewInstanceResolver=DynamicNewInstanceResolver}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/api-types.ts":function(e,n,r){var o,i;o=[r,n,r("./descriptors/case-insensitive-map.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FieldsRetrieveMode=n.RedirectType=n.WindowMode=n.PopupPanelMode=n.LocalizationsCollection=n.HttpCodes=n.ErrorInfo=void 0;n.ErrorInfo=class ErrorInfo{constructor(e,n){this.status=e,this.data=n,this.isProcessed=!1}},function(e){e[e.Ok=200]="Ok",e[e.NoContent=204]="NoContent",e[e.Found=302]="Found",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.Conflict=409]="Conflict",e[e.ServerError=500]="ServerError"}(n.HttpCodes||(n.HttpCodes={}));class LocalizationsCollection extends r.CaseInsensitiveMap{}n.LocalizationsCollection=LocalizationsCollection,function(e){e.On="On",e.Layer="Layer"}(n.PopupPanelMode||(n.PopupPanelMode={})),function(e){e.Base="base",e.Same="same",e.New="new",e.NewWindow="newWindow",e.InlineWindow="inlineWindow",e.Layer="layer"}(n.WindowMode||(n.WindowMode={})),function(e){e.GoTo="goTo",e.OpenMessageBox="openMessageBox",e.OpenDialog="openDialog",e.Popup="popup",e.ClosePopup="closePopup",e.ReloadPage="reloadPage",e.OpenReport="openReport",e.WithUrl="withUrl",e.WithReport="withReport",e.WithinContext="withinContext",e.Export="export",e.OpenPayment="openPayment",e.Map="map"}(n.RedirectType||(n.RedirectType={})),function(e){e[e.Full=0]="Full",e[e.ErrorsOnly=1]="ErrorsOnly"}(n.FieldsRetrieveMode||(n.FieldsRetrieveMode={}))}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/base-view-model.ts":function(e,n,r){var o,i;o=[r,n,r("./descriptors/types.ts"),r("aurelia-framework"),r("./descriptors/fieldstate.ts"),r("./descriptors/reflection-metadata.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.executeHandler=n.PXView=n.CssCustomizable=void 0;class CssCustomizable{constructor(){this.handlers={}}setCustomCssHandler(e,n){this.handlers=n,this.screenModel=e}hasCustomCssHandlers(e){var n;return!!(null===(n=this.handlers)||void 0===n?void 0:n[e])}getCustomCss(e,n,r){let o;const i=this.handlers[e];if(i){for(const e of i){if(!e)continue;const i=e.handler({viewModel:n,selector:r,screenModel:this.screenModel},e.children);i&&(o=o?`${o} ${i}`:i)}return o}}}n.CssCustomizable=CssCustomizable;function executeHandler(e,n,r){wrapHandler(e,n,r)(r)}function wrapHandler(e,n,r){var o;const i=null===(o=n.children)||void 0===o?void 0:o.map((n=>wrapHandler(e,n,r)));return r=>n.handler.bind(e)(r,i)}n.PXView=class PXView{constructor(){this.fieldNames=[],this.cssCustomization=new CssCustomizable,this.viewInUpdateProcessField=!1,this.rowSelectedHandlers=[]}get viewInUpdateProcess(){var e,n;return null!==(n=null===(e=this.parent)||void 0===e?void 0:e.viewInUpdateProcess)&&void 0!==n?n:this.viewInUpdateProcessField}set viewInUpdateProcess(e){this.viewInUpdateProcessField=e}getField(e){return this[e]}setField(e,n){if(this[e]=n,e.indexOf("__")>=0){const r=e.split("__"),o=r[0],i=r[1];this[o]||(this[o]={}),this[o][i]=n}}subscribeValueChanged(e,n,r){const i=o.Container.instance.get(o.BindingEngine),a=this.getField(n);if(a)return i.propertyObserver(a,"value").subscribe(((n,o)=>{if(this.viewInUpdateProcess)return;const i=e.getScreenService();(null==i?void 0:i.updatesSuspended())||executeHandler(e,r,{screenModel:e,viewModel:this,newValue:n,oldValue:o})}))}subscribeRowSelectedHandler(e,n){const r=n.bind(null,e);return this.rowSelectedHandlers.push(r),{dispose:()=>{const e=this.rowSelectedHandlers.findIndex((e=>e===r));-1!==e&&this.rowSelectedHandlers.splice(e,1)}}}subscribeRowSelected(e,n){this.subscribeRowSelectedHandler(e,((e,r)=>executeHandler(e,n,{screenModel:e,viewModel:r})))}setFields(e,n={}){const o=[];let l=0,c=!1;e.forEach((e=>{var d,u,p,b;const{fieldName:g,fieldState:m}=e,f=m,v=n[g];let y=this.getField(g);!y&&f&&(y=(0,i.createFieldState)(this,g,null!==(u=null!==(d=f.stateType)&&void 0!==d?d:null==v?void 0:v.stateType)&&void 0!==u?u:"default",null!==(p=f.args)&&void 0!==p?p:null==v?void 0:v.args),this.setField(g,y)),y.primaryKey||f.required||(f.unpinned=!0);(void 0!==y.type&&y.type!==r.NetType.Empty?y.type:null!==(b=f.type)&&void 0!==b?b:null==v?void 0:v.type)===r.NetType.DateTime&&"string"==typeof m.value&&(m.value=new Date(m.value));let x=null;x=f.type?new i.PXFieldState(this,g,f.args):new i.PXShortFieldState,v&&Object.assign(x,v),Object.assign(x,m);for(const e of Object.getOwnPropertyNames(x))"function"!=typeof y[e]&&y[e]!==x[e]&&(y[e]=x[e]);y.applyOptions();const C=a.PXReflectionMetadata.getMetadataKeys(this,g);C&&C.forEach((e=>y[e]=a.PXReflectionMetadata.getMetadata(this,g,e))),o.push(g),c||this.fieldNames[l++]===g||(c=!0)})),(c||o.length>this.fieldNames.length)&&this.fieldNames.splice(0,this.fieldNames.length,...o),this.publishRowSelectedEvent()}publishRowSelectedEvent(){var e;null===(e=this.rowSelectedHandlers)||void 0===e||e.forEach((e=>e(this)))}setParentModel(e){this.parent=e}hideAll(){for(const e of this.fieldNames){this.getField(e).visible=!1}}setValue(e,n){const r=this[e];r&&(r.value=n)}getValue(e){const n=this.getField(e);return n?n.value:void 0}getGenericValue(e){const n=this.getField(e);return n?n.value:void 0}getRecordIdByKeys(){const e=[];return this.fieldNames.sort().forEach((n=>{var r;const o=this.getField(n);if(o.primaryKey){if(!o.hasOwnProperty("value"))throw new Error(`Field state of ${this.name}.${n} doesn't contain value. `);"object"==typeof o.value?e.push((null===(r=o.value)||void 0===r?void 0:r.hasOwnProperty)&&o.value.hasOwnProperty("id")?o.value.id:null):e.push(o.value)}})),e.join(";")}isCollection(){return!1}},n.executeHandler=executeHandler}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/case-insensitive-map.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CaseInsensitiveMap=void 0;class CaseInsensitiveMap{constructor(e){return Reflect.construct(Map,arguments,CaseInsensitiveMap)}set(e,n){return"string"==typeof e&&(e=e.toLowerCase()),Map.prototype.set.call(this,e,n)}get(e){return"string"==typeof e&&(e=e.toLowerCase()),Map.prototype.get.call(this,e)}has(e){return"string"==typeof e&&(e=e.toLowerCase()),Map.prototype.has.call(this,e)}clear(){Map.prototype.clear.call(this)}delete(e){return"string"==typeof e&&(e=e.toLowerCase()),Map.prototype.delete.call(this,e)}keys(){return Array.from(Map.prototype.keys.call(this)).map((e=>("string"==typeof e&&(e=e.toLowerCase()),e))).values()}}n.CaseInsensitiveMap=CaseInsensitiveMap}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./descriptors/constants.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QUICK_PROCESSING_CLEARED=n.CALLBACK_COMPLETED_EVENT=n.CALLBACK_STARTED_EVENT=n.BEFORE_CALLBACK_EVENT=n.DIALOG_OPENED=n.COORDINATE_SYSTEM_CHANGED_EVENT_NAME=n.DROP_ON_BODY=n.RESIZE_WINDOW=n.MOUSE_DOWN_REACHED_BODY=void 0,n.MOUSE_DOWN_REACHED_BODY="mouse-down-reached-body",n.RESIZE_WINDOW="resize-window",n.DROP_ON_BODY="drop_on_body",n.COORDINATE_SYSTEM_CHANGED_EVENT_NAME="absolute-positions-are-screwed",n.DIALOG_OPENED="dialog-opened",n.BEFORE_CALLBACK_EVENT="before-callback",n.CALLBACK_STARTED_EVENT="callback-started",n.CALLBACK_COMPLETED_EVENT="callback-completed",n.QUICK_PROCESSING_CLEARED="quick-processing-cleared"}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./descriptors/csrf-header-interceptor.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CsrfHeaderInterceptor=void 0;class CsrfHeaderInterceptor{response(e){return e.headers.has(CsrfHeaderInterceptor.TOKEN_HEADER)&&(this.latestCsrfToken=e.headers.get(CsrfHeaderInterceptor.TOKEN_HEADER)),e}request(e){return this.latestCsrfToken&&["POST","PUT","PATCH"].indexOf(e.method)>=0&&e.headers.set(CsrfHeaderInterceptor.TOKEN_HEADER,this.latestCsrfToken),e}}n.CsrfHeaderInterceptor=CsrfHeaderInterceptor,CsrfHeaderInterceptor.TOKEN_HEADER="X-XSRF-TOKEN"}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./descriptors/customization-types.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ReflectWithMetadata=n.CustomEventType=void 0,function(e){e.ValueChanged="valueChanged",e.RowSelected="rowSelected",e.GetCellCss="cellCss",e.GetRowCss="rowCss"}(n.CustomEventType||(n.CustomEventType={})),n.ReflectWithMetadata=Reflect}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./descriptors/customization.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./descriptors/customization-types.ts"),r("./descriptors/view-collection.ts"),r("./descriptors/reflection-metadata.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.handleEvent=n.eventOrderMetadataName=n.eventPropMetadataName=n.eventTypeMetadataName=n.createObjectWithMixins=n.createScreenObjectWithMixins=n.applyMixins=n.applyScreenMixin=n.extendsScreen=n.createCollection=n.createSingle=n.extendsViewModel=void 0;const l=new Map,c=new Set,d=new Map;function applyMixinsInternal(e,n){!function sortExtensions(e){e&&e.sort(((e,n)=>e.dependencies.indexOf(n.name)?1:n.dependencies.indexOf(e.name)?-1:e.dependencies.length!==n.dependencies.length?e.dependencies.length-n.dependencies.length:e.name.localeCompare(n.name)))}(e),applyMixins(n,e.map((e=>e.ctor))),c.add(n.name)}function applyMixins(e,n){n&&n.forEach((n=>{var o;null===(o=r.Container.instance)||void 0===o||o.registerTransient(n),Object.getOwnPropertyNames(n.prototype).forEach((r=>{"constructor"!==r&&"__metadata__"!==r&&"__pxmetadata__"!==r&&Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(n.prototype,r)||Object.create(null))})),a.PXReflectionMetadata.copyMetadata(n.prototype,e.prototype)}))}function createObjectWithMixins(e,n){const o=r.Container.instance.get(e);return applyMixinsToInstance(o,n),o}function applyMixinsToInstance(e,i){const a={};i&&i.forEach((i=>{!function copyObjectPropsAndMethods(e,r,i){Object.assign(e,r);const a=Object.getPrototypeOf(r),l=Object.getPrototypeOf(e),c=Object.getOwnPropertyNames(a),d=Object.getOwnPropertyNames(l).reduce(((e,n)=>(e[n]=!0,e)),{}),u=window.SCREEN_RESTRICTED_PROPS||{};for(const e of c){if(u[e])continue;const r=o.ReflectWithMetadata.getOwnMetadata(n.eventTypeMetadataName,a,e),c=o.ReflectWithMetadata.getOwnMetadata(n.eventPropMetadataName,a,e);let p=e,b=1;for(;r&&d[p];)p=`${e}_${b}`,b++;if(l[p]=a[e],d[p]=!0,r){const e=(i[r]||0)+1;o.ReflectWithMetadata.defineMetadata(n.eventOrderMetadataName,e,l,p),o.ReflectWithMetadata.defineMetadata(n.eventTypeMetadataName,r,l,p),o.ReflectWithMetadata.defineMetadata(n.eventPropMetadataName,c,l,p)}}}(e,r.Container.instance.get(i),a)}))}n.extendsViewModel=function extendsViewModel(e,n=void 0){return function(r,o,i){return e&&(console.info(`Extension ${r.name} registered for the ${e} view`),l.has(e)||l.set(e,[]),l.get(e).push({name:r.name,ctor:o?r[o]:r,dependencies:null!=n?n:[]})),r}},n.createSingle=function createSingle(e){const n=l.get(e.name);return n&&!c.has(e.name)&&(console.info(`Applying mixins for the the ${e.name} view`),applyMixinsInternal(n,e),r.Container.instance.registerTransient(e)),c.has(e.name)||(r.Container.instance.registerTransient(e),c.add(e.name)),createObjectWithMixins(e,null==n?void 0:n.map((e=>e.ctor)))},n.createCollection=function createCollection(e,n){const o=l.get(e.name);return o&&!c.has(e.name)&&(console.info(`Applying mixins for the the ${e.name} view`),applyMixinsInternal(o,e),r.Container.instance.registerTransient(e)),c.has(e.name)||(r.Container.instance.registerTransient(e),c.add(e.name)),new i.PXViewCollection((()=>createObjectWithMixins(e,null==o?void 0:o.map((e=>e.ctor)))),n)},n.extendsScreen=function extendsScreen(e,n=void 0){return function(r,o,i){return r&&e&&(console.info(`Extension ${r.name} registered for the ${e} screen view model`),d.has(e)||d.set(e,[]),d.get(e).push({name:r.name,ctor:o?r[o]:r,dependencies:null!=n?n:[]})),r}},n.applyScreenMixin=function applyScreenMixin(e){var n;null===(n=r.Container.instance)||void 0===n||n.registerTransient(e);const o=d.get(e.name.toUpperCase());return o&&!c.has(e.name)&&(console.info(`Applying mixins for the the ${e.name} screen view model`),applyMixinsInternal(o,e)),e},n.applyMixins=applyMixins,n.createScreenObjectWithMixins=function createScreenObjectWithMixins(e,n){var o;const i=null===(o=d.get(n.name))||void 0===o?void 0:o.map((e=>e.ctor));i&&(i.forEach((e=>{r.Container.instance.hasResolver(e)||r.Container.instance.registerTransient(e)})),applyMixinsToInstance(e,i),e.appliedMixins.push(...i))},n.createObjectWithMixins=createObjectWithMixins,n.eventTypeMetadataName="customEventType",n.eventPropMetadataName="customEventProps",n.eventOrderMetadataName="customEventOrder",n.handleEvent=function handleEvent(e,r){return(i,a,l)=>{o.ReflectWithMetadata.defineMetadata(n.eventTypeMetadataName,e,i,a),o.ReflectWithMetadata.defineMetadata(n.eventPropMetadataName,r,i,a)}}}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/event-manager.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./utils/control-helper.ts")],i=function(e,n,r,o,i){"use strict";var a,l;Object.defineProperty(n,"__esModule",{value:!0}),n.QpEventManager=n.CallbackCompletedEvent=n.QuickProcessingActionsEvent=n.QuickProcessingChangedEvent=n.LongRunChangedEvent=n.ProcessStatus=n.LoadingFinishedEvent=n.LoadingStartedEvent=n.ReloadPageEvent=n.RefreshScreenEvent=n.ClosePopupEvent=n.OpenPopupEvent=n.ExecuteCommandEvent=n.QpEvent=void 0;class QpEvent{constructor(e,n,r){this.stopped=!1,this.type=e,this.detail=n,this.bubbles=void 0===r||r}stop(){this.stopped=!0}isActive(){return!this.stopped}}n.QpEvent=QpEvent;class ExecuteCommandEvent extends QpEvent{constructor(e,n){super("ExecuteCommand",{command:e,params:n}),this.command=e,this.params=n}get Command(){return this.detail.command}get Params(){return this.detail.params}set Command(e){this.detail.command=e}}n.ExecuteCommandEvent=ExecuteCommandEvent,(0,i.registerQAObject)("ExecuteCommandEvent",ExecuteCommandEvent);class OpenPopupEvent extends QpEvent{constructor(e,n,r,o,i,a){super(OpenPopupEvent.EventName,Object.assign(Object.assign({},"string"==typeof e?{content:{templateId:e}}:{content:e}),{command:n,message:r,repaintControls:o,data:a,id:i})),this.content=e,this.command=n,this.message=r,this.repaintControls=o}get dialogId(){var e;return null===(e=this.detail)||void 0===e?void 0:e.id}get name(){var e,n;return null===(n=null===(e=this.detail)||void 0===e?void 0:e.content)||void 0===n?void 0:n.templateId}get commandName(){return this.command}get dialogMessage(){return this.message}get autoRepaint(){return this.repaintControls}}n.OpenPopupEvent=OpenPopupEvent,OpenPopupEvent.EventName="OpenPopup";class ClosePopupEvent extends QpEvent{constructor(){super(ClosePopupEvent.EventName)}}n.ClosePopupEvent=ClosePopupEvent,ClosePopupEvent.EventName="ClosePopup";n.RefreshScreenEvent=class RefreshScreenEvent extends QpEvent{constructor(e){super("RefreshScreen",{command:e}),this.calledFromCommand=e}};n.ReloadPageEvent=class ReloadPageEvent extends QpEvent{constructor(e){super("ReloadPage",{command:e}),this.calledFromCommand=e}};n.LoadingStartedEvent=class LoadingStartedEvent extends QpEvent{constructor(){super("LoadingStarted")}};n.LoadingFinishedEvent=class LoadingFinishedEvent extends QpEvent{constructor(){super("LoadingFinished")}},function(e){e[e.NotExists=0]="NotExists",e[e.InProcess=1]="InProcess",e[e.Completed=2]="Completed",e[e.Aborted=3]="Aborted"}(l=n.ProcessStatus||(n.ProcessStatus={}));n.LongRunChangedEvent=class LongRunChangedEvent extends QpEvent{constructor(e){super("LongRunChanged",{command:e}),this.command=e,this.status=l.NotExists}};n.QuickProcessingChangedEvent=class QuickProcessingChangedEvent extends QpEvent{constructor(){super("QuickProcessingChanged")}};n.QuickProcessingActionsEvent=class QuickProcessingActionsEvent extends QpEvent{constructor(){super("QuickProcessingActions")}};n.CallbackCompletedEvent=class CallbackCompletedEvent extends QpEvent{constructor(){super("CallbackCompleted")}};let c=a=class QpEventManager{constructor(e){var n;this.subscribers={},this.parent=void 0,this.parent=null===(n=e.parent)||void 0===n?void 0:n.get(a)}publish(e){const n=this.subscribers[e.type];if(n)for(const r of n)if(r(e),!e.isActive())break;if(e.bubbles&&e.isActive()){let n=this.parent;for(;n;){if(n!==this){n.publish(e);break}n=n.parent}}}subscribe(e,n){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(n),{dispose:()=>this.removeHandler(e,n)}}removeHandler(e,n){if(!this.subscribers[e])return;const r=this.subscribers[e],o=r.findIndex((e=>e===n));o>=0&&r.splice(o,1)}};c=a=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[o.Container])],c),n.QpEventManager=c}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/field-state-generic.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./descriptors/fieldstate.ts")],i=function(e,n,r,o){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.PXFieldStateGeneric=void 0;let a=i=class PXFieldStateGeneric extends o.PXFieldState{constructor(e,n,r,o,i){super(e,n,o,i),this.keys=r,this.obj=e}static createGeneric(e,n,r){return new i(e,n,r)}get fields(){return this.keys.map((e=>e))}};a=i=r.__decorate([(0,o.registerFieldState)("generic"),r.__metadata("design:paramtypes",[Object,String,Object,Number,String])],a),n.PXFieldStateGeneric=a}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/field-state-pair.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./descriptors/fieldstate.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PXFieldStatePair=void 0;let i=class PXFieldStatePair extends o.PXFieldState{constructor(e,n,r,o,i){super(e,n,o,i),this.viewModel=e,this.secondName=null==r?void 0:r.toString()}get controlType(){return"qp-field-pair"}};i=r.__decorate([(0,o.registerFieldState)("pair"),r.__metadata("design:paramtypes",[Object,String,Object,Number,String])],i),n.PXFieldStatePair=i}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/fieldstate.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework")],i=function(e,n,r,o){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.FieldStateDTO=n.createFieldState=n.registerFieldState=n.FieldState=n.PXFieldState=n.PXShortFieldState=n.DimensionLookupMode=n.PXSegment=n.PXFieldOptions=n.PXUIVisibility=n.PXSelectorMode=n.PXErrorLevel=void 0;const a=new Map;var l,c,d,u,p;!function(e){e[e.Undefined=0]="Undefined",e[e.RowInfo=1]="RowInfo",e[e.Warning=2]="Warning",e[e.RowWarning=3]="RowWarning",e[e.Error=4]="Error",e[e.RowError=5]="RowError"}(l=n.PXErrorLevel||(n.PXErrorLevel={})),function(e){e[e.Undefined=0]="Undefined",e[e.NoAutocomplete=1]="NoAutocomplete",e[e.MaskAutocomplete=32]="MaskAutocomplete",e[e.AutocompleteMode=33]="AutocompleteMode",e[e.TextModeReadonly=2]="TextModeReadonly",e[e.TextModeEditable=4]="TextModeEditable",e[e.TextModeSearch=6]="TextModeSearch",e[e.TextMode=6]="TextMode",e[e.DisplayModeHint=0]="DisplayModeHint",e[e.DisplayModeValue=8]="DisplayModeValue",e[e.DisplayModeText=16]="DisplayModeText",e[e.DisplayMode=24]="DisplayMode"}(c=n.PXSelectorMode||(n.PXSelectorMode={})),function(e){e[e.Undefined=0]="Undefined",e[e.Invisible=1]="Invisible",e[e.Visible=3]="Visible",e[e.SelectorVisible=7]="SelectorVisible",e[e.Dynamic=9]="Dynamic",e[e.Service=19]="Service",e[e.HiddenByAccessRights=33]="HiddenByAccessRights"}(d=n.PXUIVisibility||(n.PXUIVisibility={})),function(e){e[e.Default=0]="Default",e[e.Readonly=1]="Readonly",e[e.Hidden=2]="Hidden",e[e.NoLabel=4]="NoLabel",e[e.Multiline=8]="Multiline",e[e.CommitChanges=16]="CommitChanges",e[e.Disabled=32]="Disabled"}(u=n.PXFieldOptions||(n.PXFieldOptions={}));n.PXSegment=class PXSegment{},function(e){e[e.BySegmentedKeys=0]="BySegmentedKeys",e[e.BySegmentsAndAllAvailableSegmentValues=1]="BySegmentsAndAllAvailableSegmentValues",e[e.BySegmentsAndChildSegmentValues=2]="BySegmentsAndChildSegmentValues"}(p=n.DimensionLookupMode||(n.DimensionLookupMode={}));class PXShortFieldState{constructor(){this.enabled=!0,this.visible=!0,this.readOnly=!1,this.value=null,this.required=!1,this.options=void 0,this.language=void 0,this.translations=void 0,this.errorLevel=l.Undefined,this.error=void 0,this.unpinned=!1}}n.PXShortFieldState=PXShortFieldState;let b=i=class PXFieldState extends PXShortFieldState{constructor(e,n,r,o){super(),this.suppressLabel=!1,this.commitChanges=!1,this.unbound=!1,this.headerDescription=void 0,this.identity=!1,this.unique=!1,this.length=-1,this.nullable=!1,this.precision=-1,this.scale=-1,this.primaryKey=!1,this.descriptionName=void 0,this.viewName=void 0,this.fieldList=void 0,this.headerList=void 0,this.valueField=void 0,this.selectorMode=c.Undefined,this.visibility=d.Undefined,this.formulaEditorViewName=void 0,this.inputMask=void 0,this.displayMask=void 0,this.exclusiveValues=void 0,this.emptyPossible=void 0,this.isUnicode=void 0,this.multiSelect=void 0,this.noteIDField=void 0,this.noteDocsField=void 0,this.noteTextFiled=void 0,this.noteActivityField=void 0,this.noteTextExistsField=void 0,this.noteFilesExistsField=void 0,this.segments=void 0,this.validCombos=void 0,this.lookupMode=p.BySegmentedKeys,this.segmentValueField=void 0,this.segmentDescriptionName=void 0,this.segmentViewName=void 0,this.segmentFieldList=void 0,this.segmentHeaderList=void 0,this.wildcard=void 0,this.schemaObject=void 0,this.schemaField=void 0,this.isColorState=void 0,this.selectionMode=void 0,this.multiLine=void 0,this.updateValue=e=>{throw"updateValue() is not initialized"},this.name=n,this.viewModeName=null==e?void 0:e.name,this.view=e,this.fieldOptions=r,this.displayName=o}get textValue(){var e;if(null==this.value)return"";if("Date"===(null===(e=this.value.constructor)||void 0===e?void 0:e.name))return this.value.toLocaleString();if("object"==typeof this.value){const e=this.value.id;return null==e?"":this.value.text?this.value.text:e}return this.value.toString()}get systemValue(){if(null==this.value)return"";if("object"==typeof this.value){const e=this.value.id;return e??""}return this.value.toString()}get displayName(){return this.text}set displayName(e){this.text=e}applyOptions(){this.fieldOptions&&((this.fieldOptions&u.Readonly)===u.Readonly&&(this.readOnly=!0),(this.fieldOptions&u.NoLabel)===u.NoLabel&&(this.suppressLabel=!0),(this.fieldOptions&u.Multiline)===u.Multiline&&(this.multiLine=!0),(this.fieldOptions&u.Hidden)===u.Hidden&&(this.skip=!0),(this.fieldOptions&u.Disabled)===u.Disabled&&(this.enabled=!1),(this.fieldOptions&u.CommitChanges)===u.CommitChanges&&(this.commitChanges=!0))}configureControl(e){}static create(){const e=new i;return e.visible=!0,e.enabled=!0,e}static createUnbound(e=void 0){const n=new i;return n.unbound=!0,n.visible=!0,n.enabled=!0,n.calculation=e,n}};r.__decorate([(0,o.computedFrom)("value"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],b.prototype,"textValue",null),r.__decorate([(0,o.computedFrom)("value"),r.__metadata("design:type",String),r.__metadata("design:paramtypes",[])],b.prototype,"systemValue",null),b=i=r.__decorate([registerFieldState("default"),r.__metadata("design:paramtypes",[Object,Object,Number,String])],b),n.PXFieldState=b;function registerFieldState(e){return function(n){try{n&&a&&!a.has(e)&&a.set(e,n)}catch(e){}}}n.FieldState=class FieldState extends b{constructor(e,n,r,o){super(e,n,r,o)}},n.registerFieldState=registerFieldState,n.createFieldState=function createFieldState(e,n,r,o){return o?new(a.get(r))(e,n,...o):new(a.get(r))(e,n)};n.FieldStateDTO=class FieldStateDTO{constructor(e,n,r){this.enabled=e,this.visible=n,this.value=r}}}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/grid-presets.ts":function(e,n,r){var o,i;o=[r,n,r("./descriptors/grid-types.ts")],i=function(e,n,r){"use strict";var o;Object.defineProperty(n,"__esModule",{value:!0}),n.getGridPereset=n.GridPreset=void 0,function(e){e.Primary="primary",e.PrimaryInquiry="primaryInquiry",e.Inquiry="inquiry",e.Details="details",e.Attributes="attributes",e.ShortList="shortList",e.Empty="empty"}(o=n.GridPreset||(n.GridPreset={})),n.getGridPereset=function getGridPereset(e){return l[e]};const i={adjustPageSize:!0,mergeToolbarWith:"ScreenToolbar",syncPosition:!0,preserveSortsAndFilters:!0,showFilterBar:r.GridFilterBarVisibility.Always},a={adjustPageSize:!0,mergeToolbarWith:"ScreenToolbar",syncPosition:!0,preserveSortsAndFilters:!0,allowDelete:!1,allowInsert:!1,allowImport:!1,allowSkipTabs:!1,actionsConfig:{insert:{hidden:!0},delete:{hidden:!0}},showFilterBar:r.GridFilterBarVisibility.Always},l={[o.Primary]:i,[o.PrimaryInquiry]:a,[o.Inquiry]:{allowDelete:!1,allowInsert:!1,allowImport:!1,allowSkipTabs:!1,actionsConfig:{insert:{hidden:!0},delete:{hidden:!0}}},[o.Details]:{syncPosition:!0,wrapToolbar:!0},[o.Attributes]:{autoSaveLayout:!1,autoAdjustColumns:!0,fastFilterByAllFields:!1,allowFilter:!1,allowSort:!1,allowStoredFilters:!1,allowInsert:!1,allowDelete:!1,allowImport:!1,showTopBar:!1,showBottomBar:!1,pageSize:0},[o.ShortList]:{autoSaveLayout:!1,autoAdjustColumns:!0,fastFilterByAllFields:!1,allowFilter:!1,allowStoredFilters:!1,allowImport:!1,showBottomBar:!1,pageSize:0,actionsConfig:{adjust:{hidden:!0},exportToExcel:{hidden:!0}}}}}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/grid-types.ts":function(e,n,r){var o,i;o=[r,n,r("./descriptors/fieldstate.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GridCell=n.GridFilterRow=n.GridFilter=n.GridAutoGrowMode=n.GridFilterBarVisibility=n.GridFastFilterVisibility=n.GridRowStatus=n.GridColumnDisplayMode=n.GridColumnShowHideMode=n.GridColumnType=n.GridColumnGeneration=n.TextAlign=n.SortDirection=n.GridPagerMode=void 0,function(e){e[e.InfiniteScroll=0]="InfiniteScroll",e[e.NextPrevFirstLast=1]="NextPrevFirstLast",e[e.Numeric=2]="Numeric"}(n.GridPagerMode||(n.GridPagerMode={})),function(e){e[e.None=0]="None",e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(n.SortDirection||(n.SortDirection={})),function(e){e[e.NotSet=0]="NotSet",e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=3]="Right",e[e.Justify=4]="Justify"}(n.TextAlign||(n.TextAlign={})),function(e){e[e.None=0]="None",e[e.Append=1]="Append",e[e.Recreate=2]="Recreate",e[e.AppendDynamic=3]="AppendDynamic",e[e.Selector=4]="Selector"}(n.GridColumnGeneration||(n.GridColumnGeneration={})),function(e){e[e.NotSet=0]="NotSet",e[e.Icon=1]="Icon",e[e.HyperLink=2]="HyperLink",e[e.CheckBox=3]="CheckBox"}(n.GridColumnType||(n.GridColumnType={})),function(e){e[e.False=0]="False",e[e.True=1]="True",e[e.Server=2]="Server",e[e.Client=3]="Client"}(n.GridColumnShowHideMode||(n.GridColumnShowHideMode={})),function(e){e[e.Value=0]="Value",e[e.Text=1]="Text",e[e.Both=2]="Both"}(n.GridColumnDisplayMode||(n.GridColumnDisplayMode={})),function(e){e[e.NotSet=0]="NotSet",e[e.Modified=1]="Modified",e[e.New=2]="New",e[e.Inserted=3]="Inserted",e[e.Deleted=4]="Deleted"}(n.GridRowStatus||(n.GridRowStatus={})),function(e){e[e.False=0]="False",e[e.ToolBar=1]="ToolBar",e[e.FilterBar=2]="FilterBar"}(n.GridFastFilterVisibility||(n.GridFastFilterVisibility={})),function(e){e[e.False=0]="False",e[e.Always=1]="Always",e[e.OnDemand=2]="OnDemand"}(n.GridFilterBarVisibility||(n.GridFilterBarVisibility={})),function(e){e[e.False=0]="False",e[e.Fit=1]="Fit",e[e.Fill=2]="Fill"}(n.GridAutoGrowMode||(n.GridAutoGrowMode={}));n.GridFilter=class GridFilter{};n.GridFilterRow=class GridFilterRow{};class GridCell extends r.PXFieldState{}n.GridCell=GridCell}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/index.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./descriptors/api-types.ts"),r("./descriptors/base-view-model.ts"),r("./descriptors/case-insensitive-map.ts"),r("./descriptors/constants.ts"),r("./descriptors/csrf-header-interceptor.ts"),r("./descriptors/customization.ts"),r("./descriptors/event-manager.ts"),r("./descriptors/fieldstate.ts"),r("./descriptors/grid-types.ts"),r("./descriptors/grid-presets.ts"),r("./descriptors/interface.ts"),r("./descriptors/redirect-helper.ts"),r("./descriptors/reflection-metadata.ts"),r("./descriptors/types.ts"),r("./descriptors/session-url-router.ts"),r("./descriptors/field-state-generic.ts"),r("./descriptors/field-state-pair.ts"),r("./descriptors/customization-types.ts"),r("./descriptors/view-collection.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g,m,f,v,y,x,C,S,D,E){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.__exportStar(o,n),r.__exportStar(i,n),r.__exportStar(a,n),r.__exportStar(l,n),r.__exportStar(c,n),r.__exportStar(d,n),r.__exportStar(u,n),r.__exportStar(p,n),r.__exportStar(b,n),r.__exportStar(g,n),r.__exportStar(m,n),r.__exportStar(f,n),r.__exportStar(v,n),r.__exportStar(y,n),r.__exportStar(x,n),r.__exportStar(C,n),r.__exportStar(S,n),r.__exportStar(D,n),r.__exportStar(E,n)}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/interface.ts":function(e,n,r){var o,i;o=[r,n,r("./descriptors/reflection-metadata.ts"),r("./descriptors/customization.ts")],i=function(e,n,r,o){"use strict";function applyMetadataValue(e,n,o,i){r.PXReflectionMetadata.setMetadata(e,n,o,i)}Object.defineProperty(n,"__esModule",{value:!0}),n.treeConfig=n.gridConfig=n.columnConfig=n.placeAfterProperty=n.placeBeforeProperty=n.placeAfterView=n.placeBeforeView=n.viewInfo=n.graphInfo=n.featureInstalled=n.registerViewModelMixin=n.register=n.type=n.fieldInfo=n.calculation=n.multiLine=n.selectorSettings=n.text=n.unbound=n.disabled=n.readOnly=n.suppressLabel=n.mappedToViewField=n.linkCommand=n.autoRefresh=n.headerDescription=n.commitChanges=n.skip=n.pair=n.group=void 0,n.group=function group(e){return(n,r)=>{applyMetadataValue(n,r,"group",e)}},n.pair=function pair(e,n="s",r="xs"){return(o,i)=>{applyMetadataValue(o,i,"template",`<div style="position:relative;display: flex;">\n\t\t\t\t<qp-field control-id="ed${i}" control-state.bind="${i}" control-size="${n}" >\n\t\t\t\t</qp-field>\n\t\t\t\t<qp-field control-id="ed${e}" control-state.bind="${e}" control-size="${r}" >\n\t\t\t\t</qp-field>\n\t\t\t</div>`),applyMetadataValue(o,e,"skip",!0)}},n.skip=function skip(e,n){if("boolean"==typeof e)return(n,r)=>{applyMetadataValue(n,r,"skip",e)};applyMetadataValue(e,n,"skip",!0)},n.commitChanges=function commitChanges(e,n){if("boolean"==typeof e)return(n,r)=>{applyMetadataValue(n,r,"commitChanges",e)};applyMetadataValue(e,n,"commitChanges",!0)},n.headerDescription=function headerDescription(e,n){if("boolean"==typeof e)return(n,r)=>{applyMetadataValue(n,r,"headerDescription",e)};applyMetadataValue(e,n,"headerDescription",!0)},n.autoRefresh=function autoRefresh(e,n){if("boolean"==typeof e)return(n,r)=>{applyMetadataValue(n,r,"autoRefresh",e)};applyMetadataValue(e,n,"autoRefresh",!0)},n.linkCommand=function linkCommand(e){return(n,r)=>{applyMetadataValue(n,r,"linkCommand",e)}},n.mappedToViewField=function mappedToViewField(e,n){return(r,o)=>{applyMetadataValue(r,o,"mappedToViewField",{viewName:e,fieldName:n})}},n.suppressLabel=function suppressLabel(e,n){if("boolean"==typeof e)return(n,r)=>{applyMetadataValue(n,r,"suppressLabel",e)};applyMetadataValue(e,n,"suppressLabel",!0)},n.readOnly=function readOnly(e,n){if("boolean"==typeof e)return(n,r)=>{applyMetadataValue(n,r,"readOnly",e)};applyMetadataValue(e,n,"readOnly",!0)},n.disabled=function disabled(e,n){if("boolean"==typeof e)return(n,r)=>{applyMetadataValue(n,r,"disabled",!e)};applyMetadataValue(e,n,"enabled",!1)},n.unbound=function unbound(e,n){if("boolean"==typeof e)return(n,r)=>{applyMetadataValue(n,r,"unbound",e)};applyMetadataValue(e,n,"unbound",!0)},n.text=function text(e){return(n,r)=>{applyMetadataValue(n,r,"displayName",e)}},n.selectorSettings=function selectorSettings(e,n){return(r,o)=>{e&&applyMetadataValue(r,o,"valueField",e),n&&applyMetadataValue(r,o,"descriptionName",n)}},n.multiLine=function multiLine(e,n){if("boolean"==typeof e)return(n,r)=>{applyMetadataValue(n,r,"multiLine",e)};applyMetadataValue(e,n,"multiLine",!0)},n.calculation=function calculation(e){return(n,r)=>{applyMetadataValue(n,r,"calculation",e)}},n.fieldInfo=function fieldInfo(e){return(n,r)=>{for(const o of Object.getOwnPropertyNames(e))applyMetadataValue(n,r,o,e[o])}},n.type=function type(e){return(n,r)=>{applyMetadataValue(n,r,"type",e)}},n.register=function register(e={}){return function(e,n,r){return e}},n.registerViewModelMixin=function registerViewModelMixin(e={}){return function(e,n,r){return e}},n.featureInstalled=function featureInstalled(e){return n=>{console.log(`featureInstalled: ${e}`)}},n.graphInfo=function graphInfo(e){return n=>(r.PXReflectionMetadata.setMetadata(n,"graphInfo",e),(0,o.applyScreenMixin)(n),class extends n{runMixin(){(0,o.createScreenObjectWithMixins)(this,n)}})},n.viewInfo=function viewInfo(e){return function(n,r){applyMetadataValue(n,r,"viewInfo",e)}},n.placeBeforeView=function placeBeforeView(e){return function(n){r.PXReflectionMetadata.setMetadata(n,"placeBeforeView",e)}},n.placeAfterView=function placeAfterView(e){return function(n){r.PXReflectionMetadata.setMetadata(n,"placeAfterView",e)}},n.placeBeforeProperty=function placeBeforeProperty(e){return(n,r)=>{applyMetadataValue(n,r,"placeBeforeProperty",e)}},n.placeAfterProperty=function placeAfterProperty(e){return(n,r)=>{applyMetadataValue(n,r,"placeAfterProperty",e)}},n.columnConfig=function columnConfig(e){return(n,r)=>{applyMetadataValue(n,r,"columnConfig",e)}},n.gridConfig=function gridConfig(e){return(n,o)=>{o?applyMetadataValue(n,o,"gridConfig",e):r.PXReflectionMetadata.setMetadata(n,"gridConfig",e)}},n.treeConfig=function treeConfig(e){return(n,o)=>{o?applyMetadataValue(n,o,"treeConfig",e):r.PXReflectionMetadata.setMetadata(n,"treeConfig",e)}}}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/redirect-helper.ts":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,exports,__webpack_require__("../node_modules/tslib/tslib.es6.js"),__webpack_require__("controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component"),__webpack_require__("./services/cookie-utils.ts"),__webpack_require__("controls/dialog/alert/qp-alert"),__webpack_require__("./services/session-url-serializer.ts"),__webpack_require__("./descriptors/session-url-router.ts"),__webpack_require__("./descriptors/api-types.ts"),__webpack_require__("./descriptors/event-manager.ts"),__webpack_require__("aurelia-framework"),__webpack_require__("./descriptors/types.ts"),__webpack_require__("./dependency-property-injection/index.ts"),__webpack_require__("./services/alert-service.ts")],__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,tslib_1,qp_inline_screen_dialog_component_1,cookie_utils_1,qp_alert_1,session_url_serializer_1,session_url_router_1,api_types_1,event_manager_1,aurelia_framework_1,types_1,dependency_property_injection_1,alert_service_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RedirectHelper=void 0;let RedirectHelper=class RedirectHelper{constructor(e,n,r,o,i){this.basePath=e,this.urlRouter=n,this.urlSerializer=r,this.screenEventManager=o,this.alertService=i,this.AgentName="",this.Version=0,this.IsWinPhone=!1,this.IsIPad=!1,this.IsIPhone=!1,this.IsAndroid=!1,this.IsTablet=!1,this.IsTabletWin=!1,this.IsTabletOrWin=!1,this.IsDom=!1,this.IsWin=!1,this.IsWin98=!1,this.IsNetscape=!1,this.IsFirefox=!1,this.IsFirefox20=!1,this.IsFirefox40=!1,this.IsFirefoxFrom40=!1,this.IsFirefoxFrom65=!1,this.IsOpera=!1,this.IsIE=!1,this.IsIE10=!1,this.IsIE11=!1,this.IsIE910=!1,this.IsIE78=!1,this.IsAnyIE=!1,this.IsSafari=!1,this.IsMacSafari=!1,this.IsEdge=!1,this.IsIEorEdge=!1,this.IsWebKit=!1,this.popStateH=null,this.popupUnloadH=null,this.frameLoadH=null,this.layerStatePushed=!1,this.layerFrame=null,this.layerContainer=null,this.LAYER_CONTAINER_ID="_layer_cont",this.LAYER_FRAME_ID="_layer_frame",this.MAIN_FRAME_ID="main",this.initialize()}doRedirects(e){const n=e.redirects.sort((e=>e.settings.mode===api_types_1.WindowMode.Same||e.settings.mode===api_types_1.WindowMode.InlineWindow?1:-1));return e.redirectResults=n.map((n=>this.doRedirect(n,e.isDirty,e.command))),e.redirectResults}goTo(e,n,r,o,i,a){let l=n.mode===api_types_1.WindowMode.New;const c=r&&!l,d=n.suppressFrameset,u=n.preserveSession;let p=!1;const b=this.getOpenerWindowOptions();(null==b?void 0:b.framesetOpen)&&"_inline"===i&&(p=!0,i=void 0);let g=l&&!d||p;const m=!p&&(n.mode===api_types_1.WindowMode.NewWindow||n.mode===api_types_1.WindowMode.InlineWindow||n.mode===api_types_1.WindowMode.Layer);let f=!1;if(r||l||(m?"_inline"!==i&&(f=!0):f=!0),p&&d&&(g=!1,l=!0),f||c||g||l||m)return this.openUrl(e,l?"_blank":i,g,m,void 0,o,a,u)}reload(){const e=this.getTopWin();if(!e)throw new Error("Not found window that marked as top");null==e||e.location.reload()}openUrl(e,n,r,o,i,a=!1,l=void 0,c=!1){var d,u;if(null==e||0===e.length)throw new Error("TargetUrl can not be null or empty string");const p=this.getTopWin();if(!p)throw new Error("Not found window that marked as top");if(cookie_utils_1.CookieUtils.setSessionPrevWinCookie(null===(d=this.urlSerializer.parseUrl(document.location.href))||void 0===d?void 0:d.sessionNumber,null===(u=this.urlSerializer.parseUrl(e))||void 0===u?void 0:u.sessionNumber),r){if(a)return window.open(e);if(null!=this.searchFrame(p,this.MAIN_FRAME_ID))return this.openFrameset(e,a,n,l);o=!0}if(o)return window.Office&&window.Office.context?(window.Office.context.ui.displayDialogAsync(e),null):this.openWindow(e,a,n,i,l);let b=null,g=null;if(n){if(n&&!n.startsWith("_")&&(b=this.getElemByID(n),null==b&&(g=this.searchFrame(p,n))),null!=b||null!=g){const n=this.urlRouter.resolveSameWindowUrl(e,p.location,!1,a,l);e=this.urlRouter.resolveUrlHideScript(n,p)}else e="_blank"===n&&e.indexOf("preserveSession=true")<0?this.urlRouter.resolveBlankWindowUrl(e,p.location,a,c,l):this.urlRouter.resolveSameWindowUrl(e,p.location,!1,a,l);if("_inline"===n)return e.indexOf(".aspx")>-1&&(e+=(e.indexOf("?")>0?"&":"?")+"PopupPanel=Inline"),this.isPopupLayerWindow()&&(e+=(e.indexOf("?")>0?"&":"?")+"InLayer=On"),void(window.location.href=e);if(null!=g)g.location.href=e;else{window.open(e,n).lastCompany=p.company}return}const m=null!=l?l:{};throw m.isRedirect="true",e=this.urlRouter.resolveSameWindowUrl(e,p.location,!1,a,m),window!==p&&(e=this.urlRouter.resolveUrlHideScript(e,p)),this.screenEventManager.publish(new event_manager_1.LoadingStartedEvent),window.location.href=e,"redirected"}openWindow(e,n,r,o,i){const a="_layer"===r,l="_inline"===r;if(!n){let n=l?"Inline":"On";a&&(n="Layer"),n&&(e+=`${e.indexOf("?")>0?"&":"?"}PopupPanel=${n}`)}return a?this.openLayerWindow(e,o):this.openNewWindow(e,r,o,l,n,i)}startLC(){this.screenEventManager.publish(new event_manager_1.LoadingStartedEvent)}stopLC(){this.screenEventManager.publish(new event_manager_1.LoadingFinishedEvent)}export(e){let n=document.getElementById("px_exportFrame");null==n&&(n=document.createElement("iframe"),n.style.display="none",n.id="px_exportFrame",document.body.appendChild(n)),n.src=e}isEmbeddedWindow(){const e=window;let n=!1;try{e.frameElement}catch(e){n=!0}return n}getFrameElement(e){let n=null;const r=e||window;try{n=r.frameElement}catch(e){}return n}isPopupWindow(e){return e.indexOf("PopupPanel")>0&&e.indexOf("PopupPanel=Inline")<0}isPopupLayerWindow(e){return void 0===e&&(e=document.location.href),e.indexOf("PopupPanel=Layer")>0}closePopup(e,n){var r;null===(r=this.screenEventManager)||void 0===r||r.publish(new event_manager_1.ClosePopupEvent)}hideInlineLayerFrame(e=!1){const n=this.getInlineLayerFrameContainer();n&&(e||null==n.getAttribute("collapsible")?(n.style.display="none",this.excludeCss(n.parentNode,["layer-visible"],!0)):this.appendCss(n,["min"],!0))}excludeCss(e,n,r){let o="string"==typeof e?e.split(" "):e.className.split(" ");if(o.length)for(let e=0;e<o.length;e++)-1!==n.indexOf(o[e])&&o.splice(e--,1);return o=o.length?o.join(" ").trim():"",r&&(e.className=o),o}appendCss(e,n,r){let o="string"==typeof e?e.split(" "):e.className.split(" ");if(o.length)for(let e=0;e<n.length;e++)n[e]&&-1===o.indexOf(n[e])&&o.push(n[e]);return o=o.length?o.join(" ").trim():"",r&&(e.className=o),o}toggleCss(e,n,r,o){return e?this.appendCss(n,r,o):this.excludeCss(n,r,o)}hasCss(e,n){const r="string"==typeof e?e.split(" "):e.className.split(" ");if(r.length)for(let e=0;e<n.length;e++)if(-1!==r.indexOf(n[e]))return!0;return!1}getTopWin(){let e,n;try{e=window.top,n=null==e?void 0:e.location.href,null==n&&(e=null)}catch(n){e=null}return e??window}searchFrame(e,n){if(e.frames[n])return e.frames[n];for(let r=0;r<e.frames.length;r++){const o=null;try{arguments.callee(e.frames[r],n)}catch(e){}if(null!=o)return o}return null}popupAllowFocus(){return"https:"===location.protocol||this.IsIE}getInlineLayerFrameContainer(){var e;const n=this.getFrameElement();return n?null===(e=n.contentDocument)||void 0===e?void 0:e.getElementById(this.LAYER_CONTAINER_ID):this.getElemByID(this.LAYER_CONTAINER_ID)}isLayerShadowVisible(){const e=this._getLayerShadow();return!!e&&"none"!==e.style.display}setLayerShadowVisible(e){const n=this._getLayerShadow();n&&(n.style.display=e?"":"none")}addEventHandler(obj,eventName,callbackFunction,flag){const w=window;null==w.allEvents&&(w.allEvents={});const key=`${eventName}_${obj.tagName}#${obj.id}.${obj.className}`;w.allEvents.hasOwnProperty(key)||(w.allEvents[key]=[]),w.allEvents[key].push({o:obj,n:eventName,c:callbackFunction,f:flag}),obj.addEventListener?obj.addEventListener(eventName,callbackFunction,flag):obj.attachEvent?obj.attachEvent(`on${eventName}`,callbackFunction):eval(`obj.on${eventName}=${callbackFunction}`)}removeEventHandler(obj,eventName,callbackFunction,flag){const w=window;if(w&&w.allEvents)try{if(null!=w.allEvents){const e=`${eventName}_${obj.tagName}#${obj.id}.${obj.className}`;if(w.allEvents.hasOwnProperty(e)){const n=w.allEvents[e];let r=!1;for(let e=0;e<n.length;e++){const o=n[e];if(o&&o.o===obj&&o.n===eventName&&o.c===callbackFunction&&o.f===flag){r=!0,r&&n.splice(e,1);break}}0===n.length&&delete w.allEvents[e]}}}catch(e){}obj.removeEventListener?obj.removeEventListener(eventName,callbackFunction,flag):obj.detachEvent?obj.detachEvent(`on${eventName}`,callbackFunction):eval(`obj.on${eventName}= null;`)}eventElem(e,n){return e.target?e.target:e.srcElement?e.srcElement:n}getElemByID(e){return document.getElementById(e)}createWinFeatures(e,n,r,o,i){const a=new Object;return a.height=e,a.width=n,a.top=r,a.left=o,a.toString=function(){return this.state||(this.state="resizable,scrollbars",i&&(this.state+=",location=yes,toolbar=yes"),this.height&&(this.state+=`,height=${this.height}`),this.width&&(this.state+=`,width=${this.width}`),this.left&&(this.state+=`,left=${this.left}`),this.top&&(this.state+=`,top=${this.top}`)),this.state},a}_isInPagesFolder(e){const n=e.toLowerCase();return 0===n.indexOf("pages/")||n.indexOf("/pages/")>=0}isExternalWin(e){let n=!1;try{n=null==e.document}catch(e){n=!0}return n}getPageNameFromUrl(e){const n=e.lastIndexOf("/")+1,r=e.indexOf(".",n);return-1===r?this.MAIN_FRAME_ID:e.substring(n,r)}getPageName(){const e=window.location.href;return this.getPageNameFromUrl(e)}openFrameset(e,n,r,o){if(null==e||0===e.length)return;r&&r.startsWith("_")&&(r=null);const i=this.urlRouter.getOpenFramesetRouteParams(e,this.getTopWin().location,n,o);cookie_utils_1.CookieUtils.setCookie("urlPage",i.newUrl,"/");const a=window.open(unescape(i.newLocationHref));if(a){const e=this.getFrameElement(),n={urlContent:i.newUrl,targetFrame:r||(e?e.name:null),framesetOpen:!0,needNewSession:!0};a.openOptions=n,a.isRedirect=!0,a.lastCompany=this.getTopWin().company,a.urlPage=n.urlContent,a.urlFrame=n.targetFrame,a.framesetOpen=n.framesetOpen}}getLocalStorageItem(e,n){if(void 0!==window.localStorage){const r=window.localStorage.getItem(e);return void 0!==r?r:n}return n}getAbsoluteUrl(e,n){return n||(e=(null==e?void 0:e.startsWith("~"))?e.substring(1):this.basePath.replace(/\/$/,"")+(e||"")),e||""}initialize(){this.AgentName=window.navigator.userAgent.toLowerCase(),this.Version=parseInt(window.navigator.appVersion);const e=this.AgentName;this.IsWinPhone=e.indexOf("windows phone")>=0,this.IsIPad=/macintosh.*applewebkit.*safari/gi.test(e)&&window.navigator.maxTouchPoints>1||e.indexOf("ipad")>=0,this.IsIPhone=e.indexOf("iphone")>=0,this.IsAndroid=e.indexOf("android")>=0,this.IsTablet=this.IsIPad||this.IsIPhone||this.IsAndroid||this.IsWinPhone||e.indexOf("tablet")>=0,this.IsTabletOrWin=this.IsTablet,this.IsDom="function"==typeof document.getElementById,this.IsWin=e.indexOf("windows")>=0,this.IsWin98=e.indexOf("win98")>=0||e.indexOf("windows 98")>=0,this.IsTablet&&this.IsWin&&!this.IsWinPhone&&(this.IsTablet=!1,this.IsTabletWin=this.IsTabletOrWin=!0);const n=e.indexOf("firefox");let r=0;n>=0&&(r=parseFloat(e.substr(n+8,3))),this.IsNetscape=this.IsDom&&"Netscape"===navigator.appName,this.IsFirefox=n>=0,this.IsFirefox20=this.IsFirefox&&2===r,this.IsFirefox40=this.IsFirefox&&r>=4&&r<5,this.IsFirefoxFrom40=this.IsFirefox&&r>=4,this.IsFirefoxFrom65=this.IsFirefox&&r>=65,this.IsOpera=e.indexOf("opera")>=0,this.IsIE=e.indexOf("msie")>=0&&!this.IsOpera,this.IsIE10=this.IsIE&&e.indexOf("10.0")>=0,e.indexOf("rv:11.0")>0&&(this.IsIE11=!0),this.IsIE910=this.IsIE&&(e.indexOf("9.0")>=0||this.IsIE10),this.IsIE78=this.IsIE&&!this.IsIE910&&!this.IsIE11,this.IsAnyIE=this.IsIE||this.IsIE11,this.IsSafari=e.indexOf("safari")>=0,this.IsMacSafari=this.IsSafari&&e.indexOf("chrome")<0,this.IsEdge=e.indexOf("edge")>=0,this.IsIEorEdge=this.IsEdge||this.IsAnyIE,this.IsWebKit=e.indexOf("webkit")>=0&&!this.IsEdge,Function.createDelegate=function(e,n){return function(){return n.apply(e,arguments)}}}doRedirect(e,n,r){var o,i,a,l;const c=e.settings,d=this.getAbsoluteUrl(e.url,e.isUrlExternal);if(!c.type)throw new Error("Parameter type is mandatory in redirect settings");switch(c.type){case api_types_1.RedirectType.GoTo:case api_types_1.RedirectType.Map:return this.goTo(d,c,n,e.isUrlExternal,e.targetFrame,e.queryParams);case api_types_1.RedirectType.Popup:null===(o=this.screenEventManager)||void 0===o||o.publish(new event_manager_1.OpenPopupEvent({templateViewModel:qp_inline_screen_dialog_component_1.QpInlineScreenDialogComponent},r,c.formTitle,c.repaintControls,`pnlInlineScreen${null===(i=c.inlineScreenConfig)||void 0===i?void 0:i.screenId}`,c.inlineScreenConfig));break;case api_types_1.RedirectType.ClosePopup:this.closePopup(!1);break;case api_types_1.RedirectType.OpenMessageBox:{const n={title:c.formTitle,message:e.message,buttons:c.buttons};this.alertService.openAlert(n).then((e=>{e!==qp_alert_1.QpAlertResults.Confirm&&e!==qp_alert_1.QpAlertResults.Yes&&e!==qp_alert_1.QpAlertResults.No||this.screenEventManager.publish(new event_manager_1.ExecuteCommandEvent(r,new types_1.ScreenUpdateParams({dialogCallback:{viewName:c.viewName,dialogResult:e,dialogKey:c.dialogAnswerKey}})))}),(()=>{}));break}case api_types_1.RedirectType.OpenDialog:null===(a=this.screenEventManager)||void 0===a||a.publish(new event_manager_1.OpenPopupEvent(c.viewName,r,e.message,c.repaintControls));break;case api_types_1.RedirectType.WithReport:case api_types_1.RedirectType.OpenReport:case api_types_1.RedirectType.WithUrl:case api_types_1.RedirectType.WithinContext:case api_types_1.RedirectType.OpenPayment:return this.goTo(d,c,n,e.isUrlExternal,e.targetFrame,e.queryParams);case api_types_1.RedirectType.ReloadPage:null===(l=this.screenEventManager)||void 0===l||l.publish(new event_manager_1.ReloadPageEvent);break;default:{const n=(null==d?void 0:d.indexOf("Mobile/"))>=0;(c.type===api_types_1.RedirectType.Export||(null==d?void 0:d.indexOf(".ashx"))>0&&!n&&!e.targetFrame||(null==d?void 0:d.indexOf("Export.aspx"))>0&&!e.targetFrame)&&this.export(d);break}}}getOpenerWindowOptions(){return window.openOptions}openLayerWindow(e,n){var r,o;let i,a;const l=this.getFrameElement();let c=this.layerFrame,d=this.layerContainer,u=!0;if(null==this.layerContainer&&(d=this.getInlineLayerFrameContainer(),null==d&&(d=document.createElement("div"),d.id=this.LAYER_CONTAINER_ID,d.className="layer-cont",i=document.createElement("div"),i.className="frame-shadow spinner",d.appendChild(i)),d.style.display="none",this.layerContainer=d,l&&l.setAttribute("inline_frame",d.id)),null==this.layerFrame){const e=this.LAYER_FRAME_ID;c=l?null===(r=l.contentDocument)||void 0===r?void 0:r.getElementById(e):this.getElemByID(e),null==c&&(c=document.createElement("iframe"),c.id=e,c.setAttribute("name",e),c.setAttribute("frameborder","0"),c.className="layer",d.appendChild(c)),this.layerFrame=c}null==d.parentNode&&(l&&l.parentNode?null===(o=l.parentNode)||void 0===o||o.insertBefore(d,l.nextSibling):window.theForm.appendChild(d)),a=c.contentWindow;const p=a.location;let b=!1;try{b=p.href&&p.href.indexOf(e)>=0&&a.px_cm&&a.px_cm.requiredReloadPage(!0)}catch(e){}b?(a.px_cm.clearOnLoadTasks(),a.px_cm.reloadPage(),u=!1):p.replace(this.urlRouter.resolveUrlHideScript(e,this.getTopWin()));let g=this.getTopWin();if(!this.layerStatePushed&&g)try{g.history.pushState({},window.document.title,g.location.href),this.layerStatePushed=!0}catch(e){g=void 0}return a=c.contentWindow,null==a?null:(d.style.display="",u&&(i=this._getLayerShadow(),i.style.display=""),l&&this.appendCss(l.parentNode,["layer-visible"],!0),this.isExternalWin(a)||(null==this.popStateH&&(this.popStateH=Function.createDelegate(this,this._handleWidnowPopstate)),a.popupCommand=n,a.suppressChanges=!0,a.__suppressUrlUpdate=!0),a)}_getLayerShadow(){const e=this.layerContainer?this.layerContainer:this.getInlineLayerFrameContainer();return e?e.querySelector("div.spinner"):null}_handleWidnowPopstate(){this.hideInlineLayerFrame(),this.layerStatePushed=!1}openNewWindow(e,n,r,o,i,a){let l=(this.IsFirefox?window.screenX:window.screenLeft)+50,c=(this.IsFirefox?window.screenY:window.screenTop)+50,d=null,u=700,p=1e3;if(c>=600&&(c=50),l>=1e3&&(l=50),this.isPopupWindow(e)&&!this.getFrameElement()){const n=this.getPageNameFromUrl(e);p=Math.max(parseInt(this.getLocalStorageItem(`${n}_iwidth`,p),10),300),u=Math.max(parseInt(this.getLocalStorageItem(`${n}_iheight`,u),10),200)}const b=!this._isInPagesFolder(e),g=this.createWinFeatures(u,p,c,l,b),m=this;if("_inline"===n&&(o=!0),o)return e=this.urlRouter.resolveUrlPageTitle(e),document.location.href=this.urlRouter.resolveUrlHideScript(e,this.getTopWin()),null;if(e=this.urlRouter.resolveSameWindowUrl(e,this.getTopWin().location,!0,i,a),d=window.open(e,n,g.toString()),null==d)return null;if(d.isRedirect=!0,this.isExternalWin(d))return{window:d};try{d.focus()}catch(e){}null==this.popupUnloadH&&(this.popupUnloadH=Function.createDelegate(this,this._handlePopupUnload)),(this.IsAnyIE||this.IsEdge)&&this.addEventHandler(d,"unload",this.popupUnloadH),d.popupCommand=r,d.allowAutoHide=!0;const f=new Promise((e=>{d.resolveClose=e}));return this.addEventHandler(d,"load",(function(){m.removeEventHandler(d,"unload",m.popupUnloadH),m.addEventHandler(d,"unload",m.popupUnloadH),d.popupCommand=r,d.allowAutoHide=!0})),{window:d,close$:f}}_handlePopupUnload(e){var n,r;let o=this.eventElem(e);if(null===(n=e.currentTarget)||void 0===n?void 0:n.resolveClose){const n=(null===(r=o.defaultView)||void 0===r?void 0:r.savePerformed)?o.defaultView.keyFields:void 0;e.currentTarget.resolveClose(n)}o&&o.defaultView&&(o=o.defaultView),o&&this.removeEventHandler(o,"unload",this.popupUnloadH)}};RedirectHelper=tslib_1.__decorate([tslib_1.__param(0,(0,dependency_property_injection_1.optional)(types_1.BASE_PATH)),tslib_1.__param(1,(0,aurelia_framework_1.inject)(session_url_router_1.SessionUrlRouter)),tslib_1.__param(2,(0,aurelia_framework_1.inject)(session_url_serializer_1.SessionUrlSerializer)),tslib_1.__param(3,(0,aurelia_framework_1.inject)(event_manager_1.QpEventManager)),tslib_1.__param(4,(0,aurelia_framework_1.inject)(alert_service_1.AlertService)),tslib_1.__metadata("design:paramtypes",[String,Object,session_url_serializer_1.SessionUrlSerializer,event_manager_1.QpEventManager,alert_service_1.AlertService])],RedirectHelper),exports.RedirectHelper=RedirectHelper}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"./descriptors/reflection-metadata.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PXReflectionMetadata=void 0;n.PXReflectionMetadata=class PXReflectionMetadata{static setMetadata(e,n,r,o){e&&(e.__pxmetadata__||(e.__pxmetadata__={}),void 0!==o&&n&&"string"==typeof r?(e.__pxmetadata__[n]||(e.__pxmetadata__[n]={}),e.__pxmetadata__[n][r]=o):n&&(e.__pxmetadata__[n]=r))}static getMetadataKeys(e,n){if(e&&e.__pxmetadata__){if(n){if(!e.__pxmetadata__[n])return;return Object.getOwnPropertyNames(e.__pxmetadata__[n])}return Object.getOwnPropertyNames(e.__pxmetadata__)}}static getMetadata(e,n,r){if(e&&e.__pxmetadata__&&e.__pxmetadata__[n])return r?e.__pxmetadata__[n][r]:e.__pxmetadata__[n]}static copyMetadata(e,n){e&&n&&e.__pxmetadata__&&(n.__pxmetadata__||(n.__pxmetadata__={}),Object.assign(n.__pxmetadata__,e.__pxmetadata__))}}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./descriptors/session-url-router.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./services/session-url-serializer.ts"),r("./descriptors/api-types.ts"),r("./services/cookie-utils.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SessionUrlRouter=void 0;let c=class SessionUrlRouter{constructor(e){this.urlSerializer=e}resolvePopupPanelMode(e){const n=this.urlSerializer.parseQueryParams(e.search);if(n.PopupPanel)return Object.values(a.PopupPanelMode).includes(n.PopupPanel)?n.PopupPanel:void 0}resolveSameWindowUrl(e,n,r,o,i){if(o)return e;const a=this.urlSerializer.parseLocation(n);if(a.sessionNumber||r){let n;n=r?a.sessionNumber?1e4+a.sessionNumber:1e4:a.sessionNumber,n>0&&(e=this.getSessionUrlByParams(this.urlSerializer.parseUrl(e,a.sitename),a,n,i))}else i&&(e=this.getSessionUrlByParams(this.urlSerializer.parseUrl(e,a.sitename),a,0,i));return e}resolveBlankWindowUrl(e,n,r,o,i){const a=decodeURI(e);if(r)return a;const l=this.urlSerializer.parseLocation(n),c=!0!==o?(this.getSessionNumberFromCookie()||l.sessionNumber)+1:l.sessionNumber;return this.getSessionUrlByParams(this.urlSerializer.parseUrl(e,l.sitename),l,c,i)}resolveUrlHideScript(e,n,r){if(e.indexOf("CstMode")>0||""===e||r)return e;if(n.hideScript&&e.toLowerCase().indexOf("hidescript")<0){const n=e.split("#");n[0]+=(n[0].indexOf("?")>0?"&":"?")+"HideScript=On",e=n.join("#")}return e}resolveUrlPageTitle(e){return e=this.copyUrlParameter(e,"HidePageTitle"),this.copyUrlParameter(e,"hidePageTitle")}getOpenFramesetRouteParams(e,n,r,o){let i=!1;n.href;let a=0;const l={newLocationHref:"",newUrl:e},c=this.urlSerializer.parseLocation(n),d=this.urlSerializer.parseUrl(e,c.sitename);-1===n.href.indexOf("/(S(")&&(a=c.sessionNumber?c.sessionNumber:this.getSessionNumberFromCookie()||0,i=!0);let u=e;if(!r)if(e.startsWith("/"))u=this.getSessionUrlByParams(d,c,a,o);else if(!e.startsWith("about:")){const n=i?this.getSessionUrlByParams(d,c,a,o):window.location.href;u=n.substring(0,n.lastIndexOf("/")+1)+e}return c.queryParams={},l.newUrl=u,l.newLocationHref=this.urlSerializer.serializeUrl(c),l}getSessionUrlByParams(e,n,r,o){if(o&&(e.queryParams=Object.assign(Object.assign({},e.queryParams),o)),null==e?void 0:e.sessionNumber)return e.sessionNumber=r,this.urlSerializer.serializeUrl(e);if(n.isRoot&&"https"===e.protocol){const i=this.urlSerializer.getDefaultUrlParams();return i.protocol=n.protocol,i.hostname=n.hostname,i.sessionNumber=r,i.sitename=e.sitename,i.pathname=e.pathname,i.queryParams=Object.assign(Object.assign({},e.queryParams),o||{}),this.urlSerializer.serializeUrl(i)}return e.sessionNumber=r,this.urlSerializer.serializeUrl(e)}getSessionNumberFromCookie(){return(l.CookieUtils.getLastWinCookie()||0)+1}copyUrlParameter(e,n){let r=unescape(document.location.href);const o=`${n}=`;if(r.indexOf(n)>0&&e.indexOf(o)<0){r=r.substring(r.indexOf(o)+o.length);const n=r.indexOf("&"),i=n>-1?r.substring(0,n):r;return e+(e.indexOf("?")>0?"&":"?")+o+i}return e}};c=r.__decorate([(0,o.autoinject)(),r.__metadata("design:paramtypes",[i.SessionUrlSerializer])],c),n.SessionUrlRouter=c}.apply(n,o),void 0===i||(e.exports=i)},"./descriptors/types.ts":function(e,n,r){var o;o=function(e,n){"use strict";var r,o,i,a;Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_HTTP_CONFIGURATION=n.BASE_PATH=n.ApiCientEvents=n.ViewMode=n.ScreenUpdateParams=n.PXPageLoadBehavior=n.PXActionState=n.PXSpecialButtonType=n.PXConfirmationType=n.ActionConnotation=n.PXTranslation=n.ScrollMode=n.getDialogResultCode=n.WebDialogResult=n.NetType=n.CurrencyViewMode=void 0,function(e){e.Current="current",e.Base="base"}(n.CurrencyViewMode||(n.CurrencyViewMode={})),function(e){e[e.Empty=0]="Empty",e[e.Object=1]="Object",e[e.DBNull=2]="DBNull",e[e.Boolean=3]="Boolean",e[e.Char=4]="Char",e[e.SByte=5]="SByte",e[e.Byte=6]="Byte",e[e.Int16=7]="Int16",e[e.UInt16=8]="UInt16",e[e.Int32=9]="Int32",e[e.UInt32=10]="UInt32",e[e.Int64=11]="Int64",e[e.UInt64=12]="UInt64",e[e.Single=13]="Single",e[e.Double=14]="Double",e[e.Decimal=15]="Decimal",e[e.DateTime=16]="DateTime",e[e.String=18]="String"}(n.NetType||(n.NetType={})),function(e){e[e.None=0]="None",e[e.OK=1]="OK",e[e.Cancel=2]="Cancel",e[e.Abort=3]="Abort",e[e.Retry=4]="Retry",e[e.Ignore=5]="Ignore",e[e.Yes=6]="Yes",e[e.No=7]="No"}(r=n.WebDialogResult||(n.WebDialogResult={})),n.getDialogResultCode=function getDialogResultCode(e){if(void 0===e||"number"==typeof e)return e;const n=parseInt(e);return isNaN(n)?r[e]:n},function(e){e[e.Both=0]="Both",e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal"}(n.ScrollMode||(n.ScrollMode={}));n.PXTranslation=class PXTranslation{},function(e){e[e.None=0]="None",e[e.Primary=1]="Primary",e[e.Secondary=2]="Secondary",e[e.Success=3]="Success",e[e.Danger=4]="Danger",e[e.Warning=5]="Warning",e[e.Info=6]="Info",e[e.Light=7]="Light",e[e.Dark=8]="Dark"}(o=n.ActionConnotation||(n.ActionConnotation={})),function(e){e[e.Always=0]="Always",e[e.IfDirty=1]="IfDirty",e[e.Unspecified=2]="Unspecified"}(i=n.PXConfirmationType||(n.PXConfirmationType={})),function(e){e[e.Default=0]="Default",e[e.Save=1]="Save",e[e.SaveNotClose=2]="SaveNotClose",e[e.Cancel=3]="Cancel",e[e.Refresh=4]="Refresh",e[e.CopyPaste=5]="CopyPaste",e[e.Report=6]="Report",e[e.First=7]="First",e[e.Next=8]="Next",e[e.Prev=9]="Prev",e[e.Last=10]="Last",e[e.Insert=11]="Insert",e[e.Delete=12]="Delete",e[e.Approve=13]="Approve",e[e.ApproveAll=14]="ApproveAll",e[e.Process=15]="Process",e[e.ProcessAll=16]="ProcessAll",e[e.Schedule=17]="Schedule",e[e.EditDetail=18]="EditDetail",e[e.ActionsFolder=19]="ActionsFolder",e[e.InquiriesFolder=20]="InquiriesFolder",e[e.ReportsFolder=21]="ReportsFolder",e[e.ToolbarFolder=22]="ToolbarFolder",e[e.SidePanelFolder=23]="SidePanelFolder",e[e.ApiCallback=24]="ApiCallback"}(a=n.PXSpecialButtonType||(n.PXSpecialButtonType={}));n.PXActionState=class PXActionState{constructor(e,n){this.screenViewModel=e,this.enabled=!0,this.visible=!0,this.commitChanges=!0,this.connotation=o.None,this.pressed=!1,this.closePopup=!1,this.confirmationMessage=void 0,this.confirmationType=i.IfDirty,this.popupVisible=!0,this.shortcutCtrl=!1,this.shortcutShift=!1,this.specialType=a.Default,this.onClosingPopup=a.Default,this.isLockedOnToolbar=!1,this.visibleOnProcessingResults=!1,this.automationDisabled=!1,this.automationHidden=!1,this.isMass=!1,this.menuAutoOpen=!1,this.clearAnswerAfterPress=!0,this.workflowHiddenOnMainToolbar=!1,this.bindToScreenName=void 0,this.commandName=n||""}press(){this.commandName&&this.screenViewModel.getScreenService().executeCommand(this.commandName,new ScreenUpdateParams({commitChanges:this.commitChanges}))}},function(e){e[e.InsertRecord=0]="InsertRecord",e[e.SearchSavedKeys=1]="SearchSavedKeys",e[e.PopulateSavedValues=2]="PopulateSavedValues",e[e.GoFirstRecord=3]="GoFirstRecord",e[e.GoLastRecord=4]="GoLastRecord"}(n.PXPageLoadBehavior||(n.PXPageLoadBehavior={}));class ScreenUpdateParams{constructor(e,n){this.commitChanges=!0,this.blockPage=!0,this.container=n,e&&(void 0!==e.commitChanges&&(this.commitChanges=e.commitChanges),void 0!==e.blockPage&&(this.blockPage=e.blockPage),this.views=e.views,this.dialogCallback=e.dialogCallback,this.requestOwner=e.requestOwner,this.openFrameset=e.openFrameset)}}n.ScreenUpdateParams=ScreenUpdateParams,function(e){e.View="view",e.Edit="edit"}(n.ViewMode||(n.ViewMode={}));class ApiCientEvents{}n.ApiCientEvents=ApiCientEvents,ApiCientEvents.ErrorRaisedEvent="ApiClientErrorRaisedEvent",ApiCientEvents.FetchRunningEvent="FetchRunning",n.BASE_PATH=Symbol("BASE_PATH"),n.DEFAULT_HTTP_CONFIGURATION=Symbol("DEFAULT_HTTP_CONFIGURATION")}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./descriptors/view-collection.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./descriptors/base-view-model.ts"),r("../node_modules/aurelia-binding/dist/native-modules/aurelia-binding.js"),r("./descriptors/reflection-metadata.ts"),r("./descriptors/customization-types.ts")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PXViewCollection=void 0;class RowSubscriber{constructor(){this.subscriptions=[],this.handlers={}}addSubscription(e,n){this.handlers[e]=n}subscribeToRow(e){if(this.dispose(),e){const n=o.Container.instance.get(a.BindingEngine);for(const r in this.handlers)e.hasOwnProperty(r)&&this.subscriptions.push(n.propertyObserver(e[r],"value").subscribe(this.handlers[r]))}}dispose(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}}class CssCustomizableCOllection extends i.CssCustomizable{getCustomCellCss(e,n,r){let o;const i=this.handlers[c.CustomEventType.GetCellCss];if(i){for(const a of i){if(!a)continue;const i=a.props;if((null==i?void 0:i.column)!==n)continue;const l=a.handler({viewModel:e,selector:r,screenModel:this.screenModel},a.children);l&&(o=o?`${o} ${l}`:l)}return o}}}class PXViewCollection{constructor(e,n){this.config=n,this.activeRowSubscriber=new RowSubscriber,this.activeRowChanged=!1,this.cssCustomization=new CssCustomizableCOllection,this.viewInUpdateProcess=!1,this.rowSelectedHandlers=[],this.initialized=!1,this.rowsChanged=0,e&&"function"==typeof e&&(this.typeConstructor=e,this.instance=this.createInstance())}isCollection(){return!0}get records(){if(this.rows){for(let e=0;e<this.rows.length;e++)this.getRowModel(e);return new Array(...this.rows)}return this.rows}get fieldNames(){return this.instance.fieldNames}fireRowsChanged(){this.rowsChanged++}getField(e){var n,r;return this.initialized&&null!==(r=null===(n=this.activeRow)||void 0===n?void 0:n.getField(e))&&void 0!==r?r:this.instance.getField(e)}setField(e,n){this.initialized||this.instance.setField(e,n)}setFields(e,n={}){!this.initialized&&e&&e.length>0&&(this.instance.setFields(e,n),this.initialized=!0)}subscribeValueChanged(e,n,r){return this.activeRowSubscriber.addSubscription(n,((n,o)=>{const a=e.getScreenService();(null==a?void 0:a.updatesSuspended())||(0,i.executeHandler)(e,r,{screenModel:e,viewModel:this,newValue:n,oldValue:o})})),this.activeRowSubscriber.subscribeToRow(this.activeRow),this.activeRowSubscriber}subscribeRowSelected(e,n){this.rowSelectedHandlers.push((()=>{(0,i.executeHandler)(e,n,{screenModel:e,viewModel:this})}))}createInstance(){return this.typeConstructor()}get instanceType(){return this.instance?Object.getPrototypeOf(this.instance).constructor:void 0}setActiveRow(e){return this.activeRow="number"==typeof e?this.getRowModel(e):void 0,this.activeRowSubscriber.subscribeToRow(this.activeRow),this.publishRowSelectedEvent(),this.activeRow}publishRowSelectedEvent(){var e;null===(e=this.rowSelectedHandlers)||void 0===e||e.forEach((e=>e(this)))}setRows(e,n){var r;this.rows=new Array(e.length),null===(r=this.sceenService)||void 0===r||r.clearObservers(this.name),this.fireRowsChanged(),this.rowsData=e,n&&(this.columns=n)}getRowModel(e){var n;if(this.rowsData&&!(e>=this.rowsData.length)){if(!this.rows[e]){const r=this.rows[e]=this.createRow(this.rowsData[e],this.columns);null===(n=this.sceenService)||void 0===n||n.attachValueObserversForView(this.columns.filter((e=>e.field)).map((e=>e.field)),r,this.name)}return this.rows[e]}}getMetadataKeys(e){return l.PXReflectionMetadata.getMetadataKeys(this.instance,e)}getMetadata(e,n){return l.PXReflectionMetadata.getMetadata(this.instance,e,n)}registerScreenService(e){this.sceenService=e}createRow(e,n){const r={};null==n||n.forEach((e=>r[e.field]=e.state));const o=this.createInstance();o.id=e.id;const i=Object.keys(e.cells).reduce(((n,r)=>(n.push({fieldName:r,fieldState:e.cells[r]}),n)),new Array);return o.setFields(i,r),o.setParentModel(this),o}}r.__decorate([(0,a.computedFrom)("rowsChanged","rows","rowsData"),r.__metadata("design:type",Array),r.__metadata("design:paramtypes",[])],PXViewCollection.prototype,"records",null),n.PXViewCollection=PXViewCollection}.apply(n,o),void 0===i||(e.exports=i)},"./features/diagram-common/context-menu.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ContextMenu=void 0;class ContextMenu{constructor(e){this.cxElementNode=document.getElementById(e),document.addEventListener("contextmenu",(e=>e.preventDefault()))}showContextMenu(e,n=ContextMenu.OPENMENU_COLUMN_CLASSNAME,r={x:-100,y:5}){if(!this.cxElementNode)return;switch(n.toLowerCase()){case"row":n=ContextMenu.OPENMENU_ROW_CLASSNAME;break;case"column":n=ContextMenu.OPENMENU_COLUMN_CLASSNAME}this.cxElementNode.classList.add(n);const o=e;this.cxElementNode.style.left=o.x+r.x+"px",this.cxElementNode.style.top=o.y+r.y+"px"}hideContextMenu(){this.cxElementNode&&(this.cxElementNode.classList.remove(ContextMenu.OPENMENU_COLUMN_CLASSNAME),this.cxElementNode.classList.remove(ContextMenu.OPENMENU_ROW_CLASSNAME))}}n.ContextMenu=ContextMenu,ContextMenu.OPENMENU_COLUMN_CLASSNAME="dia-show-menu-column",ContextMenu.OPENMENU_ROW_CLASSNAME="dia-show-menu-row"}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./features/diagram-common/diagram-properties.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DiagramProperties=void 0,n.DiagramProperties={LicenseKey:"73f947e0b26531b700ca0d2b113f69ed1bb37f3b9ed41ef35e5041f2ef0e6d463089ef7a01db8bc9dafa1aff1879c18dd4cd6c2a9f1b013ce130d3d840e484ade13377b6061841dbf4052691c9fb38b1ff7972f3ddb568a1df",link:"link",node:"node",opacitySetting:{normal:1,linkOpacity:{opacity:.24,selected:1,highlighted:1},nodeOpacity:{opacity:.5,selected:1,highlighted:1}},nodeColor:{startColor:"#cdf2cc",defaultColor:"#eeeeee"},strings:{waitAnswer:"waitAnswer",confirmTextRemoveState:"Are you sure you want to delete the state?",confirmTextRemoveTransition:"Are you sure you want to delete the transition?"},transactionNames:{highlight:"highlight"},callBackNames:{showTransition:"showTransition",showStates:"showStates",addTransition:"addTransition",new_predifined_node:"new predifined node",new_node:"new node",AddTransitionNode:"AddTransitionNode"},colors:{font:"white",selectedStroke:"black",item:{background:"rgba(0, 0, 0, 0.2)"},highlighted:"rgba(0,90,156,0.3)",main:[{node:"#CA57F2",link:"#A146C2"},{node:"#964B00",link:"#783C00"},{node:"#4FD0B1",link:"#3FA68E"},{node:"#EA0610",link:"#BB050D"},{node:"#F6C244",link:"#C6A554"},{node:"#53A451",link:"#428341"},{node:"#027ACC",link:"#0262A3"},{node:"#8E30ED",link:"#7226BE"},{node:"#5E5E5E",link:"#4B4B4B"},{node:"#0154AC",link:"#0154AC"},{node:"#265E60",link:"#265E60"},{node:"#8F7B87",link:"#8F7B87"},{node:"#0F9B9A",link:"#0F9B9A"},{node:"#F81685",link:"#F81685"},{node:"#178FCC",link:"#178FCC"},{node:"#2CD918",link:"#2CD918"},{node:"#6B902D",link:"#6B902D"},{node:"#C85DF1",link:"#C85DF1"},{node:"#0C0216",link:"#0C0216"},{node:"#8B921D",link:"#8B921D"},{node:"#A73383",link:"#A73383"},{node:"#61A26B",link:"#61A26B"},{node:"#5FEA94",link:"#5FEA94"},{node:"#4DF53C",link:"#4DF53C"},{node:"#FF6FC1",link:"#FF6FC1"},{node:"#8D8822",link:"#8D8822"},{node:"#483A66",link:"#483A66"},{node:"#4555CE",link:"#4555CE"},{node:"#1AC151",link:"#1AC151"},{node:"#EE8D58",link:"#EE8D58"},{node:"#B37434",link:"#B37434"},{node:"#DCB39F",link:"#DCB39F"},{node:"#773B14",link:"#773B14"},{node:"#70B7A2",link:"#70B7A2"},{node:"#F28440",link:"#F28440"},{node:"#035AE7",link:"#035AE7"},{node:"#E272AF",link:"#E272AF"},{node:"#1C59BB",link:"#1C59BB"},{node:"#E40661",link:"#E40661"},{node:"#18BEF2",link:"#18BEF2"},{node:"#47893C",link:"#47893C"},{node:"#13CB07",link:"#13CB07"},{node:"#1EDE58",link:"#1EDE58"},{node:"#F25EC0",link:"#F25EC0"},{node:"#1D34C1",link:"#1D34C1"},{node:"#498D76",link:"#498D76"},{node:"#D69618",link:"#D69618"},{node:"#0FECE1",link:"#0FECE1"},{node:"#175E37",link:"#175E37"}]}}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./features/diagram-common/event-args-message.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EventArgsMessage=n.EventNames=void 0,n.EventNames={updateDiagram:"updateDiagram",changedSelection:"changedSelection"};n.EventArgsMessage=class EventArgsMessage{}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./features/diagram-common/go-wrapper.ts":function(e,n,r){var o,i;o=[r,n,r("./utils/index.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GoWrapper=void 0;n.GoWrapper=class GoWrapper{constructor(){let e=window.__site_root||"";e.endsWith("/")||(e+="/");const n=`${e}Scripts/ca/go.js`;this.ready=(0,r.loadScriptAsync)(n).then((()=>{this.go=window.go,this.goMake=this.go.GraphObject.make}))}}}.apply(n,o),void 0===i||(e.exports=i)},"./features/diagram-common/workflow-diagram-actions.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.resizeParent=n.diagramUpdatingWatcher=void 0,n.diagramUpdatingWatcher=function diagramUpdatingWatcher(e,n){const r=px_alls[e.dataSourceID];switch(e.type){case"new node":n.addState&&r.executeCallback(n.addState);break;case"new predifined node":n.addPredefinedState&&r.executeCallback(n.addPredefinedState);break;case"edit node":case"showStates":n.showStates&&r.executeCallback(n.showStates);break;case"Linking":"AddTransitionNode"==e.actualValue.fromPort?n.addTransitionFromDiagram&&r.executeCallback(n.addTransitionFromDiagram):n.applyDiagramChanges&&r.executeCallback(n.applyDiagramChanges);break;case"Relinking":case"Delete":n.applyDiagramChanges&&r.executeCallback(n.applyDiagramChanges);break;case"showTransition":n.showTransition&&r.executeCallback(n.showTransition);break;case"addTransition":n.addTransition&&r.executeCallback(n.addTransition)}},n.resizeParent=function resizeParent(e,n){const r=document.getElementById(n);if(!r)return;let o,i=document.getElementById(e);if(i||(o=document.getElementsByClassName(e)),!(null==o?void 0:o.length))return;if(i=o[0],!i)return;let a=0,l=i.previousElementSibling;for(;l;)"none"!=l.style.display&&""==l.style.position&&(a+=l.clientHeight),l=l.previousElementSibling;for(l=i.nextElementSibling;l;)"none"!=l.style.display&&""==l.style.position&&(a+=l.clientHeight),l=l.nextElementSibling;let c=window.innerHeight-a-15;c<300&&(c=300),r.style.height=c+"px"}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"features/diagram-common/workflow-diagram-confirm":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WorkflowDiagramConfirm=void 0;class WorkflowDiagramConfirm{constructor(){this.data=void 0,this.value=void 0}ok(){this.value="ok"}cancel(){this.value="cancel"}}r.__decorate([o.bindable,r.__metadata("design:type",Object)],WorkflowDiagramConfirm.prototype,"data",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],WorkflowDiagramConfirm.prototype,"value",void 0),n.WorkflowDiagramConfirm=WorkflowDiagramConfirm}.apply(n,o),void 0===i||(e.exports=i)},"features/manufacturing-diagram/index":function(e,n,r){var o,i;o=[r,n,r("features/manufacturing-diagram/manufacturing-diagram")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configure=void 0,n.configure=function configure(e){e.globalResources([r.QPManufacturingDiagramCustomElement])}}.apply(n,o),void 0===i||(e.exports=i)},"features/manufacturing-diagram/manufacturing-diagram":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./features/manufacturing-diagram/services/wf-diagram-service.ts"),r("aurelia-framework"),r("aurelia-event-aggregator")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QPManufacturingDiagramCustomElement=void 0;let l=class QPManufacturingDiagramCustomElement{constructor(e,n){this.eventAggregator=e,this.manufacturingDiagramServiceFabric=n,this.isFrameReady=!1,prepareSchedullerCss()}valueChanged(e,n){this.isFrameReady&&this.showtTestData2()}showtTestData2(){this.manufacturingDiagramService.getData().then((e=>{var n;let r={act:"setData",data:e,options:this.options};null===(n=this.container.contentWindow)||void 0===n||n.postMessage(r,"*")}))}detached(){var e;null===(e=this.subscriber)||void 0===e||e.dispose()}attached(){return r.__awaiter(this,void 0,void 0,(function*(){this.manufacturingDiagramService=this.manufacturingDiagramServiceFabric.getWfDiagramService({json:void 0});let e=this.container;for(let n=0;n<3;n++)e=null==e?void 0:e.parentElement,e&&(e.style.display="flex",e.style.flex="1 1 100%");let n=this;window.onmessage=function(e){var r;if("ok"==e.data)n.isFrameReady=!0,n.showtTestData2();else if(e.data&&"updateOrderResource"==e.data.cmd)n.manufacturingDiagramService.updateOrderResource(e.data.newData);else if(e.data&&"updateOrderResourceSelected"==e.data.cmd)n.manufacturingDiagramService.updateOrderResourceSelected(e.data.newData);else if(e.data&&"updateColumns"==e.data.cmd)n.manufacturingDiagramService.updateColumns(e.data.newData);else if(e.data&&"fullscreen"==e.data.cmd){let e=document.getElementsByTagName("IFRAME");if(!e)return;let n=null;for(let o=0;o<e.length;o++)-1!=((null===(r=e[o])||void 0===r?void 0:r.getAttribute("src"))||"").indexOf("md")&&(n=e[o]);n&&("fixed"==n.style.position?n.style.position="unset":(n.style.position="fixed",n.style.top="0",n.style.left="0"))}else e.data&&"resetColumns"==e.data.cmd&&n.manufacturingDiagramService.resetColumns(e.data.newData).then((e=>{var r,o;let i={act:"resetColumns",data:e};null===(o=null===(r=n.container)||void 0===r?void 0:r.contentWindow)||void 0===o||o.postMessage(i,"*")}))}}))}};r.__decorate([i.bindable,r.__metadata("design:type",Object)],l.prototype,"config",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],l.prototype,"value",void 0),r.__decorate([i.bindable,r.__metadata("design:type",Object)],l.prototype,"options",void 0),l=r.__decorate([i.autoinject,(0,i.customElement)("qp-manufacturing-diagram"),r.__metadata("design:paramtypes",[a.EventAggregator,o.ManufacturingDiagramServiceFabric])],l),n.QPManufacturingDiagramCustomElement=l;let c=!1;const prepareSchedullerCss=()=>{if(c)return;c=!0;const e=document.createElement("link");e.href="Scripts/scheduler/schedulerpro.stockholm.css",e.type="text/css",e.rel="stylesheet",document.body.appendChild(e)}}.apply(n,o),void 0===i||(e.exports=i)},"./features/manufacturing-diagram/services/wf-diagram-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ManufacturingDiagramServiceFabric=n.ApiClientManufacturingDia=n.ManufacturingDiagramService=void 0;class ManufacturingDiagramService{constructor(e,n){this.params=e,this.apiClient=n,this.results=new Map,this.baseQuery={json:this.params.json}}resetColumns(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.resetColumnsInternal(e).then((e=>e))}))}resetColumnsInternal(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.apiClient.resetColumns(e).then((e=>e))}))}updateColumns(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.updateColumnsInternal(e).then((e=>e))}))}updateColumnsInternal(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.apiClient.updateColumns(e).then((e=>e))}))}updateOrderResource(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.updateOrderResourceInternal(e).then((e=>e))}))}updateOrderResourceInternal(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.apiClient.updateOrderResource(e).then((e=>e))}))}updateOrderResourceSelected(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.updateOrderResourceSelectedInternal(e).then((e=>e))}))}updateOrderResourceSelectedInternal(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.apiClient.updateOrderResourceSelected(e).then((e=>e))}))}getData(){return r.__awaiter(this,void 0,void 0,(function*(){return this.getDataInternal().then((e=>e))}))}getDataInternal(){return r.__awaiter(this,void 0,void 0,(function*(){return this.apiClient.getData().then((e=>e))}))}}n.ManufacturingDiagramService=ManufacturingDiagramService;let a=class ApiClientManufacturingDia{constructor(e){this.client=e}resetColumns(e){return this.client.fetch("diagram/amRecords/resetColumns",{method:"POST",body:(0,i.json)(e)}).then((e=>!!e.ok))}updateColumns(e){return this.client.fetch("diagram/amRecords/updateColumns",{method:"POST",body:(0,i.json)(e)}).then((e=>!!e.ok))}updateOrderResource(e){return this.client.fetch("diagram/amRecords/updateOrderResource",{method:"POST",body:(0,i.json)(e)}).then((e=>!!e.ok&&e.json()))}updateOrderResourceSelected(e){return this.client.fetch("diagram/amRecords/updateOrderResourceSelected",{method:"POST",body:(0,i.json)(e)}).then((e=>!!e.ok))}getData(){return this.client.fetch("diagram/amRecords",{method:"GET"}).then((e=>!!e.ok&&e.json()))}};a=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[i.HttpClient])],a),n.ApiClientManufacturingDia=a;let l=class ManufacturingDiagramServiceFabric{constructor(e){this.apiClient=e}getWfDiagramService(e){return new ManufacturingDiagramService(e,this.apiClient)}};l=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[a])],l),n.ManufacturingDiagramServiceFabric=l}.apply(n,o),void 0===i||(e.exports=i)},"features/workflow-diagram/index":function(e,n,r){var o,i;o=[r,n,r("features/workflow-diagram/workflow-diagram")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configure=void 0,n.configure=function configure(e){e.globalResources([r.QPWorkflowDiagramCustomElement])}}.apply(n,o),void 0===i||(e.exports=i)},"./features/workflow-diagram/services/wf-diagram-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WfDiagramServiceFabric=n.ApiClientWfDia=n.WfDiagramService=void 0;class WfDiagramService{constructor(e,n){this.params=e,this.apiClient=n,this.results=new Map,this.baseQuery={graph:this.params.graph,currentState:this.params.currentState,currentTransition:this.params.currentTransition,viewState:this.params.viewState,viewTransition:this.params.viewTransition,view:this.params.view,graphStateId:this.params.graphStateId,eventName:this.params.eventName,json:this.params.json}}setCurrents(e,n,o,i){return r.__awaiter(this,void 0,void 0,(function*(){if(!e&&!n)return!1;const r=Object.assign(Object.assign({},this.baseQuery),{currentState:e,currentTransition:n,eventName:o,json:i});return this.setCurrentsInternal(r).then((e=>e))}))}setCurrentsInternal(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.apiClient.setCurrents(e).then((e=>e))}))}}n.WfDiagramService=WfDiagramService;let a=class ApiClientWfDia{constructor(e){this.client=e,this.root=""}setCurrents(e){return this.client.fetch("workflowui/Diagram/SetCurrents",{method:"POST",body:(0,i.json)(e)}).then((e=>!!e.ok&&e.json()))}};a=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[i.HttpClient])],a),n.ApiClientWfDia=a;let l=class WfDiagramServiceFabric{constructor(e){this.apiClient=e}getWfDiagramService(e){return new WfDiagramService(e,this.apiClient)}};l=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[a])],l),n.WfDiagramServiceFabric=l}.apply(n,o),void 0===i||(e.exports=i)},"features/workflow-diagram/workflow-diagram":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./features/workflow-diagram/services/wf-diagram-service.ts"),r("./features/diagram-common/context-menu.ts"),r("aurelia-framework"),r("aurelia-event-aggregator"),r("./features/diagram-common/go-wrapper.ts"),r("./features/diagram-common/diagram-properties.ts"),r("./features/diagram-common/event-args-message.ts"),r("./features/diagram-common/workflow-diagram-actions.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p){"use strict";var b;Object.defineProperty(n,"__esModule",{value:!0}),n.QPWorkflowDiagramCustomElement=void 0;let g=b=class QPWorkflowDiagramCustomElement{constructor(e,n,r,o){this.eventAggregator=e,this.goWrapper=n,this.wfDiagramServiceFabric=r,this.bindingEngine=o,this.skipValueChanged=!1,this.modeReadOnly=!1,this.diaHideTransition=!1,this.hadSetFirstPosition=!1,this.waitConfig=null,this.observer=void 0,this.needChange=void 0,this.ctxScope={linkButtonHover:!1,contextNode:null,contextLink:null,contextEvent:null,func:null,selectedFromNode:!1,lastCurrentClient:null,lastCurrentSrv:null,loc:null},this.confirmText=void 0,this.showConfirm=void 0}getRandomColor(){let e="#";for(let n=0;n<6;n++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}defineNewLink(e,n){if(!n)return;let r;return e.linkDataArray.forEach((e=>{0==n.linkDataArray.filter((n=>n.id==e.id)).length&&(r=e.id)})),r}configChanged(e,n){const r=Object.assign({},this.config);Object.assign(this.config,b.defaultConfig,r),this.bindingEngine.propertyObserver(this.config,"hidden").subscribe(((e,n)=>{let r=document.getElementById("acuDiagram");r.style.display=e?"none":"block",r.querySelector("div").style.display="",document.getElementById("acu").style.display=e?"block":"none"}))}valueChanged(e,n){var r,o,i,a,l;if(!this.skipValueChanged)if(e&&e.trim()){let c;try{c=JSON.parse(e)}catch(e){return this.diagram&&this.diagram.clear(),void this.loadErrorDiagram()}let u=0,p=d.DiagramProperties.colors.main.length;if(p<49){for(let e=d.DiagramProperties.colors.main.length;e<50;e++){let e=this.getRandomColor();d.DiagramProperties.colors.main.push({node:e,link:e})}p=d.DiagramProperties.colors.main.length}null===(r=c.nodeDataArray)||void 0===r||r.forEach((e=>{u>=p?(e.color=this.getRandomColor(),e.linkColor=e.color):(e.color=d.DiagramProperties.colors.main[u].node,e.linkColor=d.DiagramProperties.colors.main[u].link),u++}));const b=void 0===this.options.allowSelect||this.options.allowSelect;let g="",m="",f=null===(o=c.nodeDataArray)||void 0===o?void 0:o.filter((e=>!e.loc))[0];if(f&&(f.loc=this.ctxScope.loc?`${this.ctxScope.loc.x} ${this.ctxScope.loc.y}`:"550 500",f.isSelected=b||!1,c.nodeDataArray.splice(c.nodeDataArray.indexOf(f),1),c.nodeDataArray.push(f),g="Move",m=f.key,this.ctxScope.loc=null),!m){let e=null===(i=c.nodeDataArray)||void 0===i?void 0:i.filter((e=>e.isSelected))[0];e&&(m=e.key)}null===(a=c.linkDataArray)||void 0===a||a.forEach((e=>{var n,r,o,i;e.zOrder=10,e.color=null===(r=null===(n=c.nodeDataArray)||void 0===n?void 0:n.filter((n=>n.key==e.from))[0])||void 0===r?void 0:r.linkColor,e.markColor=null===(i=null===(o=c.nodeDataArray)||void 0===o?void 0:o.filter((n=>n.key==e.to))[0])||void 0===i?void 0:i.color,e.fromIndex=void 0})),null===(l=c.linkDataArray)||void 0===l||l.forEach((e=>{e.fromIndex=c.linkDataArray.filter((n=>n.from==e.from&&n.fromPort==e.fromPort&&!n.fromIndex)).length}));let v={modeReadOnly:!this.config.enabled||this.config.readOnly,allowSelect:b,nodeDataArray:c.nodeDataArray,linkDataArray:c.linkDataArray,selectedNode:b?m:null,selectedLink:n?this.defineNewLink(c,JSON.parse(n)):void 0,doAction:g,doActionStateKey:m};this.diagramConfigChanged(v)}else this.diagram&&this.diagram.clear()}refreshDiagram(e=!1){let n=setTimeout((()=>{this.diagram&&(this.diagram.computeBounds(),0!=this.diagram.nodes.count?this.diagram.redraw():this.value&&this.valueChanged(this.value,null),this.setInitialPosition(e),this.setInitialPosition(e),0==this.diagram.nodes.count&&this.value&&this.refreshDiagram(e),clearTimeout(n))}),300)}changeValue(e,n=!1){this.skipValueChanged=n,this.value=e,this.skipValueChanged=!1}updateServer(e){this.changeValue(e.json||this.diagram.model.toJSON(),!0),(e.activeState||e.activeTransition)&&(e.activeState!=d.DiagramProperties.callBackNames.new_node?(this.ctxScope.lastCurrentClient=e.activeState||e.activeTransition,this.wfDiagramService.setCurrents(e.activeState,e.activeTransition,e.type,this.value).then((n=>{n&&(this.ctxScope.lastCurrentSrv=n,this.extMethod&&this.extMethod.call(null,n),(0,p.diagramUpdatingWatcher)(e,this.options.callbacks))}))):(0,p.diagramUpdatingWatcher)(e,this.options.callbacks))}diagramConfigChanged(e){if(!this.diagram)return void(this.waitConfig=e);this.setInitialPosition(!1);let n=this.diagram.selection.first();n&&(n instanceof this.goWrapper.go.Node?n={t:"Node",key:n.key}:n instanceof this.goWrapper.go.Link&&(n={t:"Link",key:n.data.id,from:n.data.from,fromPort:n.data.fromPort,to:n.data.to,toPort:n.data.toPort},n.fromPort==d.DiagramProperties.callBackNames.AddTransitionNode&&(n={t:"Node",key:n.from}))),e.nodeDataArray?(this.modeReadOnly=e.modeReadOnly,this.model.nodeDataArray=e.nodeDataArray,this.model.linkDataArray=e.linkDataArray,e.selectedNode?this.selectNodeByKey(e.selectedNode):e.selectedLink?this.selectLinkByKey(e.selectedLink):n?"Node"===(null==n?void 0:n.t)?this.selectNodeByKey(n.key):"Link"===(null==n?void 0:n.t)&&this.selectLinkByKey(n.key,n):(this.hideAllContextMenu(),this.deselectFromItems(),this.clearHighlighteds(),this.clearSelection())):this.diagram&&this.diagram.clear(),this.diagram.allowSelect=e.allowSelect||!0,this.modeReadOnlyChanged(e.modeReadOnly),e.doAction&&this.wfDiagramService.setCurrents(e.doActionStateKey,void 0,e.doAction,this.diagram.model.toJSON())}modeReadOnlyChanged(e,n){this.diagram.isReadOnly=e||this.modeReadOnly,this.diagram.allowDelete=!e,this.diagram.allowLink=!e,this.diagram.allowRelink=!e,this.diagram.allowMove=!0,e&&(this.diagram.contextMenu=null,this.diagram.nodeTemplateMap.first().value.contextMenu=null,this.diagram.linkTemplateMap.first().value.contextMenu=null,this.diagram.nodes.each((e=>e.contextMenu=null)),this.diagram.links.each((e=>e.contextMenu=null)))}setInitialPosition(e=!1){this.hadSetFirstPosition&&!e||(this.diagram.alignContent=this.goWrapper.go.Spot.Center,this.diagram.alignDocument(this.goWrapper.go.Spot.Center,this.goWrapper.go.Spot.Center),this.diagram.autoScale=this.goWrapper.go.Diagram.Uniform,this.hadSetFirstPosition=!0,this.diagram.autoScale=this.goWrapper.go.Diagram.None)}ensureWfDiagramService(){void 0===this.wfDiagramService&&(this.wfDiagramService=this.wfDiagramServiceFabric.getWfDiagramService({graph:this.config.graph,view:this.config.view,viewState:this.options.viewState,viewTransition:this.options.viewTransition,graphStateId:this.config.graphStateId,currentState:void 0,currentTransition:void 0,eventName:void 0,json:void 0}))}selectNodeByKey(e){let n=this.diagram.nodes.filter((n=>n.key==e)).first();n&&this.selectNode(null,n)}selectNode(e,n){const r=n.diagram;if(r&&r.allowSelect){if(this.ctxScope.selectedFromNode)return this.ctxScope.selectedFromNode=!1,this.clearHighlighteds(),void this.clearSelection();r.startTransaction(d.DiagramProperties.transactionNames.highlight),r.isHighlighted=!1,r.clearHighlighteds(),r.nodes.each((e=>{e.isHighlighted=!1,e.zOrder=1})),r.links.each((e=>{e.isHighlighted=!1,e.zOrder=10})),r.isHighlighted=!0,n.findLinksOutOf&&n.findLinksOutOf().each((function(e){e.isHighlighted=!0})),n.findNodesOutOf&&n.findNodesOutOf().each((function(e){e.isHighlighted=!0})),r.commitTransaction(d.DiagramProperties.transactionNames.highlight),r.commandHandler.selectAll(),r.select(n),n.zOrder=2,this.wfDiagramService&&n.data.key&&this.ctxScope.lastCurrentClient!=n.data.key&&(this.ctxScope.lastCurrentClient=n.data.key,this.modeReadOnly||this.wfDiagramService.setCurrents(n.data.key,"").then((e=>{e&&(this.ctxScope.lastCurrentSrv=e,this.extMethod&&this.extMethod.call(null,e))})))}}selectLinkByKey(e,n){let r;e?r=this.diagram.links.filter((n=>n.data.id==e)).first():n&&(r=this.diagram.links.filter((e=>e.data.from==n.from&&e.data.fromPort==n.fromPort&&e.data.to==n.to&&(!n.toPort||e.data.toPort==n.toPort))).first()),r&&this.selectLink(null,r)}selectLink(e,n){const r=n.diagram;if(!r.allowSelect)return;if(e&&e.documentPoint&&(n.toPort.portId||n.fromPort.portId)){let o=r.findObjectsAt(e.documentPoint).filter((e=>e.part.fromNode||e.part.toNode)).map((e=>e.part)).toArray().sort((e=>e.data.id));if(100==n.zOrder){let e=0,r=0;o.forEach((n=>{100==n.zOrder&&(e=r),r++})),r=0,0==e&&(e=o.length),o.forEach((o=>{r==e-1?(o.zOrder=100,n=o):o.zOrder=r+10,r++}))}else{let e=-1;o.forEach((n=>{n.zOrder=10+e++})),n.zOrder=100}}r.startTransaction(d.DiagramProperties.transactionNames.highlight),r.isHighlighted=!1,r.clearHighlighteds(),r.nodes.each((e=>e.isHighlighted=!1)),r.links.each((e=>e.isHighlighted=!1)),r.isHighlighted=!0,n.fromNode.isHighlighted=!0,n.toNode&&(n.toNode.isHighlighted=!0),n.isHighlighted=!0,r.commitTransaction(d.DiagramProperties.transactionNames.highlight);const o=this;r.commit((function(e){r.commandHandler.selectAll(),r.clearSelection(),r.select(n),o.wfDiagramService&&n.data.id&&o.ctxScope.lastCurrentClient!=n.data.id&&(o.ctxScope.lastCurrentClient=n.data.id,o.wfDiagramService.setCurrents("",n.data.id).then((e=>{e&&(o.ctxScope.lastCurrentSrv=e,o.extMethod&&o.extMethod.call(null,e))})))}),"no selecteds")}opacityNodeBinding(e,n){let r;return r=n.diagram.isHighlighted?n.part.isSelected?d.DiagramProperties.opacitySetting.nodeOpacity.selected:e.isHighlighted?d.DiagramProperties.opacitySetting.nodeOpacity.highlighted:d.DiagramProperties.opacitySetting.nodeOpacity.opacity:d.DiagramProperties.opacitySetting.normal,r}lightenNodeBinding(e,n){let r;return r=n.diagram.isHighlighted?n.part.isSelected||e.isHighlighted?n.part.data.color:n.part.data.color+"35":n.part.data.color,r}darkenNodeTitleBinding(e,n){let r;return r=n.diagram.isHighlighted?n.part.isSelected||e.isHighlighted?d.DiagramProperties.colors.font:n.part.data.color:d.DiagramProperties.colors.font,r}opacityLinkBinding(e,n){let r;return r=n.diagram.isHighlighted?e.isHighlighted?d.DiagramProperties.opacitySetting.linkOpacity.highlighted:d.DiagramProperties.opacitySetting.linkOpacity.opacity:d.DiagramProperties.opacitySetting.normal,r}detached(){var e,n;null===(e=this.subscriber)||void 0===e||e.dispose(),null===(n=this.resizeSubscription)||void 0===n||n.dispose(),this.resizeSubscription=void 0,this.observer=void 0}loadTestDiagram(){let e=JSON.parse('{\n             "nodeDataArray": [\n           {"key":"Task_N", "name":"NEW", "fields":[ {"key":"open", "name":"Open"},{"key":"won", "name":"Close as Won"},{"key":"lost", "name":"Close as Lost"} ], "loc":"125 381"}\n            ],\n             "linkDataArray": []}');this.model.nodeDataArray=e.nodeDataArray,this.model.linkDataArray=e.linkDataArray}loadErrorDiagram(){let e=JSON.parse('{\n             "nodeDataArray": [\n           {"key":"Task_Error", "name":"loading error", "fields":[], "loc":"125 381"}\n            ],\n             "linkDataArray": []}');this.model.nodeDataArray=e.nodeDataArray,this.model.linkDataArray=e.linkDataArray}resizeSubscribe(){if(this.options.autoSize){this.observer=new MutationObserver((n=>{n[0].target==e&&(this.refreshDiagram(!0),this.resize()),this.modeReadOnly&&(this.needChange&&this.isVisible(this.diagram.div)?(this.valueChanged(this.value,null),this.needChange=void 0):this.isVisible(this.diagram.div)||(this.needChange=!0))}));const e=document.getElementById(this.options.containerElement);if(e&&(this.observer.observe(e,{attributes:!0,attributeFilter:["style"]}),(0,p.resizeParent)(this.options.contentElement,this.options.containerElement)),this.modeReadOnly){const e=this.diagram.div.closest("table");e&&this.observer.observe(e,{attributes:!0,attributeFilter:["style"]})}this.resizeSubscription=this.eventAggregator.subscribe("resize-window",(()=>{this.resize()}))}}resize(){this.resizeDebounce?clearTimeout(this.resizeDebounce):((0,p.resizeParent)(this.options.contentElement,this.options.containerElement),this.refreshDiagram(!0)),this.resizeDebounce=setTimeout((()=>{(0,p.resizeParent)(this.options.contentElement,this.options.containerElement),this.refreshDiagram(!0),clearTimeout(this.resizeDebounce),this.resizeDebounce=null}),b.RESIZETIMEOUT)}isVisible(e){return!(!e.offsetParent&&0===e.offsetWidth&&0===e.offsetHeight)}newState(e,n){var r,o;this.hideAllContextMenu();let i=new u.EventArgsMessage;i.eventName=u.EventNames.updateDiagram,i.actualValue=null===(o=null===(r=this.ctxScope)||void 0===r?void 0:r.contextNode)||void 0===o?void 0:o.part.key,i.json=this.diagram.model.toJSON(),i.type=d.DiagramProperties.callBackNames.new_node,i.activeState=d.DiagramProperties.callBackNames.new_node,i.activeTransition=void 0,i.dataSourceID=this.options.dataSourceID,this.ctxScope.loc=this.diagram.lastInput.documentPoint,this.diagram.eventAggregator.publish(i)}newPredefinedState(e,n){var r,o;this.hideAllContextMenu();let i=new u.EventArgsMessage;i.eventName=u.EventNames.updateDiagram,i.actualValue=null===(o=null===(r=this.ctxScope)||void 0===r?void 0:r.contextNode)||void 0===o?void 0:o.part.key,i.json=this.diagram.model.toJSON(),i.type=d.DiagramProperties.callBackNames.new_predifined_node,i.activeState=d.DiagramProperties.callBackNames.new_node,i.activeTransition=void 0,i.dataSourceID=this.options.dataSourceID,this.ctxScope.loc=this.diagram.lastInput.documentPoint,this.diagram.eventAggregator.publish(i)}changeScale(e){const n=this.diagram;n.scale+=e,n.redraw()}scale100(){const e=this.diagram;e.scale=1,e.redraw()}scaleFit(){this.setInitialPosition(!0),this.setInitialPosition(!0)}allToogleView(e){this.diaHideTransition=!this.diaHideTransition,this.diagram.nodes.each((e=>{e.data.hideTranition=this.diaHideTransition})),this.diagram.rebuildParts()}hideAllContextMenu(){this.nodeCtxMenu.hideContextMenu(),this.linkCtxMenu.hideContextMenu(),this.diagramCtxMenu.hideContextMenu()}deselectFromItems(){this.diagram.model.nodeDataArray.forEach((e=>{var n;null===(n=e.fields)||void 0===n||n.forEach((e=>{this.model.setDataProperty(e,"isSelected",!1)}))}))}clearHighlighteds(){this.diagram.isHighlighted=!1,this.diagram.commit((e=>{e.nodes.each((e=>e.isHighlighted=!1)),e.links.each((e=>e.isHighlighted=!1)),e.clearHighlighteds()}),"no highlighteds")}clearSelection(){this.diagram.commit((function(e){e.commandHandler.selectAll(),e.clearSelection()}),"no selecteds")}selectFromItem(e,n){n=n.replace(/_(R|L)$/g,""),e.fields.forEach((e=>{e.key==n&&this.model.setDataProperty(e,"isSelected",!0)}))}addTransition(e){var n,r,o,i;if(this.modeReadOnly)return;let a=new u.EventArgsMessage;a.eventName=u.EventNames.updateDiagram,a.actualValue=null===(r=null===(n=this.ctxScope)||void 0===n?void 0:n.contextNode)||void 0===r?void 0:r.part.key,a.json=this.diagram.model.toJSON(),a.type=d.DiagramProperties.callBackNames.addTransition,a.activeState=null===(i=null===(o=this.ctxScope)||void 0===o?void 0:o.contextNode)||void 0===i?void 0:i.part.key,a.activeTransition=void 0,a.dataSourceID=this.options.dataSourceID,this.diagram.eventAggregator.publish(a),this.hideAllContextMenu()}confirmValueChanged(e,n){this.showConfirm=this.confirmValue==d.DiagramProperties.strings.waitAnswer,"ok"==e&&this.ctxScope.func&&(this.ctxScope.func(),this.confirmValue=void 0)}removeState(e){this.modeReadOnly||(this.confirmValue=d.DiagramProperties.strings.waitAnswer,this.confirmText=d.DiagramProperties.strings.confirmTextRemoveState,this.hideAllContextMenu(),this.ctxScope.func=()=>{let e=this;e.diagram.commit((function(n){var r,o;e.diagram.remove(null===(o=null===(r=e.ctxScope)||void 0===r?void 0:r.contextNode)||void 0===o?void 0:o.part)}),"Delete")})}showState(e){var n,r,o,i;if(this.modeReadOnly)return;this.hideAllContextMenu();let a=new u.EventArgsMessage;a.eventName=u.EventNames.updateDiagram,a.actualValue=null===(r=null===(n=this.ctxScope)||void 0===n?void 0:n.contextNode)||void 0===r?void 0:r.part.data,a.json=this.diagram.model.toJSON(),a.type=a.actualValue.id?d.DiagramProperties.callBackNames.showTransition:d.DiagramProperties.callBackNames.showStates,a.activeState=null===(i=null===(o=this.ctxScope)||void 0===o?void 0:o.contextNode)||void 0===i?void 0:i.part.data.key,a.activeTransition=void 0,a.dataSourceID=this.options.dataSourceID,this.eventAggregator.publish(a)}showTransition(e){var n,r,o,i;if(this.modeReadOnly)return;this.hideAllContextMenu();let a=new u.EventArgsMessage;a.eventName=u.EventNames.updateDiagram,a.actualValue=null===(r=null===(n=this.ctxScope)||void 0===n?void 0:n.contextLink)||void 0===r?void 0:r.part.data,a.json=this.diagram.model.toJSON(),a.type=a.actualValue.id?d.DiagramProperties.callBackNames.showTransition:d.DiagramProperties.callBackNames.showStates,a.activeState=void 0,a.activeTransition=null===(i=null===(o=this.ctxScope)||void 0===o?void 0:o.contextLink)||void 0===i?void 0:i.part.data.id,a.dataSourceID=this.options.dataSourceID,this.eventAggregator.publish(a)}removeTransition(e){this.modeReadOnly||(this.confirmValue=d.DiagramProperties.strings.waitAnswer,this.confirmText=d.DiagramProperties.strings.confirmTextRemoveTransition,this.hideAllContextMenu(),this.ctxScope.func=()=>{let e=this;e.diagram.commit((function(n){var r,o;e.diagram.remove(null===(o=null===(r=e.ctxScope)||void 0===r?void 0:r.contextLink)||void 0===o?void 0:o.part)}),"Delete")})}attached(){var e;return r.__awaiter(this,void 0,void 0,(function*(){yield this.goWrapper.ready,this.nodeCtxMenu=new i.ContextMenu("nodeContextMenu"),this.linkCtxMenu=new i.ContextMenu("linkContextMenu"),this.diagramCtxMenu=new i.ContextMenu("diagramContextMenu"),this.goWrapper.go.Diagram.licenseKey=d.DiagramProperties.LicenseKey,this.diagram=this.goWrapper.goMake(this.goWrapper.go.Diagram),this.model=this.goWrapper.goMake(this.goWrapper.go.GraphLinksModel),this.Geometry_zip=this.goWrapper.go.Geometry.parse("M10.7314 8.35611C10.6276 8.13671 10.4231 7.99964 10.2005 7.99964H6.16907L7.78222 0.827887C7.85314 0.515077 7.7113 0.190801 7.44705 0.0583301C7.18334 -0.0725406 6.87049 0.0221956 6.70579 0.28847L0.105593 10.9555C-0.0206511 11.1593 -0.0347517 11.4242 0.0689913 11.6436C0.173034 11.8624 0.37722 11.9998 0.600187 11.9998H4.09187L3.00842 19.2239C2.96216 19.5319 3.11474 19.8346 3.37551 19.9518C3.44883 19.9844 3.52497 20 3.59998 20C3.79306 20 3.97997 19.8965 4.09481 19.7109L10.695 9.04393C10.821 8.84013 10.835 8.57519 10.7314 8.35611Z",!0),this.Geometry_event=this.goWrapper.go.Geometry.parse("M3 3C3 2.64101 3.29102 2.35 3.65001 2.35001L4.50003 2.35002C7.06813 2.35005 9.14998 4.43191 9.14998 7.00001V8.35007H11.5L8.49997 12.3501L5.49997 8.35007H7.84998V7.00001C7.84998 5.14988 6.35016 3.65004 4.50002 3.65002L3.64999 3.65001C3.29101 3.65 3 3.35898 3 3ZM2 14.5C2 14.1411 2.29101 13.85 2.65 13.85H14.15C14.509 13.85 14.8 14.1411 14.8 14.5C14.8 14.859 14.509 15.15 14.15 15.15H2.65C2.29101 15.15 2 14.859 2 14.5Z",!0),this.model.copiesArrays=!0,this.model.copiesArrayObjects=!0,this.model.linkFromPortIdProperty="fromPort",this.model.linkToPortIdProperty="toPort",this.extMethod=window[this.options.onsetcurrent],this.diagram.animationManager.canStart=e=>!1,this.diagram.commandHandler.canCutSelection=()=>!1,this.diagram.commandHandler.canDeleteSelection=()=>{if(this.modeReadOnly)return!1;if(!this.diagram.allowDelete)return!1;this.hideAllContextMenu();let e=this.diagram.selection.first();return e&&e instanceof this.goWrapper.go.Node?(this.confirmValue=d.DiagramProperties.strings.waitAnswer,this.confirmText=d.DiagramProperties.strings.confirmTextRemoveState,this.ctxScope.contextNode=e,this.ctxScope.func=()=>{var e,n;let r=this;(null===(n=null===(e=r.ctxScope)||void 0===e?void 0:e.contextNode)||void 0===n?void 0:n.part)&&r.diagram.commit((function(e){var n,o;r.diagram.remove(null===(o=null===(n=r.ctxScope)||void 0===n?void 0:n.contextNode)||void 0===o?void 0:o.part)}),"Delete")}):e&&e instanceof this.goWrapper.go.Link&&(this.confirmValue=d.DiagramProperties.strings.waitAnswer,this.confirmText=d.DiagramProperties.strings.confirmTextRemoveTransition,this.ctxScope.contextLink=e,this.ctxScope.func=()=>{var e,n;let r=this;(null===(n=null===(e=r.ctxScope)||void 0===e?void 0:e.contextLink)||void 0===n?void 0:n.part)&&r.diagram.commit((function(e){var n,o;r.diagram.remove(null===(o=null===(n=r.ctxScope)||void 0===n?void 0:n.contextLink)||void 0===o?void 0:o.part)}),"Delete")}),!1},this.diagram.animationManager.initialAnimationStyle=this.goWrapper.go.AnimationManager.None,this.diagram.div=this.diagramContainer,this.diagram.nodeTemplateMap=this.createNodeTemplates(),this.diagram.linkTemplateMap=this.createLinkTemplates(),this.diagram.undoManager.isEnabled=!0,this.ensureWfDiagramService(),this.diagram.model=this.model,this.diagram.eventAggregator=this.eventAggregator,this.waitConfig&&(this.diagramConfigChanged(this.waitConfig),this.waitConfig=null),(null===(e=this.options)||void 0===e?void 0:e.callbacks)&&"string"==typeof this.options.callbacks&&(this.options.callbacks=JSON.parse(this.options.callbacks.replace(/'/g,'"'))),this.resizeSubscribe(),this.resize(),this.subscriber=this.eventAggregator.subscribe(u.EventArgsMessage,(e=>{this.updateServer(e)})),this.diagram.addDiagramListener("BackgroundSingleClicked",(e=>{this.hideAllContextMenu(),this.deselectFromItems(),this.clearHighlighteds(),this.clearSelection()})),this.diagram.addDiagramListener("BackgroundContextClicked",(e=>{this.hideAllContextMenu(),this.deselectFromItems(),this.clearHighlighteds(),this.clearSelection(),this.modeReadOnly||this.diagramCtxMenu.showContextMenu(this.diagram.lastInput.viewPoint,"column",{x:-5,y:-5})})),this.diagram.addModelChangedListener((e=>{var n,r,o,i,a,l,c;if(!e.isTransactionFinished)return;let p,b,g=null,m=e.To||e.object;switch(null==m?void 0:m.name){case d.DiagramProperties.callBackNames.new_node:case d.DiagramProperties.callBackNames.new_predifined_node:g=m.changes.first().newValue,p=g.key;break;case"Move":g=m.changes.first().object,p=null===(n=null==g?void 0:g.data)||void 0===n?void 0:n.key,p||(g=this.diagram.nodes.filter((e=>e.isSelected)).first(),p=null===(r=null==g?void 0:g.data)||void 0===r?void 0:r.key);break;case"Linking":g=null===(i=null===(o=m.changes.filter((e=>"linkDataArray"==e.modelChange)))||void 0===o?void 0:o.first())||void 0===i?void 0:i.newValue,p=null==g?void 0:g.from,b=null==g?void 0:g.id;break;case"Relinking":g=null===(a=m.changes.filter((e=>"linkToKey"==e.modelChange||"linkToPortId"==e.modelChange||"linkFromPortId"==e.modelChange)))||void 0===a?void 0:a.first().object,p=null==g?void 0:g.from,b=null==g?void 0:g.id;break;case"Delete":g=m.changes.last().oldValue,g.data?(p=g.data.key,b=g.data.id):(g=null===(c=null===(l=m.changes.filter((e=>"linkDataArray"==e.modelChange)))||void 0===l?void 0:l.first())||void 0===c?void 0:c.oldValue,p="",b=null==g?void 0:g.id)}if(!g)return;let f=new u.EventArgsMessage;f.eventName=u.EventNames.updateDiagram,f.json=e.model.toJson(),f.type=null==m?void 0:m.name,f.actualValue=g,f.activeState=p,f.activeTransition=b,f.dataSourceID=this.options.dataSourceID,this.eventAggregator.publish(f)})),this.diagram.toolManager.relinkingTool.fromHandleArchetype=this.goWrapper.goMake(this.goWrapper.go.Shape,"Diamond",{cursor:"pointer",strokeWidth:3,stroke:"magenta",fill:"rgba(0,0,0,.2)",desiredSize:new this.goWrapper.go.Size(18,18),segmentIndex:0}),this.diagram.toolManager.relinkingTool.toHandleArchetype=this.goWrapper.goMake(this.goWrapper.go.Shape,"Diamond",{cursor:"pointer",strokeWidth:3,stroke:"magenta",fill:"rgba(0,0,0,.2)",desiredSize:new this.goWrapper.go.Size(18,18),segmentIndex:-1}),this.diagram.toolManager.relinkingTool.linkValidation=(e,n,r,o)=>n.portId!=d.DiagramProperties.callBackNames.AddTransitionNode,this.diagram.toolManager.linkingTool.doActivate=()=>{this.hideAllContextMenu(),this.goWrapper.go.LinkingTool.prototype.doActivate.call(this.diagram.toolManager.linkingTool)},this.diagram.toolManager.relinkingTool.doMouseUp=()=>{this.hideAllContextMenu();const e=this.diagram.toolManager.relinkingTool.isForwards?this.diagram.toolManager.relinkingTool.originalToPort:this.diagram.toolManager.relinkingTool.originalFromPort;null!==e&&e.actualBounds.copy().inflate(5,5).containsPoint(e.getLocalPoint(this.diagram.lastInput.documentPoint))?this.diagram.toolManager.relinkingTool.doCancel():this.goWrapper.go.RelinkingTool.prototype.doMouseUp.call(this.diagram.toolManager.relinkingTool)}}))}createLinkTemplates(){const e=new this.goWrapper.go.Map("string",this.goWrapper.go.Link),n=this.goWrapper.goMake(this.goWrapper.go.Link,{relinkableFrom:!0,relinkableTo:!0,selectionAdorned:!0,reshapable:!1,toShortLength:4,fromShortLength:1,fromEndSegmentLength:80,toEndSegmentLength:30,routing:this.goWrapper.go.Link.AvoidsNodes,curve:this.goWrapper.go.Link.JumpGap,adjusting:this.goWrapper.go.Link.None,corner:4,doubleClick:(e,n)=>{this.showTransition(e)}},{selectionAdornmentTemplate:this.goWrapper.goMake(this.goWrapper.go.Adornment,this.goWrapper.goMake(this.goWrapper.go.Shape,{isPanelMain:!0,strokeWidth:4},new this.goWrapper.go.Binding("stroke","color")),this.goWrapper.goMake(this.goWrapper.go.Shape,{toArrow:"Standard",stroke:null,scale:3},new this.goWrapper.go.Binding("fill","color")),{click:()=>{}})},this.goWrapper.goMake(this.goWrapper.go.Shape,{isPanelMain:!0,stroke:"transparent",strokeWidth:8}),this.goWrapper.goMake(this.goWrapper.go.Shape,{isPanelMain:!0,strokeWidth:2},new this.goWrapper.go.Binding("stroke","color"),new this.goWrapper.go.Binding("opacity","",((e,n)=>this.opacityLinkBinding(e,n))).ofObject()),this.goWrapper.goMake(this.goWrapper.go.Shape,{toArrow:"Standard",strokeWidth:2},new this.goWrapper.go.Binding("stroke","color"),new this.goWrapper.go.Binding("fill","color"),new this.goWrapper.go.Binding("opacity","",((e,n)=>this.opacityLinkBinding(e,n))).ofObject()),{mouseEnter:function(e,n){n.elt(0).stroke=d.DiagramProperties.colors.highlighted,n.elt(0).part.findObject("Diamond").stroke=d.DiagramProperties.colors.highlighted,n.elt(0).part.findObject("Zip").stroke=d.DiagramProperties.colors.highlighted},mouseLeave:function(e,n){n.elt(0).stroke="transparent",n.elt(0).part.findObject("Diamond").stroke="white",n.elt(0).part.findObject("Zip").stroke="white"}},this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{background:"white",width:11,height:11,visible:!0,segmentIndex:NaN,segmentOffset:new this.goWrapper.go.Point(20,0)},new this.goWrapper.go.Binding("opacity","",((e,n)=>this.opacityLinkBinding(e,n))).ofObject(),new this.goWrapper.go.Binding("segmentOffset","fromIndex",((e,n)=>new this.goWrapper.go.Point(20+20*e,0))),this.goWrapper.goMake(this.goWrapper.go.Shape,"Ellipse",{strokeWidth:0,width:11,height:11},new this.goWrapper.go.Binding("fill","markColor"))),this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{segmentOffset:new this.goWrapper.go.Point(16,-20),padding:new this.goWrapper.go.Margin(2,2,2,2),background:"transparent",visible:!1,toolTip:this.goWrapper.goMake(this.goWrapper.go.Adornment,"Spot",{background:"transparent"},this.goWrapper.goMake(this.goWrapper.go.Placeholder,{padding:5}),this.goWrapper.goMake(this.goWrapper.go.TextBlock,{alignment:this.goWrapper.go.Spot.Top,alignmentFocus:this.goWrapper.go.Spot.Bottom,stroke:"black",text:"Autorun = "},new this.goWrapper.go.Binding("text","",((e,n)=>{var r,o;if(e.isAutoRun)return(null===(r=e.autoRunCondition)||void 0===r?void 0:r.toString())?"Autorun = "+(null===(o=e.autoRunCondition)||void 0===o?void 0:o.toString()):"Has Autorun"}))))},new this.goWrapper.go.Binding("visible","isAutoRun",(e=>1==e)),new this.goWrapper.go.Binding("opacity","",((e,n)=>this.opacityLinkBinding(e,n))).ofObject(),this.goWrapper.goMake(this.goWrapper.go.Shape,{name:"Zip",geometry:this.Geometry_zip,strokeJoin:"bevel",strokeCap:"butt",strokeWidth:1,stroke:"white",scale:1.4,mouseOver:(e,n)=>{n.stroke="black",n.cursor="pointer"}},new this.goWrapper.go.Binding("fill","color"))),this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{segmentOffset:new this.goWrapper.go.Point(36,-20),padding:2,background:"transparent",visible:!1,toolTip:this.goWrapper.goMake(this.goWrapper.go.Adornment,"Spot",{background:"transparent"},this.goWrapper.goMake(this.goWrapper.go.Placeholder,{padding:5}),this.goWrapper.goMake(this.goWrapper.go.TextBlock,{alignment:this.goWrapper.go.Spot.Top,alignmentFocus:this.goWrapper.go.Spot.Bottom,stroke:"black"},new this.goWrapper.go.Binding("text","condition")))},new this.goWrapper.go.Binding("visible","hasCondition",(e=>1==e)),new this.goWrapper.go.Binding("opacity","",((e,n)=>this.opacityLinkBinding(e,n))).ofObject(),this.goWrapper.goMake(this.goWrapper.go.Shape,"Diamond",{name:"Diamond",strokeJoin:"bevel",strokeCap:"butt",strokeWidth:8,stroke:"white",scale:.2,mouseOver:(e,n)=>{n.stroke="black",n.cursor="pointer"}},new this.goWrapper.go.Binding("fill","color"))),{click:(e,n)=>{this.hideAllContextMenu(),this.modeReadOnly||(this.ctxScope.contextEvent=e,this.ctxScope.contextLink=n,this.linkCtxMenu.showContextMenu(e.viewPoint,"row",{x:-10,y:-45}),this.selectLink(e,n))},contextClick:(e,n)=>{this.hideAllContextMenu(),this.modeReadOnly||(this.ctxScope.contextEvent=e,this.ctxScope.contextLink=n,this.linkCtxMenu.showContextMenu(e.viewPoint,"row",{x:-10,y:-45}))}});return e.add("",n),e}makePort(e,n,r){return this.goWrapper.goMake(this.goWrapper.go.Shape,"Circle",{fill:null,stroke:null,desiredSize:new this.goWrapper.go.Size(10,10),alignment:n,portId:e,toSpot:r,fromLinkable:!1,toLinkable:!0,toLinkableDuplicates:!0,cursor:"pointer"})}showSmallPorts(e,n){e.ports.each((function(e){"B"!==e.portId&&"T"!==e.portId||(e.fill=n?"rgba(0,0,0,.35)":null)}))}makeStartMark(){return this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{visible:!1,background:"transparent",desiredSize:new this.goWrapper.go.Size(50,50),alignment:new this.goWrapper.go.Spot(0,0,4,2),cursor:"pointer"},new this.goWrapper.go.Binding("visible","isStart"),this.goWrapper.goMake(this.goWrapper.go.Shape,"Circle",{fill:"#d2d2d2",stroke:null}),this.goWrapper.goMake(this.goWrapper.go.TextBlock,this.config.localizeStart||"START",{stroke:"black",font:"bold 10px sans-serif",cursor:"pointer"}))}createNodeTemplates(){const e=new this.goWrapper.go.Map,n=this.goWrapper.goMake(this.goWrapper.go.Panel,"Spot",{background:"transparent",margin:new this.goWrapper.go.Margin(3,0)},this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{background:"transparent",width:180,click:(e,n)=>{this.hideAllContextMenu(),this.deselectFromItems();const r=n.findMainElement();this.selectFromItem(n.part.data,r.cp),this.ctxScope.selectedFromNode=!0}},this.goWrapper.goMake(this.goWrapper.go.Shape,"RoundedRectangle",{fill:d.DiagramProperties.colors.item.background,strokeWidth:2,name:"nodeFieldRectangle",stroke:"transparent"},new this.goWrapper.go.Binding("portId","key"),new this.goWrapper.go.Binding("stroke","isSelected",((e,n)=>e?"black":"transparent"))),this.goWrapper.goMake(this.goWrapper.go.Panel,"Table",{stretch:this.goWrapper.go.GraphObject.Horizontal},this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{stretch:this.goWrapper.go.GraphObject.Horizontal,row:0,column:0},this.goWrapper.goMake(this.goWrapper.go.TextBlock,{margin:new this.goWrapper.go.Margin(8,8,8,8),font:"bold 14px sans-serif",alignment:this.goWrapper.go.Spot.LeftCenter,fromLinkable:!0,toLinkable:!1,stroke:d.DiagramProperties.colors.font,stretch:this.goWrapper.go.GraphObject.None,wrap:this.goWrapper.go.TextBlock.WrapFit,isActionable:!0},new this.goWrapper.go.Binding("text","name"))),this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{row:0,column:1,name:"btnTransitionMenu",alignment:this.goWrapper.go.Spot.MiddleRight,visible:!0,cursor:"pointer",margin:new this.goWrapper.go.Margin(0,8),width:20,height:20},new this.goWrapper.go.Binding("visible","isEvent",(e=>1==e)),this.goWrapper.goMake(this.goWrapper.go.Shape,{geometry:this.Geometry_event,strokeJoin:"bevel",strokeCap:"butt",fill:d.DiagramProperties.colors.font,strokeWidth:0,stroke:null,scale:.25}))),this.goWrapper.goMake(this.goWrapper.go.Shape,"RoundedRectangle",{fill:"transparent",stroke:"transparent",strokeWidth:2,width:176,height:30,fromLinkable:!0,fromSpot:this.goWrapper.go.Spot.LeftRightSides,cursor:"alias"},new this.goWrapper.go.Binding("portId","key"),new this.goWrapper.go.Binding("width","isSelected",((e,n)=>e?210:176)))),this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{alignment:new this.goWrapper.go.Spot(0,.5,-10,0),fromSpot:this.goWrapper.go.Spot.Left,toSpot:this.goWrapper.go.Spot.Left,fromLinkable:!0,toLinkable:!1,toLinkableDuplicates:!0,cursor:"alias",visible:!0,width:0},new this.goWrapper.go.Binding("width","isSelected",((e,n)=>e?18:0)),new this.goWrapper.go.Binding("portId","key",((e,n)=>e+"_L")),this.goWrapper.goMake(this.goWrapper.go.Shape,"Circle",{fill:"#333333",stroke:null,desiredSize:new this.goWrapper.go.Size(18,18)}),this.goWrapper.goMake(this.goWrapper.go.TextBlock,"+",{stroke:"white",font:"normal 16px sans-serif",margin:new this.goWrapper.go.Margin(2,0,0,0)})),this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{alignment:new this.goWrapper.go.Spot(1,.5,10,0),fromSpot:this.goWrapper.go.Spot.Right,toSpot:this.goWrapper.go.Spot.Right,fromLinkable:!0,toLinkable:!1,toLinkableDuplicates:!0,cursor:"alias",visible:!0,width:0},new this.goWrapper.go.Binding("width","isSelected",((e,n)=>e?18:0)),new this.goWrapper.go.Binding("portId","key",((e,n)=>e+"_R")),this.goWrapper.goMake(this.goWrapper.go.Shape,"Circle",{fill:"#333333",stroke:null,desiredSize:new this.goWrapper.go.Size(18,18)}),this.goWrapper.goMake(this.goWrapper.go.TextBlock,"+",{stroke:"white",font:"normal 16px sans-serif",margin:new this.goWrapper.go.Margin(2,0,0,0)})));let r=this.goWrapper.goMake(this.goWrapper.go.Node,"Spot",{copyable:!1,deletable:!0,minSize:new this.goWrapper.go.Size(240,50),stretch:this.goWrapper.go.GraphObject.Horizontal,zOrder:1},{locationSpot:new this.goWrapper.go.Spot(.5,.5),fromLinkable:!1,toLinkable:!1,selectionAdorned:!1},new this.goWrapper.go.Binding("location","loc",this.goWrapper.go.Point.parse).makeTwoWay(this.goWrapper.go.Point.stringify),new this.goWrapper.go.Binding("visible","visible"),new this.goWrapper.go.Binding("zOrder","isSelected",((e,n)=>e?2:1)),{doubleClick:(e,n)=>{this.ctxScope.contextEvent=e,this.ctxScope.contextNode=n,this.showState(e)},click:(e,n)=>{var r,o,i;(null===(r=this.ctxScope)||void 0===r?void 0:r.contextNode)&&(null===(i=null===(o=this.ctxScope)||void 0===o?void 0:o.contextNode)||void 0===i?void 0:i.part)!=n&&this.hideAllContextMenu(),this.linkCtxMenu.hideContextMenu(),this.ctxScope.contextEvent=e,this.ctxScope.contextNode=n,this.selectNode(e,n)},contextClick:(e,n)=>{this.hideAllContextMenu(),this.modeReadOnly||(this.ctxScope.contextEvent=e,this.ctxScope.contextNode=n,this.nodeCtxMenu.showContextMenu(n.diagram.lastInput.viewPoint))}},this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{stretch:this.goWrapper.go.GraphObject.Horizontal},new this.goWrapper.go.Binding("portId","key"),this.goWrapper.goMake(this.goWrapper.go.Shape,"RoundedRectangle",{portId:"",fromLinkable:!1,toLinkable:!0,toLinkableDuplicates:!0,toSpot:this.goWrapper.go.Spot.TopBottomSides,fromSpot:this.goWrapper.go.Spot.LeftRightSides,fill:d.DiagramProperties.nodeColor.defaultColor,strokeWidth:4,stroke:"transparent",row:1,column:0,columnSpan:3},new this.goWrapper.go.Binding("fill","",((e,n)=>this.lightenNodeBinding(e,n))).ofObject(),new this.goWrapper.go.Binding("stroke","",((e,n)=>n.part.isSelected?"black":(n.part.isHighlighted,"transparent"))).ofObject()),this.goWrapper.goMake(this.goWrapper.go.Panel,"Table",{margin:0,padding:0,stretch:this.goWrapper.go.GraphObject.Fill},this.goWrapper.goMake(this.goWrapper.go.RowColumnDefinition,{column:0,width:220}),this.goWrapper.goMake(this.goWrapper.go.Panel,"Table",{background:"transparent",padding:0,margin:0,cursor:"pointer",row:0,column:0,columnSpan:3,stretch:this.goWrapper.go.GraphObject.Horizontal},this.goWrapper.goMake(this.goWrapper.go.Panel,"Table",{stretch:this.goWrapper.go.GraphObject.Horizontal},this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{stretch:this.goWrapper.go.GraphObject.Horizontal,row:0,column:0},this.goWrapper.goMake(this.goWrapper.go.TextBlock,{stretch:this.goWrapper.go.GraphObject.Horizontal,font:"bold 20px Arial, sans-serif",margin:8,alignment:this.goWrapper.go.Spot.Left,wrap:this.goWrapper.go.TextBlock.WrapFit,editable:!1},new this.goWrapper.go.Binding("text","name"),new this.goWrapper.go.Binding("stroke","",((e,n)=>this.darkenNodeTitleBinding(e,n))).ofObject())),this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{row:0,column:2,name:"btnStateMenu",alignment:this.goWrapper.go.Spot.MiddleRight,visible:!0,cursor:"pointer",margin:2},new this.goWrapper.go.Binding("visible","",(()=>!this.modeReadOnly)),this.goWrapper.goMake(this.goWrapper.go.Shape,"RoundedRectangle",{fill:"transparent",strokeWidth:1,stroke:"transparent",width:26,cursor:"pointer"}),this.goWrapper.goMake(this.goWrapper.go.TextBlock,"...",{stroke:d.DiagramProperties.colors.font,font:"bold 16px sans-serif",cursor:"pointer"}),{mouseEnter:(e,n)=>{n.background="rgba(0, 0, 0, 0.3)"},mouseLeave:(e,n)=>{n.background="transparent"},click:(e,n)=>{this.hideAllContextMenu(),this.modeReadOnly||(this.ctxScope.contextEvent=e,this.ctxScope.contextNode=n,this.nodeCtxMenu.showContextMenu(n.diagram.lastInput.viewPoint))}}),this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{row:0,column:1,name:"btnStateToggleSize",alignment:this.goWrapper.go.Spot.MiddleRight,visible:!0,cursor:"pointer",margin:2},this.goWrapper.goMake(this.goWrapper.go.Shape,"RoundedRectangle",{fill:"transparent",strokeWidth:1,stroke:"transparent",width:26,cursor:"pointer"}),this.goWrapper.goMake(this.goWrapper.go.TextBlock,"",{stroke:d.DiagramProperties.colors.font,font:"bold 16px sans-serif",cursor:"pointer"},new this.goWrapper.go.Binding("angle","",((e,n)=>n.part.data.hideTranition?180:0))),{click:(e,n)=>{n.part.data.hideTranition=!n.part.data.hideTranition,n.part.diagram.rebuildParts()}},{mouseEnter:(e,n)=>{n.background="rgba(0, 0, 0, 0.3)"},mouseLeave:(e,n)=>{n.background="transparent"}}))),this.goWrapper.goMake(this.goWrapper.go.Panel,"Vertical",{row:1,column:0,columnSpan:3,margin:new this.goWrapper.go.Margin(0,0,10,0),itemTemplate:n},new this.goWrapper.go.Binding("itemArray","",((e,n)=>n.part.data.hideTranition?null:n.part.data.fields))),this.goWrapper.goMake(this.goWrapper.go.Panel,"Auto",{row:2,column:0,columnSpan:3,margin:new this.goWrapper.go.Margin(0,22,15,22),height:30,stretch:this.goWrapper.go.GraphObject.Horizontal,cursor:"alias"},new this.goWrapper.go.Binding("visible","",(()=>!this.modeReadOnly)),this.goWrapper.goMake(this.goWrapper.go.Shape,"RoundedRectangle",{fill:"transparent",stretch:this.goWrapper.go.GraphObject.Horizontal,strokeWidth:2,name:d.DiagramProperties.callBackNames.AddTransitionNode,fromLinkable:!0,toLinkable:!1,fromSpot:this.goWrapper.go.Spot.LeftRightSides,portId:d.DiagramProperties.callBackNames.AddTransitionNode,stroke:"#313131",strokeDashArray:[2,2]}),this.goWrapper.goMake(this.goWrapper.go.TextBlock,{font:"normal 26px sans-serif",alignment:new this.goWrapper.go.Spot(.5,.5),margin:new this.goWrapper.go.Margin(0,0,0,0),stroke:"black",wrap:this.goWrapper.go.TextBlock.WrapFit,isActionable:!1,text:"+"})))),this.makePort("T",new this.goWrapper.go.Spot(.5,0,0,5),this.goWrapper.go.Spot.Top),this.makePort("B",new this.goWrapper.go.Spot(.5,1,0,-5),this.goWrapper.go.Spot.Bottom),{mouseEnter:(e,n)=>{this.showSmallPorts(n,!0),n.findObject("btnStateToggleSize").visible=!0},mouseLeave:(e,n)=>{this.showSmallPorts(n,!1),n.findObject("btnStateToggleSize").visible=!0}},this.makeStartMark());return e.add("",r),e}};g.defaultConfig={enabled:!0,hidden:!0},g.RESIZETIMEOUT=500,r.__decorate([a.bindable,r.__metadata("design:type",Object)],g.prototype,"config",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Object)],g.prototype,"value",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Object)],g.prototype,"options",void 0),r.__decorate([a.bindable,r.__metadata("design:type",Object)],g.prototype,"confirmValue",void 0),g=b=r.__decorate([a.autoinject,(0,a.customElement)("qp-workflow-diagram"),r.__metadata("design:paramtypes",[l.EventAggregator,c.GoWrapper,o.WfDiagramServiceFabric,a.BindingEngine])],g),n.QPWorkflowDiagramCustomElement=g}.apply(n,o),void 0===i||(e.exports=i)},"plugins/bank-feed/qp-mx":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./utils/index.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpMxCustomElement=void 0;let a=class QpMxCustomElement{constructor(e){this.element=e}attached(){this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||"{}"),this.ds=o.PLATFORM.global.px_cm.findDataSource();const e=this.options,n=this.ds,r=this.element;(0,i.loadScript)("https://atrium.mx.com/connect.js",(()=>{new MXConnect({id:"mx-form-wrapper",iframeTitle:"Connect",onEvent:function onEvent(o,i){if("mx/connect/memberConnected"===o&&(this.memberData={user_guid:i.user_guid,member_guid:i.member_guid}),"mx/connect/stepChange"===o&&"connected"===i.previous)if(r.parentElement.removeChild(r),"Connect"===e.Mode){const e=JSON.stringify(this.memberData);n.executeCommand("SyncConnectFeed",e)}else{const e=JSON.stringify({updated:!1,error_reason:"Bank feed has been already connected."});n.executeCommand("SyncUpdateFeed",e)}if("mx/connect/updateCredentials"===o){r.parentElement.removeChild(r);const e=JSON.stringify({updated:!0});n.executeCommand("SyncUpdateFeed",e)}},config:{ui_message_version:4},targetOrigin:"*"}).load(e.Url)}))}cancelAndCloseForm(){this.element.parentElement.removeChild(this.element),"Connect"===this.options.Mode?this.ds.executeCommand("SyncConnectFeed",null):this.ds.executeCommand("SyncUpdateFeed",null)}};a=r.__decorate([(0,o.customElement)("qp-mx"),o.autoinject,r.__metadata("design:paramtypes",[Element])],a),n.QpMxCustomElement=a}.apply(n,o),void 0===i||(e.exports=i)},"./plugins/bank-feed/qp-plaid.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./utils/index.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpPlaidCustomElement=void 0;let a=class QpPlaidCustomElement{constructor(e){this.element=e}attached(){this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||"{}");const e=this.options,n=o.PLATFORM.global.px_cm.findDataSource();(0,i.loadScript)("https://cdn.plaid.com/link/v2/stable/link-initialize.js",(()=>{Plaid.create({token:e.Token,onSuccess:function onSuccess(r,o){const i={public_token:r,metadata:o};if("Update"===e.Mode){const e=JSON.stringify({updated:!0});n.executeCommand("SyncUpdateFeed",e)}else{const e=JSON.stringify(i);n.executeCommand("SyncConnectFeed",e)}},onExit:function onExit(r,o){if("Update"===e.Mode)if(null!==r){const e={updated:!1,error_reason:r.error_code},o=JSON.stringify(e);n.executeCommand("SyncUpdateFeed",o)}else n.executeCommand("SyncUpdateFeed",null);else n.executeCommand("SyncConnectFeed",null)},receivedRedirectUri:null}).open()}))}};a=r.__decorate([(0,o.customElement)("qp-plaid"),o.autoinject,o.noView,r.__metadata("design:paramtypes",[Element])],a),n.QpPlaidCustomElement=a}.apply(n,o),void 0===i||(e.exports=i)},"./plugins/css-theme/css-theme.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.updateCssVariables=void 0,n.updateCssVariables=function updateCssVariables(e){return r.__awaiter(this,void 0,void 0,(function*(){return e.fetch("frameset/cssvariables").then((e=>e.json())).then((e=>{const n=document.createElement("style");n.innerHTML=`:root {${e.variables}}`,document.head.appendChild(n)}))}))}}.apply(n,o),void 0===i||(e.exports=i)},"plugins/dependency-property-injection/index":function(e,n,r){var o,i;o=[r,n,r("./dependency-property-injection/index.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configure=void 0,n.configure=function configure(e){const n=e&&e.injectConstructor?r.PropertyConstructorInvocationHandler:r.PropertyInvocationHandler;e.container.setHandlerCreatedCallback((e=>e.fn.injectProperties?new n(e.fn,e.invoker,e.dependencies):e))}}.apply(n,o),void 0===i||(e.exports=i)},"plugins/enhance-n-watch/index":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./plugins/enhance-n-watch/mutation-enhancer.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configure=void 0,n.configure=function configure(e){e.aurelia.enhanceAndWatch=function(n,i){return r.__awaiter(this,void 0,void 0,(function*(){return e.aurelia.__me=new o.MutationEnhancer(e.aurelia,n),e.aurelia.__me.watch(i),this.enhance(n,i)}))},e.aurelia.stopWatch=function(){return r.__awaiter(this,void 0,void 0,(function*(){e.aurelia.__me instanceof o.MutationEnhancer&&e.aurelia.__me.unwatch()}))}}}.apply(n,o),void 0===i||(e.exports=i)},"./plugins/enhance-n-watch/mutation-enhancer.ts":function(e,n,r){var o,i;o=[r,n,r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MutationEnhancer=void 0;const i=(0,o.getLogger)("enhance-watch");n.MutationEnhancer=class MutationEnhancer{constructor(e,n){this.au=e,this.bindingContext=n,this.enhanceSelector="",this.container=e.container,this.engine=e.container.get(r.TemplatingEngine)}watch(e){this.enhanceSelector=Object.keys(this.au.resources.elements).filter((e=>-1===["compose","router-view"].indexOf(e))).map((e=>e.toLowerCase())).join(","),this.observer=new MutationObserver((e=>{this.onMutationcallback(e)})),this.observer.observe(r.PLATFORM.global.document,{childList:!0,subtree:!0})}unwatch(){this.observer&&this.observer.disconnect()}onMutationcallback(e){var n,r;for(const o of e)if("childList"===o.type){for(let e=0;e<o.addedNodes.length;e++){const n=o.addedNodes[e];if(n.nodeType!==Node.ELEMENT_NODE)continue;let r;r=this.au.resources.getElement(n.nodeName.toLowerCase())?[n]:n.querySelectorAll(this.enhanceSelector);for(let e=0;e<r.length;e++){const n=r[e];n.getAttribute("au-target-id")?n.au.controller.attached():this.engine.enhance({element:n,container:this.container,resources:this.au.resources,bindingContext:this.bindingContext})}}for(let e=0;e<o.removedNodes.length;e++){const a=o.removedNodes[e];if(a.nodeType!==Node.ELEMENT_NODE)continue;let l;l=this.au.resources.getElement(a.nodeName.toLowerCase())?[a]:a.querySelectorAll(this.enhanceSelector);for(let e=0;e<l.length;e++){const o=l[e];o.au||i.warn("no au-target-id on removed node",o),o.getAttribute("au-target-id")&&(null===(r=null===(n=o.au)||void 0===n?void 0:n.controller)||void 0===r||r.detached())}}}}}}.apply(n,o),void 0===i||(e.exports=i)},"./plugins/glue/glue-to-custom-attribute.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-templating/dist/native-modules/aurelia-templating.js"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),r("aurelia-event-aggregator"),r("./descriptors/index.ts")],i=function(e,n,r,o,i,a,l,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GlueToCustomAttribute=void 0;(0,i.getLogger)("glue-to-attribute");let d=class GlueToCustomAttribute{constructor(e,n){this.ea=n,this.element=e}bind(){}targetChanged(e,n){this.unsubscribeListeners(),this.glueAndObserve()}unsubscribeListeners(){this.repositionSubscription&&(this.repositionSubscription.dispose(),this.repositionSubscription=void 0),this.coordinateSystemSubscription&&(this.coordinateSystemSubscription.dispose(),this.coordinateSystemSubscription=void 0)}glueAndObserve(){this.target&&(this.coordinateSystemSubscription=this.ea.subscribe(c.COORDINATE_SYSTEM_CHANGED_EVENT_NAME,(e=>{this.glueNow(e)})),this.repositionSubscription=this.ea.subscribe(`repositioned:${this.target.id}`,(()=>{this.moveIfNecessary()})),this.glueNow())}attached(){this.glueAndObserve()}detached(){this.unsubscribeListeners()}moveIfNecessary(){if(!this.target)return;const e=this.target.getBoundingClientRect(),n=this.element.getBoundingClientRect();n.top===e.bottom&&n.left<=e.left&&n.right>=e.right||this.glueNow()}glueNow(e){var n,r,o,i,l,c,d,u,p;if(!this.target)return;const b=this.element;if(("wheel"===(null==e?void 0:e.type)||"scroll"===(null==e?void 0:e.type))&&e.target===b)return;const g=b.style;g.position="fixed",g.removeProperty("transform"),g.removeProperty("left"),g.removeProperty("top"),g.removeProperty("bottom"),g.removeProperty("height");const m=this.target.getBoundingClientRect();let f=m.width||m.right-m.left;(null===(n=this.options)||void 0===n?void 0:n.ignoreTargetWidth)?g.minWidth="auto":g.minWidth=`${f}px`;const v=b.getBoundingClientRect(),y=window.getComputedStyle(b),x=g.width||y.maxWidth,C=g.height||y.maxHeight,S=x&&parseInt(x)||v.width,D=C&&parseInt(C)||v.height,E=m.top,k=a.PLATFORM.global.innerHeight-m.bottom;let T,_,M,R=!(k>D||E<D);(null===(r=this.options)||void 0===r?void 0:r.stretch)&&(R=E>k);const I=a.PLATFORM.global.document.documentElement.getBoundingClientRect(),F=m.left+Math.min(S,v.width)>I.width;if(F){const e=Math.max(m.right,I.right);f=Math.min(S,v.width),g.minWidth=`${f}px`,_=e}else _=(null===(o=this.options)||void 0===o?void 0:o.centerToTarget)||m.width<30?Math.max(10,m.left+m.width/2-v.width/2):m.right<0?m.left:Math.max(10,m.left);let A=0;R?(T=m.top,M=F?"translate(-100%,-100%)":(null===(i=this.options)||void 0===i?void 0:i.verticalDistanceFromTargetPX)?`translateY(calc(-100% - ${null===(l=this.options)||void 0===l?void 0:l.verticalDistanceFromTargetPX}px))`:"translateY(-100%)",A=T):(T=m.bottom,M=F?"translateX(-100%)":(null===(c=this.options)||void 0===c?void 0:c.verticalDistanceFromTargetPX)?`translateY(${null===(d=this.options)||void 0===d?void 0:d.verticalDistanceFromTargetPX}px)`:"",A=I.bottom-T);const O=function getContainingBlockOffset(e){const n={top:0,left:0};if(!e)return n;const r=e.ownerDocument;let o=e.parentElement;for(;o&&o!==r.body&&o!==r.documentElement;){if(isContainingBlock(o))return o.getBoundingClientRect();o=o.parentElement}return n}(b);_-=O.left,T-=O.top,b.classList.toggle("glue-to-above",R);let P=NaN;(null===(u=this.options)||void 0===u?void 0:u.stretch)&&v.height>A?R?(T=10,M="none"):(T=NaN,P=10):((null===(p=this.options)||void 0===p?void 0:p.stretch)||v.height>A)&&(g.height=A-10+"px"),g.left=`${_}px`,Number.isNaN(T)||(g.top=`${T}px`),Number.isNaN(P)||(g.bottom=`${P}px`),g.transform=M,b.dispatchEvent(new CustomEvent("glued",{bubbles:!0}))}};function isContainingBlock(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;const n=a.PLATFORM.global.getComputedStyle(e);return n.containerType&&"normal"!==n.containerType||n.perspective&&"none"!==n.perspective||n.transform&&"none"!==n.transform||n.backdropFilter&&"none"!==n.backdropFilter||-1!==(n.willChange||"").indexOf("transform")||n.filter&&"none"!==n.filter||n.contain&&-1!==["layout","paint","strict","content"].indexOf(n.contain)}r.__decorate([(0,o.bindable)({primaryProperty:!0}),r.__metadata("design:type",Object)],d.prototype,"target",void 0),r.__decorate([o.bindable,r.__metadata("design:type",Object)],d.prototype,"options",void 0),d=r.__decorate([(0,o.customAttribute)("glue-to"),r.__metadata("design:paramtypes",[Element,l.EventAggregator])],d),n.GlueToCustomAttribute=d}.apply(n,o),void 0===i||(e.exports=i)},"plugins/glue/index":function(e,n,r){var o,i;o=[r,n,r("aurelia-framework"),r("./plugins/glue/glue-to-custom-attribute.ts"),r("aurelia-event-aggregator"),r("./descriptors/index.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configure=void 0,n.configure=function configure(e){e.globalResources([o.GlueToCustomAttribute]);const n=e.container.get(i.EventAggregator);function notifyAbsolutePositionsAreScrewed(e){n.publish(a.COORDINATE_SYSTEM_CHANGED_EVENT_NAME,e)}e.postTask((()=>{r.PLATFORM.global.document.addEventListener("scroll",(e=>{notifyAbsolutePositionsAreScrewed(e)}),{capture:!0,passive:!0}),r.PLATFORM.global.addEventListener("resize",(e=>{notifyAbsolutePositionsAreScrewed(e)}),{passive:!0})}))}}.apply(n,o),void 0===i||(e.exports=i)},"plugins/happeded-on-body/index":function(e,n,r){var o,i;o=[r,n,r("aurelia-framework"),r("aurelia-event-aggregator"),r("./descriptors/index.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configure=void 0,n.configure=function configure(e){const n=e.container.get(o.EventAggregator);e.postTask((()=>{r.PLATFORM.global.document.addEventListener("mousedown",(e=>{!function notifyMouseDownReachedBody(e){n.publish(i.MOUSE_DOWN_REACHED_BODY,e)}(e)}))})),e.postTask((()=>{r.PLATFORM.global.addEventListener("resize",(()=>{!function notifyResizeWindow(){const e={delay:250,timeoutId:void 0};e.timeoutId&&clearTimeout(e.timeoutId);e.timeoutId=setTimeout((()=>{n.publish(i.RESIZE_WINDOW)}),e.delay)}()}))})),e.postTask((()=>{r.PLATFORM.global.document.addEventListener("drop",(e=>{!function notifyDropOnBody(e){n.publish(i.DROP_ON_BODY,e)}(e)}))}))}}.apply(n,o),void 0===i||(e.exports=i)},"./plugins/index.ts":function(e,n,r){var o,i;o=[r,n,r("plugins/payment/qp-authorize-net"),r("plugins/payment/qp-stripe"),r("plugins/payment/qp-authorize-net-hosted-form"),r("plugins/payment/qp-fortis"),r("./plugins/bank-feed/qp-plaid.ts"),r("plugins/bank-feed/qp-mx"),r("plugins/glue/index"),r("plugins/enhance-n-watch/index"),r("plugins/happeded-on-body/index"),r("plugins/dependency-property-injection/index"),r("./plugins/css-theme/css-theme.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.updateCssVariables=n.configurePropertyInjection=n.configureHappenedOnBody=n.configureEnchanceAndWatch=n.configureGlue=n.QpMxCustomElement=n.QpPlaidCustomElement=n.QpFortisCustomElement=n.QpAuthorizeNetHostedFormCustomElement=n.QpStripeCustomElement=n.QpAuthorizeNetCustomElement=void 0,Object.defineProperty(n,"QpAuthorizeNetCustomElement",{enumerable:!0,get:function(){return r.QpAuthorizeNetCustomElement}}),Object.defineProperty(n,"QpStripeCustomElement",{enumerable:!0,get:function(){return o.QpStripeCustomElement}}),Object.defineProperty(n,"QpAuthorizeNetHostedFormCustomElement",{enumerable:!0,get:function(){return i.QpAuthorizeNetHostedFormCustomElement}}),Object.defineProperty(n,"QpFortisCustomElement",{enumerable:!0,get:function(){return a.QpFortisCustomElement}}),Object.defineProperty(n,"QpPlaidCustomElement",{enumerable:!0,get:function(){return l.QpPlaidCustomElement}}),Object.defineProperty(n,"QpMxCustomElement",{enumerable:!0,get:function(){return c.QpMxCustomElement}}),Object.defineProperty(n,"configureGlue",{enumerable:!0,get:function(){return d.configure}}),Object.defineProperty(n,"configureEnchanceAndWatch",{enumerable:!0,get:function(){return u.configure}}),Object.defineProperty(n,"configureHappenedOnBody",{enumerable:!0,get:function(){return p.configure}}),Object.defineProperty(n,"configurePropertyInjection",{enumerable:!0,get:function(){return b.configure}}),Object.defineProperty(n,"updateCssVariables",{enumerable:!0,get:function(){return g.updateCssVariables}})}.apply(n,o),void 0===i||(e.exports=i)},"plugins/payment/qp-authorize-net-hosted-form":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("aurelia-framework"),r("./utils/index.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpAuthorizeNetHostedFormCustomElement=n.configure=void 0,n.configure=function configure(e){e.globalResources([l])};let l=class QpAuthorizeNetHostedFormCustomElement{constructor(e){this.element=e}attached(){this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||"");const e=document.getElementById("acceptButton");switch(e.setAttribute("data-apiLoginID",this.options.apiLoginID),e.setAttribute("data-clientKey",this.options.clientKey),this.options.type){case"AcceptUI_SANDBOX":(0,a.loadScript)("https://jstest.authorize.net/v3/AcceptUI.js",(()=>{e.click()}));break;case"AcceptUI_PRODUCTION":(0,a.loadScript)("https://js.authorize.net/v3/AcceptUI.js",(()=>{e.click()}))}o.PLATFORM.global.responseHandler=function(e){if("Error"===e.messages.resultCode){let n=0;for(;n<e.messages.message.length;)console.log(`${e.messages.message[n].code}:${e.messages.message[n].text}`),n+=1}else{o.PLATFORM.global.px_cm.findDataSource().executeCommand("SyncPaymentTransaction",e.opaqueData.dataValue)}}}};l=r.__decorate([(0,i.customElement)("qp-authorize-net-hosted-form"),r.__metadata("design:paramtypes",[Element])],l),n.QpAuthorizeNetHostedFormCustomElement=l}.apply(n,o),void 0===i||(e.exports=i)},"plugins/payment/qp-authorize-net":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./utils/index.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpAuthorizeNetCustomElement=void 0;let a=class QpAuthorizeNetCustomElement{constructor(e){this.element=e,this.cardData={cardNumber:"",month:"",year:"",cardCode:""},this.authData={clientKey:"",apiLoginID:""},this.secureData={authData:this.authData,cardData:this.cardData}}attached(){this.initPopup()}initPopup(){switch(this.options=JSON.parse(this.element.getAttribute("options")||""),this.authData.clientKey=this.options.clientKey,this.authData.apiLoginID=this.options.apiLoginID,this.options.type){case"Accept_SANDBOX":(0,i.loadScript)("https://jstest.authorize.net/v1/Accept.js",this.initHostedForm.bind(this));break;case"Accept_PRODUCTION":(0,i.loadScript)("https://js.authorize.net/v1/Accept.js",this.initHostedForm.bind(this))}}closePaymentForm(){this.cardData.cardNumber="",this.cardData.month="",this.cardData.year="",this.cardData.cardCode="",this.element.style.display="none"}initHostedForm(){this.element.style.display="block"}sendPaymentDataToAnet(){Accept.dispatchData(this.secureData,(e=>{if("Error"===e.messages.resultCode){let n=0;for(;n<e.messages.message.length;)console.log(`${e.messages.message[n].code}:${e.messages.message[n].text}`),n+=1}else{o.PLATFORM.global.px_cm.findDataSource().executeCommand("SyncPaymentTransaction",e.opaqueData.dataValue),this.closePaymentForm()}}))}};a=r.__decorate([(0,o.customElement)("qp-authorize-net"),o.autoinject,r.__metadata("design:paramtypes",[Element])],a),n.QpAuthorizeNetCustomElement=a}.apply(n,o),void 0===i||(e.exports=i)},"plugins/payment/qp-fortis":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/localization.ts"),r("aurelia-framework"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpFortisCustomElement=void 0;const c=(0,l.getLogger)("qp-fortis");let d=class QpFortisCustomElement{constructor(e,n){this.element=e,this.http=n,this.shiftX=0,this.shiftY=0,this.isMobile=!1,this.title="",this.receiveMessageListener=e=>this.receiveMessage(e),this._bindMouseMove=e=>this.onMouseMove(e),this._bindRemoveMouseListeners=()=>this.removeMouseListeners(),this.localizedStrings=o.LOCALIZED_STRINGS.payment}attached(){this.isMobile=!this.getDataSource(),this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||"");const e=this.options.Url.replace(/&amp;/g,"&"),n=this.options.Mode,r=this.options.PaymentMethod,o=document.getElementById("payment-form-fortis"),i=document.createElement("iframe");i.setAttribute("src",e),i.style.background="#f5f7f8","payment"===n?"cc"===r?(this.title=this.localizedStrings.TitlePay,i.setAttribute("class","payformccsize")):"ach"===r&&(this.title=this.localizedStrings.TitlePayEFT,i.setAttribute("class","payformachsize")):"newProfile"===n&&("cc"===r?(this.title=this.localizedStrings.TitleCreateProfile,i.setAttribute("class","accountformccsize")):"ach"===r&&(this.title=this.localizedStrings.TitleCreateProfileEFT,i.setAttribute("class","accountformachsize"))),i.style.border="0px",null==o||o.appendChild(i),this.isMobile&&o&&(o.style.left=`${(screen.width/2-i.offsetWidth/2).toString()}px`),o.style.width="fit-content",window.addEventListener("message",this.receiveMessageListener,!1)}executeCommand(e,n){const r=this.getDataSource();r?r.executeCommand(e,n):window.location.replace(this.createUrlForMobile(e,n))}createUrlForMobile(e,n){return`${window.location.href.split("/Frames/")[0]}/CCService?ServiceAction=AcceptPluginPayment${this.element.getAttribute("mobileOptions")}&Command=${e}&Result=${n}`}callGraphMethod(e,n,r){this.http.fetch(`ui/plugin/${e}/${n}/${r}/info`,{method:"Post",headers:{"X-XSRF-TOKEN":i.PLATFORM.global.px.GetAntiForgeryToken()}})}getDataSource(){return i.PLATFORM.global.px_cm.findDataSource()||window.parent.parent.px_cm.findDataSource()}confirmTransactionAndClose(e){const n=document.getElementById("payment-form-fortis"),r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name","response"),r.setAttribute("value",e),n.appendChild(r),this.executeCommand("SyncPaymentTransaction",e),this.closePaymentForm()}confirmVaultAndClose(e){const n=document.getElementById("payment-form-fortis"),r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name","response"),r.setAttribute("value",e),n.appendChild(r),this.executeCommand("SyncCCPaymentMethods",e),this.closePaymentForm()}cancelAndClosePaymentForm(){switch(this.options.Mode){case"payment":this.executeCommand("SyncPaymentTransaction","__CLOSECCHFORM");break;case"newProfile":this.executeCommand("SyncCCPaymentMethods","__CLOSECCHFORM")}this.closePaymentForm()}closePaymentForm(){window.removeEventListener("message",this.receiveMessageListener,!1),this.element.parentElement&&this.element.parentElement.removeChild(this.element)}receiveMessage(e){const n=this.options.HostName;if(e.origin===n)if("close"===e.data)this.cancelAndClosePaymentForm();else switch(this.options.Mode){case"payment":const n=JSON.parse(e.data).id;this.confirmTransactionAndClose(n);break;case"newProfile":const r=JSON.parse(e.data).id;this.confirmVaultAndClose(r)}else c.warn(`Received a message with unexpected origin: ${e.origin}`)}mouseDown(e){this.shiftX=e.clientX-this.paymentForm.getBoundingClientRect().left,this.shiftY=e.clientY-this.paymentForm.getBoundingClientRect().top,this.element.addEventListener("mousemove",this._bindMouseMove),this.element.addEventListener("mouseup",this._bindRemoveMouseListeners),this.element.addEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.add("payment-form-being-dragged")}onMouseMove(e){this.paymentForm.style.left=e.pageX-this.shiftX+"px",this.paymentForm.style.top=e.pageY-this.shiftY+"px"}removeMouseListeners(){this.element.removeEventListener("mousemove",this._bindMouseMove),this.element.removeEventListener("mouseup",this._bindRemoveMouseListeners),this.element.removeEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.remove("payment-form-being-dragged")}};r.__decorate([i.bindable,r.__metadata("design:type",HTMLElement)],d.prototype,"paymentForm",void 0),d=r.__decorate([(0,i.customElement)("qp-fortis"),i.autoinject,r.__metadata("design:paramtypes",[Element,a.HttpClient])],d),n.QpFortisCustomElement=d}.apply(n,o),void 0===i||(e.exports=i)},"plugins/payment/qp-stripe":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/localization.ts"),r("./utils/index.ts"),r("aurelia-framework"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QpStripeCustomElement=void 0;const c=["Name","AddressLine1","AddressLine2","City","State","Zip","Phone","Email"];let d=class QpStripeCustomElement{constructor(e,n){this.element=e,this.http=n,this.title="",this.buttonCaption="",this.sum="",this.currency="",this.errors="",this.notReady=!0,this.fields=c,this.completeData={cardNumber:!1,cvc:!1,expirationDate:!1},this.shiftX=0,this.shiftY=0,this.separateBefore="Phone",this.isMobile=!1,this._bindMouseMove=e=>this.onMouseMove(e),this._bindRemoveMouseListeners=()=>this.removeMouseListeners(),this.localizedStrings=o.LOCALIZED_STRINGS.payment}attached(){this.isMobile=!this.getDataSource(),this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||""),this.options.required=["AddressLine1","Zip"],this.options.AddressVerification&&this.options.required.forEach((e=>{this.completeData[e]=!1})),this.element.style.display="block",(0,i.loadScript)("https://js.stripe.com/v3/",this.initHostedForm.bind(this))}keyDown(e){switch(e.key){case"Enter":null===this.payButton.getAttribute("disabled")&&this.submitPayment(e);break;case"Esc":case"Escape":this.cancelAndClosePaymentForm()}return!0}keyInputDown(e,n,r){return"Tab"===e.key&&(e.preventDefault(),e.stopPropagation(),document.getElementById(e.shiftKey?r:n).focus()),!0}initHostedForm(){var e,n;this.stripe=Stripe(this.options.ApiLoginID,{apiVersion:this.options.ApiVersion,locale:this.options.Locale});const r=this.stripe.elements(),o={base:{fontSize:"13px",color:"#32325d","::placeholder":{color:"#C6C6C6"}}};this.cardNumber=r.create("cardNumber",{showIcon:!0,style:o,placeholder:"0000 0000 0000 0000"}),this.cardNumber.mount("#card-number");const i=r.create("cardExpiry",{style:o});switch(this.cardNumber.on("change",(e=>{this.updateComplete(this.cardNumberLabel,"cardNumber",e.complete),e.complete&&i.focus(),e.error,this.checkCompleteness()})),this.updateComplete(this.cardNumberLabel,"cardNumber",!1),this.cardNumber.on("ready",(()=>{this.cardNumber.focus()})),i.mount("#card-expiry"),this.cardCvc=r.create("cardCvc",{style:o}),this.updateComplete(this.cardExpiryLabel,"expirationDate",!1),null===(e=this.cardCvc)||void 0===e||e.mount("#card-cvc"),i.on("change",(e=>{var n;this.updateComplete(this.cardExpiryLabel,"expirationDate",e.complete),e.complete&&(null===(n=this.cardCvc)||void 0===n||n.focus()),e.error,this.checkCompleteness()})),this.updateComplete(this.cardCvcLabel,"cvc",!1),null===(n=this.cardCvc)||void 0===n||n.on("change",(e=>{this.updateComplete(this.cardCvcLabel,"cvc",e.complete),e.complete&&this.payButton.focus(),e.error,this.checkCompleteness()})),this.payButton.addEventListener("click",this.submitPayment.bind(this)),this.options.Mode){case"payment":case"motopayment":this.sum=this.options.Amount,this.currency=this.options.Currency,this.title=this.localizedStrings.TitlePay,this.buttonCaption=this.localizedStrings.Pay;break;case"newProfile":this.title=this.localizedStrings.TitleCreateProfile,this.buttonCaption=this.localizedStrings.Save}this.fields.forEach((e=>{const n=document.getElementById(e);n.value=this.options[e]||"",void 0!==this.completeData[e]&&(n.previousElementSibling.setAttribute("required",""),this.checkFieldCompleteness(n),n.onkeyup=this.checkFieldCompleteness.bind(this,n))})),this.options.CVVVerification&&this.cardCvcLabel.setAttribute("required","")}checkFieldCompleteness(e){this.updateComplete(e.previousElementSibling,e.id,""!==e.value),this.checkCompleteness()}updateComplete(e,n,r){this.completeData[n]=r,r?e.classList.remove("field-warning"):(e.classList.add("field-warning"),this.completeData[e.id]=!1)}checkCompleteness(){let e=!0;this.options.AddressVerification&&this.options.required.forEach((n=>{this.completeData[n]||(e=!1)})),this.completeData.cardNumber&&this.completeData.expirationDate&&(this.completeData.cvc||!this.options.CVVVerification)&&e?this.payButton.removeAttribute("disabled"):this.payButton.setAttribute("disabled","")}submitPayment(e){var n;e.preventDefault();const r=document.getElementById("payment-form"),getVal=e=>{const n=r.querySelector(e);return n&&n.value||void 0},o={name:getVal("#Name"),email:getVal("#Email"),phone:getVal("#Phone"),address:{city:getVal("#City"),line1:getVal("#AddressLine1"),line2:getVal("#AddressLine2"),postal_code:getVal("#Zip"),state:getVal("#State")}};switch(this.options.CVVVerification||this.completeData.cvc||null===(n=this.cardCvc)||void 0===n||n.unmount(),this.options.Mode){case"payment":this.stripe.confirmCardPayment(this.options.ClientKey,{payment_method:{card:this.cardNumber,billing_details:o}}).then((e=>{e.error?this.errors=e.error.message:this.stripePaymentHandler(e.paymentIntent.id,"SyncPaymentTransaction")}));break;case"motopayment":this.stripe.createPaymentMethod({type:"card",card:this.cardNumber,billing_details:o}).then((e=>{e.error?this.errors=e.error.message:this.stripePaymentHandler(`${this.options.ClientKey}+${e.paymentMethod.id}`,"SyncPaymentTransaction")}));break;case"newProfile":this.stripe.createSource(this.cardNumber,{owner:o}).then((e=>{e.error?this.errors=e.error.message:this.stripePaymentHandler(e.source.id,"SyncCCPaymentMethods")}))}}executeCommand(e,n){const r=this.getDataSource();r?r.executeCommand(e,n):window.location.replace(this.createUrlForMobile(e,n))}createUrlForMobile(e,n){return`${window.location.href.split("/Frames/")[0]}/CCService?ServiceAction=AcceptPluginPayment${this.element.getAttribute("mobileOptions")}&Command=${e}&Result=${n}`}callGraphMethod(e,n,r){this.http.fetch(`ui/plugin/${e}/${n}/${r}/info`,{method:"Post",headers:{"X-XSRF-TOKEN":a.PLATFORM.global.px.GetAntiForgeryToken()}})}stripePaymentHandler(e,n){const r=document.getElementById("payment-form"),o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name","stripeToken"),o.setAttribute("value",e),r.appendChild(o),this.executeCommand(n,e),this.closePaymentForm()}getDataSource(){return a.PLATFORM.global.px_cm.findDataSource()||window.parent.parent.px_cm.findDataSource()}cancelAndClosePaymentForm(){switch(this.options.Mode){case"payment":case"motopayment":this.executeCommand("SyncPaymentTransaction","__CLOSECCHFORM");break;case"newProfile":this.executeCommand("SyncCCPaymentMethods","__CLOSECCHFORM")}this.closePaymentForm()}closePaymentForm(){this.element.parentElement.removeChild(this.element)}mouseDown(e){this.shiftX=e.clientX-this.paymentForm.getBoundingClientRect().left,this.shiftY=e.clientY-this.paymentForm.getBoundingClientRect().top,this.element.addEventListener("mousemove",this._bindMouseMove),this.element.addEventListener("mouseup",this._bindRemoveMouseListeners),this.element.addEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.add("payment-form-being-dragged")}onMouseMove(e){this.paymentForm.style.left=e.pageX-this.shiftX+"px",this.paymentForm.style.top=e.pageY-this.shiftY+"px"}removeMouseListeners(){this.element.removeEventListener("mousemove",this._bindMouseMove),this.element.removeEventListener("mouseup",this._bindRemoveMouseListeners),this.element.removeEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.remove("payment-form-being-dragged")}};r.__decorate([a.bindable,r.__metadata("design:type",HTMLElement)],d.prototype,"payButton",void 0),r.__decorate([a.bindable,r.__metadata("design:type",HTMLElement)],d.prototype,"paymentForm",void 0),r.__decorate([a.bindable,r.__metadata("design:type",HTMLElement)],d.prototype,"cardNumberLabel",void 0),r.__decorate([a.bindable,r.__metadata("design:type",HTMLElement)],d.prototype,"cardExpiryLabel",void 0),r.__decorate([a.bindable,r.__metadata("design:type",HTMLElement)],d.prototype,"cardCvcLabel",void 0),d=r.__decorate([(0,a.customElement)("qp-stripe"),a.autoinject,r.__metadata("design:paramtypes",[Element,l.HttpClient])],d),n.QpStripeCustomElement=d}.apply(n,o),void 0===i||(e.exports=i)},"plugins/wiki-tooltip/index":function(e,n,r){var o,i;o=[r,n,r("aurelia-framework"),r("plugins/wiki-tooltip/qp-wiki-tooltip"),r("aurelia-event-aggregator")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configure=void 0,n.configure=function configure(e){e.globalResources([o.QpWikiTooltipCustomElement]),e.container.get(i.EventAggregator),e.postTask((()=>{const e=r.PLATFORM.global.document.createElement("QP-WIKI-TOOLTIP");r.PLATFORM.global.document.body.insertAdjacentElement("beforeend",e)}))}}.apply(n,o),void 0===i||(e.exports=i)},"plugins/wiki-tooltip/qp-wiki-tooltip":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("aurelia-event-aggregator"),r("aurelia-framework"),r("./services/hover-activator-service/hover-activator-service.ts"),r("./utils/platform-dependable-utils.ts"),r("./services/messages.ts"),r("./services/wiki-tooltip-service.ts")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";var p;Object.defineProperty(n,"__esModule",{value:!0}),n.QpWikiTooltipCustomElement=void 0;let b=p=class QpWikiTooltipCustomElement{constructor(e,n,r,o,i){this.element=e,this.hoverService=n,this.eventAggregator=r,this.wikiTooltipServiceFabric=o,this.tq=i,this.wordDic={labelHover:"label-hover",cbLabel:"cb-label"},this.dataCache=new Map,this.uiWikiData={},this.messages=d.Messages,this.setting={behavior:u.WikiBehavior.Disabled},this.showInGridColumnHeaderDelegate=e=>this.showInGridColumnHeader(e.detail),this.moreClickDelegate=e=>this.moreClick(e),this.moreMouseDownDelegate=e=>this.moreMouseDown(e),this.hoverSubscriptionOptions={activateAfter:250,onActivate:e=>this.showInLabel(e),onDeactivate:()=>{this.hide()}}}getHelpPanel(){return this.helpPanel||(FramesetHostedFrame.available()?this.helpPanel=new FramesetHostedFrame:this.helpPanel=new SelfHostedFrame),this.helpPanel}attached(){return r.__awaiter(this,void 0,void 0,(function*(){yield this.initSetting(),this.setting=this.setting,this.subscribeTo(document.body),document.body.addEventListener(p.customEventName,this.showInGridColumnHeaderDelegate),a.PLATFORM.addEventListener("click",this.moreClickDelegate,!0),a.PLATFORM.addEventListener("mousedown",this.moreMouseDownDelegate,!0)}))}initSetting(){return r.__awaiter(this,void 0,void 0,(function*(){this.ensureWikiTooltipService();const e=yield this.wikiTooltipService.getWikiSetting();e&&(this.setting=e)}))}detached(){var e;null===(e=this.subscription)||void 0===e||e.dispose(),this.subscription=void 0,this.unsubscribeFromMouseDownOnDocument(),document.body.removeEventListener(p.customEventName,this.showInGridColumnHeaderDelegate),a.PLATFORM.removeEventListener("click",this.moreClickDelegate),a.PLATFORM.removeEventListener("mousedown",this.moreMouseDownDelegate),this.hide()}ensureWikiTooltipService(){void 0===this.wikiTooltipService&&(this.wikiTooltipService=this.wikiTooltipServiceFabric.getWikiTooltipService())}moreMouseDown(e){this.isCorrectButton(e.target)&&e.stopImmediatePropagation()}moreClick(e){var n,r,o;if(!this.isCorrectButton(e.target))return;const i=this.getHelpPanel();if(!i)return;const a=null===(n=document.querySelector("div#page-caption a#usrTitle"))||void 0===n?void 0:n.innerText,l=document.location.pathname.replace(/.*\/Pages/gi,"~/Pages"),c=`screenId=${null===(r=window.__screenID)||void 0===r?void 0:r.replace(/\./gi,"")}&labelText=${this.uiWikiData.labelText}&screenTitle=${a}&clientId=${this.uiWikiData.clientId}&path=${l}`,d=document.location.href.replace(/(pages|frames).*/gi,"");i.show(`${d}Customization/WikiTooltip.aspx?${c}`),this.hide(),(null===(o=this.uiWikiData.gridFilterDialog)||void 0===o?void 0:o.topBtnPanel)&&this.uiWikiData.gridFilterDialog.hide(),e.stopImmediatePropagation()}isCorrectButton(e){return e&&e.classList.contains("btn-small-more-local")}displayInLabel(e,n=0){var r,o;let i=e.parentElement;"SPAN"===i.tagName&&i.classList.contains(this.wordDic.cbLabel)&&(i=i.parentElement);const a=i.getBoundingClientRect(),l=i.querySelector("input[type='checkbox']");if(l&&!i.querySelector(`label.${this.wordDic.cbLabel}`)){let n="";if("LABEL"===(null===(r=l.previousElementSibling)||void 0===r?void 0:r.tagName)&&(n="beforebegin"),"LABEL"===(null===(o=l.nextElementSibling)||void 0===o?void 0:o.tagName)&&(n="afterend"),n){const r=document.createElement("SPAN");r.setAttribute("class",this.wordDic.cbLabel);let o=0;if("beforebegin"===n){const n=e.getBoundingClientRect();o=l.getBoundingClientRect().x-n.x-n.width;const i=e.clientWidth+o;r.style.width=`${i}px`}r.insertAdjacentElement("beforeend",e),l.insertAdjacentElement(n,r)}}i.style.display="flex",i.style.maxWidth=`${a.width}px`,"SPAN"===i.tagName&&(i.style.alignItems="center"),e.classList.add(this.wordDic.labelHover),e.insertAdjacentElement("afterend",this.btnMore.cloneNode(!0))}displayInGridColumnHeader(e,n=!0){const r=e.topBtnPanel.firstElementChild;r.innerHTML="",n?(e.topBtnPanel.style.display="",r.removeAttribute("class"),r.insertAdjacentElement("beforeend",this.btnMoreOfMenu.cloneNode(!0))):e.topBtnPanel.style.display="none"}showInLabel(e){if(this.setting.behavior===u.WikiBehavior.Disabled)return;if(e.mouseX&&e.target!==document.elementFromPoint(e.mouseX,e.mouseY))return void this.hide();const n=this.whereHappened(e);if(n.self)return;if(this.hide(),!n.label||!n.text)return;const{clientId:r,labelText:o}=this.getElementProps(e);r&&(this.dataCache.has(r)&&!this.dataCache.get(r)||(this.uiWikiData.clientId=r,this.uiWikiData.labelText=o,r&&this.dataCache.has(r)?this.dataCache.get(r)&&this.displayInLabel(e.target,n.textWith):this.show(r).then((r=>{r&&this.displayInLabel(e.target,n.textWith)}))))}showInGridColumnHeader(e){if(this.setting.behavior===u.WikiBehavior.Disabled)return;this.hide(),this.displayInGridColumnHeader(e,!1);const{clientId:n,labelText:r}=this.getElementProps(void 0,e);n&&this.dataCache.has(n)&&!this.dataCache.get(n)||(this.uiWikiData.clientId=n,this.uiWikiData.labelText=r,this.uiWikiData.gridFilterDialog=e,n&&(this.dataCache.has(n)?this.dataCache.get(n)&&this.displayInGridColumnHeader(e):this.show(n).then((n=>{this.displayInGridColumnHeader(e,n)}))))}show(e){const n={pagePath:document.location.pathname.replace(/.*\/Pages/gi,"~/Pages"),clientId:e};return this.dataCache.set(e,!1),this.wikiTooltipService.getWikiTooltip(n).then((n=>(n&&this.dataCache.set(e,!0),!!n)))}hide(){var e,n;const r=null===(e=this.hoverService.lastMouseCoords)||void 0===e?void 0:e.x,o=null===(n=this.hoverService.lastMouseCoords)||void 0===n?void 0:n.y;if(r&&o){const e=document.elementFromPoint(r,o);if(this.isCorrectButton(e))return}document.querySelectorAll(`label.${this.wordDic.labelHover}`).forEach((e=>{let n=e.parentElement;const r=e.nextSibling;n&&r&&n.removeChild(r),"SPAN"===n.tagName&&n.classList.contains(this.wordDic.cbLabel)&&(n=n.parentElement),n.style.maxWidth="",e.classList.remove(this.wordDic.labelHover)}))}whereHappened(e){var n,r;const o=e.target,i="LABEL"===o.tagName||"LABEL"===(null===(n=o.parentElement)||void 0===n?void 0:n.tagName);let a=!1,l=0;if(i){const n="LABEL"===o.tagName?o.childNodes[0]:null===(r=o.parentElement)||void 0===r?void 0:r.childNodes[0];if(n){const r=document.createRange();r.selectNode(n);l=r.getBoundingClientRect().width,a=e.relativeX<l,r.detach()}}return{self:this.isCorrectButton(o)||i&&this.isCorrectButton(o.nextElementSibling),form:"TD"===o.tagName,label:i,text:a,textWith:l}}getElementProps(e,n){var r;let o,i;if(n){const e=n.linkedCol;return e.dataField&&(o=`${e.statHeaderElem.id}|dataField=${e.dataField}`),e.dataCmd&&(o=`${e.statHeaderElem.id}|dataCmd=${e.dataCmd}`),i=e.statHeaderElem.innerText,{clientId:o,labelText:i}}return e&&"LABEL"===e.target.nodeName?(i=null===(r=e.target.innerText)||void 0===r?void 0:r.replace(/:/g,""),o=e.target.getAttribute("for")||void 0,{clientId:o,labelText:i}):{clientId:o,labelText:i}}subscribeTo(e){var n;null===(n=this.subscription)||void 0===n||n.dispose(),this.subscription=void 0,this.subscription=this.hoverService.subscribeTo(e,this.hoverSubscriptionOptions)}unsubscribeFromMouseDownOnDocument(){var e,n;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0,null===(n=this.gridColumnSubscription)||void 0===n||n.dispose(),this.gridColumnSubscription=void 0}};b.customEventName="gridFilterStateSet",b=p=r.__decorate([(0,o.customElement)("qp-wiki-tooltip"),o.autoinject,r.__metadata("design:paramtypes",[Element,l.HoverActivatorService,i.EventAggregator,u.WikiTooltipServiceFabric,o.TaskQueue])],b),n.QpWikiTooltipCustomElement=b;class SelfHostedFrame{constructor(){this.wikiTooltipBodyShadow=document.createElement("DIV"),this.wikiTooltipBodyShadow.setAttribute("id","wikiTooltipBodyShadow"),this.wikiTooltipSidePanel=document.createElement("DIV"),this.wikiTooltipSidePanel.setAttribute("id","wikiTooltipSidePanel"),this.wikiTooltipSidePanelIFrame=document.createElement("IFRAME"),this.wikiTooltipSidePanelIFrame.setAttribute("frameborder","0"),this.wikiTooltipSidePanel.appendChild(this.wikiTooltipSidePanelIFrame),document.body.appendChild(this.wikiTooltipBodyShadow),document.body.appendChild(this.wikiTooltipSidePanel),this.doc=this.wikiTooltipSidePanelIFrame.contentDocument;const e=(null===c.topDocument||void 0===c.topDocument?void 0:c.topDocument.querySelector("#pnlQuickHelp"))||void 0;this.liQuickHelp=(null==e?void 0:e.parentElement)||void 0,this.wikiTooltipBodyShadow.addEventListener("click",(()=>{var e;null===(e=this.liQuickHelp)||void 0===e||e.classList.remove("open"),this.wikiTooltipBodyShadow.style.display="none",this.wikiTooltipSidePanel.style.display="none",document.scrollingElement.style.overflow=""}),!0)}show(e){var n;null===(n=this.liQuickHelp)||void 0===n||n.classList.add("open"),this.wikiTooltipBodyShadow.style.display="block",this.wikiTooltipSidePanel.style.display="block",document.scrollingElement.style.overflow="hidden",this.wikiTooltipSidePanelIFrame.contentDocument.body.innerText="",this.wikiTooltipSidePanelIFrame.src=e}}class FramesetHostedFrame{constructor(){this.frameset=c.topWindow}show(e){var n,r;null===(r=null===(n=this.frameset)||void 0===n?void 0:n.frameHelper)||void 0===r||r.showWikiTooltip(e)}static available(){var e;const n=null===c.topWindow||void 0===c.topWindow?void 0:c.topWindow.frameHelper;return!!(null===(e=null==n?void 0:n.showWikiTooltipInFrameset)||void 0===e?void 0:e.call(n))}}}.apply(n,o),void 0===i||(e.exports=i)},"./services/alert-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("aurelia-dialog"),r("controls/dialog/alert/qp-alert")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AlertService=void 0;let l=class AlertService{constructor(e){this.dialogService=e}openAlert(e){let n,r;const o=new Promise(((e,o)=>{n=e,r=o}));return this.dialogService.open({viewModel:a.QpAlertComponent,model:e,lock:!0}).whenClosed((e=>{e.wasCancelled?r():n(e.output)})),o}};l=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[i.DialogService])],l),n.AlertService=l}.apply(n,o),void 0===i||(e.exports=i)},"./services/api-client.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("aurelia-framework"),r("./descriptors/index.ts"),r("../node_modules/whatwg-fetch/fetch.js")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ApiClient=void 0;let l=class ApiClient{constructor(e){this.client=e}getBranchData(e,n){return this.client.fetch("ui/BranchSelector/Pass",{method:"POST",body:(0,o.json)(e),signal:n}).then((e=>e.json()))}getBranchTree(e,n){return this.client.fetch("ui/BranchSelector/Tree",{method:"POST",body:(0,o.json)(e),signal:n}).then((e=>e.json()))}getSuggestionData(e,n){return this.client.fetch("ui/Selector/GetSuggestions",{method:"POST",body:(0,o.json)(e),signal:n}).then((e=>e.json()))}getWikiTooltipData(e,n){return this.client.get(`apiweb/wikitooltip/presence?pagePath=${e.pagePath}&clientId=${e.clientId}`,{signal:n}).then((e=>e.ok&&e.status===a.HttpCodes.Ok?e.json():null)).catch((n=>console.log("Error: ",e)))}getWikiSetting(){return r.__awaiter(this,void 0,void 0,(function*(){try{const e=yield this.client.get("apiweb/wikitooltip/GetSetting");if(e.ok&&e.status==a.HttpCodes.Ok)return yield e.json()}catch(e){console.log("Error: ",e)}return null}))}};l=r.__decorate([i.autoinject,r.__metadata("design:paramtypes",[o.HttpClient])],l),n.ApiClient=l}.apply(n,o),void 0===i||(e.exports=i)},"./services/base-api-client.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./descriptors/types.ts"),r("aurelia-event-aggregator"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("./descriptors/api-types.ts"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("./descriptors/index.ts"),r("./dependency-property-injection/index.ts"),r("./utils/platform-dependable-utils.ts"),r("./services/messages.ts"),r("./utils/index.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HttpFetchRunningEvent=n.BaseApiClient=n.asApiCallPromise=n.CallbackQueue=void 0;class CallbackQueue{constructor(){this.pendingCallbacks=new Array}push(e){this.pendingCallbacks.push(e)}shift(){return this.pendingCallbacks.shift()}hasItems(){return this.pendingCallbacks.length>0}}function preprocess(e,n){return this.preprocessRequired=!0,this.then(e,n)}function asApiCallPromise(e){return e.whenDataReady=preprocess,e}n.CallbackQueue=CallbackQueue,n.asApiCallPromise=asApiCallPromise;let m=class BaseApiClient{constructor(e,n,r,o,i,a,l){this.client=e,this.configuration=n,this.callbackQueue=o,this.eventAggregator=i,this.redirector=a,this.busyCounter=l,this.callbackRunning=!1,this.blockPage=!1,this.configuration&&this.client.configure(this.configuration),r&&this.client.configure((e=>e.withBaseUrl(r)))}getExt(e,n=!0){return r.__awaiter(this,void 0,void 0,(function*(){let r;this.callbackRunning=!0,n&&(this.blockPage=!0),this.eventAggregator.publish(new HttpFetchRunningEvent(this.callbackRunning,this.blockPage));try{r=yield this.client.fetch(e,{method:"GET",credentials:"include"})}catch(e){throw e.message&&console.error(e),new l.ErrorInfo(-1,e)}finally{this.resetCallbackRunning()}switch(r.status){case l.HttpCodes.Ok:return r.json();case l.HttpCodes.NoContent:return new Promise(((e,n)=>e(void 0)));case l.HttpCodes.ServerError:{const e=yield this.getResultData(r);throw this.showError(l.HttpCodes.ServerError,e),e}case l.HttpCodes.BadRequest:}return r.json()}))}fetch(e,n,o){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetch(e,{method:"POST",body:n,signal:o})}))}fetchExt(e,n,r=!0,o){let i,a;const l=asApiCallPromise(new Promise(((e,n)=>{i=e,a=n})));return l.finally((()=>{if(this.resetCallbackRunning(),this.callbackQueue.hasItems()){const e=this.callbackQueue.shift();e&&this.fetchExtInternal(this.client,e.url,e.data,e.resolve,e.reject,e.blockPage,l)}})),this.callbackRunning?(this.callbackQueue.push(new CallbackInfo(e,n,i,a,r)),l):(this.fetchExtInternal(this.client,e,n,i,a,r,l,o),l)}getResultData(e){return new Promise(((n,r)=>{e.json().then((e=>{n(e)}),(e=>{r(new l.ErrorInfo(-1,e))}))}))}showError(e,n){const r=new l.ErrorInfo(e,n);return this.eventAggregator.publish(d.ApiCientEvents.ErrorRaisedEvent,r),r}fetchExtInternal(e,n,o,i,a,c=!0,d,u){return r.__awaiter(this,void 0,void 0,(function*(){this.callbackRunning=!0,c&&(this.blockPage=!0),this.eventAggregator.publish(new HttpFetchRunningEvent(this.callbackRunning,this.blockPage));try{const r=new Date,c=yield e.fetch(n,{method:"POST",body:encodeBody(o),headers:u});if(c.cancelled||c.status===l.HttpCodes.NoContent)return this.resetCallbackRunning(),void i(void 0);if(c.redirected&&c.status===l.HttpCodes.Ok&&c.url.indexOf("Login.aspx")>0){if(!(p.topWindow.redirectedAt>r)&&(p.topWindow.redirectedAt=new Date,p.topWindow.confirm(b.Messages.NotLoggedInLogIn))){const e=c.url.indexOf("?ReturnUrl=");p.topWindow.location.href=`${c.url.substring(0,e)}?ReturnUrl=${encodeURIComponent(p.topWindow.location.href)}`}return void i(void 0)}switch(c.status){case l.HttpCodes.Ok:case l.HttpCodes.Conflict:const e=yield this.getResultData(c);i(e);break;case l.HttpCodes.BadRequest:const n=yield this.getResultData(c);a(this.showError(l.HttpCodes.BadRequest,{type:"",title:"",status:l.HttpCodes.BadRequest,detail:n}));break;case l.HttpCodes.ServerError:const r=yield this.getResultData(c);a(this.showError(l.HttpCodes.ServerError,r));break;case l.HttpCodes.Found:{const e=yield this.getResultData(c);e.command=null==o?void 0:o.command,this.busyCounter.increment(),d.preprocessRequired?d.then((n=>{this.redirector.doRedirects(e),this.busyCounter.decrement()})):(this.redirector.doRedirects(e),this.busyCounter.decrement()),i(e);break}default:this.resetCallbackRunning()}}catch(e){if("redirected"===e)return;e.message&&console.error(e),a(this.showError(l.HttpCodes.ServerError,e))}finally{this.resetCallbackRunning()}}))}resetCallbackRunning(){this.callbackRunning=this.blockPage=!1,this.eventAggregator.publish(new HttpFetchRunningEvent(this.callbackRunning,this.blockPage))}};m=r.__decorate([(0,u.autoinject)(),r.__param(0,(0,a.newInstance)()),r.__param(1,(0,u.optional)(o.DEFAULT_HTTP_CONFIGURATION)),r.__param(2,(0,u.optional)(o.BASE_PATH)),r.__metadata("design:paramtypes",[c.HttpClient,Function,String,CallbackQueue,i.EventAggregator,d.RedirectHelper,g.BusyCounter])],m),n.BaseApiClient=m;class CallbackInfo{constructor(e,n,r,o,i){this.url=e,this.data=n,this.resolve=r,this.reject=o,this.blockPage=i}}class HttpFetchRunningEvent extends d.QpEvent{constructor(e,n){super(d.ApiCientEvents.FetchRunningEvent,{callbackRunning:e,blockPage:n})}get blockPage(){return this.detail.blockPage}get callbackRunning(){return this.detail.callbackRunning}}function encodeBody(e){return"object"==typeof e&&e instanceof FormData?e:(0,c.json)(e)}n.HttpFetchRunningEvent=HttpFetchRunningEvent}.apply(n,o),void 0===i||(e.exports=i)},"./services/cookie-utils.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CookieUtils=void 0;class CookieUtils{static getCookie(e){const n=new RegExp(`${e}=([^;]+)`);return n.test(`${document.cookie};`)?(n.exec(`${document.cookie};`),unescape(RegExp.$1)):null}static setCookie(e,n,r,o){if(e&&null!=n){let i=`${e}=${n}`;r&&(i+=`; path=${r}`),o&&(i+=`; expires=${o.toUTCString()}`),document.cookie=i}}static setSessionPrevWinCookie(e,n){this.setCookie("prevwin",n>=1e4?n:e,"/")}static setLastWinCookie(e){try{e>(this.getLastWinCookie()||0)&&this.setCookie(this.lastWinCookieParameter,e,"/")}catch(e){}}static getLastWinCookie(){const e=this.getCookie(this.lastWinCookieParameter);return e?parseInt(e):null}}n.CookieUtils=CookieUtils,CookieUtils.lastWinCookieParameter="lastwin",CookieUtils.sessionPrevWinCookieParameter="prevwin"}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./services/currency-api-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("aurelia-framework"),r("./descriptors/index.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CurrencyApiService=void 0;const l="apiweb/currency";let c=class CurrencyApiService{constructor(e){this.client=e}getCurrencyState(e,n){return r.__awaiter(this,void 0,void 0,(function*(){if(void 0!==this.prevMode&&this.prevScreenId===e)return this.prevMode;if(this.stateRevievePromise)return this.stateRevievePromise;this.stateRevievePromise=this.client.fetch(`${l}/${e}/state`,{method:"GET",signal:n}).then((e=>e.json()));const r=yield this.stateRevievePromise;return this.stateRevievePromise=void 0,this.prevMode=r,this.prevScreenId=e,r}))}setCurrencyState(e,n){return r.__awaiter(this,void 0,void 0,(function*(){this.prevMode=e.currencyMode,this.prevScreenId=e.screenId,yield this.client.fetch(`${l}/${e.screenId}/state`,{method:"POST",body:(0,o.json)({showBase:e.currencyMode===a.CurrencyViewMode.Base}),signal:n})}))}};c=r.__decorate([i.autoinject,r.__metadata("design:paramtypes",[o.HttpClient])],c),n.CurrencyApiService=c}.apply(n,o),void 0===i||(e.exports=i)},"./services/features-api-client.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("./descriptors/index.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FeaturesApiClient=void 0;let l=class FeaturesApiClient{constructor(e){this.client=e,this.baseUri="ui/features/"}getActiveFeatures(){return this.getExt(`${this.baseUri}`)}getExt(e){return this.client.fetch(e,{method:"GET",credentials:"include"}).then((e=>{switch(e.status){case a.HttpCodes.Ok:return e.json();case a.HttpCodes.ServerError:case a.HttpCodes.BadRequest:return new Promise(((n,r)=>{e.json().then((n=>{r(new a.ErrorInfo(e.status,n))}),(e=>{r(new a.ErrorInfo(-1,e))}))}))}return e.json()}),(e=>(e.message&&console.error(e),Promise.reject(new a.ErrorInfo(-1,e)))))}};l=r.__decorate([(0,o.autoinject)(),r.__metadata("design:paramtypes",[i.HttpClient])],l),n.FeaturesApiClient=l}.apply(n,o),void 0===i||(e.exports=i)},"./services/features-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/features-api-client.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FeaturesService=void 0;let a=class FeaturesService{constructor(e){this.client=e}getFeatures(){var e;return r.__awaiter(this,void 0,void 0,(function*(){return this.features?this.features:null===(e=this.client.getActiveFeatures())||void 0===e?void 0:e.then((e=>(this.features=e.sets.reduce(((e,n)=>(e[n.name]=n.features.reduce(((e,n)=>(e[n.name]=n.enabled,e)),{}),e)),{}),this.features)))}))}};a=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[i.FeaturesApiClient])],a),n.FeaturesService=a}.apply(n,o),void 0===i||(e.exports=i)},"./services/field-defaults-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("../node_modules/aurelia-loader/dist/native-modules/aurelia-loader.js"),r("./dependency-property-injection/index.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FieldDefaultsService=void 0;class FieldDefaultsService{constructor(){this.modules={},this.fieldDefaults={}}addFromModule(e){return r.__awaiter(this,void 0,void 0,(function*(){if(this.modules[e])return;this.modules[e]=!0;const n=yield this.loader.loadTemplate(`html-resource-plugin!${e}`),r="string"==typeof n?n:null==n?void 0:n.default;if(!r)return;const o=document.createElement("div");o.innerHTML=r;const i=o.firstChild;if(!i)return;const a=i.content.children;for(let e=0;e<a.length;e++){const n=a.item(e);if(!n)continue;Array.from(n.getElementsByTagName("field")).forEach((e=>{let n=e.getAttribute("name");if(n&&(0!==e.childElementCount||1!==e.attributes.length)){if(-1===n.indexOf(".")){const r=e.parentElement;n=`${null==r?void 0:r.getAttribute("view.bind")}.${n}`}this.fieldDefaults[n]=e}}))}}))}getFieldDefaultElement(e){if(!e)return null;const n=e.viewName?`${e.viewName}.${e.name}`:e.name;return n?this.fieldDefaults[n]:null}}r.__decorate([i.autoinject,r.__metadata("design:type",o.Loader)],FieldDefaultsService.prototype,"loader",void 0),n.FieldDefaultsService=FieldDefaultsService}.apply(n,o),void 0===i||(e.exports=i)},"./services/hover-activator-service/hover-activator-service.ts":function(e,n,r){var o,i;o=[r,n,r("aurelia-framework"),r("./utils/control-helper.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.HoverActivatorService=void 0;class HoverActivatorService{constructor(){this.hoverDelegate=e=>this.mouseMoveHandler(e),this.keyDelegate=e=>this.keyDownHandler(e),this.scrollDelegate=()=>this.scrollHappened(),this.resizeDelegate=()=>this.resizeHappened(),this.activators=new Map,this.actionTriggerTimers=[],this.lastMouseCoords={x:0,y:0},r.DOM.addEventListener("mousemove",this.hoverDelegate,!0),r.DOM.addEventListener("keydown",this.keyDelegate,!0),r.DOM.addEventListener("scroll",this.scrollDelegate,!0),r.PLATFORM.global.addEventListener("resize",this.resizeDelegate,{passive:!0}),(0,o.registerQAObject)("suppressTooltipsGlobally",this.suppressTooltipsGlobally.bind(this))}suppressTooltipsGlobally(e=!0){HoverActivatorService.tooltipsSuppressed=e,this.hideTooltip()}ensureLegacyTMHandled(){!this.legacyTM&&r.PLATFORM.global.px_tm&&(this.legacyTM=r.PLATFORM.global.px_tm,this.legacyHideTooltip=this.legacyTM.hideTooltip,this.legacyTM&&(r.PLATFORM.global.px_tm.hideTooltip=()=>{this.deactivateActiveSubscribers(),this.legacyHideTooltip.call(this.legacyTM)}))}mouseMoveHandler(e){if(r.PLATFORM.global.__suppressTooltip)return;this.ensureLegacyTMHandled();const n=e.target;this.lastMouseCoords={x:e.clientX,y:e.clientY},this.currentTarget!==n&&(this.clearActionTimers(),this.deactivateActiveSubscribers(n),this.actionTriggerTimers.push(setTimeout((()=>this.lockTarget(n)),32)))}keyDownHandler(e){}scrollHappened(){this.deactivateByUserActivity()}resizeHappened(){this.deactivateByUserActivity()}clearActionTimers(){this.actionTriggerTimers.forEach((e=>{clearTimeout(e)})),this.actionTriggerTimers=[]}hideTooltip(){this.deactivateByUserActivity()}suppressTooltipFor(e){const n=r.DOM.createAttribute(HoverActivatorService.hidetooltipAttrName);n.value="true";const setAttr=e=>e.attributes.setNamedItem(n.cloneNode(!0));setAttr(e),Array.from(e.children).forEach(setAttr),this.hideTooltip()}allowTooltipFor(e){const resetAttr=e=>e.attributes.removeNamedItem(HoverActivatorService.hidetooltipAttrName);resetAttr(e),Array.from(e.children).forEach(resetAttr)}deactivateByUserActivity(e){var n;this.clearActionTimers(),this.deactivateActiveSubscribers(),this.ensureLegacyTMHandled(),null===(n=this.legacyHideTooltip)||void 0===n||n.call(this.legacyTM)}deactivateActiveSubscribers(e=null){var n,r;const o=(null===(n=this.activeSubscribers)||void 0===n?void 0:n.filter((n=>{var r;if(null===(r=n.subscribersOptions.activatedElements)||void 0===r?void 0:r.find((n=>n.contains(e))))return!0;if(!n.subscribersOptions.cssRule&&n.activator.contains(e)){if(n.subscribersOptions.excludeCssRule){if(Array.from(n.activator.querySelectorAll(n.subscribersOptions.excludeCssRule)).find((n=>n.contains(e))))return!1}return!0}return!1})))||[];null===(r=this.activeSubscribers)||void 0===r||r.filter((e=>-1===o.indexOf(e))).forEach((e=>e.subscribersOptions.onDeactivate())),o.length?this.activeSubscribers=o:this.activeSubscribers=void 0}findActivators(e){var n;let r=e,o=[];if(HoverActivatorService.tooltipsSuppressed)return o;for(;r;)if(r.getAttribute("error"))r=void 0;else{const e=this.activators.get(r);e&&e.forEach((e=>{o.push({activator:r,subscribersOptions:e})})),r=r.parentElement||void 0}return 0==o.length?(null===(n=this.activeSubscribers)||void 0===n?void 0:n.filter((n=>{var r;return!!(null===(r=n.subscribersOptions.activatedElements)||void 0===r?void 0:r.find((n=>n.contains(e))))})))||[]:o}getActivationParams(e){const{left:n,top:r,width:o}=e.getBoundingClientRect(),i=this.lastMouseCoords.x-n,a=this.lastMouseCoords.y-r;return{target:e,targetW:o,targetTop:r,mouseX:this.lastMouseCoords.x,mouseY:this.lastMouseCoords.y,relativeX:i,relativeY:a}}lockTarget(e){this.clearActionTimers(),this.currentTarget=e,this.activeSubscribers=this.findActivators(e);for(const n of this.activeSubscribers)this.queueActivation(e,n)}targetNoChanged(e){return e===document.elementFromPoint(this.lastMouseCoords.x,this.lastMouseCoords.y)}targetVisible(e){const{width:n,height:r}=null==e?void 0:e.getBoundingClientRect();return n>0&&r>0}queueActivation(e,n){const r=n.subscribersOptions.activateAfter||500;if(n.subscribersOptions.excludeCssRule&&n.activator.contains(e)){if(Array.from(n.activator.querySelectorAll(n.subscribersOptions.excludeCssRule)).find((n=>n.contains(e))))return}if(n.subscribersOptions.cssRule){const o=n.activator.querySelectorAll(n.subscribersOptions.cssRule);for(let i=0;i<o.length;i++){const a=o[i];if(e==a||a.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY){this.actionTriggerTimers.push(setTimeout((()=>this.targetVisible(e)&&n.subscribersOptions.onActivate(this.getActivationParams(a))),r));break}}}else this.actionTriggerTimers.push(setTimeout((()=>this.targetVisible(e)&&this.targetNoChanged(e)&&n.subscribersOptions.onActivate(this.getActivationParams(e))),r))}subscribeTo(e,n){const r=this.activators.get(e)||[];return r.push(n),this.activators.set(e,r),{dispose:()=>{var r;const o=(null===(r=this.activators.get(e))||void 0===r?void 0:r.filter((e=>e!=n)))||[];o.length>0?this.activators.set(e,o):this.activators.delete(e)}}}selfActivate(e,n){this.clearActionTimers(),this.deactivateActiveSubscribers(),this.activeSubscribers=[{activator:e,subscribersOptions:n}],n.onActivate(this.getActivationParams(e)),this.currentTarget=void 0}selfHide(e,n){var r;null==n||n.onDeactivate();const o=(null===(r=this.activeSubscribers)||void 0===r?void 0:r.filter((e=>e.subscribersOptions!==n)))||[];0==o.length?this.activeSubscribers=void 0:this.activeSubscribers=o}}n.HoverActivatorService=HoverActivatorService,HoverActivatorService.hidetooltipAttrName="hidetooltip",HoverActivatorService.tooltipsSuppressed=!1}.apply(n,o),void 0===i||(e.exports=i)},"services/hover-activator-service/index":function(e,n,r){var o,i;o=[r,n,r("./services/hover-activator-service/hover-activator-service.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.configure=void 0,n.configure=function configure(e){e.singleton(r.HoverActivatorService)}}.apply(n,o),void 0===i||(e.exports=i)},"./services/index.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/alert-service.ts"),r("./services/api-client.ts"),r("./services/base-api-client.ts"),r("./services/features-api-client.ts"),r("./services/features-service.ts"),r("./services/localization.ts"),r("./services/messages.ts"),r("./services/screen-api-client.ts"),r("./services/screen-service.ts"),r("./services/suggestings-service.ts"),r("./services/tree-service.ts"),r("./services/wiki-tooltip-service.ts"),r("./services/hover-activator-service/hover-activator-service.ts"),r("services/hover-activator-service/index"),r("./services/selector-service/selector-service.ts"),r("./services/currency-api-service.ts"),r("./services/keyboard-service.ts"),r("./services/preferences/index.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g,m,f,v,y,x,C,S,D){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hoverIndex=void 0,r.__exportStar(o,n),r.__exportStar(i,n),r.__exportStar(a,n),r.__exportStar(l,n),r.__exportStar(c,n),r.__exportStar(d,n),r.__exportStar(u,n),r.__exportStar(p,n),r.__exportStar(b,n),r.__exportStar(g,n),r.__exportStar(m,n),r.__exportStar(f,n),r.__exportStar(v,n),n.hoverIndex=r.__importStar(y),r.__exportStar(x,n),r.__exportStar(C,n),r.__exportStar(S,n),r.__exportStar(D,n)}.apply(n,o),void 0===i||(e.exports=i)},"./services/keyboard-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./dependency-property-injection/index.ts"),r("aurelia-event-aggregator"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),r("./utils/control-helper.ts"),r("./descriptors/constants.ts")],i=function(e,n,r,o,i,a,l,c,d){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.KeyboardService=void 0;let u=class KeyboardService{constructor(e,n,r){this.element=e,this.eventAggregator=n,this.taskQueue=r,this.stack=new Array,this.screenStateTouched=!1,this.subscriptions=[],this.focusableTags=["A","INPUT","BUTTON","TEXTAREA","SELECT","DETAILS"],this.elementsSelector='a[href]:not([tabindex="-1"]), button:not([tabindex="-1"]),\n\t\t\tinput:not([tabindex="-1"]), textarea:not([tabindex="-1"]),\n\t\t\tselect:not([tabindex="-1"]), details:not([tabindex="-1"]),\n\t\t\t[tabindex]:not([tabindex="-1"])',this.keysHandler=this.keyDownHandler.bind(this),this.observer=new MutationObserver((e=>this.onMutation(e))),this.setActiveArea(e),this.subscriptions.push(this.eventAggregator.subscribe(d.CALLBACK_COMPLETED_EVENT,(e=>{this.screenStateTouched&&!e.command||(this.focusFirstElement(),this.screenStateTouched=!0)}))),this.subscriptions.push(this.eventAggregator.subscribe(d.DIALOG_OPENED,(()=>{this.taskQueue.queueTask((()=>{this.focusFirstElement()}))})))}dispose(){var e;null===(e=this.observer)||void 0===e||e.disconnect(),this.element.ownerDocument.removeEventListener("keydown",this.keysHandler,!1),this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}get visibleElements(){return this.elements.filter((e=>(0,c.isVisible)(e)))}get firstFocusableElement(){return this.visibleElements.length?this.visibleElements[0]:void 0}get focusedElement(){const e=l.PLATFORM.global.document.activeElement;return this.elements.find((n=>n===e))}focusFirstElement(){var e;this.visibleElements.length&&!this.focusedElement&&(null===(e=this.firstFocusableElement)||void 0===e||e.focus())}clearFocus(){this.focusedElement&&this.focusedElement.blur()}setActiveArea(e){this.stack.push(e),this.setNewActiveArea(e)}restorePreviousArea(){this.stack.length>1&&this.stack.pop(),this.setNewActiveArea(this.stack[this.stack.length-1])}setNewActiveArea(e){this.activeArea=e,this.collectElements()}collectElements(e=!0){var n,r;this.elements=Array.from(this.activeArea.querySelectorAll(this.elementsSelector)),e&&(null===(n=this.observer)||void 0===n||n.disconnect(),null===(r=this.observer)||void 0===r||r.observe(this.activeArea,{childList:!0,subtree:!0})),this.element.ownerDocument.removeEventListener("keydown",this.keysHandler,!1),this.element.ownerDocument.addEventListener("keydown",this.keysHandler,!1)}keyDownHandler(e){switch(e.key){case"Enter":case"Tab":e.ctrlKey||e.altKey||this.focusElement(e.shiftKey?-1:1,"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation())}}onMutation(e){let n=!1;for(const r of e)if("childList"===r.type&&(this.checkNodesList(r.addedNodes)||this.checkNodesList(r.removedNodes))){n=!0;break}n&&this.collectElements(!1)}checkNodesList(e){for(let n=0;n<e.length;n++){const r=e[n];if(r.nodeType!==Node.ELEMENT_NODE)continue;const o=r,i=o.getAttribute("tabindex");if(this.focusableTags.includes(o.tagName)||null!=i&&"-1"!==i||o.querySelectorAll(this.elementsSelector).length>0)return!0}return!1}focusElement(e,n){if(!this.elements)return;const r=l.PLATFORM.global.document.activeElement;let o=r?this.elements.indexOf(r)+e:0,i=!1;const checkEdges=()=>{(o<0||o>=this.elements.length)&&!i&&(o=o<0?this.elements.length-1:0,i=!0)};for(checkEdges();o>=0&&o<this.elements.length;){const n=this.elements[o];if((0,c.isVisible)(n)&&null!=n.focus&&null==n.getAttribute("disabled")&&null==n.getAttribute("readonly"))return n.focus(),!0;o+=e,checkEdges()}return!1}};r.__decorate([(0,o.computedFrom)("elements"),r.__metadata("design:type",Array),r.__metadata("design:paramtypes",[])],u.prototype,"visibleElements",null),r.__decorate([(0,o.computedFrom)("visibleElements"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],u.prototype,"firstFocusableElement",null),r.__decorate([(0,o.computedFrom)("elements"),r.__metadata("design:type",Object),r.__metadata("design:paramtypes",[])],u.prototype,"focusedElement",null),u=r.__decorate([(0,i.autoinject)(),r.__metadata("design:paramtypes",[Element,a.EventAggregator,o.TaskQueue])],u),n.KeyboardService=u}.apply(n,o),void 0===i||(e.exports=i)},"./services/localization.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/cookie-utils.ts"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("./descriptors/api-types.ts"),r("./services/localizations-api-client.ts")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";var p;Object.defineProperty(n,"__esModule",{value:!0}),n.QpTranslator=n.localizable=n.Format=n.LOCALIZED_STRINGS=void 0;const b=(0,l.getLogger)("localization");function replacer(e,n){const r=n.lastIndexOf("{")+1,o=n.length-n.indexOf("}");return 1===r&&1===o?e:r%2==1&&o%2==1?n.substring(0,r/2)+e+n.substring(n.length-o/2+1):n.substring(0,n.length-o/2).substring(r/2)}function Format(e,n,...r){let o=e;if("string"==typeof n||null===n){const e=[n,...r];return o.replace(/{([0-9]+)}/g,(function(n,r){const o=parseInt(r);return null==e[o]?"":e[o]}))}for(const e in n)o=o.replace(new RegExp(`\\{+${e}\\}+`,"g"),(r=>replacer(n[e],r)));return o}function cloneParentProps(e){const n=Object.getPrototypeOf(e);if(!(null==n?void 0:n.name))return;cloneParentProps(n);const r=Object.getOwnPropertyNames(n);for(const o of r)e.hasOwnProperty(o)||(e[o]=n[o])}i.PLATFORM.global.ClientLocalizedStrings=i.PLATFORM.global.ClientLocalizedStrings||{},n.LOCALIZED_STRINGS=i.PLATFORM.global.ClientLocalizedStrings,n.default=n.LOCALIZED_STRINGS,n.Format=Format,n.localizable=function localizable(e,n){n&&e&&g.AddEntry(e,String(n));const processTarget=(e,n)=>{e.Format=Format,cloneParentProps(e);const r=Object.getOwnPropertyNames(e);for(const o of r){switch(o){case"length":case"name":case"prototype":continue}g.AddEntry(e,o,n)}};if("function"!=typeof e)return(n,r)=>{if(!n)return;let o;e&&("string"==typeof e?o={namespace:e}:"object"==typeof e&&(o=e)),r?g.AddEntry(n,String(r),o):processTarget(n,o)};processTarget(e)};let g=p=class QpTranslator{constructor(e,n){this.client=e,this.localizationClient=n,this.lang="",this.afterTranslation=this.SetLang((o.CookieUtils.getCookie("Culture")||"en-US").replace(/&.*/,""))}get inizialized(){return p.initialized}getLocalization(){return p.dict[this.lang]}getLocalePreferences(e){return p.localePreferences[e]}SetLang(e){return this.lang=e,this.loadDictionary(e).then((()=>{var n;const r=p.dict[e],o=p.dict.default;for(const e in p.data){const i=o.get(e)&&o.get(e).default||e,a=r&&r.get(i)||o.get(e),l=p.data[e];for(const r in l){const o=l[r];for(const r of o)r.target[p.DemangleKey(e,r.config)]=null!==(n=a[e])&&void 0!==n?n:a.default}}}),(()=>{}))}loadDictionary(e){return p.dict[e]?new Promise(((e,n)=>{e()})):this.localizationClient.getLocalizations(e).then((n=>{if(p.dict[e]=new d.LocalizationsCollection,n.localizedClientDictionary)for(const r in n.localizedClientDictionary)p.dict[e].set(r,n.localizedClientDictionary[r]);n.numberFormat&&(p.localePreferences.number=n.numberFormat),n.dateTimeFormat&&(p.localePreferences.datetime=n.dateTimeFormat),p.initialized=!0}),(()=>(b.warn(`Cannot load dictionary for "${e}"`),new Promise(((e,n)=>{e()})))))}static MangleKey(e,n){return n&&n.namespace?`${n.namespace}.${e}`:e}static DemangleKey(e,n){return n&&n.namespace?0!==e.indexOf(`${n.namespace}.`)?e:e.substring(n.namespace.length+1):e}static AddEntry(e,n,r){const o=p.MangleKey(n,r),i=e[n];this.dict.default||(this.dict.default=new d.LocalizationsCollection);const a={default:i};this.dict.default.set(o,a),this.data[o]||(this.data[o]={}),this.data[o].default||(this.data[o].default=[]);this.data[o].default.push({target:e,config:r})}static FillInDefaultDictionary(e){for(const n in e)this.dict.default.set(n,{default:e[n]})}};g.data={},g.defaultNumberFormatInfo={currency:{decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSizes:[3],negativePattern:0,positivePattern:0},currencySymbol:"$",negativeSign:"-",number:{decimalDigits:2,negativePattern:1,groupSizes:[3],decimalSeparator:".",groupSeparator:","},percent:{decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSizes:[3],negativePattern:1,positivePattern:1},percentSymbol:"%"},g.defaultDateFormatInfo={abbrDayNames:"Sun,Mon,Tue,Wed,Thu,Fri,Sat",abbrMonthNames:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,",am:"AM",dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",longDate:"dddd, MMMM d, yyyy",longTime:"h:mm:ss tt",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December,",pm:"PM",shortDate:"dd-MMM-yy",shortTime:"h:mm tt",dateSeparator:"/",timeSeparator:":",monthDay:"MMMM d",rfC1123:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",sortableDateTime:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",universalSortableDateTime:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",yearMonth:"MMMM yyyy",yearFix:0},g.localePreferences={number:p.defaultNumberFormatInfo,datetime:p.defaultDateFormatInfo},g.dict={},g=p=r.__decorate([a.autoinject,r.__metadata("design:paramtypes",[c.HttpClient,u.LocalizationsApiClient])],g),n.QpTranslator=g}.apply(n,o),void 0===i||(e.exports=i)},"./services/localizations-api-client.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./descriptors/api-types.ts"),r("aurelia-framework"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LocalizationsApiClient=void 0;let c=class LocalizationsApiClient{constructor(e){this.client=e}getLocalizations(e){const n=l.PLATFORM.global.__site_root||"";return this.getExt(`${n}${""===n||n.endsWith("/")?"":"/"}ui/locale/${e}`)}getExt(e){return this.client.fetch(e,{method:"GET",credentials:"include"}).then((e=>{switch(e.status){case o.HttpCodes.Ok:return e.json();case o.HttpCodes.ServerError:case o.HttpCodes.BadRequest:return new Promise(((n,r)=>{e.json().then((n=>{r(new o.ErrorInfo(e.status,n))}),(e=>{r(new o.ErrorInfo(-1,e))}))}))}return e.json()}),(e=>(e.message&&console.error(e),Promise.reject(new o.ErrorInfo(-1,e)))))}};c=r.__decorate([(0,i.autoinject)(),r.__metadata("design:paramtypes",[a.HttpClient])],c),n.LocalizationsApiClient=c}.apply(n,o),void 0===i||(e.exports=i)},"./services/localizations-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/localization.ts"),r("aurelia-framework")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LocalizationsService=void 0;let a=class LocalizationsService{constructor(e){this.translator=e}load(){return r.__awaiter(this,void 0,void 0,(function*(){return this.translator.afterTranslation||Promise.resolve()}))}getLocalization(e,n){const r=this.translator.getLocalization();if(r){const o=r.get(e);if(o){const e=n?o[n]:void 0;if(e)return e;const r=o.default;if(r)return r}}}getLocalePreferences(e){return this.translator.getLocalePreferences(e)}getLang(){return this.translator.lang}format(e,...n){return n&&0!==n.length?(0,o.Format)(e,n[0],...n.slice(1)):e}localize(e,n,r){var o;return null!==(o=this.getLocalization(n,e))&&void 0!==o?o:null!=r?r:n}get translatorInitialized(){return this.translator.inizialized}};a=r.__decorate([i.autoinject,r.__metadata("design:paramtypes",[o.QpTranslator])],a),n.LocalizationsService=a}.apply(n,o),void 0===i||(e.exports=i)},"./services/messages.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/localization.ts")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Messages=void 0;let i=class Messages{};i.ExternalLink="External Link:",i.InternalLink="Internal Link:",i.AboutAcumatica="About Acumatica",i.Confirm="OK",i.Yes="Yes",i.No="No",i.ShareColumConfigStep1="Share Column Configuration Page 1 of 2",i.ShareColumConfigStep2="Share Column Configuration Page 2 of 2",i.Send="Send...",i.Save="Save",i.Cancel="Cancel",i.Previous="Prev",i.Next="Next",i.Done="Done",i.Finish="Finish",i.Reset="Reset",i.Clear="Clear",i.ClearFilter="Clear Filter",i.RemoveFilter="Remove Filter",i.SelectorSelect="Select",i.SelectCustomizationProject="Select Customization Project",i.NewEntity="New...",i.NewProject="New Project",i.InspectElement="Inspect Element (Ctrl+Alt+Click)",i.ElementProperties="Element Properties",i.Customize="Customize",i.CustomizeBusinessLogic="Customize Business Logic...",i.CustomizeDataFields="Customize Data Fields...",i.ViewBusinessLogicSource="View Business Logic Source...",i.ViewDataClassSource="View Data Class Source...",i.Actions="Actions",i.Note="Note",i.NoteTitle="Enter Record Note",i.AddPopupNotesTitle="Add Pop-Up Note",i.TaskAndActivitiesTitle="Tasks & Activities",i.Translations="Translations",i.Filter="Filter...",i.Help="Help",i.NoResultsFound="No results found.",i.Validate="Validate",i.Search="Search",i.Comment="Use <b>/* commented line */</b> to comment the text in the formula.",i.Apply="Apply",i.Load="Load",i.Files="Files",i.Activities="Activities",i.Shared="Shared",i.Default="Default",i.ScreenID="Screen ID",i.EmptySearchMessage1="Nothing has been found for '{0}'.\nTry using a different or less specific search term.",i.GridAddQuickFilter="Add Quick Filter",i.GridAdvFilter="Advanced filter",i.GridOpenAdvFilter="Open Advanced Filter",i.GridAdvanced="Advanced",i.GridFrom="From:",i.GridValue="Value:",i.GridTo="To:",i.GridName="Name:",i.GridSelectAll="Select All",i.GridAll="All",i.GridIsEmpty="Is Empty",i.GridSortAsc="Sort Ascending",i.GridSortDesc="Sort Descending",i.GridFilterSetup="Filter Settings",i.GridEditFilter="Edit Filter",i.GridRemoveFilterWarn="The current filter with all conditions will be deleted",i.GridDropColumnTip="Drop column here to set filter",i.GridSaveAs="Save As",i.GridDeleteFilter="Delete Filter",i.GridSaveFilter="Save Filter",i.GridSaveFilterAs="Save Filter As",i.GridPagesCount="of {0} pages",i.GridRecordsCount="Records {0}{1} of {2}",i.GridRefresh="Refresh",i.GridAddRow="Add Row",i.GridDeleteRow="Delete Row",i.GridFitToScreen="Fit to Screen",i.GridExportToExcel="Export to Excel",i.GridFirstPage="Go to First Page",i.GridPrevPage="Go to Previous Page (PgUp)",i.GridNextPage="Go to Next Page (PgDn)",i.GridLastPage="Go to Last Page",i.ExportToExcelGlobalLimitExceeded="The number of selected records exceeds the recommended export limit of {0} records. Do you want to apply the limit or ignore it?",i.ExportToExcelInquiryLimitExceeded="The number of selected records exceeds the limit defined for the generic inquiry. Top {0} records will be exported.",i.ExportToExcelGlobalLimitExceededBtnApply="Apply",i.ExportToExcelGlobalLimitExceededBtnIgnore="Ignore",i.ExportToExcelGlobalLimitExceededBtnWarning="Warning",i.AddressLookupDialogTitle="Address Lookup",i.AddressLookupButtonTitle="Address Lookup",i.AddressLookupMapIsNotConfigured="The map is not configured",i.AddressLookupViewOnBingMap="View on Bing Maps",i.AddressLookupViewOnGoogleMaps="View on Google Maps",i.Parameters="Parameters",i.Globals="Globals",i.Operators="Operators",i.Arithmetic="Arithmetic",i.Logical="Logical",i.Comparison="Comparison",i.Other="Other",i.Functions="Functions",i.Conversion="Conversion",i.Aggregates="Aggregates",i.Text="Text",i.Math="Math",i.DateTime="Date/Time",i.Application="Application",i.Fields="Fields",i.Internal="Internal",i.External="External",i.Objects="Objects",i.Styles="Styles",i.SubstitutionKeys="Substitution Lists",i.BusinessEvents="Business Events",i.CreateBusinessEvent="Create business event",i.BusinessEventName="Business Event Name",i.AuditUpdateHistory="Update History",i.AuditIsNotAvailable="Detailed information is not available for this entry.",i.AuditCreatedBy="Created By",i.AuditCreatedThrough="Created Through",i.AuditCreatedOn="Created On",i.AuditLastModifiedBy="Last Modified By",i.AuditLastModifiedThrough="Last Modified Through",i.AuditLastModifiedOn="Last Modified On",i.AuditEnableFieldLevel="Enable field level audit",i.Notifications="Notifications",i.NotificationsAddEmailTemplate="Add email template",i.NotificationsAddMobileTemplate="Add mobile template",i.ProfilerHeader="Profiler",i.ProfilerStarted="Started",i.ProfilerRequestsLogged="Requests Logged",i.ProfilerStart="Start logging",i.ProfilerStop="Stop and export",i.ProfilerOpenRequest="Open request profiler",i.ProfilerDescription="Turn on the request profiler. The subsequent requests will be stored and can be viewed or exported later.",i.ProfilerWarning="Detailed information is not available for this entry.",i.FormConfigurationTitle="Section Configuration",i.FormConfigurationAvailableFields="Available Elements",i.FormConfigurationChoosenFields="Selected Elements",i.ResetToDefault="Reset To Default",i.Untitled="Untitled",i.ScreenConfigurationTitle="Form Configuration",i.ApplyToAll="Apply To All",i.LoadPersonalConfiguration="Load Personal Configuration",i.ExportConfiguration="Export Configuration",i.ImportConfiguration="Import Configuration",i.PersonalConfiguration_Info="Select the user whose personal configuration you want to load, and then to apply to all users.",i.User="User:",i.ApplyToAllDialogTitle="Apply Configuration to All Users",i.ApplyForced="Overwrite Personal Configuration",i.ApplyNotForced="Preserve Personal Configuration",i.FilesAddLink="Add Link",i.FilesRemoveLink="Remove Link",i.LinkEditorLink="Link",i.LinkEditorName="Name",i.CapturingImageButtonTitle="Upload Using Mobile App",i.CapturingImagePushSend="Tap the notification on your mobile device to start the upload.",i.ConfirmAction="Confirm Action",i.ConfirmConfirm="Confirm",i.LinkCopiedClipboard="The link has been copied to the clipboard.",i.TabConfigurationTitle="Tab Configuration",i.TabConfigurationVisibleTabs="Visible Tabs",i.TabConfigurationHiddenTabs="Hidden Tabs",i.ProcessingProcessed="Processed",i.ProcessingErrors="Errors",i.ProcessingWarnings="Warnings",i.ProcessingRemaining="Remaining",i.ProcessingTotal="Total",i.ProcessingClose="Close",i.ProcessingCancel="Cancel Processing",i.ProcessCompleted="Processing Completed",i.OperationCompleted="The operation has completed.",i.OperationAborted="The operation has been aborted.",i.NotLoggedInLogIn="You are currently logged off. Would you like to log in?",i.FileUploadCaption="File Upload",i.CommonSettingsCaption="Common Settings",i.ColumnsCaption="Columns",i.UploadFileCaption="Upload File",i.UploadFilesCaption="Upload Files",i.UploadImagePrompt="You havent uploaded any files yet",i.NoImageImagePrompt="Image is not selected",i.NoImageUploadImagePrompt="Upload or select image",i.DownloadingImageMessage="Downloading {0}",i.UploadingImageMessage="Uploading {0}",i.ReloadImageMessage="Reload {0}",i.LoadErrorImageMessage="Cannot load {0}",i.EditImageCommandTooltip="Choose image",i.ClearImageCommandTooltip="Clear selected image",i.PrintImageActionTitle="Print",i.DownloadImageActionTitle="Download",i.EditImageActionTitle="Edit",i.NoImageImagePopupCaption="No image",i.TabbedTreeSelector="Emails",i.TabbedTreeTree="Screen Fields",i.LoadRecordsFromFile="Load Records from File",i.TranslationValidationTitle="Translation Validation: {0} warnings",i.TranslationValidationItemTitle="Warning:",i.TranslationValidationItemBody="The following resource is not translated to the current locale: {0}",i=r.__decorate([o.localizable],i),n.Messages=i}.apply(n,o),void 0===i||(e.exports=i)},"./services/preferences/index.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/preferences/preferences-service.ts"),r("./services/preferences/preferences-api.ts"),r("./services/preferences/types.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PreferencesApi=n.PreferencesService=void 0,Object.defineProperty(n,"PreferencesService",{enumerable:!0,get:function(){return o.PreferencesService}}),Object.defineProperty(n,"PreferencesApi",{enumerable:!0,get:function(){return i.PreferencesApi}}),r.__exportStar(a,n)}.apply(n,o),void 0===i||(e.exports=i)},"./services/preferences/preferences-api.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/base-api-client.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PreferencesApi=void 0;const getApiRoute=e=>`ui/screen/${e}/preferences`;let a=class PreferencesApi{constructor(e){this.client=e}loadUsers(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${getApiRoute(e)}/users`)}))}loadPreferences(e,n,o){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${getApiRoute(e)}/${n}/${o}`)}))}savePreferences(e,n,o){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${getApiRoute(e)}/${n}`,o,!1)}))}loadDefaultPreferences(e,n,o){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${getApiRoute(e)}/${n}/${o}/default`)}))}loadAllPreferences(e,n){return r.__awaiter(this,void 0,void 0,(function*(){const r=n?`${getApiRoute(e)}?user=${n}`:getApiRoute(e);return this.client.getExt(r)}))}saveAllPreferences(e,n,o){return r.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${getApiRoute(e)}`,{Preferences:n,ForceApplyForAll:o})}))}};a=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[i.BaseApiClient])],a),n.PreferencesApi=a}.apply(n,o),void 0===i||(e.exports=i)},"./services/preferences/preferences-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./descriptors/index.ts"),r("./services/preferences/preferences-api.ts"),r("./services/preferences/types.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PreferencesService=void 0;let c=class PreferencesService{constructor(e){this.api=e,this.subscribers=new i.CaseInsensitiveMap,this.mergers=new i.CaseInsensitiveMap,this.defaultMerger=new l.BasePreferenceMerger}registerMerger(e,n){this.mergers.set(e,n)}subscribe(e,n){const r=this.subscribers.get(e)||[];r.push(n),this.subscribers.set(e,r);const o=this.findKeySensitivePreferenceKey(e);o&&n.applyPreferences(this._screenPreferences[o])}unsubscribe(e){this.subscribers.delete(e)}getPreferences(e){var n;return null===(n=this._screenPreferences)||void 0===n?void 0:n[e]}saveUserPreferences(e,n,o){return r.__awaiter(this,void 0,void 0,(function*(){return this.setPreferences(n,o,"user"),this.api.savePreferences(e,n,this._screenPreferences[n].user)}))}setPreferences(e,n,r,o=!1){if(this._screenPreferences=this._screenPreferences||{},!n)return this._screenPreferences[e]=this._screenPreferences[e]||{},void(this._screenPreferences[e][r]=n);const i=this._screenPreferences[e],a=!(null==i?void 0:i[r])||o;(null==i?void 0:i[r])||(this._screenPreferences[e]={user:{type:n.type,preferences:{}},def:{type:n.type,preferences:{}}}),a?this._screenPreferences[e][r]=n:(this._screenPreferences[e][r]=Object.assign(Object.assign({},n),{type:i[r].type,preferences:Object.assign(Object.assign({},i[r].preferences),n.preferences)}),n.preferences||(this._screenPreferences[e][r]=Object.assign(Object.assign({},n),this._screenPreferences[e][r]))),this.notifySubscribers(e)}getScreenDefaultPreferences(){return Object.keys(this._screenPreferences).reduce(((e,n)=>(e[n]=this._screenPreferences[n].def,e)),{})}setScreenDefaultPreferences(e){Object.keys(this._screenPreferences).forEach((e=>{this._screenPreferences[e]=Object.assign(Object.assign({},this._screenPreferences[e]),{def:void 0})}));Object.keys(e).forEach((n=>{this._screenPreferences[n]=Object.assign(Object.assign({},this._screenPreferences[n]),{def:e[n]})})),this.notifyAllSubscribers()}setAllScreenPreferences(e){this._screenPreferences=e,this.notifyAllSubscribers()}loadAllPreferences(e,n,o,i){return r.__awaiter(this,void 0,void 0,(function*(){return yield this.checkScreenPreferences(e,n,o,i),this._screenPreferences}))}saveAllPreferences(e,n,o){return r.__awaiter(this,void 0,void 0,(function*(){o&&this.setScreenDefaultPreferences(o);return yield this.api.saveAllPreferences(e,this.getScreenDefaultPreferences()||{},n)}))}loadPreferenceUsers(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.api.loadUsers(e)}))}resetToDefault(){this.setScreenDefaultPreferences({})}notifyAllSubscribers(){if(!this.subscribers)return;const e=this.subscribers.keys();for(const n of e)this.notifySubscribers(n)}getMerger(e){return e&&this.mergers.has(e)?this.mergers.get(e):this.defaultMerger}checkScreenPreferences(e,n,o,i){return r.__awaiter(this,void 0,void 0,(function*(){if(!i&&this._screenPreferences&&this.prevScreenId===e&&this.prevLoadMode===n)return void this.notifyAllSubscribers();const r=yield this.api.loadAllPreferences(e,o);if(this.prevScreenId=e,this.prevLoadMode=n,!r)return this._screenPreferences={},void this.notifyAllSubscribers();const a=r.def?Object.keys(r.def):[],c=r.user?Object.keys(r.user).filter((e=>!r.def[e])):[],d=a.reduce(((e,o)=>{var i,a,l,c,d;const u=(null===(i=r.def[o])||void 0===i?void 0:i.type)||(null===(l=null===(a=r.user)||void 0===a?void 0:a[o])||void 0===l?void 0:l.type),p=this.getMerger(u);return e[o]=e[o]||{},e[o].def=p.merge(n,{def:r.def[o],user:null===(c=r.user)||void 0===c?void 0:c[o]}),e[o].user=null===(d=r.user)||void 0===d?void 0:d[o],e}),{});n!==l.PreferenceLoadMode.onlyDefault&&(null==c?void 0:c.length)>0&&c.forEach((e=>{d[e]=d[e]||{},d[e].user=r.user[e]})),this.setAllScreenPreferences(d)}))}notifySubscribers(e){if(!this.subscribers)return;const n=this.subscribers.get(e);if(!n)return;const r=this.findKeySensitivePreferenceKey(e);for(const e of n)e.applyPreferences(r&&this._screenPreferences[r]||{})}findKeySensitivePreferenceKey(e){const n=this._screenPreferences&&Object.keys(this._screenPreferences);return null==n?void 0:n.find((n=>n.toLowerCase()===e.toLowerCase()))}};c=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[a.PreferencesApi])],c),n.PreferencesService=c}.apply(n,o),void 0===i||(e.exports=i)},"./services/preferences/types.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PreferenceLoadMode=n.BasePreferenceMerger=n.PreferenceBase=void 0;n.PreferenceBase=class PreferenceBase{};var r;n.BasePreferenceMerger=class BasePreferenceMerger{merge(e,n){const o=n.def,i=n.user;switch(e){case r.onlyDefault:return o;case r.onlyUser:return i;case r.merged:return this.combineUserAndDefPreferences(o,i);default:return}}combineUserAndDefPreferences(e,n){if(!n||!n.preferences)return e;if(!e||!e.preferences)return n;const r=Object.assign(Object.assign({},e),{preferences:Object.assign({},e.preferences)});return Object.keys(n.preferences).forEach((e=>{r.preferences[e]=n.preferences[e]})),r}},function(e){e.merged="merged",e.onlyDefault="default",e.onlyUser="user"}(r=n.PreferenceLoadMode||(n.PreferenceLoadMode={}))}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./services/screen-api-client.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/base-api-client.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GenericInquiryApiClient=n.ScreenApiClient=n.ScreenApiClientSettings=void 0;class ScreenApiClientSettings{}n.ScreenApiClientSettings=ScreenApiClientSettings;let a=class ScreenApiClient{constructor(e,n){this.client=e,this.screenApiSettings=n,this.isFirstCallback=!0}get callbackRunning(){return this.client.callbackRunning}getScreenData(e){return r.__awaiter(this,void 0,void 0,(function*(){let n="";this.screenApiSettings.forceUI&&(n&&(n+="&"),n+=`ui=${this.screenApiSettings.forceUI}`);let r="";this.screenApiSettings.clearSessionOnGetRequest&&(r="/cleared");let o="";return this.screenApiSettings.companyId&&(o=`t/${this.screenApiSettings.companyId}/`),this.client.getExt(`${o}${this.getRoute(e)}${r}${n?"?":""}${n}`)}))}executeCallback(e,n,r,o){let i="";r&&(i+=`PopupPanel=${r}`),this.screenApiSettings.forceUI&&(i&&(i+="&"),i+=`ui=${this.screenApiSettings.forceUI}`),!this.isFirstCallback||this.screenApiSettings.dueToRedirect||r||(n.clearSession=!0),this.isFirstCallback&&this.screenApiSettings.dueToRedirect&&(n.isRedirect=!0);const a={};this.isFirstCallback&&this.screenApiSettings.dueToRedirect&&!(null==n?void 0:n.command)&&(a.RedirectTargetScreenID=e),this.isFirstCallback&&!this.screenApiSettings.isInlineScreenRequest&&(n.isFirstRequest=!0);let l="";return this.screenApiSettings.companyId&&(l=`t/${this.screenApiSettings.companyId}/`),this.isFirstCallback=!1,this.client.fetchExt(`${l}${this.getRoute(e)}?${i}`,n,o,a)}getRoute(e){return`ui/screen/${e}`}};a=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[i.BaseApiClient,ScreenApiClientSettings])],a),n.ScreenApiClient=a;n.GenericInquiryApiClient=class GenericInquiryApiClient extends a{constructor(e,n,r){super(e,n),this.genericInquiryId=r}getRoute(e){return`ui/inquiry/${this.genericInquiryId}`}}}.apply(n,o),void 0===i||(e.exports=i)},"./services/screen-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./descriptors/api-types.ts"),r("aurelia-framework"),r("aurelia-event-aggregator"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./descriptors/index.ts"),r("./utils/index.ts"),r("./descriptors/session-url-router.ts"),r("./services/screen-api-client.ts"),r("./dependency-property-injection/index.ts"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("controls/dialog/informer/qp-informer-rack"),r("./services/alert-service.ts"),r("controls/dialog/alert/qp-alert"),r("./services/messages.ts"),r("./descriptors/redirect-helper.ts"),r("./services/tab-fields-service.ts")],i=function(e,n,r,o,i,a,l,c,d,u,p,b,g,m,f,v,y,x,C){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PopupMessageOpenEvent=n.ScreenService=void 0;const S=(0,l.getLogger)("screenService");let D=class ScreenService{constructor(e,n,r,o,i,a,l){this.eventAggregator=e,this.tq=n,this.bindingEngine=r,this.alertService=o,this.redirector=i,this.busyCounter=a,this.urlRouter=l,this.isNewEntry=!0,this.initialized=!1,this.longRunInProgress=!1,this.dirtyValues=[],this.subscriptions=new Map,this.suspendUpdates=!1,this.updateInProgress=!1,this.viewBindings=[],this.postponedTasks=[],this.fieldErrorsMap={}}get screenID(){var e,n;return null!==(n=null===(e=this.model)||void 0===e?void 0:e.screenID)&&void 0!==n?n:""}get isValid(){return!!this.screenApiClient&&!!this.model}get callbackRunning(){var e;return!!(null===(e=this.screenApiClient)||void 0===e?void 0:e.callbackRunning)}registerDataComponent(e,n,r){return this.internalRegisterDataComponent(e,n,r),{dispose:()=>this.unregisterDataComponent(e)}}registerDataComponentOneTime(e,n){this.registerDataComponent(e,n,{oneTimeRegistration:!0})}unregisterDataComponent(e){var n;null===(n=this.dataComponents)||void 0===n||n.delete(e)}isCompositeComponent(e){return"children"in e}getDataComponentConfig(e){var n;return null===(n=this.dataComponents)||void 0===n?void 0:n.get(e)}getDataComponent(e){var n;return null===(n=this.getDataComponentConfig(e))||void 0===n?void 0:n.instance}registerViewBinding(e,n,r){e?this.unregisterViewBinding(e):this.unregisterViewBinding(n),n&&this.viewBindings.push({element:e,view:n,field:r})}unregisterViewBinding(e){let n=-1;n="string"==typeof e?this.viewBindings.findIndex((n=>n.view===e&&null==n.element)):this.viewBindings.findIndex((n=>n.element===e)),n>=0&&this.viewBindings.splice(n,1)}registerLoadOnDemandArea(e){this.loadOnDemandAreas||(this.loadOnDemandAreas=[]),this.unregisterLoadOnDemandArea(e),this.loadOnDemandAreas.push(e)}unregisterLoadOnDemandArea(e){var n;const r=null===(n=this.loadOnDemandAreas)||void 0===n?void 0:n.findIndex((n=>n===e));r>=0&&this.loadOnDemandAreas.splice(r,1)}registerPostponedTask(e){this.postponedTasks.push(e)}unregisterPostponedTask(e){var n;const r=null===(n=this.postponedTasks)||void 0===n?void 0:n.indexOf(e);r>=0&&this.postponedTasks.splice(r,1)}getGraphInfo(){var e;return null===(e=this.model)||void 0===e?void 0:e.graphInfo}getViewsInfo(){if(!this.initialized)throw"Screen should be initialized before getting info about its structure";return this.screenViewInfo}initialize(){var e,n;return r.__awaiter(this,void 0,void 0,(function*(){let r,o;const i=new Promise(((e,n)=>{r=e,o=n}));return this.screenViewInfo=null,null===(n=null===(e=this.screenApiClient)||void 0===e?void 0:e.getScreenData(this.model.screenID))||void 0===n||n.then((e=>{void 0!==e?(this.siteMapScreenID=e.siteMapScreenId,this.repaintScreen(e,!0,!0),this.initialized=!0,this.screenViewInfo=e.fieldStates,this.tq.queueTask((()=>r(e)))):this.tq.queueTask((()=>o(e)))}),(e=>{o(e)})),i}))}dispose(){this.dirtyValues=[],this.subscriptions.forEach((e=>e.forEach((e=>e.dispose())))),this.subscriptions=new Map}update(e,n){var i;return r.__awaiter(this,void 0,void 0,(function*(){const r=this.urlRouter.resolvePopupPanelMode(window.location);let a;this.eventAggregator.publish(c.CALLBACK_STARTED_EVENT,e),this.updateInProgress=!0;try{a=this.getQueryParams(e,n)}finally{this.updateInProgress=!1}null==n?void 0:n.blockPage;if(e){const n=this.model.actions.get(e);if((this.model.isDirty||(null==n?void 0:n.confirmationType)===c.PXConfirmationType.Always)&&(null==n?void 0:n.confirmationMessage)){if((yield this.alertService.openAlert({message:n.confirmationMessage,buttons:v.QpAlertButtons.OkCancel,title:y.Messages.ConfirmAction,okButtonText:y.Messages.ConfirmConfirm}))!==v.QpAlertResults.Confirm)return Promise.resolve({canceled:!0})}}const l=null===(i=this.screenApiClient)||void 0===i?void 0:i.executeCallback(this.model.screenID,a,r);if(!l)return Promise.resolve({succeeded:!1});let d,u,p=!1;return new Promise((r=>{this.busyCounter.increment(),l.whenDataReady((r=>{p=!0;const i=!!(null==r?void 0:r.redirects);if(d=i?r.screenData:r,(null==d?void 0:d.messages)&&d.messages.forEach((e=>{(0,m.showInformer)(e.message,e.messageType)})),null!=(null==d?void 0:d.graphIsDirty)&&this.model.setDirty(d.graphIsDirty),d&&this.repaintScreen(d,!1,!1,e),i&&(u=r,u.command=e,(null==u?void 0:u.redirects.length)>0&&(!1!==u.isDirty&&"CancelClose"!==e&&"CancelCloseToList"!==e||this.model.setDirty(!1),null==n?void 0:n.openFrameset)))for(const e of u.redirects)e.settings.mode!==o.WindowMode.InlineWindow&&e.settings.mode!==o.WindowMode.Same||(e.settings.mode=o.WindowMode.New);return this.tq.queueTask((()=>{if(this.postponedTasks.length>0&&!this.callbackRunning){for(const e of this.postponedTasks)e();this.postponedTasks.length=0}})),r})).finally((()=>{var o;this.busyCounter.decrement();const i=new c.CallbackCompletedEvent;i.command=e,i.dialogResult=null===(o=null==n?void 0:n.dialogCallback)||void 0===o?void 0:o.dialogResult,i.validationOk=(()=>{var e;if(!d||!d.messages)return!0;if(d.messages.every((e=>"error"!==e.messageType)))return!0;if(null===(e=null==n?void 0:n.dialogCallback)||void 0===e?void 0:e.viewName){const e=d.fieldStates[n.dialogCallback.viewName];if(e&&e.every((e=>!e.fieldState.error)))return!0}return!1})(),this.tq.queueTask((()=>{this.eventAggregator.publish(c.CALLBACK_COMPLETED_EVENT,i),this.postponedTasks.length=0,r({succeeded:p&&!!i.validationOk,redirectData:u})}))}))}))}))}executeCommand(e,n){return this.eventAggregator.publish(c.BEFORE_CALLBACK_EVENT,e),this.tq.flushMicroTaskQueue(),new Promise((o=>{this.tq.queueTask((()=>r.__awaiter(this,void 0,void 0,(function*(){o(yield this.update(e,n))}))))}))}setScreenParameter(e,n,r,o=void 0){this.registerViewFieldChange(e,n,r,{typing:!1,rowId:o})}registerViewFieldChange(e,n,r,o){let i=null==o?void 0:o.rowId;i||(i=this.getRecordIdByKeys(e));const a=this.dirtyValues.findIndex((r=>r.fieldName.toLowerCase()===n.toLowerCase()&&r.viewName.toLowerCase()===e.toLowerCase()&&r.rowId===i));if(a>=0){if(null==o?void 0:o.typing)return;this.dirtyValues.splice(a,1)}this.dirtyValues.push({viewName:e,fieldName:n,value:r,rowId:i,typing:null==o?void 0:o.typing})}cancelViewFieldChanges(e){this.dirtyValues=this.dirtyValues.filter((n=>n.viewName!==e))}hasChanges(){return this.dirtyValues.length>0}applyFieldUpdated(){this.tq.flushMicroTaskQueue()}repaintScreen(e,n=!1,r=!1,o){var i,a;this.id=e.id,this.isNewEntry=void 0!==e.isNewEntry&&e.isNewEntry,this.isDraft=e.isDraft;const l=e.fieldStates;this.suspendUpdates=!0;for(const r in l){const o=this.model[r];if(this.fieldErrorsMap[r]={},!o||!o.getField)continue;const d=[],u=l[r];if(o.name=r,o instanceof c.PXViewCollection&&o.isCollection()){const n=e.controlsData&&e.controlsData[r]?null==e?void 0:e.controlsData[r]:void 0,l=null===(i=null==n?void 0:n.columns)||void 0===i?void 0:i.filter((e=>e.state)).map((e=>({fieldName:e.field,fieldState:e.state})));l&&o.setFields&&o.setFields(l);const d=c.PXReflectionMetadata.getMetadata(this.Model,r,c.viewInfo.name);if(o.registerScreenService(this),n&&(null==d?void 0:d.syncAlways)){let e;if(null==n?void 0:n.rows){o.setRows(n.rows,n.columns);for(let r=0;r<o.records.length;r++){const i=o.records[r];(null!==(a=i.id)&&void 0!==a?a:i.getRecordIdByKeys())===n.activeRowId&&(e=r)}}o.setActiveRow(e)}}else o instanceof c.PXView&&(u.forEach((e=>{var i;!n&&o.getField(e.fieldName)||d.push(e.fieldName);const a=e.fieldState;a&&a.viewName&&(a.graph=null===(i=this.model.graphInfo)||void 0===i?void 0:i.graphType),a.error&&(this.fieldErrorsMap[r][`${r}.${e.fieldName}`]={message:a.error,level:a.errorLevel})})),o.setFields&&o.setFields(u),o.id=e.recordsIds?e.recordsIds[r]:o.getRecordIdByKeys(),this.attachValueObserversForView(d,o,r))}this.model.setActionStates(e.actionStates,e.actionNamesPerView),e.controlsData&&(r&&this.instantiateDataComponent(Object.keys(e.controlsData)),this.repaintDataComponents(this.dataComponents,e)),this.tq.flushing||this.tq.flushMicroTaskQueue(),this.dirtyValues=this.dirtyValues.filter((e=>{var n;if(!(null===(n=this.fieldErrorsMap)||void 0===n?void 0:n[e.viewName]))return!1;const r=this.fieldErrorsMap[e.viewName][`${e.viewName}.${e.fieldName}`];return r&&(r.level===c.PXErrorLevel.Error||r.level===c.PXErrorLevel.RowError)})),this.tq.queueTask((()=>this.suspendUpdates=!1)),e.screenID=this.screenID,this.eventAggregator.publish("screen-updated",e)}attachValueObserversForView(e,n,r){e.forEach((e=>this.attachValueObserver(n.getField(e),r,e,n)))}clearObservers(e){var n;e&&(null===(n=this.subscriptions.get(e))||void 0===n||n.forEach((e=>e.dispose())),this.subscriptions.delete(e))}updatesSuspended(){return this.suspendUpdates||this.updateInProgress}hasFieldsErrors(){if(!this.fieldErrorsMap)return!1;for(const e in this.fieldErrorsMap){if(!this.fieldErrorsMap[e])continue;if(Object.keys(this.fieldErrorsMap[e]).length>0)return!0}return!1}getFieldError(e){var n,r;const o=null==e?void 0:e.split(".");if(o)return null===(r=null===(n=this.fieldErrorsMap)||void 0===n?void 0:n[o[0]])||void 0===r?void 0:r[e]}get Model(){return this.model}activateDataComponents(e){const n=e?this.getDataComponents().filter((n=>e.indexOf(n.name)>-1)):this.getDataComponents();this.eventAggregator.publish("data-components-initialized",n)}instantiateDataComponent(e){if(!(null==e?void 0:e.length))return;let n=!1;for(const r of e){const e=this.getDataComponentConfig(r);let o=null==e?void 0:e.instance;!o&&(null==e?void 0:e.creator)&&(o=e.creator(),e.instance=o),o&&(o.resultType||(o.resultType=r),n=!0)}n&&this.activateDataComponents()}internalRegisterDataComponent(e,n,r){if(this.dataComponents||(this.dataComponents=new Map),this.dataComponents.has(e))return;const o={oneTimeRegistration:null==r?void 0:r.oneTimeRegistration,category:null==r?void 0:r.category};n instanceof Function?o.creator=n:(o.instance=n,o.instance.resultType||(o.instance.resultType=e),this.isCompositeComponent(n)&&n.registerCompositeDataComponents(this.model)),this.dataComponents.set(e,o)}getDataComponents(){return Array.from((this.dataComponents||new Map).entries()).filter((e=>e[1].instance)).map((e=>({name:e[0],component:e[1].instance,category:e[1].category})))}repaintDataComponents(e,n){null==e||e.forEach(((e,r)=>{const o=e.instance;o&&(this.isCompositeComponent(o)?o.setComponentData(n.controlsData):this.repaintDataComponent(o,r,(n.controlsData||{})[r]),e.oneTimeRegistration&&(n.controlsData||{})[r]&&this.unregisterDataComponent(r))}))}repaintDataComponent(e,n,r){if(r){try{e.setComponentData(r)}catch(e){S.error(`Error occured while running setComponentData ${n}`,e)}e.getComponentErrors&&(this.fieldErrorsMap[n]=e.getComponentErrors(n,r))}}collectDataComponentQueryParams(e,n,r,o,i,a,l){null==e||e.forEach(((e,c)=>{const d=e.instance;if(d){let e=!1;if(a&&d.element&&(l&&!l.contains(d.element)&&(e=!0),!e&&(null==o?void 0:o.some((e=>e!==l&&e.contains(d.element))))&&(e=!0)),!e&&i&&(e=!i.has(c.toLowerCase())),!e&&d.getQueryParams){const e=d.getQueryParams(r)||{};this.isCompositeComponent(d)||(n[c]=Object.assign(Object.assign({},e||{}),{resultType:null==d?void 0:d.resultType}))}}}))}getQueryParams(e,n){var r,o;void 0===n&&(n=new c.ScreenUpdateParams);const i={command:e};i.dialogCallback=n.dialogCallback,n.commitChanges?i.data=this.dirtyValues.filter((e=>!e.typing)).map((e=>{const n=Object.assign({},e);return delete n.typing,n})):n.data&&(i.data=n.data);const a=n.container,l=null===(r=this.loadOnDemandAreas)||void 0===r?void 0:r.filter((e=>!(0,d.isVisible)(e))),u=this.model.optimizeDataSelection,p=n.views?new Set(n.views.map((e=>e.toLowerCase()))):void 0;if(i.controlsParams={},this.collectDataComponentQueryParams(this.dataComponents,i.controlsParams,n,l,p,u,a),u){i.viewsParams=n.commitChanges||this.model.isDirty?C.TabbarFieldsService.getNecessaryViews(this.screenID):{};for(const e of this.viewBindings){if(e.element){if(a){if(!a.contains(e.element))continue}else if(!(null===(o=e.element.ownerDocument)||void 0===o?void 0:o.contains(e.element)))continue;if(null==l?void 0:l.some((n=>n.contains(e.element))))continue}p&&!p.has(e.view.toLowerCase())||(i.viewsParams[e.view]={})}}return i}attachValueObserver(e,n,r,o){const i=this.generateValueObserver(n,r,e.commitChanges,o);e.updateValue=i=>{var a;e.value=i;let l=null!==(a=o.id)&&void 0!==a?a:o.getRecordIdByKeys();l||(l=this.getRecordIdByKeys(n)),this.setScreenParameter(n,r,i,l)},this.subscriptions.has(n)||this.subscriptions.set(n,[]),this.subscriptions.get(n).push(this.bindingEngine.propertyObserver(e,"value").subscribe(i))}generateValueObserver(e,n,r,o){return(i,a)=>{var l;if(!this.suspendUpdates&&!this.updateInProgress&&!o.viewInUpdateProcess){let a=null!==(l=o.id)&&void 0!==l?l:o.getRecordIdByKeys();a||(a=this.getRecordIdByKeys(e)),this.setScreenParameter(e,n,i&&i.id?i.id:i,a),this.model.setDirty(),r&&this.update()}}}getRecordIdByKeys(e){const n=this.model[e];return n.id?n.id:n.getRecordIdByKeys()}};r.__decorate([(0,b.newInstance)(p.ScreenApiClient),r.__metadata("design:type",Object)],D.prototype,"screenApiClient",void 0),D=r.__decorate([(0,g.autoinject)(),r.__param(6,(0,g.inject)(u.SessionUrlRouter)),r.__metadata("design:paramtypes",[a.EventAggregator,i.TaskQueue,i.BindingEngine,f.AlertService,x.RedirectHelper,d.BusyCounter,Object])],D),n.ScreenService=D;n.PopupMessageOpenEvent=class PopupMessageOpenEvent{constructor(e){this.popupMessage=e}}}.apply(n,o),void 0===i||(e.exports=i)},"./services/selector-service/selector-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js"),r("./utils/index.ts"),r("./descriptors/index.ts"),r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js"),r("./controls/dialog/base-dialog/dialog-helper.ts")],i=function(e,n,r,o,i,a,l,c,d){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SelectorService=void 0;const u=490;(0,i.getLogger)("selector service");let p=class SelectorService{constructor(e,n,r){this.dialogHelper=e,this.screenEventManager=n,this.tq=r,this.selectors=new Map,this.gridReady=!1,this.dataReadyHandler=()=>{}}getDialogVM(){var e;return null===(e=this.dialogController)||void 0===e?void 0:e.controller.viewModel}getSelectorValue(e,n,o,i,a){var c;return r.__awaiter(this,void 0,void 0,(function*(){let r,o;null===(c=this.dialogController)||void 0===c||c.cancel();const d=new Promise(((e,n)=>{r=e,o=n}));e.preset=l.GridPreset.Empty,e.allowUpdate=!1,e.allowDelete=!1,e.allowInsert=!1,e.adjustPageSize=!0,e.suppressNoteFiles=!0,e.markRequired=!1,e.id||(e.id="selector-dialog-grid"),this.gridConfig=e,this.searchValue=i,this.searchField=a||this.gridConfig.valueField;const p=`${e.dialogCaptionPrefix}${e.displayName?`  ${e.displayName}`:""}`;let b;return this.dialogHelper.openDialog({template:'<template auto-repaint="false"><qp-grid class="stretch"\n\t\t\t\tsearch-value.bind="searchValue" search-field.bind="searchField"\n\t\t\t\tconfig.bind="gridConfig"\n\t\t\t\ton-default-action.call="selected(args)"\n\t\t\t\ton-action.call="actionHandler(args)"\n\t\t\t\ton-data-ready.call="dataReadyHandler(grid, args)"\n\t\t\t\ton-active-row-changed.call="rowChanged(args)" ref="gridElem">\n\t\t\t\t</qp-grid></template>',context:this,id:e.panel_id,caption:p,resizableConfig:{minWidth:e.minWidth||u,minHeight:e.minHeight||330}},{ignoreTransitions:!0,rejectOnCancel:!0,position:(e,r)=>this.position(n,e,r)},(e=>{this.dialogController=e.controller,b=this.getDialogVM().QpEventManager.subscribe("ExecuteCommand",(e=>{"select"===e.Command&&e.stop()}))})).whenClosed((e=>{r(e.output)})).catch((()=>{o("because reason")})).finally((()=>{this.dialogController=void 0,null==b||b.dispose()})),yield d}))}position(e,n,r){const o=n.querySelector("ux-dialog"),i=n.querySelector("ux-dialog-body");if(!o||!i)return;const a=o.style,l=e.getBoundingClientRect(),d=l.top,p=c.PLATFORM.global.innerHeight-l.bottom,b=c.PLATFORM.global.innerWidth-l.left,g=d>p;a.width="800px",this.setHeight(n,g?d:p),a.position="absolute",a.transform="translateY(-10000px)",this.dataReadyHandler=(e,r)=>{let i=NaN,m=NaN,f=NaN,v=NaN,y=!1;const x=this.getDialogVM();x&&(x.position(n),y=x.maximized,x.maximized=!1);let C=o.getBoundingClientRect(),S=C.width;const D=e.freeWidth;D>0&&(S=Math.max(C.width-D+1,u),a.width=`${S}px`,S===u&&e.adjustColumns(!1));const E=e.freeHeight;E>0&&this.setHeight(n,Math.max(C.height-E+1,330)),C=o.getBoundingClientRect(),C.height>c.PLATFORM.global.innerHeight?i=0:g?C.height>d?i=0:m=c.PLATFORM.global.innerHeight-l.top:C.height>p?m=0:i=l.bottom,C.width>c.PLATFORM.global.innerWidth?(f=0,S=c.PLATFORM.global.innerWidth,a.width=`${S}px`):b<S?v=0:f=l.left,Number.isNaN(i)||(a.top=`${i}px`),Number.isNaN(m)||(a.bottom=`${m}px`),Number.isNaN(f)||(a.left=`${f}px`),Number.isNaN(v)||(a.right=`${v}px`),(y||c.PLATFORM.global.innerWidth<u||c.PLATFORM.global.innerHeight<330)&&x.maximize(),a.transform="none",this.dataReadyHandler=()=>{}}}setHeight(e,n){var r;const o=null===(r=this.getDialogVM())||void 0===r?void 0:r.resizerVM;if(o)o.setHeight(n);else{e.querySelector(".qp-resizable").style.height=`${n}px`}}actionHandler(e){var n,r;"select"===e.action?null===(n=this.dialogController)||void 0===n||n.ok(this.preselectedValue):"addNewRecord"===e.action&&(null===(r=this.dialogController)||void 0===r||r.ok({id:"<NEW>",text:"<NEW>"}))}selected(e){var n;if(void 0!==e.activeRow){const r=e.getCell(this.gridConfig.valueField),o=e.getCell(this.gridConfig.descriptionName);r&&(null===(n=this.dialogController)||void 0===n||n.ok({id:(0,a.getRawValue)(r.value),text:(0,a.getRawValue)(null==o?void 0:o.value)||""}))}}rowChanged(e){var n,r;if(!this.gridReady&&(this.gridReady=!0,this.gridElem)){const e=this.gridElem.querySelector("input");e&&this.tq.queueTask((()=>e.focus()))}if(void 0!==e.activeRow){const o=e.getCell(this.gridConfig.valueField),i=e.getCell(this.gridConfig.descriptionName),a=(null===(n=null==o?void 0:o.value)||void 0===n?void 0:n.id)?o.value.id:null==o?void 0:o.value,l=(null==i?void 0:i.value)||(null===(r=null==o?void 0:o.value)||void 0===r?void 0:r.text)||"";this.preselectedValue={id:a,text:l}}}getValueFromSelector(e){return r.__awaiter(this,void 0,void 0,(function*(){const n=yield this.ensureSelectorInTheDom(e);let r,o;const i=new Promise(((e,i)=>{r=e,o=i,n.resolvers={resolve:r,reject:o}}));return this.querySelector(n,e),i}))}querySelector(e,n){const r=__px(document).getDropDownPos(n.inputElement,e.panelElement,2);document.dropDownElem=e.panelElement,e.panelElement.setAttribute("controlID",e.panelObject.ID),e.panelElement.style.left=`${r.left}px`,e.panelElement.style.top=`${r.top}px`,e.panelElement.style.position="absolute",e.panelElement.style.display="",e.activeQuery=!0;const o=e.gridObject;o.clearFastFilter(),o.search(n.value,n.valueColumn);const i=e.gridObject;setTimeout((()=>{i.filterBar&&!__px(document).IsTablet?i.filterBar.focus():i.focus()}),1)}ensureSelectorInTheDom(e){return r.__awaiter(this,void 0,void 0,(function*(){let n,r;const o=new Promise(((e,o)=>{n=e,r=o}));if(this.selectors.has(e.controlId))n(this.selectors.get(e.controlId));else{const r={name:"DropDown",blockPage:!0,commitChanges:!1,repaintControls:0,postData:1,postDataControls:!0,container:"",repaintControlsIDs:"",selectControlsIDs:"",commitChangesIDs:"",optimizePostData:!1};__px_callback(window).execI({ID:e.controlId,sourceName:e.controlName},r,"",(r=>{this.selectors.set(e.controlId,this.callbackHandler(r,e)),n(this.selectors.get(e.controlId))}))}return o}))}callbackHandler(e,n){__px_cm(window).processHtmlData(e,`${n.controlId}_selector_dialog`);const r=document.querySelector(`#${n.controlId}_selector_dialog`),o=document.querySelector(`#${n.controlId}_pnl_gr`),i=o.object,a=i.events,l=document.querySelector(`#${n.controlId}_pnl`),c=l.object,d=c.events;document.querySelector("form").appendChild(l);const u={selectorElement:r,grid:o,gridObject:i,panelElement:l,panelObject:c,resolvers:void 0,activeQuery:!1},resolveWithCurrentCell=()=>{const e=i.activeRow.getCell(n.valueColumn).getValue(),r=i.activeRow.getCell(n.textColumn).getValue();u.resolvers&&u.activeQuery&&u.resolvers.resolve({id:e,text:r}),u.panelElement.style.display="none",document.dropDownElem=void 0},rejectWithStatus=e=>{u.resolvers.reject(new Error(e)),u.panelElement.style.display="none",document.dropDownElem=void 0};return u.panelObject.hideDropDown=()=>{rejectWithStatus("outer click")},d.addEventHandler("beforeHide",(()=>{rejectWithStatus("Close")})),a.addEventHandler("keyDown",((e,n)=>{switch(n.key){case 13:n.cancel=!0,resolveWithCurrentCell();break;case 27:n.cancel=!0,rejectWithStatus("Close")}})),i.extToolbar.events.addEventHandler("buttonClick",((e,n)=>{if("Select"===n.button.key)resolveWithCurrentCell()})),a.addEventHandler("cellClick",((e,n)=>{2===n.event.clickCount&&resolveWithCurrentCell()})),u}};p=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[d.DialogHelper,l.QpEventManager,o.TaskQueue])],p),n.SelectorService=p}.apply(n,o),void 0===i||(e.exports=i)},"./services/session-url-serializer.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SessionUrlSerializer=void 0;const r="(W(",o=`/${r}`;n.SessionUrlSerializer=class SessionUrlSerializer{constructor(){this.getDefaultUrlParams=()=>({protocol:"",hostname:"",sitename:"",isRoot:!1,pathname:"",sessionNumber:0})}serializeUrl(e){let n="";return e.protocol&&e.hostname&&(n+=`${e.protocol}://`),e.hostname&&(n+=`${e.hostname}`),e.port&&(n+=`:${e.port}`),e.sitename&&(n+=`/${e.sitename}`),e.sessionNumber&&(n+=`/${r}${e.sessionNumber}))`),e.pathname&&(n+=`/${e.pathname}`),e.queryParams&&(n+=`?${this.serializeQueryParams(e.queryParams)}`),n}parseUrl(e,n){const i=this.getDefaultUrlParams();let a=e.indexOf("//"),l="";if(a>0){i.protocol=e.substring(0,a-1),a=i.protocol.length+3,l=e.substring(a,e.indexOf("/",a));const n=l.split(":");2===n.length?(i.hostname=n[0],i.port=parseInt(n[1]),isNaN(i.port)&&(i.port=void 0)):1===n.length&&(i.hostname=n[0]),i.isRoot=!0}else a=0;const c=e.substring(a).split("?");if(!c.length)throw Error("Url is in bad format");let d=c[0];l&&(d=d.substring(l.length)),d.startsWith(o)||(d=this.removeLeft(d,"/"));const u=d.split("/"),p=u.findIndex((e=>{if(e.startsWith(r))return!0}));let b=p+1;if(b>0){const e=u[p];i.sessionNumber=parseInt(e.substring(3)),isNaN(i.sessionNumber)&&(i.sessionNumber=0),i.sitename=u.slice(0,p).join("/")}else n?(i.sitename=n,u[0]===n&&(b=1)):"Main"!==u[0]&&(i.sitename=u[0],b=1);return i.pathname=u.slice(b).join("/"),2===c.length&&(i.queryParams=this.parseQueryParams(c[1])),i}parseLocation(e){const n=this.parseUrl(e.pathname);return n.protocol=e.protocol.substring(0,e.protocol.indexOf(":")),n.hostname=e.hostname,n.port=Number.parseInt(e.port),n}parseQueryParams(e){const n=this.removeLeft(e,"?"),r={};return n.split("&").forEach((e=>{const n=e.split("=");2===n.length&&(r[n[0]]=n[1])})),r}removeLeft(e,n){let r=e;for(;r.charAt(0)===n;)r=r.substring(1);return r}serializeQueryParams(e){let n=Object.keys(e).reduce(((n,r)=>`${n}${r}=${e[r]}&`),"");return n.lastIndexOf("&")===n.length-1&&(n=n.substring(0,n.length-1)),n}}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./services/suggestings-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/api-client.ts"),r("./utils/index.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SuggestingsServiceFabric=n.SuggestingsService=void 0;class SuggestingsService{constructor(e,n){this.params=e,this.apiClient=n,this.results=new Map,this.baseQuery={args:e.args,fields:this.params.fields,filter:"",graph:this.params.graph,graphStateId:this.params.graphStateId,inlineArgs:this.params.inlineArgs,skip:0,take:this.params.pageSize,view:this.params.viewName,dataField:this.params.dataField}}abortRequest(){this.abortController&&(this.abortController.signal.aborted||this.abortController.abort())}getSuggestions(e){return r.__awaiter(this,void 0,void 0,(function*(){if(!this.results.has(e)){const n=Object.assign(Object.assign(Object.assign({},this.baseQuery),{filter:e}),{take:2*this.params.pageSize});return this.getData(n).then((r=>(r.haveMore&&(r.loadMore=()=>{if(r.loading)return;r.loading=!0;const e=Object.assign(Object.assign({},n),{skip:r.suggestionItems.length,take:this.params.pageSize});this.getData(e).then((e=>{r.haveMore=e.haveMore,r.totalCount=e.totalCount,r.suggestionItems.push(...e.suggestionItems),r.loading=!1}))}),this.results.set(e,r),this.results.get(e))))}return Promise.resolve(this.results.get(e))}))}getData(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.abortRequest(),this.abortController=new AbortController,this.apiClient.getSuggestionData(e,this.abortController.signal).then((n=>{if(!n.data||!n.fields)return{haveMore:!1,totalCount:0,suggestionItems:[],loading:!1};const r=n.fields.findIndex((e=>e.toLowerCase()===this.params.valueField.toLowerCase())),o=n.fields.length>1&&this.params.descriptionName!==this.params.valueField?n.fields.findIndex((e=>e.toLowerCase()===`${this.params.descriptionName}`.toLowerCase())):-1;return{haveMore:n.haveMore,loading:!1,suggestionItems:n.data.map((n=>{const i=n[r],l=-1===o?void 0:n[o];return{display:l,segments:(0,a.markHighlights)(e.filter,l?`${i} - ${l}`:`${i}`),value:i}})),totalCount:n.totalCount}}))}))}}n.SuggestingsService=SuggestingsService;let l=class SuggestingsServiceFabric{constructor(e){this.apiClient=e}getSuggestingService(e){return new SuggestingsService(e,this.apiClient)}};l=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[i.ApiClient])],l),n.SuggestingsServiceFabric=l}.apply(n,o),void 0===i||(e.exports=i)},"./services/tab-fields-service.ts":function(e,n,r){var o,i;o=[r,n,r("./descriptors/api-types.ts")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TabbarFieldsService=void 0;function findAllFieldinfo(e){const n={fields:[],grids:[],fieldsets:[],allViewNames:[]},r=null==e?void 0:e.querySelectorAll("qp-fieldset, qp-field, qp-grid");if(!r||0===r.length)return n;const o={};return r.forEach((e=>{switch(null==e?void 0:e.tagName){case"QP-FIELD":const r=e.getAttribute("control-state.bind");if(r){n.fields.push(r);const e=r.split(".");e.length>0&&(o[e[0]]=!0)}break;case"QP-FIELDSET":const i=e.getAttribute("id"),a=e.getAttribute("view.bind"),l={id:i,defaultFields:[],viewId:void 0},c=e.querySelectorAll("field");(null==c?void 0:c.length)>0&&c.forEach((e=>{const n=null==e?void 0:e.getAttribute("name");if(a)l.defaultFields.push(`${a}.${n}`);else if(n){const e=n.split(".");l.defaultFields.push(n),o[e[0]]=!0}})),a&&(o[a]=!0,l.viewId=a),n.fieldsets.push(l);break;case"QP-GRID":const d=e.getAttribute("view.bind");d&&n.grids.push({view:d,columns:[]})}})),n.allViewNames=Object.keys(o),n}n.TabbarFieldsService=new class TabFieldsService{constructor(){this.fieldsInfo={}}initTabbar(e){const n=document.createElement("div");n.innerHTML=e.innerHtml;const r=Array.from(n.getElementsByTagName("QP-TAB"));this.fieldsInfo[e.screenId]=this.fieldsInfo[e.screenId]||{},this.fieldsInfo[e.screenId][e.tabbarId]={};for(const n of r){const r=findAllFieldinfo(n);this.fieldsInfo[e.screenId][e.tabbarId][n.id]=r}}getTabFieldInfo(e){var n,r,o;return null===(o=null===(r=null===(n=this.fieldsInfo)||void 0===n?void 0:n[e.screenId])||void 0===r?void 0:r[e.tabbarId])||void 0===o?void 0:o[e.tabId]}getNecessaryViews(e){var n;const o={},i=this.fieldsInfo[e];for(const e in i)for(const a in i[e]){const l=i[e][a];null===(n=null==l?void 0:l.allViewNames)||void 0===n||n.forEach((e=>o[e]={retrieveMode:r.FieldsRetrieveMode.ErrorsOnly}))}return o}}}.apply(n,o),void 0===i||(e.exports=i)},"./services/translation-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("../node_modules/aurelia-dependency-injection/dist/native-modules/aurelia-dependency-injection.js"),r("../node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js"),r("./services/screen-service.ts")],i=function(e,n,r,o,i,a,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TranslationService=void 0;let c=class TranslationService{constructor(e){this.container=e,this.screenService=e.get(l.ScreenService),this.http=e.get(a.HttpClient),this.processors={}}addTranslationsProcessor(e,n){this.processors[e]=n}removeTranslationsProcessor(e){delete this.processors[e]}setTranslations(e,n){return r.__awaiter(this,void 0,void 0,(function*(){if(!n||0===n.length)return;const r=e.name||"",o=n.map((e=>e.valueString)),i=`${r}Translations`,a=e.view;if((null==a?void 0:a.name)&&this.processors[a.name])return void this.processors[null==a?void 0:a.name](i,o);const l=null==a?void 0:a.getRecordIdByKeys();this.screenService.setScreenParameter((null==a?void 0:a.name)||"",i,o,l),this.screenService.update()}))}sendRequestForLocale(){return r.__awaiter(this,void 0,void 0,(function*(){const e=yield this.http.fetch("ui/locale");if(e.ok)return e.json()}))}};c=r.__decorate([(0,i.autoinject)(),r.__metadata("design:paramtypes",[o.Container])],c),n.TranslationService=c}.apply(n,o),void 0===i||(e.exports=i)},"./services/tree-api-client.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./services/base-api-client.ts"),r("aurelia-framework"),r("./utils/index.ts")],i=function(e,n,r,o,i,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TreeApiClient=void 0;const l="tree",c="ui/screen";let d=class TreeApiClient{constructor(e){this.client=e}getData(e,n){return r.__awaiter(this,void 0,void 0,(function*(){const r=yield this.client.fetchExt(`${c}/${(0,a.getScreenID)()}/${l}/data`,e);return this.processTreeData(r,n)}))}processTreeData(e,n){return e.map((e=>{let r=null;n.idParent&&(r=e.columns[n.idParent]&&"null"!==e.columns[n.idParent]?e.columns[n.idParent]:null);const o=this.createItem(e,n);return o.parentId=r,n.idName&&(o.id=e.columns[n.idName]),o}))}getDataFromColumns(e,n){return r.__awaiter(this,void 0,void 0,(function*(){const r=yield this.client.fetchExt(`${c}/${(0,a.getScreenID)()}/${l}/data`,e);return this.processColumnsData(r,e,n)}))}processColumnsData(e,n,r){const o={name:n.view,icon:"",iconColor:"",children:[]},i=[r.iconField,r.idName,r.iconColorField],a=n.columns.filter((e=>!i.includes(e)));for(const n of e)a.reduce(((e,o)=>{var i,a;const l=n.columns[o];let c=null===(i=e.children)||void 0===i?void 0:i.find((e=>e.name===l));return c||(c={name:l,children:[],icon:r.iconField?n.columns[r.iconField]:void 0,iconColor:r.iconColorField?n.columns[r.iconColorField]:void 0},null===(a=e.children)||void 0===a||a.push(c)),c}),o);return o}getTestData(){return r.__awaiter(this,void 0,void 0,(function*(){const e=yield this.client.fetchExt(`${c}/${(0,a.getScreenID)()}/${l}/testdata`,{});try{return JSON.parse(e)}catch(e){return alert(`Invalid input test data for tree ${this.treeId} Error: ${e.message}`),console.error(`Invalid input test data for tree ${this.treeId} Error: ${e.message}`),[]}}))}getNode(e,n){return r.__awaiter(this,void 0,void 0,(function*(){const r=yield this.client.fetchExt(`${c}/${(0,a.getScreenID)()}/${l}/node`,Object.assign(Object.assign({},e),{hideRootNode:n.hideRootNode,openedLayers:n.openedLayers}));return this.processData(r,n)}))}processData(e,n){return e?e.map((e=>{const r=void 0!==e.parentId&&"null"!==e.parentId?e.parentId:null,o=this.createItem(e,n);return o.parentId=r,o.value=n.idName?e.columns[n.idName]:null,n.idParent&&n.idName?o.id=!n.hideRootNode||e.columns[n.idParent]!==r&&""!==e.columns[n.idParent]?e.columns[n.idParent]:e.columns[n.idName]:o.id="",e.isLeaf&&(o.isLeaf=!0),o})):[]}checkAction(e,n){return r.__awaiter(this,void 0,void 0,(function*(){try{const n=yield this.client.fetchExt(`${c}/${(0,a.getScreenID)()}/${l}/action`,e);return"string"==typeof n?(console.error(n),n):(n.actions&&(n.actions=JSON.parse(n.actions)),n.extraColumns&&(n.extraColumns=JSON.parse(n.extraColumns)),n)}catch(e){return e.data}}))}createItem(e,n){const r={name:n.description?e.columns[n.description]:""};if(n.actionField&&e.columns[n.actionField])try{r.actions=JSON.parse(e.columns[n.actionField])}catch(e){alert(`Cannot parse JSON for actions in node id=${r.id}: ${e}`),console.error(`Cannot parse JSON for actions in node id=${r.id}: ${e}`)}if(n.extraColumnField&&e.columns[n.extraColumnField])try{r.extraColumns=JSON.parse(e.columns[n.extraColumnField])}catch(e){alert(`Cannot parse JSON for extra columns in node id=${r.id}: ${e}`),console.error(`Cannot parse JSON for extra columns in node id=${r.id}: ${e}`)}return n.iconField&&e.columns[n.iconField]&&(r.icon=e.columns[n.iconField]),n.iconColorField&&e.columns[n.iconColorField]&&(r.iconColor=e.columns[n.iconColorField]),r}};d=r.__decorate([i.autoinject,r.__metadata("design:paramtypes",[o.BaseApiClient])],d),n.TreeApiClient=d}.apply(n,o),void 0===i||(e.exports=i)},"./services/tree-service.ts":function(e,n,r){var o,i;o=[r,n,r("./utils/index.ts"),r("../node_modules/aurelia-logging/dist/native-modules/aurelia-logging.js")],i=function(e,n,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TreeService=n.getId=void 0;let i=1;const a=(0,o.getLogger)("tree-service");n.getId=()=>""+i++;const l=null,c={item:null,children:[],opened:!0,initialized:!1,hidden:!1,mark:""};function normalizeItemTreeNode(e,r,o){const i=(0,n.getId)();o.push({name:e.name,id:i,parentId:r,icon:e.icon,iconColor:e.iconColor,actions:e.actions});for(const n of e.children||[])normalizeItemTreeNode(n,i,o)}class TreeService{constructor(){this.itemList=[],this.metaMap={},this.mode="none",this.filterShowChildren=!0,this.filterStart=!1,this.filterIgnoreCase=!0,this.lastSelectedNodeId="",this.lastId=0,this.treeId="",this.defaultDrag="copy",this.modifiable=!1,this.dynamic=!1,this.linkedWithView=!1,this.selectSeparately=!1,this.selectedDrag=!1,this.singleClickSelect=!1,this.iconSize=16,this.checkDropCommand="",this.hovered={id:null,separator:!1},this.checkboxWidth=0,this.openArrowWidth=0,this.treeNodes=[]}buildTree(e){normalizeItemTreeNode(e,l,this.itemList),this.createMetaMap(this.itemList)}createMetaMap(e){e.forEach((e=>{const n=this.metaMap[e.id]||Object.assign(Object.assign({},c),{item:e,selected:!1});this.metaMap[e.id]=n})),e.forEach((e=>{const n=this.metaMap[e.parentId]||Object.assign({},c);this.metaMap[e.parentId]=Object.assign(Object.assign({},n),{children:[...n.children,e.id]}),this.dynamic&&!this.linkedWithView&&null!==e.parentId&&(this.metaMap[e.id].opened=!1)}));for(const e in this.metaMap)this.metaMap[e].testId=this.generateTestId(e)}isInitialized(e){return this.metaMap[e].initialized}toggle(e){const n=this.metaMap[e];this.metaMap=Object.assign(Object.assign({},this.metaMap),{[e]:Object.assign(Object.assign({},n),{opened:!n.opened})})}closeChildren(e){e.opened=!1,e.children.forEach((e=>{this.closeChildren(this.metaMap[e])}))}traverseAndClose(e,n,r){n>=r?this.closeChildren(e):e.children.forEach((e=>{this.traverseAndClose(this.metaMap[e],n+1,r)}))}copyChildren(e,n){return this.applyRecursivelyToChildren(this.metaMap[n].children,(n=>{const r=this.metaMap[n].item;if(!r)return a.error(`Cannot find node ${n} in tree ${this.treeId}`),[];e.push(Object.assign({},r))}),e)}resetFilter(){for(const e in this.metaMap)this.metaMap[e].mark="",this.metaMap[e].hidden=!1}resetSelected(){for(const e in this.metaMap)this.metaMap[e].selected=!1,this.metaMap[e].indeterminate=!1}getParentId(e){const n=this.metaMap[e];return e===l?e:n.item.parentId}getParentChain(e){const n=[];for(;e!==l;)e=this.getParentId(e),n.push(e);return n}getTestIdChain(e){const n=[];for(;e!==l&&"null"!==e;)n.push(this.getTestParentId(e)),e=this.getParentId(e);return n}getTestParentId(e){const n=this.metaMap[e];return this.metaMap[n.item.parentId].children.indexOf(e)}generateTestId(e){if(!this.treeId)return"";const n=this.getTestIdChain(e).reverse();let r=`${this.treeId}_node`;return n.forEach((e=>{r+=`_${e}`})),`${r}`}recalcTestId(e){if(!this.metaMap[e].item)return;const n=this.metaMap[this.metaMap[e].item.parentId],r=n.children.indexOf(e),o=n.children.slice(r,n.children.length);this.recalcChildren(o)}delete(e){const n=this.metaMap[e].item.parentId,r=this.metaMap[n].children.indexOf(e);-1!==r&&this.metaMap[n].children.splice(r,1),this.deleteChildren(e),r>=1?this.recalcTestId(this.metaMap[n].children[r-1]):this.recalcTestId(this.metaMap[n].children[r])}addNewChild(e,n){this.addNewNodeToTree(n),this.metaMap[e].children=[...this.metaMap[e].children.slice(),n.item.id],this.recalcTestId(n.item.id)}addNewSibling(e,n){this.addNewNodeToTree(n),this.insertAfter(e,n),this.recalcTestId(n.item.id)}insertAfter(e,n){const r=this.getParentId(e),o=Object.assign({},this.metaMap[r]),i=o.children.indexOf(e);i<0?a.info("index is not in parent children"):o.children.splice(i+1,0,n.item.id)}generateNewId(){for(;this.metaMap[this.lastId];)this.lastId=this.lastId+1;return this.lastId.toString()}lastIdNumber(){const e=Object.assign({},this.metaMap);return delete e.null,Math.max.apply(null,Object.keys(e))}createDefaultNewNode(e,n){const r=this.generateNewId(),o=Object.assign(Object.assign({},this.metaMap[e].item),{parentId:n,id:r});return Object.assign(Object.assign({},c),{item:Object.assign({},o)})}createCustomNewNode(e,n){return e.parentId=n,Object.assign(Object.assign({},c),{item:Object.assign({},e)})}addNewNodeToTree(e){var n;this.metaMap[null===(n=e.item)||void 0===n?void 0:n.id]=e,this.itemList.push(e.item)}draggedNodes(e){const n=this.metaMap[e].item;if(!n)return a.error(`Cannot find node ${e} in tree ${this.treeId}`),[];const r=[Object.assign({},n)];return this.copyChildren(r,e)}draggedSelectedNodes(){const e=[];for(const n in this.metaMap){const r=this.metaMap[n];r.selected&&0===r.children.length&&r.item&&e.push(Object.assign({},r.item))}return e}getRootTree(){return this.copyChildren([],null)}modifyids(e,n){e.map((e=>{e.id=(+e.id+n).toString(),e.parentId=(+e.parentId+n).toString()}))}insertNode(e,n,r){const o=Object.assign({},this.metaMap[e]);o.children.length?o.children.splice(r+1,0,n):o.children=[n],this.metaMap[n].item.parentId=e,this.metaMap[e]=o}dropNode(e,n,r,o=this.treeId){r.forEach((r=>{if(o!==this.treeId){const i=this.getTreeServiceById(o),a=i.draggedNodes(r),l=this.lastIdNumber()+1;i.modifyids(a,l),this.createMetaMap(a);const c=(+r+l).toString();this.insertNode(e,c,n),"cut"===this.defaultDrag&&i.delete(r),this.recalcTestId(c.toString()),i.resetHover()}else{if(!this.isDroppable(r,this.metaMap[e].children[n]||e))return;const o=this.getParentId(r);let i=[];if(e!==o&&r!==o&&this.metaMap[e].children[n]!==e){const a=Object.assign({},this.metaMap[o]),l=a.children.indexOf(r);i=a.children.slice(l+1),a.children=a.children.filter((e=>e!==r)),this.insertNode(e,r,n),this.metaMap[o]=a}else{const e=Object.assign({},this.metaMap[o]);e.children=e.children.filter((e=>e!==r)),e.children.splice(n,0,r),this.metaMap[o]=e}i.forEach((e=>{this.recalcTestId(e)})),this.recalcTestId(r)}this.resetHover()}))}isDroppable(e,n){if(e===n)return a.info("These must be different"),!1;if(e===l||n===l)return a.info("Do not use the root node"),!1;if(this.getParentChain(n).includes(e))return a.info("Cannot move unto self"),!1;return!0}resetHover(){this.hovered.id=null,this.hovered.separator=!1}resetTree(){for(const e in this.metaMap)this.metaMap[e].children=[],this.metaMap[e].item=null;this.metaMap={},this.itemList=[],this.treeNodes=[]}selectSingle(e){var n,r,o;return""!==this.lastSelectedNodeId&&this.metaMap[this.lastSelectedNodeId]&&(this.metaMap[this.lastSelectedNodeId].selected=!1),this.lastSelectedNodeId=e,this.metaMap[e]?(this.metaMap[e].selected=!0,[{id:null===(n=this.metaMap[e].item)||void 0===n?void 0:n.id,text:null===(r=this.metaMap[e].item)||void 0===r?void 0:r.name,value:null===(o=this.metaMap[e].item)||void 0===o?void 0:o.value}]):[]}selectMulti(e){var n;const r=this.metaMap[e],o=!r.selected;this.metaMap=Object.assign(Object.assign({},this.metaMap),{[e]:Object.assign(Object.assign({},r),{selected:o,indeterminate:!1})});let i=this.metaMap[null===(n=r.item)||void 0===n?void 0:n.parentId];if(!this.selectSeparately){for(;i.item&&i.item.id;)this.allChildrenSame(i.children,o)?(i.selected=o,i.indeterminate=!1):i.indeterminate=!0,i=this.metaMap[i.item.parentId];this.selectChildren(r.children,!r.selected)}}collectInfo(){var e,n,r,o,i,a;const l=[];for(const c in this.metaMap){const d=this.metaMap[c];if((0===d.children.length||this.selectSeparately)&&d.selected){let c;if(null===(null===(e=d.item)||void 0===e?void 0:e.value))continue;c=void 0===(null===(n=d.item)||void 0===n?void 0:n.value)?null===(r=d.item)||void 0===r?void 0:r.id:null===(o=d.item)||void 0===o?void 0:o.value,l.push({id:c,text:null===(i=d.item)||void 0===i?void 0:i.name,value:null===(a=d.item)||void 0===a?void 0:a.value})}}return l}getNested(e){const n=[this.getNode(e)];return this.getChildren(this.metaMap[e].children,n),n}getEventNested(e,n){const r=this.getEventNode(e);n&&(r.oldParentId=n);const o=[r];return this.getEventChildren(this.metaMap[e].children,o),o}getNode(e){var n,r;const o=this.metaMap[e];return{id:null===(n=o.item)||void 0===n?void 0:n.id,text:null===(r=o.item)||void 0===r?void 0:r.name}}getEventNode(e){var n,r;const o=this.metaMap[e],i=this.getPrevNodeId(e);return{id:e,parentId:null===(n=o.item)||void 0===n?void 0:n.parentId,text:null===(r=o.item)||void 0===r?void 0:r.name,prevNodeId:i}}getPrevNodeId(e){var n;const r=this.metaMap[null===(n=this.metaMap[e].item)||void 0===n?void 0:n.parentId],o=r.children.indexOf(e);return-1!==o&&o>0?r.children[o-1]:null}allChildrenSame(e,n){return e.every((e=>this.metaMap[e].selected===n&&!this.metaMap[e].indeterminate))}setFilter(e){if(this.resetFilter(),""===e)return;const n=new Set,o=new r.TextParter(e);this.itemList.forEach((e=>{o.hasMatch(e.name)&&(this.markTillRoot(n,e.id),this.filterShowChildren&&this.markChildren(this.metaMap[e.id].children,n))}));for(const r in this.metaMap){const o=this.metaMap[r];n.has(r)?(o.mark=e,o.children.length>0&&(o.opened=!0),o.hidden=!1):o.hidden=!0}return n.size}setDynamicFilter(e){if(this.resetFilter(),""===e)return;const n=new Set,o=[],i=new r.TextParter(e);return this.filterChildren(this.metaMap.null.children,n,i),null==n||n.forEach((n=>{var r,i;this.showChildren([n]),this.showTillRoot(null===(r=this.metaMap[n].item)||void 0===r?void 0:r.parentId);const a=this.metaMap[n];a.mark=e,!a.opened&&(null===(i=a.item)||void 0===i?void 0:i.name)&&(a.item.parentId&&!this.metaMap[a.item.parentId].initialized&&(o.push(a.item.parentId),this.metaMap[a.item.parentId].opened=!0),o.push(n))})),o}getTreeServiceById(e){return document.getElementById(e).au.controller.container.get(TreeService)}getEventChildren(e,n){e.forEach((e=>{n.push(this.getEventNode(e)),this.metaMap[e].children.length>0&&this.getEventChildren(this.metaMap[e].children,n)}))}getChildren(e,n){e.forEach((e=>{n.push(this.getNode(e)),this.metaMap[e].children.length>0&&this.getChildren(this.metaMap[e].children,n)}))}markTillRoot(e,n){var r;e.has(n)||(e.add(n),n!==l&&this.markTillRoot(e,null===(r=this.metaMap[n].item)||void 0===r?void 0:r.parentId))}showTillRoot(e){var n;this.metaMap[e].hidden=!1,this.metaMap[e].opened=!0,e!==l&&this.showTillRoot(null===(n=this.metaMap[e].item)||void 0===n?void 0:n.parentId)}showChildren(e){this.applyRecursivelyToChildren(e,(e=>{this.metaMap[e].hidden=!1}))}filterChildren(e,n,r){e.forEach((e=>{const o=this.metaMap[e].item;this.metaMap[e].hidden=!0,r.hasMatch(o.name)?(n.add(o.id),this.filterShowChildren&&this.markChildren(this.metaMap[e].children,n)):this.filterChildren(this.metaMap[e].children,n,r)}))}applyRecursivelyToChildren(e,n,r=null){return e.forEach((e=>{n(e),this.metaMap[e].children.length>0&&this.applyRecursivelyToChildren(this.metaMap[e].children,n,r)})),r}markChildren(e,n){this.applyRecursivelyToChildren(e,n.add.bind(n),n)}selectChildren(e,n){this.applyRecursivelyToChildren(e,(e=>{this.metaMap[e].selected=n,this.metaMap[e].indeterminate=!1}),n)}recalcChildren(e){this.applyRecursivelyToChildren(e,(e=>{this.metaMap[e].testId=this.generateTestId(e)}))}deleteChildren(e){this.metaMap[e].children.forEach((e=>{this.deleteChildren(e);const n=this.itemList.findIndex((n=>n.id===e));-1!==n&&this.itemList.splice(n,1),delete this.metaMap[e]})),this.metaMap[e].children=[]}}n.TreeService=TreeService}.apply(n,o),void 0===i||(e.exports=i)},"./services/tries.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EnsembleTrieNode=void 0;n.EnsembleTrieNode=class EnsembleTrieNode{constructor(e){this.doLog=!0,this.data=e,this.options=e.options}findSuggestions(e){if(!e)return null;const n=" ";e=e.replace(/\u00a0/g,n).replace(/\s+/g,n),this.doLog&&console.log("EnsembleTrieNode.findSuggestions".toUpperCase(),">"+e+"<");const r=!e.endsWith(n);let o=(e=e.trim()).split(n);o=o.slice(o.length>5?o.length-5:0),r||(o[o.length-1]+=n);let i=[],a=o[o.length-1],l=a.length;if(!this.data.trie_ensemble)return null;const c=Object.keys(this.data.trie_ensemble);if(!c)return null;if(!c.length)return null;if(this.doLog&&console.log("words",o),r){const e=new Trie;e.setRoot(this.data.trie_ensemble[c[0]]);const n=parseInt(c[0]);i=e.findSuggestions(a),this.doLog&&console.log("last word searchPhrase: >"+a+"<",i),i=i.filter((e=>!e.word.endsWith(a))).filter((e=>e.word.length>(this.options.quality__min_word_length||3))).filter((e=>e.w>(this.options.quality__word_completion_confidence_threshold||.5))).filter((e=>e.word.length-a.length>(this.options.quality__min_word_continuation_length||0))).filter((e=>e.word.substring(a.length).length/e.word.length>(this.options.quality__min_continuation_to_word_ratio||0))),i.forEach((e=>{e.w=e.w*n,e.ngram=n})),this.doLog&&console.log("last word searchPhrase (FILTERED): >"+a+"<",i)}let d=o.length-1;d>5&&(d=5);for(let e=d;e>=0;e--){a=o.slice(e).join(n),l=a.length;for(let e=1;e<c.length;e++){const n=new Trie;n.setRoot(this.data.trie_ensemble[c[e]]);const r=parseInt(c[e]);let o=n.findSuggestions(a);o.forEach((e=>{e.w=e.w*r,e.ngram=r})),this.doLog&&console.log("searchPhrase: >"+a+"<",o),o=o.filter((e=>!e.word.endsWith(a))).filter((e=>e.word.length>=(this.options.quality__min_word_length||2))),this.doLog&&console.log("searchPhrase (FILTERED): >"+a+"<",o),i=i.concat(o)}}return i=i.filter((e=>e.word!=o[o.length-1])),i.forEach((r=>{var o;let i=e.trim();if(-1===i.indexOf(n))r.reduced=r.word.substring(i.length);else{let e=i.substring(i.lastIndexOf(n)).trim(),a=null===(o=r.word)||void 0===o?void 0:o.substring(r.word.lastIndexOf(e));r.reduced=null==a?void 0:a.substring(e.length)}})),this.doLog&&console.log("FINAL",i),i.sort(((e,n)=>n.w+n.ngram-(e.w+e.ngram))).slice(0,4)}};class TrieNode{constructor(){this.s=!1,this.w=0,this.c={},this.word=null}hasChild(e){return!!this.c[e]}getChildTrieNode(e){return this.hasChild(e)?(this.c[e].word=(this.word||"")+e,Object.assign(new TrieNode,this.c[e])):null}insertChild(e,n){this.c[e]=n}markEndOfWord(e){this.s=!0}isEndOfWord(){return this.s}getWordForTrieNode(){return this.word}}class Trie{constructor(){this.root=new TrieNode}setRoot(e){this.root=Object.assign(new TrieNode,e)}insertWord(e){if(!e)return;let n=this.root;for(let r=0;r<e.length;r++)if(n&&n.hasChild(e[r]))n=n.getChildTrieNode(e[r]);else{const o=new TrieNode;null==n||n.insertChild(e[r],o),n=o}null==n||n.markEndOfWord(e)}findMatches(e){const n=[];return e?(this.buildMatches(this.findTailTrieNodeForWord(e),n),n):n}findSuggestions(e){const n=this.findMatches(e);if(!n)return[];if(!n.length)return[];const r=n.map((e=>({word:e.word,w:e.w,ngram:void 0}))),o=r.reduce(((e,n)=>({w:e.w+n.w}))).w;return r.forEach((e=>e.w=e.w/o)),r}findTailTrieNodeForWord(e){let n=this.root;for(let r=0;r<e.length;r++){if(!(null==n?void 0:n.hasChild(e[r])))return null;n=null==n?void 0:n.getChildTrieNode(e[r])}return n}buildMatches(e,n=[]){if(null!==e){e.isEndOfWord()&&n.push(e);for(const r in e.c){const o=e.getChildTrieNode(r);this.buildMatches(o,n)}}}}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./services/wiki-tooltip-service.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("aurelia-framework"),r("./services/api-client.ts")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WikiBehavior=n.WikiTooltipServiceFabric=n.WikiTooltipService=void 0;class WikiTooltipService{constructor(e){this.apiClient=e}getWikiTooltip(e){return r.__awaiter(this,void 0,void 0,(function*(){return this.apiClient.getWikiTooltipData(e)}))}getWikiSetting(){return r.__awaiter(this,void 0,void 0,(function*(){const e=yield this.getWikiSettingData();if(e){const n={behavior:l.Disabled};return n.behavior=this.toWikiBehavior(e.behavior),n}return null}))}toWikiBehavior(e){let n=l.Disabled;switch(e.toString().toLowerCase()){case"2":case"hover":n=l.Hover;break;case"3":case"none":n=l.Disabled}return n}getWikiSettingData(){return r.__awaiter(this,void 0,void 0,(function*(){return yield this.apiClient.getWikiSetting()}))}}n.WikiTooltipService=WikiTooltipService;let a=class WikiTooltipServiceFabric{constructor(e){this.apiClient=e}getWikiTooltipService(){return new WikiTooltipService(this.apiClient)}};var l;a=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[i.ApiClient])],a),n.WikiTooltipServiceFabric=a,function(e){e[e.Hover=2]="Hover",e[e.Disabled=3]="Disabled"}(l=n.WikiBehavior||(n.WikiBehavior={}))}.apply(n,o),void 0===i||(e.exports=i)},"./utils/busy-counter.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./dependency-property-injection/index.ts"),r("aurelia-framework")],i=function(e,n,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BusyCounter=void 0;let a=class BusyCounter{constructor(e){var n,r;this.tq=e,this.counter=0,null!==(n=(r=window).busyService)&&void 0!==n||(r.busyService=this)}increment(){++this.counter}decrement(){--this.counter}get Busy(){var e;return!!this.counter||(null===(e=this.tq.taskQueue)||void 0===e?void 0:e.length)}get Counter(){return this.counter}};a=r.__decorate([o.autoinject,r.__metadata("design:paramtypes",[i.TaskQueue])],a),n.BusyCounter=a}.apply(n,o),void 0===i||(e.exports=i)},"./utils/control-helper.ts":function(e,n,r){var o,i;o=[r,n,r("aurelia-framework"),r("./descriptors/types.ts")],i=function(e,n,r,o){"use strict";function isDate(e){return e instanceof Date||e&&"Date"===e.constructor.name}function getInvariantDate(e,n=!1){let r="";if(null!=e){if(r=[e.getMonth()+1,e.getDate(),e.getFullYear()].join("/"),!n){const n=[e.getHours(),e.getMinutes(),e.getSeconds()],o=e.getMilliseconds();(n[0]||n[1]||n[2]||o)&&(r+=` ${n.join(":")}`),o&&(r+=`.${o.toString().padStart(3,"0")}`)}}return r}function isScriptLoaded(e){return document.querySelector(`script[src="${e}"]`)}function isObject(e){return e&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.deepMerge=n.isObject=n.refreshMenu=n.isLegacyEnv=n.isScriptLoaded=n.loadScript=n.addTextToClipboard=n.getInvariantDate=n.getInvariantText=n.netTypeConvert=n.scrollToView=n.isInViewport=n.applyDefaultValues=n.isDate=n.isNumeric=n.isVisible=n.isLetter=n.getCompanyFromUrl=n.getScreenID=n.registerQAObject=n.isDigit=n.formatNumber=n.formatDate=n.camelToDash=n.compareStrings=n.getRawValue=n.equals=void 0,n.equals=function equals(e,n){return!(null==e&&null!=n||null==n&&null!=e)&&(e instanceof Date&&n instanceof Date?e.getTime()===n.getTime():e===n)},n.getRawValue=function getRawValue(e){return e&&e.id?e.id:e},n.compareStrings=function compareStrings(e,n,r){return r&&(e&&(e=e.toLowerCase()),n&&(n=n.toLowerCase())),e===n},n.camelToDash=function camelToDash(e){return e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`))},n.formatDate=function formatDate(e,n,r){if(1===n.length)switch(n){case"d":n=r.shortDate;break;case"D":n=r.longDate;break;case"t":n=r.shortTime;break;case"T":n=r.longTime;break;case"g":n=`${r.shortDate} ${r.shortTime}`;break;case"G":n=`${r.shortDate} ${r.longTime}`;break;case"f":n=`${r.longDate} ${r.shortTime}`;break;case"F":n=`${r.longDate} ${r.longTime}`}let o="",i=!1;const a=r.monthNames.split(","),l=r.dayNames.split(",");for(let c=0;c<n.length;c++){if(i){o+=n.substr(c,1),i=!1;continue}if("\\"===n.charAt(c)){i=!0;continue}let d=n.substr(c,4),u="";switch(d){case"MMMM":case"dddd":u=a[e.getMonth()];break;case"yyyy":u=e.getFullYear().toString()}if(u)o+=u,c+=3;else{switch(d=n.substr(c,3),d){case"MMM":u=a[e.getMonth()].substr(0,3);break;case"ddd":u=l[e.getDay()].substr(0,3)}if(u)o+=u,c+=2;else{switch(d=n.substr(c,2),d){case"MM":u=(e.getMonth()+1).toString(),1===u.length&&(u=`0${u}`);break;case"dd":u=e.getDate().toString(),1===u.length&&(u=`0${u}`);break;case"yy":u=(e.getFullYear()%100).toString(),1===u.length&&(u=`0${u}`);break;case"HH":u=e.getHours().toString(),1===u.length&&(u=`0${u}`);break;case"hh":{let n=e.getHours();0===n?n=12:n>12&&(n-=12),u=n.toString(),1===u.length&&(u=`0${u}`);break}case"mm":u=e.getMinutes().toString(),1===u.length&&(u=`0${u}`);break;case"ss":u=e.getSeconds().toString(),1===u.length&&(u=`0${u}`);break;case"tt":{let n=!1;e.getHours()>=12&&(n=!0),u=n?r.pm:r.am;break}}if(u)o+=u,c+=1;else{switch(d=n.substr(c,1),d){case"M":u=(e.getMonth()+1).toString();break;case"d":u=e.getDate().toString();break;case"y":u=(e.getFullYear()%100).toString();break;case"H":u=e.getHours().toString();break;case"h":{let n=e.getHours();0===n?n=12:n>12&&(n-=12),u=n.toString();break}case"m":u=e.getMinutes().toString();break;case"s":u=e.getSeconds().toString()}o+=u||n.substr(c,1)}}}}return o},n.formatNumber=function formatNumber(e,n,r){const o=r.number.decimalSeparator,i=r.number.groupSeparator;let a=e.toLocaleString("en-US",{minimumFractionDigits:n,useGrouping:n>0});const l=a.split(".");return a=l[0].replace(/,/g,i),l.length>1?a+o+l[1]:a},n.isDigit=function isDigit(e){return"string"==typeof e&&(e=e.charCodeAt(0)),e>47&&e<58},n.registerQAObject=function registerQAObject(e,n){const r=window;r.qaObject||(r.qaObject={}),r.qaObject[e]=n},n.getScreenID=function getScreenID(){let e=window.__screenID;const n=window.location.pathname;return e=e?e.replace(/\./g,""):n.substr(n.lastIndexOf("/")+1).replace(".aspx","").replace(".html","").toUpperCase(),e},n.getCompanyFromUrl=function getCompanyFromUrl(){let e=r.PLATFORM.global.top.location.search;"?"===e[0]&&(e=e.substring(1));const n=e.split("&").find((e=>e.toLowerCase().startsWith("companyid")));return null==n?void 0:n.split("=")[1]},n.isLetter=function isLetter(e){return"number"==typeof e&&(e=String.fromCharCode(e)),e.charCodeAt(0)>255||e.toUpperCase()!==e.toLowerCase()},n.isVisible=function isVisible(e){try{return e&&null!=e.offsetParent}catch(e){}return!1},n.isNumeric=function isNumeric(e){return null!=e&&e>=o.NetType.SByte&&e<=o.NetType.Decimal},n.isDate=isDate,n.applyDefaultValues=function applyDefaultValues(e,n){const r=Object.assign({},e);!function clearUndefinedProps(e){for(const n in e)void 0===e[n]&&delete e[n]}(r),Object.assign(e,n,r)},n.isInViewport=function isInViewport(e){const n=e.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)},n.scrollToView=function scrollToView(e,n,r=o.ScrollMode.Both){if(null==n||e.scrollWidth<=e.offsetWidth&&e.scrollHeight<=e.offsetHeight)return;const i=e.offsetParent.getBoundingClientRect(),a=e.getBoundingClientRect(),l=n.getBoundingClientRect(),c=l.left-i.left,d=a.left-i.left,u=l.top-i.top,p=a.top-i.top,b=c+n.offsetWidth,g=d+e.offsetWidth,m=u+n.offsetHeight,f=p+e.offsetHeight,v=e.offsetWidth-e.clientWidth,y=e.offsetHeight-e.clientHeight;let x=-1,C=-1;const S=r===o.ScrollMode.Both||r===o.ScrollMode.Vertical,D=r===o.ScrollMode.Both||r===o.ScrollMode.Horizontal;S&&(m>f-y&&u-(m-f)>p&&(x=e.scrollTop+(m-f)+y),u<p&&(x=e.scrollTop-(p-u))),D&&(b>g-v&&c-(b-g)>d&&(C=e.scrollLeft+(b-g)+v),c<d&&(C=e.scrollLeft-(d-c))),S&&x>=0&&(e.scrollTop=x),D&&C>=0&&(e.scrollLeft=C)},n.netTypeConvert=function netTypeConvert(e,n){if(null==e)return null;let r=e;if(n===o.NetType.Boolean)"boolean"!=typeof e&&(e&&"string"==typeof e&&("0"!==e&&"false"!==e.toLowerCase()||(e=!1)),r=Boolean(e));else if(n>=o.NetType.SByte&&n<=o.NetType.UInt64)"number"!=typeof e&&(r=parseInt(e),isNaN(r)&&(r=0));else if(n>=o.NetType.Single&&n<=o.NetType.Decimal)"number"!=typeof e&&(r=parseFloat(e),isNaN(r)&&(r=0));else if(n===o.NetType.DateTime){if(!(e instanceof Date)){const n=e.toString().split(".");let o=n.length>1?n[1]:null;r="string"==typeof e&&n[0].startsWith("@")?NaN:new Date(Date.parse(n[0])),null!=o&&r instanceof Date&&(o=parseInt(o),isNaN(o)||r.setMilliseconds(o))}}else n!==o.NetType.Char&&n!==o.NetType.String||(r=String(e));return r},n.getInvariantText=function getInvariantText(e){let n="";return null==e||(n=isDate(e)?getInvariantDate(e):"boolean"==typeof e?e?"True":"False":e.toString()),n},n.getInvariantDate=getInvariantDate,n.addTextToClipboard=function addTextToClipboard(e){try{navigator.clipboard.writeText(e)}catch(n){const r=document.createElement("textarea");r.style.position="fixed",r.style.left="0",r.style.top="0",r.style.opacity="0",r.value=e,document.body.appendChild(r),r.focus(),r.select(),document.execCommand("copy"),document.body.removeChild(r)}},n.loadScript=function loadScript(e,n){var r;const load=()=>{n&&n()};if(isScriptLoaded(e))load();else{const n=document.createElement("script");n.type="text/javascript",n.defer=!0,n.src=e,n.charset="utf-8",n.addEventListener("load",load);const o=document.getElementsByTagName("script")[0];null===(r=null==o?void 0:o.parentNode)||void 0===r||r.insertBefore(n,o)}},n.isScriptLoaded=isScriptLoaded,n.isLegacyEnv=function isLegacyEnv(){return!!r.PLATFORM.global.px},n.refreshMenu=function refreshMenu(){var e;null===(e=r.PLATFORM.global.top)||void 0===e||e.frameHelper.refreshMenu()},n.isObject=isObject,n.deepMerge=function deepMerge(e,n,...r){if(!r.length||!isObject(e))return e;const o=e,i=r.length;for(let e=0;e<i;e+=1){const i=r[e];if(isObject(i))for(const e in i)i.hasOwnProperty(e)&&(isObject(i[e])?(o[e]&&isObject(o[e])||(o[e]={}),deepMerge(o[e],n,i[e])):Array.isArray(o[e])&&Array.isArray(i[e])?o[e]=Array.from(new Set(o[e].concat(i[e]))):!n&&o.hasOwnProperty(e)||(o[e]=i[e]))}return o}}.apply(n,o),void 0===i||(e.exports=i)},"./utils/file-utils.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.makePathRelativeTo=void 0,n.makePathRelativeTo=function makePathRelativeTo(e,n){if(!e||!n)return e;const r=e.includes("\\")?"\\":"/",o=e.split(r),i=n.split(r),a=Math.min(o.length,i.length);let l=0;for(;l<a&&o[l]===i[l];)l++;const c=[];let d=l;for(;d<i.length;)c.push(".."),d++;let u=l;for(;u<o.length;)c.push(o[u]),u++;return c.join("/")}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./utils/index.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js"),r("./utils/control-helper.ts"),r("./utils/mark-highlights.ts"),r("./utils/mask-helper.ts"),r("./utils/text-parter.ts"),r("./utils/file-utils.ts"),r("./utils/promise-utils.ts"),r("./utils/busy-counter.ts")],i=function(e,n,r,o,i,a,l,c,d,u){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.__exportStar(o,n),r.__exportStar(i,n),r.__exportStar(a,n),r.__exportStar(l,n),r.__exportStar(c,n),r.__exportStar(d,n),r.__exportStar(u,n)}.apply(n,o),void 0===i||(e.exports=i)},"./utils/mark-highlights.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.markHighlights=void 0,n.markHighlights=function markHighlights(e,n){if(!e||!n)return[{highlight:!1,text:null!=n?n:""}];const r=e.split(" ").filter((e=>e.length>0)).map((e=>{const n=e.toUpperCase();return{str:n,len:n.length}})),o=n.toUpperCase(),i=Array.from({length:o.length});for(let e=0;e<i.length;e++)i[e]=!1;const a=[];r.forEach((e=>{let n=0,r=-1;do{if(r=o.indexOf(e.str,n),r>-1){for(let n=r;n<r+e.len;n++)i[n]=!0;n=r+e.len}}while(r>-1)}));let l=!1,c=0;do{const e=c;for(;i[c]===l&&c<i.length;)c++;c>e&&a.push({highlight:l,text:n.substring(e,c)}),l=i[c]}while(c<i.length);return a}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./utils/mask-helper.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.splitMask=n.maskFilter=n.encodeMask=n.formatByMask=n.MaskParts=n.getMaskParts=void 0,n.getMaskParts=function getMaskParts(e){const n=encodeMask(e),r=splitMask(n);return new MaskParts(n,r[0],r[1],r[2])};class MaskParts{constructor(e,n,r,o){this.maskFull=e,this.mask=n,this.maskExclude=r,this.maskInclude=o}}function encodeMask(e){let n,r,o=0,i="";const a=splitMask(e),l=a[0],c=a[1],d=a[2];for(let e=0;e<l.length;e++)if(r=l.charAt(e),0!==(n=maskFlag(r,o))){if(n<0){o=o===-n?0:-n;continue}i+=String.fromCharCode(n)}else"\\"===r&&e+1<l.length?(r=l.charAt(e+1),0!==maskFlag(r,0)&&(i+=r,e++)):i+=r;return c&&(i+="|"+c),d&&(c||(i+="|"),i+="|"+d),i}function maskFilter(e,n,r,o,i,a){if(r>=n.length)return o;const l=n.charCodeAt(r);let c=n.charAt(r);if(l<21||i&&-1!==i.indexOf(c))return o;if(a&&-1!==a.indexOf(c))return c;switch(Math.floor((e-1)/6)){case 0:break;case 1:if(l>47&&l<58)return c;case 2:if(l>255||c.toUpperCase()!==c.toLowerCase())break;return o;case 3:return l>47&&l<58?c:o}return 0==(e=Math.floor((e-1)/2)%3)?c:(function isGeorgianSymbol(e){return e>=4256&&e<=4351}(l)||(c=2===e?c.toLowerCase():c.toUpperCase()),i&&-1!==i.indexOf(c)?o:c)}function splitMask(e){null==e&&(e="");const n=e.split("|");return 1===n.length&&(n[1]=""),2===n.length&&(n[2]=""),n}function maskFlag(e,n){let r;switch(e){case">":return-1;case"<":return-2;case"&":r=1;break;case"C":r=2;break;case"A":r=7;break;case"a":r=8;break;case"L":r=13;break;case"?":r=14;break;case"#":case"0":return 19;case"9":return 20;default:return 0}return r+2*n}n.MaskParts=MaskParts,n.formatByMask=function formatByMask(e,n,r,o){null==o&&(o=0),null==n&&(n=""),null==r&&(r="");const i=splitMask(e);let a,l,c="",d=0;const u=i[0],p=i[1],b=i[2];for(let e=0;e<u.length;e++)(l=u.charCodeAt(e))<21?(a=null,d<n.length&&(a=maskFilter(l,n,d,null,p,b),d++),c+=a||r):(c+=u.charAt(e),o>0&&d++);return c},n.encodeMask=encodeMask,n.maskFilter=maskFilter,n.splitMask=splitMask}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./utils/platform-dependable-utils.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js")],i=function(e,n,r){"use strict";var o,i;Object.defineProperty(n,"__esModule",{value:!0}),n.browser=n.dateFormatInfo=n.numberFormatInfo=n.siteRoot=n.topDocument=n.topWindow=void 0,r.PLATFORM.global.getViewModelById=function getViewModelById(e){var n;let r=document.getElementById(e);if(r)do{if(null===(n=r.au)||void 0===n?void 0:n.controller){const e=r.au.controller;return e.viewModel.currentViewModel?e.viewModel.currentViewModel:e.viewModel}r=r.parentNode}while(r);else;};let a,l=r.PLATFORM.global;try{l=l.top,a=l.document}catch(e){l=r.PLATFORM.global}n.topWindow=l,n.topDocument=n.topWindow.document;const c=r.PLATFORM.global.location.pathname;n.siteRoot=function normalizeSiteRoot(e){let n=null==e?void 0:e.split("/"),r=e;return n&&(n=n.filter((e=>!e.startsWith("(W("))),r=n.join("/")),r}(c.substring(0,c.toLowerCase().indexOf("scripts/")));n.numberFormatInfo=()=>n.topWindow._numbFormatInfo;n.dateFormatInfo=()=>n.topWindow._dateFormatInfo||{abbrMonthNames:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December,",dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",abbrDayNames:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"};const d=(null===(i=null===(o=r.PLATFORM.global)||void 0===o?void 0:o.navigator)||void 0===i?void 0:i.userAgent.toLowerCase())||"",u=d.indexOf("msie")>=0,p=d.indexOf("edge")>=0,b=d.indexOf("rv:11.0")>0,g=u||b,m=d.indexOf("safari")>=0,f=d.indexOf("firefox"),v=f>=0?parseFloat(d.substr(f+8,3)):0,y=f>=0,x=y&&v>=65,C=d.indexOf("webkit")>=0,S=window.chrome,D=window.navigator.vendor,E=void 0!==window.opr,k=!window.navigator.userAgent.match("CriOS")&&null!=S&&"Google Inc."===D&&!E&&!p,T=S||k;n.browser={isIE:u,isEdge:p,isIE11:b,isAnyIE:g,isOpera:E,isSafari:m,isFirefox:y,isFirefoxFrom65:x,isWebKit:C,isChrome:T,isChromium:S,isGoogleChrome:k}}.apply(n,o),void 0===i||(e.exports=i)},"./utils/promise-utils.ts":function(e,n,r){var o,i;o=[r,n,r("../node_modules/tslib/tslib.es6.js")],i=function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadScriptAsync=n.wait=void 0;n.wait=e=>r.__awaiter(void 0,void 0,void 0,(function*(){return new Promise((n=>setTimeout(n,e)))}));n.loadScriptAsync=e=>r.__awaiter(void 0,void 0,void 0,(function*(){return new Promise(((n,r)=>{try{const o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.addEventListener("load",(()=>{n()})),o.addEventListener("error",(()=>{r()})),document.body.appendChild(o)}catch(e){r(e)}}))}))}.apply(n,o),void 0===i||(e.exports=i)},"./utils/text-parter.ts":function(e,n,r){var o;o=function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TextParter=void 0;n.TextParter=class TextParter{constructor(e,n=!0){this.search=e,this.ignoreCase=n}hasMatch(e){return this.ignoreCase?-1!==e.toLowerCase().indexOf(this.search.toLowerCase()):-1!==e.indexOf(this.search)}getTextParts(e){const n=[],r=this.ignoreCase?e.toLowerCase():e,o=this.ignoreCase?this.search.toLowerCase():this.search,i=r.split(o);let a=0;return i.length>1?(i.forEach((r=>{n.push({text:e.substr(a,r.length),selected:!1},{text:e.substr(a+r.length,o.length),selected:!0}),a+=r.length+o.length})),n.pop(),n):[{text:e,selected:!1}]}}}.apply(n,[r,n]),void 0===o||(e.exports=o)},"./apps/enhance/controls sync recursive ^.*$":function(e,n,r){var o={".":"apps/enhance/controls/index","./":"apps/enhance/controls/index","./calendar/acmevent-calendar":"apps/enhance/controls/calendar/acmevent-calendar","./calendar/acmevent-calendar.css":"apps/enhance/controls/calendar/acmevent-calendar.css","./calendar/acmevent-calendar.html":"apps/enhance/controls/calendar/acmevent-calendar.html","./calendar/acmevent-calendar.ts":"apps/enhance/controls/calendar/acmevent-calendar","./index":"apps/enhance/controls/index","./index.ts":"apps/enhance/controls/index","./payment/messages":"apps/enhance/controls/payment/messages","./payment/messages.ts":"apps/enhance/controls/payment/messages","./payment/qp-giftcard":"apps/enhance/controls/payment/qp-giftcard","./payment/qp-giftcard.css":"apps/enhance/controls/payment/qp-giftcard.css","./payment/qp-giftcard.html":"apps/enhance/controls/payment/qp-giftcard.html","./payment/qp-giftcard.ts":"apps/enhance/controls/payment/qp-giftcard","./qp-gauge":"apps/enhance/controls/qp-gauge","./qp-gauge.css":"apps/enhance/controls/qp-gauge.css","./qp-gauge.html":"apps/enhance/controls/qp-gauge.html","./qp-gauge.ts":"apps/enhance/controls/qp-gauge","./qp-plugin-service":"apps/enhance/controls/qp-plugin-service","./qp-plugin-service.css":"apps/enhance/controls/qp-plugin-service.css","./qp-plugin-service.html":"apps/enhance/controls/qp-plugin-service.html","./qp-plugin-service.ts":"apps/enhance/controls/qp-plugin-service","./qp-tabbed-tree-selector":"apps/enhance/controls/qp-tabbed-tree-selector","./qp-tabbed-tree-selector.html":"apps/enhance/controls/qp-tabbed-tree-selector.html","./qp-tabbed-tree-selector.ts":"apps/enhance/controls/qp-tabbed-tree-selector","./qp-text-editor-autocomplete":"apps/enhance/controls/qp-text-editor-autocomplete","./qp-text-editor-autocomplete.css":"apps/enhance/controls/qp-text-editor-autocomplete.css","./qp-text-editor-autocomplete.html":"apps/enhance/controls/qp-text-editor-autocomplete.html","./qp-text-editor-autocomplete.ts":"apps/enhance/controls/qp-text-editor-autocomplete","apps/enhance/controls":"apps/enhance/controls/index","apps/enhance/controls/":"apps/enhance/controls/index","apps/enhance/controls/calendar/acmevent-calendar":"apps/enhance/controls/calendar/acmevent-calendar","apps/enhance/controls/calendar/acmevent-calendar.css":"apps/enhance/controls/calendar/acmevent-calendar.css","apps/enhance/controls/calendar/acmevent-calendar.html":"apps/enhance/controls/calendar/acmevent-calendar.html","apps/enhance/controls/calendar/acmevent-calendar.ts":"apps/enhance/controls/calendar/acmevent-calendar","apps/enhance/controls/index":"apps/enhance/controls/index","apps/enhance/controls/index.ts":"apps/enhance/controls/index","apps/enhance/controls/payment/messages":"apps/enhance/controls/payment/messages","apps/enhance/controls/payment/messages.ts":"apps/enhance/controls/payment/messages","apps/enhance/controls/payment/qp-giftcard":"apps/enhance/controls/payment/qp-giftcard","apps/enhance/controls/payment/qp-giftcard.css":"apps/enhance/controls/payment/qp-giftcard.css","apps/enhance/controls/payment/qp-giftcard.html":"apps/enhance/controls/payment/qp-giftcard.html","apps/enhance/controls/payment/qp-giftcard.ts":"apps/enhance/controls/payment/qp-giftcard","apps/enhance/controls/qp-gauge":"apps/enhance/controls/qp-gauge","apps/enhance/controls/qp-gauge.css":"apps/enhance/controls/qp-gauge.css","apps/enhance/controls/qp-gauge.html":"apps/enhance/controls/qp-gauge.html","apps/enhance/controls/qp-gauge.ts":"apps/enhance/controls/qp-gauge","apps/enhance/controls/qp-plugin-service":"apps/enhance/controls/qp-plugin-service","apps/enhance/controls/qp-plugin-service.css":"apps/enhance/controls/qp-plugin-service.css","apps/enhance/controls/qp-plugin-service.html":"apps/enhance/controls/qp-plugin-service.html","apps/enhance/controls/qp-plugin-service.ts":"apps/enhance/controls/qp-plugin-service","apps/enhance/controls/qp-tabbed-tree-selector":"apps/enhance/controls/qp-tabbed-tree-selector","apps/enhance/controls/qp-tabbed-tree-selector.html":"apps/enhance/controls/qp-tabbed-tree-selector.html","apps/enhance/controls/qp-tabbed-tree-selector.ts":"apps/enhance/controls/qp-tabbed-tree-selector","apps/enhance/controls/qp-text-editor-autocomplete":"apps/enhance/controls/qp-text-editor-autocomplete","apps/enhance/controls/qp-text-editor-autocomplete.css":"apps/enhance/controls/qp-text-editor-autocomplete.css","apps/enhance/controls/qp-text-editor-autocomplete.html":"apps/enhance/controls/qp-text-editor-autocomplete.html","apps/enhance/controls/qp-text-editor-autocomplete.ts":"apps/enhance/controls/qp-text-editor-autocomplete"};function webpackContext(e){var n=webpackContextResolve(e);return r(n)}function webpackContextResolve(e){if(!r.o(o,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return o[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(o)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id="./apps/enhance/controls sync recursive ^.*$"},"./controls/compound/address-lookup sync recursive ^.*$":function(e,n,r){var o={"./address-helper":"./controls/compound/address-lookup/address-helper.ts","./address-helper.ts":"./controls/compound/address-lookup/address-helper.ts","./address-lookup-service":"./controls/compound/address-lookup/address-lookup-service.ts","./address-lookup-service.ts":"./controls/compound/address-lookup/address-lookup-service.ts","./map-api/bing-api":"./controls/compound/address-lookup/map-api/bing-api.ts","./map-api/bing-api.ts":"./controls/compound/address-lookup/map-api/bing-api.ts","./map-api/default-api":"./controls/compound/address-lookup/map-api/default-api.ts","./map-api/default-api.ts":"./controls/compound/address-lookup/map-api/default-api.ts","./map-api/google-api":"./controls/compound/address-lookup/map-api/google-api.ts","./map-api/google-api.ts":"./controls/compound/address-lookup/map-api/google-api.ts","./map-api/map-api":"./controls/compound/address-lookup/map-api/map-api.ts","./map-api/map-api.ts":"./controls/compound/address-lookup/map-api/map-api.ts","./map-provider-properties-service":"./controls/compound/address-lookup/map-provider-properties-service.ts","./map-provider-properties-service.ts":"./controls/compound/address-lookup/map-provider-properties-service.ts","./qp-address-lookup":"controls/compound/address-lookup/qp-address-lookup","./qp-address-lookup.css":"./controls/compound/address-lookup/qp-address-lookup.css","./qp-address-lookup.html":"controls/compound/address-lookup/qp-address-lookup.html","./qp-address-lookup.ts":"controls/compound/address-lookup/qp-address-lookup","./types":"./controls/compound/address-lookup/types.ts","./types.ts":"./controls/compound/address-lookup/types.ts","controls/compound/address-lookup/address-helper":"./controls/compound/address-lookup/address-helper.ts","controls/compound/address-lookup/address-helper.ts":"./controls/compound/address-lookup/address-helper.ts","controls/compound/address-lookup/address-lookup-service":"./controls/compound/address-lookup/address-lookup-service.ts","controls/compound/address-lookup/address-lookup-service.ts":"./controls/compound/address-lookup/address-lookup-service.ts","controls/compound/address-lookup/map-api/bing-api":"./controls/compound/address-lookup/map-api/bing-api.ts","controls/compound/address-lookup/map-api/bing-api.ts":"./controls/compound/address-lookup/map-api/bing-api.ts","controls/compound/address-lookup/map-api/default-api":"./controls/compound/address-lookup/map-api/default-api.ts","controls/compound/address-lookup/map-api/default-api.ts":"./controls/compound/address-lookup/map-api/default-api.ts","controls/compound/address-lookup/map-api/google-api":"./controls/compound/address-lookup/map-api/google-api.ts","controls/compound/address-lookup/map-api/google-api.ts":"./controls/compound/address-lookup/map-api/google-api.ts","controls/compound/address-lookup/map-api/map-api":"./controls/compound/address-lookup/map-api/map-api.ts","controls/compound/address-lookup/map-api/map-api.ts":"./controls/compound/address-lookup/map-api/map-api.ts","controls/compound/address-lookup/map-provider-properties-service":"./controls/compound/address-lookup/map-provider-properties-service.ts","controls/compound/address-lookup/map-provider-properties-service.ts":"./controls/compound/address-lookup/map-provider-properties-service.ts","controls/compound/address-lookup/qp-address-lookup":"controls/compound/address-lookup/qp-address-lookup","controls/compound/address-lookup/qp-address-lookup.css":"./controls/compound/address-lookup/qp-address-lookup.css","controls/compound/address-lookup/qp-address-lookup.html":"controls/compound/address-lookup/qp-address-lookup.html","controls/compound/address-lookup/qp-address-lookup.ts":"controls/compound/address-lookup/qp-address-lookup","controls/compound/address-lookup/types":"./controls/compound/address-lookup/types.ts","controls/compound/address-lookup/types.ts":"./controls/compound/address-lookup/types.ts"};function webpackContext(e){var n=webpackContextResolve(e);return r(n)}function webpackContextResolve(e){if(!r.o(o,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return o[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(o)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id="./controls/compound/address-lookup sync recursive ^.*$"},"./plugins ./plugins sync recursive ^\\.\\/.*$":function(e,n,r){var o={"./":"./plugins/index.ts","./bank-feed/qp-mx":"plugins/bank-feed/qp-mx","./bank-feed/qp-mx.css":"./plugins/bank-feed/qp-mx.css","./bank-feed/qp-mx.html":"plugins/bank-feed/qp-mx.html","./bank-feed/qp-mx.ts":"plugins/bank-feed/qp-mx","./bank-feed/qp-plaid":"./plugins/bank-feed/qp-plaid.ts","./bank-feed/qp-plaid.ts":"./plugins/bank-feed/qp-plaid.ts","./css-theme/css-theme":"./plugins/css-theme/css-theme.ts","./css-theme/css-theme.ts":"./plugins/css-theme/css-theme.ts","./dependency-property-injection":"plugins/dependency-property-injection/index","./dependency-property-injection/":"plugins/dependency-property-injection/index","./dependency-property-injection/index":"plugins/dependency-property-injection/index","./dependency-property-injection/index.ts":"plugins/dependency-property-injection/index","./enhance-n-watch":"plugins/enhance-n-watch/index","./enhance-n-watch/":"plugins/enhance-n-watch/index","./enhance-n-watch/index":"plugins/enhance-n-watch/index","./enhance-n-watch/index.ts":"plugins/enhance-n-watch/index","./enhance-n-watch/mutation-enhancer":"./plugins/enhance-n-watch/mutation-enhancer.ts","./enhance-n-watch/mutation-enhancer.ts":"./plugins/enhance-n-watch/mutation-enhancer.ts","./glue":"plugins/glue/index","./glue/":"plugins/glue/index","./glue/glue-to-custom-attribute":"./plugins/glue/glue-to-custom-attribute.ts","./glue/glue-to-custom-attribute.ts":"./plugins/glue/glue-to-custom-attribute.ts","./glue/index":"plugins/glue/index","./glue/index.ts":"plugins/glue/index","./happeded-on-body":"plugins/happeded-on-body/index","./happeded-on-body/":"plugins/happeded-on-body/index","./happeded-on-body/index":"plugins/happeded-on-body/index","./happeded-on-body/index.ts":"plugins/happeded-on-body/index","./index":"./plugins/index.ts","./index.ts":"./plugins/index.ts","./payment/qp-authorize-net":"plugins/payment/qp-authorize-net","./payment/qp-authorize-net-hosted-form":"plugins/payment/qp-authorize-net-hosted-form","./payment/qp-authorize-net-hosted-form.html":"plugins/payment/qp-authorize-net-hosted-form.html","./payment/qp-authorize-net-hosted-form.ts":"plugins/payment/qp-authorize-net-hosted-form","./payment/qp-authorize-net.css":"./plugins/payment/qp-authorize-net.css","./payment/qp-authorize-net.html":"plugins/payment/qp-authorize-net.html","./payment/qp-authorize-net.ts":"plugins/payment/qp-authorize-net","./payment/qp-fortis":"plugins/payment/qp-fortis","./payment/qp-fortis.css":"./plugins/payment/qp-fortis.css","./payment/qp-fortis.html":"plugins/payment/qp-fortis.html","./payment/qp-fortis.ts":"plugins/payment/qp-fortis","./payment/qp-stripe":"plugins/payment/qp-stripe","./payment/qp-stripe.css":"./plugins/payment/qp-stripe.css","./payment/qp-stripe.html":"plugins/payment/qp-stripe.html","./payment/qp-stripe.ts":"plugins/payment/qp-stripe","./wiki-tooltip":"plugins/wiki-tooltip/index","./wiki-tooltip/":"plugins/wiki-tooltip/index","./wiki-tooltip/index":"plugins/wiki-tooltip/index","./wiki-tooltip/index.ts":"plugins/wiki-tooltip/index","./wiki-tooltip/qp-wiki-tooltip":"plugins/wiki-tooltip/qp-wiki-tooltip","./wiki-tooltip/qp-wiki-tooltip.css":"./plugins/wiki-tooltip/qp-wiki-tooltip.css","./wiki-tooltip/qp-wiki-tooltip.html":"plugins/wiki-tooltip/qp-wiki-tooltip.html","./wiki-tooltip/qp-wiki-tooltip.ts":"plugins/wiki-tooltip/qp-wiki-tooltip"};function webpackContext(e){var n=webpackContextResolve(e);return r(n)}function webpackContextResolve(e){if(!r.o(o,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return o[e]}webpackContext.keys=function webpackContextKeys(){return Object.keys(o)},webpackContext.resolve=webpackContextResolve,e.exports=webpackContext,webpackContext.id="./plugins ./plugins sync recursive ^\\.\\/.*$"},"../../ext-packages/bryntum-calendar/calendar.module.js":function(e,n,r){"use strict";r.r(n),r.d(n,{AbstractCrudManager:function(){return AbstractCrudManager},AbstractCrudManagerMixin:function(){return AbstractCrudManagerMixin},AbstractCrudManagerValidation:function(){return AbstractCrudManagerValidation},AbstractRecurrenceIterator:function(){return AbstractRecurrenceIterator},AbstractTimeRanges:function(){return AbstractTimeRanges},ActionBase:function(){return ActionBase},ActionColumn:function(){return ActionColumn},AgendaColumn:function(){return AgendaColumn},AgendaView:function(){return AgendaView},AggregateColumn:function(){return AggregateColumn},AjaxHelper:function(){return AjaxHelper},AjaxStore:function(){return AjaxStore},AjaxTransport:function(){return AjaxTransport},Animator:function(){return Animator},ArrayDataField:function(){return ArrayDataField},ArrayHelper:function(){return ArrayHelper},AssignmentModel:function(){return AssignmentModel},AssignmentModelMixin:function(){return AssignmentModelMixin},AssignmentStore:function(){return AssignmentStore},AssignmentStoreMixin:function(){return AssignmentStoreMixin},AsyncHelper:function(){return AsyncHelper},AttachToProjectMixin:function(){return AttachToProjectMixin},AvatarRendering:function(){return AvatarRendering},Badge:function(){return Badge},Bag:function(){return Bag},Bar:function(){return Bar},Base:function(){return Base},BooleanCombo:function(){return BooleanCombo},BooleanDataField:function(){return BooleanDataField},BrowserHelper:function(){return BrowserHelper},Button:function(){return Button},ButtonGroup:function(){return ButtonGroup},CSSHelper:function(){return CSSHelper},Calendar:function(){return Calendar},CalendarDrag:function(){return CalendarDrag},CalendarFeature:function(){return CalendarFeature},CalendarMixin:function(){return CalendarMixin},CalendarPanel:function(){return CalendarPanel},CalendarRow:function(){return CalendarRow},CalendarStores:function(){return CalendarStores},CalendarTag:function(){return CalendarTag},CellEdit:function(){return CellEdit},CellMenu:function(){return CellMenu},CellTooltip:function(){return CellTooltip},CheckColumn:function(){return CheckColumn},Checkbox:function(){return Checkbox},ChipView:function(){return ChipView},ClickRepeater:function(){return ClickRepeater},CollapseTool:function(){return CollapseTool},Collection:function(){return Collection},CollectionFilter:function(){return CollectionFilter},CollectionSorter:function(){return CollectionSorter},Column:function(){return Column},ColumnAutoWidth:function(){return ColumnAutoWidth},ColumnDragToolbar:function(){return ColumnDragToolbar},ColumnLines:function(){return ColumnLines},ColumnPicker:function(){return ColumnPicker},ColumnReorder:function(){return ColumnReorder},ColumnResize:function(){return ColumnResize},ColumnStore:function(){return ColumnStore},Combo:function(){return Combo},Config:function(){return Config},Container:function(){return Container},ContextMenu:function(){return ContextMenu},ContextMenuBase:function(){return ContextMenuBase},CrudManager:function(){return CrudManager},CrudManagerView:function(){return CrudManagerView},DailyRecurrenceIterator:function(){return DailyRecurrenceIterator},DataField:function(){return DataField},DataGenerator:function(){return DataGenerator},DateColumn:function(){return DateColumn},DateDataField:function(){return DateDataField},DateField:function(){return DateField},DateHelper:function(){return DateHelper},DatePicker:function(){return DatePicker},DateTimeField:function(){return DateTimeField},DayCellCollecter:function(){return DayCellCollecter},DayCellRenderer:function(){return DayCellRenderer},DayLayout:function(){return DayLayout},DayTime:function(){return DayTime},DayView:function(){return DayView},Delayable:function(){return Delayable},DemoBot:function(){return DemoBot},Dependencies:function(){return Dependencies},DependencyBaseModel:function(){return DependencyBaseModel},DependencyCreation:function(){return DependencyCreation},DependencyEdit:function(){return DependencyEdit},DependencyModel:function(){return DependencyModel},DependencyStore:function(){return DependencyStore},DependencyStoreMixin:function(){return DependencyStoreMixin},DisplayField:function(){return DisplayField},DomClassList:function(){return DomClassList},DomDataStore:function(){return DomDataStore},DomHelper:function(){return DomHelper},DomSync:function(){return DomSync},DragBase:function(){return DragBase},DragContext:function(){return DragContext},DragCreateBase:function(){return DragCreateBase},DragHelper:function(){return DragHelper},DragProxy:function(){return DragProxy},DragTipProxy:function(){return DragTipProxy},Draggable:function(){return Draggable},Droppable:function(){return Droppable},Duration:function(){return Duration},DurationField:function(){return DurationField},DynamicObject:function(){return DynamicObject},EditBase:function(){return EditBase},Editor:function(){return Editor},EventContextMenu:function(){return EventContextMenu},EventCopyPaste:function(){return EventCopyPaste},EventDayIndex:function(){return EventDayIndex},EventDrag:function(){return EventDrag},EventDragCreate:function(){return EventDragCreate},EventDragSelect:function(){return EventDragSelect},EventEdit:function(){return EventEdit$1},EventEditor:function(){return EventEditor$1},EventFilter:function(){return EventFilter},EventHelper:function(){return EventHelper},EventList:function(){return EventList},EventMenu:function(){return EventMenu$1},EventModel:function(){return EventModel},EventModelMixin:function(){return EventModelMixin},EventNavigation:function(){return EventNavigation},EventResize:function(){return EventResize},EventSelection:function(){return EventSelection},EventSlots:function(){return EventSlots},EventSorter:function(){return EventSorter},EventStore:function(){return EventStore},EventStoreMixin:function(){return EventStoreMixin},EventTip:function(){return EventTip},EventTooltip:function(){return EventTooltip$1},Events:function(){return Events},ExcelExporter:function(){return ExcelExporter$1},ExportDialog:function(){return ExportDialog},ExportOrientationCombo:function(){return ExportOrientationCombo},ExportRowsCombo:function(){return ExportRowsCombo},Exporter:function(){return Exporter},ExternalEventSource:function(){return ExternalEventSource},Factoryable:function(){return Factoryable},Featureable:function(){return Featureable},Field:function(){return Field},FileField:function(){return FileField},FileFormat:function(){return Ys},FilePicker:function(){return FilePicker},Filter:function(){return Filter},FilterBar:function(){return FilterBar},FilterField:function(){return FilterField},Finalizable:function(){return Finalizable},FluidDayLayout:function(){return FluidDayLayout},Footer:function(){return Footer},Formatter:function(){return Formatter},Fullscreen:function(){return Fullscreen},FunctionHelper:function(){return FunctionHelper},GlobalEvents:function(){return gn},Grid:function(){return Grid},GridBase:function(){return GridBase},GridElementEvents:function(){return GridElementEvents},GridExcelExporter:function(){return ExcelExporter},GridFeatureManager:function(){return GridFeatureManager},GridFeatures:function(){return GridFeatures},GridGroupSummary:function(){return GroupSummary},GridMultiPageExporter:function(){return MultiPageExporter},GridMultiPageVerticalExporter:function(){return MultiPageVerticalExporter},GridPdfExport:function(){return PdfExport},GridResponsive:function(){return GridResponsive},GridRowModel:function(){return GridRowModel},GridSelection:function(){return GridSelection},GridSinglePageExporter:function(){return SinglePageExporter},GridState:function(){return GridState},GridSubGrids:function(){return GridSubGrids},GridSummary:function(){return Summary},Group:function(){return Group},GroupSummary:function(){return GroupSummary$1},Header:function(){return Header},HeaderContextMenu:function(){return HeaderContextMenu},HeaderMenu:function(){return HeaderMenu},HeaderZoom:function(){return HeaderZoom},Histogram:function(){return Histogram},HorizontalTimeAxis:function(){return HorizontalTimeAxis},Hoverable:function(){return Hoverable},IdHelper:function(){return IdHelper},Identifiable:function(){return Identifiable},InstancePlugin:function(){return InstancePlugin},IntegerDataField:function(){return IntegerDataField},JsonEncoder:function(){return JsonEncoder},Label:function(){return Label},Labels:function(){return Labels},Layout:function(){return Layout},List:function(){return List},LoadMaskable:function(){return LoadMaskable},LoadOnDemand:function(){return LoadOnDemand},LocaleHelper:function(){return LocaleHelper},LocaleManager:function(){return Se},Localizable:function(){return Localizable},LocalizableCombo:function(){return LocalizableCombo},Mask:function(){return Mask},Menu:function(){return Menu},MenuItem:function(){return MenuItem},MessageDialog:function(){return xs},Model:function(){return Model},ModelDataField:function(){return ModelDataField},ModelStm:function(){return ModelStm},Month:function(){return Month},MonthView:function(){return MonthView},MonthlyRecurrenceIterator:function(){return MonthlyRecurrenceIterator},MultiPageExporter:function(){return MultiPageExporter$1},MultiPageVerticalExporter:function(){return MultiPageVerticalExporter$1},NonWorkingTime:function(){return NonWorkingTime},NumberColumn:function(){return NumberColumn},NumberDataField:function(){return NumberDataField},NumberField:function(){return NumberField},NumberFormat:function(){return NumberFormat},ObjectDataField:function(){return ObjectDataField},ObjectHelper:function(){return ObjectHelper},Objects:function(){return Objects},Orientation:function(){return Gs},OverflowPopup:function(){return OverflowPopup},Override:function(){return Override},PagingToolbar:function(){return PagingToolbar},Pan:function(){return Pan},Panel:function(){return Panel},PanelCollapser:function(){return PanelCollapser},PanelCollapserOverlay:function(){return PanelCollapserOverlay},PaperFormat:function(){return Us},Parser:function(){return us},PartOfBaseProject:function(){return PartOfBaseProject},PartOfProject:function(){return PartOfProject},PasswordField:function(){return PasswordField},PdfExport:function(){return PdfExport$1},PercentColumn:function(){return PercentColumn},PickerField:function(){return PickerField},Pluggable:function(){return Pluggable},Point:function(){return Point},Popup:function(){return Popup},PresetManager:function(){return el},PresetStore:function(){return PresetStore},Print:function(){return Print},ProjectConsumer:function(){return ProjectConsumer},ProjectCrudManager:function(){return ProjectCrudManager},ProjectModel:function(){return ProjectModel},ProjectModelMixin:function(){return ProjectModelMixin},Promissory:function(){return Promissory},QuickFind:function(){return QuickFind},RandomGenerator:function(){return RandomGenerator},RatingColumn:function(){return RatingColumn},Rectangle:function(){return Rectangle},RectangularPathFinder:function(){return RectangularPathFinder},RecurrenceCombo:function(){return RecurrenceCombo},RecurrenceConfirmationPopup:function(){return RecurrenceConfirmationPopup},RecurrenceDayRuleEncoder:function(){return RecurrenceDayRuleEncoder},RecurrenceDaysButtonGroup:function(){return RecurrenceDaysButtonGroup},RecurrenceDaysCombo:function(){return RecurrenceDaysCombo},RecurrenceEditor:function(){return RecurrenceEditor},RecurrenceFrequencyCombo:function(){return RecurrenceFrequencyCombo},RecurrenceLegend:function(){return RecurrenceLegend},RecurrenceLegendButton:function(){return RecurrenceLegendButton},RecurrenceModel:function(){return RecurrenceModel},RecurrenceMonthDaysButtonGroup:function(){return RecurrenceMonthDaysButtonGroup},RecurrenceMonthsButtonGroup:function(){return RecurrenceMonthsButtonGroup},RecurrencePositionsCombo:function(){return RecurrencePositionsCombo},RecurrenceStopConditionCombo:function(){return RecurrenceStopConditionCombo},RecurringEventEdit:function(){return RecurringEventEdit},RecurringEvents:function(){return RecurringEvents},RecurringEventsMixin:function(){return RecurringEventsMixin},RecurringTimeSpan:function(){return RecurringTimeSpan},RecurringTimeSpansMixin:function(){return RecurringTimeSpansMixin},RegionResize:function(){return RegionResize},Renderable:function(){return Renderable},ResizeHelper:function(){return ResizeHelper},ResizeMonitor:function(){return ResizeMonitor},ResourceCollapseColumn:function(){return ResourceCollapseColumn},ResourceCombo:function(){return ResourceCombo},ResourceFilter:function(){return ResourceFilter},ResourceHeader:function(){return ResourceHeader},ResourceInfoColumn:function(){return ResourceInfoColumn},ResourceModel:function(){return ResourceModel},ResourceModelMixin:function(){return ResourceModelMixin},ResourceStore:function(){return ResourceStore},ResourceStoreMixin:function(){return ResourceStoreMixin},ResourceTimeRangeModel:function(){return ResourceTimeRangeModel},ResourceTimeRangeStore:function(){return ResourceTimeRangeStore},ResourceTimeRanges:function(){return ResourceTimeRanges},ResourceTimeRangesBase:function(){return ResourceTimeRangesBase},ResourceView:function(){return ResourceView},Responsive:function(){return Responsive},Ripple:function(){return Ripple},Rotatable:function(){return Rotatable},Row:function(){return Row},RowCopyPaste:function(){return RowCopyPaste},RowManager:function(){return RowManager},RowNumberColumn:function(){return RowNumberColumn},RowReorder:function(){return RowReorder},RowsRange:function(){return Ws},Scale:function(){return Scale},ScheduleContext:function(){return ScheduleContext},ScheduleContextMenu:function(){return ScheduleContextMenu},ScheduleMenu:function(){return ScheduleMenu$1},ScheduleRange:function(){return Ll},ScheduleRangeCombo:function(){return ScheduleRangeCombo},ScheduleTableExporter:function(){return ScheduleTableExporter},ScheduleTooltip:function(){return ScheduleTooltip},Scheduler:function(){return Scheduler},SchedulerBase:function(){return SchedulerBase},SchedulerDom:function(){return SchedulerDom},SchedulerDomEvents:function(){return SchedulerDomEvents},SchedulerEventEdit:function(){return EventEdit},SchedulerEventEditor:function(){return EventEditor},SchedulerEventMenu:function(){return EventMenu},SchedulerEventNavigation:function(){return SchedulerEventNavigation},SchedulerEventRendering:function(){return SchedulerEventRendering},SchedulerEventSelection:function(){return SchedulerEventSelection},SchedulerEventTooltip:function(){return EventTooltip},SchedulerExportDialog:function(){return SchedulerExportDialog},SchedulerRegions:function(){return SchedulerRegions},SchedulerScheduleMenu:function(){return ScheduleMenu},SchedulerScroll:function(){return SchedulerScroll},SchedulerState:function(){return SchedulerState},SchedulerStores:function(){return SchedulerStores},ScrollManager:function(){return ScrollManager},Scroller:function(){return Scroller},Search:function(){return Search},SharedEventStoreMixin:function(){return SharedEventStoreMixin},Sidebar:function(){return Sidebar},SimpleEventEdit:function(){return SimpleEventEdit},SinglePageExporter:function(){return SinglePageExporter$1},SlideToggle:function(){return SlideToggle},Slider:function(){return Slider},Sort:function(){return Sort},Splitter:function(){return Splitter},State:function(){return State},StateBase:function(){return StateBase},StateTrackingManager:function(){return StateTrackingManager},StickyCells:function(){return StickyCells},StickyEvents:function(){return StickyEvents},Store:function(){return Store},StoreCRUD:function(){return StoreCRUD},StoreChained:function(){return StoreChained},StoreFilter:function(){return StoreFilter},StoreGroup:function(){return StoreGroup},StoreProxy:function(){return StoreProxy},StoreRelation:function(){return StoreRelation},StoreSearch:function(){return StoreSearch},StoreSort:function(){return StoreSort},StoreState:function(){return StoreState},StoreStm:function(){return StoreStm},StoreSum:function(){return StoreSum},StoreSync:function(){return StoreSync},StoreTree:function(){return StoreTree},StringDataField:function(){return StringDataField},StringHelper:function(){return StringHelper},Stripe:function(){return Stripe},Styleable:function(){return Styleable},SubGrid:function(){return SubGrid},Summary:function(){return Summary$1},Tab:function(){return Tab},TabBar:function(){return TabBar},TabPanel:function(){return TabPanel},TableExporter:function(){return TableExporter},TemplateColumn:function(){return TemplateColumn},TemplateHelper:function(){return TemplateHelper},TextAreaField:function(){return TextAreaField},TextField:function(){return TextField},TimeAxis:function(){return TimeAxis},TimeAxisColumn:function(){return TimeAxisColumn},TimeAxisHeaderMenu:function(){return TimeAxisHeaderMenu},TimeAxisViewModel:function(){return TimeAxisViewModel},TimeColumn:function(){return TimeColumn},TimeField:function(){return TimeField},TimePicker:function(){return TimePicker},TimeRanges:function(){return TimeRanges},TimeSpan:function(){return TimeSpan},TimeSpanMenuBase:function(){return TimeSpanMenuBase},TimeSpanRecordContextMenuBase:function(){return TimeSpanRecordContextMenuBase},TimelineBase:function(){return TimelineBase},TimelineBaseTag:function(){return TimelineBaseTag},TimelineDateMapper:function(){return TimelineDateMapper},TimelineDomEvents:function(){return TimelineDomEvents},TimelineEventRendering:function(){return TimelineEventRendering},TimelineScroll:function(){return TimelineScroll},TimelineSummary:function(){return TimelineSummary},TimelineViewPresets:function(){return TimelineViewPresets},TimelineZoomable:function(){return TimelineZoomable},Toast:function(){return Toast},Tool:function(){return Tool},Toolable:function(){return Toolable},Toolbar:function(){return Toolbar},Tooltip:function(){return Tooltip},TooltipBase:function(){return TooltipBase},Transaction:function(){return Transaction},Tree:function(){return Tree},TreeColumn:function(){return TreeColumn},TreeGrid:function(){return TreeGrid},TreeNode:function(){return TreeNode},TrialButton:function(){return TrialButton},TrialPanel:function(){return TrialPanel},UndoRedo:function(){return UndoRedo},UndoRedoBase:function(){return UndoRedoBase},VersionHelper:function(){return VersionHelper},ViewPreset:function(){return ViewPreset},WeekExpander:function(){return WeekExpander},WeekView:function(){return WeekView},WeeklyRecurrenceIterator:function(){return WeeklyRecurrenceIterator},Widget:function(){return Widget},WidgetColumn:function(){return WidgetColumn},WidgetHelper:function(){return WidgetHelper},WidgetTag:function(){return WidgetTag},XMLHelper:function(){return XMLHelper},YearView:function(){return YearView},YearlyRecurrenceIterator:function(){return YearlyRecurrenceIterator}});var o=r("../node_modules/process/browser.js");const i="calendar";class BrowserHelper{static cacheFlags(e=navigator.platform,n=navigator.userAgent){const r=this;r._isLinux=Boolean(e.match(/Linux/)),r._isMac=Boolean(e.match(/Mac/)),r._isWindows=Boolean(e.match(/Win32/)),r._isIE11=Boolean(n.match(/rv:11/)),r._edgeVersion=r.getVersion(n,/Edge?\/(\d+)\./),r._isEdge=r._edgeVersion>0&&r._edgeVersion<80,r._isEdge||(r._edgeVersion=0),r._isWebkit=Boolean(n.match(/WebKit/))&&!r._isEdge,r._firefoxVersion=r.getVersion(n,/Firefox\/(\d+)\./),r._isFirefox=r._firefoxVersion>0,r._chromeVersion=r._isEdge?0:r.getVersion(n,/Chrom(?:e|ium)\/(\d+)\./),r._isChrome=r._chromeVersion>0,r._isSafari=Boolean(n.match(/Safari/))&&!r._isChrome&&!r._isEdge,r._isMobileSafari=Boolean(n.match(/Mobile.*Safari/)),r._isAndroid=Boolean(n.match(/Android/g));try{document.querySelector(":scope"),r.supportsQueryScope=!r._isFirefox}catch(e){r.supportsQueryScope=!1}r._supportsPassive=!1;try{document.addEventListener("__notvalid__",null,{get passive(){r._supportsPassive=!0}})}catch(e){}}static get supportsOverflowClip(){if(null==this._supportsOverflowClip){const e=document.createElement("div");e.style.overflow="clip",e.style.display="none",document.documentElement.appendChild(e),this._supportsOverflowClip="clip"===e.ownerDocument.defaultView.getComputedStyle(e).getPropertyValue("overflow"),e.remove()}return this._supportsOverflowClip}static get supportsSticky(){return!this._isIE11}static getVersion(e,n){const r=e.match(n);return r?parseInt(r[1]):0}static get isTouchDevice(){return"_isTouchDevice"in this?this._isTouchDevice:window.matchMedia("(pointer:coarse)").matches}static get supportsPointerEvents(){return Boolean(window.PointerEvent||window.MSPointerEvent)}static get isHoverableDevice(){return void 0===this._isHoverableDevice&&(this._isHoverableDevice=window.matchMedia("(any-hover: hover)").matches),this._isHoverableDevice}static get isBrowserEnv(){return"undefined"!=typeof window}static get isMac(){return this._isMac}static get isWindows(){return this._isWindows}static get isLinux(){return this._isLinux}static get isAndroid(){return this._isAndroid}static get isIE11(){return this._isIE11}static get isEdge(){return this._isEdge}static get edgeVersion(){return this._edgeVersion}static get isWebkit(){return this._isWebkit}static get isChrome(){return this._isChrome}static get chromeVersion(){return this._chromeVersion}static get isFirefox(){return this._isFirefox}static get firefoxVersion(){return this._firefoxVersion}static get isSafari(){return this._isSafari}static get isMobileSafari(){return this._isMobileSafari}static get supportsPassive(){return this._supportsPassive}static get storageAvailable(){let e,n;try{return e=localStorage,n="__storage_test__",e.setItem(n,n),e.removeItem(n),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&0!==e.length}}static setLocalStorageItem(e,n){this.storageAvailable&&localStorage.setItem(e,n)}static getLocalStorageItem(e){return this.storageAvailable&&localStorage.getItem(e)}static removeLocalStorageItem(e){this.storageAvailable&&localStorage.removeItem(e)}static searchParam(e,n=null,r=document.location.search){const o=new RegExp(`[?&]${e}=?([^&]*)`),i=r.match(o);return i&&i[1]||n}static getCookie(e){const n=encodeURIComponent(e)+"=",r=document.cookie.split(";");for(let e=0;e<r.length;e++){let o=r[e];for(;" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return decodeURIComponent(o.substring(n.length,o.length))}return""}static download(e,n){const r=document.createElement("a");r.download=e,r.href=n||e,r.style.cssText="display:none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}static downloadBlob(e,n){const r=window.URL.createObjectURL(e);this.download(n,r),window.URL.revokeObjectURL(r)}static get queryString(){var e;const n=new URL(window.location.href).searchParams;return null===(e=Object.fromEntries)||void 0===e?void 0:e.call(Object,n.entries())}static get global(){return this.isBrowserEnv?window:"undefined"!=typeof global?global:globalThis||{}}static copyToClipboard(e){let n=!0;const r=document.createElement("textarea");r.value=e,r.style.height=r.style.width=0,document.body.appendChild(r),r.select();try{document.execCommand("copy")}catch(e){n=!1}return r.remove(),n}static isBryntumOnline(e){var n;return e=Array.isArray(e)?e:[e],Boolean(/^(www\.)?bryntum\.com/.test(window.location.host)||(null===(n=e)||void 0===n?void 0:n.some((e=>null!=this.queryString[e]))))}}BrowserHelper.isBrowserEnv&&BrowserHelper.cacheFlags(),BrowserHelper._$name="BrowserHelper";let a=!1;try{a=Boolean(BrowserHelper.global.parent&&BrowserHelper.global.parent.Siesta||void 0!==o&&(BrowserHelper.global.StartTest||BrowserHelper.global.Siesta))}catch(e){}a&&(BrowserHelper._isHoverableDevice=!0);class VersionHelper{static setVersion(e,n){e=e.toLowerCase(),l[e]={version:n,isNewerThan:e=>e<n,isOlderThan:e=>e>n};let r="";r=i;const o=`${r}.${e}${n.replace(/\./g,"-")}`;if(BrowserHelper.isBrowserEnv&&!BrowserHelper.global.bryntum.silenceBundleException)if(!0===window.bryntum[o]){if(!a)throw new Error('Bryntum bundle included twice, check cache-busters and file types (.js).\nSimultaneous imports from "*.module.js" and "*.umd.js" bundles are not allowed.');window.BUNDLE_EXCEPTION=!0}else window.bryntum[o]=!0}static getVersion(e){if(e=e.toLowerCase(),!l[e])throw new Error("No version specified! Please check that you import VersionHelper right into the class from where you call `deprecate` function.");return l[e].version}static checkVersion(e,n,r){const o=l.getVersion(e);let i;switch(r){case"<":i=o<n;break;case"<=":i=o<=n;break;case"=":i=o===n;break;case">=":i=o>=n;break;case">":i=o>n}return i}static deprecate(e,n,r){if(!l.checkVersion(e,n,"<"))throw new Error(`Deprecated API use. ${r}`);console.warn(`Deprecation warning: You are using a deprecated API which will change in v${n}. ${r}`)}static get isTestEnv(){return a}static get isDebug(){return!1}}const l=VersionHelper;let c,d,u,p;BrowserHelper.isBrowserEnv&&((window.bryntum||(window.bryntum={})).getVersion=l.getVersion.bind(l),window.bryntum.checkVersion=l.checkVersion.bind(l),window.bryntum.deprecate=l.deprecate.bind(l),window.bryntum.isTestEnv=l.isTestEnv),VersionHelper._$name="VersionHelper";const b=/([a-z])([A-Z])/g,g=/[\n\r]/g,m=/[.*+?^${}()|[\]\\]/g,f=/[&<]/,v=/(^[^a-z]+[^\w]+)/gi,y=/\s+/,htmlDecoder=(e,n)=>d[n.toLowerCase()]||String.fromCharCode(parseInt(n.substr(2),10)),htmlEncoder=(e,n)=>c[n],hyphenateCamelLetters=(e,n,r)=>`${n}-${r.toLowerCase()}`,separateCamelLetters=(e,n,r)=>`${n} ${r.toLowerCase()}`,replaceNonIdChar=e=>e?`_x${[...e].map((e=>e.charCodeAt(0).toString(16))).join("")}`:"__blank__",x={},C={};class StringHelper{static capitalize(e){return e&&e[0].toUpperCase()+e.substr(1)}static capitalizeFirstLetter(e){return VersionHelper.deprecate("Core","5.0.0","Deprecated in favor of `capitalize()`, will be removed in 5.0"),e?e[0].toUpperCase()+e.substr(1):null}static lowercaseFirstLetter(e){return VersionHelper.deprecate("Core","5.0.0","Deprecated in favor of `uncapitalize()`, will be removed in 5.0"),e?e[0].toLowerCase()+e.substr(1):null}static uncapitalize(e){return e&&e[0].toLowerCase()+e.substr(1)}static hyphenate(e){const n=x[e];return n||(x[e]=e.replace(b,hyphenateCamelLetters))}static separate(e){const n=C[e];return n||(C[e]=this.capitalize(e.replace(b,separateCamelLetters)))}static createId(e){return String(e).replace(v,replaceNonIdChar)}static escapeRegExp(e,n){let r=e.replace(m,"\\$&");return void 0!==n&&(r=new RegExp(r,n)),r}static decodeHtml(e){return e&&String(e).replace(p,htmlDecoder)}static encodeHtml(e){return e&&String(e).replace(u,htmlEncoder)}static encodeHtmlBR(e){var n;return null===(n=StringHelper.encodeHtml(e))||void 0===n?void 0:n.replace(g,"<br>")}static isHtml(e){return"string"==typeof e&&f.test(e||"")}static initHtmlEntities(e){e=e||{"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};const n=Object.keys(e);c=e,d=n.reduce(((n,r)=>(n[e[r]]=r,n)),{}),u=new RegExp(`([${n.map((e=>"[-]".includes(e)?"\\"+e:e)).join("")}])`,"g"),p=new RegExp(`(${Object.values(e).join("|")}|&#[0-9]+;)`,"ig")}static safeJsonParse(e){let n=null;try{n=JSON.parse(e)}catch(e){}return n}static safeJsonStringify(e,n=null,r=null){let o=null;try{o=JSON.stringify(e,n,r)}catch(e){}return o}static joinPaths(e,n="/"){return e.join(n).replace(new RegExp("\\"+n+"+","g"),n)}static split(e,n=y){let r=e;return"string"==typeof r&&(r=e.trim(),r=r?r.split(n):[]),r}static xss(e,...n){const r=[];let o=n.length;for(r[o]=e[o];o-- >0;)r[o]=e[o]+StringHelper.encodeHtml(n[o]);return r.join("")}static xssBR(e,...n){const r=[];let o=n.length;for(r[o]=e[o];o-- >0;)r[o]=e[o]+StringHelper.encodeHtmlBR(n[o]);return r.join("")}}StringHelper.initHtmlEntities(),StringHelper._$name="StringHelper";const{toString:S}=Object.prototype,{isFrozen:D}=Object,E=/\s*<\s*/,k=/\s*>\s*/,T={},_=/\[object ([^\]]+)]/,M={},R=Object.freeze({});class Objects{static assign(e,...n){for(let r,o,i=0;i<n.length;i++)if(r=n[i],r)for(o in r)e[o]=r[o];return e}static assignIf(e,...n){for(let r,o,i=0;i<n.length;i++)if(r=n[i],r)for(o in r)o in e&&void 0!==e[o]||(e[o]=r[o]);return e}static blend(e,n,r){r=r||T,e=e||{};const{clone:o=Objects.clone,merge:i=Objects.blend}=r;if(Array.isArray(n)){if(n.length>1)return n.forEach((n=>{e=Objects.blend(e,n,r)})),e;n=n[0]}if(n){let a,l,c;for(l in n)c=n[l],c&&I.isObject(c)&&(a=e[l],r.key=l,a&&I.isObject(a)?(D(a)&&(e[l]=a=o(a,r)),c=i(a,c,r)):c=D(c)?c:o(c,r)),e[l]=c}return e}static clone(e,n){let r,o=e;if(e&&"object"==typeof e){if(n&&"object"==typeof n&&n&&(n=null),I.isObject(e))for(r in o={},e)o[r]=I.clone(e[r]);else if(Array.isArray(e))for(o=[],r=e.length;r-- >0;)o[r]=I.clone(e[r]);else I.isDate(e)?o=new Date(e.getTime()):n&&(o=n(e))}return o}static createTruthyKeys(e){const n=StringHelper.split(e),r=n&&{};if(n)for(const e of n)e&&(r[e]=!0);return r}static getPath(e,n){return n.split(".").reduce(((e,n)=>(e||R)[n]),e)}static getPathDefault(e,n,r){const o=Array.isArray(n)?n:"string"==typeof n?n.split("."):[n],i=o.length-1;return o.reduce(((e,n,o)=>(r&&!(n in e)&&(e[n]=o===i?r:{}),(e||R)[n])),e)}static hasPath(e,n){return n.split(".").every((n=>n in e&&(e=e[n],!0)))}static getTruthyKeys(e){const n=[];for(const r in e)e[r]&&n.push(r);return n}static getTruthyValues(e){const n=[];for(const r in e)e[r]&&n.push(e[r]);return n}static isClass(e){var n;return"function"==typeof e&&(null===(n=e.prototype)||void 0===n?void 0:n.constructor)===e}static isDate(e){return Boolean(e&&e.getUTCDate)&&"date"===I.typeOf(e)}static isPromise(e){if(Promise&&Promise.resolve)return Promise.resolve(e)===e||"function"==typeof(null==e?void 0:e.then);throw new Error("Promise not supported in your environment")}static isEmpty(e){if(e&&"object"==typeof e)for(const n in e)return!1;return!0}static isObject(e){const n=null==e?void 0:e.constructor;return Boolean(n?n===Object||n.getPrototypeOf&&n.prototype&&!Object.getPrototypeOf(n.prototype):e&&"object"==typeof e)}static isInstantiated(e){return!!e&&("object"==typeof e&&!Objects.isObject(e))}static merge(e,...n){return Objects.blend(e,n)}static mergeItems(e,n,r){let o,i,a,l,c,d,u;r=r||T;const{merge:p=Objects.blend,rebuild:b=!Objects.ES6_OBJECT_ORDER}=r;if(e=e||{},Array.isArray(n))n.forEach((n=>{e=Objects.mergeItems(e,n,r)}));else if(n){for(c in n)if(u=n[c],o=null,c.includes(">")?([c,o]=c.split(k),i=0):c.includes("<")&&([o,c]=c.split(E),i=1),c in e)u&&e[c]&&p&&(r.key=c,u=p(e[c],u,r)),e[c]=u;else if(o){if(!l){l=new Map,a=0;for(const n in e)l.set(n,a++)}if(a=l.get(o),e[c]=u,null==a&&i)a=l.size;else{d=!b&&(d||[]),a=(a||0)+i;for(const e of l){const[n,r]=e;a<=r&&(d&&(d[l.size-r-1]=n),l.set(n,r+1))}if(d)for(;d.length;){const n=d.pop(),r=e[n];delete e[n],e[n]=r}}l.set(c,a)}else{var g;e[c]=u,null===(g=l)||void 0===g||g.set(c,l.size)}if(b&&l){const n=Array.from(l.entries()).sort(((e,n)=>e[1]-n[1])),r=e;e={};for(let o,i=0;i<n.length;++i)o=n[i][0],e[o]=r[o]}}return e}static setPath(e,n,r){return n.split(".").reduce(((e,n,o,i)=>o===i.length-1?e[n]=r:(e[n]instanceof Object||(e[n]={}),e[n])),e),e}static typeOf(e){let n,r,o=typeof e;return"object"===o?null===e?o="null":(r=S.call(e),(o=M[r])||(n=_.exec(r),M[r]=o=n?n[1].toLowerCase():r)):e!=e&&(o="nan"),o}}const I=Objects;I.ES6_OBJECT_ORDER=(()=>{const e={a:1,b:2,c:3};delete e.b,e.b=20;return"c"===Object.keys(e)[1]})(),Objects._$name="Objects";const{defineProperty:F,getOwnPropertyDescriptor:A}=Reflect,{hasOwnProperty:O,toString:P}=Object.prototype,H=Symbol("instanceProperties"),q=Symbol("configuring"),L=Symbol("lazyConfigValues"),j=P.call(new Date),N=/\s+/,createClsProps=(e,n)=>(e[n]=1,e);class Config{static get(e,n){const{cache:r}=this,o=r[e]||(r[e]=new Config(e));let i,a=o;return n&&(i=Config.makeCacheKey(e,n),(a=i&&r[i])||(a=o.extend(n),i&&(r[i]=a))),a}constructor(e){const n=this,r=e[0].toUpperCase()+e.substr(1);n.base=n,n.name=e,n.field="_"+e,n.capName=r,n.changer="change"+r,n.initializing="initializing"+r,n.updater="update"+r}get descriptor(){let e=this._descriptor;return e&&O.call(this,"_descriptor")||(this._descriptor=e=this.makeDescriptor()),e}get initDescriptor(){let e=this._initDescriptor;return e&&O.call(this,"_initDescriptor")||(this._initDescriptor=e=this.makeInitter()),e}equal(e,n){return e===n}extend(e){const n=Object.assign(Object.create(this),e),{equal:r,merge:o}=e,{equalityMethods:i}=Config;return"string"==typeof r&&(r.endsWith("[]")?n.equal=Config.makeArrayEquals(i[r.substr(0,r.length-2)]):n.equal=i[r]),"string"==typeof o&&(n.merge=Config.mergeMethods[o]),n}define(e){const n=A(e,this.name);let r=this.descriptor;n&&n.get&&(r=Object.assign({},r),r.get=n.get),F(e,this.name,r)}defineInitter(e,n){const{name:r}=this,o=e[H];let i,a;o[r]||!(a=A(e,r))||"value"in a||(o[r]=a),F(e,r,this.initDescriptor),this.lazy&&(i=e[L]||(e[L]={$counter_:0}),i[r]=n,++i.$counter_)}static makeArrayEquals(e){return(n,r)=>{let o,i=n&&r&&n.length===(o=r.length);if(i&&Array.isArray(n)&&Array.isArray(r))if(e)for(;i&&o-- >0;)i=e(n[o],r[o]);else for(;i&&o-- >0;)i=n[o]===r[o];else i=e?e(n,r):n===r;return i}}static makeCacheKey(e,n){const r=Object.keys(n).sort();for(let e,o,i,a=r.length;a-- >0;)if(i=n[e=r[a]],null==i&&!1===i)r.splice(a,1);else{if(o=typeof i,"function"===o)return null;"string"===o?r[a]=`${e}:"${i}"`:"number"===o&&(r[a]=`${e}:${i}`)}return r.length?`${e}>${r.join("|")}`:e}makeDescriptor(){const e=this,{base:n,field:r,changer:o,updater:i,name:a}=e;return n!==e&&n.equal===e.equal?n.descriptor:{get(){var e;return null===(e=this.configObserver)||void 0===e||e.get(a,this),this[r]},set(n){const l=this;let c,d,u=l[r];if("string"==typeof n){let e=n;var p;if(n.startsWith("up."))e=null===(p=l.owner)||void 0===p?void 0:p.resolveProperty(n.substr(3));else n.startsWith("this.")&&(e=l.resolveProperty(n.substr(5)));void 0!==e&&"function"!=typeof e&&(n=e)}l[o]&&(c=void 0===(d=l[o](n,u)),c||(n=d,u=l[r])),c||(e.equal===B?u===n:e.equal(u,n))||(l[r]=n,c=!0,l[i]&&l[i](n,u)),c&&!l.onConfigChange.$nullFn&&l.onConfigChange({name:a,value:n,was:u,config:e})}}}makeInitter(){const e=this;return e!==e.base?e.lazy?e.makeLazyInitter():e.base.initDescriptor:e.makeBasicInitter()}makeBasicInitter(){const e=this,{initializing:n,name:r}=e;return{configurable:!0,get(){const o=this;return e.removeInitter(o),o[n]=!0,o[r]=o[q][r],o[n]=!1,o.configDone[r]=!0,o[r]},set(n){e.removeInitter(this),this.configDone[r]=!0,this[r]=n}}}makeLazyInitter(){const e=this,{initializing:n,name:r}=e;return{configurable:!0,get(){const o=this,i=o[L][r];return e.removeInitter(o),o.isDestroying||(o[n]=!0,o[r]=i,o[n]=!1),o[r]},set(n){e.removeInitter(this),this[r]=n}}}removeInitter(e){const{name:n}=this,r=e[H][n];r?F(e,n,r):delete e[n],this.lazy&&(--e[L].$counter_||delete e[L])}setDefault(e,n){F(e.prototype,this.field,{configurable:!0,writable:!0,value:n})}merge(e,n){return n&&e&&Objects.isObject(n)&&Objects.isObject(e)&&(e=Objects.merge(Objects.clone(n),e)),e}}const{prototype:$}=Config,{equal:B}=$;Config.symbols={configuring:q,instanceProperties:H,lazyConfigs:L},Config.cache=Object.create(null),Config.equalityMethods={array:Config.makeArrayEquals(),date:(e,n)=>e===n||!(!e||!n||P.call(e)!==j||P.call(n)!==j)&&e.getTime()===n.getTime(),strict:Config.equal=B},Config.mergeMethods={distinct(e,n){let r=n?n.slice():[];if(null!=e)if(Objects.isObject(e))if(void 0===n)r=e;else{let n,o;for(n in e)o=r.indexOf(n),e[n]?o<0&&r.push(n):o>-1&&r.splice(o,1)}else Array.isArray(e)?e.forEach((e=>!r.includes(e)&&r.push(e))):r.includes(e)||r.push(e);return r},merge:Config.merge=$.merge,classList(e,n){if("string"==typeof e){if(!e.length)return n;e=e.split(N).reduce(createClsProps,{})}return Config.merge(e,n)},objects:(e,n)=>!0===e?n||{}:Config.merge(e,n),replace:e=>e,items:(e,n)=>Objects.mergeItems(n,e,{merge:(e,n)=>$.merge(n,e)})},Object.assign($,{_descriptor:null,_initDescriptor:null,lazy:!1,nullify:!1,render:!1}),Config._$name="Config";class MetaClass{constructor(e){e&&Object.assign(this,e)}getInherited(e,n=!0){let r=this[e];var o;e in this||(r=null===(o=this.super)||void 0===o?void 0:o.getInherited(e,n),(r||n)&&(this[e]=r=Object.create(r||null)));return r}}const{getPrototypeOf:z}=Object,{defineProperty:V}=Reflect,{hasOwnProperty:W}=Object.prototype,U=Symbol("classMetaData"),G=Symbol("mixinTag"),Y=Symbol("originalConfig"),K=Config.symbols.configuring,X=Config.symbols.instanceProperties,Q=Config.symbols.lazyConfigs,Z={merge:"replace",simple:!0},emptyFn=()=>{},newMeta=e=>new MetaClass(e),J={},ee=Object.freeze({}),te=Object.freeze([]);class Base{static get isBase(){return!0}get isBase(){return!0}static get declarable(){return["declarable","configurable","defaultConfig","properties","prototypeProperties"]}constructor(...e){const n=this,r=n.constructor;n.$meta.class!==r&&r.$meta,n.construct(...e),n.afterConstruct()}static new(...e){return new this(Objects.merge({},...e))}construct(...e){null!==e[0]&&this.configure(...e),this.afterConfigure()}static destroy(...e){const shredder=e=>{null!=e&&e.destroy?e.destroy():Array.isArray(e)&&e.forEach(shredder)};shredder(e)}destroy(){const e=this,{id:n}=e;e.isDestroying=!0,e.destroy=emptyFn,e.doDestroy(),Object.setPrototypeOf(e,null);for(const n in e)"destroy"!==n&&"isDestroying"!==n&&delete e[n];delete e[Y],e.isDestroyed=!0,e.id=n}_thisIsAUsedExpression(e){}static get $$name(){return W.call(this,"$name")&&this.$name||W.call(this,"_$name")&&this._$name||this.name}get $$name(){return this.constructor.$$name}startConfigure(e){}finishConfigure(e){}afterConfigure(){}afterConstruct(){}callback(e,n,r=te){const{handler:o,thisObj:i}=this.resolveCallback(e,"this"===n?this:n)||ee;return null==o?void 0:o.apply(i,r)}resolveProperty(e){let n=this;for(;n;){if(Objects.hasPath(n,e))return Objects.getPath(n,e);n=n.owner}}resolveCallback(e,n=this,r=!0){if(e.substring){if(e.endsWith("?")&&(!1,e=e.substring(0,e.length-1)),e.startsWith("up.")){for(e=e.substring(3),n=this.owner;n&&!n[e];n=n.owner);if(!n)return}else e.startsWith("this.")&&(e=e.substring(5),n=this);if(!(n&&n instanceof Object))return;if("function"!=typeof n[e])return;e=n[e]}return{handler:e,thisObj:n}}bindCallback(e,n=this){if(e){const{handler:r,thisObj:o}=this.resolveCallback(e,n);if(r)return r.bind(o)}}delay(e,n){e=this.setTimeout?e:e.bind(this);(this.setTimeout?this:BrowserHelper.global)["number"==typeof n?"setTimeout":"requestAnimationFrame"](e,n)}doDestroy(){const e=this,{nullify:n}=e.$meta;if(n)for(let r=0;r<n.length;++r)null!=e[n[r].field]&&(e[n[r].name]=null)}destroyProperties(...e){const n=this;let r,o;for(r of e)!(r in n)||n[K]&&n[K][r]||(o=n[r],o&&o.destroy&&o.destroy(),delete n[r])}configure(e={}){const n=this,{beforeConfigure:r}=e,o=n.$meta.configs,i=n.getDefaultConfiguration();let a,l,c;for(l in n.initialConfig=e,n.isConfiguring=!0,Object.assign(n,n.getProperties()),e)c=e[l],a=o[l],i[l]=a?a.merge(c,i[l],null):c;r&&(delete i.beforeConfigure,r(n,i)),n.setConfig(n[Y]=i,!0),n.isConfiguring=!1}getConfig(e){return this[e]}setConfig(e,n){const r=this,o=r[K],i=o?r.configDone:r.configDone={},a=r.$meta.configs;let l,c;for(c in r[X]={},r[K]=o?Object.setPrototypeOf(Object.assign({},e),o):e,e)null!=e[c]||W.call(e,c)?(l=a[c]||Config.get(c),l.defineInitter(r,e[c]),n?l.lazy&&(i[c]=!0):i[c]=!1):i[c]=!0;for(c in n&&r.startConfigure(e),e)i[c]||(r[c]=e[c]);return o?r[K]=o:delete r[K],n&&r.finishConfigure(e),r}hasConfig(e){const n=this,r=n[Q],o=n[K],i=null!=n["_"+e],a=null!=(null==r?void 0:r[e]),l=Boolean(!n.configDone[e]&&o&&(null!=o[e]||W.call(o,e)));return i||a||l}triggerConfig(e){const{configDone:n}=this,r=this[K],o=r&&(null!=r[e]||W.call(r,e))?!n[e]:null;return o&&this.getConfig(e),o}onConfigChange(){}get config(){const e={},n=this[Y];for(const r in n)e[r]=n[r];return e}static initClass(){return this.$meta.class}static get $meta(){const e=this;let n=e[U];return W.call(e,U)||(e[U]=n=newMeta(),n.class=e,e.setupClass(n)),n}static onClassMixedIn(){}static mergeConfigs(e,...n){const r=this.$meta.configs,o=Objects.clone(e)||{};let i,a,l,c;for(a=0;a<n.length;++a)if(i=n[a],i)for(l in i)c=i[l],r[l]?c=r[l].merge(c,o[l]):o[l]&&c&&(c=Config.merge(c,o[l])),o[l]=c;return o}static mixin(...e){let n,r=this;for(n=0;n<e.length;++n){const o=e[n],i=o[G]||(o[G]=Symbol("mixinTag"));r[i]||(r=o(r),r[i]=!0,W.call(r,"onClassMixedIn")&&r.onClassMixedIn())}return r}static setupClass(e){var n;const r=e.class,o=z(r).$meta,i=r.$$name,a=o.names,l=r.prototype;if(V(l,"$meta",{value:e}),Object.assign(e,{super:o,config:Object.create(o.config),configs:Object.create(o.configs),declarables:o.declarables,forkConfigs:o.forkConfigs,hierarchy:Object.freeze([...o.hierarchy,r]),names:a.includes(i)?a:Object.freeze([...a,i]),properties:o.properties,nullify:null===(n=o.nullify)||void 0===n?void 0:n.slice()}),a!==e.names){const e="is"+i;W.call(l,e)||V(l,e,{value:!0}),W.call(r,e)||V(r,e,{value:!0})}for(let n,o,i=0;i<e.declarables.length;++i)n=e.declarables[i],W.call(r,n)&&(o=J[n]||(J[n]=`setup${StringHelper.capitalize(n)}`),r[o](r,e))}static setupConfigs(e,n,r){const o=e.config,i=e.configs,a=e.class;let l,c,d,u,p,b,{nullify:g}=e;for(const m in n)p=n[m],r?(l=i[m])?p=l.merge(p,o[m],e):l=Config.get(m,Z):(c=d=u=void 0,p&&"object"==typeof p&&"$config"in p&&(d=p.$config,d&&!Objects.isObject(d)&&(d=Objects.createTruthyKeys(d)),u="default"in p,c=u?p.default:c,p=p.value),(l=i[m])?(b=l.nullify,d&&(l=l.extend(d)),p=l.merge(p,o[m],e)):(l=Config.get(m,d),l.define(a.prototype),u=!(l.field in a.prototype),b=!1),u&&l.setDefault(a,c),l.nullify&&!b&&(g||(g=e.nullify||(e.nullify=[]))).push(l)),p&&(Objects.isObject(p)||Array.isArray(p))&&!Object.isFrozen(p)&&(e.forkConfigs=!0),i[m]=l,o[m]=p}static setupConfigurable(e,n){e.setupConfigs(n,e.configurable,!1)}static setupDefaultConfig(e,n){e.setupConfigs(n,e.defaultConfig,!0)}static setupDeclarable(e,n){const r=e.declarable;let o,i,a=n.declarables;for(i=0;i<r.length;++i)a.includes(r[i])||(o||(n.declarables=o=a=a.slice()),a.push(r[i]))}static setupProperties(e,n){n.properties=n.super.properties.slice(),n.properties.push(e),Object.freeze(n.properties)}static setupPrototypeProperties(e){Object.assign(e.prototype,e.prototypeProperties)}getDefaultConfiguration(){return this.constructor.getDefaultConfiguration()}static getDefaultConfiguration(){const e=this.$meta,n=e.forkConfigs?Base.fork(e.config):Object.create(e.config);if(VersionHelper.isTestEnv&&BrowserHelper.isBrowserEnv&&n.testConfig&&BrowserHelper.global.__applyTestConfigs)for(const e in n.testConfig)n[e]=n.testConfig[e];return n}static fork(e){let n,r,o=e;if(e&&Objects.isObject(e)&&!Object.isFrozen(e))for(n in o=Object.create(e),e)r=e[n],r&&(Objects.isObject(r)?o[n]=Base.fork(r):Array.isArray(r)&&(o[n]=r.slice()));return o}getProperties(){const e=this.$meta.properties,n={};for(let r=0;r<e.length;r++)Object.assign(n,e[r].properties);return n}static get superclass(){return z(this)}classHierarchy(e){const n=this.$meta.hierarchy,r=e?n.indexOf(e):0;return r>0?n.slice(r):n}static isOfTypeName(e){return this.$meta.names.includes(e)}detachListeners(e){var n;let r=this.$detachers;if(r=null===(n=r)||void 0===n?void 0:n[e],r)for(;r.length;)r.pop()()}trackDetacher(e,n){const r=this.$detachers||(this.$detachers={});(r[e]||(r[e]=[])).push(n)}untrackDetachers(e){const n=this.$detachers;if(n)for(const r in n){const o=n[r];for(let n=o.length;n-- >0;)o[n].eventer===e&&o.splice(n,1)}}}const ne=Base.prototype;function ownKeys(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread2(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(r),!0).forEach((function(n){_defineProperty(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function _defineProperty(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}ne.onConfigChange.$nullFn=!0,Base[U]=ne.$meta=newMeta({class:Base,config:Object.freeze({}),configs:Object.create(null),declarables:Base.declarable,forkConfigs:!1,hierarchy:Object.freeze([Base]),names:Object.freeze(["Base"]),nullify:null,properties:Object.freeze([]),super:null}),Object.assign(ne,{$detachers:null,configObserver:null,isDestroyed:!1,isDestroying:!1}),VersionHelper.setVersion("core","4.3.9"),Base._$name="Base";class ArrayHelper{static clean(e){return e.reduce(((e,n)=>(null==n||Array.isArray(n)&&0===n.length||""===n||e.push(n),e)),[])}static from(e,n,r){const o=[];if(e)for(const i of e)n&&!n(i)||o.push(r?r(i):i);return o}static remove(e,...n){let r,o,i=!1;for(let a=0;a<n.length;a++)o=n[a],-1!==(r=e.indexOf(o))&&(e.splice(r,1),i=!0);return i}static findInsertionIndex(e,n,r=this.lexicalCompare,o){const i=n.length;let a,l;return o<i&&(a=o>0?r(n[o-1],e):0,l=o<i-1?r(e,n[o]):0,a<1&&l<1)?o:this.binarySearch(n,e,r)}static findLast(e,n,r){for(let{length:o}=e,i=o-1;i>=0;i--)if(n.call(r,e[i],i,e))return e[i]}static binarySearch(e,n,r=0,o=e.length,i=this.lexicalCompare){const a=e.length;let l,c;for(r instanceof Function?(i=r,r=0):o instanceof Function&&(i=o,o=a),--o;r<=o;)l=r+o>>1,c=i(n,e[l]),c>=0?r=l+1:c<0&&(o=l-1);return r}magnitudeCompare(e,n){return e<n?-1:e>n?1:0}lexicalCompare(e,n){return(e=String(e))<(n=String(n))?-1:e>n?1:0}static fill(e,n={},r=null){const o=[],i=Array.isArray(n)?n:[n];for(let n=0;n<e;n++)for(const e of i){const i=Object.assign({},e);r&&r(i,n),o.push(i)}return o}static populate(e,n,r=!1){const o=[];for(let i=0;i<e;i++)o.push(n(i+(r?1:0)));return o}static include(e,n){e.includes(n)||e.push(n)}static unique(e){return[...new Set(e)]}static allowNegative(e){return new Proxy(e,{get(e,n,r){if("string"!=typeof n)return Reflect.get(e,n,r);const o=Number(n);return Number.isNaN(o)?Reflect.get(e,n,r):e[o<0?e.length+o:o]},set(e,n,r,o){if("string"!=typeof n)return Reflect.set(e,n,r,o);const i=Number(n);return Number.isNaN(i)?Reflect.set(e,n,r,o):(e[i<0?e.length+i:i]=r,!0)}})}static delta(e,n,r=!1){if(!n)return r?{toAdd:e,toRemove:[],toKeep:[]}:{onlyInA:e,onlyInB:[],inBoth:[]};const o=[],i=[],a=[];for(let r=0;r<e.length;r++){const i=e[r];n.includes(i)?a.push(i):o.push(i)}for(let e=0;e<n.length;e++){const r=n[e];a.includes(r)||i.push(r)}return r?{toAdd:o,toRemove:i,toKeep:a}:{onlyInA:o,onlyInB:i,inBoth:a}}}(e=>{const n=new Array(600),r={};let o,i,a,l;for(o=0;o<600;++o)n[o]=[Math.floor(3*Math.random())+1,o+1];for(n.sort(((e,n)=>e[0]-n[0])),o=0;o<600&&!a;++o)[i,l]=n[o],a=r[i]>l,r[i]=l;if(a){const{prototype:e}=Array,{sort:n}=e,compare=(e,n)=>e<n?-1:n<e?1:0,r=function sort(e){const r=this,o=r.length;let i,a;if(o>1){for(a=new Array(o),i=o;i-- >0;)a[i]=i;for(e=e||compare,n.call(a,((n,o)=>e(r[n],r[o])||n-o)),i=o;i-- >0;)a[i]=r[a[i]];for(i=o;i-- >0;)r[i]=a[i]}return r};Object.defineProperty(e,"sort",{configurable:!0,value:r})}})(),ArrayHelper._$name="ArrayHelper";const{hasOwnProperty:re}=Object.prototype;class FunctionHelper{static after(e,n,r,o,i){const a="string"==typeof r,l=!1!==(null==i?void 0:i.return),hook=(...n)=>{const i=hook.$nextHook.call(e,...n),c=null!=o&&o.isDestroyed?void 0:l?a?o[r](i,...n):r.call(o,i,...n):a?o[r](...n):r.call(o,...n);return void 0===c?i:c};return FunctionHelper.hookMethod(e,n,hook)}static before(e,n,r,o){const i="string"==typeof r,hook=(...n)=>{const a=null!=o&&o.isDestroyed?0:i?o[r](...n):r.call(o,...n);return!1===a?a:hook.$nextHook.call(e,...n)};return FunctionHelper.hookMethod(e,n,hook)}static curry(e){return function curried(...n){return n.length>=e.length?e.apply(this,n):function(...e){return curried.apply(this,n.concat(e))}}}static bindAll(e){for(const n in e)"function"==typeof e[n]&&(e[n]=e[n].bind(e))}static createInterceptor(e,n,r){return(...o)=>!1!==n.call(r,...o)&&e.call(r,...o)}static createSequence(e,n,r){return(...o)=>{const i=e.call(r,...o),a=n.call(r,...o);return void 0===a?i:a}}static createThrottled(e,n,r,o,i){let a,l,c=-Number.MAX_VALUE;const invoke=()=>{l=0,c=performance.now(),a.push.apply(a,o),e.apply(r,a)},result=function(...e){const d=performance.now()-c;a=e,d>=n?(clearTimeout(l),invoke()):(l||(l=setTimeout(invoke,n-d)),i&&(a.push.apply(a,o),i.apply(r,a)))};return result.cancel=()=>clearTimeout(l),result}static createBuffered(e,n,r,o){let i,a;const invoke=()=>{a=0,result.isPending=!1,i.push.apply(i,o),e.apply(r,i)},result=function(...e){i=e,a&&clearTimeout(a),result.isPending=!0,a=setTimeout(invoke,n)};return result.cancel=()=>{result.isPending=!1,clearTimeout(a)},result}static hookMethod(e,n,r){return r.$nextHook=e[n],e[n]=r,()=>{if(re.call(e,n)){let a,l=e[n];var o;if(l===r)(null===(o=Object.getPrototypeOf(e))||void 0===o?void 0:o[n])===r.$nextHook?delete e[n]:e[n]=r.$nextHook;else for(;a=null===(i=l)||void 0===i?void 0:i.$nextHook;l=a){var i;if(a===r){l.$nextHook=r.$nextHook;break}}}}}static noThrow(e,n,r){const o=e[n];e[n]=(...n)=>{try{return o.apply(e,n)}catch(e){return null==r?void 0:r(e)}}}static returnTrue(){return!0}static animate(e,n,r,o="linear"){let i=!1;const a=new Promise((a=>{const l=performance.now(),iterate=()=>{const c=Math.min((performance.now()-l)/e,1),d=r&&r.setTimeout?r:window;i||!1===n.call(r,this.easingFunctions[o](c))&&a(),i||1===c?d.requestAnimationFrame((()=>a())):d.requestAnimationFrame(iterate)};iterate()}));return a.cancel=()=>(i=!0,!1),a}}const oe=.5,ie=1.70158,se=7.5625,ae=1.525,le=2/2.75,ce=2.25/2.75,de=1/2.75,he=1.5/2.75,ue=2.5/2.75,pe=2.625/2.75,be=.75,ge=.9375,me=.984375;FunctionHelper.easingFunctions={linear:e=>e,easeInQuad:e=>Math.pow(e,2),easeOutQuad:e=>-(Math.pow(e-1,2)-1),easeInOutQuad:e=>(e/=oe)<1?oe*Math.pow(e,2):-.5*((e-=2)*e-2),easeInCubic:e=>Math.pow(e,3),easeOutCubic:e=>Math.pow(e-1,3)+1,easeInOutCubic:e=>(e/=oe)<1?oe*Math.pow(e,3):oe*(Math.pow(e-2,3)+2),easeInQuart:e=>Math.pow(e,4),easeOutQuart:e=>-(Math.pow(e-1,4)-1),easeInOutQuart:e=>(e/=oe)<1?oe*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2),easeInQuint:e=>Math.pow(e,5),easeOutQuint:e=>Math.pow(e-1,5)+1,easeInOutQuint:e=>(e/=oe)<1?oe*Math.pow(e,5):oe*(Math.pow(e-2,5)+2),easeInSine:e=>1-Math.cos(e*(Math.PI/2)),easeOutSine:e=>Math.sin(e*(Math.PI/2)),easeInOutSine:e=>-.5*(Math.cos(Math.PI*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:(e/=oe)<1?oe*Math.pow(2,10*(e-1)):oe*(2-Math.pow(2,-10*--e)),easeInCirc:e=>-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>(e/=oe)<1?-.5*(Math.sqrt(1-e*e)-1):oe*(Math.sqrt(1-(e-=2)*e)+1),easeOutBounce:e=>e<de?se*e*e:e<le?se*(e-=he)*e+be:e<ue?se*(e-=ce)*e+ge:se*(e-=pe)*e+me,easeInBack:e=>e*e*((ie+1)*e-ie),easeOutBack:e=>(e-=1)*e*((ie+1)*e+ie)+1,easeInOutBack:e=>{let n=1.70158;return(e/=oe)<1?oe*(e*e*((1+(n*=ae))*e-n)):oe*((e-=2)*e*((1+(n*=ae))*e+n)+2)},elastic:e=>-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1,swingFromTo:e=>{let n=1.70158;return(e/=oe)<1?oe*(e*e*((1+(n*=ae))*e-n)):oe*((e-=2)*e*((1+(n*=ae))*e+n)+2)},swingFrom:e=>e*e*((ie+1)*e-ie),swingTo:e=>(e-=1)*e*((ie+1)*e+ie)+1,bounce:e=>e<de?se*e*e:e<le?se*(e-=he)*e+be:e<ue?se*(e-=ce)*e+ge:se*(e-=pe)*e+me,bouncePast:e=>e<de?se*e*e:e<le?2-(se*(e-=he)*e+be):e<ue?2-(se*(e-=ce)*e+ge):2-(se*(e-=pe)*e+me),easeFromTo:e=>(e/=oe)<1?oe*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2),easeFrom:e=>Math.pow(e,4),easeTo:e=>Math.pow(e,.25)},FunctionHelper._$name="FunctionHelper";const{isArray:fe}=Array,{hasOwnProperty:ve}=Object.prototype,ye={thisObj:1,detachable:1,once:1,detacher:1,prio:1,args:1,expires:1,buffer:1,throttle:1,name:1},priorityComparator=(e,n)=>n.prio-e.prio;var we,Events=e=>class Events extends(e||Base){static get $name(){return"Events"}static get declarable(){return["deprecatedEvents"]}static setupDeprecatedEvents(e,n){const r=n.getInherited("deprecatedEvents"),o=e.deprecatedEvents;for(const e in o)r[e.toLowerCase()]=r[e]=o[e]}static get configurable(){return{listeners:{value:null,$config:{merge(e,n){if(null!==e){if(!e)return n;n&&(e=e?[e]:[]).push[fe(n)?"apply":"call"](e,n)}return e}}},bubbleEvents:null}}destroy(){this.trigger("beforeDestroy"),super.destroy()}construct(e,...n){var r;(this.configuredListeners=null===(r=e)||void 0===r?void 0:r.listeners)&&delete(e=_objectSpread2({},e)).listeners,super.construct(e,...n),this.processConfiguredListeners()}processConfiguredListeners(){if(this.configuredListeners){const e=this,{isConfiguring:n}=e;e.isConfiguring=!1,e.listeners=e.configuredListeners,e.configuredListeners=null,e.isConfiguring=n}}doDestroy(){this.trigger("destroy"),this.removeAllListeners(),super.doDestroy()}static setupClass(e){super.setupClass(e),Events.prototype.onListen.$nullFn=!0,Events.prototype.onUnlisten.$nullFn=!0}addListener(e,n,r){if(fe(e)){for(let r=0,{length:o}=e;r<o;r++)this.addListener(e[r],n);return}const o=this,i=o.$meta.getInherited("deprecatedEvents");if("string"==typeof e)return o.addListener({[e]:n,detachable:!1!==n.detachable,thisObj:r});{n=e.thisObj=void 0!==e.thisObj?e.thisObj:n;for(const r in e)if(!ye[r]&&null!=e[r]){const a=r.toLowerCase(),l=null==i?void 0:i[a],c=o.eventListeners||(o.eventListeners={}),d=e[r],u=d.expires||e.expires,p={fn:"object"==typeof d?d.fn:d,thisObj:void 0!==d.thisObj?d.thisObj:n,args:d.args||e.args,prio:void 0!==d.prio?d.prio:void 0!==e.prio?e.prio:0,once:void 0!==d.once?d.once:void 0!==e.once&&e.once,buffer:d.buffer||e.buffer,throttle:d.throttle||e.throttle,catchAll:"catchAll"===r};if(l){const{product:e,invalidAsOfVersion:n,message:r}=l;VersionHelper.deprecate(e,n,r)}if(u){const e=o.isDelayable?o:BrowserHelper.global,{alt:r}=u,i=r?u.delay:u;e.setTimeout((()=>{o.un(a,p),r&&!p.called&&o.callback(r,n)}),i)}let b=c[a]||(c[a]=[]);b.$firing&&(c[a]=b=b.slice()),b.splice(ArrayHelper.findInsertionIndex(p,b,priorityComparator,b.length),0,p),!o.onListen.$nullFn&&b.length<2&&o.onListen(a)}e.relayAll&&o.relayAll(e.relayAll),n&&n!==o&&o.attachAutoDetacher(e,n);const r=!1!==e.detachable,l=e.name,c=e.expires||r||l?()=>{o.isDestroyed||o.removeListener(e,n)}:null;var a;if(c)if(c.eventer=o,c.listenerName=l,l&&null!==(a=n)&&void 0!==a&&a.trackDetacher&&n.trackDetacher(l,c),e.expires&&o.delay(c,e.expires),r)return c}}on(...e){return this.addListener(...e)}un(...e){this.removeListener(...e)}get listeners(){return this.eventListeners}changeListeners(e){if(!this.isConfiguring){if(Array.isArray(e))for(let n=0,r=e[0],{length:o}=e;n<o;r=e[++n])"thisObj"in r||(e[n]=Objects.assign({thisObj:this},r));else e&&!("thisObj"in e)&&(e=Objects.assign({thisObj:this},e));return e}e&&this.on(e,this)}updateListeners(e,n){n&&this.un(n),e&&this.on(e)}removeListener(e,n=e.thisObj,r){const o=this;if("string"==typeof e)return o.removeListener({[e]:n},r);Object.entries(e).forEach((([e,r])=>{if(!ye[e]&&null!=r){e=e.toLowerCase();const i=o.eventListeners,a=o.findListener(e,r,n);if(a>=0){let n=i[e];n.length>1?(n.$firing&&(i[e]=n=n.slice()),n.splice(a,1)):(delete i[e],o.onUnlisten.$nullFn||o.onUnlisten(e))}}})),e.thisObj&&!e.thisObj.isDestroyed&&o.detachAutoDetacher(e)}findListener(e,n,r){var o;const i=null===(o=this.eventListeners)||void 0===o?void 0:o[e],a=n.fn||n,l=n.thisObj||r;if(i)for(let e,n=0,{length:r}=i;n<r;n++)if(e=i[n],e.fn===a&&e.thisObj===l)return n;return-1}hasListener(e){var n;return Boolean(null===(n=this.eventListeners)||void 0===n?void 0:n[null==e?void 0:e.toLowerCase()])}relayAll(e,n,r=!0){this.relayAllTargets||(this.relayAllTargets=[]);const o=this.relayAllTargets;e.on("beforeDestroy",(({source:n})=>{if(n===e){o.filter((n=>n.through===e)).forEach((e=>ArrayHelper.remove(o,e)))}})),o.push({through:e,prefix:n,transformCase:r})}removeAllListeners(){const e=this.eventListeners;let n,r;for(const i in e){const a=e[i];for(n=a.length;n-- >0;){var o;const e=a[n];this.removeListener(i,e),r=e.thisObj,null!==(o=r)&&void 0!==o&&o.untrackDetachers&&r.untrackDetachers(this)}}}relayEvents(e,n,r=""){const o={detachable:!0};return n.forEach((e=>{o[e]=(n,...o)=>this.trigger(r+e,n,...o)})),e.on(o)}onListen(){}onUnlisten(){}destructorInterceptor(){const{autoDetachers:e,target:n,oldDestructor:r}=this;for(let r=0;r<e.length;r++){const{dispatcher:o,config:i}=e[r];o.isDestroyed||o.removeListener(i,n)}r.call(n)}attachAutoDetacher(e,n){const r=e.thisObj||n,o="doDestroy"in r?"doDestroy":"destroy";if(o in r){let{$autoDetachers:n}=r;n||(r.$autoDetachers=n=[]),r.$oldDestructor||(r.$oldDestructor=r[o],r[o]=this.destructorInterceptor.bind({autoDetachers:n,oldDestructor:r.$oldDestructor,target:r})),n.push({config:e,dispatcher:this})}else r[o]=()=>{this.removeListener(e)}}detachAutoDetacher(e){const n=e.thisObj;n.$oldDestructor&&!n.isDestroying&&(ArrayHelper.remove(n.$autoDetachers,n.$autoDetachers.find((n=>n.config===e&&n.dispatcher===this))),n.$autoDetachers.length||(n["doDestroy"in n?"doDestroy":"destroy"]=n.$oldDestructor,n.$oldDestructor=null))}await(e,n={checkLog:!0,resetLog:!0,args:null}){const r=this;!1===n&&(n={checkLog:!1});const{args:o}=n;return new Promise((i=>{var a;if(n.checkLog&&null!==(a=r._triggered)&&void 0!==a&&a[e]&&(i(),n.resetLog&&r.clearLog(e)),o){const a=r.on({[e]:(...l)=>{Object.keys(o).every((e=>e in l[0]&&l[0][e]===o[e]))&&(i(...l),n.resetLog&&r.clearLog(e),a())},prio:-1e4})}else r.on({[e]:(...o)=>{i(...o),n.resetLog&&r.clearLog(e)},prio:-1e4,once:!0})}))}clearLog(e){this._triggered&&(e?delete this._triggered[e]:this._triggered={})}trigger(e,n){var r,o,i,a;const l=this,c=e.toLowerCase(),{eventsSuspended:d,relayAllTargets:u,callOnFunctions:p}=l;let b,g=null===(r=l.eventListeners)||void 0===r?void 0:r[c];if(l._triggered||(l._triggered={}),l._triggered[e]=!0,d)return d.shouldQueue&&d.queue.push(arguments),!0;if(null!==(o=l.eventListeners)&&void 0!==o&&o.catchall&&((g=g?g.slice():[]).push(...l.eventListeners.catchall),g.sort(priorityComparator)),!g&&!u&&!p)return!0;if(n?"source"in n||(Object.isExtensible(n)?n.source=l:n=Object.setPrototypeOf({source:l},n)):n={source:l},n.type!==c&&(n.constructor!==Object?Reflect.defineProperty(n,"type",{get:()=>c}):n.type=c),!("bubbles"in n)&&null!==(i=l.bubbleEvents)&&void 0!==i&&i[e]&&(n.bubbles=l.bubbleEvents[e]),p){const r="on"+StringHelper.capitalize(e);if(r in l){var m;let e=!1===l.callback(l[r],l,[n]);if(!l.isDestroyed&&ve.call(l,r)&&(null===(m=l.pluginFunctionChain)||void 0===m||!m[r])){const o=Object.getPrototypeOf(l);if(r in o&&(e=!1===o[r].call(l,n)||e,l.isDestroyed))return}if(e)return!1}}if(g){let e,r=0;for(g.$firing=!0;r<g.length&&!l.isDestroyed&&!1!==e;r++){const o=g[r];let i,a=o.thisObj;if(!a||!a.isDestroyed){if(o.called=!0,o.once&&l.removeListener(c,o),"string"==typeof o.fn){if(a&&(i=a[o.fn]),!i){const e=l.resolveCallback(o.fn);i=e.handler,a=e.thisObj}}else i=o.fn;if(o.buffer){if(!o.bufferFn){const e=Number(o.buffer);if("number"!=typeof e||isNaN(e))throw new Error(`Incorrect type for buffer, got "${e}" (expected a Number)`);o.bufferFn=FunctionHelper.createBuffered(i,e,o.thisObj,o.args)}i=o.bufferFn}if(o.throttle){const e=Number(o.throttle);if("number"!=typeof e||isNaN(e))throw new Error(`Incorrect type for throttle, got "${e}" (expected a Number)`);o.throttledFn||(o.throttledFn=FunctionHelper.createThrottled(i,e,o.thisObj,o.args)),i=o.throttledFn}e=i.call(a||l,...o.args||[],n),Objects.isPromise(e)&&(b||(b=[])).push(e)}}if(g.$firing=!1,!1===e)return e}return u&&u.forEach((r=>{let o=e;if(r.transformCase&&(o=StringHelper.capitalize(o)),r.prefix&&(o=r.prefix+o),!1===r.through.trigger(o,n))return!1})),n.bubbles&&l.owner&&!l.owner.isDestroyed?l.owner.trigger(e,n):null===(a=b)||void 0===a||!a.length||new Promise((e=>{Promise.all(b).then((n=>{const r=!n.some((e=>!1===e));e(r)}))}))}suspendEvents(e=!1){(this.eventsSuspended||(this.eventsSuspended={shouldQueue:e,queue:[],count:0})).count++}resumeEvents(){const e=this.eventsSuspended;if(e&&0==--e.count&&(this.eventsSuspended=null,e.shouldQueue))for(const n of e.queue)this.trigger(...n);return!Boolean(this.eventsSuspended)}};class AsyncHelper{static animationFrame(){return new Promise((e=>{requestAnimationFrame(e)}))}static sleep(e){return new Promise((n=>{setTimeout((()=>{n()}),e)}))}static yield(){return Promise.resolve()}}AsyncHelper._$name="AsyncHelper";const xe=/^(\w+)=(.*)$/,Ce=globalThis.DocsBrowserInstance&&(null===(we=BrowserHelper.queryString)||void 0===we?void 0:we.__resourceRoot)||"";class AjaxHelper{static get(e,n){return this.fetch(e,n)}static post(e,n,r={}){return n instanceof FormData||"string"==typeof n||(n=JSON.stringify(n),r.headers=r.headers||{},r.headers["Content-Type"]=r.headers["Content-Type"]||"application/json"),this.fetch(e,Object.assign({method:"POST",body:n},r))}static fetch(e,n={}){let r;if("undefined"!=typeof AbortController&&(r=new AbortController,Object.assign(n,{abortController:r,signal:r.signal})),"credentials"in n||(n.credentials="include"),n.queryParams){const r=Object.entries(n.queryParams);r.length&&(e+=(e.includes("?")?"&":"?")+r.map((([e,n])=>`${e}=${encodeURIComponent(n)}`)).join("&"))}const o=new Promise(((r,i)=>{fetch(Ce+e,n).then((e=>{n.parseJson?e.json().then((n=>{e.parsedJson=n,r(e)})).catch((n=>{e.parsedJson=null,e.error=n,i(e)})):r(e)})).catch((e=>{e.stack=o.stack,"AbortError"!==e.name&&i(e)}))}));return o.stack=(new Error).stack,o.abort=function(){var e;null===(e=r)||void 0===e||e.abort()},o}static mockUrl(e,n){const r=this;(r.mockAjaxMap||(r.mockAjaxMap={}))[e]=n,AjaxHelper.originalFetch||(AjaxHelper.originalFetch=AjaxHelper.fetch),AjaxHelper.fetch=r.mockAjaxFetch.bind(r)}static mockAjaxFetch(e,n){let r=e.split("?"),o=this.mockAjaxMap[r[0]],i=null;if(o){"function"==typeof o&&(o=o(r[0],r[1]&&function(e){const n={},r=e.split("&");for(const e of r){const[r,o,i]=xe.exec(e),a=decodeURIComponent(o),l=decodeURIComponent(i);if(r){let e=n[a];e?(Array.isArray(e)||(e=n[a]=[e]),e.push(l)):n[a]=l}}return n}(r[1]),n));try{i=n.parseJson&&JSON.parse(o.responseText)}catch(e){i=null,o.error=e}return o=Object.assign({status:200,ok:!0,headers:new Headers,statusText:"OK",url:e,parsedJson:i,text:()=>new Promise((e=>{e(o.responseText)})),json:()=>new Promise((e=>{e(i)}))},o),new Promise((function(e,n){o.synchronous?e(o):setTimeout((function(){e(o)}),"delay"in o?o.delay:100)}))}return AjaxHelper.originalFetch(e,n)}}AjaxHelper._$name="AjaxHelper";class LocaleHelper{static mergeLocales(...e){const n={};return e.forEach((e=>{Object.keys(e).forEach((r=>{"object"==typeof e[r]?n[r]=_objectSpread2(_objectSpread2({},n[r]),e[r]):n[r]=e[r]}))})),n}static trimLocale(e,n){const remove=(n,r)=>{e[n]&&(r?e[n][r]&&delete e[n][r]:delete e[n])};Object.keys(n).forEach((e=>{Object.keys(n[e]).length>0?Object.keys(n[e]).forEach((n=>remove(e,n))):remove(e)}))}static publishLocale(e,n){const r=window.bryntum=window.bryntum||{},o=r.locales=r.locales||{};o[e]=o[e]?this.mergeLocales(o[e],n):n}}LocaleHelper._$name="LocaleHelper";class LocaleManager extends(Events(Base)){static get defaultConfig(){return{locales:{},throwOnMissingLocale:VersionHelper.isTestEnv}}construct(...e){const n=this;if(super.construct(...e),BrowserHelper.isBrowserEnv){const e=document.querySelector("script[data-default-locale]"),{locales:r}=window.bryntum||{};e&&(n.defaultLocaleName=e.dataset.defaultLocale),r&&(Object.keys(r).forEach((e=>{if(!e.startsWith("moment")){const o=r[e];o.extends?n.extendLocale(o.extends,o):o.localeName&&n.registerLocale(o.localeName,{desc:o.localeDesc,locale:o})}})),n.locale||"En"!==n.defaultLocaleName&&n.applyLocale(n.defaultLocaleName||Object.keys(n.locales)[0]))}}set locales(e){this._locales=e}get locales(){return this._locales}set locale(e){"string"==typeof e?this.applyLocale(e):(e.locale||(e={locale:e,localeName:e.localeName||"custom"}),this.registerLocale(e.localeName,e),this.applyLocale(e.localeName))}get locale(){return this._locale}registerLocale(e,n){var r;const o=this,i=o.defaultLocaleName===e,a=(null===(r=o.locale)||void 0===r?void 0:r.localeName)===e,l=0===Object.keys(o.locales).length;let c=o.locales[e];c?(n.exclude&&(c.exclude=LocaleHelper.mergeLocales(c.exclude||{},n.exclude)),c.locale=LocaleHelper.mergeLocales(c.locale,n.locale)):(o.locales[e]=n,c=o.locales[e]),c.exclude&&LocaleHelper.trimLocale(c.locale,c.exclude),(i||!o.defaultLocaleName&&(l||a))&&o.internalApplyLocale(c)}extendLocale(e,n){var r;const o=this.locales[e];return!!o&&(o.locale=LocaleHelper.mergeLocales(o.locale,n),delete o.locale.extends,(null===(r=this.locale)||void 0===r?void 0:r.localeName)===e&&this.applyLocale(e),!0)}internalApplyLocale(e){this._locale=e.locale,this.trigger("locale",e)}applyLocale(e,n=!1,r=!1){const o=this,i=o.locales[e];if(null!=i&&i.locale&&o._locale===i.locale&&!n)return!0;if(!i){if(r)return!0;throw new Error(`Locale ${e} not registered`)}function internalApply(){o.internalApplyLocale(i)}return i.locale?(internalApply(),!0):new Promise(((n,r)=>{o.loadLocale(i.path).then((r=>{r.text().then((r=>{new Function(r)(),BrowserHelper.isBrowserEnv&&(i.locale=window.bryntum.locales[e]),internalApply(),n(i)}))})).catch((e=>r(e)))}))}loadLocale(e){return AjaxHelper.get(e)}set throwOnMissingLocale(e){this._throwOnMissingLocale=e}get throwOnMissingLocale(){return this._throwOnMissingLocale}}const Se=new LocaleManager,De=Object.getPrototypeOf(Object),Ee=/L{.*?}/g,unescape=e=>e.replace(/\[\[(\d+)]]/gm,"{$1}");var Localizable=e=>class Localizable extends(e||Base){static get $name(){return"Localizable"}static get configurable(){return{localeClass:null,localizableProperties:{value:[],$config:{merge:"distinct"}}}}static clsName(e){var n,r;return"string"==typeof e?e:e===De?"Object":e.$$name||e.name||(null===(n=e.prototype)||void 0===n?void 0:n.$$name)||(null===(r=e.prototype)||void 0===r?void 0:r.name)}static parseLocaleString(e){var n;const r=[];let o;if(null!==(n=e)&&void 0!==n&&n.includes("L{")){const n=/L{(.*?)}/g;for(e=e.replace(/{(\d+)}/gm,"[[$1]]");null!=(o=n.exec(e));){const e=/((.*?)\.)?(.+)/g.exec(o[1]);r.push({match:unescape(o[0]),localeKey:unescape(e[3]),localeClass:e[2]})}}return r.length>0?r:[{match:e,localeKey:e,localeClass:void 0}]}construct(e={},...n){super.construct(e,...n),Se.on("locale",this.updateLocalization,this),this.updateLocalization()}get localeClass(){return this._localeClass||null}localizeProperty(e){var n;const r=this,o=Objects.getPath(r,e),i=null===(n=r.$meta.configs[e])||void 0===n?void 0:n.localeKey;if(i){const n=Localizable.localize(i,null,r.localeClass||r);n&&!(e in r.initialConfig)&&Objects.setPath(r,e,n)}else if("string"==typeof o){r.originalLocales=r.originalLocales||{};let n=Objects.getPath(r.originalLocales,e);void 0===n&&(Objects.setPath(r.originalLocales,e,o),n=o),n&&Objects.setPath(r,e,r.optionalL(n))}}updateLocalization(){var e;null===(e=this.localizableProperties)||void 0===e||e.forEach(this.localizeProperty,this)}static getTranslation(e,n,r){const{locale:o}=Se;let i,a,l=null;if(o)for(const{match:c,localeKey:d,localeClass:u}of this.parseLocaleString(e)){const translate=i=>{var a;const u=null===(a=o[i])||void 0===a?void 0:a[d];return u&&(l="function"==typeof u?null!=n?u(n):u:"object"==typeof u||e===c?u:(l||e).replace(c,u),"string"==typeof u&&u.includes("L{")&&(l=this.getTranslation(u,n,r))),u};let p=!1;for(a=r;a&&(i=Localizable.clsName(a))&&!(p=translate(i))&&"string"!=typeof a;a=Object.getPrototypeOf(a));!p&&u&&translate(u)}return l}static localize(e,n=void 0,...r){var o;0===(null===(o=r)||void 0===o?void 0:o.length)&&(r=[this]);let i=null;return r.some((r=>(i=Localizable.getTranslation(e,n,r),null!=i))),i}static L(e,n=void 0,...r){var o;0===(null===(o=r)||void 0===o?void 0:o.length)&&(r=[this]);const i=this.localize(e,n,...r);if(null==i&&Se.throwOnMissingLocale&&Se.locale&&e.includes("L{"))throw new Error(`Localization is not found for '${e}' in '${r.map((e=>Localizable.clsName(e))).join(", ")}'. ${Se.locale.localeName?`Locale : ${Se.locale.localeName}`:""}`);return null!=i?i:e}L(e,n){const{localeClass:r,constructor:o}=this;return r&&Localizable.clsName(r)!==Localizable.clsName(o)?Localizable.L(e,n,r,o):Localizable.L(e,n,o)}static optionalL(e,n=void 0,...r){var o;const i=Se.throwOnMissingLocale;Se.throwOnMissingLocale=i&&Ee.test(e),0===(null===(o=r)||void 0===o?void 0:o.length)&&(r=[this]);const a=Localizable.L(e,n,...r);return Se.throwOnMissingLocale=i,a}optionalL(e,n){const r=Se.throwOnMissingLocale;Se.throwOnMissingLocale=r&&Ee.test(e);const o=this.L(e,n);return Se.throwOnMissingLocale=r,o}get localeManager(){return Se}};const{toString:ke}=Object.prototype,Te=ke.call(new Date),_e=new RegExp("","g"),Me=new Date,Re=36e5,defaultValue=(e,n)=>isNaN(e)||null==e?n:e,enOrdinalSuffix=e=>{let n="th";if(!["11","12","13"].find((n=>e.endsWith(n)))){n={1:"st",2:"nd",3:"rd"}[e[e.length-1]]||"th"}return e+n},useIntlFormat=(e,n,r)=>{let o=(Oe[e]||(Oe[e]=new Intl.DateTimeFormat(Ie,n))).format(r);return BrowserHelper.isIE11&&(o=o.replace(_e,"")),o},formatTime=(e,n,r,o=!1)=>{let i=useIntlFormat(e,n,r);return/am|pm/i.test(i)&&(i=i.replace(/^0/,""),o&&(i=i.replace(/:00/,""))),i},normalizeDay=e=>e>=0?e:e+7;let Ie="en-US",Fe=enOrdinalSuffix,Ae={},Oe={},Pe={};const He={M:e=>e.getMonth()+1,Mo:e=>Fe(He.M(e).toString()),MM:e=>(e.getMonth()+1).toString().padStart(2,"0"),MMM:e=>useIntlFormat("MMM",{month:"short"},e),MMMM:e=>useIntlFormat("MMMM",{month:"long"},e),Q:e=>Math.ceil((e.getMonth()+1)/3),Qo:e=>Fe(He.Q(e).toString()),D:e=>e.getDate(),Do:e=>Fe(He.D(e).toString()),DD:e=>e.getDate().toString().padStart(2,"0"),DDD:e=>Math.ceil((new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0)-new Date(e.getFullYear(),0,0,12,0,0))/Be.day.millisecond),DDDo:e=>Fe(He.DDD(e).toString()),DDDD:e=>He.DDD(e).toString().padStart(3,"0"),d:e=>e.getDay(),do:e=>Fe(e.getDay().toString()),d1:e=>useIntlFormat("d1",{weekday:"narrow"},e).substr(0,1),dd:e=>He.ddd(e).substring(0,2),ddd:e=>useIntlFormat("ddd",{weekday:"short"},e),dddd:e=>useIntlFormat("dddd",{weekday:"long"},e),e:e=>e.getDay(),E:e=>e.getDay()+1,W:e=>DateHelper.getWeekNumber(e)[1],Wo:e=>Fe(He.W(e).toString()),WW:e=>He.W(e).toString().padStart(2,"0"),Y:e=>e.getFullYear(),YY:e=>e.getFullYear()%100,YYYY:e=>e.getFullYear(),A:e=>e.getHours()<12?"AM":"PM",a:e=>e.getHours()<12?"am":"pm",H:e=>e.getHours(),HH:e=>e.getHours().toString().padStart(2,"0"),h:e=>e.getHours()%12||12,hh:e=>He.h(e).toString().padStart(2,"0"),k:e=>e.getHours()||24,kk:e=>He.k(e).toString().padStart(2,"0"),K:e=>formatTime("K",{hour:"numeric"},e),KK:e=>formatTime("KK",{hour:"2-digit"},e),m:e=>e.getMinutes(),mm:e=>He.m(e).toString().padStart(2,"0"),s:e=>e.getSeconds(),ss:e=>He.s(e).toString().padStart(2,"0"),S:e=>Math.floor(e.getMilliseconds()/100).toString(),SS:e=>Math.floor(e.getMilliseconds()/10).toString().padStart(2,"0"),SSS:e=>e.getMilliseconds().toString().padStart(3,"0"),z:e=>useIntlFormat("z",{timeZoneName:"short"},e),zz:e=>useIntlFormat("zz",{timeZoneName:"long"},e),Z:e=>tt.getGMTOffset(e),LT:e=>formatTime("LT",{hour:"2-digit",minute:"2-digit"},e),LST:e=>formatTime("LST",{hour:"numeric",minute:"2-digit"},e,!0),LTS:e=>formatTime("LTS",{hour:"2-digit",minute:"2-digit",second:"2-digit"},e),L:e=>useIntlFormat("L",{year:"numeric",month:"2-digit",day:"2-digit"},e),l:e=>useIntlFormat("l",{year:"numeric",month:"numeric",day:"numeric"},e),LL:e=>useIntlFormat("LL",{year:"numeric",month:"long",day:"numeric"},e),ll:e=>useIntlFormat("ll",{year:"numeric",month:"short",day:"numeric"},e),LLL:e=>useIntlFormat("LLL",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"},e),lll:e=>useIntlFormat("lll",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"},e),LLLL:e=>useIntlFormat("LLLL",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",weekday:"long"},e),llll:e=>useIntlFormat("llll",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",weekday:"short"},e)},qe=`^(?:${Object.keys(He).sort(((e,n)=>n.length-e.length)).join("|")})`,emptyFn$1=()=>({}),parseMilliseconds=e=>(e=>Xe.test(e))(e)&&{milliseconds:parseInt(e.padEnd(3,"0").substring(0,3))},Le={YYYY:e=>({year:parseInt(e)}),Y:e=>({year:parseInt(e)}),YY:e=>{const n=parseInt(e);return{year:n+(n>1968?1900:2e3)}},MM:e=>({month:parseInt(e)-1}),Mo:e=>({month:parseInt(e)-1}),DD:e=>({date:parseInt(e)}),M:e=>({month:parseInt(e)-1}),D:e=>({date:parseInt(e)}),Do:e=>({date:parseInt(e)}),DDD:emptyFn$1,MMM:emptyFn$1,MMMM:emptyFn$1,DDDo:emptyFn$1,DDDD:emptyFn$1,d:emptyFn$1,do:emptyFn$1,d1:emptyFn$1,dd:emptyFn$1,ddd:emptyFn$1,dddd:emptyFn$1,Q:emptyFn$1,Qo:emptyFn$1,W:emptyFn$1,Wo:emptyFn$1,WW:emptyFn$1,e:emptyFn$1,E:emptyFn$1,HH:e=>({hours:parseInt(e)}),hh:e=>({hours:parseInt(e)}),mm:e=>({minutes:parseInt(e)}),H:e=>({hours:parseInt(e)}),m:e=>({minutes:parseInt(e)}),ss:e=>({seconds:parseInt(e)}),s:e=>({seconds:parseInt(e)}),S:parseMilliseconds,SS:parseMilliseconds,SSS:parseMilliseconds,A:e=>({amPm:e.toLowerCase()}),a:e=>({amPm:e.toLowerCase()}),L:"MM/DD/YYYY",LT:"HH:mm A",Z:e=>{if(!e||!Qe.test(e)&&"Z"!==e)return null;let n=0;if("Z"!==e){const r=Qe.exec(e);if(r){n=("+"===r[1]?1:-1)*(60*(parseInt(r[2])||0)+(parseInt(r[3])||0))}else n=-1*(new Date).getTimezoneOffset()}return{timeZone:n}}},je=Object.keys(Le).sort(((e,n)=>n.length-e.length)),Ne=new RegExp(`(${je.join("|")})`),$e=new RegExp("(l|LL|ll|LLL|lll|LLLL|llll)"),Be={decade:{decade:1,year:10,quarter:40,month:120,week:520,day:3652,hour:87648,minute:5258880,second:315532800,millisecond:3155328e5},year:{decade:.1,year:1,quarter:4,month:12,week:52,day:365,hour:8760,minute:525600,second:31536e3,millisecond:31536e6},quarter:{decade:1/40,year:1/4,quarter:1,month:3,week:4,day:91,hour:2184,minute:131040,second:7862400,millisecond:78624e5},month:{decade:1/120,year:1/12,quarter:1/3,month:1,week:4,day:-30,hour:-720,minute:-43200,second:-2592e3,millisecond:-2592e6},week:{decade:-1/520,year:-1/52,quarter:-1/13,month:-1/4,day:7,hour:168,minute:10080,second:604800,millisecond:6048e5},day:{decade:-1/3652,year:-1/365,quarter:-1/91,month:-1/30,week:1/7,hour:24,minute:1440,second:86400,millisecond:864e5},hour:{decade:-1/87648,year:-1/8760,quarter:-1/2184,month:-1/720,week:1/168,day:1/24,minute:60,second:3600,millisecond:36e5},minute:{decade:-1/5258880,year:-1/525600,quarter:-1/131040,month:-1/43200,week:1/10080,day:1/1440,hour:1/60,second:60,millisecond:6e4},second:{decade:-1/315532800,year:-1/31536e3,quarter:-1/7862400,month:-1/2592e3,week:1/604800,day:1/86400,hour:1/3600,minute:1/60,millisecond:1e3},millisecond:{decade:-1/3155328e5,year:-1/31536e6,quarter:-1/78624e5,month:-1/2592e6,week:1/6048e5,day:1/864e5,hour:1/36e5,minute:1/6e4,second:.001}},ze={ms:"millisecond",milliseconds:"millisecond",s:"second",seconds:"second",m:"minute",mi:"minute",min:"minute",minutes:"minute",h:"hour",hours:"hour",d:"day",days:"day",w:"week",weeks:"week",M:"month",mo:"month",mon:"month",months:"month",q:"quarter",quarters:"quarter",y:"year",years:"year",dec:"decade",decades:"decade"},Ve=/^\s*([-+]?\d+(?:[.,]\d*)?|[-+]?(?:[.,]\d+))\s*([^\s]+)?/i,We=/^\s*([-+]?\d+)(?![.,])\s*([^\s]+)?/i,Ue=["millisecond","second","minute","hour","day","week","month","quarter","year","decade"],Ge=[["mil"],["s","sec"],["m","min"],["h","hr"],["d"],["w","wk"],["mo","mon","mnt"],["q","quar","qrt"],["y","yr"],["dec"]],Ye=["decade","year","month","week","day","hour","minute","second","millisecond"],Ke=["milliseconds","seconds","minutes","hours","date","month","year"],Xe=/^[0-9]+$/,Qe=/([+-])(\d\d):*(\d\d)*$/,Ze={millisecond:0,second:1,minute:2,hour:3,day:4,week:5,month:6,quarter:7,year:8,decade:9},Je={round:(e,n=1)=>Math.round(e/n)*n,floor:(e,n=1)=>Math.floor(e/n)*n,ceil:(e,n=1)=>Math.ceil(e/n)*n},et={};class DateHelper extends(Localizable()){static get $name(){return"DateHelper"}static set defaultFormat(e){tt._defaultFormat=e}static get defaultFormat(){return tt._defaultFormat||"YYYY-MM-DDTHH:mm:ssZ"}static set defaultParseFormat(e){this._defaultParseFormat=e}static get defaultParseFormat(){return this._defaultParseFormat||this._defaultFormat||"YYYY-MM-DDTHH:mm:ss.SSSZ"}static buildParser(e){const n=e.split(Ne),r=[];return 1===n.length||$e.test(e)?[]:(n.reduce(((n,o,i,a)=>{if(0!==i||""!==o)if(Ne.test(o)){const l=(this.localize("L{parsers}")||{})[o]||Le[o];if("Z"===o&&i<a.length-2)throw new Error(`Invalid format ${e} TimeZone (Z) must be last token`);if("string"==typeof l){const e=tt.buildParser(l),o=e.pop();delete o.last,r.push(...e),n=o}else n.pattern=o,n.fn=Le[o]}else n.splitter=o,r.push(n),n={};else Object.prototype.hasOwnProperty.call(n,"pattern")&&r.push(n);return n}),{}),r[r.length-1].last=!0,r)}static makeKey(e){e.getTime&&(e=e.getTime());const n=et[Math.trunc(e/Re)];if(n)return n;Me.setTime(e);const r=Me.getMonth()+1,o=Me.getDate();return et[Math.trunc(e/Re)]=`${Me.getFullYear()}-${r<10?"0"+r:r}-${o<10?"0"+o:o}`}static parseKey(e){return tt.parse(e,"YYYY-MM-DD")}static parse(e,n=tt.defaultParseFormat){if(e instanceof Date)return e;if("string"!=typeof e||!e)return null;const r={year:null,month:null,date:null,hours:null,minutes:null,seconds:null,milliseconds:null};n=n.replace(/S+/gm,"SSS");let o,i=Pe[n];i||(i=Pe[n]=tt.buildParser(n)),i.reduce(((e,n)=>{if(!n.last){let o,i,a;if(o="T"===n.splitter&&-1===e.indexOf("T")?e.indexOf(" "):""!==n.splitter?e.indexOf(n.splitter):n.pattern&&n.pattern.length||-1,-1===o||"SSS"===n.pattern&&e.match(/^\d+Z$/)){const n=e.split(/([Z\-+])/);1===n.length?(i=e,a=""):(i=n[0],a=`${n[1]}${n[2]}`)}else i=e.substring(0,o)||e,a=e.substring(o+n.splitter.length);if(n.fn){const e=n.fn(i);e?Object.assign(r,e):a=i+a}return a}Object.assign(r,n.fn(e))}),e),r.year&&!r.date&&(r.date=1);const a=tt.create(r);return o=a||new Date(e),o}static create(e){const n=_objectSpread2({},e);let r=isNaN(n.year),o=!1;if(!r){let e=!0;Ke.forEach((r=>{r in n&&!isNaN(n[r])||(n[r]=0),e=e&&null===n[r]})),r=e}if("pm"===n.amPm&&(n.hours=n.hours%12+12),"timeZone"in n&&(o=!0,n.minutes-=n.timeZone),r)return null;const i=[defaultValue(n.year,2020),defaultValue(n.month,0),defaultValue(n.date,1),n.hours,n.minutes,n.seconds,n.milliseconds];return o?new Date(Date.UTC(...i)):new Date(...i)}static toUTC(e){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()))}static format(e,n=tt.defaultFormat){if(!e||isNaN(e))return null;let r=Ae[n],o="";if(!r){r=Ae[n]=[];for(let e=0;e<n.length;e++){const o=n.substr(e).match(qe),i=null==o?void 0:o[0];if(i){const n=(this.localize("L{formats}")||{})[i]||He[i];r.push(n),e+=i.length-1}else if("{"===n[e]){const o=n.indexOf("}",e+1);-1===o?(r.push(n.substr(e+1)),e=n.length):(r.push(n.substring(e+1,o)),e=o)}else r.push(n[e])}}return r.forEach((n=>{o+="string"==typeof n?n:n(e)})),(BrowserHelper.isEdge||BrowserHelper.isIE11)&&(o=o.replace(/\u200E/g,"")),o}static asMilliseconds(e,n=null){return"string"==typeof e&&(n=e,e=1),tt.as("millisecond",e,n)}static asMonths(e){const n=tt.as("ms",tt.daysInMonth(e),"day"),r=(e.valueOf()-tt.startOf(e,"month").valueOf())/n;return 12*e.getYear()+e.getMonth()+r}static monthsToDate(e){const n=Math.floor(e),r=e-n,o=new Date(0,n),i=tt.as("ms",tt.daysInMonth(o),"days");return o.setTime(o.getTime()+r*i),o}static formatDelta(e,n){let r,o;"boolean"==typeof n?r=n:n&&(r=n.abbrev);const i=this.getDelta(e,n),a=[],l=(null==n?void 0:n.separator)||(r?"":" ");for(o in i)a.push(`${i[o]}${l}${o}`);return!1===(null==n?void 0:n.asString)?a:a.join(", ")}static getDelta(e,n){let r,o,i,a,l;"boolean"==typeof n?r=n:n&&(r=n.abbrev,a=tt.normalizeUnit(n.precision));const c={},d=r?tt.getShortNameOfUnit:tt.getLocalizedNameOfUnit;for(l of Ye)if(o=tt.as(l,e),i=a===l,o=Math[i?"round":"floor"](o),(o||i&&!c.length)&&(c[d.call(tt,l,1!==o)]=o,e-=tt.as("ms",o,l)),i||!e)break;return c}static as(e,n,r="ms"){return"string"==typeof n&&(n=tt.parseDuration(n)),"object"==typeof n&&(r=n.unit,n=n.magnitude),e===r||(e=tt.normalizeUnit(e))===(r=tt.normalizeUnit(r))?n:Ze[r]>Ze[e]?n*Math.abs(Be[r][e]):n/Math.abs(Be[e][r])}static formatContainsHourInfo(e){return/([HhKkmSsAa]|LT|L{3,}|l{3,})/.test(e.replace(/(\\.)/g,""))}static is24HourFormat(e){return tt.format(tt.getTime(13,0,0),e).includes("13")}static add(e,n,r="ms",o=!0){let i;if(i="string"==typeof e?tt.parse(e):o?new Date(e.getTime()):e,!r||0===n)return i;switch(r=tt.normalizeUnit(r)){case"millisecond":i.setTime(i.getTime()+n);break;case"second":i.setTime(i.getTime()+1e3*n);break;case"minute":i.setTime(i.getTime()+6e4*n);break;case"hour":i.setTime(i.getTime()+36e5*n);break;case"day":n%1==0?i.setDate(i.getDate()+n):i.setTime(i.getTime()+864e5*n),23===i.getHours()&&0===e.getHours()&&i.setHours(i.getHours()+1);break;case"week":i.setDate(i.getDate()+7*n);break;case"month":{let e=i.getDate();e>28&&(e=Math.min(e,tt.getLastDateOfMonth(tt.add(tt.getFirstDateOfMonth(i),n,"month")).getDate())),i.setDate(e),i.setMonth(i.getMonth()+n);break}case"quarter":tt.add(i,3*n,"month",!1);break;case"year":i.setFullYear(i.getFullYear()+n);break;case"decade":i.setFullYear(i.getFullYear()+10*n)}return i}static diff(e,n,r="ms",o=!0){if(r=tt.normalizeUnit(r),!e||!n)return 0;let i;switch(r){case"year":i=tt.diff(e,n,"month")/12;break;case"quarter":i=tt.diff(e,n,"month")/3;break;case"month":i=12*(n.getFullYear()-e.getFullYear())+(n.getMonth()-e.getMonth());break;case"week":i=tt.diff(e,n,"day")/7;break;case"day":{const r=e.getTimezoneOffset()-n.getTimezoneOffset();i=(n-e+60*r*1e3)/864e5;break}case"hour":i=(n-e)/36e5;break;case"minute":i=(n-e)/6e4;break;case"second":i=(n-e)/1e3;break;case"millisecond":i=n-e}return o?i:Math.round(i)}static startOf(e,n="day",r=!0,o=tt.weekStartDay){if(!e)return null;switch(n=tt.normalizeUnit(n),r&&(e=tt.clone(e)),n){case"year":return e.setMonth(0,1),e.setHours(0,0,0,0),e;case"quarter":return e.setMonth(3*(tt.get(e,"quarter")-1),1),e.setHours(0,0,0,0),e;case"month":return e.setDate(1),e.setHours(0,0,0,0),e;case"week":{const n=e.getDay()-o;return e.setDate(e.getDate()-n),e.setHours(0,0,0,0),e}case"day":return e.setHours(0,0,0,0),e;case"hour":e.getMinutes()>0&&e.setMinutes(0);case"minute":e.getSeconds()>0&&e.setSeconds(0);case"second":e.getMilliseconds()>0&&e.setMilliseconds(0);case"millisecond":return e}}static endOf(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1)}static clone(e){return new Date(e.getTime())}static clearTime(e,n=!0){return e?(n&&(e=new Date(e.getTime())),e.setHours(0,0,0,0),e):null}static midnight(e,n){let r=tt.clearTime(e);return n&&r<e&&(r=tt.add(r,1,"d")),r}static getTimeOfDay(e,n="ms"){const r=e.getHours()*Be.hour.millisecond+e.getMinutes()*Be.minute.millisecond+e.getSeconds()*Be.second.millisecond+e.getMilliseconds();return"ms"===n?r:tt.as(n,r,"ms")}static set(e,n,r){if(!n)return e;if("string"==typeof n)switch(tt.normalizeUnit(n)){case"millisecond":(0!==r||e.getMilliseconds()>0)&&e.setMilliseconds(r);break;case"second":(0!==r||e.getSeconds()>0)&&e.setSeconds(r);break;case"minute":(0!==r||e.getMinutes()>0)&&e.setMinutes(r);break;case"hour":e.setHours(r);break;case"day":case"date":e.setDate(r);break;case"week":throw new Error("week not implemented");case"month":e.setMonth(r);break;case"quarter":e.setDate(1),e.setMonth(3*(r-1));break;case"year":e.setFullYear(r)}else Object.entries(n).sort(((e,n)=>Ze[e[0]]-Ze[n[0]])).forEach((([n,r])=>{tt.set(e,n,r)}));return e}static setDateToMidday(e,n=!0){return tt.set(tt.clearTime(e,n),"hour",12)}static constrain(e,n,r){return null!=n&&(e=tt.max(e,n)),null==r?e:tt.min(e,r)}static getTime(e,n=0,r=0,o=0){return e instanceof Date&&(o=e.getMilliseconds(),r=e.getSeconds(),n=e.getMinutes(),e=e.getHours()),new Date(2020,0,1,e,n,r,o)}static copyTimeValues(e,n){return e.setHours(n.getHours()),e.setMinutes(n.getMinutes()),e.setSeconds(n.getSeconds()),e.setMilliseconds(n.getMilliseconds()),e}static isDST(e){const n=e.getFullYear(),r=new Date(n,0,1),o=new Date(n,6,1);return e.getTimezoneOffset()<Math.max(r.getTimezoneOffset(),o.getTimezoneOffset())}static isBefore(e,n){return e<n}static isAfter(e,n){return e>n}static isEqual(e,n,r=null){return null===r?e&&n&&e.getTime()===n.getTime():tt.startOf(e,r)-tt.startOf(n,r)==0}static compare(e,n,r=null){return r&&(e=tt.startOf(e,r),n=tt.startOf(n,r)),e<n?-1:e>n?1:0}static isSameDate(e,n){return 0===tt.compare(e,n,"d")}static isStartOf(e,n){return tt.isEqual(e,tt.startOf(e,n))}static betweenLesser(e,n,r){return n.getTime()<=e.getTime()&&e.getTime()<r.getTime()}static betweenLesserEqual(e,n,r){return n.getTime()<=e.getTime()&&e.getTime()<=r.getTime()}static intersectSpans(e,n,r,o){return tt.betweenLesser(e,r,o)||tt.betweenLesser(r,e,n)}static compareUnits(e,n){return Math.sign(Ze[e]-Ze[n])}static timeSpanContains(e,n,r,o){return r-e>=0&&n-o>=0}static get weekStartDay(){return null==tt._weekStartDay&&(tt._weekStartDay=this.localize("L{weekStartDay}")||0),tt._weekStartDay}static get nonWorkingDays(){return _objectSpread2({},this.localize("L{nonWorkingDays}"))}static get nonWorkingDaysAsArray(){return Object.keys(this.nonWorkingDays).map(Number)}static get weekends(){return _objectSpread2({},this.localize("L{weekends}"))}static get(e,n){switch(tt.normalizeUnit(n)){case"millisecond":return e.getMilliseconds();case"second":return e.getSeconds();case"minute":return e.getMinutes();case"hour":return e.getHours();case"date":case"day":return e.getDate();case"week":return He.W(e);case"month":return e.getMonth();case"quarter":return Math.floor(e.getMonth()/3)+1;case"year":return e.getFullYear()}return null}static daysInYear(e){const n=e.getFullYear(),r=new Date(n+1,0,1)-new Date(n,0,1);return this.as("day",r)}static daysInMonth(e){const n=tt.clone(e);return n.setDate(1),n.setMonth(e.getMonth()+1),n.setDate(0),n.getDate()}static hoursInDay(e){const n=e.getFullYear(),r=e.getMonth(),o=e.getDate(),i=new Date(n,r,o+1)-new Date(n,r,o);return this.as("hour",i)}static getNormalizedUnitDuration(e,n){let r;switch(n){case"month":r=tt.asMilliseconds(tt.daysInMonth(e),"day");break;case"year":r=tt.asMilliseconds(tt.daysInYear(e),"day");break;case"day":r=tt.asMilliseconds(tt.hoursInDay(e),"hour");break;default:r=tt.asMilliseconds(n)}return r}static getFirstDateOfMonth(e){return new Date(e.getFullYear(),e.getMonth(),1)}static getLastDateOfMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}static min(e,n){return e.getTime()<n.getTime()?e:n}static max(e,n){return e.getTime()>n.getTime()?e:n}static getNext(e,n,r=1,o=tt.weekStartDay){if("week"===n){const n=tt.clone(e),i=n.getDay();return tt.startOf(n,"day",!1),tt.add(n,o-i+7*(r-(o<=i?0:1)),"day",!1),n.getDay()!==o&&tt.add(n,1,"hour"),n}return tt.startOf(tt.add(e,r,n),n,!1)}static isValidDate(e){return tt.isDate(e)&&!isNaN(e)}static isDate(e){return e&&ke.call(e)===Te}static getStartOfNextDay(e,n,r){let o=tt.add(r?e:tt.clearTime(e,n),1,"day");if(o.getDate()===e.getDate()){const r=tt.add(tt.clearTime(e,n),2,"day").getTimezoneOffset(),i=e.getTimezoneOffset();o=tt.add(o,i-r,"minute")}return o}static getEndOfPreviousDay(e,n){const r=n?e:tt.clearTime(e,!0);return r-e?r:tt.add(r,-1,"day")}static getWeekDescription(e,n=e){const r=e.getMonth()===n.getMonth()?DateHelper.format(e,"MMMM"):`${DateHelper.format(e,"MMM")} - ${DateHelper.format(n,"MMM")}`,o=DateHelper.getWeekNumber(e);return`${o[1]}, ${r} ${o[0]}`}static getWeekNumber(e,n=DateHelper.weekStartDay){const r=new Date(e.getFullYear(),0,1),o=new Date(e.getFullYear(),11,31),i=normalizeDay(r.getDay()-n),a=normalizeDay(o.getDay()-n),l=(c=e,d=r,Math.floor((c.getTime()-d.getTime()-(c.getTimezoneOffset()-d.getTimezoneOffset())*Be.minute.millisecond)/Be.day.millisecond)+1);var c,d;let u;if(u=i<4?Math.floor((l+i-1)/7)+1:Math.floor((l+i-1)/7),u){let n=e.getFullYear();return 53===u&&a<3&&(n++,u=1),[n,u]}const p=DateHelper.getWeekNumber(new Date(e.getFullYear()-1,11,31))[1];return[e.getFullYear()-1,p]}static formatCount(e,n){return n=tt.normalizeUnit(n),1!==e&&(n+="s"),e+" "+n}static getUnitToBaseUnitRatio(e,n,r=!1){return(e=tt.normalizeUnit(e))===(n=tt.normalizeUnit(n))?1:Be[e]&&Be[e][n]&&(r||Be[e][n]>0)?1/tt.as(n,1,e):Be[n]&&Be[n][e]&&(r||Be[n][e]>0)?tt.as(e,1,n):-1}static getShortNameOfUnit(e){return e=tt.parseTimeUnit(e),tt.unitLookup[e].abbrev}static getLocalizedNameOfUnit(e,n=!1){const r=e.charAt(0)===e.charAt(0).toUpperCase();return e=tt.normalizeUnit(e),e=tt.parseTimeUnit(e),e=tt.unitLookup[e][n?"plural":"single"],r&&(e=StringHelper.capitalize(e)),e}static normalizeUnit(e){if(!e)return null;const n=e.toLowerCase();return"date"===n||Ue.includes(n)?n:ze[e]||ze[n]}static getUnitByName(e){return tt.normalizeUnit(e)||tt.normalizeUnit(tt.parseTimeUnit(e))}static getDurationInUnit(e,n,r,o){return tt.diff(e,n,r,o)}static doesUnitsAlign(e,n){return!(e!==n&&"week"===n)}static getSmallerUnit(e){return Ue[Ze[tt.normalizeUnit(e)]-1]||null}static getLargerUnit(e){return Ue[Ze[tt.normalizeUnit(e)]+1]||null}static round(e,n,r,o){return tt.snap("round",e,n,r,o)}static floor(e,n,r,o){return tt.snap("floor",e,n,r,o)}static ceil(e,n,r,o){return tt.snap("ceil",e,n,r,o)}static snap(e,n,r,o,i=tt.weekStartDay){const a=Je[e];if("string"==typeof r&&(r=tt.parseDuration(r)),Objects.isObject(r)){const l=r.magnitude||r.increment;switch(r.unit){case"week":{const r=n.getDay();return o=tt.add(tt.clearTime(n),r>=i?i-r:-(r-i+7),"day"),tt[e](n,7*l+" days",o)}case"month":{let e;return n=tt.asMonths(n),e=o?n+a(n-(o=tt.asMonths(o)),l):a(n,l),tt.monthsToDate(e)}case"quarter":return tt[e](n,3*l+" months",o);case"year":return tt[e](n,12*l+" months",o);case"decade":return tt[e](n,10*l+" years",o)}r=tt.as("ms",l,r.unit)}if(o){const e=tt.as("ms",o.getTimezoneOffset()-n.getTimezoneOffset(),"ms");return new Date(o.valueOf()+a(tt.diff(o,n,"ms")+e,r))}{const e=60*n.getTimezoneOffset()*1e3;return new Date(a(n.valueOf()-e,r)+e)}}static parseDuration(e,n=!0,r){var o;const i=(n?Ve:We).exec(e);if(null==e||!i)return null;const a=(e=>{const n=parseFloat(e);return isNaN(n)?null:n})(null===(o=i[1])||void 0===o?void 0:o.replace(",",".")),l=tt.parseTimeUnit(i[2])||r;return l?{magnitude:a,unit:l}:null}static parseTimeUnit(e){const n=null==e?null:tt.durationRegEx.exec(e.toLowerCase());if(!n)return null;for(let e=0;e<Ue.length;e++)if(n[e+1])return Ue[e]}static getGMTOffset(e=new Date){if(!e)return;const n=e.getTimezoneOffset();return n?(n>0?"-":"+")+Math.abs(Math.trunc(n/60)).toString().padStart(2,"0")+":"+Math.abs(n%60).toString().padStart(2,"0"):"Z"}static fillDayNames(){const e=new Date("2000-01-01T12:00:00"),n=tt._dayNames||[],r=tt._dayShortNames||[];n.length=0,r.length=0;for(let o=2;o<9;o++)e.setDate(o),n.push(tt.format(e,"dddd")),r.push(tt.format(e,"ddd"));tt._dayNames=n,tt._dayShortNames=r}static getDayNames(){return tt._dayNames}static getDayName(e){return tt._dayNames[e]}static getDayShortNames(){return tt._dayShortNames}static getDayShortName(e){return tt._dayShortNames[e]}static fillMonthNames(){const e=new Date("2000-01-15T12:00:00"),n=tt._monthNames||[],r=tt._monthShortNames||[];n.length=0,r.length=0;for(let o=0;o<12;o++)e.setMonth(o),n.push(tt.format(e,"MMMM")),r.push(tt.format(e,"MMM"));tt._monthNames=n,tt._monthShortNames=r}static getMonthShortNames(){return tt._monthShortNames}static getMonthShortName(e){return tt._monthShortNames[e]}static getMonthNames(){return tt._monthNames}static getMonthName(e){return tt._monthNames[e]}static set locale(e){Ie=e,Oe={},Ae={}}static get locale(){return Ie}static setupDurationRegEx(e=[],n=[]){const r=this,o={};let i="";for(let a=0;a<n.length;a++){const l=n[a],c=e[a];c.canonicalUnitName=Ue[a],o[c.single]=o[c.single.toUpperCase()]=o[c.canonicalUnitName]=o[c.canonicalUnitName.toUpperCase()]=c,i+=(a?"|":"")+"(";for(let e=0;e<l.length;e++)i+=`${l[e]}|`;if(Ie=r.localize("L{locale}")||"en-US","en-US"!==Ie){const e=Ge[a];for(let n=0;n<e.length;n++)i+=`${e[n]}|`}i+=`${c.single}|${c.plural}|${c.canonicalUnitName}|${c.canonicalUnitName}s)`}r.unitLookup=o,r.durationRegEx=new RegExp(`^(?:${i})$`)}static applyLocale(){const e=this,n=e.localize("L{unitAbbreviations}")||[],r=e.unitNames=e.localize("L{unitNames}");"unitNames"!==r&&(Ie=e.localize("L{locale}")||"en-US",Fe="en-US"===Ie?enOrdinalSuffix:e.localize("L{ordinalSuffix}")||Fe,Ae={},Pe={},Oe={},tt._weekStartDay=null,tt.setupDurationRegEx(r,n),tt.fillDayNames(),tt.fillMonthNames())}}const tt=DateHelper;tt.useIntlFormat=useIntlFormat,Se.on({locale:"applyLocale",prio:1e3,thisObj:tt}),Se.locale&&tt.applyLocale(),DateHelper._$name="DateHelper";const{hasOwnProperty:nt}=Object.prototype,typeOf=e=>{const n=typeof e;if("object"===n){if(null===e)return"null";if(Array.isArray(e))return"array";if("[object Date]"===Object.prototype.toString.call(e))return"date";if(e.isBase)return"instance"}return"function"===n&&e.isBase?"class":n},rt="1.01"===1.005.toFixed(2)?null:function(e,n){const r=e.toString().split("."),o=+(r[1]?r.join(".")+"1":r[0]);return e.toFixed.call(o,n)};class ObjectHelper extends Objects{static transformArrayToNamedObject(e,n="ref"){const r={};return e.forEach(((e,o)=>{const i=null!=e[n]&&e[n].toString().length?e[n]:o;r[i]=e})),r}static transformNamedObjectToArray(e,n="ref"){return Object.keys(e).filter((n=>e[n])).map((r=>{const o=e[r];return o[n]=r,o}))}static isEqual(e,n,r=!1){if(null===e&&null!==n||void 0===e&&void 0!==n||null===n&&null!==e||void 0===n&&void 0!==e)return!1;if(null==e&&null==n)return!0;if(e===n)return!0;const o=typeof e;if(o===typeof n){switch(o){case"number":case"string":case"boolean":return e===n}switch(!0){case e instanceof Date&&n instanceof Date:return e.getTime()===n.getTime();case Array.isArray(e)&&Array.isArray(n):return e.length===n.length&&e.every(((e,o)=>ot.isEqual(e,n[o],r)));case"object"===o&&e.constructor.prototype===n.constructor.prototype:return r?ot.isDeeplyEqual(e,n,r):JSON.stringify(e)===JSON.stringify(n)}}return String(e)===String(n)}static isDeeplyEqual(e,n,r={}){if(e===n)return!0;if(!e||!n)return!1;const o=ot.keys(e,r.ignore),i=ot.keys(n,r.ignore);if(o.length!==i.length)return!1;for(let a=0;a<o.length;a++){const l=o[a],c=i[a];if(l!==c)return!1;const d=e[l],u=n[c];if(!r.shouldEvaluate||!1!==r.shouldEvaluate(l,{value:d,object:e},{value:u,object:n})){if(r.evaluate){const o=r.evaluate(l,{value:d,object:e},{value:u,object:n});if(!1===o)return!1;if(!0===o)continue}if(!ot.isEqual(d,u,r))return!1}}return!0}static isPartial(e,n){return e=String(e).toLowerCase(),n=String(n).toLowerCase(),-1!==e.indexOf(n)}static isLessThan(e,n){return e instanceof Date&&n instanceof Date?DateHelper.isBefore(e,n):e<n}static isMoreThan(e,n){return e instanceof Date&&n instanceof Date?DateHelper.isAfter(e,n):e>n}static fork(e){let n,r,o;if(e&&e.constructor===Object)for(r in n=Object.setPrototypeOf({},e),e)o=e[r],o&&(o.constructor===Object?n[r]=ot.fork(o):o instanceof Array&&(n[r]=o.slice()));else n=e;return n}static copyProperties(e,n,r){let o,i;for(i=0;i<r.length;i++)o=r[i],o in n&&(e[o]=n[o]);return e}static copyPropertiesIf(e,n,r){if(n)for(const o of r)o in e||(e[o]=n[o]);return e}static entries(e,n){const r=[],o="function"==typeof n;if(e)for(const i in e)(o?n(i,e[i]):null!=n&&n[i])||r.push([i,e[i]]);return r}static fromEntries(e,n){if(n=n||{},e)for(let r=0;r<e.length;++r)n[e[r][0]]=e[r][1];return n}static keys(e,n,r){const o=[],i="function"==typeof n;if(e){let a=0;for(const l in e)(i?n(l,e[l]):null!=n&&n[l])||(o.push(r?r(l,a):l),++a)}return o}static values(e,n,r){const o=[],i="function"==typeof n;if(e){let a=0;for(const l in e)(i?n(l,e[l]):null!=n&&n[l])||(o.push(r?r(e[l],a):e[l]),++a)}return o}static allKeys(e){return VersionHelper.deprecate("Core","5.0.0","Deprecated in favor of `keys()`; will be removed in 5.0"),ObjectHelper.keys(e)}static pathExists(e,n){return n.split(".").every((n=>!(!e||!(n in e))&&(e=e[n],!0)))}static pathifyKeys(e){const n={};for(const r in e)if(nt.call(e,r))if(e[r]instanceof Object){const o=this.pathifyKeys(e[r]);for(const e in o)n[`${r}.${e}`]=o[e]}else n[r]=e[r];return n}static deletePath(e,n){n.split(".").reduce(((e,n,r,o)=>{if(null==e)return null;if(nt.call(e,n)){if(r!==o.length-1)return e[n];delete e[n]}}),e)}static coerce(e,n){const r=typeOf(e),o=typeOf(n),i="string"==typeof e;if(r!==o)switch(o){case"string":return String(e);case"number":return Number(e);case"boolean":return!(i&&(!e||"false"===e||"0"===e))&&Boolean(e);case"null":return!(!i||e&&"null"!==e)&&null;case"undefined":return!(!i||e&&"undefined"!==e)&&void 0;case"date":return i&&isNaN(e)?DateHelper.parse(e):Date(Number(e))}return e}static wrapProperty(e,n,r,o,i=!0){const a={};let l=Object.getPrototypeOf(e),c=Object.getOwnPropertyDescriptor(l,n);for(;!c&&l&&i;)l=Object.getPrototypeOf(l),l&&(c=Object.getOwnPropertyDescriptor(l,n));c?(c.set?a.set=n=>{c.set.call(e,n),o&&o.call(e,c.get.call(e))}:a.set=o,c.get?a.get=()=>{let n=c.get.call(e);return r&&(n=r.call(e,n)),n}:a.get=r):(a.set=r=>{e[`_${n}`]=r,o&&o.call(e,r)},a.get=()=>{let o=e[`_${n}`];return r&&(o=r.call(e,o)),o}),Object.defineProperty(e,n,a)}static getPropertyDescriptor(e,n){let r=null;for(let o=e;o&&!r&&!nt.call(o,"isBase");o=Object.getPrototypeOf(o))r=Object.getOwnPropertyDescriptor(o,n);return r}static hasOwn(e,n){return!!e&&nt.call(e,n)}static cleanupProperties(e,n=!1){return Object.entries(e).forEach((([r,o])=>{n?void 0===o&&delete e[r]:null==o&&delete e[r]})),e}static removeAllProperties(e){return Object.keys(e).forEach((n=>delete e[n])),e}static assertType(e,n,r){const o=typeOf(e);if(null!=e&&o!==n)throw new Error(`Incorrect type "${o}" for ${r}, expected "${n}"`)}static assertObject(e,n){ot.assertType(e,"object",n)}static assertInstance(e,n){ot.assertType(e,"instance",n)}static assertClass(e,n){ot.assertType(e,"class",n)}static assertFunction(e,n){if("function"!=typeof e||e.isBase||e.$$name)throw new Error(`Incorrect type for ${n}, got "${e}" (expected a function)`)}static assertNumber(e,n){const r=Number(e);if("number"!=typeof e||isNaN(r))throw new Error(`Incorrect type for ${n}, got "${e}" (expected a Number)`)}static assertBoolean(e,n){ot.assertType(e,"boolean",n)}static assertString(e,n){ot.assertType(e,"string",n)}static assertArray(e,n){ot.assertType(e,"array",n)}static toFixed(e,n){return rt?rt(e,n):e.toFixed(n)}static roundTo(e,n=1){return Math.round(e/n)*n}static round(e,n){if(null==n)return e;const r=10**n;return Math.round(e*r)/r}static getMapPath(e,n,r){const o=Array.isArray(n)?n:"string"==typeof n?n.split("."):[n],i=1===o.length,a=o[0],l=e.has(a)?e.get(a):e.set(a,i?r:{}).get(a);return i?l:ot.getPathDefault(l,o.slice(1),r)}}const ot=ObjectHelper;ObjectHelper._$name="ObjectHelper";const it=["border-top-width","border-right-width","border-bottom-width","border-left-width"],st=["margin-top","margin-right","margin-bottom","margin-left"],at=["padding-top","padding-right","padding-bottom","padding-left"],lt="border-top-width",ct="border-right-width",dt="border-bottom-width",ht="border-left-width",ut="padding-top",pt="padding-right",bt="padding-bottom",gt="padding-left",mt=Object.freeze({x:0,y:0}),ft=/^([trblc])(\d*)-([trblc])(\d*)$/i,vt=/^([trblc])(\d*)$/i,yt=["top","right","bottom","left"],wt={t:0,r:1,b:2,l:3},xt=["b-t","l-r","t-b","r-l"],Ct={bt:1,tb:1,lr:1,rl:1},St=Object.freeze([0,0]),Dt=["width","height"],parseEdges=(e,n=e,r=e,o=n)=>Array.isArray(e)?parseEdges.apply(null,e):[e,n,r,o];function flipAlign(e){return`${yt[(wt[e.myEdge]+2)%4][0]}${e.myOffset}-${yt[(wt[e.targetEdge]+2)%4][0]}${e.targetOffset}`}class Rectangle{get isRectangle(){return!0}static from(e,n,r){var o;if(e.isRectangle)return e;if(void 0===r&&"boolean"==typeof n&&(r=n,n=null),n){let{scrollLeft:e,scrollTop:r}=n;(BrowserHelper.isEdge||BrowserHelper.isSafari)&&n===document.body&&(e=r=0),n=Rectangle.from(n).translate(-e,-r)}else n=mt;const i=e===document||e===window,a=e===document.body&&0===document.body.offsetHeight,l=a&&e.getBoundingClientRect(),c=a?new Rectangle(l.left,l.top,l.width,document.body.parentElement.scrollHeight):i?new Rectangle(0,0,window.innerWidth,window.innerHeight):e.getBoundingClientRect(),d=r||i?[0,0]:[window.pageXOffset,window.pageYOffset];let u=0,p=0;var b,g;(BrowserHelper.isIE11||BrowserHelper.isEdge&&null!==(o=e.namespaceURI)&&void 0!==o&&o.match(/svg/))&&(u=(null===(b=e.dataset)||void 0===b?void 0:b.scaleX)||0,p=(null===(g=e.dataset)||void 0===g?void 0:g.scaleY)||0);return new Rectangle(c.left+d[0]-n.x+u/2,c.top+d[1]-n.y+p/2,c.width-u,c.height-p)}static fromScreen(e,n){return Rectangle.from(e,n,!0)}static inner(e,n,r=!1){const o=this.from(e,n,r);if(document.body.contains(e)){const n=DomHelper.getStyleValue(e,it);o.x+=parseFloat(n[ht]),o.y+=parseFloat(n[lt]),o.right-=parseFloat(n[ct]),o.bottom-=parseFloat(n[dt])}return o}static content(e,n,r=!1){const o=this.from(e,n,r);if(document.body.contains(e)){const n=DomHelper.getStyleValue(e,it),r=DomHelper.getStyleValue(e,at);o.x+=parseFloat(n[ht])+parseFloat(r[gt]),o.y+=parseFloat(n[lt])+parseFloat(r[ut]),o.right-=parseFloat(n[ct])+parseFloat(r[pt]),o.bottom-=parseFloat(n[dt])+parseFloat(r[bt])}return o}static client(e,n,r=!1){const o=this.content(e,n,r),i=DomHelper.scrollBarWidth;let a;return i&&(e.scrollHeight>e.clientHeight&&"hidden"!==DomHelper.getStyleValue(e,"overflow-y")&&(a=parseFloat(DomHelper.getStyleValue(e,"padding-right")),o.right+=a-Math.max(a,i)),e.scrollWidth>e.clientWidth&&"hidden"!==DomHelper.getStyleValue(e,"overflow-x")&&(a=parseFloat(DomHelper.getStyleValue(e,"padding-bottom")),o.bottom+=a-Math.max(a,i))),o}static outer(e,n,r=!1){const o=this.from(e,n,r);if(document.body.contains(e)){const n=DomHelper.getStyleValue(e,st);o.x-=parseFloat(n["margin-left"]),o.y-=parseFloat(n["margin-top"]),o.right+=parseFloat(n["margin-right"]),o.bottom+=parseFloat(n["margin-bottom"])}return o}static union(...e){let n,{x:r,y:o,right:i,bottom:a}=e[0];if(e.length>1)for(let l=1;l<e.length;l++)n=e[l],n.x<r&&(r=n.x),n.y<o&&(o=n.y),n.right>i&&(i=n.right),n.bottom>a&&(a=n.bottom);return new Rectangle(r,o,i-r,a-o)}roundPx(e=window.devicePixelRatio||1){const n=this;return n._x=DomHelper.roundPx(n._x,e),n._y=DomHelper.roundPx(n._y,e),n._width=DomHelper.roundPx(n._width,e),n._height=DomHelper.roundPx(n._height,e),n}static get $$name(){return hasOwnProperty.call(this,"$name")&&this.$name||hasOwnProperty.call(this,"_$name")&&this._$name||this.name}get $$name(){return this.constructor.$$name}constructor(e,n,r,o){ObjectHelper.assertNumber(e,"Rectangle.x"),ObjectHelper.assertNumber(n,"Rectangle.y"),ObjectHelper.assertNumber(r,"Rectangle.width"),ObjectHelper.assertNumber(o,"Rectangle.height");const i=this;i._x=e,i._y=n,i._width=r,i._height=o}clone(){const e=this,n=new Rectangle(e.x,e.y,e.width,e.height);return n.isAlignRectangle=e.isAlignRectangle,n.minHeight=e.minHeight,n.minWidth=e.minWidth,n}contains(e){const n=this;return!!e.isRectangle&&(e._x>=n._x&&e._y>=n._y&&e.right<=n.right&&e.bottom<=n.bottom)}intersect(e,n=!1,r=!1){const o=this,i=Math.max(o.y,e.y),a=Math.min(o.right,e.right),l=Math.min(o.bottom,e.bottom),c=Math.max(o.x,e.x);return!!(r?l>=i&&a>=c:l>i&&a>c)&&(!!n||new Rectangle(c,i,a-c,l-i))}equals(e,n=!1){const r=n?e=>Math.round(e):e=>e;return e.isRectangle&&r(e.x)===r(this.x)&&r(e.y)===r(this.y)&&r(e.width)===r(this.width)&&r(e.height)===r(this.height)}translate(e,n){return this._x+=e||0,this._y+=n||0,this}moveTo(e,n){return null!=e&&(this._x=e),null!=n&&(this._y=n),this}getDelta(e){return[e.x-this.x,e.y-this.y]}get center(){return new Rectangle.Point(this.x+this.width/2,this.y+this.height/2)}set x(e){const n=e-this._x;this._x=e,this._width-=n}get x(){return this._x}set left(e){this.x=e}get left(){return this.x}set top(e){this.y=e}get top(){return this.y}set y(e){const n=e-this._y;this._y=e,this._height-=n}get y(){return this._y}set width(e){this._width=e}get width(){return this._width}set height(e){this._height=e}get height(){return this._height}set right(e){this._width=e-this._x}get right(){return this._x+this._width}set bottom(e){this._height=e-this._y}get bottom(){return this._y+this._height}get area(){return this.width*this.height}set minWidth(e){const n=this;isNaN(e)?n._minWidth=null:(n._minWidth=Number(e),n.isAlignRectangle||(n.width=Math.max(n.width,n._minWidth)))}get minWidth(){return this._minWidth}set minHeight(e){const n=this;isNaN(e)?n._minHeight=null:(n._minHeight=Number(e),n.isAlignRectangle||(n.height=Math.max(n.height,n._minHeight)))}get minHeight(){return this._minHeight}adjust(e,n,r,o){const i=this;return i.x+=e,i.y+=n,i.width+=r,i.height+=o,i}inflate(e,n=e,r=e,o=n){return Array.isArray(e)&&([e,n,r,o]=parseEdges(e)),this.adjust(-o,-e,n,r)}deflate(e,n=e,r=e,o=n){return Array.isArray(e)&&([e,n,r,o]=parseEdges(e)),this.adjust(o,e,-n,-r)}constrainTo(e,n){const r=this,o=r.height,i=r.y,a=r.minWidth||r.width,l=r.minHeight||r.height;if(r.height>=e.height){if(n&&l>e.height)return!1;r._y=e.y,r.height=e.height}if(r.width>=e.width){if(n&&a>e.width)return r.y=i,r.height=o,!1;r._x=e.x,r.width=e.width}let c=r.bottom-e.bottom;return c>0&&r.translate(0,-c),c=r.right-e.right,c>0&&r.translate(-c),c=e.y-r.y,c>0&&r.translate(0,c),c=e.x-r.x,c>0&&r.translate(c),r}alignTo(e){let n,r,o,i,a=this.clone(),{target:l,constrainTo:c,constrainPadding:d,matchSize:u}=e;if(l&&!l.isRectangle&&(l=Rectangle.from(l.element?l.element:l)),c){if(!c.isRectangle){i=c===window||c===document;const n="ignorePageScroll"in e?e.ignorePageScroll:!i;c=Rectangle.from(c.element?c.element:c,null,n)}d&&(d=parseEdges(d),d[0]=Math.min(d[0],l.top),d[1]=Math.min(d[1],c.right-l.right),d[2]=Math.min(d[0],c.bottom-l.bottom),d[3]=Math.min(d[0],l.left),c=c.deflate.apply(c.clone(),d))}const p=this,b=function createOffsets(e){return null==e?St:"number"==typeof e?[e,e]:e}(e.offset),{align:g,axisLock:m,anchorSize:f,anchorPosition:v}=e,y=function parseAlign(e){const n=ft.exec(e),r=parseInt(n[2]||50),o=parseInt(n[4]||50),i=n[1],a=n[3];return{myAlignmentPoint:i+r,myEdge:i,myOffset:r,targetAlignmentPoint:a+o,targetEdge:a,targetOffset:o,startZone:wt[a],edgeAligned:Ct[i+a]}}(g),x=e.position||(l&&"Point"===l.$$name?l:null),C=c&&c.clone(),S=[],D=[{zone:r=y.startZone,align:g}],E=u&&Dt[1&y.startZone],k=p[E];if(E&&m?a[E]=l[E]:!y.edgeAligned&&u&&(a.width=l.width,a.height=l.height),c&&a.constrainTo(c),c&&null!=y.startZone)if(m)D.push({zone:r=(r+2)%4,align:flipAlign(y)}),"flexible"===m&&(D.push({zone:r=(y.startZone+1)%4,align:xt[r]}),D.push({zone:r=(r+2)%4,align:xt[r]}));else for(let e=1;e<4;e++)D.push({zone:r=(r+1)%4,align:xt[r]});if(v){const e=1&y.startZone?"y":"x";n={[e]:v[e],edge:yt[(y.startZone+2)%4]}}if(C&&l&&(C.adjust(-l.width,-l.height,l.width,l.height),l.constrainTo(C)),a.minWidth=p.minWidth,a.minHeight=p.minHeight,x)a.moveTo(x.x,x.y),c&&a.constrainTo(c);else{const e="c"===y.myEdge||"c"===y.targetEdge,r=f&&!e?[f[1]+b[0],f[1]+b[1]]:b,d=l.getAlignmentPoint(y.targetAlignmentPoint,r),u=a.getAlignmentPoint(y.myAlignmentPoint);a.translate(d[0]-u[0],d[1]-u[1]);let g=a.intersect(l,!0);if(g)c&&a.constrainTo(c),o=y.startZone,a.translate(...r);else if(c&&!c.contains(a)){let e,d,u=a.clone(),b=[];n=null,S[0]=e=c.clone(),e.bottom=l.y-r[1],S[1]=e=c.clone(),e.x=l.right+r[0],S[2]=e=c.clone(),e.y=l.bottom+r[1],S[3]=e=c.clone(),e.right=l.x-r[0];for(let n=0;n<D.length;n++){if(E&&2==n&&(a[E]=k),e=S[o=D[n].zone],a=a.alignTo({target:l,offsets:r,align:D[n].align}),a.constrainTo(e,!0)&&(b.push({result:a,zone:o}),!d||a.width<p.width||a.height<p.height)){a.align=D[n].align;break}if(!d||e.area>d.area){const n=a.clone();switch(o){case 0:n.moveTo(null,e.bottom-n.height);break;case 1:n.moveTo(e.left);break;case 2:n.moveTo(null,e.top);break;case 3:n.moveTo(e.right-n.width)}d={area:e.area,result:n,zone:o}}}b.length?(b.length>1&&!m&&b.sort(((e,n)=>Math.sqrt((u.x-e.result.x)**2+(u.y-e.result.y)**2)-Math.sqrt((u.x-n.result.x)**2+(u.y-n.result.y)**2))),a=b[0].result,o=b[0].zone):(a=d.result,o=d.zone,i&&a.constrainTo(c))}else o=y.startZone;if(a.zone=o,a.overlap=g=a.intersect(l,!0),f&&!g){if(!n){let e=1&o,r=e?"y":"x",i=e?"bottom":"right",c=Math.max(l[r],a[r]),d=c+(Math.min(l[i],a[i])-c)/2-f[0]/2,u=d+f[0];u>a[i]&&(d-=u-a[i]),d<a[r]&&(d+=a[r]-d),n={[r]:d-a[r],edge:yt[(o+2)%4]}}a.anchor=n}}return a}getAlignmentPoint(e,n=St){const r=this,o=vt.exec(e),i=o[1].toLowerCase(),a=Math.min(Math.max(parseInt(o[2]||50),0),100)/100;switch(i){case"t":return[r.x+r.width*a,r.y-n[1]];case"r":return[r.right+n[0],r.y+r.height*a];case"b":return[r.x+r.width*a,r.bottom+n[1]];case"l":return[r.x-n[0],r.y+r.height*a];case"c":return[r.x+r.width/2,r.y+r.height/2]}}highlight(){const e=this,n=DomHelper.createElement({parent:document.body,style:`position:absolute;z-index:9999999;pointer-events:none;\n                            left:${e.x}px;top:${e.y}px;width:${e.width}px;height:${e.height}px`});return DomHelper.highlight(n).then((()=>n.remove()))}toString(e=","){return[`${this.top}px`,`${this.right}px`,`${this.bottom}px`,`${this.left}px`].join(e)}}Rectangle._$name="Rectangle";const Et=Symbol("value"),kt=Symbol("length");class DomClassList{static change(e,n,r,o="string"){r=DomClassList.normalize(r,"object");const i=DomClassList.normalize(e,"array").filter((e=>!r[e]));if(n){n=DomClassList.normalize(n,"array");for(let e=0;e<n.length;++e)i.includes(n[e])||i.push(n[e])}return DomClassList.normalize(i,o)}static from(e,n){return e&&(e.isDomClassList||(e=new DomClassList(e)),e.value||n||(e=null)),e||(n?new DomClassList:null)}static normalize(e,n="string"){const r=typeof(e=e||""),o="array"===n,i=!o&&!("object"===n);let a,l,c,d="string"===r;var u;"object"===r&&(e.nodeType===Element.ELEMENT_NODE&&"function"==typeof e.getAttribute?(e=e.getAttribute("class")||"",d=!0):null!==(u=e)&&void 0!==u&&u.isDomClassList?e=e.values:e instanceof DOMTokenList?e=Array.from(e):e instanceof Map?e=Array.from(e.keys()).filter((n=>e.get(n))):e instanceof Set?e=Array.from(e.values()):Array.isArray(e)||(e=Objects.getTruthyKeys(e)));for(d&&(e=[...new Set(StringHelper.split(e))]),l=e.length;l-- >0;)a=e[l],a.length?a.includes(" ")&&e.splice(l,1,...StringHelper.split(a)):e.splice(l,1);if(o)c=e;else if(i)c=e.join(" ");else for(c=Object.create(null),l=0;l<e.length;++l)c[e[l]]=!0;return c}constructor(...e){this.process(1,e)}get isDomClassList(){return!0}clone(){return new DomClassList(this)}contains(e){return!("string"!=typeof e||!e)&&Boolean(this[e])}toString(){return this.length?`${this.value} `:""}toJSON(){return this.toString()}trim(){return this.value}isEqual(e){const n=DomClassList.normalize(e,"array"),r=n.length;if(this.length===r){for(let e=0;e<r;e++)if(!this[n[e]])return!1;return!0}return!1}get value(){let e,n=this[Et];return null==n&&(e=Objects.getTruthyKeys(this),this[kt]=e.length,this[Et]=n=e.join(" ")),n}set value(e){const n=this,r=Object.keys(n),o=r.length;for(let e=0;e<o;e++)delete n[r[e]];e?n.process(1,[e]):delete n[Et]}get values(){return Objects.getTruthyKeys(this)}get length(){return this.value?this[kt]:0}process(e,n){for(let r,o,i=0;i<n.length;i++)if(n[i])if(r=n[i],Objects.isObject(r))for(o in r)this[o]=e?r[o]:!r[o];else for(r=DomClassList.normalize(n[i],"array"),o=0;o<r.length;++o)this[r[o]]=e;return delete this[Et],this}assign(e){for(const n in e)!this[n]!=!e[n]&&(this[n]=e[n],delete this[Et]);return this}add(...e){return this.process(1,e)}remove(...e){return this.process(0,e)}toggle(e,n=Boolean(!this[e])){if(n=Boolean(n),Boolean(this[e])!==n)return this[e]=n,delete this[Et],!0}split(){return Objects.getTruthyKeys(this)}forEach(e){return Objects.getTruthyKeys(this).forEach(e)}}DomClassList.prototype[Et]=null,DomClassList._$name="DomClassList";const Tt={align:"t0-t0"},_t=Node.ELEMENT_NODE,Mt=Node.TEXT_NODE,{isObject:Rt}=ObjectHelper,It=/[+-]?\d*\.?\d+[eE]?-?\d*/g,Ft=It.source,At=new RegExp(`matrix\\((?:${Ft}),\\s?(?:${Ft}),\\s?(?:${Ft}),\\s?(?:${Ft}),\\s?(${Ft}),\\s?(${Ft})`),Ot=new RegExp("matrix3d\\((?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(?:-?\\d*),\\s?(-?\\d*),\\s?(-?\\d*)"),Pt=new RegExp(`(?:${At.source})|(?:${Ot.source})`),Ht=new RegExp(`translate(3d|X)?\\((${Ft})px(?:,\\s?(${Ft})px)?`),qt=new RegExp(`translate(3d|Y)?\\((${Ft})px(?:,\\s?(${Ft})px)?`),Lt=/^[^a-z]+|[^\w:.-]+/gi,jt=/\s+/,Nt=/\s*;\s*/,$t=/\s*:\s*/,Bt=/^-?((\d+(\.\d*)?)|(\.?\d+))$/,zt={elementData:"",for:"htmlFor",retainElement:""},Vt={tag:1,html:1,text:1,children:1,tooltip:1,style:1,dataset:1,parent:1,nextSibling:1,ns:1,reference:1,class:1,className:1,unmatched:1,onlyChildren:1,listeners:1,compareHtml:1,syncOptions:1},Wt={length:1,parentRule:1,style:1},Ut={BUTTON:1,IFRAME:1,EMBED:1,INPUT:1,OBJECT:1,SELECT:1,TEXTAREA:1,HTML:BrowserHelper.isIE11?1:0,BODY:BrowserHelper.isIE11?0:1},Gt=window,Yt=document,Kt={},Xt=[],Qt=Array.prototype.slice,Zt=Promise.resolve(),Jt=["font-size","font-size-adjust","font-style","font-weight","font-family","font-kerning","font-stretch","line-height","text-transform","text-decoration","letter-spacing","word-break"],isHiddenWidget=e=>e._hidden,mergeChildren=(e,n,r)=>"children"===r.key?ObjectHelper.mergeItems(e,n,r):ObjectHelper.blend(e,n,r),isVisible=e=>{const n=e.ownerDocument.defaultView.getComputedStyle(e);return"none"!==n.getPropertyValue("display")&&"hidden"!==n.getPropertyValue("visibility")},en=Yt.documentElement.getRootNode?e=>e.getRootNode():e=>{for(;e.parentNode;)e=e.parentNode;return e},hasLayout=e=>e&&(e===Yt.body||("offsetParent"in e?e.offsetParent:hasLayout(e.parentNode))),isInDocument=e=>e&&(Yt.body.contains(e)||(nn=en(e))&&(e=>e.host&&e.host instanceof Element)(nn)&&isInDocument(nn.host)),elementOrConfigToElement=e=>e instanceof Node?e:"string"==typeof e?dn.createElementFromTemplate(e):dn.createElement(e),tn=Object.create(null),canonicalizeStyle=(e,n)=>{const r=tn[e]||[StringHelper.hyphenate(e),n];return tn[e]||(tn[r[0]]=tn[e]=r),r};["top","right","bottom","left","width","height","maxWidth","maxHeight","minWidth","minHeight","borderSpacing","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","letterSpacing","lineHeight","outlineWidth","textIndent","wordSpacing"].forEach((e=>canonicalizeStyle(e,!0)));let nn,rn,on,sn,an=null,ln=0,cn=null;class DomHelper{static isFocusable(e,n=!1){if(!n&&(!dn.isVisible(e)||dn.Widget.fromElement(e,isHiddenWidget)))return!1;const r=e.nodeName;return Ut[r]||("A"===r||"LINK"===r)&&!!e.href||null!=e.getAttribute("tabIndex")||"true"===e.contentEditable}static isInView(e,n=!1,r){if(!hasLayout(e))return!1;const o=(null==r?void 0:r.positioned)&&"fixed"!==DomHelper.getStyleValue(r.element,"position"),i=Rectangle.from(window),a=n?"contains":"intersect",{parentNode:l}=e,{parentElement:c}=l.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.getRootNode().host:e,d=c.ownerDocument.defaultView.getComputedStyle(c),u=(m=e).ownerSVGElement?m.ownerSVGElement.parentNode:m.offsetParent,p=o&&r.element.offsetParent,b=o&&Rectangle.from(p),g="visible"!==d.overflowX||"visible"!==d.overflowY;var m;if(i.height=Yt.scrollingElement.scrollHeight,e===Yt.body)return i;let f=Rectangle.from(e,null,!0);for(let n=g?e.parentNode:u;f&&n!==Yt.documentElement&&(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.host&&(n=n.host.parentNode),n);n=n.parentNode){const e=n===Yt.body,r=n.ownerDocument.defaultView.getComputedStyle(n),o=e?i:Rectangle.inner(n,null,!0);(e||"visible"!==r.overflow)&&(f=o[a](f,!1,!0))}return f&&o&&f.translate(Yt.scrollingElement.scrollLeft,Yt.scrollingElement.scrollTop),o&&f?f.translate(-b.x+p.scrollLeft,-b.y+p.scrollTop):f}static isVisible(e){const n=e.ownerDocument;for(;e;e=(r=e).parentNode||r.host){if(e===n)return!0;if(e.nodeType===e.ELEMENT_NODE&&!isVisible(e))return!1}var r;return!1}static isDOMEvent(e){return e instanceof Event}static merge(e,...n){return ObjectHelper.blend(e,n,{merge:mergeChildren})}static normalizeChildren(e,n,r){var o;let i,a,l,c,d,u=null==e?void 0:e.children;if(null!=e&&null!==(o=e.syncOptions)&&void 0!==o&&o.ignoreRefs&&(r=!0),u&&!(e instanceof Node))if(Array.isArray(u))for(a=0;a<u.length;++a)DomHelper.normalizeChildren(u[a],n,r);else for(l in c=u,e.children=u=[],c){var p;i=c[l],null!==(p=i)&&void 0!==p&&p.isWidget&&(i=i.element),d=!l.startsWith("$")&&!DomHelper.isElement(i),d&&(null==n||n(l,!r)),i&&(i instanceof Node||(!1===i.reference?delete i.reference:d&&"string"!=typeof i&&(i.reference=l),DomHelper.normalizeChildren(i,n,r)),u.push(i))}return e}static roundPx(e,n=window.devicePixelRatio||1){const r=1/n;return Math.round(e/r)*r}static isCustomElement(e){return Boolean(null==e?void 0:e.shadowRoot)}static elementFromPoint(e,n){let r=document.elementFromPoint(e,n);return dn.isCustomElement(r)&&(r=r.shadowRoot.elementFromPoint(e,n)||r),r}static childFromPoint(e,n,r,o=e){const i=null==r?n:new Rectangle(n,r,0,0);let a=null;return Array.from(e.children).some((e=>{if(Rectangle.from(e,o).contains(i))return a=e.children.length&&dn.childFromPoint(e,i,null,o)||e,!0})),a}static unitize(e,n,r="px"){const[o,i]=canonicalizeStyle(e);return null!=n&&(n=String(n),n=i&&Bt.test(n)?n+r:n),[o,n]}static get activeElement(){let e=document.activeElement;for(;e.shadowRoot;)e=e.shadowRoot.activeElement;return e}static getActiveElement(e){var n,r,o;null!==(n=e)&&void 0!==n&&n.isWidget&&(e=e.element);let i=((null===(r=e)||void 0===r||null===(o=r.getRootNode)||void 0===o?void 0:o.call(r))||document).activeElement;for(;null!==(a=i)&&void 0!==a&&a.shadowRoot;){var a;i=i.shadowRoot.activeElement}return i}static getRootElement(e){var n;const r=null===(n=e.getRootNode)||void 0===n?void 0:n.call(e);return(null==r?void 0:r.body)||r||e.ownerDocument.body}static isValidFloatRootParent(e){return e===document.body||"ShadowRoot"===e.constructor.name}static getId(e){return e.id||(e.id="b-element-"+ ++ln)}static getCommonAncestor(e,n){if(e===n)return e;for(;e&&!(null!==(r=(o=e)[e.isWidget?"owns":"contains"])&&void 0!==r&&r.call(o,n)||e===n);){var r,o;e=e.owner||e.parentNode}return e}static getElement(e){return e instanceof Element?e:Yt.querySelector(e)}static setAttributes(e,n){const r=dn.getElement(e);if(r&&n)for(const e in n)null!=n[e]&&r.setAttribute(e,n[e])}static setLength(e,n,r){var o,i;1===arguments.length?r="number"==typeof e?`${e}px`:null!==(o=e)&&void 0!==o?o:"":r=(e=dn.getElement(e)).style[n]="number"==typeof r?`${r}px`:null!==(i=r)&&void 0!==i?i:"";return r}static percentify(e,n=2){const r=Math.pow(10,n);return null==e||""===e||isNaN(e)?"":Math.round(e*r)/r+"%"}static getChild(e,n){if(BrowserHelper.supportsQueryScope)n=":scope>"+n;else{n=`#${e.id||(e.id="b-element-"+ ++ln)} > ${n}`}return e.querySelector(n)}static hasChild(e,n){return null!=dn.getChild(e,n)}static children(e,n){if(">"===n[0]||n.startsWith("# "))if("#"===n[0]&&(n=n.substr(2)),BrowserHelper.supportsQueryScope)n=":scope "+n;else{n=`#${e.id||(e.id="b-element-"+ ++ln)} ${n}`}return Array.from(e.querySelectorAll(n))}static getChildElementCount(e){return e.childElementCount}static down(e,n){if(!e)return null;if(e.matches&&e.matches(n))return e;if(BrowserHelper.supportsQueryScope)n=":scope "+n;else{n=`#${e.id||(e.id="b-element-"+ ++ln)} ${n}`}return e.querySelector(n)}static isDescendant(e,n){e.contains||(e=e.body);const r=dn.getRootElement(e),o=dn.getRootElement(n);return r!==o&&o.host?dn.isDescendant(r,o.host):e.contains(n)}static getEventElement(e,n="target"){return!e||dn.isElement(e)?e:e[n]}static isElement(e){return(null==e?void 0:e.nodeType)===document.ELEMENT_NODE&&dn.isNode(e)}static isNode(e){return Boolean(e)&&"number"==typeof e.nodeType&&!Rt(e)}static forEachSelector(e,n,r){if("string"==typeof e)throw new Error("DomHelper.forEachSelector must provide a root element context (for shadow root scenario)");dn.children(e,n).forEach(r)}static forEachChild(e,n){Array.from(e.children).forEach(n)}static removeEachSelector(e,n){dn.forEachSelector(e,n,(e=>e.remove()))}static removeClsGlobally(e,...n){n.forEach((n=>dn.forEachSelector(e,"."+n,(e=>e.classList.remove(n)))))}static isOrphaned(e){return!isInDocument(e)}static up(e,n){return e&&e.closest(n)}static getAncestor(e,n,r=null){let o,i=!1,a=e;for(Array.isArray(n)||(n=[n]);a=a.parentElement;){if(n.includes(a)){i=!0;break}if(r&&a===r)break;o=a}return i?o||e:null}static getParents(e){const n=[];for(;e.parentElement;)n.push(e.parentElement),e=e.parentElement;return n}static makeValidId(e,n=""){return null==e?null:String(e).replace(Lt,n)}static createElement(e={},n,...r){var o,i,a;let l,c,d,u,p,b,g,m,f,v,y,x=n;"boolean"==typeof x?(v=r[0],y=r[1],n={returnAll:x,refs:v,syncIdField:y}):n&&(p=n.ignoreRefs,f=n.refOwner,v=n.refs,x=n.returnAll,y=n.syncIdField,p&&(d=!0,p="children"!==p)),"string"==typeof e.parent&&(e.parent=document.getElementById(e.parent));const C=e.parent||e.nextSibling&&e.nextSibling.parentNode,{dataset:S,html:D,reference:E,syncOptions:k,text:T}=e;if(k&&(y=k.syncIdField||y,u=k.ignoreRefs,u&&(d=!0,p="children"!==u,n=_objectSpread2(_objectSpread2({},n),{},{ignoreRefs:!0}))),p&&(f=null),l=e.ns?Yt.createElementNS(e.ns,e.tag||"svg"):Yt.createElement(e.tag||"div"),null!=T?dn.setInnerText(l,T):null!=D&&(D instanceof DocumentFragment?l.appendChild(D):l.innerHTML=D),e.tooltip&&dn.Widget.attachTooltip(l,e.tooltip),e.style&&dn.applyStyle(l,e.style),S)for(g in S)m=S[g],null!=m&&(l.dataset[g]=m);C&&C.insertBefore(l,e.nextSibling),f&&(l.$refOwnerId=f.id),E&&!p&&(f?(l.$reference=E,f.attachRef(E,l,e)):(v||((n=Object.assign({},n)).refs=v={}),v[E]=l,l.setAttribute("data-reference",E)));const _=e.className||e.class,M=Object.keys(e);for(_&&l.setAttribute("class",DomClassList.normalize(_)),c=0;c<M.length;++c)g=M[c],m=e[g],null!=(b=zt[g])?l[b||g]=m:!Vt[g]&&g&&null!=m&&l.setAttribute(g,m);return null===(o=n)||void 0===o||null===(i=o.callback)||void 0===i||i.call(o,{action:"newElement",domConfig:e,targetElement:l,syncId:f?E:n.syncIdField&&(null===(a=e.dataset)||void 0===a?void 0:a[n.syncIdField])}),!0===x?n.returnAll=x=[l]:Array.isArray(x)&&x.push(l),e.children&&(y&&(l.syncIdMap={}),e.children.forEach((r=>{if(r)if("string"==typeof r){const e=document.createTextNode(r);f&&(e.$refOwnerId=f.id),l.appendChild(e)}else if(isNaN(r.nodeType)){var o,i,a;r.parent=l,!r.ns&&e.ns&&(r.ns=e.ns);const c=dn.createElement(r,_objectSpread2(_objectSpread2({},n),{},{ignoreRefs:null!==(o=null===(i=e.syncOptions)||void 0===i?void 0:i.ignoreRef)&&void 0!==o?o:d})),u=null===(a=r.dataset)||void 0===a?void 0:a[y];null!=u&&(l.syncIdMap[u]=c),delete r.parent}else l.appendChild(r)}))),l.lastDomConfig=e,v||x||l}static createElementFromTemplate(e,n=Kt){const{array:r,raw:o,fragment:i}=n;let a;if(dn.supportsTemplate){if((rn||(rn=Yt.createElement("template"))).innerHTML=e,a=rn.content,i)return a.cloneNode(!0)}else{if((on||(on=new DOMParser)).parseFromString(e,"text/html"),a=on.parseFromString(e,"text/html").body,i){const e=a?a.childNodes:Xt;for(a=document.createDocumentFragment();e.length;)a.appendChild(e[0]);return a}a||(a={children:[],childNodes:[]})}return a=o?a.childNodes:a.children,1!==a.length||r?Qt.call(a):a[0]}static insertFirst(e,n){return n&&n.nodeType!==_t&&n.tag&&(n=dn.createElement(n)),e.insertBefore(n,e.firstElementChild)}static insertBefore(e,n,r){return n&&n.nodeType!==_t&&n.tag&&(n=dn.createElement(n)),r?e.insertBefore(n,r):dn.insertFirst(e,n)}static insertAt(e,n,r){const o=Array.from(e.children);if(r>=o.length)return dn.append(e,n);const i=o[r];return dn.insertBefore(e,n,i)}static append(e,n){if(n.forEach){if(Array.isArray(n)&&(n=n.map((e=>elementOrConfigToElement(e)))),e.append)e.append(...n);else{const r=document.createDocumentFragment();n.forEach((function(e){r.appendChild(e)})),e.appendChild(r)}return n}return e.appendChild(elementOrConfigToElement(n))}static getTranslateX(e){const n=e.style.transform;let r=Ht.exec(n);return r?parseFloat(r[2]):(r=Pt.exec(n)||Pt.exec(dn.getStyleValue(e,"transform")),r?parseFloat(r[1]||r[3]):0)}static getTranslateY(e){const n=e.style.transform;let r=qt.exec(n);if(r){const e=parseFloat(r["Y"===r[1]?2:3]);return isNaN(e)?0:e}return r=Pt.exec(n)||Pt.exec(dn.getStyleValue(e,"transform")),r?parseFloat(r[2]||r[4]):0}static getTranslateXY(e){return[dn.getTranslateX(e),dn.getTranslateY(e)]}static getOffsetX(e,n=null){return n?e.getBoundingClientRect().left-n.getBoundingClientRect().left:e.offsetLeft}static getOffsetY(e,n=null){return n?e.getBoundingClientRect().top-n.getBoundingClientRect().top:e.offsetTop}static getOffsetXY(e,n=null){return[dn.getOffsetX(e,n),dn.getOffsetY(e,n)]}static focusWithoutScrolling(e){function resetScroll(e){e.forEach((({element:e,scrollLeft:n,scrollTop:r})=>{e.scrollLeft!==n&&(e.scrollLeft=n),e.scrollTop!==r&&(e.scrollTop=r)}))}if(BrowserHelper.chromeVersion>=64||BrowserHelper.firefoxVersion>=68)e.focus({preventScroll:!0});else{const n=dn.getParents(e).map((e=>({element:e,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})));e.focus(),BrowserHelper.isIE11?resetScroll(n):setTimeout((()=>resetScroll(n)),0)}}static getPageX(e){return e.getBoundingClientRect().left+Gt.pageXOffset}static getPageY(e){return e.getBoundingClientRect().top+Gt.pageYOffset}static getExtremalSizePX(e,n){const r=StringHelper.hyphenate(n),o=r.split("-")[1];let i=dn.getStyleValue(e,r);return i=/%/.test(i)?e.parentElement?parseInt(dn.getStyleValue(e.parentElement,o),10):NaN:parseInt(i,10),i}static setScale(e,n,r=n){const o=dn.getStyleValue(e,"transform").split(/,\s*/);o.length>1?(o[0].startsWith("matrix3d")?(o[0]=`matrix3d(${n}`,o[5]=r):(o[0]=`matrix(${n}`,o[3]=r),e.style.transform=o.join(",")):e.style.transform=`scale(${n}, ${r})`}static setTranslateX(e,n){const r=dn.getStyleValue(e,"transform").split(/,\s*/);n=dn.roundPx(n),r.length>1?(r[r[0].startsWith("matrix3d")?12:4]=n,e.style.transform=r.join(",")):e.style.transform=`translateX(${n}px)`}static setTranslateY(e,n){const r=dn.getStyleValue(e,"transform").split(/,\s*/);n=dn.roundPx(n),r.length>1?(r[r[0].startsWith("matrix3d")?13:5]=n,e.style.transform=r.join(",")+")"):e.style.transform=`translateY(${n}px)`}static setTop(e,n){dn.setLength(e,"top",n)}static setLeft(e,n){dn.setLength(e,"left",n)}static setTranslateXY(e,n,r){if(null==n)return dn.setTranslateY(e,r);if(null==r)return dn.setTranslateX(e,n);n=dn.roundPx(n),r=dn.roundPx(r);const o=dn.getStyleValue(e,"transform").split(/,\s*/),i=o[0].startsWith("matrix3d");o.length>1?(o[i?12:4]=n,o[i?13:5]=r,e.style.transform=o.join(",")+")"):e.style.transform=`translate(${n}px, ${r}px)`}static addTranslateX(e,n){dn.setTranslateX(e,dn.getTranslateX(e)+n)}static addTranslateY(e,n){dn.setTranslateY(e,dn.getTranslateY(e)+n)}static addLeft(e,n){dn.setLeft(e,dn.getOffsetX(e)+n)}static addTop(e,n){dn.setTop(e,dn.getOffsetY(e)+n)}static alignTo(e,n,r=Tt,o){n=n instanceof Rectangle?n:Rectangle.from(n,!0);const i=dn.getTranslateXY(e),a=Rectangle.from(e,!0);o&&(a.roundPx(),n.roundPx());const l=a.alignTo(Object.assign(r,{target:n}));dn.setTranslateXY(e,i[0]+l.x-a.x,i[1]+l.y-a.y)}static getStyleValue(e,n,r,o){const i=r?e.style:e.ownerDocument.defaultView.getComputedStyle(e,o);if(Array.isArray(n)){const e={};for(const r of n)e[r]=i.getPropertyValue(StringHelper.hyphenate(r));return e}return i.getPropertyValue(StringHelper.hyphenate(n))}static getEdgeSize(e,n,r){const o="border"===n?"-width":"",i={raw:{}};for(const a of["top","right","bottom","left"])r&&!r.includes(a[0])||(i[a]=parseFloat(i.raw[a]=dn.getStyleValue(e,`${n}-${a}${o}`)));return i.width=(i.left||0)+(i.right||0),i.height=(i.top||0)+(i.bottom||0),i}static parseStyle(e){if("string"==typeof e){const n=e.split(Nt);e={};for(let r=0,{length:o}=n;r<o;r++){const o=n[r].split($t);e[o[0]]=o[1]}}return e||{}}static applyStyle(e,n,r=!1){if("string"==typeof n)r?(n.length||e.style.cssText.length)&&(e.style.cssText=n):e.style.cssText+=n;else if(n){let o,i;for(o in r&&(e.style.cssText=""),n.style&&("string"==typeof n.style?e.style.cssText=n.style:n=Object.assign({},n.style,n)),n)Wt[o]||([o,i]=DomHelper.unitize(o,n[o]),e.style.setProperty(o,i))}}static getCSSText(e){if("string"==typeof e)return e;let n="";for(const r in e)Wt[r]||(n+=`${StringHelper.hyphenate(r)}:${e[r]};`);return n}static addClasses(e,n){for(let r=0;r<n.length;r++)e.classList.add(n[r])}static removeClasses(e,n){for(let r=0;r<n.length;r++)e.classList.remove(n[r])}static toggleClasses(e,n,r=null){Array.isArray(n)||(n=[n]),!0===r?dn.addClasses(e,n):!1===r?dn.removeClasses(e,n):n.forEach((n=>e.classList.toggle(n)))}static addTemporaryClass(e,n,r,o=window){r>0&&(e.classList.add(n),o.setTimeout((()=>e.classList.remove(n)),r))}static getPropertyTransitionDuration(e,n){const r=window.getComputedStyle(e),o=r.transitionProperty.split(", "),i=r.transitionDuration.split(", "),a=o.indexOf(StringHelper.hyphenate(n));let l;return-1!==a&&(l=1e3*parseFloat(i[a])),l}static getAnimationDuration(e){return 1e3*parseFloat(dn.getStyleValue(e,"animation-duration"))}static highlight(e,n=window){return e instanceof Rectangle?e.highlight():new Promise((r=>{n.setTimeout((()=>{e.classList.add("b-fx-highlight"),n.setTimeout((()=>{e.classList.remove("b-fx-highlight"),r()}),1e3)}),0)}))}static get scrollBarWidth(){if(null===an&&Yt.body){const e=sn||(sn=dn.createElement({parent:Yt.body,style:"position:absolute;top:-9999em;height:100px;overflow-y:scroll"}));e.parentNode!==Yt.body&&Yt.body.appendChild(e),an=e.offsetWidth}return an}static get scrollBarPadElement(){return{className:"b-yscroll-pad",children:[{className:"b-yscroll-pad-sizer"}]}}static resetScrollBarWidth(){an=null}static measureText(e,n,r=!1,o=void 0){const i=dn.getMeasureElement(n,o);i[r?"innerHTML":"innerText"]=e;const a=i.clientWidth;return i.className="",a}static measureSize(e,n,r=!0){if(!e)return 0;if("number"==typeof e)return e;if(!e.length)return 0;if(/^\d+(px)?$/.test(e))return parseInt(e);if(n){const o=dn.getMeasureElement(n);o.innerHTML="",o.style.width=dn.setLength(e);const i=r?o.offsetWidth:o.getBoundingClientRect().width;return o.style.width=o.className="",i}return/^\d+em$/.test(e)?14*parseInt(e):isNaN(e)?0:parseInt(e)}static getMeasureElement(e,n=Yt.body){const r=Gt.getComputedStyle(e),o=n.offScreenDiv=n.offScreenDiv||dn.createElement({parent:n,style:"position:fixed;top:-10000px;left:-10000px;visibility:hidden;contain:strict",className:"b-measure-element",children:[{style:"white-space:nowrap;display:inline-block;will-change:contents;width:auto;contain:none"}]},!0)[1];return Jt.forEach((e=>{o.style[e]!==r[e]&&(o.style[e]=r[e])})),o.className=e.className,o.parentElement.parentElement!==n&&n.appendChild(o.parentElement),o}static stripTags(e){return(dn.$domParser||(dn.$domParser=new DOMParser)).parseFromString(e,"text/html").body.textContent}static sync(e,n){if("string"==typeof e){if(""===e)return void(n.innerHTML="");e=dn.createElementFromTemplate(e)}return dn.performSync(e,n),n}static performSync(e,n){return e.outerHTML!==n.outerHTML&&(dn.syncAttributes(e,n),dn.syncContent(e,n),dn.syncChildren(e,n),!0)}static getSyncAttributes(e){const n={},r=[];for(let o=0;o<e.attributes.length;o++){const i=e.attributes[o];if(i.specified){const e=i.name.toLowerCase();n[e]=i.value,r.push(e)}}return{attributes:n,names:r}}static syncAttributes(e,n){const{attributes:r,names:o}=dn.getSyncAttributes(e),{attributes:i,names:a}=dn.getSyncAttributes(n),l=o.includes("dataset"),c=o.filter((e=>!a.includes(e))),d=a.filter((e=>!(o.includes(e)||l&&e.startsWith("data-")))),u=o.filter((e=>a.includes(e)));if(c.length>0)for(let e=0;e<c.length;e++){const o=c[e];"style"===o?dn.applyStyle(n,r.style,!0):"dataset"===o?Object.assign(n.dataset,r.dataset):n.setAttribute(o,r[o])}if(d.length>0)for(let e=0;e<d.length;e++)n.removeAttribute(d[e]);if(u.length>0)for(let e=0;e<u.length;e++){const o=u[e];if("style"===o)dn.applyStyle(n,r.style,!0);else if("dataset"===o)Object.assign(n.dataset,r.dataset);else if("class"!==o||!r.class.isDomClassList&&"object"!=typeof r.class)i[o]!==r[o]&&n.setAttribute(o,r[o]);else{let e;e=r.class.isDomClassList?r.class:new DomClassList(r.class),e.isEqual(i.class)||n.setAttribute("class",e)}}}static syncContent(e,n){0===dn.getChildElementCount(e)&&(n.innerText=e.innerText)}static setInnerText(e,n){const r=e.firstChild;(null==r?void 0:r.nodeType)===Element.TEXT_NODE&&1===e.childNodes.length?r.data=n:e.textContent=n}static syncChildren(e,n){const r=this,o=Qt.call(e.childNodes),i=Qt.call(n.childNodes);for(;o.length;){const e=o.shift(),a=i.shift();if(e&&e.nodeType!==Mt&&e.nodeType!==_t)throw new Error(`Source node type ${e.nodeType} not supported by DomHelper.sync()`);if(a&&a.nodeType!==Mt&&a.nodeType!==_t)throw new Error(`Target node type ${a.nodeType} not supported by DomHelper.sync()`);if(a)if(e.nodeType===a.nodeType)e.nodeType===Mt?a.data=e.data:e.tagName===a.tagName?r.performSync(e,a):(n.insertBefore(e,a),a.remove());else{if(e.nodeType!==Mt||a.nodeType!==_t){const n=e.parentElement||e;throw new Error(`Currently no support for transforming nodeType.\n${n.outerHTML}`)}n.innerText=e.data.trim()}else n.appendChild(e)}i.forEach((e=>{e.remove()}))}static syncClassList(e,n){const r=e.classList,o="string"==typeof n,i=o?n.trim().split(jt):Array.isArray(n)?n:ObjectHelper.getTruthyKeys(n),a=i.length;let l,c=r.length!==a;for(l=0;!c&&l<a;l++)c=!r.contains(i[l]);return c&&(e.className=o?n:i.join(" ")),c}static updateClassList(e,n){const{classList:r}=e;let o,i,a=!1;for(o in n)i=Boolean(n[o]),r.contains(o)!==i&&(r[i?"add":"remove"](o),a=!0);return a}static setTheme(e,n){e=e.toLowerCase();const r=dn.getThemeInfo(n).name.toLowerCase(),o=document.head.querySelector("#bryntum-theme:not([data-loading])")||document.head.querySelector(`[href*="${r}.css"]:not([data-loading])`);if(dn.removeEachSelector(document.head,"#bryntum-theme[data-loading]"),null==o||!o.href.includes(`${r}.css`))throw new Error(`Theme link for ${r} not found`);return o.href.includes(`${e}.css`)?Zt:new Promise(((r,i)=>{const a=document.createElement("link"),l=o.nextSibling,c=dn.getThemeInfo(n).name.toLowerCase(),d={theme:e,prev:c};a.rel="stylesheet",a.id="bryntum-theme",a.addEventListener("load",(()=>{delete a.dataset.loading,cn=null,o.remove(),gn.trigger("theme",d),r(d)})),a.addEventListener("error",(e=>{delete a.dataset.loading,i(e)})),a.dataset.loading="true",a.href=o.href.replace(c,e),l.parentNode.insertBefore(a,l)}))}static get themeInfo(){return DomHelper.getThemeInfo()}static getThemeInfo(e){if(!cn){const n=dn.createElement({parent:document.body,className:"b-theme-info"}),r=dn.getStyleValue(n,"content",!1,":before");if(r)try{cn=JSON.parse(r.replace(/^["']|["']$|\\/g,""))}catch(e){cn=null}cn=cn||(e?{name:e}:null),n.remove()}return cn}static async transition({element:e,selector:n="[data-dom-transition]",duration:r,action:o,thisObj:i=this,addTransition:a={},removeTransition:l={}}){const c=new Set,d=Array.from(e.querySelectorAll(n)),u=new Map(d.map((n=>{let r=0,o=n.parentElement;for(;o&&o!==e;)r++,o=o.parentElement;n.$depth=r,n.scrollHeight>n.offsetHeight&&"auto"===getComputedStyle(n).overflow&&(n.$scrollTop=n.scrollTop,c.add(n));const{parentElement:i}=n,a=Rectangle.from(n,e),l=Rectangle.from(n,i),d=getComputedStyle(i),u=parseFloat(d.borderLeftWidth);return u&&(a.left-=u,l.left-=u),[n.id,{element:n,globalBounds:a,localBounds:l,depth:r,parentElement:i}]})));o.call(i);const p=Array.from(e.querySelectorAll(n)),b=new Map(p.map((n=>{const r=Rectangle.from(n,e),o=Rectangle.from(n,n.parentElement),i=window.getComputedStyle(n.parentElement),a=parseFloat(i.borderLeftWidth);return a&&(r.left-=a,o.left-=a),[n.id,{element:n,globalBounds:r,localBounds:o}]}))),g=["position","top","left","width","height","padding","margin","zIndex","minWidth","minHeight","opacity","overflow"];for(const[n,r]of u){const o=b.get(n);if(o){const{element:n}=o,{style:i,parentElement:a}=n,l=parseInt(DomHelper.getStyleValue(n,"zIndex")),{globalBounds:d,localBounds:u,depth:p,parentElement:b}=r,m=b!==a;let f;ObjectHelper.copyProperties(n.$initial={parentElement:a},i,g),m?(o.bounds=o.globalBounds,f=d,e.appendChild(n)):(o.bounds=o.localBounds,f=u,b.appendChild(n));let v="hidden";c.has(n)&&(n.$scrollPlaceholder=DomHelper.createElement({parent:n,style:{height:n.scrollHeight}}),v="auto"),Object.assign(i,{position:"absolute",top:`${f.top}px`,left:`${f.left}px`,width:`${f.width}px`,height:`${f.height}px`,minWidth:0,minHeight:0,padding:0,margin:0,zIndex:p+(l||0),overflow:v}),o.processed=!0}else{const{element:e,localBounds:o,depth:i,parentElement:a}=r;e.$initial={removed:!0},Object.assign(e.style,{position:"absolute",top:`${o.top}px`,left:`${o.left}px`,width:`${o.width}px`,height:`${o.height}px`,minWidth:0,minHeight:0,padding:0,margin:0,zIndex:i,overflow:"hidden"}),a.appendChild(e),b.set(n,{element:e,bounds:o,removed:!0,processed:!0}),p.push(e)}}for(const[,e]of b)if(!e.processed){const{element:n}=e,{style:r,parentElement:o}=n,i=e.bounds=e.localBounds;n.classList.add("b-dom-transition-adding"),ObjectHelper.copyProperties(n.$initial={parentElement:o},r,g),Object.assign(r,{position:"absolute",top:a.top?0:`${i.top}px`,left:a.left?0:`${i.left}px`,width:a.width?0:`${i.width}px`,height:a.height?0:`${i.height}px`,opacity:a.opacity?0:null,zIndex:o.$depth+1,overflow:"hidden"})}for(const e of c)e.scrollTop=e.$scrollTop;e.classList.add("b-dom-transition"),e.firstElementChild.offsetWidth;for(const[,{element:e,bounds:n,removed:r}]of b)r?Object.assign(e.style,{top:l.top?0:`${n.top}px`,left:l.left?0:`${n.left}px`,width:l.width?0:`${n.width}px`,height:l.height?0:`${n.height}px`,opacity:l.opacity?0:e.$initial.opacity}):Object.assign(e.style,{top:`${n.top}px`,left:`${n.left}px`,width:`${n.width}px`,height:`${n.height}px`,opacity:e.$initial.opacity});await AsyncHelper.sleep(r),e.classList.remove("b-dom-transition");for(const e of p)e.$initial&&(e.$initial.removed?e.remove():(ObjectHelper.copyProperties(e.style,e.$initial,g),e.$scrollPlaceholder&&(e.$scrollPlaceholder.remove(),delete e.$scrollPlaceholder),e.classList.remove("b-dom-transition-adding"),e.$initial.parentElement.appendChild(e)));for(const e of c)e.scrollTop=e.$scrollTop,delete e.$scrollTop}static async loadScript(e){return new Promise(((n,r)=>{const o=document.createElement("script");o.src=e,o.onload=n,o.onerror=r,document.head.appendChild(o)}))}static isNamedColor(e){return e&&!/^(#|hsl|rgb)/.test(e)}}const dn=DomHelper;let un;const clearTouchEvent=()=>dn.isTouchEvent=!1,setTouchEvent=()=>{dn.isTouchEvent=!0,clearTimeout(un),un=setTimeout(clearTouchEvent,400)};if(Yt.addEventListener("touchstart",setTouchEvent,!0),Yt.addEventListener("touchend",setTouchEvent,!0),dn.canonicalStyles=tn,dn.supportsTemplate="content"in Yt.createElement("template"),dn.elementPropKey="$bryntum",dn.numberRe=It,!("children"in Node.prototype)){const elementFilter=e=>e.nodeType===e.ELEMENT_NODE;Object.defineProperty(Node.prototype,"children",{get:function(){return Array.prototype.filter.call(this.childNodes,elementFilter)}})}if(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){const n=(this.document||this.ownerDocument).querySelectorAll(e);let r=n.length;for(;--r>=0&&n.item(r)!==this;);return r>-1}),Gt.Element&&!Element.prototype.closest?Node.prototype.closest=Element.prototype.closest=function(e){let n=this;if(!Yt.documentElement.contains(n))return null;do{if(n.matches(e))return n;n=n.parentElement||n.parentNode}while(null!==n&&n.nodeType===n.ELEMENT_NODE);return null}:Node.prototype.closest=function(e){var n;return null===(n=this.parentNode)||void 0===n?void 0:n.closest(e)},[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){Object.prototype.hasOwnProperty.call(e,"remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function remove(){this.parentNode&&this.parentNode.removeChild(this)}})})),SVGElement.prototype.contains||(SVGElement.prototype.contains=function(e){do{if(this===e)return!0;e=e.parentNode}while(e);return!1}),"function"!=typeof Gt.CustomEvent){let e,n;Gt.CustomEvent=n=function(n,r={bubbles:!1,cancelable:!1,detail:void 0}){return e=Yt.createEvent("CustomEvent"),e.initCustomEvent(n,r.bubbles,r.cancelable,r.detail),e},n.prototype=Gt.Event.prototype,Gt.MouseEvent=n=function(n,r={bubbles:!1,cancelable:!1,detail:void 0}){return e=Yt.createEvent("MouseEvents"),e.initMouseEvent(n,r.bubbles,r.cancelable,Yt.defaultView||Gt,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,document),e},n.prototype=Gt.Event.prototype,Gt.KeyboardEvent=n=function(n,r={bubbles:!1,cancelable:!1,detail:void 0}){const o=`${r.shiftKey?"Shift ":""}${r.ctrlKey?"Control":""}`;return e=Yt.createEvent("KeyboardEvent"),e.initKeyboardEvent(n,r.bubbles,r.cancelable,Yt.defaultView||Gt,r.key,r.location,o,!1,""),e},n.prototype=Gt.Event.prototype}if(!Object.getOwnPropertyDescriptor(SVGElement.prototype,"dataset")||!Object.getOwnPropertyDescriptor(SVGElement.prototype,"dataset").get){const e={enumerable:!0,get:function(){let e,n,r,o,i,a=this,l={},c=this.attributes,d=c.length,toUpperCase=function(e){return e.charAt(1).toUpperCase()},getter=function(){return this},setter=function(e,n){return void 0!==n?this.setAttribute(e,n):this.removeAttribute(e)};for(e=0;e<d;e++){var u;i=c[e],null!==(u=i)&&void 0!==u&&u.name&&/^data-\w[\w-]*$/.test(i.name)&&(n=i.value,r=i.name,o=r.substr(5).replace(/-./g,toUpperCase),Object.defineProperty(l,o,{enumerable:this.enumerable,get:getter.bind(n||""),set:setter.bind(a,r)}))}return l}};Object.defineProperty(SVGElement.prototype,"dataset",e)}const{add:pn,remove:bn}=DOMTokenList.prototype;DOMTokenList.prototype.add=function(e){Array.isArray(e)?e.forEach((e=>pn.call(this,e))):pn.call(this,...arguments)},DOMTokenList.prototype.remove=function(e){Array.isArray(e)?e.forEach((e=>bn.call(this,e))):bn.call(this,...arguments)},window.addEventListener("resize",(()=>an=null)),DomHelper._$name="DomHelper";const isFloatingWidget=e=>e.floating,gn=new class extends(Base.mixin(Events)){suspendFocusEvents(){wn=!0}resumeFocusEvents(){wn=!1}setupFocusListenersOnce(e,n){e&&!gn.observedElements.has(e)&&(gn.setupFocusListeners(e,n),gn.observedElements.add(e))}setupFocusListeners(e=document,n,r=!1){var o;const i={element:e,touchstart(e){mn=mn||1!==e.changedTouches.length?null:e.changedTouches[0]},touchend:{handler:e=>{mn&&(mn.identifier===n.contextMenuTouchId?(e.stopImmediatePropagation(),e.preventDefault()):1===e.changedTouches.length&&e.changedTouches[0].identifier===mn.identifier&&gn.trigger("globaltap",{event:e}),mn=null)},passive:!1},mousedown:{handler:e=>{vn="mouse",mn||gn.trigger("globaltap",{event:e})},passive:!1},keydown(){vn="key"},keypress(){vn="key"},focusin(e){const{Widget:n}=gn;if(n.resetFloatRootScroll(),wn)return;const r=e.relatedTarget?e.relatedTarget instanceof HTMLElement?e.relatedTarget:document.body:null,o=e.target||document.body,i=n.fromElement(r),a=n.fromElement(o),l=DomHelper.getCommonAncestor(i,a),c=!!(r&&4&o.compareDocumentPosition(r)),d=n.query(isTopVisibleModal);let u=null;if(u=o&&o!==document.body?DomHelper.getActiveElement(o):DomHelper.getActiveElement(document),d&&(!a||!d.owns(a)&&!(4&d.element.compareDocumentPosition(a.element)&&a.up(isFloatingWidget))))return d.focus();let p=createWidgetEvent("focusout",r,e.target,i,a,c);for(let n=i;n&&n!==l;n=n.owner)if(!n.isDestroying&&n.onFocusOut&&(n.onFocusOut(p),e.target&&u!==DomHelper.getActiveElement(e.target)))return;if(l&&e.target===l.element)!l.isDestroying&&DomHelper.getActiveElement(l)===o&&l.focusElement&&l.focusElement!==l.element&&(l.element.contains(u)||l.setTimeout((()=>{var e;return null===(e=l.focus)||void 0===e?void 0:e.call(l)}),0));else{p=createWidgetEvent("focusin",o,r,i,a,c);for(let e=a;e&&e!==l;e=e.owner){var b,g;if(!e.isDestroying)null===(b=(g=e).onFocusIn)||void 0===b||b.call(g,p)}}const m=DomHelper.getCommonAncestor((null==r?void 0:r.nodeType)===Element.ELEMENT_NODE?r:null,o)||o.parentNode;p=createWidgetEvent("focusmove",o,r,i,a,c,{bubbles:!0}),m.dispatchEvent(p)},focusout(e){if(!(wn||e.relatedTarget&&gn.Widget.fromElement(e.relatedTarget))){const n=e.relatedTarget&&e.relatedTarget instanceof HTMLElement?e.relatedTarget:null;i.focusin({target:n,relatedTarget:e.target})}},capture:!0,passive:!0};r&&(null===(o=yn)||void 0===o||o()),yn=n.on(i)}get lastInteractionType(){return vn}},isTopVisibleModal=e=>e.isVisible&&e.isTopModal;gn.observedElements=new Set;let mn,vn,yn,wn=!1;function createWidgetEvent(e,n,r,o,i,a,l){const c=new CustomEvent(e,l);return Object.defineProperty(c,"_target",{get:()=>n}),Object.defineProperty(c,"relatedTarget",{get:()=>r}),c.fromWidget=o,c.toWidget=i,c.backwards=a,c}class InstancePlugin extends(Base.mixin(Events,Localizable)){static get configurable(){return{clientListeners:null,disabled:!1}}static initPlugins(e,...n){const r=e.plugins||(e.plugins={});for(const o of n)r[o.$$name]=new o(e)}get client(){return this._client}set client(e){this._client=e}getFocusRevertTarget(){var e;return null===(e=this.client)||void 0===e?void 0:e.getFocusRevertTarget()}construct(...e){const n=this;let r,[o,i]=e;1===e.length?ObjectHelper.isObject(o)&&(i=o,o=i.client):(i=ObjectHelper.assign({},i),delete i.client),n.client=o,super.construct(i),n.applyPluginConfig(o),r=n.clientListeners,r&&(r=ObjectHelper.assign({},r),r.thisObj=n,o.on(r))}applyPluginConfig(e){const n=this,r=n.pluginConfig||n.constructor.pluginConfig;if(r){const{assign:o,chain:i,after:a,before:l,override:c}=r;o&&n.applyAssign(e,o),(i||a)&&n.applyChain(e,i||a),l&&n.applyChain(e,l,!1),c&&n.applyOverride(e,c)}}applyAssign(e,n){n.forEach((n=>this.assign(e,n)))}applyChain(e,n,r=!0){if(Array.isArray(n))for(const o of n)this.chain(e,o,o,r);else for(const o in n)this.chain(e,o,n[o],r)}applyOverride(e,n){const r=this;r.overridden||(r.overridden={}),n.forEach((n=>{if(!r[n])throw new Error(`Trying to chain fn ${e.$$name}#${n}, but plugin fn ${r.$$name}#${n} does not exist`);"function"==typeof e[n]&&(r.overridden[n]=e[n].bind(e)),e[n]=r[n].bind(r)}))}assign(e,n){const r=this,o=function getDescriptor(e,n){const r=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),n);return r&&(r.get||r.set)?r:null}(r,n);o?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:o.get&&o.get.bind(r),set:o.set&&o.set.bind(r)}):e[n]=r[n].bind(r)}chain(e,n,r,o=!0){const i=this,a=e.pluginFunctionChain||(e.pluginFunctionChain={}),l=i[r]&&i[r].bind(i),c=i.functionChainRunner;if(!l)throw new Error(`Trying to chain fn ${e.$$name}#${r}, but plugin fn ${i.$$name}#${r} does not exist`);if(!a[n]){let r=e[n];r&&(r=r.bind(e),r.$this=e),a[n]=r?[r]:[],e[n]=(...e)=>c(a[n],e)}l.$this=i,a[n][o?"push":"unshift"](l)}functionChainRunner(e,n){let r,o,i;for(o=0;o<e.length&&(r=e[o],r.$this.isDestroyed||(i=r(...n),!1!==i));o++);return i}doDisable(e){const n=this,{constructor:r}=n,o="featureClass"in r?r.featureClass:`b-${r.$$name.toLowerCase()}`;var i,a;o&&(null===(i=n.client)||void 0===i||null===(a=i.element)||void 0===a||a.classList[e?"remove":"add"](o));n.isConfiguring||(e?n.trigger("disable"):n.trigger("enable"))}updateDisabled(e){this.doDisable(e)}throwOverrideIsMissing(e){throw new Error(`Trying to override fn ${e.plugIntoName}#${e.fnName}, but plugin fn ${e.pluginName}#${e.fnName} does not exist`)}get rootElement(){return this.client.rootElement}}InstancePlugin._$name="InstancePlugin";var Pluggable=e=>class Pluggable extends(e||Base){static get $name(){return"Pluggable"}get plugins(){return this._plugins||(this._plugins={}),this._plugins}set plugins(e){e&&(Array.isArray(e)||(e=[e]),InstancePlugin.initPlugins(this,...e)),this.initPlugins()}initPlugins(){}addPlugins(...e){InstancePlugin.initPlugins(this,...e)}hasPlugin(e){return null!=this.getPlugin(e)}getPlugin(e){return"function"==typeof e&&(e=e.$$name),this.plugins&&this.plugins[e]}get widgetClass(){}},State=e=>class State extends(e||Base){static get $name(){return"State"}get state(){return this._state=this.getState(),this._state}set state(e){this._state=e,this.applyState(e)}get widgetClass(){}};const xn=ObjectHelper.getPathDefault(BrowserHelper.global,"bryntum.idCounts",Object.create(null)),Cn={string:1,number:1};var Identifiable=e=>class Identifiable extends(e||Base){static get $name(){return"Identifiable"}static get declarable(){return["identifiable"]}static get configurable(){return{id:""}}static setupIdentifiable(e,n){const{identifiable:r}=e;r.idMap=Object.create(null),Reflect.defineProperty(e,"identifiable",{get:()=>r})}doDestroy(){this.constructor.unregisterInstance(this),super.doDestroy()}changeId(e){return(this.hasGeneratedId=!e)?this.generateAutoId():e}updateId(e,n){const r=this,o=r.constructor;n&&o.unregisterInstance(r,n),r.hasGeneratedId&&!1===o.identifiable.registerGeneratedId||o.registerInstance(r,e)}generateAutoId(){return this.constructor.generateId(`b-${this.$$name.toLowerCase()}-`)}static get all(){return Object.values(this.identifiable.idMap)}static generateId(e="generatedId"){return e+(xn[e]=(xn[e]||0)+1)}static registerInstance(e,n=e.id){const{idMap:r}=this.identifiable;if(n in r&&!this.disableThrow)throw new Error("Id "+n+" already in use");r[n]=e}static unregisterInstance(e,n=e.id){const{idMap:r}=this.identifiable;Cn[typeof e]?delete r[e]:r[n]===e&&delete r[n]}static getById(e){const n=this.identifiable.idMap;if(n)return n[e]}static get registeredInstances(){const e=this.identifiable.idMap;return e?Object.values(e):[]}};const Sn=Symbol("STM_PROP"),Dn={parentIndex:1};var ModelStm=e=>class ModelStm extends(e||Base){static get $name(){return"ModelStm"}static get defaultConfig(){return{stm:null}}joinStore(e){this.stm||(this.stm=e.stm)}unjoinStore(e){this.stm===e.stm&&(this.stm=null),super.unjoinStore&&super.unjoinStore(e)}get stm(){return this[Sn]}set stm(e){this[Sn]=e}beforeSet(e,n,r,o){const i=this.stm;if(i&&!i.disabled&&!Dn[e]&&!this.constructor.nonPersistableFields[e]){var a;const i=(null===(a=super.beforeSet)||void 0===a?void 0:a.call(this,e,n,r,o))||[];let l,c;return"object"==typeof e?[l,c]=Object.keys(e).reduce(((n,r)=>(n[0][r]=e[r],n[1][r]=this.get(r),n)),[{},{}]):(l={[e]:n},c={[e]:this.get(e)}),i.push([l,c]),i}return[]}afterSet(e,n,r,o,i,a){const l=this.stm,c=this.constructor.nonPersistableFields;if(l&&!l.disabled&&!Dn[e]&&!c[e]){const e=i.pop();if(a){let n;const[r,o]=e,[i,d]=Object.keys(a).reduce(((e,i)=>(c[i]||(n=!0),e[0][i]=r[i],e[1][i]=o[i],e)),[{},{}]);n&&l.onModelUpdate(this,i,d)}}}beforeInsertChild(e){const n=super.beforeInsertChild?super.beforeInsertChild(e):[],r=this.stm;return r&&!r.disabled&&n.push(e.reduce(((e,n)=>(n.root===this.root&&e.set(n,{parent:n.parent,index:n.parent?n.parentIndex:void 0}),e)),new Map)),n}afterInsertChild(e,n,r,o){const i=this.stm;if(i&&!i.disabled){const n=r.pop();o&&i.onModelInsertChild(this,e,o,n)}super.afterInsertChild&&super.afterInsertChild(e,n,r,o)}beforeRemoveChild(e,n){const r=super.beforeRemoveChild?super.beforeRemoveChild(e,n):[],o=this.stm;return!o||o.disabled||n||r.push(e.reduce(((e,n)=>(e.set(n,n.parentIndex),e)),new Map)),r}afterRemoveChild(e,n,r){const o=this.stm;if(o&&!o.disabled&&!r){const r=n.pop();e&&e.length&&o.onModelRemoveChild(this,e,r)}super.afterRemoveChild&&super.afterRemoveChild(e,n,r)}},TreeNode=e=>class TreeNode extends(e||Base){static get $name(){return"TreeNode"}static set convertEmptyParentToLeaf(e){!0===e?e={onLoad:!0,onRemove:!0}:!1===e&&(e={onLoad:!1,onRemove:!1}),this._convertEmptyParentToLeaf=e}static get convertEmptyParentToLeaf(){return this._convertEmptyParentToLeaf||{onLoad:!1,onRemove:!1}}ingestChildren(e,n=this.stores){const{inProcessChildren:r,constructor:o}=this,i=n[0];if(!0===e)return!!r||[];if(e){Array.isArray(e)||(e=[e]);const n=e.length,r=[];for(let a,l=0;l<n;l++)a=e[l],a=a.isModel?a:i?i.createRecord(a):new o(a,null,null,!0),a=i?i.processRecord(a):a,r.push(a);if(!0===this.children&&i){const e=i.createSorterFn(i.sorters);r.sort(e)}return r}}processChildren(e=this.stores){const n=this,{meta:r}=n;n.inProcessChildren=!0;const o=n.ingestChildren(n.data[n.constructor.childrenField],e);if(o){const{convertEmptyParentToLeaf:e}=n.constructor;if(!0===e||e.onLoad?o.length:Array.isArray(o)){if(r.isLeaf=!1,!0===n.children)n.children=[];else if(0===o.length)return void(n.children=o);n.appendChild(o,!1,!0)}else!0===o?(r.isLeaf=!1,n.children=!0):n.isRoot||(r.isLeaf=n.constructor.convertEmptyParentToLeaf.onLoad)}n.inProcessChildren=!1}ancestorsExpanded(e=this.firstStore){const{parent:n}=this;return!n||n.isExpanded(e)&&n.ancestorsExpanded(e)}isExpanded(e=this.firstStore){const n=this.instanceMeta(e.id);return Object.prototype.hasOwnProperty.call(n,"collapsed")||(n.collapsed=!this.expanded),!n.collapsed}get expanded(){return this.data.expanded}get childLevel(){let e=this,n=-1;for(;e&&!e.isRoot;)++n,e=e.parent;return n}get isLeaf(){return!1!==this.meta.isLeaf&&!this.isRoot}get isParent(){return!this.isLeaf}get isLoaded(){return this.isParent&&Array.isArray(this.children)}get descendantCount(){return this.getDescendantCount()}get visibleDescendantCount(){return this.getDescendantCount(!0)}getDescendantCount(e=!1,n=this.firstStore){const r=this.children;return!r||!Array.isArray(r)||e&&!this.isExpanded(n)?0:r.reduce(((n,r)=>n+r.getDescendantCount(e)),r.length)}get allChildren(){const e=this.children;return e?e.reduce(((e,n)=>(e.push(n),e.push.apply(e,n.allChildren),e)),[]):[]}get firstChild(){const e=this.children;return(null==e?void 0:e.length)&&e[0]||null}get lastChild(){const e=this.children;return(null==e?void 0:e.length)&&e[e.length-1]||null}get previousSiblingsTotalCount(){let e=this.previousSibling,n=this.parentIndex;for(;e;)n+=e.descendantCount,e=e.previousSibling;return n}get root(){var e;return(null===(e=this.parent)||void 0===e?void 0:e.root)||this}get parentId(){return this.parent&&!this.parent.isAutoRoot?this.parent.id:null}set parentId(e){const n=this,{parent:r}=n,o=e&&n.firstStore.getById(e);o!==r&&(r||o)&&(n.isBatchUpdating?n.meta.batchChanges.parentId=e:o?o.appendChild(n):n.parent.removeChild(n))}static set parentIdField(e){this._parentIdField=e,Object.defineProperty(this.prototype,e,{set:function(e){this.parentId=e},get:function(){return this.parentId}})}static get parentIdField(){return this._parentIdField||"parentId"}traverse(e,n=!1,r=!1){const o=(r?this.unfilteredChildren:this.children)||this.children;n||e.call(this,this);for(let n=0,i=null==o?void 0:o.length;n<i;n++)o[n].traverse(e,!1,r)}traverseBefore(e,n=!1,r=!1){const o=(r?this.unfilteredChildren:this.children)||this.children;for(let n=0,i=null==o?void 0:o.length;n<i;n++)o[n].traverse(e,!1,r);n||e.call(this,this)}traverseWhile(e,n=!1,r=!1){const o=this;let i=!0;if(n||(i=!1!==e.call(o,o)),i&&o.isLoaded){i=((r?o.unfilteredChildren:o.children)||this.children).every((n=>n.traverseWhile(e,!1,r)))}return i}bubble(e,n=!1){let r=this;for(n||e.call(r,r);r.parent;)r=r.parent,e.call(r,r)}bubbleWhile(e,n=!1){let r=this,o=!0;for(n||(o=e.call(r,r));o&&r.parent;)r=r.parent,o=e.call(r,r);return o}contains(e){return e&&"object"==typeof e&&(e=e.id),!this.traverseWhile((n=>n.id!=e))}getTopParent(e){let n;return e?(n=[],this.bubbleWhile((e=>(n.push(e),e.parent&&!e.parent.isRoot)))):(n=null,this.bubbleWhile((e=>(e.parent||(n=e),e.parent&&!e.parent.isRoot)))),n}appendChild(e,n=!1){return this.insertChild(e,null,n)}insertChild(e,n=null,r=!1){var o,i,a,l,c,d;if("number"==typeof e){const r=e;e=n,n=this.children[r]}const u=this,p=u.isLeaf,b=Array.isArray(e);if(Array.isArray(e)||(e=[e]),!r&&!u.stores.every((n=>!1!==n.trigger("beforeAdd",{records:e,parent:u}))))return null;e=u.ingestChildren(e);const g=null!==(o=null!==(i=null===(a=n)||void 0===a?void 0:a.parentIndex)&&void 0!==i?i:null===(l=u.children)||void 0===l?void 0:l.length)&&void 0!==o?o:0,m=null===(c=u.beforeInsertChild)||void 0===c?void 0:c.call(u,e),f=u.internalAppendInsert(e,n,r);return p&&f.length&&(u.meta.isLeaf=!1),u.isLeaf===p||u.root.isLoading||r||u.signalNodeChanged({isLeaf:{value:!1,oldValue:!0}}),null===(d=u.afterInsertChild)||void 0===d||d.call(u,g,e,m,f),b||!f?f:f[0]}signalNodeChanged(e){this.stores.forEach((n=>{n.trigger("update",{record:this,changes:e}),n.trigger("change",{action:"update",record:this,changes:e})}))}tryInsertChild(){return this.insertChild(...arguments)}internalAppendInsert(e,n,r){const o=this,{stores:i,root:a}=o,{firstStore:l}=a,{parentIdField:c}=o.constructor,d=o.isAutoRoot?null:o.id,u={};let p,b,g,m;if(n&&n.parent!==o&&(n=null),o.children){const r=o.children,i=n?n.parentIndex:r.length;if(r[b=i]===e[0]||r[b=i-1]===e[0])for(p=!0,g=0;p&&g<e.length;g++)e[g]!==r[b+g]&&(p=!1)}if(p)return e;for(g=0;g<e.length;g++){const n=e[g],i=n.parent;u[n.id]=n.root===a,l&&!a.isLoading&&n.traverse((e=>{e.root===a&&(u[e.id]=!0)})),!1===(null==i?void 0:i.removeChild(n,u[n.id],r))?(m||(e=e.slice(),m=!0),e.splice(g--,1)):(n.parent=o,n.data[c]=d,i&&(n.meta.oldParentId=i.id))}if(e.length){Array.isArray(o.children)||(o.children=[]);const a=o.addToChildren(o.children,n,e);o.addToChildren(o.unfilteredChildren,n,e,!0),i.forEach((n=>{n.isChained||(e.forEach((e=>{e.joinStore(n)})),n.onNodeAddChild(o,e,a,u,r),e.forEach((e=>{if(null!=e.meta.oldParentId&&!o.inProcessChildren&&!o.isLoading){const n={[c]:d,[o.getDataSource("parentIndex")]:e.parentIndex},r={},{modified:i,oldParentId:a}=e.meta,l=i.parentIndex;delete e.meta.oldParentId,o.id!==a&&(r[c]={value:d,oldValue:a}),e.parentIndex!==l&&(r.parentIndex={value:e.parentIndex,oldValue:l}),i[c]===o.id?Reflect.deleteProperty(i,c):c in i||(i[c]=a),e.afterChange(n,r)}})))}))}return e}removeChild(e,n=!1,r=!1){var o;const i=this,a=i.isLeaf,{children:l,stores:c}=i;if(Array.isArray(e)||(e=[e]),e=e.filter((e=>e.parent===i)),!r)for(const r of c)if(!r.isChained&&!1===r.trigger("beforeRemove",{parent:i,records:e,isMove:n}))return!1;const d=i.beforeRemoveChild?i.beforeRemoveChild(e,n):void 0;for(const o of e){const{parentIdField:e}=o.constructor,{modified:a}=o.meta,d=o.parent?o.parent.id:null;e in a||(a[e]=d);const u=i.removeFromChildren(l,o);i.removeFromChildren(i.unfilteredChildren,o,!0),c.forEach((e=>{e.isChained||e.onNodeRemoveChild(i,[o],u,{isMove:n,silent:r})})),n||(o.parent=o.parentIndex=o.unfilteredIndex=o.nextSibling=o.previousSibling=null,o.data[e]=null)}0===(i.unfilteredChildren||l).length&&i.constructor.convertEmptyParentToLeaf.onRemove&&!i.isRoot&&(i.meta.isLeaf=!0),i.isLeaf===a||r||i.stores.forEach((e=>{const n={isLeaf:{value:!0,oldValue:!1}};e.trigger("update",{record:i,changes:n}),e.trigger("change",{action:"update",record:i,changes:n})})),null===(o=i.afterRemoveChild)||void 0===o||o.call(i,e,d,n)}clearParentId(){const e=this;Reflect.deleteProperty(e.data,e.parentIdField),Reflect.deleteProperty(e.originalData,e.parentIdField),e.meta.modified&&Reflect.deleteProperty(e.meta.modified,e.parentIdField)}replaceChildren(e){return this.clearChildren(),this.data[this.constructor.childrenField]=e,this.processChildren(),this.children}clearChildren(e=!1){const n=this,{stores:r}=n,o=n.unfilteredChildren||n.children;n.children=[],o&&!0!==o&&(r.forEach((r=>{r.isChained||r.onNodeRemoveChild(n,o,0,{unfiltered:!0,silent:e})})),n.unfilteredChildren&&(n.unfilteredChildren=[]))}clear(){var e;const n=this,{stores:r}=n,o=null===(e=n.children)||void 0===e?void 0:e.slice();if(n.isRoot&&o){for(const e of r)if(!e.isChained&&!1===e.trigger("beforeRemove",{parent:n,records:o,isMove:!1,removingAll:!0}))return!1;n.children.length=0,n.unfilteredChildren&&(n.unfilteredChildren.length=0),r.forEach((e=>{o.forEach((n=>{n.stores.includes(e)&&n.unjoinStore(e),n.parent=n.parentIndex=n.nextSibling=n.previousSibling=null})),e.storage.suspendEvents(),e.storage.clear(),e.storage.resumeEvents(),e.added.clear(),e.modified.clear(),e.trigger("removeAll"),e.trigger("change",{action:"removeall"})}))}}updateChildrenIndices(e,n=!1,r=!1){const o=n?"unfilteredIndex":"parentIndex";let i=null;for(let a=0;a<e.length;a++){const l=e[a],c=l[o];"parentIndex"===o?void 0===c||r?l.setData("parentIndex",a):c!==a&&l.set("parentIndex",a,!0):l[o]=a,n||(l.previousSibling=i,i&&(i.nextSibling=l),a===e.length-1&&(l.nextSibling=null),i=l)}}addToChildren(e,n,r,o=!1){if(e){const i=n?n[o?"unfilteredIndex":"parentIndex"]:e.length;return e.splice(i,0,...r),this.updateChildrenIndices(e,o),i}}removeFromChildren(e,n,r=!1){if(e){const o=n[r?"unfilteredIndex":"parentIndex"];return o>-1&&(e.splice(o,1),this.updateChildrenIndices(e,r)),o}}};const{defineProperty:En}=Reflect,kn=Symbol("owner"),Tn=/[\s,]+/;var Factoryable=e=>class Factoryable extends(e||Base){static get $name(){return"Factoryable"}static get declarable(){return["factoryable","alias","type"]}static register(e,n,r=BrowserHelper.global.__BRYNTUM_EXAMPLE){const{factoryable:o}=this.initClass(),{caseless:i,registry:a}=o,l=StringHelper.split(e,Tn);for(let e,c,d=0;d<l.length;++d){if(c=l[d],e=i?c.toLowerCase():c,!r&&e in a)throw new Error(`Type "${c}" already registered with ${o.class.name} factory`);a[c]=a[e]=n.initClass()}}static isA(e,n){return this.isType(e,n,!0)}static isType(e,n,r){const{factoryable:o}=this,{caseless:i,registry:a}=o,l=a[i?n.toLowerCase():n];return!!l&&(r?e instanceof l:e.constructor===l)}static setupAlias(e){e.register(e.alias,e)}static setupFactoryable(e,n){const r=n.super.class;let{factoryable:o}=e;o=_objectSpread2({caseless:!0,defaultType:null,extends:r.factoryable?[r]:null,typeKey:"type"},o),o.class=e,o.registry=Object.create(null),o.extends&&!Array.isArray(o.extends)&&(o.extends=[o.extends]),En(e,"factoryable",{get:()=>o})}static setupType(e){const{type:n}=e;e.register(n,e),En(e.prototype,"type",{value:n})}static create(e,n){return this.reconfigure(null,e,n)}static reconfigure(e,n,r){const o=this,{factoryable:i}=o,{typeKey:a}=i;let l,c,d,u,p,b,g,m,f,v=r;if(r&&!ObjectHelper.isClass(r)&&(v=null,g=typeof r,"function"===g?b=r:"string"===g?v=r:ObjectHelper.isObject(r)?(l=r.cleanup,c=r.defaults,u=r.owner,b=r.setup,v=r.type,m=r.transform):u=r),m&&(n="string"==typeof m?u[m](n):m(n)),f=n,"string"==typeof f)n={};else if(n){if(!0===n&&(n={}),!ObjectHelper.isObject(n)){var y;if(u&&n!==e&&(null==e?void 0:e[kn])===u)"string"==typeof l?u[l](e):null===(y=l)||void 0===y||y(e),e.destroy();return n}f=n[a]}if(f=f&&o.resolveType(f),e){if(n&&(!f||e.constructor===f))return a in n&&delete(n=ObjectHelper.assign({},n))[a],e.setConfig(n),e;var x;if(u&&e[kn]===u)"string"==typeof l?u[l](e):null===(x=l)||void 0===x||x(e),e.destroy()}if(n){if(c){if(!(d=f)){if(!(d=c[a]||v||i.defaultType))throw new Error(`No default mergeType defined for ${i.class.name} factory`);d=o.resolveType(d)}d&&(n=d.mergeConfigs(c,n))}if(b){if(p="string"==typeof b?u[b](n,f,c):b(n,f,c),null===p)return p;n=p||n}if(!f){if(!(f=n[a]||v||i.defaultType))throw new Error(`No default type defined for ${i.class.name} factory`);f=o.resolveType(f)}c&&!d&&(n=f.mergeConfigs(c,n)),a in n&&delete(n=ObjectHelper.assign({},n))[a],n=new f(n),u&&(n[kn]=u)}return n||null}static resolveType(e,n){if("string"!=typeof e)return e;const{factoryable:r}=this,o=r.extends;let i,a=r.registry[r.caseless?e.toLowerCase():e];for(i=0;!a&&o&&i<o.length;++i)a=o[i].resolveType(e,!0);if(!a&&!n)throw new Error(`Invalid type name "${e}" passed to ${r.class.name} factory`);return a}};const{getOwnPropertyDescriptor:_n}=Reflect;class DataField extends(Base.mixin(Factoryable)){static get $name(){return"DataField"}static get type(){return"auto"}static get factoryable(){return{defaultType:"auto"}}static get prototypeProperties(){return{compare:null,compareItems:null,dataSource:null,alwaysWrite:!1,nullable:!0,nullText:null,nullValue:void 0,persist:!0,readOnly:!1,internal:!1}}construct(e){const n=this;e&&(n.name=e.name,Object.assign(n,e)),n.compare&&(n.compareItems=(e,r)=>n.compare(null==e?void 0:e[n.name],null==r?void 0:r[n.name]))}defineAccessor(e,n){const{name:r,dataSource:o}=this;!n&&r in e&&e.$meta.hierarchy.some((e=>{var n;return!1===(null===(n=_n(e.prototype,r))||void 0===n?void 0:n.enumerable)}))||Reflect.defineProperty(e,r,{configurable:!0,enumerable:!0,get:this.complexMapping?function(){return this.complexGet(r,o)}:function(){var e;return this.batching&&r in this.meta.batchChanges?this.meta.batchChanges[r]:null!==(e=this.data[o])&&void 0!==e?e:this.data[r]},set(e){const n=this.$meta.fields.map[r];n&&n.readOnly||this.set(r,e)}})}isEqual(e,n){return ObjectHelper.isEqual(e,n)}print(e){return null==e?this.nullText:this.printValue(e)}printValue(e){return String(e)}}DataField._$name="DataField";class ArrayDataField extends DataField{static get $name(){return"ArrayDataField"}static get type(){return"array"}isEqual(e,n){return e===n}}ArrayDataField.initClass(),ArrayDataField._$name="ArrayDataField";class BooleanDataField extends DataField{static get $name(){return"BooleanDataField"}static get type(){return"boolean"}static get alias(){return"bool"}static get prototypeProperties(){return{nullValue:!1}}convert(e){return null==e?this.nullable?e:this.nullValue:Boolean(e)}}BooleanDataField.initClass(),BooleanDataField._$name="BooleanDataField";class DateDataField extends DataField{static get $name(){return"DateDataField"}static get type(){return"date"}static get prototypeProperties(){return{format:null}}get dateFormat(){return this.format}set dateFormat(e){VersionHelper.deprecate("Core","5.0.0",`DateDataField "${this.name}": dateFormat config has been renamed to "format"`),this.format=e}convert(e){return null==e?this.nullable||(e=this.nullValue):"now"===e?e=new Date:e instanceof Date||(e=(e=DateHelper.parse(e,this.format||DateHelper.defaultParseFormat))||void 0),e}serialize(e){return e instanceof Date&&(e=DateHelper.format(e,this.format||DateHelper.defaultFormat)),e}printValue(e){return DateHelper.format(e,this.format||DateHelper.defaultFormat)}}DateDataField.initClass(),DateDataField._$name="DateDataField";class IntegerDataField extends DataField{static get $name(){return"IntegerDataField"}static get type(){return"integer"}static get alias(){return"int"}static get prototypeProperties(){return{nullValue:0,rounding:"round"}}convert(e){return null==e?this.nullable?e:this.nullValue:Math[this.rounding](Number(e))}}IntegerDataField.initClass(),IntegerDataField._$name="IntegerDataField";class ModelDataField extends DataField{static get $name(){return"ModelDataField"}static get type(){return"model"}static get prototypeProperties(){return{complexMapping:!0}}isEqual(e,n){return e&&n&&n instanceof e.constructor&&n.id==e.id}}ModelDataField.initClass(),ModelDataField._$name="ModelDataField";class NumberDataField extends DataField{static get $name(){return"NumberDataField"}static get type(){return"number"}static get alias(){return"float"}static get prototypeProperties(){return{nullValue:0,precision:null}}convert(e){if(null==e)return this.nullable?e:this.nullValue;e=Number(e);let n=this.precision;return n?(n=10**n,e=Math.round(e*n)/n):0===n&&(e=Math.round(e)),e}}NumberDataField.initClass(),NumberDataField._$name="NumberDataField";class ObjectDataField extends DataField{static get $name(){return"ObjectDataField"}static get type(){return"object"}static get prototypeProperties(){return{complexMapping:!0}}}ObjectDataField.initClass(),ObjectDataField._$name="ObjectDataField";class StringDataField extends DataField{static get $name(){return"StringDataField"}static get type(){return"string"}static get prototypeProperties(){return{nullValue:""}}convert(e){return null==e?this.nullable?e:this.nullValue:String(e)}}StringDataField.initClass(),StringDataField._$name="StringDataField";const{defineProperty:Mn}=Reflect,{hasOwnProperty:Rn}=Object.prototype,In=void 0,Fn={children:1,data:1,meta:1},An=["name","title","text","label","description"],On={boolean:1,number:1,date:1,object:1};class Model extends(Base.mixin(ModelStm,TreeNode)){static get $name(){return"Model"}static get declarable(){return["fields"]}static get fields(){return[{name:"parentIndex",type:"number",persist:!1,internal:!0}]}static set idField(e){this._assignedIdField=!0,this._idField=e}static get idField(){return this._idField}static set childrenField(e){this._childrenField=e}static get childrenField(){if(!this._childrenField){const e=this.fieldMap.children;this._childrenField=(null==e?void 0:e.dataSource)||"children"}return this._childrenField}get indexPath(){const e=[];let n=this,r=n.childLevel;for(n=this;n&&!n.isRoot;n=n.parent)e[r--]=n.parentIndex+1;return e}construct(e={},n=null,r=null,o=!1,i=!1){const a=this,l=n?Array.isArray(n)?n:[n]:[],{constructor:c,fieldMap:d}=a;let u=null;if(n=l[0],a.meta=_objectSpread2(_objectSpread2({modified:{}},c.metaConfig),r),c.applyConfigs)for(const n in a.getDefaultConfiguration())u||(u={},a.useRawData&&a.useRawData.enabled||(e=_objectSpread2({},e))),n in e&&(u[n]=e[n],delete e[n]);if(super.construct(u),o||c.exposeProperties(e),!Rn.call(c,"idFieldProcessed")){let e=a.meta.idField;e||(c._assignedIdField?e=c.idField:n&&(e=n.idField)),e&&e!==d.id.dataSource&&c.addField({name:"id",dataSource:e,internal:!0}),c.idFieldProcessed=!0}a._internalId=Model._internalIdCounter++,a.stores=[],a.unjoinedStores=[],a.originalData||(a.originalData=e),a.data=c.processData(e,!1,n,a,i),null==a.id&&a.setData("id",a.generateId(n)),a.data[c.childrenField]&&a.processChildren(l),a.generation=0}set isCreating(e){const n=this;Boolean(n.meta.isCreating)!==e&&(n.meta.isCreating=e,n.stores.forEach((r=>{r.onIsCreatingToggle(n,e)})))}get isCreating(){return Boolean(this.meta.isCreating)}equals(e){if(e instanceof this.constructor){for(let n=this.$meta.fields.defs,r=0,{length:o}=n;r<o;r++){const o=n[r],{name:i}=o;if("id"!==i&&!o.isEqual(this[i],e[i]))return!1}return!0}return!1}get subclass(){return new this.constructor(Object.setPrototypeOf({id:In},this.data),this.stores[0],null,!0)}static processData(e,n=!1,r,o,i){const{fieldMap:a,defaultValues:l}=this,{useRawData:c={enabled:!1}}=r||{},d=i||c.enabled?e:ObjectHelper.clone(e);let u;if(!(n=n||c.disableDefaultValue||i))for(u in l)if(d[u]===In){let e=l[u];Array.isArray(e)&&(e=e.slice()),d[u]=e}if(!c.disableTypeConversion&&!i)for(u in a){const r=a[u],{name:i,dataSource:l}=r,p=l!==i,b=r.complexMapping,g=p&&(b?ObjectHelper.pathExists(e,l):l in e),m=i in e&&(!p||!g),f=!c.disableTypeConversion&&r.convert;if((m||f)&&(!n||m||g)){const e=m?d[i]:b?ObjectHelper.getPath(d,l):d[l],n=f?r.convert(e,o):e;b?ObjectHelper.setPath(d,l,n):d[l]=n,p&&delete d[i]}}return d}static setupClass(e){super.setupClass(e),e.fields||this.setupFields(this,e)}static setupFields(e,n){var r,o,i,a,l;const c=Rn.call(e,"fields")&&e.fields,d=n.super.fields,u=n.fields={defs:null!==(r=null==d?void 0:d.defs.slice())&&void 0!==r?r:[],exposedData:!1,defaults:d?_objectSpread2({},d.defaults):{},exposed:Object.create(null!==(o=null==d?void 0:d.exposed)&&void 0!==o?o:null),ordinals:Object.create(null!==(i=null==d?void 0:d.ordinals)&&void 0!==i?i:null),map:Object.create(null!==(a=null==d?void 0:d.map)&&void 0!==a?a:null),sources:Object.create(null!==(l=null==d?void 0:d.sources)&&void 0!==l?l:null)};Rn.call(e,"defaults")&&Object.assign(u.defaults,e.defaults),Rn.call(e,"idField")&&(e.addField({name:"id",dataSource:e.idField,internal:!0}),u.exposed[e.idField]=!0),null!=c&&c.length&&c.map(e.addField,e),e.exposeRelations()}static get defaultValues(){return this.$meta.fields.defaults}static get allFields(){return this.$meta.fields.defs}get allFields(){return this.$meta.fields.defs}static get fieldMap(){return this.$meta.fields.map}get fieldMap(){return this.$meta.fields.map}static get fieldDataSourceMap(){return this.$meta.fields.sources}static exposeProperties(e){const n=this,r=n.$meta.fields;if(e&&n.autoExposeFields&&!r.exposedData){let o,i,a;for(o in e)r.exposed[o]||o===n.childrenField||(a=typeOf(e[o]),i={name:o,dataSource:o,fromData:!0},On[a]&&(i.type=a),n.addField(i));r.exposedData=!0}n.exposeRelations()}static addField(e){if(null==e)return;"string"==typeof e&&(e={name:e});const n=this.initClass(),r=n.$meta.fields,{ordinals:o}=r,i=r.exposed,{name:a}=e,l=r.map[a],c=e.dataSource||(e.dataSource=a);let d,u;if(!l||e.type&&e.type!==l.type)d=DataField.create(e),d.definedBy=l?l.definedBy:n,d.ordinal=l?l.ordinal:o[a]=r.defs.length;else for(u in d=Object.create(l),e)"type"!==u&&(d[u]=e[u]);return d.owner=n,r.defs[d.ordinal]=d,r.map[a]=d,r.sources[c]||(r.sources[c]=d),c.includes(".")&&(d.complexMapping=!0),d.complexMapping?i[c.split(".")[0]]=!0:i[c]=!0,"defaultValue"in d&&(r.defaults[c]=d.defaultValue),Fn[a]||d.defineAccessor(n.prototype),n._nonPersistableFields=null,n._alwaysWriteFields=null,d}static removeField(e){const n=this.initClass(),r=n.$meta.fields,o=r.map[e],{ordinals:i}=r,a=i[e];if(o){r.defs.splice(a,1),delete i[e],delete r.defaults[e],delete r.exposed[e],delete r.map[e],delete r.sources[o.dataSource];for(const e in i)i[e]>a&&--i[e];delete n.prototype[e]}}static exposeRelations(){const e=this;Rn.call(e,"relationsExposed")||e.relationConfig&&(e.relationsExposed=!0,e.relations=[],e.relationConfig.forEach((n=>{e.relations.push(n);const r=n.relationName;Reflect.ownKeys(e.prototype).includes(r)||Mn(e.prototype,r,{enumerable:!0,get:function(){return this.getForeign(r)},set:function(e){this.setForeign(r,e,n)}})})))}static get autoExposeFields(){return!0}get fields(){return this.$meta.fields.defs}getFieldDefinition(e){return this.$meta.fields.map[e]}getFieldDefinitionFromDataSource(e){return this.$meta.fields.sources[e]}get fieldNames(){return Object.keys(this.data)}static getFieldDefinition(e){return this.$meta.fields.map[e]}static getFieldDataSource(e){return this.getFieldDefinition(e).dataSource}getDataSource(e){const n=this.constructor.getFieldDefinition(e);return(null==n?void 0:n.dataSource)||(null==n?void 0:n.name)}static processField(e,n,r){const o=this.fieldMap[e];return null!=o&&o.convert?o.convert(n,r):n}initRelations(){const e=this;e.constructor.relations&&e.stores.forEach((n=>{var r;n.modelRelations||n.initRelations();const o=[];null===(r=n.modelRelations)||void 0===r||r.forEach((n=>{o.push({related:e.initRelation(n),config:n})})),n.updateRecordRelationCache(e,o)}))}initRelation(e){const n=this,r=n.get(e.fieldName),o=r!==In&&"string"!=typeof e.store&&e.store.getById(r),i={id:r,placeHolder:!0};return n.meta.relationCache||(n.meta.relationCache={}),n.meta.relationCache[e.relationName]=o||(null!=r?i:null),o}removeRelation(e){this.meta.relationCache[e.relationName]&&(delete this.meta.relationCache[e.relationName],e.nullFieldOnRemove&&this.setData(e.fieldName,null))}getForeign(e){var n;return null===(n=this.meta.relationCache)||void 0===n?void 0:n[e]}setForeign(e,n,r){const o=Model.asId(n);return this.set(r.fieldName,o)}flatGet(e,n){var r;return this.batching&&e in this.meta.batchChanges?this.meta.batchChanges[e]:null!==(r=this.data[n])&&void 0!==r?r:this.data[e]}complexGet(e,n){return this.batching&&e in this.meta.batchChanges?this.meta.batchChanges[e]:ObjectHelper.getPath(this.data,n)}get(e){if(!e)return;const n=this.fieldMap[e];return!n&&e.includes(".")?this.complexGet(e,e):null!=n&&n.complexMapping?this.complexGet(e,n.dataSource):this.flatGet(e,(null==n?void 0:n.dataSource)||e)}setData(e,n){const{data:r,fieldMap:o}=this;if("string"==typeof e){var i;const a=o[e],l=null!==(i=null==a?void 0:a.dataSource)&&void 0!==i?i:e;null!=a&&a.complexMapping?ObjectHelper.setPath(r,l,n):r[l]=n}else{const n=Object.keys(e);for(let i=0;i<n.length;i++){var a;const l=n[i],c=o[l],d=null!==(a=null==c?void 0:c.dataSource)&&void 0!==a?a:l;d&&(null!=c&&c.complexMapping?ObjectHelper.setPath(r,d,e[l]):r[d]=e[l])}}}getData(e){var n;const r=this.fieldMap[e],o=null!==(n=null==r?void 0:r.dataSource)&&void 0!==n?n:e;if(o)return null!=r&&r.complexMapping?ObjectHelper.getPath(this.data,o):this.data[o]}syncId(e){const n=this.id;if(n!==e){this.setData("id",e);const r={id:{value:e,oldValue:n}};this.afterChange(r,r)}}set(e,n,r=!1,o=!1,i=!1){const a=this;if(a.isBatchUpdating)return a.inBatchSet(e,n,r||a.$silenceBatch),null;{var l;const c=a.beforeSet?a.beforeSet(e,n,r,o):In,d=a.inSet(e,n,r,o,i);return null===(l=a.afterSet)||void 0===l||l.call(a,e,n,r,o,c,d),d}}fieldToKeys(e,n){return"string"!=typeof e?ObjectHelper.assign({},e):{[e]:n}}inBatchSet(e,n,r){const o=this,{meta:i,constructor:a,fieldMap:l}=o,c={};let d,u=!1;if("string"!=typeof e?Object.keys(o.fieldToKeys(e,n)).forEach((r=>{d=l[r]||ObjectHelper,n=a.processField(r,e[r],o),d.isEqual(i.batchChanges[r],n)||(c[r]={value:n,oldValue:o.get(r)},i.batchChanges[r]=n,u=!0)})):(d=l[e]||ObjectHelper,d.isEqual(i.batchChanges[e],n)||(c[e]={value:n,oldValue:o.get(e)},i.batchChanges[e]=n,u=!0)),u&&(o.generation++,!r)){const e={action:"update",record:o,records:[o],changes:c};o.stores.forEach((n=>{n.trigger("batchedUpdate",e)}))}}inSet(e,n,r,o,i=!1){const a=this,{data:l,meta:c,fieldMap:d,constructor:u}=a,{prototype:p,childrenField:b}=u,g={},m=a.fieldToKeys(e,n),f=Object.keys(m);let v=!1;if(!r&&!a.triggerBeforeUpdate(m))return null;for(let e=0;e<f.length;e++){var y;const n=f[e];if(n===b)continue;const r=d[n],x=r||ObjectHelper,C=null==r?void 0:r.readOnly,S=null!==(y=null==r?void 0:r.dataSource)&&void 0!==y?y:n,D=!i&&!r&&n in p,E=D?a[S]:null!=r&&r.complexMapping?ObjectHelper.getPath(l,S):l[S],k=u.processField(n,m[n],a),T=m[n]={value:k},_=a.getRelationConfig(n);C||x.isEqual(E,k)||(a.generation++,T.oldValue=E,v=!0,x.isEqual(a.meta.modified[n],k)?Reflect.deleteProperty(c.modified,n):a.ignoreBag||(n in c.modified||(c.modified[n]=E),T.oldValue===In&&Reflect.deleteProperty(T,"oldValue")),g[n]=T,a.applyValue(D,S,k,i,r),_&&!o&&(a.initRelation(_),a.stores.forEach((e=>e.cacheRelatedRecord(a,k,_.relationName,T.oldValue)))))}return v&&a.afterChange(m,g,r,o,i),v?g:null}applyValue(e,n,r,o,i){var a;let l=null===(a=i)||void 0===a?void 0:a.complexMapping;if(e)this[n]=r;else{if(!i&&n.includes(".")){var c,d;const e=n.split(".")[0];l=(null===(c=i=this.constructor.fieldMap[e])||void 0===c?void 0:c.complexMapping)||"object"===(null===(d=i)||void 0===d?void 0:d.type)}l?ObjectHelper.setPath(this.data,n,r):this.data[n]=r}}afterChange(e,n,r,o,i){this.stores.forEach((i=>{i.onModelChange(this,e,n,r,o)}))}get isPersistable(){return!this.isBatchUpdating&&!this.isCreating}get isModified(){return Boolean(this.meta.modified&&Object.keys(this.meta.modified).length>0)}get hasPersistableChanges(){return this.isPersistable&&!ObjectHelper.isEmpty(this.rawModificationData)}isFieldModified(e){return this.isModified&&e in this.meta.modified}getFieldPersistentValue(e){const n="string"==typeof e?this.getFieldDefinition(e):e,r=(null==n?void 0:n.name)||e;let o;return n&&!n.persist||(o=this[r],null!=n&&n.serialize&&(o=n.serialize(o,this))),o}get modifications(){const e=this.rawModifications;return e&&Object.keys(e).length&&(e[this.constructor.idField]=this.id),e}get rawModifications(){const e=this,n={};if(!e.isModified)return null;let r=!1;return Object.keys(e.meta.modified).forEach((o=>{const i=e.getFieldPersistentValue(o);i!==In&&(n[o]=i,r=!0)})),r?n:null}get modificationData(){const e=this.rawModificationData;return e&&Object.keys(e).length&&ObjectHelper.setPath(e,this.constructor.getFieldDefinition(this.constructor.idField).dataSource,this.id),e}get rawModificationData(){const e=this,{fieldMap:n}=e.constructor,r={};if(!e.isModified)return null;let o=!1;return Object.keys(e.meta.modified).forEach((i=>{const a=n[i];if(null!=a&&a.persist){const n=e.getFieldPersistentValue(i);n!==In&&(ObjectHelper.setPath(r,a.dataSource,n),o=!0)}})),o?r:null}get modificationDataToWrite(){const e=this.constructor.alwaysWriteFields,n=this.modificationData;return e.forEach((e=>{n[this.getFieldDefinition(e).dataSource]=this.getFieldPersistentValue(e)})),n}get persistableData(){const e=this,n={};return e.fields.forEach((r=>{const o=e.getFieldPersistentValue(r);o!==In&&(null!=r&&r.complexMapping?ObjectHelper.setPath(n,r.dataSource,o):n[r.dataSource]=o)})),n}get isCommitting(){return Boolean(this.meta.committing)}clearChanges(e=!0,n=!0){const r=this,{meta:o}=r;o.modified={},o.committing=!1,e&&r.stores.forEach((e=>{if(e.modified.remove(r),e.added.remove(r),n){const n=e.collectDescendants(r).all;e.added.remove(n),e.modified.remove(n)}}))}revertChanges(e=!1){this.set(this.meta.modified,In,e)}get internalId(){return this._internalId}get isPhantom(){return""===this.id||null==this.id||this.hasGeneratedId}get isModel(){return!0}get hasGeneratedId(){return"string"==typeof this.id&&this.id.startsWith("_generated")}static generateId(e=this.$$name){return`_generated${e}${++Model._generatedIdIndex}`}generateId(){return this.constructor.generateId()}static asId(e){return null!=e&&e.isModel?e.id:e}get json(){return StringHelper.safeJsonStringify(this)}toJSON(){const{children:e}=this,n=this.persistableData;return e&&(n[this.constructor.childrenField]=e.map((e=>e.toJSON()))),n}toString(){const e=this,n=An.find((n=>n in e.constructor.fieldMap)),r=n?{[e.constructor.idField]:e.id,[n]:e[n]}:e.data;return StringHelper.safeJsonStringify(r)}get isBatchUpdating(){return Boolean(this.batching)}hasBatchedChange(e){var n,r;return null===(n=this.meta)||void 0===n||null===(r=n.batchChanges)||void 0===r?void 0:r[e]}beginBatch(e=!1){const n=this;n.batching||(n.batching=0,n.meta.batchChanges={}),e&&(n.$silenceBatch=(n.$silenceBatch||0)+1),n.batching++}endBatch(e=!1,n=!1){const r=this,{parentIdField:o}=r.constructor;if(r.batching&&(r.batching--,r.$silenceBatch&&r.$silenceBatch--,!(r.batching>0||ObjectHelper.isEmpty(r.meta.batchChanges)))){const i=_objectSpread2({},r.meta.batchChanges);r.meta.batchChanges=null,i[o]&&(r.parentId=i[o],delete i[o]),r.set(i,In,e,!1,n)}}cancelBatch(){if(this.batching){const e=this,{batchChanges:n}=e.meta,r={};if(e.batching=null,e.meta.batchChanges=null,e.generation++,!e.$silenceBatch){Object.entries(n).forEach((([n,o])=>{r[n]={oldValue:o,value:e[n]}}));const o={action:"update",record:e,records:[e],changes:r};e.stores.forEach((e=>{e.trigger("batchedUpdate",o)}))}e.$silenceBatch&&e.$silenceBatch--}}triggerBeforeUpdate(e){return!this.stores.some((n=>!1===n.trigger("beforeUpdate",{record:this,changes:e})))}copy(e=null,n){const r=this,o=ObjectHelper.clone(r.data),i=r.constructor.idField;let a,l;a=ObjectHelper.isObject(n)?n.deep:n,e&&"object"==typeof e?(l=e[i],"deep"in e?(a=e.deep,VersionHelper.deprecate("Grid","5.0.0","`deep` attribute deprecated, in favor of a separate second parameter"),delete e[i],delete e.deep):Object.assign(o,e)):l=e,a&&r.children?o.children=r.children.map((e=>e.copy(void 0,n))):(delete o.children,delete o.expanded),!1!==e&&(o[i]=l||r.generateId(r.firstStore));const c=new r.constructor(o,null,null,!1,!0);return c.originalInternalId=r.internalId,c}remove(e=!1){const n=this,{parent:r}=this;r?r.removeChild(n):n.stores.length&&(n.isSpecialRow||n.stores.forEach((r=>r.remove(n,e,!1,!0))))}get firstStore(){return this.stores.length>0&&this.stores[0]}getRelationConfig(e){var n,r;return null===(n=this.firstStore)||void 0===n||null===(r=n.modelRelations)||void 0===r?void 0:r.find((n=>n.fieldName===e))}get isValid(){return!0}joinStore(e){const n=this,{stores:r}=n;if(!r.includes(e)){const{unjoinedStores:o}=n;super.joinStore(e),e.register(n),r.push(e),o.includes(e)&&o.splice(o.indexOf(e),1),n.isLoaded&&n.children.forEach((n=>n.joinStore(e))),n.initRelations(),e.tree&&!n.isRoot&&(n.instanceMeta(e.id).collapsed=!n.expanded)}}unjoinStore(e,n=!1){const r=this,{stores:o,unjoinedStores:i}=r;var a,l;o.includes(e)&&(e.isDestroying||(e.unregister(r),i.push(e)),null===(a=r.unfilteredChildren||r.children)||void 0===a||null===(l=a.forEach)||void 0===l||l.call(a,(r=>r.unjoinStore(e,n))),o.splice(o.indexOf(e),1),super.unjoinStore&&super.unjoinStore(e,n),e.uncacheRelatedRecord(r))}isPartOfStore(e){return e?e.includes(this):this.stores.length>0}get isRemoved(){return!this.isPartOfStore()}instanceMeta(e){const{meta:n}=this,r=e.id||e;return n.map||(n.map={}),n.map[r]||(n.map[r]={})}get isGroupHeader(){return"groupRowFor"in this.meta}get isGroupFooter(){return"groupFooterFor"in this.meta}get isSpecialRow(){return this.meta.specialRow}static get nonPersistableFields(){const e=this;return e._nonPersistableFields||(e._nonPersistableFields={},e.allFields.forEach((n=>{n.persist&&!n.calculated||(e._nonPersistableFields[n.name]=1)}))),e._nonPersistableFields}static get alwaysWriteFields(){const e=this;return e._alwaysWriteFields||(e._alwaysWriteFields=[],e.allFields.forEach((n=>{n.alwaysWrite&&e._alwaysWriteFields.push(n.name)}))),e._alwaysWriteFields}}Model._idField="id",Model._internalIdCounter=1,Model._assignedIdField=!1,Model._generatedIdIndex=0,Model.exposeProperties(),Model._$name="Model";class Duration{constructor(e,n){"number"==typeof e?(this._magnitude=e,this._unit=n):("string"==typeof e&&(e=DateHelper.parseDuration(e)),"object"==typeof e&&Object.assign(this,e))}get magnitude(){return this._magnitude}set magnitude(e){this._magnitude="number"==typeof e&&e}get unit(){return this._unit}set unit(e){this._unit=DateHelper.parseTimeUnit(e)}get isValid(){return null!=this._magnitude&&this._unit}get milliseconds(){return this.isValid?Math.round(DateHelper.asMilliseconds(this._magnitude,this._unit)):0}isEqual(e){return Boolean(e&&this.milliseconds===e.milliseconds)}toString(e){const n=this,r=e?"getShortNameOfUnit":"getLocalizedNameOfUnit";return n.isValid?`${n._magnitude} ${DateHelper[r](n._unit,1!==n._magnitude)}`:""}toJSON(){return this.toString()}valueOf(){return this.milliseconds}}Duration._$name="Duration";const nestedValueReducer=(e,n)=>null==e?void 0:e[n];class CollectionFilter extends(Base.mixin(Identifiable)){static get defaultConfig(){return{value:null,operator:null,filterBy:null,convert:null,caseSensitive:!0,id:null,type:null}}static get configurable(){return{property:null}}construct(e){"function"==typeof e&&(e={filterBy:e}),e.type?"date"===e.type?e.value=new Date(e.value):"duration"===e.type&&(e.value=new Duration(e.value)):DateHelper.isDate(e.value)?e.type="date":e.value instanceof Duration&&(e.type="duration"),super.construct(e)}get id(){return this._id||(this._id=this.property||CollectionFilter.generateId("b-filter"))}set id(e){this._id=e}onChange(e){const n=this;!n.isConfiguring&&n.owner&&!n.owner.isConfiguring&&n.owner.onFilterChanged&&n.owner.onFilterChanged(n,e)}get filterBy(){return this._filterBy||this.defaultFilterBy}set filterBy(e){this._filterBy=e}defaultFilterBy(e){const n=this;let r;return r=n._propertyItems.length>1?n._propertyItems.reduce(nestedValueReducer,e):e[n.property],n[n.operator](n.convert(r))}updateProperty(e){this._propertyItems=e.split("."),this.onChange("property")}set value(e){var n,r;this._value=e,e=null!==(n=null===(r=e)||void 0===r?void 0:r.valueOf())&&void 0!==n?n:e,this._filterValue=this.caseSensitive||"string"!=typeof e?e:e.toLowerCase(),this.onChange("value")}get value(){return this._value}get filterValue(){return this._filterValue}set operator(e){this._operator=e,this.onChange("operator")}get operator(){return this._operator?this._operator:Array.isArray(this.filterValue)?"isIncludedIn":"string"==typeof this.filterValue?"*":"="}convert(e){var n,r;"string"==typeof this.filterValue&&e instanceof Date||(e=null!==(n=null===(r=e)||void 0===r?void 0:r.valueOf())&&void 0!==n?n:e);return e=this.caseSensitive||"string"!=typeof e?e:e.toLowerCase()}filter(e){return this.filterBy(e)}startsWith(e){return String(e).startsWith(this.filterValue)}endsWith(e){return String(e).endsWith(this.filterValue)}isIncludedIn(e){return 0===this.filterValue.length||this.filterValue.includes(e)}"="(e){return ObjectHelper.isEqual(e,this.filterValue)}"!="(e){return!ObjectHelper.isEqual(e,this.filterValue)}">"(e){return ObjectHelper.isMoreThan(e,this.filterValue)}">="(e){return ObjectHelper.isMoreThan(e,this.filterValue)||ObjectHelper.isEqual(e,this.filterValue)}"<"(e){return ObjectHelper.isLessThan(e,this.filterValue)}"<="(e){return ObjectHelper.isLessThan(e,this.filterValue)||ObjectHelper.isEqual(e,this.filterValue)}"*"(e){return ObjectHelper.isPartial(e,this.filterValue)}static generateFiltersFunction(e){return e&&(e.length||e.count)?function(n){let r=!0;for(const o of e)if(o.disabled||(r=o.filter(n)),!r)break;return r}:FunctionHelper.returnTrue}}CollectionFilter._$name="CollectionFilter";const Pn=ObjectHelper.getPathDefault(BrowserHelper.global,"bryntum.idCounts",Object.create(null));class IdHelper{static generateId(e="generatedId"){return e+(Pn[e]=(Pn[e]||0)+1)}}IdHelper._$name="IdHelper";class CollectionSorter extends Base{static get defaultConfig(){return{property:null,direction:"ASC",sortFn:null,convert:null,id:null,useLocaleSort:null}}construct(e){"function"==typeof e&&(e={sortFn:e}),super.construct(e)}get id(){return this._id||(this._id=this.property||IdHelper.generateId("b-sorter"))}set id(e){this._id=e}set sortFn(e){this._sortFn=e}get sortFn(){return this._sortFn?this._sortFn:this.defaultSortFn}defaultSortFn(e,n){const{convert:r,property:o,useLocaleSort:i}=this,a="desc"===this.direction.toLowerCase()?-1:1;if(e=e[o],n=n[o],r&&(e=r(e),n=r(n)),i&&null!=e&&null!=n){if(!0===i)return String(e).localeCompare(n);if("string"==typeof i)return String(e).localeCompare(n,i);if("object"==typeof i)return String(e).localeCompare(n,i.locale,i)}return(e>n?1:e<n?-1:0)*a}static generateSortFunction(e,n){const r=e.isCollection?e.values:e,o=r.length;return(e,i)=>{let a,l;for(l=0;l<o;++l)if(a=r[l].sortFn(e,i),a)return a;return n?n(e,i):0}}}CollectionSorter._$name="CollectionSorter";const return0=()=>0,reverseNumericSortFn=(e,n)=>n-e,Hn=Symbol("filteredIndicesProperty"),qn=Object.freeze([]),Ln=Object.freeze({action:"sort",added:qn,removed:qn,replaced:qn}),jn=Object.freeze({action:"filter",added:qn,removed:qn,replaced:qn}),Nn={string:1,number:1};function addItemToIndex(e,n,r){if(!1!==n.unique)n.set(r,e);else{let o=n.get(r);o||(o=new Set,n.set(r,o)),o.add(e)}}function doRebuildIndices(e,n,r,o){for(let i=0;i<e.length;i++){const a=e[i];for(let e=0;e<o;e++){const o=r[e],i=a[o];addItemToIndex(a,n[o],i)}}}class Collection extends(Base.mixin(Events)){static get configurable(){return{idProperty:"id",extraKeys:null,autoFilter:!0,autoSort:!0,sorters:{$config:["lazy"],value:[]}}}get isCollection(){return!0}construct(e){this.generation=0,this._values=[],super.construct(e)}doDestroy(){var e;super.doDestroy();const n=this;n._values.length=0,n.isFiltered&&(n._filteredValues.length=0,n.filters.destroy()),null===(e=n._sorters)||void 0===e||e.destroy()}clear(){const e=this,n=e._values.slice();e.totalCount&&(e._values.length=0,e._filteredValues&&(e._filteredValues.length=0),e._indicesInvalid=!0,e.generation++,e.trigger("change",{action:"clear",removed:n}))}equals(e,n){if(e.isCollection&&(e=e.values),e.length===this.count){let{values:r}=this;return n&&(e=e.map(n),r=r.map(n)),ArrayHelper.delta(e,this.values).inBoth.length===this.count}return!1}replaceValues({values:e,filteredValues:n,silent:r=!1,isNewDataset:o=!1}){const i=this;let a,l;if(i.isFiltered&&!o){Boolean(n)?e&&(a=i._values,i._values=e.slice()):(n=e.slice(),e=null),l=i._filteredValues,i._filteredValues=n.slice()}else a=i._values,i._values=e.slice(),n=null,i.isFiltered&&o&&i.autoFilter?(i._filterFunction=null,i._filteredValues=i._values.filter(i.filterFunction)):i._filteredValues&&(i._filteredValues.length=0);i._indicesInvalid=!0,i.generation++,r||i.trigger("change",{action:"replaceValues",replacedValues:a,replacedFilteredValues:l,values:e,filteredValues:n})}set values(e){this.invalidateIndices(),this.splice(0,this._values.length,e)}get values(){return this.isFiltered?this._filteredValues:this._values}[Symbol.iterator](){return this.values[Symbol.iterator]()}forEach(e,n=!1){(this.isFiltered&&!n?this._filteredValues:this._values).forEach(e)}map(e,n=!1){return(this.isFiltered&&!n?this._filteredValues:this._values).map(e)}find(e,n=!1){return(this.isFiltered&&!n?this._filteredValues:this._values).find(e)}get first(){return this.values[0]}get last(){return this.values[this.count-1]}get allValues(){return this._values}add(...e){1===e.length?this.splice(this._values.length,null,...e):this.splice(this._values.length,null,e)}remove(...e){1===e.length?this.splice(0,...e):this.splice(0,e)}move(e,n){for(Array.isArray(e)||(e=[e]);e.length&&e[0]===n;)e.shift();if(!e.length)return;const r=this,{_values:o}=r,i=r.indexOf(e[0],!0);if(1===e.length&&o[i+1]===n)return;r.suspendEvents(),r.remove(e),r.resumeEvents();const a=n?r.indexOf(n,!0):o.length;if(-1===a)throw new Error("Collection move beforeItem parameter must be present in Collection");return o.splice(a,0,...e),r._indicesInvalid=1,r.trigger("change",{action:"move",items:e,from:i,to:a}),a}splice(e=0,n,...r){const o=this,i=o.idProperty,a=o._values,l={},c=[],d=[],u=o.totalCount;let p,b;if(r)if(1===r.length&&Array.isArray(r[0])&&(r=r[0]),u&&r.length){const e=o.indices[i];p=[];for(let n=0;n<r.length;n++){const o=r[n],c=o[i],u=e.get(c),b=u?a.indexOf(u):-1;l[c]=!0,-1!==b?a[b]!==o&&(d.push([a[b],o]),a[b]=o):p.push(o)}}else p=r;if(n){if("number"==typeof n){n=Math.min(n,a.length-e);for(let r=e;n;--n){l[a[r][i]]?(e++,r++):(c.push(a[r]),a.splice(r,1),b=!0)}}else{let e,r=0===p.length;Array.isArray(n)||(n=[n]);const d=n.reduce(((n,i)=>{const a="number"==typeof i,l=a?i:o.indexOf(i,!0);return r&&(null!=e&&l!==e+1||a)&&(r=!1),l>=0&&l<u&&n.push(l),e=l,n}),[]).sort(reverseNumericSortFn);if(r)d.length&&(c.push.apply(c,n),a.splice(d[d.length-1],d.length),b=!0);else for(let e=0;e<d.length;e++){const n=d[e];if(-1!==n){l[a[n][i]]||(c.unshift(a[n]),a.splice(n,1),b=!0)}}}c.length&&!o._indicesInvalid&&c.forEach(o.removeFromIndices,o)}p.length&&(a.splice(Math.min(e,a.length),0,...p),b=!0,o._indicesInvalid||p.forEach(o.addToIndices,o)),d.length&&!o._indicesInvalid&&d.forEach((e=>{o.removeFromIndices(e[0]),o.addToIndices(e[1])})),b||d.length?(o.isSorted?o.onSortersChanged():o.isFiltered&&(o.autoFilter?o.onFiltersChanged({action:"splice",oldCount:1}):o._filteredValues.push(...p)),o.generation++,o.trigger("change",{action:"splice",removed:c,added:p,replaced:d,oldCount:u})):o.trigger("noChange",{index:e,toRemove:n,toAdd:r})}changeId(e,n){const r=this,{idProperty:o}=r,i=Nn[typeof e]?e:e[o],a=r.get(i);if(a){const l=r.get(n);if(l&&a!==l)throw new Error(`Attempt to set item ${i} to already existing member's id ${n}`);r.removeIndexEntry(e,o,i),r.addIndexEntry(e,o,n),a[o]=n}}get(e,n=!1){return this.getBy(this.idProperty,e,n)}getAt(e,n=!1){return this.isFiltered&&!n?this._filteredValues[e]:this._values[e]}getBy(e,n,r=!1){return this.findItem(e,n,this.isFiltered&&r)}get count(){return this.values.length}get totalCount(){return this._values.length}updateIdProperty(e){this.addIndex({property:e,unique:!0})}changeSorters(e){return new Collection({values:Array.isArray(e)?e:[e],listeners:{change:"onSortersChanged",thisObj:this}})}addSorter(e){const n=e instanceof CollectionSorter?e:new CollectionSorter(e);return this.sorters.add(n),n}get isSorted(){var e;return Boolean(null===(e=this._sorters)||void 0===e?void 0:e.count)}onSortersChanged(){const e=this;delete e._sortFunction,e._values.sort(e.sortFunction),e.trigger("change",Ln)}get sortFunction(){return this._sortFunction||(this.isSorted?this._sortFunction=CollectionSorter.generateSortFunction(this.sorters.values):this._sortFunction=return0),this._sortFunction}get filters(){return this._filters||(this._filters=new Collection({listeners:{change:"onFiltersChanged",thisObj:this}})),this._filters}addFilter(e){const n=e instanceof CollectionFilter?e:new CollectionFilter(e);return this.filters.add(n),n}removeFilter(e){const{filters:n}=this;e.isCollectionFilter||(e=n.get(e)),n.remove(e)}clearFilters(){this.filters.clear()}get isFiltered(){return Boolean(this._filters&&this._filters.count)}onFiltersChanged({action:e,removed:n,oldCount:r}){const o=this,i=r||"clear"===e&&n.length?o._filteredValues:o._values;o._filterFunction=null,o._filteredValues=o._values.filter(o.filterFunction),o._indicesInvalid=!0;const{toAdd:a,toRemove:l}=ArrayHelper.delta(o._filteredValues,i,!0);o.trigger("change",_objectSpread2(_objectSpread2({},jn),{},{added:a,removed:l}))}get filterFunction(){return this._filterFunction||(this.isFiltered?this._filterFunction=CollectionFilter.generateFiltersFunction(this.filters.values):this._filterFunction=FunctionHelper.returnTrue),this._filterFunction}changeExtraKeys(e){return(Array.isArray(e)?e:[e]).map((e=>"string"==typeof e?{property:e,unique:!0}:e))}updateExtraKeys(e){for(let n=0;n<e.length;n++)this.addIndex(e[n])}addIndex(e){e&&((this._indices||(this._indices={}))[e.property]=new Map,Object.assign(this._indices[e.property],e),this.invalidateIndices())}findIndex(e,n,r=!1){const o=this.findItem(e,n,r);if(!o)return-1;return(this.isFiltered&&!r?this._filteredValues:this._values).indexOf(o)}findItem(e,n,r=!1){const o=this,{isFiltered:i}=o,a=i&&!r?o.indices[Hn][e]:o.indices[e];if(a){var l;const e=null!==(l=a.get(n))&&void 0!==l?l:"string"==typeof n&&n.length&&!isNaN(n)&&a.get(Number(n))||null;if(null!=e)return e}else{const a=i&&!r?o._filteredValues:o._values,l=a.length;for(let r=0;r<l;r++){const o=a[r];if(o[e]==n)return o}}return null}removeIndex(e){delete this._indices[e]}indexOf(e,n=!1){return this.findIndex(this.idProperty,Nn[typeof e]?e:e[this.idProperty],n)}includes(e,n=!1){return Array.isArray(e)?e.some((e=>this.includes(e))):Boolean(this.findItem(this.idProperty,Nn[typeof e]?e:e[this.idProperty],n))}get indices(){return this._indicesInvalid&&this.rebuildIndices(),this._indices}invalidateIndices(){this._indicesInvalid=!0}rebuildIndices(){const e=this,n=e.isFiltered,r=e._indices||(e._indices={}),o=Object.keys(r),i=o.length,a=e._values;let l;n&&(l=r[Hn]={});for(let e=0;e<i;e++){const i=r[o[e]];if(i.clear(),n){let n=l[o[e]];n?n.clear():(n=l[o[e]]=new Map,n.unique=i.unique)}}doRebuildIndices(a,r,o,i),n&&doRebuildIndices(e._filteredValues,l,o,i),e._indicesInvalid=!1}getIndices(e){const n=[this.indices[e]];return this.isFiltered&&n.push(this.indices[Hn][e]),n}addToIndices(e){Object.keys(this.indices).forEach((n=>{this.addIndexEntry(e,n,e[n])}))}removeFromIndices(e){Object.keys(this.indices).forEach((n=>{this.removeIndexEntry(e,n,e[n])}))}removeIndexEntry(e,n,r){this.getIndices(n).forEach((n=>function removeItemFromIndex(e,n,r){!1!==n.unique?n.delete(r):n.has(r)&&(n.get(r).delete(e),n.get(r).size||n.delete(r))}(e,n,r)))}addIndexEntry(e,n,r){this.getIndices(n).forEach((n=>addItemToIndex(e,n,r)))}onItemMutation(e,n){!this._indicesInvalid&&Object.keys(this.indices).length>1&&Object.keys(n).forEach((r=>{if(this.indices[r]){const{value:o,oldValue:i}=n[r];this.removeIndexEntry(e,r,i),this.addIndexEntry(e,r,o)}}))}}Collection._$name="Collection";const $n=new WeakMap,safeIndexKey=e=>{if(e&&"object"==typeof e){let n=$n.get(e);void 0===n&&(n=Symbol("bscik"),$n.set(e,n)),e=n}return e};class Bag{constructor(e){const n=this;n.generation=0,n.items=new Set,n.idMap={},n.idProperty="id",e&&(e.idProperty&&(n.idProperty=e.idProperty),e.values&&(n.values=e.values))}get(e){return this.idMap[safeIndexKey(e)]}get count(){return this.items.size}add(...e){1===e.length&&Array.isArray(e[0])&&(e=e[0]);const n=this,{items:r,idMap:o,idProperty:i}=n,a=e.length;for(let l=0;l<a;l++){const a=e[l],c=Nn[typeof a]?a:safeIndexKey(a[i]),d=o[c];null==d?(o[c]=a,r.add(a),n.generation++):d!==a&&(o[c]=a,r.delete(d),r.add(a))}}remove(e){Array.isArray(e)||(e=[e]);const{items:n,idMap:r,idProperty:o}=this,i=e.length;for(let a=0;a<i;a++){const i=e[a],l=Nn[typeof i]?i:safeIndexKey(i[o]),c=r[l];null!=c&&(n.delete(c),delete r[l],this.generation++)}}clear(){this.items.clear(),this.idMap={},this.generation++}countOf(e){let n,r=0;for(n of this.items)e(n)&&++r;return r}changeId(e,n){const r=this,{idMap:o,idProperty:i}=r,a=Nn[typeof e]?e:safeIndexKey(e[i]),l=r.get(a);if(l){const e=r.get(n);if(e&&l!==e)throw new Error(`Attempt to set item ${a} to already existing member's id ${n}`);l[i]=n,delete o[a],o[n]=l}}includes(e){const n=Nn[typeof e]?e:safeIndexKey(e[this.idProperty]);return Boolean(this.idMap[n])}map(e,n){const{items:r}=this,o=new Array(r.size);let i=0;return r.forEach((a=>{o[i]=e.call(n,a,i++,r)})),o}forEach(e,n){return this.items.forEach(e,n)}find(e,n=0){let r,o;for(r of(n<0&&(n=this.countOf(e)+n),this.items))if(e(r)&&!n--){o=r;break}return o}[Symbol.iterator](){return this.items[Symbol.iterator]()}indexOf(e,n){let r,o=-1;for(r of this.items)if((!n||n(r))&&(++o,r===e))return o;return-1}get values(){return[...this.items]}set values(e){Array.isArray(e)||(e=[e]),this.clear(),this.add.apply(this,e),this.generation++}sort(e){this.values=this.values.sort(e)}some(e,n){return this.values.some(e,n)}}Bag._$name="Bag";class StoreBag extends Bag{add(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),super.add(...e.filter((e=>e.isPersistable)))}}StoreBag._$name="StoreBag";var StoreCRUD=e=>class StoreCRUD extends(e||Base){static get $name(){return"StoreCRUD"}static get defaultConfig(){return{autoCommit:!1}}static get properties(){return{isRemoving:!1,suspendCount:0}}remove(e,n=!1){const r=this,{storage:o}=r;if(e instanceof Set&&(e=Array.from(e)),(e=(Array.isArray(e)?e:[e]).reduce(((e,n)=>((n=r.getById(n))&&e.push(n),e)),[])).length){if(r.isRemoving=!0,r.tree){const o=e.reduce(((e,n)=>{const r=n.parent;return r&&(e[r.id]||(e[r.id]=[r,[]]),e[r.id][1].push(n)),e}),{});for(const e of Object.values(o))e[0].removeChild(e[1],!1,n);return r.isRemoving=!1,e}if(r.isGrouped){const n=o.count,i=[],a=new Set;for(const n of e){const{groupParent:e}=n.instanceMeta(r);e&&e.meta.collapsed&&i.push(n),ArrayHelper.remove(e.groupChildren,n),e.meta.childCount--,a.add(e)}for(const e of a)e.groupChildren.length>0&&r.onModelChange(e,{},{});i.length&&o.trigger("change",{action:"splice",removed:i,added:[],replaced:[],oldCount:n})}if(!e.length||!n&&!1===r.trigger("beforeRemove",{records:e}))return r.isRemoving=!1,null;n&&r.suspendEvents(),o.remove(e),n&&r.resumeEvents(),r.autoCommit&&r.doAutoCommit(),r.isRemoving=!1}return e}clear(e=!1){var n,r;const o=this,{storage:i}=o;if(o.storage.totalCount||null!==(n=o.rootNode)&&void 0!==n&&null!==(r=n.unfilteredChildren)&&void 0!==r&&r.length){if(!e&&!1===o.trigger("beforeRemove",{records:i.allValues,removingAll:!0}))return null;if(o.rootNode)o.isChained||o.rootNode.clearChildren(e);else if(e){const e=o.registeredRecords;for(let n,r=e.length-1;r>=0;r--)n=e[r],n&&!n.isDestroyed&&n.unjoinStore(o)}e&&(o.removed.clear(),i.suspendEvents()),i.clear(),e&&i.resumeEvents(),o.added.clear(),o.modified.clear()}}removeAll(e=!1){const n=this,r=n.storage;let o;if(n.isRemoving=!0,e){r.suspendEvents();const e=n.registeredRecords;for(let r,o=e.length-1;o>=0;o--)r=e[o],!r||r.isDestroyed||r.isRoot||r.unjoinStore(n)}return o=n.tree?!1!==n.rootNode.clear():null!==n.clear(),e&&r.resumeEvents(),n.isRemoving=!1,o}add(e,n=!1){const r=this,o=r.storage;if(Array.isArray(e)){if(!e.length)return}else e=[e];if(r.tree=r.tree||Boolean(r.autoTree&&e[0].children),r.tree){const o=new Map,i=[];return e.forEach((e=>{const n=e[r.modelClass.parentIdField];o.has(n)||o.set(n,[]),o.get(n).push(e)})),o.forEach(((e,o)=>{const a=null==o?r.rootNode:r.getById(o);if(!a)throw new Error(`Parent node with id ${o} not found, cannot add children.`);i.push(...a.appendChild(e,n))})),i}if(!n&&!1===r.trigger("beforeAdd",{records:e}))return null;if(r.tree=r.tree||Boolean(r.autoTree&&e[0].children),r.tree)return r.rootNode.appendChild(e);const i=r.processRecords(e);return n&&r.suspendEvents(),o.add(i),n&&r.resumeEvents(),r.autoCommit&&r.doAutoCommit(),i}processRecords(e,n){return e.map((e=>{const r=this.processRecord(e.isModel?e:this.createRecord(e));return null==n||n.call(this,r),r}))}insert(e,n,r=!1){const o=this,i=o.storage,a=o.getAt(e),l=i.values,c=[];if(Array.isArray(n)||(n=[n]),!r&&!1===o.trigger("beforeAdd",{records:n}))return null;let d,u,p;if(l[u=e]===n[0]||l[u=e-1]===n[0])for(d=!0,p=0;d&&p<n.length;p++)n[p]!==l[u+p]&&(d=!1);if(d)return null;const b=o.processRecords(n,(n=>{const r=i.indexOf(n);n.children&&n.children.length&&o.autoTree&&(o.tree=!0),r>-1&&(r<e&&a&&e--,c.push(r)),n.meta.previousIndex=r}));if(o.tree){const i=o.rootNode;return i.insertChild(n,i.children&&i.children[e],r)}return o.suspendEvents(),o.storage.remove(c),o.resumeEvents(),r&&o.suspendEvents(),i.splice(e,0,...b),r&&o.resumeEvents(),o.autoCommit&&o.doAutoCommit(),b}move(e,n){this.isTree?n.parent.insertChild(e,n):this.storage.move(e,n)}setMultiple(e,n,r){const o=this,i=[],a=[];o.forEach((o=>{e(o)&&(a.push(o.set(n,r,!0)),i.push(o))})),o.trigger("updateMultiple",{records:i,all:o.records.length===i.length}),o.trigger("change",{action:"updatemultiple",records:i,all:o.records.length===i.length}),o.reapplyFilterOnUpdate&&o.isFiltered&&o.filter()}setAll(e,n){const r=this,o=[];r.forEach((r=>{o.push(r.set(e,n,!0))})),r.trigger("updateMultiple",{records:r.records,all:!0}),r.trigger("change",{action:"updatemultiple",records:r.records,all:!0}),r.reapplyFilterOnUpdate&&r.isFiltered&&r.filter()}acceptChanges(){const e=this;e.added.forEach((e=>e.clearChanges(!1))),e.modified.forEach((e=>e.clearChanges(!1))),e.added.clear(),e.modified.clear(),e.removed.clear()}commit(e=!1){const{changes:n}=this;return!(!e&&!1===this.trigger("beforeCommit",{changes:n}))&&(this.acceptChanges(),e||this.trigger("commit",{changes:n}),n)}revertChanges(){const e=this,{changes:n}=e;if(n){const r={action:"clearchanges",changes:n};e.add(e.removed.values,!0),e.remove(e.added.values,!0),e.modified.forEach((e=>e.revertChanges(!0))),e.added.clear(),e.modified.clear(),e.removed.clear(),e.trigger("change",r),e.trigger("refresh",r)}}get changes(){const e=this,n=e.modified.values.filter((e=>e.rawModifications));return e.added.count||n.length||e.removed.count?{added:e.added.values.slice(),modified:n,removed:e.removed.values.slice()}:null}get autoCommit(){return this._autoCommit}set autoCommit(e){this._autoCommit=e,e&&this.changes&&this.commit()}suspendAutoCommit(){this.suspendCount++}resumeAutoCommit(e=!0){this.suspendCount--,this.autoCommit&&e&&this.doAutoCommit()}doAutoCommit(){this.suspendCount<=0&&this.commit()}applyChangesFromStore(e){const n=this,r=e.changes;r&&(r.added&&n.add(r.added),r.removed&&n.remove(r.removed.map((e=>e.id))),r.modified&&r.modified.forEach((e=>{n.getById(e.id).set(e.modifications)})))}},StoreFilter=e=>class StoreFilter extends(e||Base){static get $name(){return"StoreFilter"}static get defaultConfig(){return{filters:null,reapplyFilterOnAdd:!1,reapplyFilterOnUpdate:!1}}set reapplyFilterOnAdd(e){this.storage.autoFilter=e}get reapplyFilterOnAdd(){return this.storage.autoFilter}set filters(e){const n=this,r=n.filters;if(r.clear(),n._filtersFunction=null,e){if("Object"===e.constructor.name)for(const n of Object.entries(e))"filterBy"===n[0]&&"function"==typeof n[1]?r.add(new CollectionFilter({filterBy:n[1]})):r.add(new CollectionFilter("Object"===n[1].constructor.name?Object.assign({property:n[0]},n[1]):{property:n[0],value:n[1]}));else Array.isArray(e)?r.add(...e.map((e=>e instanceof CollectionFilter?e:new CollectionFilter(e)))):e.isCollection?r.add(...e.values):r.add(new CollectionFilter({filterBy:e}));r.forEach((e=>e.owner=n))}}get filters(){return this._filters||(this._filters=new Collection({extraKeys:["property"]}))}set filtersFunction(e){this._filtersFunction=e}get filtersFunction(){const e=this,{filters:n,isGrouped:r}=e;if(!e._filtersFunction)if(n.count){const o=CollectionFilter.generateFiltersFunction(n);e._filtersFunction=e=>r&&e.isSpecialRow?e.groupChildren.some(o):o(e)}else e._filtersFunction=FunctionHelper.returnTrue;return e._filtersFunction}get isFiltered(){return this.filters.values.some((e=>!e.disabled))}traverseFilter(e){const n=this,r=!e.isRoot&&n.filtersFunction(e),o=e.unfilteredChildren||e.children;return o&&o.length?(e.unfilteredChildren||(e.unfilteredChildren=e.children.slice()),e.children=e.unfilteredChildren.filter((e=>n.traverseFilter(e))),e.updateChildrenIndices(e.unfilteredChildren,!0,!0),e.updateChildrenIndices(e.children,!1,!0),r||Boolean(e.children.length)):r}traverseClearFilter(e){const n=this;e.unfilteredChildren&&(e.children=e.unfilteredChildren.slice(),e.unfilteredChildren=null),e.children&&(e.children.forEach((e=>n.traverseClearFilter(e))),e.updateChildrenIndices(e.children,!1,!0))}get latestFilterField(){return this.filters.last?this.filters.last.property:null}addFilter(e,n=!1){return(e=e instanceof CollectionFilter?e:new CollectionFilter(e)).owner=this,this.filters.add(e),n||this.filter(),e}filter(e){const n=this,{filters:r}=n;let o=!1;if(e){let i=typeof e;if("object"===i&&("silent"in e||"replace"in e||e.filters)&&(o=e.silent,e.replace&&r.clear(),i=typeof(e=e.filters)),e&&(n.isConfiguring=!0,Array.isArray(e)?e.forEach((e=>n.addFilter(e,!0)),n):"function"===i?n.addFilter(new CollectionFilter(e),!0):"string"===i?n.addFilter({property:e,value:arguments[1]},!0):n.addFilter(e,!0),n.isConfiguring=!1,!n.isFiltered))return}return n.filtersFunction=null,n.performFilter(o)}performFilter(e){const n=this,{storage:r,filters:o,rootNode:i}=n,a=n.count;let l,c;if(n.trigger("beforeFilter",{filters:o}),n.tree){const e=r.values;n.isFiltered?n.traverseFilter(i):n.traverseClearFilter(i);const o=n.collectDescendants(i).visible;r.replaceValues({values:o,silent:!0});const a=ArrayHelper.delta(o,e,!0);l=a.toAdd,c=a.toRemove}else r.on({change({removed:e,added:n}){c=e,l=n},once:!0}),n.isFiltered?(n.isGrouped&&n.includeCollapsed(),r.addFilter({id:"primary-filter",filterBy:n.filtersFunction}),n.isGrouped&&n.excludeCollapsed()):r.filters.clear();n.afterPerformFilter(e?null:{action:"filter",filters:o,oldCount:a,added:l,removed:c,records:n.storage.values})}afterPerformFilter(e){this.resetRelationCache(),e&&this.triggerFilterEvent(e)}get filtered(){return this.storage.isFiltered}triggerFilterEvent(e){this.trigger("filter",e),this.remoteFilter||(this.trigger("refresh",e),this.trigger("change",e))}filterBy(e){this.filter(e)}removeFilter(e,n=!1){const r=this,o=e instanceof CollectionFilter?e:r.filters.get(e);if(o)return r.filters.remove(o),r._filtersFunction=null,n||r.filter(),o}clearFilters(){this.filters.clear(),this.filter()}convertFilterToString(e){const n=this.filters.getBy("property",e);return n&&!n.filterBy?String(n):""}doDestroy(){var e;null===(e=this._filters)||void 0===e||e.destroy(),super.doDestroy()}};const Bn={add:1,replace:1};var StoreGroup=e=>class StoreGroup extends(e||Base){static get $name(){return"StoreGroup"}static get defaultConfig(){return{groupers:null}}static get properties(){return{collapsedGroups:new Set}}construct(e){super.construct(e),this.on("change",this.onDataChanged,this)}get groupers(){return this._groupers}set groupers(e){const n=this,{storage:r}=n;null!=e&&e.length?n._groupers=e:n.groupers&&(delete n._groupers,n.includeCollapsed(),r.replaceValues({values:n.removeHeadersAndFooters(r._values),filteredValues:r.isFiltered?n.removeHeadersAndFooters(r._filteredValues):null,silent:!0}),n.group(null,null,null,!1)),n._idMap=null}get groupRecords(){const e=[];if(this.isGrouped)for(const n of this)n.isSpecialRow&&e.push(n);return e}includeCollapsed(){for(const e of this.collapsedGroups)this.expand(this.getById(e),!1)}excludeCollapsed(){for(const e of this.collapsedGroups)this.collapse(this.getById(e))}onDataChange({source:e,action:n,removed:r}){var o;const i=this,{groupers:a}=i;a&&(a.length?"splice"===n&&null!=r&&r.length&&e.replaceValues({values:i.prepareGroupRecords(),silent:!0}):e.replaceValues({values:i.removeHeadersAndFooters(e.values),silent:!0})),null===(o=super.onDataChange)||void 0===o||o.call(this,...arguments)}collapse(e){return!(!e||e.meta.collapsed)&&(this.excludeGroupRecords(e),e.meta.collapsed=!0,this.collapsedGroups.add(e.id),!0)}expand(e,n=!0){return!(null==e||!e.meta.collapsed)&&(this.includeGroupRecords(e),e.meta.collapsed=!1,n&&this.collapsedGroups.delete(e.id),!0)}removeHeadersAndFooters(e){return e.filter((e=>!e.isSpecialRow||(this.unregister(e),!1)))}prepareGroupRecords(e){const n=this,r=n.collapsedGroups,o=[];let i=n.storage.values;for(const e of i)e.isGroupHeader&&(e.meta.collapsed||r.has(e.id))&&(r.add(e.id),o.push(e));for(const e of o)n.includeGroupRecords(e);if(i=n.removeHeadersAndFooters(n.storage.values),e&&(i=i.sort(e)),!n.isGrouped)return i;const a=[],l=n.groupers[0].field;let c=null,d=null,u=0;function addFooter(){const e=d.meta.groupRowFor,r=`group-footer-${"number"==typeof e?e:StringHelper.createId(e)}`,o=n.getById(r)||new n.modelClass({id:r},n,{specialRow:!0,groupFooterFor:e,groupRecord:d});return o.stores=[n],n.register(o),o.groupChildren=d.groupChildren,d.meta.collapsed||a.push(o),n.allRecords.push(o),d.groupChildren.push(o),u++,o}return i.forEach((e=>{var o;const i=null==e[l]?"__novalue__":e[l],p=`group-header-${"number"==typeof i?i:StringHelper.createId(i)}`;0!==(null===(o=e.groupChildren)||void 0===o?void 0:o.length)?(ObjectHelper.isEqual(i,c)||(d&&(n.useGroupFooters&&addFooter(),d.meta.childCount=u),d=n.getById(p)||new n.modelClass({id:p},n,{specialRow:!0,groupRowFor:i,groupField:l,collapsed:r.has(p)}),d.stores=[n],n.register(d),d.groupChildren=[],a.push(d),n.allRecords.push(d),c=i,u=0),e.instanceMeta(n.id).groupParent=d,r.has(p)||a.push(e),d.groupChildren.push(e),u++):n.unregister(e)})),d&&(n.useGroupFooters&&addFooter(),d.meta.childCount=u),a}get isGrouped(){var e;return Boolean(null===(e=this.groupers)||void 0===e?void 0:e.length)}group(e,n,r=!1,o=!0,i=!1){const a=this;let l,c;if(e&&"object"==typeof e&&(n=e.ascending,c=e.fn,e=e.field),r)a.groupers.push(l={field:e,ascending:n,complexMapping:e.includes(".")});else if(e){var d,u;if(null==n)n=(null===(d=a.groupInfo)||void 0===d?void 0:d.field)!==e||(null===(u=a.groupInfo)||void 0===u?void 0:u.fn)!==c||!a.groupInfo.ascending;a.groupInfo=l={field:e,ascending:n,fn:c,complexMapping:e.includes(".")},a.groupers=[a.groupInfo]}if(l){const{prototype:n}=a.modelClass;l.complexMapping&&!Object.prototype.hasOwnProperty.call(n,e)&&Object.defineProperty(n,e,{get(){return ObjectHelper.getPath(this,e)}})}!1!==o&&a.sort(null,null,!1,!0),i||(a.trigger("group",{isGrouped:a.isGrouped,groupers:a.groupers,records:a.storage.values}),a.trigger("refresh",{action:"group",isGrouped:a.isGrouped,groupers:a.groupers,records:a.storage.values}))}addGrouper(e,n=!0){this.group(e,n,!0)}removeGrouper(e){const n=this,{groupers:r}=n,o=r.findIndex((n=>n.field===e));o>-1&&(r.splice(o,1),r.length?n.group():n.clearGroupers())}clearGroupers(){this.groupers=null}isRecordInGroup(e,n){var r;if(!this.isGrouped)return null;return e[null===(r=this.groupers[0])||void 0===r?void 0:r.field]===n&&!e.isSpecialRow}isInCollapsedGroup(e){const n=e.instanceMeta(this).groupParent;return null==n?void 0:n.meta.collapsed}getGroupRecords(e){return this.isGrouped?this.storage.values.filter((n=>this.isRecordInGroup(n,e))):null}getGroupTitles(){return this.isGrouped?this.getDistinctValues(this.groupers[0].field):null}onDataChanged({changes:e,action:n}){this.isGrouped&&(!e&&Bn[n]||e&&this.groupers.some((n=>n.field in e)))&&this.sort()}internalIncludeExcludeGroupRecords(e,n){const r=this,o=r.indexOf(e),{id:i,storage:a}=r,{meta:l,groupChildren:c}=e;if(!(-1===o||l.collapsed&&!n||!l.collapsed&&n)){if(c.forEach((e=>e.instanceMeta(i).hiddenByCollapse=!n)),n){const e=c.filter((e=>!r.isAvailable(e)));a.values.splice(o+1,0,...e)}else a.values.splice(o+1,c.length);a._indicesInvalid=!0,r._idMap=null}}excludeGroupRecords(e){this.internalIncludeExcludeGroupRecords(e,!1)}includeGroupRecords(e){this.internalIncludeExcludeGroupRecords(e,!0)}collectGroupRecords(e,n=!0){return(e?this.storage.allValues:this.storage.values).reduce(((e,r)=>(r.isSpecialRow&&(n&&e.push(r),r.isGroupHeader&&e.push.apply(e,r.groupChildren)),e)),[])}},StoreProxy=e=>class StoreProxy extends(e||Base){static get configurable(){return{objectify:null}}initProxy(){if(!BrowserHelper.global.Proxy)throw new Error("Proxy not supported");return new Proxy(this,{get(e,n){if(n in e)return e[n];if("$store"===n)return e;let r=e.getById(n);return r||isNaN(parseInt(n))||(r=e.getAt(parseInt(n))),r},set:(e,n,r)=>(n in e||e.isDestroying?e[n]=r:e.add(_objectSpread2({[e.modelClass.idField]:n},r)),!0),deleteProperty:(e,n)=>e.isDestroying?(delete e[n],!0):Boolean(e.remove(n).length),has(e,n){if(n in e)return!0;if(n.startsWith("{")&&n.endsWith("}")){const e=StringHelper.safeJsonParse(n);n=null==e?void 0:e.id}return e.includes(n)}})}},StoreRelation=e=>class StoreRelation extends(e||Base){static get $name(){return"StoreRelation"}initRelations(e){const n=this,r=n.modelClass.relations;e&&n.modelRelations&&n.modelRelations.forEach((e=>{e.storeDetacher&&e.storeDetacher()})),n.modelRelations&&0!==n.modelRelations.length&&!e||!r||(n.modelRelations=[],r&&r.forEach((r=>{const o=Object.assign({},r),i="string"==typeof o.store?n[o.store]:o.store;if(o.dependentStore=n,n.modelRelations.push(o),i){o.storeProperty=o.store,o.store=i;const r=i.dependentStoreConfigs;if(r.has(n)){const i=r.get(n);if(e){const e=i.find((e=>e.relationName===o.relationName));e&&ArrayHelper.remove(i,e)}i.push(o)}else r.set(n,[o]);o.collectionName&&i.initRelationCollection(o,n),i.count>0&&i.updateDependentStores("dataset",i.records)}})))}initRelationCollection(e,n){const r=this,o=e.collectionName;r.collectionStores||(r.collectionStores={}),r.collectionStores[o]={store:n,config:e},r[o+"Store"]||(r[o+"Store"]=n),r.count>0&&r.initModelRelationCollection(o,r.records)}initModelRelationCollection(e,n){const r=this;n.forEach((n=>{n.traverse((n=>{const o=e in n?`$related${StringHelper.capitalize(e)}`:e;Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:function(){return r.getCollection(this,e)},set:function(n){return r.setCollection(this,e,n)}})}))}))}resetRelationCache(){this.relationCache={},this.forEach((e=>e.initRelations()))}updateRecordRelationCache(e,n){const r=this;n&&n.forEach((n=>{const o=n.related?n.related.id:e.get(n.config.fieldName);void 0!==o&&r.cacheRelatedRecord(e,o,n.config.relationName,o)}))}getRelationCollection(e,n){const r=Model.asId(n);return this.relationCache[e]&&this.relationCache[e][r]||[]}getCollection(e,n){const{config:r,store:o}=this.collectionStores[n];return o.relationCache[r.relationName]&&o.relationCache[r.relationName][e.id]||[]}setCollection(e,n,r){const{config:o,store:i}=this.collectionStores[n];i.relationCache[o.relationName]||(i.relationCache[o.relationName]={});const a=(i.relationCache[o.relationName][e.id]||[]).slice(),l=[],c=[];i.suspendEvents(),a.forEach((e=>{r.includes(e)||(e[o.fieldName]=null,i.remove(e),c.push(e))})),r.forEach((n=>{n instanceof Model?n.stores.includes(i)||(i.add(n),l.push(n)):([n]=i.add(n),l.push(n)),n[o.fieldName]=e.id})),i.resumeEvents(),c.length&&(i.trigger("remove",{records:c}),i.trigger("change",{action:"remove",records:c})),l.length&&(i.trigger("add",{records:l}),i.trigger("change",{action:"add",records:l}))}cacheRelatedRecord(e,n,r,o=null){const i=this,a=i.relationCache[r]||(i.relationCache[r]={});null!==o&&i.uncacheRelatedRecord(e,r,o),null!=n&&ArrayHelper.include(a[n]||(a[n]=[]),e)}uncacheRelatedRecord(e,n=null,r=null){const o=this;function remove(n,r){const i=o.relationCache[n],a=i&&i[r];if(a){const n=a.indexOf(e);n>=0&&a.splice(n,1),0===a.length&&delete i[r]}}null!=r?remove(n,r):e.meta.relationCache&&Object.entries(e.meta.relationCache).forEach((([e,n])=>{remove(e,n&&n.id)}))}updateDependentStores(e,n){this.dependentStoreConfigs.forEach((r=>{r.forEach((r=>{const o=r.dependentStore,i=o.relationCache[r.relationName];return"dataset"===e?(r.collectionName&&this.initModelRelationCollection(r.collectionName,n),void o.forEach((e=>{const n=e.initRelation(r);n&&o.cacheRelatedRecord(e,n.id,r.relationName,n.id)}))):"removeall"===e?(o.forEach((e=>{e.removeRelation(r)})),void delete o.relationCache[r.relationName]):("add"===e&&r.collectionName&&this.initModelRelationCollection(r.collectionName,n),void("add"!==e&&"remove"!==e||n.forEach((n=>{const a=i&&i[n.id];switch(e){case"remove":a&&a.forEach((e=>e.removeRelation(r)));break;case"add":o.forEach((e=>{e.get(r.fieldName)==n.id&&(e.initRelation(r),o.cacheRelatedRecord(e,n.id,r.relationName))}))}}))))}))}))}updateDependentRecordIds(e,n){this.dependentStoreConfigs&&this.dependentStoreConfigs.forEach((r=>{r.forEach((r=>{const o=r.dependentStore,i=o.relationCache[r.relationName],a=i&&i[e]&&i[e].slice();a&&a.forEach((i=>{o.cacheRelatedRecord(i,n,r.relationName,e),i.set(r.fieldName,n,!1,!0)}))}))}))}},StoreSum=e=>class StoreSum extends(e||Base){static get $name(){return"StoreSum"}sum(e,n=this.storage.values){return n?n.reduce(((n,r)=>{if(r.isSpecialRow)return n;const o=Number(r[e]);return isNaN(o)?n:n+o}),0):0}min(e,n=this.storage.values){return n&&n.length?n.reduce(((n,r)=>{var o;return"number"===typeof(null===(o=r[e])||void 0===o?void 0:o.valueOf())&&r[e]<n&&(n=r[e]),n}),n[0][e]):0}max(e,n=this.storage.values){return n&&n.length?n.reduce(((n,r)=>{var o;return"number"===typeof(null===(o=r[e])||void 0===o?void 0:o.valueOf())&&r[e]>n&&(n=r[e]),n}),n[0][e]):0}average(e,n=this.storage.values){if(!n||!n.length)return 0;let r=0;const o=n.reduce(((n,o)=>{if(o.isSpecialRow)return n;const i=parseFloat(o[e]);return isNaN(i)?n:(r++,n+i)}),0);return r>0?o/r:0}groupSum(e,n){return this.sum(n,this.getGroupRecords(e))}};const stringFound=(e,n)=>-1!==String(e).toLowerCase().indexOf(n),zn={string:stringFound,number:stringFound,boolean:stringFound,date:(e,n)=>e instanceof Date&&n instanceof Date?String(e)===String(n):-1!==String(e.getMonth()+1).indexOf(n)||-1!==String(e.getDate()).indexOf(n)||-1!==String(e.getFullYear()).indexOf(n),object:(e,n)=>e===n,undefined:(e,n)=>e===n};var StoreSearch=e=>class StoreSearch extends(e||Base){static get $name(){return"StoreSearch"}search(e,n=null){const r=this.storage.values,o=r.length,i=[];if(null==e)return null;let a,l,c,d,u;for("string"==typeof e&&(e=e.toLowerCase()),a=0;a<o;a++){l=r[a];for(const r of n||l.fieldNames){var p;c=l[r],d=c instanceof Date?"date":typeof c,u=zn[d],c&&null!==(p=u)&&void 0!==p&&p(c,e)&&i.push({index:a,data:l,field:r,id:l.id})}}return i}findByField(e,n,r=!1){const o=this.storage.values,i=o.length,a=new Set,l=[];let c,d,u;for(null!=n&&(n=String(n).toLowerCase()),c=0;c<i;c++)if(d=o[c],u=d[e],!r||!a.has(u)){const e=u instanceof Date?"date":typeof u;(null==n&&u===n||n&&(0,zn[e])(u,n))&&(l.push({id:d.id,index:c,data:d}),r&&a.add(u))}return l}find(e,n=!1){let r=n?this.storage.allValues:this.storage.values;return this.isGrouped&&(r=this.collectGroupRecords(n,!1)),r.find(e)}findRecord(e,n,r=!1){const matchFn=r=>ObjectHelper.isEqual(r[e],n);return this.isTree?this.query(matchFn,r)[0]:(r?this.storage.allValues:this.storage.values).find(matchFn)}query(e,n=!1){let r=n?this.storage.allValues:this.storage.values;if(this.isTree){const r=[];return this.traverse((n=>{e(n)&&r.push(n)}),void 0,void 0,n),r}return this.isGrouped&&(r=this.collectGroupRecords(n,!1)),r.filter(e)}some(e,n=!1){let r=n?this.storage.allValues:this.storage.values;return this.isGrouped&&(r=this.collectGroupRecords(n,!1)),r.some(e)}};const Vn=/\./;var StoreSort=e=>class StoreSort extends(e||Base){static get $name(){return"StoreSort"}static get defaultConfig(){return{sorters:[],useLocaleSort:null}}static get configurable(){return{reapplySortersOnAdd:!1}}get isSorted(){return Boolean(this.sorters.length)||this.isGrouped}updateReapplySortersOnAdd(e){this.storage.autoSort=e}sort(e,n,r=!1,o=!1){const i=this,a=i.allRecords,l=i.sorters?i.sorters.slice():[];let c,d=null;if(e)if(Array.isArray(e))i.sorters=e.map((e=>i.normalizeSorterConfig(e,"string"==typeof e||n)));else{const o=i.normalizeSorterConfig(e,n);r?(c=i.getCurrentSorterByField(o.field),c?(d=c.ascending,c.ascending=o.ascending):i.sorters.push(o)):i.sorters=[o]}return o||!1!==i.trigger("beforeSort",{sorters:i.sorters,records:a,currentSorters:l})?i.performSort(o):(i.sorters=l,void(null!==d&&(c.ascending=d)))}normalizeSorterConfig(e,n){const r=this,o={ascending:n};var i;"object"==typeof e?(ObjectHelper.assign(o,e),e.fn&&(delete o.fn,o.sortFn=e.fn),o.ascending=null!==(i=e.ascending)&&void 0!==i?i:n):"function"==typeof e?o.sortFn=e:o.field=e;if(null==o.ascending){const e=r.getCurrentSorterByField(o.field);o.ascending=!e||!e.ascending}if(null==o.sortFn){var a,l;const e=null===(a=r.modelClass)||void 0===a||null===(l=a.$meta.fields.map[o.field])||void 0===l?void 0:l.compareItems;e&&(o.sortFn=e)}return o}getCurrentSorterByField(e){return"string"==typeof e&&this.sorters.find((n=>n.field===e))||null}addSorter(e,n=!0){this.sort(e,n,!0)}removeSorter(e){const n=this.sorters.findIndex((n=>n.field===e||n.sortFn===e));n>-1&&(this.sorters.splice(n,1),this.sort())}clearSorters(){this.sorters.length&&(this.sorters.length=0,this.sort())}createSorterFn(e){const n=this.useLocaleSort;return(r,o)=>{for(let i=0;i<e.length;i++){const a=e[i],{field:l,ascending:c=!0,useLocaleSort:d=n}=a,u=a.fn||a.sortFn,p=c?1:-1;if(u){const e=u(r,o);if(null!==e)return e*p}const b=Vn.test(l),g=b?r.get(l):r[l],m=b?o.get(l):o[l];if(g!==m){if(null==g)return-p;if(null==m)return p;if(d){if(!0===d)return String(g).localeCompare(m)*p;if("string"==typeof d)return String(g).localeCompare(m,d)*p;if("object"==typeof d)return String(g).localeCompare(m,d.locale,d)*p}if(g>m)return p;if(g<m)return-p}}return 0}}performSort(e){const n=this,{rootNode:r,storage:o,sorters:i}=n,a=n.createSorterFn(n.isGrouped?n.groupers.concat(i):i);n.tree?(r.traverse((e=>{e.isLoaded&&e.isParent&&(e.children.sort(a),e.updateChildrenIndices(e.children,!1,!0))})),o.replaceValues({values:n.collectDescendants(r).visible,silent:!0})):n.isGrouped?o.replaceValues({values:n.prepareGroupRecords(a),silent:!0}):o.replaceValues({values:o.values.sort(a),silent:!0}),n.afterPerformSort(e)}afterPerformSort(e){const n=this;if(n._idMap=null,!e){const e={action:"sort",sorters:n.sorters,records:n.allRecords};n.trigger("sort",e),n.sortParamName||n.trigger("refresh",e)}}};const returnTrue=e=>!0;var StoreChained=e=>class StoreChained extends(e||Base){static get $name(){return"StoreChained"}static get defaultConfig(){return{chainedFilterFn:null,chainedFields:null,masterStore:null,doRelayToMaster:["add","remove","insert"],dontRelayToMaster:[],keepUncommittedChanges:!1,excludeCollapsedRecords:!0}}static get properties(){return{chainedStores:null}}construct(e){super.construct(e);const n=this,{masterStore:r}=n,o=n.syncOrder?"sort":"";r&&(n.methodNamesToRelay.forEach((e=>n[e]=(...r)=>n.relayToMaster(e,r))),n.removeAll=(...e)=>{r.remove(n.getRange(),...e)},r.on({changePreCommit:n.onMasterDataChangedPreCommit,change:n.onMasterDataChanged,[o]:n.onMasterDataChanged,prio:1,thisObj:n}),r.chainedStores||(r.chainedStores=[]),r.chainedStores.push(n),n.fillFromMaster())}get isChained(){return Boolean(this.masterStore)}set chainedFilterFn(e){this._chainedFilterFn=this.thisObj?e.bind(this.thisObj):e}get chainedFilterFn(){return this._chainedFilterFn||returnTrue}get methodNamesToRelay(){const e=Array.isArray(this.doRelayToMaster),n=Array.isArray(this.dontRelayToMaster);return e&&this.doRelayToMaster.filter((e=>!n||!this.dontRelayToMaster.includes(e)))||[]}updateChainedStores(){this.chainedStores&&this.chainedStores.forEach((e=>e.fillFromMaster()))}fillFromMaster(){const e=this,{masterStore:n,isTree:r}=e,o=e.chainedFilterFn.length>0||e.chainedFilterFn.toString().length<=10;let i;if(!e.isChained)throw new Error("fillFromMaster only allowed on chained store");if(e.keepUncommittedChanges){if(r)throw new Error("Cannot use keepUncommittedChanges on a chained tree store");i=o?n.allRecords.filter((n=>!e.removed.includes(n)&&!e.added.includes(n)&&e.chainedFilterFn(n))):e.chainedFilterFn().filter((n=>!e.removed.includes(n)&&!e.added.includes(n))),i=e.added.values.filter((n=>!e.removed.includes(n))).concat(i)}else if(i=o?n.allRecords.filter(e.chainedFilterFn):e.chainedFilterFn(),r&&(e.idRegister={},e.internalIdRegister={},i.forEach((n=>{n.stores.includes(e)?e.register(n):n.joinStore(e)})),e.excludeCollapsedRecords)){const n=e.getChildren(e.rootNode);i=e.doIncludeExclude(n,!0)}e.data=i}commitToMaster(){const e=this,n=e.masterStore;if(!e.isChained)throw new Error("commitToMaster only allowed on chained store");return n.beginBatch(),n.remove(e.removed.values),n.add(e.added.values),n.endBatch(),e.commit()}relayToMaster(e,n){return this.masterStore[e](...n)}onMasterDataChangedPreCommit(e){this.onMasterDataChanged(e),this.$masterEventhandled=!0}onMasterDataChanged({action:e,changes:n,$handled:r,isMove:o}){var i;this.$masterEventhandled?this.$masterEventhandled=!1:o&&"remove"===e||("update"!==e||null!==(i=this.chainedFields)&&void 0!==i&&i.some((e=>e in n)))&&this.fillFromMaster()}makeChained(e=returnTrue,n,r){return new((null==r?void 0:r.storeClass)||this.constructor)(Object.assign(r||{},{tree:!1,autoTree:!1,masterStore:this,modelClass:this.modelClass,chainedFilterFn:e,chainedFields:n}))}chain(){return this.makeChained(...arguments)}doDestroy(){var e;null===(e=this.chainedStores)||void 0===e||e.forEach((e=>e.destroy())),super.doDestroy()}},StoreState=e=>class StoreState extends(e||Base){static get $name(){return"StoreState"}getState(){const{sorters:e,groupers:n,filters:r}=this,o={};return null!=e&&e.length&&(o.sorters=e.map((e=>{const n=ObjectHelper.cleanupProperties(ObjectHelper.clone(e));return delete n.fn,delete n.sortFn,n}))),null!=n&&n.length&&(o.groupers=n.slice()),null!=r&&r.values.length&&(o.filters=r.values.map((e=>{const n=ObjectHelper.cleanupProperties(ObjectHelper.clone(e.config));return n.value=e.value,n.caseSensitive&&delete n.caseSensitive,n}))),o}applyState(e){const n=this,{sorters:r=[],groupers:o=[],filters:i=[]}=e;n.sorters=r.slice(),n.groupers=o.slice(),n.sort(),n.filters=i.filter((e=>e.property||e.filterBy)),n.filter()}};const Wn=Object.freeze([]);var StoreTree=e=>class StoreTree extends(e||Base){static get $name(){return"StoreTree"}static get configurable(){return{transformFlatData:null}}get isTree(){return this.tree||this.masterStore&&this.masterStore.tree}get leaves(){const e=this,n=[];return e.isTree?(e.traverse((e=>{e.isLeaf&&n.push(e)})),n):(e.allRecords.forEach((e=>{e.isLeaf&&n.push(e),e.traverse((e=>{e.isLeaf&&n.push(e)}),!0)})),n)}async loadChildren(e){}onNodeAddChild(e,n,r,o,i=!1){const a=this,l=e===a.rootNode&&e.isLoading,{storage:c}=a,d=[],u=[],p=n[0].previousSibling;let b;if(a.collectDescendants(n,d,u,{inCollapsedBranch:!(e.isExpanded(a)&&e.ancestorsExpanded(a))}),!l&&u.length)for(const e of u)a.modified.includes(e)||o[e.id]||(a.removed.includes(e)?a.removed.remove(e):a.added.add(e));var g;if(l&&a.rootVisible&&(d.unshift(e),u.unshift(e)),d.length&&(b=0!==r&&p?c.indexOf(p)+p.getDescendantCount(!0,a):c.indexOf(e),c.suspendEvents(),a.storage.splice(++b,0,d),c.resumeEvents()),a.updateDependentStores("add",n),l&&d.length){if(a.sorters.length&&a.sort(null,null,!1,!0),null===(g=a.afterLoadData)||void 0===g||g.call(a),!i){const e={action:"dataset",data:a._data,records:d};a.trigger("refresh",e),a.trigger("change",e)}}else if(!i){const r={action:"add",parent:e,isChild:!0,isMove:o,records:n,allRecords:u,index:b};if(a.trigger("add",r),a.trigger("change",r),Object.values(o).some((e=>e))){const r={newParent:e,records:n.filter((e=>o[e.id]))};a.trigger("move",r)}}}onNodeRemoveChild(e,n,r,o={isMove:!1,silent:!1,unfiltered:!1}){const i=this,{storage:a}=i,l=[],c=[],{isMove:d,silent:u,unfiltered:p}=o,b=p&&i.isFiltered,g=b&&e.unfilteredChildren?e.unfilteredChildren:n;if(i.collectDescendants(g,l,c,{inCollapsedBranch:!(e.isExpanded(i)&&e.ancestorsExpanded(i)),unfiltered:b}),!d){for(const e of n)e.unjoinStore(i);if(c.length){for(const e of c)e.stores.includes(i)&&e.unjoinStore(i),i.added.includes(e)?i.added.remove(e):i.removed.add(e);i.modified.remove(c)}}if(l.length?(r=a.indexOf(l[0]))>-1&&(a.suspendEvents(),a.splice(r,l.length),a.resumeEvents()):r=-1,!u){const o={action:"remove",parent:e,isChild:!0,isMove:d,records:n,allRecords:c,index:r};i.trigger("remove",o),i.trigger("change",o)}}collectDescendants(e,n=[],r=[],o={inCollapsedBranch:!1,unfiltered:!1}){const i=this,{inCollapsedBranch:a,unfiltered:l}=o,c=Array.isArray(e)?e:i.getChildren(e,l);if(c)for(let e,o=0,d=c.length;o<d;o++)e=c[o],a||n.push(e),r.push(e),i.collectDescendants(e,n,r,{inCollapsedBranch:a||!e.isExpanded(i),unfiltered:l});return{visible:n,all:r}}getChildren(e,n=!1){const r=(n||this.isChained)&&e.unfilteredChildren||e.children;return r&&r.length?this.isChained?r.filter(this.chainedFilterFn):r:Wn}internalToggleTreeSubRecords(e,n){const r=this,{storage:o}=r,i=o.indexOf(e),a=r.doIncludeExclude(r.getChildren(e),n);if(r.isFiltered&&n&&e.unfilteredChildren&&r.updateChildrenHiddenState(e),a.length&&!1!==i){if(o.suspendEvents(),n){o.splice(i+1,0,...a);const e={action:"add",isExpand:!0,records:a,index:i+1};r.trigger("add",e),r.trigger("change",e)}else{o.splice(i+1,a.length);const e={action:"remove",isCollapse:!0,records:a,index:i+1};r.trigger("remove",e),r.trigger("change",e)}o.resumeEvents()}}updateChildrenHiddenState(e){var n;null===(n=e.unfilteredChildren)||void 0===n||n.forEach((e=>{e.instanceMeta(this.id).hidden=!1,e.isLeaf||this.updateChildrenHiddenState(e)}))}doIncludeExclude(e,n,r=[]){const o=this,i=(null==e?void 0:e.length)||0;for(let a=0;a<i;a++){const i=e[a];if(!o.isChained||o.chainedFilterFn(i)){const e=i.instanceMeta(o.id);!n&&e.hidden||r.push(i),e.hidden=!n,i.isExpanded(o)&&o.doIncludeExclude(o.getChildren(i),n,r)}}return r}async toggleCollapse(e,n){const r=this,o=r.getById(e),i=o.instanceMeta(r);if(void 0===n&&(n=!i.collapsed),!i.isLoadingChildren&&!o.isLeaf&&o.isExpanded(r)===n){if(r.trigger("beforeToggleNode",{record:o,collapse:n}),i.collapsed=n,i.collapsed)return r.onNodeCollapse(o),!0;{r.onNodeExpand(o);let e=!0;if(!o.isLoaded){i.isLoadingChildren=!0;try{await r.loadChildren(o)}catch(n){i.collapsed=!0,e=!1,r.trigger("loadChildrenException",{record:o,exception:n})}finally{i.isLoadingChildren=!1}}return e}}}onNodeCollapse(e){if(e.ancestorsExpanded(this))return this.internalToggleTreeSubRecords(e,!1)}onNodeExpand(e){if(e.ancestorsExpanded(this))return this.internalToggleTreeSubRecords(e,!0)}transformToTree(e){const{parentIdField:n,idField:r,childrenField:o}=this.modelClass,i=new Map,a=[];for(const c of e){const d=c[n];if(null!=d){let n=i.get(d);var l;if(void 0===n)n=null!==(l=e.find((e=>e[r]===d)))&&void 0!==l?l:null,i.set(d,n);n&&(n[o]||(n[o]=[]),n[o].push(c))}else a.push(c)}return a}treeifyFlatData(e){const{childrenField:n,parentIdField:r}=this.modelClass;let o=!1,i=!0;for(const a of e){if(a.isModel||Array.isArray(a[n])){i=!1;break}null!=a[r]&&(o=!0)}return i&&o&&(e=this.transformToTree(e)),e}};class WalkHelper{static preWalk(e,n,r){const o=[e];let i,a;for(;o.length;)i=o.pop(),r(i),a=n(i),a&&o.push.apply(o,a.slice().reverse())}static preWalkWithParent(e,n,r){const o=[{node:e,parent:null}];for(;o.length;){const{parent:e,node:i}=o.pop();r(e,i);const a=n(i);Array.isArray(a)&&o.push(...a.slice().reverse().map((e=>({node:e,parent:i}))))}}static preWalkUnordered(e,n,r){let o,i,a=[e];for(;a.length;)o=a[a.length-1],r(o),i=n(o),i?a.splice(a.length-1,1,...i):a.length=a.length-1}static postWalk(e,n,r){let o,i,a=new Map,l=[e];for(;l.length;)o=l[l.length-1],a.has(o)?(r(o),l.pop()):(i=n(o),i&&(l=l.concat(i.slice().reverse())),a.set(o,o))}static prePostWalk(e,n,r,o){let i,a,l=new Map,c=[e];for(;c.length;)i=c[c.length-1],l.has(i)?(o(i),c.pop()):(r(i),a=n(i),a&&(c=c.concat(a.slice().reverse())),l.set(i,i))}}WalkHelper._$name="WalkHelper";var StoreSync=e=>class StoreSync extends(e||Base){static get $name(){return"StoreSync"}static get defaultConfig(){return{syncDataOnLoad:null}}syncDataset(e){const n=this,{storage:r}=n,{toAdd:o,toRemove:i,updated:a}=n.tree?n.syncTreeDataset(e):n.syncFlatDataset(e);let{threshold:l}=n.syncDataOnLoad,c=!1;if(l&&("string"==typeof l&&(l=parseInt(l,10)/100*n.count),c=o.length+i.length+a.length>l),n.tree){if(o.length){n.add(o,c).forEach((e=>e.clearParentId()))}n.remove(i,c)}else c&&n.suspendEvents(),n.remove(i),n.add(o),c&&n.resumeEvents();l&&!c&&a.forEach((({record:e,toSet:r,wasSet:o})=>n.onModelChange(e,r,o))),n.acceptChanges();const d={added:o,removed:i,updated:a,thresholdSurpassed:c};c&&this.trigger("refresh",{action:"batch",data:e,records:r.values,syncInfo:d}),n.isFiltered&&n.filter(),n.isGrouped?n.group():n.isSorted&&n.sort(),n.trigger("loadSync",d)}syncFlatDataset(e){if(!e)return;const n=this,r=n.modelClass.idField,o=[],i=[],a=[],l={},{threshold:c}=n.syncDataOnLoad;let d=0;return e.forEach((e=>{const o=(e=e.isModel?e.data:e)[r],u=n.getById(o);if(u){const n=u.set(e,null,Boolean(c));n&&a.push({record:u,wasSet:n,toSet:e}),d++}else i.push(n.processRecord(n.createRecord(e)));l[o]=1})),d<n.allCount&&n.forEach((e=>{l[e.id]||o.push(e)})),{toAdd:i,toRemove:o,updated:a}}syncTreeDataset(e){if(!e)return;const n=this,{idField:r,parentIdField:o,childrenField:i}=n.modelClass,a=[],l=[],c=[],d={};n.transformFlatData&&(e=n.treeifyFlatData(e));const{threshold:u}=n.syncDataOnLoad;return WalkHelper.preWalkWithParent({isRoot:!0,children:e},(e=>e.children),((e,a)=>{if(e){const p=a[r],b=n.getById(p);if(b){let e;const r=b.children;!0!==r&&!0===a[i]&&(b.clearChildren(),b.data[i]=b.children=!0,delete a[i],n.toggleCollapse(b,!0),e=!0);const o=b.set(a,null,Boolean(u));o?c.push({record:b,wasSet:o,toSet:a}):e&&b.signalNodeChanged({[i]:{value:!0,oldValue:r}})}else a[o]=e[r],l.push(_objectSpread2(_objectSpread2({},a),Array.isArray(a[i])?{children:[]}:void 0));d[p]=1}})),n.traverse((e=>{d[e.id]||a.push(e)})),{toAdd:l,toRemove:a,updated:c}}};const Un=Symbol("STM_PROP");var StoreStm=e=>class StoreStm extends(e||Base){static get $name(){return"StoreStm"}static get defaultConfig(){return{stm:null}}get stm(){return this[Un]}set stm(e){const n=this;n.stm!=e&&(n.stm&&n.stm.hasStore(n)&&n.stm.removeStore(n),n[Un]=e,n.stm&&!n.stm.hasStore(n)&&n.stm.addStore(n))}add(e,n=!1){let r;const o=this.stm;return this.tree||!o||o.disabled?r=super.add(e,n):(r=super.add(e,n),r&&r.length&&o.onStoreModelAdd(this,r,n)),r}insert(e,n,r=!1){let o;const i=this.stm;if(this.tree||!i||i.disabled)o=super.insert(e,n,r);else{const a=(Array.isArray(n)?n:[n]).reduce(((e,n)=>{const r=n instanceof Model?this.indexOf(n):void 0;return void 0!==r&&-1!==r&&e.set(n,r),e}),new Map);o=super.insert(e,n),o&&o.length&&(e=this.indexOf(o[0]),i.onStoreModelInsert(this,e,o,a,r))}return o}remove(e,n=!1,r){let o;const i=this.stm;if(this.tree||!i||i.disabled)o=super.remove(e,n,r);else{const a=(Array.isArray(e)?e:[e]).map((e=>this.getById(e))).filter((e=>!!e)).reduce(((e,n)=>{const r=this.indexOf(n);return void 0!==r&&-1!=r&&e.set(n,r),e}),new Map);o=super.remove(e,n,r),o&&o.length&&i.onStoreModelRemove(this,o,a,n)}return o}removeAll(e){const n=this.stm;let r;if(n&&!n.disabled){const{tree:o,rootNode:i,allRecords:a}=this,l=a.length,c=o?i.children.slice():a.slice();r=super.removeAll(e),l&&0===this.count&&n.onStoreRemoveAll(this,c,e)}else r=super.removeAll(e);return r}};const Gn={splice:1,clear:1};class Store extends(Base.mixin(Identifiable,Events,Pluggable,State,StoreFilter,StoreCRUD,StoreRelation,StoreSum,StoreSearch,StoreSort,StoreGroup,StoreChained,StoreState,StoreTree,StoreStm,StoreSync,StoreProxy)){static get $name(){return"Store"}static get properties(){return{relationCache:{},dependentStoreConfigs:new Map}}static get configurable(){return{id:!0,modelClass:Model}}static get defaultConfig(){return{fields:null,autoTree:!0,data:null,tree:!1,callOnFunctions:!0,storage:null,useRawData:!1,allowNoId:!0,preventSubClassingModel:null}}static get identifiable(){return{registerGeneratedId:!1}}constructor(...e){if(super(...e),this.objectify)return this.initProxy()}construct(e={}){Object.assign(this,{added:new StoreBag,removed:new StoreBag,modified:new StoreBag,idRegister:{},internalIdRegister:{}}),e.storeId&&(e=ObjectHelper.assign({id:e.storeId},e)),super.construct(e),this.initRelations()}static from(e,n={},r=null){return e&&!e.isStore&&("string"==typeof e?e=Store.getStore(e):(Array.isArray(e)&&(r&&(e=e.map((e=>e.isModel?e:r(e)))),e=ObjectHelper.assign({},n,{data:e})),e=new Store(e))),e}doDestroy(){var e,n,r;const o=this,i=o.registeredRecords;for(let e,n=i.length-1;n>=0;n--){var a;e=i[n],null!==(a=e)&&void 0!==a&&a.isDestroyed||e.unjoinStore(o)}var l;(null===(e=o._storage)||void 0===e||e.destroy(),null===(n=o.stm)||void 0===n||null===(r=n.removeStore)||void 0===r||r.call(n,o),o.isChained)||(null===(l=o.rootNode)||void 0===l||l.destroy());super.doDestroy()}beginBatch(){this.suspendEvents()}endBatch(){this.resumeEvents()&&this.trigger("refresh",{action:"batch",data:this.storage.values,records:this.storage.values})}set storage(e){const n=this;null!=e&&e.isCollection?n._storage=e:n._storage=new Collection(e),n._storage.autoFilter=n.reapplyFilterOnAdd,n._storage.autoSort=n.reapplySortersOnAdd;for(const e of n._storage)e.joinStore(n);n._storage.on({change:"onDataChange",thisObj:n})}get storage(){return this._storage||(this.storage={}),this._storage}get allRecords(){const e=this;if(e.isTree){const n=e.collectDescendants(e.rootNode,void 0,void 0,{unfiltered:!0}).all;return e.rootVisible&&n.unshift(e.rootNode),n}return e.isGrouped?e.collectGroupRecords():e.storage.allValues}onIsCreatingToggle(e,n){const r=this,o=e.isPersistable&&!n;r.added[o?"add":"remove"](e),o&&(r.trigger("addConfirmed",{record:e}),r.autoCommit&&r.doAutoCommit())}joinRecordsToStore(e){e.forEach((e=>{e.joinStore(this)}))}onDataChange({source:e,action:n,added:r,removed:o,replaced:i,oldCount:a,items:l,from:c,to:d}){const u=this,p=Gn[n],b=p&&(null==r?void 0:r.length),g=p&&(null==o?void 0:o.length);let m,f;if(u._idMap=null,b&&u.joinRecordsToStore(r),null==i||i.forEach((([e,n])=>{e.unjoinStore(u,!0),n.joinStore(u)})),super.onDataChange(...arguments),!u.isTree){if(b){for(const e of r)u.removed.includes(e)?u.removed.remove(e):u.added.add(e);m=!u.remoteFilter&&u.filtered&&u.reapplyFilterOnAdd,m&&u.filter({silent:!0}),f=!u.sortParamName&&u.isSorted&&u.reapplySortersOnAdd,f&&u.sort(null,null,!1,!0)}if(g){for(const e of o)e.cancelBatch(),e.unjoinStore(u),u.added.includes(e)?u.added.remove(e):e._undoingInsertion||e.meta.isCreating||u.removed.add(e);u.modified.remove(o),m=!u.remoteFilter&&u.filtered,m&&u.filter({silent:!0})}}switch(n){case"clear":u.relationCache={},u.updateDependentStores("removeall"),u.trigger("removeAll"),u.trigger("change",{action:"removeall"});break;case"splice":if(b){u.updateDependentStores("add",r);const n=r.reduce(((e,n)=>{const{previousIndex:r}=n.meta;return r>-1&&r<e&&(e=r),e}),r[0].meta.previousIndex),o={records:r,index:e.indexOf(r[0],!e.autoFilter)};n>-1&&(o.oldIndex=n),u.trigger("add",o),u.trigger("change",Object.assign({action:"add"},o)),m&&u.triggerFilterEvent({action:"filter",filters:u.filters,oldCount:a,records:u.storage.allValues}),f&&u.trigger("sort",{action:"sort",sorters:u.sorters,records:u.storage.allValues})}o.length&&(u.updateDependentStores("remove",o),u.trigger("remove",{records:o}),u.trigger("change",{action:"remove",records:o})),i.length&&(u.trigger("replace",{records:i,all:u.records.length===i.length}),u.trigger("change",{action:"replace",replaced:i,all:u.records.length===i.length}));break;case"filter":(u.isGrouped||u.isSorted)&&u.performSort(!0);break;case"move":for(let e=u.storage.allValues,n=Math.min(c,d);n<=Math.max(c,d);n++)e[n].setData("parentIndex",n);u.trigger("move",{record:l[0],records:l,from:c,to:d}),u.isFiltered&&u.performFilter(),u.trigger("change",{action:n,record:l[0],records:l,from:c,to:d})}}onDataReplaced(e,n){var r;const o=this,i=o.storage.allValues;for(let e=0;e<i.length;e++)i[e].joinStore(o);if(o.prepareGroupRecords(),!o.remoteFilter&&o.isFiltered&&o.filter({silent:!0}),o.isGrouped&&o.group(null,null,!1,!o.sorters.length,!0),!o.sortParamName&&o.sorters.length&&o.sort(null,null,!1,!0),!o.useRawData.disableDuplicateIdCheck){const e=o.idMap;if(Object.keys(e).length<o.storage.values.length){const n=[];throw o.storage.values.forEach((r=>e[r.id]?delete e[r.id]:n.push(r))),new Error(`Id collision on ${n.map((e=>e.id))}`)}}const a={action:e,data:n,records:o.storage.values};o.updateDependentStores(e,a.records),null===(r=o.afterLoadData)||void 0===r||r.call(o),o.trigger("refresh",a),o.trigger("change",a)}onModelChange(e,n,r,o,i){const a=this,l=e.constructor.idField,c={record:e,records:[e],changes:r,batch:null!=e.batching,fromRelationUpdate:i},d=!e.ignoreBag&&a.updateModifiedBagForRecord(e);if(a.storage.onItemMutation(e,r),!o){if(l in r){const{oldValue:r,value:o}=n[l];a.updateDependentRecordIds(r,o),a.onRecordIdChange({record:e,oldValue:r,value:o}),a.trigger("idChange",{store:a,record:e,oldValue:r,value:o})}a.onUpdateRecord(e,r),a.trigger("update",c),a.trigger("change",Object.assign({action:"update"},c))}a.autoCommit&&d&&a.doAutoCommit()}updateModifiedBagForRecord(e){const n=this;let r=!1;return e.isModified?n.modified.includes(e)||n.added.includes(e)||!e.isPartOfStore(n)||e.isAutoRoot||(e.isPhantom?n.added.add(e):n.modified.add(e),r=!0):n.modified.remove(e),r}get idMap(){const e=this,n=e.storage.values,r=!e._idMap,o=e._idMap||(e._idMap={});if(r)for(let e,r=0,i=0;r<n.length;r++)e=n[r],o[e.id]={index:r,visibleIndex:i,record:e},e.isSpecialRow||i++;return o}changeModelClass(e){const n=this.fields;let r=null;return r=null!=n&&n.length?class extends e{static get fields(){return n}}:this.preventSubClassingModel?e:class extends e{},r.initClass(),r}set storeId(e){this.id=e}get storeId(){return this.id}changeId(e,n){return super.changeId(!0!==e&&e,n)}updateId(e,n){const r=Store.getById(e);r&&Store.unregisterInstance(r),super.updateId(e,n)}generateAutoId(){return Store.generateId("store-")}get tree(){return this._tree}set tree(e){this._tree=e,e&&!this.rootNode&&(this.rootNode=this.buildRootNode(),this.rootNode.isAutoRoot=!0)}buildRootNode(){return{}}static getStore(e,n){if(e instanceof Store)return e;if(this.getById(e))return this.getById(e);if(Array.isArray(e)){let r;const o=e.map((e=>(e instanceof Model?r=e.constructor:"string"==typeof e&&(e={text:e}),e)));e={autoCreated:!0,data:o,modelClass:r||class extends Model{},allowNoId:!0},n||(n=Store)}return n?new n(e):void 0}static get stores(){return Store.registeredInstances}get rootNode(){return this.masterStore?this.masterStore.rootNode:this._rootNode}set rootNode(e){var n;const r=this,o=r._rootNode;e!==o&&(o&&r.clear(!0),e instanceof Model?(e.instanceMeta(r).collapsed=!1,r._rootNode=e):r._rootNode=e=new r.modelClass(Object.assign({expanded:!0,[r.modelClass.idField]:`${r.id}-rootNode`},e),r,null,!0),r._tree=!0,e.isRoot=!0,e.joinStore(r),(null!==(n=e.children)&&void 0!==n&&n.length||r.rootVisible)&&(e.isLoading=!0,r.onNodeAddChild(e,e.children||[],0),e.isLoading=!1),r.trigger("rootChange",{oldRoot:o,rootNode:e}))}set data(e){var n;this.transformFlatData&&(null===(n=e)||void 0===n?void 0:n.length)>0&&!Object.isExtensible(e[0])&&(this.useRawData=this.useRawData||{disableDuplicateIdCheck:!1,disableDefaultValue:!1,disableTypeConversion:!1},e=ObjectHelper.clone(e)),this.setStoreData(e)}setStoreData(e){var n;const r=this,{idField:o,childrenField:i}=r.modelClass;if(r.getConfig("plugins"),r.processConfiguredListeners(),e&&!Array.isArray(e)&&(e=ObjectHelper.transformNamedObjectToArray(e,o)),r.tree=!r.isChained&&(r.tree||Boolean(r.autoTree&&(null===(n=e)||void 0===n?void 0:n.some((e=>e[i]))))),r.syncDataOnLoad&&r._data)r.syncDataset(e);else{if(r._data=e,r.tree){r.transformFlatData&&(e=r.treeifyFlatData(e));const n=r.rootNode;if(n.isLoading=!0,r.clear(!0),n.appendChild(e),r.updateDependentStores("dataset",[n]),n.isLoading=!1,0===e.length){const e={action:"dataset",data:[],records:[]};r.trigger("refresh",e),r.trigger("change",e)}else r.isFiltered&&r.filter()}else r.loadData(e);r.added.clear(),r.removed.clear(),r.modified.clear()}}loadData(e,n="dataset"){const r=this,{storage:o,allowNoId:i}=r,a=r.modelClass.fieldMap.id.dataSource;if(r.removeHeadersAndFooters(r.storage.values),r._idMap=null,e){if(!(e[0]instanceof Model)){r.modelClass.exposeProperties(e[0]);const n=e.length,l=new Array(n);for(let o=0;o<n;o++){const n=e[o];if(!i&&null==n[a])throw new Error(`Id required but not found on row ${o}`);l[o]=r.processRecord(r.createRecord(n,!0),!0),l[o].setData("parentIndex",o)}r.clear(!0),o.replaceValues({values:l,isNewDataset:!0,silent:!0})}else r.clear(!0),o.replaceValues({values:e.slice(),isNewDataset:!0,silent:!0});r.onDataReplaced(n,e)}else r.clear(!0),r._data=null}get data(){return this._data}getRange(e,n,r=!0){return(r?this.storage.allValues:this.storage.values).slice(e,n)}createRecord(e,n=!1){return new this.modelClass(e,this,null,n)}processRecord(e,n=!1){return e}refreshData(){this.filter(),this.sort()}onRecordIdChange({record:e,oldValue:n,value:r}){const o=this,i=o._idMap,{idRegister:a}=o;o.storage._indicesInvalid=!0,i&&(delete i[n],i[r]=e),o.added.changeId(n,r),o.removed.changeId(n,r),o.modified.changeId(n,r),delete a[n],a[r]=e,e.index=o.storage.indexOf(e)}onUpdateRecord(e,n){const{internalId:r}=n,{internalIdRegister:o}=this;r&&(this.storage._indicesInvalid=!0,delete o[r.oldValue],o[r.value]=e),this.reapplyFilterOnUpdate&&this.isFiltered&&this.filter()}get useRawData(){return this._useRawData}set useRawData(e){this._useRawData=!0===e?{enabled:!0,disableDuplicateIdCheck:!0,disableTypeConversion:!0,disableDefaultValue:!1}:e?Object.assign(e,{enabled:!0}):{enabled:!1}}getCount(e=!0){return e?this.count:this.originalCount}get originalCount(){var e;return this.storage.totalCount-((null===(e=this.groupRecords)||void 0===e?void 0:e.length)||0)}get count(){return this.storage.count}get allCount(){return this.isTree?this.rootNode.descendantCount:this.storage.totalCount}get records(){return this.storage.values}get first(){return this.storage.values[0]}get last(){return this.storage.values[this.storage.values.length-1]}getAt(e,n=!1){return this.storage.getAt(e,n)}register(e){const n=this,r=n.isTree&&n.idRegister[e.id];if(r&&r!==e)throw new Error(`Id collision on ${e.id}`);n.idRegister[e.id]=e,n.internalIdRegister[e.internalId]=e}unregister(e){delete this.idRegister[e.id],delete this.internalIdRegister[e.internalId]}get registeredRecords(){return Object.values(this.idRegister)}getById(e){return null!=e&&e.isModel?e:this.idRegister[e]}isAvailable(e){const n=this.getById(e);return n&&this.storage.includes(n)||!1}getByInternalId(e){return this.internalIdRegister[e]}includes(e){return this.isTree?null!=this.idRegister[Model.asId(e)]:this.indexOf(e)>-1}indexOf(e,n=!1){if(null!=e&&e.isModel&&!e.stores.includes(this.$store||this))return-1;const r=Model.asId(e);if(null==r)return-1;if(this.isTree)return this.storage.indexOf(r);const o=this.idMap[r];return o?o[n?"visibleIndex":"index"]:-1}allIndexOf(e){if(this.isTree){const n=this.getById(e);let r=-1;return n&&n.bubble((e=>{e.parent?r+=e.parentIndex+1:e===this.rootNode&&this.rootVisible&&(r+=1)})),r}return this.storage.indexOf(e,!0)}getDistinctValues(e,n=!1){const r=[],o={};let i;return this.forEach((n=>{if(!n.isSpecialRow&&!n.isRoot){i=n.get(e);const a=i instanceof Date?i.getTime():i;o[a]||(r.push(i),o[a]=1)}}),this,n),r}getValueCount(e,n){let r=0;return this.forEach((o=>{ObjectHelper.isEqual(o.get(e),n)&&r++})),r}set json(e){"string"==typeof e&&(e=StringHelper.safeJsonParse(e)),this.data=e}get json(){return StringHelper.safeJsonStringify(this)}get formattedJSON(){return StringHelper.safeJsonStringify(this,null,4)}toJSON(){return(this.isTree?this.rootNode.children||[]:this).map((e=>e.toJSON()))}forEach(e,n=this,r){"boolean"==typeof(r=void 0!==r&&r)&&(r={includeFilteredOutRecords:r,includeCollapsedGroupRecords:!1});const callback=(r,o)=>{if(!r.isRoot&&!r.isSpecialRow)return e.call(n,r,o)};if(this.isTree)this.rootNode.traverseWhile(callback,!1,r.includeFilteredOutRecords);else{const e=r.includeFilteredOutRecords?this.storage.allValues:this.storage.values;if(this.isGrouped&&r.includeCollapsedGroupRecords)for(let n=0;n<e.length;n++){const r=e[n];if(r.groupChildren&&!0===r.meta.collapsed)for(let e=0;e<r.groupChildren.length;e++){if(!1===callback(r.groupChildren[e],e))return}else if(!1===callback(r,n))return}else for(let n=0;n<e.length;n++)if(!1===callback(e[n],n))return}}map(e,n=this){return this.storage.values.map(e,n)}reduce(e,n=[],r=this){return r!==this&&(e=e.bind(r)),this.storage.values.reduce(e,n,r)}[Symbol.iterator](){return this.storage.values[Symbol.iterator]()}traverse(e,n=this.rootNode,r=n===this.rootNode,o){"boolean"==typeof(o=void 0!==o&&o)&&(o={includeFilteredOutRecords:o,includeCollapsedGroupRecords:!1});const i=this;if(i.isTree){if("boolean"==typeof n&&(r=n,n=i.rootNode),i.isChained){const n=e;e=e=>{i.chainedFilterFn(e)&&n(e)}}n.traverse(e,r,o.includeFilteredOutRecords)}else i.forEach((n=>n.traverse(e,!1,o.includeFilteredOutRecords)),i,o)}traverseWhile(e,n=this.rootNode,r=n===this.rootNode){const o=this;if(o.isTree){if("boolean"==typeof n&&(r=n,n=o.rootNode),o.isChained){const n=e;e=e=>{o.chainedFilterFn(e)&&n(e)}}n.traverseWhile(e,r)}else for(const n of o.storage)if(!1===n.traverse(e))break}getNext(e,n=!1,r=!1){const o=this,i=o.storage.values;let a=o.indexOf(e);if(a>=i.length-1){if(!n)return null;a=-1}const l=i[a+1];return r&&l&&l.isSpecialRow?o.getNext(i[a+1],n,!0):l}getPrev(e,n=!1,r=!1){const o=this,i=o.storage.values;let a=o.indexOf(e);if(0===a){if(!n)return null;a=i.length}const l=i[a-1];return r&&l&&l.isSpecialRow&&a>0?o.getPrev(i[a-1],n,!0):l}getAdjacent(e,n=!0,r=!1,o=!1){return n?this.getNext(e,r,o):this.getPrev(e,r,o)}getNextLeaf(e,n=!1){const r=this.leaves,o=this.getById(e);let i=r.indexOf(o);if(i>=r.length-1){if(!n)return null;i=-1}return r[i+1]}getPrevLeaf(e,n=!1){const r=this.leaves,o=this.getById(e);let i=r.indexOf(o);if(0===i){if(!n)return null;i=r.length}return r[i-1]}getAdjacentLeaf(e,n=!0,r=!1){return n?this.getNextLeaf(e,r):this.getPrevLeaf(e,r)}}Store.initClass(),Store._$name="Store";const processParamEntry=(e,n)=>(Array.isArray(n[1])?n[1].forEach((r=>e.push(encodeURIComponent(n[0])+"="+encodeURIComponent(r)))):e.push(encodeURIComponent(n[0])+"="+encodeURIComponent(n[1])),e),Yn=Promise.resolve();class AjaxStore extends Store{static get defaultConfig(){return{headers:null,fetchOptions:null,sendAsFormData:!1,writeAllFields:null,parentIdParamName:"id",responseSuccessProperty:"success",responseDataProperty:"data",responseTotalProperty:"total",filterParamName:null,restfulFilter:!1,sortParamName:null,pageParamName:null,pageStartParamName:null,pageSizeParamName:"pageSize",pageSize:50,useRestfulMethods:!1,httpMethods:{create:"POST",read:"GET",update:"PUT",delete:"DELETE"}}}static get configurable(){return{params:null}}afterConstruct(e){super.afterConstruct(e),this.autoLoad&&this.load().catch((()=>{}))}get isLoading(){return this._isLoading}get isCommitting(){return Boolean(this.commitPromise)}set pageParamName(e){if(this.tree)throw new Error("Paging cannot be supported for tree stores");if(this.pageStartParamName)throw new Error("Configs pageStartParamName and pageParamName are mutually exclusive");this._pageParamName=e}get pageParamName(){return this._pageParamName}set pageStartParamName(e){if(this.tree)throw new Error("Paging cannot be supported for tree stores");if(this.pageParamName)throw new Error("Configs pageParamName and pageStartParamName are mutually exclusive");this._pageStartParamName=e}get pageStartParamName(){return this._pageStartParamName}get isPaged(){return this.pageParamName||this.pageStartParamName}get allCount(){return"remoteTotal"in this?this.remoteTotal:super.allCount}get lastPage(){if(this.isPaged)return Math.floor((this.allCount+this.pageSize-1)/this.pageSize)}buildQueryString(e,...n){const r=e.includes("?"),o=Object.entries(Object.assign({},...n)).reduce(processParamEntry,[]).join("&");return o?(r?"&":"?")+o:""}performSort(e){const n=this;if(n.sortParamName){const{groupRecords:r}=n,o={};return n.isGrouped&&null!=r&&r.length&&r.forEach((e=>{e.meta.collapsed&&(n.includeGroupRecords(e),o[e.id]=!0)})),n.internalLoad({},"",(r=>{n.data=r.data,n.afterPerformSort(e,o)}))}super.performSort(e)}performFilter(e){const n=this;if(n.remoteFilter){const r=n.count,{filters:o}=n;return n.currentPage=1,n.internalLoad({},"",(i=>{n.data=i.data,n.afterPerformFilter(e?null:{action:"filter",filters:o,oldCount:r,records:n.storage.values})}))}super.performFilter(e)}encodeFilterParams(e){const n=[];for(const{property:r,operator:o,value:i,caseSensitive:a}of e)n.push({field:r,operator:o,value:i,caseSensitive:a});return JSON.stringify(n)}encodeSorterParams(e){return JSON.stringify(e.filter((e=>!e.sortFn)).map((e=>e)))}buildReadUrl(){const{readUrl:e}=this;if(this.restfulFilter&&this.filters.count){return(e.endsWith("/")?e:e+"/")+this.filters.first.value}return e}internalLoad(e,n,r){const o=this,i=ObjectHelper.assign({},o.params,e),a=o.buildReadUrl(),l={action:"read"+n,params:i,url:a};return a?new Promise(((e,a)=>{if(!1===o.trigger("beforeLoad"+n,l))return a(!1);if(o._isLoading=!0,o.trigger(`load${n}Start`,l),o.trigger("beforeRequest",l),o.filterParamName&&o.isFiltered&&(i[o.filterParamName]=o.encodeFilterParams(o.filters.values)),o.sortParamName&&o.isSorted&&(i[o.sortParamName]=o.encodeSorterParams(o.groupers?o.groupers.concat(o.sorters):o.sorters)),o.isPaged){if(!(o.pageParamName in i)&&!(o.pageStartParamName in i)){const e=Math.min(o.currentPage||1,o.allCount?o.lastPage:1/0);o.pageParamName?i[o.pageParamName]=e:i[o.pageStartParamName]=(e-1)*o.pageSize}i[o.pageSizeParamName]=o.pageSize}const c={headers:o.headers,parseJson:!0};o.useRestfulMethods&&(c.method=o.httpMethods.read),AjaxHelper.get(l.url+o.buildQueryString(l.url,i),ObjectHelper.assign(c,o.fetchOptions)).then((async c=>{const d=c.parsedJson,u=Array.isArray(d),p=u||d&&!1!==ObjectHelper.getPath(d,o.responseSuccessProperty),b=u?null:ObjectHelper.getPath(d,o.responseTotalProperty);if(o._isLoading=!1,l.response=c,l.json=d,p){if(null!=b&&(o.remoteTotal=parseInt(b,10)),o.isPaged){if(!(o.remoteTotal>=0))throw new Error("A paged store must receive its responseTotalProperty in each data packet");{const e=o.pageParamName?i[o.pageParamName]:i[o.pageStartParamName]/o.pageSize+1;o.currentPage=Math.min(e,o.lastPage)}}l.data=u?d:ObjectHelper.getPath(d,o.responseDataProperty),await r(l),o.trigger("load"+n,l),e(l)}else l.exception=!0,l.exceptionType="server",o.trigger("exception",l),a(l);o.trigger("afterRequest",l)})).catch((e=>{o._isLoading=!1,l.exception=!0,e instanceof Response?(l.exceptionType=e.ok?"server":"network",l.response=e,l.error=e.error):(l.exceptionType="server",l.error=e),o.trigger("exception",l),a(l),o.trigger("afterRequest",l)}))})):null}async load(e){const n=this;return n.isPaged?n.loadPage(n.currentPage||1,e):n.internalLoad(e,"",(e=>{n.data=e.data}))}async loadChildren(e){return this.internalLoad({[this.parentIdParamName]:e.id},"Children",(n=>{n.parentRecord=e,e.children.length&&e.clearChildren(!0),e.data[e.constructor.childrenField]=n.data,e.processChildren(e.stores)}))}async loadPage(e,n){this.allCount&&(e=Math.min(e,this.lastPage));const r=this,o=r.pageParamName?{[r.pageParamName]:e}:{[r.pageStartParamName]:(e-1)*r.pageSize};return o[r.pageSizeParamName]=r.pageSize,r.internalLoad(ObjectHelper.assign(o,n),"Page",(e=>{r.loadData(e.data,"pageLoad")}))}async nextPage(e){return this.isPaged&&this.currentPage!==this.lastPage?this.loadPage(this.currentPage+1,e):Yn}async previousPage(e){return this.isPaged&&1!==this.currentPage?this.loadPage(this.currentPage-1,e):Yn}async commit(){const e=this,{changes:n}=e,r=[];if(e.commitPromise)return!1;if(!n)return e.modified.count&&(e.modified.forEach((e=>e.clearChanges(!1))),e.modified.clear()),Yn;if(!1!==e.trigger("beforeCommit",{changes:n})){[...n.added,...n.modified,...n.removed].forEach((e=>e.meta.committing=!0)),e.trigger("commitStart",{changes:n});const o={action:"commit",exception:!1,changes:n};let i=e.commitRemoved(o);return i&&r.push(i),i=e.commitAdded(o),i&&r.push(i),i=e.commitModified(o),i&&r.push(i),r.length?(i=1===r.length?r[0]:Promise.all(r),e.commitPromise=new Promise(((r,a)=>{i.then((()=>{e.commitPromise=null,o.exception?(e.trigger("exception",o),a(o)):(e.trigger("commit",{changes:n}),r(o))})).catch((()=>{e.commitPromise=null,a(o)}))}))):(e.modified.forEach((e=>e.clearChanges(!1))),e.modified.clear(),e.added.forEach((e=>e.clearChanges(!1))),e.added.clear(),e.removed.clear(),e.trigger("commit",{changes:n}),Yn)}}doAutoCommit(){this.suspendCount<=0&&this.commit().catch((e=>{const{response:n}=e;if(!n||!(n.ok&&n.parsedJson||[500,404].includes(n.status)))throw e}))}commitAdded(e){const n=this,r=n.added,o={action:"create",params:n.params};return r.count&&n.createUrl?new Promise((i=>{const a=r.values.map((e=>e.persistableData));e.create=o;let l=o.body={data:a};if(n.trigger("beforeRequest",o),n.sendAsFormData){const e=new FormData;e.append("data",JSON.stringify(a)),l=e}const c={headers:n.headers,parseJson:!0};n.useRestfulMethods&&(c.method=n.httpMethods.create),AjaxHelper.post(n.createUrl+n.buildQueryString(n.createUrl,n.params),l,ObjectHelper.assign(c,n.fetchOptions)).then((a=>{const l=a.parsedJson,c=Array.isArray(l),d=c||l&&!1!==l.success;e.response=a,o.json=l,o.response=a,d?(n.processReturnedData(r.values,c?l:l[n.responseDataProperty]),r.clear(),n.trigger("commitAdded"),n.trigger("refresh",o),i(e)):(r.forEach((e=>e.meta.committing=!1)),e.exception=o.exception=!0,e.exceptionType=o.exceptionType="server",n.trigger("exception",o),i(e)),n.trigger("afterRequest",o)})).catch((a=>{r.forEach((e=>e.meta.committing=!1)),e.exception=o.exception=!0,a instanceof Response?(e.response=a,o.exceptionType=a.ok?"server":"network",o.response=a,o.error=a.error):(o.exceptionType="server",o.error=a),n.trigger("exception",o),i(e),n.trigger("afterRequest",o)}))})):null}commitModified(e){const n=this,{modified:r}=n.changes,o={action:"update",params:n.params},i=r.length&&n.updateUrl?new Promise((i=>{const a=r.map((e=>n.writeAllFields?e.persistableData:e.modificationDataToWrite)).filter((e=>!ObjectHelper.isEmpty(e)));if(0===a.length)return n.modified.clear(),r.forEach((e=>e.meta.committing=!1)),void i();e.update=o;let l=o.body={data:a};if(n.trigger("beforeRequest",o),n.sendAsFormData){const e=new FormData;e.append("data",JSON.stringify(a)),l=e}const c={headers:n.headers,parseJson:!0};n.useRestfulMethods&&(c.method=n.httpMethods.update),AjaxHelper.post(n.updateUrl+n.buildQueryString(n.updateUrl,n.params),l,ObjectHelper.assign(c,n.fetchOptions)).then((a=>{const l=a.parsedJson,c=Array.isArray(l),d=c||l&&!1!==l.success;e.response=a,o.json=l,o.response=a,d?(n.processReturnedData(r,c?l:l[n.responseDataProperty],!0),n.modified.clear(),n.trigger("commitModified"),n.trigger("refresh",o),i(e)):(r.forEach((e=>e.meta.committing=!1)),e.exception=o.exception=!0,o.exceptionType="server",n.trigger("exception",o),i(e)),n.trigger("afterRequest",o)})).catch((a=>{r.forEach((e=>e.meta.committing=!1)),e.exception=o.exception=!0,a instanceof Response?(e.response=a,o.exceptionType=a.ok?"server":"network",o.response=a,o.error=a.error):(o.exceptionType="server",o.error=a),n.trigger("exception",o),i(e),n.trigger("afterRequest",o)}))})):null;return!r.length&&n.modified.count&&n.modified.clear(),i}processReturnedData(e,n,r=!1){const o=this.modelClass,i=o.fieldMap.id.dataSource;n.forEach(((n,a)=>{const l=e[a];l.clearChanges(!1),l.syncId(n[i]),Object.assign(e[a].data,o.processData(n,r))}))}commitRemoved(e){const n=this,r=n.removed,o={action:"delete",params:n.params};return r.count&&n.deleteUrl?new Promise((i=>{e.delete=o;let a=o.body={ids:r.map((e=>e.id))};if(n.trigger("beforeRequest",o),n.sendAsFormData){const e=new FormData;e.append("id",JSON.stringify(a.ids)),a=e}const l={headers:n.headers,parseJson:!0};n.useRestfulMethods&&(l.method=n.httpMethods.delete),AjaxHelper.post(n.deleteUrl+n.buildQueryString(n.deleteUrl,n.params),a,ObjectHelper.assign(l,n.fetchOptions)).then((a=>{const l=a.parsedJson,c=Array.isArray(l)||l&&!1!==l.success;e.response=a,o.json=l,o.response=a,c?(r.forEach((e=>e.meta.committing=!1)),r.clear(),n.trigger("commitRemoved"),n.trigger("refresh",o),i(e)):(r.forEach((e=>e.meta.committing=!1)),e.exception=o.exception=!0,o.exceptionType="server",n.trigger("exception",o),i(e)),n.trigger("afterRequest",o)})).catch((a=>{r.forEach((e=>e.meta.committing=!1)),e.exception=o.exception=!0,a instanceof Response?(e.response=a,o.exceptionType=a.ok?"server":"network",o.response=a,o.error=a.error):(o.exceptionType="server",o.error=a),n.trigger("exception",o),i(e),n.trigger("afterRequest",o)}))})):null}get remoteFilter(){return Boolean(this.filterParamName||this.restfulFilter)}}AjaxStore._$name="AjaxStore";class DomDataStore{static get(e,n){const r=e._domData||(e._domData={});return null!=n?r[n]:r}static remove(e,n){const{_domData:r}=e,o=null==r?void 0:r[n];return null==r||delete r[n],o}static set(e,n,r){3===arguments.length?(e._domData||(e._domData={}))[n]=r:e._domData=n}static assign(e,n){Object.assign(e._domData||(e._domData={}),n)}}DomDataStore._$name="DomDataStore";const throwAbstractMethodCall=()=>{throw new Error("Abstract method call!")};class ActionBase extends Base{get type(){return this.constructor.name}undo(){throwAbstractMethodCall()}redo(){throwAbstractMethodCall()}}ActionBase._$name="ActionBase";const throwAbstractMethodCall$1=()=>{throw new Error("Abstract method call!")},throwInvalidMethodCall=()=>{throw new Error("Method cannot be called at this state!")};class StateBase extends Base{canUndo(e){throwAbstractMethodCall$1()}canRedo(e){throwAbstractMethodCall$1()}onUndo(e){throwAbstractMethodCall$1()}onRedo(e){throwAbstractMethodCall$1()}onStartTransaction(e){throwAbstractMethodCall$1()}onStopTransaction(e){throwAbstractMethodCall$1()}onStopTransactionDelayed(e){throwAbstractMethodCall$1()}onRejectTransaction(e){throwAbstractMethodCall$1()}onEnable(e){throwAbstractMethodCall$1()}onDisable(e){throwAbstractMethodCall$1()}onAutoRecordOn(e){throwAbstractMethodCall$1()}onAutoRecordOff(e){throwAbstractMethodCall$1()}onResetQueue(e){throwAbstractMethodCall$1()}onModelUpdate(e){throwAbstractMethodCall$1()}onStoreModelAdd(e){throwAbstractMethodCall$1()}onStoreModelInsert(e){throwAbstractMethodCall$1()}onStoreModelRemove(e){throwAbstractMethodCall$1()}onStoreModelRemoveAll(e){throwAbstractMethodCall$1()}onModelInsertChild(e){throwAbstractMethodCall$1()}onModelRemoveChild(e){throwAbstractMethodCall$1()}}StateBase._$name="StateBase";const Kn=Symbol("STATE_PROP"),Xn=Symbol("STORES_PROP"),Qn=Symbol("QUEUE_PROP"),Zn=Symbol("POS_PROP"),Jn=Symbol("TRANSACTION_PROP"),er=Symbol("TRANSACTION_TIMER_PROP"),tr=Symbol("AUTO_RECORD_PROP"),nr=(Object.freeze([Kn,Xn,Qn,Zn,Jn,er,tr]),new Map);var Registry_registerStmState=(e,n)=>{nr.set(e,n)},Registry_resolveStmState=e=>("string"==typeof e&&(e=nr.get(e)),e);const resetQueue=(e,n)=>{const{undo:r,redo:o}=n;let i;return i=r&&!o?{[Qn]:e[Qn].slice(e.position),[Zn]:0}:o&&!r?{[Qn]:e[Qn].slice(0,e.position)}:{[Qn]:[],[Zn]:0},[i,()=>{e.notifyStoresAboutQueueReset(n)}]};const rr=new class DisabledStateClass extends StateBase{canUndo(){return!1}canRedo(){return!1}onUndo(){throwInvalidMethodCall()}onRedo(){throwInvalidMethodCall()}onEnable(e){return e.autoRecord?"autoreadystate":"readystate"}onDisable(){throwInvalidMethodCall()}onAutoRecordOn(){return{[tr]:!0}}onAutoRecordOff(){return{[tr]:!1}}onStartTransaction(){throwInvalidMethodCall()}onStopTransaction(){throwInvalidMethodCall()}onStopTransactionDelayed(){throwInvalidMethodCall()}onRejectTransaction(){throwInvalidMethodCall()}onResetQueue(e,n){return resetQueue(e,n)}onModelUpdate(){}onModelInsertChild(){}onModelRemoveChild(){}onStoreModelAdd(){}onStoreModelInsert(){}onStoreModelRemove(){}onStoreRemoveAll(){}};Registry_registerStmState("disabledstate",rr);const or=Symbol("ACTION_QUEUE_PROP");class Transaction extends Base{get defaultConfig(){return{title:null}}construct(...e){this[or]=[],super.construct(...e)}get queue(){return this[or].slice(0)}get length(){return this[or].length}addAction(e){this[or].push(e)}undo(){const e=this[or];for(let n=e.length-1;n>=0;--n)e[n].undo()}redo(){const e=this[or];for(let n=0,r=e.length;n<r;++n)e[n].redo()}}Transaction._$name="Transaction";class ReadyStateClass extends StateBase{canUndo(e){return 0<e.position&&e.position<=e.length}canRedo(e){return 0<=e.position&&e.position<e.length}onUndo(e,n){const r=e[Qn];let o=e.position,i=Math.max(0,o-n);return[{[Kn]:"restoringstate",[Zn]:i},()=>{for(e.notifyStoresAboutStateRestoringStart();o!=i;)r[--o].undo();return[e.autoRecord?"autoreadystate":"readystate",()=>{e.notifyStoresAboutStateRestoringStop()}]}]}onRedo(e,n){const r=e[Qn];let o=e.position,i=Math.min(r.length,o+n);return[{[Kn]:"restoringstate",[Zn]:i},()=>{e.notifyStoresAboutStateRestoringStart();do{r[o++].redo()}while(o!=i);return[e.autoRecord?"autoreadystate":"readystate",()=>{e.notifyStoresAboutStateRestoringStop()}]}]}onEnable(){throwInvalidMethodCall()}onDisable(){return"disabledstate"}onAutoRecordOn(){return{[Kn]:"autoreadystate",[tr]:!0}}onAutoRecordOff(){throwInvalidMethodCall()}onStartTransaction(e,n){const r=new Transaction({title:n});return[{[Kn]:"recordingstate",[Jn]:r},()=>{e.notifyStoresAboutStateRecordingStart(r)}]}onStopTransaction(){throwInvalidMethodCall()}onStopTransactionDelayed(){throwInvalidMethodCall()}onRejectTransaction(){throwInvalidMethodCall()}onResetQueue(e,n){return resetQueue(e,n)}onModelUpdate(){}onModelInsertChild(){}onModelRemoveChild(){}onStoreModelAdd(){}onStoreModelInsert(){}onStoreModelRemove(){}onStoreRemoveAll(){}}let ir=new ReadyStateClass;Registry_registerStmState("readystate",ir);class RecordingStateClass extends StateBase{canUndo(){return!1}canRedo(){return!1}onEnable(){}onDisable(e){const n=e[Jn];return e.notifyStoresAboutStateRecordingStop(n,{disabled:!0}),{[Kn]:"disabledstate",[Jn]:null}}onAutoRecordOn(e){return[{[Kn]:"autorecordingstate",[tr]:!0},()=>{e.stopTransactionDelayed()}]}onAutoRecordOff(){throwInvalidMethodCall()}onStartTransaction(){throwInvalidMethodCall()}onStopTransaction(e,n){const r=e[Jn];let o=e[Zn];const i=e[Qn];return r.length&&(r.title||n||!e.getTransactionTitle?n&&(r.title=n):r.title=e.getTransactionTitle(r),i[o]=r,i.length=++o),[{[Kn]:"readystate",[Zn]:o,[Jn]:null},()=>{e.notifyStoresAboutStateRecordingStop(r,{stop:!0})}]}onRejectTransaction(e){const n=e[Jn];return[{[Kn]:"restoringstate",[Jn]:null},()=>(n.length&&n.undo(),["readystate",()=>{e.notifyStoresAboutStateRecordingStop(n,{rejected:!0})}])]}onStopTransactionDelayed(){throwInvalidMethodCall()}onResetQueue(e,n){return resetQueue(e,n)}onModelUpdate(e,n,r,o){e[Jn].addAction(e.makeModelUpdateAction(n,r,o))}onModelInsertChild(e,n,r,o,i,a){e[Jn].addAction(e.makeModelInsertChildAction(n,r,o,i,a))}onModelRemoveChild(e,n,r,o){e[Jn].addAction(e.makeModelRemoveChildAction(n,r,o))}onStoreModelAdd(e,n,r,o){e[Jn].addAction(e.makeStoreModelAddAction(n,r,o))}onStoreModelInsert(e,n,r,o,i,a){e[Jn].addAction(e.makeStoreModelInsertAction(n,r,o,i,a))}onStoreModelRemove(e,n,r,o,i){e[Jn].addAction(e.makeStoreModelRemoveAction(n,r,o,i))}onStoreRemoveAll(e,n,r,o){e[Jn].addAction(e.makeStoreRemoveAllAction(n,r,o))}}const sr=new RecordingStateClass;Registry_registerStmState("recordingstate",sr);const ar=new class RestoringStateClass extends StateBase{canUndo(){return!1}canRedo(){return!1}onUndo(){throwInvalidMethodCall()}onRedo(){throwInvalidMethodCall()}onEnable(){throwInvalidMethodCall()}onDisable(){throwInvalidMethodCall()}onAutoRecordOn(){return{[tr]:!0}}onAutoRecordOff(){return{[tr]:!1}}onStartTransaction(){throwInvalidMethodCall()}onStopTransaction(){throwInvalidMethodCall()}onStopTransactionDelayed(){throwInvalidMethodCall()}onRejectTransaction(){throwInvalidMethodCall()}onQueueReset(){throwInvalidMethodCall()}onModelUpdate(){}onModelInsertChild(){}onModelRemoveChild(){}onStoreModelAdd(){}onStoreModelInsert(){}onStoreModelRemove(){}onStoreRemoveAll(){}};Registry_registerStmState("restoringstate",ar);const lr=new class AutoReadyStateClass extends ReadyStateClass{onAutoRecordOn(){throwInvalidMethodCall()}onAutoRecordOff(){return{[Kn]:"readystate",[tr]:!1}}onStartTransaction(e,n){const r=new Transaction({title:n});return[{[Kn]:"autorecordingstate",[Jn]:r},()=>{e.notifyStoresAboutStateRecordingStart(r),e.stopTransactionDelayed()}]}onModelUpdate(e,n,r,o){e.startTransaction(),e.onModelUpdate(n,r,o)}onModelInsertChild(e,n,r,o,i){e.startTransaction(),e.onModelInsertChild(n,r,o,i)}onModelRemoveChild(e,n,r,o){e.startTransaction(),e.onModelRemoveChild(n,r,o)}onStoreModelAdd(e,n,r,o){e.startTransaction(),e.onStoreModelAdd(n,r,o)}onStoreModelInsert(e,n,r,o,i,a){e.startTransaction(),e.onStoreModelInsert(n,r,o,a)}onStoreModelRemove(e,n,r,o,i){e.startTransaction(),e.onStoreModelRemove(n,r,o,i)}onStoreRemoveAll(e,n,r,o){e.startTransaction(),e.onStoreRemoveAll(n,r,o)}};Registry_registerStmState("autoreadystate",lr);const{defineProperty:cr}=Reflect;let dr;dr=BrowserHelper.isBrowserEnv?window.performance:{now:()=>(new Date).getTime()};let hr=null;if(VersionHelper.isTestEnv){const e=BrowserHelper.global.bryntum||(BrowserHelper.global.bryntum={});hr=e.globalDelays={timeouts:new Map,intervals:new Map,animationFrames:new Map,isEmpty:(e=!1)=>hr.timeouts.size+hr.animationFrames.size+(e?hr.intervals.size:0)===0}}const makeInvoker=(e,n,r,o)=>{const i="string"==typeof n,a=o&&o.appendArgs||[],invoker=()=>{r.timerId=null,r.lastCallTime=dr.now();const o=r.args;r.args=null,i?e[n](...o,...a):n.call(e,...o,...a),r.called=!0,++r.calls};return o&&(e=o.thisObj||e),r.lastCallTime=-9e9,r.calls=0,r.invoker=invoker,invoker.wrapFn=r,invoker},decorateWrapFn=(e,n,r="clearTimeout")=>(n.cancel=()=>{n.isPending&&(e[r](n.timerId),n.args=n.timerId=null)},n.flush=()=>{n.isPending&&(e[r](n.timerId),n.timerId=null,n.invoker())},n.now=(...e)=>{n.cancel(),n.args=e,n.invoker()},n.resume=e=>{const r=n.suspended;n.suspended=e||r<1?0:r-1},n.suspend=()=>{++n.suspended},n.immediate=!1,n.suspended=0,n.timerId=null,cr(n,"isPending",{get:()=>null!==n.timerId}),n);var Delayable=e=>class Delayable extends(e||Base){static get $name(){return"Delayable"}static get declarable(){return["delayable"]}doDestroy(){const e=this;super.doDestroy(),e.timeoutIds&&(e.timeoutIds.forEach(((e,n)=>{"function"==typeof e&&e(),clearTimeout(n),hr&&hr.timeouts.delete(n)})),e.timeoutIds=null),e.timeoutMap&&(e.timeoutMap.forEach(((e,n)=>clearTimeout(n))),e.timeoutMap=null),e.intervalIds&&(e.intervalIds.forEach((e=>{clearInterval(e),hr&&hr.intervals.delete(e)})),e.intervalIds=null),e.animationFrameIds&&(e.animationFrameIds.forEach((e=>{cancelAnimationFrame(e),hr&&hr.animationFrames.delete(e)})),e.animationFrameIds=null)}hasTimeout(e){return!(!this.timeoutMap||!this.timeoutMap.has(e))}setTimeout({fn:e,delay:n,name:r,runOnDestroy:o,cancelOutstanding:i,args:a}){(arguments.length>1||"function"==typeof arguments[0])&&([e,n,r,o]=arguments),"string"==typeof e?r=e:r||(r=e.name),i&&this.clearTimeout(r);const l=this,c=l.timeoutIds||(l.timeoutIds=new Map),d=l.timeoutMap||(l.timeoutMap=new Map),u=setTimeout((()=>{"string"==typeof e&&(e=l[r]),c&&c.delete(u),d&&d.delete(r),hr&&hr.timeouts.delete(u),e.apply(l,a)}),n);return c.set(u,!o||e),hr&&hr.timeouts.set(u,{fn:e,delay:n,name:r}),r&&d.set(r,u),u}clearTimeout(e){let n=e;if("string"==typeof n){if(!this.timeoutMap)return;n=this.timeoutMap.get(e),this.timeoutMap.delete(e)}clearTimeout(n),this.timeoutIds&&this.timeoutIds.delete(n),hr&&hr.timeouts.delete(n)}clearInterval(e){clearInterval(e),this.intervalIds&&this.intervalIds.delete(e),hr&&hr.intervals.delete(e)}setInterval(e,n){const r=setInterval(e,n);return(this.intervalIds||(this.intervalIds=new Set)).add(r),hr&&hr.intervals.set(r,{fn:e,delay:n}),r}requestAnimationFrame(e,n=[],r=this){const o=this.animationFrameIds||(this.animationFrameIds=new Set),i=requestAnimationFrame((()=>(hr&&hr.animationFrames.delete(i),o.delete(i),e.apply(r,n))));return o.add(i),hr&&hr.animationFrames.set(i,{fn:e,extraArgs:n,thisObj:r}),i}createOnFrame(e,n=[],r=this,o){let i;const result=(...a)=>{i&&o&&(this.cancelAnimationFrame(i),i=null),i||(i=this.requestAnimationFrame((()=>{"string"==typeof e&&(e=r[e]),i=null,a.push(...n),e.apply(r,a)})))};return result.cancel=()=>this.cancelAnimationFrame(i),result}cancelAnimationFrame(e){cancelAnimationFrame(e),this.animationFrameIds&&this.animationFrameIds.delete(e),hr&&hr.animationFrames.delete(e)}async nextAnimationFrame(){return new Promise((e=>this.requestAnimationFrame(e)))}buffer(e,n){let r=n;n&&"number"!=typeof n?r=n.delay:n=null;const bufferWrapFn=(...e)=>{if(bufferWrapFn.suspended)return;const{delay:n}=bufferWrapFn;bufferWrapFn.cancel(),bufferWrapFn.called=!1,bufferWrapFn.args=e,bufferWrapFn.immediate||!n?o():bufferWrapFn.timerId=this.setTimeout(o,n)},o=makeInvoker(this,e,bufferWrapFn,n);return bufferWrapFn.delay=r,decorateWrapFn(this,bufferWrapFn)}raf(e,n){let r=n;n&&"boolean"!=typeof n?r=n.cancelOutstanding:n=null;const rafWrapFn=(...e)=>{rafWrapFn.suspended||(rafWrapFn.cancelOutstanding&&rafWrapFn.cancel(),rafWrapFn.called=!1,rafWrapFn.args=e,rafWrapFn.immediate?o():rafWrapFn.isPending||(rafWrapFn.timerId=this.requestAnimationFrame(o)))},o=makeInvoker(this,e,rafWrapFn,n);return rafWrapFn.cancelOutstanding=r,decorateWrapFn(this,rafWrapFn,"cancelAnimationFrame")}throttle(e,n){let r,o=n;n&&"number"!=typeof n?(o=n.delay,r=n.throttled):n=null;const i=this,throttleWrapFn=(...e)=>{if(throttleWrapFn.suspended)return;const{delay:n}=throttleWrapFn,o=dr.now()-throttleWrapFn.lastCallTime;throttleWrapFn.args=e,throttleWrapFn.immediate||o>=n?(i.clearTimeout(throttleWrapFn.timerId),a()):(throttleWrapFn.isPending||(throttleWrapFn.timerId=i.setTimeout(a,n-o),throttleWrapFn.called=!1),r&&(r.wrapFn.args=e,r()))},a=makeInvoker(i,e,throttleWrapFn,n);return throttleWrapFn.delay=o,r&&(r=makeInvoker(i,r,(()=>{}),n)),decorateWrapFn(i,throttleWrapFn)}static setupDelayable(e){e.setupDelayableMethods(e.delayable)}static setupDelayableMethods(e,n=null){const r=e.static,o=n||this.prototype;r&&delete e.static;for(const n in e){let r=e[n];const i=n+"Now",a=typeof r;o[i]=o[n],"number"===a?r={type:"buffer",delay:r}:"string"===a&&(r={type:r}),cr(o,n,{get(){const e=this[r.type](((...e)=>{this[i](...e)}),r);return cr(this,n,{value:e}),e}})}}get widgetClass(){}};class AutoRecordingStateClass extends(RecordingStateClass.mixin(Delayable)){onDisable(e){const n=e[Jn],r=e[er];return r&&this.clearTimeout(r),e.notifyStoresAboutStateRecordingStop(n,{disabled:!0}),{[Kn]:"disabledstate",[Jn]:null,[er]:null}}onAutoRecordOn(e){throwInvalidMethodCall()}onAutoRecordOff(e){const n=e[er];return n&&this.clearTimeout(n),{[Kn]:"recordingstate",[tr]:!1,[er]:null}}onStopTransaction(e,n){const r=e[Jn],o=e[er];let i=e[Zn];const a=e[Qn];return o&&this.clearTimeout(o),r.length&&(r.title||n||!e.getTransactionTitle?n&&(r.title=n):r.title=e.getTransactionTitle(r),a[i]=r,a.length=++i),[{[Kn]:"autoreadystate",[Zn]:i,[Jn]:null,[er]:null},()=>{e.notifyStoresAboutStateRecordingStop(r,{stop:!0})}]}onStopTransactionDelayed(e){let n=e[er];return n&&this.clearTimeout(n),n=this.setTimeout((()=>{e.stopTransaction()}),e.autoRecordTransactionStopTimeout),{[Kn]:ur,[er]:n}}onResetQueue(e,n){return resetQueue(e,n)}onRejectTransaction(e){const n=e[Jn],r=e[er];return r&&this.clearTimeout(r),[{[Kn]:"restoringstate",[Jn]:null,[er]:null},()=>(n.length&&n.undo(),["autoreadystate",()=>{e.notifyStoresAboutStateRecordingStop(n,{rejected:!0})}])]}onModelUpdate(e,...n){super.onModelUpdate(e,...n),e.stopTransactionDelayed()}onModelInsertChild(e,...n){super.onModelInsertChild(e,...n),e.stopTransactionDelayed()}onModelRemoveChild(e,...n){super.onModelRemoveChild(e,...n),e.stopTransactionDelayed()}onStoreModelAdd(e,...n){super.onStoreModelAdd(e,...n),e.stopTransactionDelayed()}onStoreModelInsert(e,...n){super.onStoreModelInsert(e,...n),e.stopTransactionDelayed()}onStoreModelRemove(e,...n){super.onStoreModelRemove(e,...n),e.stopTransactionDelayed()}onStoreRemoveAll(e,...n){super.onStoreRemoveAll(e,...n),e.stopTransactionDelayed()}}const ur=new AutoRecordingStateClass;Registry_registerStmState("autorecordingstate",ur);const pr=Symbol("MODEL_PROP"),br=Symbol("NEW_DATA_PROP"),gr=Symbol("OLD_DATA_PROP");class UpdateAction extends ActionBase{static get defaultConfig(){return{model:void 0,newData:void 0,oldData:void 0}}get type(){return"UpdateAction"}get model(){return this[pr]}set model(e){this[pr]=e}get newData(){return this[br]}set newData(e){this[br]=Object.assign({},e)}get oldData(){return this[gr]}set oldData(e){this[gr]=Object.assign({},e)}undo(){this.model.set(this.oldData,null,null,null,!0),this.model.$&&Object.assign(this.model,this.oldData)}redo(){this.model.set(this.newData,null,null,null,!0),this.model.$&&Object.assign(this.model,this.newData)}}UpdateAction._$name="UpdateAction";const mr=Symbol("PARENT_MODEL_PROP"),fr=Symbol("CHILD_MODELS_PROP"),vr=Symbol("INSERT_INDEX_PROP"),yr=Symbol("CONTEXT_PROP");class InsertChildAction extends ActionBase{static get defaultConfig(){return{parentModel:void 0,childModels:void 0,insertIndex:void 0,context:void 0}}get type(){return"InsertChildAction"}get parentModel(){return this[mr]}set parentModel(e){this[mr]=e}get childModels(){return this[fr]}set childModels(e){this[fr]=e.slice(0)}get insertIndex(){return this[vr]}set insertIndex(e){this[vr]=e}get context(){return this[yr]}set context(e){this[yr]=e}undo(){const{parentModel:e,context:n,childModels:r}=this;r.sort(((e,r)=>{const{lhsParent:o,lhsIndex:i}=n.get(e)||{},{rhsParent:a,rhsIndex:l}=n.get(r)||{};return o&&o===a?i-l:0})),r.forEach((r=>{const{parent:o,index:i}=n.get(r)||{};if(o)if(o===e){let e;e=i>r.parentIndex?i+1:i,e=i===o.children.length-1?null:e;const n=o.children[e];o.insertChild(r,n)}else o.insertChild(r,o.children[i]);else e.removeChild(r)}))}redo(){const{parentModel:e,insertIndex:n,childModels:r}=this,o=e.children[n];e.insertChild(r,o)}}InsertChildAction._$name="InsertChildAction";const wr=Symbol("PARENT_MODEL_PROP"),xr=Symbol("CHILD_MODELS_PROP"),Cr=Symbol("CONTEXT_PROP");class RemoveChildAction extends ActionBase{static get defaultConfig(){return{parentModel:void 0,childModels:void 0,context:void 0}}get type(){return"RemoveChildAction"}get parentModel(){return this[wr]}set parentModel(e){this[wr]=e}get childModels(){return this[xr]}set childModels(e){this[xr]=e.slice(0)}get context(){return this[Cr]}set context(e){this[Cr]=e}undo(){const{parentModel:e,context:n,childModels:r}=this;r.sort(((e,r)=>n.get(e)-n.get(r))),r.forEach((r=>{e.insertChild(n.get(r),r)}))}redo(){this.parentModel.removeChild(this.childModels)}}RemoveChildAction._$name="RemoveChildAction";const Sr=Symbol("STORE_PROP"),Dr=Symbol("MODEL_LIST_PROP");class AddAction extends ActionBase{static get defaultConfig(){return{store:void 0,modelList:void 0,silent:!1}}get type(){return"AddAction"}get store(){return this[Sr]}set store(e){this[Sr]=e}get modelList(){return this[Dr]}set modelList(e){this[Dr]=e.slice(0)}undo(){const e=this;e.store.remove(e.modelList,e.silent)}redo(){const e=this;e.store.add(e.modelList,e.silent)}}AddAction._$name="AddAction";const Er=Symbol("STORE_PROP"),kr=Symbol("MODEL_LIST_PROP"),Tr=Symbol("INSERT_INDEX_PROP"),_r=Symbol("CONTEXT_PROP");class InsertAction extends ActionBase{static get defaultConfig(){return{store:void 0,modelList:void 0,insertIndex:void 0,context:void 0,silent:!1}}get type(){return"InsertAction"}get store(){return this[Er]}set store(e){this[Er]=e}get modelList(){return this[kr]}set modelList(e){this[kr]=e.slice(0)}get insertIndex(){return this[Tr]}set insertIndex(e){this[Tr]=e}get context(){return this[_r]}set context(e){this[_r]=e}undo(){const{store:e,modelList:n,context:r,silent:o}=this;n.sort(((e,n)=>{const o=r.get(e),i=r.get(n);return void 0!==o&&void 0!==i?o-i:0})),n.forEach((n=>{const i=r.get(n);n._undoingInsertion=!0,void 0!==i?e.insert(i,n,o):e.remove(n,o),n._undoingInsertion=!1}))}redo(){const e=this;e.store.insert(e.insertIndex,e.modelList,e.silent)}}InsertAction._$name="InsertAction";const Mr=Symbol("STORE_PROP"),Rr=Symbol("MODEL_LIST_PROP"),Ir=Symbol("CONTEXT_PROP");class RemoveAction extends ActionBase{static get defaultConfig(){return{store:void 0,modelList:void 0,context:void 0,silent:!1}}get type(){return"RemoveAction"}get store(){return this[Mr]}set store(e){this[Mr]=e}get modelList(){return this[Rr]}set modelList(e){this[Rr]=e.slice(0)}get context(){return this[Ir]}set context(e){this[Ir]=e}undo(){const{store:e,context:n,modelList:r,silent:o}=this;r.sort(((e,r)=>n.get(e)-n.get(r))),r.forEach((r=>{const i=n.get(r);e.insert(i,r,o)}))}redo(){const e=this;e.store.remove(e.modelList,e.silent)}}RemoveAction._$name="RemoveAction";const Fr=Symbol("STORE_PROP"),Ar=Symbol("ALL_RECORDS_PROP");class RemoveAllAction extends ActionBase{static get defaultConfig(){return{store:void 0,allRecords:void 0,silent:!1}}get type(){return"RemoveAllAction"}get store(){return this[Fr]}set store(e){this[Fr]=e}get allRecords(){return this[Ar]}set allRecords(e){this[Ar]=e.slice(0)}undo(){const{store:e,allRecords:n,silent:r}=this;e.add(n,r)}redo(){this.store.removeAll(this.silent)}}RemoveAllAction._$name="RemoveAllAction";const makeModelUpdateAction=(e,n,r)=>new UpdateAction({model:e,newData:n,oldData:r}),makeModelInsertChildAction=(e,n,r,o)=>new InsertChildAction({parentModel:e,childModels:r,insertIndex:n,context:o}),makeModelRemoveChildAction=(e,n,r)=>new RemoveChildAction({parentModel:e,childModels:n,context:r}),makeStoreModelAddAction=(e,n,r)=>new AddAction({store:e,modelList:n,silent:r}),makeStoreModelInsertAction=(e,n,r,o,i)=>new InsertAction({store:e,insertIndex:n,modelList:r,context:o,silent:i}),makeStoreModelRemoveAction=(e,n,r,o)=>new RemoveAction({store:e,modelList:n,context:r,silent:o}),makeStoreRemoveAllAction=(e,n,r)=>new RemoveAllAction({store:e,allRecords:n,silent:r}),stateTransition=(e,n,...r)=>{const o=e.state,i=n.call(e[Kn],e,...r);if("string"==typeof i)e[Kn]=Registry_resolveStmState(i);else if(i instanceof StateBase)e[Kn]=i;else if(Array.isArray(i)){const[n,o]=i;"string"==typeof n?e[Kn]=Registry_resolveStmState(n):n instanceof StateBase?e[Kn]=n:n&&"object"==typeof n&&((e=Object.assign(e,n))[Kn]=Registry_resolveStmState(e[Kn])),"function"==typeof o&&stateTransition(e,o,...r)}else i&&"object"==typeof i&&((e=Object.assign(e,i))[Kn]=Registry_resolveStmState(e[Kn]));o!==ir&&o!==lr&&i!==ir&&i!==lr&&e.trigger("ready")};class StateTrackingManager extends(Events(Base)){static get defaultConfig(){return{disabled:!0,autoRecord:!1,autoRecordTransactionStopTimeout:100,makeModelUpdateAction,makeModelInsertChildAction,makeModelRemoveChildAction,makeStoreModelAddAction,makeStoreModelInsertAction,makeStoreModelRemoveAction,makeStoreRemoveAllAction,getTransactionTitle:null}}construct(...e){Object.assign(this,{[Kn]:ir,[Xn]:[],[Qn]:[],[Zn]:0,[Jn]:null,[er]:null,[tr]:!1}),super.construct(...e)}get state(){return this[Kn]}get position(){return this[Zn]}get length(){return this[Qn].length}get stores(){return Array.from(this[Xn])}hasStore(e){return this[Xn].includes(e)}addStore(e){this.hasStore(e)||(this[Xn].push(e),e.stm=this)}removeStore(e){this.hasStore(e)&&(this[Xn]=this[Xn].filter((n=>n!==e)),e.stm=null)}forEachStore(e){this[Xn].forEach((n=>e(n,n.id)))}get disabled(){return this.state===rr}set disabled(e){const n=this;n.disabled!=e&&(stateTransition(n,e?n.state.onDisable:n.state.onEnable,n),n.trigger("stmDisabled",{disabled:e}),n.trigger("disabled",{disabled:e}))}enable(){this.disabled=!1}disable(){this.disabled=!0}get isReady(){return this.state===ir||this.state===lr}waitForReadiness(){return this.await("ready",!1)}get isRecording(){return this.state===sr||this.state===ur}get autoRecord(){return this[tr]}set autoRecord(e){const n=this;n.autoRecord!=e&&stateTransition(n,e?n.state.onAutoRecordOn:n.state.onAutoRecordOff,n)}startTransaction(e=null){stateTransition(this,this.state.onStartTransaction,e)}stopTransaction(e=null){stateTransition(this,this.state.onStopTransaction,e)}stopTransactionDelayed(){stateTransition(this,this.state.onStopTransactionDelayed)}rejectTransaction(){stateTransition(this,this.state.onRejectTransaction)}get transaction(){return this[Jn]}get queue(){return this[Qn].map((e=>e.title))}get isRestoring(){return this.state===ar}get canUndo(){return this.state.canUndo(this)}get canRedo(){return this.state.canRedo(this)}async undo(e=1){this.isReady||await this.waitForReadiness(),stateTransition(this,this.state.onUndo,e)}async undoAll(){this.isReady||await this.waitForReadiness(),this.undo(this.length)}async redo(e=1){this.isReady||await this.waitForReadiness(),stateTransition(this,this.state.onRedo,e)}async redoAll(){this.isReady||await this.waitForReadiness(),this.redo(this.length)}resetQueue(e={undo:!0,redo:!0}){stateTransition(this,this.state.onResetQueue,e)}resetUndoQueue(){this.resetQueue({undo:!0})}resetRedoQueue(){this.resetQueue({redo:!0})}notifyStoresAboutStateRecordingStart(e){this.forEachStore((n=>{n.onStmRecordingStart&&n.onStmRecordingStart(this,e)})),this.trigger("recordingStart",{stm:this,transaction:e})}notifyStoresAboutStateRecordingStop(e,n){this.forEachStore((r=>{r.onStmRecordingStop&&r.onStmRecordingStop(this,e,n)})),this.trigger("recordingStop",{stm:this,transaction:e,reason:n})}notifyStoresAboutStateRestoringStart(){this.forEachStore((e=>{e.onStmRestoringStart&&e.onStmRestoringStart(this)})),this.trigger("restoringStart",{stm:this})}notifyStoresAboutStateRestoringStop(){this.forEachStore((e=>{e.onStmRestoringStop&&e.onStmRestoringStop(this)})),this.trigger("restoringStop",{stm:this})}notifyStoresAboutQueueReset(e){this.forEachStore((n=>{n.onStmQueueReset&&n.onStmQueueReset(this,e)})),this.trigger("queueReset",{stm:this,options:e})}onModelUpdate(e,n,r){stateTransition(this,this.state.onModelUpdate,e,n,r)}onModelInsertChild(e,n,r,o){stateTransition(this,this.state.onModelInsertChild,e,n,r,o)}onModelRemoveChild(e,n,r){stateTransition(this,this.state.onModelRemoveChild,e,n,r)}onStoreModelAdd(e,n,r){stateTransition(this,this.state.onStoreModelAdd,e,n,r)}onStoreModelInsert(e,n,r,o,i){stateTransition(this,this.state.onStoreModelInsert,e,n,r,o,i)}onStoreModelRemove(e,n,r,o){stateTransition(this,this.state.onStoreModelRemove,e,n,r,o)}onStoreRemoveAll(e,n,r){stateTransition(this,this.state.onStoreRemoveAll,e,n,r)}onUndoKeyPress(e){this.disabled||(e.shiftKey?this.canRedo&&(e.preventDefault(),this.redo()):this.canUndo&&(e.preventDefault(),this.undo()))}}StateTrackingManager._$name="StateTrackingManager";const Or=Array.prototype.slice,Pr=Object.freeze([]),Hr=Object.freeze({}),qr=/[&<]/,{getPrototypeOf:Lr}=Object,{toString:jr}=Object.prototype,{isEqual:Nr,isObject:$r}=ObjectHelper,Br={parent:1,elementData:1,ns:1,syncOptions:1},makeCheckEqualityOptions=()=>({ignore:Br,refsFound:new Set}),zr={class:1,className:1,classname:1},Vr={bigint:1,boolean:1,function:1,number:1,string:1,symbol:1},Wr={tag:1,html:1,text:1,children:1,tooltip:1,parent:1,nextSibling:1,ns:1,reference:1,elementData:1,retainElement:1,compareHtml:1,syncOptions:1,listeners:1,isReleased:1,null:1,"":1};class DomSync{static checkEquality(e,n,r,o){if(e===n)return!0;if(null==e)return null==n;if(!e||!n)return!1;const i=typeof e;if(i!==typeof n||Vr[i])return!1;let a,l,c,d,u,p,b,g=r.equalityCache||(r.equalityCache=new Map),m=Boolean(o);if(g=g.get(e)||g.set(e,new Map).get(e),a=g.get(n),void 0===a){if(a=!0,Lr(e)!==Lr(n)||e instanceof Node)a=!1;else if(Array.isArray(e)){if(l=e.length,l!==n.length)a=!1;else for(;l-- >0;)if(!DomSync.checkEquality(e[l],n[l],r,m)){a=!1;break}}else{var f;for(u in p=e.syncOptions,d=null===(f=p)||void 0===f?void 0:f.ignoreRefs,d&&(m=!0,o="children"!==d),c=r.ignore||Hr,n)if(!(c[u]||u in e||o&&"reference"===u)){a=!1;break}if(a)if("[object Date]"===jr.call(n))a=e.getTime()===n.getTime();else for(u in e)if(!(c[u]||o&&"reference"===u)){if(!(u in n)){a=!1;break}if(b=e[u],!DomSync.checkEquality(b,n[u],r,m)){a=!1;break}}}var v;if(!o&&$r(e)&&e.reference)null===(v=r.refsFound)||void 0===v||v.add(e.reference);g.set(n,a)}return a}static sync(e){const n=e,{refOwner:r}=e,o=null==r?void 0:r.byRef,i=makeCheckEqualityOptions();let a,l,c,d,u=e.affected;if("string"==typeof u&&(u=[u]),e=_objectSpread2(_objectSpread2({},e),{},{checkEqualityOptions:i}),r){if(r.byRef={},u)for(l in o)u.includes(l)||(r.byRef[l]=o[l]);e.refsWas=o}if(n.changed=DomSync.performSync(e,e.targetElement),r)for(u||(u=Object.keys(o)),a=0;a<u.length;++a)l=u[a],c=o[l],i.refsFound.has(l)||c.retainElement?r.byRef[l]=c:(d=c.lastDomConfig,c.remove(),r.detachRef(l,c,d));return e.targetElement}static performSync(e,n){const{domConfig:r,callback:o}=e,{lastDomConfig:i}=n;return(e.configEquality||DomSync.checkEquality)(r,i,e.checkEqualityOptions,e.ignoreRefs)?(null==o||o({action:"none",domConfig:r,targetElement:n}),!1):(r?(r.onlyChildren||(DomSync.syncAttributes(r,n,e),DomSync.syncContent(r,n)),DomSync.syncChildren(e,n)):(n.innerHTML=null,n.syncIdMap=null),n.lastDomConfig=null!=r&&r.onlyChildren&&i?_objectSpread2(_objectSpread2({},i),{},{children:r.children}):r,!0)}static syncDataset(e,n){const{lastDomConfig:r}=n,o=e===r,i=Object.keys(e.dataset),a=r&&r.dataset&&Object.keys(r.dataset),l=ArrayHelper.delta(i,a);let c,d,u,p;for(d=0;d<l.onlyInA.length;d++)c=l.onlyInA[d],p=e.dataset[c],null!=p&&n.setAttribute(`data-${StringHelper.hyphenate(c)}`,p);for(d=0;d<l.inBoth.length;d++)c=l.inBoth[d],p=e.dataset[c],(o||p!=r.dataset[c])&&(u=`data-${StringHelper.hyphenate(c)}`,null==p?n.removeAttribute(u):n.setAttribute(u,p));for(d=0;d<l.onlyInB.length;d++)n.removeAttribute(`data-${StringHelper.hyphenate(l.onlyInB[d])}`)}static addCls(e,n){const{lastDomConfig:r}=n;(e=DomClassList.normalize(e,"array")).forEach((e=>{n.classList.add(e),((e,n)=>{const r="className"in n?"className":"class",o=n[r];if(o)if("string"==typeof o){const i=o.split(" ");i.includes(e)||(i.push(e),n[r]=i.join(" "))}else Array.isArray(o)?o.includes(e)||o.push(e):o.isDomClassList?o.add(e):ObjectHelper.isObject(o)&&(o[e]=1)})(e,r)}))}static removeCls(e,n){const{lastDomConfig:r}=n;(e=DomClassList.normalize(e,"array")).forEach((e=>{n.classList.remove(e),((e,n)=>{const r="className"in n?"className":"class",o=n[r];if(o)if("string"==typeof o){const i=o.split(" ");i.includes(e)&&(i.splice(i.indexOf(e),1),n[r]=i.join(" "))}else Array.isArray(o)?o.includes(e)&&o.splice(o.indexOf(e),1):o.isDomClassList?o.remove(e):ObjectHelper.isObject(o)&&delete o[e]})(e,r)}))}static syncClassList(e,n,r){let o,i,a,l,c,d,u=e.className||e.class;if(r){for(i=DomClassList.normalize(n,"array"),u=DomClassList.normalize(u,"object"),d=DomClassList.normalize(r.className||r.class,"object"),c=[],a=0,l=i.length;a<l;++a)o=i[a],!u[o]&&o in d||(d[o]=1,c.push(o));for(o in u)d[o]||c.push(o);u=c.join(" ")}else u=DomClassList.normalize(u);n.setAttribute("class",u)}static getSyncAttributes(e){const n={},r=[];return e&&Object.keys(e).forEach((o=>{if(!Wr[o]){const i=o.toLowerCase();n[i]=e[o],r.push(i)}})),{attributes:n,names:r}}static syncAttributes(e,n,r){const{lastDomConfig:o}=n,i=e===o,a=DomSync.getSyncAttributes(e),{attributes:l,names:c}=a,{attributes:d,names:u}=i?a:DomSync.getSyncAttributes(o),{onlyInA:p,onlyInB:b,inBoth:g}=i?{onlyInA:Pr,onlyInB:Pr,inBoth:c}:ArrayHelper.delta(c,u);let m,f;for(f=0;f<p.length;f++){m=p[f];const r=l[m];"style"===m&&null!=r?DomHelper.applyStyle(n,r,!0):"dataset"===m?DomSync.syncDataset(e,n):zr[m]?DomSync.syncClassList(e,n):null!=r&&n.setAttribute(m,r)}for(f=0;f<b.length;f++)n.removeAttribute(b[f]);for(f=0;f<g.length;f++){m=g[f];const o=l[m],a=d[m];null==o?n.removeAttribute(m):"style"===m?r.strict?i?DomSync.syncStyles(n,o):Nr(o,a,!0)||DomSync.syncStyles(n,o,a):!i&&Nr(o,a,!0)||DomHelper.applyStyle(n,o,!0):"dataset"===m?DomSync.syncDataset(e,n):zr[m]?DomSync.syncClassList(e,n,r.strict&&n.lastDomConfig):(i||o!==a)&&n.setAttribute(m,o)}}static syncStyles(e,n,r){let o,i,a;if(r){if(o={},n=DomHelper.parseStyle(n),r=DomHelper.parseStyle(r),n)for(i in n)a=n[i],r[i]!==a&&(o[i]=a);for(i in r)i in n||(o[i]="")}else o=n;DomHelper.applyStyle(e,o)}static syncContent(e,n){const{html:r,text:o}=e,i=null!=o?o:r;if(e.elementData&&(n.elementData=e.elementData),i instanceof DocumentFragment)1===n.childNodes.length&&0===DomHelper.getChildElementCount(n)&&1===i.childNodes.length&&0===DomHelper.getChildElementCount(i)?DomHelper.setInnerText(n,i.firstChild.data):(n.innerHTML="",n.appendChild(i));else if(null!=r&&qr.test(r))n.innerHTML=String(r);else if(null!=i){var a;const{lastDomConfig:e}=n;null!=e&&null!==(a=e.children)&&void 0!==a&&a.length||null!=e&&e.html&&qr.test(n.lastDomConfig.html)?n.innerHTML=i:DomHelper.setInnerText(n,String(i))}}static insertTextNode(e,n,r,o,i=null){const a=document.createTextNode(e);n.insertBefore(a,i),o&&(a.$refOwnerId=o.id),null==r||r({action:"newNode",domConfig:e,targetElement:a})}static insertElement(e,n,r,o,i,a,l){var c;const d=l.ns?document.createElementNS(l.ns,e.tag||"svg"):document.createElement(e.tag||"div");n.insertBefore(d,r),DomSync.performSync(l,d),null!=a&&(i[a]=d),o&&(d.$refOwnerId=o.id,a&&(d.$reference=a,o.attachRef(a,d,e))),null===(c=l.callback)||void 0===c||c.call(l,{action:"newElement",domConfig:e,targetElement:d,syncId:a})}static syncChildren(e,n){var r,o;let i,a,l,{domConfig:c,syncIdField:d,callback:u,releaseThreshold:p,configEquality:b,ns:g,refOwner:m,refsWas:f,strict:v,checkEqualityOptions:y,ignoreRefs:x}=e,C=c.syncOptions||{},S=null;if(null!==(r=c.html)&&void 0!==r?r:c.text)return;x=Boolean(null!==(o=C.ignoreRefs)&&void 0!==o?o:x),x&&(m=f=null),"strict"in C&&(v=C.strict);const D=m?m.byRef:{},E=Or.call(c.children||[]),k=Or.call(n.childNodes),T=f||n.syncIdMap||{},_=n.releasedIdMap||{},nextTarget=e=>{for(;k.length&&k[0].parentNode!==n;)k.shift();return(e?k.shift():k[0])||null};d=C.syncIdField||d,v=C.strict||v,u=C.callback||u,b=C.configEquality||b,p="releaseThreshold"in C?C.releaseThreshold:p,d&&(n.syncIdMap=D);const M={checkEqualityOptions:y||makeCheckEqualityOptions(),ignoreRefs:x,refOwner:m,refsWas:f,strict:v,syncIdField:d,releaseThreshold:p,callback:u,configEquality:b};for(;E.length;){const e=E.shift();if(l=null,!e)continue;if(e instanceof Node){a=nextTarget(),e!==a&&n.insertBefore(e,a),i=k.indexOf(e),i>-1&&k.splice(i,1);continue}const r="string"==typeof e;if(M.domConfig=e,M.ns=e.ns||g,!r){if(m?l=e.reference:d&&e.dataset&&(l=e.dataset[d]),null!=l&&!e.unmatched){const r=T[l]||_[l];if(r){const{lastDomConfig:o}=r;if(r.retainElement);else if(DomSync.performSync(M,r)){var R;null===(R=u)||void 0===R||R({action:"reuseOwnElement",domConfig:e,targetElement:r,lastDomConfig:o,syncId:l})}e.retainElement&&(r.retainElement=!0),D[l]=r,ArrayHelper.remove(k,r),delete _[l],r.isReleased=!1,a=nextTarget(),(r.parentNode!==n||v&&r.nextSibling!==a)&&n.insertBefore(r,a)}else v?DomSync.insertElement(e,n,nextTarget(),m,D,l,M):(E.push(e),e.unmatched=!0);continue}e.unmatched&&delete e.unmatched}let o,c=null,p=null;for(;!p&&(o=nextTarget(!0));){if(m){if(o.$refOwnerId!==m.id)continue;if(o.$reference){if(!v)continue;c=o;break}p=o}else o.retainElement||(p=o);p||(S||(S=[])).push(o)}if(c||!p)r?DomSync.insertTextNode(e,n,u,m,c):DomSync.insertElement(e,n,c,m,D,l,M);else if(r||p.nodeType!==Node.ELEMENT_NODE||(e.tag||"div").toLowerCase()!==p.tagName.toLowerCase())r&&p.nodeType===Node.TEXT_NODE?p.data=e:(r?DomSync.insertTextNode(e,n,u,m,p):DomSync.insertElement(e,n,p,m,D,l,M),p.remove());else{var I,F;const{lastDomConfig:n}=p,r=DomSync.performSync(M,p);d&&null!=(null==n||null===(I=n.dataset)||void 0===I?void 0:I[d])&&delete _[n.dataset[d]],null!=l&&(D[l]=p),p.isReleased=!1,r&&(null===(F=u)||void 0===F||F({action:"reuseElement",domConfig:e,targetElement:p,lastDomConfig:n,syncId:l}))}}for(;a=nextTarget(!0);)m&&(a.$refOwnerId!==m.id||a.$reference)||(S||(S=[])).push(a);S&&DomSync.syncChildrenCleanup(n,S,D,u,m,p,d)}static syncChildrenCleanup(e,n,r,o,i,a,l){let c,d=0;for(const u of n){const{lastDomConfig:n}=u;u.retainElement?l&&n&&(r[u.dataset[l]]=u):!i&&l&&(null==a||d<a)?(u.isReleased||(u.className="b-released",u.isReleased=!0,null!=n&&n.dataset&&(e.releasedIdMap||(e.releasedIdMap={}),e.releasedIdMap[n.dataset[l]]=u),null==o||o({action:"releaseElement",domConfig:n,lastDomConfig:n,targetElement:u}),n&&(n.isReleased=!0,n.className&&(n.className="b-released"),n.class&&(n.class="b-released"),n.style&&(n.style=null))),d++):(u.remove(),i&&(c=u.$reference,c&&i.detachRef(c,u,n)),e.releasedIdMap&&l&&null!=n&&n.dataset&&delete e.releasedIdMap[n.dataset[l]],null==o||o({action:"removeElement",domConfig:u.lastDomConfig,lastDomConfig:u.lastDomConfig,targetElement:u}))}}static removeChild(e,n){if(e.contains(n)){const r=e.syncIdMap;if(r){const e=Object.values(r).indexOf(n);e>-1&&delete r[Object.keys(r)[e]]}e.removeChild(n)}}static addChild(e,n,r){e.appendChild(n),e.syncIdMap[r]=n}static getChild(e,n){const r=String(n).split(".");for(const n of r){var o,i;if(!(e=null===(o=e)||void 0===o||null===(i=o.syncIdMap)||void 0===i?void 0:i[n]))return null}return e}}DomSync._$name="DomSync";class Fullscreen{static init(){const e=["fullscreenEnabled","requestFullscreen","exitFullscreen","fullscreenElement"],prefixFn=n=>e.map((e=>{let r=n+StringHelper.capitalize(e);return"moz"===n&&(r=r.replace("screen","Screen"),"mozCancelFullScreen"in document&&"exitFullscreen"===e&&(r="mozCancelFullScreen")),r}));this.functions="fullscreenEnabled"in document&&e||"webkitFullscreenEnabled"in document&&prefixFn("webkit")||"mozFullScreenEnabled"in document&&prefixFn("moz")||"msFullscreenEnabled"in document&&prefixFn("ms")||[];const n=["fullscreenchange","fullscreenerror"],prefixEvt=e=>n.map((n=>e+StringHelper.capitalize(n)));this.events="fullscreenEnabled"in document&&n||"webkitFullscreenEnabled"in document&&prefixEvt("webkit")||"mozFullscreenEnabled"in document&&prefixEvt("moz")||"msFullscreenEnabled"in document&&["MSFullscreenChange","MSFullscreenError"]||[]}static get enabled(){return document[this.functions[0]]}static request(e){return e[this.functions[1]]()}static exit(){return document[this.functions[2]]()}static get isFullscreen(){return!!this.element}static get element(){return document[this.functions[3]]}static onFullscreenChange(e){document.addEventListener(this.events[0],e)}static unFullscreenChange(e){document.removeEventListener(this.events[0],e)}}Fullscreen.init(),Fullscreen._$name="Fullscreen";let Ur=null;const Gr=[],isAbsolutelyPositioned=e=>{var n;return e.nodeType===e.ELEMENT_NODE&&"absolute"===(null===(n=e.ownerDocument.defaultView)||void 0===n?void 0:n.getComputedStyle(e).getPropertyValue("position"))};class ResizeMonitor{static addResizeListener(e,n){const r=this;if(e!==document&&e!==window||(e=document.body),e.nodeType===e.DOCUMENT_FRAGMENT_NODE&&(e=e.host),e.classList.contains("b-resize-monitored")||(e.classList.add("b-resize-monitored"),e._bResizemonitor={handlers:[]}),e===document.body)r.hasWindowResizeListener||(window.addEventListener("resize",r.onWindowResize),r.hasWindowResizeListener=!0);else if(window.ResizeObserver)r.resizeObserver||(r.resizeObserver=new ResizeObserver(r.onElementResize)),r.resizeObserver.observe(e);else{e.classList.add("b-no-resizeobserver");const[o,i,a]=DomHelper.createElement({parent:e,className:"b-resize-monitors",children:[{className:"b-resize-monitor-expand"},{className:"b-resize-monitor-shrink"}]},!0);i.scrollLeft=i.scrollTop=a.scrollLeft=a.scrollTop=1e6,i.addEventListener("scroll",r.onSizeMonitorScroll,!0),a.addEventListener("scroll",r.onSizeMonitorScroll,!0),(n.targetMutationMonitor=new MutationObserver((e=>{const n=[];for(const r of e)"childList"===r.type&&(n.push.apply(n,r.removedNodes),n.push.apply(n,r.addedNodes));n.length>0&&n.every(isAbsolutelyPositioned)||(!BrowserHelper.isEdge&&!BrowserHelper.isIE11||i.classList.contains("b-resize-monitor-expand"))&&i.dispatchEvent(new CustomEvent("scroll",{bubbles:!1}))}))).observe(e,{childList:!0,subtree:!0}),n.monitorElement=o}e._bResizemonitor.handlers.push(n)}static removeResizeListener(e,n){if(e){e!==document&&e!==window||(e=document.body);const r=e._bResizemonitor;let o=0;r&&r.handlers&&(ArrayHelper.remove(r.handlers,n),o=r.handlers.length),o||(e.classList.remove("b-resize-monitored"),this.resizeObserver?this.resizeObserver.unobserve(e):(n.monitorElement&&(n.monitorElement.remove(),n.monitorElement=null),n.targetMutationMonitor&&n.targetMutationMonitor.disconnect()))}}static onElementResize(e){for(const n of e){const e=n.target,r=e._bResizemonitor,o=n.contentRect||e.getBoundingClientRect();if(e.offsetParent&&(!r.rectangle||o.width!==r.rectangle.width||o.height!==r.rectangle.height)){const n=r.rectangle;r.rectangle=o;for(const i of r.handlers)i(e,n,o)}}}static onSizeMonitorScroll(e){var n;if(null!==(n=document.body)&&void 0!==n&&n.contains(e.target)){e.stopImmediatePropagation();const n=e.target.parentNode,r=n.parentNode,o=r._bResizemonitor,i=r.getBoundingClientRect();o.rectangle&&i.width===o.rectangle.width&&i.height===o.rectangle.height||(Gr.push([r,o.rectangle,i]),o.rectangle=i,Ur||(Ur=requestAnimationFrame(ResizeMonitor.fireResizeEvents))),n.firstChild.scrollLeft=n.firstChild.scrollTop=n.childNodes[1].scrollTop=n.childNodes[1].scrollLeft=1e6}}static onWindowResize(e){const n=document.body,r=n._bResizemonitor,o=r.rectangle;r.rectangle=document.documentElement.getBoundingClientRect();for(const e of r.handlers)e(n,o,r.rectangle)}static fireResizeEvents(){for(const e of Gr)for(const n of e[0]._bResizemonitor.handlers)e[0].offsetParent&&n.apply(this,e);Ur=null,Gr.length=0}}ResizeMonitor._$name="ResizeMonitor";class Point extends Rectangle{static from(e){const n=e.changedTouches;return new Point(n?n[0].screenX:e.screenX,n?n[0].screenY:e.pageY)}constructor(e,n){super(e,n,0,0)}constrain(e){return this.x=Math.min(Math.max(this.x,e.x),e.right-1),this.y=Math.min(Math.max(this.y,e.y),e.bottom-1),this}toArray(){return[this.x,this.y]}}Object.getPrototypeOf(Point).Point=Point,Point._$name="Point";const Yr=["clientX","clientY","pageX","pageY","screenX","screenY"],Kr={element:1,thisObj:1,once:1,delegate:1,delay:1,capture:1,passive:1,throttled:1,autoDetach:1,expires:1},Xr={get:()=>!0},Qr={Spacebar:"Space",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown"},Zr={Meta:1,Control:1,Alt:1};function getAccessorFromPrototype(e,n){let r,o;for(;(e=Object.getPrototypeOf(e))&&!o;)r=Object.getOwnPropertyDescriptor(e,n),o=r&&r.get;return o}class EventHelper{static normalizeEvent(e){return ObjectHelper.copyPropertiesIf(e,e.changedTouches[0]||e.touches[0],Yr)}static getXY(e){return e.touches&&(e=e.touches[0]),[e.clientX,e.clientY]}static getDistanceBetween(e,n){const r=Jr.getXY(e),o=Jr.getXY(n);return Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2))}static getPagePoint(e){return new Rectangle.Point(e.pageX,e.pageY)}static getClientPoint(e){return new Rectangle.Point(e.clientX,e.clientY)}static addListener(e,n,r,o){return o=e.nodeType?"string"==typeof n?Object.assign({element:e,[n]:r},o):Object.assign({element:e},n):e,Jr.on(o)}static on(e){const n=e.element,r=e.thisObj,o=[];for(const i in e)if(!Kr[i]){let a=e[i];"object"!=typeof a&&(a={handler:a});const l=a.element||n;BrowserHelper.isTouchDevice&&!BrowserHelper.isAndroid&&"contextmenu"===i&&o.push(Jr.addElementListener(l,"touchstart",{handler:Jr.createContextMenuWrapper(a.handler,a.thisObj||r)},e)),o.push(Jr.addElementListener(l,i,a,e))}const detacher=()=>{for(let e,n=0;n<o.length;n++)e=o[n],Jr.removeEventListener(e[0],e[1],e[2]);o.length=0};return r&&!1!==e.autoDetach&&(r.doDestroy=FunctionHelper.createInterceptor(r.doDestroy,detacher,r)),detacher}static addElementListener(e,n,r,o){const i=Jr.createHandler(e,n,r,o),a="passive"in r,l=r.expires||o.expires;let c=r.capture||o.capture;if((a||"passive"in o)&&BrowserHelper.supportsPassive&&(c={capture:!!c,passive:a?r.passive:o.passive}),e.addEventListener(n,i,c),l){const a=r.thisObj||o.thisObj,c=null!=a&&a.isDelayable?a:window,{alt:d}=l,u=d?l.delay:l,{spec:p}=i;p.expires=l,p.timerId=c["number"==typeof u?"setTimeout":"requestAnimationFrame"]((()=>{p.timerId=null,Jr.removeEventListener(e,n,i),d&&!i.called&&("string"==typeof d?a[d]:d).call(a)}),u,`listener-timer-${performance.now()}`)}return[e,n,i,c]}static fixEvent(e){var n,r,o,i;const{type:a}=e;if(a.startsWith("key")){const n=Qr[e.key];n&&Object.defineProperty(e,"key",{get:()=>n})," "!==e.key||e.code||Object.defineProperty(e,"code",{get:()=>"Space"})}if(e.metaKey&&!e.ctrlKey&&Object.defineProperty(e,"ctrlKey",Xr),null!==(n=e.target)&&void 0!==n&&n.shadowRoot&&e.composedPath&&!BrowserHelper.isIE11&&!BrowserHelper.isEdge){const n=e.composedPath()[0],r=e.target;e.target!==n&&(Object.defineProperty(e,"target",{get:()=>n,configurable:!0}),Object.defineProperty(e,"originalTarget",{get:()=>r,configurable:!0}))}if(BrowserHelper.isChrome&&e.target&&"offsetX"in e&&(Object.getOwnPropertyDescriptor(e,"offsetX")||Object.defineProperty(e,"offsetX",{get:()=>{const n=getAccessorFromPrototype(e,"offsetX").call(e),{target:r}=e,{offsetWidth:o}=r,i=Math.min(Math.max(n,0),o-1);return n<0||n>=o?i:n}}),Object.getOwnPropertyDescriptor(e,"offsetY")||Object.defineProperty(e,"offsetY",{get:()=>{const n=getAccessorFromPrototype(e,"offsetY").call(e),{target:r}=e,{offsetHeight:o}=r,i=Math.min(Math.max(n,0),o-1);return n<0||n>=o?i:n}})),(null===(r=e.target)||void 0===r?void 0:r.nodeType)===Element.DOCUMENT_NODE&&"clientX"in e){const n=DomHelper.elementFromPoint(e.clientX,e.clientY);Object.defineProperty(e,"target",{get:()=>n})}if((null===(o=e.target)||void 0===o?void 0:o.nodeType)===Element.TEXT_NODE){const n=e.target.parentElement;Object.defineProperty(e,"target",{get:()=>n})}if((null===(i=e.relatedTarget)||void 0===i?void 0:i.nodeType)===Element.TEXT_NODE){const n=e.target.parentElement;Object.defineProperty(e,"relatedTarget",{get:()=>n})}return a.startsWith("touch")&&e.touches.length&&this.normalizeEvent(e),e}static createHandler(e,n,r,o){const i=r.delay||o.delay,a=r.throttled||o.throttled,l=r.block||o.block,c=r.once||o.once,d=r.thisObj||o.thisObj,u=r.capture||o.capture,p=r.delegate||o.delegate,b=r.handler;let handler=(e,...n)=>{if(handler.called=!0,!(Jr.playingDemo&&e.isTrusted||d&&d.isDestroyed)){if(e=Jr.fixEvent(e),p){var r;const n=(null===(r=e.target.closest)||void 0===r?void 0:r.call)&&e.target.closest(p);if(!n)return;Object.defineProperty(e,"currentTarget",{get:()=>n,configurable:!0})}("string"==typeof b?d[b]:b).call(d,e,...n)}};if(l){const e=handler;let n,r;handler=(o,...i)=>{const a=performance.now();(!n||o.target!==r||a-n>l)&&(r=o.target,n=a,e(o,...i))}}if(null!=i){const e=handler,n=d&&d.setTimeout?d:window;handler=(...r)=>{n.setTimeout((()=>{e(...r)}),i)}}if(null!=a){let e,n=a;a.buffer&&(e=e=>a.alt.call(Jr,Jr.fixEvent(e)),n=a.buffer),handler=d&&d.isDelayable?d.throttle(handler,{delay:n,throttled:e}):FunctionHelper.createThrottled(handler,n,d,null,e)}if(c){const r=handler;handler=(...o)=>{Jr.removeEventListener(e,n,handler),r(...o)}}return r.thisObj&&!1!==r.autoDetach&&(d.doDestroy=FunctionHelper.createInterceptor(d.doDestroy,(()=>Jr.removeEventListener(e,n,handler)),d)),handler.spec={delay:i,throttled:a,block:l,once:c,thisObj:d,capture:u,delegate:p},handler}static removeEventListener(e,n,r){const{expires:o,timerId:i,thisObj:a,capture:l}=r.spec;if(null!=o&&o.alt&&i){(null!=a&&a.isDelayable?a:window)["number"==typeof o.delay?"clearTimeout":"cancelAnimationFrame"](i)}e.removeEventListener(n,r,l)}static onTransitionEnd({element:e,property:n,handler:r,mode:o="transition",duration:i=DomHelper[`get${"transition"===o?"Property":""}${StringHelper.capitalize(o)}Duration`](e,n),thisObj:a=window,args:l=[]}){let c;const d=[e,n,...l],u=a.isDelayable?a:window,doCallback=()=>{p(),a.isDestroyed||(a.callback?a.callback(r,a,d):r.apply(a,d))},p=Jr.on({element:e,[`${o}end`]({propertyName:r,target:o}){r===n&&o===e&&(c&&(u.clearTimeout(c),c=null),doCallback())}});return null!=i&&(c=u.setTimeout(doCallback,i+50)),p}static async waitForTransitionEnd(e){return new Promise((n=>{e.handler=n,EventHelper.onTransitionEnd(e)}))}static createContextMenuWrapper(e,n){return r=>{if(1===r.touches.length){const o=r.touches[0],i=setTimeout((()=>{a();const i=new MouseEvent("contextmenu",o);Object.defineProperty(i,"target",{get:()=>o.target}),"string"==typeof e&&(e=n[e]),i.browserEvent=r,e.call(n,i),Jr.contextMenuTouchId=o.identifier}),Jr.longPressTime),onMoveOrPointerUp=({clientX:e,clientY:n,type:r})=>{let l="touchend"===r||"pointerup"===r;if(!l){const r=Math.abs(e-o.clientX),i=Math.abs(n-o.clientY);l=r>=5||i>=5}l&&(Jr.contextMenuTouchId=null,a(),clearTimeout(i))},a=Jr.on({element:document,touchmove:onMoveOrPointerUp,touchend:onMoveOrPointerUp,pointermove:onMoveOrPointerUp,pointerup:onMoveOrPointerUp,capture:!0})}}}static createDblClickWrapper(e,n,r){let o,i,a;return()=>{i||(i=Jr.on({element:e,touchstart:e=>{o=e.changedTouches[0].identifier,e.preventDefault()},touchend:e=>{if(e.changedTouches[0].identifier===o){e.preventDefault(),clearTimeout(a),o=i=null;const l=Rectangle.from(e.changedTouches[0].target,null,!0),c=e.changedTouches[0].pageX-l.x,d=e.changedTouches[0].pageY-l.y,u=Object.assign({browserEvent:e},e),p=new MouseEvent("dblclick",u);Object.defineProperty(p,"target",{get:()=>e.target}),Object.defineProperty(p,"offsetX",{get:()=>c}),Object.defineProperty(p,"offsetY",{get:()=>d}),"string"==typeof n&&(n=r[n]),n.call(r,p)}},once:!0}),a=setTimeout((()=>{i(),o=i=null}),Jr.dblClickTime))}}}_defineProperty(EventHelper,"eventNameMap",{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut"});const Jr=EventHelper;Jr.longPressTime=500,Jr.dblClickTime=300,Jr.on({element:document,mousedown({target:e}){if(!DomHelper.isTouchEvent){var n;const r=DomHelper.getRootElement(e);DomHelper.usingKeyboard=!1,null===(n=r.classList)||void 0===n||n.remove("b-using-keyboard"),DomHelper.removeClsGlobally(r,"b-using-keyboard")}},touchmove({changedTouches:e}){var n;const r=e[0].target,o=DomHelper.getRootElement(r);DomHelper.usingKeyboard=!1,null===(n=o.classList)||void 0===n||n.remove("b-using-keyboard"),DomHelper.removeClsGlobally(o,"b-using-keyboard")},keydown({target:e,key:n}){if(!Zr[n]){DomHelper.usingKeyboard=!0;const n=DomHelper.getRootElement(e);n.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(n.children).forEach((e=>{e.matches(".b-outer")&&e.classList.add("b-using-keyboard")})):n.classList.add("b-using-keyboard")}}}),BrowserHelper.isTouchDevice&&Jr.on({element:document,touchmove:e=>{e.target.closest(".b-dragging")&&e.preventDefault()},passive:!1,capture:!0}),EventHelper._$name="EventHelper";const eo={true:"auto",false:"hidden","hidden-scroll":"auto",clip:BrowserHelper.supportsOverflowClip?"clip":"hidden"},to="b-widget-scroller",no={block:"nearest"},ro=Promise.resolve(),scrollPromise=e=>new Promise((n=>EventHelper.on({element:e,scroll:n,once:!0}))),oo={x:1},io={auto:1,scroll:1},so={overflowX:"auto",overflowY:"auto"};class Scroller extends(Delayable(Events(Base))){static get configurable(){return{widget:null,element:{$config:{nullify:!0},value:null},overflowX:null,overflowY:null,translate:null,x:0,y:0}}static get delayable(){return{onScrollEnd:{type:"buffer",delay:100}}}syncOverflowState(){const{element:e}=this,n=new DomClassList(e.classList),r=this.hasOverflowX=e.scrollWidth>e.clientWidth,o=this.hasOverflowY=e.scrollHeight>e.clientHeight;n.value=e.classList;(n.toggle("b-horizontal-overflow",r)||n.toggle("b-vertical-overflow",o))&&(DomHelper.syncClassList(e,n),this.isConfiguring||this.trigger("overflowChange",{x:r,y:o}))}hasOverflow(e="y"){if(!DomHelper.scrollBarWidth||BrowserHelper.isFirefox){const n="y"===e?"Height":"Width";return this[`scroll${n}`]>this[`client${n}`]}return this[`hasOverflow${e.toUpperCase()}`]}hasScrollbar(e="y"){const{element:n}=this;if(n&&DomHelper.scrollBarWidth){const r="y"===e,o=r?"Width":"Height",i=n[`client${o}`],a=parseInt(DomHelper.getStyleValue(n,`border${r?"Left":"Top"}Width`))+parseInt(DomHelper.getStyleValue(n,`border${r?"Right":"Bottom"}Width`)),l=n[`offset${o}`]-a-i;return Math.abs(l-DomHelper.scrollBarWidth)<2}}addPartner(e,n=oo){const r=this;"string"==typeof n&&(n={[n]:1}),r.partners||(r.partners={}),r.partners[e.id]={scroller:e,axes:n},n.x&&(e.x=r.x),n.y&&(e.y=r.y),e.isPartneredWith(r)||e.addPartner(r,n)}eachPartner(e){const{partners:n}=this;n&&Object.values(n).forEach(e)}removePartner(e){this.isPartneredWith(e)&&(delete this.partners[e.id],e.removePartner(this))}isPartneredWith(e){return Boolean(this.partners&&this.partners[e.id])}clearPartners(){this.partners&&Object.values(this.partners).forEach((e=>e.scroller.removePartner(this)))}async scrollIntoView(e,n=no){const r=this,{isRectangle:o}=e,i=o?e:Rectangle.from(e),{xDelta:a,yDelta:l}=r.getDeltaTo(e,n),c=r.scrollBy(a,l,n);return(n.highlight||n.focus)&&c.then((()=>{o&&(e=i.translate(-a,-l)),n.highlight&&(isNaN(n.highlight)?(r.widget||r).callback(n.highlight,null,[e]):DomHelper.highlight(e,r)),n.focus&&DomHelper.focusWithoutScrolling(e)})),c}static async scrollIntoView(e,n=no){const r=Rectangle.from(e),o="object"==typeof n?n.animate:n,i=Scroller._globalScroller||(Scroller._globalScroller=new Scroller),a=[];let l,c=0,d=0;for(let o=e.parentNode;o.nodeType===Node.ELEMENT_NODE;o=o.parentNode){if(o===document.body&&o!==document.scrollingElement)continue;const e=o===document.scrollingElement?so:o.ownerDocument.defaultView.getComputedStyle(o);if(!1!==n.y&&io[e.overflowY]&&o.scrollHeight>o.clientHeight||!1!==n.x&&io[e.overflowX]&&o.scrollWidth>o.clientWidth){i.element=o,i.positionDirty=!0;const{xDelta:e,yDelta:l}=i.getDeltaTo(r,n);(e||l)&&(a.push({element:o,x:o.scrollLeft,y:o.scrollTop,xDelta:e,yDelta:l}),r.translate(-e,-l),c+=e,d+=l)}}if(a.length){const e=Math.abs(c),n=Math.abs(d);let r=o&&("number"==typeof o?o:"number"==typeof o.duration?o.duration:300);if(r&&(e>10||n>10))Math.max(e,n)<50&&(r=Math.min(r,500)),l=i.scrollAnimation=FunctionHelper.animate(r,(e=>{const n=1===e;for(const{element:r,x:o,y:l,xDelta:c,yDelta:d}of a)i.element=r,c&&(i.x=Math.max(o+(n?c:Math.round(c*e)),0)),d&&(i.y=Math.max(l+(n?d:Math.round(d*e)),0))}),null,o.easing),l.then((()=>{i.scrollAnimation=null}));else{for(const{element:e,xDelta:n,yDelta:r}of a)e.scrollTop+=r,e.scrollLeft+=n;l=scrollPromise(a[a.length-1].element)}}else l=ro;return(n.highlight||n.focus)&&l.then((()=>{n.highlight&&(isNaN(n.highlight)?i.callback(n.highlight,null,[e]):DomHelper.highlight(e,i)),n.focus&&e.focus()})),l}async scrollBy(e=0,n=0,r=no){const o=this,i="object"==typeof r?r.animate:r,a=Math.abs(e),l=Math.abs(n);o.scrollAnimation&&(o.scrollAnimation.cancel(),o.scrollAnimation=null),(e||n)&&(o.silent=r.silent);let c=i&&("number"==typeof i?i:"number"==typeof i.duration?i.duration:300);if(c&&(a>10||l>10)){const{x:d,y:u}=o;let p=d,b=u;return Math.max(a,l)<50&&(c=Math.min(c,500)),o.scrollAnimation=FunctionHelper.animate(c,(i=>{const a=1===i;if(e){if(o.x!==p&&!r.force)return o.scrollAnimation&&o.scrollAnimation.cancel();o.x=Math.max(d+(a?e:Math.round(e*i)),0)}if(n){if(o.y!==b&&!r.force)return o.scrollAnimation&&o.scrollAnimation.cancel();o.y=Math.max(u+(a?n:Math.round(n*i)),0)}p=o.x,b=o.y}),o,i.easing),o.element.classList.add("b-scrolling"),o.scrollAnimation.then((()=>{o.isDestroyed||(o.element.classList.remove("b-scrolling"),o.scrollAnimation=null)})),o.scrollAnimation}return e|n?(o.x+=e,o.y+=n,scrollPromise(o.element)):ro}async scrollTo(e,n,r){const{x:o,y:i}=this,a=null==e?0:e-o,l=null==n?0:n-i;return this.scrollBy(a,l,r)}doDestroy(){const e=this;e._element&&(e._element.removeEventListener("scroll",e.scrollHandler),e.wheelListenerRemover&&e.wheelListenerRemover()),e.scrollAnimation&&e.scrollAnimation.cancel(),Object.values(e.partners||{}).forEach((({scroller:n})=>n.removePartner(e))),super.doDestroy()}onElMutation(e){const n=this,[r,o]=DomHelper.getTranslateXY(n.element);if(n._x!==-r||n.y!==-o){const e=new CustomEvent("scroll",{bubbles:!0});Object.defineProperty(e,"target",{get:()=>n.element}),n.onScroll(e)}}onElResize(){var e;null!==(e=this.owner)&&void 0!==e&&e.isAnimating?this.owner.on({animationEnd:"onElResize",thisObj:this,once:!0}):this.syncOverflowState()}onScroll(e){const n=this,{_x:r,_y:o,element:i}=n;let a=0;"clip"===n.overflowX&&i.scrollLeft!==r&&(i.scrollLeft=r,++a),"clip"===n.overflowY&&i.scrollTop!==o&&(i.scrollTop=o,++a),2!==a&&(n.widget&&n.widget.isDestroyed||(n.positionDirty=!0,n.element.classList.contains("b-scrolling")||n.element.classList.add("b-scrolling"),e.widget=n.widget,n.silent||n.trigger("scroll",e),n.syncPartners(),n.controllingPartner=null,n.onScrollEnd(e)))}syncPartners(e){const n=this;n.partners&&Object.values(n.partners).forEach((({axes:r,scroller:o})=>{(o!==n.controllingPartner||e)&&o.sync(n,r)}))}onScrollEnd(e){const n=this;n.silent&&(n.silent=!1),n.trigger("scrollEnd",e),n.controllingPartner=null,n.element.classList.remove("b-scrolling")}getDeltaTo(e,n){const r=this;if(!r.viewport)return{xDelta:0,yDelta:0};const o=e instanceof Rectangle?e:Rectangle.from(e),i=n.block||"nearest",a=r.viewport,l=n.edgeOffset||0,c=a.width>=o.width+2*l?l:0,d=a.height>=o.height+2*l?l:0,u=o.clone().adjust(-c,-d,c,d).constrainTo(new Rectangle(a.x-r.x,a.y-r.y,r.scrollWidth,r.scrollHeight)),p=u.clone();let b=0,g=0;if("start"===i)p.moveTo(a.x,a.y),b=u.x-p.x,g=u.y-p.y;else if("end"===i)p.translate(a.right-p.right,a.bottom-p.bottom),b=u.x-p.x,g=u.y-p.y;else if("center"===i){const e=a.center;p.moveTo(e.x-p.width/2,e.y-p.height/2),b=b||u.x-p.x,g=g||u.y-p.y}else p.width>a.width?b=p.x-a.x:p.right>a.right?b=p.right-a.right:p.x<a.x&&(b=p.x-a.x),p.height>a.height?g=p.y-a.y:p.bottom>a.bottom?g=p.bottom-a.bottom:p.y<a.y&&(g=p.y-a.y);return{xDelta:!1===n.x?0:Math.max(Math.min(Math.round(b),r.maxX-r.x),-r.x),yDelta:!1===n.y?0:Math.max(Math.min(Math.round(g),r.maxY-r.y),-r.y)}}get viewport(){return Rectangle.client(this.element)}updateElement(e,n){const r=this;if(r===Scroller._globalScroller)return r._element=e,void(r.positionDirty=!0);const o=r.scrollHandler||(r.scrollHandler=r.onScroll.bind(r)),i=r.resizeHandler||(r.resizeHandler=r.onElResize.bind(r));if(n){var a;if(r.translate)null===(a=r.mutationObserver)||void 0===a||a.disconnect(n);else n.removeEventListener("scroll",o),n.classList.remove(to),n.style.overflowX=n.style.overflowY="";ResizeMonitor.removeResizeListener(n,i)}if(e){if(r.translate){if(r.mutationObserver||(r.mutationObserver=new MutationObserver(r.mutationHandler||(r.mutationHandler=r.onElMutation.bind(r)))),r._x=r._y=0,document.contains(e)){const[n,o]=DomHelper.getTranslateXY(e);r._x=-n,r._y=-o}r.mutationObserver.observe(e,{attributes:!0})}else e.addEventListener("scroll",o),e.classList.add(to);ResizeMonitor.addResizeListener(e,i),r.positionDirty&&(r.updateOverflowX(r.overflowX),r.updateOverflowY(r.overflowY)),r.syncOverflowState(),r.isConfiguring&&(r._x&&r.updateX(r._x),r._y&&r.updateY(r._y))}r.positionDirty=!0}get x(){const e=this,{element:n}=e;if(n&&e.positionDirty){if(e.translate){const[r,o]=DomHelper.getTranslateXY(n);e._x=-r,e._y=-o}else e._x=n.scrollLeft,e._y=n.scrollTop;e.positionDirty=!1}return e._x}changeX(e){if(!this.isConfiguring||e)return e;this._x=e}updateX(e){const{element:n,widget:r}=this;!n||null!=r&&r.isConfiguring||(this.trigger("scrollStart",{x:e}),this.translate?DomHelper.setTranslateX(n,-e):n.scrollLeft=e),this.positionDirty=!0}sync(e,n){const{x:r,y:o}=n;null!=r&&this.x!==e.x&&(this.controllingPartner=e,this.x=e.x),null!=o&&this.y!==e.y&&(this.controllingPartner=e,this.y=e.y)}get y(){const e=this,{element:n}=e;if(n&&e.positionDirty){if(e.translate){const[r,o]=DomHelper.getTranslateXY(n);e._x=-r,e._y=-o}else e._x=n.scrollLeft,e._y=n.scrollTop;e.positionDirty=!1}return e._y}changeY(e){if(!this.isConfiguring||e)return e;this._y=e}updateY(e){const{element:n,widget:r}=this;!n||null!=r&&r.isConfiguring||(this.trigger("scrollStart",{y:e}),this.translate?DomHelper.setTranslateY(n,-e):n.scrollTop=e),this.positionDirty=!0}get maxX(){return this.scrollWidth-this.clientWidth}get maxY(){return this.scrollHeight-this.clientHeight}updateOverflowX(e,n){const{element:r,translate:o}=this,{style:i,classList:a}=r;if("hidden-scroll"===n&&a.remove("b-hide-scroll"),"hidden-scroll"===e&&!o){io[i.overflowY]?(e="hidden",this.enableWheel()):a.add("b-hide-scroll")}o||(i.overflowX=eo[e]||e),this.positionDirty=!this.isConfiguring}updateOverflowY(e,n){const{element:r,translate:o}=this,{style:i,classList:a}=r;if("hidden-scroll"===n&&a.remove("b-hide-scroll"),"hidden-scroll"===e&&!o){io[i.overflowX]?(e="hidden",this.enableWheel()):a.add("b-hide-scroll")}o||(i.overflowY=eo[e]||e),this.positionDirty=!this.isConfiguring}enableWheel(){this.wheelListenerRemover||(this.wheelListenerRemover=EventHelper.on({element:this.element,wheel:"onWheel",thisObj:this}))}onWheel(e){Math.abs(e.deltaX)>Math.abs(e.deltaY)&&"hidden-scroll"===this.overflowX?this.x+=e.deltaX:"hidden-scroll"===this.overflowY&&(this.y+=e.deltaY)}get scrollWidth(){var e,n;return null!==(e=null===(n=this.element)||void 0===n?void 0:n.scrollWidth)&&void 0!==e?e:0}set scrollWidth(e){const n=this,{element:r}=n;let o=n.widthStretcher;o&&null==e?(o.remove(),n.widthStretcher=null):e&&(o||(o=n.widthStretcher=DomHelper.createElement({className:"b-scroller-stretcher b-horizontal-stretcher",retainElement:!0})),o.style.transform=`translateX(${e-1}px)`,r&&!r.contains(o)&&r.insertBefore(o,r.firstElementChild)),!1!==n.propagate&&n.eachPartner((({scroller:n})=>{n.propagate=!1,n.scrollWidth=e,delete n.propagate})),n.positionDirty=!0,n.syncOverflowState()}get scrollHeight(){var e,n;return null!==(e=null===(n=this.element)||void 0===n?void 0:n.scrollHeight)&&void 0!==e?e:0}set scrollHeight(e){const n=this,r=n.stretcher||(n.stretcher=DomHelper.createElement({className:"b-scroller-stretcher"}));r.style.transform=`translateY(${e-1}px)`,n.element&&n.element.lastChild!==r&&n.element.appendChild(r),n.positionDirty=!0,n.syncOverflowState()}get clientWidth(){var e;return(null===(e=this.element)||void 0===e?void 0:e.clientWidth)||0}get clientHeight(){var e;return(null===(e=this.element)||void 0===e?void 0:e.clientHeight)||0}get id(){return this._id||(this.widget?this._id=`${this.widget.id}-scroller`:this._id=IdHelper.generateId("scroller-")),this._id}}Scroller._$name="Scroller";const ao="English",lo={localeName:"En",localeDesc:ao,Object:{Yes:"Yes",No:"No",Cancel:"Cancel",Ok:"OK"},Combo:{noResults:"No results",recordNotCommitted:"Record could not be addded",addNewValue:e=>`Add ${e}`},FilePicker:{file:"File"},Field:{badInput:"Invalid field value",patternMismatch:"Value should match a specific pattern",rangeOverflow:e=>`Value must be less than or equal to ${e.max}`,rangeUnderflow:e=>`Value must be greater than or equal to ${e.min}`,stepMismatch:"Value should fit the step",tooLong:"Value should be shorter",tooShort:"Value should be longer",typeMismatch:"Value is required to be in a special format",valueMissing:"This field is required",invalidValue:"Invalid field value",minimumValueViolation:"Minimum value violation",maximumValueViolation:"Maximum value violation",fieldRequired:"This field is required",validateFilter:"Value must be selected from the list"},DateField:{invalidDate:"Invalid date input"},NumberFormat:{locale:"en-US",currency:"USD"},DurationField:{invalidUnit:"Invalid unit"},TimeField:{invalidTime:"Invalid time input"},List:{loading:"Loading..."},GridBase:{loadMask:"Loading...",syncMask:"Saving changes, please wait..."},PagingToolbar:{firstPage:"Go to first page",prevPage:"Go to previous page",page:"Page",nextPage:"Go to next page",lastPage:"Go to last page",reload:"Reload current page",noRecords:"No records to display",pageCountTemplate:e=>`of ${e.lastPage}`,summaryTemplate:e=>`Displaying records ${e.start} - ${e.end} of ${e.allCount}`},PanelCollapser:{Collapse:"Collapse",Expand:"Expand"},UndoRedo:{Undo:"Undo",Redo:"Redo",UndoLastAction:"Undo last action",RedoLastAction:"Redo last undone action"},DateHelper:{locale:"en-US",weekStartDay:0,nonWorkingDays:{0:!0,6:!0},weekends:{0:!0,6:!0},unitNames:[{single:"millisecond",plural:"ms",abbrev:"ms"},{single:"second",plural:"seconds",abbrev:"s"},{single:"minute",plural:"minutes",abbrev:"min"},{single:"hour",plural:"hours",abbrev:"h"},{single:"day",plural:"days",abbrev:"d"},{single:"week",plural:"weeks",abbrev:"w"},{single:"month",plural:"months",abbrev:"mon"},{single:"quarter",plural:"quarters",abbrev:"q"},{single:"year",plural:"years",abbrev:"yr"},{single:"decade",plural:"decades",abbrev:"dec"}],unitAbbreviations:[["mil"],["s","sec"],["m","min"],["h","hr"],["d"],["w","wk"],["mo","mon","mnt"],["q","quar","qrt"],["y","yr"],["dec"]],parsers:{L:"MM/DD/YYYY",LT:"HH:mm A"},ordinalSuffix:e=>{let n="th";if(!["11","12","13"].find((n=>e.endsWith(n)))){n={1:"st",2:"nd",3:"rd"}[e[e.length-1]]||"th"}return e+n}},TrialButton:{downloadTrial:"Download trial"},TrialPanel:{title:"Please complete fields",name:"Name",email:"Email",company:"Company",product:"Product",cancel:"Cancel",submit:"Submit",downloadStarting:"Download starting, please wait..."}};Se.registerLocale("En",{desc:ao,locale:lo});class Promissory{constructor(e){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n})),e&&e(this)}}Promissory._$name="Promissory";const{defineProperty:co}=Reflect;class Renderable extends(Base.mixin(Localizable,Events,Delayable,Identifiable)){static get configurable(){return{element:null}}static get delayable(){return{refreshDom:"raf"}}static get identifiable(){return{}}static get renderConfigs(){const e=this,n=e.$meta;let r,o,i=n.renderConfigs;if(void 0===i){for(o in i=null,r=n.configs,r)r[o].render&&(i||(i=new Set)).add(o);n.renderConfigs=e.prototype.$renderConfigs=i}return i}construct(...e){this.$iid=++Renderable.$idSeed,this.byRef={},super.construct(...e),this.onDraw!==Renderable.prototype.onDraw&&this.initDrawable()}startConfigure(e){this.element=this.renderContext.renderDom(),super.startConfigure(e)}get element(){return this.refreshDom.flush(),this._element}changeElement(e,n){const r=this;return n&&n.remove(),e&&(e.id=r.id,e=DomHelper.createElement(e,{refOwner:r})),e}updateId(e,n){const r=this;if(n){const o=r.element;o.id=e,r.fixRefOwnerId(o,e,n)}}get classes(){return this.element.classList}fixRefOwnerId(e,n,r){if(e.$refOwnerId===r){e.$refOwnerId=n;const o=e.$reference;o&&(e.id=`${n}-${o}`);for(const o of e.childNodes)this.fixRefOwnerId(o,n,r)}}onConfigChange({name:e}){!this.isConfiguring&&this.$renderConfigs.has(e)&&this.refreshDom()}attachRef(e,n,r){const o=this,i="_"+e,{listeners:a}=r;i in o||co(o,e,{get:()=>(o.refreshDom.flush(),o[i]),set(e){o[i]=e}}),n.id=`${o.id}-${e}`,o.byRef[e]=n,o[e]=n,a&&(r.listeners={on:a,un:EventHelper.on(Object.assign({element:n,thisObj:o},a))})}detachRef(e,n,r){r.listeners&&(r.listeners.un(),r.listeners=null),this[e]=null,delete this.byRef[e]}renderDom(){return{}}get renderContext(){const e=this,n=e.$meta,r=e.constructor;let o=n.renderConfigs||r.renderConfigs,i=e;if(!o){i=Object.create(e),o=new Set;for(const r in n.configs)co(i,r,{get:()=>(o.add(r),e[r])});i.renderDom=()=>e.renderDom.call(i),e.$renderConfigs=o}return co(e,"renderContext",{value:i}),i}refreshDom(){DomSync.sync({targetElement:this.element,domConfig:this.renderContext.renderDom(),refOwner:this,strict:!0})}onListen(e){"draw"===e&&this.initDrawable()}initDrawable(){const e=this;if(!e.intersector){let n=Object.values(e.byRef).find((e=>e.classList.contains("b-drawable")));n||(n=e.element,n.classList.add("b-drawable")),e.intersector=!0,EventHelper.on({element:DomHelper.createElement({parent:n,class:"b-drawable-el"}),animationend({animationName:n}){"b-drawable-anim"===n&&e.onDraw({count:++e.drawCounter})}})}}onDraw(e){this.trigger("draw",e)}}Renderable.$idSeed=0,Object.assign(Renderable.prototype,{drawCounter:0,hasGeneratedId:!1,intersector:null}),Renderable._$name="Renderable";class Mask extends Renderable{static get $name(){return"Mask"}static get type(){return"mask"}static get configurable(){return{autoClose:null,cover:null,icon:"b-icon b-icon-spinner",errorDefaults:{icon:"b-icon b-icon-warning",autoClose:3e3,showDelay:0},maxProgress:null,mode:"dark",progress:null,owner:null,target:null,text:null,type:null,showDelay:null,useTransition:!1}}static get delayable(){return{deferredClose:0,delayedShow:0}}construct(e){if(e){let n,r=e.element;r&&(VersionHelper.deprecate("Core","4.0.0",'Mask "element" config has been renamed to "target"'),e=n=Object.assign({},e),delete n.element,n.target=r),r=e.target,"string"==typeof r&&(e=n=n||Object.assign({},e),n.target=e.owner[r])}super.construct(e),this.target||(this.target=document.body),this.show()}doDestroy(){const e=this,{element:n}=e;if("trial"===e.type)return!1;n&&(e.element=null,e.mode.endsWith("blur")&&DomHelper.forEachChild(n,(n=>{n.classList.remove(`b-masked-${e.mode}`)})),e.target.classList.remove("b-masked"),e.target[e.maskName]=null),super.doDestroy()}get maskElement(){return this.element}get maskName(){const e=this.type;return`mask${"string"==typeof e?e.trim():""}`}set error(e){this.setConfig(this.errorDefaults),this.text=e}renderDom(){const e=this,{maxProgress:n}=e;return{class:{"b-mask":1,"b-delayed-show":e.showDelay,"b-widget":1,[`b-mask-${e.mode}`]:1,"b-progress":n,"b-prevent-transitions":!e.useTransition},children:[{reference:"maskContent",class:"b-mask-content b-drawable",children:[n?{reference:"progressElement",class:"b-mask-progress-bar",style:{width:`${Math.max(0,Math.min(100,Math.round(e.progress/n*100)))}%`}}:null,{reference:"maskText",class:"b-mask-text",html:(e.icon?`<i class="b-mask-icon ${e.icon}"></i>`:"")+e.text}]}]}}static mergeConfigs(...e){const n={};for(const r of e)"string"==typeof r?n.text=r:ObjectHelper.assign(n,r);return n}static mask(e,n=document.body){return new Mask("string"!=typeof e?Object.assign({target:n},e):{target:n,text:e})}static unmask(e=document.body){return e.mask&&e.mask.close()}updateAutoClose(e){const n=this;n.deferredClose.cancel(),e&&(n.deferredClose.delay=e,n.deferredClose())}updateCover(){const e=this.owner;e&&e.syncMaskCover&&e.syncMaskCover(this)}updateShowDelay(e){const n=this.delayedShow;n.delay=e,e||n.flush()}deferredClose(){const e=this.owner;this.close().then((()=>{e&&e.onMaskAutoClose&&e.onMaskAutoClose(this)})),e&&e.onMaskAutoClosing&&e.onMaskAutoClosing(this)}delayedShow(){this.classes.remove("b-delayed-show")}show(){const e=this,{element:n,target:r,hiding:o,maskName:i}=e;o&&(o.resolve(),e.hiding=null,e.clearTimeout("hide")),e.showDelay&&(n.classList.add("b-delayed-show"),e.delayedShow()),n.classList.add("b-visible"),n.classList.remove("b-hidden"),r.classList.add("b-masked"),r[i]||(r[i]=e,r.appendChild(n)),e.shown=!0,e.trigger("show"),e.mode.endsWith("blur")&&DomHelper.forEachChild(r,(r=>{r!==n&&r.classList.add(`b-masked-${e.mode}`)}))}hide(){const e=this,{target:n,element:r}=e;let o=e.hiding;if(!o){if(!e.shown)return Promise.resolve();e.hiding=o=new Promissory,e.shown=!1,r.classList.remove("b-visible"),r.classList.add("b-hidden"),n.classList.remove("b-masked"),e.mode.endsWith("blur")&&DomHelper.forEachChild(n,(n=>{n!==r&&n.classList.remove(`b-masked-${e.mode}`)})),o.promise=o.promise.then((()=>{e.hiding===o&&(e.hiding=null)})),e.setTimeout((()=>o.resolve()),500,"hide")}return o.promise}close(){return this.hide().then((()=>{this.destroy()}))}}Mask._$name="Mask";const ho=[],uo=/transparent|rgba\(0,\s*0,\s*0,\s*0\)/,po={INPUT:1,TEXTAREA:1},addElementListeners=(e,n,r,o)=>{var i;let a=null==r?void 0:r.listeners;if(a=(null===(i=a)||void 0===i?void 0:i.on)||a,a){const i=EventHelper.on(ObjectHelper.assign({element:n,thisObj:e},a));o?(e._refListeners||(e._refListeners=Object.create(null)))[o]=i:r.listeners={on:a,un:i}}},mergeAnim=(e,n)=>e&&n&&n[ObjectHelper.keys(e)[0]]?Config.merge(e,n):e,widgetTriggerPaint=e=>{e.isVisible&&e.triggerPaint()},bo=/^:not\((.+)\)$/,go=/absolute|fixed/i,isScaled=e=>null!=e.scale,{hasOwnProperty:mo}=Object.prototype,{defineProperty:fo}=Reflect,parseDuration=e=>parseFloat(e)*(e.endsWith("ms")?1:1e3),vo=Promise.resolve(),yo=["b-aligned-above","b-aligned-right","b-aligned-below","b-aligned-left"],wo={configurable:!0,get:()=>!1},xo=/^([trblc])(\d*)-([trblc])(\d*)$/i,mergeAlign=(e,n)=>(xo.test(e)&&(e={align:e}),xo.test(n)&&(n={align:n}),Config.merge(e,n));class Widget extends(Base.mixin(Localizable,Events,Delayable,Identifiable,Factoryable)){static get $name(){return"Widget"}static get type(){return"widget"}static get configurable(){return{element:!0,callOnFunctions:!0,id:"",html:null,content:null,cls:{$config:{merge:"classList"},value:null},ui:{$config:{merge:"classList"},value:null},collapsify:null,contentElementCls:{$config:{merge:"classList"},value:null},defaultCls:{$config:{merge:"classList"},value:null},dock:null,parent:null,tab:null,elementAttributes:null,htmlCls:{$config:{merge:"classList"},value:{"b-html":1}},style:null,disabled:null,readOnly:{value:null,default:!1,$config:null},adopt:null,appendTo:null,insertBefore:null,insertFirst:null,dataset:null,tooltip:{$config:["lazy","nullify"],value:null},showTooltipWhenDisabled:!0,preventTooltipOnTouch:null,monitorResize:{$config:["lazy","nullify"],value:null},masked:null,maskDefaults:{target:"element"},cache:{},floating:null,positioned:null,draggable:null,align:{$config:{merge:mergeAlign},value:"t-b"},centered:null,constrainTo:void 0,anchor:null,owner:null,scrollAction:null,hideAnimation:{$config:{merge:mergeAnim},value:null},showAnimation:{$config:{merge:mergeAnim},value:null},x:null,y:null,scrollable:{$config:["nullify"],value:null},scrollerClass:Scroller,defaultBindProperty:"html",defaultAction:null,overflowable:{value:null,default:!0,$config:null},width:null,height:null,maxHeight:null,maxWidth:null,minWidth:null,minHeight:null,scaleToFitWidth:null,allowGrowWidth:!0,margin:null,flex:null,weight:null,alignSelf:null,ripple:null,title:null,localizableProperties:["title"],requireSize:!1,ref:null,hidden:null,textAlign:null,ignoreScrollDuration:500,tag:"div",recomposeAsync:null,rootElement:null,htmlMutationObserver:{$config:["lazy","nullify"],value:{childList:!0,subtree:!0}}}}static get prototypeProperties(){return{hasGeneratedId:!1,innerItem:!0}}static get declarable(){return["renderConfigs"]}static get delayable(){return{recompose:"raf",doHideOrRealign:"raf"}}static get factoryable(){return{defaultType:"widget"}}static get identifiable(){return{}}static get all(){return super.all}static get recomposeAsync(){return Widget._recomposeAsync}static set recomposeAsync(e){if(Widget._recomposeAsync=e,null!=e){const{all:n}=Widget;for(let r=0;r<n.length;++r)n[r].isComposable&&(n[r].recomposeAsync=e)}}isType(e,n){return Widget.isType(this,e,n)}static setupRenderConfigs(e,n){let r,{renderConfigs:o}=e;if(o){const e=n.getInherited("renderConfigs",!1)||Object.create(null);if(Array.isArray(o)){for(r=0;r<o.length;++r)e[o[r]]=!0;o=e}else o=Object.assign(e,o)}n.renderConfigs=o}construct(e={},...n){const r=this,{domSyncCallback:o}=r;r._isAnimatingCounter=0,r.alignConstrained=0,r.byRef=Object.create(null),r.callRealign=r.realign.bind(r),r.onTargetResize=r.onTargetResize.bind(r),r.onFullscreenChange=r.onFullscreenChange.bind(r),r.domSyncCallback=o.$nullFn?null:o.bind(r),r._isUserAction=!1,super.construct(e,...n);const{recomposeAsync:i}=Widget;null!=i&&null==r.recomposeAsync&&(r.recomposeAsync=i),r.finalizeInit()}startConfigure(e){const n=this,{adopt:r,element:o}=n;r&&(n.adoptElement(o,r,e.id),n.updateElement(n._element,o)),super.startConfigure(e)}finalizeInit(){(this.insertBefore||this.appendTo||this.insertFirst||this.adopt)&&this.render()}doDestroy(){const e=this,{preExistingElements:n,element:r,_refListeners:o}=e;if(o&&(Object.values(o,(e=>e())),e._refListeners=null),r){var i,a,l;const o=!e._tooltip&&e._rootElement&&(null===(i=Widget.Tooltip)||void 0===i?void 0:i.getSharedTooltip(e._rootElement,!0));if((null==o?void 0:o.owner)===e&&(o.owner=null,o.hide()),e.onExitFullscreen(),e.clearTimeout(e.scrollListenerTimeout),e.clearTimeout(e.resizeListenerTimeout),e.removeTransientListeners(),e.floating||e.positioned?e.hide(!1):e.revertFocus(),ResizeMonitor.removeResizeListener(r.parentElement,e.onParentElementResize),ResizeMonitor.removeResizeListener(r,e.onElementResize),e.adopt){for(let o=Array.from(r.childNodes),i=0,{length:a}=o;i<a;i++){const r=o[i];n.includes(r)||r===e.floatRoot||r.remove()}r.className=e.adoptedElementClassName,r.style.cssText=e.adoptedElementCssText}else r.remove();null===(a=e.dragEventDetacher)||void 0===a||a.call(e),null===(l=e.dragOverEventDetacher)||void 0===l||l.call(e),e.dragGhost.remove()}super.doDestroy()}get isComposable(){return!this.compose.$nullFn}adoptElement(e,n,r){const o=this,i="string"==typeof n?document.getElementById(n):n,a=Widget.fromElement(i);if(a&&a.adopt&&a!==o){("string"==typeof a.adopt?document.getElementById(a.adopt):a.adopt)===i&&a.destroy()}o.preExistingElements=Array.from(i.childNodes),o.adoptedElementClassName=i.className,o.adoptedElementCssText=i.style.cssText,i.id&&!r&&(o.id=e.id=i.id),DomHelper.syncAttributes(e,i);for(let n=0,{length:r}=e.childNodes;n<r;n++)i.appendChild(e.childNodes[0]);delete o._contentRange,o._element=i;const l=e.lastDomConfig,c=null==l?void 0:l.listeners;var d;c&&o.isComposable&&(null===(d=c.un)||void 0===d||d.call(c),addElementListeners(o,i,l));i.lastDomConfig=l||i.lastDomConfig,i.$refOwnerId=o.id,o.scaleToFitWidth||o.getConfig("monitorResize")}addRefAccessor(e,n){const{prototype:r}=this.constructor;fo(r,n,{writable:!0,value:null}),fo(r,e,{get(){return this.recompose.flush(),this[n]},set(e){this[n]=e}})}attachRef(e,n,r){const o=this,i="_"+e;n.dataset&&(n.dataset.ownerCmp=o.id),o.isComposable&&(i in o||o.addRefAccessor(e,i),addElementListeners(o,n,r,e)),o.byRef[e]=n,o[e]=n}detachRef(e,n,r){const o=this,i=o._refListeners;null!=i&&i[e]&&(i[e](),delete i[e]),o[e]=null,delete o.byRef[e]}afterRecompose(){}compose(){return{class:DomClassList.normalize(this.widgetClassList,"object")}}doCompose(){const e=this,{$meta:n}=e,r=n.hierarchy;let o,i,a,l,c,d,{composers:u}=n,p=null;if(e.recompose.suspend(),!u){for(a=!0,n.composers=u=[],l=r.indexOf(Widget);l<r.length;++l)c=r[l].prototype,mo.call(c,"compose")&&u.push(c);(d=n.getInherited("renderConfigs",!1))||(d=Object.create(null),e.configObserver={get(e){d[e]=!0}}),n.$renderConfigs=d}for(l=0;l<u.length;++l)o=u[l].compose.call(e,p),p=p?DomHelper.merge(p,o):o;return mo.call(e,"compose")&&(o=e.compose)&&(o=o.call(e,p),DomHelper.merge(p,o)),a&&delete e.configObserver,DomHelper.normalizeChildren(p,((n,r)=>{r&&(i="_"+n,i in e||e.addRefAccessor(n,i))}))}get element(){return this.isComposable&&!this.isDestroying&&this.recompose.flush(),this._element}domSyncCallback(e){}changeElement(e){const n=this,r=n.isComposable;return r&&(e=n.doCompose()),"string"==typeof e?e=DomHelper.createElementFromTemplate(e):ObjectHelper.isObject(e)?(e=DomHelper.createElement(e,{refOwner:n,callback:n.domSyncCallback}),n.recompose.resume(),r&&addElementListeners(n,e,e.lastDomConfig)):1!==e.nodeType&&(e=DomHelper.createElementFromTemplate(n.template(n))),e.id=n.id,n.elementAttributes&&DomHelper.setAttributes(e,n.elementAttributes),e}updateElement(e){const n=this,{className:r}=e,{contentElement:o,contentElementCls:i,isComposable:a}=n,l=o!==e,c=!a&&e.querySelectorAll("[data-reference]"),d=a?[]:n.widgetClassList;let u=(l||!a)&&n.uiClasses;if(r&&d.unshift(r),n._hidden&&d.push("b-hidden"),n._readOnly&&d.push("b-readonly"),FunctionHelper.noThrow(e,"remove"),u?(null!=i&&i.value&&(u=u.slice(),u.push(i.value)),u=u.join(" ")):u=null==i?void 0:i.value,u&&(l?o.className+=" "+u:d.push(u)),!n.parent){const{defaultCls:e}=n,{outerCls:r}=Widget;d.push(...e?r.filter((n=>!(n in e)||e[n])):r)}if(e.className=d.join(" "),c)for(let e,r=0;r<c.length;++r)e=c[r],n.attachRef(e.getAttribute("data-reference"),e),e.removeAttribute("data-reference");n.adopt||n.scaleToFitWidth||n.getConfig("monitorResize"),n._html&&n.getConfig("htmlMutationObserver")}isCollapsified(e,n){const{collapsify:r}=this;let o=!n;return null==r?o=n?e:!e:"overlay"===r&&(o=n),Boolean(o)}async recompose(){const e=this,n={targetElement:e.element,domConfig:e.doCompose(),refOwner:e,callback:e.domSyncCallback,strict:!0};if(e.transitionRecompose){if(e.isTransitioningDom=!0,await DomHelper.transition(ObjectHelper.assign({element:e.element,action(){DomSync.sync(n)}},e.transitionRecompose)),e.isDestroyed)return;e.isTransitioningDom=!1,e.trigger("transitionedRecompose")}else DomSync.sync(n);n.changed&&e.afterRecompose(),e.recompose.resume()}render(e=this.appendTo,n=!0){const r=this,{element:o}=r;if(r.emptyCache(),r.syncElement&&r.currentElement)DomHelper.sync(o,r.currentElement);else{var i;let n=r.insertBefore;if(r.insertFirst&&(n=(e=r.insertFirst).firstChild),"string"==typeof e){const o=e;if(!(e=document.getElementById(e)))throw new Error(`No element found with id '${o}'`);r.insertFirst&&(n=e.firstChild)}if(n){if("string"==typeof n){const e=n;if(n=document.getElementById(n),!n)throw new Error(`No element found with id '${e}'`)}e||(e=n.parentElement)}null===(i=e)||void 0===i||i.insertBefore(o,n),r.currentElement=o}Widget.fromElement(o.parentElement)&&DomHelper.removeClasses(o,Widget.outerCls),r.rendered=!0,n&&(r.getConfig("contentRange"),r.triggerPaint()),r.setupFocusListeners()}template({tag:e,html:n,htmlCls:r,name:o}){const i=null!=n&&n.call?n.call(this):n;return`<${e} class="${i?r:""}" ${o?`data-name="${o}"`:""}>${i||""}</${e}>`}updateRecomposeAsync(e){this.recompose.immediate=!e}onConfigChange({name:e}){var n;this._element&&!this.isDestroying&&null!==(n=this.$meta.$renderConfigs)&&void 0!==n&&n[e]&&this.recompose()}get dataset(){return this.element.dataset}changeDataset(e){Object.assign(this.dataset,e)}get dragGhost(){return this.constructor._dragGhost||(this.constructor._dragGhost=DomHelper.createElement({html:"",style:"position:absolute;top:-10000em;left:-10000em"}))}updateParent(e){const{_element:n}=this;n&&DomHelper[e?"removeClasses":"addClasses"](n,Widget.outerCls)}get constrainTo(){const e=this._constrainTo;return void 0===e?window:e}updateCentered(e){const{element:n,_anchorElement:r}=this;if(e&&!this.floating&&!this.positioned)throw new Error("`centered` is only relevant when a Widget is `floating` or `positioned`");e?(n.classList.add("b-centered"),n.style.transform=n.style.left=n.style.top="",null==r||r.classList.add("b-hide-display"),n.classList.remove("b-anchored")):n.classList.remove("b-centered")}get contentElement(){return this.element}get contentRange(){const e=this,{contentElement:n}=e,r=e._contentRange||(e._contentRange=BrowserHelper.isIE11?document.createRange():new Range);return r.collapsed&&(r.setStart(n,e.contentRangeStartOffset||0),r.setEnd(n,e.contentRangeEndOffset||n.childNodes.length)),r}fixRefOwnerId(e,n,r){if(e.$refOwnerId===r){e.$refOwnerId=n;for(let{childNodes:o}=e,i=o.length;i-- >0;)this.fixRefOwnerId(o[i],n,r)}}get placement(){const{element:e}=this;let n,r,o;if(null!=e&&e.offsetParent&&!go.test(DomHelper.getStyleValue(e,"position"))){const a=e.nextElementSibling,l=e.previousElementSibling,c=!a&&l;var i;if(r=DomHelper.getStyleValue(e.parentElement,"flex-direction"),r)r=r.startsWith("row")?"h":"v";else n=null===(i=a||l)||void 0===i?void 0:i.getBoundingClientRect(),o=n&&e.getBoundingClientRect(),r=n&&Math.abs(n.top-o.top)<Math.abs(n.left-o.left)?"h":"v";r+="h"===r?c?"r":"l":c?"b":"t"}return r}updateId(e,n){if(super.updateId(e,n),n){const{byRef:r,element:o}=this;for(const n in r)r[n].dataset&&(r[n].dataset.ownerCmp=e);o.id=e,this.fixRefOwnerId(o,e,n)}}get style(){const{element:e}=this;return(null==e?void 0:e.ownerDocument.defaultView.getComputedStyle(e))||this._style}updateStyle(e){this.element&&DomHelper.applyStyle(this.element,e)}updateTitle(e){this.titleElement&&(this.titleElement.innerHTML=e)}alignTo(e){var n;const r=this,{lastAlignSpec:o,element:i}=r,{offsetParent:a,style:l,classList:c}=i;if(o&&(o.monitorIntersection&&r.intersectionObserver.unobserve(o.target),isFinite(o.zone)&&i.classList.remove(yo[o.zone])),!e)return r.removeTransientListeners(),void(r.anchor=r.lastAlignSpec=null);(e.nodeType===Element.ELEMENT_NODE||e instanceof Widget||"Point"===e.$$name)&&(e={target:e}),r.releaseSizeConstraints();const{scrollable:d,constrainTo:u}=r,p=r.positioned&&"fixed"!==DomHelper.getStyleValue(i,"position"),b=r.scale||1,g=e.target,m=g&&(g.isRectangle?g:g.element||g),f=Rectangle.from(i,p?a:null,!0),{width:v,height:y}=f,x=m&&m.nodeType===Element.ELEMENT_NODE,C=(e=e.realignTarget?e:ObjectHelper.assign({aligningToElement:x,constrainTo:u,align:"b-t",axisLock:r.axisLock,anchor:r.anchor},r.align,e)).minWidth||r.minWidth,S=e.minHeight||r.minHeight;if(f.isAlignRectangle=!0,C&&(f.minWidth=C*b),S&&(f.minHeight=S*b),r.lastAlignSpec=e,x&&hasLayout(m.offsetParent)){if((e=Object.setPrototypeOf({},e)).target=r.lastAlignSpec.targetRect=e.realignTarget||(e.allowTargetOut?Rectangle.from(m,p?a:null,!p):DomHelper.isInView(m,!1,r)),!e.target){const e=r.hide();return r.isDestroyed||(r.lastAlignSpec.targetOutOfView=!0),e}e.target.height=Math.max(e.target.height,1),e.target.width=Math.max(e.target.width,1),r.anchoredTo=m}else r.anchoredTo=null;if(e.anchor&&(e.anchorSize=r.anchorSize,i.contains(r.anchorPathElement)||i.appendChild(r.anchorElement)),p)if(a&&"hidden"===DomHelper.getStyleValue(a,"overflow"))e.constrainTo=Rectangle.from(a).moveTo(0,0);else if(u&&!u.isRectangle){const n=u===document||u===window;e.constrainTo=Rectangle.from(e.constrainTo,a),n&&e.constrainTo.translate(window.pageXOffset,window.pageYOffset)}r.isAligning=!0,r.trigger("beforeAlign",e),r.isAligning=!1;const D=f.alignTo(e);let{align:E,anchor:k,x:T,y:_,width:M,height:R,overlap:I}=D;if(r.lastAlignSpec.zone=D.zone,R!=y&&("configuredHeight"in r||(r.configuredHeight=l.height),r.height=R/b,r.alignConstrained=1|r.alignConstrained,d&&(d.overflowY=!0)),M!=v&&("configuredWidth"in r||(r.configuredWidth=l.width),r.width=M/b,r.alignConstrained=2|r.alignConstrained,d&&(d.overflowX=d.clientWidth>d.scrollWidth)),E&&r.alignConstrained){e.align=E;const n=Rectangle.from(i,p?a:null,!0).alignTo(e);k=n.anchor,T=n.x,_=n.y,M=n.width,R=n.height}if(r.setXY(T,_),!D.overlap&&isFinite(D.zone)&&c.add(yo[D.zone]),null!==(n=k)&&void 0!==n&&n.edge){const{edge:e}=k,{anchorElement:n}=r,o=Rectangle.from(i),a=[];"top"===e||"bottom"===e?(a[0]=k.x,a[1]="top"===e?1:o.height-1):(a[0]="left"===e?1:o.width-1,a[1]=k.y);let l=DomHelper.childFromPoint(i,...a);if(l){let e=DomHelper.getStyleValue(l,"background-color");for(;e.match(uo)&&"absolute"!==DomHelper.getStyleValue(l,"position");)l=l.parentNode,e=DomHelper.getStyleValue(l,"background-color");e.match(uo)?r.anchorPathElement.setAttribute("fill",r.defaultAnchorBackgroundColor):r.anchorPathElement.setAttribute("fill",e)}n.classList.remove("b-hide-display"),n.style.transform="",n.className=`b-anchor b-anchor-${e}`,k.x&&(k.x/=b),k.y&&(k.y/=b),DomHelper.setTranslateXY(n,k.x,k.y),c.add("b-anchored")}else r._anchorElement&&(r.anchorElement.classList.add("b-hide-display"),c.remove("b-anchored"));if("hide"===r.scrollAction&&!x){l.pointerEvents="none";const e=DomHelper.elementFromPoint(T,_);r.owns(e)||(r.anchoredTo=e),l.pointerEvents=""}("realign"===r.scrollAction&&x||"hide"===r.scrollAction)&&!r.documentScrollListener&&(r.clearTimeout(r.scrollListenerTimeout),r.scrollListenerTimeout=r.setTimeout((()=>{var e;const n=null==m||null===(e=m.getRootNode)||void 0===e?void 0:e.call(m);r.documentScrollListener=EventHelper.addListener(document,"scroll","doHideOrRealign",{capture:!0,thisObj:r}),n&&n!==document&&(r.targetRootScrollListener=EventHelper.addListener(n,"scroll","doHideOrRealign",{capture:!0,thisObj:r}))}),"hide"===r.scrollAction?r.ignoreScrollDuration:0)),x&&(e.monitorResize&&!r.targetResizeListener&&(ResizeMonitor.addResizeListener(m,r.onTargetResize),r.targetResizeListener=!0),e.monitorIntersection&&!(I||m.contains(i)||m.ownerSVGElement)&&r.intersectionObserver.observe(m)),BrowserHelper.isAndroid||r.constrainListeners||u instanceof Rectangle||(r.clearTimeout(r.resizeListenerTimeout),r.resizeListenerTimeout=r.setTimeout((()=>{r.constrainListeners=!0,ResizeMonitor.addResizeListener(u||window,r.callRealign)}),r.ignoreScrollDuration))}get intersectionObserver(){return this._intersectionObserver||(this._intersectionObserver=new IntersectionObserver(this.onTargetIntersectionchange.bind(this),{root:BrowserHelper.isSafari?this.rootElement:this.rootElement.ownerDocument}))}onTargetIntersectionchange(e){if(!this.isDestroyed){const n=e[e.length-1];n.isIntersecting||this.onAlignTargetOutOfView(n.target)}}onTargetResize(){const{lastAlignSpec:e}=this;if(e){const{width:n,height:r}=e.targetRect,{width:o,height:i}=e.target.getBoundingClientRect();o===n&&i===r||this.realign()}}onAlignTargetOutOfView(e){this.hide(),this.lastAlignSpec&&(this.lastAlignSpec.targetOutOfView=!0)}realign(){const e=this,{lastAlignSpec:n}=e;if(e.isVisible&&(e.floating||e.positioned)&&n){if(n.aligningToElement){const r=DomHelper.isInView(n.target,!1,e);if(!(n.allowTargetOut||hasLayout(n.target)&&r))return e.hide(),void(e.isDestroyed||(e.lastAlignSpec.targetOutOfView=!0));n.realignTarget=r}DomHelper.addTemporaryClass(e.element,"b-realigning",300),e.alignTo(n)}}rectangle(e,n,r){return this.rectangleOf("element",e,n,r)}rectangleOf(e,n,r,o){var i;return"string"!=typeof n?(o=r,r=n,n=""):"border"===n&&(n=""),"boolean"==typeof r&&(o=r,r=void 0),"element"!==e&&void 0===r&&(r=this.element),r=null!==(i=r)&&void 0!==i&&i.isWidget?r.element:r,Rectangle[n||"from"](this[e],r,o)}releaseSizeConstraints(){const e=this,n=e.scrollable;1&e.alignConstrained&&(e.height=e.configuredHeight,n&&(n.overflowY=n.config.overflowY)),2&e.alignConstrained&&(e.width=e.configuredWidth,n&&(n.overflowX=n.config.overflowX)),e.alignConstrained=0}toFront(){const{element:e}=this,n=this.floating?this.floatRoot:this.positioned?null==e?void 0:e.parentNode:null;if(null!=e&&e.nextSibling){const r=this._toFrontRange||(this._toFrontRange=document.createRange());r.setStartBefore(e.nextSibling),r.setEndAfter(n.lastElementChild),n.insertBefore(r.extractContents(),e)}}updateRef(e){this.element.dataset.ref=e}get overflowElement(){return this.contentElement}get maxHeightElement(){return this.element}changeAlign(e){return"string"==typeof e?{align:e}:e}changeScrollable(e,n){return"boolean"==typeof e&&(e={overflowX:e,overflowY:e}),e?(e.element=this.overflowElement,e.widget=this,e.isScroller||(e=n?n.setConfig(e):new this.scrollerClass(e)),e.syncOverflowState()):null==n||n.destroy(),e}get html(){return this.initializingElement||!this.element?this.content||this._html:this.contentElement.innerHTML}updateHtml(e){const n=this,r=null==e,{element:o,contentElement:i,htmlCls:a}=n;if(o){n.updatingHtml=!0;const l=i===o&&n._anchorElement;a&&a.values.forEach((e=>o.classList[r?"remove":"add"](e))),l&&n.element.removeChild(l),e&&"object"==typeof e?DomSync.sync({domConfig:e,targetElement:n.contentElement,onlyChildren:!0}):n.contentElement.innerHTML=r?"":e,n.getConfig("htmlMutationObserver"),l&&o.appendChild(l),n.isComposable?n.recompose():(n.floating||n.positioned)&&(n.isAligning||n.realign())}}changeHtmlMutationObserver(e,n){const r=this,{contentElement:o}=r;if(null==n||n.disconnect(o),e){const n=new MutationObserver((()=>{r.updatingHtml?r.updatingHtml=!1:r._html=o.innerHTML}));return n.observe(o,e),n}}updateContent(e){const n=this,r=null==e,{element:o,htmlCls:i}=n;if(o){const{contentRange:a}=n;i&&i.values.forEach((e=>o.classList[r?"remove":"add"](e))),isInDocument(o)?(a.deleteContents(),r||a.insertNode(DomHelper.createElementFromTemplate(e,{fragment:!0}))):n.contentElement.innerHTML=e,n.contentRangeStartOffset=a.startOffset,n.contentRangeEndOffset=a.endOffset,!n.floating&&!n.positioned||n.isAligning||n.realign()}}onThemeChange(){var e;null!==(e=this.anchorElement)&&void 0!==e&&e.offsetParent&&(this._anchorSize=null,this.realign())}get anchorSize(){const e=this;let n=this._anchorSize;if(!n){const r=parseFloat(DomHelper.getStyleValue(e.element,"border-top-width")),o=DomHelper.getStyleValue(e.element,"border-top-color"),i=e.anchorElement,{className:a}=i,l=i.firstElementChild,c=e.anchorPathElement=l.lastElementChild,d=e._hidden;i.className="b-anchor b-anchor-top";let u=DomHelper.getStyleValue(e.contentElement,"background-color");u.match(uo)&&(u=DomHelper.getStyleValue(e.element,"background-color")),e.defaultAnchorBackgroundColor=u,n=i.getBoundingClientRect();const[p,b]=n=e._anchorSize=[n.width,n.height];i.className=a,l.setAttribute("height",b+r),l.setAttribute("width",p),c.setAttribute("d",`M0,${b}L${p/2},0.5L${p},${b}`),r&&(c.setAttribute("stroke-width",r),c.setAttribute("stroke",o)),n[1]-=r,d&&e.element.classList.add("b-hidden"),e.themeChangeListener||(e.themeChangeListener=gn.on({theme:"onThemeChange",thisObj:e})),e.anchorPathElement.setAttribute("fill",e.defaultAnchorBackgroundColor)}return n}get anchorElement(){const e=this;if(!e._anchorElement){const n=e.floating&&!(BrowserHelper.isIE11||BrowserHelper.isEdge),r=`${e.id}-shadow-filter`;e._anchorElement=DomHelper.createElement({parent:e.element,className:"b-anchor b-anchor-top",children:[{tag:"svg",ns:"http://www.w3.org/2000/svg",version:"1.1",class:"b-pointer-el",children:[n?{tag:"defs",children:[{tag:"filter",id:r,children:[{tag:"feDropShadow",dx:0,dy:-1,stdDeviation:1,"flood-opacity":.2}]}]}:null,{tag:"path",[n?"filter":""]:`url(#${r})`}]}]})}return e._anchorElement}updateAnchor(e){this._anchorElement&&this._anchorElement.classList[e?"remove":"add"]("b-hide-display")}updateDraggable(e){const n=this,{element:r}=n;var o,i,a;e?(n.dragEventDetacher=EventHelper.addListener({element:r,dragstart:"onWidgetDragStart",dragend:"onWidgetDragEnd",thisObj:n}),n.dragDetacher=EventHelper.on({element:r,mousedown(e){const{target:n}=e,o=Widget.fromElement(n);(!DomHelper.up(e.target,".b-field-inner")&&o===this||this.strips&&Object.values(this.strips).includes(o))&&r.setAttribute("draggable","true")},thisObj:n})):(null===(o=n.dragEventDetacher)||void 0===o||o.call(n),null===(i=n.dragOverEventDetacher)||void 0===i||i.call(n),null===(a=n.dragDetacher)||void 0===a||a.call(n))}onWidgetDragStart(e){var n;const r=this;if(!r.validateDragStartEvent(e))return;r.removeTransientListeners();const{element:o,align:i,constrainTo:a}=r,l=r.positioned&&"fixed"!==DomHelper.getStyleValue(o,"position"),c=l?o.parentElement:r.rootElement,d=Rectangle.from(o,l?c:null),u=e.clientX,p=e.clientY,b=document.scrollingElement||document.body,[g,m]=DomHelper.getOffsetXY(o,c),f=null===(n=l?Rectangle.content(c).moveTo(0,0):a&&(null!=a&&a.isRectangle?a:Rectangle.from(a)))||void 0===n?void 0:n.deflate(i.constrainPadding||0),v={element:c,dragover:e=>{o.classList.remove("b-centered"),d.moveTo(g+e.clientX-u-(l?0:b.scrollLeft),m+e.clientY-p-(l?0:b.scrollTop)),f&&d.constrainTo(f),DomHelper.setTranslateXY(o,d.x,d.y)}};BrowserHelper.isTouchDevice&&(v.touchmove=e=>e.preventDefault()),r.floatRoot.appendChild(r.dragGhost),r.setDragImage(e),e.dataTransfer.effectAllowed="none",r.dragOverEventDetacher=EventHelper.addListener(v),r.alignTo()}validateDragStartEvent(e){const{element:n}=this,r=DomHelper.elementFromPoint(e.clientX,e.clientY),{handleSelector:o}=this.draggable;if(o){const i=bo.exec(o)[1];if(i){if(r.closest(`#${n.id} ${i}`))return e.preventDefault(),!1}else if(!r.closest(`#${n.id} ${o}`))return e.preventDefault(),!1}return!0}setDragImage(e){e.dataTransfer.setDragImage&&(e.dataTransfer.setData("application/node type",""),e.dataTransfer.setDragImage(this.dragGhost,-9999,-9999))}onWidgetDragEnd(){this.dragGhost.remove(),this.dragOverEventDetacher(),this.element.removeAttribute("draggable")}changeFloating(e){return Boolean(e)}changePositioned(e){return Boolean(e)}updatePositioned(e){this.element.classList[e?"add":"remove"]("b-positioned")}getXY(){return[DomHelper.getPageX(this.element),DomHelper.getPageY(this.element)]}setXY(e,n){const r=this,{element:o}=r;if(r.floating||r.positioned)if(null!=e&&(r._x=e,r.centered=!1),null!=n&&(r._y=n,r.centered=!1),"fixed"===DomHelper.getStyleValue(o,"position")){const r=o.getBoundingClientRect(),[i,a]=DomHelper.getTranslateXY(o),l=e-r.x,c=n-r.y;DomHelper.setTranslateXY(o,i+l,a+c)}else DomHelper.setTranslateXY(o,r._x||0,r._y||0)}get x(){return this.getXY()[0]}changeX(e){this.setXY(e)}get y(){return this.getXY()[1]}changeY(e){this.setXY(null,e)}get width(){const e=this,n=e.element;return e.monitorResize?(null==e._width&&(e._width=n.offsetWidth),e._width):n.offsetWidth}changeWidth(e){const n=this;DomHelper.setLength(n.element,"width",e),n._lastWidth=e,n._width=null,n._flex=null,n.element.style.flex=""}get maxWidth(){return DomHelper.measureSize(this.element.style.maxWidth,this.element)}updateMaxWidth(e){DomHelper.setLength(this.element,"maxWidth",e)}get minWidth(){return DomHelper.measureSize(this.element.style.minWidth,this.element)}updateMinWidth(e){DomHelper.setLength(this.element,"minWidth",e)}updateFlex(e){this.getConfig("width"),"number"!=typeof e&&isNaN(e)||(e=`${e} ${e}`),this.element.style.flex=e,this.element.style.width=""}updateAlignSelf(e){this.element.style.alignSelf=e}updateMargin(e){this.element.style.margin=this.parseTRBL(e).join(" ")}updateTextAlign(e,n){n&&this.element.classList.remove(`b-text-align-${n}`),this.element.classList.add(`b-text-align-${e}`)}updatePlaceholder(e){this.input&&(null==e?this.input.removeAttribute("placeholder"):this.input.placeholder=e)}get height(){const e=this,n=e.element;return e.monitorResize?(null==e._height&&(e._height=n.offsetHeight),e._height):n.offsetHeight}changeHeight(e){DomHelper.setLength(this.element,"height",e),this._lastHeight=e,this._height=null}get maxHeight(){return DomHelper.measureSize(this.maxHeightElement.style.maxHeight,this.element)}updateMaxHeight(e){const n=this,{element:r}=n;DomHelper.setLength(n.maxHeightElement,"maxHeight",e),BrowserHelper.isIE11&&n.contentElement!==r&&(null==e?ResizeMonitor.removeResizeListener(r,n.boundMaxHeightBugHandler):(ResizeMonitor.addResizeListener(r,n.boundMaxHeightBugHandler||(n.boundMaxHeightBugHandler=n.fixIEMaxHeightBug.bind(n))),document.body.contains(r)&&n.fixIEMaxHeightBug()))}fixIEMaxHeightBug(){const{element:e,contentElement:n}=this;if("column"===DomHelper.getStyleValue(e,"flex-direction")){n.style.maxHeight="";let r=Rectangle.client(e).height;const o=e.childNodes,i=o.length;for(let e=0;e<i;e++){const i=o[e];i===n||i.classList.contains("b-resize-monitors")||(r-=i.offsetHeight)}this.contentElement.style.maxHeight=`${r}px`}}get minHeight(){return DomHelper.measureSize(this.element.style.minHeight,this.element)}updateMinHeight(e){DomHelper.setLength(this.element,"minHeight",e)}updateDisabled(e){const n=this,r=n.element,o=n.focusElement;n.trigger("beforeUpdateDisabled",{disabled:e}),e&&n.revertFocus(),r&&(r.classList[e?"add":"remove"]("b-disabled"),o&&(o.disabled=e)),n.onDisabled(e)}onDisabled(e){}disable(){this.disabled=!0}enable(){this.disabled=!1}requestFullscreen(){const e=this,n=Fullscreen.request(e.floating?e.floatRoot:e.element);return Fullscreen.onFullscreenChange(e.onFullscreenChange),e.floating||(e.floatRoot._oldParent=e.floatRoot.parentElement,e.element.appendChild(e.floatRoot)),e.element.classList.add("b-fullscreen"),n}exitFullscreen(){return Fullscreen.exit()}onFullscreenChange(){Fullscreen.isFullscreen||this.onExitFullscreen()}onExitFullscreen(){var e;const n=this,r=null===(e=n._rootElement)||void 0===e?void 0:e.floatRoot;Fullscreen.unFullscreenChange(n.onFullscreenChange),n.element.classList.remove("b-fullscreen"),n.element.contains(r)&&null!=r&&r._oldParent&&(r._oldParent.appendChild(r),r._oldParent=null)}get tooltip(){if(this._tooltip)return this._tooltip;{var e;const n=null===(e=Widget.Tooltip)||void 0===e?void 0:e.getSharedTooltip(this.rootElement);if(n&&n.activeTarget===this._element&&n.isVisible)return n}}changeTooltip(e,n){const r=this;if(e){if(!r.preventTooltipOnTouch||!BrowserHelper.isTouchDevice){if(e.isTooltip||"Object"===e.constructor.name||(e={html:"string"==typeof e?e:r.placeholder,textContent:!0}),!(null!=n&&n.isTooltip||e.newInstance))return r.element.dataset.btip=!0,void(r.tipConfig=e);e.type="tooltip",e.forElement||(e.forElement=r.element),"showOnHover"in e||e.forSelector||(e.showOnHover=!0),"autoClose"in e||(e.autoClose=!0),e=Widget.reconfigure(n,e,r)}}else if(n){if(null!=e||!n.isTooltip)return void(n.html=null);n.destroy()}else delete r.element.dataset.btip;return e}get tooltipText(){const e=this._tooltip;return e?e.isTooltip?e.contentElement.innerText:"string"==typeof e?e:e.html:this.tipConfig?this.tipConfig.html:void 0}get isVisible(){const e=this,{element:n}=e;let r;return Boolean(n&&!e._hidden&&!e.isDestroying&&isInDocument(n)&&(!e.requireSize||hasLayout(n))&&(!(r=e.containingWidget)||r.isVisible))}focus(){this.isFocusable&&DomHelper.focusWithoutScrolling(this.focusElement)}get focusElement(){}get isFocusable(){const e=this.focusElement;return e&&this.isVisible&&!this.disabled&&(e===document.body||e.offsetParent)}async show(){const e=this,{showAnimation:n,element:r,floating:o}=e,{style:i}=r;let a,l,c;return(c=!e.isVisible)&&(c=e.trigger("beforeShow"),Objects.isPromise(c)&&(c=await c)),!1===c||e.internalBeforeShow&&!1===e.internalBeforeShow()?Promise.resolve():new Promise((c=>{if(e.cancelHideShowAnimation(),e.updateCentered(e._centered),o){const n=e.floatRoot;n.contains(r)||(e.rendered?n.appendChild(e.element):e.render(n,!1)),i.transform.includes("scale")&&(e.scale=null,i.transform=i.transformOrigin="");const o=e.closest(isScaled);if(o){const{scale:n}=o;e.scale=n,i.transform=`scale(${n})`,i.transformOrigin="0 0"}}if(e._hidden=!1,r.classList.remove("b-hidden"),e.onConfigChange({name:"hidden",value:!1,was:!0,config:e.$meta.configs.hidden}),n){a=Object.keys(n)[0],l=n[a];const o=e.currentAnimation={showing:!0,styleProp:a,resolve:c};e.isAnimating=!0,e.currentAnimation.detacher=EventHelper.onTransitionEnd({element:r,property:a,duration:parseDuration(l.duration)+20,handler:()=>e.afterHideShowAnimate(o),thisObj:e}),i[a]=l.from,DomHelper.getStyleValue(r,a),i.transition=`${a} ${l.duration} ease ${l.delay}`,i[a]=l.to}e.afterShow(!n&&c),e.inShowBy||!o&&!e.positioned||!e.forElement||e.centered||e.hidden||e.alignTo(e.forElement)}))}async showBy(e){const n=this;let r;return n.isVisible?DomHelper.addTemporaryClass(n.element,"b-realigning",300):(n.inShowBy=!0,r=n.show(),n.inShowBy=!1),n.isVisible&&n.alignTo(e),r||vo}async showByPoint(e,n,r){const o=1===arguments.length?e:[e,n];return this.showBy(Object.assign({position:new Point(o[0]+1,o[1]+1),matchSize:!1,align:"t-b"},r))}afterShow(e){var n,r;const o=this;o.boundMaxHeightBugHandler&&o.boundMaxHeightBugHandler(),o.trigger("show"),o._configuredAnchorState=o.anchor,null===(n=o.parent)||void 0===n||null===(r=n.onChildShow)||void 0===r||r.call(n),o.triggerPaint(),e&&e()}triggerPaint(){const e=this,{element:n}=e,r=!e.isPainted;e.isVisible&&(r&&(e.scaleToFitWidth&&!e.monitorResize&&(e.onParentElementResize=e.onParentElementResize.bind(e),ResizeMonitor.addResizeListener(n.parentElement,e.onParentElementResize),e.updateScale()),!e.hideBryntumDomMessage&&(e.isTaskBoardBase||e.isGridBase||e.isCalendar)&&n.insertBefore(new Comment("POWERED BY BRYNTUM (https://bryntum.com)"),n.firstChild)),e.eachWidget(widgetTriggerPaint,!1),r&&e.isVisible&&(e.rootElement=DomHelper.getRootElement(n),e.getConfig("tooltip"),!Widget.Ripple&&Widget.RippleClass&&(Widget.Ripple=new Widget.RippleClass({rootElement:e.rootElement}))),e.isPainted=!0,e.trigger("paint",{firstPaint:r}),r&&e.monitorResize&&!e.scaleToFitWidth&&ResizeMonitor.onElementResize([{target:n}]))}cancelHideShowAnimation(){const e=this,{currentAnimation:n,element:r}=e;n&&(e.isAnimating=!1,r.classList.contains("b-hiding")&&(r.classList.remove("b-hiding"),e._hidden=!1),n.detacher(),n.resolve(),r.style.transition=r.style[n.styleProp]="",e.currentAnimation=null)}afterHideShowAnimate(e){const n=this;e===n.currentAnimation&&(n.element.classList.remove("b-hiding"),n.cancelHideShowAnimation(),n._hidden&&n.afterHideAnimation())}suspendVisibility(){this._visibilitySuspended=(this._visibilitySuspended||0)+1,Object.defineProperty(this,"isVisible",wo)}resumeVisibility(e=!0){--this._visibilitySuspended||(delete this.isVisible,e&&this.triggerPaint())}hide(e=!0){return new Promise((n=>{const r=this,{element:o,lastAlignSpec:i}=r,{style:a}=o,l=e&&r.hideAnimation;if(r.clearTimeout(r.scrollListenerTimeout),r.clearTimeout(r.resizeListenerTimeout),!r._hidden&&!1!==r.trigger("beforeHide")){if(r._hidden=!0,i&&(i.targetOutOfView=null,i.monitorIntersection&&(r.intersectionObserver.takeRecords(),r.intersectionObserver.unobserve(i.target))),r.onConfigChange({name:"hidden",value:!0,was:!1,config:r.$meta.configs.hidden}),!o)return void n();if(o.contains(DomHelper.getActiveElement(o))&&r.revertFocus(!0),r.isDestroyed)return void n();if(r.cancelHideShowAnimation(),l){const e=Object.keys(l)[0],i=l[e];if(Number(getComputedStyle(r.element)[e])!==i.to){const l=r.currentAnimation={hiding:!0,styleProp:e,resolve:n};o.classList.add("b-hiding"),r.isAnimating=!0,r.currentAnimation.detacher=EventHelper.onTransitionEnd({element:o,property:e,duration:parseDuration(i.duration)+20,handler:()=>r.afterHideShowAnimate(l),thisObj:r}),a[e]=i.from,DomHelper.getStyleValue(o,e),a.transition=`${e} ${i.duration} ease ${i.delay}`,a[e]=i.to}else o.classList.add("b-hidden")}else o.classList.add("b-hidden");r.afterHide(!l&&n,l)}}))}doHideOrRealign({target:e,isTrusted:n}){const r=this,{anchoredTo:o,lastAlignSpec:i,element:a}=r,l=null==i?void 0:i.target,c=null==i?void 0:i.position,d=DomHelper.getActiveElement(r);if(!n||!e||e.nodeType===Element.DOCUMENT_NODE&&a.contains(d)&&po[d]&&window.innerHeight<document.body.offsetHeight)return;if(e.nodeType===Node.ELEMENT_NODE&&(a.contains(e)||r.owns(e)))return;if((null==l?void 0:l.nodeType)===Node.ELEMENT_NODE&&!e.contains(l)&&e.nodeType!==Element.DOCUMENT_NODE)return;const u="hide"===r.scrollAction&&r.getXY();if(r.realign(),!r.isDestroyed&&"hide"===r.scrollAction){const[n,i]=r.getXY();(n!==u[0]||i!==u[1]||"Point"===(null==l?void 0:l.$$name)||c)&&(!o||e&&DomHelper.isDescendant(e,o))&&r.hide()}}afterHide(e=null,n=this.hideAnimation){var r,o;const i=this;i._anchor=i._configuredAnchorState,i.removeTransientListeners(),n||i.afterHideAnimation(),i.trigger("hide"),null===(r=i.parent)||void 0===r||null===(o=r.onChildHide)||void 0===o||o.call(r),e&&e()}removeTransientListeners(){const e=this;e.clearTimeout(e.resizeListenerTimeout),e.clearTimeout(e.scrollListenerTimeout),e.documentScrollListener&&(e.documentScrollListener(),e.documentScrollListener=!1),e.rootScrollListener&&(e.rootScrollListener(),e.rootScrollListener=!1),e.targetResizeListener&&(ResizeMonitor.removeResizeListener(e.lastAlignSpec.target,e.onTargetResize),e.targetResizeListener=!1),e.constrainListeners&&(ResizeMonitor.removeResizeListener(e.lastAlignSpec.constrainTo||window,e.callRealign),e.constrainMutationMonitor&&e.constrainMutationMonitor.disconnect(),e.constrainListeners=!1)}afterHideAnimation(){const e=this,{element:n}=e;e.floating&&e.floatRoot.contains(n)?n.remove():n.classList.add("b-hidden"),e.defaultAnchorBackgroundColor&&e.anchorPathElement.setAttribute("fill",e.defaultAnchorBackgroundColor)}changeHidden(e){const n=this;let r;return n.isConfiguring?(r=Boolean(e),n.element.classList[e?"add":"remove"]("b-hidden")):(n.trigger("beforeChangeHidden",{hidden:e}),e?n.hide():n.show()),r}get assignedId(){return this.hasGeneratedId?null:this.id}get owner(){return this.parent||this._owner||this.containingWidget}get containingWidget(){let e=this.parent;if(!e){var n,r;const o=(null===(n=this.forElement)||void 0===n?void 0:n.nodeType)===Element.ELEMENT_NODE?this.forElement:null===(r=this.element)||void 0===r?void 0:r.parentNode;e=(null==o?void 0:o.closest(".b-widget"))&&Widget.fromElement(o)}return e}get previousSibling(){return this.getSibling(-1)}get nextSibling(){return this.getSibling(1)}getSibling(e){const n=this,{parent:r}=n,o=r?r.childItems:Array.from(n.element.parentElement.querySelectorAll(".b-widget"));return r?o[o.indexOf(n)+e]:Widget.fromElement(o[o.indexOf(n.element)+e])}up(){const{owner:e}=this;if(e)return e.closest(...arguments)}closest(e,n,r){const o=typeof r,i="number"===o,a="string"===o;for(let o=this,l=1;o;o=o.owner,l++){if(Widget.widgetMatches(o,e,n))return o;if(i&&l>=r)return;if(a&&Widget.widgetMatches(o,r,n))return;if(o===r)return}}owns(e){if(e){if(e.eventPhase&&(e=e.target),e.nodeType===Element.ELEMENT_NODE){if(this.element.contains(e))return!0;e=Widget.fromElement(e)}for(;e;){if(e===this)return!0;e=e.owner}}return!1}eachAncestor(e){let n=this.owner;for(;n;){if(!1===e(n))return!1;n=n.owner}return!0}changeMonitorResize(e,n){const r=!this.scaleToFitWidth&&Boolean(e);if(r!==Boolean(n))return r}updateMonitorResize(e){const n=this;mo.call(n,"onElementResize")||(n.onElementResize=n.onElementResize.bind(n)),ResizeMonitor[e?"addResizeListener":"removeResizeListener"](n.element,n.onElementResize)}changeReadOnly(e){if(e=Boolean(e),Boolean(this._readOnly)!==e)return e}updateReadOnly(e){var n;null===(n=this.element)||void 0===n||n.classList[e?"add":"remove"]("b-readonly"),this.isConfiguring||(this.eachWidget((n=>{n.ignoreParentReadOnly||("_originalReadOnly"in n||(n._originalReadOnly=n.config.readOnly||!1),n.readOnly=e||n._originalReadOnly)}),!1),this.trigger("readOnly",{readOnly:e}))}eachWidget(e,n=!0){const r=this.childItems,o=(null==r?void 0:r.length)||0,i={};for(let a=0;a<o;a++){const o=r[a];if(i.down=n,!1===e(o,i))return!1;if(i.down&&o.eachWidget&&!1===o.eachWidget(e,n))return!1}return!0}queryAll(e){const n=[];return this.eachWidget((r=>{e(r)&&n.push(r)})),n}query(e){let n=null;return this.eachWidget((r=>{if(e(r))return n=r,!1})),n}getWidgetByRef(e){var n,r;return e instanceof Widget?e:(null==this||null===(n=this.widgetMap)||void 0===n?void 0:n[e])||(null==this||null===(r=this.owner)||void 0===r?void 0:r.getWidgetByRef(e))}onFocusIn(e){const n=this,{element:r}=n;n.containsFocus=!0,n.focusInEvent=e,r.classList.add("b-contains-focus"),r.contains(e._target)&&n.onInternalKeyDown&&!n.keyDownListenerRemover&&(n.keyDownListenerRemover=EventHelper.on({element:r,keydown:"onInternalKeyDown",thisObj:n})),n.trigger("focusin",e)}onFocusOut(e){const n=this;n.keyDownListenerRemover&&(n.keyDownListenerRemover(),n.keyDownListenerRemover=null),n.isDestroyed||(e.relatedTarget||n.revertFocus(!n.isVisible),n.containsFocus=!1,n.element.classList.remove("b-contains-focus"),n.trigger("focusout",e))}captureFocus(){const e=this,n=DomHelper.getActiveElement(e),r=e.contains(n)&&e.captureFocusItem(n);return o=>{if(r&&!e.isDestroying){DomHelper.getActiveElement(e)!==n&&r(o)}}}captureFocusItem(e){return(n=!0)=>{this.contains(e)&&(n?e.focus():DomHelper.focusWithoutScrolling(e))}}contains(e,n){const{element:r}=this;if(e&&r)return e.isWidget&&(e=e.element),r.contains(e)&&(!n||r!==e)}revertFocus(e){var n,r;const o=this,i=DomHelper.getActiveElement(o);let a=null===(n=o.focusInEvent)||void 0===n?void 0:n.relatedTarget;(e||o.containsFocus&&(null===(r=a)||void 0===r?void 0:r.nodeType)===Element.ELEMENT_NODE&&o.element.contains(i))&&(a&&DomHelper.isFocusable(a)||(a=o.getFocusRevertTarget()),a&&DomHelper.isFocusable(a)?DomHelper.focusWithoutScrolling(a):null==i||i.blur())}getFocusRevertTarget(){const e=this,{owner:n,focusInEvent:r}=e,o=r&&r.backwards?1:-1;let i=r&&r.relatedTarget;const a=i&&Widget.fromElement(i);if(n&&!n.isDestroyed&&(!i||!DomHelper.isFocusable(i)||a&&!a.isFocusable)){if(i=null,n.eachWidget){const r=[];if(n.eachWidget((n=>{(n===e||n.isFocusable)&&r.push(n)}),!1),r.length>1){const n=r.indexOf(e);i=r[n+o]||r[n-o]}}!i&&n.isFocusable&&(i=n),i=i?i.focusElement:n.getFocusRevertTarget()}return i}getStaticWidgetClasses(e,n){const r=new DomClassList,o=this.$meta.hierarchy;let i,a,l,c,d;for(a=o.indexOf(e);a<o.length;++a){var u;i=o[a],d=Reflect.getOwnPropertyDescriptor(i.prototype,"widgetClass"),null!==(u=d)&&void 0!==u&&u.get?c=d.get.call(this):(l=mo.call(i,"$$name")||mo.call(i,"$name")||mo.call(i,"_$name")?i.$$name:i.name,(l.length<3||l.includes("$"))&&console.warn(`Class "${l}" extending "${i.$name}" should have "$name" static getter with no less than 3 chars.`),c=`b-${l.toLowerCase()}`),c&&r.add(n?c+n:c)}return r}get rootUiClass(){return Widget}get staticClassList(){const{$meta:e}=this;let n=e.staticClassList;return n||(e.staticClassList=n=this.getStaticWidgetClasses(Widget),BrowserHelper.isTouchDevice&&n.add("b-touch")),n}get uiClasses(){return this.getConfig("ui"),this._uiClasses}get uiClassList(){return this.getConfig("ui"),this._uiClassList}get widgetClassList(){const e=this,{cls:n,defaultCls:r,uiClasses:o}=e;let i,{staticClassList:a}=e;return(r||n)&&(a=a.clone(),r&&a.assign(r),n&&a.assign(n)),i=a.values,o&&i.push(...o),e.floating&&i.push("b-floating"),"hide"===e.collapsify&&i.push("b-collapsify-hide"),i}changeCls(e){return DomClassList.from(e)}changeContentElementCls(e){return DomClassList.from(e)}changeHtmlCls(e){return DomClassList.from(e)}changeDefaultCls(e){return DomClassList.from(e,!0)}changeUi(e){return DomClassList.from(e)}updateUi(e){var n;let r,o,i=null;if(e){const n=this.getStaticWidgetClasses(this.rootUiClass);for(o in e)if(e[o])for(r in n)n[r]&&((i||(i=new DomClassList))[`${r}-ui-${o}`]=1)}this._uiClasses=null===(n=i)||void 0===n?void 0:n.values,this._uiClassList=i}fromCache(e,n=!1,r=this.element){if(!r)return null;const o=this;return o.cache[e]||(o.cache[e]=n?DomHelper.children(r,e):DomHelper.down(r,e)),o.cache[e]}emptyCache(){this.cache={}}changeMasked(e,n){if(!0!==e&&""!==e||(e=""),n)"string"==typeof e?(n.text=e,e=n):e?(n.setConfig(e),e=n):n.destroy();else if(e){const n=Widget.resolveType("mask");(e=n.mergeConfigs(this.maskDefaults,e)).owner=this,e=n.mask(e)}return e||null}onMaskAutoClose(e){e.isDestroyed&&e===this.masked&&(this.masked=null)}mask(e){return this.masked=e,this.masked}unmask(){this.masked=null}onInternalResize(e,n,r,o,i){this._width=e.offsetWidth,this._height=e.offsetHeight}onElementResize(e){const n=this,{element:r}=n,o=n._width,i=n._height,a=r.offsetWidth,l=r.offsetHeight;n.floating&&n.onFloatingWidgetResize(...arguments),n.suspendResizeMonitor||o===a&&i===l||(n.onInternalResize(r,a,l,o,i),n.trigger("resize",{width:a,height:l,oldWidth:o,oldHeight:i}))}onFloatingWidgetResize(e,n,r){const o=this,{lastAlignSpec:i,constrainTo:a}=o;if(o.isVisible&&i&&i.target){const e=!n||r.height!==n.height,l=!n||r.width!==n.width,c=a&&!Rectangle.from(a).contains(Rectangle.from(o.element,null,!0));(e&&2!==i.zone||l&&1!==i.zone||c)&&o.requestAnimationFrame((()=>o.realign()))}}updateScale(){const e=this,n=e.element,r=n.parentElement;e.configuredWidth||(e.configuredWidth=e.width),n.style.display="none";const o=Rectangle.client(r).width/e.configuredWidth,i=e.scale=e.allowGrowWidth?Math.min(o,1):o;n.style.transform=`scale(${i})`,n.style.transformOrigin="top left",n.style.display="",e.allowGrowWidth&&o>1&&(e.width=e.configuredWidth*o)}onParentElementResize(e){this.updateScale()}parseTRBL(e,n="px"){if("number"==typeof(e=e||0))return[`${e}${n}`,`${e}${n}`,`${e}${n}`,`${e}${n}`];const r=e.split(" "),o=r.length;return 1===o?r[1]=r[2]=r[3]=r[0]:2===o?(r[2]=r[0],r[3]=r[1]):3===o&&(r[3]=r[1]),[isFinite(r[0])?`${r[0]}${n}`:r[0],isFinite(r[1])?`${r[1]}${n}`:r[2],isFinite(r[2])?`${r[2]}${n}`:r[3],isFinite(r[3])?`${r[3]}${n}`:r[4]]}get documentRoot(){var e;return(null===(e=this.owner)||void 0===e?void 0:e.documentRoot)||this.element.getRootNode()}get rootElement(){const e=this;if(!e._rootElement){var n;let r=(null===(n=e.owner)||void 0===n?void 0:n.rootElement)||e.forElement instanceof HTMLElement&&DomHelper.getRootElement(e.forElement);if(!r){const n=e.element instanceof HTMLElement&&DomHelper.getRootElement(e.element);n!==document.body&&n.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||(r=n)}r||(r=document.body),e._rootElement=r}return e._rootElement}get floatRoot(){var e;const n=this.rootElement||(null===(e=this.owner)||void 0===e?void 0:e.rootElement);let{floatRoot:r}=n;if(r)n.contains(r)||n.appendChild(r);else{var o;const{outerCls:e}=Widget,i=null===(o=DomHelper.themeInfo)||void 0===o?void 0:o.name;if(!DomHelper.isValidFloatRootParent(n))throw new Error("Attaching float root to wrong root");i&&e.push(`b-theme-${i.toLowerCase()}`),r=n.floatRoot=DomHelper.createElement({className:`b-float-root ${e.join(" ")}`,parent:n}),ho.push(r),BrowserHelper.isAndroid&&(r.style.height=`${screen.height}px`,EventHelper.on({element:window,orientationchange:()=>r.style.height=`${screen.height}px`})),!BrowserHelper.isHoverableDevice&&window.visualViewport&&EventHelper.on({element:window.visualViewport,resize:({target:e})=>r.style.height=`${e.height}px`}),gn.on({theme:({theme:e,prev:n})=>{r.classList.add(`b-theme-${e.toLowerCase()}`),r.classList.remove(`b-theme-${n.toLowerCase()}`)}})}return r}get floatRootMaxZIndex(){let e=1;return Array.from(this.floatRoot.children).forEach((n=>{const r=parseInt(getComputedStyle(n).zIndex||0,10);r>e&&(e=r)})),e}static resetFloatRootScroll(){ho.forEach((e=>e.scrollTop=e.scrollLeft=0))}static get floatRoots(){return ho}static removeFloatRoot(e){ho.splice(ho.indexOf(e),1)}static get outerCls(){const e=["b-outer"];return BrowserHelper.isTouchDevice&&e.push("b-touch-events"),DomHelper.scrollBarWidth?e.push("b-visible-scrollbar"):e.push("b-overlay-scrollbar"),BrowserHelper.isChrome?e.push("b-chrome"):BrowserHelper.isSafari?e.push("b-safari"):BrowserHelper.isFirefox?e.push("b-firefox"):BrowserHelper.isIE11?e.push("b-ie"):BrowserHelper.isEdge&&e.push("b-edge"),window.ResizeObserver||e.push("b-no-resizeobserver"),e}get isAnimating(){return this._isAnimatingCounter>0}set isAnimating(e){const n=this;0===n._isAnimatingCounter&&e?(n.element.classList.add("b-animating"),n.trigger("animationStart")):1!==n._isAnimatingCounter||e||(n.element.classList.remove("b-animating"),n.trigger("animationEnd")),n._isAnimatingCounter+=e?1:-1,n._isAnimatingCounter=Math.max(0,n._isAnimatingCounter)}async waitForAnimations(){this.isAnimating&&await this.await("animationend",{checkLog:!1})}static query(e,n=!1){const{idMap:r}=Widget.identifiable;for(const o in r)if(Widget.widgetMatches(r[o],e,n))return r[o];return null}static queryAll(e,n=!1){const{idMap:r}=Widget.identifiable,o=[];for(const i in r)Widget.widgetMatches(r[i],e,n)&&o.push(r[i]);return o}static fromElement(e,n,r){const o=typeof n;e&&!e.nodeType&&(e=e.target),("number"===o||n&&n.nodeType===Element.ELEMENT_NODE)&&(r=n,n=null);let i,a,l,c=e,d=0;for("number"!=typeof r&&(i=r,r=Number.MAX_VALUE),"string"===o&&(n=n.toLowerCase());c&&c.nodeType===Element.ELEMENT_NODE&&d<r&&c!==i;){if(a=c.dataset&&c.dataset.ownerCmp||c.id,a){if(l=Widget.getById(a),l){if(!n)return l;if("function"===o){if(n(l))return l}else if(Widget.widgetMatches(l,n,!0))return l}d++}c=c.parentNode}return null}triggerFieldChange(e,n=!0){n&&this.trigger("change",e),this.eachAncestor((n=>{if(n.onFieldChange&&n.onFieldChange(e),n.isolateFields)return!1}))}setupFocusListeners(){gn.setupFocusListenersOnce(this._rootElement,EventHelper)}static widgetMatches(e,n,r){return"*"===n||("function"==typeof n?n(e):Widget.isType(e,n,r))}static attachTooltip(e,n){return"string"==typeof n&&(n={html:n}),Widget.create(Object.assign({forElement:e},n),"tooltip"),e}}const Co=Widget.prototype;["compose","domSyncCallback"].forEach((e=>Co[e].$nullFn=!0)),Widget.initClass(),Widget.register("mask",Mask),DomHelper.Widget=Widget,gn.Widget=Widget,Mask.identifiable.idMap=Widget.identifiable.idMap,Object.assign(window.bryntum||(window.bryntum={}),{get:Widget.getById.bind(Widget),query:Widget.query,queryAll:Widget.queryAll,fromElement:Widget.fromElement}),Widget._$name="Widget";class Layout extends(Base.mixin(Events,Factoryable)){static get type(){return"default"}static get configurable(){return{owner:null,containerCls:"b-auto-container",itemCls:null}}static get factoryable(){return{defaultType:"default"}}get contentElement(){var e;return null===(e=this.owner)||void 0===e?void 0:e.contentElement}onChildAdd(e){}onChildRemove(e){}renderChildren(){const e=this,{owner:n,containerCls:r,itemCls:o}=e,{contentElement:i,items:a}=n,l=n.itemCls,c=null==a?void 0:a.length;if(i.classList.add("b-content-element"),r&&i.classList.add(r),c){n.textContent=!1;for(let e=0;e<c;e++){const r=a[e],{element:c}=r;c.dataset.itemIndex=e,o&&c.classList.add(o),l&&c.classList.add(l),c.classList.remove("b-outer"),r.render(i,Boolean(n.isPainted))}}e.syncPendingConfigs(),e.syncChildCount()}removeChild(e){const n=this,{element:r}=e,{owner:o,itemCls:i}=n,{contentElement:a}=o,l=o.itemCls;a.contains(r)&&r.remove(),delete r.dataset.itemIndex,i&&r.classList.remove(i),l&&r.classList.remove(l),n.fixChildIndices(),n.syncChildCount()}appendChild(e){const{element:n}=e,{owner:r,itemCls:o}=this,{contentElement:i}=r,a=r.itemCls;n.dataset.itemIndex=r.indexOfChild(e),r.textContent=!1,o&&n.classList.add(o),a&&n.classList.add(a),e.render(i,Boolean(r.isPainted)),this.syncChildCount()}insertChild(e,n){const r=this,{element:o}=e,{owner:i,itemCls:a}=r,{contentElement:l}=i,c=DomHelper.getChild(l,`[data-item-index="${n}"]`),d=i.itemCls;i.textContent=!1,a&&o.classList.add(a),d&&o.classList.add(d),l.insertBefore(o,c),e.render(null,Boolean(i.isPainted)),r.fixChildIndices(),r.syncChildCount()}fixChildIndices(){this.owner.items.forEach(((e,n)=>{e.element.dataset.itemIndex=n}))}syncChildCount(){var e;const{owner:n}=this,{length:r}=n.items;null===(e=n.contentElement)||void 0===e||e.classList[1===r?"add":"remove"]("b-single-child")}syncConfigLater(e){const n=this.pendingConfigs||(this.pendingConfigs=[]);n.includes(e)||n.push(e)}syncConfigStyle(e,n,r){const o=this,{contentElement:i}=o,a=o[e];i?i.style[n]=(null==r?void 0:r[a])||a:o.syncConfigLater(e)}syncPendingConfigs(){const e=this,{pendingConfigs:n}=e;let r;if(n)for(e.pendingConfigs=null;r=n.pop();)e[e.$meta.configs[r].updater](e[r])}}Layout.initClass(),Layout._$name="Layout";let So=0;const hasRipple=e=>e.ripple;class Ripple extends Widget{static get defaultConfig(){return{old_element:{children:[{className:"b-ripple-inner",reference:"rippleElement"}]},element:{children:[{tag:"svg",class:"b-ripple-inner",reference:"rippleElement",ns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 100 100",children:[{reference:"circleElement",tag:"circle",cx:"0",cy:"0",r:10}]}]},floating:!0,hideAnimation:!1,showAnimation:!1,scrollAction:"realign",color:"rgba(0,0,0,.3)",startRadius:10,radius:100}}static get $name(){return"Ripple"}afterConstruct(){super.afterConstruct(),EventHelper.on({element:this.rootElement,mousedown:"onRippleControllingEvent",thisObj:this,capture:!0,once:!0})}onRippleControllingEvent(e){var n;const r=this;r.show();const o=DomHelper.getStyleValue(r.circleElement,"animationName");r.hide(),null===(n=r.listenerDetacher)||void 0===n||n.call(r),o&&"none"!==o&&(r.listenerDetacher=EventHelper.on({mousedown:{element:r.rootElement,capture:!0,handler:"onMousedown"},touchstart:{element:r.rootElement,capture:!0,handler:"onTouchStart"},animationend:{element:r.circleElement,handler:"onAnimationEnd"},thisObj:r}),"mousedown"===e.type&&(r.onMousedown(e),gn.on({theme:"onRippleControllingEvent",thisObj:this})))}onTouchStart(e){So=performance.now(),this.handleTriggerEvent(e)}onMousedown(e){performance.now()-So>200&&this.handleTriggerEvent(e)}handleTriggerEvent(e){const n=Widget.fromElement(e.target,hasRipple);if(n){const r=n.ripple,o=r.delegate?e.target.closest(r.delegate):n.focusElement||n.element;if(o){const i=ObjectHelper.assign({event:e,target:o,radius:this.radius},r);if("string"==typeof i.clip&&(i.clip=n[i.clip]||e.target.closest(i.clip),!i.clip))return;this.ripple(i)}}}ripple({event:e,point:n=EventHelper.getClientPoint(e),target:r=e.target,clip:o=r,radius:i=this.radius,color:a=this.color}){this.clip=o;const l=this,c=(o=Rectangle.from(o,null,!0)).getDelta(n),d=l.rippleElement.style,u=l.circleElement,p=DomHelper.getStyleValue(r,"border-radius");l.hide(),d.transform=`translateX(${c[0]}px) translateY(${c[1]}px)`,d.height=d.width=`${i}px`,l.element.style.borderRadius=p,u.setAttribute("r",i),u.setAttribute("fill",a),l.showBy({target:o,align:"c-c",matchSize:!0})}onAnimationEnd(e){"b-ripple-expand"===e.animationName&&this.hide()}}Widget.RippleClass=Ripple,Ripple._$name="Ripple";const Do=Object.freeze({}),{isArray:Eo}=Array,returnWeight=e=>e.weight,sortByWeight=({weight:e},{weight:n})=>"string"==typeof e||"string"==typeof n?String(e).localeCompare(String(n)):(null!=e?e:Number.MAX_SAFE_INTEGER)-(null!=n?n:Number.MAX_SAFE_INTEGER),isNotHidden=e=>e&&!e.hidden,ko=["display","flex-direction"];class Container extends Widget{static get $name(){return"Container"}static get type(){return"container"}static get configurable(){return{items:null,lazyItems:{$config:["lazy"],value:null},defaults:null,defaultType:"widget",layoutStyle:null,itemCls:null,layout:{type:"default"},namedItems:null,overflowable:{value:null,default:!1,$config:null},textContent:!0,record:null,autoUpdateRecord:null,autoUpdateFields:null,hideWhenEmpty:null,contentElMutationObserver:{$config:["lazy","nullify"],value:!0},isolateFields:!1,defaultBindProperty:null,defaultFocus:null}}static get prototypeProperties(){return{initialItems:!0}}startConfigure(e){const n=e.items||e.lazyItems;(this.hasItems=Boolean(n&&(Eo(n)?n:Object.keys(n)).length))||(this.initialItems=!1),super.startConfigure(e)}remove(...e){let n=!0;1===e.length&&(Eo(e[0])?e=e[0]:n=!1);const r=this,{_items:o}=r,i=[];for(let n=0;n<e.length;n++){const a=e[n];o.includes(a)&&(o.remove(a),r.layout.removeChild(a),i.push(a),r.onChildRemove(a))}return n?i:i[0]}removeAll(){return this.remove(this.items)}add(...e){const n=this,r=[];let o,i,a,{_items:l}=n,c=!0;for(1===e.length&&(Eo(e[0])?e=e[0]:c=!1),l||(n.items=[],l=n._items),i=0;i<e.length;i++){var d;o=e[i],null!=(null===(d=o)||void 0===d?void 0:d.weight)?(a=ArrayHelper.findInsertionIndex(o,l.values,sortByWeight),r.push(n.insert(o,a))):o&&(o.isWidget?o.parent=n:o=n.createWidget(o),l.includes(o)||(l.add(o),n.onChildAdd(o),n.layout.appendChild(o),r.push(o)))}return c?r:r[0]}insert(e,n){this.items||(this.items=[]);const r=this,{_items:o}=r;e instanceof Widget?e.parent=r:e=r.createWidget(e),o.includes(n)&&(n=r.indexOfChild(n)),n=Math.min(n,o.count);const i=o.values;return i.splice(n,0,e),o.values=i,r.onChildAdd(e),r.layout.insertChild(e,n),e}indexOfChild(e){return this.items.indexOf(e)}changeLazyItems(e){this.items=e,this.layout.renderChildren()}changeItems(e,n){const r=this,o=[],i=new Bag;return Eo(e)?r.processItemsArray(e,o):e&&r.processItemsObject(e,r.namedItems,o),o.some(returnWeight)&&o.sort(sortByWeight),i.add(o),n&&n.forEach((e=>{r.remove(e),i.includes(e)||e._createdBy!==r||e.destroy()})),i}updateItems(e,n){let r=0;e.forEach((e=>{this.onChildAdd(e),n&&!n.temporary&&this.layout.insertChild(e,r),++r})),this.initialItems=!1}updateHideWhenEmpty(){this.syncChildCount(this.rendered)}get items(){const e=this;if(e.getConfig("lazyItems"),!e._items){if(e.initializingItems)return[];e._items=new Bag,e._items.temporary=!0}return e._items.values}processItemsArray(e,n){const r=e.length;let o,i;for(o=0;o<r;o++)i=e[o],i instanceof Widget?(i.parent=this,DomHelper.removeClasses(i.element,Widget.outerCls)):i=this.createWidget(i),i&&((i.ref||i.id)&&this.addDescendant(i),n.push(i))}processItemsObject(e,n,r){let o,i;for(i in e)o=e[i],o&&(n&&i in n&&(o="object"==typeof o?ObjectHelper.merge(ObjectHelper.clone(n[i]),o):n[i]),o&&(o instanceof Widget?o.parent=this:(o instanceof Object&&(o.ref=i),o=this.createWidget(o)),o&&(o.ref=i,this.addDescendant(o),r.push(o))))}onChildAdd(e){if(e.innerItem&&this.readOnly&&(e.readOnly=!0),this.onChildAddLayout(e),e.ref||e.id)for(let n=this;n;n=n.parent)n.addDescendant(e);this.syncChildCount(!0)}onChildAddLayout(e){e.innerItem&&this.layout.onChildAdd(e)}onChildHide(){this.syncChildCount(!0)}onChildShow(){this.syncChildCount(!0)}syncChildCount(e){if(!this.isConfiguring){const n=this,{childItems:r,hasItems:o}=n,{length:i}=r,a=r.filter(isNotHidden),{length:l}=a;if(n.hideWhenEmpty&&e){const e=Boolean(!l);Boolean(n._hidden)!==e&&(n.hidden=e)}for(let e=0;e<i;e++)r[e].element.classList.remove("b-last-visible-child"),r[e].element.classList.remove("b-first-visible-child");l&&(a[0].element.classList.add("b-first-visible-child"),a[l-1].element.classList.add("b-last-visible-child")),n.hasItems=Boolean(i),n.contentElement.classList[l?"remove":"add"]("b-no-visible-children"),n.isComposable?o!==n.hasItems&&n.recompose():n.updateTextContent(n._textContent)}}syncFlexDirection(){const{contentElement:e}=this,n=new DomClassList(e.className),r=DomHelper.getStyleValue(e,ko);n["b-flex-row"]=n["b-flex-column"]=0,"flex"===r.display&&(n[`b-flex-${r["flex-direction"]}`]=1),DomHelper.syncClassList(e,n)}addDescendant(e){const n=e.ref||e.id,r=this._widgetMap||(this._widgetMap={});r[n]||(r[n]=e)}onChildRemove(e){const n=e.ref||e.id;if(n)for(let r=this;r;r=r.parent)r.widgetMap[n]===e&&delete r.widgetMap[n];this.layout.onChildRemove(e),this.syncChildCount(!0)}get widgetMap(){return this._widgetMap||(this._widgetMap={}),this.initializingItems||this.getConfig("items"),this._widgetMap}changeRecord(e){return this._record=null==e?Do:null,e}updateRecord(e){var n;const r=this;null===(n=r.recordUpdateDetacher)||void 0===n||n.call(r),r.trigger("beforeSetRecord",{record:e}),r.setValues(e,!0,!r.$highlight),r.autoUpdateFields&&null!=e&&e.firstStore&&(r.recordUpdateDetacher=e.firstStore.on({update:r.onRecordUpdated,thisObj:r}))}setRecord(e,n){this.$highlight=n,this.record=e,this.$highlight=!1}onRecordUpdated({record:e}){e===this.record&&this.setValues(this.record,!0,!0)}onFieldChange({source:e,userAction:n}){if(this.autoUpdateRecord){const{record:r}=this,{name:o,isValid:i,value:a}=e;r&&n&&o&&i&&(r[o]=a)}}getValues(e){const n={};return this.eachWidget(((r,o)=>{r.isolateFields?o.down=!1:!("name"in r)||e&&!e(r)||(n[r.name]=r.value)}),!0),n}get hasNoChildren(){const e=this,{items:n,lazyItems:r}=e.initialConfig,o=n&&(Eo(n)?n:ObjectHelper.values(n)),i=r&&(Eo(r)?r:ObjectHelper.values(r)),a=e.isConfiguring?i||o:e.items;return!(null!=a&&a.filter(isNotHidden).length)}afterRecompose(){this.realign()}updateTextContent(e){const n=this;n.isComposable||(n.contentElement.classList[e&&n.hasNoChildren?"add":"remove"]("b-text-content"),n.rendered&&n.realign())}updateLayoutStyle(e){DomHelper.applyStyle(this.contentElement,e)}onPaint(){var e;null===(e=super.onPaint)||void 0===e||e.call(this,...arguments),this.getConfig("contentElMutationObserver")}changeContentElMutationObserver(e,n){if(n&&(n.takeRecords(),n.disconnect()),e){const n=this,{element:r,contentElement:o}=n;(e=new MutationObserver((e=>n.onContentElMutation(e)))).observe(o,{attributes:!0}),o!==r&&e.observe(r,{attributes:!0}),n.syncFlexDirection()}return e}onContentElMutation(){this.isVisible&&this.syncFlexDirection()}changeLayout(e,n){return Layout.reconfigure(n,e,{owner:this,defaults:{owner:this}})}get childItems(){return this.items}getWidgetById(e){return this.widgetMap[e]}processWidgetConfig(e){}setupWidgetConfig(e,n){const r=this;"string"==typeof e?e={html:e}:e.nodeType===Element.ELEMENT_NODE&&(e={element:e,id:e.id}),("string"==typeof n||!n&&(n=e.type))&&(n=Widget.resolveType(n,!0));for(let o=(e=(n||Widget).mergeConfigs(r.defaults,e,{parent:r})).parent;o;o=o.parent)if(!1===o.processWidgetConfig(e))return null;return!1===r.trigger("beforeWidgetCreate",{widgetConfig:e})?null:e}createWidget(e){const n=Widget.create(this.setupWidgetConfig(e),this.defaultType);return n&&(n._createdBy=this),n}updateDefaults(e,n){if(!this.isConfiguring){const r=Object.entries(e);this.eachWidget((e=>{r.forEach((([r,o])=>{e[r]===n[r]&&(e[r]=o)}))}),!1)}}render(){this.getConfig("lazyItems"),this.layout.renderChildren(),this.syncChildCount(),super.render(...arguments)}get focusElement(){const e=this.query(this.defaultFocus||(e=>e.isFocusable&&"close"!==e.ref));return e?e.focusElement:super.focusElement}doDestroy(){var e;null===(e=this._items)||void 0===e||e.forEach((e=>{var n;return null===(n=e.destroy)||void 0===n?void 0:n.call(e)})),this.layout.destroy(),super.doDestroy()}get isValid(){let e=!0;return this.eachWidget((n=>{n.isVisible&&"isValid"in n&&!n.isValid&&(e=!1)}),!0),e}get values(){const e={};return this.eachWidget(((n,r)=>{if(n.isolateFields)r.down=!1;else{const r=n.defaultBindProperty;r in n&&(e[n.name||n.ref||n.id]=n[r])}}),!0),e}set values(e){this.setValues(e)}get isSettingValues(){var e;return Boolean(this._isSettingValues||(null===(e=this.parent)||void 0===e?void 0:e.isSettingValues))}setValues(e,n=!1,r=!0){this._isSettingValues={preventHighlight:r},this.eachWidget(((o,i)=>{const a=o.highlightExternalChange,l=n?o.name:o.name||o.ref||o.id,c=o.defaultBindProperty;c in o&&l&&(r&&(o.highlightExternalChange=!1),o[c]=e&&l in e?e[l]:null,o.highlightExternalChange=a),o.isolateFields&&(i.down=!1)}),!0),this._isSettingValues=!1}}Container.initClass(),Container._$name="Container";const{assign:To}=ObjectHelper,now=()=>performance.now(),_o={start:!1},Mo=/^[.\d]+([^\d].*)?$/,getTransitions=e=>{const n=e.$bryntum||(e.$bryntum={});return n.transitions||(n.transitions=Object.create(null))},milliseconds=(e,n)=>{var r;"string"==typeof e&&(n=null===(r=Mo.exec(e))||void 0===r?void 0:r[1],e=parseFloat(e));return e&&e*("s"===n||!n&&e<10?1e3:1)},syncTransitions=e=>{const n=ObjectHelper.values(getTransitions(e)).filter((e=>null==e.completed)).map((e=>e.toString()));e.style.transition=n.join(", ")},Anim=e=>class Anim extends e{static get prototypeProperties(){return{_delay:null,_duration:null,_retain:null,_timing:null,_unit:null,owner:null,reverting:null}}constructor(...e){super(...e),this.id=++Ro}start(){this.startTime=now()}get delay(){var e,n,r;return milliseconds(null!==(e=null!==(n=this._delay)&&void 0!==n?n:null===(r=this.owner)||void 0===r?void 0:r.delay)&&void 0!==e?e:0,this.unit)}set delay(e){this._delay=e}get duration(){var e;const{owner:n,unit:r}=this;return milliseconds(null!==(e=this._duration)&&void 0!==e?e:n?n.duration:Animator.defaultDuration,r)}set duration(e){this._duration=e}get elapsed(){return now()-this.startTime}get remaining(){return this.duration-this.elapsed}get retain(){var e,n;return null!==(e=this._retain)&&void 0!==e?e:null===(n=this.owner)||void 0===n?void 0:n.retain}set retain(e){this._retain=e}get timing(){var e,n;return null!==(e=this._timing)&&void 0!==e?e:null===(n=this.owner)||void 0===n?void 0:n.timing}set timing(e){this._timing=e}get unit(){var e,n;return null!==(e=this._unit)&&void 0!==e?e:null===(n=this.owner)||void 0===n?void 0:n.unit}set unit(e){this._unit=e}};let Ro=0;class AnimatorTransition extends(Base.mixin(Anim)){static get $name(){return"AnimatorTransition"}static get prototypeProperties(){return{element:null,property:null,from:null,to:null,completed:null,promissory:null,reverting:null}}afterConstruct(){super.afterConstruct();const e=this,{element:n,transitions:r}=e;let{property:o}=e;[o,e.to]=DomHelper.unitize(o,e.to),e.from=DomHelper.unitize(o,e.from)[1],e.promissory=new Promissory,e.property=o;const i=r[o];r[o]=e;let{from:a}=e;i&&(e.from=i.to,a=null,i.destroy()),null===a&&(a=e.getCurrentStyleValue(),i||(e.from=a)),n.style[o]=a,e.getCurrentStyleValue()}doDestroy(){const e=this;e.finish(!1),e.completed&&!e.retain&&e.clearStyle(),super.doDestroy()}get promise(){var e;return null===(e=this.promissory)||void 0===e?void 0:e.promise}get transitions(){return getTransitions(this.element)}clearStyle(){this.setStyle("")}finish(e){const n=this,{transitions:r,promissory:o,property:i}=n;o&&(n.completed=e,n.promissory=null,o.resolve(e),r[i]===n?(delete r[i],e||(syncTransitions(n.element),n.clearStyle())):n.completed=!1)}getCurrentStyleValue(){return DomHelper.getStyleValue(this.element,this.property)}revert(){const{duration:e,elapsed:n,element:r,from:o,property:i,_retain:a,_timing:l}=this;return new AnimatorTransition({element:r,property:i,retain:a,timing:l,duration:Math.round(Math.min(e,n)),reverting:this,to:o,unit:"ms"})}setStyle(e){this.element.style[this.property]=e}start(){const e=this,{delay:n,duration:r,element:o,property:i}=e;EventHelper.onTransitionEnd({element:o,property:i,duration:n+r+20,thisObj:e.owner,handler:()=>{var n;return null===(n=e.finish)||void 0===n?void 0:n.call(e,!0)}}),super.start(),e.setStyle(e.to)}toString(){const{delay:e,duration:n,property:r,timing:o}=this;return`${r} ${n}ms ${o||"ease-in-out"}${e?` ${e}ms`:""}`}}AnimatorTransition.initClass();class Animator extends(Base.mixin(Anim)){static get $name(){return"Animator"}static get prototypeProperties(){return{element:null,finalize:null,prefinalize:null,completed:null,items:null}}static register(e,n){ObjectHelper.isObject(e)?ObjectHelper.entries(e).forEach((e=>Animator.register(...e))):(Animator.fx[e]=n,Animator[e]=n=>(DomHelper.isElement(n)?n={element:n,[e]:{}}:delete(n={element:n.element,[e]:n})[e].element,Animator.run(n)))}static run(e){return new Animator(e).start()}constructor(e){var n;super(null);const r=this,o=[],i={};let a,l,c,d;if(Array.isArray(e))r.items=e;else for(c in e)(Animator.specialPropsRe.test(c)?r:i)[c]=e[c];ObjectHelper.keys(i).forEach((e=>{d=i[e],null!=d&&!1!==d&&d==d&&((l=Animator.fx[e])?(d=To(r.defaults,l(d,r,e)),d.owner=r,a=new Animator(d)):(d=To(r.defaults,"object"==typeof d?d:{to:d}),d.owner=r,d.property=e,a=new AnimatorTransition(d)),o.push(a))})),null===(n=r.items)||void 0===n||n.forEach((e=>{ObjectHelper.isInstantiated(e)?e.owner=r:((e=To(r.defaults,e)).owner=r,e=new Animator(e)),o.push(e)})),r.items=o,r.promise=(1===o.length?o[0].promise:Promise.all(o.map((e=>e.promise)))).then((e=>{var n;return null===(n=r.finish)||void 0===n||n.call(r,e),r.completed||!1}))}doDestroy(){this.items.forEach((e=>e.destroy())),super.doDestroy()}get defaults(){return{element:this.element}}get retain(){const{_retain:e,finalize:n,owner:r}=this;return null!=e?e:!n&&(!r||r.retain)}set retain(e){super.retain=e}done(){return this.promise}finish(e){var n,r;const o=this,{items:i}=o;for(syncTransitions(o.element),o.completed="boolean"==typeof e?e:!e.some((e=>!e)),null===(n=o.prefinalize)||void 0===n||n.call(o,o.completed,o);i.length;)i.pop().destroy();null===(r=o.finalize)||void 0===r||r.call(o,o.completed,o)}revert(e){var n;const r=this,{reverting:o}=r,i=!e||null===(n=e.start)||void 0===n||n;let a=r.defaults;return o&&(o.finalize&&(a.finalize=o.finalize),o.prefinalize&&(a.prefinalize=o.prefinalize),a.retain=o._retain),a=To(a,e,{items:r.items.map((e=>e.revert(_o))),reverting:r}),a=new Animator(a),i&&a.start(),a}start(){const{element:e,items:n}=this;return super.start(),n.length&&(syncTransitions(e),n.forEach((e=>e.start()))),this}}Animator.initClass().Transition=AnimatorTransition,Animator.specialPropsRe=new RegExp(`^(?:${Object.keys(Animator.prototypeProperties).concat(Object.keys(Animator.superclass.prototypeProperties)).map((e=>"_"===e[0]?e.substr(1):e)).join("|")})$`),Animator.defaultDuration=200,Animator.fx={},Animator.register({puff:e=>(!0===e?e={}:"object"!=typeof e?e={transform:`scale(${e})`}:e.scale&&((e=ObjectHelper.clone(e)).transform=`scale(${e.scale})`,delete e.scale),To({opacity:0,transform:"scale(8)"},e))}),Animator._$name="Animator";class ClickRepeater extends(Base.mixin(Delayable)){static get configurable(){return{element:null,delegate:null,delay:500,startRate:2,endRate:20,accelerateDuration:4e3,pressedCls:"b-pressed"}}doDestroy(){var e;null===(e=this.mousedownRemover)||void 0===e||e.call(this),super.doDestroy()}cancel(){var e,n,r;const o=this;null===(e=o.activeElement)||void 0===e||e.classList.remove(o.pressedCls),o.activeElement=null,null===(n=o.acceleration)||void 0===n||n.cancel(),o.activeListenerRemover=null===(r=o.activeListenerRemover)||void 0===r?void 0:r.call(o),o.clearTimeout("startAutoRepeat"),o.clearTimeout(o.repeatTimer)}updateElement(e){var n;null===(n=this.mousedownRemover)||void 0===n||n.call(this),this.mousedownRemover=EventHelper.on({element:e,mousedown:"onMouseDown",thisObj:this})}onMouseDown(e){const n=this,r=n.delegate?e.target.closest(n.delegate):n.element;n.cancel(),r&&(n.activeElement=r,n.triggerEvent=e,r.classList.add(n.pressedCls),n.activeListenerRemover=EventHelper.on({mouseup:{element:document,handler:"onMouseUp"},mousemove:{element:r,handler:"onTargetMouseMove"},mouseleave:{element:r,handler:"onTargetMouseLeave"},mouseenter:{element:r,handler:"onTargetMouseEnter"},thisObj:n}),n.setTimeout("startAutoRepeat",n.delay))}onMouseUp(){this.cancel()}onTargetMouseLeave(){this.activeElement.classList.remove(this.pressedCls),this.clearTimeout(this.repeatTimer)}onTargetMouseEnter(e){const n=this;e.buttons?(n.activeElement.classList.add(n.pressedCls),n.triggerEvent=e,n.fireClick()):n.cancel()}onTargetMouseMove(e){this.triggerEvent=e}startAutoRepeat(){const e=this;e.interval=e.startInterval=1e3/e.startRate,e.accelerationDelta=e.startInterval-1e3/e.endRate,e.fireClick(),e.acceleration=FunctionHelper.animate(e.accelerateDuration,e.nextTick,e,"easeOutQuad")}nextTick(e){this.interval=this.startInterval-this.accelerationDelta*e}fireClick(){const e=this,n=new MouseEvent("click",e.triggerEvent);e.triggerEvent.target.dispatchEvent(n),e.repeatTimer=e.setTimeout(e.fireClick,e.interval)}}ClickRepeater._$name="ClickRepeater";const Io=/^(?:undefined|null|LEFT|RIGHT)$/,Fo={TOP:"BOTTOM",RIGHT:"LEFT",BOTTOM:"TOP",LEFT:"RIGHT"},canonicalDock=e=>{const n=null==e?void 0:e.toUpperCase();return[n,"LEFT"===n||"RIGHT"===n]};var Rotatable=e=>class Rotatable extends(e||Base){static get $name(){return"Rotatable"}static get configurable(){return{rotate:null,invertRotate:null}}compose(){const{rotate:e}=this;return{class:{[`b-rotate-${(e||"").toLowerCase()}`]:e,"b-rotate-vertical":e}}}syncRotationToDock(e){if(Io.test(String(this.rotate))){const[n,r]=canonicalDock(e);this.rotate=r?this.invertRotate?Fo[n]:n:null}}get widgetClass(){return null}};class Tool extends(Widget.mixin(Rotatable)){static get $name(){return"Tool"}static get type(){return"tool"}static get configurable(){return{align:{value:null,$config:{merge:"replace"}},repeat:null,ariaLabel:null}}compose(){const{align:e,ariaLabel:n}=this;return{tag:"button",class:{[`b-align-${e||"end"}`]:1,"b-icon":1},"aria-label":n,listeners:{click:"onClick"}}}get focusElement(){return this.element}get panel(){return this.parent}changeAlign(e){return e}onClick(e){const{handler:n,panel:r}=this;this.disabled||!1===(null==r?void 0:r.trigger("toolclick",{domEvent:e,tool:this}))||n&&this.callback(n,r,[e,r,this])}onInternalKeyDown(e){"Enter"===(e.key.trim()||e.code)&&(e.cancelBubble=!0,e.stopPropagation())}updateDisabled(e,n){var r;super.updateDisabled(e,n),e&&(null===(r=this.repeat)||void 0===r||r.cancel())}changeRepeat(e,n){return null==n||n.destroy(),e&&ClickRepeater.new({element:this.element},e)}}Tool.initClass(),Tool._$name="Tool";const Ao=/right/i,autoAlign=e=>(e.collapsed||e.collapsing)&&e.owner.collapsible.direction.match(Ao)?"start":"end";class CollapseTool extends Tool{static get $name(){return"CollapseTool"}static get type(){return"collapsetool"}static get configurable(){return{autoAlign:!0,collapsed:null,collapsing:null,collapsify:!1,direction:"up"}}compose(){const{collapsed:e,direction:n}=this;return{class:{[`b-icon-collapse-${n}`]:1,"b-collapsed":e}}}changeAutoAlign(e){return!0===e?autoAlign:e}syncAutoAlign(){const{autoAlign:e}=this;e&&(this.align=e(this))}updateAutoAlign(){this.syncAutoAlign()}updateCollapsed(){this.syncAutoAlign()}updateCollapsing(){this.syncAutoAlign()}updateDirection(){this.syncAutoAlign()}}CollapseTool.initClass(),CollapseTool._$name="CollapseTool";const Oo=/^(?:UP|DOWN|LEFT|RIGHT)$/,Po=[],Ho=[Po,Po],qo="b-panel-collapse-revealer",Lo=/^(?:left|right)$/i,{round:jo}=Math,No=["up","down","left","right"].reduce(((e,n)=>(e[n.toUpperCase()]=e[n]=n,e)),{}),$o={top:["top","bottom"],right:["right","left"],bottom:["bottom","top"],left:["left","right"]},Bo={hl:"LEFT",hr:"RIGHT",vb:"DOWN",vt:"UP"},zo={h:"w",w:"h"},Vo={up:"top",right:"right",down:"bottom",left:"left"},Wo={top:!1,right:!0,bottom:!1,left:!0},Uo={top:"UP",right:"RIGHT",bottom:"DOWN",left:"LEFT"};let Go=0;class PanelCollapser extends(Base.mixin(Factoryable)){static get $name(){return"PanelCollapser"}static get type(){return"inline"}static get configurable(){return{animation:{duration:200},collapsed:{value:null,$config:null,default:!1},direction:null,collapseTooltip:"L{Collapse}",expandTooltip:"L{Expand}",panel:{value:null,$config:"nullify"},supportAxis:null,tool:{type:"collapsetool",handler(e){var n;null===(n=this.collapsible)||void 0===n||n.onCollapseClick(e)}}}}static get factoryable(){return{defaultType:"inline"}}get collapsing(){return"collapsing"===this.collapsingExpanding}get collapsingExpanding(){var e;const n=null===(e=this.currentOperation)||void 0===e?void 0:e.collapsing;return null==n?null:n?"collapsing":"expanding"}get currentDock(){var e,n,r,o;return null!==(e=null===(n=this.panel)||void 0===n||null===(r=n.header)||void 0===r||null===(o=r.dock)||void 0===o?void 0:o.toLowerCase())&&void 0!==e?e:"top"}get expanding(){return"expanding"===this.collapsingExpanding}get collapseTool(){var e,n;return null===(e=this.panel)||void 0===e||null===(n=e.tools)||void 0===n?void 0:n.collapse}get collapseDim(){return Lo.test(this.collapseDir)?"width":"height"}getCollapseDir(e){let{direction:n,panel:r}=this;if(!n||Oo.test(n)){const e=null==r?void 0:r.placement;var o;if(e)n=Bo[e];else n=Uo[(null==r||null===(o=r.header)||void 0===o?void 0:o.dock)||"top"]}return e?No[n]:n}get collapseDir(){return this.getCollapseDir(!0)}get collapseDock(){const{panel:e}=this,n=e.hasHeader&&e.expandedHeaderDock,r=Vo[this.collapseDir];return n&&Wo[r]===Wo[n]?n:r}get toolsConfig(){const{direction:e,tool:n}=this;return n&&{collapse:ObjectHelper.assign({direction:e.toLowerCase()},n)}}beforeCollapse(e){}changeTool(e){const n=this,{panel:r}=n;if(n.isConfiguring||n.isDestroying||!r||r.isDestroying)return e;r.tools={collapse:e}}collapse(e){var n,r,o,i,a;const l=this,{panel:c}=l,d={id:++Go,completed:!1,panel:c};let{currentOperation:u}=l;return e=null===(n=e)||void 0===n||n,ObjectHelper.isObject(e)&&(d.collapsed=!0,ObjectHelper.assign(d,e),e=d.collapsed,delete d.collapsed),d.collapsing=e,d.previous=null!==(r=u)&&void 0!==r?r:null,e!==l.collapsed?u?u.collapsing!==e&&(d.animation=u.animation.revert({finalize(){var e;null===(e=l.collapseFinalize)||void 0===e||e.call(l,d,!0)}}),d.collapsing=e,u=d):(d.animation=ObjectHelper.clone(("animation"in d?d:l).animation),!1!==l.beforeCollapse(d)&&(d.animation&&(d.animation.finalize=e=>{var n;return null===(n=l.collapseFinalize)||void 0===n?void 0:n.call(l,d,e)}),c.changingCollapse=!0,l[e?"collapseBegin":"expandBegin"](d),d.animation?u=d:(d.completed=!0,l[e?"collapseEnd":"expandEnd"](d)),c.changingCollapse=!1,d.animation||l.onComplete(e?"collapse":"expand"))):u&&u.collapsing!==e&&(l[e?"expandRevert":"collapseRevert"](d),d.animation=u.animation.revert({finalize(){var e;null===(e=l.collapseFinalize)||void 0===e||e.call(l,d,!1)}}),u=d),l.currentOperation=u,null!==(o=null===(i=u)||void 0===i||null===(a=i.animation)||void 0===a?void 0:a.done())&&void 0!==o?o:Promise.resolve(e===l.collapsed)}collapseFinalize(e,n){const r=this,{currentOperation:o,panel:i}=r,a=i.collapsed?"expand":"collapse";o===e&&(r.currentOperation=null,e.completed=n,i.changingCollapse=!0,r[a+"End"](e),i.changingCollapse=!1,n&&r.onComplete(a))}applyHeaderDock(e,n=!0){const{currentDock:r,panel:o}=this,i=e?this.collapseDock:o.expandedHeaderDock;i!==r&&o.hasHeader&&(o.header={dock:i},n&&o.recompose.flush())}composeHeader(e){return e.class[qo]=1,e}composeTitle(e){return e.class[qo]=1,e}collapseBegin(e){var n;const r=this,{animation:o}=e,{collapseDim:i,collapseTool:a,panel:l}=r,{element:c}=l,d=null==a?void 0:a.element.classList;r.configuredWidth=l._lastWidth,r.configuredHeight=l._lastHeight,r.applyHeaderDock(!0);const u=l.rectangle(),p=r.lockInnerSize().moveTo(0,0),b=p.clone(),g=$o[r.collapseDock],m=null===(n=l.headerElement)||void 0===n?void 0:n.getBoundingClientRect(),f=jo((null==m?void 0:m[i])||0);o?(b[g[0]]=b[g[1]],c.classList.add("b-collapsing"),null==d||d.add("b-collapsed","b-collapsing"),a&&(a.collapsing=!0),d&&(d.remove("b-collapsed"),l.rectangle(),d.remove("b-collapsing"),d.add("b-collapsed")),o.element=c,o.retain=!0,o[i]={from:jo(u[i]),to:f},o.items=[{element:l.bodyWrapElement,retain:!1,clip:{from:`rect(${p})`,to:`rect(${b})`}}],e.animation=Animator.run(o)):(c.style[i]=`${f}px`,a&&(d.add("b-collapsing","b-collapsed"),a.rectangle(),d.remove("b-collapsing")))}collapseEnd(e){const n=this,{collapseTool:r}=n;n.panel.element.classList.remove("b-collapsing"),r&&(r.collapsing=!1),e.completed?n.collapsed=!0:(n.applyHeaderDock(!1),n.restoreConfiguredSize(),n.lockInnerSize(!1))}collapseRevert(e){var n;null===(n=this.collapseTool)||void 0===n||n.element.classList.remove("b-collapsed")}expandBegin(e){const n=this,{animation:r}=e,{collapseDim:o,collapseTool:i,panel:a}=n,{element:l}=a,c=a.rectangle();l.classList.remove("b-collapsed","b-collapsing"),a.element.style[o]="",n.restoreConfiguredSize(),n.lockInnerSize(!1);const d=a.rectangle(),u=n.lockInnerSize().moveTo(0,0),p=u.clone(),b=$o[n.collapseDock];null==i||i.element.classList.remove("b-collapsed"),r&&(p[b[0]]=p[b[1]],l.classList.add("b-collapsed","b-expanding"),r.element=l,r[o]={from:jo(c[o]),to:jo(d[o])},r.items=[{element:a.bodyWrapElement,retain:!1,clip:{from:`rect(${p})`,to:`rect(${u})`}}],e.animation=Animator.run(r))}expandEnd(e){const n=this;n.panel.element.classList.remove("b-expanding"),e.completed&&(n.collapsed=!1,n.applyHeaderDock(!1),n.restoreConfiguredSize(),n.lockInnerSize(!1))}expandRevert(e){var n;null===(n=this.collapseTool)||void 0===n||n.element.classList.add("b-collapsed")}get innerElement(){return this.panel.bodyWrapElement}get innerSizeElement(){return this.innerElement}get supportAxis(){let{_supportAxis:e}=this;const n=!0===e;return(n||null==e)&&(e=this.collapseDim[0],(n||"absolute"===DomHelper.getStyleValue(this.panel.element,"position"))&&(e+=zo[e])),e||""}lockInnerSize(e=!0){const n=this,{innerElement:r,panel:o}=n,i=e?n.supportAxis:"",a=o.element,l=o.headerElement,c=e&&l&&Rectangle.from(l,a),d=e&&Rectangle.from(n.innerSizeElement,a),u=r.style;return l&&(l.style.minWidth=i.includes("w")?`${c.width}px`:"",l.style.minHeight=i.includes("h")?`${c.height}px`:""),u.width=e?`${d.width}px`:"",u.height=e?`${d.height}px`:"",r.classList[e?"add":"remove"]("b-panel-collapse-size-locker"),d}onCollapseClick(e){let n=!this.collapsing&&(!!this.expanding||!this.collapsed);e.altKey&&(n={animation:null,collapsed:n}),this.collapse(n)}onComplete(e){var n;null===(n=this.panel)||void 0===n||n.trigger(e)}onHeaderClick({event:e}){0===e.button&&this.panel.collapsed&&e.target.classList.contains(qo)&&this.onRevealerClick()}onPanelConfigChange({name:e,value:n}){const r=this,{panel:o}=r;"collapsed"===e?n&&o.isConfiguring||(r.collapsed=n):"header"!==e||o.changingCollapse||r.syncDirection()}onPanelPaint(){this.syncDirection()}onRevealerClick(){this.panel.expand()}restoreConfiguredSize(e){var n;const{configuredHeight:r,configuredWidth:o,panel:i}=this;e=null!==(n=e)&&void 0!==n?n:"wh",null!=o&&e.includes("w")&&(i.width=o),null!=r&&e.includes("h")&&(i.height=r)}splitHeaderItems(){return Ho}syncDirection(){const e=this,{direction:n}=e;n&&!Oo.test(n)||(e.direction=e.getCollapseDir())}updateCollapsed(e){const{collapseTool:n,panel:r}=this;r&&(r.collapsed=e,r.element.classList[e?"add":"remove"]("b-collapsed")),n&&(n.collapsed=e)}updateDirection(e){const{collapseTool:n,panel:r}=this;n&&(n.direction=No[e]),null!=r&&r.rendered&&r.recompose()}updatePanel(e){var n,r;const o=this;o.syncDirection(),null===(n=o.panelChangeDetacher)||void 0===n||n.call(o),o.panelChangeDetacher=e&&FunctionHelper.after(e,"onConfigChange","onPanelConfigChange",o,{return:!1}),null===(r=o.panelListeners)||void 0===r||r.call(o),o.panelListeners=e&&!e.isPainted?e.on({once:!0,paint(){e.initialConfig.collapsed&&(e.collapsed=!0)}}):null}wrapCollapser(e,n){return[e,n]}}PanelCollapser.maps={clipByDock:$o,dockByDirection:Vo,dockIsHorz:Wo},PanelCollapser.initClass(),PanelCollapser._$name="PanelCollapser";const Yo=Symbol("pendingCreate");class DynamicObject extends Base{static get prototypeProperties(){return{cleanup:null,configName:null,created:null,factory:null,inferType:"name",owner:null,ownerName:null,proxyable:"undefined"!=typeof Proxy,setup:null,transform:null}}static get properties(){return{defaults:{},instances:{},object:Object.create({})}}get proxy(){const e=this;let n=null;return e.proxyable&&(n=new Proxy(e.instances,{get:(n,r)=>e.get(r),set:(n,r,o)=>(e.set(r,o),!0),deleteProperty:(n,r)=>(e.set(r,null),!0)})),Reflect.defineProperty(e,"proxy",{configurable:!0,value:n}),n}get target(){return this.proxy||this.object}define(e,n){const r=this,{transform:o}=r,i=o?o(n,e):n,a=ObjectHelper.isInstantiated(i);r.instances[e]=Yo,a||r.setDefaults(e,i),r.defineProp(e,!0),a&&r.set(e,i)}defineProp(e,n){const r=this,{object:o}=r;r.proxy||Reflect.defineProperty(n?Object.getPrototypeOf(o):o,e,{configurable:!n,enumerable:!0,get:()=>r.get(e),set:n=>r.set(e,n)})}flush(){const e=this;try{var n;e.updating=!0;for(const n in e.defaults)e.get(n);e.afterConfigureOwner=null===(n=e.afterConfigureOwner)||void 0===n?void 0:n.call(e)}finally{e.updating=!1}}get(e){const{defaults:n,instances:r}=this;return r[e]===Yo&&this.set(e,Yo),r[e]||n[e]&&null}set(e,n){const r=this,{cleanup:o,configName:i,defaults:a,factory:l,instances:c,owner:d,setup:u,transform:p,updating:b}=r,g=d&&i&&!b,m=c[e]===Yo?null:c[e],f=l.reconfigure(m,n===Yo?{}:n||null,{cleanup:o&&(n=>o(n,e)),defaults:a[e]||r.setDefaults(e,{}),owner:r.owner,setup:u&&((n,r,o)=>u(n,e,r,o)),transform:p&&(n=>p(n,e))});if(f!==m){const n=g&&_objectSpread2({},c);var v;if(c[e]=f,f)r.defineProp(e),null===(v=r.created)||void 0===v||v.call(r,f,e);else delete r.object[e],delete c[e];g&&d.onConfigChange({name:i,config:d.$meta.configs[i],value:r.target,was:n})}}setDefaults(e,n){const{defaults:r,factory:o,inferType:i,instances:a,owner:l,ownerName:c}=this,{typeKey:d}=o.factoryable;return n=!0===n?{}:ObjectHelper.assign({},n),("name"===i||!0===i&&!n[d])&&(n[d]=e),c&&(n[c]=l),n.beforeConfigure=n=>{a[e]=n},r[e]=n}update(e){const n=this,{owner:r}=n;let o,i;try{if(n.updating=!0,e)for(o in e)i=e[o],n.defaults[o]?n.set(o,i):i&&n.define(o,i);else for(o in n.instances)n.set(o,null)}finally{n.updating=!1}r&&(r.isConfiguring?n.afterConfigureOwner||(n.afterConfigureOwner=FunctionHelper.before(r,"afterConfigure","flush",n)):n.flush())}}DynamicObject.initClass(),DynamicObject._$name="DynamicObject";const Ko=[],Xo={},Qo={align:1,weight:1};var Toolable=e=>class Toolable extends(e||Widget){static get $name(){return"Toolable"}static get configurable(){return{tools:{value:null,$config:{nullify:!0}},toolDefaults:{"*":{type:"tool",align:"end"}}}}byWeightSortFn(e,n){return(e.weight||0)-(n.weight||0)}byWeightReverseSortFn(e,n){return(n.weight||0)-(e.weight||0)}gatherTools({align:e,overlay:n,refs:r}=Xo){const{collapsed:o,tools:i}=this;let a,l,c,d,u,p=[];for(l in i){var b,g,m,f,v;u=i[l],a=null!==(b=null!==(g=null===(m=u)||void 0===m||null===(f=m.align)||void 0===f?void 0:f.align)&&void 0!==g?g:null===(v=u)||void 0===v?void 0:v.align)&&void 0!==b?b:"end",a===e&&u.isCollapsified(o,n)&&p.push(u)}if(p.sort(this["end"===e?"byWeightReverseSortFn":"byWeightSortFn"]),r){const e="widget"===r,n={};for(c=0;c<p.length;++c)d=p[c],n[d.ref]=e?d:d.element;p=n}return p}getEndTools({overlay:e,refs:n}=Xo){return this.gatherTools({align:"end",overlay:e,refs:n})}getStartTools({overlay:e,refs:n}=Xo){return this.gatherTools({align:"start",overlay:e,refs:n})}get childItems(){return[...this.getStartTools(),...this._items||Ko,...this.getEndTools()]}changeTools(e,n){const r=this,o=r.$tools||(r.$tools=new DynamicObject({configName:"tools",factory:Widget,inferType:!1,owner:r,created(e){var n,i;e.innerItem=!1,null===(n=e.syncRotationToDock)||void 0===n||n.call(e,null===(i=r.header)||void 0===i?void 0:i.dock),FunctionHelper.after(e,"onConfigChange",((e,{name:n})=>{Qo[n]&&r.onConfigChange({name:"tools",value:o.target})})),r.onChildAdd(e)},setup:(e,n)=>((e=ObjectHelper.merge({},r.toolDefaults["*"],r.toolDefaults[n],e)).parent=r,e.ref=n,e)}));if(o.update(e),!n)return o.target}};const Zo=["b-hbox","b-vbox"],Jo={false:"nowrap",true:"wrap",reverse:"wrap-reverse"};class Box extends Layout{static get $name(){return"Box"}static get type(){return"box"}static get alias(){return"hbox"}static get configurable(){return{itemCls:"b-box-item",align:null,contentAlign:null,direction:null,horizontal:!0,justify:null,reverse:null,wrap:null}}get vertical(){return!1===this.horizontal}set vertical(e){return this.horizontal=!e}updateAlign(){this.syncConfigStyle("align","alignItems")}updateContentAlign(){this.syncConfigStyle("contentAlign","alignContent")}updateDirection(){this.syncConfigStyle("direction","flexDirection")}updateHorizontal(){var e;const n=this,r=null===(e=n.contentElement)||void 0===e?void 0:e.classList,o=Number(n.vertical);r?(r.remove(Zo[1-o]),r.add(Zo[o])):n.syncConfigLater("horizontal"),n.syncDirection()}updateJustify(){this.syncConfigStyle("justify","justifyContent")}updateReverse(){this.syncDirection()}updateWrap(){this.syncConfigStyle("wrap","flexWrap",Jo)}syncDirection(){const e=this,{reverse:n}=e;e.direction=n?`${e.vertical?"column":"row"}${n?"-reverse":""}`:null}}Box.initClass(),Box._$name="Box";class VBox extends Box{static get $name(){return"VBox"}static get type(){return"vbox"}static get configurable(){return{horizontal:!1}}}VBox.initClass(),VBox._$name="VBox";var Badge=e=>class Badge extends(e||Base){static get $name(){return"Badge"}static get configurable(){return{badge:null}}compose(){const{badge:e}=this;return{dataset:{badge:e},class:{"b-badge":null!=e&&""!==e}}}};const ei=/(?:^|\s)b-icon-/,ti=/(?:^|\s)b-fa-/,ni=Symbol("defaultToggleable"),ri=["items","type","widgets","html","listeners"];class Button extends(Widget.mixin(Badge,Rotatable)){static get $name(){return"Button"}static get type(){return"button"}static get configurable(){return{icon:null,menuIconCls:null,menuIcon:"b-icon-picker",pressedIcon:null,iconAlign:"start",text:{value:null,$config:null,default:""},color:null,toggleable:ni,pressed:!1,toggleGroup:null,ripple:{radius:75},localizableProperties:["text"],menu:{$config:["lazy","nullify"],value:null},menuDefaults:{type:"menu",autoShow:!1,autoClose:!0,floating:!0,scrollAction:"realign",align:"t0-b0"},href:null,target:null,defaultBindProperty:null}}compose(){const{color:e,href:n,icon:r,iconAlign:o,pressed:i,pressedIcon:a,target:l,text:c,toggleable:d,toggleGroup:u,menuIcon:p}=this,b=this.hasConfig("menu"),g=i&&a?a:r;return{tag:n?"a":"button",href:n,target:l,class:{[`b-icon-align-${o}`]:r,[e]:Boolean(e),"b-pressed":i&&d,"b-text":Boolean(c),"b-has-menu":b},dataset:{group:u},listeners:{click:"onInternalClick"},children:{iconElement:(r||a)&&{tag:"i",class:_objectSpread2(_objectSpread2({},DomClassList.normalize(g,"object")),{},{"b-icon":ei.test(g),"b-fa":ti.test(g)})},label:c&&{tag:"label",text:c},menuIconElement:b&&p&&{tag:"i",class:{"b-icon":ei.test(p),"b-fa":ti.test(p),"b-button-menu-icon":1,[p]:1}}}}}onHide(){var e;null===(e=this._menu)||void 0===e||e.hide()}get childItems(){return this._menu&&[this.menu]}onFocusOut(e){var n;super.onFocusOut(e),null===(n=this.menu)||void 0===n||n.hide()}get focusElement(){return this.element}changeText(e){return e??""}changeToggleable(e){return e===ni?this.toggleGroup||this.config.menu:e}changeMenu(e,n){const r=this,{element:o}=r;return e?(e.isWidget?(e.forElement=o,e.owner=r):("object"!=typeof e||ri.some((n=>n in e))||(e={lazyItems:e}),e=Widget.reconfigure(n,e?Objects.merge({owner:r,constrainTo:r.rootElement,forElement:o},r.menuDefaults,e):null,r)),e.on("hide",(()=>{var e;return null===(e=r.toggle)||void 0===e?void 0:e.call(r,!1)}))):null==n||n.destroy(),e}updateMenu(e){this.toggleable=Boolean(e)}updatePressed(e){const n=this;!n.isConfiguring&&e&&n.toggleGroup&&DomHelper.forEachSelector(n.rootElement,`button[data-group=${n.toggleGroup}]`,(e=>{e!==n.element&&Widget.getById(e.id).toggle(!1)}))}updateMenuIconCls(e){VersionHelper.deprecate("Core","5.0.0","Deprecated in favor of `menuIcon`"),this.menuIcon=e}onInternalClick(e){const n=this,r={event:e};if(n.toggleable){if(n.toggleGroup&&n.pressed)return;if(n.toggle(!n.pressed),n.isDestroyed)return}n.trigger("click",r),n.isDestroyed||n.trigger("action",r),n.href||(e.preventDefault(),e.stopPropagation())}toggle(e=null){const n=this,{menu:r}=n;if(n.toggleable&&(null===e&&(e=!n.pressed),n.pressed!==e)){var o,i;if(n.toggling=!0,n.pressed=e,r)r.initialConfig.minWidth||(r.minWidth=n.width),r.align.constrainTo=window,r.align.constrainPadding=10,r.align.minHeight=null!==(o=r._minHeight)&&void 0!==o?o:100,r.align.minWidth=null!==(i=r._minWidth)&&void 0!==i?i:100,r[e?"show":"hide"]();n.trigger("toggle",{pressed:e}),n.toggling=!1}}}Button.initClass(),Button._$name="Button";const oi={refs:"element"},isToolbar=e=>e.isToolbar,ii=[{box:"hbox",clientSizeProp:"clientWidth",edgeProp:"right",flexDir:"row",horizontal:!0,max:"maxX",overflow:"overflowX",pos:"x",scrollSize:"scrollWidth",sizeProp:"width"},{box:"vbox",clientSizeProp:"clientHeight",edgeProp:"bottom",flexDir:"column",horizontal:!1,max:"maxY",overflow:"overflowY",pos:"y",scrollSize:"scrollHeight",sizeProp:"height"}],si={delay:0,startRate:40,endRate:200,accelerateDuration:500};class Toolbar extends(Container.mixin(Toolable)){static get $name(){return"Toolbar"}static get type(){return"toolbar"}static get delayable(){return{syncOverflowVisibility:{type:"raf",cancelOutstanding:!0}}}static get configurable(){return{defaultType:"button",dock:"top",layout:{type:"box"},overflow:{$config:["lazy","nullify"],value:{type:"menu"}},toolDefaults:{overflowMenuButton:{type:"button",hidden:!0,icon:"b-icon-menu",menuIcon:null,defaultCls:{"b-overflow-button":1}},overflowScrollEnd:{handler:"up.onEndScrollClick",hidden:!0,defaultCls:{"b-icon-angle-right":1,"b-overflow-button":1,"b-icon":1}},overflowScrollStart:{align:"start",handler:"up.onStartScrollClick",hidden:!0,defaultCls:{"b-icon-angle-left":1,"b-overflow-button":1,"b-icon":1}}},widgetCls:null}}compose(){const e=this,{axisProps:n,dock:r}=e,o=e.getEndTools(oi),i=e.getStartTools(oi);return{class:{[`b-dock-${r}`]:1,[`b-${r}-toolbar`]:1,[`b-${n.box}`]:1},children:_objectSpread2(_objectSpread2({},i),{},{toolbarContent:{class:{"b-box-center":1,"b-toolbar-content":1}}},o)}}get axisProps(){return ii[this.layout.horizontal?0:1]}get contentElement(){return this.toolbarContent}get overflowMenuButton(){var e;return null===(e=this.tools)||void 0===e?void 0:e.overflowMenuButton}get overflowType(){const{overflow:e}=this;return"string"==typeof e?e:null==e?void 0:e.type}onChildAdd(e){var n;super.onChildAdd(e),this.processAddedLeafItem(e),null===(n=e.syncRotationToDock)||void 0===n||n.call(e,this.dock)}processAddedLeafItem(e){FunctionHelper.after(e,"onConfigChange",this.onLeafItemConfigChange,e),e.isContainer&&e.eachWidget((e=>this.processAddedLeafItem(e)))}onPaint({firstPaint:e}){var n;null===(n=super.onPaint)||void 0===n||n.call(this,...arguments),e&&this.getConfig("overflow")}updateDock(e){const n=this,{layout:r}=n,{vertical:o}=r;if(r.vertical=canonicalDock(e)[1],!n.initialItems){o!==r.vertical&&n.updateOverflow(n.overflow);for(const r of n.childItems){var i;null===(i=r.syncRotationToDock)||void 0===i||i.call(r,e)}}}updateOverflow(e,n){var r;const o=this,{axisProps:i,contentElement:a,overflowType:l}=o,{flexDir:c}=i,d=null===(r=o.overflowMenuButton)||void 0===r?void 0:r._menu,u={};var p;if(d&&(e?null==d||d.removeAll():d.eachWidget((e=>{e._toolbarOverflowOriginal._toolbarOverflowClone=null}))),"menu"===n?u.overflowMenuButton=null:"scroll"===n&&(u.overflowScrollStart=u.overflowScrollEnd=null),"menu"===l)null===(p=o.scrollable)||void 0===p||p.destroy(),a.style.overflow=a.style.overflowX=a.style.overflowY="",u.overflowMenuButton={cls:{[`b-${c}-menu`]:1}};else if("scroll"===l){const n="object"==typeof e&&(null==e?void 0:e.repeat)||si;o.scrollable={[i.overflow]:"hidden-scroll",element:a,listeners:{scroll:"onContentScroll",thisObj:o}},u.overflowScrollStart={repeat:n,invertRotate:!0,cls:{[`b-${c}-start-scroller`]:1}},u.overflowScrollEnd={repeat:n,invertRotate:!0,cls:{[`b-${c}-end-scroller`]:1}}}o.tools=u,l?(a.classList.add("b-overflow"),o.monitorResize=!0,o.syncOverflowVisibility()):(a.classList.remove("b-overflow"),o.monitorResize=!1)}onContentScroll(){this.syncScrollerState()}onStartScrollClick(){this.scrollable[this.axisProps.pos]-=2}onEndScrollClick(){this.scrollable[this.axisProps.pos]+=2}onInternalResize(){super.onInternalResize(...arguments),this.isPainted&&this.syncOverflowVisibility()}syncOverflowVisibility(){const e=this,{overflowType:n,contentElement:r,isVisible:o}=e,{clientSizeProp:i,edgeProp:a,sizeProp:l}=e.axisProps,{overflowMenuButton:c,overflowScrollStart:d,overflowScrollEnd:u}=e.tools,p="menu"===n;if(!o||!n)return;e.inSyncOverflowVisibility=!0,null==c||c.hide();let b,g,m,f,v=0;if(e.eachWidget(((e,n)=>{e.floating?n.down=!1:(n.down=!(m=e.overflowable),m&&e.innerItem&&(e._toolbarOverflow&&(e.hidden=e._toolbarOverflow=!1),e.isVisible&&((f||(f=[])).push(e),++v)))})),f&&(g=f[--v].rectangle(r),b=Math.ceil(r[i]+(!d||d.hidden?0:d.rectangle("outer")[l])+(!u||u.hidden?0:u.rectangle("outer")[l]))),f&&Math.floor(g[a])>b)if(p){for(c.show(),b=r[i];v-- >0&&(g=f[v].rectangle(r),!(Math.floor(g[a])<=b)););e.syncOverflowMenuButton(f.slice(v+1))}else u.show(),d.show(),e.syncScrollerState();else p||(null==u||u.hide(),null==d||d.hide());e.inSyncOverflowVisibility=!1}syncOverflowMenuButton(e){var n;const r=this,{axisProps:o,overflowMenuButton:i}=r,a={cls:"b-toolbar-overflow-menu",minWidth:280,items:[],align:{align:o.horizontal?"t100-b100":"r100-l100",axisLock:"flexible"}};for(let n,r=0,{length:o}=e;r<o;r++)n=e[r],n._toolbarOverflowWidth=n.width,n._toolbarOverflow=!0,n.hidden=!0;if(r.addToMenu(a,e.filter((e=>r.overflowItemFilter(e)))),null!==(n=i._menu)&&void 0!==n&&n.isMenu){const e=i.menu,{toAdd:n,toRemove:r}=ArrayHelper.delta(a.items,e.items,1);if(e.remove(r),e.items.length)for(let r=n.length-1;r>=0;r--)e.insert(n[r],0);else e.add(n)}else i.menu=a}syncScrollerState(){const{axisProps:e,scrollable:n}=this,{overflowScrollStart:r,overflowScrollEnd:o}=this.tools,i=n[e.pos],a=n[e.max];r.disabled=!i,o.disabled=Math.ceil(i)>=a}overflowItemFilter(e){const{filter:n}=this.overflow;return Boolean(n?n.call(this,e):DomHelper.getChildElementCount(e.element))}addToMenu(e,n){const{horizontal:r}=this;for(let o=0,{length:i}=n;o<i;o++){const i=n[o];let a=i._toolbarOverflowClone,l=i.constructor;if(!a){const e=Objects.clone(i.initialConfig);delete e.id,e.hidden=!1,e.width="",r&&(e.flex=""),e.minWidth=i._toolbarOverflowWidth,e.type=i.type,e._toolbarOverflowOriginal=i,e.disabled=i.disabled,"value"in i&&(e.value=i.value),"button"===e.type&&(e.text||(e.text=i.tooltipText)),i._toolbarOverflowClone=a=l.create(e),a.element.style.margin="",i.isField&&a.on({change:this.onFieldCloneChange})}e.items.push(a)}}onFieldCloneChange({source:e,value:n}){e._toolbarOverflowOriginal.value=n}onLeafItemConfigChange(e,{name:n,value:r}){const o=this,i=o.up(isToolbar),{_toolbarOverflowClone:a}=o;null!=i&&i.inSyncOverflowVisibility||"hidden"===n&&r===o._toolbarOverflow||(a&&(a[n]=r),null!=i&&i.isPainted&&"overflowMenuButton"!==o.ref&&(o.isTextField&&"value"===n&&(o.containsFocus||null!=a&&a.containsFocus)||i.syncOverflowVisibility()))}createWidget(e){"->"===e?e={type:"widget",cls:"b-toolbar-fill"}:"|"===e?e={type:"widget",cls:"b-toolbar-separator"}:"string"==typeof e&&(e={type:"widget",cls:"b-toolbar-text",html:e});const n=super.createWidget(e);return this.widgetCls&&n.element.classList.add(this.widgetCls),n}}Toolbar.initClass(),Toolbar._$name="Toolbar";const acceptNode=e=>!e.classList.contains("b-focus-trap")&&DomHelper.isFocusable(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,ai=[],li={},ci=[ai,ai],finishBodyWrap=(e,n,r)=>({children:e.children,class:_objectSpread2(_objectSpread2({},n),{},{[`b-${e.vertical?"v":"h"}box`]:1,"b-box-center":1,"b-panel-bar-wrap":!r})}),wrapBody=(e,n=!1)=>({vertical:n,children:e?[e]:[]}),di={dock:1,hidden:1,weight:1},hi={top:[!0,!0],bottom:[!0,!1],left:[!1,!0],right:[!1,!1]},ui={header:1,"pre-header":1};acceptNode.acceptNode=acceptNode;class Panel extends(Container.mixin(Toolable)){static get $name(){return"Panel"}static get type(){return"panel"}static get configurable(){return{localizableProperties:["title"],collapsed:{value:null,$config:null,default:!1},collapsible:{value:null,$config:"nullify"},bodyCls:{$config:{merge:"classList"},value:null},trapFocus:null,title:null,header:null,stripDefaults:{"*":{type:"toolbar",dock:"top"},bbar:{dock:"bottom",weight:-1e3},tbar:{weight:-1e3}},strips:{value:null,$config:"nullify"},toolDefaults:{close:{weight:-1e3},collapse:{weight:-990}},footer:null,revealed:null,tbar:null,bbar:null}}compose(){const e=this,{collapsible:n,focusable:r,hasItems:o,revealed:i}=e,a=e.composeHeader(),l=(null==a?void 0:a.class["b-dock-left"])||(null==a?void 0:a.class["b-dock-right"]);let c=e.composeBody(),d="bodyWrapElement";return n&&([d,c]=n.wrapCollapser(d,c)),{tabIndex:o&&!1!==r||r?0:null,class:{[`b-panel-collapsible-${null==n?void 0:n.type}`]:n,[`b-panel-collapse-${null==n?void 0:n.collapseDir}`]:n,[`b-${l?"h":"v"}box`]:1,"b-panel-collapsible":n,"b-panel-has-header":a,"b-panel-overlay-revealed":i},children:{topFocusTrap:{tabIndex:0,class:{"b-focus-trap":1}},headerElement:a,[d]:c,bottomFocusTrap:{tabIndex:0,class:{"b-focus-trap":1}}}}}composeBody(){const e=this,{bodyCls:n,bodyConfig:r,footer:o,uiClassList:i}=e,a=ObjectHelper.values(e.strips,((e,n)=>!hi[null==n?void 0:n.dock])).sort(e.byWeightSortFn);let l,c,d,u,p,b,g;for(o&&(d=o.dock||"bottom",a.unshift({dock:d,element:{tag:"footer",reference:"footerElement",html:"string"==typeof o?o:o.html,class:_objectSpread2(_objectSpread2({},i),{},{[`b-dock-${d}`]:1,[`${o.cls||""}`]:1})}})),n&&(r[p="className"]||(p="class"),r[p]=new DomClassList(r[p]).assign(n)),u=a.length;u-- >0;)l=a[u],[b,c]=hi[l.dock],g?g.vertical!==b&&(g=wrapBody(finishBodyWrap(g,i),b)):g=wrapBody(r,b),g.children[c?"unshift":"push"](l.element);const m=finishBodyWrap(g||wrapBody(r),i,!0);return m.class["b-panel-body-wrap"]=1,m.class[`b-${e.$$name.toLowerCase()}-body-wrap`]=1,m}get hasHeader(){const{header:e,title:n,tools:r,parent:o}=this,i=Object.values(r||{}).some((e=>!e.hidden));return!1!==e&&(e||!(null!=o&&o.suppressChildHeaders)&&(n||i))}get rootUiClass(){return Panel}composeHeader(e){var n;const r=this;if(!e&&!r.hasHeader)return;const o=r.header||{},i=o.dock||"top",[a,l]=r.splitHeaderItems({dock:i,as:"element"}),c=r.$meta.hierarchy,d=r.composeTitle(o),u=new DomClassList(_objectSpread2({[`b-dock-${i}`]:1},r.uiClassList),o.cls);let p,b;for(p=c.indexOf(Panel);p<c.length;++p)b=c[p].$$name,"Grid"!==b&&(u[`b-${b.toLowerCase()}-header`]=1);const g={tag:"header",class:u,children:[...a,d,...l]};return(null===(n=r.collapsible)||void 0===n?void 0:n.composeHeader(g))||g}composeTitle(e){var n;const r="string"==typeof e?e:this.title||e.title,o={reference:"titleElement",html:null!=r?r:"",class:_objectSpread2({[`b-align-${e.titleAlign||"start"}`]:1,"b-header-title":1},this.uiClassList)};return ObjectHelper.isObject(r)&&(delete o.html,ObjectHelper.merge(o,r)),(null===(n=this.collapsible)||void 0===n?void 0:n.composeTitle(o))||o}afterRecompose(){var e;super.afterRecompose();const n=this,{headerElement:r}=n;null===(e=n._headerClickDetacher)||void 0===e||e.call(n),n._headerClickDetacher=r&&EventHelper.on({element:r,click:e=>{var r;return null===(r=n.trigger)||void 0===r?void 0:r.call(n,"headerClick",{event:e})}})}onHeaderClick(e){var n;null===(n=this.collapsible)||void 0===n||n.onHeaderClick(e)}onPaint(){var e;super.onPaint(),null===(e=this.collapsible)||void 0===e||e.onPanelPaint(this)}splitHeaderItems({as:e,overlay:n,dock:r}=li){const o=this,i="element"===e,{collapsed:a}=o,l=o.getEndTools({overlay:n}),c=o.getStartTools({overlay:n}),d=ObjectHelper.values(o.strips,((e,r)=>!ui[null==r?void 0:r.dock]&&r.isCollapsified(a,n)));let u,p,b,g=ci;if(d.length+l.length+c.length){for(g=[p=[...c,...d.filter((e=>"pre-header"===e.dock)).sort(o.byWeightSortFn)],u=[...d.filter((e=>"header"===e.dock)).sort(o.byWeightReverseSortFn),...l]],b=0;b<p.length;++b){var m,f;r&&(null===(m=(f=p[b]).syncRotationToDock)||void 0===m||m.call(f,r)),i&&(p[b]=p[b].element)}for(b=0;b<u.length;++b){var v,y;r&&(null===(v=(y=u[b]).syncRotationToDock)||void 0===v||v.call(y,r)),i&&(u[b]=u[b].element)}}return g}set bodyConfig(e){this._bodyConfig=e}get bodyConfig(){const e=this,n=ObjectHelper.merge({reference:"bodyElement",className:_objectSpread2(_objectSpread2({},e.getStaticWidgetClasses(Panel,"-content")),{},{"b-box-center":1,"b-text-content":e.textContent&&e.hasNoChildren})},e._bodyConfig);return!e.initializingElement&&e._element||(n.html=e.content||e._html),n}changeBodyCls(e){return DomClassList.from(e)}changeTbar(e){return this.getConfig("strips"),this.strips={tbar:e},this.strips.tbar}changeBbar(e){return this.getConfig("strips"),this.strips={bbar:e},this.strips.bbar}get childItems(){var e;const n=this,r=ObjectHelper.values(n.strips,((e,n)=>!hi[null==n?void 0:n.dock])).sort(n.byWeightSortFn),[o,i]=n.splitHeaderItems(),[a,l]=(null===(e=n.collapsible)||void 0===e?void 0:e.splitHeaderItems())||ci;return[...o,...a,...i,...l,...r.filter((e=>hi[e.dock][1])),...n._items||ai,...r.filter((e=>!hi[e.dock][1])).reverse()]}changeStrips(e,n){const r=this,o=r.$strips||(r.$strips=new DynamicObject({configName:"strips",factory:Widget,inferType:!1,owner:r,created(e){var n;const{dock:i}=e;if(!ui[i]&&!hi[i])throw new Error(`Invalid dock value "${i}"; must be: top, left, right, bottom, header, or pre-header`);FunctionHelper.after(e,"onConfigChange",((e,{name:n})=>{di[n]&&r.onConfigChange({name:"strips",value:o.target})})),e.innerItem=!1,r.onChildAdd(e),e.parent=r,null===(n=e.layout)||void 0===n||n.renderChildren(),e.hasItems&&(r.hasItems=!0)},setup:(e,n)=>((e=ObjectHelper.merge(ObjectHelper.clone(r.stripDefaults["*"]),r.stripDefaults[n],e)).parent=r,e.ref=n,e),transform:e=>(Array.isArray(e)&&(e={items:e}),e||null)}));if(o.update(e),!n)return o.target}get collapsing(){var e;return null===(e=this.collapsible)||void 0===e?void 0:e.collapsing}get collapsingExpanding(){var e;return null===(e=this.collapsible)||void 0===e?void 0:e.collapsingExpanding}get expanding(){var e;return null===(e=this.collapsible)||void 0===e?void 0:e.expanding}changeCollapsed(e){const n=this,{collapsible:r}=n;if(e=Boolean(e),!r||n.changingCollapse)return e;n.isPainted&&(null==r||r.collapse({animation:null,collapsed:e}))}changeCollapsible(e,n){return this.getConfig("tools"),e&&(!0===e?e={}:"string"==typeof e&&(e={[hi[e]?"direction":"type"]:e})),PanelCollapser.reconfigure(n,e,{owner:this,defaults:{panel:this}})}updateCollapsible(e){const n=this,r=null==e?void 0:e.toolsConfig;n.tools={collapse:(null==r?void 0:r.collapse)||null,recollapse:(null==r?void 0:r.recollapse)||null},n.isPainted&&n.collapsed&&(n._collapsed=1,n.collapsed=!0)}_collapse(e,n){var r;return!0!==n&&void 0!==n&&(!1===n?e.collapsed=!e.collapsed:"number"==typeof n?e.animation={duration:n}:null===n?e.animation=n:!0===n||("animation"in n?ObjectHelper.merge(e,n):e.animation=n)),null===(r=this.collapsible)||void 0===r?void 0:r.collapse(e)}collapse(e){return this._collapse({collapsed:!0},e)}expand(e){return this._collapse({collapsed:!1},e)}toggleCollapsed(e){return this.collapsed?this.expand(e):this.collapse(e)}get expandedHeaderDock(){var e,n,r;return null!==(e=null!==(n=this._expandedHeaderDock)&&void 0!==n?n:null===(r=this.initialConfig.header)||void 0===r?void 0:r.dock)&&void 0!==e?e:"top"}set expandedHeaderDock(e){this._expandedHeaderDock=null==e?void 0:e.toLowerCase()}updateHeader(e){this.changingCollapse||(this.expandedHeaderDock=null==e?void 0:e.dock)}updateTrapFocus(e){var n;const r=this;r.element.classList[e?"add":"remove"]("b-focus-trapped"),r.focusTrapListener=null===(n=r.focusTrapListener)||void 0===n?void 0:n.call(r),e&&(r.focusTrapListener=EventHelper.on({element:r.element,focusin:"onFocusTrapped",delegate:".b-focus-trap",thisObj:r}),r.treeWalker||(r.treeWalker=this.setupTreeWalker(r.element,NodeFilter.SHOW_ELEMENT,acceptNode,!1)))}updateMaxHeight(e){super.updateMaxHeight(e),BrowserHelper.isIE11&&(this.bodyWrapElement.style.flex=`1 1 ${e}px`)}fixIEMaxHeightBug(){const{element:e,contentElement:n,bodyWrapElement:r}=this;if("column"===DomHelper.getStyleValue(e,"flex-direction")){n.style.maxHeight="";let o=Rectangle.client(e).height;const i=e.childNodes,a=i.length;for(let e=0;e<a;e++){const a=i[e];a===n||a===r||a.classList.contains("b-resize-monitors")||(o-=a.offsetHeight)}this.contentElement.style.maxHeight=`${o}px`}}setupTreeWalker(e,n,r,o){return document.createTreeWalker(e,n,r,o)}onFocusTrapped(e){const n=this,r=n.treeWalker;e.target===n.bottomFocusTrap?(r.currentNode=n.topFocusTrap,r.nextNode()):(r.currentNode=n.bottomFocusTrap,r.previousNode()),n.requestAnimationFrame((()=>r.currentNode.focus()))}get focusElement(){return this.hasItems&&(super.focusElement||this.element)}get contentElement(){return this.element&&this.bodyElement}get widgetClassList(){const e=this,n=super.widgetClassList;var r;e.hasHeader&&n.push("b-panel-has-header",`b-header-dock-${(null===(r=e.header)||void 0===r?void 0:r.dock)||"top"}`);return e.tbar&&n.push("b-panel-has-top-toolbar"),e.bbar&&n.push("b-panel-has-bottom-toolbar"),n}}Panel.initClass(),Panel._$name="Panel";class Popup extends Panel{static get $name(){return"Popup"}static get type(){return"popup"}static get configurable(){return{autoShow:!0,autoClose:!0,showOnClick:!1,forElement:null,monitorResize:!0,floating:!0,hidden:!0,axisLock:!0,hideAnimation:BrowserHelper.isIE11?null:{opacity:{from:1,to:0,duration:".3s",delay:"0s"}},showAnimation:BrowserHelper.isIE11?null:{opacity:{from:0,to:1,duration:".4s",delay:"0s"}},stripDefaults:{bbar:{layout:{justify:"flex-end"}}},testConfig:{hideAnimation:null,showAnimation:null},closeAction:"hide",trapFocus:!0,focusOnToFront:!0,closable:null,maximizable:null,modal:null,maximized:null,tools:{close:{cls:"b-popup-close",handler:"close",weight:-1e3,hidden:!0},maximize:{cls:"b-popup-expand",handler:"toggleMaximized",weight:-999,hidden:!0}},highlightReturnedFocus:!0}}finalizeInit(){const e=this;e.anchoredTo=e.forElement,e.initialAnchor=e.anchor,e.forElement&&e.showOnClick&&(e.initialConfig.autoShow||(e.autoShow=!1),EventHelper.on({element:e.forElement,click:"onElementUserAction",thisObj:e})),super.finalizeInit(),e.autoShow&&(!0===e.autoShow?e.show():e.setTimeout((()=>e.show()),e.autoShow))}onPaint({firstPaint:e}){var n;null===(n=super.onPaint)||void 0===n||n.call(this,...arguments);const r=this;r.maximizable&&r.headerElement&&EventHelper.on({element:r.headerElement,dblclick:r.onHeaderDblClick,thisObj:r})}doDestroy(){this.syncModalMask(),super.doDestroy()}compose(){const{hasNoChildren:e,textContent:n}=this;return{class:{"b-text-popup":Boolean(n&&e)}}}close(){const e=this;if(!e._hidden&&!1!==e.trigger("beforeClose")||e._hidden&&"destroy"===e.closeAction)return e.containsFocus&&e.highlightReturnedFocus&&e.setTimeout((()=>e.element.classList.add("b-using-keyboard")),0),e[e.closeAction]()}toggleMaximized(){this.maximized=!this.maximized}updateMaximized(e){DomHelper.toggleClasses(this.element,["b-maximized"],e)}onInternalKeyDown(e){"Escape"===e.key&&(e.stopImmediatePropagation(),this.close(!0))}onDocumentMouseDown({event:e}){const n=this,{owner:r}=n,{target:o}=e;if("touchend"!==e.type&&null!=r&&r.isButton&&r._menu===n&&r.element.contains(o))return e.preventDefault(),!1;n.modal&&o===Popup.modalMask?(e.preventDefault(),n.modal.closeOnMaskTap?n.close():n.containsFocus||n.focus()):n.owns(o)||!n.autoClose||n.containsFocus||n.close()}get isTopModal(){return DomHelper.isVisible(Popup.modalMask)&&this.element.previousElementSibling===Popup.modalMask}onFocusIn(e){const n=DomHelper.getActiveElement(this);super.onFocusIn(e),DomHelper.getActiveElement(this)===n&&e.target===this.element&&this.focus()}onFocusOut(e){window.visualViewport&&window.visualViewport.height<document.documentElement.clientHeight-1||this.modal||!this.autoClose||this.close(),super.onFocusOut(e)}onShow(){const e=this;e.autoClose&&e.addDocumentMouseDownListener(),e.focusOnToFront&&e.focus(),super.onShow&&super.onShow(),e.syncModalMask()}addDocumentMouseDownListener(){this.mouseDownRemover||(this.mouseDownRemover=gn.on({globaltap:"onDocumentMouseDown",thisObj:this}))}updateModal(e){e&&(this.floating=!0)}syncModalMask(){const e=this,{modal:n}=e;if(n&&e.isVisible)"number"!=typeof e._x&&"number"!=typeof e._y&&(e.centered=!0),e.modalMask.classList.remove("b-hide-display"),e.element.classList.add("b-modal");else if(e.isPainted){e.element.classList.remove("b-modal");const n=e.floatRoot.querySelectorAll(".b-modal"),r=n.length?Popup.fromElement(n[n.length-1],"popup"):null;r?r.syncModalMask():Popup.modalMask.classList.add("b-hide-display")}}onHide(){const e=this;e.mouseDownRemover&&(e.mouseDownRemover(),e.mouseDownRemover=null),super.onHide&&super.onHide(),e.syncModalMask()}onElementUserAction(){this.show()}onHeaderDblClick(){this.maximizable&&this.toggleMaximized()}updateClosable(e){this.tools.close.hidden=!e}updateMaximizable(e){this.tools.maximize.hidden=!e}get modalMask(){const{modalMask:e}=Popup;return e.nextElementSibling!==this.element&&this.floatRoot.insertBefore(e,this.element),e}static get modalMask(){return this._modalMask||(this._modalMask=DomHelper.createElement({className:"b-modal-mask b-hide-display"}),EventHelper.on({element:this._modalMask,wheel:e=>e.preventDefault()})),this._modalMask}}Popup.initClass(),Popup._$name="Popup";const pi=/^b-icon-/,bi=/^b-fa-/;class MenuItem extends Widget{static get $name(){return"MenuItem"}static get type(){return"menuitem"}static get configurable(){return{checked:null,toggleGroup:null,menu:{value:null,$config:["lazy","nullify"]},icon:null,closeParent:null,href:null,target:null,localizableProperties:["text"],closeMenuDelay:200}}compose(){const{checked:e,href:n,hasMenu:r,target:o,text:i}=this,a=this.icon||("boolean"==typeof e?"b-fw-icon":"");return{tag:n?"a":"div",tabIndex:-1,href:n,target:o,class:{"b-has-submenu":r},dataset:{group:this.toggleGroup},children:{iconElement:a&&{tag:"i",class:_objectSpread2({"b-fa":bi.test(a),"b-icon":pi.test(a),"b-icon-checked":!0===e,"b-icon-unchecked":!1===e,"b-menuitem-icon":1},DomClassList.normalize(a,"object"))},textElement:{tag:"span",html:i,class:{"b-menu-text":1}},subMenuIcon:r&&{tag:"i",class:{"b-fw-icon":1,"b-icon-sub-menu":1}}}}}doAction(e){const n=this,r=this.parent,o={menu:r,item:n,element:n.element,bubbles:!0};if("boolean"==typeof n.checked){const e=!n.checked;n.toggleGroup&&!e||(n.checked=!n.checked)}n.trigger("beforeItem",o),n.trigger("item",o),n.closeParent&&r&&(r.rootMenu.close(),e&&!n.href&&e.preventDefault())}get focusElement(){return this.element}get contentElement(){return this.textElement}get isFocusable(){const e=this.focusElement;return e&&this.isVisible&&(e===document.body||e.offsetParent)}get hasMenu(){return this.hasConfig("menu")}get childItems(){const{menu:e}=this;return e?[e]:[]}get text(){return this.html}set text(e){this.html=e}onFocusIn(e){super.onFocusIn(e),!this.disabled&&this.menu&&this.openMenu()}onFocusOut(e){super.onFocusOut(e),this._menu&&(this.menu.closeTimer=this.menu.setTimeout((()=>this.closeMenu()),this.closeMenuDelay))}openMenu(e){const n=this.menu;!this.disabled&&n&&(n.focusOnToFront=e,n.show())}closeMenu(){this._menu instanceof Widget&&this.menu.close()}changeToggleGroup(e){return e&&"boolean"!=typeof this.checked&&(this.checked=!1),e}changeChecked(e,n){if(this.isConfiguring||"boolean"==typeof n)return Boolean(e)}updateChecked(e){const n=this;n.isConfiguring||(n.toggleGroup&&n.uncheckToggleGroupMembers(),n.trigger("toggle",{menu:n.owner,item:n,element:n.element,bubbles:!0,checked:e}))}getToggleGroupMembers(){const e=this,{checked:n,toggleGroup:r,element:o}=e,i=[];return n&&r&&DomHelper.forEachSelector(e.rootElement,`[data-group=${r}]`,(e=>{if(e!==o){const n=Widget.fromElement(e);n&&i.push(n)}})),i}uncheckToggleGroupMembers(){this.checked&&this.toggleGroup&&this.getToggleGroupMembers().forEach((e=>e.checked=!1))}get closeParent(){return("boolean"==typeof this.checked?this._closeParent:!1!==this._closeParent)&&!this.hasMenu}changeMenu(e,n){const r=this,{constrainTo:o,scrollAction:i}=r.owner;return!e||"object"!=typeof e||"items"in e||"widgets"in e||"html"in e||(e={lazyItems:e}),Menu.reconfigure(n,e,{owner:r,defaults:{type:"menu",align:"l0-r0",anchor:!0,autoClose:!0,autoShow:!1,cls:"b-sub-menu",forElement:r.element,owner:r,constrainTo:o,scrollAction:i}})}}MenuItem.initClass(),MenuItem._$name="MenuItem";const gi={ArrowUp:1,ArrowDown:1,ArrowRight:1,ArrowLeft:1,Enter:1,Escape:1};class Menu extends Popup{static get $name(){return"Menu"}static get type(){return"menu"}static get configurable(){return{focusable:!0,align:"t-b",scrollAction:"hide",focusOnHover:null,scrollable:!1,defaultType:"menuitem",tools:{close:!1}}}construct(e){Array.isArray(e)&&(e={lazyItems:e}),super.construct(e),EventHelper.on({element:this.element,click:"onMouseClick",mouseover:"onMouseOver",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",thisObj:this})}afterShow(e){const n=this;n.items.some((e=>Boolean(e._menu)))&&n.element.classList.add("b-menu-with-submenu");n.items.some((e=>e.icon))&&n.element.classList.add("b-menu-with-icon"),super.afterShow(e)}createWidget(e){return"string"==typeof e&&(e={text:e}),super.createWidget(e)}get focusElement(){var e;const n=this,r=null===(e=n.parentMenu)||void 0===e?void 0:e.element.contains(DomHelper.getActiveElement(n.parentMenu)),o=n.items[0];return!r&&o instanceof MenuItem?n.element:super.focusElement}onDocumentMouseDown({event:e}){if(!this.parentMenu||!this.parentMenu.owns(e.target))return super.onDocumentMouseDown(...arguments)}hide(e){const n=this;var r,o;(super.hide(e),n.isVisible)||(null===(r=n.currentSubMenu)||void 0===r||null===(o=r.hide)||void 0===o||o.call(r,e),n.parentMenu&&(n.parentMenu.currentSubMenu=null))}show(){super.show(...arguments);const{parentMenu:e}=this;this.isVisible&&e&&(e.currentSubMenu=this)}onMouseClick(e){const n=e.target.closest(".b-menuitem");n&&(this.triggerElement(n,e),e.stopImmediatePropagation())}onMouseOver(e){if(!1!==this.focusOnHover){const n=DomHelper.up(e.relatedTarget,".b-widget"),r=DomHelper.up(e.target,".b-widget"),o=Widget.fromElement(r);!DomHelper.isTouchEvent&&r&&r!==n&&o.parent===this&&this.setTimeout({fn:"handleMouseOver",delay:30,args:[o],cancelOutstanding:!0})}}handleMouseOver(e){e.focus()}onMouseEnter(){this.clearTimeout(this.closeTimer)}onMouseLeave(e){const n=this,{relatedTarget:r}=e,o=r&&n.owns(r);let i=r&&r instanceof HTMLElement&&Widget.fromElement(r),a=!o;if(i){for(;i.ownerCmp;)i=i.ownerCmp;a&=!DomHelper.getAncestor(i.element,[e.target])}!o&&a&&(n.currentSubMenu&&!n.currentSubMenu.closeTimer&&n.currentSubMenu.hide(),n.element.contains(DomHelper.getActiveElement(n))&&DomHelper.getActiveElement(n).matches(".b-menuitem")&&n.focusElement.focus())}onInternalKeyDown(e){const n=Widget.fromElement(e),r=n&&n!==this&&!(n instanceof MenuItem);if("Escape"===e.key)return void(r?this:this.rootMenu).close();if(super.onInternalKeyDown(e),r)return;gi[e.key]&&e.preventDefault();const o=this.element,i=DomHelper.getActiveElement(o);this.navigateFrom(i!==o&&o.contains(i)?i:null,e.key,e)}navigateFrom(e,n,r){const o=this,i=o.treeWalker,a=e&&o.getItem(e);let l;switch(n){case"ArrowUp":i.currentNode=e||(e=o.bottomFocusTrap),i.previousNode(),l=i.currentNode;break;case"ArrowDown":i.currentNode=e||(e=o.topFocusTrap),i.nextNode(),l=i.currentNode;break;case" ":e&&!e.classList.contains("b-disabled")&&(a&&a.menu?o.openSubMenu(e,a):o.triggerElement(e,r));break;case"ArrowRight":if(e&&a&&a.menu&&!e.classList.contains("b-disabled")){const n=o.openSubMenu(e,a);n&&n.focus()}else i.currentNode=e||(e=o.topFocusTrap),i.nextNode(),l=i.currentNode;break;case"ArrowLeft":o.isSubMenu?o.hide():e||(i.currentNode=e||(e=o.topFocusTrap),i.nextNode(),l=i.currentNode);break;case"Enter":e&&!e.classList.contains("b-disabled")&&o.triggerElement(e,r)}l&&(l===o.element?o.navigateFrom(o.bottomFocusTrap,"ArrowUp",r):l===e?o.navigateFrom(o.topFocusTrap,"ArrowDown",r):l.focus())}getItem(e){if(null!=e)return"number"==typeof e?this.items[e]:e.nodeType===Element.ELEMENT_NODE?Widget.fromElement(e,"menuitem",this.contentElement):this.items.find((n=>n.id==e))}triggerElement(e,n){const r=this.getItem(e);r&&!r.disabled&&r.doAction(n)}get isSubMenu(){var e;return this===(null===(e=this.owner)||void 0===e?void 0:e.menu)}openSubMenu(e,n){const r=this,o=n.menu;if(o){if(!o.isVisible){const i={item:n,element:e};if(!1===r.trigger("beforeSubMenu",i))return;if(n.onBeforeSubMenu&&!1===n.onBeforeSubMenu(i))return;o.show()}return r.currentSubMenu=o}}set selectedElement(e){const n=this,r=n._selectedElement;if(r){const e=n.getItem(r),o=e&&e.menu;o&&o.hide(),r.classList.remove("b-active")}if(n._selectedElement=e,e){const r=DomHelper.isFocusable(e);e.classList.add("b-active"),n.scrollable.scrollIntoView(e,{animate:!r,focus:r})}}get selectedElement(){return this._selectedElement}selectFirst(){const e=this.treeWalker;e.currentNode=this.topFocusTrap,e.nextNode(),this.requestAnimationFrame((()=>e.currentNode.focus()))}get parentMenu(){var e;const n=this.owner;return n&&(n.isMenu?n:null===(e=n.up)||void 0===e?void 0:e.call(n,"menu"))}get rootMenu(){let e=this;for(;e.parentMenu&&e.parentMenu instanceof this.constructor;)e=e.parentMenu;return e}}Menu.initClass(),Menu._$name="Menu";class ContextMenuBase extends InstancePlugin{static get $name(){return"ContextMenuBase"}static get configurable(){return{type:null,menu:{$config:["lazy","nullify"],value:{type:"menu",autoShow:!1,closeAction:"hide",scrollAction:"hide",constrainTo:window}},menuConfig:null,items:{},triggerEvent:!1}}static get pluginConfig(){return{assign:["showContextMenu"],chain:["onElementContextMenu","onElementClick","onElementDblClick","onElementKeyDown"]}}construct(...e){var n;const r=e[1===e.length?0:1];if(r&&"menuConfig"in r&&(VersionHelper.deprecate("Grid","5.0.0","`menuConfig` attribute deprecated, in favour of `menu`"),r.menu=r.menuConfig),super.construct(...e),null===(n=this.type)||void 0===n||!n.length)throw new Error("Config 'type' is required to be specified for context menu")}onElementContextMenu(e){this.onElementEvent(e)}onElementClick(e){this.onElementEvent(e)}onElementDblClick(e){this.onElementEvent(e)}onElementEvent(e){this.triggerEvent===e.type&&this.internalShowContextMenu(e)}onElementKeyDown(e){}internalShowContextMenu(e){const n=this;if(n.disabled)return;const r=n.getDataFromEvent(e);n.shouldShowMenu(r)&&n.showContextMenu(r)}getDataFromEvent(e){return{event:e,targetElement:this.getTargetElementFromEvent(e)}}getTargetElementFromEvent(e){return e.target}showContextMenu(e,n){var r;const o=this,i=DomHelper.isDOMEvent(e)?o.getDataFromEvent(e):e;if(null===(r=o._menu)||void 0===r||r.hide(),o.disabled)return;o.menuContext=i;const{type:a,client:l,processItems:c}=o,{event:d}=i,u=null!=d?d:Rectangle.from(i.targetElement).center;var p;(Objects.assign(i,{point:d?[d.clientX+1,d.clientY+1]:[u.x,u.y],menu:o,items:{},selection:o.client.selectedRecords}),o.callChainablePopulateMenuMethod(i),Objects.merge(i.items,o.baseItems),c&&!1===c(i)||!o.hasActiveMenuItems(i))||(o.populateItemsWithData(i),o.preventDefaultEvent(i),!1!==o.beforeContextMenuShow(i)&&!1!==l.trigger(`${a}MenuBeforeShow`,i)&&!1!==l.trigger(`${a}ContextMenuBeforeShow`,i)&&(o.menu.items=i.items,n?o.menu.showBy(n):o.menu.showByPoint(i.point),null===(p=o.touchMoveDetacher)||void 0===p||p.call(o),o.touchMoveDetacher=EventHelper.on({element:l.element,touchmove:()=>o.menu.hide(),once:!0})))}get baseItems(){if(!this._baseItems){const e=this,{namedItems:n}=e,r=e._baseItems=Objects.assign({},e.items);for(const e in r){const o=r[e];o&&(n&&e in n?r[e]="object"==typeof o?Objects.merge(Objects.clone(n[e]),o):n[e]:!0===o&&delete r[e])}}return this._baseItems}hideContextMenu(e){var n;null===(n=this.menu)||void 0===n||n.hide(e)}callChainablePopulateMenuMethod(e){var n,r;null===(n=(r=this.client)[`populate${StringHelper.capitalize(this.type)}Menu`])||void 0===n||n.call(r,e)}createContextMenuEventForElement(e){const n=Rectangle.from(e).center,r=new MouseEvent(this.triggerEvent,{clientX:n.x,clientY:n.y});return Object.defineProperty(r,"target",{get:()=>e}),r}hasActiveMenuItems(e){return Object.values(e.items).some((e=>e))}shouldShowMenu(){return!0}beforeContextMenuShow(e){}populateItemsWithData(e){}preventDefaultEvent(e){var n;null===(n=e.event)||void 0===n||n.preventDefault()}changeTriggerEvent(e){return e||this.client.contextMenuTriggerEvent}changeMenu(e,n){const r=this,{client:o,type:i}=r;if(e)return Menu.reconfigure(n,e?Menu.mergeConfigs({owner:o,rootElement:o.rootElement,onItem(e){o.trigger(`${i}MenuItem`,e),o.trigger("contextMenuItem",e),o.trigger(`${i}ContextMenuItem`,e)},onToggle(e){o.trigger(`${i}MenuToggleItem`,e),o.trigger("contextMenuToggleItem",e)},onDestroy(){r.menu=null},onBeforeItem(e){Object.assign(e,r.menuContext)},onShow({source:e}){r.menuContext.menu=e,o.trigger(`${i}MenuShow`,r.menuContext),o.trigger(`${i}ContextMenuShow`,r.menuContext)}},e):null,r);null!=n&&n.isWidget&&n.destroy()}}ContextMenuBase._$name="ContextMenuBase";class CSSHelper{static insertRule(e){const n=this.getStyleSheet(document.head),r=n.cssRules.length;if(n.insertRule(e,0),n.cssRules.length>r)return n.cssRules[0]}static findRule(e){let n,r="function"==typeof e;return Array.prototype.find.call(document.head.querySelectorAll("link[rel=stylesheet],style[type*=css]"),(o=>{if(n=Array.prototype.find.call(o.sheet.rules||o.sheet.cssRules,(n=>r?e(n):n.selectorText===e)),n)return!0})),n}static getStyleSheet(e=document.head){return e.$bryntumStylesheet||(e.$bryntumStylesheet=DomHelper.createElement({tag:"style",id:"bryntum-private-styles",type:"text/css",parent:e}).sheet),e.$bryntumStylesheet}}CSSHelper._$name="CSSHelper";var DragHelperContainer=e=>class DragHelperContainer extends(e||Base){static get $name(){return"DragHelperContainer"}initContainerDrag(){const e=this;if(e.mode||(e.mode="container"),"container"===e.mode&&!e.containers)throw new Error("Container drag mode must specify containers")}grabContainerDrag(e){const n=this;if(!n.ignoreSelector||!DomHelper.up(e.target,n.ignoreSelector)){const r=DomHelper.getAncestor(e.target,n.containers,n.outerElement);if(r){const o=r.getBoundingClientRect();n.context={element:r,valid:!0,action:"container",offsetX:e.pageX-o.left,offsetY:e.pageY-o.top,originalPosition:{parent:r.parentElement,prev:r.previousElementSibling,next:r.nextElementSibling}}}return!0}return!1}startContainerDrag(e){var n;const{context:r,floatRootOwner:o}=this,{element:i}=r,a=i.cloneNode(!0),l=i.getBoundingClientRect(),c=null==o?void 0:o.element.closest(".b-outer");a.classList.add(this.dragProxyCls),a.classList.add(this.draggingCls),((null==o?void 0:o.floatRoot)||DomHelper.getRootElement(i)).appendChild(a),r.dragProxy=a,a.style.width=l.width+"px",a.style.height=l.height+"px",DomHelper.setTranslateXY(r.dragProxy,l.left,l.top),r.dragging=i,i.classList.add(this.dropPlaceholderCls),null!=c&&null!==(n=c.parentElement)&&void 0!==n&&n.matches(".b-float-root")&&(a.style.zIndex=o.floatRootMaxZIndex+1)}updateContainerDrag(e){const n=this,r=n.context;if(!r.started||!r.targetElement)return;const o=DomHelper.getAncestor(r.targetElement,n.containers,"b-gridbase"),i=r.dragging&&r.dragging.contains(DomHelper.getActiveElement(r.dragging));o&&DomHelper.isDescendant(r.element,o)||(i&&gn.suspendFocusEvents(),o&&r.valid?n.moveNextTo(o,e):n.revertPosition(),i&&gn.resumeFocusEvents(),e.preventDefault())}finishContainerDrag(e){const n=this,r=n.context,{dragging:o,dragProxy:i,valid:a,draggedTo:l,insertBefore:c,originalPosition:d}=r;o&&(r.valid=a&&l&&(o!==c||d.parent!==l),r.finalize=(e=r.valid)=>{!e&&this.context&&n.revertPosition(),o.classList.remove(n.dropPlaceholderCls),i.remove(),n.reset()},r.async=!1,n.trigger("drop",{context:r,event:e}),r.async?r.awaitingFinalization=!0:r.finalize())}abortContainerDrag(e=!1,n=null,r=!1){const o=this,i=o.context;i.dragging&&(i.dragging.classList.remove(o.dropPlaceholderCls),i.dragProxy.remove(),o.revertPosition(),o.context={}),r||o.trigger(e?"drop":"abort",{context:i,event:n})}updateContainerProxy(e){const n=this,r=n.context,o=r.dragProxy;let i,a=e.pageX-r.offsetX,l=e.pageY-r.offsetY;if("number"==typeof n.minX&&(a=Math.max(n.minX,a)),"number"==typeof n.maxX&&(a=Math.min(n.maxX-o.offsetWidth,a)),"number"==typeof n.minY&&(l=Math.max(n.minY,l)),"number"==typeof n.maxY&&(l=Math.min(n.maxY-o.offsetHeight,l)),n.lockX?DomHelper.setTranslateY(o,l):n.lockY?DomHelper.setTranslateX(o,a):DomHelper.setTranslateXY(o,a,l),"touchmove"===e.type){const n=e.changedTouches[0];i=DomHelper.elementFromPoint(n.clientX,n.clientY)}else i=e.target;r.targetElement=i}moveNextTo(e,n){const r=this.context,o=r.dragging,i=e.parentElement;if(e!==o){const a=e.getBoundingClientRect().left+e.offsetWidth/2;n.pageX<a?(i.insertBefore(o,e),r.insertBefore=e):e.nextElementSibling?e.nextElementSibling!==o?(r.insertBefore=e.nextElementSibling,i.insertBefore(o,e.nextElementSibling)):r.insertBefore||o.parentElement.lastElementChild===o||(r.insertBefore=e.nextElementSibling):(i.appendChild(o),r.insertBefore=null),r.draggedTo=i}}revertPosition(){const e=this.context,n=e.originalPosition;if(n.next){n.next&&n.next.previousSibling===e.dragging||!n.next&&e.dragging===n.parent.lastChild||n.parent.insertBefore(e.dragging,n.next)}else n.parent.appendChild(e.dragging);e.draggedTo=null}};const mi={pageXOffset:0,pageYOffset:0};var DragHelperTranslate=e=>class DragHelperTranslate extends(Delayable(e||Base)){static get $name(){return"DragHelperTranslate"}initTranslateDrag(){const e=this;e.mode=e.mode||"translateXY",!e.isElementDraggable&&e.targetSelector&&(e.isElementDraggable=n=>DomHelper.up(n,e.targetSelector))}grabTranslateDrag(e){const n=this,r=n.getTarget(e);return!!r&&(n.context={valid:!0,action:n.mode,element:r,startPageX:e.pageX,startPageY:e.pageY,startClientX:e.clientX,startClientY:e.clientY},!0)}getTarget(e){return DomHelper.up(e.target,this.targetSelector)}startTranslateDrag(e){const n=this,r=n.context,{relatedElements:o}=r;let i=r.dragProxy||r.element;if(i&&!r.started){const a=i,l=i.parentElement,c=n.dragWithin=n.dragWithin||n.cloneTarget&&document.body,d=n.outerElement;if(n.cloneTarget){const e=DomHelper.getOffsetX(i,c),r=DomHelper.getOffsetY(i,c),o=i.offsetWidth,l=i.offsetHeight;i=n.createProxy(i),DomHelper.setTranslateXY(i,e,r),i.style.width=`${o}px`,i.style.height=`${l}px`,i.classList.add(n.dragProxyCls),c.appendChild(i),a.classList.add("b-drag-original"),n.hideOriginalElement&&a.classList.add("b-hidden")}Object.assign(n.context,{element:i,grabbed:a,grabbedParent:l,grabbedNextSibling:i.nextElementSibling,elementStartX:DomHelper.getTranslateX(i),elementStartY:DomHelper.getTranslateY(i),elementX:DomHelper.getOffsetX(i,c||d),elementY:DomHelper.getOffsetY(i,c||d),scrollX:0,scrollY:0,scrollManagerElementContainsDragProxy:!n.cloneTarget||c===d}),i.classList.add(n.draggingCls),c&&(r.parentElement=i.parentElement,c!==i.parentElement&&c.appendChild(i),n.updateTranslateProxy(e)),o&&o.forEach((e=>{e.classList.add(n.draggingCls)}))}}applyConstraints(e,n,r){const o=this,i=o.dragWithin,{pageXOffset:a,pageYOffset:l}=i===document.body?window:mi;return i&&o.constrain&&(n<0&&(n=0),n+e.offsetWidth>i.scrollWidth&&(n=i.scrollWidth-e.offsetWidth),r<0&&(r=0),r+e.offsetHeight>i.scrollHeight&&(r=i.scrollHeight-e.offsetHeight)),"number"==typeof o.minX&&(n=Math.max(o.minX+a,n)),"number"==typeof o.maxX&&(n=Math.min(o.maxX+a,n)),"number"==typeof o.minY&&(r=Math.max(o.minY+l,r)),"number"==typeof o.maxY&&(r=Math.min(o.maxY+l,r)),{constrainedX:n,constrainedY:r}}updateTranslateProxy(e,n){const r=this,{mode:o,lockX:i,lockY:a}=r,l=r.context,c=l.dragProxy||l.element,{relatedElements:d,relatedElDragFromPos:u}=l;l.scrollManagerElementContainsDragProxy&&n&&(l.scrollX=n.getRelativeLeftScroll(c),l.scrollY=n.getRelativeTopScroll(c)),l.pageX=e.pageX,l.pageY=e.pageY,l.clientX=e.clientX,l.clientY=e.clientY;let p=l.elementStartX+e.pageX-l.startPageX+l.scrollX,b=l.elementStartY+e.pageY-l.startPageY+l.scrollY;if(r.snapCoordinates){const e=r.snapCoordinates({element:c,newX:p,newY:b});p=e.x,b=e.y}const{constrainedX:g,constrainedY:m}=r.applyConstraints(c,p,b);if("translateXY"!==o||i||a?"translateX"===o||a?DomHelper.setTranslateX(c,g):("translateY"===o||i)&&DomHelper.setTranslateY(c,m):DomHelper.setTranslateXY(c,g,m),d){const e=i||"translateY"===o?0:g-l.elementStartX,n=a||"translateX"===o?0:m-l.elementStartY;d.forEach(((r,o)=>{const[i,a]=u[o];DomHelper.setTranslateXY(r,i+e,a+n)}))}l.newX=g,l.newY=m}finishTranslateDrag(e){const n=this,r=n.context,o=Math.round(r.newX)!==Math.round(r.elementStartX),i=Math.round(r.newY)!==Math.round(r.elementStartY),a=r.dragProxy||r.element,{relatedElements:l}=r;function cleanUp(){a.classList.remove(n.invalidCls),a.classList.remove(n.draggingCls),l&&l.forEach((e=>{e.classList.remove(n.invalidCls),e.classList.remove(n.draggingCls)})),a.classList.contains("b-aborting")||(n.hideOriginalElement&&r.grabbed.classList.remove("b-hidden"),r.grabbed.classList.remove("b-drag-original"))}if(!n.ignoreSamePositionDrop||"translateY"!==n.mode&&o||"translateX"!==n.mode&&i){if(!1===r.valid)n.abortTranslateDrag(!0,e);else{const o=Rectangle.from(n.dragWithin||n.outerElement);!n.minX&&e.pageX<o.left||!n.maxX&&e.pageX>o.right||!n.minY&&e.pageY<o.top||!n.maxY&&e.pageY>o.bottom?(r.valid=!1,n.abortTranslateDrag(!0,e)):(r.finalize=(e=r.valid)=>{r.asyncCleanup&&cleanUp(),!e&&n.context?n.abortTranslateDrag(!0,null,!0):(n.cloneTarget||r.dragProxy)&&a.remove(),n.reset()},r.async=!1,n.trigger("drop",{context:r,event:e}),r.async?r.awaitingFinalization=!0:r.finalize())}r.asyncCleanup||cleanUp()}else n.abortTranslateDrag(!1,e)}abortTranslateDrag(e=!1,n=null,r=!1){const o=this,i=o.context,{relatedElements:a,relatedElStartPos:l,grabbed:c}=i,d=i.dragProxy||i.element,u=o.cloneTarget&&o.hideOriginalElement?c:d;let{elementStartX:p,elementStartY:b}=i;d&&i.started&&(!o.cloneTarget&&o.dragWithin&&o.dragWithin!==i.grabbedParent&&i.grabbedParent.insertBefore(d,i.grabbedNextSibling),c.classList.remove("b-hidden"),o.cloneTarget&&(o.hideOriginalElement&&([p,b]=DomHelper.getTranslateXY(c),DomHelper.alignTo(c,d),u.getBoundingClientRect()),d.remove()),u.classList.add("b-aborting"),"translateXY"!==o.mode||o.lockX||o.lockY||(DomHelper.setTranslateXY(u,p,b),a&&a.forEach(((e,n)=>{e.classList.add("b-aborting"),DomHelper.setTranslateXY(e,l[n][0],l[n][1])}))),("translateX"===o.mode||o.lockY)&&(DomHelper.setTranslateX(u,p),a&&a.forEach(((e,n)=>{e.classList.add("b-aborting"),DomHelper.setTranslateX(e,l[n][0])}))),("translateY"===o.mode||o.lockX)&&(DomHelper.setTranslateY(u,b),a&&a.forEach(((e,n)=>{e.classList.add("b-aborting"),DomHelper.setTranslateY(e,l[n][1])}))),o.setTimeout((()=>{u.classList.remove("b-aborting"),c.classList.remove("b-dragging"),c.classList.remove("b-drag-original"),o.cloneTarget||(a&&a.forEach(((e,n)=>{e.classList.remove("b-aborting")})),d.classList.remove("b-aborting"),d.classList.remove(o.draggingCls),d.classList.remove(o.invalidCls))}),o.transitionDuration,void 0,!0),r||o.trigger(e?"drop":"abort",{context:i,event:n})),o.reset()}};const fi="onMouseDown",vi="onMouseMove",yi="onMouseUp",wi="onDocumentClick",xi="onTouchStart",Ci="onTouchMove",Si="onTouchEnd",Di="onKeyDown";class DragHelper extends(Base.mixin(Events,DragHelperContainer,DragHelperTranslate)){static get defaultConfig(){return{dragProxyCls:"b-drag-proxy",invalidCls:"b-drag-invalid",draggingCls:"b-dragging",dropPlaceholderCls:"b-drop-placeholder",dragThreshold:5,outerElement:document.body,dragWithin:null,monitoringConfig:null,constrain:!0,minX:null,maxX:null,minY:null,maxY:null,mode:null,isElementDraggable:null,targetSelector:null,dropTargetSelector:null,cloneTarget:!1,hideOriginalElement:!1,containers:null,ignoreSelector:null,startEvent:null,lockX:!1,lockY:!1,touchStartDelay:300,scrollManager:null,snapCoordinates:null,transitionDuration:300,clickSwallowDuration:50,ignoreSamePositionDrop:!0,floatRootOwner:null,testConfig:{transitionDuration:10,clickSwallowDuration:BrowserHelper.isEdge?300:50}}}construct(e){const n=this;super.construct(e),n.initListeners(),"container"===n.mode?n.initContainerDrag():n.mode.startsWith("translate")&&n.initTranslateDrag(),n.onScrollManagerScrollCallback=n.onScrollManagerScrollCallback.bind(this),n.initialMode=n.mode}doDestroy(){this.abort(!0),super.doDestroy()}initListeners(){const e={element:this.outerElement,mousedown:fi,thisObj:this};BrowserHelper.isTouchDevice&&(e.touchstart=xi),EventHelper.on(e),EventHelper.on({element:window,blur:"onWindowBlur",thisObj:this})}onPointerDown(e){const n=this;if(!DomHelper.isVisible(e.target))return;if(n.context)return;if(n.isElementDraggable&&!n.isElementDraggable(e.target,e))return;n.startEvent=e;if("container"===n.mode?n.grabContainerDrag(e):!!n.mode.startsWith("translate")&&n.grabTranslateDrag(e)){const r={element:document,thisObj:n,keydown:Di};if("touches"in e?(r.touchmove={handler:Ci,passive:!1},r.touchend=r.pointerup=Si):(r.mousemove=vi,r.mouseup=yi),n.removeListeners=EventHelper.on(r),n.dragWithin&&n.dragWithin!==n.outerElement&&n.outerElement.contains(n.dragWithin)){const e=Rectangle.from(n.dragWithin,n.outerElement);n.minY=e.top,n.maxY=e.bottom,n.minX=e.left,n.maxX=e.right}}}onTouchStart(e){const n=this;1===e.touches.length&&(n.touchStartTimer=n.setTimeout((()=>{n.touchStartTimer=null}),n.touchStartDelay,"touchStartDelay"),n.onPointerDown(e))}onMouseDown(e){0===e.button&&this.onPointerDown(e)}internalMove(e){const n=this,{context:r}=n,o=EventHelper.getDistanceBetween(n.startEvent,e);if(n.touchStartTimer&&o>n.dragThreshold)n.abort(!0);else if(!n.touchStartTimer&&r&&r.element&&e.target&&e.target.nodeType===Node.ELEMENT_NODE&&(r.started||o>=n.dragThreshold)){if(!r.started){var i;if(!1===n.trigger("beforeDragStart",{context:r,event:e}))return n.abort();"container"!==n.mode&&(n.lockY?n.mode="translateX":n.lockX?n.mode="translateY":n.mode=n.initialMode),r.action.startsWith("translate")?n.startTranslateDrag(e):"container"===r.action&&n.startContainerDrag(e),r.started=!0,null===(i=n.scrollManager)||void 0===i||i.startMonitoring(ObjectHelper.merge({scrollables:[{element:n.dragWithin||n.outerElement}],callback:n.onScrollManagerScrollCallback},n.monitoringConfig)),r.outermostEl=e.target.closest(".b-outer")||document.body,r.outermostEl.classList.add("b-draghelper-active"),n.trigger("dragStart",{context:r,event:e})}"touchmove"===e.type&&(e.preventDefault(),e.stopImmediatePropagation()),n.update(e)}}onScrollManagerScrollCallback(e){var n;const{lastMouseMoveEvent:r}=this;null!==(n=this.context)&&void 0!==n&&n.element&&r&&(r.isScroll=!0,this.update(r,e))}onTouchMove(e){this.internalMove(e)}onMouseMove(e){this.internalMove(e)}update(e,n){const r=this,{context:o}=r,i=o.dragProxy||o.element,a=document.scrollingElement||document.body;let l=e.isScroll?DomHelper.elementFromPoint(e.clientX,e.clientY):e.target;if("touchmove"===e.type){const n=e.changedTouches[0];l=DomHelper.elementFromPoint(n.clientX+a.scrollLeft,n.clientY+a.scrollTop)}var c;(o.target=l,r.dropTargetSelector)?o.valid=Boolean(null===(c=l)||void 0===c?void 0:c.closest(r.dropTargetSelector)):o.valid=!0;o.action&&("container"===o.action&&r.updateContainerProxy(e,n),o.action.startsWith("translate")&&r.updateTranslateProxy(e,n)),r.trigger("drag",{context:o,event:e}),"container"===o.action&&r.updateContainerDrag(e,n),i.classList[o.valid?"remove":"add"](r.invalidCls),e&&(r.lastMouseMoveEvent=e)}abort(e=!1){var n,r;const o=this,i=o.context;null===(n=o.scrollManager)||void 0===n||null===(r=n.stopMonitoring)||void 0===r||r.call(n),i&&(i.element.getBoundingClientRect(),i.valid=!1,"container"===i.action?o.abortContainerDrag(void 0,void 0,e):o.abortTranslateDrag(void 0,void 0,e)),o.reset()}removeListeners(){}reset(e){const n=this,r=n.context;null!=r&&r.started&&r.outermostEl.classList.remove("b-draghelper-active"),n.removeListeners(),e||n.trigger("reset"),n.context=n.lastMouseMoveEvent=null}onTouchEnd(e){this.onMouseUp(e)}onDocumentClick(e){e.stopPropagation()}onMouseUp(e){const n=this,r=n.context;var o;(n.removeListeners(),r)&&(null===(o=n.scrollManager)||void 0===o||o.stopMonitoring(),"container"===r.action?n.finishContainerDrag(e):r.started&&r.action.startsWith("translate")&&n.finishTranslateDrag(e),r.started?EventHelper.on({element:document,thisObj:n,click:wi,capture:!0,expires:n.clickSwallowDuration,once:!0}):n.reset(!0))}onKeyDown(e){"Escape"===e.key&&this.abort()}onWindowBlur(){this.context&&this.abort()}createProxy(e){const n=e.cloneNode(!0);return n.removeAttribute("id"),n}}DragHelper._$name="DragHelper";const Ei={down:"onMouseDown",move:"onMouseMove",up:"onMouseUp",docclick:"onDocumentClick",touchstart:{handler:"onTouchStart",passive:!1},touchmove:"onTouchMove",touchend:"onTouchEnd",keydown:"onKeyDown"};class ResizeHelper extends(Events(Base)){static get defaultConfig(){return{resizingCls:"b-resizing",dragThreshold:5,handleSize:10,dynamicHandleSize:null,reservedSpace:10,touchHandleSize:30,minWidth:1,maxWidth:0,minHeight:1,maxHeight:0,outerElement:document.body,scroller:null,allowResize:null,dragWithin:null,isElementResizable:null,targetSelector:null,leftHandle:!0,rightHandle:!0,topHandle:!0,bottomHandle:!0,handleSelector:null,handleContainerSelector:null,startEvent:null,grab:null,invalidCls:"b-resize-invalid",handleVisibilityThreshold:null,skipTranslate:!1,direction:"horizontal",clickSwallowDuration:50}}construct(e){const n=this;super.construct(e),n.handleSelector||BrowserHelper.isHoverableDevice||(n.handleSize=n.touchHandleSize),n.handleVisibilityThreshold=n.handleVisibilityThreshold||2*n.handleSize,n.initListeners(),n.initResize()}doDestroy(){this.abort(!0),super.doDestroy()}initResize(){const e=this;if(!e.isElementResizable&&e.targetSelector&&(e.isElementResizable=n=>DomHelper.up(n,e.targetSelector)),e.grab){const{edge:n,element:r,event:o}=e.grab;e.startEvent=o;const i=e.getCursorOffsetToElementEdge(o,r,n);e.context={element:r,edge:n,valid:!0,async:!1,elementStartX:DomHelper.getTranslateX(r)||r.offsetLeft,elementStartY:DomHelper.getTranslateY(r)||r.offsetTop,newX:DomHelper.getTranslateX(r)||r.offsetLeft,newY:DomHelper.getTranslateY(r)||r.offsetTop,elementWidth:r.offsetWidth,elementHeight:r.offsetHeight,cursorOffset:i,startX:o.clientX+i.x+e.scrollLeft,startY:o.clientY+i.y+e.scrollTop,finalize:()=>{var n;return null===(n=e.reset)||void 0===n?void 0:n.call(e)}},r.classList.add(e.resizingCls),e.internalStartResize(e.isTouch)}}initListeners(){const e=this,n={element:e.outerElement,mousedown:Ei.down,touchstart:Ei.touchstart,thisObj:e};!e.handleSelector&&BrowserHelper.isHoverableDevice&&(n.mousemove={handler:Ei.move,delegate:e.targetSelector},n.mouseleave={handler:"onMouseLeaveTarget",delegate:e.targetSelector,capture:!0}),e.removeListeners=EventHelper.on(n)}removeListeners(){}get scrollLeft(){return this.scroller?this.scroller.x:this.outerElement.scrollLeft}get scrollTop(){return this.scroller?this.scroller.y:this.outerElement.scrollTop}internalStartResize(e){const n={element:document,keydown:Ei.keydown,thisObj:this};e?(n.touchmove=Ei.touchmove,n.touchend=n.pointerup=Ei.touchend):(n.mousemove=Ei.move,n.mouseup=Ei.up),this.removeDragListeners=EventHelper.on(n)}removeDragListeners(){}reset(){var e;null===(e=this.removeDragListeners)||void 0===e||e.call(this),this.context=null}onPointerDown(e,n){const r=this;r.startEvent=n,r.isElementResizable&&!r.isElementResizable(n.target,n)||r.grabResizeHandle(e,n)&&(n.stopImmediatePropagation(),"touchstart"===n.type&&n.preventDefault(),r.internalStartResize(e))}onTouchStart(e){e.touches.length>1||this.onPointerDown(!0,e)}onMouseDown(e){0===e.button&&this.onPointerDown(!1,e)}internalMove(e,n){const r=this,{context:o,direction:i}=r;if(null!=o&&o.element&&(o.started||EventHelper.getDistanceBetween(r.startEvent,n)>=r.dragThreshold)){var a;if(!o.started)null===(a=r.scrollManager)||void 0===a||a.startMonitoring(ObjectHelper.merge({scrollables:[{element:r.dragWithin||r.outerElement,direction:i}],callback:e=>{var n;return(null===(n=r.context)||void 0===n?void 0:n.element)&&r.lastMouseMoveEvent&&r.update(r.lastMouseMoveEvent,e)}},r.monitoringConfig)),r.trigger("resizeStart",{context:o,event:n}),o.started=!0;r.update(n)}else e||r.handleSelector||r.checkResizeHandles(n)}onTouchMove(e){this.internalMove(!0,e)}onMouseMove(e){this.internalMove(!1,e)}onPointerUp(e,n){var r;const o=this,i=o.context;var a,l;(null===(r=o.removeDragListeners)||void 0===r||r.call(o),i)?(null===(a=o.scrollManager)||void 0===a||a.stopMonitoring(),i.started&&EventHelper.on({element:document,thisObj:o,click:Ei.docclick,expires:o.clickSwallowDuration,capture:!0,once:!0}),o.finishResize(n)):null===(l=o.reset)||void 0===l||l.call(o)}onTouchEnd(e){this.onPointerUp(!0,e)}onMouseUp(e){this.onPointerUp(!1,e)}onDocumentClick(e){e.stopPropagation()}onKeyDown(e){"Escape"===e.key&&this.abort()}update(e){const n=this,r=n.context,o=Rectangle.from(n.outerElement);r.currentX=Math.max(Math.min(e.clientX+r.cursorOffset.x,o.right),o.x)+n.scrollLeft,r.currentY=Math.max(Math.min(e.clientY+r.cursorOffset.y,o.bottom),o.y)+n.scrollTop,n.updateResize(e),n.trigger("resizing",{context:r,event:e}),r.element.classList[!1===r.valid?"add":"remove"](n.invalidCls),e&&(n.lastMouseMoveEvent=e)}abort(e=!1){var n,r;const o=this;null===(n=o.scrollManager)||void 0===n||null===(r=n.stopMonitoring)||void 0===r||r.call(n),o.context?o.abortResize(null,e):o.isDestroyed||o.reset()}grabResizeHandle(e,n){const r=this;if(r.allowResize&&!r.allowResize(n.target,n))return!1;const o=r.handleSelector,i="touchstart"===n.type?n.changedTouches[0]:n,a=i.clientX,l=i.clientY,c=r.targetSelector?DomHelper.up(n.target,r.targetSelector):n.target;if(c){let d;if(o){if(!n.target.matches(o))return!1;d="horizontal"===r.direction?n.pageX<DomHelper.getPageX(c)+c.offsetWidth/2?"left":"right":n.pageY<DomHelper.getPageY(c)+c.offsetHeight/2?"top":"bottom"}else if("horizontal"===r.direction?r.overLeftHandle(n,c)?d="left":r.overRightHandle(n,c)&&(d="right"):r.overTopHandle(n,c)?d="top":r.overBottomHandle(n,c)&&(d="bottom"),!d)return r.context=null,!1;"touchstart"===n.type&&n.preventDefault();const u=r.getCursorOffsetToElementEdge(i,c,d);if(!1!==r.trigger("beforeResizeStart",{element:c,event:n}))return r.context={element:c,edge:d,isTouch:e,valid:!0,async:!1,direction:r.direction,elementStartX:DomHelper.getTranslateX(c)||c.offsetLeft,elementStartY:DomHelper.getTranslateY(c)||c.offsetTop,newX:DomHelper.getTranslateX(c)||c.offsetLeft,newY:DomHelper.getTranslateY(c)||c.offsetTop,elementWidth:c.offsetWidth,elementHeight:c.offsetHeight,cursorOffset:u,startX:a+u.x+r.scrollLeft,startY:l+u.y+r.scrollTop,finalize:()=>{var e;return null===(e=r.reset)||void 0===e?void 0:e.call(r)}},c.classList.add(r.resizingCls),!0}return!1}getCursorOffsetToElementEdge(e,n,r){const o=Rectangle.from(n);let i=0,a=0;switch(r){case"left":i=o.x-e.clientX;break;case"right":i=o.x+o.width-e.clientX;break;case"top":a=o.y-e.clientY;break;case"bottom":a=o.y+o.height-e.clientY}return{x:i,y:a}}checkResizeHandles(e){const n=this,r=n.targetSelector?DomHelper.up(e.target,n.targetSelector):e.target;if(!r||n.allowResize&&!n.allowResize(e.target,e))n.currentElement&&n.unHighlightHandle();else if(n.currentElement=n.handleContainerSelector?DomHelper.up(e.target,n.handleContainerSelector):e.target,n.currentElement){let o=!1;o="horizontal"===n.direction?n.overLeftHandle(e,r)||n.overRightHandle(e,r):n.overTopHandle(e,r)||n.overBottomHandle(e,r),o?n.highlightHandle():n.unHighlightHandle()}}onMouseLeaveTarget(e){const n=this;n.currentElement=n.handleContainerSelector?DomHelper.up(e.target,n.handleContainerSelector):e.target,n.currentElement&&n.unHighlightHandle()}updateResize(e){const n=this,r=n.context;n.allowEdgeSwitch&&("horizontal"===n.direction?r.edge=r.currentX>r.startX?"right":"left":r.edge=r.currentY>r.startY?"bottom":"top");const o=r.currentX-r.startX,i=r.currentY-r.startY,a=DomHelper.getExtremalSizePX(r.element,"minWidth")||n.minWidth,l=DomHelper.getExtremalSizePX(r.element,"maxWidth")||n.maxWidth,c=DomHelper.getExtremalSizePX(r.element,"minHeight")||n.minHeight,d=DomHelper.getExtremalSizePX(r.element,"maxHeight")||n.maxHeight,u="right"===r.edge||"bottom"===r.edge?1:-1,p=r.elementWidth+o*u,b=r.elementHeight+i*u;let g=Math.max(a,p),m=Math.max(c,b);l>0&&(g=Math.min(g,l)),d>0&&(m=Math.min(m,d)),r.element.style.flex&&(r.element.style.flex=""),"horizontal"===n.direction?(r.element.style.width=Math.abs(g)+"px",r.newWidth=g,"left"===r.edge||g<0?(r.newX=Math.max(Math.min(r.elementStartX+r.elementWidth-n.minWidth,r.elementStartX+o),0),n.skipTranslate||DomHelper.setTranslateX(r.element,r.newX)):"right"===r.edge&&n.allowEdgeSwitch&&!n.skipTranslate&&DomHelper.setTranslateX(r.element,r.elementStartX)):(r.element.style.height=Math.abs(m)+"px",r.newHeight=m,"top"===r.edge||m<0?(r.newY=Math.max(Math.min(r.elementStartY+r.elementHeight-n.minHeight,r.elementStartY+i),0),n.skipTranslate||DomHelper.setTranslateY(r.element,r.newY)):"bottom"===r.edge&&n.allowEdgeSwitch&&!n.skipTranslate&&DomHelper.setTranslateY(r.element,r.elementStartY))}finishResize(e){const n=this,r=n.context,o={context:r,event:e};if(r.element.classList.remove(n.resizingCls),r.started){let e=!1;e="horizontal"===n.direction?r.newWidth&&r.newWidth!==r.elementWidth:r.newHeight&&r.newHeight!==r.elementHeight,n.trigger(e?"resize":"cancel",o),r.async||r.finalize()}else{var i;null===(i=n.reset)||void 0===i||i.call(n)}}abortResize(e=null,n=!1){const r=this,o=r.context;o.element.classList.remove(r.resizingCls),"horizontal"===r.direction?(DomHelper.setTranslateX(o.element,o.elementStartX),o.element.style.width=o.elementWidth+"px"):(DomHelper.setTranslateY(o.element,o.elementStartY),o.element.style.height=o.elementHeight+"px"),!n&&r.trigger("cancel",{context:o,event:e}),r.isDestroyed||r.reset()}highlightHandle(){const e=this,n=e.targetSelector?DomHelper.up(e.currentElement,e.targetSelector):e.currentElement;e.currentElement.classList.add("b-resize-handle"),n.classList.add("b-over-resize-handle")}unHighlightHandle(){const e=this,n=e.targetSelector?DomHelper.up(e.currentElement,e.targetSelector):e.currentElement;n&&n.classList.remove("b-over-resize-handle"),e.currentElement.classList.remove("b-resize-handle"),e.currentElement=null}overAnyHandle(e,n){return this.overStartHandle(e,n)||this.overEndHandle(e,n)}overStartHandle(e,n){return"horizontal"===this.direction?this.overLeftHandle(e,n):this.overTopHandle(e,n)}overEndHandle(e,n){return"horizontal"===this.direction?this.overRightHandle(e,n):this.overBottomHandle(e,n)}getDynamicHandleSize(e,n){const r=e?2:1,{handleSize:o}=this;return this.dynamicHandleSize&&o*r>n-this.reservedSpace?Math.max(Math.floor((n-this.reservedSpace)/r),0):o}overLeftHandle(e,n){const r=this,{offsetWidth:o}=n;if(r.leftHandle&&(o>=r.handleVisibilityThreshold||r.dynamicHandleSize)){const i=Rectangle.from(n);return i.width=r.getDynamicHandleSize(r.rightHandle,o),i.width>0&&i.contains(EventHelper.getPagePoint(e))}return!1}overRightHandle(e,n){const r=this,{offsetWidth:o}=n;if(r.rightHandle&&(o>=r.handleVisibilityThreshold||r.dynamicHandleSize)){const i=Rectangle.from(n);return i.x=i.right-r.getDynamicHandleSize(r.leftHandle,o),i.width>0&&i.contains(EventHelper.getPagePoint(e))}return!1}overTopHandle(e,n){const r=this,{offsetHeight:o}=n;if(r.topHandle&&(o>=r.handleVisibilityThreshold||r.dynamicHandleSize)){const i=Rectangle.from(n);return i.height=r.getDynamicHandleSize(r.bottomHandle,o),i.height>0&&i.contains(EventHelper.getPagePoint(e))}return!1}overBottomHandle(e,n){const r=this,{offsetHeight:o}=n;if(r.bottomHandle&&(o>=r.handleVisibilityThreshold||r.dynamicHandleSize)){const i=Rectangle.from(n);return i.y=i.bottom-r.getDynamicHandleSize(r.bottomHandle,o),i.height>0&&i.contains(EventHelper.getPagePoint(e))}return!1}}ResizeHelper._$name="ResizeHelper";const ki=/>[ \t\r\n]+</g,Ti=/\s\s+/g;class TemplateHelper{static tpl(e,...n){let r=0,o=n.map(((n,o)=>{let i=e[o];return Array.isArray(n)?i+=n.reduce(((e,n)=>e+(("string"==typeof n?n.trim():n)+"\n")),""):(void 0===n&&(n=""),i+="string"==typeof n?n.trim():n),r++,i})).join("");return r<=e.length&&(o+=e[e.length-1]),o.replace(ki,"><").replace(Ti," ").trim()}static docsTpl(e,...n){let r=0,o=n.map(((n,o)=>{let i=e[o];return Array.isArray(n)?i+=n.reduce(((e,n)=>e+(("string"==typeof n?n.trim():n)+"\n")),""):(void 0===n&&(n=""),i+="string"==typeof n?n.trim():n),r++,i})).join("");return r<=e.length&&(o+=e[e.length-1]),o.replace(ki,"><").trim()}static repeat(e){return function(...n){return TemplateHelper.tpl(...n).repeat(e)}}static loop(e){}}TemplateHelper._$name="TemplateHelper";class Toast extends Widget{static get $name(){return"Toast"}static get type(){return"toast"}static get configurable(){return{testConfig:{destroyTimeout:1,timeout:100},floating:!0,timeout:2500,autoDestroy:null,destroyTimeout:200,showProgress:!0,color:null,bottomMargin:20}}compose(){const{appendTo:e,color:n,html:r,showProgress:o,style:i,timeout:a}=this;return{parent:e||this.floatRoot,class:_objectSpread2(_objectSpread2({},DomClassList.normalize(n,"object")),{},{"b-toast-hide":1}),html:r,style:i,children:{progressElement:o&&{style:`animation-duration:${a/1e3}s;`,class:{"b-toast-progress":1}}},listeners:{click:"hide"}}}doDestroy(){this.untoast(),super.doDestroy()}get nextBottom(){const{bottomMargin:e,element:n}=this;return parseInt(n.style.bottom,10)+n.offsetHeight+e}show(){super.show();const e=this,{element:n}=e,{toasts:r}=Toast;var o,i;r.includes(e)||(n.style.bottom=(null!==(o=null===(i=r[0])||void 0===i?void 0:i.nextBottom)&&void 0!==o?o:e.bottomMargin)+"px",r.unshift(e),n.getBoundingClientRect(),n.classList.remove("b-toast-hide"),e.timeout>0&&(e.hideTimeout=e.setTimeout("hide",e.timeout)))}hide(){const e=this;e.untoast(),e.element.classList.add("b-toast-hide"),e.autoDestroy&&!e.destroyTimer&&(e.destroyTimer=e.setTimeout("destroy",e.destroyTimeout))}untoast(){const{toasts:e}=Toast;e.includes(this)&&e.splice(e.indexOf(this),1)}static hideAll(){Toast.toasts.slice().reverse().forEach((e=>e.hide()))}static show(e){const n=Toast.new({autoDestroy:!0,rootElement:document.body},"string"==typeof e?{html:e}:e);return n.show(),n}}Toast.toasts=[],Toast.initClass(),Toast._$name="Toast";class WidgetHelper{static getById(e){return Widget.getById(e)}static fromElement(e,n,r){return Widget.fromElement(e,n,r)}static createWidget(e={}){return e.isWidget?e:Widget.create(e)}static append(e,n){if(e=Array.isArray(e)&&e||[e],(n instanceof HTMLElement||"string"==typeof n)&&(n={appendTo:n}),n.insertFirst){const e="string"==typeof n.insertFirst?document.getElementById(n.insertFirst):n.insertFirst;e.firstChild?n.insertBefore=e.firstChild:n.appendTo=e}return e.map((e=>Widget.create(ObjectHelper.assign({},n||{},e))))}static openPopup(e,n){return Widget.create(ObjectHelper.assign({forElement:e},"string"==typeof n?{html:n}:n),"popup")}static showContextMenu(e,n){const r=this;return r.currentContextMenu&&r.currentContextMenu.destroy(),e instanceof HTMLElement?n.forElement=e:Array.isArray(e)?n.forElement={target:new Point(...e)}:e instanceof Point&&(n.forElement={target:e}),r.currentContextMenu=Widget.create(n,"menu"),r.currentContextMenu.on("destroy",(()=>{r.currentContextMenu=null})),r.currentContextMenu}static attachTooltip(e,n){return Widget.attachTooltip(e,n)}static hasTooltipAttached(e){return Widget.resolveType("tooltip").hasTooltipAttached(e)}static destroyTooltipAttached(e){return Widget.resolveType("tooltip").destroyTooltipAttached(e)}static mask(e,n="Loading"){if(e)return e instanceof HTMLElement&&(e={target:e,text:n}),Mask.mask(e,e.target)}static unmask(e,n=!0){e.mask&&(n?e.mask.close():e.mask.hide())}static toast(e){return Toast.show(e)}}WidgetHelper._$name="WidgetHelper";class XMLHelper{static convertFromObject(e,n={}){Objects.assignIf(n,{rootName:"root",elementName:"element",includeHeader:!0,rootElementForArray:!0});const{rootName:r,elementName:o,includeHeader:i,rootElementForArray:a}=n;let{xmlns:l}=n;l=l?` xmlns="${l}"`:"";const converter=e=>{const n=[];for(const r in e){const i=e[r];if(Array.isArray(i)){a&&n.push(`<${r}>`);for(const e of i)o.length?n.push(`<${o}>`):n.push(`<${r}>`),n.push(converter(e)),o.length?n.push(`</${o}>`):n.push(`</${r}>`);a&&n.push(`</${r}>`)}else Objects.isObject(i)?n.push(`<${r}>${converter(i)}</${r}>`):null==i?n.push(`<${r}/>`):n.push(`<${r}>${StringHelper.encodeHtml(i)}</${r}>`)}return n.join("")};return`${i?'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>':""}<${r}${l}>${converter(e)}</${r}>`}}XMLHelper._$name="XMLHelper";class RandomGenerator{constructor(){this.random100=[46,2,36,46,54,59,18,20,71,55,88,98,13,61,61,40,2,15,3,32,51,45,64,25,81,85,54,13,57,49,64,22,81,94,0,62,17,7,11,2,33,99,85,26,83,83,96,26,20,89,91,38,26,13,11,79,32,30,5,51,70,7,5,56,58,77,37,89,40,80,78,59,26,36,8,51,60,23,86,5,11,96,64,94,87,64,4,78,17,85,35,0,90,86,23,55,53,9,35,59,29,2,64,42,8,49,43,73,6,53,38,9,39,31,32,40,49,13,78,68,20,99,24,78,35,91,73,46,67,76,89,69,30,69,25,3,4,55,1,65,66,76,83,19,67,1,95,24,54,45,56,40,67,92,72,4,69,8,47,50,27,2,38,9,14,83,12,14,62,95,22,47,35,18,38,14,86,64,68,61,52,69,39,93,20,73,32,52,74,6,56,68,99,29,24,92,40,67,6,72,31,41,91,53,80,55,33,97,97,99,18,20,5,27,82,84,61,78,27,67,7,42,75,95,91,25,63,21,70,36,46,0,1,45,84,6,86,15,10,62,96,94,10,23,93,83,94,47,5,29,29,52,51,37,77,96,43,72,43,14,54,14,72,52,4,39,15,26,68,28,25,76,60,50,22,40,72,74,68,58,8,48,40,62,52,24,9,26,47,44,49,96,7,77,90,45,76,47,5,86,1,36,18,42,19,90,34,23,70,32,69,79,0,99,57,80,72,21,19,72,85,68,4,40,86,62,0,63,4,11,69,31,78,31,21,78,29,84,13,53,57,10,26,50,24,30,90,42,51,96,93,21,99,23,81,0,89,43,86,63,93,19,54,71,92,36,4,95,37,99,60,29,23,50,68,95,57,95,77,53,99,78,75,12,92,47,23,14,0,41,98,11,34,64,26,90,50,23,38,31,74,76,16,76,66,23,22,72,48,50,20,36,37,58,5,43,49,64,81,30,8,21,98,75,60,17,50,42,27,38,90,74,45,68,67,27,31,15,58,76,41,99,23,98,53,98,56,19,79,2,4,38,96,24,65,51,43,42,41,60,46,7,90,65,3,27,63,99,51,44,86,1,54,40,15,74,3,81,51,63,87,79,84,72,22,38,96,95,33,41,21,99,21,69,7,49,40,52,41,6,91,19,76,40,54,17,33,11,11,0,1,32,94,33,13,18,45,7,85,61,42,54,45,72,78,96,17,9,80,87,41,96,66,0,8,59,18,21,2,28,64,75,97,32,80,86,97,97,55,2,73,75,11,89,67,58,70,76,12,46,64,17,22,97,25,35,93,57,82,46,57,61,31,74,27,4,32,85,53,86,53,53,42,5,28,50,65,63,70,61,73,37,13,80,7,34,22,3,26,6,62,78,12,56,87,41,58,64,31,27,45,35,18,66,62,43,89,69,94,93,33,74,2,43,85,37,82,41,74,9,15,44,33,42,65,19,1,49,78,12,29,9,78,7,55,12,45,40,33,16,86,14,52,16,73,76,0,98,75,91,78,46,99,95,90,69,78,45,62,55,37,88,49,77,27,83,38,73,39,1,75,40,65,83,54,95,7,73,4,30,26,36,89,21,5,95,11,14,87,45,36,21,77,55,5,66,51,98,48,62,74,58,23,82,30,28,19,53,89,76,98,8,34,70,28,54,16,52,35,93,54,54,72,49,18,93,72,90,71,73,15,60,38,80,76,53,70,39,69,25,5,31,61,46,6,54,34,31,52,33,36,79,76,44,29,28,38,1,66,2,90,91,1,76,78,31,55,37,71,2,3,38,85,0,95,42,2,39,57,87,61,77,98,2,24,80,48,27,47,71,15,7,49,60,86,3,2,29,38,54,36,59,83,27,47,9,36,42,8,73,85,9,16,73,60,39,12,43,25,23,29,28,47,40,77,20,89,22,30,41,59,96,19,56,20,76,73,39,46,72,40,47,37,52,29,79,37,39,50,41,87,66,17,75,31,45,26,88,70,11,90,40,74,9,32,65,72,61,6,93,54,15,84,22,99,47,10,96,4,84,19,85,73,45,25,16,8,94,99,39,28,26,68,87,48,1,65,86,46,86,7,60,82,45,75,38,56,41,35,30,86,91,97,85,45,5,14,69,85,96,37,18,26,16,38,16,1,44,94,85,58,60,20,5,47,52,41,50,71,43,42,67,64,38,65,83,99,78,96,33,20,98,24,6,2,25,16,16,44,63,24,68,56,49,91,15,59,99,27,43,34,28,36,45,1,10,19,54,26,75,17,88,96,63,24,71,93,72,97,66,87,18,86],this.randomCache={},this.rndIndex=0}nextRandom(e){let n,r=this.randomCache;return r[e]?n=r[e]:(n=this.random100.filter((n=>n<e)),r[e]=n),n[this.rndIndex++%n.length]}reset(){this.rndIndex=0}fromArray(e){return e[this.nextRandom(e.length)]}}RandomGenerator._$name="RandomGenerator";const _i=["Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.","Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.","Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.","Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui atione voluptatem sequi nesciunt.","Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.","Ut enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur?","Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?"];class DataGenerator{static reset(){this.rnd.reset(),this.rndTime.reset(),this.rndRating.reset()}static*generate(e,n=!1,r=1){const o=this,i=o.rnd,a=o.rndTime,l=o.rndRating,c=o.rndText,d=o.firstNames,u=o.surNames,p=o.teams,b=o.foods,g=o.colors,m=o.cities;for(let o=0;o<e;o++){const f=i.fromArray(d),v=i.fromArray(u),y=`${f} ${String.fromCharCode(65+o%25)} ${v}`,x=i.nextRandom(60)+1,C=new Date(2019,0,x),S=new Date(2019,0,x+i.nextRandom(30)+2),D={id:r>-1?o+r:void 0,title:"Row "+o,name:y,firstName:f,surName:v,city:i.fromArray(m),team:i.fromArray(m)+" "+i.fromArray(p),age:10+i.nextRandom(80),food:i.fromArray(b),color:i.fromArray(g),score:10*i.nextRandom(100),rank:i.nextRandom(100)+1,start:C,finish:S,time:DateHelper.getTime(a.nextRandom(24),5*a.nextRandom(12)),percent:i.nextRandom(100),done:i.nextRandom(100)<50,rating:l.nextRandom(5),relatedTo:Math.min(e-1,o+r+i.nextRandom(10)),notes:_i[c.nextRandom(7)+1]};n&&(D.rowHeight=5*i.nextRandom(!0===n?20:n)+20),yield D}}static generateData(e,n=!1,r=1,o=!0){o&&this.reset();const i=[],a=DataGenerator.overrideRowCount?DataGenerator.overrideRowCount:e,l=this.generate(a,n,r);for(let e=0;e<a;e++)i.push(l.next().value);return i}static generateRow(){return DataGenerator.generateData(1,!1,-1,!1)[0]}}Object.assign(DataGenerator,{rnd:new RandomGenerator,rndTime:new RandomGenerator,rndRating:new RandomGenerator,rndText:new RandomGenerator,cities:["Stockholm","Barcelona","Paris","Dubai","New York","San Francisco","Washington","Moscow"],firstNames:["Mike","Linda","Don","Karen","Doug","Jenny","Daniel","Melissa","John","Jane","Theo","Lisa","Adam","Mary","Barbara","James","David"],surNames:["McGregor","Ewans","Scott","Smith","Johnson","Adams","Williams","Brown","Jones","Miller","Davis","More","Wilson","Taylor","Anderson","Thomas","Jackson"],teams:["Lions","Eagles","Tigers","Horses","Dogs","Cats","Panthers","Rats","Ducks","Cougars","Hens","Roosters"],foods:["Pancake","Burger","Fish n chips","Carbonara","Taco","Salad","Bolognese","Mac n cheese","Waffles"],colors:["Blue","Green","Red","Yellow","Pink","Purple","Orange","Teal","Black"]}),DataGenerator._$name="DataGenerator";const Mi=["action","target","to","deltaX","deltaY","x","y","text"];class DemoBot extends(Events(Delayable())){static get defaultConfig(){return{repeat:!0,outerElement:document.body,callOnFunctions:!0}}construct(e){super.construct(e);const n=this;n.widget&&(n.outerElement=n.widget.element,n.widget.playingDemo=!0),EventHelper.playingDemo=!0,Object.assign(n,{prevTarget:null,currentStep:0,mouse:DomHelper.createElement({parent:n.outerElement,tag:"div",className:"simulated-mouse"}),timeoutId:null,innerIntervalId:null,mouseOutElements:[]}),n.intervalId=n.setInterval(n.nextStep.bind(n),1e3),n.outerElement.classList.add("b-playing-demo"),n.outerElement.addEventListener("click",(e=>{e.isTrusted&&n.abort()}))}doDestroy(){this.abort()}abort(e=!1){const n=this;n.mouse.style.top="-100px",n.clearInterval(n.intervalId),n.timeoutId&&n.clearTimeout(n.timeoutId),n.innerIntervalId&&n.clearInterval(n.innerIntervalId),n.outerElement.classList.remove("b-playing-demo"),n.widget&&(n.widget.playingDemo=!1),EventHelper.playingDemo=!1,n.trigger(e?"done":"abort")}triggerEvent(e,n,r){if(!e)return null;let o;if(n.startsWith("mouse")){const e=this.mouse.getBoundingClientRect();o=new MouseEvent(n,Object.assign({view:window,bubbles:!0,cancelable:!0,clientX:e.left,clientY:e.top},r||{}))}else o=document.createEvent("Event"),o.initEvent(n,!0,!1);return e.dispatchEvent(o),o}handleMouseMove(e,n){const r=this,o=r.mouse;o.classList.add("quick"),r.mouseDown&&o.classList.add("drag");const i=Rectangle.from(o,r.outerElement),a=i.x,l=i.y;let c=0,d=0;if(e.to)if("string"==typeof e.to){const n=r.outerElement.querySelector(e.to);if(n){const e=Rectangle.from(n,r.outerElement),o=e.x+e.width/2,i=e.y+e.height/2;c=(o-a)/10,d=(i-l)/10}}else e.to.x?c=(e.to.x-a)/10:(c=e.to[0]/10,d=e.to[1]/10);else e.deltaX?c=e.deltaX/10:e.x&&(c=(e.x-a)/10);e.deltaY&&(d=e.deltaY/10);let u=0;r.innerIntervalId=r.setInterval((()=>{if(r.shouldPause)return;9==u++&&(clearInterval(r.innerIntervalId),e.then&&e.then());const n=a+c*u,i=l+d*u;o.style.left=n+"px",o.style.top=i+"px";const p=o.getBoundingClientRect(),b=p.left,g=p.top,m=DomHelper.elementFromPoint(b,g);m!==r.prevTarget&&(r.prevTarget&&(r.mouseOutElements.push(r.prevTarget),DomHelper.isDescendant(r.mouseOutElements[0],m)||(r.mouseOutElements.forEach((e=>r.triggerEvent(e,"mouseout"))),r.mouseOutElements.length=0)),r.prevTarget=m,r.triggerEvent(m,"mouseover")),r.triggerEvent(m,e.action,{clientX:b,clientY:g})}),50)}getTarget(e){const n=this,r=e.target;return r?"function"==typeof r?r(e):document.querySelector(r):n.prevTarget||n.outerElement}normalizeStep(e){if(e.action)return"function"==typeof e.action?e.action(e):e;if("function"==typeof e)return e(),e;for(const n in e)Object.hasOwnProperty.call(e,n)&&!Mi.includes(n)&&(e.action=n.toLowerCase(),e.to=e[n]);return e.target||"string"!=typeof e.to&&"function"!=typeof e.to||(e.target=e.to),e}get isScrolling(){const e=this,n=e.outerElement.getBoundingClientRect(),r=e.lastTop&&n.top!==e.lastTop;return e.lastTop=n.top,r}get isInView(){const e=this.outerElement.getBoundingClientRect();return e.top<window.innerHeight&&e.bottom>0}get shouldPause(){return!this.isInView||this.isScrolling||document.hidden||!document.hasFocus()}nextStep(){const e=this;if(e.shouldPause)return;if(e.currentStep===e.steps.length){if(!e.repeat)return e.abort(!0);e.currentStep=0}0===e.currentStep&&e.trigger("initialize");const n=e.mouse,r=e.normalizeStep(e.steps[e.currentStep++]),o=e.getTarget(r),i=r.action;if(o&&i)if(n.className="simulated-mouse","mousemove"===i)e.handleMouseMove(r,o);else{if(o!==e.prevTarget){const r=Rectangle.from(o,e.outerElement);n.style.left=r.x+r.width/2+"px",n.style.top=r.y+r.height/2+"px"}"mousedown"===i&&(e.mouseDown=!0),"mouseup"===i&&(e.mouseDown=!1),e.timeoutId=e.setTimeout((()=>{if(e.prevTarget=o,n.classList.add(i),"type"===i){const e=Widget.fromElement(o),n=r.text.split("|");e.value=n[1===n.length||e.value!=n[0]?0:1]}else e.triggerEvent(o,i)}),"type"===i?100:550)}}}DemoBot._$name="DemoBot";const Ri=Object.prototype.hasOwnProperty;let Ii=null;class Default{constructor(e){this.formatter=e}format(e){return this.formatter.defaultFormat(e)}parse(e,n){return this.formatter.defaultParse(e,n)}resolvedOptions(){return null}}class Formatter{static get(e){if(null==e)return this.NULL;const n="string"==typeof e?e:JSON.stringify(e),r=this.cache;let o=r.get(n);return o||(Ii=n,o=new this(e),r.set(n,o)),o}static get cache(){return Ri.call(this,"_cache")&&this._cache||(this._cache=new Map)}static get NULL(){return Ri.call(this,"_null")?this._null:this._null=new this(null)}constructor(e){const n=this;if(n.cacheKey=Ii,Ii=null,n.initialize(),null===e)n.formatter=new Default(n);else{n.configure(e);for(const[e,r]of Object.entries(n.resolvedOptions()))null!=r&&e in n.defaults&&(n[e]=r)}}get parser(){return function setParser(e,n){return Object.defineProperty(e,"parser",{value:n}),n}(this,new this.constructor.Parser(this))}defaultFormat(e){return null==e?e:String(e)}defaultParse(e){return e}format(e){return null==e?e:this.formatter.format(e)}parse(e,n){return null==e?e:this.parser.parse(e,n)}parseStrict(e){return this.parse(e,!0)}resolvedOptions(){return this.formatter.resolvedOptions()}}Formatter._$name="Formatter";const Fi=StringHelper.escapeRegExp,Ai=/[\d+-]/g,newFormatter=(e,n)=>new Intl.NumberFormat(e||void 0,n),Oi=/^(?:([$])\s*)?(?:(\d+)>)?\d+(,\d+)?(?:\.((\d*)(?:#*)|[*]))?(?:\s*([%])?)?$/;class NumberFormat extends Formatter{static get $name(){return"NumberFormat"}initialize(){this._as={},this.is={decimal:!1,currency:!1,percent:!1,null:!0,from:null}}get truncator(){const e=this.maximumFractionDigits;return null==e?null:this.as({style:"decimal",maximumFractionDigits:Math.min(20,e+1)},"truncator")}configure(e){const n=this;"string"!=typeof e?Object.assign(n,e):n.template=e;const r={},o=n.locale?Se.locales[n.locale]:Se.locale,i=o&&o.NumberFormat,a=n.template;if(i)for(const e in i)null==n[e]&&"function"!=typeof i[e]&&(n[e]=i[e]);if(a){const e=Oi.exec(a),r=e[2],o=e[4];n.useGrouping=!!e[3],n.style=e[1]?"currency":e[6]?"percent":"decimal",r&&(n.integer=+r),"*"===o?n.fraction=[0,20]:null!=o&&(n.fraction=[e[5].length,o.length])}n._minMax("fraction",!0,!0),n._minMax("integer",!0,!1),n._minMax("significant",!1,!0);for(const e in n.defaults)null!=n[e]&&(r[e]=n[e]);n.is.from=n.from&&n.from.is,n.is[n.style]=!(n.is.null=!1),n.formatter=newFormatter(n.locale,r)}as(e,n=null){const r=this.resolvedOptions()||{template:"9.*"},o=this._as;let i=n&&o[n];return i||("string"==typeof e?r.style=e:Object.assign(r,e),r.from=this,i=new NumberFormat(r)),n&&(o[n]=i),i}defaultParse(e,n){return null==e?e:n?Number(e):parseFloat(e)}format(e){if("string"==typeof e){const n=Number(e);e=isNaN(n)?this.parse(e):n}return super.format(e)}round(e){return this.parse(this.format(e))}truncate(e){const n=this,r=n.maximumFractionDigits,{truncator:o}=n;let i,a=n.parse(e);return o&&(a=o.format(a),i=a.indexOf(o.parser.decimal),i>-1&&a.length-i-1>r&&(a=a.substr(0,i+r+1)),a=o.parse(a)),a}resolvedOptions(){const e=super.resolvedOptions();for(const n in e)void 0===e[n]&&(e[n]=this[n]);return e}_minMax(e,n,r){const o=this,i=o[e];if(null!=i){const a=StringHelper.capitalize(e),l=`maximum${a}Digits`,c=`minimum${a}Digits`;"number"==typeof i?(n&&(o[c]=i),r&&(o[l]=i)):(o[c]=i[0],o[l]=i[1])}}}NumberFormat.Parser=class NumberParser{constructor(e){const n=this,r=e.locale,o=newFormatter(r,{maximumFractionDigits:3}),i=e.is.currency?n._decodeStyle(r,{style:"currency",currency:e.currency,currencyDisplay:e.currencyDisplay}):null,a=e.is.percent?n._decodeStyle(r,{style:"percent"}):null,l=o.format(1.2).replace(Ai,"")[0],c=o.format(1e9).replace(Ai,"")[0]||"";Object.assign(n,{currency:i,decimal:l,formatter:e,grouper:c,percent:a}),n.decimal=l,n.decimalRe=Fi(l,"g"),n.grouper=c,n.stripRe=new RegExp(`(?:\\s+|${Fi(c)})`+(i?`|(?:${Fi(i.text)})`:"")+(a?`|(?:${Fi(a.text)})`:""),"g")}decimalPlaces(e){const n=(e=e.replace(this.stripRe,"")).indexOf(this.decimal)+1;return n&&e.length-n}parse(e,n){return"string"==typeof e&&(e=e.replace(this.stripRe,"").replace(this.decimalRe,".").replace("","-"),e=n?Number(e):parseFloat(e),this.formatter.is.percent&&(e/=100)),e}_decodeStyle(e,n){const r=newFormatter(e,n),o=newFormatter(e,Object.assign(r.resolvedOptions(),{style:"decimal"})),i=r.format(0),a=o.format(0);return{suffix:i.startsWith(a),text:i.replace(a,"").trim()}}},Object.assign(NumberFormat.prototype,{defaults:{style:"decimal",currency:null,currencyDisplay:"symbol",locale:null,maximumFractionDigits:null,minimumFractionDigits:null,minimumIntegerDigits:null,maximumSignificantDigits:null,minimumSignificantDigits:null,useGrouping:!0},fraction:null,from:null,integer:null,significant:null,template:null}),Object.assign(NumberFormat.prototype,NumberFormat.prototype.defaults),Formatter.number=(e,n)=>NumberFormat.format(e,n),NumberFormat._$name="NumberFormat";var Finalizable=e=>class Finalizable extends(e||Base){static get $name(){return"Finalizable"}construct(...e){super.construct(...e),this.finalizer=null,this.finalizing=null,this.isFinalized=!1,this.isFinalizing=!1}doFinalize(){this.destroy()}finalize(){const e=this;let n=e.finalizing;return n||e.isFinalized||(e.isFinalizing=!0,e.finalizing=n=e._awaitFinalizer()),n}async _awaitFinalizer(){const e=this;try{await e.finalizer}finally{e.finalizing=null,e.isFinalized=!0,e.doFinalize()}}};const Pi=Symbol("dragAbort"),Hi=Symbol("dragInit"),qi=Symbol("dragDrag"),Li=Symbol("dragDrop"),ji={x:"horizontal",y:"vertical"};class DragContext extends(Base.mixin(Finalizable,Delayable,Identifiable)){static get configurable(){return{itemElement:null,scrollManager:null,monitoringConfig:null,source:null,target:null,targetElement:null,threshold:5,touchStartDelay:300}}static get identifiable(){return{}}construct(...e){super.construct(...e);const n=this,{event:r}=n;Object.assign(n,{altKey:null,cleaners:[],ctrlKey:null,data:new Map,element:r.target,endEvent:null,lastMoveEvent:null,metaKey:null,previousTarget:null,scrollerAction:null,shiftKey:null,state:Hi,startEvent:r,touchStartTimer:null,_valid:!0}),"touches"in r&&n.touchStartDelay&&(n.touchStartTimer=n.setTimeout((()=>n.touchStartTimer=null),n.touchStartDelay,"touchStartDelay")),EventHelper.on({element:window,blur:"onWindowBlur",thisObj:n})}doDestroy(){const e=this,{source:n,target:r}=e;e.cleanup(),(null==r?void 0:r.dropping)===e&&(r.dropping=null),(null==n?void 0:n.dragging)===e&&(n.dragging=null),super.doDestroy()}onWindowBlur(){this.started&&this.abort()}get aborted(){return this.state===Pi}get completed(){return this.isDestroying||this.aborted||null!==this.endEvent}get pending(){return this.state===Hi}get started(){return this.state!==Hi&&!this.aborted}get valid(){return this.started&&null!=this.targetElement&&this._valid}set valid(e){this._valid=e}async get(e){if(this.aborted)throw new Error("Data is not available on aborted drag");if(!this.completed)throw new Error("Data is not available until drag completion");if(Array.isArray(e))return Promise.all(e.map((e=>this.get(e))));let n=this.data.get(e);return"function"==typeof n&&(n=await n(),this.data.set(e,n)),n}has(e){return this.data.has(e)}peek(e){if(this.aborted)throw new Error("Data is not available on aborted drag");if(Array.isArray(e))return e.map((e=>this.peek(e)));let n=this.data.get(e);return"function"==typeof n&&(n=!0),n}set(e,n){this.data.set(e,n)}changeTarget(e,n){if(e!==n){const r=this;r._target=e,r.previousTarget=n,n&&(n.dropping=null),e&&(e.dropping=r,e.dropping!==r&&(e=null,r.valid=!1)),r._target=n}return e}updateTarget(e,n){const r=this;n&&r.source.dragLeaveTarget(r,n),e&&(r.valid=!0,e.dragMove(r),r.source.dragEnterTarget(r))}updateTargetElement(e){let n,r,o,i,a;for(a=e;a;a=a.parentElement)if(r=DomDataStore.get(a,"droppables"),r)for(i=0;i<r.length;++i)if(n=r[i],n.dropRootElement.contains(e)&&(o=n.droppableSelector,(!o||e.closest(`#${DomHelper.getId(n.dropRootElement)} ${o}`))&&(this.target=n,this.target===n)))return}abort(){const e=this,{element:n,source:r}=e;null==n||n.getBoundingClientRect(),e.state!==Li&&(e.state=Pi,e.cleanup()),null==r||r.endDrag(e)}begin(){const e=this,{source:n}=e,r=n.beforeDrag(e);return!1!==r&&(n.dragging=e),r}cleanup(){let e;for(;e=this.cleaners.pop();)e()}end(e){const n=this,{lastMoveEvent:r,target:o}=n,{dragSwallowClickTime:i}=n.source;n.event=n.endEvent=e,n.syncFlags(),n.started&&((null==r?void 0:r.clientX)===e.clientX&&(null==r?void 0:r.clientY)===e.clientY&&(null==r?void 0:r.target)===e.target||n.track(),i&&EventHelper.on({element:document,capture:!0,expires:i,once:!0,click(e){e.stopPropagation()}}),n.state=Li,o!==n.source&&(null==o||o.dragDrop(n)))}fakeKey(e,n){const r=this,{lastMoveEvent:o}=r;if(o&&r.element){let i;o.isKey=!0,"Alt"===e.key?r.altKey!==n&&(r.altKey=n,i=!0):"Control"===e.key&&r.ctrlKey!==n&&(r.ctrlKey=n,i=!0),i&&(r.event=o,r.track())}}keyDown(e){this.completed||("Escape"===e.key?this.abort():this.isDragToggleKey(e.key)&&this.fakeKey(e,!0))}keyUp(e){!this.completed&&this.isDragToggleKey(e.key)&&this.fakeKey(e,!1)}getDistance(e){return EventHelper.getDistanceBetween(this.startEvent,e)}isDragToggleKey(e){return"Control"===e||"Alt"===e}move(e){const n=this,{target:r}=e,o=n.getDistance(e)>=n.threshold;if(n.syncFlags(),n.touchStartTimer)o&&n.abort();else if(r&&r.nodeType===Node.ELEMENT_NODE){if(o&&!n.started&&(n.event=e,!1===n.start()))return void n.abort();n.started&&(n.lastMoveEvent=n.event=e,"touchmove"===e.type&&(e.preventDefault(),e.stopImmediatePropagation()),n.track())}}start(){const e=this,{scrollManager:n,monitoringConfig:r,source:o}=e,{draggingBodyCls:i,dragLock:a}=o,l=o.dragRootElement;if(e.state=qi,n){const o=n.startMonitoring(Objects.merge({scrollables:[{element:l}],direction:ji[a]||a||"both",callback(n){const{lastMoveEvent:r}=e;r&&e.element&&(r.isScroll=!0,e.event=r,e.scrollerAction=n,e.track(),e.scrollerAction=null)}},r));e.cleaners.push(o)}const c=o.dragRootElement.closest(".b-outer")||document.body;if(c.classList.add(i),e.cleaners.push((()=>c.classList.remove(i))),!1===o.startDrag(e))return e.cleanup(),!1}syncFlags(){const e=this,{event:n}=e;e.altKey=n.altKey,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.shiftKey=n.shiftKey}track(){const e=this,{event:n,source:r,target:o}=e;let i,a=n.target;"touchmove"===n.type&&(i=n.changedTouches[0],a=DomHelper.elementFromPoint(i.clientX,i.clientY)),e.targetElement=a,o===e.target&&(null==o||o.dragMove(e)),r.trackDrag(e)}}DragContext.prototype.STATE=DragContext.STATE=Object.freeze({ABORTED:Pi,INIT:Hi,DRAGGING:qi,DROPPED:Li}),DragContext._$name="DragContext";class DragProxy extends(Base.mixin(Factoryable)){static get type(){return"default"}static get configurable(){return{dragging:null}}static get factoryable(){return{defaultType:DragProxy}}updateDragging(e,n){n&&this.close(n),e&&this.open(e)}close(e){}open(e){}dragStart(e){this.dragging=e}dragMove(e){}dragEnd(e){this.dragging=null}}DragProxy.initClass(),DragProxy._$name="DragProxy";var Draggable=e=>class Draggable extends(e||Base){static get $name(){return"Draggable"}static get configurable(){return{dragging:{$config:"nullify",value:null},draggingClsSelector:null,dragDocumentListeners:{element:document,keydown:"onDragKeyDown",keyup:"onDragKeyUp",contextmenu:"onDragContextMenu",mousemove:"onDragPointerMove",mouseup:"onDragPointerUp",pointerup:"onDragPointerUp",touchend:"onDragPointerUp",touchmove:{handler:"onDragPointerMove",passive:!1}},dragItemSelector:null,dragItemOverCls:null,dragLock:null,dragMinDistance:1,dragProxy:{$config:["lazy","nullify"],value:null},dragRootElement:{$config:"nullify",value:null},dragSameTargetDrop:!1,dragSelector:null,dragSwallowClickTime:50,dragThreshold:5,dragTouchStartDelay:300,dropTargetSelector:null,overItem:null,testConfig:{dragSwallowClickTime:BrowserHelper.isEdge?300:50}}}static get properties(){return{draggingCls:"b-draggable-active",draggingBodyCls:"b-draghelper-active",draggingItemCls:"b-dragging-item",draggingStartedCls:"b-draggable-started",draggableCls:"b-draggable"}}beforeDrag(e){const{dragRootElement:n,dragSelector:r}=this,o=r&&e.element.closest(r);return!r||Boolean(o&&o===n||n.contains(o))}dragStart(e){}dragOver(e){}dragEnterTarget(e){}dragLeaveTarget(e,n){}dragDrop(e){}dragEnd(e){}get activeDrag(){const{dragging:e}=this;return null!=e&&e.started&&!e.completed?e:null}get dragEventer(){return this.trigger?this:null}get draggingClassElement(){const{draggingClsSelector:e,dragRootElement:n}=this;return e?null==n?void 0:n.closest(e):n}beginDrag(e){const{draggingCls:n,draggingClassElement:r}=this;n&&r&&(r.classList.add(n),e.cleaners.push((()=>r.classList.remove(n))))}async endDrag(e){const n=this,{dragEventer:r,dragProxy:o}=n;e.valid&&await n.dragDrop(e),n.isDestroyed||(e.pending?e.destroy():(n.dragEnd(e),null==o||o.dragEnd(e),null==r||r.trigger(e.valid?"drop":"dragCancel",{drag:e,event:e.event}),n.finalizeDrag(e)))}async finalizeDrag(e){await e.finalize()}moveDrag(e){if(!1!==this.dragOver(e)){const{dragEventer:n,dragProxy:r}=this;null==r||r.dragMove(e),null==n||n.trigger("drag",{drag:e,event:e.event})}}setupDragContext(e){const n=this,{dragItemSelector:r,id:o}=n,{target:i}=e;return{event:e,id:o?`${o}-drag-${n._nextDragId=(n._nextDragId||0)+1}`:null,itemElement:r?i.closest(r):i,touchStartDelay:n.dragTouchStartDelay,source:n,threshold:n.dragThreshold}}startDrag(e){const{draggingStartedCls:n,draggingClassElement:r,draggingItemCls:o,dragEventer:i,dragProxy:a}=this,{itemElement:l}=e;if(!1===(null==i?void 0:i.trigger("beforeDragStart",{drag:e,event:e.event})))return!1;n&&r&&(r.classList.add(n),e.cleaners.push((()=>r.classList.remove(n)))),o&&l&&(l.classList.add(o),e.cleaners.push((()=>l.classList.remove(o)))),null==a||a.dragStart(e);const c=this.dragStart(e);return!1!==c&&(null==i||i.trigger("dragStart",{drag:e,event:e.event})),c}trackDrag(e){var n;const{dropTargetSelector:r}=this;e.valid=!(r&&(null===(n=e.targetElement)||void 0===n||!n.closest(r))),this.moveDrag(e)}configureListeners(e){const n=ObjectHelper.assign({thisObj:this},this.dragDocumentListeners);return"touches"in e.startEvent?(delete n.mousemove,delete n.mouseup):(delete n.contextmenu,delete n.touchmove,delete n.touchend,delete n.pointerup),n}updateDragging(e){const n=this;if(e){const r=n.configureListeners(e);e.cleaners.push(EventHelper.on(r)),n.beginDrag(e)}}changeDragProxy(e,n){return DragProxy.reconfigure(n,e,{owner:this,defaults:{owner:this}})}updateDragRootElement(e,n){var r;const o=this,{draggableCls:i,dragItemSelector:a,onDragItemMouseMove:l}=o;if(null==n||n.classList.remove(i),null===(r=o._dragRootDetacher)||void 0===r||r.call(o),e){const n={thisObj:o,element:e,mousedown:"onDragMouseDown",touchstart:"onDragTouchStart",pointerdown:e=>{var n,r;return e.pointerId&&(null===(n=(r=e.target).releasePointerCapture)||void 0===n?void 0:n.call(r,e.pointerId))}};l&&(n.mousemove={delegate:a,handler:"onDragItemMouseMove"}),(o.dragItemOverCls||l||o.onDragItemMouseEnter||o.onDragItemMouseLeave)&&Object.assign(n,{mouseover:{delegate:a,handler:"onDragItemMouseOver"},mouseout:{delegate:a,handler:"onDragItemMouseOut"}}),e.classList.add(i),o._dragRootDetacher=EventHelper.on(n)}}onDragItemMouseOver(e){this.overItem=e}onDragItemMouseOut(e){this.dragging||(this.overItem=e)}changeOverItem(e){var n;return this.enterLeaveEvent=e,"mouseout"===e.type?(null===(n=e.relatedTarget)||void 0===n?void 0:n.closest(this.dragItemSelector))||null:e.target.closest(this.dragItemSelector)}updateOverItem(e,n){const r=this,{dragItemOverCls:o}=r;var i,a;n&&(o&&n.classList.remove(o),null===(i=r.onDragItemMouseLeave)||void 0===i||i.call(r,r.enterLeaveEvent,n));e&&(o&&e.classList.add(o),null===(a=r.onDragItemMouseEnter)||void 0===a||a.call(r,r.enterLeaveEvent,e))}onDragContextMenu(e){e.preventDefault()}onDragKeyDown(e){this.dragging.keyDown(e)}onDragKeyUp(e){this.dragging.keyUp(e)}onDragMouseDown(e){0===e.button&&this.onDragPointerDown(e)}onDragPointerDown(e){let{dragging:n}=this;n?n.isFinalizing||n.abort():(n=this.setupDragContext(e),n&&(n=new DragContext(n),!1===n.begin()&&n.destroy()))}changeDragging(e,n){return null==n||n.destroy(),e}onDragPointerMove(e){const{dragging:n}=this;n&&!n.completed&&(null==n||n.move(e))}onDragPointerUp(e){const{dragging:n}=this;n&&!n.completed&&(n.end(e),this.endDrag(n))}onDragTouchStart(e){1===e.touches.length&&this.onDragPointerDown(e)}},Droppable=e=>class Droppable extends(e||Base){static get $name(){return"Droppable"}static get configurable(){return{droppableSelector:null,dropping:null,dropRootElement:{$config:"nullify",value:null}}}get dropEventer(){return this.trigger?this:null}get droppableCls(){return"b-droppable"}dragEnter(e){var n;return null===(n=this.dropEventer)||void 0===n?void 0:n.trigger("dragEnter",{drag:e,event:e.event})}dragMove(e){var n;return null===(n=this.dropEventer)||void 0===n?void 0:n.trigger("dragMove",{drag:e,event:e.event})}dragDrop(e){var n;return null===(n=this.dropEventer)||void 0===n?void 0:n.trigger("drop",{drag:e,event:e.event})}dragLeave(e){var n;return null===(n=this.dropEventer)||void 0===n?void 0:n.trigger("dragLeave",{drag:e,event:e.event})}changeDropping(e,n){if(e!==n){const r=this;n&&(!n.aborted&&n.completed||r.dragLeave(n)),e&&(r._dropping=e,!1===r.dragEnter(e)&&(e=null),r._dropping=n)}return e}updateDropRootElement(e,n){const r=this,{droppableCls:o}=r;let i,a,l;n&&(i=DomDataStore.get(n,"droppables"),l=!0,Array.isArray(i)&&(a=i.indexOf(r))>-1&&(i.length<2?DomDataStore.remove(n,"droppables"):(i.splice(a,1),i.forEach((e=>{o===e.droppableCls&&(l=!1)})))),l&&n.classList.remove(o)),e&&(i=DomDataStore.get(e,"droppables"),i?i.push(r):DomDataStore.set(e,"droppables",[r]),e.classList.add(o))}},Featureable=e=>class Featureable extends(e||Base){static get $name(){return"Featureable"}static get configurable(){return{features:null}}static get declarable(){return["featureable"]}static setupFeatureable(e){const n=_objectSpread2({ownerName:"client"},e.featureable);n.factory.initClass(),Reflect.defineProperty(e,"featureable",{get:()=>n})}doDestroy(){const e=this.features;super.doDestroy();for(const r in e){var n;const o=e[r];null===(n=o.destroy)||void 0===n||n.call(o)}}hasFeature(e){var n;return Boolean(null===(n=this.features)||void 0===n?void 0:n[e])}changeFeatures(e,n){if(this.isDestroying)return;const r=this,{featureable:o}=r.constructor,i=r.$features||(r.$features=new DynamicObject({configName:"features",factory:o.factory,owner:r,ownerName:o.ownerName}));return i.update(e),n?void 0:i.target}get widgetClass(){}};const Ni="b-hover-edge",$i="b-hover-top",Bi="b-hover-right",zi="b-hover-bottom",Vi="b-hover-left",Wi={[Ni]:1,[$i]:1,[Bi]:1,[zi]:1,[Vi]:1},Ui={t:[Ni,$i],r:[Ni,Bi],b:[Ni,zi],l:[Ni,Vi],tr:[Ni,$i,Bi],bl:[Ni,zi,Vi],tl:[Ni,$i,Vi],br:[Ni,zi,Bi]};var Hoverable=e=>class Hoverable extends(e.mixin(Delayable)){static get $name(){return"Hoverable"}static get configurable(){return{hoverCls:null,hoverAnimationCls:null,hoverRootCls:null,hoverRootActiveCls:null,hoverDelay:null,hoverElement:null,hoverIgnoreElement:null,hoverEdges:null,hoverEdgeSize:10,hoverRootElement:{$config:"nullify",value:null},hoverSelector:null,hoverTarget:{$config:"nullify",value:null},hoverTrack:null,hoverZone:null}}static get delayable(){return{setHoverTarget:0}}hoverEnter(e){}hoverIgnore(e){var n;return null===(n=this.hoverIgnoreElement)||void 0===n?void 0:n.contains(e)}hoverLeave(e){}hoverMove(e){}onHoverMouseMove(e){const n=this,{hoverEdges:r,hoverEdgeSize:o,hoverTarget:i}=n;if(i){if(r){const{top:a,left:l,width:c,height:d,right:u,bottom:p}=i.getBoundingClientRect(),{clientX:b,clientY:g}=e,m=l+c/2,f=a+d/2,v=g<(o?a+o:f),y=b>=(o?u-o:m),x=v||g>=(o?p-o:f)?v?"t":"b":"",C=y||b<(o?l+o:m)?y?"r":"l":"";n.hoverZone=(r.includes(x)?x:"")+(r.includes(C)?C:"")}n.hoverEvent=e,n.hoverTrack&&n.hoverMove(e)}}onHoverMouseOver(e){this.hoverEvent=e,this.hoverElement=e.target}onHoverMouseOut(e){this.hoverEvent=e,this.hoverElement=e.relatedTarget}updateHoverDelay(e){this.setHoverTarget.delay=e}changeHoverEdges(e){return!0===e?"trbl":(e||"").replace("v","tb").replace("h","lr")}updateHoverEdges(){this.syncHoverListeners()}changeHoverElement(e){if(!this.hoverIgnore(e))return e}updateHoverElement(e){const{hoverSelector:n}=this;var r;n&&(e=null===(r=e)||void 0===r?void 0:r.closest(n));this.setHoverTarget(e)}updateHoverRootElement(e,n){const{hoverRootCls:r}=this;r&&(null==n||n.classList.remove(r),null==e||e.classList.add(r)),this.syncHoverListeners()}changeHoverTarget(e,n){return n&&(this.hoverZone=null),e}updateHoverTarget(e,n){const r=this,{hoverCls:o,hoverAnimationCls:i,hoverRootActiveCls:a,hoverRootElement:l}=r;a&&(null==l||l.classList[e?"add":"remove"](a)),n&&(o&&n.classList.remove(o),i&&n.classList.remove(i),r.hoverLeave(n)),e&&(o&&e.classList.add(o),r.hoverEnter(n),r.hoverTrack&&r.hoverMove(r.hoverEvent),i&&(e.getBoundingClientRect(),e.classList.add(i)))}updateHoverTrack(){this.syncHoverListeners()}updateHoverZone(e){const{hoverAnimationCls:n,hoverTarget:r}=this;if(r){const{className:o}=r,i=DomClassList.change(o,e?Ui[e]:null,Wi);o!==i&&(r.className=i,e&&n&&(r.classList.remove(n),r.getBoundingClientRect(),r.classList.add(n)))}}setHoverTarget(e){this.hoverTarget=e}syncHoverListeners(){var e;const n=this,r=n.hoverRootElement,o={element:r,thisObj:n,mouseover:"onHoverMouseOver",mouseout:"onHoverMouseOut"};(n.hoverTrack||n.hoverEdges)&&(o.mousemove="onHoverMouseMove"),null===(e=n._hoverRootDetacher)||void 0===e||e.call(n),n._hoverRootDetacher=r&&EventHelper.on(o)}},LoadMaskable=e=>class LoadMaskable extends e{static get $name(){return"LoadMaskable"}static get configurable(){return{loadMaskDefaults:{useTransition:!0,showDelay:1e3},loadMaskError:{icon:"b-icon b-icon-warning",autoClose:3e3,showDelay:0},loadMask:{text:"L{GridBase.loadMask}"},syncMask:{text:"L{GridBase.syncMask}"},localizableProperties:["loadMask.text","syncMask.text"]}}applyLoadMask(){const e=this,{loadMask:n}=e;n&&(e.masked=Mask.mergeConfigs(e.loadMaskDefaults,n))}applyMaskError(e){const{loadMaskError:n,masked:r}=this;r&&(ObjectHelper.assign(r.errorDefaults,n),r.error=e)}get widgetClass(){}};const Gi={constructor:1,prototype:1,name:1,length:1,arguments:1,caller:1,callee:1,__proto__:1};class Override{static apply(e){if(!e.target)throw new Error("Override must specify what it overrides, using static getter target");if(!e.target.class)throw new Error("Override must specify which class it overrides, using target.class");if(!this.shouldApplyOverride(e))return!1;const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(e.prototype);return n.splice(n.indexOf("target"),1),this.internalOverrideAll(e.target.class,n,e),this.internalOverrideAll(e.target.class.prototype,r,e.prototype),!0}static internalOverrideAll(e,n,r){Reflect.ownKeys(r).forEach((o=>{if(n.includes(o)&&!Gi[o]){const n=Object.getOwnPropertyDescriptor(r,o);let i=e,a=null;for(;!a&&i;)a=Object.getOwnPropertyDescriptor(i,o),a||(i=Object.getPrototypeOf(i));a&&this.internalOverride(i,o,n,a)}}))}static internalOverride(e,n,r,o){(e._overridden=e._overridden||{})[n]=e[n],o.get?Object.defineProperty(e,n,{enumerable:!1,configurable:!0,get:r.get}):e[n]=r.value}static shouldApplyOverride(e){const n=e.target;if(!n.maxVersion&&!n.minVersion)return!0;if(!n.product)throw new Error("Override must specify product when using versioning");return(!n.maxVersion||!VersionHelper[n.product].isNewerThan(n.maxVersion))&&(!n.minVersion||!VersionHelper[n.product].isOlderThan(n.minVersion))}}Override._$name="Override";class ScrollManager extends(Delayable(Base)){static get configurable(){return{element:null,zoneWidth:50,scrollSpeed:5,direction:"both",startScrollDelay:500,stopScrollWhenPointerOut:!1,testConfig:{scrollSpeed:2,startScrollDelay:0},activeScroll:{$config:["lazy"],value:{}},monitoring:{$config:["lazy","nullify"],value:!0}}}changeMonitoring(e,n){return null==n||n.clear(),new Map}doDestroy(){this.stopMonitoring(),super.doDestroy()}get isScrolling(){return 0!==Object.keys(this.activeScroll).length}startMonitoring(e={}){const n=this,{element:r,direction:o}=n,{scrollables:i=[],direction:a=o,callback:l}=e,c=[];return e.element&&(VersionHelper.deprecate("core","5.0.0","`element` config is deprecated, please use `scrollables` instead."),i.push({element:e.element})),i.length||i.push({element:r}),i.forEach((e=>{const o=e.element;"string"==typeof o?DomHelper.forEachSelector(r,o,(r=>{n.createMonitor(r,e.direction||a,e.callback||l),c.push(r)})):(n.createMonitor(o,e.direction||a,e.callback||l),c.push(o))})),function detacher(){var e;null===(e=n.stopMonitoring)||void 0===e||e.call(n,c)}}createMonitor(e,n,r){const{monitoring:o}=this;o.has(e)||o.set(e,new ScrollManagerMonitor({scrollManager:this,element:e,direction:n,callback:r}))}stopMonitoring(e){const n=this,{monitoring:r}=n;if(e&&!Array.isArray(e)&&(e=[e]),r){if(!e)return void r.forEach((e=>n.stopMonitoring(e.element)));e.forEach((e=>{const n=r.get(e);n&&(n.destroy(),r.delete(e))}))}}requestScroll(e,n){const{activeScroll:r}=this;return(!(e in r)||r[e]===n)&&(r[e]=n,!0)}releaseScroll(e){const{activeScroll:n={}}=this;Object.keys(n).forEach((r=>{n[r]===e&&delete n[r]}))}getRelativeScroll(e,n="left"){let r=0;return this.monitoring.forEach(((o,i)=>{DomHelper.isDescendant(i,e)&&(r+="left"===n?o.scrollRelativeLeft:o.scrollRelativeTop)})),r}}class ScrollManagerMonitor extends Base{construct(e){const{element:n}=e,r=n.scrollLeft,o=n.scrollTop;Object.assign(e,{startScrollLeft:r,startScrollTop:o}),super.construct(e),EventHelper.on({element:n,scroll:"onElementScroll",mousemove:"onMouseMove",touchmove:"onMouseMove",capture:!0,thisObj:this}),EventHelper.on({element:n,pointerleave:"onPointerLeave",thisObj:this})}doDestroy(){this.stopScroll(),super.doDestroy()}startScroll(){this.scrolling=!0,this.performScroll()}stopScroll(){const e=this;e.scrolling=!1,e.scrollRequested&&(e.scrollManager.cancelAnimationFrame(e.frameId),e.scrollRequested=!1),e.scrollManager.clearTimeout(e.scrollTimeout),e.scrollManager.releaseScroll(e),e.scrollTimeout=null}onPointerLeave(){this.scrollManager.stopScrollWhenPointerOut&&this.stopScroll()}onMouseMove(e){const n=this,{scrollManager:r}=n,o=n.element.getBoundingClientRect(),i=r.zoneWidth,a=r.scrollSpeed;if(n.scrollDeltaX=n.scrollDeltaY=0,"vertical"!==n.direction){const{scrollLeft:r,scrollWidth:l,clientWidth:c}=n.element;e.clientX>o.right-i&&l-r-c>=1?n.scrollDeltaX=Math.round((i-(o.right-e.clientX))/a)+1:e.clientX<o.left+i&&r>0&&(n.scrollDeltaX=-Math.round((i+(o.left-e.clientX))/a)-1)}if("horizontal"!==n.direction){const{scrollTop:r,scrollHeight:l,clientHeight:c}=n.element;e.clientY>o.bottom-i&&l-r-c>=1?n.scrollDeltaY=Math.round((i-(o.bottom-e.clientY))/a)+1:e.clientY<o.top+i&&r>0&&(n.scrollDeltaY=-Math.round((i+(o.top-e.clientY))/a)-1)}0===n.scrollDeltaX||r.requestScroll("horizontal",n)||(n.scrollDeltaX=0),0===n.scrollDeltaY||r.requestScroll("vertical",n)||(n.scrollDeltaY=0),0===n.scrollDeltaX&&0===n.scrollDeltaY?n.stopScroll():n.scrollTimeout||(n.scrollTimeout=r.setTimeout((()=>n.startScroll()),r.startScrollDelay))}performScroll(){const e=this,{element:n}=e;if(e.scrolling&&!e.scrollRequested){if(0!==e.scrollDeltaX){const r=n.scrollLeft,o=Math.min(r+e.scrollDeltaX,n.scrollWidth-n.clientWidth);o!==r&&(n.scrollLeft=o)}if(0!==e.scrollDeltaY){const r=n.scrollTop,o=Math.min(r+e.scrollDeltaY,n.scrollHeight-n.clientHeight);o!==r&&(n.scrollTop=o)}e.scrollRequested=!0,e.frameId=e.scrollManager.requestAnimationFrame((()=>{e.scrollRequested=!1,e.performScroll(e)}))}}onElementScroll(){var e,n;null===(e=this.config)||void 0===e||null===(n=e.callback)||void 0===n||n.call(this.thisObj||this.scrollManager,this)}get scrollLeft(){return this.element.scrollLeft}get scrollTop(){return this.verticalElement?this.verticalElement.scrollTop:this.element.scrollTop}get scrollRelativeLeft(){return this.scrollLeft-this.startScrollLeft}get scrollRelativeTop(){return this.scrollTop-this.startScrollTop}getRelativeLeftScroll(e){return this.scrollManager.getRelativeScroll(e,"left")}getRelativeTopScroll(e){return this.scrollManager.getRelativeScroll(e,"top")}}ScrollManager._$name="ScrollManager";const Yi={left:!0,right:!0,top:!0,bottom:!0,transform:!0},Ki={true:1,false:1},Xi=Promise.resolve();class Tooltip extends Popup{static get $name(){return"Tooltip"}static get type(){return"tooltip"}static get configurable(){return{mouseOffsetX:15,mouseOffsetY:15,floating:!0,getHtml:null,forElement:null,trackMouse:null,updateContentOnMouseMove:!1,forSelector:null,hideOnDelegateChange:null,anchorToTarget:!0,showOnHover:!1,hoverDelay:500,autoShow:!1,dismissDelay:0,hideDelay:500,loadingMsg:"Loading...",allowOver:!1,anchor:!0,align:{align:"b-t",minHeight:300},axisLock:!0,testConfig:{hideDelay:100,hoverDelay:100,showAnimation:null,hideAnimation:null}}}afterConfigure(){const e=this,{forSelector:n}=e;n&&(e.showOnHover=!0,e.forElement||(e.anchorToTarget||(e.trackMouse=!0),e.forElement=e.rootElement.host||e.rootElement)),super.afterConfigure(),e.forElement&&e.showOnHover&&(e.pointerOverOutDetacher=EventHelper.on({element:e.forElement,pointerover:"internalOnPointerOver",pointerout:"internalOnPointerOut",thisObj:e})),e.allowOver&&EventHelper.on({element:e.element,mouseenter:"onOwnElementMouseEnter",mouseleave:"internalOnPointerOut",thisObj:e})}doDestroy(){this.pointerOverOutDetacher&&this.pointerOverOutDetacher(),super.doDestroy()}set focusOnToFront(e){super.focusOnToFront=e}get focusOnToFront(){return super.focusOnToFront&&DomHelper.usingKeyboard}get focusElement(){const e=super.focusElement;if(e!==this.element)return e}get anchorToTarget(){return this._anchorToTarget&&!this.trackMouse}get anchor(){return super.anchor&&!this.trackMouse}set anchor(e){super.anchor=e}onDocumentMouseDown({event:e}){const n=this,{triggeredByEvent:r}=n;r&&DomHelper.isTouchEvent&&e.pageX===r.pageX&&e.pageY===r.pageY&&n.activeTarget.contains(e.target)&&performance.now()-r.timeStamp<500||(n.abortDelayedShow(),super.onDocumentMouseDown({event:e}))}internalOnPointerOver(e){const n=this,r=n.forElement,o=n.forSelector,i=n.activeTarget;let a;if(!(n.disabled||n.owner&&!n.owner.showTooltipWhenDisabled&&n.owner.disabled||n.allowOver&&n.element.contains(e.target))){if(o){if(i&&i.contains(e.target)&&i.contains(e.relatedTarget))return;if(a=e.target.closest(o),a&&e.relatedTarget&&e.relatedTarget.closest(o)===a)return}else{if(r.contains(e.relatedTarget))return;a=r}a?n.handleForElementOver(e,a):i&&n.handleForElementOut()}}onTransitionEnd(e){const n=this,r=Tooltip.currentOverElement;if(Yi[e.propertyName]){if(n.allowOver&&n.element.contains(r))return;n.activeTarget&&n.activeTarget.contains(r)&&!n.trackMouse&&n.realign()}}async handleForElementOver(e,n){const r=this,{activeTarget:o,hideOnDelegateChange:i}=r,a=n!==o,l=a&&i;if(!1===r.trigger("pointerOver",{event:e,target:n}))r.internalOnPointerOut(e);else{if(r.triggeredByEvent=e,r.hasTimeout("hide")&&(r.abortDelayedHide(),!a))return;if(!i&&r.element.classList.contains("b-hiding")&&r.cancelHideShowAnimation(),!r._hidden&&l&&r.hide(!1),r.updateActiveTarget(n),r.isVisible){const e=r.updateContent();if(Objects.isPromise(e)&&!r.loadingMsg&&await e,!1===r.trigger("beforeShow"))return r.hide();r.alignTo({target:r.anchorToTarget?n:new Point(r.triggeredByEvent.pageX-window.pageXOffset+r.mouseOffsetX,r.triggeredByEvent.pageY-window.pageYOffset+r.mouseOffsetY),overlap:!(r.anchorToTarget&&r.anchor)}),r.trigger("show"),r.afterShowByTarget()}else r.delayShow(n)}}async delayShow(e){var n;const r=this;if(null!==(n=r.currentAnimation)&&void 0!==n&&n.showing&&r.cancelHideShowAnimation(),r.isVisible||r.hasTimeout("show"))r.isVisible&&r.showByTarget(e);else if(!r.hoverDelay||r.forSelector&&Date.now()-r.lastHidden<r.quickShowInterval){const n=r.updateContent();Objects.isPromise(n)&&!r.loadingMsg&&await n,r.showByTarget(e)}else r.addDocumentMouseDownListener(),r.listeningForMouseMove||r.anchorToTarget||(r.mouseMoveRemover=EventHelper.on({element:r.rootElement,mousemove:"onMouseMove",thisObj:r})),r.setTimeout((async()=>{if(!DomHelper.isOrphaned(e)){const n=r.updateContent();Objects.isPromise(n)&&!r.loadingMsg&&await n,r.showByTarget(e)}}),r.triggeredByEvent&&"pointerover"!==r.triggeredByEvent.type?0:r.hoverDelay,"show")}updateContent(){const e=this;if(e.getHtml){e._html=null;const n=e.callback(e.getHtml,e,[{tip:e,element:e.element,activeTarget:e.activeTarget,event:e.triggeredByEvent}]);return e.html=n,n}}get hasContent(){return Boolean(""!==this._html&&"string"==typeof this.html&&this.html.length||this.items.length)}internalBeforeShow(){return(this.updateContentOnMouseMove||this.hasContent)&&!this.disabled}showAsyncMessage(e=this.optionalL(this.loadingMsg)){e&&(this.html=`\n                <div class="b-tooltip-loading">\n                    <i class="b-icon b-icon-spinner"></i>\n                    ${e}\n                </div>\n            `)}showByTarget(e){const n=this;n.mouseMoveRemover&&(n.mouseMoveRemover(),n.mouseMoveRemover=null),n.showBy({target:n.anchorToTarget?e:new Point(n.triggeredByEvent.pageX-window.pageXOffset+n.mouseOffsetX,n.triggeredByEvent.pageY-window.pageYOffset+n.mouseOffsetY),overlap:!(n.anchorToTarget&&n.anchor)})}afterShowByTarget(){const e=this,n=e.dismissDelay;e.abortDelayedShow(),n&&e.setTimeout("hide",n),e.toFront()}updateActiveTarget(e){const n=this,r=n.activeTarget;n.activeTarget=e,n.isConfiguring||n.trigger("overtarget",{newTarget:e,lastTarget:r})}internalOnPointerOut(e){const n=this,r=e.relatedTarget;n.allowOver&&n.element.contains(r)||n.element.contains(e.target)&&n.activeTarget&&n.activeTarget.contains(r)||n.activeTarget&&!n.activeTarget.contains(r)&&n.handleForElementOut()}handleForElementOut(){const e=this,{hideDelay:n}=e;!1!==e.trigger("pointerOut")?(e.abortDelayedShow(),e.isVisible&&!1!==n&&(e.abortDelayedHide(),n>0?e.setTimeout("hide",n):e.hide())):e.activeTarget=null}show(){const e=this;e.forElement&&e.anchorToTarget&&!e.forSelector&&!e.inShowBy?e.showByTarget(e.forElement):(e.inShowBy&&(e.y=-1e4),super.show()),e.afterShowByTarget(),e.mouseMoveRemover||e._hidden||!e.trackMouse&&!e.updateContentOnMouseMove||(e.mouseMoveRemover=EventHelper.on({element:e.rootElement,[BrowserHelper.supportsPointerEvents?"pointermove":"touchmove"]:"onMouseMove",thisObj:e})),!e.forElement||e.transitionEndDetacher||e._hidden||(e.transitionEndDetacher=EventHelper.on({element:e.forElement,transitionend:"onTransitionEnd",thisObj:e}))}hide(...e){const n=this;if(n.abortDelayedShow(),n.isVisible){n.abortDelayedHide();const r=super.hide(...e);return n.lastHidden=Date.now(),n.activeTarget=null,n.mouseMoveRemover&&(n.mouseMoveRemover(),n.mouseMoveRemover=null),n.transitionEndDetacher&&(n.transitionEndDetacher(),n.transitionEndDetacher=null),n.listeningForMouseMove=!1,r}return Xi}abortDelayedShow(){const e=this;e.hasTimeout("show")&&(e.mouseDownRemover&&(e.mouseDownRemover(),e.mouseDownRemover=null),e.clearTimeout("show"),e.mouseMoveRemover&&(e.mouseMoveRemover(),e.mouseMoveRemover=null),e.transitionEndDetacher&&(e.transitionEndDetacher(),e.transitionEndDetacher=null))}abortDelayedHide(){this.clearTimeout("hide")}realign(){const e=this,n=e.lastAlignSpec;e.isConfiguring||e.isVisible||null==n||!n.targetOutOfView||(n.allowTargetOut||DomHelper.isInView(n.target,!1,e))&&(e.show(),n.targetOutOfView=!1),super.realign()}alignTo(e){const n=this;n.isVisible&&(!e||n.triggeredByEvent&&n.element.contains(n.triggeredByEvent.target)||e.nodeType===Node.ELEMENT_NODE&&(e={target:e}),super.alignTo(e))}changeHtml(e){const n=this;return!1===e?(VersionHelper.deprecate("Grid","5.0.0","Setting false to indicate loading is deprecated, in favor of `showAsyncMessage`. Please see https://bryntum.com/docs/grid/guide/Grid/upgrades/3.0.1 for more information"),void this.showAsyncMessage()):Objects.isPromise(e)?(n.showAsyncMessage(),e.target=n.activeTarget,void e.then((r=>{e.target===n.activeTarget&&(n.html=r)}))):("object"!=typeof e&&(e=null!=e?n.optionalL(String(e)):""),e)}updateHtml(e,n){const r=this;let o=""===e;o||(super.updateHtml(e,n),r.hasContent?(r.isVisible&&r.realign(),Objects.isPromise(e)||r.trigger("innerHtmlUpdate")):o=!0),o&&r.hide()}onMouseMove(e){const n=this,{forElement:r,activeTarget:o}=n,i=e.pageX-window.pageXOffset+n.mouseOffsetX,a=e.pageY-window.pageYOffset+n.mouseOffsetY,l=n.hasTimeout("hide"),c=e.target;if(n.triggeredByEvent=e,!n._hidden){let d;const u=!(null==o?void 0:o.contains(c))&&n.forSelector&&o&&!l&&c.nodeType===Node.ELEMENT_NODE&&!c.matches(n.forSelector)&&!(n.allowOver&&n.element.contains(c)),p=null!=r&&r.document?r.document.documentElement:r,b=p&&(p.contains?p.contains(c):16&p.compareDocumentPosition(c));if(u&&(d=n.handleForElementOut()),d||!l||b){if(n.dismissDelay&&!l&&n.setTimeout("hide",n.dismissDelay),n.updateContentOnMouseMove&&n.getHtml&&(n.html=n.callback(n.getHtml,n,[{tip:n,element:n.element,forElement:o,event:e}]),!n.html))return void n.hide();n.trackMouse&&n.alignTo({position:new Point(i,a),ignorePageScroll:!0})}}}onOwnElementMouseEnter(e){this.abortDelayedHide()}static getSharedTooltip(e,n){var r,o;let i=null===(r=e.bryntum)||void 0===r||null===(o=r.tooltip)||void 0===o?void 0:o.get(Tooltip);if(!i&&!n){var a;null!==(a=e.bryntum)&&void 0!==a&&a.tooltip||ObjectHelper.setPath(e,"bryntum.tooltip",new Map);const n=e.bryntum.tooltip;n.set(Tooltip,!0),i=new Tooltip({forElement:e,rootElement:e,forSelector:"[data-btip]",resetCfg:{},isShared:!0,cls:"b-tooltip-shared",listeners:{pointerOver({source:e,target:n}){for(const n in e.resetCfg)"listeners"===n?e.un(e.resetCfg[n].set):"html"!==n&&(e[n]=e.resetCfg[n].was);e.resetCfg={};const r=Widget.getById(n.id),o=(null==r?void 0:r.tipConfig)||e.gatherDataConfigs(n.dataset);if(r&&r.element!==n||!r&&n.matches(".b-widget")||null!=r&&r.disabled&&!r.showTooltipWhenDisabled)return!1;e.owner=r;for(const n in o)e.resetCfg[n]={set:o[n],was:e[n]},"listeners"===n?e.on(o[n]):e[n]=o[n]},hide({source:e}){e.owner=null}},gatherDataConfigs(e){const n=this,r={};for(const o in e)if(o.startsWith("btip"))if(o.length>4){const i=StringHelper.uncapitalize(o.substr(4));if(i in n.getDefaultConfiguration()){const n=e[o];r[i]=Ki[n]?"true"===n:isNaN(n)?n:parseInt(n,10)}}else r.html=e[o];return r}}),EventHelper.on({element:e,mouseenter:e=>Tooltip.currentOverElement=e.target,capture:!0}),n.set(Tooltip,i)}return i}}Tooltip.initClass(),Object.defineProperty(Widget,"tooltip",{get:()=>Tooltip.getSharedTooltip(document.body)}),Widget.Tooltip=Tooltip,Tooltip._$name="Tooltip";class DragTipProxy extends DragProxy{static get type(){return"tip"}static get configurable(){return{align:"t10-b50",offset:20,tooltip:{$config:["lazy","nullify"],value:{type:"tooltip"}}}}open(){this.getConfig("tooltip")}close(){var e;null===(e=this.tooltip)||void 0===e||e.hide()}dragMove(e){const{offset:n,tooltip:r}=this,{event:o}=e;r&&(r.isVisible||r.show(),r.alignTo({align:this.align,target:new Rectangle(o.clientX-n,o.clientY-n,2*n,2*n)}))}changeTooltip(e,n){return Widget.reconfigure(n,e,this)}}DragTipProxy.initClass(),DragTipProxy._$name="DragTipProxy";const Qi=6e4,Zi=36e5,Ji=864e5,es=/(\d+)?:?(\d*)/;class DayTime{static format(e){const n=Math.floor(e/Zi),r=Math.floor(e/Qi)%60;return`${n}:${r<10?"0":""}${r}`}static parse(e){const n=typeof e;if("string"===n){const n=es.exec(e);e=Number(n[1]||0)*Zi+Number(n[2]||0)*Qi}else"number"!==n?e=DateHelper.getTimeOfDay(e):e<=24&&(e*=Zi);return Math.min(Math.max(Math.floor(e),0),Ji)}constructor(e){let n,r,o=0;null!=e&&e.isDayView?(o=e.dayStartShift,n=e.dayStartTime,r=e.dayEndTime):"number"==typeof e?o=n=r=e:e&&(o=e.startShift,n=e.timeStart,r=e.timeEnd),this.startShift=o=DayTime.parse(o||0),this.timeEnd=(null==r?(o+Ji)%Ji:DayTime.parse(r))||Ji,this.timeStart=null==n?o:DayTime.parse(n)}get startHour(){return Math.floor(this.timeStart/Zi)}get startTimeOffsetMs(){const{startShift:e,timeStart:n}=this;return n<e?Ji-e+n:n-e}get today(){return this.startOfDay(new Date)}ceil(e){const n=this.startOfDay(e);return n<e&&n.setDate(n.getDate()+1),n}contains(e){return!this.outside(e)}dateKey(e){return e=this.shiftDate(e,-1),DateHelper.makeKey(e)}dayOfDate(e){return this.shiftDate(DateHelper.clearTime(e))}dayOfWeek(e){return(e=this.shiftDate(e,-1)).getDay()}delta(e,n="ms"){const{timeStart:r}=this,o=DayTime.parse(e),i=(this.startShift&&o<r?o+Ji:o)-r;return"ms"===n?i:DateHelper.as(n,i,"ms")}duration(e="ms"){const{timeStart:n,timeEnd:r}=this,o=n<r?r-n:Ji-n+r;return"ms"===e?o:DateHelper.as(e,o,"ms")}equals(e){return this.startShift===(null==e?void 0:e.startShift)&&this.timeStart===e.timeStart&&this.timeEnd===e.timeEnd}intersects(e,n){const r=this,{timeStart:o,timeEnd:i}=r,[a,l]=r._dateRangeArgs(e,n),[c,d]=r.timeRange(a,l);return o<i?c<d?c<i&&o<=d:c<i||o<=d:!(c<d)||c<i||o<=d}isIntraDay(e,n){const[r,o]=this._dateRangeArgs(e,n),i=this.startOfDay(r),a=Ji-DateHelper.diff(i,o,"ms");return!(a<0)&&(a>0||i<r)}outside(e){const{startShift:n,timeStart:r,timeEnd:o}=this,i=DayTime.parse(e);return r<o?i<r?i<n?1:-1:i<o?0:i<n?-1:1:i<o||i>=r?0:i<n?1:-1}shiftDate(e,n=1){const{startShift:r}=this,o=typeof e;return e="number"===o?new Date(e):"string"===o?DateHelper.parse(e):new Date(e.getTime()),n&&r&&e.setMilliseconds(n>0?r:-r),e}sortEvents(e,n){const r=this.startOfDay(e);return null==n?void 0:n.sort(((e,n)=>{e=e.eventRecord||e,n=n.eventRecord||n;let{startDate:o}=e,{startDate:i}=n;return o?i?(o=o<r?r:o,i=i<r?r:i,o-i||n.durationMS-e.durationMS):1:-1}))}startOfDay(e){return e=this.shiftDate(e,-1),e=DateHelper.clearTime(e),e=this.shiftDate(e)}timeRange(e,n){const[r,o]=this._dateRangeArgs(e,n);return[DateHelper.getTimeOfDay(r),DateHelper.getTimeOfDay(o)]}toString(){const{startShift:e,timeEnd:n,timeStart:r}=this,o=e?`@${DayTime.format(e)}`:"",i=DayTime.format(r);return r===n?e?o:i:`${i}-${DayTime.format(n)}${o}`}_dateRangeArgs(e,n){return e.isModel?[e.startDate,e.endingDate]:[e,n]}}DayTime.MIDNIGHT=new DayTime({startShift:0,timeStart:0,timeEnd:24}),DayTime.MILLIS_PER_MINUTE=Qi,DayTime.MILLIS_PER_HOUR=Zi,DayTime.MILLIS_PER_DAY=Ji,DayTime._$name="DayTime";class Month extends(Events(Base)){static get configurable(){return{date:{$config:{equal:"date"},value:DateHelper.clearTime(new Date)},month:null,year:null,weekStartDay:null,hideNonWorkingDays:null,nonWorkingDays:null,sixWeeks:null}}configure(e){super.configure(e),this.updateDayNumbers(),e.date&&(this.date=e.date)}changeDate(e){if(!this.isConfiguring){if(e="string"==typeof e?DateHelper.parse(e,"YYYY-MM-DD"):new Date(e),isNaN(e))throw new Error("Month date ingestion must be passed a Date, or a valid YYYY-MM-DD date string");return e}}updateDate(e,n){const r=this,{dayColumnIndex:o}=r,i=DateHelper.getFirstDateOfMonth(e),a=DateHelper.getLastDateOfMonth(i),l=o[i.getDay()],c=o[a.getDay()],d=!n||e.getFullYear()!==n.getFullYear(),u=r.eventListeners&&(n?e.getDate()!==n.getDate()|(r.getWeekId(e)!==r.getWeekId(n))<<1|(e.getMonth()!==n.getMonth())<<2|d<<3:15);if(r._year=e.getFullYear(),r._month=e.getMonth(),r.startDayOfMonth=1-l,r.endDayOfMonth=a.getDate()+(6-c),r.sixWeeks&&(r.endDayOfMonth+=7*(6-r.weekCount)),r.weekBase&&!d||r.calculateWeekBase(),u){const o={newDate:e,oldDate:n,changes:{d:!0,w:Boolean(2&u),m:Boolean(12&u),y:Boolean(8&u)}};r.trigger("dateChange",o),2&u&&r.trigger("weekChange",o),12&u&&r.trigger("monthChange",o),8&u&&r.trigger("yearChange",o)}}calculateWeekBase(){const e=this,{dayColumnIndex:n}=e,r=new Date(e.year,0,1),o=new Date(e.year,11,31),i=e.month?e.getOtherMonth(r):e;e.dayColumnIndex[r.getDay()]>3?e.weekBase=i.startDate:e.weekBase=new Date(e.year,0,i.startDayOfMonth-7);const a=Math.floor(DateHelper.diff(e.weekBase,o,"day")/7);e.has53weeks=53===a&&n[o.getDay()]>2}getWeekStart(e){if("number"==typeof e)return DateHelper.add(this.weekBase,7*Math.max(e,1),"day");const n=this,[r,o]=e;return r===n.year?n.getWeekStart(o):n.getOtherMonth(new Date(r,0,1)).getWeekStart(o)}getOtherMonth(e){const n=this,r=n===ts?new Month(null):ts;return r.configure({weekBase:null,weekStartDay:n.weekStartDay,nonWorkingDays:n.nonWorkingDays,hideNonWorkingDays:n.hideNonWorkingDays,sixWeeks:n.sixWeeks,date:new Date(e.getFullYear(),0,1)}),r.date=e,r.updateDate(r.date,r.date),r}changeYear(e){const n=new Date(this.date);n.setFullYear(e),this.date=n}changeMonth(e){const n=new Date(this.date);n.setMonth(e),this.date=n}get weekStartDay(){return"number"==typeof this._weekStartDay?this._weekStartDay:DateHelper.weekStartDay}updateWeekStartDay(){const e=this;e.updateDayNumbers(),!e.isConfiguring&&e.date&&(e.weekBase=null,e.updateDate(e.date,e.date))}get nonWorkingDays(){return this._nonWorkingDays||DateHelper.nonWorkingDays}changeNonWorkingDays(e){return ObjectHelper.assign({},e)}updateNonWorkingDays(){this.updateDayNumbers()}updateHideNonWorkingDays(){this.updateDayNumbers()}updateSixWeeks(){this.isConfiguring||this.updateDate(this.date)}get dayCount(){return this.endDayOfMonth+1-this.startDayOfMonth}get weekCount(){return this.dayCount/7}get startDate(){const e=this;if(null!=e.year&&null!=e.month&&null!=e.startDayOfMonth)return new Date(e.year,e.month,e.startDayOfMonth)}get endDate(){const e=this;if(null!=e.year&&null!=e.month&&null!=e.startDayOfMonth)return new Date(e.year,e.month,e.endDayOfMonth)}eachDay(e){for(let n=this.startDayOfMonth;n<=this.endDayOfMonth;n++)e(new Date(this.year,this.month,n))}eachWeek(e){const n=this,{weekCount:r}=n;for(let o=n.startDayOfMonth,i=0;i<r;i++){const r=[],i=n.getWeekNumber(new Date(n.year,n.month,o));for(let e=0;e<7;e++,o++)r.push(new Date(n.year,n.month,o));e(i,r)}}getWeekNumber(e){const n=this;if((e=DateHelper.clearTime(e)).getFullYear()!==n.year)return n.getOtherMonth(new Date(e.getFullYear(),0,1)).getWeekNumber(e);let r=Math.floor(DateHelper.diff(n.weekBase,e,"day")/7),o=e.getFullYear();return r?(53!==r||n.has53weeks?r>53&&(r%=52):(r=1,o++),[o,r]):n.getOtherMonth(new Date(n.year-1,0,1)).getWeekNumber(new Date(n.year,0,0))}getWeekId(e){const n=this.getWeekNumber(e);return 100*n[0]+n[1]}getCellData(e,n,r=DayTime.MIDNIGHT){const o=this,i=e.getDay(),a=o.visibleDayColumnIndex[i],l=o.nonWorkingDays[i],c=o.hideNonWorkingDays&&l;return(e<o.startDate||e>o.endDate)&&(o.month=e.getMonth()),{day:i,dayTime:r,visibleColumnIndex:a,isNonWorking:l,week:o.getOtherMonth(e).getWeekNumber(e),key:DateHelper.format(e,"YYYY-MM-DD"),columnIndex:o.dayColumnIndex[i],date:new Date(e),isOtherMonth:Math.sign(e.getMonth()+12*e.getFullYear()-(n.month+12*n.year)),visible:!c&&e>=n.startDate&&e<DateHelper.add(n.endDate,1,"day"),tomorrow:r.dayOfDate(DateHelper.add(e,1,"day")),isRowStart:0===a,isRowEnd:a===o.visibleColumnCount-1}}updateDayNumbers(){const e=this,{weekStartDay:n,nonWorkingDays:r,hideNonWorkingDays:o}=e,i=e.dayColumnIndex=[],a=e.canonicalDayNumbers=[],l=e.visibleDayColumnIndex=[];let c=0;for(let e=0;e<7;e++){const d=(n+e)%7;a[e]=d,i[d]=e,o&&r[d]||(l[d]=c++)}e.visibleColumnCount=c,e.weekLength=o?7-ObjectHelper.keys(r).length:7}}const ts=new Month(null);Month._$name="Month";let ns=0;const rs=new WeakMap,memo=e=>{const n=new Map;return(...r)=>{const o=((...e)=>e.map((e=>{let n;return e&&"object"==typeof e||"function"==typeof e?(n=rs.get(e),void 0===n&&(n=++ns,rs.set(e,n))):n=String(e),n})).join("-"))(r);let i=n.get(o);return void 0===i&&(i=e(...r),n.set(o,i)),i}},memoCps=e=>{const n=new Map,entryContinuations=e=>e[0],entryResults=e=>e[1],pushContinuation=(e,n)=>entryContinuations(e).push(n);return(r,o)=>{const i=(e=>{let r=n.get(e);return void 0===r&&(r=[[],[]],n.set(e,r)),r})(r);(e=>!entryResults(e).length&&!entryContinuations(e).length)(i)?(pushContinuation(i,o),e(r,(e=>{((e,n)=>entryResults(e).some((e=>ObjectHelper.isEqual(e,n))))(i,e)||(((e,n)=>{entryResults(e).push(n)})(i,e),entryContinuations(i).forEach((n=>n(e))))}))):(pushContinuation(i,o),entryResults(i).forEach((e=>o(e))))}},os=Symbol("success"),is=Symbol("failure"),success=(e,n)=>[os,e,n],failure=e=>[is,e],isSuccess=e=>e.length&&e[0]===os,resolveParser=e=>"function"!=typeof e||e.length?e:e(),ss=memo((e=>memoCps(((n,r)=>r(success(e,n)))))),as=memo((e=>memoCps(((n,r)=>{const o=Math.min(e.length,n.length),i=n.substr(0,o),a=n.substr(o);r(i===e?success(i,a):failure(a))})))),bind=(e,n)=>(r,o)=>resolveParser(e)(r,(e=>{if(isSuccess(e)){const[,r,i]=e;n(r)(i,o)}else o(e)})),ls=memo(((...e)=>{const n=memo(((e,n)=>memoCps(bind(e,(e=>bind(n,(n=>ss([].concat(e,n)))))))));return e.reduce(n,ss([]))})),cs=memo(((...e)=>memoCps(((n,r)=>e.forEach((e=>resolveParser(e)(n,r))))))),ds=memo((e=>(n,r)=>{const o=new RegExp(`^${e}`).exec(n);if(o){const e=o[0],i=n.substr(e.length);r(success(e,i))}else r(failure(n))})),hs=memo(((e,n)=>bind(e,((...e)=>ss(n(...[].concat.apply([],e))))))),runParser=(e,n)=>{const r=[];return e(n,(e=>{if(isSuccess(e)){const[,,n]=e;""===n&&r.push(e)}})),r};var us={memo,memoCps,success,failure,isSuccess,resolveParser,succeed:ss,string:as,bind,seq:ls,alt:cs,regexp:ds,red:hs,runParser,defineParser:e=>(n,r)=>r?resolveParser(e)(n,r):runParser(resolveParser(e),n)};const byWeight=(e,n)=>(e.weight||0)-(n.weight||0),byWeightReverse=(e,n)=>(n.weight||0)-(e.weight||0),ps=[],bs={align:!0,weight:!0};class Field extends(Widget.mixin(Badge)){static get $name(){return"Field"}static get type(){return"field"}static get configurable(){return{defaultBindProperty:"value",placeholder:null,value:"",name:null,label:null,labelPosition:"before",labelCls:null,labels:null,labelWidth:{value:null,$config:{localeKey:"L{labelWidth}"}},required:null,clearable:null,revertOnEscape:null,hint:null,hintHtml:null,inputWidth:null,keyStrokeChangeDelay:0,readOnly:null,editable:!0,defaultAction:"change",triggers:null,highlightExternalChange:!0,localizableProperties:["label","title","placeholder","labelWidth"],autoSelect:!1,autoComplete:"off",spellCheck:null,inputAttributes:null,inputType:"text",inputAlign:null,attributes:{value:["placeholder","autoComplete","spellCheck","minLength","maxLength","pattern","tabIndex","min","max"],$config:{merge:"distinct"}},nullValue:{$config:null,value:null,default:null},updatedClsDuration:500,inputReadOnly:!1,testConfig:{updatedClsDuration:10}}}static get delayable(){return{highlightChanged:"raf"}}doDestroy(){var e,n;const r=this,{triggers:o}=r,i=r.isPainted&&Field.getSharedErrorTooltip(r.rootElement,!0);if(null===(e=r.inputListenerRemover)||void 0===e||e.call(r),null===(n=r.keyListenerRemover)||void 0===n||n.call(r),super.doDestroy(),o)for(const e of Object.values(o))e.destroy();(null==i?void 0:i.field)===r&&i.hide()}get invalidValueError(){return"L{invalidValue}"}get errorTip(){return this.constructor.getSharedErrorTooltip(this.rootElement)}static getSharedErrorTooltip(e,n){var r;let o=null===(r=e.bryntum)||void 0===r?void 0:r.errorTooltip;return o||n||(e.bryntum=e.bryntum||{},o=new Tooltip({cls:"b-field-error-tip",forSelector:".b-field.b-invalid .b-field-inner",align:"l-r",scrollAction:"realign",trapFocus:!1,rootElement:e,onBeforeShow(){const e=this,n=Widget.fromElement(e.activeTarget);if(n){const r=n.getErrors();if(r)return e.html=r.join("<br>"),e.field=n,!0}return!1}}),e.bryntum.errorTooltip=o),o}static get errorTip(){return this.getSharedErrorTooltip(document.body)}construct(e){super.construct(e);const n=this;n.keyStrokeChangeDelay&&(n.changeOnKeyStroke=n.buffer(n.internalOnChange,n.keyStrokeChangeDelay))}onFocusIn(e){const n=this;n.valueOnFocus=ObjectHelper.clone(n.value),n.validOnFocus=!(n.errors&&Object.keys(n.errors).length),super.onFocusIn(e)}onFocusOut(e){super.onFocusOut(e),this.syncRequired(),this.onEditComplete()}onEditComplete(){}get rootUiClass(){return Field}compose(){this.getConfig("clearable");const{id:e,innerElements:n,label:r,labels:o,labelCls:i,readOnly:a,triggers:l}=this,c=ObjectHelper.values(l,((e,n)=>!n)),d=c.filter((e=>"start"===e.align)).sort(byWeight),u=c.filter((e=>"start"!==e.align)).sort(byWeightReverse),setupLabel=n=>ObjectHelper.assign({tag:"label",for:`${e}-input`,class:`b-label b-align-${n.align||"start"}`},n);return{class:{"b-has-label":Boolean(r)||(null==o?void 0:o.length),"b-has-start-trigger":d.length,"b-readonly":a},children:[...(o||ps).filter((e=>e&&"end"!==e.align)).map(setupLabel),r?setupLabel({reference:"labelElement",class:`b-label b-align-start ${i||""}`,html:r}):null,{class:"b-field-inner",reference:"inputWrap",children:[...d.map((e=>e.element)),...n,...u.map((e=>e.element))]},...(o||ps).filter((e=>"end"===(null==e?void 0:e.align))).map(setupLabel)]}}updateElement(e,n){var r;const o=this,i=o.initialConfig.value,{input:a}=o;super.updateElement(e,n),null!=i&&(o.value=i),o.syncEmpty(),o.updateInputReadOnly(o.inputReadOnly),o.syncInvalid();const l=a||o.focusElement;null===(r=o.keyListenerRemover)||void 0===r||r.call(o),o.keyListenerRemover=l&&EventHelper.on({element:l,thisObj:o,keydown:"internalOnKeyEvent",keypress:"internalOnKeyEvent",keyup:"internalOnKeyEvent"})}get innerElements(){return[this.inputElement]}get inputElement(){const{attributes:e,inputAttributes:n,id:r,inputCls:o,inputType:i,name:a}=this,l=ObjectHelper.assign({reference:"input",tag:"input",type:i,name:a||r,id:`${r}-input`,retainElement:!0},n);o&&(l.class=o);for(let n,r,o=e.length;o-- >0;)n=e[o],r=this[n],null!=r&&(l[n]=r);return l}get caretPos(){return this.textSelection[0]}set caretPos(e){this.textSelection=e}get focusElement(){return this.input}get textSelection(){const e=this.input;let n;try{n=[e.selectionStart,e.selectionEnd,e.selectionDirection]}catch(o){var r;n=(null===(r=e.value)||void 0===r?void 0:r.length)||0,n=[n,n]}return n}set textSelection(e){"number"==typeof e?this.select(e,e):this.select(...e)}get hasTextSelection(){const[e,n]=this.textSelection;return e&&n-e>0}getAfterValue(e){const[n,r]=this.textSelection,o=this.input.value;return`${o.substr(0,n)}${e}${o.substr(r||n)}`}select(e,n){const r=this.focusElement;if(r.value.length){if(0===arguments.length)return void this.selectAll();if(!this.supportsTextSelection)return;BrowserHelper.isIE11?(r.focus(),r.setSelectionRange(e,n)):r.setSelectionRange(e,n)}}moveCaretToEnd(){const e=this.input;if(e.createTextRange){const n=e.createTextRange();n.collapse(!1),n.select()}else this.supportsTextSelection&&this.select(e.value.length,e.value.length)}selectAll(){this.focusElement.select()}syncEmpty(){const{isEmptyInput:e,isEmpty:n,element:r,clearIcon:o}=this,i=e&&n;r&&(o&&o.classList[i?"add":"remove"]("b-icon-hidden"),r.classList[i?"add":"remove"]("b-empty"))}updateHint(){this.syncHint()}updateHintHtml(){this.syncHint()}syncHint(){const e=this,{input:n,hint:r,hintHtml:o}=e,i=null==n?void 0:n.parentElement;if(n){let a=o||r;const l=e.hintElement||a&&(e.hintElement=DomHelper.createElement({parent:i,className:"b-field-hint",nextSibling:n.nextSibling,children:[{className:"b-field-hint-content"}]}));l&&("function"==typeof a&&(a=a({source:e,value:e.value})),l.firstChild[o?"innerHTML":"textContent"]=a||""),e.element.classList[a?"remove":"add"]("b-field-no-hint")}}syncInvalid(){this.updatingInvalid=!0;const{isPainted:e}=this;if(e){const{isValid:e,element:n,inputWrap:r}=this,o=this.errorTip;n.classList[e?"remove":"add"]("b-invalid"),e?null!=o&&o.isVisible&&o.field===this&&o.hide():o&&r.contains(Tooltip.currentOverElement)&&(o.activeTarget===r&&o.isVisible?o.onBeforeShow():(o.activeTarget=r,o.showBy(r)))}this.updatingInvalid=!1}updateEditable(){this.syncInputReadOnly()}syncInputReadOnly(){this.getConfig("readOnly"),this.inputReadOnly=this._readOnly||!1===this.editable}updateInputReadOnly(e){const n=this,{input:r,inputListenerRemover:o}=n;r&&(r.readOnly=e?"readOnly":null,e?n.inputListenerRemover=null==o?void 0:o():o||(n.inputListenerRemover=EventHelper.on({element:r,thisObj:n,focus:"internalOnInputFocus",change:"internalOnChange",input:"internalOnInput"})))}changeReadOnly(e){return Boolean(e)}updateReadOnly(e){this.syncInputReadOnly()}updateClearable(e){const n=this;n.getConfig("triggers"),n.triggers={clear:e&&ObjectHelper.assign({cls:"b-icon-remove",weight:1e3,handler(){n._isUserAction=!0,n.clear(),n._isUserAction=!1}},e)||null}}changeTriggers(e,n){const r=this,o=r.$triggers||(r.$triggers=new DynamicObject({configName:"triggers",factory:Field.Trigger,inferType:!1,owner:r,created(e){FunctionHelper.after(e,"onConfigChange",((e,{name:n})=>{bs[n]&&r.onConfigChange({name:"triggers",value:o.target})}))},setup(e,n){e.reference=e.ref=n,e.parent=r}}));if(!1===r.stepTriggers&&(e.back||e.forward)&&(delete(e=ObjectHelper.assign({},e)).back,delete e.forward),o.update(e),!n)return o.target}updateLabelWidth(e){this.labelElement&&(this.labelElement.style.flex=`0 0 ${DomHelper.setLength(e)}`,this.inputWrap.style.flexBasis=null==e?"":0)}updateInputWidth(e){this.input.style.width=DomHelper.setLength(e),BrowserHelper.isIE11&&(this.input.parentElement.style.flexBasis=this.input.style.width),this.element.classList.add("b-has-width")}updateInputAlign(e){this.input.style.textAlign=e}changeLabel(e){return e??""}updateLabel(e){this.labelElement&&(this.labelElement.innerHTML=e)}updateLabelPosition(e,n){const{classList:r}=this.element;r.remove(`b-label-${n}`),r.add(`b-label-${e}`)}get isValid(){const e=this;if(!e.disabled){if(e.syncRequired(),e.errors&&Object.keys(e.errors).length)return!1;const n=e.validity;if(n)return n.valid}return!0}get isEmpty(){return null==this.value||""===this.value}get isEmptyInput(){return!this.input||null==this.input.value||""===this.input.value}get validity(){const e=this.input;return e&&e.validity}changeValue(e,n){return null==e&&(e=this.nullValue),this.hasChanged(n,e)?e:(""===e&&this.syncRequired(),n)}updateValue(e,n){const r=this;r.isConfiguring||(r.syncRequired(),r.inputting||r.triggerChange()),r.inputting||(r._lastValue=e),r.syncInputFieldValue()}hasChanged(e,n){return n!==e}syncInputFieldValue(e=!1){const n=this,{input:r,parent:o,inputValueAttr:i,inputValue:a}=n;var l;r&&!n.inputting&&r[i]!==a&&(r[i]=a,n.isConfiguring||n.containsFocus||!n.highlightExternalChange||(r.classList.remove("b-field-updated"),n.clearTimeout("removeUpdatedCls"),e||o&&(o.isSettingValues||null!==(l=o._isSettingValues)&&void 0!==l&&l.preventHighlight)||n.highlightChanged()));n.syncEmpty(),n.syncInvalid()}highlightChanged(){this.input.classList.add("b-field-updated"),this.setTimeout("removeUpdatedCls",this.updatedClsDuration)}removeUpdatedCls(){this.input.classList.remove("b-field-updated")}get inputValue(){return null==this.value?"":this.value}get inputValueAttr(){return"value"}get supportsTextSelection(){const e=this.focusElement;return e&&("textarea"===e.tagName.toLowerCase()||e.type&&(/text|search|password|tel|url/.test(e.type)||BrowserHelper.isEdge))}internalOnInputFocus(){const e=this,n=e.input.value.length;BrowserHelper.isIE11&&n&&!e.autoSelect&&e.select(n,n),e.autoSelect&&e.selectAll()}internalOnChange(e){const n=this;n.isValid&&n.hasChanged(n._lastValue,n.value)&&(n.triggerChange(e,!0),n._lastValue=n.value)}triggerChange(e,n=Boolean(this._isUserAction)){const r=this,{value:o,_lastValue:i,isValid:a}=r;r.syncHint(),r.triggerFieldChange({value:o,oldValue:i,event:e,userAction:n,valid:a}),"change"===r.defaultAction&&r.trigger("action",{value:o,oldValue:i,event:e,userAction:n,valid:a})}internalOnInput(e){var n;const r=this;r.inputting=!0,r.value=r.input.value,r.inputting=!1,r.trigger("input",{value:r.value,event:e}),null===(n=r.changeOnKeyStroke)||void 0===n||n.call(r,e)}internalOnKeyEvent(e){const n=this,{value:r}=n;let o=!1;if("keydown"===e.type)if("Escape"!==e.key||n.readOnly||n.disabled)"Enter"===e.key&&BrowserHelper.isIE11&&n.internalOnChange(e);else{const e=n.isValid,i="initialValue"in n?n.initialValue:n.valueOnFocus,a=n.hasChanged(i,r),l=n.input.value!==String(n.inputValue);n.revertOnEscape&&(!e||a||l)?(a&&(n.value=i),l&&n.syncInputFieldValue(!0),n.clearError(),o=a&&n.isValid||e!==n.validOnFocus):n.clearable&&(r||n.input.value)&&n.clear()}n.isDestroyed||(o&&e.stopImmediatePropagation(),n.trigger(e.type,{event:e}))}clear(){this.value=this.nullValue,this.trigger("clear")}onDisabled(){this.syncInvalid()}syncRequired(){var e;const n=this;n.isConfiguring||!n.required||!n.isEmpty||null!==(e=n.parent)&&void 0!==e&&e.isSettingValues?n.clearError("L{fieldRequired}",n.updatingInvalid):n.setError("L{fieldRequired}",n.updatingInvalid)}setError(e,n,r){const o=this;if((o.errors||(o.errors={}))[o.optionalL(e)]=1,n||o.syncInvalid(),r){const clearError=()=>{o.clearError(e),n()},n=o.on({keydown:clearError,focusOut:clearError})}}clearError(e,n){const r=this;r.errors&&(e?delete this.errors[this.optionalL(e)]:r.errors={},n||r.syncInvalid())}getErrors(){const e=this;if(!e.isValid){const n=e.validity,r=ObjectHelper.keys(n).find((e=>"valid"!==e&&"customError"!==e&&n[e])),o=e.errors&&Object.keys(e.errors);let i;if(i=null!=o&&o.length?o:n.customError?[e.input.validationMessage]:r?[e.L(r,{min:e.min,max:e.max})]:[e.L(e.invalidValueError)],i&&i.length>0)return i}}}Field.Trigger=class FieldTrigger extends Widget{static get $name(){return"FieldTrigger"}static get factoryable(){return{defaultType:Field.Trigger,extends:null}}static get type(){return"trigger"}static get configurable(){return{align:null,weight:null}}get field(){return this.parent}compose(){return{class:{[`b-align-${this.align||"end"}`]:1,"b-icon":1},listeners:{click:"onClick",mousedown:"onMousedown"}}}changeAlign(e){return e}onClick(e){const n=this,{field:r}=n,o="function"==typeof n.handler?n.handler:r[n.handler];r.disabled||r.readOnly||!1!==r.trigger("trigger",{trigger:n})&&(null==o||o.call(r,e))}onMousedown(e){const n=this.field;!("key"in e)&&DomHelper.isTouchEvent&&n.editable&&(n.editable=!1,n.setTimeout((()=>n.editable=!0),500)),e.preventDefault(),DomHelper.getActiveElement(n.input)!==n.input&&n.focus()}},Field.SpinTrigger=class SpinTrigger extends Field.Trigger{static get $name(){return"SpinTrigger"}static get type(){return"spintrigger"}static get configurable(){return{repeat:{$config:["nullify"],value:!0}}}compose(){return{children:{upButton:{class:{"b-icon":1,"b-spin-up":1}},downButton:{class:{"b-icon":1,"b-spin-down":1}}}}}updateRepeat(e){var n;null===(n=this.clickRepeater)||void 0===n||n.destroy(),this.clickRepeater=e?ClickRepeater.new({element:this.element},e):null}onClick(e){const n=this,{field:r}=n;r.disabled||r.readOnly||(e.target===n.upButton?r.doSpinUp(e.shiftKey):e.target===n.downButton&&r.doSpinDown(e.shiftKey))}},Field.Trigger.initClass(),Field.SpinTrigger.initClass(),Widget.register(Field.Trigger,"trigger"),Widget.register(Field.SpinTrigger,"spintrigger"),Field._$name="Field";class TextField extends Field{static get type(){return"textfield"}static get alias(){return"text"}static get configurable(){return{nullValue:""}}static get $name(){return"TextField"}construct(e){"hidden"===(null==e?void 0:e.inputType)&&(e.hidden=!0),super.construct(...arguments)}}TextField.initClass(),TextField._$name="TextField";class PickerField extends TextField{static get $name(){return"PickerField"}static get type(){return"pickerfield"}static get configurable(){return{editable:!0,pickerAlignElement:"inputWrap",value:null,triggers:{expand:{cls:"bars"}},autoClose:!0,autoExpand:null,picker:{value:{floating:!0},$config:["lazy","nullify"]},inputType:"text",monitorResize:!0,nullValue:null}}doDestroy(){var e;null===(e=this.globalTapListener)||void 0===e||e.call(this),super.doDestroy()}updateEditable(e){const n=this,r=n.element;var o;(super.updateEditable(...arguments),!1===e)?(null===(o=n.globalTapListener)||void 0===o||o.call(n),r.classList.add("b-not-editable"),EventHelper.on({element:n.nonEditableClickTarget,click:e=>{e.target===n.nonEditableClickTarget&&n.onTriggerClick(e)},thisObj:n})):n.globalTapListener=gn.on({globaltap:"showKeyboard",thisObj:n})}get nonEditableClickTarget(){return this.input}changePicker(e,n){throw new Error("changePicker(oldPicker, newPicker) must be implemented in PickerField subclass implementations")}get childItems(){if(this._picker)return[this.picker]}onEditComplete(){super.onEditComplete(),this.autoClosePicker()}onElementResize(e){const n=this;n.pickerVisible&&n.picker.requestAnimationFrame(n.picker.realign,null,n.picker),super.onElementResize(e)}internalOnKeyEvent(e){const n=this;let r=!0;if("keydown"===e.type&&!n.disabled)if(n.pickerVisible){const{picker:o}=n;"Escape"===e.key?(e.stopImmediatePropagation(),n.hidePicker(),r=!1):o.onInternalKeyDown?o.onInternalKeyDown(e):"ArrowDown"===e.key&&o.focusable&&o.focus()}else"ArrowDown"===e.key&&(e.stopImmediatePropagation(),e.preventDefault(),n.onTriggerClick(e));r&&super.internalOnKeyEvent(e)}onFocusIn(e){super.onFocusIn(e),this.autoExpand&&(this.minChars=0,this.onTriggerClick(e))}onFocusOut(e){this.autoClosePicker(),super.onFocusOut(e)}onTriggerClick(e){this.disabled||this.togglePicker("key"in e)}showKeyboard({event:e}){const n=this.input;DomHelper.isTouchEvent&&DomHelper.getActiveElement(n)===n&&e.target===n&&(gn.suspendFocusEvents(),n.blur(),n.focus(),gn.resumeFocusEvents())}togglePicker(e){this.pickerVisible?this.hidePicker():this.showPicker(e)}showPicker(e){const n=this,{picker:r}=n;n.pickerHideShowListenersAdded||(r.on({show:"onPickerShow",hide:"onPickerHide",thisObj:n}),n.pickerHideShowListenersAdded=!0),r.autoClose=n.autoClose,r.show(),r.isVisible&&e&&n.focusPicker()}onPickerShow(){const e=this;e.pickerVisible=!0,e.element.classList.add("b-open"),e.trigger("togglePicker",{show:!0}),e.pickerTapOutRemover=gn.on({globaltap:"onPickerTapOut",thisObj:e}),e.pickerKeyDownRemover=EventHelper.on({element:e.picker.element,keydown:"onPickerKeyDown",thisObj:e})}onPickerHide(){const e=this;e.pickerVisible=!1,e.element.classList.remove("b-open"),e.trigger("togglePicker",{show:!1}),e.pickerTapOutRemover&&e.pickerTapOutRemover(),e.pickerKeyDownRemover&&e.pickerKeyDownRemover()}onPickerTapOut({event:e}){this.owns(e.target)||this.autoClosePicker()}onPickerKeyDown(e){if("Tab"===e.key){const n=DomHelper.getActiveElement(this.input),r=new KeyboardEvent("keydown",e);this.input.dispatchEvent(r),r.defaultPrevented&&e.preventDefault(),DomHelper.getActiveElement(this.input)===n?this.input.focus():e.preventDefault(),this.isDestroyed||this.hidePicker()}}autoClosePicker(){this.autoClose&&this.hidePicker()}hidePicker(){this.pickerVisible&&this.picker.hide()}focusPicker(){}focus(){const e=this.input;DomHelper.isTouchEvent&&this.editable&&(e.readOnly=!0,this.setTimeout((()=>e.readOnly=!1),500)),super.focus()}}PickerField._$name="PickerField";class Navigator extends(Events(Base)){static get configurable(){return{ownerCmp:null,target:null,keyEventTarget:null,processEvent:null,itemSelector:null,activeItem:null,focusCls:"b-active",keys:null,allowCtrlKey:null,allowShiftKey:null,scrollDuration:50,disabled:null,testConfig:{scrollDuration:1}}}updateOwnerCmp(e){this.itemSelector||(this.itemSelector=`.${this.ownerCmp.itemCls}`)}onKeyDown(e){const n=this,{ownerCmp:r,itemSelector:o,activeItem:i,itemsTabbable:a}=n,{target:l}=e,c=n.target.querySelector(o),d=(e.key||"").trim()||e.code,u=`${e.ctrlKey?"CTRL+":""}${e.shiftKey?"SHIFT+":""}${e.altKey?"ALT+":""}${d}`,p=l.matches(o)||l===n.keyEventTarget;if(!n.disabled&&c&&n.target.offsetParent&&p){if(!a){if(null==n.inlineFlow){const e=c.parentNode,r=DomHelper.getStyleValue(c,"position"),o=DomHelper.getStyleValue(c,"display"),i=DomHelper.getStyleValue(c,"float");n.inlineFlow="absolute"===r||"inline"===o||"inline-block"===o||"left"===i||"right"===i||"flex"===DomHelper.getStyleValue(e,"display")&&"row"===DomHelper.getStyleValue(e,"flex-direction")}n.prevKey||(n.inlineFlow?(n.prevKey="ArrowLeft",n.nextKey="ArrowRight"):(n.prevKey="ArrowUp",n.nextKey="ArrowDown"))}if(n.processEvent&&!(e=n.processEvent.call(r,e)))return;if(i)switch(d){case n.prevKey:if(n.disabled||e.ctrlKey&&!n.allowCtrlKey)return;if(e.shiftKey&&!n.allowShiftKey)return;e.preventDefault(),n.navigatePrevious(e);break;case n.nextKey:if(n.disabled||e.ctrlKey&&!n.allowCtrlKey)return;if(e.shiftKey&&!n.allowShiftKey)return;e.preventDefault(),n.navigateNext(e);break;default:{const o=n.keys&&n.keys[u];if(o&&!n.disabled?n.callback(o,n.thisObj||r,[e]):r.onInternalKeyDown&&r.onInternalKeyDown(e),DomHelper.getActiveElement(l)!==l&&e.preventDefault(),a)return}}else{if(a)return;n.activeItem=n.previousActiveItem||n.getDefaultNavigationItem(e)}n.activeItem!==i&&n.triggerNavigate(e)}}getDefaultNavigationItem(e){const{target:n,itemSelector:r,prevKey:o,nextKey:i}=this;return 4&n.compareDocumentPosition(e.target)&&e.key===o?n.querySelector(`${r}:last-of-type`):2&n.compareDocumentPosition(e.target)&&e.key===i?n.querySelector(`${r}`):void 0}navigatePrevious(e){const n=this,r=n.previous;e.preventDefault(),r&&n.ownerCmp.scrollable.scrollIntoView(r,{animate:n.scrollDuration}).then((()=>{n.activeItem=r,n.triggerNavigate(e)}))}navigateNext(e){const n=this,r=n.next;e.preventDefault(),r&&n.ownerCmp.scrollable.scrollIntoView(r,{animate:n.scrollDuration}).then((()=>{n.activeItem=r,n.triggerNavigate(e)}))}get owner(){return this.ownerCmp}get previous(){return this.getAdjacent(-1)}get next(){return this.getAdjacent(1)}getAdjacent(e=1,n=this.activeItem){const r=this.treeWalker;if(r.currentNode=n,r[e<0?"previousNode":"nextNode"](),r.currentNode!==this.activeItem)return r.currentNode}onTargetFocusIn(e){const n=this,{target:r}=e,{itemsTabbable:o,skipScrollIntoView:i}=n;if(!r.matches(".b-focus-trap"))if(r.matches(n.itemSelector))n.skipScrollIntoView=!0,n.activeItem=r,n.skipScrollIntoView=i,n.activeItem&&o&&n.triggerNavigate(e);else{const r=Widget.fromElement(e.target);var a,l,c;if(!r||!n.owner.owns(r))if(!o&&null!==(a=e.relatedTarget)&&void 0!==a&&null!==(l=a.matches)&&void 0!==l&&l.call(a,n.itemSelector))null===(c=n.owner.previousSibling)||void 0===c||c.focus()}}onTargetFocusOut(e){const n=this,{relatedTarget:r}=e;null!=r&&r.matches(".b-focus-trap")||r&&n.target.contains(r)&&r.matches(n.itemSelector)||n.activeItem&&(n.activeItem=null,n.itemsTabbable&&n.triggerNavigate(e))}onTargetMouseDown(e){const n=this,r=e.target.closest(n.itemSelector);n.mouseDownEvent=e,!1===n.ownerCmp.itemsFocusable?n.onFocusGesture(e):r&&(e.preventDefault(),DomHelper.focusWithoutScrolling(r))}onTargetClick(e){var n;const r=this,{skipScrollIntoView:o}=r;r.skipNextClick||null!==(n=r.mouseDownEvent)&&void 0!==n&&n.ignoreNavigation?r.skipNextClick=!1:r.disabled||(r.skipScrollIntoView=!0,r.processEvent&&(e=r.processEvent.call(r.ownerCmp,e)),e&&(r.activeItem=e.target.closest(r.itemSelector),r.triggerNavigate(e)),r.skipScrollIntoView=o)}onFocusGesture(e){(e.target===this.ownerCmp.contentElement||e.target.closest(this.itemSelector)&&!1===this.ownerCmp.itemsFocusable)&&e.preventDefault()}acceptNode(e){return e.offsetParent&&e.matches&&e.matches(this.itemSelector)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}changeActiveItem(e){return null!=e&&this.ownerCmp.getItem&&(e=this.ownerCmp.getItem(e)),e}updateActiveItem(e,n){const r=this,{ownerCmp:o}=r,i=n&&r.target.contains(n);if(i&&(r.previousActiveItem=n),null!=e){var a;if(!r.skipScrollIntoView)null===(a=o.scrollable)||void 0===a||a.scrollIntoView(e,{block:"nearest",focus:DomHelper.isFocusable(e)&&e!==DomHelper.getActiveElement(e),silent:r.scrollSilently});if(e===n&&i)return;n&&n.classList.remove(r.focusCls),e.classList.add(r.focusCls),r._activeItem=e}else n&&(n.classList.remove(r.focusCls),n===DomHelper.getActiveElement(n)&&o.revertFocus()),r._activeItem=null}updateTarget(e,n){const r=this,o={element:e,thisObj:r,focusin:"onTargetFocusIn",focusout:"onTargetFocusOut"};r.itemsTabbable||(o.mousedown="onTargetMouseDown",o.click="onTargetClick"),Object.prototype.hasOwnProperty.call(r,"acceptNode")||(r.acceptNode=r.acceptNode.bind(r),r.acceptNode.acceptNode=r.acceptNode),EventHelper.on(o),r.treeWalker=r.setupTreeWalker(e,NodeFilter.SHOW_ELEMENT,r.acceptNode,!1),r.keyEventTarget||(r.keyEventTarget=e),(r.targetMutationMonitor=new MutationObserver(r.onTargetChildListChange.bind(r))).observe(e,{childList:!0,subtree:!0})}setupTreeWalker(e,n,r,o){return document.createTreeWalker(e,n,r,o)}onTargetChildListChange(){const e=this.activeItem;e&&(this.target.contains(e)?e.classList.add(this.focusCls):this.activeItem=this.target.querySelector(`${this.itemSelector}[data-id="${e.dataset.id}"]`)||null)}changeKeyEventTarget(e){this._keyEventTarget=e,EventHelper.on({element:e,keydown:"onKeyDown",thisObj:this})}triggerNavigate(e,n=this.activeItem){var r;const o={event:e,item:n,oldItem:this.previousActiveItem};this.trigger("navigate",o),null===(r=this.ownerCmp)||void 0===r||r.trigger("navigate",o)}}Navigator._$name="Navigator";const gs=document.createRange();class List extends Widget{static get $name(){return"List"}static get type(){return"list"}static get configurable(){return{itemCls:"b-list-item",selectedCls:"b-selected",selectIconCls:"b-icon-check",items:null,displayField:"text",store:null,navigator:!0,scrollable:{overflowX:!1,overflowY:!0},itemsFocusable:!0,multiSelect:!1,toggleAllIfCtrlPressed:!1,selectAllItem:!1,itemTpl(e){let n=StringHelper.encodeHtml(e[this.displayField]);return null!=n&&""!==n||(n="&nbsp;"),n},groupHeaderTpl:(e,n)=>{let r=StringHelper.encodeHtml(n);return null!=r&&""!==r||(r="&nbsp;"),r},allowGroupSelect:!0,selected:{},activateOnMouseover:null}}construct(e,...n){var r;const o=this;Array.isArray(e)&&(e={items:e}),super.construct(e,...n);const{element:i}=o,{classList:a}=i;o.multiSelect&&a.add("b-multiselect"),null!==(r=o.store)&&void 0!==r&&r.count?o.refresh():a.add("b-empty"),EventHelper.on({element:i,delegate:o.itemSelector,mouseover:"onMouseOver",click:"onClick",thisObj:o})}doDestroy(){var e;this.detachListeners("store"),null===(e=this.navigator)||void 0===e||e.destroy(),super.doDestroy()}onFocusIn(e){const n=e._target.classList.contains(this.itemCls)?e._target.dataset.id:0;this.restoreActiveItem(this.navigator.previousActiveItem||this.getItem(n)),super.onFocusIn(e)}contentTpl(){const e=this,n=e.store.records.map(((n,r)=>e.itemWrapperTpl(n,r)));return e.multiSelect&&!1!==e.selectAllItem&&n.unshift(e.selectAllItemTpl()),TemplateHelper.tpl`${n}`}itemWrapperTpl(e,n){return TemplateHelper.tpl`<div class="${this.getItemClasses(e,n)}" data-index="${n}" data-id="${StringHelper.encodeHtml(e.id)}" ${this.itemsFocusable?'tabindex="-1"':""}>
            ${this.itemContentTpl(e,n)}</div>`}itemContentTpl(e,n){return"groupRowFor"in e.meta?this.groupHeaderTpl(e,StringHelper.capitalize(e.groupChildren[0][e.meta.groupField])):`${this.itemIconTpl(e,n)}${this.itemTpl(e,n)}`}itemIconTpl(e,n){return this.multiSelect?`<div class="b-selected-icon b-icon ${this.selectIconCls}"></div>`:""}selectAllItemTpl(){const e=this.selected.equals(this.store.records)?"b-selected":"";return`<div class="${this.itemCls} b-select-all-item ${e}" data-noselect data-select-all data-id="select-all">${this.itemIconTpl({})}<div>${this.optionalL("Select All")}</div></div>`}getItemClasses(e){var n;const r=this,o=null===(n=r._navigator)||void 0===n?void 0:n.activeItem,i=(null==o?void 0:o.dataset.id)==e.id,a="groupRowFor"in e.meta?"b-list-item-group-header":"",l=r.selected.includes(e);return`${r.itemCls} ${e.cls||""} ${l?r.selectedCls:""} ${i?r.navigator.focusCls:""} ${a}`}onBeforeStoreLoad(){this.mask(this.L("L{loading}"))}onAfterStoreRequest(){this.unmask()}onStoreChange({source:e,action:n,records:r,record:o,changes:i}){const a=this;switch(n){case"dataset":return;case"remove":a.selected.remove(r);break;case"clear":a.selected.clear();break;case"update":{const{id:e}=i;return e&&DomHelper.setAttributes(a.contentElement.querySelector(`[data-id="${StringHelper.encodeHtml(e.oldValue)}"]`),{"data-id":e.value}),void a.refreshItem(o)}}a.refresh()}onStoreRefresh(){this.refresh()}refresh(){const e=this;if(e.isVisible){const{activeItem:n}=e.navigator;e.paintListener=null;const r=DomHelper.createElementFromTemplate(e.contentTpl(),{fragment:!0});e.clearItems().insertNode(r),n&&e.restoreActiveItem(n),e.refreshCount=(e.refreshCount||0)+1,e.element.classList[e.store.count>0?"remove":"add"]("b-empty")}else e.paintListener||(e.paintListener=e.on({paint:"refresh",thisObj:e,once:!0}))}clearItems(){const e=this,n=e.contentElement.querySelector(e.itemSelector),r=e.contentElement.lastChild;if(n){const r=e.contentElement.querySelectorAll(`${e.itemSelector}:not(.b-mask)`);gs.setStartBefore(n),gs.setEndAfter(r[r.length-1]),gs.deleteContents()}else r?(gs.setStartAfter(r),gs.setEndAfter(r)):(gs.setStart(e.contentElement,0),gs.setEnd(e.contentElement,0));return gs}refreshItem(...e){for(const n of e){const e=this.getItem(n);if(e){const r=this.store.indexOf(n),o=DomHelper.createElementFromTemplate(this.itemWrapperTpl(n,r));DomHelper.sync(o,e)}}}getItem(e){var n;if(null!=e)return"number"==typeof e?this.contentElement.querySelector(`[data-index="${e}"]`):(e.nodeType===Element.ELEMENT_NODE&&(e=e.dataset.id),null!=(null===(n=e)||void 0===n?void 0:n.id)&&(e=e.id),this.contentElement.querySelector(`[data-id="${StringHelper.encodeHtml(e)}"]`))}getRecord(e){return e.target&&(e=e.target),e=e.closest(this.itemSelector),this.store.getAt(parseInt(e.dataset.index))}updateItems(e){const n=this;n.store&&n.store.autoCreated&&n.store.destroy(),n.store=Store.getStore(e)}updateSelected(e){e&&e instanceof Collection||(e=new Collection(e)),this._selected=e,e.on({change:"onSelectionChange",thisObj:this})}get itemSelector(){return`.${this.itemCls}`}get selected(){return this._selected}get store(){return this.getConfig("items"),this._store}changeStore(e){const n=this;if(e instanceof Store||(e=new Store(e)),n.detachListeners("store"),e){const r={name:"store",change:"onStoreChange",refresh:"onStoreRefresh",thisObj:n};e.readUrl&&(r.beforeLoad="onBeforeStoreLoad",r.afterRequest="onAfterStoreRequest"),e.isGrouped&&(n.element.classList.add("b-grouped"),r.groupchange="onStoreRefresh"),e.on(r)}return e}updateStore(){this.refresh()}changeNavigator(e){const n=this,{element:r}=n;return r&&(e=(e.class||Navigator).new({ownerCmp:n,target:r,keyEventTarget:r},e)).keyEventTarget===r&&(r.tabIndex=0),e}get minAlignHeight(){const e=this.element.lastElementChild,n=this.minHeight;if(null!=n)return this.store.count?Math.min(e.offsetTop+e.offsetHeight,n):0}alignTo(...e){super.minHeight=this.minAlignHeight,super.alignTo(...e)}hide(...e){return this.navigator.activeItem=null,super.hide(...e)}show(){const{refreshCount:e}=this,{previousActiveItem:n}=this.navigator;super.minHeight=this._minHeight;const r=super.show();return this.refreshCount===e&&this.restoreActiveItem(n,!0),r}restoreActiveItem(e=this.navigator.previousActiveItem,n="nearest"){const r=this,{navigator:o,lastAlignSpec:i}=r;if(null!=e){if("string"!=typeof n){const e=i?i.zone:1;n=1&e?"nearest":e?"start":"end"}(e=r.getItem(e))&&(r.scrollable.scrollIntoView(e,{block:n}),o.activeItem=e)}}onMouseOver(e){const n=this,r=e.currentTarget;!DomHelper.isTouchEvent&&r&&n.navigator&&n.activateOnMouseover&&n.setTimeout({fn:"handleMouseOver",delay:30,args:[r],cancelOutstanding:!0})}handleMouseOver(e){this.navigator.activeItem=e}onClick(e){const n=e.target.closest(this.itemSelector);n&&this.onItemClick(n,e)}onInternalKeyDown(e){const n=this.navigator.activeItem;switch(e.key){case" ":if("INPUT"===e.target.nodeName.toUpperCase()&&!e.target.readOnly)break;case"Enter":n&&(this.onItemClick(n,e),e.stopImmediatePropagation(),e.preventDefault())}}onItemClick(e,n){const r=this,o=parseInt(e.dataset.index);let i=r.store.getAt(o);if(r._isUserAction=!0,r.allowGroupSelect||i&&!i.isSpecialRow)if(e.contains(n.target.closest("[data-noselect]")))e.contains(n.target.closest("[data-select-all]"))&&r.onSelectAllClick(e,n);else{const e=r.selected;let o=e.includes(i);r.multiSelect?(r.toggleAllIfCtrlPressed&&n.ctrlKey?i=r.store.getRange():r.allowGroupSelect&&i.isSpecialRow&&(o=!i.groupChildren.some((n=>!e.includes(n))),i=i.groupChildren),e[o?"remove":"add"](i)):e.splice(0,e.count,i)}r.lastClicked=i,r.trigger("item",{item:e,record:i,index:o,event:n,userAction:!0}),r._isUserAction=!1}onSelectionChange({action:e,removed:n,added:r,replaced:o}){const i=this,{selectedCls:a,unselectedCls:l}=i;let c,d;if("clear"===e)for(d of i.element.querySelectorAll(`.${a}`))d.classList.remove(a),l&&d.classList.remove(l);else{for(c of n)d=i.getItem(c),d&&d.classList.remove(a);for(c of r)d=i.getItem(c),d&&d.classList.add(a)}i.selectAllItem&&i.updateSelectAllState()}onSelectAllClick(e,n){const r=this,o=e.classList.contains(r.selectedCls);r.selected[o?"remove":"add"](r.store.getRange())}updateSelectAllState(){const e=this,n=e.element.querySelector(".b-select-all-item"),r=e.selected.equals(e.store.records);null==n||n.classList.toggle(e.selectedCls,r)}}List.initClass(),List.prototype.navigatorClass=Navigator,List._$name="List";class ChipView extends List{static get $name(){return"ChipView"}static get type(){return"chipview"}static get configurable(){return{itemCls:"b-chip",closable:!0,iconTpl:null,closeHandler:null}}itemContentTpl(e,n){const r=this;return TemplateHelper.tpl`${r.iconTpl?this.iconTpl(e):""}
            ${r.itemTpl(e,n)}
            ${r.closable?'<div class="b-icon b-close-icon b-icon-clear" data-noselect></div>':""}`}onInternalKeyDown(e){this.closable&&this.selected.count&&("Delete"===e.key||"Backspace"===e.key)?this.callback(this.closeHandler,this.owner,[this.selected.values,{isKeyEvent:!0}]):super.onInternalKeyDown(e)}updateClosable(e){this.element.classList[e?"add":"remove"]("b-chips-closable"),this.navigator.disabled=!e,this.isConfiguring||this.refresh()}onClick(e){const n=this,r=e.target.closest(`.${n.itemCls}`);if(n.closable&&e.target.classList.contains("b-close-icon")){const e=n.store.getAt(parseInt(r.dataset.index));n.callback(n.closeHandler,n.owner,[[e]])}else super.onClick(e)}}ChipView.initClass(),ChipView._$name="ChipView";const ms="L{Field.fieldRequired}",fs="L{Field.validateFilter}";class Combo extends PickerField{static get $name(){return"Combo"}static get type(){return"combo"}static get alias(){return"combobox,dropdown"}static get configurable(){return{primaryFilter:{},picker:{type:"list",floating:!0,scrollAction:"realign",itemsFocusable:!1,activateOnMouseover:!0,align:{align:"t0-b0",axisLock:!0},maxHeight:324,scrollable:{overflowY:!0},autoShow:!1,focusOnHover:!1},multiSelect:null,items:null,store:null,valueField:void 0,displayField:"text",pickerWidth:null,minChars:null,selected:null,listItemTpl:null,displayValueRenderer:null,listCls:null,triggers:{expand:{cls:"b-icon-picker",handler:"onTriggerClick"}},filterParamName:null,encodeFilterParams:e=>e.map((e=>e.value)),filterOnEnter:!1,hideTrigger:null,overlayAnchor:null,keyStrokeFilterDelay:null,defaultAction:"select",triggerAction:"all",filterOperator:"startsWith",caseSensitive:!1,hidePickerOnSelect:null,chipView:{$config:["lazy","nullify"],value:{type:"combochipview"}},chipStore:{$config:["lazy","nullify"],value:{}},filterSelected:null,emptyText:null,value:null,valueCollection:{$config:["nullify","lazy"],value:{}},validateFilter:!0,clearTextOnPickerHide:!0,destroyStore:!1,multiValueSeparator:",",createOnUnmatched:null,inlinePicker:null,testConfig:{keyStrokeFilterDelay:0}}}static get queryLast(){return"last"}construct(e){super.construct(...arguments),this.store||(this.items=[]),this.filterOnEnter&&(this.hideTrigger=!0)}startConfigure(e){this.usingRecordAsValue=null===e.valueField,super.startConfigure(...arguments)}afterConfigure(){super.afterConfigure();const e=this;ObjectHelper.hasOwn(e,"_value")||(e._value=e.valueField===e.displayField?"":null,e._lastValue=e._lastValue||e._value)}get childItems(){const{_chipView:e,_picker:n}=this,r=[];return e&&r.push(e),n&&r.push(n),r}get innerElements(){var e;const n=null===(e=this._chipView)||void 0===e?void 0:e.element,{input:r,inputElement:o}=this;return n&&DomSync.sync({targetElement:r,domConfig:o}),[n||o]}updateInlinePicker(e){e&&(this.element.classList.add("b-inline-picker"),this.getConfig("picker"),this.triggers.expand=null,this.pickerVisible=!0)}hidePicker(){if(!this.inlinePicker)return super.hidePicker(...arguments)}changeChipStore(e){return!e||e instanceof Store||(e=new Store(Store.mergeConfigs({storage:this.valueCollection},e))),e}updateChipStore(e,n){null==n||n.destroy()}changeChipView(e,n){const r=this;if(r.element.classList[e?"add":"remove"]("b-uses-chipview"),e){const{input:o}=r;return r.chipStore||(r.chipStore={}),ComboChipView.reconfigure(n,e,{defaults:{parent:r,insertBefore:o,store:r.chipStore,closable:!r.readOnly,navigator:{class:ComboChipNavigator,keyEventTarget:o}}})}null==n||n.destroy()}updateChipView(e){var n;const r=this;r._chipViewEventDetacher=null===(n=r._chipViewEventDetacher)||void 0===n?void 0:n.call(r),r.chipStore=null==e?void 0:e.store,e&&(e.element.appendChild(r.input),r._chipViewEventDetacher=EventHelper.on({element:e.element,mousedown:"onChipViewMousedown",thisObj:r}))}updateMultiSelect(e,n){const r=this,{input:o,element:i}=r,a=!r.isConfiguring;let{value:l}=r;if(i.classList[e?"add":"remove"]("b-multiselect"),e){const{chipView:e}=r,{parentNode:n}=o,i=null==e?void 0:e.element;i&&i!==n&&(n.insertBefore(i,o),i.appendChild(o),r.chipView.refresh()),o.value="",a&&!Array.isArray(l)&&(l=l?[l]:null)}else{const e=r._chipView,{parentNode:n}=o,c=null==e?void 0:e.element;c===n&&(c.parentNode.insertBefore(o,c),c.remove(),i.classList.remove("b-uses-chipview")),a&&"string"!=typeof l&&(l=l&&l.length?l[0]:null)}a&&(r.value=l)}onChipViewMousedown(e){e.preventDefault(),this.containsFocus||this.focus()}onChipClose(e,n={}){(n.isKeyEvent&&""===this.input.value||!n.isKeyEvent)&&(this._isUserAction=!0,this.valueCollection.remove(e),this._isUserAction=!1)}updateFilterParamName(e){!1!==this.hideTrigger&&(this.hideTrigger=Boolean(e))}updateHideTrigger(e){this.element.classList[e?"add":"remove"]("b-hide-trigger")}updateKeyStrokeFilterDelay(e){const n=this;e&&(n.filterList=n.buffer(n.doFilter,e))}updateReadOnly(e){super.updateReadOnly(...arguments),this._chipView&&(this._chipView.closable=!e)}updateFilterOperator(e){this.primaryFilter&&(this.primaryFilter.operator=e)}get minChars(){const e=this._minChars;return null!=e?e:this.remoteFilter?4:1}get validateFilter(){return this._validateFilter&&!this.createOnUnmatched}get items(){return this.store.allRecords}changeItems(e){const n=this;if(null==e){if(n.store&&!n.store.isItemStore)return;e=[]}if(e instanceof Store)return void(n.store=e);const r=n.displayField;let o,i,a=n.valueField;if(Array.isArray(e)?i=e.map((e=>{let i=e;return e instanceof Model?(o=e.constructor,a||(n.valueField=a=o.idField)):"string"==typeof e||"number"==typeof e?(a||(n.valueField=a=n.displayField),i={[a]:e,[r]:e}):(a||(n.valueField=a="value"),Array.isArray(e)&&(i={[a]:e[0],[r]:e[1]})),e.selected&&(n.value=i),i})):(a||(n.valueField=a="value"),i=[],Object.entries(e).forEach((([e,n])=>{i.push({[a]:e,[r]:n})}))),n.store)n.store.data=i;else{const e=a===r?{name:"value",dataSource:r}:a;n.store=new Store({isItemStore:!0,data:i,idField:a,modelClass:o||class extends Model{static get idField(){return n.valueField}static set idField(e){super.idField=e}static get fields(){return[e,r]}}})}}get value(){const e=this,{valueCollection:n,valueField:r}=e;if(null==r)return e.multiSelect?n.values.slice():n.first;let o;return o=e.multiSelect?n.count?n.map((e=>e[r])):e._lastValue||[]:n.count?n.first[r]:e._lastValue,o}set value(e){super.value=e}changeValue(e,n){var r;const o=this;if(e===n)return void o.syncInputFieldValue(!0);if(!o.multiSelect&&Array.isArray(e)&&e.length>1)throw new Error("Multiple values cannot be set to a non-multiSelect Combo");o.triggerConfig("items"),o.store||(o.items=[]);const{valueField:i,displayField:a,store:l,valueCollection:c,_picker:d}=o,{storage:u}=l,p=null!==(r=o.hidePickerOnSelect)&&void 0!==r?r:!o.multiSelect,b=o._isUserAction||(null==d?void 0:d._isUserAction)||p&&o.pickerVisible||!1;if(!o.remoteFilter&&l.isAjaxStore&&!l.count)return l.on("load",(()=>o.value=e),{once:!0,thisObj:o}),void(o._lastValue=e);if(o.remoteFilter){if(null!=e){if(Objects.isObject(e)||e.isModel)this.store.data=[e],this.valueCollection.splice(0,this.valueCollection.count,this.store.first);else{const n=o.isConfiguring;o.primaryFilter.setConfig({value:e,disabled:!1}),l.performFilter(!0).then((()=>{const{isConfiguring:e}=o;o.isConfiguring=n,c.splice(0,c.count,l.allRecords),o.isConfiguring=e}))}return}}else l.filtered&&(o.primaryFilter.disabled=!0,l.filter());let g;if(null!=e){const r=Array.isArray(e),d=r?e.slice():[e];for(let e=0,n=d.length;e<n;e++){let r=d[e];if(r instanceof Model)u.includes(r)||l.add(r);else{const o=ObjectHelper.isObject(r);o&&(r=r[i]),g=u.getBy(a,r)||u.getBy(i,r)||c.getBy(a,r)||c.getBy(i,r),g instanceof Set&&(g=[...g][0]),g?(o&&g.set(d[e]),d[e]=g):(d.splice(e,1),n--,e--)}}const p=!d.length,m=c.generation;c.splice(0,c.count,d),p&&(o._value=r&&0===e.length?null:e,o._lastValue=o._value),(p||c.generation===m)&&o.syncInputFieldValue(),o.syncEmpty(),p&&!o.isConfiguring&&o.triggerFieldChange({value:e,oldValue:n,userAction:b,valid:o.isValid})}else if(c.count)c.clear();else{const n=o._value;o._value=null,o.syncInputFieldValue(),o.syncEmpty(),o.isConfiguring||o.triggerFieldChange({value:e,oldValue:n,userAction:b,valid:o.isValid})}o._lastValue=o._value}hasChanged(e,n){return this.multiSelect?!ObjectHelper.isEqual(e,n):super.hasChanged(...arguments)}onComboStoreChange({action:e}){"filter"!==e&&this.syncInputFieldValue(!0)}syncInputFieldValue(e){this.usesChipView||super.syncInputFieldValue(e)}get usesChipView(){return Boolean(this.multiSelect&&this._chipView)}get isEmpty(){return 0===this.valueCollection.count}get inputValue(){const e=this;let n=e.selected?e.selected[e.displayField]:e.value;return e.displayValueRenderer&&(n=e.callback(e.displayValueRenderer,e,[e.selected,e])),n??""}get nonEditableClickTarget(){return this.multiSelect?this.chipView.element:super.nonEditableClickTarget}changeValueCollection(e,n){if(null==n||n.destroy(),e)return e.isCollection||(e=new Collection({listeners:{noChange:"onValueCollectionNoChange",change:"onValueCollectionChange",prio:-1e3,thisObj:this}})),e}changePrimaryFilter(e){return e instanceof CollectionFilter||("function"==typeof e&&(e={filterBy:e}),e=new CollectionFilter(_objectSpread2({id:"primary",disabled:!0,property:this.displayField,operator:this.filterOperator,caseSensitive:this.caseSensitive},e))),e}changeStore(e){if(!Array.isArray(e)){if(e){"string"==typeof e?e=Store.getStore(e):ObjectHelper.isObject(e)&&(e=new(e.readUrl?AjaxStore:Store)(e),this.destroyStore=!0);const n=this,r=n.remoteFilter||e.restfulFilter,{filterParamName:o,valueCollection:i,keyStrokeFilterDelay:a}=n,l=[];r&&o&&(e.filterParamName=o,n.encodeFilterParams&&(e.encodeFilterParams=n.encodeFilterParams)),n.valueField||n.usingRecordAsValue||(n.valueField=e.modelClass.idField),l.push(n.primaryFilter),r?n.filterSelected&&(e.storage.autoFilter=!0,e.storage.addFilter({id:`${n.id}-selected-filter`,filterBy:e=>!i.includes(e)})):n.filterSelected&&(n.selectedItemsFilter=e=>!i.includes(e),l.push(n.selectedItemsFilter),e.reapplyFilterOnAdd=!0),i.addIndex({property:n.displayField,unique:!1}),i.addIndex({property:n.valueField,unique:!0}),e.filter(l),n.keyStrokeFilterDelay=r?Math.max(300,a||0):null!=a?a:10}return e}this.items=e}updateStore(e,n){const r=this,{_picker:o}=r;let i;if(this.destroyStore&&n&&n.destroy(),o&&(o.store=e),e.storage.addIndex({property:r.displayField,unique:!1}),e.storage.addIndex({property:r.valueField,unique:!0}),i={filter:"onStoreFilter"},r.displayValueRenderer&&((i||(i={})).change="onComboStoreChange",r.syncInputFieldValue()),r.detachListeners("store"),n){const e=r.value;r.isConfiguring=!0,r.value=null,r.isConfiguring=!1,r.value=e}i&&(i.name="store",i.thisObj=r,e.on(i))}get remoteFilter(){var e;return Boolean(this.filterParamName||(null===(e=this._store)||void 0===e?void 0:e.restfulFilter))}get record(){return this.selected}get records(){return this.valueCollection.values.slice()}get selected(){return this.valueCollection.first}onEditComplete(){const e=this,n=e.valueCollection.count;super.onEditComplete(),n&&(e.clearError(fs),e.syncInputFieldValue()),e.required&&!n&&e.setError(ms)}onTriggerClick(){var e;const n=this;if(!n.remoteFilter||!n.filterOnEnter)if(n.pickerVisible)n.hidePicker();else if(!n.readOnly&&!n.disabled)switch(null===(e=n.triggerAction)||void 0===e?void 0:e.toLowerCase()){case"all":n.doFilter(null);break;case"last":n.doFilter(n.lastQuery);break;default:n.doFilter(n.input.value)}}internalOnInput(e){const n=this,r=n.input.value,o=r.length;n.editable&&(n.syncEmpty(),n.syncInputWidth(),n.inputting=!0,n.inlinePicker||o>=n.minChars&&!n.filterOnEnter?n.filterList(r):(n.validateFilter&&!n.remoteFilter&&n[o?"setError":"clearError"](fs),n.hidePicker()),n.inputting=!1,n.trigger("input",{value:r,event:e}))}syncInputWidth(){const e=this;if(e.usesChipView){const n=e.input,r=e._inputPadding||(e._inputPadding=DomHelper.getEdgeSize(n,"padding","lr")),o=n.value||"",i=DomHelper.measureText(o+"W",n,!1,e.element)+r.width;n.style.flex=`1 1 ${Math.ceil(i)}px`}}filterList(e){this.doFilter(e)}doFilter(e){var n;const r=this,{store:o,picker:i}=r,a=null==e||""===e;r.lastQuery=e,r.primaryFilter.setConfig({value:e,disabled:a}),r.remoteFilter&&o.clear(!0),null===(n=r.filterPromise=o.filter())||void 0===n||n.then((()=>r.filterPromise=null)),r.inlinePicker||(null!=i&&i.isVisible?0===i.lastAlignSpec.zone&&i.realign():r.showPicker()),o.count?a||(r.picker.navigator.activeItem=0):r.remoteFilter||a||!r.validateFilter||r.setError(fs)}onStoreFilter({source:e}){const n=this,r=n._picker,o=null==r?void 0:r.element.dataset,{count:i}=e;n.remoteFilter&&(i?r&&(r.navigator.activeItem=0):n.validateFilter&&n.setError(fs),n.filterSelected&&n.valueCollection.count&&(e.storage.onFiltersChanged({action:"splice",oldCount:1}),r&&r.refresh())),n.createOnUnmatched&&!i?o.addNewValue=n.L("L{addNewValue}")(n.primaryFilter.value):null==o||delete o.addNewValue}onValueCollectionChange({source:e}){var n;const r=this,{multiSelect:o,_picker:i}=r,a=null!==(n=r.hidePickerOnSelect)&&void 0!==n?n:!o,l=o?e.values.slice():e.first,c=e.values.slice(),d=r._isUserAction||(null==i?void 0:i._isUserAction)||a&&r.pickerVisible||!1,u=r._value;a&&r.hidePicker(),!e.count&&r.required?r.setError(ms):(r.clearError(ms),r.clearError(fs)),r.validateFilter&&l&&r.clearError(fs),r.filterSelected&&(r.remoteFilter?(r.store.storage.onFiltersChanged({action:"splice",oldCount:1}),r._picker&&r._picker.refresh()):r.store.filter()),r._value=null,r._lastValue=null;const p=r.cacheCurrentValue(r.value);r.syncInputFieldValue(),r.syncEmpty(),r.isConfiguring||(r.triggerFieldChange({value:p,oldValue:u,userAction:d,valid:r.isValid}),r.trigger("select",{record:l,records:c,userAction:d}),"select"===r.defaultAction&&r.trigger("action",{value:p,record:l,records:c,userAction:d}))}cacheCurrentValue(e){return this._value=e}onValueCollectionNoChange({toAdd:e}){!this.inlinePicker&&!this.multiSelect&&e.length&&this.pickerVisible&&this.picker.hide()}showPicker(){const e=this,{picker:n}=e;e.readOnly||e.inlinePicker||(n.multiSelect=e.multiSelect,super.showPicker(),e.overlayAnchor&&!n.align.offset&&(n.align.offset=-n.anchorSize[1],n.realign()),!e.multiSelect&&e.selected&&n.restoreActiveItem(e.selected,!0),e.input.focus())}changePicker(e,n){var r;const o=this,i=o.pickerWidth||(null===(r=e)||void 0===r?void 0:r.width),a=List.mergeConfigs({owner:o,store:o.store,selected:o.valueCollection,multiSelect:o.multiSelect,cls:o.listCls,displayField:o.displayField,forElement:o[o.pickerAlignElement],align:{matchSize:null==i,anchor:o.overlayAnchor,target:o[o.pickerAlignElement],minHeight:o.inlinePicker?null:40*Math.min(3,o.store.count)},[o.listItemTpl?"itemTpl":void 0]:o.listItemTpl,width:i,navigator:{keyEventTarget:o.input}},e);return o.inlinePicker&&Object.assign(a,{floating:!1,align:null,activateOnMouseover:!1,maxHeight:null,appendTo:o.element}),(e=List.reconfigure(n,e?a:null,o))&&(e.element.classList.add("b-combo-picker"),e.element.dataset.emptyText=o.emptyText||o.L("L{noResults}"),e.on({navigate:"onPickerNavigate",thisObj:o})),e}onPickerNavigate({event:e}){e.target.matches("[data-add-new-value]")&&this.addNewRecord(this.primaryFilter.value)}onPickerHide(){const e=this;super.onPickerHide(),e.multiSelect&&e.clearTextOnPickerHide&&(e.input.value="")}async internalOnKeyEvent(e){const n=this,r=n.input.value,o=r.length,{key:i}=e,{store:a,_picker:l,multiSelect:c}=n;if("keydown"===e.type&&null!=l&&l.isVisible&&l.navigator){const{activeItem:o}=l.navigator;if(o&&c&&i===n.multiValueSeparator)return n.input.value="",n.primaryFilter.setConfig({value:"",disabled:!0}),a.filter(),l.onItemClick(o,e),l.hide(),void e.preventDefault();if(!o&&n.createOnUnmatched&&(c&&i===n.multiValueSeparator||"Enter"===i))return e.preventDefault(),void await n.addNewRecord(r)}super.internalOnKeyEvent(...arguments),"keydown"===e.type&&"Enter"===i&&n.filterOnEnter&&o>=n.minChars&&(e.stopPropagation(),n.filterList(r))}async addNewRecord(e){const n=this,{store:r,_picker:o,valueCollection:i,multiSelect:a,primaryFilter:l}=n,c=r.remoteFilter&&r.autoCommit;n.filterPromise&&await n.filterPromise,c||(l.setConfig({value:"",disabled:!0}),r.filter());const[d]=r.add(n.callback(n.createOnUnmatched,n,[e]));if(r.isCommitting){let e;try{await r.commitPromise}catch(n){var u,p;e=null===(u=n.response)||void 0===u||null===(p=u.parsedJson)||void 0===p?void 0:p.error}d.isPhantom&&(n.clearError(),n.setError(e||"L{Combo.recordNotCommitted}",!1,!0),r.remove(d),r.removed.remove(d))}c&&(l.setConfig({value:"",disabled:!0}),r.filter()),n.input.value="",r.includes(d)&&i.splice(a?i.count:0,a?0:i.count,d),null==o||o.hide()}changeCreateOnUnmatched(e){return!0===e&&(e=this.defaultRecordCreater),e}defaultRecordCreater(e){return this.store.createRecord({[this.displayField]:e})}}class ComboChipView extends ChipView{static get $name(){return"ComboChipView"}static get type(){return"combochipview"}static get defaultConfig(){return{closeHandler:"up.onChipClose",itemsFocusable:!1,multiSelect:!0,itemTpl(e){return StringHelper.encodeHtml(e[this.owner.displayField])},scrollable:{overflowY:"auto"}}}}class ComboChipNavigator extends Navigator{static get defaultConfig(){return{allowShiftKey:!0}}onTargetClick(e){const n=this,r=e.target.closest(n.itemSelector);!r||e.shiftKey||r.contains(e.target.closest("[data-noselect]"))||n.ownerCmp.selected.clear(),n.inClickHandler=!0,n.activeItem=r,n.inClickHandler=!1}onKeyDown(e){"Enter"!==e.key&&super.onKeyDown(e)}updateActiveItem(e,n){const r=this.ownerCmp;super.updateActiveItem(e,n),e&&!this.inClickHandler&&r.selected.add(r.getRecord(e))}navigatePrevious(e){const n=this.ownerCmp;n.navigator.activeItem&&!e.shiftKey&&n.selected.clear(),this.previous?super.navigatePrevious(e):this.activeItem=null}navigateNext(e){const n=this.ownerCmp;n.navigator.activeItem&&!e.shiftKey&&n.selected.clear(),this.next?super.navigateNext(e):this.activeItem=null}}Combo.initClass(),ComboChipView.initClass(),Combo._$name="Combo";class UndoRedoBase extends Container{static get $name(){return"UndoRedoBase"}static get type(){return"undoredobase"}static get configurable(){return{project:null,stm:null,text:null,color:null,showZeroActionBadge:null,cls:"b-undo-controls b-toolbar",layoutStyle:{alignItems:"stretch",flexFlow:"row nowrap",overflow:"visible"},items:{undoBtn:{type:"button",icon:"b-icon-undo",tooltip:"L{UndoRedo.UndoLastAction}",onAction:"up.onUndo"},transactionsCombo:{type:"combo",valueField:"idx",editable:!1,store:{},emptyText:"No items in the undo queue",onAction:"up.onTransactionSelected",displayValueRenderer:"up.transactionsDisplayValueRenderer"},redoBtn:{type:"button",icon:"b-icon-redo",tooltip:"L{UndoRedo.RedoLastAction}",onAction:"up.onRedo"}}}}afterConstruct(){this.updateUndoRedoControls()}changeStm(e){return e.on({recordingstop:"updateUndoRedoControls",restoringstop:"updateUndoRedoControls",queueReset:"updateUndoRedoControls",disabled:"updateUndoRedoControls",thisObj:this}),e}changeItems(e){const{undoBtn:n,redoBtn:r}=e;return this.color&&(n&&(n.color=this.color),r&&(r.color=this.color)),this.text&&(n&&(n.text="L{UndoRedo.Undo}"),r&&(r.text="L{UndoRedo.Redo}")),super.changeItems(e)}updateProject(e){this.stm=e.stm}fillUndoRedoCombo(){const{transactionsCombo:e}=this.widgetMap;e&&(e.items=this.stm.queue.map(((e,n)=>[n,e||`Transaction ${n}`])))}updateUndoRedoControls(){const{stm:e,showZeroActionBadge:n}=this,{undoBtn:r,redoBtn:o}=this.widgetMap;r.badge=e.position||(n?"0":""),o.badge=e.length-e.position||(n?"0":""),r.disabled=!e.canUndo,o.disabled=!e.canRedo,this.fillUndoRedoCombo()}transactionsDisplayValueRenderer(e,n){var r;const o=(null===(r=this.stm)||void 0===r?void 0:r.position)||0;return`${o} undo actions / ${n.store.count-o} redo actions`}onUndo(){this.stm.canUndo&&this.stm.undo()}onRedo(){this.stm.canRedo&&this.stm.redo()}onTransactionSelected(e){const n=this.stm,r=e.value;r>=0&&(n.canUndo&&r<n.position?n.undo(n.position-r):n.canRedo&&r>=n.position&&n.redo(r-n.position+1))}}UndoRedoBase._$name="UndoRedoBase";class BooleanCombo extends Combo{static get $name(){return"BooleanCombo"}static get type(){return"booleancombo"}static get configurable(){return{positiveValue:!0,positiveText:null,negativeValue:!1,negativeText:null,store:{value:[],$config:"lazy"},value:!1}}changeStore(e,n){const r=this;return super.changeStore(new Store({data:[{id:r.positiveValue,text:r.positiveText||r.L("L{Object.Yes}")},{id:r.negativeValue,text:r.negativeText||r.L("L{Object.No}")}]}),n)}}BooleanCombo.initClass(),BooleanCombo._$name="BooleanCombo";class ButtonGroup extends(Container.mixin(Rotatable)){static get $name(){return"ButtonGroup"}static get type(){return"buttongroup"}static get configurable(){return{defaultType:"button",cls:null,items:null,color:null,toggleGroup:null,valueSeparator:",",columns:null,hideWhenEmpty:!0,defaultBindProperty:"value"}}onChildAdd(e){super.onChildAdd(e),e.on({click:"onItemClick",thisObj:this,prio:1e4})}onChildRemove(e){e.un({click:"onItemClick",thisObj:this}),super.onChildRemove(e)}onItemClick(){this._value=null}createWidget(e){const n=this;return n.constructor.resolveType(e.type||"button").isButton&&(n.color&&!e.color&&(e.color=n.color),n.toggleGroup&&!e.toggleGroup&&("boolean"==typeof n.toggleGroup&&(n.toggleGroup=ButtonGroup.generateId("toggleGroup")),e.toggleGroup=n.toggleGroup)),n.columns&&(e.width=100/n.columns+"%"),e=super.createWidget(e),n.relayEvents(e,["click","action","toggle"]),e}updateRotate(e){this.eachWidget((n=>{!1!==n.rotate&&(n.rotate=e)}))}get value(){if(!this._value){const e=[];this.items.forEach((n=>{n.pressed&&void 0!==n.value&&e.push(n.value)})),this._value=e.join(this.valueSeparator)}return this._value}set value(e){Array.isArray(e)||(e=null==e?[]:"string"==typeof e?e.split(this.valueSeparator):[e]),this._value=e,this.items.forEach((n=>{void 0!==n.value&&(n.pressed=e.indexOf(n.value)>-1)}))}get disabled(){return super.disabled}set disabled(e){super.disabled=e,this.items.forEach((n=>n.disabled=e))}get widgetClassList(){const e=super.widgetClassList;return this.columns&&e.push("b-columned"),e}}ButtonGroup.initClass(),ButtonGroup._$name="ButtonGroup";class CalendarPanel extends Panel{static get $name(){return"CalendarPanel"}static get type(){return"calendarpanel"}static get configurable(){return{textContent:!1,date:{$config:{equal:"date"},value:null},month:{},year:null,weekStartDay:null,sixWeeks:!0,showWeekNumber:null,showWeekColumn:null,disabledDates:null,headerRenderer:null,weekRenderer:null,cellRenderer:null,disableWeekends:null,hideNonWorkingDays:null,hideNonWorkingDaysCls:"b-hide-nonworking-days",nonWorkingDays:null,tip:null,dayCellCls:"b-calendar-cell",dayHeaderCls:"b-calendar-day-header",disabledCls:"b-disabled-date",otherMonthCls:"b-other-month",weekendCls:"b-weekend",todayCls:"b-today",nonWorkingDayCls:"b-nonworking-day",dayNameFormat:"ddd",minRowHeight:{$config:["lazy"],value:null},minColumnWidth:{$config:["lazy"],value:null}}}construct(e){super.construct(e),this.refreshCount||this.refresh()}onPaint({firstPaint:e}){var n;null===(n=super.onPaint)||void 0===n||n.call(this,...arguments),e&&(this.refreshCount||this.refresh(),this.getConfig("minColumnWidth"),this.getConfig("minRowHeight"))}get overflowElement(){return this.weeksElement}doDestroy(){var e;null===(e=this.tip)||void 0===e||e.destroy(),super.doDestroy()}changeMinRowHeight(e){const n=parseInt(DomHelper.getStyleValue(this.element,"--min-row-height"),10)||75;return isNaN(e)?e:Math.max(parseInt(e)||0,n)}updateMinRowHeight(e){this.weekElements.forEach((n=>DomHelper.setLength(n,"minHeight",e))),this.scrollable={overflowY:!!e&&"auto"}}changeMinColumnWidth(e){const n=parseInt(DomHelper.getStyleValue(this.element,"--min-column-width"),10)||75;return null==e?e:Math.max(parseInt(e)||0,n)}updateMinColumnWidth(e){const n=this;n.weekdayCells.forEach((n=>DomHelper.setLength(n,"minWidth",e))),n.cellElements.forEach((r=>r.matches(`.${n.dayCellCls}`)&&DomHelper.setLength(r,"minWidth",e))),n.scrollable={overflowX:!!e&&"auto"},n.overflowElement.classList[e?"add":"remove"]("b-min-columnwidth")}getDateFromEvent(e){const n=(e.nodeType===Element.ELEMENT_NODE?e:e.target).closest(`#${this.id} [data-date]`);if(n)return DateHelper.parseKey(n.dataset.date)}changeTip(e,n){const r=this;return Tooltip.reconfigure(n,e,{owner:r,defaults:{type:"tooltip",owner:r,id:`${r.id}-cell-tip`,forElement:r.bodyElement,forSelector:`.${r.dayCellCls}`}})}updateTip(e){this.detachListeners("tip"),null==e||e.on({pointerOver:"onTipOverCell",name:"tip",thisObj:this})}updateElement(e,n){const r=this;super.updateElement(e,n),r.updateHideNonWorkingDays(r.hideNonWorkingDays),r.weekdayCells=Array.from(e.querySelectorAll(".b-calendar-day-header")),r.weekElements=Array.from(e.querySelectorAll(".b-calendar-week")),r.weekDayElements=Array.from(e.querySelectorAll(".b-calendar-days")),r.cellElements=[];for(let e=0,{length:n}=r.weekDayElements;e<n;e++)r.cellElements.push(r.weekDayElements[e].previousSibling,...r.weekDayElements[e].children)}changeDate(e){if(e="string"==typeof e?DateHelper.parse(e):new Date(e),isNaN(e))throw new Error("CalendarPanel date ingestion must be passed a Date, or a YYYY-MM-DD date string");return DateHelper.clearTime(e)}updateDate(e){this.month.date=e}updateDayNameFormat(){const e=new Date("2000-06-04T12:00:00");this.shortDayNames=[];for(let n=4;n<11;n++)e.setDate(n),this.shortDayNames.push(DateHelper.format(e,this.dayNameFormat))}get weekStartDay(){return"number"==typeof this._weekStartDay?this._weekStartDay:DateHelper.weekStartDay}updateWeekStartDay(e){const n=this;if(n._month){n.month.weekStartDay=e,n.dayNames=[];for(let e=0;e<7;e++)n.dayNames[e]=n.shortDayNames[n.canonicalDayNumbers[e]];n.refreshCount&&n.refresh()}}updateHideNonWorkingDays(e){var n;this.contentElement.classList[e?"add":"remove"](this.hideNonWorkingDaysCls),null===(n=this.scrollable)||void 0===n||n.syncOverflowState(),this._month&&(this.month.hideNonWorkingDays=e)}get nonWorkingDays(){return this._nonWorkingDays||DateHelper.nonWorkingDays}changeNonWorkingDays(e){return ObjectHelper.assign({},e)}updateNonWorkingDays(e){var n;this._month&&(this.month.nonWorkingDays=e,this.refresh(),null===(n=this.scrollable)||void 0===n||n.syncOverflowState())}get visibleDayColumnIndex(){return this.month.visibleDayColumnIndex}get dayColumnIndex(){return this.month.dayColumnIndex}get canonicalDayNumbers(){return this.month.canonicalDayNumbers}get visibleColumnCount(){return this.month.visibleColumnCount}get weekLength(){return this.month.weekLength}get startDate(){return this.month.startDate}get duration(){return DateHelper.diff(this.month.startDate,this.month.endDate,"day")+1}get endDate(){const{endDate:e}=this.month;if(e)return DateHelper.add(e,1,"day")}changeMonth(e,n){const r=this;if(!(e instanceof Month)){if("number"==typeof e){if(n)return void(n.month=e);const o=r.date||DateHelper.clearTime(new Date);o.setMonth(e),e={date:o}}e=Month.new({weekStartDay:r.weekStartDay,nonWorkingDays:r.nonWorkingDays,hideNonWorkingDays:r.hideNonWorkingDays,sixWeeks:r.sixWeeks},e)}return e.on({dateChange:"onMonthDateChange",thisObj:r}),e}onMonthDateChange({source:e,newDate:n,oldDate:r,changes:o}){const i=this;i.year=e.year,i.isConfiguring||((o.m||o.y)&&i.refresh(),i.trigger("dateChange",{changes:o,value:n,oldValue:r}))}updateYear(e){this.month.year=e}updateShowWeekNumber(e){this.updateShowWeekColumn(e)}updateShowWeekColumn(e){const n=this;n.element.classList[e?"add":"remove"]("b-show-week-column"),n.floating&&(n.isAligning||n.realign())}updateSixWeeks(e){this.month&&(this.month.sixWeeks=e,this.refresh())}refresh(){this.doRefresh()}doRefresh(){this.getConfig("element");const e=this,n=DateHelper.clearTime(new Date),{weekElements:r,weekDayElements:o,date:i,month:a,dayCellCls:l,dayHeaderCls:c,disabledCls:d,otherMonthCls:u,weekendCls:p,todayCls:b,nonWorkingDayCls:g,nonWorkingDays:m,canonicalDayNumbers:f}=e;i||(e.date=n),e.getConfig("dayNameFormat");for(let n=0;n<7;n++){const r=e.weekdayCells[n],o=e.canonicalDayNumbers[n],i={[c]:1,[p]:DateHelper.weekends[o],[g]:m[o]};e.headerRenderer?(r.innerHTML="",e.callback(e.headerRenderer,e,[r,n,o])):DomHelper.setInnerText(r,e.shortDayNames[o]),DomHelper.syncClassList(r,i),r.dataset.columnIndex=n,r.dataset.cellDay=o}let v=0,y=0,x=6;for(let e=6;e>=0;e--)if(!m[f[e]]){x=e;break}for(a.eachWeek(((i,c)=>{const f=o[v],C=[f.previousSibling,...f.children];r[v].dataset.week=`${i[0]},${i[1]}`,r[v].classList.remove("b-hide-display"),e.weekRenderer?e.callback(e.weekRenderer,e,[C[0],i]):C[0].innerHTML=i[1];for(let o=0;o<7;o++){const f=c[o],S=f.getDay(),D=C[o+1],E={[l]:1,[d]:e.isDisabledDate(f),[u]:f.getMonth()!==a.month,[p]:DateHelper.weekends[S],[b]:f.getTime()===n.getTime(),[g]:m[S],"b-last-working-day":o===x};DomHelper.syncClassList(D,E),D.dataset.date=DateHelper.makeKey(f),D.dataset.cellIndex=y,D.dataset.columnIndex=o,D.lastDomConfig&&(delete D.lastDomConfig.class,delete D.lastDomConfig.className),e.cellRenderer?e.callback(e.cellRenderer,e,[{cell:D,date:f,day:S,row:r[v],rowIndex:v,cellIndex:y,columnIndex:o,visibleColumnIndex:e.visibleDayColumnIndex[S],week:i}]):D.innerHTML=f.getDate(),y++}v++})),e.visibleWeekCount=v;v<6;v++)r[v].classList[e.sixWeeks?"remove":"add"]("b-hide-display");e.floating&&(e.isAligning||e.realign()),e.refreshCount=(e.refreshCount||0)+1,e.trigger("refresh")}isDisabledDate(e){const n=e.getDay(),{disabledDates:r,nonWorkingDays:o}=this;return!(!this.disableWeekends||!o[n])||(r?Array.isArray(r)?(e=DateHelper.clearTime(e,!0),r.some((n=>!(DateHelper.clearTime(n,!0)-e)))):this.callback(this.disabledDates,this,[e]):void 0)}get bodyConfig(){const e=super.bodyConfig,n=[];e.children=[{tag:"div",className:"b-calendar-row b-calendar-weekdays",reference:"weekdaysHeader",children:[{class:"b-week-number-cell"},...ArrayHelper.fill(7,{class:this.dayHeaderCls}),DomHelper.scrollBarPadElement]},{className:"b-weeks-container notranslate",reference:"weeksElement",children:n}];for(let e=0;e<6;e++){const e={className:"b-calendar-row b-calendar-week",children:[{className:"b-week-number-cell"},{className:"b-calendar-days",children:[{},{},{},{},{},{},{}],syncOptions:{ignoreRefs:!0,strict:!1}}]};n.push(e)}return e}get firstVisibleDate(){for(const e=this,n=e.month.startDate;;n.setDate(n.getDate()+1))if(!e.hideNonWorkingDays||!e.nonWorkingDays[n.getDay()])return n}getCell(e){return"string"!=typeof e&&(e=DateHelper.makeKey(e)),this.weeksElement.querySelector(`[data-date="${e}"]`)}onTipOverCell({source:e,target:n}){e.date=DateHelper.parseKey(n.dataset.date)}updateLocalization(){this.updateDayNameFormat(),this.updateWeekStartDay(this.weekStartDay),super.updateLocalization()}}CalendarPanel.initClass(),CalendarPanel._$name="CalendarPanel";class Checkbox extends Field{static get $name(){return"Checkbox"}static get type(){return"checkbox"}static get alias(){return"check"}static get configurable(){return{inputType:"checkbox",text:"",color:null,value:"",toggleGroup:null,localizableProperties:["label","text"]}}construct(e){"checked"in e&&((e=ObjectHelper.assign({},e)).value=e.checked,delete e.checked),super.construct(e),this.syncHasText()}get innerElements(){return[this.inputElement,{tag:"label",class:"b-checkbox-label",for:`${this.id}-input`,reference:"textLabel",html:this.text||""}]}get inputElement(){const e=this,n=super.inputElement;return e.readOnly&&(n.disabled=!0),e.toggleGroup&&(n.dataset={group:e.toggleGroup}),n}get checked(){return this.value}set checked(e){this.value=e}syncHasText(){this.element.classList[this.text?"add":"remove"]("b-text")}updateText(e){this.textLabel&&(this.syncHasText(),this.textLabel.innerHTML=e)}changeValue(e){return"false"!==e&&Boolean(e)}updateValue(e){const n=this,r=n.input.checked!==e;n.input.checked=e,r&&!n.inputting&&(n.uncheckToggleGroupMembers(),n.isConfiguring||n.triggerChange(!1))}get inputValueAttr(){return"checked"}updateColor(e,n){const r=this.element.classList;n&&r.remove(n),e&&r.add(e)}getToggleGroupMembers(){const e=this,{checked:n,toggleGroup:r,input:o}=e,i=[];return n&&r&&DomHelper.forEachSelector(e.rootElement,`input[type=checkbox][data-group=${r}]`,(e=>{if(e!==o){const n=Widget.fromElement(e);n&&i.push(n)}})),i}uncheckToggleGroupMembers(){this.checked&&this.toggleGroup&&this.getToggleGroupMembers().forEach((e=>e.checked=!1))}updateReadOnly(e){this.input&&(this.input.disabled=e),super.updateReadOnly(e)}check(){this.checked=!0}uncheck(){this.checked=!1}toggle(){this.checked=!this.checked}internalOnChange(e){const n=this;n.value=n.input.checked,n.inputting||(n.inputting=!0,n.triggerChange(!0),n.inputting=!1)}triggerChange(e){const n=this,{checked:r}=n.input,o={checked:r,value:r,userAction:e,valid:!0};if(!(!r&&e&&n.toggleGroup&&n.getToggleGroupMembers().filter((e=>e.isVisible&&!e.disabled)).length||!1===n.trigger("beforeChange",o)))return n.triggerFieldChange(o,!1),e&&n.uncheckToggleGroupMembers(),n.trigger("action",o),n.trigger("change",o),!0;n.input.checked=n._value=!r}}Checkbox.initClass(),Checkbox._$name="Checkbox";const generateMonthNames=()=>DateHelper.getMonthNames().map(((e,n)=>[n,e])),vs=[],ys=(new Date).getFullYear();for(let e=ys-20;e<ys+21;e++)vs.push(e);(class ReadOnlyCombo extends Combo{static get $name(){return"ReadOnlyCombo"}static get type(){return"readonlycombo"}static get configurable(){return{editable:!1,inputAttributes:{tag:"div",tabIndex:-1},highlightExternalChange:!1,triggers:{expand:!1},picker:{align:{align:"t-b",axisLock:!0,matchSize:!1},cls:"b-readonly-combo-list",scrollable:{overflowX:!1}}}}onSelect({record:e}){this.value=e.value}set value(e){const{store:n}=this,r=[];if(e<n.first.id)for(let o=e;o<n.first.id;o++)r.push({text:o});if(e>n.last.id)for(let o=n.last.id+1;o<=e;o++)r.push({text:o});n.add(r),super.value=e,this.input.innerHTML=this.input.value}get value(){return super.value}}).initClass();class DatePicker extends CalendarPanel{static get $name(){return"DatePicker"}static get type(){return"datepicker"}static get delayable(){return{refresh:"raf"}}static get configurable(){return{activeDate:{value:null,$config:{equal:"date"}},focusable:!0,textContent:!1,tbar:{overflow:null,items:[{ref:"prevMonth",cls:"b-icon b-icon-prev",onAction:"up.gotoPrevMonth"},{type:"container",flex:1,defaultType:"readonlycombo",cls:"b-datepicker-title",items:[{ref:"monthField",cls:"b-datepicker-monthfield",items:generateMonthNames(),listeners:{select:"up.onMonthPicked"}},{ref:"yearField",cls:"b-datepicker-yearfield",items:vs,listeners:{select:"up.onYearPicked"}}]},{ref:"nextMonth",cls:"b-icon b-icon-next",onAction:"up.gotoNextMonth"}]},date:new Date,minDate:{value:null,$config:{equal:"date"}},maxDate:{value:null,$config:{equal:"date"}},focusDisabledDates:null,multiSelect:!1,editOnHover:!0,editMonth:!0,dayNameFormat:"dd"}}static get prototypeProperties(){return{outOfRangeCls:"b-out-of-range",activeCls:"b-active-date",selectedCls:"b-selected-date"}}construct(e){const n=this;e.editOnHover&&VersionHelper.deprecate("Grid","5.0.0","`editOnHover` config deprecated, it now has no effect and will be removed in 5.0"),n.selection=e.date?[e.date]:[],super.construct(e),n.externalCellRenderer=n.cellRenderer,n.cellRenderer=n.internalCellRenderer,n.element.setAttribute("aria-activedescendant",`${n.id}-active-day`),EventHelper.on({element:n.weeksElement,click:"onCellClick",delegate:`.${n.dayCellCls}:not(.${n.disabledCls}):not(.${n.outOfRangeCls})`,thisObj:n}),n.widgetMap.monthField.readOnly=n.widgetMap.yearField.readOnly=!n.editMonth}doDestroy(){var e,n;null===(e=this.yearField)||void 0===e||e.destroy(),null===(n=this.monthField)||void 0===n||n.destroy(),super.doDestroy()}get focusElement(){return this.element}internalCellRenderer({cell:e,date:n}){var r;const o=this,{activeCls:i,selectedCls:a}=o,l={[i]:o.isActiveDate(n),[a]:o.isSelectedDate(n),[o.outOfRangeCls]:o.minDate&&n<o.minDate||o.maxDate&&n>o.maxDate};DomHelper.updateClassList(e,l),DomHelper.setInnerText(e,n.getDate()),e.setAttribute("aria-label",DateHelper.format(n,"MMMM D, YYYY")),o.isActiveDate(n)?e.id=`${o.id}-active-day`:e.removeAttribute("id"),null===(r=o.externalCellRenderer)||void 0===r||r.call(o,...arguments)}onCellClick(e){const n=e.target.closest("[data-date]");this.onUIDateSelect(DateHelper.parseKey(n.dataset.date),e)}onUIDateSelect(e,n){const r=this,{lastClickedDate:o,selection:i}=r;r.activeDate=e,r.lastClickedDate=e,r.isDisabledDate(e)||(r.activatingEvent=n,r.multiSelect?r.multiRange||o&&DateHelper.isSameDate(e,o)||(o&&n.shiftKey?(i[1]=e,i.sort()):(i.length=0,i[0]=e),r.trigger("selectionChange",{selection:i,userAction:Boolean(n)})):r.value&&r.value.getTime()===e.getTime()?r.floating&&r.hide():r.value=e,r.activatingEvent=null)}onInternalKeyDown(e){const n=this,r=e.key.trim()||e.code,o=n.activeDate;let i=new Date(o);if("Escape"===r&&n.floating)return n.hide();if(o&&e.target===n.focusElement){do{switch(r){case"ArrowLeft":e.preventDefault(),e.ctrlKey?i=n.gotoPrevMonth():i.setDate(i.getDate()-1);break;case"ArrowUp":e.preventDefault(),i.setDate(i.getDate()-7);break;case"ArrowRight":e.preventDefault(),e.ctrlKey?i=n.gotoNextMonth():i.setDate(i.getDate()+1);break;case"ArrowDown":e.preventDefault(),i.setDate(i.getDate()+7);break;case"Enter":return n.onUIDateSelect(o,e)}}while(n.isDisabledDate(i)&&!n.focusDisabledDates);if(n.minDate&&i<n.minDate)return;if(n.maxDate&&i>n.maxDate)return;n.activeDate=i}}changeMinDate(e){return e?this.changeDate(e):null}updateMinDate(){this.refresh()}changeMaxDate(e){return e?this.changeDate(e):null}updateMaxDate(){this.refresh()}updateDate(e){super.updateDate(e),this.activeDate=e}changeActiveDate(e){if(e=e?this.changeDate(e):this.date||(this.date=DateHelper.clearTime(new Date)),isNaN(e))throw new Error("DatePicker date ingestion must be passed a Date, or a YYYY-MM-DD date string");return e}updateActiveDate(e){this.month.date=e,this.widgetMap.monthField.value=e.getMonth(),this.widgetMap.yearField.value=e.getFullYear(),this.isConfiguring||this.refresh()}set value(e){const n=this,{selection:r}=n;let o;if(e){if(void 0===(e=n.changeDate(e,n.value)))return;n.value&&e.getTime()===n.value.getTime()||(r.length=0,r[0]=e,o=!0),n.date=e}else o=r.length,r.length=0,n.date=new Date;o&&n.trigger("selectionChange",{selection:r,userAction:Boolean(n.activatingEvent)})}get value(){return this.selection[this.selection.length-1]}gotoPrevMonth(){const e=this,{activeDate:n}=e,r=n&&e.getCell(n)?n:e.date,o=DateHelper.add(r,-1,"month"),i=new Date(r).setDate(0);if(!e.minDate||i>=e.minDate)return e.date=o}gotoNextMonth(){const e=this,{activeDate:n}=e,r=n&&e.getCell(n)?n:e.date,o=DateHelper.add(r,1,"month"),i=new Date(o).setDate(1);if(!e.maxDate||i<=e.maxDate)return e.date=o}isActiveDate(e){return this.activeDate&&this.changeDate(e).getTime()===this.activeDate.getTime()}isSelectedDate(e){return this.selection.some((n=>DateHelper.isEqual(n,e,"day")))}onMonthPicked({record:e,userAction:n}){var r;(this.activeDate=DateHelper.add(this.activeDate,e.value-this.activeDate.getMonth(),"month"),n)&&(null===(r=this.focusElement)||void 0===r||r.focus())}onYearPicked({record:e,userAction:n}){const r=new Date(this.activeDate);var o;(r.setFullYear(e.value),this.activeDate=r,n)&&(null===(o=this.focusElement)||void 0===o||o.focus())}get yearItems(){const e=[],n=(new Date).getFullYear();for(let r=n-20;r<n+21;r++)e.push(r);return e}updateLocalization(){const e=this.widgetMap.monthField,n=generateMonthNames();n[e.value].selected=!0,e.items=n,super.updateLocalization()}}DatePicker.initClass(),DatePicker._$name="DatePicker";class DateField extends PickerField{static get $name(){return"DateField"}static get type(){return"datefield"}static get alias(){return"date"}static get configurable(){return{format:"L",fallbackFormat:"YYYY-MM-DD",timeFormat:"HH:mm:ss:SSS",keepTime:!1,pickerFormat:null,validateDateOnly:null,triggers:{expand:{cls:"b-icon-calendar",handler:"onTriggerClick",weight:200},back:{cls:"b-icon b-icon-angle-left b-step-trigger",handler:"onBackClick",align:"start",weight:100},forward:{cls:"b-icon b-icon-angle-right b-step-trigger",handler:"onForwardClick",align:"end",weight:100}},calendarContainerCls:"",min:null,max:null,step:!1,stepTriggers:null,weekStartDay:null,picker:{type:"datepicker",floating:!0,scrollAction:"realign",align:{align:"t0-b0",axisLock:!0}},value:null}}changePicker(e,n){const r=this,o={owner:r,forElement:r[r.pickerAlignElement],minDate:r.min,maxDate:r.max,weekStartDay:r._weekStartDay,align:{anchor:r.overlayAnchor,target:r[r.pickerAlignElement]},onSelectionChange:({selection:e,source:n})=>{n.isVisible&&(r._isUserAction=!0,r._isPickerInput=!0,r.value=e[0],r._isPickerInput=!1,r._isUserAction=!1,n.hide())}};return r.calendarContainerCls&&(o.cls=r.calendarContainerCls),r.value?o.value=r.value:o.date=new Date,DatePicker.reconfigure(n,e,{owner:r,defaults:o})}get backShiftDate(){return DateHelper.add(this.value,-1*this._step.magnitude,this._step.unit)}onBackClick(){const e=this,{min:n}=e;if(!e.readOnly&&e.value){const r=e.backShiftDate;(!n||n.getTime()<=r)&&(e._isUserAction=!0,e.value=r,e._isUserAction=!1)}}get forwardShiftDate(){return DateHelper.add(this.value,this._step.magnitude,this._step.unit)}onForwardClick(){const e=this,{max:n}=e;if(!e.readOnly&&e.value){const r=e.forwardShiftDate;(!n||n.getTime()>=r)&&(e._isUserAction=!0,e.value=r,e._isUserAction=!1)}}showPicker(e){if(this.readOnly)return;const{_picker:n}=this;n&&(n.value=this.value,n.minDate=this.min,n.maxDate=this.max),super.showPicker(e)}focusPicker(){this.picker.focus()}get isValid(){const e=this;e.clearError("L{Field.minimumValueViolation}",!0),e.clearError("L{Field.maximumValueViolation}",!0);let n=e.value;if(n){const{min:r,max:o,validateDateOnly:i}=e;if(i&&(n=DateHelper.clearTime(n,!1)),r&&n<r)return e.setError("L{Field.minimumValueViolation}",!0),!1;if(o&&n>o)return e.setError("L{Field.maximumValueViolation}",!0),!1}return super.isValid}transformDateValue(e){return null!=e&&(DateHelper.isDate(e)||(e="string"==typeof e?DateHelper.parse(e,this.format)||DateHelper.parse(e,this.fallbackFormat):new Date(e)),DateHelper.isValidDate(e))?this.transformTimeValue(e):null}transformTimeValue(e){const n=this,{keepTime:r}=n;if(e=DateHelper.clone(e),r)if("entered"!==r){const o=DateHelper.parse(r,n.timeFormat);DateHelper.isValidDate(o)?DateHelper.copyTimeValues(e,o):DateHelper.isValidDate(n.value)&&DateHelper.copyTimeValues(e,n.value)}else n._isPickerInput&&DateHelper.isValidDate(n.value)&&DateHelper.copyTimeValues(e,n.value);else DateHelper.clearTime(e,!1);return e}changeMin(e){return this.transformDateValue(e)}updateMin(e){const{input:n,_picker:r}=this;n&&(null==e?n.removeAttribute("min"):n.min=e),r&&(r.minDate=e),this.syncInvalid()}changeMax(e){return this.transformDateValue(e)}updateMax(e){const{input:n,_picker:r}=this;n&&(null==e?n.removeAttribute("max"):n.max=e),r&&(r.maxDate=e),this.syncInvalid()}get weekStartDay(){return"number"==typeof this._weekStartDay?this._weekStartDay:DateHelper.weekStartDay}updateWeekStartDay(e){this._picker&&(this._picker.weekStartDay=e)}changeValue(e,n){const r=this,o=r.transformDateValue(e);if(!e||o){if(r.clearError("L{invalidDate}"),r.hasChanged(n,o))return super.changeValue(o,n);r.inputting||r.syncInputFieldValue()}else r.setError("L{invalidDate}")}updateValue(e,n){const r=this._picker;r&&!this.inputting&&(r.value=e),super.updateValue(e,n)}changeStep(e,n){const r=typeof e;return e?("number"===r?e={magnitude:Math.abs(e),unit:n?n.unit:"day"}:"string"===r&&(e=DateHelper.parseDuration(e)),e&&e.unit&&e.magnitude?(e.magnitude<0&&(e={magnitude:-e.magnitude,unit:e.unit}),e):void 0):null}updateStep(e){this.element.classList[e?"remove":"add"]("b-no-steppers"),this.syncInvalid()}hasChanged(e,n){return null!=e&&e.getTime&&null!=n&&n.getTime&&"entered"!==this.keepTime?!DateHelper.isEqual(DateHelper.clearTime(e),DateHelper.clearTime(n)):super.hasChanged(e&&e.getTime(),n&&n.getTime())}get inputValue(){const e=this.value;return e?DateHelper.format(e,this.format):""}updateFormat(){this.syncInputFieldValue(!0)}updateLocalization(){super.updateLocalization(),this.syncInputFieldValue(!0)}internalOnKeyEvent(e){super.internalOnKeyEvent(e),"Enter"===e.key&&this.isValid&&this.picker.hide()}}DateField.initClass(),DateField._$name="DateField";class NumberField extends Field{static get $name(){return"NumberField"}static get type(){return"numberfield"}static get alias(){return"number"}static get configurable(){return{min:null,max:null,step:1,largeStep:0,value:null,format:"",decimalPrecision:null,leadingZeroes:null,triggers:{spin:{type:"spintrigger"}},changeOnSpin:!0,inputType:null}}construct(e){super.construct(e);const n=this;n.input.addEventListener("dblclick",(()=>{n.select()})),"number"==typeof n.changeOnSpin&&(n.bufferedSpinChange=n.buffer(n.triggerChange,n.changeOnSpin))}acceptValue(e,n){let r=!isNaN(e);if(r&&!this.hasTextSelection){r=!1;const e=this.input.value,o=parseFloat(e);e!==n&&(r=!this.acceptValue(o,e))}return r}okMax(e){return isNaN(this.max)||e<=this.max}okMin(e){return isNaN(this.min)||e>=this.min}internalOnKeyEvent(e){if("keydown"===e.type){const n=this,r=e.key;let o;if("ArrowUp"===r)n.doSpinUp(e.shiftKey),o=!0;else if("ArrowDown"===r)n.doSpinDown(e.shiftKey),o=!0;else if(!e.altKey&&!e.ctrlKey&&r&&1===r.length){const e=n.getAfterValue(r),i=n.formatter.parseStrict(e);o=!(i===n.value||"-"===e&&(isNaN(n.min)||n.min<0))&&!n.acceptValue(i,e)}"Enter"===r&&n._changedBySilentSpin&&(n.triggerChange(e,!0),n._changedBySilentSpin=!1),o&&e.preventDefault()}super.internalOnKeyEvent(e)}doSpinUp(e=!1){const n=this;let r=(n.value||0)+(e?n.largeStep:n.step);n.okMin(r)||(r=n.min),n.okMax(r)&&n.applySpinChange(r)}doSpinDown(e=!1){const n=this;let r=(n.value||0)-(e?n.largeStep:n.step);n.okMax(r)||(r=n.max),n.okMin(r)&&n.applySpinChange(r)}applySpinChange(e){const n=this;n._isUserAction=!0,!0!==n.changeOnSpin&&(n._changedBySilentSpin=!0,n.silenceChange=!0,n.bufferedSpinChange&&n.bufferedSpinChange(null,!0)),n.value=e,n._isUserAction=!1,n.silenceChange=!1}triggerChange(){this.silenceChange||super.triggerChange(...arguments)}onFocusOut(e){super.onFocusOut(...arguments);const n=this,{input:r}=n,o=r.value,i=n.formatter.truncate(o),a=isNaN(i)?o:n.formatValue(i);o!==a&&(r.value=a),n._changedBySilentSpin&&(n.triggerChange(e,!0),n._changedBySilentSpin=!1)}internalOnInput(e){const n=this,{formatter:r,input:o}=n,{parser:i}=r,a=o.value,l=i.decimalPlaces(a);if(r.truncator&&l){let e=a;const c=r.truncate(a);if(!isNaN(c)&&(e=n.formatValue(c),i.decimalPlaces(e)<l)){const r=a.length-n.caretPos;o.value=e,n.caretPos=e.length-r}}super.internalOnInput(e)}formatValue(e){return this.formatter.format(e)}changeFormat(e){const n=this;if(""===e){const{leadingZeroes:r,decimalPrecision:o}=n;e=r?`${r}>9`:null,null!=o?e=`${e||""}9.${"#".repeat(o)}`:e&&(e+=".*")}return e}get formatter(){const e=this,n=e.format;let r=e._formatter;return r&&e._lastFormat===n||(r=NumberFormat.get(e._lastFormat=n),e._formatter=r),r}updateStep(e){this.element.classList[e?"remove":"add"]("b-hide-spinner"),this._step=e}changeLargeStep(e){return e||10*this.step}get validity(){const e=this.value,n={};return null!=e&&(n.rangeUnderflow=!this.okMin(e),n.rangeOverflow=!this.okMax(e)),n.valid=!n.rangeUnderflow&&!n.rangeOverflow,n}changeValue(e,n){const r=this;if(e||0===e){let n;"number"!=typeof e&&(e="string"==typeof e?r.formatter.parse(e):Number(e),n=isNaN(e),n&&(e="")),!n&&r.format&&(e=r.formatter.round(e))}else e=void 0;return super.changeValue(e,n)}get inputValue(){let e=this.value;return null!=e&&this.format&&(e=this.formatValue(e)),e}}NumberField.initClass(),NumberField._$name="NumberField";class TimePicker extends Popup{static get $name(){return"TimePicker"}static get type(){return"timepicker"}static get defaultConfig(){return{items:{hour:{type:"number",min:0,max:23,highlightExternalChange:!1,format:"2>9"},label:{html:"<label>:</label>"},minute:{type:"number",min:0,max:59,highlightExternalChange:!1,format:"2>9"},amButton:{type:"button",text:"AM",toggleGroup:"am-pm",cls:"b-blue"},pmButton:{type:"button",text:"PM",toggleGroup:"am-pm",cls:"b-blue"}},float:"1",autoShow:!1,trapFocus:!0,value:DateHelper.getTime(0),format:null}}construct(e){super.construct(e);const n=this,{hour:r,minute:o,amButton:i,pmButton:a}=n.widgetMap;n._pm=!1,r.on("change",n.onFieldChange,n),o.on("change",n.onFieldChange,n),i.on("click",n.onAmButtonClick,n),a.on("click",n.onPmButtonClick,n),EventHelper.on({element:n.element,keydown:"onPickerKeyDown",thisObj:n,capture:!0}),n.refresh()}onFieldChange(){const e=this;e._time&&(e.value=e.pickerToTime())}onAmButtonClick(){const e=this;e._pm=!1,e._time&&(e.value=e.pickerToTime())}onPmButtonClick(){const e=this;e._pm=!0,e._time&&(e.value=e.pickerToTime())}onPickerKeyDown(e){const n=this;switch(e.key&&e.key.trim()||e.code){case"Escape":n.triggerTimeChange(n._initialValue),n.hide(),e.preventDefault();break;case"Enter":n.value=n.pickerToTime(),n.hide(),e.preventDefault()}}pickerToTime(){const e=this,n=e._pm,{hour:r,minute:o}=e.widgetMap;r.format=e._is24Hour?"2>9":null;let i=r.value,a=new Date(e._time);return e._is24Hour||(n&&i<12&&(i+=12),n||12!==i||(i=0)),a.setHours(i),a.setMinutes(o.value),e._min&&(a=DateHelper.max(e._min,a)),e._max&&(a=DateHelper.min(e._max,a)),a}triggerTimeChange(e){this.trigger("timeChange",{time:e})}set value(e){const n=this;let r=!1;e&&n._time?e.getTime()!==n._time.getTime()&&(n._time=e,r=!0):(n._time=TimePicker.defaultConfig.value,r=!0),r&&(n.isVisible&&n.triggerTimeChange(n.value),n.refresh())}get value(){return this._time}set format(e){const n=this;n._format=e,n._is24Hour=DateHelper.is24HourFormat(n._format),n.refresh()}get format(){return this._format}set min(e){this._min=e}get min(){return this._min}set max(e){this._max=e}get max(){return this._max}set initialValue(e){this.value=e,this._initialValue=e}get initialValue(){return this._initialValue}refresh(){const e=this;if(!e.isConfiguring){const{hour:n,minute:r,amButton:o,pmButton:i}=e.widgetMap,a=e._time,l=e._is24Hour,c=a.getHours(),d=e._pm=c>=12;e.element.classList[l?"add":"remove"]("b-24h"),n.min=l?0:1,n.max=l?23:12,n.value=l?c:c%12||12,r.value=a.getMinutes(),o.pressed=!d,i.pressed=d,o.hidden=i.hidden=l}}}TimePicker.initClass(),TimePicker._$name="TimePicker";class TimeField extends PickerField{static get $name(){return"TimeField"}static get type(){return"timefield"}static get alias(){return"time"}static get configurable(){return{picker:{type:"timepicker",floating:!0,align:{align:"t0-b0",axisLock:!0}},format:"LT",triggers:{expand:{align:"end",handler:"onTriggerClick",compose:()=>({children:[{class:{"b-icon-clock-live":1}}]})},back:{align:"start",cls:"b-icon b-icon-angle-left b-step-trigger",handler:"onBackClick"},forward:{align:"end",cls:"b-icon b-icon-angle-right b-step-trigger",handler:"onForwardClick"}},min:null,max:null,step:"5m",stepTriggers:null,value:null}}changePicker(e,n){const r=this;return TimePicker.reconfigure(n,e,{owner:r,defaults:{forElement:r[r.pickerAlignElement],owner:r,align:{anchor:r.overlayAnchor,target:r[r.pickerAlignElement]},onTimeChange({time:e}){r._isUserAction=!0,r.value=e,r._isUserAction=!1}}})}onBackClick(){const e=this,{min:n}=e;if(!e.readOnly&&e.value){const r=DateHelper.add(e.value,-1*e.step.magnitude,e.step.unit);(!n||n.getTime()<=r)&&(e._isUserAction=!0,e.value=r,e._isUserAction=!1)}}onForwardClick(){const e=this,{max:n}=e;if(!e.readOnly&&e.value){const r=DateHelper.add(e.value,e.step.magnitude,e.step.unit);(!n||n.getTime()>=r)&&(e._isUserAction=!0,e.value=r,e._isUserAction=!1)}}get isValid(){const e=this;e.clearError("L{Field.minimumValueViolation}",!0),e.clearError("L{Field.maximumValueViolation}",!0);let n=e.value;if(n){if(n=n.getTime(),e._min&&e._min.getTime()>n)return e.setError("L{Field.minimumValueViolation}",!0),!1;if(e._max&&e._max.getTime()<n)return e.setError("L{Field.maximumValueViolation}",!0),!1}return super.isValid}hasChanged(e,n){return e&&e.getTime&&n&&n.getTime?e.getHours()!==n.getHours()||e.getMinutes()!==n.getMinutes()||e.getSeconds()!==n.getSeconds()||e.getMilliseconds()!==n.getMilliseconds():super.hasChanged(e,n)}showPicker(e){const n=this,{picker:r}=n;n.readOnly||(r.initialValue=n.value,r.format=n.format,r.maxTime=n.max,r.minTime=n.min,n.value=r.value,super.showPicker(e))}onPickerShow(){var e;super.onPickerShow(),this.pickerKeyDownRemover=null===(e=this.pickerKeyDownRemover)||void 0===e?void 0:e.call(this)}focusPicker(){this.picker.focus()}transformTimeValue(e){return null!=e&&(DateHelper.isDate(e)||(e="string"==typeof e?DateHelper.parse(e,this.format):new Date(e)),DateHelper.isValidDate(e))?DateHelper.getTime(e):null}changeMin(e){return this.transformTimeValue(e)}updateMin(e){const{input:n}=this;n&&(null==e?n.removeAttribute("min"):n.min=e),this.syncInvalid()}changeMax(e){return this.transformTimeValue(e)}updateMax(e){const{input:n}=this;n&&(null==e?n.removeAttribute("max"):n.max=e),this.syncInvalid()}changeValue(e,n){const r=this,o=r.transformTimeValue(e);if(e&&!o||r.isRequired&&""===e)r.setError("L{invalidTime}");else{if(r.clearError("L{invalidTime}"),r.hasChanged(n,o))return super.changeValue(o,n);r.inputting||r.syncInputFieldValue(!0)}}updateValue(e,n){const{expand:r}=this.triggers;r&&e&&(r.element.firstElementChild.style.animationDelay=-(60*e.getHours()+e.getMinutes())/10+"s"),super.updateValue(e,n)}changeStep(e,n){const r=typeof e;return e?("number"===r?e={magnitude:Math.abs(e),unit:n?n.unit:"hour"}:"string"===r&&(e=DateHelper.parseDuration(e)),e&&e.unit&&e.magnitude?(e.magnitude<0&&(e={magnitude:-e.magnitude,unit:e.unit}),e):void 0):null}updateStep(e){this.element.classList[e?"remove":"add"]("b-no-steppers"),this.syncInvalid()}updateFormat(){this.syncInputFieldValue(!0)}get inputValue(){return DateHelper.format(this.value,this.format)}updateLocalization(){super.updateLocalization(),this.syncInputFieldValue(!0)}}TimeField.initClass(),TimeField._$name="TimeField";class DateTimeField extends Field{static get configurable(){return{timeField:{},dateField:{keepTime:!0,step:"1 d"},weekStartDay:null,inputTemplate:()=>""}}static get $name(){return"DateTimeField"}static get type(){return"datetimefield"}static get alias(){return"datetime"}get focusElement(){return this.dateField.input}get innerElements(){return[this.dateField.element,this.timeField.element]}internalOnKeyEvent(){}updateRevertOnEscape(e){this.timeField.revertOnEscape=e,this.dateField.revertOnEscape=e}changeTimeField(e){const n=this,r=TimeField.new({revertOnEscape:n.revertOnEscape,syncInvalid(...e){const r=n.updatingInvalid;TimeField.prototype.syncInvalid.apply(this,e),n.timeField&&!r&&n.syncInvalid()}},e);return EventHelper.on({element:r.element,keydown:"onTimeFieldKeyDown",thisObj:n}),n.readOnly&&(r.readOnly=!0),r}updateTimeField(e){const n=this;e.on({change({userAction:e,value:r}){if(e&&!n.$settingValue){const e=n.dateField.value;n._isUserAction=!0,n.value=e?DateHelper.copyTimeValues(e,r):null,n._isUserAction=!1}},thisObj:n})}changeDateField(e){const n=this,r=(null==e?void 0:e.type)||"datefield",o=Widget.resolveType(e.type||"datefield"),i=Widget.create(ObjectHelper.assign({type:r,revertOnEscape:n.revertOnEscape,syncInvalid(...e){const r=n.updatingInvalid;o.prototype.syncInvalid.apply(this,e),n.dateField&&!r&&n.syncInvalid()}},e));return EventHelper.on({element:i.element,keydown:"onDateFieldKeyDown",thisObj:n}),n.readOnly&&(i.readOnly=!0),i.on({keydown:({event:e})=>{var n;"Tab"===e.key&&!e.shiftKey&&null!==(n=this.timeField)&&void 0!==n&&n.isVisible&&(e.stopPropagation(),e.cancelBubble=!0)}}),i}get childItems(){return[this.dateField,this.timeField]}updateDateField(e){const n=this;e.on({change({userAction:e,value:r}){e&&!n.$isInternalChange&&(n._isUserAction=!0,n.value=r,n._isUserAction=!1)},thisObj:n})}updateWeekStartDay(e){this.dateField&&(this.dateField.weekStartDay=e)}changeWeekStartDay(e){var n,r;return"number"==typeof e?e:null!==(n=null===(r=this.dateField)||void 0===r?void 0:r.weekStartDay)&&void 0!==n?n:DateHelper.weekStartDay}syncInputFieldValue(e=this.isConfiguring){super.syncInputFieldValue(!0),e||this.highlightExternalChange||(e=!0);const n=this,r=n.dateField.highlightExternalChange,o=n.timeField.highlightExternalChange;n.$isInternalChange=!0,n.dateField.highlightExternalChange=!1,n.dateField.value=null,n.dateField.highlightExternalChange=r,e&&(n.timeField.highlightExternalChange=n.dateField.highlightExternalChange=!1),n.timeField.value=n.dateField.value=n.inputValue,n.dateField.highlightExternalChange=r,n.timeField.highlightExternalChange=o,n.$isInternalChange=!1,n.syncInvalid()}onTimeFieldKeyDown(e){const n=this;if("Enter"===e.key||"Tab"===e.key){const e=n.dateField.value;n._isUserAction=!0,n.value=e?DateHelper.copyTimeValues(e,n.timeField.value):null,n._isUserAction=!1}}onDateFieldKeyDown(e){const n=this;"Tab"===e.key&&(e.stopPropagation(),e.preventDefault(),n.timeField.focus()),"Enter"===e.key&&(n.value=n.dateField.value)}updateRequired(e,n){this.timeField.required=this.dateField.required=e}updateReadOnly(e,n){super.updateReadOnly(e,n),this.isConfiguring||(this.timeField.readOnly=this.dateField.readOnly=e)}onDisabled(e){this.timeField.disabled=this.dateField.disabled=e}focus(){this.dateField.focus()}hasChanged(e,n){return!DateHelper.isEqual(e,n)}get isValid(){return this.timeField.isValid&&this.dateField.isValid}setError(e,n){[this.dateField,this.timeField].forEach((r=>r.setError(e,n)))}getErrors(){const e=[...this.dateField.getErrors()||[],...this.timeField.getErrors()||[]];return e.length?e:null}clearError(e,n){[this.dateField,this.timeField].forEach((r=>r.clearError(e,n)))}updateInvalid(){this.updatingInvalid=!0,[this.dateField,this.timeField].forEach((e=>e.updateInvalid())),this.updatingInvalid=!1}}DateTimeField.initClass(),DateTimeField._$name="DateTimeField";class DisplayField extends TextField{static get $name(){return"DisplayField"}static get type(){return"displayfield"}static get alias(){return"display"}static get configurable(){return{readOnly:!0,editable:!1,cls:"b-display-field",template:null}}get focusElement(){}changeReadOnly(){return!0}changeEditable(){return!1}get inputElement(){return{tag:"span",html:this.template?this.template(this.value):StringHelper.encodeHtml(this.value)}}}DisplayField.initClass(),DisplayField._$name="DisplayField";class DurationField extends TextField{static get $name(){return"DurationField"}static get type(){return"durationfield"}static get alias(){return"duration"}static get defaultConfig(){return{value:null,step:1,unit:null,defaultUnit:"day",magnitude:null,useAbbreviation:!1,allowNegative:!1,decimalPrecision:null,triggers:{spin:{type:"spintrigger"}},nullValue:null}}static get configurable(){return{min:null,max:null,allowedUnits:null}}changeMin(e){return"string"==typeof e?new Duration(e):e}changeMax(e){return"string"==typeof e?new Duration(e):e}changeAllowedUnits(e){return"string"==typeof e&&(e=e.split(",")),e}updateAllowedUnits(e){this.allowedUnitsRe=new RegExp(`(${e.join("|")})`,"i")}get inputValue(){return null==this.value?"":this.calcValue(!0).toString(this.useAbbreviation)}set unit(e){this._unit=e,this.value=this.calcValue()}get unit(){return this._unit}get unitWithDefault(){return this._unit||DurationField.defaultConfig.defaultUnit}set magnitude(e){this.clearError("L{invalidUnit}"),this._magnitude=e,super.value=this.calcValue()}get magnitude(){return this._magnitude}roundMagnitude(e){return e&&null!=this.decimalPrecision?ObjectHelper.round(e,this.decimalPrecision):e}get allowDecimals(){return 0!==this.decimalPrecision}get isValid(){const e=this,n=null==e.value||e.value&&null==e.value.magnitude;return super.isValid&&(n&&!e.required||!n&&(e.allowNegative||e.value.magnitude>=0))}internalOnChange(e){const n=this,r=n.value,o=n._lastValue;n.hasChanged(o,r)&&(n._lastValue=r,n.triggerFieldChange({value:r,event:e,userAction:!0,valid:n.isValid}))}onFocusOut(e){return this.syncInputFieldValue(!0),super.onFocusOut(e)}set value(e){const n=this;let r,o;if(this.clearError("L{invalidUnit}"),"number"==typeof e)r=e,o=n._unit;else if("string"==typeof e){const i=DateHelper.parseDuration(e,n.allowDecimals,n.unitWithDefault);i&&(!n.allowedUnitsRe||n.allowedUnitsRe.test(i.unit)?(o=i.unit,r=i.magnitude):n.setError("L{invalidUnit}"))}else e&&"unit"in e&&"magnitude"in e?(o=e.unit,r=e.magnitude):(o=null,r=null);n._magnitude===r&&n._unit===o||(n._magnitude=r,o&&(n._unit=o),super.value=n.calcValue())}okMax(e){return"number"==typeof e&&(e=new Duration({unit:this.unitWithDefault,magnitude:e})),null==this.max||e<=this.max}okMin(e){return"number"==typeof e&&(e=new Duration({unit:this.unitWithDefault,magnitude:e})),null==this.min||e>=this.min}get validity(){const e=this.value,n={};return null!=e&&(n.rangeUnderflow=!this.okMin(e),n.rangeOverflow=!this.okMax(e)),n.valid=!n.rangeUnderflow&&!n.rangeOverflow,n}get value(){return super.value}calcValue(e=!1){const n=this;return n._unit&&null!=n._magnitude||!n.clearable?new Duration(e?this.roundMagnitude(n._magnitude):this._magnitude,n.unitWithDefault):null}hasChanged(e,n){return n&&!e||!n&&e||n&&e&&!e.isEqual(n)}get milliseconds(){return this.value?this.value.milliseconds:0}onInternalKeyDown(e){"ArrowUp"===e.key?this.doSpinUp():"ArrowDown"===e.key&&this.doSpinDown()}doSpinUp(){const e=this;let n=(e.magnitude||0)+e.step;e._isUserAction=!0,e.okMin(n)||(n=e.min),e.okMax(n)&&(e.value=n),e._isUserAction=!1}doSpinDown(){const e=this;let n=(e.magnitude||0)-e.step;e.okMax(n)||(n=e.max),e.okMin(n)&&(e.allowNegative||(e.magnitude||0)>0)&&(e._isUserAction=!0,e.value=n,e._isUserAction=!1)}}DurationField.initClass(),DurationField._$name="DurationField";class Fit extends Layout{static get $name(){return"Fit"}static get type(){return"fit"}static get configurable(){return{containerCls:"b-fit-container",itemCls:"b-fit-item"}}}Fit.initClass(),Fit._$name="Fit";class Editor extends Container{static get $name(){return"Editor"}static get type(){return"editor"}static get configurable(){return{positioned:!0,hidden:!0,layout:"fit",align:{align:"t0-t0",offset:[0,0]},inputField:"textfield",blurAction:"complete",completeKey:"Enter",cancelKey:"Escape",invalidAction:"block",completeOnChange:null,isolateFields:!0}}afterConfigure(){const e=this;super.afterConfigure(),e.onTargetSizeChange=e.onTargetSizeChange.bind(e),EventHelper.on({element:e.element,keydown:"onKeyDown",thisObj:e}),e.on({hide:"afterEditorHide",thisObj:e}),Se.on({locale:"onLocaleChange",thisObj:e})}onLocaleChange(){const{inputField:e}=this;e&&!e.isDestroyed&&e.syncInputFieldValue&&e.syncInputFieldValue(!0)}startEdit({target:e,align:n=this.align,hideTarget:r=!1,matchSize:o=!0,matchFont:i=!0,fitTargetContent:a=!1,value:l,record:c,field:d=this.inputField.name,focus:u=!0}){const p=this,{inputField:b}=p,g=DomHelper.getStyleValue(e,"font-size"),m=DomHelper.getStyleValue(e,"font-family");if(!1!==p.trigger("beforeStart",{value:l})){var f;if(c&&d&&(p.record=c,p.dataField=d,void 0===l&&(l=c[d])),o&&(e instanceof HTMLElement&&p.updateSize(e),e instanceof HTMLElement&&ResizeMonitor.addResizeListener(e,p.onTargetSizeChange)),b.input&&(i?(b.input.style.fontSize=g,b.input.style.fontFamily=m):b.input.style.fontSize=b.input.style.fontFamily=""),p._isSettingValues=!0,b.clearError&&b.clearError(),b.value=l,p._isSettingValues=!1,"string"==typeof n&&(n={align:n}),p.showBy(_objectSpread2({target:e,allowTargetOut:!0},n)),a){const e=b.input.scrollWidth-b.input.clientWidth;e>0&&(p.width+=e+DomHelper.scrollBarWidth)}return u&&p.inputField.focus&&p.inputField.focus(),e.nodeType===Element.ELEMENT_NODE&&(e.classList.add("b-editing"),r&&e.classList.add("b-hide-visibility")),p.editing=!0,p.trigger("start",{value:b.value}),Array.isArray(b.value)&&b.editingRecords&&null!==(f=b.value[0])&&void 0!==f&&f.isModel?p.oldValue=b.value.map((e=>e.copy(e.id))):(p.oldValue=b.value,Array.isArray(p.oldValue)&&(p.oldValue=p.oldValue.slice())),b.initialValue=p.oldValue,!0}return!1}refreshEdit(){if(this.isVisible){const{record:e,dataField:n,inputField:r}=this;if(e&&n){const o=e[n];ObjectHelper.isEqual(r.value,o)||(r.value=o)}}}finishEdit(){const{target:e,aligningToElement:n}=this.lastAlignSpec;n&&(e.classList.remove("b-editing"),e.classList.remove("b-hide-visibility")),this.editing=!1,this.trigger("finishEdit")}onKeyDown(e){var n;const r=this;switch(e.key){case r.completeKey:r.completeEdit(null,e),e.stopImmediatePropagation();break;case r.cancelKey:r.cancelEdit(e),e.stopImmediatePropagation()}null===(n=r.trigger)||void 0===n||n.call(r,"keydown",{event:e})}onFocusOut(e){super.onFocusOut(e);const n=this;if(!n.isFinishing&&n.editing){const e=n[`${n.blurAction}Edit`];null==e||e.call(n)}}async completeEdit(e,n){const r=this,{inputField:o,oldValue:i,record:a}=r,l=o.invalidAction||(!1===o.allowInvalid?"block":r.invalidAction),{value:c}=o;if(r.isVisible){if(o.isValid||"allow"===l){if(ObjectHelper.isEqual(c,i))return r.cancelEdit(n),!0;{const n={inputField:o,record:a,value:c,oldValue:i};if(!1!==r.trigger("beforeComplete",n)){if(e||(e=n.finalize||n.editorContext&&n.editorContext.finalize),e){let a=await e(n);if(!0===a)r.onEditComplete();else{if(o.setError){const e=a||o.invalidValueError,clearError=()=>{n(),o.clearError(e)},n=o.on({change:clearError,input:clearError});o.setError(e)}"block"===l?o.focus&&o.focus():"revert"===l&&(o.value=i,a=!0),a=!1}return a}return r.onEditComplete(),!0}o.focus&&o.focus()}}else{if("block"===l)return o.focus&&o.focus(),!1;if("revert"===l)return r.cancelEdit(n),!0}return!1}}cancelEdit(e){const n=this,{inputField:r,oldValue:o}=n,{value:i}=r;n.editing&&!n.isFinishing&&!1!==n.trigger("beforeCancel",{value:i,oldValue:o,event:e})&&(n.isFinishing=!0,n.hide(),n.trigger("cancel",{value:i,oldValue:o,event:e}),n.finishEdit(),n.isFinishing=!1)}onEditComplete(){const e=this,{record:n,dataField:r,inputField:o,oldValue:i}=e,{value:a}=o;if(!e.isFinishing){if(e.isFinishing=!0,e.hide(),n){const e=`set${StringHelper.capitalize(r)}`;n[e]?n[e](a):r.includes(".")?n.set(r,a):n[r]=a}e.trigger("complete",{value:a,oldValue:i}),e.finishEdit(),e.isFinishing=!1}}doDestroy(){this.createdInputField&&this.inputField.destroy(),super.doDestroy()}set owner(e){this._owner=e}get owner(){return this._owner||Widget.fromElement(this.element.parentNode)}changeInputField(e,n){const r=this;return n&&n.destroy(),"string"==typeof e&&(e={type:e}),e instanceof Widget||(e=Widget.create(e),r.createdInputField=!0),r.completeOnChange&&e.on({change:"onInputFieldChange",thisObj:r}),e.parent=r,e}updateInputField(e){this.removeAll(),this.add(e)}get inputField(){return this.items[0]}onInputFieldChange(){this.containsFocus&&this.completeEdit()}onTargetSizeChange(e,n,r){n&&r&&this.updateSize(e)}updateSize(e){const n=e.getBoundingClientRect();this.width=n.width-this.align.offset[0],this.height=n.height}afterEditorHide(){ResizeMonitor.removeResizeListener(this.lastAlignSpec.target,this.onTargetSizeChange)}}Editor.initClass(),Editor._$name="Editor";class FileField extends Field{static get $name(){return"FileField"}static get type(){return"filefield"}internalOnChange(e){super.internalOnInput(e),super.internalOnChange(e)}internalOnInput(){}static get configurable(){return{multiple:null,accept:null,inputType:"file",attributes:["multiple","accept"]}}get files(){return this.input.files}pickFile(){this.input.click()}get multiple(){return this._multiple?"":null}clear(){this.input.value=null}triggerChange(e){this.triggerFieldChange({event:e,value:this.input.value,oldValue:this._lastValue,userAction:!0,valid:!0})}}FileField.initClass(),FileField._$name="FileField";class FilePicker extends Container{static get $name(){return"FilePicker"}static get type(){return"filepicker"}static get defaultConfig(){return{defaultBindProperty:"value",buttonConfig:null,fileFieldConfig:null}}construct(e={}){const n=this;e.items=[Object.assign({type:"button",ref:"fileButton",text:"L{FilePicker.file}",localeClass:this},e.buttonConfig),Object.assign({type:"filefield",ref:"fileField",style:"display: none"},e.fileFieldConfig)].concat(e.items||[]),super.construct(e),n.button.on({click:n.onButtonClick,thisObj:n}),n.fileField.on({change:n.onFileFieldChange,thisObj:n}),n._thisIsAUsedExpression(n.fileTip)}get button(){return this.widgetMap.fileButton}get fileField(){return this.widgetMap.fileField}get files(){return this.fileField.files}get fileTip(){const e=this;return e._fileTip||(e._fileTip=new Tooltip({cls:"b-file-tip",forElement:e.button.element,showOnHover:!0,align:"b-t",scrollAction:"realign",listeners:{beforeshow(){const n=this,r=e.files;return!(!r||!r.length)&&(n.html=`${Array.from(r).map((e=>e.name)).join("<br>")}`,!0)}}}))}clear(){const e=this;e.fileField.clear(),e.button.badge="",e.trigger("clear")}onButtonClick({event:e}){this.fileField.pickFile(),e.preventDefault()}onFileFieldChange({valid:e}){const n=this;n.button.badge=n.files.length||"",n.triggerFieldChange({files:n.files,valid:e})}}FilePicker.initClass(),FilePicker._$name="FilePicker";class FilterField extends TextField{static get $name(){return"FilterField"}static get type(){return"filterfield"}static get configurable(){return{field:null,store:null,filterFunction:null,clearable:!0,keyStrokeChangeDelay:100,onChange({value:e}){const{store:n,field:r,filterFunction:o}=this;if(n){const i=`${r||this.id}-Filter`;if(0===e.length)n.removeFilter(i);else{let a;o?a=n=>o(n,e):(e=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),a=n=>n.get(r).match(new RegExp(e,"i"))),n.filter({id:i,filterBy:a})}}}}}updateValue(e,n){super.updateValue(e,n),e&&this.isConfiguring&&this.onChange({value:e})}}FilterField.initClass(),FilterField._$name="FilterField";class Label extends Widget{compose(){const{text:e,html:n}=this;return{tag:"label",text:e,html:n}}}_defineProperty(Label,"$name","Label"),_defineProperty(Label,"type","label"),_defineProperty(Label,"configurable",{text:null}),Label.initClass(),Label._$name="Label";const ws=[{ref:"cancelButton",cls:"b-messagedialog-cancelbutton b-gray",text:"L{Object.Cancel}",onClick:"up.onCancelClick"},{ref:"okButton",cls:"b-messagedialog-okbutton b-raised b-blue",text:"L{Object.Ok}",onClick:"up.onOkClick"}];BrowserHelper.isWindows&&ws.reverse();class MessageDialogConstructor extends Popup{static get $name(){return"MessageDialog"}static get type(){return"messagedialog"}static get configurable(){return{centered:!0,modal:!0,hidden:!0,autoShow:!1,closeAction:"hide",title:"",lazyItems:{$config:["lazy"],value:[{cls:"b-messagedialog-message",ref:"message"},{type:"textfield",cls:"b-messagedialog-input",ref:"input"}]},showClass:null,bbar:{overflow:null,items:ws}}}construct(){this.okButton=this.yesButton=1,this.cancelButton=3,super.construct(...arguments)}async confirm(){return this.showDialog("confirm",...arguments)}async alert(){return this.showDialog("alert",...arguments)}async prompt({textField:e}){const n=this.widgetMap.input;return Widget.reconfigure(n,e),n.value="",this.showDialog("prompt",...arguments)}showDialog(e,{message:n="",title:r="",cancelButton:o,okButton:i,rootElement:a=document.body}){const l=this;return l.rootElement=a,l.getConfig("lazyItems"),l.title=l.optionalL(r),l.widgetMap.message.html=l.optionalL(n),l.showClass=`b-messagedialog-${e}`,i&&(i="string"==typeof i?{text:i}:i),o&&(o="string"==typeof o?{text:o}:o),i=Object.assign({},l.widgetMap.okButton.initialConfig,i),o=Object.assign({},l.widgetMap.cancelButton.initialConfig,o),i.text=l.optionalL(i.text),o.text=l.optionalL(o.text),Widget.reconfigure(l.widgetMap.okButton,i),Widget.reconfigure(l.widgetMap.cancelButton,o),l.show(),l.promise=new Promise((e=>{l.resolve=e}))}show(){const e=DomHelper.getActiveElement(this.element);return this.owner=this.element.contains(e)?null:MessageDialogConstructor.fromElement(document.activeElement),super.show(...arguments)}updateShowClass(e,n){const{classList:r}=this.element;n&&r.remove(n),e&&r.add(e)}doResolve(e){const n=this,{resolve:r}=n;if(r){const o="b-messagedialog-prompt"===n.showClass;if(o&&e===n.okButton&&!n.widgetMap.input.isValid)return;n.resolve=n.reject=n.promise=null,r(o?{button:e,text:n.widgetMap.input.value}:e),n.hide()}}onInternalKeyDown(e){"Escape"===e.key&&(e.stopImmediatePropagation(),this.onCancelClick()),"Enter"===e.key&&(e.stopImmediatePropagation(),e.preventDefault(),this.onOkClick()),super.onInternalKeyDown(e)}onOkClick(){this.doResolve(xs.okButton)}onCancelClick(){this.doResolve(xs.cancelButton)}}MessageDialogConstructor.initClass();const xs=new MessageDialogConstructor;class PagingToolbar extends Toolbar{static get $name(){return"PagingToolbar"}static get type(){return"pagingtoolbar"}static get defaultConfig(){return{store:null,defaults:{localeClass:this},items:{firstPageButton:{onClick:"up.onFirstPageClick",icon:"b-icon-first",weight:100},previousPageButton:{onClick:"up.onPreviousPageClick",icon:"b-icon-previous",weight:110},pageNumber:{type:"numberfield",label:"L{page}",min:1,max:1,triggers:null,onChange:"up.onPageNumberChange",highlightExternalChange:!1,weight:120},pageCount:{type:"widget",cls:"b-pagecount b-toolbar-text",weight:130},nextPageButton:{onClick:"up.onNextPageClick",icon:"b-icon-next",weight:140},lastPageButton:{onClick:"up.onLastPageClick",icon:"b-icon-last",weight:150},separator:{type:"widget",cls:"b-toolbar-separator",weight:151},reloadButton:{onClick:"up.onReloadClick",icon:"b-icon-reload",weight:160},spacer:{type:"widget",cls:"b-toolbar-fill",weight:161},dataSummary:{type:"widget",cls:"b-toolbar-text",weight:170}}}}set parent(e){super.parent=e,this.store||(this.store=e.store)}get parent(){return super.parent}set store(e){const n=this,r={beforerequest:"onStoreBeforeRequest",afterrequest:"onStoreChange",change:"onStoreChange",thisObj:n};n.store&&n.store.un(r),n._store=e,e&&(e.on(r),e.isLoading&&n.onStoreBeforeRequest())}get store(){return this._store}onStoreBeforeRequest(){this.eachWidget((e=>e.disable()))}updateLocalization(){const e=this,{reloadButton:n,firstPageButton:r,previousPageButton:o,nextPageButton:i,lastPageButton:a}=e.widgetMap;r.tooltip=e.L("L{firstPage}"),o.tooltip=e.L("L{prevPage}"),i.tooltip=e.L("L{nextPage}"),a.tooltip=e.L("L{lastPage}"),n.tooltip=e.L("L{reload}"),e.updateSummary(),super.updateLocalization()}updateSummary(){const e=this,{pageCount:n,dataSummary:r}=e.widgetMap;let o,i,a,l,c;if(o=i=a=l=c=0,e.store){const{store:n}=e,{pageSize:r,currentPage:d}=n;o=n.count,i=n.lastPage,c=n.allCount,a=Math.max(0,(d-1)*r+1),l=Math.min(c,a+r-1)}n.html=e.L("L{pageCountTemplate}")({lastPage:i}),r.html=o?e.L("L{summaryTemplate}")({start:a,end:l,allCount:c}):e.L("L{noRecords}")}onStoreChange(){const e=this,{widgetMap:n,store:r}=e,{count:o,lastPage:i,currentPage:a}=r,{pageNumber:l,pageCount:c,firstPageButton:d,previousPageButton:u,nextPageButton:p,lastPageButton:b,dataSummary:g}=n;e.eachWidget((e=>e.enable())),l.value=a,l.max=i,g.disabled=l.disabled=c.disabled=!o,d.disabled=u.disabled=a<=1||!o,p.disabled=b.disabled=a>=i||!o,e.updateSummary()}onPageNumberChange({value:e}){this.store.currentPage!==e&&this.store.loadPage(e)}onFirstPageClick(){this.store.loadPage(1)}onPreviousPageClick(){this.store.previousPage()}onNextPageClick(){this.store.nextPage()}onLastPageClick(){this.store.loadPage(this.store.lastPage)}onReloadClick(){this.store.loadPage(this.store.currentPage)}}PagingToolbar.initClass(),PagingToolbar._$name="PagingToolbar";const{dockIsHorz:Cs}=PanelCollapser.maps,Ss={up:["top","bottom"],right:["right","left"],down:["bottom","top"],left:["left","right"]},Ds={top:0,down:0,left:1,bottom:2,up:2,right:3},Es={},ks={up:{from:"translate(0,0)",to:"translate(0,-100%)"},down:{from:"translate(0,0)",to:"translate(0,100%)"},left:{from:"translate(0,0)",to:"translate(-100%,0)"},right:{from:"translate(0,0)",to:"translate(100%,0)"}};class PanelCollapserOverlay extends(PanelCollapser.mixin(Delayable)){static get $name(){return"PanelCollapserOverlay"}static get type(){return"overlay"}static get configurable(){return{autoCloseDelay:1e3,autoClose:!0,revealing:{value:null,$config:null,default:!1},recollapseTool:{type:"collapsetool",cls:"b-recollapse",collapsify:"overlay",handler(){var e;null===(e=this.collapsible)||void 0===e||e.toggleReveal()}}}}static get delayable(){return{doAutoClose:0}}doAutoClose(){this.toggleReveal(!1)}updateAutoCloseDelay(e){const{doAutoClose:n}=this;(n.suspended=null==e||e<0)||(n.delay=e,n.immediate=!e)}changeRecollapseTool(e){const n=this,{panel:r}=n;if(n.isConfiguring||n.isDestroying||!r||r.isDestroying)return e;r.tools={recollapse:e}}beforeCollapse(e){if(!1===super.beforeCollapse(e))return!1;this.panel.revealed&&(e.animation=null)}applyHeaderDock(e,n=!0){var r;null===(r=this.panel)||void 0===r||r.recompose(),super.applyHeaderDock(e,n)}collapseBegin(e){const n=this,{collapseDir:r,innerElement:o}=n,{animation:i}=e,{collapseTool:a,panel:l}=n;n.configuredWidth=l._lastWidth,n.configuredHeight=l._lastHeight,n.applyHeaderDock(!0);const c=n.lockInnerSize();if(null==a||a.element.classList.add("b-collapsed"),i){l.element.classList.add("b-collapsing"),c.moveTo(0,0);const a=c.clone(),d=Ss[r];a[d[0]]=a[d[1]],i.element=n.innerElement,i.transform=ks[r],i.items=[{element:o,clip:{from:`rect(${c})`,to:`rect(${a})`}}],e.animation=Animator.run(i)}}onComplete(e){var n,r;super.onComplete(e);const o=this,{panel:i}=o,{element:a}=i;o.autoCloseLeaveDetacher=null===(n=o.autoCloseLeaveDetacher)||void 0===n?void 0:n.call(o),o.autoCloseClickDetacher=null===(r=o.autoCloseClickDetacher)||void 0===r?void 0:r.call(o),o.doAutoClose.cancel(),"reveal"===e&&o.autoClose&&(i.containsFocus&&(o.autoCloseLeaveDetacher=EventHelper.on({element:a,mouseenter:e=>{o.doAutoClose.cancel()},mouseleave:e=>{o.doAutoClose()}})),o.autoCloseClickDetacher=EventHelper.on({element:document.body,mousedown:e=>{if(e.target!==a&&!a.contains(e.target)&&null!=o.autoCloseDelay){var n;(i.containsFocus?null===(n=i.focusInEvent)||void 0===n?void 0:n.relatedTarget:DomHelper.getActiveElement(a)).contains(e.target)||o.doAutoClose.now()}}}))}expandBegin(e){const n=this,{animation:r}=e,{collapseDir:o,collapseTool:i,innerElement:a,panel:l}=n,{element:c}=l;c.classList.remove("b-collapsed","b-collapsing"),n.restoreConfiguredSize(),n.lockInnerSize(!1);const d=n.lockInnerSize().moveTo(0,0),u=d.clone(),p=Ss[o];null==i||i.element.classList.remove("b-collapsed"),r&&(c.classList.add("b-collapsed","b-expanding"),u[p[0]]=u[p[1]],r.element=a,r.transform={from:ks[o].to,to:ks[o].from},r.clip={from:`rect(${u})`,to:`rect(${d})`},e.animation=Animator.run(r))}expandEnd(e){super.expandEnd(e);const{panel:n}=this;e.completed&&(n.revealed=!1),n.element.classList.remove("b-expanding")}expandRevert(e){super.expandRevert(e),this.panel.element.classList.add("b-expanding")}get innerElement(){return this.panel.overlayElement}get innerSizeElement(){return this.panel.element}get toolsConfig(){const{direction:e}=this,n=super.toolsConfig,r=this.recollapseTool;return r?_objectSpread2(_objectSpread2({},n),{},{recollapse:r&&ObjectHelper.assign({direction:e.toLowerCase()},r)}):n}lockInnerSize(e=!0){const n=this,{panel:r}=n,o=e&&r.rectangle(),i=e?[0,0,0,0]:"",a=super.lockInnerSize(e);return e&&(i[Ds[n.collapseDir]]=`-${o[n.collapseDim]+10}px`),r.element.style.clipPath=e?`inset(${i.join(" ")}`:"",a}onOverlayTransitionDone(e){const n=this,{panel:r}=n;e.srcElement===r.overlayElement&&n.revealing&&(n.revealing=!1,n.onComplete(r.revealed?"reveal":"unreveal"))}onRevealerClick(){this.toggleReveal()}splitHeaderItems({as:e,dock:n}=Es){var r;return null===(r=this.panel)||void 0===r?void 0:r.splitHeaderItems({as:e,dock:n,overlay:!0})}toggleReveal(e){const{panel:n}=this;n.collapsed&&(null==e&&(e=!n.revealed),n.revealed!==e&&(this.revealing=!0,n.revealed=!n.revealed))}updateRevealing(e){const n=this,{panel:r}=n,o=/left|right/i.test(n.collapseDir)?"height":"width";r&&(n.innerElement.style[o]=r.rectangle()[o]+"px",r.element.classList[e?"add":"remove"]("b-panel-overlay-revealing"))}wrapCollapser(e,n){var r;const o=this,{collapseDir:i,panel:a}=o,{expandedHeaderDock:l,header:c,uiClassList:d}=a,u=null===(r=a.tools)||void 0===r?void 0:r.recollapse,[p,b]=o.splitHeaderItems({dock:o.collapseDock,as:"element"}),g=Cs[l],m=a.hasHeader?a.title||(null==c?void 0:c.title)||"":null;return u&&(u.direction=i),["overlayElement",{class:_objectSpread2(_objectSpread2({},d),{},{[`b-panel-overlay-header-${l}`]:1,[`b-panel-overlay-${i}`]:1,[`b-${g?"h":"v"}box`]:1,"b-panel-overlay":1,"b-box-center":1}),listeners:{transitionend:e=>o.onOverlayTransitionDone(e)},children:{overlayHeaderElement:m&&{tag:"header",class:_objectSpread2(_objectSpread2({},d),{},{[`b-dock-${l}`]:1,"b-panel-header":1,"b-panel-overlay-header":1}),children:[...p,{reference:"overlayTitleElement",html:m,class:_objectSpread2(_objectSpread2({},d),{},{[`b-align-${(null==c?void 0:c.titleAlign)||"start"}`]:1,"b-header-title":1})},...b]},[e]:n}}]}}PanelCollapserOverlay.initClass(),PanelCollapserOverlay._$name="PanelCollapserOverlay";class PasswordField extends Field{static get type(){return"passwordfield"}static get alias(){return"password"}static get $name(){return"PasswordField"}construct(e={}){e.inputType="password",super.construct(...arguments),this.element.classList.add("b-textfield")}}PasswordField.initClass(),PasswordField._$name="PasswordField";class Slider extends Widget{static get $name(){return"Slider"}static get type(){return"slider"}static get configurable(){return{text:null,showValue:!0,showTooltip:!1,min:0,max:100,step:1,value:50,unit:null,thumbSize:20,tooltip:{$config:["lazy","nullify"],value:{type:"tooltip",align:"b-t",anchor:!1,axisLock:!0}},localizableProperties:["text"]}}compose(){const{id:e,min:n,max:r,showValue:o,step:i,text:a,value:l,unit:c=""}=this,d=`${e}-input`,u=Boolean(a||o);return{class:{"b-has-label":u,"b-text":u},children:{input:{tag:"input",type:"range",id:d,reference:"input",min:n,max:r,step:i,value:l,listeners:{input:"onInternalInput",change:"onInternalChange",mouseover:"onInternalMouseOver",mouseout:"onInternalMouseOut"}},label:{tag:"label",for:d,html:o?a?`${a} (${l}${c})`:l+c:a}}}}get focusElement(){return this.input}get percentProgress(){return(this.value-this.min)/(this.max-this.min)*100}onInternalChange(){this.updateUI(),this.triggerChange(!0),this.trigger("action",{value:this.value})}onInternalInput(){this.value=parseInt(this.input.value,10),this.trigger("input",{value:this.value})}onInternalMouseOver(){var e;null===(e=this.tooltip)||void 0===e||e.showBy({target:Rectangle.from(this.input).inflate(this.thumbSize/2,-this.thumbSize/2),align:`b-t${Math.round(this.percentProgress)}`})}onInternalMouseOut(){var e;null===(e=this.tooltip)||void 0===e||e.hide()}triggerChange(e){this.triggerFieldChange({value:this.value,valid:!0,userAction:e})}updateMax(e){const n=this;n.input&&n._value>e&&(n.value=e,n.trigger("input",{value:n.value}))}updateMin(e){const n=this;n.input&&n._value<e&&(n.value=e,n.trigger("input",{value:n.value}))}changeTooltip(e,n){var r;return e&&(e.owner=this),this.showTooltip?Tooltip.reconfigure(n,e,{owner:this,defaults:{forElement:this.input,html:String(this.value)+(null!==(r=this.unit)&&void 0!==r?r:"")}}):null}updateValue(e){const n=this,{input:r,_tooltip:o}=n;var i;o&&(o.html=n.value+(null!==(i=n.unit)&&void 0!==i?i:""));r&&r.value!==String(e)&&(r.value=e,n.triggerChange(!1)),n.updateUI()}updateUI(){var e,n;const r=this;(null===(e=r._tooltip)||void 0===e?void 0:e.isVisible)&&(null===(n=r._tooltip)||void 0===n||n.alignTo({target:Rectangle.from(r.input).inflate(r.thumbSize/2,-r.thumbSize/2),align:`b-t${Math.round(r.percentProgress)}`}))}}Slider.initClass(),Slider._$name="Slider";class SlideToggle extends Checkbox{static get $name(){return"SlideToggle"}static get type(){return"slidetoggle"}static get properties(){return{toggledCls:"b-slidetoggle-checked"}}construct(e){null!=e&&e.checked&&(e.cls=(e.cls||"")+" "+this.constructor.properties.toggledCls),super.construct(e)}get innerElements(){const e=super.innerElements;return e.splice(1,0,this.toggleElement),this.text?e[e.length-1].class="b-slidetoggle-label":e.pop(),e}get toggleElement(){return{class:"b-slidetoggle-toggle",reference:"slideToggle",children:[{class:"b-slidetoggle-thumb",reference:"slideThumb"}]}}internalOnChange(){super.internalOnChange(),this.element.classList[this.value?"add":"remove"](this.toggledCls)}}SlideToggle.initClass(),SlideToggle._$name="SlideToggle";const Ts=["b-horizontal","b-vertical"],hasFlex=e=>"flex"===DomHelper.getStyleValue(e.parentElement,"display")&&(parseInt(DomHelper.getStyleValue(e,"flex-basis"),10)||parseInt(DomHelper.getStyleValue(e,"flex-grow"),10)),_s={horizontal:!1,vertical:!0};class Splitter extends Widget{static get $name(){return"Splitter"}static get type(){return"splitter"}static get configurable(){return{orientation:"auto",vertical:null,containerElement:{$config:"nullify",value:null},nextNeighbor:{$config:"nullify",value:null},previousNeighbor:{$config:"nullify",value:null}}}static get delayable(){return{syncState:"raf"}}doDestroy(){var e;null===(e=this.mouseDetacher)||void 0===e||e.call(this),super.doDestroy()}compose(){return{class:{"b-splitter":1},listeners:_objectSpread2({pointerdown:"onMouseDown",mouseenter:"syncState"},!BrowserHelper.supportsPointerEvents&&{mousedown:"onMouseDown",touchstart:"onMouseDown"})}}get currentOrientation(){return this.vertical?"vertical":"horizontal"}get nextWidget(){return Widget.fromElement(this.element.nextElementSibling,1)}get previousWidget(){return Widget.fromElement(this.element.previousElementSibling,1)}updateContainerElement(e){var n;const r=this;r.stateDetector=null===(n=r.stateDetector)||void 0===n?void 0:n.disconnect(),e&&(r.stateDetector=new MutationObserver((()=>r.syncState())),r.stateDetector.observe(e,{attributes:!0,childList:!0}))}updateNextNeighbor(e){this.watchNeighbor(e,"next")}updatePreviousNeighbor(e){this.watchNeighbor(e,"previous")}watchNeighbor(e,n){this.detachListeners(n),null==e||e.on({name:n,thisObj:this,collapse:"syncState",expand:"syncState",hide:"syncState",show:"syncState"})}updateOrientation(){this.syncState.now()}updateVertical(e){var n;const r=null===(n=this.element)||void 0===n?void 0:n.classList;null==r||r.add(Ts[e?1:0]),null==r||r.remove(Ts[e?0:1])}syncState(){var e;const n=this,{element:r,nextWidget:o,previousWidget:i}=n;let a=null!==(e=_s[n.orientation])&&void 0!==e?e:null;if(n.nextNeighbor=o,n.previousNeighbor=i,n.disabled=o&&(o.collapsible&&o.collapsed||o.hidden)||i&&(i.collapsible&&i.collapsed||i.hidden),null!==a&&o&&i)n.containerElement=null;else if(n.containerElement=r.parentElement,n.rendered&&r.offsetParent){const e=DomHelper.getStyleValue(r.parentElement,"flex-direction");if(e)a=!e.startsWith("column");else{const e=r.previousElementSibling,n=r.nextElementSibling;if(!e||!n)return;const o=e.getBoundingClientRect(),i=n.getBoundingClientRect(),l=o.top<i.top?o:i,c=l===i?o:i;a=l.top===c.top}}n.vertical=a}onMouseDown(e){e.preventDefault(),e.touches&&(e=e.touches[0]);const n=this,{element:r}=n,o=r.previousElementSibling,i=r.nextElementSibling,a=hasFlex(o),l=hasFlex(i),c=[];n.mouseDetacher&&n.mouseDetacher();for(const e of r.parentElement.children)hasFlex(e)&&e!==r&&c.push({element:e,width:e.offsetWidth,height:e.offsetHeight});n.context={startX:e.pageX,startY:e.pageY,prevWidth:o.offsetWidth,prevHeight:o.offsetHeight,nextWidth:i.offsetWidth,nextHeight:i.offsetHeight,prevHasFlex:a,nextHasFlex:l,flexed:c,prev:o,next:i};const d={element:document,pointermove:"onMouseMove",pointerup:"onMouseUp",thisObj:n};BrowserHelper.supportsPointerEvents||(d.mousemove="onMouseMove",d.touchmove="onMouseMove",d.mouseup=d.touchend="onMouseUp"),r.classList.add("b-moving"),n.mouseDetacher=EventHelper.on(d)}onMouseMove(e){const n=this,{context:r,nextWidget:o,previousWidget:i}=n,{next:a,prev:l}=r,c=e.pageX-r.startX,d=e.pageY-r.startY;if(e.preventDefault(),Object.assign(r,{deltaX:c,deltaY:d}),r.started||(r.started=!0,n.trigger("dragStart",{context:r,event:e}),r.flexed.forEach((e=>{e.element.style.flexGrow=n.vertical?e.width:e.height,e.element.style.flexBasis="0"}))),n.vertical){const e=r.prevWidth+c,n=r.nextWidth-c;r.prevHasFlex?l.style.flexGrow=e:i?i.width=e:l.style.width=`${e}px`,r.nextHasFlex?a.style.flexGrow=n:o?o.width=n:a.style.width=`${n}px`}else{const e=r.prevHeight+d,n=r.nextHeight-d;r.prevHasFlex?l.style.flexGrow=e:i?i.height=e:l.style.height=`${e}px`,r.nextHasFlex?a.style.flexGrow=n:o?o.height=n:a.style.height=`${n}px`}n.trigger("drag",{context:r,event:e})}onMouseUp(e){const n=this;n.mouseDetacher&&n.mouseDetacher(),n.mouseDetacher=null,n.element.classList.remove("b-moving"),n.context.started&&n.trigger("drop",{context:n.context,event:e}),n.context=null}render(){super.render(...arguments),this.syncState.now(),null===this.vertical&&this.syncState()}}Splitter.initClass(),Splitter._$name="Splitter";class Tab extends Button{static get $name(){return"Tab"}static get type(){return"tab"}static get configurable(){return{active:null,index:null,isFirst:null,isLast:null,item:{value:null,$config:"nullify"},itemCls:null,tabPanel:null,titleProperty:"text",titleSource:"title"}}compose(){const{active:e,cls:n,index:r,isFirst:o,isLast:i}=this;return{tabindex:-1,class:_objectSpread2({"b-tabpanel-tab":1,"b-active":e,"b-tab-first":o,"b-tab-last":i},n),dataset:{index:r}}}updateIndex(e){this.isFirst=!e}updateItem(e,n){var r,o;const i=this;(null==n?void 0:n.tab)===i&&(n.tab=null),e&&(e.tab=i,i[i.titleProperty]=e[i.titleSource],i.itemCls=e.cls),null===(r=i.itemChangeDetacher)||void 0===r||r.call(i),i.itemChangeDetacher=e&&FunctionHelper.after(e,"onConfigChange","onItemConfigChange",i,{return:!1}),null===(o=i.itemHideDetacher)||void 0===o||o.call(i),i.itemHideDetacher=null==e?void 0:e.on({beforeChangeHidden:"onItemBeforeChangeHidden",beforeHide:"onItemBeforeHide",beforeUpdateDisabled:"onItemBeforeUpdateDisabled",thisObj:i,prio:1e3}),i.syncMinMax()}updateItemCls(e,n){const{element:r}=this,o=r&&DomClassList.from(null==r?void 0:r.classList,!0);r&&(o.remove(n).add(e),r.className=o.value)}updateRotate(e,n){!e!=!n&&this.syncMinMax()}syncMinMax(){const e=this,{rotate:n,tabPanel:r}=e;let{_minWidth:o,_minHeight:i,_maxWidth:a,_maxHeight:l}=e;if(r){const{tabMinWidth:c,tabMaxWidth:d}=r;null!=c&&(n?(o===c&&(o=null),i=c):(i===c&&(i=null),o=c)),null!=d&&(n?(a===d&&(a=null),l=d):(l===d&&(l=null),a=d)),e.minWidth=o,e.minHeight=i,e.maxWidth=a,e.maxHeight=l}}onItemBeforeChangeHidden({source:e,hidden:n}){if(!e.$isDeactivating&&!e.$isActivating){const{tabPanel:r}=this;this.hidden=n,n&&e===r.activeItem&&r.activateAvailableTab(e)}}onItemBeforeHide(){this.item.$isDeactivating||this.hide()}onItemBeforeUpdateDisabled({source:e,disabled:n}){const{tabPanel:r}=this;this.disabled=n,e===r.activeItem&&r.activateAvailableTab(e)}onItemConfigChange({name:e,value:n}){e===this.titleSource&&(this[this.titleProperty]=n)}}Tab.initClass(),Tab._$name="Tab";const isTab=e=>e.isTab;class TabBar extends Toolbar{static get $name(){return"TabBar"}static get type(){return"tabbar"}static get configurable(){return{defaultType:"tab",overflow:"scroll"}}get firstTab(){return this.tabAt(0)}get lastTab(){return this.tabAt(-1)}get tabCount(){return this._items.countOf(isTab)}get tabs(){return ArrayHelper.from(this._items,isTab)}compose(){return{children:{toolbarContent:{class:{"b-tabpanel-tabs":1}}}}}indexOfTab(e){return this._items.indexOf(e,isTab)}onChildAdd(e){super.onChildAdd(e),null==e.index&&this.syncTabs()}onChildRemove(e){super.onChildRemove(e),this.syncTabs()}syncTabs(){const{tabs:e}=this;for(let n=0,r=e.length;n<r;++n)e[n].index=n,e[n].isFirst=!n,e[n].isLast=n===r-1}tabAt(e){return this._items.find(isTab,e)||null}}TabBar.initClass(),TabBar._$name="TabBar";const Ms=["b-slide-out-left","b-slide-out-right","b-slide-in-left","b-slide-in-right"];class Card extends Layout{static get $name(){return"Card"}static get type(){return"card"}static get configurable(){return{containerCls:"b-card-container",itemCls:"b-card-item",hideChildHeaderCls:"b-hide-child-headers",animateCardChange:!0,activeItem:null,activeIndex:null}}onChildAdd(e){super.onChildAdd(e);const n=this,{activeItem:r,owner:o}=n,i=null!=o.activeIndex?o.activeIndex:n.activeIndex||0,a=o.items.indexOf(e),l=null!=r?e===r:a===i;e.on({beforeHide:"onBeforeChildHide",beforeShow:"onBeforeChildShow",thisObj:n}),l?(e.show(),n._activeIndex=a,n._activeItem=e):(e.$isDeactivating=!0,e.hide(),e.$isDeactivating=!1)}onChildRemove(e){super.onChildRemove(e),this._activeItem===e&&this.activateSiblingOf(e),e.un({beforeHide:"onBeforeChildHide",beforeShow:"onBeforeChildShow",thisObj:this})}onBeforeChildShow({source:e}){if(!this.owner.isConfiguring&&!e.$isActivating)return this.activeItem=e,!1}onBeforeChildHide({source:e}){if(!this.owner.isConfiguring&&!e.$isDeactivating)return this.activateSiblingOf(e),!1}activateSiblingOf(e){const{owner:n}=this,r=n.items.slice(),o=r.indexOf(e);r.splice(o,1),this.activeIndex=Math.min(o,r.length-1)}setActiveItem(e,n=this.activeIndex){const r=this,{owner:o}=r,{items:i}=o,a=e instanceof Widget,l=i[n],c=o.items[e=a?e=i.indexOf(e):parseInt(e)],d={prevActiveIndex:n,prevActiveItem:l};if(c&&!c.$isActivating&&c!==l){var u;const i=l&&l.element,a=c&&c.element;if(r.animateDetacher){const e=r.animateDetacher.event;r.animateDetacher(),DomHelper.removeClasses(e.prevActiveItem.element,Ms),DomHelper.removeClasses(e.activeItem.element,Ms),r.animateDetacher=null}if(d.activeIndex=e,d.activeItem=c,!1===o.trigger("beforeActiveItemChange",d))return null;const p=this._activeIndex!==d.activeIndex;p&&(this._activeIndex=d.activeIndex),null===(u=o.onBeginActiveItemChange)||void 0===u||u.call(o,d),p&&(this._activeIndex=d.prevActiveIndex),d.promise=new Promise(((u,p)=>{if(i&&o.isVisible&&r.animateCardChange){const b=l.monitorResize;l.monitorResize=!1,r.contentElement.style.overflowX="hidden",l._hidden=!0,c.$isActivating=!0,c.show(),c.$isActivating=!1,i.classList.add(e>n?"b-slide-out-left":"b-slide-out-right"),a.classList.add(e<n?"b-slide-in-left":"b-slide-in-right"),o.isAnimating=!0,r.animateDetacher=EventHelper.onTransitionEnd({mode:"animation",element:a,thisObj:l,handler(){o.isAnimating=!1,r.animateDetacher?(r.animateDetacher=null,DomHelper.removeClasses(a,Ms),i&&(DomHelper.removeClasses(i,Ms),l.$isDeactivating=!0,l._hidden=!1,l.hide(),l.monitorResize=b,l.$isDeactivating=!1),r.contentElement.style.overflowX="",r.onActiveItemChange(d,u)):r.setActiveItem(e,n)}}),r.animateDetacher.reject=p,r.animateDetacher.event=d}else c.$isActivating=!0,c.show(),c.focus(),c.$isActivating=!1,l&&(l.$isDeactivating=!0,l.hide(),l.$isDeactivating=!1),r.onActiveItemChange(d,u)}))}return d}onActiveItemChange(e,n){const r=this;r._activeItem=e.activeItem,r._activeIndex=e.activeIndex,r.owner.trigger("activeItemChange",e),e.activeItem.focus(),n(e)}renderChildren(){const{owner:e}=this;BrowserHelper.isIE11&&(this.animateCardChange=!1),e.contentElement.classList[e.suppressChildHeaders?"add":"remove"](this.hideChildHeaderCls),super.renderChildren()}changeActiveIndex(e){const{owner:n}=this;return n.isConfiguring&&!n._items?e:Math.min(e,n.items.length-1)}updateActiveIndex(e,n){this.owner.isConfiguring||this.setActiveItem(e,n)}updateActiveItem(e){this.owner.isConfiguring||this.setActiveItem(e,this.activeIndex)}}Card.initClass(),Card._$name="Card";class TabPanel extends Panel{static get $name(){return"TabPanel"}static get type(){return"tabpanel"}static get alias(){return"tabs"}static get configurable(){return{activeTab:0,animateTabChange:!0,autoHeight:!1,defaultType:"container",itemCls:"b-tabpanel-item",layout:{type:"card"},suppressChildHeaders:!0,tabBar:{type:"tabbar",weight:-2e3},tabMinWidth:null,tabMaxWidth:null}}get activeIndex(){return this.layout.activeIndex}get activeItem(){return this.layout.activeItem}get activeTabItemIndex(){var e;const{activeTab:n,items:r,tabBar:o}=this;return r.indexOf(null===(e=o.tabs[n])||void 0===e?void 0:e.item)}get bodyConfig(){return ObjectHelper.merge({className:{"b-tabpanel-body":1}},super.bodyConfig)}get focusElement(){var e;const n=this.items[this.activeTab||0];return(null==n?void 0:n.focusElement)||(null==n||null===(e=n.tab)||void 0===e?void 0:e.focusElement)}get tabPanelBody(){return this.bodyElement}finalizeInit(){super.finalizeInit();const e=this,{activeTab:n,layout:r}=e,o=e.tabBar.tabs;if(!(n>=0&&n<o.length))throw new Error(`Invalid activeTab ${n} (${o.length} tabs)`);r.activeIndex=e.items.indexOf(o[n].item),r.animateCardChange=e.animateTabChange}onChildAdd(e){if(super.onChildAdd(e),!this.initialItems){const n=this,{tabBar:r}=n,o=n.makeTabConfig(e),i=o&&r.firstTab,a=i&&r._items,l=i&&ArrayHelper.from(n._items,(n=>n.tab||n===e)),c=i?l.indexOf(e)+a.indexOf(i):0;o&&(i&&null==e.weight&&c<a.count-1?r.insert(o,c):r.add(o))}}onChildRemove(e){var n,r;null===(n=e.tab)||void 0===n||null===(r=n.destroy)||void 0===r||r.call(n),super.onChildRemove(e)}isDisabledOrHiddenTab(e){const{tabs:n}=this.tabBar,r=null==n?void 0:n[e];return r&&(r.disabled||r.hidden)}findAvailableTab(e,n=1){const{tabs:r}=this.tabBar,o=r.length,i=Math.max(0,r.indexOf(e.tab));let a;i&&(n=-n);for(let e=1;e<=o&&(a=(i+(n<0?o:0)+e*n)%o,this.isDisabledOrHiddenTab(a));++e);return a}activateAvailableTab(e,n=1){this.activeTab=this.findAvailableTab(e,n)}changeActiveTab(e){const n=this,{tabBar:r}=n,{tabCount:o}=r;if(e.isWidget||ObjectHelper.isObject(e)?(-1===n.items.indexOf(e)&&(e=n.add(e)),e=r.indexOfTab(e.tab)):e=parseInt(e,10),!n.initialItems&&(e<-1||e>=o))throw new Error(`Invalid activeTab ${e} (${o} tabs)`);return n.isDisabledOrHiddenTab(e)&&(e=n.findAvailableTab(e)),e}updateActiveTab(){if(!this.initialItems){const{activeTabItemIndex:e}=this;e>-1&&(this.layout.activeIndex=e)}}changeTabBar(e){return this.getConfig("strips"),this.strips={tabBar:e},this.strips.tabBar}makeTabConfig(e){const{tab:n}=e,r={item:e,type:"tab",tabPanel:this,disabled:Boolean(e.disabled),hidden:e.initialConfig.hidden,weight:e.weight||0,listeners:{click:"onTabClick",thisObj:this},localizableProperties:{text:!1}};return!1===n?null:ObjectHelper.isObject(n)?Tab.mergeConfigs(r,n):r}updateItems(e,n){const r=this,{activeTab:o,initialItems:i}=r;let a,l=0;super.updateItems(e,n),i&&(a=Array.from(e,(e=>r.makeTabConfig(e))).filter((e=>{if(e)return e.index=l++,!0})),l&&(a[0].isFirst=!0,a[l-1].isLast=!0,a[o].active=!0,r.tabBar.add(a),r.activeTab=o))}updateTabMinWidth(e){var n;null===(n=this.tabBar)||void 0===n||n.items.forEach((n=>{n.isTab&&(n.minWidth=e)}))}updateTabMaxWidth(e){var n;null===(n=this.tabBar)||void 0===n||n.items.forEach((n=>{n.isTab&&(n.maxWidth=e)}))}updateAutoHeight(e){this.detachListeners("themeAutoHeight"),e&&gn.on({name:"themeAutoHeight",theme:"internalOnThemeChange",thisObj:this}),this.$measureHeight=e}applyAutoHeight(){const e=this,{layout:n,activeTab:r,element:o}=e,{animateCardChange:i}=n;n.animateCardChange=!1,e.height=null,e.height=Math.max(...e.items.map((n=>(e.activeTab=n,o.clientHeight))))+1,e.activeTab=r,n.animateCardChange=i,e.$measureHeight=!1}internalOnThemeChange(){this.isVisible?this.applyAutoHeight():this.$measureHeight=!0}onBeginActiveItemChange(e){const n=this.tabBar.tabs,{activeItem:r,prevActiveItem:o}=e;this.activeTab=n.indexOf(null==r?void 0:r.tab),null!=o&&o.tab&&(o.tab.active=!1),null!=r&&r.tab&&(r.tab.active=!0,r.tab.show())}onBeforeActiveItemChange(e){return this.trigger("beforeTabChange",e)}onActiveItemChange(e){this.trigger("tabChange",e)}onTabClick(e){this.activeTab=e.source.item}onPaint(){super.onPaint(...arguments),this.$measureHeight&&this.applyAutoHeight()}}TabPanel.initClass(),TabPanel._$name="TabPanel";class TextAreaField extends PickerField{static get $name(){return"TextAreaField"}static get type(){return"textareafield"}static get alias(){return"textarea"}static get configurable(){return{picker:{type:"widget",cls:"b-textareafield-picker",floating:!0,scrollAction:"realign",align:{align:"t-b",axisLock:!0},autoShow:!1},triggers:null,inline:!0,resize:"none",inputType:null}}startConfigure(e){this.getConfig("inline"),super.startConfigure(e)}get inputElement(){const e=super.inputElement,{inline:n,resize:r}=this;return n?(e.tag="textarea",e.style=(e.style||"")+`;resize:${r}`):(e.readOnly="readonly",e.reference="displayElement"),e}get focusElement(){return this.inline||this._picker&&this._picker.isVisible?this.input:this.displayElement}showPicker(){const e=this,{picker:n}=e;e.inline||(n.width=e.pickerWidth||e[e.pickerAlignElement].offsetWidth,super.showPicker(!0))}focusPicker(){this.input.focus()}onPickerKeyDown(e){const n=this,r=n.input;switch(e.key.trim()||e.code){case"Escape":return void n.picker.hide();case"Enter":e.ctrlKey&&(n.syncInputFieldValue(),n.picker.hide())}n.input=n.displayElement;const o=super.onPickerKeyDown(e);return n.input=r,o}syncInputFieldValue(e){this.displayElement&&(this.displayElement.value=this.inputValue),super.syncInputFieldValue(e)}changeValue(e){return e??""}updateInline(e){e||this.triggers||(this.triggers={})}changeTriggers(e,n){return this.inline||((e||(e={})).expand={cls:"b-icon-picker",handler:"onTriggerClick"}),super.changeTriggers(e,n)}changePicker(e,n){var r;const o=this,i=o.pickerWidth||(null===(r=e)||void 0===r?void 0:r.width);if(e=TextAreaField.reconfigure(n,e?Objects.merge({owner:o,forElement:o[o.pickerAlignElement],align:{matchSize:null==i,anchor:o.overlayAnchor,target:o[o.pickerAlignElement]},html:`<textarea id="${o.id+"-input"}" style="resize:${o.resize}">${o.value}</textarea>`},e):null,o)){const n=o.input=e.element.querySelector(`#${o.id}-input`);o.inputListenerRemover=EventHelper.on({element:n,thisObj:o,focus:"internalOnInputFocus",change:"internalOnChange",input:"internalOnInput",keydown:"internalOnKeyEvent",keypress:"internalOnKeyEvent",keyup:"internalOnKeyEvent"})}return e}}TextAreaField.initClass(),TextAreaField._$name="TextAreaField";var Responsive=e=>{var n,r;return r=n=class Responsive extends(e||Base){changeBreakpoints(e){return ObjectHelper.assertObject(e,"breakpoints"),null!=e&&e.width&&Object.keys(e.width).forEach((n=>{e.width[n].maxWidth=n})),null!=e&&e.height&&Object.keys(e.height).forEach((n=>{e.height[n].maxHeight=n})),e}updateBreakpoints(e){e&&(this.monitorResize=!0)}getBreakpoint(e,n){const r=Object.keys(e).map((e=>parseInt(e))).sort().find((e=>n<=e));return e[null!=r?r:e["*"]&&"*"]}activateBreakpoint(e,n){const r=this,o=r[`current${e}Breakpoint`];var i,a;n!==o&&(r[`current${e}Breakpoint`]=n,r.setConfig(n.configs),o&&r.element.classList.remove(`b-breakpoint-${o.name.toLowerCase()}`),r.element.classList.add(`b-breakpoint-${n.name.toLowerCase()}`),r.trigger(`responsive${e}Change`,{breakpoint:n,prevBreakpoint:o}),null===(i=n.callback)||void 0===i||i.call(n,{source:r,breakpoint:n,prevBreakpoint:o}),null===(a=r.recompose)||void 0===a||a.call(r))}applyResponsiveness(e,n){var r;const o=this,{width:i,height:a}=null!==(r=o.breakpoints)&&void 0!==r?r:{};if(i){const n=o.getBreakpoint(i,e);o.activateBreakpoint("Width",n)}if(a){const e=o.getBreakpoint(a,n);o.activateBreakpoint("Height",e)}}onInternalResize(e,n,r,o,i){super.onInternalResize(e,n,r,o,i),this.applyResponsiveness(n,r)}},_defineProperty(n,"$name","Responsive"),_defineProperty(n,"configurable",{breakpoints:null}),r},Styleable=e=>{var n,r;return r=n=class Styleable extends(e||Base){changeCssVarPrefix(e){return ObjectHelper.assertString(e,"prefix"),e&&!e.endsWith("-")&&(e+="-"),e||""}changeCss(e){ObjectHelper.assertObject(e,"css");const n=this;if(!BrowserHelper.global.Proxy)throw new Error("Proxy not supported");const r=new Proxy({},{get(e,r){var o;return null===(o=getComputedStyle(n.element||document.documentElement).getPropertyValue(`--${n.cssVarPrefix}${StringHelper.hyphenate(r)}`))||void 0===o?void 0:o.trim()},set:(e,r,o)=>((n.element||document.documentElement).style.setProperty(`--${n.cssVarPrefix}${StringHelper.hyphenate(r)}`,o),!0)});return e&&(n._element?ObjectHelper.assign(r,e):n.$initialCSS=e),r}updateElement(e,...n){super.updateElement(e,...n),this.$initialCSS&&ObjectHelper.assign(this.css,this.$initialCSS)}get widgetClass(){}},_defineProperty(n,"$name","Styleable"),_defineProperty(n,"configurable",{cssVarPrefix:"",css:{}}),r};const Rs="http://www.w3.org/2000/svg",Is={bar:1,outline:2,text:3},byDatasetOrder=(e,n)=>parseInt(e.dataset.order,10)-parseInt(n.dataset.order,10),getField=e=>e.field,returnFalse=()=>!1;class Histogram extends Widget{static get type(){return"histogram"}static get $name(){return"Histogram"}static get defaultConfig(){return{data:null,values:null,series:null,topValue:null,element:{children:[{ns:Rs,tag:"svg",reference:"svgElement",width:"100%",height:"100%",preserveAspectRatio:"none",children:[{ns:Rs,tag:"g",reference:"scaledSvgGroup"},{ns:Rs,tag:"g",reference:"unscaledSvgGroup"}]}]},omitZeroHeightBars:null,monitorResize:!0,getRectClass:null,getBarTip:null,getBarText:null}}construct(e){super.construct(e),this.scheduleRefresh=this.createOnFrame(this.refresh,[],this,!0),this.refresh()}set tip(e){var n;const r=this;null===(n=r.tip)||void 0===n||n.destroy(),r._tip=e?Tooltip.new({owner:r,forElement:r.svgElement,forSelector:"rect",listeners:{beforeShow:"up.onBeforeTipShow"}},e):null}onElementResize(){super.onElementResize(...arguments);const e=this.svgElement.getBoundingClientRect();this.scaledSvgGroup.setAttribute("transform",`scale(${e.width} ${e.height})`)}onBeforeTipShow({source:e}){const n=parseInt(e.activeTarget.dataset.index);e.html=e.contentTemplate({histogram:this,index:n})}set series(e){const n=this._series={};for(const r in e)if(!1!==e[r]){const o=n[r]=Object.assign({},e[r]);!o.type&&e[r].type&&(o.type=e[r].type),!o.field&&e[r].field&&(o.field=e[r].field),"order"in n||(o.order=Is[o.type]),o.id=r}this.scheduleRefresh()}get series(){return this._series}set data(e){const n=this;if(n._data=e,!n.topValue){const r=Object.values(n.series).map(getField);for(let o=0,{length:i}=e;o<i;o++)for(let i=0,{length:a}=r;i<a;i++)n.topValue=Math.max(n.topValue||0,e[o][r[i]])}n.scheduleRefresh()}get data(){return this._data}set topValue(e){this._topValue=e,this.scheduleRefresh()}get topValue(){return this._topValue}scheduleRefresh(){}refresh(){const e=this,{series:n,_tip:r}=e,o=[];for(const r in n){const i=n[r],a=e[`draw${StringHelper.capitalize(i.type)}`](i);Array.isArray(a)?o.push.apply(o,a):o.push(a)}o.sort(byDatasetOrder),DomSync.syncChildren({domConfig:{children:o},configEquality:returnFalse},e.scaledSvgGroup),DomSync.syncChildren({domConfig:{children:e.drawText()}},e.unscaledSvgGroup),r&&r.isVisible&&e.onBeforeTipShow({source:r})}drawBar(e){const n=this,{topValue:r,data:o,omitZeroHeightBars:i,barStyle:a}=n,{field:l,order:c}=e,d=1/o.length,u=[];let p;for(let b=0,g=0,{length:m}=o;b<m;b++,g+=p){const m=o[b],f=m[l],v=(f>r?r:f)/r,y=1-v,x=m.rectConfig={ns:Rs,tag:"rect",dataset:{}};if(p=m.width||d,BrowserHelper.isEdge||BrowserHelper.isIE11){const e=n.svgElement.getBoundingClientRect();x.dataset.scaleX=e.width,x.dataset.scaleY=e.height}a?x.style=a:delete x.style,Object.assign(x.dataset,{index:b,order:c}),Object.assign(x,{x:g,y,width:p,height:v,class:n.callback("getRectClass",n,[e,x,m,b])});const C=n.callback("getBarTip",n,[e,x,m,b]);C?x.dataset.btip=C:delete x.dataset.btip,!v&&i||u.push(x)}return u}drawOutline(e){const n=this,{topValue:r,data:o}=n,{field:i,order:a}=e,l=1/o.length,c=["M 0,1"],d=e.outlineElement||(e.outlineElement={ns:Rs,tag:"path",dataset:{order:a}});if(BrowserHelper.isEdge||BrowserHelper.isIE11){const e=n.svgElement.getBoundingClientRect();d.style=`stroke-width: ${1/Math.min(e.width,e.height)}px`}let u,p="M",b="L";for(let e=0,n=0,{length:a}=o;e<a;e++){const a=1-o[e][i]/r;u=o[e].width||l,c.push(`${p} ${n},${a} ${b} ${n+=u},${a}`),p=b=""}return d.d=c.join(" "),d}drawText(){const e=this,{data:n}=e,r=1/n.length,o=[];for(let i,a=0,l=0,{length:c}=n;a<c;a++,l+=i){i=n[a].width||r;e.callback("getBarText",e,[n[a],a])&&o.push({ns:Rs,tag:"text",className:"b-bar-legend",html:e.callback("getBarText",e,[n[a],a]),x:100*(l+i/2)+"%",y:"100%",dataset:{index:a}})}return o}getBarText(e,n){return""}getBarTip(e,n,r,o){}getRectClass(e,n,r,o){return""}}Histogram.initClass(),Histogram._$name="Histogram";const Fs="http://www.w3.org/2000/svg";class Scale extends Widget{static get type(){return"scale"}static get $name(){return"Scale"}static get configurable(){return{scalePoints:null,scaleMaxPadding:.1,horizontal:!1,align:{value:!1,$config:{merge:"replace"}},element:{children:[{ns:Fs,tag:"svg",reference:"svgElement",width:"100%",height:"100%",preserveAspectRatio:"none",children:[{ns:Fs,tag:"g",reference:"scaledSvgGroup",children:[{ns:Fs,tag:"path",reference:"pathElement"}]},{ns:Fs,tag:"g",reference:"unscaledSvgGroup"}]}]},monitorResize:!0}}construct(e){super.construct(e),this.scheduleRefresh=this.createOnFrame(this.refresh,[],this,!0),this.refresh()}changeAlign(e){return e||(e=this.horizontal?"bottom":"right"),e}updateAlign(e,n){this.element.classList.remove(`b-align-${n}`),this.element.classList.add(`b-align-${e}`)}updateHorizontal(e,n){this.element.classList.remove("b-scale-"+(n?"horizontal":"vertical")),this.element.classList.add("b-scale-"+(e?"horizontal":"vertical"))}onElementResize(){super.onElementResize(...arguments),this.scheduleRefresh()}scheduleRefresh(){}refresh(){const e=this,{horizontal:n,width:r,height:o,align:i,scalePoints:a,scaleMaxPadding:l}=e,c=a[a.length-1].value,d=[],u=[],p=1/(c+l*c);e.scaledSvgGroup.setAttribute("transform",`scale(${n?r:1} ${n?1:o})`);for(const e of a){const a=Boolean(e.text),l=p*e.value;if(a){const a={ns:Fs,tag:"text",className:"b-scale-tick-label",html:e.text,dataset:{tick:e.value}};n?(a.x=100*l+"%",a.y="top"===i?"1.6em":o-12):(a.x="left"===i?"12":""+(r-12),a.y=100*(1-l)+"%"),u.push(a)}n?"top"===i?d.push(`M${l},0 L${l},${a?10:5}`):d.push(`M${l},${o} L${l},${o-(a?10:5)}`):"left"===i?d.push(`M0,${1-l} L${a?10:5},${1-l}`):d.push(`M${r},${1-l} L${r-(a?10:5)},${1-l}`)}e.pathElement.setAttribute("d",d.join("")),DomSync.syncChildren({domConfig:{children:u}},e.unscaledSvgGroup)}}Scale.initClass(),Scale._$name="Scale";class AvatarRendering extends Base{static get $name(){return"AvatarRendering"}static get configurable(){return{element:null,colorPrefix:"b-sch-",tooltip:null}}doDestroy(){var e;null===(e=this.tooltip)||void 0===e||e.destroy(),super.doDestroy()}updateElement(e){EventHelper.on({element:e,delegate:".b-resource-image",error:"onImageErrorEvent",thisObj:this,capture:!0})}changeTooltip(e){return Tooltip.new({forElement:this.element,forSelector:".b-resource-avatar",cls:"b-resource-avatar-tooltip"},e)}get failedUrls(){return this._failedUrls||(this._failedUrls=new Set),this._failedUrls}getResourceAvatar({initials:e,color:n,iconCls:r,imageUrl:o,defaultImageUrl:i,dataset:a={},alt:l}){return this.getImageConfig(e,n,o,i,a,l)||this.getIconConfig(r,a)||this.getResourceInitialsConfig(e,n,a)}getImageConfig(e,n,r,o,i,a){if(r=this.failedUrls.has(r)?o:r||o)return{tag:"img",draggable:"false",class:{"b-resource-avatar":1,"b-resource-image":1},ontouchstart:"return false",alt:a,elementData:{defaultImageUrl:o,imageUrl:r,initials:e,color:n,dataset:i},src:r,dataset:i}}getIconConfig(e,n){if(e)return e&&{tag:"i",class:{"b-resource-avatar":1,"b-resource-icon":1,[e]:1},dataset:n}}getResourceInitialsConfig(e,n,r){const o=DomHelper.isNamedColor(n)&&n,i=!o&&n;return{tag:"div",class:{"b-resource-avatar":1,"b-resource-initials":1,[`${this.colorPrefix}${o}`]:o},style:{backgroundColor:i||null},children:[e],dataset:r}}onImageErrorEvent({target:e}){if(!e.matches(".b-resource-avatar"))return;const{defaultImageUrl:n,initials:r,color:o,imageUrl:i,dataset:a}=e.elementData;if(n&&!e.src.endsWith(n.replace(/^[./]*/gm,"")))e.src=n;else{const n=DomHelper.createElement(this.getResourceInitialsConfig(r,o,a));e.parentElement.replaceChild(n,e)}this.failedUrls.add(i)}}AvatarRendering._$name="AvatarRendering";class TrialPanel extends Popup{static get configurable(){return{productId:null,storeEmail:!1,width:400,anchor:!0,title:"L{title}",align:{align:"t-b",constrainPadding:20},defaults:{labelWidth:100},items:[{type:"textfield",localeClass:this,label:"L{name} <sup>*</sup>",name:"name",ref:"nameField",required:!0},{type:"textfield",inputType:"email",localeClass:this,label:"L{email} <sup>*</sup>",name:"email",ref:"emailField",required:!0},{type:"textfield",localeClass:this,label:"L{company} <sup>*</sup>",name:"company",ref:"companyField",required:!0},{type:"combo",localeClass:this,label:"L{product}",editable:!1,ref:"productField",name:"productId",style:"margin-bottom : 0",items:[{id:"calendar",downloadId:"calendar-vanilla",text:"Bryntum Calendar"},{id:"gantt",downloadId:"gantt-vanilla",text:"Bryntum Gantt"},{id:"grid",downloadId:"grid",text:"Bryntum Grid"},{id:"scheduler",downloadId:"scheduler-vanilla",text:"Bryntum Scheduler"},{id:"schedulerpro",downloadId:"schedulerpro",text:"Bryntum Scheduler Pro"},{id:"taskboard",downloadId:"taskboard-vanilla",text:"Bryntum TaskBoard"}],required:!0},{type:"textfield",inputType:"hidden",ref:"listNameField",name:"listname"},{type:"textfield",inputType:"hidden",ref:"trackingField",name:"custom meta_adtracking"},{type:"textfield",inputType:"hidden",ref:"redirectField",name:"redirect"},{type:"textfield",inputType:"hidden",name:"meta_message",value:"1"},{type:"textfield",inputType:"hidden",name:"meta_required",value:"name,email,custom company"},{type:"textfield",inputType:"hidden",name:"meta_forward_vars",value:"0"}],bbar:[{localeClass:this,text:"L{cancel}",width:"12em",onClick:"up.onCancelClick"},{localeClass:this,text:"L{submit}",width:"12em",cls:"b-blue b-raised",onClick:"up.onSubmitClick"}]}}get bodyConfig(){return this.storeEmail?Object.assign(super.bodyConfig,{tag:"form",method:"post",target:"aweberFrame",action:"https://www.aweber.com/scripts/addlead.pl"}):super.bodyConfig}changeProductId(e){this.widgetMap.productField.value=e}async onSubmitClick(){const e=this;e.isValid&&(e.storeEmail&&e.addToMailList(),await e.triggerDownload())}addToMailList(){const{trackingField:e,redirectField:n,listNameField:r,companyField:o}=this.widgetMap,{productId:i}=this.values;switch(e.value=BrowserHelper.getCookie("aw"),n.value=window.location.href,o.input.name="custom company",i){case"gantt":r.value="awlist5314739";break;case"scheduler":case"schedulerpro":r.value="awlist5074881";break;case"grid":r.value="awlist5074883";break;case"calendar":r.value="awlist4475287"}this.bodyElement.submit()}async onCancelClick(){await this.hide()}async triggerDownload(){const e=this,{name:n,email:r,company:o}=e.values;let i=e.values.productId;switch(i){case"gantt":case"scheduler":case"taskboard":case"calendar":i=`${i}-vanilla`}const a=DomHelper.createElement({parent:document.body,tag:"a",download:`bryntum-${i}-trial.zip`,href:`/do_download.php?product_id=${i}&thename=${n}&email=${r}&company=${o}`});a.click(),a.parentElement.removeChild(a),await e.hide(),Toast.show({html:e.L("L{downloadStarting}"),timeout:15e3}),e.gaScript||VersionHelper.isTestEnv||(e.gaScript=DomHelper.createElement({parent:document.head,tag:"script",src:"https://www.googletagmanager.com/gtag/js?id=UA-11046863-1"}),e.gaScript.addEventListener("load",e.trackDownload.bind(e)))}trackDownload(){function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("event","conversion",{send_to:"AW-1042491458/eweSCPibpAEQwtCM8QM",value:1,currency:"USD"}),gtag("event","Trial download started",{value:1,currency:"USD"})}}_defineProperty(TrialPanel,"$name","TrialPanel"),_defineProperty(TrialPanel,"type","trialpanel"),TrialPanel.initClass(),TrialPanel._$name="TrialPanel";class TrialButton extends Button{static get configurable(){return{productId:null,storeEmail:!1,hidden:!BrowserHelper.isBryntumOnline(["online","test"]),cls:"b-raised b-green",ref:"downloadTrial",icon:"b-fa-download",text:"L{downloadTrial}",menuIcon:null}}construct(...e){super.construct(...e),this.menu=new TrialPanel({autoShow:!1,productId:this.productId,storeEmail:this.storeEmail})}}_defineProperty(TrialButton,"$name","TrialButton"),_defineProperty(TrialButton,"type","trialbutton"),TrialButton.initClass(),TrialButton._$name="TrialButton",window&&!window.bryntum&&(window.bryntum={});const validWidth=e=>"number"==typeof e||(null==e?void 0:e.endsWith("px"));class Column extends(Events(Localizable(Model))){static get fields(){return["text","field","renderer","width","flex","autoWidth","autoHeight",{name:"fitMode",defaultValue:"exact"},{name:"editor",defaultValue:{}},"finalizeCellEdit",{name:"revertOnEscape",defaultValue:!0},{name:"invalidAction",defaultValue:"block"},{name:"sortable",defaultValue:!0,convert(e,n){if(!e)return!1;const r={};return"function"==typeof e?r.sortFn=e.bind(n):"object"==typeof e&&(Object.assign(r,e),r.fn&&(r.sortFn=r.fn,delete r.fn)),r}},{name:"searchable",defaultValue:!0},{name:"filterable",defaultValue:!0,convert(e){if(!e)return!1;const n={columnOwned:!0};return"function"==typeof e?n.filterFn=e:"object"==typeof e&&Object.assign(n,e),n}},{name:"sealed"},{name:"hideable",defaultValue:!0},{name:"draggable",defaultValue:!0},{name:"groupable",defaultValue:!0},{name:"resizable",defaultValue:!0},"groupRenderer","headerRenderer","tooltip","tooltipRenderer","cellCls","cls","icon","align",{name:"minWidth",defaultValue:60},"maxWidth",{name:"hidden",defaultValue:!1},{name:"locked"},{name:"region"},{name:"showColumnPicker",defaultValue:!0},{name:"enableHeaderContextMenu",defaultValue:!0},{name:"enableCellContextMenu",defaultValue:!0},"headerMenuItems","cellMenuItems","sum","summaries","summaryRenderer","responsiveLevels","tags","touchConfig","tree","filterType",{name:"htmlEncode",defaultValue:!0},{name:"htmlEncodeHeaderText",defaultValue:!0},{name:"autoSyncHtml",defaultValue:!1},"type",{name:"instantUpdate",defaultValue:!1},{name:"repaintOnResize",defaultValue:!1},"editTargetSelector",{name:"exportable",defaultValue:!0},{name:"exportedType"}]}static get autoExposeFields(){return!1}construct(e,n){const r=this;r.masterStore=n,n&&(r._grid=Array.isArray(n)?n[0].grid:n.grid),r.localizableProperties=e.localizableProperties||["text"],e.localeClass&&(r.localeClass=e.localeClass),super.construct(e,n,null,!1),r.isLeaf&&!("field"in r.data)&&(r.field="_"+(r.type||"")+ ++Column.emptyCount,r.noFieldSpecified=!0),r.hasComplexMapping=r.field&&r.field.includes("."),r.width||r.flex||r.children||r.set({width:Column.defaultWidth,flex:null},null,!0)}doDestroy(){var e,n,r;null===(e=this.data)||void 0===e||null===(n=e.editor)||void 0===n||null===(r=n.destroy)||void 0===r||r.call(n),super.doDestroy()}remove(){const{subGrid:e,grid:n}=this,r=e&&n&&n.focusedCell;r&&r.columnId===this.id&&(n.owns(DomHelper.getActiveElement(n))?n.navigateRight():r.columnId=e.columns.getAdjacentVisibleLeafColumn(this.id,!0,!0).id),super.remove()}getRawValue(e){const n=this;return n.hasComplexMapping?ObjectHelper.getPath(e,n.field):e[n.field]}getFilterableValue(e){return this.getRawValue(e)}get owner(){return this._owner||this.subGrid}set owner(e){this._owner=e}get nextVisibleSibling(){const e=this.region;let n=this.nextSibling;for(;n&&(n.hidden||n.region!==e);)n=n.nextSibling;return n}get isLastInSubGrid(){return!this.nextVisibleSibling&&(!this.parent||this.parent.isLastInSubGrid)}get element(){return this.grid.getHeaderElement(this)}get textWrapper(){return DomHelper.getChild(this.element,".b-grid-header-text")}get textElement(){return DomHelper.down(this.element,".b-grid-header-text-content")}get contentElement(){return DomHelper.down(this.element,".b-grid-header-children")}get editor(){let e=this.data.editor;if(e&&!(e instanceof Widget)){const n=this.grid.processCellEditor({editor:e,field:this.field});n?e=this.data.editor=n.editor:("string"==typeof e&&(e={type:e}),e=this.data.editor=Widget.create(ObjectHelper.merge(this.defaultEditor,e,{owner:this.grid})))}return e}set editor(e){this.data.editor=e}get defaultEditor(){return{type:"textfield",name:this.field}}get isFocusable(){return this.isLeaf}static get type(){return"column"}static get text(){return this.$meta.fields.defaults.text}get grid(){return this._grid||this.parent&&this.parent.grid}get locked(){return"locked"===this.data.region}set locked(e){this.region=e?"locked":"normal"}get sortable(){return this.isLeaf&&this.data.sortable}set sortable(e){this.set("sortable",e)}get groupable(){return this.isLeaf&&this.data.groupable}set groupable(e){this.set("groupable",e)}get headerText(){return this.htmlEncodeHeaderText?StringHelper.encodeHtml(this.text):this.text}hide(e=!1){const n=this,r=n.parent;if(!n.hidden){if(n.hidden=!0,r&&!r.isRoot){r.children.some((e=>!0!==e.hidden))||r.hidden||(e=!0,r.hide())}n.children&&n.children.forEach((e=>e.hide(!0))),e||n.stores.forEach((e=>e.trigger("columnHide",{column:n})))}}show(e=!1){const n=this,r=n.parent;n.hidden&&(n.hidden=!1,r&&r.hidden&&r.show(),n.children&&n.children.forEach((e=>e.show(!0))),e||n.stores.forEach((e=>e.trigger("columnShow",{column:n}))))}toggle(e=null){return this.hidden&&void 0===e||!0===e?this.show():!this.hidden&&void 0===e||!1===e?this.hide():void 0}generateId(){return Column.generatedIdIndex||(Column.generatedIdIndex=0),(this.field?this.field.replace(/\./g,"-"):"col")+ ++Column.generatedIdIndex}get allIndex(){return this.masterStore.indexOf(this)}get calcMinWidth(){const{width:e,minWidth:n}=this.data;return validWidth(e)&&validWidth(n)?Math.max(parseInt(e)||0,parseInt(n)||0):e}get width(){return this.data.width}set width(e){const n={width:e};e&&"flex"in this.data&&(n.flex=null),this.set(n)}set flex(e){const n={flex:e};e&&"width"in this.data&&(n.width=null),this.set(n)}get flex(){return this.data.flex}set subGrid(e){this._subGrid=e}get subGrid(){return this._subGrid||(this.grid?this.grid.getSubGridFromColumn(this):void 0)}get subGridElement(){return this.subGrid.element}measureSize(e){return DomHelper.measureSize(e,this.subGrid?this.subGrid.element:void 0)}get isVisible(){return!this.hidden&&(!this.parent||this.parent.isVisible)}calculateMinWidth(){const e=this,n=e.measureSize(e.width),r=e.measureSize(e.minWidth);let o=0;return e.children&&(o=e.children.reduce(((e,n)=>e+n.calculateMinWidth()),0)),Math.max(n,r,o)}resizeToFitContent(e,n,r=!1){const o=this,{grid:i,element:a,fitMode:l}=o,{rowManager:c,store:d}=i,{count:u}=d;if(u<=0||"none"===o.fitMode||!o.fitMode)return;const[p]=c.rows,{rowElement:b,cellElement:g}=i.beginGridMeasuring();let m,f,v,y,x,C,S=0,D={length:0,record:null};if(g._domData={columnId:o.id,row:p,rowElement:b},g.innerHTML="",i.resizeToFitIncludesHeader){if(!i.$headerPadding){const e=window.getComputedStyle(a);i.$headerPadding=parseInt(e.paddingLeft)}const e=a.querySelector(".b-grid-header-text-content");e.style.cssText="flex: none; width: auto",S=e.offsetWidth+2*i.$headerPadding+2,e.style.cssText=""}for(u>1e3?(m=Math.max(Math.min(c.topIndex+Math.round(c.rowCount/2)-500,u-1e3),0),f=m+1e3):(m=0,f=u),v=m;v<f;v++){if(y=d.getAt(v),x=o.getRawValue(y),"value"===l)C=String(x).length;else if(p.renderCell({cellElement:g,record:y,updatingSingleRow:!0,isMeasuring:!0}),"textContent"===l)C=g.textContent.length;else{const e=g.offsetWidth;e>S&&(S=e)}C>D.length&&(D={record:y,length:C})}return"value"!==l&&"textContent"!==l||(p.renderCell({cellElement:g,record:D.record,updatingSingleRow:!0,isMeasuring:!0}),S=Math.max(S,g.offsetWidth)),Array.isArray(e)&&([e,n]=e),S=Math.max(S,e||0),S=Math.min(S,n||1e6),r||i.endGridMeasuring(),o.width=o.maxWidth?S=Math.min(S,o.maxWidth):S,S}getState(){const e=this,n={id:e.id,[e.flex?"flex":"width"]:e.flex?e.flex:e.width,hidden:e.hidden,region:e.region,locked:e.locked};return e.children&&(n.children=e.children.map((e=>e.getState()))),n}applyState(e){const n=this;n.beginBatch(),"locked"in e&&(n.locked=e.locked),"width"in e&&(n.width=e.width),"flex"in e&&(n.flex=e.flex),"width"in e&&n.flex?n.flex=void 0:"flex"in e&&n.width&&(n.width=void 0),"region"in e&&(n.region=e.region),n.endBatch(),"hidden"in e&&n.toggle(!0!==e.hidden)}refreshCell(e){this.grid.rowManager.refreshCell(e,this.id)}clearCell(e){e.innerHTML="",delete e._content}canEdit(e){if(e.isEditable){const n=e.isEditable(this.field);if(void 0!==n)return n}return!0}insertChild(e,n=null,r=!1){return this.sealed&&!this.inProcessChildren?null:super.insertChild(...arguments)}}Column.emptyCount=0,Column.defaultWidth=100,Column.exposeProperties(),Column._$name="Column";const As={boolean:{type:"check"},date:{type:"date"},integer:{type:"number",format:{maximumFractionDigits:0}},number:{type:"number"}};class ColumnStore extends(Localizable(Store)){static get defaultConfig(){return{modelClass:Column,tree:!0,autoAddField:!1}}construct(e){const n=this;e.grid&&(e.grid._columnStore=n,n.id=`${e.grid.id}-columns`,e.grid.on({subGridCollapse:"clearSubGridCaches",subGridExpand:"clearSubGridCaches",thisObj:n})),super.construct(e),n.on({change:n.onStoreChange,sort:()=>n.updateChainedStores(),thisObj:n,prio:1})}get modelClass(){return this._modelClass}set modelClass(e){this._modelClass=e}doDestroy(){const e=[];this.isChained||this.traverse((n=>e.push(n))),super.doDestroy(),this.isChained||e.forEach((e=>e.destroy()))}getById(e){return super.getById(e)||this.idRegister[e]}forEach(e,n=this){this.traverseWhile(((r,o)=>e.call(n,r,o)),!0)}get totalFixedWidth(){let e=0;for(const n of this)n.hidden||(n.children?n.children.forEach((n=>e+=this.calculateFixedWidth(n))):e+=this.calculateFixedWidth(n));return e}calculateFixedWidth(e){return e.flex?e.measureSize(Column.defaultWidth):Math.max(e.measureSize(e.width),e.measureSize(e.minWidth))}get topColumns(){return this.isChained?this.masterStore.rootNode.children.filter(this.chainedFilterFn):this.rootNode.children}get visibleColumns(){const e=this;return e._visibleColumns||(e._visibleColumns=e.leaves.filter((e=>e.isVisible&&(!e.subGrid||!e.subGrid.collapsed)))),e._visibleColumns}onStoreChange({action:e,changes:n}){("update"!==e||"hidden"in n)&&this.clearCaches()}clearSubGridCaches({subGrid:e}){e.columns.clearCaches(),this.clearCaches()}clearCaches(){var e;this._visibleColumns=null,null===(e=this.masterStore)||void 0===e||e.clearCaches()}onMasterDataChanged(e){super.onMasterDataChanged(e),("update"!==e.action||"hidden"in e.changes)&&this.clearCaches()}getAdjacentVisibleLeafColumn(e,n=!0,r=!1){const o=this.visibleColumns,i=e instanceof Column?e:this.getById(e);let a=o.indexOf(i)+(n?1:-1);if(!o[a]){if(!r)return null;a=n?0:o.length-1}return o[a]}get bottomColumns(){return this.leaves}get(e){return this.findRecord("field",e,!0)}createRecord(e){var n,r;const{grid:o={}}=this,{store:i}=o,a=null==i||null===(n=i.modelClass)||void 0===n||null===(r=n.fieldMap)||void 0===r?void 0:r[e.field];let l=this.modelClass;if(null!=a&&a.column&&(e=Objects.merge({},a.column,e)),e.type&&(l=ColumnStore.getColumnClass(e.type),!l))throw new Error(`Column type '${e.type}' not registered`);e.locked&&(e.region="locked",delete e.locked);const c=new l(e,this);if(c.data.region||(c.data.region=o.defaultRegion||"normal"),this.autoAddField&&!c.noFieldSpecified&&i&&!a){let e=c.field;c.constructor.fieldType&&(e={name:c.field,type:c.constructor.fieldType}),i.modelClass.addField(e)}return c}indexOf(e){const n=super.indexOf(e);return n>-1?n:this.records.findIndex((n=>n.field===e))}get usesAutoHeight(){return this.find((e=>e.autoHeight))}get usesFlexAutoHeight(){return this.find((e=>e.autoHeight&&null!=e.flex))}static registerColumnType(e,n=!1){ColumnStore.columnTypes||(ColumnStore.columnTypes={}),e.simpleRenderer=n,ColumnStore.columnTypes[e.type]=e}static getColumnClass(e){return ColumnStore.columnTypes&&ColumnStore.columnTypes[e]}generateColumnForField(e,n){var r;"string"==typeof e&&this.grid&&(e=null===(r=this.grid.store)||void 0===r?void 0:r.modelClass.fieldMap[e]);let o=e.column||As[e.type]||{};return"string"==typeof o&&(o={type:o}),o=Object.assign({text:e.text||StringHelper.separate(e.name),field:e.name},n,o),null!=e.precision&&(o.format.maximumFractionDigits=e.precision),e.columnType&&(o.type=e.columnType),this.createRecord(o)}}ColumnStore.registerColumnType(Column,!0),ColumnStore._$name="ColumnStore";class ActionColumn extends Column{static get type(){return"action"}static get fields(){return["actions",{name:"disableIfGridReadOnly",defaultValue:!1}]}static get defaults(){return{filterable:!1,groupable:!1,sortable:!1,editor:!1,searchable:!1,htmlEncode:!1,resizable:!1,minWidth:30}}get groupHeaderReserved(){return!0}construct(e,n){const r=this;r.internalCellCls="b-action-cell",super.construct(...arguments),e.width||e.flex||r.grid.on("paint",r.updateAutoWidth,r),r.disableIfGridReadOnly&&r.grid.element.classList.add("b-actioncolumn-readonly"),r.externalRenderer=r.renderer,r.renderer=r.internalRenderer}internalRenderer({column:e,record:n,callExternalRenderer:r=!0}){var o;const i=n&&"groupRowFor"in n.meta;var a;r&&(null===(a=this.externalRenderer)||void 0===a||a.call(this,...arguments));return{className:{"b-action-ct":1},children:null===(o=e.actions)||void 0===o?void 0:o.map(((r,o)=>{if("visible"in r){if("function"==typeof r.visible&&!1===r.visible({record:n}))return"";if(!1===r.visible)return""}if(i&&!r.showForGroup||!i&&r.showForGroup)return"";let a;if(a="function"==typeof r.tooltip?r.tooltip({record:n}):r.tooltip||"",r.renderer&&"function"==typeof r.renderer){const i=r.renderer({index:o,record:n,column:e,tooltip:a,action:r});return"string"==typeof i?{tag:"span",dataset:{index:o,btip:a},html:i}:(i.dataset=i.dataset||{},i.dataset.index=o,i)}return{tag:"i",dataset:{index:o,btip:a},className:{"b-action-item":1,[r.cls]:r.cls}}}))}}onCellClick({grid:e,column:n,record:r,target:o}){var i;if(n!==this||!o.classList.contains("b-action-item"))return;let a=o.dataset.index;a||(a=o.parentElement.dataset&&o.parentElement.dataset.index);const l=null===(i=n.actions)||void 0===i?void 0:i[a],c=l&&l.onClick;c&&this.callback(c,n,[{record:r,action:l}])}updateAutoWidth(){var e;const n=this,r=[];if(!n.element)return;let o=[];null===(e=n.actions)||void 0===e||e.forEach((e=>{const n=_objectSpread2({},e);delete n.visible,n.showForGroup?(delete n.showForGroup,r.push(n)):o.push(n)})),r.length>o.length&&(o=r);const i=DomHelper.createElement(n.internalRenderer({column:{actions:o},callExternalRenderer:!1})).outerHTML;n.width=DomHelper.measureText(i,n.element,!0,n.element.parentElement)}}ColumnStore.registerColumnType(ActionColumn),ActionColumn.exposeProperties(),ActionColumn._$name="ActionColumn";class NumberColumn extends Column{static get type(){return"number"}static get fieldType(){return"number"}static get fields(){return["format","min","max","step","largeStep","unit"]}static get defaults(){return{filterType:"number",format:""}}constructor(e,n){super(...arguments),this.internalCellCls="b-number-cell"}get defaultEditor(){const{format:e,name:n,max:r,min:o,step:i,largeStep:a,align:l}=this;return ObjectHelper.cleanupProperties({type:"numberfield",format:e,name:n,max:r,min:o,step:i,largeStep:a,textAlign:l})}get formatter(){const e=this,{format:n}=e;let r=e._formatter;return r&&e._lastFormat===n||(e._formatter=r=NumberFormat.get(e._lastFormat=n)),r}defaultRenderer({value:e}){return null!=e?(e=this.formatter.format(e),this.unit&&(e=`${e}${this.unit}`)):e="",e}}ColumnStore.registerColumnType(NumberColumn,!0),NumberColumn.exposeProperties(),NumberColumn._$name="NumberColumn";class AggregateColumn extends NumberColumn{static get type(){return"aggregate"}static get fields(){return["function"]}static get defaults(){return{function:"sum"}}construct(e,n){this.configuredAlign="align"in e,this.configuredEditor="editor"in e,super.construct(...arguments);const{grid:r}=n;"sum"===this.function&&(this.function="sumChildren"),r&&(this.owner=r,r.on({paint:"onGridPaint",thisObj:this,prio:1e3}))}onGridPaint({source:e}){this.store=e.store}set store(e){const n=this,r={update:"onRecordUpdate",thisObj:n,prio:1e3},o=n._store;if(e!==o){o&&o.un(r),n._store=e;const{modelClass:i}=e,a=i.fieldMap[n.field];a&&"number"===a.type&&(n.configuredAlign||(n.align="end"),n.configuredEditor||(n.editor="number")),e.on(r)}}canEdit(e){return e.isLeaf}get store(){return this._store}sumChildren(...e){let n=0;for(let r=0,{length:o}=e;r<o;r++)n+=parseInt(e[r]||0,10);return n}avg(...e){let n=0;const{length:r}=e;for(let o=0;o<r;o++)n+=parseInt(e[o]||0,10);return n/r}onRecordUpdate({record:e,changes:n}){const r=this,{rowManager:o}=r.grid;r.field in n&&e.isLeaf&&e.bubble((e=>{const n=o.getRowFor(e);if(n){const o=n.getCell(r.field);o&&n.renderCell({cellElement:o,record:e})}}),!0)}getRawValue(e){let n=0;if(e.children){const r=this,o=r.function,i="string"==typeof o&&"function"==typeof Math[o],{handler:a,thisObj:l}=i?{handler:Math[o],thisObj:Math}:r.resolveCallback(o);n=a.apply(l,e.children.map((e=>r.getRawValue(e)))),e.setData(r.field,n)}else n=e[this.field];return n}}ColumnStore.registerColumnType(AggregateColumn,!0),AggregateColumn.exposeProperties(),AggregateColumn._$name="AggregateColumn";class WidgetColumn extends Column{static get type(){return"widget"}static get fields(){return["widgets"]}static get defaults(){return{filterable:!1,sortable:!1,editor:!1,searchable:!1,fitMode:!1}}construct(e,n){const r=this;r.widgetMap={},r.internalCellCls="b-widget-cell",super.construct(...arguments),r.externalRenderer=r.renderer,r.renderer=r.internalRenderer}doDestroy(){for(const e of Object.values(this.widgetMap))e.destroy&&e.destroy();super.doDestroy()}internalRenderer(e){var n;const r=this,{cellElement:o,column:i,record:a,isExport:l}=e,c=i.widgets;return!l&&c&&(o.widgets||r.clearCell(o),o.widgets=e.widgets=c.map(((n,l)=>{var c,d;let u,p;if(o.widgets&&(u=o.widgets[l],p=u.element.nextElementSibling,n.recreate&&u&&(delete r.widgetMap[u.id],u.destroy(),o.widgets[l]=null)),u||(r.onBeforeWidgetCreate(n,e),n.recomposeAsync=!1,u=WidgetHelper.append(n,p?{insertBefore:p}:o)[0],r.widgetMap[u.id]=u,r.onAfterWidgetCreate(u,e),u.name&&u.on({change:({value:e})=>{u.cellInfo.record[u.name]=e}})),u.cellInfo={record:a,column:i},r.grid&&!r.isSelectionColumn&&(u.readOnly=r.grid.readOnly),!1!==(null===(c=r.onBeforeWidgetSetValue)||void 0===c?void 0:c.call(r,u,e))){const r=n.valueProperty||"value"in u&&"value"||u.defaultBindProperty;if(r){const n=u.name?a[u.name]:e.value;u[r]=n}}return null===(d=r.onAfterWidgetSetValue)||void 0===d||d.call(r,u,e),u}))),l?null:null===(n=this.externalRenderer)||void 0===n?void 0:n.call(this,e)}onBeforeWidgetCreate(e,n){}onAfterWidgetCreate(e,n){}clearCell(e){e.widgets&&(e.widgets.forEach((e=>{delete this.widgetMap[e.id],e.destroy()})),e.widgets=null),super.clearCell(e)}resizeToFitContent(){}}ColumnStore.registerColumnType(WidgetColumn),WidgetColumn.exposeProperties(),WidgetColumn._$name="WidgetColumn";class CheckColumn extends WidgetColumn{static get type(){return"check"}static get fields(){return["checkCls","showCheckAll","onAfterWidgetSetValue","onBeforeWidgetSetValue"]}static get defaults(){return{align:"center",checkCls:null,showCheckAll:!1,widgets:[{type:"checkbox",valueProperty:"checked"}]}}construct(e,n){var r;super.construct(...arguments);const o=this;o.externalHeaderRenderer=o.headerRenderer,o.externalOnBeforeWidgetSetValue=o.onBeforeWidgetSetValue,o.externalOnAfterWidgetSetValue=o.onAfterWidgetSetValue,o.onBeforeWidgetSetValue=o.internalOnBeforeWidgetSetValue,o.onAfterWidgetSetValue=o.internalOnAfterWidgetSetValue,o.headerRenderer=o.internalHeaderRenderer,o.internalCellCls="b-check-cell",null===(r=o.grid)||void 0===r||r.on({destroy:()=>{var e;return null===(e=o.headerCheckbox)||void 0===e?void 0:e.destroy()},thisObj:o})}internalHeaderRenderer({headerElement:e,column:n}){let r;return e.classList.add("b-check-header"),n.showCheckAll?(e.classList.add("b-check-header-with-checkbox"),n.headerCheckbox?e.appendChild(n.headerCheckbox.element):n.headerCheckbox=new Checkbox({appendTo:e,owner:this.grid,listeners:{change:"onCheckAllChange",thisObj:n}})):r=n.headerText,r=n.externalHeaderRenderer?n.externalHeaderRenderer.call(this,...arguments):r,n.showCheckAll?void 0:r}updateCheckAllState(e){this.headerCheckbox&&(this.suspendEvents(),this.headerCheckbox.checked=e,this.resumeEvents())}onCheckAllChange({checked:e}){const n=this;if(n.field){const{store:r}=n.grid;r.beginBatch(),r.forEach((r=>n.updateRecord(r,n.field,e))),r.endBatch()}n.trigger("toggleAll",{checked:e})}internalRenderer({value:e,isExport:n}){return n?e??"":super.internalRenderer(...arguments)}onBeforeWidgetCreate(e,n){e.cls=this.checkCls}onAfterWidgetCreate(e,n){n.cellElement.widget=e,e.on({beforeChange:"onBeforeCheckboxChange",change:"onCheckboxChange",thisObj:this})}internalOnBeforeWidgetSetValue(e){var n;e.record=e.cellInfo.record,this.isInitialSet=!0,null===(n=this.externalOnBeforeWidgetSetValue)||void 0===n||n.call(this,...arguments)}internalOnAfterWidgetSetValue(e){var n;this.isInitialSet=!1,null===(n=this.externalOnAfterWidgetSetValue)||void 0===n||n.call(this,...arguments)}onBeforeCheckboxChange({source:e,checked:n}){const r=e.cellInfo.record;return!(this.isSelectionColumn&&!this.grid.isSelectable(r))&&(this.isInitialSet?void 0:this.trigger("beforeToggle",{record:r,checked:n}))}onCheckboxChange({source:e,checked:n}){if(!this.isInitialSet){const r=e.cellInfo.record,o=this.field;o&&this.updateRecord(r,o,n),this.trigger("toggle",{record:r,checked:n})}}updateRecord(e,n,r){const o=`set${StringHelper.capitalize(n)}`;e[o]?e[o](r):e.set(n,r)}onCellKeyDown({event:e,cellElement:n}){if(" "===e.key){const r=n.widget;null==r||r.toggle(),e.preventDefault()}}}ColumnStore.registerColumnType(CheckColumn,!0),CheckColumn._$name="CheckColumn";class DateColumn extends Column{static get $name(){return"DateColumn"}static get type(){return"date"}static get fieldType(){return"date"}static get fields(){return["format","pickerFormat","step"]}static get defaults(){return{format:"L",step:1,minWidth:85,filterType:"date"}}constructor(e,n){super(...arguments),this.internalCellCls="b-date-cell"}defaultRenderer({value:e}){return e?this.formatValue(e):""}groupRenderer({cellElement:e,groupRowFor:n}){e.innerHTML=this.formatValue(n)}formatValue(e){return"string"==typeof e&&(e=DateHelper.parse(e,this.format||void 0)),DateHelper.format(e,this.format||void 0)}set format(e){const n=this,r=n.data.editor;n.set("format",e),r&&(r.format=n.format)}get format(){return this.get("format")}get defaultEditor(){const e=this;return{name:e.field,type:"date",calendarContainerCls:"b-grid-cell-editor-related",weekStartDay:e.grid.weekStartDay,format:e.format,step:e.step}}}ColumnStore.registerColumnType(DateColumn,!0),DateColumn.exposeProperties(),DateColumn._$name="DateColumn";class PercentColumn extends Column{static get type(){return"percent"}static get fieldType(){return"number"}static get fields(){return["showValue","lowThreshold"]}static get defaults(){return{editor:{type:"number",min:0,max:100},showValue:!1,lowThreshold:20,filterType:"number",htmlEncode:!1,searchable:!1,summaryRenderer:e=>`${e}%`,fitMode:!1}}constructor(e,n){super(...arguments),this.internalCellCls="b-percent-bar-cell"}defaultRenderer({value:e}){return{className:"b-percent-bar-outer",children:[{tag:"div",className:{"b-percent-bar":1,"b-zero":0===(e=e||0),"b-low":e<this.lowThreshold},style:{width:e+"%"},children:[this.showValue?{tag:"span",text:e+"%"}:void 0]}]}}resizeToFitContent(){}}PercentColumn.sum="average",ColumnStore.registerColumnType(PercentColumn,!0),PercentColumn._$name="PercentColumn";class RatingColumn extends NumberColumn{static get type(){return"rating"}static get fieldType(){return"number"}static get fields(){return["emptyIcon","filledIcon","editable"]}static get defaults(){return{min:0,max:5,emptyIcon:"b-icon b-icon-star",filledIcon:"b-icon b-icon-star",editable:!0,filterType:"number",searchable:!1,width:"11.2em",htmlEncode:!1,minWidth:"11.2em",editor:!1,fitMode:"value"}}constructor(e,n){super(...arguments),this.internalCellCls="b-rating-cell"}renderer({value:e}){return{className:{"b-rating-cell-inner":1,"b-not-editable":!this.editable},children:ArrayHelper.populate(this.max,(n=>{const r=n<e;return{tag:"i",className:{"b-rating-icon":!0,"b-filled":r,"b-empty":!r,[r?this.filledIcon:this.emptyIcon]:!0}}}))}}onCellClick({grid:e,column:n,record:r,target:o,event:i}){if(o.classList.contains("b-rating-icon")&&!e.readOnly&&n.editable){let e=[].indexOf.call(o.parentNode.childNodes,o);o.classList.contains("b-filled")&&(i.metaKey||i.shiftKey)&&(e-=1),1===r.get(n.field)&&0===e&&(e=-1),r.set(n.field,e+1)}}}ColumnStore.registerColumnType(RatingColumn,!0),RatingColumn.exposeProperties(),RatingColumn._$name="RatingColumn";class RowNumberColumn extends Column{static get defaults(){return{groupable:!1,sortable:!1,filterable:!1,searchable:!1,resizable:!1,minWidth:50,width:50,align:"right",text:"#",editor:!1}}construct(e){super.construct(...arguments);const n=this,{grid:r}=n;n.internalCellCls="b-row-number-cell",r&&(r.on({bindStore:"bindStore",thisObj:n}),n.bindStore({store:r.store,initial:!0}),r.store.count&&!r.rendered&&r.on({paint:"resizeToFitContent",thisObj:n,once:!0}))}static get type(){return"rownumber"}get groupHeaderReserved(){return!0}bindStore({store:e,initial:n}){const r=this;r.detachListeners("grid"),e.on({name:"grid",[`change${r.grid.asyncEventSuffix}`]:"onStoreChange",thisObj:r}),n||r.resizeToFitContent()}onStoreChange({action:e}){"dataset"!==e&&"add"!==e&&"remove"!==e&&"removeall"!==e||this.resizeToFitContent()}renderer({record:e,grid:n}){return e.isSpecialRow?"":n.store.indexOf(e,!0)+1}resizeToFitContent(){const{grid:e}=this,{store:n}=e,{count:r}=n;if(r&&!this.hidden){const n=e.element.querySelector(`.b-grid-cell[data-column-id="${this.id}"]`);if(n){const e=parseInt(DomHelper.getStyleValue(n,"padding-left")),o=DomHelper.measureText(r,n);this.width=Math.max(this.minWidth,o+2*e)}}}set flex(e){}}ColumnStore.registerColumnType(RowNumberColumn,!0),RowNumberColumn._$name="RowNumberColumn";class TemplateColumn extends Column{static get fields(){return["template"]}static get defaults(){return{htmlEncode:!1}}constructor(e,n){super(...arguments);if(!this.template)throw new Error("TemplateColumn needs a template");if("function"!=typeof this.template)throw new Error("TemplateColumn.template must be a function")}static get type(){return"template"}renderer(e){if(!e.record.isSpecialRow)return this.template({value:e.value,record:e.record,field:e.column.field})}}ColumnStore.registerColumnType(TemplateColumn,!0),TemplateColumn.exposeProperties(),TemplateColumn._$name="TemplateColumn";class TimeColumn extends Column{static get type(){return"time"}static get fieldType(){return"date"}static get fields(){return["format"]}static get defaults(){return{format:"LT",minWidth:140,filterType:"time"}}constructor(e,n){super(...arguments),this.internalCellCls="b-time-cell"}defaultRenderer({value:e}){return e?this.formatValue(e):""}groupRenderer({cellElement:e,groupRowFor:n}){e.innerHTML=this.formatValue(n)}formatValue(e){const n=this;return"string"==typeof e&&(e=DateHelper.parse(e,n.format)),DateHelper.format(e,n.format)}set format(e){const n=this,r=n.editor;n.set("format",e),r&&(r.format=n.format)}get format(){return this.get("format")}get defaultEditor(){return{name:this.field,type:"time",format:this.format}}}ColumnStore.registerColumnType(TimeColumn,!0),TimeColumn.exposeProperties(),TimeColumn._$name="TimeColumn";let Os=!1;class TreeColumn extends Column{static get defaults(){return{tree:!0,hideable:!1,minWidth:150}}static get fields(){return[{name:"expandIconCls",defaultValue:"b-icon b-icon-tree-expand"},{name:"collapseIconCls",defaultValue:"b-icon b-icon-tree-collapse"},{name:"collapsedFolderIconCls"},{name:"expandedFolderIconCls"},{name:"indentSize",defaultValue:1.7},{name:"leafIconCls",defaultValue:"b-icon b-icon-tree-leaf"},{name:"editTargetSelector",defaultValue:".b-tree-cell-value"}]}static get type(){return"tree"}constructor(e,n){super(...arguments);const r=this;r.internalCellCls="b-tree-cell",r.shouldHtmlEncode=r.htmlEncode,r.setData("htmlEncode",!1),r.renderer&&(r.originalRenderer=r.renderer),r.renderer=r.treeRenderer.bind(r)}treeRenderer(e){const n=this,{grid:r,column:o,cellElement:i,row:a,record:l,isExport:c}=e,d=l.instanceMeta(r.store),u={className:"b-tree-cell-value"},p=[u],b={className:"b-tree-cell-inner",tag:l.href?"a":"div",href:l.href,target:l.target,children:p},g={"b-tree-parent-row":0,"b-tree-collapsed":0,"b-tree-expanded":0,"b-loading-children":0};let m,f,{value:v}=e;if(n.originalRenderer){var y;const a=n.originalRenderer(e),l=null===(y=r.hasFrameworkRenderer)||void 0===y?void 0:y.call(r,{cellContent:a,column:o});m="object"==typeof a&&!l,v=l?"":!1===a?i.innerHTML:a,e.rendererHtml=a}var x;m||(v=String(null!==(x=v)&&void 0!==x?x:""));if(c)return v;if(l.isLeaf)i.classList.add("b-tree-leaf-cell"),f=e.iconCls||l.iconCls||n.leafIconCls;else{var C;const o=!l.isExpanded(r.store),a=o?n.expandIconCls:n.collapseIconCls,c=o?n.collapsedFolderIconCls:n.expandedFolderIconCls;g["b-tree-parent-row"]=1,g["b-tree-collapsed"]=o,g["b-tree-expanded"]=!o,g["b-loading-children"]=d.isLoadingChildren,i.classList.add("b-tree-parent-cell"),p.unshift({tag:"i",className:{"b-tree-expander":1,[a]:1,"b-empty-parent":!(d.isLoadingChildren||!0===l.children||null!==(C=l.children)&&void 0!==C&&C.length)}}),Os=f=e.iconCls||l.iconCls||c}f&&p.splice(p.length-1,0,{tag:"i",className:{"b-tree-icon":1,[f]:1}}),a.isRow&&a.assignCls(g),m||n.shouldHtmlEncode||!v.includes("<")?(m&&Object.assign(u,v),u.children=u.children||[],u.children.unshift(m?null:v)):u.html=v;const S=l.childLevel*n.indentSize+(l.isLeaf?Os?2:f?.5:.4:0);return b.style=`padding-left:${S}em`,b}}ColumnStore.registerColumnType(TreeColumn,!0),TreeColumn.exposeProperties(),TreeColumn._$name="TreeColumn";class GridRowModel extends Model{static get fields(){return[{name:"iconCls",internal:!0},{name:"expanded",internal:!0},{name:"cls",internal:!0},{name:"rowHeight",internal:!0},{name:"href",internal:!0},{name:"target",internal:!0}]}}GridRowModel.exposeProperties(),GridRowModel._$name="GridRowModel";const Ps=new Map,Hs=new Map,qs="Grid",Ls={Grid:"GridBase",Scheduler:"SchedulerBase",SchedulerPro:"SchedulerProBase",Gantt:"GanttBase"},js=/\$\d+$/;class GridFeatureManager{static registerFeature(e,n=!1,r=null,o=null){o=(o=StringHelper.uncapitalize(o||Object.prototype.hasOwnProperty.call(e,"$name")&&e.$$name||e.name)).replace(js,""),Array.isArray(r)||(r=[r||qs]),r.forEach((r=>{const i=Ls[r]||r,a=Ps.get(i)||new Map,l=Hs.get(i)||new Map;a.set(o,e),l.set(e,n),Ps.set(i,a),Hs.set(i,l)}))}static getTypeNameFeatures(e=qs){const n=Ls[e]||e,r=Ps.get(n),o={};return r&&r.forEach(((e,n)=>o[n]=e)),o}static getTypeNameDefaultFeatures(e=qs){const n=Ls[e]||e,r=Ps.get(n),o=Hs.get(n),i={};return r&&o&&r.forEach(((e,n)=>{o.get(e)&&(i[n]=e)})),i}static getInstanceFeatures(e){return e.$meta.names.reduce(((e,n)=>Object.assign(e,this.getTypeNameFeatures(n))),{})}static getInstanceDefaultFeatures(e){return e.$meta.names.reduce(((e,n)=>Object.entries(this.getTypeNameFeatures(n)).reduce(((e,[r,o])=>(this.isDefaultFeatureForTypeName(o,n)?e[r]=o:delete e[r],e)),e)),{})}static isDefaultFeatureForTypeName(e,n=qs){const r=Ls[n]||n,o=Hs.get(r);return o&&o.get(e)||!1}static isDefaultFeatureForInstance(e,n){const r=n.$meta.names.slice().reverse();let o=null;for(let n=0,i=r.length;n<i&&null===o;++n){const i=Hs.get(r[n]);i&&i.has(e)&&(o=i.get(e))}return o||!1}static reset(){Ps.clear(),Hs.clear()}}GridFeatureManager._$name="GridFeatureManager";const Ns={Enter:1,F2:1},$s={ArrowUp:1,ArrowDown:1,ArrowLeft:1,ArrowRight:1,Escape:1,Enter:1,Tab:1,F2:1};class CellEdit extends(Delayable(InstancePlugin)){static get $name(){return"CellEdit"}static get defaultConfig(){return{autoSelect:!0,blurAction:"complete",continueEditingOnCellClick:!0,addNewAtEnd:null,autoEdit:null,editNextOnEnterPress:!0,editorClass:Editor,triggerEvent:"celldblclick",focusCellAnimationDuration:!1}}static get pluginConfig(){return{assign:["startEditing"],before:["onElementKeyDown","onElementMouseDown"],chain:["onElementClick","bindStore"]}}construct(e,n){super.construct(e,n);const r=this,o={renderRows:"onGridRefreshed",cellClick:"onCellClick",thisObj:r};r.grid=e,"cellclick"!==r.triggerEvent&&(o[r.triggerEvent]="onTriggerEditEvent"),r.autoEdit&&!("editNextOnEnterPress"in n)&&(r.editNextOnEnterPress=!1),e.on(o),e.rowManager.on({changeTotalHeight:"onGridRefreshed",thisObj:r}),r.bindStore(e.store)}bindStore(e){this.detachListeners("store"),e.on({name:"store",update:"onStoreUpdate",thisObj:this})}async confirm(e){let n=!0;return this.editorContext&&(xs.owner=this.editorContext.editor.inputField,e.rootElement=this.grid.rootElement,n=await xs.confirm(e),xs.owner=null),n===xs.yesButton}doDestroy(){this.grid.columns.allRecords.forEach((e=>{var n;null===(n=e._cellEditor)||void 0===n||n.destroy()})),super.doDestroy()}doDisable(e){e&&this.cancelEditing(!0),super.doDisable(e)}set disabled(e){super.disabled=e}get disabled(){const{grid:e}=this;return Boolean(super.disabled||e.disabled||e.readOnly)}get isEditing(){return Boolean(this.editorContext)}get activeRecord(){var e;return(null===(e=this.editorContext)||void 0===e?void 0:e.record)||null}getEditorForCell({cell:e,column:n,selector:r,editor:o}){const i=this,{grid:a}=i;let l=n._cellEditor,c=0;if(n.editTargetSelector){c=e.querySelector(n.editTargetSelector).offsetLeft}return o.autoSelect=i.autoSelect,l?(l.inputField!==o&&(l.remove(l.items[0]),l.add(o)),l.align.offset[0]=c):l=n._cellEditor=new i.editorClass({constrainTo:null,cls:"b-cell-editor",inputField:o,blurAction:"none",invalidAction:n.invalidAction,completeKey:!1,cancelKey:!1,owner:a,align:{align:"t0-t0",offset:[c,0]},listeners:i.getEditorListeners()}),n.instantUpdate&&!o.cellEditValueSetter&&(ObjectHelper.wrapProperty(o,"value",null,(e=>{const{editorContext:n}=i;null!=n&&n.editor.isValid&&!ObjectHelper.isEqual(n.record[n.column.field],e)&&(n.record[n.column.field]=e)})),o.cellEditValueSetter=!0),Object.assign(l.element.dataset,{rowId:r.id,columnId:r.columnId,field:n.field}),l.inputField.revertOnEscape=n.revertOnEscape,i.editor=l}getEditorListeners(){return{focusOut:"onEditorFocusOut",focusIn:"onEditorFocusIn",start:"onEditorStart",beforeComplete:"onEditorBeforeComplete",complete:"onEditorComplete",cancel:"onEditorCancel",thisObj:this}}onEditorStart({source:e}){const n=this,r=n.editorContext=e.cellEditorContext;if(r){const{grid:e}=n,{cell:o}=r;o.classList.add("b-editing"),"cellclick"!==n.triggerEvent&&e.on({cellclick:"onCellClickWhileEditing"},n),n.removeEditingListeners=gn.addListener({globaltap:"onTapOut",thisObj:n}),e.trigger("startCellEdit",{grid:e,editorContext:r})}}onEditorBeforeComplete(e){const{grid:n}=this,r=e.source.cellEditorContext;return e.grid=n,e.editorContext=r,n.trigger("beforeFinishCellEdit",e)}onEditorComplete({source:e}){const{grid:n}=this,r=e.cellEditorContext;r.value=e.inputField.value,n.trigger("finishCellEdit",{grid:n,editorContext:r}),this.cleanupAfterEdit(r)}onEditorCancel({event:e}){const{editorContext:n,muteEvents:r,grid:o}=this;n&&this.cleanupAfterEdit(n),r||o.trigger("cancelCellEdit",{grid:o,event:e})}cleanupAfterEdit(e){const n=this,{editor:r}=e;e.cell.classList.remove("b-editing"),r.cellEditorContext=n.editorContext=null,n.grid.un({cellclick:"onCellClickWhileEditing",viewportResize:"onViewportResizeWhileEditing"},n),n.removeEditingListeners(),gn.suspendFocusEvents(),r.element.remove(),gn.resumeFocusEvents()}getAdjacentEditableCell(e,n){const{grid:r}=this,{store:o,columns:i}=r,{visibleColumns:a}=i;let l=e.id,c=i.getAdjacentVisibleLeafColumn(e.columnId,n);for(;l;)if(c){if(c.editor&&c.canEdit(o.getById(l)))return{id:l,columnId:c.id};c=i.getAdjacentVisibleLeafColumn(c,n)}else{const r=o.getAdjacent(e.id,n,!1,!0);l=null==r?void 0:r.id,r&&(c=n?a[0]:a[a.length-1])}return null}doAddNewAtEnd(){const e="object"==typeof this.addNewAtEnd?ObjectHelper.clone(this.addNewAtEnd):{},{grid:n}=this,r=n.store.add(e)[0];return n.rowManager.getRowFor(r)||n.rowManager.displayRecordAtBottom(),r}getEditingContext(e){e=this.grid.normalizeCellContext(e);const{grid:n}=this,r=n.columns.getById(e.columnId),o=n.store.getById(e.id);if(r&&r.isVisible&&r.editor&&o&&!o.isSpecialRow&&r.canEdit(o)){const n=o?r.getRawValue(o):o;return{column:r,record:o,value:void 0===n?null:n,selector:e,editor:r.editor}}return!1}startEditing(e={}){const n=this;if(!n.disabled){const{grid:r}=n,o=r.normalizeCellContext(e),i=n.getEditingContext(o);if(!i)return!1;if(n.editorContext&&n.cancelEditing(),r.store.isTree&&r.expandTo(e.id),r.focusCell(e),i.cell=r.getCell(e),!1===r.trigger("beforeCellEditStart",{grid:r,editorContext:i}))return!1;DomHelper.focusWithoutScrolling(r.focusElement);const a=i.editor=n.getEditorForCell(i),{cell:l,record:c,column:d}=i;return a.inputField.highlightExternalChange=!1,a.cellEditorContext=i,a.render(n.grid.getSubGridFromColumn(d).element),a.startEdit({target:l,field:a.inputField.name||i.column.field,value:i.value,record:c}),!0}return!1}cancelEditing(e=!1,n){const r=this,{editorContext:o,editor:i,grid:a}=r;o&&(i.containsFocus&&(r.editorContext=null,!a.isDestroying&&i.inputField.owns(DomHelper.getActiveElement(a))&&DomHelper.focusWithoutScrolling(a.focusElement),r.editorContext=o),r.muteEvents=e,i.cancelEdit(n),r.muteEvents=!1)}async finishEditing(){const e=this,{editorContext:n}=e;let r=!1;if(n){const{column:o}=n;e.finishEditingPromise=n.editor.completeEdit(o.bindCallback(o.finalizeCellEdit)),r=await e.finishEditingPromise,await e.grid.waitForAnimations(),e.finishEditingPromise=null}return r}async onCellClickWhileEditing({event:e,cellSelector:n}){const r=this;r.finishEditingPromise||r.editorContext&&!r.editorContext.editor.owns(e.target)&&(r.getEditingContext(n)?await r.finishEditing()?r.continueEditingOnCellClick&&r.startEditing(n):(r.grid.focusCell(r.editorContext.selector),r.editor.inputField.focus()):r.finishEditing())}onCellClick({source:e,cellSelector:n,target:r,event:o,column:i}){if(i.onCellClick)return;const a=e.focusedCell||{};if(r.closest(".b-tree-expander"))return this.cancelEditing(void 0,o),!1;DomHelper.isTouchEvent&&n.id==a.id&&n.columnId==a.columnId?this.startEditing(n):"cellclick"===this.triggerEvent&&this.onTriggerEditEvent({cellSelector:n,target:r})}async onTriggerEditEvent({cellSelector:e,target:n}){n.closest(".b-tree-expander")||this.editorContext&&!await this.finishEditing()||this.startEditing(e)}onStoreUpdate({changes:e,record:n}){const{editorContext:r}=this;null!=r&&r.editor.isVisible&&n===r.record&&r.editor.dataField in e&&r.editor.refreshEdit()}onGridRefreshed(){const e=this,{grid:n}=e;if(e.editorContext&&n.focusedCell){const r=n.getCell(n.focusedCell);r?e.editorContext.editor.showBy(r):e.cancelEditing()}}async onElementKeyDown(e){const n=this;if(!e.handled&&n.grid.focusElement.contains(e.target)){if(n.editorContext){switch(e.key){case"Enter":n.onEnterKeyPress(e);break;case"F2":e.preventDefault(),n.finishEditing();break;case"Escape":e.stopPropagation(),e.preventDefault(),n.cancelEditing(void 0,e);break;case"Tab":n.onTabKeyPress(e)}$s[e.key]&&(e.handled=!0)}else{const{key:r,ctrlKey:o}=e,i="Backspace"===r,a=n.autoEdit&&!o&&(1===r.length||i);if((a||Ns[r])&&n.grid.focusedCell){if(n.startEditing(n.grid.focusedCell)){const{inputField:o}=n.editor,{input:l}=o;a&&l&&(o.internalOnKeyEvent(e),e.defaultPrevented||(l.value=i?"":r,o.internalOnInput(e),o.moveCaretToEnd()))}e.handled=!0,e.preventDefault()}}return!e.handled&&void 0}}async onEnterKeyPress(e){const n=this,{grid:r}=n;if(e.preventDefault(),e.stopPropagation(),await n.finishEditing()){if(n.isDestroyed)return;if(!n.isEditing){if(e.ctrlKey||e.metaKey||e.altKey||r.touch)return;if(e.shiftKey)r.internalNextPrevRow(!1,!0,e,!1)&&n.editNextOnEnterPress&&n.startEditing(r.focusedCell);else{if(n.addNewAtEnd){var o;r.store.getById(null===(o=r.focusedCell)||void 0===o?void 0:o.id)===r.store.last&&await n.doAddNewAtEnd()}r.internalNextPrevRow(!0,!0)&&n.editNextOnEnterPress&&n.startEditing(r.focusedCell)}}}}async onTabKeyPress(e){e.preventDefault();const n=this,{focusedCell:r}=n.grid;if(r){const o=!e.shiftKey;let i=n.getAdjacentEditableCell(r,o);if(!i&&o&&n.addNewAtEnd){!0===await n.finishEditing()&&(await this.doAddNewAtEnd(),i=n.getAdjacentEditableCell(r,o))}if(i){let e=!0;n.isEditing&&(e=await n.finishEditing()),e&&(n.grid.focusCell(i,{animate:n.focusCellAnimationDuration}),n.startEditing(i))}}}onElementMouseDown(e){2===e.button&&this.editorContext&&e.preventDefault()}onEditorFocusOut(e){const n=this,{grid:r,editor:o,editorContext:i}=n;i&&!o.isFinishing&&o.inputField.owns(e._target)&&(e.toWidget!==r||r.isLocationEqual(r.focusedCell,i.selector))&&("cancel"===n.blurAction?n.cancelEditing(void 0,e):n.finishEditingPromise||n.finishEditing())}onEditorFocusIn(e){const n=e.toWidget;n===this.editor.inputField&&this.autoSelect&&n.selectAll&&!n.readOnly&&!n.disabled&&n.selectAll()}onTapOut({event:e}){const n=this;n.grid.bodyContainer.contains(e.target)||n.editor.owns(e.target)||("cancel"===n.blurAction?n.cancelEditing(void 0,e):n.finishEditing())}onElementClick(e){e.target.classList.contains("b-grid-body-container")&&this.editorContext&&this.finishEditing()}}CellEdit._$name="CellEdit",GridFeatureManager.registerFeature(CellEdit,!0);class CellMenu extends ContextMenuBase{static get $name(){return"CellMenu"}static get defaultConfig(){return{processItems:null,items:null,type:"cell"}}static get pluginConfig(){const e=super.pluginConfig;return e.chain.push("populateCellMenu"),e}showContextMenu(e){const{cellSelector:n,id:r,event:o}=e;this.client.focusCell(n,{doSelect:!this.client.isSelected(r),event:o}),super.showContextMenu(e)}shouldShowMenu({column:e}){return e&&!1!==e.enableCellContextMenu}getDataFromEvent(e){return ObjectHelper.assign(super.getDataFromEvent(e),this.client.getCellDataFromEvent(e))}beforeContextMenuShow(e){e.record&&!e.record.isSpecialRow||(e.items.removeRow=!1)}populateCellMenu({items:e,column:n}){const{client:r}=this;null!=n&&n.cellMenuItems&&(Array.isArray(n.cellMenuItems)&&VersionHelper.deprecate("Grid","5.0.0","`cellMenuItems` column config specified as an array is deprecated, need to specify the config as a named object. Please see https://bryntum.com/docs/grid/guide/Grid/upgrades/4.0.0 for more information."),ObjectHelper.merge(e,n.cellMenuItems)),r.readOnly||(e.removeRow={text:"L{removeRow}",localeClass:this,icon:"b-fw-icon b-icon-trash",cls:"b-separator",weight:100,onItem:()=>r.store.remove(r.selectedRecords)},r.showRemoveRowInContextMenu||(VersionHelper.deprecate("Grid","5.0.0","`showRemoveRowInContextMenu` config is deprecated, in favor of `CellMenu` feature configuration. Please see https://bryntum.com/docs/grid/guide/Grid/upgrades/4.0.0 for more information."),e.removeRow=!1))}get showMenu(){return!0}}CellMenu.featureClass="",CellMenu._$name="CellMenu",GridFeatureManager.registerFeature(CellMenu,!0,["Grid","Scheduler"]),GridFeatureManager.registerFeature(CellMenu,!1,["Gantt"]);class CellTooltip extends InstancePlugin{static get $name(){return"CellTooltip"}static get defaultConfig(){return{tooltipRenderer:null}}construct(e,n){super.construct(e,this.processConfig(n))}initTip(){const e=this;e.tip=Tooltip.new({forElement:e.client.element,forSelector:".b-grid-row:not(.b-group-row) .b-grid-cell",hoverDelay:1e3,trackMouse:!1,cls:"b-celltooltip-tip",getHtml:e.getTooltipContent.bind(e),listeners:{pointerOver:"onPointerOver",thisObj:e}},e.initialConfig),e.relayEvents(e.tip,["beforeshow","show"])}onPointerOver({target:e}){const n=this.client.getColumnFromElement(e);return!1!==n.tooltipRenderer&&Boolean(n.tooltipRenderer||this.tooltipRenderer)}processConfig(e){return"function"==typeof e?{tooltipRenderer:e}:e}setConfig(e){super.setConfig(this.processConfig(e))}doDestroy(){this.tip&&this.tip.destroy(),super.doDestroy()}doDisable(e){e?this.tip&&(this.tip.destroy(),this.tip=null):this.initTip(),super.doDisable(e)}getTooltipContent({tip:e,activeTarget:n,event:r}){const o=this,i=o.client.getRecordFromElement(n),a=o.client.getColumnFromElement(n),l={cellElement:n,record:i,column:a,event:r,tip:e,cellTooltip:o};let c;return o.forSelector||i!==o.lastRecord||i.generation!==o.lastRecordGeneration||a!==o.lastColumn?(o.lastRecord=i,o.lastRecordGeneration=i.generation,o.lastColumn=a,a.tooltipRenderer?c=a.tooltipRenderer(l):o.tooltipRenderer&&!1!==a.tooltipRenderer&&(c=o.tooltipRenderer(l)),!1===c&&VersionHelper.deprecate("Grid","5.0.0","Returning false to indicate loading is deprecated. Please see https://bryntum.com/docs/grid/guide/Grid/upgrades/3.0.1 for more information"),c):o.tip._html}}CellTooltip._$name="CellTooltip",GridFeatureManager.registerFeature(CellTooltip);const Bs="store";class ColumnAutoWidth extends(Delayable(InstancePlugin)){static get $name(){return"ColumnAutoWidth"}static get configurable(){return{default:null,delay:0}}static get pluginConfig(){return{after:{bindStore:"bindStore",unbindStore:"unbindStore",renderRows:"syncAutoWidthColumns",onInternalResize:"onInternalResize"},assign:["columnAutoWidthPending","syncAutoWidthColumns"]}}construct(e){super.construct(e);const{client:n}=this,{store:r}=n;r&&this.bindStore(r)}doDestroy(){this.unbindStore(),super.doDestroy()}bindStore(e){this.lastSync=null,e.on({name:Bs,[`change${this.client.asyncEventSuffix}`]:"onStoreChange"},this)}unbindStore(){this.detachListeners(Bs)}get columnAutoWidthPending(){return null===this.lastSync||this.hasTimeout("syncAutoWidthColumns")}onStoreChange({action:e}){if("move"!==e){var n;const e=this;++e.storeGeneration,null!==(n=e.client.features.cellEdit)&&void 0!==n&&n.isEditing?e.syncAutoWidthColumns():e.hasTimeout("syncAutoWidthColumns")||e.setTimeout("syncAutoWidthColumns",e.delay)}}onInternalResize(e,n,r,o){0===o&&(this.lastSync=null,this.syncAutoWidthColumns())}syncAutoWidthColumns(){const e=this,n=e.client,r=e.storeGeneration;if(e.lastSync!==r){let o,i;e.lastSync=r;for(const r of n.columns.visibleColumns)o=r.autoWidth,o&&(!0===o&&(o=e.default),n.resizingColumns=i=!0,r.resizeToFitContent(o));i&&(n.resizingColumns=!1,n.afterColumnsResized())}e.hasTimeout("syncAutoWidthColumns")&&e.clearTimeout("syncAutoWidthColumns")}}ColumnAutoWidth.prototype.storeGeneration=0,ColumnAutoWidth._$name="ColumnAutoWidth",GridFeatureManager.registerFeature(ColumnAutoWidth,!0);class ColumnDragToolbar extends(Delayable(InstancePlugin)){static get $name(){return"ColumnDragToolbar"}static get pluginConfig(){return{after:["render"]}}construct(e,n){e.features.columnReorder&&e.features.columnReorder.on("beforedestroy",this.onColumnReorderBeforeDestroy,this),this.grid=e,super.construct(e,n)}doDestroy(){const e=this;e.grid.features.columnReorder&&!e.grid.features.columnReorder.isDestroyed&&e.detachFromColumnReorder(),e.element&&e.element.remove(),e.element=null,super.doDestroy()}doDisable(e){this.initialized&&(e?this.detachFromColumnReorder():this.init()),super.doDisable(e)}init(){const e=this,n=e.grid;n.features.columnReorder&&(e.reorderDetacher=n.features.columnReorder.on({gridheaderdragstart({context:r}){const o=n.columns.getById(r.element.dataset.columnId);e.showToolbar(o)},gridheaderdrag:({context:n})=>e.onDrag(n),gridheaderabort:()=>{e.hideToolbar()},gridheaderdrop:({context:n})=>{n.valid?e.hideToolbar():e.onDrop(n)},thisObj:e}),e.initialized=!0)}onColumnReorderBeforeDestroy(){this.detachFromColumnReorder()}detachFromColumnReorder(){const e=this;e.grid.features.columnReorder.un("beforedestroy",e.onColumnReorderBeforeDestroy,e),e.reorderDetacher&&e.reorderDetacher(),e.reorderDetacher=null}render(){this.initialized||this.init()}showToolbar(e){const n=this,r=n.grid.getColumnDragToolbarItems(e,[]),o=[];n.clearTimeout(n.buttonHideTimer),r.forEach((e=>{e.text=e.localeClass.L(e.text);let n=o.find((n=>n.text===e.group));n||(n={text:e.localeClass.L(e.group),buttons:[]},o.push(n)),n.buttons.push(e)})),n.element=DomHelper.append(n.grid.element,n.template(o)),n.groups=o,n.buttons=r,n.column=e}async hideToolbar(){const e=this,n=e.element;n&&(n.classList.add("b-remove"),await EventHelper.waitForTransitionEnd({element:n,mode:"animation",thisObj:e.client}),n.remove(),e.element=null)}onDrag(e){var n;const r=this;if(e.dragProxy.getBoundingClientRect().top-r.grid.element.getBoundingClientRect().top>100?r.element.classList.add("b-closer"):r.element.classList.remove("b-closer"),r.hoveringButton&&(r.hoveringButton.classList.remove("b-hover"),r.hoveringButton=null),null!==(n=e.targetElement)&&void 0!==n&&n.closest(".b-columndragtoolbar")){r.element.classList.add("b-hover");const n=e.targetElement.closest(".b-columndragtoolbar  .b-target-button:not([data-disabled=true])");n&&(n.classList.add("b-hover"),r.hoveringButton=n)}else r.element.classList.remove("b-hover")}onDrop(e){const n=this;if(e.targetElement&&e.targetElement.matches(".b-columndragtoolbar .b-target-button:not([data-disabled=true])")){const r=e.targetElement,o=n.buttons.find((e=>e.ref===r.dataset.ref));o&&(r.classList.add("b-activate"),n.buttonHideTimer=n.setTimeout((()=>{n.hideToolbar(),o.onDrop({column:n.column})}),100))}else n.hideToolbar()}template(e){return TemplateHelper.tpl`
            <div class="b-columndragtoolbar">     
            <div class="b-title"></div>          
            ${e.map((e=>TemplateHelper.tpl`
                <div class="b-group">
                    <div class="b-buttons">
                    ${e.buttons.map((e=>TemplateHelper.tpl`
                        <div class="b-target-button" data-ref="${e.ref}" data-disabled="${e.disabled}">
                            <i class="${e.icon}"></i>
                            ${e.text}
                        </div>
                    `))}
                    </div>
                    <div class="b-title">${e.text}</div>
                </div>
            `))}
            </div>`}}ColumnDragToolbar.featureClass="b-hascolumndragtoolbar",ColumnDragToolbar._$name="ColumnDragToolbar",GridFeatureManager.registerFeature(ColumnDragToolbar,BrowserHelper.isTouchDevice);class ColumnPicker extends InstancePlugin{static get $name(){return"ColumnPicker"}static get configurable(){return{groupByRegion:!1,groupByTag:!1,createColumnsFromModel:!1,menuCls:"b-column-picker-menu b-sub-menu"}}static get pluginConfig(){return{chain:["populateHeaderMenu","getColumnDragToolbarItems"]}}construct(e,n){this.grid=e,super.construct(e,n)}getColumnPickerItems(e){const n=this,{createColumnsFromModel:r}=n;let o;if(n.groupByRegion)o=n.grid.regions.map((e=>{const r=n.grid.getSubGrid(e).columns.topColumns;return{text:StringHelper.capitalize(e),menu:n.buildColumnMenu(r),disabled:0===r.length,region:e}})),r&&o.push({text:n.L("L{newColumns}"),menu:n.createAutoColumnItems()});else if(n.groupByTag){const i={};e.topColumns.forEach((e=>{e.tags&&e.hideable&&e.tags.forEach((e=>{i[e]||(i[e]=1)}))})),o=Object.keys(i).sort().map((e=>({text:StringHelper.capitalize(e),menu:n.buildColumnMenu(n.getColumnsForTag(e)),tag:e,onBeforeSubMenu:({item:e,itemEl:r})=>{n.refreshTagMenu(e,r)}}))),r&&o.push({text:n.L("L{newColumns}"),menu:n.createAutoColumnItems()})}else o=n.buildColumnMenu(e.topColumns),r&&o.items.push(...ObjectHelper.transformNamedObjectToArray(n.createAutoColumnItems()));return o}createAutoColumnItems(){const e=this,{grid:n}=e,{columns:r,store:o}=n,{modelClass:i}=o,{allFields:a}=i,l={};for(let n=0,{length:o}=a;n<o;n++){const o=a[n],i=o.name;r.get(i)||o.internal||(l[i]={text:o.text||StringHelper.separate(o.name),checked:!1,onToggle:n=>{const a=r.get(i);a?a[n.checked?"show":"hide"]():r.add(r.generateColumnForField(o,{region:e.forColumn.region})),n.bubbles=!1}})}return l}getColumnsForTag(e){return this.grid.columns.records.filter((n=>n.tags&&n.tags.includes(e)&&!1!==n.hideable))}refreshTagMenu(e,n){this.getColumnsForTag(e.tag).forEach((n=>{const r=e.items.find((e=>e.column===n));r&&(r.checked=!0!==n.hidden)}))}buildColumnMenu(e){let n=e.length>0&&e[0].region;const{grid:r}=this,o=e.reduce(((e,o)=>{const i=r.columns.visibleColumns.filter((e=>e.region===o.region));if(!1!==o.hideable){const a={grid:r,column:o,text:o.headerText,checked:!0!==o.hidden,disabled:!0!==o.hidden&&1===i.length,cls:o.region!==n?"b-separator":""};n=o.region,o.children&&(a.menu=this.buildColumnMenu(o.children)),e.push(a)}return e}),[]);return{cls:this.menuCls,items:o}}populateHeaderMenu({column:e,items:n}){const r=this,{columns:o}=r.grid;if(r.forColumn=e,!1!==e.showColumnPicker&&o.some((e=>e.hideable))&&(n.columnPicker={text:"L{columnsMenu}",localeClass:r,icon:"b-fw-icon b-icon-columns",cls:"b-separator",weight:200,menu:r.getColumnPickerItems(o),onToggle:r.onColumnToggle,disabled:r.disabled}),!1!==e.hideable){const i=o.visibleColumns.filter((n=>n.region===e.region));n.hideColumn={text:"L{hideColumn}",localeClass:r,icon:"b-fw-icon b-icon-hide-column",weight:210,disabled:1===i.length||r.disabled,onItem:()=>e.hide()}}}onColumnToggle({menu:e,item:n,checked:r}){if(!!n.column.hidden!=!r){n.column[r?"show":"hide"]();const{grid:o,column:i}=n,{columns:a,features:l}=o,c=e.items,d=a.visibleColumns.filter((e=>e.region===n.column.region)),{contextMenu:u,headerMenu:p}=l,b=u&&!u.disabled,g=b?u:p,m=g&&g[b?"currentMenu":"menu"],f=b?m.items.find((e=>"hideColumn"===e.ref)):m.widgetMap.hideColumn;if(1===d.length){const e=c.find((e=>e.column===d[0]));e&&(e.disabled=!0),f&&i.region===n.column.region&&(f.disabled=!0)}else d.forEach((e=>{const n=c.find((n=>n.column===e));n&&(n.disabled=!1)})),f&&i.region===n.column.region&&(f.disabled=!1);n.menu&&n.menu.eachWidget((e=>{e.checked=r}));const v=e.owner;v&&v.column===i.parent&&(v.checked=c.some((e=>!0===e.checked)))}}getColumnDragToolbarItems(e,n){const r=this.grid.columns.visibleColumns.filter((n=>n.region===e.region));return!1!==e.hideable&&r.length>1&&n.push({text:"L{hideColumnShort}",ref:"hideColumn",group:"L{column}",localeClass:this,icon:"b-fw-icon b-icon-hide-column",weight:101,onDrop:({column:e})=>e.hide()}),n}}ColumnPicker._$name="ColumnPicker",GridFeatureManager.registerFeature(ColumnPicker,!0);class ColumnReorder extends(Delayable(InstancePlugin)){static get $name(){return"ColumnReorder"}construct(e,n){this.ignoreSelectors=[".b-grid-header-resize-handle",".b-field"],this.grid=e,super.construct(e,n)}doDestroy(){var e;null===(e=this.dragHelper)||void 0===e||e.destroy(),super.doDestroy()}init(){const e=this,{grid:n}=e,r=n.element,o=DomHelper.children(r,".b-grid-headers");o.push(...DomHelper.children(r,".b-grid-header-children")),e.dragHelper?e.dragHelper.containers=o:(e.dragHelper=new DragHelper({name:"columnReorder",mode:"container",dragThreshold:10,targetSelector:".b-grid-header",floatRootOwner:n,outerElement:r.querySelector("header.b-grid-header-container"),containers:o,isElementDraggable(r){if(Boolean(DomHelper.up(r,e.ignoreSelectors.join(",")))||e.disabled)return!1;const o=DomHelper.up(r,this.targetSelector),i=o&&n.columns.getById(o.dataset.columnId),a=0===(null==i?void 0:i.childLevel)&&1===n.subGrids[i.region].columns.count;return Boolean(i)&&!1!==i.draggable&&!a},ignoreSelector:".b-filter-icon,.b-grid-header-resize-handle",listeners:{beforeDragStart:e.onBeforeDragStart,dragstart:e.onDragStart,drag:e.onDrag,drop:e.onDrop,thisObj:e}}),e.relayEvents(e.dragHelper,["dragStart","drag","drop","abort"],"gridHeader"))}static get pluginConfig(){return{after:["onPaint","renderContents"]}}onDrag({context:e,event:n}){const r=Widget.fromElement(n.target,"gridheader");null!=r&&r.subGrid.sealedColumns?e.valid=!1:this.grid.features.columnDragToolbar||(e.valid=Boolean(n.target.closest(".b-grid-headers")))}onBeforeDragStart({context:e,event:n}){const r=e.element,o=e.column=this.client.columns.getById(r.dataset.columnId);return this.client.trigger("beforeColumnDragStart",{column:o,event:n})}onDragStart({context:e,event:n}){const r=this,{grid:o}=r,{column:i}=e;if(!o.features.columnDragToolbar){const e=o.element.querySelector(".b-grid-header-container").getBoundingClientRect();r.dragHelper.minY=e.top,r.dragHelper.maxY=e.bottom}o.headerContainer.classList.add("b-dragging-header"),this.client.trigger("columnDragStart",{column:i,event:n})}onDrop({context:e,event:n}){if(!e.valid)return this.onInvalidDrop({context:e});const r=this,{grid:o}=r,i=e.dragging,a=DomHelper.up(e.target,".b-grid-header"),l=o.columns.get(a.dataset.column),c=e.draggedTo.dataset.region||l.region,d=e.insertBefore,u=o.columns.getById(i.dataset.columnId),p=u.parent,b=d?o.columns.getById(d.dataset.columnId):o.subGrids[c].columns.last.nextSibling;let g;if(b)g=b.parent;else{const e=DomHelper.up(a.parentElement,".b-grid-header");g=e?o.columns.getById(e.dataset.columnId):o.columns.rootNode}o.headerContainer.classList.remove("b-dragging-header"),i.remove();let m=c===u.region&&p===g&&(l===u.previousSibling||b===u.nextSibling);m=m||!1===this.client.trigger("beforeColumnDropFinalize",{column:u,newParent:g,insertBefore:b,event:n}),m||(m=!g.insertChild(u,b)),m?r.dragHelper.abort():(u.region=c,0===p.children.length&&p.parent.removeChild(p)),this.client.trigger("columnDrop",{column:u,newParent:g,insertBefore:b,valid:!m,event:n})}onInvalidDrop(){this.grid.headerContainer.classList.remove("b-dragging-header")}renderContents(){this.init()}onPaint(){this.init()}}ColumnReorder.featureClass="b-column-reorder",ColumnReorder._$name="ColumnReorder",GridFeatureManager.registerFeature(ColumnReorder,!0);class ColumnResize extends InstancePlugin{static get $name(){return"ColumnResize"}static get defaultConfig(){return{liveResize:"auto"}}construct(e,n){const r=this;r.grid=e,super.construct(e,n),r.resizer=new ResizeHelper({name:"columnResize",targetSelector:".b-grid-header",handleSelector:".b-grid-header-resize-handle",outerElement:e.element,listeners:{beforeresizestart:r.onBeforeResizeStart,resizestart:r.onResizeStart,resizing:r.onResizing,resize:r.onResize,thisObj:r}})}static get pluginConfig(){return[]}set liveResize(e){"auto"===e&&(e=!BrowserHelper.isMobileSafari),this._liveResize=e}get liveResize(){return this._liveResize}doDestroy(){this.resizer&&this.resizer.destroy(),super.doDestroy()}onBeforeResizeStart(){return!this.disabled}onResizeStart({context:e}){const{grid:n,resizer:r}=this,o=e.column=n.columns.getById(e.element.dataset.columnId);r.minWidth=o.minWidth,e.element.style.minWidth="",n.element.classList.add("b-column-resizing")}onResizing({context:e}){e.valid&&this.liveResize&&(this.grid.resizingColumns=!0,e.column.width=e.newWidth)}onResize({context:e}){const{grid:n}=this,{column:r}=e;if(n.element.classList.remove("b-column-resizing"),e.valid&&(this.liveResize?(n.resizingColumns=!1,n.afterColumnsResized()):r.width=e.newWidth,BrowserHelper.isIE11&&r.parent&&r.parent.flex)){const e=r.parent;n.getHeaderElement(e.id).style.flexBasis=e.children.reduce(((e,r)=>e+n.getHeaderElement(r.id).offsetWidth),0)+"px"}}}ColumnResize._$name="ColumnResize",GridFeatureManager.registerFeature(ColumnResize,!0);class ContextMenu extends InstancePlugin{static get $name(){return"ContextMenu"}static get defaultConfig(){return{headerItems:[],processHeaderItems:null,cellItems:[],processCellItems:null,triggerEvent:null,disableCellContextMenu:null}}construct(e,n){super.construct(e,n),this.grid=e,VersionHelper.deprecate("Grid","5.0.0","`ContextMenu` feature is deprecated, in favor of `CellMenu` and `HeaderMenu` features. Please see https://bryntum.com/docs/grid/guide/Grid/upgrades/3.1.0 for more information."),e.features.cellMenu&&(e.features.cellMenu.disabled=!0),e.features.headerMenu&&(e.features.headerMenu.disabled=!0)}doDestroy(){this.currentMenu&&this.currentMenu.destroy(),super.doDestroy()}static get pluginConfig(){return{assign:["showContextMenu"],chain:["onElementContextMenu","onElementClick","onElementDblClick","onElementKeyDown"]}}onElementContextMenu(e){"contextmenu"===this.triggerEvent&&this.showContextMenu(e)}onElementClick(e){"click"===this.triggerEvent&&this.showContextMenu(e)}onElementDblClick(e){"dblclick"===this.triggerEvent&&this.showContextMenu(e)}onElementKeyDown(e){if(!e.handled&&e.target.matches(".b-grid-header.b-depth-0"))switch(e.key){case" ":case"ArrowDown":this.showContextMenu(e)}}showContextMenu(e){if(!this.disabled){const n=DomHelper.up(e.target,".b-grid-header"),r=this.grid.getCellDataFromEvent(e);n?this.handleHeaderContextMenu(n,e):r&&!this.disableCellContextMenu&&this.handleCellContextMenu(r,e)}}handleHeaderContextMenu(e,n){if(e.dataset.column){const r=this,o=r.grid,i=o.columns.getById(e.dataset.columnId);if(!1!==i.enableHeaderContextMenu){const a=[...r.headerItems,...i.headerMenuItems||[]],l=ObjectHelper.transformArrayToNamedObject(a),c={owner:r.client,constrainTo:document,cls:"b-context-menu",scrollAction:"hide",onItem({item:e,element:n}){o.trigger("contextMenuItem",{source:o,item:e,column:i,element:n})},onToggle({item:e,checked:n,element:r}){o.trigger("contextMenuToggleItem",{source:o,item:e,column:i,checked:n,element:r})},onDestroy(){r.currentMenu=null},listeners:{show({source:e}){p.menu=e,o.trigger("headerContextMenuShow",p)}}};o.populateHeaderMenu({column:i,items:l,menu:c});const d=ObjectHelper.transformNamedObjectToArray(l),{processHeaderItems:u}=r,p={items:d,column:i,event:n,element:e};ObjectHelper.merge(c,{items:d}),(!u||!1!==u(p))&&d.length>0&&(n.preventDefault(),d.sort(((e,n)=>(e.weight||150)-(n.weight||150))),!1!==o.trigger("headerContextMenuBeforeShow",p)&&(r.currentMenu=WidgetHelper.showContextMenu("keydown"===n.type?e:[n.clientX+1,n.clientY+1],c),r.currentMenu.eachWidget((e=>{!e.column&&e instanceof MenuItem&&(e.column=i)}),!0)))}}}handleCellContextMenu(e,n){const r=this,o=r.grid,i=o.columns.getById(e.columnId);if(!1!==i.enableCellContextMenu){o.focusCell(e.cellSelector,{doSelect:!o.isSelected(e.id),event:n});const a=e.record,l=[...r.cellItems||[],...i.cellMenuItems||[]],c=ObjectHelper.transformArrayToNamedObject(l);o.populateCellMenu({column:i,record:a,items:c});const d=ObjectHelper.transformNamedObjectToArray(c),{processCellItems:u}=r,p=e.cellElement,b={items:d,column:i,event:n,record:a,element:p},g={owner:r.client,items:d,onBeforeItem:e=>{Object.assign(e,b)},onItem({item:e}){o.trigger("contextMenuItem",{source:o,item:e,column:i,record:a,cell:p})},onClose({reason:e}){"outside"!==e&&o.focus()},onDestroy(){r.currentMenu=null},listeners:{show({source:e}){b.menu=e,o.trigger("cellContextMenuShow",b)}}};(!u||!1!==u(b))&&d.length>0&&(d.forEach((e=>{e.column=i,e.record=a})),n.preventDefault(),d.sort(((e,n)=>(e.weight||150)-(n.weight||150))),!1!==o.trigger("cellContextMenuBeforeShow",b)&&(r.currentMenu=WidgetHelper.showContextMenu([n.clientX+1,n.clientY+1],g)))}}hideContextMenu(e){var n;null===(n=this.currentMenu)||void 0===n||n.hide(e)}get triggerEvent(){return this._triggerEvent||this.client.contextMenuTriggerEvent}set triggerEvent(e){this._triggerEvent=e}}ContextMenu.featureClass="",ContextMenu._$name="ContextMenu",GridFeatureManager.registerFeature(ContextMenu);const zs={date:"date",integer:"number",number:"number",string:"text",duration:"duration"};class Filter extends InstancePlugin{static get $name(){return"Filter"}static get configurable(){return{prioritizeColumns:!1}}construct(e,n){if(e.features.filterBar)throw new Error("Grid.feature.Filter feature may not be used together with Grid.feature.FilterBar. These features are mutually exclusive.");const r=this;if(r.grid=e,r.closeFilterEditor=r.closeFilterEditor.bind(r),super.construct(e,n),r.bindStore(e.store),n&&"object"==typeof n){const r=ObjectHelper.clone(n);delete r.prioritizeColumns,ObjectHelper.isEmpty(r)||e.store.filter(r,null,e.isConfiguring)}}doDestroy(){var e,n;null===(e=this.filterTip)||void 0===e||e.destroy(),null===(n=this.filterEditorPopup)||void 0===n||n.destroy(),super.doDestroy()}get store(){return this.grid.store}bindStore(e){this.detachListeners("store"),e.on({name:"store",beforeFilter:"onStoreBeforeFilter",filter:"onStoreFilter",thisObj:this})}static get pluginConfig(){return{chain:["renderHeader","populateCellMenu","populateHeaderMenu","onElementClick","bindStore"]}}refreshHeaders(e){const n=this,r=n.grid,o=r.headerContainer;o&&(DomHelper.children(o,".b-filter-icon.b-latest").forEach((e=>e.classList.remove("b-latest"))),n.filterTip||(n.filterTip=new Tooltip({forElement:o,forSelector:".b-filter-icon",getHtml:({activeTarget:e})=>e.dataset.filterText})),r.store.isFiltered||n.filterTip.hide(),r.columns.visibleColumns.forEach((e=>{if(!1!==e.filterable){const r=n.store.filters.getBy("property",e.field),o=e.element;if(o){const i=e.textWrapper;let a,l=null==i?void 0:i.querySelector(".b-filter-icon");if(r){let o=r.displayValue||r.value||"";e.formatValue&&(o=e.formatValue(o)),a=n.L("L{filter}")+": "+("string"==typeof r?r:`${r.operator} ${o}`)}else a=n.L("L{applyFilter}");l?l.dataset.filterText=a:l=DomHelper.createElement({parent:i,tag:"div",className:"b-filter-icon",dataset:{filterText:a}}),e.field===n.store.latestFilterField&&l.classList.add("b-latest"),o.classList.add("b-filterable"),o.classList.toggle("b-filter",Boolean(r))}e.meta.isFiltered=Boolean(r)}})),e&&r.refreshRows())}applyFilter(e,n){this.store.filter(_objectSpread2(_objectSpread2(_objectSpread2({},e.filterable),n),{},{property:e.field}))}removeFilter(e){this.store.removeFilter(e.field)}getPopupDateItems(e,n,r,o,i,a,l,c){const d=this,u=a;function onClear(){d.removeFilter(e)}function onKeydown({event:e}){"Enter"===e.key&&a()}function onChange({source:n,value:r}){null==r?onClear():(d.clearSiblingsFields(n),d.applyFilter(e,{operator:n.operator,value:r,displayValue:n._value,type:"date"}))}return[ObjectHelper.assign({type:"date",ref:"on",placeholder:"L{on}",localeClass:d,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-equal"></i>',value:"="===(null==r?void 0:r.operator)?r.value:o,operator:"=",onKeydown,onChange,onClose:u,onClear},c),ObjectHelper.assign({type:"date",ref:"before",placeholder:"L{before}",localeClass:d,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-before"></i>',value:"<"===(null==r?void 0:r.operator)?r.value:null,operator:"<",onKeydown,onChange,onClose:u,onClear},c),ObjectHelper.assign({type:"date",ref:"after",cls:"b-last-row",placeholder:"L{after}",localeClass:d,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-after"></i>',value:">"===(null==r?void 0:r.operator)?r.value:null,operator:">",onKeydown,onChange,onClose:u,onClear},c)]}getPopupNumberItems(e,n,r,o,i,a,l,c){const d=this,u=a;function onClear(){d.removeFilter(e)}function onKeydown({event:e}){"Enter"===e.key&&a()}function onChange({source:n,value:r}){null==r?onClear():(d.clearSiblingsFields(n),d.applyFilter(e,{operator:n.operator,value:r}))}return[ObjectHelper.assign({type:"number",placeholder:"L{Filter.equals}",localeClass:d,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-equal"></i>',value:"="===(null==r?void 0:r.operator)?r.value:o,operator:"=",onKeydown,onChange,onEsc:u,onClear},c),ObjectHelper.assign({type:"number",placeholder:"L{lessThan}",localeClass:d,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-less"></i>',value:"<"===(null==r?void 0:r.operator)?r.value:null,operator:"<",onKeydown,onChange,onEsc:u,onClear},c),ObjectHelper.assign({type:"number",cls:"b-last-row",placeholder:"L{moreThan}",localeClass:d,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-more"></i>',value:">"===(null==r?void 0:r.operator)?r.value:null,operator:">",onKeydown,onChange,onEsc:u,onClear},c)]}clearSiblingsFields(e){var n;null===(n=this.filterEditorPopup)||void 0===n||n.items.forEach((n=>{n!==e&&(null==n||n.clear())}))}getPopupDurationItems(e,n,r,o,i,a,l,c){const d=this,u=a,p=l;function onChange({source:n,value:r}){null==r?l():(d.applyFilter(e,{operator:n.operator,value:r}),a())}return[ObjectHelper.assign({type:"duration",placeholder:"L{Filter.equals}",localeClass:d,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-equal"></i>',value:"="===(null==r?void 0:r.operator)?r.value:o,operator:"=",onChange,onEsc:u,onClear:p},c),ObjectHelper.assign({type:"duration",placeholder:"L{lessThan}",localeClass:d,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-less"></i>',value:"<"===(null==r?void 0:r.operator)?r.value:null,operator:"<",onChange,onEsc:u,onClear:p},c),ObjectHelper.assign({type:"duration",cls:"b-last-row",placeholder:"L{moreThan}",localeClass:d,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-more"></i>',value:">"===(null==r?void 0:r.operator)?r.value:null,operator:">",onChange,onEsc:u,onClear:p},c)]}getPopupStringItems(e,n,r,o,i,a,l,c){const d=this;return[ObjectHelper.assign({type:n,cls:"b-last-row",placeholder:"L{filter}",localeClass:d,clearable:!0,label:'<i class="b-fw-icon b-icon-filter-equal"></i>',value:r?r.value||r:o,operator:"*",onChange({source:n,value:r}){""===r?l():(d.applyFilter(e,{operator:n.operator,value:r,displayValue:n.displayField&&n.records?n.records.map((e=>e[n.displayField])).join(", "):void 0}),n.multiSelect||a())},onClose:a,onClear:l},c)]}getPopupItems(e,n,r,o,i,a,l,c){switch(n){case"date":return this.getPopupDateItems(...arguments);case"number":return this.getPopupNumberItems(...arguments);case"duration":return this.getPopupDurationItems(...arguments);default:return this.getPopupStringItems(...arguments)}}showFilterEditor(e,n){const r=this,{store:o}=r,i="string"==typeof e?r.grid.columns.getById(e):e,a=i.element,l=o.modelClass.fieldMap[i.field],c=o.filters.getBy("property",i.field),d=i.filterType,u=d?zs[d]:zs[i.type]||l&&zs[l.type]||"text";if(!1===i.filterable)return;r.closeFilterEditor();const p=r.getPopupItems(i,u,c,n,o,r.closeFilterEditor,(()=>{r.removeFilter(i),r.closeFilterEditor()}),i.filterable.filterField);p.forEach((e=>e.placeholder=this.L(e.placeholder))),r.filterEditorPopup=WidgetHelper.openPopup(a,{owner:r.grid,cls:"b-filter-popup",scrollAction:"realign",layout:{type:"vbox",align:"stretch"},items:p})}closeFilterEditor(){var e;null===(e=this.filterEditorPopup)||void 0===e||e.setTimeout(this.filterEditorPopup.destroy),this.filterEditorPopup=null}populateCellMenuWithDateItems({column:e,record:n,items:r}){const o=e.field,i=n.getFieldDefinition(o);if("date"===(e.filterType||(null==i?void 0:i.type)||e.type)){const i=this,a=n[o],filter=n=>{i.applyFilter(e,{operator:n,value:a,displayValue:e.formatValue?e.formatValue(a):a,type:"date"})};r.filterDateEquals={text:"L{on}",localeClass:i,icon:"b-fw-icon b-icon-filter-equal",cls:"b-separator",weight:300,disabled:i.disabled,onItem:()=>filter("=")},r.filterDateBefore={text:"L{before}",localeClass:i,icon:"b-fw-icon b-icon-filter-before",weight:310,disabled:i.disabled,onItem:()=>filter("<")},r.filterDateAfter={text:"L{after}",localeClass:i,icon:"b-fw-icon b-icon-filter-after",weight:320,disabled:i.disabled,onItem:()=>filter(">")}}}populateCellMenuWithNumberItems({column:e,record:n,items:r}){const o=e.field,i=n.getFieldDefinition(o);if("number"===(e.filterType||e.type||(null==i?void 0:i.type))){const i=this,a=n[o],filter=n=>{i.applyFilter(e,{operator:n,value:a})};r.filterNumberEquals={text:"L{equals}",localeClass:i,icon:"b-fw-icon b-icon-filter-equal",cls:"b-separator",weight:300,disabled:i.disabled,onItem:()=>filter("=")},r.filterNumberLess={text:"L{lessThan}",localeClass:i,icon:"b-fw-icon b-icon-filter-less",weight:310,disabled:i.disabled,onItem:()=>filter("<")},r.filterNumberMore={text:"L{moreThan}",localeClass:i,icon:"b-fw-icon b-icon-filter-more",weight:320,disabled:i.disabled,onItem:()=>filter(">")}}}populateCellMenuWithDurationItems({column:e,record:n,items:r}){const o=e.field,i=n.getFieldDefinition(o);if("duration"===(e.filterType||(null==i?void 0:i.type)||e.type)){const i=this,a=n[o],filter=n=>{i.applyFilter(e,{operator:n,value:a})};r.filterDurationEquals={text:"L{equals}",localeClass:i,icon:"b-fw-icon b-icon-filter-equal",cls:"b-separator",weight:300,disabled:i.disabled,onItem:()=>filter("=")},r.filterDurationLess={text:"L{lessThan}",localeClass:i,icon:"b-fw-icon b-icon-filter-less",weight:310,disabled:i.disabled,onItem:()=>filter("<")},r.filterDurationMore={text:"L{moreThan}",localeClass:i,icon:"b-fw-icon b-icon-filter-more",weight:320,disabled:i.disabled,onItem:()=>filter(">")}}}populateCellMenuWithStringItems({column:e,record:n,items:r}){const o=e.field,i=n.getFieldDefinition(o),a=e.filterType||(null==i?void 0:i.type)||e.type;if(!/(date|number|duration)/.test(a)){var l,c;const o=this,i=e.getFilterableValue(n),a=null!==(l=null===(c=e.filterable.filterField)||void 0===c?void 0:c.operator)&&void 0!==l?l:"*";r.filterStringEquals={text:"L{equals}",localeClass:o,icon:"b-fw-icon b-icon-filter-equal",cls:"b-separator",weight:300,disabled:o.disabled,onItem:()=>o.applyFilter(e,{value:i,operator:a})}}}populateCellMenu({column:e,record:n,items:r}){const o=this;!1!==e.filterable&&(o.populateCellMenuWithDateItems(...arguments),o.populateCellMenuWithNumberItems(...arguments),o.populateCellMenuWithDurationItems(...arguments),o.populateCellMenuWithStringItems(...arguments),e.meta.isFiltered&&(r.filterRemove={text:"L{removeFilter}",localeClass:o,icon:"b-fw-icon b-icon-clear",cls:"b-separator",weight:400,disabled:o.disabled,onItem:()=>o.removeFilter(e)}))}populateHeaderMenu({column:e,items:n}){const r=this;e.meta.isFiltered?(n.editFilter={text:"L{editFilter}",localeClass:r,weight:100,icon:"b-fw-icon b-icon-filter",cls:"b-separator",disabled:r.disabled,onItem:()=>r.showFilterEditor(e)},n.removeFilter={text:"L{removeFilter}",localeClass:r,weight:110,icon:"b-fw-icon b-icon-remove",disabled:r.disabled,onItem:()=>r.removeFilter(e)}):!1!==e.filterable&&(n.filter={text:"L{filter}",localeClass:r,weight:100,icon:"b-fw-icon b-icon-filter",cls:"b-separator",disabled:r.disabled,onItem:()=>r.showFilterEditor(e)})}onStoreBeforeFilter({filters:e}){const{columns:n}=this.client;for(let o=0;o<e.count;o++){var r;const i=e.getAt(o),a=(i.columnOwned||this.prioritizeColumns)&&n.get(i.property);null!=a&&null!==(r=a.filterable)&&void 0!==r&&r.filterFn&&(a.$filter||(a.$filter=new CollectionFilter({columnOwned:!0,property:i.property,operator:i.operator,value:i.value,filterBy(e){return a.filterable.filterFn({value:this.value,record:e,operator:this.operator,property:this.property,column:a})}})),a.$filter.value=i.value,a.$filter.displayValue=i.displayValue,a.$filter.operator=i.operator,e.splice(o,1,a.$filter))}}onStoreFilter(){this.refreshHeaders(!1)}renderHeader(){this.refreshHeaders(!1)}onElementClick(e){const n=e.target;if(this.filterEditorPopup&&this.closeFilterEditor(),n.classList.contains("b-filter-icon")){const e=DomHelper.up(n,".b-grid-header");return this.showFilterEditor(e.dataset.columnId),!1}}}Filter._$name="Filter",GridFeatureManager.registerFeature(Filter);class FilterBar extends InstancePlugin{static get $name(){return"FilterBar"}static get configurable(){return{prioritizeColumns:!1,keyStrokeFilterDelay:300,compactMode:!1,clearStoreFiltersOnHide:!0}}static get pluginConfig(){return{before:["onElementKeyDown","renderContents"],chain:["afterColumnsChange","renderHeader","populateHeaderMenu","bindStore"]}}static get properties(){return{filterFieldCls:"b-filter-bar-field",filterFieldInputCls:"b-filter-bar-field-input",filterableColumnCls:"b-filter-bar-enabled",filterFieldInputSelector:".b-filter-bar-field-input",filterableColumnSelector:".b-filter-bar-enabled",filterParseRegExp:/^\s*([<>=*])?(.*)$/,storeTrackingSuspended:0}}construct(e,n){if(e.features.filter)throw new Error("Grid.feature.FilterBar feature may not be used together with Grid.feature.Filter, These features are mutually exclusive.");const r=this;if(r.grid=e,r.onColumnFilterFieldChange=r.onColumnFilterFieldChange.bind(r),super.construct(e,Array.isArray(n)?{filter:n}:n),r.bindStore(e.store),r.filter){(Array.isArray(r.filter)?r.filter:[r.filter]).forEach((n=>{if(!n.id&&n.property){const r=e.columns.findByField("field",n.property);r&&(n.id=r.field)}})),e.store.filter(r.filter)}r.gridDetacher=e.on("beforeelementclick",r.onBeforeElementClick,r)}bindStore(e){this.detachListeners("store"),e.on({name:"store",beforeFilter:"onStoreBeforeFilter",filter:"onStoreFilter",thisObj:this})}doDestroy(){var e;this.destroyFilterBar(),null===(e=this.gridDetacher)||void 0===e||e.call(this),super.doDestroy()}doDisable(e){const{columns:n}=this.grid;null==n||n.forEach((n=>{const r=this.getColumnFilterField(n);r&&(r.disabled=e)})),super.doDisable(e)}updateCompactMode(e){this.client.headerContainer.classList[e?"add":"remove"]("b-filter-bar-compact");for(const n in this._columnFilters){const r=this._columnFilters[n];r.placeholder=e?r.column.headerText:null}}destroyFilterBar(){var e;null===(e=this.grid.columns)||void 0===e||e.forEach(this.destroyColumnFilterField,this)}hideFilterBar(){var e;const n=this;n.clearStoreFiltersOnHide&&n.suspendStoreTracking(),null===(e=n.grid.columns)||void 0===e||e.forEach((e=>n.hideColumnFilterField(e,!0))),n.grid.store.filter(),n.clearStoreFiltersOnHide&&n.resumeStoreTracking(),n.hidden=!0}showFilterBar(){this.renderFilterBar(),this.hidden=!1}toggleFilterBar(){this.hidden?this.showFilterBar():this.hideFilterBar()}renderFilterBar(){this.grid.columns.visibleColumns.forEach((e=>this.renderColumnFilterField(e))),this.rendered=!0}renderColumnFilterField(e){const n=this,{grid:r}=n,o=n.getColumnFilterable(e);if(o&&e.isVisible){const a=e.element,l=r.store.filters.get(e.id)||r.store.filters.getBy("property",e.field);let c=n.getColumnFilterField(e);if(c)n.onColumnFilterFieldChange({source:c,value:c.value}),c.render(a),c.show();else{var i;const d=`${e.filterType||"text"}field`,u=null===(i=o.filterField)||void 0===i?void 0:i.cls;if(u&&delete o.filterField.cls,c=WidgetHelper.append(ObjectHelper.assign({type:d,cls:{[n.filterFieldCls]:1,[u]:u},dataset:{column:e.field},column:e,owner:r,clearable:!0,name:e.field,value:l&&!l._filterBy&&n.buildFilterValue(l),inputCls:n.filterFieldInputCls,keyStrokeChangeDelay:n.keyStrokeFilterDelay,onChange:n.onColumnFilterFieldChange,onClear:n.onColumnFilterFieldChange,disabled:n.disabled,placeholder:n.compactMode?e.headerText:null,format:e.format},o.filterField),a)[0],c.element.retainElement=!0,n.setColumnFilterField(e,c),c.isCombo&&!c.store.count){const n=c.value,refreshData=()=>c.store.data=r.store.getDistinctValues(e.field,!0).map((n=>r.store.modelClass.new({[e.field]:n})));c.value=null,c.store.isSorted||c.store.sort({field:e.field,ascending:!0}),c.picker.on("beforeShow",refreshData),refreshData(),c.value=n}!n.filter&&c.value&&!1!==r.store.autoLoad&&n.onColumnFilterFieldChange({source:c,value:c.value})}a.classList.add(n.filterableColumnCls)}}updateColumnFilterFields(){const e=this,{columns:n,store:r}=e.grid;let o,i;e._updatingFields=!0;for(const a of n.visibleColumns)o=e.getColumnFilterField(a),o&&(i=r.filters.get(a.id)||r.filters.getBy("property",a.field),i?i._filterBy?o.value=i.value:o.value=e.buildFilterValue(i):o.value="");e._updatingFields=!1}getColumnFilterable(e){if(!e.isRoot&&!1!==e.filterable&&e.field&&e.isLeaf)return"function"==typeof e.filterable&&(e.filterable={filterFn:e.filterable}),e.filterable}destroyColumnFilterField(e){const n=this.getColumnFilterField(e);n&&(this.hideColumnFilterField(e,!0),n.destroy(),this.setColumnFilterField(e,void 0))}hideColumnFilterField(e,n){const r=this,{store:o}=r.grid,i=e.element,a=r.getColumnFilterField(e);a&&(r.isDestroying||a.hide(),!o.isDestroyed&&r.clearStoreFiltersOnHide&&e.field&&o.removeFilter(e.id,n),null==i||i.classList.remove(r.filterableColumnCls))}getColumnFilterField(e){var n;return null===(n=this._columnFilters)||void 0===n?void 0:n[e.id]}setColumnFilterField(e,n){this._columnFilters=this._columnFilters||{},this._columnFilters[e.data.id]=n}parseFilterValue(e){if(Array.isArray(e))return{value:e};const n=String(e).match(this.filterParseRegExp);return{operator:n[1]||"*",value:n[2]}}buildFilterValue(e){return e.value instanceof Date||Array.isArray(e.value)?e.value:("*"===e.operator||"isIncludedIn"===e.operator?"":e.operator)+e.value}onStoreBeforeFilter({filters:e}){const{columns:n}=this.client;for(let o=0;o<e.count;o++){var r;const i=e.getAt(o),a=(i.columnOwned||this.prioritizeColumns)&&(i.id&&n.getById(i.id)||n.get(i.property));null!==(r=a.filterable)&&void 0!==r&&r.filterFn&&(a.$filter||(a.$filter=new CollectionFilter({columnOwned:!0,property:i.property,id:a.id,filterBy(e){return a.filterable.filterFn({value:this.value,record:e,property:this.property,column:a})}})),a.$filter.value=i.value,e.splice(o,1,a.$filter))}}onStoreFilter(){!this.storeTrackingSuspended&&this.rendered&&this.updateColumnFilterFields()}afterColumnsChange({changes:e,column:n}){if(!this.hidden&&null!=e&&e.hidden){e.hidden.value?this.destroyColumnFilterField(n):this.renderColumnFilterField(n)}}suspendStoreTracking(){this.storeTrackingSuspended++}resumeStoreTracking(){this.storeTrackingSuspended--}renderHeader(){this.hidden||this.renderFilterBar()}renderContents(){for(const e of Object.values(this._columnFilters))null==e||e.element.remove()}onElementKeyDown(e){if(!e.handled&&e.target.matches(this.filterFieldInputSelector))switch(e.key){case"ArrowLeft":case"ArrowRight":e.handled=!0}}onBeforeElementClick({event:e}){if(e.target.closest(`.${this.filterFieldCls}`))return!1}onColumnFilterFieldChange({source:e,value:n}){const r=this,{store:o}=r.grid;if(r._updatingFields)return;r.suspendStoreTracking();const i=null==n||""===n||Array.isArray(n)&&0===n.length;var a;o.removeFilter(e.column.id,!i)||!0!==(null===(a=o.filters.get(e.name))||void 0===a?void 0:a.columnOwned)&&o.removeFilter(e.name,!i);i||o.filter(_objectSpread2({columnOwned:!0,property:e.name,id:e.column.id},r.parseFilterValue(n))),r.resumeStoreTracking()}populateHeaderMenu({items:e}){e.toggleFilterBar={text:this.hidden?"L{enableFilterBar}":"L{disableFilterBar}",localeClass:this,weight:120,icon:"b-fw-icon b-icon-filter",cls:"b-separator",onItem:()=>this.toggleFilterBar()}}}FilterBar.featureClass="b-filter-bar",FilterBar._$name="FilterBar",GridFeatureManager.registerFeature(FilterBar);class Group extends InstancePlugin{static get $name(){return"Group"}static get configurable(){return{field:null,groupSortFn:null,renderer:null}}construct(e,n){const r=this;e.features.tree||(r._thisIsAUsedExpression(e.features.groupSummary),n=r.processConfig(n),r.grid=e,super.construct(e,n),r.bindStore(e.store),e.rowManager.on({beforeRenderRow:"onBeforeRenderRow",renderCell:"renderCell",prio:1100,thisObj:r}))}processConfig(e){return"string"==typeof e?{field:e,ascending:null}:e}setConfig(e){null===e?this.store.clearGroupers():super.setConfig(this.processConfig(e))}bindStore(e){this.detachListeners("store"),e.on({name:"store",group:"onStoreGroup",thisObj:this})}updateRenderer(e){this.groupRenderer=e}updateField(e){this.store.group({field:e,ascending:this.ascending,fn:this.groupSortFn})}updateGroupSortFn(e){this.isConfiguring||this.store.group({field:this.field,ascending:this.ascending,fn:e})}doDestroy(){super.doDestroy()}doDisable(e){const{store:n}=this;if(e&&n.isGrouped){const{sorters:e}=n;e.unshift(...n.groupers),n.clearGroupers(),n.sort(e)}super.doDisable(e)}get store(){return this.grid.store}static get pluginConfig(){return{assign:["collapseAll","expandAll"],chain:["renderHeader","populateHeaderMenu","getColumnDragToolbarItems","onElementTouchStart","onElementClick","onElementKeyDown","bindStore"]}}toggleCollapse(e,n){this.internalToggleCollapse(e,n)}internalToggleCollapse(e,n,r=!1){const o=this,{store:i}=o,a=i.getById(e);a.isGroupHeader&&((n=void 0===n?!a.meta.collapsed:n)?i.collapse(a):i.expand(a),o.grid.trigger("toggleGroup",{groupRecord:a,collapse:n}),r||o.grid.rowManager.renderFromRecord(a))}collapseAll(){const e=this;e.store.isGrouped&&!e.disabled&&(e.store.groupRecords.forEach((n=>e.internalToggleCollapse(n,!0,!0))),e.grid.refreshRows(!0))}expandAll(){const e=this;e.store.isGrouped&&!e.disabled&&(e.store.groupRecords.forEach((n=>e.internalToggleCollapse(n,!1,!0))),e.grid.refreshRows())}onBeforeRenderRow({row:e}){const n=e.grid.store.getById(e.id);e.forceInnerHTML=e.forceInnerHTML||(null==n?void 0:n.isGroupHeader)}renderCell(e){const n=this,{cellElement:r,row:o,column:i}=e,{meta:a}=e.record,l={"b-group-row":0,"b-grid-group-collapsed":0};if(!n.disabled&&n.store.isGrouped)if("groupRowFor"in a){if("action"===i.type)return;i.clearCell(r),l["b-grid-group-collapsed"]=a.collapsed,l["b-group-row"]=1,i===n.groupHeaderColumn&&r.classList.add("b-group-title"),n.buildGroupHeader(e)}else r.classList.remove("b-group-title");o.assignCls(l)}buildGroupHeader(e){const n=this,{record:r,cellElement:o,column:i,persist:a}=e,{grid:l}=n,c=r.meta,{groupRowFor:d}=c,{groupSummary:u}=l.features,p=c.childCount-(u&&"header"!==u.target?1:0);let b=null,g=!0;if(a||i){const a=l.columns.get(c.groupField),u=e.isFirstColumn=i===n.groupHeaderColumn;null!=a&&a.groupRenderer?u&&(b=a.groupRenderer(_objectSpread2(_objectSpread2({},e),{},{groupRowFor:d,groupRecords:r.groupChildren,groupColumn:a,count:p})),g=!1):n.groupRenderer&&(b=n.groupRenderer(_objectSpread2(_objectSpread2({},e),{},{groupRowFor:d,groupRecords:r.groupChildren,groupColumn:a,count:p,isFirstColumn:u}))),u&&null==b&&g&&0===DomHelper.getChildElementCount(o)&&(b=StringHelper.encodeHtml(`${"__novalue__"===d?"":d} (${p})`))}else n.groupRenderer&&(b=n.groupRenderer(e));return"string"==typeof b?o.innerHTML=b:"object"==typeof b&&DomSync.sync({targetElement:o,domConfig:{onlyChildren:!0,children:Array.isArray(b)?b:[b]}}),DomHelper.getChildElementCount(o)>0&&(o._hasHtml=!0),o.innerHTML}get groupHeaderColumn(){return this.grid.columns.visibleColumns.find((e=>!e.groupHeaderReserved))}renderHeader(e){const{store:n,grid:r}=this;if(n.isGrouped)for(const e of n.groupers){const n=r.columns.get(e.field),o=n&&r.getHeaderElement(n.id);o&&(o.classList.add("b-group"),o.classList.add(e.ascending?"b-asc":"b-desc"))}}populateHeaderMenu({column:e,items:n}){const r=this;!1!==e.groupable&&(n.groupAsc={text:"L{groupAscending}",localeClass:r,icon:"b-fw-icon b-icon-group-asc",cls:"b-separator",weight:400,disabled:r.disabled,onItem:()=>r.store.group(e.field,!0)},n.groupDesc={text:"L{groupDescending}",localeClass:r,icon:"b-fw-icon b-icon-group-desc",weight:410,disabled:r.disabled,onItem:()=>r.store.group(e.field,!1)}),r.store.isGrouped&&(n.groupRemove={text:"L{stopGrouping}",localeClass:r,icon:"b-fw-icon b-icon-clear",cls:e.groupable?"":"b-separator",weight:420,disabled:r.disabled,onItem:()=>r.store.clearGroupers()})}getColumnDragToolbarItems(e,n){var r;const o=this,{store:i,disabled:a}=o;n.push({text:"L{groupAscendingShort}",group:"L{group}",localeClass:o,icon:"b-icon b-icon-group-asc",ref:"groupAsc",cls:"b-separator",weight:110,disabled:a,onDrop:({column:e})=>i.group(e.field,!0)}),n.push({text:"L{groupDescendingShort}",group:"L{group}",localeClass:o,icon:"b-icon b-icon-group-desc",ref:"groupDesc",weight:110,disabled:a,onDrop:({column:e})=>i.group(e.field,!1)});const l=(null===(r=i.groupers)||void 0===r?void 0:r.some((n=>n.field===e.field)))&&!a;return n.push({text:"L{stopGroupingShort}",group:"L{group}",localeClass:o,icon:"b-icon b-icon-clear",ref:"groupRemove",disabled:!l,weight:110,onDrop:({column:e})=>i.removeGrouper(e.field)}),n}onStoreGroup({groupers:e}){const{grid:n}=this,{element:r}=n,o=r&&DomHelper.children(r,".b-grid-header.b-group");if(r){for(const e of o)DomHelper.removeClasses(e,["b-group","b-asc","b-desc"]);if(e)for(const r of e){const e=n.getHeaderElementByField(r.field);e&&DomHelper.addClasses(e,["b-group",r.ascending?"b-asc":"b-desc"])}}}onElementTouchStart(e){const n=this,{target:r}=e,o=DomHelper.up(r,".b-grid-header"),i=o&&n.grid.getColumnFromElement(o);e.touches.length>1&&i&&!1!==i.groupable&&!n.disabled&&n.store.group(i.field)}onElementClick(e){const n=this,{store:r}=n,{target:o}=e,i=DomHelper.up(o,".b-group-row"),a=DomHelper.up(o,".b-grid-header"),l=null==a?void 0:a.dataset.column;if(!(o.classList.contains("b-resizer")||n.disabled||o.classList.contains("b-action-item"))){if(a&&l){var c;const o=null===(c=r.groupers)||void 0===c?void 0:c.find((e=>e.field===l));if(o&&!e.shiftKey)return r.group(l,!o.ascending),!1;if(e.shiftKey){!1!==n.grid.columns.get(l).groupable&&(e.altKey?r.removeGrouper(l):r.group(l))}}return i?(n.internalToggleCollapse(DomDataStore.get(i).id),!1):void 0}}onElementKeyDown(e){const n=this,{grid:r}=n;!n.disabled&&n.store.isGrouped&&e.target===r.focusElement&&" "===e.key&&r.focusedCell&&(e.preventDefault(),n.internalToggleCollapse(r.focusedCell.id))}}Group._$name="Group",GridFeatureManager.registerFeature(Group,!0,["Grid","Scheduler"]);var SummaryFormatter=e=>class SummaryFormatter extends(e||Base){static get $name(){return"SummaryFormatter"}generateHtml(e,n,r,o,i,a){const l=this.store,c=e.summaries||(e.sum?[{sum:e.sum,renderer:e.summaryRenderer}]:[]);let d=`<table class="${r}">`;return c.forEach((r=>{let o=r.sum,i=null;switch(!0===o&&(o="sum"),o){case"sum":case"add":i=l.sum(e.field,n);break;case"max":i=l.max(e.field,n);break;case"min":i=l.min(e.field,n);break;case"average":case"avg":i=l.average(e.field,n);break;case"count":i=n.length;break;case"countNotEmpty":i=n.reduce(((n,r)=>n+(null!=r[e.field]?1:0)),0)}if("function"==typeof o&&(i=n.reduce(o,"seed"in r?r.seed:0)),null!==i){const e="b-grid-summary-value",n=r.label?`<td class="b-grid-summary-label">${r.label}</td>`:"";let o,a=r.renderer?r.renderer({config:r,sum:i}):i;null==a&&(a=""),o=String(a).includes("<td>")?a:n?`${n}<td class="${e}">${a}</td>`:`<td colspan="2" class="${e}">${a}</td>`,d+=`<tr>${o}</tr>`}})),d+"</table>"}};class GroupSummary extends(SummaryFormatter(InstancePlugin)){static get $name(){return"GroupSummary"}static get configurable(){return{collapseToHeader:null,target:"footer"}}construct(e,n){if(this.grid=e,super.construct(e,n),!e.features.group)throw new Error("Requires Group feature to work, please enable");this.bindStore(e.store),e.rowManager.on({beforeRenderRow:"onBeforeRenderRow",renderCell:"renderCell",prio:1e3,thisObj:this})}bindStore(e){this.detachListeners("store"),e.on({name:"store",update:"onStoreUpdate",prio:1,thisObj:this})}get store(){return this.grid.store}doDisable(e){this.updateTarget(this.target),super.doDisable(e)}changeTarget(e){return ObjectHelper.assertString(e,"target"),e}updateTarget(e){this.store.useGroupFooters=!this.disabled&&"footer"===e,this.isConfiguring||this.store.group()}changeCollapseToHeader(e){return ObjectHelper.assertBoolean(e,"collapseToHeader"),e}updateCollapseToHeader(){this.isConfiguring||this.store.group()}static get pluginConfig(){return{chain:["bindStore"]}}onBeforeRenderRow({row:e,record:n}){e.isGroupFooter&&!("groupFooterFor"in n.meta)?(e.isGroupFooter=!1,e.forceInnerHTML=!0):e.isGroupHeader&&!n.meta.collapsed&&e.eachElement(this.removeSummaryElements)}removeSummaryElements(e){}renderCell({column:e,cellElement:n,row:r,record:o,size:i,isFirstColumn:a}){const l=this,{meta:c}=o,{rowHeight:d}=l.grid,u="groupRowFor"in c,p="groupFooterFor"in c,b="header"===l.target,g={"b-group-footer":0,"b-header-summary":0},m=u&&(b||l.collapseToHeader&&c.collapsed)&&!a||p&&!b;if((u||p)&&(i.height=d),l.store.isGrouped&&m&&!l.disabled){e.clearCell(n);const a=u?o:c.groupRecord;r.isGroupFooter=p,r.isGroupHeader=u,p?g["b-group-footer"]=1:g["b-header-summary"]=1;const m=l.updateSummaryHtml(n,e,a),f="number"==typeof m?m:m.count;f>1&&(i.height+=c.collapsed&&!b?0:f*d*.1),m.height&&(i.height+=m.height)}r.assignCls(g)}updateSummaryHtml(e,n,r){const o=r.groupChildren.slice();o[o.length-1].isGroupFooter&&o.pop();const i=this.generateHtml(n,o,"b-grid-group-summary",r,r.meta.groupField,r.meta.groupRowFor);return e.children.length?DomHelper.sync(i,e.firstElementChild):e.innerHTML=i,n.summaries?n.summaries.length:n.sum?1:0}onStoreUpdate({source:e,changes:n}){if(!this.disabled&&e.isGrouped){if(n&&e.groupers.find((e=>e.field in n)))return;Object.keys(n).some((e=>{const n=this.grid.columns.get(e);return Boolean(n)&&(Boolean(n.sum)||Boolean(n.summaries))}))&&(this.grid.forceFullRefresh=!0)}}refresh(){this.grid.columns.visibleColumns.forEach((e=>{this.hasSummary(e)&&this.grid.refreshColumn(e)}))}hasSummary(e){return e.sum||e.summaries}}GroupSummary.featureClass="b-group-summary",GroupSummary._$name="GroupSummary",GridFeatureManager.registerFeature(GroupSummary);class HeaderMenu extends ContextMenuBase{static get $name(){return"HeaderMenu"}static get defaultConfig(){return{processItems:null,items:null,type:"header",_showForTimeAxis:!1}}static get pluginConfig(){const e=super.pluginConfig;return e.chain.push("populateHeaderMenu"),e}onElementKeyDown(e){if(!e.handled&&e.target.matches(".b-grid-header.b-depth-0")&&" "===e.key)this.internalShowContextMenu(this.createContextMenuEventForElement(e.target))}shouldShowMenu(e){const{column:n}=e;return n&&!1!==n.enableHeaderContextMenu&&(this._showForTimeAxis||n!==this.client.timeAxisColumn)}showContextMenu({column:e}){super.showContextMenu(...arguments),e===this.client.timeAxisColumn&&this.menu&&(this.menu.scrollAction="realign")}getDataFromEvent(e){return ObjectHelper.assign(super.getDataFromEvent(e),this.client.getHeaderDataFromEvent(e))}populateHeaderMenu({items:e,column:n}){return null!=n&&n.headerMenuItems&&(Array.isArray(n.headerMenuItems)&&VersionHelper.deprecate("Grid","5.0.0","`headerMenuItems` column config specified as an array is deprecated, need to specify the config as a named object. Please see https://bryntum.com/docs/grid/guide/Grid/upgrades/4.0.0 for more information."),ObjectHelper.merge(e,n.headerMenuItems)),e}}HeaderMenu.featureClass="",HeaderMenu._$name="HeaderMenu",GridFeatureManager.registerFeature(HeaderMenu,!0);class QuickFind extends InstancePlugin{static get $name(){return"QuickFind"}static get defaultConfig(){return{mode:"header",find:""}}static get pluginConfig(){return{chain:["onElementKeyDown","onElementKeyPress","onCellNavigate"]}}static get properties(){return{hitCls:"b-quick-hit",hitCellCls:"b-quick-hit-cell",hitCellBadgeCls:"b-quick-hit-cell-badge",hitTextCls:"b-quick-hit-text"}}construct(e,n){super.construct(e,n),Object.assign(this,{grid:e,treeWalker:e.setupTreeWalker(e.element,NodeFilter.SHOW_TEXT,(()=>NodeFilter.FILTER_ACCEPT),!1)})}doDisable(e){e&&this.clear(),super.doDisable(e)}get store(){return this.grid.store}showQuickFind(){const e=this,n=e.grid.getHeaderElement(e.columnId);if(n){if(!e.headerField){const[r,o,i]=DomHelper.createElement({tag:"div",className:"b-quick-hit-header",children:[{tag:"div",className:"b-quick-hit-field"},{tag:"div",className:"b-quick-hit-badge"}]},!0);"header"===e.mode?n.appendChild(r):(r.className+=" b-quick-hit-mode-grid",e.grid.element.appendChild(r)),e.headerField={header:r,field:o,badge:i,colHeader:n}}e.headerField.field.innerHTML=e.find,e.headerField.badge.innerHTML=e.found.length,n.classList.add("b-quick-find-header"),e.renderListenerInitialized||(e.grid.rowManager.on({rendercell:e.renderCell,thisObj:e}),e.renderListenerInitialized=!0)}}hideQuickFind(){const e=this,{grid:n,headerField:r}=e;for(const r of e.prevFound||e.found){const o=n.getRowById(r.id);if(o){o.forceInnerHTML=!0;const n=o.getCell(e.columnId);n._content=null,o.renderCell({cellElement:n,record:r.data}),o.forceInnerHTML=!1}}r&&(r.header.parentNode.removeChild(r.header),r.colHeader.classList.remove("b-quick-find-header"),e.headerField=null),e.renderListenerInitialized&&(n.rowManager.un({rendercell:e.renderCell},e),e.renderListenerInitialized=!1),n.trigger("hideQuickFind")}search(e,n=this.columnId){const r=this,{grid:o}=r,i=o.columns.getById(n)||o.columns.get(n),a=r.store.findByField(i.field,e);let l=1;Object.assign(r,{foundMap:{},prevFound:r.found,found:a,find:e,columnId:i.id,findRe:new RegExp(`(\\s+)?(${StringHelper.escapeRegExp(String(e))})(\\s+)?`,"ig")}),e?r.showQuickFind():r.hideQuickFind();for(const e of DomHelper.children(o.element,`.${r.hitCls}`))e.classList.remove(r.hitCls,r.hitCellCls),e._originalContent&&(e.innerHTML=e._originalContent,e._originalContent=null);if(a){a.length>0&&r.gotoClosestHit(o.focusedCell,a);for(const e of a){r.foundMap[e.id]=l++;const n=o.getRowById(e.data.id);if(null==n||n.renderCell({cellElement:n.getCell(i.id)}),l>1e3)break}o.trigger("quickFind",{find:e,found:a})}}clear(){var e;null!==(e=this.found)&&void 0!==e&&e.length&&this.search("")}get foundCount(){var e,n;return null!==(e=null===(n=this.found)||void 0===n?void 0:n.length)&&void 0!==e?e:0}gotoHit(e){const n=this.found[e];return n&&this.grid.focusCell({columnId:this.columnId,id:n.id}),!!n}gotoClosestHit(e,n){const r=e?this.grid.store.indexOf(e.id):0,o=n.slice().sort(((e,n)=>Math.abs(e.index-r)-Math.abs(n.index-r)));this.gotoHit(n.indexOf(o[0]))}gotoFirstHit(){this.gotoHit(0)}gotoLastHit(){this.gotoHit(this.found.length-1)}gotoNextHit(){var e,n,r;const o=this,{grid:i}=o,a=null!==(e=null===(n=i._focusedCell)||void 0===n?void 0:n.id)&&void 0!==e?e:null===(r=i.lastFocusedCell)||void 0===r?void 0:r.id,l=i.store.indexOf(a)||0,c=o.found.find((e=>e.index>l));c?i.focusCell({columnId:o.columnId,id:c.id}):o.gotoFirstHit()}gotoPrevHit(){var e,n,r;const o=this,{grid:i,found:a}=o,l=null!==(e=null===(n=i._focusedCell)||void 0===n?void 0:n.id)&&void 0!==e?e:null===(r=i.lastFocusedCell)||void 0===r?void 0:r.id,c=i.store.indexOf(l)||0;let d;if(a.length){for(let e=a.length-1;e--;e>=0)if(a[e].index<c){d=a[e];break}d?i.focusCell({columnId:o.columnId,id:d.id}):o.gotoLastHit()}}renderCell({cellElement:e,column:n,record:r}){var o;const i=this,{classList:a}=e,{treeWalker:l,findRe:c,hitTextCls:d}=i,u=i.columnId===n.id&&(null===(o=i.foundMap)||void 0===o?void 0:o[r.id]);if(u){a.add(i.hitCls),e.isQuickHit=!0,e._originalContent=e.innerHTML;const n=l.currentNode=DomHelper.down(e,".b-grid-cell-value,.b-tree-cell-value")||e;for(let e=l.nextNode();e&&n.contains(e);){const n=e,r=e.nodeValue,o=[];e=l.nextNode();let i=c.lastIndex;for(let e=c.exec(r);e;e=c.exec(r)){const n=r.substring(i,e.index),a=e[1]?"":"",l=e[2],u=e[3]?"":"";o.push(`${StringHelper.encodeHtml(n)}${a}<span class="${d}">${l}</span>${u}`),i=c.lastIndex}o.push(StringHelper.encodeHtml(r.substring(i))),n.parentNode.insertBefore(DomHelper.createElementFromTemplate(o.join(""),{fragment:!0}),n),n.remove()}DomHelper.createElement({parent:e,className:i.hitCellBadgeCls,text:u})}}onElementKeyDown(e){const n=this,r=n.grid.features.filter;n.disabled||e.target.closest(".b-widget:not(.b-gridbase)")||n.find.length>0&&("Backspace"===e.key?(e.preventDefault(),n.find=n.find.substr(0,n.find.length-1),n.search(n.find)):"Escape"===e.key?(e.preventDefault(),n.find="",n.search(n.find)):"F3"===e.key||"g"===e.key.toLowerCase()&&e.ctrlKey?(e.preventDefault(),e.shiftKey?n.gotoPrevHit():n.gotoNextHit()):r&&n.columnId&&n.foundCount&&e.ctrlKey&&e.shiftKey&&"F"===e.key&&(n.clear(),r.showFilterEditor(n.grid.columns.getById(n.columnId),n.find)))}onElementKeyPress(e){const n=this,{grid:r}=n;if(!n.disabled&&!e.target.closest(".b-widget:not(.b-gridbase)")&&"Enter"!==e.key&&r._focusedCell){const i=r.columns.getById(r._focusedCell.columnId);var o;if(i&&!1!==i.searchable)n.columnId=r._focusedCell.columnId," "===e.key&&e.preventDefault(),1===(null===(o=e.key)||void 0===o?void 0:o.length)&&(n.find+=e.key,n.search(n.find))}}onCellNavigate(e,n,r){const o=this;!(o.prevFound||o.found)||r&&r.columnId===o.columnId||o.clear()}}QuickFind._$name="QuickFind",GridFeatureManager.registerFeature(QuickFind);class RegionResize extends InstancePlugin{static get $name(){return"RegionResize"}construct(e,n){this.grid=e,super.construct(e,n)}doDestroy(){super.doDestroy()}static get pluginConfig(){return{chain:["onElementTouchStart","onElementTouchMove","onElementTouchEnd","onElementMouseDown","onElementMouseMove","onElementDblClick","onElementMouseUp","onSubGridCollapse","onSubGridExpand","render"]}}onElementDblClick(e){const n=this,r=n.grid,o=DomHelper.up(e.target,".b-grid-splitter-collapsed");if(o&&!n.expanding){n.expanding=!0;let e=o.dataset.region,i=r.getSubGrid(e);i.collapsed||(e=r.getLastRegions()[1],i=r.getSubGrid(e)),i.expand().then((()=>n.expanding=!1))}}startMove(e,n){const{grid:r}=this,o=e.dataset.region,i=r.element,a=r.regions[r.regions.indexOf(o)+1],l=r.getSubGrid(a),c=r.getSubGrid(o);let d=c,u=1;if(null!=d.flex&&null==l.flex&&(d=l,u=-1),e.classList.contains("b-grid-splitter-collapsed"))return;const p=d.element.offsetWidth+l.element.offsetWidth;this.dragContext={element:e,headerEl:d.header.element,subGridEl:d.element,subGrid:d,splitterSubGrid:c,originalWidth:d.element.offsetWidth,originalX:n,minWidth:d.minWidth||0,maxWidth:Math.min(p,d.maxWidth||p),flip:u},i.classList.add("b-moving-splitter"),c.toggleSplitterCls("b-moving")}endMove(){const e=this.dragContext;e&&(this.grid.element.classList.remove("b-moving-splitter"),e.splitterSubGrid.toggleSplitterCls("b-moving",!1),this.dragContext=null)}onCollapseClick(e,n){const r=this.grid,o=n.dataset.region,i=r.getLastRegions();if(i[0]===o){const e=r.getSubGrid(i[1]);if(e.collapsed)return void e.expand()}e.collapse()}onExpandClick(e,n){const r=this.grid,o=n.dataset.region,i=r.getLastRegions();if(i[0]!==o||e.collapsed)e.expand();else{r.getSubGrid(i[1]).collapse()}}updateMove(e){const{dragContext:n}=this;if(n){const r=e-n.originalX,o=Math.min(n.maxWidth,n.originalWidth+r*n.flip);n.subGrid.width=Math.max(o,n.minWidth)}}onElementTouchStart(e){const n=e.target.closest(".b-grid-splitter");n&&this.startMove(n,e.touches[0].clientX)}onElementTouchMove(e){this.dragContext&&(this.updateMove(e.touches[0].clientX),e.preventDefault())}onElementTouchEnd(e){this.dragContext&&(this.endMove(),e.preventDefault())}onElementMouseDown(e){const n=this,r=e.target,o=r.closest(":not(.b-row-reordering):not(.b-dragging-event):not(.b-dragging-task):not(.b-dragging-header):not(.b-dragselecting) .b-grid-splitter"),i=o&&n.grid.getSubGrid(o.dataset.region);0===e.button&&(r.classList.contains("b-grid-splitter")||r.classList.contains("b-grid-splitter-inner")?n.startMove(o,e.clientX):r.classList.contains("b-icon-collapse-gridregion")?n.onCollapseClick(i,o):r.classList.contains("b-icon-expand-gridregion")&&n.onExpandClick(i,o))}onElementMouseMove(e){this.dragContext&&(this.updateMove(e.clientX),e.preventDefault())}onElementMouseUp(e){this.dragContext&&(this.endMove(),e.preventDefault())}onSubGridCollapse({subGrid:e}){const n=this.grid.resolveSplitter(e);this.grid.getLastRegions()[1]===e.region&&n.classList.add("b-grid-splitter-allow-collapse")}onSubGridExpand({subGrid:e}){this.grid.resolveSplitter(e).classList.remove("b-grid-splitter-allow-collapse")}render(){const{regions:e,subGrids:n}=this.grid;e.length>2&&(n[e[0]].splitterElement.classList.add("b-left-only"),n[e[1]].splitterElement.classList.add("b-right-only"))}}RegionResize.featureClass="b-split",RegionResize._$name="RegionResize",GridFeatureManager.registerFeature(RegionResize);var KeyMap=e=>{var n,r;return r=n=class KeyMap extends(e||Base){get widgetClass(){}performKeyMapAction(e,n){const{keyMap:r}=this;if(r){const o=r[ObjectHelper.keys(r).find((n=>{const r=n.split("+"),o=r.includes("Shift"),i=r.includes("Ctrl");return r[r.length-1].toLowerCase()===e.key.toLowerCase()&&(!e.ctrlKey&&!i||i)&&(!e.shiftKey&&!o||o)}))];if(o)return"string"==typeof o?this[o](n||e):o.call(this),!0}return!1}},_defineProperty(n,"$name","KeyMap"),_defineProperty(n,"configurable",{keyMap:{value:null,$config:{merge:"objects"}}}),r};class RowCopyPaste extends(InstancePlugin.mixin(KeyMap)){static get $name(){return"RowCopyPaste"}static get type(){return"rowCopyPaste"}static get pluginConfig(){return{assign:["copyRows","pasteRows"],chain:["onElementKeyDown","populateCellMenu"]}}static get properties(){return{clipboardRecords:[]}}static get configurable(){return{nameField:"name",keyMap:{"Ctrl+C":"copy","Ctrl+X":"cut","Ctrl+V":"paste"},copyRecordText:"L{copyRecord}",cutRecordText:"L{cutRecord}",pasteRecordText:"L{pasteRecord}",localizableProperties:["copyRecordText","cutRecordText","pasteRecordText"]}}construct(e,n){super.construct(e,n),e.rowManager.on({beforeRenderRow:"onBeforeRenderRow",thisObj:this}),this.grid=e}onBeforeRenderRow({row:e,record:n}){e.cls["b-cut-row"]=this.clipboardRecords.includes(n)}onElementKeyDown({ctrlKey:e,target:n,key:r}){const o=this,i=o.grid.features.cellEdit;o.disabled||0!==window.getSelection().toString().length||i&&i.isEditing||!n.closest(".b-grid-body-container")||o.performKeyMapAction(...arguments)}copy(){this.copyRows()}cut(){this.copyRows(!0)}paste(){this.pasteRows()}copyRows(e=!1){const n=this,{client:r}=n;r.readOnly||!1===r.trigger("beforeCopy",{records:r.selectedRecords,isCut:e})||(n._isCut=e,n.clipboardRecords.forEach((e=>{var n;return null===(n=r.rowManager.getRowById(e))||void 0===n?void 0:n.removeCls("b-cut-row")})),n.clipboardRecords=r.selectedRecords.slice(),e&&r.selectedRecords.forEach((e=>this.onRowCut(e))))}onRowCut(e){var n;null===(n=this.client.rowManager.getRowById(e))||void 0===n||n.addCls("b-cut-row")}pasteRows(e){const n=this,r=n.clipboardRecords,o=e||n.client.selectedRecord;if(n.client.readOnly||!r.length||!1===n.client.trigger("beforePaste",{records:r,referenceRecord:o,isCut:n._isCut}))return[];n.sortByIndex(r);const i=r.map((e=>(n._isCut||((e=e.copy())[n.nameField]=n.generateNewName(e)),e)));return n._isCut?(n.client.store.move(i,o),n.clearClipboard()):(n.insertCopiedRecords(o,i),n.client.selectedRecords=i),i}clearClipboard(){this.clipboardRecords.forEach((e=>{var n;return null===(n=this.client.rowManager.getRowById(e))||void 0===n?void 0:n.removeCls("b-cut-row")})),this._isCut=!1,this.clipboardRecords=[]}generateNewName(e){const n=e[this.nameField];let r=2;for(;this.client.store.findRecord(this.nameField,`${n} - ${r}`);)r++;return`${n} - ${r}`}insertCopiedRecords(e,n){const{store:r}=this.client;if(r.tree)return e.parent.insertChild(n,e.nextSibling);{const o=r.indexOf(e);return r.insert(o+1,n)}}populateCellMenu({record:e,items:n}){const r=this;r.client.readOnly||!e||e.isSpecialRow||(n.copy={text:r.copyRecordText,localeClass:r,icon:"b-icon b-icon-copy",weight:100,onItem:()=>r.copyRows()},n.cut={text:r.cutRecordText,localeClass:r,icon:"b-icon b-icon-cut",weight:110,onItem:()=>r.copyRows(!0)},r.clipboardRecords.length&&(n.paste={text:r.pasteRecordText,localeClass:r,icon:"b-icon b-icon-paste",weight:120,onItem:()=>r.pasteRows(e)}))}sortByIndex(e){return e.sort(((e,n)=>{const r=e.indexPath,o=n.indexPath;for(let e=0;e<=r.length;e++){if(r[e]<o[e])return-1;if(r[e]>o[e])return 1}}))}}RowCopyPaste.featureClass="b-row-copypaste",RowCopyPaste._$name="RowCopyPaste",GridFeatureManager.registerFeature(RowCopyPaste,!0,"Grid"),GridFeatureManager.registerFeature(RowCopyPaste,!1,"Gantt"),GridFeatureManager.registerFeature(RowCopyPaste,!1,"SchedulerPro"),GridFeatureManager.registerFeature(RowCopyPaste,!1,"ResourceHistogram");class RowReorder extends(Delayable(InstancePlugin)){static get $name(){return"RowReorder"}static get configurable(){return{hoverExpandTimeout:1e3,touchStartDelay:300}}construct(e,n){this.grid=e,super.construct(...arguments)}doDestroy(){var e;null===(e=this.dragHelper)||void 0===e||e.destroy(),super.doDestroy()}init(){const e=this,{grid:n}=e;e.dragHelper=new DragHelper({name:"rowReorder",mode:"translateXY",cloneTarget:!0,dragThreshold:10,targetSelector:".b-grid-row",lockX:!0,transitionDuration:n.transitionDuration,scrollManager:n.scrollManager,dragWithin:n.element,outerElement:e.targetSubGridElement,touchStartDelay:e.touchStartDelay,monitoringConfig:{scrollables:[{element:n.scrollable.element,direction:"vertical"}]},ignoreSamePositionDrop:!1,createProxy(e){const r=e.cloneNode(!0),o=document.createElement("div");if(r.removeAttribute("id"),r.style.transform="",o.appendChild(r),n.selectedRecords.length>1){const e=r.cloneNode(!0);e.classList.add("b-row-dragging-multiple"),o.appendChild(e)}return DomHelper.removeClsGlobally(o,"b-selected","b-hover","b-focused"),o},listeners:{beforedragstart:"onBeforeDragStart",dragstart:"onDragStart",drag:"onDrag",drop:"onDrop",reset:"onReset",prio:1e4,thisObj:e}}),e.dropIndicator=DomHelper.createElement({className:"b-row-drop-indicator"}),e.relayEvents(e.dragHelper,["beforeDragStart","dragStart","drag","abort"],"gridRow")}static get pluginConfig(){return{after:["onPaint"]}}get targetSubGridElement(){const e=this.grid.regions[0];return this.grid.subGrids[e].element}onBeforeDragStart({context:e}){const n=this,r=n.grid,o=n.targetSubGridElement;if(n.disabled||r.readOnly||!o.contains(e.element))return!1;const i=e.records=r.selectedRecords.slice().sort(((e,n)=>r.store.indexOf(e)-r.store.indexOf(n)));return e.startRecord=r.getRecordFromElement(e.element),e.originalRowTop=r.rowManager.getRowFor(e.startRecord).top,e.record=e.startRecord,i.length>0&&!i.some((e=>e.isSpecialRow))}onDragStart({context:e}){var n,r,o;const i=this,{grid:a}=i,{cellEdit:l,contextMenu:c,cellMenu:d,headerMenu:u}=a.features;l&&(i.cellEditDisabledState=l.disabled,l.disabled=!0),null==c||null===(n=c.hideContextMenu)||void 0===n||n.call(c,!1),null==d||null===(r=d.hideContextMenu)||void 0===r||r.call(d,!1),null==u||null===(o=u.hideContextMenu)||void 0===o||o.call(u,!1),a.element.classList.add("b-row-reordering");const p=e.element.querySelector(".b-focused");null==p||p.classList.remove("b-focused"),DomHelper.removeClasses(e.element.firstElementChild,["b-selected","b-hover"]),a.bodyContainer.appendChild(i.dropIndicator)}onDrag({context:e,event:n}){const r=this,{grid:o}=r,{store:i,rowManager:a}=o,{dragWithin:l}=r.dragHelper;if(!l.contains(n.target))return void(e.valid=!1);let c,d,u,p,b=e.valid,g=o.rowManager.getRowAt(n.clientY);if(g){const e=g.top+o._bodyRectangle.y-o.scrollable.y+g.height/2;d=g.dataIndex,c=i.getAt(d),u=n.clientY>e}else n.clientY<o._bodyRectangle.y?(d=0,c=i.first,u=!1):(d=i.count-1,c=i.last,u=!0),g=o.rowManager.getRow(d);if(c!==r.overRecord||r.after!==u){if(r.overRecord=c,r.after=u,c===e.startRecord&&(b=!1),i.tree){if(p=u?c.nextSibling:c,e.records.some((e=>e.contains(c)))&&(b=!1),e.parent){const n=a.getRowById(e.parent);null==n||n.removeCls("b-row-reordering-target-parent")}if(e.parent=c.parent,!e.parent.isRoot){const n=a.getRowById(e.parent);null==n||n.addCls("b-row-reordering-target-parent")}r.clearTimeout(r.hoverTimer),c&&c.isParent&&!c.isExpanded(i)&&(r.hoverTimer=r.setTimeout((()=>o.expand(c)),r.hoverExpandTimeout))}else p=u?i.getAt(d+1):c;DomHelper.setTranslateY(r.dropIndicator,g.top+(u?g.height:0)),e.insertBefore=p,e.valid=r.reorderValid=b}else e.valid=r.reorderValid}async onDrop(e){const n=this,r=e.context;if(r.valid=r.valid&&n.reorderValid,r.valid){r.asyncCleanup=r.async=!0,n.client.store.tree&&(r.oldPositionContext=r.records.map((e=>{var n;return{record:e,parentId:null===(n=e.parent)||void 0===n?void 0:n.id,parentIndex:e.parentIndex}})));!1===await n.trigger("gridRowBeforeDropFinalize",e)&&(r.valid=!1),r.valid,r.element.classList.add("b-dropping"),await EventHelper.waitForTransitionEnd({element:r.element.firstElementChild,property:"transform",thisObj:n.client}),await n.finalizeReorder(r)}n.clearTimeout(n.hoverTimer),n.overRecord=n.after=null,n.trigger("gridRowDrop",e)}async finalizeReorder(e){const{grid:n}=this,{store:r}=n;let o=e.records;if(e.valid=e.valid&&!o.some((e=>!r.includes(e))),e.valid){let i;r.tree?(o=o.filter((e=>!e.parent||!o.includes(e.parent))),i=await e.parent.tryInsertChild(o,e.insertBefore),n.rowManager.forEach((e=>e.removeCls("b-row-reordering-target-parent"))),e.valid=!1!==i):r.move(o,e.insertBefore),r.clearSorters()}e.finalize(e.valid),n.element.classList.remove("b-row-reordering")}onReset(){const e=this,n=e.grid.features.cellEdit;e.grid.element.classList.remove("b-row-reordering"),n&&(n.disabled=e.cellEditDisabledState),e.dropIndicator.remove(),DomHelper.removeClsGlobally(e.grid.element,"b-row-reordering-target-parent")}onPaint(){this.init()}}RowReorder.featureClass="",RowReorder._$name="RowReorder",GridFeatureManager.registerFeature(RowReorder,!1),GridFeatureManager.registerFeature(RowReorder,!0,"Gantt");class Search extends(Delayable(InstancePlugin)){static get $name(){return"Search"}static get configurable(){return{limit:1e3}}static get properties(){return{hitCls:"b-search-hit",hitCellCls:"b-search-hit-cell",hitCellBadgeCls:"b-search-hit-cell-badge",hitTextCls:"b-search-hit-text",hitColumns:new Set}}construct(e,n){super.construct(e,n),Object.assign(this,{grid:e,find:"",hitEls:[],treeWalker:e.setupTreeWalker(e.element,NodeFilter.SHOW_TEXT,(()=>NodeFilter.FILTER_ACCEPT),!1)}),e.on({expandNode:"onTreeNodeExpand",thisObj:this})}onTreeNodeExpand(){this.find&&this.requestAnimationFrame(this.search,[this.find,!1,!0])}doDestroy(){this.clear(!0),super.doDestroy()}doDisable(e){e&&this.clear(),super.doDisable(e)}get store(){return this.grid.store}static get pluginConfig(){return{chain:["populateCellMenu","onElementKeyDown"]}}search(e,n=!0,r=!1){const o=this;if(!e)return o.clear();if(!r&&e===o.find||o.disabled)return;const{grid:i,store:a}=o,l=i.columns.visibleColumns.filter((e=>!1!==e.searchable)).map((e=>e.field)),c=a.search(e,l);let d=1;if(Object.assign(o,{foundMap:{},prevFound:o.found,found:c,find:e,findRe:new RegExp(`(\\s+)?(${StringHelper.escapeRegExp(String(e))})(\\s+)?`,"ig")}),o.clearHits(),c){o.hitColumns.forEach((e=>{e.disableHtmlEncode=!1})),o.hitColumns.clear();for(const e of c){o.foundMap[e.field+"-"+e.id]=d++;const n=i.columns.get(e.field);if(n&&!o.hitColumns.has(n)&&(n.disableHtmlEncode=!0,o.hitColumns.add(n)),d>o.limit)break}return o.listenersInitialized||(i.rowManager.on({name:"renderCell",renderCell:"renderCell",thisObj:o}),a.on({name:"storeRefresh",[`refresh${i.asyncEventSuffix}`]:"onStoreRefresh",thisObj:o}),o.listenersInitialized=!0),i.refreshRows(),i.trigger("search",{grid:i,find:e,found:c}),n&&!o.isHitFocused&&o.gotoNextHit(!0),c}}clearHits(){for(const e of DomHelper.children(this.grid.element,"."+this.hitCls)){e.classList.remove(this.hitCls),e.classList.remove(this.hitCellCls);const n=DomDataStore.get(e).row;n.forceInnerHTML=!0,n.renderCell({cellElement:e}),n.forceInnerHTML=!1}}clear(e=!1){const n=this,{grid:r}=n;n.foundMap&&delete n.foundMap,delete n.find,n.clearHits(),n.listenersInitialized&&(this.detachListeners("renderCell"),this.detachListeners("storeRefresh"),n.listenersInitialized=!1),e||r.trigger("clearSearch",{grid:r})}get foundCount(){var e,n;return null!==(e=null===(n=this.found)||void 0===n?void 0:n.length)&&void 0!==e?e:0}get isHitFocused(){const{grid:e}=this,n=e.focusedCell?e.store.indexOf(e.focusedCell.id):-1,r=e.focusedCell?e.columns.getById(e.focusedCell.columnId):null;return-1!==n&&this.found.some((e=>e.index===n&&r&&e.field===r.field))}gotoNextHit(e=!1){var n;const r=this;if(null===(n=r.found)||void 0===n||!n.length)return;const{grid:o}=r,i=o.focusedCell||o.lastFocusedCell,a=i&&!e?o.store.indexOf(i.id):-1,l=r.found.findIndex((e=>e.index>a));-1!==l&&r.gotoHit(l)}gotoPrevHit(){var e;const n=this;if(null===(e=n.found)||void 0===e||!e.length)return;const{grid:r,found:o}=n,i=r.focusedCell||r.lastFocusedCell,a=i?r.store.indexOf(i.id):0;for(let e=o.length-1;e--;e>=0){if(o[e].index<a){n.gotoHit(e);break}}}gotoHit(e){const{grid:n}=this,r=this.found[e];return r&&n.focusCell({field:r.field,id:r.id}),Boolean(r)}gotoFirstHit(){this.gotoHit(0)}gotoLastHit(){this.gotoHit(this.found.length-1)}renderCell({cellElement:e,column:n,record:r,value:o}){var i;const a=this,{treeWalker:l,findRe:c,hitTextCls:d}=a,u=null===(i=a.foundMap)||void 0===i?void 0:i[n.field+"-"+r.id];if(u){e.classList.add(a.hitCls);const n=DomHelper.down(e,".b-grid-cell-value,.b-tree-cell-value")||e;if(String(o).toLowerCase()===String(a.find).toLowerCase())n.innerHTML=`<span class="${a.hitTextCls}">${n.innerHTML}</span><div class="${a.hitCellBadgeCls}">${u}</div>`;else{l.currentNode=n;for(let e=l.nextNode();e&&n.contains(e);){const n=e,r=e.nodeValue,o=[];e=l.nextNode();let i=c.lastIndex;for(let e=c.exec(r);e;e=c.exec(r)){const n=r.substring(i,e.index),a=e[1]?"":"",l=e[2],u=e[3]?"":"";o.push(`${StringHelper.encodeHtml(n)}${a}<span class="${d}">${l}</span>${u}`),i=c.lastIndex}o.push(StringHelper.encodeHtml(r.substring(i))),n.parentNode.insertBefore(DomHelper.createElementFromTemplate(o.join(""),{fragment:!0}),n),n.remove()}DomHelper.createElement({parent:e,className:a.hitCellBadgeCls,text:u})}a.hitEls.push(e)}}populateCellMenu({column:e,record:n,items:r}){const o=this;e.searchable&&(r.search={text:"L{searchForValue}",localeClass:o,icon:"b-fw-icon b-icon-search",cls:"b-separator",weight:200,disabled:o.disabled,onItem:()=>{let r=window.getSelection().toString();r||(r=n[e.field]),o.search(r)}})}onElementKeyDown(e){const n=this;n.find&&""!==n.find&&("F3"===e.key||"g"===e.key.toLowerCase()&&(e.ctrlKey||e.metaKey))&&(e.preventDefault(),e.shiftKey?n.gotoPrevHit():n.gotoNextHit())}onStoreRefresh(){this.search(this.find,!1,!0)}}Search.featureClass="b-search",Search._$name="Search",GridFeatureManager.registerFeature(Search);class Sort extends InstancePlugin{static get $name(){return"Sort"}static get configurable(){return{multiSort:!0,prioritizeColumns:!1}}static get properties(){return{ignoreRe:new RegExp(["b-grid-header-resize-handle","b-filter-icon"].join("|")),sortableCls:"b-sortable",sortedCls:"b-sort",sortedAscCls:"b-asc",sortedDescCls:"b-desc"}}construct(e,n){n=this.processConfig(n),this.grid=e,this.bindStore(e.store),super.construct(e,n)}processConfig(e){return"string"==typeof e||Array.isArray(e)?{field:e,ascending:null}:e}setConfig(e){super.setConfig(this.processConfig(e))}bindStore(e){this.detachListeners("store"),e.on({name:"store",beforeSort:"onStoreBeforeSort",sort:"syncHeaderSortState",thisObj:this})}set field(e){const n=this.grid.columns.get(e);n&&"object"==typeof n.sortable&&(n.sortable.field=n.sortable.property||e,e=n.sortable),this.store.sort(e,this.ascending)}get store(){return this.grid.store}static get pluginConfig(){return{chain:["onElementClick","populateHeaderMenu","getColumnDragToolbarItems","renderHeader","onPaint","bindStore"]}}syncHeaderSortState(){const e=this,{grid:n}=e;if(!n.hideHeaders&&n.isPainted){const o=e.store.sorters,i=o.length,a=new DomClassList;let l;for(const c of n.columns.visibleColumns){var r;const n=c.element,d=null===(r=c.textWrapper)||void 0===r?void 0:r.dataset;(null==d?void 0:d.sortIndex)&&delete d.sortIndex,a.value=n.classList,!1!==c.sortable?(a.add(e.sortableCls),l=o.find((e=>e.field===c.field||e.sortFn&&e.sortFn===c.sortable.sortFn)),l?(i>1&&d&&(d.sortIndex=o.indexOf(l)+1),a.add(e.sortedCls),l.ascending?(a.add(e.sortedAscCls),a.remove(e.sortedDescCls)):(a.add(e.sortedDescCls),a.remove(e.sortedAscCls))):(a.remove(e.sortedCls),a["b-group"]||(a.remove(e.sortedAscCls),a.remove(e.sortedDescCls)))):a.remove(e.sortableCls),DomHelper.syncClassList(n,a)}}}populateHeaderMenu({column:e,items:n}){const r=this,{store:o}=r,i=_objectSpread2(_objectSpread2({},e.sortable),{},{field:e.field,columnOwned:!0});if(!1!==e.sortable&&(n.sortAsc={text:"L{sortAscending}",localeClass:r,icon:"b-fw-icon b-icon-sort-asc",cls:"b-separator",weight:300,disabled:r.disabled,onItem:()=>o.sort(i,!0)},n.sortDesc={text:"L{sortDescending}",localeClass:r,icon:"b-fw-icon b-icon-sort-desc",weight:310,disabled:r.disabled,onItem:()=>o.sort(i,!1)},r.multiSort&&r.grid.columns.records.some((e=>e.sortable)))){const a=o.sorters.find((n=>n.field===e.field||e.sortable.sortFn&&e.sortable.sortFn===n.sortFn));n.multiSort={text:"L{multiSort}",localeClass:r,icon:"b-fw-icon b-icon-sort",weight:320,disabled:r.disabled,menu:{addSortAsc:{text:a?"L{toggleSortAscending}":"L{addSortAscending}",localeClass:r,icon:"b-fw-icon b-icon-sort-asc",disabled:a&&(null==a?void 0:a.ascending),weight:330,onItem:()=>o.addSorter(i,!0)},addSortDesc:{text:a?"L{toggleSortDescending}":"L{addSortDescending}",localeClass:r,icon:"b-fw-icon b-icon-sort-desc",disabled:a&&!a.ascending,weight:340,onItem:()=>o.addSorter(i,!1)},removeSorter:{text:"L{removeSorter}",localeClass:r,icon:"b-fw-icon b-icon-remove",weight:350,disabled:!a,onItem:()=>{o.removeSorter(i.field)}}}}}}getColumnDragToolbarItems(e,n){const r=this,{store:o,disabled:i}=r;if(!1!==e.sortable){const a=o.sorters.find((n=>n.field===e.field));n.push({text:"L{sortAscendingShort}",group:"L{sort}",localeClass:r,icon:"b-icon b-icon-sort-asc",ref:"sortAsc",cls:"b-separator",weight:105,disabled:i,onDrop:({column:e})=>o.sort(e.field,!0)},{text:"L{sortDescendingShort}",group:"L{sort}",localeClass:r,icon:"b-icon b-icon-sort-desc",ref:"sortDesc",weight:105,disabled:i,onDrop:({column:e})=>o.sort(e.field,!1)},{text:"L{addSortAscendingShort}",group:"L{multiSort}",localeClass:r,icon:"b-icon b-icon-sort-asc",ref:"multisortAddAsc",disabled:i||a&&a.ascending,weight:105,onDrop:({column:e})=>o.addSorter(e.field,!0)},{text:"L{addSortDescendingShort}",group:"L{multiSort}",localeClass:r,icon:"b-icon b-icon-sort-desc",ref:"multisortAddDesc",disabled:i||a&&!a.ascending,weight:105,onDrop:({column:e})=>o.addSorter(e.field,!1)},{text:"L{removeSorterShort}",group:"L{multiSort}",localeClass:r,icon:"b-icon b-icon-remove",ref:"multisortRemove",weight:105,disabled:i||!a,onDrop:({column:e})=>o.removeSorter(e.field)})}return n}onStoreBeforeSort({sorters:e}){const{columns:n}=this.client;for(let o=0;o<e.length;o++){var r;const i=e[o],a=(i.columnOwned||this.prioritizeColumns)&&n.get(i.field);null!=a&&null!==(r=a.sortable)&&void 0!==r&&r.sortFn&&(e[o]=_objectSpread2(_objectSpread2(_objectSpread2({},i),a.sortable),{},{columnOwned:!0}))}}onElementClick(e){const n=this,r=n.store,o=e.target,i=DomHelper.up(o,".b-grid-header.b-sortable"),a=null==i?void 0:i.dataset.column;if(!n.ignoreRe.test(o.className)&&!n.disabled&&i&&a){const o=n.grid.columns.getById(i.dataset.columnId);if(r.isGrouped&&r.groupers.find((e=>e.field===a))&&!e.shiftKey)return;if(o.sortable&&!e.shiftKey)if(e.ctrlKey&&e.altKey)r.removeSorter(o.field);else{const n={columnOwned:!0,field:o.field};"object"==typeof o.sortable&&ObjectHelper.assign(n,o.sortable),r.sort(n,null,e.ctrlKey)}}}renderHeader(){this.syncHeaderSortState()}onPaint(){this.syncHeaderSortState()}}Sort.featureClass="b-sort",Sort._$name="Sort",GridFeatureManager.registerFeature(Sort,!0);class StickyCells extends InstancePlugin{static get $name(){return"StickyCells"}static get defaultConfig(){return{contentSelector:null,currentTopRowCls:"b-sticky-cells-current-top-row"}}static get pluginConfig(){return{before:["renderRows"]}}construct(e,n){super.construct(e,n),e.on({scroll:"onGridScroll",thisObj:this}),Object.assign(this,DomHelper.createElement({reference:"element",parent:e.element,className:"b-grid-sticky-row",children:[{reference:"contentElement",className:"b-grid-cell"}]},!1,{})),this.removeClasses={"b-focused":!1,"b-hover":!1,"b-selected":!1,[this.currentTopRowCls]:!1}}renderRows(){this.element.classList.add("b-hide-visibility")}onGridScroll(){const e=this,{client:n,element:r,contentElement:o}=e,i=Rectangle.client(n.bodyContainer).roundPx(),a=n.rowManager.getRowAt(i.y),l=a!==e.currentTopRow;if(a){l&&(e.currentTopRow&&(e.currentTopRow.removeCls(e.currentTopRowCls),e.currentTopRow.removeCls("b-not-enough-height")),e.currentTopRow=a,a.addCls(e.currentTopRowCls),o.innerHTML="",o.appendChild(e.updateStickyContent()));const n=e.currentTopRow.bottom-e.client.scrollable.y<=e.stickyContentHeight;e.element.classList[n?"add":"remove"]("b-hide-visibility"),e.currentTopRow[n?"addCls":"removeCls"]("b-not-enough-height"),i.y+=e.stickyContentTop,DomHelper.alignTo(r,e.stickyEls[0],{align:"t0-t0",constrainTo:i},!0)}e.lastProcessedTopRow=a}updateStickyContent(){const e=this,{currentTopRow:n,removeClasses:r}=e,o={"b-grid-sticky-row":1},i={},a=e.stickyContent||(e.stickyContent=document.createDocumentFragment()),l=e.stickyEls||(e.stickyEls=[]);for(l.forEach((e=>{e.classList.remove("b-sticky-content-el")})),l.length=0,n.eachElement((n=>{l.push(...n.querySelectorAll(e.contentSelector))}));a.firstChild;)a.remove(a.firstChild);return e.stickyContentHeight=0,e.stickyContentTop=0,l.map((n=>{n.closest(".b-grid-cell").classList.forEach((e=>i[e]=1)),n.closest(".b-grid-row").classList.forEach((e=>o[e]=1)),Object.assign(i,r),Object.assign(o,r);const l=n.offsetTop;e.stickyContentTop=Math.max(e.stickyContentTop,l),n.style.alignSelf="flex-end",e.stickyContentHeight=Math.max(e.stickyContentHeight,e.currentTopRow.height-n.offsetTop+l),n.style.alignSelf="";const c=n.cloneNode(!0);return n.classList.add("b-sticky-content-el"),a.appendChild(c),c})),i["b-focused"]=!1,DomHelper.syncClassList(e.contentElement,i),DomHelper.syncClassList(e.element,o),a}}StickyCells._$name="StickyCells",GridFeatureManager.registerFeature(StickyCells,!1);class Stripe extends InstancePlugin{static get $name(){return"Stripe"}construct(e,n){super.construct(e,n),e.on({renderrow:"onRenderRow",thisObj:this})}doDisable(e){this.isConfiguring||this.client.refreshRows(),super.doDisable(e)}onRenderRow({row:e}){const{disabled:n}=this,r=e.dataIndex%2==0;e.assignCls({"b-even":!n&&r,"b-odd":!n&&!r})}}Stripe._$name="Stripe",GridFeatureManager.registerFeature(Stripe);class Summary extends(SummaryFormatter(InstancePlugin)){static get configurable(){return{selectedOnly:null,hideFooters:!1}}static get pluginConfig(){return{chain:["renderRows","bindStore"]}}static get $name(){return"Summary"}construct(e,n){this.grid=e,super.construct(e,n),this.bindStore(e.store),e.hideFooters=this.hideFooters}bindStore(e){this.detachListeners("store"),e.on({name:"store",change:"onStoreChange",thisObj:this})}get store(){return this.grid.store}doDestroy(){super.doDestroy()}doDisable(e){super.doDisable(e),e?this.grid.element.classList.add("b-summary-disabled"):(this.updateSummaries(),this.grid.element.classList.remove("b-summary-disabled"))}renderRows(){this.updateSummaries()}updateSummaries(){const e=this,{grid:n,store:r}=e,o=DomHelper.children(n.element,".b-grid-footer"),i=e.selectedOnly&&n.selectedRecords.length>0,a=(r.isFiltered?r.storage.values:r.allRecords).filter((e=>!e.isSpecialRow&&(!i||n.isSelected(e))));n.columns.forEach((e=>{e.summaries&&e.summaries.forEach((e=>{"seed"in e&&("initialSeed"in e||(e.initialSeed=e.seed),["number","string","date"].includes(typeof e.initialSeed)?e.seed=e.initialSeed:e.seed=Object.assign({},e.initialSeed))}))})),o.forEach((r=>{if(!r.dataset.column)return;const o=n.columns.get(r.dataset.column),i=e.generateHtml(o,a,"b-grid-footer-summary");(o.summaries?o.summaries.length:!!o.sum)&&(r.children.length?DomHelper.sync(i,r.firstElementChild):r.innerHTML=i)}))}onStoreChange({action:e,changes:n}){let r=!0;this.disabled||("update"===e&&(r=Object.keys(n).some((e=>{const n=this.grid.columns.get(e);return Boolean(n)&&(Boolean(n.sum)||Boolean(n.summaries))}))),r&&this.updateSummaries())}updateSelectedOnly(e){const n=this;n.detachListeners("selectionChange"),e&&n.grid.on({name:"selectionChange",selectionChange:n.refresh,thisObj:n}),n.refresh()}refresh(){this.updateSummaries()}}Summary.featureClass="b-summary",Summary._$name="Summary",GridFeatureManager.registerFeature(Summary);const Vs=Promise.resolve();class Tree extends(InstancePlugin.mixin(Delayable)){static get $name(){return"Tree"}static get defaultConfig(){return{expandOnCellClick:!1}}static get pluginConfig(){return{assign:["collapseAll","expandAll","collapse","expand","expandTo","toggleCollapse"],before:["navigateRight","navigateLeft"],chain:["onElementClick","onElementKeyDown","bindStore"]}}construct(e,n){super.construct(e,n);const r=e.columns.find((e=>e instanceof TreeColumn));Object.assign(this,{grid:e,rowManager:e.rowManager,treeColumn:r}),e.store&&this.bindStore(e.store)}doDisable(e){}get store(){return this.grid.store}bindStore(e){this.detachListeners("store"),e.on({name:"store",beforeLoadChildren:"onBeforeLoadChildren",loadChildren:"onLoadChildren",loadChildrenException:"onLoadChildrenException",beforeToggleNode:"onBeforeToggleNode",thisObj:this})}async toggleCollapse(e,n,r=!1){const o=this,{store:i,grid:a}=o,{rowManager:l}=a,c=i.getById(e),d=c.instanceMeta(i);if(await i.toggleCollapse(c,n)){const e=l.getRowFor(c);if(e){const n=e.getCell(o.treeColumn.id);n&&e.renderCell({cellElement:n,record:c})}o.isTogglingNode||(a.element.classList.add("b-toggling-node"),o.isTogglingNode=!0,o.requestAnimationFrame((()=>{a.element.classList.remove("b-toggling-node"),o.isTogglingNode=!1}))),a.trigger(d.collapsed?"collapseNode":"expandNode",{source:a,record:c}),a.trigger("toggleNode",{source:a,record:c,collapse:d.collapsed})}}async collapse(e){return this.toggleCollapse(e,!0)}async expand(e){return this.toggleCollapse(e,!1)}onBeforeToggleNode({record:e,collapse:n}){this.grid.trigger("beforeToggleNode",{record:e,collapse:n})}onBeforeLoadChildren({source:e,params:n}){const r=e.getById(n[e.modelClass.idField]),o=this.grid.rowManager.getRowFor(r);o&&o.addCls("b-loading-children")}onLoadChildren({source:e,params:n}){const r=e.getById(n[e.modelClass.idField]),o=this.grid.rowManager.getRowFor(r);o&&o.removeCls("b-loading-children")}onLoadChildrenException({record:e}){const n=this.grid.rowManager.getRowFor(e);n&&n.removeCls("b-loading-children")}expandOrCollapseAll(e=!0,n=this.store.rootNode){const{grid:r,store:o}=this,i=[],a=[];return r.trigger("beforeToggleAllNodes",{source:r,collapse:e}),o.suspendEvents(),o.traverse((n=>{const r=n.instanceMeta(o);n.isLeaf||(e&&!r.collapsed?(this.toggleCollapse(n,!0,!0),a.push(...n.children)):!e&&r.collapsed&&(Array.isArray(n.children)&&a.push(...n.children),i.push(this.toggleCollapse(n,!1,!0))))}),n,n===o.rootNode),o.resumeEvents(),(e?Vs:Promise.all(i)).then((()=>{r.refreshRows(e),a.length&&(e?o.trigger("remove",{records:a,isCollapse:!0,isCollapseAll:!0}):o.trigger("add",{records:a,isExpand:!0,isExpandAll:!0})),r.trigger("toggleAllNodes",{source:r,collapse:e})}))}async collapseAll(){return this.expandOrCollapseAll(!0)}async expandAll(){return this.expandOrCollapseAll(!1)}async expandTo(e){const n=this,r=n.store.getById(e);if(!1===r.instanceMeta(n.store).hiddenByCollapse)return;let o=!1,i=r.parent;const a=[];for(;i&&!i.isRoot;)a.push(i),i=i.parent;await a.reverse().forEach((async e=>{n.isDestroyed||(e.instanceMeta(n.store).collapsed&&(o=!0),await n.toggleCollapse(e,!1,!0))})),o&&n.grid.refreshRows(),n.isDestroyed||await n.grid.scrollRowIntoView(r)}onElementClick(e){const n=this,r=e.target,o=n.grid.getCellDataFromEvent(e),i=r.closest(".b-tree-expander");(i||n.expandOnCellClick&&o&&o.record.isParent)&&(i&&e.preventDefault(),n.toggleCollapse(o.record))}onElementKeyDown(e){const n=this.grid;e.target===n.focusElement&&" "===e.key&&n.focusedCell&&(e.preventDefault(),this.toggleCollapse(n.focusedCell.id))}navigateRight(e){const n=this,r=n.grid,o=r.focusedCell;if(o){const i=r.store.getById(o.id);if(r.columns.getById(o.columnId).tree&&(e.shiftKey||1===r.columns.count))return i.isParent&&i.instanceMeta(r.store).collapsed?n.expand(i):r.navigateDown(e),!1}}navigateLeft(e){const n=this,r=n.grid,o=r.focusedCell;if(o){const i=r.store.getById(o.id);if(r.columns.getById(o.columnId).tree&&(e.shiftKey||1===r.columns.count))return i.isParent&&!i.instanceMeta(r.store).collapsed?n.collapse(i):i.parent&&r.focusCell({id:i.parent.id,columnId:o.columnId}),!1}}}Tree.featureClass="b-tree",Tree._$name="Tree",GridFeatureManager.registerFeature(Tree,!1,"Grid"),GridFeatureManager.registerFeature(Tree,!0,"TreeGrid");const Ws={all:"all",visible:"visible"},Us={A6:{width:4.13,height:5.81},A5:{width:5.81,height:8.25},A4:{width:8.25,height:11.69},A3:{width:11.69,height:16.49},Legal:{width:8.5,height:14},Letter:{width:8.5,height:11}},Gs={portrait:"portrait",landscape:"landscape"},Ys={pdf:"pdf",png:"png"},Ks={pdf:"application/pdf",png:"image/png"};var LocalizableComboItems=e=>class LocalizableComboItems extends(e||Combo){static get $name(){return"LocalizableComboItems"}static get defaultConfig(){return{items:!0}}set items(e){!0===e&&(e=this.buildLocalizedItems()),super.items=e}get items(){return super.items}construct(...e){this.inConstruct=!0,super.construct(...e),this.inConstruct=!1}buildLocalizedItems(){return[]}updateLocalizedItems(){const e=this;if(e.store&&!e.inConstruct){const{value:n}=e;e.store.data=e.buildLocalizedItems(),e.value=null,e.value=n,e.syncInputFieldValue(!0)}}updateLocalization(){this.updateLocalizedItems(),super.updateLocalization()}};class LocalizableCombo extends(LocalizableComboItems(Combo)){static get $name(){return"LocalizableCombo"}static get type(){return"localizablecombo"}}LocalizableCombo.initClass(),LocalizableCombo._$name="LocalizableCombo";class ExportRowsCombo extends LocalizableCombo{static get $name(){return"ExportRowsCombo"}static get type(){return"exportrowscombo"}static get defaultConfig(){return{editable:!1}}buildLocalizedItems(){return[{id:Ws.all,text:this.L("L{all}")},{id:Ws.visible,text:this.L("L{visible}")}]}}ExportRowsCombo.initClass(),ExportRowsCombo._$name="ExportRowsCombo";class ExportOrientationCombo extends LocalizableCombo{static get $name(){return"ExportOrientationCombo"}static get type(){return"exportorientationcombo"}static get defaultConfig(){return{editable:!1}}buildLocalizedItems(){return[{id:Gs.portrait,text:this.L("L{portrait}")},{id:Gs.landscape,text:this.L("L{landscape}")}]}}function buildComboItems(e,n=(e=>e)){return Object.keys(e).map((e=>({id:e,text:n(e)})))}ExportOrientationCombo.initClass(),ExportOrientationCombo._$name="ExportOrientationCombo";class ExportDialog extends Popup{static get $name(){return"ExportDialog"}static get type(){return"exportdialog"}static get configurable(){return{autoShow:!1,autoClose:!1,closable:!0,centered:!0,client:null,autoSelectVisibleColumns:!0,hidePNGMultipageOption:!0,title:"L{exportSettings}",defaults:{localeClass:this},items:{columnsField:{type:"combo",label:"L{ExportDialog.columns}",store:{},valueField:"id",displayField:"text",multiSelect:!0,weight:100},rowsRangeField:{type:"exportrowscombo",label:"L{ExportDialog.rows}",value:"all",weight:200},exporterTypeField:{type:"localizablecombo",label:"L{ExportDialog.exporterType}",editable:!1,value:"singlepage",buildLocalizedItems:function(){const e=this.parent;return e.exporters.map((n=>({id:n.type,text:e.optionalL(n.title,this)})))},onChange({value:e}){this.owner.widgetMap.alignRowsField.hidden="singlepage"===e,this.owner.widgetMap.repeatHeaderField.hidden="multipagevertical"!==e},weight:300},alignRowsField:{type:"checkbox",label:"L{ExportDialog.alignRows}",checked:!1,hidden:!0,weight:400},repeatHeaderField:{type:"checkbox",label:"L{ExportDialog.repeatHeader}",localeClass:this,hidden:!0,weight:500},fileFormatField:{type:"combo",label:"L{ExportDialog.fileFormat}",localeClass:this,editable:!1,value:"pdf",items:[],onChange({value:e,oldValue:n}){const r=this.parent;if(r.hidePNGMultipageOption){const o=r.widgetMap.exporterTypeField,i=o.store.find((e=>"singlepage"===e.id));e===Ys.png&&i?(this._previousDisabled=o.disabled,o.disabled=!0,this._previousValue=o.value,o.value="singlepage"):n===Ys.png&&this._previousValue&&(o.disabled=this._previousDisabled,o.value=this._previousValue)}},weight:600},paperFormatField:{type:"combo",label:"L{ExportDialog.paperFormat}",editable:!1,value:"A4",items:[],weight:700},orientationField:{type:"exportorientationcombo",label:"L{ExportDialog.orientation}",value:"portrait",weight:800}},bbar:{defaults:{localeClass:this},items:{exportButton:{color:"b-green",text:"L{ExportDialog.export}",weight:100,onClick:"up.onExportClick"},cancelButton:{color:"b-gray",text:"L{ExportDialog.cancel}",weight:200,onClick:"up.onCancelClick"}}}}}construct(e={}){const n=this,{client:r}=e;if(!r)throw new Error("`client` config is required");n.columnsStore=r.columns.chain((e=>e.isLeaf&&e.exportable)),n.applyInitialValues(e),super.construct(e),Se.on({locale:"onLocaleChange",prio:-1,thisObj:n})}applyInitialValues(e){const n=this,r=e.items=e.items||{};e.width=e.width||n.L("L{width}"),e.defaults=e.defaults||{},e.defaults.labelWidth=e.defaults.labelWidth||n.L("L{ExportDialog.labelWidth}"),r.columnsField=r.columnsField||{},r.fileFormatField=r.fileFormatField||{},r.paperFormatField=r.paperFormatField||{},r.fileFormatField.items=buildComboItems(Ys,(e=>e.toUpperCase())),r.paperFormatField.items=buildComboItems(Us),r.columnsField.store=n.columnsStore}onBeforeShow(){var e;const{columnsField:n,alignRowsField:r,exporterTypeField:o,repeatHeaderField:i}=this.widgetMap;this.autoSelectVisibleColumns&&(n.value=this.columnsStore.query((e=>!e.hidden))),r.hidden="singlepage"===o.value,i.hidden="multipagevertical"!==o.value,null===(e=super.onBeforeShow)||void 0===e||e.call(this,...arguments)}onLocaleChange(){const e=this.L("L{labelWidth}");this.width=this.L("L{width}"),this.eachWidget((n=>{n instanceof Field&&(n.labelWidth=e)}))}onExportClick(){const e=this.values;this.trigger("export",{values:e})}onCancelClick(){this.trigger("cancel"),this.hide()}get values(){const e=/field/i,n={};return this.eachWidget((r=>{e.test(r.ref)&&(n[r.ref.replace(e,"")]=r instanceof Checkbox?r.checked:r.value)})),n}}ExportDialog.initClass(),ExportDialog._$name="ExportDialog";class Exporter extends(Delayable(Events(Localizable(Base)))){static get defaultConfig(){return{translateURLsToAbsolute:!0,keepPathName:!0}}pageTpl(e){const{title:n,header:r,footer:o,styles:i,htmlClasses:a,bodyStyle:l,bodyClasses:c=[],paperHeight:d,paperWidth:u,html:p}=e;return c.push(`b-${this.constructor.type}`),DomHelper.scrollBarWidth?c.push("b-visible-scrollbar"):c.push("b-overlay-scrollbar"),BrowserHelper.isChrome?c.push("b-chrome"):BrowserHelper.isSafari?c.push("b-safari"):BrowserHelper.isFirefox?c.push("b-firefox"):BrowserHelper.isEdge&&c.push("b-edge"),TemplateHelper.tpl`
            <!DOCTYPE html>
            <html class="${a}" style="width: ${u}in; height: ${d}in;">
                <head>
                    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
                    <title>${n}</title>
                    ${i.join("")}
                </head>
                <body class="b-export ${c.join(" ")}" style="width: ${u}in; height: ${d}in; ${l}">
                    <div class="b-export-content">
                        ${r&&`<div class="b-export-header" style="width: 100%">${r}</div>`}
                        <div class="b-export-body"><div class="b-export-viewport">${p}</div></div>
                        ${o&&`<div class="b-export-footer" style="width: 100%">${o}</div>`}
                    </div>
                </body>
            </html>`}get stylesheets(){const e=this;if(e._stylesheets)return e._stylesheets;const n=e.translateURLsToAbsolute,r=window.origin,o=Array.from(document.querySelectorAll('link[rel="stylesheet"], style')),i=[];return o.forEach((o=>{if(o=o.cloneNode(!0),n&&o.href){let e;e=!0===n?o.href:this.keepPathName?o.href.replace(r,n):new URL(o.getAttribute("href"),n),o.setAttribute("href",e)}let a;if(a=BrowserHelper.isIE11&&o.styleSheet&&/style/i.test(o.tagName)?`<style type="text/css">${o.styleSheet.cssText}</style>`:o.outerHTML,n&&/style/i.test(o.tagName)){const r=e.getStyleTagURLConverter(n);a=a.replace(/url\(['"]?(.+?)['"]?\)/g,r)}i.push(a)})),i.push("<style>\n                body, html {\n                    overflow: auto;\n                }\n                body {\n                    position: relative;\n                    margin: 0;\n                }\n            </style>"),e._stylesheets=i}set stylesheets(e){this._stylesheets=e}getStyleTagURLConverter(e){return function(n,r){let o;try{let i;/^#/.test(r)?o=n:(i=!0===e?window.location.href:this.keepPathName?window.location.href.replace(window.location.origin,e):e,o=`url('${new URL(r,i).href}')`)}catch(e){o=n}return o}.bind(this)}saveState({client:e}){this.state=e.state;const{tbar:n,bbar:r}=e;n&&(this.state.tbar_hidden=n.hidden,n.hide(!1)),r&&(this.state.bbar_hidden=r.hidden,r.hide(!1))}async restoreState({client:e}){const n=[],r=new Set,{tbar:o,bbar:i}=e;r.add(e.scrollable.on({scroll(){n.push(e.scrollable.await("scrollEnd"))}})),e.eachSubGrid((({header:e,scrollable:o})=>{r.add(o.on({scroll(){n.push(o.await("scrollEnd"))}})),r.add(e.scrollable.on({scroll(){n.push(e.scrollable.await("scrollEnd"))}}))})),o&&(o.hidden=this.state.tbar_hidden,delete this.state.tbar_hidden),i&&(i.hidden=this.state.bbar_hidden,delete this.state.bbar_hidden),e.state=this.state,await Promise.all(n),r.forEach((e=>e()))}beforeExport(){this.element=document.createElement("div")}cloneElement(e,n=this.element,r=!0){r&&(n.innerHTML=""),BrowserHelper.isChrome?n.appendChild(e.cloneNode(!0)):n.innerHTML=e.outerHTML,DomHelper.removeEachSelector(n,".b-grid-row");const o=n.querySelector(".b-gridbase > .b-mask");o&&o.remove()}measureElement(e=""){e instanceof HTMLElement&&(e=e.outerHTML);const n=DomHelper.createElement({parent:document.body,style:{visibility:"hidden",position:"absolute"},html:`<div style="height: 1px"></div>${e}<div style="height: 1px"></div>`}),r=n.offsetHeight-2;return n.remove(),r}prepareHTML(e){e instanceof HTMLElement&&(e=e.outerHTML);const n=DomHelper.createElement({parent:document.body,style:{visibility:"hidden",position:"absolute"},html:e}),r=n.querySelectorAll("img");for(let e=0,n=r.length;e<n;e++)r[e].setAttribute("src",r[e].src);const o=n.innerHTML;return n.remove(),o}createPlaceholder(e,n=!0){return n&&(e.innerHTML=""),DomHelper.createElement({parent:e,id:IdHelper.generateId("export")})}getVirtualScrollerHeight(e){let n=0;return e.eachSubGrid((e=>{e.overflowingHorizontally&&(n=DomHelper.scrollBarWidth)})),0===n?n:n+1}inchToPx(e){return 96*e}getScaleValue(e,n){return Math.floor(1e4*e/n)/1e4}getVisibleRowsCount(e){const n=e.rowManager,r=n.rows.indexOf(n.firstVisibleRow),o=n.rows.indexOf(n.lastVisibleRow);let i;return i=-1!==r?-1===o?e.store.count-r:o-r+1:e.store.count,i}async export(e){const n=this;let r;n.beforeExport(),n.saveState(e),await n.prepareComponent(e);try{r=await n.getPages(e)}finally{await n.restoreComponent(e),n.stylesheets=null,await new Promise((e=>n.requestAnimationFrame(e))),await n.restoreState(e)}return r}async getPages(e){const n=this.pagesExtractor(e),r=[];let o;for(;(o=await n.next())&&!o.done;)r.push(o.value);return r}adjustRowBuffer(e){const{contentHeight:n}=this.exportMeta,{rowManager:r}=e;this.oldRowManagerConfig={prependRowBuffer:r.prependRowBuffer,appendRowBuffer:r.appendRowBuffer};const o=Math.ceil(n/r.rowOffsetHeight);r.prependRowBuffer=o,r.appendRowBuffer=o,e.renderRows(),e.rowManager.jumpToPosition(e.scrollable.y)}restoreRowBuffer(e){e.rowManager.prependRowBuffer=this.oldRowManagerConfig.prependRowBuffer,e.rowManager.appendRowBuffer=this.oldRowManagerConfig.appendRowBuffer}async prepareComponent(e){const n=this,{client:r,columns:o,rowsRange:i,keepRegionSizes:a}=e,{rowManager:l}=r,c=n.exportMeta={totalWidth:0,totalHeight:0-n.getVirtualScrollerHeight(r),subGrids:{}};if(r.columns.forEach((e=>{o.includes(e.id)?e.show():e.hide()})),r.rowManager.rowCount>0)if(i===Ws.all)c.firstVisibleDataIndex=l.rows[0].dataIndex,await r.scrollRowIntoView(r.store.first,{block:"start"});else{const n=c.firstVisibleDataIndex=l.firstVisibleRow.dataIndex;await r.scrollRowIntoView(r.store.getAt(n),{block:"start"}),e.alignRows=!0}this.cloneElement(r.element);const{element:d}=n;r.eachSubGrid((e=>{var o;const i=n.createPlaceholder(d.querySelector(`[id="${e.id}"]`),!1);let l;l=null!=a&&a[e.region]?e.element.offsetWidth:e.columns.visibleColumns.reduce(((e,n)=>("number"==typeof n.width?e+=n.width:e+=r.getHeaderElement(n.id).offsetWidth,e)),0),c.totalWidth+=l;const u=(null===(o=e.splitterElement)||void 0===o?void 0:o.offsetWidth)||0;c.totalWidth+=u,c.subGrids[e.region]={id:e.id,headerId:e.header&&e.header.id||null,footerId:e.footer&&e.footer.id||null,rows:[],splitterWidth:u,placeHolder:i,width:l}}))}prepareExportElement(){const{element:e,exportMeta:n}=this;return Object.values(n.subGrids).forEach((({width:n,id:r,headerId:o,footerId:i})=>{[r,o,i].forEach((r=>{if(r){const o=e.querySelector(`[id="${r}"]`);o&&(o.style.width=`${n}px`,o.style.flex="")}}))})),e.innerHTML}async restoreComponent(e){}async scrollRowIntoView(e,n){await e.scrollRowIntoView(e.store.getAt(n),{block:"start"}),await new Promise((e=>this.requestAnimationFrame(e)))}}Exporter.prototype.pagesExtractor=async function*pagesExtractor(){yield""},Exporter._$name="Exporter";class MultiPageExporter extends Exporter{static get $name(){return"MultiPageExporter"}static get type(){return"multipage"}static get title(){return this.L("L{multipage}")}static get exportingPageText(){return"L{exportingPage}"}async stateNextPage({client:e}){const{exportMeta:n}=this;++n.currentPage,++n.verticalPosition,delete n.lastExportedRowBottom,n.verticalPosition>=n.verticalPages&&(n.verticalPosition=n.currentPageTopMargin=0,++n.horizontalPosition,delete n.lastRowDataIndex,await this.scrollRowIntoView(e,n.firstVisibleDataIndex,{block:"start"}))}async prepareComponent(e){await super.prepareComponent(e);const n=this,{exportMeta:r}=n,{client:o,headerTpl:i,footerTpl:a,alignRows:l,rowsRange:c}=e,d=Us[e.paperFormat],u=e.orientation===Gs.portrait,p=u?d.width:d.height,b=u?d.height:d.width,g=n.inchToPx(p),m=n.inchToPx(b),f=Math.ceil(r.totalWidth/g);let v=m;i&&(v-=n.measureElement(i({totalWidth:r.totalWidth,totalPages:-1,currentPage:-1}))),a&&(v-=n.measureElement(a({totalWidth:r.totalWidth,totalPages:-1,currentPage:-1})));let y,x,C=o.store.count;if(c===Ws.visible?(C=n.getVisibleRowsCount(o),y=r.totalHeight+o.height):y=r.totalHeight+o.height-o.bodyHeight+o.scrollable.scrollHeight,l&&c!==Ws.visible){const e=o.rowManager.rowOffsetHeight,n=Math.floor((v-o.headerHeight)/e),r=Math.floor(v/e),i=C-n;x=1+Math.ceil(i/r)}else x=Math.ceil(y/v);Object.assign(r,{paperWidth:p,paperHeight:b,pageWidth:g,pageHeight:m,horizontalPages:f,verticalPages:x,totalHeight:y,contentHeight:v,totalRows:C,totalPages:f*x,currentPage:0,verticalPosition:0,horizontalPosition:0,currentPageTopMargin:0}),this.adjustRowBuffer(o)}async restoreComponent(e){await super.restoreComponent(e),this.restoreRowBuffer(e.client)}async buildPage(e){const n=this,{exportMeta:r}=n,{client:o,headerTpl:i,footerTpl:a,alignRows:l,rowsRange:c}=e,{totalWidth:d,totalPages:u,currentPage:p,subGrids:b,currentPageTopMargin:g,verticalPosition:m,totalRows:f,lastRowDataIndex:v}=r,{rowManager:y}=o,{rows:x}=y,C=c===Ws.visible;Object.values(b).forEach((e=>e.rows=[])),e.rowsRange===Ws.all&&(r.totalHeight=o.height-o.bodyHeight+o.scrollable.scrollHeight-n.getVirtualScrollerHeight(o));let S,D,E,k,T=0,_=0;k=C&&null!=v?v===x[x.length-1].dataIndex?x.length-1:x.findIndex((e=>e.dataIndex===v)):C?x.findIndex((e=>e.bottom>Math.ceil(o.scrollable.y))):x.findIndex((e=>e.bottom+g+o.headerHeight>0));const M=k,R=C||0===m?0:x[k].top+g+o.headerHeight;i&&(D=n.prepareHTML(i({totalWidth:d,totalPages:u,currentPage:p})),T=n.measureElement(D)),a&&(E=n.prepareHTML(a({totalWidth:d,totalPages:u,currentPage:p})),_=n.measureElement(E)),S=r.pageHeight-T-_-R,0===m&&(S-=o.headerHeight);let I,F=0;for(;S>0;){const e=x[k];l&&S<e.offsetHeight?(F=-S,S=0,n.exportMeta.lastExportedRowBottom=x[k-1].bottom):(n.collectRow(e),S-=e.offsetHeight,I=e.dataIndex,(++k===x.length&&S>0||C&&k-M===f)&&(S=0))}const A=x[k-1];if(A&&(r.exactGridHeight=A.bottom+o.footerContainer.offsetHeight+o.headerContainer.offsetHeight,r.lastRowDataIndex=A.dataIndex+1),await n.onRowsCollected(x.slice(M,k),e),C)r.exactGridHeight-=r.scrollableTopMargin=o.scrollable.y;else{const e=y.on("offsetrows",(({offset:e})=>F+=e));await n.scrollRowIntoView(o,I+1),e()}return{html:n.buildPageHtml(),header:D,footer:E,offset:F}}async onRowsCollected(){}collectRow(e){const n=this.exportMeta.subGrids;Object.entries(e.elements).forEach((([e,r])=>{n[e].rows.push(r.outerHTML)}))}buildPageHtml(){const{subGrids:e}=this.exportMeta;let n=this.prepareExportElement();return Object.values(e).forEach((({placeHolder:e,rows:r})=>{const o=e.outerHTML;n=n.replace(o,r.join(""))})),n}prepareExportElement(){const{element:e,exportMeta:n}=this;return n.scrollableTopMargin&&(e.querySelector(".b-grid-vertical-scroller").style.marginTop=`-${n.scrollableTopMargin}px`),super.prepareExportElement()}}MultiPageExporter.prototype.pagesExtractor=async function*pagesExtractor(e){const n=this,{exportMeta:r,stylesheets:o}=n,{totalWidth:i,totalPages:a,paperWidth:l,paperHeight:c,contentHeight:d}=r;let u;for(;(u=r.currentPage)<a;){n.trigger("exportStep",{text:n.L(MultiPageExporter.exportingPageText,{currentPage:u,totalPages:a}),progress:Math.round((u+1)/a*90)});const{html:p,header:b,footer:g,offset:m}=await n.buildPage(e),f=[...o,`\n                <style>\n                    #${e.client.id} {\n                        height: ${r.exactGridHeight}px !important;\n                        width: ${i}px !important;\n                    }\n                    .b-export-body .b-export-viewport {\n                        margin-left : ${-l*r.horizontalPosition}in;\n                        margin-top  : ${r.currentPageTopMargin}px;\n                    }\n                </style>\n            `];r.currentPageTopMargin-=d+m,await n.stateNextPage(e),yield{html:n.pageTpl({html:p,header:b,footer:g,styles:f,paperWidth:l,paperHeight:c})}}},MultiPageExporter._$name="MultiPageExporter";class MultiPageVerticalExporter extends Exporter{static get $name(){return"MultiPageVerticalExporter"}static get type(){return"multipagevertical"}static get title(){return this.L("L{multipagevertical}")}static get exportingPageText(){return"L{exportingPage}"}async stateNextPage({client:e}){const{exportMeta:n}=this,{totalRows:r,processedRows:o,totalPages:i}=n;++n.currentPage,++n.verticalPosition,n.currentPage===i&&o.size!==r&&(++n.totalPages,++n.verticalPages)}estimateTotalPages(e){const n=this,{exportMeta:r}=n,{client:o,headerTpl:i,footerTpl:a,alignRows:l,rowsRange:c,repeatHeader:d}=e,{pageWidth:u,pageHeight:p,totalWidth:b}=r,g=n.getScaleValue(u,b);let m,f=0-n.getVirtualScrollerHeight(o)+o.height-o.bodyHeight+o.scrollable.scrollHeight,v=p/g,y=o.store.count,x=0;if(i&&(v-=n.measureElement(i({totalWidth:b,totalPages:-1,currentPage:-1}))),a&&(v-=n.measureElement(a({totalWidth:b,totalPages:-1,currentPage:-1}))),d&&(v-=o.headerHeight,f-=o.headerHeight),c===Ws.visible){const e=o.rowManager,r=e.firstVisibleRow,i=e.lastVisibleRow;x=r.top,y=n.getVisibleRowsCount(o),f=f-o.scrollable.scrollHeight+i.bottom-r.top}if(l&&!d&&c!==Ws.visible){const e=o.rowManager.rowOffsetHeight,n=Math.floor((v-o.headerHeight)/e),r=Math.floor(v/e),i=y-n;m=1+Math.ceil(i/r)}else m=Math.ceil(f/v);Object.assign(r,{scale:g,contentHeight:v,totalRows:y,totalHeight:f,verticalPages:m,initialScroll:x,horizontalPages:1,totalPages:m})}async prepareComponent(e){await super.prepareComponent(e);const n=this,{exportMeta:r}=n,{client:o}=e,i=Us[e.paperFormat],a=e.orientation===Gs.portrait,l=a?i.width:i.height,c=a?i.height:i.width,d=n.inchToPx(l),u=n.inchToPx(c);Object.assign(r,{paperWidth:l,paperHeight:c,pageWidth:d,pageHeight:u,horizontalPages:1,currentPage:0,verticalPosition:0,horizontalPosition:0,currentPageTopMargin:0,processedRows:new Set}),n.estimateTotalPages(e),n.adjustRowBuffer(o)}async restoreComponent(e){await super.restoreComponent(e),this.restoreRowBuffer(e.client)}async buildPage(e){const n=this,{exportMeta:r}=n,{client:o,headerTpl:i,footerTpl:a,alignRows:l,repeatHeader:c}=e,{totalWidth:d,totalPages:u,currentPage:p,subGrids:b,currentPageTopMargin:g,verticalPosition:m,totalRows:f,contentHeight:v}=r,y=c?0:o.headerHeight,{rowManager:x}=o,{rows:C}=x;Object.values(b).forEach((e=>e.rows=[])),e.rowsRange===Ws.all&&(r.totalHeight=o.height-o.bodyHeight+o.scrollable.scrollHeight-n.getVirtualScrollerHeight(o));let S,D,E,k=e.rowsRange===Ws.visible?C.findIndex((e=>e.bottom>o.scrollable.y)):C.findIndex((e=>e.bottom+g+y>0));const T=k,_=0===m?0:C[k].top+g+y;i&&(D=n.prepareHTML(i({totalWidth:d,totalPages:u,currentPage:p}))),a&&(E=n.prepareHTML(a({totalWidth:d,totalPages:u,currentPage:p}))),S=v-_,0===m&&(S-=y);let M,R=0;for(;S>0;){const o=C[k];l&&S<o.offsetHeight?(R=-S,S=0):(n.collectRow(o),S-=o.offsetHeight,S>0&&r.processedRows.add(o.dataIndex),M=o.dataIndex,(++k===C.length&&S>0||e.rowsRange===Ws.visible&&k-T===f)&&(S=0))}const I=C[k-1];if(I&&(r.exactGridHeight=I.bottom+o.footerContainer.offsetHeight+o.headerContainer.offsetHeight),await n.onRowsCollected(C.slice(T,k),e),e.rowsRange===Ws.visible)r.scrollableTopMargin=o.scrollable.y;else{const e=x.on("offsetrows",(({offset:e})=>R+=e));await n.scrollRowIntoView(o,M+1),e()}return{html:n.buildPageHtml(),header:D,footer:E,offset:R}}async onRowsCollected(){}collectRow(e){const n=this.exportMeta.subGrids;Object.entries(e.elements).forEach((([e,r])=>{n[e].rows.push(r.outerHTML)}))}buildPageHtml(){const{subGrids:e}=this.exportMeta;let n=this.prepareExportElement();return Object.values(e).forEach((({placeHolder:e,rows:r})=>{const o=e.outerHTML;n=n.replace(o,r.join(""))})),n}}MultiPageVerticalExporter.prototype.pagesExtractor=async function*pagesExtractor(e){const n=this,{exportMeta:r,stylesheets:o}=n,{totalWidth:i,paperWidth:a,paperHeight:l,contentHeight:c,scale:d,initialScroll:u}=r;let p,{totalPages:b}=r;for(;(p=r.currentPage)<b;){n.trigger("exportStep",{text:n.L(MultiPageVerticalExporter.exportingPageText,{currentPage:p,totalPages:b}),progress:Math.round((p+1)/b*90)});const{html:g,header:m,footer:f,offset:v}=await n.buildPage(e),y=[...o,`\n                <style>\n                    #${e.client.id} {\n                        width: ${i}px !important;\n                    }\n                    .b-export .b-export-content {\n                        transform: scale(${d});\n                        transform-origin: top left;\n                        height: auto;\n                    }\n                </style>\n            `];if(e.repeatHeader){const n=r.exactGridHeight?`${r.exactGridHeight+r.currentPageTopMargin}px`:"100%";y.push(`\n                <style>\n                    #${e.client.id} {\n                        height: ${n} !important;\n                    }\n                    .b-export .b-export-content {\n                        height: ${100/d}%;\n                    }\n                    .b-export-body {\n                        height: 100%;\n                        display: flex;\n                    }\n                    .b-export-viewport {\n                        height: 100%;\n                    }\n                    .b-grid-vertical-scroller {\n                        margin-top: ${r.currentPageTopMargin-u}px;\n                    }\n                </style>\n                `)}else{const n=r.exactGridHeight||c-r.currentPageTopMargin;y.push(`\n                <style>\n                    #${e.client.id} {\n                        height: ${n}px !important;\n                    }\n                    .b-export-body {\n                        overflow: hidden;\n                    }\n                    .b-export .b-export-content {\n                        height: ${100/d}%;\n                    }\n                    .b-export-body .b-export-viewport {\n                        margin-top: ${r.currentPageTopMargin}px;\n                    }\n                    .b-grid-vertical-scroller {\n                        margin-top: -${u}px;\n                    }\n                </style>\n                `)}r.currentPageTopMargin-=c+v,await n.stateNextPage(e),({totalPages:b}=r),yield{html:n.pageTpl({html:g,header:m,footer:f,styles:y,paperWidth:a,paperHeight:l})}}},MultiPageVerticalExporter._$name="MultiPageVerticalExporter";class SinglePageExporter extends Exporter{static get $name(){return"SinglePageExporter"}static get type(){return"singlepage"}static get title(){return this.localize("L{singlepage}")}static get defaultConfig(){return{centerContentHorizontally:!1}}async prepareComponent(e){await super.prepareComponent(e),Object.assign(this.exportMeta,{verticalPages:1,horizontalPages:1,totalPages:1,currentPage:0,verticalPosition:0,horizontalPosition:0})}async onRowsCollected(){}positionRows(e){let n=0;return e.map((([e,r])=>{const o=e.replace(/translate\(\d+px, \d+px\)/,`translate(0px, ${n}px)`);return n+=r,o}))}collectRow(e){const n=this.exportMeta.subGrids;Object.entries(e.elements).forEach((([r,o])=>{n[r].rows.push([o.outerHTML,e.offsetHeight])}))}buildPageHtml(){const e=this,{subGrids:n}=e.exportMeta;let r=e.prepareExportElement();return Object.values(n).forEach((({placeHolder:n,rows:o})=>{const i=n.outerHTML;r=r.replace(i,e.positionRows(o).join(""))})),r}}SinglePageExporter.prototype.pagesExtractor=async function*pagesExtractor(e){const n=this,{client:r}=e,{rowManager:o,store:i}=r,a=n.stylesheets,l=e.orientation===Gs.portrait,c=Us[e.paperFormat],d=l?c.width:c.height,u=l?c.height:c.width,p=e.rowsRange===Ws.visible&&i.count?n.getVisibleRowsCount(r):i.count;let b,g,{totalHeight:m,totalWidth:f}=n.exportMeta,v=0,y=-1;if(o.rows.length>0)for(e.rowsRange===Ws.visible&&(y=o.firstVisibleRow.dataIndex-1);v<p;){const i=o.rows,a=i[i.length-1],l=v;i.forEach((e=>{e.dataIndex>y&&v<p&&(++v,m+=e.offsetHeight,n.collectRow(e))}));const c=i.findIndex((e=>e.dataIndex===y+1)),d=c+(v-l);await n.onRowsCollected(i.slice(c,d),e),v<p&&(y=a.dataIndex,await n.scrollRowIntoView(r,y+1))}const x=n.buildPageHtml();m+=r.height-r.bodyHeight;const C=m;if(e.headerTpl){b=n.prepareHTML(e.headerTpl({totalWidth:f}));const r=n.measureElement(b);m+=r}if(e.footerTpl){g=n.prepareHTML(e.footerTpl({totalWidth:f}));const r=n.measureElement(g);m+=r}const S=Math.min(1,n.getScaleValue(n.inchToPx(d),f)),D=Math.min(1,n.getScaleValue(n.inchToPx(u),m)),E=Math.min(S,D);a.push(`<style>\n                #${r.id} {\n                    height: ${C}px !important;\n                    width: ${f}px !important;\n                }\n                .b-export-content {\n                    ${n.centerContentHorizontally?"left: 50%;":""}\n                    transform: scale(${E}) ${n.centerContentHorizontally?"translateX(-50%)":""};\n                    transform-origin: top left;\n                    height: ${1===E?"inherit":"auto !important"};\n                }\n            </style>`),BrowserHelper.isIE11&&a.push(`<style>\n                .b-export-body {\n                   min-height: ${C}px !important;\n                }\n         </style>`),yield{html:n.pageTpl({html:x,header:b,footer:g,styles:a,paperWidth:d,paperHeight:u})}},SinglePageExporter._$name="SinglePageExporter";class PdfExport extends InstancePlugin{static get $name(){return"PdfExport"}static get configurable(){return{dialogClass:ExportDialog,exportServer:void 0,exportDialog:{value:!0,$config:["lazy"]},fileName:null,fileFormat:"pdf",clientURL:null,paperFormat:"A4",orientation:"portrait",rowsRange:"all",alignRows:!1,repeatHeader:!1,keepRegionSizes:null,pagesPerRequest:0,exporterConfig:null,exporterType:"singlepage",exporters:[SinglePageExporter,MultiPageExporter,MultiPageVerticalExporter],translateURLsToAbsolute:!0,keepPathName:!0,openAfterExport:!0,sendAsBinary:!1,openInNewTab:!1,headerTpl:null,footerTpl:null,fetchOptions:null,exportMask:"L{Generating pages}",exportProgressMask:"L{Waiting for response from server}",showErrorToast:!0,localizableProperties:["exportMask","exportProgressMask"]}}doDestroy(){var e;null===(e=this.exportDialog)||void 0===e||e.destroy(),this.exportersMap.forEach((e=>e.destroy())),super.doDestroy()}get currentExportPromise(){return this._currentExportPromise}set currentExportPromise(e){this._currentExportPromise=e}get exportersMap(){return this._exportersMap||(this._exportersMap=new Map)}getExporter(e={}){const n=this,{exportersMap:r}=n,{type:o}=e;let i;if(r.has(o))i=r.get(o);else{const a=this.exporters.find((e=>e.type===o));if(!a)throw new Error(`Exporter type ${o} is not found. Make sure you've configured it`);delete(e=ObjectHelper.clone(e)).type,i=new a(e),i.relayAll(n),r.set(o,i)}return i}buildRequest(e,n){return{html:JSON.stringify(e),fileFormat:n.fileFormat,format:n.paperFormat,orientation:n.orientation}}buildExportConfig(e={}){const{client:n,exportServer:r,clientURL:o,fileFormat:i,fileName:a,paperFormat:l,rowsRange:c,alignRows:d,repeatHeader:u,keepRegionSizes:p,orientation:b,translateURLsToAbsolute:g,keepPathName:m,sendAsBinary:f,headerTpl:v,footerTpl:y}=this;e.columns||(e.columns=n.columns.visibleColumns.filter((e=>e.exportable)).map((e=>e.id)));const x=ObjectHelper.assign({client:n,exportServer:r,clientURL:o,fileFormat:i,paperFormat:l,rowsRange:c,alignRows:d,repeatHeader:u,keepRegionSizes:p,orientation:b,translateURLsToAbsolute:g,keepPathName:m,sendAsBinary:f,headerTpl:v,footerTpl:y,exporterType:this.exporterType,fileName:a||n.$$name},e);if(x.columns=e.columns.slice(),"multipagevertical"!==x.exporterType&&(x.repeatHeader=!1),!("alignRows"in e)&&e.repeatHeader&&(x.alignRows=!0),!("keepRegionSizes"in e)&&!x.keepRegionSizes){const e=[],r={};n.eachSubGrid((n=>n.collapsed&&e.push(n.region))),e.length&&(n.eachSubGrid((n=>{e.includes(n.region)||(r[n.region]=!0)})),x.keepRegionSizes=r)}return x.exporterConfig=ObjectHelper.assign({type:x.exporterType,translateURLsToAbsolute:x.translateURLsToAbsolute,keepPathName:x.keepPathName},x.exporterConfig||{}),delete x.exporterType,delete x.translateURLsToAbsolute,delete x.keepPathName,x}async export(e={}){const n=this,{client:r,pagesPerRequest:o}=n;let i;if(e=n.buildExportConfig(e),!1!==r.trigger("beforePdfExport",_objectSpread2(_objectSpread2({},e),{},{config:e}))&&!1!==r.trigger("beforeExport",_objectSpread2(_objectSpread2({},e),{},{config:e}))){r.mask(n.exportMask);try{const r=n.getExporter(e.exporterConfig);if(0===o){const o=await r.export(e);n.trigger("exportStep",{progress:90,text:n.exportProgressMask});const a=await n.receiveExportContent(o,e);i={response:a},await n.processExportContent(a,e)}}catch(e){throw i=e instanceof Response?{response:e}:{error:e},e}finally{var a;if(!n.isDestroying)null===(a=n.exportDialog)||void 0===a||a.close(),r.unmask(),n.trigger("export",i),n.showErrorToast&&(i.error?Toast.show({html:n.L("L{Export failed}"),rootElement:this.rootElement}):i.response.ok||Toast.show({html:n.L("L{Server error}"),rootElement:this.rootElement})),r.trigger("export",i),r.trigger("pdfExport",i)}}return i}async receiveExportContent(e,n){return AjaxHelper.post(n.exportServer,{html:e,orientation:n.orientation,format:n.paperFormat,fileFormat:n.fileFormat,fileName:n.fileName,clientURL:n.clientURL,sendAsBinary:n.sendAsBinary},Object.assign({credentials:"omit"},this.fetchOptions))}async processExportContent(e,n){const r=this;if(e.ok&&r.openAfterExport){const o=(e=e.clone()).headers.get("content-type");if(o.match(/application\/octet-stream/)){const o=Ks[n.fileFormat],i=await r.responseBlobToObjectURL(e,o);r.getDownloadLink(n.fileName,i).click()}else if(o.match(/application\/json/)){const o=await e.json();if(o.success){r.getDownloadLink(n.fileName,o.url).click()}else Toast.show({html:o.msg,rootElement:this.rootElement})}}}async responseBlobToObjectURL(e,n){const r=await e.blob();return URL.createObjectURL(r.slice(0,r.size,n))}getDownloadLink(e,n){const r=document.createElement("a");return r.download=e,r.href=n,this.openInNewTab&&(r.target="_blank"),r}get defaultExportDialogConfig(){return ObjectHelper.copyProperties({},this,["client","exporters","exporterType","orientation","fileFormat","paperFormat","alignRows","rowsRange","repeatHeader"])}changeExportDialog(e,n){const r=this;if(null==n||n.destroy(),e){const n=r.dialogClass.mergeConfigs({rootElement:r.rootElement,client:r.client,items:{rowsRangeField:{value:r.rowsRange},exporterTypeField:{value:r.exporterType},orientationField:{value:r.orientation},paperFormatField:{value:r.paperFormat},repeatHeaderField:{value:r.repeatHeader},fileFormatField:{value:r.fileFormat},alignRowsField:{checked:r.alignRows}}},r.defaultExportDialogConfig,e);(e=r.dialogClass.new(n)).on({export:r.onExportButtonClick,thisObj:r})}return e}showExportDialog(){return this.exportDialog.show()}onExportButtonClick({values:e}){const n=this;n.mask=new Mask({progress:0,maxProgress:100,text:n.exportMask,target:n.exportDialog.element});const r=n.on({exportstep({progress:e,text:r}){n.mask.progress=e,null!=r&&(n.mask.text=r)}});n.currentExportPromise=n.export(e),n.currentExportPromise.then((()=>(n.currentExportPromise=null,r(),n.mask.close())))}}PdfExport._$name="PdfExport",GridFeatureManager.registerFeature(PdfExport,!1,"Grid");class TableExporter extends Base{static get defaultConfig(){return{target:null,defaultColumnWidth:100,exportDateAsInstance:!0,showGroupHeader:!0,columns:null,indent:!0,indentationSymbol:""}}export(e={}){const n=this;return e=ObjectHelper.assign({},n.config,e),n.normalizeColumns(e),n.generateExportData(e)}generateExportData(e){const n=this.generateColumns(e);return{rows:this.generateRows(e),columns:n}}normalizeColumns(e){const n=e.columns||this.target.columns.visibleColumns.filter((e=>!1!==e.exportable));e.columns=n.map((e=>"string"==typeof e?this.target.columns.find((n=>n.field===e))||{field:e}:e))}generateColumns(e){return e.columns.map((n=>this.processColumn(n,e)))}generateRows(e){const{columns:n}=e;if(!n.length)return[];const r=this,{target:o}=r;return o.store.map((o=>r.processRecord(o,n,e))).filter((e=>null==e?void 0:e.length))}getColumnType(e,n=this.target.store){let r=e.exportedType||"object";if(void 0===e.exportedType&&e.field){const o=n.modelClass.getFieldDefinition(e.field);o&&"auto"!==o.type&&(r=o.type)}return r}processColumn(e,n){const{target:r}=this,{defaultColumnWidth:o}=n;let{field:i,text:a,width:l,minWidth:c}=e;if(i in r.store.modelClass.fieldMap||(i=""),!a||!l){const e=r.columns.find((e=>e.field===i));a||(a=e&&e.text||i),null==l&&(l=e&&e.width||o)}return l=Math.max(l||o,c||o),{field:i,value:a,width:l,type:this.getColumnType(e)}}processRecord(e,n,r){const{target:o}=this,{showGroupHeader:i,indent:a,indentationSymbol:l}=r;let c;return e?e.isSpecialRow?i&&e.meta.groupRowFor&&(c=n.map((n=>o.features.group.buildGroupHeader({cellElement:DomHelper.createElement(),grid:o,record:e,column:n})))):c=n.map((n=>{var i;let c=null!==(i=n.field)&&void 0!==i&&i.includes(".")?e.get(n.field):e[n.field],d=n.renderer||n.defaultRenderer;return!d||c&&n.isDateColumn&&r.exportDateAsInstance||(c=d.call(n,{value:c,record:e,column:n,grid:o,isExport:!0})),a&&n.tree&&(c=`${l.repeat(e.childLevel)}${c}`),c})):c=n.map((()=>"")),c}}TableExporter._$name="TableExporter";class BooleanUnicodeSymbol{constructor(e){this._value=e}get value(){return this._value}toString(){return Boolean(this.value)?"":""}}BooleanUnicodeSymbol._$name="BooleanUnicodeSymbol";class ExcelExporter extends InstancePlugin{static get $name(){return"ExcelExporter"}static get defaultConfig(){return{filename:null,dateFormat:"YYYY-MM-DD",exporterClass:TableExporter,exporterConfig:null,zipcelx:null,convertEmptyValueToEmptyString:!0}}processValue(e){return null==e||Number.isNaN(e)||"function"==typeof e||"object"==typeof e&&"[object Object]"===String(e)?"":e}generateExportData(e){const n=this,{rows:r,columns:o}=n.exporter.export(e.exporterConfig);return{rows:r.map((r=>r.map(((r,i)=>{var a;r instanceof Date?r=DateHelper.format(r,e.dateFormat):"boolean"==typeof r&&(r=new BooleanUnicodeSymbol(r)),n.convertEmptyValueToEmptyString&&(r=n.processValue(r));return{value:r,type:"number"===(null===(a=o[i])||void 0===a?void 0:a.type)?"number":"string"}})))),columns:o.map((e=>{let{field:n,value:r,width:o,type:i}=e;return i="string",{field:n,value:r,width:o,type:i}}))}}export(e={}){const n=this,r=n.zipcelx||window.zipcelx;if(!r)throw new Error('ExcelExporter: "zipcelx" library is required');if(n.disabled)return;(e=ObjectHelper.assign({},n.config,e)).filename||(e.filename=n.client.$$name);const{filename:o}=e,{rows:i,columns:a}=n.generateExportData(e);return r({filename:o,sheet:{data:[a].concat(i),cols:a}})}construct(e,n){super.construct(e,n),this.zipcelx||"undefined"!=typeof zipcelx&&(this.zipcelx=window.zipcelx)}get exporter(){const e=this;return e._exporter||(e._exporter=e.exporterClass.new({target:e.client},e.exporterConfig))}}ExcelExporter._$name="ExcelExporter",GridFeatureManager.registerFeature(ExcelExporter,!1,"Grid");class Row extends(Delayable(Base)){static get configurable(){return{cls:{$config:{equal:(e,n)=>(null==e?void 0:e.isDomClassList)&&(null==n?void 0:n.isDomClassList)&&e.isEqual(n)},value:"b-grid-row"}}}construct(e){Object.assign(this,{_elements:{},_elementsArray:[],_cells:{},_allCells:[],_regions:[],lastHeight:0,lastTop:-1,_dataIndex:0,_top:0,_height:0,_id:null,forceInnerHTML:!1,isGroupFooter:!1},e),super.construct()}doDestroy(){const e=this;e.rowManager.isDestroying||(e.removeElements(),e.rowManager.idMap[e.id]===e&&delete e.rowManager.idMap[e.id]),super.doDestroy()}get index(){return this._index}set index(e){this._index=e}get dataIndex(){return this._dataIndex}set dataIndex(e){this._dataIndex!==e&&(this._dataIndex=e,this.eachElement((n=>n.dataset.index=e)))}get id(){return this._id}set id(e){const n=this,r={id:e},o=n.rowManager.idMap;n._id===e&&o[e]===n||(o[n._id]===n&&delete o[n._id],o[e]=n,n._id=e,n.eachElement((n=>{DomDataStore.assign(n,r),n.dataset.id=e})),n.eachCell((e=>DomDataStore.assign(e,r))))}addElement(e,n){const r=this;let o=n.firstElementChild;for(r._elements[e]=n,r._elementsArray.push(n),r._regions.push(e),DomDataStore.assign(n,{index:r.index}),r._cells[e]=[];o;)r._cells[e].push(o),r._allCells.push(o),DomDataStore.set(o,{column:o.dataset.column,columnId:o.dataset.columnId,rowElement:o.parentNode,row:r}),o=o.nextElementSibling;n.dataset.index=r.index}getElement(e){return this._elements[e]}eachElement(e){this._elementsArray.forEach(e)}eachCell(e){this._allCells.forEach(e)}get elements(){return this._elements}get cells(){return this._allCells}getCells(e){return this._cells[e]}getCell(e){return this._allCells.find((n=>{const r=DomDataStore.get(n);return r.columnId==e||r.column==e}))}removeElements(e=!1){const n=this;n.rowManager.trigger("removeRow",{row:n}),e||n.eachElement((e=>e.remove())),n._elements={},n._cells={},n._elementsArray.length=n._regions.length=n._allCells.length=n.lastHeight=n.height=0,n.lastTop=-1}get height(){return this._height}set height(e){this._height=e}get offsetHeight(){return this.height+this.grid._rowBorderHeight}updateElementsHeight(){const e=this;e.rowManager.storeKnownHeight(e.id,e.height),e.lastHeight!==e.height&&(this.eachElement((n=>n.style.height=`${e.offsetHeight}px`)),e.lastHeight=e.height)}addCls(e){this.updateCls(this.cls.add(e))}removeCls(e){this.updateCls(this.cls.remove(e))}assignCls(e){this.updateCls(this.cls.assign(e))}changeCls(e){return null!=e&&e.isDomClassList?e:new DomClassList(e)}updateCls(e){this.eachElement((n=>DomHelper.syncClassList(n,e)))}get isFirst(){return 0===this.dataIndex}get top(){return this._top}get bottom(){return this._top+this._height+this.grid._rowBorderHeight}setTop(e,n){this._top!==e&&(this._top=e,this.translateElements(n))}setBottom(e,n){this.setTop(e-this.offsetHeight,n)}translateElements(e){const n=this,r=n.grid.positionMode;n.lastTop!==n.top&&(n.eachElement((e=>{const o=e.style;"translate"===r?o.transform=`translate(0,${n.top}px)`:"translate3d"===r?o.transform=`translate3d(0,${n.top}px,0)`:"position"===r&&(o.top=`${n.top}px`)})),e||n.rowManager.trigger("translateRow",{row:n}),n.lastTop=n.top)}offset(e){let n=this._top+e;return n<0&&(e-=n,n=0),this.setTop(n),e}render(e,n,r=!0,o=!1){var i,a,l;const c=this,{cls:d,cells:u,grid:p,rowManager:b,height:g,_id:m}=c,f=DomDataStore.get(c._elementsArray[0]),v=b._rowHeight;let y,x,C=0;n||!1===n||(n=p.store.getById(f.id),e=p.store.indexOf(n));const S=null===(i=n)||void 0===i?void 0:i.cls,D=S?S.isDomClassList?S:new DomClassList(S):null;d.assign({"b-grid-row-updating":r&&p.transitionDuration,"b-selected":p.isSelected(null===(a=n)||void 0===a?void 0:a.id)}),c.lastRecordCls&&d.remove(c.lastRecordCls),D?(d.add(D),c.lastRecordCls=Object.assign({},D)):c.lastRecordCls=null,c.updateCls(d),b.trigger("beforeRenderRow",{row:c,record:n,recordIndex:e,oldId:m}),r&&p.transitionDuration&&c.setTimeout((()=>{d.remove("b-grid-row-updating"),c.updateCls(d)}),p.transitionDuration),c.id=n.id,c.dataIndex=e;const E=!p.fixedRowHeight&&p.getRowHeight(n)||v;let k=c.maxRequestedHeight=null;for(C=0;C<u.length;C++)y=u[C],x=c.renderCell({cellElement:y,record:n,height:E,maxRequestedHeight:k,updatingSingleRow:r}),b.fixedRowHeight||null!=x.height&&(c.maxRequestedHeight=k=Math.max(k,x.height));c.height=null!==(l=k)&&void 0!==l?l:E,c.updateElementsHeight(),r&&(g!==c.height&&b.translateFromRow(c,o),b.trigger("updateRow",{row:c,record:n,recordIndex:e,oldId:m}),b.trigger("renderDone")),b.trigger("renderRow",{row:c,record:n,recordIndex:e,oldId:m}),c.forceInnerHTML=!1}renderCell({cellElement:e,record:n,height:r,maxRequestedHeight:o,updatingSingleRow:i=!0,isMeasuring:a=!1}){var l;const c=this,{grid:d}=c,u=DomDataStore.get(e),p=d.columns.getById(u.columnId),b=u.rowElement,g=DomDataStore.get(b),{internalCellCls:m,cellCls:f,align:v,renderer:y,defaultRenderer:x,id:C}=p,S={columnId:C,id:g.id};if(!n){if(null===g.id)return void(e.className="b-grid-cell");if(!(n=d.store.getById(g.id)))return}let D=p.getRawValue(n);const E=n.fieldMap[p.field],k={configuredHeight:r,height:null,maxRequestedHeight:o},T={cellElement:e,dataField:E,rowElement:b,value:D,record:n,column:p,size:k,grid:d,row:u.row,updatingSingleRow:i,isMeasuring:a},_={"b-grid-cell":1,[m]:m,[f]:n.isSpecialRow&&"b-check-cell"===p.internalCellCls?void 0:f,"b-cell-dirty":n.isFieldModified(p.field),[`b-grid-cell-align-${v}`]:v,"b-selected":d.isSelected(S),"b-focused":d.isFocused(S),"b-auto-height":p.autoHeight},M=y||x;d.beforeRenderCell(T),DomHelper.syncClassList(e,_);let R=!0;M?(D=M.call(p,T),void 0===D&&(R=!1)):E&&(D=E.print(D));const I=null===(l=d.hasFrameworkRenderer)||void 0===l?void 0:l.call(d,{cellContent:D,column:p});I&&n.isSpecialRow&&(D="");const F=I&&!p.data.tree&&!n.isSpecialRow;if(R&&!F){const n=null!=D&&"object"==typeof D,r="string"==typeof D,o=n||null==D?"":String(D);c.forceInnerHTML&&(e.innerHTML="",delete e._content,e.lastDomConfig=null),n||!p.htmlEncode||p.disableHtmlEncode?!p.autoSyncHtml||r&&!DomHelper.getChildElementCount(e)?n?DomSync.sync({targetElement:e,domConfig:{onlyChildren:!0,children:Array.isArray(D)?D:[D]}}):e._content!==o&&(e.innerHTML=e._content=o):r?DomHelper.sync(o,e.firstElementChild):n&&DomSync.sync({domConfig:D,targetElement:e}):BrowserHelper.isLinux||e._hasHtml?(e.innerText=o,e._hasHtml=!1):DomHelper.setInnerText(e,o)}var A;n.isSpecialRow||(null===(A=d.processCellContent)||void 0===A||A.call(d,{cellElementData:u,rendererData:T,rendererHtml:T.rendererHtml||D}));return p.autoHeight&&null==k.height&&(e.classList.add("b-measuring-auto-height"),k.height=e.offsetHeight,e.classList.remove("b-measuring-auto-height")),a||c.rowManager.trigger("renderCell",T),k}}Row._$name="Row";class Bar extends Widget{static get $name(){return"Bar"}static get type(){return"gridbar"}static get defaultConfig(){return{htmlCls:"",scrollable:{}}}get columns(){return this._columns||this.subGrid.columns}set columns(e){this._columns=e}fixCellWidths(){const e=this;let n,r=!1;e.columns.traverse((o=>{const i=e.getBarCellElement(o.id),a=DomHelper.setLength(o.width),l=DomHelper.setLength(o.minWidth),c=DomHelper.setLength(o.maxWidth);if(i){if(n=BrowserHelper.isIE11?`calc(${a} - ${e.getLrPadding(i)}px)`:a,i.style.maxWidth=c,r=r||Boolean(o.flex),o.isParent&&null==o.width&&null==o.flex){const e=o.children.reduce(((e,n)=>e+(!n.hidden&&n.flex||0)),0);i.style.flex=e>0?`${e} 0 auto`:"",e>0&&o.traverse((e=>e.data.minWidth=null))}else if(parseInt(o.minWidth)>=0&&(i.style.minWidth=l),i.style.flex=i.style.flexBasis=i.style.width="",o.flex)!isNaN(parseInt(o.flex))&&o.children?i.style.flex=`${o.flex} 0 auto`:i.style.flex=o.flex;else if(parseInt(o.width)>=0){const r=o.parent;!e.isHeader||r.isRoot||r.width?i.style.flexBasis=n:i.style.width=a}o.height>=0&&(i.style.height=DomHelper.setLength(o.height))}})),e.element.classList[r?"add":"remove"]("b-has-flex")}getLrPadding(e){if(!this.cellLrPadding){const n=e.ownerDocument.defaultView.getComputedStyle(e);this.cellLrPadding=parseInt(n.getPropertyValue("padding-left"))+parseInt(n.getPropertyValue("padding-right"))+parseInt(n.getPropertyValue("border-left-width"))+parseInt(n.getPropertyValue("border-right-width"))}return this.cellLrPadding}getBarCellElement(e){return this.element.querySelector(`[data-column-id="${e}"]`)}}Bar.initClass(),Bar._$name="Bar";class Footer extends Bar{static get $name(){return"Footer"}static get type(){return"gridfooter"}startConfigure(e){e.scrollable.overflowX="hidden-scroll",super.startConfigure(e)}get subGrid(){return this._subGrid}set subGrid(e){this._subGrid=this.owner=e}refreshContent(){this.element.firstElementChild.innerHTML=this.contentTemplate(),this.fixFooterWidths()}onPaint({firstPaint:e}){e&&this.refreshContent()}template(){const e=this.subGrid.region;return TemplateHelper.tpl`
            <div class="b-grid-footer-scroller b-grid-footer-scroller-${e}">
                <div data-reference="footersElement" class="b-grid-footers b-grid-footers-${e}" data-region="${e}"></div>
            </div>
        `}get overflowElement(){return this.footersElement}getFooter(e){return this.getBarCellElement(e)}contentTemplate(){return this.columns.visibleColumns.map((e=>TemplateHelper.tpl`
                <div
                    class="b-grid-footer ${e.align?`b-grid-footer-align-${e.align}`:""} ${e.cls||""}"
                    data-column="${e.field||""}" data-column-id="${e.id}" data-all-index="${e.allIndex}"
                    >
                    ${e.footerText||""}
                </div>`)).join("")}fixFooterWidths(){this.fixCellWidths()}}Footer.initClass(),Footer._$name="Footer";class RowManager extends InstancePlugin{static get pluginConfig(){return{chain:["getRowById","getRecordCoords","getRow","getRowFor","getRowFromElement","destroy"],assign:["rowHeight","topRow","bottomRow","firstVisibleRow","lastVisibleRow","firstFullyVisibleRow"]}}static get defaultConfig(){return{prependRowBuffer:5,appendRowBuffer:5,rowHeight:null,fixedRowHeight:null,autoHeight:!1}}static get properties(){return{idMap:{},topIndex:0,lastScrollTop:0,_rows:[],heightMap:new Map,totalKnownHeight:0,_totalHeight:0,averageRowHeight:0,scrollTargetRecordId:null,refreshDetails:{topRowIndex:0,topRowTop:0}}}construct(e){e.grid._rowManager=this,super.construct(e.grid,e)}doDestroy(){this._rows.forEach((e=>e.destroy())),super.doDestroy()}initWithHeight(e,n=!1){const r=this;return r.autoHeight&&(e=r.store.allCount*r.preciseRowOffsetHeight),r.viewHeight=e,r.calculateRowCount(n),e}reinitialize(e=!1){const n=this;n.calculateRowCount(!1,!0,!0),n.topIndex+n.rowCount-1>n.store.count&&(e=!0);const r=n.topRow&&!e?n.topRow.top:0;n.scrollTargetRecordId=null,e&&(n.topIndex=n.lastScrollTop=0);const{topRow:o}=n;o&&(o.dataIndex=n.topIndex,o.setTop(r,!0)),n.estimateTotalHeight(),n.renderFromRow(o)}matchRowCount(e=!1){const n=this,{rows:r,grid:o}=n,i=r.length,a=i-n.rowCount;if(a)if(a<0){const a=[];for(let e=i,l=i?r[i-1].dataIndex+1:0;e<n.rowCount;e++,l++)a.push(new Row({rowManager:n,grid:o,index:e,dataIndex:l}));r.push.apply(r,a),n.trigger("addRows",{rows:a}),e||n.renderFromRow(r[Math.max(0,i-1)])}else{const e=r.splice(i-a,a);n.trigger("removeRows",{rows:e}),e.forEach((e=>e.destroy()))}}calculateRowCount(e=!1,n=!0,r=!1){var o;const i=this,{store:a}=i,l=Math.ceil(i.viewHeight/i.minRowOffsetHeight),c=l+i.prependRowBuffer+i.appendRowBuffer;return null===(o=i.grid.columns)||void 0===o||!o.count||isNaN(l)?(i.rowCount=0,0):(c<i.rowCount&&!n||(i.visibleRowCount=l,i.rowCount=Math.min(a.count,c),e||(i.rows&&i.rowCount!==i.rows.length?i.matchRowCount(r):i.rowCount||i.trigger("changeTotalHeight",{totalHeight:i.totalHeight}),i.grid.toggleEmptyText())),i.rowCount)}removeAllRows(){const e=this,{topRow:n}=e,r=n?e.refreshDetails={topRowIndex:n.dataIndex,topRowTop:n.top}:e.refreshDetails,o=e.rows.slice();return e.trigger("removeRows",{rows:o}),e.rows.forEach((e=>e.destroy())),e.rows.length=0,e.idMap={},r}setPosition(e){const{topRow:n}=this,{topRowIndex:r,topRowTop:o}=e;n.setTop(o),n.dataIndex=r}get store(){return this.client.store}get rows(){return this._rows}getRow(e){return this.rowCount&&this.rows[e-this.topIndex]}getRowById(e){return e&&e.isModel&&(e=e.id),this.idMap[e]}getRowFromElement(e){return(e=e.closest(".b-grid-row"))&&this.getRow(e.dataset.index)}getRowAt(e,n=!1){return n||(e-=Rectangle.from(this.grid.bodyContainer,null,!0).roundPx(1).top,e+=this.grid.scrollable.y),e=DomHelper.roundPx(e),this.rows.find((n=>e>=n.top&&e<n.bottom))}getRowFor(e){return e instanceof HTMLElement?this.getRowFromElement(e):this.getRowById(e)}getNextRow(e){const n="number"==typeof e?e:e.index;return this.getRow((n+1)%this.rowCount)}get topRow(){return this.rows[0]}get bottomRow(){const e=Math.min(this.rowCount,this.store.count);return this.rows[e-1]}get firstVisibleRow(){return this.rows.find((e=>e.bottom>Math.ceil(this.grid.scrollable.y)))}get firstFullyVisibleRow(){return this.rows.find((e=>e.top>=Math.ceil(this.grid.scrollable.y)))}get lastVisibleRow(){const e=this.grid;return ArrayHelper.findLast(this.rows,(n=>n.top<e.scrollable.y+e.bodyHeight))}offsetRows(e){if(0!==e){const{rows:n}=this,{length:r}=n;for(let o=0;o<r;o++)n[o].offset(e)}this.trigger("offsetRows",{offset:e})}get prependBufferHeight(){return this.prependRowBuffer*this.rowOffsetHeight}get appendBufferHeight(){return this.appendRowBuffer*this.rowOffsetHeight}get rowHeight(){return this._rowHeight}set rowHeight(e){const n=this,{grid:r,fixedRowHeight:o}=n,i=n.rowHeight;if(ObjectHelper.assertNumber(e,"rowHeight"),e<10&&(e=10),n.trigger("beforeRowHeight",{height:e}),n.minRowHeight=n._rowHeight=e,o&&(n.averageRowHeight=e),n.rows.length){const a=r.scrollable.y,l=n.getRowAt(a,!0),c=l?l.top-a:0;let d,u;o?(d=e,u=i):(u=d=n.averageRowHeight,n.clearKnownHeights(),d*=e/i),n.calculateRowCount(!1,!0,!0),n.topRow.setTop(n.topRow.dataIndex*(d+r._rowBorderHeight),!0),n.refresh();a*(d/u)!==a&&r.scrollRowIntoView(l.id,{block:"start",edgeOffset:c})}n.trigger("rowHeight",{height:e})}get rowOffsetHeight(){return Math.floor(this.preciseRowOffsetHeight)}get preciseRowOffsetHeight(){return(this.averageRowHeight||this._rowHeight)+this.grid._rowBorderHeight}get minRowOffsetHeight(){return(this.minRowHeight||this._rowHeight)+this.grid._rowBorderHeight}get allHeightsKnown(){return this.fixedRowHeight||this.heightMap.size>=this.store.count}storeKnownHeight(e,n){const r=this,{heightMap:o}=r;r.fixedRowHeight||(o.has(e)&&(r.totalKnownHeight-=o.get(e)),o.set(e,n),r.totalKnownHeight+=n,n<r.minRowHeight&&(r.minRowHeight=n),r.averageRowHeight=r.totalKnownHeight/o.size)}getOffsetHeight(e){const n=this;return(n.heightMap.get(e.id)||n.grid.getRowHeight(e)||n.averageRowHeight||n.rowHeight)+n.grid._rowBorderHeight}invalidateKnownHeight(e){const n=this;if(!n.fixedRowHeight){const{heightMap:r}=n;Array.isArray(e)||(e=[e]),e.forEach((e=>{e&&r.has(e.id)&&(n.totalKnownHeight-=r.get(e.id),r.delete(e.id))})),n.averageRowHeight=n.totalKnownHeight/r.size}}clearKnownHeights(){this.heightMap.clear(),this.averageRowHeight=this.totalKnownHeight=0}calculateTop(e){if(this.fixedRowHeight)return e*this.rowOffsetHeight;const{store:n}=this;let r=0;for(let o=0;o<e;o++){const e=n.getAt(o);r+=this.getOffsetHeight(e)}return Math.floor(r)}getRecordCoords(e,n=!1,r=!1){const o=this,i="string"==typeof e||"number"==typeof e?e:e.id,a=o.getRowById(e);let l=o.client._bodyRectangle;return n||(l=o.client.refreshBodyRectangle()),a?new Rectangle(l.x,n?Math.round(a.top):Math.round(a.top+l.y-o.client.scrollable.y),l.width,a.offsetHeight):o.getRecordCoordsByIndex(o.store.indexOf(i),n,r)}getRecordCoordsByIndex(e,n=!1,r=!1){const o=this,{topRow:i,bottomRow:a}=o,l=o.client._bodyRectangle,{id:c}=o.store.getAt(e),d=o.preciseRowOffsetHeight,u=i.dataIndex,p=a.dataIndex,b=e>p?{index:e-p-1,y:a.bottom,from:"bottomRow"}:e>u/2?{index:e-u,y:i.top,from:"topRow"}:{index:e,y:0,from:"top"},g=o.allHeightsKnown&&!r?o.calculateTop(e):Math.floor(b.y+b.index*d),m=new Rectangle(l.x,n?g:g+l.y-o.client.scrollable.y,l.width,Math.floor(o.heightMap.get(c)||d));return m.virtual=!0,m.block=m.bottom<l.y?"start":m.y>l.bottom?"end":"nearest",m}get totalHeight(){return this._totalHeight}forEach(e){this.rows.forEach(e)}[Symbol.iterator](){return this.rows[Symbol.iterator]()}refreshCell(e,n){const r=this.getRowFor(e);if(r){const e=r.getCell(n);if(e)return r.renderCell({cellElement:e}),!0}return!1}returnToTop(){const e=this;e.topIndex=0,e.lastScrollTop=0,e.topRow&&(e.topRow.dataIndex=0,e.topRow.setTop(0,!0)),e.refresh(),e.grid.scrollable.y=0}renderFromRecord(e){const n=this.getRowById(e.id);n&&this.renderFromRow(n)}renderFromRow(e=null){const n=this,{rows:r,store:o}=n,i=o.count;if(0===n.calculateRowCount(!1,i<r.length,!0))return;let a,l=e?r.indexOf(e):0,c=e?e.dataIndex:r[0].dataIndex,d=i-c-1,u=Math.min(r.length-1,l+d),p=r.length-u-1,b=l>0?r[l-1].bottom:r[l].top;for(let e=l;e<=u;e++)a=r[e],a.dataIndex=c,a.setTop(b,!0),a.render(c,o.getAt(c++),!1),b+=a.offsetHeight;for(;p-- >0;)n.displayRecordAtTop();n.bottomRow.bottom<n.viewHeight&&n.calculateRowCount(),n.estimateTotalHeight(!0),n.trigger("renderDone")}renderRows(e){let n,r=!1;(e=Array.from(e)).sort(((e,n)=>e.dataIndex-n.dataIndex));for(const o of e)n=o.height,o.render(null,null,!1),r|=o.height!==n;r&&this.translateFromRow(e[0]),this.trigger("renderDone")}translateFromRow(e,n=!1){const r=this;let o,i,a=e.bottom;for(i=e.dataIndex+1,o=r.getRow(i);o;o=r.getRow(++i))o.setTop(a),a+=o.offsetHeight;n||r.estimateTotalHeight(!0)}refresh(){const e=this,{topRow:n}=e;n&&(e.idMap={},e.renderFromRow(n),e.trigger("refresh"))}jumpToPosition(e,n){const r=this,{store:o,heightMap:i}=r,a=o.count;if(r.allHeightsKnown&&!r.fixedRowHeight){const n=e-r.prependBufferHeight,l=r.grid._rowBorderHeight;let c=0,d=0;for(;c<n;){const e=o.getAt(d);c+=i.get(e.id)+l,d++}const u=Math.max(Math.min(d,a-r.rowCount),0);r.lastScrollTop=e,r.topRow.dataIndex=r.topIndex=u,r.topRow.setTop(r.calculateTop(u),!1),r.refresh()}else{const o=r.preciseRowOffsetHeight,i=null==n?Math.floor(e/o)-r.prependRowBuffer:n-Math.floor(r.rowCount/2),l=Math.max(Math.min(i,a-r.rowCount),0),c=r.client.scrollable.y,d=Math.min(r.client._bodyRectangle.height+c+r.appendBufferHeight,r.totalHeight);if(r.lastScrollTop=e,r.topRow.dataIndex=r.topIndex=l,r.topRow.setTop(Math.floor(l*o),!1),r.refresh(),r.bottomRow.bottom<d)for(r.calculateRowCount(!1,!1,!1);r.bottomRow.bottom<d&&r._rows[r.prependRowBuffer].top<c&&r.bottomRow.dataIndex<a-1;)r.displayRecordAtBottom();r.estimateTotalHeight()}if(null!=n){const{scrollable:o}=r.grid,i=r.getRow(n),a=i&&Rectangle.from(i._elementsArray[0]).center.y,l=o.viewport.center.y;i&&(o.y=e=Math.floor(o.y+(a-l)))}return e}warpIfNeeded(e){const n=this,r={newScrollTop:e,deltaTop:e-n.lastScrollTop};if(Math.abs(r.deltaTop)>n.rowCount*n.rowOffsetHeight*3){let o;n.scrollTargetRecordId&&(o=n.store.indexOf(n.scrollTargetRecordId)),r.newScrollTop=n.jumpToPosition(e,o),r.deltaTop=0}return r}updateRenderedRows(e,n,r=!1){const o=this,i=o.client._bodyRectangle;if(0===o.rowCount)return 0;let a=o.totalHeight;if(n||Math.abs(e-o.lastScrollTop)>=o.rowOffsetHeight||o.topRow.top>e||o.bottomRow.bottom<e+i.height){const n=o.warpIfNeeded(e);o.scrollTargetRecordId=null,o.lastScrollTop=n.newScrollTop,n.deltaTop>0?o.fillBelow(n.newScrollTop):n.deltaTop<0&&o.fillAbove(n.newScrollTop),o.fixedRowHeight||r||o.correctError(n,i,e),a=o.estimateTotalHeight()}return a}correctError(e,n,r){const o=this;let i=0;(o.allHeightsKnown||e.deltaTop<0&&r<2*n.height||e.deltaTop>0&&r>o.totalHeight-2*n.height-3)&&(i=o.topRow.top-o.calculateTop(o.topRow.dataIndex)),i&&(o.offsetRows(-i),o.grid.scrollable.y=o.lastScrollTop=o.grid.scrollable.y-i)}fillAbove(e){const n=this,r=e-n.topRow.top-n.prependBufferHeight;let o=0;for(;o>r&&n.topIndex>0;)o-=n.displayRecordAtTop();n.trigger("renderDone")}fillBelow(e){const n=this,r=e-n.topRow.top-n.prependBufferHeight,o=n.store.count,i=n.rowCount;let a=0;for(;a<r&&n.topIndex+i<o&&n.topRow.top+n.topRow.offsetHeight<e;)a+=n.displayRecordAtBottom();n.trigger("renderDone")}estimateTotalHeight(e=!1){const n=this;if(n.grid.renderingRows)return;const r=n.store.count,o=r-n.heightMap.size,{bottomRow:i}=n;let a;if(n.fixedRowHeight)a=r*n.rowOffsetHeight;else{if(a=n.totalKnownHeight+n.heightMap.size*n.grid._rowBorderHeight+o*n.preciseRowOffsetHeight,i&&o){const e=i.bottom;(e>a||n.topIndex+n.rowCount>=r&&a>e&&e>0)&&(a=e,i.dataIndex<r-1&&(a+=(r-1-i.dataIndex)*n.preciseRowOffsetHeight))}a=Math.floor(a)}return a!==n.totalHeight&&!1!==n.trigger("changeTotalHeight",{totalHeight:a,immediate:e})&&(n._totalHeight=a),a}displayRecordAtTop(){const e=this,n=e.topIndex-1,r=e.store.getAt(n),o=e.bottomRow,i=o.top;return e.trigger("beforeTranslateRow",{row:o,newRecord:r}),o._top=e.topRow.top-e.getOffsetHeight(r),o.estimatedTop=!e.fixedRowHeight,o.render(n,r,!1),o._top=i,o.setBottom(e.topRow.top),o.estimatedTop=!1,e.topIndex--,e._rows.unshift(e._rows.pop()),o.offsetHeight}displayRecordAtBottom(){const e=this,n=e.topIndex+e.rowCount,r=e.store.getAt(n),o=e.topRow;return e.trigger("beforeTranslateRow",{row:o,newRecord:r}),o.dataIndex=n,o.setTop(e.bottomRow.bottom),o.render(n,r,!1),e.topIndex++,e._rows.push(e._rows.shift()),o.offsetHeight}}RowManager.featureClass="",RowManager._$name="RowManager";const Xs={x:1};class GridScroller extends Scroller{addScroller(e){(this.xScrollers||(this.xScrollers=[])).push(e)}addPartner(e,n=Xs){"string"==typeof n&&(n={[n]:1}),n.x&&this.xScrollers.forEach(((n,r)=>n.addPartner(e.xScrollers[r],"x"))),n.y&&super.addPartner(e,"y")}removePartner(e){this.xScrollers.forEach(((n,r)=>{n.isDestroyed||n.removePartner(e.xScrollers[r])})),super.removePartner(e)}updateOverflowX(e){this.xScrollers&&this.xScrollers.forEach((n=>n.overflowX=e)),this.widget.virtualScrollers.classList[!1===e?"add":"remove"]("b-hide-display")}scrollIntoView(e,n){if(e.nodeType!==Element.ELEMENT_NODE)return super.scrollIntoView(e,n);for(const r of this.xScrollers)if(r.element.contains(e))return r.scrollIntoView(e,n)}set x(e){this.xScrollers&&(this.xScrollers[0].x=e)}get x(){return this.xScrollers?this.xScrollers[0].x:0}}GridScroller._$name="GridScroller";class Header extends Bar{static get $name(){return"Header"}static get type(){return"gridheader"}startConfigure(e){e.scrollable.overflowX="hidden-scroll",super.startConfigure(e)}get subGrid(){return this._subGrid}set subGrid(e){this._subGrid=this.owner=e}get region(){var e;return null===(e=this.subGrid)||void 0===e?void 0:e.region}changeElement(e,n){const{region:r}=this;return this.getConfig("columns"),super.changeElement({className:{"b-grid-header-scroller":1,[`b-grid-header-scroller-${r}`]:r},children:[{reference:"headersElement",className:{"b-grid-headers":1,[`b-grid-headers-${r}`]:r},dataset:{region:r,reference:"headersElement",maxDepth:this.maxDepth}}]},n)}get overflowElement(){return this.headersElement}getColumnConfig(e){const{id:n,align:r,resizable:o,isLeaf:i,isParent:a,isLastInSubGrid:l,cls:c,childLevel:d,field:u,tooltip:p,children:b,isFocusable:g}=e;if(e.isVisible)return{className:{"b-grid-header":1,"b-grid-header-parent":a,[`b-level-${d}`]:1,[`b-depth-${e.meta.depth}`]:1,[`b-grid-header-align-${r}`]:r,"b-grid-header-resizable":o&&i,[c]:c,"b-last-parent":a&&l,"b-last-leaf":i&&l},[g?"tabIndex":""]:0,dataset:{columnId:n,[u?"column":""]:u,[p?"btip":""]:p},children:[{className:"b-grid-header-text",children:[{className:"b-grid-header-text-content"}]},b?{className:"b-grid-header-children",children:b.map((e=>this.getColumnConfig(e)))}:null,{className:"b-grid-header-resize-handle"}]}}calculateMinWidthForSafari(){let e=0;return this.columns.visibleColumns.forEach((n=>{e+=n.calculateMinWidth()})),e}fixHeaderWidths(){this.fixCellWidths()}refreshHeaders(){const e=this;e.columns.traverse((n=>{const r=e.getBarCellElement(n.id);if(r){let o=n.headerText;n.headerRenderer&&(o=n.headerRenderer.call(n.thisObj||e,{column:n,headerElement:r})),n.icon&&(o=`<i class="${StringHelper.encodeHtml(n.icon)}"></i>`+(o||""));const i=r.querySelector(".b-grid-header-text-content");i&&(i.innerHTML=o||"")}})),e.fixHeaderWidths()}get columns(){const e=this,n=super.columns;return e.columnsDetacher||(e.columnsDetacher=n.on({change(){e.initDepths()},thisObj:e}),e.initDepths()),n}set columns(e){super.columns=e}initDepths(e=this.columns.topColumns,n=null){const r=this;let o=0;null!=n&&n.meta&&n.meta.depth++;for(const i of e){const{meta:e}=i;e.depth=0,i.children&&(r.initDepths(i.children.filter(r.columns.chainedFilterFn),i),e.depth&&n&&(n.meta.depth+=e.depth)),e.depth>o&&(o=e.depth)}return n||(r.maxDepth=o),o}getHeader(e){return this.getBarCellElement(e)}get contentElement(){return this.element.firstElementChild}refreshContent(){const e=this;DomSync.sync({domConfig:{children:e.columns.topColumns.map((n=>e.getColumnConfig(n))),onlyChildren:!0,strict:!0,syncIdField:"columnId",releaseThreshold:0},targetElement:e.contentElement}),e.refreshHeaders()}onPaint({firstPaint:e}){e&&this.refreshContent()}}Header.initClass(),Header._$name="Header";const Qs={touchstart:"onElementTouchStart",touchmove:"onElementTouchMove",touchend:"onElementTouchEnd",mouseover:"onElementMouseOver",mouseout:"onElementMouseOut",mousedown:"onElementMouseDown",mousemove:"onElementMouseMove",mouseup:"onElementMouseUp",click:"onHandleElementClick",dblclick:"onElementDblClick",keydown:"onElementKeyDown",keyup:"onElementKeyUp",keypress:"onElementKeyPress",contextmenu:"onElementContextMenu"};var GridElementEvents=e=>class GridElementEvents extends(e||Base){static get $name(){return"GridElementEvents"}static get configurable(){return{longPressTime:400,enableUndoRedoKeys:!0}}initInternalEvents(){const e=Object.keys(Qs),n=e.length,r={element:this.bodyElement,thisObj:this};for(let o=0;o<n;o++)r[e[o]]="handleEvent";EventHelper.on(r),EventHelper.on({focus:"onGridElementFocus",element:this.focusElement,thisObj:this})}getCellDataFromEvent(e){const n=this,r=DomHelper.up(e.target,".b-grid-cell");if(r){const e=DomDataStore.get(r),{id:o,columnId:i}=e,a=n.store.getById(o),l=n.columns.getById(i);return a?{cellElement:r,cellData:e,columnId:i,id:o,record:a,column:l,cellSelector:{id:o,columnId:i}}:null}}getHeaderDataFromEvent(e){const n=DomHelper.up(e.target,".b-grid-header");if(n){const e=ObjectHelper.assign({},n.dataset),{columnId:r}=e,o=this.columns.getById(r);return o?{headerElement:n,headerData:e,columnId:r,column:o}:null}}handleEvent(e){this.disabled||Qs[e.type]&&this[Qs[e.type]](e)}onElementTouchStart(e){const n=this,r=n.getCellDataFromEvent(e);DomHelper.isTouchEvent=!0,1===e.touches.length&&(n.longPressTimeout=n.setTimeout((()=>{n.onElementLongPress(e),e.preventDefault(),n.longPressPerformed=!0}),n.longPressTime)),r&&!e.defaultPrevented&&n.onFocusGesture(r,e)}onElementTouchMove(e){const n=this;n.longPressTimeout&&(n.clearTimeout(n.longPressTimeout),n.longPressTimeout=null)}onElementTouchEnd(e){const n=this;n.longPressPerformed&&(e.cancelable&&e.preventDefault(),n.longPressPerformed=!1),n.longPressTimeout&&(n.clearTimeout(n.longPressTimeout),n.longPressTimeout=null)}onElementLongPress(e){}triggerCellMouseEvent(e,n){const r=this,o=r.getCellDataFromEvent(n);if(o){const a=r.columns.getById(o.columnId),l={grid:r,record:o.record,column:a,cellSelector:o.cellSelector,cellElement:o.cellElement,target:n.target,event:n};var i;if(r.trigger("cell"+StringHelper.capitalize(e),l),"click"===e)null===(i=a.onCellClick)||void 0===i||i.call(a,l)}}onElementMouseDown(e){const n=this,r=n.getCellDataFromEvent(e);n.skipFocusSelection=!0,n.isScrollbarClick(e)?e.preventDefault():(n.triggerCellMouseEvent("mousedown",e),r&&!e.defaultPrevented&&n.onFocusGesture(r,e))}isScrollbarClick({target:e,x:n,y:r}){if(e.matches(".b-vertical-overflow")){return n>e.getBoundingClientRect().right-DomHelper.scrollBarWidth}if(e.matches(".b-horizontal-overflow")){return r>e.getBoundingClientRect().bottom-DomHelper.scrollBarWidth}}onElementMouseMove(e){this.mouseMoveEvent=e}onElementMouseUp(e){}onHandleElementClick(e){!1!==this.trigger("beforeElementClick",{event:e})&&this.onElementClick(e)}onElementClick(e){const n=this,r=n.getCellDataFromEvent(e);r&&(n.triggerCellMouseEvent("click",e),DomDataStore.get(r.cellElement).row.removeCls("b-hover"))}onFocusGesture(e,n){e&&!n.target.matches(".b-icon-tree-expand, .b-icon-tree-collapse")&&this.focusCell(e.cellSelector,{scroll:!1,doSelect:!0,event:n})}onElementDblClick(e){const{target:n}=e;if(this.triggerCellMouseEvent("dblClick",e),n.classList.contains("b-grid-header-resize-handle")){const e=DomHelper.up(n,".b-grid-header");this.columns.getById(e.dataset.columnId).resizeToFitContent()}}onElementMouseOver(e){if(!this.scrolling){const n=DomHelper.up(e.target,".b-grid-cell");if(n){const r=DomDataStore.get(n).row;!r||"number"==typeof e.buttons&&0!==e.buttons||(this.hoveredRow=r),this.triggerCellMouseEvent("mouseOver",e)}this.trigger("mouseOver",{event:e})}}onElementMouseOut(e){if(this.hoveredRow=null,!this.scrolling){DomHelper.up(e.target,".b-grid-cell")&&this.triggerCellMouseEvent("mouseOut",e),this.trigger("mouseOut",{event:e})}}set hoveredRow(e){const n=this;n._hoveredRow&&!n._hoveredRow.isDestroyed&&(n._hoveredRow.removeCls("b-hover"),n._hoveredRow=null),e&&!n.scrolling&&(n._hoveredRow=e,e.addCls("b-hover"))}onElementKeyDown(e){var n;const r=this,{target:o,currentTarget:i,ctrlKey:a,key:l}=e;if(e.handled)return;const c=r.focusedCell,d=r.store.stm;if(d&&a&&"z"===l.toLowerCase()&&r.enableUndoRedoKeys&&(null===(n=r.features.cellEdit)||void 0===n||!n.isEditing)&&d.onUndoKeyPress(e),o.matches(".b-grid-header.b-depth-0"))r.handleHeaderKeyDown(e);else if(o===r.focusElement||BrowserHelper.isIE11&&i===r.focusElement){if(r.handleViewKeyDown(e),c){var u;const n=c.element,i=r.columns.getById(n.dataset.columnId);null===(u=i.onCellKeyDown)||void 0===u||u.call(i,{event:e,cellElement:n})," "===l&&i.onCellClick&&i.onCellClick({grid:r,column:i,record:r.store.getById(c.id),cellElement:n,target:o,event:e})}}else if("Escape"===l&&r.isActionableLocation){const e=ObjectHelper.clone(c);e.element=null,r.focusCell(e),DomHelper.focusWithoutScrolling(r.focusElement)}}handleViewKeyDown(e){const n=this;switch(e.key){case"ArrowLeft":return e.preventDefault(),n.navigateLeft(e);case"ArrowRight":return e.preventDefault(),n.navigateRight(e);case"ArrowUp":return e.preventDefault(),n.navigateUp(e);case"ArrowDown":return e.preventDefault(),n.navigateDown(e)}}handleHeaderKeyDown(e){const n=this,r=n.columns.getById(e.target.dataset.columnId);switch(r.onKeyDown&&r.onKeyDown(e),e.key){case"ArrowLeft":n.onHeaderLeftKey(r);break;case"ArrowRight":n.onHeaderRightKey(r);break;case"ArrowDown":e.preventDefault(),n.onHeaderDownKey(r);break;case"Enter":n.onHeaderEnterKey(r)}}onHeaderLeftKey(e){const n=this.columns.getAdjacentVisibleLeafColumn(e,!1);n&&this.getHeaderElement(n.id).focus()}onHeaderRightKey(e){const n=this.columns.getAdjacentVisibleLeafColumn(e,!0);n&&this.getHeaderElement(n.id).focus()}onHeaderDownKey(e){const n=this.firstFullyVisibleRow;n&&this.focusCell({columnId:e.id,id:n.id})}onHeaderEnterKey(e){this.getHeaderElement(e.id).click()}onElementKeyPress(e){}onElementKeyUp(e){}onElementContextMenu(e){const n=this,r=n.getCellDataFromEvent(e);r&&(n.triggerCellMouseEvent("contextMenu",e),DomHelper.isTouchEvent&&n.onFocusGesture(r,e))}onInternalResize(e,n,r,o,i){const a=this;a._devicePixelRatio&&a._devicePixelRatio!==window.devicePixelRatio&&DomHelper.resetScrollBarWidth(),a._devicePixelRatio=window.devicePixelRatio,a._bodyRectangle=Rectangle.client(a.bodyContainer),super.onInternalResize(...arguments),r!==i&&(a._bodyHeight=a.bodyContainer.offsetHeight,a.isPainted&&a.rowManager.initWithHeight(a._bodyHeight)),a.refreshVirtualScrollbars(),n!==o&&a.setTimeout((()=>{a.isDestroyed||a.updateResponsive(n,o)}),0)}get widgetClass(){}};const Zs={string:1,object:1,function:1};var GridFeatures=e=>class GridFeatures extends(e||Base){static get $name(){return"GridFeatures"}set features(e){const n=this,r=GridFeatureManager.getInstanceDefaultFeatures(this);e=n._features=ObjectHelper.assign({},e),r&&Object.keys(r).forEach((n=>{n in e||(e[n]=!0)}));const o=GridFeatureManager.getInstanceFeatures(this);for(const r of Object.keys(e)){const i=e[r];if(i){const a=!window.__bryntum_code_editor_changed;if(StringHelper.uncapitalize(r)!==r){const e=`Invalid feature name '${r}', must start with a lowercase letter`;if(a)throw new Error(e);console.error(e),n._errorDuringConfiguration=e}const l=o[r];if(!l){const e=`Feature '${r}' not available, make sure you have imported it`;if(a)throw new Error(e);return console.error(e),void(n._errorDuringConfiguration=e)}Reflect.defineProperty(e,r,n.createFeatureInitializer(e,r,l,i))}}}get features(){return this._features}createFeatureInitializer(e,n,r,o){const i=[this],a=r.prototype.construct;return Zs[typeof o]&&(i[1]=o),{configurable:!0,get:()=>(delete e[n],r.prototype.construct=function(...o){e[n]=this,a.apply(this,o),r.prototype.construct=a},new r(...i))}}hasFeature(e){const{features:n}=this;if(n){const n=Object.getOwnPropertyDescriptor(this.features,e);if(n)return Boolean(n.value||n.get)}return!1}get widgetClass(){}};const Js=Object.freeze({doSelect:!0}),ea=Object.freeze({x:!1,y:!1});var GridNavigation=e=>class GridNavigation extends(e||Base){static get $name(){return"GridNavigation"}get focusedCell(){const e=this._focusedCell;if(e&&this.getCell(e))return e;this.clearFocus()}get isActionableLocation(){const e=this._focusedCell;return Boolean(e&&e.element&&this.getCell(e).contains(e.element))}set focusedCell(e){this.focusCell(e,{doSelect:!1})}get focusedRecord(){if(this._focusedCell)return this.store.getById(this._focusedCell.id)}get cellCSSSelector(){const e=this._focusedCell,n=e&&this.getRowById(e.id);return e&&n?`[data-index=${n.index}] [data-column-id=${e.columnId}]`:""}onGridElementFocus(e){const n=this,r={doSelect:!1,event:e};if(n._initialFocusedCellContext){const{cellSelector:e,options:r}=n._initialFocusedCellContext;n._focusedCell=null,n.focusCell(e,r),n._initialFocusedCellContext=null}else if(n._focusedCell)n.focusCell(n._focusedCell,r);else{const o=n.element.contains(e.relatedTarget)?null:n.lastFocusedCell;if(o){const e=n.getCell(o);if(!e||!DomHelper.isVisible(e)||!n.store.getById(o.id))return void n.revertFocus();n.returningFocus=!0,n.focusCell(o,r),n.returningFocus=!1}else if(!n.scrolling&&!n.skipFocusSelection&&n.store.first){const{mouseMoveEvent:e,rowManager:o,_bodyRectangle:i}=n,a=e&&o.getRowAt(Math.min(Math.max(e.clientY,i.y),i.bottom))||n.firstFullyVisibleRow,l=e&&n.getCellDataFromEvent(e)||{id:a.id,columnId:n.columns.visibleColumns[0].id};n.getCell(l)&&n.focusCell(l,r)}}n.skipFocusSelection=!1}onFocusOut(e){super.onFocusOut(e),this.clearFocus()}afterHide(){super.afterHide(...arguments),this.lastFocusedCell=this.mouseMoveEvent=null}isFocused(e){return Boolean(this._focusedCell)&&this.isLocationEqual(e,this._focusedCell)}focusCell(e,n=Js){var r,o,i;if(!document.hasFocus()&&BrowserHelper.isMac&&2===(null===(r=n)||void 0===r||null===(o=r.event)||void 0===o?void 0:o.button))return;const a=this,l=DomHelper.getActiveElement(a);e=a.normalizeCellContext(e===Object?Object.assign({},e):e);const c=!1!==n.doSelect,{event:d,scroll:u}=n,p=a.lastFocusedCell=a._focusedCell,b=a.isLocationEqual(e,p),g=p&&a.getCell(p),m=a.getSubGridFromColumn(e.columnId);let f=a.getCell(e);if(d&&"mousedown"===d.type)for(let n=d.target;n!==f;n=n.parentElement)if(DomHelper.isFocusable(n))return void(e.element=n);if(b)return d&&a.onCellNavigate&&a.onCellNavigate(a,null,a._focusedCell,d,c),e;g&&g.classList.remove("b-focused");const v=f||a.getCell({row:a.rowManager.topIndex,columnId:e.columnId}),y=Rectangle.from(m.element),x=Rectangle.from(a.bodyContainer),C=Rectangle.from(v).moveTo(null,y.y);return!1===u?n=Object.assign({},n,ea):(n=Object.assign({},n,u),C.width>y.width||C.height>x.height?n.x=n.y=!1:n.column=e.columnId,a.scrollRowIntoView(e.id,n)),l===a.focusElement||a.focusElement.contains(l)||(null===(i=Widget.fromElement(l))||void 0===i?void 0:i.owner)===a?(f=a.getCell(e),f&&(e.element=f,f.classList.add("b-focused")),a._focusedCell=e,a.onCellNavigate&&a.onCellNavigate(a,p,a._focusedCell,d,c),a.trigger("navigate",{lastFocusedCell:p,focusedCell:a._focusedCell,event:d}),e):(a._initialFocusedCellContext={cellSelector:e,options:n},DomHelper.focusWithoutScrolling(a.focusElement),void(a.isLocationEqual(e,a._focusedCell)||BrowserHelper.isIE11||(a._initialFocusedCellContext=null)))}isLocationEqual(e,n){return e&&n&&e.id===n.id&&e.columnId===n.columnId&&(!e.element||!n.element||e.element===n.element)}blurCell(e){const n=this.getCell(e);n&&n.classList.remove("b-focused")}clearFocus(e){const n=this;n._focusedCell&&(n.lastFocusedCell=e?null:n._focusedCell,n.blurCell(n._focusedCell),n._focusedCell=null)}internalNextPrevCell(e=!0,n){const r=this,o=r._focusedCell;return o?r.focusCell({id:o.id,columnId:r.columns.getAdjacentVisibleLeafColumn(o.columnId,e,!0).id},{doSelect:!0,event:n}):null}navigateRight(e){return this.internalNextPrevCell(!0,e)}navigateLeft(e){return this.internalNextPrevCell(!1,e)}internalNextPrevRow(e,n=!0,r,o=!0){const i=this,a=i._focusedCell;if(!a)return!1;const l=i.store["get"+(e?"Next":"Prev")](a.id,!1,n);return l?i.focusCell({id:l.id,columnId:a.columnId,scroll:{x:!1}},{doSelect:!0,event:r}):!e&&o?(this.clearFocus(),this.getHeaderElement(a.columnId).focus()):void 0}navigateDown(e){return this.internalNextPrevRow(!0,!1,e)}navigateUp(e){return this.internalNextPrevRow(!1,!1,e)}get widgetClass(){}},GridResponsive=e=>class GridResponsive extends(e||Base){static get $name(){return"GridResponsive"}static get defaultConfig(){return{responsiveLevels:Object.freeze({small:400,medium:600,large:"*"})}}getClosestBiggerLevel(e){const n=this,r=Object.keys(ObjectHelper.assign({},n.responsiveLevels));let o=null,i=99995,a=null;return r.forEach((r=>{let l=n.responsiveLevels[r];if(["number","string"].includes(typeof l)||(l=l.levelWidth),"*"===l)a=r;else if(e<l){const n=l-e;n<i&&(i=n,o=r)}})),o||a}get responsiveLevel(){return this.getClosestBiggerLevel(this.width)}updateResponsive(e,n){const r=this,o=r.getClosestBiggerLevel(n),i=r.getClosestBiggerLevel(e);if(0===n||o!==i){const a=r.responsiveLevels[i];["number","string"].includes(typeof a)||r.applyState(a),r.columns.forEach((e=>{const n=e.responsiveLevels;n&&(n[i]?e.applyState(n[i]):n["*"]&&e.applyState(n["*"]))})),r.element.classList.remove("b-responsive-"+o),r.element.classList.add("b-responsive-"+i),r.trigger("responsive",{level:i,width:e,oldLevel:o,oldWidth:n})}}get widgetClass(){}};const ta={string:1,number:1},na={dataset:1,batch:1};var GridSelection=e=>class GridSelection extends(e||Base){static get $name(){return"GridSelection"}static get defaultConfig(){return{selectionMode:{row:!0,cell:!0,rowCheckboxSelection:!1,multiSelect:!0,checkbox:!1,showCheckAll:!1,deselectFilteredOutRecords:!1,includeChildren:!1,preserveSelectionOnPageChange:!1,preserveSelectionOnDatasetChange:!0},selectedRecordCollection:{}}}afterConfigure(){const e=this;if(e.selectionMode.checkbox){const n=ColumnStore.getColumnClass("check"),r=!0===e.selectionMode.checkbox?null:e.selectionMode.checkbox;if(!n)throw new Error("CheckColumn must be imported for checkbox selection mode to work");const o=e.checkboxSelectionColumn=new n(ObjectHelper.assign({id:`${e.id}-selection-column`,width:"4em",minWidth:"4em",field:null,cellCls:"b-checkbox-selection",region:e.items[0].region,showCheckAll:e.selectionMode.showCheckAll},r),e.columns);o.isSelectionColumn=!0,o.meta.depth=0,o._grid=e;const i=o.renderer;o.renderer=n=>{n.value=e.isSelected(n.record),i.call(o,n)},o.on({toggle:"onCheckChange",toggleAll:"onCheckAllChange",thisObj:e});const a=e.columns.indexOf(e.columns.findRecord("type","rownumber"))+1;e.columns.insert(a,o)}super.afterConfigure()}bindStore(e){var n;this.detachListeners("selectionStoreFilter"),e.on({name:"selectionStoreFilter",filter:"onStoreFilter",thisObj:this}),null===(n=super.bindStore)||void 0===n||n.call(this,e)}unbindStore(e){this.detachListeners("selectionStoreFilter"),super.unbindStore(e)}onStoreFilter({records:e}){if(this.selectionMode.deselectFilteredOutRecords){const{filtersFunction:e}=this.store,n=this.selectedRecordCollection.values.filter((n=>!e(n)));this.selectedRecordCollection.remove(n)}}onStoreRecordIdChange({record:e,oldValue:n}){super.onStoreRecordIdChange&&super.onStoreRecordIdChange(...arguments);this.selectedRecordCollection.get(n)===e&&this.selectedRecordCollection.rebuildIndices()}onSelectedRecordCollectionChange({source:e,action:n,added:r=[],removed:o}){const i=this;i._selectedCell&&!i.isSelectable(i._selectedCell)&&i.deselectCell(i._selectedCell),r=r.filter((e=>i.isSelectable(e))),i.triggerChangeEvent({mode:"row",action:r.length?"select":"deselect",selection:i.selectedRecords,selected:r,deselected:o},i.silent)}onCheckChange({source:e,checked:n,record:r}){const o=this,{selectionMode:i,store:a}=o,l=[r,...i.includeChildren&&!1!==i.multiSelect&&!r.isLeaf&&r.allChildren||[]];n?(o.selectRows(l,!1!==i.multiSelect),e.headerCheckbox&&o.selectedRecords.length===a.count-(a.groupRecords?a.groupRecords.length:0)&&(e.suspendEvents(),e.headerCheckbox.checked=!0,e.resumeEvents())):(o.deselectRows(l),e.headerCheckbox&&(e.suspendEvents(),e.headerCheckbox.checked=!1,e.resumeEvents()))}onCheckAllChange({checked:e}){this[e?"selectAll":"deselectAll"](this.store.isPaged&&this.selectionMode.preserveSelectionOnPageChange)}set selectedRecordCollection(e){e instanceof Collection||(e=new Collection(e)),this._selectedRecordCollection=e,e.on({change:"onSelectedRecordCollectionChange",thisObj:this})}get selectedRecordCollection(){return this._selectedRecordCollection}spliceSelectedRecords(e,n,r){this._selectedRecordCollection.splice(e,n,r)}isSelected(e){var n;const r=this;return null!==(n=e)&&void 0!==n&&n.isModel&&(e=e.id),ta[typeof e]?r.selectedRecordCollection.includes(e):r._selectedCell&&r._selectedCell.id==e.id&&r._selectedCell.columnId===e.columnId}isSelectable(e){if(!e)return!1;const n=this.store.getById(e.id||e);return n&&!(n.meta&&n.isSpecialRow)}get selectedCell(){return this._selectedCell}set selectedCell(e){this.selectCell(e)}set selectionMode(e){null!=e&&e.rowCheckboxSelection&&(e.row=!0,e.checkbox=e.checkbox||!0,e.cell=!1),this._selectionMode=e}get selectionMode(){return this._selectionMode}get selectedRecord(){return this.selectedRecordCollection.last||null}set selectedRecord(e){this.selectRow({record:e})}get selectedRecords(){return this.selectedRecordCollection.values}set selectedRecords(e){this.selectRows(e)}get selectedCellCSSSelector(){const e=this._selectedCell,n=e&&this.getRowById(e.id);return e&&n?`[data-index=${n.dataIndex}] [data-column-id=${e.columnId}]`:""}selectRow({record:e,column:n=this.columns.visibleColumns[0],scrollIntoView:r=!0,addToSelection:o=!1}){const i=this;(e=arguments[0].isModel?arguments[0]:i.store.getById(e))?i.selectCell({id:e.id,column:n},r,o):i.deselectAll()}selectCell(e,n=!1,r=!1,o=!1){const i=this,{selectedRecordCollection:a,selectionMode:l}=i,c=i.normalizeCellContext(e),d=c.record||i.store.getById(c.id);if(i.isSelectable(d)){if(n&&i.scrollRowIntoView(c.id,{column:c.columnId}),l.row&&(o&&(i.silent=(i.silent||0)+1),r?a.add(d):a.splice(0,a.count,d),o&&i.silent--,1===i.selectedRecordCollection.count&&(i.startCell=c,i.lastRange=null)),l.cell&&(c.columnId||c.column)&&!i.isSelected(c)){const e=i._selectedCell?[i._selectedCell]:[];i._selectedCell=c,i.triggerChangeEvent({mode:"cell",action:"select",selected:[c],deselected:e,selection:[c]},o)}return c}i.deselectAll()}selectAll(){const e=this,{store:n}=e;n.isFiltered&&!e.selectionMode.deselectFilteredOutRecords?e.selectedRecordCollection.add(...(n.isGrouped?n.allRecords:n.records).filter((e=>!e.isSpecialRow))):e.selectRows(n.allRecords.filter((e=>!e.isSpecialRow)),!0)}deselectAll(e=!1){const n=this;e?n.selectedRecordCollection.remove(...n.store.records):n.selectedRecordCollection.clear(),n._selectedCell&&n.deselectCell(n._selectedCell)}deselectRow(e){this.deselectRows(e)}selectRows(e,n=!1){const{store:r}=this,o=[];e=Array.isArray(e)?e:null==e?[]:[e];for(let n of e)n=r.getById(n),n&&o.push(n);n?this.selectedRecordCollection.add(o):this.selectedRecordCollection.splice(0,this.selectedRecordCollection.count,o)}deselectRows(e){const n=(e=Array.isArray(e)?e:[e]).map((e=>this.store.getById(e)));this.selectedRecordCollection.remove(n)}deselectCell(e){const n=this,r=n.normalizeCellContext(e),o=n.selectionMode,i=r.record||n.store.getById(r.id),a=n._selectedCell;return o.row&&n.selectedRecordCollection.remove(i),o.cell&&r.columnId&&a&&a.id===r.id&&a.columnId===r.columnId&&(n._selectedCell=null,n.triggerChangeEvent({mode:"cell",action:"deselect",selected:[],deselected:[r],selection:[]})),r}selectRange(e,n){const{store:r,selectedRecordCollection:o}=this,i=r.indexOf(e),a=r.indexOf(n),l=Math.min(i,a),c=Math.max(i,a);if(-1===l||-1===c)throw new Error("Record not found in selectRange");o.splice(0,o.count,r.getRange(l,c+1,!1))}onStoreRemove(e){super.onStoreRemove&&super.onStoreRemove(e),e.isCollapse||this.selectedRecordCollection.remove(e.records)}onStoreDataChange({action:e,source:n}){const r=this,{selectionMode:o,checkboxSelectionColumn:i,selectedRecordCollection:a}=r;if(super.onStoreDataChange&&super.onStoreDataChange(...arguments),"pageLoad"===e)o.preserveSelectionOnPageChange||r.deselectAll(),null==i||i.updateCheckAllState(!n.find((e=>!a.includes(e))));else if(na[e]){const e=[];!1===o.preserveSelectionOnDatasetChange?r.deselectAll():(a.forEach((r=>{const o=n.getById(r.id);if(o){const e=a.indexOf(r);a.splice(e,1,o)}else e.push(r)})),a.remove(e))}}onStoreRemoveAll(){super.onStoreRemoveAll&&super.onStoreRemoveAll(),this.deselectAll()}handleMouseMultiSelect(e,n){const r=this,o=e.id;(n.metaKey||n.ctrlKey)&&r.isSelected(o)?r.deselectRow(o):r.selectionMode.multiSelect&&(n.shiftKey&&r.startCell?function mergeRange(e,n){const{store:o,selectedRecordCollection:i}=r,a=o.indexOf(e),l=o.indexOf(n),c=Math.min(a,l),d=Math.max(a,l);if(-1===c||-1===d)throw new Error("Record not found in selectRange");const u=o.getRange(c,d+1,!1).filter((e=>r.isSelectable(e)));i.splice(0,r.lastRange||0,u),r.lastRange=u}(r.startCell.id,o):(n.ctrlKey||n.metaKey)&&r.selectRow({record:o,scrollIntoView:!1,addToSelection:!0}))}onCellNavigate(e,n,r,o,i=!0){if(e.columns.getById(r.columnId)===e.checkboxSelectionColumn||e.selectionMode.rowCheckboxSelection)return;if(!i||e.returningFocus||o&&0===o.button&&o.target.closest(".b-tree-expander"))return;const a=n&&r.id===n.id,l=o&&"mousedown"===o.type&&o.ctrlKey;if(!o||o.button&&2!==o.button||!o.shiftKey&&!l){const n=a&&(!o||o.shiftKey||o.ctrlKey),i=o&&e.isSelected(r.id),c=l;e.selectCell(r,!1,n||c||i)}else e.handleMouseMultiSelect(r,o);e.startCell&&!l||(e.startCell=r,e.lastRange=null)}triggerChangeEvent(e,n){const r=this,{mode:o,selected:i,deselected:a}=e,{checkboxSelectionColumn:l}=r;let c,d,u,p;if("row"===o){for(c=0,d=i.length;c<d;c++)u=r.getRowFor(i[c]),u&&(u.addCls("b-selected"),!l||l.hidden||i[c].isSpecialRow||(u.getCell(l.id).widget.checked=!0));for(c=0,d=a.length;c<d;c++)u=r.getRowFor(a[c]),u&&(u.removeCls("b-selected"),!l||l.hidden||a[c].isSpecialRow||(u.getCell(l.id).widget.checked=!1))}else if("cell"===o){for(c=0,d=i.length;c<d;c++)p=r.getCell(i[c]),p&&p.classList.add("b-selected");for(c=0,d=a.length;c<d;c++)p=r.getCell(a[c]),p&&p.classList.remove("b-selected")}n||r.trigger("selectionChange",e)}onCellClick({event:e,record:n}){const r=this;r.selectionMode.checkbox||!r.selectionMode.multiSelect||e.shiftKey||e.metaKey||e.ctrlKey||r.deselectRows(r.selectedRecords.filter((e=>e!==n)))}doDestroy(){var e;null===(e=this.selectedRecordCollection)||void 0===e||e.destroy(),super.doDestroy()}get widgetClass(){}};const suspendStoreEvents=e=>e.columns.suspendEvents(),resumeStoreEvents=e=>e.columns.resumeEvents(),fillSubGridColumns=e=>{e.columns.clearCaches(),e.columns.fillFromMaster()},compareStateSortIndex=(e,n)=>e.stateSortIndex-n.stateSortIndex;var GridState=e=>class GridState extends(e||Base){static get $name(){return"GridState"}getState(){const e=this,n=e.element.style.cssText,r={rowHeight:e.rowHeight,readOnly:e.readOnly};if(n&&(r.style=n),e.selectedCell){const{id:n,columnId:o}=e.selectedCell;r.selectedCell={id:n,columnId:o}}return r.selectedRecords=e.selectedRecords.map((e=>e.id)),r.columns=e.columns.map((e=>e.getState())),r.store=e.store.state,r.scroll=e.storeScroll(),r.subGrids={},e.eachSubGrid((e=>{var n;const o=r.subGrids[e.region]=r.subGrids[e.region]||{};null==e.flex&&(o.width=e.width),o.collapsed=null!==(n=e.collapsed)&&void 0!==n&&n,o.collapsed&&(o._beforeCollapseState=e._beforeCollapseState)})),r}applyState(e){const n=this;if("columns"in e){let r=!1,o=!1;n.columns.suspendEvents(),n.eachSubGrid(suspendStoreEvents),e.columns.forEach(((e,i)=>{const a=n.columns.getById(e.id);if(a){const n=a.generation;a.applyState(e),r=r||a.generation!==n,a.stateSortIndex=i,a.allIndex!==i&&(o=r=!0)}})),r&&n.eachSubGrid(fillSubGridColumns),o&&(n.eachSubGrid((e=>{e.columns.records.sort(compareStateSortIndex),e.columns.allRecords.sort(compareStateSortIndex)})),n.columns.sort({fn:compareStateSortIndex,ascending:!0})),n.isPainted&&r&&n.renderContents(),n.columns.resumeEvents(),n.eachSubGrid(resumeStoreEvents)}"subGrids"in e&&n.eachSubGrid((n=>{if(n.region in e.subGrids){const r=e.subGrids[n.region];"width"in r&&(n.width=r.width),"collapsed"in r&&(n.collapsed=r.collapsed,n._beforeCollapseState=r._beforeCollapseState)}})),"readOnly"in e&&(n.readOnly=e.readOnly),"rowHeight"in e&&(n.rowHeight=e.rowHeight),"style"in e&&(n.style=e.style),"selectedCell"in e&&(n.selectedCell=e.selectedCell),"store"in e&&(n.store.state=e.store),"selectedRecords"in e&&(n.selectedRecords=e.selectedRecords),"scroll"in e&&n.restoreScroll(e.scroll)}get widgetClass(){}};const ra=Promise.resolve(),oa={block:"nearest"};class SubGridScroller extends Scroller{static get configurable(){return{propagate:!1}}scrollIntoView(e,n=oa){const{xDelta:r,yDelta:o}=this.getDeltaTo(e,n),i=r||o?this.scrollBy(r,o,n):ra;return(n.highlight||n.focus)&&i.then((()=>{n.highlight&&(e instanceof Rectangle?e.translate(-r,-o).highlight():DomHelper.highlight(e)),n.focus&&e.focus&&e.focus()})),i}scrollBy(e,n,r){const o=n&&this.yScroller.scrollBy(0,n,r),i=e&&super.scrollBy(e,0,r);if(i&&i.cancel&&o&&o.cancel){const e=i.cancel,n=o.cancel;return i.cancel=o.cancel=()=>{e(),n()},Promise.all([i,o])}return i||o||ra}scrollTo(e,n,r){const o=null!=n&&this.yScroller.scrollTo(null,n,r),i=null!=e&&super.scrollTo(e,null,r);if(r&&r.animate||this.syncPartners(),i&&i.cancel&&o&&o.cancel){const e=i.cancel,n=o.cancel;return i.cancel=o.cancel=()=>{e(),n()},Promise.all([i,o])}return i||o||ra}get viewport(){const e=Rectangle.from(this.element);return e.intersect(Rectangle.from(this.yScroller.element))||new Rectangle(e.x,e.y,e.width,0)}set y(e){this.yScroller&&(this.yScroller.y=e)}get y(){return this.yScroller?this.yScroller.y:0}get maxY(){return this.yScroller?this.yScroller.maxY:0}get scrollHeight(){return this.yScroller?this.yScroller.scrollHeight:0}get clientHeight(){return this.yScroller?this.yScroller.clientHeight:0}}SubGridScroller._$name="SubGridScroller";class SubGrid extends Widget{static get $name(){return"SubGrid"}static get type(){return"subgrid"}static get defaultConfig(){return{localizableProperties:["emptyText"],insertRowsBefore:null,appendTo:null,monitorResize:!0,headerClass:null,footerClass:null,collapsed:null,scrollable:{overflowX:!0},scrollerClass:SubGridScroller,hasCalculatedWidth:null,sealedColumns:null,emptyText:null}}static get configurable(){return{element:!0,header:{},footer:{},virtualScrollerElement:!0,splitterElement:!0,headerSplitter:!0,scrollerSplitter:!0,footerSplitter:!0,resizable:null}}construct(e){const n=this;if(super.construct(e),this.rowManager.on("addrows",this.onAddRow,this),BrowserHelper.isFirefox){const{element:e}=n,r=n.grid.scrollable;let o=0;e.addEventListener("wheel",(({ctrlKey:i,deltaY:a,deltaX:l})=>{const c=Math.abs(a)>Math.abs(l);i||!c||n.scrollEndDetacher||r.y===o||(e.style.pointerEvents="none",o=r.y,n.scrollEndDetacher=r.on({scrollEnd:async()=>{o=r.y,e.style.pointerEvents="",n.scrollEndDetacher=null},once:!0}))}))}}doDestroy(){var e;const n=this;n.header.destroy(),n.footer.destroy(),null===(e=n.fakeScroller)||void 0===e||e.destroy(),n.virtualScrollerElement.remove(),n.splitterElement.remove(),n.headerSplitter.remove(),n.scrollerSplitter.remove(),n.footerSplitter.remove(),super.doDestroy()}get barConfig(){const e=this,{width:n,flex:r}=e.element.style,o={subGrid:e,parent:e};return r?o.flex=r:n&&(o.width=n),o}changeHeader(e){return new this.headerClass(ObjectHelper.assign({id:this.id+"-header"},this.barConfig,e))}changeFooter(e){return new this.footerClass(ObjectHelper.assign({id:this.id+"-footer"},this.barConfig,e))}toggleSplitterCls(e,n=!0){const r=this;[r.splitterElement,r.headerSplitter,r.footerSplitter,r.scrollerSplitter].forEach((r=>null==r?void 0:r.classList[n?"add":"remove"](e)))}changeElement(e,n){const{region:r}=this;return super.changeElement({className:{"b-grid-subgrid":1,[`b-grid-subgrid-${r}`]:r,"b-grid-horizontal-scroller":1,"b-grid-subgrid-collapsed":this.collapsed},dataset:{region:r}},n)}get rowElementConfig(){return{className:"b-grid-row",children:this.columns.visibleColumns.map((e=>({className:"b-grid-cell",dataset:{column:e.field||"",columnId:e.id}})))}}changeVirtualScrollerElement(){const e=DomHelper.createElement({reference:"virtualScrollerElement",className:"b-virtual-scroller",dataset:{region:this.region},children:[{reference:"virtualScrollerWidth",className:"b-virtual-width"}]});return this.virtualScrollerWidth=e.virtualScrollerWidth,e.virtualScrollerElement}changeSplitterElement(){const e=DomHelper.createElement({reference:"splitterElement",className:{"b-grid-splitter":1,"b-grid-splitter-collapsed":this.collapsed,"b-hide-display":1},dataset:{region:this.region},children:[{className:"b-grid-splitter-inner b-grid-splitter-main",children:[{className:"b-grid-splitter-buttons",reference:"splitterButtons",children:[{tag:"i",className:"b-icon b-icon-collapse-gridregion"},{tag:"i",className:"b-icon b-icon-expand-gridregion"}]}]}]});return this.splitterButtons=e.splitterButtons,e.splitterElement}get splitterConfig(){return{className:this.splitterElement.className.trim(),children:[{className:"b-grid-splitter-inner"}],dataset:{region:this.region}}}changeHeaderSplitter(){return DomHelper.createElement(this.splitterConfig)}changeScrollerSplitter(){return DomHelper.createElement(this.splitterConfig)}changeFooterSplitter(){return DomHelper.createElement(this.splitterConfig)}hideSplitter(){const e=this;e.splitterElement.classList.add("b-hide-display"),e.headerSplitter.classList.add("b-hide-display"),e.scrollerSplitter.classList.add("b-hide-display"),e.footerSplitter.classList.add("b-hide-display"),e.$showingSplitter=!1}showSplitter(){const e=this;e.splitterElement.classList.remove("b-hide-display"),e.headerSplitter.classList.remove("b-hide-display"),e.scrollerSplitter.classList.remove("b-hide-display"),e.footerSplitter.classList.remove("b-hide-display"),e.$showingSplitter=!0}render(...e){const n=this;super.render(...e),n.grid&&(n.updateHasFlex(),n.element.parentNode.insertBefore(n.splitterElement,n.element.nextElementSibling),EventHelper.on({element:n.grid.element,delegate:`.b-grid-splitter[data-region=${n.region}]`,mouseover:"onSplitterMouseOver",mouseout:"onSplitterMouseOut",thisObj:n}),n._collapsed&&n.collapse())}refreshHeader(){this.header.refreshContent()}refreshFooter(){var e;null===(e=this.footer)||void 0===e||e.refreshContent()}eachWidget(e,n=!0){const r=[this.header,this.footer];for(let o=0;o<r.length;o++){const i=r[o];if(!1===e(i))return;n&&i.eachWidget&&i.eachWidget(e,n)}}fixCellWidths(e){const{visibleColumns:n}=this.columns;let r=e.firstElementChild,o=0;for(;r;){const e=n[o];e.minWidth&&(r.style.minWidth=DomHelper.setLength(e.minWidth)),e.maxWidth&&(r.style.maxWidth=DomHelper.setLength(e.maxWidth)),e.flex?(r.style.flex=e.flex,r.style.width=""):e.width?(r.style.width=DomHelper.setLength(e.width),BrowserHelper.isIE11&&(r.style.flex="",r.style.minWidth=DomHelper.setLength(e.calcMinWidth))):r.style.flex=r.style.width=r.style.minWidth="",r=r.nextElementSibling,o++}}get totalFixedWidth(){return this.columns.totalFixedWidth}fixWidths(){const e=this,{element:n,header:r,footer:o}=e;if(!e.collapsed){if(e.flex)r.flex=e.flex,o&&(o.flex=e.flex),n.style.flex=e.flex;else{if(e.hasCalculatedWidth&&!e.columns.some((e=>!e.hidden&&e.flex))&&e.totalFixedWidth!==e.width)return e.width=e.totalFixedWidth,void(e.hasCalculatedWidth=!0);let i=e.width;if(!i){i=0;for(const n of e.columns)n.flex||n.hidden||(i+=n.width)}n.style.width=`${i}px`,r.width=i,o&&(o.width=i)}e.syncScrollingPartners(!1)}}fixRowWidthsInSafariEdge(){if(BrowserHelper.isSafari||BrowserHelper.isEdge){const e=this,{region:n,header:r}=e,o=r.calculateMinWidthForSafari();e.rowManager.forEach((e=>{const r=e.getElement(n);r&&(r.style.width=`${o}px`)})),r.headersElement.style.width=`${o}px`}}set width(e){const n=this;n.hasCalculatedWidth=!1,super.width=e,n.header.width=e,n.footer.width=e,n.isPainted&&n.onElementResize()}get width(){return super.width}set flex(e){const n=this;n.hasCalculatedWidth=!1,n.header.flex=e,n.footer.flex=e,super.flex=e,n.isPainted&&n.onElementResize()}get flex(){return super.flex}onInternalResize(e,n,r,o,i){const a=this,{grid:l}=a;super.onInternalResize(e,n,r,o,i),l&&(a.syncSplitterButtonPosition(),n!==o&&(l.trigger("horizontalScroll",{subGrid:a,grid:l,scrollLeft:a.scrollable.x}),a.fakeScroller&&a.refreshFakeScroll(),a.fixRowWidthsInSafariEdge()),a.trigger("afterInternalResize",a))}syncParallelSplitters(e){const n=this,{grid:r}=n;if(n.splitterElement&&n.$showingSplitter)n.toggleSplitterCls("b-grid-splitter-collapsed",e);else{const o=r.getSubGrid(r.getPreviousRegion(n.region));o&&o.splitterElement&&o.syncParallelSplitters(e)}}onSplitterMouseOver(){const e=this,{nextSibling:n}=e;e.collapsed||n&&n.collapsed||e.toggleSplitterCls("b-hover"),e.startSplitterButtonSyncing()}onSplitterMouseOut(){const e=this,{nextSibling:n}=e;e.toggleSplitterCls("b-hover",!1),e.collapsed||n&&n.collapsed||e.stopSplitterButtonSyncing()}startSplitterButtonSyncing(){const e=this;e.splitterElement&&(e.syncSplitterButtonPosition(),e.splitterSyncScrollListener||(e.splitterSyncScrollListener=e.grid.scrollable.on({scroll:"syncSplitterButtonPosition",thisObj:e})))}stopSplitterButtonSyncing(){this.splitterSyncScrollListener&&(this.splitterSyncScrollListener(),this.splitterSyncScrollListener=null)}syncSplitterButtonPosition(){const e=this;e.splitterButtons.style.transform=`translateY(${e.grid.scrollable.y+(e.grid.bodyHeight-(e.headerSplitter?e.grid.headerHeight:0))/2}px)`}get viewRectangle(){const{scrollable:e}=this;return new Rectangle(e.x,e.y,this.width||0,this.rowManager.viewHeight)}updateHasFlex(){const e=this.columns.visibleColumns.some((e=>e.flex));DomHelper.toggleClasses(this.element,["b-has-flex"],e)}updateResizable(e){const n=this;[n.splitterElement,n.headerSplitter,n.scrollerSplitter,n.footerSplitter].forEach((n=>DomHelper.toggleClasses(n,["b-disabled"],!e)))}resizeColumnsToFitContent(){this.grid.beginGridMeasuring(),this.columns.visibleColumns.forEach((e=>{e.resizeToFitContent(null,null,!0)})),this.grid.endGridMeasuring()}get overflowingHorizontally(){const{scrollable:e}=this;return e.scrollWidth>e.clientWidth+(BrowserHelper.isEdge?1:0)}get overflowingVertically(){const{scrollable:e}=this;return e.scrollHeight>e.clientHeight+(BrowserHelper.isEdge?1:0)}refreshFakeScroll(){const e=this,{element:n,virtualScrollerElement:r,virtualScrollerWidth:o,header:i,footer:a,scrollable:l}=e,c=i.scrollable.scrollWidth;l.scrollWidth=c,r.style.width=n.style.width,r.style.flex=n.style.flex,e.collapsed||(e.overflowingHorizontally?(o.style.width=`${l.scrollWidth||0}px`,i.element.classList.add("b-overflowing"),a.element.classList.add("b-overflowing"),e.grid.virtualScrollers.classList.remove("b-hide-display")):(o.style.width=0,i.element.classList.remove("b-overflowing"),a.element.classList.remove("b-overflowing")))}initScroll(){const e=this,{scrollable:n,virtualScrollerElement:r}=e;e.syncPartnersOnFrame=e.createOnFrame(e.syncScrollingPartners),BrowserHelper.isFirefox&&n.element.addEventListener("wheel",(e=>{e.deltaX&&(n.x+=e.deltaX,e.preventDefault())})),n.yScroller=e.grid.scrollable,n.yScroller.addScroller(n),e.fakeScroller=new Scroller({element:r,overflowX:!0}),n.on({scroll:"onSubGridScroll",scrollend:"onSubGridScrollEnd",thisObj:e}),n.addPartner(e.fakeScroller,"x"),n.addPartner(e.header.scrollable,"x"),n.addPartner(e.footer.scrollable,"x"),e.refreshFakeScroll()}onSubGridScrollEnd(){this.forceScrollUpdate||this.syncScrollingPartners(),this.scrolling=!1,DomHelper.scrollBarWidth||this.grid.virtualScrollers.classList.remove("b-scrolling")}onSubGridScroll(){this.forceScrollUpdate?(this.syncScrollingPartners(),this.forceScrollUpdate=!1):this.syncPartnersOnFrame()}set scrolling(e){this._scrolling=e}get scrolling(){return this._scrolling}syncScrollingPartners(e=!0){const n=this,{grid:r}=n;!n.scrolling&&e&&(n.scrolling=!0,DomHelper.scrollBarWidth||r.virtualScrollers.classList.add("b-scrolling")),r.trigger("horizontalScroll",{subGrid:n,grid:r,scrollLeft:n.scrollable.x})}scrollColumnIntoView(e,n){const r=this,o=r.header.scrollable;if(e=e instanceof Column?e:r.columns.get(e)||r.columns.getById(e)||r.columns.getAt(e)){const i=r.header.getHeader(e.id);if(i)return o.scrollIntoView(Rectangle.from(i,null,!0),n)}}onAddRow({rows:e}){const n=this,r=n.rowElementConfig,o=document.createDocumentFragment();e.forEach((e=>{const i=DomHelper.createElement(r);o.appendChild(i),e.addElement(n.region,i),n.fixCellWidths(i)})),n.fixRowWidthsInSafariEdge(),n.element.insertBefore(o,n.insertRowsBefore)}get rowElements(){return this.fromCache(".b-grid-row",!0)}clearRows(){this.emptyCache();const e=this.element.querySelectorAll(".b-grid-row"),n=document.createRange();e.length&&(n.setStartBefore(e[0]),n.setEndAfter(e[e.length-1]),n.deleteContents())}addNewRowElement(){const e=DomHelper.append(this.element,this.rowElementConfig);return this.fixCellWidths(e),e}get emptyText(){return this._emptyText}set emptyText(e){this._emptyText=e,this.element.dataset.emptyText=e}get store(){return this.grid.store}get rowManager(){var e;return null===(e=this.grid)||void 0===e?void 0:e.rowManager}toggleTransitionClasses(e=!1){const n=this,r=n.grid,o=r.getSubGrid(r.getNextRegion(n.region)),i=r.resolveSplitter(o);o.element.classList[e?"remove":"add"]("b-grid-subgrid-animate-collapse"),o.header.element.classList[e?"remove":"add"]("b-grid-subgrid-animate-collapse"),n.element.classList[e?"remove":"add"]("b-grid-subgrid-animate-collapse"),n.header.element.classList[e?"remove":"add"]("b-grid-subgrid-animate-collapse"),i.classList[e?"remove":"add"]("b-grid-splitter-animate")}get collapsed(){return this._collapsed}set collapsed(e){this.isConfiguring?this._collapsed=e:e?this.collapse():this.expand()}async collapse(){const e=this,n=e.grid,r=n.getSubGrid(n.getNextRegion(e.region)),o=e.splitterElement?e:e.previousSibling;let i=0;return n.eachSubGrid((n=>{n!==e&&!n._collapsed&&++i})),0===i&&await r.expand(),new Promise((n=>{if(!e._beforeCollapseState){e._beforeCollapseState={};let o=!1;e.width&&(o=!0,e.on({afterinternalresize:()=>{n(e)},thisObj:e,once:!0})),e._beforeCollapseState.width=e.width,e._beforeCollapseState.elementWidth=e.element.style.width,""===r.element.style.flex&&(e._beforeCollapseState.nextRegionWidth=r.width,r.width+=e._beforeCollapseState.width),""!==e.element.style.flex&&(e._beforeCollapseState.flex=e.element.style.flex,e.header.element.style.flex=e.element.style.flex=""),e.element.classList.add("b-grid-subgrid-collapsed"),e.virtualScrollerElement.classList.add("b-collapsed"),e.header.element.classList.add("b-collapsed"),e.footer.element.classList.add("b-collapsed"),e._collapsed=!0,e.width="",o||(e.syncParallelSplitters(!0),n(!1))}})).then((n=>{if(!e.isDestroyed){var r;if(!1!==n)e.syncParallelSplitters(!0),null===(r=o.startSplitterButtonSyncing)||void 0===r||r.call(o);e.grid.trigger("subGridCollapse",{subGrid:e})}}))}async expand(){const e=this,n=e.grid,r=n.getSubGrid(n.getNextRegion(e.region)),o=e.splitterElement?e:e.previousSibling;return new Promise((n=>{if(null!=e._beforeCollapseState){let o=!1;e.width!==e._beforeCollapseState.elementWidth&&(o=!0,e.on({afterinternalresize:()=>{e.setTimeout((()=>n(e)),10)},thisObj:e,once:!0})),""===r.element.style.flex&&(r.width=e._beforeCollapseState.nextRegionWidth),e.element.classList.remove("b-grid-subgrid-collapsed"),e._collapsed=!1,e.virtualScrollerElement.classList.remove("b-collapsed"),e.header.element.classList.remove("b-collapsed"),e.footer.element.classList.remove("b-collapsed"),e._beforeCollapseState.flex?(e.width=e._beforeCollapseState.width,e.header.flex=e.flex=e._beforeCollapseState.flex,e.footer.flex=e._beforeCollapseState.flex,e._width=null):e.width=e._beforeCollapseState.elementWidth,e.element.classList.remove("b-grid-subgrid-collapsed"),e._collapsed=!1,o||n(!1),delete e._beforeCollapseState}})).then((n=>{!1!==n&&(o.stopSplitterButtonSyncing(),e.syncParallelSplitters(!1),e.grid.trigger("subGridExpand",{subGrid:e}))}))}}SubGrid.initClass(),SubGrid._$name="SubGrid";var GridSubGrids=e=>class GridSubGrids extends(e||Base){static get $name(){return"GridSubGrids"}static get properties(){return{subGrids:{}}}changeSubGridConfigs(e){const n=this,r=new Set;for(const o of n.columns){const{region:n}=o;n&&(e[n]||(e[n]={}),r.add(n))}e.normal&&ObjectHelper.isEmpty(e.normal)&&(e.normal=GridBase.defaultConfig.subGridConfigs.normal);for(const o of r)n.createSubGrid(o,e[o]);return n.items=n.subGrids,e}createSubGrid(e,n=null){const r=this,o=r.columns.makeChained((n=>n.region===e),["region"]),i=ObjectHelper.assign({type:"subgrid",id:`${r.id}-${e}Subgrid`,grid:r,region:e,headerClass:r.headerClass,footerClass:r.footerClass,columns:o,weight:e},n||r.subGridConfigs[e]);let a=!1;i.flex||i.width||(i.width=o.totalFixedWidth,a=!0);const l=r.subGrids[e]=SubGrid.create(i);return l.hasCalculatedWidth=a,e===r.regions[0]&&(l.isFirstRegion=!0),l}onChildAdd(e){if(e.isSubGrid){const n=this,{items:r,headerContainer:o,virtualScrollers:i,footerContainer:a}=n,l=2*r.indexOf(e);n.hideHeaders||(DomHelper.insertAt(o,e.headerSplitter,l),DomHelper.insertAt(o,e.header.element,l)),DomHelper.insertAt(i,e.scrollerSplitter,l),DomHelper.insertAt(i,e.virtualScrollerElement,l),DomHelper.insertAt(a,e.footerSplitter,l),DomHelper.insertAt(a,e.footer.element,l),r.forEach(((e,n)=>{n<r.length-1&&e.showSplitter()}))}return super.onChildAdd(e)}onChildRemove(e){if(super.onChildRemove(e),e.isSubGrid){const{items:n}=this;delete this.subGrids[e.region],ArrayHelper.remove(this.regions,e.region),e.destroy(),n.length&&n[n.length-1].hideSplitter()}}doDestroy(){this.eachSubGrid((e=>e.destroy())),super.doDestroy()}eachSubGrid(e,n=null){this.items.forEach(((r,o)=>{r.isSubGrid&&e.call(n||r,r,o++)}))}callEachSubGrid(e,...n){let r=null;return this.items.forEach(((o,i)=>{if(o[e]){const a=o[e](...n);0===i&&(r=a)}})),r}get regions(){return this.items.map((e=>e.region))}getLastRegions(){const e=this.regions.slice(-2);return 2===e.length?e:[e[0],e[0]]}getNextRegion(e){const n=this.regions;return n[n.indexOf(e)+1]||n[n.length-2]}getPreviousRegion(e){return this.regions[this.regions.indexOf(e)-1]}getSubGrid(e){return this.subGrids[e]}getSubGridFromColumn(e){return e=e instanceof Column?e:this.columns.getById(e)||this.columns.get(e),this.getSubGrid(e.region)}resolveSplitter(e){const n=this.getLastRegions();let r=e instanceof SubGrid?e.region:e;return n[1]===r&&(r=n[0]),this.subGrids[r].splitterElement}get widgetClass(){}};const ia=LocaleHelper.mergeLocales(lo,{ColumnPicker:{column:"Column",columnsMenu:"Columns",hideColumn:"Hide column",hideColumnShort:"Hide",newColumns:"New columns"},Filter:{applyFilter:"Apply filter",filter:"Filter",editFilter:"Edit filter",on:"On",before:"Before",after:"After",equals:"Equals",lessThan:"Less than",moreThan:"More than",removeFilter:"Remove filter"},FilterBar:{enableFilterBar:"Show filter bar",disableFilterBar:"Hide filter bar"},Group:{group:"Group",groupAscending:"Group ascending",groupDescending:"Group descending",groupAscendingShort:"Ascending",groupDescendingShort:"Descending",stopGrouping:"Stop grouping",stopGroupingShort:"Stop"},Search:{searchForValue:"Search for value"},Sort:{sort:"Sort",sortAscending:"Sort ascending",sortDescending:"Sort descending",multiSort:"Multi sort",removeSorter:"Remove sorter",addSortAscending:"Add ascending sorter",addSortDescending:"Add descending sorter",toggleSortAscending:"Change to ascending",toggleSortDescending:"Change to descending",sortAscendingShort:"Ascending",sortDescendingShort:"Descending",removeSorterShort:"Remove",addSortAscendingShort:"+ Ascending",addSortDescendingShort:"+ Descending"},GridBase:{loadFailedMessage:"Data loading failed!",syncFailedMessage:"Data synchronization failed!",unspecifiedFailure:"Unspecified failure",networkFailure:"Network error",parseFailure:"Failed to parse server response",noRows:"No records to display",moveColumnLeft:"Move to left section",moveColumnRight:"Move to right section",removeRow:"Delete",moveColumnTo:e=>`Move column to ${e}`},CellMenu:{removeRow:"Delete"},RowCopyPaste:{copyRecord:"Copy",cutRecord:"Cut",pasteRecord:"Paste"},PdfExport:{"Waiting for response from server":"Waiting for response from server...","Export failed":"Export failed","Server error":"Server error","Generating pages":"Generating pages..."},ExportDialog:{width:"40em",labelWidth:"12em",exportSettings:"Export settings",export:"Export",exporterType:"Control pagination",cancel:"Cancel",fileFormat:"File format",rows:"Rows",alignRows:"Align rows",columns:"Columns",paperFormat:"Paper format",orientation:"Orientation",repeatHeader:"Repeat header"},ExportRowsCombo:{all:"All rows",visible:"Visible rows"},ExportOrientationCombo:{portrait:"Portrait",landscape:"Landscape"},SinglePageExporter:{singlepage:"Single page"},MultiPageExporter:{multipage:"Multiple pages",exportingPage:({currentPage:e,totalPages:n})=>`Exporting page ${e}/${n}`},MultiPageVerticalExporter:{multipagevertical:"Multiple pages (vertical)",exportingPage:({currentPage:e,totalPages:n})=>`Exporting page ${e}/${n}`}});Se.registerLocale("En",{desc:"English",locale:ia});const sa=new Promise((e=>e())),aa="GridBase:store",la={block:"nearest",inline:"nearest"},ca={dataset:1,pageLoad:1,filter:1};class GridBase extends(Panel.mixin(Pluggable,State,GridElementEvents,GridFeatures,GridNavigation,GridResponsive,GridSelection,GridState,GridSubGrids,LoadMaskable)){static get $name(){return"GridBase"}static get type(){return"gridbase"}static get delayable(){return{onGridScroll:{type:"raf"},bufferedAfterColumnsResized:250,bufferedElementResize:250}}static get configurable(){return{autoHeight:null,enableSticky:null,enableTextSelection:null,fillLastColumn:!0,positionMode:"translate",showDirty:null,subGridConfigs:{normal:{flex:1}},store:{value:{},$config:"nullify"},rowManager:{value:{},$config:["nullify","lazy"]},scrollManager:{value:{},$config:["nullify","lazy"]},columns:{value:[],$config:"nullify"},minHeight:"10em",hideFooters:!0,contentElMutationObserver:!1}}static get defaultConfig(){return{rowHeight:null,fixedRowHeight:null,defaultRowHeight:45,emptyText:"L{noRows}",fullRowRefresh:!0,hideHeaders:null,preserveScrollOnDatasetChange:null,preserveFocusOnDatasetChange:!0,showRemoveRowInContextMenu:!0,data:null,defaultRegion:"normal",destroyStore:null,maskDefaults:{cover:"body",target:"element"},columnLines:!0,resizeToFitIncludesHeader:!0,animateRemovingRows:!BrowserHelper.isIE11,disableGridRowModelWarning:null,headerClass:Header,footerClass:Footer,testPerformance:!1,rowScrollMode:"move",monitorResize:!0,features:!0,scrollable:{overflowY:!0},scrollerClass:GridScroller,refreshSuspended:0,transitionDuration:500,contextMenuTriggerEvent:"contextmenu",localizableProperties:["emptyText"],asyncEventSuffix:""}}static getLKey(){return"6161c536-7463-11ec-a6ac-d094663d5c88"}static get properties(){return{_selectedRecords:[],_verticalScrollHeight:0,virtualScrollHeight:0,_scrollTop:null}}static get deprecatedEvents(){return{cellContextMenuBeforeShow:{product:"Grid",invalidAsOfVersion:"5.0.0",message:"`cellContextMenuBeforeShow` event is deprecated, in favor of `cellMenuBeforeShow` event. Please see https://bryntum.com/docs/grid/guide/Grid/upgrades/4.0.0 for more information."},cellContextMenuShow:{product:"Grid",invalidAsOfVersion:"5.0.0",message:"`cellContextMenuShow` event is deprecated, in favor of `cellMenuShow` event. Please see https://bryntum.com/docs/grid/guide/Grid/upgrades/4.0.0 for more information."},headerContextMenuBeforeShow:{product:"Grid",invalidAsOfVersion:"5.0.0",message:"`headerContextMenuBeforeShow` event is deprecated, in favor of `headerMenuBeforeShow` event. Please see https://bryntum.com/docs/grid/guide/Grid/upgrades/4.0.0 for more information."},headerContextMenuShow:{product:"Grid",invalidAsOfVersion:"5.0.0",message:"`headerContextMenuShow` event is deprecated, in favor of `headerMenuShow` event. Please see https://bryntum.com/docs/grid/guide/Grid/upgrades/4.0.0 for more information."},contextMenuItem:{product:"Grid",invalidAsOfVersion:"5.0.0",message:"`contextMenuItem` event is deprecated, in favor of `cellMenuItem` and `headerMenuItem` events. Please see https://bryntum.com/docs/grid/guide/Grid/upgrades/4.0.0 for more information."},contextMenuToggleItem:{product:"Grid",invalidAsOfVersion:"5.0.0",message:"`contextMenuToggleItem` event is deprecated, in favor of `cellMenuToggleItem` and `headerMenuToggleItem` events. Please see https://bryntum.com/docs/grid/guide/Grid/upgrades/4.0.0 for more information."}}}finishConfigure(e){const n=this;super.finishConfigure(e),Se.on({locale:"onBeforeLocaleChange",prio:1,thisObj:n}),Se.on({locale:"onLocaleChange",prio:-1,thisObj:n}),gn.on({theme:"onThemeChange",thisObj:n}),n.on({subGridExpand:"onSubGridExpand",prio:-1,thisObj:n}),n.bufferedFixElementHeights=n.buffer("fixElementHeights",350,n),n.setGridClassList(n.element.classList)}onSubGridExpand(){this.renderContents()}onBeforeLocaleChange(){this._suspendRenderContentsOnColumnsChanged=!0}onLocaleChange(){this._suspendRenderContentsOnColumnsChanged=!1,this.isPainted&&this.renderContents()}finalizeInit(){super.finalizeInit(),this.store.isLoading&&this.onStoreBeforeRequest()}changeScrollManager(e,n){return null==n||n.destroy(),e?ScrollManager.new({element:this.element},e):null}doDestroy(){var e;const n=this;n.detachListeners(aa),null===(e=n.scrollManager)||void 0===e||e.destroy();for(const e of Object.values(n.features)){var r;null===(r=e.destroy)||void 0===r||r.call(e)}n.columns.destroy(),super.doDestroy()}setGridClassList(e){Object.values(this.features).forEach((n=>{if(n.disabled)return;let r;r=Object.prototype.hasOwnProperty.call(n.constructor,"featureClass")?n.constructor.featureClass:`b-${n instanceof Base?n.$$name:n.constructor.name}`,r&&e.add(r.toLowerCase())}))}compose(){const{autoHeight:e,enableSticky:n,enableTextSelection:r,fillLastColumn:o,positionMode:i,showDirty:a}=this;return{class:{[`b-grid-${i}`]:1,"b-enable-sticky":n,"b-grid-notextselection":!r,"b-autoheight":e,"b-fill-last-column":o,"b-show-dirty":a}}}get bodyConfig(){const{autoHeight:e,hideFooters:n,hideHeaders:r}=this;return{reference:"bodyElement",className:{"b-autoheight":e,"b-grid-panel-body":1},children:{headerContainer:{tag:"header",className:{"b-grid-header-container":1,"b-hidden":r}},bodyContainer:{className:"b-grid-body-container",tabIndex:-1,children:{verticalScroller:{className:"b-grid-vertical-scroller"}}},virtualScrollers:{className:"b-virtual-scrollers b-hide-display",style:BrowserHelper.isFirefox?{height:`${DomHelper.scrollBarWidth}px`}:void 0},footerContainer:{tag:"footer",className:{"b-grid-footer-container":1,"b-hidden":n}}}}}get contentElement(){return this.verticalScroller}get overflowElement(){return this.bodyContainer}get focusElement(){return this.bodyContainer}updateHideFooters(e){var n;null===(n=this.footerContainer)||void 0===n||n.classList[e?"add":"remove"]("b-hidden")}changeColumns(e,n){const r=this;if(!e&&n)return r.isDestroying?n.owner===r&&n.destroy():n.removeAll(),n;if(e.isStore)return(null==n?void 0:n.owner)===r&&n.destroy(),e.grid=r,e;if(Array.isArray(e)){if(n)return n.data=e,n;e={data:e}}if(n)throw new Error("Replacing ColumnStore is not supported");return ColumnStore.new({grid:r,owner:r},e)}updateColumns(e){const n=this;var r,o;e.on({change:n.onColumnsChanged,sort:n.onColumnsChanged,thisObj:n}),e.on((r=n.onColumnsResized,o=n,{update:({store:e,record:n,changes:i})=>{let a=!0;return("width"in i||"minWidth"in i||"maxWidth"in i||"flex"in i)&&(a=r.call(o,{store:e,record:n,changes:i})),a}})),BrowserHelper.isTouchDevice&&(n.touch=!0,e.forEach((e=>{const{touchConfig:n}=e;n&&e.applyState(n)})))}onColumnsChanged({action:e,changes:n,record:r,records:o,isMove:i}){const a=this,{columns:l,checkboxSelectionColumn:c}=a;if(a.isPainted&&(!i||"remove"!==e)){if("add"===e)for(const e of o){const{region:n}=e;a.subGrids[n]||a.add(a.createSubGrid(n,a.subGridConfigs[n]))}if("update"===e){if("width"in n||"minWidth"in n||"maxWidth"in n||"flex"in n){const e=r.region;return void l.visibleColumns.forEach((n=>{n.region===e&&n.repaintOnResize&&a.refreshColumn(n)}))}if("hidden"in n){const e=a.getSubGridFromColumn(r.id);e.header.fixHeaderWidths(),e.footer.fixFooterWidths(),e.updateHasFlex()}}if("dataset"===e||"update"===e&&"region"in n){const e=l.getDistinctValues("region"),{toRemove:n,toAdd:r}=ArrayHelper.delta(e,a.regions,!0);a.remove(n.map((e=>a.getSubGrid(e)))),a.add(r.map((e=>a.createSubGrid(e))))}if(c&&!l.includes(c)){const e=l.indexOf(l.findRecord("type","rownumber"))+1;l.insert(e,c,!0)}a._suspendRenderContentsOnColumnsChanged||a.renderContents(),a.afterColumnsChange({action:e,changes:n,column:r})}}onColumnsResized({changes:e,record:n}){const r=this;if(r.isConfiguring)return;const o=DomHelper.setLength(n.width),i=DomHelper.setLength(n.minWidth),a=DomHelper.setLength(n.maxWidth),l=r.getSubGridFromColumn(n.id);l.header.fixHeaderWidths(),l.footer.fixFooterWidths(),l.updateHasFlex(),r.cellEls&&n===r.lastColumnResized||(r.cellEls=DomHelper.children(r.element,`.b-grid-cell[data-column-id="${n.id}"]`),r.lastColumnResized=n);for(const l of r.cellEls){var c;if("width"in e&&(l.style.width=o,BrowserHelper.isIE11&&(l.style.flex="",l.style.minWidth=DomHelper.setLength(n.calcMinWidth))),"minWidth"in e&&(l.style.minWidth=i),"maxWidth"in e&&(l.style.maxWidth=a),"flex"in e)l.style.flex=null!==(c=n.flex)&&void 0!==c?c:null}r.resizingColumns||r.afterColumnsResized()}afterColumnsResized(){const e=this;e.eachSubGrid((e=>{e.collapsed||(e.fixWidths(),e.fixRowWidthsInSafariEdge())})),e.lastColumnResized=e.cellEls=null,e.bufferedAfterColumnsResized(),e.onHeightChange()}bufferedAfterColumnsResized(){this.columns.usesAutoHeight&&this.refreshRows(),this.refreshVirtualScrollbars(),this.eachSubGrid((e=>{e.collapsed||e.refreshFakeScroll()}))}processCellEditor(e){}bufferedElementResize(e,n,r,o){this.isPainted&&n!==o&&this.columns.usesFlexAutoHeight&&this.refreshRows()}onInternalResize(e,n,r,o,i){DomHelper.scrollBarWidth&&n<o&&this.eachSubGrid((e=>{e.flex&&e.onElementResize(e.element)})),super.onInternalResize(...arguments),this.bufferedElementResize(...arguments)}changeRowManager(e,n){const r=this;if(r._isRowMeasured||r.measureRowHeight(),null==n||n.destroy(),e){const n=RowManager.new({grid:r,rowHeight:r.rowHeight,rowScrollMode:r.rowScrollMode||"move",autoHeight:r.autoHeight,fixedRowHeight:r.fixedRowHeight,listeners:{changeTotalHeight:"onRowManagerChangeTotalHeight",requestScrollChange:"onRowManagerRequestScrollChange",thisObj:r}},e);return r.relayEvents(n,["beforeRenderRow","renderRow"]),r._rowManager=null,n}}getRowHeight(e){return e.rowHeight}bindStore(e){const n=this.asyncEventSuffix,r={name:aa,[`refresh${n}`]:"onStoreDataChange",[`add${n}`]:"onStoreAdd",[`remove${n}`]:"onStoreRemove",[`replace${n}`]:"onStoreReplace",[`removeAll${n}`]:"onStoreRemoveAll",[`move${n}`]:e.tree?null:"onFlatStoreMove",change:"relayStoreDataChange",idChange:"onStoreRecordIdChange",update:"onStoreUpdateRecord",beforeRequest:"onStoreBeforeRequest",afterRequest:"onStoreAfterRequest",exception:"onStoreException",commit:"onStoreCommit",thisObj:this};e.on(r),super.bindStore(e)}unbindStore(e){this.detachListeners(aa),this.destroyStore&&e.destroy()}changeStore(e){if(null==e)return null;var n;("string"==typeof e&&(e=Store.getStore(e)),e.isStore)||((e=ObjectHelper.assign({data:this.data,tree:Boolean(null===(n=this.initialConfig.features)||void 0===n?void 0:n.tree)},e)).data||delete e.data,e.modelClass||(e.modelClass=class extends GridRowModel{}),e=new(e.readUrl?AjaxStore:Store)(e));return e}updateStore(e,n){const r=this;var o;(n&&r.unbindStore(n),e&&(n&&r.deselectAll(),r.bindStore(e)),r.trigger("bindStore",{store:e,oldStore:n}),r.isDestroying||!r.isPainted||r.refreshSuspended)||(null===(o=r._rowManager)||void 0===o||o.reinitialize())}onStoreUpdateRecord({source:e,record:n,changes:r}){const o=this;if(o.forceFullRefresh)o.rowManager.refresh(),o.forceFullRefresh=!1;else{let i;if(n.isFieldModified("id")&&(i=o.getRowFor(n.meta.modified.id)),i=i||o.getRowFor(n),!i)return;if(o.fullRowRefresh||n.isSpecialRow){const r=e.indexOf(n);-1!==r&&i.render(r,n)}else o.columns.visibleColumns.forEach((e=>{const o=e.field;if(!(e.constructor.simpleRenderer&&!Object.prototype.hasOwnProperty.call(e.data,"renderer"))||r[o]){const e=i.getCell(o);e&&i.renderCell({cellElement:e,record:n})}}))}}refreshFromRowOnStoreAdd(e,n){const r=this,{rowManager:o}=r;o.renderFromRow(e),o.trigger("changeTotalHeight",{totalHeight:o.totalHeight}),1===r.store.count&&r.callEachSubGrid("refreshFakeScroll")}onMaskAutoClose(e){super.onMaskAutoClose(e),this.toggleEmptyText()}onStoreAdd({source:e,records:n,index:r,oldIndex:o,isChild:i,oldParent:a,parent:l,isMove:c,isExpandAll:d}){if(!this.isPainted||d)return;const u=c&&n.some((n=>{if(c[n.id]){const r=e.getById(n.meta.modified.parentId);return r.isExpanded(e)&&r.ancestorsExpanded(e)}}));if(i&&!n[0].ancestorsExpanded(e)&&!u){if(!l.isLeaf){const e=this.rowManager.getRowById(l);e&&this.rowManager.renderRows([e])}return}this.rowManager.calculateRowCount(!1,!0,!0),e.isFiltered&&(r=e.indexOf(n[0]));const p=this,{rowManager:b}=p,{topIndex:g,rows:m,rowCount:f}=b,v=b.topIndex+b.rowCount-1,y=r,x=r+n.length-1,C=v>=e.count-n.length-1;a||o>-1||i&&c?b.refresh():y>=g&&y<g+f?p.refreshFromRowOnStoreAdd(m[y-g],...arguments):x>=g&&x<g+f?b.refresh():(C&&r>v&&b.fillBelow(p._scrollTop||0),b.estimateTotalHeight(!0))}onStoreException({action:e,type:n,response:r,exceptionType:o,error:i}){const a=this;let l;switch(n){case"server":l=r.message||a.L("L{unspecifiedFailure}");break;case"exception":l="network"===o?a.L("L{networkFailure}"):i&&i.message||a.L("L{parseFailure}")}a.applyMaskError(`<div class="b-grid-load-failure">\n                <div class="b-grid-load-fail">${a.L("read"===e?"L{loadFailedMessage}":"L{syncFailedMessage}")}</div>\n                <div class="b-grid-load-fail">${r&&r.url?r.url+" responded with":""}</div>\n                <div class="b-grid-load-fail">${l}</div>\n            </div>`)}onStoreDataChange({action:e,changes:n,source:r}){if(this.refreshSuspended)return;const o=this,i=r.isGrouped&&n&&r.groupers.some((e=>e.field in n));super.onStoreDataChange&&super.onStoreDataChange(...arguments),"dataset"===e&&o.rowManager.clearKnownHeights(),o.isPainted&&!i&&o.renderRows(Boolean(!(e in ca)||o.preserveScrollOnDatasetChange)),o.toggleEmptyText()}onStoreRecordIdChange(){super.onStoreRecordIdChange&&super.onStoreRecordIdChange(...arguments)}onStoreBeforeRequest(){this.applyLoadMask()}onStoreAfterRequest(e){this.loadMask&&!e.exception&&(this.masked=null,this.toggleEmptyText())}needsFullRefreshOnStoreRemove(){const e=this._features;return(null==e?void 0:e.group)&&!e.group.disabled||(null==e?void 0:e.groupSummary)&&!e.groupSummary.disabled}onStoreRemove({records:e,isCollapse:n,isChild:r,isMove:o,isCollapseAll:i}){if(!this.isPainted||o||i)return;super.onStoreRemove&&super.onStoreRemove(...arguments);let a=2**53-1;const l=this,{rowManager:c}=l,d=e.reduce(((e,n)=>{const r=c.getRowById(n.id);return r&&(e.push(r),a=Math.min(a,c.rows.indexOf(r))),e}),[]);if(c.invalidateKnownHeight(e),l.animateRemovingRows&&d.length&&!n&&!r){const e=d[0];l.isAnimating=!0,EventHelper.onTransitionEnd({element:e._elementsArray[0],property:"left",duration:l.transitionDuration,thisObj:l,handler(){l.isAnimating=!1,d.forEach((e=>!e.isDestroyed&&e.removeCls("b-removing"))),c.refresh(),l.trigger("rowRemove")}}),d.forEach((e=>e.addCls("b-removing")))}else l.needsFullRefreshOnStoreRemove(...arguments)?c.refresh():(c.calculateRowCount(!1,!0,!0),c.rows[a]?c.renderFromRow(c.rows[a]):c.trigger("changeTotalHeight",{totalHeight:c.totalHeight}),l.trigger("rowRemove",{isCollapse:n}))}onFlatStoreMove({from:e,to:n}){const{rowManager:r}=this,{topIndex:o,rowCount:i}=r,[a,l]=[e,n].sort(((e,n)=>e-n));a>=o&&a<o+i?r.renderFromRow(r.rows[a-o]):l>=o&&l<o+i&&r.refresh()}onStoreReplace({records:e,all:n}){const{rowManager:r}=this;if(n)r.clearKnownHeights(),r.refresh();else{const n=e.reduce(((e,[,n])=>{const r=this.getRowFor(n);return r&&e.push(r),e}),[]);r.invalidateKnownHeight(e),r.renderRows(n)}}relayStoreDataChange(e){if(!this.project)return this.trigger("dataChange",_objectSpread2(_objectSpread2({},e),{},{store:e.source,source:this}))}onStoreRemoveAll(){super.onStoreRemoveAll&&super.onStoreRemoveAll(...arguments),this.isPainted&&(this.rowManager.clearKnownHeights(),this.renderRows(),this.toggleEmptyText())}onStoreCommit({changes:e}){if(this.showDirty&&e.modified.length){const n=[];e.modified.forEach((e=>{const r=this.rowManager.getRowFor(e);r&&n.push(r)})),this.rowManager.renderRows(n)}}get data(){return this._store?this._store.records:this._data}set data(e){this._store?this._store.data=e:this._data=e}get emptyText(){return this._emptyText}set emptyText(e){this._emptyText=e,this.eachSubGrid((n=>n.emptyText=e))}populateHeaderMenu({column:e,items:n}){const r=this,{subGrids:o,regions:i}=r;let a=!0;Object.entries(o).forEach((([l,c])=>{if(!c.sealedColumns&&e.draggable&&l!==e.region&&(!e.parent&&o[e.region].columns.count>1||e.parent&&e.parent.children.length>1)){const d=c.element.compareDocumentPosition(o[e.region].element)===document.DOCUMENT_POSITION_PRECEDING,u=i.length>2?r.L("L{moveColumnTo}",r.optionalL(l)):r.L(d?"L{moveColumnRight}":"L{moveColumnLeft}");n[`${l}Region`]={targetSubGrid:l,text:u,icon:"b-fw-icon "+(d?"b-icon-column-move-right":"b-icon-column-move-left"),cls:a?"b-separator":"",onItem:({item:n})=>{e.traverse((e=>e.region=l)),r.columns.insert(r.columns.indexOf(o[n.targetSubGrid].columns.last)+1,e),r.scrollColumnIntoView(e)}},a=!1}}))}populateCellMenu({record:e,items:n}){var r;const o=this;(null===(r=o.features)||void 0===r?void 0:r.contextMenu)&&!o.features.contextMenu.disabled&&o.showRemoveRowInContextMenu&&!o.readOnly&&e&&!e.isSpecialRow&&(n.removeRow={text:"L{removeRow}",localeClass:this,icon:"b-fw-icon b-icon-trash",onItem:()=>o.store.remove(o.selectedRecords)})}getColumnDragToolbarItems(e,n){return n}normalizeCellContext(e){const{columns:n,store:r}=this;if(e instanceof r.modelClass)return{record:e,id:e.id,columnId:n.visibleColumns[0].id};if(!("columnId"in e)){if("field"in e){const r=n.get(e.field);e.columnId=r&&r.id}else if("column"in e){const r="number"==typeof e.column?n.visibleColumns[e.column]:e.column;e.columnId=r&&r.id}"columnId"in e||(e.columnId=n.visibleColumns[0].id)}if("id"in e){if(e.element&&!r.getById(e.id)){const n=this.getRecordFromElement(e.element);n&&(e.id=n.id)}}else{const n="row"in e?r.getAt(e.row):e.record;n&&(e.id=n.id)}return e}getCell(e){let n,r=null;return"id"in(e=this.normalizeCellContext(e))&&(n=this.getRowById(e.id)),n&&"columnId"in e&&(r=n.getCell(e.columnId)),r}getHeaderElement(e){return e.isModel&&(e=e.id),this.fromCache(`.b-grid-header[data-column-id="${e}"]`)}getHeaderElementByField(e){const n=this.columns.get(e);return n?this.getHeaderElement(n):null}get bodyHeight(){return this._bodyHeight}get headerHeight(){const e=this;return e.isPainted&&!e._headerHeight&&(e._headerHeight=e.headerContainer.offsetHeight),e._headerHeight}getRecordFromElement(e){const n=e.closest(".b-grid-row");return n?this.store.getAt(n.dataset.index):null}getColumnFromElement(e){const n=DomHelper.up(e,".b-grid-cell, .b-grid-header");if(!n)return null;if(n.matches(".b-grid-header"))return this.columns.getById(n.dataset.columnId);const r=DomDataStore.get(n);return this.columns.getById(r.columnId)}updateAutoHeight(e){ObjectHelper.assertBoolean(e,"autoHeight")}get columnLines(){return this._columnLines}set columnLines(e){ObjectHelper.assertBoolean(e,"columnLines"),DomHelper.toggleClasses(this.element,"b-no-column-lines",!e),this._columnLines=e}fixSizes(){this.callEachSubGrid("fixWidths")}onRowManagerChangeTotalHeight({totalHeight:e,immediate:n}){return this.refreshTotalHeight(e,n)}refreshTotalHeight(e=this.rowManager.totalHeight,n=!1){const r=this;if(r.renderingRows||!r.isVisible)return!1;r.rowManager.bottomRow&&(e=Math.max(e,r.rowManager.bottomRow.bottom));const o=r.scrollable,i=Math.abs(r.virtualScrollHeight-e),a=r._bodyRectangle.height;if(i){const l=e-a-r._scrollTop<2*a||r._verticalScrollHeight&&r._verticalScrollHeight-a<r._scrollTop;o.scrollHeight=r.virtualScrollHeight=e,r.isPainted&&(r.scrolling&&!l||i<100)&&!n?r.bufferedFixElementHeights():(r.virtualScrollHeightDirty&&r.virtualScrollHeightDirty(),r.bufferedFixElementHeights.cancel(),r.fixElementHeights())}}fixElementHeights(){const e=this,n=e.virtualScrollHeight,r=`${n}px`;e._verticalScrollHeight=n,e.verticalScroller.style.height=r,e.virtualScrollHeightDirty=!1,e.autoHeight&&(e.bodyContainer.style.height=r,e._bodyHeight=n,e.refreshBodyRectangle()),e.refreshVirtualScrollbars()}refreshBodyRectangle(){return this._bodyRectangle=Rectangle.client(this.bodyContainer)}set scrolling(e){this._scrolling=e}get scrolling(){return this._scrolling}enableScrollingCloseToEdges(e){"string"==typeof e&&(e=this.subGrids[e]),this.scrollManager.startMonitoring({scrollables:[{element:e.scrollable.element,direction:"horizontal"},{element:this.scrollable.element,direction:"vertical"}]})}disableScrollingCloseToEdges(e){"string"==typeof e&&(e=this.subGrids[e]),this.scrollManager.stopMonitoring([e.element,this.scrollable.element])}onRowManagerRequestScrollChange({bottom:e}){this.scrollable.y=e-this.bodyHeight}initScroll(){const e=this;if(!e.scrollInitialized){let n;const r=e.createOnFrame((()=>{n=e.scrollable.y,n!==e._scrollTop&&(e._scrollTop=n,e.scrolling||(e.scrolling=!0,e.eachSubGrid((e=>e.suspendResizeMonitor=!0))),e.rowManager.updateRenderedRows(n),e.trigger("scroll",{scrollTop:n}))}));e.scrollInitialized=!0,e.scrollable.on({scroll:r,scrollend(){e.scrolling=!1,e.eachSubGrid((e=>e.suspendResizeMonitor=!1))}}),e.callEachSubGrid("initScroll"),BrowserHelper.isMobileSafari&&(e.scrollable.element.style.transform="translate3d(0, 0, 0)")}}async scrollRowIntoView(e,n=la){const r=this,o=n.block||"nearest",{rowManager:i}=r,a=r.store.getById(e);if(a){let e;if(-1===r.store.indexOf(a))return sa;let c=r.scrollable,d=r.getRecordCoords(a);const u=Rectangle.from(c.element);if(!d.virtual){let{column:e}=n;if(e){if(e.isModel||(e=r.columns.getById(e)||r.columns.get(e)),e){c=r.getSubGridFromColumn(e).scrollable;const n=Rectangle.from(i.getRowFor(a).getCell(e.id));d.x=n.x,d.width=n.width}}else n.x=!1;return c.scrollIntoView(d,n)}{const p=d.block,b="nearest"!==o?n:{block:p};if(e=c.scrollIntoView(d,{block:"center"}),i.scrollTargetRecordId=a,i.updateRenderedRows(c.y,!0),d=r.getRecordCoords(a),i.lastScrollTop=c.y,d.virtual)return sa;var l;if(n.animate)c.suspendEvents(),"end"===o||"nearest"===o&&"end"===p?c.y-=u.bottom-d.bottom:("start"===o||"nearest"===o&&"start"===p)&&(c.y+=d.y-u.y),i.updateRenderedRows(c.y,!1,!0),"end"===p?c.y-=i.appendRowBuffer*i.rowHeight-1:c.y+=i.prependRowBuffer*i.rowHeight-1,c.scrollIntoView(r.getRecordCoords(a),Object.assign({},n,b)),c.resumeEvents();else n.recursive||await e,await(null===(l=r.scrollRowIntoView)||void 0===l?void 0:l.call(r,a,Object.assign({recursive:!0},n,b)))}}}scrollColumnIntoView(e,n){return e=e instanceof Column?e:this.columns.get(e)||this.columns.getById(e)||this.columns.getAt(e),this.getSubGridFromColumn(e).scrollColumnIntoView(e,n)}scrollCellIntoView(e,n){return this.scrollRowIntoView(e.id,Object.assign({column:e.columnId},"boolean"==typeof n?{animate:n}:n))}scrollToBottom(e){return this.scrollRowIntoView(this.store.last,e)}scrollToTop(e){return this.scrollable.scrollBy(0,-this.scrollable.y,e)}storeScroll(){const e=this,n=e.storedScrollState={scrollTop:e.scrollable.y,scrollLeft:{}};return e.eachSubGrid((e=>{n.scrollLeft[e.region]=e.scrollable.x})),n}restoreScroll(e=this.storedScrollState){this.eachSubGrid((n=>{var r;const o=e.scrollLeft[n.region];n.scrollable.updateX(o),n.header.scrollable.updateX(o),n.footer.scrollable.updateX(o),null===(r=n.fakeScroller)||void 0===r||r.updateX(o)})),this.scrollable.updateY(e.scrollTop)}beginGridMeasuring(){const e=this;if(e.$measureCellElements||(e.$measureCellElements=DomHelper.createElement({className:"b-grid-subgrid "+(!e._isRowMeasured&&e.hasFeature("stripe")?"b-stripe":""),reference:"subGridElement",style:{position:"absolute",top:"-10000px",left:"-100000px",visibility:"hidden",contain:"strict"},children:[{className:"b-grid-row",reference:"rowElement",children:[{className:"b-grid-cell",reference:"cellElement",style:{width:"auto",contain:BrowserHelper.isFirefox?"layout paint":"layout style paint"}}]}]})),e.getConfig("element"),e.verticalScroller.appendChild(e.$measureCellElements.subGridElement),!e.rendered){const n=e.appendTo||e.insertBefore||document.body,r=DomHelper.getRootElement("string"==typeof n?document.getElementById(n):n);e.adopt&&r.contains(e.element)||(r.appendChild(e.element),e.$removeAfterMeasuring=!0)}return e.$measureCellElements}endGridMeasuring(){this.$removeAfterMeasuring&&(this.element.remove(),this.$removeAfterMeasuring=!1),this.$measureCellElements.subGridElement.remove()}measureRowHeight(){const e=this,{rowElement:n}=e.beginGridMeasuring(),r=DomHelper.getStyleValue(n,["height","border-top-width","border-bottom-width"]),o=parseInt(r.height),i=BrowserHelper.isFirefox?devicePixelRatio:1,a=r["border-top-width"]?Math.round(i*parseFloat(r["border-top-width"])):0,l=r["border-bottom-width"]?Math.round(i*parseFloat(r["border-bottom-width"])):0;null!=e.rowHeight&&e.rowHeight!==e._rowHeightFromStyle||(e.rowHeight=!isNaN(o)&&o?o:e.defaultRowHeight,e._rowHeightFromStyle=e.rowHeight),e._rowBorderHeight=a+l,e._isRowMeasured=!0,e.endGridMeasuring()}onThemeChange({theme:e}){const n=this;n.isVisible?n.measureRowHeight():-1===n.findListener("paint","measureRowHeight",n)&&n.on({paint:"measureRowHeight",thisObj:n,once:!0}),n.trigger("theme",{theme:e})}refreshRows(e=!1){const{element:n,rowManager:r}=this;n.classList.add("b-notransition"),e?r.returnToTop():r.refresh(),n.classList.remove("b-notransition")}refreshColumn(e){if(e.isVisible){const{field:n}=e;this.rowManager.forEach((e=>{const r=e.getCell(n);e.renderCell({cellElement:r})}))}}refreshVirtualScrollbars(){const e=this,{headerContainer:n,footerContainer:r,virtualScrollers:o,scrollable:i,hasVerticalOverflow:a}=e,{classList:l}=o,c=!l.contains("b-hide-display"),d=Object.values(e.subGrids).some((e=>e.overflowingHorizontally)),u=d!==c;if(u&&o.classList.toggle("b-hide-display",!d),DomHelper.scrollBarWidth){const l=a||"scroll"===i.overflowY;n.classList.toggle("b-show-yscroll-padding",l),r.classList.toggle("b-show-yscroll-padding",l),o.classList.toggle("b-show-yscroll-padding",l),u&&(d&&e.callEachSubGrid("refreshFakeScroll"),e.onHeightChange())}}get hasVerticalOverflow(){return this.scrollable.hasOverflow("y")}get contentHeight(){const e=this.rowManager;return Math.max(e.totalHeight,e.bottomRow?e.bottomRow.bottom:0)}onContentChange(){const e=this,n=e.rowManager;e.isVisible?(n.estimateTotalHeight(),e.paintListener=null,e.refreshTotalHeight(e.contentHeight),e.callEachSubGrid("refreshFakeScroll"),e.onHeightChange()):e.paintListener||(e.paintListener=e.on({paint:"onContentChange",once:!0,thisObj:e}))}triggerPaint(){this.isPainted||this.refreshBodyRectangle(),super.triggerPaint()}onHeightChange(){const e=this;e.refreshBodyRectangle(),e._bodyHeight=e.autoHeight?e.contentHeight:e.bodyContainer.offsetHeight}renderHeader(e,n){}renderFooter(e,n){}afterColumnsChange(){}beforeRenderCell(){}suspendRefresh(){this.refreshSuspended++}resumeRefresh(e){this.refreshSuspended&&! --this.refreshSuspended&&(e&&this.refreshRows(),this.trigger("resumeRefresh"))}renderRows(e=!0){const n=this,r=e&&n.storeScroll();n.refreshSuspended||(n.trigger("beforeRenderRows"),n.renderingRows=!0,n.element.classList.add("b-grid-refreshing"),e||(n.scrollable.y=n._scrollTop=0),n.rowManager.reinitialize(!e),n.trigger("renderRows"),n.renderingRows=!1,n.onContentChange(),e&&n.restoreScroll(r),n.element.classList.remove("b-grid-refreshing"))}renderContents(){const e=this,{element:n,headerContainer:r,footerContainer:o,rowManager:i}=e;if(e.emptyCache(),e.isPainted){e._headerHeight=null,e.callEachSubGrid("refreshHeader",r),e.callEachSubGrid("refreshFooter",o),e.renderHeader(r,n),e.renderFooter(o,n),e.fixSizes();const a=i.removeAllRows();i.calculateRowCount(!1,!0,!0),i.rowCount&&(i.setPosition(a),e.renderRows())}}onPaintOverride(){}onPaint({firstPaint:e}){const n=this;if(super.onPaint({firstPaint:e}),n.onPaintOverride()||!e)return;const{rowManager:r,store:o,element:i,headerContainer:a,bodyContainer:l,footerContainer:c}=n,d=DomHelper.scrollBarPadElement;let u,p=0;n.columns.on({change:()=>u=!0,once:!0}),n.updateResponsive(n.width,0),u&&(n.callEachSubGrid("refreshHeader",a),n.callEachSubGrid("refreshFooter",c)),n.renderHeader(a,i),n.renderFooter(c,i),DomHelper.append(a,d),DomHelper.append(c,d),DomHelper.append(n.virtualScrollers,d),n.refreshBodyRectangle();const b=n.bodyContainer.offsetHeight;if(n.autoHeight?(n._bodyHeight=r.initWithHeight(i.offsetHeight-a.offsetHeight-c.offsetHeight,!0),l.style.height=n.bodyHeight+"px"):(n._bodyHeight=b,r.initWithHeight(n._bodyHeight,!0)),n.eachSubGrid((e=>{e.header.maxDepth>p&&(p=e.header.maxDepth)})),a.dataset.maxDepth=p,n.fixSizes(),!o.count&&o.isLoading||n.renderRows(),n.columns.usesAutoHeight){const{fonts:e}=document;"loaded"!==(null==e?void 0:e.status)&&e.ready.then((()=>!n.isDestroyed&&n.refreshRows()))}n.initScroll(),n.initInternalEvents()}render(){const e=this;e.requireSize=Boolean(e.owner),super.render(...arguments),e.autoHeight||(e.headerContainer.offsetHeight&&!e.bodyContainer.offsetHeight&&console.warn("Grid element not sized correctly, please check your CSS styles and review how you size the widget"),"minHeight"in e.initialConfig||"height"in e.initialConfig||parseInt(window.getComputedStyle(e.element).minHeight)!==e.height||console.warn(`The ${e.$$name} is sized by its predefined minHeight, likely this is not intended. Please check your CSS and review how you size the widget, or assign a fixed height in the config. For more information, see the "Basics/Sizing the component" guide in docs.`))}maskBody(e){const n=this;if(n.bodyContainer){n.unmaskBody();const{maskElement:r}=n.activeMask=Mask.mask(e,n.element);return r.style.marginTop=`${n.bodyContainer.offsetTop}px`,r.style.height=n.virtualScrollers.offsetTop+n.virtualScrollers.offsetHeight-n.bodyContainer.offsetTop+"px",n.activeMask}}unmaskBody(){const e=this;e.loadmaskHideTimer&&e.clearTimeout(e.loadmaskHideTimer),e.loadmaskHideTimer=null,e.activeMask&&e.activeMask.destroy(),e.activeMask=null}toggleEmptyText(){this.bodyContainer&&DomHelper.toggleClasses(this.bodyContainer,"b-grid-empty",!(this.rowManager.rowCount>0||this.store.isLoading||this.store.isCommitting))}}GridBase.initClass(),VersionHelper.setVersion("grid","4.3.9"),GridBase._$name="GridBase";class Grid extends GridBase{static get $name(){return"Grid"}static get type(){return"grid"}}Grid.initClass(),Grid._$name="Grid";class TreeGrid extends Grid{static get $name(){return"TreeGrid"}static get type(){return"treegrid"}static get configurable(){return{store:{tree:!0}}}updateStore(e,n){if(e&&!e.tree)throw new Error("TreeGrid requires a Store configured with tree : true");super.updateStore(e,n)}}TreeGrid.initClass(),TreeGrid._$name="TreeGrid";var AbstractCrudManagerValidation=e=>class AbstractCrudManagerValidation extends e{static get $name(){return"AbstractCrudManagerValidation"}static get configurable(){return{validateResponse:!1,skipSuccessProperty:!0,crudLoadValidationWarningPrefix:"CrudManager load response error(s):",crudSyncValidationWarningPrefix:"CrudManager sync response error(s):",supportShortSyncResponseNote:'Note: Please consider enabling "supportShortSyncResponse" option to allow less detailed sync responses (https://bryntum.com/docs/scheduler/api/Scheduler/crud/AbstractCrudManagerMixin#config-supportShortSyncResponse)',disableValidationNote:'Note: To disable this validation please set the "validateResponse" config to false'}}get crudLoadValidationMandatoryStores(){return[]}getStoreLoadResponseWarnings(e,n,r){const o=[],{storeId:i}=e,a=this.crudLoadValidationMandatoryStores,l={[i]:{}};return n?n.rows||(o.push(`- "${i}" store section should have a "rows" property with an array of the store records.`),l[i].rows=["..."]):null!=a&&a.includes(i)&&(o.push(`- No "${i}" store section found. It should contain the store data.`),l[i].rows=["..."]),o.length&&Object.assign(r,l),o}getLoadResponseWarnings(e){const n=[],r={};return this.skipSuccessProperty||(r.success=!0),this.forEachCrudStore(((o,i,a)=>{n.push(...this.getStoreLoadResponseWarnings(a,null==e?void 0:e[i],r))})),n.length&&(n.push("Please adjust your response to look like this:\n"+JSON.stringify(r,null,4).replace(/"\.\.\."/g,"...")),n.push(this.disableValidationNote)),n}validateLoadResponse(e){const n=this.getLoadResponseWarnings(e);n.length&&console.warn(this.crudLoadValidationWarningPrefix+"\n"+n.join("\n"))}getStoreSyncResponseWarnings(e,n,r,o){const i=[],a=[],l=[],{storeId:c}=e,d={[c]:{}},u=e.phantomIdField||this.phantomIdField,{modelClass:p}=e.store,b=p.getFieldDataSource(p.idField),g=(null==r?void 0:r.rows)||[],m=(null==r?void 0:r.removed)||[];let f=!1;if(null!=n&&n.added&&(a.push(...n.added.filter((e=>!g.find((n=>n[u]==e[u]))&&!m.find((n=>n[u]==e[u]||n[b]==e[u])))).map((e=>({[u]:e[u],[b]:"..."})))),a.length)){const e=a.map((e=>"#"+e[u])).join(", ");i.push(`- "${c}" store "rows" section should mention added record(s) ${e} sent in the request. It should contain the added records identifiers (both phantom and "real" ones assigned by the backend).`)}if(this.supportShortSyncResponse)!a.length&&r&&(("object"!=typeof r||Array.isArray(r))&&(i.push(`- "${c}" store section should be an Object.`),d[c]["..."]="..."),r.rows&&!Array.isArray(r.rows)&&(i.push(`- "${c}" store "rows" section should be an array`),a.push("...")),r.removed&&!Array.isArray(r.removed)&&(i.push(`- "${c}" store "removed" section should be an array:`),l.push("...")));else{if(null!=n&&n.updated){const e=n.updated.filter((e=>!g.find((n=>n[b]==e[b])))).map((e=>({[b]:e[b]})));if(a.push(...e),e.length){const n=e.map((e=>"#"+e[b])).join(", ");i.push(`- "${c}" store "rows" section should mention updated record(s) ${n} sent in the request. It should contain the updated record identifiers.`),f=!0}}if(a.length&&a.push("..."),null!=n&&n.removed&&(l.push(...n.removed.filter((e=>!g.find((n=>n[b]==e[b])))).map((e=>({[b]:e[b]})))),l.length)){const e=l.map((e=>"#"+e[b])).join(", ");i.push(`- "${c}" store "removed" section should mention removed record(s) ${e} sent in the request. It should contain the removed record identifiers.`),d[c].removed=l,l.push("..."),f=!0}}return a.length&&(d[c].rows=a),i.length||delete d[c],Object.assign(o,d),{messages:i,showSupportShortSyncResponseNote:f}}getSyncResponseWarnings(e,n){const r=[],o={},i=n.pack;this.skipSuccessProperty||(o.success=!0);let a=!1;return this.forEachCrudStore(((n,l,c)=>{const d=this.getStoreSyncResponseWarnings(c,null==i?void 0:i[l],e[l],o);a=a||d.showSupportShortSyncResponseNote,r.push(...d.messages)})),r.length&&(r.push("Please adjust your response to look like this:\n"+JSON.stringify(o,null,4).replace(/"\.\.\.":\s*"\.\.\."/g,",,,").replace(/"\.\.\."/g,"...")),a&&r.push(this.supportShortSyncResponseNote),r.push(this.disableValidationNote)),r}validateSyncResponse(e,n){const r=this.getSyncResponseWarnings(e,n);r.length&&console.warn(this.crudSyncValidationWarningPrefix+"\n"+r.join("\n"))}};class AbstractCrudManagerError extends Error{}class CrudManagerRequestError extends AbstractCrudManagerError{constructor(e={}){var n,r;super(e.message||e.request&&StringHelper.capitalize(null===(n=e.request)||void 0===n?void 0:n.type)+" failed"||"Crud Manager request failed"),Object.assign(this,e),this.action=null===(r=this.request)||void 0===r?void 0:r.type}}const storeSortFn=function(e,n,r){return e.store&&(e=e.store),n.store&&(n=n.store),(e=e[r]||0)<(n=n[r]||0)?-1:e>n?1:0},storeLoadSortFn=function(e,n){return storeSortFn(e,n,"loadPriority")},storeSyncSortFn=function(e,n){return storeSortFn(e,n,"syncPriority")};var AbstractCrudManagerMixin=e=>{e.$$meta=e.$meta;const n=[];return e.isEvents||n.push(Events),e.isDelayable||n.push(Delayable),n.push(AbstractCrudManagerValidation),class AbstractCrudManagerMixin extends((e||Base).mixin(...n)){static get $name(){return"AbstractCrudManagerMixin"}static get defaultConfig(){return{crudRevision:null,crudStores:[],storeIdProperty:"storeId",crudFilterParam:"filter",transport:{},trackResponseType:!1,supportShortSyncResponse:!0,phantomIdField:"$PhantomId",phantomParentIdField:"$PhantomParentId",autoLoad:!1,autoSyncTimeout:100,autoSync:!1,resetIdsBeforeSync:!0,syncApplySequence:[],orderedCrudStores:[],writeAllFields:!1,crudIgnoreUpdates:0,autoSyncSuspendCounter:0,crudLoaded:!1,autoSyncTimerId:null,applyingLoadResponse:!1,applyingSyncResponse:!1,callOnFunctions:!0}}get isCrudManager(){return!0}construct(e={}){this._requestId=0,this.activeRequests={},this.crudStoresIndex={},super.construct(e)}afterConstruct(){super.afterConstruct(),this.autoLoad&&(this._autoLoadPromise=this.doAutoLoad())}doAutoLoad(){return this.load().catch((e=>{}))}getStoreDescriptor(e){return e?e instanceof Store?this.crudStores.find((n=>n.store===e)):"object"==typeof e?this.crudStoresIndex[e.storeId]:this.crudStoresIndex[e]||this.getStoreDescriptor(Store.getStore(e)):null}fillStoreDescriptor(e){const{store:n}=e,{storeIdProperty:r=this.storeIdProperty,modelClass:o}=n;return e.storeId||(e.storeId=n[r]||n.id),e.idField||(e.idField=o.idField),e.phantomIdField||(e.phantomIdField=o.phantomIdField),e.phantomParentIdField||(e.phantomParentIdField=o.phantomParentIdField),"writeAllFields"in e||(e.writeAllFields=n.writeAllFields),e}updateCrudStoreIndex(){const e=this.crudStoresIndex={};this.crudStores.forEach((n=>n.storeId&&(e[n.storeId]=n)))}getCrudStore(e){const n=this.getStoreDescriptor(e);return null==n?void 0:n.store}forEachCrudStore(e,n=this){if(!e)throw new Error("Iterator function must be provided");this.crudStores.every((r=>!1!==e.call(n,r.store,r.storeId,r)))}set crudStores(e){this._crudStores=[],this.addCrudStore(e);for(const e of this._crudStores)e.loadPriority=e.syncPriority=0}get crudStores(){return this._crudStores}get orderedCrudStores(){return this._orderedCrudStores}set orderedCrudStores(e){return this._orderedCrudStores=e}set syncApplySequence(e){this._syncApplySequence=[],this.addStoreToApplySequence(e)}get syncApplySequence(){return this._syncApplySequence}internalAddCrudStore(e){const n=this;let r;return e instanceof Store?r={store:e}:"object"==typeof e?(e.stores?(Array.isArray(e.stores)||(e.stores=[e.stores]),e.stores.forEach(((n,r)=>{let o=n;"string"==typeof n&&(o={storeId:n}),o.masterStoreInfo=e,e.stores[r]=o}))):e.store||(e={storeId:e.id,store:new Store(e)}),r=e):r={store:Store.getStore(e)},n.fillStoreDescriptor(r),(e=r.store).setCrudManager?e.setCrudManager(n):e.crudManager=n,e.pageSize=null,e.load&&(e.autoCommit=!1,e.autoLoad=!1),n.bindCrudStoreListeners(e),r}addCrudStore(e,n,r){if(!e)return;if(Array.isArray(e)||(e=[e]),!e.length)return;const o=this,i=e.map(o.internalAddCrudStore,o);void 0===n?o.crudStores.push(...i):(r&&((r instanceof Store||"object"!=typeof r)&&(r=o.getStoreDescriptor(r)),n+=o.crudStores.indexOf(r)),o.crudStores.splice(n,0,...i)),o.orderedCrudStores.push(...i),o.updateCrudStoreIndex()}addPrioritizedStore(e){const n=this;n.hasCrudStore(e)||this.addCrudStore(e,ArrayHelper.findInsertionIndex(e,n.crudStores,storeLoadSortFn)),n.hasApplySequenceStore(e)||this.addStoreToApplySequence(e,ArrayHelper.findInsertionIndex(e,n.syncApplySequence,storeSyncSortFn))}hasCrudStore(e){var n;return null===(n=this.crudStores)||void 0===n?void 0:n.some((n=>n===e||n.store===e||n.storeId===e))}removeCrudStore(e){const n=this,r=n.crudStores,o=r.find((n=>n===e||n.store===e||n.storeId===e));if(!o)throw new Error("Store not found in stores collection");n.unbindCrudStoreListeners(o.store),delete n.crudStoresIndex[o.storeId],ArrayHelper.remove(r,o),n.syncApplySequence&&n.removeStoreFromApplySequence(e)}bindCrudStoreListeners(e){e.on({name:e.id,addConfirmed:"onCrudStoreChange",change:"onCrudStoreChange",destroy:"onCrudStoreDestroy",thisObj:this})}unbindCrudStoreListeners(e){this.detachListeners(e.id)}addStoreToApplySequence(e,n,r){if(!e)return;Array.isArray(e)||(e=[e]);const o=this,i=e.reduce(((e,n)=>{const r=o.getStoreDescriptor(n);return r&&e.push(r),e}),[]);if(void 0===n)o.syncApplySequence.push(...i);else{let e=n;r&&((r instanceof Store||"object"!=typeof r)&&(r=o.getStoreDescriptor(r)),e+=o.syncApplySequence.indexOf(r)),o.syncApplySequence.splice(e,0,...i)}const a=o.syncApplySequence.map((({storeId:e})=>e));o.orderedCrudStores=[...o.syncApplySequence],o.crudStores.forEach((e=>{a.includes(e.storeId)||o.orderedCrudStores.push(e)}))}removeStoreFromApplySequence(e){const n=this.syncApplySequence.findIndex((n=>n===e||n.store===e||n.storeId===e));n>-1&&(this.syncApplySequence.splice(n,1),this.orderedCrudStores.splice(n,1))}hasApplySequenceStore(e){return this.syncApplySequence.some((n=>n===e||n.store===e||n.storeId===e))}onCrudStoreDestroy({source:e}){this.removeCrudStore(e)}onCrudStoreChange(){const e=this;e.crudIgnoreUpdates||(e.crudStoreHasChanges()?(e.trigger("hasChanges"),e.autoSync&&e.scheduleAutoSync()):e.trigger("noChanges"))}suspendAutoSync(){this.autoSyncSuspendCounter++}resumeAutoSync(e=!0){const n=this;n.autoSyncSuspendCounter--,n.autoSyncSuspendCounter<=0&&(n.autoSyncSuspendCounter=0,e&&n.autoSync&&n.crudStoreHasChanges()&&n.sync())}scheduleAutoSync(){const e=this;e.autoSyncTimerId||e.autoSyncSuspendCounter||(e.autoSyncTimerId=e.setTimeout((()=>{e.autoSyncTimerId=null,e.sync().catch((e=>{}))}),e.autoSyncTimeout))}async triggerFailedRequestEvents(e,n,r,o){const{options:i,type:a}=e;this.trigger("requestFail",{requestType:a,response:n,responseText:r,responseOptions:o}),this.trigger(a+"Fail",{response:n,responseOptions:o,responseText:r,options:i})}async internalOnResponse(e,n,r){const o=this,i=n?o.decode(n):null,{options:a,type:l}=e;return n&&!i&&console.error("Failed to parse response: "+n),i&&(o.skipSuccessProperty?!1!==i.success:i.success)?!1!==o.trigger("beforeResponseApply",{requestType:l,response:i})&&!1!==o.trigger("before"+StringHelper.capitalize(l)+"Apply",{response:i,options:a})&&(o.crudRevision=i.revision,await o.applyResponse(e,i,a),o.trigger("requestDone",{requestType:l,response:i,responseOptions:r}),o.trigger(l,{response:i,responseOptions:r,options:a}),"load"!==l&&o.crudStoreHasChanges()||(o.trigger("noChanges"),"load"===l&&o.emitCrudStoreEvents(e.pack.stores,"afterRequest"))):o.triggerFailedRequestEvents(e,i,n,r),i}suspendChangesTracking(){this.crudIgnoreUpdates++}resumeChangesTracking(e){!this.crudIgnoreUpdates||--this.crudIgnoreUpdates||e||this.onCrudStoreChange()}get isBatchingChanges(){return this.crudIgnoreUpdates>0}crudStoreHasChanges(e){return e?this.isCrudStoreDirty(this.getCrudStore(e)):this.crudStores.some(this.isCrudStoreDirty)}isCrudStoreDirty(e){return Boolean(null==e?void 0:e.store.changes)}emitCrudStoreEvents(e,n,r){const o=_objectSpread2({action:"read"+n},r);for(const r of this.crudStores)e.includes(r.storeId)&&r.store.trigger(n,o)}getLoadPackage(e){const n={type:"load",requestId:this.requestId},r=this.crudStores,o=Object.assign({},e);return delete o.request,n.stores=r.map((e=>{var n;const r=null==o?void 0:o[e.storeId],i=e.pageSize||(null===(n=e.store)||void 0===n?void 0:n.pageSize);if(r||i){const n=Object.assign({storeId:e.storeId,page:1},r);return i&&(n.pageSize=i),e.currentPage=n.page,r&&delete o[e.storeId],n}return e.storeId})),Object.assign(n,o),n}loadCrudStore(e,n,r){const o=null==n?void 0:n.rows;null!=r&&r.append||null!=n&&n.append?e.add(o):e.data=o,e.trigger("load",{data:o})}loadDataToCrudStore(e,n,r){const o=this,i=e.store,a=e.stores,l=e.idField||"id",c=i.tree,d=null==n?void 0:n.rows;if(i.__loading=!0,d){let u;a&&(u=o.getSubStoresData(d,a,l,c)),o.loadCrudStore(i,n,r,e),u&&u.forEach((e=>{o.loadDataToCrudStore(Object.assign({store:i.getById(e.id).get(e.storeDesc.storeId)},e.storeDesc),e.data)}))}i.__loading=!1}loadCrudManagerData(e,n={}){this.suspendChangesTracking(),this.crudStores.forEach((r=>{const o=r.storeId,i=e[o];i&&this.loadDataToCrudStore(r,i,n[o])})),this.resumeChangesTracking(!0)}get isCrudManagerLoading(){return Boolean(this.activeRequests.load||this.applyingLoadResponse)}get isCrudManagerSyncing(){return Boolean(this.activeRequests.sync||this.applyingSyncResponse)}get isLoadingOrSyncing(){return Boolean(this.isCrudManagerLoading||this.isCrudManagerSyncing)}load(e){"string"==typeof e&&(e={request:{url:e}});const n=this,r=n.getLoadPackage(e);return new Promise(((o,i)=>{if(!1!==n.trigger("beforeLoad",{pack:r})){var a;const{load:l}=n.activeRequests;l&&(n.cancelRequest(l.desc,l.reject),n.trigger("loadCanceled",{pack:r}));const c=Objects.assign({id:r.requestId,data:n.encode(r),type:"load",success:n.onCrudRequestSuccess,failure:n.onCrudRequestFailure,thisObj:n},null===(a=e)||void 0===a?void 0:a.request);n.activeRequests.load={type:"load",options:e,pack:r,resolve:o,reject(...e){c.success=c.failure=null,i(...e)},id:r.requestId,desc:n.sendRequest(c)},n.emitCrudStoreEvents(r.stores,"loadStart"),n.trigger("loadStart",{pack:r})}else n.trigger("loadCanceled",{pack:r}),i({cancelled:!0})}))}getActiveCrudManagerRequest(e){let n=this.activeRequests[e];return!n&&this.trackResponseType&&(n=Object.values(this.activeRequests)[0]),n}getSubStoresData(e,n,r,o){if(!e)return;const i=[];function processRow(e,n){n.forEach((n=>{const o=n.storeId;e[o]&&(i.push({id:e[r],storeDesc:n,data:e[o]}),delete e[o])}))}return o?e.forEach((e=>{processRow(e,n);const o=this.getSubStoresData(e.children,n,r,!0);o&&i.push(...o)})):e.forEach((e=>processRow(e,n))),i}prepareAdded(e,n){const{store:r,stores:o}=n,{isTree:i}=r,a=n.phantomIdField||this.phantomIdField,l=n.phantomParentIdField||this.phantomParentIdField;return e.filter((e=>e.isValid)).map((e=>{const n=e.constructor,r=Object.assign(e.persistableData,{[a]:e.id});if(i){const{parent:n}=e;n&&!n.isRoot&&n.isPhantom&&(r[l]=n.id)}return this.resetIdsBeforeSync&&ObjectHelper.deletePath(r,n.getFieldDataSource(n.idField)),o&&this.processSubStores(e,r,o),r}))}prepareUpdated(e,n){const{store:r,stores:o}=n,{isTree:i}=r,a=n.writeAllFields||!1!==n.writeAllFields&&this.writeAllFields,l=n.phantomParentIdField||this.phantomParentIdField;if(n.store.tree){const r=n.store.rootNode;e=e.filter((e=>e!==r))}return e.filter((e=>e.isValid)).reduce(((e,n)=>{let r;if(r=a?n.persistableData:n.modificationDataToWrite,i){const{parent:e}=n;e&&!e.isRoot&&e.isPhantom&&(r[l]=e.id)}return o&&this.processSubStores(n,r,o),ObjectHelper.isEmpty(r)||e.push(r),e}),[])}prepareRemoved(e){return e.map((e=>{const n=e.constructor;return ObjectHelper.setPath({},n.getFieldDataSource(n.idField),e.id)}))}processSubStores(e,n,r){r.forEach((r=>{const o=r.storeId,i=e.get(o);if(i){const e=this.getCrudStoreChanges(Object.assign({store:i},r));e?n[o]=Object.assign(e,{$store:!0}):delete n[o]}else delete n[o]}))}getCrudStoreChanges(e){const{store:n}=e;let r,{added:o=[],modified:i=[],removed:a=[]}=n.changes||{};return o.length&&(o=this.prepareAdded(o,e)),i.length&&(i=this.prepareUpdated(i,e)),a.length&&(a=this.prepareRemoved(a)),(o.length||i.length||a.length)&&(r={},o.length&&(r.added=o),i.length&&(r.updated=i),a.length&&(r.removed=a)),r}getChangeSetPackage(){const e=this.changes;return e?Object.assign({type:"sync",requestId:this.requestId,revision:this.crudRevision},e):null}get changes(){const e={};return this.crudStores.forEach((n=>{const r=this.getCrudStoreChanges(n);r&&(e[n.storeId]=r)})),Object.keys(e).length>0?e:null}applyChangesToRecord(e,n,r){const o=this,i=e.constructor,{fieldDataSourceMap:a}=i,l=i.prototype,c={},d=e.data,u={[o.phantomIdField]:!0};let p;r&&r.forEach((r=>{const i=r.storeId;if(Object.prototype.hasOwnProperty.call(n,i)){u[i]=!0;const a=e.get(i);a?o.applyChangesToStore(Object.assign({store:a},r),n[i]):console.log("Can't find store for the response sub-package")}}));const b={};for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&!u[e]&&(b[e]=n[e]);const g=ObjectHelper.pathifyKeys(b);for(const n in g){const r=a[n],o=r?r.name:n,u=i.processField(o,g[n]),b=n in l?e[o]:ObjectHelper.getPath(d,n);(null!=r&&r.isEqual?r.isEqual(b,u):ObjectHelper.isEqual(b,u))||(p=!0,c[o]=u)}if(p){o.suspendChangesTracking();for(const n in c)e[n]=c[n];o.resumeChangesTracking(!0)}o.clearRecordChanges(e,c)}clearRecordChanges(e,n){e.clearChanges(!0,!1)}applyRemovals(e,n,r){const{removed:o,modelClass:i}=e,a=i.getFieldDataSource(i.idField);let l=0;return null==n||n.forEach((n=>{const r=n[a];let i=!1;if(o.includes(r)&&(o.remove(r),i=!0,l++),!i){const n=e.getById(r);n?(this.suspendChangesTracking(),n.remove(),o.remove(n),l++,this.resumeChangesTracking(!0)):console.log("Can't find record to remove from the response package")}})),l}getRowsToApplyChangesTo({store:e,storeId:n},r,o){var i,a;const l=this,{modelClass:c}=e,d=c.getFieldDataSource(c.idField),{updated:u,removed:p}=o||{};let b,g;if(r){var m,f;const e={};b=(null===(m=r.rows)||void 0===m?void 0:m.slice())||[],g=(null===(f=r.removed)||void 0===f?void 0:f.slice())||[],[...b,...g].forEach((n=>{const r=ObjectHelper.getPath(n,d);e[r]=!0})),l.supportShortSyncResponse&&(null==u||u.forEach((n=>{const r=ObjectHelper.getPath(n,d);e[r]||b.push({[d]:r})})),null==p||p.forEach((n=>{const r=ObjectHelper.getPath(n,d);e[r]||g.push({[d]:r})})))}else(u||p)&&(b=u,g=p);return b=null!==(i=b)&&void 0!==i&&i.length?b:null,g=null!==(a=g)&&void 0!==a&&a.length?g:null,{rows:b,removed:g}}applyChangesToStore(e,n,r){const o=this,i=e.phantomIdField||o.phantomIdField,{store:a,stores:l}=e,{modelClass:c}=a,d=c.getFieldDataSource(c.idField),{rows:u,removed:p}=o.getRowsToApplyChangesTo(e,n,r);null==u||u.forEach((e=>{const n=e[i],r=ObjectHelper.getPath(e,d);let c=null;null!=n?c=a.getById(n):null!=r&&(c=a.getById(r)),c?o.applyChangesToRecord(c,e,l,a):(o.suspendChangesTracking(),c=a.add(e)[0],o.resumeChangesTracking(!0),c.clearChanges())})),p&&o.applyRemovals(a,p)&&a.trigger("dataChanged",{source:a})}applySyncResponse(e,n){const r=this,o=r.orderedCrudStores;r.applyingSyncResponse=!0;for(const a of o){var i;r.applyChangesToStore(a,e[a.storeId],null==n||null===(i=n.pack)||void 0===i?void 0:i[a.storeId])}r.applyingSyncResponse=!1}applyLoadResponse(e,n){this.applyingLoadResponse=!0,this.loadCrudManagerData(e,n),this.applyingLoadResponse=!1}async applyResponse(e,n,r){const o=this;switch(o.trackResponseType&&n.type||e.type){case"load":o.validateResponse&&o.validateLoadResponse(n),o.applyLoadResponse(n,r);break;case"sync":o.validateResponse&&o.validateSyncResponse(n,e),o.applySyncResponse(n,e)}}get requestId(){return Number.parseInt(`${Date.now()}${this._requestId++}`)}sync(){const e=this;return e.activeRequests.sync?(e.trigger("syncDelayed"),e.activeSyncPromise=e.activeSyncPromise.finally((()=>e.sync()))):e.activeSyncPromise=new Promise(((n,r)=>{const o=e.getChangeSetPackage();o?!1!==e.trigger("beforeSync",{pack:o})?(e.trigger("syncStart",{pack:o}),e.activeRequests.sync={type:"sync",pack:o,resolve:n,reject:r,id:o.requestId,desc:e.sendRequest({id:o.requestId,data:e.encode(o),type:"sync",success:e.onCrudRequestSuccess,failure:e.onCrudRequestFailure,thisObj:e})}):(e.trigger("syncCanceled",{pack:o}),r({cancelled:!0})):n(null)})).catch((e=>{if(e&&!e.cancelled)throw e;return e}))}async onCrudRequestSuccess(e,n,r){var o;const i=this,{type:a,id:l}=r;if(i.isDestroyed)return;let c="";r=i.activeRequests[a];try{c=await e.text()}catch(e){}if(i.isDestroyed)return;if((null===(o=r)||void 0===o?void 0:o.id)!==l)throw new Error(`Interleaved ${a} operation detected`);i.activeRequests[a]=null;const d=await i.internalOnResponse(r,c,n);i.isDestroyed||(d&&(i.skipSuccessProperty?!1!==(null==d?void 0:d.success):null!=d&&d.success)||r.reject(new CrudManagerRequestError({rawResponse:e,response:d,request:r})),i["crud"+StringHelper.capitalize(r.type)+"ed"]=!0,r.resolve({response:d,rawResponse:e,responseText:c,request:r}))}async onCrudRequestFailure(e,n,r){var o;if(this.isDestroyed)return;r=this.activeRequests[r.type];const i=null==n||null===(o=n.abortController)||void 0===o?void 0:o.signal;if(!Boolean(null==i?void 0:i.aborted)){let o="";try{o=await e.text()}catch(e){}if(this.isDestroyed)return;if(this.triggerFailedRequestEvents(r,null,o,n),this.isDestroyed)return;r.reject(new CrudManagerRequestError({rawResponse:e,request:r}))}this.activeRequests[r.type]=null}commitCrudStores(){VersionHelper.deprecate("Scheduler","5.0.0","commitCrudStores is deprecated, in favor of acceptChanges"),this.acceptChanges()}acceptChanges(){this.crudStores.forEach((e=>e.store.acceptChanges()))}revertChanges(){this.orderedCrudStores.forEach((e=>e.store.revertChanges()))}rejectCrudStores(){VersionHelper.deprecate("Scheduler","5.0.0","rejectCrudStores is deprecated, in favor of revertChanges"),this.revertChanges()}doDestroy(){const e=this,{load:n,sync:r}=e.activeRequests;for(n&&e.cancelRequest(n.desc,n.reject),r&&e.cancelRequest(r.desc,r.reject);e.crudStores.length>0;)e.removeCrudStore(e.crudStores[0]);super.doDestroy&&super.doDestroy()}}};class AbstractCrudManager extends(Base.mixin(AbstractCrudManagerMixin)){get revision(){return this.crudRevision}set revision(e){this.crudRevision=e}get json(){return StringHelper.safeJsonStringify(this)}set json(e){"string"==typeof e&&(e=StringHelper.safeJsonParse(e)),this.forEachCrudStore((n=>{const r=`${n.storeId}Data`;e[r]&&(n.data=e[r])}))}static get defaultConfig(){return{stores:null}}construct(e={}){e.stores&&(e.crudStores=e.stores,delete e.stores),super.construct(e)}toJSON(){const e={};return this.forEachCrudStore(((n,r)=>e[`${r}Data`]=n.toJSON())),e}get inlineData(){return this.toJSON()}set inlineData(e){this.json=e}set stores(e){e!==this.crudStores&&(this.crudStores=e)}get stores(){return this.crudStores}get isLoading(){return this.isCrudManagerLoading}commit(){VersionHelper.deprecate("Scheduler","5.0.0","commit is deprecated, in favor of acceptChanges"),this.commitCrudStores()}reject(){VersionHelper.deprecate("Scheduler","5.0.0","reject is deprecated, in favor of revertChanges"),this.revertChanges()}addStore(...e){return this.addCrudStore(...e)}removeStore(...e){return this.removeCrudStore(...e)}getStore(...e){return this.getCrudStore(...e)}hasChanges(...e){return this.crudStoreHasChanges(...e)}loadData(...e){return this.loadCrudManagerData(...e)}}AbstractCrudManager._$name="AbstractCrudManager";var AjaxTransport=e=>class AjaxTransport extends(e||Base){static get $name(){return"AjaxTransport"}static get defaultMethod(){return{load:"GET",sync:"POST"}}cancelRequest(e,n){var r;null===(r=e.abort)||void 0===r||r.call(e),n({cancelled:!0})}shouldUseBodyForRequestData(e,n,r){return!("HEAD"===n||"GET"===n||r)}sendRequest(e){const n=this,{data:r}=e,o=n.transport[e.type]||{},i=Objects.assign({},o,o.requestConfig);e.url&&(i.url=e.url),i.method=i.method||AjaxTransport.defaultMethod[e.type],i.params=Objects.assign(i.params||{},e.params);let{paramName:a}=i;if(n.shouldUseBodyForRequestData(o,i.method,a)?(i.body=r,i.headers=i.headers||{},i.headers["Content-Type"]=i.headers["Content-Type"]||"application/json"):(a=a||"data",i.params[a]=r),!i.url)throw new Error("Trying to request without URL specified");delete i.requestConfig,delete i.paramName,n.trigger("beforeSend",{params:i.params,type:e.type,requestConfig:i,config:e}),i.queryParams=i.params,delete i.params;let l,c=!1;const d=Objects.assign({},i,i.fetchOptions),u=AjaxHelper.fetch(i.url,d);u.catch((e=>{var n;u.done=!0;const r=null===(n=d.abortController)||void 0===n?void 0:n.signal;return r&&(c=r.aborted,c||console.warn(e)),{error:e,cancelled:c}})).then((r=>{u.done=!0;const o=null!=r&&r.ok?e.success:e.failure;l=null==o?void 0:o.call(e.thisObj||n,r,d,e)}));const p=Promise.all([u,l]);return p.abort=()=>{var e;u.done||(null===(e=u.abort)||void 0===e||e.call(u))},p}},JsonEncoder=e=>class JsonEncoder extends(e||Base){static get $name(){return"JsonEncoder"}static get defaultConfig(){return{encoder:{}}}encode(e){var n;return e=Object.assign({},null===(n=this.encoder)||void 0===n?void 0:n.requestData,e),StringHelper.safeJsonStringify(e)}decode(e){return StringHelper.safeJsonParse(e)}},CrudManagerView=e=>class CrudManagerView extends(e.mixin(LoadMaskable)){static get $name(){return"CrudManagerView"}afterConstruct(){super.afterConstruct();const{crudManager:e,project:n}=this;this.loadMask&&(e||n).isCrudManagerLoading&&this.onCrudManagerLoadStart()}applySyncMask(){const{syncMask:e}=this;e&&(this.masked=Mask.mergeConfigs(this.loadMaskDefaults,e))}bindCrudManager(e){this.detachListeners("crudManager"),null==e||e.on({name:"crudManager",loadStart:"onCrudManagerLoadStart",load:"onCrudManagerLoad",loadCanceled:"onCrudManagerLoadCanceled",syncStart:"onCrudManagerSyncStart",sync:"onCrudManagerSync",syncCanceled:"onCrudManagerSyncCanceled",requestFail:"onCrudManagerRequestFail",thisObj:this})}onCrudManagerLoadStart(){var e;this.applyLoadMask(),null===(e=this.toggleEmptyText)||void 0===e||e.call(this)}onCrudManagerSyncStart(){this.applySyncMask()}onCrudManagerRequestFinalize(e=!0,n,r){const o=this;var i;e?(o.masked=null,null===(i=o.toggleEmptyText)||void 0===i||i.call(o)):o.applyMaskError(`<div class="b-grid-load-failure">\n                    <div class="b-grid-load-fail">${o.L(`L{GridBase.${n}FailedMessage}`)}</div>\n                    ${r&&r.message?`<div class="b-grid-load-fail">${o.L("L{CrudManagerView.serverResponseLabel}")} ${r.message}</div>`:""}\n                </div>`)}onCrudManagerLoadCanceled(){this.onCrudManagerRequestFinalize(!0,"load")}onCrudManagerSyncCanceled(){this.onCrudManagerRequestFinalize(!0,"sync")}onCrudManagerLoad(){this.onCrudManagerRequestFinalize(!0,"load")}onCrudManagerSync(){this.onCrudManagerRequestFinalize(!0,"sync"),this.refresh()}onCrudManagerRequestFail({requestType:e,response:n}){this.onCrudManagerRequestFinalize(!1,e,n)}get widgetClass(){}},PartOfProject=e=>class PartOfProject extends(e||Base){static get $name(){return"PartOfProject"}onIsCreatingToggle(e,n){var r;super.onIsCreatingToggle(e,n),!e.isCreating&&null!==(r=this.project)&&void 0!==r&&r.autoSync&&this.project.sync()}},AssignmentModelMixin=e=>class AssignmentModelMixin extends e{static get $name(){return"AssignmentModelMixin"}static get fields(){return["resourceId","eventId",{name:"drawDependencies",type:"boolean"},"event","resource"]}construct(e,...n){const r=(e=e||{})[this.fieldMap.eventId.dataSource],o=e[this.fieldMap.resourceId.dataSource];null!=r&&(e.event=r),null!=o&&(e.resource=o),super.construct(e,...n)}get eventResourceKey(){const e=this;let n,r;return n=e.event?e.event.isModel?e.event.id:e.event:e.internalId,r=e.resource?e.resource.isModel?e.resource.id:e.resource:e.internalId,`${n}-${r}`}set(e,n,...r){const o=this.fieldToKeys(e,n);var i,a;"resource"in o&&(null!==(i=o.resource)&&void 0!==i&&i.id&&(o.resourceId=o.resource.id));"event"in o&&(null!==(a=o.event)&&void 0!==a&&a.id&&(o.eventId=o.event.id));super.set(o,null,...r)}set resourceId(e){const{resource:n}=this;null!=n&&n.isModel&&n.id===e?this.set("resourceId",e):this.resource=e}get resourceId(){var e;return this.get("resourceId")||(null===(e=this.resource)||void 0===e?void 0:e.id)}set eventId(e){const{event:n}=this;null!=n&&n.isModel&&n.id===e?this.set("eventId",e):this.event=e}get eventId(){var e;return this.get("eventId")||(null===(e=this.event)||void 0===e?void 0:e.id)}get eventName(){var e;return null===(e=this.event)||void 0===e?void 0:e.name}get resourceName(){var e;return null===(e=this.resource)||void 0===e?void 0:e.name}getResource(){return this.resource}get isAssignment(){return!0}get isPersistable(){var e;const{event:n,resource:r,unjoinedStores:o,assignmentStore:i}=this,a=null==i?void 0:i.crudManager;let l;return l=i?this.isValid&&n.isPersistable&&(a||!n.hasGeneratedId&&!r.hasGeneratedId):!this.isPhantom&&Boolean(o[0]),l&&super.isPersistable&&!(null!==(e=this.event)&&void 0!==e&&e.meta.isCreating)}get isValid(){return null!=this.resource&&null!=this.event}toString(){return this.resourceName?`${this.resourceName} ${Math.round(this.units)}%`:""}};function split(e){const n=[],r=[];let o;return[function*(){for(o||(o=e[Symbol.iterator]());n.length&&(yield*n,n.length=0),o;){const{value:n,done:i}=o.next();if(i){o=null,e=null;break}r.push(n),yield n}}(),function*(){for(o||(o=e[Symbol.iterator]());r.length&&(yield*r,r.length=0),o;){const{value:r,done:i}=o.next();if(i){o=null,e=null;break}n.push(r),yield r}}()]}class ChainedIteratorClass{constructor(e){if(this.iterable=void 0,!e)throw new Error("Require an iterable instance for chaining");this.iterable=e}derive(e){return this.iterable=void 0,new ChainedIteratorClass(e)}copy(){const[e,n]=split(this.iterable);return this.iterable=n,new ChainedIteratorClass(e)}split(){const[e,n]=split(this.iterable);return[new ChainedIteratorClass(e),this.derive(n)]}inBatchesBySize(e){return this.derive(function*inBatchesBySize(e,n){if(n<0)throw new Error("Batch size needs to a natural number");n|=0;const r=[];for(const o of e)r.length===n&&(yield r,r.length=0),r.push(o);r.length>0&&(yield r)}(this.iterable,e))}filter(e){return this.derive(function*filter(e,n){let r=0;for(const o of e)n(o,r++)&&(yield o)}(this.iterable,e))}drop(e){return this.derive(function*drop(e,n){let r=0;for(const o of e)++r>n&&(yield o)}(this.iterable,e))}map(e){return this.derive(function*map(e,n){let r=0;for(const o of e)yield n(o,r++)}(this.iterable,e))}reduce(e,n){return function reduce(e,n,r){let o=0,i=r;for(const r of e)i=n(i,r,o++);return i}(this,e,n)}concat(){return this.derive(function*concatIterable(e){for(const n of e)yield*n}(this.iterable))}uniqueOnly(){return this.derive(function*uniqueOnly(e){const n=new Set;for(const r of e)n.has(r)||(n.add(r),yield r)}(this.iterable))}uniqueOnlyBy(e){return this.derive(function*uniqueOnlyBy(e,n){const r=new Set;for(const o of e){const e=n(o);r.has(e)||(r.add(e),yield o)}}(this.iterable,e))}every(e){return function every(e,n){let r=0;for(const o of e)if(!n(o,r++))return!1;return!0}(this,e)}some(e){return function some(e,n){let r=0;for(const o of e)if(n(o,r++))return!0;return!1}(this,e)}takeWhile(e){return this.derive(function*takeWhile(e,n){let r=0;for(const o of e){if(!n(o,r++))return;yield o}}(this.iterable,e))}*[Symbol.iterator](){let e=this.iterable;if(!e)throw new Error("Chained iterator already exhausted or used to derive the new one");this.iterable=void 0,yield*e,e=void 0}toArray(){return Array.from(this)}sort(e){return Array.from(this).sort(e)}toSet(){return new Set(this)}toMap(){return new Map(this)}flush(){for(const e of this);}memoize(){return new MemoizedIteratorClass(this)}}const CI=e=>new ChainedIteratorClass(e);class MemoizedIteratorClass extends ChainedIteratorClass{constructor(){super(...arguments),this.elements=[],this.$iterator=void 0}set iterable(e){this.$iterable=e}get iterable(){return this}derive(e){return new ChainedIteratorClass(e)}*[Symbol.iterator](){const e=this.elements;if(this.$iterable){this.$iterator||(this.$iterator=this.$iterable[Symbol.iterator]());let n=this.$iterator,r=e.length;for(r>0&&(yield*e);;){if(e.length>r){for(let n=r;n<e.length;n++)yield e[n];r=e.length}if(!n)break;const{value:o,done:i}=n.next();i?(n=this.$iterator=null,this.$iterable=null):(e.push(o),r++,yield o)}}else yield*e}}const MI=e=>new MemoizedIteratorClass(e),da=Symbol("MixinIdentity"),ha=Symbol("MixinStateProperty");class MixinWalkDepthState{constructor(){this.baseEl=void 0,this.sourceEl=void 0,this.$elementsByTopoLevel=void 0,this.$topoLevels=void 0,this.linearizedByTopoLevelsSource=MI(this.linearizedByTopoLevels())}static new(e){const n=new this;return e&&Object.assign(n,e),n}get topoLevels(){return void 0!==this.$topoLevels?this.$topoLevels:this.$topoLevels=this.buildTopoLevels()}buildTopoLevels(){return Array.from(this.elementsByTopoLevel.keys()).sort(((e,n)=>e-n))}get elementsByTopoLevel(){return void 0!==this.$elementsByTopoLevel?this.$elementsByTopoLevel:this.$elementsByTopoLevel=this.buildElementsByTopoLevel()}getOrCreateLevel(e,n){let r=e.get(n);return r||(r=[],e.set(n,r)),r}buildElementsByTopoLevel(){let e=0;const n=this.baseEl?CI(this.baseEl.walkDepthState.elementsByTopoLevel.values()).concat().toSet():new Set,r=CI(this.sourceEl.requirements).map((e=>e.walkDepthState.elementsByTopoLevel)).concat().reduce(((n,[r,o])=>(r>e&&(e=r),this.getOrCreateLevel(n,r).push(o),n)),new Map);return this.getOrCreateLevel(r,e+1).push([this.sourceEl]),CI(r).map((([e,r])=>[e,CI(r).concat().uniqueOnly().filter((e=>!n.has(e))).sort(((e,n)=>e.id-n.id))])).toMap()}*linearizedByTopoLevels(){yield*CI(this.topoLevels).map((e=>this.elementsByTopoLevel.get(e))).concat()}}let ua=1;const identity=e=>class extends e{};class ZeroBaseClass{}class MixinState{constructor(){this.id=ua++,this.requirements=[],this.baseClass=ZeroBaseClass,this.identitySymbol=void 0,this.mixinLambda=identity,this.walkDepthState=void 0,this.$minimalClass=void 0,this.name=""}static new(e){const n=new this;e&&Object.assign(n,e),n.walkDepthState=MixinWalkDepthState.new({sourceEl:n,baseEl:getMixinState(n.baseClass)});const r=n.mixinLambda,o=n.identitySymbol=Symbol(r.name),i=Object.assign((function(e){const n=r(e);return n.prototype[o]=!0,n}),{[da]:o,[ha]:n});return Object.defineProperty(i,Symbol.hasInstance,{value:isInstanceOfStatic}),n.mixinLambda=i,n}get minimalClass(){return void 0!==this.$minimalClass?this.$minimalClass:this.$minimalClass=this.buildMinimalClass()}getBaseClassMixinId(e){const n=this.constructor,r=n.baseClassesIds.get(e);if(void 0!==r)return r;const o=ua++;return n.baseClassesIds.set(e,o),o}buildMinimalClass(){const e=this.constructor;let n=this.baseClass;const r=this.walkDepthState.linearizedByTopoLevelsSource.reduce(((n,r)=>{const{cls:o,hash:i}=n,a=i+String.fromCharCode(r.id);let l=e.minimalClassesByLinearHash.get(a);return l||(l=r.mixinLambda(o),r.name=l.name,e.minimalClassesByLinearHash.set(a,l)),n.cls=l,n.hash=a,n}),{cls:n,hash:String.fromCharCode(this.getBaseClassMixinId(n))}).cls,o=Object.assign(r,{[da]:this.identitySymbol,[ha]:this,mix:this.mixinLambda,derive:e=>Mixin([o,e],(e=>class extends e{})),$:this,toString:this.toString.bind(this)});return Object.defineProperty(o,Symbol.hasInstance,{value:isInstanceOfStatic}),o}toString(){return this.walkDepthState.linearizedByTopoLevelsSource.reduce(((e,n)=>`${n.name}(${e})`),this.baseClass.name)}}MixinState.minimalClassesByLinearHash=new Map,MixinState.baseClassesIds=new Map;const getMixinState=e=>Object.getPrototypeOf(e.prototype).constructor[ha],isInstanceOfStatic=function(e){return Boolean(e&&e[this[da]])},isInstanceOf=(e,n)=>Boolean(e&&e[n[da]]),Mixin=(e,n)=>{let r;if(e.length>0){const n=e[e.length-1];o=n,Object.getPrototypeOf(o.prototype).constructor.hasOwnProperty(ha)||n===ZeroBaseClass||(r=n)}var o;const i=[];e.forEach(((n,o)=>{const a=n[ha];if(void 0!==a){const e=a.baseClass;if(e!==ZeroBaseClass)if(r){if(r!==e){const n=e.prototype.isPrototypeOf(r.prototype),o=r.prototype.isPrototypeOf(e.prototype);if(!n&&!o)throw new Error("Base class mismatch");r=o?e:r}}else r=e;i.push(a)}else if(o!==e.length-1)throw new Error("Base class should be provided as the last element of the requirements array")}));return MixinState.new({requirements:i,mixinLambda:n,baseClass:r||ZeroBaseClass}).minimalClass};class AbstractPartOfProjectGenericMixin extends(Mixin([],(e=>{e.prototype;return class AbstractPartOfProjectGenericMixin extends e{async commitAsync(){return this.project.commitAsync()}set project(e){this.$project=e}get project(){return this.$project}calculateProject(){throw new Error("Implement me")}setProject(e){return this.project=e}getProject(){return this.project?this.project:this.setProject(this.calculateProject())}getAssignmentStore(){const e=this.getProject();return null==e?void 0:e.assignmentStore}getDependencyStore(){const e=this.getProject();return null==e?void 0:e.dependencyStore}getEventStore(){const e=this.getProject();return null==e?void 0:e.eventStore}getResourceStore(){const e=this.getProject();return null==e?void 0:e.resourceStore}getCalendarManagerStore(){const e=this.getProject();return null==e?void 0:e.calendarManagerStore}}}))){}class CorePartOfProjectGenericMixin extends(Mixin([AbstractPartOfProjectGenericMixin],(e=>{e.prototype;return class CorePartOfProjectGenericMixin extends e{get eventStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.eventStore}get resourceStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.resourceStore}get assignmentStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.assignmentStore}get dependencyStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.dependencyStore}get calendarManagerStore(){var e;return null===(e=this.project)||void 0===e?void 0:e.calendarManagerStore}getEventById(e){var n;return null===(n=this.eventStore)||void 0===n?void 0:n.getById(e)}getDependencyById(e){var n;return null===(n=this.dependencyStore)||void 0===n?void 0:n.getById(e)}getResourceById(e){var n;return null===(n=this.resourceStore)||void 0===n?void 0:n.getById(e)}getAssignmentById(e){var n;return null===(n=this.assignmentStore)||void 0===n?void 0:n.getById(e)}getCalendarById(e){var n;return null===(n=this.calendarManagerStore)||void 0===n?void 0:n.getById(e)}}}))){}class AbstractPartOfProjectStoreMixin extends(Mixin([AbstractPartOfProjectGenericMixin,Store],(e=>{const n=e.prototype;return class AbstractPartOfProjectStoreMixin extends e{constructor(){super(...arguments),this.isLoadingData=!1}construct(e={}){return e.asyncEvents={add:!0,remove:!0,removeAll:!0,change:!0,refresh:!0,replace:!0,move:!0,update:!0},n.construct.call(this,e)}trigger(e,r){const o=this,{asyncEvents:i,project:a}=o,l=null==i?void 0:i[e];return l&&(!0===l||l[r.action])?(n.trigger.call(o,`${e}PreCommit`,Object.assign({},r)),!a||a.isEngineReady()&&!a.isWritingData?n.trigger.call(o,e,r):!o.eventsSuspended&&a&&(a.dataReadyDetacher||(a.queuedDataReadyEvents=[],a.dataReadyDetacher=a.on({dataReady(){this.queuedDataReadyEvents.forEach((([e,n,r,o])=>{e.trigger.call(n,r,o)})),a.queuedDataReadyEvents=null,a.dataReadyDetacher(),a.dataReadyDetacher=null},once:!0})),a.queuedDataReadyEvents.push([n,o,e,r])),!0):n.trigger.call(o,e,r)}calculateProject(){return this.project}setStoreData(e){var r;this.project&&(this.project.hasLoadedDataToCommit=!0),this.isLoadingData=!0,n.setStoreData.call(this,e),this.isLoadingData=!1,null===(r=this.project)||void 0===r||r.trigger("storeRefresh",{store:this})}async doAutoCommit(){this.suspendCount<=0&&this.project&&!this.project.isEngineReady()&&await this.project.commitAsync(),n.doAutoCommit.call(this)}async addAsync(e,n){const r=this.add(e,n);return await this.project.commitAsync(),r}async insertAsync(e,n,r){const o=this.insert(e,n,r);return await this.project.commitAsync(),o}async loadDataAsync(e){this.data=e,await this.project.commitAsync()}}}))){}class AbstractPartOfProjectModelMixin extends(Mixin([AbstractPartOfProjectGenericMixin,Model],(e=>{const n=e.prototype;return class AbstractPartOfProjectModelMixin extends e{joinStore(e){let r=!1;if(isInstanceOf(e,AbstractPartOfProjectStoreMixin)){const n=e.getProject();!n||n.isRepopulatingStores||this.getProject()||(this.setProject(n),r=!0)}n.joinStore.call(this,e),r&&this.joinProject()}unjoinStore(e,r=!1){n.unjoinStore.call(this,e,r);const o=this.getProject(),i=isInstanceOf(e,AbstractPartOfProjectStoreMixin)&&o===e.getProject();o&&!o.isDestroying&&!o.isRepopulatingStores&&i&&(this.leaveProject(r),this.setProject(null)),i&&(this.graph=null)}joinProject(){}leaveProject(e=!1){}calculateProject(){const e=this.stores.find((e=>isInstanceOf(e,AbstractPartOfProjectStoreMixin)&&!!e.getProject()));return null==e?void 0:e.getProject()}async setAsync(e,n,r){var o;const i=this.set(e,n,r);return await(null===(o=this.project)||void 0===o?void 0:o.commitAsync()),i}async getAsync(e){var n;return await(null===(n=this.project)||void 0===n?void 0:n.commitAsync()),this.get(e)}}}))){}class CorePartOfProjectModelMixin extends(Mixin([AbstractPartOfProjectModelMixin,CorePartOfProjectGenericMixin,Model],(e=>{const n=e.prototype;return class CorePartOfProjectModelMixin extends e{constructor(){super(...arguments),this.$isCalculating=!1,this.$changed={},this.$beforeChange={}}joinProject(){this.invalidate()}leaveProject(e=!1){var r;n.leaveProject.call(this,e),null===(r=this.project)||void 0===r||r.bufferedCommitAsync()}invalidate(){var e;null===(e=this.project)||void 0===e||e.invalidate(this)}getCurrentOrProposed(e){var n;return e in this.$changed?this.$changed[e]:null!==(n=this.get(e))&&void 0!==n?n:null}hasCurrentOrProposed(e){return null!=this.$changed[e]||null!=this.get(e)}propose(e){const n=Object.keys(e);for(let r=0;r<n.length;r++){const o=n[r];this.$changed[o]=e[o]}this.invalidate()}setChanged(e,n,r=!0,o=!1){const i=this;i.$changed[e]=n,o&&(e in i.$beforeChange||(i.$beforeChange[e]=i.get(e)),i.setData(e,n)),r&&i.invalidate()}calculateInvalidated(){}finalizeInvalidated(e=!1){const n=this;n.$isCalculating=!0,e?n.setData(n.$changed):(n.setData(n.$beforeChange),n.set(n.$changed)),n.$changed={},n.$beforeChange={},n.$isCalculating=!1}}}))){}class CoreEventMixin extends(Mixin([CorePartOfProjectModelMixin],(e=>{const n=e.prototype;class CoreEventMixin extends e{constructor(){super(...arguments),this._startDate=null,this._endDate=null,this._duration=null}static get fields(){return[{name:"startDate",type:"date"},{name:"endDate",type:"date"},{name:"duration",type:"number"},{name:"durationUnit",type:"string",defaultValue:"day"}]}get startDate(){var e,n;return null!==(n=null!==(e=this._startDate)&&void 0!==e?e:this.get("startDate"))&&void 0!==n?n:null}get endDate(){var e,n;return null!==(n=null!==(e=this._endDate)&&void 0!==e?e:this.get("endDate"))&&void 0!==n?n:null}get duration(){var e,n;return null!==(n=null!==(e=this._duration)&&void 0!==e?e:this.get("duration"))&&void 0!==n?n:null}set startDate(e){this.proposeStartDate(e)}set endDate(e){this.proposeEndDate(e)}set duration(e){this.proposeDuration(e)}inSet(e,...r){var o,i,a;const l=this;if("string"!=typeof e){const n="startDate"in e,r="endDate"in e,c="duration"in e;if(n&&r&&!c){const n=CoreEventMixin.processField("startDate",e.startDate,l),r=CoreEventMixin.processField("endDate",e.endDate,l);(null==n?void 0:n.getTime())!==(null===(o=l.startDate)||void 0===o?void 0:o.getTime())&&(null==r?void 0:r.getTime())===(null===(i=l.endDate)||void 0===i?void 0:i.getTime())&&(l.proposeDuration(null),l.proposeEndDate(e.endDate))}if(!n&&r&&c){const n=CoreEventMixin.processField("endDate",e.endDate,l);e.duration!==l.duration&&(null==n?void 0:n.getTime())===(null===(a=l.endDate)||void 0===a?void 0:a.getTime())&&(l.proposeStartDate(null),l.proposeEndDate(e.endDate))}}return n.inSet.call(l,e,...r)}getStartDate(){return this.startDate}proposeStartDate(e,n=!0){this._startDate=e,this.propose({startDate:e,keepDuration:n})}async setStartDate(e,n=!0){var r;return this.proposeStartDate(e,n),null===(r=this.project)||void 0===r?void 0:r.commitAsync()}getEndDate(){return this.endDate}proposeEndDate(e,n=!1){this._endDate=e,this.propose({endDate:e,keepDuration:n})}async setEndDate(e,n=!1){var r;return this.proposeEndDate(e,n),null===(r=this.project)||void 0===r?void 0:r.commitAsync()}getDuration(){return this.duration}proposeDuration(e,n,r=!0){this._duration=e,this.propose({duration:e,keepStart:r}),n&&this.propose({durationUnit:n})}async setDuration(e,n,r=!0){var o;return this.proposeDuration(e,n,r),null===(o=this.project)||void 0===o?void 0:o.commitAsync()}getDurationUnit(){return this.durationUnit}joinProject(){var e,r;const o=this,i=o.$changed,a=o.getCurrentOrProposed("startDate"),l=o.getCurrentOrProposed("endDate"),c=o.getCurrentOrProposed("duration");if(null!=a&&(i.startDate=o._startDate=a),null!=l&&(i.endDate=o._endDate=l),null!=c&&(i.duration=o._duration=c),o.eventStore&&!o.eventStore.isLoadingData){const n=null===(e=o.assignmentStore)||void 0===e?void 0:e.storage.findItem("event",null);if(n){const e=null===(r=o.assignmentStore)||void 0===r?void 0:r.storage.findItem("eventId",o.id);if(e)for(const n of e)n.setChanged("event",o);else for(const e of n)e.getCurrentOrProposed("event")===o.id&&e.setChanged("event",o)}}n.joinProject.call(o)}applyValue(e,r,o,i,a){"startDate"!==r&&"duration"!=r&&"endDate"!==r||(e=!0,this["_"+r]=o),i&&(e=!1),n.applyValue.call(this,e,r,o,i,a)}afterChange(e,r,o,i,a){this.$isCalculating||a||this.setData(this.$changed),n.afterChange.call(this,e,r,o,i,a)}calculateInvalidated(){const e=this,n=e.$changed,r="startDate"in n,o="endDate"in n,i="duration"in n,{startDate:a,endDate:l,duration:c,keepDuration:d,keepStart:u}=n;let p=null;!r||o||i?r||!o||i?r||o||!i?r&&o&&!i?null===a&&null===l?n.duration=null:p="duration":r&&!o&&i?p="endDate":!r&&o&&i?p="startDate":r&&o&&i&&(p=null==c?"duration":null==a?"startDate":"endDate"):null===c?n.endDate=null:!e.hasCurrentOrProposed("startDate")||!u&&e.hasCurrentOrProposed("endDate")?e.hasCurrentOrProposed("endDate")&&(p="startDate"):(u&&n.duration<0&&(n.duration=0),p="endDate"):null===l?n.startDate=null:e.hasCurrentOrProposed("startDate")&&l<e.getCurrentOrProposed("startDate")&&!d?(n.startDate=l,n.duration=0):!e.hasCurrentOrProposed("duration")||!d&&e.hasCurrentOrProposed("startDate")?e.hasCurrentOrProposed("startDate")&&(p="duration"):p="startDate":null===a?n.endDate=null:e.hasCurrentOrProposed("endDate")&&a>e.getCurrentOrProposed("endDate")&&!d?(n.endDate=a,n.duration=0):!e.hasCurrentOrProposed("duration")||!d&&e.hasCurrentOrProposed("endDate")?e.hasCurrentOrProposed("endDate")&&(p="duration"):p="endDate";const b=e.getCurrentOrProposed("startDate"),g=e.getCurrentOrProposed("endDate"),m=e.getCurrentOrProposed("duration"),f=e.getCurrentOrProposed("durationUnit");let v,y;switch(p){case"startDate":n.startDate=DateHelper.add(g,-m,f);break;case"endDate":v=DateHelper.as("hour",m,f),y=DateHelper.as(f,v,"h"),n.endDate=DateHelper.add(b,y,f);break;case"duration":v=DateHelper.diff(b,g,"h"),n.duration=DateHelper.as(f,v,"h")}void 0!==n.startDate&&(this._startDate=n.startDate),void 0!==n.endDate&&(this._endDate=n.endDate),void 0!==n.duration&&(this._duration=n.duration),delete n.keepDuration,delete n.keepStart}}return CoreEventMixin}))){}class CoreResourceMixin extends(Mixin([CorePartOfProjectModelMixin],(e=>{const n=e.prototype;return class CoreResourceMixin extends e{get assigned(){var e;return null===(e=this.project)||void 0===e?void 0:e.assignmentStore.getResourcesAssignments(this)}joinProject(){var e;this.resourceStore&&!this.resourceStore.isLoadingData&&(null===(e=this.assignmentStore)||void 0===e||e.query((e=>e.get("resource")===this.id)).forEach((e=>e.setChanged("resource",this)))),n.joinProject.call(this)}leaveProject(e=!1){if(this.assigned&&!e){const e=this.resourceStore;this.assigned.forEach((n=>e.assignmentsForRemoval.add(n)))}n.leaveProject.call(this)}applyValue(e,r,o,i,a){"id"===(null==a?void 0:a.name)&&this.assigned.forEach((e=>{e.set("resourceId",o)})),n.applyValue.call(this,e,r,o,i,a)}}}))){}class CoreAssignmentMixin extends(Mixin([CorePartOfProjectModelMixin],(e=>{const n=e.prototype;return class CoreAssignmentMixin extends e{static get fields(){return[{name:"resource",isEqual:(e,n)=>e===n,persist:!1},{name:"event",isEqual:(e,n)=>e===n,persist:!1}]}setChanged(e,r,o){const{assignmentStore:i,eventStore:a,resourceStore:l,project:c}=this;let d=!1;if("event"===e){const e=isInstanceOf(r,CoreEventMixin)?r:null==a?void 0:a.getById(r);e&&(d=!0),r=e||r}if("resource"===e){const e=isInstanceOf(r,CoreResourceMixin)?r:null==l?void 0:l.getById(r);e&&(d=!0),r=e||r}n.setChanged.call(this,e,r,o,!0),!i||!d||c.isPerformingCommit||i.isLoadingData||l.isLoadingData||i.skipInvalidateIndices||i.invalidateIndices()}joinProject(){n.joinProject.call(this),this.setChanged("event",this.get("event")),this.setChanged("resource",this.get("resource"))}calculateInvalidated(){var e,n;let{event:r=this.event,resource:o=this.resource}=this.$changed;if(null!==r&&!isInstanceOf(r,CoreEventMixin)){const n=null===(e=this.eventStore)||void 0===e?void 0:e.getById(r);n&&this.setChanged("event",n,!1)}if(null!==o&&!isInstanceOf(o,CoreResourceMixin)){const e=null===(n=this.resourceStore)||void 0===n?void 0:n.getById(o);e&&this.setChanged("resource",e,!1)}}finalizeInvalidated(e){var r,o;(null===(r=this.$changed.resource)||void 0===r?void 0:r.isModel)&&(this.$changed.resourceId=this.$changed.resource.id),(null===(o=this.$changed.event)||void 0===o?void 0:o.isModel)&&(this.$changed.eventId=this.$changed.event.id),n.finalizeInvalidated.call(this,e)}set event(e){this.setChanged("event",e)}get event(){const e=this.get("event");return isInstanceOf(e,CoreEventMixin)?e:null}set resource(e){this.setChanged("resource",e)}get resource(){const e=this.get("resource");return isInstanceOf(e,CoreResourceMixin)?e:null}}}))){}const pa=CoreAssignmentMixin;class AssignmentModel extends(AssignmentModelMixin(PartOfProject(pa.derive(Model)))){static get $name(){return"AssignmentModel"}}AssignmentModel.exposeProperties(),AssignmentModel._$name="AssignmentModel";var PartOfBaseProject=e=>class PartOfBaseProject extends e{static get $name(){return"PartOfBaseProject"}get assignmentStore(){return this.project.assignmentStore}get calendarManagerStore(){return this.project.calendarManagerStore}get dependencyStore(){return this.project.dependencyStore}get eventStore(){return this.project.eventStore}get resourceStore(){return this.project.resourceStore}},AssignmentStoreMixin=e=>class AssignmentStoreMixin extends e{static get $name(){return"AssignmentStoreMixin"}static get defaultConfig(){return{loadPriority:300,syncPriority:300,storeId:"assignments"}}add(e,...n){Array.isArray(e)||(e=[e]);for(let n=0;n<e.length;n++){var r;let o=e[n];if(o instanceof Model||(e[n]=o=this.createRecord(o)),-1!==this.storage.findIndex("eventResourceKey",o.eventResourceKey,!0))throw new Error(`Duplicate assignment Event: ${o.eventId} to resource: ${o.resourceId}`);null!==(r=o.event)&&void 0!==r&&r.isCreating&&(o.isCreating=!0)}return super.add(e,...n)}includesAssignment(e,n){return-1!==this.storage.findIndex("eventResourceKey",`${e}-${n}`,!0)}setStoreData(e){super.setStoreData(e)}set storage(e){super.storage=e,this.storage.addIndex({property:"eventResourceKey"})}get storage(){return this._storage||super.storage}get isAssignmentStore(){return!0}getOccurrence(e,n){if(!e||null==n||!n.isOccurrence)return e;const r=this;return{id:`${n.id}:a${e.id}`,event:n,resource:e.resource,eventId:n.id,resourceId:e.resource.id,isAssignment:!0,isOccurrenceAssignment:!0,instanceMeta(e){return r.occurrenceInstanceMeta(this,e)}}}occurrenceInstanceMeta(e,n){const r=this,o=n.id||n,{id:i}=e;let{occurrenceMeta:a}=r;return a||(a=r.occurrenceMeta={}),a[i]||(a[i]={}),a[i][o]||(a[i][o]={})}mapAssignmentsForEvent(e,n,r){e=this.eventStore.getById(e);const o=Boolean(n),i=Boolean(r);return o||i?e.assignments.reduce(((e,a)=>{const l=o?n(a):a;return i&&!r(l)||e.push(l),e}),[]):e.assignments}mapAssignmentsForResource(e,n,r){e=this.resourceStore.getById(e);const o=Boolean(n),i=Boolean(r);return o||i?e.assignments.reduce(((e,a)=>{const l=o?n(a):a;return i&&!r(l)||e.push(l),e}),[]):e.assignments}getAssignmentsForEvent(e){return e.assignments}removeAssignmentsForEvent(e){return this.remove(e.assignments)}getAssignmentsForResource(e){return(e=this.resourceStore.getById(e)).assignments}removeAssignmentsForResource(e){this.remove(this.getAssignmentsForResource(e))}getResourcesForEvent(e){return e.resources}getEventsForResource(e){return(e=this.resourceStore.getById(e))&&e.events}assignEventToResource(e,n,r=(e=>e),o=!1){var i;const a=this,l=o?new Set(e.assignments):null;if(n=Array.isArray(n)?n:[n],null!==(i=a.eventStore)&&void 0!==i&&i.usesSingleAssignment&&e.assignments.length)return a.isEventAssignedToResource(e,n[0])||(e.resource=n[0]),[];let c=[];return a.suspendAutoCommit(),n.forEach((n=>{const i=a.getAssignmentForEventAndResource(e,n);if(i)o&&l.delete(i);else{const o=r({event:e,resource:n});c.push(o)}})),c=a.add(c),o&&a.remove(Array.from(l)),a.resumeAutoCommit(),c}unassignEventFromResource(e,n){const r=this,o=[];if(!n)return r.removeAssignmentsForEvent(e);Array.isArray(n)||(n=[n]);for(let i=0;i<n.length;i++)r.isEventAssignedToResource(e,n[i])&&o.push(r.getAssignmentForEventAndResource(e,n[i]));return r.remove(o)}isEventAssignedToResource(e,n){return Boolean(this.getAssignmentForEventAndResource(e,n))}getAssignmentForEventAndResource(e,n){let r;return(e=this.eventStore.getById(e))&&(r=e.assignments)&&(n=this.resourceStore.getById(n))?this.getOccurrence(r.find((e=>e.resource===n)),e):null}};class CorePartOfProjectStoreMixin extends(Mixin([AbstractPartOfProjectStoreMixin,CorePartOfProjectGenericMixin,Store],(e=>{const n=e.prototype;return class CorePartOfProjectStoreMixin extends e{setProject(e){const r=n.setProject.call(this,e);return e&&this.joinProject(e),r}joinProject(e){}onCommitAsync(){}}}))){}const CIFromSetOrArrayOrValue=e=>e instanceof Set||e instanceof Array?CI(e):CI([e]);class AbstractAssignmentStoreMixin extends(Mixin([AbstractPartOfProjectStoreMixin],(e=>{const n=e.prototype;return class AbstractAssignmentStoreMixin extends e{constructor(){super(...arguments),this.assignmentsForRemoval=new Set,this.allAssignmentsForRemoval=!1}remove(e,r){this.assignmentsForRemoval=CIFromSetOrArrayOrValue(e).toSet();const o=n.remove.call(this,e);return this.assignmentsForRemoval.clear(),o}removeAll(e){this.allAssignmentsForRemoval=!0;const r=n.removeAll.call(this,e);return this.allAssignmentsForRemoval=!1,r}}}))){}const ba=new Set;class CoreAssignmentStoreMixin extends(Mixin([AbstractAssignmentStoreMixin,CorePartOfProjectStoreMixin],(e=>{e.prototype;return class CoreAssignmentStoreMixin extends e{constructor(){super(...arguments),this.skipInvalidateIndices=!1}static get defaultConfig(){return{modelClass:CoreAssignmentMixin,storage:{extraKeys:[{property:"event",unique:!1},{property:"resource",unique:!1},{property:"eventId",unique:!1}]}}}set data(e){this.allAssignmentsForRemoval=!0,super.data=e,this.allAssignmentsForRemoval=!1}getEventsAssignments(e){return this.storage.findItem("event",e)||ba}getResourcesAssignments(e){return this.storage.findItem("resource",e)||ba}updateIndices(){this.storage.rebuildIndices()}invalidateIndices(){this.storage.invalidateIndices()}linkAssignments(e,n){const r=this.count&&this.storage.findItem(n,null);if(r){for(const o of r){const r=e.getById(o.getCurrentOrProposed(n));r&&o.setChanged(n,r)}this.invalidateIndices()}}unlinkAssignments(e){this.forEach((n=>{var r,o,i;return n.setChanged(e,null!==(i=null!==(o=null===(r=n[e])||void 0===r?void 0:r.id)&&void 0!==o?o:n[e])&&void 0!==i?i:n[e+"Id"])})),this.invalidateIndices()}onCommitAsync(){this.updateIndices()}}}))){}const ga=PartOfProject(CoreAssignmentStoreMixin.derive(AjaxStore));class AssignmentStore extends(AssignmentStoreMixin(ga)){static get defaultConfig(){return{modelClass:AssignmentModel}}}AssignmentStore._$name="AssignmentStore";var ResourceStoreMixin=e=>class ResourceStoreMixin extends(e||Base){static get $name(){return"ResourceStoreMixin"}get isResourceStore(){return!0}static get defaultConfig(){return{loadPriority:200,syncPriority:100,storeId:"resources",autoTree:!0}}construct(e){if(super.construct(e),!this.modelClass.isResourceModel)throw new Error("Model for ResourceStore must subclass ResourceModel")}removeAll(){const e=super.removeAll(...arguments);return e&&this.assignmentStore.removeAll(),e}onRecordIdChange({record:e,oldValue:n,value:r}){super.onRecordIdChange({record:e,oldValue:n,value:r}),e.isFieldModified("id")&&(this.isChangingId=!0,e.updateAssignmentResourceIds(),this.isChangingId=!1)}},ResourceModelMixin=e=>class ResourceModelMixin extends e{static get $name(){return"ResourceModelMixin"}static get isResourceModel(){return!0}static get fields(){return[{name:"name",type:"string",persist:!0},"eventColor","eventStyle","imageUrl","image",{name:"resourceMargin",type:"number"},{name:"barMargin",type:"number"},"eventLayout"]}updateAssignmentResourceIds(){this.assigned.forEach((e=>{e.resourceId=this.id}))}syncId(e){super.syncId(e),this.updateAssignmentResourceIds()}get events(){return this.assignments.reduce(((e,n)=>(n.event&&e.push(n.event),e)),[])}get assignments(){return this.assigned?[...this.assigned]:[]}set assignments(e){e.forEach((e=>{e.resource=this}))}getEvents(){return this.events}get isPersistable(){return super.isPersistable&&(!this.parent||this.parent.isPersistable)}unassignAll(){this.assignments&&this.assignmentStore.remove(this.assignments)}get initials(){const{name:e=""}=this;if(!e)return"";const n=e.split(" ");return n[0][0]+(n.length>1?n[n.length-1][0]:"")}isWorkingTime(e){var n;const r=this.effectiveCalendar||(null===(n=this.project)||void 0===n?void 0:n.calendar);return!r||r.isWorkingTime(e)}};const ma=CoreResourceMixin;class ResourceModel extends(ResourceModelMixin(PartOfProject(ma.derive(GridRowModel)))){static get $name(){return"ResourceModel"}}ResourceModel.exposeProperties(),ResourceModel._$name="ResourceModel";const fa={splice:1,clear:1};class AbstractResourceStoreMixin extends(Mixin([AbstractPartOfProjectStoreMixin],(e=>{const n=e.prototype;return class AbstractResourceStoreMixin extends e{constructor(){super(...arguments),this.assignmentsForRemoval=new Set}onDataChange(e){var n;const r=fa[e.action];super.onDataChange(e),r&&(null===(n=e.removed)||void 0===n?void 0:n.length)&&this.afterResourceRemoval()}remove(e,r){const o=n.remove.call(this,e);return this.afterResourceRemoval(),o}removeAll(e){const r=n.removeAll.call(this,e);return this.afterResourceRemoval(),r}afterResourceRemoval(){const e=this.getAssignmentStore();if(e&&!e.allAssignmentsForRemoval){const n=[...this.assignmentsForRemoval].filter((n=>!e.assignmentsForRemoval.has(n)));n.length>0&&e.remove(n)}this.assignmentsForRemoval.clear()}processRecord(e,n=!1){const r=this.getById(e.id);if(r&&r!==e)for(const n of r.assigned)n.resource=e;return e}}}))){}class CoreResourceStoreMixin extends(Mixin([AbstractResourceStoreMixin,CorePartOfProjectStoreMixin],(e=>{const n=e.prototype;return class CoreResourceStoreMixin extends e{static get defaultConfig(){return{modelClass:CoreResourceMixin}}joinProject(){var e;null===(e=this.assignmentStore)||void 0===e||e.linkAssignments(this,"resource")}afterLoadData(){var e;null===(e=this.assignmentStore)||void 0===e||e.linkAssignments(this,"resource")}clear(e){var r;n.clear.call(this,e),null===(r=this.assignmentStore)||void 0===r||r.unlinkAssignments("resource")}}}))){}const va=PartOfProject(CoreResourceStoreMixin.derive(AjaxStore));class ResourceStore extends(ResourceStoreMixin(va)){static get defaultConfig(){return{modelClass:ResourceModel}}}ResourceStore._$name="ResourceStore";const ya={date:"_dateIndex",startDate:"_startDateIndex"},wa=Object.values(ya),xa=Object.freeze([]),{MILLIS_PER_DAY:Ca}=DayTime;class EventDayIndex{constructor(e,n){this.dayTime=n||DayTime.MIDNIGHT,this.store=e,this.users=[this.dayTime]}add(e,n,r){const o=this[ya[e]],i=this.dayTime.dateKey(n);(o[i]||(o[i]=new Set)).add(r)}addEvent(e){var n;let r,o=null===(n=this.dayTime.startOfDay(e.startDate))||void 0===n?void 0:n.getTime();if(o){var i,a;r=null!==(i=null===(a=e.endDate)||void 0===a?void 0:a.getTime())&&void 0!==i?i:o,this.add("startDate",o,e);do{this.add("date",o,e),o+=Ca}while(o<r)}}clear(){wa.forEach((e=>this[e]=Object.create(null)))}get(e,n,r){!this.initialized&&this.initialize();let o,i=this[ya[e]];return n&&(o=this.dayTime.dateKey(n),i=r?[i[o],o]:i[o]),i}initialize(){this.initialized=!0,this.clear(),this.sync("splice",this.store.storage.allValues)}invalidate(){this.initialized=!1,wa.forEach((e=>this[e]=null))}matches(e){return this.dayTime.startShift===e.startShift}remove(e,n,r){const o=this[ya[e]][this.dayTime.dateKey(n)];o&&o.delete(r)}removeEvent(e,n,r){var o;let i,a=null===(o=this.dayTime.startOfDay(n))||void 0===o?void 0:o.getTime();if(a){var l;i=null!==(l=null==r?void 0:r.getTime())&&void 0!==l?l:a,this.remove("startDate",a,e);do{this.remove("date",a,e),a+=Ca}while(a<i)}}sync(e,n,r,o,i){var a,l;r=r||xa;const c=this,d=(n=n||xa).length,u=r.length,p=null==o?void 0:o.length;let b,g,m;if(c.initialized)switch(e){case"clear":c.clear();break;case"splice":if(p)for(n=n.slice(),r=r.slice(),b=0;b<p;b++)r.push(o[b][0]),n.push(o[b][1]);if(u)for(b=0;b<u;b++)m=r[b],c.removeEvent(m,m.startDate,m.endDate);if(d)for(b=0;b<d;b++)g=n[b],g.isScheduled&&c.addEvent(g);break;case"reschedule":m=n[0],c.removeEvent(m,(null===(a=i.startDate)||void 0===a?void 0:a.oldValue)||m.startDate,(null===(l=i.endDate)||void 0===l?void 0:l.oldValue)||m.endDate),c.sync("splice",n)}}register(e){this.users.push(e)}unregister(e){const{users:n}=this,r=n.indexOf(e);return r>-1&&n.splice(r,1),!n.length}}const Sa=EventDayIndex.prototype;wa.forEach((e=>Sa[e]=null)),Sa.initialized=!1,EventDayIndex._$name="EventDayIndex";const{MIDNIGHT:Da}=DayTime,returnTrue$1=()=>!0;var EventStoreMixin=e=>class EventStoreMixin extends(e||Base){static get $name(){return"EventStoreMixin"}construct(e){super.construct(e),this.autoTree=!0,this.dayIndices=null}afterLoadData(){this.syncIndices("splice",this.storage.allValues),super.afterLoadData&&super.afterLoadData()}onDataChange({action:e,added:n,removed:r,replaced:o}){this.syncIndices(e,n,r,o),super.onDataChange(...arguments)}onDataReplaced(e,n){this.syncIndices("clear"),this.syncIndices("splice",this.storage.values),super.onDataReplaced(e,n)}onModelChange(e,n,r,o,i){("startDate"in r||"endDate"in r)&&this.syncIndices("reschedule",[e],null,null,r),super.onModelChange(...arguments)}set filtersFunction(e){super.filtersFunction=e}get filtersFunction(){const e=super.filtersFunction;return e&&e!==FunctionHelper.returnTrue?n=>n.meta.isCreating||e(n):e}getEventsInTimeSpan(e,n,r=!0,o=!1){return VersionHelper.deprecate("Scheduler","5.0.0","`getEventsInTimeSpan` method deprecated, in favor of `getEvents`"),this.getEvents({startDate:e,endDate:n,allowPartial:r,onlyAssigned:o})}getEventsByStartDate(e){return VersionHelper.deprecate("Scheduler","5.0.0","`getEventsByStartDate` method deprecated, in favor of `getEvents`"),this.getEvents({startDate:e,startOnly:!0})}getEvents({filter:e,date:n,startDate:r,endDate:o,startOnly:i,includeOccurrences:a,allowPartial:l,onlyAssigned:c=!1,dateMap:d=!1,dayTime:u=null,getDateIndex:p}){const b=this,g=arguments[0],{lastDateRange:m,added:f,filtersFunction:v}=b,y=e;if(c&&(g.filter=y?e=>y(e)&&e.resources.length:e=>e.resources.length),"startDate"in g||(r=g.startDate=n),"includeOccurrences"in g||(a=g.includeOccurrences=!0),"allowPartial"in g||(l=g.allowPartial=!i),g.storeFilterFn=b.isFiltered?b.reapplyFilterOnAdd?v:e=>f.includes(e)?b.indexOf(e)>-1:v(e):null,!o)if(r)(o=g.endDate=DateHelper.clearTime(r)).setDate(o.getDate()+1);else{if(a)throw new Error("getEvents MUST be passed startDate and endDate if recurring occurrences are requested");g.dateFilter=returnTrue$1}g.dateFilter||(g.dateFilter=i?e=>{const n=e.hasBatchedChange("startDate")?e.get("startDate"):e.startDate;return n&&!(DateHelper.clearTime(n)-r)}:l?e=>{const n=e.hasBatchedChange("startDate")?e.get("startDate"):e.startDate,i=e.hasBatchedChange("endDate")?e.get("endDate"):e.endDate||n;return n&&(!(n-i)?DateHelper.betweenLesserEqual(n,r,o):DateHelper.intersectSpans(n,i,r,o))}:e=>{const n=e.hasBatchedChange("startDate")?e.get("startDate"):e.startDate,i=e.hasBatchedChange("endDate")?e.get("endDate"):e.endDate||n;return n&&n>=r&&i<=o});const x={startDate:r,endDate:o};return(!m||m.startDate-x.startDate||m.endDate-x.endDate)&&(b.processConfiguredListeners(),b.trigger("loadDateRange",{old:m||{},new:Objects.clone(x)}),b.lastDateRange=Objects.clone(x)),d?b.getEventsAsMap(g):b.getEventsAsArray(g)}getEventsAsArray({filter:e,date:n,resourceRecord:r,startDate:o=n,endDate:i,startOnly:a,includeOccurrences:l=!0,dayTime:c=null,dateFilter:d,storeFilterFn:u,getDateIndex:p}){const b=this,g=[];if(b.count){let e=r?b.getEventsForResource(r):null;if(!r){const n=b.useDayIndex(c),r=new Set,l=a?"startDate":"date";b.recurringEvents.forEach((e=>{n.dayTime.startOfDay(e.startDate)<=o&&r.add(e)}));for(const e=new Date(o);e<i;e.setDate(e.getDate()+1)){const o=n.get(p?p(e):l,e);null==o||o.forEach((e=>r.add(e)))}e=[...r]}u&&(e=e.filter(u));for(let n=0,{length:r}=e;n<r;n++){const r=e[n];l&&r.isRecurring?g.push.apply(g,r.getOccurrencesForDateRange(o,i).filter(d)):d(r)&&g.push(r)}}return e?g.filter(e):g}getEventsAsMap({filter:e,date:n,resourceRecord:r,startDate:o=n,endDate:i,startOnly:a,includeOccurrences:l=!0,dateMap:c,dayTime:d=null,storeFilterFn:u,getDateIndex:p}){var b;const g=this;if(null!==(b=c)&&void 0!==b&&b.clear?c.clear():c=new Map,g.count){const n=g.useDayIndex(d),b=a?"startDate":"date",f=[],filter=n=>(!e||e(n))&&(!u||u(n)),baseEventFilter=e=>!e.isRecurring&&filter(e);if(d=n.dayTime,r)throw new Error("Querying for events for a resource and returning a date-keyed Map is not supported");g.recurringEvents.forEach((e=>{d.startOfDay(e.startDate)<i&&f.push(e)}));for(const e=new Date(o);e<i;e.setDate(e.getDate()+1)){var m;let[r,o]=n.get(p?p(e):b,e,!0);null!==(m=r)&&void 0!==m&&m.size&&(r=[...r].filter(baseEventFilter),r.length&&(c.get(o)||c.set(o,[]).get(o)).push(...r))}for(let e=0,{length:n}=f;e<n;e++){const n=f[e],r=(l?n.getOccurrencesForDateRange(o,i):[n]).filter(filter);for(let e,n=0,{length:o}=r;n<o;n++){const o=r[n],i=d.startOfDay(o.startDate),l="startDate"===(p?p(i):a?"startDate":"date")?DateHelper.add(i,1,"day"):o.endDate||DateHelper.add(o.startDate,o.duration,o.durationUnit);for(;i<l;i.setDate(i.getDate()+1)){const n=d.dateKey(i);(e=c.get(n))||c.set(n,e=[]),e.push(o)}}}}return c}forEachScheduledEvent(e,n=this){this.forEach((r=>{const{startDate:o,endDate:i}=r;if(o&&i)return e.call(n,r,o,i)}))}getTotalTimeSpan(){let e=new Date(9999,0,1),n=new Date(0);return this.forEach((r=>{r.startDate&&(e=DateHelper.min(r.startDate,e)),r.endDate&&(n=DateHelper.max(r.endDate,n))})),e=e<new Date(9999,0,1)?e:null,n=n>new Date(0)?n:null,this.lastTotalTimeSpan={startDate:e||null,endDate:n||e||null}}isEventPersistable(e){return e.isPersistable}isDateRangeAvailable(e,n,r,o){const i=new Set(this.getEventsForResource(o));if(null!=r&&r.isAssignment){r.event.resources.forEach((e=>{e.id!==r.resourceId&&this.getEventsForResource(e).forEach((e=>i.add(e)))}))}if(r){const e=r.isAssignment?r.event:r;i.delete(e)}return!Array.from(i).some((r=>r.isScheduled&&DateHelper.intersectSpans(e,n,r.startDate,r.endDate)))}filterEventsForResource(e,n,r=this){return e.getEvents(this).filter(n.bind(r))}getResourcesForEvent(e){return e.isOccurrence&&(e=e.recurringTimeSpan),this.assignmentStore.getResourcesForEvent(e)}getEventsForResource(e){return this.assignmentStore.getEventsForResource(e)}getAssignmentsForEvent(e){return this.assignmentStore.getAssignmentsForEvent(e)||[]}getAssignmentsForResource(e){return this.assignmentStore.getAssignmentsForResource(e)||[]}assignEventToResource(e,n,r=!1){return this.assignmentStore.assignEventToResource(e,n,void 0,r)}unassignEventFromResource(e,n){this.assignmentStore.unassignEventFromResource(e,n)}reassignEventFromResourceToResource(e,n,r){const o=this,i=Model.asId(r),a=o.assignmentStore.getAssignmentForEventAndResource(e,n);a?a.resourceId=i:o.assignmentStore.assignEventToResource(e,r)}isEventAssignedToResource(e,n){return this.assignmentStore.isEventAssignedToResource(e,n)}removeAssignmentsForEvent(e){this.assignmentStore.removeAssignmentsForEvent(e)}removeAssignmentsForResource(e){this.assignmentStore.removeAssignmentsForResource(e)}invalidateDayIndices(){var e;null===(e=this.dayIndices)||void 0===e||e.forEach((e=>e.invalidate()))}registerDayIndex(e){const n=this,r=n.dayIndices||(n.dayIndices=[]);let o,i;for(i=0;!o&&i<r.length;++i)r[i].matches(e)&&(o=r[i]).register(e);return!o&&r.push(o=new EventDayIndex(n,e)),o}syncIndices(...e){var n;null===(n=this.dayIndices)||void 0===n||n.forEach((n=>n.sync(...e)))}unregisterDayIndex(e){const{dayIndices:n}=this;for(let r=null==n?void 0:n.length;r-- >0;)if(n[r].matches(e)){n[r].unregister(e)&&n.splice(r,1);break}}useDayIndex(e){const n=this,{dayIndices:r}=n;e=e||Da;for(let n=0;r&&n<r.length;++n)if(r[n].matches(e))return r[n];if(e.startShift)throw new Error(`No day index registered for ${e} on ${n.id}`);return n.registerDayIndex(Da)}},SharedEventStoreMixin=e=>class SharedEventStoreMixin extends e{static get $name(){return"SharedEventStoreMixin"}static get defaultConfig(){return{loadPriority:100,syncPriority:200,storeId:"events",removeUnassignedEvent:!0,singleAssignment:null}}construct(e){if(super.construct(e,!0),this.singleAssignment&&(this.usesSingleAssignment=!0),!this.modelClass.isEventModel)throw new Error("The model for the EventStore must subclass EventModel")}append(e){return this.add(e)}get project(){return super.project}set project(e){var n;(super.project=e,this.detachListeners("project"),e)&&(null!==(n=e.assignmentStore)&&void 0!==n&&n.isAssignmentStore&&this.attachToAssignmentStore(e.assignmentStore),e.on({name:"project",assignmentStoreChange:"onProjectAssignmentStoreChange",thisObj:this,prio:200}))}processRecords(e){var n;const{assignmentStore:r}=this,o=[];return r&&(r.skipInvalidateIndices=!0),e=super.processRecords(e,r&&!(null!==(n=this.stm)&&void 0!==n&&n.isRestoring)&&(e=>{const n=e.get("resourceId");e.reassignedFromReplace||null==n||r.includesAssignment(e.id,n)||o.push({id:r.modelClass.generateId(""),resourceId:n,eventId:e.id}),e.reassignedFromReplace=!1})||void 0),r&&(r.storage.invalidateIndices(),r.skipInvalidateIndices=!1,r.add(o)),e}joinRecordsToStore(e){const{assignmentStore:n}=this;n?(n.skipInvalidateIndices=!0,super.joinRecordsToStore(e),n.storage.invalidateIndices(),n.skipInvalidateIndices=!1):super.joinRecordsToStore(e)}processRecord(e,n=!1){const r=(e=super.processRecord(e,n)).get("resourceId");if(null!=r){const o=this,{assignmentStore:i}=o,a=o.getById(e.id);if(a&&a!==e&&!n){const n=i.find((n=>n.eventId===e.id));n&&(n.resource=r,e.reassignedFromReplace=!0)}else o.$processResourceIds=!0;o.usesSingleAssignment=!0}return e}processResourceIds(){const{assignmentStore:e}=this;if(this.$processResourceIds&&null!=e&&e.isAssignmentStore){const n=[];this.forEach((r=>{const{resourceId:o,id:i}=r;null!=o&&n.push({id:e.modelClass.generateId(""),resourceId:o,eventId:i})})),e.useRawData={disableDefaultValue:!0,disableDuplicateIdCheck:!0,disableTypeConversion:!0},e.usesSingleAssignment=!1,e.data=n,e.usesSingleAssignment=!0,this.$processResourceIds=!1}}loadData(){super.loadData(...arguments),this.processResourceIds()}onBeforeRemoveAssignment({records:e}){var n;const r=this;if(r.removeUnassignedEvent&&!r.isRemoving&&!r.isSettingData&&(null===(n=r.stm)||void 0===n||!n.isRestoring)&&!r.usesSingleAssignment){const n=new Set;e.forEach((r=>{const{event:o}=r;o&&!o.isRemoved&&o.assignments.every((n=>e.includes(n)))&&n.add(o)})),n.size&&r.remove([...n])}}onProjectAssignmentStoreChange({store:e}){this.attachToAssignmentStore(e)}attachToAssignmentStore(e){const n=this;n.detachListeners("assignmentStore"),e&&(n.processResourceIds(),e.on({name:"assignmentStore",addPreCommit({records:e}){!n.usesSingleAssignment||n.isSettingData||n.isAssigning||e.forEach((e=>{const{event:n}=e;null!=n&&n.isEvent&&n.resourceId!==e.resourceId&&(n.meta.isAssigning=!0,n.set("resourceId",e.resourceId),n.meta.isAssigning=!1)}))},beforeRemove:"onBeforeRemoveAssignment",removePreCommit({records:e}){n.usesSingleAssignment&&e.forEach((e=>{var r;null===(r=n.getById(e.eventId))||void 0===r||r.set("resourceId",null)}))},removeAllPreCommit(){n.usesSingleAssignment&&!n.isSettingData&&n.allRecords.forEach((e=>e.set("resourceId",null)))},update({record:e,changes:r}){if(n.usesSingleAssignment&&"resourceId"in r){const{event:n}=e;n.meta.isAssigning=!0,n.set("resourceId",r.resourceId.value),n.meta.isAssigning=!1}},thisObj:n}))}set data(e){this.isSettingData=!0,this.usesSingleAssignment&&!this.syncDataOnLoad&&this.assignmentStore.removeAll(!0),super.data=e,this.isSettingData=!1}trigger(e,n){const{changes:r}=n||{};return r&&"resourceId"in r&&1===Object.keys(r).length&&(n.isAssign=!0),super.trigger(...arguments)}};const Ea=Object.freeze([]);var RecurringTimeSpansMixin=e=>class RecurringTimeSpansMixin extends(e||Base){static get $name(){return"RecurringTimeSpansMixin"}construct(...e){this.globalOccurrences=new Map,this.recurringEvents=new Set,super.construct(...e)}afterLoadData(){this.globalOccurrences.clear(),this.refreshRecurringEventsCache("clear"),this.refreshRecurringEventsCache("splice",this.storage.allValues),super.afterLoadData&&super.afterLoadData()}onDataChange({action:e,added:n,removed:r,replaced:o}){this.refreshRecurringEventsCache(e,n,r,o),super.onDataChange(...arguments)}refreshRecurringEventsCache(e,n=Ea,r=Ea,o){const{recurringEvents:i}=this,a=null==o?void 0:o.length;switch(e){case"clear":i.clear();break;case"splice":if(a){n=n.slice(),r=r.slice();for(let e=0;e<a;e++)r.push(o[e][0]),n.push(o[e][1])}const e=n.length,l=r.length;if(l&&i.size)for(let e=0;e<l;e++){const n=r[e];n.isRecurring&&i.delete(n)}if(e)for(let r=0;r<e;r++){const e=n[r];e.isRecurring&&i.add(e)}}}getById(e){let n=super.getById(e);return n||(n=this.globalOccurrences.get(this.modelClass.asId(e))),n}onModelChange(e,n,r,o,i){const a=this.isRecurrenceRelatedFieldChange(e,r);if(a&&!o&&e.removeOccurrences(),super.onModelChange(...arguments),a&&!o){const e={action:"batch",records:this.storage.values};this.trigger("refresh",e),this.trigger("change",e)}}isRecurrenceRelatedFieldChange(e,n){return e.isRecurring||"recurrenceRule"in n}getOccurrencesForTimeSpan(e,n,r){const o=[];return e.isRecurring&&e.recurrence.forEachOccurrence(n,r,(e=>o.push(e))),o}set data(e){this.globalOccurrences.clear(),super.data=e}getRecurringTimeSpans(){return[...this.recurringEvents]}},RecurringEventsMixin=e=>class RecurringEventsMixin extends(RecurringTimeSpansMixin(e||Base)){static get $name(){return"RecurringEventsMixin"}getRecurringEvents(){return this.getRecurringTimeSpans()}isEventPersistable(e){return super.isEventPersistable(e)&&(!e.supportsRecurring||!e.isOccurrence)}};class TimeSpan extends Model{static get $name(){return"TimeSpan"}static get fields(){return[{name:"startDate",type:"date"},{name:"endDate",type:"date"},{name:"duration",type:"number",allowNull:!0,internal:!0},{name:"durationUnit",type:"string",defaultValue:"d",internal:!0},{name:"fullDuration",persist:!1,column:{type:"duration"},internal:!0},{name:"cls",defaultValue:"",internal:!0},{name:"iconCls",internal:!0},{name:"style",type:"object",internal:!0},{name:"name",type:"string",defaultValue:""}]}afterConstruct(){super.afterConstruct(),this.normalize()}get eventStore(){const e=this;if(e.isOccurrence)return e.recurringTimeSpan.eventStore;var n;e._eventStore||(e._eventStore=null===(n=e.stores)||void 0===n?void 0:n.find((e=>e.isEventStore)));return e._eventStore}normalize(){const e=this,{startDate:n,endDate:r,duration:o,durationUnit:i}=e,a=null!=o;n&&r&&!a?e.setData("duration",DateHelper.diff(n,r,i,!0)):n&&!r&&a?e.setData("endDate",DateHelper.add(n,o,i)):!n&&r&&a&&e.setData("startDate",DateHelper.add(r,-o,i))}updateInternalCls(e){this._cls?this._cls.value=e:this._cls=new DomClassList(e)}set internalCls(e){this.updateInternalCls(e),this.set("cls",this._cls.value)}get internalCls(){const{cls:e}=this;return null!=e&&e.isDomClassList?e:(this.internalCls=e,this._cls)}get cls(){return this._cls||(this._cls=new DomClassList(super.get("cls"))),this._cls}set cls(e){this.internalCls=e}get startDate(){return this.get("startDate")}set startDate(e){this.setStartDate(e)}get endDate(){return this.get("endDate")}set endDate(e){this.setEndDate(e)}get duration(){return this.get("duration")}set duration(e){this.setDuration(e,this.durationUnit)}get durationUnit(){return this.get("durationUnit")}setDuration(e,n=this.durationUnit){const r={duration:e=parseFloat(e),durationUnit:n};this.startDate?r.endDate=DateHelper.add(this.startDate,e,n):this.endDate&&(r.startDate=DateHelper.add(this.endDate,-e,n)),this.set(r)}getDurationInUnit(e,n){return this.starDate&&this.endDate?DateHelper.getDurationInUnit(this.startDate,this.endDate,e,n):DateHelper.as(e,this.duration,this.durationUnit)}get fullDuration(){return new Duration({unit:this.durationUnit,magnitude:this.duration})}set fullDuration(e){"string"==typeof e&&(e=DateHelper.parseDuration(e,!0,this.durationUnit)),this.setDuration(e.magnitude,e.unit)}setStartDate(e,n=!0){const r=this,o={startDate:e};if(e){let i;if(n)i=null!=r.duration;else if(r.endDate){if(o.duration=DateHelper.diff(e,r.endDate,r.durationUnit,!0),o.duration<0)throw new Error("Negative duration")}else i=null!=this.duration;i&&(o.endDate=DateHelper.add(e,r.getDurationInUnit("h"),"h"))}else o.duration=null;r.set(o)}setEndDate(e,n=!1){const r=this,o={endDate:e};if(e){let i;if(!0===n)i=null!=r.duration;else if(r.startDate){if(o.duration=DateHelper.diff(r.startDate,e,r.durationUnit,!0),o.duration<0)throw new Error("Negative duration")}else i=null!=this.duration;i&&(o.startDate=DateHelper.add(e,-r.duration,r.durationUnit))}r.set(o)}setStartEndDate(e,n,r){this.set({startDate:e,endDate:n},null,r)}get dates(){const e=[],n=DateHelper.startOf(this.startDate,"day"),r=this.endDate;for(let o=n;o<r;o=DateHelper.add(o,1,"day"))e.push(o);return e}get startDateMS(){var e;return null===(e=this.batching&&this.hasBatchedChange("startDate")?this.get("startDate"):this.startDate)||void 0===e?void 0:e.getTime()}get endDateMS(){var e;return null===(e=this.batching&&this.hasBatchedChange("endDate")?this.get("endDate"):this.endDate)||void 0===e?void 0:e.getTime()}get durationMS(){const{endDateMS:e,startDateMS:n}=this;return e&&n?e-n:DateHelper.asMilliseconds(this.duration||0,this.durationUnit)}get isMilestone(){return 0===this.duration}inSetNormalize(e){if("string"!=typeof e){let{startDate:n,endDate:r,duration:o,durationUnit:i=this.durationUnit}=e;return"string"==typeof n&&(n=this.getFieldDefinition("startDate").convert(n)),"string"==typeof r&&(r=this.getFieldDefinition("endDate").convert(r)),"duration"in e?(n&&!r&&(r=DateHelper.add(n,o,i,!0,!0)),!n&&r&&(n=DateHelper.add(r,-o,i,!0,!0))):n&&r&&(o=DateHelper.as(i,DateHelper.diff(n,r,"h",!0),"h")),n&&(e.startDate=n),r&&(e.endDate=r),null!=o&&(e.duration=o),e}}inSet(e,n,r,o,i){return i||(e=this.inSetNormalize(e)||e),super.inSet(e,n,r,o,i)}applyValue(e,n,r,o,i){"cls"===n&&this.updateInternalCls(r),super.applyValue(e,n,r,o,i)}forEachDate(e,n){return this.dates.forEach(e.bind(n))}get isScheduled(){const{startDateMS:e,endDateMS:n}=this;return n-e>=0}get isValid(){const{startDate:e,endDate:n}=this;return!e||!n||n-e>=0}shift(e,n=this.durationUnit){if("string"==typeof e){const r=e;e=n,n=r}return this.setStartDate(DateHelper.add(this.startDate,e,n,!0),!0)}get wbsCode(){return this._wbsCode||this.indexPath.join(".")}set wbsCode(e){this._wbsCode=e}fullCopy(){return this.copy.apply(this,arguments)}intersects(e){return this.intersectsRange(e.startDate,e.endDate)}intersectsRange(e,n){const r=this.startDate,o=this.endDate;return r&&o&&DateHelper.intersectSpans(r,o,e,n)}split(e=.5){const n=this,r=n.copy(),{eventStore:o,assignmentStore:i}=n,a=n.duration*e,l=n.duration-a;if(e<=0||e>=1)throw new Error("Split point must be > 0 and < 1");return r.startDate=DateHelper.add(n.startDate,a,n.durationUnit),r.duration=l,n.duration=a,o&&(o.add(r),i&&!o.usesSingleAssignment&&i.add(n.assignments.map((e=>{const n=Object.assign({},e.data,{eventId:r.id,event:null,resource:null});return delete n.id,n})))),r}toICSString(e={}){if(!this.isScheduled)return"";const n=DateHelper.toUTC(new Date),r=DateHelper.toUTC(this.startDate),o=DateHelper.toUTC(this.endDate),i="YYYYMMDDTHHmmss",a=e.DTSTAMP||DateHelper.format(n,i)+"Z";delete e.DTSTAMP;let l={};if(this.allDay){const e="YYYYMMDD";l={"DTSTART;VALUE=DATE":DateHelper.format(r,e),"DTEND;VALUE=DATE":DateHelper.format(o,e)}}else l={DTSTART:DateHelper.format(r,i)+"Z",DTEND:DateHelper.format(o,i)+"Z"};const c={BEGIN:"VCALENDAR",VERSION:"2.0",CALSCALE:"GREGORIAN",PRODID:`-//Bryntum AB//Bryntum Scheduler ${VersionHelper.scheduler&&VersionHelper.getVersion("scheduler")||VersionHelper.calendar&&VersionHelper.getVersion("calendar")||""} //EN`,END:"VCALENDAR"},d=_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({BEGIN:"VEVENT",UID:this.id+"@bryntum.com",CLASS:"PUBLIC",SUMMARY:this.name,DTSTAMP:a},l),this.recurrenceRule?{RRULE:this.recurrenceRule}:{}),e),{},{END:"VEVENT"}),u=Object.keys(c).map((e=>`${e}:${c[e]}`)),p=Object.keys(d).map((e=>`${e}:${d[e]}`));return u.splice(u.length-1,0,...p),u.join("\n")}exportToICS(e){if(this.isScheduled){const n=new Blob([this.toICSString(e)],{type:"text/calendar"});BrowserHelper.downloadBlob(n,(this.name||"Event")+".ics")}}isEditable(e){return!!this.getFieldDefinition(e)||void 0}isFieldModified(e){return"fullDuration"===e?super.isFieldModified("duration")||super.isFieldModified("durationUnit"):super.isFieldModified(e)}}TimeSpan._$name="TimeSpan";const ka=/^([+-]?[0-9])?(SU|MO|TU|WE|TH|FR|SA)$/,Ta=["SU","MO","TU","WE","TH","FR","SA"];class RecurrenceDayRuleEncoder extends Base{static decodeDay(e){let n,r;return(n=ka.exec(e))&&(r=[Ta.indexOf(n[2])],n[1]&&(n[1]=parseInt(n[1],10),r.push(n[1]))),r}static encodeDay(e){let n;return Array.isArray(e)&&([e,n]=e),(n?n.toString():"")+Ta[e]}static decode(e){let n,r=[];if(e)for(let o=0;o<e.length;o++)(n=this.decodeDay(e[o]))&&r.push(n);return r}static encode(e){let n,r=[];if(e)for(let o=0;o<e.length;o++)(n=this.encodeDay(e[o]))&&r.push(n);return r}}RecurrenceDayRuleEncoder._$name="RecurrenceDayRuleEncoder";const _a=/ly$/i,frequencyToUnit=e=>{const n=e.replace(_a,"");return"DAI"===n?"DAY":n},fn=(e,n,r,o)=>o.buildOccurrence(e,r),captureLastOccurrence=e=>Ma=e;let Ma;class AbstractRecurrenceIterator extends Base{static processIterationConfig(e){var n;const{recurrence:r}=e,{frequency:o,interval:i,timeSpan:a,endDate:l,count:c}=r;if(!e.syncingStartDate&&!a.meta.isSyncedWithRule){const n=DateHelper.add(a.startDate,i,frequencyToUnit(o)),l=DateHelper.min(n,e.endDate||n);this.forEachDate({syncingStartDate:!0,startDate:a.startDate,endDate:l,recurrence:r,fn})}const d=a.startDate;let{startDate:u=d,endDate:p=l}=e;u<d&&(u=d),l?(!p||p>l)&&(p=l):c&&u>d&&(this.forEachDate({recurrence:r,fn:captureLastOccurrence}),(!p||p>Ma)&&(p=Ma));const b=u;return e.startOnly||(u=new Date(DateHelper.max(DateHelper.add(u,-i,frequencyToUnit(o)),d))),Object.assign({extraArgs:[],startOnly:!Boolean(a.durationMS)},e,{startDate:u,endDate:p,timeSpan:a,timeSpanStart:d,earliestVisibleDate:b,endDateMS:null===(n=p)||void 0===n?void 0:n.getTime(),timeSpanStartMS:d.getTime(),earliestVisibleDateMS:b.getTime(),durationMS:a.durationMS,spansStart:u<=d&&p>d})}static get frequency(){return"NONE"}static get MAX_OCCURRENCES_COUNT(){return 1e6}static getOccurrenceIndex(e){if(e.isOccurrence)return DateHelper.diff(e.recurringTimeSpan.startDate,e.startDate,frequencyToUnit(e.recurringTimeSpan.recurrence.frequency))}static getNthDayInPeriod(e,n,r,o){let i,a,l;if(o){o>0?(a=1,l=e):(a=-1,l=n);const c=r-l.getDay();a*c<0&&(o+=a),i=new Date(l),i.setDate(l.getDate()+7*(o-a)+c),(i<e||i>n)&&(i=null)}return i}static buildDate(e,n,r){const o=new Date(e,n,r);if(o.getFullYear()===e&&o.getMonth()===n&&o.getDate()===r)return o}static isValidPosition(e){return Boolean(e)}static forEachDateAtPositions(e,n,r,o){const i=e.length,a={};for(let l=0;l<n.length;l++){const c=n[l];if(this.isValidPosition(c)){const n=c>0?e[c-1]:e[i+c];if(n&&!a[n.getTime()]&&(a[n.getTime()]=!0,!1===r.call(o,n)))return!1}}}static isInView(e,n,r,o,i){return(e?n>=r:n.valueOf()+o>r)&&!i.hasException(n)}static isInViewMS(e,n,r,o,i,a){return(e?r>=o:r+i>o)&&!a.hasException(n)}}AbstractRecurrenceIterator._$name="AbstractRecurrenceIterator";class DailyRecurrenceIterator extends AbstractRecurrenceIterator{static get frequency(){return"DAILY"}static forEachDate(e){const{startOnly:n,startDate:r,endDate:o,endDateMS:i,timeSpan:a,timeSpanStart:l,earliestVisibleDateMS:c,durationMS:d,spansStart:u,recurrence:p,fn:b,extraArgs:g,scope:m=this}=this.processIterationConfig(e),{interval:f}=p,v=r-l,y=864e5*f,x=Math.floor(v/y);let{count:C}=p,S=0,D=DateHelper.add(l,x*f,"day"),E=D.getTime();for(o||C||(C=this.MAX_OCCURRENCES_COUNT);!i||E<=i;){if(S++,this.isInViewMS(n,D,E,c,d,a)&&(i&&E>i||!1===b.apply(m,[D,S,1===S&&u,a,...g])||C&&S>=C))break;D=DateHelper.add(D,f,"day"),E=D.getTime()}}}DailyRecurrenceIterator._$name="DailyRecurrenceIterator";class WeeklyRecurrenceIterator extends AbstractRecurrenceIterator{static get frequency(){return"WEEKLY"}static forEachDate(e){var n;const{startOnly:r,startDate:o,endDateMS:i,timeSpan:a,timeSpanStart:l,timeSpanStartMS:c,earliestVisibleDateMS:d,durationMS:u,spansStart:p,recurrence:b,fn:g,extraArgs:m,scope:f=this}=this.processIterationConfig(e),{interval:v,days:y}=b,{weekStartDay:x}=DateHelper,C=l.getHours(),S=l.getMinutes(),D=l.getSeconds(),E=l.getMilliseconds();let k,T,_=0,{count:M}=b,R=RecurrenceDayRuleEncoder.decode(y);if(null!==(n=R)&&void 0!==n&&n.length||(R=[[l.getDay()]]),x>0)for(let e=0;e<R.length;e++)x>R[e][0]?R[e][0]=7-x-R[e][0]:R[e][0]-=x;for(R.sort(((e,n)=>e[0]-n[0])),k=DateHelper.getNext(M||v>1?l:o,"week",0),i||M||(M=this.MAX_OCCURRENCES_COUNT);!i||k.getTime()<=i;){for(let e=0;e<R.length;e++){T=new Date(k.getFullYear(),k.getMonth(),k.getDate()+R[e][0],C,S,D,E);const n=T.getTime();if(n>=c){if(_++,this.isInViewMS(r,T,n,d,u,a)&&(i&&n>i||!1===g.apply(f,[T,_,1===_&&p,a,...m])||M&&_>=M))return}}k=DateHelper.getNext(k,"week",v)}}}WeeklyRecurrenceIterator._$name="WeeklyRecurrenceIterator";class MonthlyRecurrenceIterator extends AbstractRecurrenceIterator{static get frequency(){return"MONTHLY"}static getNthDayOfMonth(e,n){const r=DateHelper.daysInMonth(e);let o=null;return n&&Math.abs(n)<=r&&(o=new Date(e.getFullYear(),e.getMonth(),n<0?r+n+1:n)),o}static isValidPosition(e){return e&&Math.abs(e)>0&&Math.abs(e)<=31}static forEachDate(e){const{startOnly:n,startDate:r,endDate:o,timeSpan:i,timeSpanStart:a,earliestVisibleDate:l,durationMS:c,spansStart:d,recurrence:u,fn:p,extraArgs:b,scope:g=this}=this.processIterationConfig(e),{interval:m,days:f,count:v,positions:y}=u,x=RecurrenceDayRuleEncoder.decode(f),C=y&&y.length,S={};let D,E,k,T,_,M,{monthDays:R}=u,I=0;for(E=DateHelper.startOf(v||m>1?a:r,"month"),k=new Date(DateHelper.getNext(E,"month",1)-1),R&&R.length||x&&x.length||(R=[a.getDate()]),x&&x.length&&x.forEach((e=>{e[1]&&(D=D||{},D[e[0]]=e[1])}));(!o||o>=E)&&(!v||I<v);){if(T=[],x&&x.length){if(x.forEach((e=>{const n=e[0];let r=1,o=53;for(e[1]&&(r=o=e[1]),M=r;M<=o;M++)(_=this.getNthDayInPeriod(E,k,n,M))&&(_=DateHelper.copyTimeValues(_,a),S[_.getTime()]||(S[_.getTime()]=!0,T.push(_)))})),T.sort(((e,n)=>e-n)),!C)for(M=0;M<T.length;M++)if(_=T[M],_>=a){const e=this.isInView(n,_,l,c,i);if(I++,e&&(o&&_>o||!1===p.apply(g,[_,I,1===I&&d,i,...b])||v&&I>=v))return!1}}else{const e=[];for(M=0;M<R.length;M++)(_=this.getNthDayOfMonth(E,R[M]))&&!S[_.getTime()]&&(S[_.getTime()]=!0,e.push(_));for(e.sort(((e,n)=>e-n)),M=0;M<e.length;M++)if(_=DateHelper.copyTimeValues(e[M],a),C)T.push(_);else if(_>=a){const e=this.isInView(n,_,l,c,i);if(I++,e&&(o&&_>o||!1===p.apply(g,[_,I,1===I&&d,i,...b])||v&&I>=v))return}}C&&T.length&&this.forEachDateAtPositions(T,y,(e=>{if(e>=a){const r=n?e>=l:e.valueOf()+c>l&&!i.hasException(e);if(I++,r&&(!o||e<=o)&&(!1===p.apply(g,[e,I,1===I&&d,i,...b])||v&&I>=v))return!1}})),E=DateHelper.getNext(E,"month",m),k=new Date(DateHelper.getNext(E,"month",1)-1)}}}MonthlyRecurrenceIterator._$name="MonthlyRecurrenceIterator";class YearlyRecurrenceIterator extends AbstractRecurrenceIterator{static get frequency(){return"YEARLY"}static forEachDate(e){const{startOnly:n,startDate:r,endDate:o,timeSpan:i,timeSpanStart:a,earliestVisibleDate:l,durationMS:c,spansStart:d,recurrence:u,fn:p,extraArgs:b,scope:g=this}=this.processIterationConfig(e),{interval:m,days:f,count:v,positions:y}=u,x=RecurrenceDayRuleEncoder.decode(f),C=y&&y.length,S={};let D,E,k,T,_,M,{months:R}=u,I=0;for(T=DateHelper.startOf(v||m>1?a:r,"year"),_=new Date(DateHelper.getNext(T,"year",1)-1),R&&R.sort(((e,n)=>e-n)),R&&R.length||x&&x.length||(R=[a.getMonth()+1]),x&&x.length&&x.forEach((e=>{e[1]&&(M=M||{},M[e[0]]=e[1])}));(!o||o>=T)&&(!v||I<v);){if(k=[],x&&x.length){if(x.forEach((e=>{const n=e[0];let r=1,o=53;for(e[1]&&(r=o=e[1]),D=r;D<=o;D++)(E=this.getNthDayInPeriod(T,_,n,D))&&(E=DateHelper.copyTimeValues(E,a),S[E.getTime()]||(S[E.getTime()]=!0,k.push(E)))})),k.sort(((e,n)=>e-n)),!C)for(D=0;D<k.length;D++)if(E=k[D],E>=a){const e=this.isInView(n,E,l,c,i);if(I++,e&&(o&&E>o||!1===p.apply(g,[E,I,1===I&&d,i,...b])||v&&I>=v))return}}else for(D=0;D<R.length;D++)if((E=this.buildDate(T.getFullYear(),R[D]-1,a.getDate()))&&(E=DateHelper.copyTimeValues(E,a),!S[E.getTime()]))if(S[E.getTime()]=!0,C)k.push(E);else if(E>=a){const e=n?E>=l:E.valueOf()+c>l&&!i.hasException(E);if(I++,e&&(o&&E>o||!1===p.apply(g,[E,I,1===I&&d,i,...b])||v&&I>=v))return}C&&k.length&&this.forEachDateAtPositions(k,y,(e=>{if(e>=a){const r=n?e>=l:e.valueOf()+c>l&&!i.hasException(e);if(I++,r&&(!o||e<=o)&&(!1===p.apply(g,[e,I,1===I&&d,i,...b])||v&&I>=v))return!1}})),T=DateHelper.getNext(T,"year",m),_=new Date(DateHelper.getNext(T,"year",1)-1)}}}YearlyRecurrenceIterator._$name="YearlyRecurrenceIterator";const Ra={};function convertStringOfIntegerItemsValue(e){return e?"string"==typeof e&&(e=e.split(",").map((e=>parseInt(e,10)))):e=null,e}function convertStringOfItemsValue(e){return e?"string"==typeof e&&(e=e.split(",")):e=null,e}function isEqualAsString(e,n){return String(e)===String(n)}function convertInteger(e){return this.defaultValue&&void 0===e?this.defaultValue:this.allowNull&&null==e?null:(e=parseInt(e),isNaN(e)?void 0:e)}[DailyRecurrenceIterator,WeeklyRecurrenceIterator,MonthlyRecurrenceIterator,YearlyRecurrenceIterator].forEach((e=>{Ra[e.frequency]=e}));class RecurrenceModel extends Model{static get $name(){return"RecurrenceModel"}get isRecurrenceModel(){return!0}static get fields(){return[{name:"frequency",defaultValue:"DAILY"},{name:"interval",defaultValue:1,convert:convertInteger},{name:"endDate",type:"date"},{name:"count",allowNull:!0,convert:convertInteger},{name:"days",convert:convertStringOfItemsValue,isEqual:isEqualAsString},{name:"monthDays",convert:convertStringOfIntegerItemsValue,isEqual:isEqualAsString},{name:"months",convert:convertStringOfIntegerItemsValue,isEqual:isEqualAsString},{name:"positions",convert:convertStringOfIntegerItemsValue,isEqual:isEqualAsString}]}get dateFormat(){return this._dateFormat||"YYYYMMDDTHHmmss"}set dateFormat(e){this._dateFormat=e}get recurrenceIterator(){return Ra[this.frequency]}get timeSpan(){return this._timeSpan}set timeSpan(e){this._timeSpan=e}get rule(){const e=this,n=[];return e.frequency&&(n.push(`FREQ=${e.frequency}`),e.interval>1&&n.push(`INTERVAL=${e.interval}`),e.days&&e.days.length&&n.push("BYDAY="+e.days.join(",")),e.monthDays&&e.monthDays.length&&n.push("BYMONTHDAY="+e.monthDays.join(",")),e.months&&e.months.length&&n.push("BYMONTH="+e.months.join(",")),e.count&&n.push(`COUNT=${e.count}`),e.endDate&&n.push("UNTIL="+DateHelper.format(e.endDate,e.dateFormat)),e.positions&&e.positions.length&&n.push("BYSETPOS="+e.positions.join(","))),n.join(";")}set rule(e){const n=this,r={frequency:null,interval:null,count:null,endDate:null,days:null,monthDays:null,months:null,positions:null};if(n.beginBatch(),e){const o=e.split(";");for(let e=0,i=o.length;e<i;e++){const i=o[e].split("="),a=i[1];switch(i[0]){case"FREQ":r.frequency=a;break;case"INTERVAL":r.interval=a;break;case"COUNT":r.count=a,r.until=null;break;case"UNTIL":r.endDate=a?DateHelper.parse(a,n.dateFormat):null,r.count=null;break;case"BYDAY":r.days=a;break;case"BYMONTHDAY":r.monthDays=a;break;case"BYMONTH":r.months=a;break;case"BYSETPOS":r.positions=a}}}n.set(r),e&&n.sanitize(),n.endBatch()}construct(e={}){const n=this,{rule:r,timeSpan:o}=e;n._suspendedTimeSpanNotifying=0,delete e.timeSpan,delete e.rule,super.construct(...arguments),r&&(n.suspendTimeSpanNotifying(),n.rule=r,n.resumeTimeSpanNotifying()),n.timeSpan=o}forEachOccurrence(e,n,r){this.timeSpan.startDate&&this.recurrenceIterator.forEachDate({recurrence:this,startDate:e,endDate:n,fn(e,n,o,i){r(i.buildOccurrence(e,o),o,n,e)}})}sanitize(){var e,n;const r=this,o=null===(e=r.timeSpan)||void 0===e?void 0:e.startDate,i={};switch(r.isSanitizing=!0,r.frequency){case"DAILY":i.positions=null,i.days=null,i.monthDays=null,i.months=null;break;case"WEEKLY":i.positions=null,i.monthDays=null,i.months=null;const{days:e}=r;o&&1==(null==e?void 0:e.length)&&e[0]==RecurrenceDayRuleEncoder.encodeDay(o.getDay())&&(i.days=null);break;case"MONTHLY":null!==(n=r.monthDays)&&void 0!==n&&n.length&&(i.positions=null,i.days=null),i.months=null;const{monthDays:a}=r;o&&1==(null==a?void 0:a.length)&&a[0]==o.getDate()&&(i.monthDays=null);break;case"YEARLY":i.monthDays=null;const{months:l}=r;o&&1==(null==l?void 0:l.length)&&l[0]==o.getMonth()+1&&(i.months=null)}r.set(i),r.isSanitizing=!1}copy(...e){const n=super.copy(...e);return n.dateFormat=this.dateFormat,n.timeSpan=this.timeSpan,n}afterChange(e,n,r){const o=super.afterChange(e,n,r),{timeSpan:i}=this;return this.isSanitizing||this.sanitize(),i&&(i.sanitizeRecurrenceData(this),this.isTimeSpanNotifyingSuspended||i.onRecurrenceChanged()),o}set(e,n,...r){const o="object"==typeof e?e:{[e]:n};o.count?o.endDate=null:o.endDate&&(o.count=null),super.set(o,void 0,...r)}get isTimeSpanNotifyingSuspended(){return Boolean(this._suspendedTimeSpanNotifying)}suspendTimeSpanNotifying(){this._suspendedTimeSpanNotifying++}resumeTimeSpanNotifying(){this._suspendedTimeSpanNotifying&&this._suspendedTimeSpanNotifying--}}function convertExceptionDatesValue(e){const n={},{dateFormat:r}=this;return e&&(e="string"==typeof e?e.split(","):Array.isArray(e)?e:[e]).forEach((e=>{"string"==typeof e&&(e=DateHelper.parse(e,r)),isNaN(e)||(n[DateHelper.makeKey(e)]=1)})),n}function serializeExceptionDatesValue(e){const n=[],{dateFormat:r}=this;for(const o in e)e[o]&&n.push(DateHelper.format(DateHelper.parseKey(o),r));return n}RecurrenceModel._$name="RecurrenceModel";const Ia=[];var RecurringTimeSpan=e=>class RecurringTimeSpan extends(e||TimeSpan){static get $name(){return"RecurringTimeSpan"}get supportsRecurring(){return!0}static get fields(){return[{name:"recurrenceRule",internal:!0},{name:"exceptionDates",convert:convertExceptionDatesValue,serialize:serializeExceptionDatesValue,internal:!0}]}remove(){if(!this.isOccurrence)return super.remove(...arguments);{const e=this,{recurringTimeSpan:n}=e;e.cancelBatch(),n.beginBatch(),e.detachFromRecurringEvent(),n.endBatch()}}get eventStore(){var e;let n=this.isOccurrence?this.recurringEvent.eventStore:super.eventStore;return!n&&null!==(e=this.firstStore)&&void 0!==e&&e.isRecurringTimeSpansMixin&&(n=this.firstStore),n}get recurrenceModel(){return this._recurrenceModel||RecurrenceModel}set recurrenceModel(e){this._recurrenceModel=e}setRecurrence(e,n,r){const o=this;let i;e&&(e.isRecurrenceModel||("string"==typeof e&&(e={frequency:e},n&&(e.interval=n),r&&(r instanceof Date?e.endDate=r:e.count=r)),e=new o.recurrenceModel(e)),e.timeSpan=o,i=e.rule),o.recurrence=e,o.recurrenceRule=i}get recurrence(){const e=this,n=e.recurrenceRule;return!e._recurrence&&n&&(e._recurrence=new e.recurrenceModel({rule:n,timeSpan:e,id:`${e.id}-recurrence`})),e._recurrence}set recurrence(e){const n=this;n._recurrence=e,e?(e.timeSpan=n,n.recurrenceRule=e.rule):n.isOccurrence?n.setData("recurrenceRule",null):n.recurrenceRule=null}get isRecurring(){return Boolean(!this.isOccurrence&&this.recurrence)}get isOccurrence(){return Boolean(this.recurringTimeSpan)}get recurringTimeSpan(){return this._recurringTimeSpan}get isPersistable(){return super.isPersistable&&(!this.supportsRecurring||!this.isOccurrence)}set recurringTimeSpan(e){this._recurringTimeSpan=e}getOccurrencesForDateRange(e,n=e){return this.eventStore.getOccurrencesForTimeSpan(this,e,n)}get occurrences(){if(this.isRecurring){const e=[];return this.occurrenceMap.forEach((n=>{n!==this&&e.push(n)})),e}return Ia}get occurrenceMap(){return this._occurrencesMap||(this._occurrencesMap=new Map)}removeOccurrence(e){var n;const r=e.isTimeSpan?e.occurrenceDate:e;null===(n=this.eventStore)||void 0===n||n.globalOccurrences.delete(this.createRecurrenceKey(r)),this.occurrenceMap.delete(DateHelper.makeKey(r))}removeOccurrencesFrom(e){this.occurrenceMap.forEach(((n,r)=>{DateHelper.parseKey(r)>=e&&this.removeOccurrence(n)}))}removeOccurrences(){[this,...this.occurrences].forEach((e=>this.removeOccurrence(e)))}onRecurrenceChanged(){var e;this.recurrenceRule=(null===(e=this.recurrence)||void 0===e?void 0:e.rule)||null}sanitizeRecurrenceData(e=this.recurrence){if(e.endDate){const n=DateHelper.clearTime(e.endDate),{exceptionDates:r}=this;if(this.removeOccurrencesFrom(n),r)for(const e in r){DateHelper.parseKey(e)>=n&&delete r[e]}}}get occurrenceDate(){var e;return(null===(e=this.meta.modified)||void 0===e?void 0:e.startDate)||this.startDate}get occurrenceIndex(){return AbstractRecurrenceIterator.getOccurrenceIndex(this)}buildOccurrence(e,n){var r;const o=this,{occurrenceMap:i,recurrence:a,meta:l}=o,c=null===(r=o.eventStore)||void 0===r?void 0:r.globalOccurrences,d=DateHelper.makeKey(e),u=o.createRecurrenceKey(e,d),p=!(e-o.startDate),{fieldMap:b}=o.constructor;let g=null==c?void 0:c.get(u),{duration:m}=o;!o.endDate||!o.allDay&&m||(m=DateHelper.as(o.durationUnit,o.endDate.getTime()-o.startDate.getTime()));const f=void 0!==m?DateHelper.add(e,m,o.durationUnit):void 0;return g||(n||p?(g=o,p||(o.setStartEndDate(e,f,!0),a.suspendTimeSpanNotifying(),a.sanitize(),a.resumeTimeSpanNotifying()),l.isSyncedWithRule=!0):(g=o.copy({[b.id.dataSource]:u,[b.startDate.dataSource]:e,[b.endDate.dataSource]:f,[b.duration.dataSource]:m}),g.recurringTimeSpan=o),null==c||c.set(u,g),i.set(d,g)),g}createRecurrenceKey(e=this.startDate,n=null){return`_generated:${this.id}:${n||DateHelper.makeKey(e)}`}afterChange(e,n,r,...o){const i=this,{eventStore:a}=i;if("recurrenceRule"in n&&(i._recurrence=null,null==a||a.recurringEvents[n.recurrenceRule.value?"add":"delete"](i)),i.isOccurrence){var l,c;const{recurringTimeSpan:e,resource:o,occurrenceIndex:a,recurrence:d}=i,u=(null===(l=n.startDate)||void 0===l?void 0:l.value)||i.startDate,p=d&&e.recurrence.count,b=(null===(c=n.resourceRecords)||void 0===c?void 0:c.value)||i.data.newResource;e.beginBatch(),i.detachFromRecurringEvent(),i.clearChanges(),i.setData("id",i.generateId(e.eventStore)),b&&delete i.data.resourceId,e.eventStore.add(i,r),i.startDate=u,p&&(i.recurrence.count=p-a),i.assign(b||o),delete i.data.resourceRecords,delete n.resourceRecords,e.endBatch()}else"newExceptionDate"in n&&(i.meta.modified.exceptionDates=!0,delete i.meta.modified.newExceptionDate,i.removeOccurrence(n.newExceptionDate.value));return super.afterChange(e,n,r,...o)}detachFromRecurringEvent(){const e=this,{recurringTimeSpan:n,occurrenceDate:r,startDate:o}=e;e.recurringTimeSpan=null,n.addExceptionDate(r),e.recurrenceRule&&(n.recurrence.endDate=DateHelper.add(o,-1,"minute"))}set newExceptionDate(e){if(e){(this.exceptionDates||(this.exceptionDates={}))[DateHelper.makeKey(e)]=1}}addExceptionDate(e){return this.set({newExceptionDate:e})}hasException(e){var n;return null===(n=this.exceptionDates)||void 0===n?void 0:n[DateHelper.makeKey(e)]}};var EventModelMixin=e=>class EventModelMixin extends e{static get $name(){return"EventModelMixin"}static get isEventModel(){return!0}static get fields(){return[{name:"resourceId",internal:!0},{name:"resources",column:{type:"resourceassignment"},persist:!1,internal:!0},{name:"draggable",type:"boolean",persist:!1,defaultValue:!0,internal:!0},{name:"resizable",persist:!1,defaultValue:!0,internal:!0},{name:"allDay",type:"boolean",defaultValue:!1},{name:"eventStyle",internal:!0},{name:"eventColor",internal:!0},{name:"milestoneWidth",internal:!0},{name:"$highlight",persist:!1,internal:!0},{name:"stickyContents",internal:!0}]}updateAssignmentEventIds(){this.assigned.forEach((e=>{e.eventId=this.id}))}syncId(e){super.syncId(e),this.updateAssignmentEventIds()}get resources(){return this.assignments.reduce(((e,n)=>(n.resource&&e.push(n.resource),e)),[])}set resources(e){Array.isArray(e)||(e=[e]);const n=this,r=e.map(n.constructor.asId),o=n.assignments.map((e=>e.resource.id)),{onlyInA:i,onlyInB:a}=ArrayHelper.delta(r,o);n.assignmentStore.add(i.map((e=>({resource:e,event:n})))),n.assignmentStore.remove(a.map((e=>n.assignments.find((n=>n.resource.id===e)))))}forEachResource(e,n=this){for(const r of this.resources)if(!1===e.call(n,r))return}getResource(e){return null==e?this.resource:this.resourceStore?this.resourceStore.getById(e):null}get startDate(){let e;var n;this.isOccurrence?e=this.get("startDate"):e=null!==(n=this._startDate)&&void 0!==n?n:super.startDate;return this.allDay&&(e=this.constructor.getAllDayStartDate(e)),e}set startDate(e){this.batching?(this._startDate=e,this.set({startDate:e})):super.startDate=e}get endDate(){let e;var n;this.isOccurrence?e=this.get("endDate"):e=null!==(n=this._endDate)&&void 0!==n?n:super.endDate;return this.allDay&&(e=this.constructor.getAllDayEndDate(e)),e}set endDate(e){this.batching?(this._endDate=e,this.set({endDate:e})):super.endDate=e}get isEvent(){return!0}get isDraggable(){return this.draggable}get isResizable(){return!this.isMilestone&&this.resizable}get isPersistable(){return super.isPersistable&&!this.meta.isCreating}endBatch(){const{isPersistable:e,meta:{batchChanges:n}}=this;n&&("endDate"in n&&delete this._endDate,"startDate"in n&&delete this._startDate),super.endBatch(...arguments),this.isPersistable&&!e&&this.assignments.forEach((e=>{e.stores.forEach((n=>{n.updateModifiedBagForRecord(e)}))}))}get isCreating(){return super.isCreating}set isCreating(e){super.isCreating=e,this.assignments.forEach((n=>n.isCreating=e))}get usesSingleAssignment(){return!this.eventStore||this.eventStore.usesSingleAssignment}get persistableData(){const e=super.persistableData;return this.usesSingleAssignment||delete e.resourceId,e}get resource(){const{resources:e}=this;return e.length?e[0]:null}set resource(e){this.resourceId=this.constructor.asId(e)}get resourceId(){var e;return this.usesSingleAssignment?this.get("resourceId"):null===(e=this.resource)||void 0===e?void 0:e.id}set resourceId(e){this.applyResourceId(e)}applyResourceId(e,n=!1){const r=this,{assignments:o,assignmentStore:i,eventStore:a}=r;if(a)if(null!=e)if(r.skipEnforcingSingleAssignment||(a.usesSingleAssignment=!0),null!=o&&o.length&&e!==o[0].resourceId){const n=Boolean(a.eventsSuspended);n&&i.suspendEvents(),o[0].resource=e,n&&i.resumeEvents()}else i.assignEventToResource(r,e);else i.remove(r.assignments);else n||r.set({resourceId:e})}applyValue(e,n,r,o,i){if(i&&"resourceId"===i.name&&!this.meta.isAssigning){const{eventStore:e}=this;e&&(e.isAssigning=!0),this.applyResourceId(r,!0),e&&(e.isAssigning=!1)}super.applyValue(e,n,r,o,i)}get assignments(){return[...this.assigned||[]]}assign(e,n=!1){const{eventStore:r}=this;r&&!r.usesSingleAssignment?r.assignEventToResource(this,e,n):(this.resourceId=this.constructor.asId(e),r||(this.meta.skipEnforcingSingleAssignment=!0))}unassign(e,n=!1){var r;const o=this;e=o.constructor.asId(e),o.meta.removingResource=n,null===(r=o.eventStore)||void 0===r||r.unassignEventFromResource(o,e),o.meta.removingResource=null}reassign(e,n){this.eventStore&&this.eventStore.reassignEventFromResourceToResource(this,e,n)}isAssignedTo(e){const n=this.constructor.asId(e);return this.assignments.some((e=>e.resourceId===n))}get predecessors(){return[...this.incomingDeps]}get successors(){return[...this.outgoingDeps]}get dependencies(){return[...this.incomingDeps,...this.outgoingDeps]}normalize(){}inSetNormalize(){}get recurringEvent(){return this.recurringTimeSpan}get isInterDay(){const{durationMS:e}=this;if(e>=864e5)return!0;const{endDate:n,startDate:r}=this,o=DateHelper.clearTime(r);return r&&n?(o.setDate(o.getDate()+1),(n||DateHelper.add(r,e))>o):void 0}static getAllDayStartDate(e){return e&&e.isEvent&&(e=e.get("startDate")),e&&(e=DateHelper.clearTime(e,!0)),e}static getAllDayEndDate(e){return e&&e.isEvent&&(e=e.get("endDate")),e&&(e.getHours()>0||e.getMinutes()>0||e.getSeconds()>0||e.getMilliseconds()>0)&&(e=DateHelper.getNext(e,"d",1)),e}static getAllDayDisplayStartDate(e){return e&&e.isEvent&&(e=e.get("startDate")),DateHelper.clearTime(e,!0)}static getAllDayDisplayEndDate(e,n){return e&&e.isEvent&&(n=e.get("endDate"),e=e.get("startDate")),n&&(e=this.constructor.getAllDayDisplayStartDate(e),DateHelper.clearTime(n,!0).valueOf()===n.valueOf()?n=DateHelper.add(n,DateHelper.DAY,-1):e.valueOf()!==n.valueOf()&&(n=DateHelper.clearTime(n,!0))),n}isEditable(e){switch(e){case"endDate":case"duration":case"fullDuration":return this.isLeaf}return super.isEditable(e)}};class AbstractHasAssignmentsMixin extends(Mixin([AbstractPartOfProjectModelMixin],(e=>{const n=e.prototype;return class HasAssignmentsMixin extends e{getAssignmentFor(e){for(const n of this.assigned)if(n.resource===e)return n;return null}isAssignedTo(e){return Boolean(this.getAssignmentFor(e))}async assign(e){const n=this.project.assignmentStore.modelClass;return this.addAssignment(new n({event:this,resource:e})),this.commitAsync()}async unassign(e){const n=this.getAssignmentFor(e);return this.removeAssignment(n),this.commitAsync()}leaveProject(){if(this.assigned){const e=this.getEventStore();this.assigned.forEach((n=>e.assignmentsForRemoval.add(n)))}n.leaveProject.call(this,...arguments)}remove(){if(!this.parent)return n.remove.call(this);{const e=this.getEventStore();n.remove.call(this),e&&e.afterEventRemoval()}}addAssignment(e){return this.getProject().assignmentStore.add(e),e}removeAssignment(e){return this.getProject().assignmentStore.remove(e),e}}}))){}class CoreHasAssignmentsMixin extends(Mixin([CoreEventMixin,AbstractHasAssignmentsMixin],(e=>{const n=e.prototype;return class CoreHasAssignmentsMixin extends e{get assigned(){var e;const n=null===(e=this.project)||void 0===e?void 0:e.assignmentStore.getEventsAssignments(this);return n?this.$cachedAssignments=n:this.$cachedAssignments}applyValue(e,r,o,i,a){var l;"id"===r&&(null===(l=this.assigned)||void 0===l||l.forEach((e=>e.set("eventId",o)))),n.applyValue.call(this,e,r,o,i,a)}copy(e=null,r=null){const o=n.copy.call(this,e,r);return(ObjectHelper.isObject(r)&&!r.skipFieldIdentifiers||!ObjectHelper.isObject(r))&&(o.$cachedAssignments=this.assigned),o}}}))){}class CoreHasDependenciesMixin extends(Mixin([CoreEventMixin],(e=>{const n=e.prototype;return class CoreHasDependenciesMixin extends e{get outgoingDeps(){return this.project.dependencyStore.getOutgoingDepsForEvent(this)}get incomingDeps(){return this.project.dependencyStore.getIncomingDepsForEvent(this)}leaveProject(){const e=this.eventStore;this.outgoingDeps&&this.outgoingDeps.forEach((n=>e.dependenciesForRemoval.add(n))),this.incomingDeps&&this.incomingDeps.forEach((n=>e.dependenciesForRemoval.add(n))),n.leaveProject.call(this)}}}))){}class SchedulerCoreEvent extends(Mixin([CoreEventMixin,CoreHasAssignmentsMixin,CoreHasDependenciesMixin],(e=>{e.prototype;return class SchedulerCoreEvent extends e{}}))){}const Fa=SchedulerCoreEvent;class EventModel extends(Fa.derive(TimeSpan).mixin(RecurringTimeSpan,PartOfProject,EventModelMixin)){static get $name(){return"EventModel"}}EventModel.exposeProperties(),EventModel._$name="EventModel";const Aa={splice:1,clear:1};class AbstractEventStoreMixin extends(Mixin([AbstractPartOfProjectStoreMixin],(e=>{const n=e.prototype;return class AbstractEventStoreMixin extends e{constructor(){super(...arguments),this.assignmentsForRemoval=new Set,this.dependenciesForRemoval=new Set}onDataChange(e){var n;const r=Aa[e.action];super.onDataChange(e),r&&(null===(n=e.removed)||void 0===n?void 0:n.length)&&this.afterEventRemoval()}remove(e,r){const o=n.remove.call(this,e);return this.afterEventRemoval(),o}removeAll(e){const r=n.removeAll.call(this,e);return this.afterEventRemoval(),r}afterEventRemoval(){const{assignmentsForRemoval:e,dependenciesForRemoval:n}=this;if(!e)return;const r=this.getAssignmentStore();if(r&&!r.allAssignmentsForRemoval&&e.size){const n=[...e].filter((e=>!r.assignmentsForRemoval.has(e)));n.length>0&&r.remove(n)}e.clear();const o=this.getDependencyStore();if(o&&!o.allDependenciesForRemoval&&n.size){const e=[...n].filter((e=>!o.dependenciesForRemoval.has(e)));e.length>0&&o.remove(e)}n.clear()}processRecord(e,n=!1){var r;if(!(null===(r=this.project)||void 0===r?void 0:r.isRepopulatingStores)){const n=this.getById(e.id);if(n&&n!==e)for(const r of n.assigned)r.event=e}return e}}}))){}class CoreEventStoreMixin extends(Mixin([AbstractEventStoreMixin,CorePartOfProjectStoreMixin],(e=>{e.prototype;return class CoreEventStoreMixin extends e{static get defaultConfig(){return{modelClass:SchedulerCoreEvent}}joinProject(){var e;null===(e=this.assignmentStore)||void 0===e||e.linkAssignments(this,"event")}afterLoadData(){var e;this.afterEventRemoval(),null===(e=this.assignmentStore)||void 0===e||e.linkAssignments(this,"event")}}}))){}const Oa=PartOfProject(CoreEventStoreMixin.derive(AjaxStore));class EventStore extends(Oa.mixin(SharedEventStoreMixin,RecurringEventsMixin,EventStoreMixin)){static get defaultConfig(){return{modelClass:EventModel}}}EventStore._$name="EventStore";const Pa=["SS","SF","FS","FF"];class DependencyBaseModel extends Model{static get $name(){return"DependencyBaseModel"}static get Type(){return{StartToStart:0,StartToEnd:1,EndToStart:2,EndToEnd:3}}static get fields(){return[{name:"from"},{name:"to"},{name:"type",type:"int",defaultValue:2},{name:"cls",defaultValue:""},{name:"bidirectional",type:"boolean"},{name:"fromSide",type:"string"},{name:"toSide",type:"string"},{name:"lag",type:"number",allowNull:!0,defaultValue:0},{name:"lagUnit",type:"string",defaultValue:"d"}]}get sourceEvent(){return VersionHelper.deprecate("scheduler","5.0.0","Deprecated in favor of fromEvent"),this.fromEvent}set sourceEvent(e){this.fromEvent=e}get targetEvent(){return VersionHelper.deprecate("scheduler","5.0.0","Deprecated in favor of toEvent"),this.toEvent}set targetEvent(e){this.targetEvent=e}construct(e){const n=e[this.fieldMap.from.dataSource],r=e[this.fieldMap.to.dataSource];null!=n&&(e.fromEvent=n),null!=r&&(e.toEvent=r),super.construct(...arguments)}get eventStore(){var e;return this.eventStore||(null===(e=this.unjoinedStores[0])||void 0===e?void 0:e.eventStore)}set from(e){const{fromEvent:n}=this;null!=n&&n.isModel&&n.id===e?this.set("from",e):this.fromEvent=e}get from(){return this.get("from")}set to(e){const{toEvent:n}=this;null!=n&&n.isModel&&n.id===e?this.set("to",e):this.toEvent=e}get to(){return this.get("to")}get hardType(){return this.getHardType()}set hardType(e){this.setHardType(e)}getHardType(){return this.get("type")}setHardType(e){let n;return e!==this.hardType&&(n=this.set({type:e,fromSide:null,toSide:null})),n}get lag(){return this.get("lag")}set lag(e){this.setLag(e)}setLag(e,n=this.lagUnit){1!==arguments.length?(e=parseFloat(e),this.set({lag:e,lagUnit:n})):"number"==typeof e?this.lag=e:(e=DateHelper.parseDuration(e),this.set({lag:e.magnitude,lagUnit:e.unit}))}getLag(){return this.lag?`${this.lag<0?"-":"+"}${Math.abs(this.lag)}${DateHelper.getShortNameOfUnit(this.lagUnit)}`:""}get fullLag(){return new Duration({unit:this.lagUnit,magnitude:this.lag})}set fullLag(e){"string"==typeof e?this.setLag(e):this.setLag(e.magnitude,e.unit)}get isPersistable(){const e=this,{stores:n,unjoinedStores:r}=e,o=n[0];let i;if(o){const{fromEvent:n,toEvent:r}=e,a=o.crudManager;i=n&&(a||!n.hasGeneratedId)&&r&&(a||!r.hasGeneratedId)}else i=Boolean(r[0]);return i&&super.isPersistable}getSourceEvent(){return VersionHelper.deprecate("scheduler","5.0.0","Deprecated in favor of fromEvent"),this.fromEvent}getTargetEvent(){return VersionHelper.deprecate("scheduler","5.0.0","Deprecated in favor of toEvent"),this.toEvent}getDateRange(){const{fromEvent:e,toEvent:n}=this;if(null!=e&&e.isScheduled&&null!=n&&n.isScheduled){const r=DependencyBaseModel.Type;let o,i;switch(this.type){case r.StartToStart:o=e.startDateMS,i=n.startDateMS;break;case r.StartToEnd:o=e.startDateMS,i=n.endDateMS;break;case r.EndToEnd:o=e.endDateMS,i=n.endDateMS;break;case r.EndToStart:o=e.endDateMS,i=n.startDateMS;break;default:throw new Error("Invalid dependency type: "+this.type)}return{start:Math.min(o,i),end:Math.max(o,i)}}return null}highlight(e){const n=this.highlighted?this.highlighted.split(" "):[];n.includes(e)||(this.highlighted=n.concat(e).join(" "))}unhighlight(e){const{highlighted:n}=this;if(n){const r=n.split(" "),o=r.findIndex((n=>n===e));o>=0&&(r.splice(o,1),this.highlighted=r.join(" "))}}isHighlightedWith(e){return this.highlighted&&this.highlighted.split(" ").includes(e)}getConnectorString(e){const n=Pa[this.type];return e?n:this.type===DependencyBaseModel.Type.EndToStart?"":n}toString(){return`${this.from}${this.getConnectorString()}${this.getLag()}`}get isValid(){const{fromEvent:e,toEvent:n,type:r}=this;return"number"==typeof r&&e&&n&&e!==n}get fromEventName(){var e;return(null===(e=this.fromEvent)||void 0===e?void 0:e.name)||""}get toEventName(){var e;return(null===(e=this.toEvent)||void 0===e?void 0:e.name)||""}}DependencyBaseModel.exposeProperties(),DependencyBaseModel._$name="DependencyBaseModel";class CoreDependencyMixin extends(Mixin([CorePartOfProjectModelMixin],(e=>{const n=e.prototype;return class CoreDependencyMixin extends e{static get fields(){return[{name:"fromEvent",isEqual:(e,n)=>e===n,persist:!1},{name:"toEvent",isEqual:(e,n)=>e===n,persist:!1}]}setChanged(e,r,o){var i,a,l;let c=!1;if("fromEvent"===e||"toEvent"===e){const e=isInstanceOf(r,CoreEventMixin)?r:null===(i=this.eventStore)||void 0===i?void 0:i.getById(r);e&&(c=!0),r=e||r}n.setChanged.call(this,e,r,o,!0),!c||this.project.isPerformingCommit||(null===(a=this.dependencyStore)||void 0===a?void 0:a.isLoadingData)||null===(l=this.dependencyStore)||void 0===l||l.invalidateIndices()}joinProject(){n.joinProject.call(this),this.setChanged("fromEvent",this.get("fromEvent")),this.setChanged("toEvent",this.get("toEvent"))}calculateInvalidated(){var e,n;let{fromEvent:r,toEvent:o}=this.$changed;if(null!==r&&!isInstanceOf(r,CoreEventMixin)){const n=null===(e=this.eventStore)||void 0===e?void 0:e.getById(r);n&&(this.$changed.fromEvent=n)}if(null!==o&&!isInstanceOf(o,CoreEventMixin)){const e=null===(n=this.eventStore)||void 0===n?void 0:n.getById(o);e&&(this.$changed.toEvent=e)}}set fromEvent(e){this.setChanged("fromEvent",e)}get fromEvent(){const e=this.get("fromEvent");return isInstanceOf(e,CoreEventMixin)?e:null}set toEvent(e){this.setChanged("toEvent",e)}get toEvent(){const e=this.get("toEvent");return isInstanceOf(e,CoreEventMixin)?e:null}}}))){}const Ha=CoreDependencyMixin;class DependencyModel extends(PartOfProject(Ha.derive(DependencyBaseModel))){static get $name(){return"DependencyModel"}getTypeFromSides(e,n,r){const o=DependencyBaseModel.Type,i=r?"right":"left",a=r?"left":"right";return e===i?n===i?o.StartToStart:o.StartToEnd:n===a?o.EndToEnd:o.EndToStart}}DependencyModel.exposeProperties(),DependencyModel._$name="DependencyModel";var DependencyStoreMixin=e=>class DependencyStoreMixin extends e{static get $name(){return"DependencyStoreMixin"}static get defaultConfig(){return{loadPriority:400,syncPriority:400,storeId:"dependencies"}}reduceEventDependencies(e,n,r,o=!0,i){return i=i||(e=>this.getEventDependencies(e)),(e=Array.isArray(e)?e:[e]).reduce(((e,r)=>{r.children&&!o?r.traverse((r=>{e=i(r).reduce(n,e)})):e=i(r).reduce(n,e)}),r),r}mapEventDependencies(e,n,r,o,i){return this.reduceEventDependencies(e,((e,n)=>(r(n)&&e.push(n),e)),[],o,i)}mapEventPredecessors(e,n,r,o){return this.reduceEventPredecessors(e,((e,n)=>(r(n)&&e.push(n),e)),[],o)}mapEventSuccessors(e,n,r,o){return this.reduceEventSuccessors(e,((e,n)=>(r(n)&&e.push(n),e)),[],o)}getEventDependencies(e){return[].concat(e.predecessors||[],e.successors||[])}getEventPredecessors(e){return VersionHelper.deprecate("scheduler","5.0.0","Superfluous, will be removed in favour of `event.predecessors`"),e.predecessors}getEventSuccessors(e){return VersionHelper.deprecate("scheduler","5.0.0","Superfluous, will be removed in favour of `event.successors`"),e.successors}removeEventDependencies(e){this.remove(this.getEventDependencies(e))}removeEventPredecessors(e){this.remove(e.predecessors)}removeEventSuccessors(e,n){this.remove(e.successors)}getBySourceTargetId(e){return this.records.find((n=>e==this.constructor.makeDependencySourceTargetCompositeKey(n.from,n.to)))}getDependencyForSourceAndTargetEvents(e,n){return e=Model.asId(e),n=Model.asId(n),this.getBySourceTargetId(this.constructor.makeDependencySourceTargetCompositeKey(e,n))}getEventsLinkingDependency(e,n){return this.getDependencyForSourceAndTargetEvents(e,n)||this.getDependencyForSourceAndTargetEvents(n,e)}isValidDependency(e,n,r){return 1===arguments.length&&(n=e.to||e.toEvent,e=e.from||e.fromEvent),e instanceof TimeSpan&&n instanceof TimeSpan?this.project.isValidDependency(e,n,r):null!=e&&null!=n&&e!==n}isValidDependencyToCreate(e,n,r){return this.isValidDependency(e,n,r)}getHighlightedDependencies(e){return this.records.reduce(((n,r)=>(r.isHighlightedWith(e)&&n.push(r),n)),[])}static makeDependencySourceTargetCompositeKey(e,n){return`source(${e})-target(${n})`}getTimeSpanDependencies(e){return this.getEventDependencies(e)}};class AbstractDependencyStoreMixin extends(Mixin([AbstractPartOfProjectStoreMixin],(e=>{const n=e.prototype;return class AbstractDependencyStoreMixin extends e{constructor(){super(...arguments),this.dependenciesForRemoval=new Set,this.allDependenciesForRemoval=!1}remove(e,r){this.dependenciesForRemoval=CIFromSetOrArrayOrValue(e).toSet();const o=n.remove.call(this,e);return this.dependenciesForRemoval.clear(),o}removeAll(e){this.allDependenciesForRemoval=!0;const r=n.removeAll.call(this,e);return this.allDependenciesForRemoval=!1,r}}}))){}const qa=new Set;class CoreDependencyStoreMixin extends(Mixin([AbstractDependencyStoreMixin,CorePartOfProjectStoreMixin],(e=>{e.prototype;return class CoreDependencyStoreMixin extends e{constructor(){super(...arguments),this.dependenciesForRemoval=new Set,this.allDependenciesForRemoval=!1}static get defaultConfig(){return{modelClass:CoreDependencyMixin,storage:{extraKeys:[{property:"fromEvent",unique:!1},{property:"toEvent",unique:!1}]}}}getIncomingDepsForEvent(e){return this.storage.findItem("toEvent",e)||qa}getOutgoingDepsForEvent(e){return this.storage.findItem("fromEvent",e)||qa}set data(e){this.allDependenciesForRemoval=!0,super.data=e,this.allDependenciesForRemoval=!1}updateIndices(){this.storage.rebuildIndices()}invalidateIndices(){this.storage.invalidateIndices()}onCommitAsync(){this.updateIndices()}}}))){}const La=PartOfProject(CoreDependencyStoreMixin.derive(AjaxStore));class DependencyStore extends(DependencyStoreMixin(La.derive(AjaxStore))){static get defaultConfig(){return{modelClass:DependencyModel}}}DependencyStore._$name="DependencyStore";var ProjectCrudManager=e=>class ProjectCrudManager extends((e||Base).mixin(AbstractCrudManagerMixin,AjaxTransport,JsonEncoder)){static get defaultConfig(){return{project:null}}startConfigure(e){this.getConfig("project"),super.startConfigure(e),this._changesToClear=new Map}async doAutoLoad(){const{project:e}=this;return e&&await e.commitAsync(),super.doAutoLoad()}loadCrudManagerData(e,n={}){const r=this,{project:o}=r;r.suspendChangesTracking(),super.loadCrudManagerData(...arguments),null!=e&&e.project&&(r.applyingProjectResponse=!0,Object.assign(o,e.project),r.applyingProjectResponse=!1),r.resumeChangesTracking()}async sync(){const{project:e}=this;return this.suspendAutoSync(),e&&await e.commitAsync(),this.resumeAutoSync(!1),super.sync()}async applyResponse(e,n,r){var o;const i=this;if(!(i.isDestroyed||null!==(o=i.project)&&void 0!==o&&o.isDestroyed)&&(i.trigger("startApplyResponse"),i.clearCrudStoresChanges({clearRemovedCollection:!1}),await super.applyResponse(e,n,r),i.clearCrudStoresChanges({removeAddedRecords:!1,clearAddedCollection:!1,clearModifiedCollection:!1,clearRemovedCollection:!0}),null!=n&&n.project&&(i.applyingProjectResponse=!0,Object.assign(i,n.project),i.applyingProjectResponse=!1),i.project)){let r=e.type;i.trackResponseType&&(r=n.type||r);const o=`propagating${StringHelper.capitalize(r)}Changes`;i[o]=!0,await i.project.commitAsync(),i[o]=!1,this.commitRespondedChanges()}}commitRespondedChanges(){this._changesToClear.forEach(((e,n)=>{Object.entries(e).forEach((([e,r])=>{const o=n.getFieldDefinition(e),i=n[e];(null!=o&&o.isEqual?o.isEqual(i,r):ObjectHelper.isEqual(i,r))&&delete n.meta.modified[e]}))})),this._changesToClear.clear()}clearRecordChanges(e,n){super.clearRecordChanges(e,n),this.project&&this._changesToClear.set(e,n)}clearCrudStoresChanges(e={removeAddedRecords:!0,clearAddedCollection:!0,clearModifiedCollection:!0,clearRemovedCollection:!0}){const{removeAddedRecords:n,clearAddedCollection:r,clearModifiedCollection:o,clearRemovedCollection:i}=e;this.forEachCrudStore((e=>{n&&e.remove(this.added,!0),o&&(e.modified.forEach((e=>e.clearChanges(!1))),e.modified.clear()),r&&e.added.clear(),i&&e.removed.clear()}))}};class ResourceTimeRangeModel extends TimeSpan{static get $name(){return"ResourceTimeRangeModel"}static get fields(){return["resourceId","timeRangeColor"]}static get relationConfig(){return[{relationName:"resource",fieldName:"resourceId",store:"resourceStore",collectionName:"timeRanges",nullFieldOnRemove:!0}]}get domId(){return`${this.constructor.domIdPrefix}-${this.id}`}get isResourceTimeRange(){return!0}get resources(){return this.resource?[this.resource]:[]}}_defineProperty(ResourceTimeRangeModel,"domIdPrefix","resourcetimerange"),ResourceTimeRangeModel._$name="ResourceTimeRangeModel";class ResourceTimeRangeStore extends AjaxStore{static get defaultConfig(){return{loadPriority:500,syncPriority:500,resourceStore:null,modelClass:ResourceTimeRangeModel,storeId:"resourceTimeRanges"}}set resourceStore(e){this._resourceStore=e,this.isConfiguring||this.initRelations(!0)}get resourceStore(){return this._resourceStore}getResourcesForEvent(e){return[e.resource]}}ResourceTimeRangeStore._$name="ResourceTimeRangeStore";var ProjectModelMixin=e=>class ProjectModelMixin extends(e||Model){static get $name(){return"ProjectModelMixin"}static get defaultConfig(){return{stm:{},eventModelClass:EventModel,dependencyModelClass:DependencyModel,timeRangeModelClass:TimeSpan,resourceTimeRangeModelClass:ResourceTimeRangeModel,resourceModelClass:ResourceModel,assignmentModelClass:AssignmentModel,eventStoreClass:EventStore,dependencyStoreClass:DependencyStore,resourceStoreClass:ResourceStore,assignmentStoreClass:AssignmentStore,timeRangeStoreClass:Store,resourceTimeRangeStoreClass:ResourceTimeRangeStore,eventStore:{},assignmentStore:{},dependencyStore:{},resourceStore:{},timeRangesData:null}}static get configurable(){return{json:null,timeRangeStore:{value:{},$config:"nullify"},resourceTimeRangeStore:{value:{},$config:"nullify"}}}get inlineData(){return StringHelper.safeJsonParse(super.json)}set inlineData(e){this.json=e}construct(e={}){super.construct(...arguments);const n=this;e.timeRangesData&&(n.timeRangeStore.data=e.timeRangesData),e.resourceTimeRangesData&&(n.resourceTimeRangeStore.data=e.resourceTimeRangesData)}afterConstruct(){super.afterConstruct();const e=this;!e.timeRangeStore.stm&&e.stm.addStore(e.timeRangeStore),!e.resourceTimeRangeStore.stm&&e.stm.addStore(e.resourceTimeRangeStore)}attachStore(e){null==e||e.on({name:e.$$name,change:"relayStoreChange",thisObj:this})}detachStore(e){e&&this.detachListeners(e.$$name)}relayStoreChange(e){return this.trigger("change",_objectSpread2(_objectSpread2({store:e.source},e),{},{source:this}))}updateTimeRangeStore(e,n){this.detachStore(n),this.attachStore(e)}setTimeRangeStore(e){this.timeRangeStore=e}changeTimeRangeStore(e){return e&&!e.isStore&&(e=this.timeRangeStoreClass.new({modelClass:this.timeRangeModelClass,storeId:"timeRanges"},e)),e}updateResourceTimeRangeStore(e,n){this.detachStore(n),this.attachStore(e)}changeResourceTimeRangeStore(e){return e&&!e.isStore&&(e=this.resourceTimeRangeStoreClass.new({modelClass:this.resourceTimeRangeModelClass,storeId:"resourceTimeRanges"},e)),e}setResourceTimeRangeStore(e){this.resourceTimeRangeStore=e}async loadInlineData(e){return this.isLoadingInlineData=!0,e.resourceTimeRangesData&&(this.resourceTimeRangeStore.data=e.resourceTimeRangesData),e.timeRangesData&&(this.timeRangeStore.data=e.timeRangesData),super.loadInlineData(e)}toJSON(){const e=this,n={eventsData:e.eventStore.toJSON(),resourcesData:e.resourceStore.toJSON(),dependenciesData:e.dependencyStore.toJSON(),timeRangesData:e.timeRangeStore.toJSON(),resourceTimeRangesData:e.resourceTimeRangeStore.toJSON()};return e.eventStore.usesSingleAssignment||(n.assignmentsData=e.assignmentStore.toJSON()),n}get json(){return super.json}changeJson(e){return"string"==typeof e&&(e=StringHelper.safeJsonParse(e)),e}updateJson(e){e&&this.loadInlineData(e)}afterChange(e,n){super.afterChange(...arguments),n.calendar&&this.trigger("calendarChange")}doDestroy(){this.timeRangeStore.destroy(),this.resourceTimeRangeStore.destroy(),super.doDestroy()}};class ModelPersistencyManager extends Base{set eventStore(e){const n=this;n.eventStoreDetacher&&n.eventStoreDetacher(),n._eventStore=e,e&&e.autoCommit&&(n.eventStoreDetacher=e.on({beforecommit:n.onEventStoreBeforeSync,thisObj:n,detachable:!0,prio:100}))}get eventStore(){return this._eventStore}set resourceStore(e){const n=this;n.resourceStoreDetacher&&n.resourceStoreDetacher(),n._resourceStore=e,e&&e.autoCommit&&(n.resourceStoreDetacher=e.on({beforecommit:n.onResourceStoreBeforeSync,thisObj:n,detachable:!0,prio:100}))}get resourceStore(){return this._resourceStore}set assignmentStore(e){const n=this;n.assignmentStoreDetacher&&n.assignmentStoreDetacher(),n._assignmentStore=e,e&&e.autoSync&&(n.assignmentStoreDetacher=e.on({beforecommit:n.onAssignmentStoreBeforeSync,thisObj:n,detachable:!0,prio:100}))}get assignmentStore(){return this._assignmentStore}set dependencyStore(e){const n=this;n.dependencyStoreDetacher&&n.dependencyStoreDetacher(),n._dependencyStore=e,e&&e.autoSync&&(n.dependencyStoreDetacher=e.on({beforecommit:n.onDependencyStoreBeforeSync,thisObj:n,detachable:!0,prio:100}))}get dependencyStore(){return this._dependencyStore}onEventStoreBeforeSync({changes:e}){return this.removeNonPersistableRecordsToCreate(e),this.shallContinueSync(e)}onResourceStoreBeforeSync({changes:e}){return this.removeNonPersistableRecordsToCreate(e),this.shallContinueSync(e)}onAssignmentStoreBeforeSync({changes:e}){return this.removeNonPersistableRecordsToCreate(e),this.shallContinueSync(e)}onDependencyStoreBeforeSync({changes:e}){return this.removeNonPersistableRecordsToCreate(e),this.shallContinueSync(e)}removeNonPersistableRecordsToCreate(e){let n,r,o=e.added||[];for(r=o.length-1;r>=0;--r)n=o[r],n.isPersistable||o.splice(o.indexOf(n),1);0===o.length&&(e.added.length=0)}shallContinueSync(e){return Boolean(e.added&&e.added.length>0||e.modified&&e.modified.length>0||e.removed&&e.removed.length>0)}}ModelPersistencyManager._$name="ModelPersistencyManager";const ja=function(){var e={version:"1.2.0"};return Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var n=Object(this),r=n.length>>>0;if(0===r)return-1;var o=0;if(arguments.length>1&&((o=Number(arguments[1]))!=o?o=0:0!=o&&o!=1/0&&o!=-1/0&&(o=(o>0||-1)*Math.floor(Math.abs(o)))),o>=r)return-1;for(var i=o>=0?o:Math.max(r-Math.abs(o),0);i<r;i++)if(i in n&&n[i]===e)return i;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e.array={},e.array.sort=function(e,n){e.sort((function(e,n){return+e-+n})),n&&0===e[0]&&e.push(e.shift())},e.array.next=function(e,n,r){for(var o,i=0!==r[0],a=0,l=n.length-1;l>-1;--l){if((o=n[l])===e)return o;if(!(o>e||0===o&&i&&r[1]>e))break;a=l}return n[a]},e.array.nextInvalid=function(e,n,r){for(var o=r[0],i=r[1],a=n.length,l=0===n[a-1]&&0!==o?i:0,c=e,d=n.indexOf(e),u=c;c===(n[d]||l);)if(++c>i&&(c=o),++d===a&&(d=0),c===u)return;return c},e.array.prev=function(e,n,r){for(var o,i=n.length,a=0!==r[0],l=i-1,c=0;c<i;c++){if((o=n[c])===e)return o;if(!(o<e||0===o&&a&&r[1]<e))break;l=c}return n[l]},e.array.prevInvalid=function(e,n,r){for(var o=r[0],i=r[1],a=n.length,l=0===n[a-1]&&0!==o?i:0,c=e,d=n.indexOf(e),u=c;c===(n[d]||l);)if(--c<o&&(c=i),-1===--d&&(d=a-1),c===u)return;return c},e.day=e.D={name:"day",range:86400,val:function(n){return n.D||(n.D=e.date.getDate.call(n))},isValid:function(n,r){return e.D.val(n)===(r||e.D.extent(n)[1])},extent:function(n){if(n.DExtent)return n.DExtent;var r=e.M.val(n),o=e.DAYS_IN_MONTH[r-1];return 2===r&&366===e.dy.extent(n)[1]&&(o+=1),n.DExtent=[1,o]},start:function(n){return n.DStart||(n.DStart=e.date.next(e.Y.val(n),e.M.val(n),e.D.val(n)))},end:function(n){return n.DEnd||(n.DEnd=e.date.prev(e.Y.val(n),e.M.val(n),e.D.val(n)))},next:function(n,r){r=r>e.D.extent(n)[1]?1:r;var o=e.date.nextRollover(n,r,e.D,e.M),i=e.D.extent(o)[1];return r=r>i?1:r||i,e.date.next(e.Y.val(o),e.M.val(o),r)},prev:function(n,r){var o=e.date.prevRollover(n,r,e.D,e.M),i=e.D.extent(o)[1];return e.date.prev(e.Y.val(o),e.M.val(o),r>i?i:r||i)}},e.dayOfWeekCount=e.dc={name:"day of week count",range:604800,val:function(n){return n.dc||(n.dc=Math.floor((e.D.val(n)-1)/7)+1)},isValid:function(n,r){return e.dc.val(n)===r||0===r&&e.D.val(n)>e.D.extent(n)[1]-7},extent:function(n){return n.dcExtent||(n.dcExtent=[1,Math.ceil(e.D.extent(n)[1]/7)])},start:function(n){return n.dcStart||(n.dcStart=e.date.next(e.Y.val(n),e.M.val(n),Math.max(1,7*(e.dc.val(n)-1)+1||1)))},end:function(n){return n.dcEnd||(n.dcEnd=e.date.prev(e.Y.val(n),e.M.val(n),Math.min(7*e.dc.val(n),e.D.extent(n)[1])))},next:function(n,r){r=r>e.dc.extent(n)[1]?1:r;var o=e.date.nextRollover(n,r,e.dc,e.M);r=r>e.dc.extent(o)[1]?1:r;var i=e.date.next(e.Y.val(o),e.M.val(o),0===r?e.D.extent(o)[1]-6:1+7*(r-1));return i.getTime()<=n.getTime()?(o=e.M.next(n,e.M.val(n)+1),e.date.next(e.Y.val(o),e.M.val(o),0===r?e.D.extent(o)[1]-6:1+7*(r-1))):i},prev:function(n,r){var o=e.date.prevRollover(n,r,e.dc,e.M),i=e.dc.extent(o)[1];return r=r>i?i:r||i,e.dc.end(e.date.prev(e.Y.val(o),e.M.val(o),1+7*(r-1)))}},e.dayOfWeek=e.dw=e.d={name:"day of week",range:86400,val:function(n){return n.dw||(n.dw=e.date.getDay.call(n)+1)},isValid:function(n,r){return e.dw.val(n)===(r||7)},extent:function(){return[1,7]},start:function(n){return e.D.start(n)},end:function(n){return e.D.end(n)},next:function(n,r){return r=r>7?1:r||7,e.date.next(e.Y.val(n),e.M.val(n),e.D.val(n)+(r-e.dw.val(n))+(r<=e.dw.val(n)?7:0))},prev:function(n,r){return r=r>7?7:r||7,e.date.prev(e.Y.val(n),e.M.val(n),e.D.val(n)+(r-e.dw.val(n))+(r>=e.dw.val(n)?-7:0))}},e.dayOfYear=e.dy={name:"day of year",range:86400,val:function(n){return n.dy||(n.dy=Math.ceil(1+(e.D.start(n).getTime()-e.Y.start(n).getTime())/e.DAY))},isValid:function(n,r){return e.dy.val(n)===(r||e.dy.extent(n)[1])},extent:function(n){var r=e.Y.val(n);return n.dyExtent||(n.dyExtent=[1,r%4?365:366])},start:function(n){return e.D.start(n)},end:function(n){return e.D.end(n)},next:function(n,r){r=r>e.dy.extent(n)[1]?1:r;var o=e.date.nextRollover(n,r,e.dy,e.Y),i=e.dy.extent(o)[1];return r=r>i?1:r||i,e.date.next(e.Y.val(o),e.M.val(o),r)},prev:function(n,r){var o=e.date.prevRollover(n,r,e.dy,e.Y),i=e.dy.extent(o)[1];return r=r>i?i:r||i,e.date.prev(e.Y.val(o),e.M.val(o),r)}},e.hour=e.h={name:"hour",range:3600,val:function(n){return n.h||(n.h=e.date.getHour.call(n))},isValid:function(n,r){return e.h.val(n)===r},extent:function(){return[0,23]},start:function(n){return n.hStart||(n.hStart=e.date.next(e.Y.val(n),e.M.val(n),e.D.val(n),e.h.val(n)))},end:function(n){return n.hEnd||(n.hEnd=e.date.prev(e.Y.val(n),e.M.val(n),e.D.val(n),e.h.val(n)))},next:function(n,r){r=r>23?0:r;var o=e.date.next(e.Y.val(n),e.M.val(n),e.D.val(n)+(r<=e.h.val(n)?1:0),r);return!e.date.isUTC&&o.getTime()<=n.getTime()&&(o=e.date.next(e.Y.val(o),e.M.val(o),e.D.val(o),r+1)),o},prev:function(n,r){return r=r>23?23:r,e.date.prev(e.Y.val(n),e.M.val(n),e.D.val(n)+(r>=e.h.val(n)?-1:0),r)}},e.minute=e.m={name:"minute",range:60,val:function(n){return n.m||(n.m=e.date.getMin.call(n))},isValid:function(n,r){return e.m.val(n)===r},extent:function(e){return[0,59]},start:function(n){return n.mStart||(n.mStart=e.date.next(e.Y.val(n),e.M.val(n),e.D.val(n),e.h.val(n),e.m.val(n)))},end:function(n){return n.mEnd||(n.mEnd=e.date.prev(e.Y.val(n),e.M.val(n),e.D.val(n),e.h.val(n),e.m.val(n)))},next:function(n,r){var o=e.m.val(n),i=e.s.val(n),a=r>59?60-o:r<=o?60-o+r:r-o,l=new Date(n.getTime()+a*e.MIN-i*e.SEC);return!e.date.isUTC&&l.getTime()<=n.getTime()&&(l=new Date(n.getTime()+(a+120)*e.MIN-i*e.SEC)),l},prev:function(n,r){return r=r>59?59:r,e.date.prev(e.Y.val(n),e.M.val(n),e.D.val(n),e.h.val(n)+(r>=e.m.val(n)?-1:0),r)}},e.month=e.M={name:"month",range:2629740,val:function(n){return n.M||(n.M=e.date.getMonth.call(n)+1)},isValid:function(n,r){return e.M.val(n)===(r||12)},extent:function(){return[1,12]},start:function(n){return n.MStart||(n.MStart=e.date.next(e.Y.val(n),e.M.val(n)))},end:function(n){return n.MEnd||(n.MEnd=e.date.prev(e.Y.val(n),e.M.val(n)))},next:function(n,r){return r=r>12?1:r||12,e.date.next(e.Y.val(n)+(r>e.M.val(n)?0:1),r)},prev:function(n,r){return r=r>12?12:r||12,e.date.prev(e.Y.val(n)-(r>=e.M.val(n)?1:0),r)}},e.second=e.s={name:"second",range:1,val:function(n){return n.s||(n.s=e.date.getSec.call(n))},isValid:function(n,r){return e.s.val(n)===r},extent:function(){return[0,59]},start:function(e){return e},end:function(e){return e},next:function(n,r){var o=e.s.val(n),i=r>59?60-o:r<=o?60-o+r:r-o,a=new Date(n.getTime()+i*e.SEC);return!e.date.isUTC&&a.getTime()<=n.getTime()&&(a=new Date(n.getTime()+(i+7200)*e.SEC)),a},prev:function(n,r,o){return r=r>59?59:r,e.date.prev(e.Y.val(n),e.M.val(n),e.D.val(n),e.h.val(n),e.m.val(n)+(r>=e.s.val(n)?-1:0),r)}},e.time=e.t={name:"time",range:1,val:function(n){return n.t||(n.t=3600*e.h.val(n)+60*e.m.val(n)+e.s.val(n))},isValid:function(n,r){return e.t.val(n)===r},extent:function(){return[0,86399]},start:function(e){return e},end:function(e){return e},next:function(n,r){r=r>86399?0:r;var o=e.date.next(e.Y.val(n),e.M.val(n),e.D.val(n)+(r<=e.t.val(n)?1:0),0,0,r);return!e.date.isUTC&&o.getTime()<n.getTime()&&(o=e.date.next(e.Y.val(o),e.M.val(o),e.D.val(o),e.h.val(o),e.m.val(o),r+7200)),o},prev:function(n,r){return r=r>86399?86399:r,e.date.next(e.Y.val(n),e.M.val(n),e.D.val(n)+(r>=e.t.val(n)?-1:0),0,0,r)}},e.weekOfMonth=e.wm={name:"week of month",range:604800,val:function(n){return n.wm||(n.wm=(e.D.val(n)+(e.dw.val(e.M.start(n))-1)+(7-e.dw.val(n)))/7)},isValid:function(n,r){return e.wm.val(n)===(r||e.wm.extent(n)[1])},extent:function(n){return n.wmExtent||(n.wmExtent=[1,(e.D.extent(n)[1]+(e.dw.val(e.M.start(n))-1)+(7-e.dw.val(e.M.end(n))))/7])},start:function(n){return n.wmStart||(n.wmStart=e.date.next(e.Y.val(n),e.M.val(n),Math.max(e.D.val(n)-e.dw.val(n)+1,1)))},end:function(n){return n.wmEnd||(n.wmEnd=e.date.prev(e.Y.val(n),e.M.val(n),Math.min(e.D.val(n)+(7-e.dw.val(n)),e.D.extent(n)[1])))},next:function(n,r){r=r>e.wm.extent(n)[1]?1:r;var o=e.date.nextRollover(n,r,e.wm,e.M),i=e.wm.extent(o)[1];return r=r>i?1:r||i,e.date.next(e.Y.val(o),e.M.val(o),Math.max(1,7*(r-1)-(e.dw.val(o)-2)))},prev:function(n,r){var o=e.date.prevRollover(n,r,e.wm,e.M),i=e.wm.extent(o)[1];return r=r>i?i:r||i,e.wm.end(e.date.next(e.Y.val(o),e.M.val(o),Math.max(1,7*(r-1)-(e.dw.val(o)-2))))}},e.weekOfYear=e.wy={name:"week of year (ISO)",range:604800,val:function(n){if(n.wy)return n.wy;var r=e.dw.next(e.wy.start(n),5),o=e.dw.next(e.Y.prev(r,e.Y.val(r)-1),5);return n.wy=1+Math.ceil((r.getTime()-o.getTime())/e.WEEK)},isValid:function(n,r){return e.wy.val(n)===(r||e.wy.extent(n)[1])},extent:function(n){if(n.wyExtent)return n.wyExtent;var r=e.dw.next(e.wy.start(n),5),o=e.dw.val(e.Y.start(r)),i=e.dw.val(e.Y.end(r));return n.wyExtent=[1,5===o||5===i?53:52]},start:function(n){return n.wyStart||(n.wyStart=e.date.next(e.Y.val(n),e.M.val(n),e.D.val(n)-(e.dw.val(n)>1?e.dw.val(n)-2:6)))},end:function(n){return n.wyEnd||(n.wyEnd=e.date.prev(e.Y.val(n),e.M.val(n),e.D.val(n)+(e.dw.val(n)>1?8-e.dw.val(n):0)))},next:function(n,r){r=r>e.wy.extent(n)[1]?1:r;var o=e.dw.next(e.wy.start(n),5),i=e.date.nextRollover(o,r,e.wy,e.Y);1!==e.wy.val(i)&&(i=e.dw.next(i,2));var a=e.wy.extent(i)[1],l=e.wy.start(i);return r=r>a?1:r||a,e.date.next(e.Y.val(l),e.M.val(l),e.D.val(l)+7*(r-1))},prev:function(n,r){var o=e.dw.next(e.wy.start(n),5),i=e.date.prevRollover(o,r,e.wy,e.Y);1!==e.wy.val(i)&&(i=e.dw.next(i,2));var a=e.wy.extent(i)[1],l=e.wy.end(i);return r=r>a?a:r||a,e.wy.end(e.date.next(e.Y.val(l),e.M.val(l),e.D.val(l)+7*(r-1)))}},e.year=e.Y={name:"year",range:31556900,val:function(n){return n.Y||(n.Y=e.date.getYear.call(n))},isValid:function(n,r){return e.Y.val(n)===r},extent:function(){return[1970,2099]},start:function(n){return n.YStart||(n.YStart=e.date.next(e.Y.val(n)))},end:function(n){return n.YEnd||(n.YEnd=e.date.prev(e.Y.val(n)))},next:function(n,r){return r>e.Y.val(n)&&r<=e.Y.extent()[1]?e.date.next(r):e.NEVER},prev:function(n,r){return r<e.Y.val(n)&&r>=e.Y.extent()[0]?e.date.prev(r):e.NEVER}},e.fullDate=e.fd={name:"full date",range:1,val:function(e){return e.fd||(e.fd=e.getTime())},isValid:function(n,r){return e.fd.val(n)===r},extent:function(){return[0,3250368e7]},start:function(e){return e},end:function(e){return e},next:function(n,r){return e.fd.val(n)<r?new Date(r):e.NEVER},prev:function(n,r){return e.fd.val(n)>r?new Date(r):e.NEVER}},e.modifier={},e.modifier.after=e.modifier.a=function(e,n){var r=n[0];return{name:"after "+e.name,range:(e.extent(new Date)[1]-r)*e.range,val:e.val,isValid:function(e,n){return this.val(e)>=r},extent:e.extent,start:e.start,end:e.end,next:function(n,o){return o!=r&&(o=e.extent(n)[0]),e.next(n,o)},prev:function(n,o){return o=o===r?e.extent(n)[1]:r-1,e.prev(n,o)}}},e.modifier.before=e.modifier.b=function(e,n){var r=n[n.length-1];return{name:"before "+e.name,range:e.range*(r-1),val:e.val,isValid:function(e,n){return this.val(e)<r},extent:e.extent,start:e.start,end:e.end,next:function(n,o){return o=o===r?e.extent(n)[0]:r,e.next(n,o)},prev:function(n,o){return o=o===r?r-1:e.extent(n)[1],e.prev(n,o)}}},e.compile=function(n){var r,o=[],i=0;for(var a in n){var l=a.split("_"),c=l[0],d=l[1],u=n[a],p=d?e.modifier[d](e[c],u):e[c];o.push({constraint:p,vals:u}),i++}return o.sort((function(e,n){var r=e.constraint.range,o=n.constraint.range;return o<r?-1:o>r?1:0})),r=o[i-1].constraint,{start:function(n,a){for(var l,c=a,d=e.array[n],u=1e3;u--&&!l&&c;){l=!0;for(var p=0;p<i;p++){var b=o[p].constraint,g=b.val(c),m=b.extent(c),f=d(g,o[p].vals,m);if(!b.isValid(c,f)){c=b[n](c,f),l=!1;break}}}return c!==e.NEVER&&(c="next"===n?r.start(c):r.end(c)),c},end:function(n,r){for(var a,l=e.array[n+"Invalid"],c=function compareFn(e){return"next"===e?function(e,n){return e.getTime()>n.getTime()}:function(e,n){return n.getTime()>e.getTime()}}(n),d=i-1;d>=0;d--){var u,p=o[d].constraint,b=p.val(r),g=p.extent(r),m=l(b,o[d].vals,g);void 0!==m&&(!(u=p[n](r,m))||a&&!c(a,u)||(a=u))}return a},tick:function(n,o){return new Date("next"===n?r.end(o).getTime()+e.SEC:r.start(o).getTime()-e.SEC)},tickStart:function(e){return r.start(e)}}},e.schedule=function(n){if(!n)throw new Error("Missing schedule definition.");if(!n.schedules)throw new Error("Definition must include at least one schedule.");for(var r=[],o=n.schedules.length,i=[],a=n.exceptions?n.exceptions.length:0,l=0;l<o;l++)r.push(e.compile(n.schedules[l]));for(var c=0;c<a;c++)i.push(e.compile(n.exceptions[c]));function getInstances(n,o,l,c,d){var u,p,b,g=compareFn(n),m=o,f=1e6,v=[],y=[],x=[],C="next"===n,S=C?0:1,D=C?1:0;if(!(l=l?new Date(l):new Date)||!l.getTime())throw new Error("Invalid start date.");for(!function setNextStarts(e,n,r,o){for(var i=0,a=n.length;i<a;i++)r[i]=n[i].start(e,o)}(n,r,v,l),function setRangeStarts(n,r,o,i){for(var a=0,l=r.length;a<l;a++){var c=r[a].start(n,i);o[a]=c?[c,r[a].end(n,c)]:e.NEVER}}(n,i,y,l);f--&&m&&(u=findNext(v,g))&&(!c||!g(u,c));)if(a&&(updateRangeStarts(n,i,y,u),p=calcRangeOverlap(n,y,u)))updateNextStarts(n,r,v,p);else{if(d){var E=calcMaxEndDate(y,g);p=calcEnd(n,r,v,u,E);var k=C?[new Date(Math.max(l,u)),p?new Date(c?Math.min(p,c):p):void 0]:[p?new Date(c?Math.max(c,p.getTime()+e.SEC):p.getTime()+e.SEC):void 0,new Date(Math.min(l,u.getTime()+e.SEC))];if(b&&k[S].getTime()===b[D].getTime()?(b[D]=k[D],m++):(b=k,x.push(b)),!p)break;updateNextStarts(n,r,v,p)}else x.push(C?new Date(Math.max(l,u)):getStart(r,v,u,c)),tickStarts(n,r,v,u);m--}for(var T=0,_=x.length;T<_;T++){var M=x[T];x[T]="[object Array]"===Object.prototype.toString.call(M)?[cleanDate(M[0]),cleanDate(M[1])]:cleanDate(M)}return 0===x.length?e.NEVER:1===o?x[0]:x}function cleanDate(e){if(e instanceof Date&&!isNaN(e.valueOf()))return new Date(e)}function updateNextStarts(e,n,r,o){for(var i=compareFn(e),a=0,l=n.length;a<l;a++)r[a]&&!i(r[a],o)&&(r[a]=n[a].start(e,o))}function updateRangeStarts(n,r,o,i){for(var a=compareFn(n),l=0,c=r.length;l<c;l++)if(o[l]&&!a(o[l][0],i)){var d=r[l].start(n,i);o[l]=d?[d,r[l].end(n,d)]:e.NEVER}}function tickStarts(e,n,r,o){for(var i=0,a=n.length;i<a;i++)r[i]&&r[i].getTime()===o.getTime()&&(r[i]=n[i].start(e,n[i].tick(e,o)))}function getStart(e,n,r,o){for(var i,a=0,l=n.length;a<l;a++)if(n[a]&&n[a].getTime()===r.getTime()){var c=e[a].tickStart(r);if(o&&c<o)return o;(!i||c>i)&&(i=c)}return i}function calcRangeOverlap(e,n,r){for(var o,i=compareFn(e),a=0,l=n.length;a<l;a++){var c=n[a];!c||i(c[0],r)||c[1]&&!i(c[1],r)||o&&!i(c[1],o)||(o=c[1])}return o}function calcMaxEndDate(e,n){for(var r,o=0,i=e.length;o<i;o++)!e[o]||r&&!n(r,e[o][0])||(r=e[o][0]);return r}function calcEnd(e,n,r,o,i){for(var a,l=compareFn(e),c=0,d=n.length;c<d;c++){var u=r[c];if(u&&u.getTime()===o.getTime()){var p=n[c].end(e,u);if(i&&(!p||l(p,i)))return i;a&&!l(p,a)||(a=p)}}return a}function compareFn(e){return"next"===e?function(e,n){return!n||e.getTime()>n.getTime()}:function(e,n){return!e||n.getTime()>e.getTime()}}function findNext(e,n){for(var r=e[0],o=1,i=e.length;o<i;o++)e[o]&&n(r,e[o])&&(r=e[o]);return r}return{isValid:function(n){return getInstances("next",1,n,n)!==e.NEVER},next:function(e,n,r){return getInstances("next",e||1,n,r)},prev:function(e,n,r){return getInstances("prev",e||1,n,r)},nextRange:function(e,n,r){return getInstances("next",e||1,n,r,!0)},prevRange:function(e,n,r){return getInstances("prev",e||1,n,r,!0)}}},e.setTimeout=function(n,r){var o,i=e.schedule(r);return n&&function scheduleTimeout(){var e=Date.now(),r=i.next(2,e);if(!r[0])return void(o=void 0);var a=r[0].getTime()-e;a<1e3&&(a=r[1]?r[1].getTime()-e:1e3);o=a<2147483647?setTimeout(n,a):setTimeout(scheduleTimeout,2147483647)}(),{isDone:function(){return!o},clear:function(){clearTimeout(o)}}},e.setInterval=function(n,r){if(n){var o=e.setTimeout((function scheduleTimeout(){i||(n(),o=e.setTimeout(scheduleTimeout,r))}),r),i=o.isDone();return{isDone:function(){return o.isDone()},clear:function(){i=!0,o.clear()}}}},e.date={},e.date.timezone=function(n){e.date.build=n?function(e,n,r,o,i,a){return new Date(e,n,r,o,i,a)}:function(e,n,r,o,i,a){return new Date(Date.UTC(e,n,r,o,i,a))};var r=n?"get":"getUTC",o=Date.prototype;e.date.getYear=o[r+"FullYear"],e.date.getMonth=o[r+"Month"],e.date.getDate=o[r+"Date"],e.date.getDay=o[r+"Day"],e.date.getHour=o[r+"Hours"],e.date.getMin=o[r+"Minutes"],e.date.getSec=o[r+"Seconds"],e.date.isUTC=!n},e.date.UTC=function(){e.date.timezone(!1)},e.date.localTime=function(){e.date.timezone(!0)},e.date.UTC(),e.SEC=1e3,e.MIN=60*e.SEC,e.HOUR=60*e.MIN,e.DAY=24*e.HOUR,e.WEEK=7*e.DAY,e.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],e.NEVER=0,e.date.next=function(n,r,o,i,a,l){return e.date.build(n,void 0!==r?r-1:0,void 0!==o?o:1,i||0,a||0,l||0)},e.date.nextRollover=function(n,r,o,i){var a=o.val(n),l=o.extent(n)[1];return(r||l)<=a||r>l?new Date(i.end(n).getTime()+e.SEC):i.start(n)},e.date.prev=function(n,r,o,i,a,l){var c=arguments.length;return r=c<2?11:r-1,o=c<3?e.D.extent(e.date.next(n,r+1))[1]:o,i=c<4?23:i,a=c<5?59:a,l=c<6?59:l,e.date.build(n,r,o,i,a,l)},e.date.prevRollover=function(e,n,r,o){return n>=r.val(e)||!n?o.start(o.prev(e,o.val(e)-1)):o.start(e)},e.parse={},e.parse.cron=function(e,n){var r={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},o={"* * * * * *":"0/1 * * * * *","@YEARLY":"0 0 1 1 *","@ANNUALLY":"0 0 1 1 *","@MONTHLY":"0 0 1 * *","@WEEKLY":"0 0 * * 0","@DAILY":"0 0 * * *","@HOURLY":"0 * * * *"},i={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]};function getValue(e,n,o){return isNaN(e)?r[e]||null:Math.min(+e+(n||0),o||9999)}function add(e,n,r,o,i){var a=r;for(e[n]||(e[n]=[]);a<=o;)e[n].indexOf(a)<0&&e[n].push(a),a+=i||1;e[n].sort((function(e,n){return e-n}))}function addHash(e,n,r,o){(n.d&&!n.dc||n.dc&&n.dc.indexOf(o)<0)&&(e.push(function cloneSchedule(e){var n,r={};for(n in e)"dc"!==n&&"d"!==n&&(r[n]=e[n].slice(0));return r}(n)),n=e[e.length-1]),add(n,"d",r,r),add(n,"dc",o,o)}function parse(e,n,o,i,a,l){var c,d,u=n.schedules,p=u[u.length-1];"L"===e&&(e=i-1),null!==(c=getValue(e,l,a))?add(p,o,c,c):null!==(c=getValue(e.replace("W",""),l,a))?function addWeekday(e,n,o){var i={},a={};1===o?(add(n,"D",1,3),add(n,"d",r.MON,r.FRI),add(i,"D",2,2),add(i,"d",r.TUE,r.FRI),add(a,"D",3,3),add(a,"d",r.TUE,r.FRI)):(add(n,"D",o-1,o+1),add(n,"d",r.MON,r.FRI),add(i,"D",o-1,o-1),add(i,"d",r.MON,r.THU),add(a,"D",o+1,o+1),add(a,"d",r.TUE,r.FRI)),e.exceptions.push(i),e.exceptions.push(a)}(n,p,c):null!==(c=getValue(e.replace("L",""),l,a))?addHash(u,p,c,i-1):2===(d=e.split("#")).length?addHash(u,p,c=getValue(d[0],l,a),getValue(d[1])):function addRange(e,n,r,o,i,a){var l=e.split("/"),c=+l[1],d=l[0];if("*"!==d&&"0"!==d){var u=d.split("-");o=getValue(u[0],a,i),i=getValue(u[1],a,i)||i}add(n,r,o,i,c)}(e,p,o,i,a,l)}function isHash(e){return e.indexOf("#")>-1||e.indexOf("L")>0}function itemSorter(e,n){return isHash(e)&&!isHash(n)?1:e-n}var a=function prepareExpr(e){var n=e.toUpperCase();return o[n]||n}(e);return function parseExpr(e){var n,r,o,a,l={schedules:[{}],exceptions:[]},c=e.replace(/(\s)+/g," ").split(" ");for(n in i)if((o=c[(r=i[n])[0]])&&"*"!==o&&"?"!==o){var d,u=(a=o.split(",").sort(itemSorter)).length;for(d=0;d<u;d++)parse(a[d],l,n,r[1],r[2],r[3])}return l}(n?a:"0 "+a)},e.parse.recur=function(){var n,r,o,i,a,l,c,d,u,p=[],b=[],g=p;function add(e,p,b){if(e=a?e+"_"+a:e,n||(g.push({}),n=g[0]),n[e]||(n[e]=[]),r=n[e],i){for(o=[],d=p;d<=b;d+=i)o.push(d);u={n:e,x:i,c:r.length,m:b}}var m=(o=l?[p]:c?[b]:o).length;for(d=0;d<m;d+=1){var f=o[d];r.indexOf(f)<0&&r.push(f)}o=i=a=l=c=0}return{schedules:p,exceptions:b,on:function(){return o=arguments[0]instanceof Array?arguments[0]:arguments,this},every:function(e){return i=e||1,this},after:function(e){return a="a",o=[e],this},before:function(e){return a="b",o=[e],this},first:function(){return l=1,this},last:function(){return c=1,this},time:function(){for(var e=0,n=o.length;e<n;e++){var r=o[e].split(":");r.length<3&&r.push(0),o[e]=3600*+r[0]+60*+r[1]+ +r[2]}return add("t"),this},second:function(){return add("s",0,59),this},minute:function(){return add("m",0,59),this},hour:function(){return add("h",0,23),this},dayOfMonth:function(){return add("D",1,c?0:31),this},dayOfWeek:function(){return add("d",1,7),this},onWeekend:function(){return o=[1,7],this.dayOfWeek()},onWeekday:function(){return o=[2,3,4,5,6],this.dayOfWeek()},dayOfWeekCount:function(){return add("dc",1,c?0:5),this},dayOfYear:function(){return add("dy",1,c?0:366),this},weekOfMonth:function(){return add("wm",1,c?0:5),this},weekOfYear:function(){return add("wy",1,c?0:53),this},month:function(){return add("M",1,12),this},year:function(){return add("Y",1970,2450),this},fullDate:function(){for(var e=0,n=o.length;e<n;e++)o[e]=o[e].getTime();return add("fd"),this},customModifier:function(n,r){if(!e.modifier[n])throw new Error("Custom modifier "+n+" not recognized!");return a=n,o=arguments[1]instanceof Array?arguments[1]:[arguments[1]],this},customPeriod:function(n){var r=e[n];if(!r)throw new Error("Custom time period "+n+" not recognized!");return add(n,r.extent(new Date)[0],r.extent(new Date)[1]),this},startingOn:function(e){return this.between(e,u.m)},between:function(e,r){return n[u.n]=n[u.n].splice(0,u.c),i=u.x,add(u.n,e,r),this},and:function(){return n=g[g.push({})-1],this},except:function(){return g=b,n=null,this}}},e.parse.text=function(n){var r,o=e.parse.recur,i=0,a="",l={eof:/^$/,fullDate:/^(\d\d\d\d-\d\d-\d\dt\d\d:\d\d:\d\d)\b/,rank:/^((\d\d\d\d)|([2-5]?1(st)?|[2-5]?2(nd)?|[2-5]?3(rd)?|(0|[1-5]?[4-9]|[1-5]0|1[1-3])(th)?))\b/,time:/^((([0]?[1-9]|1[0-2]):[0-5]\d(\s)?(am|pm))|(([0]?\d|1\d|2[0-3]):[0-5]\d))\b/,dayName:/^((sun|mon|tue(s)?|wed(nes)?|thu(r(s)?)?|fri|sat(ur)?)(day)?)\b/,monthName:/^(jan(uary)?|feb(ruary)?|ma((r(ch)?)?|y)|apr(il)?|ju(ly|ne)|aug(ust)?|oct(ober)?|(sept|nov|dec)(ember)?)\b/,yearIndex:/^(\d\d\d\d)\b/,every:/^every\b/,after:/^after\b/,before:/^before\b/,second:/^(s|sec(ond)?(s)?)\b/,minute:/^(m|min(ute)?(s)?)\b/,hour:/^(h|hour(s)?)\b/,day:/^(day(s)?( of the month)?)\b/,dayInstance:/^day instance\b/,dayOfWeek:/^day(s)? of the week\b/,dayOfYear:/^day(s)? of the year\b/,weekOfYear:/^week(s)?( of the year)?\b/,weekOfMonth:/^week(s)? of the month\b/,weekday:/^weekday\b/,weekend:/^weekend\b/,month:/^month(s)?\b/,year:/^year(s)?\b/,between:/^between (the)?\b/,start:/^(start(ing)? (at|on( the)?)?)\b/,at:/^(at|@)\b/,and:/^(,|and\b)/,except:/^(except\b)/,also:/(also)\b/,first:/^(first)\b/,last:/^last\b/,in:/^in\b/,of:/^of\b/,onthe:/^on the\b/,on:/^on\b/,through:/(-|^(to|through)\b)/},c={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7,"1st":1,fir:1,"2nd":2,sec:2,"3rd":3,thi:3,"4th":4,for:4};function t(e,n,r,o){return{startPos:e,endPos:n,text:r,type:o}}function peek(e){var n,r,o,l,c,d,u=e instanceof Array?e:[e],p=/\s+/;for(u.push(p),c=i;!n||n.type===p;){d=-1,r=a.substring(c),n=t(c,c,a.split(p)[0]);var b,g=u.length;for(b=0;b<g;b++)(o=(l=u[b]).exec(r))&&0===o.index&&o[0].length>d&&(n=t(c,c+(d=o[0].length),r.substring(0,d),l));n.type===p&&(c=n.endPos)}return n}function scan(e){var n=peek(e);return i=n.endPos,n}function parseThroughExpr(e){for(var n=+parseTokenValue(e),r=checkAndParse(l.through)?+parseTokenValue(e):n,o=[],i=n;i<=r;i++)o.push(i);return o}function parseRanges(e){for(var n=parseThroughExpr(e);checkAndParse(l.and);)n=n.concat(parseThroughExpr(e));return n}function parseEvery(e){var n,r,o,i;checkAndParse(l.weekend)?e.on(c.sun,c.sat).dayOfWeek():checkAndParse(l.weekday)?e.on(c.mon,c.tue,c.wed,c.thu,c.fri).dayOfWeek():(n=parseTokenValue(l.rank),e.every(n),r=parseTimePeriod(e),checkAndParse(l.start)?(n=parseTokenValue(l.rank),e.startingOn(n),parseToken(r.type)):checkAndParse(l.between)&&(o=parseTokenValue(l.rank),checkAndParse(l.and)&&(i=parseTokenValue(l.rank),e.between(o,i))))}function parseOnThe(e){checkAndParse(l.first)?e.first():checkAndParse(l.last)?e.last():e.on(parseRanges(l.rank)),parseTimePeriod(e)}function parseTimePeriod(e){var n=parseToken([l.second,l.minute,l.hour,l.dayOfYear,l.dayOfWeek,l.dayInstance,l.day,l.month,l.year,l.weekOfMonth,l.weekOfYear]);switch(n.type){case l.second:e.second();break;case l.minute:e.minute();break;case l.hour:e.hour();break;case l.dayOfYear:e.dayOfYear();break;case l.dayOfWeek:e.dayOfWeek();break;case l.dayInstance:e.dayOfWeekCount();break;case l.day:e.dayOfMonth();break;case l.weekOfMonth:e.weekOfMonth();break;case l.weekOfYear:e.weekOfYear();break;case l.month:e.month();break;case l.year:e.year();break;default:r=i}return n}function checkAndParse(e){var n=peek(e).type===e;return n&&scan(e),n}function parseToken(e){var n=scan(e);return n.type?n.text=function convertString(e,n){var r=e;switch(n){case l.time:var o=e.split(/(:|am|pm)/),i="pm"===o[3]&&o[0]<12?parseInt(o[0],10)+12:o[0],a=o[2].trim();r=(1===i.length?"0":"")+i+":"+a;break;case l.rank:r=parseInt(/^\d+/.exec(e)[0],10);break;case l.monthName:case l.dayName:r=c[e.substring(0,3)];break;case l.fullDate:r=new Date(e.toUpperCase())}return r}(n.text,e):r=i,n}function parseTokenValue(e){return parseToken(e).text}return function parseScheduleExpr(e){i=0,a=e,r=-1;for(var n=o();i<a.length&&r<0;){switch(parseToken([l.every,l.after,l.before,l.onthe,l.on,l.of,l.in,l.at,l.and,l.except,l.also]).type){case l.every:parseEvery(n);break;case l.after:void 0!==peek(l.time).type?(n.after(parseTokenValue(l.time)),n.time()):void 0!==peek(l.fullDate).type?(n.after(parseTokenValue(l.fullDate)),n.fullDate()):(n.after(parseTokenValue(l.rank)),parseTimePeriod(n));break;case l.before:void 0!==peek(l.time).type?(n.before(parseTokenValue(l.time)),n.time()):void 0!==peek(l.fullDate).type?(n.before(parseTokenValue(l.fullDate)),n.fullDate()):(n.before(parseTokenValue(l.rank)),parseTimePeriod(n));break;case l.onthe:parseOnThe(n);break;case l.on:n.on(parseRanges(l.dayName)).dayOfWeek();break;case l.of:n.on(parseRanges(l.monthName)).month();break;case l.in:n.on(parseRanges(l.yearIndex)).year();break;case l.at:for(n.on(parseTokenValue(l.time)).time();checkAndParse(l.and);)n.on(parseTokenValue(l.time)).time();break;case l.and:break;case l.also:n.and();break;case l.except:n.except();break;default:r=i}}return{schedules:n.schedules,exceptions:n.exceptions,error:r}}(n.toLowerCase())},e}();ja.date.localTime();class CalendarIntervalMixin extends(Mixin([AbstractPartOfProjectModelMixin],(e=>{e.prototype;return class CalendarIntervalMixin extends e{static get fields(){return["name",{name:"startDate",type:"date",format:"YYYY-MM-DDTHH:mm:ssZ"},{name:"endDate",type:"date",format:"YYYY-MM-DDTHH:mm:ssZ"},"recurrentStartDate","recurrentEndDate",{name:"isWorking",type:"boolean",defaultValue:!1},{name:"priority",type:"number"}]}getCalendar(){return this.stores[0].calendar}resetPriority(){this.priorityField=null,this.getCalendar().getDepth()}getPriorityField(){if(null!=this.priorityField)return this.priorityField;let e=1e4+100*this.getCalendar().getDepth(),n=this.priority;return null==n&&(n=this.isRecurrent()?20:30),this.priorityField=e+n}isRecurrent(){return Boolean(this.recurrentStartDate&&this.recurrentEndDate&&this.getStartDateSchedule()&&this.getEndDateSchedule())}isStatic(){return Boolean(this.startDate&&this.endDate)}parseDateSchedule(e){let n=e;if(e&&e!==Object(e)&&(n=ja.parse.text(e),n!==Object(n)||n.error>=0))try{n=JSON.parse(e)}catch(e){return null}return n}getStartDateSchedule(){if(this.startDateSchedule)return this.startDateSchedule;const e=this.parseDateSchedule(this.recurrentStartDate);return this.startDateSchedule=ja.schedule(e)}getEndDateSchedule(){if(this.endDateSchedule)return this.endDateSchedule;if("EOD"===this.recurrentEndDate)return"EOD";const e=this.parseDateSchedule(this.recurrentEndDate);return this.endDateSchedule=ja.schedule(e)}}}))){}class CalendarIntervalStore extends(Mixin([AbstractPartOfProjectStoreMixin],(e=>{e.prototype;return class CalendarIntervalStore extends e{static get defaultConfig(){return{modelClass:CalendarIntervalMixin}}}}))){}var Na,$a,Ba,za,Va,Wa,Ua,Ga;!function(e){e.Millisecond="millisecond",e.Second="second",e.Minute="minute",e.Hour="hour",e.Day="day",e.Week="week",e.Month="month",e.Quarter="quarter",e.Year="year"}(Na||(Na={})),function(e){e.MustStartOn="muststarton",e.MustFinishOn="mustfinishon",e.StartNoEarlierThan="startnoearlierthan",e.StartNoLaterThan="startnolaterthan",e.FinishNoEarlierThan="finishnoearlierthan",e.FinishNoLaterThan="finishnolaterthan"}($a||($a={})),function(e){e.Normal="Normal",e.FixedDuration="FixedDuration",e.FixedEffort="FixedEffort",e.FixedUnits="FixedUnits"}(Ba||(Ba={})),function(e){e[e.NoError=0]="NoError",e[e.CyclicDependency=1]="CyclicDependency",e[e.DuplicatingDependency=2]="DuplicatingDependency"}(za||(za={})),function(e){e[e.StartToStart=0]="StartToStart",e[e.StartToEnd=1]="StartToEnd",e[e.EndToStart=2]="EndToStart",e[e.EndToEnd=3]="EndToEnd"}(Va||(Va={})),function(e){e.Project="Project",e.FromEvent="FromEvent",e.ToEvent="ToEvent"}(Wa||(Wa={})),function(e){e[e.SchedulerBasic=1]="SchedulerBasic",e[e.SchedulerPro=2]="SchedulerPro",e[e.Gantt=3]="Gantt"}(Ua||(Ua={})),function(e){e.Forward="Forward",e.Backward="Backward",e.None="None"}(Ga||(Ga={}));const Ya=new Date(-864e13),Ka=new Date(864e13);var Xa,Qa;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(Xa||(Xa={})),function(e){e[e.FullRangeIterated=0]="FullRangeIterated",e[e.StoppedByIterator=1]="StoppedByIterator",e[e.MaxCacheExtendCyclesReached=2]="MaxCacheExtendCyclesReached",e[e.MaxRangeReached=3]="MaxRangeReached"}(Qa||(Qa={}));class CalendarCache{constructor(e){this.cacheFilledStartDate=Ka,this.cacheFilledEndDate=Ya,this.intervalsCachingChunkDuration=30,this.intervalsCachingChunkUnit=Na.Day,this.maxCacheExtendCycles=100,this.maxRange=15552e7,e&&Object.assign(this,e)}includeWrappingRangeFrom(e,n,r){e.ensureCacheFilledForInterval(n,r),this.intervalCache.includeWrappingRange(e.intervalCache,n,r)}ensureCacheFilledForInterval(e,n){const r=this.cacheFilledStartDate.getTime(),o=this.cacheFilledEndDate.getTime();if(r!==Ka.getTime()){const i=e.getTime(),a=n.getTime();if(r<=i&&a<=o)return;if(a<=r)n=new Date(r-1);else if(i>=o)e=new Date(o+1);else if(r<=i&&i<=o)e=new Date(o+1);else{if(!(r<=a&&a<=o))return this.ensureCacheFilledForInterval(e,new Date(r-1)),void this.ensureCacheFilledForInterval(new Date(o+1),n);n=new Date(r-1)}}(r===Ka.getTime()||e.getTime()<o)&&(this.cacheFilledStartDate=e),(o===Ya.getTime()||o<n.getTime())&&(this.cacheFilledEndDate=n),this.fillCache(e,n)}fillCache(e,n){throw new Error("Abstract method")}clear(){this.cacheFilledStartDate=Ka,this.cacheFilledEndDate=Ya,this.intervalCache.clear()}forEachAvailabilityInterval(e,n,r){var o;r=r||this;const i=e.startDate,a=e.endDate,l=i&&i.getTime(),c=a&&a.getTime(),d=null!==(o=e.maxRange)&&void 0!==o?o:this.maxRange,u=!1!==e.isForward;if(u?!i:!a)throw new Error("At least `startDate` or `endDate` is required, depending from the `isForward` option");const p=this.intervalCache;let b=u?i:a,g=u?i:a;const m=g.getTime();for(let e=1;e<this.maxCacheExtendCycles;e++){u?this.ensureCacheFilledForInterval(b,a||DateHelper.add(b,this.intervalsCachingChunkDuration,this.intervalsCachingChunkUnit)):this.ensureCacheFilledForInterval(i||DateHelper.add(b,-this.intervalsCachingChunkDuration,this.intervalsCachingChunkUnit),b);let e=p.getIntervalOf(g,u?Xa.Left:Xa.Right);for(;e;){const o=e.startDate,b=e.endDate;if(u&&c&&o.getTime()>=c||!u&&l&&b.getTime()<=l)return Qa.FullRangeIterated;if(u&&o.getTime()-m>=d||!u&&m-b.getTime()>=d)return Qa.MaxRangeReached;if(u&&o.getTime()>this.cacheFilledEndDate.getTime()||!u&&b.getTime()<this.cacheFilledStartDate.getTime())break;g=u?b:o;const f=l&&o.getTime()<l?i:o,v=c&&b.getTime()>c?a:b;if(!1===n.call(r,f,v,e.cacheInterval))return Qa.StoppedByIterator;e=u?p.getNextInterval(e):p.getPrevInterval(e)}if(u&&g.getTime()===Ka.getTime()||!u&&g.getTime()===Ya.getTime())return Qa.FullRangeIterated;b=u?this.cacheFilledEndDate:this.cacheFilledStartDate}return Qa.MaxCacheExtendCyclesReached}}class CalendarCacheInterval{constructor(e){if(this.intervals=[],e&&Object.assign(this,e),!this.calendar)throw new Error("Required attribute `calendar` is missing")}includeInterval(e){if(-1==this.intervals.indexOf(e)){const n=this.intervals.slice();return n.push(e),new CalendarCacheInterval({intervals:n,calendar:this.calendar})}return this}combineWith(e){return new CalendarCacheInterval({intervals:this.intervals.concat(e.intervals),calendar:this.calendar})}getIsWorking(){if(null!=this.isWorking)return this.isWorking;const e=this.intervals=this.normalizeIntervals(this.intervals);return this.isWorking=e[0].isWorking}normalizeIntervals(e){const n=(r=e,Array.from(new Set(r)));var r;return n.sort(((e,n)=>n.getPriorityField()-e.getPriorityField())),n}}const binarySearch=(e,n,r=((e,n)=>e-n))=>{let o=0,i=n.length;for(;o<i;){const a=(o+i)/2|0,l=r(e,n[a]);if(0===l)return{found:!0,index:a};l<0?i=a:o=a+1}return{found:!1,index:i}};var Za;!function(e){e[e.Exact=0]="Exact",e[e.Next=1]="Next"}(Za||(Za={}));class SortedMap{constructor(e){this.keys=[],this.values=[],this.comparator=e||((e,n)=>e-n)}set(e,n){const r=binarySearch(e,this.keys,this.comparator);return r.found?this.values[r.index]=n:(this.keys.splice(r.index,0,e),this.values.splice(r.index,0,n)),r.index}insertAt(e,n,r){this.keys.splice(e,0,n),this.values.splice(e,0,r)}setValueAt(e,n){this.values[e]=n}get(e){const n=binarySearch(e,this.keys,this.comparator);return n.found?this.values[n.index]:void 0}getEntryAt(e){return e<this.keys.length?{key:this.keys[e],value:this.values[e]}:void 0}getKeyAt(e){return this.keys[e]}getValueAt(e){return this.values[e]}delete(e){const n=binarySearch(e,this.keys,this.comparator);n.found&&this.deleteAt(n.index)}size(){return this.keys.length}deleteAt(e){this.keys.splice(e,1),this.values.splice(e,1)}indexOfKey(e){const n=binarySearch(e,this.keys,this.comparator);return{found:n.found?Za.Exact:Za.Next,index:n.index}}map(e){const n=this.keys,r=this.values,o=[];for(let i=0;i<n.length;i++)o.push(e(r[i],n[i],i));return o}getAllEntries(){return this.map(((e,n)=>({value:e,key:n})))}clear(){this.keys.length=0,this.values.length=0}}class IntervalCache{constructor(e){if(this.points=new SortedMap(((e,n)=>e.getTime()-n.getTime())),this.leftInfinityKey=Ya,this.rightInfinityKey=Ka,Object.assign(this,e),void 0===this.emptyInterval||!this.combineIntervalsFn)throw new Error("All of `emptyPoint`, `combineIntervalsFn` are required");this.points.set(this.leftInfinityKey,this.emptyInterval)}size(){return this.points.size()}indexOf(e){return this.points.indexOfKey(e)}getDateAt(e){return this.points.getKeyAt(e)}getPointAt(e){return this.points.getValueAt(e)}getIntervalOf(e,n=Xa.Left){let r,{found:o,index:i}=this.indexOf(e);return r=n===Xa.Left&&o===Za.Exact?i:i-1,this.getIntervalWithStartDateIndex(r)}getPrevInterval(e){return 0===e.startDateIndex?null:this.getIntervalWithStartDateIndex(e.startDateIndex-1)}getNextInterval(e){return e.startDateIndex>=this.size()-1?null:this.getIntervalWithStartDateIndex(e.startDateIndex+1)}getIntervalWithStartDateIndex(e){return{startDateIndex:e,startDate:this.getDateAt(e),endDate:e+1<this.size()?this.getDateAt(e+1):this.rightInfinityKey,cacheInterval:this.getPointAt(e)}}addInterval(e,n,r){const o=this.points,{found:i,index:a}=o.indexOfKey(e);let l,c;if(i==Za.Exact){const e=r(c=o.getValueAt(a));o.setValueAt(a,e),l=a+1}else{const n=r(c=o.getValueAt(a-1));o.insertAt(a,e,n),l=a+1}for(;l<o.size();){if(o.getKeyAt(l).getTime()>=n.getTime())break;const e=r(c=o.getValueAt(l));o.setValueAt(l,e),l++}if(l===o.size())o.insertAt(o.size(),n,this.emptyInterval);else{o.getKeyAt(l).getTime()===n.getTime()||o.insertAt(l,n,c)}}includeWrappingRange(e,n,r){let o=e.getIntervalOf(n);for(;o&&(this.addInterval(o.startDate,o.endDate,(e=>this.combineIntervalsFn(e,o.cacheInterval))),!(o.endDate.getTime()>r.getTime()));)o=e.getNextInterval(o)}getSummary(){return this.points.map(((e,n)=>({label:e,date:n})))}clear(){this.points.clear(),this.points.set(this.leftInfinityKey,this.emptyInterval)}}class CalendarCacheSingle extends CalendarCache{constructor(e){if(super(e),this.staticIntervalsCached=!1,!this.unspecifiedTimeInterval)throw new Error("Required attribute `unspecifiedTimeInterval` is missing");this.intervalCache=new IntervalCache({emptyInterval:new CalendarCacheInterval({intervals:[this.unspecifiedTimeInterval],calendar:this.calendar}),combineIntervalsFn:(e,n)=>e.combineWith(n)})}fillCache(e,n){this.staticIntervalsCached||(this.cacheStaticIntervals(),this.staticIntervalsCached=!0),this.parentCache&&this.includeWrappingRangeFrom(this.parentCache,e,n);const r=e.getTime(),o=n.getTime();if(r>o)throw new Error("Invalid cache fill interval");this.forEachRecurrentInterval((i=>{const a=i.getStartDateSchedule(),l=i.getEndDateSchedule();let c=a.prev(1,e),d="EOD"===l?DateHelper.getStartOfNextDay(a.next(1,n),!0):l.next(1,n);if(c!==ja.NEVER&&c.getTime()===r){const n=a.prev(2,e);n!==ja.NEVER&&2===n.length&&(c=n[1])}if(d!==ja.NEVER&&d.getTime()===o){const e=l.next(2,n);e!==ja.NEVER&&2===e.length&&(d=e[1])}const u=a.next(1/0,c!==ja.NEVER?c:e,d!==ja.NEVER?new Date(d.getTime()-1):n);if(u===ja.NEVER)return;const p="EOD"===l?u.map((e=>DateHelper.getStartOfNextDay(e,!0))):l.next(1/0,new Date(u[0].getTime()+1),d!==ja.NEVER?d:n);p!==ja.NEVER&&(p.length>u.length?p.length=u.length:p.length<u.length&&(u.length=p.length),u.forEach(((e,n)=>{const r=e,o=p[n];this.intervalCache.addInterval(r,o,(e=>e.includeInterval(i)))})))}))}clear(){this.staticIntervalsCached=!1,super.clear()}cacheStaticIntervals(){this.forEachStaticInterval((e=>{this.intervalCache.addInterval(e.startDate,e.endDate,(n=>n.includeInterval(e)))}))}forEachStaticInterval(e){this.intervalStore.forEach((n=>{n.isStatic()&&e(n)}))}forEachRecurrentInterval(e){this.intervalStore.forEach((n=>{n.isRecurrent()&&e(n)}))}}class UnspecifiedTimeIntervalModel extends(Mixin([CalendarIntervalMixin],(e=>{e.prototype;return class UnspecifiedTimeIntervalModel extends e{getCalendar(){return this.calendar}getPriorityField(){return null!=this.priorityField?this.priorityField:this.priorityField=this.getCalendar().getDepth()}}}))){}class AbstractCalendarMixin extends(Mixin([AbstractPartOfProjectModelMixin],(e=>{const n=e.prototype;return class CalendarMixin extends e{constructor(){super(...arguments),this.version=1}static get fields(){return[{name:"version",type:"number"},"name",{name:"unspecifiedTimeIsWorking",type:"boolean",defaultValue:!0},"intervals"]}get intervalStoreClass(){return CalendarIntervalStore}afterConstruct(){n.afterConstruct.call(this);const e=this.getDefaultConfiguration().calendarIntervalModelClass||this.intervalStoreClass.defaultConfig.modelClass;this.intervalStore=new this.intervalStoreClass({calendar:this,modelClass:e}),this.intervals&&this.intervals.length&&this.addIntervals(this.intervals)}isDefault(){const e=this.getProject();return!!e&&this===e.defaultCalendar}getDepth(){return this.childLevel+1}forEachAvailabilityInterval(e,n,r){return this.calendarCache.forEachAvailabilityInterval(e,n,r)}accumulateWorkingTime(e,n,r){if(0===n)return{finalDate:new Date(e),remainingDurationInMs:0};if(isNaN(n))throw new Error("Invalid duration");let o=e;return this.forEachAvailabilityInterval(r?{startDate:e,isForward:!0}:{endDate:e,isForward:!1},((e,i,a)=>{let l=!0;if(a.getIsWorking()){let a=i.getTime()-e.getTime();if(this.getProject().adjustDurationToDST){a+=60*(e.getTimezoneOffset()-i.getTimezoneOffset())*1e3}n<=a?(o=r?new Date(e.getTime()+n):new Date(i.getTime()-n),n=0,l=!1):(o=r?i:e,n-=a)}return l})),{finalDate:new Date(o),remainingDurationInMs:n}}calculateDurationMs(e,n){let r=0;return this.forEachAvailabilityInterval({startDate:e,endDate:n},((e,n,o)=>{if(o.getIsWorking()&&(r+=n.getTime()-e.getTime(),this.getProject().adjustDurationToDST)){const o=e.getTimezoneOffset()-n.getTimezoneOffset();r+=60*o*1e3}})),r}calculateEndDate(e,n){const r=n>=0,o=this.accumulateWorkingTime(e,Math.abs(n),r);return 0===o.remainingDurationInMs?o.finalDate:null}calculateStartDate(e,n){const r=n<=0,o=this.accumulateWorkingTime(e,Math.abs(n),r);return 0===o.remainingDurationInMs?o.finalDate:null}skipNonWorkingTime(e,n=!0){let r;const o=this.forEachAvailabilityInterval(n?{startDate:e,isForward:!0}:{endDate:e,isForward:!1},((e,o,i)=>{if(i.getIsWorking())return r=n?e:o,!1}));return o===Qa.MaxRangeReached||o===Qa.FullRangeIterated?"empty_calendar":r?new Date(r):new Date(e)}addInterval(e){return this.addIntervals([e])}addIntervals(e){return this.bumpVersion(),this.intervalStore.add(e)}clearIntervals(e){return e||this.bumpVersion(),this.intervalStore.removeAll(e)}bumpVersion(){this.clearCache(),this.version++}get calendarCache(){if(void 0!==this.$calendarCache)return this.$calendarCache;const e=new UnspecifiedTimeIntervalModel({isWorking:this.unspecifiedTimeIsWorking});return e.calendar=this,this.$calendarCache=new CalendarCacheSingle({calendar:this,unspecifiedTimeInterval:e,intervalStore:this.intervalStore,parentCache:this.parent&&!this.parent.isRoot?this.parent.calendarCache:null})}clearCache(){this.$calendarCache&&this.$calendarCache.clear(),this.$calendarCache=void 0}resetPriorityOfAllIntervals(){this.traverse((e=>{e.intervalStore.forEach((e=>e.resetPriority()))}))}insertChild(e,r,o){let i=n.insertChild.call(this,...arguments);return Array.isArray(i)||(i=[i]),i.forEach((e=>{e.bumpVersion(),e.resetPriorityOfAllIntervals()})),i}joinProject(){n.joinProject.call(this),this.intervalStore.setProject(this.getProject())}leaveProject(){n.leaveProject.call(this),this.intervalStore.setProject(null),this.intervalStore.destroy(),this.clearCache()}doDestroy(){this.leaveProject(),super.doDestroy()}isDayHoliday(e){const n=DateHelper.clearTime(e),r=DateHelper.getNext(e,Na.Day);let o=!1;return this.forEachAvailabilityInterval({startDate:n,endDate:r,isForward:!0},((e,n,r)=>(o=r.getIsWorking(),!o))),!o}getDailyHolidaysRanges(e,n){const r=[];for(e=DateHelper.clearTime(e);e<n;)this.isDayHoliday(e)&&r.push({startDate:e,endDate:DateHelper.getStartOfNextDay(e,!0,!0)}),e=DateHelper.getNext(e,Na.Day);return r}getNonWorkingTimeRanges(e,n){const r=[];return this.forEachAvailabilityInterval({startDate:e,endDate:n,isForward:!0},((e,n,o)=>{if(!o.getIsWorking()){const i=o.intervals[0];r.push({name:i.name,startDate:e,endDate:n})}})),r}isWorkingTime(e,n){const r=this.skipNonWorkingTime(e);return!(!r||"empty_calendar"===r)&&(n?r<n:r.getTime()===e.getTime())}}}))){}class CoreCalendarMixin extends(Mixin([AbstractCalendarMixin,CorePartOfProjectModelMixin],(e=>{e.prototype;return class CoreCalendarMixin extends e{}}))){}class AbstractCalendarManagerStoreMixin extends(Mixin([AbstractPartOfProjectStoreMixin],(e=>{e.prototype;return class AbstractCalendarManagerStoreMixin extends e{doDestroy(){const e=[];this.traverse((n=>e.push(n))),super.doDestroy(),e.forEach((e=>e.destroy()))}}}))){}class CoreCalendarManagerStoreMixin extends(Mixin([AbstractCalendarManagerStoreMixin,CorePartOfProjectStoreMixin],(e=>{e.prototype;return class CoreCalendarManagerStoreMixin extends e{static get defaultConfig(){return{tree:!0,modelClass:CoreCalendarMixin}}}}))){}class EventsWrapper extends(Mixin([],Events)){}class DelayableWrapper extends(Mixin([],Delayable)){}class AbstractProjectMixin extends(Mixin([EventsWrapper,DelayableWrapper,Model],(e=>{const n=e.prototype;return class AbstractProjectMixin extends e{get isRepopulatingStores(){return!1}get isInitialCommit(){return!this.isInitialCommitPerformed||this.hasLoadedDataToCommit}construct(e={}){this.isInitialCommitPerformed=!1,this.isLoadingInlineData=!1,this.isWritingData=!1,this.hasLoadedDataToCommit=!1,n.construct.call(this,e),this.silenceInitialCommit=!("silenceInitialCommit"in e)||e.silenceInitialCommit,this.adjustDurationToDST="adjustDurationToDST"in e&&e.adjustDurationToDST}repopulateStore(e){}repopulateReplica(){}attachStore(e){}detachStore(e){}async commitAsync(){throw new Error("Abstract method called")}isEngineReady(){throw new Error("Abstract method called")}}}))){}class EventsWrapper$1 extends(Mixin([],Events)){}class DelayableWrapper$1 extends(Mixin([],Delayable)){}class SchedulerCoreProjectMixin extends(Mixin([AbstractProjectMixin,CorePartOfProjectGenericMixin,EventsWrapper$1,DelayableWrapper$1,Model],(e=>{const n=e.prototype;class SchedulerCoreProjectMixin extends e{static get defaultConfig(){return{stm:{},eventStore:{},assignmentStore:{},resourceStore:{},dependencyStore:{},calendarManagerStore:{},eventModelClass:SchedulerCoreEvent,assignmentModelClass:CoreAssignmentMixin,resourceModelClass:CoreResourceMixin,dependencyModelClass:CoreDependencyMixin,calendarModelClass:CoreCalendarMixin,eventStoreClass:CoreEventStoreMixin,assignmentStoreClass:CoreAssignmentStoreMixin,resourceStoreClass:CoreResourceStoreMixin,dependencyStoreClass:CoreDependencyStoreMixin,calendarManagerStoreClass:CoreCalendarManagerStoreMixin,assignmentsData:null,calendarsData:null,dependenciesData:null,eventsData:null,resourcesData:null}}construct(e={}){this.$invalidated=new Set,this.isPerformingCommit=!1,this.silenceInitialCommit=!0,this.ongoing=Promise.resolve(),n.construct.call(this,e),this.defaultCalendar=new this.calendarManagerStore.modelClass({unspecifiedTimeIsWorking:this.unspecifiedTimeIsWorking}),this.defaultCalendar.project=this;const{calendarsData:r,eventsData:o,dependenciesData:i,resourcesData:a,assignmentsData:l}=this;Boolean(r||o||i||a||l)?(this.loadInlineData({calendarsData:r,eventsData:o,dependenciesData:i,resourcesData:a,assignmentsData:l}),delete this.calendarsData,delete this.eventsData,delete this.dependenciesData,delete this.resourcesData,delete this.assignmentsData):this.bufferedCommitAsync()}doDestroy(){var e,r,o,i,a,l;const c=this;null===(e=c.eventStore)||void 0===e||e.destroy(),null===(r=c.dependencyStore)||void 0===r||r.destroy(),null===(o=c.assignmentStore)||void 0===o||o.destroy(),null===(i=c.resourceStore)||void 0===i||i.destroy(),null===(a=c.calendarManagerStore)||void 0===a||a.destroy(),c.defaultCalendar.destroy(),null===(l=c.stm)||void 0===l||l.destroy(),n.doDestroy.call(this)}async loadInlineData(e){this.isLoadingInlineData=!0,e.calendarsData&&(this.calendarManagerStore.data=e.calendarsData),e.resourcesData&&(this.resourceStore.data=e.resourcesData),e.assignmentsData&&(this.assignmentStore.data=e.assignmentsData),e.eventsData&&(this.eventStore.data=e.eventsData),e.tasksData&&(this.eventStore.data=e.tasksData),e.dependenciesData&&(this.dependencyStore.data=e.dependenciesData),await this.commitLoad(),this.isLoadingInlineData=!1}async commitLoad(){await this.commitAsync(),this.isDestroyed||this.trigger("load")}joinStoreRecords(e){const fn=e=>{e.setProject(this),e.joinProject()};e.rootNode?e.rootNode.traverse(fn):e.forEach(fn)}unJoinStoreRecords(e){const fn=e=>{e.leaveProject(),e.setProject(this)};e.rootNode?e.rootNode.traverse((n=>{n!==e.rootNode&&fn(n)})):e.forEach(fn)}resolveStoreAndModelClass(e,n){const r=(null==n?void 0:n.storeClass)||this[`${e}StoreClass`];let o=null==n?void 0:n.modelClass;return o||(o=this.getDefaultConfiguration()[`${e}ModelClass`]!==r.getDefaultConfiguration().modelClass?r.getDefaultConfiguration().modelClass:this[`${e}ModelClass`]),{storeClass:r,modelClass:o}}get eventStore(){return this.$eventStore}setEventStore(e){this.eventStore=e}set eventStore(e){const n=this,{stm:r}=n,o=n.$eventStore;if(n.detachStore(o),e instanceof Store)e.project=n,r.addStore(e),n.joinStoreRecords(e);else{const{storeClass:o,modelClass:i}=n.resolveStoreAndModelClass("event",e);e=new o(ObjectHelper.assign({modelClass:i,project:n,stm:r},e))}if(o&&r.hasStore(o)){r.removeStore(o),n.unJoinStoreRecords(o);const{assignmentsForRemoval:i}=o;i.forEach((n=>{const r=n.event;if(r){const o=e.getById(r.id);o&&(n.event=o,i.delete(n))}})),o.afterEventRemoval()}e.setProject(n),n.$eventStore=e,n.attachStore(e),n.trigger("eventStoreChange",{store:e})}get assignmentStore(){return this.$assignmentStore}setAssignmentStore(e){this.assignmentStore=e}set assignmentStore(e){const n=this,{stm:r}=n,o=n.$assignmentStore;if(n.detachStore(o),o&&r.hasStore(o)&&(r.removeStore(o),n.unJoinStoreRecords(o)),e instanceof Store)e.project=n,r.addStore(e),n.joinStoreRecords(e);else{const{storeClass:o,modelClass:i}=n.resolveStoreAndModelClass("assignment",e);e=new o(ObjectHelper.assign({modelClass:i,project:n,stm:r},e))}e.setProject(n),n.$assignmentStore=e,n.attachStore(e),n.trigger("assignmentStoreChange",{store:e})}get resourceStore(){return this.$resourceStore}setResourceStore(e){this.resourceStore=e}set resourceStore(e){const n=this,{stm:r}=n,o=n.$resourceStore;if(n.detachStore(o),e instanceof Store)e.project=n,r.addStore(e),n.joinStoreRecords(e);else{const{storeClass:o,modelClass:i}=n.resolveStoreAndModelClass("resource",e);e=new o(ObjectHelper.assign({modelClass:i,project:n,stm:r},e))}if(o&&r.hasStore(o)){r.removeStore(o),n.unJoinStoreRecords(o);const{assignmentsForRemoval:i}=o;i.forEach((n=>{const r=n.resource;if(r){const o=e.getById(r.id);o&&(n.resource=o,i.delete(n))}})),o.afterResourceRemoval()}e.setProject(n),n.$resourceStore=e,n.attachStore(e),n.trigger("resourceStoreChange",{store:e})}get dependencyStore(){return this.$dependencyStore}setDependencyStore(e){this.dependencyStore=e}set dependencyStore(e){const n=this,r=n.$dependencyStore;if(n.detachStore(r),e instanceof Store)e.project=n,n.stm.addStore(e),n.joinStoreRecords(e);else{const{storeClass:r,modelClass:o}=n.resolveStoreAndModelClass("dependency",e);e=new r(ObjectHelper.assign({modelClass:o,project:n,stm:n.stm},e))}n.$dependencyStore=e,n.attachStore(e),n.trigger("dependencyStoreChange",{store:e})}get calendarManagerStore(){return this.$calendarManagerStore}setCalendarManagerStore(e){this.calendarManagerStore=e}set calendarManagerStore(e){const n=this,r=n.$calendarManagerStore;if(n.detachStore(r),e instanceof Store)n.stm.addStore(e);else{const r=(null==e?void 0:e.storeClass)||n.calendarManagerStoreClass,o=(null==e?void 0:e.modelClass)||r.getDefaultConfiguration().modelClass||n.calendarModelClass;e=new r(ObjectHelper.assign({modelClass:o,project:n,stm:n.stm},e))}e.setProject(n),n.$calendarManagerStore=e,n.attachStore(e),n.trigger("calendarManagerStoreChange",{store:e})}get calendar(){return this.$calendar||this.defaultCalendar}set calendar(e){this.$calendar=e}get effectiveCalendar(){return this.calendar}async addEvent(e){return this.eventStore.add(e),this.commitAsync()}async addAssignment(e){return this.assignmentStore.add(e),this.commitAsync()}async addResource(e){return this.resourceStore.add(e),this.commitAsync()}async addDependency(e){return this.dependencyStore.add(e),this.commitAsync()}bufferedCommitAsync(){this.hasPendingAutoCommit||this.setTimeout({fn:"commitAsync",delay:10})}get hasPendingAutoCommit(){return this.hasTimeout("commitAsync")}unScheduleAutoCommit(){this.clearTimeout("commitAsync")}async commitAsync(){return this.isPerformingCommit?this.ongoing:this.ongoing=this.doCommitAsync()}async doCommitAsync(){const e=this;var n;if(e.isPerformingCommit=!0,e.unScheduleAutoCommit(),await(n=0,new Promise((e=>setTimeout(e,n)))),!e.isDestroyed){for(const n of e.$invalidated)n.calculateInvalidated();const{isInitialCommit:n,silenceInitialCommit:r}=e,o=n&&r;e.assignmentStore.onCommitAsync(),e.dependencyStore.onCommitAsync(),e.isInitialCommitPerformed=!0,e.hasLoadedDataToCommit=!1,e.isPerformingCommit=!1;const i=[e.assignmentStore,e.dependencyStore,e.eventStore,e.resourceStore,e.calendarManagerStore];if(i.forEach((e=>{var n;return null===(n=e.suspendAutoCommit)||void 0===n?void 0:n.call(e)})),e.isWritingData=!0,e.trigger("refresh",{isInitialCommit:n}),o)for(const n of e.$invalidated)n.finalizeInvalidated(!0);else{for(const n of e.$invalidated)n.beginBatch(!0),n.finalizeInvalidated();for(const n of e.$invalidated)n.endBatch(!1,!0)}return e.isWritingData=!1,e.$invalidated.clear(),e.trigger("dataReady"),i.forEach((e=>{var n;return null===(n=e.resumeAutoCommit)||void 0===n?void 0:n.call(e)})),!0}}async propagateAsync(){return this.commitAsync()}invalidate(e){this.$invalidated.add(e),this.bufferedCommitAsync()}async isValidDependency(...e){return!0}getStm(){return this.stm}set stm(e){(e=this.$stm=new StateTrackingManager(ObjectHelper.assign({disabled:!0},e))).on({restoringStop:async()=>{e.disable(),await this.commitAsync(),this.isDestroyed||(e.enable(),this.trigger("stateRestoringDone"))}})}get stm(){return this.$stm}isEngineReady(){return!this.hasPendingAutoCommit&&!this.isPerformingCommit&&this.isInitialCommitPerformed}}return SchedulerCoreProjectMixin.applyConfigs=!0,SchedulerCoreProjectMixin}))){}const Ja=SchedulerCoreProjectMixin;class ProjectModel extends(ProjectModelMixin(Ja)){static get $name(){return"ProjectModel"}construct(...e){super.construct(...e),VersionHelper.isTestEnv&&(BrowserHelper.global.bryntum.testProject=this),this.modelPersistencyManager=this.createModelPersistencyManager()}createModelPersistencyManager(){return new ModelPersistencyManager({eventStore:this,resourceStore:this.resourceStore,assignmentStore:this.assignmentStore,dependencyStore:this.dependencyStore})}doDestroy(){this.modelPersistencyManager.destroy(),super.doDestroy()}get taskStore(){return this.eventStore}}ProjectModel.applyConfigs=!0,ProjectModel.initClass(),ProjectModel._$name="ProjectModel";class CrudManager extends(AbstractCrudManager.mixin(ProjectCrudManager,AjaxTransport,JsonEncoder)){static get defaultConfig(){return{projectClass:ProjectModel,resourceStoreClass:ResourceStore,eventStoreClass:EventStore,assignmentStoreClass:AssignmentStore,dependencyStoreClass:DependencyStore,resourceStore:{},eventStore:{},assignmentStore:{},dependencyStore:{},project:null}}buildProject(){return new this.projectClass(this.buildProjectConfig())}buildProjectConfig(){return ObjectHelper.cleanupProperties({eventStore:this.eventStore,resourceStore:this.resourceStore,assignmentStore:this.assignmentStore,dependencyStore:this.dependencyStore,resourceTimeRangeStore:this.resourceTimeRangeStore})}set project(e){const n=this;e!==n._project&&(n.detachListeners("beforeDataReady"),n.detachListeners("afterDataReady"),n._project=e,e&&(n.eventStore=e.eventStore,n.resourceStore=e.resourceStore,n.assignmentStore=e.assignmentStore,n.dependencyStore=e.dependencyStore,n.timeRangeStore=e.timeRangeStore,n.resourceTimeRangeStore=e.resourceTimeRangeStore,e.on({name:"beforeDataReady",dataReady:()=>n.suspendChangesTracking(),prio:100,thisObj:n}),e.on({name:"afterDataReady",dataReady:()=>n.resumeChangesTracking(),prio:-100,thisObj:n})),n.eventStore||(n.eventStore={}),n.resourceStore||(n.resourceStore={}),n.assignmentStore||(n.assignmentStore={}),n.dependencyStore||(n.dependencyStore={}))}get project(){return this._project}get timeRangesStore(){return this.timeRangeStore}get timeRangeStore(){var e;return null===(e=this._timeRangeStore)||void 0===e?void 0:e.store}set timeRangeStore(e){var n;this.setFeaturedStore("_timeRangeStore",e,null===(n=this.project)||void 0===n?void 0:n.timeRangeStoreClass)}get resourceTimeRangeStore(){var e;return null===(e=this._resourceTimeRangeStore)||void 0===e?void 0:e.store}set resourceTimeRangeStore(e){var n;this.setFeaturedStore("_resourceTimeRangeStore",e,null===(n=this.project)||void 0===n?void 0:n.resourceTimeRangeStoreClass)}get resourceStore(){var e;return null===(e=this._resourceStore)||void 0===e?void 0:e.store}set resourceStore(e){this.setFeaturedStore("_resourceStore",e,this.resourceStoreClass)}get eventStore(){var e;return null===(e=this._eventStore)||void 0===e?void 0:e.store}set eventStore(e){this.setFeaturedStore("_eventStore",e,this.eventStoreClass)}get assignmentStore(){var e;return null===(e=this._assignmentStore)||void 0===e?void 0:e.store}set assignmentStore(e){this.setFeaturedStore("_assignmentStore",e,this.assignmentStoreClass)}get dependencyStore(){var e;return null===(e=this._dependencyStore)||void 0===e?void 0:e.store}set dependencyStore(e){this.setFeaturedStore("_dependencyStore",e,this.dependencyStoreClass)}setFeaturedStore(e,n,r){var o;const i=this,a=null===(o=i[e])||void 0===o?void 0:o.store;var l;a!==n&&(n=Store.getStore(n,(null===(l=n)||void 0===l?void 0:l.storeClass)||r),a&&i.removeStore(a),i[e]=n&&{store:n}||null,i.addPrioritizedStore(i[e]));return i[e]}getChangeSetPackage(){const e=super.getChangeSetPackage();return e&&this.eventStore.usesSingleAssignment&&(delete e[this.assignmentStore.storeId],!this.crudStores.some((n=>e[n.storeId])))?null:e}get crudLoadValidationMandatoryStores(){return[this._eventStore.storeId,this._resourceStore.storeId]}}CrudManager._$name="CrudManager";class ViewPreset extends Model{static get fields(){return[{name:"name",type:"string"},{name:"rowHeight",defaultValue:24},{name:"tickWidth",defaultValue:50},{name:"tickHeight",defaultValue:50},{name:"displayDateFormat",defaultValue:"HH:mm"},{name:"shiftUnit",defaultValue:"hour"},{name:"shiftIncrement",defaultValue:1},{name:"defaultSpan",defaultValue:12},"timeResolution","headers","mainHeaderLevel","columnLinesFor"]}construct(e){super.construct(...arguments),this.normalizeUnits()}generateId(e){const n=this,{headers:r}=n,o=[];let i=Object.getPrototypeOf(n.data).id;if(!i){for(let{length:e}=r,n=e-1;n>=0;n--)o.push(n?r[n].unit:StringHelper.capitalize(r[n].unit));i=o.join("And")}return e.includes(i)&&(i+=`-${n.tickWidth}by${n.tickHeight||n.tickWidth}`,e.includes(i)&&(i+=`-${n.bottomHeader.increment}`,e.includes(i)&&(i=IdHelper.generateId(`${i}-`)))),i}normalizeUnits(){const e=this,{timeResolution:n,headers:r}=e;for(let e=0,{length:n}=r;e<n;e++){const n=r[e];n.unit=DateHelper.normalizeUnit(n.unit),n.splitUnit&&(n.splitUnit=DateHelper.normalizeUnit(n.splitUnit)),"increment"in n||(r[e]=Object.assign({increment:1},n))}n&&(n.unit=DateHelper.normalizeUnit(n.unit)),e.shiftUnit&&(e.shiftUnit=DateHelper.normalizeUnit(e.shiftUnit))}static normalizeHeaderConfig(e){const{headerConfig:n,columnLinesFor:r,mainHeaderLevel:o}=e,i=e.headers=[];if(n.top&&("top"===r&&(e.columnLinesFor=0),"top"===o&&(e.mainHeaderLevel=0),i[0]=n.top),!n.middle)throw new Error("ViewPreset.headerConfig must be configured with a middle");"middle"===r&&(e.columnLinesFor=i.length),"middle"===o&&(e.mainHeaderLevel=i.length),i.push(n.middle),n.bottom&&(e.mainHeaderLevel=i.length-1,null==r?e.columnLinesFor=i.length-1:"bottom"===r&&(e.columnLinesFor=i.length),null==o&&(e.mainHeaderLevel=i.length-1),"bottom"===o&&(e.mainHeaderLevel=i.length),i.push(n.bottom))}set(){}inSet(){}get columnLinesFor(){return"columnLinesFor"in this.data?this.data.columnLinesFor:this.headers.length-1}get tickSize(){return this._tickSize||this.tickWidth}get tickWidth(){return"tickWidth"in this.data?this.data.tickWidth:50}get tickHeight(){return"tickHeight"in this.data?this.data.tickHeight:50}get headerConfig(){if(this.data.headerConfig)return this.data.headerConfig;const e={},{headers:n}=this,{length:r}=n;switch(r){case 1:e.middle=n[0];break;case 2:0===this.mainHeaderLevel?(e.middle=n[0],e.bottom=n[1]):(e.top=n[0],e.middle=n[1]);break;case 3:e.top=n[0],e.middle=n[1],e.bottom=n[2];break;default:throw new Error("headerConfig object not supported for >3 header levels")}return e}set mainHeaderLevel(e){this.data.mainHeaderLevel=e}get mainHeaderLevel(){return"mainHeaderLevel"in this.data?this.data.mainHeaderLevel:3===this.data.headers.length?1:this.headers.length-1}get mainHeader(){return this.headers[this.mainHeaderLevel]}get bottomHeader(){return this.headers[this.headers.length-1]}get leafUnit(){return this.bottomHeader.unit}get leafIncrement(){return this.bottomHeader.increment}get mainUnit(){return this.mainHeader}get msPerPixel(){const{bottomHeader:e}=this;return Math.round(DateHelper.asMilliseconds(e.increment||1,e.unit)/this.tickWidth)}get isValid(){const e=this;let n=!0;for(const r of e.headers)n=n&&Boolean(DateHelper.normalizeUnit(r.unit));return e.timeResolution&&(n=n&&DateHelper.normalizeUnit(e.timeResolution.unit)),e.shiftUnit&&(n=n&&DateHelper.normalizeUnit(e.shiftUnit)),n}}ViewPreset._$name="ViewPreset";class PresetStore extends(Localizable(Store)){static get $name(){return"PresetStore"}static get defaultConfig(){return{useRawData:!0,modelClass:ViewPreset,zoomOrder:1}}set storage(e){super.storage=e,this.storage.addSorter(((e,n)=>{const r=e.bottomHeader,o=n.bottomHeader;return(n.msPerPixel-e.msPerPixel||Ze[r.unit]-Ze[o.unit]||r.increment-o.increment)*this.zoomOrder}))}get storage(){return super.storage}createRecord(e,...n){if(e.base){const n=this.getById(e.base)||el.getById(e.base);e=ObjectHelper.assign({},e),Object.setPrototypeOf(e,n.data)}return super.createRecord(e,...n)}updateLocalization(){super.updateLocalization();const e=this;let n=e.allRecords;e.isPresetManager&&(n=new Set(n.concat(Object.values(e.basePresets)))),n.forEach((n=>{let r=e.optionalL(n.id);"string"==typeof r&&n.baseId&&(r=e.optionalL(n.baseId)),r&&"object"==typeof r&&(n.originalDisplayDateFormat||(n.originalDisplayDateFormat=n.displayDateFormat),0===n.mainHeaderLevel&&r.topDateFormat&&(r.middleDateFormat=r.middleDateFormat||r.topDateFormat),n.setData("displayDateFormat",r.displayDateFormat||n.originalDisplayDateFormat),["top","middle","bottom"].forEach((e=>{const o=n.headerConfig[e],i=r[e+"DateFormat"];o&&(o.originalDateFormat||(o.originalDateFormat=o.dateFormat),i&&o.renderer&&(o.renderer=null),o.dateFormat=i||o.originalDateFormat)})))}))}}PresetStore._$name="PresetStore";const el=new class PresetManager extends PresetStore{static get $name(){return"PresetManager"}static get defaultConfig(){return{preventSubClassingModel:!0,basePresets:{secondAndMinute:{name:"Seconds",tickWidth:30,tickHeight:40,displayDateFormat:"ll LTS",shiftIncrement:10,shiftUnit:"minute",defaultSpan:24,timeResolution:{unit:"second",increment:5},headers:[{unit:"minute",dateFormat:"llll"},{unit:"second",increment:10,dateFormat:"ss"}]},minuteAndHour:{name:"Minutes",tickWidth:60,tickHeight:60,displayDateFormat:"ll LT",shiftIncrement:1,shiftUnit:"hour",defaultSpan:24,timeResolution:{unit:"minute",increment:30},headers:[{unit:"hour",dateFormat:"ddd MM/DD, hA"},{unit:"minute",increment:30,dateFormat:"mm"}]},hourAndDay:{name:"Hours",tickWidth:70,tickHeight:40,displayDateFormat:"ll LT",shiftIncrement:1,shiftUnit:"day",defaultSpan:24,timeResolution:{unit:"minute",increment:30},headers:[{unit:"day",dateFormat:"ddd DD/MM"},{unit:"hour",dateFormat:"LT"}]},day:{name:"Hours 2",displayDateFormat:"LT",shiftIncrement:1,shiftUnit:"day",defaultSpan:1,timeResolution:{unit:"minute",increment:30},mainHeaderLevel:0,headers:[{unit:"day",dateFormat:"ddd DD/MM",splitUnit:"day"},{unit:"hour",renderer:e=>`\n                                    <div class="b-sch-calendarcolumn-ct"><span class="b-sch-calendarcolumn-hours">${DateHelper.format(e,"HH")}</span>\n                                    <span class="b-sch-calendarcolumn-minutes">${DateHelper.format(e,"mm")}</span></div>\n                                `}]},week:{name:"Week/hours",displayDateFormat:"LT",shiftIncrement:1,shiftUnit:"week",defaultSpan:24,timeResolution:{unit:"minute",increment:30},mainHeaderLevel:0,headers:[{unit:"week",dateFormat:"D d",splitUnit:"day"},{unit:"hour",dateFormat:"LT",renderer:e=>`\n                                    <div class="sch-calendarcolumn-ct">\n                                    <span class="sch-calendarcolumn-hours">${DateHelper.format(e,"HH")}</span>\n                                    <span class="sch-calendarcolumn-minutes">${DateHelper.format(e,"mm")}</span>\n                                    </div>\n                                `}]},dayAndWeek:{name:"Days 2",tickWidth:100,tickHeight:80,displayDateFormat:"ll LT",shiftUnit:"day",shiftIncrement:1,defaultSpan:5,timeResolution:{unit:"hour",increment:1},headers:[{unit:"week",renderer:e=>DateHelper.getShortNameOfUnit("week")+"."+DateHelper.format(e,"WW MMM YYYY")},{unit:"day",dateFormat:"dd DD"}]},weekAndDay:{name:"Days",tickWidth:100,tickHeight:80,displayDateFormat:"ll hh:mm A",shiftUnit:"week",shiftIncrement:1,defaultSpan:1,timeResolution:{unit:"day",increment:1},mainHeaderLevel:0,headers:[{unit:"week",dateFormat:"YYYY MMMM DD"},{unit:"day",increment:1,dateFormat:"DD MMM"}]},weekAndMonth:{name:"Weeks",tickWidth:100,tickHeight:105,displayDateFormat:"ll",shiftUnit:"week",shiftIncrement:5,defaultSpan:6,timeResolution:{unit:"day",increment:1},headers:[{unit:"month",dateFormat:"MMM YYYY"},{unit:"week",dateFormat:"DD MMM"}]},weekAndDayLetter:{name:"Weeks 2",tickWidth:20,tickHeight:50,displayDateFormat:"ll",shiftUnit:"week",shiftIncrement:1,defaultSpan:10,timeResolution:{unit:"day",increment:1},mainHeaderLevel:0,headers:[{unit:"week",dateFormat:"ddd DD MMM YYYY",verticalColumnWidth:115},{unit:"day",dateFormat:"d1",verticalColumnWidth:25}]},weekDateAndMonth:{name:"Weeks 3",tickWidth:30,tickHeight:40,displayDateFormat:"ll",shiftUnit:"week",shiftIncrement:1,defaultSpan:10,timeResolution:{unit:"day",increment:1},headers:[{unit:"month",dateFormat:"YYYY MMMM"},{unit:"week",dateFormat:"DD"}]},monthAndYear:{name:"Months",tickWidth:110,tickHeight:110,displayDateFormat:"ll",shiftIncrement:3,shiftUnit:"month",defaultSpan:12,timeResolution:{unit:"day",increment:1},headers:[{unit:"year",dateFormat:"YYYY"},{unit:"month",dateFormat:"MMM YYYY"}]},year:{name:"Years",tickWidth:100,tickHeight:100,resourceColumnWidth:100,displayDateFormat:"ll",shiftUnit:"year",shiftIncrement:1,defaultSpan:1,timeResolution:{unit:"month",increment:1},headers:[{unit:"year",dateFormat:"YYYY"},{unit:"quarter",renderer:(e,n,r)=>DateHelper.getShortNameOfUnit("quarter").toUpperCase()+(Math.floor(e.getMonth()/3)+1)}]},manyYears:{name:"Years 2",tickWidth:40,tickHeight:50,displayDateFormat:"ll",shiftUnit:"year",shiftIncrement:1,defaultSpan:1,timeResolution:{unit:"year",increment:1},mainHeaderLevel:0,headers:[{unit:"year",dateFormat:"YYYY",increment:5},{unit:"year",dateFormat:"YY",increment:1}]}},defaultPresets:["manyYears",{width:80,increment:1,resolution:1,preset:"manyYears",resolutionUnit:"YEAR"},"year",{width:30,increment:1,resolution:1,preset:"year",resolutionUnit:"MONTH"},{width:50,increment:1,resolution:1,preset:"year",resolutionUnit:"MONTH"},{width:200,increment:1,resolution:1,preset:"year",resolutionUnit:"MONTH"},"monthAndYear","weekDateAndMonth","weekAndMonth","weekAndDayLetter","weekAndDay",{width:54,increment:1,resolution:1,preset:"weekAndDay",resolutionUnit:"HOUR"},"hourAndDay",{width:64,increment:6,resolution:30,preset:"hourAndDay",resolutionUnit:"MINUTE"},{width:100,increment:6,resolution:30,preset:"hourAndDay",resolutionUnit:"MINUTE"},{width:64,increment:2,resolution:30,preset:"hourAndDay",resolutionUnit:"MINUTE"},"minuteAndHour",{width:30,increment:15,resolution:5,preset:"minuteAndHour"},{width:130,increment:15,resolution:5,preset:"minuteAndHour"},{width:60,increment:5,resolution:5,preset:"minuteAndHour"},{width:100,increment:5,resolution:5,preset:"minuteAndHour"},"secondAndMinute",{width:60,increment:10,resolution:5,preset:"secondAndMinute"},{width:130,increment:5,resolution:5,preset:"secondAndMinute"}],listeners:{locale:"updateLocalization"}}}set basePresets(e){const n=this._basePresets={};for(const r in e)e[r].id=r,n[r]=this.createRecord(e[r])}get basePresets(){return this._basePresets}set defaultPresets(e){for(let n=0,{length:r}=e;n<r;n++){const r=e[n],o="string"==typeof r,i=o?r:r.preset;let a;if(o)a=this.basePresets[i];else{const e=Object.setPrototypeOf(ObjectHelper.clone(this.basePresets[i].data),{id:i}),{timeResolution:n}=e,o=e.headers[e.headers.length-1];e.id=void 0,"width"in r&&(e.tickWidth=r.width),"height"in r&&(e.tickHeight=r.height),"increment"in r&&(o.increment=r.increment),"resolution"in r&&(n.increment=r.resolution),"resolutionUnit"in r&&(n.unit=DateHelper.getUnitByName(r.resolutionUnit)),a=this.createRecord(e),a.baseId=i}this.add(a)}}getById(e){return super.getById(e)||this.basePresets[e]}registerPreset(e,n){const r=this.createRecord(Object.assign({id:e},n)),o=this.find((e=>e.equals(r)));if(o)return o;if(!r.isValid)throw new Error("Invalid preset, please check your configuration");return this.add(r),r}getPreset(e){return"number"==typeof e&&(e=this.getAt(e)),"string"==typeof e?e=this.getById(e):e instanceof ViewPreset||(e=this.createRecord(e)),e}normalizePreset(e){const n=this;if(!(e instanceof ViewPreset))if("string"==typeof e){if(!(e=n.getPreset(e)))throw new Error("You must define a valid view preset. See PresetManager for reference")}else if("object"==typeof e){if(e.base){const n=this.getById(e.base);if(!n)throw new Error(`ViewPreset base '${e.base}' does not exist`);e=ObjectHelper.merge(ObjectHelper.clone(n.data),e)}e.id?e=n.createRecord(e):(e=n.createRecord(ObjectHelper.assign({},e))).id=e.generateId(e)}return e}deletePreset(e){"string"==typeof e?e=this.getById(e):"number"==typeof e&&(e=this.getAt(e)),e&&(this.remove(e),delete this.basePresets[e.id])}};class Tick extends TimeSpan{get startDate(){return this.data.startDate}get endDate(){return this.data.endDate}}class TimeAxis extends Store{static get defaultConfig(){return{modelClass:Tick,continuous:!0,originalContinuous:null,include:null,autoAdjust:!0,unit:null,increment:null,resolutionUnit:null,resolutionIncrement:null,weekStartDay:null,mainUnit:null,shiftUnit:null,shiftIncrement:1,adjustedStart:null,adjustedEnd:null,visibleTickStart:null,visibleTickEnd:null,defaultSpan:1,tickCache:{},viewPreset:null,useRawData:{disableDuplicateIdCheck:!0,disableDefaultValue:!0,disableTypeConversion:!0}}}construct(e){const n=this;if(super.construct(e),n.originalContinuous=n.continuous,n.on({change:({action:e})=>{"filter"!==e&&n.trigger("reconfigure",{supressRefresh:!1})},refresh:()=>n.trigger("reconfigure",{supressRefresh:!1}),endreconfigure:e=>n.trigger("reconfigure",e)}),n.startDate)n.internalOnReconfigure(),n.trigger("reconfigure");else if(n.viewPreset){const e=n.getAdjustedDates(new Date);n.startDate=e.startDate,n.endDate=e.endDate}}get isTimeAxis(){return!0}reconfigure(e,n=!1,r=!1){const o=this,i=o.getAdjustedDates(e.startDate,e.endDate),a={};if(!1!==o.trigger("beforeReconfigure",{startDate:i.startDate,endDate:i.endDate,config:e})){o.trigger("beginReconfigure"),o._configuredStartDate=e.startDate,o._configuredEndDate=e.endDate;for(const n in e)a[n]=o[n];if(Object.assign(o,e),!1===o.internalOnReconfigure(r))return!1;o.trigger("endReconfigure",{suppressRefresh:n,config:e,oldConfig:a})}}internalOnReconfigure(e=!1){const n=this;n.isConfigured=!0;const r=n.getAdjustedDates(n.startDate,n.endDate,!0),o=n.getAdjustedDates(n.startDate,n.endDate),i=o.startDate,a=o.endDate;if(i>=a)throw new Error(`Invalid start/end dates. Start date must less than end date. Start date: ${i}. End date: ${a}.`);const{unit:l,increment:c=1}=n,d=n.generateTicks(i,a,l,c);n.suspendEvents(),n.data=d;const{count:u}=n;if(0===u){if(e)return n.resumeEvents(),!1;throw new Error("Invalid time axis configuration or filter, please check your input data.")}n.startDate=n.first.startDate,n.endDate=n.last.endDate,n.resumeEvents(),n.isContinuous?(n.adjustedStart=r.startDate,n.adjustedEnd=DateHelper.getNext(u>1?d[u-1].startDate:r.startDate,l,c,n.weekStartDay)):(n.adjustedStart=n.startDate,n.adjustedEnd=n.endDate),n.updateVisibleTickBoundaries(),n.updateTickCache(!0)}updateVisibleTickBoundaries(){const e=this,{count:n,unit:r,startDate:o,endDate:i,weekStartDay:a,increment:l=1}=e,c=DateHelper.getNormalizedUnitDuration(o,r)*l,d=DateHelper.getNormalizedUnitDuration(i,r)*l;do{e.visibleTickStart=(o-e.adjustedStart)/c,e.autoAdjust&&(e.visibleTickStart=Math.floor(e.visibleTickStart)),e.visibleTickStart>=1&&(e.adjustedStart=DateHelper.getNext(e.adjustedStart,r,l,a))}while(e.visibleTickStart>=1);do{e.visibleTickEnd=n-(e.adjustedEnd-i)/d,n-e.visibleTickEnd>=1&&(e.adjustedEnd=DateHelper.getNext(e.adjustedEnd,r,-1,a))}while(n-e.visibleTickEnd>=1);e.fullTicks=!e.visibleTickStart&&e.visibleTickEnd===n}get viewPreset(){return this._viewPreset}set viewPreset(e){if(!((e=el.getPreset(e))instanceof ViewPreset))throw new Error("TimeAxis must be configured with the ViewPreset instance that the Scheduler is using");this._viewPreset=e,Object.assign(this,{unit:e.bottomHeader.unit,increment:e.bottomHeader.increment||1,resolutionUnit:e.timeResolution.unit,resolutionIncrement:e.timeResolution.increment,mainUnit:e.mainHeader.unit,shiftUnit:e.shiftUnit,shiftIncrement:e.shiftIncrement||1,defaultSpan:e.defaultSpan||1,presetName:e.id,headers:e.headers})}set weekStartDay(e){this._weekStartDay=e}get weekStartDay(){return null==this._weekStartDay?DateHelper.weekStartDay:this._weekStartDay}get resolution(){return{unit:this.resolutionUnit,increment:this.resolutionIncrement}}set resolution(e){this.resolutionUnit=e.unit,this.resolutionIncrement=e.increment}get resolutionUnit(){return this._resolutionUnit}set resolutionUnit(e){this._resolutionUnit=e}get resolutionIncrement(){return this._resolutionIncrement}set resolutionIncrement(e){this._resolutionIncrement=e||1}set mainUnit(e){this._mainUnit=e}get mainUnit(){return this._mainUnit}set shiftUnit(e){this._shiftUnit=e}get shiftUnit(){return this._shiftUnit||this._mainUnit}set shiftIncrement(e){this._shiftIncrement=e}get shiftIncrement(){return this._shiftIncrement||1}set unit(e){this._unit=e}get unit(){return this._unit}set increment(e){this._increment=e}get increment(){return this._increment}get defaultSpan(){return this._defaultSpan}set defaultSpan(e){this._defaultSpan=e}setTimeSpan(e,n,r=!1){n&&e-n==0&&(n=null);const o=this,{startDate:i,endDate:a}=o.getAdjustedDates(e,n);if(o.startDate-i!=0||o.endDate-a!=0)return o.reconfigure({startDate:i,endDate:a},!1,r)}shift(e,n=this.shiftUnit){const r=this;let{startDate:o,endDate:i}=r;r.isFiltered&&(o=r.allRecords[0].startDate,i=r.allRecords[r.allCount-1].endDate);let a=0;do{o=DateHelper.add(o,e,n),i=DateHelper.add(i,e,n)}while(a++<100&&!1===r.setTimeSpan(o,i,{preventThrow:!0}))}shiftNext(e=this.shiftIncrement){this.shift(e)}shiftPrevious(e=this.shiftIncrement){this.shift(-e)}filterBy(e,n=this){const r=this;r.filters.clear(),super.filterBy(((r,o)=>e.call(n,r.data,o))),0===r.count&&(r.trigger("invalidFilter"),r.clearFilters())}triggerFilterEvent(e){const n=this;e.filters.count?n.continuous=!1:n.continuous=n.originalContinuous,n.updateTickCache(),super.triggerFilterEvent(e)}get isContinuous(){return!1!==this.continuous&&!this.filtered}getAdjustedDates(e,n,r=!1){const o=this;return n&&e-n==0&&(n=null),e=e||o.startDate,n=n||DateHelper.add(e,o.defaultSpan,o.mainUnit),o.autoAdjust||r?{startDate:o.floorDate(e,!1,o.autoAdjust?o.mainUnit:o.unit,1),endDate:o.ceilDate(n,!1,o.autoAdjust?o.mainUnit:o.unit,1)}:{startDate:e,endDate:n}}get startDate(){return this._start||(this.first?new Date(this.first.startDate):null)}set startDate(e){this._start=DateHelper.parse(e)}get endDate(){return this._end||(this.last?new Date(this.last.endDate):null)}set endDate(e){e&&(this._end=DateHelper.parse(e))}get startMS(){return this._startMS}get endMS(){return this._endMS}floorDate(e,n,r,o){const i=this,a=(n=!1!==n)?DateHelper.clone(i.startDate):null,l=o||i.resolutionIncrement,c=r||(n?i.resolutionUnit:i.mainUnit),snap=(e,n)=>Math.floor(e/n)*n;if(n){const n=snap(DateHelper.diff(a,e,c),l);return DateHelper.add(a,n,c,!1)}const d=DateHelper.clone(e);if("week"===c){const e=d.getDay()||7,n=i.weekStartDay||7;DateHelper.add(DateHelper.startOf(d,"day",!1),e>=n?n-e:-(7-n+e),"day",!1),d.getDay()!==n&&23===d.getHours()&&DateHelper.add(d,1,"hour",!1)}else{DateHelper.startOf(d,c,!1);const e=["day","year"].includes(c)?1:0,n="day"===c?"date":c,r=snap(DateHelper.get(d,n)-e,l)+e;DateHelper.set(d,n,r)}return d}roundDate(e,n,r=this.resolutionUnit,o=this.resolutionIncrement||1){const i=this,a=DateHelper.clone(e);switch(n=DateHelper.clone(n||i.startDate),r){case"week":DateHelper.startOf(a,"day",!1);let e,l=a.getDay()-i.weekStartDay;return l<0&&(l=7+l),e=1===Math.round(l/7)?7-l:-l,DateHelper.add(a,e,"day",!1);case"month":const c=DateHelper.diff(n,a,"month")+DateHelper.as("month",a.getDay()/DateHelper.daysInMonth(a)),d=Math.round(c/o)*o;return DateHelper.add(n,d,"month",!1);case"quarter":return DateHelper.startOf(a,"month",!1),DateHelper.add(a,"month",3-a.getMonth()%3,!1);default:const u=DateHelper.as(r,DateHelper.diff(n,a)),p=DateHelper.as(r,n.getTimezoneOffset()-a.getTimezoneOffset(),"minute"),b=Math.round((u+p)/o)*o;return DateHelper.add(n,b-p,r,!1)}}ceilDate(e,n,r,o){const i=this;n=!1!==n,o=o||(n?i.resolutionIncrement:1);const a=r||(n?i.resolutionUnit:i.mainUnit),l=DateHelper.clone(e);let c=!1;switch(a){case"minute":c=!DateHelper.isStartOf(l,"minute");break;case"hour":c=!DateHelper.isStartOf(l,"hour");break;case"day":case"date":c=!DateHelper.isStartOf(l,"day");break;case"week":DateHelper.startOf(l,"day",!1),c=l.getDay()!==i.weekStartDay||!DateHelper.isEqual(l,e);break;case"month":DateHelper.startOf(l,"day",!1),c=1!==l.getDate()||!DateHelper.isEqual(l,e);break;case"quarter":DateHelper.startOf(l,"day",!1),c=l.getMonth()%3!=0||1!==l.getDate()||!DateHelper.isEqual(l,e);break;case"year":DateHelper.startOf(l,"day",!1),c=0!==l.getMonth()||1!==l.getDate()||!DateHelper.isEqual(l,e)}return c?DateHelper.getNext(l,a,o,i.weekStartDay):l}get include(){return this._include}set include(e){const n=this;n._include=e,n.continuous=!e,n.isConfiguring||(n.startDate=n._configuredStartDate,n.endDate=n._configuredEndDate,n.internalOnReconfigure(),n.trigger("includeChange"))}processExclusion(e,n,r){const{include:o}=this;return!!o&&Object.entries(o).some((([o,i])=>{if(!i)return!1;const{from:a,to:l}=i;if(DateHelper.compareUnits("day",r)>=0&&DateHelper.getLargerUnit(o)===r&&(a&&DateHelper.set(e,o,a),l)){let e=r;"day"===r&&(e="date"),DateHelper.set(n,{[e]:DateHelper.get(n,e)-1,[o]:l})}if(DateHelper.compareUnits(o,r)>=0){const n="day"===o?e.getDay():DateHelper.get(e,o);if(a&&n<a||l&&n>=l)return!0}}))}initExclusion(){Object.entries(this.include).forEach((([e,n])=>{if(n){const{from:r,to:o}=n;n.lengthFactor=DateHelper.getUnitToBaseUnitRatio(e,DateHelper.getLargerUnit(e))/(o-r),n.lengthFactorExcl=DateHelper.getUnitToBaseUnitRatio(e,DateHelper.getLargerUnit(e))/(o-r-1),n.center=r+r/(n.lengthFactor-1)}}))}generateTicks(e,n,r=this.unit,o=this.increment){const i=this,a=[],l=Boolean(i.include);let c,d,u,p=0,{startDate:b,endDate:g}=i.getAdjustedDates(e,n);for(i.tickCache={},l&&i.initExclusion();b<g;){if(c=DateHelper.getNext(b,r,o,i.weekStartDay),!i.autoAdjust&&c>g&&(c=g),"hour"===r&&o>1&&a.length>0&&0===p){const e=a[a.length-1];p=(e.startDate.getHours()+o)%24-e.endDate.getHours(),0!==p&&(c=DateHelper.add(c,p,"hour"))}u=!1,l?(d=new Date(c.getTime()),u=i.processExclusion(b,c,r)):d=c,u||(a.push({id:a.length+1,startDate:b,endDate:c}),i.tickCache[b.getTime()]=a.length-1),b=d}return a}get visibleTickTimeSpan(){const e=this;return e.isContinuous?e.visibleTickEnd-e.visibleTickStart:e.count}getTickFromDate(e){const n=this,r=n.records,o=e.getTime();let i,a,l,c,d=0,u=r.length-1;if(!r.length||e<r[0].startDate||e>r[u].endDate)return-1;if(n.isContinuous){for(;d<u;)i=d+u+1>>1,o>r[i].endDate.getTime()?d=i+1:o<r[i].startDate.getTime()?u=i-1:d=i;return a=r[d],l=a.startDate.getTime(),o>l&&(c=a.endDate.getTime(),d+=(o-l)/(c-l)),Math.min(Math.max(d,n.visibleTickStart),n.visibleTickEnd)}for(let e=0;e<=u;e++)if(c=r[e].endDate.getTime(),o<=c)return l=r[e].startDate.getTime(),a=e+(o>l?(o-l)/(c-l):0),a}getDateFromTick(e,n){const r=this;if(e===r.visibleTickEnd)return r.endDate;const o=Math.floor(e),i=e-o,a=r.getAt(o);if(!a)return null;const l=0===o?r.adjustedStart:a.startDate,c=o===r.count-1&&r.isContinuous?r.adjustedEnd:a.endDate;let d=DateHelper.add(l,i*(c-l),"millisecond");return n&&(d=r[n+"Date"](d)),d}get ticks(){return this.records}updateTickCache(e=!1){const n=this;n.count?(n._start=n.first.startDate,n._end=n.last.endDate,n._startMS=n.startDate.getTime(),n._endMS=n.endDate.getTime()):n._start=n._end=n._startMs=n._endMS=null,e||(n.tickCache={},n.forEach(((e,r)=>n.tickCache[e.startDate.getTime()]=r)))}dateInAxis(e,n=!1){const r=this,o=r.startDate,i=r.endDate;if(r.isContinuous)return n?DateHelper.betweenLesserEqual(e,o,i):DateHelper.betweenLesser(e,o,i);{const o=r.getCount();let i,a,l;for(let c=0;c<o;c++)if(l=r.getAt(c),i=l.startDate,a=l.endDate,n&&e<=a||!n&&e<a)return e>=i}return!1}timeSpanInAxis(e,n){const r=this;return n&&n.getTime()!==e.getTime()?r.isContinuous?DateHelper.intersectSpans(e,n,r.startDate,r.endDate):e<r.startDate&&n>r.endDate||r.getTickFromDate(e)!==r.getTickFromDate(n):this.dateInAxis(e,!0)}isTimeSpanInAxis(e){const n=this,{startMS:r,endMS:o}=n,{startDateMS:i,endDateMS:a}=e;if(!i||!a)return!1;if(a===i)return n.dateInAxis(e.startDate,!0);if(n.isContinuous)return a>r&&i<o;const l=n.getTickFromDate(e.startDate),c=n.getTickFromDate(e.endDate);return!(l===n.count&&DateHelper.isEqual(e.startDate,n.last.endDate)||0===c&&DateHelper.isEqual(e.endDate,n.first.startDate))&&(i<r&&a>o||l!==c)}forEachAuxInterval(e,n=1,r,o=this){const i=this.endDate;let a,l=this.startDate,c=0;if(l>i)throw new Error("Invalid time axis configuration");for(;l<i;)a=DateHelper.min(DateHelper.getNext(l,e,n,this.weekStartDay),i),r.call(o,l,a,c,a>=i),l=a,c++}}TimeAxis._$name="TimeAxis";class RecurrenceLegend extends(Localizable()){static get $name(){return"RecurrenceLegend"}static get allDaysValueAsArray(){return["SU","MO","TU","WE","TH","FR","SA"]}static get allDaysValue(){return this.allDaysValueAsArray.join(",")}static get workingDaysValue(){return this.allDaysValueAsArray.filter(((e,n)=>!DateHelper.nonWorkingDays[n])).join(",")}static get nonWorkingDaysValue(){return this.allDaysValueAsArray.filter(((e,n)=>DateHelper.nonWorkingDays[n])).join(",")}static getLegend(e,n){const r=this,{timeSpan:o,interval:i,days:a,monthDays:l,months:c,positions:d}=e,u=n||o.startDate,p={interval:i};let b;switch(e.frequency){case"DAILY":return 1===i?r.L("L{Daily}"):r.L("L{Every {0} days}",p);case"WEEKLY":return a&&a.length?p.days=r.getDaysLegend(a):u&&(p.days=DateHelper.getDayName(u.getDay())),r.L(1===i?"L{Weekly on {1}}":"L{Every {0} weeks on {1}}",p);case"MONTHLY":return a&&a.length&&d&&d.length?p.days=r.getDaysLegend(a,d):l&&l.length?(l.sort(((e,n)=>e-n)),p.days=r.arrayToText(l)):u&&(p.days=u.getDate()),r.L(1===i?"L{Monthly on {1}}":"L{Every {0} months on {1}}",p);case"YEARLY":return a&&a.length&&d&&d.length?p.days=r.getDaysLegend(a,d):p.days=u.getDate(),c&&c.length?(c.sort(((e,n)=>e-n)),b=c.length>2?e=>DateHelper.getMonthShortName(e-1):e=>DateHelper.getMonthName(e-1),p.months=r.arrayToText(c,b)):p.months=DateHelper.getMonthName(u.getMonth()),r.L(1===i?"L{Yearly on {1} of {2}}":"L{Every {0} years on {1} of {2}}",p)}}static getDaysLegend(e,n){const r=this,o={position:""};let i;if(n&&n.length&&(o.position=r.arrayToText(n,(e=>r.L(`L{position${e}}`)))),e.length)switch(e.sort(((e,n)=>RecurrenceDayRuleEncoder.decodeDay(e)[0]-RecurrenceDayRuleEncoder.decodeDay(n)[0])),e.join(",")){case r.allDaysValue:o.days=r.L("L{day}");break;case r.workingDaysValue:o.days=r.L("L{weekday}");break;case r.nonWorkingDaysValue:o.days=r.L("L{weekend day}");break;default:i=e.length>2?e=>DateHelper.getDayShortName(RecurrenceDayRuleEncoder.decodeDay(e)[0]):e=>DateHelper.getDayName(RecurrenceDayRuleEncoder.decodeDay(e)[0]),o.days=r.arrayToText(e,i)}return r.L("L{daysFormat}",o)}static arrayToText(e,n){return n&&(e=e.map(n)),e.join(", ").replace(/,(?=[^,]*$)/,this.L("L{ and }"))}}RecurrenceLegend._$name="RecurrenceLegend";var AttachToProjectMixin=e=>class AttachToProjectMixin extends e{static get $name(){return"AttachToProjectMixin"}async afterConstruct(){super.afterConstruct();const e=this,n=e.client||e.grid,{project:r}=n;n.projectSubscribers.push(e),r&&(e.attachToProject(r),e.attachToResourceStore(r.resourceStore),e.attachToEventStore(r.eventStore),e.attachToAssignmentStore(r.assignmentStore),e.attachToDependencyStore(r.dependencyStore),e.attachToCalendarManagerStore(r.calendarManagerStore))}attachToProject(e){this.detachListeners("project"),this._project=e}attachToEventStore(e){this.detachListeners("eventStore")}attachToResourceStore(e){this.detachListeners("resourceStore")}attachToAssignmentStore(e){this.detachListeners("assignmentStore")}attachToDependencyStore(e){this.detachListeners("dependencyStore")}attachToCalendarManagerStore(e){this.detachListeners("calendarManagerStore")}get project(){return this._project}get calendarManagerStore(){return this.project.calendarManagerStore}get assignmentStore(){return this.project.assignmentStore}get resourceStore(){return this.project.resourceStore}get eventStore(){return this.project.eventStore}get dependencyStore(){return this.project.dependencyStore}},ProjectConsumer=e=>class ProjectConsumer extends(e||Base){static get $name(){return"ProjectConsumer"}static get declarable(){return["projectStores"]}static get configurable(){return{projectModelClass:ProjectModel,project:{},destroyStores:null,projectSubscribers:[]}}startConfigure(e){this.getConfig("project"),super.startConfigure(e)}changeProject(e,n){const r=this,{projectStoreNames:o,projectDataNames:i}=r.constructor;if(r.projectCallbacks=new Set,e){if(r.buildingProjectConfig=!0,!e.isModel){if(r.isConfiguring){r._project=e;const{crudManager:n}=r;if(n){const{isCrudManager:e}=n;for(const i of o)n[i]&&(r[i]=n[i],e||delete n[i])}r.getConfig("projectStores");for(const e of i)r.getConfig(e)}const{eventStore:n}=e;n&&!n.isEventStoreMixin&&n.autoLoad&&!n.count&&(n.autoLoad=!1,r.delayAutoLoad=!0),e=r._sharedProject||new r.projectModelClass(e),delete r._project}r.buildingProjectConfig=!1}return e}updateProject(e,n){const r=this,{projectListeners:o,crudManager:i}=r;if(r.detachListeners("projectConsumer"),delete r._crudManager,e){o.thisObj=r,e.on(o),e.isCrudManager?r.crudManager=e:i&&(i.project=e,r.crudManager=i),r.projectSubscribers.forEach((n=>n.attachToProject(e)));for(const n of r.constructor.projectStoreNames)r[n]=e[n];r.delayAutoLoad&&(e.eventStore.autoLoad=!0,e.eventStore.load())}r.trigger("projectChange",{project:e})}changeCrudManager(e){if(!this.buildingProjectConfig)return super.changeCrudManager(e);this._crudManager=e.isCrudManager?e:Object.assign({},e)}onProjectDataReady(){this.projectCallbacks.size&&(this.projectCallbacks.forEach((e=>e())),this.projectCallbacks.clear())}whenProjectReady(e){this.isEngineReady?e():this.projectCallbacks.add(e)}get isEngineReady(){var e,n;return Boolean(null===(e=(n=this.project).isEngineReady)||void 0===e?void 0:e.call(n))}doDestroy(){super.doDestroy(),this.destroyStores&&!this.project.isDestroyed&&this.project.destroy()}get projectStores(){const{projectStoreNames:e}=this.constructor;return e.map((e=>this[e]))}static get projectStoreNames(){return Object.keys(this.projectStores)}static get projectDataNames(){return this.projectStoreNames.reduce(((e,n)=>{const{dataName:r}=this.projectStores[n];return r&&e.push(r),e}),[])}static setupProjectStores(e,n){const{projectStores:r}=e;if(r){const e={name:"projectConsumer",dataReady:"onProjectDataReady",change:"relayProjectDataChange"},o={projectListeners:e};for(const i in r){const{dataName:a}=r[i];o[i]=null,a&&Object.defineProperty(n.class.prototype,a,{get(){var e;return null===(e=this.project[i])||void 0===e?void 0:e.records},set(e){const{project:n}=this;this.buildingProjectConfig?n[`${a}Data`]=e:n[i].data=e}}),this.createStoreDescriptor(n,i,r[i],e)}this.setupConfigs(n,o)}}static createStoreDescriptor(e,n,{listeners:r},o){const{prototype:i}=e.class,a=StringHelper.capitalize(n);o[`${n}Change`]=function({store:e}){this[n]=e},i[`change${a}`]=function(e,o){var i;const l=this,{project:c}=l,d=null===(i=e)||void 0===i?void 0:i.project;return l.buildingProjectConfig?(d&&d.isProjectModel&&(l._sharedProject=d),void(c[n]=e)):(l.initializingProject||c[n]!==e&&(c[`set${a}`](e),e=c[n]),e!==o&&(r&&(r.thisObj=l,r.name=`${n}Listeners`,l.detachListeners(r.name),e.on(r)),l.projectSubscribers.forEach((n=>{var r;null===(r=n[`attachTo${a}`])||void 0===r||r.call(n,e)}))),e)}}relayProjectDataChange(e){return this.trigger("dataChange",_objectSpread2(_objectSpread2({project:e.source},e),{},{source:this}))}get widgetClass(){}};class ClockTemplate extends Base{static get defaultConfig(){return{minuteHeight:8,minuteTop:2,hourHeight:8,hourTop:2,handLeft:10,div:document.createElement("div"),scheduler:null,template(e){return`<div class="b-sch-clockwrap b-sch-clock-${e.mode||this.mode} ${e.cls||""}">\n                    <div class="b-sch-clock">\n                        <div class="b-sch-hour-indicator">${DateHelper.format(e.date,"MMM")}</div>\n                        <div class="b-sch-minute-indicator">${DateHelper.format(e.date,"D")}</div>\n                        <div class="b-sch-clock-dot"></div>\n                    </div>\n                    <span class="b-sch-clock-text">${StringHelper.encodeHtml(e.text)}</span>\n                </div>`}}}generateContent(e){const n=this,r=e.date,o=n.template(e),i=n.div;return i.innerHTML=o,n.updateDateIndicator(i,r),i.innerHTML}updateDateIndicator(e,n){const r=null==e?void 0:e.querySelector(".b-sch-hour-indicator"),o=null==e?void 0:e.querySelector(".b-sch-minute-indicator");n&&r&&o&&("hour"===this.mode?(r.style.transform=`rotate(${n.getHours()%12*30}deg)`,o.style.transform=`rotate(${6*n.getMinutes()}deg)`):(r.style.transform="none",o.style.transform="none"))}set mode(e){this._mode=e}get mode(){if(this._mode)return this._mode;const e=DateHelper.compareUnits(this.scheduler.timeAxisViewModel.timeResolution.unit,"day")<0,n=DateHelper.formatContainsHourInfo(this.scheduler.displayDateFormat);return e&&n?"hour":"day"}set template(e){this._template=e}get template(){return this._template}}ClockTemplate._$name="ClockTemplate";class DragBase extends InstancePlugin{static get defaultConfig(){return{tooltipTemplate:e=>`\n                <div class="b-sch-tip-${e.valid?"valid":"invalid"}">\n                    ${e.startClockHtml}\n                    ${e.endClockHtml}\n                    <div class="b-sch-tip-message">${e.message}</div>\n                </div>\n            `,showTooltip:!0,showExactDropPosition:!1,store:null,dragHelperConfig:null,tooltipCls:"b-eventdrag-tooltip"}}static get configurable(){return{constrainDragToTimeline:!0,constrainDragToResource:!0,tip:{$config:["lazy","nullify"],value:{align:{align:"b-t",allowTargetOut:!0},autoShow:!0,updateContentOnMouseMove:!0}}}}static get pluginConfig(){return{chain:["onPaint"]}}onPaint({firstPaint:e}){var n;const r=this,{client:o,constrainDragToTimeline:i,constrainDragToResource:a,constrainDragToTimeSlot:l,dragHelperConfig:c}=r,{timeAxisViewModel:d,isHorizontal:u}=o,p=u?a:l,b=u?l:a;null===(n=r.drag)||void 0===n||n.destroy(),r.drag=DragHelper.new({name:r.constructor.name,mode:"translateXY",lockX:b,lockY:p,minX:!0,maxX:!0,constrain:!1,cloneTarget:!i,dragWithin:i?null:document.body,hideOriginalElement:!0,outerElement:o.timeAxisSubGridElement,targetSelector:o.eventSelector,scrollManager:i?o.scrollManager:null,transitionDuration:o.transitionDuration,snapCoordinates:({element:e,newX:n,newY:i})=>{if(r.constrainDragToTimeline&&!r.constrainDragToTimeSlot&&(r.showExactDropPosition||d.snap)){const a=r.dragData,l=d.getDateFromPosition(r.getCoordinate(a.draggedEntities[0],e,[n,i]),"round"),c=l&&d.getPositionFromDate(l);l&&l>=o.startDate&&null!=c&&(u?n=c:i=c)}return{x:n,y:i}},listeners:{beforedragstart:"onBeforeDragStart",dragstart:"onDragStart",drag:"onDrag",drop:"onDrop",abort:"onDragAbort",reset:"onDragReset",thisObj:r}},c,{isElementDraggable:(e,n)=>(!c||!c.isElementDraggable||c.isElementDraggable(e,n))&&r.isElementDraggable(e,n)}),e&&(o.rowManager.on({changeTotalHeight:"updateYConstraint",thisObj:r}),r.dragTipTemplate&&VersionHelper.deprecate("Scheduler","5.0.0","Deprecated in favor of `tooltipTemplate`, will be removed in 5.0")),r.showTooltip&&(r.clockTemplate=new ClockTemplate({scheduler:o}))}doDestroy(){var e,n,r;null===(e=this.drag)||void 0===e||e.destroy(),null===(n=this.clockTemplate)||void 0===n||n.destroy(),null===(r=this.tip)||void 0===r||r.destroy(),super.doDestroy()}changeTip(e,n){const r=this;if(e){const o=Tooltip.reconfigure(n,Tooltip.mergeConfigs({forElement:r.element,id:`${r.client.id}-event-drag-tip`,getHtml:r.getTipHtml.bind(r),cls:r.tooltipCls,owner:r.client},e),{owner:r.client,defaults:{type:"tooltip"}});return o.on("innerhtmlupdate",r.updateDateIndicator,r),o}null==n||n.destroy()}onBeforeDragStart({context:e,event:n}){const r=this,{client:o}=r,i=o.scheduledEventName,a=r.getMinimalDragData(e,n),l=null==a?void 0:a[`${i}Record`];if(o.readOnly||r.disabled||!l||!1===l.isDraggable)return!1;e.pointerStartDate=o.getDateFromXY([e.startClientX,e.startPageY],null,!1);const c=!1!==o.trigger(`before${StringHelper.capitalize(i)}Drag`,_objectSpread2(_objectSpread2({},a),{},{event:n,context:_objectSpread2(_objectSpread2({},e),a)}));return c&&r.updateYConstraint(l),c}onDragStart({context:e}){const n=this,{client:r}=n;n.currentOverClient=r,n.onMouseOverNewTimeline(r,!0);const o=n.dragData=n.getDragData(e);if(e.element.retainElement=!0,n.showTooltip){const r=o.context.dragProxy?o.context.dragProxy.firstChild:e.element;n.tip.showBy(r)}n.triggerDragStart(o);const{eventMenu:i,taskMenu:a,eventContextMenu:l,taskContextMenu:c}=r.features,d=i||a||l||c;null==d||d.hideContextMenu(!1)}updateDateIndicator(){const{startDate:e,endDate:n}=this.dragData,{tip:r}=this,o=r.element.querySelector(".b-sch-tooltip-enddate");this.clockTemplate.updateDateIndicator(r.element,e),o&&this.clockTemplate.updateDateIndicator(o,n)}onDrag({context:e,event:n}){const r=this,o=r.dragData,i=o.startDate;let a;if(r.constrainDragToTimeline)a=r.client;else{var l;let e=n.target;if(/^touch/.test(n.type)){const n=Rectangle.from(o.context.element,null,!0).center;e=DomHelper.elementFromPoint(n.x,n.y)}a=Widget.fromElement(e,"timelinebase"),a=null!==(l=a)&&void 0!==l&&l.isResourceHistogram?null:a}const c=r.client.features.dependencies;if(!a)return void(c&&c.updateDependenciesForTimeSpan(o.draggedEntities[0],o.context.element));a!==r.currentOverClient&&r.onMouseOverNewTimeline(a),r.updateDragContext(e,n),r.triggerEventDrag(o,i);let d=r.checkDragValidity(o,n);d&&"boolean"!=typeof d&&(e.message=d.message||"",d=d.valid),e.valid=!1!==d,r.showTooltip&&(r.tip.lastAlignSpec.allowTargetOut=!d,r.tip.realign()),c&&c.updateDependenciesForTimeSpan(o.draggedEntities[0],o.context.element,o.newResource)}onMouseOverNewTimeline(e,n){const r=this,{drag:{lockX:o,lockY:i}}=r,a=[];r.currentOverClient.element.classList.remove("b-dragging-"+r.currentOverClient.scheduledEventName),e.element.classList.add("b-dragging-"+e.scheduledEventName),n||r.currentOverClient.scrollManager.stopMonitoring(),o||a.push({element:e.timeAxisSubGrid.scrollable.element,direction:"horizontal"}),i||a.push({element:e.scrollable.element,direction:"vertical"}),e.scrollManager.startMonitoring({scrollables:a,callback:r.drag.onScrollManagerScrollCallback}),r.currentOverClient=e}onDrop({context:e,event:n}){var r;const o=this,{currentOverClient:i,dragData:a}=o;let l=!1;o.updateDragContext(e,n),null===(r=o.tip)||void 0===r||r.hide(),e.valid&&a.startDate&&a.endDate&&(a.finalize=async(...n)=>{await o.finalize(...n),e.finalize(...n)},i.trigger(`before${i.capitalizedEventName}DropFinalize`,{context:a,event:n}),e.async=a.async,!e.async&&o.isValidDrop(a)&&(l=a.startDate-a.origStart!=0||a.newResource!==a.resourceRecord)),e.async||o.finalize(a.valid&&e.valid&&l)}onDragAbort({context:e}){var n;const r=this;r.client.currentOrientation.onDragAbort({context:e,dragData:r.dragData}),r.resetDraggedElements(),null===(n=r.tip)||void 0===n||n.hide(),r.triggerDragAbort(r.dragData)}onDragReset({source:e}){var n;const r=this,{dragData:o}=r,i=r.currentOverClient;null==i||i.scrollManager.stopMonitoring(),null!==(n=e.context)&&void 0!==n&&n.started&&r.resetDraggedElements(),null==i||i.element.classList.remove("b-dragging-"+r.currentOverClient.scheduledEventName),!1===(null==o?void 0:o.context.valid)&&null!=i&&i.features.dependencies&&(null==i||i.features.dependencies.scheduleDraw(!0)),r.dragData=null}resetDraggedElements(){const{dragData:e}=this,{eventBarEls:n,draggedEntities:r}=e;this.resumeElementRedrawing(e.record),r.forEach(((e,r)=>{this.resumeElementRedrawing(e),n[r].classList.remove(this.drag.draggingCls),n[r].retainElement=!1,this.updateSticky(!0)})),n[0].classList.remove("b-drag-main")}onInternalInvalidDrop(){var e;null===(e=this.tip)||void 0===e||e.hide(),this.triggerAfterDrop(this.dragData,!1),this.drag.abort()}async finalize(e){const n=this,{dragData:r}=n;if(!r)return;const{context:o,draggedEntities:i}=r;let a;return i.forEach(((e,o)=>{n.resumeElementRedrawing(e),r.eventBarEls[o].classList.remove(n.drag.draggingCls),r.eventBarEls[o].retainElement=!1})),e?(a=n.updateRecords(r),Objects.isPromise(a)&&(o.async=!0,await a),r.valid?(n.drag.reset(),n.triggerAfterDrop(r,!0)):n.onInternalInvalidDrop()):n.onInternalInvalidDrop(),a}updateDragContext(e,n){const r=this,{drag:o}=r,i=r.dragData,a=r.currentOverClient,{isHorizontal:l}=a,c=i.draggedEntities[0],d=c.isAssignment?c.event:c,u=r.constrainDragToTimeSlot||(l?o.lockX:o.lockY);if(i.browserEvent=n,u)i.timeDiff=0;else{if(a.timeAxis.isContinuous){const{dateConstraints:n}=i,{timeAxisSubGrid:o}=a,{scrollable:l}=o,c=l.viewport,u=a.isHorizontal?e.pageX-c.x+l.x:e.pageY-c.y+l.y,p=a.timeAxisViewModel.getDateFromPosition(u,null,!0),b=i.timeDiff=p-e.pointerStartDate;i.startDate=r.adjustStartDate(i.origStart,b),n&&(i.startDate=DateHelper.constrain(i.startDate,n.start,new Date(n.end-d.durationMS))),i.endDate=new Date(i.startDate-0+i.duration)}else{const n=r.resolveStartEndDates(e.element);i.valid=Boolean(n.startDate&&n.endDate),i.valid&&(i.startDate=n.startDate,i.endDate=n.endDate)}i.valid&&(i.timeDiff=i.startDate-i.origStart)}if(Object.assign(i,r.getProductDragContext(i)),i.valid)if(i.endDate<=a.timeAxis.startDate||i.startDate>=a.timeAxis.endDate)i.context.valid=!1,i.context.message=r.L("L{EventDrag.noDropOutsideTimeline}");else{const e=!n||r.checkDragValidity(i,n);e&&"boolean"!=typeof e?(i.context.valid=!1!==e.valid,i.context.message=e.message):(i.context.valid=!1!==e,i.context.message="")}else i.context.valid=!1;r.updateSticky()}updateSticky(e){const n=this.dragData,r=this.currentOverClient,{stickyEvents:o}=r.features;(n.context.valid||e)&&o&&n.eventBarEls.forEach(((n,r)=>{o.onEventDrag(n,e)}))}suspendElementRedrawing(e,n=!0){const r=this.getRecordElement(e);r&&(r.retainElement=n),e.instanceMeta(this.client).retainElement=n}resumeElementRedrawing(e){this.suspendElementRedrawing(e,!1)}getDragData(e){const n=this,{client:r,drag:o}=n,{record:i,dateConstraints:a,eventBarEls:l,draggedEntities:c}=n.setupProductDragData(e),{startEvent:d}=o,u=i.isAssignment?i.event:i,p=u.startDate,b=u.endDate,g=r.timeAxis,m=p<g.startDate,f=b>g.endDate,v=r.isSchedulerBase?r.multiEventSelect:r.selectionMode.multiSelect,y=n.getCoordinate(u,e.element,[e.elementStartX,e.elementStartY]),x=n.getCoordinate(u,e.element,[e.startClientX,e.startClientY]);c.forEach((e=>n.suspendElementRedrawing(e))),i.isAssignment?r.selectAssignment(i,d.ctrlKey&&v):r.selectEvent(i,d.ctrlKey&&v);const C={context:e,dateConstraints:a,eventBarEls:l,record:i,draggedEntities:c,sourceDate:m?p:r.getDateFromCoordinate(y),screenSourceDate:r.getDateFromCoordinate(x,null,!1),startDate:p,endDate:b,timeDiff:0,origStart:p,origEnd:b,startsOutsideView:m,endsOutsideView:f,duration:b-p,browserEvent:d};if(l.forEach((e=>{e.classList.add(o.draggingCls),e.classList.remove("b-sch-event-hover"),e.classList.remove("b-active")})),l.length>1)if(n.constrainDragToTimeline?e.relatedElements=l.slice(1):e.relatedElements=l.slice(1).map((e=>{const n=DomHelper.getOffsetX(e,o.dragWithin),r=DomHelper.getOffsetY(e,o.dragWithin),i=e.offsetWidth,a=e.offsetHeight,l=o.createProxy(e);return DomHelper.setTranslateXY(l,n,r),l.style.width=`${i}px`,l.style.height=`${a}px`,o.dragWithin.appendChild(l),e.classList.add("b-drag-original"),o.hideOriginalElement&&e.classList.add("b-hidden"),l})),e.relatedElStartPos=[],e.relatedElDragFromPos=[],n.unifiedDrag){n.client.isAnimating=!0,l.forEach((e=>{e.classList.add("b-drag-animation")})),EventHelper.onTransitionEnd({element:l[1],property:"transform",handler(){n.client.isAnimating=!1,l.forEach((e=>{e.classList.remove("b-drag-animation")}))},thisObj:n.client,once:!0}),l[0].classList.add("b-drag-main");let[r,o]=DomHelper.getTranslateXY(e.element);e.relatedElements.forEach(((n,i)=>{e.relatedElStartPos[i]=DomHelper.getTranslateXY(n),r+=10,o+=10,DomHelper.setTranslateXY(n,r,o),e.relatedElDragFromPos[i]=[r,o]}))}else e.relatedElements.forEach(((n,r)=>{e.relatedElStartPos[r]=e.relatedElDragFromPos[r]=DomHelper.getTranslateXY(n)}));return C}setupConstraints(e,n,r,o){const i=this,a=!i.showExactDropPosition&&r>1?r:0;o?i.setXConstraint(e.left,e.right-n.width,a):i.setXConstraint(!0,!0,a),i.setYConstraint(e.top,e.bottom-n.height,0)}updateYConstraint(e){const n=this,{client:r}=n,{context:o}=n.drag,i=r.timeAxisViewModel.snapPixelAmount;if(o&&!n.drag.lockY){let a;if(!n.constrainDragToTimeline)return void n.setYConstraint(null,null,i);a=r.getScheduleRegion(null,e),n.setYConstraint(a.top,a.bottom-o.element.offsetHeight,i)}else n.setYConstraint(null,null,i)}setXConstraint(e,n,r){const{drag:o}=this;o.leftConstraint=e,o.rightConstraint=n,o.minX=e,o.maxX=n}setYConstraint(e,n,r){const{drag:o}=this;o.topConstraint=e,o.bottomConstraint=n,o.minY=e,o.maxY=n}adjustStartDate(e,n){return this.client.timeAxis.roundDate(new Date(e-0+n),!!this.client.snapRelativeToEventStartDate&&e)}resolveStartEndDates(e){const n=this.currentOverClient,{timeAxis:r}=n,o=Rectangle.from(e,n.timeAxisSubGridElement),i=this.dragData;let{start:a,end:l}=n.getStartEndDatesFromRectangle(o,"round",i.duration,!r.isContinuous);if(a&&l)if(a=this.adjustStartDate(a,0),i.startsOutsideView)i.endsOutsideView||(a=l&&DateHelper.add(l,-i.duration,"ms"));else{if(!n.timeAxis.dateInAxis(a,!1)){const e=n.timeAxis.getTickFromDate(a);e>=0&&(a=n.timeAxis.getDateFromTick(e))}l=a&&DateHelper.add(a,i.duration,"ms")}return{startDate:a,endDate:l}}getTipHtml(){const e=this,{dragData:n,client:r}=e,{startDate:o,endDate:i,draggedEntities:a}=n,l=r.getFormattedDate(o),c=r.getFormattedEndDate(i,o),{valid:d,message:u,element:p,dragProxy:b}=n.context,g=b?b.firstChild:p,m=a[0],f=m.isTask?m:m.event,v=e.tooltipTemplate||e.dragTipTemplate;return e.tip.lastAlignSpec.target=g,v({valid:d,startDate:o,endDate:i,startText:l,endText:c,dragData:n,message:u||"",[r.scheduledEventName+"Record"]:f,startClockHtml:e.clockTemplate.template({date:o,text:l,cls:"b-sch-tooltip-startdate"}),endClockHtml:f.isMilestone?"":e.clockTemplate.template({date:i,text:c,cls:"b-sch-tooltip-enddate"})})}set constrainDragToTimeSlot(e){const n=this.client.isHorizontal?"lockX":"lockY";this._constrainDragToTimeSlot=e,this.drag&&(this.drag[n]=e)}get constrainDragToTimeSlot(){return this._constrainDragToTimeSlot}updateConstrainDragToResource(e){const n=this;if(n.drag){const{constrainDragToTimeSlot:r}=n,{isHorizontal:o}=n.client;e&&(n.constrainDragToTimeline=!1),n.drag.lockY=o?e:r,n.drag.lockX=o?r:e}}updateConstrainDragToTimeline(e){this.isConfiguring||Object.assign(this.drag,{cloneTarget:!e,dragWithin:e?null:document.body,scrollManager:e?this.client.scrollManager:null})}getElementFromContext(e){return e.grabbed||e.dragProxy||e.element}getRelatedRecords(e){return[]}getMinimalDragData(e,n){return{}}isValidDrop(e){throw new Error("Implement in subclass")}checkDragValidity(e){throw new Error("Implement in subclass")}updateRecords(e){throw new Error("Implement in subclass")}isElementDraggable(e,n){throw new Error("Implement in subclass")}getCoordinate(e,n,r){throw new Error("Implement in subclass")}setupProductDragData(e){throw new Error("Implement in subclass")}getProductDragContext(e){throw new Error("Implement in subclass")}getRecordElement(e){throw new Error("Implement in subclass")}}DragBase._$name="DragBase";const tl={top:"b-t",right:"b100-t100",bottom:"t-b",left:"b100-t100"};class EventResize extends(InstancePlugin.mixin(Draggable,Droppable)){static get $name(){return"EventResize"}static get configurable(){return{draggingItemCls:"b-sch-event-wrap-resizing",resizingItemInnerCls:"b-sch-event-resizing",leftHandle:!0,rightHandle:!0,topHandle:!0,bottomHandle:!0,handleSize:10,dynamicHandleSize:!0,allowResizeToZero:null,reservedSpace:5,touchHandleSize:30,dragThreshold:0,dragTouchStartDelay:0,draggingClsSelector:".b-timeline-base",showTooltip:!0,showExactResizePosition:!1,validatorFn:()=>!0,validatorFnThisObj:null,tip:{$config:["lazy","nullify"],value:{autoShow:!1,axisLock:!0,trackMouse:!1,updateContentOnMouseMove:!0,hideDelay:0}},tooltipTemplate:e=>`\n                <div class="b-sch-tip-${e.valid?"valid":"invalid"}">\n                    ${e.startClockHtml}\n                    ${e.endClockHtml}\n                    <div class="b-sch-tip-message">${e.message}</div>\n                </div>\n            `,dragActiveCls:"b-resizing-event"}}static get pluginConfig(){return{chain:["render","onEventDataGenerated"]}}render(){const e=this,{client:n}=e;e.dragSelector=e.dragItemSelector=n.eventSelector,e.dragRootElement=e.dropRootElement=n.timeAxisSubGridElement,e.handleSelector||BrowserHelper.isHoverableDevice||(e.handleSize=e.touchHandleSize),e.handleVisibilityThreshold=e.handleVisibilityThreshold||2*e.handleSize,e.dragLock=n.isVertical?"y":"x"}onEventDataGenerated({eventRecord:e,wrapperCls:n,cls:r}){var o,i;e===(null===(o=this.dragging)||void 0===o||null===(i=o.context)||void 0===i?void 0:i.eventRecord)&&(n["b-active"]=n[this.draggingItemCls]=n["b-over-resize-handle"]=r["b-resize-handle"]=r[this.resizingItemInnerCls]=1)}onDragPointerMove(e){var n;const{client:r,dragging:o}=this,{visibleDateRange:i,isHorizontal:a}=r,l=a?"X":"Y",c=window[`page${l}Offset`],d=e[`page${l}`]+((null===(n=o.context)||void 0===n?void 0:n.offset)||0),u=r.timeAxisSubGridElement.getBoundingClientRect(),[p,b]=a?[u.left,u.right]:[u.top,u.bottom];o.date=d-c<p?i.startDate:d-c>b?i.endDate:r.getDateFromCoordinate(d,null,!1),super.onDragPointerMove(e)}beforeDrag(e){const{client:n}=this;return!this.disabled&&!n.readOnly&&!1!==super.beforeDrag(e)&&(e.mousedownDate=e.date=n.getDateFromCoordinate(e.event["page"+(n.isHorizontal?"X":"Y")],null,!1),this.triggerBeforeResize(e))}dragStart(e){var n;const r=this,{client:o,tip:i}=r,a=o.scheduledEventName,l=o.resolveEventRecord(e.itemElement),{isBatchUpdating:c}=l,d=c?l.get("startDate"):l.startDate,u=c?l.get("endDate"):l.endDate,p="x"===r.dragLock,b=r.isOverEndHandle(e.startEvent,e.itemElement),g=b?"endDate":"startDate",m=b?"startDate":"endDate",f=b?"setEndDate":"setStartDate",v=b?"setStartDate":"setEndDate",y=e.itemElement,x=y.getBoundingClientRect(),C=p?e.startEvent.clientX:e.startEvent.clientY,S=b?p?x.right:x.bottom:p?x.left:x.top,D=o.resolveTimeSpanRecord(y),E=e.context={eventRecord:l,timespanRecord:D,element:y,taskRecord:l,owner:r,valid:!0,oldValue:b?u:d,startDate:d,endDate:u,offset:S-C,edge:p?b?"right":"left":b?"bottom":"top",finalize:r.finalize,event:e.event,draggingEnd:b,toSet:g,otherEnd:m,setMethod:f,setOtherMethod:v};l.meta.isResizing=!0,o.element.classList.add(...r.dragActiveCls.split(" ")),o.listenToBatchedUpdates||o.beginListeningForBatchedUpdates(),c||l.beginBatch(),r.setupProductResizeContext(E,e.startEvent),r.triggerEventResizeStart(`${a}ResizeStart`,_objectSpread2({[`${a}Record`]:l,event:e.startEvent},r.getResizeStartParams(E))),E.resizedRecord=(null===(n=o.resolveAssignmentRecord)||void 0===n?void 0:n.call(o,E.element))||l,i&&(i.show(),i.align=tl[e.context.edge],i.showBy(r.getTooltipTarget(e)))}triggerBeforeResize(e){const{client:n}=this,r=n.scheduledEventName,o=n.resolveTimeSpanRecord(e.itemElement);return n.trigger(`before${n.capitalizedEventName}Resize`,_objectSpread2({[r+"Record"]:o,event:e.event},this.getBeforeResizeParams({event:e.startEvent,element:e.itemElement})))}triggerEventResizeStart(e,n){this.client.trigger(e,n)}dragEnter(e){return e.context.owner===this}moveDrag(e){const n=this,{client:r,tip:o}=n,i=r.isHorizontal?"X":"Y",a=r.scheduledEventName,{dependencies:l}=r.features,{visibleDateRange:c,enableEventAnimations:d,timeAxis:u,weekStartDay:p}=r,{resolutionUnit:b,resolutionIncrement:g}=u,{event:m,context:f}=e,{eventRecord:v,offset:y}=f,{isOccurrence:x}=v,C=v.get("startDate"),S=v.get("endDate"),D="x"===n.dragLock,E=m[`client${i}`]+y,k=r.timeAxisSubGridElement.getBoundingClientRect(),[T,_]=D?[k.left,k.right]:[k.top,k.bottom];f.event=m,m.isScroll&&(e.date=r.getDateFromCoordinate(m[`page${i}`]+y,null,!1));let M,R,I,{toSet:F,otherEnd:A,draggingEnd:O}=f;M=E<T?e.date=c.startDate:E>_?e.date=c.endDate:e.date,"endDate"===F?M<C&&(R=-1):M>S&&(R=1),R&&n.onDragEndSwitch&&(n.onDragEndSwitch(f,M,R),A=f.otherEnd,F=f.toSet),r.snapRelativeToEventStartDate&&(M=u.roundDate(M,f.oldValue)),f.snappedDate=DateHelper.round(M,u.resolution,null,p);const P=DateHelper.diff(M,f[A],b)*(O?-1:1);if(n.isEventDragCreate)f.tooNarrow=P<g/2;else if(P<g)if(n.allowResizeToZero)f.snappedDate=M=f[A];else{const e="startDate"===A?1:-1;f.snappedDate=M=u.roundDate(DateHelper.add(v.get(A),g*e,b)),I=!0}if(f.dateConstraints&&(M=DateHelper.constrain(M,f.dateConstraints.start,f.dateConstraints.end),f.snappedDate=DateHelper.constrain(f.snappedDate,f.dateConstraints.start,f.dateConstraints.end)),!f.date||M-f.date||I){if(f.date=M,f[F]=n.showExactResizePosition||r.timeAxisViewModel.snap?f.snappedDate:M,!(f[F]-f["startDate"===F?"endDate":"startDate"]||n.allowResizeToZero))return void(f.valid=!1);if(v.get(F)-f[F]){if(f.valid=n.checkValidity(f,m),f.message="",f.valid&&"boolean"!=typeof f.valid&&(f.message=f.valid.message,f.valid=f.valid.valid),f.valid=!1!==f.valid,f.valid){const n={[`${a}Record`]:v,startDate:C,endDate:S,element:e.itemElement,context:f};n[F]=f[F],r.trigger(`${a}PartialResize`,n),x&&v.stores.push(r.eventStore),r.enableEventAnimations=!1,v.set(F,f[F]),r.enableEventAnimations=d,x&&(v.stores.length=0),l&&!l.isDisabled&&l.updateDependenciesForTimeSpan(v,e.itemElement)}f.tooNarrow&&(f.valid=!1)}}o&&(o.align=tl[e.context.edge],o.alignTo(n.getTooltipTarget(e))),super.moveDrag(e)}dragEnd(e){const{context:n}=e;n&&(n.event=e.event),e.aborted?null==n||n.finalize(!1):this.isEventDragCreate||e.started||EventHelper.getPagePoint(e.event).equals(EventHelper.getPagePoint(e.startEvent))||(this.dragStart(e),this.cleanup(e.context,!1))}async dragDrop({context:e,event:n}){var r;e[e.toSet]=e.snappedDate;const{client:o}=this,{startDate:i,endDate:a}=e;let l;null===(r=this.tip)||void 0===r||r.hide(),e.valid=i&&a&&(this.allowResizeToZero||a-i>0)&&e[e.toSet]-e.oldValue&&!1!==e.valid,e.valid&&(o.trigger(`before${o.capitalizedEventName}ResizeFinalize`,{context:e,event:n}),l=!0),e.async||await e.finalize(l)}async finalize(e){const n=this.owner,r=this,{eventRecord:o,oldValue:i,toSet:a}=r,{snapRelativeToEventStartDate:l,timeAxis:c}=n.client;let d=!1;e?(l&&(r[a]=r.snappedDate=c.roundDate(r.date,i)),d=await n.internalUpdateRecord(r,o)):(o.cancelBatch(),o.isOccurrence&&o.resources.forEach((e=>n.client.repaintEventsForResource(e)))),n.cleanup(r,d)}cleanup(e,n){var r;const o=this,{client:i}=o,{element:a,eventRecord:l}=e,{dependencies:c}=i.features,d=i.scheduledEventName;l.meta.isResizing=!1,i.endListeningForBatchedUpdates(),null===(r=o.tip)||void 0===r||r.hide(),o.unHighlightHandle(a),i.element.classList.remove(...o.dragActiveCls.split(" ")),c&&(c.scheduleDraw(!0),a.matches(":hover")&&c.showTerminals(l,a)),i.trigger(`${d}ResizeEnd`,_objectSpread2({changed:n,[`${d}Record`]:l},o.getResizeEndParams(e)))}async internalUpdateRecord(e,n){const{client:r}=this,{generation:o}=n;if(n.isOccurrence)r.endListeningForBatchedUpdates(),n[n.batching>1?"endBatch":"cancelBatch"](),n.set(TimeSpan.prototype.inSetNormalize.call(n,{startDate:e.startDate,endDate:e.endDate}));else{const o={[e.toSet]:e[e.toSet]};if(n.isEntity){const{startDate:i,endDate:a,draggingEnd:l}=e;e.duration=o.duration=DateHelper.diff(i,a,n.durationUnit),e.duration=o.duration=n.run("calculateProjectedDuration",i,a),o[e.toSet]=n.run("calculateProjectedXDateWithDuration",l?i:a,l,e.duration);const c=!n[e.otherEnd];c&&(o[e.otherEnd]=e[e.otherEnd]),n.set(o),r.endListeningForBatchedUpdates(),n.cancelBatch();const d=[];c&&d.push(n[e.setOtherMethod](o[e.otherEnd],!1)),d.push(n[e.setMethod](o[e.toSet],!1)),await Promise.all(d),n.endBatch()}else{const i=Object.assign({},n.meta.batchChanges);delete i[e.toSet],r.endListeningForBatchedUpdates(),n.cancelBatch(),n.set(i),n[e.setMethod](o[e.toSet],!1)}}return n.generation!==o}onDragItemMouseMove(e){"touch"===e.pointerType||this.handleSelector||this.checkResizeHandles(e)}checkResizeHandles(e){const n=this,{overItem:r}=n;if(r&&!n.client.readOnly&&(!n.allowResize||n.allowResize(r,e))){let o;o="x"===n.dragLock?n.isOverLeftHandle(e,r)||n.isOverRightHandle(e,r):n.isOverTopHandle(e,r)||n.isOverBottomHandle(e,r),o?n.highlightHandle():n.unHighlightHandle()}}onDragItemMouseLeave(e,n){this.unHighlightHandle(n)}highlightHandle(){const{overItem:e}=this;e.syncIdMap[this.client.scheduledEventName].classList.add("b-resize-handle"),e.classList.add("b-over-resize-handle")}unHighlightHandle(e=this.overItem){if(e){var n,r;const o=null!==(n=null===(r=e.syncIdMap)||void 0===r?void 0:r[this.client.scheduledEventName])&&void 0!==n?n:e.querySelector(this.client.eventInnerSelector);o.classList.remove("b-resize-handle"),o.classList.remove(this.resizingItemInnerCls),e.classList.remove("b-over-resize-handle"),e.classList.remove(this.draggingItemCls)}}isOverAnyHandle(e,n){return this.isOverStartHandle(e,n)||this.isOverEndHandle(e,n)}isOverStartHandle(e,n){return"x"===this.dragLock?this.isOverLeftHandle(e,n):this.isOverTopHandle(e,n)}isOverEndHandle(e,n){return"x"===this.dragLock?this.isOverRightHandle(e,n):this.isOverBottomHandle(e,n)}getDynamicHandleSize(e,n){const r=e?2:1,{handleSize:o}=this;return this.dynamicHandleSize&&o*r>n-this.reservedSpace?Math.max(Math.floor((n-this.reservedSpace)/r),0):o}isOverLeftHandle(e,n){const r=this,{offsetWidth:o}=n,i=r.client.resolveTimeSpanRecord(n),a=null==i?void 0:i.isResizable;if(!r.disabled&&r.leftHandle&&(o>=r.handleVisibilityThreshold||r.dynamicHandleSize)&&(!0===a||"start"===a)){const i=Rectangle.from(n);return i.width=r.getDynamicHandleSize(r.rightHandle,o),i.width>0&&i.contains(EventHelper.getPagePoint(e))}return!1}isOverRightHandle(e,n){const r=this,{offsetWidth:o}=n,i=r.client.resolveTimeSpanRecord(n),a=null==i?void 0:i.isResizable;if(!r.disabled&&r.rightHandle&&(o>=r.handleVisibilityThreshold||r.dynamicHandleSize)&&(!0===a||"end"===a)){const i=Rectangle.from(n);return i.x=Math.floor(i.right-r.getDynamicHandleSize(r.leftHandle,o)),i.width>0&&i.contains(EventHelper.getPagePoint(e))}return!1}isOverTopHandle(e,n){const r=this,{offsetHeight:o}=n,i=r.client.resolveTimeSpanRecord(n),a=null==i?void 0:i.isResizable;if(!r.disabled&&r.topHandle&&(o>=r.handleVisibilityThreshold||r.dynamicHandleSize)&&(!0===a||"start"===a)){const i=Rectangle.from(n);return i.height=r.getDynamicHandleSize(r.bottomHandle,o),i.height>0&&i.contains(EventHelper.getPagePoint(e))}return!1}isOverBottomHandle(e,n){const r=this,{offsetHeight:o}=n,i=r.client.resolveTimeSpanRecord(n),a=null==i?void 0:i.isResizable;if(!r.disabled&&r.bottomHandle&&(o>=r.handleVisibilityThreshold||r.dynamicHandleSize)&&(!0===a||"end"===a)){const i=Rectangle.from(n);return i.y=Math.floor(i.bottom-r.getDynamicHandleSize(r.bottomHandle,o)),i.height>0&&i.contains(EventHelper.getPagePoint(e))}return!1}setupDragContext(e){const n=this;if(n.overItem&&n.isOverAnyHandle(e,n.overItem)&&n.isElementResizable(n.overItem,e)){const r=super.setupDragContext(e);return r.scrollManager=n.client.scrollManager,r}}changeTip(e,n){const r=this;if(!r.showTooltip)return null;if(e)e.isTooltip?e.owner=r:e=Tooltip.reconfigure(n,Tooltip.mergeConfigs({id:`${r.client.id}-event-resize-tip`},e,{getHtml:r.getTipHtml.bind(r),owner:r.client},r.tip),{owner:r,defaults:{type:"tooltip"}}),e.on({innerhtmlupdate:"updateDateIndicator",thisObj:r}),r.clockTemplate=new ClockTemplate({scheduler:r.client});else if(n){var o;n.destroy(),null===(o=r.clockTemplate)||void 0===o||o.destroy()}return e}isElementResizable(e,n){const r=this,{client:o}=r,i=o.resolveTimeSpanRecord(e);if(o.readOnly)return!1;let a=i&&i.isResizable;const l=(e=DomHelper.up(n.target,o.eventSelector))?e.firstElementChild:e,c=n.target.closest('[class$="-handle"]');if(!a||c&&c!==l)return!1;const d=e.classList.contains("b-sch-event-startsoutside"),u=e.classList.contains("b-sch-event-endsoutside");if(!0===a){if(d&&u)return!1;if(d)a="end";else{if(!u)return r.isOverStartHandle(n,e)||r.isOverEndHandle(n,e);a="start"}}return!(d&&"start"===a||u&&"end"===a)&&!!(r.isOverStartHandle(n,e)&&"start"===a||r.isOverEndHandle(n,e)&&"end"===a)}updateDateIndicator(){const{clockTemplate:e}=this,{eventRecord:n,draggingEnd:r,snappedDate:o}=this.dragging.context,i=r?n.get("startDate"):o,a=r?o:n.get("endDate"),{element:l}=this.tip;e.updateDateIndicator(l.querySelector(".b-sch-tooltip-startdate"),i),e.updateDateIndicator(l.querySelector(".b-sch-tooltip-enddate"),a)}getTooltipTarget(e){const n=this,r=Rectangle.from(e.itemElement,null,!0);return"x"===n.dragLock?("right"===e.context.edge&&(r.x=r.right-1),r.width=n.tip.anchorSize[0]/2):("bottom"===e.context.edge&&(r.y=r.bottom-1),r.height=n.tip.anchorSize[1]/2),{target:r}}basicValidityCheck(e,n){return e.startDate&&(e.endDate>e.startDate||this.allowResizeToZero)&&this.validatorFn.call(this.validatorFnThisObj||this,e,n)}getTipHtml({tip:e}){const n=this,{startDate:r,endDate:o,toSet:i,snappedDate:a,valid:l,message:c="",timespanRecord:d}=n.dragging.context;if(!r||!o)return e.html;const u={record:d,valid:l,message:c,startDate:r,endDate:o,[i]:a};return u.startText=n.client.getFormattedDate(u.startDate),u.endText=n.client.getFormattedDate(u.endDate),u.startClockHtml=n.clockTemplate.template({date:u.startDate,text:u.startText,cls:"b-sch-tooltip-startdate"}),u.endClockHtml=n.clockTemplate.template({date:u.endDate,text:u.endText,cls:"b-sch-tooltip-enddate"}),n.tooltipTemplate(u)}getBeforeResizeParams(e){const{client:n}=this;return{resourceRecord:n.resolveResourceRecord(n.isVertical?e.event:e.element)}}getResizeStartParams(e){return{resourceRecord:e.resourceRecord}}getResizeEndParams(e){return{resourceRecord:e.resourceRecord,event:e.event}}setupProductResizeContext(e,n){var r,o;const{client:i}=this,{element:a}=e,l=i.resolveEventRecord(a),c=null===(r=i.resolveResourceRecord)||void 0===r?void 0:r.call(i,a),d=null===(o=i.resolveAssignmentRecord)||void 0===o?void 0:o.call(i,a);Object.assign(e,{eventRecord:l,taskRecord:l,resourceRecord:c,assignmentRecord:d,dateConstraints:i.getDateConstraints(c,l)})}checkValidity(e,n){return(this.client.allowOverlap||this.client.isDateRangeAvailable(e.startDate,e.endDate,e.eventRecord,e.resourceRecord))&&this.basicValidityCheck(e,n)}}EventResize._$name="EventResize",GridFeatureManager.registerFeature(EventResize,!0,"Scheduler"),GridFeatureManager.registerFeature(EventResize,!1,"ResourceHistogram");const getDragCreateDragDistance=function(e){var n,r;return(null===(n=this.source)||void 0===n||null===(r=n.client.features.taskEdit)||void 0===r||!r._canceling)&&EventHelper.getDistanceBetween(this.startEvent,e)};class DragCreateBase extends EventResize{static get configurable(){return{showTooltip:!0,dragTolerance:2,preventMultiple:!1,dragTouchStartDelay:300,validatorFnThisObj:null,proxyCls:"b-sch-dragcreator-proxy",tipTemplate:e=>`\n                <div class="b-sch-tip-${e.valid?"valid":"invalid"}">\n                    ${e.startClockHtml}\n                    ${e.endClockHtml}\n                    <div class="b-sch-tip-message">${e.message}</div>\n                </div>\n            `,dragActiveCls:"b-dragcreating"}}static get pluginConfig(){return{chain:["render","onEventDataGenerated"],before:["onElementContextMenu"]}}construct(e,n){!1===(null==n?void 0:n.showTooltip)&&(n.tip=null),super.construct(...arguments)}changeValidatorFn(e){this.createValidatorFn=e}render(){const e=this,{client:n}=e;e.dragRootElement=e.dropRootElement=n.timeAxisSubGridElement,e.dragLock=n.isVertical?"y":"x"}onDragEndSwitch(e){const{client:n}=this,{enableEventAnimations:r}=n,{eventRecord:o,draggingEnd:i}=e,a="x"===this.dragLock,{initialDate:l}=this.dragging;n.enableEventAnimations=!1,o.set({startDate:l,endDate:l}),i?Object.assign(e,{endDate:l,toSet:"startDate",otherEnd:"endDate",setMethod:"setStartDate",edge:a?"left":"top"}):Object.assign(e,{startDate:l,toSet:"endDate",otherEnd:"startDate",setMethod:"setEndDate",edge:a?"right":"bottom"}),e.draggingEnd=this.draggingEnd=!i,n.enableEventAnimations=r}beforeDrag(e){const n=super.beforeDrag(e);return(!1===n||!(this.preventMultiple&&!this.isRowEmpty(e.rowRecord)||this.disabled))&&n}startDrag(e){const n=super.startDrag(e);return!1!==n&&(this.client.trigger("dragCreateStart",{proxyElement:e.element}),e.context.offset=0,e.context.oldValue=e.mousedownDate),n}isOverEndHandle(){return this.draggingEnd}setupDragContext(e){var n,r;const{client:o}=this;if(null!==(n=(r=e.target).closest)&&void 0!==n&&n.call(r,`.${o.timeAxisColumn.cellCls}`)){const n=o.resolveResourceRecord(e);if(n&&!n.isSpecialRow){const r=Draggable().prototype.setupDragContext.call(this,e),i=[];return o.isVertical?i.push({element:o.scrollable.element,direction:"vertical"}):i.push({element:o.timeAxisSubGrid.scrollable.element,direction:"horizontal"}),r.scrollManager=o.scrollManager,r.monitoringConfig={scrollables:i},r.resourceRecord=r.rowRecord=n,r.getDistance=getDragCreateDragDistance,r}}}async dragDrop({context:e,event:n}){var r;e[e.toSet]=e.snappedDate;const{client:o}=this,{startDate:i,endDate:a,eventRecord:l}=e,{generation:c}=l;let d;null===(r=this.tip)||void 0===r||r.hide(),await o.project.commitAsync(),l.generation!==c&&(e.eventRecord[e.toSet]=e.oldValue,e.eventRecord[e.toSet]=e[e.toSet]),e.valid=i&&a&&a-i>0&&e[e.toSet]-e.oldValue&&!1!==e.valid,e.valid&&(o.trigger("beforeDragCreateFinalize",{context:e,event:n,proxyElement:e.element}),d=!0),e.async||await e.finalize(d)}updateDragTolerance(e){this.dragThreshold=e}changeTip(e,n){return super.changeTip(!e||e.isTooltip?e:ObjectHelper.assign({id:`${this.client.id}-drag-create-tip`},e),n)}async finalize(e){const n=this.owner,r=this,completeFinalization=()=>{n.isDestroyed||(n.client.trigger("afterDragCreate",{proxyElement:r.element}),n.cleanup(r))};var o;e?(await n.finalizeDragCreate(r),completeFinalization()):(null===(o=n.onAborted)||void 0===o||o.call(n,r),completeFinalization())}async finalizeDragCreate(e){await this.internalUpdateRecord(e,e.eventRecord),this.client.trigger("dragCreateEnd",{eventRecord:e.eventRecord,newEventRecord:e.eventRecord,resourceRecord:e.resourceRecord,event:e.event,eventElement:e.element,proxyElement:e.element})}cleanup(e){var n;const{client:r}=this,{eventRecord:o}=e;o.meta.isResizing=!1,r.endListeningForBatchedUpdates(),null===(n=this.tip)||void 0===n||n.hide(),r.element.classList.remove(...this.dragActiveCls.split(" "))}onElementContextMenu(){if(this.proxy)return!1}prepareCreateContextForFinalization(e,n,r,o=!1){return Object.assign({},e,{async:o,event:n,finalize:r})}onEventDataGenerated(e){var n,r;(null===(n=this.dragging)||void 0===n||null===(r=n.context)||void 0===r?void 0:r.eventRecord)===e.eventRecord&&(e.wrapperCls["b-sch-dragcreating"]=!0,e.wrapperCls["b-too-narrow"]=this.dragging.context.tooNarrow)}triggerBeforeResize(){}triggerEventResizeStart(){}checkValidity(e,n){throw new Error("Implement in subclass")}triggerDragCreateEnd(e,n){throw new Error("Implement in subclass")}handleBeforeDragCreate(e,n){throw new Error("Implement in subclass")}isRowEmpty(e){throw new Error("Implement in subclass")}}DragCreateBase._$name="DragCreateBase";const nl=DateHelper,makeDate=e=>{if(1===e.length)return e[0].value;if(2===e.length){const[n,r]=e[0]instanceof DateField?e:e.reverse(),o=nl.parse(n.value);return o&&o.setHours(r.value.getHours(),r.value.getMinutes(),r.value.getSeconds(),r.value.getMilliseconds()),o?DateHelper.clone(o):null}return null},adjustEndDate=(e,n,r)=>{if(e&&n&&r.endDateField&&r.endTimeField){const e=nl.add(((e,n)=>{const r=new Date(e.getTime());return r.setHours(n.getHours(),n.getMinutes()),r})(r.startDateField.value,r.startTimeField.value),r.eventRecord.durationMS,"milliseconds");r.endDateField.value=e,r.endTimeField.value=nl.clone(e)}};class EditBase extends InstancePlugin{static get configurable(){return{autoClose:!0,saveAndCloseOnEnter:!0,triggerEvent:null,showDeleteButton:!0,showNameField:!0,startTimeConfig:null,startDateConfig:null,endTimeConfig:null,endDateConfig:null,dateFormat:"L",timeFormat:"LT",editorConfig:null,extraItems:null,items:null,weekStartDay:null}}construct(e,n){const r=this;e.eventEdit=r,super.construct(e,ObjectHelper.assign({weekStartDay:e.weekStartDay},n)),r.clientListenersDetacher=e.on({[r.triggerEvent]:"onActivateEditor",dragCreateEnd:"onDragCreateEnd",eventAutoCreated:"onEventAutoCreated",thisObj:r})}doDestroy(){var e;this.clientListenersDetacher(),null===(e=this.editor)||void 0===e||e.destroy(),super.doDestroy()}changeEditorConfig(e){const{items:n,extraItems:r}=this;return r?(e=Objects.clone(e),e=this.insertExtraWidgetsIntoDefaultWidgets(e)):n&&((e=Objects.clone(e)).items=Config.merge(n,e.items)),e}changeItems(e){return this.cleanItemsConfig(e),e}cleanItemsConfig(e){for(const n in e){const r=e[n];!0===r?delete e[n]:null!=r&&r.items&&this.cleanItemsConfig(r.items)}}insertExtraWidgetsIntoDefaultWidgets(e){VersionHelper.deprecate("Scheduler","5.0.0","extraItems replaced by items in EditFeature.");const{extraItems:n}=this,{items:r}=e,o=Array.isArray(n)?n:n&&Object.values(n);if(!n||!Object.keys(o).length)return e;if(Object.values(o).some((e=>"index"in e))){const o=Array.isArray(n)?n:n&&ObjectHelper.transformNamedObjectToArray(n);VersionHelper.deprecate("Scheduler","5.0.0","index in extraItems replaced by weight to sort editor items");let i,a=ObjectHelper.transformNamedObjectToArray(r),l=a[a.length-1],c=a.findIndex((e=>"extraItems"===e.type));c>-1&&(a.splice(c,1),i=a.splice(c));const d=o.filter((e=>e.index>=0)),u=o.filter((e=>!(e.index>=0)));u.forEach(((e,n)=>e.weight=l.weight+100*n)),a=a.concat(u),d.sort(((e,n)=>e.index-n.index)),d.forEach((e=>{const n=a[Math.min(e.index,a.length)-1];e.weight=n?n.weight+1:-100,a.splice(e.index,0,e)})),i&&i.length&&(a=a.concat(i)),e.items=ObjectHelper.transformArrayToNamedObject(a)}else{let o=900;for(const e of Array.isArray(n)?n:Object.values(n))e.ref||(e.ref=e.id),e.weight=o+=100;e.items=_objectSpread2(_objectSpread2({},r),Array.isArray(n)?ObjectHelper.transformArrayToNamedObject(n):n)}return e}onDatesChange(e){const n=this,r=e.source,o=e.value;switch(r.ref){case"startDateField":n.startTimeField&&adjustEndDate(o,n.startTimeField.value,n);break;case"startTimeField":n.startDateField&&adjustEndDate(n.startDateField.value,o,n)}var i,a;(n.startDateField&&n.endDateField&&(n.endDateField.min=n.startDateField.value),n.endTimeField)&&(nl.isEqual(nl.clearTime(null===(i=n.startDateField)||void 0===i?void 0:i.value),nl.clearTime(null===(a=n.endDateField)||void 0===a?void 0:a.value))?n.endTimeField.min=n.startTimeField.value:n.endTimeField.min=null)}async save(){throw new Error("Implement in subclass")}get values(){const e=this,{editor:n}=e,r=[],o=[],i={};return n.eachWidget((a=>{var l;const c=a.name;if(c&&!a.hidden&&!a.up((n=>n===e.recurrenceEditor)))switch(c){case"startDate":r.push(a);break;case"endDate":o.push(a);break;case"resource":i[c]=a.record;break;case"recurrenceRule":i[c]="none"===(null===(l=n.widgetMap.recurrenceCombo)||void 0===l?void 0:l.value)?"":a.value;break;default:i[c]=a.value}}),!0),i.allDay&&!e.eventRecord.allDay&&(r.push(e.startTimeField),o.push(e.endTimeField)),r.length&&(i.startDate=makeDate(r)),o.length&&(i.endDate=makeDate(o)),"startDate"in i&&"endDate"in i&&(i.duration=nl.diff(i.startDate,i.endDate,e.editor.record.durationUnit,!0)),i}onBeforeSave(e){}onAfterSave(e){}updateRecord(e){const{values:n}=this;return this.assignmentStore&&delete n.resource,e.set(n)}onBeforeEditorShow(){const{eventRecord:e,editor:n}=this.editingContext,{nameField:r}=n.widgetMap;r&&e.isCreating&&(n._isSettingValues=!0,r.value="",n._isSettingValues=!1,r._configuredPlaceholder=r.placeholder,r.placeholder=e.name)}resetEditingContext(){const e=this,{eventRecord:n,client:r}=e,{eventStore:o}=r,{nameField:i}=e.editor.widgetMap;if(n.isCreating){var a;if(r.isTimelineBase)null===(a=e.editingContext.eventElement)||void 0===a||a.closest("[data-event-id]").classList.add("b-released");o.remove(n),n.isCreating=!1}i&&(i.placeholder=i._configuredPlaceholder),e.targetEventElement=null,e.client.element.classList.remove("b-eventeditor-editing")}onPopupKeyDown({event:e}){const n=this;!n.readOnly&&"Enter"===e.key&&n.saveAndCloseOnEnter&&"input"===e.target.tagName.toLowerCase()&&(e.preventDefault(),"startDate"===e.target.name&&adjustEndDate(n.startDateField.value,n.startTimeField.value,n),n.onSaveClick())}async onSaveClick(){this.editor.focus();const e=await this.save();return e&&this.editor.close(),e}async onDeleteClick(){await this.deleteEvent()&&(this.editor.autoClose&&!this.editor.containsFocus||this.editor.close())}onCancelClick(){this.editor.close()}}EditBase._$name="EditBase";class ResourceTimeRangesBase extends(InstancePlugin.mixin(AttachToProjectMixin)){static get configurable(){return{tabIndex:null}}static get pluginConfig(){return{chain:["getEventsToRender","onEventDataGenerated","noFeatureElementsInAxis"]}}noFeatureElementsInAxis(){const{timeAxis:e}=this.client;return!this.needsRefresh&&this.store&&!this.store.storage.values.some((n=>e.isTimeSpanInAxis(n)))}doDisable(e){this.client.isPainted&&this.client.refresh(),super.doDisable(e)}updateTabIndex(){this.isConfiguring||this.client.refresh()}getEventsToRender(e,n){throw new Error("Implement in subclass")}onEventDataGenerated(e){const n=this,{eventRecord:r,iconCls:o}=e;n.shouldInclude(r)&&(n.client.isVertical?e.width=n.client.resourceColumnWidth:e.top=0,e.fillSize=!0,e.wrapperCls[n.rangeCls]=1,e.wrapperCls[`b-sch-color-${r.timeRangeColor}`]=r.timeRangeColor,e.eventContent.text=r.name,e.children.push(e.eventContent),e.tabIndex=null!=n.tabIndex?String(n.tabIndex):null,(null==o?void 0:o.length)>0&&e.children.unshift({tag:"i",className:o.toString()}),e.eventId=n.generateElementId(r))}generateElementId(e){return e.domId}shouldInclude(e){throw new Error("Implement in subclass")}onStoreChange(e){"removeall"!==e.action&&"dataset"!==e.action||(this.needsRefresh=!0),this.client.onInternalEventStoreChange(e),this.needsRefresh=!1}}ResourceTimeRangesBase.featureClass="",ResourceTimeRangesBase._$name="ResourceTimeRangesBase";class TimeSpanMenuBase extends ContextMenuBase{}function applyNamedItems(e,n){for(const r in e){let o=e[r];if(o){r in n&&(o=e[r]="object"==typeof o?ObjectHelper.merge(ObjectHelper.clone(n[r]),o):n[r]);const i=o.menu;i&&applyNamedItems("items"in i?i.items:i,n)}}}TimeSpanMenuBase._$name="TimeSpanMenuBase";class TimeSpanRecordContextMenuBase extends InstancePlugin{static get defaultConfig(){return{defaultItems:null,items:null,processItems:null,triggerEvent:null}}static get pluginConfig(){return{assign:["showEventContextMenu"],chain:["onElementContextMenu","onElementClick","onElementDblClick","onEventSpaceKey"]}}construct(e,n){super.construct(e,n),VersionHelper.deprecate("Scheduler","5.0.0","`TimeSpanRecordContextMenuBase` feature is deprecated, in favor of `TimeSpanMenuBase` feature. Please see https://bryntum.com/docs/scheduler/guide/Scheduler/upgrades/3.1.0 for more information.")}doDestroy(){this.menu&&this.menu.destroy(),super.doDestroy()}onElementContextMenu(e){"contextmenu"===this.triggerEvent&&this.showEventContextMenu(e)}onElementClick(e){"click"===this.triggerEvent&&this.showEventContextMenu(e)}onElementDblClick(e){"dblclick"===this.triggerEvent&&this.showEventContextMenu(e)}onEventSpaceKey(e){const n=Rectangle.from(e.target).center,r=new MouseEvent("contextmenu",Object.assign({clientX:n.x,clientY:n.y},e));Object.defineProperty(r,"target",{get:()=>e.target}),this.showEventContextMenu(r)}showEventContextMenu(e){const n=this,r=n.client,o=e.target,i=DomHelper.up(o,r.eventSelector),a=i||o;if(a){const r=n.resolveRecord(a);r&&(e.preventDefault(),n.showContextMenuFor(r,{targetElement:a,eventElement:i,event:e}))}}resolveRecord(){}showContextMenuFor(e,n){}beforeContextMenuShow(){}showContextMenu(e){if(this.disabled)return;const n=this,r=e.event,o=e.menuType.toLowerCase(),i=StringHelper.uncapitalize(o),a=`get${StringHelper.capitalize(o)}MenuItems`,{client:l,processItems:c,defaultItems:d,namedItems:u}=n,p=r?[r.clientX+1,r.clientY+1]:Rectangle.from(e.targetElement).center,b=e.items=ObjectHelper.isEmpty(n.items)?ObjectHelper.clone(d):ObjectHelper.merge(ObjectHelper.clone(d),n.items);e.namedItems=u,e.selection=l.selectedRecords,applyNamedItems(b,u),l[a]&&l[a](e,b),c&&!1===c(e)||ObjectHelper.isEmpty(e.items)||!1!==n.beforeContextMenuShow(e)&&!1!==l.trigger(`${i}ContextMenuBeforeShow`,e)&&(n.menu=WidgetHelper.showContextMenu(p,{owner:l,scrollAction:"hide",constrainTo:window,items:b,onDestroy(){n.menu=null},onBeforeItem:n=>{Object.assign(n,e)},onItem:e=>l.trigger(`${i}ContextMenuItem`,e),listeners:{show({source:n}){e.menu=n,l.trigger(`${i}ContextMenuShow`,e)}}}))}hideContextMenu(e){var n;null===(n=this.menu)||void 0===n||n.hide(e)}set defaultItems(e){this._defaultItems=e}get defaultItems(){const e=ObjectHelper.clone(this._defaultItems);if(this.client.readOnly)for(const n in e)e[n]=!1;return e}get triggerEvent(){return this._triggerEvent||this.client.contextMenuTriggerEvent}set triggerEvent(e){this._triggerEvent=e}}TimeSpanRecordContextMenuBase._$name="TimeSpanRecordContextMenuBase";class TooltipBase extends InstancePlugin{static get defaultConfig(){return{autoUpdate:!1,hoverDelay:250,hideDelay:100,template:null,cls:null,align:{align:"b-t"},clockTemplate:null,monitorRecordUpdate:null,testConfig:{hoverDelay:0}}}static get pluginConfig(){return{chain:["onPaint"]}}construct(e,n){const r=this;n=r.processConfig(n),super.construct(e,n),r.forSelector||(r.forSelector=`${e.eventInnerSelector}:not(.b-dragproxy)`),r.clockTemplate=new ClockTemplate({scheduler:e}),e.on({[`before${e.scheduledEventName}drag`]:()=>{var e;return null===(e=r.tooltip)||void 0===e?void 0:e.hide()}})}processConfig(e){return"function"==typeof e?{template:e}:e}setConfig(e){super.setConfig(this.processConfig(e))}doDestroy(){this.destroyProperties("clockTemplate","tooltip"),super.doDestroy()}doDisable(e){this.tooltip&&(this.tooltip.disabled=e),super.doDisable(e)}onPaint({firstPaint:e}){if(e){var n;const e=this,{client:r}=e,o=[".b-dragselecting",".b-eventeditor-editing",".b-taskeditor-editing",".b-resizing-event",".b-dragcreating",`.b-dragging-${r.scheduledEventName}`,".b-creating-dependency",".b-dragproxy"].map((e=>`:not(${e})`)).join("");null===(n=e.tooltip)||void 0===n||n.destroy(),e.tooltip=new Tooltip(_objectSpread2(_objectSpread2({axisLock:"flexible",id:e.tipId||`${e.client.id}-event-tip`,cls:e.tipCls,forSelector:`.b-timelinebase${o} .b-grid-body-container:not(.b-scrolling) ${e.forSelector}`,scrollAction:"realign",forElement:r.timeAxisSubGridElement,showOnHover:!0,anchorToTarget:!0,allowOver:Boolean(e.config.items||e.config.tools),getHtml:e.getTipHtml.bind(e),disabled:e.disabled},e.config),{},{listeners:e.configuredListeners})),e.tooltip.on({innerhtmlupdate:"updateDateIndicator",overtarget:"onOverNewTarget",show:"onTipShow",hide:"onTipHide",thisObj:e})}}processConfiguredListeners(){}addListener(...e){var n;const r=super.addListener(...e),o=null===(n=this.tooltip)||void 0===n?void 0:n.addListener(...e);if(r||o)return()=>{null==r||r(),null==o||o()}}removeListener(...e){var n;super.removeListener(...e),null===(n=this.tooltip)||void 0===n||n.removeListener(...e)}updateDateIndicator(){const e=this,n=e.tooltip,r=n.element.querySelector(".b-sch-tooltip-enddate");e.record&&(e.clockTemplate.updateDateIndicator(n.element,e.record.startDate),r&&e.clockTemplate.updateDateIndicator(r,e.record.endDate))}resolveTimeSpanRecord(e){return this.client.resolveTimeSpanRecord(e)}getTipHtml({tip:e,activeTarget:n}){const r=this,{client:o}=r,i=r.recordType||`${o.scheduledEventName}Record`,a=r.resolveTimeSpanRecord(n);if((null==a?void 0:a.startDate)instanceof Date){const{startDate:n,endDate:l}=a,c=o.getFormattedDate(n),d=o.getDisplayEndDate(l,n),u=o.getFormattedDate(d);return e.eventRecord=a,r.template({tip:e,[`${i}`]:a,startDate:n,endDate:l,startText:c,endText:u,startClockHtml:r.clockTemplate.template({date:n,text:c,cls:"b-sch-tooltip-startdate"}),endClockHtml:a.isMilestone?"":r.clockTemplate.template({date:d,text:u,cls:"b-sch-tooltip-enddate"})})}return e.hide(),""}get record(){return this.tooltip.eventRecord}onTipShow(){const e=this;e.monitorRecordUpdate&&!e.updateListener&&(e.updateListener=e.client.eventStore.on({update:e.onRecordUpdate,thisObj:e}))}onTipHide(){var e;this.tooltip.eventRecord=null,null===(e=this.updateListener)||void 0===e||e.call(this),this.updateListener=null}onOverNewTarget({newTarget:e}){this.tooltip.eventRecord=this.resolveTimeSpanRecord(e)}onRecordUpdate({record:e}){e===this.record&&(this.tooltip.alignTo(),this.tooltip.updateContent())}}TooltipBase._$name="TooltipBase";class AbstractTimeRanges extends(InstancePlugin.mixin(Delayable)){static get defaultConfig(){return{rangeCls:"b-sch-range",lineCls:"b-sch-line",store:{modelClass:TimeSpan},enableResizing:!1,showTooltip:!0,showHeaderElements:!0,tooltipTemplate:null,dragTipTemplate:e=>`\n                <div class="b-sch-tip-${e.valid?"valid":"invalid"}">\n                    <div class="b-sch-tip-name">${e.name||""}</div>\n                    ${e.startClockHtml}\n                    ${e.endClockHtml||""}\n                </div>\n            `,baseCls:"b-sch-timerange",cls:"",narrowThreshold:80}}static get pluginConfig(){return{chain:["onPaint","populateHeaderMenu","populateTimeAxisHeaderMenu"]}}construct(e,n){const r=this;super.construct(e,n),e.isVertical&&e.on({renderRows:r.onUIReady,thisObj:r,once:!0}),r.cls=r.cls||`b-timerange-${r.constructor.$$name}`,r.baseSelector=`.${r.baseCls}.${r.cls}`,r.enableResizing&&(r.showHeaderElements=!0)}doDestroy(){var e,n,r,o,i;const a=this;null===(e=a.storeDetacher)||void 0===e||e.call(a),a.detachListeners("timeAxisViewModel"),a.detachListeners("timeAxis"),null===(n=a.clockTemplate)||void 0===n||n.destroy(),null===(r=a.tip)||void 0===r||r.destroy(),null===(o=a.drag)||void 0===o||o.destroy(),null===(i=a.resize)||void 0===i||i.destroy(),super.doDestroy()}doDisable(e){this.client.isPainted&&this.renderRanges(),super.doDisable(e)}onPaint({firstPaint:e}){e&&this.client.isHorizontal&&this.onUIReady()}onUIReady(){const e=this,{client:n}=e;e.client.on({timeAxisViewModelChange:e.setupTimeAxisViewModelListeners,thisObj:e}),e.setupTimeAxisViewModelListeners(),e.enableResizing&&!n.hideHeaders&&(e.drag=new DragHelper({name:"rangeDrag",mode:n.isVertical?"translateY":"translateX",constrain:!0,outerElement:e.headerContainerElement,targetSelector:`${e.baseSelector}`,isElementDraggable:(r,o)=>!n.readOnly&&e.isElementDraggable(r,o),transitionDuration:n.transitionDuration,listeners:{dragstart:"onDragStart",drag:"onDrag",drop:"onDrop",abort:"onInvalidDrop",thisObj:e}}),e.resize=new ResizeHelper({direction:n.mode,targetSelector:`${e.baseSelector}.b-sch-range`,outerElement:e.headerContainerElement,isElementResizable:e=>!e.closest(".b-dragging"),listeners:{resizestart:"onResizeStart",resizing:"onResizeDrag",resize:"onResize",cancel:"onInvalidResize",thisObj:e}})),e.renderRanges(),e.tooltipTemplate&&(e.hoverTooltip=new Tooltip({forElement:e.headerContainerElement,getHtml({activeTarget:n}){const r=e.getRecordByElement(n);return e.tooltipTemplate({timeRange:r})},forSelector:"."+e.baseCls+(e.cls?"."+e.cls:"")}))}setupTimeAxisViewModelListeners(){const e=this;e.detachListeners("timeAxisViewModel"),e.detachListeners("timeAxis"),e.client.timeAxisViewModel.on({name:"timeAxisViewModel",update:"onTimeAxisViewModelUpdate",thisObj:e}),e.client.timeAxis.on({name:"timeAxis",includeChange:"renderRanges",thisObj:e})}onTimeAxisViewModelUpdate(){this.renderRanges()}renderRanges(){const e=this,n=e.client.foregroundCanvas;if(n){const{headerContainerElement:r}=e;if(DomHelper.removeEachSelector(n,e.baseSelector),r&&DomHelper.removeEachSelector(r,e.baseSelector),!e.disabled){const n=[],o=[],i=[];e._timeRangesRotationMapCache={};for(const r of e.timeRanges){const a=e.renderRange(r,!1);if(a){const{bodyElement:e,headerElement:l}=a;o.push(e),i.push(l),n.push({elements:{bodyElement:e,headerElement:l},range:r})}}if(DomHelper.append(e.client.foregroundCanvas,o),e.showHeaderElements)r&&DomHelper.append(r,i);else{for(const{elements:r,range:o}of n)r&&e.calculateRotateLabelMap(o,r);for(const{elements:r,range:o}of n)r&&e.rotateLabel(o,r)}}}}get timeRanges(){return this.store.records}shouldRenderRange(e){const{timeAxis:n}=this.client;return e.duration&&n.timeSpanInAxis(e.startDate,e.endDate)||e.startDate&&n.dateInAxis(e.startDate)}renderRange(e,n){const r=this,{client:o}=r;if(r.shouldRenderRange(e)){const i=o.getCoordinateFromDate(DateHelper.max(e.startDate,o.timeAxis.startDate),{respectExclusion:!0}),a=e.duration&&o.getCoordinateFromDate(DateHelper.min(e.endDate,o.timeAxis.endDate),{respectExclusion:!0,isEnd:!0}),l=a-i,c=e.iconCls&&`<i class="${StringHelper.encodeHtml(e.iconCls)}"></i>`,d=e.name&&StringHelper.encodeHtml(e.name),u=d||c?`<label>${c||""}${d||"&nbsp;"}</label>`:"",p={className:{[r.baseCls]:1,[r.cls]:r.cls,[r.rangeCls]:a,[r.lineCls]:!a,[e.cls]:e.cls,"b-narrow-range":a&&l<r.narrowThreshold},dataset:{id:e.id},style:o.isVertical?`transform: translateY(${i}px); ${a?`height:${l}px`:""};`:`transform: translateX(${i}px); ${a?`width:${l}px`:""};`,retainElement:!0},b=DomHelper.createElement(Object.assign({},p,{parent:n&&o.foregroundCanvas,style:p.style+(e.style||""),html:r.showHeaderElements&&!r.showLabelInBody?"":u}));let g;return r.showHeaderElements&&(g=DomHelper.createElement(Object.assign({parent:n&&r.headerContainerElement,html:r.showLabelInBody?"":u},p))),{bodyElement:b,headerElement:g}}}calculateRotateLabelMap(e,{bodyElement:n}){if(!e.iconCls&&!e.name||!e.duration)return;const r=n.firstChild;if(!r)return;let o;return Boolean(e.recurringTimeSpan)?o=this._timeRangesRotationMapCache[e.recurringTimeSpan.id]:(o=this.client.isVertical?r.offsetHeight<n.offsetHeight:r.offsetWidth>n.offsetWidth,this._timeRangesRotationMapCache[e.id]=o),o}rotateLabel(e,{bodyElement:n}){var r;if(!e.iconCls&&!e.name||!e.duration)return;const o=Boolean(e.recurringTimeSpan),i=this._timeRangesRotationMapCache[o?e.recurringTimeSpan.id:e.id];null===(r=n.firstChild)||void 0===r||r.classList.toggle("b-vertical",i)}getElementsByRecord(e){var n,r;const o=this,i="object"!=typeof e?e:e.id,a=null===(n=o.client.foregroundCanvas)||void 0===n?void 0:n.querySelector(`${o.baseSelector}[data-id="${i}"]`),l=null===(r=o.headerContainerElement)||void 0===r?void 0:r.querySelector(`${o.baseSelector}[data-id="${i}"]`);return a?{bodyElement:a,headerElement:l}:null}getBodyElementByRecord(e){const n="string"==typeof e?e:e.id;return this.client.foregroundCanvas.querySelector(`${this.baseSelector}[data-id="${n}"]`)}getRecordByElement(e){return this.store.getById(e.dataset.id)}get headerContainerElement(){const{isVertical:e,timeView:n,timeAxisColumn:r}=this.client;let o=null;return e&&n.element?o=n.element.parentElement:e||(o=r.element),o}get showHeaderElements(){return!this.client.hideHeaders&&this._showHeaderElements}set showHeaderElements(e){this._showHeaderElements=e,this.client.isPainted&&(e?this.client.element.classList.add("b-sch-timeranges-with-headerelements"):this.client.element.classList.remove("b-sch-timeranges-with-headerelements"),this.renderRanges())}populateHeaderMenu({column:e,items:n}){"timeAxis"===e.type&&this.populateTimeAxisHeaderMenu(...arguments)}populateTimeAxisHeaderMenu({column:e,items:n}){}attachToStore(e){const n=this;let r=!1;n.storeDetacher&&(n.storeDetacher(),r=!0),n.storeDetacher=e.on({change:"onStoreChanged",refresh:"onStoreChanged",thisObj:n}),r&&n.renderRanges()}get store(){return this._store}set store(e){this._store=Store.getStore(e,Store),this.attachToStore(this._store)}onStoreChanged(e){const n=this;if(!(n.disabled||!n.client.isVisible||n.isConfiguring||"refresh"===e.type&&"batch"!==e.action))if("update"===e.action){const r=e.record,o=e.changes.hasOwnProperty("id")?e.changes.id.oldValue:r.id,i=n.getElementsByRecord(o),a=n.renderRange(r,!i);if(i&&!a&&(i.bodyElement.remove(),i.headerElement&&i.headerElement.remove()),!i||!a)return;n.client.runWithTransition((()=>{DomHelper.sync(a.bodyElement,i.bodyElement),n.showHeaderElements?DomHelper.sync(a.headerElement,i.headerElement):n.rotateLabel(r,i)}))}else n.renderRanges()}showTip(e){const n=this;n.showTooltip&&(n.clockTemplate=new ClockTemplate({scheduler:n.client}),n.tip=new Tooltip(ObjectHelper.assign({id:`${n.client.id}-time-range-tip`,cls:"b-interaction-tooltip",align:"b-t",autoShow:!0,updateContentOnMouseMove:!0,forElement:e.element,getHtml:()=>n.getTipHtml(e.record,e.element)},n.showTooltip)))}isElementDraggable(e){return(e=e.closest(this.baseSelector+":not(.b-resizing)"))&&!e.classList.contains("b-over-resize-handle")}onDragStart({context:e}){const n=this,r=n.getRecordByElement(e.element.closest(n.baseSelector)),o=n.getBodyElementByRecord(r),i=n.client.timeAxisViewModel,a=n.drag;Object.assign(e,{record:r,rangeBodyEl:o,originRangeX:DomHelper.getTranslateX(o),originRangeY:DomHelper.getTranslateY(o)}),n.client.isVertical?(a.minY=0,a.maxY=i.totalSize-e.rangeBodyEl.offsetHeight,a.minX=0,a.maxX=Number.MAX_SAFE_INTEGER):(a.minX=0,a.maxX=i.totalSize-e.rangeBodyEl.offsetWidth,a.minY=0,a.maxY=Number.MAX_SAFE_INTEGER),n.client.element.classList.add("b-dragging-timerange"),n.showTip(e)}onDrag({context:e}){this.client.isVertical?DomHelper.setTranslateY(e.rangeBodyEl,DomHelper.getTranslateY(e.element)):DomHelper.setTranslateX(e.rangeBodyEl,DomHelper.getTranslateX(e.element))}onDrop({context:e}){if(!e.valid)return this.onInvalidDrop({context:e});const n=this,r=e.record,o=e.rangeBodyEl.getBoundingClientRect(),i=n.client.getDateFromCoordinate(n.client.isVertical?o.top:o.left,"round",!1);r.startDate-i!=0?r.setStartDate(i):n.onInvalidDrop(),n.tip&&(n.tip.destroy(),n.tip=null),n.client.element.classList.remove("b-dragging-timerange")}onInvalidDrop(){const e=this;e.drag.reset(),e.renderRanges(),e.client.element.classList.remove("b-dragging-timerange"),e.tip&&(e.tip.destroy(),e.tip=null)}onResizeStart({context:e}){const n=this,r=n.getRecordByElement(e.element.closest(n.baseSelector)),o=n.getBodyElementByRecord(r);Object.assign(e,{record:r,rangeBodyEl:o}),n.showTip(e)}onResizeDrag({context:e}){this.client.isVertical?("top"===e.edge&&DomHelper.setTranslateY(e.rangeBodyEl,e.newY),e.rangeBodyEl.style.height=e.newHeight+"px"):("left"===e.edge&&DomHelper.setTranslateX(e.rangeBodyEl,e.newX),e.rangeBodyEl.style.width=e.newWidth+"px")}onResize({context:e}){if(!e.valid)return this.onInvalidDrop({context:e});const n=this,{client:r}=n,o=e.record,i=e.element.getBoundingClientRect(),a=r.isVertical?i.top:i.left,l=r.isVertical?i.bottom:i.right,c=r.getDateFromCoordinate(a,"round",!1),d="left"===e.edge||"top"===e.edge,u=r.getDateFromCoordinate(l,"round",!1);(d&&o.startDate-c!=0||u&&o.endDate-u!=0)&&u>c?d?o.setStartDate(c,!1):o.setEndDate(u,!1):n.onInvalidResize(),n.tip&&(n.tip.destroy(),n.tip=null)}onInvalidResize(){const e=this;e.resize.reset(),e.renderRanges(),e.tip&&(e.tip.destroy(),e.tip=null)}getTipHtml(e,n){const r=this,{client:o}=r,i=n.getBoundingClientRect(),a=o.isVertical?i.top:i.left,l=o.isVertical?i.bottom:i.right,c=o.getDateFromCoordinate(a,"round",!1),d=e.endDate&&o.getDateFromCoordinate(l,"round",!1),u=o.getFormattedDate(c),p=d&&o.getFormattedEndDate(d,c);return r.dragTipTemplate({name:e.name||"",startDate:c,endDate:d,startText:u,endText:p,startClockHtml:r.clockTemplate.template({date:c,text:u,cls:"b-sch-tooltip-startdate"}),endClockHtml:p&&r.clockTemplate.template({date:d,text:p,cls:"b-sch-tooltip-enddate"})})}}AbstractTimeRanges._$name="AbstractTimeRanges";const rl=Object.freeze({});class ColumnLines extends(Delayable(InstancePlugin)){static get $name(){return"ColumnLines"}static get delayable(){return{refresh:{type:"raf",cancelOutstanding:!0}}}static get pluginConfig(){return{after:["render","updateCanvasSize","onVisibleDateRangeChange","onVisibleResourceRangeChange"]}}construct(e,n){e.useBackgroundCanvas=!0,super.construct(e,n)}doDisable(e){super.doDisable(e),this.isConfiguring||this.refresh()}render(){this.refresh()}refresh(){const e=this,{client:n}=e,{timeAxis:r,timeAxisViewModel:o,isHorizontal:i}=n,{columnConfig:a}=o,{startDate:l,endDate:c}=n.visibleDateRange||rl;if(!r.startDate||!l)return;const d=o.columnLinesFor,u=Math.max(d-1,0),p=l.getTime(),b=c.getTime(),g=[],m=new Set,f=i?"X":"Y";if(e.element||(e.element=DomHelper.createElement({parent:n.backgroundCanvas,className:"b-column-lines-canvas"})),!e.disabled){const addLineConfig=(e,n)=>{const r=e.start.getTime();r>p&&r<b&&!m.has(r)&&(m.add(r),g.push({className:n?"b-column-line-major":"b-column-line",style:{transform:`translate${f}(${e.coord}px)`},dataset:{line:n?`major-${e.index}`:`line-${e.index}`}}))};if(d!==u)for(let e=1;e<=a[u].length-1;e++)addLineConfig(a[u][e],!0);for(let e=1;e<=a[d].length-1;e++)addLineConfig(a[d][e],!1);if(!i&&n.columnLines){const{columnWidth:e,firstResource:r,lastResource:o}=n.resourceColumns;for(let n=r;n<o+1;n++)g.push({className:"b-column-line b-resource-column-line",style:{transform:`translateX(${(n+1)*e-1}px)`},dataset:{line:`resource-${n}`}})}}DomSync.sync({targetElement:e.element,onlyChildren:!0,domConfig:{children:g,syncOptions:{releaseThreshold:4}},syncIdField:"line"})}onVisibleDateRangeChange(){this.refresh()}onVisibleResourceRangeChange({firstResource:e,lastResource:n}){this.refresh()}updateCanvasSize(){this.refresh()}}ColumnLines._$name="ColumnLines",GridFeatureManager.registerFeature(ColumnLines,!0,["Scheduler","Gantt"]);var DependencyCreation=e=>class DependencyCreation extends(e||Base){static get $name(){return"DependencyCreation"}static get defaultConfig(){return{allowDropOnEventBar:!0,showCreationTooltip:!0,creationTooltip:null,terminalCls:"b-sch-terminal",terminalSides:["left","top","right","bottom"],allowCreate:!0}}construct(e,n){super.construct(e,n);const r=this;r.view=e,r.eventName=e.scheduledEventName,e.on("readOnly",(()=>r.updateCreateListeners())),r.updateCreateListeners()}doDestroy(){var e,n;const r=this;r.detachListeners("view"),r.creationData=null,null===(e=r.mouseUpMoveDetacher)||void 0===e||e.call(r),null===(n=r.creationTooltip)||void 0===n||n.destroy(),super.doDestroy()}updateCreateListeners(){const e=this;e.view&&(e.detachListeners("view"),e.isCreateAllowed&&e.view.on({name:"view",[`${e.eventName}mouseenter`]:"onTimeSpanMouseEnter",[`${e.eventName}mouseleave`]:"onTimeSpanMouseLeave",thisObj:e}))}set allowCreate(e){this._allowCreate=e,this.updateCreateListeners()}get allowCreate(){return this._allowCreate}get isCreateAllowed(){return this.allowCreate&&!this.view.readOnly&&!this.disabled}onTimeSpanMouseEnter({event:e,source:n,[`${this.eventName}Record`]:r,[`${this.eventName}Element`]:o}){if(!r.isCreating){const i=DomHelper.down(o,n.eventInnerSelector);this.showTerminals(r,i),this.creationData&&e.target.closest(this.client.eventSelector)&&(this.creationData.timeSpanElement=i,this.onOverTargetEventBar(e))}}onTimeSpanMouseLeave(e){var n;const r=this,o=e[`${r.eventName}Element`],i=e.event.relatedTarget,a=null===(n=r.creationData)||void 0===n?void 0:n.timeSpanElement;r.creationData&&a&&DomHelper.isDescendant(a,i)||r.hideTerminals(o),r.creationData&&!r.creationData.finalizing&&(r.creationData.timeSpanElement=null,r.onOverNewTargetWhileCreating())}onTerminalMouseOver(e){this.creationData&&this.onOverTargetEventBar(e)}onTerminalMouseOut(e){const n=this,r=DomHelper.up(e.target,n.view.eventSelector);!r||n.showingTerminalsFor&&DomHelper.isDescendant(r,n.showingTerminalsFor)||n.creationData&&r===n.creationData.timeSpanElement||(n.hideTerminals(r),n.view.unhover(e)),n.creationData&&n.onOverNewTargetWhileCreating(e.relatedTarget,n.creationData.target)}onTerminalMouseDown(e){const n=this;if(0===e.button&&!n.creationData){var r;const o=n.view,i=o.timeAxisSubGridElement,a=e.target,l=a.closest(o.eventInnerSelector),c=Rectangle.from(o.element,document.body);e.preventDefault(),e.stopPropagation(),n.creationData={source:o.resolveTimeSpanRecord(l),fromSide:a.dataset.side,startPoint:Rectangle.from(a,i).center,startX:e.pageX-c.x+o.scrollLeft,startY:e.pageY-c.y+o.scrollTop,valid:!1,sourceResource:null===(r=o.resolveResourceRecord)||void 0===r?void 0:r.call(o,l)},n.mouseUpMoveDetacher=EventHelper.on({mouseup:{element:o.rootElement,handler:"onMouseUp"},mousemove:{element:i,handler:"onMouseMove"},thisObj:n}),n.documentMouseUpDetacher=EventHelper.on({mouseup:{element:document,handler:"onDocumentMouseUp"},keydown:{element:document,handler:({key:e})=>{"Escape"===e&&n.abort()}},thisObj:n})}}onMouseMove(e){const n=this,{view:r,creationData:o}=n,i=Rectangle.from(r.element,document.body),a=e.pageX-i.x+r.scrollLeft-o.startX,l=e.pageY-i.y+r.scrollTop-o.startY,c=Math.round(Math.sqrt(a*a+l*l))-3,d=Math.atan2(l,a);let{connector:u}=n;if(!u){if(!1===n.onRequestDragCreate(e))return;u=n.connector}u.style.width=`${c}px`,u.style.transform=`rotate(${d}rad)`,n.lastMouseMoveEvent=e}onRequestDragCreate(e){const n=this,{view:r,creationData:o}=n;if(!1===r.trigger("beforeDependencyCreateDrag",{data:o,source:o.source}))return n.abort(),!1;r.element.classList.add("b-creating-dependency"),n.connector=n.createConnector(o.startPoint.x,o.startPoint.y),r.trigger("dependencyCreateDragStart",{data:o,source:o.source}),n.showCreationTooltip&&(n.creationTooltip=n.creationTooltip||n.createDragTooltip(),n.creationTooltip.disabled=!1,n.creationTooltip.show(),n.creationTooltip.onMouseMove(e)),r.scrollManager.startMonitoring({scrollables:[{element:r.timeAxisSubGrid.scrollable.element,direction:"horizontal"},{element:r.scrollable.element,direction:"vertical"}],callback:()=>n.lastMouseMoveEvent&&n.onMouseMove(n.lastMouseMoveEvent)})}onOverTargetEventBar({target:e}){const n=this,{view:r,creationData:o,allowDropOnEventBar:i}=n,a=r.resolveTimeSpanRecord(e);Objects.isPromise(o.valid)||!i&&!e.classList.contains(n.terminalCls)||a!==o.source&&n.onOverNewTargetWhileCreating(e,a)}async onOverNewTargetWhileCreating(e,n){const r=this,{view:o,creationData:i,allowDropOnEventBar:a,connector:l}=r;if(!Objects.isPromise(i.valid)&&l){if(l.classList.remove("b-valid","b-invalid"),i.timeSpanElement&&DomHelper.removeClsGlobally(i.timeSpanElement,"b-sch-terminal-active"),n&&n!==i.source&&(a||e.classList.contains(r.terminalCls))){var c;let d,u=e.dataset.side;i.target=n,a&&!e.classList.contains(r.terminalCls)&&(u=r.getTargetSideFromType(r.dependencyStore.modelClass.fieldMap.type.defaultValue||DependencyBaseModel.Type.EndToStart)),o.resolveResourceRecord&&(i.targetResource=o.resolveResourceRecord(e)),i.toSide=u;const p=i.fromSide,updateValidity=n=>{r.isDestroyed||(i.valid=n,e.classList.add(n?"b-valid":"b-invalid"),l.classList.add(n?"b-valid":"b-invalid"),o.trigger("dependencyValidationComplete",{data:i,source:i.source,target:i.target,dependencyType:d}))};switch(!0){case"left"===p&&"left"===u:d=DependencyBaseModel.Type.StartToStart;break;case"left"===p&&"right"===u:d=DependencyBaseModel.Type.StartToEnd;break;case"right"===p&&"left"===u:d=DependencyBaseModel.Type.EndToStart;break;case"right"===p&&"right"===u:d=DependencyBaseModel.Type.EndToEnd}if(o.trigger("dependencyValidationStart",{data:i,source:i.source,target:i.target,dependencyType:d}),i.valid=r.dependencyStore.isValidDependency(i.source,i.target,d),Objects.isPromise(i.valid)){updateValidity(await i.valid)}else updateValidity(i.valid);const b=i.valid?"b-valid":"b-invalid";l.classList.add(b),null===(c=i.timeSpanElement)||void 0===c||c.querySelector(`.b-sch-terminal[data-side=${u}]`).classList.add("b-sch-terminal-active",b)}else i.target=i.toSide=null,i.valid=!1,l.classList.add("b-invalid");r.updateTooltip()}}async onMouseUp(e){var n;const r=this,o=r.creationData;if(o.finalizing=!0,null===(n=r.mouseUpMoveDetacher)||void 0===n||n.call(r),o.valid){if(!1===await r.view.trigger("beforeDependencyCreateFinalize",o))o.valid=!1;else if(Objects.isPromise(o.valid)){const e=await o.valid;o.valid=e}if(o.valid){let e=r.createDependency(o);Objects.isPromise(e)&&(e=await e),o.dependency=e,r.view.trigger("dependencyCreateDrop",{data:o,source:o.source,target:o.target,dependency:e}),this.doAfterDependencyDrop(o)}else r.doAfterDependencyDrop(o)}else o.valid=!1,r.doAfterDependencyDrop(o);this.abort()}doAfterDependencyDrop(e){this.view.trigger("afterDependencyCreateDrop",_objectSpread2({data:e},e))}onDocumentMouseUp({target:e}){this.view.timeAxisSubGridElement.contains(e)||this.abort()}abort(){var e,n;const r=this,{view:o,creationData:i}=r;if(i){const{source:e,sourceResource:n,target:a,targetResource:l}=i;if(e){const i=o.getElementFromEventRecord(e,n);i&&r.hideTerminals(i)}if(a){const e=o.getElementFromEventRecord(a,l);e&&r.hideTerminals(e)}}r.creationTooltip&&(r.creationTooltip.disabled=!0),r.creationData=r.lastMouseMoveEvent=null,null===(e=r.mouseUpMoveDetacher)||void 0===e||e.call(r),null===(n=r.documentMouseUpDetacher)||void 0===n||n.call(r),r.removeConnector()}createConnector(e,n){const r=this,o=r.view;return r.clearTimeout(r.removeConnectorTimeout),r.connector=DomHelper.createElement({parent:o.timeAxisSubGridElement,className:`${r.baseCls}-connector`,style:`left:${e}px;top:${n}px`}),o.element.classList.add("b-creating-dependency"),r.connector}createDragTooltip(){const e=this,{view:n}=e;return e.creationTooltip=Tooltip.new({id:`${n.id}-dependency-drag-tip`,cls:"b-sch-dependency-creation-tooltip",loadingMsg:"",anchorToTarget:!1,forElement:n.timeAxisSubGridElement,trackMouse:!0,constrainTo:null,header:{dock:"right"},listeners:{beforeShow:()=>{e.updateTooltip()}}},e.creationTooltip)}removeConnector(){const e=this,{connector:n,view:r}=e;n&&(n.classList.add("b-removing"),n.style.width="0",e.removeConnectorTimeout=e.setTimeout((()=>{n.remove(),e.connector=null}),200)),r.element.classList.remove("b-creating-dependency"),e.creationTooltip&&e.creationTooltip.hide(),r.scrollManager.stopMonitoring()}showTerminals(e,n){const r=this;if(!r.isCreateAllowed)return;const o=r.terminalCls,i=`${o}s-visible`;(n=DomHelper.down(n,r.view.eventInnerSelector)).classList.contains(i)||this.view.element.classList.contains("b-resizing-event")||r.view.readOnly||(r.terminalSides.forEach((e=>{const i=DomHelper.createElement({parent:n,className:`${o} ${o}-${e}`,dataset:{side:e,feature:!0}});i.detacher=EventHelper.on({element:i,mouseover:"onTerminalMouseOver",mouseout:"onTerminalMouseOut",mousedown:{handler:"onTerminalMouseDown",capture:!0},thisObj:r})})),n.classList.add(i),e.internalCls.add(i),r.showingTerminalsFor=n)}hideTerminals(e){const n=this,r=n.client.getTimeSpanMouseEventParams(e),o=null==r?void 0:r[`${n.eventName}Record`],i=`${n.terminalCls}s-visible`;DomHelper.forEachSelector(e,`.${n.terminalCls}`,(e=>{e.detacher&&e.detacher(),e.remove()})),DomHelper.down(e,n.view.eventInnerSelector).classList.remove(i),o.internalCls.remove(i),n.showingTerminalsFor=null}createDependency(e){const{source:n,target:r,fromSide:o,toSide:i}=e,a=("left"===o?0:2)+("right"===i?1:0);return this.dependencyStore.add({from:n.id,to:r.id,type:a,fromSide:o,toSide:i})[0]}getTargetSideFromType(e){return e===DependencyBaseModel.Type.StartToStart||e===DependencyBaseModel.Type.EndToStart?"left":"right"}updateTooltip(){var e,n;const r=this,o=r.creationData,{valid:i}=o,a=this.creationTooltip,{classList:l}=a.element;let c,d;if(Object.assign(o,{fromText:o.source.name,toText:null!==(e=null===(n=o.target)||void 0===n?void 0:n.name)&&void 0!==e?e:"",fromSide:o.fromSide,toSide:o.toSide||""}),Objects.isPromise(i))return l.remove("b-invalid"),l.add("b-checking"),new Promise((e=>i.then((n=>{o.valid=n,a.isDestroyed||e(r.updateTooltip())}))));!0===i?(l.remove("b-invalid"),l.remove("b-checking"),c="valid",d=r.L("L{Dependencies.valid}")):(l.remove("b-checking"),l.add("b-invalid"),c="invalid",d=r.L("L{Dependencies.invalid}")),a.title=`<i class="b-icon b-icon-${c}"></i>${d}`,a.html=`<table class="b-sch-dependency-creation-tooltip">\n                        <tr><td>${r.L("L{Dependencies.from}")}: </td><td>${o.fromText}</td><td><div class="b-sch-box b-${o.fromSide}"></div></td></tr>\n                        <tr><td>${r.L("L{Dependencies.to}")}: </td><td>${o.toText}</td><td><div class="b-sch-box b-${o.toSide}"></div></td></tr>\n                    </table>`}};const ol=Math.min(1/window.devicePixelRatio,.75),il=["start","end","top","bottom"];class RectangularPathFinder extends Base{static get defaultConfig(){return{startSide:"right",startArrowSize:0,startArrowMargin:12,startShift:0,endSide:"left",endArrowSize:0,endArrowMargin:12,endShift:0,verticalMargin:2,horizontalMargin:5,otherBoxes:null}}findPath(e,n){const r=this,o=e;let i,a,l,c,d,u,p,b,g,m,f,v,y,x,C,S,D,E,k,T,_,M,R,I,F,A,O,P,H,q,L;for(n&&!Array.isArray(n)&&(n=[n]),L=0;e&&!q;){var j;if(i=Object.assign(r.config,e),a=i.startBox,l=i.endBox,c=i.startShift,d=i.endShift,u=i.startSide,p=i.endSide,b=i.startArrowSize,g=i.endArrowSize,m=i.startArrowMargin,f=i.endArrowMargin,v=i.horizontalMargin,y=i.verticalMargin,x=i.hasOwnProperty("startHorizontalMargin")?i.startHorizontalMargin:v,C=i.hasOwnProperty("startVerticalMargin")?i.startVerticalMargin:y,S=i.hasOwnProperty("endHorizontalMargin")?i.endHorizontalMargin:v,D=i.hasOwnProperty("endVerticalMargin")?i.endVerticalMargin:y,E=i.hasOwnProperty("otherHorizontalMargin")?i.otherHorizontalMargin:v,k=i.hasOwnProperty("otherVerticalMargin")?i.otherVerticalMargin:y,T=i.otherBoxes,u=r.normalizeSide(u),p=r.normalizeSide(p),_=r.getConnectionCoordinatesFromBoxSideShift(a,u,c),M=r.getConnectionCoordinatesFromBoxSideShift(l,p,d),O=r.calcGridBaseBoxFromBoxAndDrawParams(a,u,b,m,x,C),P=r.calcGridBaseBoxFromBoxAndDrawParams(l,p,g,f,S,D),il.forEach((e=>{Math.abs(O[e]-P[e])<=ol&&(P[e]=O[e])})),r.shouldLookForPath(a,l,O,P))T=null===(j=T)||void 0===j?void 0:j.map((e=>r.calcGridBaseBoxFromBoxAndDrawParams(e,!1,0,0,E,k))),R=r.getConnectionCoordinatesFromBoxSideShift(O,u,c),I=r.getConnectionCoordinatesFromBoxSideShift(P,p,d),H=r.buildPathGrid(O,P,R,I,u,p,T),F=r.convertDecartPointToGridPoint(H,R),A=r.convertDecartPointToGridPoint(H,I),q=r.findPathOnGrid(H,F,A,u,p);for(e=!1;!q&&!e&&n&&L<n.length;L++)e=n[L](i,o)}return q&&(q=r.prependPathWithArrowStaffSegment(q,_,b,u),q=r.appendPathWithArrowStaffSegment(q,M,g,p),q=r.optimizePath(q)),q}static calculateRelativePosition(e,n,r=!1){const o=r?"top":"start",i=r?"bottom":"end";let a;return a=e[i]<n[o]?0:e[i]<=n[i]&&e[i]>=n[o]&&e[o]<n[o]?1:e[o]>=n[o]&&e[i]<=n[i]?2:e[o]<n[o]&&e[i]>n[i]?-2:e[o]<=n[i]&&e[i]>n[i]?3:4,a}static boxOverlapChanged(e,n,r,o,i=!1){const a=RectangularPathFinder.calculateRelativePosition;return a(e,n,i)!==a(r,o,i)}shouldLookForPath(e,n,r,o){let i=!0;return(e.end-e.start<=this.startArrowMargin||n.end-n.start<=this.endArrowMargin)&&2===Math.abs(RectangularPathFinder.calculateRelativePosition(e,n,!0))&&(i=!RectangularPathFinder.boxOverlapChanged(e,n,r,o)),i}getConnectionCoordinatesFromBoxSideShift(e,n,r){let o;switch(n){case"left":o={x:e.start,y:(e.top+e.bottom)/2+r};break;case"right":o={x:e.end,y:(e.top+e.bottom)/2+r};break;case"top":o={x:(e.start+e.end)/2+r,y:e.top};break;case"bottom":o={x:(e.start+e.end)/2+r,y:e.bottom}}return o}calcGridBaseBoxFromBoxAndDrawParams(e,n,r,o,i,a){let l;switch(n){case"left":l={start:e.start-Math.max(r+o,i),end:e.end+i,top:e.top-a,bottom:e.bottom+a};break;case"right":l={start:e.start-i,end:e.end+Math.max(r+o,i),top:e.top-a,bottom:e.bottom+a};break;case"top":l={start:e.start-i,end:e.end+i,top:e.top-Math.max(r+o,a),bottom:e.bottom+a};break;case"bottom":l={start:e.start-i,end:e.end+i,top:e.top-a,bottom:e.bottom+Math.max(r+o,a)};break;default:l={start:e.start-i,end:e.end+i,top:e.top-a,bottom:e.bottom+a}}return l}buildPathGrid(e,n,r,o,i,a,l){let c,d,u,p,b,g,m,f,v,y,x,C,S;const D={},E=[];for(c=[e.start,"left"===i||"right"===i?(e.start+e.end)/2:r.x,e.end,n.start,"left"===a||"right"===a?(n.start+n.end)/2:o.x,n.end],d=[e.top,"top"===i||"bottom"===i?(e.top+e.bottom)/2:r.y,e.bottom,n.top,"top"===a||"bottom"===a?(n.top+n.bottom)/2:o.y,n.bottom],l&&l.forEach((e=>{c.push(e.start,(e.start+e.end)/2,e.end),d.push(e.top,(e.top+e.bottom)/2,e.bottom)})),c=[...new Set(c.sort(((e,n)=>e-n)))],d=[...new Set(d.sort(((e,n)=>e-n)))],g=0,f=d.length;g<f;++g)for(D[g]=D[g]||{},u=d[g],b=0,m=c.length;b<m;++b){if(p=c[b],C=(p<=e.start||p>=e.end||u<=e.top||u>=e.bottom)&&(p<=n.start||p>=n.end||u<=n.top||u>=n.bottom),l)for(v=0,y=l.length;C&&v<y;++v)x=l[v],C=p<=x.start||p>=x.end||u<=x.top||u>=x.bottom||p===r.x&&u===r.y||p===o.x&&u===o.y;S={distance:Math.pow(2,53)-1,permitted:C,x:p,y:u,ix:b,iy:g},D[g][b]=S,E.push(S)}return{width:c.length,height:d.length,xs:c,ys:d,points:D,linearPoints:E}}convertDecartPointToGridPoint(e,n){const r=e.xs.indexOf(n.x),o=e.ys.indexOf(n.y);return e.points[o][r]}findPathOnGrid(e,n,r,o,i){const a=this;let l=!1;return n.permitted&&r.permitted&&(e=a.waveForward(e,n,0),l=a.collectPath(e,r,i)),l}getGridPointNeighbors(e,n,r){const o=n.ix,i=n.iy,a=[];let l;return i<e.height-1&&(l=e.points[i+1][o],(!r||r(l))&&a.push(l)),i>0&&(l=e.points[i-1][o],(!r||r(l))&&a.push(l)),o<e.width-1&&(l=e.points[i][o+1],(!r||r(l))&&a.push(l)),o>0&&(l=e.points[i][o-1],(!r||r(l))&&a.push(l)),a}waveForward(e,n,r){const o=this;return WalkHelper.preWalkUnordered([n,r],(([n,r])=>o.getGridPointNeighbors(e,n,(e=>e.permitted&&e.distance>r+1)).map((e=>[e,r+1]))),(([e,n])=>e.distance=n)),e}collectPath(e,n,r){const o=this,i=[];let a,l,c,d,u=!0;for(;u&&n.distance;)if(a=o.getGridPointNeighbors(e,n,(e=>e.permitted&&e.distance===n.distance-1)),u=a.length>0,u){switch(a=a.sort(((e,o)=>{let i,a;i=e.ix-n.ix,a=e.iy-n.iy;const l=("left"===r||"right"===r)&&0===a||("top"===r||"bottom"===r)&&0===i?-1:1;i=o.ix-n.ix,a=o.iy-n.iy;const c=("left"===r||"right"===r)&&0===a||("top"===r||"bottom"===r)&&0===i?-1:1;return l>c?1:l<c?-1:l===c?e.y>o.y?-1:1:void 0})),l=a[0],i.push({x1:l.x,y1:l.y,x2:n.x,y2:n.y}),c=l.ix-n.ix,d=l.iy-n.iy,!0){case!d&&c>0:r="left";break;case!d&&c<0:r="right";break;case!c&&d>0:r="top";break;case!c&&d<0:r="bottom"}n=l}return u&&i.reverse()||!1}prependPathWithArrowStaffSegment(e,n,r,o){let i,a;if(e.length>0){switch(a=e[0],i={x2:a.x1,y2:a.y1},o){case"left":i.x1=n.x-r,i.y1=a.y1;break;case"right":i.x1=n.x+r,i.y1=a.y1;break;case"top":i.x1=a.x1,i.y1=n.y-r;break;case"bottom":i.x1=a.x1,i.y1=n.y+r}e.unshift(i)}return e}appendPathWithArrowStaffSegment(e,n,r,o){let i,a;if(e.length>0){switch(a=e[e.length-1],i={x1:a.x2,y1:a.y2},o){case"left":i.x2=n.x-r,i.y2=a.y2;break;case"right":i.x2=n.x+r,i.y2=a.y2;break;case"top":i.x2=a.x2,i.y2=n.y-r;break;case"bottom":i.x2=a.x2,i.y2=n.y+r}e.push(i)}return e}optimizePath(e){const n=[];let r,o;if(e.length>0)for(r=e.shift(),n.push(r);e.length>0;)o=e.shift(),r.x1===o.x1&&r.y1===o.y1&&r.x2===o.x2&&r.y2===o.y2?r=o:r.y1-r.y2==0&&o.y1-o.y2==0?r.x2=o.x2:r.x1-r.x2==0&&o.x1-o.x2==0?r.y2=o.y2:(n.push(o),r=o);return n}normalizeSide(e){return RectangularPathFinder.sideToSide[e]||e}static get sideToSide(){return{l:"left",r:"right",t:"top",b:"bottom"}}}RectangularPathFinder._$name="RectangularPathFinder";const sl={add:1,dataset:1,remove:1,removeAll:1},al=["left","left","right","right"],ll=["left","right","left","right"];class Dependencies extends(InstancePlugin.mixin(DependencyCreation,AttachToProjectMixin,Delayable)){static get $name(){return"Dependencies"}static get defaultConfig(){return{pathFinderConfig:null,overCls:"b-sch-dependency-over",baseCls:"b-sch-dependency",noMarkerCls:"b-sch-dependency-markerless",highlightDependenciesOnEventHover:!1,showTooltip:!0,tooltip:null,bufferSize:50,cacheGridSize:{ticks:25,index:25}}}static get properties(){return{toDrawOnProjectRefresh:new Set,dependenciesToRefresh:new Map,drawnDependencies:[],drawnLines:[]}}static get pluginConfig(){return{chain:["render","renderContents","onElementClick","onElementDblClick","onElementMouseOver","onElementMouseOut","onProjectRefresh"],assign:["getElementForDependency","getElementsForDependency","resolveDependencyRecord"]}}construct(e,n={}){const r=this;if(e.isVertical)throw new Error("Dependencies feature is not supported in vertical mode");r.doScheduleDraw=r.createOnFrame("draw",[],r,!0),super.construct(e,n),r.pathFinder=new RectangularPathFinder(r.pathFinderConfig),delete r.pathFinderConfig,r.lineDefAdjusters=r.createLineDefAdjusters(),e.rowManager.on({refresh:"onRefresh",thisObj:r})}attachToProject(e){this.detachListeners("dependencyDataReady"),e.on({name:"dependencyDataReady",dataReady:this.onRefresh,thisObj:this}),super.attachToProject(e)}doDestroy(){var e;null===(e=this.tooltip)||void 0===e||e.destroy(),super.doDestroy()}doDisable(e){const n=this,{project:r}=n;n.updateCreateListeners(),(r||e)&&(n.attachToResourceStore(e?null:r.resourceStore),n.attachToEventStore(e?null:r.eventStore),n.attachToAssignmentStore(e?null:r.assignmentStore),n.attachToDependencyStore(e?null:r.dependencyStore)),n.client.isPainted&&n.draw(),super.doDisable(e)}static getLocalizedDependencyType(e){return e?this.L(`L{DependencyType.${e}}`):""}findDependencyIndex(e=[],n,r){return e.findIndex((e=>e.dependency===n&&(e.assignmentData===r||e.assignmentData&&r&&e.assignmentData.from===r.from&&e.assignmentData.to===r.to)))}includesDependency(){return this.findDependencyIndex(...arguments)>=0}attachToResourceStore(e){super.attachToResourceStore(e),e&&!this.disabled&&e.on({name:"resourceStore",changePreCommit:"onResourceStoreChange",refreshPreCommit:"onResourceStoreRefresh",thisObj:this})}attachToDependencyStore(e){const n=this;super.attachToDependencyStore(e),n.resetGridCache(),n.resetBoundsCache(),e&&!n.disabled&&(e.metaMapId=n.client.id,e.on({name:"dependencyStore",changePreCommit:"onDependencyChange",idChange:"onDependencyIdChange",thisObj:n}))}attachToAssignmentStore(e){super.attachToAssignmentStore(e),e&&!this.disabled&&e.on({name:"assignmentStore",changePreCommit:"onAssignmentChange",refreshPreCommit:"onAssignmentRefresh",thisObj:this})}attachToEventStore(e){super.attachToEventStore(e),e&&!this.disabled&&e.on({name:"eventStore",changePreCommit:"onEventChange",batchedUpdate:"onEventBatchedUpdate",thisObj:this})}createMarkers(){const e=this,n=e.client.svgCanvas,r=e.endMarker=e.initMarkerElement("arrowEnd","8","M0,0 L0,6 L9,3 z");r.setAttribute("orient","auto-start-reverse"),n.appendChild(r)}initMarkerElement(e,n,r){return DomHelper.createElement({id:e,tag:"marker",className:"b-sch-dependency-arrow",ns:"http://www.w3.org/2000/svg",markerHeight:11,markerWidth:11,refX:n,refY:3,viewBox:"0 0 9 6",orient:"auto",markerUnits:"userSpaceOnUse",children:[{tag:"path",ns:"http://www.w3.org/2000/svg",d:r}]})}createLineDefAdjusters(){const e=this.client;return[function shrinkArrowMargins(n){let r=!1;return(n.startArrowMargin>e.barMargin||n.endArrowMargin>e.barMargin)&&(n.startArrowMargin=n.endArrowMargin=e.barMargin,r=!0),r?n:r},function resetArrowMargins(e){let n=!1;return(e.startArrowMargin>0||e.endArrowMargin>0)&&(e.startArrowMargin=e.endArrowMargin=0,n=!0),n?e:n},function shrinkHorizontalMargin(e,n){let r=!1;return e.horizontalMargin>2&&(e.horizontalMargin=1,r=!0,n.hideMarker=!0),r?e:r}]}getElementForDependency(e,n=null){return this.getElementsForDependency(e,n)[0]}getElementsForDependency(e,n=null){let r=`[depId="${e.id}"]`;return n&&(r+=`[fromId="${n.from.id}"][toId="${n.to.id}"]`),Array.from(this.client.svgCanvas.querySelectorAll(r))}resolveDependencyRecord(e){const n="string"==typeof e?e:e.getAttribute("depId");return n?this.dependencyStore.getById(n):null}onRefresh(){this.client.isEngineReady&&this.onProjectRefresh()}onProjectRefresh(){var e;const n=this,{toDrawOnProjectRefresh:r}=n;if(null===(e=n.client)||void 0===e||!e.refreshSuspended)if(n.refreshAllWhenReady)n.resetGridCache(),n.scheduleDraw(!0),n.refreshAllWhenReady=!1;else if((null==r?void 0:r.size)>0){const e=n._dependencyGridCache;e&&r.forEach((e=>{n.addToGridCache(e)})),e||n._thisIsAUsedExpression(n.dependencyGridCache),r.clear(),n.scheduleDraw()}}onToggleNode(){this.resetGridCache(),this.scheduleDraw(!0)}onViewportResize(){this.scheduleDraw(!0)}onTranslateRow({row:e}){e.lastTop>=0&&e.top!==e.lastTop&&this.scheduleDraw(!0)}onChangeTotalHeight(){this.client.isEngineReady&&this.scheduleDraw(!0)}onHorizontalScroll({subGrid:e}){this.isDrawn&&e===this.client.timeAxisSubGrid&&this.scheduleDraw(!1)}onVerticalScroll(){this.isDrawn&&this.scheduleDraw(!1)}onRowsRefresh(){this.scheduleDraw(!0)}onResourceStoreChange({action:e}){this.client.project.propagatingLoadChanges||sl[e]&&(this.refreshAllWhenReady=!0)}onResourceStoreRefresh({action:e}){if(!this.client.project.propagatingLoadChanges)switch(e){case"sort":case"filter":case"batch":this.resetGridCache(),this.scheduleDraw(!0)}}async onDependencyChange({action:e,record:n,records:r}){const o=this,{client:i}=o;if(i.isPainted&&!i.suspendRendering&&!this.client.project.propagatingLoadChanges){switch(e){case"dataset":if(o.resetGridCache(),r.length)return void(o.toDrawOnProjectRefresh=new Set(r));break;case"add":return void r.forEach((e=>o.toDrawOnProjectRefresh.add(e)));case"update":if(o.drawnDependencies.some((e=>e.dependency===n)))return o.scheduleRefreshDependency(n);o.addToGridCache(n),o.scheduleDraw();break;case"remove":return r.forEach((e=>{o.releaseDependency(e,!0),o.removeFromCache(e),o.dependenciesToRefresh.delete(e)})),void i.trigger("dependenciesDrawn");case"removeall":case"filter":o.resetGridCache()}o.scheduleDraw(!0)}}onDependencyIdChange({record:e,oldValue:n}){this.removeFromCache(e,null,n),this.addToGridCache(e)}onEventBatchedUpdate(e){this.client.listenToBatchedUpdates&&(e.fromBatched=!0,this.onEventChange(...arguments))}onEventChange({action:e,record:n,records:r,changes:o,fromBatched:i}){const a=this;if(!a.client.project.propagatingLoadChanges)switch(e){case"filter":a.scheduleDraw(!0);break;case"update":if(!i&&1===Object.keys(o).length&&(o.startDate||o.endDate||o.duration))return;if(n.isEvent){const e=[n];n.resources.forEach((n=>e.push(...n.events))),a.client.project.isWritingData?new Set(e).forEach((e=>e.dependencies.forEach((e=>{a.scheduleRefreshDependency(e)})))):new Set(e).forEach((e=>a.drawForTimeSpan(e,!0)))}else a.drawForTimeSpan(n,!0);break;case"remove":r.forEach((e=>{const n=a.dependencyStore.query((n=>n.fromEvent===e||n.toEvent===e));null==n||n.forEach((e=>{a.releaseDependency(e,!0),a.removeFromCache(e)}))}));break;case"removeall":a.resetGridCache(),a.scheduleDraw(!0)}}onAssignmentRefresh({action:e}){this.client.project.propagatingLoadChanges||"dataset"===e&&(this.resetGridCache(),this.scheduleDraw(!0))}onAssignmentChange({action:e,record:n,records:r,changes:o}){const i=this;if(!i.client.project.propagatingLoadChanges&&(n&&(r=[n]),"filter"===e&&(i.resetGridCache(),i.scheduleDraw(!0)),"add"===e||"remove"===e||"update"===e)){if("update"===e&&2===Object.keys(o).length&&o.event&&o.resource&&!o.event.isModel&&!o.resource.isModel)return;r.forEach((r=>{const{assignmentStore:o,eventStore:a}=i.client,l=a.getById(r.eventId);l&&l.dependencies.forEach((a=>{if("add"===e)i.toDrawOnProjectRefresh.add(a);else if("remove"===e){let e;e=a.fromEvent===l?a.toEvent.assignments.map((e=>({from:r,to:e}))):a.fromEvent.assignments.map((e=>({from:e,to:r}))),e.forEach((e=>{i.releaseDependency(a,e),i.removeFromCache(a,e)}))}else"update"===e&&i.getDependencyAssignmentsAsFromToArray({dependency:a,assignmentStore:o}).filter((e=>e.from===n||e.to===n)).forEach((e=>{i.scheduleRefreshDependency(a,e)}))}))}))}}getDependencyAssignmentsAsFromToArray({dependency:e,assignmentStore:n}){const{fromEvent:r,toEvent:o}=e,i=[];if(r&&o){const e=this.getEventAssignments(r,n),a=this.getEventAssignments(o,n);e.forEach((e=>{a.forEach((n=>{i.push({from:e,to:n})}))}))}return i}getEventAssignments(e,n){if(e.isRemoved){const r=n.removed.values.filter((n=>n.event===e));for(const o of n.assignmentsForRemoval)o.event===e&&r.push(o);return r}return e.assignments}onElementClick(e){const n=this;if(e.target.matches("."+n.baseCls)){const r=DomDataStore.get(e.target).dependency,o="click"===e.type?"Click":"DblClick";n.client.trigger(`dependency${o}`,{dependency:r,event:e})}}onElementDblClick(e){return this.onElementClick(e)}onElementMouseOver(e){const n=this;if(e.target.matches("."+n.baseCls)){const r=DomDataStore.get(e.target).dependency;n.client.trigger("dependencyMouseOver",{dependency:r,event:e}),n.overCls&&n.highlight(r,n.overCls)}}onElementMouseOut(e){const n=this;if(e.target.matches("."+n.baseCls)){const r=DomDataStore.get(e.target).dependency;n.client.trigger("dependencyMouseOut",{dependency:r,event:e}),n.overCls&&!r.isRemoved&&n.unhighlight(r)}}highlight(e,n=this.overCls){this.getElementsForDependency(e).forEach((e=>{e.classList.add(n)})),e.highlight(n)}unhighlight(e,n=this.overCls){this.getElementsForDependency(e).forEach((e=>{e.classList.remove(n)})),e.unhighlight(n)}highlightEventDependencies(e){e.dependencies.forEach((e=>this.highlight(e)))}unhighlightEventDependencies(e){e.dependencies.forEach((e=>this.unhighlight(e)))}isDependencyVisible(e,n=null){const{assignmentStore:r,resourceStore:o,eventStore:i}=this.client,{fromEvent:a,toEvent:l}=e;if(!a||!l)return!1;let c,d;if(n){const{from:e,to:o}=n;if(c=e.resource,d=o.resource,!1===e.drawDependencies||!1===o.drawDependencies||i.isFiltered&&(!i.includes(a)||!i.includes(l))||r.isFiltered&&(!r.includes(e)||!r.includes(o)))return!1}else c=a.resource,d=l.resource;return!(!o.isAvailable(c)||!o.isAvailable(d))&&(a.isModel&&!c.instanceMeta(o).hidden&&!d.instanceMeta(o).hidden)}getBox(e,n,r=null,o=!1){const i=this.getTimeSpanRecordFromDependency(e,n);let a;a=r?r[n?"from":"to"].resource:i.resource;const l=this.client.currentOrientation.getResourceEventBox(i,a,!0,o);return l&&!i.isMilestone&&l.width--,l}getRowRecordFromDependency(e,n,r){let o;return o=r?r[n?"from":"to"].resource:this.getTimeSpanRecordFromDependency(e,n).resource,o}getTimeSpanRecordFromDependency(e,n=!0){return e[(n?"from":"to")+"Event"]}getMetaId(e=null){return e?`${this.client.id}-ass${e.from.id}-ass${e.to.id}`:this.client.id}getDependencyBounds(e,n,r=!0){const o=this,{client:i}=o,{isGantt:a}=i;if(!i.rowManager.rowCount||!o.isDependencyVisible(e,n)||!i.timeAxis.count)return null;const l=e.getDateRange();if(!l||!(l.start>=i.startDate&&l.start<i.endDate||i.startDate>=l.start&&i.startDate<l.end))return null;const c=o.getMetaId(n),d=e.instanceMeta(c),{resourceMap:u}=i.currentOrientation,{bounds:p}=d;if(o._resetBoundsCache||!p||!p.startRectangle.layout&&null!=u&&u.has(p.startRectangle.resourceId)||!p.endRectangle.layout&&null!=u&&u.has(p.endRectangle.resourceId)){const l=o.getBox(e,!0,n,r),c=o.getBox(e,!1,n,r);if(!l||!c)return null;const u=o.getTimeSpanRecordFromDependency(e,!0),p=o.getTimeSpanRecordFromDependency(e,!1),b=Rectangle.union(l,c);if(!a&&(u.isMilestone||p.isMilestone)){if(!i.isEngineReady&&"default"===i.milestoneLayoutMode)return null;[[u,l,n.from],[p,c,n.to]].map((([e,n,r])=>{if("default"===i.milestoneLayoutMode&&e.isMilestone){let o;if(e.iconCls){const e=i.getElementFromAssignmentRecord(r);e&&(o=e.offsetWidth)}else{if(!i.milestoneWidth){const e=i.getElementFromAssignmentRecord(r);e&&(i.milestoneWidth=e.offsetWidth)}o=i.milestoneWidth}const a=o||n.height;n.left-=a/2,n.right+=a/2}}))}d.bounds={bounds:b,startRectangle:l,endRectangle:c,layout:l.layout&&c.layout}}return e.instanceMeta(c).bounds}get dependencyGridCache(){const e=this;return e._dependencyGridCache||(e._dependencyGridCache={},e.dependencyStore.forEach((n=>e.addToGridCache(n)))),e._dependencyGridCache}get dependencyStore(){return this.project.dependencyStore}getIteratableDependencyAssignments(e){return this.assignmentStore?this.getDependencyAssignmentsAsFromToArray({dependency:e,assignmentStore:this.assignmentStore}):[null]}addToGridCache(e){const n=this,{client:r}=n,{store:o}=r,{dependencyGridCache:i,cacheGridSize:a}=n,l=n.getIteratableDependencyAssignments(e),c=r.startDate.getTime(),d=r.endDate.getTime(),u=DateHelper.asMilliseconds(r.timeAxis.unit)*a.ticks;l.forEach((r=>{const l=n.getMetaId(r),p=e.instanceMeta(l),b=p.gridCache=[],g=o.indexOf(n.getRowRecordFromDependency(e,!0,r)),m=o.indexOf(n.getRowRecordFromDependency(e,!1,r)),f=e.getDateRange();if(f&&-1!==g&&-1!==m&&f&&f.end>c&&f.start<d){const n=Math.min(g,m),o=Math.max(g,m),d=Math.floor(n/a.index),v=Math.floor(o/a.index),y=Math.floor(Math.max(f.start-c,0)/u),x=Math.floor(Math.max(f.end-c,0)/u),C=`${e.id}.-.${l}`;let S,D,E,k,T;for(k=y;k<=x;k++)for(S=i[k]||(i[k]={}),T=d;T<=v;T++)D=S[T]||(S[T]=[]),E=D.cached||(D.cached={}),E[C]||(E[C]=!0,D.push({dependency:e,assignmentData:r,metaId:l})),b.push([k,T]);p.assignmentData=r}}))}removeFromCache(e,n=null,r=e.id){const o=this,{_dependencyGridCache:i}=o;let a;if(n)a=[n];else{a=Object.keys(e.meta.map||{}).filter((e=>e.startsWith(o.client.id))).map((n=>e.meta.map[n].assignmentData))}a.forEach((n=>{var a;const l=o.getMetaId(n),c=e.instanceMeta(l),d=`${r}.-.${l}`;i&&(null===(a=c.gridCache)||void 0===a||a.forEach((([r,a])=>{var l;if(null!==(l=i[r])&&void 0!==l&&l.hasOwnProperty(a)){const i=o._dependencyGridCache[r][a];if(null!=i&&i.cached[d]){const r=o.findDependencyIndex(i,e,n);delete i.cached[d],r>-1&&i.splice(r,1)}}}))),c.bounds=null,c.gridCache=null}))}set dependencyGridCache(e){this._dependencyGridCache=e}resetBoundsCache(){this._resetBoundsCache=!0}doResetBoundsCache(){const{dependencyGridCache:e}=this;Object.values(e).forEach((e=>{Object.values(e).forEach((e=>{e.forEach((({dependency:e,metaId:n})=>{e.instanceMeta(n).bounds=null}))}))}))}resetGridCache(){this.dependencyGridCache=null}generateBoundaryBoxes(e,n){const r=[];return"bottom"===n?r.push({start:e.left,end:e.left+e.width/2,top:e.rowTop,bottom:e.rowBottom},{start:e.left+e.width/2,end:e.right,top:e.rowTop,bottom:e.rowBottom}):r.push({start:e.left-this.pathFinder.startArrowMargin,end:e.right+this.pathFinder.startArrowMargin,top:e.rowTop,bottom:e.rowBottom}),r}getDependencyStartSide(e){const n=this,r=n.getTimeSpanRecordFromDependency(e,!0),o=e.type;let i=e.fromSide;if(!i)switch(!0){case o===DependencyModel.Type.StartToEnd:case o===DependencyModel.Type.StartToStart:i=n.getConnectorStartSide(r);break;case o===DependencyModel.Type.EndToStart:case o===DependencyModel.Type.EndToEnd:i=n.getConnectorEndSide(r);break;default:throw new Error("Invalid dependency type: "+o)}return i}getDependencyEndSide(e){const n=this,r=n.getTimeSpanRecordFromDependency(e,!1),o=e.type;let i=e.toSide;if(!i)switch(!0){case o===DependencyModel.Type.StartToEnd:i=n.getConnectorEndSide(r);break;case o===DependencyModel.Type.StartToStart:case o===DependencyModel.Type.EndToStart:i=n.getConnectorStartSide(r);break;case o===DependencyModel.Type.EndToEnd:i=n.getConnectorEndSide(r);break;default:throw new Error("Invalid dependency type: "+o)}return i}prepareLineDef(e,n,r=null){const o=this,i=o.getDependencyStartSide(e),a=o.getDependencyEndSide(e),{startRectangle:l,endRectangle:c}=n,d=[];null!=l.rowTop&&l.rowTop!==c.rowTop&&d.push(...o.generateBoundaryBoxes(l,i));let{startArrowMargin:u,verticalMargin:p}=o.pathFinder;return e.bidirectional||(/(top|bottom)/.test(i)&&(u=o.client.barMargin/2),p=o.client.barMargin/2),{startBox:{start:l.x,end:l.right,top:l.y,bottom:l.bottom},endBox:{start:c.x,end:c.right,top:c.y,bottom:c.bottom},otherBoxes:d,startArrowMargin:u,verticalMargin:p,otherVerticalMargin:0,otherHorizontalMargin:0,startSide:i,endSide:a}}drawLine(e,n,r,o=null,i=!0,a=!1){const l=this.getMetaId(o);let c=n.instanceMeta(l).lineElement;return c&&i||(c=document.createElementNS("http://www.w3.org/2000/svg","polyline"),i&&(n.instanceMeta(l).lineElement=c),c.setAttribute("depId",n.id),o&&(c.setAttribute("fromId",o.from.id),c.setAttribute("toId",o.to.id)),e.appendChild(c)),c.classList.length&&c.classList.remove.apply(c.classList,c.getAttribute("class").split(" ")),c.classList.add(this.baseCls),n.cls&&c.classList.add(n.cls),n.bidirectional&&c.classList.add("b-sch-bidirectional-line"),n.highlighted&&c.classList.add(...n.highlighted.split(" ")),a&&c.classList.add(this.noMarkerCls),c.setAttribute("points",r?r.map(((e,n)=>n!==r.length-1?`${e.x1},${e.y1}`:`${e.x1},${e.y1} ${e.x2},${e.y2}`)).join(" "):""),DomDataStore.set(c,{dependency:n}),c}refreshDependency(e){const n=this,r=n.getIteratableDependencyAssignments(e);n.releaseDependency(e,null!==r[0]),n.removeFromCache(e),n.addToGridCache(e),r.forEach((r=>n.drawDependency(e,null,r)))}refreshDependencyAssignment(e,n){const r=this;r.releaseDependency(e,n),r.removeFromCache(e,n),r.addToGridCache(e),r.drawDependency(e,null,n)}scheduleRefreshDependency(e,n=null){const r=this,o=r.dependenciesToRefresh;r.drawnDependencies.find((n=>n.dependency===e))&&(n?o.has(e)?!0!==o.get(e)&&o.get(e).add(n):o.set(e,new Set([n])):o.set(e,!0),1===o.size&&r.requestAnimationFrame((()=>r.refreshDependencyOnFrame())))}getSortedDependenciesToRefresh(){return this.dependenciesToRefresh}refreshDependencyOnFrame(){const e=this,n=e.getSortedDependenciesToRefresh();e.client.isPainted&&(n.forEach(((n,r)=>{if(!0===n){const n=e.getIteratableDependencyAssignments(r);e.releaseDependency(r,null!==n[0]),e.removeFromCache(r)}else n.forEach((n=>{e.releaseDependency(r,n),e.removeFromCache(r,n)}))})),n.forEach(((n,r)=>{e.addToGridCache(r)})),n.forEach(((n,r)=>{!0===n&&(n=e.getIteratableDependencyAssignments(r)),n.forEach((n=>{e.drawDependency(r,null,n)}))})),e.dependenciesToRefresh.clear(),e.client.trigger("dependenciesDrawn",{partial:!0}))}drawDependency(e,n=null,r=null,o=this.client.svgCanvas,i=!0){const a=this,{drawnDependencies:l,oldDrawnDependencies:c}=a,d=n||a.getDependencyBounds(e,r);if(!a.disabled&&d){d.lines||(d.lineDef=a.prepareLineDef(e,d),d.lines=a.pathFinder.findPath(d.lineDef,a.lineDefAdjusters));const{hideMarker:n}=d.lineDef;a.drawLine(o,e,d.lines,r,i,n),i&&!this.includesDependency(l,e,r)&&l.push({dependency:e,assignmentData:r})}const u=this.findDependencyIndex(c,e,r);u>=0&&c.splice(u,1)}drawForTimeSpan(e,n=!1){const r=this;r.client.isAnimating?r.client.on({transitionend(){!e.isRemoved&&r.drawForTimeSpan(e,!0)},once:!0}):r.dependencyStore.getTimeSpanDependencies(e).forEach((e=>{n?r.scheduleRefreshDependency(e):r.refreshDependency(e)}))}drawForEvent(e){this.drawForTimeSpan(e)}updateDependenciesForTimeSpan(e,n,r=null){const o=this,i=e.isAssignment?e.event:e,a=o.dependencyStore.getTimeSpanDependencies(i),l=o.getMetaId(),c=o.client,d=Rectangle.from(n,c.timeAxisSubGridElement),u=r&&c.getRowFor(r);let p;a.forEach((n=>{this.getIteratableDependencyAssignments(n).forEach((r=>{const a=d.clone();let c,b;u&&(a.rowTop=u.top,a.rowBottom=u.bottom),r&&r.from!==e&&r.to!==e||o.isDependencyVisible(n,r)&&(o.getTimeSpanRecordFromDependency(n,!0)===i?(c=a,b=(p=n.instanceMeta(l).bounds)?p.endRectangle:o.getBox(n,!1,r)):(c=(p=n.instanceMeta(l).bounds)?p.startRectangle:o.getBox(n,!0,r),b=a),c&&b&&o.drawDependency(n,{startRectangle:c,endRectangle:b},r))}))}))}scheduleDraw(e=!1){const n=this;n.disabled||(e&&n.resetBoundsCache(),n.client.isAnimating?n.clientTransitionRemover||(n.clientTransitionRemover=n.client.on({transitionend(){n.clientTransitionRemover(),n.clientTransitionRemover=null,n.draw()},once:!0})):n.doScheduleDraw())}draw(e=!1){const n=this,r=n.client;if(!n.oldDrawnDependencies&&!n.dependencyStore.count||!r.isPainted)return;if(r.isAnimating)return void r.on({transitionend(){n.scheduleDraw(!0)},once:!0});const o=r.timeAxisSubGrid.viewRectangle;if(e&&n.resetBoundsCache(),!o.width||!o.height)return;n._resetBoundsCache&&n.doResetBoundsCache(),n.oldDrawnDependencies=n.drawnDependencies,n.drawnDependencies=[],o.inflate(n.bufferSize);const{startDate:i,visibleDateRange:a}=r;if(!n.disabled&&!r.suspendRendering&&r.store.count&&r.rowManager.rowCount&&i&&a.startDate&&a.endDate){if(!r.project.isInitialCommitPerformed)return n.drawnDependencies=n.oldDrawnDependencies,void(n.refreshAllWhenReady=!0);const e=new Set,{dependencyGridCache:l,cacheGridSize:c}=n,d=DateHelper.asMilliseconds(r.timeAxis.unit)*c.ticks,u=a.startDate.getTime()-i.getTime(),p=a.endDate.getTime()-i.getTime(),b=Math.floor(u/d),g=Math.floor(p/d),m=Math.floor(r.rowManager.topRow.dataIndex/c.index),f=Math.floor(r.rowManager.bottomRow.dataIndex/c.index),v=[];let y,x,C;for(y=b;y<=g;y++)for(x=m;x<=f;x++){const i=l[y],a=null==i?void 0:i[x];for(C=0;a&&C<a.length;C++){const{dependency:i,assignmentData:l,metaId:c}=a[C],d=i.id+"-"+c;if(!e.has(d)){const a=n.getDependencyBounds(i,l,!1);(null!=a&&a.bounds.intersect(o,!0,!0)||r.ignoreViewBox)&&v.push([i,a,l]),e.add(d)}}}v.forEach((([e,r,o])=>{n.drawDependency(e,r,o)}))}n._resetBoundsCache=!1,n.oldDrawnDependencies.forEach((e=>n.releaseDependency(e.dependency,e.assignmentData))),r.trigger("dependenciesDrawn"),n.isDrawn=!0}releaseDependency(e,n=null){if(!0===n){Object.keys(e.meta.map||{}).filter((e=>e.startsWith(this.client.id))).forEach((n=>{const r=e.meta.map[n];r.lineElement&&(r.lineElement.remove(),r.lineElement=null)}))}else{const r=this.getMetaId(n),o=e.instanceMeta(r).lineElement;o&&(e.instanceMeta(r).lineElement=null,o.remove())}}render(){const e=this,n=e.client;e.showTooltip&&(e.tooltip=e.createTooltip()),n.timeAxis.on({endreconfigure:"resetGridCache",thisObj:e}),n.rowManager.on({refresh:"onRowsRefresh",changetotalheight:"onChangeTotalHeight",thisObj:e}),n.on({horizontalscroll:"onHorizontalScroll",svgcanvascreated:"createMarkers",togglenode:"onToggleNode",scroll:"onVerticalScroll",timelineviewportresize:"onViewportResize",thisObj:e}),e.highlightDependenciesOnEventHover&&(n.on(n.scheduledEventName+"MouseEnter",(n=>e.highlightEventDependencies(n.eventRecord||n.taskRecord))),n.on(n.scheduledEventName+"MouseLeave",(n=>e.unhighlightEventDependencies(n.eventRecord||n.taskRecord))))}renderContents(){this.draw()}getConnectorStartSide(e){return this.client.currentOrientation.getConnectorStartSide(e)}getConnectorEndSide(e){return this.client.currentOrientation.getConnectorEndSide(e)}createTooltip(){const e=this,n=e.client;return Tooltip.new({align:"b-t",id:`${n.id}-dependency-tip`,forSelector:`.b-timelinebase:not(.b-eventeditor-editing):not(.b-resizing-event):not(.b-dragcreating):not(.b-dragging-event):not(.b-creating-dependency) .${e.baseCls}`,forElement:n.timeAxisSubGridElement,showOnHover:!0,hoverDelay:0,hideDelay:0,anchorToTarget:!1,textContent:!1,trackMouse:!1,getHtml:e.getHoverTipHtml.bind(e)},e.tooltip||{})}getHoverTipHtml({activeTarget:e}){const n=this,r=n.resolveDependencyRecord(e),{fromEvent:o,toEvent:i}=r;return TemplateHelper.tpl`
             <table class="b-sch-dependency-tooltip">
                <tr>
                    <td>${n.L("L{from}")}: </td>
                    <td>${StringHelper.encodeHtml(o.name)}</td>
                    <td>
                        <div class="b-sch-box b-${al[r.type]}"></div>
                    </td>
                </tr>
                <tr>
                    <td>${n.L("L{to}")}: </td>
                    <td>${StringHelper.encodeHtml(i.name)}</td>
                    <td><div class="b-sch-box b-${ll[r.type]}"></div></td>
                </tr>
            </table>
        `}}Dependencies._$name="Dependencies",GridFeatureManager.registerFeature(Dependencies,!1,["Scheduler","ResourceHistogram"]),GridFeatureManager.registerFeature(Dependencies,!0,"SchedulerPro");class DependencyEditor extends Popup{static get $name(){return"DependencyEditor"}static get defaultConfig(){return{items:[],draggable:{handleSelector:":not(button,.b-field-inner)"},axisLock:"flexible"}}processWidgetConfig(e){const n=this.dependencyEditFeature;return!("lagField"===e.ref&&!n.showLagField)&&(!("deleteButton"===e.ref&&!n.showDeleteButton)&&(Object.assign(e,{}),super.processWidgetConfig(e)))}afterShow(...e){const n=this.widgetMap.deleteButton;n&&(n.hidden=!this.record.isPartOfStore()),super.afterShow(...e)}onInternalKeyDown(e){this.trigger("keyDown",{event:e}),super.onInternalKeyDown(e)}}DependencyEditor._$name="DependencyEditor";class DependencyEdit extends InstancePlugin{static get $name(){return"DependencyEdit"}static get defaultConfig(){return{autoClose:!0,saveAndCloseOnEnter:!0,showDeleteButton:!0,triggerEvent:"dependencydblclick",showLagField:!1,dependencyRecord:null,editorConfig:{title:"L{Edit dependency}",localeClass:this,closable:!0,defaults:{localeClass:this},items:{fromNameField:{type:"display",label:"L{From}",editable:!1},toNameField:{type:"display",label:"L{To}"},typeField:{type:"combo",label:"L{Type}",name:"type",editable:!1,valueField:"id",displayField:"name",items:Object.keys(DependencyModel.Type).map((e=>({id:DependencyModel.Type[e],name:this.L(e)})))},lagField:{type:"duration",label:"L{Lag}",name:"lag",allowNegative:!0}},bbar:{defaults:{localeClass:this},items:{foo:{type:"widget",cls:"b-label-filler"},saveButton:{color:"b-green",text:"L{Save}"},deleteButton:{color:"b-gray",text:"L{Delete}"},cancelButton:{color:"b-gray",text:"L{Object.Cancel}"}}}}}}construct(e,n){const r=this;if(e.dependencyEdit=r,super.construct(e,n),!e.features.dependencies)throw new Error("Dependencies feature required when using DependencyEdit");r.clientListenersDetacher=e.on({[r.triggerEvent]:r.onActivateEditor,thisObj:r})}doDestroy(){var e;this.clientListenersDetacher(),null===(e=this.editor)||void 0===e||e.destroy(),super.doDestroy()}get editorConfig(){return this._editorConfig}set editorConfig(e){const n=this.getDefaultConfiguration().editorConfig;(e=ObjectHelper.assign({},n,e)).items=e.items||[],this._editorConfig=e}get isValid(){return Object.values(this.editor.widgetMap).every((e=>!(e.name&&!e.hidden)||!1!==e.isValid))}get values(){const e={};return this.editor.eachWidget((n=>{n.name&&!n.hidden&&(e[n.name]=n.value)}),!0),e}onBeforeSave(e){}onAfterSave(e){}updateRecord(e){const{values:n}=this;n.lag&&(n.lagUnit=n.lag.unit,n.lag=n.lag.magnitude),"type"in n&&(null!=e.fromSide&&(n.fromSide=null),null!=e.toSide&&(n.toSide=null)),ObjectHelper.cleanupProperties(n,!0),e.set(n)}onPopupKeyDown({event:e}){"Enter"===e.key&&this.saveAndCloseOnEnter&&"input"===e.target.tagName.toLowerCase()&&(e.preventDefault(),this.onSaveClick())}onSaveClick(){this.save()&&this.editor.hide()}onDeleteClick(){this.deleteDependency(),this.editor.hide()}onCancelClick(){this.editor.hide()}internalShowEditor(e){const n=this,r=n.client;let o=n.lastPointerDownCoordinate;if(!1===r.trigger("beforeDependencyEdit",{dependencyEdit:n,dependencyRecord:e}))return;const i=n.getEditor(e);if(n.loadRecord(e),r.trigger("beforeDependencyEditShow",{dependencyEdit:n,dependencyRecord:e,editor:i}),!o){const e=Rectangle.from(n.client.element).center;o=[e.x-i.width/2,e.y-i.height/2]}i.showByPoint(o)}editDependency(e){this.client.readOnly||this.internalShowEditor(e)}getEditor(){var e,n,r;const o=this;let{editor:i}=o;return i||(i=o.editor=DependencyEditor.new({dependencyEditFeature:o,autoShow:!1,anchor:!0,scrollAction:"realign",constrainTo:window,autoClose:o.autoClose,cls:o.cls,rootElement:o.client.rootElement,listeners:{keydown:o.onPopupKeyDown,thisObj:o}},o.editorConfig),0===i.items.length&&console.warn("Editor configured without any `items`"),i.eachWidget((e=>{const n=e.ref||e.id;n&&!o[n]&&(o[n]=e)})),null===(e=o.saveButton)||void 0===e||e.on("click",o.onSaveClick,o),null===(n=o.deleteButton)||void 0===n||n.on("click",o.onDeleteClick,o),null===(r=o.cancelButton)||void 0===r||r.on("click",o.onCancelClick,o),o.editor)}loadRecord(e){const n=this;n.fromNameField.value=e.fromEvent.name,n.toNameField.value=e.toEvent.name,n.lagField&&(n.lagField.value=new Duration(e.lag,e.lagUnit)),n.editor.record=n.dependencyRecord=e}async save(){const e=this,{client:n,dependencyRecord:r}=e;if(!r||!e.isValid)return;const{dependencyStore:o,values:i}=e;if(!1!==n.trigger("beforeDependencySave",{dependencyRecord:r,values:i})){var a;if(e.onBeforeSave(r),e.updateRecord(r),o&&!r.stores.length){if(!1===n.trigger("beforeDependencyAdd",{dependencyRecord:r,dependencyEdit:e}))return;o.add(r)}await(null===(a=n.project)||void 0===a?void 0:a.commitAsync()),n.trigger("afterDependencySave",{dependencyRecord:r}),e.onAfterSave(r)}return r}async deleteDependency(){const{client:e,editor:n,dependencyRecord:r}=this;var o;return!1!==e.trigger("beforeDependencyDelete",{dependencyRecord:r})&&(n.containsFocus&&n.revertFocus(),e.dependencyStore.remove(r),await(null===(o=e.project)||void 0===o?void 0:o.commitAsync()),!0)}get dependencyStore(){return this.client.dependencyStore}onActivateEditor({dependency:e,event:n}){this.disabled||(this.lastPointerDownCoordinate=[n.clientX,n.clientY],this.editDependency(e))}}DependencyEdit._$name="DependencyEdit",GridFeatureManager.registerFeature(DependencyEdit,!1);class EventMenu extends TimeSpanMenuBase{static get $name(){return"EventMenu"}static get configurable(){return{processItems:null,type:"event"}}static get pluginConfig(){const e=super.pluginConfig;return e.chain.push("populateEventMenu"),e}onElementKeyDown(e){!e.handled&&e.target.matches(this.client.eventSelector)&&" "===e.key&&this.internalShowContextMenu(this.createContextMenuEventForElement(e.target))}getDataFromEvent(e){const n=super.getDataFromEvent(e),r=n.targetElement,{client:o}=this,i=o.resolveEventRecord(r),a=i&&(o.resolveResourceRecord(r)||o.resourceStore.last),l=i&&o.resolveAssignmentRecord(r);return Object.assign(n,{eventElement:r,eventRecord:i,resourceRecord:a,assignmentRecord:l})}getTargetElementFromEvent({target:e}){return DomHelper.up(e,this.client.eventSelector)||e}shouldShowMenu(e){return e.eventRecord}showContextMenuFor(e,{targetElement:n,event:r}={}){this.disabled||(n||(n=this.getElementFromRecord(e)))&&(r=r||this.createContextMenuEventForElement(n),this.internalShowContextMenu(r))}getElementFromRecord(e){return this.client.getElementsFromEventRecord(e)[0]}populateEventMenu({items:e}){const{client:n}=this;e.deleteEvent={hidden:n.readOnly},e.unassignEvent={hidden:n.readOnly||n.eventStore.usesSingleAssignment}}changeItems(e){const{client:n}=this;return Objects.merge({deleteEvent:{text:"L{SchedulerBase.Delete event}",icon:"b-icon b-icon-trash",weight:200,onItem({menu:e,eventRecord:r}){var o;const i=null===(o=e.focusInEvent)||void 0===o?void 0:o.relatedTarget;i&&(i.focus(),n.navigator.activeItem=i),n.removeEvents(n.isEventSelected(r)?n.selectedEvents:[r])}},unassignEvent:{text:"L{SchedulerBase.Unassign event}",icon:"b-icon b-icon-unassign",weight:300,onItem({menu:e,eventRecord:r,resourceRecord:o}){var i;const a=null===(i=e.focusInEvent)||void 0===i?void 0:i.relatedTarget;a&&(a.focus(),n.navigator.activeItem=a),r.unassign(o)}}},e)}}EventMenu.featureClass="",EventMenu._$name="EventMenu",GridFeatureManager.registerFeature(EventMenu,!0,"Scheduler"),GridFeatureManager.registerFeature(EventMenu,!1,"ResourceHistogram");class EventContextMenu extends EventMenu{static get $name(){return"EventContextMenu"}construct(e,n){super.construct(...arguments),this.scheduler=e,VersionHelper.deprecate("Scheduler","5.0.0","`EventContextMenu` feature is deprecated, in favor of `EventMenu` feature. Please see https://bryntum.com/docs/scheduler/guide/Scheduler/upgrades/3.1.0 for more information."),e.features.eventMenu&&(e.features.eventMenu.disabled=!0)}}EventContextMenu.featureClass="",EventContextMenu._$name="EventContextMenu",GridFeatureManager.registerFeature(EventContextMenu),GridFeatureManager.registerFeature(EventContextMenu,!1,"ResourceHistogram");class ScheduleContext extends InstancePlugin{static get $name(){return"ScheduleContext"}static get pluginConfig(){return{after:["render"]}}construct(e,n){e.useBackgroundCanvas=!0,e.on("scheduleclick",this.onSchedulerClick,this),this.scheduler=e,super.construct(e,n)}render(){const{scheduler:e}=this;this.element=DomHelper.createElement({parent:e.backgroundCanvas,className:"b-schedule-selected-tick",style:`${e.isVertical?"height":"width"}:${e.tickSize}px;`})}onSchedulerClick(e){const{scheduler:n,element:r}=this,{tickStartDate:o,tickEndDate:i,resourceRecord:a}=e,l=n.currentOrientation.getTimeSpanRenderData({startDate:o,endDate:i,startDateMS:o.getTime(),endDateMS:i.getTime()},a);let c;if(n.isVertical)c=l.top,r.style.width=l.width+"px";else{const e=n.getRowFor(a);c=e.top,r.style.height=e.height+"px"}DomHelper.setTranslateXY(r,l.left,c)}}ScheduleContext.featureClass="b-scheduler-context",ScheduleContext._$name="ScheduleContext",GridFeatureManager.registerFeature(ScheduleContext,!1,["Scheduler"]);class EventCopyPaste extends(InstancePlugin.mixin(KeyMap)){static get $name(){return"EventCopyPaste"}static get pluginConfig(){return{assign:["copyEvents","pasteEvents"],chain:["onElementKeyDown","populateEventMenu","populateScheduleMenu","onEventDataGenerated"]}}static get configurable(){return{nameField:"name",keyMap:{"Ctrl+C":"copy","Ctrl+X":"cut","Ctrl+V":"paste"}}}static get properties(){return{clipboardRecords:[]}}construct(e,n){super.construct(e,n),e.features.scheduleContext&&(e.features.scheduleContext.disabled=!1),e.on("scheduleclick",this.onSchedulerClick,this),this.scheduler=e}onEventDataGenerated(e){const{eventRecord:n}=e;e.cls["b-cut-item"]=n.meta.isCut}onSchedulerClick(e){this._cellClickedContext=e}onElementKeyDown(e){const n=this,r=n.client.features.cellEdit;n.disabled||0!==window.getSelection().toString().length||r&&r.isEditing||!e.target.closest(".b-grid-body-container")||n.performKeyMapAction(e)}copy(){this.copyEvents()}cut(){this.copyEvents(void 0,!0)}paste(){this.pasteEvents()}copyEvents(e=this.client.selectedEvents,n=!1){const r=this,{scheduler:o}=r;o.readOnly||!1===o.trigger("beforeCopy",{records:e,isCut:n})||(r._isCut=n,r.clipboardRecords=e,o.eventStore.forEach((e=>{e.meta.isCut=r._isCut&&r.clipboardRecords.includes(e)})),o.refreshWithTransition())}pasteEvents(e,n){const r=this,{clipboardRecords:o,scheduler:i}=r;if(0===arguments.length){var a;const o=r._cellClickedContext||{};e=o.date,n=o.resourceRecord||(null===(a=i.selectedAssignments[0])||void 0===a?void 0:a.resource)}o.length&&!1!==i.trigger("beforePaste",{records:o,resourceRecord:n,date:e,isCut:r._isCut})&&(o.forEach((o=>{const a={};e&&Object.assign(a,{startDate:e,duration:o.duration,durationUnit:o.durationUnit}),r._isCut?(o.set(a),o.meta.isCut=!1):((o=o.copy(a)).name=r.generateNewName(o),i.eventStore.add(o)),n&&i.eventStore.assignEventToResource(o,n)})),r._isCut&&(r._isCut=!1,r.clipboardRecords=[]))}populateEventMenu({eventRecord:e,items:n}){const r=this;r.scheduler.readOnly||(n.copyEvent={text:"L{copyEvent}",localeClass:r,icon:"b-icon b-icon-copy",weight:110,onItem:()=>r.copyEvents([e],!1)},n.cutEvent={text:"L{cutEvent}",localeClass:r,icon:"b-icon b-icon-cut",weight:120,onItem:()=>r.copyEvents([e],!0)})}populateScheduleMenu({items:e}){const n=this,{scheduler:r}=n;!r.readOnly&&n.clipboardRecords.length&&(e.pasteEvent={text:"L{pasteEvent}",localeClass:n,icon:"b-icon b-icon-paste",disabled:0===r.resourceStore.count,weight:110,onItem:({date:e,resourceRecord:o})=>n.pasteEvents(e,o,r.getRowFor(o))})}generateNewName(e){const n=e[this.nameField];let r=2;for(;this.client.eventStore.findRecord(this.nameField,`${n} - ${r}`);)r++;return`${n} - ${r}`}}EventCopyPaste.featureClass="b-event-copypaste",EventCopyPaste._$name="EventCopyPaste",GridFeatureManager.registerFeature(EventCopyPaste,!0,"Scheduler");class EventDrag extends DragBase{static get $name(){return"EventDrag"}static get defaultConfig(){return{constrainDragToResource:!1,constrainDragToTimeSlot:!1,validatorFn:()=>{},validatorFnThisObj:null,unifiedDrag:null}}get scheduler(){return this.client}isElementDraggable(e,n){const{scheduler:r}=this,o=DomHelper.up(e,r.eventSelector),{eventResize:i}=r.features;if(!o||this.disabled)return!1;if(e.matches('[class$="-handle"]'))return!1;const a=r.resolveEventRecord(o),l=null==a?void 0:a.resizable;return!(l&&i&&!i.disabled&&!a.isMilestone&&((!0===l||"start"===l)&&i.isOverStartHandle(n,o)||(!0===l||"end"===l)&&i.isOverEndHandle(n,o)))&&!r.readOnly}getTriggerParams(e){const{assignmentRecords:n,eventRecords:r,resourceRecord:o,browserEvent:i}=e;return{context:e,draggedRecords:r,eventRecords:r,resourceRecord:o,assignmentRecords:n,event:i}}triggerEventDrag(e,n){e.startDate-n==0&&e.newResource===e.resourceRecord||this.scheduler.trigger("eventDrag",Object.assign(this.getTriggerParams(e),{startDate:e.startDate,endDate:e.endDate,newResource:e.newResource}))}triggerDragStart(e){this.drag.startEvent.ignoreNavigation=!0,this.scheduler.trigger("eventDragStart",this.getTriggerParams(e))}triggerDragAbort(e){this.scheduler.trigger("eventDragAbort",this.getTriggerParams(e))}triggerAfterDrop(e,n){this.currentOverClient.trigger("afterEventDrop",Object.assign(this.getTriggerParams(e),{valid:n}))}onDragAbort(){const{assignmentStore:e,eventStore:n}=this.client;this.dragData.initialAssignmentsState.find((({resource:r,assignment:o},i)=>{var a;return!e.includes(o)||!n.includes(o.event)||r.id!==(null===(a=this.dragData.assignmentRecords[i])||void 0===a?void 0:a.resourceId)}))&&this.client.refresh(),super.onDragAbort(...arguments)}isValidDrop(e){const{newResource:n,resourceRecord:r}=e,o=e.draggedEntities[0];return!(!n||n.isSpecialRow)&&(r===n||!o.event.resources.includes(n))}checkDragValidity(e,n){const r=this,o=r.currentOverClient;let i=r.dragData.context.valid;return i&&(i=o.allowOverlap||o.isDateRangeAvailable(e.startDate,e.endDate,e.draggedEntities[0],e.newResource)?r.validatorFn.call(r.validatorFnThisObj||r,e,n):{valid:!1,message:r.L("L{eventOverlapsExisting}")}),i}async updateRecords(e){const n=this,r=n.scheduler,o=n.currentOverClient;r.eventStore.suspendAutoCommit(),o.eventStore.suspendAutoCommit();const i=await n.updateAssignments(r,o,e,false);return r.eventStore.resumeAutoCommit(),o.eventStore.resumeAutoCommit(),o.trigger("eventDrop",Object.assign(n.getTriggerParams(e),{isCopy:false,event:e.browserEvent,targetEventRecord:e.targetEventRecord,targetResourceRecord:e.newResource})),i}async updateAssignments(e,n,r,o){const i=this,a=e!==n,l="vertical"===n.mode,{assignmentStore:c,eventStore:d,resourceStore:u}=e,{assignmentStore:p,eventStore:b,resourceStore:g}=n,{eventRecords:m,assignmentRecords:f,timeDiff:v,initialAssignmentsState:y,resourceRecord:x,newResource:C}=r,S=i.unifiedDrag,D=i.adjustStartDate(f[0].event.startDate,v),E=[],k=[],T=[],_=[],M=[],R=new Set,I=new Set;e.suspendRefresh(),n.suspendRefresh();let F,A=!1,O=!1;F=a?g.indexOf(C)-u.indexOf(x):i.constrainDragToResource?0:u.indexOf(x)-u.indexOf(C),l&&m.forEach(((n,o)=>{const i=r.eventBarEls[o];delete n.instanceMeta(e).hasTemporaryDragElement,i.dataset.transient&&i.remove()}));const P=r.eventBarEls.slice();for(let e=0;e<f.length;e++){let n=f[e],r=n.event;if(!(n.isOccurrenceAssignment||c.includes(n)&&d.includes(r))){P[e].remove(),P.splice(e,1),f.splice(e,1),e--;continue}const l=y[e],g=r,m=l.startDate,x=l.resource,q=this.constrainDragToTimeSlot?m:S?D:i.adjustStartDate(m,v);if(R.add(x),o)n=n.copy(null),T.push(n);else if(c!==p){const e=g.assignments.length>1,o=n.copy();if(_.push(n),e||k.push(g),!b.getById(g.id)){const e=Object.assign({},g.data,{id:g.id,calendar:null});r=e,E.push(e)}b.usesSingleAssignment||T.push(o),n=o}let L=C;if(!S)if(a){if(e>0){const e=x.resourceStore.indexOf(x);L=L.resourceStore.getAt(e+F)||L}}else if(0!==F){const e=Math.max(Math.min(u.indexOf(x)-F,u.count-1),0);L=u.getAt(e)}else L=x;var H;if(R.add(L),n.resource!==L&&(n.resource=L,r.isEvent&&I.add(r),A=!0,r.isOccurrence&&r.set("newResource",L),a&&b.usesSingleAssignment&&(r.resourceId=L.id)),!M.find((e=>e.draggedEvent===r))&&!DateHelper.isEqual(r.startDate,q))r.startDate=q,M.push({draggedEvent:r,originalStartDate:m}),r.isEvent&&I.add(r),O=!0,null===(H=r.resources)||void 0===H||H.forEach((e=>R.add(e)))}c.remove(_),d.remove(k),p.add(T);const q=b.add(E);if(!i.constrainDragToTimeline)for(let o=0;o<f.length;o++){const i=f[o].event,a=(null==q?void 0:q.find((e=>e.id===i.id)))||i,l=r.eventBarEls[o],c=0===o?r.context.element:r.context.relatedElements[o-1],d=n.isInTimeAxis(a);if(DomSync.removeChild(e.foregroundCanvas,l),a.resource&&n.rowManager.getRowFor(a.resource)&&d){const e=Rectangle.from(c,n.foregroundCanvas,!0);DomHelper.setTranslateXY(c,e.x,e.y),c.classList.remove("b-sch-event-hover"),c.classList.remove("b-active"),c.classList.remove("b-drag-proxy"),c.classList.remove("b-dragging"),c.retainElement=!1,DomSync.addChild(n.foregroundCanvas,c,a.assignments[0].id)}}null==q||q.forEach((e=>I.add(e))),(_.length||k.length||T.length||E.length)&&(A=!0),(A||O)&&(b.usesSingleAssignment&&I.forEach((e=>e.beginBatch())),await Promise.all([n.project!==e.project?n.project.commitAsync():null,e.project.commitAsync()]),b.usesSingleAssignment&&I.forEach((e=>e.endBatch(!1,!0)))),A||(A=M.some((({draggedEvent:e,originalStartDate:n})=>!DateHelper.isEqual(e.startDate,n)))),n.resumeRefresh(),e.resumeRefresh(),f.length>0&&(A?(n.fillTicks&&P.forEach((e=>delete e.lastDomConfig)),n.refreshWithTransition(),a&&e.refreshWithTransition()):r.valid=!1)}getProductDragContext(e){const n=this.scheduler.resolveEventRecord(e.browserEvent.target);let r;r=this.constrainDragToResource?e.resourceRecord:this.constrainDragToTimeline?this.resolveResource()||e.newResource||e.resourceRecord:this.resolveResource();const{assignmentRecords:o,eventRecords:i}=e;return{valid:Boolean(r&&!r.isSpecialRow),draggedRecords:i,eventRecords:i,assignmentRecords:o,newResource:r,targetEventRecord:n}}getMinimalDragData(e){const n=this,{scheduler:r}=n,o=n.getElementFromContext(e),i=r.resolveEventRecord(o),a=r.resolveResourceRecord(o),l=r.resolveAssignmentRecord(o),c=l?[l]:[];r.multiEventSelect&&l&&(r.isAssignmentSelected(c[0])||n.drag.startEvent.ctrlKey)&&c.push.apply(c,n.getRelatedRecords(l));return{eventRecord:i,resourceRecord:a,assignmentRecord:l,eventRecords:[...new Set(c.map((e=>e.event)))],assignmentRecords:c}}setupProductDragData(e){const n=this,{scheduler:r}=n,o=n.getElementFromContext(e),{eventRecord:i,resourceRecord:a,assignmentRecord:l,assignmentRecords:c}=n.getMinimalDragData(e),d=Rectangle.from(o),u=[];if(n.constrainDragToResource&&!a)throw new Error("Resource could not be resolved for event: "+i.id);const p=r.getDateConstraints(n.constrainDragToResource?a:null,i);return n.constrainDragToTimeline&&n.setupConstraints(r.getScheduleRegion(n.constrainDragToResource?a:null,i),d,r.timeAxisViewModel.snapPixelAmount,Boolean(p)),c.forEach((e=>{let n=r.getElementFromAssignmentRecord(e);n||(n=r.currentOrientation.addTemporaryDragElement(e.event,e.resource),n=n.innerElement),u.push(n)})),u.forEach(((e,n)=>u[n]=e.parentNode)),{record:l,draggedEntities:c,dateConstraints:p,eventBarEls:u}}getDragData(e){const n=this.getMinimalDragData(e)||{};return _objectSpread2(_objectSpread2(_objectSpread2({},super.getDragData(e)),n),{},{initialAssignmentsState:n.assignmentRecords.map((e=>({startDate:e.event.startDate,resource:e.resource,assignment:e})))})}getRelatedRecords(e){return this.scheduler.selectedAssignments.filter((n=>n!==e&&n.event.isDraggable))}getCoordinate(e,n,r){const o=this.currentOverClient;if(o.isHorizontal){let i=r[0];if("default"!==o.milestoneLayoutMode&&e.isMilestone)switch(o.milestoneAlign){case"center":i+=n.offsetWidth/2;break;case"end":i+=n.offsetWidth}return i}{let i=r[1];if("default"!==o.milestoneLayoutMode&&e.isMilestone)switch(o.milestoneAlign){case"center":i+=n.offsetHeight/2;break;case"end":i+=n.offsetHeight}return i}}resolveResource(){const e=this.dragData.dragProxy||this.dragData.context.element,n=this.currentOverClient,{isHorizontal:r}=n,{context:o}=this.dragData,i=Rectangle.from(e,null,!0),a=n.isVertical||this.unifiedDrag?o.clientY:i.center.y,l=Rectangle.from(e,n.timeAxisSubGridElement,!0),{x:c,y:d}=l.center;let u;if(r){const e=n.rowManager.getRowAt(a);u=e&&n.resourceStore.getAt(e.dataIndex)}else u=n.resolveResourceRecord(n.timeAxisSubGridElement.querySelector(".b-sch-timeaxis-cell"),[c,d]);return u}adjustStartDate(e,n){const r=this.currentOverClient;return r.timeAxis.roundDate(new Date(e-0+n),!!r.snapRelativeToEventStartDate&&e)}getRecordElement(e){return this.scheduler.getElementFromAssignmentRecord(e,!0)}}EventDrag._$name="EventDrag",GridFeatureManager.registerFeature(EventDrag,!0,"Scheduler"),GridFeatureManager.registerFeature(EventDrag,!1,"ResourceHistogram");class EventDragCreate extends DragCreateBase{static get $name(){return"EventDragCreate"}static get configurable(){return{validatorFn:()=>!0,lockLayout:!1}}construct(e,n){this.scheduler=e,super.construct(e,n)}get store(){return this.scheduler.eventStore}updateLockLayout(e){this.dragActiveCls="b-dragcreating"+(e?" b-dragcreate-lock":"")}handleBeforeDragCreate(e,n,r){const{resourceRecord:o}=e,{scheduler:i}=this,a=(!i.isSchedulerPro||o.isWorkingTime(e.mousedownDate))&&i.trigger("beforeDragCreate",{resourceRecord:o,date:e.mousedownDate,event:r});return this.dateConstraints=i.getDateConstraints(o,n),a}dragStart(e){var n;const r=this,{client:o}=r,{eventStore:i,assignmentStore:a,enableEventAnimations:l,features:c}=o,{resourceRecord:d}=e,u=r.createEventRecord(e),p=Boolean(c.eventEdit&&!c.eventEdit.disabled||c.taskEdit&&!c.taskEdit.disabled||c.simpleEventEdit&&!c.simpleEventEdit.disabled),b=[d];return u.set("duration",DateHelper.diff(u.startDate,u.endDate,u.durationUnit,!0)),u.isCreating=p,u.meta.isDragCreating=!0,e.initialDate=u.get(this.draggingEnd?"startDate":"endDate"),!1!==r.handleBeforeDragCreate(e,u,e.event)&&(!1===o.trigger("beforeEventAdd",{eventRecord:u,resourceRecords:b})?(a.unassignEventFromResource(u,d),i.remove(u),!1):(d&&a.assignEventToResource(u,d),r.lockLayout&&(u.meta.excludeFromLayout=!0),null===(n=o.onEventCreated)||void 0===n||n.call(o,u),o.enableEventAnimations=!1,i.addAsync(u).then((()=>o.enableEventAnimations=l)),o.isCreating=!0,o.refreshRows(),o.isCreating=!1,e.itemElement=e.element=o.getElementFromEventRecord(u),super.dragStart(e)))}checkValidity(e,n){const r=this,{client:o}=r;return e.resourceRecord=r.dragging.resourceRecord,(o.allowOverlap||o.isDateRangeAvailable(e.startDate,e.endDate,e.eventRecord,e.resourceRecord))&&r.createValidatorFn.call(r.validatorFnThisObj||r,e,n)}isRowEmpty(e){const n=this.store.getEventsForResource(e);return!n||!n.length}triggerBeforeFinalize(e){this.client.trigger("beforeDragCreateFinalize",e)}createEventRecord(e){const n=this,{client:r}=n,o=r.isHorizontal?"X":"Y",{timeAxis:i,eventStore:a,weekStartDay:l}=r,{event:c,mousedownDate:d}=e,u=n.draggingEnd=c[`page${o}`]>e.startEvent[`page${o}`],p={name:a.modelClass.fieldMap.name.defaultValue||n.L("L{Object.newEvent}"),startDate:u?DateHelper.floor(d,i.resolution,null,l):d,endDate:u?d:DateHelper.ceil(d,i.resolution,null,l)};return r.project.isGanttProjectMixin&&ObjectHelper.assign(p,{constraintDate:p.startDate,constraintType:"startnoearlierthan"}),a.createRecord(p)}async finalizeDragCreate(e){return delete e.eventRecord.meta.excludeFromLayout,delete e.eventRecord.meta.isDragCreating,super.finalizeDragCreate(e)}getTipHtml(...e){const n=super.getTipHtml(...e),{element:r}=this.tip;return r.classList.add("b-sch-dragcreate-tooltip"),r.classList.toggle("b-too-narrow",this.dragging.context.tooNarrow),n}onAborted(e){var n,r;const{eventRecord:o,resourceRecord:i}=e;null===(n=(r=this.store).unassignEventFromResource)||void 0===n||n.call(r,o,i),this.store.remove(o)}}EventDragCreate._$name="EventDragCreate",GridFeatureManager.registerFeature(EventDragCreate,!0,"Scheduler"),GridFeatureManager.registerFeature(EventDragCreate,!1,"ResourceHistogram");class EventDragSelect extends(Delayable(InstancePlugin)){static get $name(){return"EventDragSelect"}construct(e,n){this.timeline=e,this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),e.multiEventSelect=!0;this.targetSelector=[".b-timeline-subgrid .b-grid-cell",".b-timeline-subgrid"].join(","),super.construct(e,n)}static get pluginConfig(){return{chain:["onElementMouseDown","onElementMouseMove"]}}onElementMouseDown(e){const n=this,r=n.client;e.touches||0!==e.button||n.disabled||e.target.matches(n.targetSelector)&&(n.startX=e.clientX,n.startY=e.clientY,n.element=DomHelper.createElement({tag:"div",className:"b-dragselect-rect"},!0)[0],r.floatRoot.appendChild(n.element),r.element.classList.add("b-dragselecting"),n.eventRectangles=Array.from(r.element.querySelectorAll(r.eventSelector)).map((e=>({rectangle:Rectangle.from(e,!0),record:r.resolveEventRecord(e)}))),r.clearEventSelection(),n.subGridElementRect=Rectangle.from(r.timeAxisSubGrid.element,!0),r.navigator.disabled=!0,document.addEventListener("mouseup",n.onDocumentMouseUp))}onElementMouseMove(e){const n=this;if("number"==typeof n.startX){const r=Math.max(e.clientX,n.subGridElementRect.left),o=Math.max(e.clientY,n.subGridElementRect.top),i=Math.min(n.startX,r),a=Math.min(n.startY,o),l=Math.abs(n.startX-r),c=Math.abs(n.startY-o),d=new Rectangle(i,a,l,c).constrainTo(n.subGridElementRect);DomHelper.setTranslateXY(n.element,d.left,d.top),n.element.style.width=d.width+"px",n.element.style.height=d.height+"px",n.rectangle=d,n.updateSelection()}}onDocumentMouseUp(e){var n;const r=this,o=r.client,{selectedAssignments:i,navigator:a}=o;null===(n=r.element)||void 0===n||n.remove(),o.element.classList.remove("b-dragselecting"),r.startX=r.startY=null,a.skipNextClick=o.timeAxisSubGridElement.contains(e.target),a.disabled=!1,i.length&&(a.skipScrollIntoView=!0,o.activeAssignment=i[i.length-1],a.activeItem.focus(),a.skipScrollIntoView=!1),document.removeEventListener("mouseup",r.onDocumentMouseUp)}updateSelection(){const e=this,n=e.eventRectangles,r=e.rectangle;for(let o=0,i=n.length;o<i;o++){const i=n[o],a=r.intersect(i.rectangle,!0);a&&!i.selected?(i.selected=!0,e.client.selectEvent(i.record,!0)):!a&&i.selected&&(i.selected=!1,e.client.deselectEvent(i.record))}}}EventDragSelect._$name="EventDragSelect",GridFeatureManager.registerFeature(EventDragSelect,!1,"Scheduler");class EventEditor extends Popup{static get type(){return"eventeditor"}static get $name(){return"EventEditor"}static get configurable(){return{items:[],draggable:{handleSelector:":not(button,.b-field-inner)"},axisLock:"flexible",scrollable:{overflowY:!0},readOnly:null,titleRenderer:null}}updateLocalization(){super.updateLocalization(...arguments),this.initialTitle=this.title||""}chainResourceStore(){return this.eventEditFeature.resourceStore.makeChained((e=>!e.isSpecialRow),null,{storeClass:Store,excludeCollapsedRecords:!1})}processWidgetConfig(e){var n;const{eventEditFeature:r}=this;if(null!==(n=e.type)&&void 0!==n&&n.includes("date")&&null==e.weekStartDay&&(e.weekStartDay=this.weekStartDay),"extraItems"===e.type)return!1;let o={};if("resourceField"===e.ref){if(!r.showResourceField)return!1;e.store=this.chainResourceStore(),e.multiSelect=!r.eventStore.usesSingleAssignment,r.resourceFieldConfig&&(o=r.resourceFieldConfig)}return!("nameField"===e.ref&&!r.showNameField)&&(!("deleteButton"===e.ref&&!r.showDeleteButton)&&("startDate"!==e.name&&"endDate"!==e.name||"date"!==e.type||(o.format=r.dateFormat),"startDate"!==e.name&&"endDate"!==e.name||"time"!==e.type||(o.format=r.timeFormat),r.startDateConfig&&"startDate"===e.name&&"date"===e.type&&(o=r.startDateConfig),r.startTimeConfig&&"startDate"===e.name&&"time"===e.type&&(o=r.startTimeConfig),r.endDateConfig&&"endDate"===e.name&&"date"===e.type&&(o=r.endDateConfig),r.endTimeConfig&&"endDate"===e.name&&"time"===e.type&&(o=r.endTimeConfig),Object.assign(e,o),super.processWidgetConfig(e)))}show(...e){var n;const{resourceField:r}=this.widgetMap;r&&(null===(n=r.store)||void 0===n?void 0:n.masterStore)!==this.eventEditFeature.resourceStore&&(r.store=this.chainResourceStore()),super.show(...e)}onBeforeShow(...e){const n=this,{record:r,titleRenderer:o}=n,i=n.widgetMap.deleteButton;i&&(i.hidden=n.readOnly||r.isCreating),n.title=o?n.callback(o,n,[r]):n.initialTitle,super.onBeforeShow&&super.onBeforeShow(...e)}onInternalKeyDown(e){this.trigger("keyDown",{event:e}),super.onInternalKeyDown(e)}updateReadOnly(e){const{deleteButton:n,saveButton:r,cancelButton:o}=this.widgetMap;super.updateReadOnly(e),n&&(n.hidden=e),r&&(r.hidden=e),o&&(o.hidden=e)}}EventEditor.initClass(),EventEditor._$name="EventEditor";class RecurrenceConfirmationPopup extends Popup{static get $name(){return"RecurrenceConfirmationPopup"}static get type(){return"recurrenceconfirmation"}static get defaultConfig(){return{localizableProperties:[],align:"b-t",autoShow:!1,autoClose:!1,closeAction:"onRecurrenceClose",modal:!0,centered:!0,scrollAction:"realign",constrainTo:window,draggable:!0,closable:!0,floating:!0,eventRecord:null,cls:"b-sch-recurrenceconfirmation",bbar:{defaults:{localeClass:this},items:{changeMultipleButton:{weight:100,color:"b-green",text:"L{Object.Yes}",onClick:"up.onChangeMultipleButtonClick"},changeSingleButton:{weight:200,color:"b-gray",text:"L{update-only-this-btn-text}",onClick:"up.onChangeSingleButtonClick"},cancelButton:{weight:300,color:"b-gray",text:"L{Object.Cancel}",onClick:"up.onCancelButtonClick"}}}}}get changeMultipleButton(){return this.widgetMap.changeMultipleButton}get changeSingleButton(){return this.widgetMap.changeSingleButton}get cancelButton(){return this.widgetMap.cancelButton}onChangeMultipleButtonClick(){this.processMultipleRecords(),this.hide()}onChangeSingleButtonClick(){this.processSingleRecord(),this.hide()}onCancelButtonClick(){this.cancelFn&&this.cancelFn.call(this.thisObj),this.hide()}onRecurrenceClose(){this.cancelFn&&this.cancelFn.call(this.thisObj),this.hide()}confirm(e={}){const n=this;return["actionType","eventRecord","title","html","changerFn","cancelFn","thisObj"].forEach((r=>{r in e&&(n[r]=e[r])})),n.updatePopupContent(),super.show(e)}updatePopupContent(){const e=this,{changeMultipleButton:n,changeSingleButton:r,cancelButton:o}=e.widgetMap,{eventRecord:i,actionType:a="update"}=e,l=i&&i.isRecurring;l?(n.text=e.L("L{Object.Yes}"),e.html=e.L(`${a}-all-message`)):(n.text=e.L(`${a}-further-btn-text`),e.html=e.L(`${a}-further-message`)),r.text=e.L(`${a}-only-this-btn-text`),o.text=e.L("L{Object.Cancel}"),l?r.hide():r.show(),e.width=e.L("L{width}"),e.title=e.L(`${a}-title`)}processMultipleRecords(){const{eventRecord:e,changerFn:n,thisObj:r}=this;e.beginBatch(),this.callback(n,r,[e]),e.endBatch()}processSingleRecord(){const{eventRecord:e,changerFn:n,thisObj:r}=this;e.beginBatch(),e.recurrence=null,this.callback(n,r,[e]),e.recurrenceRule=null,e.endBatch()}updateLocalization(){this.updatePopupContent(),super.updateLocalization()}}RecurrenceConfirmationPopup.initClass(),RecurrenceConfirmationPopup._$name="RecurrenceConfirmationPopup";class RecurrenceFrequencyCombo extends(LocalizableComboItems(Combo)){static get $name(){return"RecurrenceFrequencyCombo"}static get type(){return"recurrencefrequencycombo"}static get defaultConfig(){return{editable:!1,displayField:"text",valueField:"value"}}buildLocalizedItems(){return[{value:"DAILY",text:this.L("L{Daily}")},{value:"WEEKLY",text:this.L("L{Weekly}")},{value:"MONTHLY",text:this.L("L{Monthly}")},{value:"YEARLY",text:this.L("L{Yearly}")}]}}RecurrenceFrequencyCombo.initClass(),RecurrenceFrequencyCombo._$name="RecurrenceFrequencyCombo";class RecurrenceCombo extends RecurrenceFrequencyCombo{static get $name(){return"RecurrenceCombo"}static get type(){return"recurrencecombo"}static get defaultConfig(){return{customValue:"custom",placeholder:"None",splitCls:"b-recurrencecombo-split",items:!0,highlightExternalChange:!1}}buildLocalizedItems(){const e=this;return[{value:"none",text:e.L("L{None}")},...super.buildLocalizedItems(),{value:e.customValue,text:e.L("L{Custom}"),cls:e.splitCls}]}set value(e){e=e||"none",super.value=e}get value(){return super.value}set recurrence(e){const n=this;n.value=e?n.isCustomRecurrence(e)?n.customValue:e.frequency:null}isCustomRecurrence(e){const{interval:n,days:r,monthDays:o,months:i}=e;return Boolean(n>1||r&&r.length||o&&o.length||i&&i.length)}}RecurrenceCombo.initClass(),RecurrenceCombo._$name="RecurrenceCombo";class RecurrenceLegendButton extends Button{static get $name(){return"RecurrenceLegendButton"}static get type(){return"recurrencelegendbutton"}static get defaultConfig(){return{localizableProperties:[],recurrence:null}}set recurrence(e){this._recurrence=e,this.updateLegend()}get recurrence(){return this._recurrence}set eventStartDate(e){this._eventStartDate=e,this.updateLegend()}get eventStartDate(){return this._eventStartDate}updateLegend(){const e=this,{recurrence:n}=e;e.text=n?RecurrenceLegend.getLegend(n,e.eventStartDate):""}onLocaleChange(){this.updateLegend()}updateLocalization(){this.onLocaleChange(),super.updateLocalization()}}RecurrenceLegendButton.initClass(),RecurrenceLegendButton._$name="RecurrenceLegendButton";class RecurrenceDaysCombo extends(LocalizableComboItems(Combo)){static get $name(){return"RecurrenceDaysCombo"}static get type(){return"recurrencedayscombo"}static get defaultConfig(){const e=["SU","MO","TU","WE","TH","FR","SA"],n=e.join(",");return{allDaysValue:n,editable:!1,defaultValue:n,workingDaysValue:e.filter(((e,n)=>!DateHelper.nonWorkingDays[n])).join(","),nonWorkingDaysValue:e.filter(((e,n)=>DateHelper.nonWorkingDays[n])).join(","),splitCls:"b-recurrencedays-split",displayField:"text",valueField:"value"}}buildLocalizedItems(){const e=this;return e._weekDays=null,e.weekDays.concat([{value:e.allDaysValue,text:e.L("L{day}"),cls:e.splitCls},{value:e.workingDaysValue,text:e.L("L{weekday}")},{value:e.nonWorkingDaysValue,text:e.L("L{weekend day}")}])}get weekDays(){const e=this;if(!e._weekDays){const n=DateHelper.weekStartDay,r=DateHelper.getDayNames().map(((e,n)=>({text:e,value:RecurrenceDayRuleEncoder.encodeDay(n)})));e._weekDays=r.slice(n).concat(r.slice(0,n))}return e._weekDays}set value(e){const n=this;e&&Array.isArray(e)&&(e=e.join(",")),e&&n.store.findRecord("value",e)||(e=n.defaultValue),super.value=e}get value(){let e=super.value;return e&&Array.isArray(e)&&(e=e.join(",")),e}}RecurrenceDaysCombo.initClass(),RecurrenceDaysCombo._$name="RecurrenceDaysCombo";class RecurrenceDaysButtonGroup extends ButtonGroup{static get $name(){return"RecurrenceDaysButtonGroup"}static get type(){return"recurrencedaysbuttongroup"}static get defaultConfig(){return{defaults:{cls:"b-raised",toggleable:!0}}}construct(e={}){e.columns=7,e.items=this.buildItems(),super.construct(e)}updateItemText(e){const n=RecurrenceDayRuleEncoder.decodeDay(e.value)[0];e.text=DateHelper.getDayName(n).substring(0,3)}buildItems(){const e=this;if(!e.__items){const n=DateHelper.weekStartDay,r=DateHelper.getDayNames().map(((e,n)=>({text:e.substring(0,3),value:RecurrenceDayRuleEncoder.encodeDay(n)})));e.__items=r.slice(n).concat(r.slice(0,n))}return e.__items}set value(e){e&&Array.isArray(e)&&(e=e.join(",")),super.value=e}get value(){let e=super.value;return e&&Array.isArray(e)&&(e=e.join(",")),e}onLocaleChange(){this.items.forEach(this.updateItemText,this)}updateLocalization(){this.onLocaleChange(),super.updateLocalization()}get widgetClassList(){const e=super.widgetClassList;return e.push("b-field"),e}}RecurrenceDaysButtonGroup.initClass(),RecurrenceDaysButtonGroup._$name="RecurrenceDaysButtonGroup";class RecurrenceMonthDaysButtonGroup extends ButtonGroup{static get $name(){return"RecurrenceMonthDaysButtonGroup"}static get type(){return"recurrencemonthdaysbuttongroup"}static get defaultConfig(){return{defaults:{toggleable:!0,cls:"b-raised"}}}get minValue(){return 1}get maxValue(){return 31}construct(e={}){e.columns=7,e.items=this.buildItems(),super.construct(e)}buildItems(){const e=this,n=[];for(let r=e.minValue;r<=e.maxValue;r++)n.push({text:r+"",value:r});return n}get widgetClassList(){const e=super.widgetClassList;return e.push("b-field"),e}}RecurrenceMonthDaysButtonGroup.initClass(),RecurrenceMonthDaysButtonGroup._$name="RecurrenceMonthDaysButtonGroup";class RecurrenceMonthsButtonGroup extends ButtonGroup{static get $name(){return"RecurrenceMonthsButtonGroup"}static get type(){return"recurrencemonthsbuttongroup"}static get defaultConfig(){return{defaults:{toggleable:!0,cls:"b-raised"}}}construct(e={}){e.columns=4,e.items=this.buildItems(),super.construct(e)}buildItems(){return DateHelper.getMonthNames().map(((e,n)=>({text:e.substring(0,3),value:n+1})))}updateItemText(e){e.text=DateHelper.getMonthName(e.value-1).substring(0,3)}onLocaleChange(){this.items.forEach(this.updateItemText,this)}updateLocalization(){this.onLocaleChange(),super.updateLocalization()}get widgetClassList(){const e=super.widgetClassList;return e.push("b-field"),e}}RecurrenceMonthsButtonGroup.initClass(),RecurrenceMonthsButtonGroup._$name="RecurrenceMonthsButtonGroup";class RecurrenceStopConditionCombo extends(LocalizableComboItems(Combo)){static get $name(){return"RecurrenceStopConditionCombo"}static get type(){return"recurrencestopconditioncombo"}static get defaultConfig(){return{editable:!1,placeholder:"Never",displayField:"text",valueField:"value"}}buildLocalizedItems(){return[{value:"never",text:this.L("L{Never}")},{value:"count",text:this.L("L{After}")},{value:"date",text:this.L("L{On date}")}]}set value(e){e=e||"never",super.value=e}get value(){return super.value}get recurrence(){return this._recurrence}set recurrence(e){let n=null;e.endDate?n="date":e.count&&(n="count"),this._recurrence=e,this.value=n}}RecurrenceStopConditionCombo.initClass(),RecurrenceStopConditionCombo._$name="RecurrenceStopConditionCombo";class RecurrencePositionsCombo extends(LocalizableComboItems(Combo)){static get $name(){return"RecurrencePositionsCombo"}static get type(){return"recurrencepositionscombo"}static get defaultConfig(){return{editable:!1,splitCls:"b-sch-recurrencepositions-split",displayField:"text",valueField:"value",defaultValue:1,maxPosition:5}}buildLocalizedItems(){const e=this;return e.buildDayNumbers().concat([{value:"-1",text:e.L("L{position-1}"),cls:e.splitCls}])}buildDayNumbers(){const e=this;return ArrayHelper.populate(e.maxPosition,(n=>({value:n+1,text:e.L(`position${n+1}`)})))}set value(e){const n=this;e&&Array.isArray(e)&&(e=e.join(",")),e&&n.store.findRecord("value",e)||(e=n.defaultValue),super.value=e}get value(){const e=super.value;return e?`${e}`.split(",").map((e=>parseInt(e,10))):[]}}RecurrencePositionsCombo.initClass(),RecurrencePositionsCombo._$name="RecurrencePositionsCombo";class RecurrenceEditor extends Popup{static get $name(){return"RecurrenceEditor"}static get type(){return"recurrenceeditor"}static get configurable(){return{draggable:!0,closable:!0,floating:!0,cls:"b-recurrenceeditor",title:"L{Repeat event}",autoClose:!0,width:470,defaults:{localeClass:this},items:{frequencyField:{type:"recurrencefrequencycombo",name:"frequency",label:"L{Frequency}",weight:10,onChange:"up.onFrequencyFieldChange"},intervalField:{type:"numberfield",weight:15,name:"interval",label:"L{Every}",min:1,required:!0},daysButtonField:{type:"recurrencedaysbuttongroup",weight:20,name:"days",forFrequency:"WEEKLY"},monthDaysRadioField:{type:"checkbox",weight:30,toggleGroup:"radio",forFrequency:"MONTHLY",label:"L{Each}",checked:!0,onChange:"up.onMonthDaysRadioFieldChange"},monthDaysButtonField:{type:"recurrencemonthdaysbuttongroup",weight:40,name:"monthDays",forFrequency:"MONTHLY"},monthsButtonField:{type:"recurrencemonthsbuttongroup",weight:50,name:"months",forFrequency:"YEARLY"},positionAndDayRadioField:{type:"checkbox",weight:60,toggleGroup:"radio",forFrequency:"MONTHLY|YEARLY",label:"L{On the}",onChange:"up.onPositionAndDayRadioFieldChange"},positionsCombo:{type:"recurrencepositionscombo",weight:80,name:"positions",forFrequency:"MONTHLY|YEARLY"},daysCombo:{type:"recurrencedayscombo",weight:90,name:"days",forFrequency:"MONTHLY|YEARLY",flex:1},stopRecurrenceField:{type:"recurrencestopconditioncombo",weight:100,label:"L{End repeat}",onChange:"up.onStopRecurrenceFieldChange"},countField:{type:"numberfield",weight:110,name:"count",min:2,required:!0,disabled:!0,label:" "},endDateField:{type:"datefield",weight:120,name:"endDate",hidden:!0,disabled:!0,label:" ",required:!0}},bbar:{defaults:{localeClass:this},items:{foo:{type:"widget",cls:"b-label-filler",weight:100},saveButton:{color:"b-green",text:"L{Save}",onClick:"up.onSaveClick",weight:200},cancelButton:{color:"b-gray",text:"L{Object.Cancel}",onClick:"up.onCancelClick",weight:300}}}}}updateReadOnly(e){super.updateReadOnly(e),this.bbar.hidden=e}updateRecord(e){super.updateRecord(e);const n=this,r=e.timeSpan,o=r&&r.startDate,{daysButtonField:i,monthDaysButtonField:a,monthsButtonField:l,monthDaysRadioField:c,positionAndDayRadioField:d,stopRecurrenceField:u}=n.widgetMap;o&&(e.days&&e.days.length||(i.value=[RecurrenceDayRuleEncoder.encodeDay(o.getDay())]),e.monthDays&&e.monthDays.length||(a.value=o.getDate()),e.months&&e.months.length||(l.value=o.getMonth()+1)),e.days&&e.positions?(d.check(),n.isPainted||c.uncheck()):(c.check(),n.isPainted||d.uncheck()),u.recurrence=e}onSaveClick(){const e=this;e.saveHandler?e.saveHandler.call(e.thisObj||e,e,e.record):(e.syncEventRecord(),e.close())}onCancelClick(){const e=this;e.cancelHandler?e.cancelHandler.call(e.thisObj||e,e,e.record):e.close()}syncEventRecord(e){const n=this.getValues((n=>n.name in e&&!n.disabled));e.set(n)}toggleStopFields(){const{countField:e,endDateField:n}=this.widgetMap;switch(this.widgetMap.stopRecurrenceField.value){case"count":e.show(),e.enable(),n.hide(),n.disable();break;case"date":e.hide(),e.disable(),n.show(),n.enable();break;default:e.hide(),n.hide(),e.disable(),n.disable()}}onMonthDaysRadioFieldChange({checked:e}){const{monthDaysButtonField:n}=this.widgetMap;n.disabled=!e||!this.isWidgetAvailableForFrequency(n)}onPositionAndDayRadioFieldChange({checked:e}){const{daysCombo:n,positionsCombo:r}=this.widgetMap;n.disabled=r.disabled=!e||!this.isWidgetAvailableForFrequency(n)}onStopRecurrenceFieldChange(){this.toggleStopFields()}isWidgetAvailableForFrequency(e,n=this.widgetMap.frequencyField.value){return!e.forFrequency||e.forFrequency.indexOf(n)>-1}onFrequencyFieldChange({value:e,valid:n}){const r=this,o=r.queryAll((e=>"forFrequency"in e));if(n&&e){for(let n=0;n<o.length;n++){const i=o[n];r.isWidgetAvailableForFrequency(i,e)?(i.show(),i.enable()):(i.hide(),i.disable())}r.widgetMap.intervalField.hint=r.L(`${e}intervalUnit`),r.toggleFieldsState()}}toggleFieldsState(){const e=this,{widgetMap:n}=this;e.onMonthDaysRadioFieldChange({checked:n.monthDaysRadioField.checked}),e.onPositionAndDayRadioFieldChange({checked:n.positionAndDayRadioField.checked}),e.onStopRecurrenceFieldChange()}updateLocalization(){const{countField:e,intervalField:n,frequencyField:r}=this.widgetMap;e.hint=this.L("L{time(s)}"),r.value&&(n.hint=this.L(`${r.value}intervalUnit`)),super.updateLocalization()}}RecurrenceEditor.initClass(),RecurrenceEditor._$name="RecurrenceEditor";var RecurringEventEdit=e=>class RecurringEventEdit extends(e||Base){static get $name(){return"RecurringEventEdit"}static get configurable(){return{recurringEventsItems:{recurrenceCombo:{type:"recurrencecombo",label:"L{EventEdit.Repeat}",ref:"recurrenceCombo",weight:700},editRecurrenceButton:{type:"recurrencelegendbutton",ref:"editRecurrenceButton",name:"recurrenceRule",color:"b-gray",flex:"1",weight:800}},showRecurringUI:null}}changeEditorConfig(e){return e.items=_objectSpread2(_objectSpread2({},e.items),this.recurringEventsItems),e=super.changeEditorConfig(e)}construct(e,n){const r=this;super.construct(e,n),r.scheduler.on({beforeEventDelete:r.onRecurrableEventBeforeDelete,beforeEventSave:r.onRecurrableEventBeforeSave,thisObj:r})}doDestroy(){this._recurrenceConfirmation&&this.recurrenceConfirmation.destroy(),this._recurrenceEditor&&this.recurrenceEditor.destroy(),super.doDestroy()}onEditorConstructed(e){const n=this;e.on({hide:n.onRecurringEventEditorHide,thisObj:n}),n.editRecurrenceButton&&(n.editRecurrenceButton.menu=n.recurrenceEditor),n.recurrenceCombo&&n.recurrenceCombo.on({change:n.onRecurrenceComboChange,thisObj:n})}internalShowEditor(){this.toggleRecurringFieldsVisibility(this.client.enableRecurringEvents&&!1!==this.showRecurringUI)}toggleRecurringFieldsVisibility(e=!0){var n,r,o,i;const a=e?"show":"hide";null===(n=this.editRecurrenceButton)||void 0===n||null===(r=n[a])||void 0===r||r.call(n),null===(o=this.recurrenceCombo)||void 0===o||null===(i=o[a])||void 0===i||i.call(o)}onRecurringEventEditorHide(){var e,n;null!==(e=this.recurrenceEditor)&&void 0!==e&&e.isVisible&&this.recurrenceEditor.hide(),null!==(n=this.recurrenceConfirmation)&&void 0!==n&&n.isVisible&&this.recurrenceConfirmation.hide()}makeRecurrence(e){const n=this.eventRecord,r=n.copy();let o=n.recurrence;return o=!e&&o?o.copy():new n.recurrenceModel(e?{rule:e}:{}),o.timeSpan=r,r.setStartDate(this.values.startDate),o.suspendTimeSpanNotifying(),o}onRecurrableEventBeforeSave({eventRecord:e,context:n}){const r=this;e.supportsRecurring&&(e.isRecurring||e.isOccurrence)&&(r.recurrenceConfirmation.confirm({actionType:"update",eventRecord:e,changerFn(){n.finalize(!0)},cancelFn(){n.finalize(!1)}}),n.async=!0)}showDisplayConfirmationOnEventDelete(e){return this.isEditing&&this.eventRecord===e&&e.supportsRecurring&&(e.isRecurring||e.isOccurrence)}onRecurrableEventBeforeDelete({eventRecords:e,context:n}){const r=e[0];if(this.showDisplayConfirmationOnEventDelete(r))return this.recurrenceConfirmation.confirm({actionType:"delete",eventRecord:r,changerFn(){n.finalize(!0)},cancelFn(){n.finalize(!1)}}),!1}set recurrenceConfirmation(e){this._recurrenceConfirmation=e}get recurrenceConfirmation(){const e=this;let n=e._recurrenceConfirmation;return n&&n.$$name||(n=Widget.create(Object.assign({type:"recurrenceconfirmation",owner:e.getEditor()},n)),e._recurrenceConfirmation=n),n}set recurrenceEditor(e){this._recurrenceEditor=e}get recurrenceEditor(){const e=this;let n=e._recurrenceEditor;return n&&n.$$name||(n=Widget.create(Object.assign({type:"recurrenceeditor",autoShow:!1,centered:!0,modal:!0,constrainTo:window,anchor:!1,rootElement:e.rootElement,saveHandler:e.recurrenceEditorSaveHandler,onBeforeShow:e.onBeforeShowRecurrenceEditor.bind(e),thisObj:e},n)),e._recurrenceEditor=n,n.readOnly=e._readOnly),n}onBeforeShowRecurrenceEditor(){const e=this,{recurrenceEditor:n,eventRecord:r}=e;n&&r&&r.supportsRecurring&&(e.recurrence||(e.recurrence=e.makeRecurrence()),e.recurrence.timeSpan.setStartDate(e.values.startDate),n.record=e.recurrence,n.centered=!0)}loadRecurrenceData(e){this.recurrence=e,this.updateRecurrenceFields(e)}updateRecurrenceFields(e){const n=this,{editRecurrenceButton:r}=n;n.recurrenceCombo&&(n.recurrenceCombo.recurrence=e),r&&(r.recurrence=e,r.value=e?e.rule:null,e&&n.client.enableRecurringEvents&&!1!==n.showRecurringUI?r.show():r.hide())}onRecurrenceComboChange({source:e,value:n,userAction:r}){const o=this,{recurrenceEditor:i}=o;n==e.customValue?r&&(o.recurrenceCombo.recurrence=o.makeRecurrence(),i.centered?i.show():i.show((o.editRecurrenceButton||e).element)):o.loadRecurrenceData(n?o.makeRecurrence(`FREQ=${n}`):null)}recurrenceEditorSaveHandler(e,n){e.syncEventRecord(n),this.updateRecurrenceFields(n),e.close()}onDatesChange(...e){if(super.onDatesChange(...e),!this.loadingRecord&&this.editRecurrenceButton){const{startDate:e}=this.values;e&&(this.editRecurrenceButton.eventStartDate=e)}}internalLoadRecord(e,n){e&&e.supportsRecurring&&this.loadRecurrenceData(e.recurrence?this.makeRecurrence():null)}};class ResourceCombo extends Combo{static get $name(){return"ResourceCombo"}static get type(){return"resourcecombo"}static get configurable(){return{showEventColor:!1,picker:{cls:"b-resourcecombo-picker",itemIconTpl(e,n){const{eventColor:r}=e,o=!DomHelper.isNamedColor(r);return`<div class="b-icon b-icon-square${!r||o?"":` b-sch-foreground-${r}`}"${r?o?` style="color:${r}"`:"":' style="display:none"'}></div>`}}}}changeShowEventColor(e){return Boolean(e)}updateShowEventColor(e){const{_picker:n}=this,r=e?"add":"remove";this.element.classList[r]("b-show-event-color"),null==n||n.element.classList[r]("b-show-event-color")}changePicker(e,n){var r;return null===(r=e=super.changePicker(e,n))||void 0===r||r.element.classList[this.showEventColor?"add":"remove"]("b-show-event-color"),e}get innerElements(){return[{class:"b-icon b-resource-icon b-icon-square b-hide-display",reference:"resourceIcon"},this.inputElement]}syncInputFieldValue(){var e,n;const r=this,{resourceIcon:o,lastResourceIconCls:i}=r,{classList:a}=o,l=null!==(e=null===(n=r.selected)||void 0===n?void 0:n.eventColor)&&void 0!==e?e:"";super.syncInputFieldValue(),o.style.color="",i&&a.remove(i),r.lastResourceIconCls=null,l?(DomHelper.isNamedColor(l)?(r.lastResourceIconCls=`b-sch-foreground-${l}`,a.add(r.lastResourceIconCls)):o.style.color=l,a.remove("b-hide-display")):a.add("b-hide-display")}}ResourceCombo.initClass(),ResourceCombo._$name="ResourceCombo";class EventEdit extends(EditBase.mixin(RecurringEventEdit,Delayable)){static get $name(){return"EventEdit"}static get configurable(){return{triggerEvent:"eventdblclick",showResourceField:!0,resourceFieldConfig:null,typeField:"eventType",eventRecord:null,readOnly:null,editorConfig:{type:"eventeditor",title:"L{EventEdit.Edit event}",closable:!0,localeClass:this,defaults:{localeClass:this},items:{nameField:{type:"text",label:"L{Name}",clearable:!0,name:"name",weight:100,required:!0},resourceField:{type:"resourcecombo",label:"L{Resource}",name:"resource",editable:!0,valueField:"id",displayField:"name",highlightExternalChange:!1,destroyStore:!0,weight:200},startDateField:{type:"date",cls:"b-inline",clearable:!1,required:!0,label:"L{Start}",name:"startDate",flex:"1 0 60%",validateDateOnly:!0,weight:300},startTimeField:{type:"time",clearable:!1,required:!0,name:"startDate",cls:"b-match-label",flex:"1 0 40%",weight:400},endDateField:{type:"date",cls:"b-inline",clearable:!1,required:!0,label:"L{End}",name:"endDate",flex:"1 0 60%",validateDateOnly:!0,weight:500},endTimeField:{type:"time",clearable:!1,required:!0,name:"endDate",cls:"b-match-label",flex:"1 0 40%",weight:600}},bbar:{hideWhenEmpty:!0,defaults:{localeClass:this},items:{saveButton:{color:"b-green",text:"L{Save}",weight:100},deleteButton:{color:"b-gray",text:"L{Delete}",weight:200},cancelButton:{color:"b-gray",text:"L{Object.Cancel}",weight:300}}}},targetEventElement:null}}static get pluginConfig(){return{chain:["populateEventMenu","onEventEnterKey","editEvent"]}}construct(e,n){this.scheduler=e,this.readOnly=e.readOnly,super.construct(e,n),e.on({projectChange:"onChangeProject",readOnly:"onClientReadOnlyToggle",thisObj:this})}get readOnly(){return this.editor?this.editor.readOnly:this._readOnly}updateReadOnly(e){this.editor&&(this.editor.readOnly=e)}onClientReadOnlyToggle({readOnly:e}){this.readOnly=e}getEditor(){var e,n,r,o,i;const a=this;let{editor:l}=a;return l||(l=a.editor=Widget.create(a.getEditorConfig()),l.readOnly=a._readOnly,0===l.items.length&&console.warn("Event Editor configured without any `items`"),l.on({beforehide:"resetEditingContext",beforeshow:"onBeforeEditorShow",keydown:"onPopupKeyDown",thisObj:a}),a.scheduler.relayEvents(l,["beforeSetRecord"],"eventEdit"),Object.values(l.widgetMap).forEach((e=>{const n=e.ref||e.id;if(n&&!a[n])switch(a[n]=e,e.name){case"startDate":case"endDate":e.on("change",a.onDatesChange,a)}})),null===(e=a.onEditorConstructed)||void 0===e||e.call(a,l),null===(n=a.eventTypeField)||void 0===n||n.on("change",a.onEventTypeChange,a),null===(r=a.saveButton)||void 0===r||r.on("click",a.onSaveClick,a),null===(o=a.deleteButton)||void 0===o||o.on("click",a.onDeleteClick,a),null===(i=a.cancelButton)||void 0===i||i.on("click",a.onCancelClick,a),a.editor)}getEditorConfig(){const e=this,{autoClose:n,cls:r,scheduler:o}=e;return ObjectHelper.assign({owner:o,eventEditFeature:e,weekStartDay:e.weekStartDay,align:"b-t",id:`${o.id}-event-editor`,autoShow:!1,anchor:!0,scrollAction:"realign",constrainTo:window,autoClose:n,cls:r},e.editorConfig)}internalShowEditor(e,n,r=null){var o,i,a;const l=this,{scheduler:c}=l,d=(null===(o=r)||void 0===o||null===(i=o.target)||void 0===i?void 0:i.nodeType)===Element.ELEMENT_NODE?r.target:DomHelper.down(c.getElementFromEventRecord(e,n),c.eventInnerSelector),u=e.isPartOfStore(c.eventStore);if((r=null!==(a=r)&&void 0!==a?a:{target:d,anchor:!0}).target||!u||e.isCreating){if(!1===c.trigger("beforeEventEdit",{eventEdit:l,eventRecord:e,resourceRecord:n,eventElement:d}))return c.element.classList.remove("b-eventeditor-editing"),!1;l.resourceRecord=n;const o=l.getEditor(e);l.editingContext={eventRecord:e,resourceRecord:n,eventElement:d,editor:o,isPartOfStore:u},super.internalShowEditor&&super.internalShowEditor(e,n,r),l.typeField&&l.toggleEventType(e.get(l.typeField)),l.loadRecord(e,n),o.centered||!o.anchor?o.show():d?(l.targetEventElement=d,o.showBy(r)):(o.show(),o.updateCentered(!0));const i=c.timeAxisViewModel.timeResolution;if("hour"===i.unit||"minute"===i.unit){const e=`${i.increment}${i.unit}`;l.startTimeField&&(l.startTimeField.step=e),l.endTimeField&&(l.endTimeField.step=e)}l.detachListeners("changesWhileEditing"),c.eventStore.on({change:l.onChangeWhileEditing,refresh:l.onChangeWhileEditing,thisObj:l,name:"changesWhileEditing"})}}onChangeWhileEditing(){const e=this;e.isEditing&&e.editingContext.isPartOfStore&&!e.eventRecord.isPartOfStore(e.scheduler.eventStore)&&e.onCancelClick()}onBeforeEditorShow(){super.onBeforeEditorShow(...arguments),this.scheduler.trigger("beforeEventEditShow",_objectSpread2({eventEdit:this},this.editingContext))}updateTargetEventElement(e,n){e&&e.classList.add("b-editing"),n&&n.classList.remove("b-editing")}editEvent(e,n,r=null){const o=this,{simpleEventEdit:i}=o.client.features;if(o.isEditing&&o.resetEditingContext(),!(o.disabled||e.isCreating&&i&&!i.disabled))return o.scheduler.element.classList.add("b-eventeditor-editing"),o.doEditEvent(...arguments)}get isEditing(){var e;return Boolean(null===(e=this.editor)||void 0===e?void 0:e.isVisible)}doEditEvent(e,n,r=null){const o=this,{scheduler:i}=o,a=e.isCreating;n||(n=e.resource||o.resourceStore.getById(e.resourceId)),a&&TimeSpan.prototype.normalize.call(e),r||a?o.internalShowEditor(e,n,r?{target:r}:null):i.scrollResourceEventIntoView(n,e,null,{animate:!0,edgeOffset:0,extendTimeAxis:!1}).then((()=>o.internalShowEditor(e,n)),(()=>i.element.classList.remove("b-eventeditor-editing")))}loadRecord(e,n){this.loadingRecord=!0,this.internalLoadRecord(e,n),this.loadingRecord=!1}get eventRecord(){return this.editor.record}internalLoadRecord(e,n){const r=this,{eventStore:o}=r.client,{editor:i}=r;if(r.resourceRecord=n,i.record=e,r.resourceField){const a=o.getResourcesForEvent(e);i._isSettingValues=!0,!o.storage.includes(e,!0)&&n?r.resourceField.value=n[r.resourceField.valueField]:r.assignmentStore&&(r.resourceField.value=a.map((e=>e[r.resourceField.valueField]))),i._isSettingValues=!1}super.internalLoadRecord(e,n)}toggleEventType(e){this.editor.element.dataset.eventType=e||"",this.editor.eachWidget((n=>{var r;(null===(r=n.dataset)||void 0===r?void 0:r.eventType)&&(n.hidden=n.dataset.eventType!==e)}))}async finalizeEventSave(e,n,r,o){const i=this,{scheduler:a,eventStore:l,assignmentStore:c}=i;c.suspendAutoCommit(),a.suspendRefresh(),i.onBeforeSave(e),e.beginBatch(),i.updateRecord(e),e.endBatch(),e.isOccurrence?n&&e.set("resourceRecords",n):i.resourceField&&l.assignEventToResource(e,n,!0),e.isCreating=!1,await a.project.commitAsync(),c.resumeAutoCommit(),a.resumeRefresh(!0),a.trigger("afterEventSave",{eventRecord:e}),i.onAfterSave(e),r(e)}save(){return new Promise(((e,n)=>{var r;const o=this,{scheduler:i,eventRecord:a}=o;if(!a||!o.editor.isValid)return void e(!1);const{eventStore:l,values:c}=o,d=(null===(r=o.resourceField)||void 0===r?void 0:r.records)||(o.resourceRecord?[o.resourceRecord]:[]),u=d[0];if(!o.scheduler.allowOverlap&&l){if(d.some((e=>!l.isDateRangeAvailable(c.startDate,c.endDate,a,e))))return void e(!1)}const p={finalize(r){try{!1!==r?o.finalizeEventSave(a,d,e,n):e(!1)}catch(e){n(e)}}};!1!==i.trigger("beforeEventSave",{eventRecord:a,resourceRecords:d,resourceRecord:u,values:c,context:p})?p.async||p.finalize():e(!1)}))}deleteEvent(){return this.detachListeners("changesWhileEditing"),new Promise(((e,n)=>{const{eventRecord:r,editor:o}=this;this.scheduler.removeEvents([r],(n=>{n&&o.containsFocus&&o.revertFocus(),e(n)}))}))}onChangeProject(){this.resourceField&&(this.resourceField.store={})}get eventStore(){return this.scheduler.project.eventStore}get resourceStore(){return this.scheduler.project.resourceStore}get assignmentStore(){return this.scheduler.project.assignmentStore}onActivateEditor({eventRecord:e,resourceRecord:n,eventElement:r}){this.editEvent(e,n,r)}onDragCreateEnd({eventRecord:e,resourceRecord:n,proxyElement:r}){this.editEvent(e,n,r)}onEventEnterKey({assignmentRecord:e,eventRecord:n,target:r}){const o=r.closest(this.client.eventInnerSelector);e?this.editEvent(n,e.resource,o):n&&this.editEvent(n,n.resource,o)}onEventTypeChange({value:e}){this.toggleEventType(e)}populateEventMenu({eventRecord:e,resourceRecord:n,items:r}){this.scheduler.readOnly||(r.editEvent={text:"L{EventEdit.Edit event}",localeClass:this,icon:"b-icon b-icon-edit",weight:100,onItem:()=>{this.editEvent(e,n)}})}resetEditingContext(){this.detachListeners("changesWhileEditing"),super.resetEditingContext(),this.resourceRecord=this.editingContext=this.editor._record=null}}EventEdit._$name="EventEdit",GridFeatureManager.registerFeature(EventEdit,!0,"Scheduler"),GridFeatureManager.registerFeature(EventEdit,!1,["SchedulerPro","ResourceHistogram"]),EventEdit.initClass();class EventFilter extends InstancePlugin{static get $name(){return"EventFilter"}static get pluginConfig(){return{chain:["populateHeaderMenu","populateTimeAxisHeaderMenu"]}}construct(e,n){super.construct(e,n),this.scheduler=e}populateHeaderMenu({column:e,items:n}){"timeAxis"===e.type&&this.populateTimeAxisHeaderMenu(...arguments)}populateTimeAxisHeaderMenu({column:e,items:n}){const r=this;n.eventsFilter={text:"L{filterEvents}",icon:"b-fw-icon b-icon-filter",disabled:r.disabled,localeClass:this,weight:100,menu:{type:"popup",localeClass:this,items:{nameFilter:{weight:110,type:"textfield",cls:"b-eventfilter b-last-row",clearable:!0,keyStrokeChangeDelay:300,label:"L{byName}",localeClass:this,width:200,listeners:{change:r.onEventFilterChange,thisObj:r}}},onBeforeShow({source:e}){const[n]=e.items,o=r.scheduler.eventStore.filters.getBy("property","name");n.value=o&&o.value||""}}}}onEventFilterChange({value:e}){const n=this;""!==e?n.scheduler.eventStore.filter("name",e):n.scheduler.eventStore.removeFilter("name")}}EventFilter.featureClass="b-event-filter",EventFilter._$name="EventFilter",GridFeatureManager.registerFeature(EventFilter,!0,["Scheduler","Gantt"]),GridFeatureManager.registerFeature(EventFilter,!1,"ResourceHistogram");class EventTooltip extends TooltipBase{static get $name(){return"EventTooltip"}static get defaultConfig(){return{template:e=>`\n                ${e.eventRecord.name?StringHelper.xss`<div class="b-sch-event-title">${e.eventRecord.name}</div>`:""}\n                ${e.startClockHtml}\n                ${e.endClockHtml}`,cls:"b-sch-event-tooltip",monitorRecordUpdate:!0,scrollAction:"hide"}}construct(e,n){const r=this;super.construct(e,n),"string"==typeof r.align&&(r.align={align:r.align})}onPaint({firstPaint:e}){if(super.onPaint(...arguments),e){const e=this,n=e.client.features.dependencies;if(n){const r=e.align.offset;e.tooltip.on("beforeshow",(({source:e})=>{n.disabled?e.align.offset=r:e.align.offset=[0,10]}))}}}}EventTooltip._$name="EventTooltip",GridFeatureManager.registerFeature(EventTooltip,!0,"Scheduler"),GridFeatureManager.registerFeature(EventTooltip,!1,"ResourceHistogram");const cl={add:1,remove:1,update:1,removeAll:1,filter:1};class GroupSummary$1 extends GroupSummary{static get $name(){return"GroupSummary"}static get defaultConfig(){return{showTooltip:!0,summaries:null,renderer:null}}static get properties(){return{footersToUpdate:new Set}}static get pluginConfig(){return{chain:["render"]}}construct(e,n){const r=this;if(e.isVertical)throw new Error("GroupSummary feature is not supported in vertical mode");r.scheduler=e,super.construct(e,n),!r.summaries&&r.renderer&&(r.summaries=[{renderer:r.renderer}]),e.isSchedulerBase&&(e.eventStore.on({changePreCommit:r.onEventStoreChange,thisObj:r}),e.on({timeAxisViewModelUpdate:r.onTimeAxisChange,thisObj:r}),e.project.on({dataReady:r.onProjectDataReady,thisObj:r}))}doDestroy(){var e;null===(e=this._tip)||void 0===e||e.destroy(),super.doDestroy()}onTimeAxisChange(){this.scheduler.rowManager.forEach((e=>{e.isGroupFooter&&e.render()}))}onEventStoreChange({action:e,record:n,records:r,changes:o}){if(cl[e]){var i;const{rowManager:e}=this.scheduler,a=n?[n]:r,l=new Set;if(a.forEach((e=>e.resources.forEach((e=>l.add(e))))),null!=(null==o||null===(i=o.resourceId)||void 0===i?void 0:i.oldValue)){const e=this.scheduler.resourceStore.getById(o.resourceId.oldValue);e&&l.add(e)}for(const n of l){let r=e.getRowFor(n);for(;r&&!r.isGroupFooter;)r=e.getRow(r.index+1);r&&this.footersToUpdate.add(r)}}}onProjectDataReady(){const{footersToUpdate:e}=this;if(e.size){for(const r of e){var n;null===(n=r.render)||void 0===n||n.call(r)}e.clear()}}onBeforeRenderRow({row:e,record:n}){if(e.isGroupFooter&&!n.meta.hasOwnProperty("groupFooterFor")){const n=e.elements.normal.querySelector(".b-sch-timeaxis-cell");n&&(n.innerHTML="")}super.onBeforeRenderRow(...arguments)}generateHtml(e,n,r,o,i,a){if("timeAxis"===e.type){const e=this,{scheduler:r}=e,{eventStore:l}=r,c=r.timeAxisViewModel.columnConfig;let d="";const u=r.getResourcesEventsPerTick(n,(({event:e})=>e.resources.some((e=>n.includes(e)))&&(!l.isFiltered||l.records.includes(e))));return r.timeAxis.forEach(((p,b)=>{const g=u[b]||[],m=e.summaries.map((e=>`<div class="b-timeaxis-summary-value">${e.renderer({startDate:p.startDate,endDate:p.endDate,resourceStore:r.resourceStore,events:g,resources:n,eventStore:l,groupRecord:o,groupField:i,groupValue:a})}</div>`)).join("");d+=`<div class="b-timeaxis-tick" style="width: ${c[c.length-1][b].width}px">${m}</div>`})),`<div class="b-timeaxis-group-summary">${d}</div>`}return super.generateHtml(e,n,r,o,i,a)}updateSummaryHtml(e,n,r){const o=super.updateSummaryHtml(e,n,r);if("timeAxis"===n.type){const e={count:0,height:0};return this.summaries.forEach((n=>{n.height?e.height+=n.height:e.count++})),e}return o}getTipHtml({activeTarget:e}){const n=this,r=Array.from(e.parentElement.children).indexOf(e),o=n.scheduler.timeAxis.getAt(r);let i=`<header>${n.L("L{Summary.Summary for}",n.scheduler.getFormattedDate(o.startDate))}</header>`,a=!1;return DomHelper.forEachSelector(e,".b-timeaxis-summary-value",((e,r)=>{const o=n._labels[r],l=e.innerText.trim();i+=`<label>${o||""}</label><div class="b-timeaxis-summary-value">${l}</div>`,e.innerHTML&&(a=!0)})),a?i:null}render(){const e=this,{scheduler:n}=e;var r;n.isSchedulerBase&&(null!==(r=e.summaries)&&void 0!==r&&r.some((e=>e.label))&&e.showTooltip&&!e._tip&&(e._labels=e.summaries.map((e=>e.label||"")),e._tip=new Tooltip({id:`${n.id}-groupsummary-tip`,cls:"b-timeaxis-summary-tip",hoverDelay:0,hideDelay:0,forElement:n.timeAxisSubGridElement,anchorToTarget:!0,forSelector:".b-timeaxis-group-summary .b-timeaxis-tick",getHtml:e.getTipHtml.bind(e)})))}removeSummaryElements(e){const n=e.querySelector(".b-timeaxis-group-summary");null==n||n.remove(),super.removeSummaryElements()}hasSummary(e){return super.hasSummary(e)||e.isTimeAxisColumn}}GroupSummary$1._$name="GroupSummary",GridFeatureManager.registerFeature(GroupSummary$1,!1,"Scheduler");const dl={maintainVisibleStart:!0};class HeaderContextMenu extends InstancePlugin{static get $name(){return"HeaderContextMenu"}static get defaultConfig(){return{extraItems:null,processItems:null}}static get pluginConfig(){return{chain:["populateHeaderMenu"]}}construct(e,n){super.construct(e,n),this.scheduler=e,VersionHelper.deprecate("Scheduler","5.0.0","`HeaderContextMenu` feature is deprecated, in favor of `TimeAxisHeaderMenu` feature. Please see https://bryntum.com/docs/scheduler/guide/Scheduler/upgrades/3.1.0 for more information."),e.features.timeAxisHeaderMenu&&(e.features.timeAxisHeaderMenu.disabled=!0),e.features.headerMenu&&(e.features.headerMenu._showForTimeAxis=!0)}populateHeaderMenu({column:e,items:n,menu:r}){const o=this;if("timeAxis"!==e.type)return;r&&(r.scrollAction="realign"),ObjectHelper.merge(n,o.defaultItems);const i=ObjectHelper.transformNamedObjectToArray(n);o.extraItems&&i.push(...o.extraItems),o.processItems&&o.processItems({items:i});const a=ObjectHelper.transformArrayToNamedObject(i);ObjectHelper.removeAllProperties(n),ObjectHelper.merge(n,a)}get defaultItems(){const e=this,{scheduler:n}=e,{timeAxis:r}=n,o={magnitude:r.shiftIncrement,unit:r.shiftUnit},i={};return i.pickZoomLevel={text:"L{pickZoomLevel}",localeClass:this,icon:"b-fw-icon b-icon-search-plus",disabled:!n.presets.count||e.disabled,menu:{type:"popup",items:[{type:"slider",minWidth:130,showValue:!1}],onBeforeShow({source:r}){const[o]=r.items;o.min=n.minZoomLevel,o.max=n.maxZoomLevel,o.value=n.zoomLevel,e.zoomDetatcher=o.on("input","onZoomSliderChange",e)},onHide(){e.zoomDetatcher&&(e.zoomDetatcher(),e.zoomDetatcher=null)}}},e.startDateField=new DateField({label:e.L("L{startText}"),labelWidth:"6em",required:!0,step:o,listeners:{change:e.onRangeDateFieldChange,thisObj:e}}),e.endDateField=new DateField({label:e.L("L{endText}"),labelWidth:"6em",required:!0,step:o,listeners:{change:e.onRangeDateFieldChange,thisObj:e}}),i.activeDateRange={text:"L{activeDateRange}",localeClass:this,icon:"b-fw-icon b-icon-calendar",disabled:e.disabled,menu:{type:"popup",width:"20em",items:[e.startDateField,e.endDateField,{type:"button",cls:"b-left-nav-btn",icon:"b-icon b-icon-prev",color:"b-blue b-raised",flex:1,margin:0,listeners:{click:e.onLeftShiftBtnClick,thisObj:e}},{type:"button",cls:"b-today-nav-btn",color:"b-blue b-raised",text:"L{todayText}",localeClass:this,flex:4,margin:"0 8",listeners:{click:e.onTodayBtnClick,thisObj:e}},{type:"button",cls:"b-right-nav-btn",icon:"b-icon b-icon-next",color:"b-blue b-raised",flex:1,listeners:{click:e.onRightShiftBtnClick,thisObj:e}}],onBeforeShow:()=>e.initDates()}},i}onZoomSliderChange({value:e}){this.scheduler.zoomLevel=e}initDates(){const e=this;e.startDateField.suspendEvents(),e.endDateField.suspendEvents(),e.startDateField.value=e.startDateFieldInitialValue=e.scheduler.startDate,e.endDateField.value=e.endDateFieldInitialValue=e.scheduler.endDate,e.startDateField.resumeEvents(),e.endDateField.resumeEvents()}onRangeDateFieldChange({source:e}){const n=this,r=e===n.startDateField,{client:o}=n,{timeAxis:i}=o,a=n.startDateFieldInitialValue&&!r?n.startDateFieldInitialValue:n.startDateField.value;let l=n.endDateFieldInitialValue&&r?n.endDateFieldInitialValue:n.endDateField.value;r?n.startDateFieldInitialValue=null:n.endDateFieldInitialValue=null,l-a?l<a&&(l=DateHelper.add(a,i.shiftIncrement,i.shiftUnit)):l=DateHelper.add(l,i.shiftIncrement,i.shiftUnit),o.setTimeSpan(a,l,dl),n.initDates()}onLeftShiftBtnClick(){this.scheduler.timeAxis.shiftPrevious(),this.initDates()}onTodayBtnClick(){const e=DateHelper.clearTime(new Date);this.scheduler.setTimeSpan(e,DateHelper.add(e,1,"day")),this.initDates()}onRightShiftBtnClick(){this.scheduler.timeAxis.shiftNext(),this.initDates()}}HeaderContextMenu.featureClass="",HeaderContextMenu._$name="HeaderContextMenu",GridFeatureManager.registerFeature(HeaderContextMenu);class HeaderZoom extends InstancePlugin{static get $name(){return"HeaderZoom"}static get pluginConfig(){return{chain:["onElementMouseDown","onElementMouseMove","onElementMouseUp"]}}onElementMouseDown(e){const n=this,r=n.client;if(!e.touches&&0===e.button&&!n.disabled&&e.target.closest(".b-sch-header-timeaxis-cell")){const o=r.subGrids.normal.header.headersElement;n.startX=e.clientX,n.element=DomHelper.createElement({parent:o,tag:"div",className:"b-headerzoom-rect"}),n.headerElementRect=Rectangle.from(o)}}onElementMouseMove(e){const n=this;if(0!==e.buttons||BrowserHelper.isSafari||BrowserHelper.isIE11&&!e.isTrusted){if("number"==typeof n.startX){const r=Math.max(e.clientX,n.headerElementRect.left),o=Math.min(n.startX,r),i=Math.abs(n.startX-r),a=new Rectangle(o-n.headerElementRect.x+n.client.scrollLeft,0,i,n.headerElementRect.height);DomHelper.setTranslateX(n.element,a.left),n.element.style.width=a.width+"px"}}else n.onElementMouseUp(e)}onElementMouseUp(e){const n=this;if("number"==typeof n.startX){const e=n.client,r=Rectangle.from(n.element),o=e.getDateFromCoordinate(r.left,"round",!1),i=e.getDateFromCoordinate(r.right,"round",!1);n.element&&n.element.remove(),n.startX=null,n.client.zoomToSpan({startDate:o,endDate:i})}}}HeaderZoom._$name="HeaderZoom",GridFeatureManager.registerFeature(HeaderZoom,!1,"Scheduler");const hl=["top","left","right","bottom"],ul={top:"b-b",right:"l-l",bottom:"t-t",left:"r-r"},pl={top:1,bottom:1},bl={estimate:1,measure:1},gl={left:1,right:1};class Labels extends InstancePlugin{static get $name(){return"Labels"}static get configurable(){return{labelCls:"b-sch-label",top:null,right:null,bottom:null,left:null,thisObj:null,blurAction:"cancel",labelLayoutMode:"default",labelCharWidth:7}}static get pluginConfig(){return{chain:["onEventDataGenerated"]}}construct(e,n){const r=this;if(e.isVertical)throw new Error("Labels feature is not supported in vertical mode");r.scheduler=e,super.construct(e,n),(r.top||r.bottom||r.left||r.right)&&r.updateHostClasslist()}updateHostClasslist(){const{top:e,bottom:n}=this,{classList:r}=this.scheduler.element;r.remove("b-labels-topbottom"),r.remove("b-labels-top"),r.remove("b-labels-bottom"),(e||n)&&(r.add("b-labels-topbottom"),e&&r.add("b-labels-top"),n&&r.add("b-labels-bottom"))}onLabelDblClick(e){const n=this,r=e.target;if(r&&!n.scheduler.readOnly){const{side:o}=r.dataset,i=n[o],{editor:a,field:l}=i;if(a){const c=this.scheduler.resolveEventRecord(e.target);return a instanceof Editor||(i.editor=new Editor({appendTo:n.scheduler.element,blurAction:n.blurAction,inputField:a,scrollAction:"realign"})),i.editor.startEdit({target:r,align:ul[o],matchSize:!1,record:c,field:l}),e.stopImmediatePropagation(),!1}}}changeTop(e){return this.processLabelSpec(e,"top")}updateTop(){this.updateHostClasslist()}changeRight(e){return this.processLabelSpec(e,"right")}updateRight(){this.updateHostClasslist()}changeBottom(e){return this.processLabelSpec(e,"bottom")}updateBottom(){this.updateHostClasslist()}changeLeft(e){return this.processLabelSpec(e,"left")}updateLeft(){this.updateHostClasslist()}processLabelSpec(e,n){if("function"==typeof e)e={renderer:e};else if("string"==typeof e)e={field:e};else{if(!e)return null;e=Object.setPrototypeOf({},e)}const{scheduler:r}=this,{eventStore:o,resourceStore:i,taskStore:a,id:l}=r,{field:c,editor:d}=e;if(pl[n]&&(r.milestoneWidth=null),e.recordType=o&&!a?"event":"task",c){let n;o&&!a&&(n=o.modelClass.fieldMap[c],n?(e.fieldDef=n,e.recordType="event"):Reflect.has(o.modelClass.prototype,c)&&(e.recordType="event")),!n&&a&&(n=a.modelClass.fieldMap[c],n?(e.fieldDef=n,e.recordType="task"):Reflect.has(i.modelClass.prototype,c)&&(e.recordType="task")),!n&&i&&(n=i.modelClass.fieldMap[c],n?(e.fieldDef=n,e.recordType="resource"):Reflect.has(i.modelClass.prototype,c)&&(e.recordType="resource")),d&&("boolean"==typeof d?r.editor={type:"textfield"}:"string"==typeof d&&(r.editor={type:d}),EventHelper.on({element:r.timeAxisSubGrid.element,delegate:".b-sch-label",dblclick:"onLabelDblClick",thisObj:this}))}return e}doDisable(e){super.doDisable(e),this.client.isPainted&&this.client.refresh()}generateLabelConfigs(e){const n=this,r=[];for(const o of hl)if(n[o]){const{field:i,fieldDef:a,recordType:l,renderer:c,thisObj:d}=n[o],u={tag:"label",className:{[n.labelCls]:1,[`${n.labelCls}-${o}`]:1},dataset:{side:o,taskFeature:`label-${o}`}};let p;const b=`${l}Record`,g=e[b];c?p=c.call(d||n.thisObj||n,{[b]:g,resourceRecord:e.resourceRecord,assignmentRecord:e.assignmentRecord,domConfig:u}):(p=g[i],p="date"!==(null==a?void 0:a.type)||c?StringHelper.encodeHtml(p):DateHelper.format(p,n.client.displayDateFormat)),u.html=p||"",r.push(u)}return r}measureLabels(e,n){const r=this,o=r.client.timeAxisViewModel.getSingleUnitInPixels("millisecond");for(const i of e)if(gl[i.dataset.side]){let{html:e}=i,a=0;if("estimate"===r.labelLayoutMode)e.includes("<")&&(e=DomHelper.stripTags(e)),a=e.length*r.labelCharWidth+18;else{const e=r.labelMeasureElement||(r.labelMeasureElement=DomHelper.createElement({className:"b-sch-event-wrap b-measure-label",parent:r.client.foregroundCanvas}));e.retainElement=!0,DomSync.sync({targetElement:e,childrenOnly:!0,domConfig:{children:[i]}}),a=e.firstElementChild.offsetWidth}const l=a/o;switch(i.dataset.side){case"left":n.startMS-=l;break;case"right":n.endMS+=l}}}onEventDataGenerated(e){var n;if(!(this.disabled||null!==(n=e.eventRecord)&&void 0!==n&&n.isResourceTimeRange)){const n=this.generateLabelConfigs(e);bl[this.labelLayoutMode]&&this.measureLabels(n,e),e.wrapperChildren.push(...n)}}updateLabelLayoutMode(){this.isConfiguring||this.client.refreshWithTransition()}updateLabelCharWidth(){this.isConfiguring||this.client.refreshWithTransition()}}Labels.featureClass="b-sch-labels",Labels._$name="Labels",GridFeatureManager.registerFeature(Labels,!1,"Scheduler");class NonWorkingTime extends(AbstractTimeRanges.mixin(AttachToProjectMixin)){static get $name(){return"NonWorkingTime"}static get defaultConfig(){return{highlightWeekends:!0,showHeaderElements:!0,showLabelInBody:!0,cls:"b-sch-nonworkingtime",maxTimeAxisUnit:"week",hideRangesOnZooming:!0,autoGeneratedWeekends:!1}}static get pluginConfig(){return{chain:["onPaint","attachToProject","updateLocalization"]}}doDestroy(){this.attachToCalendar(null),super.doDestroy()}attachToProject(e){super.attachToProject(e),this.attachToCalendar(e.effectiveCalendar),e.on({name:"project",calendarChange:()=>this.attachToCalendar(this.project.effectiveCalendar),thisObj:this})}onTimeAxisViewModelUpdate(){return this._timeAxisUnitDurationMs=null,super.onTimeAxisViewModelUpdate()}updateLocalization(){var e;if(null===(e=super.updateLocalization)||void 0===e||e.call(this),this.autoGeneratedWeekends&&this.calendar){const e=this.defaultNonWorkingIntervals,n=Boolean(e.length);this.calendar.clearIntervals(n),n&&this.calendar.addIntervals(e)}}attachToCalendar(e){const n=this,{project:r,client:o}=n;if(n.detachListeners("calendar"),n.autoGeneratedWeekends=!1,e){if(!o.isSchedulerPro&&!o.isGantt&&e===r.defaultCalendar&&!r.defaultCalendar.intervalStore.count){const r=n.defaultNonWorkingIntervals;r.length&&(e.addIntervals(r),n.autoGeneratedWeekends=!0)}e.intervalStore.on({name:"calendar",change:()=>n.setTimeout("renderRanges",1)})}o.isEngineReady?n.renderRanges():r.isDestroyed||(n.detachListeners("initialProjectListener"),r.on({name:"initialProjectListener",refresh:n.renderRanges,thisObj:n,once:!0}))}get defaultNonWorkingIntervals(){const e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return DateHelper.nonWorkingDaysAsArray.map((n=>({recurrentStartDate:`on ${e[n]} at 0:00`,recurrentEndDate:`on ${e[(n+1)%7]} at 0:00`,isWorking:!1})))}get calendar(){var e;return null===(e=this.project)||void 0===e?void 0:e.effectiveCalendar}get timeAxisUnitDurationMs(){return this._timeAxisUnitDurationMs||(this._timeAxisUnitDurationMs=DateHelper.as("ms",1,this.client.timeAxis.unit)),this._timeAxisUnitDurationMs}shouldRenderRange(e){return super.shouldRenderRange(e)&&(!this.hideRangesOnZooming||e.durationMS>=this.timeAxisUnitDurationMs)}renderRanges(){const e=this,{store:n,calendar:r}=e,{timeAxis:o,foregroundCanvas:i}=e.client;if(r&&i&&n&&!n.isDestroyed){if(!e.disabled){const i=!e.maxTimeAxisUnit||DateHelper.compareUnits(o.unit,e.maxTimeAxisUnit)<=0;if(n.removeAll(!0),r&&e.highlightWeekends&&i&&o.count){const e=r.getNonWorkingTimeRanges(o.startDate,o.endDate).map(((e,n)=>({name:e.name,cls:"b-nonworkingtime",startDate:e.startDate,endDate:e.endDate}))),i=[];let a;e.forEach((e=>{a&&e.startDate<=a.endDate&&e.name===a.name?a.endDate=e.endDate:(i.push(e),e.id=`nonworking-${i.length}`,a=e)})),n.add(i,!0)}}super.renderRanges()}}}NonWorkingTime._$name="NonWorkingTime",GridFeatureManager.registerFeature(NonWorkingTime,!1,"Scheduler"),GridFeatureManager.registerFeature(NonWorkingTime,!0,["SchedulerPro","Gantt","ResourceHistogram"]);class Pan extends InstancePlugin{static get $name(){return"Pan"}static get defaultConfig(){return{horizontal:!0,vertical:!0}}construct(e,n){this.timeline=e;this.targetSelector=[".b-grid-cell",".b-timeline-subgrid"].join(","),super.construct(e,n)}static get pluginConfig(){return{chain:["onElementMouseDown","onElementMouseMove","onElementMouseUp"]}}onElementMouseDown(e){const n=this,r=n.timeline,o=Object.values(r.features).find((e=>e instanceof DragBase)),i=r.readOnly||!o||o.disabled;e.touches||0!==e.button||n.disabled||(e.target.matches(n.targetSelector)||i&&e.target.closest(r.eventSelector))&&(n.mouseX=e.clientX,n.mouseY=e.clientY)}onElementMouseMove(e){const n=this;if(0!==e.buttons||BrowserHelper.isSafari||BrowserHelper.isIE11&&!e.isTrusted){if("number"==typeof n.mouseX){const r=n.timeline.subGrids.normal.scrollable,o=n.timeline.scrollable,i=e.clientX,a=e.clientY;e.preventDefault(),n.vertical&&o.scrollBy(0,n.mouseY-a),n.horizontal&&r.scrollBy(n.mouseX-i),n.mouseX=i,n.mouseY=a}}else n.onElementMouseUp()}onElementMouseUp(e){this.mouseX=this.mouseY=null}}Pan._$name="Pan",GridFeatureManager.registerFeature(Pan,!1,["Scheduler","Gantt"]);class ResourceTimeRanges extends ResourceTimeRangesBase{static get $name(){return"ResourceTimeRanges"}static get defaultConfig(){return{idPrefix:"resourcetimerange",rangeCls:"b-sch-resourcetimerange",store:!1,resourceTimeRanges:null,tabIndex:0}}attachToProject(e){const n=this,{client:r}=n;if(super.attachToProject(e),!e.resourceTimeRangeStore){e.resourceTimeRangeStore=n._store||r.resourceTimeRangeStore||new ResourceTimeRangeStore({owner:n});const{crudManager:o}=r;o&&!o.resourceTimeRangeStore&&(o.resourceTimeRangeStore=e.resourceTimeRangeStore)}const o=e.resourceTimeRangeStore;n.exposedOnScheduler||(r.resourceTimeRanges&&(o.add(r.resourceTimeRanges),delete r.resourceTimeRanges),Object.defineProperty(r,"resourceTimeRanges",{get:()=>o.records,set:e=>o.data=e}),n.exposedOnScheduler=!0),o.resourceStore||(o.resourceStore=e.resourceStore),n.detachListeners("store"),o.on({name:"store",change:n.onStoreChange,thisObj:n})}attachToResourceTimeRangeStore(e){this.attachToProject(this.project),this.client.refresh()}set store(e){this._store=e}get store(){return this.project.resourceTimeRangeStore}getEventsToRender(e,n){const{timeRanges:r}=e;if(null!=r&&r.length&&!this.disabled){const{startDate:e,endDate:o}=this.client;r.forEach((r=>{r.isRecurring?n.push(...r.getOccurrencesForDateRange(e,o)):n.push(r)}))}return n}shouldInclude(e){return e.isResourceTimeRange&&!e.isNonWorking}doDestroy(){var e;(null===(e=this.store)||void 0===e?void 0:e.owner)===this&&this.store.destroy(),super.doDestroy()}}ResourceTimeRanges.featureClass="",ResourceTimeRanges._$name="ResourceTimeRanges",GridFeatureManager.registerFeature(ResourceTimeRanges,!1,"Scheduler");class ScheduleMenu extends TimeSpanMenuBase{static get $name(){return"ScheduleMenu"}static get defaultConfig(){return{type:"schedule",items:null,processItems:null}}static get pluginConfig(){const e=super.pluginConfig;return e.chain.push("populateScheduleMenu"),e}shouldShowMenu(e){const{client:n}=this,{column:r,targetElement:o,resourceRecord:i}=e;return(r?r===n.timeAxisColumn:n.timeAxisSubGrid.element===o)&&!(i&&i.isSpecialRow)}getDataFromEvent(e){if(DomHelper.isDOMEvent(e)){const{client:n}=this,r=n.getCellDataFromEvent(e),o=n.getDateFromDomEvent(e,"floor"),i=n.resolveResourceRecord(e)||n.isVertical&&n.resourceStore.last;return ObjectHelper.assign(super.getDataFromEvent(e),r,{date:o,resourceRecord:i})}return e}populateScheduleMenu({items:e,resourceRecord:n,date:r}){const{client:o}=this;!o.readOnly&&o.eventStore&&(e.addEvent={text:"L{SchedulerBase.Add event}",icon:"b-icon b-icon-add",disabled:!n||n.readOnly||!n.isWorkingTime(r),weight:100,onItem(){o.internalAddEvent(r,n,o.getRowFor(n))}})}}ScheduleMenu.featureClass="",ScheduleMenu._$name="ScheduleMenu",GridFeatureManager.registerFeature(ScheduleMenu,!0,"Scheduler");class ScheduleContextMenu extends ScheduleMenu{static get $name(){return"ScheduleContextMenu"}construct(e,n){super.construct(e,n),this.scheduler=e,VersionHelper.deprecate("Scheduler","5.0.0","`ScheduleContextMenu` feature is deprecated, in favor of `ScheduleMenu` feature. Please see https://bryntum.com/docs/scheduler/guide/Scheduler/upgrades/3.1.0 for more information."),e.features.scheduleMenu&&(e.features.scheduleMenu.disabled=!0)}}ScheduleContextMenu.featureClass="",ScheduleContextMenu._$name="ScheduleContextMenu",GridFeatureManager.registerFeature(ScheduleContextMenu);class ScheduleTooltip extends InstancePlugin{static get $name(){return"ScheduleTooltip"}static get configurable(){return{messageTemplate:e=>`<div class="b-sch-hovertip-msg">${e.message}</div>`,hideForNonWorkingTime:null}}static get pluginConfig(){return{chain:["onPaint"]}}onPaint({firstPaint:e}){if(!e)return;const n=this,r=n.client;let o;r.isSchedulerPro&&void 0===n.hideForNonWorkingTime&&(n.hideForNonWorkingTime=!0);const i=n.hoverTip=new Tooltip(_objectSpread2(_objectSpread2({id:`${r.id}-schedule-tip`,cls:"b-sch-scheduletip",allowOver:!0,hoverDelay:0,hideDelay:100,showOnHover:!0,forElement:r.timeAxisSubGridElement,anchorToTarget:!1,trackMouse:!0,updateContentOnMouseMove:!0,monitorResize:!1,textContent:!1,forSelector:".b-schedulerbase:not(.b-dragging-event):not(.b-dragcreating) .b-grid-body-container:not(.b-scrolling) .b-timeline-subgrid:not(.b-scrolling) > :not(.b-sch-foreground-canvas):not(.b-group-footer):not(.b-group-row) *",constrainTo:null,getHtml:n.getHoverTipHtml.bind(n),onDocumentMouseDown(e){i.forElement.contains(e.event.target)&&(o=EventHelper.on({element:r.timeAxisSubGridElement,mousemove:e=>i.internalOnPointerOver(e),capture:!0}));const n=i.hideAnimation;i.hideAnimation=!1,i.constructor.prototype.onDocumentMouseDown.call(i,e),i.hideAnimation=n}},n.config),{},{listeners:n.configuredListeners}));i.on({pointerover:({event:e})=>{const r="buttons"in e?e.buttons>0:e.which>0;return!r&&o&&o(),!n.disabled&&!r}});(r.isHorizontal?r.timeAxisSubGrid.scrollable:r.scrollable).on({scroll:n.updateTip,thisObj:n}),r.on({timeAxisViewModelUpdate:n.updateTip,thisObj:n}),n.clockTemplate=new ClockTemplate({scheduler:r})}processConfiguredListeners(){}updateTip(){this.hoverTip.isVisible&&this.hoverTip.updateContent()}doDestroy(){this.destroyProperties("clockTemplate","hoverTip"),super.doDestroy()}getHoverTipHtml({tip:e,event:n}){const r=this,o=r.client,i=n&&o.getDateFromDomEvent(n,"floor",!0);let a=r.lastHtml;if(i&&n.target){const l=o.resolveResourceRecord(n);if(l&&(i-r.lastTime!=0||l.id!==r.lastResourceId)){if(r.hideForNonWorkingTime){const n=l.isWorkingTime(i);e.element.classList.toggle("b-nonworking-time",!n)}r.lastResourceId=l.id,a=r.lastHtml=r.generateTipContent({date:i,event:n,resourceRecord:l})}}else e.hide(),r.lastTime=null,r.lastResourceId=null;return a}generateTipContent({date:e,event:n,resourceRecord:r}){const o=this,i=o.clockTemplate.generateContent({date:e,text:o.client.getFormattedDate(e)}),a=o.messageTemplate({message:o.getText(e,n,r)||""});return o.lastTime=e,i+a}getText(e,n,r){}}ScheduleTooltip.featureClass="b-scheduletip",ScheduleTooltip._$name="ScheduleTooltip",GridFeatureManager.registerFeature(ScheduleTooltip,!0,"Scheduler");class SimpleEventEdit extends InstancePlugin{static get $name(){return"SimpleEventEdit"}static get defaultConfig(){return{triggerEvent:"eventdblclick",eventRecord:null,field:"name",editorConfig:null}}static get pluginConfig(){return{chain:["onEventEnterKey","editEvent"]}}construct(e,n){const r=this;r.scheduler=e,e.eventEdit=r,super.construct(e,n),r.clientListenersDetacher=e.on({[r.triggerEvent]:({eventRecord:e,eventElement:n})=>r.editEvent(e,e.resource,n),dragcreateend:r.onDragCreateEnd,thisObj:r})}doDestroy(){var e;this.clientListenersDetacher(),null===(e=this.editor)||void 0===e||e.destroy(),super.doDestroy()}get eventStore(){return this.scheduler.eventStore}editEvent(e,n,r){const o=this,i=o.scheduler,{eventEdit:a}=o.client.features;i.readOnly||o.disabled||a&&!a.disabled&&!e.isCreating||(r=DomHelper.down(r,i.eventInnerSelector)||r,e=e.isAssignment?e.event:e,o.resource=n,o.event=e,o.element=r,i.element.classList.add("b-eventeditor-editing"),o.editor||(o.editor=Editor.new({owner:i.timeAxisSubGrid,appendTo:i.timeAxisSubGridElement,scrollAction:"realign",align:{align:"c-c"},cls:"b-simpleeventeditor",listeners:{complete:"onEditorComplete",cancel:"onEditorCancel",thisObj:o}},o.editorConfig),o.relayEvents(o.editor,["beforestart","start","beforecomplete","complete","beforecancel","cancel"])),e.isCreating&&(e.name=""),o.editor.startEdit({target:r,record:e,field:o.field}),o.scheduler.navigator.disabled=!0)}onEditorComplete(){this.event.isCreating=!1,this.reset()}onEditorCancel(){this.event.isCreating&&this.event.remove(),this.reset()}reset(){this.scheduler.element.classList.remove("b-eventeditor-editing"),this.scheduler.navigator.disabled=!1,this.event=null,this.resource=null}onEventEnterKey({assignmentRecord:e,eventRecord:n}){const r=e?this.scheduler.getElementFromAssignmentRecord(e):this.scheduler.getElementFromEventRecord(n),o=(e||n).resource;this.editEvent(n,o,r)}onDragCreateEnd({eventRecord:e,resourceRecord:n,proxyElement:r}){this.element=r,this.editEvent(e,n,r)}}SimpleEventEdit._$name="SimpleEventEdit",GridFeatureManager.registerFeature(SimpleEventEdit,!1,"Scheduler");const ml={width:0,height:0};class StickyEvents extends InstancePlugin{static get $name(){return"StickyEvents"}static get type(){return"stickyEvents"}static get pluginConfig(){return{chain:["onEventDataGenerated"]}}construct(e,n){super.construct(e,n),this.toUpdate=new Set,e.on({horizontalScroll:"onSchedulerScroll",scroll:"onSchedulerScroll",thisObj:this,prio:1e4})}onEventDataGenerated(e){this.syncEventContentPosition(e,void 0,!0),this.updateStyles()}onSchedulerScroll({subGrid:e}){const{client:n}=this,r=n.isHorizontal?"horizontalSyncAllEventsContentPosition":"verticalSyncAllEventsContentPosition";this.disabled||n.isHorizontal&&e&&!e.isTimeAxisSubGrid||this[r](n)}updateStyles(){for(const{contentEl:e,style:n}of this.toUpdate)DomHelper.applyStyle(e,n);this.toUpdate.clear()}horizontalSyncAllEventsContentPosition(e){const n=e.currentOrientation.visibleEventDOMConfigs;if(n)for(let e=0,{length:r}=n;e<r;e++){const r=n[e];this.syncEventContentPosition(r.elementData,r.children[0].children[0])}this.toUpdate.size&&this.updateStyles()}verticalSyncAllEventsContentPosition(e){const{resourceMap:n}=e.currentOrientation;for(const e of n.values())for(const{renderData:n,elementConfig:r}of Object.values(e)){const e=[n];r&&n.eventRecord.isResourceTimeRange&&e.push(r.children[0]),this.syncEventContentPosition.apply(this,e)}this.toUpdate.size&&this.updateStyles()}onEventDrag(e,n){if(this.disabled)return;const{client:r}=this,{isHorizontal:o}=r,i="offset"+(o?"Width":"Height"),a=o?r.timeAxisSubGrid.scrollable.x:r.scrollable.y,l=e.querySelector(".b-sch-event-content"),c=DomHelper[o?"getTranslateX":"getTranslateY"](e),d=c+e[i]-1,u=o?"X":"Y",p=e[i],b=null==l?void 0:l[i];if(n||!e.classList.contains("b-milestone-wrap")&&b&&c<a&&d>=a){const e=this.getEventContentMargins(l)[o?"width":"height"],n="center"===(l&&DomHelper.getStyleValue(l.parentNode,"justifyContent"))?(p-b)/2:0,r=p-b-e,i=Math.min(a-c,r-2)-n;l&&DomHelper.applyStyle(l,{transform:i>0?`translate${u}(${i}px)`:""})}}syncEventContentPosition(e,n=e.eventContent,r=!1){if(this.disabled||!1===e.eventRecord.stickyContents)return;const{client:o}=this,{isHorizontal:i}=o,{eventRecord:a,resourceRecord:l}=e,c=i?o.timeAxisSubGrid.scrollable.x:o.scrollable.y,d=r?null:o.getElementFromEventRecord(a,l,!0),u=d&&DomSync.getChild(d,"event.content"),p=e[i?"left":"top"],b=p+e[i?"width":"height"],g=a.instanceMeta(o),m="string"==typeof n.style?n.style=DomHelper.parseStyle(n.style):n.style||(n.style={});if(null==d||!d.classList.contains("b-dragging"))if(p<c&&b>=c&&!a.isMilestone){const n=null==u?void 0:u.offsetWidth,r="center"===((null==u?void 0:u.parentNode)&&DomHelper.getStyleValue(u.parentNode,"justifyContent"))?(e.width-n)/2:0,o=i?e.left+r:e.top,a=o+(i?e.width:e.height)-1,l=i?"X":"Y";if((!u||n)&&o<c&&a>=c){const a=this.getEventContentMargins(u),d=u?(i?e.width-n-a.width:e.height-u.offsetHeight-a.height)-r:Number.MAX_SAFE_INTEGER,p=Math.min(c-o,d-2);m.transform=p>0?`translate${l}(${p}px)`:"",g.stuck=!0}else m.transform="",g.stuck=!1;u&&this.toUpdate.add({contentEl:u,style:m})}else u&&g.stuck&&(m.transform="",g.stuck=!1,this.toUpdate.add({contentEl:u,style:m}))}getEventContentMargins(e){return null!=e&&e.classList.contains("b-sch-event-content")?DomHelper.getEdgeSize(e,"margin"):ml}doDisable(){super.doDisable(...arguments),this.isConfiguring||this.client.refreshWithTransition()}}StickyEvents._$name="StickyEvents",GridFeatureManager.registerFeature(StickyEvents,!0,"Scheduler"),GridFeatureManager.registerFeature(StickyEvents,!1,"ResourceHistogram");class TimelineSummary extends Summary{static get $name(){return"TimelineSummary"}static get configurable(){return{showTooltip:!0}}static get pluginConfig(){return{chain:["renderRows","updateProject"]}}construct(e,n){const r=this;super.construct(e,n),r.summaries||(r.summaries=[{renderer:r.renderer}]),e.isTimelineBase&&(r.updateProject(e.project),e.on({timeAxisViewModelUpdate:r.renderRows,thisObj:r}))}updateProject(e){this.detachListeners("summaryProject"),e.on({name:"summaryProject",dataReady:"updateTimelineSummaries",thisObj:this})}renderRows(){this.client.isHorizontal&&this.client.timeAxisSubGrid.footer.element.querySelector(".b-grid-footer").classList.add("b-sch-summarybar"),super.renderRows(),this.disabled||this.render()}get summaryBarElement(){return this.client.element.querySelector(".b-sch-summarybar")}render(){const e=this,{client:n}=e,r=n.isHorizontal?"width":"height",o=n.timeAxisViewModel.columnConfig,i=e.summaryBarElement;i&&(!e._tip&&e.showTooltip&&e.summaries.some((e=>e.label))&&(e._tip=new Tooltip({id:`${n.id}-summary-tip`,cls:"b-timeaxis-summary-tip",hoverDelay:0,hideDelay:100,forElement:i,anchorToTarget:!0,trackMouse:!1,forSelector:".b-timeaxis-tick",getHtml:({activeTarget:e})=>e._tipHtml})),i.innerHTML=o[o.length-1].map((e=>`<div class="b-timeaxis-tick" style="${r}: ${e.width}px"></div>`)).join(""),e.updateTimelineSummaries())}refresh(){super.refresh(),this.updateTimelineSummaries()}doDisable(e){var n;const{isConfiguring:r}=this.client;super.doDisable(e),null===(n=this.summaryColumn)||void 0===n||n.toggle(!e),r||e||this.render()}doDestroy(){var e;null===(e=this._tip)||void 0===e||e.destroy(),super.doDestroy()}}TimelineSummary._$name="TimelineSummary";class TimeAxisViewModel extends(Events()){static get defaultConfig(){return{timeAxis:null,availableSpace:null,tickSize:100,snap:!1,forceFit:!1,headers:null,mode:"horizontal",suppressFit:!1,columnConfig:[],viewPreset:null,columnLinesFor:null,originalTickSize:null,headersDatesCache:[]}}construct(e){const n=this;n.unitToPixelsCache={},super.construct(e);const r=n.timeAxis.viewPreset||n.viewPreset;if(r)if(r instanceof ViewPreset)n.consumeViewPreset(r);else{const e=el.getPreset(r);e&&n.consumeViewPreset(e)}n.timeAxis.on("reconfigure",n.onTimeAxisReconfigure,n),n.configured=!0}doDestroy(){this.timeAxis.un("reconfigure",this.onTimeAxisReconfigure,this),super.doDestroy()}calculateInfiniteScrollingDateRange(e,n,r=this.viewPreset){const{timeAxis:o,availableSpace:i}=this,{bufferCoef:a}=this.owner,{leafUnit:l,leafIncrement:c,tickSize:d}=r;if(n){const n=Math.ceil((i*a+i/2)/d);return{startDate:o.floorDate(DateHelper.add(e,-n*c,l),!1,l,c),endDate:o.ceilDate(DateHelper.add(e,n*c,l),!1,l,c)}}{const n=Math.ceil(i*a/d);return{startDate:o.floorDate(DateHelper.add(e,-n*c,l),!1,l,c),endDate:o.ceilDate(DateHelper.add(e,Math.ceil((i/d+n)*c),l),!1,l,c)}}}get columnConfig(){return this._columnConfig}set columnConfig(e){this._columnConfig=e}get headers(){return this._headers}set headers(e){if(e&&e.length&&e[e.length-1].cellGenerator)throw new Error("`cellGenerator` cannot be used for the bottom level of your headers. Use TimeAxis#generateTicks() instead.");this._headers=e}get isTimeAxisViewModel(){return!0}get isHorizontal(){return"vertical"!==this.mode}get isVertical(){return"vertical"===this.mode}set forceFit(e){e!==this._forceFit&&(this._forceFit=e,this.update())}reconfigure(e){this.headers=null,this.setConfig(e),this.trigger("reconfigure")}onTimeAxisReconfigure({source:e,suppressRefresh:n}){this.viewPreset!==e.viewPreset&&this.consumeViewPreset(e.viewPreset),n||this.update()}update(e,n=!1,r=!1){const o=this,{timeAxis:i,headers:a}=o;if(o.isConfiguring||o._availableSpace===e)return void(r&&o.trigger("update"));if(o._availableSpace=Math.max(e||o.availableSpace||0,0),"number"!=typeof o.availableSpace)throw new Error("Invalid available space provided to TimeAxisModel");o.columnConfig=[];const l=o._tickSize=o.calculateTickSize(o.originalTickSize);if("number"!=typeof l||l<=0)throw new Error("Invalid timeAxis tick size");o.unitToPixelsCache={},o._totalSize=null;for(let e=0,{length:n}=a;e<n;e++){const n=a[e];if(n.cellGenerator){const r=n.cellGenerator.call(o,i.startDate,i.endDate);o.columnConfig[e]=o.createHeaderRow(e,n,r)}else o.columnConfig[e]=o.createHeaderRow(e,n)}n||o.trigger("update")}getDistanceBetweenDates(e,n){return this.getPositionFromDate(n)-this.getPositionFromDate(e)}getDistanceForDuration(e){return this.getSingleUnitInPixels("millisecond")*e}getPositionFromDate(e,n={}){const r=this.getScaledTick(e,n);return-1===r?-1:this.tickSize*(r-this.timeAxis.visibleTickStart)}getScaledTick(e,{respectExclusion:n,snapToNextIncluded:r,isEnd:o,min:i,max:a}){const{timeAxis:l}=this,{include:c,unit:d}=l;let u=l.getTickFromDate(e);if(-1!==u&&n&&c){let n=!1;if(c.hour&&DateHelper.compareUnits(d,"hour")>0&&"day"!==d){const{from:o,to:i,lengthFactor:a,center:l}=c.hour,d=e.getHours(),u=Math.min(Math.max(d,o),i);if(!r&&u!==d)return-1;const p=l-(l-(u+e.getMinutes()/60))*a;e=DateHelper.add(e,p-d,"h"),n=!0}if(c.day&&DateHelper.compareUnits(d,"day")>0){const{from:d,to:u,lengthFactor:p,center:b}=c.day;let g=e.getDay();o&&0===e.getHours()&&0===e.getMinutes()&&0===e.getSeconds()&&0===e.getMilliseconds()&&--g<0&&(g=6);let m=0;if(g<d||g>=u){if(!r)return-1;if(m=o?(u-g-8)%7:(d-g+7)%7,e=DateHelper.add(e,m,"d"),e=DateHelper.startOf(e,"d",!1),a&&e.getTime()>=a||i&&e.getTime()<=i)return-1}const{weekStartDay:f}=l,v=0===e.getDay()?0:b,y=e.getDay()+e.getHours()/24,x=v-(v-y)*p;e=DateHelper.add(e,x-y+f,"d"),n=!0}n&&(e=DateHelper.constrain(e,l.startDate,l.endDate),u=l.getTickFromDate(e))}return u}getDateFromPosition(e,n,r=!1){const o=this,{timeAxis:i}=o,a=o.getScaledPosition(e)/o.tickSize+i.visibleTickStart;if(a<0||a>i.count){if(r){let e;return e=a<0?DateHelper.add(i.startDate,a,i.unit):DateHelper.add(i.endDate,a-i.count,i.unit),n&&(e=i[n+"Date"](e)),e}return null}return i.getDateFromTick(a,n)}getScaledPosition(e){const{include:n,unit:r,weekStartDay:o}=this.timeAxis;if(n){const i=this.getSingleUnitInPixels("day");if(n.day&&DateHelper.compareUnits(r,"day")>0){const{from:r,lengthFactor:a}=n.day,l=e%(7*i);e=l/a+(r-o)*i+(e-l)}if(n.hour&&DateHelper.compareUnits(r,"hour")>0&&"day"!==r){const{from:r,lengthFactorExcl:o}=n.hour,a=e%i;e=a/o+r*this.getSingleUnitInPixels("hour")+(e-a)}}return e}getSingleUnitInPixels(e){const n=this;return n.unitToPixelsCache[e]||(n.unitToPixelsCache[e]=DateHelper.getUnitToBaseUnitRatio(n.timeAxis.unit,e,!0)*n.tickSize/n.timeAxis.increment)}get snapPixelAmount(){if(this.snap){const{resolution:e}=this.timeAxis;return(e.increment||1)*this.getSingleUnitInPixels(e.unit)}return 1}get tickSize(){return this._tickSize}set tickSize(e){this.setTickSize(e,!1)}setTickSize(e,n){this._tickSize=this.originalTickSize=e,this.update(void 0,n)}get timeResolution(){return this.timeAxis.resolution}calculateTickSize(e){const n=this,{forceFit:r,timeAxis:o,suppressFit:i}=n,a=o.unit;let l=0,c=1;if(n.snap){const e=o.resolution;c=DateHelper.getUnitToBaseUnitRatio(a,e.unit)*e.increment}if(i)l=e;else{const i=n.availableSpace/o.visibleTickTimeSpan;l=r||e<i?i:e,c>0&&(!r||c<1)&&(l=Math.max(1,c*l)/c)}return l}get totalSize(){return this._totalSize||(this._totalSize=Math.round(this.tickSize*this.timeAxis.visibleTickTimeSpan))}get availableSpace(){return this._availableSpace}set availableSpace(e){const n=this;if(n._availableSpace=Math.max(0,e),n._availableSpace>0){const e=n.calculateTickSize(n.originalTickSize);e>0&&e!==n.tickSize&&n.update()}}getDates(e=this.columnLinesFor,n=!1,r=!1){const o=this,i=[],a=n?o.lowestHeader:e,l=o.majorHeaderLevel,c=o.headers&&o.headers[e].unit,d=null!=l&&o.headers&&o.headers[l].unit,u=null!=l&&DateHelper.doesUnitsAlign(d,c);if(!(!o.headers||!o.headers[a].cellGenerator)){const e=o.columnConfig[a];for(let n=1,r=e.length;n<r;n++)i.push({date:e[n].startDate})}else o.forEachInterval(a,((n,a)=>{i.push({date:r?a:n,isMajor:l!==e&&u&&o.isMajorTick(r?a:n)})}));return i}get forceFit(){return this._forceFit}fitToAvailableSpace(e){const n=Math.floor(this.availableSpace/this.timeAxis.visibleTickTimeSpan);this.setTickSize(n,e)}get snap(){return this._snap}set snap(e){e!==this._snap&&(this._snap=e,this.configured&&this.update())}createHeaderRow(e,n,r){const o=this,i=[],a=n.align,l=DateHelper.clearTime(new Date),c=n.headerCellCls||"",{timeAxis:d}=o,u=o.headers.length-1,createCellContext=(r,b,g,m,f)=>{let v=DateHelper.format(r,n.dateFormat);const y=g>0&&!m,x={align:a,start:r,end:b,value:f?f.header:v,headerCellCls:c,width:u===e&&o.owner&&(d.fullTicks||y)?o.owner.tickSize:o.getDistanceBetweenDates(r,b),index:g};0!==x.width&&(x.coord=p-1,p+=x.width,o.headersDatesCache[e][r.getTime()]=1,n.renderer&&(v=n.renderer.call(n.thisObj||o,r,b,x,g),x.value=v??""),"day"!==n.unit||n.increment&&1!==n.increment||(x.headerCellCls+=" b-sch-dayheadercell-"+r.getDay(),DateHelper.clearTime(r,!0)-l==0&&(x.headerCellCls+=" b-sch-dayheadercell-today")),i.push(x))};let p=0;return o.headersDatesCache[e]={},r?r.forEach(((e,n)=>createCellContext(e.start,e.end,n,n===r.length-1,e))):o.forEachInterval(e,createCellContext),i}get mainHeader(){return"mainHeaderLevel"in this?this.headers[this.mainHeaderLevel]:this.bottomHeader}get bottomHeader(){return this.headers[this.headers.length-1]}get lowestHeader(){return this.headers.length-1}get majorHeaderLevel(){const{headers:e}=this;return e?Math.max(e.length-2,0):null}isMajorTick(e){const n=this.majorHeaderLevel;return null!=n&&this.headersDatesCache[n]&&this.headersDatesCache[n][e.getTime()]||!1}forEachInterval(e,n,r=this){const{headers:o,timeAxis:i}=this;if(o)if(e===o.length-1)i.forEach(((e,o)=>n.call(r,e.startDate,e.endDate,o,o===i.count-1)));else{const a=o[e];i.forEachAuxInterval(a.unit,a.increment,n,r)}}forEachMainInterval(e,n){this.forEachInterval(this.mainHeaderLevel,e,n)}consumeViewPreset(e){const n=this;n.headers=null,n._thisIsAUsedExpression(n.tickSize),n.viewPreset=e,Object.assign(n,{headers:e.headers,columnLinesFor:e.columnLinesFor,mainHeaderLevel:e.mainHeaderLevel,_tickSize:n.isHorizontal?e.tickWidth:e.tickHeight}),n.originalTickSize=n.tickSize}}TimeAxisViewModel._$name="TimeAxisViewModel";const fl=new Date;var TimelineDateMapper=e=>class TimelineDateMapper extends(e||Base){static get $name(){return"TimelineDateMapper"}getDateFromCoordinate(e,n,r=!0,o=!1){return r||(e=this.currentOrientation.translateToScheduleCoordinate(e)),this.timeAxisViewModel.getDateFromPosition(e,n,o)}getDateFromXY(e,n,r=!0,o=!1){return this.currentOrientation.getDateFromXY(e,n,r,o)}getDateFromDomEvent(e,n,r=!1){return this.getDateFromXY([e.pageX,e.pageY],n,!1,r)}getStartEndDatesFromRectangle(e,n,r,o=!1){const i=this,{isHorizontal:a}=i,l=a?i.timeAxisSubGrid.width:i.timeAxisSubGrid.height,c=a?e.x:e.top,d=a?e.right:e.bottom;let u,p;return c>=0&&d<l?(u=i.getDateFromCoordinate(c,n,!0),p=i.getDateFromCoordinate(d,n,!0)):c<0?(p=i.getDateFromCoordinate(d,n,!0,o),u=p&&DateHelper.add(p,-r,"ms")):(u=i.getDateFromCoordinate(c,n,!0,o),p=u&&DateHelper.add(u,r,"ms")),{start:u,end:p}}get displayDateFormat(){return this._displayDateFormat}set displayDateFormat(e){this._displayDateFormat=e,this.trigger("displayDateFormatChange",{format:e})}getFormattedDate(e){return DateHelper.format(e,this.displayDateFormat)}getDisplayEndDate(e,n){return 0!==e.getHours()||0!==e.getMinutes()||n&&e.getYear()===n.getYear()&&e.getMonth()===n.getMonth()&&e.getDate()===n.getDate()||DateHelper.formatContainsHourInfo(this.displayDateFormat)||(e=DateHelper.add(e,-1,"day")),e}getFormattedEndDate(e,n){return this.getFormattedDate(this.getDisplayEndDate(e,n))}getCoordinateFromDate(e,n=!0){const r=this,{timeAxisViewModel:o}=r,{isContinuous:i,startMS:a,endMS:l,startDate:c,endDate:d,unit:u}=r.timeAxis,p=e.valueOf();let b;if(!0===n?n={local:!0}:n?"local"in n||(n.local=!0):n={local:!1},e instanceof Date||(fl.setTime(e),e=fl),i&&e.getTimezoneOffset()===c.getTimezoneOffset()&&c.getTimezoneOffset()===d.getTimezoneOffset()&&-1!==DateHelper.getUnitToBaseUnitRatio(u,"day")){if(p<a||p>l)return-1;b=(p-a)/(l-a)*o.totalSize}else b=o.getPositionFromDate(e,n);return n.local||(b=r.currentOrientation.translateToPageCoordinate(b)),b}getTimeSpanDistance(e,n){return this.timeAxisViewModel.getDistanceBetweenDates(e,n)}get viewportCenterDate(){const e=this,{isHorizontal:n,timeAxis:r}=e,{scrollable:o}=n?e.timeAxisSubGrid:e,i=o.x+o.clientWidth/2,a=o.y+o.clientHeight/2;if(r.isContinuous){const e=n?i/o.scrollWidth:a/o.scrollHeight,l=r.startMS+(r.endMS-r.startMS)*e;return new Date(l)}{const r=n?[i,0]:[0,a];return e.getDateFromXY(r,null,!0)}}get viewportCenterDateCached(){return this.cachedCenterDate||(this.cachedCenterDate=this.viewportCenterDate)}get timeResolution(){return this.timeAxis.resolution}set timeResolution(e){this.timeAxis.resolution="number"==typeof e?{increment:e,unit:this.timeAxis.resolution.unit}:e}set snap(e){this.isConfiguring?this._snap=e:this.timeAxisViewModel.snap=e}get snap(){return this.isConfiguring?this._snap:this.timeAxisViewModel.snap}onSchedulerHorizontalScroll({subGrid:e,scrollLeft:n}){this.scrollingToCenter||(this.cachedCenterDate=null)}get widgetClass(){}};const{eventNameMap:vl}=EventHelper;var TimelineDomEvents=e=>class TimelineDomEvents extends(e||Base){static get $name(){return"TimelineDomEvents"}static get configurable(){return{scheduledBarEvents:{mousedown:"handleScheduledBarEvent",mouseup:"handleScheduledBarEvent",click:"handleScheduledBarEvent",dblclick:"handleScheduledBarEvent",contextmenu:"handleScheduledBarEvent",mouseover:"handleScheduledBarEvent",mouseout:"handleScheduledBarEvent"},schedulerEvents:{click:"handleScheduleEvent",dblclick:"handleScheduleEvent",contextmenu:"handleScheduleEvent",mousemove:"handleScheduleEvent"}}}initDomEvents(){const e=this;e.scheduledBarEvents.element=e.schedulerEvents.element=e.timeAxisSubGridElement,e.scheduledBarEvents.thisObj=e.schedulerEvents.thisObj=e,EventHelper.on(e.scheduledBarEvents),EventHelper.on(e.schedulerEvents)}getTimeSpanMouseEventParams(e,n){throw new Error("Implement in subclass")}getScheduleMouseEventParams(e,n){throw new Error("Implement in subclass")}handleScheduledBarEvent(e){const n=this,r=DomHelper.up(e.target,n.eventInnerSelector);if(r){const o=vl[e.type]||StringHelper.capitalize(e.type);n.trigger(n.scheduledEventName+o,n.getTimeSpanMouseEventParams(r,e))}}handleScheduleEvent(e){const n=this,r=!DomHelper.up(e.target,n.eventSelector)&&DomHelper.up(e.target,"."+n.timeCellCls),o=vl[e.type]||StringHelper.capitalize(e.type);if(r){const i=n.getDateFromDomEvent(e,"floor");if(!i)return;const a=DomDataStore.get(r),l=a.row.dataIndex,c=n.timeAxis.getTickFromDate(i),d=n.timeAxis.getAt(Math.floor(c));d&&n.trigger("schedule"+o,Object.assign({date:i,tickStartDate:d.startDate,tickEndDate:d.endDate,tickParentIndex:d.parentIndex,row:a.row,index:l,event:e},n.getScheduleMouseEventParams(a,e)))}}onElementMouseButtonEvent(e){const n=DomHelper.up(e.target,".b-sch-header-timeaxis-cell");if(n){const r=n.dataset.tickIndex,o=n.parentElement.dataset.headerPosition,i=this.timeAxisViewModel.columnConfig[o][r],a=this.features.contextMenu;if(!a||e.type!==a.triggerEvent){(this.isVertical?this.verticalTimeAxisColumn:this.timeAxisColumn).trigger("timeAxisHeader"+StringHelper.capitalize(e.type),{startDate:i.start,endDate:i.end,event:e})}}}onElementClick(e){this.onElementMouseButtonEvent(e),super.onElementClick(e)}onElementDblClick(e){this.onElementMouseButtonEvent(e),super.onElementDblClick(e)}onElementContextMenu(e){this.onElementMouseButtonEvent(e),super.onElementContextMenu(e)}onElementMouseOver(e){super.onElementMouseOver(e);const n=this,r=e.target;if(r.closest(n.eventInnerSelector)){const o=r.closest(n.eventSelector);if(o.classList.add(n.overScheduledEventClass),o!==n.hoveredEventNode&&!n.preventOverCls){n.hoveredEventNode=o;const r=n.getTimeSpanMouseEventParams(o,e);r&&n.trigger(n.scheduledEventName+"MouseEnter",r)}}else n.hoveredEventNode=null}onElementMouseOut(e){super.onElementMouseOut(e);const n=this;if(e.target.closest(n.eventInnerSelector)&&n.resolveTimeSpanRecord(e.target)&&n.hoveredEventNode){if(e.relatedTarget&&DomHelper.isDescendant(e.target.closest(n.eventInnerSelector),e.relatedTarget))return;n.unhover(e)}}unhover(e){const n=this,r=n.hoveredEventNode;r&&(r.classList.remove(n.overScheduledEventClass),n.trigger(n.scheduledEventName+"MouseLeave",n.getTimeSpanMouseEventParams(r,e)),n.hoveredEventNode=null)}get widgetClass(){}};const datesDiffer=(e=0,n=0)=>n-e;var TimelineViewPresets=e=>class TimelineViewPresets extends(e||Base){static get $name(){return"TimelineViewPresets"}static get configurable(){return{viewPreset:"weekAndDayLetter"}}static get defaultConfig(){return{displayDateFormat:null,presets:!0}}set presets(e){!0===e&&(e=el.allRecords),this._presets=new PresetStore({owner:this,data:e})}get presets(){return this._presets}normalizePreset(e){const n=e,{presets:r}=this;if(!(e instanceof ViewPreset)){if("object"==typeof e){if(e.base){const n=r.getById(e.base)||el.getById(e.base);if(!n)throw new Error(`ViewPreset base '${e.base}' does not exist`);e=ObjectHelper.merge(ObjectHelper.clone(n.data),el.createRecord(e).data)}e.id?e=r.createRecord(e):(e=r.createRecord(ObjectHelper.assign({},e))).id=e.generateId(r)}else e="number"==typeof e?r.getAt(e):r.getById(e)||el.getById(e);if(!e){const e=r.map((e=>e.id));throw new Error(`Invalid ViewPreset: ${n}. Valid strings are ${e.join(", ")}`)}}return r.add(e)[0]}changeViewPreset(e,n){const r=this;if(!(e instanceof ViewPreset)&&e.name&&!e.base)throw new Error("ViewPreset name config replaced by base config. See https://bryntum.com/docs/scheduler/guide/Scheduler/upgrades/3.0.0");e=r.normalizePreset(e);const o=r.lastViewPresetOptions||{},i=e.options||(e.options={}),a=i.event={startDate:i.startDate,endDate:i.endDate,from:n,to:e,preset:e},l=!r._viewPreset||!r._viewPreset.equals(e),c=datesDiffer(i.startDate,o.startDate)||datesDiffer(i.endDate,o.endDate)||datesDiffer(i.centerDate,o.centerDate)||i.startDate&&datesDiffer(i.startDate,r.startDate)||i.endDate&&datesDiffer(i.endDate,r.endDate);if((l||c)&&(l||(r._viewPreset=null),r.isConfiguring||!1!==r.trigger("beforePresetChange",a)))return e}updateViewPreset(e){const n=this,{options:r}=e,{event:o,startDate:i,endDate:a}=r,{isHorizontal:l,_timeAxis:c,timeAxisViewModel:d}=n;let{centerDate:u}=r,p=!1;if(n._viewPresetChanging=!0,n.displayDateFormat=n.config.displayDateFormat||e.displayDateFormat,c&&!n.isConfiguring){if(n.lastViewPresetOptions=r,c.isConfigured){n.suspendRefresh();const r={weekStartDay:n.weekStartDay,startTime:n.startTime,endTime:n.endTime};n.infiniteScroll?Object.assign(r,d.calculateInfiniteScrollingDateRange(u=n.viewportCenterDate,!0,e)):i?(r.startDate=i,r.endDate=a,!u&&a&&(u=new Date((i.getTime()+a.getTime())/2))):(r.startDate=c.startDate,r.endDate=a||c.endDate,u||(u=n.viewportCenterDate)),c.isConfigured=!1,c.viewPreset=e,c.reconfigure(r,!0),d.reconfigure({viewPreset:e,headers:e.headers,columnLinesFor:null!=e.columnLinesFor?e.columnLinesFor:e.headers.length-1,tickSize:l?e.tickWidth:e.tickHeight||e.tickWidth||60}),n.resumeRefresh(!1)}if(n.refresh(),!r.notScroll&&n.isPainted)if(u){n.cachedCenterDate=u,o.centerDate=u;const e=n.isHorizontal?n.timeAxisSubGrid.width:n.scrollable.clientHeight,r=Math.max(n.getCoordinateFromDate(u,!0)-e/2,0);n.scrollingToCenter=!0,r===(n.isHorizontal?n.scrollLeft:n.scrollTop)?p=!0:n.isHorizontal?n.scrollHorizontallyTo(r,!1):n.scrollVerticallyTo(r,!1),n.setTimeout((()=>{n.scrollingToCenter=!1}),100)}else 0===(n.isHorizontal?n.scrollLeft:n.scrollTop)?p=!0:n.timelineScroller.scrollTo(0)}n.dataset.presetId=e.id,n.trigger("presetChange",o),n._viewPresetChanging=!1,p&&(n.isHorizontal?n.currentOrientation.updateFromHorizontalScroll(n.scrollLeft):n.currentOrientation.updateFromVerticalScroll(n.scrollTop))}doDestroy(){this._presets.owner===this&&this._presets.destroy(),super.doDestroy()}get widgetClass(){}},TimelineZoomable=e=>class TimelineZoomable extends(e||Base){static get $name(){return"TimelineZoomable"}static get defaultConfig(){return{zoomOnMouseWheel:!0,zoomOnTimeAxisDoubleClick:!0,preventScrollZoom:null,minZoomLevel:0,maxZoomLevel:null,visibleZoomFactor:5,zoomKeepsOriginalTimespan:null}}construct(e){const n=this;super.construct(e),n.zoomOnMouseWheel&&EventHelper.on({element:n.timeAxisSubGridElement,wheel:"onWheel",throttled:{buffer:100,alt(e){e.ctrlKey&&e.preventDefault()}},thisObj:n,capture:!0,passive:!1}),n.zoomOnTimeAxisDoubleClick&&n.on("timeaxisheaderdblclick",(({startDate:e,endDate:r})=>{n.zoomToSpan({startDate:e,endDate:r})}))}get maxZoomLevel(){return this._maxZoomLevel||this.presets.count-1}set maxZoomLevel(e){if("number"!=typeof e&&(e=this.presets.count-1),e<0||e>=this.presets.count)throw new Error("Invalid range for `maxZoomLevel`");this._maxZoomLevel=e}get minZoomLevel(){return this._minZoomLevel}set minZoomLevel(e){if("number"!=typeof e&&(e=0),e<0||e>=this.presets.count)throw new Error("Invalid range for `minZoomLevel`");this._minZoomLevel=e}get zoomLevel(){return this.presets.indexOf(this.viewPreset)}set zoomLevel(e){this.zoomToLevel(e)}getMilliSecondsPerPixelForZoomLevel(e,n){const{bottomHeader:r}=e,o=this.isHorizontal?e.tickWidth:e.tickHeight;return Math.round((DateHelper.add(new Date(1,0,1),r.increment||1,r.unit)-new Date(1,0,1))/(n?o:e.actualWidth||o))}zoomTo(e){const n=this;"object"==typeof e?e.preset?n.zoomToLevel(e.preset,e):null!=e.level?n.zoomToLevel(e.level,e):n.zoomToSpan(e):n.zoomToLevel(e)}zoomToLevel(e,n={}){"number"==typeof e&&(e=Math.min(Math.max(e,this.minZoomLevel),this.maxZoomLevel));const r=this,o=r.isVertical?"tickHeight":"tickWidth",i=r.normalizePreset(e),a=i[o],l=n.startDate?new Date(n.startDate):null,c=n.endDate?new Date(n.endDate):null;let d=l&&c?{startDate:l,endDate:c}:null;const u=n.centerDate||(d?new Date((l.getTime()+c.getTime())/2):r.viewportCenterDateCached),p=r.isVertical?r.scrollable.clientHeight:r.timeAxisSubGrid.width;return 0===p?null:(d||(d=r.calculateOptimalDateRange(u,p,i)),"width"in n&&i.setData(o,n.width),r.isZooming=!0,i.options={startDate:d.startDate||r.startDate,endDate:d.endDate||r.endDate,centerDate:u},r.viewPreset=i,i.actualWidth=r.timeAxisViewModel.tickSize,r.isZooming=!1,i.setData(o,a),r.zoomLevel)}zoomToFit(e){const n=this.eventStore.getTotalTimeSpan();(e=Object.assign({leftMargin:0,rightMargin:0},e,n)).startDate&&e.endDate&&(e.endDate>e.startDate?this.zoomToSpan(e):this.scrollToDate(e.startDate))}zoomToSpan(e={}){if((e.leftMargin||e.rightMargin)&&(e.adjustStart=0,e.adjustEnd=0),e.leftMargin||(e.leftMargin=0),e.rightMargin||(e.rightMargin=0),!e.startDate||!e.endDate)throw new Error("zoomToSpan: must provide startDate + endDate dates");const n=this,r=e.adjustStart>=0||e.adjustEnd>=0;let{startDate:o,endDate:i}=e;if(r&&(o=DateHelper.add(o,-e.adjustStart,n.timeAxis.mainUnit),i=DateHelper.add(i,e.adjustEnd,n.timeAxis.mainUnit)),o<=i){const{availableSpace:a}=n.timeAxisViewModel,l=n.presets.allRecords,c=i-o||1;let d,u,p=n.zoomLevel;-1===p&&(p=0);let b,g=n.getMilliSecondsPerPixelForZoomLevel(l[p],!0),m=p+(d=c/g+e.leftMargin+e.rightMargin>a?-1:1),f=null;for(;m>=0&&m<=l.length-1;){b=l[m],g=n.getMilliSecondsPerPixelForZoomLevel(b,!0);const r=c/g+e.leftMargin+e.rightMargin;if(-1===d){if(r<=a){f=m;break}}else{if(!(r<=a))break;p!==m-d&&(f=m)}m+=d}f=null!=f?f:m-d,b=l[f];const v=b.bottomHeader.unit;(e.leftMargin||e.rightMargin)&&(o=new Date(o.getTime()-g*e.leftMargin),i=new Date(i.getTime()+g*e.rightMargin));const y=DateHelper.getDurationInUnit(o,i,v,!0)/b.bottomHeader.increment;if(0===y)return null;const x=Math.floor(a/y),C=e.centerDate||new Date((o.getTime()+i.getTime())/2);return u=r?{startDate:o,endDate:i}:n.calculateOptimalDateRange(C,a,b),n.zoomToLevel(f,Object.assign(u,{width:x,centerDate:C}))}return null}zoomIn(e=1){const n=this.zoomLevel;return n>=this.maxZoomLevel?null:this.zoomToLevel(n+e)}zoomOut(e=1){const n=this.zoomLevel;return n<=this.minZoomLevel?null:this.zoomToLevel(n-e)}zoomInFull(){return this.zoomToLevel(this.maxZoomLevel)}zoomOutFull(){return this.zoomToLevel(this.minZoomLevel)}calculateOptimalDateRange(e,n,r,o){if(o)return o;const i=this,{timeAxis:a}=i,{bottomHeader:l}=r,c=i.isHorizontal?r.tickWidth:r.tickHeight;if(i.zoomKeepsOriginalTimespan)return{startDate:a.startDate,endDate:a.endDate};const d=l.unit,u=Math.ceil(n/c*l.increment*i.visibleZoomFactor/2),p=DateHelper.add(e,-u,d),b=DateHelper.add(e,u,d);return i.infiniteScroll?i.timeAxisViewModel.calculateInfiniteScrollingDateRange(e,!0):{startDate:a.floorDate(p,!1,d,l.increment),endDate:a.ceilDate(b,!1,d,l.increment)}}onWheel(e){const n=this;e.ctrlKey&&(e.preventDefault(),n.preventScrollZoom||(e.deltaY>0?n.zoomOut():e.deltaY<0&&n.zoomIn(),n.preventScrollZoom=!0,n.setTimeout((()=>n.preventScrollZoom=!1),30)))}setTimeSpan(e,n){this.timeAxis.setTimeSpan(e,n)}shift(e,n){this.timeAxis.shift(e,n)}shiftNext(e){this.timeAxis.shiftNext(e)}shiftPrevious(e){this.timeAxis.shiftPrevious(e)}get widgetClass(){}},RecurringEvents=e=>class RecurringEvents extends(e||Base){static get $name(){return"RecurringEvents"}static get configurable(){return{enableRecurringEvents:!1,recurrenceConfirmationPopup:{$config:["lazy"],value:{type:"recurrenceconfirmation"}}}}construct(e){super.construct(e),this.on({beforeeventdropfinalize:"onRecurrableBeforeEventDropFinalize",beforeeventresizefinalize:"onRecurrableBeforeEventResizeFinalize",beforeEventDelete:"onRecurrableEventBeforeDelete",beforeAssignmentDelete:"onRecurrableAssignmentBeforeDelete"})}changeRecurrenceConfirmationPopup(e,n){const r=this.constructor.reconfigure(n,e,"recurrenceconfirmation");return r.owner=this,r}findRecurringEventToConfirmDelete(e){const{eventEdit:n}=this.features;return e.find((e=>e.supportsRecurring&&(e.isRecurring||e.isOccurrence)&&(!n||!n.isEditing||n.eventRecord!==e)))}onRecurrableEventBeforeDelete({eventRecords:e,context:n}){const r=this.findRecurringEventToConfirmDelete(e);if(this.enableRecurringEvents&&r)return this.recurrenceConfirmationPopup.confirm({actionType:"delete",eventRecord:r,changerFn(){n.finalize(!0)},cancelFn(){n.finalize(!1)}}),!1}onRecurrableAssignmentBeforeDelete({assignmentRecords:e,context:n}){const r=e.map((e=>e.event)),o=this.findRecurringEventToConfirmDelete(r);if(this.enableRecurringEvents&&o)return this.recurrenceConfirmationPopup.confirm({actionType:"delete",eventRecord:o,changerFn(){n.finalize(!0)},cancelFn(){n.finalize(!1)}}),!1}onRecurrableBeforeEventDropFinalize({context:e}){if(this.enableRecurringEvents){const{eventRecords:n}=e,r=n.filter((e=>e.supportsRecurring&&(e.isRecurring||e.isOccurrence)));r.length&&(e.async=!0,this.recurrenceConfirmationPopup.confirm({actionType:"update",eventRecord:r[0],changerFn(){e.finalize(!0)},cancelFn(){e.finalize(!1)}}))}}onRecurrableBeforeEventResizeFinalize({context:e}){if(this.enableRecurringEvents){const{eventRecord:n}=e;n.supportsRecurring&&(n.isRecurring||n.isOccurrence)&&(e.async=!0,this.recurrenceConfirmationPopup.confirm({actionType:"update",eventRecord:n,changerFn(){e.finalize(!0)},cancelFn(){e.finalize(!1)}}))}}getOccurrencesFor(e){return this.eventStore.getOccurrencesForTimeSpan(e,this.timeAxis.startDate,this.timeAxis.endDate)}get widgetClass(){}},TimelineEventRendering=e=>class TimelineEventRendering extends(e||Base){static get $name(){return"TimelineEventRendering"}static get defaultConfig(){return{barMargin:10,resourceMargin:null,managedEventSizing:!0,generatedIdCls:"b-sch-dirty-new",dirtyCls:"b-sch-dirty",committingCls:"b-sch-committing",endsOutsideViewCls:"b-sch-event-endsoutside",startsOutsideViewCls:"b-sch-event-startsoutside",fixedEventCls:"b-sch-event-fixed",eventStyle:"plain",eventColor:"green",tickSize:null}}get barMargin(){return this._barMargin}set barMargin(e){const n=this;ObjectHelper.assertNumber(e,"barMargin"),n.isHorizontal&&n.rowHeight&&(e=Math.min(Math.ceil(n.rowHeight/2),e)),n._barMargin!==e&&(n._barMargin=e,n.rendered&&(n.currentOrientation.onBeforeRowHeightChange(),n.refreshWithTransition()))}get resourceMargin(){return null==this._resourceMargin?this.barMargin:this._resourceMargin}set resourceMargin(e){const n=this;ObjectHelper.assertNumber(e,"resourceMargin"),n.isHorizontal&&n.rowHeight&&(e=Math.min(Math.ceil(n.rowHeight/2),e)),n._resourceMargin!==e&&(n._resourceMargin=e,n.rendered&&(n.currentOrientation.onBeforeRowHeightChange(),n.refreshWithTransition()))}set tickSize(e){ObjectHelper.assertNumber(e,"tickSize"),this.timeAxisViewModel.tickSize=e}get tickSize(){return this.timeAxisViewModel.tickSize}static get eventColors(){return["red","pink","purple","violet","indigo","blue","cyan","teal","green","lime","yellow","orange","deep-orange","gray"]}static get eventStyles(){return["plain","border","hollow","colored","line","dashed","minimal","rounded"]}get widgetClass(){}};const yl={maintainVisibleStart:!0},wl={block:"nearest"};var TimelineScroll=e=>class TimelineScroll extends(e||Base){static get $name(){return"TimelineScroll"}static get configurable(){return{bufferCoef:5,bufferThreshold:.2,infiniteScroll:!1}}initScroll(){const e=this,{isHorizontal:n}=e;super.initScroll();const{scrollable:r}=n?e.timeAxisSubGrid:e;if(e.timelineScroller=new TimelineScroller({widget:e,scrollable:r,isHorizontal:n}),r.on({scroll:"onTimelineScroll",thisObj:e}),e.infiniteScroll){const{visibleDate:n}=e,r=n?n.date||n:e.viewportCenterDate,o=!n||!("block"in n)||"center"===n.block,{startDate:i,endDate:a}=e.timeAxisViewModel.calculateInfiniteScrollingDateRange(r,o);e.setTimeSpan(i,a,{visibleDate:r})}}doDestroy(){var e;null===(e=this.timelineScroller)||void 0===e||e.destroy(),super.doDestroy()}onTimelineScroll({source:e}){this.infiniteScroll&&this.checkTimeAxisScroll(e[this.isHorizontal?"x":"y"])}checkTimeAxisScroll(e){const n=this,r=n.timelineScroller,{clientSize:o}=r,i=o*n.bufferCoef*n.bufferThreshold,a=r.maxPosition,{style:l}=n.timeAxisSubGrid.virtualScrollerElement;(a-e<i||e<i)&&(l.overflow="hidden",l.pointerEvents="none",l.paddingBottom=`${DomHelper.scrollBarWidth}px`,n.setTimeout((()=>{l.overflow="",l.paddingBottom="",l.pointerEvents=""}),100),n.shiftToDate(n.getDateFromCoordinate(e,null,!0)))}shiftToDate(e,n){const r=this.timeAxisViewModel.calculateInfiniteScrollingDateRange(e,n);this.setTimeSpan(r.startDate,r.endDate,yl)}updateInfiniteScroll(e){!this.isConfiguring&&e&&this.checkTimeAxisScroll(this.timelineScroller.position)}scrollToDate(e,n={}){const r=this,{timeAxis:o,visibleDateRange:i,infiniteScroll:a}=r,{unit:l,increment:c}=o,d=n.edgeOffset||0,u=DateHelper.ceil(i.endDate,c+" "+l)-DateHelper.floor(i.startDate,c+" "+l),p=e>r.viewportCenterDate?1:-1,b=(a?u*r.bufferCoef*r.bufferThreshold:"center"===n.block?u/2:d?r.getMilliSecondsPerPixelForZoomLevel(r.viewPreset)*d:0)*p,g=new Date(e.getTime()+b);(g>o.endDate?1:g<o.startDate?-1:0)&&r.infiniteScroll&&r.shiftToDate(new Date(e-b),null,!0);const m=r.timelineScroller.viewport,f=r.getCoordinateFromDate(e,!0),v=r.isHorizontal?new Rectangle(r.getCoordinateFromDate(e,!1),m.y,r.timeAxisViewModel.tickSize,m.height):new Rectangle(m.x,r.getCoordinateFromDate(e,!1),m.width,r.timeAxisViewModel.tickSize);return r.scrollToCoordinate(f,v,e,n)}scrollToNow(e={}){return this.scrollToDate(new Date,e)}async scrollToCoordinate(e,n,r,o={}){const i=this;if(e<0){const e=i.endDate-i.startDate,{unit:n,increment:a}=i.timeAxis,l=DateHelper.floor(new Date(r.getTime()-e/2),a+" "+n),c=DateHelper.add(l,e);return l-i.startDate!=0&&c-i.endDate!=0?(i.setTimeSpan(l,c),i.scrollToDate(r,o)):void 0}return await i.timelineScroller.scrollIntoView(n,o),!i.isDestroyed&&i.nextAnimationFrame()}set scrollLeft(e){this.timeAxisSubGrid.scrollable.x=e}set scrollTop(e){this.scrollable.y=e}get scrollLeft(){return this.timeAxisSubGrid.scrollable.x}get scrollTop(){return this.scrollable.y}scrollHorizontallyTo(e,n=!0){return this.timeAxisSubGrid.scrollable.scrollTo(e,null,n)}scrollVerticallyTo(e,n=!0){return this.scrollable.scrollTo(null,e,n)}scrollTo(e,n=!0){return this.timeAxisSubGrid.scrollable.scrollTo(e,null,n)}get widgetClass(){}};class TimelineScroller extends Scroller{static get configurable(){return{position:null,x:null,y:null}}updateOverflowX(){}updateOverflowY(){}onScroll(e){super.onScroll(e),this._position=null}syncPartners(e){this.scrollable.syncPartners(e)}updatePosition(e){this.scrollable[this.isHorizontal?"x":"y"]=e}get viewport(){return this.scrollable.viewport}get position(){return this._position=this.scrollable.element[this.isHorizontal?"scrollLeft":"scrollTop"]}get clientSize(){return this.scrollable["client"+(this.isHorizontal?"Width":"Height")]}get scrollSize(){return this.scrollable["scroll"+(this.isHorizontal?"Width":"Height")]}get maxPosition(){return this.scrollable["max"+(this.isHorizontal?"X":"Y")]}scrollTo(e,n){return this.isHorizontal?this.scrollable.scrollTo(e,null,n):this.scrollable.scrollTo(null,e,n)}scrollBy(e=0,n=0,r=wl){return this.isHorizontal?this.scrollable.scrollBy(e||n,0,r):this.scrollable.scrollBy(0,n||e,r)}scrollIntoView(){return this.scrollable.scrollIntoView(...arguments)}changeX(e){this.position=e}changeY(e){this.position=e}get x(){return this.position}set x(e){this.scrollable[this.isHorizontal?"x":"y"]=e}get y(){return this.position}set y(e){this.scroller[this.isHorizontal?"x":"y"]=e}get clientWidth(){return this.clientSize}get clientHeight(){return this.clientSize}get scrollWidth(){return this.scrollSize}get scrollHeight(){return this.scrollSize}get maxX(){return this.maxPosition}get maxY(){return this.maxPosition}}class Header$1 extends Header{static get $name(){return"SchedulerHeader"}refreshContent(){var e;null!==(e=this.headersElement)&&void 0!==e&&e.querySelector(".b-sch-timeaxiscolumn")||super.refreshContent()}}Header$1._$name="Header";class TimeAxisSubGrid extends SubGrid{static get $name(){return"TimeAxisSubGrid"}static get type(){return"timeaxissubgrid"}static get configurable(){return{sealedColumns:!0,headerClass:Header$1}}startConfigure(e){const{grid:n}=e;n.timeAxisSubGrid=this,super.startConfigure(e),n.isHorizontal&&(e.header={cls:{"b-sticky-headers":n.stickyHeaders}},delete e.headerClass),"flex"in e||"width"in e||(e.flex=1)}changeScrollable(){const e=this,n=super.changeScrollable(...arguments);return n&&Object.defineProperty(n,"scrollWidth",{get(){var e,n;return null!==(e=null===(n=this.element)||void 0===n?void 0:n.scrollWidth)&&void 0!==e?e:0},set(){e.grid.updateCanvasSize()}}),n}syncScrollingPartners(e=!0){this.grid._viewPresetChanging||super.syncScrollingPartners(e)}onInternalResize(e,n,r,o,i){const a=this;if(a.isPainted&&n!==o){const e=a.grid,r=e._bodyRectangle.height;DomHelper.scrollBarWidth&&n<o&&(a.monitorResize=!1),e.onSchedulerViewportResize(n,r,o,r),a.monitorResize||a.requestAnimationFrame((()=>a.monitorResize=!0))}super.onInternalResize(...arguments)}}TimeAxisSubGrid.initClass(),TimeAxisSubGrid._$name="TimeAxisSubGrid";const xl=["viewPreset","eventBarTextField","eventRenderer","eventRendererThisObj","eventBodyTemplate"],Cl={fn:"exitTransition",delay:0,cancelOutstanding:!0},Sl={};class TimelineBase extends(GridBase.mixin(TimelineDateMapper,TimelineDomEvents,TimelineEventRendering,TimelineScroll,TimelineViewPresets,TimelineZoomable,RecurringEvents)){static get $name(){return"TimelineBase"}static get type(){return"timelinebase"}static get configurable(){return{partnerSharedConfigs:{value:["timeAxisViewModel","timeAxis","viewPreset"],$config:{merge:"distinct"}},startDate:{$config:{equal:"date"},value:null},endDate:{$config:{equal:"date"},value:null},stickyHeaders:!0,visibleDate:null}}static get defaultConfig(){return{workingTime:null,timeAxis:null,timeAxisViewModel:null,autoAdjustTimeAxis:!0,snap:!1,snapRelativeToEventStartDate:!1,forceFit:!1,suppressFit:!1,eventCls:null,getDateConstraints:null,timeCellCls:null,timeCellSelector:null,scheduledEventName:null,overScheduledEventClass:null,preventOverCls:!1,hoveredEventNode:null,useBackgroundCanvas:!1,enableEventAnimations:!BrowserHelper.isIE11,disableGridRowModelWarning:!0,animateRemovingRows:!1,partner:null,schedulerRegion:"normal",transitionDuration:200,animationTimeout:null,defaultRegion:"locked",durationDisplayPrecision:1,asyncEventSuffix:"PreCommit",viewportResizeTimeout:250}}construct(e={}){const n=this;super.construct(e),n.$firstVerticalOverflow=!0,n.initDomEvents(),n.currentOrientation.init(),n.rowManager.on("refresh",(()=>{n.forceLayout=!1}))}createSubGrid(e,n={}){const r=this,{stickyHeaders:o}=r;return e===(r.schedulerRegion||"normal")?n.type="timeaxissubgrid":"locked"===e&&o&&r.isVertical&&(n.scrollable={overflowX:"visible",overflowY:"visible"},r.bodyContainer.classList.add("b-sticky-headers")),super.createSubGrid(e,n)}doDestroy(){const e=this,{partneredWith:n,currentOrientation:r}=e;null==r||r.destroy(),n?(n.forEach((n=>{e.removePartner(n)})),n.destroy()):(e.timeAxisViewModel.destroy(),e.timeAxis.destroy()),super.doDestroy()}startConfigure(e){super.startConfigure(e),ResizeMonitor.addResizeListener(this.bodyContainer,this.onBodyResize.bind(this)),this.getConfig("partner")}changeStartDate(e){return"string"==typeof e&&(e=DateHelper.parse(e)),e}onPaint({firstPaint:e}){if(e){const e=this,n=(e.isHorizontal?e.timeAxisSubGrid.scrollable:e.scrollable)[e.isHorizontal?"clientWidth":"clientHeight"];e.timeAxisViewModel.update(n,e.infiniteScroll,!0)}super.onPaint(...arguments)}onSchedulerHorizontalScroll(e,n){this.currentOrientation.updateFromHorizontalScroll(n),super.onSchedulerHorizontalScroll(e,n)}initScroll(){const e=this;let n=0;super.initScroll(),e.on("horizontalscroll",(({subGrid:r,scrollLeft:o})=>{!e.isPainted||r!==e.timeAxisSubGrid||e.isDestroying||e.refreshSuspended||e.onSchedulerHorizontalScroll(r,o),n++})),"horizontal"===e.testPerformance&&e.setTimeout((()=>{let r=performance.now(),o=5,i=1;const a=e.setInterval((()=>{if(o+=5,e.scrollLeft+=(10+Math.floor(o))*i,1===i&&e.scrollLeft>5500&&(i=-1,o=5),-1===i&&e.scrollLeft<=0){let o=1e3/((performance.now()-r)/n);o=Math.round(10*o)/10,clearInterval(a),console.log(e.eventPositionMode,e.eventScrollMode,o+"fps")}}),0)}),500)}preserveViewCenter(e,n=this,...r){const o=this,i=o.viewportCenterDate,a=e.apply(n,r),l=o.timelineScroller,{clientSize:c}=l,d=Math.max(Math.floor(o.getCoordinateFromDate(i,!0)-c/2),0);return o.scrollingToCenter=!0,l.scrollTo(d,!1).then((()=>o.scrollingToCenter=!1)),a}setTimeSpan(e,n,{preventThrow:r=!1,maintainVisibleStart:o=!1,visibleDate:i}=Sl){const a=this,{timeAxis:l}=a,{startDate:c,endDate:d}=l.getAdjustedDates(e,n),u=l.startDate-c!=0,p=l.endDate-d!=0;if(u||p){if(o){const{timeAxisViewModel:e}=a,{totalSize:n}=e,r=e.tickSize,o=a.timelineScroller,i=o.position,l=e.getDateFromPosition(i);l>=c&&l<d&&e.on({update(){const c=e.tickSize!==r;a.updateCanvasSize(),!u||p||c?o.position=u||c?e.getPositionFromDate(l):i:o.position+=e.totalSize-n,o.syncPartners(!0)},prio:1e4,once:!0})}const e=l.reconfigure({startDate:c,endDate:d},!1,r);return i&&a.scrollToDate(i.date||i,i),e}}get hasVisibleEvents(){return!this.noFeatureElementsInAxis()||this.eventStore.storage.values.some((e=>this.timeAxis.isTimeSpanInAxis(e)))}noFeatureElementsInAxis(){}get capitalizedEventName(){return this._capitalizedEventName||(this._capitalizedEventName=StringHelper.capitalize(this.scheduledEventName)),this._capitalizedEventName}set partner(e){this._partner=e,this.addPartner(e)}addPartner(e){const n=this;if(!n.isPartneredWith(e)){(n.partneredWith||(n.partneredWith=new Collection)).add(e),(e.partneredWith||(e.partneredWith=new Collection)).add(n),n.getConfig("viewPreset"),e.on({presetchange:"onPartnerPresetChange",thisObj:n}),e.scrollable.on({overflowChange:"onPartnerOverflowChange",thisObj:n});const r=n.partnerSharedConfigs.reduce(((n,r)=>(n[r]=e[r],n)),{});n.setConfig(r),n.on({presetchange:"onPartnerPresetChange",thisObj:e}),n.scrollable.on({overflowChange:"onPartnerOverflowChange",thisObj:e}),n.isPainted?(n.scrollable.addPartner(e.scrollable,"x"),e.syncPartnerSubGrids()):n.initScroll=FunctionHelper.createSequence(n.initScroll,(()=>{n.scrollable.addPartner(e.scrollable,"x"),e.syncPartnerSubGrids()}),n)}}removePartner(e){const n=this,{partneredWith:r}=n;n.isPartneredWith(e)&&(r.remove(e),n.scrollable.removePartner(e.scrollable),n.un({presetchange:"onPartnerPresetChange",thisObj:e}),n.scrollable.un({overflowChange:"onPartnerOverflowChange",thisObj:e}),e.removePartner(n))}isPartneredWith(e){var n;return Boolean(null===(n=this.partneredWith)||void 0===n?void 0:n.includes(e))}onPartnerOverflowChange({source:e,y:n}){const{scrollable:r}=this,o=r.hasOverflow("y");o!==n?o?e.overflowY="scroll":(e.overflowY=!0,r.overflowY="scroll",this.refreshVirtualScrollbars()):r.overflowY=!0}onPartnerPresetChange({preset:e,startDate:n,endDate:r,centerDate:o}){this._viewPresetChanging||this.viewPreset===e||(e.options={startDate:n,endDate:r,centerDate:o},this.viewPreset=e)}get partner(){return this._partner}get partners(){const e=this.partner?[this.partner]:[];return this.partneredWith&&e.push.apply(e,this.partneredWith.allValues),e}get timeAxisColumn(){return this.columns&&this._timeAxisColumn}get columns(){return super.columns}set columns(e){const n=this;let r,o,i,a;if(e){const i=Array.isArray(e);let l=e;i||(l=e.data),r=l&&l.length,l.some(((e,i)=>"timeAxis"===e.type&&(r=i,o=ObjectHelper.assign(e,n.timeAxisColumn),!0))),n.isVertical?(n._horizontalColumns=e,l=[ObjectHelper.assign({type:"verticalTimeAxis",locked:!0},n.verticalTimeAxisColumn),l[r]],r=1):l=l.slice(),o=l[r]=Object.assign({type:"timeAxis",locked:!1,cellCls:n.timeCellCls,mode:n.mode},o),xl.forEach((e=>{a=n[e],null!=a&&(o[e]=a)})),i?e=l:e.data=l}super.columns=e,e&&(i=n._timeAxisColumn=n.columns.getAt(r),n.isVertical&&(n.verticalTimeAxisColumn=n.columns.getAt(r-1),n.verticalTimeAxisColumn.relayAll(n)),i.relayAll(n))}onColumnsChanged({action:e,changes:n,record:r}){const{timeAxisColumn:o,columns:i}=this;"dataset"!==e||i.includes(o)?r===o&&"width"in n&&this.updateCanvasSize():i.add(o,!0),super.onColumnsChanged(...arguments)}get timeView(){const e=this;return e.columns&&e.isVertical?e.verticalTimeAxisColumn&&e.verticalTimeAxisColumn.view:e.timeAxisColumn&&e.timeAxisColumn.timeAxisView}set eventCls(e){const n=this;n._eventCls=e,n.eventSelector||(n.eventSelector=`.${e}-wrap`,n.unreleasedEventSelector=`${n.eventSelector}`),n.eventInnerSelector||(n.eventInnerSelector="."+e)}get eventCls(){return this._eventCls}set timeAxisViewModel(e){const n=this,r=n._timeAxisViewModel,o={name:"timeAxisViewModel",update:"onTimeAxisViewModelUpdate",prio:100,thisObj:n};n.partner&&!e||r&&r===e||((null==r?void 0:r.owner)===n&&r.destroy(),n.detachListeners("timeAxisViewModel"),e&&e.isTimeAxisViewModel?e.on(o):(e=Object.assign({mode:n._mode,snap:n.snap,forceFit:n.forceFit,timeAxis:n.timeAxis,suppressFit:n.suppressFit,listeners:o,owner:n},e),e=new TimeAxisViewModel(e)),n.isConfiguring||(n.isHorizontal?n.timeAxisColumn.timeAxisViewModel=e:n.verticalTimeAxisColumn.view.model=e),n._timeAxisViewModel=e,n.relayEvents(e,["update"],"timeAxisViewModel"),r&&e&&n.trigger("timeAxisViewModelChange",{timeAxisViewModel:e}))}get timeAxisViewModel(){return this._timeAxisViewModel||(this.timeAxisViewModel=null),this._timeAxisViewModel}get suppressFit(){var e,n;return null!==(e=null===(n=this._timeAxisViewModel)||void 0===n?void 0:n.suppressFit)&&void 0!==e?e:this._suppressFit}set suppressFit(e){this._timeAxisViewModel?this.timeAxisViewModel.suppressFit=e:this._suppressFit=e}set timeAxis(e){const n=this,r=n._timeAxis,o={name:"timeAxis",reconfigure({config:e}){n.trigger("timeAxisChange",{config:e})},thisObj:n};n.partner&&!e||r&&r===e||(r&&r.owner===n&&r.destroy(),n.detachListeners("timeAxis"),e&&e.isTimeAxis||(e=ObjectHelper.assign({owner:n,viewPreset:n.viewPreset,autoAdjust:n.autoAdjustTimeAxis,mode:"plain",weekStartDay:n.weekStartDay},e),n.startDate&&(e.startDate=n.startDate),n.endDate&&(e.endDate=n.endDate),n.workingTime&&n.applyWorkingTime(e),e=new TimeAxis(e)),e.on(o),n._timeAxis=e)}get timeAxis(){return this._timeAxis||(this.timeAxis=null),this._timeAxis}set workingTime(e){this._workingTime=e,this.isConfiguring||this.applyWorkingTime(this.timeAxis)}get workingTime(){return this._workingTime}applyWorkingTime(e){const n=this,r=n._workingTime;if(r){let n=null;r.fromHour>=0&&r.fromHour<24&&r.toHour>r.fromHour&&r.toHour<=24&&r.toHour-r.fromHour<24&&(n={from:r.fromHour,to:r.toHour});let o=null;r.fromDay>=0&&r.fromDay<7&&r.toDay>r.fromDay&&r.toDay<=7&&r.toDay-r.fromDay<7&&(o={from:r.fromDay,to:r.toDay}),e.include=n||o?{hour:n,day:o}:null}else e.include=null;var o;n.isPainted&&(n.timeAxisColumn.refreshHeader(),null===(o=n.features.columnLines)||void 0===o||o.refresh(),n.refreshWithTransition())}updateStartDate(e){this.setStartDate(e)}setStartDate(e,n=!0){const r=this,o=r._timeAxis,{startDate:i,endDate:a,mainUnit:l}=o||Sl;if("string"==typeof e&&(e=DateHelper.parse(e)),o&&a){if(e){let o=a;if(n&&i){const n=DateHelper.diff(i,a,l,!0);o=DateHelper.add(e,n,l)}r.setTimeSpan(e,o)}}else r._tempStartDate=e}get startDate(){const e=this;return e._timeAxis?e._timeAxis.startDate:e._tempStartDate||new Date}changeEndDate(e){"string"==typeof e&&(e=DateHelper.parse(e)),this.setEndDate(e)}setEndDate(e,n=!1){const r=this,o=r._timeAxis,{startDate:i,endDate:a,mainUnit:l}=o||Sl;if("string"==typeof e&&(e=DateHelper.parse(e)),o&&i){if(e){let o=i;if(n&&a){const n=DateHelper.diff(i,a,l,!0);o=DateHelper.add(e,-n,l)}r.setTimeSpan(o,e)}}else r._tempEndDate=e}get endDate(){const e=this;return e._timeAxis?e._timeAxis.endDate:e._tempEndDate||DateHelper.add(e.startDate,e.viewPreset.defaultSpan,e.viewPreset.mainHeader.unit)}changeVisibleDate(e){return e instanceof Date?{date:e}:e}updateVisibleDate(e){const n=this;n.isConfiguring?n.on({paint:()=>n.scrollToDate(e.date,e),once:!0}):n.scrollToDate(e.date,e)}get features(){return super.features}set features(e){"regionResize"in(e=!0===e?{}:e)||(e.regionResize=!0),super.features=e}get eventStyle(){return this._eventStyle}set eventStyle(e){const n=this;n._eventStyle=e,n.isPainted&&n.refreshWithTransition()}get eventColor(){return this._eventColor}set eventColor(e){const n=this;n._eventColor=e,n.isPainted&&n.refreshWithTransition()}onLocaleChange(){super.onLocaleChange();const e=this.timeAxis.autoAdjust;this.timeAxis.reconfigure({autoAdjust:!1}),this.timeAxis.autoAdjust=e}onBodyResize(e,n,{width:r,height:o}){this.isVertical&&n&&r!==n.width&&delete this.timeAxisSubGrid._width;const i=this.timeAxisSubGrid.element.offsetWidth;this._bodyRectangle&&n&&o!==n.height&&this.onSchedulerViewportResize(i,o,i,n.height)}onSchedulerViewportResize(e,n,r,o){if(this.isPainted){const i=this,{isHorizontal:a,timeAxisViewModel:l,partneredWith:c}=i;i.currentOrientation.onViewportResize(e,n,r,o),l.availableSpace=a?e:Math.floor(n),c&&!i.isSyncingFromPartner&&i.syncPartnerSubGrids(),i.trigger("timelineViewportResize",{width:e,height:n,oldWidth:r,oldHeight:o})}}onTimeAxisViewModelUpdate(){this.updateCanvasSize(),this.currentOrientation.onTimeAxisViewModelUpdate()}syncPartnerSubGrids(){this.partneredWith.forEach((e=>{e.isSyncingFromPartner||(e.isSyncingFromPartner=!0,this.eachSubGrid((n=>{const r=e.subGrids[n.region];r.width!==n.width&&(n.collapsed?r.collapse():(r.collapsed&&r.expand(),n.flex?n.flex!==r.flex&&(r.flex=n.flex):r.width=n.width))})),e.isSyncingFromPartner=!1)}))}get currentOrientation(){throw new Error("Implement in subclass")}get isHorizontal(){return!0}get backgroundCanvas(){return this._backgroundCanvas}get foregroundCanvas(){return this._foregroundCanvas}get svgCanvas(){const e=this;if(!e._svgCanvas){const n=e._svgCanvas=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("id",IdHelper.generateId("svg")),n.retainElement=!0,e.foregroundCanvas.appendChild(n),e.trigger("svgCanvasCreated")}return e._svgCanvas}get timeAxisSubGridElement(){return this.getConfig("regions"),this.timeAxisColumn&&this.timeAxisColumn.subGridElement}updateCanvasSize(){const e=this,{totalSize:n}=e.timeAxisViewModel,r=e.isHorizontal?n:e.timeAxisColumn.width;let o=!1;return e.isVertical&&(e.isPainted&&e.refreshTotalHeight(n,!0),e.suppressFit&&DomHelper.setLength(e.foregroundCanvas,"height",n),o=!0),r!==e.$canvasWidth&&(e.backgroundCanvas&&DomHelper.setLength(e.backgroundCanvas,"width",r),DomHelper.setLength(e.foregroundCanvas,"width",r),e.$canvasWidth=r,o=!0),o}getHeaderDomConfigs(e){}getForegroundDomConfigs(e){}async onStoreDataChange({action:e}){"dataset"===e&&this.project.isRepopulatingStores&&await this.project.await("refresh",!1),super.onStoreDataChange(...arguments)}refresh(e=!0){const n=this;n.isPainted&&!n.refreshSuspended&&(n.hasVisibleEvents?n.isEngineReady?n.refreshRows(!1,e):(n.refreshAfterProjectRefresh=!0,n.currentOrientation.refreshAllWhenReady=!0):n.rowManager.trigger("refresh"))}render(){const e=this,n=e.timeAxisSubGridElement;e.useBackgroundCanvas&&(e._backgroundCanvas=DomHelper.createElement({className:"b-sch-background-canvas",parent:n,nextSibling:n.firstElementChild}));const r=e._foregroundCanvas=DomHelper.createElement({className:"b-sch-foreground-canvas",style:`font-size:${e.rowHeight-2*e.resourceMargin}px`,parent:n});e.timeAxisSubGrid.insertRowsBefore=r,e.isVertical&&e.suppressFit&&e.updateCanvasSize(),super.render(...arguments)}refreshRows(e=!1,n=!0){this.isConfiguring||(this.currentOrientation.refreshRows(n),super.refreshRows(e))}getDateConstraints(){}runWithTransition(e,n){const r=this;r.isVisible&&(null!=n&&!0!==n||(n=r.transitionDuration),n&&r.enableEventAnimations&&(r.hasTimeout("exitTransition")||(r.isAnimating=!0),Cl.delay=n,r.setTimeout(Cl))),e()}exitTransition(){this.isAnimating=!1,this.trigger("transitionend")}async waitForAnimations(){this.isEngineReady||await this.project.await("dataReady",!1),await super.waitForAnimations()}refreshWithTransition(e,n){this.runWithTransition((()=>this.refresh(e)),n)}getVisibleDateRange(){return VersionHelper.deprecate("scheduler","5.0.0","Deprecated in favor of `get visibleDateRange`"),this.visibleDateRange}get visibleDateRange(){return this.currentOrientation.visibleDateRange}formatDuration(e,n=this.durationDisplayPrecision){const r=Math.pow(10,n);return Math.round(e*r)/r}beginListeningForBatchedUpdates(){this.listenToBatchedUpdates=(this.listenToBatchedUpdates||0)+1}endListeningForBatchedUpdates(){this.listenToBatchedUpdates&&(this.listenToBatchedUpdates-=1)}}TimelineBase.initClass(),VersionHelper.setVersion("scheduler","4.3.8"),TimelineBase._$name="TimelineBase";const Dl=LocaleHelper.mergeLocales(ia,{Object:{newEvent:"New event"},ResourceInfoColumn:{eventCountText:function(e){return e+" event"+(1!==e?"s":"")}},Dependencies:{from:"From",to:"To",valid:"Valid",invalid:"Invalid"},DependencyType:{SS:"SS",SF:"SF",FS:"FS",FF:"FF",StartToStart:"Start-to-Start",StartToEnd:"Start-to-Finish",EndToStart:"Finish-to-Start",EndToEnd:"Finish-to-Finish",short:["SS","SF","FS","FF"],long:["Start-to-Start","Start-to-Finish","Finish-to-Start","Finish-to-Finish"]},DependencyEdit:{From:"From",To:"To",Type:"Type",Lag:"Lag","Edit dependency":"Edit dependency",Save:"Save",Delete:"Delete",Cancel:"Cancel",StartToStart:"Start to Start",StartToEnd:"Start to End",EndToStart:"End to Start",EndToEnd:"End to End"},EventEdit:{Name:"Name",Resource:"Resource",Start:"Start",End:"End",Save:"Save",Delete:"Delete",Cancel:"Cancel","Edit event":"Edit event",Repeat:"Repeat"},EventDrag:{eventOverlapsExisting:"Event overlaps existing event for this resource",noDropOutsideTimeline:"Event may not be dropped completely outside the timeline"},SchedulerBase:{"Add event":"Add event","Delete event":"Delete event","Unassign event":"Unassign event"},HeaderContextMenu:{pickZoomLevel:"Zoom",activeDateRange:"Date range",startText:"Start date",endText:"End date",todayText:"Today"},TimeAxisHeaderMenu:{pickZoomLevel:"Zoom",activeDateRange:"Date range",startText:"Start date",endText:"End date",todayText:"Today"},EventCopyPaste:{copyEvent:"Copy event",cutEvent:"Cut event",pasteEvent:"Paste event"},EventFilter:{filterEvents:"Filter tasks",byName:"By name"},TimeRanges:{showCurrentTimeLine:"Show current timeline"},PresetManager:{secondAndMinute:{displayDateFormat:"ll LTS"},minuteAndHour:{topDateFormat:"ddd MM/DD, hA",displayDateFormat:"ll LST"},hourAndDay:{topDateFormat:"ddd MM/DD",middleDateFormat:"LST",displayDateFormat:"ll LST"},weekAndDay:{displayDateFormat:"ll LST"},dayAndWeek:{displayDateFormat:"ll LST"}},RecurrenceConfirmationPopup:{"delete-title":"You are deleting an event","delete-all-message":"Do you want to delete all occurrences of this event?","delete-further-message":"Do you want to delete this and all future occurrences of this event, or only the selected occurrence?","delete-further-btn-text":"Delete All Future Events","delete-only-this-btn-text":"Delete Only This Event","update-title":"You are changing a repeating event","update-all-message":"Do you want to change all occurrences of this event?","update-further-message":"Do you want to change only this occurrence of the event, or this and all future occurrences?","update-further-btn-text":"All Future Events","update-only-this-btn-text":"Only This Event",Yes:"Yes",Cancel:"Cancel",width:600},RecurrenceLegend:{" and ":" and ",Daily:"Daily","Weekly on {1}":({days:e})=>`Weekly on ${e}`,"Monthly on {1}":({days:e})=>`Monthly on ${e}`,"Yearly on {1} of {2}":({days:e,months:n})=>`Yearly on ${e} of ${n}`,"Every {0} days":({interval:e})=>`Every ${e} days`,"Every {0} weeks on {1}":({interval:e,days:n})=>`Every ${e} weeks on ${n}`,"Every {0} months on {1}":({interval:e,days:n})=>`Every ${e} months on ${n}`,"Every {0} years on {1} of {2}":({interval:e,days:n,months:r})=>`Every ${e} years on ${n} of ${r}`,position1:"the first",position2:"the second",position3:"the third",position4:"the fourth",position5:"the fifth","position-1":"the last",day:"day",weekday:"weekday","weekend day":"weekend day",daysFormat:({position:e,days:n})=>`${e} ${n}`},RecurrenceEditor:{"Repeat event":"Repeat event",Cancel:"Cancel",Save:"Save",Frequency:"Frequency",Every:"Every",DAILYintervalUnit:"day(s)",WEEKLYintervalUnit:"week(s)",MONTHLYintervalUnit:"month(s)",YEARLYintervalUnit:"year(s)",Each:"Each","On the":"On the","End repeat":"End repeat","time(s)":"time(s)"},RecurrenceDaysCombo:{day:"day",weekday:"weekday","weekend day":"weekend day"},RecurrencePositionsCombo:{position1:"first",position2:"second",position3:"third",position4:"fourth",position5:"fifth","position-1":"last"},RecurrenceStopConditionCombo:{Never:"Never",After:"After","On date":"On date"},RecurrenceFrequencyCombo:{Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly",Yearly:"Yearly"},RecurrenceCombo:{None:"None",Custom:"Custom..."},Summary:{"Summary for":e=>`Summary for ${e}`},ScheduleRangeCombo:{completeview:"Complete schedule",currentview:"Visible schedule",daterange:"Date range",completedata:"Complete schedule (for all events)"},SchedulerExportDialog:{"Schedule range":"Schedule range","Export from":"From","Export to":"To"},ExcelExporter:{"No resource assigned":"No resource assigned"},CrudManagerView:{serverResponseLabel:"Server response:"}});Se.registerLocale("En",{desc:"English",locale:Dl});var SchedulerDom=e=>class SchedulerDom extends(e||Base){static get $name(){return"SchedulerDom"}getElementFromAssignmentRecord(e,n=!1){return this.currentOrientation.getElementFromAssignmentRecord(e,n)}getElementFromEventRecord(e,n,r=!1){if(e.isResourceTimeRange){var o;const n=null===(o=this.foregroundCanvas.syncIdMap)||void 0===o?void 0:o[e.domId];return r?n:null==n?void 0:n.syncIdMap.event}return this.currentOrientation.getElementFromEventRecord(e,n,r)}getElementsFromEventRecord(e,n,r=!1){return this.currentOrientation.getElementsFromEventRecord(e,n,r)}resolveResourceRecord(e,n){return this.currentOrientation.resolveRowRecord(e,n)}resolveEventRecord(e){if(e=DomHelper.up(e,this.eventSelector)){if(e.dataset.eventId)return this.eventStore.getById(e.dataset.eventId);if(e.dataset.assignmentId)return this.assignmentStore.getById(e.dataset.assignmentId).event}return null}resolveTimeSpanRecord(e){return this.resolveEventRecord(e)}resolveAssignmentRecord(e){const n=DomHelper.up(e,this.eventSelector),r=n&&this.assignmentStore.getById(n.dataset.assignmentId),o=n&&this.eventStore.getById(n.dataset.eventId);return this.assignmentStore.getOccurrence(r,o)}isRowVisible(e){return this.store.indexOf(e)>=0}get widgetClass(){}},SchedulerDomEvents=e=>class SchedulerDomEvents extends(e||Base){static get $name(){return"SchedulerDomEvents"}getTimeSpanMouseEventParams(e,n){const r=this.resolveEventRecord(e);return r&&{eventRecord:r,resourceRecord:this.resolveResourceRecord(e),assignmentRecord:this.resolveAssignmentRecord(e),eventElement:e,event:n}}getScheduleMouseEventParams(e,n){return{resourceRecord:this.isVertical?this.resolveResourceRecord(n):this.store.getById(e.id)}}onElementKeyDown(e){super.onElementKeyDown(e);const n=this;n.selectedEvents.length&&n.trigger(n.scheduledEventName+"KeyDown",{eventRecords:n.selectedEvents,assignmentRecords:n.selectedAssignments,event:e,eventRecord:n.selectedEvents,assignmentRecord:n.selectedAssignments})}onElementKeyUp(e){super.onElementKeyUp(e);const n=this;n.selectedEvents.length&&n.trigger(n.scheduledEventName+"KeyUp",{eventRecords:n.selectedEvents,assignmentRecords:n.selectedAssignments,event:e,eventRecord:n.selectedEvents,assignmentRecord:n.selectedAssignments})}get widgetClass(){}};class HorizontalLayout extends Base{static get defaultConfig(){return{nbrOfBandsByResource:{},bandIndexToPxConvertFn:null,bandIndexToPxConvertThisObj:null}}clearCache(e){e?delete this.nbrOfBandsByResource[e.id]:this.nbrOfBandsByResource={}}applyLayout(e,n){const r=e.slice(),o=this.layoutEventsInBands(r);return this.nbrOfBandsByResource[n.id]=o}layoutEventsInBands(e){throw new Error("Implement in subclass")}}HorizontalLayout._$name="HorizontalLayout";class HorizontalLayoutStack extends HorizontalLayout{static get $name(){return"HorizontalLayoutStack"}static get configurable(){return{type:"stack"}}layoutEventsInBands(e,n=!1){let r=0;do{let o=0,i=e[0];for(;i;)n||(i.top=this.bandIndexToPxConvertFn.call(this.bandIndexToPxConvertThisObj||this,r,i.eventRecord,i.resourceRecord)),e.splice(o,1),o=this.findClosestSuccessor(i,e),i=e[o];r++}while(e.length>0);return r}findClosestSuccessor(e,n){const{endMS:r,group:o}=e,i=e.eventRecord&&0===e.eventRecord.duration;let a,l,c,d=1/0;for(let e=0,u=n.length;e<u;e++)if(c=n[e],l=c.startMS-r,l>=0&&l<d&&(l>0||c.endMS-c.startMS>0||!i)){if(this.grouped&&o!==c.group)break;a=e,d=l}return a}}HorizontalLayoutStack._$name="HorizontalLayoutStack";var PackMixin=e=>class PackMixin extends(e||Base){static get $name(){return"PackMixin"}static get defaultConfig(){return{coordProp:"top",sizeProp:"height",inBandCoordProp:"inBandTop",inBandSizeProp:"inBandHeight"}}isSameGroup(e,n){return!this.grouped||e.group===n.group}packEventsInBands(e,n){const r=this,{coordProp:o,sizeProp:i}=r;let a,l,c,d;for(let u=0,p=e.length;u<p;u++){if(l=e[u],a=r.findStartSlot(e,l),c=r.getCluster(e,u),c.length>1){for(l[o]=a.start,l[i]=a.end-a.start,d=1;d<c.length-1&&c[d+1].start-l.start==0;)d++;const n=r.findStartSlot(e,c[d]);n&&n.start<.8&&(c.length=d)}const p=c.length,b=(a.end-a.start)/p;for(d=0;d<p;d++)n(c[d],d,a,b);u+=p-1}return 1}findStartSlot(e,n){const{inBandSizeProp:r,inBandCoordProp:o,coordProp:i,sizeProp:a}=this,l=this.getPriorOverlappingEvents(e,n);let c;if(0===l.length)return{start:0,end:1};for(c=0;c<l.length;c++){const e=l[c],n=o in e?o:i,d=r in e?r:a;if(0===c&&e[n]>0)return{start:0,end:e[n]};if(e[n]+e[d]<(c<l.length-1?l[c+1][n]:1))return{start:e[n]+e[d],end:c<l.length-1?l[c+1][n]:1}}return!1}getPriorOverlappingEvents(e,n){const r=n.start,o=n.end,i=[];for(let a=0,l=e.indexOf(n);a<l;a++){const l=e[a];this.isSameGroup(l,n)&&DateHelper.intersectSpans(r,o,l.start,l.end)&&i.push(l)}return i.sort(this.sortOverlappers.bind(this)),i}sortOverlappers(e,n){const{coordProp:r}=this;return e[r]-n[r]}getCluster(e,n){const r=e[n],o=[r];if(n>=e.length-1)return o;let{start:i,end:a}=r;for(let l=n+1,c=e.length;l<c;l++){const n=e[l];if(!this.isSameGroup(n,r)||!DateHelper.intersectSpans(i,a,n.start,n.end))break;o.push(n),i=DateHelper.max(i,n.start),a=DateHelper.min(n.end,a)}return o}};class HorizontalLayoutPack extends(HorizontalLayout.mixin(PackMixin)){static get $name(){return"HorizontalLayoutPack"}static get configurable(){return{type:"pack"}}layoutEventsInBands(e){const n=this.packEventsInBands(e,((e,n,r,o)=>{e.height=o,e.top=r.start+n*o}));return e.forEach((e=>{Object.assign(e,this.bandIndexToPxConvertFn.call(this.bandIndexToPxConvertThisObj||this,e.top,e.height,e.eventRecord,e.resourceRecord))})),n}}HorizontalLayoutPack._$name="HorizontalLayoutPack";var SchedulerEventRendering=e=>class SchedulerEventRendering extends(e||Base){static get $name(){return"SchedulerEventRendering"}static get configurable(){return{milestoneTextPosition:"outside",eventLayout:"stack",internalEventLayout:null}}static get defaultConfig(){return{eventRenderer:null,milestoneAlign:"center",milestoneCharWidth:10,milestoneLayoutMode:"default",milestoneMinWidth:40,eventRendererThisObj:null,horizontalLayoutPackClass:HorizontalLayoutPack,horizontalLayoutStackClass:HorizontalLayoutStack,horizontalEventSorterFn:null,eventBarTextField:"name",eventBodyTemplate:null,eventPositionMode:"translate",eventScrollMode:"move",fillTicks:!1,useInitialAnimation:!0,resourceColumns:null,resourceImagePath:null,defaultResourceImageName:null,resourceImageExtension:".jpg",resourceMargin:null,isFirstRender:!0,initialAnimationDuration:2e3}}get eventPrefix(){return this._eventPrefix}set eventPrefix(e){this._eventPrefix=e||this.id+"-"}changeEventLayout(e){return this.internalEventLayout=e,this.internalEventLayout.type}changeInternalEventLayout(e){return this.getEventLayout(e)}updateInternalEventLayout(e,n){const r=this;n&&r.element.classList.remove(`b-eventlayout-${n.type}`),r.element.classList.add(`b-eventlayout-${e.type}`),r.isConfiguring||r.refreshWithTransition()}get fillTicks(){return this._fillTicks}set fillTicks(e){e!==this._fillTicks&&(this._fillTicks=e,this.isConfiguring||this.refreshWithTransition())}get useInitialAnimation(){return this._useInitialAnimation}set useInitialAnimation(e){const n=this;n._useInitialAnimation&&n.element.classList.remove(`b-initial-${n._useInitialAnimation}`),n._useInitialAnimation=!0===e?"fade-in":e,e&&(n.element.classList.add(`b-initial-${n._useInitialAnimation}`),BrowserHelper.isFirefox&&n.element.classList.add("b-prevent-event-transitions"))}set horizontalEventSorterFn(e){this._horizontalEventSorterFn=e,this.rendered&&this.refreshWithTransition()}get horizontalEventSorterFn(){return this._horizontalEventSorterFn}getEventLayout(e){var n;return null!==(n=e)&&void 0!==n&&n.isModel&&(e=e.eventLayout||this.internalEventLayout),"string"==typeof e&&(e={type:e}),e}getEventLayoutHandler(e){const n=this;if(!n.isHorizontal)return null;const{timeAxisViewModel:r,horizontal:o}=n,{type:i}=e;switch(n.layouts||(n.layouts={}),i){case"stack":return n.layouts.horizontalStack||(n.layouts.horizontalStack=new n.horizontalLayoutStackClass(ObjectHelper.assign({scheduler:n,timeAxisViewModel:r,bandIndexToPxConvertFn:o.layoutEventVerticallyStack,bandIndexToPxConvertThisObj:o},e))),n.layouts.horizontalStack;case"pack":return n.layouts.horizontalPack||(n.layouts.horizontalPack=new n.horizontalLayoutPackClass(ObjectHelper.assign({scheduler:n,timeAxisViewModel:r,bandIndexToPxConvertFn:o.layoutEventVerticallyPack,bandIndexToPxConvertThisObj:o},e))),n.layouts.horizontalPack;default:return null}}set resourceColumns(e){this._resourceColumns=e}get resourceColumns(){var e;return(null===(e=this.timeAxisColumn)||void 0===e?void 0:e.resourceColumns)||this._resourceColumns}get resourceColumnWidth(){return this.resourceColumns?this.resourceColumns.columnWidth:null}getEventsToRender(e,n){return n}repaintEventsForResource(e){this.currentOrientation.repaintEventsForResource(e)}repaintEvent(e){this.eventStore.getResourcesForEvent(e).forEach((e=>this.repaintEventsForResource(e)))}getResourceMargin(e){var n;return null!==(n=null==e?void 0:e.resourceMargin)&&void 0!==n?n:this.resourceMargin}getBarMargin(e){var n;return null!==(n=null==e?void 0:e.barMargin)&&void 0!==n?n:this.barMargin}getResourceHeight(e){var n;return null!==(n=e.rowHeight)&&void 0!==n?n:this.rowHeight}getAppliedResourceHeight(e){var n;const r=this.getRowById(e);return null!==(n=null==r?void 0:r.maxRequestedHeight)&&void 0!==n?n:this.getResourceHeight(e)}getResourceLayoutSettings(e){return{resourceMargin:this.getResourceMargin(e),barMargin:this.getBarMargin(e),rowHeight:this.getAppliedResourceHeight(e)}}generateRenderData(e,n,r={viewport:!0}){const o=this,i=o.currentOrientation.getTimeSpanRenderData(e,n,r),{isEvent:a}=e,l=!e.meta.isDragCreating&&e.isMilestone,c=a&&e.assignments.find((e=>e.resourceId===n.id)),d={className:"b-sch-event-content",dataset:{taskBarFeature:"content"}};if(i){var u;i.tabIndex="0";let r=e.isResizable;i.startsOutsideView&&(!0===r?r="end":"start"===r&&(r=!1)),i.endsOutsideView&&(!0===r?r="start":"end"===r&&(r=!1));const b={},g={},m=e.isResourceTimeRange?new DomClassList:e.internalCls.clone(),f=e.isResourceTimeRange?e.internalCls.clone():new DomClassList,v=Boolean(e.hasPersistableChanges||c&&c.hasPersistableChanges);if(ObjectHelper.assign(b,{[n.cls]:n.cls,[o.generatedIdCls]:e.hasGeneratedId,[o.dirtyCls]:v,[o.committingCls]:e.isCommitting,[o.endsOutsideViewCls]:i.endsOutsideView,[o.startsOutsideViewCls]:i.startsOutsideView,"b-clipped-start":i.clippedStart,"b-clipped-end":i.clippedEnd,"b-iscreating":e.isCreating}),g[`${o.eventCls}-parent`]=n.isParent,i.wrapperStyle="",i.isWrap=!0,a){const a=c&&o.isAssignmentSelected(c);ObjectHelper.assign(b,{[o.eventCls]:1,"b-milestone":l,"b-sch-event-narrow":i.width<10,[o.fixedEventCls]:!1===e.isDraggable,[`b-sch-event-resizable-${r}`]:Boolean(o.features.eventResize),[o.eventSelectedCls]:a,[o.eventAssignHighlightCls]:o.isEventSelected(e)&&!a,"b-recurring":e.isRecurring,"b-occurrence":e.isOccurrence,"b-inactive":e.inactive}),i.eventId=e.id;const d=e.eventStyle||n.eventStyle||o.eventStyle,u=e.eventColor||n.eventColor||o.eventColor,p=o.isFirstRender&&o.useInitialAnimation;if(ObjectHelper.assign(g,{[`${o.eventCls}-wrap`]:1,"b-milestone-wrap":l}),p){const e=(i.row?i.row.index:i.top/o.tickSize)/20*1e3;i.wrapperStyle=`animation-delay: ${e}ms;`,o.maxDelay=Math.max(o.maxDelay||0,e),o.initialAnimationDetacher||(o.initialAnimationDetacher=EventHelper.on({element:o.foregroundCanvas,delegate:o.eventSelector,once:!0,animationend:()=>o.setTimeout("stopInitialAnimation",o.maxDelay),expires:{alt:"stopInitialAnimation",delay:o.initialAnimationDuration+o.maxDelay},thisObj:o}))}i.eventColor=u,i.eventStyle=d,i.assignmentRecord=i.assignment=c}if(i.wrapperCls=ObjectHelper.assign(f,g),i.cls=ObjectHelper.assign(m,b),i.iconCls=new DomClassList(e.get(o.eventBarIconClsField)||e.iconCls),e.isResourceTimeRange?(i.style="",i.wrapperStyle+=e.style||""):i.style=e.style||"",i.resource=i.resourceRecord=n,i.resourceId=i.rowId,a){let r,a=null,c=null;if(o.eventRenderer){const a=o.eventRenderer.call(o.eventRendererThisObj||o,{eventRecord:e,resourceRecord:n,assignmentRecord:i.assignmentRecord,tplData:i,renderData:i});"string"==typeof i.cls&&(i.cls=new DomClassList(i.cls)),"string"==typeof i.wrapperCls&&(i.wrapperCls=new DomClassList(i.wrapperCls)),"string"==typeof i.iconCls&&(i.iconCls=new DomClassList(i.iconCls)),r=o.eventBodyTemplate?o.eventBodyTemplate(a):a}else o.eventBodyTemplate?r=o.eventBodyTemplate(e):o.eventBarTextField&&(r=StringHelper.encodeHtml(e[o.eventBarTextField]||""));var p;if(!o.eventBodyTemplate||Array.isArray(r))d.children=[],l&&"default"===o.milestoneLayoutMode&&null!=r&&""!==r&&d.children.unshift(c={tag:"label",children:[]}),null!==(p=i.iconCls)&&void 0!==p&&p.length&&d.children.unshift({tag:"i",className:i.iconCls}),Array.isArray(r)?(c||d).children.push(...r):StringHelper.isHtml(r)?d.children.length?a={tag:"span",html:r}:(d.children=null,d.html=r):"string"==typeof r||"object"==typeof r?a=r:null!=r&&(a=String(r)),null!=a&&((c||d).children.push(a),i.cls.add("b-has-content")),(null!=d.html||d.children.length)&&i.children.push(d);else d.html=r,i.children.push(d);const{eventStyle:u,eventColor:b}=i;if(i.wrapperCls[`b-sch-style-${u}`]=u,DomHelper.isNamedColor(b))i.wrapperCls[`b-sch-color-${b}`]=b;else if(b){const e=u?"color":"background-color";i.style=`${e}:${b};`+i.style,i.wrapperCls["b-sch-custom-color"]=1}i.style&&l&&d&&(d.style=i.style,delete i.style)}i.cls["b-sch-event-withicon"]=null===(u=i.iconCls)||void 0===u?void 0:u.length,i.eventContent=d,i.wrapperChildren=[],o.onEventDataGenerated(i)}return i}onEventDataGenerated(e){}restartInitialAnimation(e){var n;const r=this;null===(n=r.initialAnimationDetacher)||void 0===n||n.call(r),r.initialAnimationDetacher=null,r.useInitialAnimation=e,r.isFirstRender=!0,r.refresh()}stopInitialAnimation(){const e=this;e.initialAnimationDetacher(),e.isFirstRender=!1,e.useInitialAnimation=!1,BrowserHelper.isFirefox&&e.setTimeout((()=>e.element.classList.remove("b-prevent-event-transitions")),100)}getMilestoneLabelWidth(e){const n=this,r=n.milestoneLayoutMode;if("measure"===r){const r=n.milestoneMeasureElement||(n.milestoneMeasureElement=DomHelper.createElement({className:"b-sch-event-wrap b-milestone-wrap b-measure",children:[{className:"b-sch-event b-milestone",children:[{className:"b-sch-event-content"}]}],parent:n.foregroundCanvas}));return r.retainElement=!0,r.firstElementChild.firstElementChild.innerHTML=e.name,r.offsetWidth}return"estimate"===r?Math.max(e.name.length*n.milestoneCharWidth,n.milestoneMinWidth):"data"===r?Math.max(e.milestoneWidth,n.milestoneMinWidth):0}set milestoneLayoutMode(e){this._milestoneLayoutMode=e,this.element.classList["default"!==e?"add":"remove"]("b-sch-layout-milestones"),this.isConfiguring||this.refreshWithTransition()}get milestoneLayoutMode(){return this._milestoneLayoutMode}updateMilestoneTextPosition(e){this.element.classList.toggle("b-sch-layout-milestone-text-position-inside","inside"===e)}set milestoneAlign(e){this._milestoneAlign=e,this.isConfiguring||this.refreshWithTransition()}get milestoneAlign(){return this._milestoneAlign}set milestoneCharWidth(e){this._milestoneCharWidth=e,this.isConfiguring||this.refreshWithTransition()}get milestoneCharWidth(){return this._milestoneCharWidth}get widgetClass(){}},SchedulerStores=e=>class SchedulerStores extends(ProjectConsumer(e||Base)){static get $name(){return"SchedulerStores"}static get projectStores(){return{resourceStore:{dataName:"resources"},eventStore:{dataName:"events",listeners:{batchedUpdate:"onEventStoreBatchedUpdate",changePreCommit:"onInternalEventStoreChange",commitStart:"onEventCommitStart",commit:"onEventCommit",exception:"onEventException",idchange:"onEventIdChange",beforeLoad:"applyStartEndParameters"}},assignmentStore:{dataName:"assignments",listeners:{changePreCommit:"onAssignmentChange",commitStart:"onAssignmentCommitStart",commit:"onAssignmentCommit",exception:"onAssignmentException",beforeRemove:{fn:"onAssignmentBeforeRemove",prio:-1e3}}},dependencyStore:{dataName:"dependencies"},calendarManagerStore:{},timeRangeStore:{},resourceTimeRangeStore:{}}}static get configurable(){return{timeRanges:null,resourceTimeRanges:null,store:null,startParamName:"startDate",endParamName:"endDate",passStartEndParameters:!1,removeUnassignedEvent:!0,crudManagerClass:null,crudManager:null}}updateProject(e,n){super.updateProject(e,n),this.detachListeners("schedulerStores"),e.on({name:"schedulerStores",refresh:"onProjectRefresh",thisObj:this})}onProjectRefresh({isInitialCommit:e}){const n=this;e&&n.isVertical&&(n.refreshAfterProjectRefresh=!1,n.refreshWithTransition()),n.navigateToAfterRefresh&&(n.navigateTo(n.navigateToAfterRefresh),n.navigateToAfterRefresh=null),n.refreshAfterProjectRefresh&&(n.refreshWithTransition(!1,!e),n.refreshAfterProjectRefresh=!1)}changeCrudManager(e){const n=this;e&&!e.isCrudManager&&(e=n.crudManagerClass.new({scheduler:n},e)),n._crudManager=e,n.bindCrudManager(e)}get store(){return!this._store&&this.isVertical&&(this._store=new Store({data:[{id:"verticalTimeAxisRow",cls:"b-verticaltimeaxis-row"}]})),super.store}set store(e){super.store=e}refreshFromRowOnStoreAdd(e,{isExpand:n}){const r=arguments;this.runWithTransition((()=>{this.currentOrientation.suspended=!n,super.refreshFromRowOnStoreAdd(e,...r),this.currentOrientation.suspended=!1}),!n)}onStoreAdd(e){super.onStoreAdd(e),this.calculateRowHeights(e.records)}onStoreUpdateRecord({source:e,record:n,changes:r}){let o=0;"assigned"in r&&o++,"calendar"in r&&o++,o!==Object.keys(r).length&&super.onStoreUpdateRecord(...arguments)}updateResourceStore(e){e&&this.isHorizontal&&(e.metaMapId=this.id,this.store=e)}onEventIdChange(e){this.currentOrientation.onEventStoreIdChange&&this.currentOrientation.onEventStoreIdChange(e)}onEventStoreBatchedUpdate(e){if(this.listenToBatchedUpdates)return this.onInternalEventStoreChange(e)}onInternalEventStoreChange(e){!this._mode||e.isAssign||this.assignmentStore.isRemovingAssignment||this.currentOrientation.onEventStoreChange(e)}onEventCommit({changes:e}){let n=[...e.added,...e.modified].map((e=>this.eventStore.getResourcesForEvent(e)));n=Array.prototype.concat.apply([],n),new Set(n).forEach((e=>this.repaintEventsForResource(e)))}onEventCommitStart({changes:e}){const{currentOrientation:n,committingCls:r}=this;[...e.added,...e.modified].forEach((e=>e.assignments.forEach((e=>n.toggleCls(e,r,!0)))))}onEventException({action:e}){if("commit"===e){const{changes:e}=this.eventStore;[...e.added,...e.modified,...e.removed].forEach((e=>this.repaintEvent(e)))}}onAssignmentCommit({changes:e}){this.repaintEventsForAssignmentChanges(e)}onAssignmentCommitStart({changes:e}){const{currentOrientation:n,committingCls:r}=this;[...e.added,...e.modified].forEach((e=>{n.toggleCls(e,r,!0)}))}onAssignmentException({action:e}){"commit"===e&&this.repaintEventsForAssignmentChanges(this.assignmentStore.changes)}repaintEventsForAssignmentChanges(e){const n=[...e.added,...e.modified,...e.removed].map((e=>e.getResource()));new Set(n).forEach((e=>this.repaintEventsForResource(e)))}onAssignmentBeforeRemove({source:e,records:n,removingAll:r}){if(r)return;const o=this;let i;if(!o.isConfiguring&&(o.navigateToAfterRefresh||o.activeAssignment&&n.includes(o.activeAssignment))){if(n.includes(o.navigateToAfterRefresh)&&(o.navigateToAfterRefresh=null),"key"===gn.lastInteractionType)for(let e=0,r=n.length;e<r&&!i;e++){const r=n[e];if(r.resource&&r.resource.isModel){let e=o.getNext(r);e&&!n.includes(e)||(e=o.getPrevious(r)),e&&!n.includes(e)&&(i=e)}}i?(o.navigateTo(i),o.navigateToAfterRefresh=i):DomHelper.focusWithoutScrolling(o.focusElement)}}applyStartEndParameters({source:e,params:n}){const r=this,o=e.modelClass.fieldMap.startDate;r.passStartEndParameters&&(n[r.startParamName]=o.print(r.startDate),n[r.endParamName]=o.print(r.endDate))}getResourcesEventsPerTick(e,n){const{timeAxis:r,resourceStore:o}=this,i=[];return(e=e||o.records).forEach((e=>{e.events.forEach((o=>{if(!r.isTimeSpanInAxis(o)||n&&!n.call(this,{resource:e,event:o}))return;let a=Math.floor(r.getTickFromDate(o.startDate)),l=Math.ceil(r.getTickFromDate(o.endDate));-1==a&&(a=0),-1===l&&(l=r.ticks.length);do{i[a]?i[a].push(o):i[a]=[o]}while(++a<l)}))})),i}get widgetClass(){}};const El=Promise.resolve(),kl={block:"nearest",edgeOffset:20},Tl={highlight:!1,focus:!1};var SchedulerScroll=e=>class SchedulerScroll extends(e||Base){static get $name(){return"SchedulerScroll"}scrollEventIntoView(e,n=kl){const r=e.resources||[e];if(r.length>1)throw new Error("scrollEventIntoView() is not applicable for events with multiple assignments, please use scrollResourceEventIntoView() instead.");return r.length?this.scrollResourceEventIntoView(r[0],e,null,n):(console.warn("You have asked to scroll to an event which is not assigned to a resource"),El)}scrollAssignmentIntoView(e,...n){return this.scrollResourceEventIntoView(e.resource,e.event,...n)}scrollResourceEventIntoView(e,n,r,o=kl){var i;const a=this,l=n.startDate,c=n.endDate,d=n.isScheduled&&l<a.timeAxis.startDate|(c>a.timeAxis.endDate)<<1;let u;if(null==o.edgeOffset&&(o.edgeOffset=20),d&&!1!==o.extendTimeAxis){const e=a.timeAxis.endDate-a.timeAxis.startDate;3===d?a.setTimeSpan(new Date(l.valueOf()-e/2),new Date(c.getTime()+e/2)):1&d?a.setTimeSpan(new Date(l),new Date(l.valueOf()+e)):a.setTimeSpan(new Date(c.valueOf()-e),new Date(c))}if(null===(i=a.expandTo)||void 0===i||i.call(a,e),u=a.getElementFromEventRecord(n,e),u){DomHelper.isFocusable(u)||(u=u.parentNode);const e=a.timeAxisSubGrid.scrollable;return a.timeAxisSubGrid.forceScrollUpdate=!0,e.scrollIntoView(u,o)}return d&&!1===o.extendTimeAxis?(console.warn("You have asked to scroll to an event which is outside the current view and extending timeaxis is disabled"),El):n.isOccurrence||a.eventStore.isAvailable(n)?n.isScheduled?a.scrollUnrenderedEventIntoView(e,n,o):a.scrollResourceIntoView(e,o):(console.warn("You have asked to scroll to an event which is not available"),El)}scrollUnrenderedEventIntoView(e,n,r=kl){return new Promise((o=>{const i=this,a=Object.assign({edgeOffset:20},r,Tl),l=i.timeAxisSubGrid.scrollable,c=i.getResourceEventBox(n,e),d=l.viewport;if(!d)return void o();c.x=Math.ceil(c.x),c.y=Math.ceil(c.y);const u=c.translate(d.x-l.x,d.y-l.y),p=l.getDeltaTo(u,a)[i.isHorizontal?"xDelta":"yDelta"],b=i.on({renderEvent:async({eventRecord:e,element:i,targetElement:a})=>{if(e===n){const e=i||a;b(),await g,p>0&&await l.scrollIntoView(e,{edgeOffset:r.edgeOffset}),r.highlight&&DomHelper.highlight(e),r.focus&&e.focus(),o()}}}),g=l.scrollIntoView(u,a)}))}scrollResourceIntoView(e,n=kl){return this.isVertical?this.currentOrientation.scrollResourceIntoView(e,n):this.scrollRowIntoView(e,n)}get widgetClass(){}},SchedulerRegions=e=>class SchedulerRegions extends(e||Base){static get $name(){return"SchedulerRegions"}getScheduleRegion(e,n,r=!0){return this.currentOrientation.getScheduleRegion(e,n,r)}getResourceRegion(e,n,r){return this.currentOrientation.getRowRegion(e,n,r)}getAssignmentEventBox(e,n){return this.getResourceEventBox(e.event,e.resource,n)}getResourceEventBox(e,n,r=!1,o=!1){return this.currentOrientation.getResourceEventBox(e,n,r,o)}getItemBox(e,n=!1){return e.resources.map((r=>this.getResourceEventBox(e,r,n)))}get widgetClass(){}};const _l=["eventLayout","barMargin","mode","eventColor","eventStyle","tickSize","fillTicks"];var SchedulerState=e=>class SchedulerState extends(e||Base){static get $name(){return"SchedulerState"}getState(){const e=this,n=ObjectHelper.copyProperties(super.getState(),e,_l);return n.zoomLevel=e.zoomLevel,n.zoomLevelOptions={startDate:e.startDate,endDate:e.endDate,viewportCenterDate:e.viewportCenterDate,width:e.tickSize},n}applyState(e){this.suspendRefresh(),e.zoomLevel&&this.zoomToLevel(e.zoomLevel,e.zoomLevelOptions),ObjectHelper.copyProperties(this,e,_l),super.applyState(e),this.resumeRefresh(!0)}get widgetClass(){}},SchedulerEventSelection=e=>class EventSelection extends(e||Base){static get $name(){return"EventSelection"}static get configurable(){return{highlightPredecessors:!1,highlightSuccessors:!1}}static get defaultConfig(){return{multiEventSelect:!1,eventSelectionDisabled:!1,eventSelectedCls:"b-sch-event-selected",triggerSelectionChangeOnRemove:!1,maintainSelectionOnDatasetChange:!0,eventAssignHighlightCls:"b-sch-event-assign-selected",selectedCollection:{}}}afterConstruct(){var e;super.afterConstruct(),null===(e=this.navigator)||void 0===e||e.on({navigate:"onEventNavigate",thisObj:this})}set selectedCollection(e){e instanceof Collection||(e=new Collection(e)),this._selectedCollection=e,e.on({change:"onSelectedCollectionChange",thisObj:this})}get selectedCollection(){return this._selectedCollection}getEventsFromAssignments(e){return ArrayHelper.unique(e.map((e=>e.event)))}get selectedEvents(){return this.getEventsFromAssignments(this.selectedCollection.values)}set selectedEvents(e){const n=[];e&&!Array.isArray(e)&&(e=[e]),e&&e.forEach((e=>{!1!==this.isEventSelectable(e)&&n.push(...e.assignments)})),this.selectedCollection.splice(0,this.selectedCollection.count,n)}get selectedAssignments(){return this.selectedCollection.values}set selectedAssignments(e){this.selectedCollection.splice(0,this.selectedCollection.count,e||[])}isEventSelected(e){return this.selectedEvents.includes(e)}isEventSelectable(e){}isAssignmentSelected(e){return this.selectedCollection.includes(e)}select(e,n=!1){e.isAssignment?this.selectAssignment(e,n):this.selectEvent(e,n)}selectEvent(e,n=!1){this.isEventSelected(e)||this.selectEvents([e],n)}selectAssignment(e,n=!1){this.isAssignmentSelected(e)||(n?this.selectedCollection.add(e):this.selectedAssignments=e)}deselect(e){e.isAssignment?this.deselectAssignment(e):this.deselectEvent(e)}deselectEvent(e){this.isEventSelected(e)&&this.selectedCollection.remove(...e.assignments)}deselectAssignment(e){this.isAssignmentSelected(e)&&this.selectedCollection.remove(e)}selectEvents(e,n=!1){if(n){const n=e.reduce(((e,n)=>(!1!==this.isEventSelectable(n)&&e.push(...n.assignments),e)),[]);this.selectedCollection.add(n)}else this.selectedEvents=e}deselectEvents(e){this.selectedCollection.remove(e.reduce(((e,n)=>(e.push(...n.assignments),e)),[]))}selectAssignments(e){this.selectedCollection.add(e)}deselectAssignments(e){this.selectedCollection.remove(e)}clearEventSelection(){this.selectedAssignments=[]}onSelectedCollectionChange({added:e,removed:n}){const r=this,o=r.selectedAssignments,i=e||[],a=n||[];function updateSelection(e,n){const o=e.event;if(o){const i=r.getElementFromAssignmentRecord(e);r.currentOrientation.toggleCls(e,r.eventSelectedCls,n),r.getElementsFromEventRecord(o).forEach((e=>{if(e!==i){const o=r.resolveAssignmentRecord(e);r.currentOrientation.toggleCls(o,r.eventAssignHighlightCls,n),n&&(e.style.animation="none",e.offsetHeight,e.style.animation=""),e.classList[n?"add":"remove"](r.eventAssignHighlightCls)}}))}}if(a.forEach((e=>updateSelection(e,!1))),i.forEach((e=>updateSelection(e,!0))),(r.highlightSuccessors||r.highlightPredecessors)&&r.highlightLinkedEvents(r.selectedEvents),r.$selectedAssignments=o.map((e=>({eventId:e.eventId,resourceId:e.resourceId}))),!r.silent){const e=o.length>0?i.length>0&&a.length>0?"update":i.length>0?"select":"deselect":"clear";r.trigger("assignmentSelectionChange",{action:e,selection:o,selected:i,deselected:a}),r.trigger("eventSelectionChange",{action:e,selection:r.selectedEvents,selected:r.getEventsFromAssignments(i),deselected:r.getEventsFromAssignments(a)})}}onAssignmentChange({action:e,records:n}){const r=this;if(r.silent=!r.triggerSelectionChangeOnRemove,"remove"===e)r.deselectAssignments(n);else if("removeall"!==e||r.eventStore.isSettingData){if("dataset"===e&&r.$selectedAssignments)if(r.maintainSelectionOnDatasetChange){const e=r.$selectedAssignments.map((e=>n.find((n=>n.eventId===e.eventId&&n.resourceId===e.resourceId))));r.selectedAssignments=ArrayHelper.clean(e)}else r.clearEventSelection()}else r.clearEventSelection();r.silent=!1}onInternalEventStoreChange({source:e,action:n,records:r}){e.isResourceTimeRangeStore||"dataset"!==n||r.length||this.clearEventSelection(),super.onInternalEventStoreChange(...arguments)}onAssignmentSelectionClick(e,n){const r=this;r.isAssignmentSelected(n)?e.ctrlKey&&r.deselectAssignment(n,r.multiEventSelect):!1!==this.isEventSelectable(n.event)&&r.selectAssignment(n,e.ctrlKey&&r.multiEventSelect)}onEventNavigate({event:e,item:n}){if(!this.eventSelectionDisabled){const r=n&&(n.nodeType===Element.ELEMENT_NODE?this.resolveAssignmentRecord(n):n);r?(this.clearFocus(!0),this.onAssignmentSelectionClick(e,r)):this.clearEventSelection()}}changeHighlightSuccessors(e){return this.changeLinkedEvents(e)}changeHighlightPredecessors(e){return this.changeLinkedEvents(e)}changeLinkedEvents(e){const n=this;return e?(n.highlighted=n.highlighted||new Set,n.highlightLinkedEvents(n.selectedEvents)):n.highlighted&&n.highlightLinkedEvents(),e}highlightLinkedEvents(e=[]){const n=this,{highlighted:r}=n,o=n.features.dependencies;n.eventStore.beginBatch(),r.forEach((i=>{e.includes(i)||(i.$highlight=!1,r.delete(i),n.eventStore.includes(i)&&i.dependencies.forEach((e=>o.unhighlight(e,"b-highlight"))))})),e.forEach((e=>{const i=[e];for(;i.length;){const e=i.pop();r.add(e),n.highlightSuccessors&&e.outgoingDeps.forEach((e=>{o.highlight(e,"b-highlight"),!r.has(e.toEvent)&&i.push(e.toEvent)})),n.highlightPredecessors&&e.incomingDeps.forEach((e=>{o.highlight(e,"b-highlight"),!r.has(e.fromEvent)&&i.push(e.fromEvent)}))}r.forEach((e=>e.$highlight=!0))})),n.eventStore.endBatch(),e.length>0?n.element.classList.add("b-highlighting"):n.element.classList.remove("b-highlighting")}onEventDataGenerated(e){(this.highlightSuccessors||this.highlightPredecessors)&&(e.cls["b-highlight"]=e.eventRecord.$highlight),super.onEventDataGenerated(e)}updateProject(e,n){this.clearEventSelection(),super.updateProject(e,n)}doDestroy(){var e;null===(e=this._selectedCollection)||void 0===e||e.destroy(),super.doDestroy()}get widgetClass(){}};const preventDefault=e=>e.preventDefault();var SchedulerEventNavigation=e=>class EventNavigation extends(Delayable(e||Base)){static get $name(){return"EventNavigation"}static get configurable(){return{navigator:{allowCtrlKey:!0,scrollSilently:!0,keys:{Space:"onEventSpaceKey",Enter:"onEventEnterKey",Delete:"onDeleteKey",Backspace:"onDeleteKey"}}}}static get defaultConfig(){return{focusCls:"b-active",enableDeleteKey:!0,onDeleteKeyBuffer:500,navigatePreviousBuffer:200,navigateNextBuffer:200,testConfig:{onDeleteKeyBuffer:1}}}construct(e){const n=this;n.isInTimeAxis=n.isInTimeAxis.bind(n),n.onDeleteKey=n.throttle(n.onDeleteKey,n.onDeleteKeyBuffer,n),super.construct(e)}changeNavigator(e){const n=this;return n.getConfig("subGridConfigs"),new Navigator(n.constructor.mergeConfigs({ownerCmp:n,target:n.timeAxisSubGridElement,processEvent:n.processEvent,itemSelector:`.${n.eventCls}-wrap`,focusCls:n.focusCls,navigatePrevious:n.throttle(n.navigatePrevious,{delay:n.navigatePreviousBuffer,throttled:preventDefault}),navigateNext:n.throttle(n.navigateNext,{delay:n.navigateNextBuffer,throttled:preventDefault})},e))}doDestroy(){this.navigator.destroy(),super.doDestroy()}isInTimeAxis(e){return!e.instanceMeta(this).excluded&&this.timeAxis.isTimeSpanInAxis(e)}accessibleFocusCell(e,n){if((e=this.normalizeCellContext(e)).columnId!==this.timeAxisColumn.id)return super.focusCell(e,n)}normalizeTarget(e){return e.assignmentRecord}getPrevious(e,n){const r=this,{resourceStore:o}=r,{eventSorter:i}=r.currentOrientation,{startDate:a,endDate:l}=r.timeAxis,c=e.event,d=r.eventStore.getEvents({resourceRecord:e.resource,startDate:a,endDate:l}).filter(this.isInTimeAxis).sort(i);let u=e.resource,p=d[d.indexOf(c)-1];if(!p)for(let e=o.indexOf(u)-1;(!p||n&&p===c)&&e>=0;e--){u=o.getAt(e);const n=r.eventStore.getEvents({resourceRecord:u,startDate:a,endDate:l}).filter(r.isInTimeAxis).sort(i);p=n.length&&n[n.length-1]}return r.assignmentStore.getAssignmentForEventAndResource(p,u)}navigatePrevious(e){const n=this,r=n.getPrevious(n.normalizeTarget(e));if(e.preventDefault(),r)return e.ctrlKey||n.clearEventSelection(),n.navigateTo(r,e)}getNext(e,n){const r=this,{resourceStore:o}=r,{eventSorter:i}=r.currentOrientation,{startDate:a,endDate:l}=r.timeAxis,c=e.event,d=r.eventStore.getEvents({resourceRecord:e.resource,startDate:a,endDate:l}).filter(this.isInTimeAxis).sort(i);let u=e.resource,p=d[d.indexOf(c)+1];if(!p)for(let e=o.indexOf(u)+1;(!p||n&&p===c)&&e<o.count;e++){u=o.getAt(e);p=r.eventStore.getEvents({resourceRecord:u,startDate:a,endDate:l}).filter(r.isInTimeAxis).sort(i)[0]}return r.assignmentStore.getAssignmentForEventAndResource(p,u)}navigateNext(e){const n=this,r=n.getNext(n.normalizeTarget(e));if(e.preventDefault(),r)return e.ctrlKey||n.clearEventSelection(),n.navigateTo(r,e)}async navigateTo(e,n={}){const r=this;e&&(r.navigator.disabled=!0,await r.scrollAssignmentIntoView(e,null,{animate:100}),!r.isDestroyed&&this.getElementFromAssignmentRecord(e)&&(r.navigator.disabled=!1,r.activeAssignment=e,r.navigator.trigger("navigate",{event:n,item:DomHelper.up(r.getElementFromAssignmentRecord(e),r.navigator.itemSelector)})))}set activeAssignment(e){const n=this.getElementFromAssignmentRecord(e);this.navigator.activeItem=n.parentNode}get activeAssignment(){const{activeItem:e}=this.navigator;if(e)return this.resolveAssignmentRecord(e)}get previousActiveEvent(){const{previousActiveItem:e}=this.navigator;if(e)return this.resolveEventRecord(e)}processEvent(e){const n=this,r=DomHelper.up(e.target,n.eventSelector);return!n.navigator.disabled&&r&&(e.assignmentRecord=n.resolveAssignmentRecord(r),e.eventRecord=n.resolveEventRecord(r),e.resourceRecord=n.resolveResourceRecord(r)),e}onDeleteKey(e){const n=this;if(!n.readOnly&&n.enableDeleteKey){const e=n.eventStore.usesSingleAssignment?n.selectedEvents:n.selectedAssignments;n.removeEvents(e)}}removeEvents(e,n=null){const r=this;if(!r.readOnly&&e.length){const o={finalize(o=!0){if(n&&n(o),!1!==o)if(e.some((e=>{var n;return e.isOccurrence||(null===(n=e.event)||void 0===n?void 0:n.isOccurrence)})))e.forEach((e=>e.isOccurrenceAssignment?e.event.remove():e.remove()));else{(e[0].isAssignment?r.assignmentStore:r.eventStore).remove(e)}}};let i;if(i=e[0].isAssignment?r.trigger("beforeAssignmentDelete",{assignmentRecords:e,context:o}):r.trigger("beforeEventDelete",{eventRecords:e,context:o}),!1!==i)return o.finalize(),!0}return!1}onEventSpaceKey(e){}onEventEnterKey(e){}get isActionableLocation(){if(!this.navigator.activeItem)return super.isActionableLocation}get widgetClass(){}},BaseRendering=e=>class extends(e||Base){getElementFromAssignmentRecord(e,n=!1){if(this.scheduler.isPainted&&e){var r,o;const i=null===(r=this.scheduler.foregroundCanvas.syncIdMap)||void 0===r?void 0:r[e.id];return n?i:null==i||null===(o=i.syncIdMap)||void 0===o?void 0:o.event}return null}getElementFromEventRecord(e,n=(()=>{var n;return null===(n=e.resources)||void 0===n?void 0:n[0]})(),r=!1){const o=this.assignmentStore.getAssignmentForEventAndResource(e,n);return this.getElementFromAssignmentRecord(o,r)}getElementsFromEventRecord(e,n,r=!1){const o=this;return n?[o.getElementFromEventRecord(e,n,r)]:e.resources.reduce(((n,i)=>{const a=o.getElementFromEventRecord(e,i,r);return a&&n.push(a),n}),[])}};const Ml={releaseElement:1,reuseElement:1},Rl={newElement:1,reuseOwnElement:1,reuseElement:1},Il=9999999,heightEventSorter=({startDateMS:e},{startDateMS:n})=>e-n,Fl={startDate:1,endDate:1,duration:1};function getStartEnd(e,n,r){var o;const{timeAxis:i}=e,a=r?"endDate":"startDate",l=n.isBatchUpdating?n.get(a):n[a],c=null===(o=n.hasBatchedChange)||void 0===o?void 0:o.call(n,a);if(e.fillTicks&&(!n.meta.isResizing||!c)){let e=i.getTickFromDate(l);if(e>=0){r&&e===Math.round(e)&&e>0&&e--;const n=Math.floor(e);return i.getAt(n)[a].getTime()}}return null==l?void 0:l.getTime()}class HorizontalRendering extends(Base.mixin(BaseRendering,AttachToProjectMixin)){static get configurable(){return{scrollBuffer:0,bufferSize:150,verticalBufferSize:150}}static get properties(){return{resourceMap:new Map,rowMap:new Map,eventConfigs:[],isFirstRefresh:!0,toDrawOnProjectRefresh:new Set,toDrawOnDataReady:new Set}}construct(e){const n=this;n.client=n.scheduler=e,n.eventSorter=n.eventSorter.bind(e),e.scrollable.on({scroll:"onEarlyScroll",prio:1,thisObj:n}),e.rowManager.on({name:"rowManager",renderDone:"onRenderDone",removeRows:"onRemoveRows",translateRow:"onTranslateRow",beforeRowHeight:"onBeforeRowHeightChange",thisObj:n}),super.construct({})}init(){}updateVerticalBufferSize(){const{rowManager:e}=this.scheduler;this.scheduler.isPainted&&e.renderRows(e.rows)}get visibleDateRange(){return this._visibleDateRange}getDateFromXY(e,n,r,o=!1){let i=e[0];return r||(i=this.translateToScheduleCoordinate(i)),this.scheduler.timeAxisViewModel.getDateFromPosition(i,n,o)}translateToScheduleCoordinate(e){return e-this.scheduler.timeAxisSubGridElement.getBoundingClientRect().left+this.scheduler.scrollLeft-window.pageXOffset}translateToPageCoordinate(e){const n=this.scheduler.timeAxisSubGridElement;return e+n.getBoundingClientRect().left-n.scrollLeft}getScheduleRegion(e,n,r=!0){const o=this,{scheduler:i}=o,{timeAxisSubGridElement:a,timeAxis:l}=i,c=i.getResourceMargin(e);let d;if(e){const r=n&&o.getElementsFromEventRecord(n,e)[0];if(d=Rectangle.from(i.getRowById(e.id).getElement("normal")),r){const e=Rectangle.from(r,a);d.y=e.y,d.bottom=e.bottom}else d.y=d.y+c,d.bottom=d.bottom-c}else d=Rectangle.from(a).moveTo(null,0),d.width=a.scrollWidth,d.y=d.y+c,d.bottom=d.bottom-c;const u=l.startDate,p=l.endDate,b=i.getDateConstraints(e,n)||{start:u,end:p};let g=i.getCoordinateFromDate(DateHelper.max(u,b.start)),m=i.getCoordinateFromDate(DateHelper.min(p,b.end));return r||(g=o.translateToPageCoordinate(g),m=o.translateToPageCoordinate(m)),d.left=Math.min(g,m),d.right=Math.max(g,m),d}getRowRegion(e,n,r){const{scheduler:o}=this,{timeAxis:i}=o,a=o.getRowById(e.id);if(!a)return null;const l=i.startDate,c=i.endDate,d=n?DateHelper.max(l,n):l,u=r?DateHelper.min(c,r):c,p=o.getCoordinateFromDate(d),b=o.getCoordinateFromDate(u,!0,!0),g=a.top,m=Math.min(p,b),f=g+a.offsetHeight;return new Rectangle(m,g,Math.max(p,b)-m,f-g)}getResourceEventBox(e,n,r,o=!1){const i=this.resourceMap.get(n.id);let a=null,l=!1;if(i&&(a=i.eventsData.find((n=>n.eventRecord===e))),a||(a=this.getTimeSpanRenderData(e,n,{viewport:!0,timeAxis:r}),l=!0),a){const e=this.scheduler.rowManager.getRecordCoords(n,!0,o),r=a.top+e.top,i=new Rectangle(a.left,r,a.width,a.height);return i.layout=!l,i.rowTop=e.top,i.rowBottom=e.bottom,i.resourceId=n.id,i}return null}resolveRowRecord(e){const n=this,{scheduler:r}=n,o=e.nodeType?e:e.target,i=o.nodeType===Element.TEXT_NODE?o.parentElement:o,a=DomHelper.up(i,r.eventSelector);return a?n.resourceStore.getById(a.dataset.resourceId):r.getRecordFromElement(i)}attachToProject(e){super.attachToProject(e),this.refreshAllWhenReady=!0,this.scheduler.isConfiguring||this.clearAll({clearDom:!0}),null==e||e.on({name:"project",refresh:"onProjectRefresh",dataReady:"onProjectDataReady",thisObj:this})}onProjectDataReady(){const{scheduler:e,toDrawOnDataReady:n}=this;e.refreshSuspended||(n.size&&(this.clearResources(n),this.refreshResources(n)),n.clear())}onProjectRefresh(){const e=this,{scheduler:n,toDrawOnProjectRefresh:r}=e;if(!n.isConfiguring&&!n.refreshSuspended){if(e.refreshAllWhenReady){n.calculateAllRowHeights(!0);const{rowManager:r}=n;r.topRow?(e.clearAll(),n.refreshAfterProjectRefresh||(r.topRow.dataIndex>=n.store.count?n.renderRows(!1):n.refreshWithTransition(!1,!e.isFirstRefresh)),e.isFirstRefresh=!1):r.reinitialize(),e.refreshAllWhenReady=!1}else r.size&&e.refreshResources(r);r.clear()}}attachToAssignmentStore(e){this.refreshAllWhenReady=!0,super.attachToAssignmentStore(e),e&&e.on({name:"assignmentStore",changePreCommit:"onAssignmentStoreChange",refreshPreCommit:"onAssignmentStoreRefresh",thisObj:this})}onAssignmentStoreChange({action:e,records:n=[],replaced:r,changes:o}){const i=this,{scheduler:a}=i,l=new Set(n.map((e=>e.resourceId)));if(!i.resourceStore.isRemoving&&!i.resourceStore.isChangingId)switch(e){case"dataset":return void(i.eventStore.usesSingleAssignment||(l.size?i.refreshResourcesWhenReady(l):(i.clearAll(),a.refreshWithTransition())));case"add":case"remove":case"updateMultiple":return void i.refreshResourcesWhenReady(l);case"removeall":return void(i.refreshAllWhenReady=!0);case"replace":return r.forEach((([e,n])=>{l.add(e.resourceId),l.add(n.resourceId)})),void i.refreshResourcesWhenReady(l);case"filter":return i.clearAll(),a.calculateAllRowHeights(!0),void a.refreshWithTransition();case"update":("eventId"in o||"resourceId"in o||"id"in o)&&("resourceId"in o&&l.add(o.resourceId.oldValue),i.refreshResourcesOnDataReady(l))}}onAssignmentStoreRefresh({action:e,records:n}){"batch"===e&&(this.clearAll(),this.scheduler.refreshWithTransition())}attachToEventStore(e){this.refreshAllWhenReady=!0,super.attachToEventStore(e),e&&e.on({name:"eventStore",refreshPreCommit:"onEventStoreRefresh",thisObj:this})}onEventStoreRefresh({action:e}){"batch"===e&&this.scheduler.isEngineReady&&(this.clearAll(),this.scheduler.refreshWithTransition())}onEventStoreChange({action:e,records:n=[],record:r,replaced:o,changes:i,source:a}){const l=this,{scheduler:c}=l,d=a.isResourceTimeRangeStore,u=new Set;if(n.forEach((e=>{var n;null===(n=e.resources)||void 0===n||n.forEach((e=>u.add(e.id)))})),d){switch(e){case"removeall":case"dataset":return l.clearAll(),void c.refreshWithTransition()}l.refreshResources(u)}else{switch(e){case"batch":case"sort":case"group":case"move":case"remove":return;case"clearchanges":return l.clearAll(),void c.refreshWithTransition();case"dataset":return l.clearAll(),void(l.refreshAllWhenReady=!0);case"add":case"updateMultiple":break;case"replace":o.forEach((([,e])=>{e.resources.map((e=>u.add(e.id)))}));break;case"removeall":case"filter":return c.isEngineReady?(l.clearAll(),c.calculateAllRowHeights(!0),void c.refreshWithTransition()):void(l.refreshAllWhenReady=!0);case"update":{const e=r.$entity?!Object.keys(i).some((e=>!r.$entity.getField(e))):!Object.keys(i).some((e=>!Fl[e]));let n=0;var p,b;if("startDate"in i&&n++,"endDate"in i&&n++,"duration"in i&&n++,"resourceId"in i&&u.add(i.resourceId.oldValue),!e||n&&(!("duration"in i)||1!==n)||"percentDone"in i||"inactive"in i)null!==(p=l.project)&&void 0!==p&&p.propagatingLoadChanges||null!==(b=l.project)&&void 0!==b&&b.isWritingData?l.refreshResourcesOnDataReady(u):l.refreshResources(u);return}}l.refreshResourcesWhenReady(u)}}attachToResourceStore(e){this.refreshAllWhenReady=!0,super.attachToResourceStore(e),e&&(this.clearAll({clearLayoutCache:!0}),e.on({name:"resourceStore",changePreCommit:"onResourceStoreChange",thisObj:this}))}onResourceStoreChange({action:e,isExpand:n,records:r,changes:o}){const i=this,a=null==r?void 0:r.map((e=>e.id));switch(e){case"add":return void(n||i.refreshResourcesWhenReady(a));case"update":return void(i.project.isBatchingChanges||o.isLeaf||i.refreshResources(a));case"filter":case"dataset":return;case"removeall":return void i.clearAll({clearLayoutCache:!0})}i.clearResources(a)}onTranslateRow({row:e}){null!=e.id&&this.refreshEventsForResource(e,!1)}calculateRowHeight(e){const{scheduler:n}=this,r=n.getResourceHeight(e),o=n.getEventLayout(e);if("stack"===o.type&&n.isEngineReady&&!e.isSpecialRow&&e.assigned.size>1){const{assignmentStore:i,eventStore:a,timeAxis:l}=n,{barMargin:c,resourceMargin:d}=n.getResourceLayoutSettings(e),u=r-2*d,p=(a.isFiltered||i.isFiltered)&&(n=>n.assignments.some((n=>n.resource===e&&i.includes(n)))),b=a.getEvents({resourceRecord:e,includeOccurrences:n.enableRecurringEvents,startDate:l.startDate,endDate:l.endDate,filter:p}).sort(heightEventSorter).map((n=>{const r=n.isBatchUpdating?n.get("startDate"):n.startDate,o=n.isBatchUpdating?n.get("endDate"):n.endDate||r;return{eventRecord:n,resourceRecord:e,startMS:r.getTime(),endMS:o.getTime()}})),g=n.getEventLayoutHandler(o),m=g.layoutEventsInBands(b,!0);return"layoutFn"===g.type?m:m*u+(m-1)*c+2*d}return r}doUpdateTimeView(){this.updateFromHorizontalScroll(this.scheduler.timeAxisSubGrid.scrollable.x)}onTimeAxisViewModelUpdate(){const e=this,{scheduler:n}=e;e.clearAll(),n.refreshSuspended&&(e.detachListeners("renderingSuspend"),n.on({name:"renderingSuspend",resumeRefresh(){n.isEngineReady&&e.doUpdateTimeView()},thisObj:e,once:!0})),e.doUpdateTimeView()}getConnectorStartSide(e){return"left"}getConnectorEndSide(e){return"right"}refreshRows(e){e&&this.clearAll()}onLocaleChange(){this.clearAll()}onViewportResize(e,n,r,o){n>o&&this.onRenderDone()}onDragAbort({context:e,dragData:n}){this.resourceStore.indexOf(n.record.resource)<this.scheduler.topRow.dataIndex&&e.element.remove()}toggleCls(e,n,r=!0,o=!1){const i=this.getElementFromAssignmentRecord(e,o),a=this.resourceMap.get(e.isModel?e.get("resourceId"):e.resourceId),l=null==a?void 0:a.eventsData.find((n=>n.eventId===e.eventId));l&&(l[o?"wrapperCls":"cls"][n]=r),i&&(i.classList[r?"add":"remove"](n),i.lastDomConfig.className[n]=r)}onRemoveRows({rows:e}){e.forEach((e=>this.rowMap.delete(e))),this.onRenderDone()}onEarlyScroll(){this.rendererCalled=!1}updateFromVerticalScroll(){this.rendererCalled||this.onRenderDone()}updateFromHorizontalScroll(e){const n=this,{scheduler:r,scrollBuffer:o}=n,{timeAxisSubGrid:i,timeAxis:a}=r,l=i.width,c=i.scrollable.maxX<=Math.round(e)+5,d=r.getDateFromCoordinate(Math.max(0,e-o)),u=c?a.endDate:r.getDateFromCoordinate(e+l+o)||a.endDate;if(d&&!r._viewPresetChanging){n._visibleDateRange={startDate:d,endDate:u,startMS:d.getTime(),endMS:u.getTime()},n.viewportCoords={left:e-o,right:e+l+o};const i=r.timeView.range={startDate:d,endDate:u};if(r.onVisibleDateRangeChange(i),r.trigger("visibleRangeChange",i),!r.refreshSuspended&&r.rowManager.rows.length){if(null===r.rowManager.rows[0].id)return;r.rowManager.rows.forEach((e=>n.refreshEventsForResource(e,!1))),n.onRenderDone()}}}repaintEventsForResource(e){this.refreshResources([e.id])}onBeforeRowHeightChange(){this.clearAll()}refreshResourcesOnDataReady(e){e.forEach((e=>this.toDrawOnDataReady.add(e)))}refreshResourcesWhenReady(e){this.clearResources(e),e.forEach((e=>this.toDrawOnProjectRefresh.add(e)))}refreshResources(e,n=!0){const{scheduler:r}=this,o=[],i=[];this.clearResources(e),r.refreshSuspended||(e.forEach((e=>{const n=r.getRowById(e);n?o.push(n):i.push(n)})),r.runWithTransition((()=>{r.calculateRowHeights(i.map((e=>this.resourceStore.getById(e))),!0),r.rowManager.renderRows(o)}),n))}layoutEventVerticallyStack(e,n,r){const{barMargin:o,resourceMargin:i,rowHeight:a}=this.scheduler.getResourceLayoutSettings(r);return 0===e?i:i+e*(a-2*i)+e*o}layoutEventVerticallyPack(e,n,r,o){const{barMargin:i,resourceMargin:a,rowHeight:l}=this.scheduler.getResourceLayoutSettings(o),c=1/n,d=e*c,u=(l-2*a-(c-1)*i)*n;return{top:a+d*u+d*i,height:u}}addTemporaryDragElement(e,n=e.resource){const{scheduler:r}=this,o=r.generateRenderData(e,n,{timeAxis:!0,viewport:!0});o.absoluteTop=o.row?o.top+o.row.top:r.getResourceEventBox(e,n,!0).top;const i=this.renderEvent(o),{dataset:a}=i;delete i.tabIndex,delete a.eventId,delete a.resourceId,delete a.assignmentId,delete a.syncId,a.transient=!0,i.parent=this.scheduler.foregroundCanvas,i.retainElement=!0;const l=DomHelper.createElement(i);return l.innerElement=l.firstChild,e.instanceMeta(r).hasTemporaryDragElement=!0,l}eventSorter(e,n){if(this.horizontalEventSorterFn)return this.horizontalEventSorterFn(e.eventRecord||e,n.eventRecord||n);const r=e.isModel?e.startDateMS:e.dataStartMS||e.startMS,o=e.isModel?e.endDateMS:e.dataEndMS||e.endMS,i=n.isModel?n.startDateMS:n.dataStartMS||n.startMS,a=n.isModel?n.endDateMS:n.dataEndMS||n.endMS,l=e.isModel?e.name:e.eventRecord.name,c=n.isModel?n.name:n.eventRecord.name;return r-i||a-o||(l<c?-1:l==c?0:1)}calculateMS(e){const{scheduler:n}=this,{timeAxisViewModel:r}=n;let o=getStartEnd(n,e,!1),i=getStartEnd(n,e,!0),a=i-o;if("default"!==n.milestoneLayoutMode&&0===a){const l=r.getSingleUnitInPixels("minute");switch(a=60*(n.getMilestoneLabelWidth(e)*(1/l))*1e3,n.milestoneAlign){case"start":case"left":i=o+a;break;case"end":case"right":i=o,o=i-a;break;default:i=o+a/2,o=i-a}}return{startMS:o,endMS:i,durationMS:a}}getTimeSpanRenderData(e,n,r=!1){const o=this,{scheduler:i}=o,{timeAxis:a,timeAxisViewModel:l}=i,c=!0===r||r.timeAxis,d=!0===r||r.viewport;if(c||a.isTimeSpanInAxis(e)){const r=i.getRowById(n);if(r||d){const c=l.getSingleUnitInPixels("minute"),d=e.isBatchUpdating?e.get("startDate"):e.startDate,u=e.isBatchUpdating?e.get("endDate"):e.endDate||d,p=a.startMS,b=a.endMS,{startMS:g,endMS:m,durationMS:f}=o.calculateMS(e),v=g<p|(g>b)<<1,y=m>b|(m<=p)<<1,x=y?c*(f/6e4):null;let C,S=i.getCoordinateFromDate(m,{local:!0,respectExclusion:!0,isEnd:!0}),D=!1,E=!1;if(v?C=(g-p)/6e4*c:(C=i.getCoordinateFromDate(g,{local:!0,respectExclusion:!0,isEnd:!1,snapToNextIncluded:-1!==S}),D=-1===C),y?S=C+x:E=-1===S,E&&!D&&(S=i.getCoordinateFromDate(m,{local:!0,respectExclusion:!0,isEnd:!0,snapToNextIncluded:!0})),x>Il&&(1===v?1===y?(C=-100,S=i.timeAxisColumn.width+100):C=S-Il:1===y&&(S=C+Il)),D&&E&&(C=i.getCoordinateFromDate(g,{local:!0,respectExclusion:!0,isEnd:!1,snapToNextIncluded:!0,max:m}),S=i.getCoordinateFromDate(m,{local:!0,respectExclusion:!0,isEnd:!0,snapToNextIncluded:!0,min:g}),C===S))return e.instanceMeta(i).excluded=!0,null;const{resourceMargin:k,rowHeight:T}=i.getResourceLayoutSettings(n),_={eventRecord:e,taskRecord:e,left:Math.min(C,S),width:Math.max(Math.abs(S-C),e.isMilestone&&!e.meta.isDragCreating?0:6),start:d,end:u,rowId:n.id,children:[],startMS:g,endMS:m,startsOutsideView:v,endsOutsideView:y,clippedStart:D,clippedEnd:E,row:r};return i.fillTicks&&(_.dataStartMS=_.start.getTime(),_.dataEndMS=_.end.getTime()),_.top=Math.max(0,k),i.managedEventSizing&&(_.height=Math.max(T-2*k,1)),_}}}layoutResourceEvents(e,n=!1){const{scheduler:r}=this,{eventStore:o,assignmentStore:i,timeAxis:a}=r,l=o.getEvents({includeOccurrences:r.enableRecurringEvents,resourceRecord:e,startDate:a.startDate,endDate:a.endDate,filter:(i.isFiltered||o.isFiltered)&&(n=>n.assignments.some((n=>n.resource===e&&i.includes(n))))}),c=(r.getEventsToRender(e,l)||[]).reduce(((o,i)=>{if(n||a.isTimeSpanInAxis(i)){const n=r.generateRenderData(i,e,!1);n&&o.push(n)}return o}),[]);c.sort(this.eventSorter);let d=r.getAppliedResourceHeight(e);const u=c.filter((({eventRecord:e})=>e.isEvent&&!e.meta.excludeFromLayout)),p=r.getEventLayout(e),b=r.getEventLayoutHandler(p);if(b){const{barMargin:n,resourceMargin:o}=r.getResourceLayoutSettings(e),i=d-2*o,a=b.applyLayout(u,e)||1;d="layoutFn"===b.type?a:a*i+(a-1)*n+2*o}return{rowHeight:d,eventsData:c}}renderEvent(e,n){const{scheduler:r}=this,{resourceRecord:o,assignmentRecord:i,eventRecord:a}=e,l=i?this.assignmentStore.getOccurrence(i,a).id:e.eventId,c={className:e.wrapperCls,tabIndex:e.tabIndex,children:[{className:e.cls,style:e.style||"",children:e.children,dataset:{taskFeature:"event"},syncOptions:{syncIdField:"taskBarFeature"}},...e.wrapperChildren],style:{transform:`translate(${e.left}px, ${e.absoluteTop}px)`,height:e.fillSize?n:e.height,width:e.width>0?e.width:null,style:e.wrapperStyle,fontSize:e.height+"px"},dataset:{resourceId:o.id,eventId:e.eventId,syncId:l},elementData:e,retainElement:(null==i?void 0:i.instanceMeta(r).retainElement)||a.instanceMeta(r).retainElement,syncOptions:{syncIdField:"taskFeature",releaseThreshold:0}};return e.fillSize&&(e.height=n),e.zIndex&&(c.zIndex=e.zIndex),i&&(c.dataset.assignmentId=i.id),e.elementConfig=c,r.trigger("beforeRenderEvent",{renderData:e,domConfig:c}),c}refreshEventsForResource(e,n=!0){let r,o;e.isModel?(r=this.scheduler.rowManager.getRowFor(e),o=e):(r=e,o=this.resourceStore.getById(e.id)),n&&this.clearResources([e]),r&&o&&(this.renderer({row:r,record:o}),n&&this.onRenderDone())}renderer({row:e,record:n,size:r={}}){var o,i;if(n.isSpecialRow)return void this.rowMap.delete(e);const a=this,{bufferSize:l,scheduler:c}=a,d=(null===(o=c.features.labels)||void 0===o?void 0:o.left)||(null===(i=c.features.labels)||void 0===i?void 0:i.right),{left:u,right:p}=a.viewportCoords,b=[];let g,m,f=a.resourceMap.get(n.id);if(!f||f.invalid){if(a.suspended)return;f=a.layoutResourceEvents(n,!1),a.resourceMap.set(n.id,f)}r.height=f.rowHeight,f.eventsData.forEach((n=>{g=u,m=p,(d||0===n.width)&&(g-=l,m+=l),n.left+n.width>=g&&n.left<=m&&(n.absoluteTop=n.top+e.top,b.push(a.renderEvent(n,f.rowHeight)))})),a.rowMap.set(e,b),a.rendererCalled=!0}onRenderDone(){var e;const{scheduler:n,rowMap:r,verticalBufferSize:o}=this,i=[],a=null!==(e=n._scrollTop)&&void 0!==e?e:0,l=a-o,c=a+n._bodyRectangle.height+o,d=o<0,u=!n.managedEventSizing;r.forEach(((e,n)=>{if(d||n.bottom>l&&n.top<c)for(let n=0;n<e.length;n++){const r=e[n],o=r.elementData;(d||u||o.absoluteTop+o.height>l&&o.absoluteTop<c)&&i.push(r)}for(let n=0;n<e.length;n++)e[n]=_objectSpread2({},e[n])})),this.visibleEventDOMConfigs=i,DomSync.sync({domConfig:{onlyChildren:!0,children:i},targetElement:n.foregroundCanvas,syncIdField:"syncId",callback({action:e,domConfig:r,lastDomConfig:o,targetElement:i}){var a;if("none"===e||null==r||null===(a=r.elementData)||void 0===a||!a.isWrap)return;const l=Rl[e];if(Ml[e]&&null!=o&&o.elementData){const{eventRecord:e,resourceRecord:r,assignmentRecord:a}=o.elementData,l={renderData:o.elementData,element:i,eventRecord:e,resourceRecord:r,assignmentRecord:a};i===DomHelper.getActiveElement(i)&&n.focusElement.focus(),n.trigger("releaseEvent",l)}if(l){const{eventRecord:o,resourceRecord:a,assignmentRecord:l}=r.elementData,c={renderData:r.elementData,tplData:r.elementData,element:i,isReusingElement:"reuseElement"===e,isRepaint:"reuseOwnElement"===e,eventRecord:o,resourceRecord:a,assignmentRecord:l};n.trigger("renderEvent",c)}}})}clearResources(e){e instanceof Set?e=Array.from(e):Array.isArray(e)||(e=[e]);e.map(Model.asId).forEach((e=>{const n=this.resourceMap.get(e);n&&(n.invalid=!0);const r=this.scheduler.getRowById(e);r&&this.rowMap.delete(r)}))}clearAll({clearDom:e=!1,clearLayoutCache:n=!1}={}){const{layouts:r}=this.scheduler;if(n&&r)for(const e in r)r[e].clearCache();if(e){const{foregroundCanvas:e}=this.scheduler;e.syncIdMap=e.lastDomConfig=null;for(const n of e.children)n.lastDomConfig=n.elementData=null}this.resourceMap.clear(),this.rowMap.clear()}}HorizontalRendering._$name="HorizontalRendering";class VerticalLayout extends(PackMixin()){static get defaultConfig(){return{coordProp:"leftFactor",sizeProp:"widthFactor"}}applyLayout(e,n,r,o,i,a){const l=a.type;return this.packEventsInBands(e,((e,i,a,c)=>{if("none"===l)e.width=n-2*r,e.left+=r;else{e.widthFactor=c;const d=e.leftFactor=a.start+i*c,u=Math.round(1/c),p=d/c,b=n-2*r-o*(u-1);"mixed"===l&&2===u?(e.left+=d*n/5+o,e.width=n-d*n/5-2*o,e.zIndex=5+p):(e.width=c*b,e.left+=d*b+r+o*p)}}))}}VerticalLayout._$name="VerticalLayout";const Al={releaseElement:1,reuseElement:1},Ol={newElement:1,reuseOwnElement:1,reuseElement:1},Pl={startDate:1,endDate:1,duration:1},Hl=Object.freeze({});class VerticalRendering extends(Base.mixin(Delayable,BaseRendering,AttachToProjectMixin)){static get properties(){return{eventMap:new Map,resourceMap:new Map,releasedElements:{},toDrawOnProjectRefresh:new Set,resourceBufferSize:1}}construct(e){this.client=this.scheduler=e,this.verticalLayout=new VerticalLayout({scheduler:e}),super.construct({})}init(){const e=this,{scheduler:n}=e;e.resourceColumns.resourceStore=e.resourceStore,e.resourceColumns.on({name:"resourceColumns",columnWidthChange:"onResourceColumnWidthChange",thisObj:e}),e.initialized=!0,n.isPainted&&e.renderer(),e.resourceColumns.availableWidth=n.timeAxisSubGridElement.offsetWidth}resolveRowRecord(e,n){const{scheduler:r}=this,o=e.nodeType?null:e,i=o?o.target:e,a=o?[o.offsetX,o.offsetY]:n,l=i.nodeType===Element.TEXT_NODE?i.parentElement:i,c=DomHelper.up(l,r.eventSelector);if(c)return r.resourceStore.getById(c.dataset.resourceId);if(!DomHelper.up(i,".b-sch-timeaxis-cell"))return null;if(!a)throw new Error("Vertical mode needs coordinates to resolve this element. Can also be called with a browser\n                event instead of element to extract element and coordinates from");const d=Math.floor(a[0]/this.resourceColumns.columnWidth);return r.resourceStore.getAt(d)}toggleCls(e,n,r=!0,o=!1){var i;const a=null===(i=this.eventMap.get(e.eventId))||void 0===i?void 0:i[e.resourceId];if(a){a.renderData[o?"wrapperCls":"cls"][n]=r;const i=this.getElementFromAssignmentRecord(e,o);i&&i.classList[r?"add":"remove"](n)}}getDateFromXY(e,n,r,o=!1){let i=e[1];return r||(i=this.translateToScheduleCoordinate(i)),this.scheduler.timeAxisViewModel.getDateFromPosition(i,n,o)}translateToScheduleCoordinate(e){return e-this.scheduler._bodyRectangle.y+this.scheduler.scrollTop}translateToPageCoordinate(e){return e+this.scheduler._bodyRectangle.y-this.scheduler.scrollTop}getResourceEventBox(e,n){var r;const o=e.id,i=n.id;let{renderData:a}=(null===(r=this.eventMap.get(o))||void 0===r?void 0:r[i])||Hl;var l,c;a||(this.layoutResource(this.scheduler.resourceStore.getById(i)),a=null===(l=this.eventMap.get(o))||void 0===l||null===(c=l[i])||void 0===c?void 0:c.renderData);return a?new Rectangle(a.left,a.top,a.width,a.bottom-a.top):null}getScheduleRegion(e,n,r){const o=this,{scheduler:i}=o,a=Rectangle.from(i.timeAxisSubGridElement);e&&(a.left=o.resourceStore.indexOf(e)*i.resourceColumnWidth,a.right=a.left+i.resourceColumnWidth);const l=i.timeAxis.startDate,c=i.timeAxis.endDate,d=i.getDateConstraints(e,n)||{start:l,end:c},u=i.getCoordinateFromDate(DateHelper.max(l,d.start)),p=i.getCoordinateFromDate(DateHelper.min(c,d.end));return r?(a.top=u,a.bottom=p):(a.top=o.translateToPageCoordinate(u),a.bottom=o.translateToPageCoordinate(p)),a}getRowRegion(e,n,r){const{scheduler:o}=this,i=this.resourceStore.indexOf(e)*o.resourceColumnWidth,a=o.timeAxis.startDate,l=o.timeAxis.endDate,c=n?DateHelper.max(a,n):a,d=r?DateHelper.min(l,r):l,u=o.getCoordinateFromDate(c),p=o.getCoordinateFromDate(d,!0,!0),b=Math.min(u,p),g=Math.abs(u-p);return new Rectangle(i,b,o.resourceColumnWidth,g)}get visibleDateRange(){const e=this.scheduler,n=e.scrollable.y,r=e.scrollable.clientHeight;return{startDate:e.getDateFromCoordinate(n),endDate:e.getDateFromCoordinate(n+r)||e.timeAxis.endDate}}onResourceColumnWidthChange({width:e,oldWidth:n}){const r=this,{scheduler:o}=r;r.resourceColumns.width=o.timeAxisColumn.width=r.resourceStore.count*e,r.clearAll(),r.refresh(Math.abs(e-n)>30)}attachToProject(e){super.attachToProject(e),e&&e.on({name:"project",refresh:"onProjectRefresh",thisObj:this})}onProjectRefresh(){const e=this,{scheduler:n,toDrawOnProjectRefresh:r}=e;n.rendered&&!n.refreshSuspended&&(e.refreshAllWhenReady?(e.clearAll(),e.refresh(),e.refreshAllWhenReady=!1):r.size&&e.refresh(),r.clear())}attachToEventStore(e){super.attachToEventStore(e),this.refreshAllWhenReady=!0,e&&e.on({name:"eventStore",refreshPreCommit:"onEventStoreRefresh",thisObj:this})}onEventStoreRefresh({action:e}){"batch"===e&&(this.refreshAllWhenReady=!0)}onEventStoreChange({action:e,records:n=[],record:r,replaced:o,changes:i,isAssign:a}){const l=this,c=new Set;switch(n.forEach((e=>{e.resources.forEach((e=>c.add(e.id)))})),e){case"sort":case"group":case"move":case"remove":return;case"dataset":return void l.refreshAllResourcesWhenReady();case"add":case"updateMultiple":break;case"replace":o.forEach((([,e])=>{e.resources.map((e=>c.add(e.id)))})),l.clearResources(c);break;case"removeall":case"filter":return l.clearAll(),void l.refresh();case"update":{let e=0;return"startDate"in i&&e++,"endDate"in i&&e++,"duration"in i&&e++,void((r.$entity?!Object.keys(i).some((e=>!r.$entity.getField(e))):!Object.keys(i).some((e=>!Pl[e])))&&!e||(l.clearResources(c),l.refresh()))}}l.refreshResourcesWhenReady(c)}attachToResourceStore(e){const n=this;super.attachToResourceStore(e),n.refreshAllWhenReady=!0,n.resourceColumns&&(n.resourceColumns.resourceStore=e),e.on({name:"resourceStore",changePreCommit:"onResourceStoreChange",refreshPreCommit:"onResourceStoreRefresh",load:()=>n.scheduler.unmaskBody(),thisObj:n,prio:1}),n.initialized&&(n.firstResource=n.lastResource=null,n.clearAll(),n.renderer())}onResourceStoreChange({source:e,action:n,records:r=[],record:o,replaced:i,changes:a}){const l=this,c=i?i.map((e=>e[1])):r,d=new Set(c.map((e=>e.id)));if(l.firstResource=l.lastResource=null,l.scheduler.isEngineReady){switch(n){case"update":null!=a&&a.id?l.clearResources([a.id.oldValue,a.id.value]):l.clearResources([o.id]);break;case"filter":l.clearAll()}l.refresh(!0)}else{switch(n){case"dataset":case"remove":case"removeall":return void l.refreshAllResourcesWhenReady();case"replace":case"add":{const n=c.reduce(((n,r)=>Math.min(n,e.indexOf(r))),e.count);for(let r=n;r<e.count;r++)d.add(e.getAt(r).id)}}l.refreshResourcesWhenReady(d)}}onResourceStoreRefresh({action:e}){const n=this;if("group"===e)throw new Error("Grouping of resources not supported in vertical mode");"sort"===e&&(n.firstResource=n.lastResource=null,n.clearAll(),n.refresh())}attachToAssignmentStore(e){super.attachToAssignmentStore(e),this.refreshAllWhenReady=!0,e&&e.on({name:"assignmentStore",changePreCommit:"onAssignmentStoreChange",refreshPreCommit:"onAssignmentStoreRefresh",thisObj:this})}onAssignmentStoreChange({action:e,records:n=[],replaced:r,changes:o}){const i=this,a=new Set(n.map((e=>e.resourceId)));if(i.scheduler.isEngineReady){switch(e){case"filter":i.clearAll();break;case"update":if("resourceId"in o&&a.add(o.resourceId.oldValue),!Object.keys(o).filter((e=>"resource"!==e&&"event"!==e)).length)return;i.clearResources(a)}i.refresh(!0)}else{switch(o&&"resourceId"in o&&a.add(o.resourceId.oldValue),e){case"removeall":return void i.refreshAllResourcesWhenReady();case"replace":r.forEach((([e,n])=>{a.add(e.resourceId),a.add(n.resourceId)}))}i.refreshResourcesWhenReady(a)}}onAssignmentStoreRefresh({action:e,records:n}){"batch"===e&&(this.clearAll(),this.refreshAllResourcesWhenReady())}refreshRows(e){e&&(this.clearAll(),this.scheduler.refreshFromRerender=!1)}repaintEventsForResource(e){this.renderResource(e)}updateFromHorizontalScroll(e){e!==this.prevScrollLeft&&(this.renderer(),this.prevScrollLeft=e)}updateFromVerticalScroll(){this.renderer()}scrollResourceIntoView(e,n){const{scheduler:r}=this,o=r.resourceStore.indexOf(e)*r.resourceColumnWidth;return r.scrollHorizontallyTo(o,n)}onViewportResize(e){this.resourceColumns.availableWidth=e,this.renderer()}get resourceColumns(){return this.scheduler.timeAxisColumn.resourceColumns}onLocaleChange(){this.clearAll()}onDragAbort(){}onBeforeRowHeightChange(){}onTimeAxisViewModelUpdate(){}updateElementId(){}releaseTimeSpanDiv(){}refreshResourcesWhenReady(e){this.clearResources(e),e.forEach((e=>this.toDrawOnProjectRefresh.add(e)))}refreshAllResourcesWhenReady(){this.clearAll(),this.refreshAllWhenReady=!0}get resourceRange(){return this.getResourceRange(!0)}get visibleResources(){const{first:e,last:n}=this.getResourceRange();return{first:this.resourceStore.getAt(e),last:this.resourceStore.getAt(n)}}getResourceRange(e){const{scheduler:n,resourceStore:r}=this;let o=this.resourceBufferSize;return e||(o=0),r&&r.count?{first:Math.max(Math.floor(n.scrollLeft/n.resourceColumnWidth)-o,0),last:Math.min(Math.floor((n.scrollLeft+n.timeAxisSubGrid.width)/n.resourceColumnWidth)+o,r.count-1)}:{first:-1,last:-1}}get dateRange(){const{scheduler:e}=this;let n=e.getDateFromCoordinate(Math.min(e.scrollTop+e.bodyHeight+e.tickSize-1,(e.virtualScrollHeight||e.scrollable.scrollHeight)-1));n||(n=e.timeAxis.last.endDate);let r=e.getDateFromCoordinate(Math.max(e.scrollTop-e.tickSize,0));return r||(r=e.timeAxis.first.startDate,n=e.getDateFromCoordinate(e.bodyHeight+e.tickSize-1)),{topDate:r,bottomDate:n}}getTimeSpanRenderData(e,n,r=!1){const{scheduler:o}=this,i=e.isBatchUpdating?e.get("startDate"):e.startDate,a=e.isBatchUpdating?e.get("endDate"):e.endDate,l=o.getResourceMargin(n),c=o.getCoordinateFromDate(i),d=this.resourceStore.indexOf(n)*o.resourceColumnWidth,u=o.resourceColumnWidth-2*l,p=i.getTime(),b=a.getTime();let g=o.getCoordinateFromDate(a),m=g-c;return-1===g&&(m=Math.round((b-p)*o.timeAxisViewModel.getSingleUnitInPixels("millisecond")),g=c+m),{eventRecord:e,resourceRecord:n,left:d,top:c,bottom:g,width:u,height:m,startDate:i,endDate:a,startDateMS:p,endDateMS:b,children:[],start:i,end:a,startMs:p,endMs:b}}eventSorter(e,n){const r=e.dataStartMs||e.startDateMS,o=e.dataEndMs||e.endDateMS,i=n.dataStartMs||n.startDateMS,a=n.dataEndMs||n.endDateMS,l=e.isModel?e.name:e.eventRecord.name,c=n.isModel?n.name:n.eventRecord.name;return r-i||a-o||(l<c?-1:l==c?0:1)}layoutResource(e){const n=this,{scheduler:r}=n,{id:o}=e,{assignmentStore:i,eventStore:a,timeAxis:l}=r,c=n.resourceMap.set(o,{}).get(o),d=r.resourceStore.indexOf(e),{barMargin:u,resourceMargin:p}=r.getResourceLayoutSettings(e);let b=a.getEvents({includeOccurrences:r.enableRecurringEvents,resourceRecord:e,startDate:l.startDate,endDate:l.endDate,filter:(i.isFiltered||a.isFiltered)&&(n=>n.assignments.some((n=>n.resource===e&&i.includes(n))))});b=r.getEventsToRender(e,b);const g=b.reduce(((i,a)=>{const l=r.generateRenderData(a,e,!1),u={renderData:l};return ObjectHelper.getMapPath(n.eventMap,l.eventId,{})[o]=u,c[l.eventId]=u,l.fillSize?(l.left=d*r.resourceColumnWidth,l.width=r.resourceColumnWidth):i.push(l),i}),[]);return g.sort(n.eventSorter),n.verticalLayout.applyLayout(g,r.resourceColumnWidth,p,u,d,r.getEventLayout(e)),c}addTemporaryDragElement(e){const{scheduler:n}=this,r=n.generateRenderData(e,e.resource,{timeAxis:!0,viewport:!0});r.top=r.row?r.top+r.row.top:n.getResourceEventBox(e,e.resource,!0).top;const o=this.renderEvent({renderData:r}),{dataset:i}=o;delete o.tabIndex,delete i.eventId,delete i.resourceId,delete i.assignmentId,delete i.syncId,i.transient=!0,o.parent=this.scheduler.foregroundCanvas,o.retainElement=!0;const a=DomHelper.createElement(o);return a.innerElement=a.firstChild,e.instanceMeta(n).hasTemporaryDragElement=!0,a}renderEvent(e){const n=e.renderData,{resourceRecord:r,assignmentRecord:o,eventRecord:i}=n,a={className:n.wrapperCls,tabIndex:"0",children:[{className:n.cls,style:(n.internalStyle||"")+(n.style||""),children:n.children,dataset:{taskFeature:"event"},syncOptions:{syncIdField:"taskBarFeature"}},...n.wrapperChildren],style:{transform:`translate(${n.left}px, ${n.top}px)`,height:n.height,width:n.width,style:n.wrapperStyle||""},dataset:{resourceId:r.id,eventId:n.eventId,syncId:o?this.assignmentStore.getOccurrence(o,i).id:n.eventId},elementData:e,retainElement:(o||i).instanceMeta(this.scheduler).retainElement,syncOptions:{syncIdField:"taskFeature",releaseThreshold:0}};return n.zIndex&&(a.zIndex=n.zIndex),o&&(a.dataset.assignmentId=o.id),this.scheduler.trigger("beforeRenderEvent",{renderData:n,domConfig:a}),e.elementConfig=a,a}renderResource(e){const n=this,{topDateMS:r,bottomDateMS:o}=n,i=[];let a=n.resourceMap.get(e.id);a||(a=n.layoutResource(e));for(const e in a){const l=a[e],{endDateMS:c,startDateMS:d,eventRecord:u}=l.renderData;c>=r&&d<=o&&!u.instanceMeta(n.scheduler).hasTemporaryDragElement&&i.push(n.renderEvent(l))}return i}isEventElement(e){const n=e&&e.className;return n&&n[this.scheduler.eventCls+"-wrap"]}renderer(){const e=this,{scheduler:n}=e,{resourceStore:r}=n,{first:o,last:i}=e.resourceRange,{topDate:a,bottomDate:l}=e.dateRange,c=[],d=[];if(e.initialized&&(n.isEngineReady||n.isCreating)){if(!DateHelper.isEqual(a,e.topDate)||!DateHelper.isEqual(l,e.bottomDate)){e.topDate=a,e.bottomDate=l,e.topDateMS=a.getTime(),e.bottomDateMS=l.getTime();const r=e.timeView.range={startDate:a,endDate:l};n.onVisibleDateRangeChange(r),n.trigger("visibleRangeChange",r)}if(-1!==o&&-1!==i)for(let n=o;n<=i;n++)c.push.apply(c,e.renderResource(r.getAt(n)));if(n.getForegroundDomConfigs(d),c.push.apply(c,d),DomSync.sync({domConfig:{onlyChildren:!0,children:c},targetElement:n.foregroundCanvas,syncIdField:"syncId",callback({action:r,domConfig:o,lastDomConfig:i,targetElement:a}){if(e.isEventElement(o)){const l=Ol[r];if(Al[r]&&e.isEventElement(i)&&!i.isReleased){const e=i.elementData.renderData,r={renderData:e,assignmentRecord:e.assignmentRecord,eventRecord:e.eventRecord,resourceRecord:e.resourceRecord,element:a};a===DomHelper.getActiveElement(a)&&n.focusElement.focus(),n.trigger("releaseEvent",r)}if(l){const e=o.elementData.renderData,i={renderData:e,tplData:e,assignmentRecord:e.assignmentRecord,eventRecord:e.eventRecord,resourceRecord:e.resourceRecord,element:a,isReusingElement:"reuseElement"===r,isRepaint:"reuseOwnElement"===r};i.reusingElement="reuseElement"===r,n.trigger("renderEvent",i)}}}}),e.firstResource!==o||e.lastResource!==i){const r=e.resourceColumns.visibleResources={firstResource:o,lastResource:i};e.firstResource=o,e.lastResource=i,n.onVisibleResourceRangeChange(r),n.trigger("resourceRangeChange",r)}}}refresh(e){this.scheduler.runWithTransition((()=>this.renderer()),e)}refreshResources(e){this.clearResources(e),this.refresh()}get timeView(){return this.scheduler.timeView}clearResources(e){const{resourceMap:n,eventMap:r}=this;e.forEach((e=>{n.has(e)&&(Object.values(n.get(e)).forEach((({renderData:{eventId:n}})=>{delete r.get(n)[e]})),n.delete(e))}))}clearAll(){this.resourceMap.clear(),this.eventMap.clear()}}function isLastLevel(e,n){return e===n.length-1}function isLastCell(e,n){return n===e.cells[e.cells.length-1]}VerticalRendering._$name="VerticalRendering";class TimeAxisBase extends Widget{static get $name(){return"TimeAxisBase"}static get configurable(){return{compactCellWidthThreshold:15,model:null,cls:null,sizeProperty:null,positionProperty:null}}static get properties(){return{startDate:null,endDate:null,levels:[],size:null}}set range({startDate:e,endDate:n}){(this.startDate-e||this.endDate-n)&&(this.startDate=e,this.endDate=n,this.refresh(!0))}buildCells(){var e;const n=this,{sizeProperty:r}=n,{stickyHeaders:o,isVertical:i}=n.client||{},a=[],{length:l}=n.levels,c=n.levels.map(((e,a)=>{var c;const d=o&&(i||a<l-1);return{className:{"b-sch-header-row":1,[`b-sch-header-row-${e.position}`]:1,"b-sch-header-row-main":a===n.model.viewPreset.mainHeaderLevel,"b-lowest":isLastLevel(a,n.levels),"b-sticky-header":d},syncOptions:{releaseThreshold:5,syncIdField:"tickIndex"},dataset:{headerFeature:`headerRow${a}`,headerPosition:e.position},children:null===(c=e.cells)||void 0===c?void 0:c.filter((e=>e.start<n.endDate&&e.end>n.startDate)).map((o=>({className:{"b-sch-header-timeaxis-cell":1,[o.headerCellCls]:o.headerCellCls,[`b-align-${o.align}`]:o.align,"b-last":isLastCell(e,o)},dataset:_objectSpread2({tickIndex:o.index},window.DEBUG&&{date:o.start.getTime()}),style:{[n.positionProperty]:o.coord,[r]:o.width,[`min-${r}`]:o.width},children:[{tag:"span",className:{"b-sch-header-text":1,"b-sticky-header":d},html:o.value}]})))}}));return null===(e=n.client)||void 0===e||e.getHeaderDomConfigs(a),c.push(...a),{className:n.widgetClassList,syncOptions:{releaseThreshold:0},children:c}}render(e){super.render(e),this.refresh(!0)}refresh(e=!this.levels.length){const n=this,{columnConfig:r}=n.model,{levels:o}=n,i=o.length;if(e){o.length=0,r.forEach(((e,n)=>o[n]={position:n,cells:e})),n.size=o[0].cells.reduce(((e,n)=>e+n.width),0);const a=n.element.parentElement;a&&(o.length!==i||e)&&(a.classList.remove(`b-sch-timeaxiscolumn-levels-${i}`),a.classList.add(`b-sch-timeaxiscolumn-levels-${o.length}`))}n.startDate&&n.endDate&&(DomSync.sync({domConfig:n.buildCells(),targetElement:n.element,syncIdField:"headerFeature"}),n.trigger("refresh"))}get widgetClass(){return"b-timeaxis"}}TimeAxisBase._$name="TimeAxisBase";class HorizontalTimeAxis extends TimeAxisBase{static get $name(){return"HorizontalTimeAxis"}static get type(){return"horizontaltimeaxis"}static get configurable(){return{model:null,sizeProperty:"width",positionProperty:"left"}}get width(){return this.size}onModelUpdate(){this.model.availableSpace!==this.width&&this.refresh(!0)}updateModel(e){this.detachListeners("tavm"),null==e||e.on({name:"tavm",update:"onModelUpdate",thisObj:this})}}HorizontalTimeAxis._$name="HorizontalTimeAxis";class ResourceHeader extends Widget{static get $name(){return"ResourceHeader"}static get type(){return"resourceheader"}static get defaultConfig(){return{resourceStore:null,columnWidth:150,headerRenderer:null,fillWidth:!0,fitWidth:!1,imagePath:null,imageExtension:null,defaultImageName:null}}static get configurable(){return{showAvatars:{value:!0,$config:"nullify"}}}static get properties(){return{firstResource:-1,lastResource:-1}}construct(e){super.construct(e);const n=this;null!=n.imagePath&&n.element.classList.add("b-has-images"),EventHelper.on({element:n.element,delegate:".b-resourceheader-cell",capture:!0,click:"onResourceMouseEvent",dblclick:"onResourceMouseEvent",contextmenu:"onResourceMouseEvent",thisObj:n})}changeShowAvatars(e){var n;return null===(n=this.avatarRendering)||void 0===n||n.destroy(),e&&(this.avatarRendering=new AvatarRendering({element:this.element})),e}updateShowAvatars(){this.isConfiguring||this.refresh()}set resourceStore(e){const n=this;var r;e!==n._resourceStore&&(null===(r=n.resourceStoreDetacher)||void 0===r||r.call(n),n._resourceStore=e,n.resourceStoreDetacher=e.on({changePreCommit:"onResourceStoreDataChange",thisObj:n}),e.count&&n.onResourceStoreDataChange({}))}get resourceStore(){return this._resourceStore}onResourceStoreDataChange({action:e}){const n=this,r=n.resourceStore.count*n.columnWidth;r!==n.width&&(n.element.style.width=r+"px",n.column.set("width",r,n.column.grid.isConfiguring)),"removeall"===e&&(n.element.innerHTML=""),("remove"===e||"add"===e||"filter"===e||n.fitWidth||n.fillWidth)&&n.refreshWidths(),n.column.grid.toggleEmptyText()}get columnWidth(){return this._columnWidth}set columnWidth(e){const n=this;if(e!==n._columnWidth){const r=n._columnWidth;n._columnWidth=e,n.refreshingWidths||(n._originalColumnWidth=e,n.refreshWidths()),n.isConfiguring||(n.refresh(),n.trigger("columnWidthChange",{width:n._columnWidth,oldWidth:r}))}}get fillWidth(){return this._fillWidth}set fillWidth(e){this._fillWidth=e,this.refreshWidths()}get fitWidth(){return this._fitWidth}set fitWidth(e){this._fitWidth=e,this.refreshWidths()}getImageURL(e){return StringHelper.joinPaths([this.imagePath||"",e||""])}get imagePath(){return this._imagePath}set imagePath(e){this._imagePath=e,this.refresh()}get availableWidth(){return this._availableWidth}set availableWidth(e){this._availableWidth=e,this.refreshWidths()}refreshWidths(){const e=this,{availableWidth:n,_originalColumnWidth:r}=e,o=e.resourceStore&&e.resourceStore.count;if(!n||!o)return;e.refreshingWidths=!0;const i=e.fitWidth||e.fillWidth&&r*o<n?Math.floor(n/o):r,a=e.column.grid.enableEventAnimations&&Math.abs(e._columnWidth-i)>30;DomHelper.addTemporaryClass(e.element,"b-animating",a?300:0,e),e.columnWidth=i,e.refreshingWidths=!1}set visibleResources({firstResource:e,lastResource:n}){this.firstResource=e,this.lastResource=n,this.refresh()}refresh(){const e=this,{firstResource:n,lastResource:r}=e,o=[];if(!e.column.grid.isConfiguring&&n>-1&r>-1&&r<e.resourceStore.count)for(let i=n;i<=r;i++){const n=e.resourceStore.getAt(i),r={className:new DomClassList({"b-resourceheader-cell":1}),dataset:{resourceId:n.id},style:{left:i*e.columnWidth,width:e.columnWidth},children:[]};if(e.headerRenderer){const o=e.headerRenderer({elementConfig:r,resourceRecord:n});null!=o&&(r.html=o)}else{let o;if(n.imageUrl)o=n.imageUrl;else if(null!=e.imagePath&&!1!==n.image){const r=n.image||n.name&&n.name.toLowerCase()+e.imageExtension;o=e.getImageURL(r)}r.children.push(e.showAvatars&&e.avatarRendering.getResourceAvatar({initials:n.initials,color:n.eventColor,iconCls:n.iconCls,defaultImageUrl:e.defaultImageName&&e.getImageURL(e.defaultImageName),imageUrl:o}),{tag:"span",className:"b-resource-name",html:StringHelper.encodeHtml(n.name)})}o.push(r)}DomSync.sync({domConfig:{onlyChildren:!0,children:o},targetElement:e.element,syncIdField:"resourceId"})}onResourceMouseEvent(e){const n=e.target.closest(".b-resourceheader-cell"),r=this.resourceStore.getById(n.dataset.resourceId);this.trigger("resourceHeader"+StringHelper.capitalize(e.type),{resourceRecord:r,event:e})}}ResourceHeader._$name="ResourceHeader";class TimeAxisColumn extends(Events(WidgetColumn)){static get fields(){return["mode"]}static get defaults(){return{draggable:!1,groupable:!1,hideable:!1,showColumnPicker:!1,filterable:!1,sortable:!1,resizable:!1,searchable:!1,editor:!1,enableCellContextMenu:!1,tooltipRenderer:!1,cls:"b-sch-timeaxiscolumn",needWidth:!0,mode:null,region:"normal",exportable:!1,htmlEncode:!1}}static get type(){return"timeAxis"}construct(e){const n=this;super.construct(...arguments),n.thisObj=n,n.timeAxisViewModel=n.grid.timeAxisViewModel,n.mode=n.mode,n.grid.on({paint:"onTimelinePaint",thisObj:n,once:!0})}static get autoExposeFields(){return!0}doDestroy(){var e,n;null===(e=this.resourceColumns)||void 0===e||e.destroy(),null===(n=this.timeAxisView)||void 0===n||n.destroy(),super.doDestroy()}set mode(e){const n=this,{grid:r}=n;n.set("mode",e),"horizontal"===e?n.timeAxisView=new HorizontalTimeAxis({model:n.timeAxisViewModel,compactCellWidthThreshold:n.compactCellWidthThreshold,owner:n.grid,client:n.grid}):"vertical"===e&&(n.resourceColumns=ResourceHeader.new({column:n,resourceStore:r.resourceStore,imagePath:r.resourceImagePath,imageExtension:r.resourceImageExtension,defaultImageName:r.defaultResourceImageName},r.resourceColumns||{}),n.relayEvents(n.resourceColumns,["resourceheaderclick","resourceheaderdblclick","resourceheadercontextmenu"]))}get mode(){return this.get("mode")}onViewModelUpdate({source:e}){const n=this;"horizontal"===n.mode?(n.refreshHeader(!0),n.width=e.totalSize,n.grid.refresh(),n.subGrid.refreshFakeScroll()):"vertical"===n.mode&&n.grid.refreshRows()}onTimelinePaint({firstPaint:e}){const n=this;var r;n.subGrid.insertRowsBefore&&(e&&(n.subGridElement.classList.add("b-timeline-subgrid"),"vertical"===n.mode&&(n.refreshHeader(),null===(r=n.grid)||void 0===r||r.onHeightChange())))}refreshHeader(e){const n=this,{element:r}=n;r&&("horizontal"===n.mode?(!e&&n.timeAxisViewModel.update(void 0,void 0,!0),n.timeAxisView.rendered?n.timeAxisView.refresh(!0):(r.innerHTML="",n.timeAxisView.render(r))):"vertical"===n.mode&&(n.resourceColumns.currentElement||(r.innerHTML="",n.resourceColumns.render(r))))}internalRenderer(e){if(this.grid.project.isInitialCommitPerformed)return this.grid.currentOrientation.renderer(e),super.internalRenderer(e)}get timeAxisViewModel(){return this._timeAxisViewModel}set timeAxisViewModel(e){this.detachListeners("tavm"),null==e||e.on({name:"tavm",update:"onViewModelUpdate",prio:-1e4,thisObj:this}),this._timeAxisViewModel=e,this.timeAxisView&&(this.timeAxisView.model=e)}}ColumnStore.registerColumnType(TimeAxisColumn),TimeAxisColumn._$name="TimeAxisColumn";class VerticalTimeAxis extends TimeAxisBase{static get $name(){return"VerticalTimeAxis"}static get configurable(){return{cls:"b-verticaltimeaxis",sizeProperty:"height",positionProperty:"top",wrapText:!0}}buildHorizontalCells(){const e=this,{client:n}=e,r=null==n?void 0:n.stickyHeaders,o=[],i=e.levels.reduce(((n,o,i)=>{var a;o.cells&&n.push(...null===(a=o.cells)||void 0===a?void 0:a.filter((n=>n.start<e.endDate&&n.end>e.startDate)).map(((n,o,a)=>({className:{"b-sch-header-timeaxis-cell":1,[n.headerCellCls]:n.headerCellCls,[`b-align-${n.align}`]:n.align,"b-last":o===a.length-1,"b-lowest":i===e.levels.length-1},dataset:_objectSpread2({tickIndex:n.index,cellId:`${i}-${n.index}`,headerPosition:i},window.DEBUG&&{date:n.start.getTime()}),style:{top:n.coord,height:n.width,minHeight:n.width},children:[{className:{"b-sch-header-text":1,"b-sticky-header":r},html:n.value}]}))));return n}),[]);return null==n||n.getHeaderDomConfigs(o),i.push(...o),{className:e.widgetClassList,dataset:{headerFeature:"headerRow0",headerPosition:0},syncOptions:{releaseThreshold:5,syncIdField:"cellId"},children:i}}get height(){return this.size}}VerticalTimeAxis._$name="VerticalTimeAxis";class VerticalTimeAxisColumn extends Column{static get type(){return"verticalTimeAxis"}static get defaults(){return{draggable:!1,groupable:!1,hideable:!1,showColumnPicker:!1,filterable:!1,sortable:!1,searchable:!1,editor:!1,enableCellContextMenu:!1,tooltipRenderer:!1,minWidth:0,resizable:!1,cellCls:"b-verticaltimeaxiscolumn",flex:1}}get isFocusable(){return!1}construct(e){super.construct(...arguments),this.view=new VerticalTimeAxis({model:this.grid.timeAxisViewModel,client:this.grid})}renderer({cellElement:e,size:n}){this.view.render(e),n.height=this.view.height}}ColumnStore.registerColumnType(VerticalTimeAxisColumn),VerticalTimeAxisColumn._$name="VerticalTimeAxisColumn";class SchedulerBase extends(TimelineBase.mixin(CrudManagerView,SchedulerDom,SchedulerDomEvents,SchedulerStores,SchedulerScroll,SchedulerState,SchedulerEventRendering,SchedulerRegions,SchedulerEventSelection,SchedulerEventNavigation)){static get $name(){return"SchedulerBase"}static get type(){return"schedulerbase"}static get configurable(){return{date:{value:null,$config:{equal:"date"}},stepUnit:"week",range:"week",descriptionRenderer:{value:null,$config:null,default:e=>{switch(e.range){case"month":return DateHelper.format(e.startDate,"MMMM, YYYY");case"week":return`${DateHelper.getLocalizedNameOfUnit("Week")} ${DateHelper.getWeekDescription(e.startDate,e.endDate)}`;case"day":return DateHelper.format(e.startDate,"MMMM D, YYYY")}}},verticalTimeAxisColumn:{},createEventOnDblClick:!0,scheduledEventName:"event"}}static get defaultConfig(){return{mode:"horizontal",eventCls:"b-sch-event",timeCellCls:"b-sch-timeaxis-cell",timeCellSelector:".b-sch-timeaxis-cell",overScheduledEventClass:"b-sch-event-hover",allowOverlap:!0,rowHeight:60,preCalculateHeightLimit:1e4,crudManagerClass:CrudManager,testConfig:{loadMaskError:{autoClose:10,showDelay:0}}}}static get deprecatedEvents(){return{eventContextMenuBeforeShow:{product:"Scheduler",invalidAsOfVersion:"5.0.0",message:"`eventContextMenuBeforeShow` event is deprecated, in favor of `eventMenuBeforeShow` event. Please see https://bryntum.com/docs/scheduler/guide/Scheduler/upgrades/3.1.0 for more information."},eventContextMenuShow:{product:"Scheduler",invalidAsOfVersion:"5.0.0",message:"`eventContextMenuShow` event is deprecated, in favor of `eventMenuShow` event. Please see https://bryntum.com/docs/scheduler/guide/Scheduler/upgrades/3.1.0 for more information."},eventContextMenuItem:{product:"Scheduler",invalidAsOfVersion:"5.0.0",message:"`eventContextMenuItem` event is deprecated, in favor of `eventMenuItem` event. Please see https://bryntum.com/docs/scheduler/guide/Scheduler/upgrades/3.1.0 for more information."},scheduleContextMenuBeforeShow:{product:"Scheduler",invalidAsOfVersion:"5.0.0",message:"`scheduleContextMenuBeforeShow` event is deprecated, in favor of `scheduleMenuBeforeShow` event. Please see https://bryntum.com/docs/scheduler/guide/Scheduler/upgrades/3.1.0 for more information."},scheduleContextMenuShow:{product:"Scheduler",invalidAsOfVersion:"5.0.0",message:"`scheduleContextMenuShow` event is deprecated, in favor of `scheduleMenuShow` event. Please see https://bryntum.com/docs/scheduler/guide/Scheduler/upgrades/3.1.0 for more information."},scheduleContextMenuItem:{product:"Scheduler",invalidAsOfVersion:"5.0.0",message:"`scheduleContextMenuItem` event is deprecated, in favor of `scheduleMenuItem` event. Please see https://bryntum.com/docs/scheduler/guide/Scheduler/upgrades/3.1.0 for more information."}}}afterConstruct(){const e=this;super.afterConstruct(),e.on("scroll",e.onVerticalScroll,e),e.createEventOnDblClick&&e.on("scheduledblclick",e.onTimeAxisCellDblClick)}get store(){return super.store}set store(e){super.store=e}get visibleResources(){const e=this;return e.isVertical?e.currentOrientation.visibleResources:{first:e.store.getById(e.firstVisibleRow.id),last:e.store.getById(e.lastVisibleRow.id)}}onLocaleChange(){this.currentOrientation.onLocaleChange(),super.onLocaleChange()}onTimeAxisCellDblClick({date:e,resourceRecord:n,row:r}){this.readOnly||n.isSpecialRow||this.internalAddEvent(e,n,r)}onVerticalScroll({scrollTop:e}){this.currentOrientation.updateFromVerticalScroll(e)}onEventCreated(e){}get isHorizontal(){return"horizontal"===this.mode}get isVertical(){return"vertical"===this.mode}get mode(){return this._mode}set mode(e){const n=this;n._mode=e,n[e]||(n.element.classList.add(`b-sch-${e}`),"horizontal"===e?(n.horizontal=new HorizontalRendering(n),n.isPainted&&n.horizontal.init()):"vertical"===e&&(n.vertical=new VerticalRendering(n),n.rendered&&n.vertical.init()))}get currentOrientation(){return this[this.mode]}onElementKeyDown(e){super.onElementKeyDown(e)}onElementKeyUp(e){super.onElementKeyUp(e)}onElementMouseOver(e){super.onElementMouseOver(e)}onElementMouseOut(e){super.onElementMouseOut(e)}populateEventMenu(){}populateScheduleMenu(){}onVisibleDateRangeChange(){}onVisibleResourceRangeChange(){}editEvent(e,n,r){const o=this,{eventStore:i,assignmentStore:a,features:l}=o,{eventEdit:c,taskEdit:d,simpleEventEdit:u}=l;if(!Boolean(c&&!c.disabled||d&&!d.disabled||u&&!u.disabled))return!1;if(e.eventStore!==i){const{enableEventAnimations:r}=o,l=[];e.isCreating=!0;let c=null;if(n&&(l.push(n),c=a.assignEventToResource(e,n)),!1===o.trigger("beforeEventAdd",{eventRecord:e,resourceRecords:l,resources:l}))return c&&a.remove(c),!1;o.enableEventAnimations=!1,i.add(e),o.project.commitAsync().then((()=>o.enableEventAnimations=r)),o.refreshRows()}}async internalAddEvent(e,n,r){const o=this,{enableEventAnimations:i,features:a,eventStore:l,assignmentStore:c}=o,d=[n],u=o.createEventOnDblClick.useEventModelDefaults,p=u?l.modelClass.fieldMap.duration.defaultValue:1,b=u?l.modelClass.fieldMap.durationUnit.defaultValue:o.timeAxis.unit,g=l.createRecord({startDate:e,endDate:DateHelper.add(e,p,b),duration:p,durationUnit:b,name:o.L("L{Object.newEvent}")}),m=Boolean(a.eventEdit&&!a.eventEdit.disabled||a.taskEdit&&!a.taskEdit.disabled||a.simpleEventEdit&&!a.simpleEventEdit.disabled);g.isCreating=m,o.onEventCreated(g);let f=null;c&&(f=c.assignEventToResource(g,n)),!1!==o.trigger("beforeEventAdd",{eventRecord:g,resourceRecords:d,resources:d})?(o.enableEventAnimations=!1,l.add(g),o.project.commitAsync().then((()=>o.enableEventAnimations=i)),o.refreshRows(),m&&o.editEvent(g,n,o.getEventElement(g))):f&&c.remove(f)}isDateRangeAvailable(e,n,r,o){return this.eventStore.isDateRangeAvailable(e,n,r,o)}async resumeRefresh(e){super.resumeRefresh(!1);const n=this;if(!n.refreshSuspended&&e){if(!n.isEngineReady)return n.currentOrientation.refreshAllWhenReady=!0,n.project.commitAsync();n.isDestroyed||n.refreshWithTransition()}}toggleEmptyText(){const e=this;var n;e.bodyContainer&&DomHelper.toggleClasses(e.bodyContainer,"b-grid-empty",!(e.resourceStore.count>0||null!==(n=e.crudManager)&&void 0!==n&&n.isLoading))}getRowHeight(e){if(this.currentOrientation.calculateRowHeight){const n=this.currentOrientation.calculateRowHeight(e);return this.rowManager.storeKnownHeight(e.id,n),n}}calculateRowHeights(e,n=!1){e.forEach((e=>e&&this.getRowHeight(e))),n||this.rowManager.estimateTotalHeight(!0)}calculateAllRowHeights(e=!1){const{store:n,rowManager:r}=this,o=Math.min(n.count,this.preCalculateHeightLimit);if(o){r.clearKnownHeights();for(let e=0;e<o;e++)this.getRowHeight(n.getAt(e));e||r.estimateTotalHeight(!0)}}get description(){return this.callback(this.descriptionRenderer,this,[this])}getEventRecord(e){return e=DomHelper.getEventElement(e),this.resolveEventRecord(e)}getEventElement(e){return this.getElementFromEventRecord(e)}changeRange(e){return DateHelper.normalizeUnit(e)}updateRange(e){if(!this.isConfiguring){const n=this.date,r=this.date=DateHelper.startOf(n,e);n.getTime()===r.getTime()&&this.updateDate(r)}}changeStepUnit(e){return DateHelper.normalizeUnit(e)}updateDate(e){const n=this,r=DateHelper.startOf(e,n.range);n.setTimeSpan(r,DateHelper.add(r,1,n.range)),n.visibleDate={date:DateHelper.max(e,n.timeAxis.startDate),block:"start",animate:!0},n.trigger("descriptionChange")}previous(){this.date=DateHelper.add(this.date,-1,this.stepUnit)}next(){this.date=DateHelper.add(this.date,1,this.stepUnit)}}SchedulerBase.initClass(),SchedulerBase._$name="SchedulerBase";class Summary$1 extends TimelineSummary{static get $name(){return"Summary"}static get configurable(){return{summaries:null,renderer:null,verticalSummaryColumnConfig:null}}static get pluginConfig(){const e=super.pluginConfig;return e.chain.push("bindStore","updateEventStore","updateResourceStore"),e}construct(e,n){const r=this;r.scheduler=e,e.isVertical&&(e.timeAxisSubGrid.resizable=!1,n.hideFooters=!0,e.add(e.createSubGrid("right")),r.summaryColumn=e.columns.add(ObjectHelper.assign({filterable:null,region:"right",cellCls:"b-grid-footer b-sch-summarybar",align:"center",sortable:!1,groupable:!1,htmlEncode:!1,enableHeaderContextMenu:!1,hidden:r.disabled},r.verticalSummaryColumnConfig))[0]),super.construct(e,n),e instanceof SchedulerBase&&(r.updateEventStore(e.eventStore),r.updateResourceStore(e.resourceStore))}updateEventStore(e){this.detachListeners("summaryEventStore"),e.on({name:"summaryEventStore",filter:"updateTimelineSummaries",thisObj:this})}updateResourceStore(e){this.detachListeners("summaryResourceStore"),e.on({name:"summaryResourceStore",filter:"updateTimelineSummaries",thisObj:this})}updateTimelineSummaries(){const e=this,{client:n}=e,{eventStore:r,timeAxis:o}=n,i=e.summaryBarElement,a=e.selectedOnly&&n.selectedRecords.length?n.selectedRecords:n.resourceStore.records;if(i&&n.isEngineReady){const l=n.getResourcesEventsPerTick(a,(({event:e})=>!r.isFiltered||r.records.includes(e)));Array.from(i.children).forEach(((i,a)=>{const c=o.getAt(a),d=l[a]||[];let u="",p=`<header>${e.L("L{Summary for}",n.getFormattedDate(c.startDate))}</header>`;e.summaries.forEach((o=>{const a=o.renderer({startDate:c.startDate,endDate:c.endDate,resourceStore:n.resourceStore,eventStore:r,events:d,element:i}),l=`<div class="b-timeaxis-summary-value">${a}</div>`;(e.summaries.length>1||""!==a)&&(u+=l),p+=`<label>${o.label||""}</label>`+l})),i.innerHTML=u,i._tipHtml=p}))}}}Summary$1._$name="Summary",GridFeatureManager.registerFeature(Summary$1,!1,"Scheduler");const ql={maintainVisibleStart:!0};class TimeAxisHeaderMenu extends HeaderMenu{static get $name(){return"TimeAxisHeaderMenu"}static get defaultConfig(){return{processItems:null,items:null,type:"timeAxisHeader"}}static get pluginConfig(){const e=super.pluginConfig;return e.chain.push("populateTimeAxisHeaderMenu"),e}construct(){super.construct(...arguments),this.triggerEvent.includes("click")&&this.client.zoomOnTimeAxisDoubleClick&&(this.client.zoomOnTimeAxisDoubleClick=!1)}shouldShowMenu(e){const{column:n}=e;return n&&!1!==n.enableHeaderContextMenu&&n===this.client.timeAxisColumn}showContextMenu(e){super.showContextMenu(...arguments),this.menu&&(this.menu.scrollAction="realign")}populateTimeAxisHeaderMenu({items:e}){const n=this,{client:r}=n,o={magnitude:r.timeAxis.shiftIncrement,unit:r.timeAxis.shiftUnit};Object.assign(e,{zoomLevel:{text:"L{pickZoomLevel}",localeClass:n,icon:"b-fw-icon b-icon-search-plus",disabled:!r.presets.count||n.disabled,weight:200,menu:{type:"popup",items:{zoomSlider:{weight:210,type:"slider",minWidth:130,showValue:!1}},onBeforeShow({source:e}){const[o]=e.items;o.min=r.minZoomLevel,o.max=r.maxZoomLevel,o.value=r.zoomLevel,n.zoomDetatcher=o.on("input","onZoomSliderChange",n)},onHide(){n.zoomDetatcher&&(n.zoomDetatcher(),n.zoomDetatcher=null)}}},dateRange:{text:"L{activeDateRange}",localeClass:n,icon:"b-fw-icon b-icon-calendar",weight:300,menu:{type:"popup",width:"20em",defaults:{localeClass:n},items:{startDateField:{type:"datefield",label:"L{startText}",weight:310,labelWidth:"6em",required:!0,step:o,listeners:{change:n.onRangeDateFieldChange,thisObj:n}},endDateField:{type:"datefield",label:"L{endText}",weight:320,labelWidth:"6em",required:!0,step:o,listeners:{change:n.onRangeDateFieldChange,thisObj:n}},leftShiftBtn:{type:"button",weight:330,cls:"b-left-nav-btn",icon:"b-icon b-icon-prev",color:"b-blue b-raised",flex:1,margin:0,listeners:{click:n.onLeftShiftBtnClick,thisObj:n}},todayBtn:{type:"button",weight:340,cls:"b-today-nav-btn",color:"b-blue b-raised",text:"L{todayText}",flex:4,margin:"0 8",listeners:{click:n.onTodayBtnClick,thisObj:n}},rightShiftBtn:{type:"button",weight:350,cls:"b-right-nav-btn",icon:"b-icon b-icon-next",color:"b-blue b-raised",flex:1,listeners:{click:n.onRightShiftBtnClick,thisObj:n}}},listeners:{paint:n.initDateRangeFields,thisObj:n}}}})}onZoomSliderChange({value:e}){const n=this;n.menu.scrollAction="realign",n.client.zoomLevel=e,n.menu.setTimeout({fn:()=>n.menu.scrollAction="hide",delay:100,cancelOutstanding:!0})}initDateRangeFields({source:e,firstPaint:n}){if(n){const{widgetMap:n}=e;this.startDateField=n.startDateField,this.endDateField=n.endDateField}this.initDates()}initDates(){const e=this;e.startDateField.suspendEvents(),e.endDateField.suspendEvents(),e.startDateField.value=e.startDateFieldInitialValue=e.client.startDate,e.endDateField.value=e.endDateFieldInitialValue=e.client.endDate,e.startDateField.resumeEvents(),e.endDateField.resumeEvents()}onRangeDateFieldChange({source:e}){const n=this,r=e===n.startDateField,{client:o}=n,{timeAxis:i}=o,a=n.startDateFieldInitialValue&&!r?n.startDateFieldInitialValue:n.startDateField.value;let l=n.endDateFieldInitialValue&&r?n.endDateFieldInitialValue:n.endDateField.value;r?n.startDateFieldInitialValue=null:n.endDateFieldInitialValue=null,l-a?l<a&&(l=DateHelper.add(a,i.shiftIncrement,i.shiftUnit)):l=DateHelper.add(l,i.shiftIncrement,i.shiftUnit),o.setTimeSpan(a,l,ql),n.initDates()}onLeftShiftBtnClick(){this.client.timeAxis.shiftPrevious(),this.initDates()}onTodayBtnClick(){const e=DateHelper.clearTime(new Date);this.client.setTimeSpan(e,DateHelper.add(e,1,"day")),this.initDates()}onRightShiftBtnClick(){this.client.timeAxis.shiftNext(),this.initDates()}}TimeAxisHeaderMenu._$name="TimeAxisHeaderMenu",GridFeatureManager.registerFeature(TimeAxisHeaderMenu,!0,["Scheduler","Gantt"]),GridFeatureManager.registerFeature(TimeAxisHeaderMenu,!1,"ResourceHistogram");class TimeRanges extends(AbstractTimeRanges.mixin(AttachToProjectMixin)){static get $name(){return"TimeRanges"}static get defaultConfig(){return{store:!0,currentTimeLineUpdateInterval:1e4,currentDateFormat:"HH:mm",timeRanges:null,showCurrentTimeLine:!1}}construct(e,n={}){super.construct(e,n),e._timeRangesExposed||(Object.defineProperty(e,"timeRanges",{get:()=>this.timeRanges,set:n=>e.project.timeRangeStore.data=n}),e._timeRangesExposed=!0),this.getConfig("timeRanges")}set timeRanges(e){const n=this.getConfig("store");n?n.data=e:this._timeRanges=e}get timeRanges(){const{store:e}=this,{records:n}=e;if(e.recurringEvents){const e=[],{startDate:r,endDate:o}=this.client.timeAxis;return n.forEach((n=>{n.isRecurring?e.push.apply(e,n.getOccurrencesForDateRange(r,o)):e.push(n)})),e}return n}initCurrentTimeLine(){const e=this;if(e.currentTimeLine||!e.showCurrentTimeLine)return;const n="object"==typeof e.showCurrentTimeLine?e.showCurrentTimeLine:{};e.currentTimeLine=e.store.modelClass.new({id:"currentTime",cls:"b-sch-current-time"},n),e.updateCurrentTimeLine=e.updateCurrentTimeLine.bind(e),e.currentTimeInterval=e.setInterval(e.updateCurrentTimeLine,e.currentTimeLineUpdateInterval),e.updateCurrentTimeLine(),e.client.isPainted&&e.renderRanges()}updateCurrentTimeLine(){const e=this,n=e.currentTimeLine;n.startDate=new Date,n.originalData.name||(n.name=DateHelper.format(n.startDate,e.currentDateFormat)),e.onStoreChanged({action:"update",record:n,changes:{}})}hideCurrentTimeLine(){const e=this;e.currentTimeLine&&(e.clearInterval(e.currentTimeInterval),e.currentTimeLine=null,e.client.isPainted&&e.renderRanges())}renderRanges(){const e=this;super.renderRanges(),e.showCurrentTimeLine&&!e.disabled&&e.renderRange(e.currentTimeLine,!0)}get showCurrentTimeLine(){return this._showCurrentTimeLine}set showCurrentTimeLine(e){this._showCurrentTimeLine=e,e?this.initCurrentTimeLine():this.hideCurrentTimeLine()}populateHeaderMenu({column:e,items:n}){"timeAxis"===e.type&&this.populateTimeAxisHeaderMenu(...arguments)}populateTimeAxisHeaderMenu({column:e,items:n}){n.currentTimeLine={weight:400,text:this.L("L{showCurrentTimeLine}"),checked:this.showCurrentTimeLine,onToggle:({checked:e})=>{this.showCurrentTimeLine=e}}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.client.isPainted&&this.renderRanges()}attachToProject(e){this.hasOwnStore||(this.store=e.timeRangeStore)}get store(){return this.client.project.timeRangeStore}set store(e){const n=this,{client:r}=n,{project:o}=r;!0===e?e=o.timeRangeStore:e!==o.timeRangeStore&&((e=Store.getStore(e,Store)).storeId||(e.storeId="timeRanges"),o.timeRangeStore=e,n.hasOwnStore=!0),n.attachToStore(e),r.timeRanges&&!r._timeRangesExposed&&(e.add(r.timeRanges),delete r.timeRanges),n.timeRanges&&(e.add(n.timeRanges),delete n.timeRanges)}attachToTimeRangeStore(e){this.store=e}}TimeRanges._$name="TimeRanges",GridFeatureManager.registerFeature(TimeRanges,!1,["Scheduler","Gantt"]);const Ll={completeview:"completeview",currentview:"currentview",daterange:"daterange"},jl=Promise.resolve();var SchedulerExporterMixin=e=>class SchedulerExporterMixin extends e{async scrollRowIntoView(e,n){const{rowManager:r,scrollable:o}=e,i=o.y;return n<e.store.count&&(o.scrollTo(null,r.calculateTop(n)),o.y!==i)?new Promise((o=>{const i=e.on({scroll({scrollTop:e}){null!=e&&r.getRow(n)&&(i(),o())}})})):jl}async scrollToDate(e,n){let r=!1;const o=[],i=e.timeAxisSubGrid.scrollable.on({scrollStart({x:e}){null!=e&&(r=!0)}});o.push(e.scrollToDate(n,{block:"start"})),i(),r&&o.push(e.timeAxisSubGrid.header.scrollable.await("scrollEnd",{checkLog:!1})),await Promise.all(o)}async prepareComponent(e){const n=this,{client:r}=e,{currentOrientation:o}=r,i=r.timeAxisSubGrid.width>0;switch(e.scheduleRange){case Ll.completeview:e.rangeStart=r.startDate,e.rangeEnd=r.endDate;break;case Ll.currentview:const{startDate:n,endDate:o}=r.visibleDateRange;e.rangeStart=n,e.rangeEnd=o}await r.waitForAnimations(),i&&(r.setTimeSpan(e.rangeStart,e.rangeEnd),r.svgCanvas),n._oldEnableEventAnimations=r.enableEventAnimations,r.enableEventAnimations=!1,o.isHorizontalRendering&&(n._oldScrollBuffer=o.scrollBuffer,n._oldVerticalBuffer=o.verticalBufferSize,o.scrollBuffer=100,o.verticalBufferSize=-1),r.ignoreViewBox=!0,await super.prepareComponent(e);const{exportMeta:a,element:l}=n,c=l.querySelector(".b-sch-foreground-canvas"),d=l.querySelector(".b-horizontaltimeaxis");if(a.includeTimeline=i,i&&e.scheduleRange!==Ll.completeview){a.totalWidth-=a.subGrids.normal.width,a.totalWidth+=a.subGrids.normal.width=r.timeAxisViewModel.getDistanceBetweenDates(e.rangeStart,e.rangeEnd);const n=Math.ceil(a.totalWidth/a.pageWidth),o=n*a.verticalPages;a.horizontalPages=n,a.totalPages=o,a.subGrids.normal.scrollLeft=r.getCoordinateFromDate(e.rangeStart)}if(a.timeAxisHeaders=[],a.timeAxisPlaceholders=[],a.headersColleted=!1,DomHelper.forEachSelector(d,".b-sch-header-row",(e=>{a.timeAxisPlaceholders.push(n.createPlaceholder(e)),a.timeAxisHeaders.push(new Map)})),a.subGrids.normal.eventsPlaceholder=n.createPlaceholder(c,!1),DomHelper.removeEachSelector(c,".b-sch-event-wrap,.b-sch-resourcetimerange"),DomHelper.removeEachSelector(n.element,".b-released"),a.eventsBoxes=new Map,a.client=r,r.features.columnLines&&!r.features.columnLines.disabled){const e=l.querySelector(".b-column-lines-canvas");a.columnLinesPlaceholder=n.createPlaceholder(e),a.columnLines={lines:new Map,majorLines:new Map}}if(r.features.dependencies&&!r.features.dependencies.disabled){const e=l.querySelector(`[id="${r.svgCanvas.getAttribute("id")}"]`);(a.dependenciesPlaceholder=e)&&DomHelper.removeEachSelector(e,".b-sch-dependency")}i&&!DateHelper.betweenLesser(e.rangeStart,r.startDate,r.endDate)&&await n.scrollToDate(r,e.rangeStart)}async restoreState(e){let n=!1;const{client:r}=e,o=[],i=r.timeAxisSubGrid.scrollable.on({scrollStart({x:e}){this.element.scrollLeft!==e&&(n=!0)}});o.push(super.restoreState(e)),i(),n&&o.push(r.timeAxisSubGrid.header.scrollable.await("scrollEnd",{checkLog:!1})),await Promise.all(o)}async restoreComponent(e){const{client:n}=e,{currentOrientation:r}=n;n.ignoreViewBox=!1,n.enableEventAnimations=this._oldEnableEventAnimations,r.isHorizontalRendering&&(r.scrollBuffer=this._oldScrollBuffer,r.verticalBufferSize=this._oldVerticalBuffer),await super.restoreComponent(e)}async onRowsCollected(e,n){const r=this;if(await super.onRowsCollected(e),r.exportMeta.includeTimeline){const{client:o}=n,{timeView:i}=o,{pageRangeStart:a,pageRangeEnd:l}=r.getCurrentPageDateRange(n);if(a){let c=!1;for(await r.scrollToDate(o,a);!c;)if(r.collectLines(n),r.collectHeaders(n),r.collectEvents(e,n),DateHelper.timeSpanContains(i.startDate,i.endDate,a,l))c=!0;else if(i.endDate.getTime()>=l.getTime())c=!0;else{const e=i.endDate;if(await r.scrollToDate(o,i.endDate),e.getTime()===i.endDate.getTime())throw new Error("Could not scroll to date")}}await r.scrollToDate(o,n.rangeStart)}}getCurrentPageDateRange({rangeStart:e,rangeEnd:n,client:r}){const{exportMeta:o}=this,{horizontalPages:i,horizontalPosition:a,pageWidth:l,subGrids:c}=o;let d,u;if(i>1){const e=a*l,o=(a+1)*l,i=c.locked.width+c.locked.splitterWidth;o<=i?u=d=null:(d=r.getDateFromCoordinate(Math.max(e-i,0)),u=r.getDateFromCoordinate(1.2*(o-i))||n)}else d=e,u=n;return{pageRangeStart:d,pageRangeEnd:u}}prepareExportElement(){const{element:e,exportMeta:n}=this,{id:r,headerId:o,footerId:i,scrollLeft:a}=n.subGrids.normal,l=e.querySelector(`[id="${r}"]`);return[".b-sch-background-canvas",".b-sch-foreground-canvas"].forEach((e=>{const r=l.querySelector(e);r&&(n.lastExportedRowBottom?r.style.height=`${n.lastExportedRowBottom}px`:r.style.height="",a&&(r.style.marginLeft=`-${a}px`))})),a&&[o,i].forEach((n=>{const r=e.querySelector(`[id="${n}"] .b-widget-scroller`);r&&(r.style.marginLeft=`-${a}px`)})),super.prepareExportElement()}collectRow(e){const{subGrids:n}=this.exportMeta;Object.entries(e.elements).forEach((([r,o])=>{const i=[o.outerHTML,e.top,e.offsetHeight];"normal"===r&&i.push(new Map),n[r].rows.push(i)}))}collectHeaders(e){const{client:n}=e,{exportMeta:r}=this;if(!r.headersCollected){const e=n.timeView.element,o=r.timeAxisHeaders;DomHelper.forEachSelector(e,".b-sch-header-row",((e,i,a)=>{const l=o[i];DomHelper.forEachSelector(e,".b-sch-header-timeaxis-cell",(e=>{l.has(e.dataset.tickIndex)||l.set(e.dataset.tickIndex,e.outerHTML)})),i===a.length-1&&l.has(String(n.timeAxis.count-1))&&(r.headersCollected=!0)}))}}collectLines(e){const{client:n}=e,{exportMeta:r}=this,{columnLines:o}=r;if(!r.headersCollected&&o){const e=n.backgroundCanvas;DomHelper.forEachSelector(e,".b-column-line, .b-column-line-major",(e=>{if(e.classList.contains("b-column-line")){const n=Number(e.dataset.line.replace(/line-/,""));o.lines.set(n,e.outerHTML)}else{const n=Number(e.dataset.line.replace(/major-/,""));o.majorLines.set(n,e.outerHTML)}}))}}collectEvents(e,n){const r=e.length,{client:o}=n,i=this.exportMeta.subGrids.normal.rows;e.forEach(((e,n)=>{var a,l;const c=i[i.length-r+n],d=o.store.getAt(e.dataIndex),u=c[3];null===(a=d.events)||void 0===a||a.forEach((e=>{if(e.isScheduled){let n=o.getElementFromEventRecord(e,d);n&&(n=n.parentElement)&&!u.has(e.id)&&u.set(e.id,[n.outerHTML,Rectangle.from(n,n.offsetParent)])}})),null===(l=d.timeRanges)||void 0===l||l.forEach((e=>{var n;const r=(null===(n=o.features.resourceTimeRanges)||void 0===n?void 0:n.generateElementId(e))||"",i=o.foregroundCanvas.syncIdMap[r];i&&!u.has(r)&&u.set(r,[i.outerHTML,Rectangle.from(i,i.offsetParent)])}))}))}buildPageHtml(){const e=this,{subGrids:n,timeAxisHeaders:r,timeAxisPlaceholders:o,columnLines:i,columnLinesPlaceholder:a}=e.exportMeta;let l=e.prepareExportElement();if(Object.values(n).forEach((({placeHolder:n,eventsPlaceholder:r,rows:o})=>{const i=n.outerHTML,{resources:a,events:c}=e.positionRows(o);l=l.replace(i,a.join("")),r&&(l=l.replace(r.outerHTML,c.join("")))})),r.forEach(((e,n)=>{l=l.replace(o[n].outerHTML,Array.from(e.values()).join(""))})),i){const e=Array.from(i.lines.values()).concat(Array.from(i.majorLines.values()));l=l.replace(a.outerHTML,e.join(""))}return l=e.buildDependenciesHtml(l),l}getDependenciesOuterHTML(){const{dependenciesPlaceholder:e}=this.exportMeta;let n;if(BrowserHelper.isIE11){const r=document.createElement("div"),o=e.cloneNode(!0);r.appendChild(o),n=r.innerHTML}else n=e.outerHTML;return n}renderDependencies(){const{client:e,dependenciesPlaceholder:n,eventsBoxes:r}=this.exportMeta,{dependencies:o}=e,i=e.features.dependencies,a=Array.from(r.keys());o.filter((e=>a.includes(String(e.from))||a.includes(String(e.to)))).forEach((e=>{let o=r.get(String(e.from)),a=r.get(String(e.to));const l=i.getIteratableDependencyAssignments(e),{fromEvent:c,toEvent:d}=e;l.forEach((r=>{var l,u;if(!o&&c){const n=i.getBox(e,!0,r);n&&(o=n instanceof Rectangle?n:new Rectangle(n.start,n.top,n.end-n.start,n.bottom-n.top))}if(!a&&d){const n=i.getBox(e,!1,r);n&&(a=n instanceof Rectangle?n:new Rectangle(n.start,n.top,n.end-n.start,n.bottom-n.top))}const p={startRectangle:null===(l=o)||void 0===l?void 0:l.clone(),endRectangle:null===(u=a)||void 0===u?void 0:u.clone()};o&&a&&i.drawDependency(e,p,r,n,!1)}))}));const l=this.getDependenciesOuterHTML();return DomHelper.removeEachSelector(n,".b-sch-dependency"),l}buildDependenciesHtml(e){const{dependenciesPlaceholder:n,includeTimeline:r}=this.exportMeta;if(n&&r){const n=this.getDependenciesOuterHTML();e=e.replace(n,this.renderDependencies())}return e}};class MultiPageExporter$1 extends(SchedulerExporterMixin(MultiPageExporter)){static get $name(){return"MultiPageExporter"}static get type(){return"multipage"}async stateNextPage(e){await super.stateNextPage(e),this.exportMeta.eventsBoxes.clear()}positionRows(e){const n=[],r=[];return e.forEach((([e,o,i,a])=>{n.push(e),a&&Array.from(a.entries()).forEach((([e,[n,o]])=>{r.push(n),this.exportMeta.eventsBoxes.set(String(e),o)}))})),{resources:n,events:r}}}MultiPageExporter$1._$name="MultiPageExporter";class MultiPageVerticalExporter$1 extends(SchedulerExporterMixin(MultiPageVerticalExporter)){static get $name(){return"MultiPageVerticalExporter"}static get type(){return"multipagevertical"}async stateNextPage(e){await super.stateNextPage(e),this.exportMeta.eventsBoxes.clear()}async prepareComponent(e){await super.prepareComponent(e),e.scheduleRange!==Ll.completeview&&this.estimateTotalPages(e)}positionRows(e){const n=[],r=[];return e.forEach((([e,o,i,a])=>{n.push(e),a&&Array.from(a.entries()).forEach((([e,[n,o]])=>{r.push(n),this.exportMeta.eventsBoxes.set(String(e),o)}))})),{resources:n,events:r}}}MultiPageVerticalExporter$1._$name="MultiPageVerticalExporter";class ScheduleRangeCombo extends LocalizableCombo{static get $name(){return"ScheduleRangeCombo"}static get type(){return"schedulerangecombo"}static get defaultConfig(){return{editable:!1}}buildLocalizedItems(){return Object.entries(Ll).map((([e,n])=>({id:e,text:this.L(n)})))}}ScheduleRangeCombo.initClass(),ScheduleRangeCombo._$name="ScheduleRangeCombo";class SchedulerExportDialog extends ExportDialog{static get $name(){return"SchedulerExportDialog"}static get type(){return"schedulerexportdialog"}static get configurable(){return{defaults:{localeClass:this},items:{scheduleRangeField:{type:"schedulerangecombo",label:"L{Schedule range}",value:"completeview",weight:150,onChange({value:e}){this.parent.widgetMap.rangesContainer.hidden=e!==Ll.daterange}},rangesContainer:{type:"container",flex:"1 0 100%",weight:151,hidden:!0,defaults:{localeClass:this},items:{filler:{weight:0,type:"widget"},rangeStartField:{type:"datefield",label:"L{Export from}",labelWidth:"3em",flex:"1 0 25%",weight:10,onChange({value:e}){this.parent.widgetMap.rangeEndField.min=DateHelper.add(e,1,"d")}},filler2:{type:"widget",weight:20,width:"0.5em"},rangeEndField:{type:"datefield",label:"L{Export to}",labelWidth:"1em",flex:"1 0 25%",weight:30,onChange({value:e}){this.parent.widgetMap.rangeStartField.max=DateHelper.add(e,-1,"d")}}}}}}}onLocaleChange(){const e=this.L("labelWidth");this.width=this.L("L{width}"),this.items.forEach((n=>{n instanceof Field?n.labelWidth=e:"rangesContainer"===n.ref&&(n.items[0].width=e)}))}applyInitialValues(e){super.applyInitialValues(e);const{client:n,scheduleRange:r}=e,o=e.items=e.items||{},i=o.scheduleRangeField=o.scheduleRangeField||{},a=o.rangesContainer=o.rangesContainer||{},l=a.items=a.items||{},c=l.filler=l.filler||{},d=l.rangeStartField=l.rangeStartField||{},u=l.rangeEndField=l.rangeEndField||{};c.width=this.L("labelWidth"),i.value=i.value||r,i.value===Ll.daterange&&(a.hidden=!1);const p=d.value=d.value||n.startDate;d.max=DateHelper.max(n.startDate,DateHelper.add(n.endDate,-1,"d"));let b=u.value||n.endDate;b<=p&&(b=DateHelper.add(p,1,"d")),u.value=b,u.min=DateHelper.min(n.endDate,DateHelper.add(n.startDate,1,"d"))}}SchedulerExportDialog._$name="SchedulerExportDialog";class SinglePageExporter$1 extends(SchedulerExporterMixin(SinglePageExporter)){static get $name(){return"SinglePageExporter"}static get type(){return"singlepage"}collectDependencies(){}positionRows(e){const n=[],r=[],o=/translate\((\d+.?\d*)px, (\d+.?\d*)px\)/;let i=0;return e.forEach((([e,a,l,c])=>{n.push(e.replace(o,`translate($1px, ${i}px)`));const d=i-a;c&&Array.from(c.entries()).forEach((([e,[n,i]])=>{i.translate(0,d),this.exportMeta.eventsBoxes.set(String(e),i),r.push(n.replace(o,`translate($1px, ${i.y}px)`))})),i+=l})),{resources:n,events:r}}}SinglePageExporter$1._$name="SinglePageExporter";class PdfExport$1 extends PdfExport{static get $name(){return"PdfExport"}static get defaultConfig(){return{exporters:[SinglePageExporter$1,MultiPageExporter$1,MultiPageVerticalExporter$1],dialogClass:SchedulerExportDialog,scheduleRange:"completeview",rangeStart:null,rangeEnd:null}}get defaultExportDialogConfig(){return ObjectHelper.copyProperties(super.defaultExportDialogConfig,this,["scheduleRange"])}buildExportConfig(e){e=super.buildExportConfig(e);const{scheduleRange:n,rangeStart:r,rangeEnd:o}=this;return e.columns&&!e.columns.find((e=>"timeAxis"===e.type))&&e.columns.push(e.client.timeAxisColumn.id),ObjectHelper.assign({scheduleRange:n,rangeStart:r,rangeEnd:o},e)}}PdfExport$1._$name="PdfExport",GridFeatureManager.registerFeature(PdfExport$1,!1,"Scheduler");class ScheduleTableExporter extends(Localizable(TableExporter)){static get defaultConfig(){return{includeUnassigned:!0,eventColumns:[{text:"Task",field:"name"},{text:"Starts",field:"startDate",width:140},{text:"Ends",field:"endDate",width:140}],eventSortFn:null}}construct(e={},...n){super.construct(e,...n),this.eventSortFn||(this.eventSortFn=(e,n)=>e.internalId-n.internalId)}normalizeColumns(e){super.normalizeColumns(e),e.eventColumns=e.eventColumns.map((e=>"string"==typeof e?{field:e}:e))}generateExportData(e){const n=this,r=this.target instanceof SchedulerBase,o=n.generateColumns(e),i=r?n.generateEventColumns(e):[];return{columns:o.concat(i),rows:n.generateRows(e)}}generateEventColumns(e){return e.eventColumns.map((n=>this.processEventColumn(n,e)))}processEventColumn(e,n){const{width:r,minWidth:o}=e,{defaultColumnWidth:i}=n;return{field:e.field,value:e.text,width:Math.max(r||i,o||i),eventColumn:!0,type:this.getColumnType(e,this.target.eventStore)}}generateRows(e){const n=this,{target:r}=n;let o;if(r instanceof SchedulerBase){if(o=[],r.resourceStore.map((r=>{const i=r.events||[];i.sort(n.eventSortFn),i.length||i.push(""),i.forEach((i=>o.push(n.getRowData(e,r,i))))})),e.includeUnassigned&&e.eventColumns.length){const i=r.eventStore.query((e=>!e.resources.length));if(i.length){const r=new Array(e.columns.length).fill("");r.push(n.L("L{ExcelExporter.No resource assigned}")),o.push(r),i.forEach((r=>o.push(n.getRowData(e,null,r))))}}o=o.filter((e=>e.length))}else o=super.generateRows(e);return o}getRowData(e,n,r){const{columns:o,eventColumns:i}=e,a=[],l=this.processRecord(n,o,e);if(l&&a.push(...l),!n||!n.isSpecialRow){const n=this.processRecord(r,i,e);n&&a.push(...n)}return a}}ScheduleTableExporter._$name="ScheduleTableExporter";class ExcelExporter$1 extends ExcelExporter{static get $name(){return"ExcelExporter"}static get defaultConfig(){return{exporterClass:ScheduleTableExporter,exporterConfig:null}}}ExcelExporter$1._$name="ExcelExporter",GridFeatureManager.registerFeature(ExcelExporter$1,!1,"Scheduler");class ResourceCollapseColumn extends Column{static get $name(){return"ResourceCollapseColumn"}static get type(){return"resourceCollapse"}static get defaults(){return{width:"3em",align:"center",sortable:!1,groupable:!1,editor:!1,minWidth:0,cellCls:"b-resourcecollapse-cell",renderer:({record:e})=>({tag:"i",class:{"b-icon":1,"b-icon-expand-resource":1,"b-flip":"none"!==e.eventLayout}})}}onCellClick({record:e,event:n}){n.preventDefault(),e.eventLayout="none"!==e.eventLayout?"none":"stack"}}ColumnStore.registerColumnType(ResourceCollapseColumn),ResourceCollapseColumn._$name="ResourceCollapseColumn";class ResourceInfoColumn extends Column{static get $name(){return"ResourceInfoColumn"}static get type(){return"resourceInfo"}static get fields(){return["showEventCount","showRole","showMeta","showImage","validNames","autoScaleThreshold","useNameAsImageName"]}static get defaults(){return{showImage:!0,showEventCount:!0,showMeta:null,showRole:!1,validNames:null,autoScaleThreshold:40,field:"name",htmlEncode:!1,width:140,cellCls:"b-resourceinfo-cell",useNameAsImageName:!0,editor:!VersionHelper.isTestEnv&&"text"}}construct(...e){super.construct(...e),this.avatarRendering=new AvatarRendering({element:this.grid.element})}doDestroy(){super.doDestroy(),this.avatarRendering.destroy()}getImageURL(e){const n=this.grid.resourceImagePath||"",r=n.split("//"),o=r.length>1?r[1]:n,i=StringHelper.joinPaths([o||"",e||""]);return r.length>1?r[0]+"//"+i:i}template(e,n){const r=this,{showImage:o,showRole:i,showMeta:a,showEventCount:l,grid:c}=r,{timeAxis:d,resourceImageExtension:u="",defaultResourceImageName:p}=c,b="string"==typeof i?i:"role",g=l&&e.eventStore.getEvents({includeOccurrences:c.enableRecurringEvents,resourceRecord:e,startDate:d.startDate,endDate:d.endDate}).length;let m;if(o&&!1!==e.image)if(e.imageUrl)m=e.imageUrl;else{const i="string"==typeof o?o:e.image||n&&r.useNameAsImageName&&n.toLowerCase()+u||p||"";m=i&&r.getImageURL(i),m&&!i.includes(".")&&(r.validNames&&!r.validNames.includes(i)||(m+=u))}return{class:"b-resource-info",children:[o&&r.avatarRendering.getResourceAvatar({initials:e.initials,color:e.eventColor,iconCls:e.iconCls,imageUrl:m,defaultImageUrl:p&&this.getImageURL(p)}),i||l||a?{tag:"dl",children:[{tag:"dt",text:n},i?{tag:"dd",class:"b-resource-role",text:e[b]}:null,l?{tag:"dd",class:"b-resource-events",html:r.L("L{eventCountText}",g)}:null,a?{tag:"dd",class:"b-resource-meta",html:r.showMeta(e)}:null]}:n]}}defaultRenderer({grid:e,record:n,cellElement:r,value:o,isExport:i}){let a;return n.isSpecialRow?a="":i?a=o:(this.autoScaleThreshold&&e.rowHeight<this.autoScaleThreshold?r.style.fontSize=e.rowHeight/40+"em":r.style.fontSize="",a=this.template(n,o)),a}}ColumnStore.registerColumnType(ResourceInfoColumn),ResourceInfoColumn._$name="ResourceInfoColumn";class Scheduler extends SchedulerBase{static get $name(){return"Scheduler"}static get type(){return"scheduler"}}Scheduler.initClass(),Scheduler._$name="Scheduler";class ResourceFilter extends List{static get $name(){return"ResourceFilter"}static get type(){return"resourcefilter"}static get delayable(){return{applyFilter:"raf"}}static get configurable(){return{eventStore:null,multiSelect:!0,toggleAllIfCtrlPressed:!0,itemTpl:e=>StringHelper.encodeHtml(e.name||""),masterFilter:()=>!0}}itemIconTpl(e,n){const{eventColor:r}=e,o=DomHelper.isNamedColor(r)?` b-sch-foreground-${r}`:"",i=!o&&r?` style="color:${r}"`:"";return this.multiSelect?`<div class="b-selected-icon b-icon${o}"${i}></div>`:""}updateEventStore(e){var n;const{resourceStore:r}=e,o=this.initialConfig.store instanceof Store?this.initialConfig.store.initialConfig:null===(n=this.store)||void 0===n?void 0:n.config;this.store=r.chain(this.masterFilter,null,_objectSpread2(_objectSpread2({},o),{},{syncOrder:!0})),r.count?this.initFilter():r.project.on({name:"project",refresh:"initFilter",thisObj:this})}changeMasterFilter(e){const n=this;return function(r){return e.call(n,r)}}initFilter(){const{eventStore:e}=this;e.count&&e.resourceStore.count&&(this.selected.add(this.store.getRange()),this.detachListeners("project"))}onSelectionChange({source:e,added:n,removed:r}){const o=this,i=e.count===o.eventStore.resourceStore.count;if(super.onSelectionChange(...arguments),o.resourceFilter){if(o.resourceFilter.disabled=i,o.applyFilter(),o.eventListeners.change){const i=e.values,a=i.concat(r);ArrayHelper.remove(a,n),o.triggerFieldChange({value:i,oldValue:a})}}else o.resourceFilter=o.eventStore.addFilter({id:`${o.id}-filter-instance`,filterBy:e=>!e.resource||o.selected.includes(e.resources),disabled:i},!0)}get value(){return this.selected.values}applyFilter(){this.eventStore.filter()}}ResourceFilter.initClass(),ResourceFilter._$name="ResourceFilter";const isProjectConsumer=e=>e.isProjectConsumer;class UndoRedo extends UndoRedoBase{static get $name(){return"UndoRedo"}static get type(){return"undoredo"}static get configurable(){return{scheduler:null,project:null}}construct(){super.construct(...arguments),this.stm||(this.scheduler=this.up(isProjectConsumer))}changeScheduler(e){return e.isProjectConsumer?e:UndoRedo.getById(e)}updateScheduler(e){const{crudManager:n}=e;n?n.on({load:"onCrudManagerLoad",thisObj:this}):this.onCrudManagerLoad(),this.stm=e.project.stm}async onCrudManagerLoad(){await this.scheduler.project.commitAsync(),this.isDestroyed||(this.stm.enable(),this.fillUndoRedoCombo())}}UndoRedo.initClass(),UndoRedo._$name="UndoRedo";class AgendaColumn extends Column{static get type(){return"agendacolumn"}static get defaults(){return{id:"agendaColumn",text:"Agenda",filterable:!1,sortable:!1,editor:!1,searchable:!1}}defaultRenderer({cellElement:e,record:n,grid:r,size:o,row:i}){var a;const{events:l,date:c}=n,d=[],u=Object.assign({},e.dataset,{date:DateHelper.makeKey(c)});null===(a=i.addCls)||void 0===a||a.call(i,r.agendaRowCls),e.classList[n.isNonWorking?"add":"remove"](r.nonWorkingDayCls),e.classList.add("b-sticky-cell");for(let e=0;e<l.length;e++){const o=l[e],i=o.endDate||DateHelper.add(o.startDate,o.duration,o.durationUnit),a=o.startDate<c,u=i>n.tomorrow,p=r.createEventDomConfig({date:n.date,isAllDay:o.allDay||u||a,eventRecord:o});p.className["b-continues-right"]=u,p.className["b-continues-left"]=a,d.push({style:{marginBottom:e<l.length-1?`${r.eventRowSpacing}px`:""},className:{"b-cal-agenda-event-row":1},dataset:{rowId:o.id},children:[r.internalEventTimeRenderer(o),p],syncOptions:{syncIdField:"rowId",releaseThreshold:0,strict:!0}})}r._cellRenderer&&r._cellRenderer(...arguments),DomSync.sync({domConfig:{dataset:u,children:[r.internalAgendaDateRenderer(c),{className:{"b-cal-event-bar-container":1},children:d}],syncOptions:{syncIdField:"date",releaseThreshold:0,strict:!0}},targetElement:e}),r.eventRenderer?(e.style.height="0px",o.height=e.scrollHeight+DomHelper.getEdgeSize(e,"padding","t").top,e.style.height=""):o.height=Math.max(n.events.length*(r.eventHeightInPixels+r.eventRowSpacing)-r.eventRowSpacing+40,86)}headerRenderer({headerElement:e}){e.innerHTML="",DomSync.sync({domConfig:{className:{"b-cal-agenda-header":1,"b-grid-header":1,"b-last-leaf":1},children:[{className:{"b-cal-agenda-header-date":1},text:"Date"},{className:{"b-cal-agenda-header-time":1},text:"Time"},{className:{"b-cal-agenda-header-event":1},text:"Event"}]},targetElement:e})}}AgendaColumn.prototype.internalCellCls="b-calendar-cell",ColumnStore.registerColumnType(AgendaColumn),AgendaColumn.exposeProperties(),AgendaColumn._$name="AgendaColumn";class CalendarFeature extends(InstancePlugin.mixin(Factoryable)){static get factoryable(){return{}}static get configurable(){return{clientListeners:{paint:"onCalendarPaint"},disableOnReadOnly:null}}updateDisableOnReadOnly(e){const n=this,{client:r}=n,o="readonlyToggle",i="onClientReadOnlyToggle";e?(n[i]({readOnly:r.readOnly}),r.on({name:o,readOnly:i,thisObj:n})):n.detachListeners(o)}doDestroy(){this.syncModes(),super.doDestroy()}createZone(e,n){return new e(_objectSpread2({owner:this},n))}onClientReadOnlyToggle({readOnly:e}){this.disabled=e}updateDisabled(e,n){super.updateDisabled(e,n),this.client.isPainted&&this.syncModes()}onCalendarPaint({firstPaint:e}){e&&this.syncModes()}syncModes(){const e=this,{client:n,_modeDetacher:r,zones:o}=e;let i,a,l,c,d,u=null;if(e.disabled||e.isDestroying||!e.getViewZoneType)null==r||r();else for(a in n.isCalendar?(r||(e._modeDetacher=n.on({addMode:()=>e.syncModes()})),i=n.modes):i={view:n},i){var p;if(d=null==o?void 0:o[a],l=i[a],c=e.getViewZoneType(l),c)(ObjectHelper.isObject(d)?d.type:null===(p=d)||void 0===p?void 0:p.constructor)===c?delete o[a]:d=l.isPainted?e.createZone(c,{view:l}):e.whenPainted(a,l,c),(u||(u={}))[a]=d}if(e.zones=u,o)for(a in o)o[a].destroy()}whenPainted(e,n,r){const o=this,i={type:r,destroy:n.on({once:!0,prio:1e4,paint(){o.zones[e]===i&&(o.zones[e]=o.createZone(r,{view:n}))}})};return i}}CalendarFeature._$name="CalendarFeature";const hasEventStore=e=>e.eventStore;class EventTip extends Tooltip{static get $name(){return"EventTip"}static get type(){return"eventtip"}static get configurable(){return{align:{monitorResize:!0},dateFormat:"ll",eventRecord:{$config:"nullify",value:null},recurrenceHint:"",timeFormat:"LST",axisLock:"flexible",allowOver:!0,closable:null,forSelector:".b-cal-event-wrap",maxWidth:"30em",minWidth:"14em",scrollAction:"realign",cls:{"b-sch-event-tooltip":1},tools:{edit:{cls:"b-icon-edit",handler:"up.onEditClick",tooltip:"L{EventEdit.Edit event}",weight:100},delete:{cls:"b-icon-trash",handler:"up.onDeleteClick",tooltip:"L{SchedulerBase.Delete event}",weight:0}},titleRenderer:e=>StringHelper.encodeHtml(e.name),extendAllDayEndDay:null,activeClient:null}}static get delayable(){return{refreshContent:20}}static get properties(){return{clockTemplate:new ClockTemplate({})}}get owner(){return Tooltip.fromElement(this.activeTarget)||this.ownerFeature.client}onEditClick(){this.trigger("edit")}onDeleteClick(){this.trigger("delete")}getHtml(e){const{eventRecord:n}=this;var r,o;if(n)return e.eventRecord=n,this.title=null!==(r=null===(o=this.titleRenderer)||void 0===o?void 0:o.call(this,n))&&void 0!==r?r:"",this.renderer(e)}renderer(){const{clockTemplate:e,eventRecord:n,dateFormat:r,recurrenceHint:o,timeFormat:i}=this,{allDay:a,endDate:l,startDate:c,recurrence:d}=n,u=a?this.extendAllDayEndDay?DateHelper.ceil(l,"1 day"):DateHelper.add(l,-1,"day"):l,p=DateHelper.clearTime(c),b=DateHelper.clearTime(u),g=p<b,m=!a&&p<c||b<u?g?`${r} ${i}`:i:r,f=d?RecurrenceLegend.getLegend(d):o,v=DateHelper.formatDelta(DateHelper.diff(c,l),a?{precision:"d"}:null),y=n.isMilestone||a&&!g;return e.mode=g?"day":"hour",e.template({date:c,text:DateHelper.format(c,m),cls:"b-sch-tooltip-startdate"})+(y?"":e.template({date:u,text:DateHelper.format(u,m),cls:"b-sch-tooltip-enddate"}))+`<div class="b-cal-tooltip-duration b-icon b-icon-duration">${v}</div>`+(f?`<div class="b-cal-tooltip-recurrence b-icon b-icon-recurring">${f}</div>`:"")}showByEvent(e,n=e.target){const r=this;return r.activeTarget=n,r.pointerEvent=e,r.updateContent(),"contextmenu"===e.type?r.showByPoint(e.clientX,e.clientY,{align:"t0-t0",anchor:!1}):r.showBy(n)}afterShowByTarget(){var e;const{delete:n}=this.tools;this.activeclient=null===(e=Tooltip.fromElement(this.activeTarget))||void 0===e?void 0:e.closest(hasEventStore),super.afterShowByTarget(),n&&(n.disabled=this.ownerFeature.client.readOnly)}afterHide(){super.afterHide(...arguments),this.activeClient=null}refreshContent(){this.updateContent()}updateEventRecord(e){var n;const r=this;null===(n=r._changeHook)||void 0===n||n.call(r),r._changeHook=e&&FunctionHelper.after(e,"afterChange",r.refreshContent,r),e&&r.updateContent()}updateContent(){const{clockTemplate:e,element:n,eventRecord:r}=this,o=super.updateContent(),i=n.querySelector(".b-sch-tooltip-startdate"),a=n.querySelector(".b-sch-tooltip-enddate");return i&&e.updateDateIndicator(i,r.startDate),a&&e.updateDateIndicator(a,r.endDate),o}updateActiveClient(e){this.detachListeners("clientOverflowChange"),e&&e.on({name:"clientOverflowChange",eventsPerCellChange:"onClientOverflowChange",thisObj:this})}onClientOverflowChange(){DomHelper.isVisible(this.lastAlignSpec.target)||this.hide()}onDocumentMouseDown({event:e}){if(e.button||"click"!==this.ownerFeature.showOn||!this.activeTarget.contains(e.target))return super.onDocumentMouseDown(...arguments)}}EventTip.initClass(),EventTip._$name="EventTip";const Nl="YYYY-MM-DD",$l=/^b-hover-(top|right|bottom|left)$/,Bl=Symbol("eventDragMode"),appendEventFooter=(e,n)=>{let r;return"b-cal-event-body"===e.className?e.children.push(r=n):Array.isArray(e.children)&&e.children.forEach((e=>{!r&&e&&(r=appendEventFooter(e,n))})),r},makeMode=e=>Object.freeze({type:e,create:!1,move:!1,resize:!1,[e]:!0}),zl={create:{finisher:"finishDropCreate",mode:makeMode("create"),validatorFn:"validateCreateFn"},move:{finisher:"finishDropMove",mode:makeMode("move"),validatorFn:"validateMoveFn"},resize:{finisher:"finishDropResize",mode:makeMode("resize"),validatorFn:"validateResizeFn"}},Vl={calendarrow:!0,monthview:!0};class Zone extends(Base.mixin(Draggable,Droppable,Hoverable)){static get $name(){return"Zone"}static get configurable(){return{droppableSelector:"*",droppable:!0,hoverable:null,hoverAnimationCls:"b-hover-anim",days:{$config:{equal:"array"},value:null},dragProxy:{type:"tip",tooltip:null},eventRecord:null,hit:null,dragItemSelector:".b-cal-event-wrap",overflow:{$config:"nullify",value:null},owner:null,rootElement:null,view:{$config:"nullify",value:null}}}findRootElement(e){return e.contentElement}getDateFromPosition(e,n){return this.view.getDateFromPosition(e,n)}get dragEventer(){return this.owner}beforeDrag(e){const n=this,{owner:r}=n,o=n.hitTest(e),i=null==o?void 0:o.eventRecord;if(!o||null!=i&&i.isCreating)return!1;let a,l;switch(o.date&&e.set("date",o.date),o.type){case"event":e.set("eventRecord",i),e.set("eventSourceHit",o),e.set("eventLeft",o.eventElement.style.left),e.set("eventWidth",o.eventElement.offsetWidth),a="move",l=!r.draggable||!i.draggable,l||n.captureDragOffset(i,o,e);break;case"resize":e.set("eventRecord",i),e.set("eventSourceHit",o),e.set("eventLeft",o.eventWrap.style.left),e.set("eventWidth",o.eventWrap.offsetWidth),a="resize",l=!r.resizable||!i.resizable;break;case"schedule":case"dayNumber":e.set("eventCreate",o),a="create",l=!r.creatable;break;default:return!1}if(l)return!1;e.set("eventDragMode",e[Bl]=zl[a].mode)}dragStart(){var e;const n=this,{dragging:r,owner:o,view:i}=n,{client:a}=o,l={scrollables:a.scrollManager?[{element:a.viewContainer.element,callback:()=>{r.lastMoveEvent&&r.move(r.lastMoveEvent)}}]:[]};var c;n.isResizing&&(n.refocus=o.client.captureFocus(),null===(c=r.itemElement)||void 0===c||c.classList.add("b-resizing"));i.scrollable&&l.scrollables.push({element:i.scrollable.element,callback:()=>{r.lastMoveEvent&&r.move(r.lastMoveEvent)}}),null===(e=a.scrollManager)||void 0===e||e.startMonitoring(l)}captureDragOffset(){}cleanupDrag(){var e,n;const r=this,{dragProxy:o,dragging:i}=r,{tooltip:a}=o;null==i||null===(e=i.itemElement)||void 0===e||e.classList.remove("b-resizing"),null===(n=r.refocus)||void 0===n||n.call(r,!1),r.refocus=null,r.days=null,a&&(a.hide(),o.tooltip=null)}dragEnd(){var e,n;null===(e=this.owner.client)||void 0===e||null===(n=e.scrollManager)||void 0===n||n.stopMonitoring(),this.cleanupDrag()}makeDays(e,n){const{dayTime:r,startDate:o,endDate:i}=this.view,a=DateHelper.add(i,-1,"d");e=DateHelper.constrain(e,o,a),n=DateHelper.constrain(n,o,a);const l=r.startOfDay(n),c=[];for(let n=r.startOfDay(e);n<=l;n=DateHelper.add(n,1,"day"))c.push(DateHelper.format(n,Nl));return c}onShowOverflowPopup({overflowPopup:e}){this.overflow||(this.overflow=new OverflowZone({owner:this.owner,view:e}))}get calendarCells(){const e=this.dropRootElement,{hideNonWorkingDays:n}=this.view;return e&&DomHelper.children(e,`${this.view.visibleCellSelector}${n?":not(.b-nonworking-day)":""}`)}get isCreating(){var e,n;return null===(e=this.dropping)||void 0===e||null===(n=e[Bl])||void 0===n?void 0:n.create}get isMoving(){var e,n;const r=null===(e=this.dropping)||void 0===e?void 0:e[Bl];return r?r.move:Boolean(null===(n=this.dropping)||void 0===n?void 0:n.peek("eventRecord"))}get isResizing(){var e,n;return null===(e=this.dragging)||void 0===e||null===(n=e[Bl])||void 0===n?void 0:n.resize}get recurrable(){return this.isDayZone||this.isMonthZone}cleanupDrop(){this.eventRecord=this.eventDom=this.days=null,this.noTip=!1}createEvent(e){var n;const r=(null===(n=this.dropping)||void 0===n?void 0:n[Bl])||zl.create;this.setupEvent(e,r.create)}async dragDrop(e){if(this.isResizing||e.target===this)return e.finalizer=this.finishDrop(e)}dragEnter(e){const n=this,r=e[Bl];if(n.isMoving)n.startMove(e.peek("eventRecord"));else{if(!r||e.source!==n)return!1;if(r.resize)n.startResize(e.peek("eventSourceHit"));else{if(!r.create)return!1;n.startCreate(e.peek("date"),e.peek("eventCreate"))}}}dragLeave(){this.isResizing||this.cleanupDrop()}dragMove(e){this.hit=this.pickDropTarget(e)}dropHitMove(e,n,r){const{endDate:o,startDate:i}=r.isScheduled?r:this.eventRecord,a=DateHelper.diff(i,o,"s");let{date:l}=n;l=DateHelper.clearTime(l),r.allDay||(l=DateHelper.add(l,DateHelper.diff(DateHelper.clearTime(i),i,"s"),"s")),l=this.applyDragOffset(l,e),this.setEventData({startDate:l,endDate:DateHelper.add(l,a,"s")})}dropHitNowhere(){this.days=null}dropHitResize(e,n,r){const{eventRecord:o}=this,{startDate:i,endDate:a}=o,l=DateHelper.clearTime(n.date);let c,d;r.atEnd?(d=DateHelper.add(l,1,"d"),c={startDate:i,endDate:i<d?d:DateHelper.add(i,1,"d")}):c={startDate:l<a?l:DateHelper.add(a,-1,"d"),endDate:a},c.duration=DateHelper.diff(c.startDate,c.endDate,o.durationUnit),this.setEventData(c)}async finishDrop(e){const n=this,{eventRecord:r,owner:o,view:i}=n,{eventStore:a}=i,l=e[Bl],c=zl[(null==l?void 0:l.type)||"move"];if(c&&n.hit){const i=!c.validatorFn||await o.callback(o[c.validatorFn],o,[{drag:e,eventRecord:r,event:e.event}]);!1!==i&&await n[c.finisher](e,o,r,a,i,(async a=>{let l={drag:e,eventRecord:r,validation:i,event:e.event,feature:o,view:e[n.isResizing?"source":"target"].view};return!1===await o.client.trigger("before"+StringHelper.capitalize(a),l)?l=!1:o.client.trigger(a,l),l}))}n.cleanupDrop()}async finishDropCreate(e,n,r,o,i,a){const l=!1!==(null==i?void 0:i.add);!1===await a("dragCreateEnd")?l&&o.remove(r):l&&!o.includes(r)&&o.add(r)}async finishDropMove(e,n,r,o,i,a){let l=await e.get("eventRecord");const c=this,d=l.isOccurrence?l.recurringTimeSpan:l,u=e.source!==c&&e.source.resource!==c.resource;if(!u&&DateHelper.isEqual(r.startDate,l.startDate)&&DateHelper.isEqual(r.endDate,l.endDate)&&l.eventStore===o)return;if(!1!==await a("dragMoveEnd"))if(o.getByInternalId(d.internalId))l=await c.finishDropConfirm(l),l&&(await c.moveEventTo(e,l),u&&(l.assign(c.resource),l.unassign(e.source.resource)));else{var p,b,g;const n=await e.get("sourceStore");n?(n.remove(l),await c.moveEventTo(e,l)):l=r;const i=null!==(p=null!==(b=l.resourceId)&&void 0!==b?b:null===(g=c.resource)||void 0===g?void 0:g.id)&&void 0!==p?p:this.owner.client.defaultCalendarId;delete l.resourceId,o.add(l),l.assign(i)}}async finishDropResize(e,n,r,o,i,a){if(!1===await a("dragResizeEnd"))return;let{eventRecord:l}=await e.get("eventSourceHit");l=await this.finishDropConfirm(l),l&&l.set({startDate:r.startDate,endDate:r.endDate,duration:DateHelper.diff(r.startDate,r.endDate,l.durationUnit)})}async finishDropConfirm(e){return e.isOccurrence||e.isRecurring?new Promise((n=>{new RecurrenceConfirmationPopup({owner:this.owner}).confirm({actionType:"update",eventRecord:e,cancelFn(){n(null)},changerFn(e){n(e)}})})):e}async moveEventTo(e,n){let r=this.view.getDateFromElement(e.targetElement);if(n.startDate&&(r=DateHelper.copyTimeValues(DateHelper.clearTime(r),n.startDate)),r=this.applyDragOffset(r,e),!this.view.eventStore.getByInternalId(n.internalId)&&!n.startDate){const n=e.target.view.autoCreate||this.owner.client.autoCreate;r.setHours((null==n?void 0:n.startHour)||8)}await this.setStartDate(n,r)}pickDropTarget(e){var n;const r=this;let o=r.hitTest(e);return!o&&r.isResizing&&(o=r.hit),null!==(n=o)&&void 0!==n&&n.date?o:null}setStartDate(e,n){return e.set({startDate:n,endDate:DateHelper.add(n,this.eventRecord.duration,this.eventRecord.durationUnit)})}getHoverHandleCls(e){return e?"":"b-gripper-vert"}hoverEnter(){var e;const n=this,r=n.hitTest(n.hoverTarget),{gripper:o}=n.owner,i=n.getHoverHandleCls(),a=n.getHoverHandleCls(!0);a&&o.classList.remove(a),!1!==(null==r||null===(e=r.eventRecord)||void 0===e?void 0:e.resizable)&&(i&&o.classList.add(i),n.hoverTarget.appendChild(o))}hoverLeave(e){const{gripper:n}=this.owner,r=this.getHoverHandleCls();n.parentNode===e&&(r&&n.classList.remove(r),e.removeChild(n))}applyDragOffset(e,n){const r=n.peek("eventOffset");var o;e&&null!=r&&r[0]&&(n.source.constructor===(null===(o=n.target)||void 0===o?void 0:o.constructor)&&(e=DateHelper.add(e,-r[0],r[1])));return e}hitTest(e){const n=this,r=null==e?void 0:e.isDragContext,o=r?e.event:e,i=r&&e.targetElement||DomHelper.getEventElement(o);let a,l,c=n.view,d=null;return i&&(c.calendarHitTest||(c=n.owner.client),d=c.calendarHitTest(i),d&&(d.eventWrap=l=i.closest(".b-cal-event-wrap"),i.classList.contains("b-gripper")?(d={type:"resize",cell:d.cell,date:d.date,edge:a={},eventRecord:d.eventRecord,eventWrap:l,gripper:i,view:d.view},DomClassList.normalize(l.className,"array").forEach((e=>{(e=$l.exec(e))&&(a[e[1]]=!0)})),d.atEnd=!(a.top||a.left)):d.eventRecord||(l=null),l&&(d.eventTop=l.style.top),i!==o&&(d.date=n.getDateFromPosition(o.clientX,o.clientY)||d.date))),d}renderEvent(e,n,r){const{view:o}=this;Object.defineProperty(e,"resource",{configurable:!0,get:()=>o.defaultCalendar});const i=o.createEventDomConfig({eventRecord:e,isAllDay:Vl[o.type]});if(i.className["b-cal-tentative-event"]=1,i.className["b-cal-tentative-event-first"]=n,i.className["b-cal-tentative-event-last"]=r,delete e.resource,r){const{footer:n}=this.owner;n&&appendEventFooter(i,ObjectHelper.assign({html:DateHelper.format(e.endDate,o.timeFormat)},n))}return i}setEventData(e,n){const r=this,{eventRecord:o,view:i}=r,{duration:a,startDate:l}=e;if(l&&null!=a&&!e.endDate&&(e=_objectSpread2(_objectSpread2({},e),{},{endDate:DateHelper.add(l,a,o.durationUnit)})),o.set(e),r.eventDom)r.eventDom.className[i.shortEventCls]=o.durationMS<=i.shortEventDuration;else{if(n){let{newName:e}=r.owner;"function"==typeof e&&(e=e(o)),o.set("name",e)}r.eventDom=r.renderEvent(o)}}setupEvent(e,n){var r;const o=this,{owner:i}=o,{defaultCalendar:a,eventStore:l}=o.view,{tooltip:c}=i,d=o.eventRecord=i.eventRecord=o.view.eventStore.createRecord({});o.setEventData(e,n),o.isCreating&&a&&l.assignEventToResource(d,a);const{eventDom:u}=o;return u.className["b-cal-tentative-event"]=1,o.noTip||c.disabled||null===(r=o.dragging)||void 0===r||!r.has("eventCreate")||(c.eventRecord=d,c.recurrenceHint=n&&o.recurrable?i.recurrenceTip:"",o.dragProxy.tooltip=c),u}startCreate(e){this.createEvent({allDay:!0,startDate:e,endDate:DateHelper.add(e,1,"d")})}startMove(e){var n;const r=this,o=ObjectHelper.clone(e.data),i=null===(n=e.resource)||void 0===n?void 0:n.eventColor;if(!o.eventColor&&i&&(o.eventColor=i),!o.startDate){const n=r.pickDropTarget(r.dropping);o.startDate=(null==n?void 0:n.date)||new Date,o.endDate=DateHelper.add(o.startDate,e.duration||1,e.durationUnit||"h")}var a;o.resourceId||(o.resourceId=r.dropping.peek("resourceId")||(null===(a=r.owner.client)||void 0===a?void 0:a.defaultCalendarId));delete o.id,r.setupEvent(o)}startResize(e){var n;const{eventRecord:r}=e,o=r.data;this.createEvent(_objectSpread2(_objectSpread2({},o),{},{id:`dragResize-event-${o.id}`,eventColor:o.eventColor||(null===(n=r.resource)||void 0===n?void 0:n.eventColor),recurrenceRule:null,realEventId:o.id}))}configureListeners(e){const n=super.configureListeners(e);return n.element=this.view.rootElement,n}updateHit(e){const n=this,r=n.dropping,o=e&&r[Bl];e?n.isMoving?n.dropHitMove(r,e,r.peek("eventRecord")):null!=o&&o.create?n.dropHitCreate(r,e,r.peek("eventCreate")):null!=o&&o.resize&&n.dropHitResize(r,e,r.peek("eventSourceHit")):n.dropHitNowhere(r)}updateDays(e){const n=this,{calendarCells:r,eventDom:o,dayValues:i}=n,a=r&&{};let l,c,d,u,p,b=!0;if(n.dayValues=a,r&&o){for(u=0;u<r.length;++u)l=r[u],null!=e&&e.includes(l.dataset.date)&&(p=l);for(u=0;u<r.length;++u)l=r[u],c=l.dataset.date,null!=e&&e.includes(c)&&((d=null==i?void 0:i[c])?delete i[c]:(d=n.includeDay(c,l,b,l===p)||!0,b=!1),a[c]=d);if(i)for(u in i)n.removeDay(u,i[u])}}updateEventRecord(e){this.owner.eventRecord=e}updateOverflow(e,n){return!e&&n&&n.destroy(),e}updateOwner(e){this.hoverIgnoreElement=null==e?void 0:e.gripper}updateRootElement(e){const n=this;n.dragRootElement=e,n.dropRootElement=n.droppable?e:null,n.hoverRootElement=n.hoverable?e:null}updateView(e){var n;const r=this;r.rootElement=e?r.findRootElement(e):null,null===(n=r._overflowDetacher)||void 0===n||n.call(r),r._overflowDetacher=null==e?void 0:e.on({thisObj:r,showOverflowPopup:"onShowOverflowPopup"})}}Zone.prototype._eventRecord=null;class BaseDayZone extends Zone{static get $name(){return"BaseDayZone"}static get configurable(){return{hoverSelector:".b-cal-event-wrap",draggingClsSelector:".b-dayview-content"}}getHoverHandleCls(e){let n=this.isAllDayZone;return e&&(n=!n),"b-gripper-"+(n?"vert":"horz")}}class AllDayZone extends BaseDayZone{static get $name(){return"AllDayZone"}static get configurable(){return{hoverEdges:"lr"}}beforeDrag(e){const n=super.beforeDrag(e);return!(!1!==n&&!this.draggable&&e[Bl].move)&&n}dragEnter(e){return this.view.eventsPerCell||this.view.expandGutter(),super.dragEnter(e)}dragLeave(e){this.view.collapseGutter(),super.dragLeave(e)}captureDragOffset(e,n,r){r.set("eventOffset",[Math.max(Math.floor(DateHelper.diff(e.startDate,n.date,"d")),0),"d"])}dropHitCreate(e,n,r){let o=DateHelper.clearTime(n.date),i=DateHelper.clearTime(r.date);o<i&&([i,o]=[o,i]),this.setEventData({startDate:i,duration:DateHelper.diff(i,o,"d")+1,durationUnit:"d"})}async moveEventTo(e,n){const r=this,o=r.hitTest(e),i=r.applyDragOffset(null==o?void 0:o.date,e),a=new Date(n.startDate);i&&(a.setFullYear(i.getFullYear()),a.setMonth(i.getMonth()),a.setDate(i.getDate()),n.isInterDay||(n.allDay=!0),await r.setStartDate(n,a))}setEventData(e,n){super.setEventData(e,n);const r=this,{eventRecord:o}=r;let{startDate:i,endDate:a}=o;o.allDay&&(a=DateHelper.add(a,-1,"d")),r.days=r.makeDays(i,a)}setupEvent(e,n){super.setupEvent(e,n),this.eventRecord.allDay=!0}updateDays(e){const n=this;let{eventEl:r}=n;if(e){var o,i;r||(n.eventEl=r=DomHelper.createElement(_objectSpread2({},n.eventDom)),r.classList.add("b-allday"));const{dropRootElement:a}=n,{hideNonWorkingDays:l,visibleCellSelector:c,weekLength:d}=n.view,u=null===(o=n.dragging)||void 0===o||null===(i=o.peek("eventSourceHit"))||void 0===i?void 0:i.eventTop,p=DomHelper.children(a,`${c}${l?":not(.b-nonworking-day)":""}`),b=DomHelper.down(a,`${c}${l?":not(.b-nonworking-day)":""}[data-date='${e[e.length-1]}']`);DomHelper.down(b,".b-cal-event-bar-container").appendChild(r),r.style.left=DomHelper.percentify(100*(p.indexOf(b)-e.length+1)/d),r.style.width=DomHelper.percentify(100*e.length/d),u&&(r.style.top=u)}else r&&(r.classList.contains("b-cal-tentative-event")&&r.remove(),n.eventEl=null)}updateView(e,n){if(e){const n=DateHelper.diff(e.startDate,e.endDate,"d")>1;this.hoverable=this.draggable=n}super.updateView(e,n)}}class DayZone extends BaseDayZone{static get $name(){return"DayZone"}static get configurable(){return{dragEventId:null,hoverable:!0,hoverEdges:"tb",times:{$config:{equal:"array"},value:null}}}construct(...e){const n=this;super.construct(...e),n.allDayZone=new AllDayZone({active:n.active,owner:n.owner,view:n.view.allDayEvents,resource:n.resource})}syncDraggingElements(e,n){const{dragging:r}=this,{draggingItemCls:o}=r.source,i=r.itemElement.closest(".b-dayview-day-container").querySelectorAll(`[data-event-id="${e}"]`);for(const e of i)e.classList.toggle(o,n)}updateDragEventId(e,n){n&&this.syncDraggingElements(n,!1),e&&this.syncDraggingElements(e,!0)}get eventRecord(){var e;return super.eventRecord||(null===(e=this.allDayZone)||void 0===e?void 0:e.eventRecord)}set eventRecord(e){super.eventRecord=e}get recurring(){var e;return this.isCreating&&null!=(null===(e=this.eventRecord)||void 0===e?void 0:e.recurrenceRule)}get droppingAllDay(){var e,n;const r=null===(e=this.dropping)||void 0===e?void 0:e.peek("eventRecord");return(null==r?void 0:r.startDate)&&(null===(n=this.view)||void 0===n?void 0:n.isAllDayEvent(r))||!1}get useAllDay(){return this.droppingAllDay&&this.view.showAllDayHeader&&this.dropping.source!==this.allDayZone}get wasAllDay(){return this.droppingAllDay&&this.dropping.source===this.allDayZone}doDestroy(){var e;null===(e=this.allDayZone)||void 0===e||e.destroy(),super.doDestroy()}dragStart(){var e,n;super.dragStart(),this.dragEventId=null!==(e=null===(n=this.dragging.peek("eventRecord"))||void 0===n?void 0:n.id)&&void 0!==e?e:null}findRootElement(e){return e.eventContentElement}captureDragOffset(e,n,r){r.set("eventOffset",[Math.floor(DateHelper.diff(e.startDate,n.date,"m")),"m"])}cleanupDrag(){var e;this.dragEventId=null,super.cleanupDrag(),null===(e=this.allDayZone)||void 0===e||e.cleanupDrag()}cleanupDrop(){var e;super.cleanupDrop(),null===(e=this.allDayZone)||void 0===e||e.cleanupDrop()}dropHitCreate(e,n){const r=e.peek("eventCreate");let o,i,a=n.date,l=r.date,c=a,d=l;const u=!(DateHelper.clearTime(l)-DateHelper.clearTime(a)),p=e.ctrlKey&&!u;p||u?(c=DateHelper.clearTime(a),d=DateHelper.clearTime(l),l-=d,a-=c,c<d&&([d,c]=[c,d]),a<l&&([l,a]=[a,l]),d.setTime(d.getTime()+l),o=Math.max(30,Math.floor((a-l)/6e4)),p&&(i=DateHelper.diff(DateHelper.clearTime(d),DateHelper.clearTime(c),"d")+1)):(c<d&&([d,c]=[c,d]),o=Math.floor((c-d)/6e4)),this.setEventData({startDate:d,duration:o,recurrenceRule:p?`FREQ=DAILY;COUNT=${i}`:null})}dropHitMove(e,n,r){let o=n.date;const i=this,{view:a}=i,l=a.dayTime.startOfDay(o);i.useAllDay?i.allDayZone.dropHitMove(e,n,r):(r=i.eventRecord,o=i.applyDragOffset(o,e),a.showAllDayHeader&&o<l&&(o=l),i.setEventData({startDate:o,endDate:DateHelper.add(o,r.duration,r.durationUnit),duration:r.duration}))}dropHitResize(e,n,r){const o=this,{eventRecord:i}=o,a=n.date;r.atEnd?i.startDate<a&&o.setEventData({endDate:a}):a<i.endDate&&o.setEventData({startDate:a})}async moveEventTo(e,n){const r=this,o=r.hitTest(e),i=null==o?void 0:o.date;i&&(r.useAllDay?await r.allDayZone.moveEventTo(e,n):(r.wasAllDay&&(n.allDay=!1),await r.setStartDate(n,r.applyDragOffset(i,e))))}startCreate(e){this.createEvent({duration:0,durationUnit:"m",startDate:e})}includeDay(e,n,r,o){return DomHelper.createElement(_objectSpread2({parent:n},this.renderEvent(this.eventRecord,r,o)))}removeDay(e,n){n.classList.contains("b-cal-tentative-event")&&n.remove()}setEventData(e,n){const r=this;if(r.useAllDay)return void r.allDayZone.setEventData(e,n);super.setEventData(e,n);const{eventRecord:o}=r,{endDate:i,startDate:a}=o,{dayTime:l}=r.view;let c=i;r.recurring&&(c=DateHelper.add(c,o.recurrence.count-1,"d")),r.days=r.makeDays(a,c),r.times=[l.delta(a,"s"),l.delta(i,"s")]}setupEvent(e,n){const r=this;r.useAllDay?r.allDayZone.setupEvent(e,n):(this.wasAllDay&&(e.allDay=!1,e.endDate=DateHelper.add(e.startDate,e.duration=1,e.durationUnit="hour")),super.setupEvent(e,n))}updateDays(e,n){super.updateDays(e,n),this.updateTimes(this.times,null)}updateTimes(e){if(!e)return;const n=this,{allDayZone:r,dayValues:o,dragging:i,eventRecord:a,recurring:l,view:c}=n,{dayTime:d}=c,{endDate:u,startDate:p}=a,[b,g]=e,m=!(null!=i&&i.aborted)&&(null==i?void 0:i.peek("eventLeft")),f=!(null!=i&&i.aborted)&&(null==i?void 0:i.peek("eventWidth")),v=d.dateKey(p),y=d.dateKey(u),x=d.startOfDay(p)<d.startOfDay(u),C=100/d.duration("s");let S,D,E,k,T,{days:_}=n;if(_){for(S in o)D=S===v,k=o[S].style,T=b*C,E=(g-b)*C,DomSync.sync({targetElement:o[S],domConfig:n.renderEvent(n.eventRecord,D,S===_[_.length-1])}),!l&&x&&(E=D?100-T:S===y?T+E:100),k.top=l||D?DomHelper.percentify(T):0,k.height=DomHelper.percentify(E),m&&(k.left=m),f&&(k.width=`${f}px`);!_||_.length<2||l?(null==r||r.cleanupDrop(),_=null):r&&c.showAllDayHeader&&(r.eventRecord||(r.noTip=!0,r.createEvent({startDate:a.startDate,endDate:a.endDate})),r.eventRecord.set({startDate:a.startDate,endDate:DateHelper.add(a.startDate,_.length-1,"d")}),r.days=_)}}}class MonthZone extends Zone{static get $name(){return"MonthZone"}static get configurable(){return{coverage:{$config:{equal:ObjectHelper.isEqual},value:null},hoverable:!0,hoverEdges:"lr",hoverSelector:".b-cal-event-wrap.b-allday"}}findRootElement(e){return e.weeksElement}captureDragOffset(e,n,r){r.set("eventOffset",[Math.floor(DateHelper.diff(DateHelper.clearTime(e.startDate),n.date,"d")),"d"])}cleanupDrag(){super.cleanupDrag(),this.coverage=null}cleanupDrop(){super.cleanupDrop(),this.coverage=null}dropHitCreate(e,n){const r=e.ctrlKey,o=e.peek("eventCreate");let i,a,l,c,d,u,p,b=null;c=DateHelper.clearTime(n.date),d=DateHelper.clearTime(o.date),a=o.dayNumber,l=n.dayNumber,u=o.weekOffset,p=n.weekOffset,p<u&&([u,p]=[p,u]),r?(i=p-u+1,b=i>1?`FREQ=WEEKLY;COUNT=${i}`:null,c<d?(d=c,a<l&&(d=DateHelper.add(d,a-l,"d"))):l<a&&(d=DateHelper.add(d,l-a,"d")),l<a&&([a,l]=[l,a])):c<d&&([d,c]=[c,d],[a,l]=[l,a]),this.setEventData({startDate:d,duration:(r?l-a:DateHelper.diff(d,c,"d"))+1,durationUnit:"d",recurrenceRule:b})}dropHitNowhere(e){super.dropHitNowhere(e),this.coverage=null}setEventData(e,n){super.setEventData(e,n);const{dropping:r,eventRecord:o,view:i}=this,{visibleCellSelector:a,hideNonWorkingDays:l}=i,c=DomHelper.children(i.weeksElement,"> .b-calendar-week"),d={},add=e=>{const{startDate:n,endDate:r}=e;for(let e,o,u,p,b=0;b<c.length;++b){for(e=DomHelper.children(c[b],`${a}${l?":not(.b-nonworking-day)":""}`),p=e.length,o="",u=0;u<p;++u){const a=i.getDateFromElement(e[u]),l=DateHelper.add(a,1,"d");n<l&&a<r&&(!u&&n<a&&(o="<"),o+=u,u===p-1&&l<r&&(o+=">"))}o&&(d[b]||(d[b]=[])).push(o)}};null!=r&&r.has("eventRecord")||!o.recurrence?add(o):o.recurrence.forEachOccurrence(i.startDate,i.endDate,add),this.coverage=d}updateCoverage(e){const n=this,{dragging:r,weekValues:o,view:i}=n,{visibleCellSelector:a,hideNonWorkingDays:l}=i,c=e&&(null==r?void 0:r.peek("eventSourceHit")),d=null==c?void 0:c.eventTop,u={},p=i.getWeekElementFor(null==c?void 0:c.eventElement),{weekElements:b}=i;let g,m,f,v,y,x,C,S,D,E,k;for(n.weekValues=u,D=0;D<b.length;++D)if(v=null==e?void 0:e[D])for(k=b[D],m=DomHelper.children(k,`${a}${l?":not(.b-nonworking-day)":""}`),E=0;E<v.length;++E){var T;(x=null==o||null===(T=o[D])||void 0===T?void 0:T.shift())||(x=DomHelper.createElement(n.eventDom)),(u[D]||(u[D]=[])).push(x),f=v[E],C=f.includes("<")?1:0,S=f.includes(">")?1:0,f=f.substr(C,f.length-S-C),x.classList[C?"add":"remove"]("b-continues-left"),x.classList[S?"add":"remove"]("b-continues-right"),x.style.left=DomHelper.percentify(100*Number(f[0])/m.length),x.style.width=DomHelper.percentify(100*f.length/m.length),d&&k===p&&(x.style.top=d),g=m[Number(f[f.length-1])],y=DomHelper.down(g,".b-cal-event-bar-container"),y!==x.parentNode&&y.appendChild(x)}if(o)for(D in o)o[D].forEach((e=>{e.classList.contains("b-cal-tentative-event")&&e.remove()}))}}class OverflowZone extends Zone{static get $name(){return"OverflowZone"}static get configurable(){return{droppable:!1,dragProxy:{type:"default",open(e){const n=this,{owner:r}=e.source.view,o=e.element.closest(".b-cal-event-wrap");n.proxyEl=o.cloneNode(!0),n.proxyEl.classList.add("b-cal-drag-proxy"),n.proxyEl.style.width=`${o.offsetWidth}px`,n.proxyOffset=EventHelper.getClientPoint(e.startEvent).getDelta(Rectangle.from(o)),r.contentElement.appendChild(n.proxyEl)},dragMove(e){this.proxyEl&&DomHelper.alignTo(this.proxyEl,EventHelper.getClientPoint(e.event).translate(10,10),{align:"t0-t0"})},close(){var e;null===(e=this.proxyEl)||void 0===e||e.remove()}}}}findRootElement(e){return e.contentElement}beforeDrag(e){const n=this.hitTest(e);if("event"!==(null==n?void 0:n.type))return!1;e.set("eventRecord",n.eventRecord),e.set("eventDragMode",e[Bl]=zl.move.mode)}dragStart(){this.view.hide()}}class YearZone extends Zone{static get $name(){return"YearZone"}dragEnter(e){const n=super.dragEnter(e);return!1!==n&&this.view.contentElement.classList.add(this.draggingCls),n}dragLeave(e){super.dragLeave(e),this.view.contentElement.classList.remove(this.draggingCls)}dropHitCreate(e,n,r){let o=DateHelper.clearTime(n.date),i=DateHelper.clearTime(r.date);o<i&&([i,o]=[o,i]);const a=this,l=a.makeDayRange(i,o);a.setEventData({startDate:i,endDate:DateHelper.add(o,1,"d")}),a.days=l}dropHitMove(e,n,r){super.dropHitMove(e,n,r);const o=this,i=o.eventRecord;let{endDate:a}=i;i.allDay&&(a=DateHelper.add(a,-1,"d")),o.days=o.makeDayRange(i.startDate,a)}includeDay(e){const n=DomHelper.children(this.view.bodyElement,`[data-date='${e}']`);return n.forEach((e=>e.classList.add("b-cal-tentative-event"+(this.view.hideNonWorkingDays?":not(.b-nonworking-day)":"")))),n}makeDayRange(e,n){const r=[];for(let o=e;o<=n;o=DateHelper.add(o,1,"d"))r.push(DateHelper.format(o,Nl));return r}removeDay(e,n){n.forEach((e=>e.classList.remove("b-cal-tentative-event")))}}class ResourceViewZone extends Base{static get configurable(){return{view:null,zones:{$config:["nullify"],value:[]}}}updateView(e){e.eachView((e=>{this.onResourceViewViewCreate({view:e})})),e.on({viewCreate:"onResourceViewViewCreate",thisObj:this})}onResourceViewViewCreate({view:e}){const{zones:n,owner:r}=this,o=r.client.constructor.Modes,i=r.getViewZoneType(o.resolveType(e.type));i&&n.push(r.createZone(i,{view:e,resource:e.defaultCalendar}))}changeZones(e,n){if(null!=n&&n.length&&!e)for(let e=0,{length:r}=n;e<r;e++)n[e].destroy();return e}}class CalendarDrag extends CalendarFeature{static get $name(){return"CalendarDrag"}static get type(){return"drag"}static get configurable(){return{disableOnReadOnly:!0,localizableProperties:["newName","recurrenceTip"],creatable:!0,draggable:!0,footer:{className:"b-cal-event-footer"},gripper:{class:"b-gripper"},newName:"L{newEvent}",recurrenceTip:"(L{holdCtrlForRecurrence})",resizable:!0,tooltip:{$config:["lazy","nullify"],value:{type:"eventTip",disabled:!0,forSelector:null,tools:null}},validateCreateFn:()=>{},validateMoveFn:()=>{},validateResizeFn:()=>{}}}changeGripper(e,n){return null==n||n.remove(),e&&DomHelper.createElement(e)}changeTooltip(e,n){return e&&(e=!0===e?this.constructor.configurable.tooltip.value:e,this.initialConfig.tooltip&&(e.disabled=!1),e.ownerFeature=this),Widget.reconfigure(n,e,this)}getViewZoneType(e){return e.isDayView?DayZone:e.isMonthView?MonthZone:e.isYearView?YearZone:e.isResourceView?ResourceViewZone:void 0}get owner(){return this.client}}CalendarDrag.initClass(),CalendarDrag._$name="CalendarDrag";class EventEditor$1 extends EventEditor{static get $name(){return"EventEditor"}static get type(){return"calendareventeditor"}static get configurable(){return{align:{monitorResize:!0}}}updateRecord(e){this.fixTimeFieldVisibility(e.allDay),super.updateRecord(e)}onAllDayChange({value:e,userAction:n}){this.fixTimeFieldVisibility(e,n)}fixTimeFieldVisibility(e,n){const r=e?"hide":"show",o=e?"remove":"add",{startDateField:i,startTimeField:a,endDateField:l,endTimeField:c}=this.widgetMap;a&&a[r](),c&&c[r](),null==i||i.element.classList[o]("b-inline"),null==l||l.element.classList[o]("b-inline"),!e&&n&&(i&&(i.value=a.value=this.record.getData("startDate")),l&&(l.value=c.value=this.record.getData("endDate")))}onBeforeShow(){const{deleteButton:e}=this.widgetMap;super.onBeforeShow(...arguments),e.hidden||this.record.meta.isCreating&&e.hide()}showBy(e){const n=EventEditor$1.fromElement(e);n&&(this.owner=n),super.showBy(e)}afterHide(){this.owner=this.initialConfig.owner,super.afterHide(...arguments)}}EventEditor$1.initClass(),EventEditor$1._$name="EventEditor";class EventEdit$1 extends EventEdit{static get $name(){return"EventEdit"}static get type(){return"eventEdit"}static get configurable(){return{editorConfig:{type:"calendareventeditor",items:{resourceField:{label:"L{Calendar}",showEventColor:!0},allDay:{type:"checkbox",cls:"b-match-label",name:"allDay",weight:250,label:"L{All day}",listeners:{change:"up.onAllDayChange"}}}}}}construct(e){super.construct(e.client,e)}onDragCreateEnd({eventRecord:e}){this.editNewlyCreatedEvent(e)}onEventAutoCreated({eventRecord:e}){this.editNewlyCreatedEvent(e)}editNewlyCreatedEvent(e){if(!this.disabled)return e.meta.isCreating=!0,this.editEvent(e)}async doEditEvent(e,n,r){var o;const i=this,{client:a}=i,{eventStore:l}=a;let c=a.eventSource||a.activeView,d=!1;if(!c.isCalendarMixin)return;DateHelper.intersectSpans(e.startDate,e.endDate,c.startDate,c.endDate)||(a.date=e.startDate),e.isOccurrence||l.includes(e)||(d=e.meta.isCreating=!0,await l.addAsync(e)),e.isInterDay&&c.allDayEvents&&c.showAllDayHeader&&(c=c.allDayEvents);const{_overflowPopup:u}=c,p=c.getDateFromElement(r),b=!e.meta.isCreating||!d;let g=null==u?void 0:u.isVisible,m=g?u.getEventElement(e):c.getEventElement(e,p);var f;(g&&(m?g=!1:m=u.getEventElement(e)),e.meta.isCreating)&&(null===(f=a.onEventCreated)||void 0===f||f.call(a,e));if(g)m.focus();else if(m){var v,y;if(b&&null!==(v=c.scrollable)&&void 0!==v&&v.hasOverflow)await(null===(y=c.scrollable)||void 0===y?void 0:y.scrollIntoView(m,{animate:!0,focus:!0}));else DomHelper.focusWithoutScrolling(m)}else{if(!e.isInterDay&&c.hiddenNonWorkingDays[e.startDate.getDay()])return void i.internalShowEditor(e,null,{target:!0});b?await c.scrollTo(e):await c.await("refresh",!1),m=c.getEventElement(e)}m||r||!c.isDayCellRenderer||(m=c.getCell(e.startDate)),i.internalShowEditor(e,null,{target:m||r,allowTargetOut:c.isAnimating}),null!==(o=i.editor)&&void 0!==o&&o.lastAlignSpec&&(i.editor.lastAlignSpec.allowTargetOut=!1)}async onSaveClick(){const e=this,{eventRecord:n}=e,{isCreating:r}=n.meta;e.isValid&&(n.meta.isCreating=!1);const o=await super.onSaveClick(...arguments);var i;r&&o&&(e.eventStore.added.add(n),e.eventStore.usesSingleAssignment||e.assignmentStore.added.add(n.assignments),null!==(i=e.client.crudManager)&&void 0!==i&&i.autoSync&&e.client.crudManager.scheduleAutoSync())}internalShowEditor(){var e,n,r,o;const{client:i,startTimeField:a,endTimeField:l}=this,c=null!==(e=null===(n=i.activeView)||void 0===n?void 0:n.autoCreate)&&void 0!==e?e:i.autoCreate||i.constructor.configurable.autoCreate,d=null==c?void 0:c.step;null===(r=i.features.eventTooltip)||void 0===r||null===(o=r._tooltip)||void 0===o||o.hide(),!1!==super.internalShowEditor(...arguments)&&d&&(a&&(a.step=d),l&&(l.step=d))}}CalendarFeature.register(EventEdit$1.type,EventEdit$1),EventEdit$1._$name="EventEdit";class EventMenu$1 extends EventMenu{static get $name(){return"EventMenu"}static get type(){return"eventMenu"}changeMenu(){const e=super.changeMenu(...arguments);return null==e||e.on({beforeShow({source:e}){e.owner=e.constructor.fromElement(this.menuContext.targetElement)},thisObj:this}),e}changeItems(e){return(e=super.changeItems(...arguments)).unassignEvent=null,e}}CalendarFeature.register(EventMenu$1.type,EventMenu$1),EventMenu$1._$name="EventMenu";const hasEventStore$1=e=>e.eventStore,Wl=["activeElement","client","clientListeners","disabled","showOn","tooltip"];class EventTooltip$1 extends CalendarFeature{static get $name(){return"EventTooltip"}static get type(){return"eventTooltip"}static get configurable(){return{activeElement:null,showOn:"click",closable:!0,axisLock:"flexible",tooltip:{$config:["lazy","nullify"],value:{type:"eventTip",align:{monitorResize:!0}}},titleRenderer:e=>StringHelper.encodeHtml(e.name),recurrenceConfirmation:{$config:["lazy","nullify"],value:{type:"recurrenceconfirmation"}},extendAllDayEndDay:null}}static get pluginConfig(){return{chain:["render"]}}get isVisible(){return!0}changeRecurrenceConfirmation(e,n){return e&&(e.rootElement=this.owner.rootElement),Widget.reconfigure(n,e,{owner:this})}changeTooltip(e,n){return Widget.reconfigure(n,e,{owner:this,setup:"setupTooltip"})}setupTooltip(e){const n=this,r=n.config;return Wl.forEach((e=>delete r[e])),EventTip.mergeConfigs(r,{ownerFeature:n,id:`${n.client.id}-event-tip`,forSelector:"hover"===n.showOn&&".b-cal-event-wrap:not(.b-editing)",cls:{"b-eventedit":n.client.features.eventEdit},disabled:n.disabled,listeners:{thisObj:n,delete:"onDeleteClick",edit:"onEditClick",pointerOver:"onTipPointerOver",hide(){n.activeElement=null}}},e)}render(){const e=this,n={beforeEventDelete:"onRecurrableEventBeforeDelete",eventsPerCellChange:"onClientEventsPerCellChange",navigate:"onClientNavigate",thisObj:e};"hover"===e.showOn?e.getConfig("tooltip"):n[`event${e.showOn}`]="onClientTooltipGesture",e.client.on(n)}get owner(){var e;return null!==(e=this.client.activeView._overflowPopup)&&void 0!==e&&e.containsFocus?this.client.activeView.overflowPopup:this.client}addListener(...e){var n;null===(n=this.tooltip)||void 0===n||n.addListener(...e)}removeListener(...e){var n;null===(n=this.tooltip)||void 0===n||n.removeListener(...e)}onRecurrableEventBeforeDelete({eventRecords:e,context:n}){var r;const[o]=e;if((o.isOccurrence||o.isRecurring)&&null!==(r=this._tooltip)&&void 0!==r&&r.isVisible)return this.recurrenceConfirmation.confirm({actionType:"delete",eventRecord:o,changerFn(){n.finalize(!0)},cancelFn(){n.finalize(!1)}}),!1}onEditClick(){var e,n;const{client:r,activeClient:o,tooltip:i}=this,{overflowPopup:a}=o,l=(null==o||null===(e=o.features)||void 0===e?void 0:e.eventEdit)||r.features.eventEdit,c=(null==a||null===(n=a.element)||void 0===n?void 0:n.contains(i.activeTarget))?a.targetCell:i.activeTarget;l&&!l.disabled&&(l.editEvent(this.eventRecord,null,c),i.hide())}onDeleteClick(){this.activeClient.removeEvents([this.eventRecord])&&this.tooltip.hide()}onClientEventsPerCellChange(){var e,n;null===(e=this._tooltip)||void 0===e||e.requestAnimationFrame(null===(n=this._tooltip)||void 0===n?void 0:n.hide)}onClientNavigate(e){var n;!e.item&&this.owner.owns(e.event)||(null===(n=this._tooltip)||void 0===n||n.hide())}onClientTooltipGesture({domEvent:e,event:n,eventElement:r,eventRecord:o,source:i}){this.activeElement=r,e=e||n,!1!==this.onTipPointerOver({event:e,target:r,eventRecord:o,owningCalendarWidget:i})&&this.tooltip.showByEvent(e,r)}onTipPointerOver({target:e,owningCalendarWidget:n,eventRecord:r}){var o,i,a;n||(n=null===(a=Widget.fromElement(e))||void 0===a?void 0:a.closest(hasEventStore$1));return r||(r=n.getEventRecord(e)),(null===(o=this.client.features)||void 0===o||null===(i=o.eventEdit)||void 0===i||!i.isEditing)&&(n&&(this.activeClient=n,r=n.getEventRecord(e),this.tooltip.eventRecord=this.eventRecord=r),null!=r)}updateActiveElement(e,n){null==n||n.classList.remove("b-cal-event-reveal"),null!=e&&e.classList.contains("b-cal-in-cluster")&&(null==e||e.classList.add("b-cal-event-reveal"))}updateDisabled(e,n){super.updateDisabled(e,n),this._tooltip&&(this._tooltip.disabled=e)}}EventTooltip$1.initClass(),EventTooltip$1._$name="EventTooltip";const Ul={magnitude:1,unit:"hour"};class ExternalZone extends(Base.mixin(Draggable)){static get configurable(){return{dragItemSelector:".b-grid-row",droppable:!1,dragProxy:{type:"default",open(e){return this.owner.owner.openProxy(e)},dragMove(e){return this.owner.owner.moveProxy(e)},close(){var e;null===(e=this.owner.owner.proxyEl)||void 0===e||e.remove()}}}}beforeDrag(e){return this.owner.onDragStart(e)}}class ExternalEventSource extends(CalendarFeature.mixin(Delayable)){static get $name(){return"ExternalEventSource"}static get delayable(){return{onCalendarPaint:"raf"}}static get type(){return"externalEventSource"}static get configurable(){return{grid:{$config:["lazy"],value:null},dragRootElement:null,dragItemSelector:null,getRecordFromElement:function(e){const n=this.grid||(this.grid=Widget.fromElement(e,"grid"));return n?n.getRecordFromElement(e):e.innerText},hideExternalProxy:!0,draggable:{$config:["lazy"],value:{}}}}onCalendarPaint({firstPaint:e}){e&&this.getConfig("draggable")}onDragStart(e){var n;const r=this,{client:o}=r,{eventStore:i}=o,{modelClass:a}=i;if(!e.itemElement)return!1;let l=r.callback(r.getRecordFromElement,r,[e.itemElement]);if(l.isModel)l.isEventModel||(l=i.createRecord(l.data));else{if("string"==typeof l){const e=o.activeView.autoCreate||o.autoCreate,n=DateHelper.parseDuration((null==e?void 0:e.duration)||Ul);l={[a.getFieldDataSource("name")]:l,[a.getFieldDataSource("duration")]:n.magnitude,[a.getFieldDataSource("durationUnit")]:n.unit}}l=i.createRecord(l)}e.set("sourceStore",null===(n=r.grid)||void 0===n?void 0:n.store),e.set("eventRecord",l)}openProxy(e){const{grid:n}=this,r=e.element.closest(this.draggable.dragItemSelector),o=r.querySelector('[data-column="name"]'),i=this.proxyEl=DomHelper.createElement({className:"b-grid-to-cal-drag-proxy"});i.innerHTML=o?o.innerHTML:e.peek("eventRecord").name,this.proxyOffset=EventHelper.getClientPoint(e.startEvent).getDelta(Rectangle.from(r)),((null==n?void 0:n.element)||this.dragRootElement).parentNode.appendChild(i)}moveProxy(e){const{proxyEl:n}=this;n&&(this.client.owns(e.targetElement)&&this.hideExternalProxy?n.classList.add("b-hide-display"):(n.classList.remove("b-hide-display"),DomHelper.alignTo(n,EventHelper.getClientPoint(e.event).translate(10,10),{align:"t0-t0"})))}changeDragRootElement(e){return"string"==typeof e&&(e=document.querySelector(e)||document.getElementById(e)),e}changeDraggable(e){const{grid:n}=this,r=(null==n?void 0:n.contentElement)||this.dragRootElement,{dragItemSelector:o}=this;return e=ExternalEventSource.mergeConfigs({owner:this,grid:n},e),r&&(e.dragRootElement=r),o&&(e.dragItemSelector=o),new ExternalZone(e)}changeGrid(e){return"string"==typeof e&&(e=Widget.getById(e)),e}}ExternalEventSource.initClass(),ExternalEventSource._$name="ExternalEventSource";class LoadOnDemand extends CalendarFeature{static get type(){return"loadOnDemand"}static get configurable(){return{startDateParamName:"startDate",endDateParamName:"endDate",dateFormat:"YYYY-MM-DD"}}construct(e){e.client.on({dateRangeChange:"onClientDateRangeChange",thisObj:this}),super.construct(...arguments)}onClientDateRangeChange({new:{startDate:e,endDate:n}}){this.disabled||this.loadDateRange(e,n)}loadDateRange(e,n){const{crudManager:r}=this.client;return r.load({request:{params:{[this.startDateParamName]:DateHelper.format(e,this.dateFormat),[this.endDateParamName]:DateHelper.format(n,this.dateFormat)}}})}}LoadOnDemand.initClass(),LoadOnDemand._$name="LoadOnDemand";class Printer extends Exporter{restoreState({client:e}){}saveState({client:e}){}cloneElement(e,n=this.element,r=!0){r&&(n.innerHTML=""),n.appendChild(e.cloneNode(!0))}pageTpl(e){const{config:n,title:r,header:o,footer:i,styles:a,htmlClasses:l,bodyStyle:c,bodyClasses:d=[`b-${this.constructor.type}`,...this.owner.bodyClasses,...Widget.outerCls],paperHeight:u,paperWidth:p,html:b}=e,g=BrowserHelper.isSafari?"":"window.removeElement && window.removeElement();",m=null!=n&&n.debug?"":`<script type="text/javascript">window.addEventListener('load', function() { window.print(); ${g} });<\/script>`;return TemplateHelper.tpl`
            <!DOCTYPE html>
            <html class="${l}" style="width: ${p}in; height: ${u}in;">
                <head>
                    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
                    <title>${r}</title>
                    ${a.join("")}
                </head>
                <body class="b-print ${d.join(" ")}" style="width: ${p}in; height: ${u}in; ${c}">
                    <div class="b-print-content">
                        ${o&&`<div class="b-print-header" style="width: 100%">${o}</div>`}
                        <div class="b-print-body"><div class="b-print-viewport">${b}</div></div>
                        ${i&&`<div class="b-print-footer" style="width: 100%">${i}</div>`}
                    </div>
                    ${m}
                </body>
            </html>`}}Printer._$name="Printer";const Gl={configurable:!0,get:()=>Number.MAX_SAFE_INTEGER};class CalendarPrinter extends Printer{static get $name(){return"CalendarPrinter"}static get type(){return"calendar"}getTotalHeight(e){const{activeView:n}=e;switch(e.mode){case"agenda":return n.virtualScrollHeight;case"day":case"week":return n.dayContentElement.scrollHeight+n.alldayRowElement.offsetHeight;case"month":if(this.owner.wysiwyg)return n.weeksElement.scrollHeight+n.weekdaysHeader.offsetHeight+10;break;case"year":return this.inchToPx(Us.A4.width)}}getTotalWidth(e){return"year"===e.mode?this.inchToPx(Us.A4.height):this.inchToPx(Us.A4.width)}async prepareComponent(e){const n=this,{owner:r}=n,{wysiwyg:o}=r,i=!o,{client:a}=e,{activeView:l}=a;if(n.exportMeta={title:r.callback(r.titleRenderer,r,[l]),totalWidth:n.getTotalWidth(a),totalHeight:n.getTotalHeight(a),subGrids:{}},"month"===a.mode&&i&&(Object.defineProperty(l,"eventsPerCell",Gl),l.doRefresh()),n.cloneElement(l.currentElement),"month"===a.mode){let e;i&&(e=l.shrinkwrapRowHeights,delete l.eventsPerCell,l.doRefresh(),n.exportMeta.totalHeight=l.weekdaysHeader.offsetHeight+e.reduce(((e,n)=>e+n),5)),l.weekElements.forEach(((r,a)=>{const l=n.element.querySelector(`[data-week="${r.dataset.week}"]`);l.style.minHeight="",l.style.flex=i?`0 0 ${e[a]}px`:o?`1 0 ${r.offsetHeight}px`:`1 0 ${250/6}mm`}))}}pxToInch(e){return(e/96).toFixed(2)}}CalendarPrinter.prototype.pagesExtractor=async function*pagesExtractor(e){const n=this,{totalHeight:r,totalWidth:o,title:i}=n.exportMeta;yield{html:n.pageTpl({config:e,title:i,html:n.prepareExportElement(),styles:n.stylesheets,paperWidth:n.pxToInch(o),paperHeight:n.pxToInch(r)})}},CalendarPrinter._$name="CalendarPrinter";const Yl=Object.freeze([]);class Print extends CalendarFeature{static get $name(){return"Print"}static get type(){return"print"}static get configurable(){return{printer:{$config:["lazy","nullify"],value:{type:"calendar"}},wysiwyg:!1,titleRenderer:e=>e.description,printers:new Map([[CalendarPrinter.type,CalendarPrinter]])}}construct(){super.construct(...arguments),this.client.print=this.print.bind(this)}changePrinter(e){const n=this,r=n.printersMap||(n.printersMap=new Map);if(e){let o;const{type:i}=e;if(r.has(i))o=r.get(i),o.setConfig(e);else{const a=n.printers.get(i);if(!a)throw new Error(`Printer type ${i} is not found. Make sure you've configured it`);(e=ObjectHelper.clone(e)).owner=n,o=new a(e),o.relayAll(n),r.set(i,o)}return o}r.forEach((e=>e.destroy()))}get bodyClasses(){return this.shrinkwrapRowHeights?["b-shrinkwrap-row-heights"]:Yl}async print(e={}){const n=this,{client:r,printer:o}=n,i=`${r.id}-print-iframe`;if(!1!==r.trigger("beforePrint",{config:e,printer:o})){e.client=r;const o=await n.printer.export(e);if(!e.debug){var a;null===(a=document.getElementById(i))||void 0===a||a.remove();const e=DomHelper.createElement({id:i,class:"b-calendar-print-iframe",tag:"iframe",parent:document.body});return e.contentWindow.removeElement=()=>{e.remove(),r.trigger("print",o)},e.contentWindow.document.write(o[0].html),e.contentWindow.document.close(),o}r.trigger("print",o)}}}Print.initClass(),Print._$name="Print";class ScheduleMenu$1 extends ScheduleMenu{static get $name(){return"ScheduleMenu"}static get type(){return"scheduleMenu"}getDataFromEvent(e){const{client:n}=this,r=n.resolveResourceRecord(e)||n.defaultCalendar;return Object.assign(super.getDataFromEvent(e),{resourceRecord:r})}shouldShowMenu({date:e,targetElement:n}){return Boolean(e&&!n.closest(this.client.eventSelector))}}CalendarFeature.register(ScheduleMenu$1.type,ScheduleMenu$1),ScheduleMenu$1._$name="ScheduleMenu";class WeekExpander extends CalendarFeature{static get $name(){return"WeekExpander"}static get type(){return"weekExpander"}static get pluginConfig(){return{chain:["render"]}}render(){const{client:e}=this,n=this.monthView=e.isMonthView?e:e.modes.month;if(n){const{weekRenderer:e}=this;n.showWeekColumn=!0,n.weekRenderer=n.weekRenderer?FunctionHelper.createSequence(n.weekRenderer,e):e,n.on({weeknumberclick:"onWeekNumberClick",thisObj:this,prio:1e4})}}weekRenderer(e,[n,r]){e.querySelector(".b-week-toggle-tool-wrap")||DomHelper.createElement({parent:e,className:"b-week-toggle-tool-wrap",children:[{className:"b-icon b-week-toggle-tool",dataset:{btip:this.L("L{WeekExpander.expandTip}")}}]})}onWeekNumberClick({domEvent:e,date:n}){const r=e.target.closest(".b-week-toggle-tool");if(r&&!this.disabled){const o=e.target.closest(".b-calendar-row");return o.classList.contains("b-shrinkwrapped")?(this.monthView.flexWeekRow(n),r.dataset.btip=this.L("L{expandTip}")):o.classList.contains("b-has-overflow")&&(this.monthView.shrinkwrapWeekRow(n),r.dataset.btip=this.L("L{collapseTip}")),!1}}updateDisabled(e,n){super.updateDisabled(e,n),this.client.element.classList.toggle("b-weekexpander",!e)}}WeekExpander.initClass(),WeekExpander._$name="WeekExpander";class DayLayout extends(Base.mixin(Factoryable)){static get factoryable(){}static get configurable(){return{overlapTolerance:null}}clusterize(e,n,r){const o=e[e.length-1]||null;n.push(r),o&&this.overlaps(o,r)?(r.cluster=o,o.end=Math.max(o.end,r.end),o.items.push(r)):e.push(r.cluster={start:r.start,end:r.end,items:[r]})}layoutEvents({date:e,tomorrow:n,events:r,dayTime:o,denominator:i=100,numerator:a=1e4}){const l=this,c=o.duration("s"),scaleFn=(e,n)=>(e=Math.round(e*a)/i,n?`calc(${DomHelper.percentify(e)} ${n<0?"-":"+"} ${Math.abs(n)}px)`:e),d=[],u=[];let p,b,g;for(p=0,g=(r=o.sortEvents(e,r.slice())).length;p<g;p++)b=l.createLayoutItem(o,r[p],e),l.clusterize(d,u,b);for(p=0,g=d.length;p<g;++p)l.layoutCluster(d[p],scaleFn,o);for(p=0,g=u.length;p<g;p++)b=u[p],b.top=scaleFn(b.start/c),b.bottom=scaleFn(b.end/c),b.height=b.bottom-b.top;return u}createLayoutItem(e,n,r){const o=e.duration("s"),{startShift:i,timeStart:a}=e,{allDay:l,startDate:c,endingDate:d}=n,u=(i-a)/1e3,p=DateHelper.diff(r,c,"s")+u,b=DateHelper.diff(r,d,"s")+u;return{eventRecord:n,startsBefore:p<0,endsAfter:b>o,start:l?0:Math.max(p,0),end:l?o:Math.min(b,o)}}overlaps(e,n,r=60*this.overlapTolerance){return r=r||0,e.start<n.end-r&&n.start<e.end-r}}DayLayout._$name="DayLayout";class FluidDayLayout extends DayLayout{static get type(){return"fluid"}static get configurable(){return{clearanceMinutes:45,escapeMinutes:null,gutter:!0,gutterWidth:5,indentWidth:10,staggerMaximum:null,staggerMinimum:.4,staggerWidth:!0,stretch:null}}layoutCluster(e,n,r){const o=this,{indentWidth:i,staggerMaximum:a,staggerMinimum:l,stretch:c}=o,{items:d}=e,{length:u}=d,p=o.gutter?o.gutterWidth:0,b=p>=1,g=i>=1,m=[0,0],f=[0,0],v=o.treeify(e);let y,x,C,S,D,E,k,{staggerWidth:T}=o;!0===T&&(T=p);const _=v.reduce(((e,n)=>e+n))/v.length,M=v.length,R=T>=1,I=v.map(g?e=>i*(e-_):e=>(1+e*i)/M),F=!g&&I.reduce(((e,n)=>e+n)),A=I.map(g?(e,n)=>n?I.slice(0,n).reduce(((e,n)=>e+n)):0:(e,n)=>n?I.slice(0,n).reduce(((e,n)=>e+n/F),0):0);if(c)for(S=I.length;S-- >1;)I[S-1]+=I[S];for(S=0;S<u;S++)C=(E=d[S]).depth,y=C.major,x=g?1/M:I[y]/F,D=g?y*x:A[y],k=T*(C.height+C.overlap),k=a?Math.min(a,k):k,m[0]=g?D:D+C.minor*i*x,m[1]=g?C.minor*i+A[y]:0,f[0]=c?1-m[0]:x-m[0]+D,f[1]=(g?I[y]:0)-(m[1]-A[y]),(c||y+1===M)&&(f[b?1:0]-=b?p:p*x),l&&(E.minWidth=f[1]?`calc(${l} * (${DomHelper.percentify(n(f[0]))} - ${-f[1]}px))`:`calc(${l} * ${DomHelper.percentify(n(f[0]))})`),f[R?1:0]-=R?k:k*x,E.left=n(...m),E.width=n(...f)}treeify(e){const n=this,{clearanceMinutes:r,escapeMinutes:o,stretch:i}=n,{items:a}=e,{length:l}=a,c=60*r,d=60*o,u=60*(n.overlapTolerance||0),p=[0];let b,g,m,f,v,y,x,C,S,D=null;for(f=0;f<l;f++,D=v)if(v=a[f],v.parent=null,v.maxEnd=v.end,v.depth=m={depth:0,height:0,overlap:0,major:0,minor:0},D){for(b=null,g=0,x=D;x;x=x.parent)if(n.overlaps(x,v,u)){if(v.start===x.start)break;g=Math.max(i?x.depth.depth:x.depth.minor,g)}else b=x,i||b.depth.minor||(b.depth.major||v.start>=b.maxEnd-u)&&(g=0);if(b){if(!(C=b.parent)){m.overlap=g;continue}}else C=D;if(o&&v.start-C.start>=d){for(;C.parent;)C=C.parent;if(!n.overlaps(C,v,u))continue}for(v.parent=C,y=v.start-C.start>=c,S=C.depth,m.major=S.major+(y?0:1),m.minor=y?S.minor+1:0,m.depth=S.depth+1,m.overlap=y||i?b?Math.max(0,g-m.minor):S.overlap:0,x=C;x&&(S=x.depth,i||S.major===m.major);x=x.parent)x.maxEnd=Math.max(x.maxEnd,v.end),S.height=Math.max(S.height,m.depth-S.depth);p[m.major]=Math.max(p[m.major]||0,m.minor)}return p}}FluidDayLayout.initClass(),FluidDayLayout._$name="FluidDayLayout";var CalendarStores=e=>class CalendarStores extends(ProjectConsumer(e||Base)){static get $name(){return"CalendarStores"}static get configurable(){return{defaultCalendar:null,crudManagerClass:null,crudManager:null}}static get projectStores(){return{resourceStore:{dataName:"resources",listeners:{changePreCommit:"onCalendarStoreChange"}},eventStore:{dataName:"events",listeners:{changePreCommit:"onCalendarStoreChange"}}}}removeEvents(e,n=null){if(!this.readOnly&&e.length){const r={finalize(r=!0){n&&n(r),!1!==r&&e.forEach((e=>e.remove()))}};if(!1!==this.trigger("beforeEventDelete",{eventRecords:e,context:r}))return r.finalize(),!0}return!1}changeCrudManager(e){const n=this;e&&!e.isCrudManager&&(e=n.crudManagerClass.new({scheduler:n},e)),n._crudManager=e,n.bindCrudManager(e)}get defaultCalendar(){const{eventStore:e}=this,n=null!=this._defaultCalendar?this._defaultCalendar:e.defaultCalendarId;return null!=n?n.isResourceModel?n:e.resourceStore.getById(n):e.resourceStore.first}get defaultCalendarId(){return this.eventStore.modelClass.asId(this.defaultCalendar)}updateProject(e,n){super.updateProject(e,n),this.detachListeners("CalendarStores"),e.on({name:"CalendarStores",dataReady:"onCalendarStoreChange",refresh:"onProjectRefresh",thisObj:this})}onProjectRefresh({source:e,isInitialCommit:n}){n&&e.eventStore.invalidateDayIndices()}updateEventStore(e,n){if(n&&delete n.createRecord,e&&!e.isCalendarEventStore){const n=this;Object.defineProperty(e,"defaultCalendar",{get:()=>n.defaultCalendar}),e.isCalendarEventStore=!0}}get widgetClass(){}};class EventSlots extends Base{construct(){this.slots=[],this.firstFreeSlot=this.length=0}set(e,n){const r=this,{slots:o}=r;if(null==e)return r.add(n);if(o[e]||r.length++,o[e]=n,r.firstFreeSlot===e)for(;o[r.firstFreeSlot];)r.firstFreeSlot++}add(e){const n=this.firstFreeSlot;for(this.slots[n]=e,this.length++;this.slots[this.firstFreeSlot];)this.firstFreeSlot++;return n}forEach(e,n=this){return this.slots.forEach(e,n)}setEvents(e){this.slots=e,this.length=this.firstFreeSlot=e.length}}EventSlots._$name="EventSlots";class EventSorter extends Base{static defaultSorterFn(e,n){e=e.eventRecord||e,n=n.eventRecord||n;const{startDate:r}=e,{startDate:o}=n;return r?o?r-o||n.durationMS-e.durationMS:1:-1}static interDaySorterFn(e,n){e=e.eventRecord||e,n=n.eventRecord||n;const{startDate:r,isInterDay:o}=e,{startDate:i,isInterDay:a}=n;return r?i?o!==a?Number(a)-Number(o):r-i||n.durationMS-e.durationMS:1:-1}}EventSorter._$name="EventSorter";const hasEventStore$2=e=>e.eventStore,Kl=/(touch|mouse|pointer|key|context|dbl)(.*)/,eventPartReplacer=(e,n,r)=>`${StringHelper.capitalize(n)}${StringHelper.capitalize(r)}`;var SchedulerInterface=e=>class SchedulerInterface extends(e||Base){static get $name(){return"SchedulerInterface"}calendarHitTest(e){const{activeView:n}=this,r=DomHelper.getEventElement(e);return null!=n&&n.element.contains(r)?n.calendarHitTest(e):null}get timeAxis(){const e=this;return e._timeAxis||(e._timeAxis={get startDate(){return e.activeView.startDate},get endDateDate(){return e.activeView.endDate},isTimeSpanInAxis(e){return DateHelper.intersectSpans(e.startDate,e.endDate,this.startDate,this.endDate)}}),this._timeAxis}get timeAxisViewModel(){const e=this;return e._timeAxisViewModel||(e._timeAxisViewModel={get timeResolution(){return e.activeView.timeResolution||{}}}),this._timeAxisViewModel}resolveEventRecord(e){var n;e instanceof Event&&(e=e.target);const r=null===(n=this.constructor.fromElement(e))||void 0===n?void 0:n.closest(hasEventStore$2);return null==r?void 0:r.getEventRecord(e)}resolveAssignmentRecord(){}resolveResourceRecord(e){var n;return null===(n=this.resolveEventRecord(e))||void 0===n?void 0:n.resource}handleEvent(e){const n=(e=>e.type.replace(Kl,eventPartReplacer))(e);if(super.handleEvent)super.handleEvent(e);else if(!1!==this.trigger(`beforeElement${n}`,{event:e})){var r;null===(r=this[`onElement${n}`])||void 0===r||r.call(this,e)}}onInternalKeyDown(e){this.handleEvent(e)}getCellDataFromEvent(e){var n;return null===(n=super.getCellDataFromEvent)||void 0===n?void 0:n.call(this,e)}getDateFromDomEvent(e){var n;const r=null===(n=this.constructor.fromElement(e))||void 0===n?void 0:n.closest(hasEventStore$2);if(r)return r.getDateFromEvent(e)}internalAddEvent(){this.activeView.createEvent(...arguments)}get enableRecurringEvents(){return!0}getRowFor(){}suspendRefresh(){}resumeRefresh(){}get widgetClass(){}};const Xl=LocaleHelper.mergeLocales(Dl,{EventEdit:{Calendar:"Calendar","All day":"All day",day:"Day",week:"Week",month:"Month",year:"Year",decade:"Decade"},Calendar:{Today:"Today",next:e=>`Next ${e}`,previous:e=>`Previous ${e}`,plusMore:e=>`+${e} more`,allDay:"All day",endsOn:e=>`Ends ${e}`},CalendarDrag:{holdCtrlForRecurrence:"Hold CTRL for a recurring event"},CalendarMixin:{eventCount:e=>`${e||"No"} event${1===e?"":"s"}`},EventTip:{"Edit event":"Edit event"},AgendaView:{Agenda:"Agenda"},MonthView:{Month:"Month",monthUnit:"month"},WeekView:{Week:"Week",weekUnit:"week"},YearView:{Year:"Year",yearUnit:"year"},EventList:{List:"List",Start:"Start",Finish:"Finish"},DayView:{Day:"Day",dayUnit:"day",daysUnit:"days",expandAllDayRow:"Expand all-day section",collapseAllDayRow:"Collapse all-day section"},Sidebar:{"Filter events":"Filter events"},WeekExpander:{expandTip:"Click to expand row",collapseTip:"Click to collapse row"}});Se.registerLocale("En",{desc:"English",locale:Xl});const Ql=new String(""),Zl=Promise.resolve(),Jl=Object.freeze({}),{eventNameMap:ec}=EventHelper;var CalendarMixin=e=>class CalendarMixin extends((e||Base).mixin(SchedulerInterface,Featureable,CalendarStores)){static get $name(){return"CalendarMixin"}static get configurable(){return{localizableProperties:["autoCreate.newName"],eventRenderer:null,eventStore:null,resourceStore:null,hideNonWorkingDays:null,hideNonWorkingDaysCls:"b-hide-nonworking-days",weekStartDay:DateHelper.weekStartDay,nonWorkingDays:{value:DateHelper.nonWorkingDays,$config:{merge:"replace"}},nonWorkingDayCls:"b-nonworking-day",dayCellCls:"b-calendar-cell",weekendCls:"b-weekend",todayCls:"b-today",pastEventCls:"b-past-event",shortEventCls:"b-short-event",shortEventDuration:"30 minutes",eventHeight:25,eventSpacing:2,eventTimeFormat:"HH:mm",intradayCls:"b-intraday",alldayCls:"b-allday",solidBarCls:"b-solid-bar",dayNameSelector:".b-day-name",showTime:!1,timeFormat:"LT",showCircle:!0,eventColourStyleProperty:"color",handlePointerInteraction:!0,dateFormat:"MMMM d, YYYY",shortDateFormat:"ll",shortDateTimeFormat:"ll LT",readOnly:null,autoCreate:{gesture:"dblclick",newName:"L{Object.newEvent}",step:"15 minutes",duration:"1 hour",startHour:8},allowOverlap:!0,descriptionRenderer:null,syncViewDate:!0,focusable:!1,avatarRendering:{$config:"lazy",value:null},showResourceAvatars:null,resourceImagePath:null,minDate:null,maxDate:null}}static get delayable(){return{refreshSoon:{type:"raf",cancelOutstanding:!0}}}static get featureable(){return{factory:CalendarFeature}}construct(e){var n;const r=this;super.construct(e),r.isYearView||-1===r.element.tabIndex||-1===(null===(n=r.contentElement)||void 0===n?void 0:n.tabIndex)||((r.contentElement||r.element).tabIndex=-1),r.getConfig("avatarRendering"),EventHelper.on({element:r.element,keydown:"onCalendarKeyDown",thisObj:r}),r.handlePointerInteraction&&EventHelper.on({element:r.eventContentElement,mouseover:"onEventMouseOverOut",mouseout:"onEventMouseOverOut",mousedown:"onCalendarPointerInteraction",mouseup:"onCalendarPointerInteraction",click:{handler:"onCalendarPointerInteraction",block:300},dblclick:"onCalendarPointerInteraction",contextmenu:"onCalendarPointerInteraction",thisObj:r})}changeAvatarRendering(e){return AvatarRendering.new({element:this.element},e)}updateShowResourceAvatars(e){e&&(this.avatarRendering||(this.avatarRendering=!0))}getResourceAvatar(e){return this.avatarRendering.getResourceAvatar({imageUrl:!1===e.image?null:e.imageUrl||e.image&&this.resourceImagePath+e.image,color:e.eventColor,initials:e.initials,dataset:{btip:StringHelper.encodeHtml(e.name)},alt:StringHelper.encodeHtml(e.name)})}updateEventHeight(){this._eventHeightInPixels=null,this.isConfiguring||this.refreshSoon()}get eventHeightInPixels(){const e=this,{element:n}=e;let r=e._eventHeightInPixels;return r||(r=e._eventHeight,"string"==typeof r&&(r=DomHelper.measureSize(r,e.contentElement.querySelector(`.${e.eventBarContainerCls}`),!1)),e._eventHeightInPixels=r),r&&(n.style.setProperty("--event-height",`${r}px`),n.style.setProperty("--arrow-width",r/3+"px")),r}get visibleCellSelector(){return`.${this.dayCellCls}${this.hideNonWorkingDays?`:not(.${this.nonWorkingDayCls})`:""}`}get activeView(){return this}eachView(e,n,r=null){this.callback(e,r||this,n||[this])}captureFocusItem(e){const n=this.getEventRecord(e),r=super.captureFocusItem(e);return(e=!0)=>{const o=n&&this.getEventElement(n);o?e?o.focus():DomHelper.focusWithoutScrolling(o):null==r||r(e)}}refresh(){const e=this;e.refreshSoon.cancel(),e.isVisible?e.refreshNow():-1===e.findListener("paint","refreshNow",e)&&e.on({paint:"refreshNow",thisObj:e,once:!0})}refreshNow(){const e=this.captureFocus();this.doRefresh(),e()}get displayName(){return StringHelper.capitalize(this.title||this.type)}get description(){return this.callback(this.descriptionRenderer,this,[this])}get hiddenNonWorkingDays(){return this.hideNonWorkingDays?this.nonWorkingDays||this.month.nonWorkingDays:Jl}changeAutoCreate(e){const n=CalendarMixin.$meta.config.autoCreate;return!0===e?n:("string"==typeof e&&(e={gesture:e}),Config.merge(e,n))}changeShortEventDuration(e){return isNaN(e)?DateHelper.as("ms",e):Number(e)}updateLocalization(){"weekStartDay"in this.initialConfig||(this.weekStartDay=DateHelper.weekStartDay),"nonWorkingDays"in this.initialConfig||(this.nonWorkingDays=DateHelper.nonWorkingDays),super.updateLocalization()}updateAutoCreate(e){this.updateLocalization()}updateWeekStartDay(e){var n;const{refreshCount:r,month:o}=this;null===(n=super.updateWeekStartDay)||void 0===n||n.call(this,e),o&&(o.weekStartDay=e),this.isPainted&&this.refreshCount===r&&this.refresh()}changeNonWorkingDays(e){const n=this,r=new Proxy(ObjectHelper.assign({},e),{set(){Reflect.set(...arguments),n.updateNonWorkingDays(r)}});return r}updateNonWorkingDays(e){var n;const{refreshCount:r,month:o}=this;null===(n=super.updateNonWorkingDays)||void 0===n||n.call(this,e),o&&(o.nonWorkingDays=e),this.isPainted&&this.refreshCount===r&&this.refresh()}dayOfDate(e){return DateHelper.clearTime(e)}ingestDate(e){if(e="string"==typeof e?DateHelper.parse(e):new Date(e),isNaN(e))throw new Error("Calendar widget date ingestion must be passed a Date, or a YYYY-MM-DD date string");return this.dayOfDate(e)}changeDate(e,n){if(e=this.ingestDate(e),this.isInIsValidTargetDate||this.isValidTargetDate(e))return(!n||e-n)&&!1!==this.trigger("beforeDateChange",{date:e,oldDate:n})?e:void 0}isValidTargetDate(e,n){var r,o;const i=this,a=i.minDate||(null===(r=i.calendar)||void 0===r?void 0:r.minDate),l=i.maxDate||(null===(o=i.calendar)||void 0===o?void 0:o.maxDate);if(!isNaN(a)||!isNaN(l)){this.isInIsValidTargetDate=!0;const r=n?i[`change${StringHelper.capitalize(n)}Date`](e,null):e;if(i.isInIsValidTargetDate=!1,!isNaN(a)&&r<a)return!1;if(!isNaN(l))return!("end"===n?r>l:r>=l)}return!0}changeStartDate(e){if(e&&(e=this.ingestDate(e),this.isInIsValidTargetDate||this.isValidTargetDate(e,"start")))return e}changeEndDate(e){if(e&&(e=this.ingestDate(e),this.isInIsValidTargetDate||this.isValidTargetDate(e,"end")))return e}async scrollTo(e,n={animate:!0}){const r=this,{scrollable:o}=r;let i=Zl;if(r.scrollPromise&&await r.scrollPromise,e.isEvent){const n=e;DateHelper.intersectSpans(r.startDate,r.endDate,e.startDate,e.endDate)||(r.date=e.startDate),(e=r.getEventElement(e))||(r.refresh(),e=r.getEventElement(n))}else e=r.changeDate(e),DateHelper.betweenLesser(e,r.startDate,r.endDate)&&r.getDayElement(e,!0)||(r.date=e),e=r.getDayElement(e);return o?i=o.scrollIntoView(e,n):n.highlight&&("boolean"==typeof n.highlight?DomHelper.highlight(Rectangle.from(e)):r.callback(n.highlight,r,[e,r])),r.scrollPromise=i}async checkAutoCreateGesture(e,n){var r,o;if(this.isVisible&&!this.readOnly&&e.type===(null===(r=this.autoCreate)||void 0===r||null===(o=r.gesture)||void 0===o?void 0:o.toLowerCase()))return this.createEvent(n)}async createEvent(e){var n;const r=this.autoCreate;r||(this.autoCreate=!0);const o=this,i=o.calendar||(null===(n=o.owner)||void 0===n?void 0:n.calendar),a=i.eventStore,{autoCreate:l,defaultCalendar:c}=o,{modelClass:d}=a,{newName:u}=l,p=DateHelper.startOf(e,void 0,void 0,o.weekStartDay),b=e-p?DateHelper.round(e,l.step):DateHelper.set(p,"hour",l.startHour),g=DateHelper.parseDuration(l.duration),m=DateHelper.as("ms",g),f=DateHelper.add(b,m),v=o.resolveCallback(u,o,!1)?o.callback(u,o,[o,b]):u,y={[d.getFieldDataSource("name")]:v,[d.getFieldDataSource("startDate")]:b,[d.getFieldDataSource("endDate")]:f,[d.getFieldDataSource("duration")]:g.magnitude,[d.getFieldDataSource("durationUnit")]:g.unit,allDay:1===DateHelper.diff(b,f,"day")},x=a.createRecord(y);null!=i&&i.features.eventEdit&&!i.features.eventEdit.disabled&&(x.meta.isCreating=!0),c&&a.assignEventToResource(x,c),await a.addAsync(x),o.editAutoCreatedEvent(x),r||(o.autoCreate=!1)}editAutoCreatedEvent(e){this.trigger("eventAutoCreated",{eventRecord:e})}get duration(){return this.endDate?this.calculateDuration(this.startDate,this.endDate):1}calculateDuration(e,n){return DateHelper.diff(e,n,"day")}next(){this.date=DateHelper.add(this.date,this.duration,"day")}previous(){this.date=DateHelper.add(this.date,-this.duration,"day")}get eventContentElement(){return this.contentElement}updateHideNonWorkingDays(e){var n,r;const o=this,{month:i,calendar:a}=o;if(null===(n=o.contentElement)||void 0===n||n.classList[e?"add":"remove"](o.hideNonWorkingDaysCls),null==i)return;let l,c,d;var u;!o.isConfiguring&&e&&(c=o.date,d=null===(u=c)||void 0===u?void 0:u.getDay(),c&&o.nonWorkingDays[d]&&o.getDayElement(c)&&(l=i.visibleDayColumnIndex[d]));if(i.hideNonWorkingDays=e,null===(r=super.updateHideNonWorkingDays)||void 0===r||r.call(this,e),"number"==typeof l){const e=i.getWeekStart(i.getWeekNumber(c)),n=Math.min(l,i.visibleColumnCount-1);for(let r=-1;"number"!=typeof i.visibleDayColumnIndex[e.getDay()]||++r!==n;e.setDate(e.getDate()+1));o.date=e,a&&(a.date=c)}}onCalendarStoreChange({source:e,action:n}){const r=this;var o;("dataset"!==n||e.isChained)&&(r.project.isInitialCommitPerformed&&!r.project.isWritingData&&(null===(o=r._cellMap)||void 0===o||o.clear(),r.refreshSoon()))}refreshSoon(){this.refresh()}onEventCreated(e){}getEventRecord(e){var n;let r=e instanceof Event?e.target:e;return r=(null===(n=r)||void 0===n?void 0:n.closest("[data-event-id]"))||null,r&&this.eventStore.getById(r.dataset.eventId)}resolveEventRecord(e){return this.getEventRecord(e)}getDateFromElement(e){let n=null==e?void 0:e.closest("[data-date],[data-header-date],[data-month-date]");return n?DateHelper.parseKey(n.dataset.date||n.dataset.headerDate||n.dataset.monthDate):(n=null==e?void 0:e.closest("[data-week]"),n?null===(r=this.month)||void 0===r?void 0:r.getWeekStart(n.dataset.week.split(",").map(Number)):void 0);var r}getDateFromEvent(e){return this.getDateFromElement(DomHelper.getEventElement(e))}getDateFromPosition(){return null}dateKey(e){return DateHelper.makeKey(e)}getDayElement(e,n){return"string"!=typeof e&&(e=this.dateKey(e)),this.eventContentElement.querySelector(`[data-date="${e}"]`)}getEventElement(e,n=e.startDate){var r;const o=null===(r=this.calendar)||void 0===r?void 0:r.navigator.activeItem,i=this.eventStore.modelClass.asId(e);if(document.contains(o)&&(null==o?void 0:o.dataset.eventId)===String(i))return o;if(n){const e=this.getDayElement(n);if(e)return e.querySelector(`[data-event-id="${i}"]`)}return this.getEventElements(e)[0]}getEventElements(e){const n=this.eventStore.modelClass.asId(e);return this.eventContentElement.querySelectorAll(`[data-event-id="${n}"]`)}get mouseEnterLeaveTargets(){return[".b-cal-event-wrap",this.dayNameSelector,".b-week-num,.b-week-number-cell",".b-cal-cell-overflow",`.${this.dayCellCls}[data-date]`]}onEventMouseOverOut(e){for(const n of this.mouseEnterLeaveTargets){const r=e.target instanceof HTMLElement&&e.target.closest(n);if(r&&!r.contains(e.relatedTarget))return this.onCalendarPointerInteraction(e)}}calendarHitTest(e){const n=this,{monthSelector:r}=n,o=n.getDateFromEvent(e),i=DomHelper.getEventElement(e);let a,l=null;if(a=i.closest(".b-cal-event-wrap"))l={type:"event",eventElement:a,eventRecord:n.eventStore.getById(a.dataset.eventId)};else if(a=i.closest(n.dayNameSelector))l={type:"dayNumber",dayNumberElement:a};else if(a=i.closest(".b-week-num,.b-week-number-cell")){const e=i.closest(".b-calendar-week");e&&e.dataset.week&&(l={type:"weekNumber",week:e.dataset.week.split(",").map(Number),weekNumberElement:a,weekElement:e})}else r&&i.closest(r)&&(l={type:"monthName",month:o.getMonth(),date:o});return l||((a=i.closest(".b-cal-cell-overflow"))?l={type:"cellOverflow",cellOverflowElement:a}:o&&(l={type:"schedule"})),l&&(l.cell=i.closest(".b-calendar-cell"),l.date=o,l.view=n),l}onCalendarPointerInteraction(e){const n=this,{monthSelector:r}=n,{target:o}=e,i=Boolean(o.closest(".b-overflowpopup")),a=ec[e.type],l=n.getDateFromEvent(e),c=o.closest(".b-cal-event-wrap");if(c)return n.trigger(`event${a}`,{domEvent:e,eventElement:c,eventRecord:n.eventStore.getById(c.dataset.eventId),fromOverflowPopup:i});if(o.closest(n.dayNameSelector)){const r=n.trigger(`dayNumber${a}`,{domEvent:e,date:l,fromOverflowPopup:i});return!1!==r&&n.checkAutoCreateGesture(e,l),r}if(o.closest(".b-week-num,.b-week-number-cell")){const r=e.target.closest("[data-week]");if(r)return n.trigger(`weekNumber${a}`,{domEvent:e,week:r.dataset.week.split(",").map(Number),date:n.getDateFromElement(r.querySelector(".b-calendar-cell")),fromOverflowPopup:i})}if(r&&o.closest(r))return n.trigger(`monthName${a}`,{domEvent:e,month:l.getMonth(),date:l,fromOverflowPopup:i});if((!o.closest(".b-cal-cell-overflow")||!1===n.trigger(`cellOverflow${a}`,{domEvent:e,date:l,fromOverflowPopup:i}))&&l&&n.dayCellCls&&e.target.closest(`.${n.dayCellCls}`)){const r=n.trigger(`schedule${a}`,{domEvent:e,date:l,fromOverflowPopup:i});return!1!==r&&n.checkAutoCreateGesture(e,l),r}}onCalendarKeyDown(e){var n,r,o;e.ctrlKey&&"z"===e.key.toLowerCase()&&null!==(n=this.calendar)&&void 0!==n&&n.enableUndoRedoKeys&&(null===(r=this.project)||void 0===r||null===(o=r.stm)||void 0===o||o.onUndoKeyPress(e))}isAllDayEvent(e){return e.allDay||e.isInterDay}createEventDomConfig(e,n=this.eventRenderer){const r=this,{eventHeight:o,eventHeightInPixels:i,intradayCls:a,alldayCls:l,solidBarCls:c,pastEventCls:d,showTime:u,timeFormat:p}=r,b=r.up("calendar"),{eventRecord:g,date:m}=e,f=g.endDate||DateHelper.add(g.startDate,g.duration,g.durationUnit),v=g.isOccurrence?g.recurringEvent.resource:g.resource,y=g.isRecurring||g.isOccurrence,x="isAllDay"in e?e.isAllDay:r.isAllDayEvent(g),C=i/3,S={height:"auto"!==o?DomHelper.setLength(o):null},D=null==b?void 0:b.eventSelectedCls;let E=r.internalBodyContentRenderer(g),k="string"!=typeof E,T=k?"children":"html";if(e.cls=g.cls.clone(),e.solidBar=x,e.iconCls=new DomClassList(g.iconCls),e.style=Object.assign(DomHelper.parseStyle(null==v?void 0:v.eventStyle),DomHelper.parseStyle(g.style)),e.eventColor=g.color||g.eventColor||(null==v?void 0:v.eventColor)||Ql,e.eventHeight=o,e.cls[r.shortEventCls]=g.durationMS<=r.shortEventDuration,null!=v&&v.cls&&e.cls.add(v.cls),n){const i=r.callback(n,r,[{eventRecord:g,resourceRecord:v,renderData:e}]);e.eventHeight!==o&&(S.height=DomHelper.setLength(e.eventHeight)),null!=i&&(k=!0,E=i,"string"!=typeof E&&(E=Array.isArray(E)?E:[E],T="children")),"string"==typeof e.cls&&(e.cls=new DomClassList(e.cls)),"string"==typeof e.iconCls&&(e.iconCls=new DomClassList(e.iconCls)),"string"==typeof e.style&&(e.style=DomHelper.parseStyle(e.style))}E=[{className:{"b-cal-event-desc":1,"b-cal-event-desc-complex":k},[T]:E}],r.alignIconOfStartsBeforeEvents&&m&&g.startDate<m&&(e.style.marginLeft=`-${C}px`),Object.assign(e.cls,{"b-cal-event-wrap":1,"b-iscreating":g.isCreating,[l]:l&&x,[c]:e.solidBar,[a]:a&&!x,[d]:f<new Date,[D]:null==b?void 0:b.isEventSelected(g)});const _=e.eventColor;_&&_!==Ql&&(DomHelper.isNamedColor(_)?e.cls[`b-cal-color-${_}`]=1:e.solidBar?S["background-color"]=_:S[r.eventColourStyleProperty]=_),!u||x&&this.showAllDayHeader||E.unshift({className:"b-event-header",children:[{className:"b-event-time",html:DateHelper.format(g.startDate,p)}]});const M=Boolean(e.iconCls.length),R="header"===r.iconTarget&&r.showTime?{color:_}:Jl,I=!M&&y,F=r.showCircle&&!M&&!y,A={tag:"i",className:Object.assign({"b-cal-event-icon":!I,"b-cal-recurrence-icon":I,"b-icon":1,"b-fw-icon":1,"b-icon-circle":F,"b-icon-recurring":I},e.iconCls),style:R},O=[{className:"b-cal-event-body",children:E}],P="header"===r.iconTarget&&r.showTime?E[0].children.length>0?E[0].children:E:O;return"header"===r.iconTarget&&r.showTime?P.push(A):P.unshift(A),M&&y&&P.push({tag:"i",className:{"b-cal-recurrence-icon":1,"b-icon":1,"b-fw-icon":1,"b-icon-recurring":1},style:R}),{tabIndex:0,dataset:{eventId:g.id},className:e.cls,style:e.style,children:[{className:"b-cal-event",style:S,children:O}]}}internalBodyContentRenderer(e){var n;const r=StringHelper.encodeHtmlBR(e.name),{showResourceAvatars:o}=this;if(o&&null!==(n=e.assigned)&&void 0!==n&&n.size){const n=[{class:"b-cal-event-resource-avatars",children:e.resources.map((e=>this.getResourceAvatar(e)))},{tag:"span",class:"b-cal-event-name",html:r}];return"last"===o?n.reverse():n}return r}internalEventTimeRenderer(e){return{className:{"b-cal-agenda-event-time":1},text:DateHelper.diff(DateHelper.clearTime(e.startDate),DateHelper.clearTime(e.endDate),"day")>1?this.L("L{Calendar.endsOn}",DateHelper.format(e.endDate,"DD MMM")):e.allDay?this.L("L{Calendar.allDay}"):`${DateHelper.format(e.startDate,this.eventTimeFormat)} - ${DateHelper.format(e.endDate,this.eventTimeFormat)}`}}internalAgendaDateRenderer(e){return{className:{"b-cal-agenda-date":1,"b-today":!Boolean(DateHelper.clearTime(new Date)-DateHelper.clearTime(e))},children:[{className:{"cal-agenda-date-date-number":1},text:e.getDate()},{className:{"cal-agenda-date-date-text":1},children:[{text:DateHelper.format(e,"dddd")},{text:DateHelper.format(e,"MMM YYYY")}]}]}}};Object.defineProperty(EventModel.prototype,"endingDate",{get(){return this.endDate||DateHelper.add(this.startDate,this.duration,this.durationUnit)}});const tc={day:1,week:1,month:1,year:1,decade:1},byStartDate=(e,n)=>e.startDate.valueOf()-n.startDate.valueOf();class EventList extends(Grid.mixin(CalendarMixin)){static get $name(){return"EventList"}static get type(){return"eventlist"}static get configurable(){return{eventFilter:null,localizableProperties:["title","text"],title:"L{List}",range:"1 month",date:{$config:{equal:"date"},value:null},startDate:{$config:{equal:"date"},value:null},endDate:{$config:{equal:"date"},value:null},month:!0,columns:[{text:"L{EventEdit.Name}",field:"name",flex:1},{text:"L{EventList.Start}",type:"date",editor:{type:"datetime",dateField:{step:null},timeField:{step:null}},field:"startDate",width:"16.5em",format:"L LT",renderer({record:e,value:n}){return e.allDay?DateHelper.format(n,"L"):this.defaultRenderer(...arguments)}},{text:"L{EventList.Finish}",type:"date",editor:{type:"datetime",dateField:{step:null},timeField:{step:null}},field:"endDate",width:"16.5em",format:"L LT",renderer({record:e,value:n}){return e.allDay?DateHelper.format(n,"L"):this.defaultRenderer(...arguments)}}],features:{group:!1,columnPicker:{createColumnsFromModel:!0}},listeners:{beforeCellEditStart({editorContext:e}){var n,r,o,i;const{editor:a,record:l}=e;if(l.isRecurring||l.isOccurrence)return Toast.show({html:"Please use EventEdit to edit recurring events"}),!1;null===(n=this.calendar)||void 0===n||null===(r=n.features.eventTooltip)||void 0===r||null===(o=r._tooltip)||void 0===o||o.hide(),null===(i=a.timeField)||void 0===i||i[l.allDay?"hide":"show"]()}},settings:{$config:"lazy",value:null}}}static get delayable(){return{populateStoreSoon:{type:"raf",cancelOutstanding:!0}}}doRefresh(){this.refreshRows()}destroy(){for(const n of Object.values(this.features)){var e;null===(e=n.destroy)||void 0===e||e.call(n)}super.destroy()}populateHeaderMenu({items:e}){e.listRangeItem={weight:-1e3,icon:"b-icon-calendar-week",text:"List Range",menu:this.listRangeMenu},super.populateHeaderMenu(...arguments)}refreshVirtualScrollbars(){super.refreshVirtualScrollbars(),this.bodyElement.classList[DomHelper.scrollBarWidth&&this.hasVerticalOverflow?"add":"remove"]("b-has-scrollbar")}get listRangeMenu(){if(!this._listRangeMenu){const e=this,{unit:n}=e.range,r=`${e.id}-range-items`;e._listRangeMenu={anchor:!0,onToggle:n=>{n.checked&&(e.range=n.item.range,n.bubbles=!1)},items:{listRangeDayItem:{toggleGroup:r,range:"day",text:"L{EventEdit.day}",checked:"day"===n},listRangeWeekItem:{toggleGroup:r,range:"week",text:"L{EventEdit.week}",checked:"week"===n},listRangeMonthItem:{toggleGroup:r,range:"month",text:"L{EventEdit.month}",checked:"month"===n},listRangeYearItem:{toggleGroup:r,range:"year",text:"L{EventEdit.year}",checked:"year"===n},listRangeDecadeItem:{toggleGroup:r,range:"decade",text:"L{EventEdit.decade}",checked:"decade"===n}}}}return this._listRangeMenu}updateRowManager(e){var n;null===(n=super.updateRowManager)||void 0===n||n.call(this,...arguments),e.on({beforeRenderRow:"onBeforeRenderRow",thisObj:this})}onBeforeRenderRow({row:e,record:n}){const{_elementsArray:r}=e,{id:o}=n;if(n.isEventModel)for(let e=0,{length:i}=r;e<i;e++)r[e].dataset.eventId=o,r[e].dataset.date=DateHelper.makeKey(n.startDate)}onInternalKeyDown(e){}handleEvent(e){var n,r;const o=this,i=o.getCellDataFromEvent(e),a=`cell${StringHelper.capitalize(e.type)}`,l=`event${StringHelper.capitalize(e.type)}`,{cellEdit:c}=o.features,d=null===(n=o.calendar)||void 0===n||null===(r=n.features)||void 0===r?void 0:r.eventEdit,u=null==d?void 0:d.disabled;o.preventScroll=!0,null!=i&&i.record&&((null==c?void 0:c.triggerEvent.toLowerCase())===a.toLowerCase()&&(null==d?void 0:d.triggerEvent.toLowerCase())===l.toLocaleLowerCase()&&(d.disabled=!0),o.trigger(l,{domEvent:e,date:o.getDateFromEvent(e),eventElement:o.getEventElement(i.record)||i.cellElement,eventRecord:i.record}),d&&(d.disabled=u)),o.preventScroll=!1,super.handleEvent(e)}get displayName(){return StringHelper.capitalize(this.title||this.type)}changeRange(e){if("string"==typeof e){if(tc[e])return{magnitude:1,unit:e};e=DateHelper.parseDuration(e)}if(!this.date||this.isValidRange(e))return e}isValidRange(e,n=this.date){var r,o;const i=this.minDate||(null===(r=this.calendar)||void 0===r?void 0:r.minDate),a=this.maxDate||(null===(o=this.calendar)||void 0===o?void 0:o.maxDate);if(!isNaN(i)||!isNaN(a)){const r=this.calculateDateRange(e,n);if(!isNaN(i)&&r.startDate<i)return!1;if(!isNaN(a)&&r.endDate>a)return!1}return!0}updateRange(e){this.date&&this.setConfig(this.calculateDateRange(e,this.date))}calculateDateRange(e,n){const r=`${e.magnitude} ${e.unit}`;if(n)return"day"!==e.unit?{startDate:DateHelper.floor(n,r,void 0,this.weekStartDay),endDate:DateHelper.ceil(DateHelper.add(n,1,"day"),r,void 0,this.weekStartDay)}:{startDate:n,endDate:DateHelper.add(n,e.magnitude,"day")}}changeDate(e){if(e="string"==typeof e?DateHelper.parse(e):new Date(e),isNaN(e))throw new Error("Calendar widget date ingestion must be passed a Date, or a YYYY-MM-DD date string");if(e=DateHelper.clearTime(e),this.isConfiguring||this.isValidRange(this.range,e))return e}async scrollTo(e,n={animate:!0}){const r=this;if(e instanceof r.store.modelClass)await r.scrollRowIntoView(e,Object.assign({},n,{highlight:!1})),n.highlight&&(e=r.getEventElement(e,e.startDate),"boolean"==typeof n.highlight?DomHelper.highlight(e,r):(r.widget||r).callback(n.highlight,null,[e]));else if(ObjectHelper.isDate(e)&&r.store.count){const o=r.dateIndex,i=DateHelper.makeKey(e);if(o[i])await r.scrollRowIntoView(o[i],n),r.scrolledToDate=e;else{let n=Number.MAX_SAFE_INTEGER;const i=Object.keys(o);for(let r=0,{length:o}=i;r<o;r++){const o=DateHelper.parseKey(i[r]);Math.abs(o-e)<Math.abs(n-e)&&(n=o)}await r.scrollTo(n)}}}changeStartDate(e){return this.changeDate(e)}updateStartDate(){this.populateStoreSoon()}changeEndDate(e){return this.changeDate(e)}updateEndDate(){this.populateStoreSoon()}previous(){const{range:e}=this;this.date=DateHelper.add(this.startDate,-e.magnitude,e.unit)}next(){this.date=this.endDate}descriptionRenderer(){const e=this,{date:n,startDate:r,endDate:o,range:i,count:a}=e;let l;if(1===i.magnitude)switch(i.unit){case"day":l=DateHelper.format(n,"L");break;case"week":{const n=r.getMonth()===o.getMonth()?DateHelper.format(r,"MMMM"):`${DateHelper.format(r,"MMM")} - ${DateHelper.format(o,"MMM")}`,i=e.month.getWeekNumber(r);l=`${e.L("L{WeekView.Week}")} ${i[1]}, ${n} ${i[0]}`;break}case"month":l=DateHelper.format(n,"MMMM, YYYY");break;case"year":l=DateHelper.format(n,"YYYY");break;case"decade":l=`${DateHelper.format(r,"YYYY")}s`}else l=`${DateHelper.format(e.startDate,"L")} - ${DateHelper.format(e.endDate,"L")}`;return`${l}. ${e.L("eventCount",a)}`}get count(){return this.store.count}get stepUnit(){const{range:e}=this;return 1===e.magnitude?e.unit:this.range}updateEventStore(e){var n;null===(n=super.updateEventStore)||void 0===n||n.call(this,e),e.on({refresh:"onCalendarStoreChange",thisObj:this}),this.populateStoreSoon()}changeStore(e){return e&&(e=Store.mergeConfigs({useRawData:{ignoreDefaults:!0,disableDefaultValue:!0,disableTypeConversion:!0,enabled:!0},modelClass:this.modelClass},e)),super.changeStore(e)}get modelClass(){return this.eventStore.modelClass}populateStoreSoon(){const e=this,{project:n}=e;e.isVisible?(n.isInitialCommitPerformed&&!n.isWritingData||!n.eventStore.count)&&e.populateStore():-1===e.findListener("paint","onFirstPaintAfterShow",e)&&e.on({paint:"onFirstPaintAfterShow",thisObj:e,once:!0})}populateStore(){var e;const n=this,r=n.eventStore.getEvents({startDate:n.startDate,endDate:n.endDate,filter:n.eventFilter}).sort(byStartDate);n.dateIndex=r.reduce(((e,n)=>{const r=DateHelper.makeKey(n.startDate);return e[r]||(e[r]=n),e}),{}),n.store.data=r,n.trigger("refresh"),null===(e=n.calendar)||void 0===e||e.syncUIWithActiveView(this)}updateDate(e){this.isConfiguring||(this.getConfig("month"),this.month.date=e)}changeMonth(){const e=this;return new Month({date:e.date,weekStartDay:e.weekStartDay,nonWorkingDays:e.nonWorkingDays,hideNonWorkingDays:e.hideNonWorkingDays,listeners:{dateChange:"onMonthChange",thisObj:e}})}onMonthChange({newDate:e}){this.updateRange(this.range),this.populateStoreSoon.flush(),!this.preventScroll&&this.store.count&&this.scrollTo(e)}onCalendarStoreChange({source:e}){this.date||(this.date=e.map((e=>e.startDate)).sort(((e,n)=>e.valueOf()-n.valueOf()))[0]),this.populateStoreSoon()}onFirstPaintAfterShow(){this.isPainted=!0,this.populateStore()}changeSettings(e,n){return Button.reconfigure(n,Button.mergeConfigs({type:"button",positioned:!0,icon:"b-icon-menu",menuIcon:null,cls:"b-blue b-cal-widget-settings-button",appendTo:this.bodyElement},e),this)}}EventList.initClass(),EventList._$name="EventList";const byKey=({key:e},{key:n})=>e<n?-1:n<e?1:0,extractEndDate=e=>e.endDate||DateHelper.add(e.startDate,e.duration,e.durationUnit);var DayCellCollecter=e=>class DayCellCollecter extends(e||Base){static get $name(){return"DayCellCollecter"}static get configurable(){return{eventFilter:null}}get dayTime(){return DayTime.MIDNIGHT}get cellMonth(){return this._cellMonth||(this._cellMonth=new Month({}))}createCellMap(e={}){const n=this,{filter:r}=e,{eventFilter:o,startDate:i,cellMonth:a}=n,l=n._cellMap||(n._cellMap=new CellMap);if(a.configure({weekBase:null,weekStartDay:n.weekStartDay,nonWorkingDays:n.nonWorkingDays,hideNonWorkingDays:n.hideNonWorkingDays,sixWeeks:n.sixWeeks,date:n.startDate}),n.eventStore){e=ObjectHelper.assign({dayTime:DayTime.MIDNIGHT},e,{filter:r&&o?e=>r(e)&&o(e):r||o,endDate:n.endDate,dateMap:l,startDate:i}),n.collectEvents(e);for(const[r,o]of l){let i=0;n.sortEvents(o);const a=e.dayTime,c=a.dayOfDate(DateHelper.parseKey(r)),d=n.createCellData(c);if(e.rawEvents?(i=Math.min(n.endDate,Math.max.apply(Math,o.map(extractEndDate))),d.events=o):d.events=o.map((e=>{const r=e.endDate||DateHelper.add(e.startDate,e.duration,e.durationUnit),o=r>d.tomorrow,a={isAllDay:n.isAllDayEvent(e),isOverflow:e.startDate<d.date,eventRecord:e,eventEndDate:r,overflows:o,date:c};return i=Math.min(n.endDate,Math.max(i,r)),o&&(a.propagateEndDate=n.calculatePropagateEndDate(a)),a})),!e.skipPropagate)for(;c<i;c.setDate(c.getDate()+1)){const e=a.dateKey(c);l.has(e)||l.set(e,[])}l.set(r,d)}if(l.size){const r=[...l.values()].sort(byKey);let o;l.clear(),r.forEach((e=>{l.set(e.key,e),o&&(o.nextEvents=e,e.previousEvents=o),o=e})),e.skipPropagate||n.propagateCellEvents(r[0],l)}}return l.populated=!0,l}calculatePropagateEndDate(e){const{eventEndDate:n}=e,r=this.dayTime.startOfDay(n);return e.propagateEndDate=new Date(Math.min(n>r?DateHelper.add(r,1,"day"):n,this.endDate)),this.trigger("eventPropagate",e),e.propagateEndDate}collectEvents(e){return this.eventStore.getEvents(e)}propagateCellEvents(e,n){const{events:r,renderedEvents:o,previousEvents:i,nextEvents:a,date:l}=e,c=this.getEventsPerCell(l),{length:d}=r;for(let n=0;n<d;n++){const i=r[n],{eventRecord:l,propagateEndDate:c}=i;let d=o.add(i);if(i.overflows){let n,r=e.visible;for(let e=a;e&&e.date<c;e=e.nextEvents)e.columnIndex||(d=e.renderedEvents.firstFreeSlot),e.renderedEvents.set(d,n={eventRecord:l,isAllDay:i.isAllDay,isOverflow:r,overflows:!0}),r=r||e.visible;n&&(n.overflows=!1)}}e.maxRow=o.length;const u=o.slots[c-1];if(o.length===c)null!=u&&u.isOverflow&&null!=i&&i.hasOverflow&&(e.maxRow--,e.hasOverflow=!0);else if(o.length>c&&(e.maxRow=c-1,e.hasOverflow=!0,null!=u&&u.isOverflow)){const r=new Date(l).setDate(l.getDate()-e.columnIndex),o=DateHelper.clearTime(u.eventRecord.startDate).valueOf();let i=n.get(DateHelper.format(new Date(Math.max(r,o)),"YYYY-MM-DD"));for(;i.key!==e.key;)i.hasOverflow=!0,i.maxRow=c-1,i=i.nextEvents}a&&this.propagateCellEvents(a,n)}createCellData(e){return Object.assign(this.cellMonth.getCellData(e,this.month,this.dayTime),{events:[],renderedEvents:new EventSlots})}sortEvents(e){e.sort(EventSorter.defaultSorterFn)}};class CellMap extends Map{constructor(...e){super(...e),_defineProperty(this,"populated",!1)}clear(){return this.populated=!1,super.clear()}}const nc={mouseover:1,mouseout:1},rc={mousedown:1,mouseup:1,click:1,dblclick:1,contextmenu:1};class AgendaView extends(EventList.mixin(DayCellCollecter)){static get $name(){return"AgendaView"}static get type(){return"agendaview"}static get configurable(){return{features:null,eventSpacing:0,eventRowSpacing:8,title:"L{Agenda}",range:"year",hideEventOverflow:null,alignIconOfStartsBeforeEvents:!0,handlePointerInteraction:!1,dayCellRenderer:null,eventRenderer:null,hideHeaders:!0,columns:[{type:"agendacolumn"}],agendaRowCls:"b-cal-agenda-grid-row",enableSticky:!0,preserveScrollOnDatasetChange:!0,positionMode:"position",settings:{}}}construct(e){const n=this;Object.defineProperty(n,"features",{get:()=>({}),set:()=>{}}),super.construct(e),n.bodyContainer.removeAttribute("tabIndex"),n.subGrids.normal.monitorResize=!1}onFocusGesture(){}onGridElementFocus(){}editAutoCreatedEvent(e,n){this.populateStoreSoon.now(),super.editAutoCreatedEvent(e,n)}handleEvent(e){const{type:n}=e;super.handleEvent(e),nc[e.type]?this.onEventMouseOverOut(e):rc[n]&&this.onCalendarPointerInteraction(e)}getCellDataFromEvent(e){if(e.target.closest(".b-grid-cell")){const n=super.getCellDataFromEvent(e);return n&&(n.record=this.getEventRecord(e.target)),n}}updateSuppressLongEvents(){this.fillFromMaster()}onCalendarStoreChange(e){const n=this;if(n.isPainted){const{action:r,oldCount:o,records:i}=e;if("filter"===r&&i.length===o)return;if("dataset"===r)return;if("remove"===r&&1===i.length){const{store:e}=n,r=i[0],o=DateHelper.clearTime(r.startDate),a=DateHelper.clearTime(r.endDate);do{const i=DateHelper.format(o,"YYYY-MM-DD"),a=n.cellMap.get(i);a&&(ArrayHelper.remove(a.events,r),a.events.length?n.onStoreUpdateRecord({source:e,record:n.store.getById(i),changes:{}}):(n.cellMap.delete(i),delete n.dateIndex[i],e.remove(i,!0))),o.setDate(o.getDate()+1)}while(o<a);return}}n.populateStoreSoon()}get cellMap(){var e;return null!==(e=this._cellMap)&&void 0!==e&&e.populated?this._cellMap:this.createCellMap({rawEvents:!0,skipPropagate:!0})}populateStore(){var e,n;null===(e=this._cellMap)||void 0===e||e.clear();const r=this,{store:o,eventStore:i}=r;r.eventCount=0,r.date||(r.date=i.map((e=>e.startDate)).sort(((e,n)=>e.valueOf()-n.valueOf()))[0]);const{cellMap:a}=r,l=[...a.values()];r.dateIndex={};for(let e=0,{length:n}=l;e<n;e++){const n=l[e],{events:i,date:a}=n;for(let n=0,{length:o}=i;n<o;n++){const o=i[n];o.isInterDay&&e&&DateHelper.clearTime(o.startDate).valueOf()!==a.valueOf()||r.eventCount++}r.dateIndex[n.id]=l[e]=o.createRecord(n)}o.loadData(l),r.refreshCount=(r.refreshCount||0)+1,r.trigger("refresh"),null===(n=r.calendar)||void 0===n||n.syncUIWithActiveView(r),r.getConfig("settings")}get count(){return this.eventCount}collectEvents(e){return e.getDateIndex=e=>e>this.startDate&&this.hideEventOverflow?"startDate":"date",this.eventStore.getEvents(e)}changeStore(e){return(e=super.changeStore(e))&&e.addFilter({id:`${this.id}-nonworkingday-filter`,filterBy:e=>!this.hideNonWorkingDays||!e.isNonWorking},!0),e}get modelClass(){return GridRowModel}updateHideNonWorkingDays(e){super.updateHideNonWorkingDays(e),this.store.filter()}updateHideEventOverflow(){this.populateStore()}doRefresh(){this.populateStore()}createCellData(e){return Object.assign(this.cellMonth.getCellData(e,this.month),{id:DateHelper.makeKey(e),events:[]})}set cellRenderer(e){this._cellRenderer=e}changeSettings(e){return super.changeSettings({menu:_objectSpread2({align:{align:"t100-b100"}},this.listRangeMenu)})}sortEvents(e){e.sort(EventSorter.interDaySorterFn)}}AgendaView.initClass(),AgendaView._$name="AgendaView";class OverflowPopup extends Popup{static get $name(){return"OverflowPopup"}static get type(){return"overflowpopup"}static get configurable(){return{textContent:!1,autoShow:!1,floating:!1,cls:"b-cal-event-list",closable:!0,draggable:{handleSelector:":not(.b-cal-event-wrap)"},anchor:!0,layout:"vbox",eventRenderer:null,eventList:{type:"widget",cls:"b-cal-event-bar-container",weight:500},items:{},dateFormat:"dddd, MMM DD",activeDate:{$config:{equal:"date"},value:null},scrollAction:"hide",align:{axisLock:"flexible",constrainPadding:20,minHeight:400},scrollable:{overflowY:"auto"},onlyShowOverflow:null}}calendarHitTest(e){const n=DomHelper.getEventElement(e).closest(".b-cal-event-wrap");return n?{type:"event",eventElement:n,eventRecord:this.owner.eventStore.getById(n.dataset.eventId),view:this}:null}onHeaderClick({event:e}){var n;e.target.closest(".b-header-title")?null===(n=this.owner)||void 0===n||n.trigger("dayNumberClick",{domEvent:e,date:this.activeDate,source:this.owner,fromOverflowPopup:!0}):super.onHeaderClick(...arguments)}get focusElement(){var e,n;const r=DomHelper.getActiveElement(this);return this.element.contains(r)?r:(null===(e=this.eventList)||void 0===e||null===(n=e.element)||void 0===n?void 0:n.firstElementChild)||super.focusElement}getDateFromPosition(){return this.activeDate}getEventElement(e){return this.contentElement.querySelector(`[data-event-id="${e.id}"]`)}showOverflow(e,n){const r=this.activeDate=n.date;var o;(this.cellData=n,this.targetCell=e,this.refresh(n),this.showBy(e),this.isVisible)&&(null===(o=this.owner)||void 0===o||o.trigger("showOverflowPopup",{cell:e,cellData:n,date:r,overflowPopup:this}))}onCalendarStoreChange(){const e=this;e.isVisible&&(e.cellData=e.owner.cellMap.get(DateHelper.makeKey(e.activeDate)),e.refresh(e.cellData))}refresh(e=this.cellData){if(!this.eventList)return;const n=this,{owner:r}=n,o=n.onlyShowOverflow?Math.max(r.eventsPerCell-1,0):0,i=null==e?void 0:e.renderedEvents.slots.slice(o).sort(EventSorter.interDaySorterFn),a=[];if(null==i||!i.length)return n.hide();for(let e=0,o=0,{length:l}=i;e<l;e++,o++){const o=i[e];if(o){const e=r.createEventDomConfig(o,n.eventRenderer);Object.assign(e.className,{"b-continues-left":o.isOverflow,"b-continues-right":o.overflows}),e.style.marginBottom=`${r.eventSpacing}px`,a.push(e)}}DomSync.sync({domConfig:{children:a},targetElement:n.eventList.element}),n.realign()}changeItems(e){const{eventList:n}=this;n&&(e.eventList=n);const r=super.changeItems(e);return n&&(this.eventList=this.widgetMap.eventList),r}changeActiveDate(e,n){if(e="string"==typeof date?DateHelper.parse(e):new Date(e),isNaN(e))throw new Error("OverflowPopup date ingestion must be passed a Date, or a YYYY-MM-DD date string");return e}updateActiveDate(e){this.element.dataset.date=DateHelper.format(e,"YYYY-MM-DD"),this.title=DateHelper.format(e,this.dateFormat)}onDocumentMouseDown({event:e}){var n;const r=null===(n=this.lastAlignSpec)||void 0===n?void 0:n.target,{target:o}=e;if(null!=r&&r.contains(o)){const n=o.closest(".b-cal-cell-overflow");if(o.closest(".b-cal-event-bar-container")||o.matches(".b-cal-cell-overflow")||1===(null==n?void 0:n.children.length))return e.preventDefault()}super.onDocumentMouseDown(...arguments)}}OverflowPopup.initClass(),OverflowPopup._$name="OverflowPopup";const emptyFn$2=()=>{};var DayCellRenderer=e=>class DayCellRenderer extends(e||Base){static get $name(){return"DayCellRenderer"}static get configurable(){return{monitorResize:!0,dayCellRenderer:null,dynamicHideNonWorkingdayCls:"b-dynamic-nonworking-day",overflowPopup:{$config:["lazy","nullify"],value:{type:"overflowpopup"}},overflowPopupTrigger:"click",eventBarContainerCls:"b-cal-event-bar-container",overflowButtonRenderer:null}}onCalendarStoreChange(){var e;super.onCalendarStoreChange(...arguments),null!==(e=this._overflowPopup)&&void 0!==e&&e.isVisible&&this._overflowPopup.onCalendarStoreChange(...arguments)}onCellOverflowGesture({domEvent:e,date:n}){const r=this,o=r.cellMap.get(DateHelper.format(n,"YYYY-MM-DD"));if(o){const{overflowPopup:i}=r,a=r.getCellFromEvent(e);i&&r.trigger("beforeShowOverflowPopup",{cell:a,cellData:o,date:n,overflowPopup:i})&&i.showOverflow(a,o)}}getCellFromEvent(e){return e.target.closest(".b-calendar-cell[data-date]")}changeOverflowPopupTrigger(e){return StringHelper.capitalize(e.toLowerCase())}updateOverflowPopupTrigger(e){this.onCellOverflowClick=this.onCellOverflowMousover=emptyFn$2,this[`onCellOverflow${e}`]=this.onCellOverflowGesture}changeOverflowPopup(e,n){const r=this,o=r.up("calendar")||r.owner||r,i=OverflowPopup.reconfigure(n,e,{owner:r,defaults:{owner:r,align:{constrainTo:window}}});if(i){const{element:e}=i,{eventHeightInPixels:a}=r;i.floating||(i.positioned=!0,i.render(o.isCalendar?o.element:o.contentElement)),a&&(e.style.setProperty("--event-height",`${a}px`),e.style.setProperty("--arrow-width",a/3+"px")),i!==n&&(EventHelper.on({thisObj:r,element:i.bodyElement,delegate:".b-cal-event-wrap",mouseover:"onEventMouseOverOut",mouseout:"onEventMouseOverOut",mousedown:"onCalendarPointerInteraction",mouseup:"onCalendarPointerInteraction",click:"onCalendarPointerInteraction",dblclick:"onCalendarPointerInteraction",contextmenu:"onCalendarPointerInteraction"}),i.headerElement&&EventHelper.on({thisObj:r,element:i.headerElement,mousedown:"onCalendarPointerInteraction",mouseup:"onCalendarPointerInteraction",click:"onCalendarPointerInteraction",dblclick:"onCalendarPointerInteraction",contextmenu:"onCalendarPointerInteraction"}))}return i}onInternalResize(e,n,r,o,i){const{_eventsPerCell:a,_eventContainerTop:l}=this;super.onInternalResize(e,n,r,o,i),this.rendered&&r!==i&&this.performResizeRefresh(a,l)}performResizeRefresh(e,n,r){this._eventsPerCell=this._eventContainerTop=this._eventContainerHeight=null;const o=this,{eventsPerCell:i,_overflowPopup:a}=o;i!==e&&(null!=a&&a.isVisible&&o.requestAnimationFrame((()=>a.hide())),o.trigger("eventsPerCellChange",{value:i,oldValue:e})),o.eventContainerTop===n&&i===e||(r?o.doRefresh():o.refresh())}updateEventHeight(){super.updateEventHeight(...arguments),this._eventsPerCell=null}get firstVisibleCell(){return this.weeksElement.querySelector(this.visibleCellSelector)}get eventContainerHeight(){if(null==this._eventContainerHeight&&this.isVisible&&!this.isConfiguring){const{firstVisibleCell:e}=this;this._eventContainerHeight=e?e.offsetHeight-this.eventContainerTop:NaN}return this._eventContainerHeight}get eventContainerTop(){const e=this;if(null==e._eventContainerTop&&e.isVisible&&!e.isConfiguring){const{firstVisibleCell:n}=e,r=n&&n.querySelector(`.${e.eventBarContainerCls}`),o=r?r.getBoundingClientRect().top-r.offsetParent.getBoundingClientRect().top:0;e._eventContainerTop=0===o?null:o}return e._eventContainerTop||0}getEventsPerCell(e){return this.eventsPerCell}get eventsPerCell(){const e=this;return null==e._eventsPerCell&&(e._eventsPerCell=Math.floor((e.eventContainerHeight+e.eventSpacing)/(e.eventHeightInPixels+e.eventSpacing))),e._eventsPerCell}get cellMap(){var e;return null!==(e=this._cellMap)&&void 0!==e&&e.populated?this._cellMap:this.createCellMap()}cellRenderer({cell:e}){const n=this.getCellDomConfig(...arguments);DomSync.sync({domConfig:n,targetElement:e})}getCellDomConfig({cell:e,columnIndex:n,row:r,date:o,day:i,dayTime:a=DayTime.MIDNIGHT,visibleColumnIndex:l,key:c}){const d=this,{eventHeightInPixels:u,eventSpacing:p,weekLength:b,todayCls:g}=d,m=!(o-d.dayTime.startOfDay(new Date)),f=o.getDate(),v={className:d.eventBarContainerCls,role:"presentation",children:[],syncOptions:{syncIdField:"eventId",releaseThreshold:0,strict:!0}},y={style:{},className:new DomClassList({"b-cal-cell-header":!0,[g]:m})},x={dataset:{},style:{},className:new DomClassList(null==e?void 0:e.className),children:[y,v]};x.className[g]=m;let C,S,D=!d.isConfiguring&&d.cellMap.get(DateHelper.format(o,"YYYY-MM-DD"));if(d.addCellHeaderContent?C=d.addCellHeaderContent(y,D||(D=d.createCellData(o))):y.children=[C={className:{"b-day-name":!0}}],d.dayCellRenderer&&!d.isConfiguring){D||(D=d.createCellData(o)),D.style=x.style,D.cls=x.className,D.headerStyle=y.style,D.headerCls=y.className;const e=D&&D.isNonWorking,n=d.callback(d.dayCellRenderer,d,[D,x]);"string"==typeof D.cls&&(x.className=new DomClassList(D.cls)),"string"==typeof D.style&&(x.style=DomHelper.parseStyle(D.style)),"string"==typeof D.headerCls&&(y.className=new DomClassList(D.headerCls)),"string"==typeof D.headerStyle&&(y.style=DomHelper.parseStyle(D.headerStyle)),null!=n&&("string"==typeof n?C.html=n:(C.text=null,C.children=Array.isArray(n)?n:[n])),S=!e&&D.isNonWorking}if(C&&(C.text||C.html||(C.text=f),(C.text||C.html)==f&&(C.className["b-day-num"]=!0)),D.visible){const{hasOverflow:e,renderedEvents:c,maxRow:g}=D,m=c.slots,{length:f}=m,y=v.children;x.className[d.nonWorkingDayCls]=D.isNonWorking,x.className[d.dynamicHideNonWorkingdayCls]=S,x.className[d.weekendCls]=DateHelper.weekends[i];for(let e=0,n=0;e<g;e++,n++){const r=m[e];if(r){const{eventRecord:e,isOverflow:i,propagateEndDate:c}=r,g=d.getDaySpan(o,c||e.endingDate,a),m=d.getDaySpan(o,e.endingDate,a),f=b-l,v=l&&i,x=ObjectHelper.round((v?1:Math.min(g,f))/b*100,4),C=d.createEventDomConfig(r);Object.assign(C.style,{top:`${n*u+n*p+d.eventContainerTop}px`,width:DomHelper.percentify(x)}),Object.assign(C.className,{"b-overflow":v,"b-continues-left":!v&&!l&&e.startDate<o,"b-ends-at-row-end":m>=f,"b-continues-right":!v&&m>f}),y.push(C)}}e?(r.classList.add("b-has-overflow"),x.children.push(d.getOverflowButtonDomConfig(f-Math.max(0,g)))):n||r.classList.remove("b-has-overflow")}return x}getDaySpan(e,n,r){if(this.hideNonWorkingDays){let o=0;for(const i=new Date(e);i<r.ceil(n,"1 day");i.setDate(i.getDate()+1))this.nonWorkingDays[i.getDay()]||o++;return o}return Math.max(DateHelper.diff(e,r.ceil(n,"1 day"),"day"),1)}getOverflowButtonDomConfig(e){const{overflowButtonRenderer:n}=this,r={tag:"button",className:{"b-cal-cell-overflow":1},text:this.L("L{Calendar.plusMore}",e),style:{lineHeight:`${this.eventHeightInPixels}px`,marginBottom:`${this.eventSpacing}px`},dataset:{eventId:"overflow"}};return n?this.callback(n,this,[r,e]):r}getCell(e){return"string"!=typeof e&&(e=this.dayTime.dateKey(e)),this.contentElement.querySelector(`[data-date="${e}"]`)}};const oc=Object.freeze({}),ic={shrinkwrap:1,expand:1};class CalendarRow extends(Widget.mixin(CalendarMixin,DayCellCollecter,DayCellRenderer)){static get $name(){return"CalendarRow"}static get type(){return"calendarrow"}static get configurable(){return{cls:"b-calendar-days",element:{children:[{reference:"headerElement",className:"b-calendarrow-header",children:[{reference:"headerCellContainer",className:"b-calendarrow-header-container"},_objectSpread2({retainElement:!0},DomHelper.scrollBarPadElement)]},{reference:"bodyElement",className:"b-calendarrow-body",children:[{reference:"cellContainer",className:"b-calendarrow-cell-container"}]}]},startDate:{$config:{equal:"date"},value:null},endDate:{$config:{equal:"date"},value:null},animate:!0,autoHeight:null,dayStartShift:null,dayTime:0,defaultEventRowCount:3,minDayWidth:null,scrollable:{overflowX:"hidden",overflowY:"hidden"},headerScroller:{$config:["lazy","nullify"],value:{overflowX:"hidden",overflowY:"hidden"}},dayNameSelector:".b-cal-cell-header",monitorResize:!1,eventRenderer:null,gutterHeight:null,expanded:null,overflowClickAction:"popup",dayHeaderRenderer:null}}static get properties(){return{heightAnimation:Promise.resolve()}}descriptionRenderer(){return`${DateHelper.format(this.startDate,this.dateFormat)} - ${DateHelper.format(DateHelper.add(this.endDate,-1,"day"),this.dateFormat)}`}onPaint({firstPaint:e}){if(e){const e=this,{fonts:n}=document,onFirstPaint=()=>{e._eventContainerTop=e._eventContainerHeight=null,e.eventStore.count&&e.performResizeRefresh(null,null,!0)};"loaded"!==(null==n?void 0:n.status)&&n.ready.then((()=>!e.isDestroyed&&onFirstPaint())),onFirstPaint()}}changeElement(){const e=super.changeElement(...arguments);return this.scrollable.addPartner(this.headerScroller,"x"),e}changeHeaderScroller(e,n){return e?e=Scroller.new({element:this.headerCellContainer,widget:this},e):null==n||n.destroy(),e}scrollTo(e){const n=this,{eventFilter:r}=n;return e.isEvent&&(!r||r(e))&&DateHelper.intersectSpans(n.startDate,n.endDate,e.startDate,e.endDate)&&(n.getEventElement(e)||n.expanded||n.autoHeight||n.toggleExpandCollapse()),super.scrollTo(...arguments)}get weeksElement(){return this.element}get overflowElement(){return this.bodyElement}createCellMap(e={}){const n=this,r=n.hideNonWorkingDays?n.nonWorkingDays:oc,{maxEventCount:o}=n,i=ObjectHelper.assign({dayTime:n.dayTime},e),a=super.createCellMap(i);let l,c=0;return a.forEach((e=>{r[e.day]||(l=e),c=Math.max(c,e.renderedEvents.length)})),n.maxEventCount=c,c!==o?(a.clear(),n.createCellMap(i)):(l&&(l.isRowEnd=!0),a)}collectEvents(e){return e=ObjectHelper.assign({dayTime:this.dayTime},e,{getDateIndex:e=>e>this.startDate?"startDate":"date"}),this.eventStore.getEvents(e)}createCellData(e){const n=this,r=DateHelper.diff(n.startDate,e,"day"),o=r;return Object.assign(n.cellMonth.getCellData(e,n.month,n.dayTime),{visibleColumnIndex:o,columnIndex:r,isRowStart:0===o,isRowEnd:!1,renderedEvents:new EventSlots})}get dayStartShift(){var e,n;return null!==(e=null===(n=this.dayTime)||void 0===n?void 0:n.startShift)&&void 0!==e?e:this._dayStartShift}updateDayStartShift(e){this.element.classList.toggle("b-shifted-day",e),this.dayTime=new DayTime(e)}changeDayTime(e){var n;if(e||(e=new DayTime(this.dayStartShift)),null===(n=this._dayTime)||void 0===n||!n.equals(e))return e}dayOfDate(e){return this.dayTime.dayOfDate(e)}updateEndDate(){var e;this.isConfiguring||(null===(e=this._cellMap)||void 0===e||e.clear(),this.refresh())}updateMinDayWidth(e){const{scrollable:n,headerScroller:r}=this,{element:o}=n;this.contentElement.style.setProperty("--min-day-width",e?DomHelper.setLength(e):0),e&&o.scrollWidth>o.clientWidth?n.overflowX=r.overflowX="hidden-scroll":n.overflowX=r.overflowX=!1}updateEventHeight(){super.updateEventHeight(...arguments),this.autoHeight||this.isConfiguring||this.expanded||this.setEventContentHeight(this.cellContentHeight)}updateGutterHeight(){this.isConfiguring||this.setEventContentHeight(this.cellContentHeight)}updateStartDate(e,n){const r=this,o=DateHelper.diff(n,this.endDate,"day"),{refreshCount:i}=r;r.month.date=e,r.isConfiguring||(r.endDate=DateHelper.add(e,o,"day"),r.refreshCount===i&&r.refresh())}get stepUnit(){return`${this.duration} ${this.L("L{DayView.daysUnit}")}`}updateNonWorkingDays(){this.onVisibleDateRangeChange()}updateHideNonWorkingDays(){super.updateHideNonWorkingDays(...arguments),this.onVisibleDateRangeChange()}onCellOverflowGesture({date:e}){ic[this.overflowClickAction.toLowerCase()]?this.expanded=!0:super.onCellOverflowGesture(...arguments)}onVisibleDateRangeChange(){var e;this.isConfiguring||(null===(e=this._cellMap)||void 0===e||e.clear(),this.refresh())}changeAutoHeight(e){const n=this,{eventsPerCell:r}=n;n._autoHeight=e,n.setEventContentHeight(n.cellContentHeight),n.performResizeRefresh(r,n.eventContainerTop,!0)}async setEventContentHeight(e){if(this._eventContentHeight!==e){const n=this,{expanded:r,height:o,cellContainer:i,scrollable:a,owner:l,bodyElement:c}=n,{style:d}=i,{height:u}=d;let{animate:p}=n;if(i.style.height=`${e}px`,c.classList[e?"remove":"add"]("b-zero-height"),l.isDayView&&l.syncScrollbarPadding(),!p)return;i.style.height=u,a.hasOverflow(),n.isAnimating=p;const b=DomHelper.getPropertyTransitionDuration(i,"height");p=p&&b,i.style.height=`${e}px`,n._eventContentHeight=e,p&&await(n.heightAnimation=EventHelper.waitForTransitionEnd({element:i,property:"height",duration:b})),n.isDestroyed||(n.isAnimating=!1,r&&l.isDayView&&l.syncScrollbarPadding(),n.trigger("heightChange",{height:n.height,oldHeight:o}))}}get hasOverflow(){return!this.autoHeight&&this.maxEventCount>this.defaultEventRowCount}get eventsPerCell(){const e=this,{maxEventCount:n}=e;return e.expanded||e.autoHeight?n:Math.min(n,e.defaultEventRowCount)}get cellContentHeight(){const e=this,{parent:n}=e,r=null!=n&&n.isDayView&&n.parent?n.parent.items:null;return null!=r&&r.every((e=>e.isDayView))?Math.max(...r.map((e=>{var n;return(null===(n=e.allDayEvents)||void 0===n?void 0:n.calculateCellContentHeight())||0}))):e.calculateCellContentHeight()}calculateCellContentHeight(){const e=this,{gutterHeight:n}=e;let r=Math.ceil(e.eventContainerTop+e.eventsPerCell*(e.eventHeightInPixels+e.eventSpacing));return n&&(e.eventsPerCell&&(r-=e.eventSpacing),isNaN(n)?r=`calc(${r}px + ${n})`:r+=Number(n)),r}getDateFromPosition(e,n){const r=this,{hideNonWorkingDays:o,contentElement:i}=r,a=i.querySelectorAll(`${r.visibleCellSelector}${o?":not(.b-nonworking-day":""}`),l=i.getBoundingClientRect(),c=e-l.left,d=a.length,{width:u}=l,p=Math.floor(c*d/u);if(c<0||u<c||n<l.top||l.bottom<n)return null;if(r.hideNonWorkingDays){return Array.from(a).map((e=>r.getDateFromElement(e)))[p]}{const e=r.getDateFromElement(a[0]);return e.setDate(e.getDate()+p),e}}async toggleExpandCollapse(){this.expanded=!Boolean(this.expanded)}async updateExpanded(e,n){const r=this;r._expanded=n;const{eventsPerCell:o}=r;r._expanded=e,r.expanded?(r.performResizeRefresh(o,r.eventContainerTop,!0),await r.heightAnimation):(r.scrollable.overflowY="hidden",await r.setEventContentHeight(r.cellContentHeight),n&&!r.isDestroyed&&r.performResizeRefresh(o,r.eventContainerTop,!0))}doRefresh(){var e,n;null===(e=this._cellMap)||void 0===e||e.clear();const r=this,{dayTime:o,startDate:i,endDate:a,headerCellContainer:l,cellContainer:c,dayHeaderRenderer:d}=r,u=(i||a)&&r.cellMap,p=null!==(n=r.nonWorkingDays)&&void 0!==n?n:r.month.nonWorkingDays,b=r.hideNonWorkingDays?p:oc,g=[],m=[],f=[];if(!u)return;let v,y=0,x=0;for(const e=new Date(i);e<a;e.setDate(e.getDate()+1),y++){const n=u.get(o.dateKey(e))||r.createCellData(e);n.columnIndex=n.cellIndex=y,b[n.day]?n.visibleColumnIndex=void 0:(n.isRowStart=0===x,n.visibleColumnIndex=x,x++),g.push(n)}r.weekLength=x;for(let e=0,{length:n}=g;e<n;e++){const n=g[e],{day:o,key:i}=n;if(!b[o]){const e=p[o];n.cell=r.getCell(i),n.row=r.cellContainer;const a=r.getCellDomConfig(n),l=Objects.merge({dataset:{headerDate:i}},a.children[0]);d&&r.callback(d,r,[l,n]),a.dataset.date=i,Object.assign(a.className,{"b-dayview-allday":1,[r.nonWorkingDayCls]:e,[r.weekendCls]:DateHelper.weekends[o],[r.dayCellCls]:1}),a.children.shift(),e||(v=a),f.push(l),m.push(a)}}v&&(v.className["b-last-working-day"]=1),DomSync.sync({targetElement:l,domConfig:{children:f,syncOptions:{releaseThreshold:0,strict:!0}}}),DomSync.sync({targetElement:c,domConfig:{children:m,syncOptions:{releaseThreshold:0,strict:!0}}}),r.refreshCount=(r.refreshCount||0)+1,r.collapseGutter(),r.setEventContentHeight(r.cellContentHeight),r.trigger("refresh")}get eventContainerTop(){return 0}async expandGutter(){const e=this;e._isTemporarilyExpanded||(e.gutterHeight=(e.gutterHeight||0)+e.eventHeightInPixels+e.eventSpacing,await e.setEventContentHeight(e.cellContentHeight),e._isTemporarilyExpanded=!0)}async collapseGutter(){const e=this;e._isTemporarilyExpanded&&(e.gutterHeight=e.gutterHeight-(e.eventHeightInPixels+e.eventSpacing),await e.setEventContentHeight(e.cellContentHeight),e._isTemporarilyExpanded=!1)}addCellHeaderContent(e,n){var r;const{date:o,day:i,tomorrow:a}=n,l=e.children=[{className:"b-day-name-day",html:DateHelper.getDayShortName(i)},{className:"b-day-name-date",html:o.getDate()}];e.className[this.nonWorkingDayCls]=n.isNonWorking,e.className[this.weekendCls]=DateHelper.weekends[i],null!=this&&null!==(r=this.dayTime)&&void 0!==r&&r.startShift&&(l[0].html+=`-${DateHelper.getDayShortName(a.getDay())}`,l[1].html+=`-${a.getDate()}`)}updateLocalization(){this.isConfiguring||this.refresh(),super.updateLocalization()}}CalendarRow.initClass(),CalendarRow._$name="CalendarRow";const{MILLIS_PER_HOUR:sc}=DayTime,ac=new Date(2020,10,22,22,59,59),lc={paint:1,refresh:1,resize:1,eventspercellchange:1},percentifyAxis=e=>"string"==typeof e&&isNaN(Number(e))?e:DomHelper.percentify(e),stopEvent=e=>{e.stopImmediatePropagation(),e.cancelBubble=!0},cc=Object.freeze([]),preventDefault$1=e=>e.ctrlKey&&e.preventDefault();class DayView extends(Panel.mixin(CalendarMixin,DayCellCollecter)){static get $name(){return"DayView"}static get type(){return"dayview"}static get delayable(){return{updateElementLayout:{type:"raf",cancelOutstanding:!0},refreshDayBackground:{type:"raf",cancelOutstanding:!0}}}static get configurable(){return{textContent:!1,scrollable:{overflowY:!0},title:"L{Day}",eventRenderer:null,eventHeight:"auto",hourHeight:42,date:{$config:{equal:"date"},value:null},startDate:{$config:{equal:"date"}},endDate:{$config:{equal:"date"}},fixedDuration:null,visibleStartTime:7,dayStartShift:null,dayStartTime:null,dayEndTime:null,dayTime:0,increment:"15 min",intradayCls:null,showTime:!0,showCircle:!1,iconTarget:"header",eventLayout:{type:"fluid"},minDayWidth:null,eventColourStyleProperty:"backgroundColor",monitorResize:Boolean(DomHelper.scrollBarWidth),eventFilter:void 0,timeFormat:"LST",allDayEvents:{$config:["lazy","nullify"],value:{}},overflowPopup:null,showAllDayHeader:{value:null,$config:null,default:!0},eventSpacing:1,testConfig:{timeFormat:"LST"},maxAllDayHeight:null,fitHours:null,dayCellRenderer:null,coreHours:null,zoomOnMouseWheel:null}}construct(e){var n;this.configuredHiddenVerticalScroll="hidden-scroll"===(null===(n=e.scrollable)||void 0===n?void 0:n.overflowY),super.construct(...arguments),this.startDate||(this.startDate=this.month.date),gn.on({theme:"onThemeChange",thisObj:this})}updateZoomOnMouseWheel(e){var n;e?this.zoomListener=EventHelper.on({element:this.dayContentElement,wheel:"onDayContentMousewheel",thisObj:this,throttled:{buffer:50,alt:preventDefault$1}}):null===(n=this.zoomListener)||void 0===n||n.call(this)}descriptionRenderer(){const{startDate:e,endDate:n,dateFormat:r}=this;return this.duration>1?`${DateHelper.format(e,r)} - ${DateHelper.format(DateHelper.add(n,-1,"day"),r)}`:`${DateHelper.format(e,r)}`}get childItems(){const{allDayEvents:e}=this,n=super.childItems;return e&&n.push(e),n}get dayEndTime(){var e,n;return null!==(e=null===(n=this.dayTime)||void 0===n?void 0:n.timeEnd)&&void 0!==e?e:this._dayEndTime}get dayStartTime(){var e,n;return null!==(e=null===(n=this.dayTime)||void 0===n?void 0:n.timeStart)&&void 0!==e?e:this._dayStartTime}get dayStartShift(){var e,n;return null!==(e=null===(n=this.dayTime)||void 0===n?void 0:n.startShift)&&void 0!==e?e:this._dayStartShift}updateDayEndTime(e){this._dayTime=null,this.dayTime=new DayTime({startShift:this.dayStartShift,timeStart:this.dayStartTime,timeEnd:e})}updateDayStartTime(e){this._dayTime=null,this.dayTime=new DayTime({startShift:this.dayStartShift,timeStart:e,timeEnd:this.dayEndTime})}updateDayStartShift(e){this._dayTime=null,this.dayTime=new DayTime({startShift:e,timeStart:this.dayStartTime,timeEnd:this.dayEndTime})}changeDayTime(e){var n;if(e||(e=new DayTime(this)),null===(n=this._dayTime)||void 0===n||!n.equals(e))return e}updateDayTime(e,n){const r=this,{eventStore:o}=r;if(o&&(o.registerDayIndex(e),n&&o.unregisterDayIndex(n)),!r.isConfiguring){var i;const{startDate:n}=r;r.syncHours(),r.setConfig({date:n,startDate:n}),null===(i=r.allDayEvents)||void 0===i||i.setConfig({date:n,dayTime:e,startDate:n})}}dateKey(e){return this.dayTime.dateKey(e)}dayOfDate(e){return this.dayTime.dayOfDate(e)}isAllDayEvent(e){return e.allDay||!this.dayTime.isIntraDay(e)}async scrollTo(e,n={animate:!0}){const r=this,{allDayEvents:o}=r;if(r.scrollPromise&&await r.scrollPromise,await(null==o?void 0:o.heightAnimation),r.isDestroyed)return;"number"==typeof e&&(e=DateHelper.add(r.startDate,e,"hour"));const i=Boolean(e.getHours);return await super.scrollTo(e,Object.assign({},n,{y:!i})),i?(e=e.getHours()+e.getMinutes()/60,r.scrollable.scrollTo(null,r.getPositionFromTime(e),n)):void 0}getEventElement(e,n){var r;return super.getEventElement(e,n)||(null===(r=this.allDayEvents)||void 0===r?void 0:r.getEventElement(e,n))}getEventElements(e){var n;return super.getEventElements(e)||(null===(n=this.allDayEvents)||void 0===n?void 0:n.getEventElements(e))}getPositionFromTime(e){return DayTime.parse(e)<DayTime.parse(this.dayStartTime)-this.dayStartShift?0:this.dayTime.delta(e,"h")*this.hourHeight}updateShowAllDayHeader(e){var n,r;const o=this,{_allDayEvents:i}=o;null===(n=o._cellMap)||void 0===n||n.clear(),null==i||null===(r=i._cellMap)||void 0===r||r.clear(),i&&(i.element.classList.toggle("b-hide-allday-header",!e),i.refresh()),o.refresh()}changeAllDayEvents(e,n){if(!e)return null==n?void 0:n.destroy();this.getConfig("date");const r=this,{autoCreate:o,dayHeaderRenderer:i,overflowButtonRenderer:a,overflowClickAction:l,overflowPopup:c,avatarRendering:d}=r,u=CalendarRow.reconfigure(n,e,{owner:r,defaults:{type:"calendarrow",calendar:r.calendar,parent:r,cls:{"b-dayview-schedule-container":1,"b-dayview-initializing":1},[void 0!==c?"overflowPopup":null]:c,[a?"overflowButtonRenderer":null]:a,[l?"overflowClickAction":null]:l,[i?"dayHeaderRenderer":null]:i,[d?"avatarRendering":null]:d,autoCreate:o?{newName:o.newName,gesture:o.gesture,startHour:0,duration:"1 day"}:null,dayNameSelector:".b-day-name-date",eventFilter:e=>r.showAllDayHeader&&r.isAllDayEvent(e)&&(!r.eventFilter||r.eventFilter(e)),dayStartTime:r.dayStartTime,dayEndTime:r.dayEndTime,dayStartShift:r.dayStartShift,eventRenderer:r.eventRenderer,eventStore:r.eventStore,month:r.month,startDate:r.startDate,endDate:r.endDate,hideNonWorkingDays:r.hideNonWorkingDays,nonWorkingDays:r.nonWorkingDays,nonWorkingDayCls:r.nonWorkingDayCls,weekendCls:r.weekendCls,weekStartDay:r.weekStartDay,defaultCalendar:r.defaultCalendar,listeners:{resize:"updateElementLayout",heightChange:"updateElementLayout",refresh:"updateElementLayout",catchall:"relayAllDayEvents",showoverflowpopup:"onAllDayOverflowPopupShown",thisObj:r}}});return u&&(u.height=u.flex=null,r.originalAllDayEventsScrollTo=u.scrollTo,u.scrollTo=r.allDayEventsScrollTo.bind(r)),u}onAllDayOverflowPopupShown({overflowPopup:e}){this._overflowPopup=e}allDayEventsScrollTo(e){const n=this,r=e.isEvent?e.startDate:n.changeEndDate(e);return(e.isEvent?DateHelper.intersectSpans(n.startDate,n.endDate,e.startDate,e.endDate):DateHelper.betweenLesser(r,n.startDate,n.endDate))||(n.date=r),n.originalAllDayEventsScrollTo.call(n.allDayEvents,...arguments)}updateAutoCreate(e){var n;const{_allDayEvents:r}=this;null===(n=super.updateAutoCreate)||void 0===n||n.call(this,e),r&&(r.autoCreate=!!e&&{newName:e.newName,gesture:e.gesture,startHour:0,duration:"1 day"})}updateDate(e){const n=this;e>=n.endDate?n.startDate=n.month.date=DateHelper.add(e,-(n.duration-1),"day"):(!n.startDate||!n.endDate||e<n.startDate)&&(n.startDate=n.month.date=e)}updateWeekStartDay(e,n){var r;null===(r=super.updateWeekStartDay)||void 0===r||r.call(this,e),!this.isConfiguring&&this.allDayEvents&&(this.allDayEvents.weekStartDay=e)}updateEventStore(e,n){super.updateEventStore(e,n);const{dayTime:r}=this;r&&(null==e||e.registerDayIndex(r),null==n||n.unregisterDayIndex(r))}get overflowPopup(){var e;return(null===(e=this._allDayEvents)||void 0===e?void 0:e.overflowPopup)||this._overflowPopup}get stepUnit(){return this.duration>1?`${this.duration} ${this.L("L{daysUnit}")}`:this.L("L{dayUnit}")}get eventContentElement(){return this.dayContainerElement}getDateFromEvent(e,n=!1){let r=super.getDateFromEvent(e);const o=this,i=DomHelper.getEventElement(e);return r&&i!==e&&o.dayContainerElement.contains(i)&&(r=DateHelper.add(r,o.dayStartHour+(e.clientY-o.scrollable.element.getBoundingClientRect().y+o.scrollable.y)/o.hourHeight,"hour"),n||(r=DateHelper.round(r,o.increment))),r}getDateFromPosition(e,n){const r=this,{eventContentElement:o,allDayEvents:i}=r,a=r.dayContainerElement.querySelectorAll(`.${r.dayCellCls}`),l=Rectangle.fromScreen(o).roundPx(),{width:c}=l,{height:d}=Rectangle.fromScreen(o.childNodes[0]).roundPx(),u=e-l.x,p=n-l.y,b=a.length,g=Math.floor(u/c*b);if(i&&(u<0||c<u||p<0||d<p))return i.getDateFromPosition(e,n);let m=r.getDateFromElement(a[0]);if(r.hideNonWorkingDays){m=Array.from(a).map((e=>r.getDateFromElement(e)))[g]}else g&&m.setDate(m.getDate()+g);return DateHelper.round(DateHelper.add(DateHelper.clearTime(m),r.dayStartMs+Math.floor(p/d*r.getDayLength()),"ms"),r.increment)}doRefresh(){if(this.isVisible){DomHelper.addTemporaryClass(this.element,"b-no-transitions",200,this);const e=this,n=[];e.today=e.dayTime.startOfDay(new Date);for(const r=new Date(e.startDate);r<e.endDate;r.setDate(r.getDate()+1))n.push(e.getDayDomConfig(r));DomSync.sync({targetElement:e.dayContainerElement,domConfig:{onlyChildren:!0,children:n,syncOptions:{syncIdField:"date",releaseThreshold:0,strict:!0}}}),e.refreshDayBackground(),e.refreshCount=(e.refreshCount||0)+1,e.syncCurrentTimeIndicator(),e.trigger("refresh")}}getDayDomConfig(e){const n=this,{dayCellRenderer:r}=n,o=n.dayTime.dateKey(e),i=n.cellMap.get(o)||r&&n.createCellData(e),a=i?i.day:e.getDay(),l=n.nonWorkingDays||n.month.nonWorkingDays;if(!n.hiddenNonWorkingDays[e.getDay()]){const c={dataset:{date:o},className:{"b-dayview-day-detail":1,[n.dayCellCls]:1,[n.nonWorkingDayCls]:l[a]||!1,[n.weekendCls]:DateHelper.weekends[a],[n.todayCls]:!(e-n.today),"b-last-cell":!(e-n.lastVisibleDate)},style:{},children:[],syncOptions:{syncIdField:"eventId",releaseThreshold:0,strict:!0}};return null!=i&&i.events.length&&n.renderEvents(i,c),r?n.callback(r,n,[c,i]):c}}refreshDayEvents(e){const n=this;e=n.changeEndDate(e),n.today=n.dayTime.startOfDay(new Date);const r=n.getDayDomConfig(e);DomHelper.addTemporaryClass(n.element,"b-no-transitions",200,n),r.onlyChildren=!0,DomSync.sync({targetElement:n.getDayElement(e),domConfig:r})}renderEvents(e,n){const r=this,{eventSpacing:o}=r,i=r.eventLayout.layoutEvents(e);for(let e,a,l,c=0,d=i.length;c<d;c++)a=i[c],l=a.eventRecord,e=r.createEventDomConfig({eventRecord:l}),e.className["b-starts-above"]=a.startsBefore,e.className["b-ends-below"]=a.endsAfter,a.cluster.items.length>1&&(e.className["b-cal-in-cluster"]=1),Object.assign(e.style,{top:percentifyAxis(a.top),left:percentifyAxis(a.left),width:percentifyAxis(a.width),height:percentifyAxis(a.height),[o?"padding-bottom":""]:`${o}px`,minWidth:percentifyAxis(a.minWidth)}),n.children.push(e)}get overflowElement(){return this.dayContentElement}get cellMap(){var e;return null!==(e=this._cellMap)&&void 0!==e&&e.populated?this._cellMap:this.createCellMap()}get bodyConfig(){const e=this,{allDayEvents:n,maxAllDayHeight:r}=e;return Object.assign(super.bodyConfig,{children:{alldayRowElement:n?{className:{"b-dayview-allday-row":1},style:{[r?"maxHeight":""]:DomHelper.setLength(r)},children:{cornerElement:{className:{"b-dayview-allday-row-start":1},children:{allDayTextElement:{className:"b-dayview-allday-text",html:e.L("L{EventEdit.All day}")},allDayToggleIcon:{tag:"button",className:"b-expand-allday-button b-icon b-icon-expand-row",dataset:{btip:"L{DayView.expandAllDayRow}"}}}},allDayEvents:null==n?void 0:n.element,$scrollerPad:DomHelper.scrollBarPadElement}}:null,dayContentElement:{tabIndex:-1,className:{"b-dayview-day-content":1},children:{timeAxisElement:{children:e.getTimeElementConfigs(),className:{"b-timeaxis-container":1}},dayContainerElement:{className:{"b-dayview-day-container":1}}}},horizontalScrollerElement:{className:"b-virtual-scrollers b-hide-display",children:[{className:"b-virtual-scroller"},DomHelper.scrollBarPadElement]}}})}onDayContentMousewheel(e){if(e.ctrlKey){e.preventDefault();const n=this,{scrollable:r,hourHeight:o}=n,i=r.element.getBoundingClientRect().y,a=e.clientY-i,l=DateHelper.add(n.startDate,n.dayStartHour+(a+r.y)/o,"hour"),c=n.getDayLength("h"),d=Math.min(Math.abs(e.wheelDeltaY),10)*Math.sign(e.wheelDeltaY),u=Math.max(o+d,r.clientHeight/c)-o;n.hourHeight+=u,r.y=n.getPositionFromTime(l)-a}}createCellMap(){const{dayTime:e,hiddenNonWorkingDays:n,showAllDayHeader:r}=this;return super.createCellMap({dayTime:e,startOnly:r,allowPartial:!r,skipPropagate:!0,rawEvents:!0,filter:o=>(!r||e.isIntraDay(o))&&e.intersects(o)&&!n[e.dayOfWeek(o.startDate)]})}get month(){const e=this;let{_month:n}=e;return n||(e._month=n=new Month({date:e.startDate||e.dayTime.today,weekStartDay:e.weekStartDay,hideNonWorkingDays:e.hideNonWorkingDays,nonWorkingDays:e.nonWorkingDays}),null==e.nonWorkingDays&&(e.nonWorkingDays=n.nonWorkingDays),null==e.weekStartDay&&(e.weekStartDay=n.weekStartDay)),n}getDayLength(e="ms"){return this.dayTime.duration(e)}changeIncrement(e){return"string"==typeof e?(e=DateHelper.parseDuration(e),DateHelper.as("ms",e.magnitude,e.unit)):e}get dayStartHour(){return null==this.dayStartTime?0:Math.floor(this.dayStartTime/sc)}get dayEndHour(){return null==this.dayEndTime?24:Math.ceil(this.dayEndTime/sc)}get dayStartMs(){return null==this.dayStartTime?0:this.dayStartTime}get dayEndMs(){return null==this.dayEndTime?24*sc:this.dayEndTime}get dayStartOffset(){return this.dayTime.startTimeOffsetMs/sc*this.hourHeight}changeEventFilter(e){return void 0===e&&(e=e=>!this.isAllDayEvent(e)),e}changeEventLayout(e,n){return DayLayout.reconfigure(n,e,this)}updateNonWorkingDays(e){var n;const r=this;var o;(null===(n=super.updateNonWorkingDays)||void 0===n||n.call(this,e),r._allDayEvents&&(r._allDayEvents.nonWorkingDays=e),r.isConfiguring)||(null===(o=r._cellMap)||void 0===o||o.clear(),r.refresh())}updateMaxAllDayHeight(e){DomHelper.setLength(this.alldayRowElement,"max-height",e)}updateHideNonWorkingDays(e){const n=this;var r;(super.updateHideNonWorkingDays(e),n.syncLastVisibleDate(n.endDate),n._allDayEvents&&(n._allDayEvents.hideNonWorkingDays=e),n.isConfiguring)||(null===(r=n._cellMap)||void 0===r||r.clear(),n.refresh())}syncHours(){var e;const n=this;null===(e=n._cellMap)||void 0===e||e.clear(),DomSync.sync({targetElement:n.timeAxisElement,childrenOnly:!0,domConfig:{children:n.getTimeElementConfigs()}}),n.updateElementLayout.now(),n.refresh()}syncCurrentTimeIndicator(){const e=this,n=new Date,{currentTimeIndicator:r,dayTime:o,endDate:i,startDate:a}=e;if(a&&i)if(DateHelper.betweenLesser(n,a,i)&&o.contains(n)){const i=e.getDayElement(n),a=e.getDayLength("ms"),l=o.delta(n,"ms");r.parentNode!==i&&i.appendChild(r),r.style.top=DomHelper.percentify(l/a*100)}else r.remove()}get currentTimeIndicator(){return this._currentTimeIndicator||(this._currentTimeIndicator=DomHelper.createElement({className:"b-current-time-indicator",retainElement:!0}))}getTimeElementConfigs(){const e=[],n=new Date(2e3,5,15,0,0,0),{dayTime:r}=this,{startHour:o}=r,i=r.duration("h");for(let r,a=1;a<i;a++)n.setDate(0),n.setHours(o+a),r=n.getHours(),e.push({className:`b-dayview-timeaxis-time b-dayview-timeaxis-time-${r<10?"0":""}${r}`,html:DateHelper.format(n,this.timeFormat)});return e.push(...this.coreHoursBlockers),e}changeCoreHours(e){const n=this;return e&&(e._overlayDay=e.overlayDay,Object.defineProperty(e,"overlayDay",{set(e){this._overlayDay=e,n.updateElementLayout()},get(e){return this._overlayDay}})),e}get coreHoursBlockers(){const{dayTime:e,coreHours:n}=this;return n?[{style:{height:`calc(var(--hour-height) * ${e.delta(n.start,"h")})`},class:"b-outside-core-hours b-before-core-hours"},{style:{top:`calc(var(--hour-height) * ${e.delta(n.end,"h")})`,height:`calc(var(--hour-height) * ${e.timeEnd/1e3/60/60-n.end})`},class:"b-outside-core-hours b-after-core-hours"}]:cc}changeStartDate(e,n){if("string"==typeof e?e=DateHelper.parse(e,"YYYY-MM-DD"):null==e&&(e=this.date),e=this.dayOfDate(e),!isNaN(e)&&(!n||n-e))return super.changeStartDate(e,n)}updateStartDate(e,n){const r=this,{endDate:o}=r;if(r.month.date=e,n||!o){r._allDayEvents&&(r._allDayEvents.startDate=e);const a=o&&new Date(o),l=o?r.calculateDuration(n,o):1,c=DateHelper.add(e,l,"day");if(!r.isConfiguring&&!DateHelper.betweenLesser(r.date,e,c))if(n){const e=DateHelper.diff(n,r.date,"day");r.date=DateHelper.add(r.startDate,e,"day")}else r.date=e;var i;if(r.endDate=c,!(a&&r.endDate-a))null===(i=r._cellMap)||void 0===i||i.clear(),r.refresh()}}changeEndDate(e,n){if("string"==typeof e?e=DateHelper.parse(e,"YYYY-MM-DD"):null==e&&(e=this.startDate),e=this.dayTime.dayOfDate(e),!isNaN(e)&&(!n||n-e))return super.changeEndDate(e)}updateEndDate(e,n){const r=this;if(r.syncLastVisibleDate(e),n){var o;if(r.fixedDuration){const n=new Date(r.startDate),o=r.calculateDuration(r.startDate,e);if(r.startDate=DateHelper.add(e,-o,"day"),r.startDate-n)return}r._allDayEvents&&(r._allDayEvents.endDate=e),null===(o=r._cellMap)||void 0===o||o.clear(),r.refresh()}}syncLastVisibleDate(e){const{hiddenNonWorkingDays:n}=this,r=this.lastVisibleDate=new Date(e);for(r.setDate(r.getDate()-1);n[r.getDay()];)r.setDate(r.getDate()-1)}changeMinDayWidth(e){return"number"==typeof e?Math.max(e,50):null}updateMinDayWidth(e){this.contentElement.style.setProperty("--min-day-width",DomHelper.setLength(e)),this._allDayEvents&&(this._allDayEvents.minDayWidth=e),this.updateElementLayout()}updateHourHeight(){this.isConfiguring||this.updateElementLayout()}get hourHeight(){return!this.isConfiguring&&this.fitHours?Math.max(this.scrollable.clientHeight/this.getDayLength("hour"),this.minHourHeight):this._hourHeight}changeFitHours(e){return null!=e&&e.minHeight?this.minHourHeight=Math.max(e.minHeight,9):this.minHourHeight=17,e}updateFitHours(e){this.isConfiguring||(this.updateElementLayout(),this.scrollable.overflowY=e?"hidden":"auto"),this.monitorResize=DomHelper.scrollBarWidth||e}updateEventSpacing(){var e;this.isConfiguring||(null===(e=this._cellMap)||void 0===e||e.clear(),this.refresh())}onPaint({firstPaint:e}){const n=this,{dayContainerElement:r,horizontalScrollerElement:o}=n,{scrollBarWidth:i}=DomHelper;if(e){const{allDayEvents:e}=n;n.horizontalScroller=new Scroller({element:r,overflowX:!i||"hidden-scroll",overflowY:"clip"}),e&&e.element.classList.remove("b-dayview-initializing"),i&&(ResizeMonitor.addResizeListener(n.dayContainerElement,n.onDayContainerResize.bind(n)),n.scrollbarScroller=new Scroller({element:o.firstChild,scrollWidth:r.scrollWidth-i,overflowX:!0,overflowY:!1}),n.horizontalScroller.addPartner(n.scrollbarScroller)),e&&n.horizontalScroller.addPartner(e.scrollable),n.refresh(),n.updateElementLayout.now(),n.setInterval(n.syncCurrentTimeIndicator.bind(n),3e4),e&&(EventHelper.on({click:{element:n.cornerElement,handler:"onCornerClick"},mousemove:{element:n.allDayEvents.element.nextSibling,handler:stopEvent,capture:!0},thisObj:n}),n.scrollable.on({overflowChange:"syncScrollbarPadding",thisObj:n})),n.scrollToVisibleStartTime()}}scrollToVisibleStartTime(){const e=this,n=e.getPositionFromTime(e.visibleStartTime);e.scrollable.scrollTo(null,n,{animate:!1,block:"start"}),e.allDayEvents&&e.scrollable.y!==n&&e.allDayEvents.on({heightChange:"scrollToVisibleStartTime",thisObj:e,once:!0,expires:2e3})}relayAllDayEvents(e){const{type:n}=e;if(!lc[n])return this.trigger(n,e)}async onCornerClick(){const{allDayEvents:e}=this;await e.toggleExpandCollapse(),this.isDestroyed||(this.syncScrollbarPadding(),this.allDayToggleIcon.dataset.btip=e.expanded?this.L("L{collapseAllDayRow}"):this.L("L{expandAllDayRow}"))}syncScrollbarPadding(){if(!this.configuredHiddenVerticalScroll&&this.allDayEvents)if(DomHelper.scrollBarWidth){if(!this.allDayEvents.isAnimating){const{allDayEvents:e,alldayRowElement:n,scrollable:r}=this,o=this.fitHours&&r.clientHeight/this.getDayLength("hour")>=this.minHourHeight,i=!o&&r.hasOverflow(),{headerElement:a,scrollable:l}=e,c=e.expanded||e.autoHeight,d=Boolean(c&&l.hasOverflow());i&&d?(a.classList.add("b-show-yscroll-padding"),n.classList.remove("b-show-yscroll-padding"),r.overflowY=l.overflowY="auto"):d!==i?d?(a.classList.add("b-show-yscroll-padding"),l.overflowY="auto",r.overflowY="scroll"):(a.classList.remove("b-show-yscroll-padding"),n.classList.add("b-show-yscroll-padding"),l.overflowY="hidden",r.overflowY=!o&&"auto"):(n.classList.remove("b-show-yscroll-padding"),a.classList.remove("b-show-yscroll-padding"),r.overflowY=!o&&"auto",l.overflowY="hidden")}}else this.scrollable.overflowY=this.allDayEvents.scrollable.overflowY="auto"}onInternalResize(e,n,r,o,i){const{_allDayEvents:a}=this;super.onInternalResize(e,n,r,o,i),i&&(null==a||a.performResizeRefresh(a.eventsPerCell,a.eventContainerTop),r!==i&&(this.updateElementLayout(),this.syncScrollbarPadding()))}onThemeChange(){this.updateElementLayout()}onDayContainerResize(e,{height:n}={},{height:r}){(r!==n||DomHelper.scrollBarWidth&&this.minDayWidth)&&this.updateElementLayout()}async updateElementLayout(){var e,n;if(!this.refreshCount||null!==(e=this.owner)&&void 0!==e&&e.isDestroyed)return;const r=this,{dayContainerElement:o,horizontalScrollerElement:i,horizontalScroller:a,allDayEvents:l}=r,c=o.querySelectorAll(`.${r.dayCellCls}`),{scrollBarWidth:d}=DomHelper;let u,p;if(r.timeAxisElement.classList.toggle("b-core-hours-overlay-day",Boolean(null===(n=r.coreHours)||void 0===n?void 0:n.overlayDay)),l){const e=r.cornerElement.classList;l.hasOverflow?(e.add("b-has-cell-overflow"),e.toggle("b-expanded",l.expanded)):e.remove("b-has-cell-overflow")}for(r.refreshDayBackground.now(),u=0,p=c.length-1;u<=p;u++)c[u].classList.toggle("b-last-cell",u===p);if(d&&(l&&r.syncScrollbarPadding(),i.classList.toggle("b-show-yscroll-padding",r.scrollable.hasScrollbar()),c.length))if(r.minDayWidth&&o.scrollWidth>o.clientWidth){const e=(r.minDayWidth||(c.length?c[0].offsetWidth:0))*c.length;i.classList.remove("b-hide-display"),r.scrollbarScroller.scrollWidth=e,a.overflowX="hidden-scroll"}else i.classList.add("b-hide-display"),a.overflowX=!1}refreshDayBackground(){const e=this,{contentElement:n,hourHeight:r,dayStartOffset:o,scrollable:i}=e,a=e.getDayLength("hour"),l=e.fitHours&&i.clientHeight/a>=e.minHourHeight?i.clientHeight:r*a,c=BrowserHelper.isFirefox?Math.ceil((r-1)/2):(r-1)/2,d=n.style,u=Math.ceil(DateHelper.format(ac,e.timeFormat).length/2)+.5;d.setProperty("--time-axis-width",`${u}em`),d.setProperty("--day-length",a),d.setProperty("--day-height",`${l}px`),d.setProperty("--hour-height",`${r}px`),d.setProperty("--half-hour-height",`${c}px`),d.setProperty("--day-start-offset",`${o}px`)}updateLocalization(){!this.isConfiguring&&this.allDayTextElement&&DomSync.sync({targetElement:this.allDayTextElement,domConfig:{html:this.L("L{EventEdit.All day}")}}),super.updateLocalization()}}DayView.initClass(),DayView._$name="DayView";const dc=/^(\d+)ev$/,hc={shrinkwrap:1,expand:1};class MonthView extends(CalendarPanel.mixin(CalendarMixin,DayCellCollecter,DayCellRenderer)){static get $name(){return"MonthView"}static get type(){return"monthview"}static get configurable(){return{localizableProperties:["title","stepUnit"],title:"L{Month}",stepUnit:"L{monthUnit}",localeClass:this,dayNumberCentered:null,eventHeight:20,minHeight:485,autoRowHeight:{$config:"lazy",value:!1},maxEventsPerCell:100,minRowHeight:null,overflowClickAction:"popup"}}static get delayable(){return{syncCalendarWeekDaysWithScrollable:{type:"raf",cancelOutstanding:!0},onAllWeekElementsCollapsed:{type:"raf",cancelOutstanding:!0}}}onCalendarStoreChange(){super.onCalendarStoreChange(...arguments),this.syncShrinkwrappedRows()}onDateChange({changes:e}){e.m&&this.syncShrinkwrappedRows()}onCellOverflowGesture({date:e}){hc[this.overflowClickAction.toLowerCase()]?this.shrinkwrapWeekRow(e):super.onCellOverflowGesture(...arguments)}addCellHeaderContent(e,n){const r={className:{"b-day-name":!0}};return e.children=[n.visibleColumnIndex||this.showWeekColumn?null:{className:"b-week-num",text:n.week[1]},r],r}get shrinkwrappedRows(){return this.weeksElement.querySelectorAll(".b-shrinkwrapped")}get shrinkwrapRowHeights(){const e=this,n=[],{cellMap:r}=e;return e.month.eachWeek(((e,[o])=>{let i=0;for(let e=0;e<7;e++,o.setDate(o.getDate()+1)){const e=r.get(DateHelper.makeKey(o));e&&(i=Math.max(i,e.renderedEvents.length))}n.push(i)})),n.map((n=>e.eventHeightInPixels*n+e.eventSpacing*(n+1)+Math.ceil(e._eventContainerTop)))}getEventsPerCell(e){const n=this;if(n.hasShrinkwrappedRows){const r=Math.floor(DateHelper.diff(n.startDate,e,"d")/7);if(n.weekElements[r].classList.contains("b-shrinkwrapped"))return n.maxEventsPerCell;{const e=n.weekElements[r].querySelector(this.visibleCellSelector).offsetHeight-this.eventContainerTop;return Math.floor((e+n.eventSpacing)/(this.eventHeightInPixels+n.eventSpacing))}}return n.eventsPerCell}getMaxEventsForWeek(e){const{row:n}=this.getWeekContext(e);return Math.max(...Array.from(n.querySelectorAll(this.visibleCellSelector)).map((e=>{const n=this.cellMap.get(e.dataset.date);return(null==n?void 0:n.renderedEvents.length)||0})))}getWeekContext(e){let n,r;if("number"==typeof e)r=e,n=DateHelper.parseKey(this.weekElements[e].querySelector(this.visibleCellSelector).dataset.date);else if(1===e.nodeType)n=DateHelper.parseKey(e.closest(".b-calendar-row").querySelector("[data-date]").dataset.date),r=Math.floor(DateHelper.diff(this.startDate,n,"d")/7);else{const o=(e.getDay(e)-DateHelper.weekStartDay+7)%7;n=DateHelper.add(DateHelper.clearTime(e),-o,"d"),r=Math.floor(DateHelper.diff(this.startDate,e,"d")/7)}return{rowIndex:r,weekStart:n,row:this.weekElements[r]}}shrinkwrapWeekRow(e,n=!0){const r=this,{weekStart:o,row:i}=r.getWeekContext(e),{weekElements:a}=r,l=i.classList.contains("b-shrinkwrapped"),c=r.getMaxEventsForWeek(e),d=r.eventHeightInPixels*c+r.eventSpacing*(c+1)+Math.ceil(r._eventContainerTop);for(let e=0,{length:n}=a;e<n;e++){const n=a[e];n.classList.contains("b-shrinkwrapped")||(n.style.flex=`0 0 ${DomHelper.percentify(1/r.visibleWeekCount*100)}`)}const u=i.getBoundingClientRect();if(i.classList.add("b-shrinkwrapped"),d>u.height&&i.classList.add("b-expanded"),r.hasShrinkwrappedRows=!0,i.style.flex=`0 0 ${d}px`,n&&r.refresh(),l||r.trigger("weekShrinkwrap",{weekStart:o,element:i}),n)return r.isAnimating=!0,r.scrollable={overflowY:"auto"},new Promise((e=>{EventHelper.onTransitionEnd({element:i,property:"flex-basis",handler:"onAllWeekElementsExpanded",thisObj:r,args:[e]})}))}onAllWeekElementsExpanded(e,n,r){this.isAnimating=!1,this.syncCalendarWeekDaysWithScrollable(),r()}flexWeekRow(e,n=!0){const r=this,{weekStart:o,row:i}=r.getWeekContext(e);if(i.classList.contains("b-shrinkwrapped")){i.style.flex=`0 0 ${DomHelper.percentify(1/r.visibleWeekCount*100)}`,i.classList.add("b-flexing"),r._autoRowHeight=!1,r.trigger("weekFlex",{weekStart:o,element:i}),n&&(r.isAnimating=!0);return new Promise((e=>{EventHelper.onTransitionEnd({element:i,property:"flex-basis",handler:n?"onAllWeekElementsCollapsed":"onWeekElementCollapsed",thisObj:r,args:[e]})}))}}onWeekElementCollapsed(e,n,r){e.classList.remove("b-shrinkwrapped","b-flexing","b-expanded"),r()}onAllWeekElementsCollapsed(e,n,r){const o=this,{weekElements:i}=o;if(e.classList.remove("b-shrinkwrapped","b-flexing","b-expanded"),o.isAnimating=!1,!o.contentElement.querySelector(".b-calendar-week.b-shrinkwrapped")){for(let e=0,{length:n}=i;e<n;e++){const n=i[e];n.classList.contains("b-shrinkwrapped")||(n.style.flex="")}o.scrollable={overflowY:o.scrollable.scrollHeight>o.scrollable.clientHeight?"auto":"hidden"}}o.hasShrinkwrappedRows=o.shrinkwrappedRows.length,o.refresh(),o.syncCalendarWeekDaysWithScrollable(),r()}syncCalendarWeekDaysWithScrollable(){var e;this.weekdaysHeader.classList[null!==(e=this.scrollable)&&void 0!==e&&e.hasScrollbar()?"add":"remove"]("b-show-yscroll-padding")}updateEventHeight(e,n){const r=this;if(super.updateEventHeight(e,n),!r.isConfiguring){var o;null!==(o=r.minRowHeight)&&void 0!==o&&o.match(dc)&&r.updateMinRowHeight(r._minRowHeight),r.syncShrinkwrappedRows();const e=DomHelper.getEdgeSize(r.element,"padding","tb");r.minHeight=6*(2*(r.eventHeightInPixels+1)+3*r.eventSpacing+Math.ceil(r.eventContainerTop))+r.weekdaysHeader.offsetHeight+7+e.height}}updateMinRowHeight(e){var n,r,o;const i=this,a=parseInt(null===(n=e)||void 0===n||null===(r=n.match)||void 0===r||null===(o=r.call(n,dc))||void 0===o?void 0:o[1]);if(!isNaN(a)){if(i.isConfiguring)return i.on({paint:"updateMinRowHeight",args:[e],once:!0});e=i.eventHeightInPixels*a+i.eventSpacing*(a+1)+Math.ceil(i.eventContainerTop)}i.cssMinRowHeight=DomHelper.setLength(e),super.updateMinRowHeight(e),i.isAnimating?i.on({animationEnd:"performResizeRefresh",thisObj:i,args:[i._eventsPerCell,i._eventContainerTop],once:!0}):i.performResizeRefresh(i._eventsPerCell,i._eventContainerTop)}async updateAutoRowHeight(e,n){var r,o;const{weekElements:i}=this,{length:a}=i,l=null===(r=this.features||(null===(o=this.calendar)||void 0===o?void 0:o.features))||void 0===r?void 0:r.weekExpander;let c;if(l&&e&&(l.disabled=l.disabledByAutoRowHeight=!0),e)for(let e=0;e<a;e++)c=this.shrinkwrapWeekRow(e,e===a-1);else for(let e=0;e<a;e++)c=this.flexWeekRow(e,e===a-1);await c,l&&!e&&l.disabledByAutoRowHeight&&(l.disabled=l.disabledByAutoRowHeight=!1)}syncShrinkwrappedRows(){if(this.isVisible){const{shrinkwrappedRows:e}=this;for(let n=0,{length:r}=e;n<r;n++)this.shrinkwrapWeekRow(e[n],n===r-1)}}changeScrollable(e,n){var r;return null!==(r=e=super.changeScrollable(e,n))&&void 0!==r&&r.overflowX&&(this.weekdaysScrollable||(this.weekdaysScrollable=new Scroller({element:this.weekdaysHeader,overflowX:"hidden-scroll"})),e.addPartner(this.weekdaysScrollable,"x")),e}collectEvents(e){return e.getDateIndex=e=>e>this.startDate?"startDate":"date",this.eventStore.getEvents(e)}getDayElement(e,n){if("string"!=typeof e&&(e=DateHelper.makeKey(e)),!n||parseInt(e.substr(5,2))===this.month.month+1)return super.getDayElement(e)}descriptionRenderer(){return DateHelper.format(this.date,"MMMM, YYYY")}calendarHitTest(e){const n=super.calendarHitTest(e),r=DomHelper.getEventElement(e);if(n){var o;const e=r.closest(".b-calendar-week"),a=null==e||null===(o=e.dataset.week)||void 0===o?void 0:o.split(",").map(Number);var i;if(a)n.cell=n.cell||r.closest(".b-calendar-cell"),n.dayNumber=Number(null===(i=n.cell)||void 0===i?void 0:i.dataset.columnIndex),n.week=a,n.weekElement=e,n.weekNumber=a[1],n.weekOffset=a[1]-Number(this.weeksElement.firstElementChild.dataset.week.split(",")[1])}return n}getDateFromPosition(e,n){const r=this,o=r.weeksElement.childNodes;for(let i,a=0;a<o.length;++a)if(i=o[a].getBoundingClientRect(),i.top<=n&&n<i.bottom&&i.left<=e&&e<i.right){const n=Math.floor((e-i.left)*r.weekLength/i.width);if(r.hideNonWorkingDays){return Array.from(o[a].querySelectorAll(r.visibleCellSelector)).map((e=>r.getDateFromElement(e)))[n]}{const e=r.getDateFromElement(o[a].querySelector(r.visibleCellSelector));return e.setDate(e.getDate()+n),e}}return null}getWeekElementFor(e){const n=DomHelper.getEventElement(e);return(null==n?void 0:n.closest(".b-calendar-week"))||null}updateEventStore(e,n){var r;null===(r=super.updateEventStore)||void 0===r||r.call(this,e,n),CalendarPanel.prototype.refresh.call(this)}updateOverflowClickAction(){this.refresh()}doRefresh(){var e;this.isConfiguring||(this.getConfig("autoRowHeight"),null===(e=this._cellMap)||void 0===e||e.clear());const n=super.doRefresh();return this.syncCalendarWeekDaysWithScrollable(),n}showEvent(e){this.setDate(e.startDate)}changeDayNumberCentered(e){return Boolean(e)}updateShowWeekColumn(e){e||this.element.querySelector(".b-week-num")||this.doRefresh(),super.updateShowWeekColumn(e)}updateHideNonWorkingDays(e){var n;null===(n=super.updateHideNonWorkingDays)||void 0===n||n.call(this,e),this.isConfiguring||this.refresh()}updateDayNumberCentered(e){const n=this;n._dayNumberCentered||"nonCenteredDayNumShowWeekColumn"in n||(n.nonCenteredDayNumShowWeekColumn=n.showWeekColumn),n._dayNumberCentered=e,n.element.classList[e?"add":"remove"]("day-number-center"),n.showWeekColumn=!!e||n.nonCenteredDayNumShowWeekColumn}get dayNameSelector(){return this.showWeekColumn?".b-cal-cell-header":super.dayNameSelector}set dayNameSelector(e){this._dayNameSelector=e}isValidTargetDate(e){if(e.getMonth()!==this.month.month){var n,r;const o=this.minDate||(null===(n=this.calendar)||void 0===n?void 0:n.minDate),i=this.maxDate||(null===(r=this.calendar)||void 0===r?void 0:r.maxDate);if(!isNaN(o)||!isNaN(i)){const{cellMonth:n}=this;if(n.date=e,!isNaN(o)&&n.startDate<o)return!1;if(!isNaN(i)&&DateHelper.add(n.endDate,1,"d")>i)return!1}}return!0}set startDate(e){this.date=e}get startDate(){return super.startDate}next(){this.date=DateHelper.add(this.date||this.startDate,1,"month")}previous(){this.date=DateHelper.add(this.date||this.startDate,-1,"month")}sortEvents(e){e.sort(EventSorter.interDaySorterFn)}}MonthView.initClass(),MonthView._$name="MonthView";const uc=new Date(0),pc=DateHelper.add(uc,1,"day"),bc=Object.freeze(new Map);class ResourceView extends(Panel.mixin(CalendarMixin)){static get $name(){return"ResourceView"}static get type(){return"resourceview"}static get configurable(){return{textContent:!1,scrollable:{overflowX:!0},date:{$config:{equal:"date"},value:null},view:{type:"weekview"},stableResourceOrder:!0,resourceWidth:null,hideNonWorkingDays:null,viewCache:{$config:["lazy","nullify"],value:!0},avatarRendering:{},meta:null,showAvatars:!0}}construct(){var e,n;super.construct(...arguments),null===(e=this.calendar.sidebar)||void 0===e||null===(n=e.widgetMap.resourceFilter)||void 0===n||n.on({change:"onResourceFilterSelectionChange",thisObj:this})}changeView(e){return this.viewType=bryntum.Calendar.Modes.resolveType(e.type),e}eachView(e,n,r=null){const o=null==n,{items:i}=this;for(let a=0,{length:l}=i;a<l;a++){const l=i[a];if(!l.isResourceDayViewTimeAxis&&(o&&(n=[l,a]),!1===l.callback(e,r||l,n)))return}}updateResourceStore(e){var n;this.detachListeners("resourceViewResourceChange"),null===(n=super.updateResourceStore)||void 0===n||n.call(this,e),e.on({name:"resourceViewResourceChange",change:"onResourceStoreChange",sort:"onResourceStoreSort",thisObj:this}),this.refreshSoon()}onResourceStoreChange(){this.refreshSoon()}onResourceStoreSort({source:e}){const n=this.items.filter((e=>e.isVisible&&!e.isResourceDayViewTimeAxis)),r=e.map((e=>this.createViewId(e))),o=n.map((e=>e.id));ObjectHelper.isEqual(r,o)||(this.remove(...n),this.refreshSoon())}onResourceFilterSelectionChange(){this.refreshSoon()}changeViewCache(e,n){if(e)return new Bag;n&&(n.forEach((e=>e.destroy())),n.clear())}getResourceView(e){return this.viewCache.get(this.createViewId(e))||this.createView(e)}refresh(){const e=this;e.refreshSoon.cancel(),e.isVisible?e.doRefresh():-1===e.findListener("paint","doRefresh",e)&&e.on({paint:"doRefresh",thisObj:e,once:!0,prio:100})}doRefresh(){const e=this,{scrollBarWidth:n}=DomHelper,{calendar:r,_items:o,contentElement:i}=e,{resourceFilter:a}=null==r?void 0:r.widgetMap,l=a?e.resourceStore.records.filter((e=>a.value.includes(e))):e.resourceStore.records,{length:c}=l,d=[],u=[],p={};let b=0,g=!1;for(let n=0;n<c;n++){const r=e.getResourceView(l[n]);o.includes(r)?b++:d.push(r),p[r.id]=1}if(b<o.count&&(o.forEach((e=>{e.isResourceDayViewTimeAxis||p[e.id]||u.push(e)})),e.remove(u)),e.add(...d),d.length||u.length){let n;g=(d[0]||u[0]).isDayView,g?e.dayViewTimeAxis.show():(e._dayViewTimeAxis&&e.dayViewTimeAxis.hide(),e._dayViewScroller&&e.dayViewScroller.hide());for(let r=0,{items:o}=e,{length:a}=o;r<a;r++){var m;const e=o[r],{scrollable:a}=e;e.element.classList.remove("b-last-resource-view"),e.isResourceDayViewTimeAxis||(e.element.classList[r>1?"remove":"add"]("b-first-resource-view"),n=e),i.appendChild(e.element),a&&(a.clearPartners(),r&&e.scrollable.addPartner(o[r-1].scrollable,"y")),null===(m=e.allDayEvents)||void 0===m||m.refresh()}n&&n.element.classList.add("b-last-resource-view")}if(g&&n){const{dayViewTimeAxis:n,dayViewScroller:r}=e;r[n.scrollable.scrollHeight>n.scrollable.clientHeight?"show":"hide"]()}e.refreshCount=(e.refreshCount||0)+1,e.trigger("refresh")}onCalendarPointerInteraction(){}onCalendarStoreChange(){}createView(e){var n;const r=this,{resourceStore:o}=r,{project:i}=o,a=Objects.merge({project:i,readOnly:r.readOnly,allowOverlap:r.allowOverlap,eventFilter:r.createSubViewFilter(e),calendar:r.calendar,id:r.createViewId(e),cls:"b-resourceview-resource",defaultCalendar:e,resource:e,minWidth:r.resourceWidth,hideNonWorkingDays:r.hideNonWorkingDays,parent:r,date:r.date,dateFormat:r.dateFormat,title:r.titleTemplate(e)},r.view);r.visibleStartTime&&(a.visibleStartTime=r.visibleStartTime),DomHelper.scrollBarWidth&&r.viewType.isDayView&&(a.scrollable={overflowX:!1,overflowY:"hidden-scroll"});const l=bryntum.Calendar.Modes.create(a);return l.on({catchAll(e){"paint"!==e.type&&r.trigger(e.type,e)}}),l.element.removeAttribute("tabIndex"),null===(n=l.contentElement)||void 0===n||n.removeAttribute("tabIndex"),Object.defineProperty(l,"weight",{get(){return r.stableResourceOrder?o.allIndexOf(this.resource):0}}),r.viewCache.add(l),r.trigger("viewCreate",{view:l}),l}changeAvatarRendering(e){if(e)return AvatarRendering.new({element:this.element},e)}titleTemplate(e){const n=this,{meta:r}=n,o="string"==typeof r?e[r]:null==r?void 0:r(e),i=DomHelper.isNamedColor(e.eventColor)&&e.eventColor,a=!i&&e.eventColor;return{class:{"b-resourceview-title":1,"b-has-meta":o},children:[n.showAvatars&&{class:{"b-resource-avatar-container":1,[`b-sch-foreground-${i}`]:i},style:{color:a||null},children:[n.avatarRendering.getResourceAvatar({imageUrl:!1===e.image?null:e.imageUrl||e.image&&n.resourceImagePath+e.image,color:e.eventColor,initials:e.initials,dataset:{btip:StringHelper.encodeHtml(e.name)},alt:StringHelper.encodeHtml(e.name)})]},{class:"b-resource-name",text:e.name},o&&{class:"b-resource-meta",text:o}]}}createSubViewFilter(e){return n=>n.resources.includes(e)}getEventElement(e,n=e.startDate){var r;return null===(r=this.getResourceView(e.resource))||void 0===r?void 0:r.getEventElement(e,n)}get dayViewTimeAxis(){const e=this;if(!e._dayViewTimeAxis){const n={};e.view.hourHeight&&(n.hourHeight=e.view.hourHeight),e._dayViewTimeAxis=ResourceDayViewTimeAxis.create(_objectSpread2(_objectSpread2({},n),{},{weight:-1,project:e.project,type:"resourcedayviewtimeaxis",dayStartTime:e.view.dayStartTime,dayEndTime:e.view.dayEndTime,minWidth:0,cls:"b-resource-dayview-timeaxis",startDate:uc,endDate:pc,scrollable:{overflowX:!1,overflowY:"hidden-scroll"},onCornerClick(){const{expanded:n}=e.firstChild.allDayEvents,r=[];let o=null;e.eachView((({allDayEvents:e})=>{n?(!o||e.maxEventCount<o.maxEventCount)&&(o=e):(!o||e.maxEventCount>o.maxEventCount)&&(o=e)}));const i=o.refreshCount;o.expanded=!n,o.refreshCount===i&&r.push(o),e.items.forEach((e=>{if(e!==o){const{allDayEvents:o}=e,i=o.refreshCount;e.allDayEvents.expanded=!n,o.refreshCount===i&&r.push(o)}}));for(let e=0,{length:n}=r;e<n;e++)r[e].doRefresh()}}),e),Object.defineProperty(e._dayViewTimeAxis.allDayEvents,"hasOverflow",{get:()=>e.items.some((e=>{var n;return!e.isResourceDayViewTimeAxis&&(null===(n=e.allDayEvents)||void 0===n?void 0:n.hasOverflow)}))}),e.add(e._dayViewTimeAxis)}return e._dayViewTimeAxis}get dayViewScroller(){const e=this;if(!e._dayViewScroller){const n={};e.view.hourHeight&&(n.hourHeight=e.view.hourHeight),e._dayViewScroller=ResourceDayViewTimeAxis.create(_objectSpread2(_objectSpread2({},n),{},{weight:999,project:e.project,type:"resourcedayviewtimeaxis",dayStartTime:e.view.dayStartTime,dayEndTime:e.view.dayEndTime,flex:`0 0 ${DomHelper.scrollBarWidth}px`,minWidth:DomHelper.scrollBarWidth,cls:"b-resource-dayview-scroller",startDate:uc,endDate:pc,scrollable:{overflowX:!1,overflowY:"scroll"}}),e),e.add(e._dayViewScroller),e._dayViewScroller.scrollable.addPartner(e.dayViewTimeAxis.scrollable,"y"),e.monitorResize=!0}return e._dayViewScroller}onElementResize(){const{dayViewTimeAxis:e,dayViewScroller:n}=this;super.onElementResize(),n[e.scrollable.scrollHeight>e.scrollable.clientHeight?"show":"hide"]()}scrollTo(e){const{items:n}=this;if(e.isEventModel){const r=n.find((n=>n.eventStore.includes(e)));return null==r?void 0:r.scrollTo(e)}return n[0].scrollTo(e)}createViewId(e){return`${this.id}-resource${this.config.view.type}-${e.id}`}updateDate(e){this.suspendVisibility(),this.viewCache.forEach((n=>{n.isResourceDayViewTimeAxis||(n.date=e)})),this.resumeVisibility()}updateResourceWidth(e){this.isConfiguring||this.eachView((n=>{n.minWidth=e}))}updateHideNonWorkingDays(e){this.isConfiguring||this.eachView((n=>{n.hideNonWorkingDays=e}))}descriptionRenderer(){var e;return(null===(e=[...this.viewCache.items][0])||void 0===e?void 0:e.descriptionRenderer())||"No resources"}get startDate(){return new Date(Math.min(...this.items.reduce(((e,n)=>(n.isResourceDayViewTimeAxis||e.push(n.startDate),e)),[])))}get endDate(){return new Date(Math.max(...this.items.reduce(((e,n)=>(n.isResourceDayViewTimeAxis||e.push(n.endDate),e)),[])))}get stepUnit(){var e;return null===(e=this.firstChild)||void 0===e?void 0:e.stepUnit}get firstChild(){return this.items.filter((e=>!e.isResourceDayViewTimeAxis))[0]}previous(){const e=this,{firstChild:n}=e;e.suspendVisibility(),n.previous(),e.date=n.date,e.resumeVisibility()}next(){const e=this,{firstChild:n}=e;e.suspendVisibility(),n.next(),e.date=n.date,e.resumeVisibility()}}class ResourceDayViewTimeAxis extends DayView{static get $name(){return"ResourceDayViewTimeAxis"}static get type(){return"resourcedayviewtimeaxis"}static get configurable(){return{allDayEvents:{type:"resourcedayviewalldayevents"}}}createCellMap(){return bc}}(class ResourceDayViewAllDayEvents extends CalendarRow{static get $name(){return"ResourceDayViewAllDayEvents"}static get type(){return"resourcedayviewalldayevents"}createCellMap(){return bc}}).initClass(),ResourceDayViewTimeAxis.initClass(),ResourceView.initClass(),ResourceView._$name="ResourceView";class Sidebar extends Panel{static get $name(){return"Sidebar"}static get type(){return"sidebar"}static get configurable(){return{focusable:!1,items:{datePicker:{type:"datepicker",weight:100,dayNameFormat:"d1",editMonth:null,listeners:{selectionChange:"up.onMonthSelectionChange"}},eventFilter:{type:"filterfield",field:"name",weight:150,placeholder:"L{Filter events}",localeClass:this},resourceFilter:{ignoreParentReadOnly:!0}},date:{$config:{equal:"date"},value:null},eventStore:null,side:"left",collapsible:{tool:null},resourceFilter:{type:"resourcefilter",flex:"1 1 auto",weight:200,minHeight:110,scrollable:{overflowY:"auto"},store:{sorters:[{field:"name",ascending:!0}]},masterFilter(e){return this.eventStore.resourceStore.isAvailable(e)}}}}setupWidgetConfig(e,n){let r=super.setupWidgetConfig(...arguments);return"eventFilter"===r.ref&&(r.store=this.initialConfig.eventStore),"resourceFilter"===r.ref&&(r.type&&r.type!==this.resourceFilter.type||(r=Sidebar.mergeConfigs(this.resourceFilter,r))),"datepicker"===r.type&&this.element.classList.add("b-has-datepicker"),r}updateSide(e,n){const{classList:r}=this.element;r.remove(`b-sidebar-${n}`),r.add(`b-sidebar-${e}`),this.collapsible&&(this.collapsible.direction=e)}updateEventStore(e){const{resourceFilter:n}=this.widgetMap;n&&(n.eventStore=e)}onMonthSelectionChange({selection:e,userAction:n}){this.UIdateChange=n,this.date=e[0],this.UIdateChange=!1}changeDate(e,n){if(e="string"==typeof e?DateHelper.parse(e):new Date(e),isNaN(e))throw new Error("Calendar widget date ingestion must be passed a Date, or a YYYY-MM-DD date string");if(e=DateHelper.clearTime(e),!n||e-n)return e}updateDate(e){const{datePicker:n}=this.widgetMap;n&&(n.value=e),this.trigger("dateChange",{date:e,userAction:Boolean(this.UIdateChange)})}}Sidebar.initClass(),Sidebar._$name="Sidebar";class WeekView extends DayView{static get $name(){return"WeekView"}static get type(){return"weekview"}static get configurable(){return{localizableProperties:["title","stepUnit"],title:"L{Week}",stepUnit:"L{weekUnit}",week:null,fixedDuration:!0}}descriptionRenderer(){const{startDate:e,endDate:n}=this,r=e.getMonth()===n.getMonth()?DateHelper.format(e,"MMMM"):`${DateHelper.format(e,"MMM")} - ${DateHelper.format(n,"MMM")}`,o=this.month.getWeekNumber(e);return`${this.L("Week")} ${o[1]}, ${r} ${o[0]}`}get duration(){return this.working?5:7}calculateDuration(){return this.duration}updateDate(e){const n=this;if(!n._startDate||!n._endDate||!DateHelper.betweenLesser(e,n.startDate,n.endDate)){const r=n.dayTime.startOfDay(e);n.month.date=r,n.startDate=r}}changeStartDate(e,n){if((e=super.changeStartDate(...arguments))&&(e=this.dayTime.shiftDate(this.month.getWeekStart(this.month.getWeekNumber(e))),!n||n-e))return super.changeStartDate(e,n)}updateWeekStartDay(e,n){var r;if(null===(r=super.updateWeekStartDay)||void 0===r||r.call(this,e),!this.isConfiguring){const r=new Date(this.startDate);r.setDate(r.getDate()+e-n),this.startDate=r}}updateStartDate(e){this.endDate||(this.endDate=DateHelper.add(e,this.duration,"day")),super.updateStartDate(...arguments),this.week=this.month.getWeekNumber(e)}changeWeek(e,n){if(e=Array.isArray(e)?e:[this.month.year,e],!ObjectHelper.isEqual(e,n)){var r,o;const n=this.minDate||(null===(r=this.calendar)||void 0===r?void 0:r.minDate),i=this.maxDate||(null===(o=this.calendar)||void 0===o?void 0:o.maxDate);if(!isNaN(n)||!isNaN(i)){const r=this.month.getWeekStart(e),o=DateHelper.add(r,this.duration,"d");if(!isNaN(n)&&r<n)return;if(!isNaN(i)&&o>i)return}return e}}updateWeek(e){const n=this,{month:r,date:o,dayTime:i}=n,a=i.shiftDate(r.getWeekStart(e));o&&ObjectHelper.isEqual(r.getWeekNumber(o),e)?n.startDate=a:n.date=a,n.week=r.getWeekNumber(n.date)}}WeekView.initClass(),WeekView._$name="WeekView";class YearView extends(Panel.mixin(CalendarMixin,DayCellCollecter,DayCellRenderer)){static get $name(){return"YearView"}static get type(){return"yearview"}static get configurable(){return{textContent:!1,localizableProperties:["title","stepUnit"],title:"L{Year}",scrollable:{overflowY:!0},stepUnit:"L{yearUnit}",month:!0,date:{$config:{equal:"date"},value:null},year:null,monitorResize:!1,showWeekColumn:!0,hideWeekColumnCls:"b-hide-week-numbers",otherMonthCls:"b-other-month",sixWeeks:!0,dayCellRenderer:null,monthSelector:".b-yearview-month-name",autoCreate:!1,focusable:!1}}createCellMap(){const e=super.createCellMap({skipPropagate:!0});for(const n of e.values())n.renderedEvents.setEvents(n.events);return e}descriptionRenderer(){return String(this.year)}get date(){return this._date||!this.isConfiguring&&this.firstEventDate||this.startDate}next(){this.date=new Date(this.year+1,this.date.getMonth(),this.date.getDate())}previous(){this.date=new Date(this.year-1,this.date.getMonth(),this.date.getDate())}get firstEventDate(){const e=[...this.cellMap.values()];if(e.length)return e[0].date}get lastEventDate(){const e=[...this.cellMap.values()];if(e.length)return e[e.length-1].date}onCalendarPointerInteraction(e){const n=this,{_overflowPopup:r}=n,{target:o,type:i}=e;if(("mousedown"===e.type||e.type.endsWith("click"))&&n.clearTimeout(n.cellOverflowTimer),("mousedown"===e.type||"click"===e.type)&&o.closest(`.${n.dayCellCls}`)){const a=n.getDateFromEvent(e);if(!o.closest(".b-cal-cell-overflow")||null!=r&&r.isVisible&&!(r.activeDate-a)){if("mousedown"===i)return void e.preventDefault();"click"===i&&n.trigger("dayNumberClick",{domEvent:e,date:a})}}super.onCalendarPointerInteraction(e)}onCellOverflowGesture(e){const n=super.onCellOverflowGesture;if("Click"!==this.overflowPopupTrigger)return n.apply(this,arguments);this.cellOverflowTimer=this.setTimeout({fn:n,delay:300,args:[e]})}async createEvent(e){var n;null===(n=this.calendar)||void 0===n||n.handleYearCellDblclick({source:Object.setPrototypeOf({autoCreate:!0},this),date:e})}changeMonth(e,n){const r=this,o={name:"yearChangeListener",yearChange:"onMonthYearChange",thisObj:r};return r.detachListeners("yearChangeListener"),e instanceof Month?(e.on(o),r._year=e.year):e=new Month({date:new Date(r.year||(new Date).getFullYear(),0,1),weekStartDay:r.weekStartDay,hideNonWorkingDays:r.hideNonWorkingDays,nonWorkingDays:r.nonWorkingDays,sixWeeks:r.sixWeeks,listeners:o}),null==r.nonWorkingDays&&(r.nonWorkingDays=r._month.nonWorkingDays),r._year=e.year,e}onMonthYearChange({source:e}){const n=this;n._year=e.year,n.isConfiguring||(n._cellMap&&n._cellMap.clear(),n.date=e.date,n.refresh())}get eventsPerCell(){return 0}get startDate(){return this.month.getOtherMonth(new Date(this.year,0,1)).startDate}get endDate(){return DateHelper.add(this.month.getOtherMonth(new Date(this.year,11,1)).endDate,1,"day")}set startDate(e){this.date=e}isValidTargetDate(e){const n=e.getFullYear();if(n!==this.year){var r,o;const e=this.minDate||(null===(r=this.calendar)||void 0===r?void 0:r.minDate),i=this.maxDate||(null===(o=this.calendar)||void 0===o?void 0:o.maxDate);if(!isNaN(e)||!isNaN(i)){const{cellMonth:r}=this;if(!isNaN(e)){if(r.getWeekStart(r.getWeekNumber(new Date(n,0,1)))<e)return!1}if(!isNaN(i)&&(r.date=new Date(n,11,31),DateHelper.add(r.endDate,1,"d")>i))return!1}}return!0}updateDate(e){this.month.date=e}changeYear(e){return this.isConfiguring?e:(this.month.year=e,this.month.year)}updateShowWeekNumber(){this.bodyElement.classList[this.showWeekColumn?"remove":"add"](this.hideWeekColumnCls)}doRefresh(){const e=this,{bodyElement:n,month:r,dayCellCls:o,otherMonthCls:i,weekendCls:a,todayCls:l,nonWorkingDayCls:c,cellMap:d}=e,u=[],p=DateHelper.makeKey(new Date);for(let n=0;n<12;n++){r.month=n;const b={className:"b-yearview-month-name",html:DateHelper.getMonthName(n),dataset:{monthDate:DateHelper.makeKey(new Date(e.year,n,1))}},g=[{className:"b-week-number-cell"}],m={className:"b-yearview-month",children:[b,{className:"b-calendar-week b-calendar-weekdays",children:g}]},f=m.children;u.push(m);let v=0;r.eachWeek(((n,u)=>{if(1===g.length)for(let n=0;n<7;n++)g.push({className:{"b-yearview-weekday-cell":1,[c]:e.nonWorkingDays[r.canonicalDayNumbers[n]]},text:DateHelper.format(u[n],"d1")});const b={className:"b-calendar-week",dataset:{week:`${n[0]},${n[1]}`}},m=b.children=[{className:"b-week-number-cell",html:n[1]}];f.push(b);for(let n=0;n<7;n++){var y;const b=u[n],g=b.getMonth()!==r.month,f=DateHelper.format(b,"YYYY-MM-DD"),C=b.getDay(),S=!e.isConfiguring&&d.get(f),D=(null==S||null===(y=S.events)||void 0===y?void 0:y.length)||0,E=!g&&S&&D,k={style:{},className:{[o]:1},dataset:{date:f,cellIndex:v,columnIndex:n}};let T=b.getDate();if(Object.assign(k.className,{[a]:DateHelper.weekends[C],[l]:f===p&&!g,[c]:e.nonWorkingDays[C],[i]:g,"b-cal-cell-overflow":E,[e.getEventCountClass(D)]:E}),e.dayCellRenderer){var x;const n=e.callback(e.dayCellRenderer,e,[{cellConfig:k,date:b,events:(null==S||null===(x=S.events)||void 0===x?void 0:x.map((e=>e.eventRecord)))||[]}]);null!=n&&(T=n)}k.children=[{className:"b-calendar-cell-inner",html:T}],m.push(k),v++}}))}DomSync.sync({targetElement:n,domConfig:{children:u}}),e.refreshCount=(e.refreshCount||0)+1,e.trigger("refresh")}getDayElement(e,n){if("string"!=typeof e&&(e=DateHelper.makeKey(e)),!n||parseInt(e.substr(0,4))===this.year)return this.contentElement.querySelector(`.b-calendar-cell[data-date="${e}"]:not(.b-other-month)`)}getCell(){return this.getDayElement(...arguments)}getEventCountClass(e){return e?e<4?"b-calendar-1-to-3-events":e<7?"b-calendar-4-to-6-events":"b-calendar-7-or-more-events":""}onPaint({firstPaint:e}){e&&this.refresh()}}YearView.initClass(),YearView._$name="YearView";const isCalendarMixin=e=>e.isCalendarMixin;var EventNavigation=e=>class EventNavigation extends(SchedulerEventNavigation(e||Base)){normalizeTarget(e){return e.eventRecord}changeNavigator(e){const n=this;return n.getConfig("eventCls"),super.changeNavigator(n.constructor.mergeConfigs({target:n.element,itemSelector:`.b-cal-cell-overflow,${n.eventSelector}`,itemsTabbable:!0,skipScrollIntoView:!0},e))}onCalendarStoreChange({action:e,records:n}){var r;const o=this,{navigator:i}=o,a=null==i?void 0:i.activeItem;if(a&&!o.eventStore.includes(a.dataset.eventId)){const e=o.constructor.fromElement(a,isCalendarMixin)||o.activeView,{_overflowPopup:n}=e,r=i.next;if(r!==a.nextSibling||r.parentNode.syncIdMap){let l=r||i.previous;if(null!=n&&n.containsFocus&&!n.contentElement.contains(l)){const{target:e}=n.lastAlignSpec;l=i.getAdjacent(1,e.nextSibling)||i.getAdjacent(-1,e)}if(l){const n=e.getDateFromElement(l),r=l.dataset.eventId,c=o.constructor.fromElement(l).closest(isCalendarMixin);l.focus(),c.on({refresh:()=>{l=c.getEventElement(r,n),l&&(l===DomHelper.getActiveElement(l)?i.triggerNavigate({},l):l.focus()),i.updateActiveItem(l,a)},once:!0})}else o.widgetMap.viewContainer.revertFocus(!0)}else i.triggerNavigate({},r)}null===(r=super.onCalendarStoreChange)||void 0===r||r.call(this,...arguments)}get activeEvent(){const{activeItem:e}=this.navigator;if(e)return this.resolveEventRecord(e)}get widgetClass(){}},EventSelection=e=>class EventSelection extends(SchedulerEventSelection(e||Base)){normalizeTarget(e){return e.eventRecord}onSelectedCollectionChange({added:e,removed:n}){const r=this,o=r.selectedCollection,i=e||[],a=n||[];if(r.updateSelected(),!r.silent){const e=o.count>0?i.length>0&&a.length>0?"update":i.length>0?"select":"deselect":"clear";r.trigger("selectionChange",{action:e,selection:o.values,selected:i,deselected:a})}}onCalendarStoreChange({action:e,records:n}){var r;"remove"===e&&this.selectedCollection.remove(...n),null===(r=super.onCalendarStoreChange)||void 0===r||r.call(this,...arguments)}clearEventSelection(){this.selectedCollection.clear()}get selectedEvents(){return this.selectedCollection.values}set selectedEvents(e){e&&!Array.isArray(e)&&(e=[e]),this.selectedCollection.splice(0,this.selectedCollection.count,e)}isEventSelected(e){return this.selectedCollection.includes(e)}select(e,n=!1){this.selectEvent(e,n)}selectEvent(e,n=!1){const{selectedCollection:r}=this;this.isEventSelected(e)||(n?r.add(e):r.splice(0,r.count,e))}deselect(e){this.deselectEvent(e)}deselectEvent(e){this.isEventSelected(e)&&this.selectedCollection.remove(...e)}selectEvents(e){this.selectedCollection.add(e)}deselectEvents(e){this.selectedCollection.remove(e)}onEventSelectionClick(e,n){const r=this;r.isEventSelected(n)?e.ctrlKey&&r.deselectEvent(n,r.multiEventSelect):r.selectEvent(n,e.ctrlKey&&r.multiEventSelect)}onEventNavigate({event:e,item:n}){if(n){const r=this.activeView.getEventRecord(n);r?this.onEventSelectionClick(e,r):this.clearEventSelection()}}get widgetClass(){}};const byWeight$1=(e,n)=>(e.weight||0)-(n.weight||0),gc=/number|name|overflow|mouse|down|up|dbl|click|over|out|context|menu|date|change/g,capitalizeWord=e=>StringHelper.capitalize(e);class Calendar extends(Panel.mixin(SchedulerInterface,CalendarStores,Featureable,CrudManagerView,EventNavigation,EventSelection)){static get $name(){return"Calendar"}static get type(){return"calendar"}static get configurable(){return{localizableProperties:["autoCreate.newName"],crudManager:null,crudManagerClass:CrudManager,features:{drag:{},eventEdit:{},eventTooltip:{}},tbar:{items:{toggleSideBar:{icon:"b-icon-menu",cls:"b-borderless",onClick:"up.onToggleSidebarClick",weight:100},todayButton:{text:"L{Calendar.Today}",onClick:"up.shiftToNow",weight:200},prevButton:{onClick:"up.shiftPrevious",cls:"b-borderless",icon:"b-icon-prev",weight:300},nextButton:{onClick:"up.shiftNext",cls:"b-borderless",icon:"b-icon-next",weight:400},viewDescription:{cls:"b-calendar-view-desc",type:"widget",flex:"",html:"",weight:500},spacer:{type:"widget",cls:"b-toolbar-fill",weight:600},modeSelector:{type:"buttongroup",weight:700}},listeners:{paint:"up.onToolbarPaint"}},items:{viewContainer:{type:"container",cls:"b-calendar-viewcontainer",flex:"1 1 100%",layout:{type:"card"},scrollable:{overflowY:!0,overflowX:!0},suppressChildHeaders:!0,layoutStyle:{padding:0},listeners:{beforeActiveItemChange:"up.onBeforeModeChange",activeItemChange:"up.onModeChange"}}},layoutStyle:{padding:0,flexFlow:"row nowrap"},modes:{day:{fixedDuration:!0},week:{},month:{},year:{},agenda:{}},mode:"week",modeDefaults:null,sidebar:{$config:{merge:"objects"},value:{type:"sidebar",side:"left",scrollable:{overflowY:!0},listeners:{dateChange:"up.onCalendarDateChange"}}},overlaySidebar:null,date:{$config:{equal:"date"},value:new Date},dateFormat:"MMMM DD, YYYY",scrollManager:{$config:["lazy","nullify"],value:{direction:"vertical"}},viewUpdateDelay:2e3,readOnly:null,allowOverlap:!0,testConfig:{viewUpdateDelay:5},highlightDate:null,autoCreate:{gesture:"dblclick",newName:"L{Object.newEvent}",step:"15 minutes",duration:"1 hour",startHour:8},focusable:!1,eventCls:"b-cal-event",weekStartDay:!1,nonWorkingDays:!1,contextMenuTriggerEvent:"contextmenu",enableUndoRedoKeys:!0,resourceImagePath:null,smallUIWidth:700,minDate:null,maxDate:null}}static get delayable(){return{refresh:{type:"raf",cancelOutstanding:!0}}}static get featureable(){return{factory:CalendarFeature}}onPaintOverride(){}onPaint(){this.onPaintOverride()||super.onPaint()}toggleEmptyText(){const{crudManager:e}=this,{eventStore:n}=e||this;DomHelper.toggleClasses(this.contentElement,"b-calendar-empty",!(n.count||null!=e&&e.isLoading))}refresh(){this.eachView((e=>{var n;return null===(n=e.refresh)||void 0===n?void 0:n.call(e)}))}get views(){return this.modes?Object.values(this.modes):[]}get activeView(){return this.widgetMap.viewContainer.layout.activeItem}captureFocus(){return this.activeView.captureFocus()}getEventRecord(e){return this.activeView.getEventRecord(e)}resolveEventRecord(e){return this.getEventRecord(e)}onBeforeModeChange({prevActiveItem:e,activeItem:n}){var r,o;if(!1===this.trigger("beforeActiveItemChange",arguments[0]))return!1;if(null===(r=e._overflowPopup)||void 0===r||null===(o=r.hide)||void 0===o||o.call(r),"date"in n&&!1!==n.syncViewDate){const r=this.date||e.date;r&&(n.date=r)}}onModeChange(e){this.trigger("activeItemChange",e)}onToggleSidebarClick(){const{sidebar:e}=this,{collapsed:n}=e.collapsible;n?this.overlaySidebar?e.collapsible.toggleReveal(!e.revealed):e.expand():e.collapse()}shiftToNow(){const{dayTime:e}=this.activeView,n=new Date;this.date=e?e.startOfDay(n):DateHelper.clearTime(n),this.updateViewDescription()}shiftPrevious(){const{activeItem:e}=this.widgetMap.viewContainer.layout;null!=e&&e.previous&&(e.previous(),this.updateViewDescription(e))}shiftNext(){const{activeItem:e}=this.widgetMap.viewContainer.layout;null!=e&&e.next&&(e.next(),this.updateViewDescription(e))}async onCalendarDateChange({date:e,userAction:n}){const r=this,{activeItem:o}=r.widgetMap.viewContainer.layout,{date:i,highlightDate:a}=r;if(o&&!1!==o.syncViewDate&&"date"in o){const{getDayElement:i}=o;var l,c;if(!DateHelper.betweenLesser(e,o.startDate,o.endDate))null===(l=o._overflowPopup)||void 0===l||null===(c=l.hide)||void 0===c||c.call(l);if(o.date=e,n&&a&&i){var d;o.scrollTo&&(await o.scrollTo(e),o.scrolledToDate&&(e=o.scrolledToDate));const n=null===(d=o.getDayElement)||void 0===d?void 0:d.call(o,e);n&&(isNaN(a)?r.callback(a,r,[n,r]):DomHelper.highlight(Rectangle.from(n)))}}r.trigger("dateChange",{oldDate:i,date:e})}updateViewDescription(e=this.activeView){const{tbar:n,widgetMap:r}=this;if(n){const{viewDescription:n}=r,{description:o=""}=e;n&&n.content!==o&&(n.content=o)}if(e){const n=e.date||e.startDate;n&&(this.date=n)}}syncUIWithActiveView(e=this.activeView){const n=this,{tbar:r,sidebar:o,widgetMap:i}=n,{toggleSideBar:a}=i;if(r&&null!=e&&e.isVisible){const{prevButton:r,nextButton:o,modeSelector:a}=i,{stepUnit:l}=e,c=new Duration("string"==typeof l?{unit:l,magnitude:1}:l).toString().replace("1 ","");e.showButton&&(e.showButton.pressed=!0),n.updateViewDescription(e),l?(r&&(r.tooltip=n.L("L{previous}",c),r.disabled=!1),o&&(o.tooltip=n.L("L{next}",c),o.disabled=!1)):(r&&(r.tooltip="",r.disabled=!0),o&&(o.tooltip="",o.disabled=!0)),null==a||a[n.views.length>1?"show":"hide"]()}o||null==a||a.hide()}updateEventStore(e){this.detachListeners("eventStoreDateRange"),this.processConfiguredListeners(),e.on({loadDateRange:"onEventStoreDateRangeChange",name:"eventStoreDateRange",thisObj:this}),this.sidebar&&(this.sidebar.eventStore=e)}eachView(e,n,r=null){const o=null==n;for(const i of this.views)if(o&&(n=[i]),!1===i.callback(e,r||i,n))return}onEventStoreDateRangeChange(e){this.trigger("dateRangeChange",e)}async onModeSelectorToggle({source:e,pressed:n}){if(n){const n=this,{layout:r}=n.widgetMap.viewContainer,{view:o}=e;await n.modeSelectionPromise,n.modeSelectionPromise=r.setActiveItem(o).promise}}updateMode(e){this.isConfiguring||(e="string"==typeof e?this.modes[e]:e)&&e!==this.activeView&&this.widgetMap.viewContainer.layout.setActiveItem(e)}onEventStoreRefresh(){this.isConfiguring||this.syncUIWithActiveView(this.widgetMap.viewContainer.layout.activeItem)}handleViewPaint({source:e}){this.syncUIWithActiveView(e),this._mode=e.modeName,this.trigger("viewPaint",_objectSpread2({},arguments[0]))}onViewRefresh({source:e}){e.isVisible&&(e===this.activeView?this.updateViewDescription(e):this.activeView.owns(e)&&this.syncUIWithActiveView(this.activeView))}updateEventCls(e){this.initialConfig.eventInnerSelector||(this.eventInnerSelector=`.${e}`),this.initialConfig.eventSelector||(this.eventSelector=`${this.eventInnerSelector}-wrap`)}changeModes(e,n){const r=this,{mode:o}=r;if(r.getConfig("crudManager"),o&&o in e){const n=[];let a,l=null,c=0;for(const r in e){var i;if(a=e[r],a)"object"==typeof a&&"weight"in a?l=null:a&&r===o&&(l=c),n.push(ObjectHelper.assign({modeType:r,weight:null!==(i=a.weight)&&void 0!==i?i:0},a)),c++;else n.push(!1)}if(null==l){e={},n.sort(byWeight$1);for(let r=0,{length:i}=n;r<i;r++)a=n[r],e[a.modeType]=a,n[r].modeType===o&&(l=r)}r.activeModeIndex=l}const{tbar:a,element:l}=r,c={thisObj:r,descriptionChange:"onViewDescriptionChange",weekNumberClick:"onViewWeekNumberClick",monthNameClick:"onViewMonthNameClick",dayNumberClick:"onViewDayNumberClick",cellOverflowDblclick:"onViewOverflowDblClick",scheduleDblclick:"onViewScheduleDblClick",catchAll:"onViewCatchAll",paint:"handleViewPaint",refresh:"onViewRefresh"},d=r.$modes||(r.$modes=new DynamicObject({factory:Modes,inferType:!0,owner:r,ownerName:"calendar",created(e,n){e.modeName=n,!1!==e.autoCreate&&(e.autoCreate=r.autoCreate),l.classList.add(`b-cal-${n}`),e.on(c),r.relayEvents(e,["eventPropagate"]),r.isConfiguring||r.trigger("addMode",{mode:e}),a&&a.widgetMap.modeSelector&&(e.showButton=a.widgetMap.modeSelector.add({view:e,ref:`${n}ShowButton`,toggleGroup:`${r.id}-modeSelector`,text:e.displayName,onToggle:"up.onModeSelectorToggle",updateLocalization(){this.text=e.displayName}}))},setup(e){const{modeDefaults:n}=r;return n&&(e=ObjectHelper.merge({},n,e)),e.project=r.project,e.readOnly=r.readOnly,e.allowOverlap=r.allowOverlap,e.hidden=!0,e.weekStartDay=r.weekStartDay,e.nonWorkingDays=r.nonWorkingDays,r.resourceImagePath&&(e.resourceImagePath=r.resourceImagePath),null!=r.defaultCalendar&&(e.defaultCalendar=r.defaultCalendar),r.date&&!e.date&&(e.date=r.date),e.dateFormat||(e.dateFormat=r.dateFormat),r.visibleStartTime&&(e.visibleStartTime=r.visibleStartTime),e}}));if(d.update(e),!n)return d.target}changeSidebar(e,n){window.innerWidth<this.smallUIWidth&&(this.overlaySidebar=!0);const{overlaySidebar:r}=this,o=r?"recollapseTool":"_";return Sidebar.reconfigure(n,e,{owner:this,setup:(e,n)=>this.setupWidgetConfig(e,n),defaults:{type:"sidebar",ref:"sidebar",collapsed:r,collapsible:{type:r?"overlay":"inline",[o]:null},eventStore:this.eventStore,date:this.date,items:{datePicker:{weekStartDay:this.weekStartDay}},weight:"right"===(null==e?void 0:e.side)?10:-10}})}changeItems(e){const{modes:n,sidebar:r}=this,{viewContainer:o}=e;r&&(e.sidebar=r),o&&(o.items=n),this.activeModeIndex&&(o.layout.activeIndex=this.activeModeIndex);const i=super.changeItems(e);return this.viewContainer=this.widgetMap.viewContainer,i}onViewCatchAll(e){var n;const r=this,{fromOverflowPopup:o,type:i,source:a}=e,l=o||"celloverflowclick"===i;let c,d,{domEvent:u}=e;if(u||a.calendar!==r||(u=e.event),r.eventSource=a,!u||!1!==(null===(n=r.handleEvent)||void 0===n?void 0:n.call(r,u))){if(i.endsWith("click")&&r.activeView.isCalendarMixin&&(d=e.date||a.getDateFromDomEvent(u))){const e=a.getDayElement&&!a.getDayElement(d,!0);("daynumberclick"===i||!(e&&(l||i.startsWith("event"))))&&(r.date=d)}(i.includes("event")||i.includes("schedule")||i.startsWith("daynumber")||i.startsWith("weeknumber")||i.startsWith("monthname")||"beforedatechange"===i)&&(c=r.trigger(i.replaceAll(gc,capitalizeWord),_objectSpread2(_objectSpread2({},e),{},{view:a})))}return r.eventSource=null,c}onViewDescriptionChange(){this.updateViewDescription()}onViewWeekNumberClick({week:e}){const n=this.modes.week||this.viewContainer.query((e=>{var n;return"weekview"===(null===(n=e.view)||void 0===n?void 0:n.type.toLowerCase())}));n&&(n.week=e,this.widgetMap.viewContainer.layout.activeItem=n)}onViewMonthNameClick({date:e}){const n=this.modes.month||this.viewContainer.query((e=>{var n;return"monthview"===(null===(n=e.view)||void 0===n?void 0:n.type.toLowerCase())}));n&&(n.date=e,this.widgetMap.viewContainer.layout.activeItem=n)}onViewDayNumberClick({source:e,date:n,domEvent:r}){var o;if(e.isCalendarRow||e.isMonthView||e.isYearView&&null!==(o=e._overflowPopup)&&void 0!==o&&o.owns(r)){const{viewContainer:e}=this,r=this.modes.day||e.query((e=>{var n;return"dayview"===(null===(n=e.view)||void 0===n?void 0:n.type.toLowerCase())}));if(r){const{layout:o}=e,{activeItem:i}=o,{syncViewDate:a}=i;return i.syncViewDate=!1,this.date=n,e.layout.activeItem=r,i.syncViewDate=a,!1}}}onViewScheduleDblClick(){this.handleYearCellDblclick(...arguments)}onViewOverflowDblClick(){this.handleYearCellDblclick(...arguments)}handleYearCellDblclick({domEvent:e,source:n,date:r}){if(n.isYearView){const{modes:o}=this,i=o.week||o.month||o.day,{viewContainer:a}=this.widgetMap,{layout:l}=a;i&&(a.on({activeItemChange:"onYearViewDblClickItemChange",thisObj:this,once:!0,args:[n,i,e,r]}),i.date=r,l.activeItem=i)}}onYearViewDblClickItemChange(e,n,r,o){const i=(n.allDayEvents||n).getDayElement(o);i&&DomHelper.highlight(i.querySelector(".b-day-name-date")||i),e.autoCreate&&n.autoCreate&&n.checkAutoCreateGesture(r||new MouseEvent(n.autoCreate.gesture),o)}createEvent(e=this.date){return this.activeView.createEvent(e)}changeDate(e,n){if(e="string"==typeof e?DateHelper.parse(e):new Date(e),isNaN(e))throw new Error("Calendar widget date ingestion must be passed a Date, or a YYYY-MM-DD date string");if(e=DateHelper.clearTime(e),!n||e-n)return e}updateAutoCreate(e){this.isConfiguring||this.eachView((n=>{n.autoCreate=e}))}updateDate(e){if(!this.isConfiguring){const{sidebar:n}=this;n?n.date=e:this.onCalendarDateChange({date:e})}}updateDateFormat(e){this.isConfiguring||this.eachView((n=>n.dateFormat=e))}changeScrollManager(e,n){if(null==n||n.destroy(),!this.isDestroying)return new ScrollManager(Object.assign({element:this.element},e))}updateDefaultCalendar(e){this.eachView((n=>n.defaultCalendar=e))}changeWeekStartDay(e){return!1===e&&(e=DateHelper.weekStartDay),e}updateWeekStartDay(e){var n;this.isConfiguring||(this.eachView((n=>n.weekStartDay=e)),null!==(n=this.sidebar)&&void 0!==n&&n.widgetMap.datePicker&&(this.sidebar.widgetMap.datePicker.weekStartDay=e))}changeNonWorkingDays(e){return!1===e&&(e=ObjectHelper.assign({},DateHelper.nonWorkingDays)),e}updateNonWorkingDays(e){this.isConfiguring||this.eachView((n=>n.nonWorkingDays=e))}onCalendarStoreChange(){var e;null===(e=super.onCalendarStoreChange)||void 0===e||e.call(this,...arguments)}updateSelected(){const e=this.widgetMap.viewContainer.contentElement.querySelectorAll(".b-cal-event-wrap");for(let n=0,{length:r}=e;n<r;n++)e[n].classList[this.isEventSelected(e[n].dataset.eventId)?"add":"remove"]("b-selected")}getElementFromEventRecord(e){return this.activeView.getEventElement(e)}updateLocalization(){const e=this;if(e.isPainted){let n=!1;"weekStartDay"in e.initialConfig||e.weekStartDay===DateHelper.weekStartDay||(e.weekStartDay=DateHelper.weekStartDay,n=!0),"nonWorkingDays"in e.initialConfig||ObjectHelper.isEqual(e.nonWorkingDays,DateHelper.nonWorkingDays)||(e.nonWorkingDays=DateHelper.nonWorkingDays,n=!0),n||e.refresh(),e.syncUIWithActiveView()}super.updateLocalization()}updateTheme({theme:e}){const n=null!=e&&e.startsWith("classic")?"add":"remove";DomHelper.forEachSelector(this.tbar.element,".b-button",(e=>e.classList[n]("b-raised")))}onToolbarPaint({firstPaint:e}){var n,r;e&&gn.on({theme:"updateTheme",thisObj:this}),this.updateTheme({theme:null===(n=DomHelper.themeInfo)||void 0===n||null===(r=n.name)||void 0===r?void 0:r.toLowerCase()})}}Calendar.initClass(),window.bryntum&&(window.bryntum.Calendar=Calendar);class Modes extends(Base.mixin(Factoryable)){static get factoryable(){return{extends:Widget}}}Modes.register("agenda",AgendaView),Modes.register("year",YearView),Modes.register("month",MonthView),Modes.register("week",WeekView),Modes.register("day",DayView),Modes.register("list",EventList),Modes.register("resource",ResourceView),Calendar.Modes=Modes,VersionHelper.setVersion("calendar","4.3.9"),Calendar._$name="Calendar";class WidgetTag extends(window.customElements?HTMLElement:Object){connectedCallback(){this.setup()}async setup(){const e=this;if(e.shadowRoot)return;let n,r;const o=e.tagName.substring(8).toLowerCase(),i=(!BrowserHelper.isChrome||!document.fonts.check('normal 14px "Font Awesome 5 Free"'))&&e.getAttribute("fa-path"),a=document.getElementById("bryntum-theme"),l=e.getAttribute("theme")||"stockholm",c=e.getAttribute("stylesheet")||(null==a?void 0:a.href)||`${o}.${l}.css`,d=e.attachShadow({mode:"open"}),u=e.linkTag=DomHelper.createElement({tag:"link",rel:"stylesheet",href:c,parent:d}),p=[new Promise((e=>{n=e}))],b={appendTo:d,features:{}};e.convertDatasetToConfigs(e.dataset,b),u.onload=()=>n(),i&&(r=new FontFace(BrowserHelper.isFirefox?"FontAwesome5Free":"Font Awesome 5 Free",`url("${i}/fa-solid-900.woff2")`),p.push(r.load())),await Promise.all(p),r&&document.fonts.add(r);for(const n of e.children){const r=n.tagName;if("FEATURE"===r){const r=n.dataset.name,o=e.convertDatasetToConfigs(n.dataset);delete o.name,Object.keys(o).length?b.features[r]="false"!==o.use&&o:b.features[r]="false"!==n.textContent}else if("TBAR"===r||"BBAR"===r)b[r.toLowerCase()]=Array.from(n.children).map((n=>e.convertDatasetToConfigs(n.dataset)));else if("INLINESTYLE"===r){const e=document.createElement("style");e.innerHTML=n.innerHTML,d.appendChild(e)}}e.widget=e.createInstance(b)}convertDatasetToConfigs(e,n={},r=!1){for(const i in e){let a=e[i];var o;if(!r&&"string"==typeof a&&a.startsWith("{"))a=this.convertDatasetToConfigs(JSON.parse(a.replace(/'/g,'"')));else a=null!==(o=StringHelper.safeJsonParse(a))&&void 0!==o?o:a;n[i]=a}return n}destroy(){var e,n,r;const o=this;if(!o.widget)return;const{shadowRoot:i}=o,a=i.bryntum,l=o.widget.constructor,c=i.querySelector(".b-float-root");null==a||null===(e=a.tooltip)||void 0===e||null===(n=e.get(Tooltip))||void 0===n||n.destroy(),null==a||null===(r=a.errorTooltip)||void 0===r||r.destroy(),o.widget.destroy(),null==c||c.remove(),l.removeFloatRoot(c),o.linkTag.remove(),o.widget=null}}WidgetTag._$name="WidgetTag";class TimelineBaseTag extends WidgetTag{createInstance(e){const n=this,r=[],o=[],i=[],a=[],l=[];for(const c of n.children)if("COLUMN"===c.tagName){const e=Object.assign({},c.dataset);!e.text&&c.innerHTML&&(e.text=c.innerHTML),e.width&&(e.width=parseInt(e.width)),e.flex?e.flex=parseInt(e.flex):e.width||(e.flex=1),r.push(e)}else if("DATA"===c.tagName)for(const e of c.children)for(const r of e.children){const{tagName:c}=e;let d;"EVENTS"===c||"TASKS"===c?d=i:"RESOURCES"===c?d=o:"DEPENDENCIES"===c?d=l:"ASSIGNMENTS"===c&&(d=a),n.processRecord(r,d)}else"PROJECT"===c.tagName&&(e.project=new n.projectModelClass({autoLoad:!0,transport:{load:{url:c.dataset.loadUrl}}}));return i.length&&(e.events=i),o.length&&(e.resources=o),l.length&&(e.dependencies=l),new this.widgetClass(Object.assign(e,{columns:r}))}processRecord(e,n){const r={};if(Object.assign(r,this.convertDatasetToConfigs(e.dataset,{},!0)),e.children.length){r.children=[];for(const n of e.children)this.processRecord(n,r.children)}n.push(r)}}TimelineBaseTag._$name="TimelineBaseTag";class CalendarTag extends TimelineBaseTag{connectedCallback(){this.widgetClass=Calendar,this.projectModelClass=ProjectModel,super.connectedCallback()}createInstance(e){for(const n of this.children)if("MODES"===n.tagName){e.modes={};for(const r of n.children){const n=r.tagName.toLowerCase();"br"!==n&&("false"===r.getAttribute("data-use")||"false"===r.textContent||"null"===r.textContent?e.modes[n]=null:e.modes[n]=_objectSpread2({},this.convertDatasetToConfigs(r.dataset)))}}return super.createInstance(e)}}try{window.customElements&&window.customElements.define("bryntum-calendar",CalendarTag)}catch(e){}CalendarTag._$name="CalendarTag"}},__webpack_module_cache__={},deferred,inProgress;function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,void 0!==__webpack_modules__&&(__webpack_require__.m=__webpack_require__.m||__webpack_modules__,__webpack_require__.c=__webpack_require__.c||__webpack_module_cache__),deferred=[],__webpack_require__.O=function(e,n,r,o){if(!n){var i=1/0;for(d=0;d<deferred.length;d++){n=deferred[d][0],r=deferred[d][1],o=deferred[d][2];for(var a=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](n[l])}))?n.splice(l--,1):(a=!1,o<i&&(i=o));if(a){deferred.splice(d--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=deferred.length;d>0&&deferred[d-1][2]>o;d--)deferred[d]=deferred[d-1];deferred[d]=[n,r,o]},__webpack_require__.d=function(e,n){for(var r in n)__webpack_require__.o(n,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(n,r){return __webpack_require__.f[r](e,n),n}),[]))},__webpack_require__.u=function(e){return"vendors.js"},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},inProgress={},__webpack_require__.l=function(e,n,r,o){if(inProgress[e])inProgress[e].push(n);else{var i,a;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==e){i=d;break}}i||(a=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.src=e),inProgress[e]=[n];var onScriptComplete=function(n,r){i.onerror=i.onload=null,clearTimeout(u);var o=inProgress[e];if(delete inProgress[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(r)})),n)return n(r)},u=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=onScriptComplete.bind(null,i.onerror),i.onload=onScriptComplete.bind(null,i.onload),a&&document.head.appendChild(i)}},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="",function(){var e={143:0};__webpack_require__.f.j=function(n,r){var o=__webpack_require__.o(e,n)?e[n]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(r,i){o=e[n]=[r,i]}));r.push(o[2]=i);var a=__webpack_require__.p+__webpack_require__.u(n),l=new Error;__webpack_require__.l(a,(function(r){if(__webpack_require__.o(e,n)&&(0!==(o=e[n])&&(e[n]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;l.message="Loading chunk "+n+" failed.\n("+i+": "+a+")",l.name="ChunkLoadError",l.type=i,l.request=a,o[1](l)}}),"chunk-"+n,n)}},__webpack_require__.O.j=function(n){return 0===e[n]};var webpackJsonpCallback=function(n,r){var o,i,a=r[0],l=r[1],c=r[2],d=0;if(a.some((function(n){return 0!==e[n]}))){for(o in l)__webpack_require__.o(l,o)&&(__webpack_require__.m[o]=l[o]);if(c)var u=c(__webpack_require__)}for(n&&n(r);d<a.length;d++)i=a[d],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return __webpack_require__.O(u)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(webpackJsonpCallback.bind(null,0)),n.push=webpackJsonpCallback.bind(null,n.push.bind(n))}(),__webpack_require__.O(void 0,[216],(function(){return __webpack_require__("../node_modules/aurelia-webpack-plugin/runtime/empty-entry.js")})),__webpack_require__.O(void 0,[216],(function(){return __webpack_require__("../node_modules/aurelia-webpack-plugin/runtime/pal-loader-entry.js")}));var __webpack_exports__=__webpack_require__.O(void 0,[216],(function(){return __webpack_require__("apps/enhance/main")}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();