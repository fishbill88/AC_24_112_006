(self.webpackChunkoutlook_plugin=self.webpackChunkoutlook_plugin||[]).push([[960],{1515:(e,t,i)=>{var n,r;n=[i,t,i(655),i(2172),i(122),i(3594),i(9603),i(1189),i(2973),i(2979),i(7699),i(2594),i(6137),i(7140)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.__exportStar(n,t),i.__exportStar(r,t),i.__exportStar(o,t),i.__exportStar(a,t),i.__exportStar(l,t),i.__exportStar(d,t),i.__exportStar(c,t),i.__exportStar(p,t),i.__exportStar(u,t),i.__exportStar(h,t),i.__exportStar(g,t)}.apply(t,n),void 0===r||(e.exports=r)},829:(e,t,i)=>{var n,r;n=[i,t,i(655),i(6158),i("aurelia-framework"),i("aurelia-event-aggregator"),i(4834),i(2172),i(6778)],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpBaseFieldEditor=void 0;let c=class QpBaseFieldEditor{constructor(e){this.container=e,this.stateSubscriptions=[],this.configSetters=new Map,this.bindingEngine=e.get(r.BindingEngine),this.tq=e.get(r.TaskQueue),this.eventAggregator=e.get(o.EventAggregator),this.screenEventManager=e.get(l.QpEventManager),this.addConfigSetter("visible",(e=>this.config.hidden=!e)),this.addConfigSetter("enabled"),this.addConfigSetter("readOnly"),this.addConfigSetter("required")}attached(){}detached(){var e;this.unregisterFieldBinding(this.state),this.unsubscribeStateChanges(),null===(e=this.inputSubscription)||void 0===e||e.dispose()}addConfigSetter(e,t=null){this.configSetters.set(e,t)}stateChanged(e,t){this.unsubscribeStateChanges(),e&&this.subscribeStateChanges(e),this.unregisterFieldBinding(t),this.registerFieldBinding(e)}registerFieldBinding(e){if(null==e?void 0:e.name){const t=e.name,i=this.container.get(Element);if(i){const n=e.viewModeName;if(n){const e=this.container.get(a.ScreenService);null==e||e.registerViewBinding(i,n,t)}const o=this.container.get(d.EventManager);this.inputSubscription=o.addEventListener(i,"input",(e=>{i.dispatchEvent(new CustomEvent("usertyping",{bubbles:!0,cancelable:!0,detail:{viewName:n,fieldName:t}}))}),r.delegationStrategy.none,!0)}}}unregisterFieldBinding(e){if((null==e?void 0:e.name)&&(null==e?void 0:e.viewModeName)){const e=this.container.get(a.ScreenService),t=this.container.get(Element);t&&(null==e||e.unregisterViewBinding(t))}}subscribeStateChanges(e){this.config&&e.configureControl(this.config),this.configSetters.forEach(((t,i)=>{if(this.config&&("visible"===i||"required"===i||"readOnly"===i))if(null==this.config[i])null==this.config[`${i}_stateControlled`]&&(this.config[`${i}_stateControlled`]=!0);else if(!0!==this.config[`${i}_stateControlled`])return;const n=this.bindingEngine.propertyObserver(e,i).subscribe(((n,r)=>this.setConfigProperty(t,i,n,e)));this.setConfigProperty(t,i,e[i],e),this.stateSubscriptions.push(n)}))}setConfigProperty(e,t,i,n){if(null==e||"string"==typeof e){if(void 0===i)return;Object.assign(this.config,{[String(e||t)]:i})}else e(i,n)}unsubscribeStateChanges(){this.stateSubscriptions.forEach((e=>e.dispose())),this.stateSubscriptions=[]}};i.__decorate([r.bindable,i.__metadata("design:type",l.PXFieldState)],c.prototype,"state",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],c.prototype,"config",void 0),c=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[n.Container])],c),t.QpBaseFieldEditor=c}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/abstract/customization/customizable":(e,t,i)=>{var n,r;n=[i,t,i(655),i(8099),i(6778),i("aurelia-framework"),i(209),i(2172),i(2520)],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomizableCustomElement=void 0,d=i.__importStar(d);const c=(0,n.getLogger)("customizable");let p=class CustomizableCustomElement{constructor(e,t,i,n,r,o,a,d){this.container=e,this.viewResources=t,this.element=i,this.targetInstruction=n,this.compositionEngine=r,this.loader=o,this.viewCompiler=a,this.taskQueue=d,this.initialized=!1,this.expressions=this.targetInstruction.expressions,this.screenEventManager=e.get(l.QpEventManager),this.container=e,this.slot=this.bindingContext=this.overrideContext=void 0,this.isAttached=this.isBound=this.isCompiled=this.isInitialized=!1,this.isCleanedUp=!0}bind(e,t){this.isBound=!0,this.bindingContext=e.context||e,this.overrideContext=(0,r.createOverrideContext)(e,t),this.screenNameChanged(this.screenName)}unbind(){this.isBound=!1;const e=null==this?void 0:this.currentViewModel;(null==e?void 0:e.unbind)&&e.unbind(),this.bindingContext=void 0,this.overrideContext=void 0}attached(){this.isAttached=!0,this.isInitialized=!0,this.slot=new o.ViewSlot(this.routerElement||this.element.firstElementChild||this.element,!0),this.taskQueue.queueMicroTask((()=>{this.tryCompile()}))}detached(){this.isAttached=!1;const e=null==this?void 0:this.currentViewModel;(null==e?void 0:e.detached)&&e.detached(),this.isCompiled&&this.cleanUp(),this.slot=void 0}findElement(e,t){if(!t)throw new Error("Empty locator. ");const i=e.content.querySelector(t);if(!i)throw new Error(`Element ${t} is not found. `);return i}applyCustomization(e,t){var i,n,r,o,a,l,d,c,p,u,h,g;try{for(let m=0;m<t.content.children.length;++m){const f=t.content.children[m];if("MODIFY"!==f.nodeName)if(null===(n=f.attributes.modify)||void 0===n?void 0:n.value){const t=this.findElement(e,null===(r=f.attributes.modify)||void 0===r?void 0:r.value);for(let e=0;e<f.attributes.length;++e){const i=f.attributes[e];"modify"!==i.name&&(i.value?t.setAttribute(i.name,i.value):t.removeAttribute(i.name))}}else if(null===(o=f.attributes.replace)||void 0===o?void 0:o.value){const t=this.findElement(e,null===(a=f.attributes.replace)||void 0===a?void 0:a.value);null===(l=t.parentNode)||void 0===l||l.replaceChild(f.cloneNode(!0),t)}else if(null===(d=f.attributes.before)||void 0===d?void 0:d.value){const t=this.findElement(e,null===(c=f.attributes.before)||void 0===c?void 0:c.value);null===(p=t.parentNode)||void 0===p||p.insertBefore(f.cloneNode(!0),t)}else if(null===(u=f.attributes.after)||void 0===u?void 0:u.value){const t=this.findElement(e,null===(h=f.attributes.after)||void 0===h?void 0:h.value);null===(g=t.parentNode)||void 0===g||g.insertBefore(f.cloneNode(!0),t.nextElementSibling)}else e.content.appendChild(f.cloneNode(!0));else{const t=this.findElement(e,null===(i=f.attributes.target)||void 0===i?void 0:i.value);for(let e=0;e<f.attributes.length;++e){const i=f.attributes[e];"target"!==i.name&&(i.value?t.setAttribute(i.name,i.value):t.removeAttribute(i.name))}}}}catch(e){let i=`${e.message}<br>`;throw i+=`In customization template:<br>${this.escapeHtml(t.outerHTML)}`,new Error(i)}}escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}isViewModel(e){let t=e;do{if("PXScreen"===t.name)return!0;t=t.__proto__}while(t);return!1}getViewModelClassFromScreenName(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=d.parse(e).dir,i=yield this.loader.loadModule(e),n=Object.getOwnPropertyNames(i);let r;for(const e of n){const t=i[e];if(this.isViewModel(t)){r=this.container.get(t);break}}this.currentViewModel=r;const o=new Array,a=r;a.appliedMixins&&a.appliedMixins.forEach((e=>o.push({viewName:d.join(t,"extensions",`${e.name}.html`)}))),o.push({viewName:a.viewName});for(const e of o){const t=yield this.loader.loadTemplate(`html-resource-plugin!${e.viewName}`),i=document.createElement("div");i.innerHTML=moduleHtmlToString(t),e.template=i.firstChild}const l=o[o.length-1].template;try{for(let e=o.length-2;e>=0;--e)this.applyCustomization(l,o[e].template);this.html=l.outerHTML}catch(e){this.html=`<template><div style="white-space: pre;background-color: lightgoldenrodyellow;padding: 12px;">Error: ${e.message}</div></template>`}this.taskQueue.queueMicroTask((()=>{this.tryCompile()}))}))}screenNameChanged(e){return i.__awaiter(this,void 0,void 0,(function*(){this.currentViewModel||this.currentViewModelPromise||!e||this.getViewModelClassFromScreenName(e)}))}activate(e,t){this.screenName=t.settings.screen,this.routerElement=t.navModel.router.viewPorts.default.element}deactivate(){const e=null==this?void 0:this.currentViewModel;(null==e?void 0:e.deactivate)&&e.deactivate()}cleanUp(){this.isCompiled=!1;const e=this.slot;try{e.detached()}catch(e){c.error(e.message)}try{e.unbind()}catch(e){c.error(e.message)}try{e.removeAll()}catch(e){c.error(e.message)}this.isCleanedUp=!0}tryCompile(){if(this.isAttached){this.isCleanedUp||this.cleanUp();try{this.taskQueue.queueMicroTask((()=>{this.compile()}))}catch(e){c.warn(e.message),this.taskQueue.queueMicroTask((()=>{this.compile(`<template>${e.message}</template>`)}))}}}dispatchCompiledEvent(){const e=new CustomEvent("compiled",{cancelable:!0,bubbles:!0,detail:this});this.element.dispatchEvent(e)}compile(e){if(this.isCompiled)return;this.isCleanedUp||this.cleanUp();const t=e||this.html;if(!t)return;this.isCleanedUp=!1;const i=this.container.get(o.ViewResources),n=this.container.createChild(),a=this.viewCompiler.compile(t,i).create(n),l=this.slot;this.bindingContext&&(this.bindingContext.viewModel=this.currentViewModel,this.currentViewModel.screenEventManager=this.screenEventManager,this.bindingContext.viewModelActivated&&this.bindingContext.viewModelActivated());const d=(0,r.createOverrideContext)(this.currentViewModel,this.overrideContext);l.add(a),l.bind(this.currentViewModel,d),this.currentViewModel.attached(),l.attached(),this.dispatchCompiledEvent(),this.isCompiled=!0}};i.__decorate([o.bindable,i.__metadata("design:type",String)],p.prototype,"screenName",void 0),p=i.__decorate([o.autoinject,(0,o.customElement)("customizable"),(0,o.inlineView)("<template></template>"),i.__metadata("design:paramtypes",[o.Container,o.ViewResources,Element,o.TargetInstruction,o.CompositionEngine,a.Loader,o.ViewCompiler,o.TaskQueue])],p),t.CustomizableCustomElement=p;const moduleHtmlToString=e=>{if(!e||"string"==typeof e)return e;if("object"==typeof e&&e.hasOwnProperty("default"))return e.default;throw{message:"loadTemplate returned something strange",data:e}}}.apply(t,n),void 0===r||(e.exports=r)},7754:(e,t,i)=>{var n,r;n=[i,t,i("aurelia-framework")],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configAttributes=void 0;class ConfigSetter{constructor(e,t,i){this.owner=e,this.properties=t,this.configAlias=i,this.previousValues={}}static getInstance(e,t,i="config"){return e.hasOwnProperty(ConfigSetter.PropertyName)||Object.defineProperty(e,ConfigSetter.PropertyName,{value:new ConfigSetter(e,t,i),enumerable:!1,writable:!1}),e[ConfigSetter.PropertyName]}propertyChanged(e,t,i){if(-1!==this.properties.indexOf(e)){const i=this.config[e],n=this.previousValues[e];void 0!==i&&n!==i||this.setConfigValue(e,t)}else e===this.configAlias&&(!0===this.config[ConfigSetter.Marker]?delete this.config[ConfigSetter.Marker]:(this.previousValues={},this.properties.forEach((e=>{if(void 0===this.config[e]){const t=this.owner[e];void 0!==t&&this.setConfigValue(e,t)}}))))}get config(){let e=this.owner[this.configAlias];return"object"==typeof e&&e||(this.owner[this.configAlias]=e={[ConfigSetter.Marker]:!0}),e}setConfigValue(e,t){this.config[e]=this.previousValues[e]=t}}ConfigSetter.PropertyName="__config_setter__",ConfigSetter.Marker=Symbol(ConfigSetter.name),t.configAttributes=function configAttributes(e,t){return n=>{e.forEach((e=>{const t=i.metadata.getOrCreateOwn(i.metadata.resource,i.HtmlBehaviorResource,n);if(t.attributes&&!t.attributes[e]){new i.BindableProperty(e).registerWith(n,t)}}));const r=n.prototype.propertyChanged;n.prototype.propertyChanged=function(i,n,o){var a;null===(a=ConfigSetter.getInstance(this,e,t))||void 0===a||a.propertyChanged(i,n,o),null==r||r.call(this,i,n,o)}}}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/abstract/enhanced-compose/enhanced-compose":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnhancedComposeCustomElement=void 0;const o=(0,r.getLogger)("enhanced-compose");let a=class EnhancedComposeCustomElement{constructor(e,t,i,n,r){this.container=e,this.viewResources=t,this.element=i,this.targetInstruction=n,this.compositionEngine=r,this.expressions=this.targetInstruction.expressions}bind(e,t){this.bindingContext=e,this.overrideContext=t,this.viewModelChanged(this.viewModel)}unbind(){this.currentViewModelPromise=void 0,this.currentViewModel=void 0}getViewModelClassFromTagName(e){let t=this.viewResources.getElement(e);return t||(t=this.viewResources.getElement("qp-text-editor")),t.target}viewModelChanged(e){if(this.currentViewModel||this.currentViewModelPromise||!e)return;const t=this.getViewModelClassFromTagName(e);t||o.error("No client control exists for tag",e);const i=this.context?(0,n.createOverrideContext)(this.context,this.overrideContext):this.overrideContext,r={bindingContext:this.bindingContext,overrideContext:i,viewModel:t,container:this.container,host:this.element,viewResources:this.container.get(n.ViewResources),viewSlot:this.container.get(n.ViewSlot)},a=this.currentViewModelPromise=this.compositionEngine.compose(r).then((e=>{var t,i;if(a!==this.currentViewModelPromise)return;const o=this.currentViewModel=e.viewModel,l=n.metadata.get(n.metadata.resource,o.constructor);if(l){const t=l.properties;for(const i of t){const t=this.expressions.find((e=>e.targetProperty===i.name));if(t){const i=t.createBinding(o);e.view.addBinding(i)}}const i=this.expressions.find((e=>"controlId"===e.targetProperty));if(i){const t=i.createBinding(o);e.view.addBinding(t)}for(const t of this.proxyExpressions||[]){const i=t.createBinding(t.bindTo||o);e.view.addBinding(i)}}e.bind(r),o.controlId&&o.config&&(null!==(t=(i=o.config).id)&&void 0!==t||(i.id=o.controlId)),o.attached&&o.attached()}),(e=>o.error("error composing",e))).finally((()=>{a===this.currentViewModelPromise&&(this.currentViewModelPromise=void 0)}))}};i.__decorate([n.bindable,i.__metadata("design:type",String)],a.prototype,"viewModel",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"currentViewModel",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"context",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Array)],a.prototype,"proxyExpressions",void 0),a=i.__decorate([n.noView,(0,n.customElement)("enhanced-compose"),n.autoinject,i.__metadata("design:paramtypes",[n.Container,n.ViewResources,Element,n.TargetInstruction,n.CompositionEngine])],a),t.EnhancedComposeCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},122:(e,t,i)=>{var n,r;n=[i,t,i("client-controls/controls/abstract/customization/customizable"),i("client-controls/controls/abstract/enhanced-compose/enhanced-compose"),i(829),i("client-controls/controls/abstract/screen-base-view-model/screen-base-view-model"),i(7754)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configAttributes=t.PXScreen=t.QpBaseFieldEditor=t.EnhancedComposeCustomElement=t.CustomizableCustomElement=void 0,Object.defineProperty(t,"CustomizableCustomElement",{enumerable:!0,get:function(){return i.CustomizableCustomElement}}),Object.defineProperty(t,"EnhancedComposeCustomElement",{enumerable:!0,get:function(){return n.EnhancedComposeCustomElement}}),Object.defineProperty(t,"QpBaseFieldEditor",{enumerable:!0,get:function(){return r.QpBaseFieldEditor}}),Object.defineProperty(t,"PXScreen",{enumerable:!0,get:function(){return o.PXScreen}}),Object.defineProperty(t,"configAttributes",{enumerable:!0,get:function(){return a.configAttributes}})}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/abstract/screen-base-view-model/screen-base-view-model":(e,t,i)=>{var n,r;n=[i,t,i(655),i(1255),i("client-controls/controls/dialog/informer/qp-informer-rack"),i(6361),i(3161),i("aurelia-framework"),i("aurelia-event-aggregator"),i(4834),i(7699),i(2172),i(7140),i(3147),i(6778),i(1015),i(4456),i(5177),i(7140),i(3116),i(6595)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g,m,f,v,b,y,x,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PXScreen=void 0;class PXScreen{constructor(){this.actions=new u.CaseInsensitiveMap,this.optimizeDataSelection=!0,this.appliedMixins=new Array,this.loadOnDemand=!1,this.initialized=!1,this.actionNames=[],this.subscribers=[],this.model=void 0,this.dirtyFlag=!1,this.serverEnableSave=!0,this.saveActions=[],this.Messages=x.Messages,this.LAYER_CONTAINER_ID="_layer_cont",this.graphInfo=u.PXReflectionMetadata.getMetadata(Object.getPrototypeOf(this).constructor,"graphInfo")}afterConstructor(){this.screenService.model=this,this.runMixin&&this.runMixin(),this.subscribers.push(this.eventManager.addEventListener(f.PLATFORM.global,"beforeunload",(e=>{if(this.isDirty)return e.preventDefault(),e.returnValue=!1,"";window.pageLoaded=!1,window.controlsRegistered=!1}),m.delegationStrategy.none,!0))}getScreenService(){return this.screenService}get screenID(){return this.siteMapScreenID}get modelScreenID(){let e=this;for(;e.__proto__.constructor&&e.__proto__.constructor.name!==PXScreen.name;)e=e.__proto__;return e.constructor.name}get siteMapScreenID(){var e;return(null===(e=this.screenService)||void 0===e?void 0:e.siteMapScreenID)||this.modelScreenID}isCustomized(){var e;return(null===(e=this.__proto__.__proto__)||void 0===e?void 0:e.constructor.name)!==PXScreen.name}get isDirty(){return this.saveActions.length>0&&this.dirtyFlag}setDirty(e=!0){this.dirtyFlag!==e&&(this.dirtyFlag=e,this.saveActions.forEach((e=>{const t=this.actions.get(e);t&&(t.enabled=this.dirtyFlag&&this.serverEnableSave,t.bindToScreenName&&(this[t.bindToScreenName].enabled=t.enabled))})))}activate(e){var t,n,r;return i.__awaiter(this,void 0,void 0,(function*(){if(yield this.featuresService.getFeatures().then((e=>this.features=e)),yield this.localizationService.load(),e&&void 0!==e.initialized&&(this.model=e,!e.viewModel)){const i=null===top||void 0===top?void 0:top.document.getElementById(this.LAYER_CONTAINER_ID);i&&(null===(t=window.frameElement)||void 0===t?void 0:t.id)!==(null===(n=null==i?void 0:i.querySelector("iframe"))||void 0===n?void 0:n.id)&&(i.style.display="none",null===(r=i.closest(".frame-cont"))||void 0===r||r.classList.remove("layer-visible")),e.viewModel=this,e.viewModelActivated&&e.viewModelActivated(),this.onActivate()}}))}openDialogMsg(e,t){return this.dialogHelper.openDialog(Object.assign(Object.assign({},t),{templateId:e.name,context:this,command:e.commandName}))}get viewName(){const e=this.__proto__.constructor.fileName;if(!e)return window.SCREEN_VIEW_NAME;const t=this.constructor.rootName,i=(0,h.makePathRelativeTo)(e,t);return`${i.substring(0,i.lastIndexOf(".ts"))}.html`}getViewStrategy(){return this.viewName}clearActions(){var e,t;null===(e=this.actions)||void 0===e||e.clear(),null===(t=this.actionNames)||void 0===t||t.splice(0)}attached(){return i.__awaiter(this,void 0,void 0,(function*(){yield this.fieldDefaultsService.addFromModule(this.viewName),this.loadOnDemand||(yield this.initialize()),this.subscribers.push(this.eventAggregator.subscribe("cancel-long-run",(()=>{this.screenService.executeCommand("LongRun")}))),this.subscribers.push(this.eventManager.addEventListener(this.element,"usertyping",(e=>{const t=e.detail;t.viewName&&this.screenService.registerViewFieldChange(t.viewName,t.fieldName,void 0,{typing:!0}),this.setDirty()}),m.delegationStrategy.none,!0))}))}setupParameters(e){this[this.graphInfo.primaryView];for(const t in e)this.screenService.setScreenParameter(this.graphInfo.primaryView,t,e[t])}getKeys(){const e={},t=this[this.graphInfo.primaryView];for(const i in t){const n=t[i];n&&(n.primaryKey&&(e[i]=n.systemValue))}return e}isNewEntry(){return this.screenService.isNewEntry}getCaptionText(){let e,t="";const i=this[this.graphInfo.primaryView];for(const n in i){const r=i[n];r&&(r.primaryKey&&(t+=`${r.textValue} `,e=r))}if(e)for(const e in i){const n=i[e];n&&n.headerDescription&&n.textValue&&(t+=`- ${n.textValue}`)}return t}getRowErrors(){const e={},t=this[this.graphInfo.primaryView];for(const i in t){const n=t[i];n&&(n.errorLevel!==u.PXErrorLevel.RowError&&n.errorLevel!==u.PXErrorLevel.RowWarning&&n.errorLevel!==u.PXErrorLevel.RowInfo||!n.error||e[n.error]||(e[n.error]=n.errorLevel))}if(Object.keys(e).length){const t=[];return Object.keys(e).forEach((i=>t.push([i,e[i].toString()]))),t}}setActionStates(e,t){if(this.saveActions=[],this.serverEnableSave=!1,e){for(const t in e){let i=this.actions.get(t);i||this.actions.set(t,i=new u.PXActionState(this,t));const n=new u.PXActionState(this,t);Object.assign(n,e[t]);const r=e[t].specialType;if(r===u.PXSpecialButtonType.Save||r===u.PXSpecialButtonType.SaveNotClose){this.saveActions.push(t),this.serverEnableSave=this.serverEnableSave||null==e[t].enabled||e[t].enabled;const i=(null==this.dirtyFlag||this.dirtyFlag)&&this.serverEnableSave;n.enabled=i}Object.assign(i,n),n.bindToScreenName&&(this[n.bindToScreenName]=n)}this.actionNames=Object.keys(e)}if(t)for(const e in t){const i=this[e];if(!i)continue;const n=t[e];for(const e of n){const t=this.actions.get(e);t&&(i[e]=t)}i.actionNames=n}this.onActionsUpdate()}attachFieldsValueHandlers(e){(null==e?void 0:e[u.CustomEventType.ValueChanged])&&e[u.CustomEventType.ValueChanged].forEach((e=>{const t=e.props;this.attachValueHandler(e,t.view,t.field)}))}attachCssCustomizations(e){if(!(null==e?void 0:e[u.CustomEventType.GetRowCss])&&!(null==e?void 0:e[u.CustomEventType.GetCellCss]))return;const t=[u.CustomEventType.GetRowCss,u.CustomEventType.GetCellCss].reduce(((t,i)=>{var n;return null===(n=e[i])||void 0===n||n.forEach((e=>{const n=e.props;t[n.view]=t[n.view]||{},t[n.view][i]=t[n.view][i]||[],t[n.view][i].push(e)})),t}),{});for(const e in t){const i=this[e];i&&i.cssCustomization.setCustomCssHandler(this,t[e])}}attachRowSelectedHandlers(e){(null==e?void 0:e[u.CustomEventType.RowSelected])&&e[u.CustomEventType.RowSelected].forEach((e=>{const t=this[e.props.view];t&&t.subscribeRowSelected(this,e)}))}attachValueHandler(e,t,i){const n=this[t];if(n){const t=n.subscribeValueChanged(this,i,e);t&&this.subscribers.push(t)}}detached(){this.subscribers.forEach((e=>e.dispose())),this.subscribers.splice(0,this.subscribers.length),this.screenService.dispose()}cancelViewChanges(e){this.screenService.cancelViewFieldChanges(e),this.setDirty(this.screenService.hasChanges())}ensureInitialized(){return i.__awaiter(this,void 0,void 0,(function*(){this.busyCounter.increment(),this.initialized||(yield this.initialize(!1)),this.busyCounter.decrement()}))}initialize(e=!0,t){return i.__awaiter(this,void 0,void 0,(function*(){const i=this.screenEventManager.subscribe("ExecuteCommand",(e=>{var t,i;(e.Command||(null===(i=null===(t=e.Params)||void 0===t?void 0:t.dialogCallback)||void 0===i?void 0:i.dialogResult))&&(this.screenService.executeCommand(e.Command,e.Params),e.stop())}));this.subscribers.push(i),this.subscribers.push(this.eventAggregator.subscribe(u.ApiCientEvents.ErrorRaisedEvent,(e=>{var t,i,n;e.isProcessed||((0,r.showInformer)((null===(t=e.data)||void 0===t?void 0:t.detail)||(null===(i=e.data)||void 0===i?void 0:i.title)||(null===(n=e.data)||void 0===n?void 0:n.message),"error"),e.isProcessed=!0)}))),yield this.onBeforeInitialize();try{yield this.screenService.initialize()}catch(e){return this.initialized=!0,this.eventAggregator.publish("screen-initialized",{screenID:this.screenID,pendingUpdate:!1,failure:!0}),this.onInitializeError(e),void(window.pageLoaded=!0)}this.eventAggregator.publish("screen-initialize-data-ready",this.screenID);const n=(0,b.getEventHandlersByType)(this);if(this.attachFieldsValueHandlers(n),this.attachCssCustomizations(n),this.attachRowSelectedHandlers(n),yield this.onInitialize(),this.initialized=!0,this.eventAggregator.publish("screen-initialized",{screenID:this.screenID,pendingUpdate:e}),window.pageLoaded=!0,this.onAfterInitialize(),e)return this.update(t)}))}update(e){return this.screenService.update(void 0,e).then()}onActivate(){}onBeforeInitialize(){return i.__awaiter(this,void 0,void 0,(function*(){}))}onInitialize(){return i.__awaiter(this,void 0,void 0,(function*(){}))}onInitializeError(e){}onAfterInitialize(){}onActionsUpdate(){}}i.__decorate([p.autoinject,i.__metadata("design:type",d.EventAggregator)],PXScreen.prototype,"eventAggregator",void 0),i.__decorate([(0,p.newInstance)(u.QpEventManager),i.__metadata("design:type",u.QpEventManager)],PXScreen.prototype,"screenEventManager",void 0),i.__decorate([(0,p.newInstance)(u.RedirectHelper),i.__metadata("design:type",u.RedirectHelper)],PXScreen.prototype,"redirectHelper",void 0),i.__decorate([(0,p.newInstance)(n.BaseApiClient),i.__metadata("design:type",n.BaseApiClient)],PXScreen.prototype,"baseApiClient",void 0),i.__decorate([(0,p.newInstance)(C.GridApiClient),i.__metadata("design:type",C.GridApiClient)],PXScreen.prototype,"gridApiClient",void 0),i.__decorate([(0,p.newInstance)(c.ScreenService),i.__metadata("design:type",c.ScreenService)],PXScreen.prototype,"screenService",void 0),i.__decorate([(0,p.inject)(o.FeaturesService),i.__metadata("design:type",Object)],PXScreen.prototype,"featuresService",void 0),i.__decorate([(0,p.inject)(a.LocalizationsService),i.__metadata("design:type",Object)],PXScreen.prototype,"localizationService",void 0),i.__decorate([p.autoinject,i.__metadata("design:type",l.TaskQueue)],PXScreen.prototype,"tq",void 0),i.__decorate([(0,p.newInstance)(g.DialogHelper),i.__metadata("design:type",g.DialogHelper)],PXScreen.prototype,"dialogHelper",void 0),i.__decorate([p.autoinject,i.__metadata("design:type",Element)],PXScreen.prototype,"element",void 0),i.__decorate([p.autoinject,i.__metadata("design:type",l.Container)],PXScreen.prototype,"container",void 0),i.__decorate([p.autoinject,i.__metadata("design:type",m.EventManager)],PXScreen.prototype,"eventManager",void 0),i.__decorate([p.autoinject,i.__metadata("design:type",v.FieldDefaultsService)],PXScreen.prototype,"fieldDefaultsService",void 0),i.__decorate([p.autoinject,i.__metadata("design:type",y.BusyCounter)],PXScreen.prototype,"busyCounter",void 0),t.PXScreen=PXScreen;const _=Object.getOwnPropertyNames(PXScreen.prototype).reduce(((e,t)=>(e[t]=!0,e)),{});_.__metadata__=!0,_.__pxmetadata__=!0,window.SCREEN_RESTRICTED_PROPS=_}.apply(t,n),void 0===r||(e.exports=r)},5177:(e,t,i)=>{var n,r;n=[i,t,i(2172)],r=function(e,t,i){"use strict";function processManualHandlers(e){const t=[];for(let i=e.length-1;i>=0;i--)if(t.unshift(e[i]),e[i].props.manualHandler&&i>0){t[0].children=processManualHandlers(e.slice(0,i));break}return t}function getAllFunctions(e){let t=new Array,i=e;do{t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i)}while(i);return t.sort().filter((function(t,i,n){if(t!==n[i+1]&&"function"==typeof e[t])return!0}))}function searchMetadata(e,t,n){let r,o=e;do{r=i.ReflectWithMetadata.getOwnMetadata(t,o,n),r||(o=Object.getPrototypeOf(o))}while(!r&&o);return{eventType:r,prototype:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.searchMetadata=t.getAllFunctions=t.processManualHandlers=t.getEventHandlersByType=void 0,t.getEventHandlersByType=function getEventHandlersByType(e){const t=Object.getPrototypeOf(e),n=getAllFunctions(e),r={};for(const o of n){const{eventType:n,prototype:a}=searchMetadata(t,i.eventTypeMetadataName,o);if(!n)continue;r[n]=r[n]||[];const l=i.ReflectWithMetadata.getOwnMetadata(i.eventPropMetadataName,a,o),d=i.ReflectWithMetadata.getOwnMetadata(i.eventOrderMetadataName,a,o);r[n].push({order:d,handler:e[o],handlerName:o,props:l,eventType:n})}for(const e in r){const t=r[e];(null==t?void 0:t.sort)&&(t.sort(((e,t)=>{const i=e.order-t.order;if(0!==i)return i;const n=(void 0===e.props.order?Number.MAX_SAFE_INTEGER:e.props.order)-(void 0===t.props.order?Number.MAX_SAFE_INTEGER:t.props.order);return 0!==n?n:e.handlerName.localeCompare(t.handlerName)})),r[e]=processManualHandlers(t))}return r},t.processManualHandlers=processManualHandlers,t.getAllFunctions=getAllFunctions,t.searchMetadata=searchMetadata}.apply(t,n),void 0===r||(e.exports=r)},9224:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressHelper=void 0;class AddressHelper{static getSearchQuery(e){var t,i;if(e.AddressLine1||e.AddressLine2||e.City||e.State||e.PostalCode)return AddressHelper.getFormattedAddressHelper(" ",[e.AddressLine1,e.AddressLine2,e.City,AddressHelper.getFormattedAddressHelper(" ",[null===(t=e.State)||void 0===t?void 0:t.id,e.PostalCode]),null===(i=e.Country)||void 0===i?void 0:i.id])}static getFormattedAddress(e){var t,i;if(e.AddressLine1||e.AddressLine2||e.City||e.State||e.PostalCode)return AddressHelper.getFormattedAddressHelper(", ",[e.AddressLine1,e.AddressLine2,e.City,AddressHelper.getFormattedAddressHelper(" ",[null===(t=e.State)||void 0===t?void 0:t.id,e.PostalCode]),null===(i=e.Country)||void 0===i?void 0:i.id])}static getFormattedAddressHelper(e,t){return t.filter((e=>!!e)).join(e)}}t.AddressHelper=AddressHelper}.apply(t,[i,t]),void 0===n||(e.exports=n)},7500:(e,t,i)=>{var n,r;n=[i,t,i(655)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressLookupService=void 0;t.AddressLookupService=class AddressLookupService{constructor(e){this.http=e}getAddressLookupSetting(){return i.__awaiter(this,void 0,void 0,(function*(){try{const e=yield this.http.get("apiweb/AddressLookup/setting");if(e.ok&&200===e.status)return e.json()}catch(e){console.log("Error: ",e)}return null}))}}}.apply(t,n),void 0===r||(e.exports=r)},1023:(e,t,i)=>{var n,r;n=[i,t,i(655),i(9224),i(2076),i(3116)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class BingApi extends r.MapApi{constructor(e){super(e),this.latitude="",this.longitude="",this.Microsoft=window.Microsoft,this.handlers=[],this.stp=!1,this.properties=this.getProviderProperties()}destroy(){var e,t;this.handlers.forEach((e=>{this.Microsoft.Maps.Events.removeHandler(e)})),delete this.address,delete this.searchManager,delete this.infowindow,delete this.marker,null===(e=this.map)||void 0===e||e.entities.clear(),null===(t=this.map)||void 0===t||t.dispose(),delete this.map}geocodeQuery(e){this.address=e;const t=n.AddressHelper.getSearchQuery(e);if(!t)return;const i={where:t,callback:t=>{t&&t.results&&t.results.length>0&&(this.showPlace(t.results[0].location,n.AddressHelper.getFormattedAddress(e),""),this.map.setView({center:t.results[0].location}),this.infowindow.setOptions({visible:!0}))},errorCallback:()=>{}};this.searchManager.geocode(i)}initializeMaps(e,t,i){return super.initializeMaps(e,t,i).then((()=>(this.Microsoft||(this.Microsoft=window.Microsoft),this.bindAutocompleteSearchControl())))}getAddress(){if(!this.bingSuggestedAddress)return;const e=this.bingSuggestedAddress,t={};return t.AddressLine1=e.addressLine,t.City=e.locality,t.Country={id:e.countryRegionISO2,text:e.countryRegion},t.Latitude=this.latitude,t.Longitude=this.longitude,t.PostalCode=e.postalCode,t.State={id:e.adminDistrict},t}getProviderProperties(){var e;return{url:(null===(e=this.setting.url)||void 0===e?void 0:e.toLowerCase().trim().replace("${api_key}",this.setting.apiKey||""))||`https://www.bing.com/api/maps/mapcontrol?key=${this.setting.apiKey}&setLang=en&includeEntityTypes=Address,Business`,providerName:"BINGMAPS",countries:this.setting.countries,path:this.setting.path||"./map-api/bing-api"}}geocodeQueryByLoc(e){return new Promise(((t,i)=>{e||i();const n={location:e,includeCountryIso2:!0,callback:(e,i)=>{t(e)},errorCallback:()=>{i()}};this.searchManager.reverseGeocode(n)}))}static getUrl(e,t){let i=`https://www.bing.com/maps?where1=${t}`;return i+=encodeURIComponent(e),i}static sleep(e){return new Promise((t=>setTimeout(t,e)))}bindAutocompleteSearchControl(){return i.__awaiter(this,void 0,void 0,(function*(){try{this.map=new this.Microsoft.Maps.Map(this.mapContainer,{})}catch(e){yield BingApi.sleep(2*r.MapApi.dblClickDelay),this.map=new this.Microsoft.Maps.Map(this.mapContainer,{})}this.map.setView({zoom:13});const e=new Promise((e=>{this.Microsoft.Maps.loadModule("Microsoft.Maps.Search",(()=>{this.searchManager=new this.Microsoft.Maps.Search.SearchManager(this.map),e()}))})),t=new Promise((e=>{this.Microsoft.Maps.loadModule("Microsoft.Maps.AutoSuggest",(()=>{let t={maxResults:5,businessSuggestions:!0,map:this.map};this.countries&&this.countries.length&&(t={maxResults:5,businessSuggestions:!0,map:this.map,countryCode:this.countries[0]});new this.Microsoft.Maps.AutosuggestManager(t).attachAutosuggest(this.searchBoxInput,"#searchBoxContainer",(e=>{this.selectedSuggestion(e),this.map.setView({center:e.location}),this.infowindow.setOptions({visible:!0})})),e()}))}));return Promise.all([e,t]).then((()=>{this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.map,"dblclick",(()=>{this.stp=!0,setTimeout((()=>this.stp=!1),3*r.MapApi.dblClickDelay)}))),this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.map,"click",(e=>{setTimeout((()=>this.addHandedMarker(e)),r.MapApi.dblClickDelay)}))),this.marker=new this.Microsoft.Maps.Pushpin(this.map.getCenter(),{draggable:!0}),this.infowindow=new this.Microsoft.Maps.Infobox(this.map.getCenter(),{visible:!1,enableHoverStyle:!0}),this.infowindow.setMap(this.map),this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.marker,"click",(e=>{this.infowindow.setOptions({visible:!this.infowindow.getVisible(),description:this.infowindow.getDescription()})}))),this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.marker,"dragstart",(e=>{this.infowindow.setOptions({visible:!1})}))),this.handlers.push(this.Microsoft.Maps.Events.addHandler(this.marker,"dragend",(e=>{this.infowindow.setOptions({visible:!1}),this.addHandedMarker(e)})))}))}))}addHandedMarker(e){this.stp||this.geocodeQueryByLoc(e.location).then((e=>{this.selectedSuggestion(e)}))}selectedSuggestion(e){this.map.entities.clear(),this.bingSuggestedAddress=e.address,this.showPlace(e.location,e.address.formattedAddress,BingApi.getUrl(e.address.formattedAddress,"")),this.latitude=e.location.latitude,this.longitude=e.location.longitude}showPlace(e,t,i){var r;t&&(this.map.entities.push(this.marker),this.marker.setLocation(e),i||(i=(null===(r=this.address)||void 0===r?void 0:r.AddressLine1)?BingApi.getUrl(n.AddressHelper.getFormattedAddress(this.address),""):`https://bing.com/maps/default.aspx?cp=${e.latitude}~${e.longitude}&lvl=16&dir=0&sty=o&sp=point.${e.latitude}_${e.longitude}_You%20are%20here`),i&&(t=`${t}<div class="view-link">\n\t\t\t\t<a target="_blank" href="${i}"> <span> ${o.Messages.AddressLookupViewOnBingMap} </span> </a>\n\t\t\t\t</div >`),this.infowindow.setOptions({visible:!1,description:t,location:e,enableHoverStyle:!0,offset:{x:0,y:10}}))}}t.default=BingApi}.apply(t,n),void 0===r||(e.exports=r)},9908:(e,t,i)=>{var n,r;n=[i,t,i(2076)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class DefaultApi extends i.MapApi{constructor(e){super(e),this.properties={url:"http://about:blank",providerName:"DEFAULT",countries:[],path:"./map-api/default-api"}}destroy(){}geocodeQuery(e){}initializeMaps(e,t,i){return Promise.resolve(super.initializeMaps(e,t,i))}getAddress(){}}t.default=DefaultApi}.apply(t,n),void 0===r||(e.exports=r)},2850:(e,t,i)=>{var n,r;n=[i,t,i(9224),i(2076),i(3116)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class GoogleApi extends n.MapApi{constructor(e){super(e),this.isInfowindowOpen=!1,this.stp=!1,this.properties=this.getProviderProperties()}destroy(){GoogleApi.googleMap.event.clearListeners(this.marker,"click"),GoogleApi.googleMap.event.clearListeners(this.marker,"dragend"),GoogleApi.googleMap.event.clearListeners(this.marker,"dragstart"),GoogleApi.googleMap.event.clearListeners(this.autocomplete,"place_changed"),delete this.map,delete this.marker,delete this.autocomplete,delete this.infowindow}initializeMaps(e,t,i){return super.initializeMaps(e,t,i).then((()=>{GoogleApi.googleMap=window.google.maps;if(this.autocomplete=new GoogleApi.googleMap.places.Autocomplete(this.searchBoxInput,{bounds:{east:180,west:-180,north:90,south:-90},fields:["name","url","address_component","geometry","adr_address","formatted_address"]}),this.countries&&this.countries.length)try{this.autocomplete.setComponentRestrictions({country:this.countries})}catch(e){alert("Can't apply countries component restriction.")}this.map=new GoogleApi.googleMap.Map(this.mapContainer,{center:{lat:-33.8688,lng:151.2195},zoom:13,fullscreenControl:!1,clickableIcons:!1,streetViewControl:!1,mapTypeControl:!0,mapTypeControlOptions:{style:GoogleApi.googleMap.MapTypeControlStyle.HORIZONTAL_BAR,position:GoogleApi.googleMap.ControlPosition.TOP_RIGHT},styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]}),this.map.getDiv().addEventListener("dblclick",(()=>{this.stp=!0,setTimeout((()=>this.stp=!1),3*GoogleApi.dblClickDelay)})),this.map.addListener("click",(e=>{setTimeout(this.addHandedMarker.bind(this),GoogleApi.dblClickDelay,e)})),this.marker=new GoogleApi.googleMap.Marker({map:this.map,anchorPoint:new GoogleApi.googleMap.Point(0,GoogleApi.defaultPoint),draggable:!0}),this.marker.addListener("dragend",(e=>{this.closeInfowindow(),this.addHandedMarker(e)})),this.marker.addListener("dragstart",(e=>{this.closeInfowindow()})),this.autocomplete.addListener("place_changed",(()=>{const e=this.autocomplete.getPlace();e.geometry?(this.selectedPlace=e,this.showPlace(e.geometry.location,e.formatted_address,e.name,e.url)):this.selectedPlace=null}));const e=GoogleApi.offset;this.infowindow=new GoogleApi.googleMap.InfoWindow({pixelOffset:e}),GoogleApi.googleMap.event.addListener(this.marker,"click",(()=>{this.isInfowindowOpen?this.closeInfowindow():this.openInfowindow()}))}))}addHandedMarker(e){if(this.stp)return;(new GoogleApi.googleMap.Geocoder).geocode({location:e.latLng}).then((t=>{this.closeInfowindow(),t.results[0]?(this.marker.setPosition(e.latLng),this.marker.setTitle(t.results[0].formatted_address),this.infowindow.setContent(t.results[0].formatted_address),this.selectedPlace=t.results[0]):(this.marker.setPosition(e.latLng),this.marker.setTitle(null),this.selectedPlace=null)}))}geocodeQuery(e){let t=i.AddressHelper.getSearchQuery(e);if(!t)return;(new GoogleApi.googleMap.Geocoder).geocode({address:t},((n,r)=>{if("OK"===r){const r=n[0].geometry;this.marker?this.marker.setPosition(r.location):this.marker=new GoogleApi.googleMap.Marker({map:this.map,position:r.location}),t=i.AddressHelper.getFormattedAddress(e);const o=GoogleApi.getUrl(t,"&q=");this.showPlace(r.location,t,"",o)}}))}getAddress(){var e,t,i,n;const r=this.selectedPlace;if(!r)return;const o=(new DOMParser).parseFromString(r.adr_address,"text/html"),a={};if(a.Latitude=r.geometry.location.lat(),a.Longitude=r.geometry.location.lng(),a.AddressLine1=null===(e=null==o?void 0:o.querySelector(".street-address"))||void 0===e?void 0:e.innerText,!a.AddressLine1){let e=r.address_components.filter((e=>"premise"===e.types[0]));e.length>0&&(a.AddressLine1=e[0].short_name),a.AddressLine1&&(e=r.address_components.filter((e=>"locality"===e.types[0])),e.length>0&&(a.AddressLine1+=", "+e[0].short_name)),a.AddressLine1||(a.AddressLine1=r.formatted_address.split(",")[0])}if(a.PostalCode=null===(t=null==o?void 0:o.querySelector(".postal-code"))||void 0===t?void 0:t.innerText,!a.PostalCode){const e=r.address_components.filter((e=>e.types.indexOf("postal_code")>-1));e.length>0&&(a.PostalCode=e[0].short_name)}if(a.City=null===(i=null==o?void 0:o.querySelector(".sublocality"))||void 0===i?void 0:i.innerText,a.City||(a.City=null===(n=null==o?void 0:o.querySelector(".locality"))||void 0===n?void 0:n.innerText),!a.City){let e=r.address_components.filter((e=>e.types.indexOf("sublocality")>-1));e.length>0?a.City=e[0].short_name:(e=r.address_components.filter((e=>e.types.indexOf("locality")>-1)),e.length>0&&(a.City=e[0].short_name))}let l=r.address_components.filter((e=>e.types.indexOf("administrative_area_level_1")>-1));return l.length>0&&(a.State={id:l[0].short_name,text:l[0].long_name}),l=r.address_components.filter((e=>e.types.indexOf("country")>-1)),l.length>0&&(a.Country={id:l[0].short_name,text:l[0].long_name}),a}getProviderProperties(){var e;return{url:(null===(e=this.setting.url)||void 0===e?void 0:e.toLowerCase().trim().replace("${api_key}",this.setting.apiKey||""))||`https://maps.googleapis.com/maps/api/js?key=${this.setting.apiKey}&libraries=places&language=EN`,providerName:"GOOGLEMAPS",countries:this.setting.countries,path:this.setting.path||"./map-api/google-api"}}openInfowindow(){this.infowindow.open(this.map,this.marker),this.isInfowindowOpen=!0}closeInfowindow(){this.infowindow.close(),this.isInfowindowOpen=!1}showPlace(e,t,i,n){if(!t)return;this.marker.setVisible(!1),this.map.setCenter(e),this.map.setZoom(GoogleApi.defaultZoom),this.marker.setPosition(e),this.marker.setVisible(!0),n||(n=GoogleApi.getUrl());const o=`<div id="content-custom">${t}</div>\n\t\t\t<div class="view-link">\n\t\t\t<a target="_blank" href="${n}"> <span> ${r.Messages.AddressLookupViewOnGoogleMaps} </span> </a>\n\t\t\t</div>`;this.infowindow.setContent(o),this.openInfowindow()}static getUrl(e,t){let i="http://maps.google.com/maps?hl="+t;return e&&(i+=encodeURIComponent(e)),i}}t.default=GoogleApi,GoogleApi.defaultZoom=13,GoogleApi.defaultPoint=-29,GoogleApi.offset={width:0,height:-10}}.apply(t,n),void 0===r||(e.exports=r)},2076:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapApi=void 0;class MapApi{constructor(e){this.setting=e}initializeMaps(e,t,i){return this.mapContainer=e,this.searchBox=t,this.searchBoxInput=this.searchBox.querySelector("input"),this.countries=i,Promise.resolve()}}t.MapApi=MapApi,MapApi.dblClickDelay=200}.apply(t,[i,t]),void 0===n||(e.exports=n)},9802:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework")],r=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MapProviderPropertiesService=void 0;t.MapProviderPropertiesService=class MapProviderPropertiesService{constructor(e){this.addressLookupSetting=e}initMapApi(){return n.__awaiter(this,void 0,void 0,(function*(){return yield this.dynamicImport(),this.mapApi}))}dynamicImport(){return n.__awaiter(this,void 0,void 0,(function*(){this.addressLookupSetting.path||(this.addressLookupSetting.path="./map-api/default-api");const e=yield new Promise(((e,t)=>{Promise.all([i.e(960),i.e(407)]).then(function(){var t=[i(5407)(""+r.PLATFORM.moduleName(this.addressLookupSetting.path))];e.apply(null,t)}.bind(this)).catch(t.bind(this))})).then(n.__importStar);this.mapApi=new e.default(this.addressLookupSetting)}))}}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/address-lookup/qp-address-lookup":(e,t,i)=>{var n,r;n=[i,t,i(655),i(9802),i(7500),i(6176),i(4609),i(3116),i("aurelia-framework"),i(2956),i("aurelia-event-aggregator"),i(3147)],r=function(e,t,i,n,r,o,a,l,d,c,p,u){"use strict";var h;Object.defineProperty(t,"__esModule",{value:!0}),t.QpAddressLookupCustomElement=void 0;let g=h=class QpAddressLookupCustomElement{constructor(e,t,i,n,r,o,a){this.element=e,this.bindingEngine=t,this.observerLocator=i,this.eventAggregator=n,this.dialogHelper=r,this.tq=o,this.http=a,this.msg=l.Messages,this.btnAddressLookupConfig={id:"btnAddressLookup",text:l.Messages.AddressLookupButtonTitle,enabled:!0},this.mapdialogConfig={title:l.Messages.AddressLookupDialogTitle,width:"50vw",height:"50vh"},this.saveButtonConfig={text:l.Messages.Confirm,id:"btnConfirm",dialogResult:1,enabled:!0},this.cancelButtonConfig={text:l.Messages.Cancel,id:"btnCancel",dialogResult:2,enabled:!0},this.txtNameConfig={id:"edFilterName",class:"editor auto-size"},this.isScriptLoaded=!1,this.subscriptions=new Array}bind(e,t){if(this.clearSubscriptions(),this.config?(0,a.applyDefaultValues)(this.config,h.defaultConfig):this.config=Object.assign({},h.defaultConfig),this.btnAddressLookupConfig=Object.assign(Object.assign({},this.config),{text:this.config.buttonText||l.Messages.AddressLookupButtonTitle}),this.saveButtonConfig.enabled=void 0===this.config.enabled?void 0===this.overrideAddress||this.overrideAddress:this.config.enabled,this.txtNameConfig.hidden=!this.saveButtonConfig.enabled,!this.view&&this.config.view&&(this.view=this.config.view),this.view){["AddressLine1","AddressLine2","AddressLine3","City","CountryID","State","PostalCode","Latitude","Longitude","OverrideAddress"].forEach((e=>{const t=(e[0].toLowerCase()+e.substring(1)).replace("ID","");this.observerLocator.getObserver(this,t)._context0||void 0===this.view[e]||(this.subscriptions.push(this.bindingEngine.expressionObserver(this.view,`${e}.value`).subscribe(((e,i)=>{e!==i&&(this[t]=e)}))),this.subscriptions.push(this.bindingEngine.propertyObserver(this,t).subscribe(((t,i)=>{t!==i&&(this.view[e].value=t)}))),void 0===this[t]&&void 0!==this.view[e].value&&(this[t]=this.view[e].value))}))}this.config.okButtonText&&(this.saveButtonConfig.text=this.config.okButtonText),this.config.cancelButtonText&&(this.cancelButtonConfig.text=this.config.cancelButtonText)}overrideAddressChanged(e){var t,i;this.saveButtonConfig.enabled=void 0===this.config.enabled?void 0===e||e:this.config.enabled,this.saveButtonConfig.text=null!==(t=this.config.okButtonText)&&void 0!==t?t:this.saveButtonConfig.text,this.cancelButtonConfig.text=null!==(i=this.config.cancelButtonText)&&void 0!==i?i:this.cancelButtonConfig.text,this.txtNameConfig.hidden=!this.saveButtonConfig.enabled}clearSubscriptions(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}ensureAddressLookupService(){void 0===this.addressLookupService&&(this.addressLookupService=new r.AddressLookupService(this.http))}ensureMapSetting(){return i.__awaiter(this,void 0,void 0,(function*(){if(this.mapSetting)return;this.mapSetting=yield this.addressLookupService.getAddressLookupSetting(),this.mapSetting||(this.mapSetting={providerName:"DEFAULT"});const e=new n.MapProviderPropertiesService(this.mapSetting);this.mapApi=yield e.initMapApi()}))}ensureMapProviderProperties(e){this.mapApi&&(this.isScriptLoaded?e():"DEFAULT"!==this.mapApi.properties.providerName?this.mapApi.properties.url&&(0,a.loadScript)(this.mapApi.properties.url,(()=>{this.isScriptLoaded=!0,e()})):e())}detached(){this.mapApi&&(this.mapApi.destroy(),this.mapApi=void 0),this.clearSubscriptions()}ok(){var e;const t=null===(e=this.mapApi)||void 0===e?void 0:e.getAddress();t&&(this.addressLine1=null==t?void 0:t.AddressLine1,this.addressLine2=null==t?void 0:t.AddressLine2,this.addressLine3=null==t?void 0:t.AddressLine3,this.city=null==t?void 0:t.City,this.country=null==t?void 0:t.Country,this.state=null==t?void 0:t.State,this.postalCode=null==t?void 0:t.PostalCode,this.latitude=null==t?void 0:t.Latitude,this.longitude=null==t?void 0:t.Longitude)}processAddressLookupClick(e){var t;return i.__awaiter(this,void 0,void 0,(function*(){if(this.ensureAddressLookupService(),yield this.ensureMapSetting(),this.mapSetting&&"DEFAULT"!==this.mapSetting.providerName&&"DEFAULT"!==(null===(t=this.mapApi)||void 0===t?void 0:t.properties.providerName))this.ensureMapProviderProperties(this.openMapDialog.bind(this));else{const e=Object.assign(Object.assign({},this.mapdialogConfig),{templateId:"addresslookup_mapdialog_notconf",context:this});this.dialogHelper.openDialog(e)}}))}openMapDialog(){const e=Object.assign(Object.assign({},this.mapdialogConfig),{templateId:"addresslookup_mapdialog",context:this}),t=this.dialogHelper.openDialog(e);t.then((()=>{this.tq.queueTask((()=>{this.mapApi&&this.mapApi.initializeMaps&&this.mapApi.initializeMaps(this.mapContainer,this.searchBox,this.mapApi.properties.countries).then((()=>{var e;const t={AddressLine1:this.addressLine1,AddressLine2:this.addressLine2,AddressLine3:this.addressLine3,Country:this.country,City:this.city,PostalCode:this.postalCode,Longitude:this.longitude,Latitude:this.latitude,State:this.state};null===(e=this.mapApi)||void 0===e||e.geocodeQuery(t)}))}))})),t.whenClosed((()=>{var e;null===(e=this.mapApi)||void 0===e||e.destroy()}))}};g.defaultConfig={hidden:!1},i.__decorate([d.bindable,i.__metadata("design:type",Object)],g.prototype,"config",void 0),i.__decorate([d.bindable,i.__metadata("design:type",String)],g.prototype,"addressLine1",void 0),i.__decorate([d.bindable,i.__metadata("design:type",String)],g.prototype,"addressLine2",void 0),i.__decorate([d.bindable,i.__metadata("design:type",String)],g.prototype,"addressLine3",void 0),i.__decorate([d.bindable,i.__metadata("design:type",String)],g.prototype,"city",void 0),i.__decorate([d.bindable,i.__metadata("design:type",Object)],g.prototype,"country",void 0),i.__decorate([d.bindable,i.__metadata("design:type",Object)],g.prototype,"state",void 0),i.__decorate([d.bindable,i.__metadata("design:type",String)],g.prototype,"postalCode",void 0),i.__decorate([d.bindable,i.__metadata("design:type",String)],g.prototype,"latitude",void 0),i.__decorate([d.bindable,i.__metadata("design:type",String)],g.prototype,"longitude",void 0),i.__decorate([d.bindable,i.__metadata("design:type",Boolean)],g.prototype,"overrideAddress",void 0),i.__decorate([d.bindable,i.__metadata("design:type",o.PXView)],g.prototype,"view",void 0),g=h=i.__decorate([(0,d.customElement)("qp-address-lookup"),d.autoinject,i.__metadata("design:paramtypes",[Element,d.BindingEngine,d.ObserverLocator,p.EventAggregator,u.DialogHelper,d.TaskQueue,c.HttpClient])],g),t.QpAddressLookupCustomElement=g}.apply(t,n),void 0===r||(e.exports=r)},4269:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}.apply(t,[i,t]),void 0===n||(e.exports=n)},9293:(e,t,i)=>{var n,r;n=[i,t,i(655),i(2594)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrencyMessages=void 0;let r=class CurrencyMessages{};r.RateValuesCaption="Currency Unit Equivalents",r.ViewBase="View Base",r.ViewCurrency="View Cury",r.RateSelectionDialog="Rate Selection",r.BaseCurrency="Base ({0})",r=i.__decorate([n.localizable],r),t.CurrencyMessages=r}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/currency/qp-currency":(e,t,i)=>{var n,r;n=[i,t,i(655),i(9293),i(6778),i("aurelia-framework"),i(6158),i(2594),i(2172),i(7140),i(7699)],r=function(e,t,i,n,r,o,a,l,d,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpCurrencyCustomElement=void 0;let u=class QpCurrencyCustomElement{constructor(e,t,i,r){this.element=e,this.container=t,this.currencyService=i,this.screenService=r,this.rateValuesCaption=n.CurrencyMessages.RateValuesCaption,this.baseRate=Number(1).toFixed(3),this.btnSwitchToBase={id:"btnBase",text:n.CurrencyMessages.ViewBase,enabled:!0},this.btnSwitchToCurrent={id:"btnCurrent",text:n.CurrencyMessages.ViewCurrency,enabled:!0},this.saveButtonConfig={text:l.Messages.Confirm,id:"btnConfirm",dialogResult:1,enabled:!0},this.GlobalMsg=l.Messages,this.Msg=n.CurrencyMessages,this.subscriptions=[],this.currencySelectorState=d.PXFieldState.create(),this.currencySelectorState.enabled=!1,this.currencySelectorConfig={enabled:!0,id:"currencySelector",selectorMode:"text"},this.rateSelectorConfig={id:"currencyRate",enabled:!0,readOnly:!1,required:!1,dialogPanelId:"currencyRateDialog",dialogPanelRoot:e,dialogTitle:n.CurrencyMessages.RateSelectionDialog,hideMaximizer:!0,context:this,readonlyOpensDialog:!0},this.rateValuesVisible=!0,this.mode=d.CurrencyViewMode.Current}configChanged(e){this.rateSelectorConfig.dialogPanelId=`currencyRateDialog_${e.id}`}viewChanged(){var e,t;(null===(e=this.view)||void 0===e?void 0:e.name)&&this.screenService.registerViewBinding(this.element,null===(t=this.view)||void 0===t?void 0:t.name)}stateChanged(e){this.unsubscribe(),e&&(this.btnSwitchToBase.id=`${this.config.id}_btnBase`,this.btnSwitchToCurrent.id=`${this.config.id}_btnCurrent`,this.saveButtonConfig.id=`${this.config.id}_btnConfirm`,this.rateSelectorConfig.id=`${this.config.id}_currencyRate`,this.currencySelectorConfig.id=`${this.config.id}_currencySelector`,this.currencySelectorState.readOnly=e.readOnly,this.subscriptions.push(this.bindingEngine.propertyObserver(e,"readOnly").subscribe((e=>{this.currencySelectorConfig=Object.assign(Object.assign({},this.currencySelectorConfig),{readOnly:e})}))))}detached(){this.unsubscribe()}get currentCurrencyState(){const e=this.state?this.state:this.view?this.view.CuryID:this.currentCurrency;return e&&this.onCurrencyChanged(e),e}get currencyRateState(){var e,t,i;const n=this.view?this.view.SampleCuryRate:this.currencyRate,r=(null===(e=this.baseCurrencyState)||void 0===e?void 0:e.value)!==(null===(i=null===(t=this.currentCurrencyState)||void 0===t?void 0:t.value)||void 0===i?void 0:i.id);return!n||r===this.rateSelectorConfig.enabled&&n.readOnly===this.rateSelectorConfig.readOnly||(this.rateSelectorConfig=Object.assign(Object.assign({},this.rateSelectorConfig),{enabled:r,readOnly:n.readOnly})),n}get baseCurrencyState(){return this.view?this.view.BaseCuryID:this.baseCurrency}get currencyRateTypeState(){return this.view?this.view.CuryRateTypeID:this.currencyRateType}get currencyEffectiveDateState(){return this.view?this.view.CuryEffDate:this.currencyEffectiveDate}get sampleCurrencyRateState(){return this.view?this.view.SampleCuryRate:this.sampleCurrencyRate}get sampleRecieptRateState(){return this.view?this.view.SampleRecipRate:this.sampleRecieptRate}get currencyValue(){var e;return this.currentCurrencyState?null===(e=this.currentCurrencyState)||void 0===e?void 0:e.value:{id:void 0}}set currencyValue(e){this.currentCurrencyState&&(this.currentCurrencyState.value=e)}get rateValue(){var e;if(null===(e=this.currencyRateState)||void 0===e?void 0:e.value)return this.currencyRateState.value}set rateValue(e){this.currencyRateState&&e&&(this.currencyRateState.value=e)}get baseLabel(){var e;return(null===(e=this.baseCurrencyState)||void 0===e?void 0:e.value)?(0,l.Format)(n.CurrencyMessages.BaseCurrency,this.baseCurrencyState.value):""}get currentCurrencyReadonly(){var e,t;const i=d.PXFieldState.create();return i.enabled=!0,i.readOnly=!0,i.type=d.NetType.String,i.value=null===(t=null===(e=this.currentCurrencyState)||void 0===e?void 0:e.value)||void 0===t?void 0:t.id,i}onCurrencyChanged(e){var t,i,n,r;if(!e)return;let o;this.graph||(this.graph=e.graph,this.currencyService.getCurrencyState(this.getScreenID()).then((e=>{this.mode=e?d.CurrencyViewMode.Base:d.CurrencyViewMode.Current}))),(null===(t=e.fieldList)||void 0===t?void 0:t.length)&&(null===(i=e.headerList)||void 0===i?void 0:i.length)&&(o=e.fieldList.map(((t,i)=>{var n;return{id:t,label:null===(n=e.headerList)||void 0===n?void 0:n[i],filter:!0}}))),this.currencySelectorConfig=Object.assign(Object.assign({},this.currencySelectorConfig),{readOnly:null===(n=this.state)||void 0===n?void 0:n.readOnly,enabled:null===(r=this.state)||void 0===r?void 0:r.enabled,suggester:{viewName:e.viewName,graph:e.graph,fields:o,valueField:"CuryID",descriptionName:"Description"}})}switchCuryState(){return i.__awaiter(this,void 0,void 0,(function*(){let e=this.getSwitchElement();this.mode=this.mode===d.CurrencyViewMode.Base?d.CurrencyViewMode.Current:d.CurrencyViewMode.Base;const t=e&&document.activeElement&&e.contains(document.activeElement);yield this.currencyService.setCurrencyState({screenId:this.getScreenID(),currencyMode:this.mode}),yield this.screenService.update(),e=this.getSwitchElement();const i=null==e?void 0:e.getElementsByTagName("BUTTON"),n=null==i?void 0:i[0];t&&n&&n.focus()}))}getScreenID(){var e;return(null===(e=this.screenService)||void 0===e?void 0:e.isValid)?this.screenService.screenID:(0,c.getScreenID)()}getSwitchElement(){return this.switchToBaseElement||this.switchToCurrentElement}unsubscribe(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}};u.defaultConfig={enabled:!0,dialogResult:0},i.__decorate([o.bindable,i.__metadata("design:type",Object)],u.prototype,"view",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Object)],u.prototype,"config",void 0),i.__decorate([o.bindable,i.__metadata("design:type",d.PXFieldState)],u.prototype,"state",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Boolean)],u.prototype,"enabled",void 0),i.__decorate([o.bindable,i.__metadata("design:type",d.PXFieldState)],u.prototype,"currentCurrency",void 0),i.__decorate([o.bindable,i.__metadata("design:type",d.PXFieldState)],u.prototype,"currencyRate",void 0),i.__decorate([o.bindable,i.__metadata("design:type",d.PXFieldState)],u.prototype,"baseCurrency",void 0),i.__decorate([o.bindable,i.__metadata("design:type",d.PXFieldState)],u.prototype,"currencyRateType",void 0),i.__decorate([o.bindable,i.__metadata("design:type",d.PXFieldState)],u.prototype,"currencyEffectiveDate",void 0),i.__decorate([o.bindable,i.__metadata("design:type",d.PXFieldState)],u.prototype,"sampleCurrencyRate",void 0),i.__decorate([o.bindable,i.__metadata("design:type",d.PXFieldState)],u.prototype,"sampleRecieptRate",void 0),i.__decorate([p.autoinject,i.__metadata("design:type",o.BindingEngine)],u.prototype,"bindingEngine",void 0),i.__decorate([(0,r.computedFrom)("currentCurrency","view.CuryID","state"),i.__metadata("design:type",d.PXFieldState),i.__metadata("design:paramtypes",[])],u.prototype,"currentCurrencyState",null),i.__decorate([(0,r.computedFrom)("currencyRate","view.SampleCuryRate","baseCurrencyState","currentCurrencyState"),i.__metadata("design:type",d.PXFieldState),i.__metadata("design:paramtypes",[])],u.prototype,"currencyRateState",null),i.__decorate([(0,r.computedFrom)("baseCurrency","view.BaseCuryID"),i.__metadata("design:type",d.PXFieldState),i.__metadata("design:paramtypes",[])],u.prototype,"baseCurrencyState",null),i.__decorate([(0,r.computedFrom)("currencyRateType","view.CuryRateTypeID"),i.__metadata("design:type",d.PXFieldState),i.__metadata("design:paramtypes",[])],u.prototype,"currencyRateTypeState",null),i.__decorate([(0,r.computedFrom)("currencyEffectiveDate","view.CuryEffDate"),i.__metadata("design:type",d.PXFieldState),i.__metadata("design:paramtypes",[])],u.prototype,"currencyEffectiveDateState",null),i.__decorate([(0,r.computedFrom)("sampleCurrencyRate","view.SampleCuryRate"),i.__metadata("design:type",d.PXFieldState),i.__metadata("design:paramtypes",[])],u.prototype,"sampleCurrencyRateState",null),i.__decorate([(0,r.computedFrom)("sampleRecieptRate","view.SampleRecipRate"),i.__metadata("design:type",d.PXFieldState),i.__metadata("design:paramtypes",[])],u.prototype,"sampleRecieptRateState",null),i.__decorate([(0,r.computedFrom)("currentCurrencyState.value"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[Object])],u.prototype,"currencyValue",null),i.__decorate([(0,r.computedFrom)("currencyRateState.value"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[Object])],u.prototype,"rateValue",null),i.__decorate([(0,r.computedFrom)("baseCurrencyState.value"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"baseLabel",null),i.__decorate([(0,r.computedFrom)("currentCurrencyState.value"),i.__metadata("design:type",d.PXFieldState),i.__metadata("design:paramtypes",[])],u.prototype,"currentCurrencyReadonly",null),u=i.__decorate([(0,o.customElement)("qp-currency"),p.autoinject,i.__metadata("design:paramtypes",[Element,a.Container,l.CurrencyApiService,l.ScreenService])],u),t.QpCurrencyCustomElement=u}.apply(t,n),void 0===r||(e.exports=r)},7994:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1255),i(7140),i(3116)],r=function(e,t,i,n,r,o,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.FormulaEditorService=void 0;const d="ui",c=`${`${d}/screen/${(0,o.getScreenID)()}`}/feditor`;let p=l=class FormulaEditorService{constructor(e){this.client=e,this.globalsTree=l.opGlobals,this.parametersTree=l.opParameters,this.operatorsTree=[{name:a.Messages.Arithmetic,list:l.opArithmetic},{name:a.Messages.Comparison,list:l.opComparison},{name:a.Messages.Logical,list:l.opLogical},{name:a.Messages.Other,list:l.opOther}],this.functionsTree=[{name:a.Messages.Conversion,list:l.funConversion},{name:a.Messages.Aggregates,list:l.funAggregates},{name:a.Messages.Text,list:l.funText},{name:a.Messages.Math,list:l.funMath},{name:a.Messages.DateTime,list:l.funDateTime},{id:l.PROGRAM_FUNCTIONS_ID,name:a.Messages.Other,list:l.funProgram},{id:l.APPLICATION_FUNCTIONS_ID,name:a.Messages.Application,list:l.funApp,enabled:!0}],this.formulaEditorTree=[{id:l.GLOBALS_ID,name:a.Messages.Globals,list:this.globalsTree,enabled:!1},{id:l.PARAMETERS_ID,name:a.Messages.Parameters,list:this.parametersTree,enabled:!1},{id:l.OPERATORS_ID,name:a.Messages.Operators,list:this.operatorsTree,enabled:!0},{id:l.FUNCTIONS_ID,name:a.Messages.Functions,list:this.functionsTree,enabled:!0},{id:l.DYNAMIC_NODE_ID,name:"",list:null,isDynamic:!0,enabled:!1},{id:l.SUBSTITUTION_KEYS_ID,name:a.Messages.SubstitutionKeys,list:null,isDynamic:!0,enabled:!1},{id:l.STYLES_ID,name:a.Messages.Styles,list:null,enabled:!1}]}getDefaultTree(){return JSON.parse(JSON.stringify(this.formulaEditorTree))}flattenTree(e){const t=[];let i=0;return e.forEach((e=>{i++;const n=i;let r=0;e.enabled&&(t.push(this.getFlatNode(e,i)),e.list&&e.list.forEach((e=>{"string"!=typeof e&&!1!==e.enabled&&(r++,t.push(this.getFlatNode(e,i+r,n)))}))),i+=r})),JSON.parse(JSON.stringify(t))}getFlatNode(e,t,i){return Object.assign(Object.assign({},e),{id:t.toString(),serviceId:e.id,parentId:void 0!==i?i.toString():null})}getNodeById(e,t){let i=e.find((e=>e.id===t));return i||e.find((e=>{var n;if((null===(n=e.list)||void 0===n?void 0:n.length)&&"string"!=typeof e.list[0]){const n=e.list.find((e=>e.id===t));if(n)return i=n,e}})),i}replaceNodeList(e,t,i,n=!1){return this.changeNodeList(e,t,i,n)}appendToNodeList(e,t,i,n=!1){return this.changeNodeList(e,t,i,n,!0)}changeNodeList(e,t,i,n=!1,r=!1){const o=e.slice(),a=("string"!=typeof i?i:i.split(";")).map((e=>n?`'${e.trim()}'`:e)),l=this.getNodeById(o,t);return l&&(l.list=r?[...l.list?l.list:[],...a]:a),o}enableNode(e,t){return this.toggleNode(e,t,!0)}disableNode(e,t){return this.toggleNode(e,t,!1)}toggleNode(e,t,i){const n=e.slice(),r=this.getNodeById(n,t);return r&&(r.enabled=i),n}setNodeName(e,t,i){const n=e.slice(),r=this.getNodeById(n,t);return r&&(r.name=i),n}getTreeFromView(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=yield this.getData({view:e}),i=[];function pushNode(e,t,i,n){const r=n.startsWith("[")?l.FIELDS_PREFIX:n.startsWith("@")?l.PARAMETERS_PREFIX:"";let o=e.find((e=>e.id===`${r}${t[i]}`));if(o||(o={id:`${r}${t[i]}`,name:t[i],enabled:!0,list:[]},e.push(o)),i===t.length-1)o.list.push(n);else{if(!o.list)return;pushNode(o.list,t,i+1,n)}}return t.forEach((e=>{const t=e.category.split("/");t.length&&pushNode(i,t,0,e.value)})),i}))}getData(e){return this.client.fetchExt(`${c}/data`,e)}getParameters(e){return this.client.fetchExt(`${c}/parameters`,e)}getFields(e){return this.client.fetchExt(`${c}/fields`,{fieldsList:e})}getFieldsByController(e){return this.client.fetchExt(`${d}/${e}`,{})}getSubstitutionKeys(e){return this.client.fetchExt(`${d}/${e}`,{})}validate(e){return this.client.fetchExt(`${c}/validate`,e)}};p.PROGRAM_FUNCTIONS_ID="PROGRAM_FUNCTIONS",p.APPLICATION_FUNCTIONS_ID="APPLICATION_FUNCTIONS",p.GLOBALS_ID="GLOBALS",p.PARAMETERS_ID="PARAMETERS",p.OPERATORS_ID="OPERATORS",p.FUNCTIONS_ID="FUNCTIONS",p.DYNAMIC_NODE_ID="DYNAMIC",p.SUBSTITUTION_KEYS_ID="SUBSTITUTION_KEYS",p.STYLES_ID="STYLES",p.FIELDS_PREFIX="[fields]",p.PARAMETERS_PREFIX="[parameters]",p.opGlobals=["[PageCount]","[PageIndex]","[PageOf]"],p.opParameters=["@Rate","@Price"],p.opArithmetic=["+","-","*","/","%"],p.opComparison=["=","<>","<",">","<=",">="],p.opLogical=["And","Not","Or"],p.opOther=["False","In","Null","True"],p.funConversion=["CBool( x )","CDate( x )","CDbl( x )","CDec( x )","CInt( x )","CLong( x )","CSng( x )","CStr( x )","CShort( x )"],p.funAggregates=["Avg( expr )","Count( expr )","First( expr )","Last( expr )","Max( expr )","Min( expr )","Next( expr )","Prev( expr )","Sum( expr )"],p.funText=["Format( format, args )","InStr( str, findStr )","InStrRev( str, findStr )","Len( str )","Left( str, length )","LCase( str )","LTrim( str )","PadLeft( str, width, paddingChar )","PadRight( str, width, paddingChar )","Replace( str, oldValue, newValue )","Right( str, length )","RTrim( str )","Trim( str )","UCase( str )","Substring( str, start, length )","Concat( str1, str2, ...)"],p.funMath=["Abs( x )","Ceiling( x )","Floor( x )","Max( x, y )","Min( x, y )","Pow( x, pow )","Round( x, decimals )"],p.funDateTime=["DateAdd( date, interval, number )","DateDiff( interval, date1, date2 )","Day( date )","DayOfWeek( date )","DayOfYear( date )","DayOrdinal( day )","Hour( date )","Minute( date )","Second( date )","Month( date )","MonthName( date )","Year( date )","Now()","Today()","NowUTC()","TodayUTC()"],p.funProgram=["IIf( expr, truePart, falsePart )","IsNull( value, nullValue )","Sum( from, to )","Switch( expr1, value1, expr2, value2, ...)","NullIf( value1, value2 )"],p.funApp=["ExtToInt(field, value)","ExtToUI(field, value)","FormatPeriod(period)","FormatPeriod(period, shift)","FormatYear(period)","FormatYear(period, shift)","GetDefExt(field)","GetDefInt(field)","GetDefUI(field)","GetDescription(field, value)","GetDisplayName(field)","GetFormat(field)","GetMask(field)","GetNumberOfPeriods(organizationId, startPeriod, endPeriod)","GetNumberOfPeriods(startPeriod, endPeriod)","GetPeriodEndDate(organizationId,period)","GetPeriodEndDate(period)","GetPeriodDescription(organizationId,period)","GetPeriodDescription(period)","GetPeriodStartDate(organizationId,period)","GetPeriodStartDate(period)","IntToExt(field, value)","IntToUI(field, value)","UIToExt(field, value)","UIToInt(field, value)"],p=l=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[r.BaseApiClient])],p),t.FormulaEditorService=p}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/formula-editor/qp-formula-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099),i(3147),i(7994),i(3116),i(6158),i(7140)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFormulaDialogCustomElement=void 0;(0,r.getLogger)("formula-dialog");let p=class QpFormulaDialogCustomElement{constructor(e,t,i,n){this.element=e,this.dialogHelper=t,this.formulaEditorService=i,this.tq=n,this.currentNodesList=[],this.popupValue=null,this.selectionStart=0,this.selectionEnd=0,this.backupValue=null,this.treeData=[],this.treeLoadingStatus="in-sync",this.nodeLoadingStatus="in-sync",this.currentNode=null,this.selectedLeafNode=null,this.validationResult=null,this.validationStatus="not-validated",this.okConfig={text:l.Messages.Confirm,id:"",enabled:!0},this.cancelConfig={text:l.Messages.Cancel,id:"",enabled:!0},this.validateConfig={text:l.Messages.Validate,id:"",enabled:!0},this.msg=l.Messages}attached(){this.tq.queueTask((()=>{this.prepareTree()}))}prepareTree(){return i.__awaiter(this,void 0,void 0,(function*(){this.editorTree=yield this.buildTree(),yield this.loadTreeData(),this.treeData=this.formulaEditorService.flattenTree(this.editorTree)}))}bind(){this.okConfig.id=`${this.config.id}_btnSave`,this.cancelConfig.id=`${this.config.id}_btnCancel`,this.validateConfig.id=`${this.config.id}_btnValidate`}get validationIcon(){var e;return(null===(e=this.validationResult)||void 0===e?void 0:e.valid)?"svg:main@successCheck":"svg:main@errorExclamation"}open(e){this.backupValue=this.popupValue,this.selectionStart=0,this.selectionEnd=this.popupValue?this.decodeHtml(this.popupValue).length:0;const t=this.dialogHelper.openDialog({context:this,templateId:`formulaEditorPopupTemplate_${this.config.id}`,width:"800px",height:"605px",caption:e},{},(e=>{this.currentDialog=e.controller}));return t.then((()=>{this.popupInputElement.focus()})),t}buildTree(){return i.__awaiter(this,void 0,void 0,(function*(){let e;return e=this.config.dataViewName?yield this.formulaEditorService.getTreeFromView(this.config.dataViewName):this.formulaEditorService.getDefaultTree(),void 0!==this.config.conditionStyles&&this.appendOrReplaceNode({tree:e,node:this.config.conditionStyles,nodeId:a.FormulaEditorService.STYLES_ID,withQuotes:!0}),void 0!==this.config.globals&&this.appendOrReplaceNode({tree:e,node:this.config.globals,nodeId:a.FormulaEditorService.GLOBALS_ID}),void 0!==this.config.parameters&&this.appendOrReplaceNode({tree:e,node:this.config.parameters,nodeId:a.FormulaEditorService.PARAMETERS_ID}),void 0!==this.config.applicationFunctions&&this.appendOrReplaceNode({tree:e,node:this.config.applicationFunctions,nodeId:a.FormulaEditorService.APPLICATION_FUNCTIONS_ID,append:this.config.applicationFunctionsAppend}),void 0!==this.config.programFunctions&&this.appendOrReplaceNode({tree:e,node:this.config.programFunctions,nodeId:a.FormulaEditorService.PROGRAM_FUNCTIONS_ID,append:this.config.programFunctionsAppend}),e}))}loadTreeData(){var e;return i.__awaiter(this,void 0,void 0,(function*(){let t;this.config.dynamicNodeName&&(this.editorTree=this.formulaEditorService.setNodeName(this.editorTree,a.FormulaEditorService.DYNAMIC_NODE_ID,this.config.dynamicNodeName),this.editorTree=this.formulaEditorService.enableNode(this.editorTree,a.FormulaEditorService.DYNAMIC_NODE_ID)),this.config.preloadDynamicNode&&((null===(e=this.config.dynamicFields)||void 0===e?void 0:e.length)||this.config.fieldsControllerRoute)&&(this.treeLoadingStatus="loading",this.config.dynamicFields?t=yield this.formulaEditorService.getFields(this.config.dynamicFields):this.config.fieldsControllerRoute&&(t=yield this.formulaEditorService.getFieldsByController(this.config.fieldsControllerRoute)),this.editorTree=this.formulaEditorService.replaceNodeList(this.editorTree,a.FormulaEditorService.DYNAMIC_NODE_ID,t||""),this.treeLoadingStatus="in-sync"),this.config.substitutionKeysControllerRoute&&(this.editorTree=this.formulaEditorService.enableNode(this.editorTree,a.FormulaEditorService.SUBSTITUTION_KEYS_ID)),!this.config.appendParametersOnValidationOnly&&this.config.viewNameForParameters&&this.config.fieldNameForParameters&&(this.treeLoadingStatus="loading",t=[...this.getNodeListById("PARAMETERS"),...yield this.formulaEditorService.getParameters({viewNameForParameters:this.config.viewNameForParameters,fieldNameForParameters:this.config.fieldNameForParameters})],this.editorTree=this.formulaEditorService.replaceNodeList(this.editorTree,a.FormulaEditorService.PARAMETERS_ID,t),this.treeLoadingStatus="in-sync")}))}appendOrReplaceNode(e){("string"==typeof e.node||Array.isArray(e.node))&&(e.append?e.tree=this.formulaEditorService.appendToNodeList(e.tree,e.nodeId,e.node,e.withQuotes):e.tree=this.formulaEditorService.replaceNodeList(e.tree,e.nodeId,e.node,e.withQuotes)),e.node?e.tree=this.formulaEditorService.enableNode(e.tree,e.nodeId):!1===e.node&&(e.tree=this.formulaEditorService.disableNode(e.tree,e.nodeId))}setCurrentNode(e){return i.__awaiter(this,void 0,void 0,(function*(){if(this.currentNode===e.node)return;this.currentNode=e.node,this.nodeLoadingStatus="loading";let t=e.node.list;if(e.load)switch(e.node.serviceId){case"DYNAMIC":t=yield this.getDynamicNode({targetNode:a.FormulaEditorService.DYNAMIC_NODE_ID});break;case"SUBSTITUTION_KEYS":t=yield this.getDynamicNode({targetNode:a.FormulaEditorService.SUBSTITUTION_KEYS_ID})}t&&(this.currentNodesList=t),this.nodeLoadingStatus="in-sync"}))}getDynamicNode(e){var t;return i.__awaiter(this,void 0,void 0,(function*(){let i=[];try{e.targetNode===a.FormulaEditorService.DYNAMIC_NODE_ID?(null===(t=this.config.dynamicFields)||void 0===t?void 0:t.length)?i=yield this.formulaEditorService.getFields(this.config.dynamicFields):this.config.fieldsControllerRoute&&(i=yield this.formulaEditorService.getFieldsByController(this.config.fieldsControllerRoute)):e.targetNode===a.FormulaEditorService.SUBSTITUTION_KEYS_ID&&this.config.substitutionKeysControllerRoute&&(i=yield this.formulaEditorService.getSubstitutionKeys(this.config.substitutionKeysControllerRoute))}catch(e){alert(e)}return i}))}currentNodesListChanged(){this.filterString="",this.nodesFilterBox&&this.nodesFilterBox.applyFastFilter("")}treeValueChanged(e){e.forEach((e=>{var t,i;const n=this.treeData.find((t=>t.id===e.id));(null===(t=n.list)||void 0===t?void 0:t.length)&&"string"==typeof n.list[0]?this.setCurrentNode({node:n}):!(null===(i=n.list)||void 0===i?void 0:i.length)&&n.isDynamic?this.setCurrentNode({node:n,load:!0}):(this.currentNode=null,this.currentNodesList=null)}))}get currentNodesListToShow(){var e;return""===this.filterString?this.currentNodesList:null===(e=this.currentNodesList)||void 0===e?void 0:e.filter((e=>e.toLocaleLowerCase().includes(this.filterString.toLocaleLowerCase())))}get currentNodesListToShowHighlighted(){var e,t;return""===this.filterString?null===(e=this.currentNodesListToShow)||void 0===e?void 0:e.map((e=>({pureNode:e,highlightedNode:e}))):null===(t=this.currentNodesListToShow)||void 0===t?void 0:t.map((e=>{const t=new c.TextParter(this.filterString).getTextParts(e);let i="";for(const e of t)i+=e.selected?`<span class="selected">${e.text}</span>`:e.text;return{pureNode:e,highlightedNode:i}}))}onFilter(e){return!0}selectLeafNode(e){this.selectedLeafNode=e}insertNodeToFormula(e,t=!0){var i;const n=null!==this.backupValue?this.backupValue:this.decodeHtml(this.popupValue),r=`${(null===(i=this.currentNode)||void 0===i?void 0:i.serviceId)===a.FormulaEditorService.APPLICATION_FUNCTIONS_ID?"Report.":""}${e}`;this.validationStatus="not-validated",this.popupValue=`${n.substring(0,this.selectionStart)}${r}${n.substring(this.selectionEnd)}`,this.backupValue=null,this.selectionStart=this.selectionStart+r.length,this.selectionEnd=this.selectionStart,t?this.popupInputElement.focus():this.setFakeSelection({setCursor:!0})}preventDblclickSelection(e){return e.detail>1&&e.preventDefault(),!0}handleSelectKeyup(e){switch(e.key){case"ArrowUp":this.moveOptionsSelection("up");break;case"ArrowDown":this.moveOptionsSelection("down");break;case"ArrowLeft":this.moveTextareaCursor("left");break;case"ArrowRight":this.moveTextareaCursor("right");break;case"Enter":this.selectedLeafNode&&this.insertNodeToFormula(this.selectedLeafNode,!1);break;default:return}}moveOptionsSelection(e){var t,i,n;if(this.selectedLeafNode&&(null===(t=this.currentNodesListToShow)||void 0===t?void 0:t.length)){let t=this.currentNodesListToShow.indexOf(this.selectedLeafNode);("up"===e&&--t>=0||"down"===e&&++t<this.currentNodesListToShow.length)&&(this.selectedLeafNode=this.currentNodesListToShow[t],null===(n=null===(i=this.nodeSelect)||void 0===i?void 0:i.querySelector(`[data-value="${this.selectedLeafNode}"]`))||void 0===n||n.focus())}}moveTextareaCursor(e){if("left"===e)this.selectionStart=this.selectionEnd>0?this.selectionEnd-1:0;else{const e=this.decodeHtml(null!==this.backupValue?this.backupValue:this.popupValue).length;this.selectionStart=this.selectionEnd<e?this.selectionEnd+1:e}this.selectionEnd=this.selectionStart,null!==this.backupValue&&(this.popupValue=this.encodeHtml(this.backupValue)),this.setFakeSelection({setCursor:!0})}handlePopupTextareaFocus(){this.textareaFocused=!0,null!==this.backupValue&&(this.popupValue=this.encodeHtml(this.backupValue)),this.tq.queueMicroTask((()=>this.restoreTextSelection()))}handlePopupTextareaBlur(){this.textareaFocused=!1,this.setFakeSelection()}restoreTextSelection(){var e;const t=null===(e=window.getSelection())||void 0===e?void 0:e.getRangeAt(0);if(t&&""!==this.popupValue){const e=this.popupInputElement.firstChild;e&&(t.setStart(e,this.selectionStart),t.setEnd(e,this.selectionEnd))}}setFakeSelection(e){const t=window.getSelection();if(this.backupValue=this.decodeHtml(this.popupValue),(null==e?void 0:e.setCursor)||t){!(null==e?void 0:e.setCursor)&&void 0!==(null==t?void 0:t.anchorOffset)&&t.anchorOffset>=0&&(this.selectionStart=Math.min(t.anchorOffset,t.focusOffset),this.selectionEnd=Math.max(t.anchorOffset,t.focusOffset));const i=this.encodeHtml(this.backupValue.substring(0,this.selectionStart)),n=this.encodeHtml(this.backupValue.substring(this.selectionEnd));if(this.selectionStart!==this.selectionEnd){const e=this.encodeHtml(this.backupValue.substring(this.selectionStart,this.selectionEnd));this.popupValue=`${i}<span class="formula-editor-popup__textarea-selection">${e}</span>${n}`}else this.popupValue=`${i}<span class="formula-editor-popup__textarea-cursor"></span>${n}`}}decodeHtml(e){if(null==e)return"";const t=document.createElement("textarea");return t.innerHTML=e,t.value}encodeHtml(e){if(null==e)return"";const t=document.createElement("textarea");return t.innerHTML=e,t.innerHTML}isLeaf(e){return!!(!e.list&&e.isDynamic&&!this.config.preloadDynamicNode||e.list&&e.list.length&&"string"==typeof e.list[0])}getNodeListById(e,t=!1){let i=[],n=[];if(t)i=this.editorTree.filter((t=>{var i;return null===(i=t.id)||void 0===i?void 0:i.startsWith(e)}));else{const t=this.editorTree.find((t=>t.id===e));t&&i.push(t)}return i.forEach((e=>{var t;n=n.concat(this.isLeaf(e)?null==e?void 0:e.list:null===(t=null==e?void 0:e.list)||void 0===t?void 0:t.map((e=>e.list)).reduce(((e,t)=>e.concat(t)),[]))})),n}stopPropagation(e,t){return t&&!t.includes(e.key)||(e.preventDefault(),e.stopImmediatePropagation()),!0}ok(){var e;const t=null!==this.backupValue?this.backupValue:this.decodeHtml(this.popupValue);null===(e=this.currentDialog)||void 0===e||e.ok(t.startsWith("=")||""===t?t:`=${t}`)}checkValidationStatus(){return this.decodeHtml(this.popupValue)!==this.backupValue&&(this.validationStatus="not-validated"),!0}validate(){var e,t;return i.__awaiter(this,void 0,void 0,(function*(){const i=(null!==this.backupValue?this.backupValue:this.decodeHtml(this.popupValue)).replace(/\s/g," ");this.validationStatus="in-progress";let n=this.config.parameters?this.getNodeListById(a.FormulaEditorService.PARAMETERS_ID):null;this.config.appendParametersOnValidationOnly&&this.config.viewNameForParameters&&this.config.fieldNameForParameters&&(n=[...n||[],...yield this.formulaEditorService.getParameters({viewNameForParameters:this.config.viewNameForParameters,fieldNameForParameters:this.config.fieldNameForParameters})]),this.config.parameters||this.config.viewNameForParameters||!this.config.dataViewName||(n=this.getNodeListById(a.FormulaEditorService.PARAMETERS_PREFIX,!0));let r=null;this.config.preloadDynamicNode?r=this.getNodeListById(a.FormulaEditorService.DYNAMIC_NODE_ID):((null===(e=this.config.dynamicFields)||void 0===e?void 0:e.length)||this.config.fieldsControllerRoute)&&(this.config.dynamicFields?r=yield this.formulaEditorService.getFields(this.config.dynamicFields):this.config.fieldsControllerRoute&&(r=yield this.formulaEditorService.getFieldsByController(this.config.fieldsControllerRoute))),(null===(t=this.config.dynamicFields)||void 0===t?void 0:t.length)||this.config.fieldsControllerRoute||!this.config.dataViewName||(r=this.getNodeListById(a.FormulaEditorService.FIELDS_PREFIX,!0)),this.validationResult=yield this.formulaEditorService.validate({value:i,reportParameters:n,reportFields:r}),this.validationStatus="validation-completed"}))}};i.__decorate([n.observable,i.__metadata("design:type",Object)],p.prototype,"currentNodesList",void 0),i.__decorate([n.observable,i.__metadata("design:type",Object)],p.prototype,"treeValue",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],p.prototype,"config",void 0),i.__decorate([(0,n.computedFrom)("validationResult.valid"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],p.prototype,"validationIcon",null),i.__decorate([(0,n.computedFrom)("filterString","currentNodesList"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],p.prototype,"currentNodesListToShow",null),i.__decorate([(0,n.computedFrom)("currentNodesListToShow"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],p.prototype,"currentNodesListToShowHighlighted",null),p=i.__decorate([(0,n.customElement)("qp-formula-dialog"),d.autoinject,i.__metadata("design:paramtypes",[Element,o.DialogHelper,a.FormulaEditorService,n.TaskQueue])],p),t.QpFormulaDialogCustomElement=p}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/formula-editor/qp-formula-editor":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099),i(829),i(6158),i(2172),i(7140),i("aurelia-dialog")],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.QpFormulaEditorCustomElement=void 0;(0,r.getLogger)("formula-editor");let u=p=class QpFormulaEditorCustomElement extends o.QpBaseFieldEditor{constructor(e,t,i){super(t),this.element=e,this.dialogService=i,this.value=null,this.addConfigSetter("options",(e=>{if(!e)return;const t=this.config.options;null==t||t.splice(0,t.length,...e)}))}get ROMode(){return this.config&&(this.config.readOnly||!this.config.enabled)}get isComboBox(){return this.config&&this.config.comboBox}stateChanged(e,t){super.stateChanged(e,t),e.formulaEditorViewName&&(this.config.dataViewName=e.formulaEditorViewName)}configChanged(e,t){this.config||(this.config={}),(0,d.applyDefaultValues)(this.config,p.defaultConfig),void 0===t&&this.config.value&&(this.value=this.config.value)}showPopup(){var e;const t=this.state.text?this.state.text:this.state.name?this.state.name:"";this.formulaDialogVM&&(this.formulaDialogVM.popupValue=this.formulaDialogVM.encodeHtml(this.value)),null===(e=this.formulaDialogVM)||void 0===e||e.open(t).whenClosed((e=>{e.wasCancelled||(this.value=e.output)}))}onPaste(e){return!!this.config.allowEdit}};u.defaultConfig={enabled:!0,allowEdit:!0,required:!1,valueType:l.NetType.String,allowNull:!0,comboBox:!1,preloadDynamicNode:!1},i.__decorate([n.bindable,i.__metadata("design:type",Object)],u.prototype,"config",void 0),i.__decorate([(0,n.bindable)({defaultBindingMode:n.bindingMode.twoWay}),i.__metadata("design:type",Object)],u.prototype,"value",void 0),i.__decorate([(0,n.computedFrom)("config.enabled","config.readOnly"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],u.prototype,"ROMode",null),i.__decorate([(0,n.computedFrom)("config.comboBox"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],u.prototype,"isComboBox",null),u=p=i.__decorate([(0,n.customElement)("qp-formula-editor"),n.autoinject,i.__metadata("design:paramtypes",[Element,a.Container,c.DialogService])],u),t.QpFormulaEditorCustomElement=u}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/dialogs/columns-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-dialog"),i("aurelia-framework"),i(5931),i(3116),i(9428),i(7140)],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnsDialog=void 0;let c=class ColumnsDialog extends o.BaseDialog{constructor(e){super(e),this.controller=e,this.msg=a.Messages,this.minHeight=300,this.maxHeight=500}activate(e){super.activate(e),this.config=e,this.columns=[...e.columns],this.columns.forEach((e=>e.tag={visible:e.visible,skipTab:e.skipTab})),this.cancelConfig={text:this.msg.Cancel},this.okConfig={text:this.msg.Confirm},this.resetConfig={text:this.msg.Reset,enabled:!!e.hasSavedLayout}}deactivate(e){e.wasCancelled||this.columns.forEach((e=>{e.visible=e.tag.visible,e.skipTab=e.tag.skipTab,delete e.tag}))}getColumnIndex(e){return this.config.columns.findIndex((t=>(0,d.compareStrings)((0,l.getColumnKey)(t),e,!0)))}getDragOverClass(e,t){if(null==this.dragInfo||null==t)return null;const i=this.getColumnIndex((0,l.getColumnKey)(e)),n=this.getColumnIndex((0,l.getColumnKey)(this.dragInfo.column));return i===t?"dragover "+(i>n?"after":"before"):void 0}visibleChangeAllowed(e){return(0,l.isColumnVisibleChangeAllowed)(e)}processInput(e){const t=this.config.columns.filter((t=>{const i=t.caption||t.field||t.key;return i&&i.toLowerCase().indexOf(e)>=0}));this.columns.splice(0,this.columns.length,...t)}processColClick(e,t){this.visibleChangeAllowed(t)&&(t.tag.visible=!t.tag.visible)}processSkipTabClick(e,t){t.tag.skipTab=!t.tag.skipTab,e.stopPropagation()}processSelectStart(e){e.preventDefault()}processDragStart(e,t){return this.dragInfo={column:t,targetIndex:void 0},!0}processDragOver(e,t){if(this.dragInfo&&this.dragInfo.column!==t){const i=e.target.getBoundingClientRect(),n=2,r=e.clientY<i.top+i.height/n;let o=this.getColumnIndex((0,l.getColumnKey)(t))+(r?0:1);const a=this.getColumnIndex((0,l.getColumnKey)(this.dragInfo.column));o>a&&o--,this.dragInfo.targetIndex=o===a?void 0:o}else this.dragInfo&&(this.dragInfo.targetIndex=void 0)}processDragLeave(e){this.dragInfo&&!this.elemColsList.contains(e.relatedTarget)&&(this.dragInfo.targetIndex=void 0)}processDrop(e,t){if(this.dragInfo){const e=this.dragInfo.targetIndex,t=this.getColumnIndex((0,l.getColumnKey)(this.dragInfo.column)),i=this.config.columns;void 0!==e&&(i.splice(e,0,i.splice(t,1)[0]),this.columns=[...i]),this.dragInfo=void 0}}};i.__decorate([r.bindable,i.__metadata("design:type",String)],c.prototype,"search",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],c.prototype,"dragInfo",void 0),c=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[n.DialogController])],c),t.ColumnsDialog=c}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/dialogs/columns-list-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("aurelia-dialog"),i(5931),i(3116)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnsListDialog=void 0;let l=class ColumnsListDialog extends o.BaseDialog{constructor(e){super(e),this.controller=e,this.msg=a.Messages,this.minHeight=250,this.maxHeight=500}activate(e){super.activate(e),this.config=e,this.columns=this.sortColumns([...e.columns].filter((e=>e.allowFilter)))}processFilter(e){const t=this.config.columns.filter((t=>{const i=t.caption||t.field||t.key;return t.allowFilter&&i&&i.toLowerCase().indexOf(e)>=0}));this.columns.splice(0,this.columns.length,...this.sortColumns(t))}processColClick(e,t){this.controller.ok(t)}processSelectStart(e){e.preventDefault()}sortColumns(e){return e.filter((e=>!1!==e.visible)).sort(((e,t)=>(e.caption||e.field||e.key||"").localeCompare(t.caption||t.field||t.key||"")))}};i.__decorate([n.bindable,i.__metadata("design:type",String)],l.prototype,"search",void 0),l=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[r.DialogController])],l),t.ColumnsListDialog=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/dialogs/filter-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(5931),i("aurelia-dialog"),i(9428),i(3116),i(2172),i(7140)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.FilterDialogResult=t.FilterDialog=void 0;let u=p=class FilterDialog extends r.BaseDialog{constructor(e,t){super(e),this.controller=e,this.tq=t,this.items=[],this.msg=l.Messages,this.dateCustomItems=["@Today","@WeekStart","@WeekEnd","@MonthStart","@MonthEnd","@QuarterStart","@QuarterEnd","@PeriodStart","@PeriodEnd","@YearStart","@YearEnd"],this.maxHeight=530,e.settings.keyboard=["Enter","Escape"]}activate(e){var t;if(this.config=e,this.col=e.column,this.col||(this.col={field:(null===(t=e.filter)||void 0===t?void 0:t.field)||"",dataType:d.NetType.String}),this.filter=e.filter?Object.assign({},e.filter):new d.GridFilterRow,this.filter.field=this.col.field,this.isDateTime){if(this.filter.value){const e=new Date(this.filter.value);isNaN(e.getTime())||(this.filter.value=e)}if(this.filter.value2){const e=new Date(this.filter.value2);isNaN(e.getTime())||(this.filter.value2=e)}}null==e.showSortItems&&(e.showSortItems=!0),this.okConfig={text:l.Messages.Apply},this.cancelConfig={text:l.Messages.Cancel};const i=this.col.maxLength&&!this.col.format?this.col.maxLength:void 0;if(this.txtConfig={id:`${this.config.id}_txt`,class:"editor auto-size",maxLength:i,inputMask:this.col.format},this.numConfig1={id:`${this.config.id}_num1`,class:"editor auto-size",valueType:this.col.dataType,decimals:this.col.decimals,textAlign:3,allowNull:!0},this.numConfig2=Object.assign(Object.assign({},this.numConfig1),{id:`${this.config.id}_num2`}),this.allowCustomItems=!this.col.timeMode,this.dateConfig1={id:`${this.config.id}_date1`,class:"dropDown auto-size",editMask:this.col.dateMask,displayMask:this.col.dateMask,allowCustomItems:this.allowCustomItems,customItems:this.allowCustomItems?this.dateCustomItems:void 0,timeMode:this.col.timeMode},this.dateConfig2=Object.assign(Object.assign({},this.dateConfig1),{id:`${this.config.id}_date2`}),this.selectorConfig={id:`${this.config.id}_sel`,class:"editor auto-size"},this.isSelector&&(this.selectorValue={id:this.filter.value},this.selectorState=d.PXFieldState.create(),Object.assign(this.selectorState,this.col.state),this.selectorState.enabled=!0,this.selectorState.readOnly=!1),!this.filter.condition){const e=this.col.dataType;e===d.NetType.DateTime||(0,c.isNumeric)(e)?this.filter.condition="BETWEEN":e===d.NetType.String?this.filter.condition="LIKE":this.filter.condition="EQ"}if(this.hasValueItems){let e=null;this.col.valueItems.emptyPossible&&"ISNULL"===this.filter.condition?(this.filter.value=a.filterNullValue,this.filter.condition="IN",e=[a.filterNullValue]):this.filter.value&&(e=this.filter.value.split(","));for(const t of this.col.valueItems.items){const i=!e||e.indexOf(t.value)>=0;this.items.push({value:t.value,text:t.text,selected:i})}if(this.col.valueItems.emptyPossible){const t=!e||e.indexOf(a.filterNullValue)>=0;this.items.push({value:a.filterNullValue,text:this.msg.GridIsEmpty,selected:t})}this.calcSelectionState()}}deactivate(e){e.wasCancelled||void 0!==e.output||(e.output=this.getDialogResult(this.getFilter()))}calcSelectionState(){this.hasValueItems&&(this.items.every((e=>!e.selected))?this.selectionState=0:this.selectionState=this.items.some((e=>!e.selected))?-1:1)}getDialogResult(e,t,i){return new FilterDialogResult(e,t,i)}attached(){super.attached(),this.elemEditorsCont&&this.tq.queueTask((()=>{const e=this.elemEditorsCont.querySelector("input");e&&e.focus()}))}getFilter(){var e;let t=this.filter;if(this.hasValueItems){const e=this.items.filter((e=>e.selected)).map((e=>e.value));e.length>0&&e.length<this.items.length?(this.filter.condition="IN",this.filter.value=e.join(",")):t=void 0}else{const i=this.filter;this.isSelector&&(i.value=null===(e=this.selectorValue)||void 0===e?void 0:e.id),i.value instanceof Date&&(i.value=(0,c.getInvariantText)(i.value)),i.value2 instanceof Date&&(i.value2=(0,c.getInvariantText)(i.value2)),(null==i.condition||p.valueFilters.indexOf(i.condition)>=0&&null==i.value||"BETWEEN"===i.condition&&(null==i.value||null==i.value2))&&(t=void 0)}return t&&(t.text=(0,a.getFilterRowDisplayText)(t,this.col)),t}get conditions(){let e=p.stringFilters;const t=this.col.dataType;t===d.NetType.Boolean?e=p.boolFilters:t===d.NetType.DateTime?e=p.dateFilters:(0,c.isNumeric)(t)&&(e=p.numberFilters),this.col.allowNull||t===d.NetType.String||(e=e.filter((e=>p.nullFilters.indexOf(e)<0)));const i=new Array;for(const t of e){const e=a.FilterConditions[t];i.push({value:t,text:null!=e?e:t})}return i}get hasValueItems(){return null!=this.col.valueItems}get isDateTime(){return this.col.dataType===d.NetType.DateTime}get isNumeric(){return(0,c.isNumeric)(this.col.dataType)&&!this.col.textField&&this.col.displayMode===d.GridColumnDisplayMode.Value}get isSelector(){return!!this.col.viewName&&this.isString}get isBoolean(){return this.col.dataType===d.NetType.Boolean}get isString(){return this.col.dataType===d.NetType.String||!!this.col.textField||this.col.displayMode!==d.GridColumnDisplayMode.Value}get isBetween(){return"BETWEEN"===this.filter.condition}get selectionIcon(){switch(this.selectionState){case 0:return"check_box_outline_blank";case 1:return"check_box_filled"}return"minus_square_filled"}get hasFilter(){const e=this.config.filter;return null!=e&&!(null==e.condition||"EQ"===e.condition&&null==e.value)}preventSelection(e){e.preventDefault()}preventFocus(e){e.preventDefault()}processConditionClick(e,t){p.boolFilters.indexOf(t)>=0?(this.filter.value=t===this.filter.value?void 0:t,this.filter.condition=null!=this.filter.value?"EQ":void 0):this.filter.condition=t}processItemClick(e,t){t.selected=!t.selected,this.calcSelectionState()}processSortClick(e,t){let i=t;this.col.sortDirection===t&&(i=d.SortDirection.None),this.controller.ok(this.getDialogResult(void 0,i))}processSelectClick(){const e=1!==this.selectionState;this.items.forEach((t=>t.selected=e)),this.calcSelectionState()}processClearClick(e){this.hasFilter&&this.controller.ok(this.getDialogResult(void 0))}processRemoveClick(e){this.controller.ok(this.getDialogResult(void 0,void 0,!0))}};u.boolFilters=["True","False"],u.stringFilters=["EQ","NE","ISNULL","ISNOTNULL","LIKE","RLIKE","LLIKE","NOTLIKE"],u.numberFilters=["EQ","NE","GT","GE","LT","LE","BETWEEN","ISNULL","ISNOTNULL"],u.dateFilters=["EQ","NE","GT","GE","LT","LE","BETWEEN","ISNULL","ISNOTNULL","TODAY","OVERDUE","TODAY_OVERDUE","TOMMOROW","THIS_WEEK","NEXT_WEEK","THIS_MONTH","NEXT_MONTH"],u.valueFilters=["EQ","NE","GT","GE","LT","LE","BETWEEN","LIKE","RLIKE"],u.nullFilters=["ISNULL","ISNOTNULL"],i.__decorate([n.bindable,i.__metadata("design:type",Array)],u.prototype,"items",void 0),i.__decorate([(0,n.computedFrom)("config.column.dataType"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"conditions",null),i.__decorate([(0,n.computedFrom)("config.column.valueItems"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"hasValueItems",null),i.__decorate([(0,n.computedFrom)("config.column.dataType"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"isDateTime",null),i.__decorate([(0,n.computedFrom)("config.column.dataType"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"isNumeric",null),i.__decorate([(0,n.computedFrom)("config.column.viewName","config.column.dataType"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"isSelector",null),i.__decorate([(0,n.computedFrom)("config.column.dataType"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"isBoolean",null),i.__decorate([(0,n.computedFrom)("config.column.dataType"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"isString",null),i.__decorate([(0,n.computedFrom)("filter.condition"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"isBetween",null),i.__decorate([(0,n.computedFrom)("selectionState"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"selectionIcon",null),i.__decorate([(0,n.computedFrom)("config.filter","config.filter.condition"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"hasFilter",null),u=p=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[o.DialogController,n.TaskQueue])],u),t.FilterDialog=u;class FilterDialogResult{constructor(e,t,i){this.filter=e,this.sort=t,this.removeFilter=i}}t.FilterDialogResult=FilterDialogResult}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/dialogs/filter-editor-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(3116),i(3147)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterEditorDialog=void 0;let a=class QpFilterEditorDialog{constructor(e,t){this.element=e,this.dialogHelper=t,this.msg=r.Messages}open(e){this.config=e,this.setControlsState();const t=this.dialogHelper.openDialog({templateId:this.config.id,context:this,hideMaximizer:!0},{},(e=>{this.currentDialog=e.controller}));return t.then((()=>{})),t}setControlsState(){var e;this.filterRows=null===(e=this.config.filterRows)||void 0===e?void 0:e.map((e=>Object.assign({},e))),this.cancelConfig={id:`${this.config.id}_cancelBtn`,text:r.Messages.Cancel},this.okConfig={id:`${this.config.id}_okBtn`,text:r.Messages.Apply}}};a=i.__decorate([(0,n.customElement)("qp-filter-editor-dialog"),n.autoinject,i.__metadata("design:paramtypes",[Element,o.DialogHelper])],a),t.QpFilterEditorDialog=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/dialogs/filter-setup-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(3116),i(2172),i(3147)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterSetupDialog=void 0;let l=class QpFilterSetupDialog{constructor(e,t){this.element=e,this.dialogHelper=t,this.msg=r.Messages}open(e){this.config=e,this.setControlsState();const t=this.dialogHelper.openDialog({templateId:this.config.id,context:this,hideMaximizer:!0},{},(e=>{this.currentDialog=e.controller}));return t.then((()=>{const e=this.elemContent.querySelector("input");e&&e.focus()})),t}setControlsState(){this.filter=this.config.filter?Object.assign({},this.config.filter):new o.GridFilter,this.config.isSharedEditable||(this.filter.isShared=!1),this.config.saveAs&&(this.filter.filterName="",this.filter.isDefault=this.filter.isShared=!1);const e=this.config.id;this.cancelConfig={id:`${e}_cancelBtn`,text:r.Messages.Cancel},this.okConfig={id:`${e}_okBtn`,text:this.config.saveAs?r.Messages.Save:r.Messages.Apply},this.txtNameConfig={id:`${e}_edFilterName`,class:"auto-size"},this.chkSharedConfig={id:`${e}_chkShared`,label:r.Messages.Shared},this.chkDefaultConfig={id:`${e}_chkDefault`,label:r.Messages.Default},this.okConfig.enabled=!!this.filter.filterName,this.chkSharedConfig.enabled=!!this.config.isSharedEditable}processNameInput(e){const t=e.target;this.okConfig.enabled=!!t.value}};l=i.__decorate([(0,n.customElement)("qp-filter-setup-dialog"),n.autoinject,i.__metadata("design:paramtypes",[Element,a.DialogHelper])],l),t.QpFilterSetupDialog=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/dialogs/filters-list-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-dialog"),i("aurelia-framework"),i(5931),i(3116),i(7140),i("client-controls/controls/compound/grid/qp-filter-bar")],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersListDialog=void 0;let c=class FiltersListDialog extends o.BaseDialog{constructor(e){super(e),this.controller=e,this.msg=a.Messages,this.minHeight=300,this.maxHeight=500}activate(e){this.config=e,this.filters=[...e.filters],this.sortFilters()}sortFilters(){var e;null===(e=this.filters)||void 0===e||e.sort(((e,t)=>{var i,n;if(this.isClientFilter(t.filterID)||t.isFavorite&&!e.isFavorite)return 1;if(this.isClientFilter(e.filterID)||e.isFavorite&&!t.isFavorite)return-1;const r=null!==(i=e.filterName)&&void 0!==i?i:e.filterID,o=null!==(n=t.filterName)&&void 0!==n?n:t.filterID;return r===o?0:r<o?-1:1}))}getFilterIndex(e){return this.config.filters.findIndex((t=>(0,l.compareStrings)(t.filterID,e,!0)))}isClientFilter(e){return!e||e<=d.QpFilterBarCustomElement.minFilterID}getDragOverClass(e,t){if(null==this.dragInfo||null==t)return null;const i=this.getFilterIndex(e.filterID),n=this.getFilterIndex(this.dragInfo.filter.filterID);return i===t?"dragover "+(i>n?"after":"before"):void 0}attached(){if(super.attached(),this.elemFilterBox){const e=this.elemFilterBox.querySelector("input");e&&e.focus()}}processInput(e){e&&(e=e.toLowerCase());const t=this.config.filters.filter((t=>{const i=t.filterName||t.filterID;return i&&i.toLowerCase().indexOf(e)>=0}));this.filters.splice(0,this.filters.length,...t)}processFilterClick(e,t){this.controller.ok(t.filterID)}processFavoriteClick(e,t){var i,n;t.isFavorite=!t.isFavorite,null===(n=(i=this.config).onFavoriteChanged)||void 0===n||n.call(i,{filterID:t.filterID,isFavorite:t.isFavorite}),this.sortFilters(),e.stopPropagation()}processSelectStart(e){e.preventDefault()}processDragStart(e,t){return this.dragInfo={filter:t,targetIndex:void 0},!0}processDragOver(e,t){if(this.dragInfo&&this.dragInfo.filter!==t){const i=e.target.getBoundingClientRect(),n=2,r=e.clientY<i.top+i.height/n;let o=this.getFilterIndex(t.filterID)+(r?0:1);const a=this.getFilterIndex(this.dragInfo.filter.filterID);o>a&&o--,this.dragInfo.targetIndex=o===a||0===o?void 0:o}else this.dragInfo&&(this.dragInfo.targetIndex=void 0);e.dataTransfer&&(e.dataTransfer.dropEffect="move")}processDragLeave(e){this.dragInfo&&!this.elemFiltersList.contains(e.relatedTarget)&&(this.dragInfo.targetIndex=void 0)}processDrop(e,t){if(this.dragInfo){const e=this.dragInfo.targetIndex,t=this.getFilterIndex(this.dragInfo.filter.filterID),i=this.config.filters;void 0!==e&&(i.splice(e,0,i.splice(t,1)[0]),this.filters=[...i],this.config.onFiltersOrderChanged&&this.config.onFiltersOrderChanged()),this.dragInfo=void 0}}};i.__decorate([r.bindable,i.__metadata("design:type",String)],c.prototype,"search",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],c.prototype,"dragInfo",void 0),c=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[n.DialogController])],c),t.FiltersListDialog=c}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/dialogs/import-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("aurelia-event-aggregator"),i(3116),i(3147),i(4834),i(2374),i(2172),i(2594),i("client-controls/controls/compound/grid/qp-grid")],r=function(e,t,i,n,r,o,a,l,d,c,p,u){"use strict";var h;Object.defineProperty(t,"__esModule",{value:!0}),t.ImportRecordsDialog=void 0;let g=class ImportMessages{};g.MapPropertiesToColumns="Map properties to columns.",g=i.__decorate([p.localizable],g);let m=h=class ImportRecordsDialog{constructor(e,t,i,n){this.element=e,this.screenService=t,this.eventAggregator=i,this.tq=n,this.wizardConfig={disableNext:!0,buttons:{done:o.Messages.Finish}},this.UPLOAD_TAB="uploadTab",this.SETTINGS_TAB="settingsTab",this.COLUMNS_TAB="columnsTab",this.subscriptions=[],this.skipCallback=!1,this.attachedViews=[],this.fileUploaded="",this.canDeactivateDialog=!1,this.Messages=o.Messages,this.ImportMessages=g,this.activeTabId=this.UPLOAD_TAB}static Execute(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const i=e.get(a.DialogHelper);if(!i)return!1;const n={id:"import-dialog",templateViewModel:h,context:t,cssClass:"import-dialog col-sm-10 col-md-6 col-lg-4",height:"60vh"},r=yield i.openDialog(n,{lock:!0,keyboard:!0});if(r.wasCancelled)return!1;return!(yield r.closeResult).wasCancelled}))}activate(e){this.config=e,this.screenModel=this.screenService.model,this.subscriptions.push(this.screenService.registerDataComponent("ImportDataHandler",{setComponentData:e=>{if(e&&"object"==typeof e&&this.currentIsRecordCollection){const t=e;t.dynamicGridResult&&(this.currentViewGridResult=t.dynamicGridResult)}},getQueryParams:e=>({dataMemberView:this.config.viewName,dynamicView:this.currentDynamicView,isRecordsCollection:this.currentIsRecordCollection,resultType:"ImportDataHandler"})})),this.subscriptions.push(this.screenModel.screenEventManager.subscribe("OpenPopup",(e=>i.__awaiter(this,void 0,void 0,(function*(){if(e.commandName===this.importAttribute.importWizardAction){if(e.stop(),this.skipCallback)return void(this.skipCallback=!1);this.activeTabId===this.UPLOAD_TAB?(this.settingsView=e.name,yield this.attachView(e.name,(0,c.createSingle)(createClass(c.PXView,e.name)),!1,this.SETTINGS_TAB)):this.activeTabId===this.SETTINGS_TAB&&(this.columnsView=e.name,yield this.attachView(e.name,(0,c.createCollection)(createClass(c.PXView,e.name)),!0,this.COLUMNS_TAB))}}))))),this.subscriptions.push(this.eventAggregator.subscribe(d.ApiCientEvents.ErrorRaisedEvent,(e=>i.__awaiter(this,void 0,void 0,(function*(){e.isProcessed||(e.isProcessed=!0,e.data&&e.data.title&&(this.errorMessage=e.data.title,this.activeTabId=this.UPLOAD_TAB,yield this.detachViews(!0)))})))))}detachViews(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=[...this.attachedViews].reverse();for(const i of t)yield this.detachView(i,e)}))}cancelView(e){return i.__awaiter(this,void 0,void 0,(function*(){this.skipCallback=!0;let t=!1;try{t=!!(yield this.screenService.executeCommand(this.importAttribute.importWizardAction,new d.ScreenUpdateParams({dialogCallback:{viewName:e,dialogResult:0}},this.element))).succeeded}finally{t||(this.skipCallback=!1)}}))}detachView(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const i=this.attachedViews.indexOf(e);-1!==i&&(this.attachedViews.splice(i,1),this.screenService.cancelViewFieldChanges(e),delete this.screenModel[e],t&&(yield this.cancelView(e)))}))}detached(){return i.__awaiter(this,void 0,void 0,(function*(){yield this.detachViews(!1),this.subscriptions.forEach((e=>e.dispose()))}))}processImport(){return i.__awaiter(this,void 0,void 0,(function*(){yield this.screenService.executeCommand(this.importAttribute.importWizardAction,new d.ScreenUpdateParams({commitChanges:!0,blockPage:!0,dialogCallback:{viewName:this.columnsView,dialogResult:1}},this.element)),yield this.detachViews(!1),this.canDeactivateDialog=!0,this.element.dispatchEvent(new CustomEvent("savedialog",{bubbles:!0}))}))}cancelImport(){return i.__awaiter(this,void 0,void 0,(function*(){yield this.detachViews(!0),this.canDeactivateDialog=!0,this.element.dispatchEvent(new CustomEvent("closedialog",{bubbles:!0}))}))}canDeactivate(e){if(this.canDeactivateDialog)return!0;if(e.wasCancelled){if(0===this.attachedViews.length)return!0;this.cancelImport()}else this.processImport();return!1}attachView(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function*(){this.screenModel[e]=t,-1===this.attachedViews.indexOf(e)&&this.attachedViews.push(e),this.currentDynamicView=e,this.currentIsRecordCollection=n,yield this.screenService.update(void 0,new d.ScreenUpdateParams(void 0,this.element)),this.activeTabId=r}))}configChanged(){var e;this.importAttribute=new PXImportAttribute(this.config.viewName),this.config.fileTypes=null!==(e=this.config.fileTypes)&&void 0!==e?e:["csv","xlsx"],this.uploaderConfig={accept:this.config.fileTypes.map((e=>`.${e}`)).join(","),id:`${this.config.id}_uploader`,action:this.importAttribute.uploadFileAction,view:this.importAttribute.contentBagView,graph:this.config.graphType,singleMode:!0},this.uploaderFiles=this.config.fileTypes.map((e=>`*.${e}`)).join(", ")}afterUploaded(e){return i.__awaiter(this,void 0,void 0,(function*(){this.errorMessage="",this.fileUploaded=e.detail.fileNames.length>0?e.detail.fileNames[0]:"",this.uploaderConfig.disabled=!0,yield this.detachViews(!0),yield this.screenService.executeCommand(this.importAttribute.importWizardAction,new d.ScreenUpdateParams({commitChanges:!0,blockPage:!0},this.element))}))}clearUploaded(){this.errorMessage="",this.fileUploaded="",this.uploaderConfig.disabled=!1,this.wizardConfig.disableNext=!0}currentTabGridChanged(e){if(!this.currentTabGrid)return;const t=this.currentTabGrid.onDataReady;this.currentTabGrid.onDataReady=e=>{this.tq.queueTask((()=>{var i,n;this.currentTabGrid.focusFastFilter(),this.currentTabGrid.onDataReady=t,null===(n=(i=this.currentTabGrid).onDataReady)||void 0===n||n.call(i,e)}))}}activeTabIdChanged(){return i.__awaiter(this,void 0,void 0,(function*(){this.activeTabId===this.UPLOAD_TAB?this.wizardConfig.disableNext=""===this.fileUploaded:this.activeTabId===this.SETTINGS_TAB?(this.wizardConfig.disableNext=!1,this.settingsTemplate=`<qp-fieldset view.bind="${this.settingsView}" id="${this.settingsView.replace("$","_")}_id"></qp-fieldset>`):this.activeTabId===this.COLUMNS_TAB&&(this.wizardConfig.disableNext=!1,this.columnsTemplate=`<qp-grid\n\t\t\t\tid="grid_${this.columnsView.replace("$","_")}"\n\t\t\t\tview.bind="${this.columnsView}"\n\t\t\t\tview-model.ref="currentTabGrid"\n\t\t\t\tconfig.bind="{\n\t\t\t\t\tautoAdjustColumns: true,\n\t\t\t\t\tallowDelete: false,\n\t\t\t\t\tallowInsert: false,\n\t\t\t\t\tpagerMode: 0,\n\t\t\t\t}"></qp-grid>`,yield Promise.resolve().then((()=>{if(this.currentViewGridResult){const e=this.screenService.getDataComponent(this.currentDynamicView);e&&e.setComponentData(this.currentViewGridResult)}})))}))}nextTab(e){return i.__awaiter(this,void 0,void 0,(function*(){this.activeTabId===this.UPLOAD_TAB?e.detail.cancel=""===this.fileUploaded:this.activeTabId===this.SETTINGS_TAB&&(e.detail.cancel=!0,yield this.screenService.executeCommand(this.importAttribute.importWizardAction,new d.ScreenUpdateParams({commitChanges:!0,blockPage:!0,dialogCallback:{viewName:this.settingsView,dialogResult:1,validateInput:!0}},this.element)))}))}prevTab(e){return i.__awaiter(this,void 0,void 0,(function*(){this.activeTabId===this.COLUMNS_TAB?(yield this.detachView(this.columnsView,!0),yield this.cancelView(this.settingsView)):this.activeTabId===this.SETTINGS_TAB&&(yield this.cancelView(this.settingsView))}))}};i.__decorate([n.observable,i.__metadata("design:type",Object)],m.prototype,"config",void 0),i.__decorate([n.observable,i.__metadata("design:type",u.QpGridCustomElement)],m.prototype,"currentTabGrid",void 0),i.__decorate([n.observable,i.__metadata("design:type",String)],m.prototype,"activeTabId",void 0),m=h=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[Element,l.ScreenService,r.EventAggregator,n.TaskQueue])],m),t.ImportRecordsDialog=m;class PXImportAttribute{constructor(e){this.viewName=e,this.uploadFileAction=`${e}$UploadFileAction`,this.contentBagView=`${e}$ImportContentBag`,this.columnsView=`${e}$ImportColumns`,this.importWizardAction=`${e}$ImportWizardAction`,this.importAction=`${e}$ImportAction`}}function createClass(e,t){const i=new Proxy(e,{get:(e,i)=>"name"===i?t:e[i],construct(e,t){const n=new e(...t);return n.constructor=i,n}});return i}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/elements/qp-filter-box":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(3116),i(7140)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterBoxCustomElement=void 0;let a=class QpFilterBoxCustomElement{constructor(e){this.busyCounter=e,this.highlightText=!0,this.Msg=r.Messages,this.isBusy=!1}applyFastFilter(e){return i.__awaiter(this,void 0,void 0,(function*(){try{this.highlightText&&(this.hasText=!!e),this.onFilter&&(yield this.onFilter({filter:e}))}finally{this.isBusy&&this.busyCounter.decrement(),this.isBusy=!1}}))}filterChanged(e){this.hasText=!!e}processFocus(){this.editMode=!0}processBlur(){this.editMode=!1}processKeyDown(e){return this.isBusy||(this.isBusy=!0,this.busyCounter.increment()),!this.onKeyDown||this.onKeyDown({ev:e})}};i.__decorate([n.bindable,i.__metadata("design:type",Function)],a.prototype,"onFilter",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],a.prototype,"onKeyDown",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],a.prototype,"id",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],a.prototype,"filter",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],a.prototype,"highlightText",void 0),a=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[o.BusyCounter])],a),t.QpFilterBoxCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/elements/qp-filter-button":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-dialog"),i(6158),i("aurelia-framework"),i(2172),i("client-controls/controls/compound/grid/dialogs/filter-dialog")],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterButtonCustomElement=void 0;let d=class QpFilterButtonCustomElement{constructor(e,t,i){this.element=e,this.dialogService=t,this.container=i,this.showExpanded=!1}get hasFilter(){const e=this.config.filter;return null!=e&&!(null==e.condition||"EQ"===e.condition&&null==e.value)}get isComparisonOperator(){const e=this.config.filter;return null!=e&&null!=e.value&&("EQ"===e.condition||"NE"===e.condition||"LT"===e.condition||"GT"===e.condition||"LE"===e.condition||"GE"===e.condition)}configChanged(e){e.column||(e.column={field:e.filter.field,dataType:a.NetType.String})}processMouseEnter(e){const t=e.offsetX<=this.elemText.clientWidth+this.elemText.offsetLeft;this.elemText.scrollWidth>this.elemText.clientWidth&&t&&(this.showExpanded=!0)}processMouseLeave(e){this.showExpanded=!1}processClick(e){if(0!==e.button)return;let t=e.target;t.tagName.length<10&&(t=t.parentElement);const i={attachTo:t,id:`${this.config.id}_fd`,column:this.config.column,filter:this.config.filter,showSortItems:this.config.showSortItems,showRemoveItem:this.config.showRemoveItem};this.dialogService.open({viewModel:l.FilterDialog,model:i,lock:!1,childContainer:this.container.createChild()}).whenClosed((t=>{if(!t.wasCancelled){const i=t.output;null!=i.sort?this.onSort&&this.onSort({col:this.config.column,sort:i.sort}):null!=i.removeFilter?this.processRemoveClick(e):this.onFilter&&this.onFilter({col:this.config.column,filter:i.filter})}}))}processRemoveClick(e){this.onFilterRemove&&this.onFilterRemove({col:this.config.column}),e.stopPropagation()}};i.__decorate([o.bindable,i.__metadata("design:type",Object)],d.prototype,"config",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],d.prototype,"onSort",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],d.prototype,"onFilter",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],d.prototype,"onFilterRemove",void 0),i.__decorate([(0,o.computedFrom)("config.filter","config.filter.condition","config.filter.value"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],d.prototype,"hasFilter",null),i.__decorate([(0,o.computedFrom)("config.filter","config.filter.condition","config.filter.value"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],d.prototype,"isComparisonOperator",null),d=i.__decorate([o.autoinject,i.__metadata("design:paramtypes",[Element,n.DialogService,r.Container])],d),t.QpFilterButtonCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/elements/qp-filter-combo":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-dialog"),i("aurelia-framework"),i(7140),i("client-controls/controls/compound/grid/dialogs/filters-list-dialog"),i("client-controls/controls/compound/grid/qp-filter-bar")],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterComboCustomElement=void 0;let d=class QpFilterComboCustomElement{constructor(e,t){this.element=e,this.dialogService=t}filterIdChanged(){this.setActiveFilter()}filtersChanged(){this.setActiveFilter()}setActiveFilter(){var e;this.activeFilter=null===(e=this.filters)||void 0===e?void 0:e.find((e=>(0,o.compareStrings)(e.filterID,this.filterId,!0)))}isClientFilter(e){return!e||e<=l.QpFilterBarCustomElement.minFilterID}processClick(e){if(0!==e.button)return;const t={attachTo:this.element,id:`${this.id}_fld`,filterId:this.filterId,filters:this.filters,onFavoriteChanged:this.onFavoriteChanged,onFiltersOrderChanged:this.onFiltersOrderChanged};this.dialogService.open({viewModel:a.FiltersListDialog,model:t,lock:!1}).whenClosed((e=>{if(!e.wasCancelled){const t=e.output;t&&(this.filterId=t)}}))}};i.__decorate([r.bindable,i.__metadata("design:type",String)],d.prototype,"id",void 0),i.__decorate([(0,r.bindable)({defaultBindingMode:r.bindingMode.twoWay}),i.__metadata("design:type",String)],d.prototype,"filterId",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Array)],d.prototype,"filters",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Function)],d.prototype,"onFiltersOrderChanged",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Function)],d.prototype,"onFavoriteChanged",void 0),d=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[Element,n.DialogService])],d),t.QpFilterComboCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/elements/qp-filter-node":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-dialog"),i("aurelia-framework"),i("client-controls/controls/compound/grid/dialogs/columns-list-dialog"),i(9428),i("client-controls/controls/compound/grid/qp-filter-editor"),i(7140)],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterNodeCustomElement=void 0;let c=class QpFilterNodeCustomElement{constructor(e){this.dialogService=e}getColumn(e){return this.columns.find((t=>(0,d.compareStrings)(t.field,e,!0)))}isFilterNode(e){return e instanceof l.FilterNode}processHierarchyChanged(){this.onHierarchyChanged&&this.onHierarchyChanged()}processConditionDelete(e){this.onFilterRowDelete&&this.onFilterRowDelete({filter:e})}processNodeDelete(e){this.onFilterNodeDelete&&this.onFilterNodeDelete({node:e})}processFilterRowInsert(e,t,i){this.onFilterRowInsert&&this.onFilterRowInsert({filter:e,col:t,closeBrackets:i})}processNodeMouseMove(e,t){this.onNodeMouseMove&&this.onNodeMouseMove({elem:e,mouseLeave:t})}processMouseEnter(e,t){this.processNodeMouseMove(e.target,!1)}processMouseLeave(e,t){this.processNodeMouseMove(e.target,!0)}processConditionClick(e){e.orOperator=!e.orOperator}processConditionNodeClick(e){e.orOperator=!e.orOperator,e.getLastCondition().orOperator=e.orOperator}addBrackets(e){if(this.node.items.length<3)return;const t=this.node.items.indexOf(e);if(t>=0&&t<this.node.items.length-1){const i=this.isFilterNode(e)?e.getFirstCondition():e,n=this.node.items[t+1],r=this.isFilterNode(n)?n.getLastCondition():n;i.openBrackets=i.openBrackets?++i.openBrackets:1,r.closeBrackets=r.closeBrackets?++r.closeBrackets:1,this.processHierarchyChanged()}}processBracketsClick(e){this.addBrackets(e)}processBracketsNodeClick(e){this.addBrackets(e)}processDeleteBracketsClick(e){let t=e.getFirstCondition();t&&t.openBrackets&&t.openBrackets>0&&(t.openBrackets-=1),t=e.getLastCondition(),t&&t.closeBrackets&&t.closeBrackets>0&&(t.closeBrackets-=1),this.processHierarchyChanged()}processFilterRowApplied(e,t,i){(0,a.copyFilterRow)(i,t)}processFilterRowDeleted(e,t){this.node.items.splice(this.node.items.indexOf(t),1),this.processConditionDelete(t)}processDeleteNodeClick(e){this.processNodeDelete(e)}showInsertDialog(e,t,i){var n;let r=e.target;"DIV"!==r.tagName&&(r=r.parentElement);const a=(null===(n=r.parentElement)||void 0===n?void 0:n.classList.contains("right-actions"))?r.parentElement:r;a.setAttribute("force-visible","");const l={attachTo:r,columns:this.columns,id:this.id};this.dialogService.open({viewModel:o.ColumnsListDialog,model:l,lock:!1}).whenClosed((e=>{!e.wasCancelled&&e.output&&this.processFilterRowInsert(t,e.output,i),a.removeAttribute("force-visible")}))}processNewItemClick(e,t){this.showInsertDialog(e,t,t.closeBrackets)}processNewItemNodeClick(e,t){const i=t.getLastCondition();let n=0,r=t.parent;for(;r&&r.parent&&r.getLastCondition()===i;)n++,r=r.parent;this.showInsertDialog(e,i,n)}};i.__decorate([r.bindable,i.__metadata("design:type",String)],c.prototype,"id",void 0),i.__decorate([r.bindable,i.__metadata("design:type",l.FilterNode)],c.prototype,"node",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Array)],c.prototype,"columns",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Function)],c.prototype,"onHierarchyChanged",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Function)],c.prototype,"onFilterRowDelete",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Function)],c.prototype,"onFilterNodeDelete",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Function)],c.prototype,"onFilterRowInsert",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Function)],c.prototype,"onNodeMouseMove",void 0),c=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[n.DialogService])],c),t.QpFilterNodeCustomElement=c}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/elements/qp-numeric-pager":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(3116)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpNumericPagerCustomElement=void 0;let o=class QpNumericPagerCustomElement{constructor(){this.Msg=r.Messages,this.numConfig={minValue:1}}pageIndexChanged(e){this.value=e+1}pagesCountChanged(e){this.numConfig.maxValue=e}valueChanged(e){this.onPageIndexChanged&&e!==this.pageIndex+1&&this.onPageIndexChanged({index:e-1})}idChanged(e){this.numConfig.id=e}};i.__decorate([n.bindable,i.__metadata("design:type",String)],o.prototype,"id",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],o.prototype,"pageIndex",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],o.prototype,"pagesCount",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],o.prototype,"onPageIndexChanged",void 0),i.__decorate([n.observable,i.__metadata("design:type",Number)],o.prototype,"value",void 0),o=i.__decorate([n.autoinject],o),t.QpNumericPagerCustomElement=o}.apply(t,n),void 0===r||(e.exports=r)},6595:(e,t,i)=>{var n,r;n=[i,t,i(655),i(1255),i("aurelia-framework"),i(2956),i(2594)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridGenericInquiryApiClient=t.GridApiClient=void 0;let l=class GridApiClient{constructor(e){this.client=e}getGridData(e,t){return this.client.fetchExt(t.gridDataUrl?t.gridDataUrl:`${this.getRoute(e)}`,t)}saveGridFilter(e,t){return this.client.fetchExt(`${this.getRoute(e)}/saveFilter`,t)}removeGridFilter(e,t){return this.client.fetchExt(`${this.getRoute(e)}/removeFilter`,t)}saveGridFiltersOrder(e,t){return this.client.fetchExt(`${this.getRoute(e)}/saveFiltersOrder`,t)}initNewGridRow(e,t){return this.client.fetchExt(`${this.getRoute(e)}/initNewRow`,t)}navigate(e,t){return this.client.fetchExt(`${this.getRoute(e)}/navigate`,t)}exportToExcel(e,t){let i=t.gridDataUrl?t.gridDataUrl:`${this.getRoute(e)}`;return i=`${i}/exportToExcel`,this.client.fetch(i,(0,o.json)(t))}getRoute(e){return`${(0,a.Format)("ui/screen/{0}/grid",e)}`}};l=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[n.BaseApiClient])],l),t.GridApiClient=l;t.GridGenericInquiryApiClient=class GridGenericInquiryApiClient extends l{constructor(e,t){super(e),this.genericInquiryId=t}getRoute(e){return`${(0,a.Format)("ui/inquiry/{0}/grid",this.genericInquiryId)}`}}}.apply(t,n),void 0===r||(e.exports=r)},9428:(e,t,i)=>{var n,r;n=[i,t,i(655),i(6158),i(1781),i(6778),i(2172),i(7140),i(3116),i(3161),i(630),i(4609)],r=function(e,t,i,n,r,o,a,l,d,c,p,u){"use strict";let h,g;Object.defineProperty(t,"__esModule",{value:!0}),t.getCollectionData=t.copyRowPropsFromView=t.removeFilterRow=t.normalizeBrackets=t.orOperatorsBraced=t.reduceBrackets=t.addCloseBrackets=t.addOpenBrackets=t.getTypedValue=t.getColumnDisplayText=t.getRawCellValue=t.getColumnDefaultValue=t.getFilterRowDisplayText=t.getFilterDisplayText=t.isColumnVisibleChangeAllowed=t.getColumnKey=t.isAdvancedFilter=t.isEmptyFilter=t.copyFilterRow=t.clearFilterRow=t.filterNullValue=t.FilterConditions=t.ExpressionEvaluator=void 0;let m=class ExpressionEvaluator{constructor(e,t){this.parser=e,this.resources=t,this.parser=e,this.lookupFunctions=t.lookupFunctions}evaluate(e,t){let i;try{i=this.parser.parse(e)}catch(e){}const n={bindingContext:t,overrideContext:(0,o.createOverrideContext)(t)},r=null==i?void 0:i.evaluate(n,this.lookupFunctions);return void 0===r?e:r}};m=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[o.Parser,r.ViewResources])],m),t.ExpressionEvaluator=m,t.FilterConditions={EQ:"Equals",NE:"Does Not Equal",GT:"Is Greater Than",GE:"Is Greater Than or Equal To",LT:"Is Less Than",LE:"Is Less Than or Equal To",BETWEEN:"Is Between",LIKE:"Contains",LLIKE:"Ends With",RLIKE:"Starts With",NOTLIKE:"Does Not Contain",ISNULL:"Is Empty",ISNOTNULL:"Is Not Empty",TODAY:"Today",OVERDUE:"Overdue",TODAY_OVERDUE:"Today+Overdue",TOMMOROW:"Tomorrow",THIS_WEEK:"This Week",NEXT_WEEK:"Next Week",THIS_MONTH:"This Month",NEXT_MONTH:"Next Month"};const f=["EQ","NE","GT","GE","LT","LE","BETWEEN","LIKE","NOTLIKE","LLIKE","RLIKE"],v=["TODAY","OVERDUE","TODAY_OVERDUE","TOMMOROW","THIS_WEEK","NEXT_WEEK","THIS_MONTH","NEXT_MONTH"];function clearFilterRow(e){e.condition=e.orOperator=void 0,e.value=e.value2=void 0,e.openBrackets=e.closeBrackets=void 0,e.text=d.Messages.GridAll}function isEmptyFilter(e){return null==e||null==e.condition||"EQ"===e.condition&&null==e.value}function getFilterRowDisplayText(e,i){var n,r;let o=e.value,l=getColumnDisplayText(i,getTypedValue(i,e.value2,i.dataType,!0)).trimEnd(),c="";const p=((null===(r=null===(n=i.valueItems)||void 0===n?void 0:n.items)||void 0===r?void 0:r.length)||0)>0,u=i.dataType===a.NetType.String;p&&o?o=o.split(",").map((e=>e===t.filterNullValue?d.Messages.GridSelectAll:getColumnDisplayText(i,e))).join(", "):(o=getColumnDisplayText(i,getTypedValue(i,o,i.dataType,!0)).trimEnd(),u&&(o=o?`'${o}'`:"")),u&&(l=l?`'${l}'`:"");let h=e.condition;switch("EQ"!==h||e.value||(h=void 0),h){case"IN":c+=o;break;case"EQ":c+=`= ${o}`;break;case"NE":c+=`!= ${o}`;break;case"GT":c+=`> ${o}`;break;case"LT":c+=`< ${o}`;break;case"GE":c+=`>= ${o}`;break;case"LE":c+=`<= ${o}`;break;default:h?(c+="BETWEEN"===e.condition?"":t.FilterConditions[h],f.indexOf(h)>=0&&(c+=` ${o}${l?` - ${l}`:""}`)):c+=d.Messages.GridAll}return c}function getRawCellValue(e){return e&&void 0!==e.id?e.id:e}function getColumnDisplayText(e,t,i){var r,o;if(void 0!==(null==t?void 0:t.id)&&(e.textField||e.displayMode!==a.GridColumnDisplayMode.Value))return function getCellDisplayText(e,t,i){switch(e.displayMode){case a.GridColumnDisplayMode.Both:return null!=t&&i?`${t} - ${i}`:i||t;case a.GridColumnDisplayMode.Text:return i}return i}(e,t.id,t.text);let d="";if(t&&(t=getRawCellValue(t)),null==t)return null!==(r=e.nullText)&&void 0!==r?r:d;let m=e.valueItems,f=e.format,v=e.dataType;if(i&&e.fullState&&(i.type&&(v=i.type),i.format&&(f=i.format),i.options&&(m={items:i.options,multiSelect:i.multiSelect,exclusive:i.exclusiveValues,emptyPossible:i.emptyPossible})),((null===(o=null==m?void 0:m.items)||void 0===o?void 0:o.length)||0)>0)if(m&&m.multiSelect){const i=t.split(","),n=new Array;for(const t of i){const i=getValueItem(e,t,m,v);null!=i&&n.push(i.text)}d=n.join(", ")}else{const i=getValueItem(e,t,m,v);null!=i&&(d=(e.type===a.GridColumnType.Icon&&i.icon?i.icon:i.text)||"")}else(0,l.isNumeric)(v)?(0,u.isLegacyEnv)()?null!=h||(h=(0,p.numberFormatInfo)()):null!=h||(h=n.Container.instance.get(c.LocalizationsService).getLocalePreferences("number")):v===a.NetType.DateTime&&((0,u.isLegacyEnv)()?null!=g||(g=(0,p.dateFormatInfo)()):null!=g||(g=n.Container.instance.get(c.LocalizationsService).getLocalePreferences("datetime"))),d=f?(0,l.isNumeric)(v)&&"number"==typeof t?(0,l.formatNumber)(t,e.decimals,h):v===a.NetType.DateTime&&t instanceof Date?(0,l.formatDate)(t,f,g):v===a.NetType.String?(0,l.formatByMask)((0,l.encodeMask)(f),t," "):(0,l.getInvariantText)(t):(0,l.isNumeric)(v)?(0,l.formatNumber)(t,e.decimals,h):v===a.NetType.DateTime&&"Date"===t.constructor.name?(0,l.formatDate)(t,e.timeMode?"t":"d",g):(0,l.getInvariantText)(t);return d}function getTypedValue(e,t,i,n=!1){if(null==t)return t;void 0===i&&(i=e.dataType);const r="string"==typeof t,o=t;return e.allowNull&&r&&""===t?t=null:i===a.NetType.String&&t instanceof Date?t=(0,l.getInvariantText)(t):(t=(0,l.netTypeConvert)(t,i||a.NetType.String),n&&isNaN(t)&&(t=(0,l.getInvariantText)(o))),t}function getValueItem(e,t,i,n){if(null==(null==i?void 0:i.items)||null==t)return null;for(const r of i.items)if(t===getTypedValue(e,r.value,n))return r;return i.exclusive?null:{value:t,text:String(t)}}function addOpenBrackets(e,t){e.openBrackets||(e.openBrackets=0),e.openBrackets+=t}function addCloseBrackets(e,t){e.closeBrackets||(e.closeBrackets=0),e.closeBrackets+=t}function reduceBrackets(e){if(e&&e.openBrackets&&e.closeBrackets)for(;e.openBrackets&&e.closeBrackets;)e.openBrackets--,e.closeBrackets--}function copyValueIfDifferent(e,t,i){return!(!e||!t)&&(!!e.hasOwnProperty(i)&&(e[i]!==t[i]&&(t[i]=e[i],!0)))}t.filterNullValue="<null>",t.clearFilterRow=clearFilterRow,t.copyFilterRow=function copyFilterRow(e,t){return clearFilterRow(e),t&&Object.assign(e,t),e},t.isEmptyFilter=isEmptyFilter,t.isAdvancedFilter=function isAdvancedFilter(e){if(e){const t=e[e.length-1];return null==e?void 0:e.some((e=>!!e.orOperator&&e!==t))}return!1},t.getColumnKey=function getColumnKey(e){return e.field||e.key||""},t.isColumnVisibleChangeAllowed=function isColumnVisibleChangeAllowed(e){var t;return e.allowShowHide===a.GridColumnShowHideMode.True||e.allowShowHide===a.GridColumnShowHideMode.Client||e.allowShowHide===a.GridColumnShowHideMode.Server&&(null===(t=e.state)||void 0===t?void 0:t.visible)},t.getFilterDisplayText=function getFilterDisplayText(e,t){const i=e[e.length-1];let n="";for(const r of e){let e=t.find((e=>(0,l.compareStrings)(e.field,r.field,!0)));e||(e={field:r.field,dataType:a.NetType.String}),r.openBrackets&&(n+="(".repeat(r.openBrackets)),n+=`<b>${r.field}</b> `,isEmptyFilter(r)||v.indexOf(r.condition)>=0?n+="= ":"BETWEEN"===r.condition?n+="Between ":"IN"===r.condition&&(n+=`${r.condition} `);const o=getFilterRowDisplayText(r,e);"IN"===r.condition?n+=`(${o})`:"BETWEEN"===r.condition?n+=o.replace("-","and"):n+=o,r.closeBrackets&&(n+=")".repeat(r.closeBrackets)),r!==i&&(n+=`<span class="${r.orOperator?"or":"and"}"> ${r.orOperator?"OR":"AND"} </span>`)}return n},t.getFilterRowDisplayText=getFilterRowDisplayText,t.getColumnDefaultValue=function getColumnDefaultValue(e){var t;return(null===(t=e.state)||void 0===t?void 0:t.defaultValue)?e.state.defaultValue:e.allowNull?null:e.dataType===a.NetType.String?"":(0,l.isNumeric)(e.dataType)?0:e.dataType!==a.NetType.Boolean&&(e.dataType===a.NetType.DateTime?new Date:void 0)},t.getRawCellValue=getRawCellValue,t.getColumnDisplayText=getColumnDisplayText,t.getTypedValue=getTypedValue,t.addOpenBrackets=addOpenBrackets,t.addCloseBrackets=addCloseBrackets,t.reduceBrackets=reduceBrackets,t.orOperatorsBraced=function orOperatorsBraced(e){let t=0;for(const i of e)if(t-=i.closeBrackets||0,t+=i.openBrackets||0,i.orOperator&&t<=0)return!1;return!0},t.normalizeBrackets=function normalizeBrackets(e){const t=new Array,i=e[0],n=e[e.length-1];for(const r of e)if(reduceBrackets(r),r.openBrackets>0)t.push({fr:r,opened:r.openBrackets});else if(r.closeBrackets>0){let e=t.pop();if(!e){r.closeBrackets=void 0;continue}let o=r.closeBrackets;for(;e&&o>0;)o>=e.opened?(e.fr.openBrackets===e.opened&&e.opened>1&&(r.closeBrackets-=e.opened-1,e.fr.openBrackets=e.opened=o=1),r===n&&e.fr===i&&(r.closeBrackets-=o,e.fr.openBrackets-=o),o-=e.opened,o>0&&(e=t.pop())):(e.opened-=o,t.push(e),o=0)}for(const e of t)e.fr.openBrackets-=e.opened},t.removeFilterRow=function removeFilterRow(e,t){!function copyRemovedFilterRowBrackets(e,t){let i;const n=e.indexOf(t);t.openBrackets?(i=e[n+1],i&&addOpenBrackets(i,t.openBrackets)):t.closeBrackets&&(i=e[n-1],i&&addCloseBrackets(i,t.closeBrackets));i&&reduceBrackets(i)}(e,t),e.splice(e.indexOf(t),1)},t.copyRowPropsFromView=function copyRowPropsFromView(e,t,i,n){if(!e||!t)return{hasChanges:!1,activeCellValueChanged:!1};const r=Object.keys(t.cells).reduce(((r,o)=>{const a=e[o];if(!a)return r;const l=t.cells[o],d=copyValueIfDifferent(a,l,"value");let c=copyValueIfDifferent(a,l,"readOnly")||d;if(c=copyValueIfDifferent(a,l,"error")||c,c=copyValueIfDifferent(a,l,"errorLevel")||c,d){const e=i.find((e=>e.field===o));e&&(l.cellText=getColumnDisplayText(e,l.value,l)),l.changed=!0}return{hasChanges:d||r.hasChanges,activeCellValueChanged:r.activeCellValueChanged||o===n&&d}}),{hasChanges:!1,activeCellValueChanged:!1});return r.hasChanges&&(t.changed=!0),r},t.getCollectionData=function getCollectionData(e,t,n,r){var o;return i.__awaiter(this,void 0,void 0,(function*(){const i={view:n.name,columns:[],refreshColumns:!0,generateColumns:a.GridColumnGeneration.None,fastFilterByAllFields:!0,filterRows:[],parameters:null==r?void 0:r.parameters,suppressSelection:!1,gridDataUrl:null==r?void 0:r.gridDataUrl,preserveSortsAndFilters:!0,refreshFilters:!1,isRequestOwner:!1,pagerMode:void 0===(null==r?void 0:r.count)?a.GridPagerMode.InfiniteScroll:a.GridPagerMode.NextPrevFirstLast,startRow:null!==(o=null==r?void 0:r.startIndex)&&void 0!==o?o:0,pageSize:null==r?void 0:r.count},l=yield e.getGridData(t,i);return l.rows&&l.columns?l.rows.map((e=>{var t;return null===(t=l.columns)||void 0===t?void 0:t.reduce(((t,i)=>{var n;const r=i.field,o=e.cells[r],a=null!==(n=null==o?void 0:o.href)&&void 0!==n?n:null==o?void 0:o.value;return"string"==typeof a?t[r]=a:"object"==typeof a&&a&&void 0!==a.id&&(t[r]=a.id),t}),{})})):[]}))}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/qp-filter-bar":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-dialog"),i(6158),i("aurelia-framework"),i(1015),i("aurelia-event-aggregator"),i(9428),i("client-controls/controls/compound/grid/dialogs/columns-list-dialog"),i(3116),i(2172),i(7140)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h){"use strict";var g;Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilterBarCustomElement=void 0;let m=g=class QpFilterBarCustomElement{constructor(e,t,i,n,r,o){this.element=e,this.bindingEngine=t,this.eventAggregator=i,this.dialogService=n,this.container=r,this.tq=o,this.msg=p.Messages,this.filterSetupVM=void 0,this.filterEditorVM=void 0,this.btnFilterSaveOptions=[{type:"MenuButton",text:this.msg.GridSaveAs,commandName:"SaveAsFilter",images:{normal:"main@Save"}},{type:"MenuButton",text:this.msg.GridOpenAdvFilter,commandName:"Advanced",images:{normal:"svg:main@advancedFilter"}},{type:"MenuButton",text:this.msg.GridEditFilter,commandName:"Setup",images:{normal:"svg:main@edit"}},{type:"MenuButton",text:this.msg.GridDeleteFilter,commandName:"Remove",images:{normal:"main@Remove"}}],this.btnAddFilterConfig={imageUrl:"ac@keyboard_arrow_down"},this.btnFilterSaveConfig={images:{normal:"svg:main@dots"},options:this.btnFilterSaveOptions,hideOpener:!0},this.btnSaveConfig={text:this.msg.GridSaveFilter,hidden:!this.isFilterRetained()}}focusFastFilter(){var e;null===(e=this.fastFilterVM)||void 0===e||e.elemText.focus()}raiseOnFilterEvent(){this.onFilterChanged&&this.onFilterChanged({filter:this.fastFilter,filterID:this.filterId})}setCommandsState(){this.btnSaveConfig.hidden=!this.isFilterRetained();const e=!this.isClientFilter()&&this.isCurrentFilterEditable(),t=this.btnFilterSaveConfig.options;t[2].disabled=t[3].disabled=!e}filterIdChanged(e,t){this.setCommandsState(),t&&this.raiseOnFilterEvent()}filtersChanged(){this.setCommandsState()}filterRowsChanged(){this.filterText=this.isAdvancedFilter()?(0,d.getFilterDisplayText)(this.filterRows,this.config.columns):""}isDirtyFilterChanged(e,t){this.btnSaveConfig.hidden=!this.isFilterRetained()}dragColumnChanged(e){this.dragInfo=e?{field:e.field,targetIndex:void 0}:void 0}onSortApplied(e,t){this.onSortChanged&&this.onSortChanged({col:e,sort:t})}onFilterRowApplied(e,t){var i;const n=this.getFilterRow(e.field);n?t=(0,d.copyFilterRow)(n,t):t&&(null===(i=this.filterRows)||void 0===i||i.push(t)),this.onFilterRowChanged&&this.onFilterRowChanged({col:e,filter:t})}onFilterRowDeleted(e){var t;const i=this.getFilterRow(e.field);null!=i&&(null===(t=this.filterRows)||void 0===t||t.splice(this.filterRows.indexOf(i),1)),this.onFilterRowRemoved&&this.onFilterRowRemoved({col:e})}onFilterRowsSetChanged(e=!1){this.isDirtyFilter=!0,this.onRowsSetChanged&&this.onRowsSetChanged({refresh:e})}processFilterFavoriteChanged(e,t){var i;null===(i=this.onFilterFavoriteChanged)||void 0===i||i.call(this,{filterID:e,isFavorite:t})}getActiveFilter(){var e;return null===(e=this.filters)||void 0===e?void 0:e.find((e=>e.filterID===this.filterId))}isClientFilter(e){const t=e||this.filterId;return!t||t<=g.minFilterID}isFilterRetained(){return this.isClientFilter()||this.isDirtyFilter}isCurrentFilterEditable(){const e=this.getActiveFilter();return!(!e||this.isClientFilter(e.filterID))&&!(e.isSystem||e.isShared&&!0!==this.config.isSharedEditable)}getColumn(e){var t;return null===(t=this.config.columns)||void 0===t?void 0:t.find((t=>(0,h.compareStrings)(t.field,e,!0)))}getFilterRow(e){var t;return null===(t=this.filterRows)||void 0===t?void 0:t.slice().reverse().find((t=>(0,h.compareStrings)(t.field,e,!0)))}getFilterRowIndex(e){var t;const i=this.getFilterRow(e);return i?null===(t=this.filterRows)||void 0===t?void 0:t.indexOf(i):-1}setFilterID(e){this.filterId!==e&&(this.filterId=e,this.raiseOnFilterEvent())}isAdvancedFilter(e){return e||(e=this.filterRows),(0,d.isAdvancedFilter)(e)}removeFiltersBrackets(e){e||(e=this.filterRows),null==e||e.forEach((e=>e.openBrackets=e.closeBrackets=void 0))}processFilterMenu(e){switch(e.detail.commandName){case"SaveAsFilter":case"Setup":this.showFilterSettings("SaveAsFilter"===e.detail.commandName);break;case"Remove":this.onFilterRemove&&a.PLATFORM.global.confirm(this.msg.GridRemoveFilterWarn)&&this.onFilterRemove({filterID:this.filterId});break;case"Save":this.processSaveFilter();break;case"Advanced":this.showAdvancedFilter()}}showFilterSettings(e){var t;let i=this.getActiveFilter();this.isClientFilter(null==i?void 0:i.filterID)&&(i=Object.assign({},i),i.filterName="");const n={id:`${this.config.id}_pnlSaveF`,filter:i,isSharedEditable:this.config.isSharedEditable,saveAs:e};null===(t=this.filterSetupVM)||void 0===t||t.open(n).whenClosed((t=>{!t.wasCancelled&&this.onFilterSave&&this.onFilterSave({filter:t.output,createNew:e})}))}showAdvancedFilter(){var e;const t={id:`${this.config.id}_filter_editor`,columns:this.config.columns,filterRows:this.filterRows};null===(e=this.filterEditorVM)||void 0===e||e.open(t).whenClosed((e=>{if(!e.wasCancelled){const t=e.output;this.isAdvancedFilter(t)||this.removeFiltersBrackets(t),this.filterRows.splice(0,this.filterRows.length,...t),this.filterRowsChanged(),this.onFilterRowsSetChanged(!0)}}))}processSaveFilter(){const e=this.getActiveFilter();this.onFilterSave&&e&&(this.isClientFilter(e.filterID)?this.showFilterSettings(!0):this.onFilterSave({filter:e,createNew:!1}))}processFastFilter(e){this.fastFilter=e,this.raiseOnFilterEvent()}processFastFilterKeyDown(e){return!this.onFastFilterKeyDown||this.onFastFilterKeyDown({ev:e})}processFilterHeaderClick(e,t){this.setFilterID(t.filterID)}processAddFilterClick(e){let t=e.target;for(;"BUTTON"!==t.tagName;)t=t.parentElement;const i=new Set(this.filterRows.map((e=>{var t;return null===(t=e.field)||void 0===t?void 0:t.toLowerCase()}))),n={attachTo:t,columns:this.config.columns.filter((e=>{var t;return!i.has(null===(t=e.field)||void 0===t?void 0:t.toLowerCase())})),showAdvancedLink:!0,id:this.config.id};this.dialogService.open({viewModel:c.ColumnsListDialog,model:n,lock:!1,childContainer:this.container.createChild()}).whenClosed((e=>{if(!e.wasCancelled&&e.output){const t=e.output;t&&"object"==typeof t?this.filterRows.find((e=>e.field===t.field))||(this.filterRows.push({field:t.field,text:this.msg.GridAll}),this.onFilterRowsSetChanged()):this.showAdvancedFilter()}}))}processDragStart(e,t){return this.dragInfo={field:t.field,targetIndex:void 0},this.bodyDropSubscription=this.eventAggregator.subscribe(u.DROP_ON_BODY,(e=>this.processDropOnBody(e))),!0}processDragOver(e,t){if(this.createColDragInfo(),this.dragInfo&&this.dragInfo.field!==t.field){const i=this.elemFiltersWrap.querySelectorAll("qp-filter-button")[this.filterRows.indexOf(t)],n=i.getBoundingClientRect(),r=this.elemFiltersWrap.getBoundingClientRect(),o=n.left-r.left,l=n.right-r.left,d=2,c=e.clientX<n.left+n.width/d;let p=this.getFilterRowIndex(t.field)+(c?0:1);const u=this.getFilterRowIndex(this.dragInfo.field);u>=0&&p>u&&p--;let h=(c?o:l)-this.elemArrowDown.offsetWidth/d;if(p>0){const e=a.PLATFORM.global.getComputedStyle(i);if(e.marginLeft||e.marginRight){const t=(e.marginLeft?parseInt(e.marginLeft):0)+(e.marginRight?parseInt(e.marginRight):0);h+=(c?-t:t)/d}}this.elemArrowUp.style.left=this.elemArrowDown.style.left=`${h}px`,this.dragInfo.targetIndex=p===u?void 0:p}else this.dragInfo&&(this.dragInfo.targetIndex=void 0);e.stopPropagation()}processDragOverBar(e){var t;this.dragInfo&&null!=this.dragInfo.targetIndex||(this.createColDragInfo(),0===(null===(t=this.filterRows)||void 0===t?void 0:t.length)&&(this.dragInfo.targetIndex=0,this.tq.queueTask((()=>{const e=this.elemAddFilterBtn.offsetLeft-this.elemArrowUp.offsetWidth/2;this.elemArrowUp.style.left=this.elemArrowDown.style.left=`${e}px`}))))}processDragLeave(e){this.dragInfo&&!this.elemFiltersWrap.contains(e.relatedTarget)&&(this.dragInfo.targetIndex=void 0)}processDrop(e){if(this.dragInfo){const e=this.dragInfo.targetIndex,t=this.dragInfo.field,i=this.getFilterRowIndex(t);void 0!==e&&(i<0?this.filterRows.splice(e,0,{field:t,text:this.msg.GridAll}):this.filterRows.splice(e,0,this.filterRows.splice(i,1)[0]),this.onFilterRowsSetChanged()),this.dragInfo=void 0}}processDropOnBody(e){var t;if(!this.elemFiltersWrap.contains(e.target)&&this.dragInfo){const e=this.getColumn(this.dragInfo.field);e&&this.onFilterRowDeleted(e)}null===(t=this.bodyDropSubscription)||void 0===t||t.dispose(),this.bodyDropSubscription=void 0}createColDragInfo(){!this.dragInfo&&this.dragColumn&&(this.dragInfo={field:this.dragColumn.field,targetIndex:void 0})}get showDragArrows(){return!!this.dragInfo&&void 0!==this.dragInfo.targetIndex}};m.clientFilterID="00000000-0000-0000-0000-000000000000",m.minFilterID="00000000-0000-0000-0000-000000000010",i.__decorate([o.bindable,i.__metadata("design:type",Object)],m.prototype,"config",void 0),i.__decorate([o.bindable,i.__metadata("design:type",String)],m.prototype,"fastFilter",void 0),i.__decorate([o.bindable,i.__metadata("design:type",String)],m.prototype,"filterId",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Array)],m.prototype,"filters",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Array)],m.prototype,"filterRows",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Boolean)],m.prototype,"isDirtyFilter",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Object)],m.prototype,"dragColumn",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],m.prototype,"onSortChanged",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],m.prototype,"onFilterChanged",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],m.prototype,"onFilterSave",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],m.prototype,"onFilterRemove",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],m.prototype,"onFiltersOrderChanged",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],m.prototype,"onFilterFavoriteChanged",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],m.prototype,"onFilterRowChanged",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],m.prototype,"onFilterRowRemoved",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],m.prototype,"onRowsSetChanged",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],m.prototype,"onFastFilterKeyDown",void 0),i.__decorate([(0,o.computedFrom)("dragInfo","dragInfo.targetIndex"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],m.prototype,"showDragArrows",null),m=g=i.__decorate([o.autoinject,i.__metadata("design:paramtypes",[Element,o.BindingEngine,l.EventAggregator,n.DialogService,r.Container,o.TaskQueue])],m),t.QpFilterBarCustomElement=m}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/qp-filter-editor":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-dialog"),i("aurelia-framework"),i(2172),i("client-controls/controls/compound/grid/dialogs/columns-list-dialog"),i(9428)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterNode=t.QpFilterEditorCustomElement=void 0;let d=class QpFilterEditorCustomElement{constructor(e){this.dialogService=e,this.hoverNodes=[]}filterRowsChanged(){this.buildFilterRowsTree()}processHierarchyChanged(){this.buildFilterRowsTree()}buildFilterRowsTree(){let e=this.rootNode;if(null==e&&(e=this.rootNode=new FilterNode),e.items.splice(0,e.items.length),this.filterRows){(0,l.normalizeBrackets)(this.filterRows);for(const t of this.filterRows)if(t.openBrackets>0){let i=t.openBrackets;for(;i-- >0;)e.items.push(e=new FilterNode(e));e.items.push(t)}else if(t.closeBrackets>0){let i=t.closeBrackets;for(e.items.push(t);i-- >0&&e.parent;)0===i&&(e.orOperator=t.orOperator),e=e.parent}else e.items.push(t)}}processFilterRowDelete(e){(0,l.removeFilterRow)(this.filterRows,e),this.buildFilterRowsTree()}processFilterNodeDelete(e){const t=e.getFirstCondition(),i=e.getLastCondition(),n=this.filterRows.indexOf(t),r=this.filterRows.indexOf(i);let o=0,a=0;for(let e=n;e<=r;e++){const t=this.filterRows[e];t.openBrackets&&(o+=t.openBrackets),t.closeBrackets&&(a+=t.closeBrackets)}const d=o>a?o-a:0,c=a>o?a-o:0;if(d>0||c>0){const t=e.parent.items;if(d>0){const i=t[t.indexOf(e)+1],n=i instanceof FilterNode?i.getFirstCondition():i;n&&((0,l.addOpenBrackets)(n,d),(0,l.reduceBrackets)(n))}if(c>0){const i=t[t.indexOf(e)-1],n=i instanceof FilterNode?i.getLastCondition():i;n&&((0,l.addCloseBrackets)(n,c),(0,l.reduceBrackets)(n))}}this.filterRows.splice(n,r-n+1),this.buildFilterRowsTree()}processFilterRowInsert(e,t,i){const n=e?this.filterRows.indexOf(e):-1,r=new o.GridFilterRow;r.field=t.field,r.text=(0,l.getFilterRowDisplayText)(r,t),i&&(null==e?void 0:e.closeBrackets)&&(r.closeBrackets=i,e.closeBrackets-=i),this.filterRows.splice(n+1,0,r),this.buildFilterRowsTree()}processNewItemClick(e){let t=e.target;"DIV"!==t.tagName&&(t=t.parentElement);const i={attachTo:t,columns:this.columns,id:this.id};this.dialogService.open({viewModel:a.ColumnsListDialog,model:i,lock:!1}).whenClosed((e=>{!e.wasCancelled&&e.output&&this.processFilterRowInsert(void 0,e.output)}))}processNodeMouseMove(e,t){const i=this.hoverNodes,n="mouse-hover";t?(e.removeAttribute(n),i.pop()):(i.length&&i[i.length-1].removeAttribute(n),i.push(e)),i.length&&i[i.length-1].setAttribute(n,"")}};i.__decorate([r.bindable,i.__metadata("design:type",String)],d.prototype,"id",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Array)],d.prototype,"filterRows",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Array)],d.prototype,"columns",void 0),d=i.__decorate([(0,r.customElement)("qp-filter-editor"),r.autoinject,i.__metadata("design:paramtypes",[n.DialogService])],d),t.QpFilterEditorCustomElement=d;class FilterNode{constructor(e){this.items=[],this.parent=e}getFirstCondition(){let e=this;do{e=e.items[0]}while(e instanceof FilterNode);return e}getLastCondition(){let e=this;do{e=e.items[e.items.length-1]}while(e instanceof FilterNode);return e}getLevel(){let e=this.parent,t=-1;for(;e;)e=e.parent,t++;return t}}t.FilterNode=FilterNode}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/grid/qp-grid":(e,t,i)=>{var n,r;n=[i,t,i(655),i(7052),i(7052),i(3116),i(8862),i("aurelia-framework"),i(6158),i("aurelia-event-aggregator"),i(6595),i(630),i("aurelia-dialog"),i("client-controls/controls/compound/grid/dialogs/filter-dialog"),i("client-controls/controls/compound/grid/qp-filter-bar"),i(9428),i(4834),i(4030),i(2172),i(2374),i(7140),i("aurelia-framework"),i("client-controls/controls/dialog/alert/qp-alert"),i("client-controls/controls/compound/tool-bar/qp-tool-bar"),i(6778),i("client-controls/controls/compound/grid/dialogs/import-dialog"),i(9582)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g,m,f,v,b,y,x,C,_,S,E,q,k,M){"use strict";var T;Object.defineProperty(t,"__esModule",{value:!0}),t.GridPreferences=t.GridPreferencesPair=t.GridPreferencesMerger=t.QpGridActionEventArgs=t.QpGridEventArgs=t.QpGridCustomElement=void 0;let I=T=class QpGridCustomElement{constructor(e,t,i,n,r,a,l,d,c,p,u,h,g,m,f,v){this.element=e,this.screenService=t,this.tq=n,this.bindingEngine=r,this.dialogService=a,this.eventAggregator=l,this.redirector=d,this.alertService=c,this.container=u,this.preferencesService=h,this.evaluator=g,this.eventManager=m,this.busyCounter=f,this.translationService=v,this.viewMode=x.ViewMode.View,this.resultType="GridData",this.Msg=o.Messages,this.NotesKey="Notes",this.FilesKey="Files",this.debounceState={delay:500,timeoutId:void 0},this.subscriptions=new Array,this.colsSubscriptions=new Array,this.loadingStatus="in-sync",this.layoutLoaded=!1,this.filtersLoaded=!1,this.hasSavedLayout=!1,this.isSavingLayout=!1,this.rowsHidden=!1,this.pageAdjusted=!1,this.awaitColsGeneration=!1,this.showFilterBar=!1,this.manualColumnsConfig={},this.visibleCols=new Array,this.editMode=!1,this.updateEditorValue=!1,this.updateEditorState=!1,this.updateRowsCount=!1,this.allowUpdate=!1,this.allowDelete=!1,this.allowInsert=!1,this.allowImport=!1,this.allowFastFilter=!1,this.activeRowIndex=-1,this.activeCellIndex=0,this.changedPrefs=new Map,this.noteDialogView={},this.noteDialogVM=void 0,this.inlineEditorVM=void 0,this.filesDialogVM=void 0,this.hasFilesColumn=!1,this.gridPreferencesMerger=new GridPreferencesMerger,this.pagerBarConfigL={id:"",disableMenu:!0,items:{first:{config:Object.assign(Object.assign({},(0,E.NewMenuButton)("firstPage")),{commandName:"firstPage",imageUrl:"main@PageFirst",toolTip:this.Msg.GridFirstPage,disabled:!0})},prev:{config:Object.assign(Object.assign({},(0,E.NewMenuButton)("prevPage")),{commandName:"prevPage",imageUrl:"main@PagePrev",toolTip:this.Msg.GridPrevPage,disabled:!0})}},styleChanged:!1},this.pagerBarConfigR={id:"",disableMenu:!0,items:{next:{config:Object.assign(Object.assign({},(0,E.NewMenuButton)("nextPage")),{commandName:"nextPage",imageUrl:"main@PageNext",toolTip:this.Msg.GridNextPage,disabled:!0})},last:{config:Object.assign(Object.assign({},(0,E.NewMenuButton)("lastPage")),{commandName:"lastPage",imageUrl:"main@PageLast",toolTip:this.Msg.GridLastPage,disabled:!0})}},styleChanged:!1},this.apiClient=i,this.templateColumns=p.elementInstruction.columns,this.id=this.element.getAttribute("id")||"",this.preferencesManager=new GridPreferencesManager(h,this.setFavoriteInFilters.bind(this)),t.isValid&&(this.viewName=this.element.getAttribute("view.bind")||void 0,this.viewName&&(this.componentSubscription=t.registerDataComponent(this.viewName,this),this.id=this.id||`${this.viewName}_grid`,this.translationService.addTranslationsProcessor(this.viewName,this.setCellTranslation.bind(this)))),this.topBarConfig={id:"",disableMenu:!0,items:{refresh:{index:-90,config:Object.assign(Object.assign({},(0,E.NewMenuButton)("refresh")),{commandName:"refresh",images:{normal:"main@Refresh"},toolTip:this.Msg.GridRefresh,isSystem:!0,showInToolbar:!0,target:this.element,text:"Refresh"})},insert:{index:-60,config:Object.assign(Object.assign({},(0,E.NewMenuButton)("insert")),{commandName:"insert",images:{normal:"main@RecordAdd"},toolTip:this.Msg.GridAddRow,isSystem:!0,showInToolbar:!0,target:this.element,hidden:!0,text:"Add Row"})},delete:{index:-50,config:Object.assign(Object.assign({},(0,E.NewMenuButton)("delete")),{commandName:"delete",images:{normal:"main@RecordDel"},toolTip:this.Msg.GridDeleteRow,isSystem:!0,showInToolbar:!0,target:this.element,hidden:!0,text:"Delete Row"})},adjust:{config:Object.assign(Object.assign({},(0,E.NewMenuButton)("adjust")),{commandName:"adjust",images:{normal:"main@Adjust"},toolTip:this.Msg.GridFitToScreen,isSystem:!0,showInToolbar:!0,target:this.element,text:"Fit to Screen"})},exportToExcel:{config:Object.assign(Object.assign({},(0,E.NewMenuButton)("exportToExcel")),{commandName:"exportToExcel",images:{normal:"main@Excel"},toolTip:this.Msg.GridExportToExcel,isSystem:!0,showInToolbar:!0,target:this.element,text:"Export to Excel"})},import:{config:Object.assign(Object.assign({},(0,E.NewMenuButton)("import")),{commandName:"import",images:{normal:"main@Upload"},isSystem:!0,showInToolbar:!0,target:this.element,hidden:!0,text:this.Msg.LoadRecordsFromFile,toolTip:this.Msg.LoadRecordsFromFile})},filter:{config:Object.assign(Object.assign({},(0,E.NewMenuButton)("filter")),{commandName:"filter",images:{normal:"svg:main@filter"},toolTip:this.Msg.GridFilterSetup,isSystem:!0,showInToolbar:!0,target:this.element,hidden:!0,text:"Filter Settings",toggleMode:!0,pushed:!1})}},styleChanged:!1,changed:!1},this.btnToggleFilterConfig={id:"",enabled:!0,toggleMode:!0,toolTip:this.Msg.GridFilterSetup,tabIndex:-1,displayIconAndText:!0},this.domEvents=new _.ElementEvents(this.element),this.domEvents.subscribe("buttonpressed",(e=>this.processToolBarClick(e)))}bind(e,t){var i,n;if(this.config||(this.config={}),this.config.columns||(this.config.columns=[]),this.id&&this.config.id&&this.id!==this.config.id&&(alert(`IDs conflict in qp-grid: ${this.id} != ${this.config.id}`),console.error(`IDs conflict in qp-grid: ${this.id} != ${this.config.id}`)),this.id=this.id||this.config.id||"",this.id||(alert("ID is not given to qp-grid. "),console.error("ID is not given to qp-grid. ")),this.btnToggleFilterConfig.id=`${this.id}_toggleFilter`,this.topBarConfig.id=`${this.id}_topBar`,this.pagerBarConfigL.id=`${this.id}_pagerL`,this.pagerBarConfigR.id=`${this.id}_pagerR`,this.linkedWithView()){const e=y.PXReflectionMetadata.getMetadata(null===(i=this.view)||void 0===i?void 0:i.instanceType,"gridConfig"),t=y.PXReflectionMetadata.getMetadata(this.screenService.model,this.viewName,"gridConfig"),r=!!this.config.hasOwnProperty("mergeToolbarWith");(t||e)&&Object.assign(this.config,null!=t?t:e),r&&(this.config.mergeToolbarWith=void 0),(null===(n=this.view)||void 0===n?void 0:n.config)&&Object.assign(this.config,this.view.config)}this.config.preset&&(0,C.deepMerge)(this.config,!1,(0,y.getGridPereset)(this.config.preset)),(0,C.applyDefaultValues)(this.config,T.defaultConfig),this.config.preset||console.error(`preset is not specified for the grid with id="${this.id}"`),this.config.id=this.id,this.config.autoAdjustColumns&&(this.config.autoSaveLayout=!1),this.config.autoGrowInHeight&&(this.config.adjustPageSize=!1),this.allowUpdate=!!this.config.allowUpdate,this.allowDelete=!!this.config.allowDelete,this.allowInsert=!!this.config.allowInsert,this.adjustPagerMode();const r=this.config.columns;if(this.templateColumns){const t=new Array;this.templateColumns.map((i=>{const n={};for(const t of Object.getOwnPropertyNames(i))if("bindableProps"!==t)n[t]=i[t];else for(const r of Object.getOwnPropertyNames(i[t]))n[r]=this.evaluator.evaluate(i[t][r],e);t.push(n)})),r.splice(r.length,0,...t)}this.manualColumnsConfig=Object.fromEntries(r.map((e=>[(0,f.getColumnKey)(e),Object.assign({},e)]))),this.columns=r.map((e=>Object.assign({},e))),this.columns.forEach((e=>(0,C.applyDefaultValues)(e,T.defaultColumnConfig))),this.allowFastFilter=this.isFastFilterEnabled(),this.filterBarConfig={id:this.config.id,columns:this.columns,hideHeaders:!0,isSharedFiltersEditable:this.isSharedFiltersEditable,allowStoredFilters:this.config.allowStoredFilters,showFastFilter:this.allowFastFilter&&this.config.showFastFilter===y.GridFastFilterVisibility.FilterBar},this.showFilterBar=this.config.showFilterBar===y.GridFilterBarVisibility.Always,this.topBarConfig.disableMenu=!this.config.wrapToolbar,this.initialTopBarConfigItems=this.topBarConfig.items,this.config.topBarItems&&(this.topBarConfig.items=Object.assign(Object.assign({},this.config.topBarItems),this.topBarConfig.items),this.topBarConfig.changed=!0),this.injectToolbarIntoScreenOne(),this.noteDialogConfig={view:this.getViewName()},this.filesDialogConfig={graph:this.getGraphName(),view:this.getViewName(),id:"pnlFilesDialog"},this.fillVisibleColumns(),this.createSubscriptions(),this.linkedWithView()&&(this.preferencesService.subscribe(this.gridId,this),this.preferencesService.registerMerger("grid",this.gridPreferencesMerger),this.preferencesManager.subscribe(this.getScreenID(),this.gridId)),this.linkedWithView()&&!this.config.screenId||this.refresh()}attached(){this.rowsPromise||this.linkedWithView()||this.refresh(),u.browser.isAnyIE&&this.tq.queueTask((()=>{this.createSubscriptions(),(0,C.applyDefaultValues)(this.config,T.defaultConfig)}))}detached(){var e;this.componentSubscription&&this.componentSubscription.dispose(),this.clearSubscriptions(),this.preferencesService.unsubscribe(this.gridId),null===(e=this.elemFastFilter)||void 0===e||e.removeEventListener("input",this.fastFilterHandler)}applyPreferences(e){var t,i,r,o,a,l;this.preferences=e,this.hasSavedLayout=this.viewMode===x.ViewMode.View&&!!(null===(r=null===(i=null===(t=this.preferences)||void 0===t?void 0:t.user)||void 0===i?void 0:i.columns)||void 0===r?void 0:r.length)||this.viewMode===x.ViewMode.Edit&&!!(null===(l=null===(a=null===(o=this.preferences)||void 0===o?void 0:o.def)||void 0===a?void 0:a.columns)||void 0===l?void 0:l.length),this.isSavingLayout||(this.viewMode===x.ViewMode.Edit?this.fillPreferences(n.PreferenceLoadMode.onlyDefault,!0):(this.changedPrefs.clear(),this.fillPreferences(n.PreferenceLoadMode.merged,!0)))}createSubscriptions(){var e;this.clearSubscriptions();const t=this.bindingEngine.collectionObserver(this.columns).subscribe((()=>this.fillVisibleColumns()));this.subscriptions.push(t),this.linkedWithView()&&this.view&&this.subscriptions.push(this.bindingEngine.propertyObserver(this.view,"activeRowChanged").subscribe((()=>this.updateActiveRowFromView()))),this.createColsSubscriptions(),(this.needAdjustPage()||(null===(e=this.config)||void 0===e?void 0:e.autoAdjustColumns))&&this.subscriptions.push(this.eventAggregator.subscribe(y.RESIZE_WINDOW,(()=>this.resizeWindowHandler()))),this.config.fastFilterId&&this.subscriptions.push(this.eventAggregator.subscribe("screen-initialized",(()=>this.attachFastFilterEditor())))}createColsSubscriptions(){this.clearColsSubscriptions();const func=()=>this.fillVisibleColumns();this.columns.forEach((e=>{const t=this.bindingEngine.propertyObserver(e,"visible").subscribe(func);this.colsSubscriptions.push(t)}))}attachFastFilterEditor(){this.config.fastFilterId&&(this.elemFastFilter=document.getElementById(this.config.fastFilterId),this.elemFastFilter&&(this.fastFilterHandler||(this.fastFilterHandler=this.applyFastFilter.bind(this)),this.elemFastFilter.addEventListener("input",this.fastFilterHandler)))}clearSubscriptions(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[],this.clearColsSubscriptions()}clearColsSubscriptions(){this.colsSubscriptions.forEach((e=>e.dispose())),this.colsSubscriptions=[]}getScreenID(){var e;return this.config.screenId?this.config.screenId:(null===(e=this.screenService)||void 0===e?void 0:e.isValid)?this.screenService.siteMapScreenID?this.screenService.siteMapScreenID:this.screenService.screenID:(0,C.getScreenID)()}getViewName(){var e;return(null===(e=this.config)||void 0===e?void 0:e.view)||this.viewName}getGraphName(){var e,t;return(null===(e=this.config)||void 0===e?void 0:e.graph)||(null===(t=this.screenService.getGraphInfo())||void 0===t?void 0:t.graphType)}linkedWithView(){return!!this.viewName&&this.screenService.isValid}getRows(e=!1,t=!1){return i.__awaiter(this,void 0,void 0,(function*(){if(this.rowsPromise||!this.config)return this.rowsPromise;this.busyCounter.increment();this.config;const i=this.getQueryParams(void 0,e);this.exitEditMode(!1),t&&(this.storeScrollPosition(),this.rowsHidden=!0);const clearState=()=>{this.loadingStatus="in-sync",delete this.rowsPromise},n=this.dataSource?this.dataSource:this.apiClient.getGridData.bind(this.apiClient);return this.loadingStatus="loading",this.rowsPromise=n(this.getScreenID(),i).then((t=>{t&&this.setComponentData(t,e),clearState()}),(e=>clearState())).finally((()=>{this.busyCounter.decrement()})),this.rowsPromise}))}exportToExcel(){return i.__awaiter(this,void 0,void 0,(function*(){const e=1e3;let t=this.config.exportRowsLimit;if(t&&this.totalRowCount>t){if((yield this.alertService.openAlert({title:o.Messages.ExportToExcelGlobalLimitExceededBtnWarning,message:(0,a.Format)(o.Messages.ExportToExcelInquiryLimitExceeded,t.toString()),buttons:S.QpAlertButtons.OkCancel}))===S.QpAlertResults.Cancel)return}else if(this.totalRowCount>e){const i=yield this.alertService.openAlert({title:o.Messages.ExportToExcelGlobalLimitExceededBtnWarning,message:(0,a.Format)(o.Messages.ExportToExcelGlobalLimitExceeded,e.toString()),buttons:S.QpAlertButtons.YesNoCancel,yesButtonText:o.Messages.ExportToExcelGlobalLimitExceededBtnApply,noButtonText:o.Messages.ExportToExcelGlobalLimitExceededBtnIgnore});if(i===S.QpAlertResults.Cancel)return;i===S.QpAlertResults.Yes&&(t=e)}const i=this.getQueryParams();if(t&&(i.exportRowsCount=t),this.isAllRecordsFilter()){const e=this.columns.filter((e=>null!=e.filter)).map((e=>e.filter));e.length>0&&(i.filterRows=e)}this.exitEditMode(!1),this.apiClient.exportToExcel(this.getScreenID(),i).then((()=>{this.screenService.update()}))}))}import(){return i.__awaiter(this,void 0,void 0,(function*(){const e=this.getViewName();if(!e)return;this.cancelActiveRowChanges();const t={id:this.id,viewName:e,graphType:this.screenService.getGraphInfo().graphType};return yield k.ImportRecordsDialog.Execute(this.container,t)}))}refresh(e=!1){return i.__awaiter(this,void 0,void 0,(function*(){return this.getRows(!1,e)}))}search(e,t){null!=e&&this.config.pagerMode!==y.GridPagerMode.InfiniteScroll&&(this.searchField=t,this.searchValue=e,this.setPageIndex(0),this.refresh(),this.config.pagerMode>1&&this.clearSearch())}getQueryParams(e,t=!1){var i;const n=this.config.generateColumns===y.GridColumnGeneration.Recreate||this.config.generateColumns===y.GridColumnGeneration.Append||this.config.generateColumns===y.GridColumnGeneration.AppendDynamic,r=T.defaultColumnConfig,o=(n?this.config.columns:this.columns).map((e=>{var t,i;const n=null===(t=this.changedPrefs.get((0,f.getColumnKey)(e)))||void 0===t?void 0:t.visible,o=this.manualColumnsConfig[(0,f.getColumnKey)(e)],a=null!==(i=null==o?void 0:o.allowShowHide)&&void 0!==i?i:e.allowShowHide!==r.allowShowHide?e.allowShowHide:void 0;return{field:e.field,key:e.key,fullState:e.fullState,visible:n,type:e.type===r.type?void 0:e.type,allowFastFilter:null==o?void 0:o.allowFastFilter,allowShowHide:a,sortDirection:e.sortDirection,generated:e.generated,nullText:e.nullText,format:null==o?void 0:o.format,timeMode:null==o?void 0:o.timeMode,suppressExport:e.suppressExport,textField:null==o?void 0:o.textField,displayMode:null==o?void 0:o.displayMode}})),a=t?this.rows.length:0,l=this.config,d=l.allowStoredFilters?void 0:this.columns.filter((e=>null!=e.filter)).map((e=>e.filter));let c=!1;this.needAdjustPage()&&(this.pageAdjusted?this.adjustPageSize():c=!0);const p=null===(i=null==e?void 0:e.commitChanges)||void 0===i||i;this.config.generateColumns&&(this.awaitColsGeneration=!0);return Object.assign(Object.assign({},this.getBaseQueryParams()),{columns:o,refreshColumns:!this.layoutLoaded||n,generateColumns:l.generateColumns,generateColumnsAfterSelect:l.generateColumnsAfterSelect,generateProcessColumns:l.generateProcessColumns,suppressSelection:c||this.suppressSelection,pagerMode:l.pagerMode,startRow:a,searchValue:this.searchValue,searchField:this.searchField,dataKey:l.syncPosition?this.getRowDataKey(this.getActiveRow()):void 0,pageIndex:this.pageIndex,pageSize:l.pageSize,parameters:l.parameters,preserveSortsAndFilters:l.preserveSortsAndFilters,syncPosition:l.syncPosition,suppressNoteFiles:l.suppressNoteFiles,refreshFilters:!1!==l.allowStoredFilters&&!this.filtersLoaded,fastFilterByAllFields:l.fastFilterByAllFields,fastFilter:this.fastFilter,filterID:this.filterID,filterRows:d,quickFilterFields:this.isAllRecordsFilter()?l.quickFilterFields:void 0,filterView:l.filterView,filterRowsView:l.filterRowsView,changes:p?this.getDataChanges():void 0,isRequestOwner:(null==e?void 0:e.requestOwner)===this.id,gridDataUrl:this.config.gridDataUrl,dataField:this.config.dataField})}getDataChanges(){var e;let t;return this.commitActiveRowChanges(!1),null===(e=this.rows)||void 0===e||e.forEach(((e,i)=>{var n;if(!e.status||e.status===y.GridRowStatus.New)return;const r=e.id&&(null===(n=this.additionalRowChanges)||void 0===n?void 0:n[e.id])||{id:e.id,index:i,values:[]};for(const t in e.cells){const i=e.cells[t],n=this.dataKeyNames.includes(t);(i.changed||i.errorLevel===y.PXErrorLevel.Error||n)&&r.values.push({field:t,value:(0,f.getRawCellValue)(i.value),oldValue:n?(0,f.getRawCellValue)(i.oldValue):void 0})}switch(t||(t={}),e.status){case y.GridRowStatus.Deleted:t.deleted||(t.deleted=[]),t.deleted.push(r);break;case y.GridRowStatus.Inserted:t.inserted||(t.inserted=[]),t.inserted.push(r);break;case y.GridRowStatus.Modified:t.modified||(t.modified=[]),t.modified.push(r)}})),this.additionalRowChanges=void 0,t}setComponentData(e,t=!1){var i,n,r,o;if(e.commitResult)return void this.applyCommitResult(e.commitResult);if(this.suppressSelection)return;const a=this.config;this.columns;if(e.columns?(this.initializeColumns(e.columns),this.initialColumns=this.columns.map((e=>Object.assign({},e))),this.createSubscriptions(),this.subscribeScreenConfigurator(),this.config.generateColumns&&!this.awaitColsGeneration||(this.layoutLoaded=!0,this.awaitColsGeneration=!1),this.allowFastFilter=this.isFastFilterEnabled()):e.colsProps&&(e.colsProps.forEach((e=>{const t=this.getColumn((0,f.getColumnKey)(e));t&&this.copyColumnProps(t,e)})),this.updateInitialColumns()),this.fillPreferences(this.preferencesMode),this.config.autoAdjustColumns&&(this.tq.flushing||this.tq.flushMicroTaskQueue(),this.adjustColumns(!1)),a.hidden=e.hidden,void 0!==e.allowUpdate&&(this.allowUpdate=e.allowUpdate&&!1!==a.allowUpdate),void 0!==e.allowDelete&&(this.allowDelete=e.allowDelete&&!1!==a.allowDelete),void 0!==e.allowInsert&&(this.allowInsert=e.allowInsert&&!1!==a.allowInsert),void 0!==e.allowImport&&(this.allowImport=e.allowImport&&!1!==a.allowImport),void 0!==e.allowStoredFilters&&!1!==a.allowStoredFilters&&(a.allowStoredFilters=e.allowStoredFilters,this.filterBarConfig.allowStoredFilters=e.allowStoredFilters),this.filterBarConfig.showFastFilter=this.allowFastFilter&&this.config.showFastFilter===y.GridFastFilterVisibility.FilterBar,e.dataKeyNames&&(this.dataKeyNames=e.dataKeyNames),(null===(i=e.quickFilterFields)||void 0===i?void 0:i.length)&&(this.config.quickFilterFields=e.quickFilterFields),void 0!==e.fastFilter&&(this.fastFilter=e.fastFilter),a.allowStoredFilters&&this.syncFiltersState(e),this.needAdjustPage()&&!this.pageAdjusted&&this.layoutLoaded)return this.adjustPageSize(),void(!this.screenService.initialized&&this.screenService.isValid||this.tq.queueTask((()=>this.getRows())));if(this.totalRowCount=e.totalRowCount,this.pageIndex=null!==(n=e.pageIndex)&&void 0!==n?n:0,this.isFirstPage=e.isFirstPage,this.isLastPage=e.isLastPage,this.pagesCount=this.getPagesCount(),this.endEdit(!0),this.rows=t?this.rows.concat(e.rows):e.rows?e.rows:[],this.setActiveRowFlag(this.activeRowIndex,!0),this.rowsHidden=!1,this.updateRowsCount=!this.updateRowsCount,this.adjustActiveRowIndex(),this.setTopBarButtonsState(),this.setPagerButtonsState(),this.searchValue&&(0===this.pageIndex||-1===this.pageIndex)){const e=this.getSearchField();e&&this.findRow(e,this.searchValue)}e.clearSearch&&this.clearSearch(),this.linkedWithView()&&(null===(r=this.view)||void 0===r||r.setRows(this.rows,this.columns),null===(o=this.view)||void 0===o||o.setActiveRow(this.hasRows?this.activeRowIndex:void 0)),this.fireActiveRowChanged(),this.tq.flushMicroTaskQueue(),this.tq.flushTaskQueue(),this.config.autoAdjustColumns&&this.adjustColumns(!1),this.restoreScrollPosition(),this.onDataReady&&this.onDataReady({grid:this,args:new QpGridEventArgs(this)}),this.needAdjustPage()&&this.layoutLoaded&&this.tq.queueTask((()=>this.adjustPage()))}applyCommitResult(e){var t,i,n;null===(t=e.inserted)||void 0===t||t.forEach((e=>this.commitRowChanges(e))),null===(i=e.modified)||void 0===i||i.forEach((e=>this.commitRowChanges(e)));let r=!1;null===(n=e.deleted)||void 0===n||n.reverse().forEach((e=>{e.affected?(this.deleteRow(e.index),r=!0):this.commitRowChanges(e)})),!this.adjustActiveRowIndex()&&r&&this.fireActiveRowChanged(),this.setTopBarButtonsState()}commitRowChanges(e,t){var i;const n=t||this.rows[e.index];if(null==n)return;const r=this.checkActiveCellEditorChanges(),o=this.rowIsWaitingForUpdate(n);o&&(delete n.waitRefetch,delete n.waitInit);const a=this.editMode&&e.index===this.activeRowIndex&&this.linkedWithView()&&this.view;for(const t in e.cells){const i=e.cells[t],r=n.cells[t],l=r.cellText,d=r.value;o&&r.manualInput&&(i.value=d,i.cellText=l),a&&i.hasOwnProperty("value")&&this.setActiveRowFieldValue(t,i.value);const c=this.getColumn(t);(null==c?void 0:c.state)&&Object.assign(r,c.state),Object.assign(r,i)}this.editMode&&e.index===this.activeRowIndex&&!r&&(this.updateEditorState=!this.updateEditorState,null===(i=this.inlineEditorVM)||void 0===i||i.selectContent()),this.editMode&&e.index===this.activeRowIndex&&this.config.autoRepaint&&(this.currentDataKey=this.getRowDataKey(n)),o||this.clearRowManualInput(n),this.clearRowChanges(n),n.status!==y.GridRowStatus.New&&(n.status=y.GridRowStatus.NotSet),n.error=e.error,n.errorLevel=e.errorLevel,this.forceRepaintRow(),this.view.fireRowsChanged()}syncFiltersState(e){var t;this.filtersLoaded;e.filters&&(this.filters=e.filters,this.setFavoriteInFilters(),null===(t=this.onFiltersChanged)||void 0===t||t.call(this,{args:new QpGridEventArgs(this)}),this.isSharedFiltersEditable=e.isSharedFiltersEditable,this.filtersLoaded=!0,this.filterBarConfig&&(this.filterBarConfig.isSharedEditable=this.isSharedFiltersEditable)),null!=e.filterID&&(this.filterID=e.filterID),null==this.filterID&&this.filters.length>0&&(this.filterID=this.filters[0].filterID),this.isDirtyFilter=e.isDirtyFilter,this.filterRows=e.filterRows||[],this.hasFilter=this.filterRows.some((e=>!(0,f.isEmptyFilter)(e))),this.isAdvancedFilter=(0,f.isAdvancedFilter)(this.filterRows),this.columns.forEach((e=>this.setColumnFilter(e)))}setFavoriteInFilters(){var e;const t=this.preferencesManager.favoriteFilters;null===(e=this.filters)||void 0===e||e.forEach((e=>e.isFavorite=null==t?void 0:t.includes(e.filterID)))}initializeColumns(e){const t=this.columns,i=this.config.generateColumns;i&&t.splice(0,t.length),this.config.suppressNoteFiles&&(e=e.filter((e=>e.key!==this.NotesKey&&e.key!==this.FilesKey))),this.onFilterColumns&&(e=e.filter((e=>this.onFilterColumns({col:e}))));const n=t.length>0;e.forEach(((e,r)=>{var o;const a=this.getColumn((0,f.getColumnKey)(e));if(a){const i=t.indexOf(a);i!==r&&(r>i&&r--,t.splice(r,0,t.splice(i,1)[0])),this.copyColumnInitialProps(a,e),this.copyColumnProps(a,e)}else if(i!==y.GridColumnGeneration.None||!n||e.generated){(0,C.applyDefaultValues)(e,T.defaultColumnConfig);const i=this.getColumnConfig(e);i&&(this.needSyncVisibleWithState(i)||(null===(o=e.state)||void 0===o?void 0:o.skip)||(e.visible=!0),Object.assign(e,i),this.updateManualColumnConfig((0,f.getColumnKey)(e),i)),t.splice(r>t.length?t.length:r,0,e)}}))}copyColumnInitialProps(e,t){const i=this.manualColumnsConfig[(0,f.getColumnKey)(e)];void 0!==t.type&&void 0===(null==i?void 0:i.type)&&(e.type=t.type),void 0!==t.caption&&void 0===(null==i?void 0:i.caption)&&(e.caption=t.caption),void 0!==t.dataType&&(e.dataType=t.dataType),void 0!==t.width&&void 0===(null==i?void 0:i.width)&&(e.width=t.width),void 0!==t.textAlign&&void 0===(null==i?void 0:i.textAlign)&&(e.textAlign=t.textAlign),void 0!==t.timeMode&&void 0===(null==i?void 0:i.timeMode)&&(e.timeMode=t.timeMode),void 0!==t.dateMask&&void 0===(null==i?void 0:i.dateMask)&&(e.dateMask=t.dateMask),void 0!==t.viewName&&(e.viewName=t.viewName),void 0!==t.maxLength&&void 0===(null==i?void 0:i.maxLength)&&(e.maxLength=t.maxLength),void 0!==t.valueItems&&void 0===(null==i?void 0:i.valueItems)&&(e.valueItems=t.valueItems),void 0!==t.commitChanges&&void 0===(null==i?void 0:i.commitChanges)&&(e.commitChanges=t.commitChanges),void 0!==t.allowNull&&(e.allowNull=t.allowNull),void 0!==t.allowFastFilter&&void 0===(null==i?void 0:i.allowFastFilter)&&(e.allowFastFilter=t.allowFastFilter),void 0!==t.allowShowHide&&void 0===(null==i?void 0:i.allowShowHide)&&(e.allowShowHide=t.allowShowHide),void 0!==t.generated&&(e.generated=t.generated),void 0!==t.suppressExport&&void 0===(null==i?void 0:i.suppressExport)&&(e.suppressExport=t.suppressExport),e.state||this.initColumnState(e,t.state)}copyColumnProps(e,t){const i=this.manualColumnsConfig[(0,f.getColumnKey)(e)];void 0!==t.visible&&this.needSyncVisibleWithState(e)&&(e.visible=t.visible),void 0!==t.required&&(e.required=t.required),void 0!==t.allowUpdate&&(e.allowUpdate=t.allowUpdate),void 0!==t.format&&void 0===(null==i?void 0:i.format)&&(e.format=t.format),void 0!==t.decimals&&void 0===(null==i?void 0:i.decimals)&&(e.decimals=t.decimals),void 0!==t.sortDirection&&(e.sortDirection=t.sortDirection),void 0!==t.valueItems&&(e.valueItems=t.valueItems),this.updateColumnState(e,t)}initColumnState(e,t){var i;if(e.state=(0,y.createFieldState)(void 0,e.field,null!==(i=null==t?void 0:t.stateType)&&void 0!==i?i:"default",null==t?void 0:t.args),t&&(Object.assign(e.state,t),e.state.applyOptions(),e.state.skip&&(e.visible=!1,e.allowShowHide=y.GridColumnShowHideMode.Client)),this.view){const t=this.view.getMetadataKeys(e.field);t&&t.forEach((t=>e.state[t]=this.view.getMetadata(e.field,t)))}}updateColumnState(e,t){e.state&&(void 0!==t.visible&&this.needSyncVisibleWithState(e)&&(e.state.visible=t.visible),void 0!==t.required&&(e.state.required=t.required),void 0!==t.allowUpdate&&(e.state.readOnly=!t.allowUpdate),void 0!==t.format&&(e.state.inputMask=t.format),void 0!==t.decimals&&(e.state.precision=t.decimals))}getColumnConfig(e){var t,i;const n=(0,f.getColumnKey)(e),r=null===(t=this.config.columnsConfig)||void 0===t?void 0:t.find((e=>(0,C.compareStrings)((0,f.getColumnKey)(e),n,!0)));e.state&&this.initColumnState(e,e.state);const o=null===(i=e.state)||void 0===i?void 0:i.columnConfig;return r||o?Object.assign(Object.assign({},r),o):void 0}needSyncVisibleWithState(e){return e.allowShowHide!==y.GridColumnShowHideMode.Client&&e.allowShowHide!==y.GridColumnShowHideMode.False}updateManualColumnConfig(e,t){if(t){let i=this.manualColumnsConfig[e];i||(this.manualColumnsConfig[e]=i={field:e}),Object.assign(i,t)}}getMoreRows(e,t,i){this.config.pagerMode===y.GridPagerMode.InfiniteScroll&&t&&!this.isLastPage&&this.getRows(!0)}rowsChanged(){const e=this.elemContentWrap;e&&this.tq.queueMicroTask((()=>this.hasVScroll=e.scrollHeight>e.offsetHeight))}get hasRows(){return this.rows&&this.rows.length>0}get isInfiniteScrollAllowed(){return this.config.pagerMode===y.GridPagerMode.InfiniteScroll&&!this.config.adjustPageSize}get isFilterBarAllowed(){return!!this.config.allowFilter&&!!this.config.showFilterBar&&!!this.config.allowStoredFilters}get showBottomBar(){return this.showPager||this.showRecordsCounter||!!this.statusText}get showPager(){var e;let t=this.config.pagerMode!==y.GridPagerMode.InfiniteScroll&&(null!==(e=this.config.pageSize)&&void 0!==e?e:0)>=0;return t&&!this.config.adjustPageSize&&(t=!this.isFirstPage||!this.isLastPage),t}get showRecordsCounter(){return this.config.pagerMode===y.GridPagerMode.Numeric&&this.hasRows}adjustPagerMode(){this.isInfiniteScrollAllowed||this.config.pagerMode!==y.GridPagerMode.InfiniteScroll||(this.config.pagerMode=T.defaultConfig.pagerMode)}get gridId(){return this.getViewName()||this.id}getColumn(e){return this.columns.find((t=>(0,C.compareStrings)((0,f.getColumnKey)(t),e,!0)))}getColumnIndex(e){return this.columns.findIndex((t=>(0,C.compareStrings)((0,f.getColumnKey)(t),e,!0)))}getColumnVisibleIndex(e){return this.visibleCols.findIndex((t=>(0,C.compareStrings)((0,f.getColumnKey)(t),e,!0)))}getColumnKey(e){return(0,f.getColumnKey)(e)}getColumnDisplayText(e,t){return(0,f.getColumnDisplayText)(e,t)}focus(){this.elemContentWrap.focus()}setSortDirection(e,t){this.columns.forEach((t=>{t!==e&&(t.sortDirection=void 0)})),this.clearSearch(),e.sortDirection=t,this.refresh()}switchSortDirection(e){if(this.config.allowSort&&(null==e?void 0:e.allowSort)){let t=e.sortDirection;switch(e.sortDirection){case y.SortDirection.Ascending:t=y.SortDirection.Descending;break;case y.SortDirection.Descending:t=y.SortDirection.None;break;default:t=y.SortDirection.Ascending}this.setSortDirection(e,t)}}selectRowsRange(e,t){if(void 0!==t&&t<e){const i=e;e=t,t=i}let i=e;do{this.setRowSelected(i++,!0)}while(void 0!==t&&i<=t)}setRowSelected(e,t){const i=this.rows[e],n=!!(null==i?void 0:i.selected);i&&t!==n&&(i.selected=t,this.forceRepaintRow(e))}clearRowsSelection(){var e;null===(e=this.rows)||void 0===e||e.forEach(((e,t)=>{e.selected&&(e.selected=!1,this.forceRepaintRow(t))}))}saveLayout(){var e,t,n;return i.__awaiter(this,void 0,void 0,(function*(){if(!this.linkedWithView())return;const i=this.viewMode===x.ViewMode.Edit?null===(e=this.preferences)||void 0===e?void 0:e.def:null===(t=this.preferences)||void 0===t?void 0:t.user;let r=0;const o=null===(n=this.columns)||void 0===n?void 0:n.map((e=>{var t,n,o,a,l,d,c,p,u;const h=(0,f.getColumnKey)(e),g=null!==(n=null===(t=this.changedPrefs.get(h))||void 0===t?void 0:t.visible)&&void 0!==n?n:null===(o=this.getColumnPreferences(e,null==i?void 0:i.columns))||void 0===o?void 0:o.visible,m=null!==(l=null===(a=this.changedPrefs.get(h))||void 0===a?void 0:a.skipTab)&&void 0!==l?l:null===(d=this.getColumnPreferences(e,null==i?void 0:i.columns))||void 0===d?void 0:d.skipTab,v=null!==(p=null===(c=this.changedPrefs.get(h))||void 0===c?void 0:c.width)&&void 0!==p?p:null===(u=this.getColumnPreferences(e,null==i?void 0:i.columns))||void 0===u?void 0:u.width;return{dataField:h,visible:g,order:r++,width:v,sortOrder:e.sortDirection,skipTab:m}})),a=new GridPreferences;a.columns=o,this.isSavingLayout=!0,this.viewMode===x.ViewMode.Edit?(this.preferencesService.setPreferences(this.gridId,a,"def"),this.isSavingLayout=!1):this.preferencesService.saveUserPreferences(this.getScreenID(),this.gridId,a).then((e=>{e&&(this.changedPrefs.clear(),this.config.autoAdjustColumns&&this.adjustColumns(!1))})).finally((()=>this.isSavingLayout=!1))}))}resetLayout(){return i.__awaiter(this,void 0,void 0,(function*(){this.linkedWithView()&&this.hasSavedLayout&&(this.viewMode===x.ViewMode.Edit?(this.preferencesService.setPreferences(this.gridId,new GridPreferences,"def"),this.changedPrefs.clear()):(yield this.preferencesService.saveUserPreferences(this.getScreenID(),this.gridId,new GridPreferences),this.changedPrefs.clear(),this.needAdjustPage()?this.adjustPage():this.config.autoAdjustColumns&&this.adjustColumns(!1)))}))}navigate(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const i=Object.assign(Object.assign(Object.assign({},this.getBaseQueryParams()),{syncPosition:this.config.syncPosition,parameters:this.config.parameters,dataKey:this.config.syncPosition?this.getRowDataKey(this.getActiveRow()):void 0}),{field:e.field,value:(0,f.getRawCellValue)(t)});if(i.dataView=i.view,i.view=e.viewName,i.field&&i.value){const e=yield this.apiClient.navigate(this.getScreenID(),i);e&&this.redirector.openUrl(e,"",!1,!0)}}))}adjustActiveRowIndex(){if(this.hasRows){if(this.activeRowIndex<0)this.activeRowIndex=0;else if(this.activeRowIndex>=this.rows.length)return this.setActiveRowIndex(this.rows.length-1),!0}else this.activeRowIndex=-1;return!1}adjustActiveCellIndex(){var e;(0===this.activeCellIndex||this.activeCellIndex>=(null===(e=this.visibleCols)||void 0===e?void 0:e.length))&&(this.activeCellIndex=this.getAdjoiningCellIndex(!1,-1)||0)}setActiveRowIndex(e,t=!1,i){var n;if(e!==this.activeRowIndex){if(!this.onBeforeRowChange(e))return;if(t){const t=this.getRowElem(e);if(t)this.scrollIntoView(t,y.ScrollMode.Vertical);else{const t=this.elemRows.querySelector("tr[data-index]");t&&(this.elemContentWrap.scrollTop=t.offsetHeight*e,this.tq.flushMicroTaskQueue())}}this.activeRowIndex=e,void 0!==i&&(this.activeCellIndex=i),this.setTopBarButtonsState(),this.linkedWithView()&&(null===(n=this.view)||void 0===n||n.setActiveRow(this.activeRowIndex)),this.fireActiveRowChanged()}else void 0!==i&&this.setActiveCellIndex(i,t)}onBeforeRowChange(e){return this.editMode&&this.commitActiveRowChanges(),!0}fireActiveRowChanged(){let e;if(this.onActiveRowChanged&&this.onActiveRowChanged({args:new QpGridEventArgs(this)}),this.config.autoRepaint instanceof y.ScreenUpdateParams?e=this.config.autoRepaint:this.config.autoRepaint&&(e=new y.ScreenUpdateParams({views:this.config.autoRepaint})),e&&this.screenService.initialized){const t=this.getRowDataKey(this.getActiveRow());if(JSON.stringify(this.currentDataKey)!==JSON.stringify(t)){const i=this.getViewName();if(i&&e.views){e.views.find((e=>(0,C.compareStrings)(e,i,!0)))||e.views.push(i)}this.currentDataKey=t,this.suppressSelection=!0,this.screenService.update(void 0,e).finally((()=>this.suppressSelection=!1))}}}getActiveRow(){return this.hasRows?this.rows[this.activeRowIndex]:void 0}getActiveCell(){var e;const t=this.getActiveColumn();return t?null===(e=this.getActiveRow())||void 0===e?void 0:e.cells[t.field]:void 0}getActiveColumn(){return this.visibleCols[this.activeCellIndex]}getCell(e,t){return null==t?void 0:t.cells[this.getColumnKey(e)]}setActiveCellIndex(e,t=!0){if(this.activeCellIndex!==e){if(!this.onBeforeCellChange(e))return;if(t){const t=this.getRowElem(this.activeRowIndex),i=0===e||!this.getAdjoiningCellIndex(this.editMode,e,!0),n=null==t?void 0:t.cells[i?0:this.getColumnCellIndex(e)];this.scrollIntoView(n)}this.activeCellIndex=e,this.setTopBarButtonsState()}}onBeforeCellChange(e){return this.editMode&&this.commitActiveCellChanges(!0),!0}getNextRowIndex(){let e=this.activeRowIndex;return e<this.rows.length-1?++e:void 0}getPrevRowIndex(){let e=this.activeRowIndex;return e>0?--e:void 0}getNextCellIndex(e=!1){return this.getAdjoiningCellIndex(e,this.activeCellIndex,!1)}getPrevCellIndex(e=!1){return this.getAdjoiningCellIndex(e,this.activeCellIndex,!0)}getAdjoiningCellIndex(e,t,i=!1){const n=i?-1:1;let r,o=t;const a=this.getActiveRow();for(;i&&o>0||!i&&o<this.visibleCols.length-1;){r=this.visibleCols[o+=n];const t=this.getCell(r,a);if(r.allowFocus&&(!e||!this.isCellReadOnly(t,r)&&!r.skipTab))break}return o===t||!(null==r?void 0:r.allowFocus)||(null==r?void 0:r.skipTab)?void 0:o}beginEdit(){if(!this.editMode&&this.activeRowIndex>=0){const e=this.isNewRowActive;(e&&this.allowInsert||!e&&this.allowUpdate)&&(this.editMode=!0,this.view&&(this.view.viewInUpdateProcess=!0))}}endEdit(e=!1){this.editMode&&(e?this.cancelActiveRowChanges():this.commitActiveRowChanges(),this.exitEditMode(),this.adjustActiveRowIndex())}exitEditMode(e=!0){this.editMode&&(this.editMode=!1,this.view&&(this.view.viewInUpdateProcess=!1),this.activeCellState=void 0,e&&this.focus())}cancelActiveRowChanges(){const e=this.getActiveRow();e&&this.editMode&&(e.status===y.GridRowStatus.New?this.deleteActiveRow(!1):this.clearRowChanges(e,!0))}commitActiveRowChanges(e){const t=this.getActiveRow();if(t&&this.editMode){this.commitActiveCellChanges();let i=t.changed;i&&t.waitRefetch&&(i=this.rowHasManualInputChanges(t)),i?this.updateActiveRow(e):t.status===y.GridRowStatus.New&&this.deleteActiveRow(!1,e)}}commitActiveCellChanges(e=!1){const t=this.activeCellState;if(!this.editMode||!t||t.readOnly)return;const i=this.getActiveRow(),n=this.getActiveColumn();i&&n&&(this.forceCellEditorUpdate(),this.updateCellValue(i,n,t.value,e))}checkActiveCellEditorChanges(){const e=this.activeCellState;if(!this.editMode||!e||e.readOnly)return!1;const t=this.getActiveRow(),i=this.getActiveColumn();if(t&&i&&this.rowIsWaitingForUpdate(t)){const n=t.cells[(0,f.getColumnKey)(i)];if(!n||n.readOnly)return!1;this.forceCellEditorUpdate();const r=this.getTypedCellValue(n,i);if(n&&!this.valuesEquals(r,e.value))return n.manualInput=!0}return!1}clearRowChanges(e,t=!1){let i=!1;for(const n of this.visibleCols){const r=e.cells[(0,f.getColumnKey)(n)];r.changed&&(t&&this.cancelCellChanges(r,n),r.manualInput?i=!0:(delete r.oldValue,delete r.changed))}i||delete e.changed}cancelCellChanges(e,t){void 0!==e.oldValue&&this.setCellValue(e,t,e.oldValue),delete e.manualInput}updateCellValue(e,t,i,n=!1){const r=e.cells[(0,f.getColumnKey)(t)];if(!r||this.isCellReadOnly(r,t))return!1;const o=this.getTypedCellValue(r,t);if(r&&!this.valuesEquals(o,i)){void 0===r.oldValue&&(r.oldValue=o),r.changed=e.changed=!0;const a=this.rowIsWaitingForUpdate(e);return this.setCellValue(r,t,i),a&&(r.manualInput=!0),n&&t.commitChanges&&this.updateRow(e),!0}return!1}setCellValue(e,t,i){e.value=i,e.cellText=(0,f.getColumnDisplayText)(t,i,e),this.setActiveRowFieldValue(t.field,i)}switchCheckState(e,t,i){this.cellIsCheckBox(e,t)&&!this.isCellReadOnly(e,t)&&(this.editMode?this.updateCellValue(i,t,!e.value,!0):(t.allowCheckAll||this.allowUpdate)&&this.updateCellValue(i,t,!e.value)&&this.updateRow(i))}switchColumnCheckState(e,t){var i;if(!e.allowUpdate)return;let n=!1;const r=this.config.batchUpdate;e.checked=void 0!==t?t:!e.checked,this.config.batchUpdate||(this.config.batchUpdate=!0,this.isMassUpdating=!0),null===(i=this.rows)||void 0===i||i.forEach((t=>{this.updateCellValue(t,e,e.checked)&&(this.updateRow(t),n=!0)})),this.config.batchUpdate=r,this.isMassUpdating=void 0,n&&!r&&this.updateScreen()}setActiveRowFieldValue(e,t){var i,n;if(!this.linkedWithView()||!(null===(n=null===(i=this.view)||void 0===i?void 0:i.activeRow)||void 0===n?void 0:n.hasOwnProperty(e)))return;const r=this.view.activeRow[e];r&&(r.value=t)}forceCellEditorUpdate(){this.updateEditorValue=!0,this.tq.flushing||this.tq.flushMicroTaskQueue(),this.updateEditorValue=!1}getCurrentEditorType(){var e;return null===(e=this.inlineEditorVM)||void 0===e?void 0:e.getControlType()}clearRowManualInput(e){for(const t of this.visibleCols){const i=e.cells[(0,f.getColumnKey)(t)];i&&delete i.manualInput}}rowHasManualInputChanges(e){let t=!1;if(e.changed&&e.waitRefetch)for(const i of this.visibleCols){const n=e.cells[(0,f.getColumnKey)(i)];if(n.changed&&n.manualInput){t=!0;break}}return t}rowIsWaitingForUpdate(e){return!(!e.waitInit&&!e.waitRefetch)}deleteActiveRow(e=!0,t){if(this.hasRows&&this.allowDelete){const i=this.getActiveRow();if(!i)return;void 0===t&&(t=!this.config.batchUpdate),this.editMode&&this.exitEditMode(),this.isClientNewRow(i)?(this.deleteRow(this.activeRowIndex),e&&(this.adjustActiveRowIndex()||this.fireActiveRowChanged())):(i.status=y.GridRowStatus.Deleted,t&&this.updateScreen())}}deleteRow(e){void 0!==e&&e>=0&&(this.rows.splice(e,1),this.setTopBarButtonsState())}deleteSelectedRows(){var e;if(!this.allowDelete)return;if(!this.rows.some((e=>e.selected)))return this.deleteActiveRow();let t=!1;null===(e=this.rows)||void 0===e||e.forEach(((e,i)=>{e.selected&&(this.isClientNewRow(e)?this.deleteRow(i):(e.status=y.GridRowStatus.Deleted,t=!0))})),t&&(this.isMassUpdating=!0,this.updateScreen().finally((()=>this.isMassUpdating=void 0)))}updateActiveRow(e){if(this.allowUpdate){const t=this.getActiveRow();t&&this.updateRow(t,e)}}updateRow(e,t){e&&e.changed&&(void 0===t&&(t=!this.config.batchUpdate),e.status=this.isClientNewRow(e)?y.GridRowStatus.Inserted:y.GridRowStatus.Modified,t&&(this.rowIsWaitingForUpdate(e)||this.clearRowManualInput(e),e.waitRefetch=!0,this.updateScreen()))}updateScreen(){return this.screenService.model.setDirty(),this.screenService.update(void 0,new y.ScreenUpdateParams({requestOwner:this.id}))}removeAllRows(){var e;if((null===(e=this.rows)||void 0===e?void 0:e.length)&&this.allowDelete){for(const e of this.rows)e.status=y.GridRowStatus.Deleted;this.updateScreen()}}addNewRow(e=!0,t=!1){if(!this.allowInsert)return;if(this.screenService.callbackRunning)return void this.screenService.registerPostponedTask((()=>this.addNewRow(e,t)));const i=t?this.activeRowIndex:this.rows.length,n=this.createNewRow();n.index=i,this.rows.splice(i,0,n),this.tq.flushMicroTaskQueue(),t||this.getRowElem(i)||(this.elemContentWrap.scrollTop=this.elemContentWrap.scrollHeight,this.tq.flushMicroTaskQueue());const r=e?this.getAdjoiningCellIndex(!0,-1):void 0;this.setActiveRowIndex(i,!0,r),this.editMode||this.beginEdit(),this.config.initNewRow&&this.initNewRow(),this.setTopBarButtonsState();const o=new CustomEvent("virtual-repeat-scroller-size-changed",{bubbles:!1});this.elemContentWrap.dispatchEvent(o)}createNewRow(){const e={status:y.GridRowStatus.New,cells:{}};return this.columns.forEach((t=>{const i=t.field||t.key;if(i){const n=(0,f.getColumnDefaultValue)(t),r=new y.GridCell;t.state&&Object.assign(r,t.state),r.value=n,r.cellText=(0,f.getColumnDisplayText)(t,n),r.readOnly=!t.allowUpdate,e.cells[i]=r}})),e}initNewRow(){const e=this.getActiveRow();if(e&&e.status===y.GridRowStatus.New){const t=this.columns.map((e=>({field:e.field,key:e.key,type:e.type,fullState:e.fullState,nullText:e.nullText}))),i={id:e.id,index:e.index,values:[]};for(const t in e.cells){const n=e.cells[t];null!=n.value&&i.values.push({field:t,value:n.value})}const n=Object.assign(Object.assign({},this.getBaseQueryParams()),{columns:t,row:i});e.waitInit=!0,this.apiClient.initNewGridRow(this.getScreenID(),n).then((t=>{t&&(e.id=t.id,this.commitRowChanges(t,e))}))}}isClientNewRow(e){return e.status===y.GridRowStatus.New&&!this.config.initNewRow}get isNewRowActive(){const e=this.getActiveRow();return(null==e?void 0:e.status)===y.GridRowStatus.New}get createNewAllowed(){var e;return this.allowInsert&&(!this.isNewRowActive||(null===(e=this.getActiveRow())||void 0===e?void 0:e.changed))}get freeHeight(){return this.elemContentWrap.clientHeight-this.elemRows.clientHeight}get freeWidth(){return this.elemContentWrap.clientWidth-this.elemRows.clientWidth}processEditKeyDown(e){switch(e.key){case"Escape":return this.endEdit(!0),!1;case"Right":case"ArrowRight":case"Left":case"ArrowLeft":case"Home":case"End":case"Insert":case"Delete":case"PageDown":case"PageUp":e.stopPropagation();break;case"Enter":e.ctrlKey?this.endEdit():e.altKey||(this.processEditorTabKey(e.shiftKey),e.stopPropagation());break;case"Tab":return this.processEditorTabKey(e.shiftKey),e.stopPropagation(),!1}return!0}processEditorTabKey(e=!1){var t;let i=e?this.getPrevCellIndex(!0):this.getNextCellIndex(!0);if(void 0===i){const t=e?this.getPrevRowIndex():this.getNextRowIndex();void 0!==t&&t!==this.activeRowIndex&&(i=this.getAdjoiningCellIndex(!0,e?this.visibleCols.length:-1,e),this.setActiveRowIndex(t,!1,i))}void 0!==i?this.setActiveCellIndex(i):!e&&this.allowInsert&&(this.commitActiveCellChanges(),this.isNewRowActive&&!(null===(t=this.getActiveRow())||void 0===t?void 0:t.changed)||this.addNewRow())}processDropDownSelected(e){const t=this.getNextCellIndex(!0);void 0!==t?this.setActiveCellIndex(t):this.commitActiveCellChanges(!0)}getBaseQueryParams(){return{view:this.getViewName()}}getRawCellValue(e){return(0,f.getRawCellValue)(e)}getCellDataType(e,t){var i;return null!==(i=null==e?void 0:e.type)&&void 0!==i?i:t.dataType}isCellReadOnly(e,t){return null!=(null==e?void 0:e.readOnly)?e.readOnly:!t.allowUpdate}cellIsCheckBox(e,t){return this.getCellDataType(e,t)===y.NetType.Boolean}setActiveCellState(e,t){return this.activeCellState=this.getCellState(e,t)}getCellState(e,t){var i,n,r,o,a,l,d;const c=null!==(r=null!==(i=e.stateType)&&void 0!==i?i:null===(n=t.state)||void 0===n?void 0:n.stateType)&&void 0!==r?r:"default",p=null!==(o=null==e?void 0:e.args)&&void 0!==o?o:null===(a=t.state)||void 0===a?void 0:a.args,u=null===(l=this.view)||void 0===l?void 0:l.activeRow,h=(0,y.createFieldState)(void 0,t.field,c,p);Object.assign(h,t.state),Object.assign(h,e),u&&(u.name=this.viewName),h.view=u,h.applyOptions();const g=null===(d=this.view)||void 0===d?void 0:d.getMetadataKeys(t.field);return g&&g.forEach((e=>h[e]=this.view.getMetadata(t.field,e))),(t.displayMode===y.GridColumnDisplayMode.Text||t.textField&&t.displayMode!==y.GridColumnDisplayMode.Both)&&(h.length=0,h.selectorMode|=y.PXSelectorMode.DisplayModeText),h.readOnly=this.isCellReadOnly(e,t),h.value=this.getTypedCellValue(e,t),h}getTypedCellValue(e,t){return e.value&&e.value.id?e.value:(0,f.getTypedValue)(t,e.value,e.type)}valuesEquals(e,t){return(0,C.equals)((0,C.getRawValue)(e),(0,C.getRawValue)(t))}getRowDataKey(e){if(e){const t={};if(this.dataKeyNames)for(const i of this.dataKeyNames){const n=e.cells[i];t[i]=(0,C.getRawValue)(n.value)}return t}}setTopBarButtonsState(){var e,t;if(!this.config.topBarItems&&this.view&&this.view.actionNames){const e={};this.view.actionNames.forEach((t=>{this.view[t]&&(e[t]={config:{state:this.view[t]}})})),this.topBarConfig.items=Object.assign(Object.assign({},e),this.initialTopBarConfigItems)}const i=this.topBarConfig.items;i.delete.config.hidden=!this.allowDelete,i.insert.config.hidden=!this.allowInsert;const n=this.btnToggleFilterConfig;n.pushed=this.showFilterBar,n.images={normal:"svg:main@filter"+(this.hasFilter?"Little":"")},n.images.pushed=n.images.hover=n.images.normal,this.btnToggleFilterVM&&(this.btnToggleFilterVM.pushed=this.showFilterBar,this.btnToggleFilterVM.styleChanged=!this.btnToggleFilterVM.styleChanged),n.text=this.isAllRecordsFilter()?"":null===(e=this.getActiveFilter())||void 0===e?void 0:e.filterName,i.delete.config.disabled=!this.allowDelete||!this.hasRows,i.insert.config.disabled=!this.createNewAllowed,i.exportToExcel.config.disabled=!(null===(t=this.rows)||void 0===t?void 0:t.length),i.import.config.hidden=!(this.allowImport&&(this.allowInsert||this.allowUpdate)),this.applyActionsConfig(i),this.topBarConfig.changed=!0,this.injectToolbarIntoScreenOne(),this.repaintStatusText()}applyActionsConfig(e){if(this.config.actionsConfig)for(const t in this.config.actionsConfig){if(!e[t])continue;const i=this.config.actionsConfig[t];void 0!==i.index&&(e[t].index=i.index),Object.assign(e[t].config,i)}}repaintStatusText(){if(this.config.statusField){const e=this.getActiveRow();this.statusText=e?e.cells[this.config.statusField].cellText:void 0}}getColHeaderIcon(e,t){if(null!=t){let t="control-Filter";switch(e){case y.SortDirection.Ascending:t+="SortAsc";break;case y.SortDirection.Descending:t+="SortDesc"}return t}return null!=e&&e!==y.SortDirection.None?e===y.SortDirection.Ascending?"control-SortAsc":"control-SortDesc":""}getColAlign(e){switch(e){case y.TextAlign.Center:return"center";case y.TextAlign.Right:return"right";case y.TextAlign.Justify:return"justify"}return null}getRowSelectorImage(e,t,i,n,r){if(n&&r){const e=this.getErrorImage(n,r,!0);if(e)return e}let o=this.activeRowIndex===t?"CurrentRow":"";if(this.config.batchUpdate&&!this.isMassUpdating)switch(i){case y.GridRowStatus.New:o="NewRow";break;case y.GridRowStatus.Inserted:o="RowInserted";break;case y.GridRowStatus.Modified:o="RowModified";break;case y.GridRowStatus.Deleted:o="RowDeleted"}return o}getErrorImage(e,t,i){const n=this.getRowErrorInfo(e,t,!i);switch(null==n?void 0:n.level){case y.PXErrorLevel.Error:case y.PXErrorLevel.RowError:return"Error";case y.PXErrorLevel.Warning:case y.PXErrorLevel.RowWarning:return"Warning";case y.PXErrorLevel.RowInfo:return"Info"}}getRowErrorInfo(e,t,i){let n;if(i)switch(t){case y.PXErrorLevel.Error:case y.PXErrorLevel.Warning:n=e}else switch(t){case y.PXErrorLevel.RowError:case y.PXErrorLevel.RowWarning:case y.PXErrorLevel.RowInfo:n=e}return n?{level:t,text:n}:void 0}getRowErrorLevel(e,t,i){var n;return null===(n=this.getRowErrorInfo(e,t,i))||void 0===n?void 0:n.level}getRowErrorText(e,t,i){var n;return null===(n=this.getRowErrorInfo(e,t,i))||void 0===n?void 0:n.text}getCellRenderType(e,t,i){return this.getCellDataType(t,e)===y.NetType.Boolean?"check-box":e.type===y.GridColumnType.Icon?"icon":e.type===y.GridColumnType.HyperLink||this.hasViewLink(e)&&i?"link":"text"}hasViewLink(e){var t;return e.linkCommand||(null===(t=e.state)||void 0===t?void 0:t.linkCommand)||e.viewName&&!e.hideViewLink}getCellCss(e,t){var i,n,r;if(!this.rows||0===this.rows.length||isNaN(e)||e>=this.rows.length||t>=this.visibleCols.length)return"";let o=this.activeCellIndex===t&&this.activeRowIndex===e?this.editMode?"edit":"active":"";const a=this.rows[e],l=this.visibleCols[t],d=(0,f.getColumnKey)(l),c=a.cells[d];if(!c)return o;switch(c.errorLevel){case y.PXErrorLevel.Error:o+=" error";break;case y.PXErrorLevel.Warning:o+=" warning"}const p=this.getColAlign(l.textAlign);if(o+=p?` qp-align-${p}`:" qp-align-left",!0===this.isCellReadOnly(c,l)&&(o+=" read-only"),c.style&&(o+=` ${c.style}`),t<this.visibleCols.length&&e<this.rows.length&&(null===(i=this.view)||void 0===i?void 0:i.cssCustomization.hasCustomCssHandlers(y.CustomEventType.GetCellCss))){const i=null===(n=this.view)||void 0===n?void 0:n.getRowModel(e),a=null===(r=this.view)||void 0===r?void 0:r.cssCustomization.getCustomCellCss(this.view,d,{rowIndex:e,activeRowIndex:this.activeRowIndex,errorLevel:c.errorLevel,error:c.error,row:i,cellValue:this.getTypedCellValue(c,this.visibleCols[t])});a&&(o+=` ${a}`)}return o}getRowCss(e){var t,i,n,r,o;if(!this.rows||0===this.rows.length)return"";let a=this.activeRowIndex===e?this.editMode?"edit":"active":"";const l=null===(t=this.rows[e])||void 0===t?void 0:t.style;if(l&&(a+=` ${l}`),(null===(i=this.rows[e])||void 0===i?void 0:i.selected)&&(a+=" selected"),e<this.rows.length&&(null===(n=this.view)||void 0===n?void 0:n.cssCustomization.hasCustomCssHandlers(y.CustomEventType.GetRowCss))){const t=null===(r=this.view)||void 0===r?void 0:r.getRowModel(e),i=null===(o=this.view)||void 0===o?void 0:o.cssCustomization.getCustomCss(y.CustomEventType.GetRowCss,this.view,{rowIndex:e,activeRowIndex:this.activeRowIndex,row:t});i&&(a+=` ${i}`)}return a}fillVisibleColumns(){if(void 0===this.columns)return;const e=this.columns.filter((e=>!1!==e.visible));this.visibleCols.splice(0,this.visibleCols.length,...e),this.adjustActiveCellIndex()}fillPreferences(e,t){var i,n,r;if(!(null===(i=this.columns)||void 0===i?void 0:i.length)||!this.preferences)return;t&&(null===(n=this.initialColumns)||void 0===n?void 0:n.length)&&this.restoreInitialColumns();const o=this.getPreferences(e);(null===(r=null==o?void 0:o.columns)||void 0===r?void 0:r.length)&&this.loadColumnsPreferences(this.columns,o.columns)}markFilterText(e,t){return(0,C.markHighlights)(this.getAllowFastFilter(e)?this.fastFilter:"",t)}getAllowFastFilter(e){let t=e.allowFastFilter;return this.config.fastFilterByAllFields&&void 0===t&&e.dataType===y.NetType.String&&(t=!0),t}isFastFilterEnabled(){return this.columns.some((e=>this.getAllowFastFilter(e)))}focusFastFilter(){var e,t;this.topBarFastFilter?null===(e=this.topBarFastFilter.elemText)||void 0===e||e.focus():null===(t=this.filterBarVM)||void 0===t||t.focusFastFilter()}getColumnCellIndex(e){const t="string"==typeof e?this.getColumnVisibleIndex(e):e;return this.config.showRowSelectors?t+1:t}getRowElem(e){return this.elemRows.querySelector(`tr[data-index="${e}"]`)}getColHeaderElem(e){const t="string"==typeof e?void 0:e;return this.elemHeaderTable.tHead.rows[0].cells[this.getColumnCellIndex(null!=t?(0,f.getColumnKey)(t):e)]}scrollIntoView(e,t=y.ScrollMode.Both){e&&(0,C.scrollToView)(this.elemContentWrap,e,t)}fireDefaultAction(){this.onDefaultAction&&this.onDefaultAction({args:new QpGridEventArgs(this)})}execDefaultAction(){this.allowUpdate?this.beginEdit():this.config.defaultAction?this.screenService.executeCommand(this.config.defaultAction):this.fireDefaultAction()}isCellLeftPart(e){let t=e.target;"TH"!==t.tagName&&(t=t.parentElement);const i=t.getBoundingClientRect();return e.clientX+1<i.left+i.width/2}createFakeRow(){const e={cells:{},fake:!0};return this.columns.forEach((t=>{var i,n;const r=t.type===y.GridColumnType.Icon;let o=r?"control@RowNote":"abc";r&&(null===(n=null===(i=t.valueItems)||void 0===i?void 0:i.items)||void 0===n?void 0:n.length)&&(o=(0,f.getColumnDisplayText)(t,(0,f.getTypedValue)(t,t.valueItems.items[0].value)));const a=new y.GridCell;a.value="1",a.cellText=o,a.readOnly=!0,e.cells[(0,f.getColumnKey)(t)]=a})),this.rows=[e],e}clearSearch(){this.searchField=void 0,this.searchValue=void 0}getSearchField(){return this.searchField?this.searchField:this.dataKeyNames?this.dataKeyNames[this.dataKeyNames.length-1]:void 0}findRow(e,t){if(!e||!this.rows)return-1;const i=this.getColumn(e);if(!i)return-1;const n=(0,C.netTypeConvert)(t,i.dataType);let r=!1;const o=i.dataType===y.NetType.String;let a=0;for(;a<this.rows.length;a++){const e=this.rows[a].cells[i.field],t=(0,C.netTypeConvert)((0,C.getRawValue)(e.value),i.dataType);if(r=o?(0,C.compareStrings)(n,t,!0):r=(0,C.equals)(n,t),r)break}return r?(this.setActiveRowIndex(a,!0),a):-1}getActiveFilter(){var e;return null===(e=this.filters)||void 0===e?void 0:e.find((e=>e.filterID===this.filterID))}setActiveFilter(e){this.onFilterApplied(this.fastFilter,e)}getFilters(){return this.filters}isClientFilter(e){const t=e||this.filterID;return!t||t<=m.QpFilterBarCustomElement.minFilterID}isAllRecordsFilter(e){const t=e||this.filterID;return!t||t===m.QpFilterBarCustomElement.clientFilterID}getFilterRow(e){var t;return null===(t=this.filterRows)||void 0===t?void 0:t.slice().reverse().find((t=>(0,C.compareStrings)(t.field,e,!0)))}isEmptyFilter(e){return null==e||null==e.condition||"EQ"===e.condition&&null==e.value}setColumnFilter(e){const t=this.getFilterRow(e.field);e.filter=this.isEmptyFilter(t)?void 0:t}applyFastFilter(e){this.loadingStatus="will-load",clearTimeout(this.debounceState.timeoutId),this.debounceState.timeoutId=setTimeout((()=>{this.onFilterApplied(e.target.value,this.filterID)}),this.debounceState.delay)}applyFilterRow(e,t,i=!1){if(this.config.allowStoredFilters&&this.filterRows){const n=i?void 0:this.getFilterRow(e.field);n?t=(0,f.copyFilterRow)(n,t):t&&(this.isAdvancedFilter&&!(0,f.orOperatorsBraced)(this.filterRows)&&((0,f.addOpenBrackets)(this.filterRows[0],1),(0,f.addCloseBrackets)(this.filterRows[this.filterRows.length-1],1)),this.filterRows.push(t),this.isAdvancedFilter&&(0,f.normalizeBrackets)(this.filterRows))}this.onFilterRowApplied(e,t)}onFilterApplied(e,t){return i.__awaiter(this,void 0,void 0,(function*(){this.fastFilter=e,this.filterID=t,e&&(this.setPageIndex(0),this.clearSearch()),yield this.refresh()}))}onSortApplied(e,t){this.setSortDirection(e,t)}onFilterSave(e,t){this.saveFilter(t,!1,e)}onFilterRemove(e){this.removeFilter(e)}onFilterOrderChanged(){this.saveFiltersOrder()}onFilterFavoriteChanged(e,t){t?this.preferencesManager.addFavouriteFilter(e):this.preferencesManager.deleteFavouriteFilter(e)}onFastFilter(e){return i.__awaiter(this,void 0,void 0,(function*(){yield this.onFilterApplied(e,this.filterID)}))}onFastFilterKeyDown(e){switch(e.key){case"Down":case"ArrowDown":case"Up":case"ArrowUp":case"Enter":case"PageDown":case"PageUp":return this.focus(),this.processKeyDown(e),!1}return!0}onFilterRowApplied(e,t){return i.__awaiter(this,void 0,void 0,(function*(){this.busyCounter.increment();try{e.filter=this.isEmptyFilter(t)?void 0:t,this.config.allowStoredFilters&&(yield this.saveFilter(!1,!0)),this.refresh()}finally{this.busyCounter.decrement()}}))}onFilterRowRemoved(e){return i.__awaiter(this,void 0,void 0,(function*(){e.filter=void 0,yield this.saveFilter(!1,!0),this.refresh()}))}onFilterRowsSetChanged(e){return i.__awaiter(this,void 0,void 0,(function*(){yield this.saveFilter(!1,!0),e&&this.refresh()}))}saveFilter(e=!1,t=!1,n){return i.__awaiter(this,void 0,void 0,(function*(){if(null==n&&(n=this.getActiveFilter()),null==n)return;const i=e||!t,r=i?n.filterName:void 0,o=Object.assign(Object.assign({},this.getBaseQueryParams()),{filterView:this.config.filterView,filterRowsView:this.config.filterRowsView,filterID:n.filterID,filterName:r,isDefault:n.isDefault,isShared:n.isShared,isHidden:n.isHidden,createNew:e,filterRows:t||e?this.filterRows:void 0});return this.apiClient.saveGridFilter(this.getScreenID(),o).then((t=>{var r;if(t){if(e){const e=Object.assign({},n);this.filters.push(e),null===(r=this.onFiltersChanged)||void 0===r||r.call(this,{args:new QpGridEventArgs(this)}),this.filterID=e.filterID=t}else{const e=this.getActiveFilter();null!=e&&Object.assign(e,n)}i&&(this.isDirtyFilter=!1)}}))}))}removeFilter(e){if(this.isClientFilter(e))return;const t=Object.assign(Object.assign({},this.getBaseQueryParams()),{filterView:this.config.filterView,filterRowsView:this.config.filterRowsView,filterID:e});this.apiClient.removeGridFilter(this.getScreenID(),t).then((t=>{var i;if(t){const t=this.filters.findIndex((t=>t.filterID===e));t>=0&&(this.filters.splice(t,1),null===(i=this.onFiltersChanged)||void 0===i||i.call(this,{args:new QpGridEventArgs(this)}),this.setFilterID(this.filters[0].filterID))}}))}saveFiltersOrder(){if(!this.filters||this.filters.length<=1)return;const e=this.filters.slice(1).map((e=>e.filterID)),t=Object.assign(Object.assign({},this.getBaseQueryParams()),{filters:e,filterView:this.config.filterView});this.apiClient.saveGridFiltersOrder(this.getScreenID(),t)}setFilterID(e){this.filterID!==e&&(this.filterID=e,this.refresh())}createColumnFilter(){var e,t;const i=this.getActiveColumn(),n=this.getActiveCell();if(null==i||null==n||!this.filterRows)return;const r=this.getCellDataType(n,i);let o=r===y.NetType.String?"LIKE":"EQ";(null===(t=null===(e=i.valueItems)||void 0===e?void 0:e.items)||void 0===t?void 0:t.length)&&(o="EQ");let a,l=(0,C.getRawValue)(this.getTypedCellValue(n,i));if(r===y.NetType.DateTime){const e="17",t="16";if(i.dateMask&&(i.dateMask.indexOf(e)>-1||i.dateMask.indexOf(t)>-1)){o="BETWEEN";const e=new Date(l).setSeconds(0,0),t=e+6e4;l=(0,C.getInvariantDate)(new Date(e)),a=(0,C.getInvariantDate)(new Date(t))}else l=(0,C.getInvariantDate)(new Date(l),!1)}let d=this.filterRows.slice().reverse();const c=this.filterRows.find((e=>!!e.openBrackets));if(c){const e=d.findIndex((e=>(e.closeBrackets||0)>0));d=e>0?this.filterRows.slice(-e).reverse():void 0}let p=null==d?void 0:d.find((e=>(0,C.compareStrings)(e.field,i.field,!0)&&e.condition===o));if(p||(p=null==d?void 0:d.find((e=>(0,C.compareStrings)(e.field,i.field,!0)))),p)this.valuesEquals(l,p.value)?((0,f.removeFilterRow)(this.filterRows,p),(0,f.normalizeBrackets)(this.filterRows),this.onFilterRowApplied(i,void 0)):(p.condition=o,p.value=l,p.value2=a,this.onFilterRowApplied(i,p));else{const e=new y.GridFilterRow;e.field=(0,f.getColumnKey)(i),e.condition=o,e.value=l,e.value2=a,this.applyFilterRow(i,e,!0)}}processRowsScroll(e){this.elemHeaderWrap.scrollLeft=this.elemContentWrap.scrollLeft}processSelectStart(e){e.preventDefault()}processHeaderCornerClick(e){const t=this.columns,i={id:`${this.config.id}_columns_dialog`,attachTo:this.elemHeaderTable,columns:[...t],hasSavedLayout:this.hasSavedLayout,allowSkipTabs:!!this.config.allowSkipTabs},n=new Map(t.map((e=>[(0,f.getColumnKey)(e),e.visible]))),r=new Map(t.map((e=>[(0,f.getColumnKey)(e),e.skipTab])));this.dialogService.open({viewModel:"client-controls/controls/compound/grid/dialogs/columns-dialog",model:i,lock:!1,childContainer:this.container.createChild()}).whenClosed((e=>{e.wasCancelled||("reset"===e.output?this.resetLayout():(t.splice(0,t.length,...e.output),t.forEach((e=>{e.visible!==n.get((0,f.getColumnKey)(e))&&(this.getChangedPref(e).visible=e.visible),e.skipTab!==r.get((0,f.getColumnKey)(e))&&(this.getChangedPref(e).skipTab=e.skipTab)})),this.focus(),this.saveLayout()))}))}processHeadMouseOver(e,t){this.setResizeHandlePositionFromEvent(e,t)}processHeadMouseMove(e,t){return this.columnToFilter=t,this.setResizeHandlePositionFromEvent(e,t),!0}processHeadMouseOut(e,t){this.columnToFilter=void 0}processHeadClick(e,t){if(0!==e.button||t.allowCheckAll||!t.field)return;let i=e.target;if("TH"!==i.tagName&&(i=i.parentElement),this.config.allowFilter&&t.allowFilter){const e={attachTo:i,id:`${this.config.id}_fd`,column:t,filter:t.filter};this.dialogService.open({viewModel:g.FilterDialog,model:e,lock:!1,childContainer:this.container.createChild()}).whenClosed((e=>{if(!e.wasCancelled&&e.output){const i=e.output;null!=i.sort?this.onSortApplied(t,i.sort):this.applyFilterRow(t,i.filter)}}))}else this.config.allowSort&&t.allowSort&&this.switchSortDirection(t)}processCheckAllClick(e,t){e.stopPropagation(),t.allowUpdate&&this.switchColumnCheckState(t)}processCellClick(e,t,i){var n,r,o,a;const l=e.target,d=this.visibleCols[t];this.processCellClickBase(e,t,i);const c=i.cells[(0,f.getColumnKey)(d)];if(this.cellIsCheckBox(c,d))this.switchCheckState(c,d,i);else if((()=>{let e=l;for(;e&&"TD"!==e.tagName;){if("A"===e.tagName)return!0;e=e.parentNode}})()){const t=null!==(n=d.linkCommand)&&void 0!==n?n:null===(r=d.state)||void 0===r?void 0:r.linkCommand;if(t&&this.screenService.model.actions.has(t)){const i=new y.ScreenUpdateParams({openFrameset:e.shiftKey||e.ctrlKey});this.screenService.executeCommand(t,i)}else c.href?(this.redirector.openUrl(c.href,c.hrefTarget),e.preventDefault()):d.viewName&&this.navigate(d,c.value)}else if(d.key===this.NotesKey){if(this.noteDialogConfig.recordId=null!==(o=i.noteId)&&void 0!==o?o:i.id,this.noteDialogView.noteText=i.note,!this.noteDialogVM)return;this.noteDialogVM.config.screenId=this.getScreenID(),null===(a=this.noteDialogVM.open())||void 0===a||a.whenClosed((e=>{e.wasCancelled||(i.note=this.noteDialogView.noteText,i.cells[d.key].value=i.note?1:0)}))}else d.key===this.FilesKey&&(this.hasFilesColumn=!0,this.filesDialogConfig.recordId=i.id,this.filesDialogConfig.screenId=this.getScreenID(),this.tq.queueMicroTask((()=>{var e;this.filesDialogVM&&(this.filesDialogVM.filesGridConfig.parameters={guid:null!==(e=i.noteId)&&void 0!==e?e:i.id},this.filesDialogVM.config.recordId=i.id,this.filesDialogVM.config.screenId=this.getScreenID(),this.filesDialogVM.uploaderConfig.recordId=i.id,this.filesDialogVM.open((e=>{i.cells[d.key].value=e?1:0})))})))}processCellDblClick(e,t,i){this.processCellClickBase(e,t,i),this.onDoubleClick&&this.onDoubleClick({sender:this}),this.execDefaultAction()}processCellClickBase(e,t,i){const n=e.target,r=this.visibleCols[t],o=this.rows.indexOf(i),a=o!==this.activeRowIndex;this.scrollIntoView(n),this.config.allowRowSelect&&this.clearRowsSelection(),(null==r?void 0:r.allowFocus)?a?this.setActiveRowIndex(o,!1,t):this.setActiveCellIndex(t):a&&this.setActiveRowIndex(o,!1)}processRowSelectorClick(e,t){let i=!0;const n=this.rows.indexOf(t),r=this.getActiveRow();this.config.allowRowSelect&&(e.ctrlKey?(this.setRowSelected(n,!t.selected),i=!1,!t.selected||null!=r&&r.selected||this.setActiveRowIndex(n)):e.shiftKey&&(this.clearRowsSelection(),this.selectRowsRange(this.activeRowIndex,n),i=!1)),i&&(this.scrollIntoView(e.target),this.setActiveRowIndex(this.rows.indexOf(t)))}processKeyDown(e){var t,i,n;let r=this.activeRowIndex,o=this.activeCellIndex,a=!1;const setNextRowSelected=e=>{const t=this.getActiveRow(),i=this.getRow(e);t&&this.setRowSelected(this.activeRowIndex,!(null==i?void 0:i.selected)),this.setRowSelected(e,!0)};switch(this.onKeyDown&&this.onKeyDown({sender:this,event:e}),e.key){case"Down":case"ArrowDown":if(r=this.getNextRowIndex(),void 0===r&&this.allowInsert){if(this.editMode&&!this.createNewAllowed&&this.commitActiveCellChanges(),this.createNewAllowed)return this.addNewRow(!1),!1}else this.config.allowRowSelect&&e.shiftKey&&!this.editMode&&void 0!==r&&setNextRowSelected(r);break;case"Up":case"ArrowUp":r=this.getPrevRowIndex(),this.config.allowRowSelect&&e.shiftKey&&!this.editMode&&void 0!==r&&setNextRowSelected(r);break;case"Right":case"ArrowRight":o=this.getNextCellIndex();break;case"Left":case"ArrowLeft":o=this.getPrevCellIndex();break;case"Home":o=this.getAdjoiningCellIndex(!1,-1);break;case"End":o=this.getAdjoiningCellIndex(!1,null===(t=this.visibleCols)||void 0===t?void 0:t.length,!0);break;case"Enter":e.ctrlKey||e.altKey||this.execDefaultAction();break;case"Insert":return e.ctrlKey||this.addNewRow(!0,e.shiftKey),!1;case"Delete":return this.editMode||this.deleteSelectedRows(),!1;case"F2":return this.beginEdit(),!1;case"F5":return this.refresh(!0),!1;case"F6":return this.editMode||this.switchSortDirection(this.getActiveColumn()),!1;case"PageDown":return this.pageDown(),!1;case"PageUp":return this.pageUp(),!1}switch(e.code){case"KeyF":if(e.shiftKey&&!this.editMode)return this.createColumnFilter(),!1;break;case"KeyC":if(e.ctrlKey&&!this.editMode)return(0,C.addTextToClipboard)(null!==(n=null===(i=this.getActiveCell())||void 0===i?void 0:i.cellText)&&void 0!==n?n:""),!1;break;case"KeyA":if(e.ctrlKey&&!this.editMode&&this.config.allowRowSelect)return this.hasRows&&this.selectRowsRange(0,this.rows.length-1),!1;break;case"Space":const t=this.getActiveCell(),r=this.getActiveColumn();t&&r&&this.cellIsCheckBox(t,r)&&this.switchCheckState(t,r,this.getActiveRow())}const l=this.getRowElem(this.activeRowIndex);return void 0!==r&&this.activeRowIndex!==r&&(this.setActiveRowIndex(r,!0),this.config.allowRowSelect&&!e.shiftKey&&this.clearRowsSelection(),a=!0),void 0!==o&&this.activeCellIndex!==o&&l&&(this.setActiveCellIndex(o),a=!0),!a}processContentWrapDblClick(e){e.target===this.elemContentWrap&&this.createNewAllowed&&this.addNewRow()}processFocus(e){!this.hasRows&&this.createNewAllowed&&this.addNewRow()}setResizeHandlePosition(e){const t=this.getColHeaderElem(e);if(t){const i=t.getBoundingClientRect(),n=this.elemHeaderWrap.getBoundingClientRect(),r=this.elemResizeHandle.offsetWidth,o=this.elemHeaderWrap.scrollLeft;this.elemResizeHandle.style.left=i.right+o-n.left-r/2+"px",this.elemResizeHandle.setAttribute("data-index",this.getColumnVisibleIndex(e.field).toString())}}setResizeHandlePositionFromEvent(e,t){let i=t;if(this.isCellLeftPart(e)){const e=this.getColumnVisibleIndex((0,f.getColumnKey)(t));e>0&&(i=this.visibleCols[e-1])}i.allowResize&&this.setResizeHandlePosition(i)}setResizerPosition(e){const t=this.resizeInfo;if(void 0!==t){const i=this.elemHeaderWrap.getBoundingClientRect(),n=e.pageX-i.left;t.left<0&&(t.left=n);const r=t.width+(n-t.left),o=20;return r>=o&&(this.elemResizeIndicator.style.left=`${n}px`),r>o?r:o}}processResizerMouseDown(e){const t=this.elemResizeHandle.getAttribute("data-index");if(null!=t){const i=this.visibleCols[parseInt(t)];this.resizeInfo={left:-1,column:i,width:i.width||0},this.setResizerPosition(e)}}processResizerMouseMove(e){void 0!==this.resizeInfo&&this.setResizerPosition(e)}processResizerMouseUp(e){const t=this.resizeInfo;if(void 0!==t){const i=this.setResizerPosition(e);i&&(t.column.width=this.getChangedPref(t.column).width=i,this.config.autoSaveLayout&&!this.config.autoAdjustColumns&&this.saveLayout()),this.tq.queueMicroTask((()=>this.setResizeHandlePosition(t.column))),this.resizeInfo=void 0}}processResizerMouseLeave(e){this.resizeInfo=void 0}processDragStart(e,t){return this.dragInfo={column:t,targetIndex:void 0},!0}processDragOver(e,t){if(this.dragInfo&&this.dragInfo.column!==t){const i=this.getColHeaderElem(t).getBoundingClientRect(),n=this.elemHeaderWrap.getBoundingClientRect(),r=i.left-n.left,o=i.right-n.left,a=2,l=e.clientX<i.left+i.width/a,d=(l?r:o)-this.elemArrowDown.offsetWidth/a;this.elemArrowUp.style.left=this.elemArrowDown.style.left=`${d}px`;let c=this.getColumnIndex((0,f.getColumnKey)(t))+(l?0:1);const p=this.getColumnIndex((0,f.getColumnKey)(this.dragInfo.column));c>p&&c--,this.dragInfo.targetIndex=c===p?void 0:c}else this.dragInfo&&(this.dragInfo.targetIndex=void 0)}processDragLeave(e){this.dragInfo&&!this.elemHeaderWrap.contains(e.relatedTarget)&&(this.dragInfo.targetIndex=void 0)}processDrop(e,t){var i;if(this.dragInfo){const e=null===(i=this.dragInfo)||void 0===i?void 0:i.targetIndex,t=this.getColumnIndex((0,f.getColumnKey)(this.dragInfo.column)),n=this.columns;void 0!==e&&n.splice(e,0,n.splice(t,1)[0]),this.dragInfo=void 0,this.config.autoSaveLayout&&this.saveLayout()}}get showDragArrows(){return!!this.dragInfo&&void 0!==this.dragInfo.targetIndex}processToolBarClick(e){var t;const i=null===(t=e.detail)||void 0===t?void 0:t.config,n=null==i?void 0:i.commandName;let r=!0;switch(n){case"refresh":this.refresh(!0);break;case"delete":this.deleteSelectedRows();break;case"insert":this.tq.flushMicroTaskQueue(),this.addNewRow();break;case"filter":this.showFilterBar=!this.showFilterBar,this.adjustPage();break;case"adjust":this.adjustColumns();break;case"exportToExcel":this.exportToExcel();break;case"import":this.import();break;case"nextPage":case"prevPage":case"firstPage":case"lastPage":this.processPagerButtonClick(e);break;default:r=!1,this.fireActionEvent(n)}r&&(e.stopPropagation(),e.propagationStopped=!0)}processToggleFilterClick(e){this.showFilterBar=!this.showFilterBar,this.adjustPage()}processToggleFilterMouseDown(e){e.preventDefault(),e.stopPropagation()}fireActionEvent(e){this.onAction&&e&&this.onAction({args:new QpGridActionEventArgs(this,e)})}processPagerButtonClick(e){var t;const i=null===(t=e.detail)||void 0===t?void 0:t.config;switch(null==i?void 0:i.commandName){case"firstPage":if(this.isFirstPage)break;this.clearSearch(),this.setPage(0);break;case"lastPage":if(this.isLastPage)break;const e=this.pagesCount||0;this.clearSearch(),this.setPage(e>0?e-1:-1);break;case"nextPage":if(this.isLastPage)break;this.setPage(this.pageIndex+1);break;case"prevPage":if(this.isFirstPage)break;this.setPage(this.pageIndex-1)}e.stopPropagation(),e.propagationStopped=!0}setPage(e){if(this.allowPaging()){const t=this.pagesCount||0;if(t>0&&(e<0||e>=t))return;this.config.pagerMode===y.GridPagerMode.Numeric&&this.clearSearch(),this.pageIndex=e,this.getRows()}}setPageIndex(e){this.allowPaging()&&(this.pageIndex=e)}getPagesCount(){const e=this.getPageSize();if(0===this.totalRowCount||e<=0)return 1;if(this.totalRowCount>0){const t=this.totalRowCount+e-1;return Math.floor(t<0?1:t/e)}return-1}getPageSize(){var e;return(null===(e=this.config)||void 0===e?void 0:e.pageSize)||0}get startRowIndex(){return(this.pageIndex||0)*this.getPageSize()+1}get endRowIndex(){var e;return this.startRowIndex+(null===(e=this.rows)||void 0===e?void 0:e.length)-1}setPagerButtonsState(){if(this.allowPaging()){const e=this.pagerBarConfigL.items,t=this.pagerBarConfigR.items;e.first.config.disabled=!!this.isFirstPage,e.prev.config.disabled=!!this.isFirstPage,t.last.config.disabled=!!this.isLastPage,t.next.config.disabled=!!this.isLastPage,this.pagerBarConfigR.styleChanged=this.pagerBarConfigL.styleChanged=!0}}pageDown(){let e=this.getNextRowIndex();if(void 0===e)return void(this.isLastPage||this.setPage(this.pageIndex+1));const t=Math.ceil(this.elemContentWrap.clientHeight/this.getRowHeight());isNaN(t)||(e=this.activeRowIndex+t,e>this.rows.length&&(e=this.rows.length-1),this.setActiveRowIndex(e,!0))}pageUp(){let e=this.getPrevRowIndex();if(void 0===e)return void(this.isFirstPage||this.setPage(this.pageIndex-1));const t=Math.ceil(this.elemContentWrap.clientHeight/this.getRowHeight());isNaN(t)||(e=this.activeRowIndex-t,e<0&&(e=0),this.setActiveRowIndex(e,!0))}adjustPageSize(){let e=!1;this.rows&&0!==this.rows.length||(e=!0,this.createFakeRow()),this.tq.flushing||this.tq.flushMicroTaskQueue();const t=this.getRowHeight();if(t>0){const e=Math.floor(this.elemContentWrap.clientHeight/t);this.config.pageSize=e;const i=this.totalRowCount;i>0&&e*this.pageIndex>=i&&this.setPageIndex(0)}return e&&(this.rows=[]),this.pageAdjusted||(this.pageAdjusted=!0),this.config.pageSize}adjustPage(){if(!this.needAdjustPage())return;this.config.autoAdjustColumns&&this.adjustColumns(!1);const e=this.isFirstPage&&this.isLastPage,t=this.config.pageSize,i=this.adjustPageSize();i&&i!==t&&(!e||this.rows.length>i)&&this.getRows()}getRowHeight(){let e=0;if(this.elemRows&&(0,C.isVisible)(this.elemRows)){const t=this.elemRows.tBodies[0].rows;for(let i=0;i<t.length;i++){const n=t[i];if(n.offsetHeight>0&&n.getAttribute("data-index")){e=n.offsetHeight;break}}}return e}resizeWindowHandler(){clearTimeout(this.adjustTimeoutID),!this.screenService.initialized&&this.screenService.isValid||(this.adjustTimeoutID=setTimeout((()=>{this.needAdjustPage()?this.adjustPage():this.config.autoAdjustColumns&&this.adjustColumns(!1)}),100))}allowPaging(){var e;return(null===(e=this.config)||void 0===e?void 0:e.pagerMode)!==y.GridPagerMode.InfiniteScroll&&this.getPageSize()>0}needAdjustPage(){var e;return this.allowPaging()&&(null===(e=this.config)||void 0===e?void 0:e.adjustPageSize)}adjustColumns(e){var t,i;const n=this.visibleCols,r=(null===(t=this.rows)||void 0===t?void 0:t.length)>0?this.elemRows:this.elemHeaderTable,o=(null===(i=this.rows)||void 0===i?void 0:i.length)>0?this.elemContentWrap:this.elemHeaderWrap;if(r&&r.offsetWidth>0&&n.length>0){let t=0,i=0,a=0;for(let e=0;e<n.length;e++)n[e].visible&&n[e].allowResize&&(t+=n[e].width||0,a=e,i++);const l=o.clientWidth-r.offsetWidth;let d=r.offsetWidth;if(0!==l){null==e&&(e=this.config.autoSaveLayout),this.config.autoAdjustColumns&&(e=!1);for(let e=0;e<n.length;e++){if(!n[e].visible||!n[e].allowResize||!n[e].width)continue;let i=n[e].width;if(e!==a){const e=Math.round(l*i/t);i+=e,d+=e}else i+=o.clientWidth-d;n[e].width=this.getChangedPref(n[e]).width=i}e&&this.saveLayout(),this.tq.flushing||this.tq.flushMicroTaskQueue()}}}getComponentErrors(e,t){var i,n,r,o,a;if(!t)return{};const l={},processRow=t=>{var i;if(t.cells)for(const n in t.cells)(null===(i=t.cells[n])||void 0===i?void 0:i.error)&&(l[`${e}.${n}`]={message:t.cells[n].error,level:t.cells[n].errorLevel})};return null===(i=t.rows)||void 0===i||i.forEach(processRow),null===(r=null===(n=t.commitResult)||void 0===n?void 0:n.inserted)||void 0===r||r.forEach(processRow),null===(a=null===(o=t.commitResult)||void 0===o?void 0:o.modified)||void 0===a||a.forEach(processRow),l}injectToolbarIntoScreenOne(){if(this.config.mergeToolbarWith){const e=this.screenService.getDataComponent(this.config.mergeToolbarWith);if(e&&e.appendComponentData){const t=e.appendComponentData(this.topBarConfig);("string"==typeof t?document.querySelector(t):t)&&(this.rightToolbarContainer=t)}}}loadColumnsPreferences(e,t){if(null==t)return;const i=e.length-1;for(const n of t){const t=e.find((e=>(0,C.compareStrings)((0,f.getColumnKey)(e),n.dataField,!0)));if(null!=t){void 0!==n.skipTab&&(t.skipTab=n.skipTab),void 0!==n.width&&n.width>0&&(t.width=n.width),void 0!==n.visible&&(0,f.isColumnVisibleChangeAllowed)(t)&&(t.visible=n.visible);const r=e.indexOf(t);n.order>=0&&r!==n.order&&(e.splice(e.indexOf(t),1),e.splice(n.order>i?i:n.order,0,t))}}}getPreferences(e){let t;return this.preferences&&(t=e===n.PreferenceLoadMode.merged?this.gridPreferencesMerger.merge(e,{user:this.preferences.user,def:this.preferences.def}):e===n.PreferenceLoadMode.onlyDefault?this.preferences.def:this.preferences.user),t}get preferencesMode(){return this.viewMode===x.ViewMode.Edit?n.PreferenceLoadMode.onlyDefault:n.PreferenceLoadMode.merged}getColumnPreferences(e,t){const i=(0,f.getColumnKey)(e);return null==t?void 0:t.find((e=>(0,C.compareStrings)(i,e.dataField,!0)))}getChangedPref(e){const t=(0,f.getColumnKey)(e);return this.changedPrefs.has(t)||this.changedPrefs.set(t,new GridColumnPreference),this.changedPrefs.get(t)}updateInitialColumns(){for(const e of this.initialColumns){const t=this.getColumn(this.getColumnKey(e));t&&this.needSyncVisibleWithState(t)&&(e.visible=t.visible)}}restoreInitialColumns(){const e=this.initialColumns.map((e=>{const t=this.getColumn(this.getColumnKey(e));return t&&(t.visible=e.visible,t.width=e.width,this.copyColumnProps(e,t)),Object.assign({},e)}));this.columns.splice(0,this.columns.length,...e),this.createColsSubscriptions()}subscribeScreenConfigurator(){this.subscriptions.push(this.eventManager.addEventListener(document.body,"startScreenConfiguration",(()=>{this.viewMode=x.ViewMode.Edit,this.fillPreferences(n.PreferenceLoadMode.onlyDefault,!0)}),q.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(document.body,"endScreenConfiguration",(()=>{this.viewMode=x.ViewMode.View}),q.delegationStrategy.none,!0))}updateActiveRowFromView(){var e;if(!this.view.activeRowChanged)return;this.view.activeRowChanged=!1;const t=this.view.activeRow,i=this.getActiveRow(),n=null===(e=this.activeCellState)||void 0===e?void 0:e.name,r=(0,f.copyRowPropsFromView)(t,i,this.columns,n);r.hasChanges&&(r.activeCellValueChanged&&n&&(this.activeCellState.value=i.cells[n].value,this.forceCellEditorUpdate()),this.updateRow(i))}matchRows(e,t){return e.id===t.id}matchColumns(e,t){return(e.field||e.key)===(t.field||t.key)}filterIDChanged(){var e;null===(e=this.onActiveFilterChanged)||void 0===e||e.call(this,{args:new QpGridEventArgs(this)})}activeRowIndexChanged(e,t){this.setActiveRowFlag(t,!1),this.forceRepaintRow(t),this.setActiveRowFlag(e,!0),this.forceRepaintRow(e)}activeCellIndexChanged(e,t){this.forceRepaintRow(this.activeRowIndex)}editModeChanged(){this.forceRepaintRow()}setCellTranslation(e,t){const i=this.getActiveRow();i&&i.id&&(this.additionalRowChanges=this.additionalRowChanges||{},this.additionalRowChanges[i.id]=this.additionalRowChanges[i.id]||{id:i.id,index:this.activeRowIndex,values:[]},this.additionalRowChanges[i.id].values.push({field:e,value:t}),i.changed=!0,this.updateRow(i,!0))}forceRepaintRow(e){const t=this.getRow(void 0!==e?e:this.activeRowIndex);t&&(t.styleChanged=!t.styleChanged)}setActiveRowFlag(e,t){const i=this.getRow(e);i&&(i.isActive=t)}getRow(e){return this.hasRows?this.rows[e]:void 0}storeScrollPosition(){this.scrollPosition={scrollTop:this.elemContentWrap.scrollTop,scrollLeft:this.elemContentWrap.scrollLeft}}restoreScrollPosition(){this.scrollPosition&&(this.elemContentWrap.scrollTop=this.scrollPosition.scrollTop,this.elemContentWrap.scrollLeft=this.scrollPosition.scrollLeft,delete this.scrollPosition)}get gridCaption(){var e;return null!==(e=this.config.caption)&&void 0!==e?e:this.caption}};I.defaultConfig={pagerMode:y.GridPagerMode.NextPrevFirstLast,pageSize:100,showRowSelectors:!0,allowRowSelect:!0,autoSaveLayout:!0,allowSkipTabs:!0,showFilterBar:y.GridFilterBarVisibility.OnDemand,showTopBar:!0,showBottomBar:!0,generateColumns:y.GridColumnGeneration.None,fastFilterByAllFields:!0,allowFilter:!0,allowSort:!0,showFastFilter:y.GridFastFilterVisibility.FilterBar,markRequired:!0},I.defaultColumnConfig={type:y.GridColumnType.NotSet,textAlign:y.TextAlign.NotSet,allowNull:!0,allowUpdate:!0,allowFilter:!0,allowFocus:!0,allowSort:!0,allowResize:!0,visible:!0,allowShowHide:y.GridColumnShowHideMode.True,displayMode:y.GridColumnDisplayMode.Value},i.__decorate([l.bindable,i.__metadata("design:type",y.PXViewCollection)],I.prototype,"view",void 0),i.__decorate([l.bindable,i.__metadata("design:type",Object)],I.prototype,"config",void 0),i.__decorate([l.bindable,i.__metadata("design:type",Array)],I.prototype,"rows",void 0),i.__decorate([l.bindable,i.__metadata("design:type",String)],I.prototype,"searchValue",void 0),i.__decorate([l.bindable,i.__metadata("design:type",String)],I.prototype,"searchField",void 0),i.__decorate([l.bindable,i.__metadata("design:type",String)],I.prototype,"statusText",void 0),i.__decorate([l.bindable,i.__metadata("design:type",Function)],I.prototype,"dataSource",void 0),i.__decorate([l.bindable,i.__metadata("design:type",Function)],I.prototype,"onDoubleClick",void 0),i.__decorate([l.bindable,i.__metadata("design:type",Function)],I.prototype,"onKeyDown",void 0),i.__decorate([l.bindable,i.__metadata("design:type",Function)],I.prototype,"onDefaultAction",void 0),i.__decorate([l.bindable,i.__metadata("design:type",Function)],I.prototype,"onAction",void 0),i.__decorate([l.bindable,i.__metadata("design:type",Function)],I.prototype,"onActiveRowChanged",void 0),i.__decorate([l.bindable,i.__metadata("design:type",Function)],I.prototype,"onDataReady",void 0),i.__decorate([l.bindable,i.__metadata("design:type",Function)],I.prototype,"onActiveFilterChanged",void 0),i.__decorate([l.bindable,i.__metadata("design:type",Function)],I.prototype,"onFiltersChanged",void 0),i.__decorate([l.bindable,i.__metadata("design:type",Function)],I.prototype,"onFilterColumns",void 0),i.__decorate([l.bindable,i.__metadata("design:type",String)],I.prototype,"caption",void 0),i.__decorate([l.observable,i.__metadata("design:type",Object)],I.prototype,"columnToFilter",void 0),i.__decorate([l.observable,i.__metadata("design:type",String)],I.prototype,"filterID",void 0),i.__decorate([l.observable,i.__metadata("design:type",Boolean)],I.prototype,"editMode",void 0),i.__decorate([l.observable,i.__metadata("design:type",Number)],I.prototype,"activeRowIndex",void 0),i.__decorate([l.observable,i.__metadata("design:type",Number)],I.prototype,"activeCellIndex",void 0),i.__decorate([(0,q.computedFrom)("updateRowsCount"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],I.prototype,"hasRows",null),i.__decorate([(0,q.computedFrom)("config.adjustPageSize"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],I.prototype,"isInfiniteScrollAllowed",null),i.__decorate([(0,q.computedFrom)("config.allowFilter","config.showFilterBar","config.allowStoredFilters"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],I.prototype,"isFilterBarAllowed",null),i.__decorate([(0,q.computedFrom)("updateRowsCount","statusText","config.pagerMode","config.pageSize","isFirstPage","isLastPage"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],I.prototype,"showBottomBar",null),i.__decorate([(0,q.computedFrom)("config.pagerMode","config.pageSize","isFirstPage","isLastPage"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],I.prototype,"showPager",null),i.__decorate([(0,q.computedFrom)("updateRowsCount","config.pagerMode"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],I.prototype,"showRecordsCounter",null),i.__decorate([(0,q.computedFrom)("dragInfo","dragInfo.targetIndex"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],I.prototype,"showDragArrows",null),i.__decorate([(0,q.computedFrom)("updateRowsCount"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],I.prototype,"startRowIndex",null),i.__decorate([(0,q.computedFrom)("updateRowsCount"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],I.prototype,"endRowIndex",null),i.__decorate([(0,q.computedFrom)("config.caption","caption"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],I.prototype,"gridCaption",null),I=T=i.__decorate([(0,l.processContent)(((e,t,i,n)=>{const r=i.querySelector("columns"),o=r?r.querySelectorAll("column"):void 0,a={field:"a",key:"a",type:1,caption:"a",captionImage:"a",dataType:1,width:1,textAlign:1,visible:!0,toolTip:"a",checked:!0,nullText:"a",valueItems:{},editorType:"a",editorConfig:{},fullState:!0,required:!0,timeMode:!0,sortDirection:1,generated:!0,skipTab:!0,commitChanges:!0,linkCommand:"a",hideViewLink:!0,format:"a",dateMask:"a",decimals:1,viewName:"a",maxLength:1,allowNull:!0,allowUpdate:!0,allowFilter:!0,allowFastFilter:!0,allowFocus:!0,allowSort:!0,allowResize:!0,allowCheckAll:!0,allowShowHide:1,suppressExport:!0},l=[];null==o||o.forEach((e=>{const t=e.getAttributeNames(),i={};null==t||t.forEach((t=>{const n=t.includes(".bind"),r=t.replace(".bind","").replace(/-([a-z])/gi,(e=>e[1].toUpperCase())),o=a[r];if(o){let a=e.getAttribute(t);a&&(n?(i.bindableProps||(i.bindableProps={}),i.bindableProps[r]=a):("boolean"==typeof o?a=(0,C.netTypeConvert)(a,y.NetType.Boolean):"number"==typeof o&&(a=(0,C.netTypeConvert)(a,y.NetType.Int32)),i[r]=a))}})),(i.field||i.key)&&l.push(i)})),l.length>0&&(n.columns=l,i.innerHTML="")})),(0,l.customElement)("qp-grid"),l.autoinject,i.__param(2,(0,d.inject)(p.GridApiClient)),i.__metadata("design:paramtypes",[Element,v.ScreenService,Object,l.TaskQueue,l.BindingEngine,h.DialogService,c.EventAggregator,y.RedirectHelper,b.AlertService,l.TargetInstruction,d.Container,r.PreferencesService,f.ExpressionEvaluator,l.EventManager,C.BusyCounter,M.TranslationService])],I),t.QpGridCustomElement=I;class QpGridEventArgs{constructor(e){this.activeRow=void 0,this.activeCell=void 0,this.activeRow=e.getActiveRow(),this.activeCell=e.getActiveCell()}getCell(e){if(this.activeRow&&e){const t=e.toLowerCase();for(const e in this.activeRow.cells)if(e.toLowerCase()===t)return this.activeRow.cells[e]}}}t.QpGridEventArgs=QpGridEventArgs;class QpGridActionEventArgs extends QpGridEventArgs{constructor(e,t){super(e),this.action=t}}t.QpGridActionEventArgs=QpGridActionEventArgs;class GridPreferencesMerger extends n.BasePreferenceMerger{combineUserAndDefPreferences(e,t){var i;if(!t||!t.columns)return e;if(!e||!e.columns)return t;const n=new GridPreferences;for(const r of e.columns){const e=t.columns.find((e=>e.dataField===r.dataField));null===(i=n.columns)||void 0===i||i.push(this.mergeColumnProperties(r,e||{}))}return n}mergeColumnProperties(e,t){const i=Object.assign(Object.assign({},e),t);return void 0===t.visible&&void 0!==e.visible&&(i.visible=e.visible),void 0===t.width&&void 0!==e.width&&(i.width=e.width),void 0===t.order&&void 0!==e.order&&(i.order=e.order),void 0===t.skipTab&&void 0!==e.skipTab&&(i.skipTab=e.skipTab),void 0===t.sortOrder&&void 0!==e.sortOrder&&(i.sortOrder=e.sortOrder),i}}t.GridPreferencesMerger=GridPreferencesMerger;t.GridPreferencesPair=class GridPreferencesPair{};class GridColumnPreference{}class GridPreferences extends n.PreferenceBase{constructor(){super(),this.type="Grid",this.columns=[]}}t.GridPreferences=GridPreferences;class GridControlPreferences extends n.PreferenceBase{constructor(){super(),this.type="qp-grid",this.preferences={}}}class GridPreferencesManager{constructor(e,t){this.preferencesService=e,this.onPreferencesChanged=t}subscribe(e,t){this.prefsKey=`${t}_prefs`,this.screenId=e,this.preferencesService.subscribe(this.prefsKey,this)}applyPreferences(e){var t;if(null==e?void 0:e.user){const i=e.user.preferences.favoriteFilters;this.favoriteFilters=i?[...i]:[],null===(t=this.onPreferencesChanged)||void 0===t||t.call(this)}}addFavouriteFilter(e){if(this.favoriteFilters||(this.favoriteFilters=[]),!this.favoriteFilters.includes(e))return this.favoriteFilters.push(e),this.savePreferences()}deleteFavouriteFilter(e){var t;if(null===(t=this.favoriteFilters)||void 0===t?void 0:t.includes(e))return this.favoriteFilters.splice(this.favoriteFilters.indexOf(e),1),this.savePreferences()}savePreferences(){const e=new GridControlPreferences;return e.preferences.favoriteFilters=this.favoriteFilters,this.preferencesService.saveUserPreferences(this.screenId,this.prefsKey,e)}}}.apply(t,n),void 0===r||(e.exports=r)},2979:(e,t,i)=>{var n,r;n=[i,t,i(655),i("client-controls/controls/compound/grid/qp-grid"),i(6595),i("client-controls/controls/compound/grid/dialogs/columns-dialog"),i("client-controls/controls/compound/menu/qp-menu"),i("client-controls/controls/compound/system-menu/qp-sys-menu"),i(4337),i("client-controls/controls/compound/system-menu/settings-menu-data-component"),i("client-controls/controls/compound/system-menu/qp-note-dialog/note-menu-data-component"),i("client-controls/controls/compound/system-menu/qp-tools-menu/tools-menu-data-component"),i("client-controls/controls/compound/system-menu/qp-customization-menu/customization-menu-data-component"),i("client-controls/controls/compound/inline-screen/inner-screen-toolbar-data-component"),i("client-controls/controls/compound/screen-toolbar/screen-toolbar-data-component"),i(9118),i("client-controls/controls/compound/tool-bar/qp-tool-bar"),i("client-controls/controls/compound/screen-title/qp-screen-title"),i(3691),i("client-controls/controls/compound/address-lookup/qp-address-lookup"),i("client-controls/controls/compound/currency/qp-currency"),i("client-controls/controls/compound/tree/qp-tree-node"),i("client-controls/controls/compound/tree/qp-tree"),i("client-controls/controls/compound/grid/elements/qp-filter-box"),i("client-controls/controls/compound/grid/qp-filter-editor"),i("client-controls/controls/compound/formula-editor/qp-formula-editor"),i("client-controls/controls/compound/formula-editor/qp-formula-dialog"),i("client-controls/controls/compound/inline-screen/qp-inline-screen"),i("client-controls/controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component"),i("client-controls/controls/compound/side-panel/qp-side-panel"),i("client-controls/controls/compound/system-menu/qp-note-dialog/qp-note-dialog"),i("client-controls/controls/compound/tree-selector/qp-tree-selector"),i("client-controls/controls/compound/tree-selector/qp-tree-selector-dialog"),i(9203),i("client-controls/controls/compound/rich-text-editor/qp-rich-text-editor"),i(6461),i("client-controls/controls/compound/rich-text-editor/au/component-id-custom-attribute"),i(1419),i("client-controls/controls/compound/translation-validation/qp-translation-validation"),i(2604)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g,m,f,v,b,y,x,C,_,S,E,q,k,M,T,I,D,F,P,A,O,N,R,L,$,V,B){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationValidationDataComponent=t.TranslationValidationCustomElement=t.ComponentIdCustomAttribute=t.QpRichTextEditorCustomElement=t.richTextIndex=t.QpTreeSelectorDialogCustomElement=t.QpTreeSelectorCustomElement=t.QpNoteDialogCustomElement=t.QpSidePanelCustomElement=t.QpInlineScreenDialogComponent=t.QpInlineScreenCustomElement=t.QpFormulaDialogCustomElement=t.QpFormulaEditorCustomElement=t.QpFilterEditorCustomElement=t.QpFilterBoxCustomElement=t.QpTreeCustomElement=t.QpTreeNodeCustomElement=t.QpCurrencyCustomElement=t.QpAddressLookupCustomElement=t.ScreenTitleDataComponent=t.QpScreenTitleCustomElement=t.QpToolBarCustomElement=t.SidePanelDataComponent=t.ScreenToolbarDataComponent=t.InnerScreenToolbarDataComponent=t.CustomizationMenuDataComponent=t.ToolsMenuDataComponent=t.NoteMenuDataComponent=t.SettingsMenuDataComponent=t.SystemMenuDataComponent=t.QpSysMenuCustomElement=t.QpMenuCustomElement=t.ColumnsDialog=t.GridApiClient=t.GridGenericInquiryApiClient=t.QpGridCustomElement=void 0,Object.defineProperty(t,"QpGridCustomElement",{enumerable:!0,get:function(){return n.QpGridCustomElement}}),Object.defineProperty(t,"GridGenericInquiryApiClient",{enumerable:!0,get:function(){return r.GridGenericInquiryApiClient}}),Object.defineProperty(t,"GridApiClient",{enumerable:!0,get:function(){return r.GridApiClient}}),Object.defineProperty(t,"ColumnsDialog",{enumerable:!0,get:function(){return o.ColumnsDialog}}),Object.defineProperty(t,"QpMenuCustomElement",{enumerable:!0,get:function(){return a.QpMenuCustomElement}}),Object.defineProperty(t,"QpSysMenuCustomElement",{enumerable:!0,get:function(){return l.QpSysMenuCustomElement}}),Object.defineProperty(t,"SystemMenuDataComponent",{enumerable:!0,get:function(){return d.SystemMenuDataComponent}}),Object.defineProperty(t,"SettingsMenuDataComponent",{enumerable:!0,get:function(){return c.SettingsMenuDataComponent}}),Object.defineProperty(t,"NoteMenuDataComponent",{enumerable:!0,get:function(){return p.NoteMenuDataComponent}}),Object.defineProperty(t,"ToolsMenuDataComponent",{enumerable:!0,get:function(){return u.ToolsMenuDataComponent}}),Object.defineProperty(t,"CustomizationMenuDataComponent",{enumerable:!0,get:function(){return h.CustomizationMenuDataComponent}}),Object.defineProperty(t,"InnerScreenToolbarDataComponent",{enumerable:!0,get:function(){return g.InnerScreenToolbarDataComponent}}),Object.defineProperty(t,"ScreenToolbarDataComponent",{enumerable:!0,get:function(){return m.ScreenToolbarDataComponent}}),Object.defineProperty(t,"SidePanelDataComponent",{enumerable:!0,get:function(){return f.SidePanelDataComponent}}),Object.defineProperty(t,"QpToolBarCustomElement",{enumerable:!0,get:function(){return v.QpToolBarCustomElement}}),Object.defineProperty(t,"QpScreenTitleCustomElement",{enumerable:!0,get:function(){return b.QpScreenTitleCustomElement}}),Object.defineProperty(t,"ScreenTitleDataComponent",{enumerable:!0,get:function(){return y.ScreenTitleDataComponent}}),Object.defineProperty(t,"QpAddressLookupCustomElement",{enumerable:!0,get:function(){return x.QpAddressLookupCustomElement}}),Object.defineProperty(t,"QpCurrencyCustomElement",{enumerable:!0,get:function(){return C.QpCurrencyCustomElement}}),Object.defineProperty(t,"QpTreeNodeCustomElement",{enumerable:!0,get:function(){return _.QpTreeNodeCustomElement}}),Object.defineProperty(t,"QpTreeCustomElement",{enumerable:!0,get:function(){return S.QpTreeCustomElement}}),Object.defineProperty(t,"QpFilterBoxCustomElement",{enumerable:!0,get:function(){return E.QpFilterBoxCustomElement}}),Object.defineProperty(t,"QpFilterEditorCustomElement",{enumerable:!0,get:function(){return q.QpFilterEditorCustomElement}}),Object.defineProperty(t,"QpFormulaEditorCustomElement",{enumerable:!0,get:function(){return k.QpFormulaEditorCustomElement}}),Object.defineProperty(t,"QpFormulaDialogCustomElement",{enumerable:!0,get:function(){return M.QpFormulaDialogCustomElement}}),Object.defineProperty(t,"QpInlineScreenCustomElement",{enumerable:!0,get:function(){return T.QpInlineScreenCustomElement}}),Object.defineProperty(t,"QpInlineScreenDialogComponent",{enumerable:!0,get:function(){return I.QpInlineScreenDialogComponent}}),Object.defineProperty(t,"QpSidePanelCustomElement",{enumerable:!0,get:function(){return D.QpSidePanelCustomElement}}),Object.defineProperty(t,"QpNoteDialogCustomElement",{enumerable:!0,get:function(){return F.QpNoteDialogCustomElement}}),Object.defineProperty(t,"QpTreeSelectorCustomElement",{enumerable:!0,get:function(){return P.QpTreeSelectorCustomElement}}),Object.defineProperty(t,"QpTreeSelectorDialogCustomElement",{enumerable:!0,get:function(){return A.QpTreeSelectorDialogCustomElement}}),t.richTextIndex=i.__importStar(O),Object.defineProperty(t,"QpRichTextEditorCustomElement",{enumerable:!0,get:function(){return N.QpRichTextEditorCustomElement}}),i.__exportStar(R,t),Object.defineProperty(t,"ComponentIdCustomAttribute",{enumerable:!0,get:function(){return L.ComponentIdCustomAttribute}}),i.__exportStar($,t),Object.defineProperty(t,"TranslationValidationCustomElement",{enumerable:!0,get:function(){return V.TranslationValidationCustomElement}}),Object.defineProperty(t,"TranslationValidationDataComponent",{enumerable:!0,get:function(){return B.TranslationValidationDataComponent}})}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework")],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpInlineScreenDialogComponent=void 0;let r=class QpInlineScreenDialogComponent{constructor(){this.width="80vw",this.height="90vh"}bind(e,t){var i,n,r;(null===(n=null===(i=null==t?void 0:t.parentOverrideContext)||void 0===i?void 0:i.bindingContext)||void 0===n?void 0:n.config)&&(this.config=null===(r=t.parentOverrideContext.bindingContext.config)||void 0===r?void 0:r.data)}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],r.prototype,"config",void 0),r=i.__decorate([(0,n.customElement)("qp-inline-screen-dialog"),n.autoinject],r),t.QpInlineScreenDialogComponent=r}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/inline-screen/inner-screen-toolbar-data-component":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1515),i(2172),i(6646)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerScreenToolbarDataComponent=void 0;let l=class InnerScreenToolbarDataComponent{constructor(e){this.screenVM=e,this.toolBarVM=void 0,this.element=this.toolBarElem}getQueryParams(e){return{}}setComponentData(e){this.applyComponentData(e)}appendComponentData(e){var t;return null===(t=this.toolBarVM)||void 0===t||t.appendConfig(e),"#innerToolBarSuffix"}applyComponentData(e){var t,i,n;this.toolbar=e,this.toolbar.id="InnerScreenMainToolbar",null===(t=this.toolBarVM)||void 0===t||t.unbindStates();for(const e of this.screenVM.actions.keys()){const t=this.screenVM.actions.get(e),r=null==t?void 0:t.specialType;if(r===o.PXSpecialButtonType.Save||r===o.PXSpecialButtonType.SaveNotClose){null===(i=this.toolBarVM)||void 0===i||i.bindStateWith(t);const e=Object.values((null===(n=this.toolbar)||void 0===n?void 0:n.items)||{}).find((e=>e.config.commandName===t.commandName));e&&(e.config.state=t)}}}};l=i.__decorate([(0,n.useView)("./inner-screen-toolbar-data-component.html"),(0,a.selfRegisterWithName)("InlineScreenToolbar"),i.__metadata("design:paramtypes",[r.PXScreen])],l),t.InnerScreenToolbarDataComponent=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/inline-screen/qp-inline-screen":(e,t,i)=>{var n,r;n=[i,t,i(655),i(6778),i("aurelia-framework"),i("aurelia-event-aggregator"),i(7699),i(8099),i(122),i(3147),i(2446),i(2172),i(4834),i(630),i(1690),i(8986),i(4609)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g,m,f,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchParamsClass=t.QpInlineScreenCustomElement=void 0;(0,l.getLogger)("inline-screen");let b=class QpInlineScreenCustomElement{constructor(e){this.urlRouter=e,this.reregisteredDataComponents=!1,this.subscriptions=new Array,this.internalSubscriptions=new Array,this.initialized=!1,this.getScreenPath=e=>`screens/${e.substr(0,2).toUpperCase()}/${e}/${e}`}get screenVM(){var e;return"T"===(null===(e=this.config)||void 0===e?void 0:e.uiType)&&this.screenRef?this.screenRef.currentViewModel:void 0}get screenPath(){return this.isGI?"systemScreens/GenericInquiry":this.getScreenPath(this.config.screenId)}get legacyScreenPath(){const e=Object.assign(Object.assign({},this.config.navigationParameters),{PopupPanel:"Layer"});return this.needToHideScript&&(e.HideScript="On"),this.urlRouter.resolveSameWindowUrl(this.config.navigationUrl.replace("~/",""),g.topWindow.location,!1,!1,e)}get isGI(){return this.config.navigationUrl.toLowerCase().includes("genericinquiry")}get screenID(){return this.config.screenId}get siteMapScreenID(){return this.screenService.siteMapScreenID}get screenService(){return this.screenVM&&"T"===this.config.uiType?this.screenVM.getScreenService():this.ownScreenService}getScreenService(){return this.screenService}get keyFieldNames(){return this.config.navigationParameters?Object.keys(this.config.navigationParameters):[]}get needToHideScript(){return g.topWindow.hideScript}screenRefChanged(){this.initialized=!1,this.tq.queueTask((()=>{this.container.unregister(h.ScreenService),this.container.registerInstance(h.ScreenService,this.screenService)}))}configChanged(e,t){e.screenId===(null==t?void 0:t.screenId)&&JSON.stringify(e.navigationParameters)===JSON.stringify(t.navigationParameters)||("T"===this.config.uiType&&(this.container.unregister(SearchParamsClass),this.container.registerInstance(SearchParamsClass,new SearchParamsClass(this.config.navigationUrl.toLowerCase().split("?")[1]))),this.tq.queueTask((()=>i.__awaiter(this,void 0,void 0,(function*(){"E"===this.config.uiType&&(this.initialized=!1),this.initSidePanelScreen(),"E"!==this.config.uiType||this.config.isReport||(yield this.initScreenService()),this.config.isReport||this.registerDataComponents(),this.queryParamsChangedHandler()})))))}bind(){this.initSidePanelScreen(),this.screenApiClientSettings.companyId=(0,v.getCompanyFromUrl)(),this.screenApiClientSettings.isInlineScreenRequest=!0;let e=this.eventAggregator.subscribe("screen-initialized",(e=>{this.initialized=!0,"T"===this.config.uiType&&e.screenID!==this.screenVM.screenID||this.registerSubscriptions()}));this.subscriptions.push(e),e=this.eventAggregator.subscribe("screen-updated",(e=>{this.initialized=!0,this.config.isReport||this.isGI||e.screenID!==this.screenID||this.screenService.callbackRunning||this.disableKeyFields()})),this.subscriptions.push(e),this.config.isReport||this.registerDataComponents(),this.configChanged(this.config,void 0)}initSidePanelScreen(){this.config.uiType||(this.config.uiType="T"),this.config.graphInfo&&(this.graphInfo=this.config.graphInfo)}initScreenService(){return i.__awaiter(this,void 0,void 0,(function*(){this.ownScreenService.model=this,yield this.ownScreenService.initialize(),this.eventAggregator.publish("screen-initialized",{screenID:this.screenID,pendingUpdate:!1})}))}registerSubscriptions(){if(this.internalSubscriptions.forEach((e=>e.dispose())),this.internalSubscriptions=[],"T"===this.config.uiType){let e=this.screenVM.screenEventManager.subscribe("OpenPopup",(e=>{e.stop(),this.openDialog(e)}));this.internalSubscriptions.push(e),e=this.screenEventManager.subscribe("ExecuteCommand",(e=>{e.Command&&(this.screenService.executeCommand(e.Command,e.Params),e.stop())})),this.internalSubscriptions.push(e)}}registerDataComponents(){this.unregisterDataComponents(),this.reregisteredDataComponents=!0}iframeElementChanged(){this.iframeElement&&(this.iframeElement.onload=()=>{this.initialized=!0;const e=this.iframeElement.contentWindow;e&&(e.__suppressUrlUpdate=!0,e.openerPX=this.container.get(u.RedirectHelper))})}queryParamsChangedHandler(){var e,t;if(!this.config.navigationParameters||!this.screenVM&&"T"===this.config.uiType||"T"===this.config.uiType&&this.isGI)return;let i;if("E"===this.config.uiType){i={commitChanges:!1,blockPage:!0,data:[]};for(const t in this.config.navigationParameters)null===(e=i.data)||void 0===e||e.push({viewName:this.screenService.getGraphInfo().primaryView,fieldName:t,value:this.config.navigationParameters[t]})}null===(t=this.screenVM)||void 0===t||t.setupParameters(this.config.navigationParameters),this.screenService.update(void 0,i)}disableKeyFields(){"E"!==this.config.uiType&&this.keyFieldNames.forEach((e=>{const t=this.screenService.getGraphInfo().primaryView;this.screenService.model[t][e].enabled=!1}))}openDialog(e){this.dialogHelper.openDialog({templateId:e.name,context:this.screenVM,rootElement:this.contentElement,command:e.commandName},{overlayDismiss:!1}).whenClosed((()=>{}))}setActionStates(){}setDirty(){}unregisterDataComponents(){this.screenService.unregisterDataComponent("NotesMenuData"),this.screenService.unregisterDataComponent("TitleData"),this.screenService.unregisterDataComponent("LongRunData"),this.screenService.unregisterDataComponent("ScreenToolbar")}detached(){this.internalSubscriptions.forEach((e=>e.dispose())),this.internalSubscriptions=[],this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[],this.unregisterDataComponents()}};i.__decorate([r.bindable,i.__metadata("design:type",Object)],b.prototype,"config",void 0),i.__decorate([a.autoinject,i.__metadata("design:type",o.EventAggregator)],b.prototype,"eventAggregator",void 0),i.__decorate([(0,a.newInstance)(p.QpEventManager),i.__metadata("design:type",p.QpEventManager)],b.prototype,"screenEventManager",void 0),i.__decorate([n.observable,i.__metadata("design:type",Object)],b.prototype,"screenRef",void 0),i.__decorate([(0,a.newInstance)(m.SysMenuApiClient),i.__metadata("design:type",m.SysMenuApiClient)],b.prototype,"sysMenuApiClient",void 0),i.__decorate([a.autoinject,i.__metadata("design:type",r.Container)],b.prototype,"container",void 0),i.__decorate([(0,a.newInstance)(c.DialogHelper),i.__metadata("design:type",c.DialogHelper)],b.prototype,"dialogHelper",void 0),i.__decorate([(0,a.newInstance)(h.ScreenService),i.__metadata("design:type",h.ScreenService)],b.prototype,"ownScreenService",void 0),i.__decorate([(0,a.newInstance)(f.ScreenApiClientSettings),i.__metadata("design:type",f.ScreenApiClientSettings)],b.prototype,"screenApiClientSettings",void 0),i.__decorate([n.observable,i.__metadata("design:type",HTMLIFrameElement)],b.prototype,"iframeElement",void 0),i.__decorate([a.autoinject,i.__metadata("design:type",r.TaskQueue)],b.prototype,"tq",void 0),i.__decorate([(0,r.computedFrom)("screenRef.currentViewModel","config.uiType"),i.__metadata("design:type",d.PXScreen),i.__metadata("design:paramtypes",[])],b.prototype,"screenVM",null),i.__decorate([(0,r.computedFrom)("config.screenId"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],b.prototype,"screenPath",null),i.__decorate([(0,r.computedFrom)("config.screenId","config.isReport"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],b.prototype,"legacyScreenPath",null),i.__decorate([(0,r.computedFrom)("config.navigationUrl"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],b.prototype,"isGI",null),i.__decorate([(0,r.computedFrom)("config.screenId"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],b.prototype,"screenID",null),i.__decorate([(0,r.computedFrom)("screenVM","config.uiType"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],b.prototype,"screenService",null),i.__decorate([(0,r.computedFrom)("config.navigationParameters"),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[])],b.prototype,"keyFieldNames",null),b=i.__decorate([(0,r.customElement)("qp-inline-screen"),i.__param(0,(0,r.inject)(u.SessionUrlRouter)),i.__metadata("design:paramtypes",[Object])],b),t.QpInlineScreenCustomElement=b;class SearchParamsClass{constructor(e){this.searchParams=e}}t.SearchParamsClass=SearchParamsClass}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/menu/qp-menu":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099),i(2172)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpMenuCustomElement=void 0;(0,r.getLogger)("qp-menu");let a=class QpMenuCustomElement{constructor(e,t){this.eventManager=e,this.redirector=t,this.menuOpened=!1,this.showOpener=!1}stopPropagation(e){return e.stopPropagation(),!1}attached(){n.PLATFORM.global.px&&n.PLATFORM.global.px.setTitle(this.menuElement,this.config.toolTip)}configChanged(e,t){var i;this.showOpener=(null===(i=this.config)||void 0===i?void 0:i.options)&&this.config.options.length&&!this.config.hideOpener}processMenuClick(e,t,i){const n=this.config.options.find((i=>"MenuButton"===i.type&&(e&&i.id===e||t&&i.commandName===t)));if(!n||n.disabled)return!1;this.hideMenu();const r=new CustomEvent("menuselected",{bubbles:!0,detail:{event:i,id:e,commandName:"",popupPanel:""}});return n.commandName?(r.detail.commandName=t,this.menuElement.dispatchEvent(r)):n.navigateUrl?this.redirector.openUrl(n.navigateUrl,n.target,n.openFrameset):n.popupPanel?(r.detail.popupPanel=n.popupPanel,this.menuElement.dispatchEvent(r)):this.menuElement.dispatchEvent(r),!1}processButtonMousedown(e){return!(!this.config.commandName||this.config.disabled)||this.toggleMenu(e)}processButtonClick(e){if(this.config.commandName&&!this.config.disabled){this.hideMenu();const t={event:e,id:this.config.id,commandName:this.config.commandName},i=new CustomEvent("menuselected",{bubbles:!0,detail:t});return this.menuElement.dispatchEvent(i),!1}return this.stopPropagation(e)}toggleMenu(e){var t;return!(null===(t=this.config.options)||void 0===t?void 0:t.length)||(this.menuOpened?this.hideMenu():this.showMenu(),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1)}showMenu(){n.PLATFORM.global.document.dispatchEvent(new MouseEvent("mousedown")),this.menuElement.focus(),this.documentMouseDownSubscription=this.eventManager.addEventListener(n.PLATFORM.global.document,"mousedown",(e=>this.hideMenu()),n.delegationStrategy.none,!0),this.menuOpened=!0}hideMenu(){this.unsubscribeFromMouseDownOnDocument(),this.menuOpened=!1}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"config",void 0),a=i.__decorate([n.autoinject,(0,n.customElement)("qp-menu"),i.__metadata("design:paramtypes",[n.EventManager,o.RedirectHelper])],a),t.QpMenuCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/au/component-id-custom-attribute":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework")],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentIdCustomAttribute=t.ComponentIdTranslator=void 0;let r=class ComponentIdTranslator{constructor(e){this.map={},this.element=e;const t=this.element.componentIdAttribute;t&&(t.translator=this)}add(e,t){return this.map[e]=t,this}translate(e){return this.map[e]}};r=i.__decorate([n.noView,n.autoinject,i.__metadata("design:paramtypes",[Element])],r),t.ComponentIdTranslator=r;let o=class ComponentIdCustomAttribute{constructor(e){this.children=[],this.element=e,this.element.componentIdAttribute=this}attached(){this.update()}update(){const e=this.getComposedId();e?this.element.setAttribute("id",e):this.element.removeAttribute("id"),this.children.forEach((e=>e.update()))}addChild(e){e&&!this.children.find((t=>t===e))&&this.children.push(e)}getComposedId(){if(!this.id)return;const e=this.getParentAttribute();if(!e)return this.id;e.addChild(this);const t=e.getComposedId(),i=e.translateId(this.id);return t?`${t}_${i}`:i}translateId(e){var t;let i=this;for(;i;){const n=null===(t=i.translator)||void 0===t?void 0:t.translate(e);if(n)return n;i=i.getParentAttribute()}return e}getParentAttribute(){let e=this.element.parentElement;for(;e;){const t=e.componentIdAttribute;if(t)return t;e=e.parentElement}}};i.__decorate([(0,n.bindable)({primaryProperty:!0,changeHandler:"update"}),i.__metadata("design:type",String)],o.prototype,"id",void 0),o=i.__decorate([n.autoinject,(0,n.customAttribute)("component-id",n.bindingMode.toView),i.__metadata("design:paramtypes",[Element])],o),t.ComponentIdCustomAttribute=o}.apply(t,n),void 0===r||(e.exports=r)},7737:(e,t,i)=>{var n,r;n=[i,t,i("aurelia-framework"),i(1901)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AureliaElementFactory=void 0;const r="AureliaElementFactory";class AureliaElementFactory{constructor(e){this.container=null!=e?e:i.Container.instance,this.templateEngine=this.container.get(i.TemplatingEngine)}static attachDispose(e,t,i){const n=e.dispose;if(n&&n.signature===r)return e;const overridden=()=>{"function"==typeof n&&n.call(e),(null==i?void 0:i.parent)===t.parentElement&&t.remove(),(null==i?void 0:i.dispose)&&i.dispose()};return overridden.signature=r,e.dispose=overridden,e}createControl(e,t){var i,n;const r=this.createElement(e,t),o=null===(n=null===(i=null==r?void 0:r.au)||void 0===i?void 0:i.controller)||void 0===n?void 0:n.viewModel;if(!o)throw new TypeError;return AureliaElementFactory.attachDispose(o,r,t),o}static getControl(e){var t,i;let n=null===(i=null===(t=null==e?void 0:e.au)||void 0===t?void 0:t.controller)||void 0===i?void 0:i.viewModel;return n&&"Compose"===n.constructor.name&&(n=n.currentViewModel),n}createElement(e,t){var i,r;const o=document.createElement(e);return null===(i=null==t?void 0:t.parent)||void 0===i||i.appendChild(o),n.Tools.forEach(null==t?void 0:t.attrs,((e,t)=>{"function"==typeof e?o.addEventListener(t,e):o.setAttribute(t,e)})),n.Tools.forEach(null==t?void 0:t.model,((e,t)=>{"function"==typeof e?o.setAttribute(`${t}.delegate`,`${t}($event)`):o.setAttribute(`${t}.bind`,t)})),this.templateEngine.enhance({element:o,container:this.container,bindingContext:null!==(r=null==t?void 0:t.model)&&void 0!==r?r:{}}),o}}t.AureliaElementFactory=AureliaElementFactory}.apply(t,n),void 0===r||(e.exports=r)},1273:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Env=void 0;const i={agentName:window.navigator.userAgent.toLowerCase(),contains(e){return-1!==this.agentName.indexOf(e)}};t.Env={os:{isWindows:()=>i.contains("win"),isMacOS:()=>i.contains("mac os x"),isiOS:()=>i.contains("iphone")||i.contains("ipad"),isAndroid:()=>i.contains("android")},browser:{isFirefox:()=>i.contains("firefox"),isIE:()=>i.contains("msie")||i.contains("trident"),isChromium:()=>i.contains("chrome")&&!i.contains("chromeframe"),IsSafari:()=>(i.contains("safari")||i.contains("mobile/"))&&i.contains("applewebkit"),IsEdge:()=>i.contains("edge/")&&i.contains("chrome")&&i.contains("safari")&&i.contains("applewebkit")}}}.apply(t,[i,t]),void 0===n||(e.exports=n)},6641:(e,t,i)=>{var n,r;n=[i,t,i(1901)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0;class EventSubscriber{constructor(e,t,n,r){this.targetEvent=t,this.callback=n,this.options=r,this.eventTarget=e,this.eventTarget&&i.Tools.forEach(i.Tools.explode(this.targetEvent," "),(e=>{var t;null===(t=this.eventTarget)||void 0===t||t.addEventListener(e,this.callback,this.options)}))}dispose(){this.eventTarget&&(i.Tools.forEach(i.Tools.explode(this.targetEvent," "),(e=>{var t;null===(t=this.eventTarget)||void 0===t||t.removeEventListener(e,this.callback,this.options)})),this.eventTarget=void 0)}}t.EventManager=class EventManager{constructor(){this.subscribers=[]}on(e,t,i,n){const r=new EventSubscriber(e,t,i,n);return this.subscribers.push(r),{dispose:()=>{const e=this.subscribers.indexOf(r);-1!==e&&(this.subscribers.splice(e,1),r.dispose())}}}dispose(){this.subscribers.forEach((e=>e.dispose())),this.subscribers=[]}}}.apply(t,n),void 0===r||(e.exports=r)},6089:(e,t,i)=>{var n,r;n=[i,t,i(1901),i(1273),i(6641)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShortcutService=t.isEscapeKey=t.isFunctionKey=t.hasShortcutModifier=t.isInsertFromPasteOrDrop=t.isInsertTextDataNull=t.isInsertReplacementText=t.isTypingKeyboardEvent=t.isNonTypingKeyboardEvent=t.isDeleteEvent=t.parseShortcut=t.createDisplayShortcut=t.encodedShortcutPattern=t.VK=void 0,t.VK={BACKSPACE:"Backspace",DELETE:"Delete",DOWN:"ArrowDown",ENTER:"Enter",ESC:"Escape",LEFT:"ArrowLeft",RIGHT:"ArrowRight",SPACEBAR:" ",TAB:"Tab",UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",CAPS_LOCK:"CapsLock",NUM_LOCK:"NumLock",PRINT_SCREEN:"F13",SCROLL_LOCK:"ScrollLock",PAUSE:"Pause",INSERT:"Insert",ALT:"Alt",SHIFT:"Shift",CTRL:"Control",META:"Meta",CONTEXT:"ContextMenu",modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||t.VK.metaKeyPressed(e),metaKeyPressed:e=>n.Env.os.isMacOS()||n.Env.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey};const o=i.Tools.makeMap("alt,ctrl,shift,meta,access"),isModifier=e=>e in o;function encodedShortcutPattern(e){return e.replace(/\+\s*\>/g,`+${">".charCodeAt(0)}`).trim()}function parseShortcut(e){const t={},r=n.Env.os.isMacOS()||n.Env.os.isiOS();i.Tools.forEach(i.Tools.explode(e.toLowerCase(),"+"),(e=>{isModifier(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.key=String.fromCharCode(parseInt(e)):t.key=e}));const a=[t.key];let l;for(l in o)t[l]?a.push(l):t[l]=!1;return t.id=a.join(","),t.access&&(t.alt=!0,r?t.ctrl=!0:t.shift=!0),t.meta&&(r?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t}t.encodedShortcutPattern=encodedShortcutPattern,t.createDisplayShortcut=function createDisplayShortcut(e){const t=n.Env.os.isMacOS()||n.Env.os.isiOS();return i.Tools.map(i.Tools.explode(e.trim()),(e=>i.Tools.map(i.Tools.explode(encodedShortcutPattern(e),">"),(e=>{const n=[];return i.Tools.forEach(i.Tools.explode(e.toLowerCase(),"+"),(e=>{isModifier(e)?n.push((e=>e?e.charAt(0).toUpperCase()+e.substring(1).toLowerCase():e)("meta"!==e||t?e:"ctrl")):n.push(e.toUpperCase())})),n.join("+")})).join(" "))).join(", ")},t.parseShortcut=parseShortcut;const a=[t.VK.TAB,t.VK.ESC,t.VK.HOME,t.VK.END,t.VK.PAUSE,t.VK.CAPS_LOCK,t.VK.PRINT_SCREEN,t.VK.NUM_LOCK,t.VK.SCROLL_LOCK,t.VK.PAGE_UP,t.VK.PAGE_DOWN,t.VK.INSERT,t.VK.ALT,t.VK.SHIFT,t.VK.CTRL,t.VK.META,t.VK.CONTEXT,t.VK.DOWN,t.VK.UP,t.VK.LEFT,t.VK.RIGHT];function isDeleteEvent(e){const i=e.key;return i===t.VK.BACKSPACE||i===t.VK.DELETE}function hasShortcutModifier(e){return e.altKey||e.ctrlKey||e.metaKey}function isEscapeKey(e){return"keydown"===e.type&&e.key===t.VK.ESC}t.isDeleteEvent=isDeleteEvent,t.isNonTypingKeyboardEvent=function isNonTypingKeyboardEvent(e){const i=e.key;return!isDeleteEvent(e)&&(t.VK.metaKeyPressed(e)||e.altKey||e.keyCode>=112&&e.keyCode<=123||-1!==a.indexOf(i))},t.isTypingKeyboardEvent=function isTypingKeyboardEvent(e){return!(isDeleteEvent(e)||"keyup"===e.type&&229===e.keyCode)},t.isInsertReplacementText=function isInsertReplacementText(e){return"insertReplacementText"===e.inputType},t.isInsertTextDataNull=function isInsertTextDataNull(e){return"insertText"===e.inputType&&null===e.data},t.isInsertFromPasteOrDrop=function isInsertFromPasteOrDrop(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType},t.hasShortcutModifier=hasShortcutModifier,t.isFunctionKey=function isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},t.isEscapeKey=isEscapeKey;t.ShortcutService=class ShortcutService{constructor(e){this.root={},e&&(this.eventManager=new r.EventManager,this.eventManager.on(e,"keyup keydown",(e=>this.dispatch(e)),!0))}dispose(){var e;null===(e=this.eventManager)||void 0===e||e.dispose()}dispatch(e,t){e.defaultPrevented||"keyup"!==e.type&&"keydown"!==e.type||this.dispatchKeyboardEvent(e,t)}addShortcut(e,t,n){return i.Tools.forEach(i.Tools.explode(e.trim()),(e=>{this.createShortcut(this.root,e,t,n)})),this}createShortcut(e,t,n,r){let o=e;t=encodedShortcutPattern(t),i.Tools.forEach(i.Tools.map(i.Tools.explode(t,">"),parseShortcut),(e=>{o.patterns||(o.patterns={});const t=o.patterns[e.id]||{shortcut:e};o.patterns[e.id]=t,o=t})),e!==o&&(o.handler=n,o.scope=r)}matchShortcut(e,t){return!(!e||!t)&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&(e.key.toLowerCase()===t.key.toLowerCase()&&(e.preventDefault(),e.stopImmediatePropagation(),!0)))}executeShortcut(e,t){var i;null===(i=e.handler)||void 0===i||i.call(e.scope||t,t)}dispatchKeyboardEvent(e,t){var n;if(this.pendingPatterns&&isEscapeKey(e))return this.pendingPatterns=void 0,void e.preventDefault();if(hasShortcutModifier(e)||e.key.length>1){const r=null!==(n=this.pendingPatterns)&&void 0!==n?n:this.root.patterns;i.Tools.forEach(r,(i=>{if(i.shortcut&&this.matchShortcut(e,i.shortcut))return"keydown"===e.type&&this.executeShortcut(i,t),this.pendingPatterns=i.patterns,!1}))}else"keydown"===e.type&&(this.pendingPatterns=void 0)}}}.apply(t,n),void 0===r||(e.exports=r)},1901:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tools=t.normalizeLineBreaks=void 0,t.normalizeLineBreaks=function normalizeLineBreaks(e){return e.replace(/\r\n/g,"\n")};const isArrayLike=e=>void 0!==e.length;t.Tools={newGuid:()=>{const s=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return s()+s()+"-"+s()+"-"+s()+"-"+s()+"-"+s()+s()+s()},makeMap:(e,i,n={})=>{const r=t.Tools.explode(e,i);let o=r.length;for(;o--;)n[r[o]]={};return n},explode:(e,t)=>Array.isArray(e)?e:""===e?[]:e.split(t||",").map((e=>e.trim())),some:(e,i,n)=>{if(!e)return!1;n=n||e;let r=!1;return isArrayLike(e)?t.Tools.forEach(e,((e,t,o)=>{if(!0===i.call(n,e,t,o))return r=!0,!1})):t.Tools.forEach(e,((e,t,o)=>{if(!0===i.call(n,e,t,o))return r=!0,!1})),r},forEach:(e,t,i)=>{if(!e)return!1;if(i=i||e,isArrayLike(e)){for(let n=0,r=e.length;n<r;n++)if(!1===t.call(i,e[n],n,e))return!1}else for(const n in e)if(e.hasOwnProperty(n)&&!1===t.call(i,e[n],n,e))return!1;return!0},map:(e,i)=>{const n=[];return t.Tools.forEach(e,((t,r)=>{n.push(i(t,r,e))})),n},toRecord:(e,t)=>e.reduce(((e,i)=>(e[i[t]]=i,e)),{}),extend:(e,...t)=>{if(e)for(const i of t)for(const t in i)if(i.hasOwnProperty(t)){const n=i[t];void 0!==n&&(e[t]=n)}return e},merge:(e,t)=>{let i=0,n=0;const r=[];for(;i<e.length&&n<t.length;)r.push(e[i]<=t[n]?e[i++]:t[n++]);return r.concat(e.slice(i)).concat(t.slice(n))},defineProperty:(e,t,i)=>{e.hasOwnProperty(t)||Object.defineProperty(e,t,i)},defineProperties:(e,i)=>{t.Tools.forEach(i,((i,n)=>{t.Tools.defineProperty(e,n,i)}))}}}.apply(t,[i,t]),void 0===n||(e.exports=n)},1527:(e,t,i)=>{var n,r;n=[i,t,i(655),i(1901)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeType=t.Type=t.createCachedModel=t.defaultModelConverter=t.asyncResolveValue=t.resolveIntoGetter=t.resolveValue=t.Lazy=t.mutable=void 0,t.mutable=function mutable(e){return e};class Lazy{constructor(e){this.getter=e}get(){const e=this.getter();return this.getter=()=>e,e}}function defaultModelConverter(e,t,i,n){return"getPushed"===e&&(n.toggle=r.isFunction(t)),"icon"===e&&t&&(n.images={normal:t}),t}var r;t.Lazy=Lazy,t.resolveValue=function resolveValue(e){return"function"==typeof e?e():e||""},t.resolveIntoGetter=function resolveIntoGetter(e){return"function"==typeof e?e:"string"==typeof e?()=>e:void 0},t.asyncResolveValue=function asyncResolveValue(e){return i.__awaiter(this,void 0,void 0,(function*(){return"function"==typeof e?yield e():e||""}))},t.defaultModelConverter=defaultModelConverter,t.createCachedModel=function createCachedModel(e,t,i=defaultModelConverter){var o;return(null!==(o=(null==t?void 0:t.model)===e?t:null)&&void 0!==o?o:{model:e,refresh:function(){const t=this;return n.Tools.forEach(e,((o,a)=>{if("refresh"!==a)if(o=i(a,o,e,t),r.isFunction(o))if(0===o.length&&a.length>3&&0===a.indexOf("get")){const n=new Lazy(o.bind(e));t[a]=n.get.bind(n);const r=a.substring(3).toLowerCase();i(r,o,e,t),t.hasOwnProperty(r)||Object.defineProperty(t,r,{get:()=>t[a].call(t)})}else t[a]=o.bind(e);else r.isArrayOf(o,r.isObject)?t[a]=n.Tools.map(o,((e,i)=>{var n;return createCachedModel(e,(null!==(n=t[a])&&void 0!==n?n:[])[i])})):r.isObject(o)?t[a]=createCachedModel(o,t[a]):t[a]=o})),t}}).refresh()},function(e){const t=Object.getPrototypeOf,hasProto=(e,t,i)=>{var n;return!!i(e,t.prototype)||(null===(n=e.constructor)||void 0===n?void 0:n.name)===t.name},isType=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&hasProto(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,isSimpleType=e=>t=>typeof t===e,eq=e=>t=>e===t;e.is=(i,n)=>e.isObject(i)&&hasProto(i,n,((e,i)=>t(e)===i)),e.isString=isType("string"),e.isObject=isType("object"),e.isPlainObject=t=>e.is(t,Object),e.isArray=isType("array"),e.isNull=eq(null),e.isBoolean=isSimpleType("boolean"),e.isUndefined=eq(void 0),e.isNullable=e=>null==e,e.isNonNullable=t=>!e.isNullable(t),e.isFunction=isSimpleType("function"),e.isNumber=isSimpleType("number"),e.isArrayOf=(t,i)=>{if(e.isArray(t)){for(let e=0,n=t.length;e<n;++e)if(!i(t[e]))return!1;return!0}return!1}}(r=t.Type||(t.Type={})),function(e){const isNodeType=e=>t=>!!t&&t.nodeType===e;e.isRestrictedNode=e=>!!e&&!Object.getPrototypeOf(e),e.isElement=isNodeType(Node.ELEMENT_NODE);const matchNodeName=e=>{const t=e.toLowerCase();return e=>r.isNonNullable(e)&&e.nodeName.toLowerCase()===t},matchNodeNames=e=>{const t=e.map((e=>e.toLowerCase()));return e=>{if(e&&e.nodeName){const i=e.nodeName.toLowerCase();return-1!==t.indexOf(i)}return!1}};e.isTable=t=>e.isElement(t)&&"TABLE"===t.tagName;const hasContentEditableState=t=>i=>{if(e.isElement(i)){if(i.contentEditable===t)return!0;if(i.getAttribute("data-mce-contenteditable")===t)return!0}return!1};e.isTextareaOrInput=matchNodeNames(["textarea","input"]),e.isText=isNodeType(Node.TEXT_NODE),e.isCData=isNodeType(Node.CDATA_SECTION_NODE),e.isPi=isNodeType(Node.PROCESSING_INSTRUCTION_NODE),e.isComment=isNodeType(Node.COMMENT_NODE),e.isDocument=isNodeType(Node.DOCUMENT_NODE),e.isDocumentFragment=isNodeType(Node.DOCUMENT_FRAGMENT_NODE),e.isBr=matchNodeName("br"),e.isImg=matchNodeName("img"),e.isContentEditableTrue=hasContentEditableState("true"),e.isContentEditableFalse=hasContentEditableState("false"),e.isTableCell=matchNodeNames(["td","th"]),e.isTableCellOrCaption=matchNodeNames(["td","th","caption"]),e.isMedia=matchNodeNames(["video","audio","object","embed"]),e.isListItem=matchNodeName("li"),e.isAnchor=matchNodeNames(["a"])}(t.NodeType||(t.NodeType={}))}.apply(t,n),void 0===r||(e.exports=r)},1419:(e,t,i)=>{var n,r;n=[i,t,i(655),i("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar"),i("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-button"),i("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-button-group"),i("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-color-picker"),i("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item"),i("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-selector"),i("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-separator")],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.__exportStar(n,t),i.__exportStar(r,t),i.__exportStar(o,t),i.__exportStar(a,t),i.__exportStar(l,t),i.__exportStar(d,t),i.__exportStar(c,t)}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-button-group":(e,t,i)=>{var n,r;n=[i,t,i(1901),i(1527),i(3961),i("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item")],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarButtonGroupViewModel=void 0;class QpToolbarButtonGroupViewModel extends o.QpToolbarItemBaseViewModel{refresh(){var e;super.refresh(),i.Tools.forEach(null===(e=this.model)||void 0===e?void 0:e.buttons,(e=>{var t;i.Tools.extend(e,{id:null!==(t=e.id)&&void 0!==t?t:i.Tools.newGuid()})})),this.updateMenu()}updateMenu(){if(!this.model||!this.model.buttons.length)return void(this.menuConfig=void 0);const e="toggle"===this.model.mode;let t=0;e&&(t=Math.max(0,this.model.buttons.findIndex((e=>e.pushed))));const i=this.model.buttons[t],o=this.model.buttons.slice(0);"group"===this.model.mode&&o.splice(t,1),this.model.tooltip=i.tooltip,this.menuConfig=Object.assign(this.menuConfig||{options:[]},{id:i.id,commandName:e?"":i.id,text:"icons"===this.model.showMode&&(0,r.encodeIconUrl)(i.icon)?"":(0,n.resolveValue)(i.label),disabled:!1===i.enabled,images:"labels"!==this.model.showMode?{normal:(0,r.encodeIconUrl)(i.icon)}:{}});const a=o.map((t=>({type:"MenuButton",id:t.id,commandName:e?"":t.id,text:(0,n.resolveValue)(t.label),disabled:!1===t.enabled,images:"labels"!==this.model.showMode?{normal:(0,r.encodeIconUrl)(t.icon)}:{}}))),l=Math.max(a.length,this.menuConfig.options.length);for(let e=0;e<l;e++)if(e>=this.menuConfig.options.length)this.menuConfig.options.push(a[e]);else{if(!(e<a.length)){this.menuConfig.options.splice(e,this.menuConfig.options.length-e);break}Object.assign(this.menuConfig.options[e],a[e])}}getButton(e){var t;return null===(t=this.model)||void 0===t?void 0:t.buttons.find((t=>t.id===e))}processButton(e){const t=e.detail,i=this.getButton(t.id);i&&setTimeout((()=>{i.execute(),this.updateMenu(),super.handleActionExecuted()}))}captureClick(e){var t;(null===(t=this.menuConfig)||void 0===t?void 0:t.disabled)&&(e.preventDefault(),e.stopImmediatePropagation())}}t.QpToolbarButtonGroupViewModel=QpToolbarButtonGroupViewModel}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-button":(e,t,i)=>{var n,r;n=[i,t,i("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item")],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarButtonViewModel=void 0;class QpToolbarButtonViewModel extends i.QpToolbarItemBaseViewModel{performCommand(){this.model&&!1!==this.model.enabled&&(this.model.execute(),super.handleActionExecuted())}}t.QpToolbarButtonViewModel=QpToolbarButtonViewModel}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-color-picker":(e,t,i)=>{var n,r;n=[i,t,i(1901),i("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item")],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarColorPickerViewModel=void 0;class QpToolbarColorPickerViewModel extends n.QpToolbarItemBaseViewModel{refresh(){super.refresh(),this.model&&i.Tools.extend(this.model,{allowAdjust:!!this.model.addUserColor,disabled:!1===this.model.enabled})}colorSelected(e){var t;this.selectColor(null===(t=e.detail)||void 0===t?void 0:t.color)}newColorAdded(e){var t,i,n,r;null===(i=null===(t=this.model)||void 0===t?void 0:t.addUserColor)||void 0===i||i.call(this.model,null!==(r=null===(n=e.detail)||void 0===n?void 0:n.color)&&void 0!==r?r:"")}selectColor(e){var t;null===(t=this.model)||void 0===t||t.select(e),super.handleActionExecuted()}}t.QpToolbarColorPickerViewModel=QpToolbarColorPickerViewModel}.apply(t,n),void 0===r||(e.exports=r)},3961:(e,t,i)=>{var n,r;n=[i,t,i(2276)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconMap=t.encodeIconUrl=void 0,t.encodeIconUrl=function encodeIconUrl(e){var n;return"string"==typeof e?null!==(n=t.IconMap[(0,i.normalizeEntityName)(e)])&&void 0!==n?n:e:void 0},t.IconMap={undo:"main@Cancel",redo:"main@Redo",bold:"text@Bold",italic:"text@Italic",underline:"text@Underline",strikethrough:"text@Strike",subscript:"text@Sub",superscript:"text@Super",indent:"text@IndentR",outdent:"text@IndentL",justifyleft:"text@JustifyLeft",justifyright:"text@JustifyRight",justifycenter:"text@JustifyCenter",justifyfull:"text@JustifyFull",insertorderedlist:"text@Ordered",insertunorderedlist:"text@UnOrdered",forecolor:"svg:rte@colorText",backcolor:"svg:rte@colorBg",hilitecolor:"svg:rte@colorBg"}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7737),i(1527),i(3961)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarItemCustomElement=t.toolbarModelConverter=t.QpToolbarItemBaseViewModel=void 0;let l=class QpToolbarItemBaseViewModel{constructor(e){this.element=e}dispose(){this.model=void 0}activate(e){this.model=e}bind(){}refresh(){}handleActionExecuted(){var e;null===(e=this.element)||void 0===e||e.dispatchEvent(new CustomEvent("action-executed",{bubbles:!0,detail:null}))}};function toolbarModelConverter(e,t,i,n){return"icon"===e?(n.images={normal:(0,a.encodeIconUrl)(t)},t):(0,o.defaultModelConverter)(e,t,i,n)}l=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[Element])],l),t.QpToolbarItemBaseViewModel=l,t.toolbarModelConverter=toolbarModelConverter;let d=class QpToolbarItemCustomElement{bind(){this.refresh()}getInnerControl(){return r.AureliaElementFactory.getControl(this.control)}configChanged(){this.refresh()}refresh(){var e,t;this.config?(this.model=(0,o.createCachedModel)(this.config.model,this.model,toolbarModelConverter),this.separator=this.config.separator?{id:this.config.separator.id,modelName:this.config.separator.modelName,model:(0,o.createCachedModel)(this.config.separator.model,null===(e=this.separator)||void 0===e?void 0:e.model,toolbarModelConverter)}:void 0):(this.model=void 0,this.separator=void 0);const i=this.getInnerControl();null===(t=null==i?void 0:i.refresh)||void 0===t||t.call(i)}dispose(){this.model=void 0;const e=this.getInnerControl();null==e||e.dispose()}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],d.prototype,"config",void 0),d=i.__decorate([(0,n.customElement)("qp-control-bar-item")],d),t.QpToolbarItemCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-selector":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2374),i(3961),i("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item")],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarSelectorViewModel=void 0;class QpToolbarSelectorViewModel extends a.QpToolbarItemBaseViewModel{constructor(){super(...arguments),this.updating=!1}refresh(){var e;super.refresh(),this.css="";let t=null===(e=this.model)||void 0===e?void 0:e.width;if("string"!=typeof t||!t){const e=Math.max(...this.model.options.map((e=>e.label.length)));e!==-1/0&&(t=`${e}ch`)}t&&(this.css=`--control-editor-width: ${t}; --control-editor-box-sizing: content-box;`),this.updating=!0;try{this.updateSelector()}finally{this.updating=!1}}updateSelector(){var e;if(!this.model)return void(this.selectorConfig=void 0);this.selectorConfig||(this.selectorConfig=Object.assign({options:[]},QpToolbarSelectorViewModel.defaultConfig));const t=this.model.value;let i=[...this.model.options];if(t&&!i.find((e=>{var i,n;return(null!==(i=e.value)&&void 0!==i?i:e.label)===(null!==(n=t.value)&&void 0!==n?n:t.label)}))&&i.push(t),this.model.sort){const sortProc=()=>!i.find((e=>isNaN(parseInt(e.label))))?(e,t)=>{const i=parseInt(e.label),n=parseInt(t.label);return isNaN(i)||isNaN(n)?e.label.localeCompare(t.label):i-n}:(e,t)=>e.label.localeCompare(t.label);i=i.sort(sortProc())}const n=i.map((e=>({value:e.label,text:e.label,selected:e===t,imageUrl:(0,o.encodeIconUrl)(e.icon),enabled:!0}))),r=Math.max(n.length,this.selectorConfig.options.length);for(let e=0;e<r;e++)if(e>=this.selectorConfig.options.length)this.selectorConfig.options.push(n[e]);else{if(!(e<n.length)){this.selectorConfig.options.splice(e,this.selectorConfig.options.length-e);break}Object.assign(this.selectorConfig.options[e],n[e])}this.selectorConfig.enabled=!1!==this.model.enabled,this.value=null!==(e=null==t?void 0:t.label)&&void 0!==e?e:""}valueChanged(e){var t,i;if(this.updating)return;const n=null!==(i=null===(t=this.model)||void 0===t?void 0:t.options.find((t=>t.label===e)))&&void 0!==i?i:null;setTimeout((()=>{var e;null===(e=this.model)||void 0===e||e.setValue(n),super.handleActionExecuted()}))}}QpToolbarSelectorViewModel.defaultConfig={id:"",required:!1,enabled:!0,readOnly:!1,allowMultiSelect:!1,valueType:r.NetType.String,allowEdit:!1,allowNull:!1,autoSuggest:!1,valuesSeparator:"",colorMode:!1},i.__decorate([n.observable,i.__metadata("design:type",String)],QpToolbarSelectorViewModel.prototype,"value",void 0),t.QpToolbarSelectorViewModel=QpToolbarSelectorViewModel}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-separator":(e,t,i)=>{var n,r;n=[i,t,i("client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item")],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarSeparatorViewModel=void 0;class QpToolbarSeparatorViewModel extends i.QpToolbarItemBaseViewModel{}t.QpToolbarSeparatorViewModel=QpToolbarSeparatorViewModel}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7737),i(1901),i(1527),i(9473)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpToolbarCustomElement=void 0;let d=class QpToolbarCustomElement{constructor(e,t){this.element=e,this.bindingEngine=t,this.config={type:"main",sizing:"ellipsis",showMode:"icons"},this.items=[],this.generation=0}addItem(e){let t;return e.id&&(t=this.items.find((t=>t.id===e.id)),t)?r.AureliaElementFactory.getControl(null==t?void 0:t.ref):(t=this.createNewItem(e),this.items.push(t),this.items.length>1&&"separator"===t.modelName&&(this.items[this.items.length-2].separator=t,t.hidden=!0),new a.Lazy((()=>this.findControl(t.id))))}findControl(e){const t=this.items.find((t=>t.id===e));return r.AureliaElementFactory.getControl(null==t?void 0:t.ref)}get controls(){return o.Tools.map(this.items,(e=>r.AureliaElementFactory.getControl(e.ref))).filter((e=>!!e))}refresh(){o.Tools.forEach(this.controls,(e=>{var t;return null===(t=e.refresh)||void 0===t?void 0:t.call(e)}))}dispose(){this.disposeItems()}attached(){this.readToolbarItems()}detached(){this.disposeSourceListeners(),this.disposeGenerationListener()}actionExecuted(e){var t,i;e.stopImmediatePropagation(),null===(i=null===(t=this.layout)||void 0===t?void 0:t.hideDropDown)||void 0===i||i.call(this.layout)}configChanged(){this.config?this.generationListener=this.bindingEngine.propertyObserver(this.config,"generation").subscribe((()=>this.notifyChanged())):this.disposeGenerationListener(),this.notifyChanged()}disposeSourceListeners(){var e;null===(e=this.sourceListener)||void 0===e||e.dispose(),this.sourceListener=void 0}attachSourceListeners(){this.source&&(this.sourceListener=new l.MutationListener(this.source,(e=>{e.some((e=>"childList"===e.type&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].some((e=>a.NodeType.isElement(e)))))&&this.notifyChanged()}),{childList:!0}))}disposeGenerationListener(){var e;null===(e=this.generationListener)||void 0===e||e.dispose(),this.generationListener=void 0}disposeItems(){o.Tools.forEach(this.items,(e=>{var t,i,n;null===(t=e.dispose)||void 0===t||t.call(e),null===(n=null===(i=r.AureliaElementFactory.getControl(e.ref))||void 0===i?void 0:i.dispose)||void 0===n||n.call(i)})),this.items.splice(0,this.items.length)}updateItems(e){let t=null;o.Tools.forEach(e,(e=>{e.separator=void 0,t&&"separator"===e.modelName&&(t.separator=e,e.hidden=!0),t=e})),this.disposeItems(),this.items.push(...e)}findItem(e){return this.items.find((t=>t.id===e))}createNewItem(e,t){var i,n;let r;const a={generation:0,id:null!==(n=null!==(i=e.id)&&void 0!==i?i:e.model.id)&&void 0!==n?n:o.Tools.newGuid(),modelName:e.modelName,model:o.Tools.extend(e.model,{showMode:this.config.showMode||"icons"}),dispose:()=>{null==r||r.dispose(),r=void 0,null==t||t(),t=void 0}},generationChanged=()=>{var e,t;return null===(t=null===(e=this.findControl(a.id))||void 0===e?void 0:e.refresh)||void 0===t?void 0:t.call(e)};return r=new l.Disposables([this.bindingEngine.propertyObserver(a,"generation").subscribe(generationChanged),this.bindingEngine.propertyObserver(a.model,"generation").subscribe(generationChanged)]),a}notifyChanged(){this.generation++}generationChanged(){this.readToolbarItems()}readToolbarItems(){var e,t;let i;if(null===(e=this.config)||void 0===e?void 0:e.items)this.disposeSourceListeners(),i=o.Tools.map(this.config.items,(e=>this.createNewItem(e)));else if(this.source){this.attachSourceListeners(),i=[];let e=this.source.firstChild;for(;e;){if(a.NodeType.isElement(e)){const n=this.createDefinition(e);if(n){const r=null!==(t=n.id)&&void 0!==t?t:n.model.id,o=r?new l.MutationListener(e,(e=>{if(!e.some((e=>{var t;return"attributes"===e.type&&(null!==(t=e.attributeName)&&void 0!==t?t:"").startsWith("data-")})))return;const t=this.findItem(r);t&&t.generation++}),{attributes:!0}):void 0;i.push(this.createNewItem(n,null==o?void 0:o.dispose.bind(o)))}}e=e.nextSibling}}i&&this.updateItems(i)}createDefinition(e){var t;if(!a.NodeType.isElement(e))return;const getAttr=t=>{var i;return null!==(i=e.getAttribute(t))&&void 0!==i?i:void 0},getStrGetter=t=>e.hasAttribute(t)?()=>{var i;return null!==(i=e.getAttribute(t))&&void 0!==i?i:""}:void 0,getBoolGetter=(t,i)=>e.hasAttribute(t)?()=>((t,i)=>"true"===(e.getAttribute(t)||i).toLowerCase())(t,i):void 0;let i=e.nodeName.toLowerCase();"item"===i&&(i=null!==(t=getAttr("data-type"))&&void 0!==t?t:"");return"button"===i?{modelName:"button",model:Object.assign(Object.assign({},{generation:0,id:getAttr("id"),icon:getAttr("data-icon"),shortcut:getAttr("data-shortcut"),getLabel:getStrGetter("data-label"),getTooltip:getStrGetter("data-tooltip"),getEnabled:getBoolGetter("data-enabled","true"),getVisible:getBoolGetter("data-visible","true")}),{getPushed:getBoolGetter("data-pushed","false"),execute:()=>e.dispatchEvent(new MouseEvent("click"))})}:void 0}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],d.prototype,"config",void 0),i.__decorate([n.observable,i.__metadata("design:type",Number)],d.prototype,"generation",void 0),d=i.__decorate([(0,n.customElement)("qp-control-bar"),i.__metadata("design:paramtypes",[Element,n.BindingEngine])],d),t.QpToolbarCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/editor/anchor":(e,t,i)=>{var n,r;n=[i,t,i(2276),i(4005),i(1527)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.EditorPlugins.register("anchor",(e=>({name:e,dispatch(e){const t=e.source;if(e.name===i.EditorEventName.AnchorSelected&&"preview"===t.mode){const t=e.as(CustomEvent).detail.data;r.NodeType.isAnchor(t)&&t.href&&window.open(t.href,"_blank")}return!0}})))}.apply(t,n),void 0===r||(e.exports=r)},7172:(e,t,i)=>{var n,r;n=[i,t,i(1527),i(1901),i(5583)],r=function(e,t,i,n,r){"use strict";function sizeToPx(e){var t;const i=e.toLowerCase().match(/^([\d\.]+)(\D*)$/);if(!i)return 0;let n=parseFloat(i[1]);return isNaN(n)?0:("pt"===(null!==(t=i[2])&&void 0!==t?t:"").toLowerCase()&&(n=n/1.5*2),n)}function getCSSProperty(e,t,i){var n;const r=e.ownerDocument;return(null!==(n=null==r?void 0:r.defaultView)&&void 0!==n?n:window).getComputedStyle(e).getPropertyValue(t)||i}Object.defineProperty(t,"__esModule",{value:!0}),t.DOMUtils=t.HTMLUtils=t.TextUtils=t.getNumberCSSProperty=t.getCSSProperty=t.sizeToPx=void 0,t.sizeToPx=sizeToPx,t.getCSSProperty=getCSSProperty,t.getNumberCSSProperty=function getNumberCSSProperty(e,t,i=0){const n=getCSSProperty(e,t);return void 0!==n?sizeToPx(n):i};const o="data-rte-style";class DecomposedHtml{constructor(e){var t,i;if(this.format="html",this.html="",this.body="","object"==typeof e)return this.format=e.format,this.html=e.html,void(this.body=e.body);if(""===(e=e.trim()))return;if(!HTMLUtils.isHtml(e))return this.format="plain",void(this.body=e);const n=HTMLUtils.createDocument(e);try{if((null===(t=n.head)||void 0===t?void 0:t.hasChildNodes())&&n.head.querySelector("*:not(["+o+"])"))return void(this.format="html");this.format="fragment"}finally{this.body=null!==(i=n.body.innerHTML)&&void 0!==i?i:"",n.body.removeAttribute("contenteditable"),n.body.removeAttribute("spellcheck"),n.body.replaceChildren(),this.html=n.documentElement.outerHTML}}compose(e=!0,t){var i;if("plain"===this.format)return this.body;const n=HTMLUtils.createDocument(this.html);return n.body.innerHTML=e?(new r.HtmlSanitizer).SanitizeHtml(this.body):this.body,void 0!==t&&HTMLUtils.replaceEmbeddedStyles(n,t),(null===(i=n.head)||void 0===i?void 0:i.hasChildNodes())&&Array.from(n.head.querySelectorAll("*["+o+"]")).forEach((e=>e.removeAttribute(o))),n.documentElement.outerHTML}}class TextUtils{static isContentFlowNode(e){return!!e&&this.contentFlowTags.has(e.nodeName.toLowerCase())}static isContentAlwaysFilledNode(e){return!!e&&this.contentAlwaysFilledTags.has(e.nodeName.toLowerCase())}static nodeGeneratesInlineText(e,t){var i;if(!e){if(!t)return!1;const e=t.parentNode;return!!e&&(!!this.isContentFlowNode(e)&&this.nodeGeneratesInlineText(e.nextSibling,e))}return!!this.isContentAlwaysFilledNode(e)||!!this.isContentFlowNode(e)&&(e.nodeType===Node.TEXT_NODE&&0!==(null!==(i=e.textContent)&&void 0!==i?i:"").trim().length||(!!this.nodeGeneratesInlineText(e.firstChild,null)||this.nodeGeneratesInlineText(e.nextSibling,t)))}static replaceAll(e,t,i){return e.replace(new RegExp(t,"g"),i)}static compressSoftChar(e,t,i=1){const n=[];for(let e=0;e<Math.max(1,i);e++)n.push(t);const r=n.join(""),o=r+t;for(;;){const t=this.replaceAll(e,o,r);if(t.length===e.length)break;e=t}return e}static convertContentTo(e,t){Array.from(e.childNodes).forEach((e=>this.convertTo(e,t)))}static isPreformattedNode(e){const isPre=e=>{var t,i,n;if("pre"===e.nodeName.toLowerCase())return!0;const r=e.ownerDocument,o=null!==(i=null===(t=null==r?void 0:r.defaultView)||void 0===t?void 0:t.getComputedStyle(e))&&void 0!==i?i:e.style,a=null!==(n=null==o?void 0:o.whiteSpace)&&void 0!==n?n:"";return!!a.startsWith("pre")||"normal"!==a&&void 0};for(;e;){if(e.nodeType===Node.ELEMENT_NODE){const t=isPre(e);if(void 0===t){e=e.parentNode;continue}return t}e=e.parentNode}return!1}static fromTextContent(e){let t=!0;const i=[],n=String.fromCharCode(160);for(let r=0;r<e.length;r++){const o=e.charAt(r);if(" "===o){if(t)continue;i.push(" "),t=!0}else o===n?(i.push(" "),t=!1):(i.push(o),t=!1)}return i.join("")}static toTextContent(e){let t=!0;const i=[],n=String.fromCharCode(160);for(let r=0;r<e.length;r++){const o=e.charAt(r);" "===o?(t?i.push(n):i.push(" "),t=!t):(i.push(o),t=!1)}return i.join("")}static convertTo(e,t){var i,n,r;let o="";switch(e.nodeType){case Node.COMMENT_NODE:break;case Node.DOCUMENT_NODE:case Node.DOCUMENT_FRAGMENT_NODE:this.convertContentTo(e,t);break;case Node.TEXT_NODE:const a=null!==(n=null===(i=e.parentNode)||void 0===i?void 0:i.nodeName.toLowerCase())&&void 0!==n?n:"";if("script"===a||"style"===a||"head"===a)break;o=this.fromTextContent(null!==(r=e.textContent)&&void 0!==r?r:""),this.isPreformattedNode(e)||(this.nodeGeneratesInlineText(e.nextSibling,e)||(o=o.trimEnd()),o=this.replaceAll(this.replaceAll(o,"\n",this.softSpace),"\r","")),t.push(o);break;case Node.ELEMENT_NODE:switch(e.nodeName.toLowerCase()){case"hr":t.push(this.hardBreak);break;case"br":this.nodeGeneratesInlineText(e.nextSibling,e)&&t.push(this.hardBreak);break;case"tr":case"li":case"div":case"p":case"pre":t.push(this.blockStart),this.nodeGeneratesInlineText(e.firstChild,null)&&t.push(this.placeHolder)}if(e.hasChildNodes())if("td"!==e.nodeName.toLowerCase())this.convertContentTo(e,t);else{const i=[];this.convertContentTo(e,i);let n=i.join("");n=this.replaceAll(n,this.hardBreak,this.softSpace),n=this.replaceAll(n,this.blockStart,this.softSpace),n=this.replaceAll(n,this.blockEnd,this.softSpace),n=this.replaceAll(n,this.placeHolder,""),n=this.compressSoftChar(n,this.softSpace),n=this.replaceAll(n,this.softSpace," "),t.push(n.trim())}switch(e.nodeName.toLowerCase()){case"tr":case"li":case"div":case"p":case"pre":t.push(this.blockEnd);break;case"td":t.push(this.softSpace)}}}static htmlEncode(e){const t=document.createElement("span");return t.textContent=this.toTextContent(e),t.innerHTML}static htmlDecode(e){var t;const i=document.createElement("span");return i.innerHTML=e,null!==(t=i.textContent)&&void 0!==t?t:""}static convertTextToHtml(e){return e?e.split("\n").map((e=>""===e?"<p><br></p>":"<p>"+this.htmlEncode(e)+"</p>")).join("\n"):""}static nodeToText(e){var t;let i=!0,n=e.firstChild;for(;n;){if(n.nodeType!==Node.TEXT_NODE){i=!1;break}n=n.nextSibling}if(i)return null!==(t=e.textContent)&&void 0!==t?t:"";const r=[];this.convertTo(e,r);let o=r.join("");return o=this.compressSoftChar(o,this.blockStart),o=this.compressSoftChar(o,this.blockEnd),o=this.replaceAll(o,this.blockStart+this.blockEnd,""),o=this.replaceAll(o,this.blockEnd+this.blockStart,this.hardBreak),o=this.replaceAll(o,this.blockStart,this.hardBreak),o=this.replaceAll(o,this.blockEnd,this.hardBreak),o=this.replaceAll(o,this.placeHolder,""),o=this.replaceAll(this.compressSoftChar(o,this.softSpace),this.softSpace," "),o.trim()}static convertHtmlToSimpleText(e){if(!HTMLUtils.isHtml(e))return{format:"plain",html:"",body:e};const t=HTMLUtils.createDocument(e);return{format:"plain",html:"",body:this.nodeToText(t.body)}}static convertValueToPlainText(e){if(!e)return{format:"plain",html:"",body:""};if("plain"===e.format)return e;const t=HTMLUtils.createDocument("");return t.body.innerHTML=e.body,{format:"plain",html:"",body:this.nodeToText(t.body)}}static elementIsPlain(e){if("string"==typeof e){if(!e)return!0;e=HTMLUtils.createDocument(`<html><body>${e}</body></html>`).body}if(e.nodeType===Node.TEXT_NODE)return!0;const t=e.nodeName.toLowerCase();if("br"===t)return!0;if("body"!==t&&("p"!==t||e.hasAttribute("style")))return!1;const i=Array.from(e.childNodes);for(const e of i)if(!this.elementIsPlain(e))return!1;return!0}static elementHasContent(e){var t;if("string"==typeof e){if(!e)return!1;e=HTMLUtils.createDocument(`<html><body>${e}</body></html>`).body}if(i.NodeType.isElement(e)){if(e.querySelector("img, svg, video"))return!0}return!!(null===(t=e.textContent)||void 0===t?void 0:t.trim())}}function createPairedMatchExpr(e){return new RegExp(/<(tagName)\b[^>]*>(.*?)<\/\1>/.source.replace("tagName",e),"is")}t.TextUtils=TextUtils,TextUtils.contentFlowTags=new Set(["#text","br","span","i","b","a","input","select","button","sub","sup","strong","small","label","img","svg"]),TextUtils.contentAlwaysFilledTags=new Set(["br","input","select","button","img","svg"]),TextUtils.softSpace="48fa303b-ab44-43a1-91ed-99006919eae3",TextUtils.blockStart="13fc34b9-1efc-434b-bf77-4f857731c2e5",TextUtils.blockEnd="ccb5d4fc-b52b-4e8b-a256-20d0956a10c0",TextUtils.placeHolder="192d7c0a-80b1-4918-86d3-67755f4ae96f",TextUtils.hardBreak="\n";class HTMLUtils{static uniqueClass(e){return`${e||"r"}-${n.Tools.newGuid()}`}static isHtml(e){return!!e&&this.htmlMatches.some((t=>!!e.match(t)))}static createDocument(e){const normalizeDocument=e=>{var t;return"body"!==(null===(t=e.body)||void 0===t?void 0:t.tagName.toLowerCase())&&e.body.remove(),"function"!=typeof e.createElement&&"function"==typeof e.createElement.remove&&e.createElement.remove(),e.body||e.documentElement.appendChild(e.createElement("body")),e};if("string"==typeof e){const t=new DOMParser;if(!e)return normalizeDocument(t.parseFromString("","text/html"));if(this.isHtml(e))return normalizeDocument(t.parseFromString(e,"text/html"));const i=normalizeDocument(t.parseFromString("","text/html"));return i.body.textContent=e,i}return normalizeDocument(e)}static setAttribute(e,t,i){"object"==typeof t?n.Tools.forEach(t,((t,i)=>{e.setAttribute(i,t)})):"string"==typeof i&&e.setAttribute(t,i)}static addStyle(e,t){var i;const r=e.head;t=(0,n.normalizeLineBreaks)(t.trim());const a=null===(i=Array.from(r.querySelectorAll("style")))||void 0===i?void 0:i.filter((e=>(0,n.normalizeLineBreaks)(e.innerText.trim())===t));if(null==a||a.forEach((e=>e.setAttribute(o,"true"))),null==a?void 0:a.length)return;const l=e.createElement("style");this.setAttribute(l,{type:"text/css",[o]:"true"}),l.appendChild(e.createTextNode(t)),r.appendChild(l)}static addStyleLinks(e,t){const i=e.head;n.Tools.forEach(t,(t=>{try{if(i.querySelector("link[href='"+t+"']"))return}catch(e){}const n=e.createElement("link");this.setAttribute(n,{rel:"stylesheet",type:"text/css",[o]:"true"}),i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n),this.setAttribute(n,"href",t)}))}static classListToArray(e){var t;return null!==(t=null==e?void 0:e.split(" ").map((e=>e.trim())).filter((e=>!!e)))&&void 0!==t?t:[]}static embedStyles(e,t,i){if(i.cssLinks){const t=[];for(const e of i.cssLinks)t.push(e);this.addStyleLinks(e,t)}if(i.contentStyles){let t="";for(const e of i.contentStyles)t+=e+"\n";t&&this.addStyle(e,`/* RTE style begin */${t}/* RTE style end */`)}this.classListToArray(i.rootClass).forEach((e=>t.classList.add(e)))}static replaceEmbeddedStyles(e,t){var i,n,r,a;const l=this.createDocument(e);Array.from(null!==(n=null===(i=l.head)||void 0===i?void 0:i.querySelectorAll("*["+o+"]"))&&void 0!==n?n:[]).forEach((e=>e.remove())),Array.from(null!==(a=null===(r=l.head)||void 0===r?void 0:r.querySelectorAll("style"))&&void 0!==a?a:[]).forEach((e=>{var t,i;(null!==(i=null===(t=e.textContent)||void 0===t?void 0:t.trim())&&void 0!==i?i:"").startsWith("/* RTE style begin */")&&e.remove()})),t&&this.embedStyles(l,l.body,t)}static decomposeHtml(e,t){let i;return"plain"!==t?(i=new DecomposedHtml(e),{format:null!=t?t:i.format,html:i.html,body:i.body}):{format:"plain",html:"",body:e}}static composeHtml(e,t=!0,i){return new DecomposedHtml(e).compose(t,i)}static getHtmlFromDocument(e){return new DecomposedHtml(e.documentElement.outerHTML)}}t.HTMLUtils=HTMLUtils,HTMLUtils.htmlMatches=[createPairedMatchExpr("head"),function createSingleMatchExpr(e){return new RegExp(/<(tagName)\b[^>]*>/.source.replace("tagName",e),"is")}("meta"),createPairedMatchExpr("body"),createPairedMatchExpr("html")];class SelectionBookmark{constructor(e){this.dom=e;const t=e.document.getSelection();if(t){const i=e.isForwardSelection(t);this.insertMarkers(t,i)}}dispose(){var e,t;if(!this.startMarker)return;const i=this.dom.isForward(null===(e=this.startMarker)||void 0===e?void 0:e.node,null===(t=this.endMarker)||void 0===t?void 0:t.node),n=i?this.startMarker:this.endMarker,r=i?this.endMarker:this.startMarker,o=this.removeMarker(null==n?void 0:n.node,null==n?void 0:n.type),a=this.removeMarker(null==r?void 0:r.node,null==r?void 0:r.type);if(this.startMarker=void 0,this.endMarker=void 0,!o)return;const l=this.dom.document.createRange();if(l.setStart(o.node,o.offset),a)l.setEnd(a.node,a.offset);else try{l.setEnd(o.node,o.offset)}catch(e){}this.dom.setRange(l,i)}generateMarkers(){const e=this.dom.document.body.innerHTML;let t=n.Tools.newGuid();for(;-1!==e.indexOf(t);)t=n.Tools.newGuid();return{startText:"start["+t+"]",endText:"end["+t+"]"}}insertMarker(e,t,i){var n,r,o,a,l,d,c,p,u,h,g;const m=this.dom.document,f=m.createComment(i),v=SelectionBookmark.textNodeConstructors[e.nodeType];if(v){const i=m[v],h=null!==(r=null===(n=e.textContent)||void 0===n?void 0:n.substring(0,t))&&void 0!==r?r:"",g=null!==(a=null===(o=e.textContent)||void 0===o?void 0:o.substring(t))&&void 0!==a?a:"",b=i.call(m,h),y=i.call(m,g);t&&(null===(l=e.parentNode)||void 0===l||l.insertBefore(b,e)),null===(d=e.parentNode)||void 0===d||d.insertBefore(f,e),g.length&&(null===(c=e.parentNode)||void 0===c||c.insertBefore(y,e)),(null===(p=e.textContent)||void 0===p?void 0:p.length)&&(null===(u=e.parentNode)||void 0===u||u.removeChild(e))}else this.dom.insertNodeAt(e,f,t);let b;return b=v?t?t===(null!==(g=null===(h=e.textContent)||void 0===h?void 0:h.length)&&void 0!==g?g:0)?"end":"split":"start":"node",{node:f,type:b,key:i}}insertMarkers(e,t){var i,n,r,o,a,l,d,c,p,u,h,g,m,f,v,b;if(!e||!e.rangeCount)return;const{startText:y,endText:x}=this.generateMarkers(),C=e.getRangeAt(0);"br"===(null===(i=C.startContainer)||void 0===i?void 0:i.nodeName.toLowerCase())&&C.startContainer.parentNode&&C.setStart(C.startContainer.parentNode,this.dom.nodeIndex(C.startContainer)+1),"br"===(null===(n=C.endContainer)||void 0===n?void 0:n.nodeName.toLowerCase())&&C.endContainer.parentNode&&C.setEnd(C.endContainer.parentNode,this.dom.nodeIndex(C.endContainer)+1);const{startOffset:_,endOffset:S,startContainer:E,endContainer:q}=C;if(E!==q)C.compareBoundaryPoints(Range.START_TO_END,C)?(this.endMarker=this.insertMarker(q,S,x),this.startMarker=this.insertMarker(E,_,y)):(this.startMarker=this.insertMarker(E,_,y),this.endMarker=this.insertMarker(q,S,x));else if(_===S)this.startMarker=this.insertMarker(E,_,y);else{const e=E,t=this.dom.document,i=t.createComment(y),n=t.createComment(x),b=SelectionBookmark.textNodeConstructors[e.nodeType];let C="",q="";if(b){const y=Math.min(_,S),x=Math.max(_,S),E=t[b],k=null!==(o=null===(r=e.textContent)||void 0===r?void 0:r.substring(0,y))&&void 0!==o?o:"",M=null!==(l=null===(a=e.textContent)||void 0===a?void 0:a.substring(y,x))&&void 0!==l?l:"",T=null!==(c=null===(d=e.textContent)||void 0===d?void 0:d.substring(x))&&void 0!==c?c:"",I=E.call(t,k),D=E.call(t,M),F=E.call(t,T);let P;k.length>0?(null===(p=e.parentNode)||void 0===p||p.insertBefore(I,e),P="split"):P="start",_<=S?(null===(u=e.parentNode)||void 0===u||u.insertBefore(i,e),C=P):(null===(h=e.parentNode)||void 0===h||h.insertBefore(n,e),q=P),null===(g=e.parentNode)||void 0===g||g.insertBefore(D,e),null===(m=e.parentNode)||void 0===m||m.insertBefore(_<S?n:i,e),T.length>0?(null===(f=e.parentNode)||void 0===f||f.insertBefore(F,e),_<S?q="split":C="split"):_<S?q="end":C="end",null===(v=e.parentNode)||void 0===v||v.removeChild(e)}else _<S?(this.dom.insertNodeAt(e,n,S),this.dom.insertNodeAt(e,i,_)):(this.dom.insertNodeAt(e,i,_),this.dom.insertNodeAt(e,n,S)),C="node",q="node";this.startMarker={node:i,type:C,key:y},this.endMarker={node:n,type:q,key:x}}if(this.dom.setRangeBetween(this.startMarker.node,(null===(b=this.endMarker)||void 0===b?void 0:b.node)?this.endMarker.node:this.startMarker.node,t),!t&&this.endMarker){const e=this.endMarker;this.endMarker=this.startMarker,this.startMarker=e}}removeMarker(e,t){var i,n,r,o,a,l;if(e)try{if("split"===t){const t=e.previousSibling;if((null==t?void 0:t.nodeType)!==Node.TEXT_NODE){const i=null==t?void 0:t.parentNode;if(!i)return;return{node:i,offset:this.dom.nodeIndex(e)}}const a=null!==(n=null===(i=t.textContent)||void 0===i?void 0:i.length)&&void 0!==n?n:0;return(null===(r=e.nextSibling)||void 0===r?void 0:r.nodeType)===Node.TEXT_NODE&&(t.textContent+=null!==(o=e.nextSibling.textContent)&&void 0!==o?o:"",this.dom.deleteNode(e.nextSibling)),{node:t,offset:a}}if("start"===t){const t=e.nextSibling||e.parentNode;if(!t)return;return{node:t,offset:0}}if("end"===t){let t=e.previousSibling;for(;t&&t.nodeType!==Node.TEXT_NODE;)t=t.lastChild;if(!t)return;return{node:t,offset:null!==(l=null===(a=t.textContent)||void 0===a?void 0:a.length)&&void 0!==l?l:0}}{const t=e.parentNode;if(!t)return;return{node:t,offset:this.dom.nodeIndex(e)}}}finally{this.dom.deleteNode(e)}}}SelectionBookmark.textNodeConstructors={3:"createTextNode",4:"createCDATASection",8:"createComment"};class DOMUtils{constructor(e){this.document=e}execCommand(e,t){return"fontsize"===e.toLowerCase()?this.setFontSize(t):this.document.execCommand(e,!1,t)}queryCommandSupported(e){return this.document.queryCommandSupported(e)}queryCommandEnabled(e){return this.document.queryCommandEnabled(e)}queryCommandState(e){return this.document.queryCommandState(e)}queryCommandValue(e){return this.document.queryCommandValue(e)}generateUniqueId(){let e=n.Tools.newGuid();for(;this.document.getElementById(e);)e=n.Tools.newGuid();return e}detachedNode(e){return!e||!e.parentNode||(!e.ownerDocument||!e.ownerDocument.contains(e))}isForward(e,t,n,r){const o=this.document;if(!e||!t||i.NodeType.isRestrictedNode(e)||i.NodeType.isRestrictedNode(t))return!0;if(this.detachedNode(e)||this.detachedNode(t))return!0;const a=o.createRange(),l=o.createRange();try{a.setStart(e,n||0),a.collapse(!0),l.setStart(t,r||0),l.collapse(!0)}catch(e){return!0}return a.compareBoundaryPoints(a.START_TO_START,l)<=0}isForwardSelection(e){if(!e)return!0;const t=e.anchorNode,i=e.focusNode;return this.isForward(t,i,e.anchorOffset,e.focusOffset)}getHtmlFromDocument(e){var t;const i=null!==(t=this.document.cloneNode(!0))&&void 0!==t?t:this.document;return HTMLUtils.replaceEmbeddedStyles(i),(null==e?void 0:e.rootClass)&&(HTMLUtils.classListToArray(e.rootClass).forEach((e=>i.body.classList.remove(e))),""===i.body.className&&i.body.removeAttribute("class")),new DecomposedHtml(i.documentElement.outerHTML)}setHtmlToDocument(e,t,i){let n="";e&&(n="plain"===e.format?TextUtils.convertTextToHtml(e.body):HTMLUtils.composeHtml(e));const r=this.document;try{r.open(),r.write(n),r.close()}catch(e){}HTMLUtils.replaceEmbeddedStyles(r,t),i?r.body.setAttribute("spellcheck","true"):r.body.removeAttribute("spellcheck")}deleteNode(e){e.parentNode&&e.parentNode.removeChild(e)}nodeIndex(e){if(e&&e.parentNode&&e.parentNode.childNodes)for(let t=0;t<e.parentNode.childNodes.length;t++)if(e.parentNode.childNodes[t]===e)return t;return-1}insertNodeAt(e,t,i){e.childNodes.length>i?e.insertBefore(t,e.childNodes[i]):e.appendChild(t)}contains(e,t){if(e.compareDocumentPosition){const i=e.compareDocumentPosition(t);return!!(Node.DOCUMENT_POSITION_CONTAINED_BY&i)||!i}return!1}cloneRange(e){return{startContainer:e.startContainer,start:e.startOffset,endContainer:e.endContainer,end:e.endOffset}}setRange(e,t=!0){const i=this.document.getSelection();if(i&&(i.removeAllRanges(),e)){try{i.addRange(e)}catch(e){}t&&i.extend&&(i.collapse(e.endContainer,e.endOffset),i.extend(e.startContainer,e.startOffset))}}setRangeBetween(e,t,i){const n=this.document.createRange();if(!e.parentNode||!t.parentNode)throw new TypeError;e===t?(n.setStart(e.parentNode,this.nodeIndex(e)),n.setEnd(e.parentNode,this.nodeIndex(e))):(n.setStart(e.parentNode,this.nodeIndex(e)),n.setEnd(t.parentNode,this.nodeIndex(t)+1)),this.restoreRange(n,i)}findContainedParent(e,t){const i=this.document.body;if(this.contains(i,e))return{node:e,index:t};let n=e,r=e.parentNode;for(;r&&r.parentNode&&!this.contains(i,r);)n=r,r=r.parentNode;if(r&&this.contains(i,r))for(let e=0;e<r.childNodes.length;e++)if(r.childNodes[e]===n)return{node:r,index:e}}restoreRange(e,t){const i=this.document.getSelection();if(!i)return;let n=!1;try{i.removeAllRanges(),i.addRange(e),n=!0}catch(e){}if(!i.rangeCount&&n){const t=this.findContainedParent(e.startContainer,e.startOffset),n=this.findContainedParent(e.endContainer,e.endOffset);if(t&&n){e.setStart(t.node,t.index),e.setEnd(n.node,n.index);try{i.removeAllRanges(),i.addRange(e)}catch(e){}}}t&&i.extend&&(i.collapse(e.endContainer,e.endOffset),i.extend(e.startContainer,e.startOffset))}getAllComments(e){const t=this.document,i=t.createTreeWalker(t,NodeFilter.SHOW_COMMENT,(t=>{var i;const n=null!==(i=t.textContent)&&void 0!==i?i:"";return e.indexOf(n)>-1?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}));let n;const r=[];for(;n=i.nextNode();)r.push(n);return r}afterRangeAnchor(e,t,i){let n=e.compareDocumentPosition(t);if(document.DOCUMENT_POSITION_PRECEDING===n)return!0;if(document.DOCUMENT_POSITION_CONTAINS&n){if(!i)return!0;if(n=e.compareDocumentPosition(t.childNodes[i-1]),document.DOCUMENT_POSITION_PRECEDING===n)return!0}return e===t&&this.isTextual(e)}isTextual(e){return[Node.TEXT_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE].indexOf(e.nodeType)>-1}beforeRangeAnchor(e,t,i){let n=e.compareDocumentPosition(t);if(document.DOCUMENT_POSITION_FOLLOWING===n)return!0;if(document.DOCUMENT_POSITION_CONTAINS&n){if(i===t.childNodes.length)return!0;if(n=e.compareDocumentPosition(t.childNodes[i]),document.DOCUMENT_POSITION_FOLLOWING===n)return!0}return e===t&&this.isTextual(e)}withinRange(e,t){const i=this.afterRangeAnchor(e,t.startContainer,t.startOffset),n=this.beforeRangeAnchor(e,t.endContainer,t.endOffset),r=e===t.startContainer&&!t.startOffset,o=e===t.endContainer&&t.endOffset===t.endContainer.childNodes.length;return(i||r)&&(n||o)}getSelectedBottomNodes(e){const t=this.document,i=[];if(e){let n;const r=t.createTreeWalker(t,NodeFilter.SHOW_ALL,null);for(;n=r.nextNode();)n.childNodes&&n.childNodes.length||this.withinRange(n,e)&&i.push(n)}return i.length>1&&(i[0]===e.startContainer&&i[0].childNodes.length<=e.startOffset&&i.shift(),i.length>1&&(i[i.length-1]!==e.endContainer||e.startOffset||i.pop())),i}nodes2names(e){return Array.from(e).map((e=>{let t=e.nodeName.toLowerCase();"strong"===t&&(t="b");const i=e.getAttribute?e.getAttribute("class"):void 0;return i?t+"."+i:t}))}tagNClass(e,...t){const i=e.nodeName.toLowerCase();return-1!==t.findIndex((t=>{const n=t.split(".");return 2===n.length?i===n[0]&&e.className===n[1]:i===n[0]}))}getParentChain(e,t){const i=[];let n=e;for(;n&&(i.push(n),!this.tagNClass(n,t));)n=n.parentNode;return i}substract(e,t){const i=[];for(const n of e)-1===t.indexOf(n)&&i.push(n);return i}diff(e,t){const i=[];for(const n of e)t.indexOf(n)>-1&&i.push(n);return i}getSelectedStyle(e,t,i){this.document;let n;const isEmpty=e=>e.nodeType===Node.TEXT_NODE&&""===e.textContent,isException=e=>t&&t.indexOf(e)>-1,r=e.startContainer===e.endContainer&&e.startOffset===e.endOffset?[e.commonAncestorContainer]:this.getSelectedBottomNodes(e);for(const e of r){if(isException(e)||!i&&isEmpty(e))continue;const t=this.nodes2names(this.getParentChain(e,"BODY"));if(n=void 0===n?this.substract(t,["#text","body"]):this.diff(n,t),n&&!n.length)break}return n||[]}specialEmptyNode(e){switch(e.nodeType){case Node.TEXT_NODE:return""===e.textContent;case Node.ELEMENT_NODE:const t=e;if(t.getAttribute("data-filler")){if(!t.childNodes.length)return!0;if(1===t.childNodes.length&&""===t.childNodes[0].textContent)return!0}}return!1}touchesRange(e,t){if(this.withinRange(e,t))return!0;let i=e.compareDocumentPosition(t.startContainer);return!!(0!==i||document.DOCUMENT_POSITION_CONTAINED_BY&i)||(i=e.compareDocumentPosition(t.endContainer),!!(0!==i||document.DOCUMENT_POSITION_CONTAINED_BY&i))}isInline(e){return!(!e||!e.nodeName)&&DOMUtils.inlineNodeNames.indexOf(e.nodeName.toLowerCase())>-1}insertBefore(e,t){var i;t&&(null===(i=t.parentNode)||void 0===i||i.insertBefore(e,t))}insertAfter(e,t){var i,n;t.nextSibling?null===(i=t.parentNode)||void 0===i||i.insertBefore(e,t.nextSibling):null===(n=t.parentNode)||void 0===n||n.appendChild(e)}tagNClassUp(e,...t){let i=e;for(;i;){if(this.tagNClass(i,...t))return!0;if(i=i.parentNode,1!==(null==i?void 0:i.childNodes.length))break}return!1}findTagNClass(e,...t){for(const i of e)if(this.tagNClass(i,...t))return i;return null}deconstructList(e,t){let i,n;const deconstructLevel=(e,r)=>{let o=[];for(const a of Array.from(e.childNodes))if("li"===a.nodeName.toLowerCase()){const e={markers:r.slice(0),item:a};o.push(e);const l=this.withinRange(a,t);!i&&(this.contains(a,t.startContainer)||l||this.afterRangeAnchor(a,t.startContainer,t.startOffset))&&(i=e,n=e),i&&(this.contains(a,t.endContainer)||l)&&(n=e)}else o=o.concat(deconstructLevel(a,r.concat(a)));return o},r=deconstructLevel(e,[e]);return{list:r,start:r.indexOf(i),end:r.indexOf(n)}}shadowList(e){const t=this.document;for(const i of e)for(let e=0;e<i.markers.length;e++)i.markers[e]=t.createElement(i.markers[e].nodeName)}shiftList(e,t,i,n){const r=this.document;if(this.shadowList(e),n)for(let n=t;n<=i;n++){const t=e[n].markers;t.push(r.createElement(t[t.length-1].nodeName))}else for(let n=t;n<=i;n++)e[n].markers.pop()}removeDuplicateListNodes(e){if(e.length){e[0].newMarkers=e[0].markers.slice(0);for(let t=1;t<e.length;t++){const i=e[t],n=e[t-1],r=Math.min(i.markers.length,n.markers.length);let o=!1;for(let e=0;e<r;e++){if(i.markers[e].nodeName.toLowerCase()!==n.markers[e].nodeName.toLowerCase()){i.insertAt=n.markers[e-1],i.newMarkers=i.markers.slice(e),o=!0;break}i.markers[e]=n.markers[e]}o||(i.insertAt=n.markers[r-1],i.newMarkers=i.markers.slice(r))}}}transferChildren(e,t){for(;e.childNodes.length;)t.appendChild(e.childNodes[0])}reconstructList(e,t){const i=this.document;let n=t;for(const t of e){if(!t.markers.length){const e=i.createElement("div");this.transferChildren(t.item,e),this.insertAfter(e,n),n=e}else{let e=t.insertAt;if(!e){const i=t.newMarkers.shift();i&&(this.insertAfter(i,n),n=i,e=i)}for(;t.newMarkers.length;){const i=t.newMarkers.shift();e.appendChild(i),e=i}e.appendChild(t.item)}}}indentList(e,t,i){this.document;let n=e;for(this.tagNClass(n,"ul","ol")||(n=this.findTagNClass(this.getParentChain(n,"body").reverse(),"ul","ol"));n&&n.parentNode&&this.tagNClass(n.parentNode,"ul","ol");)n=n.parentNode;if(!n)return;const r=this.deconstructList(n,t);this.shiftList(r.list,r.start,r.end,i),this.removeDuplicateListNodes(r.list),this.reconstructList(r.list,n),this.deleteNode(n)}orderedRange(e){const t=this.document;if(!e)return e;const i=e.startContainer.compareDocumentPosition(e.endContainer),swapped=e=>{const i=t.createRange();return i.setStart(e.endContainer,e.endOffset),i.setEnd(e.startContainer,e.startOffset),i};if(i){if(i===document.DOCUMENT_POSITION_PRECEDING)return swapped(e);if(i&document.DOCUMENT_POSITION_CONTAINED_BY){if(this.beforeRangeAnchor(e.endContainer,e.startContainer,e.startOffset))return swapped(e)}else if(i&document.DOCUMENT_POSITION_CONTAINS&&!this.beforeRangeAnchor(e.startContainer,e.endContainer,e.endOffset))return swapped(e)}else if(e.startOffset>e.endOffset)return swapped(e);return e}getLastDescendant(e){const t=this.document.createTreeWalker(e,NodeFilter.SHOW_ALL,null);let i,n=e;for(;i=t.nextNode();)n=i;return n}insideRange(e,t){this.document;const i=this.orderedRange(t);return this.withinRange(e,i)&&this.withinRange(this.getLastDescendant(e),i)}createBlockquoteBlock(){const e=this.document.createElement("blockquote");return e.setAttribute("class","shift"),e.style.marginLeft="40px",e}shiftBlock(e,t){var i;let n;if(this.tagNClass(e,"blockquote.shift")?n=e:e.parentNode&&this.tagNClass(e.parentNode,"blockquote.shift")&&(n=e.parentNode),n&&n.nodeType===Node.ELEMENT_NODE){const e=n,t=e.style.marginLeft,i=sizeToPx(t||"0px");e.style.marginLeft=i+40+"px"}else{const n=t();null===(i=e.parentNode)||void 0===i||i.insertBefore(n,e);let r=e.nextSibling;r&&r.nodeType===Node.COMMENT_NODE&&(r=r.nextSibling),r&&"br"===r.nodeName.toLowerCase()&&this.deleteNode(r),n.appendChild(e)}}indentRec(e,t){this.document;const visibleContent=e=>e.some((e=>!this.specialEmptyNode(e)&&(!(e.nodeType===Node.TEXT_NODE&&!e.textContent)&&e.nodeType!==Node.COMMENT_NODE)));let i=[];for(const n of e)if(!(i.indexOf(n)>-1)&&this.touchesRange(n,t))if(this.isInline(n)){const e=[n];let t=n;for(;(t=t.nextSibling)&&this.isInline(t);)e.push(t);let r=n;for(;(r=r.previousSibling)&&this.isInline(r);)e.shift();if(visibleContent(e)){const i=this.createBlockquoteBlock();for(this.insertBefore(i,n);e.length;){const t=e.shift();t&&i.appendChild(t)}t&&this.tagNClass(t,"br")&&this.deleteNode(t)}i=i.concat(e)}else this.tagNClassUp(n,"ul","ol","li")?this.indentList(n,t,!0):this.tagNClass(n,"table.layout","blockquote.realbq","tbody","tr","td")||!this.insideRange(n,t)?this.indentRec(Array.from(n.childNodes),t):this.tagNClass(n,"br")||this.shiftBlock(n,(()=>this.createBlockquoteBlock()))}createRange(e,t,i,n){const r=this.document.createRange();return e&&r.setStart(e,null!=t?t:0),i&&r.setEnd(i,null!=n?n:0),r}queryRange(e,t){const i=[];if(e.commonAncestorContainer.nodeType===Node.ELEMENT_NODE){const n=e.commonAncestorContainer,r=Array.from(n.querySelectorAll(t));for(const t of r)this.withinRange(t,e)&&i.push(t)}return i}isRangeFlipped(e){return e.startContainer===e.endContainer?e.startOffset>e.endOffset:!!(document.DOCUMENT_POSITION_PRECEDING&e.startContainer.compareDocumentPosition(e.endContainer))}partition(e,t,i,n){const r=[],o=[];for(const i of e)t(i)?r.push(i):o.push(i);return{[i||"accepted"]:r,[n||"rejected"]:o}}getSelectedTextNodes(e){const t=this.document,i=Array.from(t.body.querySelectorAll("span[data-field=yes]")),n=[];for(const e of i){const i=[],r=t.createTreeWalker(e,NodeFilter.SHOW_TEXT,null);let o;for(;o=r.nextNode();)i.push(o);n.push({field:e,text:i})}const r=t.createTreeWalker(t,NodeFilter.SHOW_TEXT,null);let o;const a=[];if(e)for(;o=r.nextNode();)if(this.withinRange(o,e)){let e=!1;for(const t of n)t.text.indexOf(o)>-1&&(t.visited||(a.push(t.field),t.visited=!0),e=!0);e||a.push(o)}return a.length>1&&(a[0]===e.startContainer&&a[0].childNodes.length<=e.startOffset&&a.shift(),a.length>1&&(a[a.length-1]!==e.endContainer||e.startOffset||a.pop())),a}expandRangeToLines(e){var t;const i=this.document;if(!e)return e;const n=i.createRange(),r=i.body;if(e.collapsed&&e.startContainer===r&&r.childNodes.length>e.startOffset)if(this.isInline(r.childNodes[e.startOffset])){let i,o=r.childNodes[e.startOffset];for(;o&&this.isInline(o);)i=o,o=o.nextSibling;let a,l=null===(t=r.childNodes[e.startOffset])||void 0===t?void 0:t.previousSibling;for(;l&&this.isInline(l);)a=l,l=l.previousSibling;a?n.setStart(r,this.nodeIndex(a)):n.setStart(r,e.startOffset),i?n.setEnd(r,this.nodeIndex(i)+1):n.setEnd(r,e.endOffset)}else{let t=r.childNodes[e.startOffset];for(;t.childNodes.length&&!this.isInline(t.childNodes[0]);)t=t.childNodes[0];n.setStart(t,0),n.setEnd(t,t.childNodes.length)}else{if(this.isInline(e.startContainer)){let t=this.isTextual(e.startContainer)?e.startContainer:e.startOffset?e.startContainer.childNodes[e.startOffset-1]:e.startContainer;for(;this.isInline(t)&&t.parentNode&&this.isInline(t.parentNode);)t=t.parentNode;if(this.isInline(t))for(;t.previousSibling&&this.isInline(t.previousSibling);)t=t.previousSibling;t.parentNode&&n.setStart(t.parentNode,this.nodeIndex(t))}else{let t=e.startOffset;for(;t>0&&this.isInline(e.startContainer.childNodes[t-1]);)t--;n.setStart(e.startContainer,t)}if(this.isInline(e.endContainer)){let t=null;if(this.isTextual(e.endContainer)?t=e.endContainer:e.endOffset===e.endContainer.childNodes.length?this.isInline(e.endContainer)?t=e.endContainer:n.setEnd(e.endContainer,e.endOffset):e.endOffset?t=e.endContainer.childNodes[e.endOffset-1]:this.isInline(e.endContainer)?t=e.endContainer:e.endContainer.childNodes.length&&this.isInline(e.endContainer.childNodes[0])?t=e.endContainer.childNodes[0]:n.setEnd(e.endContainer,0),t){for(;t&&t.parentNode&&this.isInline(t)&&this.isInline(t.parentNode);)t=t.parentNode;if(t&&this.isInline(t))for(;t.nextSibling&&this.isInline(t.nextSibling);)t=t.nextSibling;t&&t.parentNode&&n.setEnd(t.parentNode,this.nodeIndex(t)+1)}}else{let t=e.endOffset;for(;t<e.endContainer.childNodes.length&&this.isInline(e.endContainer.childNodes[t]);)t++;n.setEnd(e.endContainer,t)}}const o=this.createRange(e.startContainer,e.startOffset,n.startContainer,n.startOffset),a=this.queryRange(o,"br");let l=null;if(a.length&&(l=this.isRangeFlipped(o)?a[0]:a[a.length-1],l)){const e=this.partition(this.getSelectedTextNodes(o),(e=>!!(document.DOCUMENT_POSITION_FOLLOWING&l.compareDocumentPosition(e))),"before","after");e.before.length&&n.setStartBefore(e.before.pop())}const d=this.createRange(e.endContainer,e.endOffset,n.endContainer,n.endOffset);if(this.queryRange(d,"br").length&&l){const e=this.partition(this.getSelectedTextNodes(o),(e=>!!(document.DOCUMENT_POSITION_FOLLOWING&l.compareDocumentPosition(e))),"before","after");e.after.length&&n.setEndBefore(e.after.shift())}return n}range(){const e=this.document.getSelection();return(null==e?void 0:e.rangeCount)?e.getRangeAt(0).cloneRange():void 0}indentBlock(){const e=this.document;let t=this.range();if(!t)return!1;t=this.expandRangeToLines(t);const i=t.commonAncestorContainer===e.body?Array.from(t.commonAncestorContainer.childNodes):[t.commonAncestorContainer];return this.indentRec(i,t),!0}expandToUpperBlocks(e){this.document;const isBoundary=e=>this.tagNClass(t.startContainer,"ul","ol","li","table.layout","blockquote.realbq","tbody","tr","td","body","#document"),t=this.orderedRange(e).cloneRange();for(;!isBoundary(t.startContainer);){const e=this.nodeIndex(t.startContainer);t.startContainer.parentNode&&t.setStart(t.startContainer.parentNode,e)}for(;!isBoundary(t.endContainer);){const e=this.nodeIndex(t.endContainer)+1;t.endContainer.parentNode&&t.setEnd(t.endContainer.parentNode,e)}return t}promoteNode(e){var t,i;const n=e.parentNode;null===(t=null==n?void 0:n.parentNode)||void 0===t||t.insertBefore(e,n),null===(i=null==n?void 0:n.parentNode)||void 0===i||i.removeChild(n)}outdentRec(e,t){const i=this.document,hasOneBlockChild=e=>1===e.childNodes.length&&!this.isInline(e.childNodes[0]);for(const n of e)if(this.touchesRange(n,t))if(this.tagNClass(n,"ul","ol","li"))this.indentList(n,t,!1);else if(this.tagNClass(n,"blockquote.shift")){const e=n,t=e.style.marginLeft;if(t){const n=sizeToPx(t)-40;if(n>0)e.style.marginLeft=n+"px";else if(hasOneBlockChild.call(this,e))this.promoteNode(e.childNodes[0]);else{const t=i.createElement("div");this.insertBefore(t,e),this.transferChildren(e,t),this.deleteNode(e)}}}else this.outdentRec(Array.from(n.childNodes),t)}outdentBlock(){const e=this.document;let t=this.range();if(!t)return!1;t=this.expandToUpperBlocks(this.expandRangeToLines(t));const i=t.commonAncestorContainer===e.body?Array.from(t.commonAncestorContainer.childNodes):[t.commonAncestorContainer];return this.outdentRec(i,t),!0}filterNodes(e,t){return e.filter((e=>t.indexOf(e.nodeName.toLowerCase())>-1))}filteredParentChain(e,t){return this.filterNodes(this.getParentChain(e,"BODY"),t)}expandRangeToItems(e,t){const i=this.document,n=this.filteredParentChain(e.startContainer,t).pop(),r=this.filteredParentChain(e.endContainer,t).pop();if(n||r){const t=i.createRange();return n?t.setStartBefore(n):t.setStart(e.startContainer,e.startOffset),r?t.setEndAfter(r):t.setEnd(e.endContainer,e.endOffset),t}return e}expandRangeToListItems(e){return this.expandRangeToItems(e,["li"])}isCursorAtTop(e){return e.collapsed&&"body"===e.startContainer.nodeName.toLowerCase()}topList(e){let t=e;for(;t&&t.parentNode&&this.tagNClass(t.parentNode,"ul","ol");)t=t.parentNode;return t}removeNested(e){const t=[];for(let i=0;i<e.length;i++){const n=e[i];let r=!1;for(let t=0;t<e.length;t++)if(i!==t){const i=e[t],o=!!(document.DOCUMENT_POSITION_CONTAINED_BY&i.compareDocumentPosition(n));if(r=r||o,r)break}r||t.push(n)}const i=[];for(let e=0;e<t.length;e++)-1===t.indexOf(t[e],e+1)&&i.push(t[e]);return i}setListType(e,t,i,n){const r=this.document;let o=1e3;for(let n=t;n<=i;n++){const t=e[n];o=Math.min(o,t.markers.length-1)}for(let a=t;a<=i;a++){const t=e[a];if(o>-1)for(let e=o;e<t.markers.length;e++)t.markers[e]=r.createElement(n)}this.shadowList(e)}isReversedRange(e){const t=e.startContainer.compareDocumentPosition(e.endContainer);return t?t===document.DOCUMENT_POSITION_PRECEDING||(t&document.DOCUMENT_POSITION_CONTAINED_BY?this.beforeRangeAnchor(e.endContainer,e.startContainer,e.startOffset):!!(t&document.DOCUMENT_POSITION_CONTAINS)&&!this.beforeRangeAnchor(e.startContainer,e.endContainer,e.endOffset)):e.startOffset>e.endOffset}isBlock(e){return!(!e||!e.nodeName)&&DOMUtils.blockNodeNames.indexOf(e.nodeName.toLowerCase())>-1}nameIs(e,t){return e&&e.nodeName.toLowerCase()===t.toLowerCase()}expandRangeToRight(e,t){let i=e;for(;i;)if(i.nodeType===Node.TEXT_NODE||i.nodeType===Node.COMMENT_NODE)t=this.nodeIndex(i)+1,i=i.parentNode;else if(t>=i.childNodes.length){const e=i.nodeName.toLowerCase();if(this.isBlock(i)||"body"===e||"html"===e||"#document"===e)break;t=this.nodeIndex(i)+1,i=i.parentNode}else{const e=i.childNodes[t];if(this.nameIs(e,"br")||this.isBlock(e))break;t++}return{container:i,offset:t}}expandRangeToLeft(e,t){let i=e;for(;i;)if(i.nodeType===Node.TEXT_NODE||i.nodeType===Node.COMMENT_NODE)t=this.nodeIndex(i),i=i.parentNode;else if(t){const e=i.childNodes[t];if(this.nameIs(e,"br")||this.isBlock(e))break;t--}else{const e=i.nodeName.toLowerCase();if(this.isBlock(i)||"body"===e||"html"===e||"#document"===e)break;t=this.nodeIndex(i),i=i.parentNode}return{container:i,offset:t}}expandRangeToLines1(e){if(!e)return e;const t=e.cloneRange();let i,n;return this.isReversedRange(e)?(i=this.expandRangeToRight(e.startContainer,e.startOffset),n=this.expandRangeToLeft(e.endContainer,e.endOffset)):(i=this.expandRangeToLeft(e.startContainer,e.startOffset),n=this.expandRangeToRight(e.endContainer,e.endOffset)),t.setStart(i.container,i.offset),t.setEnd(n.container,n.offset),t}getSelectedTopNodes(e){const t=[],i=Array.from(this.document.body.childNodes);for(const n of i)this.touchesRange(n,e)&&t.push(n);return t}getSelectedTopNodeStrides(e){const getCells=e=>{let t=e;const i=[];t.children[0]&&"tbody"===t.children[0].nodeName.toLowerCase()&&(t=t.children[0]);for(const e of Array.from(t.children))for(const t of Array.from(e.children))i.push(t);return i},t=[];let i=[];const createStride=()=>{i.length&&(t.push(i),i=[])},selectedChildren=t=>t&&t.childNodes?Array.from(t.childNodes).filter((t=>this.withinRange(t,e))):[],n=this.getSelectedTopNodes(e);for(const e of n)if(this.tagNClass(e,"blockquote.realbq")){createStride();for(const t of Array.from(e.childNodes))if(this.tagNClass(t,"table.layout")){const e=getCells(t);for(const t of e)createStride(),i=i.concat(selectedChildren(t));createStride()}else i.push(t);createStride()}else if(this.tagNClass(e,"table.layout")){const t=getCells(e);for(const e of t)createStride(),i=i.concat(selectedChildren(e));createStride()}else i.push(e);return i.length&&t.push(i),t}createListTree(){return{list:[],addItem(e){this.list.push(e)},last(){return this.list[this.list.length-1]},ensureListItem(){this.list.length||this.list.push([]),this.last().constructor!==Array&&this.list.push([])},addListItem(e){this.ensureListItem(),this.last().push(Array.prototype.slice.call(e.childNodes))},appendToListItem(e){this.ensureListItem();const t=this.last();t.length||t.push([]),t[t.length-1].push(e)},hasLists(){return this.list.some((e=>e.constructor===Array))},isList:e=>e.constructor===Array,removeBR(){}}}insideRangeExt(e,t){if(this.insideRange(e,t))return!0;let i=e;for(;i&&(i=1===i.childNodes.length?i.firstChild:null);)if(this.insideRange(i,t))return!0;return!1}hasSingleChild(e,t){return-1===e.childNodes.length&&(!t||e.childNodes[0].nodeName.toLowerCase()===t)}isCR(e){var t;if("BR"===e.nodeName)return!0;if("DIV"===e.nodeName&&this.hasSingleChild(e,"br"))return!0;if("P"===e.nodeName){if(!e.childNodes.length)return!0;if(this.hasSingleChild(e,"#text")&&" "===e.childNodes[0].textContent)return!0;if(1===e.childNodes.length&&"BR"===(null===(t=e.firstChild)||void 0===t?void 0:t.nodeName))return!0}return!1}replace(e,t){let i=e;for(let e=0;e<t.length;e+=2)i=i.replace(RegExp(t[e],"g"),t[e+1]);return i}isBlockNode(e){if(!e)return!1;switch(e.nodeName.toLowerCase()){case"div":case"p":case"h1":case"h2":case"h3":case"h4":case"h5":case"pre":case"blockquote":case"br":return!0}return!1}focusInsideContainersEnd(e){var t,i;if(!e)return;let n=e;for(;"br"!==n.nodeName.toLowerCase();)if(n.lastChild&&!this.nameIs(n.lastChild,"br"))n=n.lastChild;else{if(!(n.lastChild&&this.nameIs(n.lastChild,"br")&&n.lastChild.previousSibling)||this.nameIs(n.lastChild.previousSibling,"br"))break;n=n.lastChild.previousSibling}const r=this.document.createRange();if(n.nodeType===Node.TEXT_NODE){const e=null!==(i=null===(t=n.textContent)||void 0===t?void 0:t.length)&&void 0!==i?i:0;r.setStart(n,e),r.setEnd(n,e)}else{let e=n.childNodes.length;n&&n.lastChild&&this.nameIs(n.lastChild,"br")&&e--,r.setStart(n,e),r.setEnd(n,e)}this.setRange(r)}focusInsideTag(e){if(!e)return;const t=this.document.createRange();t.setStart(e,0),t.setEnd(e,0),this.setRange(t)}insertList(e){const t=this.range();if(!t)return;const i=this.document;let n=[];const r=this.expandRangeToListItems(t);if(this.isCursorAtTop(r)){if(i.body.childNodes.length>t.startOffset){const e=i.body.childNodes[t.startOffset];this.tagNClass(e,"ul","ol")&&(n=[e])}}else n=this.queryRange(r,"li").map((e=>e.parentNode)).filter((e=>!!e)).map((e=>this.topList(e)));n.length||"li"===r.commonAncestorContainer.nodeName.toLowerCase()&&r.commonAncestorContainer.parentNode&&(n=[this.topList(r.commonAncestorContainer.parentNode)]);const o=this.nodes2names(n);if(n.length){const t=e?"ul":"ol",i=this.removeNested(n);if(o.indexOf(t)>-1)for(const t of i){const i=this.deconstructList(t,r);this.setListType(i.list,i.start,i.end,e?"ol":"ul"),this.removeDuplicateListNodes(i.list),this.reconstructList(i.list,t),this.deleteNode(t)}else for(const e of i){const t=this.deconstructList(e,r);for(let e=t.start;e<=t.end;e++)t.list[e].markers.splice(0,t.list[e].markers.length);this.shadowList(t.list),this.removeDuplicateListNodes(t.list),this.reconstructList(t.list,e),this.deleteNode(e)}}else{const n=this.expandRangeToLines1(t),r=this.getSelectedTopNodeStrides(n);for(const t of r){const r=this.createListTree(),o=[];if(t.some((e=>this.insideRangeExt(e,n)))){if(t.length){for(const e of t){const t=this.isCR(e);t||""!==this.replace(e.textContent,["",""," ","","\r","","\n","","\t",""])?t?r.addItem(e):this.isBlockNode(e)?(r.addListItem(e),o.push(e)):r.appendToListItem(e):o.push(e)}}if(r.hasLists()){r.removeBR();const n=i.createElement("span");let a=t[0];const l=a.parentNode;let d;l.insertBefore(n,a),a=n;for(let t=r.list.length-1;t>=0;t--){const n=r.list[t];if(r.isList(n)){const t=i.createElement(e?"ol":"ul");l.insertBefore(t,a),a=t;for(const e of n){const n=i.createElement("li");t.appendChild(n);for(const t of e)n.appendChild(t)}d||(d=t.lastChild)}else l.insertBefore(n,a),a=n,d||(d=n)}for(const e of o)this.deleteNode(e);this.deleteNode(n),this.focusInsideContainersEnd(d)}else{const t=i.createElement(e?"ol":"ul"),r=i.createElement("li");t.appendChild(r),n.insertNode(t),this.focusInsideTag(r)}}}}}insertOrderedList(){return this.insertList(!0),!0}insertUnorderedList(){return this.insertList(!1),!0}setAttribute(e,t,i){"object"==typeof t?n.Tools.forEach(t,((t,i)=>{e.setAttribute(i,t)})):"string"==typeof i&&e.setAttribute(t,i)}addStyle(e){var t;const i=this.document,r=i.head;e=(0,n.normalizeLineBreaks)(e.trim());const a=null===(t=Array.from(r.querySelectorAll("style")))||void 0===t?void 0:t.filter((t=>(0,n.normalizeLineBreaks)(t.innerText.trim())===e));if(null==a||a.forEach((e=>e.setAttribute(o,"true"))),null==a?void 0:a.length)return;const l=i.createElement("style");this.setAttribute(l,{type:"text/css",[o]:"true"}),l.appendChild(i.createTextNode(e)),r.firstChild?r.insertBefore(l,r.firstChild):r.appendChild(l)}addStyleLinks(e){const t=this.document,i=t.head;n.Tools.forEach(e,(e=>{try{if(i.querySelector("link[href='"+e+"']"))return}catch(e){}const n=t.createElement("link");this.setAttribute(n,{rel:"stylesheet",type:"text/css",[o]:"true"}),i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n),this.setAttribute(n,"href",e)}))}insertNodeAtSelection(e){var t;const i=this.document,n=this.range();if(!n)return;n.deleteContents();const r=n.startOffset;let o=n.startContainer;if(o.nodeType===Node.TEXT_NODE&&(o=o.parentNode),o)if(o.nodeType===Node.TEXT_NODE&&e.nodeType===Node.TEXT_NODE){const t=e;o.insertData(r,t.data),n.setEnd(o,r+t.length),n.setStart(o,r+t.length)}else{let a,l;if(o.nodeType===Node.TEXT_NODE){const n=o;if(o=n.parentNode,!o)return;const d=null!==(t=n.nodeValue)&&void 0!==t?t:"",c=d.substring(0,r),p=d.substring(r);l=i.createTextNode(c),a=i.createTextNode(p),o.insertBefore(a,n),o.insertBefore(e,a),o.insertBefore(l,e),o.removeChild(n)}else if(o.childNodes&&(a=o.childNodes[r]),a){if(o.insertBefore(e,a),-1===Array.from(o.childNodes).indexOf(e)){const t=i.createElement("div");o.insertBefore(t,a),this.insertAfter(e,t),this.deleteNode(t)}}else{if(o.appendChild(e),-1===Array.from(o.childNodes).indexOf(e)){const t=i.createElement("div");o.appendChild(t),o.appendChild(e),this.deleteNode(t)}a=e}try{n.setEnd(a,0),n.setStart(a,0),n.collapse(!0),this.setRange(n)}catch(e){}}}rangeGetNode(e,t){if(i.NodeType.isElement(e)&&e.hasChildNodes()){const i=e.childNodes;return i[Math.min(Math.max(t,0),i.length-1)]}return e}getRoot(){return this.document.body}getParents(e,t,n,r){const o=[];let a=e;r=void 0===r;const l=n||("BODY"!==this.getRoot().nodeName?this.getRoot().parentNode:null);for(;a&&!(a===l||i.Type.isNullable(a.nodeType)||i.NodeType.isDocument(a)||i.NodeType.isDocumentFragment(a));){if(!t||t(a)){if(!r)return[a];o.push(a)}a=a.parentNode}return r?o:null}getParent(e,t,i){const n=this.getParents(e,t,i,!1);return n&&n.length>0?n[0]:null}findCommonAncestor(e,t){let i=e;for(;i;){let e=t;for(;e&&i!==e;)e=e.parentNode;if(i===e)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i}isChildOf(e,t){return e===t||t.contains(e)}getChildrenIterator(e){return document.createNodeIterator(e,NodeFilter.SHOW_ALL,{acceptNode:e=>NodeFilter.FILTER_ACCEPT})}getChildNodes(e){const t=[],i=this.getChildrenIterator(e);for(;i.nextNode();)t.push(i.referenceNode);return t}walkRange(e,t,i){let n=this.rangeGetNode(e.startContainer,e.startOffset);const r=this.rangeGetNode(e.endContainer,e.endOffset-1),o=this.getChildrenIterator(e.commonAncestorContainer),acceptNode=e=>!i||i(e);for(;o.nextNode();){const e=o.referenceNode;if(!n||e===n){if(n=null,acceptNode(e)&&!0===t(e))break;if(e===r){const i=this.getChildrenIterator(e);for(;i.nextNode();){const e=i.referenceNode;if(acceptNode(e)&&!0===t(e))break}break}}}}withCSS(e){const t="styleWithCSS",i=this.document.queryCommandState(t);i||this.document.execCommand(t,!1,"true");try{return e()}finally{i||this.document.execCommand(t,!1,"false")}}saveSelection(e){const t=new SelectionBookmark(this);try{return e(t)}finally{t.dispose()}}getFontSize(){let e;const t=[],n=this.document.getSelection();if(n&&n.rangeCount){const r=n.getRangeAt(0);if(this.walkRange(r,(n=>{var o,a;if(i.NodeType.isText(n)){if(!(null!==(o=n.data)&&void 0!==o?o:"").trim().length)return;if(!r.collapsed&&(r.startContainer===n&&r.startOffset>=(null===(a=n.data)||void 0===a?void 0:a.length)||r.endContainer===n&&r.endOffset<=0))return}else if(!i.NodeType.isBr(n))return;const l=n.parentNode;if(i.NodeType.isElement(l)){t.push(l);const i=this.getComputedStyle(l);if(e=i.fontSize,e)return!0}})),e)return e}t.push(this.getRoot());for(const e of t){const t=this.getComputedStyle(e).fontSize;if(t)return t}return null}matchFormat(e,t){const i=this.getComputedStyle(e);for(const e in t.styles)if(i.getPropertyValue(e)!==t.styles[e])return!1;return!0}containOnlyFormat(e,t){const i=Array(e.style);for(const e of i)if(void 0===t.styles[e])return!1;return!0}applyFormatToElement(e,t){if(e.tagName===t.wrapperTag&&this.containOnlyFormat(e,t)){const i=e.parentElement;if(i&&this.matchFormat(i,t)){return Array.from(e.childNodes).forEach((t=>{e.removeChild(t),i.insertBefore(t,e)})),void e.remove()}}const n=e.style;for(const r in t.styles){const o=t.styles[r];i.Type.isString(o)?n[r]=o:o(e,r)}}applyStyleToSelection(e){return this.saveSelection((t=>{const n=this.document.getSelection();if(!n||!n.rangeCount)return!1;const r=n.getRangeAt(0),o=[];this.walkRange(r,(e=>{var i,n;e!==(null===(i=t.startMarker)||void 0===i?void 0:i.node)&&e!==(null===(n=t.endMarker)||void 0===n?void 0:n.node)&&o.push(e)}));const a=e.wrapperTag.toUpperCase();let l=[],d=null;const validStyleElement=e=>{if(e===this.getRoot())return!1;const i=this.document.createRange();i.selectNode(e);return(i.compareBoundaryPoints(Range.START_TO_START,r)>=0||r.startContainer===e&&0===r.startOffset||e.firstChild===(null===(n=t.startMarker)||void 0===n?void 0:n.node))&&(()=>{var n;return i.compareBoundaryPoints(Range.END_TO_END,r)<=0||r.endContainer===e&&r.endOffset===e.childNodes.length||e.lastChild===(null===(n=t.endMarker)||void 0===n?void 0:n.node)})();var n},completeSequence=()=>{if(null==l?void 0:l.length)try{const t=l[0];let n=t.parentElement;if(!n||!i.NodeType.isElement(n))return;if(this.matchFormat(n,e))return;if(!validStyleElement(n)){const e=this.document.createElement(a);n.insertBefore(e,t),l.forEach((e=>null==n?void 0:n.removeChild(e))),e.replaceChildren(...l),n=e}this.applyFormatToElement(n,e)}finally{l=[]}};return o.forEach((e=>{if(i.NodeType.isText(e)||i.NodeType.isBr(e))return d&&d.nextSibling===e?l.push(e):(d&&completeSequence(),l=[e]),void(d=e);completeSequence()})),completeSequence(),!0}))}getComputedStyle(e){var t,i;const n=null!==(t=e.ownerDocument)&&void 0!==t?t:this.document;return(null!==(i=null==n?void 0:n.defaultView)&&void 0!==i?i:window).getComputedStyle(e)}setFontSize(e){const changeSize=(t,i)=>{const n=sizeToPx(this.getComputedStyle(t).fontSize);t.style.fontSize=n+parseFloat(null!=e?e:"")+"px"};let t=null!=e?e:"";return e&&("-"!==e.charAt(0)&&"+"!==e.charAt(0)||(t=changeSize)),this.applyStyleToSelection({wrapperTag:"SPAN",styles:{"font-size":t}})}}t.DOMUtils=DOMUtils,DOMUtils.blockNodeNames=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","noscript","ol","output","p","pre","section","table","tfoot","ul","video","tr","td","li","th"],DOMUtils.inlineNodeNames=["b","big","i","small","tt","abbr","acronym","cite","code","dfn","em","kbd","strong","samp","var","a","bdo",,"img","map","object","q","script","span","sub","sup","button","input","label","select","textarea","#text","#comment","#cdata-section","s","strike","u","font"]}.apply(t,n),void 0===r||(e.exports=r)},5679:(e,t,i)=>{var n,r;n=[i,t,i(1901),i(7172),i(2276),i(5327),i(6641),i(8547),i(4395),i(4005),i(2133),i(1947)],r=function(e,t,i,n,r,o,a,l,d,c,p,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextEditor=void 0;class EditorCommandWrapper{constructor(e){var t,i;this.command=e,this.name=e.name,this.getEnabled=null===(t=e.getEnabled)||void 0===t?void 0:t.bind(e),this.getValue=null===(i=e.getValue)||void 0===i?void 0:i.bind(e),this.shortcut=e.shortcut,this.icon=e.icon,this.label=e.label,this.tooltip=e.tooltip}execute(e,t){if(this.getEnabled&&!this.getEnabled(e))return!1;if(e.dispatch(r.EditorEventName.BeforeExecCommand,this.name).isDefaultPrevented())return!1;try{return this.command.execute(e,t)}finally{e.dispatch(r.EditorEventName.ExecCommand,this.name)}}}class RichTextEditor extends r.EditorSlotStorage{constructor(e){super(),this.host=e,this.document=null,this.shortcuts=new d.Shortcuts,this.options=new u.Options,this.eventManager=new a.EventManager,this.plugins=[],this.commands={},this.callbacks=[],this.element=null,this.currentMode="visual"}dispose(){this.eventManager.dispose(),this.disposeSurface(),super.dispose()}init(e){if(i.Tools.forEach(null!=e?e:{},((e,t)=>this.options.register(t,e))),this.attachPlugins(this.options.plugins),i.Tools.forEach(this.plugins,(e=>{var t;return null===(t=e.init)||void 0===t?void 0:t.call(e,this)})),this.createContainer(),!this.recreateSurface(this.currentMode)){const e=this.getDefaultMode();if(this.currentMode!==e&&!this.recreateSurface(e))throw new TypeError}i.Tools.forEach(this.plugins,(e=>{var t;return null===(t=e.show)||void 0===t?void 0:t.call(e,this)})),this.dispatch(r.EditorEventName.Init)}refresh(){var e;const t=this.currentMode,i=null===(e=this.document)||void 0===e?void 0:e.content;this.dispatch(r.EditorEventName.OptionChanged),i&&this.applyContent(i,{style:t})}addEventListener(e){return this.callbacks.push(e),{dispose:()=>{const t=this.callbacks.findIndex((t=>t===e));-1!==t&&this.callbacks.splice(t,1)}}}processHostEvents(e){this.callbacks.forEach((t=>t(e))),this.host.dispatch&&this.host.dispatch(e)}dispatch(e,t){const i=new o.RichTextEditorEvent(this,(0,o.CreateControlEvent)(e,t));return this.dispatchEvent(i),i}getContent(e){var t,i,o,a;const l=this.translateContent(null!==(o=null!==(t=this.pendingContent)&&void 0!==t?t:null===(i=this.document)||void 0===i?void 0:i.content)&&void 0!==o?o:{format:"fragment",html:"",body:""},"from-editor");switch(null==e?void 0:e.allowEmpty){case"html":if(""===l.body)return"";break;case"content":if(!n.TextUtils.elementHasContent(l.body))return"";break;case"text":if(""===n.TextUtils.convertValueToPlainText(l).body)return""}if(void 0===(null==e?void 0:e.format)){if("plain"===l.format)return l.body;if("fragment"===l.format&&n.TextUtils.elementIsPlain(l.body))return n.TextUtils.convertValueToPlainText(l).body}if(void 0===(null==e?void 0:e.format)||"html"===(null==e?void 0:e.format)){let t;return t=(0,r.isEditMode)(null==e?void 0:e.style)?this.options.styles[e.style]:null!==(a=null==e?void 0:e.style)&&void 0!==a?a:this.options.styles[this.mode],n.HTMLUtils.composeHtml(l,!0,t)}return l.body}get content(){return this.getContent()}get readonly(){return this.options.readonly}setContent(e,t){this.applyContent(this.translateContent(n.HTMLUtils.decomposeHtml(e,null==t?void 0:t.format),"to-editor"))}set mode(e){e!==this.currentMode&&(this.readonly&&"plain"!==e&&"preview"!==e||this.recreateSurface(e))}get mode(){return this.currentMode}executeCommand(e,t){var i,n;return null!==(n=null===(i=this.queryCommand(e))||void 0===i?void 0:i.execute(this,t))&&void 0!==n&&n}queryCommand(e){return this.commands[(0,r.normalizeEntityName)(e)]}focus(){var e;null===(e=this.document)||void 0===e||e.focus()}getFocused(){var e;return(null===(e=this.document)||void 0===e?void 0:e.getFocused())||!1}getState(){return p.EditorDocumentState.makeState(this)}setState(e){if(e&&e instanceof p.EditorDocumentState)if(e.mode===this.mode){if(!this.document)throw new TypeError;this.document.setState(e.documentState)}else{if(!this.recreateSurface(e.mode,null))throw new TypeError;this.document.setState(e.documentState)}}handleSurfaceEvents(e,t){const i=new o.RichTextEditorEvent(this,t);return this.shortcuts.dispatch(i),this.dispatchEvent(i),!1}getDefaultMode(){return this.readonly?"preview":"visual"}applyContent(e,t){let i;if(this.readonly?i="plain"===e.format?"plain":"preview":((null==t?void 0:t.style)&&(0,r.isEditMode)(null==t?void 0:t.style)&&(i=null==t?void 0:t.style),i||(i="plain"===e.format?"plain":"visual")),this.document)try{if(this.mode!==i){if(this.recreateSurface(i,e))return;if(i=this.getDefaultMode(),this.mode!==i&&this.recreateSurface(i,e))return}this.document.content=e}finally{this.dispatch(r.EditorEventName.Init)}else this.currentMode=i,this.pendingContent=e}attachPlugins(e){i.Tools.forEach(i.Tools.map(e,(e=>c.EditorPlugins.get(e))),(e=>e&&this.attachPlugin(e)))}attachPlugin(e){this.plugins.push(e),i.Tools.forEach(e.commands,(e=>{const t=(0,r.normalizeEntityName)(e.name);this.commands[t]=new EditorCommandWrapper(e),e.shortcut&&this.shortcuts.addShortcut(e.shortcut,t)}))}createContainer(){if(this.element)return;this.element=this.host.editorHost;const e=this.host.hostElement,t=e.ownerDocument;this.eventManager.on(t,"keydown keyup",(t=>{e.contains(t.target)&&this.shortcuts.dispatch(new o.RichTextEditorEvent(this,t))}))}recreateSurface(e,t){var i,n;if(!this.element)throw new TypeError;void 0===t?t=null!==(n=null===(i=this.document)||void 0===i?void 0:i.content)&&void 0!==n?n:this.pendingContent:null===t&&(t=void 0),t&&(t=this.translateContent(this.translateContent(t,"from-editor"),"to-editor",e));const o=this.getFocused(),a=(0,l.createSurface)(e,this.element,this.options,t,(()=>this.disposeSurface()));return!!a&&(a.addEventListener(this.handleSurfaceEvents.bind(this)),o&&a.focus(),this.document=a,this.currentMode=e,this.pendingContent=void 0,a.init(),this.dispatch(r.EditorEventName.ModeChanged),!0)}disposeSurface(){var e,t;this.pendingContent=null===(e=this.document)||void 0===e?void 0:e.content,null===(t=this.document)||void 0===t||t.dispose(),this.document=null}dispatchEvent(e){return this.processHostEvents(e),this.plugins.forEach((t=>t.dispatch&&t.dispatch(e))),!0}translateContent(e,t,i){const n={value:Object.assign({},e),direction:t,targetMode:null!=i?i:this.currentMode,handled:!1};return!this.dispatch(r.EditorEventName.ContentTranslating,n).isDefaultPrevented()&&n.handled?n.value:e}}t.RichTextEditor=RichTextEditor}.apply(t,n),void 0===r||(e.exports=r)},5327:(e,t,i)=>{var n,r;n=[i,t,i(2276)],r=function(e,t,i){"use strict";function getEventAs(e,t){var i,n,r;const o=e.target;if(e instanceof(null!==(r=(null!==(n=null===(i=null==o?void 0:o.ownerDocument)||void 0===i?void 0:i.defaultView)&&void 0!==n?n:window)[t.name])&&void 0!==r?r:t))return e}Object.defineProperty(t,"__esModule",{value:!0}),t.RichTextEditorEvent=t.getEventAs=t.CreateControlEvent=void 0,t.CreateControlEvent=function CreateControlEvent(e,t){return new CustomEvent(i.EditorEventType.ControlEvent,{bubbles:!0,detail:{eventName:e,data:t}})},t.getEventAs=getEventAs;t.RichTextEditorEvent=class RichTextEditorEvent{constructor(e,t){var n,r;if(this.source=e,this.nativeEvent=t,this.defaultPrevented=!1,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this.type=t.constructor.name,this.name=t.type,t instanceof CustomEvent){const e=t.type;e in i.EditorEventType&&(this.type=i.EditorEventType[e],this.type===i.EditorEventType.ControlEvent&&(this.name=(null===(r=null===(n=this.as(CustomEvent))||void 0===n?void 0:n.detail)||void 0===r?void 0:r.eventName)||""))}}isDefaultPrevented(){return this.defaultPrevented}preventDefault(){this.defaultPrevented||(this.nativeEvent.preventDefault(),this.defaultPrevented=!0)}stopImmediatePropagation(){this.nativeEvent.stopImmediatePropagation(),this.immediatePropagationStopped=!0}isImmediatePropagationStopped(){return this.immediatePropagationStopped}stopPropagation(){this.nativeEvent.stopPropagation(),this.propagationStopped=!0}isPropagationStopped(){return this.immediatePropagationStopped||this.propagationStopped}as(e){return getEventAs(this.nativeEvent,e)}}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/editor/format":(e,t,i)=>{var n,r;n=[i,t,i(1901),i(2276),i(4005)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontHighlightColorsOption=t.FontBackgroundColorsOption=t.FontColorsOption=t.FontSizeOption=t.FontNameOption=t.FormatBlockOption=void 0,t.FormatBlockOption="format-block-option",t.FontNameOption="font-name-option",t.FontSizeOption="font-size-option",t.FontColorsOption="font-colors-option",t.FontBackgroundColorsOption="font-background-colors-option",t.FontHighlightColorsOption="font-highlight-colors-option",r.EditorPlugins.register("format",(e=>{class FormatCommand{constructor(e,t={},i){this.name=e,this.options={},"object"==typeof t?(Object.assign(this.options,t),"string"==typeof i&&(this.options.shortcut=i)):this.options.shortcut=t}get shortcut(){return this.options.shortcut}get label(){return this.options.label}get command(){var e;return null!==(e=this.options.command)&&void 0!==e?e:this.name}execute(e,t){var i,n;if(!e.document)return!1;const r=this.valueToCommand(null!==(n=null!==(i=this.options.value)&&void 0!==i?i:t&&t.length?t[0]:void 0)&&void 0!==n?n:this.options.defaultValue);return e.document.execCommand(this.command,r)}getValue(e){const t=e.document;if(!t)return;let i;return i=!1!==this.options.stateIsValue?t.queryCommandState(this.command):t.queryCommandValue(this.command),this.commandToValue(i)}getEnabled(e){if(!e.document)return!1;const t=this.command;return e.document.queryCommandSupported(t)}valueToCommand(e){return e}commandToValue(e){return e}}class FormatBlockOptions{constructor(e){this.options=e,this.values={},e.forEach((e=>this.values[e.label]=e.value))}static OptionsGetter(e,i){return(0,n.decodeSelectorOptions)(e.options.get(t.FormatBlockOption))}valueToOption(e){var t;const i=Object.keys(this.values);if(0===i.length)return null;let n=i[0];const r=(e||"").split(",");if(r.length>0){const e=i.map((e=>({key:e,index:r.indexOf(this.values[e])}))).filter((e=>e.index>=0)).sort(((e,t)=>e.index-t.index));e.length>0&&(n=e[0].key)}return null!==(t=this.options.find((e=>e.label===n)))&&void 0!==t?t:null}optionToValue(e){return null==e?void 0:e.value}}class FormatBlockCommand extends FormatCommand{constructor(){super(n.EditorCommandAlias.FormatBlock)}getValue(e){var t,i,n;return(null!==(n=null===(i=null===(t=e.document)||void 0===t?void 0:t.getSelection())||void 0===i?void 0:i.getParagraphStyle())&&void 0!==n?n:[]).join(",")}}FormatBlockCommand.ActionName=n.EditorCommandAlias.FormatBlock;class FontNameOptions{constructor(e){this.options=e,this.values={},e.forEach((e=>this.values[e.label]=e.value))}static OptionsGetter(e,i){return(0,n.decodeSelectorOptions)(e.options.get(t.FontNameOption))}valueToOption(e){var t;const n=Object.keys(this.values);if(0===n.length)return null;let r=n[0];const o=this.parseFontList(null!=e?e:"");if(o.length){const e=this.getFontMap();for(const t of o){const n=[];if(i.Tools.forEach(e,((e,i)=>{const r=e.indexOf(t);-1!==r&&n.push({key:i,index:r})})),n.length){r=n.sort(((e,t)=>e.index-t.index))[0].key;break}}}return null!==(t=this.options.find((e=>e.label===r)))&&void 0!==t?t:null}optionToValue(e){return null==e?void 0:e.value}getFontMap(){return this.fontMap||(this.fontMap={},i.Tools.forEach(this.values,((e,t)=>{this.fontMap[t]=this.parseFontList(e)}))),this.fontMap}parseFontList(e){return(null!=e?e:"").split(",").map((e=>{return(t=e.trim().toLowerCase())&&'"'===t.charAt(0)?t.substring(1,t.length-1).trim():t;var t})).filter((e=>!!e))}}class FontNameCommand extends FormatCommand{constructor(){super(n.EditorCommandAlias.FontName,{stateIsValue:!1})}commandToValue(e){return"string"==typeof e?e:""}}FontNameCommand.ActionName=n.EditorCommandAlias.FontName;class FontSizeOptions{constructor(e){this.options=e}static Convert(e){var t;const i=e.value,n=e.label.toLowerCase().match(/^([\d\.]+)(\D*)$/);if(!n)return e;let r=parseFloat(n[1]);return isNaN(r)?e:("pt"===(null!==(t=n[2])&&void 0!==t?t:"").toLowerCase()&&(r=r/1.5*2),r=Math.round(r),{label:String(r),value:i})}static OptionsGetter(e,i){return(0,n.decodeSelectorOptions)(e.options.get(t.FontSizeOption),FontSizeOptions.Convert)}valueToOption(e){return e?FontSizeOptions.Convert({label:String(e),value:e}):this.options.length?this.options[0]:null}optionToValue(e){return null==e?void 0:e.value}}class FontSizeCommand extends FormatCommand{constructor(){super(n.EditorCommandAlias.FontSize)}getValue(e){var t,i;return null===(i=null===(t=e.document)||void 0===t?void 0:t.getSelection())||void 0===i?void 0:i.getFontSize()}commandToValue(e){return"string"==typeof e?e:""}}FontSizeCommand.ActionName=n.EditorCommandAlias.FontSize;const r=[new FormatCommand(n.EditorCommandAlias.Underline,{label:"Underline"},"meta+u"),new FormatCommand(n.EditorCommandAlias.Strike,{label:"Strikethrough"}),new FormatCommand(n.EditorCommandAlias.Subscript,{label:"Subscript"}),new FormatCommand(n.EditorCommandAlias.Superscript,{label:"Superscript"})],o=[new FormatCommand(n.EditorCommandAlias.JustifyLeft,{label:"Align Text Left",stateIsValue:!0},"meta+l"),new FormatCommand(n.EditorCommandAlias.JustifyCenter,{label:"Center",stateIsValue:!0},"meta+e"),new FormatCommand(n.EditorCommandAlias.JustifyRight,{label:"Align Text Right",stateIsValue:!0},"meta+r"),new FormatCommand(n.EditorCommandAlias.JustifyFull,{label:"Justify",stateIsValue:!0},"meta+j")];return{name:e,init(e){e.options.registerDefault(t.FormatBlockOption,{Paragraph:"p","Heading 1":"h1","Heading 2":"h2","Heading 3":"h3","Heading 4":"h4","Heading 5":"h5","Heading 6":"h6",Preformatted:"pre",Quote:"blockquote"}),e.options.registerDefault(t.FontNameOption,{Arial:"arial,helvetica,sans-serif","Arial Black":"arial black,sans-serif","Book Antiqua":"book antiqua,palatino,serif","Comic Sans MS":"comic sans ms,sans-serif","Courier New":"courier new,courier,monospace",Georgia:"georgia,palatino,serif",Helvetica:"helvetica,arial,sans-serif",Impact:"impact,sans-serif",Symbol:"symbol",Tahoma:"tahoma,arial,helvetica,sans-serif",Terminal:"terminal,monaco,monospace","Times New Roman":"times new roman,times,serif","Trebuchet MS":"trebuchet ms,geneva,sans-serif",Verdana:"verdana,geneva,sans-serif",Webdings:"webdings",Wingdings:"wingdings,zapf dingbats"}),e.options.registerDefault(t.FontSizeOption,"8px;10px;12px;14px;16px;24px;32px")},commands:[new FormatCommand(n.EditorCommandAlias.Bold,{label:"Bold"},"meta+b"),new FormatCommand(n.EditorCommandAlias.Italic,{label:"Italic"},"meta+i"),...r,new FormatCommand(n.EditorCommandAlias.Indent,{label:"Indent"}),new FormatCommand(n.EditorCommandAlias.Outdent,{label:"Outdent"}),new FormatCommand(n.EditorCommandAlias.InsertOrderedList),new FormatCommand(n.EditorCommandAlias.InsertUnorderedList),...o,new FormatCommand(n.EditorCommandAlias.BackColor,{stateIsValue:!1,defaultValue:"white"}),new FormatCommand(n.EditorCommandAlias.HiliteColor,{stateIsValue:!1,defaultValue:"yellow"}),new FormatCommand(n.EditorCommandAlias.ForeColor,{stateIsValue:!1,defaultValue:"black"}),new FormatBlockCommand,new FontNameCommand,new FontSizeCommand,new FormatCommand("font-size-inc",{command:n.EditorCommandAlias.FontSize,value:"+1"},"meta+shift+>"),new FormatCommand("font-size-dec",{command:n.EditorCommandAlias.FontSize,value:"-1"},"meta+shift+<")],actions:[(0,n.createButtonGroup)("underline-group","menu",r),(0,n.createButtonGroup)("justify-group","menu",o),(0,n.createSelector)(FormatBlockCommand.ActionName,FormatBlockOptions.OptionsGetter,FormatBlockOptions),(0,n.createSelector)(FontNameCommand.ActionName,FontNameOptions.OptionsGetter,FontNameOptions),(0,n.createSelector)(FontSizeCommand.ActionName,FontSizeOptions.OptionsGetter,{sort:!0,converter:FontSizeOptions}),(0,n.createColorPicker)(n.EditorCommandAlias.ForeColor,{value:"red",defaultValue:"",userColorsOption:t.FontColorsOption}),(0,n.createColorPicker)(n.EditorCommandAlias.HiliteColor,{allowNull:!0,value:"yellow",defaultValue:"inherit",userColorsOption:t.FontHighlightColorsOption}),(0,n.createColorPicker)(n.EditorCommandAlias.BackColor,{allowNull:!0,defaultValue:"inherit",userColorsOption:t.FontBackgroundColorsOption})]}}))}.apply(t,n),void 0===r||(e.exports=r)},6461:(e,t,i)=>{var n,r;n=[i,t,i(655),i("client-controls/controls/compound/rich-text-editor/editor/format"),i("client-controls/controls/compound/rich-text-editor/editor/modes"),i("client-controls/controls/compound/rich-text-editor/editor/toolbar"),i("client-controls/controls/compound/rich-text-editor/editor/undo")],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.__exportStar(n,t),i.__exportStar(r,t),i.__exportStar(o,t),i.__exportStar(a,t)}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/editor/modes":(e,t,i)=>{var n,r;n=[i,t,i(2276),i(4005)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.EditorPlugins.register("modes",(e=>{const t={name:(0,i.normalizeEntityName)(i.EditorCommandAlias.ChangeMode),execute(e,t){if(t&&t.length){const n=t[0];"string"==typeof n&&(0,i.isEditMode)(n)&&(e.mode=n)}return!0},getValue:e=>e.mode};class SetEditorModeAction{constructor(e,t,n,r){this.name=e,this.label=t,this.mode=n,this.shortcut=r,this.type="command",this.commandName=i.EditorCommandAlias.ChangeMode,this.icon=""}get args(){return[this.mode]}getPushed(e){return e.mode===this.mode}}const n=new SetEditorModeAction("editMode","Visual","visual","meta+m>meta+e, f2"),r=new SetEditorModeAction("sourceMode","HTML","source","meta+m>meta+s, f4"),o=new SetEditorModeAction("plainMode","Plain text","plain","meta+m>meta+t"),a=new SetEditorModeAction("previewMode","Preview","preview","meta+m>meta+p");return{name:e,commands:[t],actions:[n,r,a,{name:"mode-group",type:"control",bind:e=>({modelName:"button-group",model:{id:"mode-group",mode:"toggle",buttons:[(0,i.createButtonFromCommand)(e,t.name,n),(0,i.createButtonFromCommand)(e,t.name,r),(0,i.createButtonFromCommand)(e,t.name,o),(0,i.createButtonFromCommand)(e,t.name,a)]}})}]}}))}.apply(t,n),void 0===r||(e.exports=r)},1947:(e,t,i)=>{var n,r;n=[i,t,i(2276)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Options=void 0;t.Options=class Options{constructor(){this.map={}}get id(){return this.get("id")}get readonly(){return!!this.get("readonly")}get toolbar(){var e;return null!==(e=this.get("toolbar"))&&void 0!==e?e:""}get plugins(){var e;return null!==(e=this.get("plugins"))&&void 0!==e?e:[]}get styles(){var e;return null!==(e=this.get("styles"))&&void 0!==e?e:{}}get spellcheck(){return this.get("spellcheck")}has(e){return void 0!==this.map[this.makeKey(e)]}registerDefault(e,t){this.has(e)||this.register(e,t)}register(e,t){this.map[this.makeKey(e)]=t}get(e){return this.map[this.makeKey(e)]}makeKey(e){return(0,i.normalizeEntityName)(e)}}}.apply(t,n),void 0===r||(e.exports=r)},4005:(e,t,i)=>{var n,r;n=[i,t,i(2276)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorPlugins=void 0,t.EditorPlugins=new class{constructor(){this.pluginCache={}}get(e){const t=(0,i.normalizeEntityName)(e);let n=this.pluginCache[t];return"function"==typeof n&&(n=n(t),this.pluginCache[t]=n),n}register(e,t){this.pluginCache[(0,i.normalizeEntityName)(e)]=t}}}.apply(t,n),void 0===r||(e.exports=r)},5583:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HtmlSanitizer=void 0;class HtmlSanitizer{SanitizeHtml(e){var t,i;if(""===(e=e.trim()))return"";if("<br>"===e.toLowerCase())return"";-1===e.toLowerCase().indexOf("<body")&&(e=`<body>${e}`);const n=(new DOMParser).parseFromString(e,"text/html");"body"!==n.body.tagName.toLowerCase()&&n.body.remove(),"function"!=typeof n.createElement&&"function"==typeof n.createElement.remove&&n.createElement.remove(),n.head&&n.head.querySelectorAll&&Array.from(n.head.querySelectorAll('link[rel="stylesheet"]')).forEach((e=>{n.body.insertBefore(e,n.body.firstChild)}));const makeSanitizedCopy=e=>{let t;if(e.nodeType===Node.TEXT_NODE)t=e.cloneNode(!0);else if(e.nodeType===Node.ELEMENT_NODE){const i=e.tagName.toUpperCase();if(!HtmlSanitizer.tagBlacklist.has(i)){if(HtmlSanitizer.contentTagWhiteList.has(i)||-1!==i.indexOf("-"))t=n.createElement("DIV");else try{t=n.createElement(i)}catch(e){return}for(const i of e.attributes){const n=i.name.toLowerCase();if(!HtmlSanitizer.attributeBlacklist.has(n))if("style"===i.name)for(const i of e.style)t.style.setProperty(i,e.style.getPropertyValue(i));else{if(HtmlSanitizer.uriAttributes.has(n)&&i.value.indexOf(":")>-1&&!this.startsWithAny(i.value,HtmlSanitizer.schemaWhiteList))continue;try{t.setAttribute(i.name,i.value)}catch(e){}}}for(const i of e.childNodes){const e=makeSanitizedCopy(i);e&&t.appendChild(e,!1)}}}else e.nodeType===Node.COMMENT_NODE&&(t=n.createComment(e.data));return t};return null!==(i=null===(t=makeSanitizedCopy(n.body))||void 0===t?void 0:t.innerHTML)&&void 0!==i?i:""}startsWithAny(e,t){for(const i of t)if(0===e.indexOf(i))return!0;return!1}}t.HtmlSanitizer=HtmlSanitizer,HtmlSanitizer.attributeBlacklist=new Set(["fscommand","onabort","onactivate","onafterprint","onafterupdate","onbeforeactivate","onbeforecopy","onbeforecut","onbeforedeactivate","onbeforeeditfocus","onbeforepaste","onbeforeprint","print","onbeforeunload","onbeforeupdate","onbegin","onblur","onbounce","oncellchange","onchange","onclick","oncontextmenu","oncontrolselect","oncopy","oncut","ondataavailable","ondatasetchanged","ondatasetcomplete","ondblclick","ondeactivate","ondrag","ondragend","ondragleave","ondragenter","ondragover","ondragdrop","ondragstart","ondrop","onend","onerror","onerrorupdate","onfilterchange","onfinish","onfocus","onfocusin","onfocusout","onhashchange","onhelp","oninput","onkeydown","onkeypress","onkeyup","onlayoutcomplete","onload","onlosecapture","releasecapture","onmediacomplete","onmediaerror","onmessage","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onmove","onmoveend","onmovestart","onoffline","ononline","onoutofsync","onpaste","onpause","onpopstate","onprogress","onpropertychange","onreadystatechange","onredo","onrepeat","onreset","onresize","onresizeend","onresizestart","onresume","onreverse","onrowsenter","onrowexit","onrowdelete","onrowinserted","onscroll","scrollby","onseek","onselect","onselectionchange","onselectstart","onstart","onstop","onstorage","onsyncrestored","onsubmit","ontimeerror","ontrackchange","onundo","onunload","onurlflip","seeksegmenttime"]),HtmlSanitizer.tagBlacklist=new Set(["SCRIPT","IFRAME","FRAME","FRAMESET"]),HtmlSanitizer.contentTagWhiteList=new Set(["FORM"]),HtmlSanitizer.schemaWhiteList=["http:","https:","data:","m-files:","file:","ftp:","mailto:","pw:"],HtmlSanitizer.uriAttributes=new Set(["href","action"])}.apply(t,[i,t]),void 0===n||(e.exports=n)},5613:(e,t,i)=>{var n,r;n=[i,t,i(7172),i(1901)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextareaSelection=t.DocumentBookmark=t.DocumentPersistentBookmark=t.DocumentSelectionRange=t.DocumentSelection=void 0;class DocumentSelectionPersistent{constructor(e){var t,i,n,r;this.direction="none",this.start="",this.end="",this.left=0,this.top=0;const o=e.document,a=o.getSelection();if(a){const t=a.rangeCount?a.getRangeAt(0):void 0;t&&(this.start=DocumentSelectionPersistent.serializePosition(t.startContainer,t.startOffset),this.end=DocumentSelectionPersistent.serializePosition(t.endContainer,t.endOffset),this.direction=e.isForwardSelection(a)?"forward":"backward")}this.left=null!==(i=null===(t=o.body)||void 0===t?void 0:t.scrollLeft)&&void 0!==i?i:0,this.top=null!==(r=null===(n=o.body)||void 0===n?void 0:n.scrollTop)&&void 0!==r?r:0}static getNodeIndex(e){let t=0,i=e;for(;i=i.previousSibling;)t++;return t}static serializePosition(e,t,i){var n,r;if(e){i=null!==(r=null!=i?i:null===(n=e.ownerDocument)||void 0===n?void 0:n.documentElement)&&void 0!==r?r:document.documentElement;const o=[];for(;e&&e!==i;)o.push(this.getNodeIndex(e)),e=e.parentNode;return o.join("/")+":"+t}return""}static deserializePosition(e,t,i){i=null!=i?i:(null!=t?t:document).documentElement;const n=e.split(":"),r=n[0]?n[0].split("/"):[];let o,a=r.length,l=i;for(;a--;){if(o=parseInt(r[a],10),!(o<l.childNodes.length))return null;l=l.childNodes[o]}return{node:l,offset:parseInt(n[1],10)}}restore(e){let t=!0;const i=e.createRange();try{t="forward"===this.direction;const n=DocumentSelectionPersistent.deserializePosition(this.start,e.document);if(!(null==n?void 0:n.node))return;i.setStart(n.node,n.offset);const r=DocumentSelectionPersistent.deserializePosition(this.end,e.document);r&&i.setEnd(r.node,r.offset)}finally{e.setRange(i,t),e.document.body.scrollTo({left:this.left,top:this.top})}}}t.DocumentSelection=class DocumentSelection{constructor(e){this.dom=e,this.selection=e.document.getSelection(),this.selection?e.isForwardSelection(this.selection)?this.direction="forward":this.direction="backward":this.direction="none"}getRange(){if(this.selection&&this.selection.rangeCount)return new DocumentSelectionRange(this.dom.document,this.selection.getRangeAt(0))}addBookmark(){if(this.selection)return DocumentBookmark.insert(this.dom,this.selection,"backward"!==this.direction)}hasStyle(e){return this.getSelectedStyles().indexOf(e)>-1}getParagraphStyle(){return this.getSelectedStyles()}getFontName(){return this.dom.queryCommandValue("fontName")}getFontSize(){return this.dom.getFontSize()}save(){return new DocumentSelectionPersistent(this.dom)}restore(e){e&&e instanceof DocumentSelectionPersistent&&e.restore(this.dom)}getSelectedStyles(){var e;return(null===(e=this.selection)||void 0===e?void 0:e.rangeCount)?this.dom.getSelectedStyle(this.selection.getRangeAt(0)):[]}};class DocumentSelectionRange{constructor(e,t){this.document=e,this.range=t,this.defaultView=e.defaultView}getStartContainer(){return this.range.startContainer}getStartOffset(){return this.range.startOffset}getEndContainer(){return this.range.endContainer}getEndOffset(){return this.range.endOffset}select(){if(!this.defaultView)return;const e=this.defaultView.getSelection();e&&(e.removeAllRanges(),e.addRange(this.range))}selectNode(e){this.range.selectNode(e)}selectNodeContents(e){this.range.selectNodeContents(e)}toString(){return this.range.toString()}isEqual(e){return this.document===e.document&&!!this.range&&!!e.range&&0===this.range.compareBoundaryPoints(Range.START_TO_START,e.range)&&0===this.range.compareBoundaryPoints(Range.END_TO_END,e.range)}clone(){return new DocumentSelectionRange(this.document,this.range.cloneRange())}surroundContents(e){return this.range.surroundContents(e),e}isCollapsed(){return this.range.collapsed}setStart(e,t){this.range.setStart(e,t)}setEnd(e,t){this.range.setEnd(e,t)}selectTextElem(e){this.range.selectNode(e)}collapse(){this.range.collapse()}deleteContents(){this.range.deleteContents()}ancestorContainer(){return this.range.commonAncestorContainer}}t.DocumentSelectionRange=DocumentSelectionRange;class DocumentPersistentBookmark{constructor(e){this.startMarker=e.startMarker,this.endMarker=e.endMarker}restore(e){var t,n;const r=new i.DOMUtils(e),o=null===(t=this.startMarker)||void 0===t?void 0:t.key;if(!o)return;const a=[o],l=null===(n=this.endMarker)||void 0===n?void 0:n.key;l&&a.push(l);const d=r.getAllComments(a);let c,p;for(const e of d)if(e.textContent===o&&(c=e),l&&e.textContent===l&&(p=e),c&&p)break;if(!c)return;const u=new DocumentBookmark(r);return u.startMarker={node:c,type:this.startMarker.type,key:this.startMarker.key},p&&(u.endMarker={node:p,type:this.endMarker.type,key:this.endMarker.key}),u}}t.DocumentPersistentBookmark=DocumentPersistentBookmark;class DocumentBookmark{constructor(e){this.dom=e}save(){return new DocumentPersistentBookmark(this)}remove(){var e,t;if(!this.startMarker)return;const i=this.dom.isForward(null===(e=this.startMarker)||void 0===e?void 0:e.node,null===(t=this.endMarker)||void 0===t?void 0:t.node),n=i?this.startMarker:this.endMarker,r=i?this.endMarker:this.startMarker,o=this.removeMarker(null==n?void 0:n.node,null==n?void 0:n.type),a=this.removeMarker(null==r?void 0:r.node,null==r?void 0:r.type);if(this.startMarker=void 0,this.endMarker=void 0,!o)return;const l=this.dom.document.createRange();if(l.setStart(o.node,o.offset),a)l.setEnd(a.node,a.offset);else try{l.setEnd(o.node,o.offset)}catch(e){}this.dom.setRange(l,i)}static insert(e,t,i){const n=new DocumentBookmark(e);return n.insertMarkers(t,i),n}generateMarkers(){const e=this.dom.document.body.innerHTML;let t=n.Tools.newGuid();for(;-1!==e.indexOf(t);)t=n.Tools.newGuid();return{startText:`start[${t}]`,endText:`end[${t}]`}}insertMarker(e,t,i){var n,r,o,a,l,d,c,p,u,h,g;const m=this.dom.document,f=m.createComment(i),v=DocumentBookmark.textNodeConstructors[e.nodeType];if(v){const i=m[v],h=null!==(r=null===(n=e.textContent)||void 0===n?void 0:n.substring(0,t))&&void 0!==r?r:"",g=null!==(a=null===(o=e.textContent)||void 0===o?void 0:o.substring(t))&&void 0!==a?a:"",b=i.call(m,h),y=i.call(m,g);t&&(null===(l=e.parentNode)||void 0===l||l.insertBefore(b,e)),null===(d=e.parentNode)||void 0===d||d.insertBefore(f,e),g.length&&(null===(c=e.parentNode)||void 0===c||c.insertBefore(y,e)),(null===(p=e.textContent)||void 0===p?void 0:p.length)&&(null===(u=e.parentNode)||void 0===u||u.removeChild(e))}else this.dom.insertNodeAt(e,f,t);let b;return b=v?t?t===(null!==(g=null===(h=e.textContent)||void 0===h?void 0:h.length)&&void 0!==g?g:0)?"end":"split":"start":"node",{node:f,type:b,key:i}}insertMarkers(e,t){var i,n,r,o,a,l,d,c,p,u,h,g,m,f,v,b;if(!e||!e.rangeCount)return;const{startText:y,endText:x}=this.generateMarkers(),C=e.getRangeAt(0);"br"===(null===(i=C.startContainer)||void 0===i?void 0:i.nodeName.toLowerCase())&&C.startContainer.parentNode&&C.setStart(C.startContainer.parentNode,this.dom.nodeIndex(C.startContainer)+1),"br"===(null===(n=C.endContainer)||void 0===n?void 0:n.nodeName.toLowerCase())&&C.endContainer.parentNode&&C.setEnd(C.endContainer.parentNode,this.dom.nodeIndex(C.endContainer)+1);const{startOffset:_,endOffset:S,startContainer:E,endContainer:q}=C;if(E!==q)C.compareBoundaryPoints(Range.START_TO_END,C)?(this.endMarker=this.insertMarker(q,S,x),this.startMarker=this.insertMarker(E,_,y)):(this.startMarker=this.insertMarker(E,_,y),this.endMarker=this.insertMarker(q,S,x));else if(_===S)this.startMarker=this.insertMarker(E,_,y);else{const e=E,t=this.dom.document,i=t.createComment(y),n=t.createComment(x),b=DocumentBookmark.textNodeConstructors[e.nodeType];let C="",q="";if(b){const y=Math.min(_,S),x=Math.max(_,S),E=t[b],k=null!==(o=null===(r=e.textContent)||void 0===r?void 0:r.substring(0,y))&&void 0!==o?o:"",M=null!==(l=null===(a=e.textContent)||void 0===a?void 0:a.substring(y,x))&&void 0!==l?l:"",T=null!==(c=null===(d=e.textContent)||void 0===d?void 0:d.substring(x))&&void 0!==c?c:"",I=E.call(t,k),D=E.call(t,M),F=E.call(t,T);let P;k.length>0?(null===(p=e.parentNode)||void 0===p||p.insertBefore(I,e),P="split"):P="start",_<=S?(null===(u=e.parentNode)||void 0===u||u.insertBefore(i,e),C=P):(null===(h=e.parentNode)||void 0===h||h.insertBefore(n,e),q=P),null===(g=e.parentNode)||void 0===g||g.insertBefore(D,e),null===(m=e.parentNode)||void 0===m||m.insertBefore(_<S?n:i,e),T.length>0?(null===(f=e.parentNode)||void 0===f||f.insertBefore(F,e),_<S?q="split":C="split"):_<S?q="end":C="end",null===(v=e.parentNode)||void 0===v||v.removeChild(e)}else _<S?(this.dom.insertNodeAt(e,n,S),this.dom.insertNodeAt(e,i,_)):(this.dom.insertNodeAt(e,i,_),this.dom.insertNodeAt(e,n,S)),C="node",q="node";this.startMarker={node:i,type:C,key:y},this.endMarker={node:n,type:q,key:x}}if(this.dom.setRangeBetween(this.startMarker.node,(null===(b=this.endMarker)||void 0===b?void 0:b.node)?this.endMarker.node:this.startMarker.node,t),!t&&this.endMarker){const e=this.endMarker;this.endMarker=this.startMarker,this.startMarker=e}}removeMarker(e,t){var i,n,r,o,a,l;if(e)try{if("split"===t){const t=e.previousSibling;if((null==t?void 0:t.nodeType)!==Node.TEXT_NODE){const i=null==t?void 0:t.parentNode;if(!i)return;return{node:i,offset:this.dom.nodeIndex(e)}}const a=null!==(n=null===(i=t.textContent)||void 0===i?void 0:i.length)&&void 0!==n?n:0;return(null===(r=e.nextSibling)||void 0===r?void 0:r.nodeType)===Node.TEXT_NODE&&(t.textContent+=null!==(o=e.nextSibling.textContent)&&void 0!==o?o:"",this.dom.deleteNode(e.nextSibling)),{node:t,offset:a}}if("start"===t){const t=e.nextSibling||e.parentNode;if(!t)return;return{node:t,offset:0}}if("end"===t){let t=e.previousSibling;for(;t&&t.nodeType!==Node.TEXT_NODE;)t=t.lastChild;if(!t)return;return{node:t,offset:null!==(l=null===(a=t.textContent)||void 0===a?void 0:a.length)&&void 0!==l?l:0}}{const t=e.parentNode;if(!t)return;return{node:t,offset:this.dom.nodeIndex(e)}}}finally{this.dom.deleteNode(e)}}}t.DocumentBookmark=DocumentBookmark,DocumentBookmark.textNodeConstructors={3:"createTextNode",4:"createCDATASection",8:"createComment"};class TextareaSelectionPersistent{constructor(e){this.direction="none",this.start=0,this.end=0,this.left=0,this.top=0,this.direction=e.selectionDirection,this.start=e.selectionStart,this.end=e.selectionEnd,this.top=e.scrollTop,this.left=e.scrollLeft}restore(e){e.setSelectionRange(this.start,this.end,this.direction),e.scrollTo({left:this.left,top:this.top})}}t.TextareaSelection=class TextareaSelection{constructor(e){this.textarea=e,this.direction=e.selectionDirection}getRange(){}addBookmark(){}hasStyle(e){return!1}getParagraphStyle(){return[]}getFontName(){return null}getFontSize(){return null}save(){return new TextareaSelectionPersistent(this.textarea)}restore(e){e&&e instanceof TextareaSelectionPersistent&&e.restore(this.textarea)}}}.apply(t,n),void 0===r||(e.exports=r)},4395:(e,t,i)=>{var n,r;n=[i,t,i(6089)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shortcuts=void 0;t.Shortcuts=class Shortcuts{constructor(){this.service=new i.ShortcutService}dispose(){this.service.dispose()}dispatch(e){if(!e.isDefaultPrevented()&&("keyup"===e.name||"keydown"===e.name)){const t=e.as(KeyboardEvent);t&&this.service.dispatch(t,e.source)}}addShortcut(e,t,i){this.service.addShortcut(e,this.normalizeCommandFunc(t),i)}normalizeCommandFunc(e){const t=e;return"string"==typeof t?e=>{null==e||e.executeCommand(t)}:Array.isArray(t)?e=>{null==e||e.executeCommand(t[0],t[1])}:e=>{e&&t(e)}}}}.apply(t,n),void 0===r||(e.exports=r)},2133:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorDocumentState=t.DocumentContentState=void 0;class DocumentContentState{constructor(e){this.content=e}isEqual(e){return!!(e&&e instanceof DocumentContentState)&&(e.content&&this.content?this.content.format===e.content.format&&this.content.body===e.content.body&&this.content.html===e.content.html:e.content===this.content)}}t.DocumentContentState=DocumentContentState;class EditorDocumentState{constructor(e,t){this.mode=e,this.documentState=t}static makeState(e){var t;const i=e.mode,n=null===(t=e.document)||void 0===t?void 0:t.getState();return n?new EditorDocumentState(i,n):null}isEqual(e){return!!(e&&e instanceof EditorDocumentState)&&this.documentState.isEqual(e.documentState)}}t.EditorDocumentState=EditorDocumentState}.apply(t,[i,t]),void 0===n||(e.exports=n)},8547:(e,t,i)=>{var n,r;n=[i,t,i(2133),i(1273),i(1527),i(7172),i(2276),i(5327),i(6641),i(5613)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.createSurface=void 0,function(e){e[e.HostElement=0]="HostElement",e[e.Window=1]="Window",e[e.Document=2]="Document",e[e.ContentElement=3]="ContentElement",e[e.ContentWindow=4]="ContentWindow",e[e.ContentDocument=5]="ContentDocument",e[e.ContentBody=6]="ContentBody",e[e.ContentDocumentElement=7]="ContentDocumentElement"}(p||(p={}));class EditorBaseDocument{constructor(e,t,i,n){this.hostElement=e,this.options=t,this.style=i,this.eventManager=new d.EventManager,this.publicEvents=[],this.internalEvents=[],this.pendingFocus=!1,this.loaded=!1,this.pendingContent=n}get element(){return this.contentElement||null}dispose(){this.loaded=!1,this.eventManager.dispose(),this.destroyContentElement(),this.publicEvents=[]}init(){this.contentElement||this.createContentElement()}addEventListener(e){return this.publicEvents.push(e),{dispose:()=>this.removeEventListener(e)}}getSelection(){}getState(){return null}setState(e){this.notifyChanged()}execCommand(e,t){return!1}queryCommandSupported(e){return!1}queryCommandEnabled(e){return!1}queryCommandState(e){return!1}queryCommandValue(e){}focus(){var e;this.loaded?null===(e=this.contentElement)||void 0===e||e.focus():this.pendingFocus=!0}getFocused(){return this.contentElement===document.activeElement}insertText(e){}insertHTML(e){}insertElement(e){}clear(){}removeEventListener(e){if(!e)return;const t=this.publicEvents.findIndex((t=>t===e));-1!==t&&this.publicEvents.splice(t,1)}raiseEvent(e){this.publicEvents.forEach((t=>t(this,e)))}afterContentChanged(){this.notifyAttached(),this.reconnectEvents((e=>e===p.ContentDocument||e===p.ContentDocumentElement||e===p.ContentBody))}destroyContentElement(){var e;this.loaded=!1,this.detachEvents(),null===(e=this.contentElement)||void 0===e||e.remove(),this.contentElement=void 0}createContentElement(){throw new TypeError}getOrRecreateContentElement(){let e,t=this.getElementByName(p.ContentElement);if(t){try{e=t.contentDocument}catch(e){}if(!e){const e=this.getFocused();this.destroyContentElement(),t=this.getElementByName(p.ContentElement),e&&this.focus()}return t}}getOwnerDocument(){return this.getElementByName(p.Document)}getElementByName(e){var t,i,n,r,o,a;switch(e){case p.HostElement:return this.hostElement;case p.Document:return this.hostElement.ownerDocument;case p.Window:return this.hostElement.ownerDocument.defaultView;case p.ContentElement:return this.contentElement||this.createContentElement(),this.contentElement;case p.ContentWindow:return null===(t=this.getOrRecreateContentElement())||void 0===t?void 0:t.contentWindow;case p.ContentDocument:return null===(i=this.getOrRecreateContentElement())||void 0===i?void 0:i.contentDocument;case p.ContentDocumentElement:return null===(r=null===(n=this.getOrRecreateContentElement())||void 0===n?void 0:n.contentDocument)||void 0===r?void 0:r.documentElement;case p.ContentBody:return null===(a=null===(o=this.getOrRecreateContentElement())||void 0===o?void 0:o.contentDocument)||void 0===a?void 0:a.body}}createDelegate(e,t){return i=>{try{e.call(this,i)}catch(e){const i=this.constructor.name,n=r.Type.isObject(e)&&e.message||String(e);console.error(`${i}.${t||"<none>"} listener: ${n}`)}}}getEventHandlerFilterProcedure(e){return"function"==typeof e?e:t=>!e||e===t}attachEvents(e){const t=this.getEventHandlerFilterProcedure(e);this.getEventsMap().filter((e=>t(e.source))).forEach((e=>this.attachEvent(e)))}detachEvents(e){const t=this.getEventHandlerFilterProcedure(e);this.internalEvents=this.internalEvents.filter((e=>!t(e.source)||(e.disposable.dispose(),!1)))}reconnectEvents(e){this.detachEvents(e),this.attachEvents(e)}routeEventsToParent(e){var t;const i=null===(t=e.target)||void 0===t?void 0:t.ownerDocument;if(i&&i!==document){const t=this.getContentElement();("mousedown"===e.type||"mousemove"===e.type)&&t.dispatchEvent(new MouseEvent(e.type,{bubbles:!0,cancelable:!0}))}}getEventsMap(){return[{source:p.ContentBody,eventName:"mousedown mousemove",listener:this.routeEventsToParent}]}defaultEventHandler(e){this.raiseEvent(e)}notifyChanged(){this.raiseEvent((0,l.CreateControlEvent)(a.EditorEventName.ContentChanged))}notifyAttached(){this.raiseEvent((0,l.CreateControlEvent)(a.EditorEventName.ContentAttached))}changeEventHandler(e){this.defaultEventHandler(e),this.notifyChanged()}attachEvent(e){const t=this.getElementByName(e.source);if(!t||"object"!=typeof t)return;e.eventName.split(" ").map((e=>e.trim())).forEach((i=>{var n;return this.internalEvents.push({source:e.source,disposable:this.eventManager.on(t,i,this.createDelegate(null!==(n=e.listener)&&void 0!==n?n:this.defaultEventHandler,i),e.capture?{capture:!0}:void 0)})}))}getContentDocument(){return this.getElementByName(p.ContentDocument)}getContentElement(){return this.getElementByName(p.ContentElement)}}class EditorFrameBasedDocument extends EditorBaseDocument{set content(e){this.loaded?this.assignValue(e,this.style,this.options.spellcheck):this.pendingContent=e}get content(){var e;return this.loaded?null===(e=this.dom)||void 0===e?void 0:e.getHtmlFromDocument(this.style):this.pendingContent}assignValue(e,t,i){var n;null===(n=this.dom)||void 0===n||n.setHtmlToDocument(e,t,i),this.afterContentChanged()}createContentElement(){const e=this.getElementByName(p.HostElement);if(!e)return;const t=this.getOwnerDocument();t&&(this.contentElement=t.createElement("IFRAME"),this.contentElement.tabIndex=0,this.contentElement.style.outlineWidth="0px",this.frameLoadHandler=this.eventManager.on(this.contentElement,"load",(e=>this.frameLoaded(e))),e.appendChild(this.contentElement))}destroyContentElement(){var e;null===(e=this.frameLoadHandler)||void 0===e||e.dispose(),this.frameLoadHandler=void 0,super.destroyContentElement()}captureClicks(e){let t=e.target;for(;t;)r.NodeType.isAnchor(t)&&(e.preventDefault(),this.raiseEvent((0,l.CreateControlEvent)(a.EditorEventName.AnchorSelected,t))),t=t.parentElement}getEventsMap(){return[...super.getEventsMap(),{source:p.ContentDocument,eventName:"click",capture:!0,listener:this.captureClicks}]}frameLoaded(e){var t;const i=e.target;if(i&&this.contentElement===i&&(null===(t=this.frameLoadHandler)||void 0===t||t.dispose(),this.frameLoadHandler=void 0,!this.loaded)){this.loaded=!0,this.dom=new o.DOMUtils(this.getContentDocument());const e=this.pendingContent;this.pendingContent=void 0,this.content=e,this.pendingFocus&&(this.pendingFocus=!1,this.focus()),this.reconnectEvents()}}}class EditorTextBasedDocument extends EditorBaseDocument{constructor(){super(...arguments),this.focused=!1,this.format="plain"}set content(e){this.loaded?this.assignValue(this.toView(e)):this.pendingContent=e}get content(){return this.loaded?this.toValue(this.textarea.value):this.pendingContent}selectionChange(e){const t=this.getOwnerDocument(),i=(null==t?void 0:t.activeElement)===this.contentElement;(i||i!==this.focused)&&(this.focused=i,this.raiseEvent(e))}getSelection(){if(this.textarea)return new c.TextareaSelection(this.textarea)}getState(){return new i.DocumentContentState({format:this.format,html:this.decomposedHtml,body:this.textarea.value})}setState(e){e&&e instanceof i.DocumentContentState&&(this.assignValue(e.content),super.setState(e))}applyStyles(){const e=this.contentElement;if(!e)return;const t=e.style;t.resize="none",t.cursor="auto",this.style?o.HTMLUtils.embedStyles(e.ownerDocument,e,this.style):(t.margin="0px",t.padding="0px")}createContentElement(){this.dom=new o.DOMUtils(document),this.contentElement=Object.assign(document.createElement("textarea"),{contentWindow:window,contentDocument:document}),this.hostElement.appendChild(this.contentElement),this.applyStyles(),this.options.readonly&&this.contentElement.setAttribute("readonly","true");const e=this.pendingContent;this.pendingContent=void 0,this.loaded=!0,this.assignValue(this.toView(e)),this.pendingFocus&&(this.pendingFocus=!1,this.focus()),this.reconnectEvents()}getEventsMap(){return[...super.getEventsMap(),{source:p.Document,eventName:"selectionchange",listener:this.selectionChange},{source:p.ContentElement,eventName:"contextmenu"},{source:p.ContentElement,eventName:"mouseup mousedown click"},{source:p.ContentElement,eventName:"keyup keypress keydown"},{source:p.ContentElement,eventName:"cut paste drop"},{source:p.ContentElement,eventName:"focus focusin focusout blur beforedeactivate"},{source:p.ContentElement,eventName:"input",listener:this.changeEventHandler}]}get textarea(){return this.contentElement}toView(e){return e}toValue(e){return{format:this.format,html:this.decomposedHtml,body:e}}assignValue(e){e?(this.format=e.format,this.decomposedHtml=e.html,this.textarea.value=e.body):(this.format="plain",this.decomposedHtml="",this.textarea.value=""),this.textarea.setSelectionRange(0,0,"forward"),this.afterContentChanged()}}const u={preview:class EditorPreviewDocument extends EditorFrameBasedDocument{getEventsMap(){return[...super.getEventsMap(),{source:p.ContentDocument,eventName:"contextmenu"},{source:p.ContentDocument,eventName:"mouseup mousedown click"},{source:p.ContentDocument,eventName:"keyup keypress keydown"}]}},visual:class EditorEditableDocument extends EditorFrameBasedDocument{static prepareContent(e){var t;return"plain"===(null===(t=e.content)||void 0===t?void 0:t.format)&&(e.content={format:"fragment",html:"",body:o.TextUtils.convertTextToHtml(e.content.body)}),!0}focus(){if(this.loaded){const e=this.getContentDocument();e&&e.body&&e.body.focus()}else this.pendingFocus=!0}getSelection(){if(this.loaded&&this.dom)return new c.DocumentSelection(this.dom)}execCommand(e,t){var i;let n=!1;try{n=super.execCommand(e,t)||(null===(i=this.dom)||void 0===i?void 0:i.execCommand(e,t))||!1}finally{return n&&this.notifyChanged(),n}}queryCommandSupported(e){var t;return super.queryCommandSupported(e)||(null===(t=this.dom)||void 0===t?void 0:t.queryCommandSupported(e))||!1}queryCommandEnabled(e){var t;return super.queryCommandEnabled(e)||(null===(t=this.dom)||void 0===t?void 0:t.queryCommandEnabled(e))||!1}queryCommandState(e){var t;return super.queryCommandState(e)||(null===(t=this.dom)||void 0===t?void 0:t.queryCommandState(e))||!1}queryCommandValue(e){var t;return super.queryCommandValue(e)||(null===(t=this.dom)||void 0===t?void 0:t.queryCommandValue(e))||!1}getState(){var e;return new i.DocumentContentState(null===(e=this.dom)||void 0===e?void 0:e.getHtmlFromDocument(this.style))}setState(e){this.dom&&e&&e instanceof i.DocumentContentState&&(this.assignValue(e.content,this.style,this.options.spellcheck),super.setState(e))}getEventsMap(){return[...super.getEventsMap(),{source:p.ContentDocument,eventName:"contextmenu selectionchange mouseup mousedown click keyup keypress keydown paste drop"},{source:p.ContentBody,eventName:"focus focusin focusout blur"},{source:p.ContentBody,eventName:"cut paste drop"},{source:p.ContentBody,eventName:"input",listener:this.changeEventHandler}]}afterContentChanged(){try{const e=this.getContentDocument();if(e){const t=this.options,i=t&&!t.readonly;if(e.body.contentEditable=i.toString(),i)try{n.Env.browser.isFirefox()?(e.execCommand("enableObjectResizing",!1,"false"),e.execCommand("enableInlineTableEditing",!1,"false")):n.Env.browser.isIE()&&e.execCommand("AutoUrlDetect",!1,"false"),e.execCommand("defaultParagraphSeparator",!1,"p"),e.execCommand("styleWithCSS",!1,"true")}catch(e){}}}finally{super.afterContentChanged()}}},source:class EditorSourceDocument extends EditorTextBasedDocument{applyStyles(){super.applyStyles();const e=this.contentElement;e&&e.setAttribute("spellcheck","false")}static prepareContent(e){var t;return"plain"===(null===(t=e.content)||void 0===t?void 0:t.format)&&(e.content={format:"fragment",html:"",body:o.TextUtils.convertTextToHtml(e.content.body)}),!0}toValue(e){const t=o.HTMLUtils.decomposeHtml(e);return"html"===t.format?t:"fragment"===t.format?"html"===this.format?{format:"html",html:this.decomposedHtml,body:t.body}:t:{format:this.format,html:this.decomposedHtml,body:e}}},plain:class EditorPlainTextDocument extends EditorTextBasedDocument{applyStyles(){super.applyStyles();const e=this.contentElement;e&&e.setAttribute("spellcheck",(!0===this.options.spellcheck).toString())}static prepareContent(e){const t=e.content;return!t||("plain"===t.format||("fragment"===t.format&&o.TextUtils.elementIsPlain(t.body)||!!confirm("You're about to lose all the formatting."))&&(e.content=o.TextUtils.convertValueToPlainText(t),!0))}toView(e){return o.TextUtils.convertValueToPlainText(e)}toValue(e){return o.HTMLUtils.isHtml(e)?{format:"fragment",html:"",body:o.TextUtils.htmlEncode(e)}:{format:"plain",html:"",body:e}}}};t.createSurface=function createSurface(e,t,i,n,r){const o=u[e],a=i.styles[e],l=o.prepareContent;if(l){const e={content:n,options:i,style:a};if(!l(e))return null;n=e.content}return r(),new o(t,i,a,n)}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/editor/toolbar":(e,t,i)=>{var n,r;n=[i,t,i(1901),i(4005),i(2276)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.EditorPlugins.register("toolbar",(e=>{class EditorToolbar{constructor(e){this.editor=e}static getInstance(e){const t=e;let i=t.getSlot(this.SlotKey);return i||(i=new EditorToolbar(e),t.setSlot(this.SlotKey,i)),i}createToolbar(){var e;if(null===(e=this.toolbars)||void 0===e?void 0:e.length)return;if(this.editor.options.readonly)return;const t=this.editor.host,{actions:n,actionMap:o}=this.buildActionMap(),processShortcut=e=>{e.shortcut&&this.editor.shortcuts.addShortcut(e.shortcut,(t=>e.execute()))};this.toolbars=i.Tools.map(n,((e,n)=>{const a=t.createToolbar({type:0===n?"main":"panel",showMode:"icons",sizing:"ellipsis",items:[]});return i.Tools.forEach(e,(e=>{var t;if("|"===e)a.addItem({modelName:"separator",model:{width:10,splitter:!0}});else if("@"===e)a.addItem({modelName:"separator",model:{width:30}});else{const n=o[e];if(n)if("command"===n.type){const e=this.editor.queryCommand(null!==(t=n.commandName)&&void 0!==t?t:n.name);e&&(a.addItem({modelName:"button",model:(0,r.createButtonFromCommand)(this.editor,e.name,n)}),n.shortcut&&this.editor.shortcuts.addShortcut(n.shortcut,(t=>{e.execute(t,n.args)})))}else{const e=n.bind(this.editor);if(a.addItem(e),"button"===e.modelName)processShortcut(e.model);else if("button-group"===e.modelName){const t=e.model;i.Tools.forEach(t.buttons,(e=>processShortcut(e)))}}}})),a}))}destroyToolbar(){i.Tools.forEach(this.toolbars,(e=>null==e?void 0:e.dispose())),this.toolbars=void 0}show(){this.createToolbar()}dispose(){this.destroyToolbar()}dispatch(e){var t;return(null===(t=this.toolbars)||void 0===t?void 0:t.length)&&(e.name!==r.EditorEventName.ContentAttached&&e.name!==r.EditorEventName.ContentChanged&&e.name!==r.EditorEventName.ExecCommand&&"selectionchange"!==e.name&&"keyup"!==e.name&&"mouseup"!==e.name||this.updateActions()),e.name===r.EditorEventName.OptionChanged&&(this.editor.options.readonly?this.destroyToolbar():this.createToolbar()),!1}buildActionMap(){const e=this.editor.options,t=function normalizeToolbar(e){return e.replace(/\|/g," | ").replace(/\>/g," > ")}(e.toolbar).split(">").map((e=>e.split(" ").map((e=>(0,r.normalizeEntityName)(e))).filter((e=>!!e)))),o={};return function attachPlugins(e){const acceptAction=e=>t.some((t=>t.some((t=>t===e)))),a=i.Tools.map(e,(e=>n.EditorPlugins.get(e)));i.Tools.forEach(a,(e=>e&&function attachPluginActions(e,t){i.Tools.forEach(e.actions,(e=>{const i=(0,r.normalizeEntityName)(e.name);!(i in o)&&t(i)&&(o[i]=e)}))}(e,acceptAction))),i.Tools.forEach(a,(e=>e&&function attachPluginDefaultActions(e,t){i.Tools.forEach(e.commands,(e=>{const i=(0,r.normalizeEntityName)(e.name);!(i in o)&&t(i)&&(o[i]={name:i,type:"command"})}))}(e,acceptAction)))}(e.plugins),{actions:t,actionMap:o}}updateActions(){this.updateTimeout&&window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout((()=>{i.Tools.forEach(this.toolbars,(e=>{var t;return null===(t=null==e?void 0:e.refresh)||void 0===t?void 0:t.call(e)})),this.updateTimeout=void 0}),10)}}return EditorToolbar.SlotKey="EditorToolbar",{name:e,show(e){EditorToolbar.getInstance(e).show()},dispatch:e=>EditorToolbar.getInstance(e.source).dispatch(e)}}))}.apply(t,n),void 0===r||(e.exports=r)},2276:(e,t,i)=>{var n,r;n=[i,t,i(1527),i(1901),i(6089)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeEntityName=t.decodeSelectorOptions=t.createSelector=t.createColorPicker=t.createButtonGroup=t.createButtonFromCommand=t.EditorCommandAlias=t.isEditMode=t.EditorEventName=t.NativeEventType=t.EditorEventType=t.EditorSlotStorage=void 0;t.EditorSlotStorage=class EditorSlotStorage{constructor(){this.slots=new Map}getSlot(e){var t;return null!==(t=this.slots.get(e))&&void 0!==t?t:null}setSlot(e,t){this.slots.set(e,t)}deleteSlot(e){const t=this.getSlot(e);this.slots.delete(e),null==t||t.dispose()}dispose(){const e=Array.from(this.slots.values());n.Tools.forEach(e,(e=>e.dispose())),this.slots.clear()}},function(e){e.ControlEvent="ControlEvent"}(t.EditorEventType||(t.EditorEventType={})),function(e){e.Event="Event",e.FocusEvent="FocusEvent",e.InputEvent="InputEvent",e.MouseEvent="MouseEvent",e.PointerEvent="PointerEvent",e.ClipboardEvent="ClipboardEvent",e.DragEvent="DragEvent",e.KeyboardEvent="KeyboardEvent",e.TouchEvent="TouchEvent",e.WheelEvent="WheelEvent"}(t.NativeEventType||(t.NativeEventType={})),function(e){e.Init="init",e.ModeChanged="modeChanged",e.ContentTranslating="contentTranslating",e.ContentAttached="contentAttached",e.ContentChanged="contentChanged",e.BeforeExecCommand="beforeExecCommand",e.ExecCommand="execCommand",e.OptionChanged="optionChanged",e.AnchorSelected="anchorSelected"}(t.EditorEventName||(t.EditorEventName={}));const o=n.Tools.makeMap("visual,source,preview,plain");function createTooltipGetter(e,t){if(e)return t?()=>{let n=(0,i.resolveValue)(e);const o=(0,r.createDisplayShortcut)(t);return o&&(n+=` (${o})`),n}:()=>(0,i.resolveValue)(e)}function createButtonFromCommand(e,t,n){var r,o,a,l,d,c,p,u,h,g,m,f,v;const b=e.queryCommand(t);if(!b)throw new TypeError;return{id:null!==(r=null==n?void 0:n.name)&&void 0!==r?r:t,icon:null!==(a=null!==(o=null==n?void 0:n.icon)&&void 0!==o?o:b.icon)&&void 0!==a?a:b.name,getLabel:(0,i.resolveIntoGetter)(null!==(l=null==n?void 0:n.label)&&void 0!==l?l:b.label),shortcut:null!==(d=null==n?void 0:n.shortcut)&&void 0!==d?d:b.shortcut,getTooltip:createTooltipGetter(null!==(u=null!==(p=null!==(c=null==n?void 0:n.tooltip)&&void 0!==c?c:b.tooltip)&&void 0!==p?p:null==n?void 0:n.label)&&void 0!==u?u:b.label,null!==(h=null==n?void 0:n.shortcut)&&void 0!==h?h:b.shortcut),execute:()=>{var t;return null===(t=e.focus)||void 0===t||t.call(e),b.execute(e,null==n?void 0:n.args)},getEnabled:null===(g=b.getEnabled)||void 0===g?void 0:g.bind(b,e),getPushed:null!==(f=null===(m=null==n?void 0:n.getPushed)||void 0===m?void 0:m.bind(n,e))&&void 0!==f?f:null===(v=b.getValue)||void 0===v?void 0:v.bind(b,e)}}t.isEditMode=e=>"string"==typeof e&&e in o,function(e){e.ChangeMode="changeMode",e.Undo="undo",e.Redo="redo",e.Copy="copy",e.Paste="paste",e.Cut="cut",e.Clear="clear",e.Bold="bold",e.Italic="italic",e.Underline="underline",e.Strike="strikeThrough",e.Subscript="subscript",e.Superscript="superscript",e.JustifyLeft="justifyLeft",e.JustifyCenter="justifyCenter",e.JustifyRight="justifyRight",e.JustifyFull="justifyFull",e.Indent="indent",e.Outdent="outdent",e.InsertOrderedList="insertOrderedList",e.InsertUnorderedList="insertUnorderedList",e.BackColor="backColor",e.HiliteColor="hiliteColor",e.ForeColor="foreColor",e.FontName="fontName",e.FontSize="fontSize",e.FormatBlock="formatBlock"}(t.EditorCommandAlias||(t.EditorCommandAlias={})),t.createButtonFromCommand=createButtonFromCommand,t.createButtonGroup=function createButtonGroup(e,t,i){return{name:e,type:"control",bind:n=>({modelName:"button-group",model:{id:e,mode:t,buttons:i.map((e=>createButtonFromCommand(n,e.name)))}})}},t.createColorPicker=function createColorPicker(e,t){return{name:e,type:"control",bind:n=>{var r,o,a,l,d,c;const p=null!==(r=null==t?void 0:t.command)&&void 0!==r?r:e,u=n.queryCommand(p);let h=null!==(a=null!==(o=null==t?void 0:t.value)&&void 0!==o?o:null==t?void 0:t.defaultValue)&&void 0!==a?a:null;const getUserColors=()=>{if(!(null==t?void 0:t.userColorsOption))return;const e=n.options.get(null==t?void 0:t.userColorsOption);return i.Type.isString(e)?e.split(","):i.Type.isArrayOf(e,i.Type.isString)?e:void 0};return{modelName:"color-picker",model:{id:p,icon:p,getLabel:(0,i.resolveIntoGetter)(null==u?void 0:u.label),shortcut:null!==(l=null==t?void 0:t.shortcut)&&void 0!==l?l:null==u?void 0:u.shortcut,getTooltip:createTooltipGetter(null!==(d=null==u?void 0:u.tooltip)&&void 0!==d?d:null==u?void 0:u.label,null!==(c=null==t?void 0:t.shortcut)&&void 0!==c?c:null==u?void 0:u.shortcut),allowNull:null==t?void 0:t.allowNull,get userColors(){return getUserColors()},select(e){var i,r;h=null!==(i=null!=e?e:null==t?void 0:t.defaultValue)&&void 0!==i?i:null,null===(r=n.queryCommand(p))||void 0===r||r.execute(n,[h])},get selectedColor(){return h},getEnabled:()=>{var e,t;const i=n.queryCommand(p);return null!==(t=null===(e=null==i?void 0:i.getEnabled)||void 0===e?void 0:e.call(i,n))&&void 0!==t&&t},addUserColor:(null==t?void 0:t.userColorsOption)?e=>{var i;n.options.register(null==t?void 0:t.userColorsOption,[...null!==(i=getUserColors())&&void 0!==i?i:[],e])}:void 0}}}}};class BaseSelectorOptionsConverter{constructor(e){this.options=e}valueToOption(e){var t;return null!==(t=this.options.find((t=>void 0!==t.value?t.value===e:t.label===e)))&&void 0!==t?t:null}optionToValue(e){var t;return null!==(t=null==e?void 0:e.value)&&void 0!==t?t:null==e?void 0:e.label}}t.createSelector=function createSelector(e,t,n){return{name:e,type:"control",bind:r=>{var o,a,l,d,c;"function"==typeof n&&(n={converter:n});const p=null!==(o=null==n?void 0:n.command)&&void 0!==o?o:e;"function"==typeof t&&(t=t(r,e));const u=t.map((e=>"object"==typeof e?e:{label:e})),h=new(null!==(a=null==n?void 0:n.converter)&&void 0!==a?a:BaseSelectorOptionsConverter)(u),g=r.queryCommand(p);return{modelName:"selector",model:{id:p,width:null==n?void 0:n.width,sort:null==n?void 0:n.sort,getLabel:(0,i.resolveIntoGetter)(null==g?void 0:g.label),shortcut:null!==(l=null==n?void 0:n.shortcut)&&void 0!==l?l:null==g?void 0:g.shortcut,getTooltip:createTooltipGetter(null!==(d=null==g?void 0:g.tooltip)&&void 0!==d?d:null==g?void 0:g.label,null!==(c=null==n?void 0:n.shortcut)&&void 0!==c?c:null==g?void 0:g.shortcut),getValue(){var e,t;const i=r.queryCommand(p);return h.valueToOption(null!==(t=null===(e=null==i?void 0:i.getValue)||void 0===e?void 0:e.call(i,r))&&void 0!==t?t:null)},getOptions:()=>u,setValue(e){r.executeCommand(p,[h.optionToValue(e)])},getEnabled:()=>{var e,t;const i=r.queryCommand(p);return null!==(t=null===(e=null==i?void 0:i.getEnabled)||void 0===e?void 0:e.call(i,r))&&void 0!==t&&t}}}}}},t.decodeSelectorOptions=function decodeSelectorOptions(e,t){const splitReduce=(e,t)=>e.split(t).map((e=>e.trim())).filter((e=>!!e)),r=[];return i.Type.isString(e)&&(e=splitReduce(e,";")),i.Type.isArrayOf(e,i.Type.isString)&&(e=e.reduce(((e,t)=>{const i=splitReduce(t,"=");return i.length&&(i.length>=2?e[i[0]]=i[1]:e[i[0]]=i[0]),e}),{})),i.Type.isObject(e)&&n.Tools.forEach(e,((e,t)=>{r.push({label:t,value:e})})),t?r.map((e=>t(e))):r},t.normalizeEntityName=function normalizeEntityName(e){return e.replace(/-/g,"").toLowerCase().trim()}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/editor/undo":(e,t,i)=>{var n,r;n=[i,t,i(2276),i(6089),i(4005)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.EditorPlugins.register("undo",(e=>{let t;!function(e){e[e.Initial=0]="Initial",e[e.Removing=1]="Removing",e[e.Typing=2]="Typing",e[e.NonTyping=3]="NonTyping"}(t||(t={}));const r=new Set([t.Typing,t.Removing]);class UndoStep{constructor(e,t,i){this.action=i,this.created=new Date,this.state=t,this.updateSelection(e)}static makeStep(e,t){const i=e.getState();return i?new UndoStep(e,i,t):null}restore(e){var t,i;e.setState(this.state),e.mode=this.mode,null===(i=null===(t=e.document)||void 0===t?void 0:t.getSelection())||void 0===i||i.restore(this.selection)}updateSelection(e){var t,i,n;this.next||(this.mode=e.mode,this.selection=null!==(n=null===(i=null===(t=e.document)||void 0===t?void 0:t.getSelection())||void 0===i?void 0:i.save())&&void 0!==n?n:null)}merge(e,t){let i=!1;try{e.action===this.action&&r.has(this.action)?e.created.valueOf()-this.created.valueOf()<t&&(this.state=e.state,this.created=e.created,i=!0):this.isEqual(e)&&(i=!0)}finally{i&&(this.mode=e.mode,this.selection=e.selection)}return i}isEqual(e){return this.state.isEqual(e.state)}compress(e){let t=this.previous;for(;t&&e-- >0;)t=t.previous;null==t||t.delete()}delete(){this.next&&(this.next.previous=void 0),this.previous&&(this.previous.next=void 0)}}class UndoService{constructor(e){this.editor=e,this.lockEvents=0,this.currentStep=null}static getInstance(e){const t=e;let i=t.getSlot(this.SlotKey);return i||(i=new UndoService(e),t.setSlot(this.SlotKey,i)),i}init(){const e=this.lock();try{this.currentStep=UndoStep.makeStep(this.editor,t.Initial)}finally{e.dispose()}}dispose(){this.currentStep=null}get canUndo(){var e;return!!(null===(e=this.currentStep)||void 0===e?void 0:e.previous)}get canRedo(){var e;return!!(null===(e=this.currentStep)||void 0===e?void 0:e.next)}dispatch(e){if(e.name===i.EditorEventName.Init)return this.init(),!1;if(this.acceptEvent(e)){const t=this.lock();try{this.pushState(UndoStep.makeStep(this.editor,this.getContentAction(e)))}finally{t.dispose()}}return!1}pushState(e){e&&(this.currentStep?this.currentStep.merge(e,UndoService.ActionMergeDelay)||(e.previous=this.currentStep,this.currentStep.next=e,this.currentStep=e,UndoService.UndoSize>0&&this.currentStep.compress(UndoService.UndoSize)):this.currentStep=e)}undo(){var e;return!!(null===(e=this.currentStep)||void 0===e?void 0:e.previous)&&(this.currentStep=this.currentStep.previous,this.currentStep.restore(this.editor),!0)}redo(){var e;return!!(null===(e=this.currentStep)||void 0===e?void 0:e.next)&&(this.currentStep=this.currentStep.next,this.currentStep.restore(this.editor),!0)}isEventsLocked(){return this.lockEvents>0}lock(){return this.lockEvents++,{dispose:()=>this.lockEvents--}}getContentAction(e){if("keydown"===e.name||"keyup"===e.name){const i=e.as(KeyboardEvent);if(i){if((0,n.isDeleteEvent)(i))return t.Removing;if((0,n.isTypingKeyboardEvent)(i)&&!(0,n.isNonTypingKeyboardEvent)(i))return t.Typing}}return t.NonTyping}isUndoCommands(e){var t;if("object"==typeof e){if(!e)return!1;const i=null===(t=e.as(CustomEvent))||void 0===t?void 0:t.detail;e=null==i?void 0:i.data}return-1!==UndoService.undoCommands.indexOf(e)}acceptEvent(e){var t,r;if(e.isDefaultPrevented())return!1;if(e.name===i.EditorEventName.BeforeExecCommand)return this.isUndoCommands(e)||null===(t=this.currentStep)||void 0===t||t.updateSelection(this.editor),this.lockEvents++,!1;if(e.name===i.EditorEventName.ExecCommand)return this.lockEvents--,!this.isUndoCommands(e);if(this.isEventsLocked())return!1;switch(e.name){case"mouseup":return null===(r=this.currentStep)||void 0===r||r.updateSelection(this.editor),!1;case"keyup":case"keydown":case"paste":case"cut":return!0;case"input":{const t=e.as(InputEvent);if(t&&t.inputType)return(0,n.isInsertReplacementText)(t)||(0,n.isInsertTextDataNull)(t)||(0,n.isInsertFromPasteOrDrop)(t)}}return!1}}UndoService.ActionMergeDelay=500,UndoService.UndoSize=0,UndoService.undoCommands=[i.EditorCommandAlias.Undo,i.EditorCommandAlias.Redo],UndoService.SlotKey="UndoService";const o=[{name:i.EditorCommandAlias.Undo,label:"Undo",shortcut:"meta+z",getEnabled:e=>UndoService.getInstance(e).canUndo,execute:(e,t)=>UndoService.getInstance(e).undo()},{name:i.EditorCommandAlias.Redo,label:"Redo",shortcut:"shift+meta+z, meta+y",getEnabled:e=>UndoService.getInstance(e).canRedo,execute:(e,t)=>UndoService.getInstance(e).redo()}];return{name:e,commands:o,actions:[(0,i.createButtonGroup)("undo-group","menu",o)],dispatch:e=>UndoService.getInstance(e.source).dispatch(e)}}))}.apply(t,n),void 0===r||(e.exports=r)},9203:(e,t,i)=>{var n,r;n=[i,t,i(1015)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function configure(e){e.globalResources(["./editor/modes","./editor/undo","./editor/format","./editor/toolbar","./editor/anchor","./qp-rich-text-editor","./au/component-id-custom-attribute","./control-bar/qp-control-bar","./control-bar/qp-control-bar-item","./control-bar/qp-control-bar-button","./control-bar/qp-control-bar-button-group","./control-bar/qp-control-bar-separator","./control-bar/qp-control-bar-selector","./control-bar/qp-control-bar-color-picker","./plugins/attachments/index"])}}.apply(t,n),void 0===r||(e.exports=r)},3032:(e,t,i)=>{var n,r;n=[i,t,i(630),i(1901),i(1527)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processDocument=t.processImages=t.decomposeAttachmentUrl=t.composeAttachmentUrl=void 0;const addTrailingBackslash=e=>e.endsWith("/")?e:`${e}/`;function composeAttachmentUrl(e){return i.siteRoot&&-1===e.indexOf("://")?`${addTrailingBackslash(i.siteRoot)}Frames/GetFile.ashx?cache=yes&file=${e}`:e}function decomposeAttachmentUrl(e){const t="&file=",i=e.indexOf(t);return-1===i?e:e.substring(i+6)}function processImages(e,t){const i=e.querySelectorAll('img[objtype="attached"]');if(i.length>0){const e="from-editor"===t?decomposeAttachmentUrl:composeAttachmentUrl;return n.Tools.forEach(Array.from(i),(t=>{if(r.NodeType.isImg(t)){const i=t.getAttribute("src");i&&t.setAttribute("src",e(i))}})),!0}return!1}t.composeAttachmentUrl=composeAttachmentUrl,t.decomposeAttachmentUrl=decomposeAttachmentUrl,t.processImages=processImages,t.processDocument=function processDocument(e,t){return[processImages].reduce(((i,n)=>n(e,t)||i),!1)}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/plugins/attachments/index":(e,t,i)=>{var n,r;n=[i,t,i(2276),i(4005),i(7172),i(3032)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.EditorPlugins.register("acumatica:attachments",(e=>({name:e,dispatch(e){e.source;if(e.name===i.EditorEventName.ContentTranslating){const t=e.as(CustomEvent).detail.data,i=r.HTMLUtils.createDocument(r.HTMLUtils.composeHtml(t.value));(0,o.processDocument)(i,"source"===t.targetMode?"from-editor":t.direction)&&(t.value=r.HTMLUtils.getHtmlFromDocument(i),t.handled=!0)}return!0}})))}.apply(t,n),void 0===r||(e.exports=r)},1751:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2956),i(630)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpRichTextEditorStyles=void 0;class QpRichTextEditorStyles{getHttpClient(){return this.client||(this.client=n.Container.instance.get(r.HttpClient),this.client.configure((e=>e.withDefaults({headers:{Accept:"text/css"}})))),this.client}getCssFile(e){return i.__awaiter(this,void 0,void 0,(function*(){if(!(e in QpRichTextEditorStyles.cache)){const i=((t=n.PLATFORM.global.location.origin+o.siteRoot).endsWith("/")?t:`${t}/`)+"App_Themes/"+e;try{const t=this.getHttpClient(),n=yield t.fetch(i,{method:"GET"});n.ok&&(QpRichTextEditorStyles.cache[e]=(yield n.text()).trim())}catch(e){}}var t;return QpRichTextEditorStyles.cache[e]}))}static getDefaultStyle(e){var t,n,r,o;return i.__awaiter(this,void 0,void 0,(function*(){const i=null!==(t=null==e?void 0:e.rootSelector)&&void 0!==t?t:"body.rich",a=(null==e?void 0:e.important)?" !important":"";let l=`\n${i} {\n\tmargin: 0px${a};\n\tpadding: ${null!==(n=null==e?void 0:e.padding)&&void 0!==n?n:0}px${a};\n\tfont-family: ${null!==(r=null==e?void 0:e.fontName)&&void 0!==r?r:"Arial"}${a};\n\tfont-size: ${null!==(o=null==e?void 0:e.fontSize)&&void 0!==o?o:"small"}${a};\n}\n`;return(null==e?void 0:e.scrollbars)&&(l+=`\n${i}::-webkit-scrollbar {\n\tbackground-color: white;\n\twidth: 16px;\n\theight: 16px;\n}\n${i}::-webkit-scrollbar-thumb {\n\tbackground: rgba(0, 0, 0, 0.15);\n\tborder: 4px solid white;\n\tborder-radius: 8px;\n}\n${i}::-webkit-scrollbar-thumb:hover {\n\tbackground-color: rgba(0, 0, 0, 0.40);\n}\n${i}::-webkit-scrollbar-track {\n\tbackground-color: white;\n}\n`),l}))}getValue(e){return i.__awaiter(this,void 0,void 0,(function*(){if("source"===e)return"";let t="";const i=["00_RTEcommon.css","visual"===e?"00_RTEedit.css":"00_RTEview.css"];for(const e of i){const i=yield this.getCssFile(e);i&&(t&&(t+="\n"),t+=i)}return t}))}static getStyles(e){return i.__awaiter(this,void 0,void 0,(function*(){let t=QpRichTextEditorStyles.modes.get(e);if("string"!=typeof t){const i=new QpRichTextEditorStyles;t=yield i.getValue(e),QpRichTextEditorStyles.modes.set(e,t)}return t}))}}t.QpRichTextEditorStyles=QpRichTextEditorStyles,QpRichTextEditorStyles.modes=new Map,QpRichTextEditorStyles.cache={}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/rich-text-editor/qp-rich-text-editor":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(829),i(1901),i(7737),i(2276),i(5679),i(1751),i(7172),i("client-controls/controls/compound/rich-text-editor/au/component-id-custom-attribute")],r=function(e,t,i,n,r,o,a,l,d,c,p,u){"use strict";var h;Object.defineProperty(t,"__esModule",{value:!0}),t.QpRichTextEditorCustomElement=void 0;let g=h=class QpRichTextEditorCustomElement extends r.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,this.config=Object.assign({},h.defaultConfig),this.internalUpdate=!1,this.updateQueued=!1,this.editor=new d.RichTextEditor(this)}get hostElement(){return this.element}get readonly(){return!!this.config.readOnly}set readonly(e){this.config.readOnly=e,this.notifyOptionsChanged()}buildInterface(){o.Tools.defineProperties(this.element,{value:{get:()=>{var e;return null!==(e=this.value)&&void 0!==e?e:""},set:e=>this.value=e},readonly:{get:()=>this.readonly,set:e=>this.readonly=e}}),this.idTranslator=new u.ComponentIdTranslator(this.element).add(l.EditorCommandAlias.FormatBlock,"textType").add(l.EditorCommandAlias.ForeColor,"menucolorText").add(l.EditorCommandAlias.BackColor,"menucolorBackground")}valueChanged(){var e;const t=null!==(e=this.value)&&void 0!==e?e:"";this.internalUpdate||this.editor.setContent(t),this.internalUpdate=!1,this.element.dispatchEvent(new CustomEvent("changed",{bubbles:!0,detail:t}))}stateChanged(e,t){super.stateChanged(e,t),this.notifyOptionsChanged()}configChanged(e,t){this.config||(this.config=Object.assign({},h.defaultConfig)),this.notifyOptionsChanged(),this.updateId()}notifyOptionsChanged(){this.editor.refresh()}updateId(){var e;this.idAttribute=(null===(e=this.config)||void 0===e?void 0:e.id)||this.element.getAttribute("id")||""}attached(){const e=Object.create(null,{attached:{get:()=>super.attached}});var t,n;return i.__awaiter(this,void 0,void 0,(function*(){e.attached.call(this),this.buildInterface(),this.updateId();const i=p.HTMLUtils.uniqueClass("rte"),r=(0,p.getNumberCSSProperty)(this.editorHost,"--content-padding",16),o=yield c.QpRichTextEditorStyles.getDefaultStyle({padding:r,scrollbars:!0,important:!0,rootSelector:`.${i}`}),getRootClass=e=>`rich ${null!=e?e:""} ${i}`;this.editor.init({readonly:this.readonly,spellcheck:null===(t=this.config.spellcheck)||void 0===t||t,toolbar:"format-block | font-name | font-size |bold italic underline strike-through fore-color hilite-color | justify-group insert-ordered-list insert-unordered-list indent outdent> mode-group | undo redo",plugins:["modes","undo","format","toolbar","anchor","acumatica:attachments"],styles:{visual:{rootClass:getRootClass(),contentStyles:[o,yield c.QpRichTextEditorStyles.getStyles("visual")]},preview:{rootClass:getRootClass("preview"),contentStyles:[o,yield c.QpRichTextEditorStyles.getStyles("preview")]},source:{rootClass:getRootClass("source"),contentStyles:[o]},plain:{rootClass:getRootClass("plain"),contentStyles:[o]}}}),this.editor.setContent(null!==(n=this.value)&&void 0!==n?n:"")}))}detached(){this.dispose(),super.detached()}createToolbar(e){const t=new a.AureliaElementFactory;return"main"===e.type?(this.mainToolbar||(this.mainToolbar=t.createControl("qp-control-bar",{parent:this.toolbarHost,model:{config:e},dispose:()=>this.mainToolbar=void 0})),this.mainToolbar):t.createControl("qp-control-bar",{parent:this.toolbarHost,model:{config:e}})}applyUpdate(e){this.value!==e&&(e||this.value)&&(this.internalUpdate=!0,this.value=e)}queueUpdate(){this.updateQueued||(this.updateQueued=!0,Promise.resolve().then((()=>i.__awaiter(this,void 0,void 0,(function*(){var e;this.applyUpdate(this.editor.getContent({allowEmpty:(null===(e=this.config)||void 0===e?void 0:e.required)?"content":"html",style:{rootClass:"rich",contentStyles:[yield c.QpRichTextEditorStyles.getDefaultStyle({padding:0,scrollbars:!1}),yield c.QpRichTextEditorStyles.getStyles("preview")]}}))})))).finally((()=>{this.updateQueued=!1})))}dispatch(e){e.name!==l.EditorEventName.ModeChanged&&e.name!==l.EditorEventName.ContentChanged||this.queueUpdate()}dispose(){this.editor.dispose()}};g.defaultConfig={id:"",required:!1,enabled:!0,readOnly:!1},i.__decorate([n.bindable,i.__metadata("design:type",Object)],g.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],g.prototype,"value",void 0),g=h=i.__decorate([n.autoinject,(0,n.customElement)("qp-rich-text-editor"),i.__metadata("design:paramtypes",[Element,n.Container])],g),t.QpRichTextEditorCustomElement=g}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/screen-title/qp-screen-title":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099),i(2956)],r=function(e,t,i,n,r,o){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.QpScreenTitleCustomElement=void 0;(0,r.getLogger)("screen-title");let l=a=class QpScreenTitleCustomElement{constructor(e,t,i,n){this.element=e,this.http=t,this.taskQueue=i,this.bindingEngine=n,this.originalWidth=0,this.subscription=void 0}configChanged(e,t){this.rowErrorsChanged(e.rowErrors),this.subscription=this.bindingEngine.propertyObserver(this.config,"rowErrors").subscribe(((e,t)=>{this.rowErrorsChanged(e)})),this.config.tooltipAddToFavorites&&this.updateFavoritesTooltip()}toggleFavorites(e,t){this.config.isFavorite=!this.config.isFavorite;const i=`frameset/screen/${this.config.nodeId}/${this.config.isFavorite?"favorite":"unfavorite"}`;this.http.fetch(i,{method:"POST",headers:{"content-type":"application/json"}}).then((e=>{e.ok?n.PLATFORM.global.top.frameHelper&&(n.PLATFORM.global.top.frameHelper.needRefreshFav=!0):alert(`Error occured: ${e.statusText}`)})).catch((e=>alert(`Something went wrong. ${e.message}`))),this.updateFavoritesTooltip()}updateFavoritesTooltip(){n.PLATFORM.global.px&&(this.config.isFavorite?n.PLATFORM.global.px.setTitle(this.starElement,this.config.tooltipRemoveFromFavorites):n.PLATFORM.global.px.setTitle(this.starElement,this.config.tooltipAddToFavorites))}rowErrorsChanged(e){const t=[];e?(e.forEach((e=>{t.push([e[0],a.stylesMap.get(e[1])||"blue"])})),this.messages=t):this.messages=t}detached(){var e;null===(e=this.resizeObserver)||void 0===e||e.dispose()}};l.stylesMap=new Map([["1","blue"],["3","yellow"],["5","red"]]),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",HTMLElement)],l.prototype,"captionElement",void 0),i.__decorate([n.bindable,i.__metadata("design:type",HTMLElement)],l.prototype,"starElement",void 0),l=a=i.__decorate([(0,n.customElement)("qp-screen-title"),n.autoinject,i.__metadata("design:paramtypes",[Element,o.HttpClient,n.TaskQueue,n.BindingEngine])],l),t.QpScreenTitleCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},3691:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(122),i(2172),i(6646)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenTitleDataComponent=void 0;let l=class ScreenTitleDataComponent{constructor(e,t){this.viewModel=e,this.redirectHelper=t.get(o.RedirectHelper),this.container=t}getQueryParams(e){return{}}setComponentData(e){this.applyCaptionResult(e)}applyCaptionResult(e){var t,i,n,r,o;this.caption={title:"<No title>",caption:"",href:"",hidden:!1,id:"screen-title",name:"screenTitle",tabIndex:-1,propsTemplate:"",hasCaption:!1,isFavoritable:!1,isFavorite:!1},e&&(this.caption=Object.assign(Object.assign({},this.caption),e)),(null===(t=this.caption.href)||void 0===t?void 0:t.length)&&(this.caption.href=this.redirectHelper.getAbsoluteUrl(this.caption.href,!1)),null!==(i=(o=this.caption).caption)&&void 0!==i||(o.caption=null===(n=this.viewModel)||void 0===n?void 0:n.getCaptionText()),this.caption.rowErrors=null===(r=this.viewModel)||void 0===r?void 0:r.getRowErrors(),this.caption.caption&&(this.caption.hasCaption=!0),document.title=this.caption.title;const a=this.getClosestIframe(this.container.element.parentElement);a&&a.dispatchEvent(new Event("load"))}getClosestIframe(e){var t,i;const n=e.closest("body"),r=Array.from((null===(t=this.redirectHelper.getTopWin())||void 0===t?void 0:t.document.getElementsByTagName("iframe"))||[]);for(const e of r)try{if((null===(i=e.contentWindow)||void 0===i?void 0:i.document.body)===n)return e}catch(e){}}};i.__decorate([n.bindable,i.__metadata("design:type",HTMLElement)],l.prototype,"captionElem",void 0),l=i.__decorate([(0,n.inlineView)('<template>\n\t\t\t\t<div id="pnlTitle" class="pageTitle" if.bind="!hidden">\n\t\t\t\t\t<qp-screen-title ref="captionElem" config.bind="caption"></qp-screen-title>\n\t\t\t\t</div>\n\t\t\t</template>'),(0,a.selfRegisterWithName)("TitleData"),i.__metadata("design:paramtypes",[r.PXScreen,n.Container])],l),t.ScreenTitleDataComponent=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/screen-toolbar/screen-toolbar-data-component":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1515),i(6646),i("client-controls/controls/compound/tool-bar/qp-tool-bar")],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenToolbarDataComponent=void 0;let l=class ScreenToolbarDataComponent{constructor(e){this.viewModel=e,this.toolBarVM=void 0}attached(){this.element=this.toolBarElem}setComponentData(e){var t,i,n;this.toolbar=e,this.toolbar.id="MainToolbar",null===(t=this.toolBarVM)||void 0===t||t.unbindStates();for(const e of this.viewModel.actions.keys()){const t=this.viewModel.actions.get(e);if(t&&1===t.specialType){null===(i=this.toolBarVM)||void 0===i||i.bindStateWith(t);const e=Object.values((null===(n=this.toolbar)||void 0===n?void 0:n.items)||{}).find((e=>e.config.commandName===t.commandName));(null==e?void 0:e.config)&&(e.config.state=t)}}}getQueryParams(e){return{}}appendComponentData(e){var t;return null===(t=this.toolBarVM)||void 0===t||t.appendConfig(e),"#toolBarSuffix"}};i.__decorate([n.bindable,i.__metadata("design:type",a.QpToolBarCustomElement)],l.prototype,"toolBarVM",void 0),i.__decorate([n.bindable,i.__metadata("design:type",HTMLElement)],l.prototype,"toolBarElem",void 0),l=i.__decorate([(0,n.useView)("./screen-toolbar-data-component.html"),(0,o.selfRegisterWithName)("ScreenToolbar"),i.__metadata("design:paramtypes",[r.PXScreen])],l),t.ScreenToolbarDataComponent=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/side-panel/qp-side-panel":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7699),i(8099),i(7052),i(4834),i(6778),i(7140)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpSidePanelCustomElement=void 0;const p="qp-side-panel",u="640px";(0,o.getLogger)(p);let h=class QpSidePanelCustomElement{constructor(){this.maximized=!1,this.collapsed=!0,this.defaultIconClass="folder_open",this.width=u,this.subscriptions=new Array}bind(){if(!this.config)return;this.activeScreen=this.config.actions.length?this.config.actions[0]:void 0,this.preferencesService.subscribe(this.config.id,this);const e=n.Container.instance.get(d.BindingEngine).expressionObserver(this,"config.actions").subscribe((()=>{var e;this.activeScreen=null===(e=this.config)||void 0===e?void 0:e.actions.find((e=>{var t;return e.screenId===(null===(t=this.activeScreen)||void 0===t?void 0:t.screenId)})),this.activeScreen?this.activeScreenHasUndefinedKeys()&&(this.collapsed=!0):this.collapsed=!0}));this.subscriptions.push(e)}applyPreferences(e){var t,i,n;if(null==e?void 0:e.user){const r=null===(t=e.user.preferences)||void 0===t?void 0:t.width;this.width=null!=r?r:u,void 0!==(null===(i=e.user.preferences)||void 0===i?void 0:i.maximized)&&(this.maximized=null===(n=e.user.preferences)||void 0===n?void 0:n.maximized)}}toggleActiveScreen(e){var t;this.activeScreen=e,(null===(t=this.config)||void 0===t?void 0:t.disabled)||this.activeScreenHasUndefinedKeys()?this.collapsed=!0:this.collapsed=!1}toggleMaximize(){this.maximized=!this.maximized,this.savePreferences()}togglePanel(){var e;(null===(e=this.config)||void 0===e?void 0:e.disabled)||!this.collapsed||this.activeScreenHasUndefinedKeys()?this.collapsed=!0:this.collapsed=!1}collapsePanel(){this.collapsed=!0}afterResize(e){this.savePreferences(e)}savePreferences(e){if(!this.config)return;const t=this.container.get(l.ScreenService),i=(t.siteMapScreenID?t.siteMapScreenID:t.screenID)||(0,c.getScreenID)(),n=new SidePanelPreferences;n.preferences.width=e||this.width,n.preferences.maximized=this.maximized,this.preferencesService.saveUserPreferences(i,this.config.id,n)}activeScreenHasUndefinedKeys(){var e,t;if((null===(e=this.config)||void 0===e?void 0:e.gridMode)||!(null===(t=this.activeScreen)||void 0===t?void 0:t.navigationParameters))return!1;for(const e in this.activeScreen.navigationParameters){const t=this.activeScreen.navigationParameters[e];if(null===t||"string"==typeof t&&"<NEW>"===t.trim())return!0}return!1}detached(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],h.prototype,"config",void 0),i.__decorate([r.autoinject,i.__metadata("design:type",a.PreferencesService)],h.prototype,"preferencesService",void 0),i.__decorate([r.autoinject,i.__metadata("design:type",n.Container)],h.prototype,"container",void 0),h=i.__decorate([(0,n.customElement)(p),r.autoinject],h),t.QpSidePanelCustomElement=h;class SidePanelPreferences extends a.PreferenceBase{constructor(){super(),this.type=p,this.preferences={}}}}.apply(t,n),void 0===r||(e.exports=r)},9118:(e,t,i)=>{var n,r;n=[i,t,i(655),i(6778),i("aurelia-framework"),i("aurelia-event-aggregator"),i(1515),i(2172),i(6646),i("client-controls/controls/compound/side-panel/qp-side-panel")],r=function(e,t,n,r,o,a,l,d,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SidePanelDataComponent=void 0;const u="SidePanelNavigationData";let h=class SidePanelDataComponent{constructor(e,t){this.viewModel=e,this.sidePanelConfig={id:"side_panel",actions:[],hasSidePanelConditions:!1},this.eventSubscriptions=[],this.bindingSubscriptions=[],this.bindingEngine=t.get(r.BindingEngine),this.container=t,this.bindSidePanels()}get maximized(){var e;return null===(e=this.sidePanelVM)||void 0===e?void 0:e.maximized}get collapsed(){var e;return null===(e=this.sidePanelVM)||void 0===e?void 0:e.collapsed}get width(){var e;return null===(e=this.sidePanelVM)||void 0===e?void 0:e.width}setComponentData(e){this.sidePanelConfig.actions=e?e.actions:[],this.sidePanelConfig.hasSidePanelConditions=!!e&&e.hasSidePanelConditions,this.applySidePanelsConfig()}getQueryParams(e){return{}}afterResize(e){this.sidePanelVM.afterResize(e)}applySidePanelsConfig(){var e,t;(null===(t=null===(e=this.sidePanelConfig)||void 0===e?void 0:e.actions)||void 0===t?void 0:t.length)?this.sidePanelConfig.actions.forEach((e=>{var t;if("T"===e.uiType)if(e.navigationUrl.toLowerCase().includes("genericinquiry")){const e="GenericInquiry";new Promise(((t,n)=>{i.e(558).then(function(){var n=[i(5558)(`./${e}`)];t.apply(null,n)}.bind(this)).catch(n.bind(this))})).then(n.__importStar)}else new Promise(((t,n)=>{i.e(63).then(function(){var n=[i(63)(`./${e.screenId.substr(0,2).toUpperCase()}/${e.screenId}/${e.screenId}`)];t.apply(null,n)}.bind(this)).catch(n.bind(this))})).then(n.__importStar);else(null===(t=e.graphInfo)||void 0===t?void 0:t.graphType)||(e.graphInfo=this.viewModel.graphInfo);this.setDuplicateId(e)})):this.sidePanelVM.collapsed=!0}setDuplicateId(e){const t=this.sidePanelConfig.actions.filter((t=>t.screenId===e.screenId));if(t.length>1){const i=t.findIndex((t=>t===e));i&&(e.duplicateId=i+1)}}bindSidePanels(){if(!this.sidePanelConfig.actions)return;const e="GenericInquiry"===(0,l.getScreenID)(),t=e?"Results":this.viewModel.graphInfo.primaryView,i=this.viewModel[t];if(i instanceof d.PXViewCollection||e){this.sidePanelConfig.gridMode=!0;const e=d.ReflectWithMetadata.getOwnMetadata(d.eventTypeMetadataName,Object.getPrototypeOf(d.CustomEventType.RowSelected),"primaryViewGridRowSelected");i.subscribeRowSelected(this.viewModel,{order:0,handler:e=>n.__awaiter(this,void 0,void 0,(function*(){var i;const n=null===(i=null==e?void 0:e.viewModel)||void 0===i?void 0:i.activeRow;if(!n)return;const r=n.fieldNames.reduce(((e,t)=>(n.getField(t).primaryKey&&(e[t]=(0,l.getRawValue)(n.getValue(t))),e)),{}),o={command:"SyncGridPosition",collectionsData:[],controlsParams:{},viewsParams:{Filter:{}}};if(o.controlsParams[t]={dataKey:r,syncPosition:!0,view:t,resultType:"GridData",suppressSelection:!0},o.controlsParams[u]={resultType:u},this.sidePanelVM.collapsed&&!this.sidePanelConfig.hasSidePanelConditions)this.applySidePanelsConfig();else{const e=this.viewModel.getScreenService(),t=yield e.screenApiClient.executeCallback(this.viewModel.screenID,o);t.controlsData&&t.controlsData[u]&&this.setComponentData(t.controlsData[u])}})),handlerName:"primaryViewGridRowSelected",props:e,eventType:d.CustomEventType.RowSelected})}else{const e=this.container.get(a.EventAggregator);this.eventSubscriptions.push(e.subscribe("screen-updated",(e=>{var t;(null===(t=this.viewModel)||void 0===t?void 0:t.screenID)===(null==e?void 0:e.screenID)&&(this.viewModel.isNewEntry()?this.sidePanelConfig&&(this.sidePanelConfig.disabled=!0):this.sidePanelConfig&&(this.sidePanelConfig.disabled=!1))})))}}sidePanelVMChanged(){if(!this.sidePanelConfig.actions||!this.sidePanelVM||this.sidePanelConfig.hasSidePanelConditions)return;const e=this.viewModel.graphInfo.primaryView,t=this.viewModel[e],i=this.bindingEngine.propertyObserver(this.sidePanelVM,"collapsed").subscribe((e=>{e||t.publishRowSelectedEvent()}));this.bindingSubscriptions.push(i)}detached(){this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],this.bindingSubscriptions.forEach((e=>e.dispose())),this.bindingSubscriptions=[]}};n.__decorate([r.observable,n.__metadata("design:type",p.QpSidePanelCustomElement)],h.prototype,"sidePanelVM",void 0),n.__decorate([(0,r.computedFrom)("sidePanelVM.maximized"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],h.prototype,"maximized",null),n.__decorate([(0,r.computedFrom)("sidePanelVM.collapsed"),n.__metadata("design:type",Boolean),n.__metadata("design:paramtypes",[])],h.prototype,"collapsed",null),n.__decorate([(0,r.computedFrom)("sidePanelVM.width"),n.__metadata("design:type",String),n.__metadata("design:paramtypes",[])],h.prototype,"width",null),h=n.__decorate([(0,o.inlineView)('<template>\n\t\t\t\t<qp-side-panel config.bind="sidePanelConfig" if.bind="sidePanelConfig && sidePanelConfig.actions.length"\n\t\t\t\t\tview-model.ref="sidePanelVM"></qp-side-panel>\n\t\t\t</template>'),(0,c.selfRegisterWithName)("SidePanelNavigationData"),n.__metadata("design:paramtypes",[Object,o.Container])],h),t.SidePanelDataComponent=h}.apply(t,n),void 0===r||(e.exports=r)},7678:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("aurelia-event-aggregator"),i(2172),i(4248),i(1255),i(4609),i(6595),i(9428),i(1901)],r=function(e,t,i,n,r,o,a,l,d,c,p,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinAcceptList=t.createAcceptList=t.acceptFile=t.PXScreenFileUploadEventName=t.fileListView_clear=t.FilesDialogApiClient=void 0;const h="ui/file";let g=class FilesDialogApiClient{constructor(e,t,i,n){this.client=e,this.redirector=t,this.eventAggregator=i,this.gridApiClient=n,this.requestId=0}upload(e,t,n,r,o,a){var l;return i.__awaiter(this,void 0,void 0,(function*(){e.append("graph",t),e.append("view",n),a=a||(0,d.getScreenID)(),e.append("screenId",a),o&&e.append("action",o),r&&e.append("recordId",r);const i={requestId:++this.requestId,graph:t,viewName:n,screenId:a,action:o,recordId:r,files:e.getAll("upload"),abortController:new AbortController},publish=e=>this.publishUploadEvent(Object.assign({type:e},i));let c=!0;publish(m.Uploading);try{return yield this.client.fetch("old/file/upload",e,null===(l=i.abortController)||void 0===l?void 0:l.signal)}catch(e){c=!1}finally{publish(c?m.Uploaded:m.Failed)}}))}saveFileInMemory(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){if(!e)return!1;const i=new FormData,r=Object.assign(Object.assign({key:e},t),null!=n?n:{}),o="file"===t.type?"uploadInMemory":"saveInMemory";u.Tools.forEach(r,((e,t)=>{void 0!==e&&i.append(t,e)}));try{const e=yield this.client.fetchExt(`ui/file/${o}`,i);return void 0!==e&&e}catch(e){return!1}}))}attachFromMobile(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${h}/${e}/attachFromMobile`,{recordId:t,fileId:n})}))}removeLink(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${h}/${e}/removeLink`,{recordId:t,fileId:n,viewName:r})}))}addLink(e){return i.__awaiter(this,void 0,void 0,(function*(){return this.redirector.doRedirects({isDirty:!1,redirects:[{url:`/pages/sm/SM202520.aspx?note=${e}`,isUrlExternal:!1,message:"",targetFrame:"",settings:{reload:!1,type:o.RedirectType.GoTo,mode:o.WindowMode.NewWindow}}]})}))}resetCache(e,t){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${h}/${e}/resetCache`,{viewName:t})}))}getAttachedImages(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){return(yield this.getAttachedFiles(e,t,n)).map((e=>({id:e.FileID,fullName:e.Name,imageUrl:e.ViewUrl,editUrl:e.EditUrl})))}))}getAttachedFiles(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){const i=yield(0,p.getCollectionData)(this.gridApiClient,e,fileListView_clear,{parameters:{guid:t},gridDataUrl:`ui/file/${e}/view`}),r=createAcceptList(n);return 0===r.length?i:i.filter((e=>!!e.Name&&acceptFile(e.Name,r)))}))}publishUploadEvent(e){this.eventAggregator.publish(e.type,e)}};g=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[l.BaseApiClient,a.RedirectHelper,r.EventAggregator,c.GridApiClient])],g),t.FilesDialogApiClient=g;class fileListView_clear extends o.PXView{}var m;function acceptFile(e,t){var i;const n=createAcceptList(t);if(0===n.length)return!0;const r=("string"==typeof e?e:null!==(i=e.name)&&void 0!==i?i:"").toLowerCase();return n.some((e=>r.endsWith(e.toLowerCase())))}function createAcceptList(e){return("string"==typeof e?e.split(","):null!=e?e:[]).map((e=>e.trim())).filter((e=>!!e))}t.fileListView_clear=fileListView_clear,function(e){e.Uploaded="file-uploading",e.Uploading="file-uploaded",e.Failed="file-uploading-failed"}(m=t.PXScreenFileUploadEventName||(t.PXScreenFileUploadEventName={})),t.acceptFile=acceptFile,t.createAcceptList=createAcceptList,t.joinAcceptList=function joinAcceptList(e){return("string"==typeof e?[e]:null!=e?e:[]).join(",")}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/system-menu/qp-business-events":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("client-controls/controls/compound/system-menu/qp-sys-menu"),i(3116),i(2172),i("client-controls/controls/abstract/screen-base-view-model/screen-base-view-model"),i(1690),i(7699)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SM402051=void 0;let p=class SM402051 extends l.PXScreen{constructor(){super(...arguments),this.Filter=(0,a.createCollection)(r.Filter),this.Msg=o.Messages}ensureInitialized(){return i.__awaiter(this,void 0,void 0,(function*(){this.initialized||(yield this.initialize(!1))}))}showDialog(e){this.businessGridConfig={screenId:this.screenService.screenID,view:"Events",topBarItems:{createBusiness:{config:{id:"businessEvent",text:this.Msg.CreateBusinessEvent,showInToolbar:!0,commandName:"businessEvent"}}},syncPosition:!0,generateColumns:0,autoAdjustColumns:!0,columns:[{field:"Name",allowFocus:!1,allowUpdate:!1,linkCommand:"ViewBusinessEvent"},{field:"Description",allowFocus:!1,allowUpdate:!1}],showFilterBar:a.GridFilterBarVisibility.False,allowUpdate:!1,allowDelete:!1,allowInsert:!1,adjustPageSize:!0,id:"Events_grid"},this.screenId=e,this.ensureInitialized().then((()=>{var t,i;const n={collectionsData:[],controlsParams:{},data:[{viewName:"Filter",fieldName:"CurrentScreenID",value:e}],viewsParams:{}};null===(i=null===(t=this.screenService.screenApiClient)||void 0===t?void 0:t.executeCallback(this.screenService.screenID,n))||void 0===i||i.then((()=>{this.dialogHelper.openDialog({templateId:"businessEventsDlg",context:this}).then((()=>{this.update()}))}))}))}openNewBusinessEvent(){this.sysMenuApiClient.createBusinessEvent(this.screenId,this.businessEventName).then((e=>{var t,i,n;(null===(t=null==e?void 0:e.redirectResults)||void 0===t?void 0:t.length)&&(null===(i=e.redirectResults[0])||void 0===i?void 0:i.close$)&&e.redirectResults[0].close$.then((()=>this.update())),null===(n=this.newEventDialog)||void 0===n||n.ok(),this.businessEventName=""}))}attached(){return i.__awaiter(this,void 0,void 0,(function*(){this.screenEventManager.subscribe("ExecuteCommand",(e=>{if(e.stop(),"businessEvent"===e.Command)this.dialogHelper.openDialog({templateId:"businessEvent",context:this},{},(e=>{this.newEventDialog=e.controller}))}))}))}closeCurrentDialog(){var e;this.businessEventName="",null===(e=this.newEventDialog)||void 0===e||e.ok()}};i.__decorate([c.autoinject,i.__metadata("design:type",d.SysMenuApiClient)],p.prototype,"sysMenuApiClient",void 0),p=i.__decorate([(0,a.graphInfo)({graphType:"PX.BusinessProcess.UI.BusinessProcessEventInqNewUI",primaryView:"Filter"}),c.autoinject,(0,n.customElement)("qp-business-events")],p),t.SM402051=p}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/system-menu/qp-customization-menu/customization-menu-data-component":(e,t,i)=>{var n,r;n=[i,t,i(655),i(6778),i("aurelia-framework"),i(1515),i(2172),i(6646),i(1690)],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomizationMenuDataComponent=void 0;let c=class CustomizationMenuDataComponent{constructor(e){this.screenViewModel=e,this.capturings=[],this.Msg=o.Messages,this.captureMode=!1}activate(e){var t;const i=e.container;this.sysMenuApiClient=i.get(d.SysMenuApiClient),this.redirector=i.get(a.RedirectHelper),this.eventManager=i.get(n.EventManager),this.screenEventManager=i.get(a.QpEventManager),this.element=null===(t=i.get(Element))||void 0===t?void 0:t.parentElement,this.screenEventManager.subscribe(a.OpenPopupEvent.EventName,(e=>{e.stop(),this.handleOpenPopup(e)}))}handleMenuSelected(e){return i.__awaiter(this,void 0,void 0,(function*(){if("inspectElement"===e.detail.id){if(this.captureMode)return;this.captureMode=!0;const e=r.PLATFORM.global.document;return e.activeElement.blur(),e.body.className="designMode",this.cleanupHandlers(),this.capturings.push(this.eventManager.addEventListener(e.documentElement,"blur",(e=>this.endCapture(e)),n.delegationStrategy.capturing,!0)),this.capturings.push(this.eventManager.addEventListener(e.documentElement,"mousedown",(e=>this.endCapture(e)),n.delegationStrategy.capturing,!0)),this.capturings.push(this.eventManager.addEventListener(e.documentElement,"keydown",(e=>this.endCapture(e)),n.delegationStrategy.capturing,!0)),this.capturings.push(this.eventManager.addEventListener(e.documentElement,"keyup",(e=>this.endCapture(e)),n.delegationStrategy.capturing,!0)),void this.capturings.push(this.eventManager.addEventListener(e.documentElement,"contextmenu",(e=>this.endCapture(e)),n.delegationStrategy.capturing,!0))}if("manageUDF"!==e.detail.id)"screenConfiguration"!==e.detail.id?this.customizationVM.execCommand(new a.ExecuteCommandEvent(e.detail.commandName)):document.body.dispatchEvent(new CustomEvent("startScreenConfiguration"));else{const e=yield this.sysMenuApiClient.manageAttributes(this.screenViewModel.screenID,this.screenViewModel.graphInfo.graphType,this.screenViewModel.graphInfo.primaryView);e&&this.redirector.doRedirects(e)}}))}getQueryParams(e){return{}}setComponentData(e){var t;this.menuControlConfig=e;const i=null===(t=this.menuControlConfig)||void 0===t?void 0:t.options;if(i&&!i.find((e=>"inspectElement"===e.id))){const e={type:"MenuButton",id:"inspectElement",text:o.Messages.InspectElement},t=i.findIndex((e=>"editProject"===e.id));t>=0&&i.splice(t,0,e)}}checkCtrlAlt(e){const t=e,i=r.PLATFORM.global.document;"keydown"===t.type&&t.altKey&&t.ctrlKey?(this.cleanupHandlers(),this.captureMode=!0,i.body.className="designMode",this.capturings.push(this.eventManager.addEventListener(i.documentElement,"keyup",(e=>this.checkCtrlAlt(e)),n.delegationStrategy.capturing,!0)),this.capturings.push(this.eventManager.addEventListener(i.documentElement,"mousedown",(e=>this.endCapture(e)),n.delegationStrategy.capturing,!0))):(this.captureMode=!1,i.body.className="",this.monitorKeyboard())}endCapture(e){const t=r.PLATFORM.global.document;if(this.captureMode=!1,t.body.className="",this.cleanupHandlers(),"mousedown"===e.type)try{this.handleClick(e)}catch(t){console.warn(e)}e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0,this.monitorKeyboard()}handleClick(e){var t,i,n,r,o,a,l,d,c;let p;const u={screenID:this.screenViewModel.siteMapScreenID};let h="",g="";const m=this.screenViewModel.graphInfo;for(let f=e.target;null!=f;f=f.parentNode){const e=f;if("TH"===e.nodeName&&(h=e.getAttribute("key")),"LI"===e.nodeName&&e.getAttribute("id")&&(g=e.getAttribute("id")),!((null===(i=null===(t=e.au)||void 0===t?void 0:t.controller)||void 0===i?void 0:i.viewModel)||(null===(r=null===(n=e.aurelia)||void 0===n?void 0:n.root)||void 0===r?void 0:r.viewModel)||h))continue;let v=findCurrentVM(e);if(p=null===(o=v.currentViewModel)||void 0===o?void 0:o.state,!p&&"QpFieldCustomElement"===v.constructor.name&&v.controlState&&(p=v.controlState,v=findCurrentVM(e.querySelector("enhanced-compose"))),p){u.name=p.name,u.type=`${v.viewModel||""} (${v.currentViewModel.constructor.name})`,u.graph=p.graph,u.dac=p.fieldDacName;const t=findFieldsetVM(e);t&&(u.viewName=t.viewName,u.graph||(u.graph=m.graphType)),v.currentViewModel.config.options&&(u.options=v.currentViewModel.config.options.map((e=>Object.assign({},e))));break}if(p=v.state,p)break;if("QpToolBarCustomElement"===v.constructor.name&&g){let e=v.config.items[g];!e&&(null===(a=v.itemElements)||void 0===a?void 0:a.length)&&(null===(l=v.items)||void 0===l?void 0:l.length)&&(e=v.items[v.itemElements.findIndex((e=>(null==e?void 0:e.id)===g))]||v.items.find((e=>(null==e?void 0:e.id)===g))),u.commandName=(null===(d=null==e?void 0:e.config)||void 0===d?void 0:d.commandName)||(null===(c=null==e?void 0:e.config)||void 0===c?void 0:c.action)||(null==e?void 0:e.commandName)||(null==e?void 0:e.action),u.type=`qp-tool-bar (${v.constructor.name})`,u.graph=m.graphType}if(h&&v.columns){const e=v.columns.find((e=>e.field===h));if(u.viewName=v.viewName,u.graph=m.graphType,u.type="qp-grid Column",u.dac=e.fieldDacName,e){u.name=e.field;break}}if("QpGridCustomElement"===v.constructor.name){u.type=`qp-grid (${v.constructor.name})`,u.graph=m.graphType,u.viewName=v.viewName;break}if("CustomizableCustomElement"===v.constructor.name){u.type=v.currentViewModel.constructor.name,u.graph=m.graphType,u.viewName=m.primaryView;break}v.viewModel&&!u.type&&(u.type=v.viewModel.constructor.name,u.graph=m.graphType,u.viewName=m.primaryView)}u&&this.customizationVM.openElementDialog(u)}cleanupHandlers(){this.capturings.forEach((e=>e.dispose())),this.capturings=[]}monitorKeyboard(){this.cleanupHandlers();const e=r.PLATFORM.global.document;this.capturings.push(this.eventManager.addEventListener(e.documentElement,"keydown",(e=>this.checkCtrlAlt(e)),n.delegationStrategy.capturing,!0))}handleOpenPopup(e){if("FilterWorkingProject"===e.name)this.customizationVM.openDialogMsg(e)}};function findCurrentVM(e){var t,i,n,r;let o;for(o=e;null!=o;o=o.parentNode){const e=o;if(null===(i=null===(t=null==e?void 0:e.au)||void 0===t?void 0:t.controller)||void 0===i?void 0:i.viewModel)return e.au.controller.viewModel;if(null===(r=null===(n=null==e?void 0:e.aurelia)||void 0===n?void 0:n.root)||void 0===r?void 0:r.viewModel)return e.aurelia.root.viewModel}}function findFieldsetVM(e){var t,i,n,r;let o;for(o=e;null!=o;o=o.parentNode){const e=o;if("QpFieldsetCustomElement"===(null===(r=null===(n=null===(i=null===(t=null==e?void 0:e.au)||void 0===t?void 0:t.controller)||void 0===i?void 0:i.viewModel)||void 0===n?void 0:n.constructor)||void 0===r?void 0:r.name))return e.au.controller.viewModel}}c=i.__decorate([(0,r.useView)("./customization-menu-data-component.html"),(0,l.selfRegisterWithName)("CustomizationMenuData"),i.__metadata("design:paramtypes",[o.PXScreen])],c),t.CustomizationMenuDataComponent=c}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/system-menu/qp-customization-menu/qp-customization-menu":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(3116),i(2172),i(1690),i(1515)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CM000001=void 0;let d=class CM000001 extends l.PXScreen{constructor(e){super(),this.sysMenuApiClient=e,this.FirstSelect=(0,o.createSingle)(FirstSelect),this.FilterWorkingProject=(0,o.createSingle)(FilterWorkingProject),this.ViewElemInfo=(0,o.createSingle)(ViewElemInfo),this.Msg=r.Messages,this.wrapperGetDropdownValues=(e,t)=>i.__awaiter(this,void 0,void 0,(function*(){return this.getDropdownValues(e,t,this.dropDownOptions)})),this.loadOnDemand=!0}afterConstructor(){super.afterConstructor(),this.subscribers.push(this.screenEventManager.subscribe(o.OpenPopupEvent.EventName,(e=>{e.stop(),this.openDialogMsg(e)})))}execCommand(e){return i.__awaiter(this,void 0,void 0,(function*(){yield this.ensureInitialized(),this.screenEventManager.publish(e)}))}openElementDialog(e){return i.__awaiter(this,void 0,void 0,(function*(){yield this.ensureInitialized(),this.ViewElemInfo.AspxControl.value=e.type,this.ViewElemInfo.ViewName.value=e.viewName,this.ViewElemInfo.GraphName.value=e.graph,this.ViewElemInfo.GraphTypeName.value=e.graph,this.ViewElemInfo.FieldName.value=e.name,this.ViewElemInfo.CacheType.value=e.dac,this.ViewElemInfo.DacFullName.value=e.dac,this.ViewElemInfo.ActionName.value=e.commandName,this.customizedScreenID=e.screenID,(null==e?void 0:e.options)&&(this.dropDownOptions=e.options.map((e=>({value:e.value,description:e.text})))),this.tq.flushMicroTaskQueue(),[this.ViewElemInfo.AspxControl,this.ViewElemInfo.ViewName,this.ViewElemInfo.GraphName,this.ViewElemInfo.FieldName,this.ViewElemInfo.CacheType,this.ViewElemInfo.ActionName].forEach((e=>{null==e.value?e.visible=!1:(e.visible=!0,e.enabled=!0)})),this.openDialogMsg(new o.OpenPopupEvent("ViewElemInfo"))}))}getDropdownValues(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){const e={rows:n.map((e=>({id:`Drop.Down.Values.${e.value}`,cells:Object.fromEntries(Object.entries(e).map((([e,t])=>[e,new o.PXFieldState])))}))),columns:[{field:"value",caption:"Value",width:100,visible:!0},{field:"description",caption:"Description",width:200,visible:!0}],filterRows:t.filterRows||[],dataKeyNames:["value"],commitResult:null,filters:[{filterID:t.filterID||""}],filterID:t.filterID||"",hidden:!1,isFirstPage:!0,isLastPage:!0,pageIndex:0,totalRowCount:n.length,clearSearch:!1};return e.rows.forEach(((e,t)=>{e.cells.description.value=n[t].description,e.cells.description.cellText=n[t].description,e.cells.description.enabled=!1,e.cells.value.value=n[t].value,e.cells.value.cellText=n[t].value,e.cells.value.enabled=!1})),Promise.resolve(e)}))}processMenuSelected(e){this.execServerAction(e.detail.commandName)}execServerAction(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=this.ViewElemInfo.GraphName.value,i=this.ViewElemInfo.ViewName.value,n=this.ViewElemInfo.CacheType.value,r=this.ViewElemInfo.FieldName.value;switch(e.toLowerCase()){case InspectPropertiesCommands.Customize:yield this.sysMenuApiClient.callCustomizeAction(this.customizedScreenID,t,i,e,r,n);break;case InspectPropertiesCommands.CustomizeBusinessLogic:yield this.sysMenuApiClient.callCustomizeBusinessLogicAction(this.customizedScreenID,t,i,e,r,n);break;case InspectPropertiesCommands.CustomizeDataFields:yield this.sysMenuApiClient.callCustomizeDataFieldsAction(this.customizedScreenID,t,i,e,r,n);break;case InspectPropertiesCommands.ViewBusinessLogic:yield this.sysMenuApiClient.callViewBusinessLogicAction(this.customizedScreenID,t,i,e,r,n);break;case InspectPropertiesCommands.ViewDataClass:yield this.sysMenuApiClient.callViewDataClassAction(this.customizedScreenID,t,i,e,r,n)}}))}};d=i.__decorate([(0,o.graphInfo)({graphType:"Customization.CustomizationGraph",primaryView:"FirstSelect"}),(0,n.customElement)("qp-customization-menu"),i.__param(0,(0,n.newInstance)(a.SysMenuApiClient)),i.__metadata("design:paramtypes",[a.SysMenuApiClient])],d),t.CM000001=d;class InspectPropertiesCommands{}InspectPropertiesCommands.Customize="MenuLayoutEditor".toLowerCase(),InspectPropertiesCommands.CustomizeBusinessLogic="MenuGraphEditor".toLowerCase(),InspectPropertiesCommands.CustomizeDataFields="MenuDacEditor".toLowerCase(),InspectPropertiesCommands.ViewBusinessLogic="MenuGraphSrc".toLowerCase(),InspectPropertiesCommands.ViewDataClass="MenuDacSrc".toLowerCase();class FirstSelect extends o.PXView{}class FilterWorkingProject extends o.PXView{}i.__decorate([o.commitChanges,i.__metadata("design:type",o.PXFieldState)],FilterWorkingProject.prototype,"Name",void 0);class ViewElemInfo extends o.PXView{}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/system-menu/qp-files-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2172),i(122),i(7699),i(7140),i(7678),i(6778),i("client-controls/controls/compound/tool-bar/qp-tool-bar"),i(3116),i(630)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFilesDialogCustomElement=void 0;let g=class QpFilesDialogCustomElement extends o.PXScreen{constructor(){super(),this.mobileUploadStarted=!1,this.Msg=u.Messages,this.eventSubscriptions=[],this.loadOnDemand=!0}attached(){return i.__awaiter(this,void 0,void 0,(function*(){this.subscribers.push(this.screenEventManager.subscribe(r.OpenPopupEvent.EventName,(e=>{e.stop(),this.open(void 0)})))}))}configChanged(e){e.graph&&(this.filesGridConfig={recordId:e.recordId,parameters:{guid:e.recordId},view:"fileListView_clear",screenId:e.screenId?e.screenId:(0,l.getScreenID)(),showFilterBar:r.GridFilterBarVisibility.False,showTopBar:!0,showRowSelectors:!0,allowDelete:!1,allowInsert:!1,allowUpdate:!0,topBarItems:{refresh:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("refresh")),{hidden:!1})},download:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("download")),{images:{normal:"main@GetFile"},showInToolbar:!0,commandName:"getFile"})},addlink:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("addLink")),{text:u.Messages.FilesAddLink,showInToolbar:!0,commandName:"addLink"})},removelink:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("removeLink")),{text:u.Messages.FilesRemoveLink,showInToolbar:!0,commandName:"removeLink"})},uploadusingmobile:{config:Object.assign(Object.assign({},(0,p.NewMenuButton)("uploadUsingMobile")),{text:u.Messages.CapturingImageButtonTitle,showInToolbar:!0,commandName:"attachFromMobile"})}},adjustPageSize:!0,pageSize:20,gridDataUrl:`ui/file/${e.screenId?e.screenId:(0,l.getScreenID)()}/view`,id:`${this.config.id}_fb_files`},this.uploaderConfig={id:`${this.config.id}_fb_upld2_FileUpldr`,recordId:e.recordId,graph:e.graph,view:e.view,action:e.action,screenId:e.screenId?e.screenId:(0,l.getScreenID)()},this.screenEventManager.subscribe("ExecuteCommand",(e=>{e.stop();const t=this.grid.getActiveRow();switch(e.Command){case"addLink":this.client.addLink(this.config.recordId).then((e=>{var t;e&&e.length&&(null===(t=e[0])||void 0===t?void 0:t.close$)&&e[0].close$.then((()=>{this.client.resetCache((0,l.getScreenID)(),this.config.view).then((()=>{this.refreshGrid()}))}))}));break;case"removeLink":this.client.removeLink((0,l.getScreenID)(),this.config.recordId,null==t?void 0:t.cells.FileID.value,this.config.view).then((e=>{e?alert(e):this.refreshGrid()}));break;case"attachFromMobile":this.mobileUploadStarted=!0,this.client.attachFromMobile((0,l.getScreenID)(),this.config.recordId,null==t?void 0:t.cells.FileID.value).then((e=>{e.Ok?alert(e.Ok):this.refreshGrid()}));break;case"getFile":const e=document.createElement("a");e.setAttribute("download",""),e.href=`${h.siteRoot}Frames/GetFile.ashx?fileID=${null==t?void 0:t.cells.FileID.value}&amp;fdwnld=1`,document.body.appendChild(e),e.click(),e.remove()}})))}initGrid(){this.tq.queueTask((()=>this.grid.refresh().then((()=>{this.grid.refresh()}))))}refreshGrid(){this.grid.refresh().then((()=>{this.afterChange&&this.afterChange(this.grid.hasRows)}))}open(e){return e&&(this.afterChange=e),this.dialogHelper.openDialog({templateId:"pnlFilesDialog",context:this,deactivateValidator:e=>this.fileCloseValidator(e)}).then((()=>{this.addFileLoadedListener((e=>{this.refreshGrid()})),this.initGrid()}))}addFileLoadedListener(e){this.eventSubscriptions.push(this.eventManager.addEventListener(this.uploader,"fileloaded",e,c.delegationStrategy.bubbling,!0))}fileCloseValidator(e){var t;return this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],!!(null===(t=e.output)||void 0===t?void 0:t.force)||!e.wasCancelled}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],g.prototype,"config",void 0),i.__decorate([a.autoinject,i.__metadata("design:type",d.FilesDialogApiClient)],g.prototype,"client",void 0),i.__decorate([a.autoinject,i.__metadata("design:type",n.TaskQueue)],g.prototype,"tq",void 0),g=i.__decorate([(0,n.customElement)("qp-files-dialog"),i.__metadata("design:paramtypes",[])],g),t.QpFilesDialogCustomElement=g}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/system-menu/qp-note-dialog/note-menu-data-component":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1515),i(2172),i(1690),i(6778),i(6646)],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoteMenuDataComponent=void 0;let c=class NoteMenuDataComponent{constructor(e){this.screenViewModel=e,this.activities=[],this.activitiesToolbarConfig={id:"activitiesToolbar",categories:[{id:"boo",name:"plain",text:"plain",actions:["refresh","NewTask","NewEvent","NewMailActivity"]},{id:"NewActivity",name:"NewActivity",text:"NewActivity",actions:["chat","escalation","message","note","phonecall","workItem"]}],items:{refresh:{config:{id:"refresh",showInToolbar:!0,commandName:"Refresh",blockPage:!0,imageKey:"Refresh",imageSet:"main",isSystem:!0,repaintControls:"all"}},NewTask:{config:{id:"NewTask",text:"Add Task",showInToolbar:!0,commandName:"NewTask"}},NewEvent:{config:{id:"NewEvent",text:"Add Event",showInToolbar:!0,commandName:"NewEvent"}},NewMailActivity:{config:{id:"NewMailActivity",text:"Add Email",showInToolbar:!0,commandName:"NewMailActivity"}},NewActivity:{type:"menu-options",config:{id:"NewActivity",text:"Add Activity",showInToolbar:!0,commandName:"NewActivity"}},chat:{config:{id:"chat",text:"Chat",commandName:"addChat"}},escalation:{config:{id:"escalation",text:"Escalation",commandName:"addEscalation"}},message:{config:{id:"message",text:"Message",commandName:"addMessage"}},note:{config:{id:"note",text:"Note",commandName:"addNote"}},phonecall:{config:{id:"phonecall",text:"Phone Call",commandName:"addPhoneCall"}},workItem:{config:{id:"workItem",text:"Work Item",commandName:"addWorkItem"}}},styleChanged:!1,changed:!1},this.Msg=r.Messages,this.setCurrentDialog=e=>{this.currentDialogController=e.controller}}activate(e){var t;const i=e.container;this.screenEventManager=i.get(o.QpEventManager),this.sysMenuApiClient=i.get(a.SysMenuApiClient),this.dialogHelper=i.get(r.DialogHelper),this.element=null===(t=i.get(Element))||void 0===t?void 0:t.parentElement}get activitiesButtonText(){var e,t;return`${r.Messages.Activities}${(null===(t=null===(e=this.notes)||void 0===e?void 0:e.activities)||void 0===t?void 0:t.count)?` (${this.notes.activities.count})`:""}`}get filesButtonText(){var e,t;return`${r.Messages.Files}${(null===(t=null===(e=this.notes)||void 0===e?void 0:e.note)||void 0===t?void 0:t.filesCount)?` (${this.notes.note.filesCount})`:""}`}getQueryParams(e){return{}}setComponentData(e){var t,i;const n=null===(i=null===(t=this.notes)||void 0===t?void 0:t.note)||void 0===i?void 0:i.activitiesDisabled;this.notes=e,n&&(this.notes.note.activitiesDisabled=!0),this.noteDialogConfig={recordId:this.screenViewModel.getScreenService().id,screenId:this.screenViewModel.screenID},this.filesDialogConfig={id:"pnlFilesDialog",recordId:this.screenViewModel.getScreenService().id,graph:this.screenViewModel.graphInfo.graphType,view:this.screenViewModel.graphInfo.primaryView}}noteShow(){var e;return i.__awaiter(this,void 0,void 0,(function*(){null===(e=this.noteVM.open())||void 0===e||e.whenClosed((e=>{e.wasCancelled||this.screenViewModel.setDirty(!0)}))}))}filesShow(){this.filesVM.open((()=>{this.screenEventManager.publish(new o.RefreshScreenEvent)}))}activitiesShow(){this.dialogHelper.openDialog({templateId:"pnlActivitiesShow",context:this},{},this.setCurrentDialog),this.refreshActivities()}openActivity(e){this.sysMenuApiClient.activityRedirect("openItem",e).then((e=>{var t,i;(null===(t=null==e?void 0:e.redirectResults)||void 0===t?void 0:t.length)&&(null===(i=e.redirectResults[0])||void 0===i?void 0:i.close$)&&e.redirectResults[0].close$.then((()=>this.refreshActivities()))}))}refreshActivities(){var e;const t=this;return null===(e=this.sysMenuApiClient.getActivities(this.screenViewModel.getScreenService().id))||void 0===e?void 0:e.then((e=>{var i,n;const r=(null===(i=this.activities)||void 0===i?void 0:i.length)||0;this.activities=e.map((e=>Object.assign(Object.assign({},e),{open:function(e){t.openActivity(e)}})))||[],(null===(n=this.activities)||void 0===n?void 0:n.length)!==r&&this.screenEventManager.publish(new o.RefreshScreenEvent)}))}attached(){return i.__awaiter(this,void 0,void 0,(function*(){this.screenEventManager.subscribe("ExecuteCommand",(e=>{switch(e.stop(),e.Command){case"Refresh":this.refreshActivities();break;case"businessEvent":this.dialogHelper.openDialog({templateId:"businessEvent",context:this},{},this.setCurrentDialog);break;default:e.Command&&this.sysMenuApiClient.activityRedirect(e.Command,this.screenViewModel.getScreenService().id).then((e=>{var t,i;(null===(t=null==e?void 0:e.redirectResults)||void 0===t?void 0:t.length)&&(null===(i=e.redirectResults[0])||void 0===i?void 0:i.close$)&&e.redirectResults[0].close$.then((()=>this.refreshActivities()))}))}}))}))}};i.__decorate([(0,l.computedFrom)("notes.activities.count"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],c.prototype,"activitiesButtonText",null),i.__decorate([(0,l.computedFrom)("notes.note.filesCount"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],c.prototype,"filesButtonText",null),c=i.__decorate([(0,n.useView)("./note-menu-data-component.html"),(0,d.selfRegisterWithName)("NotesMenuData"),i.__metadata("design:paramtypes",[r.PXScreen])],c),t.NoteMenuDataComponent=c}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/system-menu/qp-note-dialog/qp-note-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(3147),i(3116),i(1690),i(6158)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpNoteDialogCustomElement=void 0;let d=class QpNoteDialogCustomElement{constructor(e,t,i){this.element=e,this.sysMenuApiClient=t,this.dialogHelper=i,this.hasPopupText=!1,this.Msg=o.Messages,this.chkAddPopupNoteConfig={id:"pnlNoteShow_ib_chkPopup",class:"checkBox",label:o.Messages.AddPopupNotesTitle}}updateNote(){this.sysMenuApiClient.updateNote(this.config.recordId,this.config.view,this.model.noteText,this.model.popupNoteText,this.config.screenId).then((()=>{Object.assign(this.view,this.model)})).finally((()=>{var e;null===(e=this.dialogController)||void 0===e||e.ok()}))}open(){if(this.view){this.model=Object.assign({},this.view),this.hasPopupText=!1;const dv=e=>this.noteCloseValidator(e);return this.dialogHelper.openDialog({templateId:"pnlNoteShow_ib",context:this,deactivateValidator:dv},{},(e=>{this.dialogController=e.controller}))}}noteCloseValidator(e){var t;return this.dialogController=void 0,!!(null===(t=e.output)||void 0===t?void 0:t.force)||(!e.wasCancelled||this.model.noteText===this.view.noteText)}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],d.prototype,"view",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],d.prototype,"config",void 0),d=i.__decorate([(0,n.customElement)("qp-note-dialog"),(0,l.autoinject)(),i.__param(2,(0,l.newInstance)()),i.__metadata("design:paramtypes",[Element,a.SysMenuApiClient,r.DialogHelper])],d),t.QpNoteDialogCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/system-menu/qp-notifications":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("client-controls/controls/compound/system-menu/qp-sys-menu"),i(3116),i(2172),i("client-controls/controls/abstract/screen-base-view-model/screen-base-view-model"),i(7699)],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SM402061=void 0;let c=class SM402061 extends l.PXScreen{constructor(e){super(),this.redirector=e,this.Filter=(0,a.createCollection)(r.Filter),this.Msg=o.Messages,this.loadOnDemand=!0}showDialog(e){this.notificationsGridConfig={screenId:this.screenService.screenID,view:"Notifications",topBarItems:{addEmailTemplate:{config:{id:"emailTemplate",text:this.Msg.NotificationsAddEmailTemplate,showInToolbar:!0,commandName:"addEmailTemplate"}},addMobileTemplate:{config:{id:"mobileTemplate",text:this.Msg.NotificationsAddMobileTemplate,showInToolbar:!0,commandName:"addMobileTemplate"}}},syncPosition:!0,generateColumns:0,autoAdjustColumns:!0,columns:[{field:"Type",allowFocus:!1,allowUpdate:!1},{field:"Name",allowFocus:!1,allowUpdate:!1,linkCommand:"ViewNotification"}],showFilterBar:a.GridFilterBarVisibility.False,allowUpdate:!1,allowDelete:!1,allowInsert:!1,adjustPageSize:!0,id:"Notifications_grid"},this.screenId=e,this.ensureInitialized().then((()=>{var t,i;const n={collectionsData:[],controlsParams:{},clearSession:!0,data:[{viewName:"Filter",fieldName:"CurrentScreenID",value:e}],viewsParams:{}};null===(i=null===(t=this.screenService.screenApiClient)||void 0===t?void 0:t.executeCallback(this.screenService.screenID,n))||void 0===i||i.then((()=>{this.dialogHelper.openDialog({templateId:"notificationsDlg",context:this}).then((()=>{this.update()}))}))}))}};c=i.__decorate([(0,a.graphInfo)({graphType:"PX.BusinessProcess.UI.NotificationInquiryNewUI",primaryView:"Notifications"}),d.autoinject,(0,n.customElement)("qp-notifications"),i.__metadata("design:paramtypes",[a.RedirectHelper])],c),t.SM402061=c}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/system-menu/qp-sys-menu":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1255),i(2172),i(3147),i(1690),i(7699),i(5592)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Filter=t.ProfilerInfo=t.AuditInfo=t.QpSysMenuCustomElement=void 0;let p=class QpSysMenuCustomElement{};i.__decorate([n.bindable,i.__metadata("design:type",Object)],p.prototype,"config",void 0),i.__decorate([(0,d.newInstance)(o.QpEventManager),i.__metadata("design:type",o.QpEventManager)],p.prototype,"screenEventManager",void 0),i.__decorate([(0,d.newInstance)(o.RedirectHelper),i.__metadata("design:type",o.RedirectHelper)],p.prototype,"redirector",void 0),i.__decorate([(0,d.newInstance)(r.BaseApiClient),i.__metadata("design:type",r.BaseApiClient)],p.prototype,"baseApiClient",void 0),i.__decorate([d.autoinject,i.__metadata("design:type",n.EventManager)],p.prototype,"eventManager",void 0),i.__decorate([d.autoinject,i.__metadata("design:type",Element)],p.prototype,"element",void 0),i.__decorate([(0,d.newInstance)(l.SysMenuApiClient),i.__metadata("design:type",l.SysMenuApiClient)],p.prototype,"sysMenuApiClient",void 0),i.__decorate([(0,d.newInstance)(a.DialogHelper),i.__metadata("design:type",a.DialogHelper)],p.prototype,"dialogHelper",void 0),i.__decorate([(0,d.inject)(c.SessionUrlSerializer),i.__metadata("design:type",Object)],p.prototype,"urlSerializer",void 0),p=i.__decorate([(0,n.customElement)("qp-sys-menu")],p),t.QpSysMenuCustomElement=p;t.AuditInfo=class AuditInfo{};t.ProfilerInfo=class ProfilerInfo{};class Filter extends o.PXView{}t.Filter=Filter}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/system-menu/qp-tools-menu/qp-tools-menu":(e,t,i)=>{var n,r;n=[i,t,i(655),i("client-controls/controls/compound/system-menu/qp-tools-menu/tools-menu-data-component"),i("aurelia-framework"),i(3116),i(2172),i(122),i(1690),i(7699)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserList=t.Parameters=t.GridList=t.SC000001=void 0;let p=class SC000001 extends l.PXScreen{constructor(){super(),this.GridList=(0,a.createCollection)(GridList,{adjustPageSize:!0,allowInsert:!1,allowDelete:!1,allowUpdate:!1,initNewRow:!1,showFilterBar:a.GridFilterBarVisibility.False,columnsConfig:[{field:"Selected",allowCheckAll:!0}]}),this.UserList=(0,a.createCollection)(UserList,{adjustPageSize:!0,allowInsert:!1,allowDelete:!1,allowUpdate:!1,initNewRow:!1,columnsConfig:[{field:"Included",allowCheckAll:!0}]}),this.Parameters=(0,a.createSingle)(Parameters),this.Msg=o.Messages,this.loadOnDemand=!0}ensureInitialized(){return i.__awaiter(this,void 0,void 0,(function*(){this.initialized||(yield this.initialize(!1))}))}showShareColumnDialog(e){return i.__awaiter(this,void 0,void 0,(function*(){yield this.ensureInitialized(),this.dialogHelper.openDialog({templateId:e,context:this}).then((e=>{var t;const i=null===(t=null==e?void 0:e.controller)||void 0===t?void 0:t.controller.viewModel;this.update(new a.ScreenUpdateParams(void 0,null==i?void 0:i.element))}))}))}processMenuSelected(e){e.detail.popupPanel?this.screenEventManager.publish(new a.OpenPopupEvent(e.detail.popupPanel)):this.screenEventManager.publish(new a.ExecuteCommandEvent(e.detail.commandName))}openShareColumnsDialog(e){const t=this.parent.getScreenGrids();this.sysMenuApiClient.getShareColumnsCfg(this.parent.screenViewModel.siteMapScreenID,t).then((t=>{this.shareCols=t,this.showShareColumnDialog(e)}))}};i.__decorate([r.bindable,i.__metadata("design:type",n.ToolsMenuDataComponent)],p.prototype,"parent",void 0),i.__decorate([c.autoinject,i.__metadata("design:type",d.SysMenuApiClient)],p.prototype,"sysMenuApiClient",void 0),p=i.__decorate([(0,a.graphInfo)({graphType:"PX.Web.UI.SharedColumnSettings",primaryView:"Parameters"}),(0,r.customElement)("qp-tools-menu"),i.__metadata("design:paramtypes",[])],p),t.SC000001=p;class GridList extends a.PXView{}t.GridList=GridList;class Parameters extends a.PXView{}i.__decorate([a.commitChanges,i.__metadata("design:type",a.PXFieldState)],Parameters.prototype,"IsDefault",void 0),i.__decorate([a.commitChanges,i.__metadata("design:type",a.PXFieldState)],Parameters.prototype,"Override",void 0),i.__decorate([a.commitChanges,i.__metadata("design:type",a.PXFieldState)],Parameters.prototype,"RoleName",void 0),i.__decorate([a.skip,i.__metadata("design:type",a.PXFieldState)],Parameters.prototype,"FakeKey",void 0),t.Parameters=Parameters;class UserList extends a.PXView{}t.UserList=UserList}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/system-menu/qp-tools-menu/tools-menu-data-component":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1515),i(2172),i(6646),i(5592),i(630),i(1690)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolsMenuDataComponent=void 0;let p=class ToolsMenuDataComponent{constructor(e){this.screenViewModel=e,this.profilerStarted=!1,this.Msg=r.Messages,this.setCurrentDialog=e=>{this.currentDialogController=e.controller}}activate(e){var t;const i=e.container;this.sysMenuApiClient=i.get(c.SysMenuApiClient),this.dialogHelper=i.get(r.DialogHelper),this.urlSerializer=i.get(l.SessionUrlSerializer),this.redirector=i.get(o.RedirectHelper),this.element=null===(t=i.get(Element))||void 0===t?void 0:t.parentElement}getQueryParams(e){return{}}setComponentData(e){var t;let i=this.screenViewModel.siteMapScreenID;i=`${i.substring(0,2)}.${i.substring(2,4)}.${i.substring(4,6)}.${i.substring(6,8)}`,(null===(t=this.screenViewModel)||void 0===t?void 0:t.isCustomized())&&(i=`CST.${i}`);const n={type:"",id:"screenID",text:`<div class='qp-menu-label'>${this.Msg.ScreenID}</div><span class='size-sm qp-menu-value'>${i}</span>`};e.options.unshift(n),this.menuControlConfig=e}getScreenGrids(){var e,t,i;const n=[],r=this.screenViewModel;for(const o in r)"PXViewCollection"===(null===(i=null===(t=null===(e=r[o])||void 0===e?void 0:e.__proto__)||void 0===t?void 0:t.constructor)||void 0===i?void 0:i.name)&&n.push(`${o};${o}`);return n}handleMenuSelected(e){e.detail.popupPanel?this.handleOpenPopup(new o.OpenPopupEvent(e.detail.popupPanel)):this.handleExecuteCommand(new o.ExecuteCommandEvent(e.detail.commandName))}showLinkPopup(){this.ensureLinks(),this.dialogHelper.openDialog({templateId:"pnlLinkShow",context:this,hideHeader:!0},{},this.setCurrentDialog)}openSendLinkWindow(){var e;this.ensureLinks(),this.sysMenuApiClient.sendEmail(null===(e=this.links)||void 0===e?void 0:e.external)}startLogging(){this.sysMenuApiClient.startProfiler().then((e=>{this.profilerStarted=!0,this.profiler=e}))}stopLogging(){this.sysMenuApiClient.stopProfiler().then((e=>{this.profilerStarted=!1}))}openRequestProfiler(){this.redirectToRequestProfiler()}enableLevelAudit(){this.redirect(`/pages/sm/SM205510.aspx?ScreenId=${this.screenViewModel.screenID}`)}handleExecuteCommand(e){switch(e.Command){case"businessEvent":this.dialogHelper.openDialog({templateId:"businessEvent",context:this},{},this.setCurrentDialog);break;case"SwitchUIScreenMode":e.stop(),this.sysMenuApiClient.switchUiScreenMode(this.screenViewModel.siteMapScreenID)}}handleOpenPopup(e){var t;switch(e.name){case"pnlAbout":null===(t=this.sysMenuApiClient.getAbout())||void 0===t||t.then((t=>{this.about=t,this.dialogHelper.openDialog({templateId:e.name,context:this,hideMaximizer:!0},{},this.setCurrentDialog)}));break;case"pnlLinkShow":this.showLinkPopup();break;case"auditHistoryDlg":e.stop(),this.sysMenuApiClient.auditLog(this.screenViewModel.siteMapScreenID).then((t=>{this.auditInfo=t,this.dialogHelper.openDialog({templateId:e.name,context:this},{},this.setCurrentDialog)}));break;case"notificationsDlg":e.stop(),this.notificationsVM.showDialog(this.screenViewModel.siteMapScreenID);break;case"businessEventsDlg":e.stop(),this.businessEventsVM.showDialog(this.screenViewModel.siteMapScreenID);break;case"pnlProfiler":this.sysMenuApiClient.isProfilerStarted().then((e=>{this.profilerStarted=!!e.started,this.profiler=e})),this.dialogHelper.openDialog({templateId:"pnlProfiler",context:this},{},this.setCurrentDialog);break;case"shareColumnsDlg":this.sharedColumnsVM.openShareColumnsDialog(e.name)}}closeCurrentDialog(){var e;null===(e=this.currentDialogController)||void 0===e||e.ok(),this.currentDialogController=void 0}redirectToRequestProfiler(){this.redirect("~/pages/sm/SM205070.aspx")}redirect(e,t){this.redirector.doRedirects({isDirty:!1,redirects:[{url:e,isUrlExternal:!1,message:"",targetFrame:t||"",settings:{reload:!1,type:o.RedirectType.GoTo,mode:o.WindowMode.NewWindow}}]})}ensureLinks(){let e=n.PLATFORM.global.location.href,t=d.topWindow.location.href;const i=this.urlSerializer.parseUrl(e);i.queryParams&&(i.queryParams.timeStamp||i.queryParams.HideScript)&&(delete i.queryParams.timeStamp,delete i.queryParams.HideScript,e=this.urlSerializer.serializeUrl(i));const r=function getWFragment(e){const t=/.*(\(W\(\d*\)\)).*/.exec(e);return t?t[1]:void 0}(t);if(r){let i=t.indexOf(r);t=t.substring(0,i)+t.substring(i+r.length+1),i=e.indexOf(r),e=`~${e.substring(i+r.length)}`}this.links={internal:e,external:t}}};p=i.__decorate([(0,n.useView)("./tools-menu-data-component.html"),(0,a.selfRegisterWithName)("ToolMenuData"),i.__metadata("design:paramtypes",[r.PXScreen])],p),t.ToolsMenuDataComponent=p}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/system-menu/settings-menu-data-component":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1515),i(6646)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsMenuDataComponent=void 0;let a=class SettingsMenuDataComponent{constructor(e,t){this.screenViewModel=e,this.container=t,this.children=["ToolMenuData","CustomizationMenuData"],this.screenService=t.get(r.ScreenService)}activate(e){var t;const i=e.container;this.element=null===(t=i.get(Element))||void 0===t?void 0:t.parentElement}registerCompositeDataComponents(e){this.children.forEach((t=>(0,o.registerDataComponentOnScreen)(e,t,this.container)))}attached(){this.screenService.activateDataComponents(this.children)}getQueryParams(e){return{}}setComponentData(e){this.settingsMenu={id:"",text:"",options:[]},this.toolMenuDataComponent&&this.customizationMenuDataComponent&&([this.toolMenuDataComponent.component,this.customizationMenuDataComponent.component].forEach((e=>{if(e&&"menuControlConfig"in e){const t=e,i=this.settingsMenu.options.concat(t.menuControlConfig.options);this.settingsMenu=Object.assign(Object.assign(Object.assign({},this.settingsMenu),t.menuControlConfig),{options:i}),this.settingsMenu.options.push({type:"MenuSeparator",id:"",text:""})}})),this.settingsMenu.options.length&&"MenuSeparator"===this.settingsMenu.options[this.settingsMenu.options.length-1].type&&this.settingsMenu.options.splice(this.settingsMenu.options.length-1,1),this.settingsMenu.images={normal:"svg:main@setting"})}processSettingsMenuSelected(e){return i.__awaiter(this,void 0,void 0,(function*(){[this.toolMenuDataComponent.component,this.customizationMenuDataComponent.component].forEach((t=>{if(t&&"menuControlConfig"in t){t.handleMenuSelected(e)}}))}))}};i.__decorate([n.bindable,i.__metadata("design:type",HTMLElement)],a.prototype,"toolsMenuElem",void 0),a=i.__decorate([n.autoinject,(0,n.useView)("./settings-menu-data-component.html"),(0,o.selfRegisterWithName)("SettingsMenuData",{createImmediately:!0}),i.__metadata("design:paramtypes",[r.PXScreen,n.Container])],a),t.SettingsMenuDataComponent=a}.apply(t,n),void 0===r||(e.exports=r)},1690:(e,t,i)=>{var n,r;n=[i,t,i(655),i(1255),i("aurelia-framework"),i(7140)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SysMenuApiClient=void 0;const a="ui/screen",l="sys-menu",d="ui/activity";let c=class SysMenuApiClient{constructor(e){this.client=e}callCustomizeAction(e,t,n,r,o,a){return i.__awaiter(this,void 0,void 0,(function*(){return this.callCustomizationGraphAction("customize",e,t,n,r,o,a)}))}callCustomizeBusinessLogicAction(e,t,n,r,o,a){return i.__awaiter(this,void 0,void 0,(function*(){return this.callCustomizationGraphAction("customize-business-logic",e,t,n,r,o,a)}))}callCustomizeDataFieldsAction(e,t,n,r,o,a){return i.__awaiter(this,void 0,void 0,(function*(){return yield this.callCustomizationGraphAction("customize-data-fields",e,t,n,r,o,a)}))}callViewBusinessLogicAction(e,t,n,r,o,a){return i.__awaiter(this,void 0,void 0,(function*(){return yield this.callCustomizationGraphAction("view-business-logic",e,t,n,r,o,a)}))}callViewDataClassAction(e,t,n,r,o,a){return i.__awaiter(this,void 0,void 0,(function*(){return yield this.callCustomizationGraphAction("view-data-class",e,t,n,r,o,a)}))}sendEmail(e){return this.client.fetchExt(`${d}/email`,e)}getAbout(){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${a}/about`)}))}getShareColumnsCfg(e,t){const i={grids:t};return this.client.fetchExt(`${a}/${e}/${l}/share-column-cfg`,i)}getActivities(e){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${d}/${e}`)}))}activityRedirect(e,t){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${d}`,{command:e,recordId:t})}))}updateNote(e,t,n,r,d){return i.__awaiter(this,void 0,void 0,(function*(){const i={view:t,recordId:e,noteText:n,popupNoteText:r};return this.client.fetchExt(`${a}/${d||(0,o.getScreenID)()}/${l}/note`,i)}))}auditLog(e){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${a}/${e}/audit-load`,{})}))}isProfilerStarted(){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${a}/is-profiler-started`,{})}))}startProfiler(){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${a}/start-profiler`,{})}))}stopProfiler(){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${a}/stop-profiler`,{})}))}createBusinessEvent(e,t){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${a}/${e}/create-business-event`,t)}))}manageAttributes(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){const i={screenID:e,graph:t,viewName:n};return this.client.fetchExt(`${a}/${e}/manage-attributes`,i)}))}switchUiScreenMode(e){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${a}/${e}/switch-screen-type`,null)}))}callCustomizationGraphAction(e,t,n,r,o,d,c){return i.__awaiter(this,void 0,void 0,(function*(){const i={screenID:t,graph:n,viewName:r,fieldName:d,dacFullName:c,command:o};return this.client.fetchExt(`${a}/${t}/${l}/inspect-properties/${e}`,i)}))}};c=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[n.BaseApiClient])],c),t.SysMenuApiClient=c}.apply(t,n),void 0===r||(e.exports=r)},4337:(e,t,i)=>{var n,r;n=[i,t,i(655),i(2594),i("aurelia-framework"),i(1515),i(6646)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemMenuDataComponent=void 0;let l=class SystemMenuDataComponent{constructor(e,t){this.viewModel=e,this.container=t,this.children=["NotesMenuData","SettingsMenuData"],this.sysMenuConfig={screen:this.viewModel,graph:this.viewModel.graphInfo.graphType},this.screenService=t.get(n.ScreenService)}registerCompositeDataComponents(e){this.children.forEach((t=>(0,a.registerDataComponentOnScreen)(e,t,this.container)))}attached(){this.screenService.activateDataComponents(this.children)}getQueryParams(e){return{}}setComponentData(e){}};i.__decorate([r.bindable,i.__metadata("design:type",HTMLElement)],l.prototype,"toolsMenuElem",void 0),l=i.__decorate([(0,r.inlineView)('<template>\n\t\t\t\t<div id="pnlTools" class="toolsMenu">\n\t\t\t\t\t<qp-sys-menu view-model.ref="systemMenu" ref="toolsMenuElem" config.bind="sysMenuConfig"></qp-sys-menu>\n\t\t\t\t</div>\n\t\t\t</template>'),(0,a.selfRegisterWithName)("SysMenu",{createImmediately:!0}),i.__metadata("design:paramtypes",[o.PXScreen,r.Container])],l),t.SystemMenuDataComponent=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/tool-bar/qp-tool-bar":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("aurelia-event-aggregator"),i(8099),i(2956),i(9652),i(2446),i(2374),i(7140)],r=function(e,t,i,n,r,o,a,l,d,c,p){"use strict";var u;Object.defineProperty(t,"__esModule",{value:!0}),t.NewMenuMenuOptions=t.NewMenuButton=t.MenuOptions=t.MenuButton=t.MenuItem=t.QpToolBarCustomElement=void 0;(0,o.getLogger)("tool-bar");let h=u=class QpToolBarCustomElement{constructor(e,t,i,n,r,o){this.element=e,this.bindingEngine=t,this.eventAggregator=i,this.screenEventManager=n,this.taskQueue=r,this.http=o,this.subscription=void 0,this.styleSubscription=void 0,this.saveObservers=[],this.items=[],this.menu=[],this.itemElements=[],this.showMenuOpener=!0,this.menuExclusions={},this.toolBarMode="toolbar+menu",this.menuOpened=!1,this.menuTopPosition=0,this.highlightedRow=void 0,this.highlightedColumn=void 0,this.highlightedID="",this.toolbarWidth=0,this.availableHeight=0,this.menuColumnsNbr=3}get ID(){var e;return null===(e=null==this?void 0:this.config)||void 0===e?void 0:e.id}appendConfig(e){this.extraConfig=e,this.config||(this.config=e),this.config.items||(this.config.items={}),this.mergeConfigs(),this.config.changed=!0}mergeConfigs(){var e;if(!this.extraConfig)return;const t={id:"_extra_category_",isSystem:!1,name:"Extra",actions:[]};for(const e in this.extraConfig.items){const i=this.extraConfig.items[e];this.config.items[e]=i,t.actions.push(e)}if(null===(e=this.config.categories)||void 0===e?void 0:e.length){const e=this.config.categories.findIndex((e=>"_extra_category_"===e.id));e>=0?this.config.categories[e]=t:this.config.categories.push(t)}}configChanged(e,t){var i,n;this.config&&(this.config.id||console.error("Id is not specified for toolbar ",this),(0,p.applyDefaultValues)(this.config,u.defaultConfig),this.mergeConfigs(),this.config.changed=!1,this.config.styleChanged=!1,null===(i=this.subscription)||void 0===i||i.dispose(),this.subscription=this.bindingEngine.propertyObserver(this.config,"changed").subscribe((e=>{e&&(this.setupViewModel(),this.taskQueue.queueTask((()=>{this.rebuildMenu()})),this.config.changed=!1)})),null===(n=this.styleSubscription)||void 0===n||n.dispose(),this.styleSubscription=this.bindingEngine.propertyObserver(this.config,"styleChanged").subscribe((e=>{e&&(this.synchroniseItems(),this.config.styleChanged=!1)})),this.setupViewModel(),this.setupWidthObserver(),this.taskQueue.queueTask((()=>this.adjustToolbarWidth())))}attached(){this.setupWidthObserver()}setupWidthObserver(){!this.resizeObserver&&n.PLATFORM.global.ResizeObserver&&this.toolbarElement&&this.fullULElement&&(this.resizeObserver=new n.PLATFORM.global.ResizeObserver((e=>{e&&e.length&&this.onWidthChange()})),this.resizeObserver.observe(this.fullULElement),this.resizeObserver.observe(this.toolbarElement))}onWidthChange(){const e=this.toolbarElement.clientWidth;this.menuColumnsNbr=Math.min(3,Math.floor(e/300)),this.rebuildMenu(),this.toolbarWidth=this.toolbarElement.clientWidth}adjustToolbarWidth(){var e;if(!this.menuOpener)return;const t=getComputedStyle(this.menuOpener),i=this.toolbarElement.clientWidth-this.menuOpener.offsetWidth-parseInt(t.marginLeft)-parseInt(t.marginRight);if(null===(e=this.config)||void 0===e?void 0:e.disableMenu)this.toolBarMode="toolbar only";else if("always menu"!==this.toolBarMode){if(this.fullULElement.scrollHeight<45)return this.toolBarMode="toolbar only",void this.hideMenu();this.toolBarMode="toolbar+menu"}let n=0;const r=[];let o=0,a=!0;for(const e of this.itemElements){if(!e)continue;if(this.isNavigation(e.id)){r.push(e),n+=getEleWidth(e);continue}if(!this.isSystem(e.id))continue;o+=getEleWidth(e),o>i&&(a=!1);const t=this.items.find((t=>t.id===e.id));null==t||t.makeVisible(a)}for(const e of this.itemElements){if(!e)continue;if(this.isSystem(e.id)||this.isNavigation(e.id))continue;o+=getEleWidth(e),o>i&&(a=!1);const t=this.items.find((t=>t.id===e.id));null==t||t.makeVisible(a)}if(a&&o+n<=i)for(const e of r){const t=this.items.find((t=>t.id===e.id));null==t||t.makeVisible()}else for(const e of r){const t=this.items.find((t=>t.id===e.id));null==t||t.makeVisible(!1)}}isNavigation(e){var t;if(!e)return!1;const i=null===(t=this.config.items[this.localId(e)])||void 0===t?void 0:t.config;return!!(null==i?void 0:i.isNavigation)}isSystem(e){var t;if(!e)return!1;const i=null===(t=this.config.items[this.localId(e)])||void 0===t?void 0:t.config;return!!(null==i?void 0:i.isSystem)}syncMenuChanges(){var e;for(const t of this.items){if(!t)continue;const i=null===(e=this.config.items[t.id])||void 0===e?void 0:e.config;i&&(t.disabled=void 0!==i.disabled&&i.disabled)}}synchroniseItems(){for(const e in this.config.items){const t=this.config.items[e].config,i=this.items.find((t=>t.id===this.fullId(e)));if(!i)continue;i.disabled=void 0!==t.disabled&&t.disabled;const n=i;n&&(n.images=t.images||n.images,n.toolTip=t.toolTip||n.toolTip)}this.attachToolTips()}unbindStates(){this.saveObservers.forEach((e=>e.dispose()))}bindStateWith(e){e&&this.saveObservers.push(this.bindingEngine.propertyObserver(e,"enabled").subscribe((t=>{const i=Object.values(this.config.items).find((t=>t.config.state===e));i&&(i.config.disabled=!t),this.synchroniseItems()})))}syncState(e,t){let i;if(e)if(e instanceof c.PXActionState)i=e;else if(i=e(),!i)return Object.assign(Object.assign({},t),{hidden:!0});return i?t=Object.assign({text:i.text,commandName:i.commandName,hidden:!i.visible,disabled:!i.enabled,toolTip:i.tooltip,imageSet:i.imageSet,imageKey:i.imageKey,imageUrl:i.imageUrl},t):t}setupViewModel(){var e,t;this.items||(this.items=[]),this.menuExclusions={};this.config.id;const i=this.config.categories,n=Object.entries(this.config.items).sort(((e,t)=>(null!=e[1].index?e[1].index:1e3)-(null!=t[1].index?t[1].index:1e3)));let r=0;for(const t of n){const n=t[0],o=this.config.items[n],a=this.syncState(o.config.state,o.config);let l;switch(o.type){case"menu-options":{const e=null==i?void 0:i.find((e=>e.id===n));if(e){this.menuExclusions[e.name]=!0;const t=new MenuOptions(this.fullId(n),a);for(const i of e.actions){const e=this.config.items[i].config;t.options.push(new MenuButton(this.fullId(i),e))}l=t}else{const e=o.config.options;if(!e)continue;const t=new MenuOptions(this.fullId(n),a);for(const i in e){const n=e[i];t.options.push(new MenuButton(this.fullId(i),n))}l=t}break}case"menu-button":case void 0:l=new MenuButton(this.fullId(n),a);break;default:l=new MenuItem(this.fullId(n))}let d=!1;if(a.hidden)d=!0;else if(i&&!(a.showInToolbar||a.favorite&&!a.disabled&&this.isInCategories(n))){l.showIfEnoughRoom=!0,d=!0;for(const e of i)if(null==(null==e?void 0:e.text)&&(null==e?void 0:e.actions.find((e=>e===n)))){d=!1;break}}d||(l.id!==(null===(e=this.items[r])||void 0===e?void 0:e.id)?this.items.splice(r,1,l):this.items[r].update(l),r++)}this.items.splice(r);const o=i?i.filter((e=>null==this.menuExclusions[e.name])):[];(null===(t=this.config)||void 0===t?void 0:t.disableMenu)?this.toolBarMode="toolbar only":o.find((e=>e.text))?this.toolBarMode="always menu":this.toolBarMode="toolbar+menu",this.rebuildMenu(),this.taskQueue.queueTask((()=>{this.attachToolTips()}))}isInCategories(e){for(const t of this.config.categories||[])if(null==t?void 0:t.actions.find((t=>t===e)))return!0;return!1}static isInMenu(e,t){var i;for(const n of e)if(null===(i=n.items)||void 0===i?void 0:i.find((e=>e.id===t)))return!0;return!1}rebuildMenu(){var e,t;if(!this.config)return;this.adjustToolbarWidth();const i=[];let r=0;for(const e of this.config.categories||[]){if(this.menuExclusions[e.name]||!e.actions)continue;++r;const t={};t.id=e.id,t.text=e.text,t.items=[];for(const i of e.actions){const n=this.config.items[i],o=n.config;let a;switch(n.type){case"menu-button":case void 0:a=new MenuButton(this.fullId(i),o,this.fullId(e.id));break;default:a=new MenuItem(this.fullId(i))}t.items.push(a),++r}i.push(t)}const o={items:[]};for(const t of this.items)t.visibleOnToolbar||!this.isSystem(t.id)&&(null===(e=this.config.categories)||void 0===e?void 0:e.length)||this.isNavigation(t.id)||u.isInMenu(i,t.id)||(o.items.push(t),++r);o.items.length&&i.unshift(o);let a=0;this.menu=[];let l=0;this.availableHeight=n.PLATFORM.global.document.documentElement.clientHeight-((null===(t=this.toolbarElement)||void 0===t?void 0:t.getBoundingClientRect().bottom)||0);const d=Math.floor(this.availableHeight/30);let c=0;for(const e of i)c+=e.items.length+1;this.menuColumnsNbr=Math.min(this.menuColumnsNbr,Math.max(Math.ceil(c/d),2));for(const e of i)l=Math.min(l+1,Math.floor(a*this.menuColumnsNbr/r)),a+=e.items.length+1,this.menu[l]||(this.menu[l]=[]),this.menu[l].push(new MenuLabel(this.fullId(e.id),e.text)),this.menu[l].push(...e.items);this.showMenuOpener=!this.isEverythingVisible()}isEverythingVisible(){var e;for(const t of this.menu)for(const i of t)if("MenuButton"===i.type&&!0!==(null===(e=this.items.find((e=>e.id===i.id)))||void 0===e?void 0:e.visibleOnToolbar))return!1;return!0}legacyEnv(){return!!n.PLATFORM.global.px}attachToolTips(){var e,t,i;for(const t of this.itemElements){if(!t)continue;const i=this.config.items[this.localId(t.id)];"menu-button"===(null==i?void 0:i.type)&&(null===(e=null==i?void 0:i.config)||void 0===e?void 0:e.toolTip)&&n.PLATFORM.global.px&&n.PLATFORM.global.px.setTitle(t,i.config.toolTip)}for(let e=0;e<(null===(t=this.fullULElement)||void 0===t?void 0:t.children.length);++e){const t=this.fullULElement.children[e];if(!t)continue;const r=this.config.items[this.localId(t.id)];"menu-button"===(null==r?void 0:r.type)&&(null===(i=null==r?void 0:r.config)||void 0===i?void 0:i.toolTip)&&n.PLATFORM.global.px&&n.PLATFORM.global.px.setTitle(t,r.config.toolTip)}}advanceSelection(e,t=0){null==this.highlightedColumn&&(this.highlightedColumn=t>0?this.menuColumnsNbr:0);const i=this.highlightedColumn;this.highlightedColumn=(this.highlightedColumn+t+this.menuColumnsNbr)%this.menuColumnsNbr;let n=this.menu[this.highlightedColumn];null==this.highlightedRow&&(this.highlightedRow=e>=0?-1:n.length),t&&(this.highlightedRow=Math.min(this.highlightedRow,n.length-1),e=0);const r=this.highlightedRow;this.highlightedRow+=e;let o=0;for(o=0;o<this.menuColumnsNbr;++o){for(n=this.menu[this.highlightedColumn];this.highlightedRow>=0&&this.highlightedRow<n.length;){const i=n[this.highlightedRow];if("MenuButton"===i.type&&!i.disabled)break;this.highlightedRow+=e||t}if(this.highlightedRow>=0&&this.highlightedRow<n.length)break;this.highlightedColumn=(this.highlightedColumn+t+this.menuColumnsNbr)%this.menuColumnsNbr,this.highlightedRow=r}o===this.menuColumnsNbr&&(this.highlightedRow=r,this.highlightedColumn=i),n=this.menu[this.highlightedColumn];const a=n&&n[this.highlightedRow];this.highlightedID=null==a?void 0:a.id,this.menuPane&&this.scrollIntoView()}onKeyDown(e){let t=!1;switch(e.key){case"Down":case"ArrowDown":this.menuOpened||this.showMenu(),this.advanceSelection(1),t=!0;break;case"Up":case"ArrowUp":this.menuOpened||this.showMenu(),this.advanceSelection(-1),t=!0;break;case"Left":case"ArrowLeft":this.menuOpened||this.showMenu(),this.advanceSelection(0,-1),t=!0;break;case"Right":case"ArrowRight":this.menuOpened||this.showMenu(),this.advanceSelection(0,1),t=!0;break;case"Esc":case"Escape":this.hideMenu(),t=!0;break;case"Enter":this.highlightedID&&this.processClick(this.highlightedID,"MenuButton",e),t=!0}return!t||(e.stopPropagation(),!1)}stopPropagation(e){return e.stopPropagation(),!1}toggleMenu(e){return this.menuOpened?this.hideMenu():this.showMenu(),!1}showMenu(){this.menuTopPosition=this.menuOpener.getBoundingClientRect().bottom;const e=n.PLATFORM.global.document.documentElement.clientHeight-this.toolbarElement.getBoundingClientRect().bottom;if(this.availableHeight!==e){const t=this.toolbarElement.clientWidth;this.availableHeight=e,this.menuColumnsNbr=Math.min(3,Math.floor(t/300)),this.setupViewModel()}this.rebuildMenu(),this.menuOpener.focus(),setTimeout((()=>{this.documentMouseDownSubscription=this.eventAggregator.subscribe(l.MOUSE_DOWN_REACHED_BODY,(()=>this.hideMenu()))}),0),this.menuOpened=!0}hideMenu(){this.unsubscribeFromMouseDownOnDocument(),this.menuOpened=!1,this.highlightedRow=void 0,this.highlightedColumn=void 0}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}detached(){var e,t,i;this.unsubscribeFromMouseDownOnDocument(),null===(e=this.styleSubscription)||void 0===e||e.dispose(),null===(t=this.subscription)||void 0===t||t.dispose(),null===(i=this.resizeObserver)||void 0===i||i.disconnect(),this.saveObservers.forEach((e=>e.dispose()))}toggleFavorites(e,t){const i=this.config.items[this.localId(e)].config;let n="add";return i.favorite?(i.favorite=!1,n="remove"):i.favorite=!0,this.http.fetch(`ui/FavoriteActions/${(0,p.getScreenID)()}/${i.commandName}/${n}`,{method:"POST",headers:{"content-type":"application/json"}}).then((e=>{e.ok?(this.setupViewModel(),this.taskQueue.queueTask((()=>{this.onWidthChange(),this.eventAggregator.publish(`repositioned:${this.menuOpener.id}`)}))):alert(`Error occured: ${e.statusText}`)})).catch((e=>alert(`Something went wrong. ${e.message}`))),this.stopPropagation(t)}processMenuSelected(e){const t=e.detail.id;this.processClick(t,"MenuButton",e.detail.event)}processMenuClick(e,t){this.processClick(e,"MenuButton",t,!0)}processOut(e,t){const i=this.toolbarElement.querySelector(`[id='${e}']`);return i&&(i.style.position="",i.style.zIndex=""),!0}processDown(e,t,i){n.PLATFORM.global.__px&&n.PLATFORM.global.__px(document).isActiveWC()&&n.PLATFORM.global.__px(document).registerWaitTask(this,(()=>{this.processClick(e,t,i)}),i);const r=this.toolbarElement.querySelector(`[id='${e}']`);return r&&(r.style.position="relative",r.style.zIndex="30000"),!0}processClick(e,t,i,r=!1){var o;if(n.PLATFORM.global.__px&&n.PLATFORM.global.__px(document).unregisterWaitTask(this),!r){const t=this.toolbarElement.querySelector(`[id='${e}']`);t&&(t.style.position="",t.style.zIndex="")}if(this.highlightedID="","MenuButton"!==t)return this.menuOpener.blur(),!0;const a=Object.assign(Object.assign({},this.items.find((t=>t.id===e))),null===(o=this.config.items[this.localId(e)])||void 0===o?void 0:o.config);if(!u.isEnabled(a))return!0;if(this.hideMenu(),document.activeElement){const e=new CustomEvent("update",{bubbles:!0,cancelable:!1});document.activeElement.dispatchEvent(e)}const l={event:i,config:a},c=this.toggleItem(e);void 0!==c&&(l.pushed=c);const p=new CustomEvent("buttonpressed",{bubbles:!0,detail:l});return a.target?a.target.dispatchEvent(p):this.element.dispatchEvent(p),a.commandName&&!p.propagationStopped&&this.screenEventManager.publish(new d.ExecuteCommandEvent(a.commandName)),!1}processMouseEnter(e,t){return this.highlightedID=e,!0}processMouseLeave(e,t){return this.highlightedID===e&&(this.highlightedID=""),!0}fullId(e){return`${this.config.id}${e}`}localId(e){return e.substring(this.ID?this.ID.length:0)}toggleItem(e){const t=this.items.find((t=>t.id===e));if(!t||"MenuButton"!==t.type)return;const i=t;return i.toggleMode?(i.pushed=!i.pushed,i.pushed):void 0}scrollIntoView(){var e,t,i,n;null!=this.highlightedRow&&null!=this.highlightedColumn&&("scrollBehavior"in document.documentElement.style?null===(t=null===(e=this.menuPane.children[this.highlightedColumn])||void 0===e?void 0:e.children[this.highlightedRow])||void 0===t||t.scrollIntoView({block:"nearest"}):null===(n=null===(i=this.menuPane.children[this.highlightedColumn])||void 0===i?void 0:i.children[this.highlightedRow])||void 0===n||n.scrollIntoView(!1))}static isEnabled(e){return!!e&&!e.disabled}};function getEleWidth(e){if(!e)return 0;const t=getComputedStyle(e);return e.getBoundingClientRect().width+parseInt(t.marginLeft)+parseInt(t.marginRight)}h.defaultConfig={hidden:!1,enabled:!0},i.__decorate([n.bindable,i.__metadata("design:type",Object)],h.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],h.prototype,"menuColumnsNbr",void 0),h=u=i.__decorate([(0,n.customElement)("qp-tool-bar"),n.autoinject,i.__metadata("design:paramtypes",[Element,n.BindingEngine,r.EventAggregator,d.QpEventManager,n.TaskQueue,a.HttpClient])],h),t.QpToolBarCustomElement=h;class MenuItem{constructor(e){this.cssClass="",this.width="",this.disabled=!1,this.hidden=!1,this.renderAs=MenuItem.RENDER_TEXT,this.visibleOnToolbar=!0,this.showIfEnoughRoom=!1,this.isNavigation=!1,this.isSystem=!1,this.showInToolbar=!1,this.id=e}get type(){return"MenuItem"}makeVisible(e=!0){this.visibleOnToolbar=e}renderIcon(){return!!(this.renderAs&MenuItem.RENDER_ICON)}renderText(){return!!(this.renderAs&MenuItem.RENDER_TEXT)}update(e){null!=e.cssClass&&(this.cssClass=e.cssClass),null!=e.width&&(this.width=e.width),null!=e.disabled&&(this.disabled=e.disabled),null!=e.renderAs&&(this.renderAs=e.renderAs),null!=e.visibleOnToolbar&&(this.visibleOnToolbar=e.visibleOnToolbar),null!=e.showIfEnoughRoom&&(this.showIfEnoughRoom=e.showIfEnoughRoom)}}t.MenuItem=MenuItem,MenuItem.RENDER_ICON=1,MenuItem.RENDER_TEXT=2;class MenuButton extends MenuItem{constructor(e,t,i){var n,r,o,a,l,d,c;super(e),this.toolTip="",this.images={},this.favorite=!1,this.connotation="",this.toggleMode=!1,this.pushed=!1,this.commandName=t.commandName,this.text=null!==(n=t.text)&&void 0!==n?n:"",this.categoryID=i,this.toolTip=null!==(r=t.toolTip)&&void 0!==r?r:"",this.disabled=!h.isEnabled(t),this.cssClass=null!==(a=null!==(o=t.css)&&void 0!==o?o:t.cssClass)&&void 0!==a?a:"",this.connotation=null!==(l=t.connotation)&&void 0!==l?l:"",this.favorite=!!t.favorite,this.images=t.images||{},this.toggleMode=null!==(d=t.toggleMode)&&void 0!==d&&d,this.pushed=null!==(c=t.pushed)&&void 0!==c&&c,t.imageUrl&&(this.images.normal=t.imageUrl),t.imageSet&&t.imageKey&&(this.images.normal=`${t.imageSet}@${t.imageKey}`),this.images.normal&&(this.renderAs=MenuItem.RENDER_ICON)}get type(){return"MenuButton"}update(e){super.update(e),null!=e.commandName&&(this.commandName=e.commandName),null!=e.text&&(this.text=e.text),null!=e.toolTip&&(this.toolTip=e.toolTip),null!=e.images&&(this.images=e.images),null!=e.favorite&&(this.favorite=e.favorite),null!=e.connotation&&(this.connotation=e.connotation),null!=e.toggleMode&&(this.toggleMode=e.toggleMode),null!=e.pushed&&(this.pushed=e.pushed),this.categoryID=e.categoryID}}t.MenuButton=MenuButton;class MenuOptions extends MenuButton{constructor(e,t){super(e,t),this.options=[]}update(e){super.update(e),this.options=e.options}get type(){return"MenuOptions"}}t.MenuOptions=MenuOptions;class MenuLabel extends MenuItem{constructor(e,t){super(e),this.imageURL="",this.text=t}get type(){return"MenuLabel"}update(e){super.update(e),null!=e.imageURL&&(this.imageURL=e.imageURL),null!=e.text&&(this.text=e.text)}}t.NewMenuButton=function NewMenuButton(e){return new MenuButton(e,{})},t.NewMenuMenuOptions=function NewMenuMenuOptions(e){return new MenuOptions(e,{})}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/translation-validation/qp-translation-validation":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2594),i(2604),i(2172)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationValidationCustomElement=void 0;let l=class TranslationValidationCustomElement{constructor(e,t){this.translator=e,this.redirector=t,this.msg=r.Messages,this.getLocaleName=()=>this.translator.lang}get IsVisible(){var e,t,i;return(null===(i=null===(t=null===(e=this.component)||void 0===e?void 0:e.validationResult)||void 0===t?void 0:t.warnings)||void 0===i?void 0:i.length)||!1}get ValidationTitle(){var e,t,i;return(0,r.Format)(r.Messages.TranslationValidationTitle,`${(null===(i=null===(t=null===(e=this.component)||void 0===e?void 0:e.validationResult)||void 0===t?void 0:t.warnings)||void 0===i?void 0:i.length)||0}`)}toogleItems(){this.expanded=!this.expanded}openLocalizationScreen(){return this.redirector.openUrl(`Main?ScreenId=SM200540&Language=${this.translator.lang}`,"_blank")}};i.__decorate([n.bindable,i.__metadata("design:type",o.TranslationValidationDataComponent)],l.prototype,"component",void 0),i.__decorate([(0,n.computedFrom)("component.validationResult"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],l.prototype,"IsVisible",null),i.__decorate([(0,n.computedFrom)("component.validationResult"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],l.prototype,"ValidationTitle",null),l=i.__decorate([(0,n.customElement)("qp-translation-validation"),n.autoinject,i.__metadata("design:paramtypes",[r.QpTranslator,a.RedirectHelper])],l),t.TranslationValidationCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},2604:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationValidationDataComponent=void 0;t.TranslationValidationDataComponent=class TranslationValidationDataComponent{getQueryParams(){return{}}setComponentData(e){this.validationResult=e}}}.apply(t,[i,t]),void 0===n||(e.exports=n)},"client-controls/controls/compound/tree-selector/qp-tree-selector-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1015),i(8099),i("client-controls/controls/compound/tool-bar/qp-tool-bar"),i(2172),i(7140),i(3116),i(4834),i(7699),i(2446),i(3147)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g){"use strict";var m;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTreeSelectorDialogCustomElement=void 0;(0,o.getLogger)("qp-tree-selector-dialog");let f=m=class QpTreeSelectorDialogCustomElement{constructor(e,t,i,n,r){this.element=e,this.container=t,this.screenService=i,this.tq=n,this.dialogHelper=r,this.subscriptions=new Array}get multipleMode(){return"single"!==this.treeConfig.mode}attached(){const e=this.screenEventManager.subscribe("ExecuteCommand",(e=>{if(e.Command&&"select"===e.Command){if(this.tree.value){const e={value:this.tree.value.map((e=>{var t;return`${e.value||""}${this.multipleMode?null===(t=this.config)||void 0===t?void 0:t.separator:""}`})).join(""),text:this.tree.value.map((e=>{var t;return`${e.text||""}${this.multipleMode?null===(t=this.config)||void 0===t?void 0:t.separator:""}`})).join("")};this.selectValue(e)}e.stop()}}));this.subscriptions.push(e)}configChanged(e,t){var i,n,r,o,c,p,u,h,g,f,v,b,y,x,C;if(this.config||(this.config={}),(0,d.applyDefaultValues)(this.config,m.defaultConfig),null===(n=null===(i=this.config)||void 0===i?void 0:i.selectorConfig)||void 0===n?void 0:n.view){const e=[{field:null===(r=this.config)||void 0===r?void 0:r.selectorConfig.key,width:250,visible:!(null===(o=this.config)||void 0===o?void 0:o.selectorConfig.hideKeyField),allowShowHide:l.GridColumnShowHideMode.False},{field:null===(c=this.config)||void 0===c?void 0:c.selectorConfig.description,width:300}];this.gridConfig={graph:null===(p=this.screenService.getGraphInfo())||void 0===p?void 0:p.graphType,view:null===(u=this.config)||void 0===u?void 0:u.selectorConfig.view,columns:e,suppressNoteFiles:!0,valueField:null===(h=this.config)||void 0===h?void 0:h.selectorConfig.key,descriptionName:null===(g=this.config)||void 0===g?void 0:g.selectorConfig.description,displayName:"",allowInsert:!1,allowDelete:!1,allowUpdate:!1,generateColumns:0,allowSkipTabs:!1,topBarItems:{select:{config:Object.assign(Object.assign({},(0,a.NewMenuButton)("select")),{commandName:"select",text:"Select",connotation:"Success"})}},pageSize:14,adjustPageSize:!0,panel_id:`${null===(f=this.config)||void 0===f?void 0:f.id}_pnl_gr`,id:`${null===(v=this.config)||void 0===v?void 0:v.id}_grid`}}const _={};_[`${null===(b=this.config)||void 0===b?void 0:b.treeSelectorId}_t1_tree_ready`]={config:{id:`${null===(y=this.config)||void 0===y?void 0:y.treeSelectorId}_t1_tree_select`,commandName:"select",text:"Select",connotation:"Success"}},this.treeConfig=Object.assign(Object.assign({},null===(x=this.config)||void 0===x?void 0:x.treeConfig),{screenId:this.screenService.screenID,id:`${null===(C=this.config)||void 0===C?void 0:C.treeSelectorId}_t1_tree`,dynamic:!0,modifiable:!1,selectSeparately:!0,filterShowChildren:!1,topBarItems:_})}gridConfigChanged(){this.gridVM&&this.tq.queueTask((()=>{this.gridVM.refresh()}))}position(e,t){let i=NaN,n=NaN,o=NaN,a=NaN;const l=e,d=this.editorDiv.getBoundingClientRect(),c=l.querySelector("ux-dialog"),p=c.getBoundingClientRect();let u=p.width;const h=c.style,g=d.top,m=r.PLATFORM.global.innerHeight-d.bottom,f=r.PLATFORM.global.innerWidth-d.left,v=g>m;c.classList.add("qp-tree-selector-dialog"),c.style.position="absolute",p.height>r.PLATFORM.global.innerHeight?i=0:v?p.height>g?i=0:n=r.PLATFORM.global.innerHeight-d.top:p.height>m?n=0:i=d.bottom,p.width>r.PLATFORM.global.innerWidth?(o=0,u=r.PLATFORM.global.innerWidth,h.width=`${u}px`):f<u?a=0:o=d.left,Number.isNaN(i)||(h.top=`${i}px`),Number.isNaN(n)||(h.bottom=`${n}px`),Number.isNaN(o)||(h.left=`${o}px`),Number.isNaN(a)||(h.right=`${a}px`)}open(e){var t;const i=this.dialogHelper.openDialog({context:this,templateId:`tree-selector-panel_${null===(t=this.config)||void 0===t?void 0:t.id}`,width:"800px",height:"70vh",caption:e},{position:(e,t)=>this.position(e,t)},(e=>{this.currentDialog=e.controller}));return this.tq.queueMicroTask((()=>{if(!this.gridVM)return;const e=this.gridVM.onDataReady;this.gridVM.onDataReady=t=>{var i,n;this.gridVM.focusFastFilter(),this.gridVM.onDataReady=e,null===(n=(i=this.gridVM).onDataReady)||void 0===n||n.call(i,t)}})),i}treeValueChanged(e){var t;(null==e?void 0:e.length)>0&&(this.value={id:e.map((e=>{var t;return`${e.value||""}${this.multipleMode?null===(t=this.config)||void 0===t?void 0:t.separator:""}`})).join(""),value:e.map((e=>{var t;return`${e.value||""}${this.multipleMode?null===(t=this.config)||void 0===t?void 0:t.separator:""}`})).join(""),text:e.map((e=>{var t;return`${e.text||""}${this.multipleMode?null===(t=this.config)||void 0===t?void 0:t.separator:""}`})).join("")},null===(t=this.currentDialog)||void 0===t||t.ok(this.multipleMode?this.value.value:this.value))}selected(e){var t,i;if(this.gridConfig&&void 0!==(null==e?void 0:e.activeRow)){const n=e.getCell(this.gridConfig.valueField),r=e.getCell(this.gridConfig.descriptionName);n&&this.selectValue({id:n.value,value:`${n.value}${this.multipleMode?null===(t=this.config)||void 0===t?void 0:t.separator:""}`,text:`${null==r?void 0:r.value}${this.multipleMode?null===(i=this.config)||void 0===i?void 0:i.separator:""}`})}}selectValue(e){var t;void 0!==e&&(this.value=e,null===(t=this.currentDialog)||void 0===t||t.ok(this.value.value))}gridSelect(e){var t;(null===(t=this.preselectedValue)||void 0===t?void 0:t.id)&&this.selectValue(this.preselectedValue)}rowChanged(e){if(this.gridConfig&&void 0!==e.activeRow){const t=e.getCell(this.gridConfig.valueField),i=e.getCell(this.gridConfig.descriptionName);this.preselectedValue={id:null==t?void 0:t.value,text:i?`${null==t?void 0:t.value} - ${i.value}`:""}}}detached(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}};f.defaultConfig={id:"pu",separator:"; ",selectorTabTitle:c.Messages.TabbedTreeSelector,treeTabTitle:c.Messages.TabbedTreeTree,selectorConfig:{hideKeyField:!1}},i.__decorate([n.bindable,i.__metadata("design:type",Object)],f.prototype,"config",void 0),i.__decorate([(0,n.observable)({changeHandler:"treeValueChanged"}),i.__metadata("design:type",Object)],f.prototype,"treeValue",void 0),i.__decorate([n.observable,i.__metadata("design:type",Object)],f.prototype,"gridConfig",void 0),i.__decorate([n.bindable,i.__metadata("design:type",HTMLDivElement)],f.prototype,"editorDiv",void 0),i.__decorate([(0,u.newInstance)(h.QpEventManager),i.__metadata("design:type",h.QpEventManager)],f.prototype,"screenEventManager",void 0),i.__decorate([(0,n.computedFrom)("config.treeConfig.mode"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],f.prototype,"multipleMode",null),f=m=i.__decorate([(0,n.customElement)("qp-tree-selector-dialog"),u.autoinject,i.__metadata("design:paramtypes",[Element,n.Container,p.ScreenService,n.TaskQueue,g.DialogHelper])],f),t.QpTreeSelectorDialogCustomElement=f}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/tree-selector/qp-tree-selector":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7699),i(6158),i(8099),i(829)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpTreeSelectorCustomElement=void 0;(0,a.getLogger)("qp-tree-selector");let d=class QpTreeSelectorCustomElement extends l.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e}stateChanged(e,t){super.stateChanged(e,t),this.fieldLabel=e.text?e.text:e.name?e.name:""}valueChanged(){var e,t;if("string"!=typeof this.value){if(null===(null===(e=this.value)||void 0===e?void 0:e.id))return void(this.editorValue=void 0);const i=null!=(null===(t=this.value)||void 0===t?void 0:t.text),n=i?this.value.text.toString().trim():"",r=i?n:void 0;this.editorValue=r}else this.editorValue=this.value.trim()}get editorConfig(){var e;if(!this.config)return;let t=this.config.tabIndex,i=this.config.enabled;return this.editor&&(!this.config.readOnly&&this.config.enabled||(t=-1,i=!1)),{id:`${this.config.id}_text`,name:this.config.name,tabIndex:t,enabled:i,readOnly:this.config.readOnly,allowEditValue:this.config.allowEditValue||!!(null===(e=this.config.selectorConfig)||void 0===e?void 0:e.view)}}get multipleMode(){return"single"!==this.config.treeConfig.mode}openSelector(e){const t=this.field.elemText.value;this.treeSelectorDialog.open(e).whenClosed((e=>{e.wasCancelled||(this.multipleMode?this.value=`${t?`${t.trimEnd()} `:""}${e.output}`:this.value=e.output)}))}handleKeyDown(e){var t;return"F3"===e.key?(e.preventDefault(),e.stopImmediatePropagation(),this.openSelector(this.fieldLabel),!1):!!(null===(t=this.editorConfig)||void 0===t?void 0:t.allowEditValue)}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],d.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],d.prototype,"value",void 0),i.__decorate([n.observable,i.__metadata("design:type",HTMLInputElement)],d.prototype,"editor",void 0),i.__decorate([n.observable,i.__metadata("design:type",String)],d.prototype,"editorValue",void 0),i.__decorate([(0,n.computedFrom)("config","config.id","config.tabIndex","config.enabled","config.readOnly","config.allowEditValue","config.selectorConfig"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],d.prototype,"editorConfig",null),i.__decorate([(0,n.computedFrom)("config.treeConfig.mode"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],d.prototype,"multipleMode",null),d=i.__decorate([r.autoinject,(0,n.customElement)("qp-tree-selector"),i.__metadata("design:paramtypes",[Element,o.Container])],d),t.QpTreeSelectorCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/tree/qp-tree-node":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099),i(8862),i(2479),i(7140),i(7699),i(8900)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpTreeNodeCustomElement=void 0;(0,r.getLogger)("qp-tree-node");let p=class QpTreeNodeCustomElement{constructor(e,t,i,n){this.element=e,this.treeService=t,this.tq=i,this.eventManager=n,this.updateTree=!0,this.updateText=!0,this.editMode=!1,this.showDragSeparator=!1,this.levelShift="0px",this.level=0,this.eventSubscriptions=[],this.localizedStrings=o.LOCALIZED_STRINGS.tree}get meta(){return this.treeService.metaMap[this.nodeId]}set meta(e){}get textParts(){var e;const{meta:t}=this;if(!t)return[];if((null==t?void 0:t.item)&&(null==t?void 0:t.mark)){return new l.TextParter(t.mark).getTextParts(t.item.name)}return[{text:null===(e=t.item)||void 0===e?void 0:e.name,selected:!1}]}attached(){var e,t,i,r,o,a,l;(null===(t=null===(e=this.meta)||void 0===e?void 0:e.item)||void 0===t?void 0:t.extraColumns)&&this.createOptionalControls(this.meta.item.extraColumns);const d=this.treeService.generateTestId(this.nodeId);d&&this.meta&&(this.meta.testId=d),this.treeService.treeNodes.push(this),this.treeService.treeNodes.length!==this.treeService.itemList.length||this.treeService.dynamic||this.dispatchEvent("ready"),this.treeService.iconWidth||(this.treeService.iconWidth=(null===(i=this.icon)||void 0===i?void 0:i.getBoundingClientRect().width)||0),this.treeService.openArrowWidth||(this.treeService.openArrowWidth=(null===(r=this.arrow)||void 0===r?void 0:r.getBoundingClientRect().width)||0),this.treeService.checkboxWidth||(this.treeService.checkboxWidth=(null===(o=this.checkBox)||void 0===o?void 0:o.getBoundingClientRect().width)||0),this.updateLevel(),"single"===this.treeService.mode&&this.treeNode&&this.eventSubscriptions.push(this.eventManager.addEventListener(this.treeNode,this.treeService.singleClickSelect?"click":"dblclick",this.onSelectSingle.bind(this),n.delegationStrategy.none,!0));const c=(null===(a=this.icon)||void 0===a?void 0:a.getElementsByTagName("svg")[0])||(null===(l=this.icon)||void 0===l?void 0:l.getElementsByTagName("div")[0]);c&&(c.style.width=`${this.treeService.iconSize}px`,c.style.height=`${this.treeService.iconSize}px`),this.treeNode&&(this.treeNode.viewModel=this)}updateLevel(){var e;this.level=this.treeService.getParentChain(this.nodeId).length-1,this.isLeaf=0===(null===(e=this.meta)||void 0===e?void 0:e.children.length),this.levelShift=23*(this.level+(this.isLeaf?1:0))+"px"}createOptionalControls(e){const t=this.treeNode.getElementsByClassName("optional-item");e.forEach(((e,i)=>{const n=document.createElement(this.treeService.extras[i].tagName);n.setAttribute("value",e),n.setAttribute("config.bind",`{enabled: false, textAlign: ${this.treeService.extras[i].textAlign}}`),n.style.width=`${this.treeService.extras[i].width}px`,t[i].appendChild(n)}))}getTransferData(e){return e.dataTransfer?JSON.parse(e.dataTransfer.getData("text/plain")):null}update(){this.dispatchEvent("updateTree")}dispatchEvent(e,t){const i=new CustomEvent(e,{bubbles:!0,detail:t});this.element.dispatchEvent(i)}dispatchNodeEvent(e){this.dispatchEvent(e,[this.treeService.getNode(this.nodeId)])}onOpen(e){e.stopImmediatePropagation(),this.treeService.dynamic&&!this.treeService.metaMap[this.nodeId].opened&&this.dispatchEvent("openNode",this.nodeId),this.treeService.toggle(this.nodeId),this.update()}checkSingle(){return this.treeService.selectSingle(this.nodeId),!0}onSelectSingle(){const e=this.treeService.selectSingle(this.nodeId);return this.dispatchEvent("valueSelected",e),this.dispatchEvent("onSelect",e),!0}onEdit(){this.editMode=!this.editMode,this.tq.queueMicroTask((()=>this.input.select())),this.hideNodeMenu(),this.editMode||this.update()}onSelectMulti(){return this.treeService.selectMulti(this.nodeId),this.update(),this.dispatchEvent("onSelect",this.treeService.collectInfo()),!0}onDeleteNode(){const e=this.treeService.getEventNode(this.nodeId);this.treeService.delete(this.nodeId),this.update(),this.hideNodeMenu(),this.dispatchEvent("onDelete",e)}onAddNode(e){var t,n,r;return i.__awaiter(this,void 0,void 0,(function*(){let i;const o=e?this.treeService.addChildNode:this.treeService.addSiblingNode;if(o){this.dispatchEvent("startLoading");const r=yield this.treeApiClient.checkAction({command:o,id:this.nodeId,parentId:(null===(t=this.meta.item)||void 0===t?void 0:t.parentId)||null,prevNodeId:this.treeService.getPrevNodeId(this.nodeId)},o);if("string"==typeof r)return alert(r),console.error(r),void this.dispatchEvent("endLoading");i=this.treeService.createCustomNewNode(r,e?this.nodeId:null===(n=this.meta.item)||void 0===n?void 0:n.parentId)}else i=this.treeService.createDefaultNewNode(this.nodeId,e?this.nodeId:null===(r=this.meta.item)||void 0===r?void 0:r.parentId);e?this.treeService.addNewChild(this.nodeId,i):this.treeService.addNewSibling(this.nodeId,i),this.update(),this.hideNodeMenu(),this.dispatchEvent("endLoading"),i&&i.item&&this.dispatchEvent("onAdd",this.treeService.getEventNode(i.item.id)||{})}))}onInput(e){return"Enter"!==e.key||(this.editMode=!1,e.preventDefault(),e.stopPropagation(),this.update(),!1)}hideNodeMenu(){var e;null===(e=this.toolbar)||void 0===e||e.classList.add("hidden")}onDragStart(e){return e.dataTransfer&&(this.treeService.selectedDrag&&"multi"===this.treeService.mode?e.dataTransfer.setData("text/plain",JSON.stringify({id:this.nodeId,treeId:this.treeService.treeId,item:this.treeService.draggedSelectedNodes()})):e.dataTransfer.setData("text/plain",JSON.stringify({id:this.nodeId,treeId:this.treeService.treeId,item:this.treeService.draggedNodes(this.nodeId)})),e.dataTransfer.setDragImage(this.flexFirst,0,0),e.dataTransfer.effectAllowed="move",this.treeService.hovered.id=this.nodeId,this.treeService.hovered.separator=!1),!0}onDragOver(e){this.treeService.hovered.id=this.nodeId,this.treeService.hovered.separator=!1,e.dataTransfer&&(e.dataTransfer.dropEffect="move")}showSeparator(){this.treeService.hovered.separator=!0}onDragLeave(e){this.treeService.resetHover()}dropNode(e,t){var n,r;return i.__awaiter(this,void 0,void 0,(function*(){const i=this.getTransferData(e);if(this.treeService.resetHover(),i){if(i.id!==this.nodeId||i.treeId!==this.treeService.treeId){const e=this.treeService.selectedDrag&&"multi"===this.treeService.mode&&this.treeService.collectInfo().length>0?i.item.map((e=>e.id)):[i.id],o=t?0:this.getChildIndex(null===(n=this.meta.item)||void 0===n?void 0:n.parentId,this.nodeId),a=t?this.nodeId:null===(r=this.meta.item)||void 0===r?void 0:r.parentId;if(this.treeService.checkDropCommand){this.dispatchEvent("startLoading");const e=t?null:o,n=yield this.treeApiClient.checkAction({command:this.treeService.checkDropCommand,parentId:a,id:i.id,prevNodeId:e,oldParentId:i.item[0].parentId},"action");if(this.dispatchEvent("endLoading"),"string"==typeof n)return alert(n),void console.error(n)}this.treeService.dropNode(a,o,e,i.treeId),this.update(),this.dispatchEvent("endLoading")}this.dispatchEvent("onChange",this.treeService.getEventNested(i.id,i.item[0].parentId||void 0))}}))}getChildIndex(e,t){return this.treeService.metaMap[e].children.indexOf(this.nodeId)}onMouseOut(){this.toolbar.classList.add("hidden")}onToolbarClick(e){this.treeService.shownToolbar&&this.treeService.shownToolbar!==this.toolbar&&this.treeService.shownToolbar.classList.add("hidden"),this.treeService.shownToolbar=this.toolbar,this.toolbar.classList.toggle("hidden")}flatChildren(e,t,i){const n=this.treeService.metaMap[e];if(!n)throw new Error(`Must have ${e}`);if(console.log(`Pushing ${t}`),i.push({level:t,item:n}),n.opened)for(const e of n.children)this.flatChildren(e,t+1,i);console.log(i)}getFlatMap(){const e=[];return this.flatChildren("null",0,e),e}detached(){this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[]}};i.__decorate([n.bindable,i.__metadata("design:type",String)],p.prototype,"nodeId",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],p.prototype,"id",void 0),i.__decorate([(0,d.inject)(c.TreeApiClient),i.__metadata("design:type",c.TreeApiClient)],p.prototype,"treeApiClient",void 0),i.__decorate([(0,n.computedFrom)("nodeId","updateTree"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[Object])],p.prototype,"meta",null),i.__decorate([(0,n.containerless)(),(0,n.computedFrom)("updateText"),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[])],p.prototype,"textParts",null),p=i.__decorate([(0,n.customElement)("qp-tree-node"),d.autoinject,i.__metadata("design:paramtypes",[Element,a.TreeService,n.TaskQueue,n.EventManager])],p),t.QpTreeNodeCustomElement=p}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/tree/qp-tree-toolbar":(e,t,i)=>{var n,r;n=[i,t,i(655),i(6158),i(2479),i("client-controls/controls/compound/tree/qp-tree"),i("aurelia-framework"),i(4834),i(7699),i(4609)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpTreeToolbarCustomElement=void 0;let p=class QpTreeToolbarCustomElement{constructor(e,t,i){this.container=e,this.element=t,this.screenService=i,this.treeService=this.container.get(r.TreeService),this.domEvents=new a.ElementEvents(this.element),this.domEvents.subscribe("buttonpressed",(e=>this.processToolBarClick(e)))}get hasToolbarItems(){var e;return(null===(e=this.config)||void 0===e?void 0:e.items)&&Object.keys(this.config.items).length}processToolBarClick(e){var t;const i=null===(t=e.detail)||void 0===t?void 0:t.config,n=null==i?void 0:i.commandName;switch(n){case"select":const e="multi"===this.parent.treeService.mode?this.parent.treeService.collectInfo():this.parent.treeService.selectSingle(this.parent.treeService.lastSelectedNodeId),t=new CustomEvent("valueSelected",{bubbles:!0,detail:e});this.element.dispatchEvent(t),this.parent.value=e;break;case"rename":this.rename();break;case"delete":this.delete();break;case"addSibling":this.addSibling();break;case"addChild":this.addChild();break;default:this.executeCommand(n,this.parent.value)}}rename(){this.parent.firstSelectedNode.editMode=!0}delete(){this.parent.firstSelectedNode.onDeleteNode()}addSibling(){this.parent.firstSelectedNode.onAddNode(!1)}addChild(){this.parent.firstSelectedNode.onAddNode(!0)}onFilter(e){if(e.length<3)this.parent.treeService.resetFilter(),this.parent.emptySearchResult=!1;else if(this.parent.treeService.dynamic){const t=this.treeService.setDynamicFilter(e);this.parent.openNode(t||[])}else this.parent.emptySearchResult=!this.parent.treeService.setFilter(e);this.parent.updateText()}executeCommand(e,t){let i;i=(0,c.isLegacyEnv)()?a.PLATFORM.global.px_cm.findDataSource():this.screenService,i.executeCommand(e,JSON.stringify(t))}};i.__decorate([a.bindable,i.__metadata("design:type",Object)],p.prototype,"config",void 0),i.__decorate([a.bindable,i.__metadata("design:type",String)],p.prototype,"caption",void 0),i.__decorate([a.bindable,i.__metadata("design:type",o.QpTreeCustomElement)],p.prototype,"parent",void 0),i.__decorate([(0,a.computedFrom)("config.items"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],p.prototype,"hasToolbarItems",null),p=i.__decorate([(0,a.customElement)("qp-tree-toolbar"),d.autoinject,i.__metadata("design:paramtypes",[n.Container,Element,l.ScreenService])],p),t.QpTreeToolbarCustomElement=p}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/compound/tree/qp-tree":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(6158),i(2479),i(2172),i(7140),i(8900),i(4834),i(8099),i(7699),i(7140)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h){"use strict";var g;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTreeCustomElement=void 0;const m=(0,p.getLogger)("qp-tree");let f=g=class QpTreeCustomElement{constructor(e,t,i,n,r,a){this.container=e,this.element=t,this.tq=i,this.eventManager=n,this.bindingEngine=r,this.screenService=a,this.nodeId=null,this.emptySearchResult=!1,this.tooWideNodes=[],this.noData=!0,this.extraColumnsWidth=0,this.hasActions=!1,this.hasVerticalScroll=!1,this.hasHorizontalScroll=!1,this.actionLabels=[],this.value=[],this.resultType="TreeData",this.subscription=void 0,this.readySubscription=void 0,this.eventSubscriptions=[],this.repaintTree=!1,this.firstNodeSelected=!1,this.dataKeyNames=[],this.loadingInProgress=0,this.initialized=!1,this.container.registerInstance(o.TreeService,new o.TreeService),this.treeService=this.container.get(o.TreeService),this.registerTreeComponent()}attached(){this.linkedWithView()&&this.screenService.initialized&&(this.treeService.linkedWithView=!0,this.registerTreeComponent(),this.config&&this.configChanged(this.config),this.screenService.update(void 0,new a.ScreenUpdateParams({views:this.viewName?[this.viewName]:[]})))}registerTreeComponent(){this.screenService.isValid&&!this.componentSubscription&&(this.viewName=this.element.getAttribute("view.bind")||void 0,this.viewName&&(this.componentSubscription=this.screenService.registerDataComponent(this.viewName,this)))}linkedWithView(){return!!this.viewName&&this.screenService.isValid}getQueryParams(e){this.treeService.treeParams.dataKey=this.getRowDataKey();const t=Object.keys(this.treeService.metaMap).filter((e=>this.treeService.metaMap[e].opened)).map((e=>"null"===e?null:e));return t.length>1&&(this.treeService.treeParams.parameters=t),{view:this.treeService.treeParams.view,columns:this.treeService.treeParams.columns,parameters:this.treeService.treeParams.parameters,hideRootNode:this.config.hideRootNode,openedLayers:this.config.openedLayers,dynamic:this.config.dynamic,syncPosition:this.config.syncPosition,dataKey:this.treeService.treeParams.dataKey}}setComponentData(e){if(!this.config.data&&"testtree"!==this.treeService.treeParams.view){if(this.startLoading(),e.dataKeyNames&&(this.dataKeyNames=e.dataKeyNames),this.initialized&&this.saveTreeState(),this.treeService.resetTree(),this.resetParameters(),this.repaintTree=!0,this.config.columns){const t=this.treeApiClient.processColumnsData(e.rows,this.treeService.treeParams,this.config);this.applyTreeDataFromColumns(t)}else if(void 0===this.config.dynamic||!0===this.config.dynamic){const t=this.treeApiClient.processData(e.rows,this.config);this.applyDynamicTreeData(t)}else{const t=this.treeApiClient.processTreeData(e.rows,this.config);this.applyTreeData(t)}this.setTopBarButtonsState(),this.tq.queueMicroTask((()=>{if(this.repaintTree=!1,this.endLoading(),this.restoreTreeState(),this.treeService.itemList.length)if(!this.firstNodeSelected&&this.config.selectFirstNode){const e=this.treeService.selectSingle(this.treeService.itemList[0].id),t=new CustomEvent("valueSelected",{bubbles:!0,detail:e});this.element.dispatchEvent(t),this.firstNodeSelected=!0}else this.treeService.lastSelectedNodeId&&this.treeService.selectSingle(this.treeService.lastSelectedNodeId)}))}}bind(){var e,t,i;if(this.initialTopBarConfigItems=(null===(e=this.topToolbarConfig)||void 0===e?void 0:e.items)||[],this.linkedWithView()){const e=a.PXReflectionMetadata.getMetadata(null===(t=this.view)||void 0===t?void 0:t.instanceType,"treeConfig"),n=a.PXReflectionMetadata.getMetadata(this.screenService.model,this.viewName,"treeConfig");this.config||(this.config={}),(n||e)&&Object.assign(this.config,null!=n?n:e),(null===(i=this.view)||void 0===i?void 0:i.config)&&Object.assign(this.config,this.view.config)}else this.config&&this.configChanged(this.config);this.caption&&this.captionChanged(this.caption)}configChanged(e,t){if(e&&Object.keys(e).length){void 0===t&&(0,l.applyDefaultValues)(e,g.defaultConfig),this.treeService.treeId=this.config.id,this.treeService.modifiable=e.modifiable||!1,this.treeService.singleClickSelect=e.singleClickSelect||!1,this.treeService.selectedDrag=e.dragSelected||!1,this.treeService.filterShowChildren=e.filterShowChildren||!1,e.iconSize&&(this.treeService.iconSize=e.iconSize),this.treeService.selectSeparately=e.selectSeparately||!1,this.initTreeParams(e),e.data?this.buildClientTree():void 0===e.dynamic||!0===e.dynamic?(this.treeService.dynamic=!0,this.buildDynamicTree(),this.element.addEventListener("openNode",(e=>{const t=e.detail;this.openNode([t])}))):e.columns?(this.treeService.treeParams.columns=e.columns.split(" "),this.buildTreeFromColumns(this.treeService.treeParams)):"testtree"===this.treeService.treeParams.view?this.buildTestTree():this.buildTree(this.treeService.treeParams);try{let t=this.config.topBarItems||{};if(e.toolbar){const i=JSON.parse(e.toolbar);for(const e in i)i[e].target=this.topToolbar.element,i[e].type="menu-button";t=Object.assign(Object.assign({},t),i)}this.topToolbarConfig={id:`${this.config.id}_topBar`,styleChanged:!1,changed:!1,items:t,hideToolbarSearch:this.config.hideToolbarSearch}}catch(e){m.error("Cannot parse toolbar json",e)}this.treeService.mode=e.mode||"multi",this.treeService.defaultDrag=(e.defaultDrag||"cut").toLowerCase(),e.actionLabels&&(this.actionLabels=JSON.parse(e.actionLabels)),this.treeService.checkDropCommand=e.checkDropCommand||"",this.treeService.addChildNode=e.addChildNode||"",this.treeService.addSiblingNode=e.addSiblingNode||"",this.element.addEventListener("valueSelected",(e=>{this.value=e.detail,this.firstSelectedNode=this.treeService.treeNodes.find((e=>e.nodeId===this.value[0].id)),this.config.syncPosition&&(this.resetParameters(),this.screenService.update())})),this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,"updateTree",(e=>this.updateTree()),n.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,"ready",(e=>this.ready()),n.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,"startLoading",(e=>this.startLoading()),n.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,"endLoading",(e=>this.endLoading()),n.delegationStrategy.none,!0)),addEventListener("resize",this.onResize.bind(this)),e.onAdd&&this.addEventListener(e.onAdd,"onAdd"),e.onChange&&this.addEventListener(e.onChange,"onChange"),e.onDelete&&this.addEventListener(e.onDelete,"onDelete"),e.onSelect&&this.addEventListener(e.onSelect,"onSelect"),this.setupResizeObserver(),this.subscription=this.bindingEngine.propertyObserver(this.config,"refresh").subscribe(((e,t)=>{e!==t&&!0===e&&(this.treeService.resetTree(),this.config.columns?this.buildTreeFromColumns(this.treeService.treeParams):void 0===this.config.dynamic||!0===this.config.dynamic?this.buildDynamicTree():this.buildTree(this.treeService.treeParams),this.config.refresh=!1)}))}}ready(){this.tq.queueMicroTask((()=>{var e,t,i;if(this.emptySearchResult)this.readySubscription=this.bindingEngine.propertyObserver(this,"emptySearchResult").subscribe((e=>{var t;e||(this.ready(),null===(t=this.readySubscription)||void 0===t||t.dispose(),this.readySubscription=void 0)}));else{if(this.toolbar){const t=null===(e=this.toolbar)||void 0===e?void 0:e.getBoundingClientRect().width;this.treeService.extras.forEach((e=>{e.right+=t})),this.extraColumnsWidth+=t}this.topToolbar&&this.header&&(this.topToolbar.height=(null===(t=this.topToolbar)||void 0===t?void 0:t.element.getBoundingClientRect().height)+(null===(i=this.header)||void 0===i?void 0:i.getBoundingClientRect().height),this.treeTableWrap.style.paddingRight=`${this.extraColumnsWidth}px`,this.treeContainer.style.height=`calc(100% - ${this.topToolbar.height}px)`,this.treeContainer.style.top=`${this.topToolbar.height}px`,this.config.width&&(this.treeContainer.style.width=this.config.width),this.scrollsInfo(),this.hasHorizontalScroll&&(this.initEllipsis(),this.calcEllipsis()))}}))}captionChanged(e){if(e&&"$"===e[0]&&e[1]&&"{"!==e[1]){const t=e.substring(1),i=this.screenService.Model;(null==i?void 0:i.Msg)&&i.Msg[t]&&(this.captionText=i.Msg[t])}else this.captionText=e}getRowDataKey(){const e={},t=this.screenService.getGraphInfo().primaryView,i=this.screenService.model[t];function getRawValue(e){return e&&e.hasOwnProperty("id")?e.id:e}return this.dataKeyNames.forEach((t=>{let n;n=this.config.idName&&t===this.config.idName?getRawValue(this.value[0]):getRawValue(i.getValue(t)),n&&(e[t]=n)})),Object.keys(e).length?e:void 0}startLoading(){this.loadingInProgress+=1,this.busyCounter.increment(),this.element.classList.add("spinner")}endLoading(){this.tq.queueMicroTask((()=>{this.loadingInProgress&&(this.busyCounter.decrement(),this.loadingInProgress-=1),this.loadingInProgress||this.element.classList.remove("spinner")}))}onResize(){this.scrollsInfo(),this.resetWidths(),this.initEllipsis(),this.calcEllipsis(0,!0)}setupResizeObserver(){!this.resizeObserver&&n.PLATFORM.global.ResizeObserver&&this.treeContainer&&(this.resizeObserver=new n.PLATFORM.global.ResizeObserver((e=>{this.onResize()})),this.resizeObserver.observe(this.treeContainer))}scrollsInfo(){this.hasHorizontalScroll=this.treeTable.scrollWidth>this.treeTable.clientWidth,this.hasVerticalScroll=this.treeTable.scrollHeight>this.treeTable.clientHeight}addEventListener(e,t){e&&this.eventSubscriptions.push(this.eventManager.addEventListener(this.element,t,(t=>this.executeCommand(e,t.detail)),n.delegationStrategy.none,!0))}initTreeParams(e){const t={view:e.dataMember};e.columns?t.columns=e.columns.split(" "):(e.description&&e.idParent&&e.idName?t.columns=[e.description,e.idParent,e.idName]:t.columns=[],e.iconField&&t.columns.push(e.iconField),e.iconColorField&&t.columns.push(e.iconColorField),e.actionField&&t.columns.push(e.actionField),e.extraColumnField&&t.columns.push(e.extraColumnField)),this.treeService.treeParams=t}loadNode(e){return i.__awaiter(this,void 0,void 0,(function*(){return this.treeApiClient.getNode(e,this.config)}))}openNode(e){return i.__awaiter(this,void 0,void 0,(function*(){this.treeService.treeParams.parameters=e.filter((e=>!1===this.treeService.metaMap[e].initialized)),e.forEach((e=>{this.treeService.metaMap[e].initialized=!0})),this.startLoading();try{let e=yield this.treeApiClient.getNode(this.treeService.treeParams,this.config);e=e.filter((e=>!this.treeService.metaMap[e.id])),e&&e.length>0&&(this.treeService.itemList=this.treeService.itemList.concat(e),this.treeService.createMetaMap(e),e.forEach((e=>this.treeService.metaMap[e.id].opened=!1))),this.tree.update()}finally{this.endLoading()}}))}saveTreeState(){this.savedMeta=this.treeService.metaMap,this.scrollPosition=this.treeTableWrap.scrollTop}restoreTreeState(){this.savedMeta&&(Object.keys(this.savedMeta).forEach((e=>{this.treeService.metaMap[e]&&(this.treeService.metaMap[e].opened=this.savedMeta[e].opened)})),this.tq.queueMicroTask((()=>{this.scrollPosition&&(this.treeTableWrap.scrollTop=this.scrollPosition)})))}resetParameters(){this.treeService.treeParams.parameters=void 0}buildDynamicTree(){return i.__awaiter(this,void 0,void 0,(function*(){if(!this.linkedWithView()){this.startLoading(),this.resetParameters();try{const e=yield this.treeApiClient.getNode(this.treeService.treeParams,this.config);this.applyDynamicTreeData(e)}finally{this.endLoading()}}}))}applyDynamicTreeData(e){if(this.treeService.itemList=this.treeService.itemList.concat(e),this.treeService.createMetaMap(e),this.linkedWithView()&&!this.initialized)"number"==typeof this.config.openedLayers&&this.tree.meta&&(this.updateOpenedLayers(),this.initialized=!0);else for(const t of e)null!==t.parentId||t.isLeaf||(this.openNode([t.id]),this.treeService.metaMap[t.id].opened=!0);this.tree.update()}buildTree(e){return i.__awaiter(this,void 0,void 0,(function*(){if(!this.linkedWithView()){this.startLoading(),this.resetParameters();try{const t=yield this.treeApiClient.getData(e,this.config);this.applyTreeData(t)}finally{this.endLoading()}}}))}applyTreeData(e){this.treeService.itemList=e,this.hasActions=e.some(this.ifAnyActionAvailable),this.noData=!e.length,this.noData||(this.treeService.createMetaMap(e),this.config.openedLayers&&this.config.openedLayers>0&&this.updateOpenedLayers(),this.tree.update(),this.calcExtraColumns())}ifAnyActionAvailable(e){var t,i,n,r;return(null===(t=e.actions)||void 0===t?void 0:t.createChild)||(null===(i=e.actions)||void 0===i?void 0:i.createSibling)||(null===(n=e.actions)||void 0===n?void 0:n.delete)||(null===(r=e.actions)||void 0===r?void 0:r.rename)}onTableWrapScroll(e){e.target.scrollTop<this.treeTable.scrollHeight-this.treeTableWrap.clientHeight+5&&(this.treeTable.style.height=`calc(100% + ${e.target.scrollTop}px`)}onTableScroll(e){this.calcEllipsis(e.target.scrollLeft)}initEllipsis(){this.tooWideNodes=[],this.treeService.treeNodes.forEach((e=>{null!=e.flexFirst&&(e.flexFirst.style.width="auto",e.treeNode.style.width="auto",e.flexFirst.getBoundingClientRect().width>this.treeTable.clientWidth&&this.tooWideNodes.push(e),e.treeNode.style.width=`${this.treeTable.scrollWidth}px`)}))}calcEllipsis(e=0,t=!1){const i=this.getFirstVisibleTreeNode();i&&(t&&(i.style.width=""),this.treeTable.scrollWidth>this.treeTable.clientWidth&&this.tooWideNodes.forEach((t=>{null!=t.flexFirst&&(this.treeTable.scrollWidth===this.treeTable.clientWidth+e?t.text.style.width="auto":t.text.style.width=this.treeTable.clientWidth-parseInt(t.levelShift,10)+e-this.treeService.iconWidth-this.treeService.openArrowWidth-this.treeService.checkboxWidth+"px")})))}resetWidths(){this.treeService.treeNodes.forEach((e=>{e.treeNode&&e.text&&(e.treeNode.style.width="auto",e.text.style.width="auto")}))}getFirstVisibleTreeNode(){let e=0;for(;!this.treeService.treeNodes[e]&&this.treeService.treeNodes[e].treeNode;)if(e++,e>=this.treeService.treeNodes.length)return null;return this.treeService.treeNodes[e].treeNode}buildTestTree(){return i.__awaiter(this,void 0,void 0,(function*(){this.startLoading();const e=yield this.treeApiClient.getTestData();this.calcExtraColumns(),this.treeService.itemList=e,this.hasActions=e.some(this.ifAnyActionAvailable),this.treeService.createMetaMap(e),this.config.openedLayers&&this.config.openedLayers>0&&this.updateOpenedLayers(),this.noData=!1,this.tree.update(),this.endLoading()}))}buildClientTree(){var e;(null===(e=this.config.data)||void 0===e?void 0:e.length)&&(this.startLoading(),this.tq.queueMicroTask((()=>{try{const e="string"==typeof this.config.data?JSON.parse(this.config.data):this.config.data;this.calcExtraColumns(),this.treeService.itemList=this.config.data||[],this.treeService.createMetaMap(e)}catch(e){alert(`Invalid data for tree ${this.element.id} Error: ${e.message}`)}this.config.openedLayers&&this.config.openedLayers>0&&this.updateOpenedLayers(),this.tree.update(),this.endLoading()})))}calcExtraColumns(){this.config.extraColumns&&this.config.extraColumns.length>0&&(this.treeService.extras=JSON.parse(this.config.extraColumns),this.treeService.extras.forEach(((e,t,i)=>{e.right=i.slice(t+1).reduce(((e,t)=>e+t.width),0)})),this.extraColumnsWidth=this.treeService.extras.reduce(((e,t)=>e+t.width),0))}updateOpenedLayers(){this.tree.treeService.traverseAndClose(this.tree.meta,0,(this.config.openedLayers||0)+1)}buildTreeFromColumns(e){return i.__awaiter(this,void 0,void 0,(function*(){this.startLoading();const t=yield this.treeApiClient.getDataFromColumns(e,this.config);this.applyTreeDataFromColumns(t),this.endLoading()}))}applyTreeDataFromColumns(e){this.tree.treeService.buildTree(e),this.tree.update()}updateText(){this.tree.updateText=!this.tree.updateText;const e=this.treeService.treeNodes;for(const t of e)t.updateText=!t.updateText}updateTree(){this.tree.updateTree=!this.tree.updateTree;const e=this.treeService.treeNodes;for(const t of e)t.updateTree=!t.updateTree,t.updateLevel();this.hasHorizontalScroll&&this.tq.queueMicroTask((()=>{this.initEllipsis(),this.calcEllipsis()}))}setTopBarButtonsState(){if(!this.config.topBarItems&&this.view&&this.view.actionNames){const e={};this.view.actionNames.forEach((t=>{const i=this.view[t];i&&(e[t]={config:Object.assign(Object.assign({},i),{images:{normal:`${i.imageSet||"main"}@${i.imageKey}`}})})})),this.topToolbarConfig.items=Object.assign(Object.assign({},e),this.initialTopBarConfigItems)}this.topToolbarConfig.changed=!0}executeCommand(e,t){n.PLATFORM.global.px_cm.findDataSource().executeCommand(e,JSON.stringify(t))}detached(){var e,t,i;this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],null===(e=this.resizeObserver)||void 0===e||e.disconnect(),null===(t=this.subscription)||void 0===t||t.dispose(),this.subscription=void 0,null===(i=this.readySubscription)||void 0===i||i.dispose(),this.readySubscription=void 0,this.viewName&&this.screenService.unregisterDataComponent(this.viewName),this.componentSubscription&&(this.componentSubscription.dispose(),this.componentSubscription=void 0)}};f.defaultConfig={mode:"multi",openedLayers:0,defaultDrag:"cut",modifiable:!0,dragSelected:!1,singleClickSelect:!1,dynamic:!1,hideRootNode:!1,refresh:!1,iconSize:16},i.__decorate([n.bindable,i.__metadata("design:type",String)],f.prototype,"caption",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],f.prototype,"topToolbarConfig",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],f.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Array)],f.prototype,"value",void 0),i.__decorate([n.bindable,i.__metadata("design:type",a.PXViewCollection)],f.prototype,"view",void 0),i.__decorate([(0,u.inject)(d.TreeApiClient),i.__metadata("design:type",d.TreeApiClient)],f.prototype,"treeApiClient",void 0),i.__decorate([u.autoinject,i.__metadata("design:type",h.BusyCounter)],f.prototype,"busyCounter",void 0),f=g=i.__decorate([(0,n.customElement)("qp-tree"),u.autoinject,i.__metadata("design:paramtypes",[r.Container,Element,n.TaskQueue,n.EventManager,n.BindingEngine,c.ScreenService])],f),t.QpTreeCustomElement=f}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/data-components/qp-data-component":(e,t,i)=>{var n,r;n=[i,t,i(655),i(6646),i("aurelia-event-aggregator"),i("aurelia-framework"),i(1515)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpDataComponent=void 0;let l=class QpDataComponent{constructor(e,t){this.container=e,this.eventAggregator=t,this.registered=!1;const i=this.eventAggregator.subscribe("data-components-initialized",(e=>{const t=(e||[]).filter((e=>e.name===this.name)).map((e=>e.component));t.length&&(this.component=t[0],this.component.hidden=this.hidden),i.dispose()}));this.model={container:e}}attached(){this.registered||(this.registered=(0,n.registerDataComponentOnScreen)(this.screen,this.name,this.container))}};i.__decorate([o.bindable,i.__metadata("design:type",String)],l.prototype,"name",void 0),i.__decorate([o.bindable,i.__metadata("design:type",a.PXScreen)],l.prototype,"screen",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Boolean)],l.prototype,"hidden",void 0),l=i.__decorate([o.autoinject,o.containerless,(0,o.customElement)("qp-data-component"),i.__metadata("design:paramtypes",[o.Container,r.EventAggregator])],l),t.QpDataComponent=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/data-components/qp-data-components":(e,t,i)=>{var n,r;n=[i,t,i(655),i(6646),i("aurelia-event-aggregator"),i("aurelia-framework"),i(1515)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpDataComponents=void 0;let l=class QpDataComponents{constructor(e,t){this.container=e,this.eventAggregator=t,this.registered=!1,this.items=[],this.eventAggregator.subscribe("data-components-initialized",(t=>{const i=(null!=t?t:[]).filter((e=>!!this.category&&e.category===this.category&&!this.items.some((t=>t.name===e.name))));this.items.push(...i.map((t=>({name:t.name,model:{container:e},component:t.component}))))}))}attached(){this.registered||this.category&&(this.registered=(0,n.registerDataComponentsOnScreenByCategory)(this.screen,this.category,this.container))}};i.__decorate([o.bindable,i.__metadata("design:type",String)],l.prototype,"category",void 0),i.__decorate([o.bindable,i.__metadata("design:type",a.PXScreen)],l.prototype,"screen",void 0),l=i.__decorate([o.autoinject,o.containerless,(0,o.customElement)("qp-data-components"),i.__metadata("design:paramtypes",[o.Container,r.EventAggregator])],l),t.QpDataComponents=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/field-pair/qp-field-pair":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("client-controls/controls/container/field/qp-field"),i(829),i(6158),i(2172)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFieldPairCustomElement=void 0;let d=class QpFieldPairCustomElement extends o.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,this.firstConfig={},this.secondConfig={},this.addConfigSetter("viewModel",(e=>this.view=e)),this.addConfigSetter("secondName",(e=>this.secondName=e))}get firstControlType(){return this.firstState?(0,r.getDefaultControlType)(this.firstState):void 0}get secondControlType(){return this.secondState?(0,r.getDefaultControlType)(this.secondState):void 0}stateChanged(e,t){var i,n;super.stateChanged(e,t),this.firstState=this.state,this.firstConfig.id=`ed${null===(i=this.view)||void 0===i?void 0:i.name}-${null===(n=this.firstState)||void 0===n?void 0:n.name}`}secondNameChanged(e){var t,i,n;this.secondState=null===(t=this.view)||void 0===t?void 0:t.getField(e),this.secondConfig.id=`ed${null===(i=this.view)||void 0===i?void 0:i.name}-${null===(n=this.secondState)||void 0===n?void 0:n.name}`}};i.__decorate([n.bindable,i.__metadata("design:type",l.PXFieldState)],d.prototype,"state",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],d.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",l.PXView)],d.prototype,"view",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],d.prototype,"secondName",void 0),i.__decorate([(0,n.computedFrom)("firstState.type","firstState.viewName","firstState.options","firstState.inputMask"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],d.prototype,"firstControlType",null),i.__decorate([(0,n.computedFrom)("secondState.type","secondState.viewName","secondState.options","secondState.inputMask"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],d.prototype,"secondControlType",null),d=i.__decorate([(0,n.customElement)("qp-field-pair"),n.autoinject,i.__metadata("design:paramtypes",[Element,a.Container])],d),t.QpFieldPairCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},1823:(e,t,i)=>{var n,r;n=[i,t,i(655),i(6778)],r=function(e,t,i,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.OwnBindingBehavior=void 0;let o=r=class OwnBindingBehavior{bind(e,t){var i,r,o,a;if(null===(r=null===(i=e.sourceExpression)||void 0===i?void 0:i.args)||void 0===r?void 0:r.length){const i=null===(o=e.sourceExpression)||void 0===o?void 0:o.args[0].name,n=null===(a=null==t?void 0:t.resources)||void 0===a?void 0:a.getBindingBehavior(i);if(n)return void n.bind(e,t)}const l=e.targetProperty.split(/(?=[A-Z])/).map((e=>e.toLowerCase())).join("-");e.targetObserver=new n.DataAttributeObserver(e.target,l)}unbind(e,t){var i,n,r,o;if(null===(n=null===(i=e.sourceExpression)||void 0===i?void 0:i.args)||void 0===n?void 0:n.length){const i=null===(r=e.sourceExpression)||void 0===r?void 0:r.args[0].name,n=null===(o=null==t?void 0:t.resources)||void 0===o?void 0:o.getBindingBehavior(i);n&&n.unbind(e,t)}}};o.BehaviorName="own",o=r=i.__decorate([(0,n.bindingBehavior)(r.BehaviorName)],o),t.OwnBindingBehavior=o}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/field/qp-field":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2172),i(4609),i(1823)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findElementsByLabel=t.getDefaultControlType=t.QpFieldCustomElement=void 0;let l=class QpFieldCustomElement{constructor(e,t){var i;this.element=e,this.controlType=void 0,this.caption=void 0,this.controlSize=void 0,this.customType=!0,this.controlConfig={},this.collapsed=!1,this.stateExpr=this.element.getAttribute("control-state.bind"),this.proxyExpressions=null===(i=t.expressions)||void 0===i?void 0:i.filter((e=>e.sourceExpression.name!==a.OwnBindingBehavior.BehaviorName));for(const e of this.proxyExpressions||[])e.targetProperty.length>6&&e.targetProperty.startsWith("config")&&this.controlConfig&&(e.targetProperty=e.targetProperty[6].toLowerCase()+e.targetProperty.substring(7),e.bindTo=this.controlConfig)}collapse(){this.collapsed=!0}expand(){this.collapsed=!1}isCollapsed(){return this.collapsed}bind(e,t){if(this.controlConfig.id=this.controlId,this.controlConfig.tabIndex=this.tabIndex,!this.controlConfig.id&&this.stateExpr){const e=2,t=this.stateExpr.split(".",e);t.length===e&&(this.controlConfig.id=this.controlId=`ed${t[0]}-${t[1]}`)}this.pinnedChanged(),this.noLabelChanged()}noLabelChanged(){"false"===this.noLabel?this.noLabel=!1:"string"==typeof this.noLabel&&(this.noLabel=!0)}pinnedChanged(){"false"===this.pinned?this.pinned=!1:"string"==typeof this.pinned&&(this.pinned=!!this.pinned)}get label(){var e;if(!this.noLabel)return this.suppressLabel?"":null!=this.caption?this.caption:this.controlDisplayField?this.controlDisplayField.displayName:null===(e=this.controlState)||void 0===e?void 0:e.displayName}get suppressLabel(){var e,t;return!!this.noLabel||("qp-check-box"===this.controlType||(null===(e=this.controlState)||void 0===e?void 0:e.type)===r.NetType.Boolean||(null===(t=this.controlState)||void 0===t?void 0:t.suppressLabel))}get defaultControlType(){const e=this.controlState;return this.customType&&(null==e?void 0:e.controlType)?null==e?void 0:e.controlType:getDefaultControlType(e)}get effectiveControlType(){return this.controlType||this.defaultControlType}get errorMessage(){var e,t;return null!==(t=null===(e=this.controlState)||void 0===e?void 0:e.error)&&void 0!==t?t:this.controlErrorMessage}get errorLevel(){var e,t;return null!==(t=null===(e=this.controlState)||void 0===e?void 0:e.errorLevel)&&void 0!==t?t:this.controlErrorLevel}get errorCssClass(){if(!this.errorMessage)return"";switch(this.errorLevel){case r.PXErrorLevel.Error:case r.PXErrorLevel.RowError:return"err-l";case r.PXErrorLevel.Warning:case r.PXErrorLevel.RowWarning:return"war-l";case r.PXErrorLevel.RowInfo:return"inf-l";default:return""}}};function getDefaultControlType(e){if(null==e?void 0:e.viewName)return e.segments&&e.lookupMode!==r.DimensionLookupMode.BySegmentedKeys?"qp-segmented-selector":"qp-selector";switch(null==e?void 0:e.type){case r.NetType.Boolean:return"qp-check-box";case r.NetType.SByte:case r.NetType.Byte:case r.NetType.Int16:case r.NetType.UInt16:case r.NetType.Int32:case r.NetType.UInt32:case r.NetType.Int64:case r.NetType.UInt64:return(null==e?void 0:e.options)?"qp-drop-down":"qp-number-editor";case r.NetType.Single:case r.NetType.Double:case r.NetType.Decimal:return"qp-number-editor";case r.NetType.DateTime:return"qp-datetime-edit";case r.NetType.String:return(null==e?void 0:e.options)?e.isColorState?"qp-color-picker":"qp-drop-down":(null==e?void 0:e.inputMask)?"qp-mask-editor":"qp-text-editor";default:return"qp-text-editor"}}function findElementsByLabel(e,t){var i,n,r,o,a,l,d;const c=[];e=e.toUpperCase(),t||(t=document.body);const p=t.querySelectorAll("label");for(let n=0;n<p.length;++n){const r=p[n];if(r.innerText.trim().toUpperCase()!==e)continue;let o="qp-field",a=r.closest(o);if(!a){o="qp-text-editor";const e=t.querySelector(`#${r.getAttribute("for")}`);a=null!==(i=null==e?void 0:e.closest(o))&&void 0!==i?i:null}a&&c.push({type:o,VM:a.au.controller.viewModel})}const u=t.querySelectorAll("qp-tool-bar");for(let t=0;t<u.length;++t){const i=u[t];if(!(null===(r=null===(n=null==i?void 0:i.au)||void 0===n?void 0:n.controller)||void 0===r?void 0:r.viewModel))continue;const l=i.au.controller.viewModel;let d;const p=l.items.findIndex((t=>{var i,n,r,o;switch(t.type){case"MenuButton":{const r=t;if((null===(i=null==r?void 0:r.text)||void 0===i?void 0:i.toUpperCase())===e)return!0;if((null===(n=null==r?void 0:r.toolTip)||void 0===n?void 0:n.toUpperCase())===e)return!0;break}case"MenuOptions":{const i=t;for(const t of i.options)if((null===(r=null==t?void 0:t.text)||void 0===r?void 0:r.toUpperCase())===e||(null===(o=null==t?void 0:t.toolTip)||void 0===o?void 0:o.toUpperCase())===e)return d=t,!0;break}}return!1}));if(p>=0){const e=l.items[p];"MenuButton"===e.type?c.push({type:"ToolbarButton",VM:e,qpToolbarVM:l}):"MenuOptions"===e.type&&c.push({type:"ToolbarOptions",VM:d,parentVM:e,qpToolbarVM:l})}for(let t=0;t<l.menu.length;++t)for(let i=0;i<l.menu[t].length;++i){const n=l.menu[t][i];switch(n.type){case"MenuButton":{const t=n;(null===(o=null==t?void 0:t.text)||void 0===o?void 0:o.toUpperCase())!==e&&(null===(a=null==t?void 0:t.toolTip)||void 0===a?void 0:a.toUpperCase())!==e||c.push({type:"ToolbarMenuItem",VM:t,qpToolbarVM:l});break}}}}const h=t.querySelectorAll("qp-button > button");for(let t=0;t<h.length;++t){const i=h[t];if(i.innerText.trim().toUpperCase()!==e)continue;const n=i.closest("qp-button");n&&c.push({type:"qp-button",VM:n.au.controller.viewModel})}const g=t.querySelectorAll("qp-menu");for(let t=0;t<g.length;++t){const i=g[t];if(i.closest("qp-tool-bar"))continue;if(!(null===(d=null===(l=null==i?void 0:i.au)||void 0===l?void 0:l.controller)||void 0===d?void 0:d.viewModel))continue;const n=i.au.controller.viewModel,r=n.config.options.findIndex((t=>{var i,n;return"MenuButton"===(null==t?void 0:t.type)&&(null===(i=null==t?void 0:t.text)||void 0===i?void 0:i.toUpperCase())===e||(!(""!==(null==t?void 0:t.type)||!(null===(n=null==t?void 0:t.text)||void 0===n?void 0:n.toUpperCase().startsWith(`<DIV CLASS='QP-MENU-LABEL'>${e}`)))||void 0)}));if(r>=0){const e=n.config.options[r];c.push({type:"MenuButton",VM:e,qpMenuVM:n})}}return c}i.__decorate([n.bindable,i.__metadata("design:type",String)],l.prototype,"controlId",void 0),i.__decorate([n.bindable,i.__metadata("design:type",r.PXFieldState)],l.prototype,"controlState",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"controlType",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],l.prototype,"caption",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"controlSize",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"customType",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"noLabel",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"controlConfig",void 0),i.__decorate([n.bindable,i.__metadata("design:type",r.PXFieldState)],l.prototype,"controlDisplayField",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],l.prototype,"noIcon",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],l.prototype,"controlErrorMessage",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],l.prototype,"controlErrorLevel",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"context",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],l.prototype,"collapsed",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"pinned",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],l.prototype,"tabIndex",void 0),i.__decorate([(0,n.computedFrom)("controlState.displayName","controlState.suppressLabel","controlState.type","controlType","controlDisplayField"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],l.prototype,"label",null),i.__decorate([(0,n.computedFrom)("controlState.suppressLabel","controlState.type","controlType"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],l.prototype,"suppressLabel",null),i.__decorate([(0,n.computedFrom)("controlState.type","controlState.viewName","controlState.options","controlState.inputMask","controlState.controlType"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],l.prototype,"defaultControlType",null),i.__decorate([(0,n.computedFrom)("controlState.error","controlErrorMessage"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],l.prototype,"errorMessage",null),i.__decorate([(0,n.computedFrom)("controlState.errorLevel","controlErrorLevel"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],l.prototype,"errorLevel",null),i.__decorate([(0,n.computedFrom)("controlState.errorLevel","controlState.error","controlErrorMessage","controlErrorLevel"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],l.prototype,"errorCssClass",null),l=i.__decorate([(0,n.customElement)("qp-field"),i.__metadata("design:paramtypes",[Element,n.TargetInstruction])],l),t.QpFieldCustomElement=l,t.getDefaultControlType=getDefaultControlType,t.findElementsByLabel=findElementsByLabel,(0,o.registerQAObject)("getDefaultControlType",getDefaultControlType),(0,o.registerQAObject)("findElementsByLabel",findElementsByLabel)}.apply(t,n),void 0===r||(e.exports=r)},351:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(3108),i(4834)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldsetConfigurationService=void 0;let a=class FieldsetConfigurationService{constructor(e){this.screenService=e}getFieldsetFields(e,t,n,o,a,l,d){var c,p,u,h,g,m,f,v,b;return i.__awaiter(this,void 0,void 0,(function*(){const i=this.screenService.getViewsInfo();if(!i)throw new Error("Screen should have any structure data");const y=[],x=[],C={},_={},S={};for(const e in i){const t=!o||o===e,n=i[e],r={id:e,name:e,visible:!0,children:(null==n?void 0:n.map((i=>{var n,r;const o=`${e}.${i.fieldName}`;let l=a[o]||_[o];return l||(l=d(e,i.fieldName),l&&(_[o]=l)),t&&((null==l?void 0:l.primaryKey)||(null==l?void 0:l.required))&&(S[o]=!0),{id:o,name:(null===(n=i.fieldState)||void 0===n?void 0:n.text)||(null==l?void 0:l.displayName)||i.fieldName,parentId:e,visible:!!(null===(r=i.fieldState)||void 0===r?void 0:r.visible),tabSkip:!1,pinned:!1,required:t&&(null==l?void 0:l.required),deletable:!1}})))||[]};r.children.length>0&&(y.push(r),x.push(...r.children),C[r.id]=r)}const E=[{id:e,name:t,visible:!0,children:[]}],q={};for(const e of n){const t=`${e.viewName||o}.${e.name}`,i=a[t]||_[t],n={id:t,name:(null==i?void 0:i.displayName)||e.name||"",visible:null==i?void 0:i.visible,tabSkip:!1,pinned:void 0===e.pinned?S[t]:e.pinned,deletable:!1,required:(!o||e.viewName===o)&&(null==i?void 0:i.required),parentId:e.viewName||o||""};E[0].children.push(n),q[t]=n}const k=(null===(c=null==l?void 0:l.preferences)||void 0===c?void 0:c.fieldOrder)||n.map((e=>`${e.viewName||o}.${e.name}`)),M={},T=[{id:e,name:(null===(p=null==l?void 0:l.preferences)||void 0===p?void 0:p.fieldsetName)||t,visible:!(null===(u=null==l?void 0:l.preferences)||void 0===u?void 0:u.fieldsetCaptionHidden),children:[]}];for(const e of k){const t=a[e]||_[e],i=e.split("."),d=n.find((e=>e.viewName===i[0]&&e.name===i[1])),c={id:e,name:(null==t?void 0:t.displayName)||(null==t?void 0:t.name)||"",visible:!(0,r.getBooleanOrDefault)(null===(g=null===(h=null==l?void 0:l.preferences)||void 0===h?void 0:h.hidden)||void 0===g?void 0:g[e],!(null==t?void 0:t.visible)),tabSkip:(0,r.getBooleanOrDefault)(null===(f=null===(m=null==l?void 0:l.preferences)||void 0===m?void 0:m.tabSkip)||void 0===f?void 0:f[e],!1),pinned:(0,r.getBooleanOrDefault)(null===(b=null===(v=null==l?void 0:l.preferences)||void 0===v?void 0:v.pinned)||void 0===b?void 0:b[e],void 0===(null==d?void 0:d.pinned)?S[e]:d.pinned),required:(!o||i[0]===o)&&(null==t?void 0:t.required),deletable:!q[e],parentId:i[0]||(null==t?void 0:t.viewName)||""};T[0].children.push(c),M[c.id]=c}return{isAdmin:!0,allFields:y,choosenFields:T,availableFields:x.filter((e=>!M[e.id])).reduce(((e,t)=>{const i=t.parentId||"";let n=e.find((e=>e.id===i));return n||(n={id:i,children:[],name:i,visible:!0},e.push(n)),n.children.push(t),e}),new Array),defaultChoosenFields:E,allFieldsMap:C,keyFields:S}}))}};a=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[o.ScreenService])],a),t.FieldsetConfigurationService=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/fieldset/inline-view":(e,t,i)=>{var n,r;n=[i,t,i(655),i(6778),i("aurelia-framework")],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineView=void 0;let o=class InlineView{constructor(e,t,i,n){this.viewCompiler=e,this.viewSlot=t,this.container=i,this.viewResources=n,this.contextContainer=!0,this.viewCompiler=e,this.viewSlot=t,this.container=i,this.viewResources=n}bind(e,t){this.overrideContext=(0,n.createOverrideContext)(this.context,t)}attached(){this.refreshTemplate()}refreshTemplate(){const e=this.viewCompiler.compile(`<template>${this.template}</template>`,this.viewResources);!0!==this.contextContainer&&"true"!==this.contextContainer||!this.context.container||(this.container=this.context.container);const t=e.create(this.container);t.bind(this.context,this.overrideContext),this.viewSlot.removeAll(!1,!0),this.viewSlot.add(t),this.viewSlot.attached()}};i.__decorate([(0,r.bindable)({defaultBindingMode:r.bindingMode.toView}),i.__metadata("design:type",String)],o.prototype,"template",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],o.prototype,"context",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],o.prototype,"contextContainer",void 0),o=i.__decorate([r.noView,r.autoinject,r.containerless,i.__metadata("design:paramtypes",[r.ViewCompiler,r.ViewSlot,r.Container,r.ViewResources])],o),t.InlineView=o}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/fieldset/qp-edit-field-parent":(e,t,i)=>{var n,r;n=[i,t,i(655),i(6778),i("aurelia-framework"),i(133),i(4026)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpEditFieldParentCustomElement=void 0;let l=class QpEditFieldParentCustomElement{constructor(){this.hovered=!1,this.selected=!1,this.isEditingName=!1}get active(){return this.hovered||this.selected}activate(){this.dragColType||(this.hovered=!0)}deactivate(){this.hovered=!1}processDragOver(e){return e.preventDefault(),this.onDragEvent(e,o.EditElementEvents.dragOver)}processDragLeave(e){return e.preventDefault(),this.onDragEvent(e,o.EditElementEvents.dragLeave)}processDrop(e){return e.preventDefault(),this.onDragEvent(e,o.EditElementEvents.drop)}processClick(){return this.selected=!this.selected,!0}switchVisible(e){return e.stopPropagation(),this.config.visible=!this.config.visible,(0,a.dispatchEditEvent)(o.EditElementEvents.preferenceChanged,{preferenceName:"fieldsetCaptionHidden",newValue:!this.config.visible}),!0}stopEditing(e){e.preventDefault(),e.stopImmediatePropagation(),this.isEditingName=!1,document.body.removeEventListener("click",this.onBodyClick)}onBodyClick(e){if(!this.editingElement)return;const t=this.editingElement.getBoundingClientRect();(e.pageX<t.left||e.pageX>t.right||e.pageY<t.top||e.pageY>t.bottom)&&this.stopEditing(e)}startEditName(e){return this.isEditingName=!0,document.body.addEventListener("click",(e=>this.onBodyClick(e))),this.editedName=this.config.name,this.prevEditedName=this.config.name,e.stopPropagation(),setTimeout((()=>{var e;const t=null===(e=this.editingElement)||void 0===e?void 0:e.firstElementChild;t&&(t.focus(),t.setSelectionRange(0,t.value.length))}),1),!0}processEditorChange(){return this.config.name=this.editedName,(0,a.dispatchEditEvent)(o.EditElementEvents.preferenceChanged,{preferenceName:"fieldsetName",newValue:this.config.name}),!0}processEditorKeyDown(e){return"Enter"!==e.key&&"Escape"!==e.key&&"Tab"!==e.key||("Escape"===e.key&&(this.editedName=this.prevEditedName,this.processEditorChange()),this.stopEditing(e)),!0}onDragEvent(e,t){return e.stopPropagation(),(0,a.dispatchEditEvent)(t,{originalEvent:e,item:this.config,itemType:o.EditElementType.choosen}),!0}};i.__decorate([r.bindable,i.__metadata("design:type",Object)],l.prototype,"config",void 0),i.__decorate([r.bindable,i.__metadata("design:type",String)],l.prototype,"dragColType",void 0),i.__decorate([(0,n.computedFrom)("hovered","selected"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],l.prototype,"active",null),l=i.__decorate([r.containerless],l),t.QpEditFieldParentCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/fieldset/qp-fieldset-edit":(e,t,i)=>{var n,r;n=[i,t,i(655),i(2594),i("aurelia-framework"),i(871),i(6778),i("aurelia-dialog"),i(8755),i(3108),i(133),i(4026)],r=function(e,t,i,n,r,o,a,l,d,c,p,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFieldsetEditCustomElement=void 0;let h=class QpFieldsetEditCustomElement extends d.BaseDialogWithEvents{constructor(e,t){super(t,e,!1),this.controller=e,this.msg=n.Messages,this.leftDropZoneActive=!1,this.leftItemActions=f}activate(e){this.config=e,this.baseDialogConfig={dialogTitle:e.dialogTitle,containerClass:"edit-fieldset-container",getResult:()=>this.fieldsetPreferences,resetToDefault:()=>this.resetConfigurationToDefault()},this.leftEditFieldOptions={showItemId:e.showItemId,itemType:p.EditElementType.available},this.rightEditFieldOptions={showItemId:e.showItemId,itemType:p.EditElementType.choosen,showRequired:!0,dropEvents:!0},this.availableFields=(0,c.cloneFieldList)(e.availableFields),this.choosenFields=(0,c.cloneFieldList)(e.choosenFields),this.resetFilters(),this.attachEvents(),this.selectedAvailableFields=[],this.selectedChoosenFields=[],this.rightItemActions=getRightColumnItemActions(),this.fieldsetPreferences=this.config.preferences?Object.assign(Object.assign({},this.config.preferences),{preferences:this.config.preferences.preferences?Object.assign({},this.config.preferences.preferences):{}}):void 0}resetConfigurationToDefault(){const e=this.config.defaultChoosenFields.reduce(((e,t)=>(t.children.forEach((t=>e[t.id]=!0)),e)),{}),t=this.config.allFields.map((t=>{const i=t.children.reduce(((t,i)=>(e[i.id]||t.push(Object.assign({},i)),t)),[]);return Object.assign(Object.assign({},t),{children:i})})).filter((e=>e.children.length>0));this.availableFields=(0,c.cloneFieldList)(t),this.choosenFields=(0,c.cloneFieldList)(this.config.defaultChoosenFields),this.fieldsetPreferences=this.config.preferences?Object.assign(Object.assign({},this.config.preferences),{preferences:this.config.preferences.preferences?Object.assign({},this.config.preferences.preferences):{}}):void 0,this.resetFilters()}searchAvailableFields(e){(e||this.availableFieldsFilter!==this.prevAvailableFieldsFilter)&&(this.currentAvailableFields=(0,c.filterFieldList)(this.availableFields,this.availableFieldsFilter,{searchParent:!0,toogleCollapse:!0,sort:!0,primaryViewId:this.config.primaryViewId}),this.prevAvailableFieldsFilter=this.availableFieldsFilter)}searchChoosenFields(){this.currentChoosenFields=(0,c.filterFieldList)(this.choosenFields,this.choosenFieldsFilter,{searchInChildViewId:!0,leaveEmptyParents:!0})}resetFilters(){this.availableFieldsFilter="",this.choosenFieldsFilter="",this.searchChoosenFields(),this.searchAvailableFields(!0),this.selectedAvailableFields=[],this.selectedChoosenFields=[]}processDropOnColumn(e,t){e.dataTransfer&&this.dropFields(JSON.parse(e.dataTransfer.getData(g)),void 0,!1,t)}processDragOver(e,t,i,n){if(e.preventDefault(),t===p.EditElementType.available)return void(!this.leftDropZoneActive&&this.dragInfo&&this.dragInfo.colType===p.EditElementType.choosen&&this.dragInfo.fields.every((e=>e.deletable))&&(this.leftDropZoneActive=!0));let r=i;const o=this.currentChoosenFields[this.currentChoosenFields.length-1];r?(0,c.listParentTypeChecker)(r)&&(r=r.children[0]):this.currentChoosenFields&&this.currentChoosenFields.length>0&&(r=o.children.length>0?o.children[o.children.length-1]:void 0);const a=n||null==r?void 0:r.id,l=n?null==r?void 0:r.id:void 0;if(l===this.rightDropZoneAfterId&&a===this.rightDropZoneBeforeId)return;const d=r?o.children.findIndex((e=>e.id===(null==r?void 0:r.id))):-1;if(d>=(n?0:1)&&d<(n?o.children.length-1:o.children.length)){const e=n?o.children[d+1].id:o.children[d-1].id;if(n&&this.rightDropZoneBeforeId===e||!n&&this.rightDropZoneAfterId===e)return}this.rightDropZoneAfterId=l,this.rightDropZoneBeforeId=a}processDragLeave(e,t,i){if(e.preventDefault(),t===p.EditElementType.available){if(!i&&e.target!==this.leftColumnElement)return!0;this.leftDropZoneActive=!1}else{if(!i&&e.target!==this.rightColumnElement)return!0;this.rightDropZoneAfterId=void 0,this.rightDropZoneBeforeId=void 0}}processDragEnd(){this.leftDropZoneActive=!1,this.rightDropZoneAfterId=void 0,this.rightDropZoneBeforeId=void 0,this.dragInfo=void 0}selectField(e,t,i,n){(0,c.makeFieldSelection)(e,t,i,n===p.EditElementType.available?this.selectedAvailableFields:this.selectedChoosenFields,n===p.EditElementType.available?this.currentAvailableFields:this.currentChoosenFields,n===p.EditElementType.available?this.lastSelectedAvailableField:this.lastSelectedChoosenField),n===p.EditElementType.available?this.lastSelectedAvailableField=e:this.lastSelectedChoosenField=e}dropFields(e,t,i,r){if(this.processDragEnd(),!e||!e.fields||0===e.fields.length||e.colType===p.EditElementType.available&&r===p.EditElementType.available)return;const o=this.availableFields.reduce(((e,t)=>(e[t.id]=t,e)),{}),a=this.choosenFields.reduce(((e,t)=>{var i;return null===(i=t.children)||void 0===i||i.forEach((i=>e[i.id]=t)),e}),{}),l=this.config.defaultChoosenFields.reduce(((e,t)=>(t.children.forEach((t=>{e[t.id]=!0})),e)),{});if(r===p.EditElementType.available){if(e.fields.some((e=>!e.deletable)))return;for(const t of e.fields){const e=this.currentChoosenFields.find((e=>{var i;return null===(i=e.children)||void 0===i?void 0:i.some((e=>e.id===t.id))}));if(!e)throw"No parent!";let i=o[t.parentId];const n=this.config.allFieldsMap[t.parentId];i||(i=Object.assign(Object.assign({},n),{collapsed:!0,children:[]}),o[i.id]=i,(0,c.addItemToArrayWithReference)(this.availableFields,i,this.config.allFields)),(0,c.addItemToArrayWithReference)(i.children,t,n.children),e.children.splice(e.children.findIndex((e=>e.id===t.id)),1),0===e.children.length&&this.choosenFields.length>1&&this.choosenFields.splice(this.choosenFields.indexOf(e),1)}}else{let r=!t||(0,c.listParentTypeChecker)(t)?this.choosenFields.find(((e,i,n)=>!t&&i===n.length-1||e.id===(null==t?void 0:t.id))):a[t.id];r||(r={name:n.Messages.Untitled,id:n.Messages.Untitled,children:[],visible:!0,collapsed:!0},this.choosenFields.push(r));let d=0;d=t?r.children.findIndex((e=>e.id===t.id))+(i?0:1):r.children.length,e.colType===p.EditElementType.available?e.fields.forEach((e=>{const t=o[e.parentId];t&&t.children&&(t.children.splice(t.children.findIndex((t=>t.id===e.id)),1),0===t.children.length&&(delete o[t.id],this.availableFields.splice(this.availableFields.findIndex((e=>e.id===t.id)),1)))})):e.fields.forEach((e=>{const t=a[e.id];if(!t.children)return;const i=t.children.findIndex((t=>t.id===e.id));t.children.splice(i,1),a[e.id]=r,i<=d&&d--}));const u=e.fields.map((e=>Object.assign(Object.assign({},e),{deletable:!l[e.id]})));d<=0?r.children.unshift(...u):d<r.children.length?r.children.splice(d,0,...u):r.children.push(...u)}const d=this.choosenFields.reduce(((e,t)=>[...e,...t.children.map((e=>(l[e.id]&&(l[e.id]=!1),e.id)))]),[]),h=Object.keys(l).filter((e=>l[e])).reduce(((e,t)=>(e[t]=!0,e)),{});(0,u.dispatchEditEvent)(p.EditElementEvents.preferenceChanged,{preferenceName:"fieldOrder",newValue:d}),(0,u.dispatchEditEvent)(p.EditElementEvents.preferenceChanged,{preferenceName:"deletedFields",newValue:h}),this.resetFilters()}toggleCollapse(e){e.collapsed=!e.collapsed}focusRightFilter(){this.rightFilterHasFocus=!0,this.rightFilterInput.setSelectionRange(0,this.rightFilterInput.value.length)}focusLeftFilter(){this.leftFilterHasFocus=!0,this.leftFilterInput.setSelectionRange(0,this.leftFilterInput.value.length)}blurRightFilter(){this.rightFilterHasFocus=!1}blurLeftFilter(){this.leftFilterHasFocus=!1}attachEvents(){this.addEventListner(document.body,p.EditElementEvents.activated,(e=>{e.detail.hovered=!0})),this.addEventListner(document.body,p.EditElementEvents.deactivated,(e=>{e.detail.hovered=!1})),this.addEventListner(document.body,p.EditElementEvents.select,(e=>{var t;(null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)&&this.selectField(e.detail.item,e.detail.originalEvent.ctrlKey,e.detail.originalEvent.shiftKey,e.detail.itemType)})),this.addEventListner(document.body,p.EditElementEvents.dragStart,(e=>{var t,i;if(!(null===(i=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===i?void 0:i.dataTransfer))return;const n=e.detail.itemType===p.EditElementType.available?this.selectedAvailableFields:this.selectedChoosenFields,r={colType:e.detail.itemType,fields:n&&n.length?n:[e.detail.item]};e.detail.originalEvent.dataTransfer.effectAllowed="move",e.detail.originalEvent.dataTransfer.setData(g,JSON.stringify(r)),this.dragInfo=r})),this.addEventListner(document.body,p.EditElementEvents.dragOver,(e=>{var t,i;(null===(i=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===i?void 0:i.dataTransfer)&&(e.detail.originalEvent.dataTransfer.dropEffect="move",this.processDragOver(e.detail.originalEvent,e.detail.itemType,e.detail.item,!!e.detail.after))})),this.addEventListner(document.body,p.EditElementEvents.dragLeave,(e=>{var t,i;(null===(i=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===i?void 0:i.dataTransfer)&&this.processDragLeave(e.detail.originalEvent,e.detail.itemType,e.detail.item)})),this.addEventListner(document.body,p.EditElementEvents.drop,(e=>{var t,i;(null===(i=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===i?void 0:i.dataTransfer)&&this.dropFields(JSON.parse(e.detail.originalEvent.dataTransfer.getData(g)),e.detail.item,!e.detail.after,e.detail.itemType)})),this.addEventListner(document.body,p.EditElementEvents.unchooseElement,(e=>{this.dropFields({colType:p.EditElementType.choosen,fields:[e.detail.item]},void 0,!1,p.EditElementType.available)})),this.addEventListner(document.body,p.EditElementEvents.preferenceChanged,(e=>{this.fieldsetPreferences=this.fieldsetPreferences||new o.FieldsetPreferences;const t=this.fieldsetPreferences.preferences;if(e.detail.fieldId){if(t[e.detail.preferenceName]=t[e.detail.preferenceName]||{},t[e.detail.preferenceName][e.detail.fieldId]=e.detail.newValue,e.detail.newFieldView){const t=this.choosenFields[0].children.findIndex((t=>{var i;return t.id===(null===(i=e.detail.newFieldView)||void 0===i?void 0:i.id)}));t>-1&&(this.choosenFields[0].children[t]=e.detail.newFieldView)}}else t[e.detail.preferenceName]=e.detail.newValue})),this.addEventListner(document.body,p.EditElementEvents.addElementToEnd,(e=>{this.dropFields({colType:e.detail.itemType,fields:[e.detail.item]},void 0,!1,p.EditElementType.choosen)}))}};i.__decorate([r.bindable,i.__metadata("design:type",String)],h.prototype,"availableFieldsFilter",void 0),i.__decorate([r.bindable,i.__metadata("design:type",String)],h.prototype,"choosenFieldsFilter",void 0),h=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[l.DialogController,a.EventManager])],h),t.QpFieldsetEditCustomElement=h;const g="fielditem",m={isEnabled:()=>!0,isReadonly:()=>!1,getState:()=>""},getRightColumnItemActions=()=>[Object.assign(Object.assign({},m),{className:"edit-field-icon--recycle",isVisible:(e,t)=>e&&t.deletable,onClick:e=>((0,u.dispatchEditEvent)(p.EditElementEvents.unchooseElement,{item:e,itemType:p.EditElementType.choosen}),e),getIcon:e=>"svg:main@recycle"}),Object.assign(Object.assign({},m),{className:"edit-field-icon--tabskip",isVisible:(e,t)=>e||t.tabSkip,isEnabled:(e,t)=>t.visible,onClick:e=>(e=Object.assign(Object.assign({},e),{tabSkip:!e.tabSkip}),(0,u.dispatchEditEvent)(p.EditElementEvents.preferenceChanged,{fieldId:e.id,preferenceName:"tabSkip",newValue:e.tabSkip,newFieldView:e}),e),getIcon:e=>"svg:main@"+(e.tabSkip?"tab_off":"tab_on"),getState:e=>""+(e.tabSkip?"tab_off":"tab_on")}),Object.assign(Object.assign({},m),{className:"edit-field-icon--pinned",isVisible:(e,t)=>e||t.pinned,isEnabled:(e,t)=>t.visible,onClick:e=>(e=Object.assign(Object.assign({},e),{pinned:!e.pinned}),(0,u.dispatchEditEvent)(p.EditElementEvents.preferenceChanged,{fieldId:e.id,preferenceName:"pinned",newValue:e.pinned,newFieldView:e}),e),getIcon:e=>"svg:main@"+(e.pinned?"pinned":"unpinned"),getState:e=>""+(e.pinned?"pinned":"unpinned")}),Object.assign(Object.assign({},m),{className:"edit-field-icon--eye",isVisible:(e,t)=>e||!t.visible,onClick:e=>(e=Object.assign(Object.assign({},e),{visible:!e.visible}),(0,u.dispatchEditEvent)(p.EditElementEvents.preferenceChanged,{fieldId:e.id,preferenceName:"hidden",newValue:!e.visible,newFieldView:e}),e),getIcon:e=>"svg:main@eye"+(e.visible?"":"Closed"),getState:e=>""+(e.visible?"eye_opened":"eye_closed")})],f=[Object.assign(Object.assign({},m),{className:"edit-field-icon--arrow",isVisible:(e,t)=>e,onClick:e=>((0,u.dispatchEditEvent)(p.EditElementEvents.addElementToEnd,{item:e,itemType:p.EditElementType.available}),e),getIcon:e=>"svg:main@arrorRight"})]}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/fieldset/qp-fieldset-layout":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(122)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFieldsetLayoutCustomElement=t.createFieldsetLayout=void 0;const o="qp-fieldset-layout";t.createFieldsetLayout=function createFieldsetLayout(e,t){const i=n.DOM.createElement(o);return i.setAttribute("use-multi.bind",t?"true":"false"),i.setAttribute("layout.bind",JSON.stringify(e)),i};let a=class QpFieldsetLayoutCustomElement{constructor(){this.layoutFields=[],this.inlineContext={},this.subscribedViews={},this.fieldCount=0,this.rows=[]}bind(e,t){let i=e,n=t.parentOverrideContext;for(;n&&!(i instanceof r.PXScreen);)i=n.bindingContext,n=n.parentOverrideContext;this.inlineContext=null!=i?i:{}}unbind(){this.unsubscribeViewHandlers()}attached(){this.layoutChanged(this.layout)}layoutChanged(e,t){e&&!t&&(this.layoutFields=[...e.fields],this.viewName=e.viewName,this.createFields())}viewChanged(e){if(this.fieldCount===this.layoutFields.length)return;const t=this.inlineContext[e];if(!t)return;0!==this.layoutFields.map((e=>t.getField(e.name))).filter((e=>!!e)).length&&this.createFields()}createFields(){this.unsubscribeViewHandlers();const getFieldState=(e,t)=>{if(e){const i=this.inlineContext[e];if(i){const n=i.getField(t);if(n)return n;this.subscribedViews[e]||(this.subscribedViews[e]=i.subscribeRowSelectedHandler(this.inlineContext,((t,i)=>this.viewChanged(e))))}}},e={columns:12,marginLeftColumns:0,marginRightColumns:0},fillPosition=t=>{var i,n,r,o;return{large:Object.assign(Object.assign({},e),null!==(i=t.large)&&void 0!==i?i:{}),medium:Object.assign(Object.assign({},e),null!==(r=null!==(n=t.medium)&&void 0!==n?n:t.large)&&void 0!==r?r:{}),small:Object.assign(Object.assign({},e),null!==(o=t.small)&&void 0!==o?o:{}),separateRow:t.separateRow}},t=this.layoutFields.map((e=>{var t,i,n;return Object.assign(Object.assign({},e),{viewName:null!==(i=null!==(t=e.viewName)&&void 0!==t?t:this.viewName)&&void 0!==i?i:"",state:getFieldState(null!==(n=e.viewName)&&void 0!==n?n:this.viewName,e.name),position:fillPosition(e.position)})})).filter((e=>!!e.state));let i={fields:[]};const n=[i],createNewRow=e=>e.position.separateRow;for(const e of t)createNewRow(e)?(0===i.fields.length?(i.verticalFit=!0,i.fields.push(e)):n.push({verticalFit:!0,fields:[e]}),i={fields:[]},n.push(i)):i.fields.push(e);0===i.fields.length&&n.pop(),this.fieldCount=t.length,this.rows=n}unsubscribeViewHandlers(){for(const e in this.subscribedViews)this.subscribedViews.hasOwnProperty(e)&&this.subscribedViews[e].dispose();this.subscribedViews={}}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"layout",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],a.prototype,"useMulti",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],a.prototype,"minWidth",void 0),a=i.__decorate([n.autoinject,(0,n.customElement)(o)],a),t.QpFieldsetLayoutCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/fieldset/qp-fieldset":(e,t,i)=>{var n,r;n=[i,t,i(655),i(351),i("aurelia-event-aggregator"),i(6158),i("aurelia-framework"),i(6778),i(4834),i(122),i(2172),i("aurelia-dialog"),i(3116),i("client-controls/controls/container/fieldset/qp-fieldset-edit"),i(871),i(7052),i(6361),i(4456),i("client-controls/controls/dialog/informer/qp-informer-rack")],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g,m,f,v,b,y){"use strict";var x;Object.defineProperty(t,"__esModule",{value:!0}),t.QpFieldsetCustomElement=void 0;let C=x=class QpFieldsetCustomElement{constructor(e,t,i,n,o,l,d,c,u,h,g,m){this.element=e,this.container=t,this.dialogService=n,this.eventManager=o,this.configureFieldset=l,this.preferencesService=d,this.preferencesApi=c,this.screenService=u,this.tq=h,this.featuresService=g,this.fieldDefaultsService=m,this.controlSize=void 0,this.viewMode=p.ViewMode.View,this.inlineContext={},this.fieldNames=[],this.fields=new p.CaseInsensitiveMap,this.hasVisibleControls=!1,this.hasNotCollapsedFields=!0,this.eventSubscriptions=[],this.bindingEngine=t.get(a.BindingEngine),this.eventAggregator=t.get(r.EventAggregator),this.replaceElements=i.elementInstruction.replaceParts,this.insertElements=i.elementInstruction.insertParts,this.existingFields=i.elementInstruction.existingFields,this.dataFields=i.elementInstruction.dataFields,this.viewName=this.element.getAttribute("view.bind"),this.id=this.element.getAttribute("id"),requestAnimationFrame((()=>{window.getComputedStyle(e,null).backgroundColor}))}collapse(){this.collapsed=!0,this.tq.queueTask((()=>{const e=this.element.querySelectorAll("qp-field");for(let t=0;t<e.length;++t){if(e[t].scrollHeight)return void(this.hasNotCollapsedFields=!0)}this.hasNotCollapsedFields=!1}))}expand(){this.collapsed=!1}isCollapsed(){return this.collapsed}saveUserPreferences(){var e;return i.__awaiter(this,void 0,void 0,(function*(){this.preferences=this.preferences||{},this.preferences.user=(null===(e=this.preferences)||void 0===e?void 0:e.user)||new m.FieldsetPreferences,this.preferences.user.preferences.collapsed=this.collapsed,yield this.preferencesApi.savePreferences(this.inlineContext.screenID,this.id,this.preferences.user)}))}toggleShrinking(){this.element.querySelectorAll("qp-field").forEach((e=>{var t,i;const n=null===(i=null===(t=null==e?void 0:e.au)||void 0===t?void 0:t.controller)||void 0===i?void 0:i.viewModel;n&&(this.collapsed?n.expand&&n.expand():n.collapse&&n.collapse())})),this.collapsed=!this.collapsed,this.onCollapsedChanged(this.collapsed)}applyPreferences(e){var t,i;this.preferences=e,(null==e?void 0:e.user)&&void 0!==(null===(t=e.user.preferences)||void 0===t?void 0:t.collapsed)&&(this.collapsed=null===(i=e.user.preferences)||void 0===i?void 0:i.collapsed)}preferencesChanged(){this.recalcFields()}dataFieldsChanged(){this.recalcFields()}recalcFields(){var e,t;this.orderedFields=getOrderedFields(this.dataFields,null===(t=null===(e=this.preferences)||void 0===e?void 0:e.def)||void 0===t?void 0:t.preferences,(e=>this.getFieldViewName(e)),((e,t)=>this.getFieldState(e,t)),(e=>this.createFieldDescriptor(e)))}onCollapsedChanged(e){return i.__awaiter(this,void 0,void 0,(function*(){this.title&&!this.captionHidden&&(yield this.saveUserPreferences())}))}getCurrentView(){var e;return(null===(e=this.view)||void 0===e?void 0:e.isCollection())?this.view.activeRow:this.view}viewChanged(e,t){this.mapFields(e,!1)}mapFields(e,t){var i;const n=p.PXReflectionMetadata.getMetadata,handler=()=>{var e;this.fields.clear(),this.fieldNames.splice(0,this.fieldNames.length);const t=this.getCurrentView();if(t)for(const i of t.fieldNames)!0!==t.getField(i).skip&&((null===(e=this.existingFields)||void 0===e?void 0:e.find((e=>e.toLowerCase()===i.toLowerCase())))||this.group&&t.getField(i).group!==this.group||(this.fields.set(i,t.getField(i)),this.fieldNames.push(i)))};if(null===(i=this.fieldsSubscription)||void 0===i||i.dispose(),e){if(this.viewName){const e=n(this.inlineContext,this.viewName,"viewInfo");(null==e?void 0:e.displayName)&&(this.caption=e.displayName)}e.name=this.viewName||void 0,this.dataFields?t&&this.fields&&handler():e.fieldNames&&handler(),this.fieldsSubscription=this.bindingEngine.collectionObserver(e.fieldNames).subscribe(handler)}t&&this.recalcFields(),this.unregisterViewBinding(),this.registerViewBinding()}showEditDialog(){var e,t,n,r;return i.__awaiter(this,void 0,void 0,(function*(){let i;i=this.Fields?null===(e=this.Fields)||void 0===e?void 0:e.reduce(((e,t)=>{const i=this.getFieldViewName(t),n=this.getFieldState({viewName:i,name:t.name});return n&&(e[`${i}.${t.name}`]=n),e}),{}):this.fieldNames.reduce(((e,t)=>{const i=this.getFieldState({viewName:this.viewName,name:t});return i&&(e[`${this.viewName}.${t}`]=i),e}),{});const o=this.dataFields||this.fieldNames.map((e=>new m.DataFieldDescriptor({name:e,viewName:this.viewName}))),a=null===(t=this.preferencesService.getPreferences(this.id))||void 0===t?void 0:t.def,l=yield this.configureFieldset.getFieldsetFields(this.id,this.caption||h.Messages.Untitled,o,this.viewName||"",i,a,((e,t)=>{var i;return null===(i=this.inlineContext[e])||void 0===i?void 0:i.getField(t)})),d=Object.assign({dialogTitle:h.Messages.FormConfigurationTitle,leftColumnTitle:h.Messages.FormConfigurationAvailableFields,rightColumnTitle:h.Messages.FormConfigurationChoosenFields,showHierarchy:!0,showItemId:!0,primaryViewId:this.viewName||(null===(n=this.inlineContext.graphInfo)||void 0===n?void 0:n.primaryView),preferences:a},l);(null===(r=this.dialogService)||void 0===r?void 0:r.open({viewModel:g.QpFieldsetEditCustomElement,model:d,lock:!1})).whenClosed((e=>{e&&!e.wasCancelled&&this.preferencesService.setPreferences(this.id,e.output,"def",!0);const t=this.preferencesService.getPreferences(this.id);this.preferences=t?Object.assign({},t):void 0}))}))}bind(e,t){var n;return i.__awaiter(this,void 0,void 0,(function*(){let i=e,r=t.parentOverrideContext;for(;r&&!(i instanceof c.PXScreen);)i=r.bindingContext,r=r.parentOverrideContext;this.inlineContext=i;const o=this.getCurrentView();this.viewChanged(o,void 0),(null===(n=this.view)||void 0===n?void 0:n.isCollection())&&this.eventSubscriptions.push(this.bindingEngine.propertyObserver(this.view,"activeRow").subscribe(((e,t)=>this.mapFields(e,!0)))),this.id?this.preferencesService.subscribe(this.id,this):(0,y.fatalError)("In the qp-fieldset tag, the id attribute is required. Please define the id attribute for all qp-fieldset tags.",this.element)}))}get Fields(){if(this.dataFields)return this.orderedFields}get DynamicFields(){var e,t;if(!this.fieldNames)return;return getOrderedFields(this.fieldNames.map((e=>this.createFieldDescriptor({name:e,viewName:this.viewName}))),null===(t=null===(e=this.preferences)||void 0===e?void 0:e.def)||void 0===t?void 0:t.preferences,(e=>this.getFieldViewName(e)),((e,t)=>this.getFieldState(e,t)),(e=>this.createFieldDescriptor(e)))}get title(){var e,t,i;return(null===(i=null===(t=null===(e=this.preferences)||void 0===e?void 0:e.def)||void 0===t?void 0:t.preferences)||void 0===i?void 0:i.fieldsetName)||this.caption}get captionHiddenByPrefs(){var e,t,i;return null===(i=null===(t=null===(e=this.preferences)||void 0===e?void 0:e.def)||void 0===t?void 0:t.preferences)||void 0===i?void 0:i.fieldsetCaptionHidden}get captionHidden(){var e,t,i;return null===(i=null===(t=null===(e=this.preferences)||void 0===e?void 0:e.def)||void 0===t?void 0:t.preferences)||void 0===i?void 0:i.fieldsetCaptionHidden}get collapsible(){const e=this.Fields||(this.view?this.DynamicFields:void 0);if(!e||0===e.length)return!1;for(const t of e){const e=this.getFieldState(t);if((null==e?void 0:e.visible)&&(null==e?void 0:e.unpinned)&&!this.getFieldPinned(t))return!0}return!1}getFieldState(e,t=!0){var i;const n=e.viewName||this.viewName||"",r=null===(i=this.inlineContext[n])||void 0===i?void 0:i.getField(e.name);return t&&!e.isUnbound&&this.fieldNames.length&&!r&&(0,y.fatalError)(`The field ${n}.${e.name} cannot be bound to a FieldState.`,this.element),r}getFieldVisibility(e,t){var i,n,r;if(!e&&!t.isUnbound)return!1;if(fieldHasErrors(this.getFieldState(t)))return!0;const o=null===(r=null===(n=null===(i=this.preferences)||void 0===i?void 0:i.def)||void 0===n?void 0:n.preferences)||void 0===r?void 0:r.hidden;return!(null==o?void 0:o[`${this.getFieldViewName(t)}.${t.name}`])}attached(){this.checkVisible(),this.eventSubscriptions.push(this.eventAggregator.subscribe("screen-updated",(()=>{this.checkVisible()}))),this.eventSubscriptions.push(this.eventManager.addEventListener(document.body,"startScreenConfiguration",(()=>{this.viewMode=p.ViewMode.Edit}),l.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(document.body,"endScreenConfiguration",(()=>{this.viewMode=p.ViewMode.View,this.checkVisible()}),l.delegationStrategy.none,!0))}detached(){this.unregisterViewBinding(),this.eventSubscriptions.forEach((e=>null==e?void 0:e.dispose())),this.eventSubscriptions=[]}getFieldPinned(e){var t,i,n,r;const o=null===(r=null===(n=null===(i=null===(t=this.preferences)||void 0===t?void 0:t.def)||void 0===i?void 0:i.preferences)||void 0===n?void 0:n.pinned)||void 0===r?void 0:r[`${this.getFieldViewName(e)}.${e.name}`];return void 0===o?e.pinned:o}getFieldTabIndex(e){var t,i,n,r;return(null===(r=null===(n=null===(i=null===(t=this.preferences)||void 0===t?void 0:t.def)||void 0===i?void 0:i.preferences)||void 0===n?void 0:n.tabSkip)||void 0===r?void 0:r[`${this.getFieldViewName(e)}.${e.name}`])?-1:void 0}get fieldsetVisible(){return this.viewMode===p.ViewMode.Edit||this.hasVisibleControls}static ProcessContent(e,t,i,n){const r=[],func=(e,t,i)=>{for(let n=0;n<e.length;n++){const o=e[n];r.push(o);const a="TEMPLATE"===o.tagName?o.innerHTML:o.outerHTML;t.set(o.getAttribute(i)||"",a)}},o=i.getAttribute("view.bind"),a=i.querySelectorAll("field, using");if(a&&a.length){const e=[];x.processFields(e,o,a),n.dataFields=e}else if(o){const e=i.querySelectorAll("*[replace-part]"),t=n.replaceParts=new p.CaseInsensitiveMap;func(e,t,"replace-part");func(i.querySelectorAll("*[insert-after]"),n.insertParts=new p.CaseInsensitiveMap,"insert-after");const a=[];r.forEach((e=>{var t;const i=e;null===(t=((null==i?void 0:i.content)?i.content:e).querySelectorAll("qp-field"))||void 0===t||t.forEach((e=>a.push(e)))}));const l=[];a.forEach((e=>{var i;const n=null===(i=e.getAttribute("control-state.bind"))||void 0===i?void 0:i.split(".");n&&n[0]===o&&n[1]&&!t.has(n[1].toLowerCase())&&l.push(n[1])})),n.existingFields=l,i.innerHTML=""}else if(i.innerHTML){const e=document.createElement("template");e.setAttribute("replace-part","content"),e.innerHTML=i.innerHTML,i.innerHTML="",i.appendChild(e)}return!0}static processFields(e,t,i){var n;for(let r=0;r<i.length;r++){const o=i[r];if("using"===o.tagName.toLowerCase()){const i=o.getAttribute("view"),n=o.querySelectorAll("field, using");x.processFields(e,null!=i?i:t,n);continue}let a,l=null==o?void 0:o.getAttribute("name");const d=null==l?void 0:l.split(".",3);if(d&&d.length>1&&(a=d[0],l=2===d.length?d[1]:`${d[1]}__${d[2]}`),e.find((e=>e.name===l)))continue;if(!a&&null!=(null==o?void 0:o.getAttribute("replace-content"))&&"QP-FIELD"===(null===(n=o.firstElementChild)||void 0===n?void 0:n.tagName)){const e=o.firstElementChild.getAttribute("control-state.bind"),t=null==e?void 0:e.split(".",2);t&&t.length>1&&(l=t[1],a=t[0])}const c=convertFieldMarkupToDescriptor(o,l?{name:l,viewName:a||t}:null);c&&e.push(c)}}registerViewBinding(){var e;this.viewName&&(null===(e=this.container.get(d.ScreenService))||void 0===e||e.registerViewBinding(this.element,this.viewName))}unregisterViewBinding(){var e;this.viewName&&(null===(e=this.container.get(d.ScreenService))||void 0===e||e.unregisterViewBinding(this.element))}checkVisible(){this.Fields||this.view?this.hasVisibleControls=(this.Fields||this.DynamicFields||[]).some((e=>{var t;return this.getFieldVisibility(null===(t=this.getFieldState(e))||void 0===t?void 0:t.visible,e)})):this.hasVisibleControls=!0}getFieldViewName(e){return e.viewName||this.viewName||""}createFieldDescriptor(e){var t;return convertFieldMarkupToDescriptor(null===(t=this.fieldDefaultsService)||void 0===t?void 0:t.getFieldDefaultElement(e),e)}};function convertFieldMarkupToDescriptor(e,t){if(!t)return;const i=(null==e?void 0:e.getAttribute("control-type"))||void 0,n=null==e?void 0:e.getAttribute("no-label"),r=n?"true"===n:void 0;let o=null==e?void 0:e.getAttribute("caption");null===o&&(o=void 0);const a=null==e?void 0:e.getAttribute("unbound");let l=null==e?void 0:e.getAttribute("pinned");""===l&&(l="true"),l=(null==l?void 0:l.toLowerCase())||null;const d=new m.DataFieldDescriptor(t,i,o,r);"true"===l?d.pinned=!0:"false"===l&&(d.pinned=!1),d.isUnbound=""===a||"true"===(null==a?void 0:a.toLowerCase());const c=null!=(null==e?void 0:e.getAttribute("replace-content"));if(!c&&(null==e?void 0:e.childElementCount)){e=e.cloneNode(!0);const i=document.createElement("qp-field");i.classList.add("main-control"),null!=o&&i.setAttribute("caption",o),l&&i.setAttribute("pinned",l),i.setAttribute("control-state.bind",`${t.viewName}.${t.name}`),i.replaceChildren(...Array.from(e.children)),e.appendChild(i)}if(null==e?void 0:e.childElementCount){const t=document.createElement("div");t.setAttribute("class","${state.visible === false || collapsed && (typeof pinned === 'undefined' ? state.unpinned : !pinned) ? 'invisible-field' : ''} "+(c?"qp-field-override":""));e.querySelectorAll("qp-field").forEach((e=>{null==e.getAttribute("context.bind")&&e.setAttribute("context.bind","$this")})),e.childNodes.forEach((e=>{const i=e.cloneNode(!0);t.append(i)})),d.template=t.outerHTML}else{const i=function createQpField(e){const t=document.createElement("qp-field");return t.setAttribute("if.bind","visible"),t.setAttribute("control-id",`ed${e.viewName}-${e.name}`),t.setAttribute("control-type.bind","df.controlType"),t.setAttribute("no-label.bind","df.noLabel == null ? noLabel : df.noLabel"),t.setAttribute("caption.bind","df.caption"),t.setAttribute("control-state.bind","state"),t.setAttribute("control-size.bind","size"),t.setAttribute("context.bind","$this"),t.setAttribute("collapsed.bind","collapsed"),t.setAttribute("pinned.one-way","getFieldPinned(df)"),t.setAttribute("tab-index.one-way","getFieldTabIndex(df)"),t}(t),n=null==e?void 0:e.getAttributeNames();if(n)for(const t of n){if("pinned"===t)continue;const n=null==e?void 0:e.getAttribute(t);n&&i.setAttribute(t,n)}d.template=i.outerHTML}return d}function getOrderedFields(e,t,i,n,r){const o=[],a=null==t?void 0:t.fieldOrder,l=null==t?void 0:t.deletedFields,d=[],c={};for(const t of e){const e=`${i(t)}.${t.name}`;c[e]=t,d.push(e),o.push(Object.assign({},t))}if(!a)return o;const p=[],u={};for(const e of a){let t;if(u[e]=!0,c[e])t=Object.assign({},c[e]);else{const i=e.split(".");if(2!==i.length)throw"Bad field name";const[n,o]=i;t=r({name:o,viewName:n})}t&&n(t,!1)&&p.push(t)}for(const e of d)if(!u[e]||(null==l?void 0:l[e])){const t=e.split("."),i=n({viewName:t[0],name:t[1]},!1);if(!fieldHasErrors(i))continue;p.push(Object.assign({},c[e]))}return p}i.__decorate([a.bindable,i.__metadata("design:type",Object)],C.prototype,"view",void 0),i.__decorate([a.bindable,i.__metadata("design:type",String)],C.prototype,"group",void 0),i.__decorate([a.bindable,i.__metadata("design:type",String)],C.prototype,"caption",void 0),i.__decorate([a.bindable,i.__metadata("design:type",Object)],C.prototype,"controlSize",void 0),i.__decorate([a.bindable,i.__metadata("design:type",String)],C.prototype,"viewMode",void 0),i.__decorate([a.bindable,i.__metadata("design:type",Object)],C.prototype,"noLabel",void 0),i.__decorate([l.observable,i.__metadata("design:type",Array)],C.prototype,"dataFields",void 0),i.__decorate([l.observable,i.__metadata("design:type",Object)],C.prototype,"collapsed",void 0),i.__decorate([l.observable,i.__metadata("design:type",Object)],C.prototype,"preferences",void 0),i.__decorate([(0,l.computedFrom)("dataFields","preferences.def"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],C.prototype,"Fields",null),i.__decorate([(0,l.computedFrom)("fieldNames","preferences.def"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],C.prototype,"DynamicFields",null),i.__decorate([(0,l.computedFrom)("caption","preferences.def.preferences.fieldsetName"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],C.prototype,"title",null),i.__decorate([(0,l.computedFrom)("preferences.def.preferences.fieldsetCaptionHidden"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],C.prototype,"captionHiddenByPrefs",null),i.__decorate([(0,l.computedFrom)("preferences.def.preferences.fieldsetCaptionHidden"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],C.prototype,"captionHidden",null),i.__decorate([(0,l.computedFrom)("preferences.def.preferences.pinned","view","fieldNames","dataFields"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],C.prototype,"collapsible",null),i.__decorate([(0,l.computedFrom)("viewMode","hasVisibleControls"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],C.prototype,"fieldsetVisible",null),C=x=i.__decorate([(0,a.processContent)(x.ProcessContent),a.autoinject,(0,a.customElement)("qp-fieldset"),i.__metadata("design:paramtypes",[Element,o.Container,a.TargetInstruction,u.DialogService,a.EventManager,n.FieldsetConfigurationService,f.PreferencesService,f.PreferencesApi,d.ScreenService,a.TaskQueue,v.FeaturesService,b.FieldDefaultsService])],C),t.QpFieldsetCustomElement=C;const fieldHasErrors=e=>e&&e.errorLevel!==p.PXErrorLevel.Undefined&&e.errorLevel!==p.PXErrorLevel.RowInfo}.apply(t,n),void 0===r||(e.exports=r)},871:(e,t,i)=>{var n,r;n=[i,t,i(7052)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldsetPreferences=t.DataFieldDescriptor=void 0;t.DataFieldDescriptor=class DataFieldDescriptor{constructor(e,t,i,n){this.isUnbound=!1,this.name=e.name,this.viewName=e.viewName,this.controlType=t,this.caption=i,this.noLabel=n}};class FieldsetPreferences extends i.PreferenceBase{constructor(){super(),this.type="qp-fieldset",this.preferences={}}}t.FieldsetPreferences=FieldsetPreferences}.apply(t,n),void 0===r||(e.exports=r)},3108:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBooleanOrDefault=t.listParentTypeChecker=t.addItemToArrayWithReference=t.makeFieldSelection=t.filterFieldList=t.cloneFieldList=void 0;t.cloneFieldList=e=>e.map((e=>Object.assign(Object.assign({},e),{collapsed:!0,children:e.children.map((e=>Object.assign(Object.assign({},e),{hovered:!1,selected:!1})))})));t.filterFieldList=(e,t,i)=>{var n,r;const o=null==t?void 0:t.toLowerCase(),a=[];for(const t of e){let e=!1;(null==i?void 0:i.searchParent)&&(!o||(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(o))||(null===(r=t.id)||void 0===r?void 0:r.toLowerCase().includes(o)))&&(a.push(t),e=!0);let l=!1;if(t.children){const n=o?t.children.filter((e=>{var t,n;if(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(o))return!0;if((null==i?void 0:i.searchInChildViewId)||!e.id)return null===(n=e.id)||void 0===n?void 0:n.toLowerCase().includes(o);const r=e.id.split(".");return(r.length>1?r[1]:r[0]).toLowerCase().includes(o)})):t.children;!e&&(n.length>0||(null==i?void 0:i.leaveEmptyParents))&&a.push(Object.assign(Object.assign({},t),{children:n})),l=n.length>0}(null==i?void 0:i.toogleCollapse)&&(t.collapsed=!o||!l)}return(null==i?void 0:i.sort)&&(a.forEach((e=>{!e.children||e.children.length<2||e.children.sort(((e,t)=>e.name.localeCompare(t.name)))})),a.sort(((e,t)=>{if(null==i?void 0:i.primaryViewId){if(e.id===i.primaryViewId)return t.id===i.primaryViewId?0:-1;if(t.id===i.primaryViewId)return 1}return e.id.localeCompare(t.id)}))),a},t.makeFieldSelection=function makeFieldSelection(e,t,i,n,r,o){const a=e.selected;if(t){if(e.selected=!e.selected,a){const t=n.indexOf(e);t>-1&&n.splice(t,1)}else n.push(e);return}if(n.forEach((e=>e.selected=!1)),n.splice(0,n.length),!i||!o)return void(a&&o||(e.selected=!0,n.push(e)));let l=!1,d=!1;for(const t of r)if(t.children){for(const i of t.children){const t=i.id===o.id||i.id===e.id;if((l||t)&&(i.selected=!0,n.push(i)),t&&(l=!l,!l)){d=!0;break}}if(d)break}},t.addItemToArrayWithReference=function addItemToArrayWithReference(e,t,i){if(0===e.length)return void e.push(t);const n={};let r,o=-1,a=!1;for(const e of i){if(e.id===t.id){a=!0;break}n[e.id]=!0,o++}if(!a)throw"Unknown item!";for(r=0;r<=o&&r<e.length&&n[e[r].id];r++);r!==e.length?e[r].id!==t.id&&e.splice(r,0,t):e.push(t)};t.listParentTypeChecker=e=>(null==e?void 0:e.hasOwnProperty("children"))||!1;t.getBooleanOrDefault=(e,t)=>void 0===e?t:e}.apply(t,[i,t]),void 0===n||(e.exports=n)},3594:(e,t,i)=>{var n,r;n=[i,t,i("client-controls/controls/container/field/qp-field"),i("client-controls/controls/container/inline-field/qp-inline-field"),i("client-controls/controls/container/panel/qp-panel"),i("client-controls/controls/container/field-pair/qp-field-pair"),i("client-controls/controls/container/fieldset/inline-view"),i("client-controls/controls/container/fieldset/qp-fieldset"),i("client-controls/controls/container/fieldset/qp-fieldset-layout"),i(7589),i("client-controls/controls/container/splitter/qp-splitter"),i("client-controls/controls/container/resizer/qp-resizer"),i("client-controls/controls/container/tabbar/qp-tab"),i("client-controls/controls/container/tabbar/qp-tabbar"),i("client-controls/controls/container/wizard/qp-wizard"),i("client-controls/controls/container/data-components/qp-data-component"),i("client-controls/controls/container/data-components/qp-data-components"),i(1823)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g,m,f,v,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OwnBindingBehavior=t.QpDataComponents=t.QpDataComponent=t.QpWizardCustomElement=t.QpTabbarCustomElement=t.QpTabCustomElement=t.QpResizerCustomElement=t.QpSplitterCustomElement=t.QpTemplateCustomElement=t.QpFieldsetLayoutCustomElement=t.QpFieldsetCustomElement=t.InlineView=t.QpFieldPairCustomElement=t.QpPanelCustomElement=t.QpInlineFieldCustomElement=t.QpFieldCustomElement=void 0,Object.defineProperty(t,"QpFieldCustomElement",{enumerable:!0,get:function(){return i.QpFieldCustomElement}}),Object.defineProperty(t,"QpInlineFieldCustomElement",{enumerable:!0,get:function(){return n.QpInlineFieldCustomElement}}),Object.defineProperty(t,"QpPanelCustomElement",{enumerable:!0,get:function(){return r.QpPanelCustomElement}}),Object.defineProperty(t,"QpFieldPairCustomElement",{enumerable:!0,get:function(){return o.QpFieldPairCustomElement}}),Object.defineProperty(t,"InlineView",{enumerable:!0,get:function(){return a.InlineView}}),Object.defineProperty(t,"QpFieldsetCustomElement",{enumerable:!0,get:function(){return l.QpFieldsetCustomElement}}),Object.defineProperty(t,"QpFieldsetLayoutCustomElement",{enumerable:!0,get:function(){return d.QpFieldsetLayoutCustomElement}}),Object.defineProperty(t,"QpTemplateCustomElement",{enumerable:!0,get:function(){return c.QpTemplateCustomElement}}),Object.defineProperty(t,"QpSplitterCustomElement",{enumerable:!0,get:function(){return p.QpSplitterCustomElement}}),Object.defineProperty(t,"QpResizerCustomElement",{enumerable:!0,get:function(){return u.QpResizerCustomElement}}),Object.defineProperty(t,"QpTabCustomElement",{enumerable:!0,get:function(){return h.QpTabCustomElement}}),Object.defineProperty(t,"QpTabbarCustomElement",{enumerable:!0,get:function(){return g.QpTabbarCustomElement}}),Object.defineProperty(t,"QpWizardCustomElement",{enumerable:!0,get:function(){return m.QpWizardCustomElement}}),Object.defineProperty(t,"QpDataComponent",{enumerable:!0,get:function(){return f.QpDataComponent}}),Object.defineProperty(t,"QpDataComponents",{enumerable:!0,get:function(){return v.QpDataComponents}}),Object.defineProperty(t,"OwnBindingBehavior",{enumerable:!0,get:function(){return b.OwnBindingBehavior}})}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/inline-field/qp-inline-field":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2172),i("client-controls/controls/container/field/qp-field")],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpInlineFieldCustomElement=void 0;let a=class QpInlineFieldCustomElement{constructor(e,t,i,n){this.element=e,this.tq=t,this.eventManager=i,this.bindingEngine=n,this.controlType=void 0,this.customType=!0,this.controlConfig={},this.updateValue=!1}bind(e,t){this.controlConfig||(this.controlConfig={}),this.controlConfig.id||(this.controlConfig.id=this.controlId);const i=this.controlState;if(i.type===r.NetType.DateTime&&"string"==typeof i.value&&(i.value=new Date(i.value)),i.name){const{viewModeName:e,name:t}=i;this.valueObserver=this.bindingEngine.propertyObserver(this.controlState,"value").subscribe((()=>{this.element.dispatchEvent(new CustomEvent("usertyping",{bubbles:!0,cancelable:!0,detail:{viewName:e,fieldName:t}}))}))}}unbind(){var e;null===(e=this.valueObserver)||void 0===e||e.dispose()}updateValueChanged(e){e&&this.refreshValue()}attached(){this.tq.queueTask((()=>this.focus()))}focus(){const e=this.getFocusElement();if(e)try{e.setAttribute("unblock","1"),e.focus()}catch(e){}}refreshValue(){const e=this.getFocusElement();if(e){const t=new CustomEvent("update",{bubbles:!0,cancelable:!1});e.dispatchEvent(t),this.tq.flushMicroTaskQueue()}}selectContent(){this.tq.queueTask((()=>{var e;return null===(e=this.getTextElement())||void 0===e?void 0:e.select()}))}getFocusElement(){const e=this.element.querySelector("*[focus-elem]");return e||this.getTextElement()}getTextElement(){const e=this.element.querySelector("input");return e||this.element.querySelector("textarea")}getControlType(){return this.controlType||this.defaultControlType}get defaultControlType(){const e=this.controlState;return this.customType&&(null==e?void 0:e.controlType)?null==e?void 0:e.controlType:(0,o.getDefaultControlType)(e)}get isDisabled(){var e;return(null===(e=this.controlState)||void 0===e?void 0:e.readOnly)||!this.controlState.enabled}get isCheckBox(){return this.controlState.type===r.NetType.Boolean&&!this.isDisabled}processCheckBoxClick(e){this.isCheckBox&&(this.switchCheckState(),e.stopPropagation(),e.preventDefault())}processCheckBoxKeyDown(e){this.isCheckBox&&"Space"===e.code&&this.switchCheckState()}switchCheckState(){this.controlState.value=!this.controlState.value,this.onValueUpdated&&this.onValueUpdated()}};i.__decorate([n.bindable,i.__metadata("design:type",String)],a.prototype,"controlId",void 0),i.__decorate([n.bindable,i.__metadata("design:type",r.PXFieldState)],a.prototype,"controlState",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"controlType",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"customType",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"controlConfig",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],a.prototype,"updateValue",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],a.prototype,"onValueUpdated",void 0),i.__decorate([(0,n.computedFrom)("controlState.type","controlState.viewName","controlState.options","controlState.inputMask","controlState.controlType"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],a.prototype,"defaultControlType",null),i.__decorate([(0,n.computedFrom)("controlState.readOnly","controlState.enabled"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],a.prototype,"isDisabled",null),a=i.__decorate([(0,n.customElement)("qp-inline-field"),i.__metadata("design:paramtypes",[Element,n.TaskQueue,n.EventManager,n.BindingEngine])],a),t.QpInlineFieldCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/panel/qp-panel":(e,t,i)=>{var n,r;n=[i,t,i(655),i(1781),i("aurelia-framework"),i("client-controls/controls/dialog/informer/qp-informer-rack")],r=function(e,t,i,n,r,o){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.QpPanelCustomElement=void 0;let l=a=class QpPanelCustomElement{constructor(e){this.element=e;this.element.style.display="none"}static processContent(e,t,i){const n=i.attributes;return!n.getNamedItem("title")&&!n.getNamedItem("title.bind")||n.getNamedItem("caption")||n.getNamedItem("caption.bind")||(0,o.fatalError)(`"title" attribute must be substituted by "caption" attribute on qp-panel #${i.id}.`,i),!1}};i.__decorate([r.bindable,i.__metadata("design:type",String)],l.prototype,"caption",void 0),l=a=i.__decorate([r.autoinject,(0,n.customElement)("qp-panel"),r.noView,(0,r.processContent)(a.processContent),i.__metadata("design:paramtypes",[Element])],l),t.QpPanelCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/resizer/qp-resizer":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(6778),i(8099),i(7140),i(7052),i(630),i(7699),i("client-controls/controls/dialog/informer/qp-informer-rack")],r=function(e,t,i,n,r,o,a,l,d,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpResizerCustomElement=void 0;(0,o.getLogger)("qp-resizer");let u=class QpResizerCustomElement{constructor(e,t){this.element=e,this.preferencesService=t,this.isDragged=!1}get disabledValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.disabled)&&void 0!==t?t:this.disabled)&&void 0!==i&&i}get invisibleValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.invisible)&&void 0!==t?t:this.invisible)&&void 0!==i&&i}get styleValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.style)&&void 0!==t?t:this.style)&&void 0!==i?i:""}get initialSizeValue(){var e,t;return null!==(t=null===(e=this.config)||void 0===e?void 0:e.initialSize)&&void 0!==t?t:this.initialSize}get effectiveMinSize(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.minSize)&&void 0!==t?t:this.minSize)&&void 0!==i?i:200}get cssPosition(){if(void 0===this.size&&void 0===this.initialSizeValue)return"";const e=void 0===this.size?this.initialSizeValue:`${Math.round(this.size)}px`;return`max-height: ${e}; height: ${e};`}bind(){if(this.id)this.onPositionChanged(!1),this.onDrag=this.onDrag.bind(this),this.onStopMoving=this.onStopMoving.bind(this),this.move=this.move.bind(this),this.preferencesService.subscribe(this.id,this);else{const e="Id of resizer cannot be empty. Please set id attribute. Should be unique for screen";(0,p.fatalError)(e)}}applyPreferences(e){var t,i;(null==e?void 0:e.user)&&(this.size=null!==(i=null===(t=e.user.preferences)||void 0===t?void 0:t.size)&&void 0!==i?i:this.size,this.onPositionChanged(!1))}onStartMoving(e){if(window.top&&d.browser.isChrome){window.top.document.querySelector("#main").style.pointerEvents="none",window.top.addEventListener("pointermove",this.onDrag),window.top.addEventListener("pointerup",this.onStopMoving)}else this.draggerElement.setPointerCapture(e.pointerId),this.draggerElement.addEventListener("pointermove",this.onDrag),this.draggerElement.addEventListener("pointerup",this.onStopMoving);this.isDragged=!0}onStopMoving(e){if(window.top&&d.browser.isChrome){window.top.document.querySelector("#main").style.pointerEvents="all",window.top.removeEventListener("pointermove",this.onDrag),window.top.removeEventListener("pointerup",this.onStopMoving)}else this.draggerElement.releasePointerCapture(e.pointerId),this.draggerElement.removeEventListener("pointermove",this.onDrag),this.draggerElement.removeEventListener("pointerup",this.onStopMoving);return this.onPositionChanged(!0),this.isDragged=!1,this.start=void 0,!0}onDrag(e){if(void 0===this.start)return this.start=e.y,void(this.size=this.contentElement.getBoundingClientRect().height);const t=e.y-this.start;if(this.clearAnimationFrame(),0===e.buttons)return void this.onStopMoving(e);const i=this.effectiveMinSize;return this.goal=(this.size||this.contentElement.getBoundingClientRect().height)+t,this.goal<i&&(this.goal=i),this.tick||(this.tick=window.requestAnimationFrame(this.move)),!0}clearAnimationFrame(){this.tick&&(window.cancelAnimationFrame(this.tick),this.tick=void 0)}move(){if(!this.size||!this.goal)return;const e=this.goal-this.size,t=this.effectiveMinSize;this.clearAnimationFrame(),this.size=this.size+.2*e,this.size<t&&(this.size=t),this.draggerElement.scrollIntoView(),this.isDragged&&(this.tick=window.requestAnimationFrame(this.move))}onPositionChanged(e){return i.__awaiter(this,void 0,void 0,(function*(){e&&(yield this.savePreferences())}))}savePreferences(){return i.__awaiter(this,void 0,void 0,(function*(){if(!this.id)return;const e=new ResizerPreferences;e.preferences.size=this.size,this.preferencesService.saveUserPreferences((0,a.getScreenID)(),this.id,e)}))}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],u.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],u.prototype,"id",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],u.prototype,"initialSize",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],u.prototype,"minSize",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],u.prototype,"disabled",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],u.prototype,"invisible",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],u.prototype,"style",void 0),i.__decorate([c.autoinject,i.__metadata("design:type",Boolean)],u.prototype,"isDragged",void 0),i.__decorate([(0,r.computedFrom)("config.disabled","disabled"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"disabledValue",null),i.__decorate([(0,r.computedFrom)("config.invisible","invisible"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"invisibleValue",null),i.__decorate([(0,r.computedFrom)("config.style","style"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"styleValue",null),i.__decorate([(0,r.computedFrom)("config.initialSize","initialSize"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"initialSizeValue",null),i.__decorate([(0,r.computedFrom)("size","initialSizeValue"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],u.prototype,"cssPosition",null),u=i.__decorate([(0,n.customElement)("qp-resizer"),c.autoinject,i.__metadata("design:paramtypes",[Element,l.PreferencesService])],u),t.QpResizerCustomElement=u;class ResizerPreferences extends l.PreferenceBase{constructor(){super(),this.type="qp-resizer",this.preferences={}}}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/splitter/qp-splitter":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(6778),i(8099),i(7140),i(7052),i(7699),i("client-controls/controls/dialog/informer/qp-informer-rack")],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.QpSplitterCustomElement=void 0;(0,o.getLogger)("qp-splitter");const u="split-pane";let h=p=class QpSplitterCustomElement{constructor(e,t){this.element=e,this.preferencesService=t,this.firstPaneMinSize=0,this.secondPaneMinSize=0,this.panes=[]}get splitValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.split)&&void 0!==t?t:this.split)&&void 0!==i?i:"width"}get disabledValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.disabled)&&void 0!==t?t:this.disabled)&&void 0!==i&&i}get reversedValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.reversed)&&void 0!==t?t:this.reversed)&&void 0!==i&&i}get unmarginValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.unmargin)&&void 0!==t?t:this.unmargin)&&void 0!==i&&i}get fadingValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.fading)&&void 0!==t?t:this.fading)&&void 0!==i&&i}get invisibleValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.invisible)&&void 0!==t?t:this.invisible)&&void 0!==i&&i}get styleValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.style)&&void 0!==t?t:this.style)&&void 0!==i?i:""}get firstHeaderValue(){var e,t;return null!==(t=null===(e=this.config)||void 0===e?void 0:e.firstHeader)&&void 0!==t?t:this.firstHeader}get secondHeaderValue(){var e,t;return null!==(t=null===(e=this.config)||void 0===e?void 0:e.secondHeader)&&void 0!==t?t:this.secondHeader}get initialStateValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.initialState)&&void 0!==t?t:this.initialState)&&void 0!==i?i:"normal"}get initialSplitValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.initialSplit)&&void 0!==t?t:this.initialSplit)&&void 0!==i?i:"50%"}get disableCollapseValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.disableCollapse)&&void 0!==t?t:this.disableCollapse)&&void 0!==i&&i}get disableCollapseFirstValue(){var e,t,i,n;return null!==(n=null!==(i=null!==(e=this.disableCollapseValue)&&void 0!==e?e:null===(t=this.config)||void 0===t?void 0:t.disableCollapseFirst)&&void 0!==i?i:this.disableCollapseFirst)&&void 0!==n&&n}get disableCollapseSecondValue(){var e,t,i,n;return null!==(n=null!==(i=null!==(e=this.disableCollapseValue)&&void 0!==e?e:null===(t=this.config)||void 0===t?void 0:t.disableCollapseSecond)&&void 0!==i?i:this.disableCollapseSecond)&&void 0!==n&&n}get disableCollapseOnDeltaValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.disableCollapseOnDelta)&&void 0!==t?t:this.disableCollapseOnDelta)&&void 0!==i&&i}get deltaCollapseValue(){var e,t,i;return this.disableCollapse||this.disableCollapseOnDelta?-1:null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.deltaCollapse)&&void 0!==t?t:this.deltaCollapse)&&void 0!==i?i:10}get collapseModeValue(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.collapseMode)&&void 0!==t?t:this.collapseMode)&&void 0!==i?i:"hide"}splitterStateChanged(){var e;this.processSize(),null===(e=this.onSplitterStateChanged)||void 0===e||e.call(this,{sender:this}),this.onPositionChanged(!1)}panesChanged(){2===this.panes.length||console.error(`Two "${u}" children elements required for qp-splitter element, they must have no other siblings`)}getSplitterState(){return this.splitterState}get firstHeaderDisplayed(){return this.firstHeaderValue&&"height"===this.splitValue&&this.firstPaneDisplayed}get secondHeaderDisplayed(){return this.secondHeaderValue&&"height"===this.splitValue&&this.secondPaneDisplayed}get firstHeaderDisplayedCollapsed(){return this.firstHeaderValue&&"height"===this.splitValue&&!this.firstPaneDisplayed}get secondHeaderDisplayedCollapsed(){return this.secondHeaderValue&&"height"===this.splitValue&&!this.secondPaneDisplayed}get firstPaneDisplayed(){return"collapsed-first"!==this.splitterState}get secondPaneDisplayed(){return"collapsed-second"!==this.splitterState}get eachPaneDisplayed(){return this.firstPaneDisplayed&&this.secondPaneDisplayed}get cssCollapse(){return"shrink"===this.collapseModeValue?"flex: 0 1 auto;":"display: none;"}get cssPosition(){if(void 0===this.splitterState)return"";const e=this.splitValue,t=void 0===this.position?this.initialSplitValue:`${Math.round(this.position)}px`;switch(this.splitterState){case"collapsed-first":return`max-${e}: 0%;`;case"collapsed-second":return"flex-grow: 1;";case"normal":return`max-${e}: ${t}; ${e}: ${t};`}}bind(){var e;if(this.id)null===(e=this.onSplitterStateChanged)||void 0===e||e.call(this,{sender:this}),this.onPositionChanged(!1),this.barDragged=this.barDragged.bind(this),this.preferencesService.subscribe(this.id,this);else{const e="Id of splitter cannot be empty. Please set id attribute";(0,c.fatalError)(e)}}applyPreferences(e){var t,i,n,r,o,a,l,d,c;(null==e?void 0:e.user)?(this.splitterState=null!==(r=null!==(n=null!==(t=this.splitterState)&&void 0!==t?t:null===(i=e.user.preferences)||void 0===i?void 0:i.splitterState)&&void 0!==n?n:this.initialStateValue)&&void 0!==r?r:"normal",this.position=null!==(a=null===(o=e.user.preferences)||void 0===o?void 0:o.position)&&void 0!==a?a:this.position,null===(l=this.onSplitterStateChanged)||void 0===l||l.call(this,{sender:this}),this.onPositionChanged(!1)):this.splitterState=null!==(c=null!==(d=this.splitterState)&&void 0!==d?d:this.initialStateValue)&&void 0!==c?c:"normal"}startMoving(){"normal"===this.splitterState&&(this.savedPosition=this.position,this.draggerElement.addEventListener("pointermove",this.barDragged))}get effectiveDeltaCollapse(){var e,t,i;return null!==(i=null!==(t=null===(e=this.config)||void 0===e?void 0:e.deltaCollapse)&&void 0!==t?t:this.deltaCollapse)&&void 0!==i?i:10}stopMoving(e){if("normal"!==this.splitterState)return;const{maxPos:t}=this.getMovementData(e.x,e.y),i=this.effectiveDeltaCollapse;return void 0!==this.position&&(this.position>=0&&this.position<=i?(this.toggleCollapseFirst(),this.position=this.savedPosition):this.position>=t-i&&this.position<=t&&(this.toggleCollapseSecond(),this.position=this.savedPosition)),this.draggerElement.releasePointerCapture(e.pointerId),this.draggerElement.removeEventListener("pointermove",this.barDragged),this.onPositionChanged(!0),!0}getMovementData(e,t){var i;const n=this.draggerElement.getBoundingClientRect(),r=this.firstElement.getBoundingClientRect(),o=this.element.getBoundingClientRect(),a="height"===(null===(i=this.config)||void 0===i?void 0:i.split)?"marginTop":"marginLeft",l=parseInt(getComputedStyle(this.draggerElement)[a]);let d="height"===this.splitValue?t-(r.bottom-r.height+l+n.height/2):e-(r.right-r.width+l+n.width/2);const c="height"===this.splitValue?o.height-n.height-2*l:o.width-n.width-2*l;return this.reversedValue&&(d=c-d),{pos:d,maxPos:c}}barDragged(e){if("normal"!==this.splitterState)return;this.draggerElement.setPointerCapture(e.pointerId);const{pos:t,maxPos:i}=this.getMovementData(e.x,e.y),n=this.reversedValue?this.secondPaneMinSize:this.firstPaneMinSize,r=i-(this.reversedValue?this.firstPaneMinSize:this.secondPaneMinSize);return t>=n&&t<=r&&(this.position=t),!0}saveMinimalSize(){const e=this.layoutElement.getBoundingClientRect();this.layoutElement.style.minHeight=`${e.height}px`}restoreMinimalSize(){this.layoutElement.style.minHeight=""}processSize(){"normal"===this.splitterState?this.restoreMinimalSize():this.saveMinimalSize()}toggleCollapse(e){var t;"normal"===this.splitterState?this.splitterState=e:this.splitterState="normal",this.processSize(),null===(t=this.onSplitterStateChanged)||void 0===t||t.call(this,{sender:this}),this.onPositionChanged(!0)}toggleCollapseFirst(){this.toggleCollapse("collapsed-first")}toggleCollapseSecond(){this.toggleCollapse("collapsed-second")}onPositionChanged(e){return i.__awaiter(this,void 0,void 0,(function*(){this.draggerElement.classList.toggle("qp-splitter-collapsed","collapsed-first"===this.splitterState||"collapsed-second"===this.splitterState),this.draggerElement.classList.toggle("qp-splitter-collapsed-first","collapsed-first"===this.splitterState),this.draggerElement.classList.toggle("qp-splitter-collapsed-second","collapsed-second"===this.splitterState),e&&(yield this.savePreferences())}))}savePreferences(){return i.__awaiter(this,void 0,void 0,(function*(){if(!this.id)return;const e=new SplitterPreferences;e.preferences.splitterState=this.splitterState,e.preferences.position=this.position,this.preferencesService.saveUserPreferences((0,a.getScreenID)(),this.id,e)}))}static processSlot(e,t){const i=e.getAttribute("slot");["A","B"].some((e=>e===i))||e.setAttribute("slot",t)}static processContent(e,t,i,n){const r=i.querySelectorAll(`:scope > ${u}`);if(2===r.length)return p.processSlot(r[0],"A"),p.processSlot(r[1],"B"),!0;(0,c.fatalError)(`Exactly two ${u} children required to use in qp-splitter`)}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],h.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],h.prototype,"id",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],h.prototype,"onSplitterStateChanged",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],h.prototype,"split",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],h.prototype,"splitterState",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],h.prototype,"disabled",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],h.prototype,"reversed",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],h.prototype,"unmargin",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],h.prototype,"fading",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],h.prototype,"invisible",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],h.prototype,"initialState",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],h.prototype,"initialSplit",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],h.prototype,"firstPaneMinSize",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],h.prototype,"secondPaneMinSize",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],h.prototype,"firstHeader",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],h.prototype,"secondHeader",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],h.prototype,"collapseMode",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],h.prototype,"disableCollapseFirst",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],h.prototype,"disableCollapseSecond",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],h.prototype,"disableCollapse",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],h.prototype,"disableCollapseOnDelta",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],h.prototype,"deltaCollapse",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],h.prototype,"style",void 0),i.__decorate([d.autoinject,i.__metadata("design:type",n.Container)],h.prototype,"container",void 0),i.__decorate([(0,n.children)(u),i.__metadata("design:type",Array)],h.prototype,"panes",void 0),i.__decorate([(0,r.computedFrom)("config.disabled","disabled"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"disabledValue",null),i.__decorate([(0,r.computedFrom)("config.reversed","reversed"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"reversedValue",null),i.__decorate([(0,r.computedFrom)("config.unmargin","unmargin"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"unmarginValue",null),i.__decorate([(0,r.computedFrom)("config.fading","fading"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"fadingValue",null),i.__decorate([(0,r.computedFrom)("config.invisible","invisible"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"invisibleValue",null),i.__decorate([(0,r.computedFrom)("config.style","style"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"styleValue",null),i.__decorate([(0,r.computedFrom)("config.firstHeader","firstHeader"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"firstHeaderValue",null),i.__decorate([(0,r.computedFrom)("config.secondHeader","secondHeader"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"secondHeaderValue",null),i.__decorate([(0,r.computedFrom)("config.disableCollapse","disableCollapse"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"disableCollapseValue",null),i.__decorate([(0,r.computedFrom)("disableCollapseValue","config.disableCollapseFirst","disableCollapseFirst"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"disableCollapseFirstValue",null),i.__decorate([(0,r.computedFrom)("disableCollapseValue","config.disableCollapseSecond","disableCollapseSecond"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"disableCollapseSecondValue",null),i.__decorate([(0,r.computedFrom)("firstHeaderValue","splitValue","firstPaneDisplayed"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"firstHeaderDisplayed",null),i.__decorate([(0,r.computedFrom)("secondHeaderValue","splitValue","secondPaneDisplayed"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"secondHeaderDisplayed",null),i.__decorate([(0,r.computedFrom)("firstHeaderValue","splitValue","firstPaneDisplayed"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"firstHeaderDisplayedCollapsed",null),i.__decorate([(0,r.computedFrom)("secondHeaderValue","splitValue","secondPaneDisplayed"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"secondHeaderDisplayedCollapsed",null),i.__decorate([(0,r.computedFrom)("splitterState"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"firstPaneDisplayed",null),i.__decorate([(0,r.computedFrom)("splitterState"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"secondPaneDisplayed",null),i.__decorate([(0,r.computedFrom)("firstPaneDisplayed","secondPaneDisplayed"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"eachPaneDisplayed",null),i.__decorate([(0,r.computedFrom)("collapseModeValue"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],h.prototype,"cssCollapse",null),i.__decorate([(0,r.computedFrom)("position","initialStateValue","splitValue","splitterState"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],h.prototype,"cssPosition",null),h=p=i.__decorate([(0,n.processContent)(p.processContent),(0,n.customElement)("qp-splitter"),d.autoinject,i.__metadata("design:paramtypes",[Element,l.PreferencesService])],h),t.QpSplitterCustomElement=h;class SplitterPreferences extends l.PreferenceBase{constructor(){super(),this.type="qp-splitter",this.preferences={}}}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/tabbar/qp-tab":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099),i("aurelia-event-aggregator"),i(4834),i(7052),i(2172),i(2880),i(7124),i(7140)],r=function(e,t,i,n,r,o,a,l,d,c,p,u){"use strict";var h;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTabCustomElement=void 0;(0,r.getLogger)("qp-tab");let g=h=class QpTabCustomElement{constructor(e,t,i,n){this.element=e,this.screenService=t,this.container=i,this.preferencesService=n,this.visible=!1,this.loadOnDemand=!1,this.isEmpty=!1,this.fieldsetPreferences={},this.subscriptions=[],this.eventAggregator=i.get(o.EventAggregator),this.htmlTemplate=e.outerHTML}loadOnDemandChanged(e){e?this.screenService.registerLoadOnDemandArea(this.element):this.screenService.unregisterLoadOnDemandArea(this.element)}attached(){var e,t;const i=this.element.querySelector("qp-tab-header");i&&(i.remove(),i.style.display="inline-block",this.headerContentElement=i),this.fieldInfos=p.TabbarFieldsService.getTabFieldInfo({screenId:(0,u.getScreenID)(),tabbarId:this.tabbarId,tabId:this.id}),this.subscriptions.push(this.eventAggregator.subscribe("screen-updated",(e=>{this.processScreenData(e),this.checkTabErrors()}))),null===(t=null===(e=this.fieldInfos)||void 0===e?void 0:e.fieldsets)||void 0===t||t.forEach((e=>{this.preferencesService.subscribe(e.id,{applyPreferences:t=>{this.fieldsetPreferences[e.id]=null==t?void 0:t.def,this.checkTabErrors()}})}))}get headerHost(){return this.headerHostElement}set headerHost(e){this.headerHostElement!==e&&(this.headerContentElement?(this.headerHostElement&&this.headerHostElement.replaceChildren(this.headerContentElement.cloneNode(!0)),e&&(this.headerHostElement=e,this.headerHostElement.replaceChildren(this.headerContentElement))):this.headerHostElement=e)}detached(){this.screenService.unregisterLoadOnDemandArea(this.element)}captionChanged(e){if(!this.headerContentElement)if(e&&"$"===e[0]&&e[1]&&"{"!==e[1]){const t=e.substring(1),i=this.screenService.Model;(null==i?void 0:i.Msg)&&i.Msg[t]&&(this.captionText=i.Msg[t])}else this.captionText=e}onShowHeader(){this.checkTabErrors()}processScreenData(e){var t,i,n,r,o,a;if(!e)return;let l;(!this.fieldInfos||(null===(t=this.fieldInfos.fields)||void 0===t?void 0:t.length)||(null===(i=this.fieldInfos.fieldsets)||void 0===i?void 0:i.length))&&(l=!1),null===(r=null===(n=this.fieldInfos)||void 0===n?void 0:n.fieldsets)||void 0===r||r.forEach((t=>{var i;if(!t.viewId)return;const n=null===(i=e.fieldStates)||void 0===i?void 0:i[t.viewId];n&&(t.viewId=void 0,t.defaultFields=n.map((e=>`${t.viewId}.${e.fieldName}`))||[])})),null===(a=null===(o=this.fieldInfos)||void 0===o?void 0:o.grids)||void 0===a||a.forEach((t=>{var i,n,r;if(!t.view)return;const o=null===(i=e.controlsData)||void 0===i?void 0:i[t.view];o&&(o.hidden&&void 0===l&&(l=!0),o.hidden||(l=!1)),(null===(n=t.columns)||void 0===n?void 0:n.length)>0||o&&(t.columns=(null===(r=(null==o?void 0:o.columns)||(null==o?void 0:o.colProps))||void 0===r?void 0:r.map((e=>e.field?`${t.view}.${e.field}`:void 0)).filter((e=>!!e)))||[])})),void 0!==l&&(this.isEmpty=l,this.element.dispatchEvent(new CustomEvent(c.tabIsEmptyChangedEvent,{bubbles:!0,detail:{id:this.id}})))}checkTabErrors(){var e;const t=(null===(e=this.errorInfo)||void 0===e?void 0:e.level)||d.PXErrorLevel.Undefined;if(!this.fieldInfos||!this.screenService.hasFieldsErrors())return this.errorInfo=void 0,void(t!==d.PXErrorLevel.Undefined&&document.body.dispatchEvent(new CustomEvent(c.tabErrorsChangedEvent)));const checkError=(e,t)=>{const i=this.screenService.getFieldError(t),n=(null==i?void 0:i.level)||d.PXErrorLevel.Undefined,r=(null==e?void 0:e.level)||d.PXErrorLevel.Undefined;return(null==i?void 0:i.level)&&n>r&&(e=Object.assign({},i)),e};let i=this.fieldInfos.fields.reduce(checkError,void 0);const triggerEvent=()=>{t!==((null==i?void 0:i.level)||d.PXErrorLevel.Undefined)&&document.body.dispatchEvent(new CustomEvent(c.tabErrorsChangedEvent))};if((null==i?void 0:i.level)===d.PXErrorLevel.Error||(null==i?void 0:i.level)===d.PXErrorLevel.RowError)return this.errorInfo=i,void triggerEvent();if(this.fieldInfos.grids){if(this.fieldInfos.grids.some((e=>(i=e.columns.reduce(checkError,i),(null==i?void 0:i.level)===d.PXErrorLevel.Error||(null==i?void 0:i.level)===d.PXErrorLevel.RowError))))return this.errorInfo=i,void triggerEvent()}this.fieldInfos.fieldsets&&this.fieldInfos.fieldsets.some((e=>{const t=this.fieldsetPreferences[e.id];return t&&t.preferences.fieldOrder&&(i=t.preferences.fieldOrder.reduce(checkError,i)),i=e.defaultFields.reduce(checkError,i),(null==i?void 0:i.level)===d.PXErrorLevel.Error||(null==i?void 0:i.level)===d.PXErrorLevel.RowError})),this.errorInfo=i,triggerEvent()}getScreenID(){var e;return(null===(e=this.screenService)||void 0===e?void 0:e.isValid)?this.screenService.screenID:(0,u.getScreenID)()}static processContent(e,t,i,n){i.classList.add("v-stack");const r=i.getAttribute("ref");if(!r)return!0;let o=i;for(;o.parentNode;)o=o.parentNode;const a=o.querySelector(`#${r}`);if(!a)return!0;for(let e=0;e<i.childNodes.length;++e)i.removeChild(i.childNodes[e]);return i.append(a.content),!0}};i.__decorate([n.bindable,i.__metadata("design:type",String)],g.prototype,"id",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],g.prototype,"caption",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],g.prototype,"visible",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],g.prototype,"loadOnDemand",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],g.prototype,"tabbarId",void 0),g=h=i.__decorate([(0,n.customElement)("qp-tab"),n.autoinject,(0,n.inlineView)("<template css=\"${visible?'':'display:none !important'}\"><slot></slot></template>"),(0,n.processContent)(h.processContent),i.__metadata("design:paramtypes",[Element,a.ScreenService,n.Container,l.PreferencesService])],g),t.QpTabCustomElement=g}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/tabbar/qp-tabbar-edit":(e,t,i)=>{var n,r;n=[i,t,i(655),i(133),i(2594),i("aurelia-framework"),i(6778),i("aurelia-dialog"),i(8755),i(2880),i(9548),i(4026)],r=function(e,t,i,n,r,o,a,l,d,c,p,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementToViews=t.QpTabbarEditCustomElement=void 0;let h=class QpTabbarEditCustomElement extends d.BaseDialogWithEvents{constructor(e,t){super(t,e,!1),this.controller=e,this.msg=r.Messages,this.bottomDropZone={},this.topDropZone={},this.topItemActions=f,this.bottomItemActions=v,this.bottomItemOptions={showItemId:!1,dropEvents:!0,itemType:n.EditElementType.available},this.topItemOptions={showItemId:!1,itemType:n.EditElementType.choosen,dropEvents:!0}}activate(e){this.config=e,this.baseDialogConfig={dialogTitle:e.dialogTitle,containerClass:"edit-tabbar-container",getResult:()=>this.tabbarPreferences,resetToDefault:()=>this.resetConfigurationToDefault()},this.hiddenTabs=(0,t.elementToViews)(e.hiddenTabs),this.visibleTabs=(0,t.elementToViews)(e.visibleTabs),this.selectedHiddenTabs=[],this.selectedVisibleTabs=[],this.attachEvents(),this.tabbarPreferences=this.config.preferences?Object.assign(Object.assign({},this.config.preferences),{preferences:this.config.preferences.preferences?Object.assign({},this.config.preferences.preferences):{}}):void 0}resetConfigurationToDefault(){this.visibleTabs=(0,t.elementToViews)(this.config.allTabs),this.hiddenTabs=[],this.tabbarPreferences=new c.TabbarPreferences,this.unselectTabs()}processDropOnSection(e,t){e.dataTransfer&&this.drop(JSON.parse(e.dataTransfer.getData(g)),void 0,!1,t)}processDragOver(e,t,i,r){if(e.preventDefault(),t===n.EditElementType.available)return setDropZone(i,r,this.hiddenTabs,this.bottomDropZone),void(this.topDropZone={});setDropZone(i,r,this.visibleTabs,this.topDropZone),this.bottomDropZone={}}processDragLeave(e,t,i){if(e.preventDefault(),t===n.EditElementType.available){if(!i&&e.target!==this.bottomSectionElement)return!0;this.bottomDropZone={}}else{if(!i&&e.target!==this.topSectionElement)return!0;this.topDropZone={}}}processDragEnd(){this.bottomDropZone={},this.topDropZone={},this.dragInfo=void 0}selectTab(e,t,i,r){(0,p.makeElementSelection)(e,t,i,r===n.EditElementType.available?this.selectedHiddenTabs:this.selectedVisibleTabs,r===n.EditElementType.available?this.hiddenTabs:this.visibleTabs,r===n.EditElementType.available?this.lastSelectedHiddenTab:this.lastSelectedVisibleTab),r===n.EditElementType.available?this.lastSelectedHiddenTab=e:this.lastSelectedVisibleTab=e}unselectTabs(){this.hiddenTabs.forEach((e=>{e.selected=!1,e.hovered=!1})),this.visibleTabs.forEach((e=>{e.selected=!1,e.hovered=!1})),this.selectedHiddenTabs=[],this.selectedVisibleTabs=[]}drop(e,t,i,r){this.processDragEnd();!function dropElements(e,t,i,n,r,o){let a=0;a=n?t.findIndex((e=>e.id===n.id))+(r?0:1):t.length;i.forEach((t=>{const i=e.findIndex((e=>e.id===t.id));e.splice(i,1),o&&i<=a&&a--})),a<=0?t.unshift(...i):a<t.length?t.splice(a,0,...i):t.push(...i)}(e.colType===n.EditElementType.available?this.hiddenTabs:this.visibleTabs,r===n.EditElementType.available?this.hiddenTabs:this.visibleTabs,e.fields,t,i,e.colType===r),(0,u.dispatchEditEvent)(n.EditElementEvents.preferenceChanged,{preferenceName:"visibleTabOrder",newValue:this.visibleTabs.map((e=>e.id))}),(0,u.dispatchEditEvent)(n.EditElementEvents.preferenceChanged,{preferenceName:"hiddenTabOrder",newValue:this.hiddenTabs.map((e=>e.id))}),this.unselectTabs()}attachEvents(){this.addEventListner(document.body,n.EditElementEvents.activated,(e=>{e.detail.hovered=!0})),this.addEventListner(document.body,n.EditElementEvents.deactivated,(e=>{e.detail.hovered=!1})),this.addEventListner(document.body,n.EditElementEvents.select,(e=>{var t;(null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)&&this.selectTab(e.detail.item,e.detail.originalEvent.ctrlKey,e.detail.originalEvent.shiftKey,e.detail.itemType)})),this.addEventListner(document.body,n.EditElementEvents.dragStart,(e=>{var t,i;if(!(null===(i=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===i?void 0:i.dataTransfer))return;const r=e.detail.itemType===n.EditElementType.available?this.selectedHiddenTabs:this.selectedVisibleTabs,o={colType:e.detail.itemType,fields:r&&r.length?r:[e.detail.item]};e.detail.originalEvent.dataTransfer.effectAllowed="move",e.detail.originalEvent.dataTransfer.setData(g,JSON.stringify(o)),this.dragInfo=o})),this.addEventListner(document.body,n.EditElementEvents.dragOver,(e=>{var t,i;(null===(i=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===i?void 0:i.dataTransfer)&&(e.detail.originalEvent.dataTransfer.dropEffect="move",this.processDragOver(e.detail.originalEvent,e.detail.itemType,e.detail.item,!!e.detail.after))})),this.addEventListner(document.body,n.EditElementEvents.dragLeave,(e=>{var t,i;(null===(i=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===i?void 0:i.dataTransfer)&&this.processDragLeave(e.detail.originalEvent,e.detail.itemType,e.detail.item)})),this.addEventListner(document.body,n.EditElementEvents.drop,(e=>{var t,i;(null===(i=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.originalEvent)||void 0===i?void 0:i.dataTransfer)&&this.drop(JSON.parse(e.detail.originalEvent.dataTransfer.getData(g)),e.detail.item,!e.detail.after,e.detail.itemType)})),this.addEventListner(document.body,n.EditElementEvents.preferenceChanged,(e=>{this.tabbarPreferences=this.tabbarPreferences||new c.TabbarPreferences;const t=this.tabbarPreferences.preferences;if(e.detail.tabId){if(t[e.detail.preferenceName]=t[e.detail.preferenceName]||{},t[e.detail.preferenceName][e.detail.tabId]=e.detail.newValue,e.detail.newElementView){const t=this.visibleTabs.findIndex((t=>{var i;return t.id===(null===(i=e.detail.newElementView)||void 0===i?void 0:i.id)}));t>-1&&(this.visibleTabs[t]=e.detail.newElementView)}}else t[e.detail.preferenceName]=e.detail.newValue})),this.addEventListner(document.body,n.EditElementEvents.addElementToEnd,(e=>{this.drop({colType:e.detail.itemType,fields:[e.detail.item]},void 0,!1,e.detail.itemType===n.EditElementType.choosen?n.EditElementType.available:n.EditElementType.choosen)}))}};h=i.__decorate([o.autoinject,i.__metadata("design:paramtypes",[l.DialogController,a.EventManager])],h),t.QpTabbarEditCustomElement=h;const g="tabitem",m={isEnabled:()=>!0,isReadonly:()=>!1,isVisible:e=>e,getState:()=>""},f=[Object.assign(Object.assign({},m),{className:"edit-field-icon--eye",onClick:e=>((0,u.dispatchEditEvent)(n.EditElementEvents.addElementToEnd,{item:e,itemType:n.EditElementType.choosen}),e),getIcon:()=>"svg:main@pageLast"})],v=[Object.assign(Object.assign({},m),{className:"edit-field-icon--eye",onClick:e=>((0,u.dispatchEditEvent)(n.EditElementEvents.addElementToEnd,{item:e,itemType:n.EditElementType.available}),e),getIcon:()=>"svg:main@pageFirst"})];function setDropZone(e,t,i,n){let r=e;if(!r){if(!(i&&i.length>0))return void(n.sectionZoneActive||(n.sectionZoneActive=!0,n.afterId=void 0,n.beforeId=void 0));r=i[i.length-1]}const o=t||null==r?void 0:r.id,a=t?null==r?void 0:r.id:void 0;if(a===n.afterId&&o===n.beforeId)return;const l=r?i.findIndex((e=>e.id===(null==r?void 0:r.id))):-1;if(l>=(t?0:1)&&l<(t?i.length-1:i.length)){const e=t?i[l+1].id:i[l-1].id;if(t&&n.beforeId===e||!t&&n.afterId===e)return}n.afterId=a,n.beforeId=o}t.elementToViews=e=>e.map((e=>Object.assign(Object.assign({},e),{hovered:!1,selected:!1})))}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/tabbar/qp-tabbar":(e,t,i)=>{var n,r;n=[i,t,i(655),i(2880),i("aurelia-framework"),i(8099),i(4834),i(2172),i(2594),i("client-controls/controls/container/tabbar/qp-tabbar-edit"),i("aurelia-dialog"),i(7052),i(9548),i(4047),i(7140),i(7124)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g,m,f){"use strict";var v;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTabbarCustomElement=void 0;const b=(0,o.getLogger)("qp-tabbar");let y=v=class QpTabbarCustomElement{constructor(e,t,i,n,r,o){this.element=e,this.taskQueue=t,this.screenService=i,this.eventManager=n,this.dialogService=r,this.preferencesService=o,this.activeTabId="",this.viewMode=l.ViewMode.View,this.msg=d.Messages,this.tabs=[],this.renderedTabs=[],this.defaultTabs=[],this.tabsMap={},this.hiddenHeaders=[],this.userHiddenHeaders=[],this.dotsVisible=!1,this.userHiddenHeadersAvailable=!1,this.menuOpened=!1,this.subscriptions=[],this.lastVisibleIndex=-1,this.hoveringTabId=void 0,this.dotsHovering=!1,this.switchedManually=!1,this.draggableTab=void 0,this.dragStarted=!1,this.draggingOverDots=!1,this.hiddenEmptyDropZoneActive=!1,this.hiddenTabsError={level:l.PXErrorLevel.Undefined},b.warn("constructor")}tabsChanged(e){var t;if(this.activeId&&this.tabs.length!==e.length)for(const i of e){if(!(null===(t=i.addedNodes)||void 0===t?void 0:t.length))continue;const e=i.addedNodes[0].id,n=this.tabs.find((t=>t.id===e));n&&(n.loadOnDemand=!0)}this.processTabs()}activeTabIdChanged(e,t){this.showTab(e)}showTab(e,t=!0){var i,n;if(this.menuOpened&&(this.menuOpened=!1),!(null===(i=this.tabs)||void 0===i?void 0:i.length)||!(null===(n=this.renderedTabs)||void 0===n?void 0:n.length))return;t&&(this.switchedManually=!0);const r=this.activeId;let o=e;o!==this.activeId&&(this.activeId=o),this.tabsMap[o]||(o=this.renderedTabs[0].id,this.activeId=o);const a=this.tabs.find((e=>e.id===o));if(a){if(!a.visible){for(const e of this.tabs)e.id===o?e.visible=!0:e.visible=!1;r&&(null==a?void 0:a.loadOnDemand)&&(a.loadOnDemand=!1,setTimeout((()=>{this.screenService.update(void 0,new l.ScreenUpdateParams(void 0,a.element))}),1))}setTimeout((()=>{this.showTabHeader(o)}),2)}}bind(){return i.__awaiter(this,void 0,void 0,(function*(){this.id&&this.preferencesService.subscribe(this.id,this)}))}attached(){this.config||(this.config={id:""}),this.config.id||(this.config.id=this.element.getAttribute("id")||""),this.resizeObserver=new r.PLATFORM.global.ResizeObserver((e=>{e&&e.length&&this.onWidthChange()})),this.resizeObserver.observe(this.headerElement),this.subscriptions.push(this.eventManager.addEventListener(document.body,"startScreenConfiguration",(()=>{this.viewMode=l.ViewMode.Edit}),r.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(document.body,"endScreenConfiguration",(()=>{this.viewMode=l.ViewMode.View}),r.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(document.body,g.DropEventName,(e=>{var t,i;const n=e;(0,g.drop)(null===(t=null==n?void 0:n.detail)||void 0===t?void 0:t.dropLocation,{renderedTabs:this.renderedTabs,hiddenTabs:this.userHiddenHeaders},null===(i=null==n?void 0:n.detail)||void 0===i?void 0:i.draggableTabId)&&(this.saveLayout(),setTimeout((()=>{this.showTabHeader(this.activeId)}),1))}),r.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(document.body,n.tabErrorsChangedEvent,(()=>this.findHiddenTabsError()),r.delegationStrategy.none,!0)),this.subscriptions.push(this.eventManager.addEventListener(this.element,n.tabIsEmptyChangedEvent,(e=>{var t;const i=this.tabsMap[e.detail.id];(null==i?void 0:i.id)===this.activeId&&(null==i?void 0:i.isEmpty)&&this.showTab(this.activeTabId||this.renderedTabs[0].id),(null===(t=this.rightTabHeader)||void 0===t?void 0:t.isEmpty)&&(this.rightTabHeader=void 0),this.userHiddenHeadersAvailable=!!this.userHiddenHeaders.find((e=>!e.isEmpty)),this.dotsVisible=!(!this.hiddenHeaders.find((e=>!e.isEmpty))&&!this.userHiddenHeadersAvailable)}),r.delegationStrategy.none,!0))}detached(){this.subscriptions.forEach((e=>null==e?void 0:e.dispose())),this.subscriptions=[],this.resizeObserver.disconnect(),this.resizeObserver=void 0}findHiddenTabsError(){var e,t;const i={level:l.PXErrorLevel.Undefined};if(this.hiddenHeaders)for(const t of this.hiddenHeaders)(null===(e=t.errorInfo)||void 0===e?void 0:e.level)&&t.errorInfo.level>i.level&&(i.level=t.errorInfo.level);if(this.userHiddenHeaders)for(const e of this.userHiddenHeaders)(null===(t=e.errorInfo)||void 0===t?void 0:t.level)&&e.errorInfo.level>i.level&&(i.level=e.errorInfo.level);this.hiddenTabsError=i}onWidthChange(){this.menuOpened=!1,this.showTabHeader(this.activeId)}onPointerEnter(e){return!this.draggableTab&&(this.hoveringTabId=e,!0)}onPointerLeave(e){return!(!this.hoveringTabId||e!==this.hoveringTabId)&&(this.hoveringTabId=void 0,!0)}onDotsPointerEnter(){return!this.draggableTab&&(this.dotsHovering=!0,!0)}onDotsPointerLeave(){return!!this.dotsHovering&&(this.dotsHovering=!1,!0)}stopPropagation(e){return e.stopPropagation(),!1}toggleMenu(e){return this.menuOpened=!this.menuOpened,!0}showEditDialog(){var e,t,n,r,o,a;return i.__awaiter(this,void 0,void 0,(function*(){if(!this.id)return;const i=null===(e=this.preferencesService.getPreferences(this.id))||void 0===e?void 0:e.def,l=[],p={};let u;this.defaultTabs.forEach((e=>{const t={name:e.captionText,id:e.id,parentId:"",visible:!0};l.push(t),p[t.id]=t}));let h=[];(null===(t=null==i?void 0:i.preferences)||void 0===t?void 0:t.visibleTabOrder)||(null===(n=null==i?void 0:i.preferences)||void 0===n?void 0:n.hiddenTabOrder)?(h=((null===(r=null==i?void 0:i.preferences)||void 0===r?void 0:r.hiddenTabOrder)||[]).map((e=>p[e])),u=((null===(o=null==i?void 0:i.preferences)||void 0===o?void 0:o.visibleTabOrder)||[]).map((e=>p[e]))):u=l.map((e=>Object.assign({},e)));const g={dialogTitle:d.Messages.TabConfigurationTitle,topSectionTitle:d.Messages.TabConfigurationVisibleTabs,bottomSectionTitle:d.Messages.TabConfigurationHiddenTabs,preferences:i,allTabs:l,visibleTabs:u,hiddenTabs:h};(null===(a=this.dialogService)||void 0===a?void 0:a.open({viewModel:c.QpTabbarEditCustomElement,model:g,lock:!1})).whenClosed((e=>{e&&!e.wasCancelled&&this.preferencesService.setPreferences(this.id,e.output,"def",!0);const t=this.preferencesService.getPreferences(this.id);this.preferences=t?Object.assign({},t):void 0}))}))}applyPreferences(e){this.preferences=e,this.processTabs()}onPointerDown(e,t,i){if(!this.draggableTab)return e.stopPropagation(),this.draggableTab={id:t.id,captionText:t.captionText},document.body.addEventListener("pointermove",(e=>this.onPointerMove(e,i))),document.body.addEventListener("pointerup",(()=>this.onPointerUp())),!0}onPointerMove(e,t){var i;if(!this.draggableTab)return;const n=this.dragElement.getBoundingClientRect();this.dragFloaterRect={left:e.clientX,right:e.clientX+n.width,top:e.clientY,bottom:e.clientY+n.height},this.dragStarted||(this.dragStarted=!0,this.fillVisibleTabDropzones()),!this.menuOpened||!this.tabbarMenu||this.hiddenDropZoneBorders&&this.emptyHiddenDropZone||(this.tabbarMenuRect=null===(i=this.tabbarMenu)||void 0===i?void 0:i.getBoundingClientRect(),this.fillHiddenTabDropzones()),!this.menuOpener||this.dropZoneMenuOperer&&this.dropZoneMenuOperer.left!==this.dropZoneMenuOperer.right&&0!==n.width||(this.dropZoneMenuOperer=this.menuOpener.getBoundingClientRect()),this.dropZoneMenuOperer&&(this.draggingOverDots=(0,h.rectsIntersect)(this.dragFloaterRect,this.dropZoneMenuOperer),this.draggingOverDots&&!this.menuOpened&&(this.menuOpened=!0)),this.findDropZone()}onPointerUp(){var e,t,i,n,r,o;if(!this.draggableTab)return;const a={visibleAfterId:(null===(e=this.visibleDropZone)||void 0===e?void 0:e.afterId)||(null===(t=this.hiddenDropZone)||void 0===t?void 0:t.afterId),visibleBeforeId:(null===(i=this.visibleDropZone)||void 0===i?void 0:i.beforeId)||(null===(n=this.hiddenDropZone)||void 0===n?void 0:n.beforeId),hiddenAfterId:null===(r=this.userHiddenDropZone)||void 0===r?void 0:r.afterId,hiddenBeforeId:null===(o=this.userHiddenDropZone)||void 0===o?void 0:o.beforeId,hiddenIsEmpty:this.hiddenEmptyDropZoneActive};(0,h.dispatchDropEvent)({dropLocation:a,draggableTabId:this.draggableTab.id}),this.draggableTab=void 0,this.dragStarted=!1,this.visibleDropZone=void 0,this.hiddenDropZone=void 0,this.userHiddenDropZone=void 0,this.draggingOverDots=!1,this.hiddenDropZoneBorders=void 0,this.hiddenEmptyDropZoneActive=!1,document.body.removeEventListener("pointermove",(e=>this.onPointerMove(e))),document.body.removeEventListener("pointerup",(e=>this.onPointerUp()))}onMenuScroll(e){return e.stopImmediatePropagation(),!0}onMenuClick(e){return e.stopPropagation(),!0}getErrorStyle(e){return e?e.level===l.PXErrorLevel.Error||e.level===l.PXErrorLevel.RowError?"tab-header--error":e.level===l.PXErrorLevel.RowWarning||e.level===l.PXErrorLevel.Warning?"tab-header--warning":"":""}getErrorIcon(e){return e?e.level===l.PXErrorLevel.Error||e.level===l.PXErrorLevel.RowError?"main@errorExclamation":e.level===l.PXErrorLevel.RowWarning||e.level===l.PXErrorLevel.Warning?"main@warningExclamation":"":""}static ProcessContent(e,t,i){f.TabbarFieldsService.initTabbar({screenId:(0,m.getScreenID)(),tabbarId:i.id,innerHtml:i.innerHTML});return Array.from(i.getElementsByTagName("QP-TAB")).forEach((e=>e.setAttribute("tabbar-id",i.id))),!0}processTabs(){var e,t,i,n,r,o,a,d,c,p,u,h,g,m,f,v,b,y,x;const C=[];let _,S;if(this.defaultTabs=[],null===(e=this.tabs)||void 0===e||e.forEach((e=>{e.element.classList.contains("aurelia-hide")||e&&(C.push(e),this.defaultTabs.push({id:e.id,captionText:e.captionText}),this.tabsMap[e.id]=e)})),this.viewMode!==l.ViewMode.Edit&&(null===(n=null===(i=null===(t=this.preferences)||void 0===t?void 0:t.user)||void 0===i?void 0:i.preferences)||void 0===n?void 0:n.hiddenTabOrder)&&(null===(a=null===(o=null===(r=this.preferences)||void 0===r?void 0:r.user)||void 0===o?void 0:o.preferences)||void 0===a?void 0:a.visibleTabOrder)?(_=null===(v=null===(f=null===(m=this.preferences)||void 0===m?void 0:m.user)||void 0===f?void 0:f.preferences)||void 0===v?void 0:v.visibleTabOrder,S=null===(x=null===(y=null===(b=this.preferences)||void 0===b?void 0:b.user)||void 0===y?void 0:y.preferences)||void 0===x?void 0:x.hiddenTabOrder):(_=null===(p=null===(c=null===(d=this.preferences)||void 0===d?void 0:d.def)||void 0===c?void 0:c.preferences)||void 0===p?void 0:p.visibleTabOrder,S=null===(g=null===(h=null===(u=this.preferences)||void 0===u?void 0:u.def)||void 0===h?void 0:h.preferences)||void 0===g?void 0:g.hiddenTabOrder),_&&S){const e={},t=[],i=[];for(const i of _){const n=this.tabsMap[i];n&&(t.push(n),e[i]=!0)}for(const t of S){const n=this.tabsMap[t];n&&(i.push(n),e[t]=!0)}for(const i of C)i&&(e[i.id]||t.push(i));this.renderedTabs=t,this.userHiddenHeaders=i}else this.renderedTabs=C,this.userHiddenHeaders=[];this.showTab(this.switchedManually?this.activeId:this.activeTabId,!1)}isTabHidden(e){const t=this.getTabHeaderElement(e);return!t||tabHeaderElementIsHidden(t)}showTabHeader(e){var t,i,n;let r=-1,o=-1,a=-1,l=-1;const d=[];for(let t=0;t<this.renderedTabs.length;t++){const i=this.renderedTabs[t];i&&(this.isTabHidden(i.id)?i.id!==e&&d.push(i):r=t,i.id===e&&(o=t),this.rightTabHeader&&this.rightTabHeader.id===i.id&&(l=t))}const c=r<this.lastVisibleIndex;this.lastVisibleIndex=r;const p=null===(i=null===(t=this.renderedTabs[r])||void 0===t?void 0:t.headerHost)||void 0===i?void 0:i.getBoundingClientRect(),u=null===(n=this.headerElement)||void 0===n?void 0:n.getBoundingClientRect();this.rightTabPartMargin=p&&u?p.right-u.left:0,this.rightTabHeader&&(c&&this.rightTabHeader.id!==e||l>-1&&l<=r)&&(this.rightTabHeader=void 0,d.shift()),this.hiddenHeaders=d,o>r?this.rightTabHeader=this.renderedTabs[o]:o<0&&(a=this.userHiddenHeaders.findIndex((t=>(null==t?void 0:t.id)===e)),a>-1&&(this.rightTabHeader=this.userHiddenHeaders[a])),this.userHiddenHeadersAvailable=!!this.userHiddenHeaders.find((e=>!e.isEmpty)),this.dotsVisible=!(!this.hiddenHeaders.find((e=>!e.isEmpty))&&!this.userHiddenHeadersAvailable),setTimeout((()=>{var e,t;this.rightTabPartWidth=(null===(t=null===(e=this.rightTabPart)||void 0===e?void 0:e.getBoundingClientRect())||void 0===t?void 0:t.width)||0,this.renderedTabs.forEach((e=>e.onShowHeader&&e.onShowHeader())),this.userHiddenHeaders.forEach((e=>e.onShowHeader&&e.onShowHeader())),this.findHiddenTabsError()}),0)}getTabHeaderElement(e,t){const i=this.tabsMap[e];return t?r.PLATFORM.global.document.body.querySelector(`.qp-tabbar-menu-item[tabid='${e}']`):(i.headerHost=this.element.querySelector(`.qp-tabbar-tab[tabid='${e}']`),i.headerHost)}fillVisibleTabDropzones(){const e=this.tabs.map((e=>{const t=this.getTabHeaderElement(null==e?void 0:e.id);if(tabHeaderElementIsHidden(t))return null;const i=t.getBoundingClientRect();return{left:Math.floor(i.left),right:Math.ceil(i.right),top:Math.floor(i.top),bottom:Math.ceil(i.bottom),middle:Math.floor(i.left+i.width/2),tabId:e.id}})).filter((e=>!!e)).sort(((e,t)=>e.left-t.left));this.dropZoneBorders=[];for(let t=0;t<e.length;t++)this.dropZoneBorders.push({left:t>0?e[t-1].middle:e[t].left,right:e[t].middle,top:e[t].top,bottom:e[t].bottom,beforeId:e[t].tabId,afterId:void 0}),t===e.length-1&&this.dropZoneBorders.push({left:e[t].middle,right:e[t].right+1,top:e[t].top,bottom:e[t].bottom,beforeId:void 0,afterId:e[t].tabId})}fillHiddenTabDropzones(){var e;0===this.userHiddenHeaders.length&&(this.emptyHiddenDropZone=null===(e=this.menuBlankElement)||void 0===e?void 0:e.getBoundingClientRect());const getHeaderElement=e=>this.getTabHeaderElement(e,!0);this.hiddenDropZoneBorders=[...(0,h.getVerticalDropZones)(this.hiddenHeaders,getHeaderElement).map((e=>Object.assign(Object.assign({},e),{userHidden:!1}))),...(0,h.getVerticalDropZones)(this.userHiddenHeaders,getHeaderElement).map((e=>Object.assign(Object.assign({},e),{userHidden:!0})))]}findDropZone(){const e=this.dropZoneBorders.find((e=>(0,h.rectsIntersect)(e,this.dragFloaterRect)));if(this.visibleDropZone=e,e)return this.menuOpened&&(this.menuOpened=!1),this.hiddenDropZone=void 0,void(this.userHiddenDropZone=void 0);if(!(0,h.rectsIntersect)(this.dragFloaterRect,this.tabbarMenuRect))return this.hiddenEmptyDropZoneActive=!1,this.hiddenDropZone=void 0,void(this.userHiddenDropZone=void 0);if(0===this.userHiddenHeaders.length&&this.emptyHiddenDropZone&&(this.hiddenEmptyDropZoneActive=(0,h.rectsIntersectVertically)(this.dragFloaterRect,this.emptyHiddenDropZone),this.userHiddenDropZone=void 0),!this.hiddenDropZoneBorders)return;const t=this.hiddenDropZoneBorders.find((e=>(0,h.rectsIntersectVertically)(e,this.dragFloaterRect)));(null==t?void 0:t.userHidden)?(this.hiddenDropZone=void 0,this.userHiddenDropZone=t):(this.hiddenDropZone=t,this.userHiddenDropZone=void 0)}saveLayout(){var e,t;return i.__awaiter(this,void 0,void 0,(function*(){if(!this.id)return;const i=new n.TabbarPreferences;i.preferences.hiddenTabOrder=null===(e=this.userHiddenHeaders)||void 0===e?void 0:e.map((e=>e.id)),i.preferences.visibleTabOrder=null===(t=this.renderedTabs)||void 0===t?void 0:t.map((e=>e.id)),this.viewMode===l.ViewMode.Edit?this.preferencesService.setPreferences(this.id,i,"def"):yield this.preferencesService.saveUserPreferences((0,m.getScreenID)(),this.id,i)}))}};function tabHeaderElementIsHidden(e){return!e||0===e.offsetWidth||e.offsetTop>22.5||e.id.endsWith("_hidden")}i.__decorate([r.bindable,i.__metadata("design:type",String)],y.prototype,"activeTabId",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],y.prototype,"config",void 0),i.__decorate([r.bindable,i.__metadata("design:type",String)],y.prototype,"viewMode",void 0),i.__decorate([r.bindable,i.__metadata("design:type",String)],y.prototype,"id",void 0),i.__decorate([(0,r.children)("qp-tab"),i.__metadata("design:type",Array)],y.prototype,"tabs",void 0),y=v=i.__decorate([(0,r.customElement)("qp-tabbar"),(0,r.processContent)(v.ProcessContent),r.autoinject,i.__metadata("design:paramtypes",[Element,r.TaskQueue,a.ScreenService,r.EventManager,p.DialogService,u.PreferencesService])],y),t.QpTabbarCustomElement=y}.apply(t,n),void 0===r||(e.exports=r)},4047:(e,t,i)=>{var n;n=function(e,t){"use strict";var i;function findSourceAndIndex(e,t){var n,r;let o=null===(n=t.renderedTabs)||void 0===n?void 0:n.findIndex((t=>t.id===e));return o>-1?{sourceType:i.rendered,index:o,tabs:t.renderedTabs}:(o=null===(r=t.hiddenTabs)||void 0===r?void 0:r.findIndex((t=>t.id===e)),o>-1?{sourceType:i.hidden,index:o,tabs:t.hiddenTabs}:{sourceType:i.none,index:-1,tabs:[]})}function boolToNumber(e){return e?1:0}Object.defineProperty(t,"__esModule",{value:!0}),t.drop=t.DropEventName=void 0,function(e){e[e.none=0]="none",e[e.rendered=1]="rendered",e[e.hidden=2]="hidden"}(i||(i={})),t.DropEventName="tabbar_drop",t.drop=function drop(e,t,n){if(!n||!t||!function dropLocationIsValid(e){return!!e&&1===boolToNumber(!!e.visibleAfterId)+boolToNumber(!!e.visibleBeforeId)+boolToNumber(!!e.hiddenAfterId)+boolToNumber(!!e.hiddenBeforeId)+boolToNumber(e.hiddenIsEmpty)}(e))return!1;const r=findSourceAndIndex(n,t),o=e.hiddenIsEmpty?{sourceType:i.hidden,index:t.hiddenTabs.length,tabs:t.hiddenTabs}:findSourceAndIndex(e.visibleAfterId||e.visibleBeforeId||e.hiddenAfterId||e.hiddenBeforeId,t);if((e.visibleAfterId||e.hiddenAfterId)&&(o.index=o.index+1),o.sourceType===r.sourceType&&(o.index=o.index-(r.index<o.index?1:0)),r.sourceType===i.none||o.sourceType===i.none||o.sourceType===r.sourceType&&r.index===o.index)return!1;const a=r.tabs.splice(r.index,1)[0];return o.index>=o.tabs.length?o.tabs.push(a):o.tabs.splice(o.index,0,a),!0}}.apply(t,[i,t]),void 0===n||(e.exports=n)},2880:(e,t,i)=>{var n,r;n=[i,t,i(7052)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tabIsEmptyChangedEvent=t.tabErrorsChangedEvent=t.TabbarPreferences=void 0;class TabbarPreferences extends i.PreferenceBase{constructor(){super(),this.type="qp-tabbar",this.preferences={}}}t.TabbarPreferences=TabbarPreferences,t.tabErrorsChangedEvent="tabErrorsChangedEvent",t.tabIsEmptyChangedEvent="tabIsEmptyChangedEvent"}.apply(t,n),void 0===r||(e.exports=r)},9548:(e,t,i)=>{var n,r;n=[i,t,i(4047)],r=function(e,t,i){"use strict";function rectsIntersectHorizontrally(e,t){return!(!e||!t)&&(e.right>=t.left&&e.left<=t.right)}function rectsIntersectVertically(e,t){return!(!e||!t)&&(e.bottom>=t.top&&e.top<=t.bottom)}Object.defineProperty(t,"__esModule",{value:!0}),t.getVerticalDropZones=t.dispatchDropEvent=t.rectsIntersectVertically=t.rectsIntersectHorizontrally=t.rectsIntersect=t.makeElementSelection=void 0,t.makeElementSelection=function makeElementSelection(e,t,i,n,r,o){const a=e.selected;if(t){if(e.selected=!e.selected,a){const t=n.indexOf(e);t>-1&&n.splice(t,1)}else n.push(e);return}if(n.forEach((e=>e.selected=!1)),n.splice(0,n.length),!i||!o)return void(a&&o||(e.selected=!0,n.push(e)));let l=!1;for(const t of r){const i=t.id===o.id||t.id===e.id;if((l||i)&&(t.selected=!0,n.push(t)),i&&(l=!l,!l))break}},t.rectsIntersect=function rectsIntersect(e,t){return rectsIntersectHorizontrally(e,t)&&rectsIntersectVertically(e,t)},t.rectsIntersectHorizontrally=rectsIntersectHorizontrally,t.rectsIntersectVertically=rectsIntersectVertically,t.dispatchDropEvent=function dispatchDropEvent(e){const t=new CustomEvent(i.DropEventName,{bubbles:!0,detail:e});document.body.dispatchEvent(t)},t.getVerticalDropZones=function getVerticalDropZones(e,t){const i=[],n=e.map((e=>{const i=t(e.id).getBoundingClientRect();return{top:Math.floor(i.top),bottom:Math.ceil(i.bottom),middle:Math.floor(i.top+i.height/2),tabId:e.id}})).sort(((e,t)=>e.top-t.top));for(let e=0;e<n.length;e++)i.push({top:e>0?n[e-1].middle:n[e].top,bottom:n[e].middle,beforeId:n[e].tabId,afterId:void 0}),e===n.length-1&&i.push({top:n[e].middle,bottom:n[e].bottom+1,beforeId:void 0,afterId:n[e].tabId});return i}}.apply(t,n),void 0===r||(e.exports=r)},7589:(e,t,i)=>{var n,r;n=[i,t,i(655),i(6778),i("aurelia-framework"),i(6778),i("client-controls/controls/dialog/informer/qp-informer-rack")],r=function(e,t,i,n,r,o,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTemplateCustomElement=t.ScreenTemplates=void 0,t.ScreenTemplates=new Map,t.ScreenTemplates.set("7-10-7",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t\t<div class="col-sm-12 col-md-12 col-lg-7_17 v-stack-children"><slot name="A">Slot A</slot></div>\n\t\t\t<div class="col-sm-12 col-md-12 col-lg-10_17 v-stack-children"><slot name="B"></slot></div>\n\t\t</div>\n\t\t<div class="col-sm-12 col-md-5 col-lg-7_24 v-stack-children"><slot name="C"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("10-7-7",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-12 col-lg-5 v-stack-children"><slot name="A"></slot></div>\n\t\t<div class="h-stack col-sm-12 col-md-12 col-lg-7">\n\t\t\t<div class="col-sm-12 col-md-6 col-lg-6 v-stack-children"><slot name="B">Slot A</slot></div>\n\t\t\t<div class="col-sm-12 col-md-6 col-lg-6 v-stack-children"><slot name="C"></slot></div>\n\t\t</div>\n\t</div>\n'),t.ScreenTemplates.set("1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-12 col-lg-12 v-stack-children"><slot name="A">Slot A</slot></div>\n\t</div>\n'),t.ScreenTemplates.set("1-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-12 col-lg-6 v-stack-children"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-12 col-lg-6 v-stack-children"><slot name="B"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("1-1-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-6 col-lg-4 v-stack-children"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-6 col-lg-4 v-stack-children"><slot name="B"></slot></div>\n\t\t<div class="col-sm-12 col-md-6 col-lg-4 v-stack-children"><slot name="C"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("17-7",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-7 col-lg-17_24 expandable-width v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-5 col-lg-7_24 v-stack-children"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("7-17",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-7 col-lg-7_24 v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-12 col-lg-17_24 expandable-width v-stack-children"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("2-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-8 col-lg-8 expandable-width v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-4 col-lg-4 v-stack-children"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("1-2",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-4 col-lg-4 v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-8 col-lg-8 expandable-width v-stack-children"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("17-17-14",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t<div class="col-sm-12 col-md-12 col-lg-6 v-stack-children"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-12 col-lg-6 v-stack-children"><slot name="B"></slot></div>\n\t</div>\n\t<div class="col-sm-12 col-md-5 col-lg-7_24 v-stack-children"><slot name="C"></slot></div>\n</div>\n'),t.ScreenTemplates.set("14-17-17",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-5 col-lg-7_24 v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t<div class="col-sm-12 col-md-12 col-lg-6 v-stack-children"><slot name="B"></slot></div>\n\t\t<div class="col-sm-12 col-md-12 col-lg-6 v-stack-children"><slot name="C"></slot></div>\n\t</div>\n</div>\n'),t.ScreenTemplates.set("17-14-17",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-6 col-lg-17_48 v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-6 col-lg-7_24 v-stack-children"><slot name="B"></slot></div>\n\t<div class="col-sm-12 col-md-6 col-lg-17_48 v-stack-children"><slot name="C"></slot></div>\n</div>\n'),t.ScreenTemplates.set("17-31",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-5 col-lg-17_48 v-stack-children"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-7 col-lg-31_48 expandable-width v-stack-children"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("top-7-10-7",'\n\t<div id="${id}_form" class="h-stack equal-height">\n\t\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t\t<div class="col-sm-12 col-md-12 col-lg-7_17"><slot name="A">Slot A</slot></div>\n\t\t\t<div class="col-sm-12 col-md-12 col-lg-10_17"><slot name="B"></slot></div>\n\t\t</div>\n\t\t<div class="col-sm-12 col-md-5 col-lg-7_24"><slot name="C"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("base-7-10-7",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t\t<div class="col-sm-12 col-md-12 col-lg-7_17"><slot name="A">Slot A</slot></div>\n\t\t\t<div class="col-sm-12 col-md-12 col-lg-10_17"><slot name="B"></slot></div>\n\t\t</div>\n\t\t<div class="col-sm-12 col-md-5 col-lg-7_24"><slot name="C"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("base-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-12 col-lg-12"><slot name="A">Slot A</slot></div>\n\t</div>\n'),t.ScreenTemplates.set("base-1-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-12 col-lg-6"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-12 col-lg-6"><slot name="B"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("base-1-1-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t\t<div class="col-sm-12 col-md-6 col-lg-4"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-6 col-lg-4"><slot name="B"></slot></div>\n\t\t<div class="col-sm-12 col-md-6 col-lg-4"><slot name="C"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("top-1-1-1",'\n\t<div id="${id}_form" class="h-stack equal-height">\n\t\t<div class="col-sm-12 col-md-6 col-lg-4"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-6 col-lg-4"><slot name="B"></slot></div>\n\t\t<div class="col-sm-12 col-md-6 col-lg-4"><slot name="C"></slot></div>\n\t</div>\n'),t.ScreenTemplates.set("base-17-7",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-7 col-lg-17_24"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-5 col-lg-7_24 expandable-width"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("base-7-17",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-7 col-lg-7_24"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-12 col-lg-17_24 expandable-width"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("base-2-1",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-8 col-lg-8"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-4 col-lg-4 expandable-width"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("base-1-2",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="col-sm-12 col-md-4 col-lg-4"><slot name="A">Slot A</slot></div>\n\t<div class="col-sm-12 col-md-8 col-lg-8 expandable-width"><slot name="B"></slot></div>\n</div>\n'),t.ScreenTemplates.set("base-17-17-14",'\n\t<div id="${id}_form" class="h-stack stretch">\n\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t<div class="col-sm-12 col-md-12 col-lg-6"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-12 col-lg-6"><slot name="B"></slot></div>\n\t</div>\n\t<div class="col-sm-12 col-md-5 col-lg-7_24"><slot name="C"></slot></div>\n</div>\n'),t.ScreenTemplates.set("top-17-17-14",'\n\t<div id="${id}_form" class="h-stack equal-height">\n\t<div class="h-stack col-sm-12 col-md-7 col-lg-17_24">\n\t\t<div class="col-sm-12 col-md-12 col-lg-6"><slot name="A">Slot A</slot></div>\n\t\t<div class="col-sm-12 col-md-12 col-lg-6"><slot name="B"></slot></div>\n\t</div>\n\t<div class="col-sm-12 col-md-5 col-lg-7_24"><slot name="C"></slot></div>\n</div>\n');let d=l=class QpTemplateCustomElement{constructor(e,t,i,n,r){this.element=e,this.viewCompiler=t,this.viewSlot=i,this.container=n,this.viewResources=r}bind(e,t){this.overrideContext=(0,o.createOverrideContext)(this,t),this.id||(0,a.fatalError)("qp-template tag requires the id attribute. Please define the id attribute for all qp-template tags.",this.element)}attached(){const e=this.viewCompiler.compile(`<template>${this.currentTemplate}</template>`,this.viewResources).create(this.container);e.contentView={fragment:this.element.querySelector("slot-content")},e.bind(this,this.overrideContext),this.viewSlot.add(e),this.viewSlot.attached()}get currentTemplate(){return t.ScreenTemplates.get(this.name)}static processContent(e,t,i,n){const r=document.createElement("slot-content"),o=Array.from(i.childNodes);return r.append(...o),i.replaceChildren(r),!0}};i.__decorate([r.bindable,i.__metadata("design:type",String)],d.prototype,"id",void 0),i.__decorate([r.bindable,i.__metadata("design:type",String)],d.prototype,"name",void 0),i.__decorate([(0,n.computedFrom)("name"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],d.prototype,"currentTemplate",null),d=l=i.__decorate([(0,r.customElement)("qp-template"),(0,r.inlineView)("<template><slot></slot></template>"),r.autoinject,(0,r.processContent)(l.processContent),i.__metadata("design:paramtypes",[Element,r.ViewCompiler,r.ViewSlot,r.Container,r.ViewResources])],d),t.QpTemplateCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/container/wizard/qp-wizard":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099),i(3116),i(4834),i(2172),i(6075)],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpWizardCustomElement=void 0;(0,r.getLogger)("qp-wizard");let c=class QpWizardCustomElement{constructor(e,t,i,n){this.element=e,this.tq=t,this.screenService=i,this.keyboardService=n,this.activeTabId="",this.tabs=[],this.Msg=o.Messages}bind(){}tabsChanged(){for(let e=0;e<this.tabs.length;++e){const t=this.tabs[e];t.id||(t.id=`_${e}`)}this.tabs.length&&(this.activeTabId?this.activeTabIdChanged(this.activeTabId):this.activeTabId=this.tabs[0].id)}activeTabIdChanged(e,t){let i=-1,n=!1;for(let e=0;e<this.tabs.length;++e){const t=this.tabs[e];t.id===this.activeTabId?(t.visible||(t.visible=!0,n=!0),i=e):t.visible=!1}if(i>=0){const e=this.tabs[i];t&&n&&(null==e?void 0:e.loadOnDemand)&&this.screenService.update(void 0,new l.ScreenUpdateParams(void 0,e.element));const r=new CustomEvent("changeconfig",{bubbles:!0,detail:{caption:this.tabs[i].caption}});this.element.dispatchEvent(r),this.tq.queueTask((()=>{this.keyboardService.clearFocus(),this.keyboardService.focusFirstElement()}))}}attached(){this.tabsChanged()}showTab(e){this.activeTabId=e}processPrev(){const e=this.tabs.findIndex((e=>e.id===this.activeTabId));if(e<=0)return!0;const t=this.tabs[e-1].id,i=new CustomEvent("prevtab",{bubbles:!0,detail:{tabId:t,backward:!0}});return this.element.dispatchEvent(i),i.detail.cancel||(this.activeTabId=t),!0}processNext(){const e=this.tabs.findIndex((e=>e.id===this.activeTabId));if(-1===e)return!0;const t=this.tabs[e+1].id,i=new CustomEvent("nexttab",{bubbles:!0,detail:{tabId:t}});return this.element.dispatchEvent(i),i.detail.cancel||(this.activeTabId=t),!0}processSave(){const e=new CustomEvent("savedialog",{bubbles:!0});return this.element.dispatchEvent(e),!0}processCancel(){const e=new CustomEvent("closedialog",{bubbles:!0});return this.element.dispatchEvent(e),!0}stopPropagation(e){return e.stopPropagation(),!1}};i.__decorate([n.bindable,i.__metadata("design:type",String)],c.prototype,"activeTabId",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],c.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],c.prototype,"id",void 0),i.__decorate([(0,n.children)("qp-tab"),i.__metadata("design:type",Array)],c.prototype,"tabs",void 0),c=i.__decorate([(0,n.customElement)("qp-wizard"),n.autoinject,i.__metadata("design:paramtypes",[Element,n.TaskQueue,a.ScreenService,d.KeyboardService])],c),t.QpWizardCustomElement=c}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/alert/qp-alert":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("aurelia-dialog"),i(5931),i(3116),i(7699)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpAlertButtons=t.QpAlertResults=t.QpAlertComponent=void 0;let d=class QpAlertComponent extends o.BaseDialog{constructor(e){super(e,!1),this.controller=e,this.alertButtons=p,this.alertResults=c,this.Msg=a.Messages,e.settings.position=(e,t)=>this.position(e,t),e.settings.lock=!1,this.minHeight=250,this.maxHeight=450}position(e,t){t&&t.classList.add("qp-dialog-app-overlay")}activate(e){this.config=e}get showCloseButton(){return void 0!==this.config.hideCloseButton?this.config.hideCloseButton:this.config.buttons!==this.alertButtons.YesNoCancel&&this.config.buttons!==this.alertButtons.YesNo&&this.config.buttons!==this.alertButtons.OkCancel}stopProcessing(e){return e.stopPropagation(),e.preventDefault(),!1}};var c,p;i.__decorate([n.bindable,i.__metadata("design:type",Object)],d.prototype,"config",void 0),i.__decorate([(0,n.computedFrom)("config.hideCloseButton","config.buttons"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],d.prototype,"showCloseButton",null),d=i.__decorate([l.autoinject,i.__metadata("design:paramtypes",[r.DialogController])],d),t.QpAlertComponent=d,function(e){e[e.None=0]="None",e[e.Confirm=1]="Confirm",e[e.Cancel=2]="Cancel",e[e.Reject=3]="Reject",e[e.Retry=4]="Retry",e[e.Ignore=5]="Ignore",e[e.Yes=6]="Yes",e[e.No=7]="No"}(c=t.QpAlertResults||(t.QpAlertResults={})),function(e){e.Ok="ok",e.OkCancel="okCancel",e.AbortRetryIgnore="abortRetryIgnore",e.YesNoCancel="yesNoCancel",e.YesNo="yesNo",e.RetryCancel="retryCancel"}(p=t.QpAlertButtons||(t.QpAlertButtons={}))}.apply(t,n),void 0===r||(e.exports=r)},8755:(e,t,i)=>{var n,r;n=[i,t,i(6778),i(5931)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDialogWithEvents=void 0;class BaseDialogWithEvents extends n.BaseDialog{constructor(e,t,i=!0){super(t,i),this.eventManager=e,this.eventSubscriptions=[]}addEventListner(e,t,n){this.eventSubscriptions.push(this.eventManager.addEventListener(e,t,(e=>n(e)),i.delegationStrategy.none,!0))}detached(){this.eventSubscriptions.forEach((e=>null==e?void 0:e.dispose())),this.eventSubscriptions=[]}}t.BaseDialogWithEvents=BaseDialogWithEvents}.apply(t,n),void 0===r||(e.exports=r)},5931:(e,t,i)=>{var n,r;n=[i,t,i(655),i(6075),i("aurelia-event-aggregator"),i(7699),i(9652),i(7140)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDialog=void 0;class BaseDialog{constructor(e,t=!0){this.controller=e,this.busy=0,this.maxHeight=-1,this.minHeight=-1,t&&(e.settings.lock=!1,e.settings.position=this.position.bind(this));const i=e.ok;e.ok=t=>(this.busyCounter.increment(),++this.busy,i.bind(e,t)())}attached(){var e;null===(e=this.keyboardService)||void 0===e||e.setActiveArea(this.element)}detached(){var e;null===(e=this.keyboardService)||void 0===e||e.restorePreviousArea()}activate(e){this.eventAggregator.publish(a.DIALOG_OPENED)}unbind(){for(;this.busy;--this.busy)this.busyCounter.decrement()}position(e,t){if(!this.config.attachTo)return;const i=e,n=this.config.attachTo.getBoundingClientRect(),r=i.querySelector("ux-dialog");if(r){const t=e.getBoundingClientRect().height,i=e.getBoundingClientRect().width,o=n.top,a=t-(n.top+n.height);let l=r.offsetHeight;if(this.maxHeight>0&&l>this.maxHeight&&(l=this.maxHeight),this.minHeight>0){const e=Math.max(o,a);l>e&&(l=e),l<this.minHeight&&(l=this.minHeight)}let d=n.top+n.height;const c=r.offsetHeight>l?l:r.offsetHeight;c>a&&o>a?d=n.top-c:c>a&&(d=t-c),r.style.position="absolute",r.style.top=`${d>0?d:0}px`;let p=n.left;if(r.offsetWidth+p>i&&(p=i-r.offsetWidth),r.style.left=`${p}px`,r.offsetHeight>l){const e=r.querySelector("ux-dialog-body");e&&(e.style.height=l-(r.offsetHeight-e.offsetHeight)+"px")}}}}i.__decorate([o.autoinject,i.__metadata("design:type",Element)],BaseDialog.prototype,"element",void 0),i.__decorate([o.autoinject,i.__metadata("design:type",n.KeyboardService)],BaseDialog.prototype,"keyboardService",void 0),i.__decorate([o.autoinject,i.__metadata("design:type",r.EventAggregator)],BaseDialog.prototype,"eventAggregator",void 0),i.__decorate([o.autoinject,i.__metadata("design:type",l.BusyCounter)],BaseDialog.prototype,"busyCounter",void 0),t.BaseDialog=BaseDialog}.apply(t,n),void 0===r||(e.exports=r)},3147:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-dialog"),i("aurelia-framework"),i(7699),i("client-controls/controls/dialog/base-dialog/qp-dialog"),i(7140)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogHelper=void 0;let d=class DialogHelper{constructor(e){this.container=e,this.dialogService=e.get(n.DialogService),this.busyCounter=e.get(l.BusyCounter)}openDialog(e,t,i){return this.openDialogInternal(e,t,i)}openDialogInternal(e,t,i){var n;this.busyCounter.increment(),(null===(n=null==e?void 0:e.context)||void 0===n?void 0:n.screenService)&&(e.context.screenService.suspendUpdates=!0);const r=this.dialogService.open(Object.assign(Object.assign({lock:!1},t),{viewModel:a.QpDialogCustomElement,model:e,childContainer:this.container.createChild()}));return r.then((e=>{if(!e.wasCancelled){i&&i(e)}})).finally((()=>{var t;this.busyCounter.decrement(),(null===(t=null==e?void 0:e.context)||void 0===t?void 0:t.screenService)&&(e.context.screenService.suspendUpdates=!1)})),r}};d=i.__decorate([o.autoinject,i.__metadata("design:paramtypes",[r.Container])],d),t.DialogHelper=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/base-dialog/movable":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework")],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MovableCustomAttribute=void 0;let r=class MovableCustomAttribute{constructor(e){this.pointerStart={dx:0,dy:0},this.dragMode=!1,this.element=e}attached(){this.element.addEventListener("pointerdown",(e=>this.startMoving(e))),this.element.addEventListener("pointerup",(e=>this.stopMoving(e))),this.element.addEventListener("pointermove",(e=>this.moved(e)))}detached(){this.element.removeEventListener("pointerdown",(e=>this.startMoving(e))),this.element.removeEventListener("pointerup",(e=>this.stopMoving(e))),this.element.removeEventListener("pointermove",(e=>this.moved(e)))}startMoving(e){if(!this.target||this.target.classList.contains("qp-maximized"))return!0;this.element.setPointerCapture(e.pointerId),this.dragMode=!0;const t=this.target.getBoundingClientRect();return this.target.style.position="absolute",this.pointerStart={dx:e.x-t.x,dy:e.y-t.y},this.target.style.top=`${t.y}px`,this.target.style.left=`${t.x}px`,this.target.style.bottom="",this.target.style.right="",this.target.classList.add("qp-moved"),!1}stopMoving(e){return this.element.releasePointerCapture(e.pointerId),this.dragMode=!1,!1}moved(e){return!this.dragMode||!this.target||(this.target.style.top=e.y-this.pointerStart.dy+"px",this.target.style.left=e.x-this.pointerStart.dx+"px",!1)}};i.__decorate([(0,n.bindable)({primaryProperty:!0}),i.__metadata("design:type",Object)],r.prototype,"target",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],r.prototype,"dialogSelector",void 0),r=i.__decorate([(0,n.customAttribute)("movable"),i.__metadata("design:paramtypes",[Element])],r),t.MovableCustomAttribute=r}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/base-dialog/qp-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(5931),i("aurelia-dialog"),i(2172),i("aurelia-event-aggregator"),i(4834),i(1015),i(6778)],r=function(e,t,i,n,r,o,a,l,d,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpDialogCustomElement=void 0;let u=class QpDialogCustomElement extends r.BaseDialog{constructor(e,t,i){super(t,!1),this.container=e,this.controller=t,this.screenService=i,this.eventSubscriptions=[],this.maximized=!1,t.settings.position||(t.settings.position=(e,t)=>this.position(e,t)),this.screenEventManager=new a.QpEventManager(e),this.container.registerInstance(a.QpEventManager,this.screenEventManager),this.eventManager=e.get(n.EventManager)}get width(){var e,t,i,n;return(null===(e=this.config)||void 0===e?void 0:e.width)?null===(t=this.config)||void 0===t?void 0:t.width:null===(n=null===(i=this.viewModelCompose)||void 0===i?void 0:i.currentViewModel)||void 0===n?void 0:n.width}get height(){var e,t;return this.config.height?this.config.height:null===(t=null===(e=this.viewModelCompose)||void 0===e?void 0:e.currentViewModel)||void 0===t?void 0:t.height}position(e,t){t&&t.classList.add("qp-dialog-app-overlay"),this.setCenteringOffset(),this.container.get(l.EventAggregator).subscribe(a.RESIZE_WINDOW,(()=>{this.setCenteringOffset()}));const i=c.PLATFORM.global.innerWidth||0,n=c.PLATFORM.global.innerHeight||0;(i<480||n<480)&&this.maximize()}get QpEventManager(){return this.screenEventManager}setCenteringOffset(){if(this.config.centeringHeight&&this.dialogElement){const e=(parseInt(this.config.centeringHeight,10)-this.dialogElement.clientHeight)/2,t=this.dialogElement.offsetTop-e-30;this.offsetTop=(t>0?-e:-e-t)+"px"}}processChangeConfig(e){const t=e.detail;return this.config=Object.assign(Object.assign({},this.config),t),this.stopProcessing(e)}detached(){super.detached(),this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[]}stopProcessing(e){return e.stopPropagation(),e.preventDefault(),!1}processRepaint(e){return i.__awaiter(this,void 0,void 0,(function*(){if(!0===e||"object"==typeof e){const t="object"==typeof e?e:{},i=new a.ScreenUpdateParams({commitChanges:t.commitChanges},this.element),n=this.screenService.executeCommand("Repaint",i);t.synchronous&&(yield n)}}))}activate(e){const t=Object.create(null,{activate:{get:()=>super.activate}});var n,r;return i.__awaiter(this,void 0,void 0,(function*(){t.activate.call(this,e),this.config=e;const o=e.rootElement||(null===(n=e.context)||void 0===n?void 0:n.element);if(this.eventSubscriptions.push(this.screenEventManager.subscribe("ExecuteCommand",(e=>i.__awaiter(this,void 0,void 0,(function*(){var t;const i=null===(t=null==e?void 0:e.Params)||void 0===t?void 0:t.dialogCallback;if(i){if(i.viewName=this.config.templateId,(i.dialogResult===a.WebDialogResult.OK||i.dialogResult===a.WebDialogResult.Yes)&&this.config.command&&(e.Command=this.config.command,i.validateInput)){e.stop();return void((yield this.screenService.executeCommand(e.Command,e.Params)).succeeded&&this.controller.cancel())}i.dialogResult&&this.controller.cancel()}}))))),this.config.templateViewModel)yield this.processRepaint(this.config.autoRepaint);else{let e;if(this.config.template?(e=document.createElement("template"),e.innerHTML=this.config.template,e=e.content.firstChild):e=o.querySelector(`#${this.config.templateId}`),!e)return void this.controller.cancel();this.eventTarget=e,this.eventTarget.dispatchEvent(new CustomEvent("activate-dialog",{detail:{dialogElement:this.element}}));let t=this.config.autoRepaint,i=e.getAttribute("auto-repaint");if(i){if(i=JSON.parse(i.replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": ')),"object"!=typeof i&&"boolean"!=typeof i)throw new Error("auto-repaint attribute is of wrong type");t=i}yield this.processRepaint(t);let n=e.querySelector("footer");if(n){const t=e.cloneNode(!0);n=t.querySelector("footer"),this.footerTemplate=n.innerHTML,n.remove(),this.template=t.innerHTML}else this.template=null==e?void 0:e.innerHTML,this.footerTemplate="";this.config.caption=(null===(r=e.au)||void 0===r?void 0:r.controller.viewModel.caption)||e.getAttribute("caption")||this.config.caption;const a=e.getAttribute("width"),l=e.getAttribute("height");a&&(this.config.width=a),l&&(this.config.height=l);const d=e.getAttribute("class");!this.config.cssClass&&d&&"au-target"!==d&&(this.config.cssClass=d)}}))}canDeactivate(e){if(this.viewModelCompose){const t=this.viewModelCompose.currentViewModel;if(t&&t.canDeactivate)return t.canDeactivate(e)}return!this.config.deactivateValidator||this.config.deactivateValidator(e)}deactivate(e){var t;e.wasCancelled||void 0!==e.output||(e.output=void 0),null===(t=this.eventTarget)||void 0===t||t.dispatchEvent(new CustomEvent("deactivate-dialog",{detail:{dialogElement:this.element,result:e}}))}maximize(){this.maximized=!this.maximized}};i.__decorate([n.observable,i.__metadata("design:type",Object)],u.prototype,"viewModelCompose",void 0),i.__decorate([(0,p.computedFrom)("config","config.width","viewModelCompose","viewModelCompose.currentViewModel","viewModelCompose.currentViewModel.width"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"width",null),i.__decorate([(0,p.computedFrom)("config.height","viewModelCompose","viewModelCompose.currentViewModel","viewModelCompose.currentViewModel.height"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"height",null),u=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[n.Container,o.DialogController,d.ScreenService])],u),t.QpDialogCustomElement=u}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/base-dialog/qp-resizable":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2172),i("aurelia-event-aggregator")],r=function(e,t,i,n,r,o){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.QpResizableCustomElement=void 0;let l=a=class QpResizableCustomElement{constructor(e,t){this.container=e,this.eventAggregator=t,this.pointerStart={dx:0,dy:0},this.resizeDirection="",this.pointerEventSubscriptions=[],this.eventManager=e.get(n.EventManager)}attached(){var e,t,i,n,r,o,a;this.element&&(this.dialogElement=this.element.querySelector((null===(e=this.resizableConfig)||void 0===e?void 0:e.dialogSelector)||d),this.headerElement=this.element.querySelector((null===(t=this.resizableConfig)||void 0===t?void 0:t.headerSelector)||c),this.qpRzCenterElement=this.element.querySelector((null===(i=this.resizableConfig)||void 0===i?void 0:i.rzCenterSelector)||p),this.minWidth=null!==(r=null===(n=this.resizableConfig)||void 0===n?void 0:n.minWidth)&&void 0!==r?r:h,this.minHeight=null!==(a=null===(o=this.resizableConfig)||void 0===o?void 0:o.minHeight)&&void 0!==a?a:u)}detached(){this.pointerEventSubscriptions.forEach((e=>e.dispose())),this.pointerEventSubscriptions=[],this.dialogElement&&(this.dialogElement.style.bottom="",this.dialogElement.style.right="",this.eventAggregator.publish(r.RESIZE_WINDOW))}startResizing(e,t){if(!t.currentTarget||!this.dialogElement||!this.resizableElement)return!0;this.resizableElement.setPointerCapture(t.pointerId),this.pointerEventSubscriptions.push(this.eventManager.addEventListener(this.resizableElement,"pointerup",(e=>this.stopResizing(e)),n.delegationStrategy.none,!0)),this.pointerEventSubscriptions.push(this.eventManager.addEventListener(this.resizableElement,"pointermove",(e=>this.resized(e)),n.delegationStrategy.none,!0)),this.resizeDirection=e;const i=this.dialogElement.getBoundingClientRect(),r=this.resizableElement.getBoundingClientRect();return this.dialogElement.style.position="absolute",this.dialogElement.classList.add("qp-resized"),this.pointerStart={dx:t.x-i.x,dy:t.y-i.y,x:t.x,y:t.y,width:r.width,height:r.height},this.dialogElement.style.top=`${i.y}px`,this.dialogElement.style.left=`${i.x}px`,this.width=`${r.width}px`,this.height=`${r.height}px`,this.dialogElement.style.bottom="",this.dialogElement.style.right="",!0}stopResizing(e){return!this.resizableElement||(this.pointerEventSubscriptions.forEach((e=>e.dispose())),this.pointerEventSubscriptions=[],this.resizableElement.releasePointerCapture(e.pointerId),this.resizeDirection="",!1)}resized(e){if(!this.resizeDirection||!this.resizableElement||!this.dialogElement)return!0;switch(e.preventDefault(),this.resizeDirection){case"n":case"ne":case"nw":{const t=(this.pointerStart.height||0)-e.y+(this.pointerStart.y||0);if(t<this.minHeight)break;this.dialogElement.style.top=e.y-this.pointerStart.dy+"px",this.height=`${t}px`}}switch(this.resizeDirection){case"s":case"sw":case"se":{const t=(this.pointerStart.height||0)+e.y-(this.pointerStart.y||0);if(t<this.minHeight)break;this.height=`${t}px`}}switch(this.resizeDirection){case"w":case"nw":case"sw":{const t=(this.pointerStart.width||0)-e.x+(this.pointerStart.x||0);if(t<this.minWidth)break;this.dialogElement.style.left=e.x-this.pointerStart.dx+"px",this.width=`${t}px`}}switch(this.resizeDirection){case"e":case"ne":case"se":{const t=(this.pointerStart.width||0)+e.x-(this.pointerStart.x||0);if(t<this.minWidth)break;this.width=`${t}px`}}return this.eventAggregator.publish(r.RESIZE_WINDOW),!1}setHeight(e){e>=this.minHeight&&(this.height=`${e}px`)}maximizedChanged(){this.dialogElement&&!this.hideMaximizer&&(this.dialogElement.classList.contains("qp-maximized")?(this.dialogElement.classList.remove("qp-maximized"),this.qpRzCenterElement&&(this.qpRzCenterElement.style.width="",this.qpRzCenterElement.style.height=""),this.width=this.resizableElementSize.width,this.height=this.resizableElementSize.height):(this.resizableElementSize={width:this.width,height:this.height},this.width=void 0,this.height=void 0,this.resizableElement&&(this.resizableElement.style.width="",this.resizableElement.style.height=""),this.dialogElement.classList.add("qp-maximized"),this.qpRzCenterElement&&(this.qpRzCenterElement.style.width="100vw",this.qpRzCenterElement.style.height="100vh")),this.eventAggregator.publish(r.RESIZE_WINDOW))}static ProcessContent(e,t,i){const n=document.createElement("template");n.setAttribute("replace-part","content");const r=Array.from(i.childNodes);return r.forEach((e=>{const t=e;t.setAttribute&&t.setAttribute("with.bind","$parent")})),n.content.append(...r),i.replaceChildren(n),!0}};i.__decorate([n.bindable,i.__metadata("design:type",HTMLElement)],l.prototype,"element",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"resizableConfig",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],l.prototype,"maximized",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],l.prototype,"hideMaximizer",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],l.prototype,"height",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],l.prototype,"width",void 0),l=a=i.__decorate([n.autoinject,n.containerless,(0,n.processContent)(a.ProcessContent),i.__metadata("design:paramtypes",[n.Container,o.EventAggregator])],l),t.QpResizableCustomElement=l;const d="ux-dialog",c=".qp-dialog-header",p=".qp-rz-center",u=50,h=150}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/edit-dialog-base/qp-edit-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i(2594),i("aurelia-framework"),i(6778),i("aurelia-dialog"),i(8755)],r=function(e,t,i,n,r,o,a,l){"use strict";var d;Object.defineProperty(t,"__esModule",{value:!0}),t.QpEditDialogCustomElement=void 0;let c=d=class QpEditDialogCustomElement extends l.BaseDialogWithEvents{constructor(e,t,i){super(i,e,!1),this.controller=e,this.element=t,this.msg=n.Messages,this.resetToDefaultButtonConfig={text:n.Messages.ResetToDefault,id:"btnResetToDefault",enabled:!0,class:"edit-action-button"},this.applyButtonConfig={text:n.Messages.Apply,id:"btnApply",class:"primary-button  edit-action-button",dialogResult:1,enabled:!0},this.cancelButtonConfig={text:n.Messages.Cancel,id:"btnCancel",dialogResult:2,enabled:!0,class:"edit-action-button"},(null==e?void 0:e.settings)&&(e.settings.position=(e,t)=>{t&&t.classList.add("qp-dialog-app-overlay"),e&&e.classList.add("edit-dialog-container")})}activate(e){this.dialogConfig=e}resetConfigurationToDefault(){this.dialogConfig.resetToDefault()}applyConfiguration(){this.controller.ok(this.dialogConfig.getResult())}close(){this.controller.cancel()}static ProcessContent(e,t,i){const n=document.createElement("template");n.setAttribute("replace-part","content");const r=Array.from(i.childNodes);return r.forEach((e=>{const t=e;t.setAttribute&&t.setAttribute("with.bind","$parent")})),n.content.append(...r),i.replaceChildren(n),!0}};i.__decorate([r.bindable,i.__metadata("design:type",Object)],c.prototype,"dialogConfig",void 0),c=d=i.__decorate([r.autoinject,(0,r.processContent)(d.ProcessContent),i.__metadata("design:paramtypes",[a.DialogController,Element,o.EventManager])],c),t.QpEditDialogCustomElement=c}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/edit-dialog-base/qp-edit-element":(e,t,i)=>{var n,r;n=[i,t,i(655),i(6778),i("aurelia-framework"),i(133),i(4026)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpEditElementCustomElement=void 0;let l=class QpEditElementCustomElement{get active(){return this.config.hovered||this.config.selected}get upperDropzoneVisible(){return this.config.id===this.upperDropzoneId}get bottomDropzoneVisible(){return this.config.id===this.bottomDropzoneId}get actionsAreVisible(){return this.actions.some((e=>e.isVisible(this.active,this.config)))}activate(){this.dragInfo||(0,a.dispatchEditEvent)(o.EditElementEvents.activated,this.config)}deactivate(){(0,a.dispatchEditEvent)(o.EditElementEvents.deactivated,this.config)}processDragStart(e){return this.onDragEvent(e,o.EditElementEvents.dragStart)}processDragOver(e){return!!this.options.dropEvents&&(e.preventDefault(),this.onDragEvent(e,o.EditElementEvents.dragOver,this.isPointAfterMiddle(e)))}processDragLeave(e){return!!this.options.dropEvents&&(e.preventDefault(),e.stopImmediatePropagation(),e.target!==this.element||this.onDragEvent(e,o.EditElementEvents.dragLeave))}processDrop(e){return!!this.options.dropEvents&&(e.preventDefault(),this.onDragEvent(e,o.EditElementEvents.drop,this.isPointAfterMiddle(e)))}processClick(e){return(0,a.dispatchEditEvent)(o.EditElementEvents.select,{originalEvent:e,item:this.config,itemType:this.options.itemType}),!0}processAction(e,t){return e.stopPropagation(),!(t.isVisible(this.active,this.config)&&t.isEnabled(this.active,this.config)&&!t.isReadonly(this.config))||(this.config=t.onClick(this.config),!0)}onDragEvent(e,t,i){return e.stopPropagation(),(0,a.dispatchEditEvent)(t,{originalEvent:e,item:this.config,itemType:this.options.itemType,after:i}),!0}isPointAfterMiddle(e){const t=e.pageY,i=this.element.getBoundingClientRect(),n=this.dropZoneElement&&this.dropZoneElement.getBoundingClientRect().height||0;return t>i.y+(i.height+(this.upperDropzoneVisible?n:-n))/2}};i.__decorate([r.bindable,i.__metadata("design:type",Object)],l.prototype,"config",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],l.prototype,"options",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Array)],l.prototype,"actions",void 0),i.__decorate([r.bindable,i.__metadata("design:type",String)],l.prototype,"upperDropzoneId",void 0),i.__decorate([r.bindable,i.__metadata("design:type",String)],l.prototype,"bottomDropzoneId",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],l.prototype,"dragInfo",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],l.prototype,"dropInfo",void 0),i.__decorate([(0,n.computedFrom)("config.hovered","config.selected"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],l.prototype,"active",null),i.__decorate([(0,n.computedFrom)("config.id","upperDropzoneId"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],l.prototype,"upperDropzoneVisible",null),i.__decorate([(0,n.computedFrom)("config.id","bottomDropzoneId"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],l.prototype,"bottomDropzoneVisible",null),i.__decorate([(0,n.computedFrom)("config","actions","active"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],l.prototype,"actionsAreVisible",null),l=i.__decorate([r.containerless],l),t.QpEditElementCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},133:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditElementType=t.EditElementEvents=void 0,function(e){e.activated="activated",e.deactivated="deactivated",e.select="elementSelect",e.dragStart="elementDragStarted",e.dragOver="elementDragOver",e.drop="elementDrop",e.dragLeave="elementDragLeave",e.unchooseElement="unchooseElement",e.preferenceChanged="preferenceChanged",e.addElementToEnd="addElementToEnd"}(t.EditElementEvents||(t.EditElementEvents={})),function(e){e.available="available",e.choosen="choosen"}(t.EditElementType||(t.EditElementType={}))}.apply(t,[i,t]),void 0===n||(e.exports=n)},4026:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchEditEvent=void 0,t.dispatchEditEvent=function dispatchEditEvent(e,t){const i=new CustomEvent(e,{bubbles:!0,detail:t});document.body.dispatchEvent(i)}}.apply(t,[i,t]),void 0===n||(e.exports=n)},9603:(e,t,i)=>{var n,r;n=[i,t,i("client-controls/controls/dialog/base-dialog/qp-dialog"),i("client-controls/controls/dialog/informer/qp-informer-rack"),i("client-controls/controls/dialog/long-run/qp-long-run"),i("client-controls/controls/dialog/quick-processing/qp-quick-processing"),i("client-controls/controls/dialog/edit-dialog-base/qp-edit-dialog"),i("client-controls/controls/dialog/processing-dialog/qp-processing-dialog"),i(8289),i(5710),i(6712),i(3147),i("client-controls/controls/dialog/workflow-dialog/qp-workflow-dialog"),i(7213),i("client-controls/controls/dialog/upload-dialog/qp-upload-dialog"),i(4201)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g,m,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyPasteDataComponent=t.QpUploadDialogCustomElement=t.WorkflowDataComponent=t.QpWorkflowDialogCustomElement=t.DialogHelper=t.QuickProcessingDataComponent=t.LongRunDataComponent=t.QpProcessingDataComponent=t.QpProcessingDialogCustomElement=t.QpEditDialogCustomElement=t.QpQuickProcessingCustomElement=t.QpLongRunCustomElement=t.hideInformer=t.showInformer=t.QpInformerRackCustomElement=t.QpDialogCustomElement=void 0,Object.defineProperty(t,"QpDialogCustomElement",{enumerable:!0,get:function(){return i.QpDialogCustomElement}}),Object.defineProperty(t,"QpInformerRackCustomElement",{enumerable:!0,get:function(){return n.QpInformerRackCustomElement}}),Object.defineProperty(t,"showInformer",{enumerable:!0,get:function(){return n.showInformer}}),Object.defineProperty(t,"hideInformer",{enumerable:!0,get:function(){return n.hideInformer}}),Object.defineProperty(t,"QpLongRunCustomElement",{enumerable:!0,get:function(){return r.QpLongRunCustomElement}}),Object.defineProperty(t,"QpQuickProcessingCustomElement",{enumerable:!0,get:function(){return o.QpQuickProcessingCustomElement}}),Object.defineProperty(t,"QpEditDialogCustomElement",{enumerable:!0,get:function(){return a.QpEditDialogCustomElement}}),Object.defineProperty(t,"QpProcessingDialogCustomElement",{enumerable:!0,get:function(){return l.QpProcessingDialogCustomElement}}),Object.defineProperty(t,"QpProcessingDataComponent",{enumerable:!0,get:function(){return d.QpProcessingDataComponent}}),Object.defineProperty(t,"LongRunDataComponent",{enumerable:!0,get:function(){return c.LongRunDataComponent}}),Object.defineProperty(t,"QuickProcessingDataComponent",{enumerable:!0,get:function(){return p.QuickProcessingDataComponent}}),Object.defineProperty(t,"DialogHelper",{enumerable:!0,get:function(){return u.DialogHelper}}),Object.defineProperty(t,"QpWorkflowDialogCustomElement",{enumerable:!0,get:function(){return h.QpWorkflowDialogCustomElement}}),Object.defineProperty(t,"WorkflowDataComponent",{enumerable:!0,get:function(){return g.WorkflowDataComponent}}),Object.defineProperty(t,"QpUploadDialogCustomElement",{enumerable:!0,get:function(){return m.QpUploadDialogCustomElement}}),Object.defineProperty(t,"CopyPasteDataComponent",{enumerable:!0,get:function(){return f.CopyPasteDataComponent}})}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/informer/qp-informer-rack":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099)],r=function(e,t,i,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.QpInformerRackCustomElement=t.fatalError=t.hideInformer=t.showInformer=void 0;(0,r.getLogger)("qp-informer-rack");function hideInformer(e){const t=l.singleRack;if(t)for(let i=0;i<t.messages.length;++i)e===t.messages[i]&&t.messages.splice(i,1)}t.showInformer=function showInformer(e,t){const i=l.singleRack;return i?(t=t||"error",i.messages.push({message:e,status:t}),{dispose:()=>{hideInformer(i.messages[i.messages.length-1])}}):{dispose:()=>{}}},t.hideInformer=hideInformer;let a=0;t.fatalError=function fatalError(e,t){console.error("Fatal error: ",e),null==t||t.classList.add("fatal-error");const i=document.createElement("div");i.setAttribute("id",`fatal-error-${a}`),i.style.top=20+60*a+"px",i.innerHTML=e,i.classList.add("fatal-error-box"),document.body.appendChild(i),++a};let l=o=class QpInformerRackCustomElement{constructor(){this.messages=[],o.singleRack=this}};l=o=i.__decorate([(0,n.customElement)("qp-informer-rack"),n.autoinject,i.__metadata("design:paramtypes",[])],l),t.QpInformerRackCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/informer/qp-informer":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("client-controls/controls/dialog/informer/qp-informer-rack"),i(8099),i(7140),i(4609)],r=function(e,t,i,n,r,o,a,l){"use strict";var d;Object.defineProperty(t,"__esModule",{value:!0}),t.setInformerClosingTimeout=t.QpInformerCustomElement=void 0;(0,o.getLogger)("qp-informer");let c=d=class QpInformerCustomElement{constructor(e,t){this.element=e,this.bindingEngine=t,this.hidden=!1}configChanged(e,t){void 0===t&&((0,a.applyDefaultValues)(e,d.defaultConfig),this.statusObserver||(this.statusObserver=this.bindingEngine.propertyObserver(this.config,"status").subscribe((e=>{this.hidden=!1})))),this.message=unescape(this.config.message)}detached(){this.statusObserver&&this.statusObserver.dispose()}attached(){setTimeout((()=>{this.closeNotification()}),d.CLOSE_TIMEOUT)}closeNotification(){return this.closing="qp-closing",setTimeout((()=>{var e;this.hidden=!0,this.closing=void 0,(0,r.hideInformer)(this.config),null===(e=this.element.parentElement)||void 0===e||e.removeChild(this.element)}),300),!1}};function setInformerClosingTimeout(e){c.CLOSE_TIMEOUT=e}c.defaultConfig={hidden:!1},c.CLOSE_TIMEOUT=1e4,i.__decorate([n.bindable,i.__metadata("design:type",Object)],c.prototype,"config",void 0),c=d=i.__decorate([n.autoinject,(0,n.customElement)("qp-informer"),i.__metadata("design:paramtypes",[Element,n.BindingEngine])],c),t.QpInformerCustomElement=c,t.setInformerClosingTimeout=setInformerClosingTimeout,(0,l.registerQAObject)("setInformerClosingTimeout",setInformerClosingTimeout)}.apply(t,n),void 0===r||(e.exports=r)},5710:(e,t,i)=>{var n,r;n=[i,t,i(655),i("client-controls/controls/abstract/screen-base-view-model/screen-base-view-model"),i("aurelia-framework"),i("aurelia-event-aggregator"),i(2172),i(6646)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LongRunDataComponent=void 0;let d=class LongRunDataComponent{constructor(e,t,i="ElapsedTime"){this.screenViewModel=e,this.container=t,this.longRunConfig={id:"ctl00_phDS_ds_LongRun",switchedOff:!1,enabled:!0,spinHidden:!0,hidden:!0,status:"aborted",longRunAborted:"",longRunCompleted:"",longRunInProcess:"",longRunMessage:"",longRunAbort:""},this.eventAggregator=t.get(o.EventAggregator),this.screenService=e.getScreenService(),null!=i&&(this.longRunElapsedCommandName=i)}getQueryParams(e){return{}}setComponentData(e){this.applyLongRunResult(e)}applyLongRunResult(e){const t=e;if(null==t?void 0:t.status){const e=window,i=new a.LongRunChangedEvent(t.dueToCommand);if(i.status=t.status,i.message=t.message,i.seconds=t.seconds,i.abortMessage=t.abortMessage,t.status)if(t.status===a.ProcessStatus.InProcess){this.screenService.longRunInProgress=e.longRunInProcess=!0;const t=5e3;this.eventAggregator.publish("longrun-started",i),clearInterval(this.longRunInterval),this.longRunInterval=setInterval((()=>this.screenService.update(this.longRunElapsedCommandName)),t)}else t.status>a.ProcessStatus.InProcess&&(this.eventAggregator.publish("longrun-stopped"),clearInterval(this.longRunInterval),t.status===a.ProcessStatus.Completed?t.longRunHasWarning?this.eventAggregator.publish("longrun-succeded-with-warning",i):this.eventAggregator.publish("longrun-succeded",i):t.status===a.ProcessStatus.Aborted&&this.eventAggregator.publish("longrun-aborted",i),this.screenService.longRunInProgress=!1)}else this.eventAggregator.publish("longrun-cleared"),clearInterval(this.longRunInterval)}};i.__decorate([r.bindable,i.__metadata("design:type",Object)],d.prototype,"longRunConfig",void 0),d=i.__decorate([(0,r.inlineView)('<template><qp-long-run config.bind="longRunConfig"></qp-long-run></template>'),(0,l.selfRegisterWithName)("LongRunData",{createImmediately:!0}),i.__metadata("design:paramtypes",[n.PXScreen,r.Container,Object])],d),t.LongRunDataComponent=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/long-run/qp-long-run":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-event-aggregator"),i("aurelia-framework"),i(8099),i(2172),i(7140),i(3116),i(4834)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.QpLongRunCustomElement=void 0;(0,o.getLogger)("qp-long-run");let u=p=class QpLongRunCustomElement{constructor(e,t,i,n,r){this.container=e,this.element=t,this.bindingEngine=i,this.eventAggregator=n,this.tq=r,this.hidden=!1,this.eventSubscriptions=[],this.msg=d.Messages}get LongRunMessages(){return this.config&&this.config.longRunMessage&&this.config.longRunMessage.split("\n")||[]}get iconName(){switch(this.config.status){case"aborted":return"errorExclamation";case"completed":return"successCheckFilled";case"completedwithwarning":return"warningExclamationFilled"}}attached(){this.eventSubscriptions.push(this.eventAggregator.subscribe(a.CALLBACK_STARTED_EVENT,(e=>{e&&"Repaint"!==e&&"ElapsedTime"!==e&&"LongRun"!==e&&this.closeNotification(0)}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-cleared",((e=!1)=>{if(this.config){if(this.stopLongRunTimer(),this.config.spinHidden=!0,e&&this.closeNotification(300),"completed"===this.config.status)return;this.config.hidden=!0}}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-started",(e=>{if(this.config){const longrunStartedHandler=()=>{this.timerId=setInterval((()=>{this.longRunTimer()}),200),this.config.hidden=!1,this.config.spinHidden=!1,this.config.enabled=!0,this.config.longRunCompleted="",this.config.longRunMessage=`${e.message}`,this.config.status="inprocess",this.container.get(c.ScreenService).unregisterPostponedTask(longrunStartedHandler)};this.container.get(c.ScreenService).registerPostponedTask(longrunStartedHandler)}}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-succeded",(e=>{this.config&&(this.stopLongRunTimer(),this.config.hidden=!1,this.config.spinHidden=!0,this.config.enabled=!0,e.message&&(this.config.longRunMessage=e.message),this.config.status="completed")}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-succeded-with-warning",(e=>{this.config&&(this.stopLongRunTimer(),this.config.hidden=!1,this.config.spinHidden=!0,this.config.enabled=!0,e.message&&(this.config.longRunMessage=e.message),this.config.status="completedwithwarning")}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("longrun-aborted",(e=>{this.config&&(this.stopLongRunTimer(),this.config.hidden=!1,this.config.spinHidden=!0,this.config.enabled=!0,e.message&&(this.config.longRunMessage=e.message),this.config.status="aborted")}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("default-longrun-switched-off",(()=>{this.config.switchedOff=!0}))),this.eventSubscriptions.push(this.eventAggregator.subscribe("default-longrun-switched-on",(()=>{this.config.switchedOff=!1})))}configChanged(e,t){void 0===t&&((0,l.applyDefaultValues)(e,p.defaultConfig),this.statusObserver||(this.statusObserver=this.bindingEngine.propertyObserver(this.config,"status").subscribe((e=>{this.hidden=""===e,"inprocess"!==e&&this.tq.queueTask((()=>{delete window.longRunInProcess}))}))))}detached(){this.statusObserver&&this.statusObserver.dispose(),this.eventSubscriptions.forEach((e=>e.dispose()))}closeNotification(e){return this.closing="qp-closing",setTimeout((()=>{this.config.status="",this.hidden=!0,this.closing=void 0}),e),!1}stopProcessing(e){if("inprocess"!==this.config.status)return!0;const t=new CustomEvent("cancel-long-run",{bubbles:!0,detail:{event:e}});return this.element.dispatchEvent(t),this.eventAggregator.publish("cancel-long-run"),!1}longRunTimer(){null==this.startTime&&(this.startTime=new Date);const e=(new Date).getTime()-this.startTime.getTime();let t=Math.floor(e/1e3);t-=86400*Math.floor(t/86400);const i=Math.floor(t/3600);t-=3600*i;const n=Math.floor(t/60);t-=60*n,this.config.longRunCompleted=[i.toString().padStart(2,"0"),n.toString().padStart(2,"0"),t.toString().padStart(2,"0")].join(":")}stopLongRunTimer(){this.timerId&&(clearInterval(this.timerId),delete this.timerId),delete this.startTime}};u.defaultConfig={hidden:!0,switchedOff:!1},i.__decorate([r.bindable,i.__metadata("design:type",Object)],u.prototype,"config",void 0),i.__decorate([(0,r.computedFrom)("config","config.longRunMessage"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"LongRunMessages",null),i.__decorate([(0,r.computedFrom)("config.status"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"iconName",null),u=p=i.__decorate([r.autoinject,(0,r.customElement)("qp-long-run"),i.__metadata("design:paramtypes",[r.Container,Element,r.BindingEngine,n.EventAggregator,r.TaskQueue])],u),t.QpLongRunCustomElement=u}.apply(t,n),void 0===r||(e.exports=r)},8289:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(6646),i("client-controls/controls/dialog/processing-dialog/qp-processing-dialog")],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpProcessingDataComponent=void 0;let a=class QpProcessingDataComponent{getQueryParams(e){return{}}setComponentData(e){var t;null===(t=this.uiControl)||void 0===t||t.applyProcessingResult(e)}};i.__decorate([n.bindable,i.__metadata("design:type",o.QpProcessingDialogCustomElement)],a.prototype,"uiControl",void 0),a=i.__decorate([(0,n.inlineView)('<template><qp-processing-dialog view-model.ref="uiControl"></qp-processing-dialog></template>'),(0,r.selfRegisterWithName)("ProcessingResultData")],a),t.QpProcessingDataComponent=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/processing-dialog/qp-processing-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(3116),i(2172),i(3147),i(7699),i(4834),i("client-controls/controls/compound/tool-bar/qp-tool-bar"),i("aurelia-event-aggregator")],r=function(e,t,i,n,r,o,a,l,d,c,p){"use strict";var u;Object.defineProperty(t,"__esModule",{value:!0}),t.QpProcessingDialogCustomElement=void 0;let h=u=class QpProcessingDialogCustomElement{constructor(e,t,i,n){this.container=e,this.element=t,this.eventAggregator=i,this.tq=n,this.dialogConfig={context:this,templateId:"processingDialog",centeringHeight:"620px",hideMaximizer:!0,hideCloseButton:!0,cssClass:"col-sm-12 col-md-10 col-lg-8"},this.closeConfig={text:r.Messages.ProcessingClose,id:"processing_dialog_close",enabled:!0},this.cancelConfig={text:r.Messages.ProcessingCancel,id:"processing_dialog_cancel",enabled:!0},this.dialogShown=!1,this.processingIsActive=!0,this.subscriptions=[],this.msg=r.Messages,this.currentFilter=null,this.elapsedTime="",this.result="",this.processingErrorMessage="",this.remains=0,this.total=0,this.errors=0,this.skipped=0,this.processedItems=0,this.processingCompleted=!1,this.waitingForProcessed=!1,this.screenEventManager=e.get(o.QpEventManager)}get errorsOccured(){return this.result.includes("LabelAbbrError")}get warningsOccured(){return this.result.includes("LabelAbbrWarning")}get errorIconClasses(){return`${this.errorsOccured?"control-Error":""} ${this.warningsOccured?"control-Warning":""}`}get processingStatus(){if(0!==this.total){if(!this.percentage||0===this.percentage)return"initializing";if(!this.result)return"in-process"}return"in-process"}get processingProgressAnimationStatusClass(){return this.percentage&&this.percentage>0?"processing-dialog__progress-bar-percentage--animated":""}get progressBarVisibility(){return this.result||0===this.total?0:1}get filtersList(){return[{id:u.PROCESSED_ID,filterId:u.filterIDs.processed,label:this.msg.ProcessingProcessed,counter:this.processedItems,status:this.processedItems>0?this.getActiveFilterStatus(u.PROCESSED_ID):"disabled"},{id:u.ERRORS_ID,filterId:u.filterIDs.errors,label:this.msg.ProcessingErrors,counter:this.errors,status:this.errors>0?this.getActiveFilterStatus(u.ERRORS_ID):"disabled"},{id:u.WARNINGS_ID,filterId:u.filterIDs.warnings,label:this.msg.ProcessingWarnings,counter:this.skipped,status:this.skipped>0?this.getActiveFilterStatus(u.WARNINGS_ID):"disabled"},{id:u.REMAINING_ID,filterId:u.filterIDs.remains,label:this.msg.ProcessingRemaining,counter:this.remains,status:this.remains>0?this.getActiveFilterStatus(u.REMAINING_ID):"disabled"},{id:u.TOTAL_ID,filterId:u.filterIDs.default,label:this.msg.ProcessingTotal,counter:this.total,status:this.total>0?this.getActiveFilterStatus(u.TOTAL_ID):"disabled"}]}bind(){this.eventAggregator.subscribeOnce("screen-initialized",(()=>{this.screenService=this.container.get(d.ScreenService),this.parent=this.screenService.model;const e=this.getTopBarItems();this.processingGridConfig=Object.assign(Object.assign({},u.processingGridDefaultConfig),{topBarItems:e})}))}tooltipify(e){const t=document.createElement("template");t.innerHTML=e.trim();const i=t.content.querySelector(".LabelAbbrError, .LabelAbbrWarning");if(!i)return e;const n=null==i?void 0:i.getAttribute("title");i.removeAttribute("title"),i.removeAttribute("error");const r=document.createElement("qp-tooltip");return r.textContent=n,i.appendChild(r),t.innerHTML}applyProcessingResult(e){var t,i;if(this.elapsedTime=e.elapsedTime?this.tooltipify(e.elapsedTime):"",null===(t=this.elapsedTimeView)||void 0===t||t.refreshTemplate(),this.percentage=e.percentage,this.result=e.result||"",this.processingErrorMessage=e.processingErrorMessage||"",this.remains=e.remains||0,this.total=e.total||0,this.errors=e.errors||0,this.skipped=e.skipped||0,this.processedItems=e.processedItems||0,this.processingGridConfig.view=e.resultViewName,this.view=this.screenService.model[e.resultViewName],this.waitingForProcessed&&(this.waitingForProcessed=!1,this.tq.queueMicroTask((()=>{delete window.processingInProcess}))),void 0!==e.elapsedTime){if(!this.dialogShown){this.showProcessingDialog(),this.waitingForProcessed=this.processingCompleted=!1,window.processingInProcess=!0;const e=this.eventAggregator.subscribeOnce("longrun-stopped",(()=>{this.parent.screenEventManager.publish(new o.ExecuteCommandEvent("Repaint")),this.processingCompleted=!0,this.tq.queueMicroTask((()=>{this.waitingForProcessed=!0}))}));this.subscriptions.push(e)}null===(i=this.processingViewGridVM)||void 0===i||i.refresh()}}getTopBarItems(){const e={},t=this.parent.actions;for(const i of t.keys()){const n=t.get(i);(null==n?void 0:n.visibleOnProcessingResults)&&(e[n.commandName]={config:Object.assign(Object.assign({},(0,c.NewMenuButton)(n.commandName)),{text:n.text,showInToolbar:!0,commandName:n.commandName,connotation:n.connotation})})}return e}getActiveFilterStatus(e){switch(e){case u.PROCESSED_ID:return"completed";case u.ERRORS_ID:return"error";case u.WARNINGS_ID:return"warning";default:return"default"}}toggleFilter(e){var t;this.dialogIsMaximized()?this.currentFilter=e:this.currentFilter=(null===(t=this.currentFilter)||void 0===t?void 0:t.id)===e.id?null:e,this.currentFilter&&this.processingViewGridVM.setFilterID(this.currentFilter.filterId)}dialogIsMaximized(){return!(!this.dialogHelper||!this.currentDialog)&&this.currentDialog.controller.viewModel.maximized}currentFilterChanged(e){this.dialogHelper&&this.currentDialog&&(null!=e?(this.currentDialog.settings.model.hideMaximizer=!1,this.dialogIsMaximized()||(this.currentDialog.settings.model.height=this.currentDialog.settings.model.centeringHeight)):(this.currentDialog.settings.model.hideMaximizer=!0,this.currentDialog.settings.model.height=void 0))}showProcessingDialog(){this.dialogShown=!0,this.eventAggregator.publish("default-longrun-switched-off"),this.currentFilter=null;this.dialogHelper.openDialog(this.dialogConfig,{lock:!0},(e=>{this.currentDialog=e.controller})).whenClosed((()=>{this.eventAggregator.publish("longrun-cleared",{hide:!0}),this.dialogShown=!1,setTimeout((()=>{this.eventAggregator.publish("default-longrun-switched-on")}),300),this.processingIsActive?this.closeProcessing():this.processingIsActive=!0}))}closeProcessing(){var e;this.processingIsActive=!1;const t=this.parent.actions.get("actioncancelprocessing"),i=this.parent.actions.get("actioncloseprocessing"),n=t&&t.visible?t.commandName:null==i?void 0:i.commandName;n===(null==i?void 0:i.commandName)&&(null===(e=this.currentDialog)||void 0===e||e.cancel()),this.execCommand(new o.ExecuteCommandEvent(n))}execCommand(e){return i.__awaiter(this,void 0,void 0,(function*(){this.screenEventManager.publish(e)}))}detached(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions.splice(0,this.subscriptions.length),this.screenService.unregisterDataComponent("ProcessingResultData")}};h.filterIDs={default:"00000000-0000-0000-0000-000000000000",errors:"00000000-0000-0000-0000-000000000010",processed:"00000000-0000-0000-0000-000000000020",remains:"00000000-0000-0000-0000-000000000030",warnings:"00000000-0000-0000-0000-000000000040"},h.PROCESSED_ID="PROCESSED",h.ERRORS_ID="ERRORS",h.WARNINGS_ID="WARNINGS",h.REMAINING_ID="REMAINING",h.TOTAL_ID="TOTAL",h.processingGridDefaultConfig={id:"",preset:o.GridPreset.Inquiry,allowUpdate:!1,showFilterBar:o.GridFilterBarVisibility.False,filterView:"ViewFieldsFilters",filterRowsView:"ProcessingView$FilterRow",generateProcessColumns:!0,preserveSortsAndFilters:!1,syncPosition:!1,adjustPageSize:!1,mergeToolbarWith:void 0,columnsConfig:[{field:"Selected",allowShowHide:o.GridColumnShowHideMode.False,visible:!1},{field:"ProcessingStatus",width:100,visible:!0},{field:"ProcessingMessage",width:270,visible:!0}]},i.__decorate([(0,l.newInstance)(a.DialogHelper),i.__metadata("design:type",a.DialogHelper)],h.prototype,"dialogHelper",void 0),i.__decorate([n.observable,i.__metadata("design:type",Object)],h.prototype,"currentFilter",void 0),i.__decorate([(0,n.computedFrom)("result"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],h.prototype,"errorsOccured",null),i.__decorate([(0,n.computedFrom)("result"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],h.prototype,"warningsOccured",null),i.__decorate([(0,n.computedFrom)("errorsOccured","warningsOccured"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],h.prototype,"errorIconClasses",null),i.__decorate([(0,n.computedFrom)("percentage","total","result"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],h.prototype,"processingStatus",null),i.__decorate([(0,n.computedFrom)("percentage"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],h.prototype,"processingProgressAnimationStatusClass",null),i.__decorate([(0,n.computedFrom)("result","total"),i.__metadata("design:type",Number),i.__metadata("design:paramtypes",[])],h.prototype,"progressBarVisibility",null),i.__decorate([(0,n.computedFrom)("processedItems","errors","skipped","remains","total"),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[])],h.prototype,"filtersList",null),h=u=i.__decorate([(0,n.customElement)("qp-processing-dialog"),l.autoinject,i.__metadata("design:paramtypes",[n.Container,Element,p.EventAggregator,n.TaskQueue])],h),t.QpProcessingDialogCustomElement=h}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/quick-processing/qp-quick-processing":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-event-aggregator"),i("aurelia-framework"),i(2172),i(2172),i(3147),i(7699),i(3116),i(6778)],r=function(e,t,i,n,r,o,a,l,d,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpQuickProcessingCustomElement=void 0;let u=class QpQuickProcessingCustomElement{constructor(e,t,i,n,r,o){this.container=e,this.element=t,this.bindingEngine=i,this.eventAggregator=n,this.screenEventManager=r,this.redirector=o,this.messages=[],this.cancelConfig={text:c.Messages.Cancel,id:"quick_processing_cancel",enabled:!0,tabIndex:-1},this.dialogConfig={context:this,templateId:"ProcessingResults",hideMaximizer:!0,hideCloseButton:!0},this.cancelling=!1,this.dialogShown=!1,this.autoRedirects=[],this.autoRedirectsDone=new Set,this.autoRedirectIndex=0,this.haveErrors=!1,this.subscriptions=[],this.Msg=c.Messages}attached(){let e=this.eventAggregator.subscribe(o.CALLBACK_COMPLETED_EVENT,(e=>{var t;(null==e?void 0:e.command)&&1===(null==e?void 0:e.dialogResult)&&(null==e?void 0:e.validationOk)&&this.quickProcessingActions&&this.quickProcessingActions.indexOf(null==e?void 0:e.command.toLowerCase())>=0?(this.messages=[],this.messagesSize=0,this.messagesPreviousSize=0,this.autoRedirects=[],this.autoRedirectsDone.clear(),this.autoRedirectIndex=0,this.status="in-progress",this.completedMessage="",this.cancelling=!1,this.dialogConfig.cssClass="status-dialog-in-progress",this.showDialog()):(!(null==e?void 0:e.command)||!this.quickProcessingActions||this.quickProcessingActions&&-1===this.quickProcessingActions.indexOf(null==e?void 0:e.command.toLowerCase())&&"Repaint"!==(null==e?void 0:e.command)&&"ElapsedTime"!==(null==e?void 0:e.command)&&"LongRun"!==(null==e?void 0:e.command))&&(null===(t=this.currentDialog)||void 0===t||t.close(!1))}));this.subscriptions.push(e),e=this.eventAggregator.subscribe(o.QuickProcessingActionsEvent,(e=>{this.quickProcessingActions=e.quickProcessingActions.map((e=>e.toLowerCase()))})),this.subscriptions.push(e),e=this.eventAggregator.subscribe(a.QuickProcessingChangedEvent,(e=>{e.log&&(this.haveErrors=e.log.some((e=>e.error)),this.messages=e.log.map((e=>this.createLogMessage(e))),this.messagesSize=this.messages.length,this.messagesSize!==this.messagesPreviousSize?(this.messagesPreviousSize=this.messagesSize,this.messagesSizeChanged=!0):this.messagesSizeChanged=!1,this.autoRedirects=e.log.filter((e=>e.autoRedirect&&e.redirect)).map((e=>e.redirect)),"in-progress"!==this.status&&this.completed(),this.showDialog())})),this.subscriptions.push(e),e=this.eventAggregator.subscribe("longrun-started",(e=>{this.timerId||(this.timerId=setInterval((()=>{this.longRunTimer()}),200)),this.longrunStatusMessage=`${e.message}`})),this.subscriptions.push(e),e=this.eventAggregator.subscribe("longrun-aborted",(e=>{this.status="aborted"})),this.subscriptions.push(e);const done=e=>{this.completedMessage=e.message,this.dialogShown&&this.completed()};e=this.eventAggregator.subscribe("longrun-succeded",done),this.subscriptions.push(e),e=this.eventAggregator.subscribe("longrun-succeded-with-warning",done),this.subscriptions.push(e)}get longrunStatusMessagesList(){return this.longrunStatusMessage&&this.longrunStatusMessage.split("\n")||[]}cancellingChanged(e){this.cancelConfig.enabled=!e}position(e,t){if(t){t.classList.add("qp-dialog-app-overlay");let e=this.eventAggregator.subscribe("longrun-cleared",(()=>{t.classList.add("hidden")}));this.subscriptions.push(e),e=this.eventAggregator.subscribe("longrun-started",(e=>{t.classList.remove("hidden")})),this.subscriptions.push(e)}e.classList.add("qp-status-dialog")}cancel(){"in-progress"===this.status&&(this.eventAggregator.publish("cancel-long-run"),this.cancelling=!0)}longRunTimer(){this.startTime||(this.startTime=new Date);const e=(new Date).getTime()-this.startTime.getTime();let t=Math.floor(e/1e3);t-=86400*Math.floor(t/86400);const i=Math.floor(t/3600);t-=3600*i;const n=Math.floor(t/60);t-=60*n,this.longRunTimerMessage=[i.toString().padStart(2,"0"),n.toString().padStart(2,"0"),t.toString().padStart(2,"0")].join(":")}stopLongRunTimer(){this.timerId&&(clearInterval(this.timerId),this.timerId=void 0),this.startTime=void 0}detached(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}completed(){this.stopLongRunTimer(),"aborted"!==this.status&&(this.status=this.haveErrors?"not-completed":"completed"),this.dialogConfig.cssClass=`status-dialog-${this.status}`,this.dialogConfig.hideCloseButton=!1,this.eventAggregator.publish("longrun-cleared",{hide:!0});for(const e of this.autoRedirects)this.autoRedirectsDone.has(e.redirects[0].url)||(this.autoRedirectsDone.add(e.redirects[0].url),setTimeout((()=>{this.redirector.doRedirects(e)}),5e3*this.autoRedirectIndex),this.autoRedirectIndex++)}createLogMessage(e){const t={text:e.text.map((e=>"link"===e.type?{type:"link",text:e.text}:{type:"text",text:e.text})),error:e.error};if(e.redirect){const i=Object.assign(Object.assign({},e.redirect),{redirects:e.redirect.redirects.map((e=>{const t=Object.assign({},e.queryParams);return delete t.AutoExportPDF,Object.assign(Object.assign({},e),{queryParams:t})}))});t.redirectAction=()=>{this.redirector.doRedirects(i)}}return t}showDialog(){if(this.dialogShown)return;this.dialogConfig.hideCloseButton=!0,this.dialogShown=!0,this.eventAggregator.publish("default-longrun-switched-off");const e=this.dialogHelper.openDialog(this.dialogConfig,{lock:!0,position:(e,t)=>this.position(e,t)},(e=>{this.currentDialog=e.controller}));e.catch((()=>{handleDialogHide()})),e.whenClosed((()=>{handleDialogHide()}));const handleDialogHide=()=>{this.dialogShown=!1,this.currentDialog=void 0,this.eventAggregator.publish("default-longrun-switched-on")}}};i.__decorate([r.bindable,i.__metadata("design:type",Object)],u.prototype,"config",void 0),i.__decorate([r.observable,i.__metadata("design:type",String)],u.prototype,"status",void 0),i.__decorate([r.observable,i.__metadata("design:type",Array)],u.prototype,"messages",void 0),i.__decorate([(0,d.newInstance)(l.DialogHelper),i.__metadata("design:type",l.DialogHelper)],u.prototype,"dialogHelper",void 0),i.__decorate([r.observable,i.__metadata("design:type",Boolean)],u.prototype,"cancelling",void 0),i.__decorate([(0,p.computedFrom)("longrunStatusMessage"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],u.prototype,"longrunStatusMessagesList",null),u=i.__decorate([d.autoinject,(0,r.customElement)("qp-quick-processing"),i.__metadata("design:paramtypes",[r.Container,Element,r.BindingEngine,n.EventAggregator,o.QpEventManager,o.RedirectHelper])],u),t.QpQuickProcessingCustomElement=u}.apply(t,n),void 0===r||(e.exports=r)},6712:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("aurelia-event-aggregator"),i(2172),i(6646)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickProcessingDataComponent=void 0;let l=class QuickProcessingDataComponent{constructor(e,t){this.viewModel=e,this.container=t,this.config={id:"ctl00_phDS_ds_QuickProcessing",hidden:!0,enabled:!0},this.eventAggregator=t.get(r.EventAggregator)}getQueryParams(e){return{}}setComponentData(e){this.applyQuickProcessingResult(e)}applyQuickProcessingResult(e){if(e){const t=e;if(t.quickProcessingActions){const e=new o.QuickProcessingActionsEvent;e.quickProcessingActions=t.quickProcessingActions,this.eventAggregator.publish(e)}if(t.log){const t=new o.QuickProcessingChangedEvent;t.log=e.log,this.eventAggregator.publish(t)}else this.eventAggregator.publish(o.QUICK_PROCESSING_CLEARED)}else this.eventAggregator.publish(o.QUICK_PROCESSING_CLEARED)}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"config",void 0),l=i.__decorate([(0,n.inlineView)('<template><qp-quick-processing config.bind="config"></qp-quick-processing></template>'),(0,a.selfRegisterWithName)("QuickProcessingData"),i.__metadata("design:paramtypes",[Object,n.Container])],l),t.QuickProcessingDataComponent=l}.apply(t,n),void 0===r||(e.exports=r)},4201:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(6646),i(1515)],r=function(e,t,i,n,r,o){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.CopyPasteDataComponent=t.CopyPasteImportXmlDialog=void 0;let l=class CopyPasteImportXmlDialog{};l.Caption="Upload XML File",l=i.__decorate([o.localizable],l),t.CopyPasteImportXmlDialog=l;let d=a=class CopyPasteDataComponent{constructor(e){}getQueryParams(e){return{}}setComponentData(e){var t;e&&"object"==typeof e&&e.importEnabled?this.config=Object.assign(Object.assign({},a.defaultConfig),{key:null!==(t=e.viewName)&&void 0!==t?t:a.defaultConfig.key}):this.config=void 0}};d.defaultConfig={id:"dlgUploadXml",key:"UploadImportedXml",caption:l.Caption,sessionKey:"XmlUploadEntity",width:"450px",allowedTypes:".xml"},d=a=i.__decorate([(0,n.inlineView)('<template><qp-upload-dialog if.bind="!!config" config.bind="config" screen.bind="screen"></qp-upload-dialog></template>'),(0,r.selfRegisterWithName)("CopyPasteActionsData",{category:r.DataComponentCategory.PageHost}),i.__metadata("design:paramtypes",[o.PXScreen])],d),t.CopyPasteDataComponent=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/upload-dialog/qp-upload-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7699),i(7754),i(4834),i(2172),i(9473),i(3147),i(7678),i(3116),i(2594)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpUploadDialogCustomElement=void 0;let g=class QpUploadDialogCustomElement{constructor(e,t){this.element=e,this.container=t,this.importOptions={},this.controlError={},this.Messages=u.Messages,this.DialogMessages=m,this.PXErrorLevel=l.PXErrorLevel}attached(){var e,t;this.client=this.container.get(p.FilesDialogApiClient),this.screenService=this.container.get(a.ScreenService);const n=null===(t=null===(e=this.screenService)||void 0===e?void 0:e.model)||void 0===t?void 0:t.screenEventManager;this.listeners=new d.Disposables([n.subscribe("OpenPopup",(e=>i.__awaiter(this,void 0,void 0,(function*(){var t;e.commandName&&e.name===(null===(t=this.config)||void 0===t?void 0:t.key)&&(e.stop(),yield this.execute(e.commandName))}))))])}detached(){var e;this.client=void 0,this.screenService=void 0,null===(e=this.listeners)||void 0===e||e.dispose(),this.listeners=void 0}configChanged(){this.config&&!this.config.id&&(this.config.id=`dlg${this.config.key||"Upload"}`)}execute(e){return i.__awaiter(this,void 0,void 0,(function*(){if(!this.config)return;this.command=e;const t=this.container.get(c.DialogHelper),i={id:this.config.id,rootElement:this.element,templateId:this.config.key,context:this},n=yield t.openDialog(i,{lock:!0,keyboard:!0});n.wasCancelled||(yield n.closeResult)}))}cleanUp(){this.uploaderConfig=void 0,this.file=void 0,this.importOptions={},this.uploadedFile=void 0,this.controlError={}}deactivateDialog(e){this.cleanUp()}activateDialog(e){var t,i;if(!(null===(t=this.config)||void 0===t?void 0:t.sessionKey))throw new Error("Invalid sessionKey value");this.cleanUp(),this.file={type:"file"},this.importOptions={includeCustomColumns:!!this.config.renderImportOptions||void 0,fullSchemaCheck:!this.config.renderImportOptions&&void 0,checkIn:!!this.config.renderCheckIn||void 0},this.uploaderConfig={id:`${this.config.id}_upl_upl`,accept:null!==(i=this.config.allowedTypes)&&void 0!==i?i:"",ignoreSize:this.config.ignoreSize,singleMode:!0}}getFileToUpload(){var e,t;if(!this.file)return;let i;return"file"===this.file.type?this.uploadedFile?(i={type:"file",file:this.uploadedFile,autoSave:null===(e=this.config)||void 0===e?void 0:e.autoSave,namePrefix:null===(t=this.config)||void 0===t?void 0:t.namePrefix},i):(this.controlError[this.file.type]=this.DialogMessages.MessageSelectFile,void alert(this.controlError[this.file.type])):"link"===this.file.type?(this.file.link=this.fileLink,this.file.link?(i={type:"link",link:this.file.link},i):(this.controlError[this.file.type]=this.DialogMessages.MessageSelectLink,void alert(this.controlError[this.file.type]))):void 0}uploadClick(e){var t,n,r,o;return i.__awaiter(this,void 0,void 0,(function*(){const i=this.command,a=null===(t=this.config)||void 0===t?void 0:t.key,d=null===(n=this.config)||void 0===n?void 0:n.sessionKey,c=this.screenService,p=this.client;if(!(c&&p&&a&&i&&d))return;const u=this.getFileToUpload();if(!u)return;const h=!!this.importOptions.checkIn,g=yield p.saveFileInMemory(d,u,this.importOptions);if(!g)return this.controlError[u.type]="file"===u.type?this.DialogMessages.ErrorSelectFile:this.DialogMessages.ErrorSelectLink,void alert(this.controlError[u.type]);this.controlError[u.type]=void 0;(yield c.executeCommand(i,new l.ScreenUpdateParams({commitChanges:!1,blockPage:!0,dialogCallback:{viewName:a,dialogResult:1}},this.element))).succeeded&&(null===(r=e.target)||void 0===r||r.dispatchEvent(new CustomEvent("savedialog",{bubbles:!0})),c.model.screenEventManager.publish(new l.ExecuteCommandEvent("Repaint")),null===(o=this.fileUploadFinished)||void 0===o||o.call(this,{fileInfo:g,checkIn:h}))}))}uploadedFileChanged(){this.uploaderConfig&&(this.uploaderConfig.disableClick=!!this.uploadedFile),this.controlError.file=void 0}fileLinkChanged(){this.controlError.link=void 0}clearUploaded(){this.uploadedFile=void 0}get uploaderText(){var e;return(0,p.createAcceptList)((null===(e=this.config)||void 0===e?void 0:e.allowedTypes)||"*").map((e=>{return`*.${t=e,t.length>0&&"."===t.charAt(0)?t.substring(1):t}`;var t})).join(", ")}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],g.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],g.prototype,"fileUploadFinished",void 0),i.__decorate([n.observable,i.__metadata("design:type",File)],g.prototype,"uploadedFile",void 0),i.__decorate([n.observable,i.__metadata("design:type",String)],g.prototype,"fileLink",void 0),i.__decorate([(0,n.computedFrom)("config","config.allowedTypes"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],g.prototype,"uploaderText",null),g=i.__decorate([r.autoinject,(0,n.customElement)("qp-upload-dialog"),(0,o.configAttributes)(["id","key","sessionKey","caption","width","allowedTypes","ignoreSize","autoSave","namePrefix","renderLink","renderComment","renderImportOptions","renderCheckIn"]),i.__metadata("design:paramtypes",[Element,n.Container])],g),t.QpUploadDialogCustomElement=g;let m=class UploadDialogMessages{};m.RadioUploadFile="Upload file",m.RadioLinkFile="Link to existing file",m.CaptionUploader="Upload file",m.CaptionExistingFile="Existing file",m.CheckboxCustomColumns="Include Data From Custom Columns",m.CheckboxSchemaCheck="Check Database Structure Before Import",m.CaptionComment="Comment",m.CheckboxCheckIn="Check In",m.ButtonUpload="Upload",m.MessageSelectFile="Please select a file to upload",m.MessageSelectLink="Please specify a file link",m.ErrorSelectFile="Invalid file selected",m.ErrorSelectLink="Invalid file link selected",m=i.__decorate([h.localizable],m)}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/dialog/workflow-dialog/qp-workflow-dialog":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2172)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpWorkflowDialogCustomElement=t.FilterPreview=void 0;class FilterPreview extends r.PXView{}t.FilterPreview=FilterPreview;let o=class QpWorkflowDialogCustomElement{activateDialog(e){if(this.screen){this.screen.FilterPreview||(this.screen.FilterPreview=(0,r.createSingle)(FilterPreview));this.screen.getScreenService().registerViewBinding(e.detail.dialogElement,FilterPreview.name)}}deactivateDialog(e){var t;if(this.screen){this.screen.getScreenService().unregisterViewBinding(e.detail.dialogElement),(null===(t=e.detail.result)||void 0===t?void 0:t.wasCancelled)&&(this.screen.cancelViewChanges(FilterPreview.name),delete this.screen.FilterPreview)}}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],o.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],o.prototype,"screen",void 0),o=i.__decorate([n.autoinject,(0,n.customElement)("qp-workflow-dialog")],o),t.QpWorkflowDialogCustomElement=o}.apply(t,n),void 0===r||(e.exports=r)},7213:(e,t,i)=>{var n,r;n=[i,t,i(655),i("client-controls/controls/dialog/workflow-dialog/qp-workflow-dialog"),i("aurelia-framework"),i(2172),i(1515),i(6646)],r=function(e,t,i,n,r,o,a,l){"use strict";function calculateDialogWidth(e){var t;const i=Math.min(...(null!==(t=e.fields)&&void 0!==t?t:[]).map((e=>{var t,i,n,r,o,a;return"qp-rich-text-editor"===e.controlType?6:null!==(a=null!==(r=null!==(i=null===(t=e.position.large)||void 0===t?void 0:t.columns)&&void 0!==i?i:null===(n=e.position.medium)||void 0===n?void 0:n.columns)&&void 0!==r?r:null===(o=e.position.small)||void 0===o?void 0:o.columns)&&void 0!==a?a:0})).filter((e=>e>0)));return 12===i?"500px":6===i?"800px":"90vw"}Object.defineProperty(t,"__esModule",{value:!0}),t.WorkflowDataComponent=void 0;let d=class WorkflowDataComponent{constructor(e){this.workflowScreen=e,this.screenService=e.getScreenService()}getQueryParams(e){return{}}setComponentData(e){this.applyWorkflowData(e)}applyWorkflowData(e){var t;if(this.screenService&&this.workflowScreen&&(null==e?void 0:e.viewName)===n.FilterPreview.name){const i=null!==(t=this.workflowScreen.FilterPreview)&&void 0!==t?t:this.workflowScreen.FilterPreview=(0,o.createSingle)(n.FilterPreview);this.config=i.dialog=Object.assign(Object.assign({},e),{width:calculateDialogWidth(e)})}else this.config=void 0}};d=i.__decorate([(0,r.inlineView)('<template><qp-workflow-dialog config.bind="config" screen.bind="workflowScreen"></qp-workflow-dialog></template>'),(0,l.selfRegisterWithName)("AuWorkflowFormsData",{category:l.DataComponentCategory.PageHost}),i.__metadata("design:paramtypes",[a.PXScreen])],d),t.WorkflowDataComponent=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/barcode-input/qp-barcode-input":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(6158),i(8099),i("client-controls/controls/simple/text-editor/qp-text-editor"),i(630),i(2172),i("client-controls/controls/dialog/informer/qp-informer-rack"),i(7140),i(4834)],r=function(e,t,i,n,r,o,a,l,d,c,p,u){"use strict";var h;Object.defineProperty(t,"__esModule",{value:!0}),t.QpBarcodeInputCustomElement=void 0;const g=(0,o.getLogger)("barcode-input");let m=h=class QpBarcodeInputCustomElement extends a.QpTextEditorCustomElement{constructor(e,t){super(e,t),this.value="",this.screenService=t.get(u.ScreenService)}stateChanged(e,t){super.stateChanged(e,t),this.state.commitChanges&&(0,c.fatalError)(`The barcode control ("${this.state.viewModeName}.${this.state.name}") must not use the "commit changes" option, because it leads to extra server requests. The control uses its own custom commit logic. Please remove &lt;PXFieldOptions.CommitChanges&gt; from the field declaration in ${this.screenService.screenID}.ts`)}configChanged(e,t){super.configChanged(e,t),e.soundControl&&(this.soundFileField=e.soundControl,this.soundSub||this.bindingEngine.propertyObserver(this.soundFileField,"value").subscribe((e=>{var t;!e||!h.allowedToPlay||this.screenService.longRunInProgress&&h.longRunInitialPlayed||(this.soundFileField.value="",h.longRunInitialPlayed=this.screenService.longRunInProgress,null===(t=this.getSound(e))||void 0===t||t.play().catch((t=>g.warn(`Audio file ${e} cannot be played: error ${t}`))))}))),this.config||(this.config={}),(0,p.applyDefaultValues)(this.config,h.defaultBICConfig);const i=["wms_success","wms_error"];for(const e of i)this.getSound(e)}attached(){super.attached(),h.allowedToPlay||(this.commandSub=this.eventAggregator.subscribe(d.CALLBACK_STARTED_EVENT,(e=>{var t;e&&(h.allowedToPlay=!0,null===(t=this.commandSub)||void 0===t||t.dispose())})))}getSound(e){var t,i;let n=h.soundCache.get(e);if(!n){if(!(null===(t=this.config)||void 0===t?void 0:t.soundPath)&&!(null===(i=this.config)||void 0===i?void 0:i.soundMapper))return g.error("Sound will not play: one of soundPath or soundMapper must be set in config"),null;let r=`${l.siteRoot||"/"}`;r.endsWith("/")||(r+="/"),n=new Audio(this.config.soundMapper?this.config.soundMapper(e):`${r}${this.config.soundPath}${e}.wav`),h.soundCache.set(e,n)}return n}processKeyDown(e){return!("Enter"===e.key&&!e.altKey)||(e.preventDefault(),e.stopPropagation(),this.sendUpdateEvent(),this.soundFileField&&(this.soundFileField.value=""),this.tq.queueTask((()=>this.screenEventManager.publish(new d.ExecuteCommandEvent(this.config.submitCommand)))),!1)}detached(){var e,t;null===(e=this.commandSub)||void 0===e||e.dispose(),null===(t=this.soundSub)||void 0===t||t.dispose(),super.detached()}};m.soundCache=new Map,m.allowedToPlay=!1,m.longRunInitialPlayed=!1,m.defaultBICConfig={soundPath:"Sounds/",submitCommand:"Scan",spellcheck:!1},i.__decorate([n.bindable,i.__metadata("design:type",String)],m.prototype,"value",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],m.prototype,"config",void 0),m=h=i.__decorate([n.autoinject,(0,n.customElement)("qp-barcode-input"),i.__metadata("design:paramtypes",[Element,r.Container])],m),t.QpBarcodeInputCustomElement=m}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/branch-selector/qp-branch-selector-3d":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(3869),i(7140),i(829),i(2172),i(6158),i(7140)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.QpBranchSelector3dCustomElement=void 0;const u={ArrowDown:1,ArrowUp:-1,Down:1,PageDown:7,PageUp:-7,Up:-1};let h=p=class QpBranchSelector3dCustomElement extends a.QpBaseFieldEditor{constructor(e,t,i,n){super(t),this.element=e,this.apiClient=i,this.busyCounter=n,this.highlightedIndex=void 0,this.autoExpandIfLessThen=3,this.treeOpen=!1,this.loadingStatus="in-sync",this.addConfigSetter("graph",(e=>this.syncPropsToConfig("graph",e))),this.addConfigSetter("viewName",(e=>this.syncPropsToConfig("view",e)))}configChanged(){}editModeChanged(e,t){e&&(this.branches||this.loadBranches(),this.selectAllText())}loadBranches(){return i.__awaiter(this,void 0,void 0,(function*(){return this.branchesPromise||(this.loadingStatus="loading",this.busyCounter.increment(),this.branchesPromise=this.apiClient.getBranchTree({dac:this.config.dac,screenId:(0,o.getScreenID)(),view:this.config.view,graph:this.config.graph,screenStateId:this.config.screenStateId}).then((e=>{this.branches=e.data,this.loadingStatus="in-sync",this.tq.flushMicroTaskQueue()})).finally((()=>{this.busyCounter.decrement()}))),this.branchesPromise}))}toggleSelector(e){if(e.preventDefault(),e.stopImmediatePropagation(),this.inputControl.focus(),this.treeOpen)this.hide();else if(this.show(),this.highlightedIndex||this.search(),void 0!==this.highlightedIndex&&this.highlightedIndex>=0){const e=this.highlightedIndex;this.tq.flushTaskQueue(),this.tq.queueTask((()=>this.scrollNodeIntoView(e)))}}select(e,t){e.canSelect&&(this.value={id:e.acctCD,text:e.acctName},this.updateToolTip(),this.hide(),this.tq.queueTask((()=>{this.selectAllText(),this.filter=""}))),null==t||t.preventDefault(),null==t||t.stopImmediatePropagation(),null==t||t.stopPropagation()}handleKey(e){const t=u[e.key];switch(void 0!==t&&this.treeOpen!==e.altKey&&(e.preventDefault(),e.stopImmediatePropagation(),this.moveCursor(t)),e.key){case"Enter":void 0!==this.highlightedIndex&&this.flatStructure[this.highlightedIndex]&&this.select(this.flatStructure[this.highlightedIndex]);break;case"Esc":case"Escape":this.hide(),e.preventDefault(),e.stopImmediatePropagation()}return!0}moveCursor(e){return i.__awaiter(this,void 0,void 0,(function*(){if(!this.treeOpen)if(this.show(),Array.isArray(this.flatStructure)&&0!==this.flatStructure.length){if("number"==typeof this.highlightedIndex&&this.highlightedIndex>=0)return}else if(yield this.loadBranches(),!Array.isArray(this.flatStructure)||0===this.flatStructure.length)return;if("number"!=typeof this.highlightedIndex||this.highlightedIndex<0)this.selectFirst();else{let t=this.highlightedIndex+e;const i=e>0?1:-1,n=(e>0?this.flatStructure.length:0)+i;for(t<0&&(t=0),t>=this.flatStructure.length&&(t=this.flatStructure.length-1);t!==n;t+=i)if(this.flatStructure[t].canSelect){this.highlightedIndex=t;break}}this.tq.flushTaskQueue(),this.scrollNodeIntoView(this.highlightedIndex||0)}))}selectFirst(e){if(this.highlightedIndex=void 0,void 0===e){if(this.value&&this.value.id){const e=this.flatStructure.filter((e=>e.acctCD===this.value.id));if(e.length>1)if(e[0].primaryGroupID){const e=this.flatStructure.findIndex((e=>e.acctCD===this.value.id&&e.primaryGroupID===e.parentBAccountID));this.highlightedIndex=-1===e?0:e}else if("branch"===e[0].type){const t=this.flatStructure.findIndex((t=>t.bAccountID===e[0].parentBAccountID&&t.parentBAccountID===t.primaryGroupID)),i=this.flatStructure.findIndex(((e,i)=>i>t&&e.acctCD===this.value.id));this.highlightedIndex=-1===i?0:i}else{const e=this.flatStructure.findIndex((e=>e.acctCD===this.value.id));this.highlightedIndex=-1===e?0:e}else{const e=this.flatStructure.findIndex((e=>e.AcctCD===this.value.id));this.highlightedIndex=-1===e?0:e}}}else for(let t=0;t<this.flatStructure.length;t++)if(this.flatStructure[t].canSelect&&(""===e||this.flatStructure[t].displaySegments.length>1)){this.highlightedIndex=t;break}if(void 0!==this.highlightedIndex&&this.highlightedIndex>=0){const e=this.highlightedIndex;this.tq.flushTaskQueue(),this.tq.queueTask((()=>this.scrollNodeIntoView(e)))}}search(e){return i.__awaiter(this,void 0,void 0,(function*(){this.show(),this.filter=e,this.branches||(yield this.loadBranches()),this.selectFirst(e)}))}toolTipShown(){return i.__awaiter(this,void 0,void 0,(function*(){this.updateToolTip()}))}updateToolTip(){return i.__awaiter(this,void 0,void 0,(function*(){if(!this.value||!this.value.id)return void(this.toolTip=[]);this.branches||(this.toolTip=[],this.toolTip.push(`${this.value.id}${this.value.text?` - ${this.value.text}`:""}`),yield this.loadBranches());const{id:e}=this.value;if(e){let e=-1;const t=[];do{e=this.flatStructure.findIndex(((t,i)=>i>e&&t.AcctCD===this.value.id)),e>-1&&t.push(e)}while(-1!==e);for(e=0;e<t.length;e++){const i=t[e];let n=i>0&&this.flatStructure[i].level>0?i-1:-1;if(n>0)for(;n>0&&!(this.flatStructure[n].level<this.flatStructure[i].level);n--);let r=n>0&&this.flatStructure[n].level>0?n-1:-1;if(r>0)for(;r>0&&!(this.flatStructure[r].level<this.flatStructure[n].level);r--);if((this.flatStructure[i].parentBAccountID===this.flatStructure[i].primaryGroupID||void 0===this.flatStructure[i].primaryGroupID)&&(n<0||this.flatStructure[n].parentBAccountID===this.flatStructure[n].primaryGroupID||void 0===this.flatStructure[n].primaryGroupID)&&(r<0||this.flatStructure[r].parentBAccountID===this.flatStructure[r].pimaryGroupID||void 0===this.flatStructure[r].primaryGroupID)){this.toolTip=[],r>-1&&this.toolTip.push(`${this.flatStructure[r].acctCD}${this.flatStructure[r].acctName?` - ${this.flatStructure[r].acctName}`:""}`),n>-1&&this.toolTip.push(`${this.flatStructure[n].acctCD}${this.flatStructure[n].acctName?` - ${this.flatStructure[n].acctName}`:""}`),this.toolTip.push(`${this.value.id}${this.value.text?` - ${this.value.text}`:""}`);break}}}}))}get ROMode(){var e,t;return(null===(e=this.config)||void 0===e?void 0:e.readOnly)||!1===(null===(t=this.config)||void 0===t?void 0:t.enabled)}onFocus(){var e;return null===(e=this.inputControl)||void 0===e||e.select(),!0}onBlur(){var e,t,i,n;if(!1!==this.config.enabled&&!this.config.readOnly)if(""===this.inputControl.value.trim())(null===(e=this.value)||void 0===e?void 0:e.id)&&(this.value={id:"",text:""});else if(this.inputControl.value.trim()!==(null===(i=null===(t=this.value)||void 0===t?void 0:t.id)||void 0===i?void 0:i.trim())){const e=null===(n=this.flatStructure)||void 0===n?void 0:n.find((e=>e.acctCD.trim().toLowerCase()===this.inputControl.value.trim().toLowerCase()));this.value=e?{id:e.acctCD,text:e.acctName}:{id:this.inputControl.value,text:""}}return this.filter="",this.hide(),!0}syncPropsToConfig(e,t){this.config&&(this.config[e]=t)}static findParent(e,t){var i,n;if(e)for(const r of t){if(null===(i=r.children)||void 0===i?void 0:i.find((t=>t.acctCD===e.acctCD&&t.primaryGroupID===t.parentBAccountID)))return r;if(null===(n=r.children)||void 0===n?void 0:n.find((t=>t.acctCD===e.acctCD)))return r;if(r.children){const t=p.findParent(e,r.children);if(t)return t}}}findFilteredParent(e){var t;for(const i of this.filtered){if(i.bAccountID===e.bAccountID&&i.parentBAccountID===e.parentBAccountID)return i;if(null===(t=i.children)||void 0===t?void 0:t.length)for(const t of i.children)if(t.bAccountID===e.bAccountID&&t.parentBAccountID===e.parentBAccountID)return t}}toggleExpand(e,t){const i=this.findFilteredParent(e);if(i){const t=p.findParent(i,this.filtered);i.expand=!i.expand,e.expand=i.expand;const n=this.flatStructure.indexOf(e)+1;if(!1===e.expand){let t=this.flatStructure.findIndex((function(t,i){return!(i<n||t.level>e.level)}));-1===t&&(t=this.flatStructure.length);const i=t-n;i>0&&n<this.flatStructure.length&&this.flatStructure.splice(n,i)}else{let e=!1;t&&(e=t.children.indexOf(i)===t.children.length-1);const r=this.flatten(i.children,i.level+1,e);this.flatStructure.splice(n,0,...r)}}t.stopPropagation(),t.stopImmediatePropagation()}scrollNodeIntoView(e){var t,i;let n;n="nearest",e===(null===(t=this.flatStructure)||void 0===t?void 0:t.length)-1&&(n="start");const r=null===(i=this.treeView)||void 0===i?void 0:i.querySelectorAll(".branch-selector__node")[e];if(r){const e="scrollBehavior"in document.documentElement.style?{block:n}:void 0;r.scrollIntoView(e)}}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}show(){this.documentMouseDownSubscription=this.eventAggregator.subscribe(l.MOUSE_DOWN_REACHED_BODY,(()=>this.hide())),this.treeOpen=!0}hide(){this.unsubscribeFromMouseDownOnDocument(),this.treeOpen=!1}ignoreMouseDown(e){e.preventDefault(),e.stopImmediatePropagation()}selectAllText(){const e=this.inputControl.value.length;this.inputControl.setSelectionRange(0,e)}highlight(e){this.highlightedNode=e,e.canSelect&&(this.highlightedIndex=this.flatStructure.indexOf(e))}flatten(e,t,i,n=[]){var r,o,a;for(let l=0;l<e.length;l++){const d=e[l];d.level=t,d.lastChild=i;const c=this.value&&this.value.id&&(null===(r=d.children)||void 0===r?void 0:r.find((e=>{var t;return e.acctCD===this.value.id||(null===(t=e.children)||void 0===t?void 0:t.find((e=>e.acctCD===this.value.id)))})));let p=!!c;p&&(null==c?void 0:c.primaryGroupID)&&c.primaryGroupID!==c.parentBAccountID&&(p=!1),d.expand=d.expand||(null===(o=d.children)||void 0===o?void 0:o.length)&&(null===(a=d.children)||void 0===a?void 0:a.length)<=this.autoExpandIfLessThen||p,n.push(d),d.expand&&d.children&&(d.expand=!0,this.flatten(d.children,t+1,l===e.length-1,n))}return n}conditionsChanged(){if(!Array.isArray(this.branches))return;this.highlightedIndex=void 0;const e=this.filter&&this.filter.toLocaleLowerCase()||"";this.filtered=function filterBranches(e,t){var i;const n=[];for(const r of e){const{acctCD:e,acctName:a,bAccountID:l,parentBAccountID:d,canSelect:c,type:p,primaryGroupID:u}=Object.assign({},r),h=(null===(i=r.children)||void 0===i?void 0:i.length)?filterBranches(r.children,t):[];(h.length||e.toLocaleLowerCase().indexOf(t)>-1||a.toLocaleLowerCase().indexOf(t)>-1)&&n.push({acctCD:e,acctName:a,bAccountID:l,children:h.length?h:void 0,parentBAccountID:d,primaryGroupID:u,type:h.length?p:"branch",canSelect:c,displaySegments:(0,o.markHighlights)(t,`${e} - ${a}`)})}return n}(this.branches,e);const t=this.flatten(this.filtered,0,1===this.filtered.length);this.flatStructure=t}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],h.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],h.prototype,"value",void 0),i.__decorate([(0,n.observable)({changeHandler:"conditionsChanged"}),i.__metadata("design:type",Object)],h.prototype,"branches",void 0),i.__decorate([(0,n.observable)({changeHandler:"conditionsChanged"}),i.__metadata("design:type",Object)],h.prototype,"filter",void 0),i.__decorate([n.observable,i.__metadata("design:type",Object)],h.prototype,"autoExpandIfLessThen",void 0),i.__decorate([(0,n.computedFrom)("config.readOnly","config.enabled"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],h.prototype,"ROMode",null),h=p=i.__decorate([(0,n.customElement)("qp-branch-selector"),n.autoinject,i.__metadata("design:paramtypes",[Element,d.Container,r.ApiClient,c.BusyCounter])],h),t.QpBranchSelector3dCustomElement=h}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/button/qp-button":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("aurelia-event-aggregator"),i(2172),i(7140),i(2594),i("client-controls/controls/dialog/informer/qp-informer-rack")],r=function(e,t,i,n,r,o,a,l,d){"use strict";var c;Object.defineProperty(t,"__esModule",{value:!0}),t.QpButtonCustomElement=void 0;let p=class Messages{};p.OK="OK",p.Cancel="Cancel",p.Abort="Abort",p.Retry="Retry",p.Ignore="Ignore",p.Yes="Yes",p.No="No",p=i.__decorate([l.localizable],p);let u=c=class QpButtonCustomElement{constructor(e,t,i){this.element=e,this.eventAggregator=t,this.screenEventManager=i,this.pushed=!1,this.imageSrc="",this.currentMouseType="normal",this.styleChanged=!1,this.Messages=p,this.menuOpen=!1,this.currentMode="normal",this.isMouseOver=!1,this.element.removeAttribute("style"),this.config={},(0,a.applyDefaultValues)(this.config,c.defaultConfig)}configChanged(e,t){this.config||(this.config={}),(0,a.applyDefaultValues)(this.config,c.defaultConfig),this.config.id||(this.config.id=`${this.element.getAttribute("id")}_btn`||""),this.config.toggleMode&&(this.pushed=this.config.pushed||!1),this.config.images||(this.config.images={}),this.config.imageUrl?this.config.images.normal=this.config.imageUrl:this.config.imageSet&&this.config.imageKey&&(this.config.images.normal=`${this.config.imageSet}@${this.config.imageKey}`),this.config.images.hover||(this.config.images.hover=this.config.images.normal),this.config.images.dropDown||(this.config.images.dropDown=this.config.images.pushed),this.config.images.pushed||(this.config.images.pushed=this.config.images.dropDown),this.config.images.pushed||(this.config.images.pushed=this.config.images.hover),this.config.images.disabled||(this.config.images.disabled=this.config.images.normal),this.imageSrc=this.config.images[this.currentMode],void 0!==this.hidden&&this.hiddenChanged(this.hidden),void 0!==this.enabled&&this.enabledChanged(this.enabled),void 0!==this.caption&&this.captionChanged(this.caption),this.config.dialogResult=(0,o.getDialogResultCode)(this.config.dialogResult)}stateChanged(){var e;if(!this.state)return;const t=this.state,i={id:(null===(e=this.config)||void 0===e?void 0:e.id)||"",text:t.text,action:t.commandName,hidden:!t.visible,enabled:t.enabled,imageSet:t.imageSet,imageKey:t.imageKey,imageUrl:t.imageUrl,toolTip:t.tooltip};this.config?Object.assign(this.config,i):this.config=i,this.configChanged(this.config,this.config)}hiddenChanged(e){this.config&&(this.config.hidden=e)}enabledChanged(e){this.config&&(this.config.enabled=e)}captionChanged(e){this.config&&(this.config.text=e)}dialogResultChanged(e){if(this.config&&(this.config.dialogResult=(0,o.getDialogResultCode)(e),void 0===this.config.text)){const t=o.WebDialogResult[this.config.dialogResult];void 0===t&&(0,d.fatalError)(`The button (id=${this.element.id}) does not set a caption, so a valid dialog-result must be provided (found "${e}")`,this.element),this.config.text=this.Messages[t]}}imageSrcChanged(e,t){if(this.config){if(this.config.enabled&&"disabled"===this.currentMode)this.currentMode="normal";else if(this.config.enabled)switch(this.currentMouseType){case"hover":this.currentMode=this.currentMouseType;break;case"pushed":this.menuOpen?this.currentMode="dropDown":this.currentMode=this.currentMouseType;break;case"normal":this.pushed?this.currentMode="pushed":this.currentMode=this.currentMouseType}else this.currentMode="disabled";this.config.images&&(this.imageSrc=this.config.images[this.currentMode])}else this.imageSrc=void 0}handleState(e){var t;if(null===(t=this.config)||void 0===t?void 0:t.enabled)switch(e.type){case"mouseover":this.currentMouseType="hover";break;case"mouseout":this.menuOpen?this.currentMouseType="pushed":this.currentMouseType="normal";break;case"mousedown":document.activeElement&&document.activeElement.blur(),this.currentMouseType="pushed";break;case"mouseup":this.pushed||this.menuOpen?this.currentMouseType="pushed":this.currentMouseType="hover"}}processMouseOver(e){this.isMouseOver=!0,this.handleState(e)}processMouseOut(e){this.isMouseOver=!1,this.handleState(e)}processPointerDown(e){return this.handleState(e),this.buttonElement.setPointerCapture(e.pointerId),!0}processPointerUp(e){isMouseOrPointerEvent(e)&&e.buttons>0&&!this.isPointInside(e.clientX,e.clientY)||this.handleState(e)}processPointerCancel(e){this.buttonElement.releasePointerCapture(e.pointerId)}detached(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}processClick(e,t=!1){var i,n;if(isMouseOrPointerEvent(e)&&e.buttons>0&&!this.isPointInside(e.clientX,e.clientY))return;const r=new o.ScreenUpdateParams({dialogCallback:{dialogResult:this.config.dialogResult,validateInput:this.config.validateInput}});if(this.screenEventManager.publish(new o.ExecuteCommandEvent(this.config.action,r)),this.config.action)return;if(this.config.popupPanel&&this.screenEventManager.publish(new o.OpenPopupEvent(this.config.popupPanel)),!(null===(i=this.config)||void 0===i?void 0:i.enabled))return!0;this.config.toggleMode&&(this.pushed=!this.pushed),this.config.options&&(this.menuOpen=!this.menuOpen,this.isMouseOver=!1);const a={event:e,value:e instanceof CustomEvent?e.detail.value:this.pushed,isMenuItem:t,config:this.config};this.documentMouseDownSubscription=this.eventAggregator.subscribe(o.MOUSE_DOWN_REACHED_BODY,(()=>{this.menuOpen=!1,this.isMouseOver=!1}));const l=new CustomEvent("buttonpressed",{bubbles:!0,detail:a});if(this.element.dispatchEvent(l),!(null===(n=this.config)||void 0===n?void 0:n.captureClick))return!0;e.stopPropagation()}processMenuClick(e){return this.processClick(e,!0)}isPointInside(e,t){const i=this.buttonElement.getBoundingClientRect();return e>=i.left&&e<=i.right&&t>=i.top&&t<=i.bottom}};u.defaultConfig={enabled:!0,dialogResult:o.WebDialogResult.None,validateInput:!1},i.__decorate([n.bindable,i.__metadata("design:type",Object)],u.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],u.prototype,"hidden",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],u.prototype,"enabled",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],u.prototype,"caption",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],u.prototype,"dialogResult",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],u.prototype,"pushed",void 0),i.__decorate([n.bindable,i.__metadata("design:type",o.PXActionState)],u.prototype,"state",void 0),i.__decorate([(0,n.observable)({changeHandler:"imageSrcChanged"}),i.__metadata("design:type",String)],u.prototype,"currentMouseType",void 0),i.__decorate([(0,n.observable)({changeHandler:"imageSrcChanged"}),i.__metadata("design:type",Boolean)],u.prototype,"styleChanged",void 0),u=c=i.__decorate([(0,n.customElement)("qp-button"),n.autoinject,i.__metadata("design:paramtypes",[Element,r.EventAggregator,o.QpEventManager])],u),t.QpButtonCustomElement=u;const isMouseOrPointerEvent=e=>e instanceof MouseEvent||e instanceof PointerEvent}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/calendar/qp-calendar":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(630),i(8099),i(7140),i(2594),i(6158),i(3161),i(630),i(4609)],r=function(e,t,i,n,r,o,a,l,d,c,p,u){"use strict";var h;Object.defineProperty(t,"__esModule",{value:!0}),t.QpCalendarCustomElement=t.StringToIntValueConverter=void 0;const g=(0,o.getLogger)("qp-calendar");t.StringToIntValueConverter=class StringToIntValueConverter{toView(e){return null==e?"":e.toString()}fromView(e){return parseInt(e)}};const m=7,f=12,v=.25,b=.5;let y=h=class QpCalendarCustomElement{constructor(e,t){this.elem=e,this.container=t,this.timer=void 0,this.down=!1,this.required=!1,this.year=NaN,this.month=NaN,this.monthNames=[],this.shortMonthNames=[],this.shortDayNames=[],this.yearFix=0,this.firstDayOfWeek=0,this.locale="en-US",this.enableMonthChange=!0,this.allowClicks=!1,this._bindMouseUpYearSel=e=>this.onMouseUpYearSel(e),this._bindMouseDownYearSel=e=>this.onMouseDownYearSel(e),this.formats={showDOWHeader:!0,showOtherMonthDays:!0,showWeekNumber:!0,nextPrevFormat:0},(0,u.isLegacyEnv)()?this.dateFormatInfo=(0,p.dateFormatInfo)():this.dateFormatInfo=this.container.get(c.LocalizationsService).getLocalePreferences("datetime"),this.dateFormatInfo?(this.monthNames=this.dateFormatInfo.monthNames.split(","),this.shortMonthNames=this.dateFormatInfo.abbrMonthNames.split(","),this.shortDayNames=this.dateFormatInfo.abbrDayNames.split(","),this.yearFix=this.dateFormatInfo.yearFix?this.dateFormatInfo.yearFix:0):(this.monthNames=h._MN,this.shortMonthNames=h._SMN,this.shortDayNames=h._SDN),this.todayDate=new Date,this.todayString=this.todayDateToString()}get monthPanel(){return function getWeeksInMonth(e,t){const i=[],n=getLastDayInMonth(e).getDate();let r=function getLeadingDays(e,t){const i=[],n=function getBeginningOfMonth(e){return new Date(e.getFullYear(),e.getMonth())}(e),r=(n.getDay()-t+m)%m,o=function getLastDayInPreviousMonth(e){return new Date(e.getFullYear(),e.getMonth(),0)}(n),a=o.getDate();for(let e=a-r+1;e<=a;++e)i.push({dayOfMonth:e,leadingDay:!0,date:new Date(o.getFullYear(),o.getMonth(),e)});return i}(e,t);for(let t=1;t<=n;++t)r.push({dayOfMonth:t,inCurrentMonth:!0,date:new Date(e.getFullYear(),e.getMonth(),t)}),r.length===m&&(i.push(r),r=[]);r=r.concat(function getTrailingDays(e,t){const i=[],n=(t+m-1)%m,r=getLastDayInMonth(e),o=r.getDay(),a=(n-o+m)%m;for(let e=1;e<=a;++e)i.push({dayOfMonth:e,trailingDay:!0,date:new Date(r.getFullYear(),r.getMonth()+1,e)});return i}(e,t)),r.length>0&&i.push(r);i.length<6&&i.push(function getTrailingWeek(e,t){const i=[],n=(t+m-1)%m,r=getLastDayInMonth(e),o=r.getDay(),a=(n-o+m)%m;for(let e=a+1;e<=a+m;++e)i.push({dayOfMonth:e,trailingDay:!0,date:new Date(r.getFullYear(),r.getMonth()+1,e)});return i}(e,t));return i}(new Date(this.year,this.month,1),this.firstDayOfWeek)}selectTheDate(e,t){return this.value=e,this.syncMonthYear(),this.monthPaneEle&&this.monthPaneEle.focus(),this.commitSelection(this.value),e.toJSON=()=>{const t=new Date(e);return t.setUTCFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setUTCHours(0,0,0,0),t.toISOString()},t&&t.stopPropagation(),!1}selectCustomItem(e,t){return this.value=e,this.commitSelection(this.value),t&&t.stopPropagation(),!1}onChangeYearSel(e){this.closeYearSel(),e.blur()}onScrollYearSel(e){if(e.oldScrollTop===e.scrollTop||null==e.oldScrollTop)return;const t=e.clientHeight;e.scrollTop>=.75*t||e.scrollTop<=t*v?e.scrollTop>=.75*t?(e.oldScrollTop=Math.round(.75*t),e.scrollTop=e.oldScrollTop,this.down?this.timer||(this.timer=setInterval((()=>this.scrollDown()),50)):(clearTimeout(this.timer),this.timer=setTimeout((()=>this.scrollBackToCenter(this.yearSelection)),100),this.scrollDown())):e.scrollTop<=t*v&&(e.oldScrollTop=Math.round(t*v),e.scrollTop=e.oldScrollTop,this.down?this.timer||(this.timer=setInterval((()=>this.scrollUp()),50)):(clearTimeout(this.timer),this.timer=setTimeout((()=>this.scrollBackToCenter(this.yearSelection)),100),this.scrollUp())):(clearInterval(this.timer),this.timer=void 0,e.oldScrollTop=e.scrollTop)}scrollUp(){this.year--,this.renderSelectForIE()}scrollDown(){this.year++,this.renderSelectForIE()}renderSelectForIE(){(r.browser.isIE||r.browser.isIE11)&&setTimeout((()=>{var e,t;null===(e=this.yearSelection)||void 0===e||e.add(document.createElement("option"),null),null===(t=this.yearSelection)||void 0===t||t.remove(this.yearSelection.options.length-1)}),0)}scrollBackToCenter(e){if(!e)return;clearInterval(this.timer),this.timer=void 0;const t=e.clientHeight,i=t*b-e.scrollTop?t*b-e.scrollTop<0?-1:1:0;e.oldScrollTop=void 0,e.scrollTop=(t-i*t*b)*b;let n=0;this.timer=setInterval((()=>{if(e.scrollTop=(t-i*(3-n)*t*b/3)*b,n++,n>3)return e.oldScrollTop=e.scrollTop,clearInterval(this.timer),void(this.timer=void 0)}),50)}onMouseOut(e){(r.browser.isIE||r.browser.isIE11)&&this.onMouseUpYearSel(e)}onMouseUpYearSel(e){this.down&&(this.down=!1,this.scrollBackToCenter(this.yearSelection))}onMouseDownYearSel(e){this.down=!0}onKeyDownYearSel(e){switch(e.key){case"PageUp":this.year-=13,e.preventDefault(),e.stopPropagation();break;case"PageDown":this.year+=13,e.preventDefault(),e.stopPropagation();break;case"Up":case"ArrowUp":this.year--,this.renderSelectForIE();break;case"Down":case"ArrowDown":this.year++,this.renderSelectForIE()}}onFocusYearSel(e){e&&(this.yearSelection=e,this.openYearSel(),this.yearSelection.scrollTop=Math.round(e.clientHeight*b),this.yearSelection.oldScrollTop=this.yearSelection.scrollTop,this.yearSelection.addEventListener("mouseup",this._bindMouseUpYearSel),this.yearSelection.addEventListener("mousedown",this._bindMouseDownYearSel))}onBlurYearSel(e){var t,i;null===(t=this.yearSelection)||void 0===t||t.removeEventListener("mouseup",this._bindMouseUpYearSel),null===(i=this.yearSelection)||void 0===i||i.removeEventListener("mousedown",this._bindMouseDownYearSel),this.closeYearSel(),clearInterval(this.timer),e.oldScrollTop=void 0,this.timer=void 0,this.down=!1}closeYearSel(){this.yearSelection.size=1,this.yearSelection.classList.remove("opened"),this.yearSelection.classList.add("closed")}openYearSel(){this.yearSelection.size=13,this.yearSelection.classList.remove("closed"),this.yearSelection.classList.add("opened")}syncMonthYear(){this.value instanceof Date?(this.month=this.value.getMonth(),this.year=this.value.getFullYear()):(this.month=this.todayDate.getMonth(),this.year=this.todayDate.getFullYear())}commitSelection(e){const t=new CustomEvent("valuechanged",{bubbles:!0,detail:{value:this.value}});this.elem.dispatchEvent(t)}ignoreClicks(e){return e.stopImmediatePropagation(),!0}monthChanged(e){this.renderHintsToPrevNextMonths(e)}attached(){g.info("attached() of ",this.config&&this.config.id),this.syncMonthYear(),this.renderHintsToPrevNextMonths(this.month),this.monthPaneEle&&this.monthPaneEle.focus()}configChanged(e,t){g.info("configChanged() of ",e,t),this.config||(this.config={}),this.config.todayDate&&(this.todayDate=this.config.todayDate),this.config.todayString&&(this.todayString=this.config.todayString),null!=this.config.firstDayOfWeek&&(this.firstDayOfWeek=this.config.firstDayOfWeek),this.syncMonthYear()}keyDown(e){g.info(`${e.key} pressed`);let t=!0;switch(e.key){case"Down":case"ArrowDown":this.advanceDate(0,0,m);break;case"Up":case"ArrowUp":this.advanceDate(0,0,-m);break;case"Right":case"ArrowRight":this.advanceDate(0,0,1);break;case"Left":case"ArrowLeft":this.advanceDate(0,0,-1);break;case"PageUp":this.advanceDate(0,-1,0);break;case"PageDown":this.advanceDate(0,1,0);break;case"Home":this.advanceDate(-1,0,0);break;case"End":this.advanceDate(1,0,0);break;case"Space":this.value=this.todayDate,this.syncMonthYear();break;case"Enter":this.commitSelection(this.value);break;case"Esc":case"Escape":this.commitSelection(void 0);break;default:t=!1}return!t||(e.stopPropagation(),!1)}advanceDate(e,t,i){this.value instanceof Date&&(this.value=new Date(this.value.getFullYear()+e,this.value.getMonth()+t,this.value.getDate()+i),this.syncMonthYear())}todayDateToString(){let e;return e=this.dateFormatInfo&&this.dateFormatInfo.shortDate?(0,a.formatDate)(this.todayDate,this.dateFormatInfo.shortDate,this.dateFormatInfo):Intl.DateTimeFormat(this.locale).format(this.todayDate),n.PLATFORM.global.px?e:(0,l.Format)(h.TodayIs,{date:e})}renderHintsToPrevNextMonths(e){const t=(f+e-1)%f,i=(f+e+1)%f;this.prevMonthEle&&n.PLATFORM.global.px&&n.PLATFORM.global.px.setTitle(this.prevMonthEle,this.monthNames[t]),this.nextMonthEle&&n.PLATFORM.global.px&&n.PLATFORM.global.px.setTitle(this.nextMonthEle,this.monthNames[i])}handleMonthChange(e,t){return this.month+=e,this.month<0?(this.month=11,this.year--):this.month>=f&&(this.month=0,this.year++),this.ignoreClicks(t),!1}isTheSame(e,t){return e instanceof Date&&t instanceof Date&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}isWeekend(e){const t=e.getDay();return 0===t||t===m-1}getWeekNumber(e){if(void 0===e||e.length<m)return 0;const t=e[4].date;if(void 0===t)return 0;const i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=i.getDay();i.setDate(i.getDate()-(n+m-1)%m+4-1);const r=i.valueOf();return i.setMonth(0),i.setDate(4),Math.round((r-i.valueOf())/(864e5*m))+1}};function getLastDayInMonth(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}y.TodayIs="Today is {date}",y._nextPrevShortMonth=1,y._nextPrevFullMonth=2,y._daysInWeek=7,y._MN=["January","February","March","April","May","June","July","August","September","October","November","December"],y._SMN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y._SDN=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],y._selectMode=0,y._addSelectionMode=1,y._rangeSelectionMode=2,i.__decorate([(0,n.computedFrom)("year","month"),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[])],y.prototype,"monthPanel",null),i.__decorate([n.bindable,i.__metadata("design:type",Object)],y.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],y.prototype,"value",void 0),i.__decorate([n.observable,i.__metadata("design:type",Number)],y.prototype,"month",void 0),i.__decorate([l.localizable,i.__metadata("design:type",String)],y,"TodayIs",void 0),y=h=i.__decorate([n.autoinject,(0,n.customElement)("qp-calendar"),i.__metadata("design:paramtypes",[Element,d.Container])],y),t.QpCalendarCustomElement=y}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/caption/qp-caption":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2172),i(2594)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpCaptionCustomElement=void 0;let a=class QpCaptionCustomElement{constructor(){this.hiddenByPrefs=!1,this.viewMode=r.ViewMode.View,this.msg=o.Messages}};a.defaultConfig={enabled:!0,dialogResult:0},i.__decorate([n.bindable,i.__metadata("design:type",String)],a.prototype,"caption",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],a.prototype,"hideCaption",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],a.prototype,"hiddenByPrefs",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],a.prototype,"viewMode",void 0),a=i.__decorate([(0,n.customElement)("qp-caption"),n.containerless],a),t.QpCaptionCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/check-box/qp-check-box":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099),i(829),i(6158),i(7140)],r=function(e,t,i,n,r,o,a,l){"use strict";var d;Object.defineProperty(t,"__esModule",{value:!0}),t.QpCheckBoxCustomElement=t.IntToBoolValueConverter=void 0;(0,r.getLogger)("check-box");t.IntToBoolValueConverter=class IntToBoolValueConverter{toView(e,t){return!!e}fromView(e,t){return e}};let c=d=class QpCheckBoxCustomElement extends o.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,this.addConfigSetter("displayName","label")}configChanged(e,t){this.config||(this.config={}),(0,l.applyDefaultValues)(this.config,d.defaultConfig)}toggleValue(e){return!(!e.altKey||!e.ctrlKey)||(e.target===this.element||(this.value=!this.value,e.stopPropagation(),!1))}};c.defaultConfig={enabled:!0,required:!1,trueValue:"true",falseValue:"false"},i.__decorate([n.bindable,i.__metadata("design:type",Object)],c.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],c.prototype,"value",void 0),c=d=i.__decorate([(0,n.customElement)("qp-check-box"),n.autoinject,i.__metadata("design:paramtypes",[Element,a.Container])],c),t.QpCheckBoxCustomElement=c}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/color-picker/qp-color-palette":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework")],r=function(e,t,i,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.QpColorPaletteCustomElement=void 0,function(e){let t;class RgbColorSample{constructor(e,i){this.wellknownName=i,"string"==typeof e?(this.color=e,this.rgb=function parseColor(e){var i,n;const r=[e=>{var t,i;const n=null!==(i=(null!==(t=e.match(/^#([0-9a-f]{6})$/i))&&void 0!==t?t:[])[1])&&void 0!==i?i:"";if(n)return{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16)}},e=>{const t=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(t)return{r:parseInt(t[1]),g:parseInt(t[2]),b:parseInt(t[3])}}],convert=e=>{for(const t of r){const i=t(e);if(i)return i}};return null!==(n=null!==(i=convert(e))&&void 0!==i?i:(e=>(t||(t=document.createElement("div"),t.style.display="none",document.body.appendChild(t)),t.style.color=e,convert(window.getComputedStyle(t).color)))(e))&&void 0!==n?n:{r:0,g:0,b:0}}(e)):(this.rgb=e,this.color=function hexColor(e){const{r:t,g:i,b:n}=e;return"#"+(("0"+Math.round(t).toString(16)).slice(-2)+("0"+Math.round(i).toString(16)).slice(-2)+("0"+Math.round(n).toString(16)).slice(-2)).toUpperCase()}(e))}get textColor(){return function getTextColor(e){const contrastRatio=(e,t)=>(Math.max(e,t)+.05)/(Math.min(e,t)+.05),{r:t,g:i,b:n}=e,r=((e,t,i)=>{const n=[e,t,i].map((e=>e/255)),[r,o,a]=n.map((e=>e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)));return.2126*r+.7152*o+.0722*a})(t,i,n),o=contrastRatio(r,0);return contrastRatio(r,1)<o?"black":"white"}(this.rgb)}get description(){return`${this.wellknownName||this.color}, ${function rgbColor(e){const{r:t,g:i,b:n}=e;return`rgb(${Math.round(t)}, ${Math.round(i)}, ${Math.round(n)})`}(this.rgb)}, ${function hslColor(e){const{h:t,s:i,l:n}=e;return`hsl(${Math.round(t)}, ${Math.round(i)}%, ${Math.round(n)}%)`}(function rgbToHsl(e){let{r:t,g:i,b:n}=e;t/=255,i/=255,n/=255;const r=Math.max(t,i,n),o=Math.min(t,i,n),a=r-o;let l=0,d=0,c=(r+o)/2;return 0===a?l=0:r===t?l=(i-n)/a%6:r===i?l=(n-t)/a+2:r===n&&(l=(t-i)/a+4),l=Math.round(60*l),l<0&&(l+=360),d=0===a?0:a/(1-Math.abs(2*c-1)),d=Math.round(100*d),c=Math.round(100*c),{h:l,s:d,l:c}}(this.rgb))}`}}class HslColorSample extends RgbColorSample{constructor(e){super(function hslToRgb(e){let t,i,n,{h:r,s:o,l:a}=e;if(r/=360,o/=100,a/=100,0===o)t=i=n=a;else{const hue2rgb=(e,t,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e),e=a<.5?a*(1+o):a+o-a*o,l=2*a-e;t=hue2rgb(l,e,r+1/3),i=hue2rgb(l,e,r),n=hue2rgb(l,e,r-1/3)}return{r:Math.round(255*t),g:Math.round(255*i),b:Math.round(255*n)}}(e))}}e.HslColorSample=HslColorSample;class HslColorRow{constructor(e,t){this.samples=[];for(let i=0,n=340/(t-1);i<t;i++)this.samples.push(new HslColorSample({h:10+i*n,s:100-e/5,l:e}))}}function lightnessLevel(e,t,i=(e=>e)){return 100*i(e)/i(t-1)}e.HslColorRow=HslColorRow;e.HslPalette=class HslPalette{constructor(e){this.rows=[];for(let t=e.rowCount-1;t>=0;t--)this.rows.push(new HslColorRow(lightnessLevel(t+2,e.rowCount+2+2),e.columnCount))}};e.GreyScalePalette=class GreyScalePalette{constructor(e){this.rows=[];const t=[];for(let i=0;i<e.columnCount;i++)t.push(new HslColorSample({h:0,s:0,l:lightnessLevel(i,e.columnCount,(e=>Math.log2(e+1)))}));this.rows.push({samples:t})}};class GenericPalette{constructor(e){this.rows=[];const t=[],i=GenericPalette.getPattern();for(let n=0;n<e.columnCount;n++)t.push(i[n%i.length]);this.rows.push({samples:t})}}GenericPalette.getPattern=()=>{const e="Dark red,Red,Dark orange,Yellow,Lime,Cyan,Cornflower blue,Blue,Dark violet,Fuchsia".split(",").map((e=>e.trim())).filter((e=>!!e)).map((e=>new RgbColorSample(e.toLowerCase().replace(/\s/g,""),e)));return GenericPalette.getPattern=()=>e,e},e.GenericPalette=GenericPalette;e.UserPalette=class UserPalette{constructor(e){this.rows=[],this.adjustable=!0,this.maxSize=0,this.maxSize=e.columnCount,this.rows.push({samples:[]});for(let t=0;t<Math.min(this.maxSize-1,e.userColors.length);t++)this.add(e.userColors[t])}add(e){if(!e)return;const t=this.rows[0].samples;t.find((t=>t.color===e))||(t.push(new RgbColorSample(e)),t.length===this.maxSize&&t.splice(0,1))}}}(r||(r={}));let o=class QpColorPaletteCustomElement{constructor(e){this.element=e,this.rows=6,this.columns=10,this.allowNull=!1,this.userColors=[],this.allowAdjust=!1,this.palettes=[]}createPalette(){var e;const t={rowCount:this.rows,columnCount:this.columns,userColors:null!==(e=this.userColors)&&void 0!==e?e:[]};this.palettes.push(...[r.GreyScalePalette,r.GenericPalette,r.HslPalette,r.UserPalette].map((e=>new e(t))))}bind(){this.createPalette()}rowsChanged(){this.createPalette()}columnsChanged(){this.createPalette()}selectColor(e){this.color=e,this.element.dispatchEvent(new CustomEvent("colorselected",{bubbles:!0,detail:{color:e}}))}pickCustomColor(e,t){if(!this.colorElement){this.colorElement=document.createElement("input"),this.colorElement.setAttribute("type","color");const e=this.colorElement.style;e.position="absolute",e.width="1px",e.height="0px",e.opacity="0",this.colorElement.value="#000000",this.colorElement.addEventListener("change",(()=>this.addCustomColor())),this.element.appendChild(this.colorElement)}this.paletteAdjustable=e,this.colorElement.focus(),this.colorElement.click()}addCustomColor(){var e;if(!this.colorElement||!this.paletteAdjustable)return;const t=this.colorElement.value;this.paletteAdjustable.add(t),null===(e=this.userColors)||void 0===e||e.push(t),this.element.dispatchEvent(new CustomEvent("newcolor",{bubbles:!0,detail:{color:t}}))}};i.__decorate([n.bindable,i.__metadata("design:type",Number)],o.prototype,"rows",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],o.prototype,"columns",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],o.prototype,"color",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],o.prototype,"allowNull",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Array)],o.prototype,"userColors",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],o.prototype,"allowAdjust",void 0),o=i.__decorate([n.autoinject,(0,n.customElement)("qp-color-palette"),i.__metadata("design:paramtypes",[Element])],o),t.QpColorPaletteCustomElement=o}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/color-picker/qp-color-picker":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework")],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpColorPickerCustomElement=t.ColorFormatValueConverter=void 0;let colorInputSupported=()=>{let e=!0;const t=document.createElement("input");return t.setAttribute("type","color"),t.value="a","a"===t.value&&(e=!1),colorInputSupported=()=>e,e};const r=/^#[a-f\d]{6}$/i,o="#000000";t.ColorFormatValueConverter=class ColorFormatValueConverter{toView(e){return e&&r.test(e)?e:o}fromView(e){return e&&r.test(e)?e:o}};let a=class QpColorPickerCustomElement{constructor(){this.supportsColor=colorInputSupported(),this.value=o}validateValue(e){r.test(e.target.value)||(e.target.value=o)}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],a.prototype,"value",void 0),a=i.__decorate([(0,n.customElement)("qp-color-picker")],a),t.QpColorPickerCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/color-picker/qp-menu-color-picker":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework")],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpMenuColorPickerCustomElement=void 0;let r=class QpMenuColorPickerCustomElement{constructor(e){this.element=e,this.onceOpened=!1}bind(){}attached(){this.refresh()}configChanged(){this.refresh()}refresh(){this.config||(this.config={})}stopPropagation(e){e.stopPropagation()}processButtonClick(e){var t;this.selectColor(null===(t=this.config)||void 0===t?void 0:t.selectedColor)}colorSelected(e){var t;this.selectColor(null===(t=e.detail)||void 0===t?void 0:t.color),e.stopPropagation()}newColorAdded(e){var t,i;const n=null===(t=e.detail)||void 0===t?void 0:t.color;null===(i=this.config.userColors)||void 0===i||i.push(n),e.stopPropagation(),this.element.dispatchEvent(new CustomEvent("newcolor",{bubbles:!0,detail:{color:n}}))}selectColor(e){this.config.selectedColor=e,this.dropDown.hideDropDown(),this.element.dispatchEvent(new CustomEvent("colorselected",{bubbles:!0,detail:{color:e}}))}dropDownOpened(e){var t;(null===(t=this.config)||void 0===t?void 0:t.disabled)?e.detail.prevent=!0:this.onceOpened=!0}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],r.prototype,"config",void 0),r=i.__decorate([n.autoinject,(0,n.customElement)("qp-menu-color-picker"),i.__metadata("design:paramtypes",[Element])],r),t.QpMenuColorPickerCustomElement=r}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/date-editor/qp-datetime-edit-utc":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7140)],r=function(e,t,i,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.QpDatetimeEditUtcCustomElement=void 0;let a=o=class QpDatetimeEditUtcCustomElement{constructor(){this.conversionInProgress=!1}configChanged(e){this.config||(this.config={}),(0,r.applyDefaultValues)(this.config,o.defaultConfig)}valueChanged(e){if(!this.conversionInProgress){this.conversionInProgress=!0;try{this.convertedDate=new Date(e)}catch(e){this.convertedDate=new Date}this.conversionInProgress=!1}}convertedDateChanged(e){if(!this.conversionInProgress){this.conversionInProgress=!0;try{e||(this.value=""),e instanceof Date&&(this.value=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString())}catch(e){this.value=""}this.conversionInProgress=!1}}};a.defaultConfig={preserveTimezone:!0},i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"value",void 0),i.__decorate([(0,n.observable)({changeHandler:"convertedDateChanged"}),i.__metadata("design:type",Date)],a.prototype,"convertedDate",void 0),a=o=i.__decorate([(0,n.customElement)("qp-datetime-edit-utc")],a),t.QpDatetimeEditUtcCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/date-editor/qp-datetime-edit":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(630),i(829),i(6158),i(8099),i(7140),i(3161),i(630),i(4609)],r=function(e,t,i,n,r,o,a,l,d,c,p,u){"use strict";var h;Object.defineProperty(t,"__esModule",{value:!0}),t.TextRange=t.QpDatetimeEditCustomElement=t.MAX_DAYS_IN_MONTH=t.MONTHS_IN_YEAR=t.MAX_YEAR=t.MIN_YEAR=t.DateUTCValueConverter=void 0;const g=(0,l.getLogger)("qp-datetime-edit");t.DateUTCValueConverter=class DateUTCValueConverter{toView(e,t){return e?t&&"string"==typeof e&&isNaN(new Date(e).getTime())||e instanceof Date||"Date"===e.constructor.name?e:new Date(e):null}fromView(e){return e?e instanceof Date?new Date(e.getTime()-6e4*e.getTimezoneOffset()):e:null}};t.MIN_YEAR=1900,t.MAX_YEAR=9999,t.MONTHS_IN_YEAR=12,t.MAX_DAYS_IN_MONTH=31;const m="0".charCodeAt(0),f="9".charCodeAt(0),isNumericChar=e=>/\d/.test(e),between=(e,t,i)=>e<=t&&i>=t;let v=h=class QpDatetimeEditCustomElement extends o.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,this.value=null,this.oldValue=null,this.focused=!1,this.fullDOW=!1,this.fullMonth=!1,this.selectOnFocus=!1,this.allowStrings=!1,this.roundUpTime=!1,this.required=!1,this.hideEnterKey=!1,this.promptChar="_",this.emptyChar=" ",this.valueMode=0,this.validateExp="",this.asciiCharSet=!1,this.dropDownOpen=!1,this.inlineEditor=!1,this.outerClickSubscription=void 0,this.allowRepaintText=!0,this.hasFocus=!1,this.lockMouseUp=!1,this.mouseClicked=!1,this.trackSelection=!0,this.trackPosition=!1,this.selStart=0,this.selEnd=0,this.field0ID=new Array,this.field1ID=new Array,this.mask=void 0,this.maskExclude=void 0,this.maskInclude=void 0,this.emptyText=void 0,this.AM="AM",this.PM="PM",this.lengthAmPm=this.AM.length>this.PM.length?this.AM.length:this.PM.length,this.yearFix=0,this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December",""],this.dowNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.validateEdit=!0,this.allowMouseDownFlag=!1,this.value=null,this.addConfigSetter("inputMask",(e=>this.config.editMask=this.convertMask(e,!0))),this.addConfigSetter("displayMask",(e=>this.config.displayMask=this.convertMask(e))),this.addConfigSetter("minValue",(e=>new Date(e))),this.addConfigSetter("maxValue",(e=>new Date(e))),(0,u.isLegacyEnv)()?this.dateFormatInfo=(0,p.dateFormatInfo)():this.dateFormatInfo=t.get(c.LocalizationsService).getLocalePreferences("datetime")}static createDate(e,t,i){const n=new Date(e,t,i);return n.setFullYear(e,t,i),n}static _trimEnd(e){return e.replace(/\s+$/,"")}static _filter(e,t,i,n,r,o){if(i>=t.length)return n;const a=t.charCodeAt(i);let l=t.charAt(i);if(a<21||r&&-1!==r.indexOf(l))return n;if(o&&-1!==o.indexOf(l))return l;switch(Math.floor((e-1)/6)){case 0:break;case 1:if(a>=m&&a<=f)return l;case 2:if(a>255||l.toUpperCase()!==l.toLowerCase())break;return n;case 3:return a>=m&&a<=f?l:n}return 0===(e=Math.floor((e-1)/2)%3)?l:(l=2===e?l.toLowerCase():l.toUpperCase(),r&&-1!==r.indexOf(l)?n:l)}static format(e,t,i,n){null==n&&(n=0),null==t&&(t="");let r,o="",a=0;const l=h.split(e),d=l[0],c=l[1],p=l[2];for(let e=0;e<d.length;e++)if(r=d.charCodeAt(e),r<21){let e;a<t.length&&(e=h._filter(r,t,a,"",c,p),a++),o+=e||i}else o+=d.charAt(e),n>0&&a++;return o}static encode(e){let t,i,n=0,r="";const o=h.split(e),a=o[0],l=o[1],d=o[2];for(let e=0;e<a.length;e++)if(i=a.charAt(e),t=h._flag(i,n),0!==t){if(t<0){n=n===-t?0:-t;continue}r+=String.fromCharCode(t)}else"\\"===i&&e+1<a.length?(i=a.charAt(e+1),0!==h._flag(i,0)&&(r+=i,e++)):r+=i;return l&&(r+=`|${l}`),d&&(l||(r+="|"),r+=`|${d}`),r}static split(e){const t=e.split("|");return 1===t.length&&(t[1]=""),2===t.length&&(t[2]=""),t}static _flag(e,t){let i=0;switch(e){case">":return-1;case"<":return-2;case"&":i=1;break;case"C":i=2;break;case"A":i=7;break;case"a":i=8;break;case"L":i=13;break;case"?":i=14;break;case"#":case"0":return 19;case"9":return 20;default:return 0}return i+2*t}get isEditLink(){return!1}get ROMode(){return this.config&&(this.config.readOnly||!this.config.enabled)}set textValue(e){this._textValue=e,this.elemText&&(this.elemText.value=e)}get textValue(){return this._textValue||""}detached(){super.detached(),this._disposeMaskObservers()}acceptDateFromCalendar(e){g.info("acceptDateFromCalendar");const t=e.detail&&e.detail.value;t&&this.setValue(t),this.hideDropDown(),e.preventDefault(),e.stopPropagation(),this.fireEvent("valuechanged"),setTimeout((()=>{this.elemText.focus()}),0)}configChanged(e){this.config||(this.config={}),(0,d.applyDefaultValues)(this.config,h.defaultConfig),this._disposeMaskObservers(),this._bindMaskObservers(),this.AM=this.dateFormatInfo.am||"AM",this.PM=this.dateFormatInfo.pm||"PM",this.lengthAmPm=Math.max(this.AM.length,this.PM.length),this.yearFix=this.dateFormatInfo.yearFix||0,this.config&&(this.monthNames=this.config.fullMonth?this.dateFormatInfo.monthNames.split(","):this.dateFormatInfo.abbrMonthNames.split(","),this.dowNames=this.config.fullDOW?this.dateFormatInfo.dayNames.split(","):this.dateFormatInfo.abbrDayNames.split(","),this._initializeMask(),this.tq.queueMicroTask((()=>{this.config.value&&(this.value=new Date(this.config.value))})))}attached(){super.attached(),this.trange=new TextRange(this.elemText),this.config&&this._bindMaskObservers()}bind(){this.editorDiv.focus=()=>{this.elemText.focus()},this.configChanged(this.config),this.tq.queueTask((()=>{this.valueChanged(this.value,null)}))}getValue(e=!1){if(null===this.value||e){const e=this._getTypedValue(this.textValue,!0);(this.allowStrings||null==e||e instanceof Date&&!isNaN(e.getTime())&&!(0,d.equals)(this.value,e))&&(this.value=e)}return this.value}getValueOrToday(){let e=this.getValue(!0);return null==e&&(e=new Date),e}setValue(e){const t=this._parseInvariant(e);(this.allowStrings||t instanceof Date&&!isNaN(t.getTime())&&(0,d.equals)(this._checkLimits(t),t))&&(this.value=t,this.oldValue=t,this.hasFocus?(this.textValue=this.getEditText(this.value),(0,d.isVisible)(this.elemText)&&this.select(this.selStart)):this.textValue=this.getDisplayText(this.value))}valueChanged(e,t){this.config&&(this.config.allowCustomItems&&null!=e&&this._setAllowStrings(e),this.hasFocus?(this.textValue=this.getEditText(this.value),(0,d.isVisible)(this.elemText)&&this.trange&&this.trange.refreshSelection()):this.textValue=null==e?this.getDisplayText(null):this.getDisplayText(this.value))}updateValue(e){const t=void 0===e?this.getValue(!0):e;if(!(0,d.equals)(t,this.oldValue)){if(this.fireEvent("valuechanging"))return this.setValue(this.oldValue),!1;new Object,this.oldValue;return void 0!==e?this.setValue(t):this.repaintText(t),this.oldValue=t,this.fireEvent("valuechanged"),!0}}getReadOnly(){return this.config.readOnly}getEnabled(){return null==this.elemText.getAttribute||!this.elemText.getAttribute("enabled")}getDisabled(){return!this.getEnabled()||this.getReadOnly()}doTrackSelection(){("INPUT"===this.elemText.tagName&&this.trackSelection||this.trackPosition)&&this.getSelectedText()}selectContent(e=!0){if((0,d.isVisible)(this.elemText))if((this.selectOnFocus||this.getDisabled())&&this.elemText.select)this.select(),this.lockMouseUp=!0,this.mouseClicked&&r.browser.isEdge&&setTimeout((()=>{this.select()}),0);else if("INPUT"===this.elemText.tagName||this.trackPosition){const t=e?this.selStart:0,i=e?this.selEnd:0;r.browser.isIE?this.select(t,i):setTimeout((()=>{this.select(t,i)}),0)}}processFocus(e){if(this.hasFocus=!0,this.oldValue=this.getValue(),!this.getDisabled()&&this.allowRepaintText&&!this.isEditLink){const e=this.getEditText(this.getValue());this.textValue!==e&&(this.textValue=e)}this.selectContent(this.trackPosition),this.getSelectedText(),this.allowRepaintText&&this.fireEvent("activated")}processUpdate(e){this.allowRepaintText&&!this.isEditLink&&this.updateValue()}processBlur(e){if(this.hasFocus=!1,this.onBlur(e),this.allowRepaintText&&!this.isEditLink){this.updateValue();const e=this.getDisplayText(this.getValue());e!==this.textValue&&(this.textValue=e)}}onBlur(e){if(this.allowStrings||this.getDisabled()||!this.focused)return;const t=this.textValue,i=this._fields1(t,!0),n=this.separate(t);if(this.emptyText!==t&&i.some((function(e){return!e}))){const e=new Date;this.roundUpTime?(e.setHours(23),e.setMinutes(59),e.setSeconds(59),e.setMilliseconds(999)):(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0));for(let t=0;t<i.length;t++){const r=i[t];this._isDatePart(t)&&!r?i[t]=this._fieldValue(this.field0ID[t],e,!0,"0"):!between(10,this.field0ID[t],13)||r||this.isZeroTime(i,n,t)?!between(16,this.field0ID[t],17)||r||this.isZeroTime(i,n,t)||(i[t]=e.getMinutes()):i[t]=e.getHours()}const contains=function(e,t,i){return e.some((function(e){return e>=t&&e<=i}))},t=this.getMergedDateTime(i.slice());void 0!==t&&(contains(this.field0ID,10,13)||t.setHours(e.getHours()),contains(this.field0ID,16,17)||t.setMinutes(e.getMinutes()),contains(this.field0ID,18,19)||t.setSeconds(e.getSeconds()),contains(this.field0ID,22,28)||t.setMilliseconds(e.getMilliseconds()),this.textValue=this.getEditText(t))}}processKeyDown(e){switch(this.doTrackSelection(),e.key){case"Backspace":this.getReadOnly()&&(e.preventDefault(),e.stopPropagation());break;case"Esc":case"Escape":e.preventDefault();break;case"Enter":e.shiftKey||(this.hideEnterKey&&(e.preventDefault(),e.stopPropagation(),this.allowRepaintText&&this.updateValue()),this.fireEvent("valuechanged"))}if(!this.onKeyDown(e))return e.preventDefault(),e.stopPropagation(),!1;switch(e.key){case"Backspace":case"Delete":case"Del":if(this.getDisabled()){e.preventDefault(),e.stopPropagation();break}(r.browser.isAnyIE||r.browser.isSafari||r.browser.isFirefoxFrom65)&&(this.onKeyPress(e)||(e.preventDefault(),e.stopPropagation()))}return"KeyS"!==e.code&&83!==e.keyCode||!e.ctrlKey||(this.processBlur(),this.processFocus()),!0}onButtonClick(e){this.dropDownOpen?(this.hideDropDown(),this.focus()):this.showDropDown()}onKeyDown(e){const t=!(e.ctrlKey||e.metaKey||e.altKey);switch(e.key){case"Down":case"ArrowDown":case"-":case"F3":if(!this.config.timeMode&&("F3"===e.key||e.altKey))return this.onButtonClick(),!1;if("F3"!==e.key&&!e.shiftKey&&!this.inlineEditor&&!this.allowStrings)return this.incrementActivePart(-1),!1;break;case"Up":case"ArrowUp":case"+":if(t&&!this.inlineEditor&&!this.allowStrings)return this.incrementActivePart(1),!1;break;case"Right":case"ArrowRight":if(t&&!e.shiftKey&&!this.allowStrings)return this.selectActivePart(this.getActivePartIndex()+1),!1;break;case"Left":case"ArrowLeft":if(t&&!e.shiftKey&&!this.allowStrings)return this.selectActivePart(this.getActivePartIndex()-1),!1;break;case".":case"/":if(t&&!this.allowStrings)return e.shiftKey?this.selectActivePart(this.getActivePartIndex()-1):this.selectActivePart(this.getActivePartIndex()+1),!1;break;case"A":case"a":if(e.ctrlKey||e.metaKey)return this.select(),!1}return!0}processKeyPress(e){return this.doTrackSelection(),this.getDisabled()&&!e.ctrlKey?(e.preventDefault(),e.stopPropagation(),!1):this.onKeyPress(e)}onKeyPress(e){if(!this.mask||!this.validateEdit)return!0;let t=this.textValue;const i=t.length;let n=this.selStart,r=this.selEnd;this.emptyChar.charCodeAt(0);if(n!==r){for(;--r>=n;){let e=this.promptChar;this.mask.charCodeAt(r)>=21&&(e=this.mask.charAt(r)),t=t.substring(0,r)+e+t.substring(r+1)}r++}else switch(e.key){case"Del":case"Delete":case"Space":for(;r<i&&this.mask.charCodeAt(r)>=21;)r++;if(r>=i)return!1;t=t.substring(0,r)+this.promptChar+t.substring(r+1),r++;break;case"Backspace":for(;r>0&&this.mask.charCodeAt(r-1)>=21;)r--;if(r--<1)return!1;t=t.substring(0,r)+this.promptChar+t.substring(r+1)}if(1===e.key.length&&" "!==e.key&&r<i){const i=e.key.toUpperCase(),o=[t];if(n=this.insertCharAt(o,i,r),t=o[0],n<0)return!1;r=this.locatePromptPos(n)}return this.textValue=t,this.select(r),this.fireEvent("usertyping"),!1}processBeforePaste(e){e.returnValue=!1}processSelectStart(e){this.selectOnFocus||(e.preventDefault(),e.stopPropagation())}processInput(e){this.allowStrings&&(this.textValue=this.elemText.value),(0,d.isVisible)(this.elemText)&&this.fireEvent("usertyping")}processPaste(e){if(this.getDisabled())return e.preventDefault(),e.stopPropagation(),!1;const t=e.clipboardData;if(null!=t){const i=t.getData("Text"),n=this.text,r=this.processPasteValue(i);!i||r&&n===this.text||this.fireEvent("usertyping"),r&&(e.preventDefault(),e.stopPropagation())}else this.fireEvent("usertyping");return!0}initInlineEditor(e){this.config=e.config,this._initializeMask()}_bindMaskObservers(){this.editMaskObserver=this.bindingEngine.propertyObserver(this.config,"editMask").subscribe((()=>this.initEditMask())),this.displayMaskObserver=this.bindingEngine.propertyObserver(this.config,"displayMask").subscribe((()=>this.initDisplayMask()))}_disposeMaskObservers(){var e,t;null===(e=this.editMaskObserver)||void 0===e||e.dispose(),null===(t=this.displayMaskObserver)||void 0===t||t.dispose()}repaintText(e){const t=this.hasFocus?this.getEditText(e):this.getDisplayText(e);t!==this.text&&(this.text=t)}getDisplayText(e){return this.config.allowNull&&null==e?this.config.nullText:this._getFormattedText(e,!1)}getEditText(e){return this._getFormattedText(e,!0)}getVisible(){return this.elemText&&"none"!==this.elemText.style.display}select(e,t){this.getVisible()&&this.trange&&(this.trange.select(e,t),this.selStart=this.trange.selStart,this.selEnd=this.trange.selEnd)}getSelectedText(){if(!this.trange)return"";const e=this.trange.getSelectedText();return this.selStart=this.trange.selStart,this.selEnd=this.trange.selEnd,e}fireEvent(e,t){var i,n;const r={};switch(e){case"keydown":case"keypress":case"keyup":const e=t;e&&e.key&&(r.key=e.key);break;case"valuechanging":r.oldValue=this.oldValue,r.value=this.getValue();break;case"valuechanged":r.value=this.getValue();break;case"usertyping":r.viewName=null===(i=this.state)||void 0===i?void 0:i.viewModeName,r.fieldName=null===(n=this.state)||void 0===n?void 0:n.name}const o=new CustomEvent(e,{bubbles:!0,detail:r});return this.elemText.dispatchEvent(o),!0===o.detail.cancel}_getFormattedText(e,t){if(this.allowStrings&&!(e instanceof Date))return null!=e?e.toString():"";if(null==e||""===e||"string"==typeof e||isNaN(e.valueOf()))return this.getDisplayValue("",1);let i="";const n=t?this.mask||"":this.mask1,r=t?this.field0ID:this.field1ID;let o,a,l=-1,d=0;for(;++l<n.length;)if(o=n.charAt(l),a=n.charCodeAt(l),a<21){if(i+=this._fieldValue(r[d++],e,t,o),t)for(;l+1<n.length&&n.charCodeAt(l+1)===a;)l++}else i+=o;return t?this.getDisplayValue(i,1):i}focus(){try{this.elemText.focus()}catch(e){}}validateValue(e){if(this.isNullValue(e))e=this.config.allowNull?null:"";else if(this.validateExp){const t=new RegExp(this.validateExp).exec(e||"");e=null!=t?t[0]:this.config.allowNull?null:""}if(this.asciiCharSet&&e){const t=e;e="";for(let i=0;i<t.length;i++)t.charCodeAt(i)<127&&(e+=t.charAt(i))}return e}initEditMask(){this.mask0=this._dateMask(this.config.editMask,!1),this._initEmptyText(),this.setInputMask(this.mask0)}initDisplayMask(){this.mask1=this._dateMask(this.config.displayMask,!0)}_initializeMask(){this.initEditMask(),this.initDisplayMask()}_initEmptyText(){this.emptyText=this.mask0.replace(/[#LC]/g,this.promptChar)}_setAllowStrings(e){this.allowStrings=null==e||"Date"!==e.constructor.name,this.validateEdit=!this.allowStrings}_dateMask(e,t){let i,n;t?(null==this.field1ID&&(this.field1ID=new Array),this.field1ID.length=0):(null==this.field0ID&&(this.field0ID=new Array),this.field0ID.length=0),null==e&&(e="");let r=0,o=-1,a="";for(n=0;n<e.length;n++)if(i=e.charCodeAt(n),i<m||i>f){const r=e.charAt(n);if(t&&"\\"===r&&n+1<e.length){if(i=i=e.charAt(++n),"\\"===i)continue;"0"!==i&&"9"!==i||(a+=r),a+=i}else a+=r}else if(o=10*(i-m)+e.charCodeAt(++n)-m,t)this.field1ID[r++]=o,a+="";else switch(this.field0ID[r++]=o,o){case 14:a+="L";break;case 15:a+=Array(this.lengthAmPm+1).join("C");break;case 22:a+="#";break;default:for(a+="##",3===o&&(a+="##");o-- >23;)a+="#"}return a}setInputMask(e){if(null==e&&(e=""),this.rawMask===e)return;const t=this.mask?this.calculateValue(this.textValue,0,1):void 0;this.maskFull=h.encode(e);const i=h.split(this.maskFull);if(this.mask=i[0],this.maskExclude=i[1],this.maskInclude=i[2],null!=t){const e=this.getDisplayValue(t,0);this.textValue=e?h._trimEnd(e):"",this.value=null}this.rawMask=e}calculateValue(e,t,i){if(this.isNullValue(e))return this.config.allowNull?void 0:"";if(!this.mask)return e;const n=new RegExp(`\\${this.promptChar}`,"g");e=e.toString().replace(n,String.fromCharCode(0));let r,o,a=0,l=!0,d="";for(let n=0;n<this.mask.length;n++)if(o=this.mask.charCodeAt(n),o<21)r=void 0,a<e.length&&(r=h._filter(o,e,a,"",this.maskExclude,this.maskInclude),a++),d+=r||this.emptyChar,r&&(l=!1);else{if(i>0&&a<e.length){if(this.mask.charAt(n)!==e.charAt(a))return;a++}t>0&&(d+=this.mask.charAt(n))}return l?this.config.allowNull?void 0:"":h._trimEnd(d)}isNullValue(e){const t=String(e);return null==e||""===t||!(!this.config.allowNull||t!==this.config.nullText)}getDisplayValue(e,t,i){return this.mask?(void 0===i&&(i=this.promptChar),h.format(this.maskFull,e,i,t)):null!=e?e:""}_fieldValue(e,t,i,n){let r,o=2*(1&e);if(e<4)r=t.getFullYear()+this.yearFix,3===e?o=4:(r%=100,o=2===e?2:0);else if(e<8){if(r=t.getMonth()+1,e>5){const e=this.monthNames[r-1];if(e.length>0)return e}}else if(e<10)r=t.getDate();else if(e<16){if(r=t.getHours(),e>13){let t=r<12?this.AM:this.PM;return e-=13,o=t.length,e===o?t:(o<e&&(t+=" "),1===e?t.substring(0,e):t)}e<12&&(r%=12,0===r&&(r=12))}else if(e<18)r=t.getMinutes();else if(e<20)r=t.getSeconds();else{if(e<22)return this.dowNames[t.getDay()];{r=t.getMilliseconds();let i=o=e-21;for(;i-- >3;)r*=10;for(;i++<2;)r=Math.floor(r/10)}}let a=r.toString();if(e<20&&(e=a.length,i&&(0===o?o=2:i=!1),o>0))if(o<e)a=a.substring(0,o);else for(;e++<o;)a=(i?n:"0")+a;return a}_checkLimits(e){if(!this.config.timeMode&&!this.allowStrings&&null!=e&&!isNaN(e.getTime())){const t=e.getTime();let i,n;null!=this.config.minValue&&(i=this.config.minValue.getTime()),null!=this.config.maxValue&&(n=this.config.maxValue.getTime()),void 0!==i&&t<i&&(e=new Date(i)),void 0!==n&&t>n&&(e=new Date(n))}return e}_parseInvariant(e){let i=null;if(null==e||this.isNullValue(e)){if(this.config.allowNull)return null;i=new Date}else if(e instanceof Date)i=e;else if(this.config.timeMode||e.indexOf(":")>0){const t=Date.parse(e);isNaN(t)||(i=new Date(t))}else{const t=e.split("/");if(t.length>=3){const e=parseInt(t[2]),n=parseInt(t[0]),r=parseInt(t[1]);isNaN(e)||isNaN(n)||isNaN(r)||(i=h.createDate(e,n-1,r))}}return this.config.timeMode&&i instanceof Date&&!isNaN(i.getTime())&&(i.setFullYear(t.MIN_YEAR),i.setMonth(0),this.config.durationMode||i.setDate(1)),this.config.allowCustomItems&&this._setAllowStrings(i),this.allowStrings&&(null==i||isNaN(i.getTime()))?e:i}_getTypedValue(e,t){let i;if(this.isNullValue(e)||e===this.emptyText){if(this.config.allowNull)return null;i=new Date}else e instanceof Date?i=e:(i=this._parseText(e,this.hasFocus,t),null==i&&(i=this._parseText(e,!this.hasFocus,t)));return this.config.timeMode&&null!=i&&(i.setFullYear(1900),i.setMonth(0),this.config.durationMode||i.setDate(1)),this.config.allowCustomItems&&this._setAllowStrings(i),this.allowStrings&&null==i?e:null==i?null:t?this._checkLimits(i):i}_parseText(e,t,i){const n=this._fields1(e,t);let r=0;const o=n.length;let a=-1,l=-1,d=-1,c=-1,p=-1,u=-1,h=-1,g=-1,m=-1;for(;++m<o;){let e=n[m],i=t?this.field0ID[m]:this.field1ID[m];if(i<4)if(e>100&&e>this.yearFix&&(e-=this.yearFix),e<0)r++;else if(0===e)a=parseInt(this._fieldValue(i,new Date,!0,"0"));else{a=e;let t=29;e<100&&(i<3&&t<0&&(t=29),t>=0&&(a+=e>t?1900:2e3))}else if(i<8)e<1||e>12?r++:l=e;else if(i<10)e<1||e>31?r++:d=e;else if(i<14)24===e&&(e=0),i>11?g=-4:(12===e&&(e=0),e>12&&r++),e>23?r++:c=e;else{if(i<16){e>0&&g++;continue}if(i<18)e>59?r++:p=e;else if(i<20)e>59?r++:u=e;else{if(i<22)continue;for(;i++<24;)e*=10;for(;i-- >25;)e=Math.floor(e/10);h=e}}}0===g&&c>=0&&c<12&&(c+=12);let f=null;return 0===r&&(a>0&&l>0?(f=new Date(a,l-1),f.setFullYear(a,l-1)):f=new Date,null!=f&&(l>0&&f.setMonth(l-1),d>0&&f.setDate(d),f.setHours(c>=0?c:0),f.setMinutes(p>=0?p:0),f.setSeconds(u>=0?u:0),f.setMilliseconds(h>=0?h:0),a>0&&l>0&&d>0&&f.setFullYear(a,l-1,d)),i&&(f=this._checkLimits(f))),!f||this.config.timeMode||this.config.preserveTimezone||(f.toJSON=()=>{if(!f)return"";const e=new Date(f);return e.setUTCFullYear(f.getFullYear(),f.getMonth(),f.getDate()),e.setUTCHours(0,0,0,0),e.toISOString()}),f}_fields1(e,t){const i=t&&!this.getDisabled()?this.field0ID:this.field1ID,n=i.length;let r=-1,o=0,a=0;const l=new Array(n);for(;++r<n;)l[r]=-1;if(null==e)return l;for(e=e.toUpperCase(),r=-1;++r<e.length&&a<n;){let t=e.charCodeAt(r)-48,n=i[a];if(e.charAt(r)!==this.promptChar)if(20!==n&&21!==n||(n=i[++a]),14===n||15===n){if(t>=0&&t<=9){o=-1,a++,r--;continue}this.PM.charAt(0).toUpperCase()===e.charAt(r)&&(l[a++]=1,o=-1)}else if(6===n||7===n){for(o=-1;o-- >-3;){for(t=0;t<12;t++){let i=this.monthNames[t].toUpperCase();if(n=i.length,!(n<1)){if(-3===o){if(n<4)continue;i=i.substring(0,3)}if(n=e.indexOf(i)-1,n>-2&&(n<0||e.charAt(n).toLowerCase()===e.charAt(n)))break}}if(t<12){l[a]=t+1;break}}a++}else t>=0&&t<=9?o=o<=0?t:10*o+t:o>=0&&(l[a++]=o,o=0)}return a<n&&(l[a]=o),l}static between(e,t,i){return e<=t&&i>=t}getMergedDateTime(e){let t=-1,i=-1,n=-1,r=0,o=0,a=0,l=0,d=-1;for(let p=0;p<e.length;p++){const u=e[p],h=u;let g=u;null==g&&(g=parseInt(h,10));switch(this.field0ID[p]){case 1:case 2:case 3:t=g;break;case 4:case 5:i=g;break;case 6:case 7:i=this.monthNames.indexOf((c=h)[0].toUpperCase()+c.substring(1).toLowerCase());break;case 8:case 9:n=g;break;case 10:case 11:case 12:case 13:r=g;break;case 14:case 15:d=h===this.PM||1===g?1:0;break;case 16:case 17:o=g;break;case 18:case 19:a=g;break;case 22:case 23:case 24:case 25:case 26:case 27:case 28:l=g}}var c;0===d?12===r&&(r=0):1===d&&r<12&&(r+=12);let p=!1;if(between(1582,t,275760)&&between(1,i,12)){let e=31;switch(i){case 2:e=function(e){return!(e%4||!(e%100)&&e%400)}(t)?29:28;break;case 4:case 6:case 9:case 11:e=30}between(1,n,e)&&(p=!0)}const u=between(0,r,23)&&between(0,o,60)&&between(0,a,60)&&between(0,l,9999);if(p&&u)return new Date(t,i-1,n,r,o,a,l)}_isDatePart(e){return this.field0ID[e]<10}isZeroTime(e,t,i){if(0===e[i]){const e=this.field0ID[i];if(between(10,e,13)||between(16,e,28)){const e=Array.prototype.slice.call(t[i]);for(;e.length&&e[0]===this.promptChar;)e.shift();for(e.reverse();e.length&&e[0]===this.promptChar;)e.shift();return e.reverse(),0===parseInt(e.join(),10)}}return!1}processPasteValue(e){if(!this.mask)return!1;this.getSelectedText();const t=this.selStart,i=this.selEnd;let n=this.textValue;n=this.clearMaskedContent(n,t,i);const r=[n];let o=t;for(let t=0;t<e.length;t++)if(this.mask.charCodeAt(o)<=20&&e.charAt(t)===this.promptChar)o++;else if(o=this.insertCharAt(r,e.charAt(t),o),o<0||o>=this.mask.length)break;return this.textValue=r[0],this.select(i>0?i:t),!0}clearMaskedContent(e,t,i){if(!this.mask)return e;if((null==t||t<0)&&(t=0),(null==i||i>this.mask.length)&&(i=this.mask.length),t>i){const e=i;i=t,t=e}if(t!==i){for(;--i>=t;){let t=this.promptChar;this.mask.charCodeAt(i)>=21&&(t=this.mask.charAt(i)),e=e.substring(0,i)+t+e.substring(i+1)}i++}return e}separate(e){const isSep=function(e){return"\\/.:- ".indexOf(e)>-1},sepIndexes=function(e){const t=[];for(let i=0;i<e.length;i++)isSep(e[i])&&t.push(i);return t},isDesignator=function(e,t,i,n){for(const r of n){if(e.substr(t-r,i.length)===i)return!0}return!1},t=sepIndexes(this.AM),i=sepIndexes(this.PM),n=new Array;let r="";for(let o=0;o<e.length;o++){const a=e[o];!isSep(a)||isDesignator(e,o,this.AM,t)||isDesignator(e,o,this.PM,i)?r+=a:(n.push(r),r="")}return""!==r&&n.push(r),n}getPartCount(e){return this.separate(e).length}getActivePartIndex(){const e=this.trange&&this.trange.selEnd,t=this.textValue.substring(0,e);return this.getPartCount(t)-1}getPartLen(e){return this.separate(this.config.editMask)[e].length}selectActivePart(e){if(this.getDisabled())return;const sumLen=function(e){return e.reduce((function(e,t){return e+t.length+1}),0)},t=this.textValue,i=this.getPartCount(t);if(e>=0&&e<i){const i=this.separate(t),n=sumLen(i.slice(0,e));let r=sumLen(i.slice(0,e+1));r>0&&r--,this.trange&&this.trange.select(n,r)}}incrementActivePart(e){if(this.getDisabled()||!this.trange)return;const t=this.trange.selStart,i=this.trange.selEnd;this.getActivePartIndex();if(!this.field0ID)return;const n=this.field0ID[this.getActivePartIndex()];let r=this._getTypedValue(this.textValue,!0);switch(r||(r=new Date),n){case 1:case 2:case 3:r.setFullYear(r.getFullYear()+e);break;case 4:case 5:case 6:case 7:r.setMonth(r.getMonth()+e);break;case 8:case 9:r.setDate(r.getDate()+e);break;case 10:case 11:case 12:case 13:r.setHours(r.getHours()+e);break;case 16:case 17:r.setMinutes(r.getMinutes()+e);break;case 18:case 19:r.setSeconds(r.getSeconds()+e)}this.textValue=this.getEditText(r),this.fireEvent("usertyping"),this.trange.select(t,i)}locatePromptPos(e,t=!1){const i=this.mask?this.mask.length:0;for(;e>=0&&e<i&&this.mask&&this.mask.charCodeAt(e)>=21;)t?e--:e++;return e}insertCharAt(e,t,i){if(!this.mask)return-1;const n=this.mask.length;let r=i,o=e[0];if(i<n){if(this.__checkField){const n=new TXT;return n.txt=o,r=this.__checkField(t.charCodeAt(0),t,o,i,n),r>=0?(o=n.txt,e[0]=o,r):-1}{if(this.mask.charCodeAt(r)>=21&&this.mask.charAt(r)===t)return++r;for(;this.mask.charCodeAt(r)>=21;)if(++r>=n)return-1;const i=h._filter(this.mask.charCodeAt(r),t,0,void 0,this.maskExclude,this.maskInclude);return void 0===i?-1:(t=i,o=o.substring(0,r)+t+o.substring(r+1),e[0]=o,r++,r)}}return-1}__checkField(e,t,i,n,r){let o=i.length;const a=new POS;let l=0;const d=this._curField(n,a);if(!this.mask)return-1;if(t===this.mask.charAt(n))return++n;if(n>=a.n1&&(n--,i.charAt(n)!==this.promptChar))return this.__checkField(e,t,i,n+2,r);if(d<0)return-1;if(5===d){if(n<a.n1){let e=this.PM;e.charAt(0).toUpperCase()!==t.toUpperCase()&&(e=this.AM),a.n1===a.n0+1?e=e.charAt(0):(o=e.length,o<this.lengthAmPm?e+=" ":o>this.lengthAmPm&&(e=e.substring(0,this.lengthAmPm))),r.txt=i.substring(0,a.n0)+e+i.substring(a.n1)}return a.n1}if(e<48||e>57){if(46===e||58===e){for(n=a.n1;++n<o&&!(this.mask.charCodeAt(n)<21););return n}return-1}if(e-=48,a.n0===n){let t=i.charAt(n+1)===this.promptChar?0:i.charCodeAt(n+1)-48;switch(d){case 4:e--,t-=2;case 3:case 1:e>1?l=1:1===e&&t>2&&(l=2);break;case 2:e>3?l=1:3===e&&t>1&&(l=2);break;case 6:case 7:e>5&&(l=1)}}if(a.n0+1===n){let t=i.charAt(n-1)===this.promptChar?0:i.charCodeAt(n-1)-48;switch(d){case 4:t--,e-=2;case 3:case 1:(t>1||1===t&&e>2)&&(l=3);break;case 2:(t>3||3===t&&e>1)&&(l=3);break;case 6:case 7:(t>6||6===t&&e>0)&&(l=3)}}if(1===l&&(i=i.substring(0,n)+this.promptChar+i.substring(n+1),n++),2===l&&(i=i.substring(0,n+1)+this.promptChar+i.substring(n+2)),3===l){for(;++n<o&&!(this.mask.charCodeAt(n)<21););return n>=o?-1:this.__checkField(e+48,t,i,n,r)}return r.txt=i.substring(0,n)+t+i.substring(n+1),++n}_curField(e,t){if(!this.mask)return-1;let i,n=22,r=t.n0=t.n1=-1,o=0;for(;o<this.mask.length;o++)if(i=this.mask.charCodeAt(o),i>21!=n>21){if(i>21){if(o>=e)break}else t.n0=o,r++;n=i}return t.n0>=0&&(t.n1=o),r=this.field0ID[r],null==r?-1:r<8?r<4?0:1:r<20?Math.floor((r-4)/2):r>21?8:-1}convertMask(e,t){const i=this.makeMask(e,t);let n="";for(const e of i){const i=e.toString();parseInt(i)<1||parseInt(i)>28?((isNumericChar(i)||"\\"===i)&&(n+="\\"),t&&h._flag(i,0)>0&&(n+="\\"),parseInt(i)>28&&(n+=i)):(parseInt(i)<10&&(n+="0"),n+=i)}return n}makeMask(e,t){const i=this.makePattern(e),n=[];let r=0,o=-1;const a=i.length-1;let l=!1,d="0";for(;++o<=a;){const e=i[o],c=this.isMaskChar(e);if(!l&&("0"!==d&&d!==e||o===a&&c)&&("0"===d&&(d=e,r=o),c&&o===a&&o++,r=this.maskFlag(t,d,o-r-1),r>0&&n.push(r),d="0"),o>a)break;if("'"!==e)if(l)n.push(e);else if("\\"!==e){if(e!==d)if(c)t&&"0"!==d&&n.push(" "),r=o,d=e;else switch(e){case"z":case"g":break;case"%":o=a+1;break;case"/":n.push(this.dateFormatInfo.dateSeparator);break;case":":n.push(this.dateFormatInfo.timeSeparator);break;default:r>=0&&n.push(e)}}else o<a&&n.push(i[++o]);else l=!l}return n}makePattern(e){let t="";if(e||(e=this.config.timeMode?"t":"d"),1===e.length)switch(e[0]){case"D":t+=this.dateFormatInfo.longDate;break;case"f":t+=`${this.dateFormatInfo.longDate} ${this.dateFormatInfo.shortTime}`;break;case"F":case"U":t+=`${this.dateFormatInfo.longDate} ${this.dateFormatInfo.longTime}`;break;case"g":t+=`${this.dateFormatInfo.shortDate} ${this.dateFormatInfo.shortTime}`;break;case"G":t+=`${this.dateFormatInfo.shortDate} ${this.dateFormatInfo.longTime}`;break;case"m":case"M":t+=this.dateFormatInfo.monthDay;break;case"r":case"R":t+=this.dateFormatInfo.rfC1123;break;case"s":t+=this.dateFormatInfo.sortableDateTime;break;case"t":t+=this.dateFormatInfo.shortTime;break;case"T":t+=this.dateFormatInfo.longTime;break;case"u":t+=this.dateFormatInfo.universalSortableDateTime;break;case"y":case"Y":t+=this.dateFormatInfo.yearMonth;break;default:t+=this.dateFormatInfo.shortDate}else t+=e;return t}isMaskChar(e){return"d"===e||"m"===e||"M"===e||"y"===e||"h"===e||"H"===e||"s"===e||"f"===e||"t"===e}maskFlag(e=!1,t,i){let n=i;switch(t){case"y":n=1+Math.min(i,2);break;case"M":n=4+Math.min(i,e?1:3);break;case"d":n=i<2?8+i:e?-1:20+Math.min(i-2,1);break;case"h":n=10+Math.min(i,1);break;case"H":n=12+Math.min(i,1);break;case"t":n=14+Math.min(i,1);break;case"m":n=16+Math.min(i,1);break;case"s":n=18+Math.min(i,1);break;case"f":n=22+Math.min(i,6)}return n}toggleCalendar(e){return this.dropDownOpen?this.hideDropDown():this.showDropDown(),!1}showDropDown(){this.config.timeMode&&!this.dropDownOpen&&(this.createTimeItems(),this.focus()),this.dropDownOpen=!0}createTimeItems(){this.timeItems={allowMultiSelect:!1,options:[]};const e=this.config.durationMode?15:30;for(let t=0;t<24;t++)for(let i=0;i<60;i+=e){const e=new Date(1900,0,1,t,i,0),n={value:e,text:this.getDisplayText(e),selected:!1};this.timeItems.options.push(n)}}hideDropDown(){this.outerClickSubscription&&this.outerClickSubscription.dispose(),this.outerClickSubscription=void 0,this.dropDownOpen&&(this.dropDownOpen=!1)}handleOuterClick(e){return!e||(this.allowMouseDownFlag?(this.allowMouseDownFlag=!1,!0):(e.stopPropagation(),this.hideDropDown(),!0))}handleInnerClick(e){return this.allowMouseDownFlag=!0,!0}};v.defaultConfig={nullText:"",allowNull:!0,allowCustomItems:!1,minValue:new Date(t.MIN_YEAR,0,1),maxValue:new Date(t.MAX_YEAR,t.MONTHS_IN_YEAR-1,t.MAX_DAYS_IN_MONTH),timeMode:!1,durationMode:!1,enabled:!0,firstDayOfWeek:0},i.__decorate([(0,n.computedFrom)("enabled","config.readOnly","linkCommand.command"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],v.prototype,"isEditLink",null),i.__decorate([(0,n.computedFrom)("config.enabled","config.readOnly"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],v.prototype,"ROMode",null),i.__decorate([n.bindable,i.__metadata("design:type",Object)],v.prototype,"config",void 0),i.__decorate([(0,n.bindable)({defaultBindingMode:n.bindingMode.twoWay}),i.__metadata("design:type",Object)],v.prototype,"value",void 0),v=h=i.__decorate([n.autoinject,(0,n.customElement)("qp-datetime-edit"),i.__metadata("design:paramtypes",[Element,a.Container])],v),t.QpDatetimeEditCustomElement=v;class POS{constructor(){this.n0=-1,this.n1=-1}}class TXT{}class TextRange{constructor(e){this.element=e,this.selStart=0,this.selEnd=0}refreshSelection(){const e=this.element;e.selectionStart=this.selStart,e.selectionEnd=this.selEnd}select(e,t){const i=this.element,n=i.value.length;void 0===e||e<0?(e=0,t=n):void 0===t&&(t=e),t>=n?t=n:t<e&&(t=e),e>t&&(e=t),this.selStart=e,this.selEnd=t,null!=i.selectionStart?0===e&&t===n?i.select():(i.selectionStart=e,i.selectionEnd=t):i.select()}getSelectedText(){let e="";const t=this.element;return this.selStart=this.selEnd=0,null!=t.selectionStart&&null!=t.selectionEnd&&(this.selStart=t.selectionStart,this.selEnd=t.selectionEnd,this.selStart<this.selEnd&&(e=t.value.substring(this.selStart,this.selEnd))),e}}t.TextRange=TextRange}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/drop-down/qp-drop-down":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099),i(1015),i(6138),i(829),i(6158),i(2172),i(7140)],r=function(e,t,i,n,r,o,a,l,d,c,p){"use strict";var u;Object.defineProperty(t,"__esModule",{value:!0}),t.DDElement=t.QpDropDownCustomElement=void 0;(0,r.getLogger)("drop-down");let h=u=class QpDropDownCustomElement extends l.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,this.value=null,this.valueArray=[],this.searchString="",this.searchTimeout=void 0,this.prepareHighlightIdx=void 0,this.showOptions=!1,this.hasFocus=!1,this.valueText="",this.highlightedIndex=void 0,this.autoSuggest=!1,this.currentImageUrl=void 0,this.addConfigSetter("options",(e=>{e||(e=[]);const t=this.config.options;t.splice(0,t.length,...e)})),this.addConfigSetter("multiSelect","allowMultiSelect"),this.addConfigSetter("type","valueType"),this.addConfigSetter("exclusiveValues",(e=>this.config.allowEdit=!e)),this.addConfigSetter("nullable","allowNull")}detached(){super.detached(),this.optionsObserver&&this.optionsObserver.dispose()}attached(){var e;super.attached(),this.config&&(this.options=void 0,this.value&&this.valueChanged(this.value,this.value),this.autoSuggest=null==this.config.autoSuggest?(null===(e=this.config.options)||void 0===e?void 0:e.length)>10:this.config.autoSuggest,this.subscribeToOptionsChange())}get ROMode(){return this.config&&(this.config.readOnly||!this.config.enabled)}configChanged(e,t){var i,n;this.config||(this.config={}),null===(i=this.optionsObserver)||void 0===i||i.dispose(),(0,p.applyDefaultValues)(this.config,u.defaultConfig),this.config.options||(this.config.options=[]),void 0===t&&this.config.value&&(this.value=this.config.value),this.autoSuggest=null==this.config.autoSuggest?(null===(n=this.config.options)||void 0===n?void 0:n.length)>10:this.config.autoSuggest,this.subscribeToOptionsChange(),this.options=void 0,this.syncValueTextWithValue()}decodeValueText(e){return e}encodeValueText(e){return e}syncValueTextWithValue(){var e;if(!this.config)return;if("string"==typeof this.value){const e=this.config.valuesSeparator;this.valueArray=this.config.allowMultiSelect?this.value.split(e):[this.value]}else null!=this.value?this.valueArray=[this.value.toString()]:this.valueArray=[];const t=this.decodeValueText(this.valueText);if(this.valueText="",null===(e=this.config)||void 0===e?void 0:e.options){let e="";this.valueArray.forEach((i=>{let n=this.config.options.find(((e,n)=>e.value===i&&e.text===t&&(e.selected=!0,!0)));n||(n=this.config.options.find(((e,t)=>e.value===i&&(e.selected=!0,!0)))),n?(e&&(e+=", "),e+=n.text):this.config.allowEdit&&(e=this.value||"")})),this.valueText=this.encodeValueText(e)}}valueChanged(e,t){var i;this.config&&this.config.options&&this.config.options.forEach((e=>e.selected=!1)),this.syncValueTextWithValue(),this.options=void 0,this.currentImageUrl=this.config&&this.config.options&&(null===(i=this.config.options.find((e=>e.value===this.value)))||void 0===i?void 0:i.imageUrl),this.config&&this.config.allowMultiSelect&&(this.options=this.getOptions(),this.options.forEach((e=>{this.config.options.find(((t,i)=>t.value===e.value&&(e.selected=t.selected,!0)))})))}enterHighlight(e){this.prepareHighlightIdx=e}commitHighlight(e){this.prepareHighlightIdx===e&&(this.highlight(e),this.prepareHighlightIdx=void 0)}highlight(e){this.showOptions&&(this.highlightedIndex=e)}select(e,t){this.appendValue(e.value),this.config.allowMultiSelect||(this.valueText=this.encodeValueText(e.text),this.hide()),t&&t.stopPropagation()}clearSelection(e){return e.preventDefault(),e.stopImmediatePropagation(),this.value=null,!1}toggleSelector(e){return!!this.ROMode||(e.preventDefault(),e.stopImmediatePropagation(),this.inputElement.focus(),this.showOptions?this.hide():this.show(!0),!1)}show(e=!1){this.showOptions=!0,e||!this.config.allowEdit&&!this.autoSuggest||this.filter(this.decodeValueText(this.valueText));const t=this.getOptions();for(let e=0;e<t.length;++e){const i=t[e];if(void 0!==this.valueArray.find((e=>e===i.value))){this.highlight(e);break}}this.eventAggregator.publish(c.MOUSE_DOWN_REACHED_BODY),this.tq.queueTask((()=>{this.scrollIntoView(),this.documentMouseDownSubscription=this.eventAggregator.subscribe(c.MOUSE_DOWN_REACHED_BODY,(()=>this.hide()));const e=this.container.get(a.HoverActivatorService);null==e||e.suppressTooltipFor(this.element)}))}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}hide(){if(this.unsubscribeFromMouseDownOnDocument(),this.showOptions){this.showOptions=!1;const e=this.container.get(a.HoverActivatorService);null==e||e.allowTooltipFor(this.element)}this.highlightedIndex=void 0}advanceSelection(e){const t=this.getOptions();null==this.highlightedIndex&&(this.highlightedIndex=e>=0?-1:t.length),this.highlightedIndex+=e,this.highlightedIndex<0?this.highlightedIndex=0:this.highlightedIndex>=t.length&&(this.highlightedIndex=t.length-1),this.optionsPane&&this.scrollIntoView()}ignoreClicks(e){e.preventDefault(),e.stopImmediatePropagation()}onFocus(){return(this.config.allowEdit||this.autoSuggest)&&this.inputElement.select(),!0}onBlur(){if(this.config.allowNull&&!this.decodeValueText(this.valueText))this.value=null;else if(this.config.allowEdit){const e=this.findElementByText(this.decodeValueText(this.valueText));this.value=e?e.value:this.decodeValueText(this.valueText)}else if(this.autoSuggest){const e=this.findElementByText(this.decodeValueText(this.valueText));e&&this.value!=e.value?this.value=e.value:this.syncValueTextWithValue()}return this.hide(),!0}onPaste(e){return!(!this.config.allowEdit&&!this.autoSuggest)}onInput(e){return this.filter(this.decodeValueText(this.valueText)),!this.showOptions&&this.autoSuggest&&this.show(),!1}onKeyPress(e){return this.searchString=this.searchString+e.key,void 0!==this.searchTimeout&&o.PLATFORM.global.clearTimeout(this.searchTimeout),this.config.allowEdit||this.autoSuggest?(this.showOptions||this.show(),!0):(this.search(this.searchString),this.searchTimeout=o.PLATFORM.global.setTimeout((()=>{this.searchString="",this.searchTimeout=void 0}),1e3),!1)}onKeyDown(e){if(this.ROMode)return!1;let t=!1;switch(e.key){case"Down":case"ArrowDown":this.showOptions?this.advanceSelection(1):(this.show(!0),null==this.highlightedIndex&&this.advanceSelection(1)),t=!0;break;case"Up":case"ArrowUp":this.showOptions?this.advanceSelection(-1):(this.show(!0),null==this.highlightedIndex&&this.advanceSelection(-1)),t=!0;break;case"Enter":void 0!==this.highlightedIndex&&this.select(this.getOptions()[this.highlightedIndex]);break;case"Esc":case"Escape":this.showOptions&&(this.hide(),t=!0)}if(!this.config.allowEdit&&!this.autoSuggest)switch(e.key){case" ":void 0!==this.highlightedIndex&&(this.select(this.getOptions()[this.highlightedIndex]),t=!0);break;case"Backspace":this.config.allowMultiSelect&&(this.value=""),this.config.allowNull&&(this.value=null),t=!0}return!t||(e.stopPropagation(),void 0!==this.searchTimeout&&clearTimeout(this.searchTimeout),!1)}getColorClass(e){return!e||e.startsWith("#")?"":`backcolor_${e.toLowerCase()}`}getAdditionalStyle(e){if(e&&e.startsWith("#"))return{background:e}}scrollIntoView(){var e,t;null!=this.highlightedIndex&&("scrollBehavior"in document.documentElement.style?null===(e=this.optionsPane.children[this.highlightedIndex])||void 0===e||e.scrollIntoView({block:"nearest"}):null===(t=this.optionsPane.children[this.highlightedIndex])||void 0===t||t.scrollIntoView(!1))}cloneOptions(e){this.options=e.map((({selected:e,value:t,imageUrl:i,text:n,enabled:r})=>({selected:e,value:t,imageUrl:i,text:n,enabled:r})))}getOptions(){return this.options||this.cloneOptions(this.config.options),this.options||[]}subscribeToOptionsChange(){this.optionsObserver&&this.optionsObserver.dispose(),this.config.options||(this.config.options=[]),this.optionsObserver=this.bindingEngine.collectionObserver(this.config.options).subscribe((()=>{this.options=void 0,this.autoSuggest=null==this.config.autoSuggest?this.config.options.length>10:this.config.autoSuggest,this.syncValueTextWithValue()}))}filter(e){if(this.highlightedIndex=0,!this.autoSuggest||!e||!this.config.options||0===this.config.options.length)return void this.cloneOptions(this.config.options);const t=e.toLocaleLowerCase(),i=new Array;this.config.options.forEach((e=>{e.text.toLocaleLowerCase().indexOf(t)>=0&&i.push(e)})),this.cloneOptions(i)}search(e){e=e.toLocaleLowerCase(),this.getOptions().find(((t,i)=>0===t.text.toLocaleLowerCase().indexOf(e)&&(this.highlight(i),this.select(t),!0)))}findElementByText(e){return e=e.toLocaleLowerCase(),this.getOptions().find(((t,i)=>!!(e&&t.text.toLocaleLowerCase()===e||!e&&!t.text)&&(this.highlight(i),this.select(t),!0)))}appendValue(e){if(this.config.allowMultiSelect){const t=this.valueArray.indexOf(e);if(-1===t){const t=this.valueArray.splice(0,this.valueArray.length).reduce(((e,t)=>(e[t]=!0,e)),{});t[e]=!0,this.config.options.forEach((e=>{t[e.value]&&this.valueArray.push(e.value)}))}else this.valueArray.splice(t,1);const i=this.config.valuesSeparator;this.value=this.valueArray.join(i)}else this.value=(0,p.netTypeConvert)(e,this.config.valueType)}};h.defaultConfig={enabled:!0,required:!1,valueType:c.NetType.String,autoSuggest:null,allowNull:!0,valuesSeparator:",",colorMode:!1,options:null},i.__decorate([n.bindable,i.__metadata("design:type",Object)],h.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],h.prototype,"value",void 0),i.__decorate([(0,n.computedFrom)("config.enabled","config.readOnly"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],h.prototype,"ROMode",null),h=u=i.__decorate([(0,n.customElement)("qp-drop-down"),n.autoinject,i.__metadata("design:paramtypes",[Element,d.Container])],h),t.QpDropDownCustomElement=h;t.DDElement=class DDElement{constructor(){this.selected=!1,this.enabled=!0}}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/external-viewer/qp-external-viewer":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7140)],r=function(e,t,i,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeListener=t.QpExternalViewerCustomElement=void 0;let a=o=class QpExternalViewerCustomElement{constructor(){this.isAttached=!1,this.frameHeight=0,this.placeHolderHeight=0}attached(){this.isAttached=!0,this.applyConfig()}detached(){this.clearAutoHeight()}clearAutoHeight(){var e;this.frameHeight=0,this.placeHolderHeight=0,null===(e=this.listener)||void 0===e||e.dispose(),this.listener=void 0,this.resetTimer()}configChanged(e,t){void 0===t&&(0,r.applyDefaultValues)(e,o.defaultConfig),this.isAttached&&this.applyConfig()}applyConfig(){var e,t;(null===(e=this.config)||void 0===e?void 0:e.autoHeight)?(this.width=this.frameElement.getBoundingClientRect().width,null!==(t=this.listener)&&void 0!==t||(this.listener=new ResizeListener(this.frameElement,((e,t)=>this.handleResize(e)))),this.updateHeight()):this.clearAutoHeight()}resetTimer(){void 0!==this.timer&&(clearTimeout(this.timer),this.timer=void 0)}updateHeight(){void 0===this.timer?(this.placeHolderHeight=this.frameHeight,this.frameHeight=1):(clearTimeout(this.timer),this.timer=void 0),this.timer=setTimeout((()=>{var e;this.placeHolderHeight=0;try{this.frameHeight=function getContentHeight(e){var t,i,n;const r=null==e?void 0:e.body,o=null!==(t=null==r?void 0:r.offsetHeight)&&void 0!==t?t:0,a=null==r?void 0:r.parentElement,l=null!==(i=null==a?void 0:a.offsetHeight)&&void 0!==i?i:0,d=null!==(n=null==r?void 0:r.scrollHeight)&&void 0!==n?n:0;return d+(l-o)}(null===(e=this.frameElement.contentWindow)||void 0===e?void 0:e.document)}catch(e){this.frameHeight=0}this.resetTimer()}))}frameLoaded(){this.updateHeight()}handleResize(e){this.width!==e&&(this.width=e,this.updateHeight())}};a.defaultConfig={enabled:!0,readOnly:!1,scrolling:!0},i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"value",void 0),a=o=i.__decorate([n.autoinject,(0,n.customElement)("qp-external-viewer")],a),t.QpExternalViewerCustomElement=a;class ResizeListener{constructor(e,t){this.element=e;let i=0;this.observer=new ResizeObserver((e=>{const n=e&&e.length?e[0]:void 0;if(n){const{width:e,height:r}=n.contentRect;try{0==i++&&t(e,r)}finally{i--}}})),this.observer.observe(this.element)}dispose(){var e;null===(e=this.observer)||void 0===e||e.unobserve(this.element),this.observer=void 0}}t.ResizeListener=ResizeListener}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/icon/qp-hyper-icon":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(630),i(8099)],r=function(e,t,i,n,r,o){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.QpHyperIconCustomElement=void 0;(0,o.getLogger)("qp-hyper-icon");const l="@",d="svg:";let c=a=class QpHyperIconCustomElement{constructor(){this.disabled=!1,this.currentMode="normal",this.pushed=!1}disabledChanged(){this.disabled?this.currentMode="disabled":this.currentMode="normal"}imagesChanged(e,t){this.images.hover||(this.images.hover=this.images.normal),this.images.pushed||(this.images.pushed=this.images.hover),this.images.disabled||(this.images.disabled=this.images.normal)}OnMouseOver(){this.disabled||(this.pushed?this.currentMode="pushed":this.currentMode="hover")}OnMouseOut(){this.disabled||(this.currentMode="normal",this.pushed=!1)}OnMouseDown(){this.disabled||(this.currentMode="pushed",this.pushed=!0)}OnClick(){this.disabled||(this.currentMode="normal",this.pushed=!1)}get SpriteName(){return this.images&&a.parseSpriteName(this.images[this.currentMode])}get ImageName(){if(!this.images)return;if("svg"===a.parseImageType(this.images[this.currentMode])){const e=r.topWindow.__svg_icons_path,t=window.VENDOR_TIME_STAMP||"a",i=this.images[this.currentMode],n=i.indexOf("@"),o=i.substring(4,n);let a=i.substring(n+1);return a=e?`${e}${o}.svg?${t}#${a}`:`${r.siteRoot}Content/svg_icons/${o}.svg?${t}#${a}`,a}return a.parseImageName(this.images[this.currentMode])}get ImageType(){return this.images&&a.parseImageType(this.images[this.currentMode])}get SvgUrl(){if(!this.images)return;const e=this.images[this.currentMode],t=e.indexOf(l);if(t<0)return;if(0!==e.indexOf(d))return;const i=window.VENDOR_TIME_STAMP||"a",n=e.substring(4,t),o=e.substring(t+1),a=r.topWindow.__svg_icons_path;return a?`${a}${n}.svg?${i}#${o}`:`${r.siteRoot}/Content/svg_icons/${n}.svg?${i}#${o}`}static parseSpriteName(e){const t=e.indexOf(l);if(t<0)return null;const i=e.indexOf(d);return i>=0?e.substring(i+4,t):e.substring(0,t)}static parseImageName(e){const t=e.indexOf(l);return t<0?e:e.substr(t+1)}static parseImageType(e){let t=e.indexOf(d);return 0===t?"svg":(t=e.indexOf(l),t>=0?"sprite":"img")}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],c.prototype,"images",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],c.prototype,"disabled",void 0),i.__decorate([(0,n.computedFrom)("images","currentMode"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],c.prototype,"SpriteName",null),i.__decorate([(0,n.computedFrom)("images","currentMode"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],c.prototype,"ImageName",null),i.__decorate([(0,n.computedFrom)("images","currentMode"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],c.prototype,"ImageType",null),i.__decorate([(0,n.computedFrom)("images","currentMode"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],c.prototype,"SvgUrl",null),c=a=i.__decorate([n.autoinject,(0,n.customElement)("qp-hyper-icon")],c),t.QpHyperIconCustomElement=c}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/icon/qp-icon":(e,t,i)=>{var n,r;n=[i,t,i(655),i(630),i("aurelia-framework"),i(8099)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpIconCustomElement=void 0;(0,o.getLogger)("qp-icon");let a=class QpIconCustomElement{constructor(){this.imagesrc=null,this.spriteName=null,this.imageName=null,this.imageType=null,this.imageReady=!1}imgLoaded(){this.imageReady=!0}imagesrcChanged(e,t){const i=e||"";let r=!i;if(r)return this.spriteName=null,this.imageName=null,void(this.imageType=null);const o="svg:",a=i.indexOf("@");if(a<0&&(r=!0),r)return this.spriteName=null,i.startsWith("/")&&n.siteRoot&&!i.startsWith(n.siteRoot)?this.imageName=n.siteRoot+i.substring(1):this.imageName=i,void(this.imageType="img");const l=i.indexOf(o);if(this.spriteName=l>=0?i.substring(l+4,a):i.substring(0,a),this.imageName=i.substr(a+1),0===l){this.imageType="svg";const e=window.VENDOR_TIME_STAMP||"a",t=n.topWindow.__svg_icons_path;this.imageName=t?`${t}${this.spriteName}.svg?${e}#${this.imageName}`:`${n.siteRoot}Content/svg_icons/${this.spriteName}.svg?${e}#${this.imageName}`}else{const e=i.split("@");2===e.length?"fa"===e[0]?this.imageType="fa":this.imageType="sprite":this.imageType="img"}}};i.__decorate([r.bindable,(0,r.observable)({changeHandler:"imagesrcChanged"}),i.__metadata("design:type",Object)],a.prototype,"imagesrc",void 0),i.__decorate([r.bindable,i.__metadata("design:type",String)],a.prototype,"width",void 0),i.__decorate([r.bindable,i.__metadata("design:type",String)],a.prototype,"height",void 0),a=i.__decorate([r.autoinject,(0,r.customElement)("qp-icon")],a),t.QpIconCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/image/components/gallery/carousel":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(6089)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselCustomElement=void 0;let o=class CarouselCustomElement{constructor(e){this.element=e,this.previousEnabled=!0,this.nextEnabled=!0}move(e){var t,i;e?this.nextEnabled&&(null===(t=this.next)||void 0===t||t.call(this,{})):this.previousEnabled&&(null===(i=this.previous)||void 0===i||i.call(this,{}))}changePosition(e,t){(0,r.hasShortcutModifier)(e)||this.move(t),e.stopImmediatePropagation(),e.preventDefault()}carouselBodyChanged(){var e;null===(e=this.shortcuts)||void 0===e||e.dispose(),this.shortcuts=void 0,this.carouselBody&&(this.shortcuts=new r.ShortcutService(this.carouselBody).addShortcut("Ctrl+ArrowLeft, PageUp",(()=>this.move(!1))).addShortcut("Ctrl+ArrowRight, PageDown",(()=>this.move(!0))))}};i.__decorate([n.bindable,i.__metadata("design:type",Function)],o.prototype,"previous",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],o.prototype,"next",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],o.prototype,"previousEnabled",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],o.prototype,"nextEnabled",void 0),i.__decorate([n.observable,i.__metadata("design:type",Element)],o.prototype,"carouselBody",void 0),o=i.__decorate([n.autoinject,(0,n.customElement)("carousel"),i.__metadata("design:paramtypes",[Element])],o),t.CarouselCustomElement=o}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/image/components/gallery/image-feed":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7172),i(224),i(8843)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageFeedCustomElement=void 0;let l=class ImageFeedCustomElement{constructor(e){this.element=e,this.index=-1,this.ratio=1.618,this.feedHeight=0,this.feedWidth=0,this.imageWidth=1/0,this.imageGap=0,this.leftTrack=0,this.rightTrack=0,this.feedOffset=0,this.images=[],this.loadedImages=new Map}bind(){}attached(){this.imageGap=Math.max(0,2*(0,r.getNumberCSSProperty)(this.element,"--image-view-image-padding",0)),this.listeners=new a.Disposables([new a.ResizeListener(this.element,((e,t)=>this.processResize(e,t)))]),this.collectionChanged()}detached(){var e,t;null===(e=this.listeners)||void 0===e||e.dispose(),null===(t=this.changeHandler)||void 0===t||t.dispose(),this.changeHandler=void 0}collectionChanged(){var e;return i.__awaiter(this,void 0,void 0,(function*(){null===(e=this.changeHandler)||void 0===e||e.dispose(),this.changeHandler=void 0,this.loadedImages.clear(),this.images.splice(0,this.images.length),this.feedOffset=0,this.leftTrack=0,this.rightTrack=0;const repaint=()=>i.__awaiter(this,void 0,void 0,(function*(){const e=this.element.getBoundingClientRect();yield this.processResize(e.width,e.height)}));(0,o.isMutableCollection)(this.collection)&&(this.changeHandler=this.collection.addMutationHandler((e=>{e.some((e=>"changed"!==e.name))&&repaint()}))),yield repaint()}))}loadImages(e,t){return i.__asyncGenerator(this,arguments,(function*loadImages_1(){var n,r;const o=this.collection;if(!o||void 0===e||t<=0)return yield i.__await(void 0);const a=o.getRange(e,t);try{for(var l,d=i.__asyncValues(a);!(l=yield i.__await(d.next())).done;){const t=l.value;if(o!==this.collection)return yield i.__await(void 0);const n={index:e++,source:t};this.loadedImages.set(n.index,n),yield yield i.__await(n)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=d.return)&&(yield i.__await(r.call(d)))}finally{if(n)throw n.error}}}))}getImages(e,t){return i.__asyncGenerator(this,arguments,(function*getImages_1(){let n,r=0;for(let o=0;o<t;o++){const t=o+e,a=this.loadedImages.get(t);void 0===a?(null!=n||(n=t),r++):(yield i.__await(yield*i.__asyncDelegator(i.__asyncValues(this.loadImages(n,r)))),r=0,n=void 0,yield yield i.__await(a))}yield i.__await(yield*i.__asyncDelegator(i.__asyncValues(this.loadImages(n,r))))}))}getImageInFrame(e){return e=Math.max(0,e),!!this.images.find((t=>t.index===e))}scrollToSelected(){var e;if(!this.feed)return;const t=Math.max(0,this.index),i=this.images.findIndex((e=>e.index===t));if(-1===i)return;const n=this.feedWidth,o=this.images.length,a=this.imageWidth+this.imageGap,l=o*a;if(l<=n)return this.leftTrack=0,this.rightTrack=0,void(this.feedOffset=0);if("center"===(null!==(e=(0,r.getCSSProperty)(this.feed,"justify-content"))&&void 0!==e?e:"").toLowerCase()){this.feedOffset=0;const e=l+this.leftTrack+this.rightTrack,t=[this.leftTrack+i*a,this.leftTrack+(i+1)*a],r=[(e-n)/2,(e+n)/2];if(t[0]>=r[0]&&t[1]<=r[1])this.leftTrack+l<r[1]?(this.leftTrack=0,this.rightTrack=l-n):this.leftTrack>r[0]&&(this.leftTrack=l-n,this.rightTrack=0);else{if(t[0]<r[0]){const e=this.rightTrack-2*(r[0]-t[0]);return void(e>0?this.rightTrack=e:(this.rightTrack=0,this.leftTrack-=e))}{const e=this.leftTrack-2*(t[1]-r[1]);e>0?this.leftTrack=e:(this.leftTrack=0,this.rightTrack-=e)}}}else{this.leftTrack=0,this.rightTrack=0;const e=[i*a,(i+1)*a],t=[this.feedOffset,this.feedOffset+n];e[0]>=t[0]&&e[1]<=t[1]?l<t[1]&&(this.feedOffset=l-n):e[0]<t[0]?this.feedOffset=e[0]:this.feedOffset=e[1]-n}}updateVisibleImages(e){var t,n,r,o;return i.__awaiter(this,void 0,void 0,(function*(){const a=this.collection;if(a)try{null!=e||(e=this.images.length);const u=[];if(e>0){let a=0;const h=Math.max(0,this.index);if(this.getImageInFrame(h)){if(this.images.length===e)return;a=this.images[0].index}else a=0===this.images.length||h<this.images[0].index?h:Math.max(0,h-e+1);try{for(var l,d=i.__asyncValues(this.getImages(a,e));!(l=yield d.next()).done;){const e=l.value;u.push(e)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=d.return)&&(yield n.call(d))}finally{if(t)throw t.error}}if(u.length<e){const t=Math.max(0,a-e+u.length),n=Math.max(0,a-t);if(n>0){const e=[];try{for(var c,p=i.__asyncValues(this.getImages(t,n));!(c=yield p.next()).done;){const t=c.value;e.push(t)}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=p.return)&&(yield o.call(p))}finally{if(r)throw r.error}}u.unshift(...e)}}}a===this.collection&&(this.images=u)}finally{this.scrollToSelected()}}))}updateImageCount(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=this.imageWidth>0?Math.ceil(e/(this.imageWidth+this.imageGap)):0;0!==t?yield this.updateVisibleImages(1+t+1):this.images=[]}))}processResize(e,t){return i.__awaiter(this,void 0,void 0,(function*(){this.feedHeight=t,this.feedWidth=e,this.imageWidth=Math.max(0,this.feedHeight-this.imageGap)*this.ratio,yield this.updateImageCount(e)}))}selectImage(e,t){var i;this.index=t,null===(i=this.selected)||void 0===i||i.call(this,{source:e,index:t})}indexChanged(){return i.__awaiter(this,void 0,void 0,(function*(){this.index>=0&&(this.getImageInFrame(this.index)?this.scrollToSelected():yield this.updateVisibleImages())}))}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"collection",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],l.prototype,"index",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],l.prototype,"ratio",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],l.prototype,"selected",void 0),l=i.__decorate([n.autoinject,(0,n.customElement)("image-feed"),i.__metadata("design:paramtypes",[Element])],l),t.ImageFeedCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/image/components/gallery/image-gallery":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(6089),i(224),i(8843)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageGalleryCustomElement=void 0;let l=class ImageGalleryCustomElement{constructor(e){this.element=e,this.showFeed=!0,this.showArrows=!0,this.allowNull=!0,this.imageStyle="",this.readOnly=!1,this.allowZoom=!1,this.maxIndex=1/0}bind(){}attached(){this.collectionChanged()}detached(){var e,t;null===(e=this.shortcuts)||void 0===e||e.dispose(),this.shortcuts=void 0,null===(t=this.changeHandler)||void 0===t||t.dispose(),this.changeHandler=void 0}get minIndex(){return this.allowNull?-1:Math.min(0,this.maxIndex)}collectionChanged(){var e;return i.__awaiter(this,void 0,void 0,(function*(){this.imageSource=void 0,this.imageIndex=void 0,this.maxIndex=1/0,null===(e=this.changeHandler)||void 0===e||e.dispose(),this.changeHandler=void 0;const t=this.collection;if(t){const updateLength=e=>i.__awaiter(this,void 0,void 0,(function*(){t===this.collection&&(this.maxIndex=e-1,void 0!==this.index&&(this.index=(0,a.clamp)(this.minIndex,this.index,this.maxIndex),yield this.receiveImage()))})),update=()=>i.__awaiter(this,void 0,void 0,(function*(){t===this.collection&&(yield updateLength(yield t.getCount()))}));yield update(),(0,o.isMutableCollection)(t)&&(this.changeHandler=t.addMutationHandler((e=>{let t=0,i=!1;e.forEach((e=>{switch(e.name){case"changed":e.item===this.imageSource&&this.imageChanged();break;case"removed":e.item===this.imageSource&&(i=!0),t--;break;case"added":t++}})),i?this.collectionChanged():0!==t&&updateLength(this.maxIndex+t+1)})))}}))}imageChanged(){}indexChanged(){var e;return i.__awaiter(this,void 0,void 0,(function*(){const t=(0,a.clamp)(this.minIndex,null!==(e=this.index)&&void 0!==e?e:this.minIndex,this.maxIndex);t!==this.index&&(this.index=t),yield this.receiveImage()}))}galleryChanged(){var e;null===(e=this.shortcuts)||void 0===e||e.dispose(),this.shortcuts=void 0,this.gallery&&(this.shortcuts=new r.ShortcutService(this.gallery).addShortcut("ArrowLeft, ArrowUp, PageUp",(()=>this.move(-1))).addShortcut("ArrowRight, ArrowDown, PageDown",(()=>this.move(1))).addShortcut("Home",(()=>this.gotoStart())).addShortcut("End",(()=>this.gotoEnd())))}imageLoaded(e,t){var i;this.imageSource===e&&void 0!==this.imageIndex&&(null===(i=this.imageReady)||void 0===i||i.call(this,{source:e,image:t,index:this.imageIndex}))}receiveImage(){return i.__awaiter(this,void 0,void 0,(function*(){const e=this.index;if(!this.collection||void 0===e||e<0||e>this.maxIndex)return this.imageSource=void 0,void(this.imageIndex=void 0);if(this.imageSource&&this.imageIndex===e)return;const t=this.collection,i=yield t.getAt(e);t===this.collection&&e===this.index&&(i?(this.imageSource=i,this.imageIndex=e):void 0!==this.imageIndex?this.index=this.imageIndex:this.index=e>0?0:this.minIndex)}))}cancelImage(e){var t,i;null===(t=this.imageView)||void 0===t||t.reset(),e===this.imageSource&&void 0!==this.imageIndex&&(null===(i=this.imageCancel)||void 0===i||i.call(this,{source:e,index:this.imageIndex}))}clickImage(e,t){var i;this.imageSource===e&&void 0!==this.imageIndex&&(null===(i=this.imageClick)||void 0===i||i.call(this,{source:e,image:t,index:this.imageIndex}))}userSelect(e){var t;return i.__awaiter(this,void 0,void 0,(function*(){this.readOnly||this.index!==e&&(this.index=e,yield this.indexChanged(),null===(t=this.selected)||void 0===t||t.call(this,{source:this.imageSource,index:this.index}))}))}move(e){var t;this.userSelect((0,a.clamp)(this.minIndex,(null!==(t=this.index)&&void 0!==t?t:this.minIndex)+e,this.maxIndex))}gotoStart(){this.userSelect(0)}gotoEnd(){this.userSelect(this.maxIndex)}feedSelected(e,t){this.userSelect(t)}get sizeStyles(){let e="";const t=(0,a.convertToStylePixels)(this.width);void 0!==t&&(e+=`width: ${t};`);const i=(0,a.convertToStylePixels)(this.height);return void 0!==i&&(e+=`height: ${i};`),e}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"collection",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"width",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"height",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],l.prototype,"index",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],l.prototype,"showFeed",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],l.prototype,"showArrows",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],l.prototype,"allowNull",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],l.prototype,"imageStyle",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],l.prototype,"readOnly",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],l.prototype,"allowZoom",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],l.prototype,"imageClick",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],l.prototype,"imageCancel",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],l.prototype,"imageReady",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],l.prototype,"selected",void 0),i.__decorate([n.observable,i.__metadata("design:type",Object)],l.prototype,"imageSource",void 0),i.__decorate([n.observable,i.__metadata("design:type",HTMLElement)],l.prototype,"gallery",void 0),i.__decorate([(0,n.computedFrom)("width","height"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],l.prototype,"sizeStyles",null),l=i.__decorate([n.autoinject,(0,n.customElement)("image-gallery"),i.__metadata("design:paramtypes",[Element])],l),t.ImageGalleryCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},9473:(e,t,i)=>{var n,r;n=[i,t,i(655),i(224),i(8843)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.__exportStar(n,t),i.__exportStar(r,t)}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/image/components/popup/image-popup":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2594),i(6089),i(8843),i(224)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImagePopupCustomElement=void 0;let d=class ImagePopupCustomElement{constructor(e,t){this.element=e,this.bindingEngine=t,this.index=0,this.visible=!1,this.maxIndex=1/0,this.Messages=r.Messages,this.serviceButtons=[{modelName:"button",model:{id:"print",icon:"svg:main@print",getLabel:()=>this.Messages.PrintImageActionTitle,execute:()=>this.print()}},{modelName:"button",model:{id:"download",icon:"main@GetFile",getLabel:()=>this.Messages.DownloadImageActionTitle,execute:()=>this.download()}}]}attached(){this.updateToolbar()}detached(){this.visible=!1,this.detachListeners()}detachListeners(){var e,t;null===(e=this.propertyListeners)||void 0===e||e.dispose(),this.propertyListeners=void 0,null===(t=this.collectionListener)||void 0===t||t.dispose(),this.collectionListener=void 0}visibleChanged(){var e;this.visible?this.shortcuts=new o.ShortcutService(this.element.ownerDocument.documentElement).addShortcut("ArrowLeft, ArrowUp, PageUp",(()=>this.move(-1))).addShortcut("ArrowRight, ArrowDown, PageDown",(()=>this.move(1))).addShortcut("Home",(()=>this.index=0)).addShortcut("End",(()=>this.index=this.maxIndex)).addShortcut("Enter",(()=>this.ok())).addShortcut("Escape",(()=>this.cancel())):(null===(e=this.shortcuts)||void 0===e||e.dispose(),this.shortcuts=void 0)}srcChanged(){return i.__awaiter(this,void 0,void 0,(function*(){(0,l.isImageUrl)(this.src)||(0,l.isImageSource)(this.src)?this.collection=(0,a.createImageCollection)([this.src]):(0,l.isImageCollection)(this.src)?this.collection=this.src:this.collection=void 0}))}collectionChanged(){return i.__awaiter(this,void 0,void 0,(function*(){this.detachListeners(),this.maxIndex=1/0,this.collection&&(this.maxIndex=(yield this.collection.getCount())-1,(0,l.isMutableCollection)(this.collection)&&(this.collectionListener=this.collection.addMutationHandler((e=>{this.collectionChanged()}))))}))}move(e){this.index=(0,a.clamp)(0,this.index+e,this.maxIndex)}closePopup(e){var t;null===(t=this.close)||void 0===t||t.call(this,{succeeded:e}),this.visible=!1}ok(){this.closePopup(!0)}cancel(){this.closePopup(!1)}imageReady(e,t){var i;this.imageSource=e,this.image=t,this.imageName=null!==(i=e.name)&&void 0!==i?i:this.Messages.NoImageImagePopupCaption,this.updateToolbar()}imageSelected(e){this.index=e,this.updateToolbar()}updateToolbarState(){Promise.resolve().then((()=>{var e,t;return null===(t=null===(e=this.toolbar)||void 0===e?void 0:e.refresh)||void 0===t?void 0:t.call(e)}))}updateToolbar(){var e,t,i;const n=[],r=[],o=[],a=this.image,l=this.imageSource;if(l&&a){const createToolbarButton=(e,t)=>({id:e,modelName:"button",model:{id:e,icon:t.icon,getLabel:()=>{var e;return null!==(e=t.label)&&void 0!==e?e:""},getEnabled:()=>{var t,i;if(!this.image)return!1;const n=null===(i=null===(t=this.imageSource)||void 0===t?void 0:t.queryAction)||void 0===i?void 0:i.call(t,e,this.image);return!!n&&!n.disabled},execute:()=>{var e,i,n;if(!this.image)return!1;const r=null!==(n=null===(i=null===(e=this.imageSource)||void 0===e?void 0:e.executeCommand)||void 0===i?void 0:i.call(e,t.command,this.image,t.args))&&void 0!==n&&n;return r&&this.updateToolbarState(),r}}}),i=(null!==(t=null===(e=l.getActions)||void 0===e?void 0:e.call(l))&&void 0!==t?t:[]).map((e=>{var t;return{name:e,action:null===(t=l.queryAction)||void 0===t?void 0:t.call(l,e,a)}})).filter((e=>!!e.action&&!e.action.hidden));n.push(...i.filter((e=>"edit"!==e.name)).map((e=>createToolbarButton(e.name,e.action)))),r.push(...i.filter((e=>"edit"===e.name)).map((e=>createToolbarButton(e.name,e.action)))),l.name&&o.push(...this.serviceButtons),this.propertyListeners=this.bindingEngine.propertyObserver(a,"scale").subscribe((()=>this.updateToolbarState()))}this.toolbarToolsConfig={type:"main",sizing:"ellipsis",showMode:"both",items:[...n,...o,...r]},null!==(i=this.toolbarSystemConfig)&&void 0!==i||(this.toolbarSystemConfig={type:"panel",sizing:"fit-content",showMode:"icons",items:[{modelName:"button",model:{id:"close",icon:"svg:main@close",execute:()=>(this.cancel(),!0)}}]})}download(){var e;if(!this.image||!this.imageSource)return!1;const t=document.createElement("a");return t.style.display="none",t.download=null!==(e=this.imageSource.name)&&void 0!==e?e:"",t.href=this.image.url,document.body.append(t),t.click(),t.remove(),!0}print(){if(!this.image||!this.imageSource)return!1;const e=window.open("about:blank","_new");if(!e)return!1;const t=e.document;return t.open(),t.write(`\n\t\t\t<html><body onload="window.print()" onafterprint="window.close()">\n\t\t\t\t<img src="${this.image.url}"/>\n\t\t\t</body></html>`),t.close(),!0}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],d.prototype,"src",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Number)],d.prototype,"index",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],d.prototype,"visible",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],d.prototype,"close",void 0),i.__decorate([n.observable,i.__metadata("design:type",Object)],d.prototype,"collection",void 0),d=i.__decorate([n.autoinject,(0,n.customElement)("image-popup"),i.__metadata("design:paramtypes",[Element,n.BindingEngine])],d),t.ImagePopupCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},712:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}.apply(t,[i,t]),void 0===n||(e.exports=n)},7969:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMutableCollection=t.isImageCollection=t.isImageSource=t.isImageUrl=void 0,t.isImageUrl=function isImageUrl(e){return"string"==typeof e},t.isImageSource=function isImageSource(e){return"object"==typeof e&&"data"in e},t.isImageCollection=function isImageCollection(e){return"object"==typeof e&&"getCount"in e},t.isMutableCollection=function isMutableCollection(e){return"object"==typeof e&&"addMutationHandler"in e}}.apply(t,[i,t]),void 0===n||(e.exports=n)},224:(e,t,i)=>{var n,r;n=[i,t,i(655),i(712),i(7969)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.__exportStar(n,t),i.__exportStar(r,t)}.apply(t,n),void 0===r||(e.exports=r)},8843:(e,t,i)=>{var n,r;n=[i,t,i(655),i(1527),i(224),i(2594),i(630)],r=function(e,t,i,n,r,o,a){"use strict";function createSharedImageGetter(e){return new SharedImageGetter(e)}var l,d;Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=t.createAbsoluteUrl=t.Disposables=t.ResizeListener=t.IntersectionListener=t.MutationListener=t.convertToStyleAbsolutePixels=t.convertToStylePixels=t.createImageCollection=t.crateImageSource=t.ZoomFeature=t.getImageName=t.SharedImageGetterError=t.createUploadImageGetter=t.createSharedImageGetter=void 0,t.createSharedImageGetter=createSharedImageGetter,t.createUploadImageGetter=function createUploadImageGetter(e,t,i){return new UploadImageGetter(e,t,i)},function(e){e.InvalidMime="Invalid image type"}(l=t.SharedImageGetterError||(t.SharedImageGetterError={}));class BaseSharedImageGetter{constructor(e){this.url=e,this.requests=[]}createGetter(e){const getValue=()=>i.__awaiter(this,void 0,void 0,(function*(){this.addRequest(e);try{const t=yield this.getUrl();if(void 0===t)return;return{url:t,size:(null==e?void 0:e.size)?Object.assign({},e.size):void 0,scale:1}}finally{this.removeRequest(e)}}));return{get value(){return getValue()},cancel:()=>this.abort()}}abort(){this.promise=void 0}addRequest(e){e&&e.progressHandler&&-1===this.requests.indexOf(e)&&this.requests.push(e)}removeRequest(e){if(e){const t=this.requests.indexOf(e);-1!==t&&this.requests.splice(t,1)}}sendProgress(e){this.requests.forEach((t=>{var i;return!t.canceled&&(null===(i=t.progressHandler)||void 0===i?void 0:i.call(t,e,t))}))}}class SharedImageGetter extends BaseSharedImageGetter{abort(){var e;null===(e=this.loader)||void 0===e||e.abort(),super.abort()}getUrl(){var e;return null!==(e=this.promise)&&void 0!==e?e:this.promise=new Promise((e=>{const send=t=>{this.loader=void 0,e(t)},t=this.url;if(t.startsWith("blob:"))return send(t);const error=e=>{void 0===e?this.sendProgress(!1):this.sendProgress({message:e}),this.promise=void 0,send()},i=this.loader=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=e=>{if(!i)return;const t=i.getAllResponseHeaders().match(/^Content-Type\:\s*(.*?)$/im),n=(t&&t[1]||"image/png").toLowerCase();n.startsWith("image")?send(URL.createObjectURL(new Blob([i.response],{type:n}))):error(l.InvalidMime)},i.onprogress=e=>{e.lengthComputable&&this.sendProgress(e.loaded/e.total*100)},i.onloadstart=()=>this.sendProgress(0),i.onloadend=()=>this.loader&&this.sendProgress(1/0),i.onabort=i.ontimeout=i.onerror=()=>error(),i.send()}))}}class EndlessProgress{constructor(e){this.handler=e,this.position=0,this.interval=setInterval((()=>this.step()),1e3)}dispose(){void 0!==this.interval&&(clearInterval(this.interval),this.interval=void 0)}step(){const e=Math.max(0,90-this.position),t=Math.max(Number.EPSILON,1*e/10);this.position=Math.min(90,this.position+t),this.handler(this.position)}}class UploadImageGetter extends BaseSharedImageGetter{constructor(e,t,i){super(t),this.name=e,this.controller=i}createGetter(e){return Object.assign(super.createGetter(e),{preview:this.url,progressTitle:(0,o.Format)(o.Messages.UploadingImageMessage,getImageName(this.name))})}setController(e){this.controller=e}fullfil(e){var t,i;this.clearProgress();const n=e?this.url:void 0;null===(t=this.resolve)||void 0===t||t.call(this,n),null!==(i=this.promise)&&void 0!==i||(this.promise=Promise.resolve(n))}abort(){var e;null===(e=this.controller)||void 0===e||e.abort(),this.clearProgress(),super.abort()}getUrl(){var e;return null!==(e=this.promise)&&void 0!==e?e:this.promise=new Promise((e=>{this.progress=new EndlessProgress((e=>this.sendProgress(e))),this.resolve=e}))}clearProgress(){var e;null===(e=this.progress)||void 0===e||e.dispose(),this.progress=void 0}}function getImageName(e){if(!e)return"";let t=e.replace("\\","/");t=t.substring(t.lastIndexOf("/")+1);try{return decodeURIComponent(t)}catch(e){return t}}t.getImageName=getImageName,function(e){e.CommandName="zoom",e.InActionName="zoom-in",e.OutActionName="zoom-out",e.MinValue=1,e.Delta=.2,e.MaxValue=30,e.zoomImage=function zoomImage(t,i){var r;let o=null!==(r=t.scale)&&void 0!==r?r:1;return"number"==typeof i?o=i:"object"==typeof i&&i&&"number"==typeof i.delta&&(o+=i.delta),(0,n.mutable)(t).scale=Math.max(e.MinValue,Math.min(o,e.MaxValue)),!0}}(d=t.ZoomFeature||(t.ZoomFeature={}));class ImageSource{constructor(e){this.url=e,this.commands=[{name:d.CommandName,execute:(e,t)=>d.zoomImage(e,t),query:e=>({minValue:d.MinValue,maxValue:d.MaxValue,value:e.scale})}],this.actions=[{name:d.InActionName,query:e=>{var t;return{command:d.CommandName,args:{delta:d.Delta},icon:"svg:main@plus",disabled:(null!==(t=e.scale)&&void 0!==t?t:d.MinValue)===d.MaxValue}}},{name:d.OutActionName,query:e=>{var t;return{command:d.CommandName,args:{delta:-d.Delta},icon:"svg:main@minus",disabled:(null!==(t=e.scale)&&void 0!==t?t:d.MinValue)===d.MinValue}}}],this.name=getImageName(e)}get(e){var t;return null!==(t=this.getter)&&void 0!==t||(this.getter=createSharedImageGetter(this.url)),this.getter.createGetter(e)}getActions(){return this.actions.map((e=>e.name))}queryAction(e,t){var i;return null===(i=this.actions.find((t=>t.name===e)))||void 0===i?void 0:i.query(t)}getCommands(){return this.commands.map((e=>e.name))}queryCommand(e,t){var i;return null===(i=this.commands.find((t=>t.name===e)))||void 0===i?void 0:i.query(t)}executeCommand(e,t,i){var n,r;return null!==(r=null===(n=this.commands.find((t=>t.name===e)))||void 0===n?void 0:n.execute(t,i))&&void 0!==r&&r}}function crateImageSource(e){return new ImageSource(e)}t.crateImageSource=crateImageSource,t.createImageCollection=function createImageCollection(e){const t=Array.from(e).map((e=>new n.Lazy((()=>(0,r.isImageUrl)(e)?crateImageSource(e):e))));return{getCount(){return i.__awaiter(this,void 0,void 0,(function*(){return t.length}))},getAt(e){return i.__awaiter(this,void 0,void 0,(function*(){if(e>=0&&e<t.length)return t[e].get()}))},getRange(e,n){return i.__asyncGenerator(this,arguments,(function*getRange_1(){const r=Math.min(t.length,e+n);for(let n=Math.max(0,e);n<r;n++)yield yield i.__await(t[n].get())}))}}},t.convertToStylePixels=function convertToStylePixels(e){return"number"==typeof e?`${e}px`:"string"==typeof e?/^[\d\s\.]*$/.test(e.toLowerCase())?`${parseInt(e)}px`:e:void 0},t.convertToStyleAbsolutePixels=function convertToStyleAbsolutePixels(e){if("number"==typeof e)return`${e}px`;if("string"==typeof e){if(/^[\d\s\.]*$/.test(e.toLowerCase()))return`${parseInt(e)}px`;if(!/\%/.test(e))return e}};t.MutationListener=class MutationListener{constructor(e,t,i){this.element=e,this.observer=new MutationObserver(t),this.observer.observe(this.element,i)}dispose(){this.observer.disconnect()}};t.IntersectionListener=class IntersectionListener{constructor(e,t,i){this.container=e,this.targets=t,this.observer=new IntersectionObserver(i,{root:e,threshold:0}),t.forEach((e=>this.observer.observe(e)))}dispose(){this.targets.forEach((e=>this.observer.unobserve(e)))}};t.ResizeListener=class ResizeListener{constructor(e,t){this.element=e;let i=0;this.observer=new ResizeObserver((e=>{try{if(0==i++){const i=e&&e.length?e[0]:void 0;if(i){const{width:e,height:n}=i.contentRect;t(e,n)}}}finally{i--}})),this.observer.observe(this.element)}dispose(){var e;null===(e=this.observer)||void 0===e||e.unobserve(this.element)}};t.Disposables=class Disposables{constructor(e){this.items=[],e&&this.append(...e)}append(...e){this.items.push(...e.filter((e=>!!e)))}dispose(){this.items.forEach((e=>e.dispose())),this.items.length=0}},t.createAbsoluteUrl=function createAbsoluteUrl(e){return e?e.startsWith("/")&&a.siteRoot&&!e.startsWith(a.siteRoot)?a.siteRoot+e.substring(1):e:""},t.clamp=function clamp(e,t,i){return Math.max(e,Math.min(t,i))}}.apply(t,n),void 0===r||(e.exports=r)},8700:(e,t,i)=>{var n,r;n=[i,t,i(6641)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomPanController=void 0;class Transformations{constructor(e,t,i,n,r){this.originX=e,this.originY=t,this.translateX=i,this.translateY=n,this.scale=r}transform(){return this.scale>1?`matrix(${this.scale.toFixed(1)}, 0, 0, ${this.scale.toFixed(1)}, ${this.translateX.toFixed(1)}, ${this.translateY.toFixed(1)})`:""}transformOrigin(){return this.scale>1?`${this.originX.toFixed(10)}px ${this.originY.toFixed(10)}px`:""}shift(e,t){return 1===this.scale?this:new Transformations(this.originX,this.originY,this.translateX+e,this.translateY+t,this.scale)}zoom(e,t,i){if(1===(e=Math.max(1,Math.min(e,Infinity))))return new Transformations(0,0,0,0,1);const n=this.originX*this.scale,r=this.originY*this.scale;if(Math.abs(t-n)<=1&&Math.abs(i-r)<=1)return new Transformations(this.originX,this.originY,this.translateX,this.translateY,e);const o=t/this.scale,a=i/this.scale,l=this.translateX+(t-n)*(1-1/this.scale),d=this.translateY+(i-r)*(1-1/this.scale);return new Transformations(o,a,l,d,e)}}t.ZoomPanController=class ZoomPanController{constructor(e,t){this.element=e,this.handler=t,this.current=new Transformations(0,0,0,0,1),this.eventManager=new i.EventManager,["wheel","mousedown","mouseup","mousemove"].forEach((e=>this.eventManager.on(this.element,e,this[e].bind(this))))}dispose(){this.handler=void 0,this.eventManager.dispose(),this.applyTransformations(new Transformations(0,0,0,0,1))}get zoom(){return this.current.scale}setZoom(e){if(this.current.scale!==e){let{originX:t,originY:i}=this.current;if(1===this.current.scale&&0===t&&0===i){const e=this.element.getBoundingClientRect();t=e.width/2,i=e.height/2}else t*=this.current.scale,i*=this.current.scale;this.applyTransformations(this.current.zoom(e,t,i))}}shift(e,t){this.applyTransformations(this.current.shift(e,t))}reset(){this.setZoom(1)}applyTransformations(e){var t;const i=this.element.style,n=e.transformOrigin();i.setProperty("transform-origin",n);const r=e.transform();i.setProperty("transform",r),this.current=e,null===(t=this.handler)||void 0===t||t.call(this,this.current.scale)}wheel(e){if(!(0!==e.buttons||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){e.preventDefault();const t=-e.deltaY/1e3,{top:i,left:n}=this.element.getBoundingClientRect();this.applyTransformations(this.current.zoom(this.current.scale+t,e.pageX-n,e.pageY-i))}}catchEvent(e){return!(1!==e.buttons||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)}mousedown(e){this.catchEvent(e)?this.panning=[e.pageX,e.pageY]:this.panning=void 0}mouseup(e){this.panning=void 0}mousemove(e){if(this.panning)if(this.catchEvent(e)){const t=this.panning;this.panning=[e.pageX,e.pageY],this.shift(this.panning[0]-t[0],this.panning[1]-t[1])}else this.panning=void 0}}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/image/components/view/image-view":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1527),i(224),i(8843),i(8700),i(2594)],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomCustomAttribute=t.ImageViewCustomElement=void 0;let c=class ImageViewCustomElement{constructor(e){this.element=e,this.objectFit="scale-down",this.objectPosition="unset",this.allowZoom=!1,this.progress=-1,this.loadFinished=!1,this.canceled=!1}bind(){}attached(){this.srcChanged()}reset(){this.image=void 0,this.request&&((0,r.mutable)(this.request).canceled=!0,this.request=void 0),this.getter=void 0,this.preview=void 0,this.progressTitle=void 0,this.progress=-1,this.canceled=!1,this.loadFinished=!1,this.errorOnLoad=void 0}reload(){this.reset(),this.receiveImage()}srcChanged(){this.reset(),(0,o.isImageUrl)(this.src)?this.source=(0,a.crateImageSource)(this.src):this.source=this.src,this.receiveImage()}receiveImage(){var e;return i.__awaiter(this,void 0,void 0,(function*(){if(this.image||!this.source)return;this.progress=0,this.request={size:this.getImageRuntimeSize(),progressHandler:(e,t)=>this.setProgress(e,t)};const t=this.source,i=this.getter=t.get(this.request);this.progressTitle=i.progressTitle,this.preview=i.preview;const n=yield i.value;i===this.getter&&(this.image=n,this.preview=void 0,this.progressTitle=void 0,n&&(null===(e=this.loaded)||void 0===e||e.call(this,{source:t,image:n})))}))}updateZoom(){var e,t;if(this.allowZoom&&this.source&&this.image){const i=null===(t=(e=this.source).queryCommand)||void 0===t?void 0:t.call(e,a.ZoomFeature.CommandName,this.image);(null==i?void 0:i.disabled)?this.zoomApplied=!1:!1===this.zoomApplied&&(this.zoomApplied=1)}else this.zoomApplied=!1}imageChanged(){this.updateZoom()}allowZoomChanged(){this.updateZoom()}get zoomApplied(){var e,t;return!!this.allowZoom&&(null!==(t=null===(e=this.image)||void 0===e?void 0:e.scale)&&void 0!==t?t:1)}set zoomApplied(e){var t,i;"number"==typeof e&&!isNaN(e)&&this.image&&(null===(i=null===(t=this.source)||void 0===t?void 0:t.executeCommand)||void 0===i||i.call(t,a.ZoomFeature.CommandName,this.image,e))}setProgress(e,t){this.request===t&&(!1===e?this.loadingCanceled():"object"==typeof e?(e&&(this.errorOnLoad=e.message),this.loadingCanceled(),this.errorHappened()):"number"==typeof e&&(this.canceled=!1,this.progress=e))}setLoaded(){this.loadFinished=!0}errorHappened(){var e;this.loadFinished=!0,this.source&&(null===(e=this.error)||void 0===e||e.call(this,{source:this.source}))}loadingCanceled(){this.canceled=!0,this.progress=-1}cancelLoading(){var e,t;null===(e=this.getter)||void 0===e||e.cancel(),this.loadingCanceled(),this.source&&(null===(t=this.cancel)||void 0===t||t.call(this,{source:this.source}))}mouseDown(e){1===e.buttons?this.touchPoint=new TouchPoint(e):this.touchPoint=void 0}mouseLeave(e){this.touchPoint=void 0}mouseMove(e){var t;1===e.buttons&&(null===(t=this.touchPoint)||void 0===t?void 0:t.sameAction(e))||(this.touchPoint=void 0)}mouseUp(e){0===e.buttons&&(this.touchPoint&&this.callClick(e),this.touchPoint=void 0)}callClick(e){try{if(e.ctrlKey&&e.shiftKey)return void this.reload();if(this.click&&this.loadFinished&&this.image&&this.source&&!(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey))return void this.click({source:this.source,image:this.image})}finally{e.stopImmediatePropagation(),e.preventDefault()}}getImageRuntimeSize(){var e;const t=(null!==(e=this.viewFrame)&&void 0!==e?e:this.element).getBoundingClientRect();return{width:t&&Math.round(t.width)||void 0,height:t&&Math.round(t.height)||void 0}}get styles(){let e="";const t=(0,a.convertToStylePixels)(this.width);void 0!==t&&(e+=`width: ${t};`);const i=(0,a.convertToStylePixels)(this.height);return void 0!==i&&(e+=`height: ${i};`),e}get downloadingMessage(){var e;if(null===(e=this.source)||void 0===e?void 0:e.name){const e=this.progressTitle;return void 0===e?(0,d.Format)(d.Messages.DownloadingImageMessage,this.source.name):e}return""}get reloadMessage(){var e;return(null===(e=this.source)||void 0===e?void 0:e.name)?this.errorOnLoad?(0,d.Format)(d.Messages.LoadErrorImageMessage,this.source.name):(0,d.Format)(d.Messages.ReloadImageMessage,this.source.name):""}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],c.prototype,"src",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],c.prototype,"width",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],c.prototype,"height",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],c.prototype,"objectFit",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],c.prototype,"objectPosition",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],c.prototype,"allowZoom",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],c.prototype,"click",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],c.prototype,"error",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],c.prototype,"cancel",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],c.prototype,"loaded",void 0),i.__decorate([n.observable,i.__metadata("design:type",Object)],c.prototype,"image",void 0),i.__decorate([(0,n.computedFrom)("image","image.scale","allowZoom"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[Object])],c.prototype,"zoomApplied",null),i.__decorate([(0,n.computedFrom)("width","height","getter","loadFinished","canceled"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],c.prototype,"styles",null),i.__decorate([(0,n.computedFrom)("source","source.name","progressTitle"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],c.prototype,"downloadingMessage",null),i.__decorate([(0,n.computedFrom)("source","getter","source.name","errorOnLoad"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],c.prototype,"reloadMessage",null),c=i.__decorate([n.autoinject,(0,n.customElement)("image-view"),i.__metadata("design:paramtypes",[Element])],c),t.ImageViewCustomElement=c;class TouchPoint{constructor(e){this.pageX=e.pageX,this.pageY=e.pageY,this.timestamp=e.timeStamp}sameAction(e){if(e.timeStamp-this.timestamp<20)return!0;return Math.abs(this.pageX-e.pageX)<10&&Math.abs(this.pageY-e.pageY)<10}}let p=class ZoomCustomAttribute{constructor(e){this.element=e,this.isAttached=!1}attached(){this.isAttached=!0,this.valueChanged()}detached(){this.detachController(),this.isAttached=!1}detachController(){var e;null===(e=this.controller)||void 0===e||e.dispose(),this.controller=void 0}valueChanged(){var e;this.isAttached&&!1!==this.value&&!isNaN(this.value)?(null!==(e=this.controller)&&void 0!==e||(this.controller=new l.ZoomPanController(this.element,(e=>this.value=e))),this.controller.setZoom(this.value)):this.detachController()}};p=i.__decorate([n.autoinject,(0,n.customAttribute)("zoom",n.bindingMode.twoWay),i.__metadata("design:paramtypes",[Element])],p),t.ZoomCustomAttribute=p}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/image/components/view/load-progress":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework")],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadProgressCustomElement=void 0;let r=class LoadProgressCustomElement{constructor(){this.progress=0,this.radius=17,this.fullPathLength=Math.PI*this.radius*2,this.maxProgressValue=100,this.startProgressBias=5,this.endProgressBias=2}bind(){}attached(){this.progressChanged()}detached(){this.stopRotating()}startRotating(){var e;null!==(e=this.spinner)&&void 0!==e||(this.spinner=o.createSpinner())}stopRotating(){var e;null===(e=this.spinner)||void 0===e||e.dispose(),this.spinner=void 0}progressChanged(){this.progress>=this.maxProgressValue?this.stopRotating():this.progress+this.startProgressBias>0&&this.startRotating()}triggerClick(e){if(this.cancel){e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||this.cancel({}),e.stopImmediatePropagation(),e.preventDefault()}}get progressValue(){return this.fullPathLength*(this.maxProgressValue-Math.min(this.maxProgressValue-this.endProgressBias,Math.max(this.startProgressBias,this.progress)))/this.maxProgressValue}};var o;i.__decorate([n.bindable,i.__metadata("design:type",Number)],r.prototype,"progress",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],r.prototype,"cancel",void 0),i.__decorate([(0,n.computedFrom)("progress"),i.__metadata("design:type",Number),i.__metadata("design:paramtypes",[])],r.prototype,"progressValue",null),r=i.__decorate([n.autoinject,(0,n.customElement)("load-progress")],r),t.LoadProgressCustomElement=r,function(e){e.ProgressStartingAngle=316;let t=e.ProgressStartingAngle;const i=[];class Spinner{constructor(){this.angle=t,this.disposed=!1,i.push(this),function startRotating(){0==l++&&(t=e.ProgressStartingAngle,a=window.setInterval((()=>function rotateValue(){t=(t+o)%n,i.forEach((e=>!e.disposed&&(e.angle=t)))}()),r))}()}dispose(){if(!this.disposed){this.disposed=!0,function stopRotating(){0==--l&&(window.clearInterval(a),a=void 0)}();const e=i.indexOf(this);-1!==e&&i.splice(e,1)}}}e.createSpinner=function createSpinner(){return new Spinner};const n=360,r=25,o=n/4e3*r;let a,l=0}(o||(o={}))}.apply(t,n),void 0===r||(e.exports=r)},8625:(e,t,i)=>{var n,r;n=[i,t,i("client-controls/controls/simple/image/view/qp-image-view"),i("client-controls/controls/simple/image/upload/qp-image-uploader")],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpImageUploaderCustomElement=t.QpImageViewCustomElement=void 0,Object.defineProperty(t,"QpImageViewCustomElement",{enumerable:!0,get:function(){return i.QpImageViewCustomElement}}),Object.defineProperty(t,"QpImageUploaderCustomElement",{enumerable:!0,get:function(){return n.QpImageUploaderCustomElement}})}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/image/upload/qp-image-uploader":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-event-aggregator"),i("aurelia-framework"),i(7699),i(2594),i(7678),i(2172),i(829),i(9473),i(7140),i(630)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpImageUploaderCustomElement=void 0;let g=class QpImageUploaderCustomElement extends c.QpBaseFieldEditor{constructor(e,t,i){super(i),this.element=e,this.screenService=t,this.width="100px",this.height="100px",this.config={},this.index=-1,this.collectionSize=1/0,this.isAttached=!1,this.popupVisible=!1,this.popupIndex=-1,this.acceptList=[],this.Messages=a.Messages}bind(){const updateImages=()=>i.__awaiter(this,void 0,void 0,(function*(){var e;null!==(e=this.screen)&&void 0!==e||(this.screen=this.screenService.model),yield this.reloadImages()}));this.listeners=new p.Disposables([this.eventAggregator.subscribe("screen-initialized",updateImages),this.eventAggregator.subscribe("screen-updated",updateImages)])}unbind(){var e;null===(e=this.listeners)||void 0===e||e.dispose(),this.listeners=void 0}attached(){super.attached(),this.isAttached=!0,this.configChanged()}detached(){super.detached(),this.isAttached=!1,this.detachCollection()}assignCollection(e){var t,n;this.collection!==e&&(this.index=-1,null===(t=this.collection)||void 0===t||t.dispose(),null===(n=this.mutationHandler)||void 0===n||n.dispose(),this.mutationHandler=void 0,this.collection=e,(0,p.isMutableCollection)(this.collection)&&(this.mutationHandler=this.collection.addMutationHandler((e=>i.__awaiter(this,void 0,void 0,(function*(){var t,i;let n=!1;for(const t of e){if(t.itemIndex===this.index)return void(t.item?this.setValue(t.item.value):this.updateValueByIndex(this.index));"added"===t.name&&t.item&&-1===this.index&&this.value&&AttachedImageSource.getMatcher(this.value)(t.item)&&(void 0!==t.itemIndex?this.index=t.itemIndex:yield this.valueChanged()),n=!0}n&&(this.collectionSize=null!==(i=yield null===(t=this.collection)||void 0===t?void 0:t.getCount())&&void 0!==i?i:1/0)}))))))}detachCollection(){this.collectionId=void 0,this.assignCollection(void 0)}configChanged(){var e,t,n;return i.__awaiter(this,void 0,void 0,(function*(){null!==(e=this.config)&&void 0!==e||(this.config={}),this.config.id||(this.config.id=`ed${null!==(n=null===(t=this.state)||void 0===t?void 0:t.name)&&void 0!==n?n:"Image"}Uploader`),this.config.editDialog=!1,"string"==typeof this.config.viewName&&this.config.viewName!==this.viewName&&(this.viewName=this.config.viewName,this.detachCollection());const i=(0,l.createAcceptList)(this.config.acceptFiles||".gif,.ico,.jpg,.png,.svg");(0,l.joinAcceptList)(i)!==(0,l.joinAcceptList)(this.acceptList)&&(this.acceptList=i,this.detachCollection()),yield this.reloadImages()}))}updateValueByIndex(e){return i.__awaiter(this,void 0,void 0,(function*(){if(this.index=e,this.collection){const t=yield this.collection.getValueByIndex(e);e===this.index&&this.setValue(t)}}))}setValue(e){(this.value||e)&&(this.value=e)}valueChanged(){return i.__awaiter(this,void 0,void 0,(function*(){yield this.reloadImages()}))}updateRecord(e,t){var i,n;if(!this.operable)return void this.assignCollection(void 0);const r=null!==(i=this.viewName)&&void 0!==i?i:null===(n=e.graphInfo)||void 0===n?void 0:n.primaryView;if(t.name!==r)return void this.assignCollection(void 0);const o=t.id;if(!o&&!this.collectionId)return void this.assignCollection(void 0);new AttachedImageCollectionRequest(e.screenID,"",r,null!=o?o:"",t.getRecordIdByKeys(),this.acceptList).id!==this.collectionId&&(this.assignCollection(void 0),this.reloadImages())}reloadImages(){var e,t,n,r;return i.__awaiter(this,void 0,void 0,(function*(){if(!this.operable)return;const i=this.screen;if(!i)return;const o=null!==(e=this.viewName)&&void 0!==e?e:null===(t=i.graphInfo)||void 0===t?void 0:t.primaryView,a=this.screen[o];if(!a)return;(null===(n=this.recordSelectedHandler)||void 0===n?void 0:n.viewName)!==o&&(null===(r=this.recordSelectedHandler)||void 0===r||r.dispose(),this.recordSelectedHandler=Object.assign({viewName:o},a.subscribeRowSelectedHandler(i,((e,t)=>this.updateRecord(e,t)))));const l=a.id;if(!l)return;const d=new AttachedImageCollectionRequest(i.screenID,"",o,l,a.getRecordIdByKeys(),this.acceptList,this.lazyLoading);let c;if(d.id!==this.collectionId){c=AttachedImageCollectionSet.get(d),this.recordId=l,this.collectionId=d.id,this.assignCollection(c);const e=yield c.getCount();if(c!==this.collection)return;this.collectionSize=e}else c=this.collection;if(!c)return;const p=this.value,u=yield c.getIndexByValue(p);p===this.value&&c===this.collection&&(this.index=u)}))}createUploaderConfig(e){var t,i,n,r,o,a,l,d,c,p;const h=null!==(r=null!==(t=this.viewName)&&void 0!==t?t:null===(n=null===(i=this.screen)||void 0===i?void 0:i.graphInfo)||void 0===n?void 0:n.primaryView)&&void 0!==r?r:"",g=null!==(a=null===(o=this.screen)||void 0===o?void 0:o.screenID)&&void 0!==a?a:(0,u.getScreenID)(),m=null!==(c=null===(d=null===(l=this.screen)||void 0===l?void 0:l.graphInfo)||void 0===d?void 0:d.graphType)&&void 0!==c?c:"",f=this.recordId,v=this.acceptList.join(",");return{id:`${null!==(p=this.config.id)&&void 0!==p?p:""}_upload${e?"_clickable":""}`,accept:v,graph:m,screenId:g,view:h,recordId:f,disabled:!(f&&m&&h&&g&&!1!==this.config.enabled),disableClick:!e}}filesDropped(e){var t;return i.__awaiter(this,void 0,void 0,(function*(){if(this.readOnly)return;const i=this.collection;if(!i)return;if(0===e.detail.blobs.length)return;if(!(0,p.getImageName)(e.detail.blobs[0].name))return;const[n,r]=null!==(t=yield i.preloadFilesGetFirst(e.detail.blobs))&&void 0!==t?t:[-1,""];-1!==n&&(this.value=r)}))}showPreview(){this.popupIndex=this.index,this.popupVisible=!0}popupClosed(e){e&&!this.readOnly&&this.updateValueByIndex(this.popupIndex)}imageSelected(e,t){this.updateValueByIndex(t)}internalUploaderClick(){if(!1===this.config.editDialog)return!0;this.editTrigger()}editTrigger(){}clearTrigger(){this.readOnly||this.allowNull&&(this.value=null)}get operable(){return this.isAttached&&this.visible&&!!this.screen}get lazyLoading(){return!this.viewOnly&&(!1!==this.config.lazyLoading&&!1===this.config.showArrows)}get showArrows(){return!1!==this.config.showArrows}get visible(){return!this.config.hidden}get enabled(){return!1!==this.config.enabled}get readOnly(){return!!this.config.readOnly||!1===this.config.enabled}get allowNull(){return this.state&&!1!==this.config.allowNull}get viewOnly(){return!this.state}get showFeed(){return!(this.collectionSize<=1||!1===this.config.showFeed)&&(!!this.viewOnly||!this.readOnly&&!!this.config.showFeed)}get dropDownUploaderConfig(){return this.createUploaderConfig(!1)}get clickableUploaderConfig(){return this.createUploaderConfig(!1===this.config.editDialog)}get sizeStyles(){var e,t;let i="";const n=(0,p.convertToStylePixels)(null!==(e=this.config.width)&&void 0!==e?e:this.width);void 0!==n&&(i+=`width: ${n};`);const r=(0,p.convertToStylePixels)(null!==(t=this.config.height)&&void 0!==t?t:this.height);return void 0!==r&&(i+=`height: ${r};`),i}};i.__decorate([r.bindable,i.__metadata("design:type",Object)],g.prototype,"width",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],g.prototype,"height",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],g.prototype,"config",void 0),i.__decorate([r.bindable,i.__metadata("design:type",String)],g.prototype,"viewName",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],g.prototype,"value",void 0),i.__decorate([(0,r.computedFrom)("config","config.showArrows"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],g.prototype,"showArrows",null),i.__decorate([(0,r.computedFrom)("config","config.hidden"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],g.prototype,"visible",null),i.__decorate([(0,r.computedFrom)("config","config.enabled"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],g.prototype,"enabled",null),i.__decorate([(0,r.computedFrom)("config","config.readOnly","config.enabled"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],g.prototype,"readOnly",null),i.__decorate([(0,r.computedFrom)("config","config.allowNull","state"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],g.prototype,"allowNull",null),i.__decorate([(0,r.computedFrom)("state"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],g.prototype,"viewOnly",null),i.__decorate([(0,r.computedFrom)("state","config","config.showFeed","config.readOnly","config.enabled","collectionSize"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],g.prototype,"showFeed",null),i.__decorate([(0,r.computedFrom)("config","screen","config.id","config.enabled","acceptList","recordId","viewName"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],g.prototype,"dropDownUploaderConfig",null),i.__decorate([(0,r.computedFrom)("config","screen","config.id","config.enabled","acceptList","recordId","viewName"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],g.prototype,"clickableUploaderConfig",null),i.__decorate([(0,r.computedFrom)("width","height","config","config.width","config.height"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],g.prototype,"sizeStyles",null),g=i.__decorate([o.autoinject,(0,r.customElement)("qp-image-uploader"),i.__metadata("design:paramtypes",[Element,a.ScreenService,r.Container])],g),t.QpImageUploaderCustomElement=g;class AttachedImageSource{constructor(e,t,i){this.imageData=e,this.owner=t,this.getter=i,this.commands=[{name:p.ZoomFeature.CommandName,execute:(e,t)=>p.ZoomFeature.zoomImage(e,t),query:e=>({disabled:void 0===this.name,minValue:p.ZoomFeature.MinValue,maxValue:p.ZoomFeature.MaxValue,value:e.scale})},{name:AttachedImageSource.EditCommand,execute:(e,t)=>(this.owner.openUrl(this.imageData),!0),query:e=>({disabled:void 0===this.name})}],this.actions=[{name:p.ZoomFeature.InActionName,query:e=>{var t;return{command:p.ZoomFeature.CommandName,args:{delta:p.ZoomFeature.Delta},icon:"svg:main@plus",disabled:(null!==(t=e.scale)&&void 0!==t?t:p.ZoomFeature.MinValue)===p.ZoomFeature.MaxValue}}},{name:p.ZoomFeature.OutActionName,query:e=>{var t;return{command:p.ZoomFeature.CommandName,args:{delta:-p.ZoomFeature.Delta},icon:"svg:main@minus",disabled:(null!==(t=e.scale)&&void 0!==t?t:p.ZoomFeature.MinValue)===p.ZoomFeature.MinValue}}},{name:AttachedImageSource.EditAction,query:e=>({command:AttachedImageSource.EditCommand,icon:"svg:main@pencil",label:a.Messages.EditImageActionTitle})}],this.name=(0,p.getImageName)(e.fullName)}static getMatcher(e){return t=>{const clear=e=>(0,p.getImageName)(e).toLowerCase(),i=clear(e),n=clear(t.value);return!!i&&!!n&&i===n}}static composeAttachmentUrl(e){if(!h.siteRoot||-1!==e.indexOf("://"))return e;return`${t=h.siteRoot,t.endsWith("/")?t:`${t}/`}Frames/GetFile.ashx?cache=yes&file=${e}`;var t}get value(){return this.imageData.fullName}updateData(e){const t=this.imageData;return(t.id!==e.id||t.fullName!==e.fullName||t.imageUrl!==e.imageUrl||t.editUrl!==e.editUrl)&&(this.imageData=Object.assign({},e),!0)}get(e){return this.getter.createGetter(e)}getActions(){return this.actions.map((e=>e.name))}queryAction(e,t){var i;return null===(i=this.actions.find((t=>t.name===e)))||void 0===i?void 0:i.query(t)}getCommands(){return this.commands.map((e=>e.name))}queryCommand(e,t){var i;return null===(i=this.commands.find((t=>t.name===e)))||void 0===i?void 0:i.query(t)}executeCommand(e,t,i){var n,r;return null!==(r=null===(n=this.commands.find((t=>t.name===e)))||void 0===n?void 0:n.execute(t,i))&&void 0!==r&&r}}AttachedImageSource.EditCommand="edit",AttachedImageSource.EditAction="edit";class AttachedImageCollectionRequest{constructor(e,t,i,n,r,o,a=!1){this.screenID=e,this.screenTitle=t,this.viewName=i,this.recordId=n,this.keyValues=r,this.acceptList=o,this.lazy=a,this.id=`${e},${i},${n},[${(0,l.joinAcceptList)(o)}]`}}class AttachedImageCollectionSet{static get(e){const t=e.id;let i=this.map.get(t);return void 0===i&&(i=new AttachedImageCollection(e),this.map.set(t,i)),i.acquire()}static release(e){const t=e.request.id;e===this.map.get(t)&&this.map.delete(t)}}AttachedImageCollectionSet.map=new Map;class AttachedImageCollection{constructor(e){this.request=e,this.subscribers=new n.EventAggregator,this.attachedImages=[],this.uploadingFilesMap=new Map,this.refCount=0,this.fileApiClient=r.Container.instance.get(l.FilesDialogApiClient);const t=r.Container.instance.get(n.EventAggregator);this.listeners=new p.Disposables([t.subscribe(l.PXScreenFileUploadEventName.Uploading,(e=>this.uploadingStarted(e))),t.subscribe(l.PXScreenFileUploadEventName.Uploaded,(e=>this.filesUploaded(e))),t.subscribe(l.PXScreenFileUploadEventName.Failed,(e=>this.filesUploadingFailed(e)))])}acquire(){return++this.refCount,this}release(){0==--this.refCount&&(AttachedImageCollectionSet.release(this),this.listeners.dispose())}dispose(){this.release()}reload(){return i.__awaiter(this,void 0,void 0,(function*(){yield this.fetchCollection(!0)}))}createFullName(e){const t=(0,p.getImageName)(e.name);return`${this.request.screenTitle||""} (${this.request.keyValues})\\${t}`}updateUploadingProcess(e,t){const i=e.filter((e=>!!e&&"object"==typeof e&&(0,l.acceptFile)(e,this.request.acceptList))).map((e=>({fullName:this.createFullName(e),file:e}))).filter((e=>!!e.fullName));if(i.forEach((e=>{const i=this.uploadingFilesMap.get(e.fullName);i&&(void 0!==t.succeeded?(this.uploadingFilesMap.delete(e.fullName),i.fullfil(t.succeeded)):void 0!==t.controller&&i.setController(t.controller))})),!1===t.succeeded){const e=i.map((e=>this.attachedImages.find(AttachedImageSource.getMatcher(e.fullName)))).filter((e=>!!e));e.forEach((e=>{const t=this.attachedImages.indexOf(e);-1!==t&&this.attachedImages.splice(t,1)})),this.publishMutations(...e.map((e=>({name:"removed",item:e}))))}}preloadFilesGetFirst(e){return i.__awaiter(this,void 0,void 0,(function*(){if(0===e.length)return;const matchProc=e=>t=>t.value.toLowerCase()===e.toLowerCase(),t=e.filter((e=>!!e&&"object"==typeof e&&(0,l.acceptFile)(e,this.request.acceptList))).map((e=>({fullName:this.createFullName(e),file:e}))).filter((e=>!!e.fullName)),i=t.filter((e=>!this.attachedImages.some(matchProc(e.fullName)))).map((e=>this.createUploadImageSource({fullName:e.fullName,imageUrl:URL.createObjectURL(e.file)})));i.length>0&&(this.attachedImages.push(...i),this.publishMutations(...i.map((e=>({name:"added",item:e})))));for(const e of t){const t=this.attachedImages.findIndex(matchProc(e.fullName));if(-1!==t)return[t,this.attachedImages[t].value]}}))}openUrl(e){return i.__awaiter(this,void 0,void 0,(function*(){var t,i;(e.editUrl||(yield this.reload(),e.editUrl))&&(t=e.editUrl,null===(i=r.Container.instance.get(d.RedirectHelper))||void 0===i||i.openUrl(t,"",!1,!0))}))}getCount(){return i.__awaiter(this,void 0,void 0,(function*(){return this.request.lazy&&!this.fetching?1/0:(yield this.ensureLoaded()).length}))}getRange(e,t){return i.__asyncGenerator(this,arguments,(function*getRange_1(){const n=yield i.__await(this.ensureLoaded(e,t)),r=Math.min(n.length,e+t);for(let t=Math.max(0,e);t<r;t++)yield yield i.__await(n[t])}))}getAt(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=yield this.ensureLoaded(e,1);if(e<t.length)return t[e]}))}getIndexByValue(e){return i.__awaiter(this,void 0,void 0,(function*(){if(!e)return-1;if(e="string"==typeof e?e.toLowerCase():void 0,this.request.lazy&&!this.fetching){let t=this.attachedImages.findIndex(AttachedImageSource.getMatcher(e));if(-1===t){const i=this.createImageSource({fullName:e,imageUrl:AttachedImageSource.composeAttachmentUrl(e)});t=this.attachedImages.push(i)-1,this.publishMutations({name:"added",item:i})}return t}return(yield this.ensureLoaded()).findIndex(AttachedImageSource.getMatcher(e))}))}getValueByIndex(e){return i.__awaiter(this,void 0,void 0,(function*(){if(e<0)return;const t=yield this.ensureLoaded(e,1);return e>=t.length?void 0:t[e].value}))}addMutationHandler(e){return this.subscribers.subscribe("event",e)}publishMutations(...e){const index=e=>"removed"===e.name?-1:this.attachedImages.indexOf(e.item),t=e.map((e=>Object.assign(Object.assign({},e),{itemIndex:index(e)})));this.subscribers.publish("event",t)}createImageSource(e){return new AttachedImageSource(e,this,(0,p.createSharedImageGetter)((0,p.createAbsoluteUrl)(e.imageUrl)))}createUploadImageSource(e,t){const i=(0,p.createUploadImageGetter)(e.fullName,e.imageUrl,t);return this.uploadingFilesMap.set(e.fullName,i),new AttachedImageSource(e,this,i)}fetchCollection(e=!1){var t;const fetch=()=>i.__awaiter(this,void 0,void 0,(function*(){var e;const t=null!==(e=yield this.fileApiClient.getAttachedImages(this.request.screenID,this.request.recordId,(0,l.joinAcceptList)(this.request.acceptList)))&&void 0!==e?e:[],i=[],addMutation=(e,t)=>i.push({name:e,item:t}),n=this.attachedImages.map((e=>[e,!1]));for(const e of t){const t=n.find((t=>AttachedImageSource.getMatcher(e.fullName)(t[0])));if(t)t[1]=!0,t[0].updateData(e)&&addMutation("changed",t[0]);else{const t=this.createImageSource(e);this.attachedImages.push(t),addMutation("added",t)}}n.forEach((e=>{if(!e[1]){const t=this.attachedImages.indexOf(e[0]);-1!==t&&(this.attachedImages.splice(t,1),addMutation("removed",e[0]))}})),this.publishMutations(...i)}));return this.fetching=e?fetch():null!==(t=this.fetching)&&void 0!==t?t:fetch()}ensureLoaded(e=0,t=1/0){return i.__awaiter(this,void 0,void 0,(function*(){return e+t>this.attachedImages.length&&(yield this.fetchCollection()),this.attachedImages}))}createRequestFromEvent(e){var t;return new AttachedImageCollectionRequest(e.screenId,this.request.screenTitle,e.viewName,null!==(t=e.recordId)&&void 0!==t?t:"",this.request.keyValues,this.request.acceptList)}uploadingStarted(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=this.createRequestFromEvent(e);this.request.id===t.id&&(yield this.preloadFilesGetFirst(e.files),e.abortController&&this.updateUploadingProcess(e.files,{controller:e.abortController}))}))}handleUploadingResult(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const i=this.createRequestFromEvent(e);this.request.id===i.id&&(this.updateUploadingProcess(e.files,{succeeded:t}),yield this.reload())}))}filesUploaded(e){return i.__awaiter(this,void 0,void 0,(function*(){yield this.handleUploadingResult(e,!0)}))}filesUploadingFailed(e){return i.__awaiter(this,void 0,void 0,(function*(){yield this.handleUploadingResult(e,!1)}))}}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/image/view/qp-image-view":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(829),i(9473),i(2594)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpImageViewCustomElement=void 0;let l=class QpImageViewCustomElement extends r.QpBaseFieldEditor{constructor(){super(...arguments),this.width="100px",this.height="100px",this.config={},this.popupVisible=!1,this.Messages=a.Messages}imageClick(){this.popupVisible=!0}configChanged(){var e,t,i;null!==(e=this.config)&&void 0!==e||(this.config={}),this.config.id||(this.config.id=`ed${null!==(i=null===(t=this.state)||void 0===t?void 0:t.name)&&void 0!==i?i:"Image"}Viewer`)}valueChanged(){const e="string"==typeof this.value?this.value:void 0;this.imageUrl=e?(0,o.createAbsoluteUrl)(e):void 0}get visible(){return!this.config||!0!==this.config.hidden}get sizeStyles(){var e,t;let i="";const n=(0,o.convertToStylePixels)(null!==(e=this.config.width)&&void 0!==e?e:this.width);void 0!==n&&(i+=`width: ${n};`);const r=(0,o.convertToStylePixels)(null!==(t=this.config.height)&&void 0!==t?t:this.height);return void 0!==r&&(i+=`height: ${r};`),i}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"value",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"width",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"height",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"config",void 0),i.__decorate([(0,n.computedFrom)("config.hidden"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],l.prototype,"visible",null),i.__decorate([(0,n.computedFrom)("width","height","config","config.width","config.height"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],l.prototype,"sizeStyles",null),l=i.__decorate([n.autoinject,(0,n.customElement)("qp-image-view")],l),t.QpImageViewCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},1189:(e,t,i)=>{var n,r;n=[i,t,i(655),i("client-controls/controls/simple/branch-selector/qp-branch-selector-3d"),i("client-controls/controls/simple/button/qp-button"),i("client-controls/controls/simple/calendar/qp-calendar"),i("client-controls/controls/simple/check-box/qp-check-box"),i("client-controls/controls/simple/radio/qp-radio"),i("client-controls/controls/simple/color-picker/qp-color-picker"),i("client-controls/controls/simple/color-picker/qp-menu-color-picker"),i("client-controls/controls/simple/date-editor/qp-datetime-edit"),i("client-controls/controls/simple/date-editor/qp-datetime-edit-utc"),i("client-controls/controls/simple/drop-down/qp-drop-down"),i("client-controls/controls/simple/selector/qp-selector"),i("client-controls/controls/simple/icon/qp-hyper-icon"),i("client-controls/controls/simple/icon/qp-icon"),i("client-controls/controls/simple/last-update/last-update"),i("client-controls/controls/simple/loader-indicator/qp-loader-indicator"),i("client-controls/controls/simple/mail-editor/qp-mail-editor"),i("client-controls/controls/simple/link-editor/qp-link-editor"),i("client-controls/controls/simple/mask-editor/qp-mask-editor"),i("client-controls/controls/simple/number-editor/qp-number-editor"),i("client-controls/controls/simple/barcode-input/qp-barcode-input"),i("client-controls/controls/simple/segmented-selector/qp-segmented-selector"),i("client-controls/controls/simple/text-editor/converter"),i("client-controls/controls/simple/text-editor/qp-text-editor"),i("client-controls/controls/simple/uploader/qp-uploader"),i("client-controls/controls/simple/uploader/qp-multi-upload"),i("client-controls/controls/simple/longrun-indicator/qp-longrun-indicator"),i("client-controls/controls/simple/caption/qp-caption"),i("client-controls/controls/simple/label/qp-label"),i("client-controls/controls/simple/label/qp-label-light"),i("client-controls/controls/simple/simple-selector/qp-simple-selector"),i("client-controls/controls/simple/screen-configuration-menu/qp-screen-configuration-menu"),i(9383),i(7771),i("client-controls/controls/simple/external-viewer/qp-external-viewer"),i("client-controls/controls/simple/color-picker/qp-color-palette"),i(8625)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g,m,f,v,b,y,x,C,_,S,E,q,k,M,T,I,D,F,P,A,O,N,R,L,$,V){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpExternalViewerCustomElement=t.UserPreferencesDataComponent=t.DefaultPreferencesDataComponent=t.QpScreenConfigurationMenuCustomElement=t.QpSimpleSelectorCustomElement=t.QpLabelLightCustomElement=t.QpLabelCustomElement=t.QpCaptionCustomElement=t.QpLongrunIndicatorCustomElement=t.QpMultiUploadCustomElement=t.QpUploaderCustomElement=t.QpTextEditorCustomElement=t.TextEditorValueConverter=t.MetaValueConverter=t.QpSegmentedSelectorCustomElement=t.QpBarcodeInputCustomElement=t.QpNumberEditorCustomElement=t.QpMaskEditorCustomElement=t.QpLinkEditorCustomElement=t.QpMailEditorCustomElement=t.QpLoaderIndicatorCustomElement=t.QpLastUpdateCustomElement=t.QpIconCustomElement=t.QpHyperIconCustomElement=t.QpSelectorCustomElement=t.QpDropDownCustomElement=t.QpDatetimeEditUtcCustomElement=t.DateUTCValueConverter=t.QpDatetimeEditCustomElement=t.QpMenuColorPickerCustomElement=t.QpColorPickerCustomElement=t.QpRadioCustomElement=t.QpCheckBoxCustomElement=t.QpCalendarCustomElement=t.QpButtonCustomElement=t.QpBranchSelector3dCustomElement=void 0,Object.defineProperty(t,"QpBranchSelector3dCustomElement",{enumerable:!0,get:function(){return n.QpBranchSelector3dCustomElement}}),Object.defineProperty(t,"QpButtonCustomElement",{enumerable:!0,get:function(){return r.QpButtonCustomElement}}),Object.defineProperty(t,"QpCalendarCustomElement",{enumerable:!0,get:function(){return o.QpCalendarCustomElement}}),Object.defineProperty(t,"QpCheckBoxCustomElement",{enumerable:!0,get:function(){return a.QpCheckBoxCustomElement}}),Object.defineProperty(t,"QpRadioCustomElement",{enumerable:!0,get:function(){return l.QpRadioCustomElement}}),Object.defineProperty(t,"QpColorPickerCustomElement",{enumerable:!0,get:function(){return d.QpColorPickerCustomElement}}),Object.defineProperty(t,"QpMenuColorPickerCustomElement",{enumerable:!0,get:function(){return c.QpMenuColorPickerCustomElement}}),Object.defineProperty(t,"QpDatetimeEditCustomElement",{enumerable:!0,get:function(){return p.QpDatetimeEditCustomElement}}),Object.defineProperty(t,"DateUTCValueConverter",{enumerable:!0,get:function(){return p.DateUTCValueConverter}}),Object.defineProperty(t,"QpDatetimeEditUtcCustomElement",{enumerable:!0,get:function(){return u.QpDatetimeEditUtcCustomElement}}),Object.defineProperty(t,"QpDropDownCustomElement",{enumerable:!0,get:function(){return h.QpDropDownCustomElement}}),Object.defineProperty(t,"QpSelectorCustomElement",{enumerable:!0,get:function(){return g.QpSelectorCustomElement}}),Object.defineProperty(t,"QpHyperIconCustomElement",{enumerable:!0,get:function(){return m.QpHyperIconCustomElement}}),Object.defineProperty(t,"QpIconCustomElement",{enumerable:!0,get:function(){return f.QpIconCustomElement}}),Object.defineProperty(t,"QpLastUpdateCustomElement",{enumerable:!0,get:function(){return v.QpLastUpdateCustomElement}}),Object.defineProperty(t,"QpLoaderIndicatorCustomElement",{enumerable:!0,get:function(){return b.QpLoaderIndicatorCustomElement}}),Object.defineProperty(t,"QpMailEditorCustomElement",{enumerable:!0,get:function(){return y.QpMailEditorCustomElement}}),Object.defineProperty(t,"QpLinkEditorCustomElement",{enumerable:!0,get:function(){return x.QpLinkEditorCustomElement}}),Object.defineProperty(t,"QpMaskEditorCustomElement",{enumerable:!0,get:function(){return C.QpMaskEditorCustomElement}}),Object.defineProperty(t,"QpNumberEditorCustomElement",{enumerable:!0,get:function(){return _.QpNumberEditorCustomElement}}),Object.defineProperty(t,"QpBarcodeInputCustomElement",{enumerable:!0,get:function(){return S.QpBarcodeInputCustomElement}}),Object.defineProperty(t,"QpSegmentedSelectorCustomElement",{enumerable:!0,get:function(){return E.QpSegmentedSelectorCustomElement}}),Object.defineProperty(t,"MetaValueConverter",{enumerable:!0,get:function(){return q.MetaValueConverter}}),Object.defineProperty(t,"TextEditorValueConverter",{enumerable:!0,get:function(){return q.TextEditorValueConverter}}),Object.defineProperty(t,"QpTextEditorCustomElement",{enumerable:!0,get:function(){return k.QpTextEditorCustomElement}}),Object.defineProperty(t,"QpUploaderCustomElement",{enumerable:!0,get:function(){return M.QpUploaderCustomElement}}),Object.defineProperty(t,"QpMultiUploadCustomElement",{enumerable:!0,get:function(){return T.QpMultiUploadCustomElement}}),Object.defineProperty(t,"QpLongrunIndicatorCustomElement",{enumerable:!0,get:function(){return I.QpLongrunIndicatorCustomElement}}),Object.defineProperty(t,"QpCaptionCustomElement",{enumerable:!0,get:function(){return D.QpCaptionCustomElement}}),Object.defineProperty(t,"QpLabelCustomElement",{enumerable:!0,get:function(){return F.QpLabelCustomElement}}),Object.defineProperty(t,"QpLabelLightCustomElement",{enumerable:!0,get:function(){return P.QpLabelLightCustomElement}}),Object.defineProperty(t,"QpSimpleSelectorCustomElement",{enumerable:!0,get:function(){return A.QpSimpleSelectorCustomElement}}),Object.defineProperty(t,"QpScreenConfigurationMenuCustomElement",{enumerable:!0,get:function(){return O.QpScreenConfigurationMenuCustomElement}}),Object.defineProperty(t,"DefaultPreferencesDataComponent",{enumerable:!0,get:function(){return N.DefaultPreferencesDataComponent}}),Object.defineProperty(t,"UserPreferencesDataComponent",{enumerable:!0,get:function(){return R.UserPreferencesDataComponent}}),Object.defineProperty(t,"QpExternalViewerCustomElement",{enumerable:!0,get:function(){return L.QpExternalViewerCustomElement}}),i.__exportStar($,t),i.__exportStar(V,t)}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/label/qp-label-light":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("client-controls/controls/simple/label/qp-label")],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpLabelLightCustomElement=void 0;let o=class QpLabelLightCustomElement extends r.QpLabelCustomElement{};o=i.__decorate([(0,n.customElement)("qp-label-light"),(0,n.useView)("./qp-label.html"),n.containerless],o),t.QpLabelLightCustomElement=o}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/label/qp-label":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework")],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpLabelCustomElement=void 0;let r=class QpLabelCustomElement{processClick(){var e;null===(e=document.getElementById(this.controlId))||void 0===e||e.focus()}};i.__decorate([n.bindable,i.__metadata("design:type",String)],r.prototype,"controlId",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],r.prototype,"caption",void 0),r=i.__decorate([(0,n.customElement)("qp-label")],r),t.QpLabelCustomElement=r}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/last-update/last-update-value-converter":(e,t,i)=>{var n,r;n=[i,t,i(6778),i(8862)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgoValueConverter=void 0;const r="ago-signal";setInterval((()=>{(0,i.signalBindings)(r)}),2e4);const{JustNow:o,MinsAgo:a,HoursAgo:l,DaysAgo:d,LongAgo:c}=n.LOCALIZED_STRINGS&&n.LOCALIZED_STRINGS.lastUpdate||{JustNow:"Updated just now",MinsAgo:"Updated {{mins}} min ago",HoursAgo:"Updated {{hours}} hr ago"};t.AgoValueConverter=class AgoValueConverter{constructor(){this.signals=[r]}toView(e){if(!e)return"";const t=new Date,i=Math.floor((t.valueOf()-e.valueOf())/1e3);if(i<60)return o;const n=Math.floor(i/60);if(n<60)return a.replace("{{mins}}",n.toString());const r=Math.floor(n/60);if(r<=24)return l.replace("{{hours}}",r.toString());return Math.floor(r/24)<=7?d.replace("{{days}}",r.toString()):c}}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/last-update/last-update":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework")],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpLastUpdateCustomElement=void 0;let r=class QpLastUpdateCustomElement{valueChanged(e){this.dateTime=new Date(e)}};i.__decorate([n.bindable,i.__metadata("design:type",String)],r.prototype,"value",void 0),r=i.__decorate([(0,n.customElement)("qp-last-update")],r),t.QpLastUpdateCustomElement=r}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/link-editor/qp-link-editor":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(829),i(3116),i(6158),i(7140),i(3147),i("client-controls/controls/dialog/informer/qp-informer-rack")],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.QpLinkEditorCustomElement=void 0;let u=p=class QpLinkEditorCustomElement extends r.QpBaseFieldEditor{constructor(e,t,i,n){super(t),this.element=e,this.dialogHelper=i,this.tq=n,this.mainLink={link:"",name:""},this.inputLink="",this.isInlineEditing=!1,this.linkDialogConfig={templateId:"pnlLinkEditor",title:o.Messages.LinkEditorLink,hideMaximizer:!0,width:"620px",context:this},this.Msg=o.Messages}valueChanged(e,t){var i,n;const r=this.mainLink;if(!this.value)return r.link="",void(r.name="");const o=null===(i=/<(?<link>.*)>(?<name>.*)/g.exec(this.value))||void 0===i?void 0:i.groups;if(o)r.link=o.link||"",r.name=o.name||"";else{!(null===(n=this.value.trim().match(/\s/g))||void 0===n?void 0:n.length)?(r.name=this.value,r.link=this.value):(r.name=this.value,r.link="")}}configChanged(e,t){this.config||(this.config={}),(0,l.applyDefaultValues)(this.config,p.linkDefaultConfig),void 0===t&&(0,l.applyDefaultValues)(e,p.linkDefaultConfig)}isValidHttpUrl(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}isValidOtherUrl(e){return!!new RegExp("((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}processPaste(e){const t=e.clipboardData?e.clipboardData:n.PLATFORM.global.clipboardData;if(null!=t){const e=t.getData("Text");return!(!e||!this.isValidHttpUrl(e)&&!this.isValidOtherUrl(e))}return!1}processInputKeyDown(e){return"KeyK"!==e.code||!e.ctrlKey||(this.currentDialog||this.processButtonClick(),!1)}processOpenLink(e){e.preventDefault(),n.PLATFORM.global.open(/^(http|https):/.test(this.mainLink.link)?this.mainLink.link:`http://${this.mainLink.link}`,"_blank")}detached(){super.detached()}setNewValue(e){var t,i,n;const r=e||this.dlgLink;r.name=(null===(t=r.name)||void 0===t?void 0:t.trim())||"",r.link=(null===(i=r.link)||void 0===i?void 0:i.trim())||"",this.mainLink.link===r.link&&this.mainLink.name===r.name||(r.link===r.name&&(r.name=""),this.mainLink.link===r.link&&this.mainLink.name===r.name||(r.name=null===(n=r.name)||void 0===n?void 0:n.replace(/>/g,"&gt;").replace(/</g,"&lt;"),r.link&&r.name?this.value=`<${r.link}>${r.name}`:r.name?this.value=r.name:r.link?this.value=r.link:this.value=void 0))}setNewValueAndCloseDialog(){this.setNewValue(),this.closeCurrentDialog(!0)}get ROMode(){return this.config&&(this.config.readOnly||!this.config.enabled)}openDialog(){this.dialogHelper.openDialog(this.linkDialogConfig,{},(e=>{var t;this.currentDialog=e.controller,null===(t=this.currentDialog.controller.viewModel.element)||void 0===t||t.querySelector("input").focus(),e.closeResult.finally((()=>{this.currentDialog=void 0}))}))}closeCurrentDialog(e=!1){var t,i;e?null===(t=this.currentDialog)||void 0===t||t.ok():null===(i=this.currentDialog)||void 0===i||i.cancel(),this.tq.queueMicroTask((()=>{this.inputLink="",this.isInlineEditing=!1}))}processButtonClick(){var e;if(this.ROMode&&!this.config.activeButton)return!0;this.isInlineEditing&&(null===(e=this.inputLinkElem)||void 0===e||e.blur(),this.tq.flushMicroTaskQueue()),this.dlgLink=Object.assign({},this.mainLink),this.dlgLink.name===this.dlgLink.link&&(this.dlgLink.name=""),this.dlgLink.name=this.dlgLink.name.replace(/&gt;/g,">").replace(/&lt;/g,"<"),this.openDialog()}copyButtonClick(){if(!this.ROMode||!this.mainLink.link)return;(0,l.addTextToClipboard)(this.mainLink.link);const e=(0,c.showInformer)(this.Msg.LinkCopiedClipboard,"info");setTimeout((()=>e.dispose()),3e3)}processInputFocus(){var e;const t=this.isInlineEditing;this.tq.queueMicroTask((()=>{this.inputLink=this.mainLink.link||this.mainLink.name,this.mainLink.link===this.mainLink.name&&(this.mainLink.name=""),this.isInlineEditing=!0})),this.tq.flushMicroTaskQueue(),t||null===(e=this.inputLinkElem)||void 0===e||e.select()}processInputBlur(){this.isInlineEditing&&this.tq.queueMicroTask((()=>{const e=Object.assign({},this.mainLink);e.link=this.inputLink,""===e.name&&(this.mainLink.name=this.inputLink),e.link||(e.name=""),this.setNewValue(e),this.inputLink="",this.isInlineEditing=!1}))}};u.linkDefaultConfig={allowNull:!0,enabled:!0,activeButton:!0},i.__decorate([n.bindable,i.__metadata("design:type",Object)],u.prototype,"value",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],u.prototype,"config",void 0),i.__decorate([(0,n.computedFrom)("config.readOnly","config.enabled"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],u.prototype,"ROMode",null),u=p=i.__decorate([n.autoinject,(0,n.customElement)("qp-link-editor"),i.__metadata("design:paramtypes",[Element,a.Container,d.DialogHelper,n.TaskQueue])],u),t.QpLinkEditorCustomElement=u}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/loader-indicator/qp-loader-indicator":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework")],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpLoaderIndicatorCustomElement=void 0;let r=class QpLoaderIndicatorCustomElement{get loadingClass(){return!0===this.loadingState?"loading":this.loadingState?this.loadingState:"in-sync"}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],r.prototype,"loadingState",void 0),i.__decorate([(0,n.computedFrom)("loadingState"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],r.prototype,"loadingClass",null),r=i.__decorate([(0,n.customElement)("qp-loader-indicator")],r),t.QpLoaderIndicatorCustomElement=r}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/longrun-indicator/qp-longrun-indicator":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("aurelia-event-aggregator")],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpLongrunIndicatorCustomElement=void 0;let o=class QpLongrunIndicatorCustomElement{constructor(e,t){this.eventAggregator=e,this.tq=t,this.showProgress=!1,this.showSuccess=!1,this.showError=!1,this.showWarning=!1,e.subscribe("longrun-cleared",(()=>{this.showProgress=!1,this.showSuccess=!1,this.showError=!1,this.showWarning=!1,this.clearWaitingFlag()})),e.subscribe("longrun-started",(e=>{this.showProgress=!0,this.showSuccess=!1,this.showError=!1,this.showWarning=!1})),e.subscribe("longrun-succeded",(e=>{this.successText=this.config.successedTextCallback?this.config.successedTextCallback():e.message,this.showProgress=!1,this.showSuccess=!0,this.showError=!1,this.showWarning=!1,this.clearWaitingFlag()})),e.subscribe("longrun-succeded-with-warning",(e=>{this.warningText=this.config.warningTextCallback?this.config.warningTextCallback():e,this.showProgress=!1,this.showSuccess=!1,this.showError=!1,this.showWarning=!0,this.clearWaitingFlag()})),e.subscribe("longrun-aborted",(e=>{this.errorText=this.config.errorTextCallback?this.config.errorTextCallback():e.message,this.showProgress=!1,this.showSuccess=!1,this.showError=!0,this.showWarning=!1,this.clearWaitingFlag()}))}clearWaitingFlag(){this.tq.queueMicroTask((()=>{delete window.longRunInProcess}))}closeNotification(e){return setTimeout((()=>{this.showProgress=!1,this.showSuccess=!1,this.showError=!1,this.showWarning=!1}),300),!1}stopProcessing(e){return!this.showProgress||(this.config.cancelCallback&&this.config.cancelCallback(),!1)}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],o.prototype,"config",void 0),o=i.__decorate([(0,n.customElement)("qp-longrun-indicator"),n.autoinject,i.__metadata("design:paramtypes",[r.EventAggregator,n.TaskQueue])],o),t.QpLongrunIndicatorCustomElement=o}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/mail-editor/qp-mail-editor":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2172),i("client-controls/controls/simple/text-editor/qp-text-editor")],r=function(e,t,i,n,r,o){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.QpMailEditorCustomElement=void 0;let l=a=class QpMailEditorCustomElement extends o.QpTextEditorCustomElement{constructor(e,t){super(e,t)}configChanged(e,t){var i,n,r,o;super.configChanged(e,t),void 0===this.config&&(this.config={}),null!==(i=(r=this.config).activeButton)&&void 0!==i||(r.activeButton=a.mailDefaultConfig.activeButton),null!==(n=(o=this.config).images)&&void 0!==n||(o.images=Object.assign({},a.mailDefaultConfig.images))}detached(){var e;null===(e=this.frame)||void 0===e||e.remove(),this.frame=void 0,super.detached()}processKeyDown(e){return"F3"===e.key?(this.processButtonClick(e),!0):super.processKeyDown(e)}get buttonDisabled(){return!this.config||!this.config.activeButton||!1===this.config.enabled}processButtonClick(e){if(this.buttonDisabled)return!0;this.sendUpdateEvent(),this.processMailTo(e)}processMailTo(e){if(!this.config)return;const t={event:e},i=new CustomEvent("buttonpressed",{bubbles:!0,detail:t});if(this.element.dispatchEvent(i),t.cancel)return;if(this.config.action)return void this.screenEventManager.publish(new r.ExecuteCommandEvent(this.config.action,new r.ScreenUpdateParams));if(this.config.popupPanel)return void this.screenEventManager.publish(new r.OpenPopupEvent(this.config.popupPanel));const n=this.elemText.value;if(n){this.frame||(this.frame=document.createElement("iframe"),this.frame.style.display="none",document.body.appendChild(this.frame));try{this.frame.src=`mailto:${n}`}catch(e){}}}};l.mailDefaultConfig={activeButton:!0,images:{disabled:"control@MailSelectorD",normal:"control@MailSelectorN",hover:"control@MailSelectorH",pushed:"control@MailSelectorP"}},i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"config",void 0),i.__decorate([(0,n.computedFrom)("config.activeButton","config.enabled"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],l.prototype,"buttonDisabled",null),l=a=i.__decorate([n.autoinject,(0,n.customElement)("qp-mail-editor"),i.__metadata("design:paramtypes",[Element,n.Container])],l),t.QpMailEditorCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},9485:(e,t,i)=>{var n,r;n=[i,t,i(7140),i("client-controls/controls/simple/mask-editor/qp-mask-editor")],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaskEditorValueConverter=void 0;t.MaskEditorValueConverter=class MaskEditorValueConverter{toView(e,t,i,n){return null==n?"":(n.enabled&&!n.readOnly||(t=!1),!t&&n.allowNull&&null==e?n.nullText:t?this.getEditText(e,n):this.getDisplayText(e,n))}fromView(e,t,i,n){if(n.allowNull&&(!e||e===n.nullText))return null;let r=this.calculateValue(e,n.valueMode,1,n);return void 0===r&&t&&(r=this.calculateValue(e,n.valueMode,0,n)),r}getDisplayValue(e,t,n){return this.initializeMask(t),t.inputMask?(n||(n=t.promptChar),(0,i.formatByMask)(this.maskParts.maskFull,e,n,t.valueMode)):null!=e?e:""}getDisplayText(e,t){return this.getDisplayValue(e,t,t.emptyChar)}getEditText(e,t){return t.skipValidation?null!=e?e:"":this.getDisplayValue(e,t)}calculateValue(e,t,r,o){if(!this.mask)return e;if(o.promptChar){const t=new RegExp(`\\${o.promptChar}`,"g");e=e.toString().replace(t,String.fromCharCode(0))}let a,l,d=0,c=!0,p="";for(let u=0;u<this.mask.length;u++)if((l=this.mask.charCodeAt(u))<n.maxMaskCode)a=null,d<e.length&&(a=(0,i.maskFilter)(l,e,d,null,this.maskParts.maskExclude,this.maskParts.maskInclude),d++),p+=a||(o.emptyChar||""),a&&(c=!1);else{if(r>0&&d<e.length){if(this.mask.charAt(u)!==e.charAt(d))return;d++}t>0&&(p+=this.mask.charAt(u))}return c?o.allowNull?null:"":p.trimEnd()}initializeMask(e){this.mask&&e.inputMask===this.rawMask||(this.maskParts=(0,i.getMaskParts)(e.inputMask),this.mask=this.maskParts.mask,this.rawMask=e.inputMask)}}}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/mask-editor/qp-mask-editor":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("client-controls/controls/simple/text-editor/qp-text-editor"),i(7140),i(6158)],r=function(e,t,i,n,r,o,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.QpMaskEditorCustomElement=t.maxMaskCode=void 0,t.maxMaskCode=21;let d=l=class QpMaskEditorCustomElement extends r.QpTextEditorCustomElement{constructor(e,t){super(e,t),this.element=e,this.rawMask="",this.converter="mask",this.addConfigSetter("inputMask")}detached(){super.detached(),this.maskObserver&&(this.maskObserver.dispose(),delete this.maskObserver)}attached(){super.attached(),this.attachMaskObserver()}configChanged(e,t){void 0===this.config&&(this.config={}),(0,o.applyDefaultValues)(this.config,Object.assign(Object.assign({},r.QpTextEditorCustomElement.defaultConfig),l.defaultConfigM)),this.attachMaskObserver(),this.setInputMask(this.config.inputMask)}attachMaskObserver(){!this.maskObserver&&this.config&&(this.maskObserver=this.bindingEngine.propertyObserver(this.config,"inputMask").subscribe(((e,t)=>this.setInputMask(e))),this.rawMask!==this.config.inputMask&&this.setInputMask(this.config.inputMask))}setInputMask(e){null==e&&(e=""),this.rawMask!==e&&(this.maskParts=(0,o.getMaskParts)(e),this.mask=this.maskParts.mask,this.rawMask=e)}onKeyPress(e,i){if(!this.mask||this.config.skipValidation)return!0;if(i<7||i>8&&i<32)return!1;let n=this.elemText.value;const r=n.length;let o=this.elemText.selectionStart||0,a=this.elemText.selectionEnd||0;if(o!==a){for(;--a>=o;){let e=this.config.promptChar;this.mask.charCodeAt(a)>=t.maxMaskCode&&(e=this.mask.charAt(a)),n=n.substring(0,a)+e+n.substring(a+1)}a++}else if(7===i||32===i){for(;a<r&&this.mask.charCodeAt(a)>=t.maxMaskCode;)a++;if(a>=r)return!1;n=n.substring(0,a)+this.config.promptChar+n.substring(a+1),a++}else if(8===i){for(;a>0&&this.mask.charCodeAt(a-1)>=t.maxMaskCode;)a--;if(a--<1)return!1;n=n.substring(0,a)+this.config.promptChar+n.substring(a+1)}if(i>8&&32!==i&&a<r){const e=String.fromCharCode(i),t=[n];if(o=this.insertCharAt(t,e,a),n=t[0],o<0)return!1;a=this.locatePromptPos(o,!1)}return this.elemText.value=n,this.select(a),this.sendInputEvent(),!1}processPasteValue(e){if(!this.mask||this.config.skipValidation)return!1;const i=this.elemText.selectionStart||0,n=this.elemText.selectionEnd||0;let r=this.elemText.value;r=this.clearMaskedContent(r,i,n);const o=[r];let a=i;for(let i=0;i<e.length;i++)if(this.mask.charCodeAt(a)<t.maxMaskCode&&e.charAt(i)===this.config.promptChar)a++;else if(a=this.insertCharAt(o,e.charAt(i),a),a<0||a>=this.mask.length)break;return this.elemText.value=o[0],this.select(n>0?n:i),this.sendInputEvent(),!0}insertCharAt(e,i,n){const r=this.mask.length;let a=n,l=e[0];if(n<r){if(this.mask.charCodeAt(a)>=t.maxMaskCode&&this.mask.charAt(a)===i)return++a;for(;this.mask.charCodeAt(a)>=t.maxMaskCode;)if(++a>=r)return-1;let n;return null==(n=(0,o.maskFilter)(this.mask.charCodeAt(a),i,0,null,this.maskParts.maskExclude,this.maskParts.maskInclude))?-1:(l=l.substring(0,a)+n+l.substring(a+1),e[0]=l,a++,a)}return-1}locatePromptPos(e,i){const n=this.mask.length;for(;e>=0&&e<n&&this.mask.charCodeAt(e)>=t.maxMaskCode;)i?e--:e++;return e}clearMaskedContent(e,i,n){if((null==i||i<0)&&(i=0),(null==n||n>this.mask.length)&&(n=this.mask.length),i>n){const e=n;n=i,i=e}if(i!==n){for(;--n>=i;){let i=this.config.promptChar;this.mask.charCodeAt(n)>=t.maxMaskCode&&(i=this.mask.charAt(n)),e=e.substring(0,n)+i+e.substring(n+1)}n++}return e}};d.defaultConfigM={valueMode:0,promptChar:"_",emptyChar:" "},i.__decorate([n.bindable,i.__metadata("design:type",Object)],d.prototype,"config",void 0),d=l=i.__decorate([n.autoinject,(0,n.customElement)("qp-mask-editor"),(0,n.useView)("../text-editor/qp-text-editor.html"),i.__metadata("design:paramtypes",[Element,a.Container])],d),t.QpMaskEditorCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},4774:(e,t,i)=>{var n,r;n=[i,t,i(655),i(2172),i(7140),i(3161),i(6158),i(7699),i(630),i(4609)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberEditorValueConverter=void 0;let p=class NumberEditorValueConverter{constructor(){this.dotSymbol=".",this.defaultMinusSymbol="-",this.defaultDecimalSeparator=".",this.defaultGroupSeparator=",",this.getDecimals=e=>e.decimals<0?0:e.decimals,this.ensureNumberPrefences()}get numberFormatInfo(){return this.ensureNumberPrefences(),this.numberPreferences||{negativeSign:this.defaultMinusSymbol,number:{decimalSeparator:this.defaultDecimalSeparator,groupSeparator:this.defaultGroupSeparator}}}ensureNumberPrefences(){var e,t;this.translatorInitialized||((0,c.isLegacyEnv)()?(this.numberPreferences=(0,d.numberFormatInfo)(),this.translatorInitialized=!0):(this.localizationService=a.Container.instance.get(o.LocalizationsService),this.numberPreferences=null===(e=this.localizationService)||void 0===e?void 0:e.getLocalePreferences("number"),(null===(t=this.localizationService)||void 0===t?void 0:t.translatorInitialized)&&(this.translatorInitialized=!0)))}toView(e,t,i,n){if(null==n)return"";if(n.allowNull&&null==e)return t?"":n.nullText;if(i.hasChanges&&t)return null==e?"":e.toLocaleString("en-US",{useGrouping:!1}).replace(this.dotSymbol,this.numberFormatInfo.number.decimalSeparator);n.allowNull||null!=e||(e=0),n.enabled&&!n.readOnly||(t=!1),null==e.toFixed&&(e=this.parseFloat(e.toString()));const r=t?n.editFormat:n.displayFormat;return r?e.format(r,this.numberFormatInfo):t?this.getEditText(e,n):this.getDisplayText(e,n)}fromView(e,t,i,n){return!n.allowNull||e&&e!==n.nullText?this.checkLimits(this.parseValue(e,n),n):null}getEditText(e,t){let i;try{i=e.toFixed(this.getDecimals(t))}catch(e){i=(0).toFixed(this.getDecimals(t))}return i.replace(this.dotSymbol,this.numberFormatInfo.number.decimalSeparator)}getDisplayText(e,t){const i=t.valueType>=n.NetType.Single&&t.valueType<=n.NetType.Decimal,r=this.getDecimals(t);let o=e.toLocaleString(this.localizationService?this.localizationService.getLang():"en-US",{minimumFractionDigits:r,maximumFractionDigits:r,useGrouping:i});const a=o.split(this.dotSymbol);return o=a[0].replace(/,/g,this.numberFormatInfo.number.groupSeparator),a.length>1?o+this.numberFormatInfo.number.decimalSeparator+a[1]:o}checkLimits(e,t){if(null!=e&&!isNaN(e)){const i=t.minValue,n=t.maxValue;if(null!=i&&e<i)return i;if(null!=n&&e>n)return n}return e}parseValue(e,t){let i=0,n="";e=" "!==this.numberFormatInfo.number.decimalSeparator?e.replace(/\s/g,""):e.replace(/[\t\n\r\f]/g,"");for(let t=0;t<e.length;t++){const i=e.charAt(t);(0,r.isDigit)(i)||i===this.numberFormatInfo.negativeSign?n+=i:(i===this.numberFormatInfo.number.decimalSeparator||i===this.dotSymbol&&this.numberFormatInfo.number.groupSeparator!==this.dotSymbol)&&(n+=this.dotSymbol)}return i=this.parseFloat(n),isNaN(i)?0:Number(i.toFixed(this.getDecimals(t)))}parseFloat(e){let t=e.length,i=e.indexOf(this.numberFormatInfo.number.decimalSeparator);if(i<0&&(i=e.indexOf(this.dotSymbol)),i>=0&&(t=i),t>14){const i=t-14;return parseFloat(e.substr(i))}return parseFloat(e)}};p=i.__decorate([(0,l.autoinject)(),i.__metadata("design:paramtypes",[])],p),t.NumberEditorValueConverter=p}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/number-editor/qp-number-editor":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(4774),i("client-controls/controls/simple/text-editor/qp-text-editor"),i(6158),i(2172),i(7140),i(3161),i(630),i(4609),i(6778)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h){"use strict";var g;Object.defineProperty(t,"__esModule",{value:!0}),t.QpNumberEditorCustomElement=void 0;let m=g=class QpNumberEditorCustomElement extends o.QpTextEditorCustomElement{constructor(e,t){super(e,t),this.element=e,this.maxDecimals=null,this.conv=new r.NumberEditorValueConverter,this.subscribers=[],this.converter="numb",this.addConfigSetter("precision","decimals"),this.addConfigSetter("minValue"),this.addConfigSetter("maxValue"),this.addConfigSetter("type","valueType"),(0,u.isLegacyEnv)()?this.numberFormatInfo=(0,p.numberFormatInfo)()||this.conv.numberFormatInfo:this.numberFormatInfo=this.container.get(c.LocalizationsService).getLocalePreferences("number")}get type(){var e;return(null===(e=this.config)||void 0===e?void 0:e.decimals)>0?"qp-float":"qp-integer"}configChanged(e,t){var i;void 0===t&&((0,d.applyDefaultValues)(e,Object.assign(Object.assign({},g.defaultConfig),g.defaultConfigN)),null==this.config.decimals&&(this.config.decimals=0),this.config.allowNull||(null===(i=this.state)||void 0===i?void 0:i.nullable)||null!=this.value||null!=this.config.value||(this.value=0)),this.attachObservers()}detached(){super.detached(),this.detachObservers()}detachObservers(){this.subscribers.forEach((e=>e.dispose())),this.subscribers.splice(0,this.subscribers.length)}attachObservers(){if(this.detachObservers(),this.config){const e=["decimals","displayFormat","editFormat","valueType"];for(const t of e){const e=this.bindingEngine.propertyObserver(this.config,t).subscribe((()=>(0,n.signalBindings)("format-changed")));this.subscribers.push(e)}}}getDecimals(){return this.conv.getDecimals(this.config)}isMinus(e){return e===this.numberFormatInfo.negativeSign.charCodeAt(0)||45===e}processPasteValue(e){let t=e&&e.trim(),i=this.elemText.value;const n=new String(i),r=this.elemText.selectionStart||0,o=this.elemText.selectionEnd||0;t=t.replace(new RegExp(`\\${this.numberFormatInfo.number.groupSeparator}`,"g"),""),t=t.replace(new RegExp("s","g"),""),t=t.replace(/\+/,"");if(t.search(new RegExp(`^0-9\\${this.numberFormatInfo.number.decimalSeparator}-`,"g"))>=0)return!0;if(0!==r&&t.search(/[\-]/)>=0)return!0;i=r>=0?i.substring(0,r)+t+i.substring(o):t;const a=parseFloat(i.replace(this.numberFormatInfo.number.decimalSeparator,this.conv.dotSymbol));return isNaN(a)||this.conv.checkLimits(a,this.config)!==a?this.elemText.value=n.toString():this.elemText.value=this.conv.getEditText(a,this.config),this.sendInputEvent(),!0}onKeyPress(e,t){if(t<7||t>8&&t<32)return!1;let i=this.elemText.value,n=i.length,r=this.elemText.selectionStart||0,o=this.elemText.selectionEnd||0;if(r!==o)i=i.substring(0,r)+i.substring(o),o=r,n=i.length;else if(7===t||8===t)return!0;let a=0;const l=n;let c=!1;if(this.config.editFormat){let e,t="";for(let l=0;l<i.length;l++)e=i.charAt(l),(0,d.isDigit)(e)||e===this.numberFormatInfo.negativeSign?t+=e:e===this.numberFormatInfo.number.decimalSeparator?t+=this.conv.dotSymbol:(n--,l<r&&r--,l<o&&(o--,a++));i=t}t===this.conv.dotSymbol.charCodeAt(0)&&this.numberFormatInfo.number.decimalSeparator!==this.conv.dotSymbol&&(t=this.numberFormatInfo.number.decimalSeparator.charCodeAt(0));let p=i.indexOf(this.numberFormatInfo.number.decimalSeparator);if(t>8&&(!this.config.maxLength||this.config.maxLength<=0||this.config.maxLength>n)){const e=t===this.numberFormatInfo.number.decimalSeparator.charCodeAt(0);if(!((0,d.isDigit)(t)||e&&this.getDecimals()>0||0===r&&this.isMinus(t)&&this.config.minValue<0))return!1;if(n>0&&0===r&&this.isMinus(i.charCodeAt(0)))return!1;if(e){if(p>=0){if(p===r||p===r-1)return!1;n--,p<r&&(r=--o),i=i.substring(0,p)+i.substring(p+1)}if(n-r>this.getDecimals())return!1}else if(this.getDecimals()>0&&p>=0){n-p-1===this.getDecimals()&&r>p&&(c=!0)}const a=String.fromCharCode(t);if(o>=n)c&&(i=i.substring(0,n-1)),i+=a;else{const e=c?o+1:o;i=i.substring(0,r)+a+i.substring(e)}}let u=i.length;if(p=i.indexOf(this.numberFormatInfo.number.decimalSeparator),p>=0&&(u=p,this.maxDecimals)){if(parseInt(i.substring(p+1))>this.maxDecimals)return!1}if(u<15){if(this.config.editFormat){const e=this.conv.parseFloat(i);isNaN(e)||(i=e.format(this.config.editFormat,this.numberFormatInfo),a+=i.length-l-(c?0:1))}this.elemText.value=i,this.select(o+1+a),this.sendInputEvent()}return!1}};m.defaultConfigN={allowNull:!1,decimals:0,maxValue:999999999999,minValue:-999999999999,valueType:l.NetType.Int32,textAlign:3},i.__decorate([n.bindable,i.__metadata("design:type",Object)],m.prototype,"config",void 0),i.__decorate([(0,h.computedFrom)("config.decimals"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],m.prototype,"type",null),m=g=i.__decorate([n.autoinject,(0,n.customElement)("qp-number-editor"),(0,n.useView)("../text-editor/qp-text-editor.html"),i.__metadata("design:paramtypes",[Element,a.Container])],m),t.QpNumberEditorCustomElement=m}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/radio/qp-radio":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099),i(829),i(6158),i(7140),i("aurelia-templating-resources")],r=function(e,t,i,n,r,o,a,l,d){"use strict";var c;Object.defineProperty(t,"__esModule",{value:!0}),t.RadioOption=t.QpRadioCustomElement=void 0;(0,r.getLogger)("radio");let p=c=class QpRadioCustomElement extends o.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,d.Repeat.useInnerMatcher=!1,this.addConfigSetter("options",(e=>{const t=this.config.options;return(null==e?void 0:e.length)?null==t?void 0:t.splice(0,t.length,...e):t}))}configChanged(e,t){this.config||(this.config={}),(0,l.applyDefaultValues)(this.config,c.defaultConfig),this.config.options||(this.config.options=[]),void 0===t&&this.config.value&&(this.value=this.config.value),this.options=this.config.options}matchValue(e,t){return typeof e!=typeof t?(null==e?void 0:e.toString())===(null==t?void 0:t.toString()):e===t}};p.defaultConfig={enabled:!0,required:!1},i.__decorate([n.bindable,i.__metadata("design:type",Object)],p.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],p.prototype,"value",void 0),p=c=i.__decorate([(0,n.customElement)("qp-radio"),n.autoinject,i.__metadata("design:paramtypes",[Element,a.Container])],p),t.QpRadioCustomElement=p;t.RadioOption=class RadioOption{constructor(){this.checked=!1,this.enabled=!0}}}.apply(t,n),void 0===r||(e.exports=r)},9383:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2594)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultPreferencesDataComponent=void 0;let o=class DefaultPreferencesDataComponent{constructor(e){this.preferencesService=e}getQueryParams(e){return{}}setComponentData(e){this.applyScreenPreferences(e.defaultPreferences)}applyScreenPreferences(e){let t=0;for(const i in e)this.preferencesService.setPreferences(i,e[i],"def"),++t;t||this.preferencesService.notifyAllSubscribers()}};o=i.__decorate([n.noView,i.__metadata("design:paramtypes",[r.PreferencesService])],o),t.DefaultPreferencesDataComponent=o}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/screen-configuration-menu/qp-screen-configuration-menu":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(3116),i(7052),i(4609),i(2594),i(3147),i(7140)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpScreenConfigurationMenuCustomElement=void 0;let p=class QpScreenConfigurationMenuCustomElement{constructor(e,t,i,n){this.element=e,this.preferencesService=t,this.dialogHelper=i,this.screenService=n,this.resetToDefaultButtonConfig={text:r.Messages.ResetToDefault,id:"btnResetToDefault",enabled:!0,class:"screen-configuration-button"},this.applyButtonConfig={text:r.Messages.ApplyToAll,id:"btnApply",class:"screen-configuration-button  screen-configuration-main-button",dialogResult:1,enabled:!0},this.loadPersonalButtonConfig={text:r.Messages.LoadPersonalConfiguration,id:"btnLoadPersonalConfiguration",class:"screen-configuration-button",dialogResult:1,enabled:!0},this.cancelButtonConfig={text:r.Messages.Cancel,id:"btnCancel",dialogResult:2,enabled:!0,class:"screen-configuration-button"},this.btnExportConfig={id:"exportSc",images:{normal:"main@Copy"},options:[{type:"MenuButton",text:r.Messages.ExportConfiguration,commandName:u.export,images:{normal:"main@Copy"}},{type:"MenuButton",text:r.Messages.ImportConfiguration,commandName:u.import,images:{normal:"main@Paste"}}]},this.loadPersonalSettingsDialogConfig={title:r.Messages.LoadPersonalConfiguration,templateId:"loadPersonalSettings_dialog",hideMaximizer:!0},this.loadButtonConfig={text:r.Messages.Load,id:"btnUserLoad",class:"primary-button  personal-dialog--button",dialogResult:1,enabled:!0},this.cancelUserButtonConfig={text:r.Messages.Cancel,id:"btnUserCancel",class:"personal-dialog--button",dialogResult:2,enabled:!0},this.applyToAllDialogConfig={title:r.Messages.ApplyToAllDialogTitle,templateId:"applyToAll_dialog",hideMaximizer:!0,cssClass:"sc-apply-to-all-dialog non-responsive-dialog"},this.applyForcedButtonConfig={text:r.Messages.ApplyForced,id:"btnApplyForced",class:"personal-dialog--button",dialogResult:1,enabled:!0},this.applyNotForcedButtonConfig={text:r.Messages.ApplyNotForced,id:"btnApplyNotForced",class:"personal-dialog--button",dialogResult:1,enabled:!0},this.exiting=!1,this.msg=r.Messages}showApplyToAll(){return i.__awaiter(this,void 0,void 0,(function*(){const e=Object.assign(Object.assign({},this.applyToAllDialogConfig),{context:this});yield this.dialogHelper.openDialog(e)}))}applyToAll(e){return i.__awaiter(this,void 0,void 0,(function*(){(yield this.preferencesService.saveAllPreferences(this.getScreenID(),e))&&(yield this.closeDialog(),this.preferencesService.notifyAllSubscribers())}))}resetToDefault(){this.preferencesService.resetToDefault()}showUsersDialog(){return i.__awaiter(this,void 0,void 0,(function*(){this.users||(this.users=yield this.preferencesService.loadPreferenceUsers(this.getScreenID())),this.userSelectConfig={id:"selectedUserDropdown",options:this.users.map((e=>({value:e.id,text:e.text}))),size:"xm",class:"personal-dialog--user-selector"};const e=Object.assign(Object.assign({},this.loadPersonalSettingsDialogConfig),{context:this});yield this.dialogHelper.openDialog(e)}))}loadUserConfiguration(){return i.__awaiter(this,void 0,void 0,(function*(){this.selectedUser&&(yield this.preferencesService.loadAllPreferences(this.getScreenID(),o.PreferenceLoadMode.merged,this.selectedUser,!0),this.selectedUser=void 0)}))}attached(){return i.__awaiter(this,void 0,void 0,(function*(){this.exiting&&(this.exiting=!1),yield this.preferencesService.loadAllPreferences(this.getScreenID(),o.PreferenceLoadMode.onlyDefault)}))}cancel(){return i.__awaiter(this,void 0,void 0,(function*(){yield this.closeDialog()}))}closeDialog(){return i.__awaiter(this,void 0,void 0,(function*(){this.exiting=!0,yield(0,c.wait)(h),document.body.dispatchEvent(new CustomEvent("endScreenConfiguration")),yield this.preferencesService.loadAllPreferences(this.getScreenID(),o.PreferenceLoadMode.merged,void 0,!0)}))}processExportMenu(e){switch(e.detail.commandName){case u.import:this.fileUploader.click();break;case u.export:this.fileDownloader.download="ScreenConfiguration.json",this.fileDownloader.href=URL.createObjectURL(new Blob([JSON.stringify(this.preferencesService.getScreenDefaultPreferences(),null,"\t")],{type:"application/json"})),this.fileDownloader.click()}}fileUploaderChanged(){if(this.fileUploader.files&&this.fileUploader.files.length>0){const e=this.fileUploader.files[0];this.fileUploader.value="";const t=new FileReader;t.readAsText(e,"UTF-8"),t.onload=e=>{var t;const i=null===(t=e.target)||void 0===t?void 0:t.result;if("string"==typeof i)try{const e=JSON.parse(i);this.preferencesService.setScreenDefaultPreferences(e)}catch(e){console.log("Error parsing JSON",e)}}}}getScreenID(){var e;return(null===(e=this.screenService)||void 0===e?void 0:e.isValid)?this.screenService.screenID:(0,a.getScreenID)()}};var u;p=i.__decorate([n.autoinject,(0,n.customElement)("qp-screen-configuration-menu"),i.__metadata("design:paramtypes",[Element,o.PreferencesService,d.DialogHelper,l.ScreenService])],p),t.QpScreenConfigurationMenuCustomElement=p,function(e){e.export="Export",e.import="Import"}(u||(u={}));const h=200}.apply(t,n),void 0===r||(e.exports=r)},7771:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2594)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserPreferencesDataComponent=void 0;let o=class UserPreferencesDataComponent{constructor(e){this.preferencesService=e}getQueryParams(e){return{}}setComponentData(e){this.applyScreenPreferences(e.userPreferences)}applyScreenPreferences(e){for(const t in e)this.preferencesService.setPreferences(t,e[t],"user")}};o=i.__decorate([n.noView,i.__metadata("design:paramtypes",[r.PreferencesService])],o),t.UserPreferencesDataComponent=o}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/segmented-selector/qp-segmented-selector":(e,t,i)=>{var n,r;n=[i,t,i(655),i(6158),i("aurelia-framework"),i(3425),i(7140),i(630),i(2172),i(829),i(3116)],r=function(e,t,i,n,r,o,a,l,d,c,p){"use strict";var u,h,g,m;Object.defineProperty(t,"__esModule",{value:!0}),t.QpSegmentedSelectorCustomElement=void 0,function(e){e[e.Ascii=0]="Ascii",e[e.AlphaNumeric=1]="AlphaNumeric",e[e.Numeric=2]="Numeric",e[e.Alpha=3]="Alpha"}(h||(h={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(g||(g={})),function(e){e[e.NotSet=0]="NotSet",e[e.Upper=1]="Upper",e[e.Lower=2]="Lower"}(m||(m={}));let f=u=class QpSegmentedSelectorCustomElement extends c.QpBaseFieldEditor{constructor(e,t,i){super(t),this.element=e,this.selectorService=i,this.value={},this.items=[],this.graph="",this.editMask="",this.segmentViewName="",this.segmentFieldList=[],this.segmentHeaderList=[],this.lastPos=0,this.selEnd=0,this.selStart=0,this.dropOpen=!1,this.autoCompleteNM=!1,this.asciiCharSet=!1,this.wildcard="",this.allowNull=!1,this.lastSegment=0,this.eventSubscriptions=[],this.selectorOpened=!1,this.eventManager=t.get(r.EventManager),this.addConfigSetter("inputMask",(e=>this.setInputMask(e))),this.addConfigSetter("segments",(e=>this.setSegments(e))),this.addConfigSetter("segmentViewName",(e=>this.setSegmentViewName(e))),this.addConfigSetter("segmentFieldList",(e=>this.setSegmentFieldList(e))),this.addConfigSetter("segmentHeaderList",(e=>this.setSegmentHeaderList(e))),this.addConfigSetter("graph",(e=>this.setGraph(e)))}attached(){super.attached(),this.input&&(this.maskedInput=this.input.au.controller.viewModel,this.elemText=this.maskedInput.elemText,this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions.push(this.eventManager.addEventListener(this.elemText,"blur",(e=>this.onBlur(e)),r.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.elemText,"focus",(e=>this.onFocus(e)),r.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.elemText,"keydown",(e=>this.handleKeyDown(e)),r.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.elemText,"keyup",(e=>this.onKeyUp(e)),r.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.input,"update",(()=>this.tq.queueMicroTask((()=>this.updateValue()))),r.delegationStrategy.none,!0)))}configChanged(e,t){this.config||(this.config={}),(0,a.applyDefaultValues)(this.config,u.defaultConfig)}valueChanged(e,t){e&&null!=e.id&&e.id!==(null==t?void 0:t.id)&&(this.maskedInput.value=e.id)}detached(){super.detached(),this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[]}createColumnsConfig(){const e=[];return this.segmentFieldList.forEach(((t,i)=>{e.push({field:t,caption:this.segmentHeaderList[i]})})),e}createLookupColumnsConfig(){var e;const t=[];for(let i=0;i<((null===(e=this.state.fieldList)||void 0===e?void 0:e.length)||0);++i)t.push({field:this.state.fieldList?this.state.fieldList[i]:"",caption:this.state.headerList?this.state.headerList[i]:"",hideViewLink:!0});return t}handleKeyDown(e){return i.__awaiter(this,void 0,void 0,(function*(){switch(e.key){case"F3":e.preventDefault();try{const e=this.getSegmentIndex(this.elemText.selectionStart),t={segment:e+1,value:this.getValue(this.elemText.value)};this.selectorOpened=!0;const i=yield this.selectorService.getSelectorValue({graph:this.graph,parameters:t,view:this.segmentViewName,columns:this.createColumnsConfig(),valueField:"Value",dialogCaptionPrefix:this.state.displayName||"Select",displayName:this.items[e].title,showFilterBar:d.GridFilterBarVisibility.False,topBarItems:{select:{config:{commandName:"select",text:p.Messages.SelectorSelect,connotation:"Success"}}},adjustPageSize:!0,pageSize:20},this.element,this.container,"");if(i){if(this.elemText.selectionStart=this.getSegmentPos(this.items[e]),this.elemText.value=this.setSegmentValue(this.items[e],i.id),this.state.lookupMode===d.DimensionLookupMode.BySegmentsAndChildSegmentValues)for(let t=e+1;t<this.items.length;++t)this.elemText.value=this.setSegmentValue(this.items[t],"");const t=e;let n=this.getSegmentPos(this.items[t]);t===this.items.length-1||(n=this.getSegmentPos(this.items[t+1])),this.selectPos(n)}}catch(e){}finally{this.selectorOpened=!1}break;case"ArrowRight":case"ArrowLeft":this.items&&this.items.length>1&&e.ctrlKey&&this.selectNextSegment("ArrowLeft"===e.key)}}))}onKeyUp(e){!this.items||this.dropOpen||this.autoCompleteNM||this.checkSegmentAlign()}onClick(e){return!this.items||this.dropOpen||this.autoCompleteNM||this.checkSegmentAlign(),!0}openSelector(e){return i.__awaiter(this,void 0,void 0,(function*(){try{const e=this.getSegmentIndex(this.elemText.selectionStart);this.getValue(this.elemText.value);this.selectorOpened=!0;const t=yield this.selectorService.getSelectorValue({graph:this.graph,view:this.state.viewName,columns:this.createLookupColumnsConfig(),valueField:this.state.valueField,dialogCaptionPrefix:this.state.displayName||"Select",displayName:this.items[e].title,showFilterBar:d.GridFilterBarVisibility.False,topBarItems:{select:{config:{commandName:"select",text:p.Messages.SelectorSelect,connotation:"Success"}}},adjustPageSize:!0,pageSize:20},this.element,this.container,"");t&&(this.value=t)}catch(e){}finally{this.selectorOpened=!1}return null==e||e.preventDefault(),null==e||e.stopImmediatePropagation(),!1}))}onBlur(e){this.selectorOpened||this.updateValue()}onFocus(e){var t;this.elemText.value=this.getEditText(null===(t=this.value)||void 0===t?void 0:t.id,!1,!1)}getValue(e,t=!1){if(null===e||null===this.items)return this.allowNull?null:"";const i=e.length;let n=0,r="",o=!0;for(const a of this.items){for(let t=0;t<a.length&&n<i;t++){const t=this.filterChar(a,e.charAt(n));null!==t&&t!==a.emptyChar?(r+=t,o=!1):r+=a.emptyChar,n++}if((t||n<i&&e[n]===a.separator)&&n++,n>=i)break}return o?this.allowNull?null:"":r.trimEnd()}getEditText(e,t,i){if(null===this.items)return"";if(e||(e=""),!e.trim().length&&t)return"";if(!i&&this.autoCompleteNM)return e;let n="";const r=e.length;let o=0;return this.items.forEach(((i,a)=>{const l=t?i.emptyChar:i.promptChar,d=i.emptyChar.charCodeAt(0)>32;let c=0;for(;c<i.length;){if(o<r){const t=e.charAt(o++);t===i.emptyChar?n+=d?i.emptyChar:l:n+=t}else n+=l;c++}a<this.items.length-1&&(n+=i.separator)})),n}selectPos(e){l.browser.isIE&&this.elemText.focus(),this.lastPos=e,l.browser.isEdge?this.tq.queueTask((()=>{this.elemText.setSelectionRange(this.lastPos,this.lastPos)})):this.elemText.setSelectionRange(this.lastPos,this.lastPos)}selectNextSegment(e){let t=this.getSegmentIndex(this.elemText.selectionStart);e?(t--,t<0&&(t=this.items.length-1)):(t++,t>=this.items.length&&(t=0));const i=this.getSegmentPos(this.items[t]);this.tq.queueTask((()=>this.selectPos(i)))}updateValue(){var e,t,i,n,r;this.selStart===this.selEnd&&this.items&&!this.autoCompleteNM&&this.config.alignSegments&&(this.elemText.value=this.alignSegment(this.elemText.value,this.selStart));const o=null===(e=this.getValue(this.elemText.value))||void 0===e?void 0:e.trim();(null!=this.value||o)&&((null===(i=null===(t=this.value)||void 0===t?void 0:t.id)||void 0===i?void 0:i.trim())||o?((null===(r=null===(n=this.value)||void 0===n?void 0:n.id)||void 0===r?void 0:r.trim())||"")!==(o||"")&&(this.value={id:o}):this.value={})}syncMaskItems(e){this.items=[],e.forEach((e=>{if(e.length<=0)return;const t={};switch(t.emptyChar=String.fromCharCode(e.fillCharacter),t.promptChar=String.fromCharCode(e.promptCharacter),t.length=e.length,t.readOnly=e.readOnly,t.separator=String.fromCharCode(e.separator),t.textAlign=0===e.align?g.Left:g.Right,t.textCase=e.caseConvert,t.title=e.descr,String.fromCharCode(e.editMask)){case"C":t.editMask=h.Ascii;break;case"a":t.editMask=h.AlphaNumeric;break;case"9":t.editMask=h.Numeric;break;case"?":t.editMask=h.Alpha}this.items.push(t)}))}setInputMask(e){this.config&&(this.config.inputMask=e,this.maskedInput.setInputMask(e))}setSegments(e){this.syncMaskItems(e),this.editMask=this.getEditMask()}setSegmentViewName(e){this.segmentViewName=e}setSegmentFieldList(e){this.segmentFieldList=e}setGraph(e){this.graph=e}setSegmentHeaderList(e){this.segmentHeaderList=e}getSegmentPos(e){let t=0,i=!1;for(const n of this.items){if(n===e){i=!0;break}t+=n.length+1}return i?t:-1}getSegmentIndex(e){if(null===e)return 0;const t=this.editMask.length;let i=-1;for(;e<t;){const t=this.editMask.charCodeAt(e);if(t>=20){i=t-20;break}e++}return i<0&&(i=this.items.length-1),i}getSegmentItem(e){return this.items[this.getSegmentIndex(e)]}getSegmentValue(e,t){void 0===t&&(t=this.elemText.value);const i=this.getSegmentPos(e);let n="";if(i>=0&&i<t.length){const r=t.substring(i,i+e.length);for(const t of r)t!==e.promptChar&&(n+=t);return""===n?null:n}return null}setSegmentValue(e,t){let i=this.elemText.value;const n=this.getSegmentPos(e);if(n>=0&&n<i.length){let r=e.length-t.length;if(r>0){let i="";const n=e.textAlign===g.Left;for(;r--;)i+=e.promptChar;n?t+=i:t=i+t}else r<0&&(t=t.substring(0,e.length));const o=n+e.length;i=i.substring(0,n)+t+i.substring(o)}return i}getEditMask(){let e="";if(null!==this.items){const t=this.items.length;this.items.forEach(((i,n)=>{const r=String.fromCharCode(i.editMask),o=String.fromCharCode(i.editMask+10);i.readOnly?e+=o.repeat(i.length):e+=r.repeat(i.length),n<t-1&&(e+=String.fromCharCode(n+20))}))}return e}filterChar(e,t){if(t===e.emptyChar)return t;if(this.wildcard.indexOf(t)>=0&&t!==e.promptChar)return t;if(t===e.promptChar||this.asciiCharSet&&t.charCodeAt(0)>127)return null;let i=!0;switch(e.editMask){case h.AlphaNumeric:i=(0,a.isLetter)(t)||(0,a.isDigit)(t);break;case h.Numeric:i=(0,a.isDigit)(t);break;case h.Alpha:i=(0,a.isLetter)(t)}if(!i)return null;switch(e.textCase){case m.Upper:t=t.toUpperCase();break;case m.Lower:t=t.toLowerCase()}return t}alignSegment(e,t){const i=this.getSegmentItem(t),n=i?this.getSegmentPos(i):-1;if(n>=0&&n<e.length){const t=n+i.length;let r="";for(let o=n;o<t&&o<e.length;o++){const t=e[o];t!==i.promptChar?r+=t:r+=i.emptyChar}r=r.trimEnd(),r.length!==i.length&&(e=this.setSegmentValue(i,r))}return e}checkSegmentAlign(){if(!this.config.alignSegments)return!1;const e=this.elemText.selectionStart;let t=!1;const i=this.elemText;if(e!==this.lastPos&&e===this.elemText.selectionEnd){this.getSegmentItem(e);const n=this.getSegmentIndex(e);this.lastSegment!==n&&null!==this.lastPos&&(i.value=this.alignSegment(i.value,this.lastPos),this.elemText.setSelectionRange(e,e),t=!0),this.lastSegment=n,this.lastPos=e}return t}};f.defaultConfig={alignSegments:!0},i.__decorate([r.bindable,i.__metadata("design:type",Object)],f.prototype,"config",void 0),i.__decorate([r.bindable,(0,r.observable)({changeHandler:"valueChanged"}),i.__metadata("design:type",Object)],f.prototype,"value",void 0),f=u=i.__decorate([r.autoinject,(0,r.customElement)("qp-segmented-selector"),i.__metadata("design:paramtypes",[Element,n.Container,o.SelectorService])],f),t.QpSegmentedSelectorCustomElement=f}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/selector/qp-selector":(e,t,i)=>{var n,r;n=[i,t,i(655),i(4834),i("aurelia-framework"),i(6158),i(3425),i(8099),i(829),i(2172),i(7140),i(5346),i(3116)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpSelectorCustomElement=void 0;(0,l.getLogger)("qp-selector");let g=class QpSelectorCustomElement extends d.QpBaseFieldEditor{constructor(e,t,i,n){super(t),this.element=e,this.selectorService=i,this.client=n,this.showSelector=!1,this.suggesterOpen=!1,this.selectorOpened=!1,this.showSuggester=!0,this.converterType="text",this.displayMode="both",this.eventSubscriptions=[],this.eventManager=t.get(r.EventManager);let o=["viewName"];o.forEach((e=>{this.addConfigSetter(e,(t=>this.setSuggesterProperty(e,t)))})),this.addConfigSetter("fieldList",((e,t)=>null==e?void 0:e.forEach((e=>this.addSuggesterField(e,t))))),o=["valueField","descriptionName"],o.forEach((e=>{this.addConfigSetter(e,(t=>this.setSuggesterProperty(e,t,!0)))})),this.addConfigSetter("inputMask"),this.addConfigSetter("allowNull"),this.addConfigSetter("valueMode"),this.addConfigSetter("skipValidation"),this.addConfigSetter("promptChar"),this.addConfigSetter("emptyChar"),this.addConfigSetter("displayName",(e=>{this.gridConfig&&(this.gridConfig.displayName=e)})),this.addConfigSetter("name",(e=>{this.gridConfig&&(this.gridConfig.dataField=e),this.config.suggester&&(this.config.suggester.dataField=e)})),this.addConfigSetter("selectorMode",(e=>this.setSelectorMode(e)))}attached(){this.editorDiv&&(this.editorDiv.focus=()=>{this.focus()})}focus(){if(!this.editorDiv)return;const e=this.editorDiv.querySelector(".qp-selector-link-wrapper"),t=document.activeElement;e&&e!==t?e.focus():this.editor!==t&&this.editor.focus()}setSelectorMode(e){this.mode=e,void 0!==e&&(e&c.PXSelectorMode.AutocompleteMode&&(this.showSuggester=!1),this.config.editorType?(this.editorType=this.config.editorType,this.converterType="text",this.maskedEditor=!1,this.displayMode="id"):(e&c.PXSelectorMode.NoAutocomplete?(this.editorType="qp-mask-editor",this.converterType="mask",this.maskedEditor=!0):(this.editorType="qp-text-editor",this.converterType="text",this.maskedEditor=!1),this.config.displayMode?this.displayMode=this.config.displayMode:(e&c.PXSelectorMode.DisplayMode)===c.PXSelectorMode.DisplayMode?this.displayMode="both":e&c.PXSelectorMode.DisplayModeText?this.displayMode="text":e&c.PXSelectorMode.DisplayModeValue&&(this.displayMode="id")),"text"===this.displayMode&&(this.editorType="qp-text-editor",this.converterType="text",this.maskedEditor=!1))}editorChanged(){this.editor&&(this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"focus",(e=>{var t;(null===(t=this.config)||void 0===t?void 0:t.allowEdit)&&!this.empty||this.onFocus(e)}),r.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"blur",(e=>{this.selectorOpened||(this.editorValueChanged(),this.tq.queueTask((()=>this.onBlur(e))))}),r.delegationStrategy.capturing,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"update",(e=>this.tq.queueMicroTask((()=>this.updateValue()))),r.delegationStrategy.none,!0)))}detached(){var e,t;super.detached(),this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],null===(e=this.valueIdSubscr)||void 0===e||e.dispose(),null===(t=this.valueTextSubscr)||void 0===t||t.dispose(),this.valueIdSubscr=this.valueTextSubscr=void 0}get empty(){var e;return!(this.value&&this.value.hasOwnProperty("id")&&(null===(e=this.value.id)||void 0===e?void 0:e.toString()))}get isDisabled(){var e,t;return(null===(e=this.config)||void 0===e?void 0:e.readOnly)||!(null===(t=this.config)||void 0===t?void 0:t.enabled)}get isLinkMode(){var e;return(null===(e=this.config)||void 0===e?void 0:e.allowEdit)&&!this.editMode&&!this.empty}setSuggesterProperty(e,t,i=!1){var n,r,o,a;this.ensureSuggester();const l=this.config.suggester;null!==(n=l[e])&&void 0!==n||(l[e]=t),this.gridConfig&&(null!==(r=(o=this.gridConfig)[a="viewName"===e?"view":e])&&void 0!==r||(o[a]=t)),i&&t&&this.addSuggesterField(t,this.state)}addSuggesterField(e,t){var i,n,r,o;if(!e)return;const a=e.toLowerCase();this.ensureSuggester();const l=this.config.suggester;l.fields||(l.fields=[]);let d=l.fields.findIndex((e=>{var t;return(null===(t=e.id)||void 0===t?void 0:t.toLowerCase())===a}));if(d>=0)return;d=null!==(n=null===(i=null==t?void 0:t.fieldList)||void 0===i?void 0:i.findIndex((t=>(0,p.compareStrings)(t,e,!0))))&&void 0!==n?n:-1;const c=d>=0&&(null==t?void 0:t.headerList)?t.headerList[d]:void 0,u=(null===(r=null==t?void 0:t.descriptionName)||void 0===r?void 0:r.toLowerCase())===a||(null===(o=null==t?void 0:t.valueField)||void 0===o?void 0:o.toLowerCase())===a;l.fields.push({id:e,filter:u,caption:c,type:"String"}),this.gridConfig&&(this.gridConfig.columns=this.suggesterFieldsToColumns(l.fields))}suggesterFieldsToColumns(e){this.config.suggester.valueField;return null==e?void 0:e.map((e=>({field:e.id,caption:e.caption,hideViewLink:!0})))}ensureSuggester(){var e,t;if(!this.config.suggester){const i=null===(e=this.container.get(n.ScreenService))||void 0===e?void 0:e.getGraphInfo();this.config.suggester={inlineArgs:!0,graph:null==i?void 0:i.graphType,dataField:null===(t=this.state)||void 0===t?void 0:t.name}}}configChanged(e){var t;if(e){this.ensureSuggester();const{viewName:i,graph:n}=e.suggester,r=this.suggesterFieldsToColumns(e.suggester.fields);this.gridConfig={dialogCaptionPrefix:e.dialogCaptionPrefix||"Select",selectButtonCaption:e.selectButtonCaption,graph:n,view:i,columns:r,valueField:e.suggester.valueField,descriptionName:e.suggester.descriptionName,displayName:e.suggester.displayName,dataField:null===(t=this.state)||void 0===t?void 0:t.name,showFastFilter:c.GridFastFilterVisibility.ToolBar,topBarItems:{select:{config:{commandName:"select",text:h.Messages.SelectorSelect,connotation:"Success"}},add:{config:{commandName:"addNewRecord",imageUrl:"main@RecordAdd"}}},actionsConfig:{exportToExcel:{hidden:!0}},allowSkipTabs:!1,autoSaveLayout:!1,preserveSortsAndFilters:!1,adjustPageSize:!0,pageSize:20,panel_id:`${e.id}_pnl_dlg`,id:`${e.id}_pnl_gr`},this.setSelectorMode(this.mode)}}get editorConfig(){if(!this.config)return;let e=this.config.tabIndex,t=this.config.enabled;return this.editor&&(this.config.readOnly||!this.config.enabled||this.isLinkMode)&&(e=-1,t=!1),{id:`${this.config.id}_text`,name:this.config.name,tabIndex:e,enabled:t,readOnly:this.config.readOnly,inputMask:this.config.inputMask,nullText:this.config.nullText,allowNull:this.config.allowNull,valueMode:this.config.valueMode,skipValidation:this.config.skipValidation,promptChar:this.config.promptChar,emptyChar:this.config.emptyChar}}displayModeChanged(){this.writeEditorValue()}editModeChanged(){this.editMode&&this.writeEditorValue()}writeEditorValue(){var e;if(this.selectorOpened)return;if(null==(null===(e=this.value)||void 0===e?void 0:e.id))return this.editorValue=void 0,void(this.refText=this.descrText="");const t=null!=this.value.text,i=this.value.id.toString().trim(),n=t?this.value.text.toString().trim():"";if(this.editMode)return"both"===this.displayMode||"id"===this.displayMode?this.editorValue=i:this.editorValue=t?n:void 0,void(this.refText=this.descrText="");let r;switch(this.displayMode){case"both":n&&i!==n?(this.refText=i,this.descrText=`- ${n}`,r=`${this.refText} - ${n}`):(r=this.refText=i,this.descrText="");break;case"id":r=this.refText=i,this.descrText="";break;case"text":r=this.refText=t?n:void 0,this.descrText=""}this.editorValue=r}editorValueChanged(){var e;(null===(e=this.config)||void 0===e?void 0:e.suggester)&&"text"===this.displayMode&&(this.config.suggester.suggestOnBlur=!0)}valueChanged(){var e,t,i;null===(e=this.valueIdSubscr)||void 0===e||e.dispose(),null===(t=this.valueTextSubscr)||void 0===t||t.dispose(),this.valueIdSubscr=this.valueTextSubscr=void 0,this.writeEditorValue(),(null===(i=this.config)||void 0===i?void 0:i.suggester)&&(this.config.suggester.suggestOnBlur=!1),this.value&&(this.valueIdSubscr=this.bindingEngine.propertyObserver(this.value,"id").subscribe((e=>{this.value={id:e,text:""},this.writeEditorValue()})),this.valueTextSubscr=this.bindingEngine.propertyObserver(this.value,"text").subscribe((e=>{this.writeEditorValue()})))}openEditor(e){var t;const i=this.container.get(n.ScreenService),r=(i.siteMapScreenID?i.siteMapScreenID:i.screenID)||(0,p.getScreenID)();return this.client.getEditScreen(r,this.config.suggester.viewName||"",this.config.suggester.dataField||"",null===(t=this.value)||void 0===t?void 0:t.id),e.preventDefault(),e.stopPropagation(),!1}openSelector(e){var t,n,r;return i.__awaiter(this,void 0,void 0,(function*(){if(null===(n=null===(t=this.config)||void 0===t?void 0:t.suggester)||void 0===n?void 0:n.simpleSelect)this.editor.focus(),this.suggesterOpen=!this.suggesterOpen;else{this.selectorOpened=!0;try{const t=this.editMode?this.editor.value:null===(r=this.value)||void 0===r?void 0:r.id;let i=this.gridConfig.valueField;if("text"===this.displayMode){i=this.gridConfig.descriptionName;const e=this.gridConfig.columns.find((e=>(0,p.compareStrings)(e.field,this.gridConfig.valueField,!0)));e&&(e.allowShowHide=c.GridColumnShowHideMode.False,e.visible=!1)}const n=yield this.selectorService.getSelectorValue(this.gridConfig,this.element,this.container,t,i);if(this.selectorOpened=!1,n){if("<NEW>"===(null==n?void 0:n.id))return this.client.getEditScreen((0,p.getScreenID)(),this.config.suggester.viewName||"",this.config.suggester.dataField||"",void 0).then((e=>{var t,i;(null===(t=null==e?void 0:e.redirectResults)||void 0===t?void 0:t.length)&&(null===(i=e.redirectResults[0])||void 0===i?void 0:i.close$)&&e.redirectResults[0].close$.then((e=>{var t;if(e){const i=null===(t=Object.values(e)[0])||void 0===t?void 0:t.toString();null!=i&&(this.value={id:i,text:""})}}))})),null==e||e.preventDefault(),null==e||e.stopImmediatePropagation(),!1;this.value=n;const t=new CustomEvent("value-selected",{bubbles:!0,detail:n});this.element.dispatchEvent(t)}}catch(e){this.selectorOpened=!1}}return this.tq.queueTask((()=>this.focus())),null==e||e.preventDefault(),null==e||e.stopImmediatePropagation(),!1}))}handleKeyDown(e){return"F3"!==e.key||(e.preventDefault(),e.stopImmediatePropagation(),this.openSelector(),!1)}onSpanFocus(e){return this.config.readOnly||!this.config.enabled?(e.preventDefault(),e.stopImmediatePropagation(),!1):(this.editMode=!0,this.tq.queueMicroTask((()=>this.editor.focus())),!this.maskedEditor&&this.config.inputMask&&"text"!==this.displayMode&&(this.converterType="mask"),!0)}onFocus(e){return this.config.readOnly||!this.config.enabled?(e.preventDefault(),e.stopImmediatePropagation(),!1):(this.editMode=!0,!this.maskedEditor&&this.config.inputMask&&"text"!==this.displayMode&&(this.converterType="mask"),!0)}onBlur(e){return!this.editMode&&this.editorValue===this.editor.value||(this.editMode=!1,this.updateValue(),!0)}preventFocus(e){return e.preventDefault(),!1}clearValue(e){return this.onFocus(e),this.tq.queueTask((()=>{this.editorValue=""})),e.preventDefault(),e.stopImmediatePropagation(),!1}updateValue(){var e,t,i,n,r,o,a;if(!(null===(e=this.editorValue)||void 0===e?void 0:e.trim()))return"text"===this.displayMode&&!(null===(i=null===(t=this.value)||void 0===t?void 0:t.text)||void 0===i?void 0:i.toString().trim())||((null===(r=null===(n=this.value)||void 0===n?void 0:n.id)||void 0===r?void 0:r.toString().trim())&&(this.value=null),!0);"text"===this.displayMode||this.editorValue!==(null===(a=null===(o=this.value)||void 0===o?void 0:o.id)||void 0===a?void 0:a.toString().trim())&&(this.value={id:this.editorValue,text:""}),this.maskedEditor||"text"===this.converterType||(this.converterType="text"),this.writeEditorValue()}setSuggestedValue(e,t,i){var n,r;if(e)if((null===(r=null===(n=this.value)||void 0===n?void 0:n.id)||void 0===r?void 0:r.toString())===e)this.value.text=t,this.writeEditorValue(),this.editor.value=this.editorValue||"";else{this.value={id:e,text:t};const i=new CustomEvent("value-selected",{bubbles:!0,detail:e});this.element.dispatchEvent(i)}else this.value=null}};i.__decorate([r.bindable,i.__metadata("design:type",Object)],g.prototype,"config",void 0),i.__decorate([r.bindable,i.__metadata("design:type",Object)],g.prototype,"value",void 0),i.__decorate([r.observable,i.__metadata("design:type",Boolean)],g.prototype,"editMode",void 0),i.__decorate([r.observable,i.__metadata("design:type",HTMLInputElement)],g.prototype,"editor",void 0),i.__decorate([r.observable,i.__metadata("design:type",String)],g.prototype,"displayMode",void 0),i.__decorate([r.observable,i.__metadata("design:type",String)],g.prototype,"editorValue",void 0),i.__decorate([(0,r.computedFrom)("value","value.id"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],g.prototype,"empty",null),i.__decorate([(0,r.computedFrom)("config","config.readOnly","config.enabled"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],g.prototype,"isDisabled",null),i.__decorate([(0,r.computedFrom)("editMode","config","config.allowEdit","value","value.id"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],g.prototype,"isLinkMode",null),i.__decorate([(0,r.computedFrom)("config","config.id","config.tabIndex","config.enabled","config.readOnly","config.inputMask","config.allowEdit","editMode"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],g.prototype,"editorConfig",null),g=i.__decorate([r.autoinject,(0,r.customElement)("qp-selector"),i.__metadata("design:paramtypes",[Element,o.Container,a.SelectorService,u.SelectorApiClient])],g),t.QpSelectorCustomElement=g}.apply(t,n),void 0===r||(e.exports=r)},5346:(e,t,i)=>{var n,r;n=[i,t,i(655),i(1255),i("aurelia-framework")],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorApiClient=void 0;let o=class SelectorApiClient{constructor(e){this.client=e}getEditScreen(e,t,i,n){return this.client.fetchExt(`ui/screen/${e}/selector/edit-screen`,{DataMember:t,DataField:i,Value:n})}};o=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[n.BaseApiClient])],o),t.SelectorApiClient=o}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/simple-selector/qp-simple-selector":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(6158),i(829),i(3147)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpSimpleSelectorCustomElement=void 0;let l=class QpSimpleSelectorCustomElement extends o.QpBaseFieldEditor{constructor(e,t,i){super(e),this.dialogHelper=t,this.element=i,this.buttonConfig={id:"simple-select--button"}}configChanged(e){var t;this.buttonConfig.enabled=buttonPressable(e),this.buttonConfig.id=`${null===(t=this.config)||void 0===t?void 0:t.id}_btnSelector`}valueChanged(e){this.buttonConfig.text=e}toggleSelector(e){if(!buttonPressable(this.config))return;e.preventDefault(),e.stopImmediatePropagation();const t={hideMaximizer:this.config.hideMaximizer,templateId:this.config.dialogPanelId,caption:this.config.dialogTitle,rootElement:this.config.dialogPanelRoot,context:this};this.selectorContext=this.config.context,this.dialogHelper.openDialog(t)}};function buttonPressable(e){return!!(null==e?void 0:e.enabled)&&(!e.readOnly||e.readonlyOpensDialog)}i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],l.prototype,"value",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"selectorContext",void 0),l=i.__decorate([(0,n.customElement)("qp-simple-selector"),n.autoinject,i.__metadata("design:paramtypes",[r.Container,a.DialogHelper,Element])],l),t.QpSimpleSelectorCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/text-editor/converter":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(4774),i(9485)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveSCRIPTValueConverter=t.MetaValueConverter=t.TextEditorValueConverter=void 0;let a=class TextEditorValueConverter{toView(e,t,i,n){return!t&&n&&n.allowNull&&!e?n.nullText:null!=e?e.toString():""}fromView(e,t,i,n){return!n.allowNull||e&&e!==n.nullText?e:null}};a=i.__decorate([(0,n.valueConverter)("textEditor")],a),t.TextEditorValueConverter=a;let l=class MetaValueConverter{constructor(e,t,i){this.text=e,this.numb=t,this.mask=i,this.signals=["format-changed"]}toView(e,t,i,n,r){const o=this[t];return o&&o.toView?o.toView(e,i,n,r):e}fromView(e,t,i,n,r){const o=this[t];return o&&o.fromView?o.fromView(e,i,n,r):e}};l=i.__decorate([n.autoinject,(0,n.valueConverter)("meta"),i.__metadata("design:paramtypes",[a,r.NumberEditorValueConverter,o.MaskEditorValueConverter])],l),t.MetaValueConverter=l;const d=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;let c=class RemoveSCRIPTValueConverter{toView(e){return null==e?null:e.replace(d,"")}};c=i.__decorate([(0,n.valueConverter)("removeSCRIPT")],c),t.RemoveSCRIPTValueConverter=c}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/text-editor/qp-text-editor":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(829),i(6158),i(3116),i(2172),i(7140),i(3147),i(9582)],r=function(e,t,i,n,r,o,a,l,d,c,p){"use strict";var u;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTextEditorCustomElement=void 0;let h=u=class QpTextEditorCustomElement extends r.QpBaseFieldEditor{constructor(e,t){super(t),this.element=e,this.converter="text",this.hasFocus=!1,this.editorState={hasChanges:!1},this.languageButtonConfig={id:"btnLanguage",dialogResult:1,enabled:!0},this.Msg=a.Messages,this.addConfigSetter("length","maxLength"),this.addConfigSetter("nullable","allowNull"),this.addConfigSetter("multiLine",(e=>{e&&(this.config.type=1)})),this.addConfigSetter("language","language"),this.addConfigSetter("translations",(e=>this.setTranslations(e))),this.screenEventManager=new l.QpEventManager(t),this.container.registerInstance(l.QpEventManager,this.screenEventManager),this.dialogHelper=t.get(c.DialogHelper),this.translationService=t.get(p.TranslationService)}get SuggestionMode(){var e,t;return this.config&&!this.config.hasEditLink&&("multiline"===(null===(e=this.config.smartSuggestionMode)||void 0===e?void 0:e.toLowerCase())||"singleline"===(null===(t=this.config.smartSuggestionMode)||void 0===t?void 0:t.toLowerCase()))&&this.config.enabled&&!this.config.readOnly}configChanged(e,t){this.config||(this.config={}),(0,d.applyDefaultValues)(this.config,u.defaultConfig)}stateChanged(e,t){super.stateChanged(e,t),this.languageButtonConfig.text=e.language}isTextArea(){return"TEXTAREA"===this.elemText.tagName.toUpperCase()}get type(){return""}sendUpdateEvent(){const e=new CustomEvent("update",{bubbles:!0,cancelable:!1});this.elemText.dispatchEvent(e)}sendInputEvent(){const e=new InputEvent("input",{bubbles:!0,cancelable:!0});this.elemText.dispatchEvent(e)}select(e=null,t=null){this.config.hidden||(null==e||null==t?null!=e?this.elemText.setSelectionRange(e,e):this.elemText.select():this.elemText.setSelectionRange(e,t))}selectContent(){(0,d.isVisible)(this.elemText)&&this.config&&(this.config.selectOnFocus||this.getDisabled())&&this.tq.queueMicroTask((()=>this.select()))}getDisabled(){return!this.config.enabled||this.config.readOnly}processKeyDown(e){let t=e.key&&1===e.key.length&&!e.ctrlKey&&!e.metaKey&&!e.altKey?e.key[0].charCodeAt(0):null;switch(e.key){case"Backspace":t=8;break;case"Delete":t=7;break;case"Enter":const i=this.elemText,n=i.resizer;if(this.isTextArea()&&(e.ctrlKey||e.metaKey)){const e=i.selectionEnd;i.value=`${i.value.substring(0,e)}\n${i.value.substring(e)}`,i.selectionEnd=e+1,n&&n.adjust&&n.adjust();break}e.shiftKey||this.getDisabled()||this.sendUpdateEvent(),this.processBlur(e)}return null==t||!(this.getDisabled()||t>127&&this.config.asciiCharSet)&&this.onKeyPress(e,t)}onKeyPress(e,t){return!0}processFocus(e){this.hasFocus=!0,this.editorState.hasChanges=!1,this.selectContent()}processBlur(e){this.hasFocus=this.editorState.hasChanges=!1}processInput(e){this.editorState.hasChanges=!0}processPaste(e){if(this.getDisabled())return!1;const t=e.clipboardData?e.clipboardData:n.PLATFORM.global.clipboardData;if(null!=t){const e=t.getData("Text");if(this.processPasteValue(e))return!1}return!0}processPasteValue(e){return!1}processLinkClick(){this.screenEventManager.publish(new l.ExecuteCommandEvent(this.config.linkCommand))}setTranslations(e){e&&(this.translations=e,this.translationService.sendRequestForLocale().then((e=>{var t;null===(t=this.translations)||void 0===t||t.forEach((t=>{const i=null==e?void 0:e.find((e=>-1!==e.id.indexOf(t.language)));i&&(t.languageCaption=`${i.text} (${t.language})`)}))})))}openDialog(e,t){var i;const n=null===(i=this.translations)||void 0===i?void 0:i.map((e=>Object.assign({},e)));this.dialogHelper.openDialog(Object.assign(Object.assign({},t),{templateId:e,context:this}),{},(e=>{this.currentDialog=e.controller,e.closeResult.finally((()=>{this.currentDialog=void 0}))})).whenClosed((()=>{var e;if(!n&&!this.translations)return;((null==n?void 0:n.length)!==(null===(e=this.translations)||void 0===e?void 0:e.length)||(null==n?void 0:n.reduce(((e,t,i)=>{var n;return e||(null===(n=this.translations)||void 0===n?void 0:n[i].valueString)!==t.valueString}),!1)))&&this.translationService.setTranslations(this.state,this.translations)}))}openLocaleWindow(){this.openDialog("pnlLocaleEditor",{hideMaximizer:!0,caption:this.Msg.Translations})}get textMode(){if(null==this.config)return"text";switch(this.config.type){case 2:return"password";case 3:return"color"}return"text"}get align(){if(null==this.config)return"";switch(this.config.textAlign){case 1:return"left";case 2:return"center";case 3:return"right";case 4:return"justify"}return""}};h.defaultConfig={allowNull:!0,enabled:!0,selectOnFocus:!0,spellcheck:!0,type:0,enableSmartSuggestion:!1},i.__decorate([n.bindable,i.__metadata("design:type",Object)],h.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],h.prototype,"value",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],h.prototype,"converter",void 0),i.__decorate([n.bindable,i.__metadata("design:type",HTMLInputElement)],h.prototype,"elemText",void 0),i.__decorate([(0,n.computedFrom)("config.hasEditLink","config.smartSuggestionMode","config.enabled","config.readOnly"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],h.prototype,"SuggestionMode",null),i.__decorate([(0,n.computedFrom)("config.type"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],h.prototype,"textMode",null),i.__decorate([(0,n.computedFrom)("config.textAlign"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],h.prototype,"align",null),h=u=i.__decorate([(0,n.customElement)("qp-text-editor"),n.autoinject,i.__metadata("design:paramtypes",[Element,o.Container])],h),t.QpTextEditorCustomElement=h}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/uploader/qp-multi-upload":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7699),i(7678),i(1015)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpMultiUploadCustomElement=void 0;let l=class QpMultiUploadCustomElement{constructor(e){this.element=e}raiseEvent(e,t){this.element.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:t}))}filesChanged(){if(!this.config)return;const e=Array.isArray(this.files)?this.files:this.files?[this.files]:[];if(0===e.length)return;const t=a.PLATFORM.global.px_cm,i=t&&(t.findDataSource()||(null==t?void 0:t.dataSource)),n=new FormData;e.forEach((e=>n.append("upload",e)));const r={fileNames:e.map((e=>e.name)),blobs:e};this.raiseEvent("fileloading",r),this.client.upload(n,this.config.graph,this.config.view,this.config.recordId,this.config.action,this.config.screenId).then((()=>{this.raiseEvent("fileloaded",r),i&&i.executeCommand("RepaintControls")}))}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"config",void 0),i.__decorate([n.observable,i.__metadata("design:type",Object)],l.prototype,"files",void 0),i.__decorate([r.autoinject,i.__metadata("design:type",o.FilesDialogApiClient)],l.prototype,"client",void 0),l=i.__decorate([r.autoinject,(0,n.customElement)("qp-multi-upload"),i.__metadata("design:paramtypes",[Element])],l),t.QpMultiUploadCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/simple/uploader/qp-uploader":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7699),i(7678),i(3116)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpUploaderCustomElement=void 0;let l=class QpUploaderCustomElement{constructor(e,t){this.element=t,this.Messages=a.Messages,this.dragDropHandler=e=>{var t,i,n,r,o;this.hideReceiver();const a=e;if(a.defaultPrevented)return;a.preventDefault();const l=[];let d;if(null===(t=a.dataTransfer)||void 0===t?void 0:t.items){for(d=0;d<a.dataTransfer.items.length;d++)if("file"===(null===(i=a.dataTransfer)||void 0===i?void 0:i.items[d].kind)){const e=a.dataTransfer.items[d].getAsFile();if(this.allowed(e)&&(l.push(e),null===(n=this.config)||void 0===n?void 0:n.singleMode))break}}else for(d=0;d<a.dataTransfer.files.length;d++){const e=null===(r=a.dataTransfer)||void 0===r?void 0:r.files[d];if(this.allowed(e)&&(l.push(e),null===(o=this.config)||void 0===o?void 0:o.singleMode))break}this.postFiles(l)},this.dragOverHandler=e=>{clearTimeout(this.hideTimer),this.hideTimer=void 0,e.defaultPrevented?this.hideReceiver():(e.preventDefault(),e.target&&this.showReceiver(e.target))},this.dragLeaveHandler=()=>{this.hideTimer=setTimeout((()=>this.hideReceiver()),16)},this.ready=new Promise(((e,t)=>this.setReady=e))}postFiles(e){var t;(null===(t=this.config)||void 0===t?void 0:t.singleMode)?this.value=e[0]:this.value=e}allowed(e){return(0,o.acceptFile)(e,this.acceptList)}configChanged(){var e,t;this.acceptList=(0,o.createAcceptList)(null===(e=this.config)||void 0===e?void 0:e.accept),this.ready.then((e=>{this.detachHandlers(),this.attachHandlers()})),this.fileInput&&((null===(t=this.config)||void 0===t?void 0:t.singleMode)?this.fileInput.removeAttribute("multiple"):this.fileInput.setAttribute("multiple","true"))}detachHandlers(){this.element.removeEventListener("drop",this.dragDropHandler),this.element.removeEventListener("dragleave",this.dragLeaveHandler),this.element.removeEventListener("dragover",this.dragOverHandler),this.target&&(this.target.removeEventListener("drop",this.dragDropHandler),this.target.removeEventListener("dragleave",this.dragLeaveHandler),this.target.removeEventListener("dragover",this.dragOverHandler))}attachHandlers(){var e,t;this.element.addEventListener("drop",this.dragDropHandler),this.element.addEventListener("dragleave",this.dragLeaveHandler),this.element.addEventListener("dragover",this.dragOverHandler),(null===(e=this.config)||void 0===e?void 0:e.dropTarget)&&(this.target=n.DOM.querySelector(null===(t=this.config)||void 0===t?void 0:t.dropTarget),this.target&&(this.target.addEventListener("drop",this.dragDropHandler),this.target.addEventListener("dragleave",this.dragLeaveHandler),this.target.addEventListener("dragover",this.dragOverHandler)))}attached(){this.setReady(),this.attachHandlers()}filesFromInput(){var e,t;const i=[],n=(null===(e=this.fileInput.files)||void 0===e?void 0:e.length)||0;for(let e=0;e<n&&(i.push(this.fileInput.files[e]),!(null===(t=this.config)||void 0===t?void 0:t.singleMode));e++);this.postFiles(i),this.fileInput.value=""}hideReceiver(){this.receiver&&(n.DOM.removeNode(this.receiver),this.receiver=void 0)}showReceiver(e){let t;t=this.target&&e.compareDocumentPosition(this.target)&Node.DOCUMENT_POSITION_CONTAINS?this.target:this.element;const{top:i,left:r,width:o,height:a}=t.getBoundingClientRect();if(!this.receiver){this.receiver=n.DOM.createElement("DIV");const e=this.receiver.style;e.position="fixed",e.top=`${i}px`,e.left=`${r}px`,e.width=`${o}px`,e.height=`${a}px`,e.pointerEvents="none",e.boxSizing="border-box",e.border="5px dashed var(--primary-color, gray)",e.backgroundColor="rgba(255,255,255,.5)",e.zIndex="var(--zindex-dropdown, 20000)",n.DOM.appendNode(this.receiver)}}detached(){this.detachHandlers()}get showInput(){var e,t;return!(null===(e=this.config)||void 0===e?void 0:e.disabled)&&!(null===(t=this.config)||void 0===t?void 0:t.disableClick)}get buttonStyles(){var e;return(null===(e=this.config)||void 0===e?void 0:e.disableClick)?"--uploader-button-pointer-events: all;":""}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],l.prototype,"value",void 0),i.__decorate([(0,n.computedFrom)("config","config.disabled","config.disableClick"),i.__metadata("design:type",Boolean),i.__metadata("design:paramtypes",[])],l.prototype,"showInput",null),i.__decorate([(0,n.computedFrom)("config","config.disableClick"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],l.prototype,"buttonStyles",null),l=i.__decorate([r.autoinject,(0,n.customElement)("qp-uploader"),i.__metadata("design:paramtypes",[n.Container,Element])],l),t.QpUploaderCustomElement=l}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/utility/drop-down-frame/qp-drop-down-frame":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1901)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpDropDownFrameCustomElement=void 0;const o="qp-drop-down-frame";let a=class QpDropDownFrameCustomElement{constructor(e){this.element=e,this.controlClass=o,this.opened=!1,this.showOpener=!0,this.contentElementId=`drop-down-container-${r.Tools.newGuid()}`}attached(){r.Tools.defineProperties(this.element,{opened:{get:()=>this.opened,set:e=>this.opened=e},hideDropDown:{get:()=>this.hideDropDown.bind(this)},showDropDown:{get:()=>this.showDropDown.bind(this)}})}hideDropDown(){this.opened=!1}showDropDown(){this.opened=!0}attachHideTrigger(){var e,t,i;const r=[[null!==(e=this.element.ownerDocument)&&void 0!==e?e:n.PLATFORM.global.document,"mousedown",e=>{const t=e.target;if(t.nodeType!==Node.ELEMENT_NODE)return;if(this.element.contains(t))return;const i=this.element.ownerDocument.getElementById(this.contentElementId);(null==i?void 0:i.contains(t))||(this.opened=!1)}],[null!==(i=null===(t=this.element.ownerDocument)||void 0===t?void 0:t.defaultView)&&void 0!==i?i:n.PLATFORM.global,"blur",e=>this.opened=!1]];return r.forEach((([e,t,i])=>e.addEventListener(t,i,!0))),{dispose:()=>r.forEach((([e,t,i])=>e.removeEventListener(t,i,!0)))}}openedChanged(e,t){var i,n,r,o;const a={opened:e},l=new CustomEvent("dropdown"+(e?"opened":"closed"),{bubbles:!0,detail:a});null===(i=this.element)||void 0===i||i.dispatchEvent(l),a.prevent?this.opened=t:e?(this.element.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,cancelable:!0})),null===(n=this.control.ownerDocument.defaultView)||void 0===n||n.focus(),this.control.focus(),this.hideTrigger=null!==(r=this.hideTrigger)&&void 0!==r?r:this.attachHideTrigger()):(null===(o=this.hideTrigger)||void 0===o||o.dispose(),this.hideTrigger=void 0)}stopPropagation(e){e.stopPropagation()}toggleDropDown(e){this.opened=!this.opened,e.stopImmediatePropagation()}};i.__decorate([n.bindable,i.__metadata("design:type",String)],a.prototype,"controlClass",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],a.prototype,"opened",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],a.prototype,"showOpener",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],a.prototype,"openerIcon",void 0),a=i.__decorate([n.autoinject,(0,n.customElement)(o),i.__metadata("design:paramtypes",[Element])],a),t.QpDropDownFrameCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},2973:(e,t,i)=>{var n,r;n=[i,t,i("client-controls/controls/utility/suggester/elements/qp-suggester"),i("client-controls/controls/utility/suggester/qp-editor-wrapper"),i(2112),i("client-controls/controls/utility/tooltip/qp-tooltip"),i("client-controls/controls/utility/wait-cursor/qp-wait-cursor"),i("client-controls/controls/utility/layout/qp-layout"),i("client-controls/controls/utility/drop-down-frame/qp-drop-down-frame")],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpDropDownFrameCustomElement=t.QpLayoutCustomElement=t.QpWaitCursorCustomElement=t.QpTooltipCustomElement=t.QpExtentionCordCustomAttribute=t.QpEditorWrapperCustomElement=t.QpSuggesterCustomElement=void 0,Object.defineProperty(t,"QpSuggesterCustomElement",{enumerable:!0,get:function(){return i.QpSuggesterCustomElement}}),Object.defineProperty(t,"QpEditorWrapperCustomElement",{enumerable:!0,get:function(){return n.QpEditorWrapperCustomElement}}),Object.defineProperty(t,"QpExtentionCordCustomAttribute",{enumerable:!0,get:function(){return r.QpExtentionCordCustomAttribute}}),Object.defineProperty(t,"QpTooltipCustomElement",{enumerable:!0,get:function(){return o.QpTooltipCustomElement}}),Object.defineProperty(t,"QpWaitCursorCustomElement",{enumerable:!0,get:function(){return a.QpWaitCursorCustomElement}}),Object.defineProperty(t,"QpLayoutCustomElement",{enumerable:!0,get:function(){return l.QpLayoutCustomElement}}),Object.defineProperty(t,"QpDropDownFrameCustomElement",{enumerable:!0,get:function(){return d.QpDropDownFrameCustomElement}})}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/utility/layout/qp-layout":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1901)],r=function(e,t,i,n,r){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.roundWithPrecision=t.QpLayoutCustomElement=void 0,function(e){e[e.Unavailable=0]="Unavailable",e[e.Hidden=-1]="Hidden",e[e.Visible=1]="Visible"}(o||(o={}));let a=class QpLayoutCustomElement{constructor(e,t){this.element=e,this.tq=t,this.layout="flex",this.hideBehavior="hide",this.ellipsisBehavior="last-visible",this.ellipsisState=o.Unavailable,this.ellipsisStateClass="",this.updateQueued=!1,this.updating=!1,this.dashboardId=`layout-dashboard-${r.Tools.newGuid()}`}bind(){}attached(){r.Tools.defineProperties(this.element,{opened:{get:()=>{var e;return null===(e=this.ellipsis)||void 0===e?void 0:e.opened},set:e=>!!this.ellipsis&&(this.ellipsis.opened=e)},hideDropDown:{get:()=>{var e,t;return null===(t=null===(e=this.ellipsis)||void 0===e?void 0:e.hideDropDown)||void 0===t?void 0:t.bind(this.ellipsis)}},showDropDown:{get:()=>{var e,t;return null===(t=null===(e=this.ellipsis)||void 0===e?void 0:e.showDropDown)||void 0===t?void 0:t.bind(this.ellipsis)}}}),this.updateConfig()}detached(){this.disconnectObservers()}disconnectObservers(){var e,t;null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.resizeObserver=void 0,null===(t=this.mutationObserver)||void 0===t||t.disconnect(),this.mutationObserver=void 0}updateConfig(){if("bar"===this.layout&&"ellipsis"===this.hideBehavior?this.ellipsisState===o.Unavailable&&(this.ellipsisState=o.Hidden):this.ellipsisState=o.Unavailable,!this.resizeObserver&&n.PLATFORM.global.ResizeObserver&&(this.resizeObserver=new n.PLATFORM.global.ResizeObserver((e=>{e&&e.length&&this.queueUpdateLayout()})),this.resizeObserver.observe(this.host)),!this.mutationObserver&&n.PLATFORM.global.MutationObserver){const getLayoutItem=e=>{if(e!==this.host)for(;;){if(e.nodeType===Node.ELEMENT_NODE&&existingElement(e))return e;const t=e.parentNode;if(!t)return;if(t===this.host)return e.nodeType===Node.ELEMENT_NODE?e:void 0;e=t}},newElement=e=>e.nodeType===Node.ELEMENT_NODE&&e!==this.ellipsis&&!e.suspended&&!e.observed,existingElement=e=>e.nodeType===Node.ELEMENT_NODE&&e!==this.ellipsis&&!e.suspended&&!!e.observed;this.mutationObserver=new n.PLATFORM.global.MutationObserver((e=>{if(!e||!e.length)return;const t=Array.from(new Set(e.flatMap((e=>{var t,i;return[...e.target!==this.host?[e.target]:[],...Array.from(null!==(t=e.addedNodes)&&void 0!==t?t:[]),...Array.from(null!==(i=e.removedNodes)&&void 0!==i?i:[])]})).map((e=>getLayoutItem(e))).filter((e=>!!e)))),i=t.filter((e=>newElement(e))),n=t.filter((e=>existingElement(e)));n.forEach((e=>e.needUpdate=!0)),(i.length>0||n.length>0)&&this.queueUpdateLayout()})),this.mutationObserver.observe(this.host,{subtree:!0,characterData:!0,childList:!0})}}updateStyles(){var e;let t="";const i=[],addState=e=>i.push(e);if(this.ellipsisState===o.Hidden)addState("hidden");else if(this.ellipsisState===o.Visible){addState("visible");const i=null===(e=this.host)||void 0===e?void 0:e.getBoundingClientRect();t+=i?`--layout-bar-min-height: ${Math.round(i.height)}px;`:"",void 0!==this.minCount&&void 0!==this.minWidth&&(t+=`--layout-bar-min-width: ${Math.round(this.minWidth)}px;`),void 0!==this.hiddenPart&&(t+=`--layout-hidden-item-transparency: ${this.hiddenPart}%;`),void 0!==this.ellipsisOffset?(addState("left"),t+=`--layout-ellipsis-offset: ${Math.round(this.ellipsisOffset)}px;`):(addState("right"),t+="--layout-ellipsis-offset: 0px;")}else addState("none");this.ellipsisStateClass=i.map((e=>`qp-layout-ellipsis-${e}`)).join(" "),this.inlineCss=t}queueUpdateLayout(){this.updateQueued||(this.updateQueued=!0,this.tq.queueTask((()=>this.updateLayout())))}updateLayout(){var e,t;if(!this.updating){this.updating=!0;try{const i=this.host;if(this.ellipsisState!==o.Unavailable&&(this.ellipsisState=i.scrollWidth>i.clientWidth?o.Visible:o.Hidden),"hide"!==this.hideBehavior&&"ellipsis"!==this.hideBehavior)return;const n=i.getBoundingClientRect(),r=2,a=roundWithPrecision(this.ellipsisState===o.Visible?n.right-n.height:n.right,r);let l,d,c=n.height;const p=this.element.ownerDocument.getElementById(this.dashboardId),u=[],h=p?e=>u.push(e):e=>{},createOpposite=e=>{const t=e.cloneNode(!0);return t.suspended=!0,t.opposite=e,t.classList.add("qp-layout-hidden-item"),e.opposite=t},swap=(e,t)=>{i.insertBefore(t,e),i.removeChild(e)},g="border"===this.ellipsisBehavior?(e,t)=>{const i=t.left<a;l=i?t.width>0?Math.round(100*(t.right-a)/t.width):100:l;(e.suspended?e:e.opposite).classList.toggle("partial",i)}:(e,t)=>{d=void 0===d?t.left:Math.min(t.left,d)},m=Math.max(0,Math.round(null!==(e=this.minCount)&&void 0!==e?e:0)),f=Array.from(i.childNodes).filter((e=>e.nodeType===Node.ELEMENT_NODE&&e!==this.ellipsis)).reverse();if(f.forEach(((e,t)=>{var i;const n=f.length-1-t;e.suspended||e.observed||(e.observed=!0,null===(i=this.resizeObserver)||void 0===i||i.observe(e));let o=e.getBoundingClientRect();if(e.suspended){if(!!e.opposite.needUpdate||(()=>{const t=e.opposite.getBoundingClientRect();return o.width!==t.width})()){const t=createOpposite(e.opposite);swap(e,t),o=(e=t).getBoundingClientRect(),e.opposite.needUpdate=!1}}else e.needUpdate=!1;if(c+=n>=m?0:o.width,n>=m&&roundWithPrecision(o.right,r)>a)try{if(e.suspended)return void h(e.opposite);e.opposite||createOpposite(e),h(e)}finally{g(e,o)}else if(!e.suspended)return;swap(e,e.opposite)})),p){const e=u.reverse();if(e.length>0){const t=Array.from(p.childNodes).filter((e=>e.nodeType===Node.ELEMENT_NODE));t.filter((t=>-1===e.indexOf(t))).forEach((e=>{e.remove(),t.splice(t.indexOf(e),1)}));for(let i=0,n=0;i<e.length;i++)e[i]!==t[n]?p.insertBefore(e[i],t[n]):n++}else null===(t=this.ellipsis)||void 0===t||t.hideDropDown(),p.replaceChildren()}this.minWidth=c,this.hiddenPart=l,this.ellipsisOffset=void 0===d?void 0:d-n.left,void 0!==d&&this.ellipsisState!==o.Unavailable&&(this.ellipsisState=o.Visible)}finally{this.updating=!1,this.updateQueued=!1,this.updateStyles()}}}};function roundWithPrecision(e,t){const i=Math.pow(10,Math.max(0,t));return Math.round(e*i)/i}i.__decorate([(0,n.bindable)({changeHandler:"updateConfig"}),i.__metadata("design:type",String)],a.prototype,"layout",void 0),i.__decorate([(0,n.bindable)({changeHandler:"updateConfig"}),i.__metadata("design:type",String)],a.prototype,"hideBehavior",void 0),i.__decorate([(0,n.bindable)({changeHandler:"updateConfig"}),i.__metadata("design:type",Number)],a.prototype,"minCount",void 0),i.__decorate([(0,n.bindable)({changeHandler:"updateConfig"}),i.__metadata("design:type",String)],a.prototype,"ellipsisBehavior",void 0),a=i.__decorate([n.autoinject,(0,n.customElement)("qp-layout"),i.__metadata("design:paramtypes",[Element,n.TaskQueue])],a),t.QpLayoutCustomElement=a,t.roundWithPrecision=roundWithPrecision}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/utility/options/qp-options":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpOptionsCustomElement=void 0;const o=(0,r.getLogger)("qp-options");let a=class QpOptionsCustomElement{constructor(e){this.element=e,this.value=[],this.prepareHighlightIdx=void 0,this.highlightedIndex=void 0}attached(){if(null!=this.optionsFor&&(this.optionsPane.style.minWidth=this.optionsFor.clientWidth+"px"),!this.config.allowMultiSelect&&this.value.length>0){const e=this.config.options.findIndex((e=>this.value[0]<=e.value));e>=0&&(this.highlightedIndex=e),null==this.highlightedIndex&&(this.highlightedIndex=0),"scrollBehavior"in document.documentElement.style?this.optionsPane.children[this.highlightedIndex].scrollIntoView({block:"start"}):this.optionsPane.children[this.highlightedIndex].scrollIntoView(!1)}}commitSelection(){let e;this.config.allowMultiSelect?e=this.value:this.value.length>0&&(e=this.value[0]);const t=new CustomEvent("valuechanged",{bubbles:!0,detail:{value:e}});this.element.dispatchEvent(t)}enterHighlight(e){this.prepareHighlightIdx=e}commitHighlight(e){this.prepareHighlightIdx===e&&(this.highlight(e),this.prepareHighlightIdx=void 0)}highlight(e){this.highlightedIndex=e}ignoreClicks(e){e.preventDefault(),e.stopImmediatePropagation()}hide(){o.info("Hide")}select(e,t){!1!==e.value.enabled&&(this.appendValue(e.value),this.config.allowMultiSelect||this.hide(),this.commitSelection())}appendValue(e){if(this.config.allowMultiSelect){const t=this.value.indexOf(e);-1===t?this.value.push(e):this.value.splice(t,1)}else this.value=[e]}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"config",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Array)],a.prototype,"value",void 0),i.__decorate([n.bindable,i.__metadata("design:type",HTMLElement)],a.prototype,"optionsFor",void 0),a=i.__decorate([n.autoinject,(0,n.customElement)("qp-options"),i.__metadata("design:paramtypes",[Element])],a),t.QpOptionsCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/utility/suggester/elements/qp-suggester":(e,t,i)=>{var n,r;n=[i,t,i(655),i(8862),i("aurelia-event-aggregator"),i("aurelia-framework"),i(8099),i(5893),i(2172),i(3116),i(1015)],r=function(e,t,i,n,r,o,a,l,d,c,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpSuggesterCustomElement=void 0;const u=(0,a.getLogger)("qp-suggester"),h=navigator.userAgent.toLowerCase(),g=-1!==h.indexOf("safari")&&h.indexOf("chrome")<0;let m=class QpSuggesterCustomElement{constructor(e,t,i,r){this.eventManager=e,this.suggestingServiceFabric=t,this.eventAggregator=i,this.taskQueue=r,this.debounceState={delay:336,timeoutId:void 0},this.eventSubscriptions=[],this.forceOpen=!1,this.maxHeight=336,this.suggesting=!1,this.serializedArgs="",this.suggesterVerticalPaddings="8px",this.suggestionLineHeight="32px",this.msg=c.Messages,this.localizedStrings=n.LOCALIZED_STRINGS}attached(){this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"input",(e=>this.handleEditorInput(e)),o.delegationStrategy.capturing,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"keydown",(e=>this.handleEditorKeyDown(e)),o.delegationStrategy.capturing,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"blur",(e=>this.handleEditorBlur(e)),o.delegationStrategy.none,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"focus",(e=>this.handleEditorFocus(e)),o.delegationStrategy.capturing,!0)),this.eventSubscriptions.push(this.eventManager.addEventListener(this.editor,"click",(e=>this.handleEditorClick(e)),o.delegationStrategy.capturing,!0)),document.activeElement===this.editor&&(this.focused=!0);const{width:e}=this.rectElement.getBoundingClientRect();this.minWidth=e}configChanged(){this.config.suggestAfter=this.config.suggestAfter||2,this.ensureFieldsToRequest()}ensureFieldsToRequest(){var e,t;this.fieldsToRequest=null!==(t=null===(e=this.config.fields)||void 0===e?void 0:e.filter((e=>e.id&&e.filter)))&&void 0!==t?t:[]}suggestingChanged(e){if(e)this.taskQueue.queueTask((()=>{this.suggestionsContainer&&(!this.originalParent&&this.suggestionsContainer.parentElement&&(this.originalParent=this.suggestionsContainer.parentElement),p.DOM.appendNode(this.suggestionsContainer),this.eventAggregator.publish(`repositioned:${this.rectElement.id}`))}));else{if(!this.suggestionsContainer)return;p.DOM.appendNode(this.suggestionsContainer,this.originalParent)}}forceOpenChanged(e,t){this.focused=!0,e?this.suggesting||this.taskQueue.queueTask((()=>{this.MoveHighligt(1)})):this.suggesting&&this.hideSuggestions()}changeHighLight(e){this.preventHoverHighlight||(this.scrollSuggestionIntoView(e),this.taskQueue.flushTaskQueue(),this.highlightedSugestionIndex=e)}debounceHoverHighlight(){this.preventHoverHighlight=!0,clearTimeout(this.preventHoverHighlightTimeout),this.preventHoverHighlightTimeout=setTimeout((()=>{this.preventHoverHighlight=!1}),32)}unsubscribeFromMouseDownOnDocument(){var e;null===(e=this.documentMouseDownSubscription)||void 0===e||e.dispose(),this.documentMouseDownSubscription=void 0}detached(){this.unsubscribeFromMouseDownOnDocument(),this.eventSubscriptions.forEach((e=>e.dispose())),this.eventSubscriptions=[],this.loading=void 0}ensureSuggesterService(){let e,t=void 0===this.suggestingsService||this.config.inlineArgs,i=this.config.inlineArgs;if(this.config.dependsOn&&this.config.dependsOn.length)try{e=this.config.dependsOn.map((e=>{var t;const i=e.id,n=__px_all(this.editor)[e.controlID],{width:r,height:o}=null===(t=null==n?void 0:n.element)||void 0===t?void 0:t.getBoundingClientRect();let a;if(r>0&&o>0)a=n.getValue();else if(e.controlID.indexOf("_lv0_")>0){const[t,i]=e.controlID.split("_lv0_");let n=this.editor;for(;n&&n.id!==t;)n=n.parentElement;if(null==n?void 0:n.object){const e=n.object,t=e.levels[0].columns.find((e=>e.formEditorID===i)).index;a=e.activeRow.cells[t].getValue()}}else(null==n?void 0:n.getValue)&&n.getValue()&&(a=n.getValue());return a instanceof Object&&a.id&&(a=a.id),{id:i,value:a}}));const i=JSON.stringify(e);this.serializedArgs!==i&&(t=!0,this.serializedArgs=i)}catch(e){i=!0}t&&(this.ensureFieldsToRequest(),this.suggestingsService=this.suggestingServiceFabric.getSuggestingService({args:e,descriptionName:this.config.descriptionName,fields:this.fieldsToRequest,graph:this.config.graph,graphStateId:this.config.graphStateId,inlineArgs:i,pageSize:7,serverFiltering:!!this.config.serverFiltering,valueField:this.config.valueField,viewName:this.config.viewName,dataField:this.config.dataField}))}handleEditorBlur(e){var t;if(clearTimeout(this.debounceState.timeoutId),this.focused=!1,this.suggestingsService&&this.suggestingsService.abortRequest(),null===(t=this.config)||void 0===t?void 0:t.suggestOnBlur){const e=this.editor.value;e.length>=1&&(this.ensureSuggesterService(),this.suggestingsService.getSuggestions(e).then((e=>{var t,i;this.suggesting=!0,this.suggestions=e,(null===(i=null===(t=this.suggestions)||void 0===t?void 0:t.suggestionItems)||void 0===i?void 0:i.length)?this.select(0):this.setEditorValue({display:void 0,useUpdateValue:!1,value:""}),this.suggesting=!1})))}return this.hideSuggestions(),!0}handleEditorClick(e){return e.altKey&&!e.ctrlKey&&(e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(1)),document.activeElement===this.editor&&(this.focused=!0),!0}handleEditorFocus(e){return this.focused=!0,!0}handleEditorInput(e){this.loading=!0;const t=this.editor.value;(t.length>=this.config.suggestAfter||this.suggesting)&&(clearTimeout(this.debounceState.timeoutId),this.debounceState.timeoutId=setTimeout((()=>{this.ensureSuggesterService(),this.suggestingsService.getSuggestions(t).then((e=>{this.suggestions=e,this.showSuggestions(),this.loading=!1,this.scrollSuggestionIntoView(0)})).catch((e=>{if(this.loading=!1,"AbortError"!==e.name)throw e;u.info("suggestions request aborted by user input")}))}),this.debounceState.delay))}isEditorEnabled(){const e=this.editor;return!(e.hasAttribute("readonly")||e.hasAttribute("disabled"))}handleEditorKeyDown(e){if(this.isEditorEnabled())switch(e.key){case"Esc":case"Escape":this.suggesting&&(this.hideSuggestions(),e.preventDefault(),e.stopImmediatePropagation());break;case"Enter":return this.suggesting&&!this.loading&&this.select(this.highlightedSugestionIndex,e),!0;case"Tab":this.suggesting&&(this.hideSuggestions(),e.preventDefault());break;case"Up":case"ArrowUp":!!this.suggesting!==e.altKey&&(this.debounceHoverHighlight(),e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(-1));break;case"Down":case"ArrowDown":!!this.suggesting!==e.altKey&&(this.debounceHoverHighlight(),e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(1));break;case"PageDown":this.debounceHoverHighlight(),e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(10);break;case"PageUp":this.debounceHoverHighlight(),e.preventDefault(),e.stopImmediatePropagation(),this.MoveHighligt(-10);break;default:return!0}}handleScroll(e){this.debounceHoverHighlight();const t=e.target;this.suggestions&&!this.suggestions.loading&&this.suggestions.haveMore&&this.suggestions.loadMore&&t.scrollTop+t.clientHeight+320+16>t.scrollHeight&&this.suggestions.loadMore()}hideSuggestions(){this.suggesting&&(this.unsubscribeFromMouseDownOnDocument(),this.suggesting=!1,this.suggestions=void 0,this.forceOpen&&(this.forceOpen=!1))}ignoreClicks(e){e.preventDefault(),e.stopImmediatePropagation()}MoveHighligt(e){return i.__awaiter(this,void 0,void 0,(function*(){if(!this.suggesting)return this.suggestions||(this.loading=!0,this.ensureSuggesterService(),yield this.suggestingsService.getSuggestions("").then((e=>{this.suggestions=e,this.loading=!1})).catch((e=>{if("AbortError"!==e.name)throw e;u.info("suggestions request aborted by user input")}))),void this.showSuggestions();let t=this.highlightedSugestionIndex+e;t<0&&(t=0),t>this.suggestions.suggestionItems.length-1&&(t=this.suggestions.suggestionItems.length-1),this.scrollSuggestionIntoView(t),this.taskQueue.flushTaskQueue(),this.highlightedSugestionIndex=t}))}scrollSuggestionIntoView(e){var t;let i;i="nearest",e===this.suggestions.suggestionItems.length-1&&(i="start");const n=null===(t=this.suggestionsContainer)||void 0===t?void 0:t.querySelectorAll("qp-suggestion")[e];if(n){const e="scrollBehavior"in document.documentElement.style||g?{block:i}:void 0;n.scrollIntoView(e)}}select(e,t=void 0){const i=this.suggestions.suggestionItems[e];i&&this.setEditorValue({display:i.display,useUpdateValue:!!t,value:i.value}),t&&(t.preventDefault(),t.stopImmediatePropagation()),this.hideSuggestions()}showSuggestions(){this.focused&&(this.suggesting||(this.suggesterWidth=void 0,this.documentMouseDownSubscription=this.eventAggregator.subscribe(d.MOUSE_DOWN_REACHED_BODY,(()=>this.handleEditorBlur())),this.suggesting=!0,this.taskQueue.queueTask((()=>{if(this.suggestionsContainer){const e=this.suggestionsContainer.getBoundingClientRect().width;this.suggesterWidth=e}}))),this.highlightedSugestionIndex=0)}};i.__decorate([o.bindable,i.__metadata("design:type",Object)],m.prototype,"config",void 0),i.__decorate([o.bindable,i.__metadata("design:type",HTMLElement)],m.prototype,"editor",void 0),i.__decorate([o.bindable,i.__metadata("design:type",HTMLElement)],m.prototype,"rectElement",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Function)],m.prototype,"setEditorValue",void 0),i.__decorate([o.bindable,i.__metadata("design:type",Boolean)],m.prototype,"forceOpen",void 0),i.__decorate([o.observable,i.__metadata("design:type",Boolean)],m.prototype,"suggesting",void 0),m=i.__decorate([o.autoinject,i.__metadata("design:paramtypes",[o.EventManager,l.SuggestingsServiceFabric,r.EventAggregator,o.TaskQueue])],m),t.QpSuggesterCustomElement=m}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/utility/suggester/qp-editor-wrapper":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpEditorWrapperCustomElement=void 0;const o=(0,r.getLogger)("qp-editor-wrapper");let a=class QpEditorWrapperCustomElement{constructor(e,t){this.element=e,this.tq=t}attached(){if(this.editor=this.element.querySelector(".editor"),this.editor&&(this.editor.setAttribute("autocomplete","off"),this.editor.setAttribute("autocorrect","off")),this.selector=this.element.querySelector(".selector"),this.rectElement=this.selector||this.editor,this.selector)if(this.selector.object){const e=this.selector.object;e.autoComplete=0,e.qpSuggester=!0}else o.error("no object",this.selector);else o.warn("no selector",this.element)}setEditorValue(e,t,i){var n;if(this.selector&&this.selector.object){const i=this.selector.object;if(null!=this.editor){const r=this.editor.value.trim();""!==r&&r===e||i.setValue("","");const o=i.hasHint?`${e} - ${t}`:t;null===(n=this.editor)||void 0===n||n.setAttribute("unblock","1"),i.updateValue(e,o),this.tq.queueTask((()=>{var e;return null===(e=this.editor)||void 0===e?void 0:e.removeAttribute("unblock")}))}else o.warn("no px object");i.fireEvent(15,null,{select:!0,complete:!0})}}};i.__decorate([n.bindable,i.__metadata("design:type",Object)],a.prototype,"config",void 0),a=i.__decorate([n.autoinject,(0,n.customElement)("qp-editor-wrapper"),i.__metadata("design:paramtypes",[Element,n.TaskQueue])],a),t.QpEditorWrapperCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},2112:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(6138)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpExtentionCordCustomAttribute=void 0;let o=class QpExtentionCordCustomAttribute{constructor(e,t,i){this.element=e,this.hoverService=t,this.tq=i,this.hoverSubscriptionOptions={activateAfter:100,onActivate:()=>this.show(),onDeactivate:()=>this.hide()}}attached(){this.subscribeTo(this.element)}detached(){var e;null===(e=this.subscription)||void 0===e||e.dispose(),this.subscription=void 0,this.hide()}subscribeTo(e){var t;null===(t=this.subscription)||void 0===t||t.dispose(),this.subscription=void 0,this.subscription=this.hoverService.subscribeTo(e,this.hoverSubscriptionOptions)}forceShowChanged(e,t){e?this.tq.queueTask((()=>{this.hoverService.selfActivate(this.element,this.hoverSubscriptionOptions)})):t&&this.tq.queueTask((()=>{this.hoverService.selfHide(this.element,this.hoverSubscriptionOptions)}))}show(){this.clone&&this.hide();const e=this.clone=this.element.cloneNode(!0);e.classList.add("extention-cord"),e.style.position="fixed";const t=this.element.getBoundingClientRect();document.body.appendChild(e);e.getBoundingClientRect().width<t.width?this.hide():(e.style.pointerEvents="none",e.style.top=t.top+"px",e.style.height=t.height+"px",e.style.left=t.left+"px")}hide(){this.clone&&document.body.removeChild(this.clone),this.clone=void 0}};i.__decorate([(0,n.bindable)({primaryProperty:!0}),i.__metadata("design:type",Boolean)],o.prototype,"forceShow",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],o.prototype,"manualShowOnly",void 0),o=i.__decorate([(0,n.customAttribute)("extention-cord"),n.autoinject,i.__metadata("design:paramtypes",[Element,r.HoverActivatorService,n.TaskQueue])],o),t.QpExtentionCordCustomAttribute=o}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/utility/tooltip/qp-tooltip":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("aurelia-event-aggregator"),i(6138),i(1015)],r=function(e,t,i,n,r,o,a){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTooltipCustomElement=t.TooltipErrorLevel=void 0,function(e){e[e.Undefined=0]="Undefined",e[e.RowInfo=1]="RowInfo",e[e.Warning=2]="Warning",e[e.RowWarning=3]="RowWarning",e[e.Error=4]="Error",e[e.RowError=5]="RowError"}(l=t.TooltipErrorLevel||(t.TooltipErrorLevel={}));let d=class QpTooltipCustomElement{constructor(e,t,i,n){this.hoverService=e,this.ea=t,this.tq=i,this.element=n,this.visible=!0,this.centerToTarget=!1}targetChanged(e){this.subscribeTo(e)}updateSubscription(){var e;this.subscription&&(null===(e=this.subscription)||void 0===e||e.dispose(),this.subscription=void 0,this.subscriptionOptions={activatedElements:[this.contentElement],cssRule:this.rule,excludeCssRule:this.exclude,onActivate:e=>this.show(e),onDeactivate:()=>this.hide()},this.subscription=this.hoverService.subscribeTo(this.target,this.subscriptionOptions))}ruleChanged(){this.updateSubscription()}excludeChanged(){this.updateSubscription()}attached(){this.contentElement.parentElement&&(this.originalParent=this.contentElement.parentElement),this.target||(this.target=this.element.parentElement),this.subscriptionOptions={activatedElements:[this.contentElement],cssRule:this.rule,excludeCssRule:this.exclude,onActivate:e=>this.show(e),onDeactivate:()=>this.hide()},this.subscribeTo(this.target),this.hoverService.selfHide(this.target,this.subscriptionOptions)}detached(){var e;this.hide(),null===(e=this.subscription)||void 0===e||e.dispose(),this.subscription=void 0}subscribeTo(e){var t;null===(t=this.subscription)||void 0===t||t.dispose(),this.subscription=void 0,this.subscription=this.hoverService.subscribeTo(e,this.subscriptionOptions)}errorCssClass(e){switch(e){case l.Error:case l.RowError:return"error";case l.Warning:case l.RowWarning:return"warning";case l.RowInfo:return"info"}}show(e){var t,i,n;this.showMe||this.visible&&(this.onShow?this.onShow({opts:e}):(this.tooltip=null===(t=e.target.dataset)||void 0===t?void 0:t.tooltip,this.tooltip&&(null===(i=e.target.dataset)||void 0===i?void 0:i.errorLevel)?this.errorLevel=parseInt(null===(n=e.target.dataset)||void 0===n?void 0:n.errorLevel):this.errorLevel=void 0),this.showArgs=e,this.showMe=!0,this.rule?this.glueTarget=e.target:this.glueTarget=this.target||this.element.parentElement,a.DOM.appendNode(this.contentElement))}afterGlued(e){if(!this.showMe||!this.glueTarget)return;const t=this.contentElement.getBoundingClientRect();if(this.showArgs&&t.width>40){let e;const i=this.glueTarget.getBoundingClientRect();if(this.showArgs.target&&i.width>40){e=this.showArgs.target.getBoundingClientRect().left+this.showArgs.relativeX}else e=(i.right+i.left)/2;e-=t.left,e=Math.min(Math.max(e,20),t.width-20),this.pointerAdjustX=`${e}px`}else this.pointerAdjustX="unset"}get showMe(){return!!this.contentElement&&"none"!==this.contentElement.style.display}set showMe(e){this.contentElement&&(this.contentElement.style.display=e?"inline-block":"none")}hide(){this.showMe=!1,this.glueTarget=void 0,this.pointerAdjustX="unset",this.showArgs=void 0,this.contentElement&&a.DOM.appendNode(this.contentElement,this.originalParent)}stopPropagation(e){e.stopImmediatePropagation()}};i.__decorate([n.bindable,i.__metadata("design:type",HTMLElement)],d.prototype,"target",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],d.prototype,"rule",void 0),i.__decorate([n.bindable,i.__metadata("design:type",String)],d.prototype,"exclude",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Function)],d.prototype,"onShow",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],d.prototype,"visible",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Boolean)],d.prototype,"centerToTarget",void 0),d=i.__decorate([(0,n.customElement)("qp-tooltip"),n.autoinject,i.__metadata("design:paramtypes",[o.HoverActivatorService,r.EventAggregator,n.TaskQueue,Element])],d),t.QpTooltipCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/controls/utility/wait-cursor/qp-wait-cursor":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-event-aggregator"),i("aurelia-framework"),i(2594)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpWaitCursorCustomElement=void 0;let a=class QpWaitCursorCustomElement{constructor(e,t){this.eventAggregator=e,this.eventManager=t,this.callbackRunning=!1,this.blockPage=!1,this.subscribers=[],this.cancelHandler=this.cancelKeysHandler.bind(this)}cancelKeysHandler(e){if(this.callbackRunning){null==e.target.getAttribute("unblock")&&(e.stopImmediatePropagation(),e.preventDefault())}}get documentElement(){return r.PLATFORM.global.document.documentElement}attached(){this.subscribers.push(this.eventAggregator.subscribe(o.HttpFetchRunningEvent,(e=>{this.callbackRunning=e.callbackRunning,this.blockPage=e.blockPage})));const e=this.documentElement;e.addEventListener("keydown",this.cancelHandler,!0),e.addEventListener("keypress",this.cancelHandler,!0)}detached(){this.subscribers.forEach((e=>e.dispose())),this.subscribers.splice(0,this.subscribers.length);const e=this.documentElement;e.removeEventListener("keydown",this.cancelHandler),e.removeEventListener("keypress",this.cancelHandler)}};a=i.__decorate([(0,r.customElement)("qp-wait-cursor"),r.autoinject,i.__metadata("design:paramtypes",[n.EventAggregator,r.EventManager])],a),t.QpWaitCursorCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},5260:(e,t,i)=>{var n,r;n=[i,t,i(1383),i(6158),i(5274)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.factory=t.optional=t.lazy=t.parent=t.inject=t.autoinject=t.emptyParameters=void 0,t.emptyParameters=Object.freeze([]);const o="design:type";function injectFn(e,t,i,...n){if(t)if(i&&i.configurable)i.value.inject=n;else{let r=e.constructor.injectProperties;r||(e.constructor.injectProperties=r=Object.create(null)),r[t]=n[0],i&&(i.writable=!0)}else e.inject=n}t.autoinject=function autoinject(e,n){const deco=function(e,n,r){n?r||(e.constructor.injectProperties||(e.constructor.injectProperties=Object.create(null)),e.constructor.injectProperties[n]=i.metadata.getOwn(o,e,n)):e.inject=i.metadata.getOwn(i.metadata.paramTypes,e,n)||t.emptyParameters};return e?deco(e,n):deco},t.inject=function inject(...e){return function(t,i,n){injectFn(t,i,n,...e)}},t.parent=function parent(e){return function(t,r,a){e||(e=i.metadata.get(o,t,r)),injectFn(t,r,a,n.Parent.of(e))}},t.lazy=function lazy(e){return function(t,i,r){injectFn(t,i,r,n.Lazy.of(e))}},t.optional=function optional(e,r=!0){return function(a,l,d){e||(e=i.metadata.get(o,a,l));const c=n.Optional.of(e,r);if("number"==typeof d){let e=a.inject;e||(e=i.metadata.getOwn(i.metadata.paramTypes,a,l)||t.emptyParameters),e[d]=c,a.inject=e}else injectFn(a,l,d,c)}},t.factory=function factory(e){return function(t,i,r){injectFn(t,i,r,n.Factory.of(e))}},t.newInstance=function newInstance(e,...t){return function(i,n,o){injectFn(i,n,o,r.DynamicNewInstance.of(e,...t))}}}.apply(t,n),void 0===r||(e.exports=r)},7699:(e,t,i)=>{var n,r;n=[i,t,i(655),i(5260),i(5274),i(9757)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.__exportStar(n,t),i.__exportStar(r,t),i.__exportStar(o,t)}.apply(t,n),void 0===r||(e.exports=r)},9757:(e,t,i)=>{var n,r;n=[i,t,i(6158)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyConstructorInvocationHandler=t.PropertyInvocationHandler=void 0;class PropertyInvocationHandler extends i.InvocationHandler{invoke(e,t){const i=super.invoke(e,t);return this.injectProperties(e,i)}injectProperties(e,t){const i=this.fn.injectProperties;for(const n in i)t[n]=e.get(i[n]);return t.afterConstructor&&t.afterConstructor.call(t),t}}t.PropertyInvocationHandler=PropertyInvocationHandler;class PropertyConstructorInvocationHandler extends i.InvocationHandler{invoke(e,t){const i=this.fn.injectProperties,n=Object.create(null);for(const t in i)n[t]={configurable:!0,enumerable:!0,writable:!0,value:e.get(i[t])};Object.create(this.fn.prototype||null,n);let r=this.dependencies.length,o=new Array(r);for(;r--;)o[r]=e.get(this.dependencies[r]);return t&&(o=o.concat(t)),void 0!==t?this.invoker.invokeWithDynamicDependencies(e,this.fn,this.dependencies,t):this.invoker.invoke(e,this.fn,this.dependencies)}}t.PropertyConstructorInvocationHandler=PropertyConstructorInvocationHandler}.apply(t,n),void 0===r||(e.exports=r)},5274:(e,t,i)=>{var n,r;n=[i,t,i(655),i(6158)],r=function(e,t,i,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicNewInstanceResolver=t.DynamicNewInstance=void 0;let o=r=class DynamicNewInstance extends n.NewInstance{constructor(e,...t){super(e),this.dynamicDependencies=t}get(e){let t=this.dynamicDependencies.length>0?this.dynamicDependencies.map((t=>t["protocol:aurelia:resolver"]?t.get(e):e.invoke(t))):void 0;const i=[],n=e.get(DynamicNewInstanceResolver).resolveType(this.key,i);i.length>0&&(t=t?[...t,...i]:i);const r=e.invoke(n,t);return e.registerInstance(this.asKey,r),r}static of(e,...t){return new r(e,...t)}};o=r=i.__decorate([(0,n.resolver)(),i.__metadata("design:paramtypes",[Object,Object])],o),t.DynamicNewInstance=o;class DynamicNewInstanceResolver{resolveType(e,t){return e}}t.DynamicNewInstanceResolver=DynamicNewInstanceResolver}.apply(t,n),void 0===r||(e.exports=r)},8009:(e,t,i)=>{var n,r;n=[i,t,i(5898)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldsRetrieveMode=t.RedirectType=t.WindowMode=t.PopupPanelMode=t.LocalizationsCollection=t.HttpCodes=t.ErrorInfo=void 0;t.ErrorInfo=class ErrorInfo{constructor(e,t){this.status=e,this.data=t,this.isProcessed=!1}},function(e){e[e.Ok=200]="Ok",e[e.NoContent=204]="NoContent",e[e.Found=302]="Found",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.Conflict=409]="Conflict",e[e.ServerError=500]="ServerError"}(t.HttpCodes||(t.HttpCodes={}));class LocalizationsCollection extends i.CaseInsensitiveMap{}t.LocalizationsCollection=LocalizationsCollection,function(e){e.On="On",e.Layer="Layer"}(t.PopupPanelMode||(t.PopupPanelMode={})),function(e){e.Base="base",e.Same="same",e.New="new",e.NewWindow="newWindow",e.InlineWindow="inlineWindow",e.Layer="layer"}(t.WindowMode||(t.WindowMode={})),function(e){e.GoTo="goTo",e.OpenMessageBox="openMessageBox",e.OpenDialog="openDialog",e.Popup="popup",e.ClosePopup="closePopup",e.ReloadPage="reloadPage",e.OpenReport="openReport",e.WithUrl="withUrl",e.WithReport="withReport",e.WithinContext="withinContext",e.Export="export",e.OpenPayment="openPayment",e.Map="map"}(t.RedirectType||(t.RedirectType={})),function(e){e[e.Full=0]="Full",e[e.ErrorsOnly=1]="ErrorsOnly"}(t.FieldsRetrieveMode||(t.FieldsRetrieveMode={}))}.apply(t,n),void 0===r||(e.exports=r)},6176:(e,t,i)=>{var n,r;n=[i,t,i(2374),i("aurelia-framework"),i(7153),i(3750)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeHandler=t.PXView=t.CssCustomizable=void 0;class CssCustomizable{constructor(){this.handlers={}}setCustomCssHandler(e,t){this.handlers=t,this.screenModel=e}hasCustomCssHandlers(e){var t;return!!(null===(t=this.handlers)||void 0===t?void 0:t[e])}getCustomCss(e,t,i){let n;const r=this.handlers[e];if(r){for(const e of r){if(!e)continue;const r=e.handler({viewModel:t,selector:i,screenModel:this.screenModel},e.children);r&&(n=n?`${n} ${r}`:r)}return n}}}t.CssCustomizable=CssCustomizable;function executeHandler(e,t,i){wrapHandler(e,t,i)(i)}function wrapHandler(e,t,i){var n;const r=null===(n=t.children)||void 0===n?void 0:n.map((t=>wrapHandler(e,t,i)));return i=>t.handler.bind(e)(i,r)}t.PXView=class PXView{constructor(){this.fieldNames=[],this.cssCustomization=new CssCustomizable,this.viewInUpdateProcessField=!1,this.rowSelectedHandlers=[]}get viewInUpdateProcess(){var e,t;return null!==(t=null===(e=this.parent)||void 0===e?void 0:e.viewInUpdateProcess)&&void 0!==t?t:this.viewInUpdateProcessField}set viewInUpdateProcess(e){this.viewInUpdateProcessField=e}getField(e){return this[e]}setField(e,t){if(this[e]=t,e.indexOf("__")>=0){const i=e.split("__"),n=i[0],r=i[1];this[n]||(this[n]={}),this[n][r]=t}}subscribeValueChanged(e,t,i){const r=n.Container.instance.get(n.BindingEngine),o=this.getField(t);if(o)return r.propertyObserver(o,"value").subscribe(((t,n)=>{if(this.viewInUpdateProcess)return;const r=e.getScreenService();(null==r?void 0:r.updatesSuspended())||executeHandler(e,i,{screenModel:e,viewModel:this,newValue:t,oldValue:n})}))}subscribeRowSelectedHandler(e,t){const i=t.bind(null,e);return this.rowSelectedHandlers.push(i),{dispose:()=>{const e=this.rowSelectedHandlers.findIndex((e=>e===i));-1!==e&&this.rowSelectedHandlers.splice(e,1)}}}subscribeRowSelected(e,t){this.subscribeRowSelectedHandler(e,((e,i)=>executeHandler(e,t,{screenModel:e,viewModel:i})))}setFields(e,t={}){const n=[];let a=0,l=!1;e.forEach((e=>{var d,c,p,u;const{fieldName:h,fieldState:g}=e,m=g,f=t[h];let v=this.getField(h);!v&&m&&(v=(0,r.createFieldState)(this,h,null!==(c=null!==(d=m.stateType)&&void 0!==d?d:null==f?void 0:f.stateType)&&void 0!==c?c:"default",null!==(p=m.args)&&void 0!==p?p:null==f?void 0:f.args),this.setField(h,v)),v.primaryKey||m.required||(m.unpinned=!0);(void 0!==v.type&&v.type!==i.NetType.Empty?v.type:null!==(u=m.type)&&void 0!==u?u:null==f?void 0:f.type)===i.NetType.DateTime&&"string"==typeof g.value&&(g.value=new Date(g.value));let b=null;b=m.type?new r.PXFieldState(this,h,m.args):new r.PXShortFieldState,f&&Object.assign(b,f),Object.assign(b,g);for(const e of Object.getOwnPropertyNames(b))"function"!=typeof v[e]&&v[e]!==b[e]&&(v[e]=b[e]);v.applyOptions();const y=o.PXReflectionMetadata.getMetadataKeys(this,h);y&&y.forEach((e=>v[e]=o.PXReflectionMetadata.getMetadata(this,h,e))),n.push(h),l||this.fieldNames[a++]===h||(l=!0)})),(l||n.length>this.fieldNames.length)&&this.fieldNames.splice(0,this.fieldNames.length,...n),this.publishRowSelectedEvent()}publishRowSelectedEvent(){var e;null===(e=this.rowSelectedHandlers)||void 0===e||e.forEach((e=>e(this)))}setParentModel(e){this.parent=e}hideAll(){for(const e of this.fieldNames){this.getField(e).visible=!1}}setValue(e,t){const i=this[e];i&&(i.value=t)}getValue(e){const t=this.getField(e);return t?t.value:void 0}getGenericValue(e){const t=this.getField(e);return t?t.value:void 0}getRecordIdByKeys(){const e=[];return this.fieldNames.sort().forEach((t=>{var i;const n=this.getField(t);if(n.primaryKey){if(!n.hasOwnProperty("value"))throw new Error(`Field state of ${this.name}.${t} doesn't contain value. `);"object"==typeof n.value?e.push((null===(i=n.value)||void 0===i?void 0:i.hasOwnProperty)&&n.value.hasOwnProperty("id")?n.value.id:null):e.push(n.value)}})),e.join(";")}isCollection(){return!1}},t.executeHandler=executeHandler}.apply(t,n),void 0===r||(e.exports=r)},5898:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CaseInsensitiveMap=void 0;class CaseInsensitiveMap{constructor(e){return Reflect.construct(Map,arguments,CaseInsensitiveMap)}set(e,t){return"string"==typeof e&&(e=e.toLowerCase()),Map.prototype.set.call(this,e,t)}get(e){return"string"==typeof e&&(e=e.toLowerCase()),Map.prototype.get.call(this,e)}has(e){return"string"==typeof e&&(e=e.toLowerCase()),Map.prototype.has.call(this,e)}clear(){Map.prototype.clear.call(this)}delete(e){return"string"==typeof e&&(e=e.toLowerCase()),Map.prototype.delete.call(this,e)}keys(){return Array.from(Map.prototype.keys.call(this)).map((e=>("string"==typeof e&&(e=e.toLowerCase()),e))).values()}}t.CaseInsensitiveMap=CaseInsensitiveMap}.apply(t,[i,t]),void 0===n||(e.exports=n)},9652:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QUICK_PROCESSING_CLEARED=t.CALLBACK_COMPLETED_EVENT=t.CALLBACK_STARTED_EVENT=t.BEFORE_CALLBACK_EVENT=t.DIALOG_OPENED=t.COORDINATE_SYSTEM_CHANGED_EVENT_NAME=t.DROP_ON_BODY=t.RESIZE_WINDOW=t.MOUSE_DOWN_REACHED_BODY=void 0,t.MOUSE_DOWN_REACHED_BODY="mouse-down-reached-body",t.RESIZE_WINDOW="resize-window",t.DROP_ON_BODY="drop_on_body",t.COORDINATE_SYSTEM_CHANGED_EVENT_NAME="absolute-positions-are-screwed",t.DIALOG_OPENED="dialog-opened",t.BEFORE_CALLBACK_EVENT="before-callback",t.CALLBACK_STARTED_EVENT="callback-started",t.CALLBACK_COMPLETED_EVENT="callback-completed",t.QUICK_PROCESSING_CLEARED="quick-processing-cleared"}.apply(t,[i,t]),void 0===n||(e.exports=n)},1869:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CsrfHeaderInterceptor=void 0;class CsrfHeaderInterceptor{response(e){return e.headers.has(CsrfHeaderInterceptor.TOKEN_HEADER)&&(this.latestCsrfToken=e.headers.get(CsrfHeaderInterceptor.TOKEN_HEADER)),e}request(e){return this.latestCsrfToken&&["POST","PUT","PATCH"].indexOf(e.method)>=0&&e.headers.set(CsrfHeaderInterceptor.TOKEN_HEADER,this.latestCsrfToken),e}}t.CsrfHeaderInterceptor=CsrfHeaderInterceptor,CsrfHeaderInterceptor.TOKEN_HEADER="X-XSRF-TOKEN"}.apply(t,[i,t]),void 0===n||(e.exports=n)},46:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReflectWithMetadata=t.CustomEventType=void 0,function(e){e.ValueChanged="valueChanged",e.RowSelected="rowSelected",e.GetCellCss="cellCss",e.GetRowCss="rowCss"}(t.CustomEventType||(t.CustomEventType={})),t.ReflectWithMetadata=Reflect}.apply(t,[i,t]),void 0===n||(e.exports=n)},3734:(e,t,i)=>{var n,r;n=[i,t,i(6158),i(46),i(6926),i(3750)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleEvent=t.eventOrderMetadataName=t.eventPropMetadataName=t.eventTypeMetadataName=t.createObjectWithMixins=t.createScreenObjectWithMixins=t.applyMixins=t.applyScreenMixin=t.extendsScreen=t.createCollection=t.createSingle=t.extendsViewModel=void 0;const a=new Map,l=new Set,d=new Map;function applyMixinsInternal(e,t){!function sortExtensions(e){e&&e.sort(((e,t)=>e.dependencies.indexOf(t.name)?1:t.dependencies.indexOf(e.name)?-1:e.dependencies.length!==t.dependencies.length?e.dependencies.length-t.dependencies.length:e.name.localeCompare(t.name)))}(e),applyMixins(t,e.map((e=>e.ctor))),l.add(t.name)}function applyMixins(e,t){t&&t.forEach((t=>{var n;null===(n=i.Container.instance)||void 0===n||n.registerTransient(t),Object.getOwnPropertyNames(t.prototype).forEach((i=>{"constructor"!==i&&"__metadata__"!==i&&"__pxmetadata__"!==i&&Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t.prototype,i)||Object.create(null))})),o.PXReflectionMetadata.copyMetadata(t.prototype,e.prototype)}))}function createObjectWithMixins(e,t){const n=i.Container.instance.get(e);return applyMixinsToInstance(n,t),n}function applyMixinsToInstance(e,r){const o={};r&&r.forEach((r=>{!function copyObjectPropsAndMethods(e,i,r){Object.assign(e,i);const o=Object.getPrototypeOf(i),a=Object.getPrototypeOf(e),l=Object.getOwnPropertyNames(o),d=Object.getOwnPropertyNames(a).reduce(((e,t)=>(e[t]=!0,e)),{}),c=window.SCREEN_RESTRICTED_PROPS||{};for(const e of l){if(c[e])continue;const i=n.ReflectWithMetadata.getOwnMetadata(t.eventTypeMetadataName,o,e),l=n.ReflectWithMetadata.getOwnMetadata(t.eventPropMetadataName,o,e);let p=e,u=1;for(;i&&d[p];)p=`${e}_${u}`,u++;if(a[p]=o[e],d[p]=!0,i){const e=(r[i]||0)+1;n.ReflectWithMetadata.defineMetadata(t.eventOrderMetadataName,e,a,p),n.ReflectWithMetadata.defineMetadata(t.eventTypeMetadataName,i,a,p),n.ReflectWithMetadata.defineMetadata(t.eventPropMetadataName,l,a,p)}}}(e,i.Container.instance.get(r),o)}))}t.extendsViewModel=function extendsViewModel(e,t=void 0){return function(i,n,r){return e&&(console.info(`Extension ${i.name} registered for the ${e} view`),a.has(e)||a.set(e,[]),a.get(e).push({name:i.name,ctor:n?i[n]:i,dependencies:null!=t?t:[]})),i}},t.createSingle=function createSingle(e){const t=a.get(e.name);return t&&!l.has(e.name)&&(console.info(`Applying mixins for the the ${e.name} view`),applyMixinsInternal(t,e),i.Container.instance.registerTransient(e)),l.has(e.name)||(i.Container.instance.registerTransient(e),l.add(e.name)),createObjectWithMixins(e,null==t?void 0:t.map((e=>e.ctor)))},t.createCollection=function createCollection(e,t){const n=a.get(e.name);return n&&!l.has(e.name)&&(console.info(`Applying mixins for the the ${e.name} view`),applyMixinsInternal(n,e),i.Container.instance.registerTransient(e)),l.has(e.name)||(i.Container.instance.registerTransient(e),l.add(e.name)),new r.PXViewCollection((()=>createObjectWithMixins(e,null==n?void 0:n.map((e=>e.ctor)))),t)},t.extendsScreen=function extendsScreen(e,t=void 0){return function(i,n,r){return i&&e&&(console.info(`Extension ${i.name} registered for the ${e} screen view model`),d.has(e)||d.set(e,[]),d.get(e).push({name:i.name,ctor:n?i[n]:i,dependencies:null!=t?t:[]})),i}},t.applyScreenMixin=function applyScreenMixin(e){var t;null===(t=i.Container.instance)||void 0===t||t.registerTransient(e);const n=d.get(e.name.toUpperCase());return n&&!l.has(e.name)&&(console.info(`Applying mixins for the the ${e.name} screen view model`),applyMixinsInternal(n,e)),e},t.applyMixins=applyMixins,t.createScreenObjectWithMixins=function createScreenObjectWithMixins(e,t){var n;const r=null===(n=d.get(t.name))||void 0===n?void 0:n.map((e=>e.ctor));r&&(r.forEach((e=>{i.Container.instance.hasResolver(e)||i.Container.instance.registerTransient(e)})),applyMixinsToInstance(e,r),e.appliedMixins.push(...r))},t.createObjectWithMixins=createObjectWithMixins,t.eventTypeMetadataName="customEventType",t.eventPropMetadataName="customEventProps",t.eventOrderMetadataName="customEventOrder",t.handleEvent=function handleEvent(e,i){return(r,o,a)=>{n.ReflectWithMetadata.defineMetadata(t.eventTypeMetadataName,e,r,o),n.ReflectWithMetadata.defineMetadata(t.eventPropMetadataName,i,r,o)}}}.apply(t,n),void 0===r||(e.exports=r)},6646:(e,t,i)=>{var n,r;n=[i,t,i(2594)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataComponentCategory=t.registerDataComponentsOnScreenByCategory=t.registerDataComponentOnScreen=t.selfRegisterWithName=t.getSelfRegisteredConfigurations=t.getSelfRegisteredConfiguration=void 0;const n=new Map;function getSelfRegisteredConfiguration(e){return n.get(e)}function getSelfRegisteredConfigurations(e){return Array.from(n.values()).filter((t=>{var i;return(null===(i=t.config)||void 0===i?void 0:i.category)===e}))}function registerDataComponentOnScreen(e,t,n){var r,o,a;const l=n.get(i.ScreenService),d=getSelfRegisteredConfiguration(t);if(null==d?void 0:d.ctor){const i=(null===(r=d.config)||void 0===r?void 0:r.createImmediately)?new d.ctor(e,n):()=>new d.ctor(e,n);return l.registerDataComponent(t,i,{oneTimeRegistration:null===(o=d.config)||void 0===o?void 0:o.oneTimeRegistration,category:null===(a=d.config)||void 0===a?void 0:a.category}),!0}return!1}t.getSelfRegisteredConfiguration=getSelfRegisteredConfiguration,t.getSelfRegisteredConfigurations=getSelfRegisteredConfigurations,t.selfRegisterWithName=function selfRegisterWithName(e,t){return i=>(n.set(e,{name:e,ctor:i,config:t}),i)},t.registerDataComponentOnScreen=registerDataComponentOnScreen,t.registerDataComponentsOnScreenByCategory=function registerDataComponentsOnScreenByCategory(e,t,i){return getSelfRegisteredConfigurations(t).reduce(((t,n)=>registerDataComponentOnScreen(e,n.name,i)||t),!1)},function(e){e.PageHost="page-host"}(t.DataComponentCategory||(t.DataComponentCategory={}))}.apply(t,n),void 0===r||(e.exports=r)},2446:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(4609)],r=function(e,t,i,n,r){"use strict";var o,a;Object.defineProperty(t,"__esModule",{value:!0}),t.QpEventManager=t.CallbackCompletedEvent=t.QuickProcessingActionsEvent=t.QuickProcessingChangedEvent=t.LongRunChangedEvent=t.ProcessStatus=t.LoadingFinishedEvent=t.LoadingStartedEvent=t.ReloadPageEvent=t.RefreshScreenEvent=t.ClosePopupEvent=t.OpenPopupEvent=t.ExecuteCommandEvent=t.QpEvent=void 0;class QpEvent{constructor(e,t,i){this.stopped=!1,this.type=e,this.detail=t,this.bubbles=void 0===i||i}stop(){this.stopped=!0}isActive(){return!this.stopped}}t.QpEvent=QpEvent;class ExecuteCommandEvent extends QpEvent{constructor(e,t){super("ExecuteCommand",{command:e,params:t}),this.command=e,this.params=t}get Command(){return this.detail.command}get Params(){return this.detail.params}set Command(e){this.detail.command=e}}t.ExecuteCommandEvent=ExecuteCommandEvent,(0,r.registerQAObject)("ExecuteCommandEvent",ExecuteCommandEvent);class OpenPopupEvent extends QpEvent{constructor(e,t,i,n,r,o){super(OpenPopupEvent.EventName,Object.assign(Object.assign({},"string"==typeof e?{content:{templateId:e}}:{content:e}),{command:t,message:i,repaintControls:n,data:o,id:r})),this.content=e,this.command=t,this.message=i,this.repaintControls=n}get dialogId(){var e;return null===(e=this.detail)||void 0===e?void 0:e.id}get name(){var e,t;return null===(t=null===(e=this.detail)||void 0===e?void 0:e.content)||void 0===t?void 0:t.templateId}get commandName(){return this.command}get dialogMessage(){return this.message}get autoRepaint(){return this.repaintControls}}t.OpenPopupEvent=OpenPopupEvent,OpenPopupEvent.EventName="OpenPopup";class ClosePopupEvent extends QpEvent{constructor(){super(ClosePopupEvent.EventName)}}t.ClosePopupEvent=ClosePopupEvent,ClosePopupEvent.EventName="ClosePopup";t.RefreshScreenEvent=class RefreshScreenEvent extends QpEvent{constructor(e){super("RefreshScreen",{command:e}),this.calledFromCommand=e}};t.ReloadPageEvent=class ReloadPageEvent extends QpEvent{constructor(e){super("ReloadPage",{command:e}),this.calledFromCommand=e}};t.LoadingStartedEvent=class LoadingStartedEvent extends QpEvent{constructor(){super("LoadingStarted")}};t.LoadingFinishedEvent=class LoadingFinishedEvent extends QpEvent{constructor(){super("LoadingFinished")}},function(e){e[e.NotExists=0]="NotExists",e[e.InProcess=1]="InProcess",e[e.Completed=2]="Completed",e[e.Aborted=3]="Aborted"}(a=t.ProcessStatus||(t.ProcessStatus={}));t.LongRunChangedEvent=class LongRunChangedEvent extends QpEvent{constructor(e){super("LongRunChanged",{command:e}),this.command=e,this.status=a.NotExists}};t.QuickProcessingChangedEvent=class QuickProcessingChangedEvent extends QpEvent{constructor(){super("QuickProcessingChanged")}};t.QuickProcessingActionsEvent=class QuickProcessingActionsEvent extends QpEvent{constructor(){super("QuickProcessingActions")}};t.CallbackCompletedEvent=class CallbackCompletedEvent extends QpEvent{constructor(){super("CallbackCompleted")}};let l=o=class QpEventManager{constructor(e){var t;this.subscribers={},this.parent=void 0,this.parent=null===(t=e.parent)||void 0===t?void 0:t.get(o)}publish(e){const t=this.subscribers[e.type];if(t)for(const i of t)if(i(e),!e.isActive())break;if(e.bubbles&&e.isActive()){let t=this.parent;for(;t;){if(t!==this){t.publish(e);break}t=t.parent}}}subscribe(e,t){return this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push(t),{dispose:()=>this.removeHandler(e,t)}}removeHandler(e,t){if(!this.subscribers[e])return;const i=this.subscribers[e],n=i.findIndex((e=>e===t));n>=0&&i.splice(n,1)}};l=o=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[n.Container])],l),t.QpEventManager=l}.apply(t,n),void 0===r||(e.exports=r)},311:(e,t,i)=>{var n,r;n=[i,t,i(655),i(7153)],r=function(e,t,i,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PXFieldStateGeneric=void 0;let o=r=class PXFieldStateGeneric extends n.PXFieldState{constructor(e,t,i,n,r){super(e,t,n,r),this.keys=i,this.obj=e}static createGeneric(e,t,i){return new r(e,t,i)}get fields(){return this.keys.map((e=>e))}};o=r=i.__decorate([(0,n.registerFieldState)("generic"),i.__metadata("design:paramtypes",[Object,String,Object,Number,String])],o),t.PXFieldStateGeneric=o}.apply(t,n),void 0===r||(e.exports=r)},6559:(e,t,i)=>{var n,r;n=[i,t,i(655),i(7153)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PXFieldStatePair=void 0;let r=class PXFieldStatePair extends n.PXFieldState{constructor(e,t,i,n,r){super(e,t,n,r),this.viewModel=e,this.secondName=null==i?void 0:i.toString()}get controlType(){return"qp-field-pair"}};r=i.__decorate([(0,n.registerFieldState)("pair"),i.__metadata("design:paramtypes",[Object,String,Object,Number,String])],r),t.PXFieldStatePair=r}.apply(t,n),void 0===r||(e.exports=r)},7153:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework")],r=function(e,t,i,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.FieldStateDTO=t.createFieldState=t.registerFieldState=t.FieldState=t.PXFieldState=t.PXShortFieldState=t.DimensionLookupMode=t.PXSegment=t.PXFieldOptions=t.PXUIVisibility=t.PXSelectorMode=t.PXErrorLevel=void 0;const o=new Map;var a,l,d,c,p;!function(e){e[e.Undefined=0]="Undefined",e[e.RowInfo=1]="RowInfo",e[e.Warning=2]="Warning",e[e.RowWarning=3]="RowWarning",e[e.Error=4]="Error",e[e.RowError=5]="RowError"}(a=t.PXErrorLevel||(t.PXErrorLevel={})),function(e){e[e.Undefined=0]="Undefined",e[e.NoAutocomplete=1]="NoAutocomplete",e[e.MaskAutocomplete=32]="MaskAutocomplete",e[e.AutocompleteMode=33]="AutocompleteMode",e[e.TextModeReadonly=2]="TextModeReadonly",e[e.TextModeEditable=4]="TextModeEditable",e[e.TextModeSearch=6]="TextModeSearch",e[e.TextMode=6]="TextMode",e[e.DisplayModeHint=0]="DisplayModeHint",e[e.DisplayModeValue=8]="DisplayModeValue",e[e.DisplayModeText=16]="DisplayModeText",e[e.DisplayMode=24]="DisplayMode"}(l=t.PXSelectorMode||(t.PXSelectorMode={})),function(e){e[e.Undefined=0]="Undefined",e[e.Invisible=1]="Invisible",e[e.Visible=3]="Visible",e[e.SelectorVisible=7]="SelectorVisible",e[e.Dynamic=9]="Dynamic",e[e.Service=19]="Service",e[e.HiddenByAccessRights=33]="HiddenByAccessRights"}(d=t.PXUIVisibility||(t.PXUIVisibility={})),function(e){e[e.Default=0]="Default",e[e.Readonly=1]="Readonly",e[e.Hidden=2]="Hidden",e[e.NoLabel=4]="NoLabel",e[e.Multiline=8]="Multiline",e[e.CommitChanges=16]="CommitChanges",e[e.Disabled=32]="Disabled"}(c=t.PXFieldOptions||(t.PXFieldOptions={}));t.PXSegment=class PXSegment{},function(e){e[e.BySegmentedKeys=0]="BySegmentedKeys",e[e.BySegmentsAndAllAvailableSegmentValues=1]="BySegmentsAndAllAvailableSegmentValues",e[e.BySegmentsAndChildSegmentValues=2]="BySegmentsAndChildSegmentValues"}(p=t.DimensionLookupMode||(t.DimensionLookupMode={}));class PXShortFieldState{constructor(){this.enabled=!0,this.visible=!0,this.readOnly=!1,this.value=null,this.required=!1,this.options=void 0,this.language=void 0,this.translations=void 0,this.errorLevel=a.Undefined,this.error=void 0,this.unpinned=!1}}t.PXShortFieldState=PXShortFieldState;let u=r=class PXFieldState extends PXShortFieldState{constructor(e,t,i,n){super(),this.suppressLabel=!1,this.commitChanges=!1,this.unbound=!1,this.headerDescription=void 0,this.identity=!1,this.unique=!1,this.length=-1,this.nullable=!1,this.precision=-1,this.scale=-1,this.primaryKey=!1,this.descriptionName=void 0,this.viewName=void 0,this.fieldList=void 0,this.headerList=void 0,this.valueField=void 0,this.selectorMode=l.Undefined,this.visibility=d.Undefined,this.formulaEditorViewName=void 0,this.inputMask=void 0,this.displayMask=void 0,this.exclusiveValues=void 0,this.emptyPossible=void 0,this.isUnicode=void 0,this.multiSelect=void 0,this.noteIDField=void 0,this.noteDocsField=void 0,this.noteTextFiled=void 0,this.noteActivityField=void 0,this.noteTextExistsField=void 0,this.noteFilesExistsField=void 0,this.segments=void 0,this.validCombos=void 0,this.lookupMode=p.BySegmentedKeys,this.segmentValueField=void 0,this.segmentDescriptionName=void 0,this.segmentViewName=void 0,this.segmentFieldList=void 0,this.segmentHeaderList=void 0,this.wildcard=void 0,this.schemaObject=void 0,this.schemaField=void 0,this.isColorState=void 0,this.selectionMode=void 0,this.multiLine=void 0,this.updateValue=e=>{throw"updateValue() is not initialized"},this.name=t,this.viewModeName=null==e?void 0:e.name,this.view=e,this.fieldOptions=i,this.displayName=n}get textValue(){var e;if(null==this.value)return"";if("Date"===(null===(e=this.value.constructor)||void 0===e?void 0:e.name))return this.value.toLocaleString();if("object"==typeof this.value){const e=this.value.id;return null==e?"":this.value.text?this.value.text:e}return this.value.toString()}get systemValue(){if(null==this.value)return"";if("object"==typeof this.value){const e=this.value.id;return null==e?"":e}return this.value.toString()}get displayName(){return this.text}set displayName(e){this.text=e}applyOptions(){this.fieldOptions&&((this.fieldOptions&c.Readonly)===c.Readonly&&(this.readOnly=!0),(this.fieldOptions&c.NoLabel)===c.NoLabel&&(this.suppressLabel=!0),(this.fieldOptions&c.Multiline)===c.Multiline&&(this.multiLine=!0),(this.fieldOptions&c.Hidden)===c.Hidden&&(this.skip=!0),(this.fieldOptions&c.Disabled)===c.Disabled&&(this.enabled=!1),(this.fieldOptions&c.CommitChanges)===c.CommitChanges&&(this.commitChanges=!0))}configureControl(e){}static create(){const e=new r;return e.visible=!0,e.enabled=!0,e}static createUnbound(e=void 0){const t=new r;return t.unbound=!0,t.visible=!0,t.enabled=!0,t.calculation=e,t}};i.__decorate([(0,n.computedFrom)("value"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],u.prototype,"textValue",null),i.__decorate([(0,n.computedFrom)("value"),i.__metadata("design:type",String),i.__metadata("design:paramtypes",[])],u.prototype,"systemValue",null),u=r=i.__decorate([registerFieldState("default"),i.__metadata("design:paramtypes",[Object,Object,Number,String])],u),t.PXFieldState=u;function registerFieldState(e){return function(t){try{t&&o&&!o.has(e)&&o.set(e,t)}catch(e){}}}t.FieldState=class FieldState extends u{constructor(e,t,i,n){super(e,t,i,n)}},t.registerFieldState=registerFieldState,t.createFieldState=function createFieldState(e,t,i,n){return n?new(o.get(i))(e,t,...n):new(o.get(i))(e,t)};t.FieldStateDTO=class FieldStateDTO{constructor(e,t,i){this.enabled=e,this.visible=t,this.value=i}}}.apply(t,n),void 0===r||(e.exports=r)},5555:(e,t,i)=>{var n,r;n=[i,t,i(8888)],r=function(e,t,i){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.getGridPereset=t.GridPreset=void 0,function(e){e.Primary="primary",e.PrimaryInquiry="primaryInquiry",e.Inquiry="inquiry",e.Details="details",e.Attributes="attributes",e.ShortList="shortList",e.Empty="empty"}(n=t.GridPreset||(t.GridPreset={})),t.getGridPereset=function getGridPereset(e){return a[e]};const r={adjustPageSize:!0,mergeToolbarWith:"ScreenToolbar",syncPosition:!0,preserveSortsAndFilters:!0,showFilterBar:i.GridFilterBarVisibility.Always},o={adjustPageSize:!0,mergeToolbarWith:"ScreenToolbar",syncPosition:!0,preserveSortsAndFilters:!0,allowDelete:!1,allowInsert:!1,allowImport:!1,allowSkipTabs:!1,actionsConfig:{insert:{hidden:!0},delete:{hidden:!0}},showFilterBar:i.GridFilterBarVisibility.Always},a={[n.Primary]:r,[n.PrimaryInquiry]:o,[n.Inquiry]:{allowDelete:!1,allowInsert:!1,allowImport:!1,allowSkipTabs:!1,actionsConfig:{insert:{hidden:!0},delete:{hidden:!0}}},[n.Details]:{syncPosition:!0,wrapToolbar:!0},[n.Attributes]:{autoSaveLayout:!1,autoAdjustColumns:!0,fastFilterByAllFields:!1,allowFilter:!1,allowSort:!1,allowStoredFilters:!1,allowInsert:!1,allowDelete:!1,allowImport:!1,showTopBar:!1,showBottomBar:!1,pageSize:0},[n.ShortList]:{autoSaveLayout:!1,autoAdjustColumns:!0,fastFilterByAllFields:!1,allowFilter:!1,allowStoredFilters:!1,allowImport:!1,showBottomBar:!1,pageSize:0,actionsConfig:{adjust:{hidden:!0},exportToExcel:{hidden:!0}}}}}.apply(t,n),void 0===r||(e.exports=r)},8888:(e,t,i)=>{var n,r;n=[i,t,i(7153)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridCell=t.GridFilterRow=t.GridFilter=t.GridAutoGrowMode=t.GridFilterBarVisibility=t.GridFastFilterVisibility=t.GridRowStatus=t.GridColumnDisplayMode=t.GridColumnShowHideMode=t.GridColumnType=t.GridColumnGeneration=t.TextAlign=t.SortDirection=t.GridPagerMode=void 0,function(e){e[e.InfiniteScroll=0]="InfiniteScroll",e[e.NextPrevFirstLast=1]="NextPrevFirstLast",e[e.Numeric=2]="Numeric"}(t.GridPagerMode||(t.GridPagerMode={})),function(e){e[e.None=0]="None",e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(t.SortDirection||(t.SortDirection={})),function(e){e[e.NotSet=0]="NotSet",e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=3]="Right",e[e.Justify=4]="Justify"}(t.TextAlign||(t.TextAlign={})),function(e){e[e.None=0]="None",e[e.Append=1]="Append",e[e.Recreate=2]="Recreate",e[e.AppendDynamic=3]="AppendDynamic",e[e.Selector=4]="Selector"}(t.GridColumnGeneration||(t.GridColumnGeneration={})),function(e){e[e.NotSet=0]="NotSet",e[e.Icon=1]="Icon",e[e.HyperLink=2]="HyperLink",e[e.CheckBox=3]="CheckBox"}(t.GridColumnType||(t.GridColumnType={})),function(e){e[e.False=0]="False",e[e.True=1]="True",e[e.Server=2]="Server",e[e.Client=3]="Client"}(t.GridColumnShowHideMode||(t.GridColumnShowHideMode={})),function(e){e[e.Value=0]="Value",e[e.Text=1]="Text",e[e.Both=2]="Both"}(t.GridColumnDisplayMode||(t.GridColumnDisplayMode={})),function(e){e[e.NotSet=0]="NotSet",e[e.Modified=1]="Modified",e[e.New=2]="New",e[e.Inserted=3]="Inserted",e[e.Deleted=4]="Deleted"}(t.GridRowStatus||(t.GridRowStatus={})),function(e){e[e.False=0]="False",e[e.ToolBar=1]="ToolBar",e[e.FilterBar=2]="FilterBar"}(t.GridFastFilterVisibility||(t.GridFastFilterVisibility={})),function(e){e[e.False=0]="False",e[e.Always=1]="Always",e[e.OnDemand=2]="OnDemand"}(t.GridFilterBarVisibility||(t.GridFilterBarVisibility={})),function(e){e[e.False=0]="False",e[e.Fit=1]="Fit",e[e.Fill=2]="Fill"}(t.GridAutoGrowMode||(t.GridAutoGrowMode={}));t.GridFilter=class GridFilter{};t.GridFilterRow=class GridFilterRow{};class GridCell extends i.PXFieldState{}t.GridCell=GridCell}.apply(t,n),void 0===r||(e.exports=r)},2172:(e,t,i)=>{var n,r;n=[i,t,i(655),i(8009),i(6176),i(5898),i(9652),i(1869),i(3734),i(2446),i(7153),i(8888),i(5555),i(1083),i(4248),i(3750),i(2374),i(8057),i(311),i(6559),i(46),i(6926)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g,m,f,v,b,y,x,C,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.__exportStar(n,t),i.__exportStar(r,t),i.__exportStar(o,t),i.__exportStar(a,t),i.__exportStar(l,t),i.__exportStar(d,t),i.__exportStar(c,t),i.__exportStar(p,t),i.__exportStar(u,t),i.__exportStar(h,t),i.__exportStar(g,t),i.__exportStar(m,t),i.__exportStar(f,t),i.__exportStar(v,t),i.__exportStar(b,t),i.__exportStar(y,t),i.__exportStar(x,t),i.__exportStar(C,t),i.__exportStar(_,t)}.apply(t,n),void 0===r||(e.exports=r)},1083:(e,t,i)=>{var n,r;n=[i,t,i(3750),i(3734)],r=function(e,t,i,n){"use strict";function applyMetadataValue(e,t,n,r){i.PXReflectionMetadata.setMetadata(e,t,n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.treeConfig=t.gridConfig=t.columnConfig=t.placeAfterProperty=t.placeBeforeProperty=t.placeAfterView=t.placeBeforeView=t.viewInfo=t.graphInfo=t.featureInstalled=t.registerViewModelMixin=t.register=t.type=t.fieldInfo=t.calculation=t.multiLine=t.selectorSettings=t.text=t.unbound=t.disabled=t.readOnly=t.suppressLabel=t.mappedToViewField=t.linkCommand=t.autoRefresh=t.headerDescription=t.commitChanges=t.skip=t.pair=t.group=void 0,t.group=function group(e){return(t,i)=>{applyMetadataValue(t,i,"group",e)}},t.pair=function pair(e,t="s",i="xs"){return(n,r)=>{applyMetadataValue(n,r,"template",`<div style="position:relative;display: flex;">\n\t\t\t\t<qp-field control-id="ed${r}" control-state.bind="${r}" control-size="${t}" >\n\t\t\t\t</qp-field>\n\t\t\t\t<qp-field control-id="ed${e}" control-state.bind="${e}" control-size="${i}" >\n\t\t\t\t</qp-field>\n\t\t\t</div>`),applyMetadataValue(n,e,"skip",!0)}},t.skip=function skip(e,t){if("boolean"==typeof e)return(t,i)=>{applyMetadataValue(t,i,"skip",e)};applyMetadataValue(e,t,"skip",!0)},t.commitChanges=function commitChanges(e,t){if("boolean"==typeof e)return(t,i)=>{applyMetadataValue(t,i,"commitChanges",e)};applyMetadataValue(e,t,"commitChanges",!0)},t.headerDescription=function headerDescription(e,t){if("boolean"==typeof e)return(t,i)=>{applyMetadataValue(t,i,"headerDescription",e)};applyMetadataValue(e,t,"headerDescription",!0)},t.autoRefresh=function autoRefresh(e,t){if("boolean"==typeof e)return(t,i)=>{applyMetadataValue(t,i,"autoRefresh",e)};applyMetadataValue(e,t,"autoRefresh",!0)},t.linkCommand=function linkCommand(e){return(t,i)=>{applyMetadataValue(t,i,"linkCommand",e)}},t.mappedToViewField=function mappedToViewField(e,t){return(i,n)=>{applyMetadataValue(i,n,"mappedToViewField",{viewName:e,fieldName:t})}},t.suppressLabel=function suppressLabel(e,t){if("boolean"==typeof e)return(t,i)=>{applyMetadataValue(t,i,"suppressLabel",e)};applyMetadataValue(e,t,"suppressLabel",!0)},t.readOnly=function readOnly(e,t){if("boolean"==typeof e)return(t,i)=>{applyMetadataValue(t,i,"readOnly",e)};applyMetadataValue(e,t,"readOnly",!0)},t.disabled=function disabled(e,t){if("boolean"==typeof e)return(t,i)=>{applyMetadataValue(t,i,"disabled",!e)};applyMetadataValue(e,t,"enabled",!1)},t.unbound=function unbound(e,t){if("boolean"==typeof e)return(t,i)=>{applyMetadataValue(t,i,"unbound",e)};applyMetadataValue(e,t,"unbound",!0)},t.text=function text(e){return(t,i)=>{applyMetadataValue(t,i,"displayName",e)}},t.selectorSettings=function selectorSettings(e,t){return(i,n)=>{e&&applyMetadataValue(i,n,"valueField",e),t&&applyMetadataValue(i,n,"descriptionName",t)}},t.multiLine=function multiLine(e,t){if("boolean"==typeof e)return(t,i)=>{applyMetadataValue(t,i,"multiLine",e)};applyMetadataValue(e,t,"multiLine",!0)},t.calculation=function calculation(e){return(t,i)=>{applyMetadataValue(t,i,"calculation",e)}},t.fieldInfo=function fieldInfo(e){return(t,i)=>{for(const n of Object.getOwnPropertyNames(e))applyMetadataValue(t,i,n,e[n])}},t.type=function type(e){return(t,i)=>{applyMetadataValue(t,i,"type",e)}},t.register=function register(e={}){return function(e,t,i){return e}},t.registerViewModelMixin=function registerViewModelMixin(e={}){return function(e,t,i){return e}},t.featureInstalled=function featureInstalled(e){return t=>{console.log(`featureInstalled: ${e}`)}},t.graphInfo=function graphInfo(e){return t=>(i.PXReflectionMetadata.setMetadata(t,"graphInfo",e),(0,n.applyScreenMixin)(t),class extends t{runMixin(){(0,n.createScreenObjectWithMixins)(this,t)}})},t.viewInfo=function viewInfo(e){return function(t,i){applyMetadataValue(t,i,"viewInfo",e)}},t.placeBeforeView=function placeBeforeView(e){return function(t){i.PXReflectionMetadata.setMetadata(t,"placeBeforeView",e)}},t.placeAfterView=function placeAfterView(e){return function(t){i.PXReflectionMetadata.setMetadata(t,"placeAfterView",e)}},t.placeBeforeProperty=function placeBeforeProperty(e){return(t,i)=>{applyMetadataValue(t,i,"placeBeforeProperty",e)}},t.placeAfterProperty=function placeAfterProperty(e){return(t,i)=>{applyMetadataValue(t,i,"placeAfterProperty",e)}},t.columnConfig=function columnConfig(e){return(t,i)=>{applyMetadataValue(t,i,"columnConfig",e)}},t.gridConfig=function gridConfig(e){return(t,n)=>{n?applyMetadataValue(t,n,"gridConfig",e):i.PXReflectionMetadata.setMetadata(t,"gridConfig",e)}},t.treeConfig=function treeConfig(e){return(t,n)=>{n?applyMetadataValue(t,n,"treeConfig",e):i.PXReflectionMetadata.setMetadata(t,"treeConfig",e)}}}.apply(t,n),void 0===r||(e.exports=r)},4248:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__,exports,__webpack_require__(655),__webpack_require__("client-controls/controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component"),__webpack_require__(4232),__webpack_require__("client-controls/controls/dialog/alert/qp-alert"),__webpack_require__(5592),__webpack_require__(8057),__webpack_require__(8009),__webpack_require__(2446),__webpack_require__("aurelia-framework"),__webpack_require__(2374),__webpack_require__(7699),__webpack_require__(4030)],__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,tslib_1,qp_inline_screen_dialog_component_1,cookie_utils_1,qp_alert_1,session_url_serializer_1,session_url_router_1,api_types_1,event_manager_1,aurelia_framework_1,types_1,dependency_property_injection_1,alert_service_1){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RedirectHelper=void 0;let RedirectHelper=class RedirectHelper{constructor(e,t,i,n,r){this.basePath=e,this.urlRouter=t,this.urlSerializer=i,this.screenEventManager=n,this.alertService=r,this.AgentName="",this.Version=0,this.IsWinPhone=!1,this.IsIPad=!1,this.IsIPhone=!1,this.IsAndroid=!1,this.IsTablet=!1,this.IsTabletWin=!1,this.IsTabletOrWin=!1,this.IsDom=!1,this.IsWin=!1,this.IsWin98=!1,this.IsNetscape=!1,this.IsFirefox=!1,this.IsFirefox20=!1,this.IsFirefox40=!1,this.IsFirefoxFrom40=!1,this.IsFirefoxFrom65=!1,this.IsOpera=!1,this.IsIE=!1,this.IsIE10=!1,this.IsIE11=!1,this.IsIE910=!1,this.IsIE78=!1,this.IsAnyIE=!1,this.IsSafari=!1,this.IsMacSafari=!1,this.IsEdge=!1,this.IsIEorEdge=!1,this.IsWebKit=!1,this.popStateH=null,this.popupUnloadH=null,this.frameLoadH=null,this.layerStatePushed=!1,this.layerFrame=null,this.layerContainer=null,this.LAYER_CONTAINER_ID="_layer_cont",this.LAYER_FRAME_ID="_layer_frame",this.MAIN_FRAME_ID="main",this.initialize()}doRedirects(e){const t=e.redirects.sort((e=>e.settings.mode===api_types_1.WindowMode.Same||e.settings.mode===api_types_1.WindowMode.InlineWindow?1:-1));return e.redirectResults=t.map((t=>this.doRedirect(t,e.isDirty,e.command))),e.redirectResults}goTo(e,t,i,n,r,o){let a=t.mode===api_types_1.WindowMode.New;const l=i&&!a,d=t.suppressFrameset,c=t.preserveSession;let p=!1;const u=this.getOpenerWindowOptions();(null==u?void 0:u.framesetOpen)&&"_inline"===r&&(p=!0,r=void 0);let h=a&&!d||p;const g=!p&&(t.mode===api_types_1.WindowMode.NewWindow||t.mode===api_types_1.WindowMode.InlineWindow||t.mode===api_types_1.WindowMode.Layer);let m=!1;if(i||a||(g?"_inline"!==r&&(m=!0):m=!0),p&&d&&(h=!1,a=!0),m||l||h||a||g)return this.openUrl(e,a?"_blank":r,h,g,void 0,n,o,c)}reload(){const e=this.getTopWin();if(!e)throw new Error("Not found window that marked as top");null==e||e.location.reload()}openUrl(e,t,i,n,r,o=!1,a=void 0,l=!1){var d,c;if(null==e||0===e.length)throw new Error("TargetUrl can not be null or empty string");const p=this.getTopWin();if(!p)throw new Error("Not found window that marked as top");if(cookie_utils_1.CookieUtils.setSessionPrevWinCookie(null===(d=this.urlSerializer.parseUrl(document.location.href))||void 0===d?void 0:d.sessionNumber,null===(c=this.urlSerializer.parseUrl(e))||void 0===c?void 0:c.sessionNumber),i){if(o)return window.open(e);if(null!=this.searchFrame(p,this.MAIN_FRAME_ID))return this.openFrameset(e,o,t,a);n=!0}if(n)return window.Office&&window.Office.context?(window.Office.context.ui.displayDialogAsync(e),null):this.openWindow(e,o,t,r,a);let u=null,h=null;if(t){if(t&&!t.startsWith("_")&&(u=this.getElemByID(t),null==u&&(h=this.searchFrame(p,t))),null!=u||null!=h){const t=this.urlRouter.resolveSameWindowUrl(e,p.location,!1,o,a);e=this.urlRouter.resolveUrlHideScript(t,p)}else e="_blank"===t&&e.indexOf("preserveSession=true")<0?this.urlRouter.resolveBlankWindowUrl(e,p.location,o,l,a):this.urlRouter.resolveSameWindowUrl(e,p.location,!1,o,a);if("_inline"===t)return e.indexOf(".aspx")>-1&&(e+=(e.indexOf("?")>0?"&":"?")+"PopupPanel=Inline"),this.isPopupLayerWindow()&&(e+=(e.indexOf("?")>0?"&":"?")+"InLayer=On"),void(window.location.href=e);if(null!=h)h.location.href=e;else{window.open(e,t).lastCompany=p.company}return}const g=null!=a?a:{};throw g.isRedirect="true",e=this.urlRouter.resolveSameWindowUrl(e,p.location,!1,o,g),window!==p&&(e=this.urlRouter.resolveUrlHideScript(e,p)),this.screenEventManager.publish(new event_manager_1.LoadingStartedEvent),window.location.href=e,"redirected"}openWindow(e,t,i,n,r){const o="_layer"===i,a="_inline"===i;if(!t){let t=a?"Inline":"On";o&&(t="Layer"),t&&(e+=`${e.indexOf("?")>0?"&":"?"}PopupPanel=${t}`)}return o?this.openLayerWindow(e,n):this.openNewWindow(e,i,n,a,t,r)}startLC(){this.screenEventManager.publish(new event_manager_1.LoadingStartedEvent)}stopLC(){this.screenEventManager.publish(new event_manager_1.LoadingFinishedEvent)}export(e){let t=document.getElementById("px_exportFrame");null==t&&(t=document.createElement("iframe"),t.style.display="none",t.id="px_exportFrame",document.body.appendChild(t)),t.src=e}isEmbeddedWindow(){const e=window;let t=!1;try{e.frameElement}catch(e){t=!0}return t}getFrameElement(e){let t=null;const i=e||window;try{t=i.frameElement}catch(e){}return t}isPopupWindow(e){return e.indexOf("PopupPanel")>0&&e.indexOf("PopupPanel=Inline")<0}isPopupLayerWindow(e){return void 0===e&&(e=document.location.href),e.indexOf("PopupPanel=Layer")>0}closePopup(e,t){var i;null===(i=this.screenEventManager)||void 0===i||i.publish(new event_manager_1.ClosePopupEvent)}hideInlineLayerFrame(e=!1){const t=this.getInlineLayerFrameContainer();t&&(e||null==t.getAttribute("collapsible")?(t.style.display="none",this.excludeCss(t.parentNode,["layer-visible"],!0)):this.appendCss(t,["min"],!0))}excludeCss(e,t,i){let n="string"==typeof e?e.split(" "):e.className.split(" ");if(n.length)for(let e=0;e<n.length;e++)-1!==t.indexOf(n[e])&&n.splice(e--,1);return n=n.length?n.join(" ").trim():"",i&&(e.className=n),n}appendCss(e,t,i){let n="string"==typeof e?e.split(" "):e.className.split(" ");if(n.length)for(let e=0;e<t.length;e++)t[e]&&-1===n.indexOf(t[e])&&n.push(t[e]);return n=n.length?n.join(" ").trim():"",i&&(e.className=n),n}toggleCss(e,t,i,n){return e?this.appendCss(t,i,n):this.excludeCss(t,i,n)}hasCss(e,t){const i="string"==typeof e?e.split(" "):e.className.split(" ");if(i.length)for(let e=0;e<t.length;e++)if(-1!==i.indexOf(t[e]))return!0;return!1}getTopWin(){let e,t;try{e=window.top,t=null==e?void 0:e.location.href,null==t&&(e=null)}catch(t){e=null}return null==e?window:e}searchFrame(e,t){if(e.frames[t])return e.frames[t];for(let i=0;i<e.frames.length;i++){const n=null;try{arguments.callee(e.frames[i],t)}catch(e){}if(null!=n)return n}return null}popupAllowFocus(){return"https:"===location.protocol||this.IsIE}getInlineLayerFrameContainer(){var e;const t=this.getFrameElement();return t?null===(e=t.contentDocument)||void 0===e?void 0:e.getElementById(this.LAYER_CONTAINER_ID):this.getElemByID(this.LAYER_CONTAINER_ID)}isLayerShadowVisible(){const e=this._getLayerShadow();return!!e&&"none"!==e.style.display}setLayerShadowVisible(e){const t=this._getLayerShadow();t&&(t.style.display=e?"":"none")}addEventHandler(obj,eventName,callbackFunction,flag){const w=window;null==w.allEvents&&(w.allEvents={});const key=`${eventName}_${obj.tagName}#${obj.id}.${obj.className}`;w.allEvents.hasOwnProperty(key)||(w.allEvents[key]=[]),w.allEvents[key].push({o:obj,n:eventName,c:callbackFunction,f:flag}),obj.addEventListener?obj.addEventListener(eventName,callbackFunction,flag):obj.attachEvent?obj.attachEvent(`on${eventName}`,callbackFunction):eval(`obj.on${eventName}=${callbackFunction}`)}removeEventHandler(obj,eventName,callbackFunction,flag){const w=window;if(w&&w.allEvents)try{if(null!=w.allEvents){const e=`${eventName}_${obj.tagName}#${obj.id}.${obj.className}`;if(w.allEvents.hasOwnProperty(e)){const t=w.allEvents[e];let i=!1;for(let e=0;e<t.length;e++){const n=t[e];if(n&&n.o===obj&&n.n===eventName&&n.c===callbackFunction&&n.f===flag){i=!0,i&&t.splice(e,1);break}}0===t.length&&delete w.allEvents[e]}}}catch(e){}obj.removeEventListener?obj.removeEventListener(eventName,callbackFunction,flag):obj.detachEvent?obj.detachEvent(`on${eventName}`,callbackFunction):eval(`obj.on${eventName}= null;`)}eventElem(e,t){return e.target?e.target:e.srcElement?e.srcElement:t}getElemByID(e){return document.getElementById(e)}createWinFeatures(e,t,i,n,r){const o=new Object;return o.height=e,o.width=t,o.top=i,o.left=n,o.toString=function(){return this.state||(this.state="resizable,scrollbars",r&&(this.state+=",location=yes,toolbar=yes"),this.height&&(this.state+=`,height=${this.height}`),this.width&&(this.state+=`,width=${this.width}`),this.left&&(this.state+=`,left=${this.left}`),this.top&&(this.state+=`,top=${this.top}`)),this.state},o}_isInPagesFolder(e){const t=e.toLowerCase();return 0===t.indexOf("pages/")||t.indexOf("/pages/")>=0}isExternalWin(e){let t=!1;try{t=null==e.document}catch(e){t=!0}return t}getPageNameFromUrl(e){const t=e.lastIndexOf("/")+1,i=e.indexOf(".",t);return-1===i?this.MAIN_FRAME_ID:e.substring(t,i)}getPageName(){const e=window.location.href;return this.getPageNameFromUrl(e)}openFrameset(e,t,i,n){if(null==e||0===e.length)return;i&&i.startsWith("_")&&(i=null);const r=this.urlRouter.getOpenFramesetRouteParams(e,this.getTopWin().location,t,n);cookie_utils_1.CookieUtils.setCookie("urlPage",r.newUrl,"/");const o=window.open(unescape(r.newLocationHref));if(o){const e=this.getFrameElement(),t={urlContent:r.newUrl,targetFrame:i||(e?e.name:null),framesetOpen:!0,needNewSession:!0};o.openOptions=t,o.isRedirect=!0,o.lastCompany=this.getTopWin().company,o.urlPage=t.urlContent,o.urlFrame=t.targetFrame,o.framesetOpen=t.framesetOpen}}getLocalStorageItem(e,t){if(void 0!==window.localStorage){const i=window.localStorage.getItem(e);return void 0!==i?i:t}return t}getAbsoluteUrl(e,t){return t||(e=(null==e?void 0:e.startsWith("~"))?e.substring(1):this.basePath.replace(/\/$/,"")+(e||"")),e||""}initialize(){this.AgentName=window.navigator.userAgent.toLowerCase(),this.Version=parseInt(window.navigator.appVersion);const e=this.AgentName;this.IsWinPhone=e.indexOf("windows phone")>=0,this.IsIPad=/macintosh.*applewebkit.*safari/gi.test(e)&&window.navigator.maxTouchPoints>1||e.indexOf("ipad")>=0,this.IsIPhone=e.indexOf("iphone")>=0,this.IsAndroid=e.indexOf("android")>=0,this.IsTablet=this.IsIPad||this.IsIPhone||this.IsAndroid||this.IsWinPhone||e.indexOf("tablet")>=0,this.IsTabletOrWin=this.IsTablet,this.IsDom="function"==typeof document.getElementById,this.IsWin=e.indexOf("windows")>=0,this.IsWin98=e.indexOf("win98")>=0||e.indexOf("windows 98")>=0,this.IsTablet&&this.IsWin&&!this.IsWinPhone&&(this.IsTablet=!1,this.IsTabletWin=this.IsTabletOrWin=!0);const t=e.indexOf("firefox");let i=0;t>=0&&(i=parseFloat(e.substr(t+8,3))),this.IsNetscape=this.IsDom&&"Netscape"===navigator.appName,this.IsFirefox=t>=0,this.IsFirefox20=this.IsFirefox&&2===i,this.IsFirefox40=this.IsFirefox&&i>=4&&i<5,this.IsFirefoxFrom40=this.IsFirefox&&i>=4,this.IsFirefoxFrom65=this.IsFirefox&&i>=65,this.IsOpera=e.indexOf("opera")>=0,this.IsIE=e.indexOf("msie")>=0&&!this.IsOpera,this.IsIE10=this.IsIE&&e.indexOf("10.0")>=0,e.indexOf("rv:11.0")>0&&(this.IsIE11=!0),this.IsIE910=this.IsIE&&(e.indexOf("9.0")>=0||this.IsIE10),this.IsIE78=this.IsIE&&!this.IsIE910&&!this.IsIE11,this.IsAnyIE=this.IsIE||this.IsIE11,this.IsSafari=e.indexOf("safari")>=0,this.IsMacSafari=this.IsSafari&&e.indexOf("chrome")<0,this.IsEdge=e.indexOf("edge")>=0,this.IsIEorEdge=this.IsEdge||this.IsAnyIE,this.IsWebKit=e.indexOf("webkit")>=0&&!this.IsEdge,Function.createDelegate=function(e,t){return function(){return t.apply(e,arguments)}}}doRedirect(e,t,i){var n,r,o,a;const l=e.settings,d=this.getAbsoluteUrl(e.url,e.isUrlExternal);if(!l.type)throw new Error("Parameter type is mandatory in redirect settings");switch(l.type){case api_types_1.RedirectType.GoTo:case api_types_1.RedirectType.Map:return this.goTo(d,l,t,e.isUrlExternal,e.targetFrame,e.queryParams);case api_types_1.RedirectType.Popup:null===(n=this.screenEventManager)||void 0===n||n.publish(new event_manager_1.OpenPopupEvent({templateViewModel:qp_inline_screen_dialog_component_1.QpInlineScreenDialogComponent},i,l.formTitle,l.repaintControls,`pnlInlineScreen${null===(r=l.inlineScreenConfig)||void 0===r?void 0:r.screenId}`,l.inlineScreenConfig));break;case api_types_1.RedirectType.ClosePopup:this.closePopup(!1);break;case api_types_1.RedirectType.OpenMessageBox:{const t={title:l.formTitle,message:e.message,buttons:l.buttons};this.alertService.openAlert(t).then((e=>{e!==qp_alert_1.QpAlertResults.Confirm&&e!==qp_alert_1.QpAlertResults.Yes&&e!==qp_alert_1.QpAlertResults.No||this.screenEventManager.publish(new event_manager_1.ExecuteCommandEvent(i,new types_1.ScreenUpdateParams({dialogCallback:{viewName:l.viewName,dialogResult:e,dialogKey:l.dialogAnswerKey}})))}),(()=>{}));break}case api_types_1.RedirectType.OpenDialog:null===(o=this.screenEventManager)||void 0===o||o.publish(new event_manager_1.OpenPopupEvent(l.viewName,i,e.message,l.repaintControls));break;case api_types_1.RedirectType.WithReport:case api_types_1.RedirectType.OpenReport:case api_types_1.RedirectType.WithUrl:case api_types_1.RedirectType.WithinContext:case api_types_1.RedirectType.OpenPayment:return this.goTo(d,l,t,e.isUrlExternal,e.targetFrame,e.queryParams);case api_types_1.RedirectType.ReloadPage:null===(a=this.screenEventManager)||void 0===a||a.publish(new event_manager_1.ReloadPageEvent);break;default:{const t=(null==d?void 0:d.indexOf("Mobile/"))>=0;(l.type===api_types_1.RedirectType.Export||(null==d?void 0:d.indexOf(".ashx"))>0&&!t&&!e.targetFrame||(null==d?void 0:d.indexOf("Export.aspx"))>0&&!e.targetFrame)&&this.export(d);break}}}getOpenerWindowOptions(){return window.openOptions}openLayerWindow(e,t){var i,n;let r,o;const a=this.getFrameElement();let l=this.layerFrame,d=this.layerContainer,c=!0;if(null==this.layerContainer&&(d=this.getInlineLayerFrameContainer(),null==d&&(d=document.createElement("div"),d.id=this.LAYER_CONTAINER_ID,d.className="layer-cont",r=document.createElement("div"),r.className="frame-shadow spinner",d.appendChild(r)),d.style.display="none",this.layerContainer=d,a&&a.setAttribute("inline_frame",d.id)),null==this.layerFrame){const e=this.LAYER_FRAME_ID;l=a?null===(i=a.contentDocument)||void 0===i?void 0:i.getElementById(e):this.getElemByID(e),null==l&&(l=document.createElement("iframe"),l.id=e,l.setAttribute("name",e),l.setAttribute("frameborder","0"),l.className="layer",d.appendChild(l)),this.layerFrame=l}null==d.parentNode&&(a&&a.parentNode?null===(n=a.parentNode)||void 0===n||n.insertBefore(d,a.nextSibling):window.theForm.appendChild(d)),o=l.contentWindow;const p=o.location;let u=!1;try{u=p.href&&p.href.indexOf(e)>=0&&o.px_cm&&o.px_cm.requiredReloadPage(!0)}catch(e){}u?(o.px_cm.clearOnLoadTasks(),o.px_cm.reloadPage(),c=!1):p.replace(this.urlRouter.resolveUrlHideScript(e,this.getTopWin()));let h=this.getTopWin();if(!this.layerStatePushed&&h)try{h.history.pushState({},window.document.title,h.location.href),this.layerStatePushed=!0}catch(e){h=void 0}return o=l.contentWindow,null==o?null:(d.style.display="",c&&(r=this._getLayerShadow(),r.style.display=""),a&&this.appendCss(a.parentNode,["layer-visible"],!0),this.isExternalWin(o)||(null==this.popStateH&&(this.popStateH=Function.createDelegate(this,this._handleWidnowPopstate)),o.popupCommand=t,o.suppressChanges=!0,o.__suppressUrlUpdate=!0),o)}_getLayerShadow(){const e=this.layerContainer?this.layerContainer:this.getInlineLayerFrameContainer();return e?e.querySelector("div.spinner"):null}_handleWidnowPopstate(){this.hideInlineLayerFrame(),this.layerStatePushed=!1}openNewWindow(e,t,i,n,r,o){let a=(this.IsFirefox?window.screenX:window.screenLeft)+50,l=(this.IsFirefox?window.screenY:window.screenTop)+50,d=null,c=700,p=1e3;if(l>=600&&(l=50),a>=1e3&&(a=50),this.isPopupWindow(e)&&!this.getFrameElement()){const t=this.getPageNameFromUrl(e);p=Math.max(parseInt(this.getLocalStorageItem(`${t}_iwidth`,p),10),300),c=Math.max(parseInt(this.getLocalStorageItem(`${t}_iheight`,c),10),200)}const u=!this._isInPagesFolder(e),h=this.createWinFeatures(c,p,l,a,u),g=this;if("_inline"===t&&(n=!0),n)return e=this.urlRouter.resolveUrlPageTitle(e),document.location.href=this.urlRouter.resolveUrlHideScript(e,this.getTopWin()),null;if(e=this.urlRouter.resolveSameWindowUrl(e,this.getTopWin().location,!0,r,o),d=window.open(e,t,h.toString()),null==d)return null;if(d.isRedirect=!0,this.isExternalWin(d))return{window:d};try{d.focus()}catch(e){}null==this.popupUnloadH&&(this.popupUnloadH=Function.createDelegate(this,this._handlePopupUnload)),(this.IsAnyIE||this.IsEdge)&&this.addEventHandler(d,"unload",this.popupUnloadH),d.popupCommand=i,d.allowAutoHide=!0;const m=new Promise((e=>{d.resolveClose=e}));return this.addEventHandler(d,"load",(function(){g.removeEventHandler(d,"unload",g.popupUnloadH),g.addEventHandler(d,"unload",g.popupUnloadH),d.popupCommand=i,d.allowAutoHide=!0})),{window:d,close$:m}}_handlePopupUnload(e){var t,i;let n=this.eventElem(e);if(null===(t=e.currentTarget)||void 0===t?void 0:t.resolveClose){const t=(null===(i=n.defaultView)||void 0===i?void 0:i.savePerformed)?n.defaultView.keyFields:void 0;e.currentTarget.resolveClose(t)}n&&n.defaultView&&(n=n.defaultView),n&&this.removeEventHandler(n,"unload",this.popupUnloadH)}};RedirectHelper=tslib_1.__decorate([tslib_1.__param(0,(0,dependency_property_injection_1.optional)(types_1.BASE_PATH)),tslib_1.__param(1,(0,aurelia_framework_1.inject)(session_url_router_1.SessionUrlRouter)),tslib_1.__param(2,(0,aurelia_framework_1.inject)(session_url_serializer_1.SessionUrlSerializer)),tslib_1.__param(3,(0,aurelia_framework_1.inject)(event_manager_1.QpEventManager)),tslib_1.__param(4,(0,aurelia_framework_1.inject)(alert_service_1.AlertService)),tslib_1.__metadata("design:paramtypes",[String,Object,session_url_serializer_1.SessionUrlSerializer,event_manager_1.QpEventManager,alert_service_1.AlertService])],RedirectHelper),exports.RedirectHelper=RedirectHelper}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},3750:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PXReflectionMetadata=void 0;t.PXReflectionMetadata=class PXReflectionMetadata{static setMetadata(e,t,i,n){e&&(e.__pxmetadata__||(e.__pxmetadata__={}),void 0!==n&&t&&"string"==typeof i?(e.__pxmetadata__[t]||(e.__pxmetadata__[t]={}),e.__pxmetadata__[t][i]=n):t&&(e.__pxmetadata__[t]=i))}static getMetadataKeys(e,t){if(e&&e.__pxmetadata__){if(t){if(!e.__pxmetadata__[t])return;return Object.getOwnPropertyNames(e.__pxmetadata__[t])}return Object.getOwnPropertyNames(e.__pxmetadata__)}}static getMetadata(e,t,i){if(e&&e.__pxmetadata__&&e.__pxmetadata__[t])return i?e.__pxmetadata__[t][i]:e.__pxmetadata__[t]}static copyMetadata(e,t){e&&t&&e.__pxmetadata__&&(t.__pxmetadata__||(t.__pxmetadata__={}),Object.assign(t.__pxmetadata__,e.__pxmetadata__))}}}.apply(t,[i,t]),void 0===n||(e.exports=n)},8057:(e,t,i)=>{var n,r;n=[i,t,i(655),i(6158),i(5592),i(8009),i(4232)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionUrlRouter=void 0;let l=class SessionUrlRouter{constructor(e){this.urlSerializer=e}resolvePopupPanelMode(e){const t=this.urlSerializer.parseQueryParams(e.search);if(t.PopupPanel)return Object.values(o.PopupPanelMode).includes(t.PopupPanel)?t.PopupPanel:void 0}resolveSameWindowUrl(e,t,i,n,r){if(n)return e;const o=this.urlSerializer.parseLocation(t);if(o.sessionNumber||i){let t;t=i?o.sessionNumber?1e4+o.sessionNumber:1e4:o.sessionNumber,t>0&&(e=this.getSessionUrlByParams(this.urlSerializer.parseUrl(e,o.sitename),o,t,r))}else r&&(e=this.getSessionUrlByParams(this.urlSerializer.parseUrl(e,o.sitename),o,0,r));return e}resolveBlankWindowUrl(e,t,i,n,r){const o=decodeURI(e);if(i)return o;const a=this.urlSerializer.parseLocation(t),l=!0!==n?(this.getSessionNumberFromCookie()||a.sessionNumber)+1:a.sessionNumber;return this.getSessionUrlByParams(this.urlSerializer.parseUrl(e,a.sitename),a,l,r)}resolveUrlHideScript(e,t,i){if(e.indexOf("CstMode")>0||""===e||i)return e;if(t.hideScript&&e.toLowerCase().indexOf("hidescript")<0){const t=e.split("#");t[0]+=(t[0].indexOf("?")>0?"&":"?")+"HideScript=On",e=t.join("#")}return e}resolveUrlPageTitle(e){return e=this.copyUrlParameter(e,"HidePageTitle"),this.copyUrlParameter(e,"hidePageTitle")}getOpenFramesetRouteParams(e,t,i,n){let r=!1;t.href;let o=0;const a={newLocationHref:"",newUrl:e},l=this.urlSerializer.parseLocation(t),d=this.urlSerializer.parseUrl(e,l.sitename);-1===t.href.indexOf("/(S(")&&(o=l.sessionNumber?l.sessionNumber:this.getSessionNumberFromCookie()||0,r=!0);let c=e;if(!i)if(e.startsWith("/"))c=this.getSessionUrlByParams(d,l,o,n);else if(!e.startsWith("about:")){const t=r?this.getSessionUrlByParams(d,l,o,n):window.location.href;c=t.substring(0,t.lastIndexOf("/")+1)+e}return l.queryParams={},a.newUrl=c,a.newLocationHref=this.urlSerializer.serializeUrl(l),a}getSessionUrlByParams(e,t,i,n){if(n&&(e.queryParams=Object.assign(Object.assign({},e.queryParams),n)),null==e?void 0:e.sessionNumber)return e.sessionNumber=i,this.urlSerializer.serializeUrl(e);if(t.isRoot&&"https"===e.protocol){const r=this.urlSerializer.getDefaultUrlParams();return r.protocol=t.protocol,r.hostname=t.hostname,r.sessionNumber=i,r.sitename=e.sitename,r.pathname=e.pathname,r.queryParams=Object.assign(Object.assign({},e.queryParams),n||{}),this.urlSerializer.serializeUrl(r)}return e.sessionNumber=i,this.urlSerializer.serializeUrl(e)}getSessionNumberFromCookie(){return(a.CookieUtils.getLastWinCookie()||0)+1}copyUrlParameter(e,t){let i=unescape(document.location.href);const n=`${t}=`;if(i.indexOf(t)>0&&e.indexOf(n)<0){i=i.substring(i.indexOf(n)+n.length);const t=i.indexOf("&"),r=t>-1?i.substring(0,t):i;return e+(e.indexOf("?")>0?"&":"?")+n+r}return e}};l=i.__decorate([(0,n.autoinject)(),i.__metadata("design:paramtypes",[r.SessionUrlSerializer])],l),t.SessionUrlRouter=l}.apply(t,n),void 0===r||(e.exports=r)},2374:(e,t,i)=>{var n;n=function(e,t){"use strict";var i,n,r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HTTP_CONFIGURATION=t.BASE_PATH=t.ApiCientEvents=t.ViewMode=t.ScreenUpdateParams=t.PXPageLoadBehavior=t.PXActionState=t.PXSpecialButtonType=t.PXConfirmationType=t.ActionConnotation=t.PXTranslation=t.ScrollMode=t.getDialogResultCode=t.WebDialogResult=t.NetType=t.CurrencyViewMode=void 0,function(e){e.Current="current",e.Base="base"}(t.CurrencyViewMode||(t.CurrencyViewMode={})),function(e){e[e.Empty=0]="Empty",e[e.Object=1]="Object",e[e.DBNull=2]="DBNull",e[e.Boolean=3]="Boolean",e[e.Char=4]="Char",e[e.SByte=5]="SByte",e[e.Byte=6]="Byte",e[e.Int16=7]="Int16",e[e.UInt16=8]="UInt16",e[e.Int32=9]="Int32",e[e.UInt32=10]="UInt32",e[e.Int64=11]="Int64",e[e.UInt64=12]="UInt64",e[e.Single=13]="Single",e[e.Double=14]="Double",e[e.Decimal=15]="Decimal",e[e.DateTime=16]="DateTime",e[e.String=18]="String"}(t.NetType||(t.NetType={})),function(e){e[e.None=0]="None",e[e.OK=1]="OK",e[e.Cancel=2]="Cancel",e[e.Abort=3]="Abort",e[e.Retry=4]="Retry",e[e.Ignore=5]="Ignore",e[e.Yes=6]="Yes",e[e.No=7]="No"}(i=t.WebDialogResult||(t.WebDialogResult={})),t.getDialogResultCode=function getDialogResultCode(e){if(void 0===e||"number"==typeof e)return e;const t=parseInt(e);return isNaN(t)?i[e]:t},function(e){e[e.Both=0]="Both",e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal"}(t.ScrollMode||(t.ScrollMode={}));t.PXTranslation=class PXTranslation{},function(e){e[e.None=0]="None",e[e.Primary=1]="Primary",e[e.Secondary=2]="Secondary",e[e.Success=3]="Success",e[e.Danger=4]="Danger",e[e.Warning=5]="Warning",e[e.Info=6]="Info",e[e.Light=7]="Light",e[e.Dark=8]="Dark"}(n=t.ActionConnotation||(t.ActionConnotation={})),function(e){e[e.Always=0]="Always",e[e.IfDirty=1]="IfDirty",e[e.Unspecified=2]="Unspecified"}(r=t.PXConfirmationType||(t.PXConfirmationType={})),function(e){e[e.Default=0]="Default",e[e.Save=1]="Save",e[e.SaveNotClose=2]="SaveNotClose",e[e.Cancel=3]="Cancel",e[e.Refresh=4]="Refresh",e[e.CopyPaste=5]="CopyPaste",e[e.Report=6]="Report",e[e.First=7]="First",e[e.Next=8]="Next",e[e.Prev=9]="Prev",e[e.Last=10]="Last",e[e.Insert=11]="Insert",e[e.Delete=12]="Delete",e[e.Approve=13]="Approve",e[e.ApproveAll=14]="ApproveAll",e[e.Process=15]="Process",e[e.ProcessAll=16]="ProcessAll",e[e.Schedule=17]="Schedule",e[e.EditDetail=18]="EditDetail",e[e.ActionsFolder=19]="ActionsFolder",e[e.InquiriesFolder=20]="InquiriesFolder",e[e.ReportsFolder=21]="ReportsFolder",e[e.ToolbarFolder=22]="ToolbarFolder",e[e.SidePanelFolder=23]="SidePanelFolder",e[e.ApiCallback=24]="ApiCallback"}(o=t.PXSpecialButtonType||(t.PXSpecialButtonType={}));t.PXActionState=class PXActionState{constructor(e,t){this.screenViewModel=e,this.enabled=!0,this.visible=!0,this.commitChanges=!0,this.connotation=n.None,this.pressed=!1,this.closePopup=!1,this.confirmationMessage=void 0,this.confirmationType=r.IfDirty,this.popupVisible=!0,this.shortcutCtrl=!1,this.shortcutShift=!1,this.specialType=o.Default,this.onClosingPopup=o.Default,this.isLockedOnToolbar=!1,this.visibleOnProcessingResults=!1,this.automationDisabled=!1,this.automationHidden=!1,this.isMass=!1,this.menuAutoOpen=!1,this.clearAnswerAfterPress=!0,this.workflowHiddenOnMainToolbar=!1,this.bindToScreenName=void 0,this.commandName=t||""}press(){this.commandName&&this.screenViewModel.getScreenService().executeCommand(this.commandName,new ScreenUpdateParams({commitChanges:this.commitChanges}))}},function(e){e[e.InsertRecord=0]="InsertRecord",e[e.SearchSavedKeys=1]="SearchSavedKeys",e[e.PopulateSavedValues=2]="PopulateSavedValues",e[e.GoFirstRecord=3]="GoFirstRecord",e[e.GoLastRecord=4]="GoLastRecord"}(t.PXPageLoadBehavior||(t.PXPageLoadBehavior={}));class ScreenUpdateParams{constructor(e,t){this.commitChanges=!0,this.blockPage=!0,this.container=t,e&&(void 0!==e.commitChanges&&(this.commitChanges=e.commitChanges),void 0!==e.blockPage&&(this.blockPage=e.blockPage),this.views=e.views,this.dialogCallback=e.dialogCallback,this.requestOwner=e.requestOwner,this.openFrameset=e.openFrameset)}}t.ScreenUpdateParams=ScreenUpdateParams,function(e){e.View="view",e.Edit="edit"}(t.ViewMode||(t.ViewMode={}));class ApiCientEvents{}t.ApiCientEvents=ApiCientEvents,ApiCientEvents.ErrorRaisedEvent="ApiClientErrorRaisedEvent",ApiCientEvents.FetchRunningEvent="FetchRunning",t.BASE_PATH=Symbol("BASE_PATH"),t.DEFAULT_HTTP_CONFIGURATION=Symbol("DEFAULT_HTTP_CONFIGURATION")}.apply(t,[i,t]),void 0===n||(e.exports=n)},6926:(e,t,i)=>{var n,r;n=[i,t,i(655),i(6158),i(6176),i(6778),i(3750),i(46)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PXViewCollection=void 0;class RowSubscriber{constructor(){this.subscriptions=[],this.handlers={}}addSubscription(e,t){this.handlers[e]=t}subscribeToRow(e){if(this.dispose(),e){const t=n.Container.instance.get(o.BindingEngine);for(const i in this.handlers)e.hasOwnProperty(i)&&this.subscriptions.push(t.propertyObserver(e[i],"value").subscribe(this.handlers[i]))}}dispose(){this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}}class CssCustomizableCOllection extends r.CssCustomizable{getCustomCellCss(e,t,i){let n;const r=this.handlers[l.CustomEventType.GetCellCss];if(r){for(const o of r){if(!o)continue;const r=o.props;if((null==r?void 0:r.column)!==t)continue;const a=o.handler({viewModel:e,selector:i,screenModel:this.screenModel},o.children);a&&(n=n?`${n} ${a}`:a)}return n}}}class PXViewCollection{constructor(e,t){this.config=t,this.activeRowSubscriber=new RowSubscriber,this.activeRowChanged=!1,this.cssCustomization=new CssCustomizableCOllection,this.viewInUpdateProcess=!1,this.rowSelectedHandlers=[],this.initialized=!1,this.rowsChanged=0,e&&"function"==typeof e&&(this.typeConstructor=e,this.instance=this.createInstance())}isCollection(){return!0}get records(){if(this.rows){for(let e=0;e<this.rows.length;e++)this.getRowModel(e);return new Array(...this.rows)}return this.rows}get fieldNames(){return this.instance.fieldNames}fireRowsChanged(){this.rowsChanged++}getField(e){var t,i;return this.initialized&&null!==(i=null===(t=this.activeRow)||void 0===t?void 0:t.getField(e))&&void 0!==i?i:this.instance.getField(e)}setField(e,t){this.initialized||this.instance.setField(e,t)}setFields(e,t={}){!this.initialized&&e&&e.length>0&&(this.instance.setFields(e,t),this.initialized=!0)}subscribeValueChanged(e,t,i){return this.activeRowSubscriber.addSubscription(t,((t,n)=>{const o=e.getScreenService();(null==o?void 0:o.updatesSuspended())||(0,r.executeHandler)(e,i,{screenModel:e,viewModel:this,newValue:t,oldValue:n})})),this.activeRowSubscriber.subscribeToRow(this.activeRow),this.activeRowSubscriber}subscribeRowSelected(e,t){this.rowSelectedHandlers.push((()=>{(0,r.executeHandler)(e,t,{screenModel:e,viewModel:this})}))}createInstance(){return this.typeConstructor()}get instanceType(){return this.instance?Object.getPrototypeOf(this.instance).constructor:void 0}setActiveRow(e){return this.activeRow="number"==typeof e?this.getRowModel(e):void 0,this.activeRowSubscriber.subscribeToRow(this.activeRow),this.publishRowSelectedEvent(),this.activeRow}publishRowSelectedEvent(){var e;null===(e=this.rowSelectedHandlers)||void 0===e||e.forEach((e=>e(this)))}setRows(e,t){var i;this.rows=new Array(e.length),null===(i=this.sceenService)||void 0===i||i.clearObservers(this.name),this.fireRowsChanged(),this.rowsData=e,t&&(this.columns=t)}getRowModel(e){var t;if(this.rowsData&&!(e>=this.rowsData.length)){if(!this.rows[e]){const i=this.rows[e]=this.createRow(this.rowsData[e],this.columns);null===(t=this.sceenService)||void 0===t||t.attachValueObserversForView(this.columns.filter((e=>e.field)).map((e=>e.field)),i,this.name)}return this.rows[e]}}getMetadataKeys(e){return a.PXReflectionMetadata.getMetadataKeys(this.instance,e)}getMetadata(e,t){return a.PXReflectionMetadata.getMetadata(this.instance,e,t)}registerScreenService(e){this.sceenService=e}createRow(e,t){const i={};null==t||t.forEach((e=>i[e.field]=e.state));const n=this.createInstance();n.id=e.id;const r=Object.keys(e.cells).reduce(((t,i)=>(t.push({fieldName:i,fieldState:e.cells[i]}),t)),new Array);return n.setFields(r,i),n.setParentModel(this),n}}i.__decorate([(0,o.computedFrom)("rowsChanged","rows","rowsData"),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[])],PXViewCollection.prototype,"records",null),t.PXViewCollection=PXViewCollection}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/plugins/bank-feed/qp-mx":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7140)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpMxCustomElement=void 0;let o=class QpMxCustomElement{constructor(e){this.element=e}attached(){this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||"{}"),this.ds=n.PLATFORM.global.px_cm.findDataSource();const e=this.options,t=this.ds,i=this.element;(0,r.loadScript)("https://atrium.mx.com/connect.js",(()=>{new MXConnect({id:"mx-form-wrapper",iframeTitle:"Connect",onEvent:function onEvent(n,r){if("mx/connect/memberConnected"===n&&(this.memberData={user_guid:r.user_guid,member_guid:r.member_guid}),"mx/connect/stepChange"===n&&"connected"===r.previous)if(i.parentElement.removeChild(i),"Connect"===e.Mode){const e=JSON.stringify(this.memberData);t.executeCommand("SyncConnectFeed",e)}else{const e=JSON.stringify({updated:!1,error_reason:"Bank feed has been already connected."});t.executeCommand("SyncUpdateFeed",e)}if("mx/connect/updateCredentials"===n){i.parentElement.removeChild(i);const e=JSON.stringify({updated:!0});t.executeCommand("SyncUpdateFeed",e)}},config:{ui_message_version:4},targetOrigin:"*"}).load(e.Url)}))}cancelAndCloseForm(){this.element.parentElement.removeChild(this.element),"Connect"===this.options.Mode?this.ds.executeCommand("SyncConnectFeed",null):this.ds.executeCommand("SyncUpdateFeed",null)}};o=i.__decorate([(0,n.customElement)("qp-mx"),n.autoinject,i.__metadata("design:paramtypes",[Element])],o),t.QpMxCustomElement=o}.apply(t,n),void 0===r||(e.exports=r)},221:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7140)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpPlaidCustomElement=void 0;let o=class QpPlaidCustomElement{constructor(e){this.element=e}attached(){this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||"{}");const e=this.options,t=n.PLATFORM.global.px_cm.findDataSource();(0,r.loadScript)("https://cdn.plaid.com/link/v2/stable/link-initialize.js",(()=>{Plaid.create({token:e.Token,onSuccess:function onSuccess(i,n){const r={public_token:i,metadata:n};if("Update"===e.Mode){const e=JSON.stringify({updated:!0});t.executeCommand("SyncUpdateFeed",e)}else{const e=JSON.stringify(r);t.executeCommand("SyncConnectFeed",e)}},onExit:function onExit(i,n){if("Update"===e.Mode)if(null!==i){const e={updated:!1,error_reason:i.error_code},n=JSON.stringify(e);t.executeCommand("SyncUpdateFeed",n)}else t.executeCommand("SyncUpdateFeed",null);else t.executeCommand("SyncConnectFeed",null)},receivedRedirectUri:null}).open()}))}};o=i.__decorate([(0,n.customElement)("qp-plaid"),n.autoinject,n.noView,i.__metadata("design:paramtypes",[Element])],o),t.QpPlaidCustomElement=o}.apply(t,n),void 0===r||(e.exports=r)},7843:(e,t,i)=>{var n,r;n=[i,t,i(655)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCssVariables=void 0,t.updateCssVariables=function updateCssVariables(e){return i.__awaiter(this,void 0,void 0,(function*(){return e.fetch("frameset/cssvariables").then((e=>e.json())).then((e=>{const t=document.createElement("style");t.innerHTML=`:root {${e.variables}}`,document.head.appendChild(t)}))}))}}.apply(t,n),void 0===r||(e.exports=r)},6564:(e,t,i)=>{var n,r;n=[i,t,i(7699)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function configure(e){const t=e&&e.injectConstructor?i.PropertyConstructorInvocationHandler:i.PropertyInvocationHandler;e.container.setHandlerCreatedCallback((e=>e.fn.injectProperties?new t(e.fn,e.invoker,e.dependencies):e))}}.apply(t,n),void 0===r||(e.exports=r)},9171:(e,t,i)=>{var n,r;n=[i,t,i(655),i(2866)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function configure(e){e.aurelia.enhanceAndWatch=function(t,r){return i.__awaiter(this,void 0,void 0,(function*(){return e.aurelia.__me=new n.MutationEnhancer(e.aurelia,t),e.aurelia.__me.watch(r),this.enhance(t,r)}))},e.aurelia.stopWatch=function(){return i.__awaiter(this,void 0,void 0,(function*(){e.aurelia.__me instanceof n.MutationEnhancer&&e.aurelia.__me.unwatch()}))}}}.apply(t,n),void 0===r||(e.exports=r)},2866:(e,t,i)=>{var n,r;n=[i,t,i("aurelia-framework"),i(8099)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MutationEnhancer=void 0;const r=(0,n.getLogger)("enhance-watch");t.MutationEnhancer=class MutationEnhancer{constructor(e,t){this.au=e,this.bindingContext=t,this.enhanceSelector="",this.container=e.container,this.engine=e.container.get(i.TemplatingEngine)}watch(e){this.enhanceSelector=Object.keys(this.au.resources.elements).filter((e=>-1===["compose","router-view"].indexOf(e))).map((e=>e.toLowerCase())).join(","),this.observer=new MutationObserver((e=>{this.onMutationcallback(e)})),this.observer.observe(i.PLATFORM.global.document,{childList:!0,subtree:!0})}unwatch(){this.observer&&this.observer.disconnect()}onMutationcallback(e){var t,i;for(const n of e)if("childList"===n.type){for(let e=0;e<n.addedNodes.length;e++){const t=n.addedNodes[e];if(t.nodeType!==Node.ELEMENT_NODE)continue;let i;i=this.au.resources.getElement(t.nodeName.toLowerCase())?[t]:t.querySelectorAll(this.enhanceSelector);for(let e=0;e<i.length;e++){const t=i[e];t.getAttribute("au-target-id")?t.au.controller.attached():this.engine.enhance({element:t,container:this.container,resources:this.au.resources,bindingContext:this.bindingContext})}}for(let e=0;e<n.removedNodes.length;e++){const o=n.removedNodes[e];if(o.nodeType!==Node.ELEMENT_NODE)continue;let a;a=this.au.resources.getElement(o.nodeName.toLowerCase())?[o]:o.querySelectorAll(this.enhanceSelector);for(let e=0;e<a.length;e++){const n=a[e];n.au||r.warn("no au-target-id on removed node",n),n.getAttribute("au-target-id")&&(null===(i=null===(t=n.au)||void 0===t?void 0:t.controller)||void 0===i||i.detached())}}}}}}.apply(t,n),void 0===r||(e.exports=r)},9150:(e,t,i)=>{var n,r;n=[i,t,i(655),i(1781),i(8099),i(1015),i("aurelia-event-aggregator"),i(2172)],r=function(e,t,i,n,r,o,a,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlueToCustomAttribute=void 0;(0,r.getLogger)("glue-to-attribute");let d=class GlueToCustomAttribute{constructor(e,t){this.ea=t,this.element=e}bind(){}targetChanged(e,t){this.unsubscribeListeners(),this.glueAndObserve()}unsubscribeListeners(){this.repositionSubscription&&(this.repositionSubscription.dispose(),this.repositionSubscription=void 0),this.coordinateSystemSubscription&&(this.coordinateSystemSubscription.dispose(),this.coordinateSystemSubscription=void 0)}glueAndObserve(){this.target&&(this.coordinateSystemSubscription=this.ea.subscribe(l.COORDINATE_SYSTEM_CHANGED_EVENT_NAME,(e=>{this.glueNow(e)})),this.repositionSubscription=this.ea.subscribe(`repositioned:${this.target.id}`,(()=>{this.moveIfNecessary()})),this.glueNow())}attached(){this.glueAndObserve()}detached(){this.unsubscribeListeners()}moveIfNecessary(){if(!this.target)return;const e=this.target.getBoundingClientRect(),t=this.element.getBoundingClientRect();t.top===e.bottom&&t.left<=e.left&&t.right>=e.right||this.glueNow()}glueNow(e){var t,i,n,r,a,l,d,c,p;if(!this.target)return;const u=this.element;if(("wheel"===(null==e?void 0:e.type)||"scroll"===(null==e?void 0:e.type))&&e.target===u)return;const h=u.style;h.position="fixed",h.removeProperty("transform"),h.removeProperty("left"),h.removeProperty("top"),h.removeProperty("bottom"),h.removeProperty("height");const g=this.target.getBoundingClientRect();let m=g.width||g.right-g.left;(null===(t=this.options)||void 0===t?void 0:t.ignoreTargetWidth)?h.minWidth="auto":h.minWidth=`${m}px`;const f=u.getBoundingClientRect(),v=window.getComputedStyle(u),b=h.width||v.maxWidth,y=h.height||v.maxHeight,x=b&&parseInt(b)||f.width,C=y&&parseInt(y)||f.height,_=g.top,S=o.PLATFORM.global.innerHeight-g.bottom;let E,q,k,M=!(S>C||_<C);(null===(i=this.options)||void 0===i?void 0:i.stretch)&&(M=_>S);const T=o.PLATFORM.global.document.documentElement.getBoundingClientRect(),I=g.left+Math.min(x,f.width)>T.width;if(I){const e=Math.max(g.right,T.right);m=Math.min(x,f.width),h.minWidth=`${m}px`,q=e}else q=(null===(n=this.options)||void 0===n?void 0:n.centerToTarget)||g.width<30?Math.max(10,g.left+g.width/2-f.width/2):g.right<0?g.left:Math.max(10,g.left);let D=0;M?(E=g.top,k=I?"translate(-100%,-100%)":(null===(r=this.options)||void 0===r?void 0:r.verticalDistanceFromTargetPX)?`translateY(calc(-100% - ${null===(a=this.options)||void 0===a?void 0:a.verticalDistanceFromTargetPX}px))`:"translateY(-100%)",D=E):(E=g.bottom,k=I?"translateX(-100%)":(null===(l=this.options)||void 0===l?void 0:l.verticalDistanceFromTargetPX)?`translateY(${null===(d=this.options)||void 0===d?void 0:d.verticalDistanceFromTargetPX}px)`:"",D=T.bottom-E);const F=function getContainingBlockOffset(e){const t={top:0,left:0};if(!e)return t;const i=e.ownerDocument;let n=e.parentElement;for(;n&&n!==i.body&&n!==i.documentElement;){if(isContainingBlock(n))return n.getBoundingClientRect();n=n.parentElement}return t}(u);q-=F.left,E-=F.top,u.classList.toggle("glue-to-above",M);let P=NaN;(null===(c=this.options)||void 0===c?void 0:c.stretch)&&f.height>D?M?(E=10,k="none"):(E=NaN,P=10):((null===(p=this.options)||void 0===p?void 0:p.stretch)||f.height>D)&&(h.height=D-10+"px"),h.left=`${q}px`,Number.isNaN(E)||(h.top=`${E}px`),Number.isNaN(P)||(h.bottom=`${P}px`),h.transform=k,u.dispatchEvent(new CustomEvent("glued",{bubbles:!0}))}};function isContainingBlock(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;const t=o.PLATFORM.global.getComputedStyle(e);return t.containerType&&"normal"!==t.containerType||t.perspective&&"none"!==t.perspective||t.transform&&"none"!==t.transform||t.backdropFilter&&"none"!==t.backdropFilter||-1!==(t.willChange||"").indexOf("transform")||t.filter&&"none"!==t.filter||t.contain&&-1!==["layout","paint","strict","content"].indexOf(t.contain)}i.__decorate([(0,n.bindable)({primaryProperty:!0}),i.__metadata("design:type",Object)],d.prototype,"target",void 0),i.__decorate([n.bindable,i.__metadata("design:type",Object)],d.prototype,"options",void 0),d=i.__decorate([(0,n.customAttribute)("glue-to"),i.__metadata("design:paramtypes",[Element,a.EventAggregator])],d),t.GlueToCustomAttribute=d}.apply(t,n),void 0===r||(e.exports=r)},9106:(e,t,i)=>{var n,r;n=[i,t,i("aurelia-framework"),i(9150),i("aurelia-event-aggregator"),i(2172)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function configure(e){e.globalResources([n.GlueToCustomAttribute]);const t=e.container.get(r.EventAggregator);function notifyAbsolutePositionsAreScrewed(e){t.publish(o.COORDINATE_SYSTEM_CHANGED_EVENT_NAME,e)}e.postTask((()=>{i.PLATFORM.global.document.addEventListener("scroll",(e=>{notifyAbsolutePositionsAreScrewed(e)}),{capture:!0,passive:!0}),i.PLATFORM.global.addEventListener("resize",(e=>{notifyAbsolutePositionsAreScrewed(e)}),{passive:!0})}))}}.apply(t,n),void 0===r||(e.exports=r)},7621:(e,t,i)=>{var n,r;n=[i,t,i("aurelia-framework"),i("aurelia-event-aggregator"),i(2172)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function configure(e){const t=e.container.get(n.EventAggregator);e.postTask((()=>{i.PLATFORM.global.document.addEventListener("mousedown",(e=>{!function notifyMouseDownReachedBody(e){t.publish(r.MOUSE_DOWN_REACHED_BODY,e)}(e)}))})),e.postTask((()=>{i.PLATFORM.global.addEventListener("resize",(()=>{!function notifyResizeWindow(){const e={delay:250,timeoutId:void 0};e.timeoutId&&clearTimeout(e.timeoutId);e.timeoutId=setTimeout((()=>{t.publish(r.RESIZE_WINDOW)}),e.delay)}()}))})),e.postTask((()=>{i.PLATFORM.global.document.addEventListener("drop",(e=>{!function notifyDropOnBody(e){t.publish(r.DROP_ON_BODY,e)}(e)}))}))}}.apply(t,n),void 0===r||(e.exports=r)},6137:(e,t,i)=>{var n,r;n=[i,t,i("client-controls/plugins/payment/qp-authorize-net"),i("client-controls/plugins/payment/qp-stripe"),i("client-controls/plugins/payment/qp-authorize-net-hosted-form"),i("client-controls/plugins/payment/qp-fortis"),i(221),i("client-controls/plugins/bank-feed/qp-mx"),i(9106),i(9171),i(7621),i(6564),i(7843)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCssVariables=t.configurePropertyInjection=t.configureHappenedOnBody=t.configureEnchanceAndWatch=t.configureGlue=t.QpMxCustomElement=t.QpPlaidCustomElement=t.QpFortisCustomElement=t.QpAuthorizeNetHostedFormCustomElement=t.QpStripeCustomElement=t.QpAuthorizeNetCustomElement=void 0,Object.defineProperty(t,"QpAuthorizeNetCustomElement",{enumerable:!0,get:function(){return i.QpAuthorizeNetCustomElement}}),Object.defineProperty(t,"QpStripeCustomElement",{enumerable:!0,get:function(){return n.QpStripeCustomElement}}),Object.defineProperty(t,"QpAuthorizeNetHostedFormCustomElement",{enumerable:!0,get:function(){return r.QpAuthorizeNetHostedFormCustomElement}}),Object.defineProperty(t,"QpFortisCustomElement",{enumerable:!0,get:function(){return o.QpFortisCustomElement}}),Object.defineProperty(t,"QpPlaidCustomElement",{enumerable:!0,get:function(){return a.QpPlaidCustomElement}}),Object.defineProperty(t,"QpMxCustomElement",{enumerable:!0,get:function(){return l.QpMxCustomElement}}),Object.defineProperty(t,"configureGlue",{enumerable:!0,get:function(){return d.configure}}),Object.defineProperty(t,"configureEnchanceAndWatch",{enumerable:!0,get:function(){return c.configure}}),Object.defineProperty(t,"configureHappenedOnBody",{enumerable:!0,get:function(){return p.configure}}),Object.defineProperty(t,"configurePropertyInjection",{enumerable:!0,get:function(){return u.configure}}),Object.defineProperty(t,"updateCssVariables",{enumerable:!0,get:function(){return h.updateCssVariables}})}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/plugins/payment/qp-authorize-net-hosted-form":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i("aurelia-framework"),i(7140)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpAuthorizeNetHostedFormCustomElement=t.configure=void 0,t.configure=function configure(e){e.globalResources([a])};let a=class QpAuthorizeNetHostedFormCustomElement{constructor(e){this.element=e}attached(){this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||"");const e=document.getElementById("acceptButton");switch(e.setAttribute("data-apiLoginID",this.options.apiLoginID),e.setAttribute("data-clientKey",this.options.clientKey),this.options.type){case"AcceptUI_SANDBOX":(0,o.loadScript)("https://jstest.authorize.net/v3/AcceptUI.js",(()=>{e.click()}));break;case"AcceptUI_PRODUCTION":(0,o.loadScript)("https://js.authorize.net/v3/AcceptUI.js",(()=>{e.click()}))}n.PLATFORM.global.responseHandler=function(e){if("Error"===e.messages.resultCode){let t=0;for(;t<e.messages.message.length;)console.log(`${e.messages.message[t].code}:${e.messages.message[t].text}`),t+=1}else{n.PLATFORM.global.px_cm.findDataSource().executeCommand("SyncPaymentTransaction",e.opaqueData.dataValue)}}}};a=i.__decorate([(0,r.customElement)("qp-authorize-net-hosted-form"),i.__metadata("design:paramtypes",[Element])],a),t.QpAuthorizeNetHostedFormCustomElement=a}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/plugins/payment/qp-authorize-net":(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7140)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpAuthorizeNetCustomElement=void 0;let o=class QpAuthorizeNetCustomElement{constructor(e){this.element=e,this.cardData={cardNumber:"",month:"",year:"",cardCode:""},this.authData={clientKey:"",apiLoginID:""},this.secureData={authData:this.authData,cardData:this.cardData}}attached(){this.initPopup()}initPopup(){switch(this.options=JSON.parse(this.element.getAttribute("options")||""),this.authData.clientKey=this.options.clientKey,this.authData.apiLoginID=this.options.apiLoginID,this.options.type){case"Accept_SANDBOX":(0,r.loadScript)("https://jstest.authorize.net/v1/Accept.js",this.initHostedForm.bind(this));break;case"Accept_PRODUCTION":(0,r.loadScript)("https://js.authorize.net/v1/Accept.js",this.initHostedForm.bind(this))}}closePaymentForm(){this.cardData.cardNumber="",this.cardData.month="",this.cardData.year="",this.cardData.cardCode="",this.element.style.display="none"}initHostedForm(){this.element.style.display="block"}sendPaymentDataToAnet(){Accept.dispatchData(this.secureData,(e=>{if("Error"===e.messages.resultCode){let t=0;for(;t<e.messages.message.length;)console.log(`${e.messages.message[t].code}:${e.messages.message[t].text}`),t+=1}else{n.PLATFORM.global.px_cm.findDataSource().executeCommand("SyncPaymentTransaction",e.opaqueData.dataValue),this.closePaymentForm()}}))}};o=i.__decorate([(0,n.customElement)("qp-authorize-net"),n.autoinject,i.__metadata("design:paramtypes",[Element])],o),t.QpAuthorizeNetCustomElement=o}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/plugins/payment/qp-fortis":(e,t,i)=>{var n,r;n=[i,t,i(655),i(8862),i("aurelia-framework"),i(2956),i(8099)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpFortisCustomElement=void 0;const l=(0,a.getLogger)("qp-fortis");let d=class QpFortisCustomElement{constructor(e,t){this.element=e,this.http=t,this.shiftX=0,this.shiftY=0,this.isMobile=!1,this.title="",this.receiveMessageListener=e=>this.receiveMessage(e),this._bindMouseMove=e=>this.onMouseMove(e),this._bindRemoveMouseListeners=()=>this.removeMouseListeners(),this.localizedStrings=n.LOCALIZED_STRINGS.payment}attached(){this.isMobile=!this.getDataSource(),this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||"");const e=this.options.Url.replace(/&amp;/g,"&"),t=this.options.Mode,i=this.options.PaymentMethod,n=document.getElementById("payment-form-fortis"),r=document.createElement("iframe");r.setAttribute("src",e),r.style.background="#f5f7f8","payment"===t?"cc"===i?(this.title=this.localizedStrings.TitlePay,r.setAttribute("class","payformccsize")):"ach"===i&&(this.title=this.localizedStrings.TitlePayEFT,r.setAttribute("class","payformachsize")):"newProfile"===t&&("cc"===i?(this.title=this.localizedStrings.TitleCreateProfile,r.setAttribute("class","accountformccsize")):"ach"===i&&(this.title=this.localizedStrings.TitleCreateProfileEFT,r.setAttribute("class","accountformachsize"))),r.style.border="0px",null==n||n.appendChild(r),this.isMobile&&n&&(n.style.left=`${(screen.width/2-r.offsetWidth/2).toString()}px`),n.style.width="fit-content",window.addEventListener("message",this.receiveMessageListener,!1)}executeCommand(e,t){const i=this.getDataSource();i?i.executeCommand(e,t):window.location.replace(this.createUrlForMobile(e,t))}createUrlForMobile(e,t){return`${window.location.href.split("/Frames/")[0]}/CCService?ServiceAction=AcceptPluginPayment${this.element.getAttribute("mobileOptions")}&Command=${e}&Result=${t}`}callGraphMethod(e,t,i){this.http.fetch(`ui/plugin/${e}/${t}/${i}/info`,{method:"Post",headers:{"X-XSRF-TOKEN":r.PLATFORM.global.px.GetAntiForgeryToken()}})}getDataSource(){return r.PLATFORM.global.px_cm.findDataSource()||window.parent.parent.px_cm.findDataSource()}confirmTransactionAndClose(e){const t=document.getElementById("payment-form-fortis"),i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name","response"),i.setAttribute("value",e),t.appendChild(i),this.executeCommand("SyncPaymentTransaction",e),this.closePaymentForm()}confirmVaultAndClose(e){const t=document.getElementById("payment-form-fortis"),i=document.createElement("input");i.setAttribute("type","hidden"),i.setAttribute("name","response"),i.setAttribute("value",e),t.appendChild(i),this.executeCommand("SyncCCPaymentMethods",e),this.closePaymentForm()}cancelAndClosePaymentForm(){switch(this.options.Mode){case"payment":this.executeCommand("SyncPaymentTransaction","__CLOSECCHFORM");break;case"newProfile":this.executeCommand("SyncCCPaymentMethods","__CLOSECCHFORM")}this.closePaymentForm()}closePaymentForm(){window.removeEventListener("message",this.receiveMessageListener,!1),this.element.parentElement&&this.element.parentElement.removeChild(this.element)}receiveMessage(e){const t=this.options.HostName;if(e.origin===t)if("close"===e.data)this.cancelAndClosePaymentForm();else switch(this.options.Mode){case"payment":const t=JSON.parse(e.data).id;this.confirmTransactionAndClose(t);break;case"newProfile":const i=JSON.parse(e.data).id;this.confirmVaultAndClose(i)}else l.warn(`Received a message with unexpected origin: ${e.origin}`)}mouseDown(e){this.shiftX=e.clientX-this.paymentForm.getBoundingClientRect().left,this.shiftY=e.clientY-this.paymentForm.getBoundingClientRect().top,this.element.addEventListener("mousemove",this._bindMouseMove),this.element.addEventListener("mouseup",this._bindRemoveMouseListeners),this.element.addEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.add("payment-form-being-dragged")}onMouseMove(e){this.paymentForm.style.left=e.pageX-this.shiftX+"px",this.paymentForm.style.top=e.pageY-this.shiftY+"px"}removeMouseListeners(){this.element.removeEventListener("mousemove",this._bindMouseMove),this.element.removeEventListener("mouseup",this._bindRemoveMouseListeners),this.element.removeEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.remove("payment-form-being-dragged")}};i.__decorate([r.bindable,i.__metadata("design:type",HTMLElement)],d.prototype,"paymentForm",void 0),d=i.__decorate([(0,r.customElement)("qp-fortis"),r.autoinject,i.__metadata("design:paramtypes",[Element,o.HttpClient])],d),t.QpFortisCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},"client-controls/plugins/payment/qp-stripe":(e,t,i)=>{var n,r;n=[i,t,i(655),i(8862),i(7140),i("aurelia-framework"),i(2956)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QpStripeCustomElement=void 0;const l=["Name","AddressLine1","AddressLine2","City","State","Zip","Phone","Email"];let d=class QpStripeCustomElement{constructor(e,t){this.element=e,this.http=t,this.title="",this.buttonCaption="",this.sum="",this.currency="",this.errors="",this.notReady=!0,this.fields=l,this.completeData={cardNumber:!1,cvc:!1,expirationDate:!1},this.shiftX=0,this.shiftY=0,this.separateBefore="Phone",this.isMobile=!1,this._bindMouseMove=e=>this.onMouseMove(e),this._bindRemoveMouseListeners=()=>this.removeMouseListeners(),this.localizedStrings=n.LOCALIZED_STRINGS.payment}attached(){this.isMobile=!this.getDataSource(),this.initPopup()}initPopup(){this.options=JSON.parse(this.element.getAttribute("options")||""),this.options.required=["AddressLine1","Zip"],this.options.AddressVerification&&this.options.required.forEach((e=>{this.completeData[e]=!1})),this.element.style.display="block",(0,r.loadScript)("https://js.stripe.com/v3/",this.initHostedForm.bind(this))}keyDown(e){switch(e.key){case"Enter":null===this.payButton.getAttribute("disabled")&&this.submitPayment(e);break;case"Esc":case"Escape":this.cancelAndClosePaymentForm()}return!0}keyInputDown(e,t,i){return"Tab"===e.key&&(e.preventDefault(),e.stopPropagation(),document.getElementById(e.shiftKey?i:t).focus()),!0}initHostedForm(){var e,t;this.stripe=Stripe(this.options.ApiLoginID,{apiVersion:this.options.ApiVersion,locale:this.options.Locale});const i=this.stripe.elements(),n={base:{fontSize:"13px",color:"#32325d","::placeholder":{color:"#C6C6C6"}}};this.cardNumber=i.create("cardNumber",{showIcon:!0,style:n,placeholder:"0000 0000 0000 0000"}),this.cardNumber.mount("#card-number");const r=i.create("cardExpiry",{style:n});switch(this.cardNumber.on("change",(e=>{this.updateComplete(this.cardNumberLabel,"cardNumber",e.complete),e.complete&&r.focus(),e.error,this.checkCompleteness()})),this.updateComplete(this.cardNumberLabel,"cardNumber",!1),this.cardNumber.on("ready",(()=>{this.cardNumber.focus()})),r.mount("#card-expiry"),this.cardCvc=i.create("cardCvc",{style:n}),this.updateComplete(this.cardExpiryLabel,"expirationDate",!1),null===(e=this.cardCvc)||void 0===e||e.mount("#card-cvc"),r.on("change",(e=>{var t;this.updateComplete(this.cardExpiryLabel,"expirationDate",e.complete),e.complete&&(null===(t=this.cardCvc)||void 0===t||t.focus()),e.error,this.checkCompleteness()})),this.updateComplete(this.cardCvcLabel,"cvc",!1),null===(t=this.cardCvc)||void 0===t||t.on("change",(e=>{this.updateComplete(this.cardCvcLabel,"cvc",e.complete),e.complete&&this.payButton.focus(),e.error,this.checkCompleteness()})),this.payButton.addEventListener("click",this.submitPayment.bind(this)),this.options.Mode){case"payment":case"motopayment":this.sum=this.options.Amount,this.currency=this.options.Currency,this.title=this.localizedStrings.TitlePay,this.buttonCaption=this.localizedStrings.Pay;break;case"newProfile":this.title=this.localizedStrings.TitleCreateProfile,this.buttonCaption=this.localizedStrings.Save}this.fields.forEach((e=>{const t=document.getElementById(e);t.value=this.options[e]||"",void 0!==this.completeData[e]&&(t.previousElementSibling.setAttribute("required",""),this.checkFieldCompleteness(t),t.onkeyup=this.checkFieldCompleteness.bind(this,t))})),this.options.CVVVerification&&this.cardCvcLabel.setAttribute("required","")}checkFieldCompleteness(e){this.updateComplete(e.previousElementSibling,e.id,""!==e.value),this.checkCompleteness()}updateComplete(e,t,i){this.completeData[t]=i,i?e.classList.remove("field-warning"):(e.classList.add("field-warning"),this.completeData[e.id]=!1)}checkCompleteness(){let e=!0;this.options.AddressVerification&&this.options.required.forEach((t=>{this.completeData[t]||(e=!1)})),this.completeData.cardNumber&&this.completeData.expirationDate&&(this.completeData.cvc||!this.options.CVVVerification)&&e?this.payButton.removeAttribute("disabled"):this.payButton.setAttribute("disabled","")}submitPayment(e){var t;e.preventDefault();const i=document.getElementById("payment-form"),getVal=e=>{const t=i.querySelector(e);return t&&t.value||void 0},n={name:getVal("#Name"),email:getVal("#Email"),phone:getVal("#Phone"),address:{city:getVal("#City"),line1:getVal("#AddressLine1"),line2:getVal("#AddressLine2"),postal_code:getVal("#Zip"),state:getVal("#State")}};switch(this.options.CVVVerification||this.completeData.cvc||null===(t=this.cardCvc)||void 0===t||t.unmount(),this.options.Mode){case"payment":this.stripe.confirmCardPayment(this.options.ClientKey,{payment_method:{card:this.cardNumber,billing_details:n}}).then((e=>{e.error?this.errors=e.error.message:this.stripePaymentHandler(e.paymentIntent.id,"SyncPaymentTransaction")}));break;case"motopayment":this.stripe.createPaymentMethod({type:"card",card:this.cardNumber,billing_details:n}).then((e=>{e.error?this.errors=e.error.message:this.stripePaymentHandler(`${this.options.ClientKey}+${e.paymentMethod.id}`,"SyncPaymentTransaction")}));break;case"newProfile":this.stripe.createSource(this.cardNumber,{owner:n}).then((e=>{e.error?this.errors=e.error.message:this.stripePaymentHandler(e.source.id,"SyncCCPaymentMethods")}))}}executeCommand(e,t){const i=this.getDataSource();i?i.executeCommand(e,t):window.location.replace(this.createUrlForMobile(e,t))}createUrlForMobile(e,t){return`${window.location.href.split("/Frames/")[0]}/CCService?ServiceAction=AcceptPluginPayment${this.element.getAttribute("mobileOptions")}&Command=${e}&Result=${t}`}callGraphMethod(e,t,i){this.http.fetch(`ui/plugin/${e}/${t}/${i}/info`,{method:"Post",headers:{"X-XSRF-TOKEN":o.PLATFORM.global.px.GetAntiForgeryToken()}})}stripePaymentHandler(e,t){const i=document.getElementById("payment-form"),n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","stripeToken"),n.setAttribute("value",e),i.appendChild(n),this.executeCommand(t,e),this.closePaymentForm()}getDataSource(){return o.PLATFORM.global.px_cm.findDataSource()||window.parent.parent.px_cm.findDataSource()}cancelAndClosePaymentForm(){switch(this.options.Mode){case"payment":case"motopayment":this.executeCommand("SyncPaymentTransaction","__CLOSECCHFORM");break;case"newProfile":this.executeCommand("SyncCCPaymentMethods","__CLOSECCHFORM")}this.closePaymentForm()}closePaymentForm(){this.element.parentElement.removeChild(this.element)}mouseDown(e){this.shiftX=e.clientX-this.paymentForm.getBoundingClientRect().left,this.shiftY=e.clientY-this.paymentForm.getBoundingClientRect().top,this.element.addEventListener("mousemove",this._bindMouseMove),this.element.addEventListener("mouseup",this._bindRemoveMouseListeners),this.element.addEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.add("payment-form-being-dragged")}onMouseMove(e){this.paymentForm.style.left=e.pageX-this.shiftX+"px",this.paymentForm.style.top=e.pageY-this.shiftY+"px"}removeMouseListeners(){this.element.removeEventListener("mousemove",this._bindMouseMove),this.element.removeEventListener("mouseup",this._bindRemoveMouseListeners),this.element.removeEventListener("mouseleave",this._bindRemoveMouseListeners),this.paymentForm.classList.remove("payment-form-being-dragged")}};i.__decorate([o.bindable,i.__metadata("design:type",HTMLElement)],d.prototype,"payButton",void 0),i.__decorate([o.bindable,i.__metadata("design:type",HTMLElement)],d.prototype,"paymentForm",void 0),i.__decorate([o.bindable,i.__metadata("design:type",HTMLElement)],d.prototype,"cardNumberLabel",void 0),i.__decorate([o.bindable,i.__metadata("design:type",HTMLElement)],d.prototype,"cardExpiryLabel",void 0),i.__decorate([o.bindable,i.__metadata("design:type",HTMLElement)],d.prototype,"cardCvcLabel",void 0),d=i.__decorate([(0,o.customElement)("qp-stripe"),o.autoinject,i.__metadata("design:paramtypes",[Element,a.HttpClient])],d),t.QpStripeCustomElement=d}.apply(t,n),void 0===r||(e.exports=r)},4030:(e,t,i)=>{var n,r;n=[i,t,i(655),i(6158),i("aurelia-dialog"),i("client-controls/controls/dialog/alert/qp-alert")],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertService=void 0;let a=class AlertService{constructor(e){this.dialogService=e}openAlert(e){let t,i;const n=new Promise(((e,n)=>{t=e,i=n}));return this.dialogService.open({viewModel:o.QpAlertComponent,model:e,lock:!0}).whenClosed((e=>{e.wasCancelled?i():t(e.output)})),n}};a=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[r.DialogService])],a),t.AlertService=a}.apply(t,n),void 0===r||(e.exports=r)},3869:(e,t,i)=>{var n,r;n=[i,t,i(655),i(2956),i("aurelia-framework"),i(2172),i(7147)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiClient=void 0;let a=class ApiClient{constructor(e){this.client=e}getBranchData(e,t){return this.client.fetch("ui/BranchSelector/Pass",{method:"POST",body:(0,n.json)(e),signal:t}).then((e=>e.json()))}getBranchTree(e,t){return this.client.fetch("ui/BranchSelector/Tree",{method:"POST",body:(0,n.json)(e),signal:t}).then((e=>e.json()))}getSuggestionData(e,t){return this.client.fetch("ui/Selector/GetSuggestions",{method:"POST",body:(0,n.json)(e),signal:t}).then((e=>e.json()))}getWikiTooltipData(e,t){return this.client.get(`apiweb/wikitooltip/presence?pagePath=${e.pagePath}&clientId=${e.clientId}`,{signal:t}).then((e=>e.ok&&e.status===o.HttpCodes.Ok?e.json():null)).catch((t=>console.log("Error: ",e)))}getWikiSetting(){return i.__awaiter(this,void 0,void 0,(function*(){try{const e=yield this.client.get("apiweb/wikitooltip/GetSetting");if(e.ok&&e.status==o.HttpCodes.Ok)return yield e.json()}catch(e){console.log("Error: ",e)}return null}))}};a=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[n.HttpClient])],a),t.ApiClient=a}.apply(t,n),void 0===r||(e.exports=r)},1255:(e,t,i)=>{var n,r;n=[i,t,i(655),i(2374),i("aurelia-event-aggregator"),i(6158),i(8009),i(2956),i(2172),i(7699),i(630),i(3116),i(7140)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpFetchRunningEvent=t.BaseApiClient=t.asApiCallPromise=t.CallbackQueue=void 0;class CallbackQueue{constructor(){this.pendingCallbacks=new Array}push(e){this.pendingCallbacks.push(e)}shift(){return this.pendingCallbacks.shift()}hasItems(){return this.pendingCallbacks.length>0}}function preprocess(e,t){return this.preprocessRequired=!0,this.then(e,t)}function asApiCallPromise(e){return e.whenDataReady=preprocess,e}t.CallbackQueue=CallbackQueue,t.asApiCallPromise=asApiCallPromise;let g=class BaseApiClient{constructor(e,t,i,n,r,o,a){this.client=e,this.configuration=t,this.callbackQueue=n,this.eventAggregator=r,this.redirector=o,this.busyCounter=a,this.callbackRunning=!1,this.blockPage=!1,this.configuration&&this.client.configure(this.configuration),i&&this.client.configure((e=>e.withBaseUrl(i)))}getExt(e,t=!0){return i.__awaiter(this,void 0,void 0,(function*(){let i;this.callbackRunning=!0,t&&(this.blockPage=!0),this.eventAggregator.publish(new HttpFetchRunningEvent(this.callbackRunning,this.blockPage));try{i=yield this.client.fetch(e,{method:"GET",credentials:"include"})}catch(e){throw e.message&&console.error(e),new a.ErrorInfo(-1,e)}finally{this.resetCallbackRunning()}switch(i.status){case a.HttpCodes.Ok:return i.json();case a.HttpCodes.NoContent:return new Promise(((e,t)=>e(void 0)));case a.HttpCodes.ServerError:{const e=yield this.getResultData(i);throw this.showError(a.HttpCodes.ServerError,e),e}case a.HttpCodes.BadRequest:}return i.json()}))}fetch(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetch(e,{method:"POST",body:t,signal:n})}))}fetchExt(e,t,i=!0,n){let r,o;const a=asApiCallPromise(new Promise(((e,t)=>{r=e,o=t})));return a.finally((()=>{if(this.resetCallbackRunning(),this.callbackQueue.hasItems()){const e=this.callbackQueue.shift();e&&this.fetchExtInternal(this.client,e.url,e.data,e.resolve,e.reject,e.blockPage,a)}})),this.callbackRunning?(this.callbackQueue.push(new CallbackInfo(e,t,r,o,i)),a):(this.fetchExtInternal(this.client,e,t,r,o,i,a,n),a)}getResultData(e){return new Promise(((t,i)=>{e.json().then((e=>{t(e)}),(e=>{i(new a.ErrorInfo(-1,e))}))}))}showError(e,t){const i=new a.ErrorInfo(e,t);return this.eventAggregator.publish(d.ApiCientEvents.ErrorRaisedEvent,i),i}fetchExtInternal(e,t,n,r,o,l=!0,d,c){return i.__awaiter(this,void 0,void 0,(function*(){this.callbackRunning=!0,l&&(this.blockPage=!0),this.eventAggregator.publish(new HttpFetchRunningEvent(this.callbackRunning,this.blockPage));try{const i=new Date,l=yield e.fetch(t,{method:"POST",body:encodeBody(n),headers:c});if(l.cancelled||l.status===a.HttpCodes.NoContent)return this.resetCallbackRunning(),void r(void 0);if(l.redirected&&l.status===a.HttpCodes.Ok&&l.url.indexOf("Login.aspx")>0){if(!(p.topWindow.redirectedAt>i)&&(p.topWindow.redirectedAt=new Date,p.topWindow.confirm(u.Messages.NotLoggedInLogIn))){const e=l.url.indexOf("?ReturnUrl=");p.topWindow.location.href=`${l.url.substring(0,e)}?ReturnUrl=${encodeURIComponent(p.topWindow.location.href)}`}return void r(void 0)}switch(l.status){case a.HttpCodes.Ok:case a.HttpCodes.Conflict:const e=yield this.getResultData(l);r(e);break;case a.HttpCodes.BadRequest:const t=yield this.getResultData(l);o(this.showError(a.HttpCodes.BadRequest,{type:"",title:"",status:a.HttpCodes.BadRequest,detail:t}));break;case a.HttpCodes.ServerError:const i=yield this.getResultData(l);o(this.showError(a.HttpCodes.ServerError,i));break;case a.HttpCodes.Found:{const e=yield this.getResultData(l);e.command=null==n?void 0:n.command,this.busyCounter.increment(),d.preprocessRequired?d.then((t=>{this.redirector.doRedirects(e),this.busyCounter.decrement()})):(this.redirector.doRedirects(e),this.busyCounter.decrement()),r(e);break}default:this.resetCallbackRunning()}}catch(e){if("redirected"===e)return;e.message&&console.error(e),o(this.showError(a.HttpCodes.ServerError,e))}finally{this.resetCallbackRunning()}}))}resetCallbackRunning(){this.callbackRunning=this.blockPage=!1,this.eventAggregator.publish(new HttpFetchRunningEvent(this.callbackRunning,this.blockPage))}};g=i.__decorate([(0,c.autoinject)(),i.__param(0,(0,o.newInstance)()),i.__param(1,(0,c.optional)(n.DEFAULT_HTTP_CONFIGURATION)),i.__param(2,(0,c.optional)(n.BASE_PATH)),i.__metadata("design:paramtypes",[l.HttpClient,Function,String,CallbackQueue,r.EventAggregator,d.RedirectHelper,h.BusyCounter])],g),t.BaseApiClient=g;class CallbackInfo{constructor(e,t,i,n,r){this.url=e,this.data=t,this.resolve=i,this.reject=n,this.blockPage=r}}class HttpFetchRunningEvent extends d.QpEvent{constructor(e,t){super(d.ApiCientEvents.FetchRunningEvent,{callbackRunning:e,blockPage:t})}get blockPage(){return this.detail.blockPage}get callbackRunning(){return this.detail.callbackRunning}}function encodeBody(e){return"object"==typeof e&&e instanceof FormData?e:(0,l.json)(e)}t.HttpFetchRunningEvent=HttpFetchRunningEvent}.apply(t,n),void 0===r||(e.exports=r)},4232:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CookieUtils=void 0;class CookieUtils{static getCookie(e){const t=new RegExp(`${e}=([^;]+)`);return t.test(`${document.cookie};`)?(t.exec(`${document.cookie};`),unescape(RegExp.$1)):null}static setCookie(e,t,i,n){if(e&&null!=t){let r=`${e}=${t}`;i&&(r+=`; path=${i}`),n&&(r+=`; expires=${n.toUTCString()}`),document.cookie=r}}static setSessionPrevWinCookie(e,t){this.setCookie("prevwin",t>=1e4?t:e,"/")}static setLastWinCookie(e){try{e>(this.getLastWinCookie()||0)&&this.setCookie(this.lastWinCookieParameter,e,"/")}catch(e){}}static getLastWinCookie(){const e=this.getCookie(this.lastWinCookieParameter);return e?parseInt(e):null}}t.CookieUtils=CookieUtils,CookieUtils.lastWinCookieParameter="lastwin",CookieUtils.sessionPrevWinCookieParameter="prevwin"}.apply(t,[i,t]),void 0===n||(e.exports=n)},5211:(e,t,i)=>{var n,r;n=[i,t,i(655),i(2956),i("aurelia-framework"),i(2172)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrencyApiService=void 0;const a="apiweb/currency";let l=class CurrencyApiService{constructor(e){this.client=e}getCurrencyState(e,t){return i.__awaiter(this,void 0,void 0,(function*(){if(void 0!==this.prevMode&&this.prevScreenId===e)return this.prevMode;if(this.stateRevievePromise)return this.stateRevievePromise;this.stateRevievePromise=this.client.fetch(`${a}/${e}/state`,{method:"GET",signal:t}).then((e=>e.json()));const i=yield this.stateRevievePromise;return this.stateRevievePromise=void 0,this.prevMode=i,this.prevScreenId=e,i}))}setCurrencyState(e,t){return i.__awaiter(this,void 0,void 0,(function*(){this.prevMode=e.currencyMode,this.prevScreenId=e.screenId,yield this.client.fetch(`${a}/${e.screenId}/state`,{method:"POST",body:(0,n.json)({showBase:e.currencyMode===o.CurrencyViewMode.Base}),signal:t})}))}};l=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[n.HttpClient])],l),t.CurrencyApiService=l}.apply(t,n),void 0===r||(e.exports=r)},2108:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2956),i(2172)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeaturesApiClient=void 0;let a=class FeaturesApiClient{constructor(e){this.client=e,this.baseUri="ui/features/"}getActiveFeatures(){return this.getExt(`${this.baseUri}`)}getExt(e){return this.client.fetch(e,{method:"GET",credentials:"include"}).then((e=>{switch(e.status){case o.HttpCodes.Ok:return e.json();case o.HttpCodes.ServerError:case o.HttpCodes.BadRequest:return new Promise(((t,i)=>{e.json().then((t=>{i(new o.ErrorInfo(e.status,t))}),(e=>{i(new o.ErrorInfo(-1,e))}))}))}return e.json()}),(e=>(e.message&&console.error(e),Promise.reject(new o.ErrorInfo(-1,e)))))}};a=i.__decorate([(0,n.autoinject)(),i.__metadata("design:paramtypes",[r.HttpClient])],a),t.FeaturesApiClient=a}.apply(t,n),void 0===r||(e.exports=r)},6361:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2108)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeaturesService=void 0;let o=class FeaturesService{constructor(e){this.client=e}getFeatures(){var e;return i.__awaiter(this,void 0,void 0,(function*(){return this.features?this.features:null===(e=this.client.getActiveFeatures())||void 0===e?void 0:e.then((e=>(this.features=e.sets.reduce(((e,t)=>(e[t.name]=t.features.reduce(((e,t)=>(e[t.name]=t.enabled,e)),{}),e)),{}),this.features)))}))}};o=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[r.FeaturesApiClient])],o),t.FeaturesService=o}.apply(t,n),void 0===r||(e.exports=r)},4456:(e,t,i)=>{var n,r;n=[i,t,i(655),i(209),i(7699)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldDefaultsService=void 0;class FieldDefaultsService{constructor(){this.modules={},this.fieldDefaults={}}addFromModule(e){return i.__awaiter(this,void 0,void 0,(function*(){if(this.modules[e])return;this.modules[e]=!0;const t=yield this.loader.loadTemplate(`html-resource-plugin!${e}`),i="string"==typeof t?t:null==t?void 0:t.default;if(!i)return;const n=document.createElement("div");n.innerHTML=i;const r=n.firstChild;if(!r)return;const o=r.content.children;for(let e=0;e<o.length;e++){const t=o.item(e);if(!t)continue;Array.from(t.getElementsByTagName("field")).forEach((e=>{let t=e.getAttribute("name");if(t&&(0!==e.childElementCount||1!==e.attributes.length)){if(-1===t.indexOf(".")){const i=e.parentElement;t=`${null==i?void 0:i.getAttribute("view.bind")}.${t}`}this.fieldDefaults[t]=e}}))}}))}getFieldDefaultElement(e){if(!e)return null;const t=e.viewName?`${e.viewName}.${e.name}`:e.name;return t?this.fieldDefaults[t]:null}}i.__decorate([r.autoinject,i.__metadata("design:type",n.Loader)],FieldDefaultsService.prototype,"loader",void 0),t.FieldDefaultsService=FieldDefaultsService}.apply(t,n),void 0===r||(e.exports=r)},6138:(e,t,i)=>{var n,r;n=[i,t,i("aurelia-framework"),i(4609)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoverActivatorService=void 0;class HoverActivatorService{constructor(){this.hoverDelegate=e=>this.mouseMoveHandler(e),this.keyDelegate=e=>this.keyDownHandler(e),this.scrollDelegate=()=>this.scrollHappened(),this.resizeDelegate=()=>this.resizeHappened(),this.activators=new Map,this.actionTriggerTimers=[],this.lastMouseCoords={x:0,y:0},i.DOM.addEventListener("mousemove",this.hoverDelegate,!0),i.DOM.addEventListener("keydown",this.keyDelegate,!0),i.DOM.addEventListener("scroll",this.scrollDelegate,!0),i.PLATFORM.global.addEventListener("resize",this.resizeDelegate,{passive:!0}),(0,n.registerQAObject)("suppressTooltipsGlobally",this.suppressTooltipsGlobally.bind(this))}suppressTooltipsGlobally(e=!0){HoverActivatorService.tooltipsSuppressed=e,this.hideTooltip()}ensureLegacyTMHandled(){!this.legacyTM&&i.PLATFORM.global.px_tm&&(this.legacyTM=i.PLATFORM.global.px_tm,this.legacyHideTooltip=this.legacyTM.hideTooltip,this.legacyTM&&(i.PLATFORM.global.px_tm.hideTooltip=()=>{this.deactivateActiveSubscribers(),this.legacyHideTooltip.call(this.legacyTM)}))}mouseMoveHandler(e){if(i.PLATFORM.global.__suppressTooltip)return;this.ensureLegacyTMHandled();const t=e.target;this.lastMouseCoords={x:e.clientX,y:e.clientY},this.currentTarget!==t&&(this.clearActionTimers(),this.deactivateActiveSubscribers(t),this.actionTriggerTimers.push(setTimeout((()=>this.lockTarget(t)),32)))}keyDownHandler(e){}scrollHappened(){this.deactivateByUserActivity()}resizeHappened(){this.deactivateByUserActivity()}clearActionTimers(){this.actionTriggerTimers.forEach((e=>{clearTimeout(e)})),this.actionTriggerTimers=[]}hideTooltip(){this.deactivateByUserActivity()}suppressTooltipFor(e){const t=i.DOM.createAttribute(HoverActivatorService.hidetooltipAttrName);t.value="true";const setAttr=e=>e.attributes.setNamedItem(t.cloneNode(!0));setAttr(e),Array.from(e.children).forEach(setAttr),this.hideTooltip()}allowTooltipFor(e){const resetAttr=e=>e.attributes.removeNamedItem(HoverActivatorService.hidetooltipAttrName);resetAttr(e),Array.from(e.children).forEach(resetAttr)}deactivateByUserActivity(e){var t;this.clearActionTimers(),this.deactivateActiveSubscribers(),this.ensureLegacyTMHandled(),null===(t=this.legacyHideTooltip)||void 0===t||t.call(this.legacyTM)}deactivateActiveSubscribers(e=null){var t,i;const n=(null===(t=this.activeSubscribers)||void 0===t?void 0:t.filter((t=>{var i;if(null===(i=t.subscribersOptions.activatedElements)||void 0===i?void 0:i.find((t=>t.contains(e))))return!0;if(!t.subscribersOptions.cssRule&&t.activator.contains(e)){if(t.subscribersOptions.excludeCssRule){if(Array.from(t.activator.querySelectorAll(t.subscribersOptions.excludeCssRule)).find((t=>t.contains(e))))return!1}return!0}return!1})))||[];null===(i=this.activeSubscribers)||void 0===i||i.filter((e=>-1===n.indexOf(e))).forEach((e=>e.subscribersOptions.onDeactivate())),n.length?this.activeSubscribers=n:this.activeSubscribers=void 0}findActivators(e){var t;let i=e,n=[];if(HoverActivatorService.tooltipsSuppressed)return n;for(;i;)if(i.getAttribute("error"))i=void 0;else{const e=this.activators.get(i);e&&e.forEach((e=>{n.push({activator:i,subscribersOptions:e})})),i=i.parentElement||void 0}return 0==n.length?(null===(t=this.activeSubscribers)||void 0===t?void 0:t.filter((t=>{var i;return!!(null===(i=t.subscribersOptions.activatedElements)||void 0===i?void 0:i.find((t=>t.contains(e))))})))||[]:n}getActivationParams(e){const{left:t,top:i,width:n}=e.getBoundingClientRect(),r=this.lastMouseCoords.x-t,o=this.lastMouseCoords.y-i;return{target:e,targetW:n,targetTop:i,mouseX:this.lastMouseCoords.x,mouseY:this.lastMouseCoords.y,relativeX:r,relativeY:o}}lockTarget(e){this.clearActionTimers(),this.currentTarget=e,this.activeSubscribers=this.findActivators(e);for(const t of this.activeSubscribers)this.queueActivation(e,t)}targetNoChanged(e){return e===document.elementFromPoint(this.lastMouseCoords.x,this.lastMouseCoords.y)}targetVisible(e){const{width:t,height:i}=null==e?void 0:e.getBoundingClientRect();return t>0&&i>0}queueActivation(e,t){const i=t.subscribersOptions.activateAfter||500;if(t.subscribersOptions.excludeCssRule&&t.activator.contains(e)){if(Array.from(t.activator.querySelectorAll(t.subscribersOptions.excludeCssRule)).find((t=>t.contains(e))))return}if(t.subscribersOptions.cssRule){const n=t.activator.querySelectorAll(t.subscribersOptions.cssRule);for(let r=0;r<n.length;r++){const o=n[r];if(e==o||o.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY){this.actionTriggerTimers.push(setTimeout((()=>this.targetVisible(e)&&t.subscribersOptions.onActivate(this.getActivationParams(o))),i));break}}}else this.actionTriggerTimers.push(setTimeout((()=>this.targetVisible(e)&&this.targetNoChanged(e)&&t.subscribersOptions.onActivate(this.getActivationParams(e))),i))}subscribeTo(e,t){const i=this.activators.get(e)||[];return i.push(t),this.activators.set(e,i),{dispose:()=>{var i;const n=(null===(i=this.activators.get(e))||void 0===i?void 0:i.filter((e=>e!=t)))||[];n.length>0?this.activators.set(e,n):this.activators.delete(e)}}}selfActivate(e,t){this.clearActionTimers(),this.deactivateActiveSubscribers(),this.activeSubscribers=[{activator:e,subscribersOptions:t}],t.onActivate(this.getActivationParams(e)),this.currentTarget=void 0}selfHide(e,t){var i;null==t||t.onDeactivate();const n=(null===(i=this.activeSubscribers)||void 0===i?void 0:i.filter((e=>e.subscribersOptions!==t)))||[];0==n.length?this.activeSubscribers=void 0:this.activeSubscribers=n}}t.HoverActivatorService=HoverActivatorService,HoverActivatorService.hidetooltipAttrName="hidetooltip",HoverActivatorService.tooltipsSuppressed=!1}.apply(t,n),void 0===r||(e.exports=r)},5901:(e,t,i)=>{var n,r;n=[i,t,i(6138)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configure=void 0,t.configure=function configure(e){e.singleton(i.HoverActivatorService)}}.apply(t,n),void 0===r||(e.exports=r)},2594:(e,t,i)=>{var n,r;n=[i,t,i(655),i(4030),i(3869),i(1255),i(2108),i(6361),i(8862),i(3116),i(8986),i(4834),i(5893),i(2479),i(2025),i(6138),i(5901),i(3425),i(5211),i(6075),i(7052)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g,m,f,v,b,y,x,C){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hoverIndex=void 0,i.__exportStar(n,t),i.__exportStar(r,t),i.__exportStar(o,t),i.__exportStar(a,t),i.__exportStar(l,t),i.__exportStar(d,t),i.__exportStar(c,t),i.__exportStar(p,t),i.__exportStar(u,t),i.__exportStar(h,t),i.__exportStar(g,t),i.__exportStar(m,t),i.__exportStar(f,t),t.hoverIndex=i.__importStar(v),i.__exportStar(b,t),i.__exportStar(y,t),i.__exportStar(x,t),i.__exportStar(C,t)}.apply(t,n),void 0===r||(e.exports=r)},6075:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(7699),i("aurelia-event-aggregator"),i(1015),i(4609),i(9652)],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardService=void 0;let c=class KeyboardService{constructor(e,t,i){this.element=e,this.eventAggregator=t,this.taskQueue=i,this.stack=new Array,this.screenStateTouched=!1,this.subscriptions=[],this.focusableTags=["A","INPUT","BUTTON","TEXTAREA","SELECT","DETAILS"],this.elementsSelector='a[href]:not([tabindex="-1"]), button:not([tabindex="-1"]),\n\t\t\tinput:not([tabindex="-1"]), textarea:not([tabindex="-1"]),\n\t\t\tselect:not([tabindex="-1"]), details:not([tabindex="-1"]),\n\t\t\t[tabindex]:not([tabindex="-1"])',this.keysHandler=this.keyDownHandler.bind(this),this.observer=new MutationObserver((e=>this.onMutation(e))),this.setActiveArea(e),this.subscriptions.push(this.eventAggregator.subscribe(d.CALLBACK_COMPLETED_EVENT,(e=>{this.screenStateTouched&&!e.command||(this.focusFirstElement(),this.screenStateTouched=!0)}))),this.subscriptions.push(this.eventAggregator.subscribe(d.DIALOG_OPENED,(()=>{this.taskQueue.queueTask((()=>{this.focusFirstElement()}))})))}dispose(){var e;null===(e=this.observer)||void 0===e||e.disconnect(),this.element.ownerDocument.removeEventListener("keydown",this.keysHandler,!1),this.subscriptions.forEach((e=>e.dispose())),this.subscriptions=[]}get visibleElements(){return this.elements.filter((e=>(0,l.isVisible)(e)))}get firstFocusableElement(){return this.visibleElements.length?this.visibleElements[0]:void 0}get focusedElement(){const e=a.PLATFORM.global.document.activeElement;return this.elements.find((t=>t===e))}focusFirstElement(){var e;this.visibleElements.length&&!this.focusedElement&&(null===(e=this.firstFocusableElement)||void 0===e||e.focus())}clearFocus(){this.focusedElement&&this.focusedElement.blur()}setActiveArea(e){this.stack.push(e),this.setNewActiveArea(e)}restorePreviousArea(){this.stack.length>1&&this.stack.pop(),this.setNewActiveArea(this.stack[this.stack.length-1])}setNewActiveArea(e){this.activeArea=e,this.collectElements()}collectElements(e=!0){var t,i;this.elements=Array.from(this.activeArea.querySelectorAll(this.elementsSelector)),e&&(null===(t=this.observer)||void 0===t||t.disconnect(),null===(i=this.observer)||void 0===i||i.observe(this.activeArea,{childList:!0,subtree:!0})),this.element.ownerDocument.removeEventListener("keydown",this.keysHandler,!1),this.element.ownerDocument.addEventListener("keydown",this.keysHandler,!1)}keyDownHandler(e){switch(e.key){case"Enter":case"Tab":e.ctrlKey||e.altKey||this.focusElement(e.shiftKey?-1:1,"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation())}}onMutation(e){let t=!1;for(const i of e)if("childList"===i.type&&(this.checkNodesList(i.addedNodes)||this.checkNodesList(i.removedNodes))){t=!0;break}t&&this.collectElements(!1)}checkNodesList(e){for(let t=0;t<e.length;t++){const i=e[t];if(i.nodeType!==Node.ELEMENT_NODE)continue;const n=i,r=n.getAttribute("tabindex");if(this.focusableTags.includes(n.tagName)||null!=r&&"-1"!==r||n.querySelectorAll(this.elementsSelector).length>0)return!0}return!1}focusElement(e,t){if(!this.elements)return;const i=a.PLATFORM.global.document.activeElement;let n=i?this.elements.indexOf(i)+e:0,r=!1;const checkEdges=()=>{(n<0||n>=this.elements.length)&&!r&&(n=n<0?this.elements.length-1:0,r=!0)};for(checkEdges();n>=0&&n<this.elements.length;){const t=this.elements[n];if((0,l.isVisible)(t)&&null!=t.focus&&null==t.getAttribute("disabled")&&null==t.getAttribute("readonly"))return t.focus(),!0;n+=e,checkEdges()}return!1}};i.__decorate([(0,n.computedFrom)("elements"),i.__metadata("design:type",Array),i.__metadata("design:paramtypes",[])],c.prototype,"visibleElements",null),i.__decorate([(0,n.computedFrom)("visibleElements"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],c.prototype,"firstFocusableElement",null),i.__decorate([(0,n.computedFrom)("elements"),i.__metadata("design:type",Object),i.__metadata("design:paramtypes",[])],c.prototype,"focusedElement",null),c=i.__decorate([(0,r.autoinject)(),i.__metadata("design:paramtypes",[Element,o.EventAggregator,n.TaskQueue])],c),t.KeyboardService=c}.apply(t,n),void 0===r||(e.exports=r)},8862:(e,t,i)=>{var n,r;n=[i,t,i(655),i(4232),i(1015),i("aurelia-framework"),i(8099),i(2956),i(8009),i(6454)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";var p;Object.defineProperty(t,"__esModule",{value:!0}),t.QpTranslator=t.localizable=t.Format=t.LOCALIZED_STRINGS=void 0;const u=(0,a.getLogger)("localization");function replacer(e,t){const i=t.lastIndexOf("{")+1,n=t.length-t.indexOf("}");return 1===i&&1===n?e:i%2==1&&n%2==1?t.substring(0,i/2)+e+t.substring(t.length-n/2+1):t.substring(0,t.length-n/2).substring(i/2)}function Format(e,t,...i){let n=e;if("string"==typeof t||null===t){const e=[t,...i];return n.replace(/{([0-9]+)}/g,(function(t,i){const n=parseInt(i);return null==e[n]?"":e[n]}))}for(const e in t)n=n.replace(new RegExp(`\\{+${e}\\}+`,"g"),(i=>replacer(t[e],i)));return n}function cloneParentProps(e){const t=Object.getPrototypeOf(e);if(!(null==t?void 0:t.name))return;cloneParentProps(t);const i=Object.getOwnPropertyNames(t);for(const n of i)e.hasOwnProperty(n)||(e[n]=t[n])}r.PLATFORM.global.ClientLocalizedStrings=r.PLATFORM.global.ClientLocalizedStrings||{},t.LOCALIZED_STRINGS=r.PLATFORM.global.ClientLocalizedStrings,t.default=t.LOCALIZED_STRINGS,t.Format=Format,t.localizable=function localizable(e,t){t&&e&&h.AddEntry(e,String(t));const processTarget=(e,t)=>{e.Format=Format,cloneParentProps(e);const i=Object.getOwnPropertyNames(e);for(const n of i){switch(n){case"length":case"name":case"prototype":continue}h.AddEntry(e,n,t)}};if("function"!=typeof e)return(t,i)=>{if(!t)return;let n;e&&("string"==typeof e?n={namespace:e}:"object"==typeof e&&(n=e)),i?h.AddEntry(t,String(i),n):processTarget(t,n)};processTarget(e)};let h=p=class QpTranslator{constructor(e,t){this.client=e,this.localizationClient=t,this.lang="",this.afterTranslation=this.SetLang((n.CookieUtils.getCookie("Culture")||"en-US").replace(/&.*/,""))}get inizialized(){return p.initialized}getLocalization(){return p.dict[this.lang]}getLocalePreferences(e){return p.localePreferences[e]}SetLang(e){return this.lang=e,this.loadDictionary(e).then((()=>{var t;const i=p.dict[e],n=p.dict.default;for(const e in p.data){const r=n.get(e)&&n.get(e).default||e,o=i&&i.get(r)||n.get(e),a=p.data[e];for(const i in a){const n=a[i];for(const i of n)i.target[p.DemangleKey(e,i.config)]=null!==(t=o[e])&&void 0!==t?t:o.default}}}),(()=>{}))}loadDictionary(e){return p.dict[e]?new Promise(((e,t)=>{e()})):this.localizationClient.getLocalizations(e).then((t=>{if(p.dict[e]=new d.LocalizationsCollection,t.localizedClientDictionary)for(const i in t.localizedClientDictionary)p.dict[e].set(i,t.localizedClientDictionary[i]);t.numberFormat&&(p.localePreferences.number=t.numberFormat),t.dateTimeFormat&&(p.localePreferences.datetime=t.dateTimeFormat),p.initialized=!0}),(()=>(u.warn(`Cannot load dictionary for "${e}"`),new Promise(((e,t)=>{e()})))))}static MangleKey(e,t){return t&&t.namespace?`${t.namespace}.${e}`:e}static DemangleKey(e,t){return t&&t.namespace?0!==e.indexOf(`${t.namespace}.`)?e:e.substring(t.namespace.length+1):e}static AddEntry(e,t,i){const n=p.MangleKey(t,i),r=e[t];this.dict.default||(this.dict.default=new d.LocalizationsCollection);const o={default:r};this.dict.default.set(n,o),this.data[n]||(this.data[n]={}),this.data[n].default||(this.data[n].default=[]);this.data[n].default.push({target:e,config:i})}static FillInDefaultDictionary(e){for(const t in e)this.dict.default.set(t,{default:e[t]})}};h.data={},h.defaultNumberFormatInfo={currency:{decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSizes:[3],negativePattern:0,positivePattern:0},currencySymbol:"$",negativeSign:"-",number:{decimalDigits:2,negativePattern:1,groupSizes:[3],decimalSeparator:".",groupSeparator:","},percent:{decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSizes:[3],negativePattern:1,positivePattern:1},percentSymbol:"%"},h.defaultDateFormatInfo={abbrDayNames:"Sun,Mon,Tue,Wed,Thu,Fri,Sat",abbrMonthNames:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,",am:"AM",dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",longDate:"dddd, MMMM d, yyyy",longTime:"h:mm:ss tt",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December,",pm:"PM",shortDate:"dd-MMM-yy",shortTime:"h:mm tt",dateSeparator:"/",timeSeparator:":",monthDay:"MMMM d",rfC1123:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",sortableDateTime:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",universalSortableDateTime:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",yearMonth:"MMMM yyyy",yearFix:0},h.localePreferences={number:p.defaultNumberFormatInfo,datetime:p.defaultDateFormatInfo},h.dict={},h=p=i.__decorate([o.autoinject,i.__metadata("design:paramtypes",[l.HttpClient,c.LocalizationsApiClient])],h),t.QpTranslator=h}.apply(t,n),void 0===r||(e.exports=r)},6454:(e,t,i)=>{var n,r;n=[i,t,i(655),i(8009),i("aurelia-framework"),i(2956),i(1015)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizationsApiClient=void 0;let l=class LocalizationsApiClient{constructor(e){this.client=e}getLocalizations(e){const t=a.PLATFORM.global.__site_root||"";return this.getExt(`${t}${""===t||t.endsWith("/")?"":"/"}ui/locale/${e}`)}getExt(e){return this.client.fetch(e,{method:"GET",credentials:"include"}).then((e=>{switch(e.status){case n.HttpCodes.Ok:return e.json();case n.HttpCodes.ServerError:case n.HttpCodes.BadRequest:return new Promise(((t,i)=>{e.json().then((t=>{i(new n.ErrorInfo(e.status,t))}),(e=>{i(new n.ErrorInfo(-1,e))}))}))}return e.json()}),(e=>(e.message&&console.error(e),Promise.reject(new n.ErrorInfo(-1,e)))))}};l=i.__decorate([(0,r.autoinject)(),i.__metadata("design:paramtypes",[o.HttpClient])],l),t.LocalizationsApiClient=l}.apply(t,n),void 0===r||(e.exports=r)},3161:(e,t,i)=>{var n,r;n=[i,t,i(655),i(8862),i("aurelia-framework")],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizationsService=void 0;let o=class LocalizationsService{constructor(e){this.translator=e}load(){return i.__awaiter(this,void 0,void 0,(function*(){return this.translator.afterTranslation||Promise.resolve()}))}getLocalization(e,t){const i=this.translator.getLocalization();if(i){const n=i.get(e);if(n){const e=t?n[t]:void 0;if(e)return e;const i=n.default;if(i)return i}}}getLocalePreferences(e){return this.translator.getLocalePreferences(e)}getLang(){return this.translator.lang}format(e,...t){return t&&0!==t.length?(0,n.Format)(e,t[0],...t.slice(1)):e}localize(e,t,i){var n;return null!==(n=this.getLocalization(t,e))&&void 0!==n?n:null!=i?i:t}get translatorInitialized(){return this.translator.inizialized}};o=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[n.QpTranslator])],o),t.LocalizationsService=o}.apply(t,n),void 0===r||(e.exports=r)},3116:(e,t,i)=>{var n,r;n=[i,t,i(655),i(8862)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;let r=class Messages{};r.ExternalLink="External Link:",r.InternalLink="Internal Link:",r.AboutAcumatica="About Acumatica",r.Confirm="OK",r.Yes="Yes",r.No="No",r.ShareColumConfigStep1="Share Column Configuration Page 1 of 2",r.ShareColumConfigStep2="Share Column Configuration Page 2 of 2",r.Send="Send...",r.Save="Save",r.Cancel="Cancel",r.Previous="Prev",r.Next="Next",r.Done="Done",r.Finish="Finish",r.Reset="Reset",r.Clear="Clear",r.ClearFilter="Clear Filter",r.RemoveFilter="Remove Filter",r.SelectorSelect="Select",r.SelectCustomizationProject="Select Customization Project",r.NewEntity="New...",r.NewProject="New Project",r.InspectElement="Inspect Element (Ctrl+Alt+Click)",r.ElementProperties="Element Properties",r.Customize="Customize",r.CustomizeBusinessLogic="Customize Business Logic...",r.CustomizeDataFields="Customize Data Fields...",r.ViewBusinessLogicSource="View Business Logic Source...",r.ViewDataClassSource="View Data Class Source...",r.Actions="Actions",r.Note="Note",r.NoteTitle="Enter Record Note",r.AddPopupNotesTitle="Add Pop-Up Note",r.TaskAndActivitiesTitle="Tasks & Activities",r.Translations="Translations",r.Filter="Filter...",r.Help="Help",r.NoResultsFound="No results found.",r.Validate="Validate",r.Search="Search",r.Comment="Use <b>/* commented line */</b> to comment the text in the formula.",r.Apply="Apply",r.Load="Load",r.Files="Files",r.Activities="Activities",r.Shared="Shared",r.Default="Default",r.ScreenID="Screen ID",r.EmptySearchMessage1="Nothing has been found for '{0}'.\nTry using a different or less specific search term.",r.GridAddQuickFilter="Add Quick Filter",r.GridAdvFilter="Advanced filter",r.GridOpenAdvFilter="Open Advanced Filter",r.GridAdvanced="Advanced",r.GridFrom="From:",r.GridValue="Value:",r.GridTo="To:",r.GridName="Name:",r.GridSelectAll="Select All",r.GridAll="All",r.GridIsEmpty="Is Empty",r.GridSortAsc="Sort Ascending",r.GridSortDesc="Sort Descending",r.GridFilterSetup="Filter Settings",r.GridEditFilter="Edit Filter",r.GridRemoveFilterWarn="The current filter with all conditions will be deleted",r.GridDropColumnTip="Drop column here to set filter",r.GridSaveAs="Save As",r.GridDeleteFilter="Delete Filter",r.GridSaveFilter="Save Filter",r.GridSaveFilterAs="Save Filter As",r.GridPagesCount="of {0} pages",r.GridRecordsCount="Records {0}{1} of {2}",r.GridRefresh="Refresh",r.GridAddRow="Add Row",r.GridDeleteRow="Delete Row",r.GridFitToScreen="Fit to Screen",r.GridExportToExcel="Export to Excel",r.GridFirstPage="Go to First Page",r.GridPrevPage="Go to Previous Page (PgUp)",r.GridNextPage="Go to Next Page (PgDn)",r.GridLastPage="Go to Last Page",r.ExportToExcelGlobalLimitExceeded="The number of selected records exceeds the recommended export limit of {0} records. Do you want to apply the limit or ignore it?",r.ExportToExcelInquiryLimitExceeded="The number of selected records exceeds the limit defined for the generic inquiry. Top {0} records will be exported.",r.ExportToExcelGlobalLimitExceededBtnApply="Apply",r.ExportToExcelGlobalLimitExceededBtnIgnore="Ignore",r.ExportToExcelGlobalLimitExceededBtnWarning="Warning",r.AddressLookupDialogTitle="Address Lookup",r.AddressLookupButtonTitle="Address Lookup",r.AddressLookupMapIsNotConfigured="The map is not configured",r.AddressLookupViewOnBingMap="View on Bing Maps",r.AddressLookupViewOnGoogleMaps="View on Google Maps",r.Parameters="Parameters",r.Globals="Globals",r.Operators="Operators",r.Arithmetic="Arithmetic",r.Logical="Logical",r.Comparison="Comparison",r.Other="Other",r.Functions="Functions",r.Conversion="Conversion",r.Aggregates="Aggregates",r.Text="Text",r.Math="Math",r.DateTime="Date/Time",r.Application="Application",r.Fields="Fields",r.Internal="Internal",r.External="External",r.Objects="Objects",r.Styles="Styles",r.SubstitutionKeys="Substitution Lists",r.BusinessEvents="Business Events",r.CreateBusinessEvent="Create business event",r.BusinessEventName="Business Event Name",r.AuditUpdateHistory="Update History",r.AuditIsNotAvailable="Detailed information is not available for this entry.",r.AuditCreatedBy="Created By",r.AuditCreatedThrough="Created Through",r.AuditCreatedOn="Created On",r.AuditLastModifiedBy="Last Modified By",r.AuditLastModifiedThrough="Last Modified Through",r.AuditLastModifiedOn="Last Modified On",r.AuditEnableFieldLevel="Enable field level audit",r.Notifications="Notifications",r.NotificationsAddEmailTemplate="Add email template",r.NotificationsAddMobileTemplate="Add mobile template",r.ProfilerHeader="Profiler",r.ProfilerStarted="Started",r.ProfilerRequestsLogged="Requests Logged",r.ProfilerStart="Start logging",r.ProfilerStop="Stop and export",r.ProfilerOpenRequest="Open request profiler",r.ProfilerDescription="Turn on the request profiler. The subsequent requests will be stored and can be viewed or exported later.",r.ProfilerWarning="Detailed information is not available for this entry.",r.FormConfigurationTitle="Section Configuration",r.FormConfigurationAvailableFields="Available Elements",r.FormConfigurationChoosenFields="Selected Elements",r.ResetToDefault="Reset To Default",r.Untitled="Untitled",r.ScreenConfigurationTitle="Form Configuration",r.ApplyToAll="Apply To All",r.LoadPersonalConfiguration="Load Personal Configuration",r.ExportConfiguration="Export Configuration",r.ImportConfiguration="Import Configuration",r.PersonalConfiguration_Info="Select the user whose personal configuration you want to load, and then to apply to all users.",r.User="User:",r.ApplyToAllDialogTitle="Apply Configuration to All Users",r.ApplyForced="Overwrite Personal Configuration",r.ApplyNotForced="Preserve Personal Configuration",r.FilesAddLink="Add Link",r.FilesRemoveLink="Remove Link",r.LinkEditorLink="Link",r.LinkEditorName="Name",r.CapturingImageButtonTitle="Upload Using Mobile App",r.CapturingImagePushSend="Tap the notification on your mobile device to start the upload.",r.ConfirmAction="Confirm Action",r.ConfirmConfirm="Confirm",r.LinkCopiedClipboard="The link has been copied to the clipboard.",r.TabConfigurationTitle="Tab Configuration",r.TabConfigurationVisibleTabs="Visible Tabs",r.TabConfigurationHiddenTabs="Hidden Tabs",r.ProcessingProcessed="Processed",r.ProcessingErrors="Errors",r.ProcessingWarnings="Warnings",r.ProcessingRemaining="Remaining",r.ProcessingTotal="Total",r.ProcessingClose="Close",r.ProcessingCancel="Cancel Processing",r.ProcessCompleted="Processing Completed",r.OperationCompleted="The operation has completed.",r.OperationAborted="The operation has been aborted.",r.NotLoggedInLogIn="You are currently logged off. Would you like to log in?",r.FileUploadCaption="File Upload",r.CommonSettingsCaption="Common Settings",r.ColumnsCaption="Columns",r.UploadFileCaption="Upload File",r.UploadFilesCaption="Upload Files",r.UploadImagePrompt="You havent uploaded any files yet",r.NoImageImagePrompt="Image is not selected",r.NoImageUploadImagePrompt="Upload or select image",r.DownloadingImageMessage="Downloading {0}",r.UploadingImageMessage="Uploading {0}",r.ReloadImageMessage="Reload {0}",r.LoadErrorImageMessage="Cannot load {0}",r.EditImageCommandTooltip="Choose image",r.ClearImageCommandTooltip="Clear selected image",r.PrintImageActionTitle="Print",r.DownloadImageActionTitle="Download",r.EditImageActionTitle="Edit",r.NoImageImagePopupCaption="No image",r.TabbedTreeSelector="Emails",r.TabbedTreeTree="Screen Fields",r.LoadRecordsFromFile="Load Records from File",r.TranslationValidationTitle="Translation Validation: {0} warnings",r.TranslationValidationItemTitle="Warning:",r.TranslationValidationItemBody="The following resource is not translated to the current locale: {0}",r=i.__decorate([n.localizable],r),t.Messages=r}.apply(t,n),void 0===r||(e.exports=r)},7052:(e,t,i)=>{var n,r;n=[i,t,i(655),i(7952),i(5292),i(4470)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesApi=t.PreferencesService=void 0,Object.defineProperty(t,"PreferencesService",{enumerable:!0,get:function(){return n.PreferencesService}}),Object.defineProperty(t,"PreferencesApi",{enumerable:!0,get:function(){return r.PreferencesApi}}),i.__exportStar(o,t)}.apply(t,n),void 0===r||(e.exports=r)},5292:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1255)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesApi=void 0;const getApiRoute=e=>`ui/screen/${e}/preferences`;let o=class PreferencesApi{constructor(e){this.client=e}loadUsers(e){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${getApiRoute(e)}/users`)}))}loadPreferences(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${getApiRoute(e)}/${t}/${n}`)}))}savePreferences(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${getApiRoute(e)}/${t}`,n,!1)}))}loadDefaultPreferences(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.getExt(`${getApiRoute(e)}/${t}/${n}/default`)}))}loadAllPreferences(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const i=t?`${getApiRoute(e)}?user=${t}`:getApiRoute(e);return this.client.getExt(i)}))}saveAllPreferences(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){return this.client.fetchExt(`${getApiRoute(e)}`,{Preferences:t,ForceApplyForAll:n})}))}};o=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[r.BaseApiClient])],o),t.PreferencesApi=o}.apply(t,n),void 0===r||(e.exports=r)},7952:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(2172),i(5292),i(4470)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesService=void 0;let l=class PreferencesService{constructor(e){this.api=e,this.subscribers=new r.CaseInsensitiveMap,this.mergers=new r.CaseInsensitiveMap,this.defaultMerger=new a.BasePreferenceMerger}registerMerger(e,t){this.mergers.set(e,t)}subscribe(e,t){const i=this.subscribers.get(e)||[];i.push(t),this.subscribers.set(e,i);const n=this.findKeySensitivePreferenceKey(e);n&&t.applyPreferences(this._screenPreferences[n])}unsubscribe(e){this.subscribers.delete(e)}getPreferences(e){var t;return null===(t=this._screenPreferences)||void 0===t?void 0:t[e]}saveUserPreferences(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){return this.setPreferences(t,n,"user"),this.api.savePreferences(e,t,this._screenPreferences[t].user)}))}setPreferences(e,t,i,n=!1){if(this._screenPreferences=this._screenPreferences||{},!t)return this._screenPreferences[e]=this._screenPreferences[e]||{},void(this._screenPreferences[e][i]=t);const r=this._screenPreferences[e],o=!(null==r?void 0:r[i])||n;(null==r?void 0:r[i])||(this._screenPreferences[e]={user:{type:t.type,preferences:{}},def:{type:t.type,preferences:{}}}),o?this._screenPreferences[e][i]=t:(this._screenPreferences[e][i]=Object.assign(Object.assign({},t),{type:r[i].type,preferences:Object.assign(Object.assign({},r[i].preferences),t.preferences)}),t.preferences||(this._screenPreferences[e][i]=Object.assign(Object.assign({},t),this._screenPreferences[e][i]))),this.notifySubscribers(e)}getScreenDefaultPreferences(){return Object.keys(this._screenPreferences).reduce(((e,t)=>(e[t]=this._screenPreferences[t].def,e)),{})}setScreenDefaultPreferences(e){Object.keys(this._screenPreferences).forEach((e=>{this._screenPreferences[e]=Object.assign(Object.assign({},this._screenPreferences[e]),{def:void 0})}));Object.keys(e).forEach((t=>{this._screenPreferences[t]=Object.assign(Object.assign({},this._screenPreferences[t]),{def:e[t]})})),this.notifyAllSubscribers()}setAllScreenPreferences(e){this._screenPreferences=e,this.notifyAllSubscribers()}loadAllPreferences(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function*(){return yield this.checkScreenPreferences(e,t,n,r),this._screenPreferences}))}saveAllPreferences(e,t,n){return i.__awaiter(this,void 0,void 0,(function*(){n&&this.setScreenDefaultPreferences(n);return yield this.api.saveAllPreferences(e,this.getScreenDefaultPreferences()||{},t)}))}loadPreferenceUsers(e){return i.__awaiter(this,void 0,void 0,(function*(){return this.api.loadUsers(e)}))}resetToDefault(){this.setScreenDefaultPreferences({})}notifyAllSubscribers(){if(!this.subscribers)return;const e=this.subscribers.keys();for(const t of e)this.notifySubscribers(t)}getMerger(e){return e&&this.mergers.has(e)?this.mergers.get(e):this.defaultMerger}checkScreenPreferences(e,t,n,r){return i.__awaiter(this,void 0,void 0,(function*(){if(!r&&this._screenPreferences&&this.prevScreenId===e&&this.prevLoadMode===t)return void this.notifyAllSubscribers();const i=yield this.api.loadAllPreferences(e,n);if(this.prevScreenId=e,this.prevLoadMode=t,!i)return this._screenPreferences={},void this.notifyAllSubscribers();const o=i.def?Object.keys(i.def):[],l=i.user?Object.keys(i.user).filter((e=>!i.def[e])):[],d=o.reduce(((e,n)=>{var r,o,a,l,d;const c=(null===(r=i.def[n])||void 0===r?void 0:r.type)||(null===(a=null===(o=i.user)||void 0===o?void 0:o[n])||void 0===a?void 0:a.type),p=this.getMerger(c);return e[n]=e[n]||{},e[n].def=p.merge(t,{def:i.def[n],user:null===(l=i.user)||void 0===l?void 0:l[n]}),e[n].user=null===(d=i.user)||void 0===d?void 0:d[n],e}),{});t!==a.PreferenceLoadMode.onlyDefault&&(null==l?void 0:l.length)>0&&l.forEach((e=>{d[e]=d[e]||{},d[e].user=i.user[e]})),this.setAllScreenPreferences(d)}))}notifySubscribers(e){if(!this.subscribers)return;const t=this.subscribers.get(e);if(!t)return;const i=this.findKeySensitivePreferenceKey(e);for(const e of t)e.applyPreferences(i&&this._screenPreferences[i]||{})}findKeySensitivePreferenceKey(e){const t=this._screenPreferences&&Object.keys(this._screenPreferences);return null==t?void 0:t.find((t=>t.toLowerCase()===e.toLowerCase()))}};l=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[o.PreferencesApi])],l),t.PreferencesService=l}.apply(t,n),void 0===r||(e.exports=r)},4470:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceLoadMode=t.BasePreferenceMerger=t.PreferenceBase=void 0;t.PreferenceBase=class PreferenceBase{};var i;t.BasePreferenceMerger=class BasePreferenceMerger{merge(e,t){const n=t.def,r=t.user;switch(e){case i.onlyDefault:return n;case i.onlyUser:return r;case i.merged:return this.combineUserAndDefPreferences(n,r);default:return}}combineUserAndDefPreferences(e,t){if(!t||!t.preferences)return e;if(!e||!e.preferences)return t;const i=Object.assign(Object.assign({},e),{preferences:Object.assign({},e.preferences)});return Object.keys(t.preferences).forEach((e=>{i.preferences[e]=t.preferences[e]})),i}},function(e){e.merged="merged",e.onlyDefault="default",e.onlyUser="user"}(i=t.PreferenceLoadMode||(t.PreferenceLoadMode={}))}.apply(t,[i,t]),void 0===n||(e.exports=n)},8986:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(1255)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericInquiryApiClient=t.ScreenApiClient=t.ScreenApiClientSettings=void 0;class ScreenApiClientSettings{}t.ScreenApiClientSettings=ScreenApiClientSettings;let o=class ScreenApiClient{constructor(e,t){this.client=e,this.screenApiSettings=t,this.isFirstCallback=!0}get callbackRunning(){return this.client.callbackRunning}getScreenData(e){return i.__awaiter(this,void 0,void 0,(function*(){let t="";this.screenApiSettings.forceUI&&(t&&(t+="&"),t+=`ui=${this.screenApiSettings.forceUI}`);let i="";this.screenApiSettings.clearSessionOnGetRequest&&(i="/cleared");let n="";return this.screenApiSettings.companyId&&(n=`t/${this.screenApiSettings.companyId}/`),this.client.getExt(`${n}${this.getRoute(e)}${i}${t?"?":""}${t}`)}))}executeCallback(e,t,i,n){let r="";i&&(r+=`PopupPanel=${i}`),this.screenApiSettings.forceUI&&(r&&(r+="&"),r+=`ui=${this.screenApiSettings.forceUI}`),!this.isFirstCallback||this.screenApiSettings.dueToRedirect||i||(t.clearSession=!0),this.isFirstCallback&&this.screenApiSettings.dueToRedirect&&(t.isRedirect=!0);const o={};this.isFirstCallback&&this.screenApiSettings.dueToRedirect&&!(null==t?void 0:t.command)&&(o.RedirectTargetScreenID=e),this.isFirstCallback&&!this.screenApiSettings.isInlineScreenRequest&&(t.isFirstRequest=!0);let a="";return this.screenApiSettings.companyId&&(a=`t/${this.screenApiSettings.companyId}/`),this.isFirstCallback=!1,this.client.fetchExt(`${a}${this.getRoute(e)}?${r}`,t,n,o)}getRoute(e){return`ui/screen/${e}`}};o=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[r.BaseApiClient,ScreenApiClientSettings])],o),t.ScreenApiClient=o;t.GenericInquiryApiClient=class GenericInquiryApiClient extends o{constructor(e,t,i){super(e,t),this.genericInquiryId=i}getRoute(e){return`ui/inquiry/${this.genericInquiryId}`}}}.apply(t,n),void 0===r||(e.exports=r)},4834:(e,t,i)=>{var n,r;n=[i,t,i(655),i(8009),i("aurelia-framework"),i("aurelia-event-aggregator"),i(8099),i(2172),i(7140),i(8057),i(8986),i(7699),i(6158),i("client-controls/controls/dialog/informer/qp-informer-rack"),i(4030),i("client-controls/controls/dialog/alert/qp-alert"),i(3116),i(4248),i(7124)],r=function(e,t,i,n,r,o,a,l,d,c,p,u,h,g,m,f,v,b,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupMessageOpenEvent=t.ScreenService=void 0;const x=(0,a.getLogger)("screenService");let C=class ScreenService{constructor(e,t,i,n,r,o,a){this.eventAggregator=e,this.tq=t,this.bindingEngine=i,this.alertService=n,this.redirector=r,this.busyCounter=o,this.urlRouter=a,this.isNewEntry=!0,this.initialized=!1,this.longRunInProgress=!1,this.dirtyValues=[],this.subscriptions=new Map,this.suspendUpdates=!1,this.updateInProgress=!1,this.viewBindings=[],this.postponedTasks=[],this.fieldErrorsMap={}}get screenID(){var e,t;return null!==(t=null===(e=this.model)||void 0===e?void 0:e.screenID)&&void 0!==t?t:""}get isValid(){return!!this.screenApiClient&&!!this.model}get callbackRunning(){var e;return!!(null===(e=this.screenApiClient)||void 0===e?void 0:e.callbackRunning)}registerDataComponent(e,t,i){return this.internalRegisterDataComponent(e,t,i),{dispose:()=>this.unregisterDataComponent(e)}}registerDataComponentOneTime(e,t){this.registerDataComponent(e,t,{oneTimeRegistration:!0})}unregisterDataComponent(e){var t;null===(t=this.dataComponents)||void 0===t||t.delete(e)}isCompositeComponent(e){return"children"in e}getDataComponentConfig(e){var t;return null===(t=this.dataComponents)||void 0===t?void 0:t.get(e)}getDataComponent(e){var t;return null===(t=this.getDataComponentConfig(e))||void 0===t?void 0:t.instance}registerViewBinding(e,t,i){e?this.unregisterViewBinding(e):this.unregisterViewBinding(t),t&&this.viewBindings.push({element:e,view:t,field:i})}unregisterViewBinding(e){let t=-1;t="string"==typeof e?this.viewBindings.findIndex((t=>t.view===e&&null==t.element)):this.viewBindings.findIndex((t=>t.element===e)),t>=0&&this.viewBindings.splice(t,1)}registerLoadOnDemandArea(e){this.loadOnDemandAreas||(this.loadOnDemandAreas=[]),this.unregisterLoadOnDemandArea(e),this.loadOnDemandAreas.push(e)}unregisterLoadOnDemandArea(e){var t;const i=null===(t=this.loadOnDemandAreas)||void 0===t?void 0:t.findIndex((t=>t===e));i>=0&&this.loadOnDemandAreas.splice(i,1)}registerPostponedTask(e){this.postponedTasks.push(e)}unregisterPostponedTask(e){var t;const i=null===(t=this.postponedTasks)||void 0===t?void 0:t.indexOf(e);i>=0&&this.postponedTasks.splice(i,1)}getGraphInfo(){var e;return null===(e=this.model)||void 0===e?void 0:e.graphInfo}getViewsInfo(){if(!this.initialized)throw"Screen should be initialized before getting info about its structure";return this.screenViewInfo}initialize(){var e,t;return i.__awaiter(this,void 0,void 0,(function*(){let i,n;const r=new Promise(((e,t)=>{i=e,n=t}));return this.screenViewInfo=null,null===(t=null===(e=this.screenApiClient)||void 0===e?void 0:e.getScreenData(this.model.screenID))||void 0===t||t.then((e=>{void 0!==e?(this.siteMapScreenID=e.siteMapScreenId,this.repaintScreen(e,!0,!0),this.initialized=!0,this.screenViewInfo=e.fieldStates,this.tq.queueTask((()=>i(e)))):this.tq.queueTask((()=>n(e)))}),(e=>{n(e)})),r}))}dispose(){this.dirtyValues=[],this.subscriptions.forEach((e=>e.forEach((e=>e.dispose())))),this.subscriptions=new Map}update(e,t){var r;return i.__awaiter(this,void 0,void 0,(function*(){const i=this.urlRouter.resolvePopupPanelMode(window.location);let o;this.eventAggregator.publish(l.CALLBACK_STARTED_EVENT,e),this.updateInProgress=!0;try{o=this.getQueryParams(e,t)}finally{this.updateInProgress=!1}null==t?void 0:t.blockPage;if(e){const t=this.model.actions.get(e);if((this.model.isDirty||(null==t?void 0:t.confirmationType)===l.PXConfirmationType.Always)&&(null==t?void 0:t.confirmationMessage)){if((yield this.alertService.openAlert({message:t.confirmationMessage,buttons:f.QpAlertButtons.OkCancel,title:v.Messages.ConfirmAction,okButtonText:v.Messages.ConfirmConfirm}))!==f.QpAlertResults.Confirm)return Promise.resolve({canceled:!0})}}const a=null===(r=this.screenApiClient)||void 0===r?void 0:r.executeCallback(this.model.screenID,o,i);if(!a)return Promise.resolve({succeeded:!1});let d,c,p=!1;return new Promise((i=>{this.busyCounter.increment(),a.whenDataReady((i=>{p=!0;const r=!!(null==i?void 0:i.redirects);if(d=r?i.screenData:i,(null==d?void 0:d.messages)&&d.messages.forEach((e=>{(0,g.showInformer)(e.message,e.messageType)})),null!=(null==d?void 0:d.graphIsDirty)&&this.model.setDirty(d.graphIsDirty),d&&this.repaintScreen(d,!1,!1,e),r&&(c=i,c.command=e,(null==c?void 0:c.redirects.length)>0&&(!1!==c.isDirty&&"CancelClose"!==e&&"CancelCloseToList"!==e||this.model.setDirty(!1),null==t?void 0:t.openFrameset)))for(const e of c.redirects)e.settings.mode!==n.WindowMode.InlineWindow&&e.settings.mode!==n.WindowMode.Same||(e.settings.mode=n.WindowMode.New);return this.tq.queueTask((()=>{if(this.postponedTasks.length>0&&!this.callbackRunning){for(const e of this.postponedTasks)e();this.postponedTasks.length=0}})),i})).finally((()=>{var n;this.busyCounter.decrement();const r=new l.CallbackCompletedEvent;r.command=e,r.dialogResult=null===(n=null==t?void 0:t.dialogCallback)||void 0===n?void 0:n.dialogResult,r.validationOk=(()=>{var e;if(!d||!d.messages)return!0;if(d.messages.every((e=>"error"!==e.messageType)))return!0;if(null===(e=null==t?void 0:t.dialogCallback)||void 0===e?void 0:e.viewName){const e=d.fieldStates[t.dialogCallback.viewName];if(e&&e.every((e=>!e.fieldState.error)))return!0}return!1})(),this.tq.queueTask((()=>{this.eventAggregator.publish(l.CALLBACK_COMPLETED_EVENT,r),this.postponedTasks.length=0,i({succeeded:p&&!!r.validationOk,redirectData:c})}))}))}))}))}executeCommand(e,t){return this.eventAggregator.publish(l.BEFORE_CALLBACK_EVENT,e),this.tq.flushMicroTaskQueue(),new Promise((n=>{this.tq.queueTask((()=>i.__awaiter(this,void 0,void 0,(function*(){n(yield this.update(e,t))}))))}))}setScreenParameter(e,t,i,n=void 0){this.registerViewFieldChange(e,t,i,{typing:!1,rowId:n})}registerViewFieldChange(e,t,i,n){let r=null==n?void 0:n.rowId;r||(r=this.getRecordIdByKeys(e));const o=this.dirtyValues.findIndex((i=>i.fieldName.toLowerCase()===t.toLowerCase()&&i.viewName.toLowerCase()===e.toLowerCase()&&i.rowId===r));if(o>=0){if(null==n?void 0:n.typing)return;this.dirtyValues.splice(o,1)}this.dirtyValues.push({viewName:e,fieldName:t,value:i,rowId:r,typing:null==n?void 0:n.typing})}cancelViewFieldChanges(e){this.dirtyValues=this.dirtyValues.filter((t=>t.viewName!==e))}hasChanges(){return this.dirtyValues.length>0}applyFieldUpdated(){this.tq.flushMicroTaskQueue()}repaintScreen(e,t=!1,i=!1,n){var r,o;this.id=e.id,this.isNewEntry=void 0!==e.isNewEntry&&e.isNewEntry,this.isDraft=e.isDraft;const a=e.fieldStates;this.suspendUpdates=!0;for(const i in a){const n=this.model[i];if(this.fieldErrorsMap[i]={},!n||!n.getField)continue;const d=[],c=a[i];if(n.name=i,n instanceof l.PXViewCollection&&n.isCollection()){const t=e.controlsData&&e.controlsData[i]?null==e?void 0:e.controlsData[i]:void 0,a=null===(r=null==t?void 0:t.columns)||void 0===r?void 0:r.filter((e=>e.state)).map((e=>({fieldName:e.field,fieldState:e.state})));a&&n.setFields&&n.setFields(a);const d=l.PXReflectionMetadata.getMetadata(this.Model,i,l.viewInfo.name);if(n.registerScreenService(this),t&&(null==d?void 0:d.syncAlways)){let e;if(null==t?void 0:t.rows){n.setRows(t.rows,t.columns);for(let i=0;i<n.records.length;i++){const r=n.records[i];(null!==(o=r.id)&&void 0!==o?o:r.getRecordIdByKeys())===t.activeRowId&&(e=i)}}n.setActiveRow(e)}}else n instanceof l.PXView&&(c.forEach((e=>{var r;!t&&n.getField(e.fieldName)||d.push(e.fieldName);const o=e.fieldState;o&&o.viewName&&(o.graph=null===(r=this.model.graphInfo)||void 0===r?void 0:r.graphType),o.error&&(this.fieldErrorsMap[i][`${i}.${e.fieldName}`]={message:o.error,level:o.errorLevel})})),n.setFields&&n.setFields(c),n.id=e.recordsIds?e.recordsIds[i]:n.getRecordIdByKeys(),this.attachValueObserversForView(d,n,i))}this.model.setActionStates(e.actionStates,e.actionNamesPerView),e.controlsData&&(i&&this.instantiateDataComponent(Object.keys(e.controlsData)),this.repaintDataComponents(this.dataComponents,e)),this.tq.flushing||this.tq.flushMicroTaskQueue(),this.dirtyValues=this.dirtyValues.filter((e=>{var t;if(!(null===(t=this.fieldErrorsMap)||void 0===t?void 0:t[e.viewName]))return!1;const i=this.fieldErrorsMap[e.viewName][`${e.viewName}.${e.fieldName}`];return i&&(i.level===l.PXErrorLevel.Error||i.level===l.PXErrorLevel.RowError)})),this.tq.queueTask((()=>this.suspendUpdates=!1)),e.screenID=this.screenID,this.eventAggregator.publish("screen-updated",e)}attachValueObserversForView(e,t,i){e.forEach((e=>this.attachValueObserver(t.getField(e),i,e,t)))}clearObservers(e){var t;e&&(null===(t=this.subscriptions.get(e))||void 0===t||t.forEach((e=>e.dispose())),this.subscriptions.delete(e))}updatesSuspended(){return this.suspendUpdates||this.updateInProgress}hasFieldsErrors(){if(!this.fieldErrorsMap)return!1;for(const e in this.fieldErrorsMap){if(!this.fieldErrorsMap[e])continue;if(Object.keys(this.fieldErrorsMap[e]).length>0)return!0}return!1}getFieldError(e){var t,i;const n=null==e?void 0:e.split(".");if(n)return null===(i=null===(t=this.fieldErrorsMap)||void 0===t?void 0:t[n[0]])||void 0===i?void 0:i[e]}get Model(){return this.model}activateDataComponents(e){const t=e?this.getDataComponents().filter((t=>e.indexOf(t.name)>-1)):this.getDataComponents();this.eventAggregator.publish("data-components-initialized",t)}instantiateDataComponent(e){if(!(null==e?void 0:e.length))return;let t=!1;for(const i of e){const e=this.getDataComponentConfig(i);let n=null==e?void 0:e.instance;!n&&(null==e?void 0:e.creator)&&(n=e.creator(),e.instance=n),n&&(n.resultType||(n.resultType=i),t=!0)}t&&this.activateDataComponents()}internalRegisterDataComponent(e,t,i){if(this.dataComponents||(this.dataComponents=new Map),this.dataComponents.has(e))return;const n={oneTimeRegistration:null==i?void 0:i.oneTimeRegistration,category:null==i?void 0:i.category};t instanceof Function?n.creator=t:(n.instance=t,n.instance.resultType||(n.instance.resultType=e),this.isCompositeComponent(t)&&t.registerCompositeDataComponents(this.model)),this.dataComponents.set(e,n)}getDataComponents(){return Array.from((this.dataComponents||new Map).entries()).filter((e=>e[1].instance)).map((e=>({name:e[0],component:e[1].instance,category:e[1].category})))}repaintDataComponents(e,t){null==e||e.forEach(((e,i)=>{const n=e.instance;n&&(this.isCompositeComponent(n)?n.setComponentData(t.controlsData):this.repaintDataComponent(n,i,(t.controlsData||{})[i]),e.oneTimeRegistration&&(t.controlsData||{})[i]&&this.unregisterDataComponent(i))}))}repaintDataComponent(e,t,i){if(i){try{e.setComponentData(i)}catch(e){x.error(`Error occured while running setComponentData ${t}`,e)}e.getComponentErrors&&(this.fieldErrorsMap[t]=e.getComponentErrors(t,i))}}collectDataComponentQueryParams(e,t,i,n,r,o,a){null==e||e.forEach(((e,l)=>{const d=e.instance;if(d){let e=!1;if(o&&d.element&&(a&&!a.contains(d.element)&&(e=!0),!e&&(null==n?void 0:n.some((e=>e!==a&&e.contains(d.element))))&&(e=!0)),!e&&r&&(e=!r.has(l.toLowerCase())),!e&&d.getQueryParams){const e=d.getQueryParams(i)||{};this.isCompositeComponent(d)||(t[l]=Object.assign(Object.assign({},e||{}),{resultType:null==d?void 0:d.resultType}))}}}))}getQueryParams(e,t){var i,n;void 0===t&&(t=new l.ScreenUpdateParams);const r={command:e};r.dialogCallback=t.dialogCallback,t.commitChanges?r.data=this.dirtyValues.filter((e=>!e.typing)).map((e=>{const t=Object.assign({},e);return delete t.typing,t})):t.data&&(r.data=t.data);const o=t.container,a=null===(i=this.loadOnDemandAreas)||void 0===i?void 0:i.filter((e=>!(0,d.isVisible)(e))),c=this.model.optimizeDataSelection,p=t.views?new Set(t.views.map((e=>e.toLowerCase()))):void 0;if(r.controlsParams={},this.collectDataComponentQueryParams(this.dataComponents,r.controlsParams,t,a,p,c,o),c){r.viewsParams=t.commitChanges||this.model.isDirty?y.TabbarFieldsService.getNecessaryViews(this.screenID):{};for(const e of this.viewBindings){if(e.element){if(o){if(!o.contains(e.element))continue}else if(!(null===(n=e.element.ownerDocument)||void 0===n?void 0:n.contains(e.element)))continue;if(null==a?void 0:a.some((t=>t.contains(e.element))))continue}p&&!p.has(e.view.toLowerCase())||(r.viewsParams[e.view]={})}}return r}attachValueObserver(e,t,i,n){const r=this.generateValueObserver(t,i,e.commitChanges,n);e.updateValue=r=>{var o;e.value=r;let a=null!==(o=n.id)&&void 0!==o?o:n.getRecordIdByKeys();a||(a=this.getRecordIdByKeys(t)),this.setScreenParameter(t,i,r,a)},this.subscriptions.has(t)||this.subscriptions.set(t,[]),this.subscriptions.get(t).push(this.bindingEngine.propertyObserver(e,"value").subscribe(r))}generateValueObserver(e,t,i,n){return(r,o)=>{var a;if(!this.suspendUpdates&&!this.updateInProgress&&!n.viewInUpdateProcess){let o=null!==(a=n.id)&&void 0!==a?a:n.getRecordIdByKeys();o||(o=this.getRecordIdByKeys(e)),this.setScreenParameter(e,t,r&&r.id?r.id:r,o),this.model.setDirty(),i&&this.update()}}}getRecordIdByKeys(e){const t=this.model[e];return t.id?t.id:t.getRecordIdByKeys()}};i.__decorate([(0,u.newInstance)(p.ScreenApiClient),i.__metadata("design:type",Object)],C.prototype,"screenApiClient",void 0),C=i.__decorate([(0,h.autoinject)(),i.__param(6,(0,h.inject)(c.SessionUrlRouter)),i.__metadata("design:paramtypes",[o.EventAggregator,r.TaskQueue,r.BindingEngine,m.AlertService,b.RedirectHelper,d.BusyCounter,Object])],C),t.ScreenService=C;t.PopupMessageOpenEvent=class PopupMessageOpenEvent{constructor(e){this.popupMessage=e}}}.apply(t,n),void 0===r||(e.exports=r)},3425:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(8099),i(7140),i(2172),i(1015),i(3147)],r=function(e,t,i,n,r,o,a,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectorService=void 0;const c=490;(0,r.getLogger)("selector service");let p=class SelectorService{constructor(e,t,i){this.dialogHelper=e,this.screenEventManager=t,this.tq=i,this.selectors=new Map,this.gridReady=!1,this.dataReadyHandler=()=>{}}getDialogVM(){var e;return null===(e=this.dialogController)||void 0===e?void 0:e.controller.viewModel}getSelectorValue(e,t,n,r,o){var l;return i.__awaiter(this,void 0,void 0,(function*(){let i,n;null===(l=this.dialogController)||void 0===l||l.cancel();const d=new Promise(((e,t)=>{i=e,n=t}));e.preset=a.GridPreset.Empty,e.allowUpdate=!1,e.allowDelete=!1,e.allowInsert=!1,e.adjustPageSize=!0,e.suppressNoteFiles=!0,e.markRequired=!1,e.id||(e.id="selector-dialog-grid"),this.gridConfig=e,this.searchValue=r,this.searchField=o||this.gridConfig.valueField;const p=`${e.dialogCaptionPrefix}${e.displayName?`  ${e.displayName}`:""}`;let u;return this.dialogHelper.openDialog({template:'<template auto-repaint="false"><qp-grid class="stretch"\n\t\t\t\tsearch-value.bind="searchValue" search-field.bind="searchField"\n\t\t\t\tconfig.bind="gridConfig"\n\t\t\t\ton-default-action.call="selected(args)"\n\t\t\t\ton-action.call="actionHandler(args)"\n\t\t\t\ton-data-ready.call="dataReadyHandler(grid, args)"\n\t\t\t\ton-active-row-changed.call="rowChanged(args)" ref="gridElem">\n\t\t\t\t</qp-grid></template>',context:this,id:e.panel_id,caption:p,resizableConfig:{minWidth:e.minWidth||c,minHeight:e.minHeight||330}},{ignoreTransitions:!0,rejectOnCancel:!0,position:(e,i)=>this.position(t,e,i)},(e=>{this.dialogController=e.controller,u=this.getDialogVM().QpEventManager.subscribe("ExecuteCommand",(e=>{"select"===e.Command&&e.stop()}))})).whenClosed((e=>{i(e.output)})).catch((()=>{n("because reason")})).finally((()=>{this.dialogController=void 0,null==u||u.dispose()})),yield d}))}position(e,t,i){const n=t.querySelector("ux-dialog"),r=t.querySelector("ux-dialog-body");if(!n||!r)return;const o=n.style,a=e.getBoundingClientRect(),d=a.top,p=l.PLATFORM.global.innerHeight-a.bottom,u=l.PLATFORM.global.innerWidth-a.left,h=d>p;o.width="800px",this.setHeight(t,h?d:p),o.position="absolute",o.transform="translateY(-10000px)",this.dataReadyHandler=(e,i)=>{let r=NaN,g=NaN,m=NaN,f=NaN,v=!1;const b=this.getDialogVM();b&&(b.position(t),v=b.maximized,b.maximized=!1);let y=n.getBoundingClientRect(),x=y.width;const C=e.freeWidth;C>0&&(x=Math.max(y.width-C+1,c),o.width=`${x}px`,x===c&&e.adjustColumns(!1));const _=e.freeHeight;_>0&&this.setHeight(t,Math.max(y.height-_+1,330)),y=n.getBoundingClientRect(),y.height>l.PLATFORM.global.innerHeight?r=0:h?y.height>d?r=0:g=l.PLATFORM.global.innerHeight-a.top:y.height>p?g=0:r=a.bottom,y.width>l.PLATFORM.global.innerWidth?(m=0,x=l.PLATFORM.global.innerWidth,o.width=`${x}px`):u<x?f=0:m=a.left,Number.isNaN(r)||(o.top=`${r}px`),Number.isNaN(g)||(o.bottom=`${g}px`),Number.isNaN(m)||(o.left=`${m}px`),Number.isNaN(f)||(o.right=`${f}px`),(v||l.PLATFORM.global.innerWidth<c||l.PLATFORM.global.innerHeight<330)&&b.maximize(),o.transform="none",this.dataReadyHandler=()=>{}}}setHeight(e,t){var i;const n=null===(i=this.getDialogVM())||void 0===i?void 0:i.resizerVM;if(n)n.setHeight(t);else{e.querySelector(".qp-resizable").style.height=`${t}px`}}actionHandler(e){var t,i;"select"===e.action?null===(t=this.dialogController)||void 0===t||t.ok(this.preselectedValue):"addNewRecord"===e.action&&(null===(i=this.dialogController)||void 0===i||i.ok({id:"<NEW>",text:"<NEW>"}))}selected(e){var t;if(void 0!==e.activeRow){const i=e.getCell(this.gridConfig.valueField),n=e.getCell(this.gridConfig.descriptionName);i&&(null===(t=this.dialogController)||void 0===t||t.ok({id:(0,o.getRawValue)(i.value),text:(0,o.getRawValue)(null==n?void 0:n.value)||""}))}}rowChanged(e){var t,i;if(!this.gridReady&&(this.gridReady=!0,this.gridElem)){const e=this.gridElem.querySelector("input");e&&this.tq.queueTask((()=>e.focus()))}if(void 0!==e.activeRow){const n=e.getCell(this.gridConfig.valueField),r=e.getCell(this.gridConfig.descriptionName),o=(null===(t=null==n?void 0:n.value)||void 0===t?void 0:t.id)?n.value.id:null==n?void 0:n.value,a=(null==r?void 0:r.value)||(null===(i=null==n?void 0:n.value)||void 0===i?void 0:i.text)||"";this.preselectedValue={id:o,text:a}}}getValueFromSelector(e){return i.__awaiter(this,void 0,void 0,(function*(){const t=yield this.ensureSelectorInTheDom(e);let i,n;const r=new Promise(((e,r)=>{i=e,n=r,t.resolvers={resolve:i,reject:n}}));return this.querySelector(t,e),r}))}querySelector(e,t){const i=__px(document).getDropDownPos(t.inputElement,e.panelElement,2);document.dropDownElem=e.panelElement,e.panelElement.setAttribute("controlID",e.panelObject.ID),e.panelElement.style.left=`${i.left}px`,e.panelElement.style.top=`${i.top}px`,e.panelElement.style.position="absolute",e.panelElement.style.display="",e.activeQuery=!0;const n=e.gridObject;n.clearFastFilter(),n.search(t.value,t.valueColumn);const r=e.gridObject;setTimeout((()=>{r.filterBar&&!__px(document).IsTablet?r.filterBar.focus():r.focus()}),1)}ensureSelectorInTheDom(e){return i.__awaiter(this,void 0,void 0,(function*(){let t,i;const n=new Promise(((e,n)=>{t=e,i=n}));if(this.selectors.has(e.controlId))t(this.selectors.get(e.controlId));else{const i={name:"DropDown",blockPage:!0,commitChanges:!1,repaintControls:0,postData:1,postDataControls:!0,container:"",repaintControlsIDs:"",selectControlsIDs:"",commitChangesIDs:"",optimizePostData:!1};__px_callback(window).execI({ID:e.controlId,sourceName:e.controlName},i,"",(i=>{this.selectors.set(e.controlId,this.callbackHandler(i,e)),t(this.selectors.get(e.controlId))}))}return n}))}callbackHandler(e,t){__px_cm(window).processHtmlData(e,`${t.controlId}_selector_dialog`);const i=document.querySelector(`#${t.controlId}_selector_dialog`),n=document.querySelector(`#${t.controlId}_pnl_gr`),r=n.object,o=r.events,a=document.querySelector(`#${t.controlId}_pnl`),l=a.object,d=l.events;document.querySelector("form").appendChild(a);const c={selectorElement:i,grid:n,gridObject:r,panelElement:a,panelObject:l,resolvers:void 0,activeQuery:!1},resolveWithCurrentCell=()=>{const e=r.activeRow.getCell(t.valueColumn).getValue(),i=r.activeRow.getCell(t.textColumn).getValue();c.resolvers&&c.activeQuery&&c.resolvers.resolve({id:e,text:i}),c.panelElement.style.display="none",document.dropDownElem=void 0},rejectWithStatus=e=>{c.resolvers.reject(new Error(e)),c.panelElement.style.display="none",document.dropDownElem=void 0};return c.panelObject.hideDropDown=()=>{rejectWithStatus("outer click")},d.addEventHandler("beforeHide",(()=>{rejectWithStatus("Close")})),o.addEventHandler("keyDown",((e,t)=>{switch(t.key){case 13:t.cancel=!0,resolveWithCurrentCell();break;case 27:t.cancel=!0,rejectWithStatus("Close")}})),r.extToolbar.events.addEventHandler("buttonClick",((e,t)=>{if("Select"===t.button.key)resolveWithCurrentCell()})),o.addEventHandler("cellClick",((e,t)=>{2===t.event.clickCount&&resolveWithCurrentCell()})),c}};p=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[d.DialogHelper,a.QpEventManager,n.TaskQueue])],p),t.SelectorService=p}.apply(t,n),void 0===r||(e.exports=r)},5592:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionUrlSerializer=void 0;const i="(W(",n=`/${i}`;t.SessionUrlSerializer=class SessionUrlSerializer{constructor(){this.getDefaultUrlParams=()=>({protocol:"",hostname:"",sitename:"",isRoot:!1,pathname:"",sessionNumber:0})}serializeUrl(e){let t="";return e.protocol&&e.hostname&&(t+=`${e.protocol}://`),e.hostname&&(t+=`${e.hostname}`),e.port&&(t+=`:${e.port}`),e.sitename&&(t+=`/${e.sitename}`),e.sessionNumber&&(t+=`/${i}${e.sessionNumber}))`),e.pathname&&(t+=`/${e.pathname}`),e.queryParams&&(t+=`?${this.serializeQueryParams(e.queryParams)}`),t}parseUrl(e,t){const r=this.getDefaultUrlParams();let o=e.indexOf("//"),a="";if(o>0){r.protocol=e.substring(0,o-1),o=r.protocol.length+3,a=e.substring(o,e.indexOf("/",o));const t=a.split(":");2===t.length?(r.hostname=t[0],r.port=parseInt(t[1]),isNaN(r.port)&&(r.port=void 0)):1===t.length&&(r.hostname=t[0]),r.isRoot=!0}else o=0;const l=e.substring(o).split("?");if(!l.length)throw Error("Url is in bad format");let d=l[0];a&&(d=d.substring(a.length)),d.startsWith(n)||(d=this.removeLeft(d,"/"));const c=d.split("/"),p=c.findIndex((e=>{if(e.startsWith(i))return!0}));let u=p+1;if(u>0){const e=c[p];r.sessionNumber=parseInt(e.substring(3)),isNaN(r.sessionNumber)&&(r.sessionNumber=0),r.sitename=c.slice(0,p).join("/")}else t?(r.sitename=t,c[0]===t&&(u=1)):"Main"!==c[0]&&(r.sitename=c[0],u=1);return r.pathname=c.slice(u).join("/"),2===l.length&&(r.queryParams=this.parseQueryParams(l[1])),r}parseLocation(e){const t=this.parseUrl(e.pathname);return t.protocol=e.protocol.substring(0,e.protocol.indexOf(":")),t.hostname=e.hostname,t.port=Number.parseInt(e.port),t}parseQueryParams(e){const t=this.removeLeft(e,"?"),i={};return t.split("&").forEach((e=>{const t=e.split("=");2===t.length&&(i[t[0]]=t[1])})),i}removeLeft(e,t){let i=e;for(;i.charAt(0)===t;)i=i.substring(1);return i}serializeQueryParams(e){let t=Object.keys(e).reduce(((t,i)=>`${t}${i}=${e[i]}&`),"");return t.lastIndexOf("&")===t.length-1&&(t=t.substring(0,t.length-1)),t}}}.apply(t,[i,t]),void 0===n||(e.exports=n)},5893:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(3869),i(7140)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestingsServiceFabric=t.SuggestingsService=void 0;class SuggestingsService{constructor(e,t){this.params=e,this.apiClient=t,this.results=new Map,this.baseQuery={args:e.args,fields:this.params.fields,filter:"",graph:this.params.graph,graphStateId:this.params.graphStateId,inlineArgs:this.params.inlineArgs,skip:0,take:this.params.pageSize,view:this.params.viewName,dataField:this.params.dataField}}abortRequest(){this.abortController&&(this.abortController.signal.aborted||this.abortController.abort())}getSuggestions(e){return i.__awaiter(this,void 0,void 0,(function*(){if(!this.results.has(e)){const t=Object.assign(Object.assign(Object.assign({},this.baseQuery),{filter:e}),{take:2*this.params.pageSize});return this.getData(t).then((i=>(i.haveMore&&(i.loadMore=()=>{if(i.loading)return;i.loading=!0;const e=Object.assign(Object.assign({},t),{skip:i.suggestionItems.length,take:this.params.pageSize});this.getData(e).then((e=>{i.haveMore=e.haveMore,i.totalCount=e.totalCount,i.suggestionItems.push(...e.suggestionItems),i.loading=!1}))}),this.results.set(e,i),this.results.get(e))))}return Promise.resolve(this.results.get(e))}))}getData(e){return i.__awaiter(this,void 0,void 0,(function*(){return this.abortRequest(),this.abortController=new AbortController,this.apiClient.getSuggestionData(e,this.abortController.signal).then((t=>{if(!t.data||!t.fields)return{haveMore:!1,totalCount:0,suggestionItems:[],loading:!1};const i=t.fields.findIndex((e=>e.toLowerCase()===this.params.valueField.toLowerCase())),n=t.fields.length>1&&this.params.descriptionName!==this.params.valueField?t.fields.findIndex((e=>e.toLowerCase()===`${this.params.descriptionName}`.toLowerCase())):-1;return{haveMore:t.haveMore,loading:!1,suggestionItems:t.data.map((t=>{const r=t[i],a=-1===n?void 0:t[n];return{display:a,segments:(0,o.markHighlights)(e.filter,a?`${r} - ${a}`:`${r}`),value:r}})),totalCount:t.totalCount}}))}))}}t.SuggestingsService=SuggestingsService;let a=class SuggestingsServiceFabric{constructor(e){this.apiClient=e}getSuggestingService(e){return new SuggestingsService(e,this.apiClient)}};a=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[r.ApiClient])],a),t.SuggestingsServiceFabric=a}.apply(t,n),void 0===r||(e.exports=r)},7124:(e,t,i)=>{var n,r;n=[i,t,i(8009)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabbarFieldsService=void 0;function findAllFieldinfo(e){const t={fields:[],grids:[],fieldsets:[],allViewNames:[]},i=null==e?void 0:e.querySelectorAll("qp-fieldset, qp-field, qp-grid");if(!i||0===i.length)return t;const n={};return i.forEach((e=>{switch(null==e?void 0:e.tagName){case"QP-FIELD":const i=e.getAttribute("control-state.bind");if(i){t.fields.push(i);const e=i.split(".");e.length>0&&(n[e[0]]=!0)}break;case"QP-FIELDSET":const r=e.getAttribute("id"),o=e.getAttribute("view.bind"),a={id:r,defaultFields:[],viewId:void 0},l=e.querySelectorAll("field");(null==l?void 0:l.length)>0&&l.forEach((e=>{const t=null==e?void 0:e.getAttribute("name");if(o)a.defaultFields.push(`${o}.${t}`);else if(t){const e=t.split(".");a.defaultFields.push(t),n[e[0]]=!0}})),o&&(n[o]=!0,a.viewId=o),t.fieldsets.push(a);break;case"QP-GRID":const d=e.getAttribute("view.bind");d&&t.grids.push({view:d,columns:[]})}})),t.allViewNames=Object.keys(n),t}t.TabbarFieldsService=new class TabFieldsService{constructor(){this.fieldsInfo={}}initTabbar(e){const t=document.createElement("div");t.innerHTML=e.innerHtml;const i=Array.from(t.getElementsByTagName("QP-TAB"));this.fieldsInfo[e.screenId]=this.fieldsInfo[e.screenId]||{},this.fieldsInfo[e.screenId][e.tabbarId]={};for(const t of i){const i=findAllFieldinfo(t);this.fieldsInfo[e.screenId][e.tabbarId][t.id]=i}}getTabFieldInfo(e){var t,i,n;return null===(n=null===(i=null===(t=this.fieldsInfo)||void 0===t?void 0:t[e.screenId])||void 0===i?void 0:i[e.tabbarId])||void 0===n?void 0:n[e.tabId]}getNecessaryViews(e){var t;const n={},r=this.fieldsInfo[e];for(const e in r)for(const o in r[e]){const a=r[e][o];null===(t=null==a?void 0:a.allViewNames)||void 0===t||t.forEach((e=>n[e]={retrieveMode:i.FieldsRetrieveMode.ErrorsOnly}))}return n}}}.apply(t,n),void 0===r||(e.exports=r)},9582:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(6158),i(2956),i(4834)],r=function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationService=void 0;let l=class TranslationService{constructor(e){this.container=e,this.screenService=e.get(a.ScreenService),this.http=e.get(o.HttpClient),this.processors={}}addTranslationsProcessor(e,t){this.processors[e]=t}removeTranslationsProcessor(e){delete this.processors[e]}setTranslations(e,t){return i.__awaiter(this,void 0,void 0,(function*(){if(!t||0===t.length)return;const i=e.name||"",n=t.map((e=>e.valueString)),r=`${i}Translations`,o=e.view;if((null==o?void 0:o.name)&&this.processors[o.name])return void this.processors[null==o?void 0:o.name](r,n);const a=null==o?void 0:o.getRecordIdByKeys();this.screenService.setScreenParameter((null==o?void 0:o.name)||"",r,n,a),this.screenService.update()}))}sendRequestForLocale(){return i.__awaiter(this,void 0,void 0,(function*(){const e=yield this.http.fetch("ui/locale");if(e.ok)return e.json()}))}};l=i.__decorate([(0,r.autoinject)(),i.__metadata("design:paramtypes",[n.Container])],l),t.TranslationService=l}.apply(t,n),void 0===r||(e.exports=r)},8900:(e,t,i)=>{var n,r;n=[i,t,i(655),i(1255),i("aurelia-framework"),i(7140)],r=function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeApiClient=void 0;const a="tree",l="ui/screen";let d=class TreeApiClient{constructor(e){this.client=e}getData(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const i=yield this.client.fetchExt(`${l}/${(0,o.getScreenID)()}/${a}/data`,e);return this.processTreeData(i,t)}))}processTreeData(e,t){return e.map((e=>{let i=null;t.idParent&&(i=e.columns[t.idParent]&&"null"!==e.columns[t.idParent]?e.columns[t.idParent]:null);const n=this.createItem(e,t);return n.parentId=i,t.idName&&(n.id=e.columns[t.idName]),n}))}getDataFromColumns(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const i=yield this.client.fetchExt(`${l}/${(0,o.getScreenID)()}/${a}/data`,e);return this.processColumnsData(i,e,t)}))}processColumnsData(e,t,i){const n={name:t.view,icon:"",iconColor:"",children:[]},r=[i.iconField,i.idName,i.iconColorField],o=t.columns.filter((e=>!r.includes(e)));for(const t of e)o.reduce(((e,n)=>{var r,o;const a=t.columns[n];let l=null===(r=e.children)||void 0===r?void 0:r.find((e=>e.name===a));return l||(l={name:a,children:[],icon:i.iconField?t.columns[i.iconField]:void 0,iconColor:i.iconColorField?t.columns[i.iconColorField]:void 0},null===(o=e.children)||void 0===o||o.push(l)),l}),n);return n}getTestData(){return i.__awaiter(this,void 0,void 0,(function*(){const e=yield this.client.fetchExt(`${l}/${(0,o.getScreenID)()}/${a}/testdata`,{});try{return JSON.parse(e)}catch(e){return alert(`Invalid input test data for tree ${this.treeId} Error: ${e.message}`),console.error(`Invalid input test data for tree ${this.treeId} Error: ${e.message}`),[]}}))}getNode(e,t){return i.__awaiter(this,void 0,void 0,(function*(){const i=yield this.client.fetchExt(`${l}/${(0,o.getScreenID)()}/${a}/node`,Object.assign(Object.assign({},e),{hideRootNode:t.hideRootNode,openedLayers:t.openedLayers}));return this.processData(i,t)}))}processData(e,t){return e?e.map((e=>{const i=void 0!==e.parentId&&"null"!==e.parentId?e.parentId:null,n=this.createItem(e,t);return n.parentId=i,n.value=t.idName?e.columns[t.idName]:null,t.idParent&&t.idName?n.id=!t.hideRootNode||e.columns[t.idParent]!==i&&""!==e.columns[t.idParent]?e.columns[t.idParent]:e.columns[t.idName]:n.id="",e.isLeaf&&(n.isLeaf=!0),n})):[]}checkAction(e,t){return i.__awaiter(this,void 0,void 0,(function*(){try{const t=yield this.client.fetchExt(`${l}/${(0,o.getScreenID)()}/${a}/action`,e);return"string"==typeof t?(console.error(t),t):(t.actions&&(t.actions=JSON.parse(t.actions)),t.extraColumns&&(t.extraColumns=JSON.parse(t.extraColumns)),t)}catch(e){return e.data}}))}createItem(e,t){const i={name:t.description?e.columns[t.description]:""};if(t.actionField&&e.columns[t.actionField])try{i.actions=JSON.parse(e.columns[t.actionField])}catch(e){alert(`Cannot parse JSON for actions in node id=${i.id}: ${e}`),console.error(`Cannot parse JSON for actions in node id=${i.id}: ${e}`)}if(t.extraColumnField&&e.columns[t.extraColumnField])try{i.extraColumns=JSON.parse(e.columns[t.extraColumnField])}catch(e){alert(`Cannot parse JSON for extra columns in node id=${i.id}: ${e}`),console.error(`Cannot parse JSON for extra columns in node id=${i.id}: ${e}`)}return t.iconField&&e.columns[t.iconField]&&(i.icon=e.columns[t.iconField]),t.iconColorField&&e.columns[t.iconColorField]&&(i.iconColor=e.columns[t.iconColorField]),i}};d=i.__decorate([r.autoinject,i.__metadata("design:paramtypes",[n.BaseApiClient])],d),t.TreeApiClient=d}.apply(t,n),void 0===r||(e.exports=r)},2479:(e,t,i)=>{var n,r;n=[i,t,i(7140),i(8099)],r=function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeService=t.getId=void 0;let r=1;const o=(0,n.getLogger)("tree-service");t.getId=()=>""+r++;const a=null,l={item:null,children:[],opened:!0,initialized:!1,hidden:!1,mark:""};function normalizeItemTreeNode(e,i,n){const r=(0,t.getId)();n.push({name:e.name,id:r,parentId:i,icon:e.icon,iconColor:e.iconColor,actions:e.actions});for(const t of e.children||[])normalizeItemTreeNode(t,r,n)}class TreeService{constructor(){this.itemList=[],this.metaMap={},this.mode="none",this.filterShowChildren=!0,this.filterStart=!1,this.filterIgnoreCase=!0,this.lastSelectedNodeId="",this.lastId=0,this.treeId="",this.defaultDrag="copy",this.modifiable=!1,this.dynamic=!1,this.linkedWithView=!1,this.selectSeparately=!1,this.selectedDrag=!1,this.singleClickSelect=!1,this.iconSize=16,this.checkDropCommand="",this.hovered={id:null,separator:!1},this.checkboxWidth=0,this.openArrowWidth=0,this.treeNodes=[]}buildTree(e){normalizeItemTreeNode(e,a,this.itemList),this.createMetaMap(this.itemList)}createMetaMap(e){e.forEach((e=>{const t=this.metaMap[e.id]||Object.assign(Object.assign({},l),{item:e,selected:!1});this.metaMap[e.id]=t})),e.forEach((e=>{const t=this.metaMap[e.parentId]||Object.assign({},l);this.metaMap[e.parentId]=Object.assign(Object.assign({},t),{children:[...t.children,e.id]}),this.dynamic&&!this.linkedWithView&&null!==e.parentId&&(this.metaMap[e.id].opened=!1)}));for(const e in this.metaMap)this.metaMap[e].testId=this.generateTestId(e)}isInitialized(e){return this.metaMap[e].initialized}toggle(e){const t=this.metaMap[e];this.metaMap=Object.assign(Object.assign({},this.metaMap),{[e]:Object.assign(Object.assign({},t),{opened:!t.opened})})}closeChildren(e){e.opened=!1,e.children.forEach((e=>{this.closeChildren(this.metaMap[e])}))}traverseAndClose(e,t,i){t>=i?this.closeChildren(e):e.children.forEach((e=>{this.traverseAndClose(this.metaMap[e],t+1,i)}))}copyChildren(e,t){return this.applyRecursivelyToChildren(this.metaMap[t].children,(t=>{const i=this.metaMap[t].item;if(!i)return o.error(`Cannot find node ${t} in tree ${this.treeId}`),[];e.push(Object.assign({},i))}),e)}resetFilter(){for(const e in this.metaMap)this.metaMap[e].mark="",this.metaMap[e].hidden=!1}resetSelected(){for(const e in this.metaMap)this.metaMap[e].selected=!1,this.metaMap[e].indeterminate=!1}getParentId(e){const t=this.metaMap[e];return e===a?e:t.item.parentId}getParentChain(e){const t=[];for(;e!==a;)e=this.getParentId(e),t.push(e);return t}getTestIdChain(e){const t=[];for(;e!==a&&"null"!==e;)t.push(this.getTestParentId(e)),e=this.getParentId(e);return t}getTestParentId(e){const t=this.metaMap[e];return this.metaMap[t.item.parentId].children.indexOf(e)}generateTestId(e){if(!this.treeId)return"";const t=this.getTestIdChain(e).reverse();let i=`${this.treeId}_node`;return t.forEach((e=>{i+=`_${e}`})),`${i}`}recalcTestId(e){if(!this.metaMap[e].item)return;const t=this.metaMap[this.metaMap[e].item.parentId],i=t.children.indexOf(e),n=t.children.slice(i,t.children.length);this.recalcChildren(n)}delete(e){const t=this.metaMap[e].item.parentId,i=this.metaMap[t].children.indexOf(e);-1!==i&&this.metaMap[t].children.splice(i,1),this.deleteChildren(e),i>=1?this.recalcTestId(this.metaMap[t].children[i-1]):this.recalcTestId(this.metaMap[t].children[i])}addNewChild(e,t){this.addNewNodeToTree(t),this.metaMap[e].children=[...this.metaMap[e].children.slice(),t.item.id],this.recalcTestId(t.item.id)}addNewSibling(e,t){this.addNewNodeToTree(t),this.insertAfter(e,t),this.recalcTestId(t.item.id)}insertAfter(e,t){const i=this.getParentId(e),n=Object.assign({},this.metaMap[i]),r=n.children.indexOf(e);r<0?o.info("index is not in parent children"):n.children.splice(r+1,0,t.item.id)}generateNewId(){for(;this.metaMap[this.lastId];)this.lastId=this.lastId+1;return this.lastId.toString()}lastIdNumber(){const e=Object.assign({},this.metaMap);return delete e.null,Math.max.apply(null,Object.keys(e))}createDefaultNewNode(e,t){const i=this.generateNewId(),n=Object.assign(Object.assign({},this.metaMap[e].item),{parentId:t,id:i});return Object.assign(Object.assign({},l),{item:Object.assign({},n)})}createCustomNewNode(e,t){return e.parentId=t,Object.assign(Object.assign({},l),{item:Object.assign({},e)})}addNewNodeToTree(e){var t;this.metaMap[null===(t=e.item)||void 0===t?void 0:t.id]=e,this.itemList.push(e.item)}draggedNodes(e){const t=this.metaMap[e].item;if(!t)return o.error(`Cannot find node ${e} in tree ${this.treeId}`),[];const i=[Object.assign({},t)];return this.copyChildren(i,e)}draggedSelectedNodes(){const e=[];for(const t in this.metaMap){const i=this.metaMap[t];i.selected&&0===i.children.length&&i.item&&e.push(Object.assign({},i.item))}return e}getRootTree(){return this.copyChildren([],null)}modifyids(e,t){e.map((e=>{e.id=(+e.id+t).toString(),e.parentId=(+e.parentId+t).toString()}))}insertNode(e,t,i){const n=Object.assign({},this.metaMap[e]);n.children.length?n.children.splice(i+1,0,t):n.children=[t],this.metaMap[t].item.parentId=e,this.metaMap[e]=n}dropNode(e,t,i,n=this.treeId){i.forEach((i=>{if(n!==this.treeId){const r=this.getTreeServiceById(n),o=r.draggedNodes(i),a=this.lastIdNumber()+1;r.modifyids(o,a),this.createMetaMap(o);const l=(+i+a).toString();this.insertNode(e,l,t),"cut"===this.defaultDrag&&r.delete(i),this.recalcTestId(l.toString()),r.resetHover()}else{if(!this.isDroppable(i,this.metaMap[e].children[t]||e))return;const n=this.getParentId(i);let r=[];if(e!==n&&i!==n&&this.metaMap[e].children[t]!==e){const o=Object.assign({},this.metaMap[n]),a=o.children.indexOf(i);r=o.children.slice(a+1),o.children=o.children.filter((e=>e!==i)),this.insertNode(e,i,t),this.metaMap[n]=o}else{const e=Object.assign({},this.metaMap[n]);e.children=e.children.filter((e=>e!==i)),e.children.splice(t,0,i),this.metaMap[n]=e}r.forEach((e=>{this.recalcTestId(e)})),this.recalcTestId(i)}this.resetHover()}))}isDroppable(e,t){if(e===t)return o.info("These must be different"),!1;if(e===a||t===a)return o.info("Do not use the root node"),!1;if(this.getParentChain(t).includes(e))return o.info("Cannot move unto self"),!1;return!0}resetHover(){this.hovered.id=null,this.hovered.separator=!1}resetTree(){for(const e in this.metaMap)this.metaMap[e].children=[],this.metaMap[e].item=null;this.metaMap={},this.itemList=[],this.treeNodes=[]}selectSingle(e){var t,i,n;return""!==this.lastSelectedNodeId&&this.metaMap[this.lastSelectedNodeId]&&(this.metaMap[this.lastSelectedNodeId].selected=!1),this.lastSelectedNodeId=e,this.metaMap[e]?(this.metaMap[e].selected=!0,[{id:null===(t=this.metaMap[e].item)||void 0===t?void 0:t.id,text:null===(i=this.metaMap[e].item)||void 0===i?void 0:i.name,value:null===(n=this.metaMap[e].item)||void 0===n?void 0:n.value}]):[]}selectMulti(e){var t;const i=this.metaMap[e],n=!i.selected;this.metaMap=Object.assign(Object.assign({},this.metaMap),{[e]:Object.assign(Object.assign({},i),{selected:n,indeterminate:!1})});let r=this.metaMap[null===(t=i.item)||void 0===t?void 0:t.parentId];if(!this.selectSeparately){for(;r.item&&r.item.id;)this.allChildrenSame(r.children,n)?(r.selected=n,r.indeterminate=!1):r.indeterminate=!0,r=this.metaMap[r.item.parentId];this.selectChildren(i.children,!i.selected)}}collectInfo(){var e,t,i,n,r,o;const a=[];for(const l in this.metaMap){const d=this.metaMap[l];if((0===d.children.length||this.selectSeparately)&&d.selected){let l;if(null===(null===(e=d.item)||void 0===e?void 0:e.value))continue;l=void 0===(null===(t=d.item)||void 0===t?void 0:t.value)?null===(i=d.item)||void 0===i?void 0:i.id:null===(n=d.item)||void 0===n?void 0:n.value,a.push({id:l,text:null===(r=d.item)||void 0===r?void 0:r.name,value:null===(o=d.item)||void 0===o?void 0:o.value})}}return a}getNested(e){const t=[this.getNode(e)];return this.getChildren(this.metaMap[e].children,t),t}getEventNested(e,t){const i=this.getEventNode(e);t&&(i.oldParentId=t);const n=[i];return this.getEventChildren(this.metaMap[e].children,n),n}getNode(e){var t,i;const n=this.metaMap[e];return{id:null===(t=n.item)||void 0===t?void 0:t.id,text:null===(i=n.item)||void 0===i?void 0:i.name}}getEventNode(e){var t,i;const n=this.metaMap[e],r=this.getPrevNodeId(e);return{id:e,parentId:null===(t=n.item)||void 0===t?void 0:t.parentId,text:null===(i=n.item)||void 0===i?void 0:i.name,prevNodeId:r}}getPrevNodeId(e){var t;const i=this.metaMap[null===(t=this.metaMap[e].item)||void 0===t?void 0:t.parentId],n=i.children.indexOf(e);return-1!==n&&n>0?i.children[n-1]:null}allChildrenSame(e,t){return e.every((e=>this.metaMap[e].selected===t&&!this.metaMap[e].indeterminate))}setFilter(e){if(this.resetFilter(),""===e)return;const t=new Set,n=new i.TextParter(e);this.itemList.forEach((e=>{n.hasMatch(e.name)&&(this.markTillRoot(t,e.id),this.filterShowChildren&&this.markChildren(this.metaMap[e.id].children,t))}));for(const i in this.metaMap){const n=this.metaMap[i];t.has(i)?(n.mark=e,n.children.length>0&&(n.opened=!0),n.hidden=!1):n.hidden=!0}return t.size}setDynamicFilter(e){if(this.resetFilter(),""===e)return;const t=new Set,n=[],r=new i.TextParter(e);return this.filterChildren(this.metaMap.null.children,t,r),null==t||t.forEach((t=>{var i,r;this.showChildren([t]),this.showTillRoot(null===(i=this.metaMap[t].item)||void 0===i?void 0:i.parentId);const o=this.metaMap[t];o.mark=e,!o.opened&&(null===(r=o.item)||void 0===r?void 0:r.name)&&(o.item.parentId&&!this.metaMap[o.item.parentId].initialized&&(n.push(o.item.parentId),this.metaMap[o.item.parentId].opened=!0),n.push(t))})),n}getTreeServiceById(e){return document.getElementById(e).au.controller.container.get(TreeService)}getEventChildren(e,t){e.forEach((e=>{t.push(this.getEventNode(e)),this.metaMap[e].children.length>0&&this.getEventChildren(this.metaMap[e].children,t)}))}getChildren(e,t){e.forEach((e=>{t.push(this.getNode(e)),this.metaMap[e].children.length>0&&this.getChildren(this.metaMap[e].children,t)}))}markTillRoot(e,t){var i;e.has(t)||(e.add(t),t!==a&&this.markTillRoot(e,null===(i=this.metaMap[t].item)||void 0===i?void 0:i.parentId))}showTillRoot(e){var t;this.metaMap[e].hidden=!1,this.metaMap[e].opened=!0,e!==a&&this.showTillRoot(null===(t=this.metaMap[e].item)||void 0===t?void 0:t.parentId)}showChildren(e){this.applyRecursivelyToChildren(e,(e=>{this.metaMap[e].hidden=!1}))}filterChildren(e,t,i){e.forEach((e=>{const n=this.metaMap[e].item;this.metaMap[e].hidden=!0,i.hasMatch(n.name)?(t.add(n.id),this.filterShowChildren&&this.markChildren(this.metaMap[e].children,t)):this.filterChildren(this.metaMap[e].children,t,i)}))}applyRecursivelyToChildren(e,t,i=null){return e.forEach((e=>{t(e),this.metaMap[e].children.length>0&&this.applyRecursivelyToChildren(this.metaMap[e].children,t,i)})),i}markChildren(e,t){this.applyRecursivelyToChildren(e,t.add.bind(t),t)}selectChildren(e,t){this.applyRecursivelyToChildren(e,(e=>{this.metaMap[e].selected=t,this.metaMap[e].indeterminate=!1}),t)}recalcChildren(e){this.applyRecursivelyToChildren(e,(e=>{this.metaMap[e].testId=this.generateTestId(e)}))}deleteChildren(e){this.metaMap[e].children.forEach((e=>{this.deleteChildren(e);const t=this.itemList.findIndex((t=>t.id===e));-1!==t&&this.itemList.splice(t,1),delete this.metaMap[e]})),this.metaMap[e].children=[]}}t.TreeService=TreeService}.apply(t,n),void 0===r||(e.exports=r)},2025:(e,t,i)=>{var n,r;n=[i,t,i(655),i("aurelia-framework"),i(3869)],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WikiBehavior=t.WikiTooltipServiceFabric=t.WikiTooltipService=void 0;class WikiTooltipService{constructor(e){this.apiClient=e}getWikiTooltip(e){return i.__awaiter(this,void 0,void 0,(function*(){return this.apiClient.getWikiTooltipData(e)}))}getWikiSetting(){return i.__awaiter(this,void 0,void 0,(function*(){const e=yield this.getWikiSettingData();if(e){const t={behavior:a.Disabled};return t.behavior=this.toWikiBehavior(e.behavior),t}return null}))}toWikiBehavior(e){let t=a.Disabled;switch(e.toString().toLowerCase()){case"2":case"hover":t=a.Hover;break;case"3":case"none":t=a.Disabled}return t}getWikiSettingData(){return i.__awaiter(this,void 0,void 0,(function*(){return yield this.apiClient.getWikiSetting()}))}}t.WikiTooltipService=WikiTooltipService;let o=class WikiTooltipServiceFabric{constructor(e){this.apiClient=e}getWikiTooltipService(){return new WikiTooltipService(this.apiClient)}};var a;o=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[r.ApiClient])],o),t.WikiTooltipServiceFabric=o,function(e){e[e.Hover=2]="Hover",e[e.Disabled=3]="Disabled"}(a=t.WikiBehavior||(t.WikiBehavior={}))}.apply(t,n),void 0===r||(e.exports=r)},8667:(e,t,i)=>{var n,r;n=[i,t,i(655),i(7699),i("aurelia-framework")],r=function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BusyCounter=void 0;let o=class BusyCounter{constructor(e){var t,i;this.tq=e,this.counter=0,null!==(t=(i=window).busyService)&&void 0!==t||(i.busyService=this)}increment(){++this.counter}decrement(){--this.counter}get Busy(){var e;return!!this.counter||(null===(e=this.tq.taskQueue)||void 0===e?void 0:e.length)}get Counter(){return this.counter}};o=i.__decorate([n.autoinject,i.__metadata("design:paramtypes",[r.TaskQueue])],o),t.BusyCounter=o}.apply(t,n),void 0===r||(e.exports=r)},4609:(e,t,i)=>{var n,r;n=[i,t,i("aurelia-framework"),i(2374)],r=function(e,t,i,n){"use strict";function isDate(e){return e instanceof Date||e&&"Date"===e.constructor.name}function getInvariantDate(e,t=!1){let i="";if(null!=e){if(i=[e.getMonth()+1,e.getDate(),e.getFullYear()].join("/"),!t){const t=[e.getHours(),e.getMinutes(),e.getSeconds()],n=e.getMilliseconds();(t[0]||t[1]||t[2]||n)&&(i+=` ${t.join(":")}`),n&&(i+=`.${n.toString().padStart(3,"0")}`)}}return i}function isScriptLoaded(e){return document.querySelector(`script[src="${e}"]`)}function isObject(e){return e&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.deepMerge=t.isObject=t.refreshMenu=t.isLegacyEnv=t.isScriptLoaded=t.loadScript=t.addTextToClipboard=t.getInvariantDate=t.getInvariantText=t.netTypeConvert=t.scrollToView=t.isInViewport=t.applyDefaultValues=t.isDate=t.isNumeric=t.isVisible=t.isLetter=t.getCompanyFromUrl=t.getScreenID=t.registerQAObject=t.isDigit=t.formatNumber=t.formatDate=t.camelToDash=t.compareStrings=t.getRawValue=t.equals=void 0,t.equals=function equals(e,t){return!(null==e&&null!=t||null==t&&null!=e)&&(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t)},t.getRawValue=function getRawValue(e){return e&&e.id?e.id:e},t.compareStrings=function compareStrings(e,t,i){return i&&(e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase())),e===t},t.camelToDash=function camelToDash(e){return e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`))},t.formatDate=function formatDate(e,t,i){if(1===t.length)switch(t){case"d":t=i.shortDate;break;case"D":t=i.longDate;break;case"t":t=i.shortTime;break;case"T":t=i.longTime;break;case"g":t=`${i.shortDate} ${i.shortTime}`;break;case"G":t=`${i.shortDate} ${i.longTime}`;break;case"f":t=`${i.longDate} ${i.shortTime}`;break;case"F":t=`${i.longDate} ${i.longTime}`}let n="",r=!1;const o=i.monthNames.split(","),a=i.dayNames.split(",");for(let l=0;l<t.length;l++){if(r){n+=t.substr(l,1),r=!1;continue}if("\\"===t.charAt(l)){r=!0;continue}let d=t.substr(l,4),c="";switch(d){case"MMMM":case"dddd":c=o[e.getMonth()];break;case"yyyy":c=e.getFullYear().toString()}if(c)n+=c,l+=3;else{switch(d=t.substr(l,3),d){case"MMM":c=o[e.getMonth()].substr(0,3);break;case"ddd":c=a[e.getDay()].substr(0,3)}if(c)n+=c,l+=2;else{switch(d=t.substr(l,2),d){case"MM":c=(e.getMonth()+1).toString(),1===c.length&&(c=`0${c}`);break;case"dd":c=e.getDate().toString(),1===c.length&&(c=`0${c}`);break;case"yy":c=(e.getFullYear()%100).toString(),1===c.length&&(c=`0${c}`);break;case"HH":c=e.getHours().toString(),1===c.length&&(c=`0${c}`);break;case"hh":{let t=e.getHours();0===t?t=12:t>12&&(t-=12),c=t.toString(),1===c.length&&(c=`0${c}`);break}case"mm":c=e.getMinutes().toString(),1===c.length&&(c=`0${c}`);break;case"ss":c=e.getSeconds().toString(),1===c.length&&(c=`0${c}`);break;case"tt":{let t=!1;e.getHours()>=12&&(t=!0),c=t?i.pm:i.am;break}}if(c)n+=c,l+=1;else{switch(d=t.substr(l,1),d){case"M":c=(e.getMonth()+1).toString();break;case"d":c=e.getDate().toString();break;case"y":c=(e.getFullYear()%100).toString();break;case"H":c=e.getHours().toString();break;case"h":{let t=e.getHours();0===t?t=12:t>12&&(t-=12),c=t.toString();break}case"m":c=e.getMinutes().toString();break;case"s":c=e.getSeconds().toString()}n+=c||t.substr(l,1)}}}}return n},t.formatNumber=function formatNumber(e,t,i){const n=i.number.decimalSeparator,r=i.number.groupSeparator;let o=e.toLocaleString("en-US",{minimumFractionDigits:t,useGrouping:t>0});const a=o.split(".");return o=a[0].replace(/,/g,r),a.length>1?o+n+a[1]:o},t.isDigit=function isDigit(e){return"string"==typeof e&&(e=e.charCodeAt(0)),e>47&&e<58},t.registerQAObject=function registerQAObject(e,t){const i=window;i.qaObject||(i.qaObject={}),i.qaObject[e]=t},t.getScreenID=function getScreenID(){let e=window.__screenID;const t=window.location.pathname;return e=e?e.replace(/\./g,""):t.substr(t.lastIndexOf("/")+1).replace(".aspx","").replace(".html","").toUpperCase(),e},t.getCompanyFromUrl=function getCompanyFromUrl(){let e=i.PLATFORM.global.top.location.search;"?"===e[0]&&(e=e.substring(1));const t=e.split("&").find((e=>e.toLowerCase().startsWith("companyid")));return null==t?void 0:t.split("=")[1]},t.isLetter=function isLetter(e){return"number"==typeof e&&(e=String.fromCharCode(e)),e.charCodeAt(0)>255||e.toUpperCase()!==e.toLowerCase()},t.isVisible=function isVisible(e){try{return e&&null!=e.offsetParent}catch(e){}return!1},t.isNumeric=function isNumeric(e){return null!=e&&e>=n.NetType.SByte&&e<=n.NetType.Decimal},t.isDate=isDate,t.applyDefaultValues=function applyDefaultValues(e,t){const i=Object.assign({},e);!function clearUndefinedProps(e){for(const t in e)void 0===e[t]&&delete e[t]}(i),Object.assign(e,t,i)},t.isInViewport=function isInViewport(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},t.scrollToView=function scrollToView(e,t,i=n.ScrollMode.Both){if(null==t||e.scrollWidth<=e.offsetWidth&&e.scrollHeight<=e.offsetHeight)return;const r=e.offsetParent.getBoundingClientRect(),o=e.getBoundingClientRect(),a=t.getBoundingClientRect(),l=a.left-r.left,d=o.left-r.left,c=a.top-r.top,p=o.top-r.top,u=l+t.offsetWidth,h=d+e.offsetWidth,g=c+t.offsetHeight,m=p+e.offsetHeight,f=e.offsetWidth-e.clientWidth,v=e.offsetHeight-e.clientHeight;let b=-1,y=-1;const x=i===n.ScrollMode.Both||i===n.ScrollMode.Vertical,C=i===n.ScrollMode.Both||i===n.ScrollMode.Horizontal;x&&(g>m-v&&c-(g-m)>p&&(b=e.scrollTop+(g-m)+v),c<p&&(b=e.scrollTop-(p-c))),C&&(u>h-f&&l-(u-h)>d&&(y=e.scrollLeft+(u-h)+f),l<d&&(y=e.scrollLeft-(d-l))),x&&b>=0&&(e.scrollTop=b),C&&y>=0&&(e.scrollLeft=y)},t.netTypeConvert=function netTypeConvert(e,t){if(null==e)return null;let i=e;if(t===n.NetType.Boolean)"boolean"!=typeof e&&(e&&"string"==typeof e&&("0"!==e&&"false"!==e.toLowerCase()||(e=!1)),i=Boolean(e));else if(t>=n.NetType.SByte&&t<=n.NetType.UInt64)"number"!=typeof e&&(i=parseInt(e),isNaN(i)&&(i=0));else if(t>=n.NetType.Single&&t<=n.NetType.Decimal)"number"!=typeof e&&(i=parseFloat(e),isNaN(i)&&(i=0));else if(t===n.NetType.DateTime){if(!(e instanceof Date)){const t=e.toString().split(".");let n=t.length>1?t[1]:null;i="string"==typeof e&&t[0].startsWith("@")?NaN:new Date(Date.parse(t[0])),null!=n&&i instanceof Date&&(n=parseInt(n),isNaN(n)||i.setMilliseconds(n))}}else t!==n.NetType.Char&&t!==n.NetType.String||(i=String(e));return i},t.getInvariantText=function getInvariantText(e){let t="";return null==e||(t=isDate(e)?getInvariantDate(e):"boolean"==typeof e?e?"True":"False":e.toString()),t},t.getInvariantDate=getInvariantDate,t.addTextToClipboard=function addTextToClipboard(e){try{navigator.clipboard.writeText(e)}catch(t){const i=document.createElement("textarea");i.style.position="fixed",i.style.left="0",i.style.top="0",i.style.opacity="0",i.value=e,document.body.appendChild(i),i.focus(),i.select(),document.execCommand("copy"),document.body.removeChild(i)}},t.loadScript=function loadScript(e,t){var i;const load=()=>{t&&t()};if(isScriptLoaded(e))load();else{const t=document.createElement("script");t.type="text/javascript",t.defer=!0,t.src=e,t.charset="utf-8",t.addEventListener("load",load);const n=document.getElementsByTagName("script")[0];null===(i=null==n?void 0:n.parentNode)||void 0===i||i.insertBefore(t,n)}},t.isScriptLoaded=isScriptLoaded,t.isLegacyEnv=function isLegacyEnv(){return!!i.PLATFORM.global.px},t.refreshMenu=function refreshMenu(){var e;null===(e=i.PLATFORM.global.top)||void 0===e||e.frameHelper.refreshMenu()},t.isObject=isObject,t.deepMerge=function deepMerge(e,t,...i){if(!i.length||!isObject(e))return e;const n=e,r=i.length;for(let e=0;e<r;e+=1){const r=i[e];if(isObject(r))for(const e in r)r.hasOwnProperty(e)&&(isObject(r[e])?(n[e]&&isObject(n[e])||(n[e]={}),deepMerge(n[e],t,r[e])):Array.isArray(n[e])&&Array.isArray(r[e])?n[e]=Array.from(new Set(n[e].concat(r[e]))):!t&&n.hasOwnProperty(e)||(n[e]=r[e]))}return n}}.apply(t,n),void 0===r||(e.exports=r)},8135:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePathRelativeTo=void 0,t.makePathRelativeTo=function makePathRelativeTo(e,t){if(!e||!t)return e;const i=e.includes("\\")?"\\":"/",n=e.split(i),r=t.split(i),o=Math.min(n.length,r.length);let a=0;for(;a<o&&n[a]===r[a];)a++;const l=[];let d=a;for(;d<r.length;)l.push(".."),d++;let c=a;for(;c<n.length;)l.push(n[c]),c++;return l.join("/")}}.apply(t,[i,t]),void 0===n||(e.exports=n)},7140:(e,t,i)=>{var n,r;n=[i,t,i(655),i(4609),i(9282),i(7348),i(2154),i(8135),i(9661),i(8667)],r=function(e,t,i,n,r,o,a,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.__exportStar(n,t),i.__exportStar(r,t),i.__exportStar(o,t),i.__exportStar(a,t),i.__exportStar(l,t),i.__exportStar(d,t),i.__exportStar(c,t)}.apply(t,n),void 0===r||(e.exports=r)},9282:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markHighlights=void 0,t.markHighlights=function markHighlights(e,t){if(!e||!t)return[{highlight:!1,text:null!=t?t:""}];const i=e.split(" ").filter((e=>e.length>0)).map((e=>{const t=e.toUpperCase();return{str:t,len:t.length}})),n=t.toUpperCase(),r=Array.from({length:n.length});for(let e=0;e<r.length;e++)r[e]=!1;const o=[];i.forEach((e=>{let t=0,i=-1;do{if(i=n.indexOf(e.str,t),i>-1){for(let t=i;t<i+e.len;t++)r[t]=!0;t=i+e.len}}while(i>-1)}));let a=!1,l=0;do{const e=l;for(;r[l]===a&&l<r.length;)l++;l>e&&o.push({highlight:a,text:t.substring(e,l)}),a=r[l]}while(l<r.length);return o}}.apply(t,[i,t]),void 0===n||(e.exports=n)},7348:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitMask=t.maskFilter=t.encodeMask=t.formatByMask=t.MaskParts=t.getMaskParts=void 0,t.getMaskParts=function getMaskParts(e){const t=encodeMask(e),i=splitMask(t);return new MaskParts(t,i[0],i[1],i[2])};class MaskParts{constructor(e,t,i,n){this.maskFull=e,this.mask=t,this.maskExclude=i,this.maskInclude=n}}function encodeMask(e){let t,i,n=0,r="";const o=splitMask(e),a=o[0],l=o[1],d=o[2];for(let e=0;e<a.length;e++)if(i=a.charAt(e),0!==(t=maskFlag(i,n))){if(t<0){n=n===-t?0:-t;continue}r+=String.fromCharCode(t)}else"\\"===i&&e+1<a.length?(i=a.charAt(e+1),0!==maskFlag(i,0)&&(r+=i,e++)):r+=i;return l&&(r+="|"+l),d&&(l||(r+="|"),r+="|"+d),r}function maskFilter(e,t,i,n,r,o){if(i>=t.length)return n;const a=t.charCodeAt(i);let l=t.charAt(i);if(a<21||r&&-1!==r.indexOf(l))return n;if(o&&-1!==o.indexOf(l))return l;switch(Math.floor((e-1)/6)){case 0:break;case 1:if(a>47&&a<58)return l;case 2:if(a>255||l.toUpperCase()!==l.toLowerCase())break;return n;case 3:return a>47&&a<58?l:n}return 0==(e=Math.floor((e-1)/2)%3)?l:(function isGeorgianSymbol(e){return e>=4256&&e<=4351}(a)||(l=2===e?l.toLowerCase():l.toUpperCase()),r&&-1!==r.indexOf(l)?n:l)}function splitMask(e){null==e&&(e="");const t=e.split("|");return 1===t.length&&(t[1]=""),2===t.length&&(t[2]=""),t}function maskFlag(e,t){let i;switch(e){case">":return-1;case"<":return-2;case"&":i=1;break;case"C":i=2;break;case"A":i=7;break;case"a":i=8;break;case"L":i=13;break;case"?":i=14;break;case"#":case"0":return 19;case"9":return 20;default:return 0}return i+2*t}t.MaskParts=MaskParts,t.formatByMask=function formatByMask(e,t,i,n){null==n&&(n=0),null==t&&(t=""),null==i&&(i="");const r=splitMask(e);let o,a,l="",d=0;const c=r[0],p=r[1],u=r[2];for(let e=0;e<c.length;e++)(a=c.charCodeAt(e))<21?(o=null,d<t.length&&(o=maskFilter(a,t,d,null,p,u),d++),l+=o||i):(l+=c.charAt(e),n>0&&d++);return l},t.encodeMask=encodeMask,t.maskFilter=maskFilter,t.splitMask=splitMask}.apply(t,[i,t]),void 0===n||(e.exports=n)},630:(e,t,i)=>{var n,r;n=[i,t,i(1015)],r=function(e,t,i){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.browser=t.dateFormatInfo=t.numberFormatInfo=t.siteRoot=t.topDocument=t.topWindow=void 0,i.PLATFORM.global.getViewModelById=function getViewModelById(e){var t;let i=document.getElementById(e);if(i)do{if(null===(t=i.au)||void 0===t?void 0:t.controller){const e=i.au.controller;return e.viewModel.currentViewModel?e.viewModel.currentViewModel:e.viewModel}i=i.parentNode}while(i);else;};let o,a=i.PLATFORM.global;try{a=a.top,o=a.document}catch(e){a=i.PLATFORM.global}t.topWindow=a,t.topDocument=t.topWindow.document;const l=i.PLATFORM.global.location.pathname;t.siteRoot=function normalizeSiteRoot(e){let t=null==e?void 0:e.split("/"),i=e;return t&&(t=t.filter((e=>!e.startsWith("(W("))),i=t.join("/")),i}(l.substring(0,l.toLowerCase().indexOf("scripts/")));t.numberFormatInfo=()=>t.topWindow._numbFormatInfo;t.dateFormatInfo=()=>t.topWindow._dateFormatInfo||{abbrMonthNames:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December,",dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",abbrDayNames:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"};const d=(null===(r=null===(n=i.PLATFORM.global)||void 0===n?void 0:n.navigator)||void 0===r?void 0:r.userAgent.toLowerCase())||"",c=d.indexOf("msie")>=0,p=d.indexOf("edge")>=0,u=d.indexOf("rv:11.0")>0,h=c||u,g=d.indexOf("safari")>=0,m=d.indexOf("firefox"),f=m>=0?parseFloat(d.substr(m+8,3)):0,v=m>=0,b=v&&f>=65,y=d.indexOf("webkit")>=0,x=window.chrome,C=window.navigator.vendor,_=void 0!==window.opr,S=!window.navigator.userAgent.match("CriOS")&&null!=x&&"Google Inc."===C&&!_&&!p,E=x||S;t.browser={isIE:c,isEdge:p,isIE11:u,isAnyIE:h,isOpera:_,isSafari:g,isFirefox:v,isFirefoxFrom65:b,isWebKit:y,isChrome:E,isChromium:x,isGoogleChrome:S}}.apply(t,n),void 0===r||(e.exports=r)},9661:(e,t,i)=>{var n,r;n=[i,t,i(655)],r=function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadScriptAsync=t.wait=void 0;t.wait=e=>i.__awaiter(void 0,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}));t.loadScriptAsync=e=>i.__awaiter(void 0,void 0,void 0,(function*(){return new Promise(((t,i)=>{try{const n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.addEventListener("load",(()=>{t()})),n.addEventListener("error",(()=>{i()})),document.body.appendChild(n)}catch(e){i(e)}}))}))}.apply(t,n),void 0===r||(e.exports=r)},2154:(e,t,i)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextParter=void 0;t.TextParter=class TextParter{constructor(e,t=!0){this.search=e,this.ignoreCase=t}hasMatch(e){return this.ignoreCase?-1!==e.toLowerCase().indexOf(this.search.toLowerCase()):-1!==e.indexOf(this.search)}getTextParts(e){const t=[],i=this.ignoreCase?e.toLowerCase():e,n=this.ignoreCase?this.search.toLowerCase():this.search,r=i.split(n);let o=0;return r.length>1?(r.forEach((i=>{t.push({text:e.substr(o,i.length),selected:!1},{text:e.substr(o+i.length,n.length),selected:!0}),o+=i.length+n.length})),t.pop(),t):[{text:e,selected:!1}]}}}.apply(t,[i,t]),void 0===n||(e.exports=n)},6590:(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".btn-address-lookup {\r\n\tcolor: black;\r\n}\r\n\r\n.flex-container {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n}\r\n\r\n.flex-container-notconf {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\tjustify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.flex-item {}\r\n\r\n.mapContainer,\r\n#addressautocompletemap {\r\n\tz-index: 1000;\r\n}\r\n\r\n.customNavBar {\r\n\tposition: absolute;\r\n\ttop: 15px;\r\n\tleft: 15px;\r\n\tright: 200px;\r\n\tmax-width: 600px;\r\n\tz-index: 0;\r\n}\r\n\r\n.pac-container {\r\n\tz-index: 10001;\r\n}\r\n\r\n.pac-container:after {\r\n\t/* Disclaimer: not needed to show 'powered by Google' if also a Google Map is shown */\r\n\r\n\tbackground-image: none !important;\r\n\theight: 0px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/abstract/screen-base-view-model/screen-base-view-model.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'body\r\n{\r\n\theight: 100%;\r\n\tmargin: 0px;\r\n\tborder: 0px;\r\n\tline-height: normal !important;\r\n}\r\n\r\nbody, input, textarea\r\n{\r\n\tfont-family: Arial, sans-serif !important;\r\n\tfont-size: var(--qp-regular-font-size);\r\n}\r\n\r\n*, *::before, *::after\r\n{\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n*:focus {\r\n\toutline: none;\r\n }\r\n\r\n/*--------------- Styles for render icons using css sprites ---------------*/\r\n.sprite-icon [class*="main-"], .sprite-icon [class*="control-"], .sprite-icon [class*="text-"]\r\n{\r\n\t/* use !important to prevent issues with browser extensions that change fonts */\r\n\tfont-family: \'FontAwesome\' !important;\r\n\tspeak: none;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: 1;\r\n\r\n\t/* Better Font Rendering =========== */\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.sprite-icon\r\n{\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n }\r\n\r\n.main-icon\r\n{\r\n\theight: 16px; width: 16px; font-size: 16px;\r\n}\r\n.main-icon-img\r\n{\r\n\tposition: absolute;\r\n}\r\n\r\n.control-icon\r\n{\r\n\theight: 12px;\r\n\twidth: 12px;\r\n\tfont-size: 12px;\r\n}\r\n.control-icon-img\r\n{\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n}\r\n\r\n.control-icon[icon^="Selector"]\r\n{\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tfont-size: 16px;\r\n\topacity: 0.64;\r\n\t/* cursor: pointer;  */\r\n}\r\n',""]),e.exports=r},"client-controls/controls/compound/address-lookup/qp-address-lookup.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".btn-address-lookup {\r\n\tcolor: black;\r\n}\r\n\r\n.flex-container {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n}\r\n\r\n.flex-container-notconf {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\tjustify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.flex-item {}\r\n\r\n.mapContainer,\r\n#addressautocompletemap {\r\n\tz-index: 1000;\r\n}\r\n\r\n.customNavBar {\r\n\tposition: absolute;\r\n\ttop: 15px;\r\n\tleft: 15px;\r\n\tright: 200px;\r\n\tmax-width: 600px;\r\n\tz-index: 0;\r\n}\r\n\r\n.pac-container {\r\n\tz-index: 10001;\r\n}\r\n\r\n.pac-container:after {\r\n\t/* Disclaimer: not needed to show 'powered by Google' if also a Google Map is shown */\r\n\r\n\tbackground-image: none !important;\r\n\theight: 0px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/currency/qp-currency.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".currency-container {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: 32px;\r\n\tgap: 6px;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.currency-container > * {\r\n\tflex: 0 1 0;\r\n}\r\n\r\n.currency-container > :first-child {\r\n\tflex-grow: 2;\r\n}\r\n\r\n.current-currency-select {\r\n\twidth: 33%;\r\n\tmin-width: 60px;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.rate-select {\r\n\twidth: 100px;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.base-currency {\r\n\twidth: 166px;\r\n}\r\n\r\n.currency-rate-dialog > *:not(:last-child) {\r\n\tmargin-bottom: 6px;\r\n\tpadding: 0;\r\n}\r\n\r\n.rate-caption {\r\n\tfont-size: 13px;\r\n\tcolor: #007ACC;\r\n\theight: 24px;\r\n\twidth: auto;\r\n\tpadding: 3px 6px 0px 0px;\r\n\ttext-transform: uppercase;\r\n\ttext-align: left;\r\n}\r\n\r\n.rate-values {\r\n\tmargin-top: 3px;\r\n\tpadding: 0;\r\n    border: 0;\r\n    margin-left: 0;\r\n    border-top: 1px solid #007ACC;\r\n\tdisplay: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.rate-values-row {\r\n\tdisplay: flex;\r\n    flex-direction: row;\r\n}\r\n\r\n.rate-values-label {\r\n    padding: 4px 4px 0px 15px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/formula-editor/qp-formula-editor.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'.qp-formula-editor,\r\n.qp-formula-editor * {\r\n\tbox-sizing: border-box;\r\n}\r\n\r\nqp-formula-editor {\r\n\tdisplay: block;\r\n\tborder: 0;\r\n}\r\n\r\nqp-formula-editor.GridCellEditor div.formula-editor-control {\r\n\tbox-sizing: content-box;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.formula-editor-control:not(.formula-editor-control--combo) {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\tbackground-color: #FFFFFF;\r\n\theight: var(--qp-input-height);\r\n\tborder: 1px solid var(--qp-border-color);\r\n\tborder-radius: var(--qp-input-border-radius);\r\n\tfont-size: 13px;\r\n\tposition: relative;\r\n}\r\n\r\n.formula-editor-control--combo {\r\n\tposition: relative;\r\n}\r\n\r\nqp-grid .formula-editor-control qp-drop-down,\r\nqp-grid .formula-editor-control .drop-down__editor {\r\n\theight: 100%;\r\n}\r\n\r\n.formula-editor-control--dropdown-shown {\r\n\tborder-bottom-left-radius: 0;\r\n\tborder-bottom-right-radius: 0;\r\n}\r\n\r\n.formula-editor-control.focus {\r\n\tborder: 1px solid var(--qp-primary-color);\r\n\tbox-shadow: inset 0 0 0 1px var(--qp-primary-color);\r\n}\r\n\r\n.formula-editor-control.ReadOnly {\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: var(--qp-border-color);\r\n\tborder-radius: 0;\r\n}\r\n\r\n.formula-editor-control__display-text--invisible + span + span.formula-editor-control__text {\r\n\tdisplay: inline;\r\n\tline-height: 22px;\r\n}\r\n\r\n.formula-editor-control__text {\r\n\tdisplay: none;\r\n\tvertical-align: middle;\r\n\tpadding: 0px 6px 0px 6px;\r\n}\r\n\r\n.formula-editor-control__cont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 28px;\r\n\theight: var(--input-height);\r\n\tflex: 1;\r\n}\r\n\r\n.formula-editor-control__cont--combo {\r\n\tmargin-right: 50px;\r\n}\r\n\r\n.formula-editor-control__wrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.formula-editor-control__buttons-cont,\r\n.formula-editor-control__buttons-overlay-cont {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 5px;\r\n}\r\n\r\n@media (max-width: 812px) {\r\n\t.formula-editor-control__buttons-cont {\r\n\t\tdisplay: none;\r\n\t}\r\n}\r\n\r\n@media (min-width: 813px) {\r\n\t.formula-editor-control--combo .buttonsCont {\r\n\t\tright: 25px;\r\n\t}\r\n}\r\n\r\n.formula-editor-control__toggle-button {\r\n\tbackground: none;\r\n\tborder: none;\r\n\tpadding: 0;\r\n}\r\n\r\n.formula-editor-control .sprite-icon {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n}\r\n\r\n.formula-editor-control .control-icon {\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.formula-editor-control .sprite-icon .control-icon-img {\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\tfont-size: 15px;\r\n\topacity: 1;\r\n\tcolor: var(--label-color);\r\n}\r\n\r\n.formula-editor-control .sprite-icon:hover .control-icon-img {\r\n\tcolor: #000000;\r\n}\r\n\r\n.formula-editor-control .control-icon-img.control-EditN:before {\r\n\tcontent: "\\e97b";\r\n}\r\n\r\n.formula-editor-control .control-ArrowDown {\r\n\tmargin-top: 2px;\r\n}\r\n\r\n.formula-editor-control__display-text {\r\n\tfont-size: var(--qp-regular-font-size);\r\n\tmargin: 1px;\r\n\tborder: 0;\r\n\tpadding: 0 4px 0 6px;\r\n\tline-height: var(--qp-input-height);\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tpadding: 0 4px 0 8px;\r\n\tborder-width: 0 !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.formula-editor-control__display-text--invisible {\r\n\tposition: absolute;\r\n\ttop: -40px;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.formula-editor-control .editorCont {\r\n\tmargin-right: 50px;\r\n}\r\n\r\n.formula-editor-popup__list-panel {\r\n\tdisplay: flex;\r\n\tflex: 1 1 auto;\r\n\tmin-height: 0;\r\n\tmargin-bottom: 14px;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.formula-editor-popup__tree-container {\r\n\tflex: 0 1 270px;\r\n\tmin-width: 160px;\r\n\tpadding-right: 20px;\r\n\tborder-right: 1px solid var(--qp-border-color);\r\n\tposition: relative;\r\n}\r\n\r\n.formula-editor-popup__tree {\r\n\theight: 100%;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-root {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.formula-editor-popup__tree span.tree-text,\r\n.formula-editor-popup__tree .tree-text span {\r\n\tfont-size: inherit;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-table-container {\r\n\tflex: 1 auto;\r\n\tmargin-right: -12px;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-table-wrap {\r\n\toverflow-y: scroll;\r\n\tpadding-right: 7px;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-container {\r\n\theight: unset;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-main-toolbar qp-tool-bar {\r\n\tdisplay: none;\r\n}\r\n\r\n.formula-editor-popup__tree .filter-box {\r\n\twidth: 100%;\r\n}\r\n\r\n.formula-editor-popup__tree .filter-box .text {\r\n\tpadding-top: 5px;\r\n\tpadding-bottom: 5px;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-main-toolbar {\r\n\tflex: 0 auto;\r\n\tpadding-top: 0;\r\n\tpadding-bottom: 10px;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-container::-webkit-scrollbar,\r\n.formula-editor-popup__tree .tree-table-wrap::-webkit-scrollbar {\r\n\twidth: 6px;\r\n}\r\n\r\n.formula-editor-popup__tree .tree-container::-webkit-scrollbar-thumb,\r\n.formula-editor-popup__tree .tree-table-wrap::-webkit-scrollbar-thumb {\r\n\twidth: 6px;\r\n}\r\n\r\n.formula-editor-popup__items-list {\r\n\tflex: 1 auto;\r\n\tmargin-left: 20px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmin-width: 0;\r\n\tmax-width: calc(100% - 290px);\r\n}\r\n\r\n.formula-editor-popup__items-filter {\r\n\tposition: relative;\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\n.formula-editor-popup__items-filter .filter-box {\r\n\twidth: 100%;\r\n}\r\n\r\n.formula-editor-popup__items-filter .filter-box .text {\r\n\tpadding-top: 5px;\r\n\tpadding-bottom: 5px;\r\n}\r\n\r\n.formula-editor-popup__items-select-container {\r\n\tflex: 1 auto;\r\n\tposition: relative;\r\n\toverflow-y: auto;\r\n}\r\n\r\n.formula-editor-popup__items-select {\r\n\twidth: calc(100% - 7px);\r\n\theight: 100%;\r\n\tborder: none;\r\n}\r\n\r\n.formula-editor-popup__items-select-option {\r\n\theight: var(--qp-input-height);\r\n\tpadding: 0.65em 30px 0.65em 8px;\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n\toverflow: hidden;\r\n    text-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.formula-editor-popup__items-select-option .selected {\r\n\tbackground-color: orange;\r\n}\r\n\r\n.formula-editor-popup__items-select-option-add-button {\r\n\tdisplay: block;\r\n\twidth: 32px;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tborder: none;\r\n\tbackground-color: transparent;\r\n\topacity: 0;\r\n\tcursor: pointer;\r\n}\r\n\r\n.formula-editor-popup__items-select-option-add-button:hover {\r\n\tbackground-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.formula-editor-popup__items-select-option-add-icon {\r\n\twidth: 15px; height: 15px;\r\n\tposition: absolute;\r\n\tleft: 50%; top: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n}\r\n\r\n.formula-editor-popup__items-select-option:hover,\r\n.formula-editor-popup__items-select-option--current {\r\n\tbackground-color: var(--qp-background-color);\r\n}\r\n\r\n.formula-editor-popup__items-select-option:hover .formula-editor-popup__items-select-option-add-button {\r\n\topacity: 1;\r\n}\r\n\r\n.formula-editor-popup__textarea-container {\r\n\twidth: 100%;\r\n\theight: 83px;\r\n\tflex-shrink: 0;\r\n\tborder: 1px solid var(--qp-border-color);\r\n\tborder-radius: var(--qp-input-border-radius);\r\n\tpadding: 2px 2px 2px 0;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.formula-editor-popup__textarea-container--focused {\r\n\tborder-color: var(--qp-primary-color);\r\n\tbox-shadow: inset 0 0 0 1px var(--qp-primary-color);\r\n}\r\n\r\n.formula-editor-popup__textarea {\r\n\theight: 100%;\r\n\toverflow-y: auto;\r\n\tpadding: 0.5em 8px;\r\n\tword-break: break-word;\r\n\tposition: relative;\r\n}\r\n\r\n.formula-editor-popup__textarea-selection {\r\n\tbackground-color: var(--qp-background-color);\r\n}\r\n\r\n.formula-editor-popup__textarea-cursor {\r\n\tdisplay: inline-block;\r\n\twidth: 1.5px;\r\n\theight: 1.3em;\r\n\tmargin-top: -0.1em;\r\n\tmargin-left: -0.5px;\r\n\tbackground: #000000;\r\n}\r\n\r\n.formula-editor-popup__textarea-cursor,\r\n.formula-editor-popup__textarea-cursor:after {\r\n\tposition: absolute;\r\n}\r\n\r\n.formula-editor-popup__textarea-cursor:after {\r\n\tcontent: \'\';\r\n\tdisplay: block;\r\n\twidth: 0;\r\n\theight: 0;\r\n\tbottom: -1px;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tborder: 4px solid transparent;\r\n\tborder-bottom-color: #000000;\r\n}\r\n\r\n.formula-editor-popup__textarea-hint {\r\n\tfont-size: 14px;\r\n\tmargin-top: 0.65em;\r\n\tmargin-bottom: 0.65em;\r\n}\r\n\r\n.formula-editor-popup__validation-result {\r\n\tfont-size: 14px;\r\n\tpadding: 0.6em 36px 0.5em;\r\n\tborder-radius: 5px;\r\n\tmargin-bottom: 0.5em;\r\n\tposition: relative;\r\n}\r\n\r\n.formula-editor-popup__validation-result--success {\r\n\tbackground-color: var(--qp-sucess-bg-color);\r\n}\r\n\r\n.formula-editor-popup__validation-result--error {\r\n\tbackground-color: var(--qp-error-bg-color);\r\n}\r\n\r\n.formula-editor-popup__validation-result--outdated {\r\n\topacity: 0.5;\r\n}\r\n\r\n.formula-editor-popup__validation-result-icon {\r\n\tposition: absolute;\r\n\tleft: 13px;\r\n\ttop: 9px;\r\n}\r\n\r\n.formula-editor-popup__validation-result--success .formula-editor-popup__validation-result-icon svg {\r\n\twidth: 13px;\r\n\theight: 11px;\r\n\tfill: #47A824;\r\n}\r\n\r\n.formula-editor-popup__validation-result--error .formula-editor-popup__validation-result-icon svg {\r\n\twidth: 14px;\r\n\theight: 15px;\r\n\tcolor: #EE4051;\r\n}\r\n\r\n@keyframes spinner-animation {\r\n\tto {\r\n\t\ttransform: translate(-50%, -50%) rotate(360deg);\r\n\t}\r\n}\r\n\r\n.spinner:after {\r\n\tcontent: \'\';\r\n\twidth: 24px;\r\n\theight: 24px;\r\n\tborder-radius: 50%;\r\n\tborder: 2px solid rgba(0, 0, 0, 0.3);\r\n\tborder-top-color: rgba(0, 0, 0, 0.6);\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\tz-index: 200;\r\n\tanimation: spinner-animation 0.6s linear infinite;\r\n}\r\n\r\n@media screen and (min-height: 480px) {\r\n\t[id^="formulaEditorPopupTemplate"]:not(.qp-maximized) ux-dialog-body {\r\n\t\tmax-height: calc(100vh - 120px);\r\n\t}\r\n}\r\n\r\n[id^="formulaEditorPopupTemplate"] ux-dialog-footer {\r\n\tpadding: 5px 10px;\r\n}\r\n\r\n[id^="formulaEditorPopupTemplate"].qp-maximized ux-dialog-footer {\r\n\tpadding-bottom: 15px;\r\n}\r\n\r\n[id^="formulaEditorPopupTemplate"] ux-dialog-footer inline-view {\r\n\tflex: 1 auto;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n[id^="formulaEditorPopupTemplate"] ux-dialog-footer qp-button + qp-button {\r\n\tmargin-left: 8px;\r\n}\r\n\r\n[id^="formulaEditorPopupTemplate"] ux-dialog-footer qp-button:first-child {\r\n\tmargin-right: auto;\r\n}\r\n',""]),e.exports=r},"client-controls/controls/compound/grid/dialogs/columns-dialog.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".columns-dialog .filter-box\r\n{\r\n\tmargin-bottom: 10px;\r\n\twidth: 100%;\r\n\tborder: 1px solid #007ACC;\r\n}\r\n.columns-dialog .cols-list\r\n{\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n}\r\n.columns-dialog .cols-list > div\r\n{\r\n\tpadding: 4px;\r\n\tcursor: pointer;\r\n}\r\n.columns-dialog .cols-list > div:hover\r\n{\r\n\tbackground-color: var(--qp-menu-hover);\r\n}\r\n.columns-dialog .cols-list > div.dragover.before\r\n{\r\n\tborder-top: 1px solid red;\r\n\tpadding-top: 3px;\r\n}\r\n.columns-dialog .cols-list > div.dragover.after\r\n{\r\n\tborder-bottom: 1px solid red;\r\n\tpadding-bottom: 3px;\r\n}\r\n\r\n.columns-dialog .cols-list .field-name\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 12px;\r\n\tfont-weight: bold;\r\n\tcolor: RGBA(0, 0, 0, 0.7);\r\n\tpadding-left: 3px;\r\n\tvertical-align: middle;\r\n\tmax-width: 195px;\r\n\tline-height: 24px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.columns-dialog .cols-list .tab-switch\r\n{\r\n\tfloat: right;\r\n}\r\n.columns-dialog .cols-list .tab-switch.ac-TabOn\r\n{\r\n\tdisplay: none;\r\n}\r\n.columns-dialog .cols-list > div:hover .tab-switch\r\n{\r\n\tdisplay: inline-block;\r\n}\r\n.columns-dialog .cols-list i.visible-fixed\r\n{\r\n\topacity: 0.4;\r\n}\r\n\r\n.columns-dialog .cols-list i.ac\r\n{\r\n\tfont-size: 16px;\r\n\tvertical-align: middle;\r\n\tcolor: RGBA(0, 0, 0, 0.54);\r\n}\r\n.columns-dialog .cols-list i.ac-check_box\r\n{\r\n\tcolor: #007ACC;\r\n}\r\n\r\n.columns-dialog .cols-list > div:not([draggable]) i.drag-icon\r\n{\r\n\topacity: 0.2;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/grid/dialogs/columns-list-dialog.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".columns-list-dialog\r\n{\r\n\tmin-width: 250px;\r\n\tmax-width: 250px;\r\n\tborder-radius: 6px;\r\n\tpadding: 8px 0px;\r\n\tfont-size: 14px;\r\n}\r\n.columns-list-dialog ux-dialog-body\r\n{\r\n\tpadding: 0px;\r\n}\r\n\r\n.columns-list-dialog .cols-list\r\n{\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n}\r\n.columns-list-dialog .cols-list > div\r\n{\r\n\tpadding: 8px 16px;\r\n\tcursor: pointer;\r\n}\r\n.columns-list-dialog .cols-list > div:hover\r\n{\r\n\tbackground-color: var(--qp-menu-hover);\r\n}\r\n\r\n.columns-list-dialog .cols-list .field-name\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 14px;\r\n\tpadding-left: 1px;\r\n\tmax-width: 215px;\r\n}\r\n\r\n.columns-list-dialog .header\r\n{\r\n\tpadding: 6px 16px;\r\n}\r\n.columns-list-dialog .header > span\r\n{\r\n\tfont-weight: bold;\r\n}\r\n.columns-list-dialog .header > a\r\n{\r\n\tfloat: right;\r\n\tcolor: #027ACC;\r\n\ttext-decoration: none;\r\n}\r\n.columns-list-dialog .filter-container\r\n{\r\n\tpadding: 8px 16px;\r\n}\r\n.columns-list-dialog .filter-container .filter-box\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\n.columns-list-dialog .empty-message\r\n{\r\n\theight: 52px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 8px 16px;\r\n\tfont-size: 14px;\r\n\tcolor: #7C7C7C;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/grid/dialogs/filter-dialog.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".filter-dialog\r\n{\r\n\tmin-width: 270px;\r\n\twidth: 270px;\r\n\tborder-radius: 6px;\r\n\tpadding: 8px 0px;\r\n}\r\n\r\n.filter-dialog ux-dialog-body\r\n{\r\n\tpadding: 0px;\r\n\theight: auto;\r\n}\r\n.filter-dialog  ux-dialog-footer\r\n{\r\n\tpadding: 8px 16px;\r\n}\r\n.filter-dialog > ux-dialog-footer button\r\n{\r\n\tmargin: 0px;\r\n\tmargin-left: 8px;\r\n}\r\n\r\n.filter-dialog .sorts-and-filters\r\n{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\toverflow-y: auto;\r\n}\r\n\r\n.filter-dialog .items-list > div:not([class=separator])\r\n{\r\n\tpadding: 8px 16px;\r\n\tcursor: pointer;\r\n}\r\n.filter-dialog .items-list > div:not([class*=disabled]):hover\r\n{\r\n\tbackground-color: var(--qp-menu-hover);\r\n}\r\n.filter-dialog .items-list > div.disabled\r\n{\r\n\topacity: 0.5;\r\n\tcursor: default;\r\n}\r\n\r\n.filter-dialog .items-list .text\r\n{\r\n\tfont-size: 14px;\r\n\tcolor: RGBA(0, 0, 0, 0.87);\r\n\tmargin-left: 24px;\r\n\tmargin-right: 20px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.filter-dialog .items-list > div i.ac\r\n{\r\n\tfloat: left;\r\n\tfont-size: 16px;\r\n}\r\n.filter-dialog .items-list > div qp-icon\r\n{\r\n\tfloat: left;\r\n}\r\n.filter-dialog .items-list.items > div i.ac,\r\n.filter-dialog .items-list.select-all > div i.ac\r\n{\r\n\tcolor: #027ACC;\r\n}\r\n.filter-dialog .items-list > div i.ac.align-right,\r\n.filter-dialog .items-list > div qp-icon.align-right\r\n{\r\n\tfloat: right;\r\n}\r\n.filter-dialog .items-list > div i.ac[class*=outline_blank]\r\n{\r\n\tcolor: #CCCCCC;\r\n}\r\n\r\n.filter-dialog .items-list.items, .filter-dialog .items-list.conditions\r\n{\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n}\r\n\r\n.filter-dialog .separator\r\n{\r\n\tpadding: 8px 0px;\r\n\theight: 1px;\r\n}\r\n.filter-dialog .separator > div\r\n{\r\n\tfont-size: 0px;\r\n\tborder-top: 1px solid #E0E4E8\r\n}\r\n\r\n.filter-dialog .editors\r\n{\r\n\tpadding: 8px 16px;\r\n\tposition: relative;\r\n}\r\n.filter-dialog .editors .auto-size, .filter-dialog .editors .dropDown\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\n.filter-dialog .label-cont\r\n{\r\n\tdisplay: flex;\r\n}\r\n.filter-dialog .label-cont.second\r\n{\r\n\tmargin-top: 9px;\r\n}\r\n.filter-dialog .label-cont label\r\n{\r\n\twidth: 80px;\r\n\tline-height: 20px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/grid/dialogs/filters-list-dialog.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".filters-list-dialog\r\n{\r\n\tborder-radius: 6px;\r\n\tpadding: 8px 0px;\r\n}\r\n.filters-list-dialog ux-dialog-body\r\n{\r\n\tpadding: 0px;\r\n}\r\n\r\n.filters-list-dialog .filter-container\r\n{\r\n\tpadding: 8px 16px;\r\n}\r\n.filters-list-dialog .filter-container .filter-box\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\n.filters-list-dialog .filters-list\r\n{\r\n\toverflow-y: auto;\r\n\theight: 100%;\r\n}\r\n.filters-list-dialog .filters-list > div:not([class=separator])\r\n{\r\n\tpadding: 8px 16px;\r\n\tcursor: pointer;\r\n}\r\n.filters-list-dialog .filters-list > div.selected\r\n{\r\n\tbackground-color: var(--qp-highlight-color);\r\n}\r\n.filters-list-dialog .filters-list > div:hover\r\n{\r\n\tbackground-color: var(--qp-menu-hover);\r\n}\r\n\r\n.filters-list-dialog .filters-list > div.dragover.before\r\n{\r\n\tborder-top: 1px solid #D9D9D9;\r\n\tpadding-top: 7px;\r\n}\r\n.filters-list-dialog .filters-list > div.dragover.after\r\n{\r\n\tborder-bottom: 1px solid #D9D9D9;\r\n\tpadding-bottom: 7px;\r\n}\r\n\r\n.filters-list-dialog .filters-list .filter-name\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 14px;\r\n\tpadding-left: 3px;\r\n\tvertical-align: middle;\r\n\tline-height: 16px;\r\n\r\n\tmax-width: 250px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.filters-list-dialog .filters-list > div .drag-icon\r\n{\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\twidth: 16px;\r\n\tvisibility: hidden;\r\n\tfill: RGBA(0, 0, 0, 0.54);\r\n}\r\n.filters-list-dialog .filters-list > div:hover .drag-icon\r\n{\r\n\tvisibility: visible;\r\n}\r\n.filters-list-dialog .filters-list > div:not([draggable]) .drag-icon\r\n{\r\n\tvisibility: hidden;\r\n}\r\n\r\n.filters-list-dialog .filters-list > div .fav-icon\r\n{\r\n\tvertical-align: middle;\r\n\tvisibility: hidden;\r\n}\r\n.filters-list-dialog .filters-list > div:hover .fav-icon\r\n{\r\n\tvisibility: visible;\r\n}\r\n.filters-list-dialog .filters-list > div .fav-icon.fav-on\r\n{\r\n\tvisibility: visible;\r\n\tcolor: #f7ba08;\r\n}\r\n.filters-list-dialog .filters-list > div[allrecords] .fav-icon\r\n{\r\n\tvisibility: hidden;\r\n}\r\n\r\n.filters-list-dialog .filters-list > div .shared-icon\r\n{\r\n\tfloat: right;\r\n}\r\n\r\n.filters-list-dialog .empty-message\r\n{\r\n\theight: 52px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 8px 16px;\r\n\tfont-size: 14px;\r\n\tcolor: #7C7C7C;\r\n}\r\n\r\n.filters-list-dialog .separator\r\n{\r\n\tpadding: 8px 0px;\r\n\theight: 1px;\r\n}\r\n.filters-list-dialog .separator > div\r\n{\r\n\tfont-size: 0px;\r\n\tborder-top: 1px solid #E0E4E8\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/grid/dialogs/import-dialog.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".import-dialog .error-message {\r\n\tbox-sizing: content-box;\r\n\tdisplay: flex;\r\n\tgap: 10px;\r\n\theight: 32px;\r\n\talign-items: center;\r\n\tbackground-color: var(--qp-error-bg-color);\r\n\tborder-radius: 8px;\r\n\tpadding: 6px;\r\n\tpadding-left: 12px;\r\n}\r\n\r\n.import-dialog .error-message qp-icon {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.import-dialog .file-label {\r\n\tdisplay: flex;\r\n\tflex-wrap: nowrap;\r\n}\r\n\r\n.import-dialog .file-label .file-label-text {\r\n\tflex-basis: 100%;\r\n\ttext-overflow: ellipsis;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.import-dialog .file-label qp-icon {\r\n\tflex-grow: 0;\r\n\tcursor: pointer;\r\n\tpointer-events: all;\r\n}\r\n\r\n.import-dialog > .qp-resizable {\r\n\theight: 100%;\r\n}\r\n\r\n.import-dialog qp-fieldset {\r\n\twidth: 100%;\r\n}\r\n\r\n.import-dialog qp-grid {\r\n\theight: 100%;\r\n}\r\n\r\n.import-dialog .qp-wizard-footer {\r\n\tmargin-top: 12px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/grid/elements/qp-filter-box.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".filter-box\r\n{\r\n  border: 1px solid #D2D4D7;\r\n  border-radius: 6px;\r\n  display: inline-block;\r\n  width: 200px;\r\n  background-color: white;\r\n  box-sizing: border-box;\r\n\theight: var(--qp-input-height);\r\n}\r\n\r\n\r\n@media (min-width: 0) and (max-width: 692px) { /* SM */\r\n\t.filter-box {\r\n\t\twidth: 150px;\r\n\t}\r\n}\r\n\r\n.filter-box * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n\r\n.filter-box.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.filter-box.has-filter {\r\n\tbackground-color: #D7EFFF;\r\n}\r\n\r\n.filter-box > div\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tmargin-left: 2px;\r\n}\r\n\r\n.filter-box .text\r\n{\r\n\tpadding: 6px 7px 6px 6px;\r\n\tflex: 1;\r\n\tborder: none;\r\n\tborder-radius: 6px;\r\n\twidth: 100%;\r\n\tbackground-color: transparent;\r\n\theight: var(--qp-input-height);\r\n}\r\n.filter-box qp-icon {\r\n\tmargin-right: 6px;\r\n}\r\n.filter-box qp-icon > svg\r\n{\r\n\tfill: #808080;\r\n}\r\n.filter-box.focus qp-icon > svg\r\n{\r\n\tfill: #000000;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/grid/elements/qp-filter-button.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".filter-button\r\n{\r\n\tposition: relative;\r\n}\r\n.filter-button .content\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: var(--qp-toolbar-height);\r\n\tpadding: 3px;\r\n\tborder: 1px solid #E0E4E8;\r\n\tborder-radius: 6px;\r\n\tcursor: pointer;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.filter-button .extended-button\r\n{\r\n\tz-index: 1;\r\n\tposition: absolute;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tbackground-color: white;\r\n}\r\n\r\n.filter-button:hover .content\r\n{\r\n\tbackground-color: var(--qp-background-color);\r\n}\r\n.filter-button.filtered .content\r\n{\r\n\tborder: none;\r\n\tbackground-color: var(--qp-highlight-color);\r\n}\r\n.filter-button.filtered:hover .content\r\n{\r\n\tbackground-color: var(--qp-highlight-hover-color);\r\n}\r\n\r\n.filter-button .content span.text\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 14px;\r\n\tpadding: 3px 5px;\r\n\tline-height: 16px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tmax-width: 220px;\r\n}\r\n.filter-button .extended-button .content  span.text\r\n{\r\n\tmax-width: 400px;\r\n}\r\n.filter-button.large .content span.text\r\n{\r\n\tmax-width: 320px;\r\n}\r\n.filter-button.large .extended-button .content  span.text\r\n{\r\n\tmax-width: 450px;\r\n}\r\n\r\n.filter-button .content i.ac\r\n{\r\n\tfont-size: 16px;\r\n\tline-height: 20px;\r\n\tpadding: 0px 3px;\r\n\topacity: 0.5;\r\n}\r\n.filter-button .content i.ac:hover\r\n{\r\n\topacity: 1;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/grid/elements/qp-filter-combo.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".filter-combo\r\n{\r\n\twidth: 160px;\r\n\tdisplay: flex;\r\n\tpadding-inline: 5px;\r\n\talign-items: center;\r\n\tbackground-color: var(--qp-background-color);\r\n\tborder-radius: 6px;\r\n\tcursor: pointer;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.filter-combo:hover\r\n{\r\n\tbackground-color: var(--qp-dark-background-color);\r\n}\r\n.filter-combo.filtered\r\n{\r\n\tbackground-color: var(--qp-highlight-color);\r\n}\r\n.filter-combo.filtered:hover\r\n{\r\n\tbackground-color: var(--qp-highlight-hover-color);\r\n}\r\n\r\n.filter-combo span.text\r\n{\r\n\tflex: 1;\r\n\tdisplay: inline-block;\r\n\tpadding: 3px 5px;\r\n\tline-height: 16px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.filter-combo i.ac\r\n{\r\n\tfont-size: 16px;\r\n\tline-height: 20px;\r\n\tpadding: 1px 3px;\r\n\topacity: 0.5;\r\n}\r\n.filter-combo:hover i.ac\r\n{\r\n\topacity: 1;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/grid/elements/qp-filter-node.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"\r\n.filter-node\r\n{\r\n\tdisplay: block;\r\n}\r\n\r\n.filter-node .button-container, .filter-node .node-container\r\n{\r\n\tdisplay: flex;\r\n}\r\n.filter-node .button-container:not(:last-child),\r\n.filter-node .node-container:not(:last-child)\r\n{\r\n\tmargin-bottom: 8px;\r\n}\r\n.filter-node .node-container > .filter-node\r\n{\r\n\tmargin-top: 8px;\r\n\tmargin-bottom: 8px;\r\n\tmargin-left: -6px;\r\n}\r\n\r\n.filter-node .btn-new, .filter-node .btn-delete\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 5px 7px;\r\n\tcursor: pointer;\r\n}\r\n.filter-node i.ac\r\n{\r\n\tfont-size: 16px;\r\n}\r\n.filter-node i.ac[class*=keyboard_arrow]\r\n{\r\n\tfont-size: 20px;\r\n}\r\n\r\n.filter-node .btn-brackets\r\n{\r\n\tposition: relative;\r\n\tpadding: 4px 2px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.filter-node .btn-condition\r\n{\r\n\tcursor: pointer;\r\n\tposition: relative;\r\n\tpadding-right: 5px;\r\n}\r\n.filter-node .btn-condition .text\r\n{\r\n\tdisplay: inline-block;\r\n\tfont-size: 12px;\r\n\tbackground-color: #8ef29e;\r\n\tborder-radius: 5px;\r\n\tpadding: 6px 3px;\r\n\tbox-sizing: border-box;\r\n\twidth: 32px;\r\n}\r\n.filter-node .btn-condition .text.or\r\n{\r\n\tbackground-color: #f5ba5b;\r\n\tpadding: 6px 7px;\r\n}\r\n\r\n.filter-node .node-container > .btn-brackets\r\n{\r\n\talign-self: flex-end;\r\n\ttransform: translateY(18px);\r\n}\r\n.filter-node .node-container > .btn-brackets.aurelia-hide\r\n{\r\n\ttransform: none;\r\n}\r\n.filter-node .node-container:only-child > .btn-brackets\r\n{\r\n\tdisplay: none !important;\r\n}\r\n\r\n.filter-node .node-container .left-actions\r\n{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n.filter-node .node-container .left-actions .btn-delete-brackets\r\n{\r\n\tcursor: pointer;\r\n\tposition: relative;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\tpadding-bottom: 2px;\r\n\tpadding-left: 10px;\r\n}\r\n.filter-node .node-container .left-actions .btn-condition\r\n{\r\n\tposition: relative;\r\n\ttop: 16px;\r\n\tmargin-top: auto;\r\n}\r\n.filter-node .node-container .left-actions .btn-condition.aurelia-hide\r\n{\r\n\ttop: 0px;\r\n}\r\n\r\n.filter-node .node-container .left-bracket, .filter-node .node-container .right-bracket\r\n{\r\n\tborder: 2px solid;\r\n\twidth: 10px;\r\n}\r\n.filter-node .node-container .left-bracket\r\n{\r\n\tborder-radius: 8px 0px 0px 8px;\r\n\tborder-right: none;\r\n\r\n}\r\n.filter-node .node-container .right-bracket\r\n{\r\n\tmargin-left: -6px;\r\n\tborder-radius: 0px 8px 8px 0px;\r\n\tborder-left: none;\r\n}\r\n.filter-node .node-container .right-actions\r\n{\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.filter-node .button-container .btn-brackets\r\n{\r\n\ttop: 18px;\r\n}\r\n.filter-node .button-container .btn-brackets.aurelia-hide\r\n{\r\n\ttop: 0px;\r\n}\r\n.filter-node .button-container .btn-condition\r\n{\r\n\ttop: 19px;\r\n}\r\n.filter-node .button-container .btn-condition.aurelia-hide\r\n{\r\n\ttop: 0px;\r\n}\r\n\r\n.filter-node .button-container .btn-brackets, .filter-node .button-container .btn-new\r\n{\r\n\tvisibility: hidden;\r\n}\r\n.filter-node .button-container:hover .btn-brackets, .filter-node .button-container:hover > .btn-new,\r\n.filter-node .button-container > .btn-new[force-visible]\r\n{\r\n\tvisibility: visible;\r\n}\r\n\r\n.filter-node .node-container .left-actions .btn-delete-brackets,\r\n.filter-node .node-container .right-actions, .filter-node .node-container .btn-brackets\r\n{\r\n\tvisibility: hidden;\r\n}\r\n.filter-node .node-container:hover[mouse-hover] > .left-actions > .btn-delete-brackets,\r\n.filter-node .node-container:hover[mouse-hover] > .btn-brackets, .filter-node\r\n.node-container:hover[mouse-hover] > .right-actions,\r\n.filter-node .node-container > .right-actions[force-visible]\r\n{\r\n\tvisibility: visible;\r\n}\r\n\r\n.filter-node .aurelia-hide\r\n{\r\n\tdisplay: block !important;\r\n\tvisibility: hidden !important;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/grid/elements/qp-numeric-pager.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".numeric-pager {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.numeric-pager .page-editor {\r\n\twidth: 50px;\r\n\theight: 28px;\r\n}\r\n\r\n.numeric-pager > label {\r\n\tpadding-left: 10px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/grid/qp-filter-bar.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".filter-bar\r\n{\r\n\tdisplay: block;\r\n}\r\n\r\n.filters-headers\r\n{\r\n  display: flex;\r\n}\r\n.filters-headers .headers-wrap\r\n{\r\n  flex: 1;\r\n  overflow: hidden;\r\n  border-bottom: 1px solid #E0E4E8;\r\n  margin-right: 6px;\r\n}\r\n.filters-headers .headers-wrap > ul\r\n{\r\n  display: table;\r\n  white-space: nowrap;\r\n\r\n  list-style: none outside none;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  border-spacing: 0px;\r\n}\r\n.filters-headers .headers-wrap > ul > li\r\n{\r\n  display: table-cell;\r\n  padding: 6px 16px;\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  height: 24px;\r\n  line-height: 24px;\r\n  opacity: 0.5;\r\n}\r\n.filters-headers .headers-wrap > ul > li:hover\r\n{\r\n  cursor: pointer;\r\n  background-color: #E0E4E8;\r\n  opacity: 1;\r\n}\r\n.filters-headers .headers-wrap > ul > li.selected\r\n{\r\n  color: #027ACC;\r\n  border-bottom: 2px solid #027ACC;\r\n  padding-bottom: 4px;\r\n  opacity: 1;\r\n}\r\n.filters-headers .filter-box-wrap\r\n{\r\n  padding-right: 5px;\r\n  align-self: flex-end;\r\n}\r\n\r\n.filters-strip-cont\r\n{\r\n\tdisplay: flex;\r\n}\r\n.filters-strip\r\n{\r\n  position: relative;\r\n  display: flex;\r\n  flex: 1;\r\n  gap: 8px;\r\n  padding-left: 1px;\r\n}\r\n.filters-strip .advanced-filter\r\n{\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.filters-strip button.qp-button, .filters-strip .drop-down__editor\r\n{\r\n\theight: var(--qp-toolbar-height);\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.filters-strip button.qp-button\r\n{\r\n\tmin-width: 36px;\r\n}\r\n.filters-strip .drop-down__editor\r\n{\r\n\twidth: 160px;\r\n}\r\n.filters-strip .filter-selected .drop-down__editor\r\n{\r\n\tbackground-color: #D7EFFF;\r\n}\r\n.filters-strip .drop-down__option\r\n{\r\n\tpadding: 7px 4px;\r\n}\r\n\r\n.filters-strip .qp-menu\r\n{\r\n\tborder-radius: 6px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.filters-strip .advanced-filter .filter-button span.text\r\n{\r\n  max-width: none;\r\n}\r\n.filters-strip .advanced-filter .filter-button span.and\r\n{\r\n  color: #419622;\r\n}\r\n.filters-strip .advanced-filter .filter-button span.or\r\n{\r\n  color: #df9a2b;\r\n}\r\n\r\n.filters-strip .filter-drop-tip\r\n{\r\n  flex: 1;\r\n  white-space: nowrap;\r\n  height: 30px;\r\n  font-style: italic;\r\n  border: 1px dashed #C8C8C8;\r\n  border-radius: 6px;\r\n  padding: 6px 5px;\r\n  color: #8F8F8F;\r\n}\r\n.filters-strip .add-filter button\r\n{\r\n  font-size: 16px;\r\n}\r\n\r\n.filters-strip i.arrow-down, .filters-strip i.arrow-up\r\n{\r\n  position: absolute;\r\n  z-index: 10000;\r\n}\r\n.filters-strip i.arrow-down\r\n{\r\n  top: 0px;\r\n  transform: translateY(-100%);\r\n}\r\n.filters-strip i.arrow-up\r\n{\r\n  bottom: 0px;\r\n  transform: translateY(100%);\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/grid/qp-filter-editor.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"\r\n.filter-editor\r\n{\r\n\tdisplay: block;\r\n}\r\n\r\n.filter-editor > .btn-new\r\n{\r\n\tpadding: 5px 7px;\r\n\tcursor: pointer;\r\n\tfont-size: 20px;\r\n\tmargin-left: 10px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/grid/qp-grid.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'::-webkit-input-placeholder {\r\n  font-style: italic;\r\n}\r\n::-moz-placeholder {\r\n  font-style: italic;\r\n}\r\n:-ms-input-placeholder {\r\n  font-style: italic;\r\n}\r\n\r\nqp-grid, qp-grid *\r\n{\r\n  box-sizing: border-box;\r\n}\r\nqp-grid.grid\r\n{\r\n\tposition: relative;\r\n\tdisplay: flex !important;\r\n\tflex-direction: column !important;\r\n\tgap: 0px !important;\r\n\tfont-size: var(--qp-regular-font-size);\r\n\tcursor: default;\r\n\t/* border: 1px solid rgba(0, 0, 0, 0.03); */\r\n\theight: 100%;\r\n\t/* background-color: #F5F7F9;\r\n\tborder-radius: 10px 10px 0 0; */\r\n}\r\n\r\nqp-grid i.ac\r\n{\r\n\tposition: relative;\r\n}\r\n\r\nqp-grid.grid.auto-grow-fit\r\n{\r\n\theight: auto;\r\n}\r\nqp-grid.grid.auto-grow-fit .grid-content\r\n{\r\n\theight: auto;\r\n\tmin-height: 70px;\r\n}\r\nqp-grid.grid.auto-grow-fit .grid-content-wrap\r\n{\r\n\tposition: relative;\r\n\theight: auto;\r\n\tmin-height: 70px;\r\n}\r\nqp-grid.grid.auto-grow-fill .grid-content-wrap\r\n{\r\n\tposition: relative;\r\n}\r\n\r\n/* .grid-top-bar\r\n{\r\n\tpadding: 9px;\r\n} */\r\n.grid-top-bar .filter-bar\r\n{\r\n\tpadding-bottom: 9px;\r\n}\r\n.grid-top-toolbar\r\n{\r\n\tdisplay: flex;\r\n\tpadding-bottom: var(--qp-sections-row-gap);\r\n}\r\n.grid-top-toolbar.empty\r\n{\r\n\tdisplay: none;\r\n}\r\n\r\n.grid-left-toolbar-cont\r\n{\r\n\tflex: 1;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n.grid-right-toolbar-cont\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 8px;\r\n}\r\n.grid-top-toolbar div.qp-tool-bar\r\n{\r\n\tmargin: 0 0 0 -4px;\r\n\theight:  auto;\r\n}\r\n/* .grid-top-toolbar .filter-box\r\n{\r\n\tmargin-right: 5px;\r\n} */\r\n\r\nux-dialog-body .grid-top-toolbar .filter-box {\r\n\tmargin-right: 0;\r\n}\r\n\r\n.grid-header\r\n{\r\n\tposition: relative;\r\n\tbackground-color: #F5F7F8;\r\n\tborder-bottom: 1px solid #E8E8E8;\r\n\tborder-top: 1px solid #E8E8E8;\r\n}\r\n/* .grid-header.scroll-margin\r\n{\r\n  padding-right: 17px;\r\n} */\r\n.grid-header i.arrow-down, .grid-header i.arrow-up\r\n{\r\n  position: absolute;\r\n  z-index: 10000;\r\n}\r\n.grid-header i.arrow-down\r\n{\r\n  top: 0px;\r\n  transform: translateY(-100%);\r\n}\r\n.grid-header i.arrow-up\r\n{\r\n  bottom: 0px;\r\n  transform: translateY(100%);\r\n}\r\n\r\n.grid-resize-handle\r\n{\r\n  position: absolute;\r\n  top: 0px; bottom: 0px;\r\n  left: -12px;\r\n  cursor: col-resize;\r\n  width: 12px;\r\n  z-index: 1000;\r\n}\r\n.grid-resize-area\r\n{\r\n  position: absolute;\r\n  top: 0px;\r\n  height: 100%;\r\n  width: 100%;\r\n  z-index: 20000;\r\n  cursor: col-resize;\r\n}\r\n.grid-resize-indicator\r\n{\r\n  width: 1px;\r\n  border: 1px black solid;\r\n  position: absolute;\r\n  height: 100%;\r\n}\r\n\r\n.grid-header .grid-header-table, .grid-content .grid-content-table\r\n{\r\n  table-layout: fixed;\r\n  width: 0px;\r\n  margin: 0px;\r\n  padding: 0px;\r\n  border-collapse: separate;\r\n  border-width: 0px;\r\n  border-spacing: 0px;\r\n  outline: 0;\r\n  background-color: white;\r\n}\r\n\r\n.grid-header-table th:first-child {\r\n\tborder-left: none;\r\n}\r\n.grid-header-table th\r\n{\r\n  position: relative;\r\n  font-size: 13px;\r\n  color: rgba(0, 0, 0, 0.5);\r\n  font-weight: 700;\r\n  padding: 8px 4px;\r\n  overflow: hidden;\r\n  white-space: normal;\r\n  text-align: left;\r\n  vertical-align: top;\r\n  background-color: #F5F7F8;\r\n  border-left: 1px solid #E8E8E8;\r\n}\r\n\r\n.grid-header-table th:last-child\r\n{\r\n\tborder-right: 1px solid #E8E8E8;\r\n}\r\n\r\n.grid-header-table th:hover\r\n{\r\n  background-color: #E0E4E8;\r\n  color: RGBA(0, 0, 0, 0.87);\r\n  cursor: pointer;\r\n}\r\n\r\n.grid-header-table th.filtered\r\n{\r\n  background-color: var(--qp-highlight-color);\r\n}\r\n\r\n.grid-header-table th.col-header i.ac[fs-icon]\r\n{\r\n  position: absolute;\r\n  top: 6px; right: 4px;\r\n}\r\n.grid-header-table th.col-header.align-right i.ac[fs-icon]\r\n{\r\n  right: auto;\r\n  left: 0px;\r\n}\r\n.grid-header-table th.col-header i.ac[ch-icon]\r\n{\r\n\tposition: relative;\r\n\ttop: 1px;\r\n}\r\n\r\n.grid-header-table th .grid-header-text\r\n{\r\n  overflow: hidden;\r\n  margin-right: 15px;\r\n}\r\n.grid-header-table th.align-right .grid-header-text\r\n{\r\n\tmargin-right: 0px;\r\n\tmargin-left: 15px;\r\n}\r\n.grid-header-table th.required .grid-header-text\r\n{\r\n\tpadding-left: 7px;\r\n}\r\n.grid-header-table th.required .grid-header-text::before\r\n{\r\n\tcontent: "*";\r\n\tcolor: Red;\r\n\tfont-size: 13px;\r\n\tposition: absolute;\r\n\tmargin-left: -7px;\r\n}\r\n.grid-header-table.remove-required th.required .grid-header-text {\r\n\tpadding-left: 0px;\r\n}\r\n.grid-header-table.remove-required th.required .grid-header-text::before {\r\n\tmargin-left: 0;\r\n\tcontent: \'\';\r\n}\r\n\r\n.grid-header-wrap\r\n{\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.grid-header-table  .row-selector-col, .grid-content-table .row-selector-col\r\n{\r\n  width: 24px;\r\n}\r\n.grid-header-table  th.row-selector, .grid-content-table td.row-selector\r\n{\r\n  padding: 0px;\r\n  color: rgba(0, 0, 0, 0.54);\r\n  text-align: center;\r\n}\r\n.grid-header-table th.row-selector\r\n{\r\n\tpadding: 8px 2px;\r\n}\r\n\r\n.grid-header-table th qp-icon\r\n{\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n}\r\n/* .grid-content .grid-content-table qp-icon { } */\r\n\r\n/* .grid-content-table td.row-selector\r\n{\r\n  background-color: #F5F7F8 !important;\r\n  border-right: 1px solid #E0E4E8;\r\n} */\r\n\r\n.grid-content-table td.row-selector .cell-error-info\r\n{\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\tleft: 0px;\r\n\ttop: 0px;\r\n\tbottom: 0px;\r\n\twidth: 3px;\r\n}\r\n.grid-content-table td.row-selector .cell-error-info[data-error-level="2"]\r\n{\r\n\r\n\tbackground-color: #FFB800;\r\n}\r\n.grid-content-table td.row-selector .cell-error-info[data-error-level="4"]\r\n{\r\n\tbackground-color: #EE4051;\r\n}\r\n\r\n.grid-content\r\n{\r\n\tposition: relative;\r\n\theight: 100%;\r\n\tmin-height: 100px;\r\n\t/* border: 1px solid #E0E4E8; */\r\n\tborder-top: none;\r\n}\r\n.grid-content qp-loader-indicator\r\n{\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: white;\r\n  opacity: 0.5;\r\n  z-index: 100;\r\n}\r\n.grid-content qp-loader-indicator > *\r\n{\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.grid-content-wrap\r\n{\r\n\toverflow-x: auto;\r\n\toverflow-y: auto;\r\n\tposition: absolute;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tbackground-color: white;\r\n}\r\n/* .grid:hover .grid-content-wrap {\r\n\toverflow-x: auto;\r\n} */\r\n\r\n\r\n.grid-content-table > tbody > tr > td\r\n{\r\n  position: relative;\r\n  line-height: var(--qp-grid-line-height);\r\n  min-height: var(--qp-grid-line-height);\r\n  border-bottom: 1px solid #E0E4E8;\r\n  border-bottom: 1px solid var(--activerow-color, #E0E4E8);\r\n  padding: 0px;\r\n  white-space: nowrap;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td .cell-content\r\n{\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\tpadding: 0 4px;\r\n\theight: var(--qp-grid-row-height);\r\n}\r\n.grid-content-table > tbody > tr > td:not([class*=qp-align-center]) .cell-content\r\n{\r\n\twidth: 100%;\r\n\toverflow: hidden;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.qp-align-right .cell-content\r\n{\r\n\t/* direction: rtl;  -- ... */\r\n\r\n\t/* height: var(----qp-grid-row-height); */\r\n\tbackground-color: inherit;\r\n\talign-items: flex-start;\r\n\tline-height: var(--qp-grid-row-height);\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.qp-align-right .cell-content span.text {\r\n\t/* text-overflow: ellipsis;   -- ... */\r\n\t/* overflow: hidden;   -- ... */\r\n\r\n\twhite-space: normal;\r\n\toverflow-wrap: anywhere;\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\tdisplay: block;\r\n\tmax-height: calc( var(--qp-grid-row-height) * 2 );\r\n\tbackground-color: inherit;\r\n\toverflow: hidden;\r\n}\r\n\r\n\r\n.grid-content-table > tbody > tr > td.qp-align-right .cell-content span.text::before {\r\n\t/* &lrm; U+200E Left-To-Right UTF mark in order to ensure that minus sign is on the left side */\r\n\t/* content: "\\200e"; -- ... */\r\n\r\n\tcontent: "###########";\r\n\tposition: absolute;\r\n\tbottom: var(--qp-grid-row-height);\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tbackground: white;\r\n\twhite-space: nowrap;\r\n\theight: calc( var(--qp-grid-row-height) );\r\n\tbackground-color: inherit;\r\n}\r\n\r\n.grid-content-table > tbody >  tr > td {\r\n\tbackground-color: var(--qp-row-color);\r\n}\r\n\r\n.grid-content-table > tbody >  tr.alt-row > td\r\n{\r\n\tbackground-color: var(--qp-altrow-color);\r\n\tborder-bottom: 1px solid var(--activerow-color, #E2E2E2);\r\n}\r\n\r\n\r\n.grid-content-table > tbody > tr > td.error\r\n{\r\n\tcolor: red;\r\n\t/* background-color: rgba(255, 0, 0, 0.17); */\r\n}\r\n.grid-content-table > tbody > tr > td.warning\r\n{\r\n\tcolor: brown;\r\n\t/* background-color: rgba(255, 193, 9, 0.2); */\r\n}\r\n.grid-content-table > tbody > tr:not([class*=edit]) > td.read-only i.ac,\r\n.grid-content-table > tbody > tr.edit > td.read-only .cell-content\r\n{\r\n\topacity: 0.5;\r\n}\r\n.grid-content-table > tbody > tr > td i.ac[err-icon]\r\n{\r\n\tposition: absolute;\r\n\tright: 2px;\r\n}\r\n.grid-content-table > tbody > tr > td i.ac.align-left[err-icon]\r\n{\r\n\tright: auto;\r\n\tleft: 2px;\r\n\tz-index: 1;\r\n\tline-height: var(--qp-grid-row-height);\r\n}\r\n\r\n.grid-content-table > tbody > tr.active > td\r\n{\r\n  background-color: var(--qp-highlight-color) !important;\r\n}\r\n.grid-content-table > tbody > tr.selected > td\r\n{\r\n\tbackground-color: #E0E4E8 !important;\r\n}\r\n.grid-content-table > tbody > tr.active > td.active\r\n{\r\n\tbackground-color: var(--qp-highlight-hover-color) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.edit .inline-editor\r\n{\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tbottom: 0px;\r\n\tleft: -5px;\r\n\tright: -5px;\r\n}\r\n.grid-content-table > tbody > tr > td.edit .inline-editor.marker\r\n{\r\n\tleft: -0px;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.edit:not(:last-child) .inline-editor.qp-drop-down-inline,\r\n.grid-content-table > tbody > tr > td.edit:not(:last-child) .inline-editor.qp-datetime-edit-inline,\r\n.grid-content-table > tbody > tr > td.edit:not(:last-child) .inline-editor.qp-selector-inline\r\n{\r\n\tright: -28px;\r\n\tleft: -5px;\r\n}\r\n.grid-content-table > tbody > tr > td.edit .inline-editor .control-wrapper\r\n{\r\n\tbackground-color: white;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td a {\r\n\tcolor: var(--qp-primary-color);\r\n\ttext-decoration-line: none;\r\n}\r\n.grid-content-table > tbody > tr > td a:hover {\r\n\ttext-decoration-line: underline;\r\n}\r\n\r\n\r\n.grid-pager\r\n{\r\n\tdisplay: flex;\r\n\tborder-top: 1px solid #E8E8E8;\r\n}\r\n.grid-pager div.qp-tool-bar\r\n{\r\n\tmargin: 0px;\r\n\theight:  auto;\r\n\tflex-direction: row-reverse;\r\n}\r\n.grid-pager .records-counter, .grid-pager .status-text\r\n{\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0 10px;\r\n\tmin-height: 36px;\r\n}\r\n.grid-pager .pager-bars-cont\r\n{\r\n\tdisplay: flex;\r\n\tflex: 1;\r\n\tjustify-content: flex-end;\r\n}\r\n.grid-pager .pager-bars-cont qp-tool-bar\r\n{\r\n\tflex-grow: 0;\r\n}\r\n\r\n/* ------------- Filter button styles --------------- */\r\n.grid-right-toolbar-cont button.qp-button\r\n{\r\n\tmin-width: 36px;\r\n}\r\n.grid-right-toolbar-cont .grid-filter-button button.qp-button\r\n{\r\n\tbackground-color: transparent;\r\n}\r\n.grid-right-toolbar-cont .grid-filter-button  button.qp-button span.text\r\n{\r\n\tcolor: var(--qp-primary-color);\r\n}\r\n\r\n.grid-right-toolbar-cont .grid-filter-button button.qp-button:not([disabled]):hover,\r\n.grid-right-toolbar-cont .grid-filter-button button.qp-button.pushed\r\n{\r\n\tbackground-color: rgba(0, 0, 0, 0.06);\r\n}\r\n.grid-right-toolbar-cont .grid-filter-button button.qp-button.pushed:not([disabled]):hover\r\n{\r\n\tbackground-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.qp-tool-bar .qp-tool-bar-item.qp-toggle-pushed.grid-filter-button.has-filter .qp-tool-bar-button,\r\n.grid-right-toolbar-cont .grid-filter-button.has-filter button.qp-button.pushed\r\n{\r\n\tbackground-color: var(--qp-highlight-color);\r\n}\r\n.qp-tool-bar .qp-tool-bar-item.grid-filter-button.has-filter svg,\r\n.grid-right-toolbar-cont .grid-filter-button.has-filter svg\r\n{\r\n\tfill: var(--qp-primary-color);\r\n}\r\n\r\n/* ------------- Custom styles for the grid cells --------------- */\r\n.grid-content-table > tbody > tr > td.bad, .grid-content-table tr.bad > td\r\n{\r\n\tbackground-color: RGBA(255,140,155,0.5) !important;\r\n\tcolor: #9c2d75 !important;\r\n\tborder-bottom-color: RGBA(255,140,155,0.5) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.good, .grid-content-table tr.good > td\r\n{\r\n\tbackground-color: RGBA(156,237,171, 0.5) !important;\r\n\tcolor: #007b74 !important;\r\n\tborder-bottom-color: RGBA(156,237,171, 0.5) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.neutral, .grid-content-table tr.neutral > td\r\n{\r\n\tbackground-color: RGBA(255,216,79, 0.5) !important;\r\n\tcolor: #9c7258 !important;\r\n\tborder-bottom-color:  RGBA(255,216,79, 0.5) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.bold, .grid-content-table tr.bold > td\r\n{\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.italic, .grid-content-table tr.italic > td\r\n{\r\n\tfont-style: italic;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.red, .grid-content-table tr.red > td\r\n{\r\n\tcolor: white !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(255, 0, 0, 0.9) !important;\r\n\tborder-bottom-color: rgba(255, 0, 0, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.red60, .grid-content-table tr.red60 > td\r\n{\r\n\tbackground-color: rgba(255, 0, 0, 0.6) !important;\r\n\tborder-bottom-color: rgba(255, 0, 0, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.red40, .grid-content-table tr > td.red40\r\n{\r\n\tbackground-color: rgba(255, 0, 0, 0.4) !important;\r\n\tborder-bottom-color: rgba(255, 0, 0, 0.4) !important;\r\n}\r\n\r\n.grid-content-table  > tbody > tr > td.red20, .grid-content-table tr.red20 > td\r\n{\r\n\tbackground-color: rgba(255, 0, 0, 0.2) !important;\r\n\tborder-bottom-color: rgba(255, 0, 0, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.red0, .grid-content-table tr.red0 > td\r\n{\r\n\tcolor: rgba(255, 0, 0, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange, .grid-content-table tr.orange > td\r\n{\r\n\tcolor: white;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(255, 140, 0, 0.9) !important;\r\n\tborder-bottom-color: rgba(255, 140, 0, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange60, .grid-content-table tr.orange60 > td\r\n{\r\n\tbackground-color: rgba(255, 140, 0, 0.6) !important;\r\n\tborder-bottom-color: rgba(255, 140, 0, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange40, .grid-content-table tr.orange40 > td\r\n{\r\n\tbackground-color: rgba(255, 140, 0, 0.4) !important;\r\n\tborder-bottom-color: rgba(255, 140, 0, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange20, .grid-content-table tr.orange20 > td\r\n{\r\n\tbackground-color: rgba(255, 140, 0, 0.2) !important;\r\n\tborder-bottom-color: rgba(255, 140, 0, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.orange0, .grid-content-table tr.orange0 > td\r\n{\r\n\tcolor: rgba(255, 140, 0, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green, .grid-content-table tr.green > td\r\n{\r\n\tcolor: white !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(112, 173, 71, 0.9) !important;\r\n\tborder-bottom-color: rgba(112, 173, 71, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green60, .grid-content-table tr.green60 > td\r\n{\r\n\tbackground-color: rgba(112, 173, 71, 0.6) !important;\r\n\tborder-bottom-color: rgba(112, 173, 71, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green40, .grid-content-table tr.green40 > td\r\n{\r\n\tbackground-color: rgba(112, 173, 71, 0.4) !important;\r\n\tborder-bottom-color: rgba(112, 173, 71, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green20, .grid-content-table tr.green20 > td\r\n{\r\n\tbackground-color: rgba(112, 173, 71, 0.2) !important;\r\n\tborder-bottom-color: rgba(112, 173, 71, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.green0, .grid-content-table tr.green0 > td\r\n{\r\n\tcolor: rgba(112, 173, 71, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue, .grid-content-table tr.blue > td\r\n{\r\n\tcolor: white !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(91, 155, 213, 0.9) !important;\r\n\tborder-bottom-color: rgba(91, 155, 213, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue60, .grid-content-table tr.blue60 > td\r\n{\r\n\tbackground-color: rgba(91, 155, 213, 0.6) !important;\r\n\tborder-bottom-color: rgba(91, 155, 213, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue40, .grid-content-table tr.blue40 > td\r\n{\r\n\tbackground-color: rgba(91, 155, 213, 0.4) !important;\r\n\tborder-bottom-color: rgba(91, 155, 213, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue20, .grid-content-table tr.blue20 > td\r\n{\r\n\tbackground-color: rgba(91, 155, 213, 0.2) !important;\r\n\tborder-bottom-color: rgba(91, 155, 213, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.blue0, .grid-content-table tr.blue0 > td\r\n{\r\n\tcolor: rgba(91, 155, 213, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow, .grid-content-table tr.yellow > td\r\n{\r\n\tcolor: black !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(255, 255, 0, 0.9) !important;\r\n\tborder-bottom-color: rgba(255, 255, 0, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow60, .grid-content-table tr.yellow60 > td\r\n{\r\n\tbackground-color: rgba(255, 255, 0, 0.6) !important;\r\n\tborder-bottom-color: rgba(255, 255, 0, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow40, .grid-content-table tr.yellow40 > td\r\n{\r\n\tbackground-color: rgba(255, 255, 0, 0.4) !important;\r\n\tborder-bottom-color: rgba(255, 255, 0, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow20, .grid-content-table tr.yellow20 > td\r\n{\r\n\tbackground-color: rgba(255, 255, 0, 0.2) !important;\r\n\tborder-bottom-color: rgba(255, 255, 0, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.yellow0, .grid-content-table tr.yellow0 > td\r\n{\r\n\tcolor: rgba(255, 255, 0, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple, .grid-content-table tr.purple > td\r\n{\r\n\tcolor: white !important;\r\n\tfont-weight: bold;\r\n\tbackground-color: rgba(128, 0, 128, 0.9) !important;\r\n\tborder-bottom-color: rgba(128, 0, 128, 0.9) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple60, .grid-content-table tr.purple60 > td\r\n{\r\n\tbackground-color: rgba(128, 0, 128, 0.6) !important;\r\n\tborder-bottom-color: rgba(128, 0, 128, 0.6) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple40, .grid-content-table tr.purple40 > td\r\n{\r\n\tbackground-color: rgba(128, 0, 128, 0.4) !important;\r\n\tborder-bottom-color: rgba(128, 0, 128, 0.4) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple20, .grid-content-table tr.purple20 > td\r\n{\r\n\tbackground-color: rgba(128, 0, 128, 0.2) !important;\r\n\tborder-bottom-color: rgba(128, 0, 128, 0.2) !important;\r\n}\r\n\r\n.grid-content-table > tbody > tr > td.purple0, .grid-content-table tr.purple0 > td\r\n{\r\n\tcolor: rgba(128, 0, 128, 1) !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n',""]),e.exports=r},"client-controls/controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".inline-screen-dialog {\r\n\theight: 100%;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/inline-screen/qp-inline-screen.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".inline-screen,\r\n.inline-screen compose {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n}\r\n\r\n.inline-screen__iframe {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,":root {\r\n\t--control-hover-background: rgba(0, 0, 0, 0.07);\r\n\t--control-text-color: #1B1B1B;\r\n\t--control-shadow-color: rgba(115, 115, 115, 0.7);\r\n\t--control-thumb-color: rgba(0, 0, 0, 0.15);\r\n\t--control-thumb-border-color: white;\r\n\t--control-thumb-hover-color: rgba(0, 0, 0, 0.40);\r\n\t--control-track-color: transparent;\r\n\t--control-border-color: rgba(0, 0, 0, 0.09);\r\n\t--control-border-radius: 6px;\r\n\t--control-toolbar-hover-background: rgba(0, 0, 0, 0.06);\r\n\t--control-toolbar-pushed-background: rgb(236, 237, 240);\r\n\t--control-disabled-opacity: 0.26;\r\n\t--control-toolbar-item-opacity: 1;\r\n\t--control-toolbar-item-hover-opacity: 1;\r\n\t--control-toolbar-gap: 4px;\r\n\t--control-toolbar-item-height: var(--input-height, 32px);\r\n}\r\n\r\nqp-control-bar {\r\n\tdisplay: block;\r\n}\r\n\r\n.qp-control-bar {\r\n\theight: unset;\r\n\twidth: 100%;\r\n\tcolor: var(--control-text-color);\r\n}\r\n\r\n.qp-control-bar qp-layout {\r\n\t--layout-column-gap: 0px;\r\n\t--layout-row-gap: 4px;\r\n\t--layout-column-count: 4;\r\n}\r\n\r\n.qp-control-bar-item-container {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n}\r\n\r\n.qp-control-bar-item {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n\tmargin: 0px;\r\n\tmargin-right: var(--control-toolbar-gap);\r\n\tpadding: 0px;\r\n\theight: var(--control-toolbar-item-height);\r\n\topacity: var(--control-toolbar-item-opacity);\r\n}\r\n\r\n.qp-control-bar-item:hover {\r\n\topacity: var(--control-toolbar-item-hover-opacity);\r\n}\r\n\r\n.qp-control-bar-item > .qp-control-bar-control {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-control-bar svg,\r\n.qp-control-bar-item svg {\r\n\tmax-width: 18px;\r\n\tmax-height: 18px;\r\n}\r\n\r\n.qp-control-bar .rte-icon,\r\n.qp-control-bar-item .rte-icon {\r\n\tmax-height: 16px;\r\n}\r\n\r\n.qp-control-bar qp-hyper-icon,\r\n.qp-control-bar-item qp-hyper-icon {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-control-bar-item .qp-menu {\r\n\tdisplay: inline-flex;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-control-bar-item .qp-menu-options .qp-menu-item:hover {\r\n\tbackground-color: var(--control-hover-background);\r\n\tcolor: var(--control-text-color);\r\n}\r\n\r\n.qp-control-bar-item qp-menu .qp-menu-options {\r\n\tpadding-top: 8px;\r\n\tpadding-bottom: 8px;\r\n}\r\n\r\n.qp-control-bar-item qp-menu .qp-menu-options .qp-menu-item {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n\tmin-height: 18px;\r\n\tline-height: 18px;\r\n\topacity: 0.87;\r\n\tpadding: 8px 16px;\r\n}\r\n\r\n.qp-control-bar-item .qp-menu>button,\r\n.qp-control-bar-item .qp-menu-color-picker>button\r\n {\r\n\theight: 100%;\r\n\tline-height: unset;\r\n\tpadding-top: 0px;\r\n\tpadding-bottom: 0px;\r\n}\r\n\r\n.qp-control-bar-item .qp-menu-action-button,\r\n.qp-control-bar-item .qp-menu-color-picker-action-button {\r\n\tpadding: 0px 10px;\r\n}\r\n\r\n.qp-control-bar-item .qp-menu>.qp-menu-action-opener {\r\n\tmargin: 0px;\r\n\twidth: 16px;\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\tpadding: 0px;\r\n}\r\n\r\n.qp-control-bar-item .qp-control-bar-button {\r\n\tbackground-color: transparent;\r\n\tpadding: 0px;\r\n\tborder-radius: var(--control-border-radius);\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding: 0px 8px;\r\n}\r\n\r\n.qp-control-bar-item .qp-control-bar-button:hover {\r\n\tbackground-color: var(--control-toolbar-hover-background) !important;\r\n}\r\n\r\n.qp-control-bar-item .qp-control-bar-button.disabled {\r\n\topacity: var(--control-disabled-opacity);\r\n\tcursor: default;\r\n\tbackground-color: inherit;\r\n\tcolor: inherit;\r\n}\r\n\r\n.qp-control-bar-item .qp-control-bar-button.disabled:hover {\r\n\tbackground-color: unset;\r\n}\r\n\r\n.qp-control-bar-item .qp-control-bar-button qp-hyper-icon + .qp-tool-bar-text {\r\n\tmargin-left: 8px;\r\n}\r\n\r\n\r\n.qp-control-bar-item .qp-control-bar-button.qp-toggle-pushed {\r\n\tbackground-color: var(--control-toolbar-pushed-background);\r\n}\r\n\r\n.qp-control-bar-item .qp-control-bar-button.qp-toggle-released {\r\n\tbackground-color: unset;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__editor {\r\n\tbackground-color: unset;\r\n\tborder-width: 0px;\r\n\toutline-width: 0px;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__editor:hover {\r\n\tbackground-color: var(--control-toolbar-hover-background);\r\n}\r\n\r\n.qp-control-bar-item .disabled .drop-down__editor:hover {\r\n\tbackground-color: inherit;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__editor.focus {\r\n\tborder-width: 0px;\r\n\tbox-shadow: unset;\r\n\tbackground-color: var(--control-toolbar-hover-background);\r\n}\r\n\r\n.qp-control-bar-item .drop-down__editor .drop-down__text {\r\n\theight: unset;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__editor .editorCont .editorWrap {\r\n\ttext-align: left;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane {\r\n\tbox-shadow: 0px 0px 16px var(--control-shadow-color);\r\n\tpadding-top: 8px;\r\n\tpadding-bottom: 8px;\r\n\tborder-radius: var(--control-border-radius);\r\n\tmax-height: 400px;\r\n\tcursor: auto;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane::-webkit-scrollbar {\r\n\tbackground-color: var(--control-track-color);\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane::-webkit-scrollbar-thumb {\r\n\tbackground-color: var(--control-thumb-color);\r\n\tborder: 4px solid var(--control-thumb-border-color);\r\n\tborder-radius: 8px;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane::-webkit-scrollbar-thumb:hover {\r\n\tbackground-color: var(--control-thumb-hover-color);\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane::-webkit-scrollbar-track {\r\n\tbackground-color: var(--control-track-color);\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane .drop-down__option {\r\n\tmin-height: 18px;\r\n\tline-height: 16px;\r\n\topacity: 0.87;\r\n\tpadding: 8px 16px;\r\n}\r\n\r\n.qp-control-bar-item .drop-down__options-pane .drop-down__option:hover,\r\n.qp-control-bar-item .drop-down__options-pane .drop-down__option.ddSelection {\r\n\tbackground-color: var(--control-toolbar-hover-background);\r\n\tcolor: var(--control-text-color);\r\n}\r\n\r\n.qp-control-bar-item .drop-down__editor.ReadOnly {\r\n\topacity: var(--control-disabled-opacity);\r\n}\r\n\r\n.qp-control-bar-item .qp-tool-bar-splitter {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-control-bar-item .qp-tool-bar-splitter .splitter {\r\n\tdisplay: block;\r\n\theight: 24px;\r\n\tborder-color: var(--control-border-color);\r\n\tborder-left-width: 1px;\r\n\tborder-left-style: solid;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/rich-text-editor/qp-rich-text-editor.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-rich-text-editor {\r\n\t--control-border-color: rgba(0, 0, 0, 0.09);\r\n\r\n\tdisplay: block;\r\n}\r\n\r\n.qp-rte-control {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tbox-sizing: border-box;\r\n\theight: 100%;\r\n\toutline: 0px;\r\n\tborder-width: 1px;\r\n\tborder-style: solid;\r\n\tborder-color: rgba(0, 0, 0, 0.09);\r\n}\r\n\r\nqp-tab.no-padding .qp-rich-text-editor.stretch .qp-rte-control {\r\n\tborder-top-width: 0px;\r\n}\r\n\r\n.qp-rte-body {\r\n\t--content-padding: 16px;\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tbackground-color: white;\r\n}\r\n\r\n.qp-rte-body > * {\r\n\tbox-sizing: border-box;\r\n\tflex-grow: 1;\r\n\tborder: 0px;\r\n\toutline: 0px;\r\n}\r\n\r\n.qp-rte-toolbar {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n\tpadding: 12px;\r\n\twidth: 100%;\r\n\toverflow: hidden;\r\n\tbox-sizing: border-box;\r\n\tbackground-color: rgba(245, 247, 249, 1);\r\n}\r\n\r\n.qp-rte-toolbar.main {\r\n\tborder-width: 0px 0px 1px 0px;\r\n\tborder-style: solid;\r\n\tborder-color: var(--control-border-color);\r\n}\r\n\r\n.qp-rte-toolbar > * {\r\n\tflex: 1;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-rte-toolbar .qp-control-bar-panel {\r\n\tflex: 0 0 auto;\r\n}\r\n\r\n.qp-rte-control-readonly {\r\n\tborder: none;\r\n}\r\n\r\n.qp-rte-control-readonly .qp-rte-toolbar {\r\n\tpadding: 0;\r\n\tborder: none;\r\n}\r\n\r\n.qp-rte-control-readonly .qp-rte-body {\r\n\t--content-padding: 0px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/side-panel/qp-side-panel.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,":root {\r\n\t/* TODO: get rid of local variables, use unprefixed */\r\n\t--side-panel-highlight-color: #CCE5F5;\r\n\t--side-panel-hovered-background: #E0E0E0;\r\n}\r\n\r\n.qp-side-panel {\r\n\tdisplay: flex;\r\n\tmax-height: 100%;\r\n\tborder-left: 1px solid var(--qp-border-color);\r\n\tflex: 1 auto;\r\n}\r\n\r\n.qp-side-panel--expanded {\r\n\tmin-width: 402px;\r\n\tflex: 1 auto;\r\n}\r\n\r\n.qp-side-panel--maximized {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: fixed;\r\n\tright: 0;\r\n\tbackground: #FFFFFF;\r\n\tborder-left: none;\r\n}\r\n\r\n.qp-side-panel__menu {\r\n\twidth: 80px;\r\n\tflex-shrink: 0;\r\n\tflex-grow: 0;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tborder-right: 1px solid var(--qp-border-color);\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.qp-side-panel__menu-item {\r\n\tlist-style: none;\r\n\tpadding: 13px 7px;\r\n\tcolor: var(--qp-primary-color);\r\n\tborder-width: 1px 2px 1px 5px;\r\n\tborder-style: solid;\r\n\tborder-color: transparent;\r\n\ttext-align: center;\r\n\tmargin-right: -1px;\r\n\toverflow-x: hidden;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-side-panel__menu-item:first-child {\r\n\tborder-top: none;\r\n}\r\n\r\n.qp-side-panel__menu-item:not(.qp-side-panel__menu-item--active):hover {\r\n\tbackground-color: var(--side-panel-hovered-background);\r\n}\r\n\r\n.qp-side-panel__menu-item--active {\r\n\tborder-right-color: #FFFFFF;\r\n\tborder-left-color: var(--side-panel-highlight-color);\r\n\tborder-top-color: var(--qp-border-color);\r\n\tborder-bottom-color: var(--qp-border-color);\r\n}\r\n\r\n.qp-side-panel__menu-item-icon {\r\n\tfont-size: 26px;\r\n}\r\n\r\n.qp-side-panel__menu-item-label {\r\n\tdisplay: block;\r\n\tfont-size: 10px;\r\n\topacity: 0.8;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: normal;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-side-panel__toggler {\r\n\tlist-style: none;\r\n\theight: 36px;\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n\tmargin-top: auto;\r\n}\r\n\r\n.qp-side-panel__toggler:before {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\twidth: 8px;\r\n\theight: 8px;\r\n\tborder-top: 2px solid gray;\r\n\tborder-right: 2px solid gray;\r\n\tposition: absolute;\r\n\tleft: 50%; top: 50%;\r\n\ttransform: translate(-45%, -50%) rotate(-135deg);\r\n}\r\n\r\n.qp-side-panel--expanded .qp-side-panel__toggler:before {\r\n\ttransform: translate(-55%, -50%) rotate(45deg);\r\n}\r\n\r\n.qp-side-panel__toggler:hover:before {\r\n\tborder-color: black;\r\n}\r\n\r\n.qp-side-panel__screen {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tmax-width: 100%;\r\n\tmin-width: 320px;\r\n\tflex: 1 auto;\r\n\toverflow: hidden;\r\n\r\n\tcontainer-type: inline-size;\r\n\tcontainer-name: qp-screen;\r\n}\r\n\r\n.qp-side-panel__screen-scroller {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex: 1 auto;\r\n\toverflow-x: hidden;\r\n\tpadding-left: 10px;\r\n\tpadding-right: 4px;\r\n}\r\n\r\n.qp-side-panel__screen-header {\r\n\tposition: relative;\r\n\tpadding: 10px 150px 10px 10px;\r\n\tmargin-bottom: 5px;\r\n\tmin-height: 34px;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n@container qp-screen (max-width: 400px) { /* SM */\r\n\t.qp-side-panel__screen-header {\r\n\t\tpadding-right: 0;\r\n\t\tpadding-top: 35px;\r\n\t}\r\n}\r\n\r\n.qp-side-panel__screen-header-controls {\r\n\tposition: absolute;\r\n\tright: 10px;\r\n\ttop: 5px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-side-panel__screen-header-controls #pnlNote qp-button span {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-side-panel__screen-header-controls #pnlFiles qp-button span {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-side-panel__screen-control-button {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tmargin-left: 5px;\r\n\tborder: none;\r\n\tbackground: none;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-side-panel__scree-header-icon {\r\n\topacity: 0.7;\r\n}\r\n\r\n.qp-side-panel__screen-control-button:hover .qp-side-panel__scree-header-icon {\r\n\topacity: 1;\r\n}\r\n\r\n.qp-side-panel__scree-header-icon--notes {\r\n\twidth: 21px;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-side-panel__scree-header-icon--files {\r\n\twidth: 22px;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-side-panel__scree-header-icon--maximizer {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.qp-side-panel__screen-caption {\r\n\tfont-size: 15px;\r\n\topacity: 0.5;\r\n}\r\n\r\n.qp-side-panel__screen-message {\r\n\tfont-size: 19px;\r\n\tmargin-top: 0.25em;\r\n}\r\n\r\n.qp-side-panel__content {\r\n\tflex: 1 auto;\r\n}\r\n\r\n.qp-side-panel__collapsible-anchor .qp-collapser.toggle {\r\n\tmargin: 0 3px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/system-menu/qp-sys-menu.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-sys-menu {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: flex-end;\r\n\talign-items: center;\r\n}\r\n\r\nqp-sys-menu .qp-menu {\r\n\topacity: 0.87;\r\n}\r\n\r\nqp-sys-menu qp-button button.qp-button {\r\n    background-color: white;\r\n    border: none;\r\n}\r\n.qp-system-menu {\r\n\tz-index: 1;\r\n\tmargin-left: 8px;\r\n}\r\n\r\nqp-sys-menu button.qp-button qp-icon {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tvertical-align: bottom;\r\n\tdisplay: inline-block;\r\n}\r\n\r\nqp-sys-menu button.qp-button qp-icon {\r\n\tfill: #000000;\r\n\tcolor: #FFD800;\r\n}\r\n\r\n.files-dialog-grid {\r\n\theight: 450px;\r\n}\r\n#business_grid {\r\n\theight: 100%;\r\n}\r\n\r\n.files-dialog-grid qp-filter-box, .files-dialog-grid .qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button.disabled {\r\n\tdisplay: none;\r\n}\r\n\r\n.activities-table {\r\n    table-layout: fixed;\r\n    border-collapse: collapse;\r\n    width: 100%;\r\n    cursor: default;\r\n}\r\n.activities-table td {\r\n    padding: 5px 3px;\r\n    cursor: default;\r\n}\r\n.activities-table tr {\r\n    border-bottom: 1px solid LightGrey;\r\n}\r\n\r\n.activities-table tr.unread {\r\n    font-weight: bold;\r\n}\r\n.activities-table .activity__icon {\r\n    width:5%;\r\n\r\n}\r\n.activities-table .activity__datestart {\r\n    width:20%;\r\n}\r\n.activities-table .activity__title {\r\n    width: 60%;\r\n}\r\n.activities-table .activity__duration {\r\n    width: 15%;\r\n}\r\n.activities-table .activity__datestart,\r\n.activities-table .activity__duration {\r\n    color: red;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n.designMode .qp-field:hover .selector,\r\n.designMode .qp-field:hover .qp-text-editor,\r\n.designMode .qp-field:hover .editor input,\r\n.designMode .qp-field:hover .editor,\r\n.designMode .qp-field:hover .dropDown,\r\n.designMode .qp-field:hover .toolsBtn,\r\n.designMode .qp-field:hover .branch-selector__editor,\r\n.designMode .qp-field:hover .drop-down__editor\r\n{\r\n\tbox-shadow: inset 0px 0px 2px 0px #007ACC;\r\n\tbox-shadow: inset 0px 0px 2px 0px var(--primary-color, #007ACC);\r\n\tcursor: help !important;\r\n}\r\n.designMode .qp-field:hover .branch-selector__editor input,\r\n.designMode .qp-field:hover .branch-selector__button,\r\n.designMode .qp-field:hover .editor button\r\n{\r\n\tcursor: help !important;\r\n}\r\n\r\n.designMode .qp-field:hover .controlCont,\r\n.designMode .qp-field:hover .qp-checkbox,\r\n.designMode .qp-field:hover .editor,\r\n.designMode .qp-field:hover .dropDown,\r\n.designMode .qp-field:hover .toolsBtn,\r\n.designMode .qp-field:hover .branch-selector__editor,\r\n.designMode .qp-field:hover .qp-text-editor,\r\n.designMode .qp-field:hover .drop-down__editor\r\n{\r\n\tborder-color: #007ACC;\r\n\tborder-color: var(--primary-color, #007ACC);\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.designMode .qp-field:hover .qp-checkbox,\r\n.designMode .col-header:hover\r\n{\r\n\tbox-shadow: inset 0px 0px 2px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 2px 1px var(--primary-color, #007ACC);\r\n\tcursor: help !important;\r\n}\r\n\r\n.designMode,\r\n.designMode .toolBtnNormal:hover,\r\n.designMode .toolBtnDisabled:hover,\r\n.designMode label:hover,\r\n.designMode qp-grid:hover,\r\n.designMode .FormView:hover\r\n{\r\n\tcursor: help !important;\r\n}\r\n.popup-input{\r\n\twidth: 100%;\r\n\tmin-height:250px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/compound/tree/qp-tree.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'qp-tree {\r\n    display: block;\r\n}\r\n\r\n.v-stack > qp-tree {\r\n\tflex: 1 auto;\r\n\tmin-height: 0;\r\n}\r\n\r\n.tree-root {\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\nqp-tree table {\r\n    border: none;\r\n}\r\nqp-tree qp-text-editor input {\r\n\twidth: 100%;\r\n}\r\n.tree-container {\r\n\toverflow-y: hidden;\r\n\toverflow-x: auto;\r\n\tmin-height: 100%;\r\n\tdisplay: block;\r\n}\r\n.tree-container.scroll-padding {\r\n\tmargin-bottom: 5px;\r\n}\r\n.tree-container::-webkit-scrollbar, .tree-table-wrap::-webkit-scrollbar {\r\n\twidth: 8px;\r\n\theight: 8px;\r\n\tbackground: transparent;\r\n}\r\n.tree-container::-webkit-scrollbar-thumb, .tree-table-wrap::-webkit-scrollbar-thumb {\r\n\tbackground: rgba(0, 0, 0, 0.15);\r\n\twidth: 8px;\r\n\tborder-radius: 8px;\r\n}\r\n\r\n.tree-table-container {\r\n\tmin-height: 100px;\r\n\twhite-space: nowrap;\r\n\toverflow: auto;\r\n\tflex: 1 auto;\r\n}\r\n\r\n.tree-table-container.has-size {\r\n\tposition: absolute;\r\n}\r\n\r\n.tree-table-wrap {\r\n\toverflow: auto;\r\n\tposition: relative;\r\n\theight: 100%;\r\n}\r\n.tree-table-wrap.hidden {\r\n\tvisibility: hidden;\r\n}\r\n\r\n.tree-flex {\r\n    align-items: center;\r\n    display: flex;\r\n\twidth: 100%;\r\n\tmin-width: 0;\r\n\tflex: 1;\r\n}\r\n\r\n.tree-main-toolbar {\r\n\tflex: 0 auto;\r\n    padding: 5px 0px 12px;\r\n    flex-direction: row;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: end;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.tree-main-toolbar__caption {\r\n\tflex: 1 50%;\r\n\tmargin: 7px 0;\r\n\tpadding-right: 20px;\r\n\tfont-size: 15px;\r\n\tfont-weight: bold;\r\n}\r\n\r\n.tree-main-toolbar__caption--wide {\r\n\tflex-basis: 100%;\r\n}\r\n\r\n.filter-box.tree-main-toolbar__filter-box {\r\n\tflex: 1 50%;\r\n\twidth: auto;\r\n\tmin-width: 100px;\r\n}\r\n\r\n.tree-main-toolbar qp-button {\r\n\tbackground-color: #28a745;\r\n\tcolor: #fff;\r\n\tmargin: 3px 0px;\r\n\tleft: 0px;\r\n    position: absolute;\r\n}\r\n\r\n.tree-main-toolbar qp-button button {\r\n\tbackground-color: inherit;\r\n\tcolor: inherit;\r\n\tborder: 0px;\r\n\theight: 30px;\r\n\tline-height: 20px;\r\n\tpadding: 5px 10px;\r\n\topacity: 1;\r\n\tfont-family: Arial, "Helvetica Neue", Helvetica, sans-serif !important;\r\n}\r\n.tree-container .optional-item input.qp-text-editor[enabled="false"] {\r\n\tborder-width: 0px;\r\n}\r\n\r\n.tree-main-toolbar div.qp-tool-bar {\r\n\tmargin: 0 0 0 -4px;\r\n\theight: auto;\r\n}\r\n\r\n.tree-main-toolbar__toolbar-container {\r\n\tmargin-top: 2px;\r\n\tmax-width: 50%;\r\n}\r\n\r\n.tree-main-toolbar__toolbar-container--wide {\r\n\tmax-width: 100%;\r\n}\r\n\r\n.optional-item input.qp-text-editor[enabled="false"] {\r\n\tborder-width: 0px;\r\n}\r\n.tree-main-toolbar qp-button button:not([disabled]):hover,\r\n.tree-main-toolbar qp-button button.pushed {\r\n\tbackground-color: rgba(0, 0, 0, 0.1) !important;\r\n}\r\n\r\n.tree-text .selected {\r\n    background-color: orange;\r\n}\r\n\r\n.tree-checkbox {\r\n\tpadding: 4px 7px;\r\n}\r\n\r\n.tree-checkbox input {\r\n    accent-color: var(--primary-color, #007ACC);\r\n    border: 1px solid rgba(0, 0, 0, 0.19);\r\n    border-radius: 2px;\r\n    margin: 0px;\r\n    padding: 0px;\r\n}\r\n\r\n.tree-checkbox div {\r\n    border-radius: 2px;\r\n}\r\n\r\n.tree-checkbox .indeterminate {\r\n    background-color: white;\r\n    border: 1px solid var(--primary-color, #007ACC);\r\n}\r\n\r\n.tree-checkbox .indeterminate>.inside {\r\n    width: 8px;\r\n    height: 8px;\r\n    background-color: var(--primary-color, #007ACC);\r\n    margin: 3px;\r\n}\r\n\r\n.tree-checkbox input[type="checkbox"]:focus {\r\n    box-shadow: 0px 0px 0px rgba(115, 115, 115, 0.5);\r\n}\r\n\r\n.tree-open {\r\n    cursor: pointer;\r\n    width: 16px;\r\n\tmargin: 2px 0 2px 7px;\r\n\tfont-size: 16px;\r\n\ttext-align: center;\r\n}\r\n\r\n.tree-dragged {\r\n    cursor: grabbing;\r\n}\r\n.tree-row {\r\n\tdisplay: flex;\r\n\theight: var(--qp-input-height);\r\n\talign-items: center;\r\n}\r\n\r\n.empty-tree-search {\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\ttranslate: -50%;\r\n\tposition: absolute;\r\n\tfont-weight: bold;\r\n\tfont-size: 15px;\r\n\tcolor: rgba(0, 0, 0, 0.54);\r\n}\r\n\r\n.tree-node.hidden {\r\n    display: none;\r\n}\r\n\r\n.tree-node-hidden {\r\n    display: none;\r\n}\r\n\r\n.tree-node.draggable {\r\n    cursor: grab;\r\n}\r\n\r\n.tree-node:hover, .tree-node:hover .tree-sticky-column {\r\n    background-color: rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.tree-node:hover .tree-toolbar {\r\n    visibility: visible;\r\n}\r\n.tree-node-selected, .tree-node-selected .tree-sticky-column  {\r\n\tbackground-color: rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.tree-node-icon {\r\n\tpadding-right: 4px;\r\n\theight: auto;\r\n\tline-height: 0;\r\n\tmargin-top: 2px;\r\n\tmargin-left: 7px;\r\n}\r\n\r\n.tree-text-input {\r\n    border: 2px solid #027ACC;\r\n    box-sizing: border-box;\r\n    border-radius: 6px;\r\n    height: 26px;\r\n    width: 100%;\r\n    margin: -2px;\r\n}\r\n\r\n.tree-text-input.hidden {\r\n    display: none;\r\n}\r\n\r\n.tree-text {\r\n    margin-left: 7px;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    user-select: none;\r\n\ttext-overflow: ellipsis;\r\n}\r\nspan.tree-text, .tree-text span {\r\n    font-size: 14px;\r\n}\r\n\r\n.tree-edit-buttons {\r\n    display: none;\r\n    background-color: white;\r\n    padding: 6px;\r\n    position: absolute;\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 5px;\r\n    position: fixed;\r\n    z-index: 100;\r\n}\r\n\r\n.tree-edit-buttons>div {\r\n    display: block;\r\n    padding: 6px;\r\n}\r\n\r\n.tree-node-drag, .tree-node-drag td {\r\n    background-color: #D7EFFF;\r\n}\r\n\r\n.tree-toolbar {\r\n    user-select: none;\r\n    padding: 0px 4px;\r\n    cursor: pointer;\r\n}\r\n\r\n.tree-toolbar .tree-header:not(.hidden) {\r\n    visibility: hidden;\r\n}\r\n.tree-header {\r\n    display: flex;\r\n    align-items: baseline;\r\n    justify-content: flex-end;\r\n}\r\n.tree-toolbar svg {\r\n    max-height: 16px;\r\n    max-width: 16px;\r\n}\r\n\r\n.tree-toolbar>div {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    flex-direction: column;\r\n    position: absolute;\r\n    padding: 8px 20px;\r\n    background: #FFFFFF;\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 5px;\r\n}\r\n\r\n.tree-toolbar>div>div {\r\n    white-space: nowrap;\r\n    margin: 7px 0px;\r\n}\r\n\r\n.tree-toolbar>div>div>i {\r\n    margin-right: 7px;\r\n}\r\n\r\n.tree-toolbar .hidden {\r\n    display: none;\r\n}\r\n\r\n.tree-header.scroll-padding {\r\n\tpadding-right: 10px;\r\n}\r\n.tree-toolbar-right {\r\n    right: 10px;\r\n    z-index: 5;\r\n}\r\n.tree-toolbar.hidden {\r\n    opacity: 0;\r\n    cursor: default;\r\n}\r\n.tree-separator {\r\n    width: 100%;\r\n    background-color: black;\r\n    height: 2px;\r\n    padding: 1px;\r\n}\r\n\r\n.tree-separator.hidden {\r\n    opacity: 0;\r\n\theight: 0;\r\n}\r\n\r\n.tree-quad {\r\n\tbox-sizing: content-box;\r\n    width: 16px;\r\n    height: 16px !important;\r\n}\r\n.tree-toolbar.tree-sticky-column {\r\n\tright: 0px;\r\n}\r\n.optional-item {\r\n    height: var(--qp-input-height);\r\n\tdisplay: flex;\r\n    align-items: end;\r\n    justify-content: right;\r\n    text-align: center;\r\n    overflow: hidden;\r\n    margin-top: -4px;\r\n}\r\n\r\n.tree-sticky-column {\r\n\tposition: absolute;\r\n\theight: var(--qp-input-height);\r\n}\r\n.qp-tabbed-tree-selector-tab .tree-container {\r\n\theight: unset;\r\n}\r\n.qp-tabbed-tree-selector-tab .grid-top-bar-cont {\r\n\tpadding-bottom: 0;\r\n}\r\n.qp-tabbed-tree-selector-tab .grid-header-table,\r\n.qp-tabbed-tree-selector-tab .grid-content-table {\r\n\twidth: 100%;\r\n}\r\n.qp-tabbed-tree-selector .filter-box {\r\n\tmargin-right: 0;\r\n}\r\n.qp-tabbed-tree-selector qp-grid {\r\n\tborder: none;\r\n}\r\n.qp-tabbed-tree-selector .tree-main-toolbar qp-tool-bar {\r\n\tmargin-top: 0;\r\n}\r\n',""]),e.exports=r},"client-controls/controls/container/field/qp-field.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'.qp-field\r\n{\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-field-wrapper {\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-field .wrapper, .qp-field-wrapper\r\n{\r\n\tdisplay: flex;\r\n\tposition: relative;\r\n\tborder-radius: 6px;\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.control-container > .qp-field > .wrapper {\r\n\tleft: -10px;\r\n\tmargin-right: -10px;\r\n}\r\n\r\n.label-wrapper > .qp-field {\r\n\tmargin-left: -10px;\r\n}\r\n\r\n.qp-field-wrapper .control-container,\r\n.qp-field .control-container {\r\n\tposition: relative;\r\n}\r\n\r\n.qp-field .control-container.size-default,\r\n.qp-field-wrapper .control-container.size-default {\r\n\tflex: 1 1 auto;\r\n\twidth: 66%;\r\n\tmin-width: 0;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tgap: 10px;\r\n\tflex-wrap: wrap;\r\n}\r\n\r\n.qp-field .wrapper .main-control {\r\n\tflex-grow: 1;\r\n\twidth: calc( 2 * ( 100% + 10px ) / 12 - 10px ); /* 2 cols minimum */\r\n}\r\n\r\n.qp-field .wrapper .main-control ~ * {\r\n\tflex-grow: 0;\r\n\twidth: calc( 6 * ( 100% + 10px ) / 12 - 10px ); /* 6 cols or 50/50 by default*/\r\n}\r\n\r\n.qp-field-wrapper .control-container {\r\n\tline-height: 25px;\r\n}\r\n\r\n.qp-field .control-container > enhanced-compose > *,\r\n.qp-field-wrapper .control-container > * > *\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\n\r\n.qp-field .req-l .label-container:after {\r\n\tcontent: "*";\r\n\tfont-size: 15px;\r\n\topacity: 1;\r\n\r\n\tpadding: 0 3px;\r\n\tline-height: var(--qp-input-height);\r\n}\r\n.qp-field .req-l.qp-field-empty .label-container:after {\r\n\tcolor: #f00;\r\n}\r\n\r\n/* .qp-field.no-label .wrapper.err-l,\r\n.qp-field.no-label .wrapper.war-l,\r\n.qp-field.no-label .wrapper.inf-l {\r\n\tpadding-left: 8px;\r\n\tpadding-right: 26px;\r\n} */\r\n\r\n.qp-field.no-label .icon-container {\r\n\tleft: auto; right: 8px;\r\n}\r\n\r\n.qp-field .wrapper.err-l {\r\n\tbackground-color: rgba(255, 0, 0, 0.17);\r\n}\r\n\r\n.qp-field .wrapper.war-l {\r\n\tbackground-color: rgba(255, 193, 9, 0.2);\r\n}\r\n\r\n\r\n.qp-field .icon-container {\r\n\tfont-family: \'FontAwesome\';\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: var(--qp-input-height);\r\n\t/* Better Font Rendering =========== */\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tposition: absolute;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n\tfont-size: 16px;\r\n\tleft: -20px;\r\n\tz-index: 1;\r\n}\r\n\r\n.qp-field .err-l .icon-container,\r\n.qp-field .war-l .icon-container {\r\n\tcursor: help;\r\n}\r\n\r\n.qp-field .err-l .icon-container:before {\r\n  content: "\\e997";\r\n  color: #dc3545;\r\n}\r\n\r\n.qp-field .war-l .icon-container:before {\r\n  content: "\\e99a";\r\n  color: #ffc109;\r\n}\r\n\r\n.qp-field .war-l .icon-container:after {\r\n  content: "\\e99b";\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  color: black;\r\n}\r\n\r\n.qp-field .inf-l .icon-container:before {\r\n  content: "\\e998";\r\n  color: #28a745;\r\n}\r\n\r\n.qp-field .inf-l .icon-container:after {\r\n  content: "\\e999";\r\n  position: absolute;\r\n  top: 4px;\r\n  left: 0;\r\n  color: white;\r\n}\r\n\r\n.labelH {\r\n\toverflow: hidden;\r\n \tcolor: rgba(0, 0, 0, 0.64);\r\n}\r\n\r\n.qp-field-wrapper .label-wrapper,\r\n.qp-field > .wrapper > .label-wrapper {\r\n\twidth: calc( var(--qp-default-label-width) * var(--qp-label-zoom) );\r\n}\r\n\r\n.qp-field > .wrapper > .label-wrapper input {\r\n\tborder: none;\r\n\tpadding: 0;\r\n}\r\n.qp-field > .wrapper > .label-wrapper .drop-down__text.ReadOnly {\r\n\tpadding-left: 0;\r\n\tpadding-right: 0;\r\n}\r\n\r\n.label-wrapper > .label-container {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-field-wrapper .label-container,\r\n.qp-field > .wrapper > .label-wrapper,\r\n.qp-field .label-container {\r\n\tflex-grow: 0;\r\n\tflex-shrink: 0;\r\n\t/* width: var(--qp-default-label-width, 140px); */\r\n\r\n\tmargin-right: 13px;\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n}\r\n\r\n/* .qp-field .err-l .label-container,\r\n.qp-field .inf-l .label-container,\r\n.qp-field .war-l .label-container {\r\n\tpadding-left: 26px;\r\n} */\r\n\r\n.qp-field .size-s {\r\n\tflex-grow: 0.5 !important;\r\n\tflex-shrink: 0;\r\n}\r\n\r\n.qp-field.qp-field-collapsed {\r\n\t/*max-height: 0;\r\n\tmargin-top: 0;\r\n\ttransition: max-height .2s ease-out, margin-top .2s linear;*/\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-field.qp-field-expanded {\r\n/*\ttransition: max-height .2s ease-in, margin-top .2s linear;*/\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n}\r\n\r\n@media (min-width: 0) and (max-width: 480px) { /* Extra SM */\r\n\t.qp-field .wrapper, .qp-field-wrapper {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.qp-field .wrapper .label-wrapper {\r\n\t\tflex-direction: row;\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: -6px;\r\n\t}\r\n\r\n\t.qp-field .req-l .label-container:after {\r\n\t\tpadding: 0 0 0 3px;\r\n\t}\r\n\r\n\t.qp-field .control-container.size-default,\r\n.qp-field-wrapper .control-container.size-default {\r\n\tflex: 1 1 auto;\r\n\twidth: 100%;\r\n}\r\n\r\n}\r\n',""]),e.exports=r},"client-controls/controls/container/fieldset/qp-fieldset-edit.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".edit-fieldset-container {\r\n\tjustify-content: space-between;\r\n\twidth: 750px;\r\n}\r\n\r\n.edit-column {\r\n\tflex: 1;\r\n\theight: 100%;\r\n}\r\n\r\n.edit-column-left {\r\n\tpadding-right: 20px !important;\r\n}\r\n\r\n.edit-column-right {\r\n\tpadding-left: 20px !important;\r\n}\r\n\r\n.edit-column-separator {\r\n\tborder-right: #D9D9D9 solid 1px;\r\n}\r\n\r\n.edit-column-content {\r\n\theight: calc(100% - 40px);\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n\tmargin-top: 8px;\r\n\tposition: relative;\r\n}\r\n\r\n.edit-column-title {\r\n\tpadding: 8px 0;\r\n\tposition: relative;\r\n\theight: 24px;\r\n}\r\n\r\n.full-height {\r\n\theight: calc(100% - 36px);\r\n}\r\n\r\n.edit-column-left-dropzone {\r\n\tposition: absolute;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n\tbackground-color: #027ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\topacity: 0.2;\r\n\tz-index: 100;\r\n}\r\n\r\n.fieldset--name-editor {\r\n\tbackground-color: #D7EFFF;\r\n    padding: 5px 15px 6px 10px;\r\n}\r\n\r\n.fieldset--name-editor input {\r\n\tborder: 2px solid #027ACC;\r\n\tborder: 2px solid var(--primary-color, #007ACC);\r\n    border-radius: 5px;\r\n    font-style: normal;\r\n    width: 100%;\r\n    color: #1B1B1B;\r\n\tpadding: 8px 7px 7px 7px;\r\n}\r\n\r\n.edit--view-name--container {\r\n\tdisplay: flex;\r\n}\r\n\r\n.edit--view--collapse {\r\n\tmargin-left: 4px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/container/fieldset/qp-fieldset-layout.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-fieldset-layout{\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n\tpadding: 16px 20px 16px 20px;\r\n\tbackground-color: #F5F7F9;\r\n\tborder-radius: 10px;\r\n\tborder: 1px solid rgba(0, 0, 0, 0.03);\r\n\tmargin-bottom: var(--qp-sections-row-gap);\r\n}\r\n\r\n.qp-fieldset-layout {\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n\trow-gap: var(--qp-inputs-gap);\r\n}\r\n\r\n.qp-fieldset-layout-root {\r\n\trow-gap: var(--qp-inputs-gap);\r\n\tcolumn-gap: 0;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-fieldset-layout > .h-stack {\r\n\tflex-wrap: nowrap;\r\n}\r\n\r\n.qp-fieldset-layout .qp-fieldset-layout-checkbox-panel {\r\n\tmargin-left: auto;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-fieldset-layout .qp-fieldset-layout-checkbox,\r\n.qp-fieldset-layout .qp-fieldset-layout-checkbox .qp-checkbox {\r\n\tdisplay: flex !important;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-fieldset-layout.stretch qp-field {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.qp-fieldset-layout.stretch qp-field > div.wrapper {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-fieldset-layout.stretch qp-field > div.wrapper > .control-container {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-fieldset-layout.stretch qp-field > div.wrapper > .control-container > enhanced-compose {\r\n\twidth: 100% !important;\r\n}\r\n\r\n",""]),e.exports=r},"client-controls/controls/container/fieldset/qp-fieldset.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'.qp-fieldset {\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n\theight: fit-content;\r\n\tbackground-color: #F5F7F9;\r\n\tposition: relative;\r\n\tborder-radius: 10px;\r\n\twidth: 100%;\r\n\tpadding: var(--qp-fieldset-padding-top) var(--qp-fieldset-padding-left) var(--qp-fieldset-padding-top) calc( var(--qp-fieldset-padding-left) - 10px);\r\n\tborder: 1px solid rgba(0, 0, 0, 0.03);\r\n\tmargin-bottom: var(--qp-sections-row-gap);\r\n}\r\n\r\n.summary-pane.qp-fieldset,\r\n.highlights-section {\r\n\tbackground-color: #DBF1FF;\r\n\tborder: 1px solid rgba(2, 122, 204, 0.35);\r\n}\r\n\r\n.framed-section {\r\n\tbackground-color: #F5F7F9;\r\n\tborder: 1px solid rgba(0, 0, 0, 0.03);\r\n\tpadding: var(--qp-fieldset-padding-top) var(--qp-fieldset-padding-left);\r\n\tborder-radius: 10px;\r\n\tmargin-bottom: var(--qp-sections-row-gap);\r\n}\r\n\r\n.transparent-pane.qp-fieldset,\r\n.transparent-section.qp-fieldset {\r\n\tbackground-color: initial;\r\n\tborder: none;\r\n\tpadding-top: 0;\r\n\tpadding-bottom: 0;\r\n}\r\n\r\n.stretch-content .qp-fieldset,\r\n.equal-height .qp-fieldset {\r\n\theight: calc( 100% - var(--qp-sections-row-gap) );\r\n}\r\n\r\n@container qp-screen (min-width: 692px) and (max-width: 1140px) { /* MD */\r\n\t.stretch-content .qp-fieldset,\r\n\t.equal-height .qp-fieldset {\r\n\t\theight: fit-content;\r\n\t}\r\n}\r\n\r\n.qp-fieldset fieldset {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\trow-gap: var(--qp-inputs-gap);\r\n\r\n\tpadding: 0px;\r\n\tborder: 0px;\r\n\tmin-inline-size: unset;\r\n\tbackground-color: inherit;\r\n\tmargin: 0;\r\n}\r\n\r\nfieldset.collapsed .qp-fieldset-caption,\r\nfieldset.collapsed .qp-fieldset-caption qp-icon {\r\n\tcolor: #027ACC;\r\n\tfill: #027ACC;\r\n}\r\n\r\n.qp-fieldset.fully-collapsed {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-fieldset-caption {\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n\tbackground-color: inherit;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.qp-fieldset-caption--dots {\r\n\twidth: 100%;\r\n\tposition: relative;\r\n\tmin-width: 30px;\r\n\theight: 10px;\r\n\tmargin: 0 22px 0 8px;\r\n\tborder-bottom: 1px solid rgba(0,0,0,0.13);\r\n}\r\n\r\n.qp-fieldset-toggle {\r\n\tmargin: 0 0 0 3px;\r\n\tflex-shrink: 0;\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-fieldset-caption:hover .qp-fieldset-toggle {\r\n\tdisplay: initial;\r\n}\r\n\r\n\r\n.qp-fieldset-toggle.qp-fieldset-expanded::before {\r\n\tcontent: "\\e96d";\r\n\tline-height: 18px;\r\n}\r\n\r\n.qp-fieldset-toggle.qp-fieldset-collapsed::before {\r\n\tcontent: "\\e96e";\r\n\tline-height: 22px;\r\n}\r\n\r\n.qp-fieldset fieldset>qp-field,\r\n.qp-fieldset fieldset>inline-view,\r\n.qp-fieldset fieldset>inline-view>qp-field {\r\n\tdisplay: block;\r\n}\r\n\r\n.size-zero {\r\n\twidth: 0 !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-xxs {\r\n\twidth: 40px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-xs {\r\n\twidth: 70px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-s {\r\n\twidth: 100px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-sm {\r\n\twidth: 140px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-m {\r\n\twidth: 200px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-xm {\r\n\twidth: 250px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-l {\r\n\twidth: 300px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-xl {\r\n\twidth: 350px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-xxl {\r\n\twidth: 400px !important;\r\n\tflex-grow: 0 !important;\r\n}\r\n\r\n.size-fit {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-fieldset-icon {\r\n\tposition: absolute;\r\n\twidth: 26px;\r\n\theight: 26px;\r\n\tpadding: 5px;\r\n\tcolor: #000;\r\n\tborder-radius: 6px;\r\n\tmargin: 0;\r\n\tcursor: pointer;\r\n\tfont-size: 16px;\r\n\tfont-family: \'FontAwesome\' !important;\r\n    top: 16px;\r\n    right: 17px;\r\n}\r\n\r\n.qp-fieldset-icon:hover {\r\n\tbackground-color: rgba(0, 0, 0, .06);\r\n}\r\n\r\n.qp-fieldset-icon:before {\r\n\tcontent: "\\e93e";\r\n}\r\n\r\n.invisible-field {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-field-override > * {\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.qp-field-override {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-field-dependent {\r\n\tpadding-left: 25px;\r\n}\r\n\r\n/* .qp-fieldset-configurable {\r\n\tflex-basis: 0;\r\n} */\r\n',""]),e.exports=r},"client-controls/controls/container/inline-field/qp-inline-field.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-inline-field\r\n{\r\n\tdisplay: block;\r\n\tz-index: 1000;\r\n\tcolor: initial;\r\n}\r\n\r\n.qp-inline-field .control-wrapper, .qp-inline-field .control-wrapper > *:first-child\r\n{\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-inline-field .focus-marker\r\n{\r\n\theight: 100%;\r\n\tborder: 1px dotted gray;\r\n\tbackground-color: transparent;\r\n\tfont-size: 0px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/container/splitter/qp-splitter.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"@keyframes fadeOut {\r\n\t0% {\r\n\t\topacity: 100%;\r\n\t}\r\n\r\n\t50% {\r\n\t\topacity: 100%;\r\n\t}\r\n\r\n\t100% {\r\n\t\topacity: 0%;\r\n\t}\r\n}\r\n\r\nqp-splitter {\r\n\theight: 100%;\r\n\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-splitter {\r\n    border: none;\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n\tbox-sizing: border-box;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-splitter.fixed-height {\r\n\theight: auto;\r\n}\r\n\r\n.qp-splitter.qp-splitter-width {\r\n\tflex-direction: row;\r\n}\r\n.qp-splitter.qp-splitter-height {\r\n\tflex-direction: column;\r\n\r\n\theight: 100%;\r\n}\r\n\r\n.qp-splitter-first {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-splitter-second {\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-splitter-height > .qp-splitter-first,\r\n.qp-splitter-height > .qp-splitter-second {\r\n\toverflow-y: auto;\r\n}\r\n\t.qp-splitter-height > .qp-splitter-second {\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n.qp-splitter-width > .qp-splitter-first,\r\n.qp-splitter-width > .qp-splitter-second {\r\n\toverflow-x: auto;\r\n}\r\n\r\n.qp-splitter-width > .qp-splitter-second {\r\n\tflex-basis: 0;\r\n}\r\n\r\n.qp-splitter-width.qp-splitter--reversed > .qp-splitter-second {\r\n\tflex-basis: unset;\r\n}\r\n\r\n.qp-splitter-width.qp-splitter--reversed > .qp-splitter-first {\r\n\tflex-basis: 0;\r\n}\r\n\r\n.qp-splitter-pane-inner {\r\n\tdisplay: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    flex-grow: 1;\r\n}\r\n\r\n.qp-splitter-bar {\r\n    background-color: white;\r\n    border: none;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n}\r\n\t.qp-splitter-width > .qp-splitter-bar {\r\n\t\tflex-basis: 16px;\r\n\t\tcursor: col-resize;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.qp-splitter-height > .qp-splitter-bar {\r\n\t\tflex-basis: 16px;\r\n\t\tcursor: row-resize;\r\n\t\tflex-direction: row;\r\n\t}\r\n\t.qp-splitter-bar.qp-splitter-collapsed {\r\n\t\tcursor: auto;\r\n\t}\r\n\r\n.qp-splitter--unmargin > .qp-splitter-bar {\r\n\tposition: relative;\r\n\r\n\twidth: 0;\r\n\tmax-width: 0;\r\n\r\n\t&:before {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tbottom: 0;\r\n\t\tright: 0;\r\n\r\n\t\twidth: 16px;\r\n\r\n\t\tcontent: '';\r\n\t}\r\n}\r\n\r\n.qp-splitter--fading .qp-splitter-bar:not(:hover):not(.qp-splitter-collapsed){\r\n\topacity: 0%;\r\n\tanimation: 0.5s linear 0s fadeOut;\r\n}\r\n\r\n.qp-splitter--fading .qp-splitter-bar:hover:not(.qp-splitter-collapsed) {\r\n\topacity: 100%;\r\n}\r\n\r\n.qp-splitter--disabled > .qp-splitter-bar {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-splitter--invisible > .qp-splitter-bar {\r\n\topacity: 0%;\r\n\r\n\tanimation: none;\r\n}\r\n\r\n.qp-splitter-bar .qp-splitter-buttons {\r\n\tdisplay: flex;\r\n}\r\n.qp-splitter-bar:not(.qp-splitter-collapsed) > .qp-splitter-line {\r\n\tdisplay: flex;\r\n\tflex: 1;\r\n\tbackground-color: #F3F3F3;\r\n}\r\n\r\n.qp-splitter-bar:not(.qp-splitter-collapsed):hover > .qp-splitter-line {\r\n\tdisplay: flex;\r\n\tflex: 1;\r\n\tbackground-color: #C8C8C8;\r\n}\r\n\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-line {\r\n\t\twidth: 1px;\r\n\t\tmargin-left: 8px;\r\n\t}\r\n\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-line {\r\n\t\theight: 1px;\r\n\t\tmargin-top: 8px;\r\n\t}\r\n\r\n.qp-splitter-buttons {\r\n\tdisplay: none;\r\n}\r\n\r\n\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons {\r\n\t\tflex-direction: column-reverse;\r\n\t}\r\n\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons {\r\n\t\tflex-direction: row-reverse;\r\n\t}\r\n\r\n.qp-splitter-button {\r\n\tcursor: pointer;\r\n\tjustify-content: center;\r\n\tdisplay: flex;\r\n}\r\n\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons >  .qp-splitter-button {\r\n\t\theight: 32px;\r\n\t\twidth: 16px;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-first svg {\r\n\t\t\ttransform: rotate(90deg);\r\n\t\t}\r\n\t\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-second svg {\r\n\t\t\ttransform: rotate(270deg)\r\n\t\t}\r\n\r\n\t\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-dragdrop {\r\n\t\t\tcursor: col-resize;\r\n\t\t}\r\n\r\n\t\t.qp-splitter-width > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-dragdrop svg {\r\n\t\t\ttransform: rotate(90deg)\r\n\t\t}\r\n\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\theight: 16px;\r\n\t\twidth: 32px;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-dragdrop {\r\n\t\tmargin-top: 2px;\r\n\r\n\t\tcursor: row-resize;\r\n\t}\r\n\t\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-first svg {\r\n\t\t\ttransform: rotate(180deg)\r\n\t\t}\r\n\t\t.qp-splitter-height > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-second svg {\r\n\t\t\ttransform: rotate(0deg)\r\n\t\t}\r\n\r\n\t.qp-splitter-button > qp-icon {\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\t.qp-splitter--fading .qp-splitter-button > qp-icon > svg {\r\n\t\tcolor: #C8C8C8;\r\n\t}\r\n\t\t.qp-splitter-button > qp-icon > svg {\r\n\t\t\tcolor: #C8C8C8;\r\n\t\t}\r\n\r\n\t\t.qp-splitter-bar:hover .qp-splitter-button:hover > qp-icon > svg {\r\n\t\t\tcolor: #7C7C7C;\r\n\t\t}\r\n\r\n.qp-splitter > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-first {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-splitter > .qp-splitter-bar:hover > .qp-splitter-buttons > .qp-splitter-button-first {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-splitter > .qp-splitter-bar:hover > .qp-splitter-buttons > .qp-splitter-button-second {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-splitter > .qp-splitter-bar > .qp-splitter-buttons > .qp-splitter-button-second {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-splitter > .qp-splitter-bar.qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button-first,\r\n.qp-splitter > .qp-splitter-bar.qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button-second {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-splitter-width > .qp-splitter-collapsed > .qp-splitter-buttons {\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n}\r\n\t.qp-splitter-width > .qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\tflex-flow: column;\r\n\t\tbackground-color: rgba(var(--primary-color-rgb), 0.12);\r\n\t\twidth: 24px;\r\n\t\tflex-grow: 1;\r\n\t\tpadding: 4px;\r\n\t}\r\n\t\t.qp-splitter-width > .qp-splitter-collapsed-first > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\t\tmargin-right: 8px;\r\n\t\t}\r\n\t\t.qp-splitter-width > .qp-splitter-collapsed-second > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\t\tmargin-left: 8px;\r\n\t\t}\r\n\r\n.qp-splitter-height > .qp-splitter-collapsed > .qp-splitter-buttons {\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n}\r\n\t.qp-splitter-height > .qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\tflex-flow: row;\r\n\t\tbackground-color: rgba(var(--primary-color-rgb), 0.12);\r\n\t\theight: 20px;\r\n\t\tflex-grow: 1;\r\n\t\tjustify-content: space-around;\r\n\t\tpadding-left: 16px;\r\n\t\tpadding-right: 8px;\r\n\t}\r\n\t\t.qp-splitter-height > .qp-splitter-collapsed-first > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\t\tmargin-bottom: 12px;\r\n\t\t}\r\n\r\n\t\t.qp-splitter-height > .qp-splitter-collapsed-second > .qp-splitter-buttons > .qp-splitter-button {\r\n\t\t\tmargin-top: 12px;\r\n\t\t}\r\n\r\n.qp-splitter-collapsed > .qp-splitter-buttons > .qp-splitter-button:hover {\r\n\tbackground-color: var(--qp-highlight-hover-color) !important;\r\n}\r\n\r\n.qp-splitter-first > .qp-fieldset-caption,\r\n.qp-splitter-second > .qp-fieldset-caption {\r\n\tbackground-color: white;\r\n    min-height: 24px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/container/tabbar/qp-tabbar-edit.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".edit-tabbar-container {\r\n\tflex-direction: column;\r\n}\r\n\r\n.edit-section {\r\n\twidth: 100%;\r\n}\r\n\r\n.edit-section-bottom {\r\n\tflex-grow: 1;\r\n    flex-direction: column;\r\n    display: flex;\r\n}\r\n\r\n.edit-section-content {\r\n\toverflow-x: hidden;\r\n\tmargin: 8px 0;\r\n\tposition: relative;\r\n}\r\n\r\n.edit-section-content-bottom {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.edit-section-title {\r\n\tpadding: 8px 0;\r\n\tposition: relative;\r\n\theight: 16px;\r\n}\r\n\r\n.edit-section-empty {\r\n\tposition: relative;\r\n\tmin-height: 50px;\r\n\twidth: 100%;\r\n}\r\n\r\n.edit-section-dropzone {\r\n\tbackground-color: #027ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\topacity: 0.2;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/container/tabbar/qp-tabbar.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-tabbar {\r\n\theight: 100%;\r\n}\r\n\r\n.qp-tabbar {\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 100%;\r\n\tuser-select: none;\r\n}\r\n\r\n.qp-tabbar-menu .qp-tab-empty,\r\n.qp-tabbar .qp-tab-empty {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-header {\r\n\tdisplay: flex;\r\n\tflex-wrap: nowrap;\r\n\talign-items: center;\r\n\r\n\tbox-shadow: inset 0 -1px 0 0px #e2e2e2;\r\n\ttext-transform: uppercase;\r\n\tfont-size: var(--qp-tabbar-font-size);\r\n\tmargin: 5px 0 0 0;\r\n\tcolor: #000;\r\n\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\tbackground-color: #fff;\r\n\tz-index: 1;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-wrapper {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\theight: 34px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n\theight: 34px;\r\n\tpadding: 8px 0;\r\n\tmargin: 0 16px;\r\n\tline-height: 18px;\r\n}\r\n\r\n.qp-tabbar-wrapper .tab-header-container:first-child .qp-tabbar-tab {\r\n\tmargin-left: 0;\r\n}\r\n\r\n.qp-tabbar>.qp-tabbar-content {\r\n\tflex: 1;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-wrapper span:first-child {\r\n\tpadding: 8px 16px 8px 0px;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-hover {\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-active {\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\tcursor: default;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-hover::after {\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 3px;\r\n\tbackground-color: #D2D4D7;\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\r\n\tborder-radius: 10px 10px 0 0;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-active::after {\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 3px;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tposition: absolute;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n\r\n\tborder-radius: 10px 10px 0 0;\r\n}\r\n\r\n.qp-tabbar-dragged-source {\r\n\tcolor: rgba(27, 27, 27, 0.3) !important;\r\n}\r\n\r\n.dragged-floater {\r\n\tposition: fixed;\r\n\tbackground: #FFFFFF;\r\n\tbox-shadow: 0px 0px 9px 1px rgba(0, 0, 0, 0.25);\r\n\tborder-radius: 8px 8px 0px 0px;\r\n\tpadding: 12px;\r\n\tz-index: 11000;\r\n\tuser-select: none;\r\n\tcursor: url(\"data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.80218 6.66521C4.80218 6.51964 4.83278 6.37506 4.90982 6.25155C5.09419 5.95599 5.51031 5.42452 6.11871 5.42452C6.73408 5.42452 7.18653 6.0166 7.38588 6.33609C7.46572 6.46406 7.49864 6.61317 7.49864 6.764C7.49864 6.97701 7.49864 7.3301 7.49864 7.78718C7.49864 6.62577 7.33188 5.17773 8.92248 5.17773C10.5131 5.17773 10.3587 6.9199 10.3587 7.78718C10.3587 7.09198 10.1891 5.65994 11.5361 5.65994C12.8832 5.65994 12.752 6.94352 12.7232 7.78718C12.7232 6.90505 13.2778 6.46129 13.8202 6.46129C14.3626 6.46129 14.8341 6.89465 14.8341 7.71689C14.8341 8.53913 14.854 9.8889 14.7598 10.5325C14.6905 11.0056 14.0952 13.4604 13.7848 14.7272C13.6754 15.1737 13.2753 15.4854 12.8156 15.4854H5.99286C5.68577 15.4854 5.3957 15.3443 5.20613 15.1027L1.87331 10.8551C1.64307 10.5617 1.59527 10.1645 1.74931 9.82481L1.84184 9.62077C1.94649 9.39001 2.13484 9.20758 2.36882 9.11034L2.58034 9.02244C2.97192 8.85971 3.42356 8.96165 3.70728 9.27679L4.80218 10.493V6.66521Z' fill='white' stroke='black' stroke-width='0.8'/%3E%3Cpath d='M7.5 9.5V13.5' stroke='black' stroke-width='0.8' stroke-linecap='square'/%3E%3Cpath d='M10 9.5V13.5' stroke='black' stroke-width='0.8' stroke-linecap='square'/%3E%3Cpath d='M12.5 9.5V13.5' stroke='black' stroke-width='0.8' stroke-linecap='square'/%3E%3C/svg%3E%0A\") 16 16, pointer !important;\r\n}\r\n\r\n.qp-tabbar .tab-header-container:first-child .qp-tabbar-tab.qp-tabbar-hover:after,\r\n.qp-tabbar .tab-header-container:first-child .qp-tabbar-tab.qp-tabbar-active:after {\r\n\tleft: 0px;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener {\r\n    padding: 9px 10px;\r\n    margin-left: 4px;\r\n    display: flex;\r\n    gap: 6px;\r\n\tfill: rgba(0, 0, 0, 0.5);\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-tabbar-opener .tab-header--icon,\r\n.qp-tabbar-opener--ellipsis {\r\n\tmargin-top: -1px;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener.qp-tabbar-opener--hover::after {\r\n\tbackground-color: #C7C7C7;\r\n\tleft: 0;\r\n\tright: 0;\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 3px;\r\n\tposition: absolute;\r\n\tbottom: 0px;\r\n\tborder-radius: 10px 10px 0 0;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener.qp-tabbar-opened,\r\n.qp-tabbar .qp-tabbar-opener.qp-tabbar-opener--hover {\r\n\tfill: #000;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener svg {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.qp-tabbar-shadow {\r\n\tposition: fixed;\r\n\tuser-select: none;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n\tright: 0;\r\n\tz-index: 5000;\r\n}\r\n\r\n.qp-tabbar-menu {\r\n\tz-index: 6000;\r\n\tbackground-color: white;\r\n\tmax-height: 80vh;\r\n\toverflow-y: auto;\r\n\t/* for FF */\r\n\toverflow-y: overlay;\r\n\tmin-width: 140px !important;\r\n\tbox-shadow: 0px 0px 14px 2px rgba(0, 0, 0, 0.15);\r\n\tbox-sizing: border-box;\r\n\tborder-radius: 5px;\r\n\tborder-top: 5px solid #fff;\r\n\tborder-bottom: 5px solid #fff;\r\n\tpadding: 8px 0px;\r\n\tmargin: 0 -3px;\r\n\r\n\tscrollbar-width: thin;\r\n\tscrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item {\r\n\twhite-space: nowrap;\r\n\tpadding: 8px 16px;\r\n\tfont-size: var(--qp-tabbar-font-size);\r\n\ttext-transform: uppercase;\r\n\tcursor: pointer;\r\n\tline-height: 16px;\r\n\tcolor: rgba(0, 0, 0, .85);\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover {\r\n\tbackground-color: rgba(0, 0, 0, 0.07);;\r\n}\r\n\r\nqp-tab-header {\r\n\tdisplay: none;\r\n}\r\n\r\nqp-tabbar qp-tab {\r\n\tpadding-top: var(--qp-sections-row-gap);\r\n\theight: 100%;\r\n}\r\n\r\nqp-tabbar qp-tab.no-padding {\r\n\tpadding: 0px;\r\n}\r\n\r\n.qp-tabbar-config-icon {\r\n\tpadding: 0 5px;\r\n\tcolor: #000;\r\n\tborder-radius: 6px;\r\n\tmargin: 3px 13px;\r\n\tcursor: pointer;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tfont-size: var(--qp-icon-size);\r\n\tfont-family: 'FontAwesome' !important;\r\n}\r\n\r\n.qp-tabbar-config-icon:hover {\r\n\tbackground-color: rgba(0, 0, 0, .06);\r\n}\r\n\r\n.qp-tabbar-config-icon:before {\r\n\tcontent: \"\\e93e\";\r\n}\r\n\r\n.tab-header-container {\r\n\tdisplay: flex;\r\n}\r\n\r\n.tab-header-container-reverse {\r\n\tflex-direction: row-reverse;\r\n}\r\n\r\n.qp-tabbar-dropzone {\r\n\tposition: absolute;\r\n}\r\n\r\n.qp-tabbar-dropzone-before {\r\n\tmargin-left: -8px;\r\n}\r\n\r\n.qp-tabbar-dropzone-after {\r\n\tmargin-right: 8px;\r\n}\r\n\r\n.qp-tabbar-dropzone-down {\r\n    margin-top: -5px;\r\n    position: absolute;\r\n}\r\n\r\n.qp-tabbar-dropzone-up {\r\n    margin-top: 18px;\r\n    position: absolute;\r\n}\r\n\r\n.tabbar-menu--separator {\r\n\twidth: 100%;\r\n    height: 32px;\r\n    padding: 8px 16px;\r\n    font-family: 'Arial';\r\n    font-weight: 700;\r\n    font-size: 15px;\r\n}\r\n\r\n.tabbar-menu--blank {\r\n\theight: 32px;\r\n}\r\n\r\n.qp-tabbar-hidden-dropzone {\r\n\tposition: absolute;\r\n\tdisplay: flex;\r\n    width: 100%;\r\n\tmargin-left: -8px;\r\n    justify-content: space-between;\r\n}\r\n\r\n.qp-tabbar-hidden-dropzone-before {\r\n\tmargin-top: -8px;\r\n}\r\n\r\n.qp-tabbar-hidden-dropzone-after {\r\n\tmargin-top: 24px;\r\n}\r\n\r\n.qp-tabbar-hidden-dropzone-empty {\r\n\tmargin-top: 9px;\r\n}\r\n\r\n.right-tab-part {\r\n\tposition: absolute;\r\n\tdisplay: flex;\r\n\theight: 34px;\r\n}\r\n\r\n.right-tab-part-placeholder {\r\n\tposition: relative;\r\n\tbackground-color: transparent;\r\n\theight: 1px;\r\n\tmargin-left: 16px;\r\n\tpointer-events: none;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.tab-header--error,\r\n.qp-tabbar .qp-tabbar-tab.tab-header--warning {\r\n\tborder-radius: 8px 8px 0 0;\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.tab-header--error {\r\n\tcolor: #EE4051;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.tab-header--warning {\r\n\tcolor: #DD9F00;\r\n\r\n}\r\n\r\n.tab-header--error.qp-tabbar-menu-item {\r\n\tbackground: rgba(238, 64, 81, 0.2);\r\n}\r\n\r\n.tab-header--warning.qp-tabbar-menu-item {\r\n\tbackground: rgba(255, 184, 0, 0.2);\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover.tab-header--error\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover.tab-header--warning {\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-active.tab-header--error::after,\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-hover.tab-header--error::after {\r\n\tbackground-color: #EE4051;\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-active.tab-header--warning::after,\r\n.qp-tabbar .qp-tabbar-tab.qp-tabbar-hover.tab-header--warning::after {\r\n\tbackground-color: #FFB800;\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n\r\n.qp-tabbar-tab .tab-header--with-error {\r\n\tmargin-left: 5px;\r\n}\r\n\r\n.qp-tabbar-tab .tab-header--icon {\r\n\tposition: relative;\r\n}\r\n\r\n.tab-header--error .tab-header--icon,\r\n.tab-header--warning .tab-header--icon {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.tab-header--error .tab-header--icon svg {\r\n\tfill: #EE4051;\r\n\tcolor: #EE4051;\r\n}\r\n\r\n.tab-header--warning .tab-header--icon svg {\r\n\tfill: #FFB800;\r\n\tcolor: #FFB800;\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover.tab-header--warning {\r\n\tbackground: rgba(255, 184, 0, 0.3);\r\n}\r\n\r\n.qp-tabbar-menu .qp-tabbar-menu-item-hover.tab-header--error {\r\n\tbackground: rgba(238, 64, 81, 0.3);\r\n}\r\n\r\n.qp-tabbar .qp-tabbar-opener.tab-header--error,\r\n.qp-tabbar .qp-tabbar-opener.tab-header--warning {\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.qp-tabbar-opener.qp-tabbar-opened::after,\r\n.qp-tabbar-opener.qp-tabbar-opened::after {\r\n\tleft: 0;\r\n\tright: 0;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcontent: \"\";\r\n\tdisplay: block;\r\n\theight: 3px;\r\n\tposition: absolute;\r\n\tbottom: 0px;\r\n\tborder-radius: 10px 10px 0 0;\r\n}\r\n\r\n.qp-tabbar-opener.tab-header--error.qp-tabbar-opened::after,\r\n.qp-tabbar-opener.tab-header--error.qp-tabbar-opener--hover::after {\r\n\tbackground-color: #EE4051;\r\n}\r\n\r\n.qp-tabbar-opener.tab-header--warning.qp-tabbar-opened::after,\r\n.qp-tabbar-opener.tab-header--warning.qp-tabbar-opener--hover::after {\r\n\tbackground-color: #FFB800;\r\n}\r\n\r\n.tabbar-menu--separator--margin {\r\n\tpadding: 8px 0px;\r\n\theight: 1px;\r\n}\r\n\r\n.tabbar-menu--separator--margin > div\r\n{\r\n\tfont-size: 0px;\r\n\tborder-top: 1px solid #E0E4E8\r\n}\r\n",""]),e.exports=r},"client-controls/controls/container/wizard/qp-wizard.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-wizard {\r\n\theight: 100%;\r\n}\r\n\r\n.qp-wizard {\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.qp-wizard .qp-wizard-body {\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-wizard .qp-wizard-footer {\r\n\tdisplay: block;\r\n\ttext-align: end;\r\n}\r\n\r\n.qp-wizard qp-tab {\r\n\theight: 100%;\r\n\tflex: 1;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/dialog/alert/qp-alert-dialog.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"ux-dialog>ux-dialog-footer button {\r\n\tborder-radius: 0;\r\n}\r\nux-dialog.qp-alert-dialog {\r\n\tmin-width: 300px;\r\n\tmax-width: min(40vw, 600px);\r\n\tpadding: 10px;\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-body {\r\n\tfont-size: 14px;\r\n\tpadding: 0px 10px;\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-body>div {\r\n\tmax-height: min(40vh, 400px);\r\n\toverflow-wrap: break-word;\r\n\toverflow-y: auto\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-body>div>p:first-child {\r\n\tmargin-top: 0;\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-body>div>p:first-child {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n.qp-alert-dialog ux-dialog-footer button {\r\n\tmargin: 0 0 0 5px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/dialog/base-dialog/base-dialog.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"\r\nux-dialog-container {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\ttransition: opacity .1s linear;\r\n}\r\n\r\nux-dialog-container > div {\r\n\tmargin-top: auto;\r\n\tmargin-bottom: auto;\r\n\tflex: 1 auto;\r\n\tpadding-left: 0;\r\n\tpadding-right: 0;\r\n}\r\n\r\nux-dialog-container > div > div {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-dialog-app-overlay.active {\r\n\topacity: 0.4;\r\n\tbackground-color: rgb(0, 0, 0);\r\n\ttransition: background-color .1s, opacity .1s;\r\n}\r\n\r\n.dialog ::-webkit-scrollbar {\r\n\twidth: 8px;\r\n\theight: 8px;\r\n}\r\n.dialog ::-webkit-scrollbar-track {\r\n\tbackground-color: transparent;\r\n}\r\n.dialog ::-webkit-scrollbar-thumb {\r\n\tbackground-color: rgba(0, 0, 0, 0.15);\r\n\tborder-radius: 8px;\r\n\tbackground-clip: content-box;\r\n}\r\n.dialog ::-webkit-scrollbar-thumb:hover {\r\n\tbackground-color: #7d7d7d;\r\n}\r\n\r\n.dialog {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tborder-radius: 0px;\r\n\tborder: none;\r\n\tbox-shadow: 0px 0px 14px 2px var(--qp-shadow-color);\r\n}\r\n\r\n.dialog:not(.non-responsive-dialog) ux-dialog-header,\r\n.dialog:not(.non-responsive-dialog) ux-dialog-body,\r\n.dialog:not(.non-responsive-dialog) ux-dialog-footer {\r\n\tcontainer-type: inline-size;\r\n  \tcontainer-name: qp-screen;\r\n}\r\n\r\n.dialog {\r\n\t/* no top and left padding because the title bar is used to move the dialog */\r\n\t--dialog-title-height: 22px;\r\n\t--dialog-title-body-spacing: 12px;\r\n}\r\n\r\n.dialog .qp-dialog-header {\r\n\tflex-grow: 1;\r\n\tbox-sizing: border-box;\r\n\theight: calc(10px + var(--dialog-title-height) + var(--dialog-title-body-spacing) / 2);\r\n\tpadding-top: 10px;\r\n\tpadding-bottom: calc(var(--dialog-title-body-spacing) / 2);\r\n\tpadding-inline-start: 10px;\r\n\tpadding-inline-end: 0;\r\n\tmargin-bottom: calc(var(--dialog-title-body-spacing) / 2);\r\n\tmargin-inline-end: 10px;\r\n\tfont-size: 18px;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: space-between;\r\n\talign-items: flex-start;\r\n\tgap: 20px;\r\n}\r\n\r\nux-dialog.dialog.qp-dialog > div.qp-dialog-header {\r\n\t/* inside non-resizable 20px margins, instead of resizable 10px table around */\r\n\tpadding: 0;\r\n\tmargin: 0 0 var(--dialog-title-body-spacing);\r\n\theight: var(--dialog-title-height);\r\n}\r\n\r\nux-dialog-container ux-dialog ux-dialog-header {\r\n\tpadding: 0;\r\n\tborder-bottom: none;\r\n\tz-index: 1;\r\n}\r\n\r\nux-dialog-header > .dialog-header-content {\r\n\tdisplay: flex;\r\n\tgap: 20px;\r\n}\r\n\r\n.dialog ux-dialog-body {\r\n\tpadding: 0px 10px;\r\n\tbox-sizing: border-box;\r\n\tflex-grow: 1;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\toverflow: auto;\r\n}\r\n\r\n.dialog ux-dialog-footer {\r\n\tpadding: 12px 10px 10px;\r\n\tdisplay: flex;\r\n\tjustify-content: flex-end;\r\n\tflex-direction: row;\r\n\tgap: 8px;\r\n\tborder-width: 0px;\r\n}\r\n\r\n.dialog ux-dialog-footer > .dialog-footer-content {\r\n\talign-self: flex-end;\r\n\tdisplay: flex;\r\n\tgap: var(--qp-toolbar-items-gap);\r\n}\r\n\r\nux-dialog.qp-dialog.qp-maximized {\r\n\tposition: absolute;\r\n\ttop: 0 !important;\r\n\tleft: 0 !important;\r\n\tbottom: 0 !important;\r\n\tright: 0 !important;\r\n\twidth: 100vw !important;\r\n\theight: 100vh;\r\n\tborder-radius: 0;\r\n}\r\n/* in case of no ux-header */\r\n.dialog ux-dialog-body:first-child {\r\n\tpadding-top: 10px;\r\n}\r\n/* in case of no ux-footer */\r\n.dialog ux-dialog-body:last-child {\r\n\tpadding-bottom: 10px;\r\n}\r\n\r\nux-dialog > ux-dialog-header > button {\r\n\topacity: 0.6;\r\n\tmargin: -10px -10px 0 0;\r\n\tfont-size: 28px;\r\n}\r\n\r\nux-dialog > ux-dialog-header > button:hover {\r\n\topacity: 1;\r\n}\r\n\r\nux-dialog.qp-dialog {\r\n\t--qp-dialog-min-width: 240px;\r\n\t--qp-dialog-max-width: calc(100vw - 60px);\r\n\tborder-radius: 10px;\r\n\tmin-width: var(--qp-dialog-min-width);\r\n}\r\n\r\nux-dialog.qp-dialog:not(.qp-maximized) {\r\n\tmax-width: var(--qp-dialog-max-width);\r\n}\r\n\r\nux-dialog .qp-dialog-header {\r\n\theight: 32px;\r\n\tbox-sizing: border-box;\r\n\tpadding: 0;\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tflex-shrink: 0;\r\n}\r\n\r\nux-dialog .qp-dialog-header .qp-dialog-title {\r\n\twidth: 0;\r\n\tflex-grow: 1;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tfont-size: 18px;\r\n\tline-height: 22px;\r\n\toverflow: hidden;\r\n\tmargin: 0;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\nux-dialog .qp-dialog-header-buttons {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 13px;\r\n}\r\n\r\nux-dialog .dialog-header-content qp-icon {\r\n\tflex-grow: 0;\r\n\tline-height: 16px;\r\n\tcursor: pointer;\r\n\topacity: 0.4;\r\n}\r\n\r\nux-dialog .dialog-header-content qp-icon:hover {\r\n\topacity: 1;\r\n}\r\n\r\nux-dialog.qp-dialog ux-dialog-body > .dialog-body-content {\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.stack-vert > div {\r\n\tmargin-top: 3px;\r\n}\r\n.stack-vert > div:first-child {\r\n\tmargin-top: 0px;\r\n}\r\n.stack-vert > div > * {\r\n\tmin-height: 24px;\r\n}\r\n\r\n.label-group {\r\n\tdisplay: flex;\r\n}\r\n.label-group > label {\r\n\twidth: 100px;\r\n\tdisplay: inline-block;\r\n}\r\n.label-group > label + * {\r\n\tflex: 1;\r\n}\r\n\r\n.empty-label-group {\r\n\tmargin-left: 100px;\r\n}\r\n\r\n.qp-dialog--auto-height:not(.qp-moved):not(.qp-resized) {\r\n\ttransform: translateY(var(--qp-dialog-offset));\r\n}\r\n",""]),e.exports=r},"client-controls/controls/dialog/base-dialog/qp-resizable.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-resizable {\r\n\tdisplay: grid;\r\n\tgrid-template-columns: 10px auto 10px;\r\n\tgrid-template-rows: 10px auto 10px;\r\n\toverflow: hidden;\r\n\tmin-width: var(--qp-dialog-min-width);\r\n}\r\n\r\n.qp-resizable:not(.qp-resizable-maximized) {\r\n\tmax-width: var(--qp-dialog-max-width);\r\n\tborder-radius: 10px;\r\n}\r\n\r\n.qp-resizable .qp-rz-center {\r\n\tbackground-color: #fff;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\toverflow: auto;\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n}\r\n\r\n.qp-resizable .qp-rz-n {\r\n\tcursor: n-resize;\r\n}\r\n.qp-resizable .qp-rz-w {\r\n\tcursor: w-resize;\r\n}\r\n.qp-resizable .qp-rz-e {\r\n\tcursor: e-resize;\r\n}\r\n.qp-resizable .qp-rz-s {\r\n\tcursor: s-resize;\r\n}\r\n.qp-resizable .qp-rz-nw {\r\n\tcursor: nw-resize;\r\n}\r\n.qp-resizable .qp-rz-ne {\r\n\tcursor: ne-resize;\r\n}\r\n.qp-resizable .qp-rz-sw {\r\n\tcursor: sw-resize;\r\n}\r\n.qp-resizable .qp-rz-se {\r\n\tcursor: se-resize;\r\n}\r\n\r\nux-dialog.qp-dialog:not(.qp-maximized) .qp-resizable .qp-rz-center {\r\n\tgrid-area: 2 / 2 / 3 / 3;\r\n}\r\n\r\n.qp-resizable-maximized .qp-rz-center {\r\n\tgrid-area: 1 / 1 / -1 / -1;\r\n}\r\n\r\n.qp-resizable-maximized .qp-rz {\r\n\tdisplay: none;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/dialog/edit-dialog-base/qp-edit-dialog.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".edit-dialog-container > div {\r\n\tpadding: 5px !important;\r\n}\r\n\r\n.edit-dialog {\r\n\tpadding: 10px;\r\n\tborder-radius: 10px;\r\n\twidth: 790px;\r\n\theight: calc(100vh - 10px);\r\n\tbox-shadow: none;\r\n}\r\n\r\n.edit-container {\r\n\tdisplay: flex;\r\n\theight: 100%;\r\n}\r\n\r\n.thin-blue-line {\r\n\tborder-top: 1px solid #027ACC;\r\n\tborder-top: 1px solid var(--primary-color, #007ACC);\r\n}\r\n\r\n.title-with-line {\r\n\tposition: absolute;\r\n\tpadding-right: 8px;\r\n\tmargin-top: -8px;\r\n\tbackground-color: #ffffff;\r\n\tfont-family: 'Arial';\r\n\tfont-style: normal;\r\n\tfont-weight: 400;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n\ttext-transform: capitalize;\r\n\tcolor: #027ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n}\r\n\r\n.edit-action-button {\r\n\tborder-radius: 5px;\r\n\theight: 30px !important;\r\n\tpadding: 7px 10px !important;\r\n}\r\n\r\nux-dialog-footer.edit-footer {\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tpadding: 0;\r\n}\r\n\r\n.edit-dialog-header .dialog-header-content {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.edit-dialog-header .qp-dialog-close {\r\n\theight: 16px;\r\n\twidth: 16px;\r\n\toverflow: hidden;\r\n\topacity: 0.6;\r\n\tcursor: pointer;\r\n}\r\n\r\n.edit-dialog-header .qp-dialog-close svg {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n\r\n.edit-dialog-header .qp-dialog-close:hover {\r\n\t\topacity: 1;\r\n}\r\n\r\n\r\n.edit--text {\r\n\tfont-family: 'Arial';\r\n\tfont-style: normal;\r\n}\r\n\r\n.edit--text-l {\r\n\tfont-weight: 700;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n}\r\n\r\n.edit--text-m {\r\n\tfont-weight: 400;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n}\r\n\r\n.edit--text-s {\r\n\tfont-weight: 400;\r\n\tfont-size: 12px;\r\n\tline-height: 14px;\r\n}\r\n\r\n.edit-view {\r\n\tpadding: 8px 17px 8px 0;\r\n}\r\n\r\n.edit--view-name {\r\n\tcolor: #1B1B1B;\r\n}\r\n\r\n.edit--view-id {\r\n\tcolor: #808080;\r\n}\r\n\r\n.edit-field--searcher {\r\n\tborder: 1px solid rgba(0, 0, 0, 0.16);\r\n\theight: 32px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tborder-radius: 6px;\r\n\tpadding-left: 5px;\r\n}\r\n\r\n.edit-field--searcher input {\r\n\tborder: 0;\r\n\tflex: 1;\r\n}\r\n\r\n.edit-field--searcher input::placeholder {\r\n\tfont-style: normal;\r\n\tfont-family: 'Arial';\r\n\tfont-weight: 400;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n\tcolor: #1B1B1B;\r\n\topacity: 0.3;\r\n}\r\n\r\n.edit-field--searcher--focus {\r\n\tbox-shadow: inset 0 0 0 2px #027ACC;\r\n\tbox-shadow: inset 0 0 0 2px var(--primary-color, #007ACC);\r\n}\r\n\r\n.edit-field--searcher .control-icon {\r\n\twidth: 32px;\r\n\tjustify-content: center;\r\n\tdisplay: flex;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/dialog/edit-dialog-base/qp-edit-element.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'.edit-element {\r\n\tpadding: 8px 0px;\r\n\tdisplay: flex;\r\n\tuser-select: none;\r\n\toutline: 0;\r\n\tcursor: grab;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.edit-element--parent {\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.edit-element--group {\r\n\tdisplay: flex;\r\n}\r\n\r\n.edit-element--toolbar {\r\n\tpadding: 0 8px 0 0;\r\n}\r\n\r\n.edit-element--active {\r\n\tbackground-color: #D7EFFF;\r\n}\r\n\r\n\r\n.edit--element-name {\r\n\tcolor: #000000;\r\n\tmax-width: 300px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n}\r\n\r\n.edit--element-id {\r\n\tcolor: #808080;\r\n\tmax-width: 300px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n}\r\n\r\n.edit-element-icon--container {\r\n    width: 24px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\tcursor: pointer;\r\n}\r\n\r\n.edit-element-icon {\r\n    width: 16px;\r\n    height: 16px;\r\n\tdisplay: block;\r\n    cursor: pointer;\r\n}\r\n\r\n.edit-element-icon:not(.edit-element-icon--disabled) svg {\r\n    fill: black;\r\n\tcolor: black;\r\n}\r\n\r\n.edit-element-icon--disabled svg {\r\n    fill: #a2aeba;\r\n\tcolor: #a2aeba;\r\n}\r\n\r\n.edit-element-content {\r\n\tpointer-events: none;\r\n}\r\n\r\n.edit-element-dropzone {\r\n\theight: 4px;\r\n\twidth: 100%;\r\n\tbackground-color: #027ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tborder-radius: 2px;\r\n\topacity: 0.6;\r\n\tposition: absolute;\r\n\tanimation: expand-height .2s;\r\n}\r\n\r\n@keyframes expand-height {\r\n\tfrom {\r\n\t\theight: 0;\r\n\t}\r\n\tto {\r\n\t\theight: 4px;\r\n\t}\r\n}\r\n\r\n.edit-element-container {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.edit-element-container--reverse {\r\n\tdisplay: flex;\r\n\tflex-direction: column-reverse;\r\n}\r\n\r\n.edit--element-name.req-l:after {\r\n\tcontent: "*";\r\n\tfont-size: 15px;\r\n\tpadding-left: 5px;\r\n}\r\n',""]),e.exports=r},"client-controls/controls/dialog/informer/qp-informer.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"\r\n.qp-informer-rack {\r\n\twidth: 0px;\r\n\theight: 0px;\r\n\tbackground: red;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: flex-end;\r\n}\r\n\r\n.qp-infromer {\r\n\tposition: relative;\r\n\tz-index: 30000;\r\n\twidth: 310px;\r\n\tpadding: 17px 33px 17px 43px;\r\n\tmargin-bottom: 12px;\r\n\tfont-size: 14px;\r\n\tfont-weight: 400;\r\n\tline-height: 16px;\r\n\ttop: 10px;\r\n\tright: 10px;\r\n\tbackground: white;\r\n\tbox-shadow: 0px 0px 30px rgba(0, 0, 0, 0.35);\r\n\toverflow-wrap: break-word;\r\n\tborder-radius: 5px;\r\n}\r\n\r\n.qp-infromer {\r\n\tanimation-name: scale;\r\n\tanimation-iteration-count: 1;\r\n\tanimation-duration: .2s;\r\n\tanimation-timing-function: cubic-bezier(.23,.86,.31,1.22);\r\n}\r\n\r\n.qp-infromer.qp-closing {\r\n\ttransform: scale(0);\r\n\ttransition: transform .2s cubic-bezier(.53,-0.29,.37,.52);\r\n}\r\n\r\n\r\n.qp-infromer.qp-status-error {\r\n\tborder-left: 5px solid var(--qp-error-color);\r\n}\r\n.qp-infromer.qp-status-info {\r\n\tborder-left: 5px solid var(--qp-success-color);\r\n}\r\n.qp-infromer.qp-status-warning {\r\n\tborder-left: 5px solid var(--qp-warning-color);\r\n}\r\n\r\n.qp-infromer.qp-status-warning svg {\r\n\tfill: var(--qp-warning-color);\r\n}\r\n\r\n.qp-infromer .qp-close-icon {\r\n\tposition: absolute;\r\n\tright: 12px;\r\n\ttop: 12px;\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n\tcursor: pointer;\r\n}\r\n\r\n@keyframes scale {\r\n\t0% {transform: scale(0)}\r\n\t100% {transform: scale(1)}\r\n}\r\n\r\n.qp-infromer .qp-status-icon {\r\n\tposition: absolute;\r\n\tleft: 10px;\r\n\ttop: 14px;\r\n\twidth: 22px;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-infromer.qp-status-info .qp-status-icon svg {\r\n\tfill: var(--qp-success-color);\r\n}\r\n\r\n.qp-infromer.qp-status-error .qp-status-icon svg {\r\n\tfill: none;\r\n\tcolor: var(--qp-error-color);\r\n}\r\n\r\n.fatal-error-box {\r\n\tposition: absolute;\r\n\tz-index: 100000;\r\n\ttop: 20px;\r\n\tleft: 20px;\r\n\tmin-height: 50px;\r\n\tbackground: #fff;\r\n\tpadding: 20px;\r\n\tborder-radius: 5px;\r\n\tborder-left: 5px solid var(--qp-error-color);\r\n\tbox-shadow: 0px 0px 30px rgba(0, 0, 0, 0.35);\r\n\tbackground-color: #FFF0F0;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/dialog/long-run/qp-long-run.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'/* for backward compatibility only */\r\nqp-long-run.progressButton {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-lr {\r\n\tposition: absolute;\r\n\tz-index: 6000;\r\n\twidth: 223px;\r\n\tpadding: 17px 40px 17px 42px;\r\n\tfont-size: 14px;\r\n\tfont-weight: normal;\r\n\ttop: 10px;\r\n\tright: 10px;\r\n\tbackground: white;\r\n\tbox-shadow: 0px 0px 30px rgba(0, 0, 0, 0.35);\r\n\toverflow-wrap: break-word;\r\n\tbox-sizing: content-box;\r\n\tborder-radius: 5px;\r\n}\r\n\r\n.qp-lr {\r\n\tanimation-name: scale;\r\n\tanimation-iteration-count: 1;\r\n\tanimation-duration: .2s;\r\n\tanimation-timing-function: cubic-bezier(.23,.86,.31,1.22);\r\n}\r\n\r\n.qp-lr.qp-closing {\r\n\ttransform: scale(0);\r\n\ttransition: transform .2s cubic-bezier(.53,-0.29,.37,.52);\r\n}\r\n\r\n\r\n.qp-lr.qp-status-aborted {\r\n\tborder-left: 5px solid var(--qp-error-color);\r\n}\r\n.qp-lr.qp-status-completed {\r\n\tborder-left: 5px solid var(--qp-success-color);\r\n}\r\n.qp-lr.qp-status-inprocess {\r\n\tborder-left: 5px solid var(--qp-warning-color);\r\n\tpadding-bottom: 58px;\r\n}\r\n.qp-lr.qp-status-completedwithwarning {\r\n\tborder-left: 5px solid var(--qp-warning-color);\r\n}\r\n\r\n.qp-lr .qp-lr-timer {\r\n\tcolor: #9F9F9F;\r\n}\r\n\r\n.qp-lr .qp-lr-cancel {\r\n\tposition: absolute;\r\n\tbottom: 15px;\r\n\tright: 15px;\r\n\tpadding: 5px 12px;\r\n\theight: 26px;\r\n\tbackground: #ECEDF0;\r\n\tfont-weight: 500;\r\n\tfont-size: 13px;\r\n\tborder-radius: 5px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-lr .qp-lr-cancel:hover:after {\r\n\tbackground-color: rgba(0, 0, 0, 0.1);\r\n\tcontent: "";\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n}\r\n\r\n.qp-lr .qp-close-icon {\r\n\tposition: absolute;\r\n\tright: 12px;\r\n\ttop: 12px;\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-lr .qp-close-icon:hover {\r\n\tcolor: #000;\r\n}\r\n\r\n@keyframes rotate {\r\n  25%   {transform: rotate(90deg);}\r\n  50%  {transform: rotate(180deg);}\r\n  75%  {transform: rotate(270deg);}\r\n  100% {transform: rotate(360deg);}\r\n}\r\n\r\n@keyframes scale {\r\n\t0% {transform: scale(0)}\r\n\t100% {transform: scale(1)}\r\n}\r\n\r\n.qp-lr.qp-status-inprocess .qp-status-icon {\r\n\tanimation-name: rotate;\r\n\tanimation-iteration-count: infinite;\r\n\tanimation-duration: 1s;\r\n\tanimation-timing-function: linear;\r\n}\r\n\r\n.qp-lr .qp-status-icon {\r\n\tposition: absolute;\r\n\tleft: 10px;\r\n\ttop: 14px;\r\n\twidth: 22px;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-lr .qp-status-icon svg {\r\n\tfill: #333333;\r\n}\r\n\r\n.qp-lr.qp-status-inprocess .qp-status-icon {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tleft: 13px;\r\n\ttop: 16px;\r\n}\r\n\r\n.qp-lr.qp-status-completed .qp-status-icon svg {\r\n\tfill: var(--qp-success-color);\r\n}\r\n\r\n.qp-lr.qp-status-aborted .qp-status-icon svg {\r\n\tfill: none;\r\n\tcolor: var(--qp-error-color);\r\n}\r\n\r\n.qp-lr.qp-status-completedwithwarning .qp-status-icon {\r\n\ttop: 15px;\r\n}\r\n\r\n.qp-lr.qp-status-completedwithwarning .qp-status-icon svg {\r\n\tfill: var(--qp-warning-color);\r\n}\r\n\r\n.qp-lr-message {\r\n\twhite-space: pre-wrap;\r\n}\r\n',""]),e.exports=r},"client-controls/controls/dialog/processing-dialog/qp-processing-dialog.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,":root {\r\n\t--qp-processing-dialog-progress-color: #56BAFF;\r\n\t--qp-processing-dialog-buttons-gap: 8px;\r\n}\r\n\r\n#processingDialog inline-view {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n}\r\n\r\n.processing-dialog__head-message {\r\n\tflex-shrink: 0;\r\n\tmin-height: 17px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.processing-dialog__head-message-error-icon {\r\n\tflex-shrink: 0;\r\n\tfont-size: 18px;\r\n\tmargin-right: 5px;\r\n\tmargin-top: -2px;\r\n\tmargin-bottom: -2px;\r\n}\r\n\r\n.processing-dialog .LabelAbbrError {\r\n\tborder-bottom: 1px dashed #ff0000;\r\n\tcolor: #ff0000;\r\n}\r\n\r\n.processing-dialog .LabelAbbrWarning {\r\n\tborder-bottom: 1px dashed #ffc107;\r\n\tcolor: #ffc107;\r\n}\r\n\r\n.processing-dialog .LabelAbbrError qp-tooltip,\r\n.processing-dialog .LabelAbbrWarning qp-tooltip {\r\n\tfont-size: 0;\r\n}\r\n\r\n.processing-dialog__progress-bar {\r\n\tflex-shrink: 0;\r\n    height: 10px;\r\n    margin-top: 7px;\r\n    margin-bottom: 20px;\r\n    background-color: var(--qp-menu-hover);\r\n}\r\n\r\n.processing-dialog__progress-bar-percentage {\r\n\theight: 100%;\r\n}\r\n\r\n.processing-dialog__progress-bar-percentage--in-process {\r\n\tbackground-image: linear-gradient(to left top, var(--qp-processing-dialog-progress-color) 25%, transparent 25%, transparent 50%, var(--qp-processing-dialog-progress-color) 50%, var(--qp-processing-dialog-progress-color) 75%, transparent 75%, transparent);\r\n\tbackground-color: #98d5ff;\r\n\tbackground-size: 2rem 1rem;\r\n\tanimation: progress-bar-stripes 1s linear infinite;\r\n\twidth: 0;\r\n}\r\n\r\n.processing-dialog__progress-bar-percentage--initializing {\r\n\tbackground-image: linear-gradient(to left, transparent 25%, var(--qp-processing-dialog-progress-color) 25%, var(--qp-processing-dialog-progress-color) 75%, transparent 75%, transparent);\r\n\tbackground-color: #98d5ff;\r\n\tbackground-size: 100% 1rem;\r\n\tanimation: glow-position 5s linear infinite;\r\n\twidth: 100% !important;\r\n}\r\n\r\n.processing-dialog__progress-bar-percentage--animated {\r\n\ttransition: width 1s ease-in-out;\r\n}\r\n\r\n@keyframes glow-position {\r\n\tfrom {\r\n\t\tbackground-position-x: 0;\r\n\t}\r\n\tto {\r\n\t\tbackground-position-x: 100rem;\r\n\t}\r\n}\r\n\r\n@keyframes progress-bar-stripes {\r\n\tfrom {\r\n\t\tbackground-position: 2rem 0;\r\n\t}\r\n\tto {\r\n\t\tbackground-position: 0 0;\r\n\t}\r\n}\r\n\r\n.processing-dialog__filters {\r\n\tflex-shrink: 0;\r\n\tflex-basis: 54px;\r\n\toverflow: hidden;\r\n}\r\n\r\n.processing-dialog__filters-list {\r\n\tdisplay: flex;\r\n\tmargin-right: calc(var(--qp-processing-dialog-buttons-gap) * -1);\r\n}\r\n\r\n.processing-dialog__filters--empty .processing-dialog__filters-button {\r\n\topacity: 1;\r\n}\r\n\r\n.processing-dialog__filters-button {\r\n\tflex: 1 1 25%;\r\n\toutline: none;\r\n\tborder: none;\r\n\tborder-radius: 2px;\r\n\tmargin-right: var(--qp-processing-dialog-buttons-gap);\r\n\tpadding: 5px 10px;\r\n\tfont-size: 16px;\r\n\tcursor: pointer;\r\n\topacity: 0.5;\r\n}\r\n\r\n.processing-dialog__filters-button--default,\r\n.processing-dialog__filters-button--disabled {\r\n\tbackground-color: var(--qp-menu-hover);\r\n\tcolor: #333333;\r\n}\r\n\r\n.processing-dialog__filters-button--default:hover,\r\n.processing-dialog__filters-button--disabled:hover {\r\n\tbackground-color: var(--qp-primary-color);\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\n.processing-dialog__filters-button--completed {\r\n\tbackground-color: #28A745;\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\n.processing-dialog__filters-button--completed:hover {\r\n\tbackground-color: #228C3B;\r\n}\r\n\r\n.processing-dialog__filters-button--error {\r\n\tbackground-color: #DC3545;\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\n.processing-dialog__filters-button--error:hover {\r\n\tbackground-color: #C73041;\r\n}\r\n\r\n.processing-dialog__filters-button--warning {\r\n\tbackground-color: #FFC107;\r\n}\r\n\r\n.processing-dialog__filters-button--warning:hover {\r\n\tbackground-color: #E8B007;\r\n}\r\n\r\n.processing-dialog__filters-button--disabled {\r\n\tcolor: #9B9B9B;\r\n}\r\n\r\n.processing-dialog__filters-button--current {\r\n\topacity: 1;\r\n}\r\n\r\n.processing-dialog__filters-button-input {\r\n\tdisplay: none;\r\n}\r\n\r\n.processing-dialog__filters-button-counter {\r\n\tmargin-bottom: 4px;\r\n}\r\n\r\n.processing-dialog__filters-button-label:after {\r\n\tcontent: '\\e9c6';\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tfont: normal normal normal 24px / 1 'FontAwesome';\r\n\tmargin-top: -3px;\r\n\tmargin-left: 5px;\r\n}\r\n\r\n@container (max-width: 700px) {\r\n\t.processing-dialog__filters {\r\n\t\tflex-basis: auto;\r\n\t}\r\n\r\n\t.processing-dialog__filters-button-label:after {\r\n\t\tdisplay: block;\r\n\t\tmargin: 5px 0 0;\r\n\t\ttext-align: center;\r\n\t}\r\n}\r\n\r\n@container (max-width: 500px) {\r\n\t.processing-dialog__filters-list {\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.processing-dialog__filters-button {\r\n\t\tmargin-top: calc(var(--qp-processing-dialog-buttons-gap) / 2);\r\n\t\tmargin-bottom: calc(var(--qp-processing-dialog-buttons-gap) / 2);\r\n\t}\r\n}\r\n\r\n.processing-dialog__filters-button--current .processing-dialog__filters-button-label:after {\r\n\tcontent: '\\e9c5';\r\n}\r\n\r\n.processing-dialog__results {\r\n\tflex: 1 auto;\r\n\tmargin-top: 15px;\r\n}\r\n\r\n.processing-dialog__footer {\r\n\ttext-align: center;\r\n\tpadding-top: var(--qp-sections-row-gap);\r\n}\r\n\r\n.qp-maximized .processing-dialog__footer {\r\n\tpadding-bottom: 15px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/dialog/quick-processing/qp-quick-processing.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-status-dialog {\r\n\tpointer-events: none;\r\n}\r\n\r\n.qp-status-dialog .qp-dialog {\r\n\tposition: absolute;\r\n\tleft: auto !important;\r\n\ttop: 10px !important;\r\n\tright: 10px;\r\n\tfont-size: 14px;\r\n\tborder-radius: 5px;\r\n\tborder-left-width: 5px;\r\n\tborder-left-style: solid;\r\n\ttransform: scale(0) !important;\r\n\ttransition: transform .2s cubic-bezier(0.23, 0.86, 0.31, 1.22);\r\n\tpointer-events: auto;\r\n}\r\n\r\n.qp-status-dialog .status-dialog-in-progress {\r\n\tborder-left-color: var(--qp-warning-color);\r\n}\r\n\r\n.qp-status-dialog .status-dialog-completed {\r\n\tborder-left-color: var(--qp-success-color);\r\n}\r\n\r\n.qp-status-dialog .status-dialog-aborted,\r\n.qp-status-dialog .status-dialog-not-completed {\r\n\tborder-left-color: var(--qp-error-color);\r\n}\r\n\r\n.qp-status-dialog.active .qp-dialog {\r\n\ttransform: scale(1) !important;\r\n}\r\n\r\n.qp-status-dialog:not(.active) .qp-dialog {\r\n\ttransition-timing-function: cubic-bezier(0.53, -0.29, 0.37, 0.52);\r\n}\r\n\r\n.qp-status-dialog .dialog .qp-dialog-header {\r\n\theight: 0;\r\n\tpadding: 0;\r\n\toverflow: visible;\r\n}\r\n\r\n.qp-status-dialog .dialog ux-dialog-body {\r\n\tpadding-left: 0;\r\n\tpadding-right: 5px;\r\n}\r\n\r\n.qp-status-dialog .qp-dialog-header-buttons {\r\n\ttop: 0;\r\n\tright: 5px;\r\n\tz-index: 5;\r\n}\r\n\r\n.qp-status-dialog .qp-dialog-close {\r\n\tmargin-left: 0;\r\n}\r\n\r\n.quick-processing__messages-list {\r\n\tmargin-bottom: 2px;\r\n\tposition: relative;\r\n}\r\n\r\n.quick-processing__messages-list:before {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\twidth: 2px;\r\n\theight: 100%;\r\n\tbackground: #D1D1D1;\r\n\tposition: absolute;\r\n\tleft: 9px;\r\n\ttop: 0;\r\n}\r\n\r\n.quick-processing__message {\r\n\tpadding-left: 32px;\r\n\tpadding-top: 4px;\r\n\tmin-height: 23px;\r\n\tposition: relative;\r\n}\r\n\r\n.animate-expand.au-enter {\r\n\tmin-height: 0;\r\n\tmax-height: 0;\r\n\topacity: 0;\r\n\ttransform: scaleY(0);\r\n\ttransform-origin: 0 0;\r\n}\r\n\r\n.animate-expand.au-enter-active {\r\n\tanimation: expand .2s ease;\r\n}\r\n\r\n.animate-expand.au-entered {\r\n\tmax-height: none;\r\n}\r\n\r\n@keyframes expand {\r\n\t0% {\r\n\t\tmax-height: 0;\r\n\t\topacity: 0;\r\n\t\ttransform: scaleY(0);\r\n\t\ttransform-origin: 0 0;\r\n\t}\r\n\t100% {\r\n\t\tmax-height: 200px;\r\n\t\topacity: 1;\r\n\t\ttransform: scaleY(1);\r\n\t\ttransform-origin: 0 0;\r\n\t}\r\n}\r\n\r\n.quick-processing__message:first-child {\r\n\tpadding-right: 25px;\r\n}\r\n\r\n.quick-processing__message-icon {\r\n\twidth: 22px;\r\n\theight: 22px;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tz-index: 2;\r\n}\r\n\r\n.quick-processing__message-icon:before {\r\n\tcontent: '';\r\n\twidth: calc(100% + 6px);\r\n\theight: calc(100% + 6px);\r\n\tposition: absolute;\r\n\tleft: -3px;\r\n\ttop: -3px;\r\n\tbackground: white;\r\n}\r\n\r\n.quick-processing__message + .quick-processing__message {\r\n\tmargin-top: 18px;\r\n}\r\n\r\n.quick-processing__message:last-child:before {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\twidth: 20px;\r\n\theight: calc(100% - 20px);\r\n\tbackground: white;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n}\r\n\r\n.quick-processing__message-part--link {\r\n\tcolor: var(--qp-primary-color);\r\n\ttext-decoration: none;\r\n}\r\n\r\n.quick-processing__message-icon svg {\r\n\tposition: relative;\r\n\tz-index: 2;\r\n}\r\n\r\n.quick-processing__message--success .quick-processing__message-icon svg {\r\n\tfill: var(--qp-success-color);\r\n}\r\n\r\n.quick-processing__message--error .quick-processing__message-icon svg {\r\n\tcolor: var(--qp-error-color);\r\n}\r\n\r\n.quick-processing__message-error {\r\n\tcolor: var(--qp-error-color);\r\n}\r\n\r\n.quick-processing__message-icon--spinner {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tleft: 2px;\r\n\ttop: 3px;\r\n}\r\n\r\n.quick-processing__message-icon--spinner:before {\r\n\theight: calc(100% + 8px);\r\n\ttop: -5px;\r\n}\r\n\r\n.quick-processing__message-icon--spinner svg {\r\n\tanimation-name: rotate;\r\n\tanimation-iteration-count: infinite;\r\n\tanimation-duration: 1s;\r\n\tanimation-timing-function: linear;\r\n}\r\n\r\n@keyframes rotate {\r\n\t25% {\r\n\t\ttransform: rotate(90deg);\r\n\t}\r\n\t50% {\r\n\t\ttransform: rotate(180deg);\r\n\t}\r\n\t75% {\r\n\t\ttransform: rotate(270deg);\r\n\t}\r\n\t100% {\r\n\t\ttransform: rotate(360deg);\r\n\t}\r\n}\r\n\r\n.quick-processing__timer {\r\n\tcolor: #9F9F9F;\r\n}\r\n\r\n.quick-processing__footer {\r\n\tmargin-top: 15px;\r\n\ttext-align: right;\r\n\tpadding-right: 5px;\r\n}\r\n\r\n.quick-processing__footer-button .qp-button {\r\n\theight: 26px;\r\n\tpadding-left: 12px;\r\n\tpadding-right: 12px;\r\n\tfont-size: 13px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/branch-selector/qp-branch-selector.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-branch-selector,\r\n.qp-branch-selector * {\r\n\tbox-sizing: border-box;\r\n}\r\n\r\nqp-branch-selector {\r\n\tdisplay: block;\r\n}\r\n\r\nqp-branch-selector qp-loader-indicator {\r\n\tpointer-events: none;\r\n}\r\n\r\n.branch-selector__editor input {\r\n\tcolor: transparent;\r\n\tmargin: 1px;\r\n\tborder: 0;\r\n\tflex-grow: 1;\r\n\tpadding: 0 3px 0 7px;\r\n\twidth: 0;\r\n\tborder-radius: 6px;\r\n}\r\n.branch-selector__editor.focus input {\r\n\tcolor: initial;\r\n}\r\n\r\n.branch-selector__editor {\r\n\tbackground-color: #fff;\r\n\tdisplay:flex;\r\n\tpadding:0;\r\n\tposition:relative;\r\n\tdirection:ltr;\r\n\tborder: #D2D4D7 1px solid;\r\n  margin-bottom: 0px;\r\n  margin-top: 0px;\r\n  box-sizing: border-box;\r\n  height: var(--qp-input-height);\r\n\tborder-radius: 6px;\r\n  -webkit-box-sizing: border-box;\r\n  -moz-box-sizing: border-box;\r\n}\r\n.branch-selector__editor.focus {\r\n  border: 1px solid #007ACC;\r\n  border: 1px solid var(--primary-color, #007ACC);\r\n  box-shadow: inset 0px 0px 0px 1px #007ACC;\r\n  box-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.branch-selector__editor.focus .branch-selector__display-text {\r\n\tdisplay: none;\r\n}\r\n\r\n.branch-selector__display-text {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 18px;\r\n\theight: 100%;\r\n\tpointer-events: none;\r\n\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tpadding: 0 0 0 8px;\r\n\tline-height: 30px;\r\n\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n.rtl .branch-selector__display-text {\r\n\tright:0;\r\n\tleft:26px;\r\n\tpadding: 0 6px 0 4px;\r\n}\r\n\r\n.branch-selector__button {\r\n\tbackground: #fff;\r\n\tborder: 0;\r\n\twidth: 24px;\r\n\tcursor: pointer;\r\n\tmargin: 1px;\r\n\tpadding: 4px 3px;\r\n\tborder-radius: 6px;\r\n}\r\n.branch-selector__button svg {\r\n\tcolor: #808080;\r\n\tfill: #808080;\r\n}\r\n.branch-selector__button:hover svg {\r\n\tcolor: #000;\r\n\tfill: #000;\r\n}\r\n\r\n.edit-mode .branch-selector__display-text {\r\n\tvisibility: hidden;\r\n}\r\n\r\n.edit-mode input {\r\n\tcolor: initial;\r\n}\r\n\r\n.branch-selector__branch-tree {\r\n\twidth: auto;\r\n\toverflow-y: auto;\r\n\tposition: absolute;\r\n\tz-index: 10000;\r\n\tbackground: white;\r\n\tbox-shadow: 3px 3px 4px rgb(0 0 0 / 64%);\r\n\tmax-height: 210px;\r\n\tmax-width: 610px;\r\n}\r\n\r\n.branch-selector__node {\r\n\tdisplay: block;\r\n\tmin-height: 18px;\r\n\tpadding: 5px 6px;\r\n\tfont-size: 13px;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\tposition: relative;\r\n\tbox-sizing: border-box;\r\n\theight: 24px;\r\n}\r\n\r\n.branch-selector__node.selected {\r\n  color: #007ACC;\r\n  color: var(--primary-color, #007ACC);\r\n}\r\n\r\n.branch-selector__node.highlight {\r\n  color: white;\r\n  background-color: #007ACC;\r\n  background-color: var(--primary-color, #007ACC);\r\n}\r\n\r\n@media screen and (-ms-high-contrast: active) {\r\n  .branch-selector__node.highlight {\r\n    background-color: white;\r\n    color: black;\r\n  }\r\n}\r\n\r\n.branch-selector__node.nesting-level-0 {\r\n\tpadding-left: 20px;\r\n}\r\n\r\n.branch-selector__node.nesting-level-0 {\r\n\tpadding-left: 20px;\r\n}\r\n.branch-selector__node.nesting-level-1 {\r\n\tpadding-left: 40px;\r\n}\r\n\r\n.branch-selector__node.nesting-level-2 {\r\n\tpadding-left: 60px;\r\n}\r\n\r\n\r\n.rtl .branch-selector__node.nesting-level-0 {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 20px;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-0 {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 20px;\r\n}\r\n.rtl .branch-selector__node.nesting-level-1 {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 40px;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-2 {\r\n\tpadding-left: 5px;\r\n\tpadding-right: 60px;\r\n}\r\n\r\n.branch-selector__group {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.branch-selector__group .control-icon {\r\n\tfont-weight: normal;\r\n\t/* font-size: 15px; */\r\n}\r\n\r\n/* .branch-selector__node.nesting-level-1::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tleft: 20px;\r\n\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n} */\r\n\r\n.branch-selector__node.nesting-level-1+.branch-selector__node.nesting-level-2::before {\r\n\theight: 60%;\r\n\ttop: -15%;\r\n}\r\n\r\n.branch-selector__node.nesting-level-2::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tleft: 45px;\r\n\t/* left: 0;//2.35em; */\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n.branch-selector__node.nesting-level-1::before {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tleft: 25px;\r\n\t/* left: 0;//2.35em; */\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-2::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tright: 45px;\r\n\t/* left: 0;//2.35em; */\r\n\tleft:unset;\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-left: 0;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-right: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-1::before {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tright: 25px;\r\n\t/* left: 0;//2.35em; */\r\n\tleft:unset;\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-left: 0;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-right: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n\r\n.branch-selector__node.nesting-level-2:not(.parent-last-child)::after {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tleft: 25px;\r\n\t/* left: 0;//2.35em; */\r\n\ttop: -25%;\r\n\theight: 100%;\r\n\t/* border-bottom: 1px dotted #bbb; */\r\n\tborder-left: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-2:not(.parent-last-child)::after {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 12px;\r\n\tright: 25px;\r\n\t/* left: 0;//2.35em; */\r\n\tleft:unset;\r\n\ttop: -25%;\r\n\theight: 100%;\r\n\t/* border-bottom: 1px dotted #bbb; */\r\n\tborder-right: 1px dotted #bbb;\r\n\tpointer-events: none;\r\n}\r\n\r\n\r\n.branch-selector__node.nesting-level-0+.branch-selector__node.nesting-level-1::before {\r\n\theight: 60%;\r\n\ttop: -15%;\r\n}\r\n\r\n.branch-selector__node qp-icon i.ac {\r\n\tfont-size: 16px;\r\n}\r\n\r\n.branch-selector__node .group-icon {\r\n\tposition: absolute;\r\n\r\n\twidth: 10px;\r\n\tleft: 6px;\r\n\ttop: 3px;\r\n\t/* left: 0;//2.35em; */\r\n\t/* background-color: white; */\r\n\tbackground-color: inherit;\r\n\r\n\r\n}\r\n.rtl .branch-selector__node .group-icon {\r\n\tleft:unset;\r\n\tright:6px;\r\n}\r\n\r\n.branch-selector__node .company-icon {\r\n\tposition: absolute;\r\n\tbackground-color: inherit;\r\n\twidth: 14px;\r\n\theight: 16px;\r\n\tleft: 19px;\r\n\ttop: 4px;\r\n}\r\n\r\n.rtl .branch-selector__node .company-icon {\r\n\tleft:unset;\r\n\tright:19px;\r\n}\r\n\r\n\r\n.branch-selector__node.nesting-level-0 .company-icon {\r\n\tleft: 4px;\r\n\ttop: 4px;\r\n}\r\n\r\n.rtl .branch-selector__node.nesting-level-0 .company-icon{\r\n\tleft:unset;\r\n\tright:4px;\r\n}\r\n\r\n.branch-selector__node.can-select {\r\n\tcursor: pointer;\r\n}\r\n\r\n.branch-selector__node-organization {\r\n\tmargin: 2px 0;\r\n}\r\n\r\n.branch-selector__node-branch {\r\n\r\n\tpadding-left: 30px;\r\n\tposition: relative;\r\n}\r\n\r\n.rtl .branch-selector__node-branch {\r\n\r\n\tpadding-left: unset;\r\n\tpadding-right: 30px;\r\n\tposition: relative;\r\n}\r\n\r\n\r\n.branch-selector__node-branch::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 15px;\r\n\tleft: 10px;\r\n\t/* left: 0;//2.35em; */\r\n\ttop: -50%;\r\n\theight: 100%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n}\r\n\r\n.branch-selector__node-organization+.branch-selector__node-branch::before {\r\n\theight: 60%;\r\n\ttop: -15%;\r\n}\r\n\r\nqp-tooltip .tooltip-level {\r\n\tmargin: 5px 0;\r\n\tpadding: 0 2px;\r\n}\r\n\r\nqp-tooltip .branch-level-1 {\r\n\tposition: relative;\r\n\tpadding-left: 15px;\r\n}\r\n\r\nqp-tooltip .branch-level-2 {\r\n\tposition: relative;\r\n\tpadding-left: 30px;\r\n}\r\n\r\n\r\nqp-tooltip .branch-level-1::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 8px;\r\n\tleft: 4px;\r\n\t/* left: 0;//2.35em; */\r\n\theight: 60%;\r\n\ttop: -15%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n}\r\n\r\nqp-tooltip .branch-level-2::before {\r\n\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tcontent: '';\r\n\twidth: 8px;\r\n\tleft: 19px;\r\n\t/* left: 0;//2.35em; */\r\n\theight: 60%;\r\n\ttop: -15%;\r\n\tborder-bottom: 1px dotted #bbb;\r\n\tborder-left: 1px dotted #bbb;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/calendar/qp-calendar.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'.qp-calendar select.year-select {\r\n\tscrollbar-width: thin;\r\n\tscrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n\tposition: absolute;\r\n\twidth: 80px;\r\n}\r\n@supports (-moz-appearance:none) {\r\n\t.qp-calendar select.year-select{\r\n\t\twidth: 80px;\r\n\t}\r\n\t.qp-calendar select.month-select{\r\n\t\twidth: 100px;\r\n\t}\r\n}\r\n.qp-calendar select.year-select::-webkit-scrollbar {\r\n\twidth: 19px;\r\n}\r\n.qp-calendar select.year-select::-webkit-scrollbar-thumb {\r\n    background: rgba(0, 0, 0, 0.15);\r\n    border-radius: 10px;\r\n    width: 3px;\r\n    border: 5px solid white;\r\n}\r\n.year-select.closed {\r\n\ttop: 0;\r\n}\r\n.year-select.opened {\r\n\ttop: 27px;\r\n\theight: auto;\r\n}\r\n\r\n.calendar {\r\n\tbackground-color: rgba(245, 247, 249, 1);\r\n\tborder-radius: 10px;\r\n\tpadding: 20px;\r\n\tbox-shadow: 0px 0px 16px 0px rgba(115, 115, 115, 0.5);\r\n }\r\n\r\n .calendarMT {\r\n\tpadding: 4px 4px;\r\n\tfont-size: 13px;\r\n }\r\n\r\n .calendarMT select {\r\n\tpadding: 0 10px;\r\n\tborder: 1px solid rgba(0, 0, 0, 0.15);\r\n\tborder-radius: 6px;\r\n\theight: 28px;\r\n\tappearance: none;\r\n\tcursor: pointer;\r\n}\r\n.calendarMT select::-ms-expand {\r\n\tdisplay: none;\r\n}\r\n\r\n\r\n.qp-calendar .month-year-header {\r\n\tdisplay: flex;\r\n\tgap: 8px;\r\n\tjustify-content: center;\r\n}\r\n\r\n.qp-calendar span.month-select {\r\n\tposition: relative;\r\n}\r\n\r\n.qp-calendar span.year-select {\r\n\tposition: relative;\r\n\tdisplay: inline-block;\r\n\twidth: 80px;\r\n}\r\n\r\n.qp-calendar span.month-select > qp-icon,\r\n.qp-calendar span.year-select > qp-icon {\r\n\tposition: absolute;\r\n\ttop: 7px;\r\n\tright: 5px;\r\n\tz-index: 1;\r\n\tpointer-events: none;\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n}\r\n\r\n.qp-calendar  span.month-select:hover > qp-icon,\r\n.qp-calendar  span.year-select:hover > qp-icon {\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-calendar select.month-select {\r\n\twidth: 100px;\r\n}\r\n\r\n /* .calendarMT select + select {\r\n\tmargin-left: 8px;\r\n } */\r\n\r\n.calendarNP {\r\n\twidth: 16px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.calendarNP > qp-icon {\r\n\tcolor: rgba(0, 0, 0, 0.4);\r\n}\r\n.calendarNP:hover > qp-icon {\r\n\tcolor: #000;\r\n}\r\n\r\n .calendarF {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tpadding: 8px 0 0 0;\r\n\ttext-align: center;\r\n }\r\n\r\n.calendarD {\r\n\ttext-align: right;\r\n\tvertical-align: middle;\r\n\tpadding: 8px 12px;\r\n\tbackground: white;\r\n\tfont-size: 13px;\r\n}\r\n\r\n.calendarD.upperLeft {\r\n\tborder-radius: 8px 0 0 0;\r\n}\r\n.calendarD.upperRight {\r\n\tborder-radius: 0 8px 0 0 ;\r\n}\r\n.calendarD.bottomLeft {\r\n\tborder-radius: 0 0 0 8px;\r\n}\r\n.calendarD.bottomRight {\r\n\tborder-radius: 0 0 8px 0;\r\n}\r\n\r\n.calendarD:hover {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #FFFFFF;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n .calendar table[id$="customItems"] .calendarD {\r\n\ttext-align: left;\r\n\tcursor: pointer;\r\n\tpadding: 3px 10px;\r\n }\r\n\r\n .calendarWE {\r\n\tcolor: #007ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n }\r\n\r\n .calendarTD {\r\n\toutline: 1px solid #007ACC;\r\n\toutline: 1px solid var(--primary-color, #007ACC);\r\n\tpadding: 4px 7px;\r\n\tborder-radius: 6px;\r\n }\r\n\r\n .calendarOMD {\r\n\tcolor: RGBA(0, 0, 0, 0.26);\r\n }\r\n\r\n .calendarSD {\r\n\tbackground-color: #D2D4D7;\r\n\tborder-radius: 6px;\r\n }\r\n\r\n .calendarDH {\r\n\ttext-align: center;\r\n\tcolor: rgba(0, 0, 0, 0.64);\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tpadding: 6px 3px;\r\n }\r\n\r\n .calendarWN, .calendarWN:hover {\r\n\tcolor: rgba(0, 0, 0, 0.64);\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tfont-size: 10px;\r\n\tpadding: 8px 10px;\r\n\tline-height: 16px;\r\n }\r\n\r\n.qp-calendar .custom-items {\r\n\tvertical-align: top;\r\n\tpadding-left: 20px;\r\n }\r\n\r\n.qp-calendar .custom-items > table {\r\n\tbackground: white;\r\n\tborder-radius: 10px;\r\n\tborder-spacing: 0px 2px;\r\n}\r\n',""]),e.exports=r},"client-controls/controls/simple/caption/qp-caption.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-caption {\r\n\tfont-size: 15px;\r\n\tline-height: var(--qp-input-height);\r\n\twidth: auto;\r\n\ttext-align: left;\r\n\tfont-weight: 700;\r\n\twhite-space: nowrap;\r\n\tpadding: 0;\r\n}\r\n\r\n.qp-caption-compact {\r\n\tpadding: 8px 8px 0px 8px !important;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/check-box/qp-check-box.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'.qp-checkbox-default {\r\n\tdisplay: inline-block;\r\n\theight: var(--qp-input-height);\r\n\twidth: 100%;\r\n\twhite-space: nowrap;\r\n\r\n\t/* overflow: hidden;\r\n\ttext-overflow: ellipsis; */\r\n}\r\n\r\n.qp-checkbox-default input {\r\n\tmargin: 0 3px 0 0;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.qp-checkbox-default label {\r\n\tline-height: var(--qp-input-height);\r\n\tvertical-align: middle;\r\n}\r\n\r\n.qp-checkbox-button .qp-checkbox-icon {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-checkbox-button .qp-checkbox-label {\r\n\tdisplay: inline;\r\n}\r\n\r\n.qp-checkbox label {\r\n\tdisplay: inline-block;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\twidth: calc( 100% - 20px );\r\n}\r\n\r\n.qp-checkbox input[type="checkbox"] {\r\n\tmargin-bottom: 0px;\r\n\tmargin-left: 0px;\r\n\theight: 14px;\r\n\twidth: 14px;\r\n\tposition: relative;\r\n}\r\n\r\n/* input[type="checkbox"]:focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: 0px 0px 4px 0px #007ACC;\r\n\tbox-shadow: 0px 0px 4px 0px var(--primary-color, #007ACC);\r\n} */\r\n\r\n.qp-checkbox input[type="checkbox"]:focus::after {\r\n\tcontent: "";\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\twidth: 18px;\r\n\theight: 18px;\r\n\tbackground: transparent;\r\n\tz-index: 1;\r\n\tborder: 2px solid rgba(2, 122, 204, 0.4);\r\n\ttop: -2px;\r\n\tleft: -2px;\r\n\tborder-radius: 4px;\r\n}\r\n',""]),e.exports=r},"client-controls/controls/simple/color-picker/qp-color-palette.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-color-palette {\r\n\t--control-hover-background: rgba(0, 0, 0, 0.07);\r\n\t--control-border-color: rgba(0, 0, 0, 0.09);\r\n\t--control-border-radius: 6px;\r\n\t--control-shadow-color: rgba(115, 115, 115, 0.8);\r\n\t--control-font-color: #1b1b1b;\r\n\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 8px;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-row {\r\n\tdisplay: flex;\r\n\tgap: 2px;\r\n\tmargin-bottom: 2px;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-sample {\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tborder: 1px solid var(--control-border-color);\r\n\tborder-radius: 3px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-sample.selected {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-sample svg {\r\n\twidth: 15px;\r\n\theight: 15px;\r\n}\r\n\r\n.qp-color-palette .qp-color-palette-sample:hover {\r\n\t/* box-shadow: 0px 0px 8px var(--control-shadow-color); */\r\n}\r\n\r\n.qp-color-palette .qp-color-reset {\r\n\tborder: 0px;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tbackground-color: inherit;\r\n\tgap: 7.5px;\r\n\tcursor: pointer;\r\n\theight: var(--input-height, 32px);\r\n\talign-items: center;\r\n\tpadding: 0px 9.5px;\r\n\tborder-radius: var(--control-border-radius);\r\n\tcolor: var(--control-font-color);\r\n}\r\n\r\n.qp-color-palette .qp-color-reset:hover {\r\n\tbackground-color: var(--control-hover-background);\r\n}\r\n\r\n.qp-color-palette .qp-color-reset .qp-color-reset qp-icon {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-color-palette .qp-color-sample-add {\r\n\tdisplay: flex;\r\n\theight: 20px;\r\n\twidth: 20px;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tcursor: pointer;\r\n\tcolor: var(--control-font-color);\r\n}\r\n\r\n.qp-color-palette .qp-color-sample-add svg {\r\n\twidth: 15px;\r\n\theight: 15px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/color-picker/qp-menu-color-picker.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-menu-color-picker, .qp-menu-color-picker, qp-menu-color-picker > div {\r\n\tdisplay: flex;\r\n\talign-items: stretch;\r\n}\r\n\r\n.qp-menu-color-picker {\r\n\tmargin: 0;\r\n\tline-height: 24px;\r\n\tvertical-align: bottom;\r\n\tcursor: pointer;\r\n\twhite-space: nowrap;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.qp-menu-color-picker .qp-menu-color-picker-opener {\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\tbackground: transparent;\r\n\tvertical-align: middle;\r\n\tborder: none;\r\n\twidth: 16px;\r\n\tmargin: 0px;\r\n\tpadding: 0px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-menu-color-picker.qp-selected,\r\n.qp-menu-color-picker:hover {\r\n\tbackground-color: rgba(0, 0, 0, 0.06);\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.qp-menu-color-picker .qp-menu-color-picker-button {\r\n\tbackground: transparent;\r\n\tborder-width: 0 1px 0 0;\r\n\tborder-style: solid;\r\n\tborder-right-color: transparent;\r\n\tpadding: 5px 2px 5px 10px;\r\n\theight: 22px;\r\n\tline-height: 22px;\r\n\tcursor: pointer;\r\n\tbox-sizing: content-box;\r\n\tvertical-align: middle;\r\n\topacity: 0.87;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.qp-menu-color-picker.qp-selected .qp-menu-color-picker-button.qp-menu-color-picker-action-button,\r\n.qp-menu-color-picker:hover .qp-menu-color-picker-button.qp-menu-color-picker-action-button {\r\n\tborder-right-color: #fff;\r\n}\r\n\r\n.qp-menu-color-picker.disabled {\r\n\tcursor: default;\r\n\topacity: 0.26;\r\n}\r\n\r\n.qp-menu-color-picker-options {\r\n\tcolor: #000;\r\n\tfill: #000;\r\n\tbackground-color: white;\r\n\tmax-height: 80vh;\r\n\toverflow-y: auto; /* for FF */\r\n\toverflow-y: overlay;\r\n\tmin-width: 50px !important;\r\n\tbox-shadow: 0px 0px 16px rgba(115, 115, 115, 0.7);\r\n\tbox-sizing: border-box;\r\n\tpadding: 0;\r\n\ttext-transform: none;\r\n\tscrollbar-width: thin;\r\n\tscrollbar-color: rgba(0, 0, 0, 0.15) transparent;\r\n\tborder-radius: 6px;\r\n\tz-index: var(--zindex-dropdown, 20000);\r\n}\r\n\r\n.qp-menu-color-picker-container {\r\n\tpadding: 16px;\r\n\theight: unset;\r\n}\r\n\r\n.qp-menu-color-picker qp-hyper-icon,\r\n.qp-menu-color-picker-options qp-hyper-icon {\r\n\twidth: 16px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/date-editor/qp-datetime-edit.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-datetime__editor {\r\n\tbackground-color: #FFFFFF;\r\n\theight: var(--qp-input-height);\r\n\tposition: relative;\r\n\tcursor: default;\r\n\tborder: #D2D4D7 1px solid;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n .modern-ui .size-default .qp-datetime__editor {\r\n\tmax-width: 130px;\r\n}\r\n\r\n.qp-datetime__editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 18px;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-datetime__editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-datetime__editor input {\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tborder-width: 0px !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n\r\n\tborder: #D2D4D7 1px solid;\r\n\tpadding: 3px 8px;\r\n\tmargin-bottom: 0px;\r\n\tmargin-top: 0px;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n}\r\n\r\n.qp-datetime__editor .buttonsCont {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 0px;\r\n\theight: 100%;\r\n\tpadding-right: 8px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-datetime__editor .buttonsCont > qp-icon {\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-datetime__editor .buttonsCont > qp-icon svg {\r\n\tfill: #808080;\r\n\tcolor: #808080;\r\n}\r\n.qp-datetime__editor .buttonsCont:hover > qp-icon svg {\r\n\tfill: #000;\r\n\tcolor: #000;\r\n}\r\n\r\n.qp-datetime__editor .center:before {\r\n\tcontent: '';\r\n\tdisplay: inline-block;\r\n\theight: 100%;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.qp-datetime__editor .sprite-icon {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n}\r\n\r\n.qp-datetime__editor .control-icon {\r\n\twidth: 14px;\r\n\theight: 15px;\r\n\tmargin-top: 2px;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.qp-datetime__editor .sprite-icon .control-icon-img {\r\n\tfont-family: 'FontAwesome' !important;\r\n\tspeak: none;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: 1;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\topacity: 0.64;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-datetime__editor .control-icon-img:before {\r\n\tcontent: \"\\e9e0\";\r\n}\r\n\r\n.qp-datetime__editor.ReadOnly {\r\n\tbackground-color: transparent;\r\n\tborder-top-color: transparent;\r\n\tborder-left-color: transparent;\r\n\tborder-right-color: transparent;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n\tborder-radius: 0;\r\n}\r\n\r\n.qp-datetime__editor.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.qp-datetime__calendar-overlay {\r\n\tposition:fixed;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 2000;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/drop-down/qp-drop-down.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-drop-down,\r\n.qp-drop-down * {\r\n  box-sizing: border-box;\r\n}\r\n\r\nqp-drop-down {\r\n\tdisplay: block;\r\n\tborder: 0;\r\n}\r\n\r\nqp-drop-down.GridCellEditor div.drop-down__editor {\r\n\theight: 100%;\r\n\tbox-sizing: content-box;\r\n\twidth: 100%;\r\n}\r\n\r\n\r\n.drop-down__editor {\r\n\tbackground-color: #FFFFFF;\r\n\theight: var(--qp-input-height);\r\n\tposition: relative;\r\n\tcursor: default;\r\n\tborder: #D2D4D7 1px solid;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tfont-size: 14px;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.drop-down__editor.ReadOnly {\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n\tborder-radius: 0;\r\n}\r\n\r\n.drop-down__editor.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.drop-down__editor .drop-down__display-text.drop-down__invisible + span + span.drop-down__text {\r\n\tdisplay: inline-block;\r\n\tline-height: 16px;\r\n}\r\n\r\n.drop-down__editor .drop-down__text {\r\n\tvertical-align: middle;\r\n\tpadding: 4px 8px 4px 8px;\r\n\theight: 24px;\r\n\tborder-radius: 6px;\r\n\tdisplay: none;\r\n}\r\n\r\n/* TODO: REMOVE NEXT RULE !!!!*/\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='N'] {\r\n\tbackground-color: rgba(195, 231, 255, 1);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='H'] {\r\n\t\tbackground-color: rgba(228, 192, 0, 0.25);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='V'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='L'] {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.1);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='R'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='D'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='B'] {\r\n\t\tbackground-color: rgba(255, 208, 208, 0.6);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='C'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='S'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='I'] {\r\n\t\tbackground-color: rgba(200, 229, 190, 0.6);\r\n}\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='P'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='E'],\r\n#edDocument-Status.drop-down__editor .drop-down__text[valueattr='A'] {\r\n\t\tbackground-color: rgba(123, 97, 255, 0.2);\r\n}\r\n\r\n\r\n.drop-down__editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 24px;\r\n\theight: 100%;\r\n}\r\n\r\n.drop-down__editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\t/* text-overflow: ellipsis; */\r\n}\r\n\r\n.drop-down__editor .drop-down__text {\r\n\twidth: var(--control-editor-width, unset);\r\n\tbox-sizing: var(--control-editor-box-sizing, inherit);\r\n}\r\n\r\n.drop-down__editor .buttonsCont {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 0px;\r\n\theight: 100%;\r\n\tpadding-right: 8px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.drop-down__editor .buttonsCont > qp-icon {\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.drop-down__editor .buttonsCont > qp-icon svg {\r\n\tfill: #808080;\r\n\tcolor: #808080;\r\n}\r\n.drop-down__editor .buttonsCont:hover > qp-icon svg {\r\n\tfill: #000;\r\n\tcolor: #000;\r\n}\r\n\r\n.drop-down__editor .center:before {\r\n\tcontent: '';\r\n\tdisplay: inline-block;\r\n\theight: 100%;\r\n\tvertical-align: middle;\r\n}\r\n\r\n.drop-down__editor .sprite-icon {\r\n\tdisplay: inline-block;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\tvertical-align: middle;\r\n\toverflow: hidden;\r\n\tdirection: ltr;\r\n}\r\n\r\n.drop-down__editor .control-icon {\r\n\twidth: 14px;\r\n\theight: 15px;\r\n\tmargin-top: 2px;\r\n\tfont-size: 12px;\r\n}\r\n\r\n.drop-down__editor .sprite-icon .control-icon-img {\r\n\tfont-family: 'FontAwesome' !important;\r\n\tspeak: none;\r\n\tfont-style: normal;\r\n\tfont-weight: normal;\r\n\tfont-variant: normal;\r\n\ttext-transform: none;\r\n\tline-height: 1;\r\n\t-webkit-font-smoothing: antialiased;\r\n\t-moz-osx-font-smoothing: grayscale;\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\ttransform: translateY(-50%);\r\n\topacity: 0.64;\r\n\tcursor: pointer;\r\n}\r\n\r\n.drop-down__editor .control-icon-img.control-DropDownN:before {\r\n\tcontent: \"\\e9e0\";\r\n}\r\n\r\n.drop-down__display-text {\r\n  pointer-events: none;\r\n\r\n  margin: 0;\r\n  border: 0;\r\n  padding: 0 4px 0 6px;\r\n  line-height: 24px;\r\n\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tpadding: 0px 4px 0px 6px;\r\n\tborder-width: 0px !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.drop-down__display-text.drop-down__invisible {\r\n\tposition: absolute;\r\n\ttop: -40px;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.drop-down__current-color {\r\n\theight: 14px;\r\n\twidth: 14px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tborder-radius: 4px;\r\n\tmargin: 0 5px 0 0;\r\n}\r\n\r\n.drop-down__current-image {\r\n\tmargin-right: 5px;\r\n\tfloat: none;\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tfont-size: 15px;\r\n}\r\n\r\n.drop-down__image {\r\n\tfloat: none;\r\n\tvertical-align: middle;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.drop_down__color {\r\n\theight: 14px;\r\n\twidth: 14px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n\tborder-radius: 4px;\r\n\tmargin: 2px;\r\n}\r\n\r\n.drop-down__option {\r\n\tmin-height: 1em;\r\n\tpadding: 2px 4px;\r\n\tvertical-align: middle;\r\n\ttext-align: left;\r\n\twhite-space: nowrap;\r\n\tcursor: default;\r\n}\r\n\r\n.drop-down__option.ddSelection {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\n.drop-down__option.ddDisabled {\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\topacity: 0.66 !important;\r\n\tpointer-events: none;\r\n}\r\n\r\n.drop-down__option.ddInfo {\r\n\tfont-style: italic;\r\n}\r\n\r\nqp-options .ddItemDisabled {\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\topacity: 0.26 !important;\r\n}\r\n\r\n",""]),e.exports=r},"client-controls/controls/simple/external-viewer/qp-external-viewer.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-external-viewer {\r\n\tdisplay: block;\r\n}\r\n\r\n.external-viewer-placeholder {\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\toutline: 0;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n.external-viewer {\r\n\tdisplay: block;\r\n\tborder: none;\r\n\twidth: 100%;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\toutline: 0;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/icon/qp-icon.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-icon {\r\n\tdisplay: block;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tcolor: #000000;\r\n}\r\n\r\nqp-icon img {\r\n\twidth: 100%;\r\n\tvertical-align: bottom;\r\n}\r\n\r\nqp-icon > svg {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tfill: #000000;\r\n}\r\n\r\nqp-hyper-icon svg {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\ndiv.qp-hyper-icon {\r\n\tdisplay: flex;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/label/qp-label.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".label-container label {\r\n\tdisplay: inline-block;\r\n\toverflow: hidden;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n\tline-height: var(--qp-input-height);\r\n\tcolor: var(--qp-label-color);\r\n}\r\n.label-container label.clickable {\r\n\tcursor: pointer;\r\n}\r\n\r\n:is(.label-size-xxs, .label-size-xs, .label-size-s, .label-size-sm, .label-size-m, .label-size-xm, .label-size-l, .label-size-xl, .label-size-xxl) .no-label .label-wrapper,\r\n.no-label .label-wrapper {\r\n\tdisplay: none !important;\r\n}\r\n\r\n:is(.label-size-xxs, .label-size-xs, .label-size-s, .label-size-sm, .label-size-m, .label-size-xm, .label-size-l, .label-size-xl, .label-size-xxl) .label-wrapper {\r\n\tflex-grow: 0 !important;\r\n\tdisplay: inherit !important;\r\n}\r\n\r\n.label-size-xxs .label-wrapper,\r\n.label-size-xxs.label-wrapper {\r\n\twidth: calc(40px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-xs .label-wrapper,\r\n.label-size-xs.label-wrapper {\r\n\twidth: calc(70px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-s .label-wrapper,\r\n.label-size-s.label-wrapper {\r\n\twidth: calc(100px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-sm .label-wrapper,\r\n.label-size-sm.label-wrapper {\r\n\twidth: calc(140px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-m .label-wrapper,\r\n.label-size-m.label-wrapper {\r\n\twidth: calc(200px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-xm .label-wrapper,\r\n.label-size-xm.label-wrapper {\r\n\twidth: calc(250px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-l .label-wrapper,\r\n.label-size-l.label-wrapper {\r\n\twidth: calc(300px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-xl .label-wrapper,\r\n.label-size-xl.label-wrapper {\r\n\twidth: calc(350px * var(--qp-label-zoom) ) !important;\r\n}\r\n\r\n.label-size-xxl .label-wrapper,\r\n.label-size-xxl.label-wrapper {\r\n\twidth: calc(400px * var(--qp-label-zoom) ) !important;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/link-editor/qp-link-editor.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-link-editor {\r\n\theight: 24px;\r\n\tposition: relative;\r\n\tcursor: default;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n\tbackground: #fff;\r\n\tborder: #D2D4D7 1px solid;\r\n\tborder-radius: 6px;\r\n\theight: 32px;\r\n}\r\n\r\n.qp-link-editor.focus {\r\n\torder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.qp-link-editor.ReadOnly.focus {\r\n\tborder-width: 1px;\r\n\tborder-bottom-color: #D2D4D7;\r\n\t-webkit-box-shadow: 0px 0px 0px 0px transparent;\r\n\tbox-shadow: 0px 0px 0px 0px transparent;\r\n}\r\n\r\n.qp-link-editor a {\r\n\tmax-width: calc(100% - 35px);\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tcolor: #027ACC;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.p-link {\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tmax-width: calc(100% - 35px);\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n}\r\n\r\n.link-obj {\r\n\tborder-radius: 4px;\r\n\tpadding: 0px 4px 0px 3px;\r\n\tbackground: #ECF7FF;\r\n\tdisplay: inline-flex;\r\n  \talign-items: center;\r\n\theight: 22px;\r\n  \twidth: 100%;\r\n}\r\n\r\n.link-obj-del {\r\n\tfont-size: 13px;\r\n\twidth: 18px;\r\n\tdisplay: inline-flex;\r\n\tflex: none;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tcolor: #027ACC;\r\n\topacity: 70%;\r\n\tcursor: pointer;\r\n}\r\n\r\n.link-obj-del-btn {\r\n\tfont-size: 13px;\r\n}\r\n\r\n.link-obj-del:hover {\r\n\topacity: 100%;\r\n}\r\n\r\n.input-url {\r\n\tflex: 1;\r\n\tmin-width: 10px;\r\n\tbackground: beige;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\n.qp-link-editor input {\r\n\twidth: 100%;\r\n\theight: 100% !important;\r\n\tpadding: 0px 4px 0px 6px;\r\n\tborder-width: 0px !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-link-editor input[invisible] {\r\n\tposition: absolute;\r\n\ttop: -40px;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-link-editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 28px;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-link-editor.ReadOnly {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tborder: none;\r\n\tborder-bottom: #D2D4D7 1px solid;\r\n\tborder-radius: 0;\r\n}\r\n\r\n.qp-link-editor.ReadOnly .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\theight: 100%;\r\n\tmargin-right: 0px;\r\n}\r\n\r\n.qp-link-editor.ReadOnly .buttonsCont {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n}\r\n\r\n.qp-link-editor.ReadOnly .link-obj {\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-link-editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tpadding-left: 3px;\r\n\tflex-grow: 1;\r\n}\r\n\r\n.qp-link-editor .editorWrap .link-obj {\r\n\tbackground: none;\r\n\twidth: 100%;\r\n\tcursor: text;\r\n}\r\n\r\n.qp-link-editor .buttonsCont {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 1px;\r\n\theight: 100%;\r\n\tcursor: pointer;\r\n\tpadding-right: 6px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-link-editor .buttonsCont.inactive {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-link-editor .control-icon[icon],\r\n.qp-link-editor .buttonsCont .buttonAction {\r\n\tfont-size: 16px;\r\n\tcolor: #808080;\r\n}\r\n.qp-link-editor .control-icon[icon]:hover, .qp-link-editor .buttonsCont\r\n.buttonAction:hover {\r\n\tcolor: #000000;\r\n}\r\n\r\n.qp-link-editor qp-icon {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.qp-link-editor-panel .qp-field-wrapper .qp-link-editor-input {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-link-editor-panel .qp-field-wrapper .label-container {\r\n\tmin-width: 40px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/loader-indicator/qp-loader-indicator.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".loader-indicator-img {\r\n    color:#999999;\r\n    color:var(#999999, --primary-color);\r\n}\r\n\r\n.loader-indicator-img .progress {\r\n  stroke-width: 10;\r\n  stroke: currentColor;\r\n  stroke-linecap: square;  \r\n  animation: dash 2.5s infinite;\r\n}\r\n\r\n\r\n@keyframes dash {\r\n  0% {\r\n    stroke-dasharray: 0, 250;\r\n    stroke-dashoffset: 0;\r\n  }\r\n\r\n  25% {\r\n    stroke-dasharray: 250, 0;\r\n    stroke-dashoffset: 0;\r\n  }\r\n\r\n  50% {\r\n    stroke-dasharray: 0, 250;\r\n    stroke-dashoffset: -250;\r\n  }\r\n\r\n  75% {\r\n    stroke-dasharray: 250, 0;\r\n    stroke-dashoffset: 0;\r\n  }\r\n\r\n  100% {\r\n    stroke-dasharray: 0, 250;\r\n    stroke-dashoffset: 0;\r\n  }\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/longrun-indicator/qp-longrun-indicator.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-lri.qp-status-error {\r\n\tborder-left: 7px solid #f00;\r\n}\r\n.qp-lri.qp-status-success {\r\n\tborder-left: 7px solid #47A824;\r\n}\r\n.qp-lri.qp-status-warning {\r\n\tborder-left: 7px solid #F6C244;\r\n}\r\n.qp-lri .qp-status-icon {\r\n\tleft: 15px;\r\n\ttop: 14px;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.qp-lri .qp-status-icon svg {\r\n\theight: 16px;\r\n\twidth: 16px;\r\n}\r\n\r\n.qp-lri.qp-status-success .qp-status-icon {\r\n\tfill: #47A824;\r\n\theight: 20px;\r\n\twidth: 20px;\r\n}\r\n\r\n.qp-lri.qp-status-error .qp-status-icon {\r\n\tfill: #f00;\r\n\theight: 19px;\r\n\twidth: 22px;\r\n}\r\n\r\n.qp-lri.qp-status-warning .qp-status-icon {\r\n\tfill: #F6C244;\r\n\theight: 20px;\r\n\twidth: 20px;\r\n}\r\n\r\n",""]),e.exports=r},"client-controls/controls/simple/mail-editor/qp-mail-editor.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-mail-editor {\r\n\tposition: relative;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\tbox-sizing: border-box;\r\n\tbackground: #fff;\r\n\tborder: #D2D4D7 1px solid;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.qp-control-outline.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.qp-control-outline.ReadOnly {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n\tborder: none;\r\n\tborder-bottom: #D2D4D7 1px solid;\r\n\tborder-radius: 0;\r\n}\r\n\r\n.qp-control-outline.ReadOnly.focus {\r\n\tborder-width: 1px;\r\n\tborder-bottom-color: #D2D4D7;\r\n\t-webkit-box-shadow: 0px 0px 0px 0px transparent;\r\n\tbox-shadow: 0px 0px 0px 0px transparent;\r\n}\r\n\r\n.err-l .qp-control-outline {\r\n\tborder: #f00 1px solid;\r\n}\r\n\r\n.err-l .qp-control-outline.focus {\r\n\tborder-color: #f00;\r\n\tbox-shadow: inset 0 0 0 1px #f00;\r\n}\r\n\r\n.qp-editor-plugin .qp-mail-editor.qp-control-outline,\r\n.qp-editor-plugin .qp-mail-editor.qp-control-outline.focus {\r\n\tcolor: initial;\r\n\tborder: 0px !important;\r\n\tpadding: 0px !important;\r\n\tbackground-color: transparent !important;\r\n\t-webkit-box-shadow: unset !important;\r\n\tbox-shadow: unset !important;\r\n}\r\n\r\n.qp-mail-editor input {\r\n\twidth: 100%;\r\n\theight: var(--qp-input-height);\r\n\tpadding: 0px 4px 0px 8px;\r\n\tborder-width: 0px !important;\r\n\tbox-shadow: none !important;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-mail-editor input.dropDown {\r\n\tcursor: text;\r\n}\r\n\r\n.qp-mail-editor.ReadOnly input {\r\n\tcursor: default !important;\r\n}\r\n\r\n.qp-mail-editor input.invisible {\r\n\tposition: absolute;\r\n\ttop: -40px;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n.qp-mail-editor .editorCont {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tmargin-right: 28px;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-mail-editor.ReadOnly .editorCont {\r\n\tmargin-right: 0px;\r\n}\r\n\r\n.qp-mail-editor.ReadOnly .buttonsCont {\r\n\tbackground-color: #F5F7F8;\r\n\tbackground-color: var(--background-color, #F5F7F8);\r\n}\r\n\r\n.qp-mail-editor .editorWrap {\r\n\theight: 100%;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-mail-editor .buttonsCont {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tright: 1px;\r\n\theight: 100%;\r\n\tcursor: pointer;\r\n\tpadding-right: 6px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n}\r\n\r\n.qp-editor-plugin .qp-mail-editor .buttonsCont {\r\n\tpadding-right: 0px !important;\r\n}\r\n\r\n.qp-mail-editor .buttonsCont.inactive {\r\n\tdisplay: none;\r\n}\r\n\r\n.qp-mail-editor .control-icon[icon] {\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tfont-size: 16px;\r\n\tcolor: #808080;\r\n}\r\n\r\n.qp-mail-editor .control-icon[icon]:hover {\r\n\tcolor: #000000;\r\n}\r\n\r\n.qp-mail-editor qp-hyper-icon {\r\n\tdisplay: inline-block;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/radio/qp-radio.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'.qp-radio-group.vertical .qp-radio-button {\r\n\tdisplay: flex;\r\n}\r\n\r\n.qp-radio-group:not(.vertical) .qp-radio-button {\r\n\tmargin-right: 15px;\r\n}\r\n\r\n.qp-field.no-label[control-type="qp-radio"]:not(.qp-field-collapsed) {\r\n\toverflow: visible;\r\n}\r\n\r\n.qp-field[control-type="qp-radio"] .control-container {\r\n\tmax-width: 100%;\r\n}\r\n\r\n.qp-radio-button {\r\n\tdisplay: inline-flex;\r\n\talign-items: center;\r\n\theight: 32px;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.qp-radio-button__input-container {\r\n\tposition: relative;\r\n\tmargin: 0 3px 0 0;\r\n\tline-height: 0;\r\n}\r\n\r\n.qp-radio-button__input {\r\n\tmargin: 0;\r\n}\r\n\r\n.qp-radio-button__input:focus:after {\r\n\tcontent: \'\';\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\twidth: calc(100% + 4px);\r\n\theight: calc(100% + 4px);\r\n\tbackground: transparent;\r\n\tz-index: 1;\r\n\tborder: 2px solid rgba(2, 122, 204, 0.4);\r\n\ttop: -2px;\r\n\tleft: -2px;\r\n\tborder-radius: 50%;\r\n}\r\n\r\n.qp-radio-button__label {\r\n\tdisplay: inline-block;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n',""]),e.exports=r},"client-controls/controls/simple/screen-configuration-menu/qp-screen-configuration-menu.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".screen-configuration-container {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tbackground-color: #FFF5D2;\r\n\tflex-direction: row;\r\n\tpadding: 9px 20px 9px 23px;\r\n}\r\n\r\n.screen-configuration-container:not(.screen-configuration-container--closing) {\r\n\tanimation: slide-from-top .2s;\r\n}\r\n\r\n@keyframes slide-from-top {\r\n\tfrom {\r\n\t\ttransform: translateY(-100%);\r\n\t}\r\n\tto {\r\n\t\ttransform: translateY(0%);\r\n\t}\r\n}\r\n\r\n.screen-configuration-container--closing {\r\n\tanimation: slide-to-top .2s;\r\n\ttransform: translateY(-100%);\r\n}\r\n\r\n@keyframes slide-to-top {\r\n\tfrom {\r\n\t\ttransform: translateY(0);\r\n\t}\r\n\tto {\r\n\t\ttransform: translateY(-100%);\r\n\t}\r\n}\r\n\r\n.screen-configuration-title {\r\n\tfont-style: normal;\r\n\tfont-weight: 400;\r\n\tfont-size: 16px;\r\n\tline-height: 18px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tuser-select: none;\r\n}\r\n\r\n.screen-configuration-buttons {\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tgap: 8px;\r\n}\r\n\r\n.screen-configuration-help {\r\n\tfont-style: normal;\r\n\tfont-weight: 400;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n\tcolor: #027ACC;\r\n\tcolor: var(--primary-color, #007ACC);\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tcursor: pointer;\r\n\tuser-select: none;\r\n}\r\n\r\n.personal-dialog--info {\r\n    width: 410px;\r\n    background: #E1F3FF;\r\n    border-radius: 14px;\r\n    padding: 13px;\r\n\tgap: 8px;\r\n    display: flex;\r\n}\r\n\r\n.personal-dialog--info-icon {\r\n    background-color: #027ACC;\r\n    background-color: var(--primary-color, #007ACC);\r\n    color: #ffffff;\r\n    width: 21px;\r\n    height: 21px;\r\n    flex-shrink: 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    border-radius: 10px;\r\n    align-items: center;\r\n\tfont-style: italic;\r\n}\r\n\r\n.personal-dialog--info-text {\r\n\tfont-style: normal;\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    line-height: 16px;\r\n    color: #1B1B1B;\r\n}\r\n\r\n.personal-dialog--user {\r\n    padding: 16px 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.personal-dialog--button {\r\n\tborder-radius: 5px;\r\n\theight: 30px !important;\r\n\tpadding: 7px 10px !important;\r\n}\r\n\r\n.personal-dialog--user-selector .drop-down__option\r\n{\r\n\tpadding: 7px 4px;\r\n}\r\n\r\n.dialog.sc-apply-to-all-dialog ux-dialog-footer {\r\n\tpadding-left: 10px;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/selector/qp-selector.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'.qp-selector,\r\n.qp-selector svg {\r\n\tbox-sizing: border-box;\r\n\tfill: #808080;\r\n}\r\n\r\n.qp-selector .qp-field-editor__button:hover svg {\r\n\tfill: #000;\r\n}\r\n\r\nqp-selector {\r\n\tdisplay: block;\r\n}\r\n.qp-selector {\r\n\tbackground-color: #fff;\r\n\tborder: #D2D4D7 1px solid;\r\n\theight: var(--qp-input-height);\r\n}\r\n.err-l .qp-selector {\r\n\tborder: #f00 1px solid;\r\n}\r\n\r\n.war-l .qp-selector {\r\n\tborder: #FFC109 1px solid;\r\n}\r\n\r\n.qp-selector .qp-selector-link-wrapper {\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-selector .qp-selector-link {\r\n\tdisplay: flex;\r\n\tpadding: 4px 24px 4px 4px;\r\n\talign-items: center;\r\n\t/* gap: 4px; */\r\n\tborder-radius: 4px;\r\n\tline-height: 16px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\tcursor: text;\r\n}\r\n\r\n.qp-selector .qp-selector-spacer {\r\n\twidth: 36px;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 0.2;\r\n\tcursor: text;\r\n}\r\n\r\n.qp-selector .qp-selector-delete {\r\n\twidth: 19px;\r\n  height: 19px;\r\n\tpadding: 3px;\r\n\topacity: 0.4;\r\n\tcursor: pointer;\r\n\tflex-shrink: 0;\r\n}\r\n.qp-selector .qp-selector-delete:hover {\r\n\topacity: unset;\r\n}\r\n\r\n\r\n.qp-selector .qp-selector-delete svg {\r\n\tfill: var(--qp-primary-color);\r\n}\r\n\r\n.qp-selector .qp-selector-link-text {\r\n\tdisplay: inline-block;\r\n\t/* text-overflow: ellipsis; */\r\n\toverflow: hidden;\r\n\tcolor: var(--qp-primary-color);\r\n\tflex-shrink: 0;\r\n\tmax-width: calc( 100% - 20px);\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-selector .qp-selector-link-desc {\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tflex-shrink: 1;\r\n}\r\n\r\nspan.qp-selector-link-text:hover {\r\n\ttext-decoration: underline;\r\n}\r\n\r\n.qp-selector.editor{\r\n\tdisplay:flex;\r\n\talign-items: center;\r\n\tpadding: 4px;\r\n\tposition:relative;\r\n\tborder-radius: 6px;\r\n}\r\n.qp-selector .qp-editor-plugin {\r\n\tflex-grow: 1;\r\n\tpadding: 0 24px 0 4px;\r\n\tcolor: initial;\r\n}\r\n\r\n.qp-selector.qp-selector-readonly {\r\n\tbackground-color: transparent;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n\tborder-radius: 0;\r\n}\r\n\r\n.qp-selector.focus {\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\n.err-l .qp-selector.focus {\r\n\tborder-color: #f00;\r\n\tbox-shadow: inset 0 0 0 1px #f00;\r\n}\r\n\r\n.war-l .qp-selector.focus {\r\n\tborder-color: #FFC109;\r\n\tbox-shadow: inset 0 0 0 1px #FFC109;\r\n}\r\n\r\n\r\n.edit-mode.qp-selector input.qp-text-editor {\r\n\tcolor: initial;\r\n}\r\n\r\n.qp-selector qp-mask-editor {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-selector input.qp-text-editor {\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tbox-shadow: none !important;\r\n\toutline: none;\r\n\twidth: 100%;\r\n\tpadding: 0px;\r\n\tbackground-color: transparent;\r\n\tline-height: 22px;\r\n\ttext-overflow: ellipsis;\r\n\theight: var(--qp-input-height);\r\n}\r\n\r\n.qp-selector input.editor-input {\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tbox-shadow: none !important;\r\n\toutline: none;\r\n\twidth: 20px;\r\n\tflex:1 1 auto;\r\n\tpadding: 0 4px 0 8px;\r\n\tbackground-color: transparent;\r\n\theight: 22px;\r\n}\r\n\r\n.qp-selector.qp-selector-readonly input.editor-input {\r\n\tdisplay: none;\r\n}\r\n\r\n/* .qp-selector input.editor-input[enabled="false"], .qp-selector input.editor-input[disabled] {\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: #E0E4E8;\r\n\tborder-bottom-style: dotted;\r\n\tborder-width: 1px;\r\n}*/\r\n/* .qp-selector input.editor-input[readonly] {\r\n\tbackground-color: #F5F7F8 !important;\r\n\tborder-top-color: transparent;\r\n\tborder-left-color: transparent;\r\n\tborder-right-color: transparent;\r\n\r\n\tborder-width: 1px;\r\n}  */\r\n\r\n.qp-selector input.editor-input[readonly]:focus {\r\n\tborder-width: 1px;\r\n\tbox-shadow: 0px 0px 0px 0px transparent;\r\n\tborder-bottom-color: #D2D4D7;\r\n\r\n\tbackground-color: #F5F7F8;\r\n\tborder-top-color: transparent;\r\n\tborder-left-color: transparent;\r\n\tborder-right-color: transparent;\r\n}\r\n\r\n.qp-selector-allow-edit .edit-btn-cont {\r\n\tpadding: 5px;\r\n\tmargin-right: 2px;\r\n\tcursor: pointer;\r\n\theight: 26px;\r\n\twidth: 26px;\r\n\tcolor: #808080;\r\n}\r\n\r\n.qp-selector-allow-edit .edit-btn-cont:hover svg {\r\n\tfill: #000;\r\n}\r\n\r\n/* .qp-field .control-container > enhanced-compose > .qp-selector-allow-edit, .qp-field-wrapper .control-container > * > .qp-selector-allow-edit {\r\n\twidth: calc(100% - 30px);\r\n} */\r\n.qp-field-editor__display-text {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 26px;\r\n\theight: 100%;\r\n\tpointer-events: none;\r\n\r\n\tmargin: 0;\r\n\tborder: 0;\r\n\tpadding: 0 4px 0 6px;\r\n\tline-height: 24px;\r\n\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-field-editor__button {\r\n\tbackground: #fff;\r\n\tborder: 0;\r\n\tcolor: #808080;\r\n\tcursor: pointer;\r\n\tpadding: 0;\r\n\tposition: absolute;\r\n\tright: 8px;\r\n}\r\n.qp-field-editor__button:focus {\r\n\tborder: 0;\r\n}\r\n.qp-field-editor__button qp-icon {\r\n\tcolor: #808080;\r\n}\r\n.qp-field-editor__button:hover qp-icon {\r\n\tcolor: black;\r\n}\r\n\r\n.qp-field-editor__button > .buttonsCont {\r\n\tvertical-align: unset;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n}\r\n\r\n.edit-mode .qp-field-editor__display-text {\r\n\tvisibility: hidden;\r\n}\r\n\r\n.edit-mode input.editor-input {\r\n\tcolor: initial;\r\n}\r\n\r\n.dialog-container{\r\n\tbackground:white;\r\n\tz-index: 1000;\r\n\t/* position: absolute; */\r\n\tmax-height: 500px;\r\n\r\n}\r\n.dialog-container.hide-selector{\r\n\tdisplay: none;\r\n}\r\n\r\nqp-mask-editor input {\r\n\twidth: 100%;\r\n}\r\n\r\n.qp-selector.label-hovered:not(.qp-selector-readonly):not(.focus) {\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--qp-highlight-hover-color, #007ACC);\r\n}\r\n',""]),e.exports=r},"client-controls/controls/simple/simple-selector/qp-simple-selector.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".simple-selector {\r\n\twidth: 100%;\r\n}\r\n\r\n.simple-selector--button {\r\n    width: 100%;\r\n    cursor: pointer;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/simple/text-editor/qp-text-editor.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'\r\nqp-text-editor, qp-number-editor, qp-mask-editor\r\n{\r\n\tdisplay: block;\r\n}\r\n\r\nqp-text-editor[fixed-width] > *, qp-number-editor[fixed-width] > *, qp-mask-editor[fixed-width] > *\r\n{\r\n\twidth: 100% !important;\r\n}\r\n\r\nqp-text-editor[fixed-height] > *, qp-number-editor[fixed-height] > *, qp-mask-editor[fixed-height] > *\r\n{\r\n\theight: 100% !important;\r\n}\r\n\r\ninput.qp-text-editor, textarea.qp-text-editor {\r\n\tborder: #D2D4D7 1px solid;\r\n\tpadding: 7px 8px;\r\n\tmargin-bottom: 0px;\r\n\tmargin-top: 0px;\r\n\tbox-sizing: border-box;\r\n\t-webkit-box-sizing: border-box;\r\n\t-moz-box-sizing: border-box;\r\n\toutline: none;\r\n\tborder-radius: 6px;\r\n}\r\n\r\ntextarea.qp-text-editor {\r\n\tresize: vertical;\r\n\tvertical-align: top;\r\n\tmin-height: 25px;\r\n}\r\n\r\ninput.qp-text-editor {\r\n\theight: var(--qp-input-height);\r\n\twidth: 100%;\r\n}\r\ninput.qp-text-editor.auto-size\r\n{\r\n\twidth: 100%;\r\n}\r\n\r\ninput.qp-text-editor[readonly], textarea.qp-text-editor[readonly]\r\n{\r\n\tbackground-color: transparent;\r\n\tborder-top-color: transparent;\r\n\tborder-left-color: transparent;\r\n\tborder-right-color: transparent;\r\n\tborder-width: 1px;\r\n\tborder-radius: 0;\r\n}\r\n\r\ninput.qp-text-editor[enabled="false"], input.qp-text-editor[disabled],\r\ntextarea.qp-text-editor[enabled="false"], textarea.qp-text-editor[disabled]\r\n{\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-radius: 0;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n\tborder-width: 1px;\r\n}\r\n\r\ninput.qp-text-editor:focus, text.qp-text-editor:focus,\r\ntextarea.qp-text-editor:focus\r\n{\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tbox-shadow: inset 0px 0px 0px 1px #007ACC;\r\n\tbox-shadow: inset 0px 0px 0px 1px var(--primary-color, #007ACC);\r\n}\r\n\r\ninput.qp-text-editor[readonly]:focus, textarea.qp-text-editor[readonly]:focus\r\n{\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-width: 1px;\r\n\tborder-radius: 0;\r\n\tborder-bottom-color: rgba(0, 0, 0, .13);\r\n}\r\n\r\na.qp-text-editor {\r\n\tdisplay: inline-block;\r\n\theight: 24px;\r\n\toutline: none;\r\n\r\n\tborder: #D2D4D7 1px solid;\r\n\tpadding: 3px 6px;\r\n\tmargin-bottom: 0px;\r\n\tmargin-top: 0px;\r\n}\r\n\r\na.qp-text-editor[enabled=false] {\r\n\tbackground-color: transparent !important;\r\n\tbox-shadow: none !important;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: #D2D4D7;\r\n\tborder-bottom-style: solid;\r\n\tborder-width: 1px;\r\n}\r\n\r\n.with-language {\r\n\tpadding-right: 36px !important;\r\n}\r\n\r\n.locale-editor {\r\n\twidth: 30px !important;\r\n    padding: 8px 4px;\r\n    text-transform: uppercase;\r\n    color: #027ACC;\r\n    color: var(--primary-color, #007ACC);\r\n    cursor: pointer;\r\n    font-weight: 400;\r\n    position: absolute;\r\n    margin-left: -32px;\r\n}\r\n\r\n\r\n.modern-ui .size-default .qp-text-editor.qp-integer,\r\n.modern-ui .size-default .qp-text-editor.qp-float {\r\n\t\tmax-width: 170px;\r\n}\r\n',""]),e.exports=r},"client-controls/controls/utility/layout/qp-layout.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,":root {\r\n\t--layout-border-radius: var(--control-border-radius, 6px);\r\n\t--layout-hover-background: var(--control-toolbar-hover-background, rgba(0, 0, 0, 0.06));\r\n\t--layout-shadow-color: var(--control-shadow-color, rgba(115, 115, 115, 0.7));\r\n\t--layout-bar-min-height: var(--input-height, 32px);\r\n\t--layout-bar-min-width: unset;\r\n\t--layout-gap: 0px;\r\n\t--layout-column-gap: var(--layout-gap);\r\n\t--layout-row-gap: var(--layout-gap);\r\n}\r\n\r\nqp-layout {\r\n\tdisplay: block;\r\n}\r\n\r\n.qp-layout {\r\n\tdisplay: inline-block;\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n\tmin-width: var(--layout-bar-min-width);\r\n\tmin-height: var(--layout-bar-min-height);\r\n}\r\n\r\n.qp-layout.flex {\r\n\tflex-wrap: wrap;\r\n\tcolumn-gap: var(--layout-column-gap);\r\n\trow-gap: var(--layout-row-gap);\r\n\toverflow: visible;\r\n}\r\n\r\n.qp-layout.bar {\r\n\tdisplay: flex;\r\n\tcolumn-gap: var(--layout-column-gap);\r\n\trow-gap: var(--layout-row-gap);\r\n\tflex-wrap: nowrap;\r\n\talign-items: stretch;\r\n\tmin-width: var(--layout-bar-min-width);\r\n}\r\n\r\n.qp-layout.grid {\r\n\tdisplay: grid;\r\n\tcolumn-gap: var(--layout-column-gap);\r\n\trow-gap: var(--layout-row-gap);\r\n}\r\n\r\n.qp-layout .qp-layout-ellipsis {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\theight: 100%;\r\n}\r\n\r\n.qp-layout.qp-layout-ellipsis-left .qp-layout-ellipsis {\r\n\tleft: var(--layout-ellipsis-offset);\r\n}\r\n\r\n.qp-layout.qp-layout-ellipsis-right .qp-layout-ellipsis {\r\n\tright: var(--layout-ellipsis-offset);\r\n}\r\n\r\n.qp-layout.qp-layout-ellipsis-visible {\r\n\tmin-width: var(--layout-bar-min-width, var(--layout-bar-min-height));\r\n}\r\n\r\n.qp-layout .qp-layout-ellipsis .qp-layout-ellipsis-opener {\r\n\theight: 100%;\r\n\tborder-width: 0px;\r\n\tpadding-right: 10px;\r\n\tpadding-left: 10px;\r\n\tbackground-color: transparent;\r\n\tborder-radius: var(--layout-border-radius);\r\n\topacity: 1;\r\n\tcursor: pointer;\r\n}\r\n\r\n.qp-layout .qp-layout-ellipsis .qp-layout-ellipsis-opener:hover,\r\n.qp-layout .qp-layout-ellipsis .qp-layout-ellipsis-opener.opened {\r\n\tbackground-color: var(--layout-hover-background) !important;\r\n}\r\n\r\n.qp-layout-ellipsis-options {\r\n\tmax-width: var(--layout-dashboard-max-width, 300px);\r\n\tmin-width: var(--layout-dashboard-min-width);\r\n\tbackground-color: white;\r\n\tborder-radius: var(--layout-border-radius);\r\n\tbox-shadow: 0px 0px 16px var(--layout-shadow-color);\r\n\tpadding: 8px;\r\n\tz-index: var(--zindex-container, 11000);\r\n}\r\n\r\n.qp-layout-dashboard {\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tcolumn-gap: var(--layout-column-gap);\r\n\trow-gap: var(--layout-row-gap);\r\n}\r\n\r\n.qp-layout.bar .qp-layout-hidden-item {\r\n\tvisibility: hidden;\r\n\tpointer-events: none;\r\n}\r\n\r\n.qp-layout.bar .qp-layout-hidden-item.partial {\r\n\t--layout-hidden-item-mask: linear-gradient(to left, transparent var(--layout-hidden-item-transparency, 0%), black);\r\n\t-webkit-mask-image: var(--layout-hidden-item-mask);\r\n\tmask-image: var(--layout-hidden-item-mask);\r\n\tvisibility: visible;\r\n}\r\n\r\n",""]),e.exports=r},"client-controls/controls/utility/options/qp-options.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".drop-down__options-pane {\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  position: absolute;\r\n  z-index: 20000;\r\n  height: initial;\r\n\tdisplay: block;\r\n\tfont-size: 14px;\r\n\r\n  background-color: White;\r\n  box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.7);\r\n\tbox-sizing: border-box;\r\n\tborder-radius: 6px;\r\n}\r\n\r\n.drop-down__option {\r\n\tmin-height: 1em;\r\n\tpadding: 2px 4px;\r\n\tvertical-align: middle;\r\n\ttext-align: left;\r\n\twhite-space: nowrap;\r\n\tcursor: default;\r\n}\r\n\r\n.drop-down__option.ddItem {\r\n\tpadding: 6px 8px;\r\n\tvertical-align: middle;\r\n\ttext-align: left;\r\n\twhite-space: nowrap;\r\n\tcursor: default;\r\n}\r\n\r\n.drop-down__option.ddSelection {\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tcolor: #FFFFFF;\r\n}\r\n\r\nqp-options .ddItemDisabled {\r\n\tcursor: default;\r\n\tbackground-color: white;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\topacity: 0.26 !important;\r\n}\r\n\r\n",""]),e.exports=r},"client-controls/controls/utility/suggester/elements/qp-suggester.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,":root {\r\n\t--qp-suggestion-horizontal-paddings: 16px;\r\n}\r\n\r\nqp-suggester {\r\n  display: block;\r\n  position: absolute;\r\n  top: 100%;\r\n}\r\n\r\n.qp-suggester,\r\n.qp-suggester * {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.qp-suggester {\r\n\tbackground-color: #FFFFFF;\r\n\tbox-shadow: 0 0 14px 2px rgba(0, 0, 0, 0.15);\r\n\tborder-radius: 6px;\r\n\tz-index: 10000;\r\n\toverflow-y: auto;\r\n\tposition: relative;\r\n}\r\n\r\n.qp-suggester:before,\r\n.qp-suggester:after {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\tposition: sticky;\r\n\tleft: 0;\r\n\tbackground: #FFFFFF;\r\n\theight: calc(var(--qp-suggester-vertical-paddings) + 1px);\r\n}\r\n\r\n.qp-suggester:before {\r\n\ttop: -1px;\r\n}\r\n\r\n.qp-suggester:after {\r\n\tbottom: -1px;\r\n}\r\n\r\n@media screen and (max-width: 400px) {\r\n  .qp-suggester {\r\n    max-width: calc(100vw - 18px);\r\n  }\r\n}\r\n\r\n.qp-suggester.loading {\r\n  filter: grayscale(.5);\r\n}\r\n\r\n.qp-suggester.show-above {\r\n  transform: translateY(-100%);\r\n  transform: translateY(calc(-100% - 1px));\r\n}\r\n\r\n.qp-suggester.show-left {\r\n  transform: translateX(-100%);\r\n}\r\n\r\n.qp-suggester.show-left.show-above {\r\n  transform: translate(-100%,-100%);\r\n}\r\n\r\n[aurelia-app] .qp-suggester::-webkit-scrollbar {\r\n  width: 18px;\r\n}\r\n\r\n[aurelia-app] .qp-suggester::-webkit-scrollbar-track {\r\n\tbackground: #FFFFFF;\r\n}\r\n\r\n[aurelia-app] .qp-suggester::-webkit-scrollbar-thumb {\r\n  width: 18px;\r\n  border-radius: 18px;\r\n  border: 5px solid #FFFFFF;\r\n}\r\n\r\nqp-suggestion {\r\n\tdisplay: block;\r\n\theight: var(--qp-suggestion-line-height);\r\n\tline-height: var(--qp-suggestion-line-height);\r\n\tpadding: 0 var(--qp-suggestion-horizontal-paddings);\r\n\tfont-size: 14px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\tcursor: pointer;\r\n\tmax-width: 90vw;\r\n}\r\n\r\nqp-suggestion.suggestion-highlight {\r\n\tbackground-color: rgba(0, 0, 0, 0.07);\r\n}\r\n\r\nqp-suggestion.extention-cord {\r\n\tz-index: 10001;\r\n\tbackground: #EDEDED;\r\n}\r\n\r\nqp-suggestion mark {\r\n\tbackground: #B9E3FF;\r\n\tbox-shadow: 0 2px 0 0 #B9E3FF, 0 -2px 0 0px #B9E3FF;\r\n}\r\n\r\n.loading-placeholder.loading {\r\n\tfont-size: 0;\r\n\twidth: 27px;\r\n\theight: 27px;\r\n\tpadding: 0;\r\n\tborder-radius: 50%;\r\n\tmargin-top: 10px;\r\n\tmargin-bottom: 10px;\r\n\tborder: 3px solid #bbbbbb;\r\n\toverflow: visible;\r\n\tposition: relative;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tanimation: suggester-loading-spinner infinite 2s linear;\r\n}\r\n\r\n.loading-placeholder.loading:after {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\twidth: 80%; height: 80%;\r\n\tbackground: #ffffff;\r\n\tposition: absolute;\r\n\tright: -3px;\r\n\ttop: -3px;\r\n}\r\n\r\n@keyframes suggester-loading-spinner {\r\n  0% {\r\n    transform: translateX(-50%) rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: translateX(-50%) rotate(360deg);\r\n  }\r\n}\r\n\r\n.qp-suggester .no-results-found {\r\n\tpadding: .5em var(--qp-suggestion-horizontal-paddings);\r\n\tcolor: #AEAEAE;\r\n\tfont-size: 14px;\r\n\twhite-space: nowrap;\r\n\ttext-overflow: ellipsis;\r\n}\r\n\r\n.qp-suggester .no-results-found svg {\r\n\tdisplay: none;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/utility/tooltip/qp-tooltip.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-tooltip-container {\r\n\tz-index: 20000;\r\n\tmin-width: 100%;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tbox-sizing: border-box;\r\n\tpointer-events: all;\r\n\tfont-size: 15px;\r\n\tline-height: 16px;\r\n\tborder-radius: 5px;\r\n\tbackground-color: #007ACC;\r\n\tbackground-color: var(--primary-color, #007ACC);\r\n\tborder: 1px solid #007ACC;\r\n\tborder: 1px solid var(--primary-color, #007ACC);\r\n\tcolor: RGBA(255, 255, 255, 0.87);\r\n\tfont-weight: 400;\r\n\tpadding: 5px;\r\n\ttext-align: left;\r\n\ttext-indent: 0px;\r\n\twhite-space: normal;\r\n\ttext-transform: none;\r\n\toverflow: visible;\r\n\tmax-width: 400px;\r\n\toverflow-wrap: break-word;\r\n\ttext-transform: none;\r\n}\r\n\r\n.qp-tooltip-container:after {\r\n\tdisplay: none;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tleft: var(--pointer-adjust, 50%);\r\n\ttransform: translateX(-8px);\r\n\ttop: -15px;\r\n\tborder: 8px solid transparent;\r\n\tcontent: ' ';\r\n\tborder-top-color: #007ACC;\r\n\tborder-top-color: var(--primary-color, #007ACC);\r\n}\r\n.qp-tooltip-container.glue-to-above:after {\r\n\tdisplay: block;\r\n\ttop:unset;\r\n\tbottom: -15px;\r\n}\r\n\r\n.qp-tooltip-container:before {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tleft: var(--pointer-adjust, 50%);\r\n\ttransform: translateX(-8px);\r\n\ttop: -15px;\r\n\tborder: 8px solid transparent;\r\n\tcontent: ' ';\r\n\tborder-bottom-color: #007ACC;\r\n\tborder-bottom-color: var(--primary-color, #007ACC);\r\n}\r\n.qp-tooltip-container.glue-to-above:before {\r\n\tdisplay: none;\r\n\ttop: unset;\r\n\tbottom: -15px;\r\n}\r\n\r\n.qp-tooltip-container.error {\r\n\tbackground-color: #e51c23;\r\n\tborder-color: #e51c23;;\r\n\tcolor: rgba(255, 255, 255, 0.87);\r\n\tfont-family: Arial, sans-serif;\r\n\tmax-width: 350px;\r\n}\r\n.qp-tooltip-container.error::before {\r\n\tborder-bottom-color: #e51c23;\r\n}\r\n.qp-tooltip-container.error::after {\r\n\tborder-top-color: #e51c23;\r\n}\r\n\r\n.qp-tooltip-container.warning {\r\n\tbackground-color: #ffeb3b;\r\n\tborder-color: brown;;\r\n\tcolor: rgba(0, 0, 0, 0.87);\r\n\tfont-family: Arial, sans-serif;\r\n\tmax-width: 350px;\r\n}\r\n.qp-tooltip-container.warning::before {\r\n\tborder-bottom-color: brown;\r\n\ttop: -16px;\r\n\tbottom: unset;\r\n}\r\n.qp-tooltip-container.glue-to-above.warning::before {\r\n\tborder-top-color: brown;\r\n\tdisplay: block;\r\n\tborder-bottom-color: transparent;\r\n\ttop: unset;\r\n\tbottom: -16px;\r\n}\r\n.qp-tooltip-container.warning::after {\r\n\tdisplay: block;\r\n\tborder-bottom-color: #ffeb3b;\r\n\tborder-top-color: transparent;\r\n}\r\n.qp-tooltip-container.glue-to-above.warning::after {\r\n\tdisplay: block;\r\n\tborder-bottom-color: transparent;\r\n\tborder-top-color: #ffeb3b;;\r\n}\r\n\r\n.qp-tooltip-container.info {\r\n\tbackground-color: #28a745;\r\n\tborder-color: #28a745;\r\n\tcolor: rgb(255, 255, 255, 0.87);\r\n\tfont-family: Arial, sans-serif;\r\n\tmax-width: 350px;\r\n}\r\n.qp-tooltip-container.info::before {\r\n\tborder-bottom-color: #28a745;\r\n}\r\n.qp-tooltip-container.glue-to-above.info::after {\r\n\tborder-top-color: #28a745;\r\n}\r\n",""]),e.exports=r},"client-controls/controls/utility/wait-cursor/qp-wait-cursor.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".wait-cursor {\r\n\ttext-align: center;\r\n\tbox-sizing: border-box;\r\n\tbackground: transparent;\r\n\tz-index: 10000;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tcursor: wait;\r\n}\r\n",""]),e.exports=r},"client-controls/plugins/bank-feed/qp-mx.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"#mx-form-container {\r\n    position: absolute;\r\n    top: 15%;\r\n    width: 350px;\r\n    height: 630px;\r\n    left: calc(50% - 350px / 2);\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    background-color: #FFFFFF;\r\n    z-index: 20000;\r\n}\r\n#mx-form-header {\r\n    height: 30px;\r\n}\r\n#mx-form-header {\r\n    font-size: 20px;\r\n}\r\n",""]),e.exports=r},"client-controls/plugins/payment/qp-authorize-net.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-authorize-net div{\r\n    padding: 15px;\r\n    position: fixed;\r\n    top: 25%;\r\n    left: 25%;\r\n    background-color: aliceblue;\r\n    border: solid 1px black;\r\n    z-index: 20000;\r\n}\r\n#paymentForm.show-payment-form {\r\n    display: block;\r\n}\r\n#paymentForm:not(.show-payment-form) {\r\n    display: none;\r\n}",""]),e.exports=r},"client-controls/plugins/payment/qp-fortis.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-fortis{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 20000;\r\n}\r\n#payment-form-fortis{\r\n    padding: 20px;\r\n    position: absolute;\r\n    background: #f5f7f8;\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 10px;\r\n    width: fit-content;\r\n\theight: fit-content;\r\n    top: 5%;\r\n    left: calc(50% - 295px);\r\n}\r\n#payment-form-fortis label {\r\n    margin: 2px;\r\n    font-size: 13px;\r\n    color: #222222;\r\n}\r\n#paymentForm-fortis.show-payment-form {\r\n    display: block;\r\n}\r\n#paymentForm-fortis:not(.show-payment-form) {\r\n    display: none;\r\n}\r\n#payment-form-fortis label.payment-form-label {\r\n    left: 20px;\r\n    top: 20px;\r\n    font-size: 22px;\r\n    color: #000000;\r\n}\r\n#payment-form-fortis i.ac.ac-close.ac-pull-right {\r\n    font-size: 20px;\r\n}\r\n.flexible{\r\n\tdisplay: inline-table;\r\n}\r\n.payformccsize{\r\n\twidth: 295px;\r\n\theight: 565px;\r\n}\r\n.payformachsize{\r\n\twidth: 305px;\r\n\theight: 670px;\r\n}\r\n.accountformccsize{\r\n\twidth: 290px;\r\n\theight: 530px;\r\n}\r\n.accountformachsize{\r\n\twidth: 550px;\r\n\theight: 695px;\r\n}",""]),e.exports=r},"client-controls/plugins/payment/qp-stripe.css":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'qp-stripe{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 20000;\r\n}\r\nqp-stripe .ac-warning{\r\n    font-size: 20px;\r\n    color: black;\r\n    float: left;\r\n    margin: 9px;\r\n}\r\n.payment-form-background {\r\n    position: fixed;\r\n    background-color: rgba(0, 0, 0, 0.2);\r\n    width:100%;\r\n    height:100%;\r\n}\r\n.payment-form-being-dragged {\r\n    opacity: 0.75;\r\n}\r\n.form-errors{\r\n    background-color: #FFD7D7;\r\n    width: 100%;\r\n    border-radius: 8px;\r\n}\r\n#card-errors {\r\n    padding: 10px;\r\n    padding-left: 40px;\r\n    font-size: 13px;\r\n    word-wrap: break-word;\r\n}\r\n#payment-form {\r\n    padding: 20px;\r\n    position: absolute;\r\n    background: #FFFFFF;\r\n    overflow: hidden;\r\n\tbox-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 10px;\r\n    width: fit-content;\r\n\theight: fit-content;\r\n    top: 15%;\r\n    left: calc(50% - 460px / 2);\r\n}\r\n#payment-form:not(.payment-mobile){\r\n    box-shadow: 0px 0px 16px rgba(115, 115, 115, 0.5);\r\n    border-radius: 10px;\r\n    width: 420px;\r\n    top: 15%;\r\n    left: calc(50% - 460px / 2);\r\n}\r\n.payment-form-background .payment-mobile {\r\n\tdisplay: none;\r\n}\r\n#payment-form label {\r\n    margin: 2px;\r\n    font-size: 13px;\r\n    color: #222222;\r\n}\r\n#card-number {\r\n    width: 242px;\r\n    line-height: 26px;\r\n    vertical-align: middle;\r\n}\r\n.card-expiry {\r\n    margin-top: 16px;\r\n}\r\n#card-expiry {\r\n    width: 81px;\r\n}\r\n#payment-form label.payment-form-label {\r\n    left: 20px;\r\n    top: 20px;\r\n    font-size: 22px;\r\n    color: #000000;\r\n}\r\n#payment-form i.ac.ac-close.ac-pull-right {\r\n    font-size: 20px;\r\n}\r\n#additional-payment-info{\r\n    padding-top: 10px;\r\n}\r\n#additional-payment-info div {\r\n    margin: 5px 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n#additional-payment-info label, .payment-amount-label {\r\n    display: inline-block;\r\n    max-width: 150px;\r\n}\r\n#additional-payment-info input{\r\n    width: 250px;\r\n}\r\n#additional-payment-info label[required]:before, .card-front label[required]:before, .card-back label[required]:before {\r\n    content:"* ";\r\n}\r\n.field-warning:before {\r\n    color: red;\r\n}\r\n#additional-payment-info .payment-form-input {\r\n    height: 16px;\r\n    padding: 4px 8px 4px 8px;\r\n    left: 200px;\r\n}\r\n.payment-form-input {\r\n    background: #FFFFFF;\r\n    border: 1px solid rgba(0, 0, 0, 0.19);\r\n    border-radius: 5px;\r\n}\r\n.payment-form-input:focus, \r\n.StripeElement--focus {\r\n    border: 2px solid #027ACC;\r\n    margin: -1px;\r\n}\r\n.payment-card {\r\n    position: relative;\r\n    height: 150px; \r\n    margin-top: 14px;\r\n}\r\n.card-front {\r\n    position: absolute;\r\n    width: 256px;\r\n    height: 117px;\r\n    background: #DCECF8;\r\n    border-radius: 8px;\r\n    z-index: 1;\r\n    padding: 16px;\r\n}\r\n.card-back {\r\n    position: absolute;\r\n    width: 134px;\r\n    height: 123px;\r\n    left: 272px;\r\n    top: 10px;\r\n    margin: 0px;\r\n    background: rgba(2, 122, 204, 0.24);\r\n    border-radius: 8px;\r\n}\r\n.magnetic-line {\r\n    width: 100%;\r\n    height: 32px;\r\n    margin-top: 16px;\r\n    background-color: rgba(2, 122, 204, 0.2);\r\n}\r\n.card-cvc {\r\n    position: absolute;\r\n    left: 30px;\r\n    bottom: 20px;\r\n}\r\n#card-cvc {\r\n    width: 70px;\r\n}\r\n.pay-button {\r\n    width: 100%;\r\n\tbackground-color: var(--primary-color, #007ACC) !important;\r\n    border-radius: 5px;\r\n    font-size: 13px;\r\n    line-height: 15px;\r\n    text-transform: uppercase;\r\n    color: #FFFFFF;\r\n    height: 30px;\r\n    margin-top: 20px;\r\n    border: 0px;\r\n}\r\n.payment-amount {\r\n    width: 110px;\r\n}\r\n.payment-errors-hidden {\r\n    display: none;\r\n}\r\n\r\n.pay-button:disabled{\r\n\topacity: 0.4;\r\n}\r\n\r\n.pay-button:not([disabled]):hover,\r\n.pay-button:active {\r\n\topacity: 0.87;\r\n\tbackground-color: var(--primary-color, #007ACC) !important;\r\n\tborder-color: var(--primary-color, #007ACC) !important;\r\n}\r\n.payment-amount[disabled] {\r\n\tbackground-color: transparent;\r\n\tbox-shadow: none;\r\n\tborder-color: transparent;\r\n\tborder-bottom-color: #E0E4E8;\r\n\tborder-bottom-style: dotted;\r\n\tborder-width: 1px;\r\n}\r\n#additional-payment-info input#Zip {\r\n    width: 100px;\r\n    margin-right: 150px;\r\n}\r\n.StripeElement {\r\n    padding: 5px 8px 3px 8px;\r\n}\r\n.address-separator {\r\n    margin-top: 8px;\r\n    margin-bottom: 2px;\r\n    width: 100%;\r\n}',""]),e.exports=r},"client-controls/controls/compound/menu/qp-menu.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-menu .qp-menu{display:inline-flex;align-items:center;height:var(--qp-toolbar-height);line-height:var(--qp-toolbar-height);cursor:pointer;white-space:nowrap;border-radius:6px}qp-menu .qp-menu.qp-selected,qp-menu .qp-menu:hover{background-color:rgba(0,0,0,.06);border-radius:6px}qp-menu .qp-menu .qp-menu-button{background:transparent;border-width:0 1px 0 0;border-style:solid;border-right-color:transparent;padding:0 2px 0 10px;cursor:pointer;opacity:.87}qp-menu .qp-menu.qp-selected:not(.qp-menu-no-options) .qp-menu-button.qp-menu-action-button,qp-menu .qp-menu:not(.qp-menu-no-options):hover .qp-menu-button.qp-menu-action-button{border-right-color:#fff}qp-menu .qp-menu.qp-menu-no-options .qp-menu-button{border-width:0px;padding:5px 10px}qp-menu .qp-menu.qp-menu-no-options .qp-menu-opener{display:none}qp-menu .qp-menu .qp-menu-button.disabled{opacity:.26;cursor:default}qp-menu .qp-menu .qp-menu-opener{background:transparent;border:none;padding:0 4px 0 1px;cursor:pointer}qp-menu.qp-button .qp-menu{background-color:rgba(0,0,0,.06)}qp-menu.qp-button .qp-menu:hover,qp-menu.qp-button .qp-menu.qp-selected{background-color:rgba(0,0,0,.1)}.qp-menu-options{color:#000;fill:#000;z-index:var(--zindex-dropdown, 20000);background-color:#fff;max-height:80vh;overflow-y:auto;overflow-y:overlay;min-width:50px !important;box-shadow:0px 0px 16px rgba(115,115,115,.7);box-sizing:border-box;padding:0;text-transform:none;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.15) transparent;border-radius:6px}.qp-menu-options .qp-menu-container{padding:8px 0px}.qp-menu-options .qp-menu-item{min-height:18px;line-height:18px;opacity:.87;padding:7px 16px;font-size:14px;display:block;white-space:nowrap;text-align:left;max-width:300px;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.qp-menu-options .qp-menu-item:hover{background-color:var(--qp-menu-hover)}.qp-menu-options .qp-menu-item.disabled{opacity:.3;cursor:auto}.qp-menu-options .qp-menu-item.disabled:hover{color:#000;fill:#000;background-color:inherit}.qp-menu-options .qp-menu-item .qp-menu-spacer{margin:0px 5px 1px 5px}.qp-menu-options .qp-menu-item .qp-menu-icon{float:left}.qp-menu-options .qp-menu-spacer .qp-menu-label{display:inline-block}.qp-menu-options .qp-menu-spacer .qp-menu-value{display:inline-block;text-align:end}.qp-menu-options .qp-menu-separator{border-bottom:1px solid #aaa;padding:0;min-height:0;margin:3px 0;cursor:auto}",""]),e.exports=r},"client-controls/controls/compound/screen-title/qp-screen-title.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".rtl qp-screen-title{float:right;display:flex;text-align:end;width:100%;flex-direction:column;align-content:flex-start;align-items:flex-start}.rtl .search-hint-box{flex-direction:unset}.rtl .search-hint-box .icon{padding:2px 0px 0px 10px}qp-screen-title{float:left;max-width:100%;min-width:300px}qp-screen-title:hover .favoriteOff{visibility:visible}qp-screen-title a{font-size:19px;text-decoration:none;color:RGBA(0, 0, 0, 0.87);cursor:pointer;display:inline-block}qp-screen-title a:hover{text-decoration:underline}qp-screen-title i{margin-left:10px}qp-screen-title .star-container{display:flex;align-items:baseline}qp-screen-title .withCaption{width:100%}qp-screen-title .withCaption>div>a{font-size:13px;color:#027acc;text-overflow:ellipsis;display:block;white-space:nowrap;overflow:hidden}qp-screen-title .withCaption>span{font-size:18px;border-width:0px;display:block;margin-top:3px;color:#000;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}qp-screen-title .captionLine{display:flex;align-items:center;align-content:center}qp-screen-title span{display:none}qp-screen-title .favoriteOff{color:#000;visibility:hidden}qp-screen-title .favoriteOn{color:#f7ba08}qp-screen-title .no-star{display:none}.search-hint-box{display:flex;border-radius:10px;border:none;padding:7px 10px;margin:5px 0;background-color:#fff5d2;align-items:center}.search-hint-box.blue{background-color:#d4e5fd}.search-hint-box.yeloow{background-color:#fff5d2}.search-hint-box.red{background-color:#ffe6e6}.search-hint-box .icon{padding:2px 10px 0px 0px;font-size:22px}.search-hint-box .icon.blue{color:blue}.search-hint-box .icon.yellow{color:orange}.search-hint-box .icon.red{color:red}.search-hint-box .message{line-height:normal;font-size:13px}",""]),e.exports=r},"client-controls/controls/compound/tool-bar/qp-tool-bar.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,'qp-tool-bar{flex-grow:1}qp-tool-bar div.qp-tool-bar.qp-tool-bar-no-menu{height:auto}qp-tool-bar div.qp-tool-bar.qp-tool-bar-no-menu.qp-tool-bar-nowrap{white-space:nowrap}qp-tool-bar div.qp-tool-bar{display:inline-flex;flex-wrap:wrap;height:var(--qp-toolbar-height);width:100%;overflow:hidden;background-color:inherit}@media screen and (max-width: 500px){qp-tool-bar div.qp-tool-bar{width:100%}}qp-tool-bar .qp-tool-bar-item{background-color:inherit;color:#000;font-weight:400;white-space:nowrap;border:none;box-sizing:content-box;text-align:center;cursor:default;min-width:inherit;font-size:var(--qp-regular-font-size);border-radius:var(--qp-input-border-radius);height:var(--qp-toolbar-height);margin:0 calc( var(--qp-toolbar-items-gap) /2 )}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button{padding:calc( ( var(--qp-toolbar-height) - var(--qp-icon-size) ) / 2 ) 10px;height:var(--qp-icon-size);line-height:var(--qp-icon-size);cursor:pointer;box-sizing:content-box;display:table;border-radius:var(--qp-input-border-radius);background-color:rgba(0,0,0,.06)}qp-tool-bar .qp-tool-bar-item.minor-button .qp-tool-bar-button{background-color:transparent}qp-tool-bar .qp-tool-bar-item.qp-toggle-pushed .qp-tool-bar-button{background-color:rgba(0,0,0,.06)}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button:hover{background-color:rgba(0,0,0,.1)}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button.disabled:hover{background-color:inherit}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button>qp-hyper-icon{display:flex;align-items:center;height:var(--qp-icon-size)}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button .qp-hyper-icon>img{max-height:var(--qp-icon-size)}qp-tool-bar .qp-tool-bar-item .qp-tool-bar-text{display:inline-block}qp-tool-bar .checkBox{padding-right:0}qp-tool-bar .toolBar button:disabled{background-color:inherit;color:#000;opacity:.26;cursor:default}qp-tool-bar .items-list{list-style:none outside none;height:var(--qp-toolbar-height);margin:0px;padding:0px;border-spacing:0px;border-collapse:separate}qp-tool-bar .items-list .qp-tool-bar-button.disabled{opacity:.26;cursor:default;background-color:inherit}qp-tool-bar .items-list li{display:inline-block;vertical-align:bottom}qp-tool-bar .qp-tool-bar-opener{display:inline-block;box-sizing:border-box;height:var(--qp-toolbar-height);color:rgba(0,0,0,.5);cursor:pointer;padding:calc( ( var(--qp-toolbar-height) - var(--qp-icon-size) ) / 2 ) 10px;border-radius:var(--qp-input-border-radius)}qp-tool-bar .qp-tool-bar-opener.qp-menu-opened,qp-tool-bar .qp-tool-bar-opener.qp-menu-opened:hover,qp-tool-bar .qp-tool-bar-opener.qp-menu-opened:focus{background-color:rgba(0,0,0,.06);z-index:6000;box-shadow:none}qp-tool-bar .qp-tool-bar-opener:hover{background-color:rgba(0,0,0,.06)}qp-tool-bar .qp-tool-bar-opener:focus{background-color:#fff;box-shadow:inset 0px 0px 0px 2px rgba(2,122,204,.4)}qp-tool-bar .qp-tool-bar-opener.qp-tool-bar-invisible{opacity:0}qp-tool-bar .qp-menu-shadow{position:fixed;top:0;bottom:0;left:0;right:0;z-index:5000;background-color:rgba(0,0,0,.25)}qp-tool-bar .qp-tool-bar-item.qp-connotation-default .qp-tool-bar-button.disabled:hover{background-color:inherit;fill:inherit;color:inherit;cursor:default}qp-tool-bar .qp-tool-bar-item.qp-connotation-default .qp-tool-bar-button:hover,qp-tool-bar .qp-tool-bar-item.minor-button.qp-connotation-default.qp-toggle-pushed .qp-tool-bar-button:hover{background-color:rgba(0,0,0,.1)}qp-tool-bar .qp-tool-bar-item.minor-button.qp-connotation-default .qp-tool-bar-button:hover{background-color:rgba(0,0,0,.06)}.qp-connotation-Primary,.qp-connotation-Primary:hover{background-color:#007acc !important;background-color:var(--primary-color, #007ACC) !important;color:#fff !important}.qp-connotation-Secondary,.qp-connotation-Secondary:hover{background-color:#6c757d !important;color:#fff !important}.qp-connotation-Success,.qp-connotation-Success:hover{background-color:#28a745 !important;color:#fff !important}.qp-connotation-Danger,.qp-connotation-Danger:hover{background-color:#dc3545 !important;color:#fff !important}.qp-connotation-Warning,.qp-connotation-Warning:hover{background-color:#ffc107 !important;color:#212529 !important}.qp-connotation-Info,.qp-connotation-Info:hover{background-color:#17a2b8 !important;color:#fff !important}.qp-connotation-Light,.qp-connotation-Light:hover{background-color:#f8f9fa !important;color:#212529 !important}.qp-connotation-Dark,.qp-connotation-Dark:hover{background-color:#343a40 !important;color:#fff !important}.qp-tool-bar-menu{z-index:6000;background-color:#fff;max-height:80vh;overflow-y:auto;overflow-y:overlay;min-width:272px !important;box-shadow:0px 0px 16px rgba(115,115,115,.7);box-sizing:border-box;border-top:5px solid #fff;border-bottom:5px solid #fff;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.15) transparent;border-radius:var(--qp-input-border-radius)}.qp-tool-bar-menu::-webkit-scrollbar{width:19px}.qp-tool-bar-menu::-webkit-scrollbar-thumb{background:rgba(0,0,0,.15);border-radius:0px;width:3px;border:5px solid #fff}.qp-tool-bar-menu .qp-tool-bar-container{padding:0 14px 7px 0;margin:0;overflow:hidden;display:inline-flex;flex-flow:row nowrap}.qp-tool-bar-menu .qp-tool-bar-column{width:240px;margin-right:20px}.qp-tool-bar-menu .qp-tool-bar-menu-item{display:block;padding:0 0 0 29px;margin-left:5px;cursor:pointer;height:30px;font-size:14px;line-height:30px;color:#007acc;color:var(--primary-color, #007ACC);white-space:nowrap;position:relative}.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-empty-label{height:10px}.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-label{font-size:16px;color:#000;cursor:default;padding:10px 0 0 29px;margin-top:7px;box-sizing:border-box;height:40px}.qp-tool-bar-menu .qp-menu-text{display:inline-block;text-overflow:ellipsis;overflow:hidden;width:100%}.qp-tool-bar-menu .qp-tool-bar-menu-item.disabled .qp-menu-text{opacity:.3}.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-item:hover,.qp-tool-bar-menu .qp-tool-bar-menu-item.qp-menu-item.qp-menu-highlighted{background-color:#eee}.qp-tool-bar-menu .qp-tool-bar-menu-item.disabled{cursor:default}.qp-tool-bar-menu .qp-tool-bar-menu-item.disabled:hover{background-color:inherit}.qp-tool-bar-menu .qp-menu-fav-placeholder{width:30px;height:30px;position:absolute;cursor:pointer;font-family:"FontAwesome" !important;left:0px;color:#000}.qp-tool-bar-menu .qp-tool-bar-menu-item:hover .qp-menu-fav-placeholder:not(.favorite):before{content:"";margin-left:6px}.qp-tool-bar-menu .qp-tool-bar-menu-item .qp-menu-fav-placeholder:not(.favorite):hover:before{content:"";margin-left:6px}.qp-tool-bar-menu .qp-menu-fav-placeholder.favorite:before,.qp-tool-bar-menu .qp-tool-bar-menu-item.extention-cord .qp-menu-fav-placeholder.favorite:before{content:"";color:#f7ba08;margin-left:6px;font-family:"FontAwesome" !important}.qp-tool-bar-menu .qp-menu-color-bead{display:inline-block;border-radius:10px;width:10px;height:10px;margin-left:3px}.qp-menu-item.extention-cord{z-index:6000;background:#eee;line-height:30px;color:#007acc;color:var(--primary-color, #007ACC);white-space:nowrap;font-size:14px;box-shadow:none;padding-right:5px}.qp-menu-item.extention-cord.disabled:before{background:#fff;content:"";position:absolute;display:block;width:100%;height:100%;opacity:.7}.qp-menu-item.extention-cord.disabled{background-color:#fff}body.designMode .qp-tool-bar .qp-tool-bar-item .qp-tool-bar-button:hover,body.designMode .qp-tool-bar .qp-tool-bar-item .qp-menu:hover,body.designMode .qp-tool-bar-menu .qp-tool-bar-menu-item .qp-menu-item:hover{box-shadow:0px 0px 2px 1px #007acc;box-shadow:0px 0px 2px 1px var(--primary-color, #007ACC);cursor:help !important;opacity:1}',""]),e.exports=r},"client-controls/controls/compound/translation-validation/qp-translation-validation.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".validation-container{width:100%}.validation-title{padding:10px calc( var(--qp-page-host-margin) + var(--qp-page-host-padding) );font-weight:bold;width:100%;background-color:#fff5d2;cursor:pointer}.validation-items{border:1px solid rgba(0,0,0,.1);max-height:400px;overflow-y:auto;padding:6px 0}.validation-item{padding:4px calc( var(--qp-page-host-margin) + var(--qp-page-host-padding) )}.validation-items{animation:validation-slide-from-top .2s;transform-origin:top}@keyframes validation-slide-from-top{from{transform:scaleY(0)}to{transform:scaleY(1)}}",""]),e.exports=r},"client-controls/controls/compound/tree-selector/qp-tree-selector.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-tree-selector-dialog ux-dialog-header{padding-bottom:0}qp-tree-selector,.qp-tree-selector{height:100%}.qp-tree-selector .qp-tabbar-content{min-height:0}.qp-tree-selector qp-tree{height:100%}.qp-tree-selector .tree-root{display:flex;flex-direction:column}.qp-tree-selector .tree-main-toolbar{flex:0 auto}.qp-tree-selector .tree-table-container{overflow:auto;flex:1 auto}.qp-tree-selector--one-tab .qp-tabbar-header{display:none}.qp-tree-selector--one-tab .qp-tab{padding-top:0}",""]),e.exports=r},"client-controls/controls/container/resizer/qp-resizer.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".qp-resizer{position:relative;padding-bottom:8px}.qp-resizer__content{display:block;height:calc(100% - 8px);overflow-y:auto}.qp-resizer__dragger{display:flex;align-items:center;justify-content:center;position:absolute;bottom:0;left:0;right:0;height:8px;cursor:row-resize}.qp-resizer__icon{display:flex;align-items:center;height:8px;overflow:hidden}.qp-resizer__icon svg{color:#c8c8c8}.qp-resizer__icon:hover svg{color:#7c7c7c}",""]),e.exports=r},"client-controls/controls/dialog/upload-dialog/qp-upload-dialog.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,".upload-dialog-body{--qp-default-label-width: 100px}.upload-dialog-body qp-field.upload-field .label-container label{display:flex;align-items:center}.upload-dialog-body qp-field.upload-field .icon-container{height:100%;display:flex;align-items:center}.upload-dialog-body qp-uploader .qp-uploader{margin:0px}.upload-dialog-body qp-uploader .uploader-button{min-height:18px}.upload-dialog-body qp-uploader .uploader-button .file-label{display:flex;flex-wrap:nowrap;position:absolute;overflow:hidden;width:100%}.upload-dialog-body qp-uploader .uploader-button .file-label .file-label-text{flex-basis:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;line-height:20px}.upload-dialog-body qp-uploader .uploader-button .file-label qp-icon{flex-grow:0;cursor:pointer;pointer-events:all}.upload-dialog-body qp-text-editor textarea{width:100%;min-height:32px}",""]),e.exports=r},"client-controls/controls/dialog/workflow-dialog/qp-workflow-dialog.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-fieldset-layout.workflow-dialog{height:100%}qp-fieldset-layout.workflow-dialog .qp-fieldset-layout-root{flex-grow:1}",""]),e.exports=r},"client-controls/controls/simple/button/qp-button.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-button{display:inline-flex}qp-button button.qp-button div.btn-inner qp-icon.icon-menu{display:inline;padding-left:5px}qp-button div.glue-to{position:fixed;z-index:1000}qp-button div.glue-to div.options-panel{background-color:#fff;z-index:1000;max-width:412px;max-height:269px}qp-button div.drop-down__options-pane{opacity:1 !important;min-width:210px;color:rgba(0,0,0,.87)}qp-button div.drop-down__options-pane div{height:26px;line-height:26px}qp-button button.qp-button{font-weight:400;font-size:var(--qp-regular-font-size);background-color:rgba(0,0,0,.06);border:none;padding:3px 10px 3px 10px;height:var(--qp-button-height);min-width:60px;opacity:.87;white-space:nowrap;cursor:pointer;overflow:hidden;width:inherit;border-radius:var(--qp-input-border-radius);flex-grow:1}qp-button button.qp-button qp-icon{display:inline-block;vertical-align:bottom}qp-button button.qp-button[disabled]{color:rgba(27,27,27,.4);cursor:initial}qp-button button.qp-button.primary-button,qp-button button.qp-button:not([disabled]):hover,qp-button button.qp-button.pushed{background-color:rgba(0,0,0,.1)}qp-button button.qp-button.ButtonT{background-color:transparent;border:none}qp-button button.qp-button:not([disabled]):active{opacity:1}qp-button button.qp-button:focus{box-shadow:inset 0 0 0 2px rgba(2,122,204,.4)}qp-button.major-button button.qp-button{background-color:#007acc;background-color:var(--primary-color, #007ACC);color:#fff}qp-button.major-button button.qp-button[disabled]{background-color:rgba(2,122,204,.4)}qp-button.major-button button.qp-button:not([disabled]):hover{background-color:#016fbb;color:#fff}qp-button.major-button button.qp-button:focus{box-shadow:inset 0 0 0 2px rgba(255,255,255,.4)}qp-button.minor-button button.qp-button{background-color:transparent}qp-button.minor-button button.qp-button:not([disabled]):hover{background-color:rgba(0,0,0,.06)}qp-button.minor-button button.qp-button:focus{background-color:transparent;box-shadow:inset 0 0 0 2px rgba(2,122,204,.4)}qp-button button.qp-button.minor-button.pushed{background-color:rgba(0,0,0,.06)}",""]),e.exports=r},"client-controls/controls/simple/image/components/gallery/carousel.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"carousel,.carousel-body{display:flex;flex-grow:1;position:relative;overflow:hidden}carousel .carousel-left,.carousel-body .carousel-left{position:absolute;top:0px;background-color:transparent;height:100%;display:flex;align-items:center;padding:10px;flex-direction:row;pointer-events:all;z-index:1;cursor:pointer;width:clamp(40px, 20%, 150px);left:0px}carousel .carousel-left>qp-icon.arrow,.carousel-body .carousel-left>qp-icon.arrow{width:11px;height:16px}carousel .carousel-left>qp-icon.arrow svg,.carousel-body .carousel-left>qp-icon.arrow svg{filter:drop-shadow(0px 0px 4px rgba(0, 0, 0, 0.7))}carousel .carousel-left>qp-icon.arrow.left svg,.carousel-body .carousel-left>qp-icon.arrow.left svg{transform:rotate(180deg)}carousel .carousel-left.carousel-button-disabled,.carousel-body .carousel-left.carousel-button-disabled{display:var(--carousel-button-disabled-display, flex);cursor:default}carousel .carousel-left.carousel-button-disabled svg,.carousel-body .carousel-left.carousel-button-disabled svg{visibility:hidden}carousel .carousel-right,.carousel-body .carousel-right{position:absolute;top:0px;background-color:transparent;height:100%;display:flex;align-items:center;padding:10px;flex-direction:row-reverse;pointer-events:all;z-index:1;cursor:pointer;width:clamp(40px, 20%, 150px);right:0px}carousel .carousel-right>qp-icon.arrow,.carousel-body .carousel-right>qp-icon.arrow{width:11px;height:16px}carousel .carousel-right>qp-icon.arrow svg,.carousel-body .carousel-right>qp-icon.arrow svg{filter:drop-shadow(0px 0px 4px rgba(0, 0, 0, 0.7))}carousel .carousel-right>qp-icon.arrow.left svg,.carousel-body .carousel-right>qp-icon.arrow.left svg{transform:rotate(180deg)}carousel .carousel-right.carousel-button-disabled,.carousel-body .carousel-right.carousel-button-disabled{display:var(--carousel-button-disabled-display, flex);cursor:default}carousel .carousel-right.carousel-button-disabled svg,.carousel-body .carousel-right.carousel-button-disabled svg{visibility:hidden}carousel .carousel-center,.carousel-body .carousel-center{display:flex;flex-grow:1;position:relative;justify-content:center}carousel .carousel-center>*,.carousel-body .carousel-center>*{position:absolute;height:100%;width:100%}",""]),e.exports=r},"client-controls/controls/simple/image/components/gallery/image-feed.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"image-feed{display:flex;flex-grow:1;position:relative;overflow:hidden}image-feed .image-feed{display:flex;flex-wrap:nowrap;position:absolute;top:0px;left:0px;overflow:hidden;width:100%}image-feed .image-feed>image-view{flex-shrink:0;cursor:pointer}image-feed .image-feed>image-view.selected{z-index:1}image-feed .image-feed>.image-feed-track{flex-grow:0;flex-shrink:0;height:100%}",""]),e.exports=r},"client-controls/controls/simple/image/components/gallery/image-gallery.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"image-gallery,.image-gallery{display:flex;flex-grow:1;flex-direction:column;align-items:stretch;flex-wrap:nowrap;overflow:hidden}image-gallery image-feed,.image-gallery image-feed{flex-basis:clamp(56px, 15%, 120px);flex-grow:0}image-gallery .image-gallery-placeholder,.image-gallery .image-gallery-placeholder{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch}",""]),e.exports=r},"client-controls/controls/simple/image/components/popup/image-popup.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"image-popup{display:inline}image-popup .image-popup-host{display:inline}.image-popup{display:flex;position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:var(--zindex-container, 11000);background-color:#fff;align-items:stretch;flex-direction:column;flex-wrap:nowrap}.image-popup>*{flex-grow:1}.image-popup .image-popup-caption{position:relative;flex:0 0 auto;display:flex;flex-wrap:nowrap;align-items:center;height:48px;width:100vw;border-bottom:1px solid rgba(0,0,0,.1)}.image-popup .image-popup-caption .image-popup-title{flex-grow:1;font-size:14px;text-overflow:ellipsis;text-wrap:nowrap;overflow:hidden;padding:0px 24px}.image-popup .image-popup-caption .image-popup-toolbar{display:flex;padding-right:8px;flex:0 1 380px;flex-wrap:nowrap;height:100%;align-self:end;--control-toolbar-hover-background: transparent;--control-toolbar-item-opacity: 0.7;--control-toolbar-item-hover-opacity: 1;--layout-hover-background: transparent}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar{display:flex;position:relative;height:100%;align-items:center}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar qp-layout{justify-content:right;display:flex}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar.qp-control-bar-main{flex:1 1 auto}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar.qp-control-bar-main .qp-control-bar{position:absolute}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar.qp-control-bar-panel{flex:0 0 24px}.image-popup .image-popup-caption .image-popup-toolbar qp-control-bar .image-popup-toolbar-button{cursor:pointer}.image-popup image-gallery .image-view-image{cursor:pointer !important}",""]),e.exports=r},"client-controls/controls/simple/image/components/view/image-view.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"image-view{display:flex;padding:calc(2 * var(--image-view-image-padding, 0px)) var(--image-view-image-padding, 0px) 0px var(--image-view-image-padding, 0px);align-items:stretch;justify-content:stretch}image-view .image-view{position:relative;display:flex;flex-grow:1;user-select:none;overflow:hidden}image-view .image-view img{width:100%;height:100%}image-view .image-view img.image-view-image{cursor:var(--image-view-cursor, pointer)}image-view .image-view img.image-view-image-preview{filter:blur(4px) opacity(0.4)}image-view .image-view .image-view-load-status{position:absolute;width:100%;height:100%;z-index:0;display:flex;align-items:center;flex-grow:1;flex-direction:column;justify-content:center;gap:16px;container-type:size;container-name:load-status}image-view .image-view .image-view-load-status reload-icon{display:flex;align-items:center;justify-content:center}image-view .image-view .image-view-load-status reload-icon>svg{width:clamp(20px, 30%, 49px);fill:none;stroke:#aeaeae;cursor:pointer}image-view .image-view .image-view-load-status reload-icon>svg #reload-icon-arrow{fill:#aeaeae}image-view .image-view .image-view-load-status .image-view-load-status-text{display:none;text-shadow:0px 0px 14px #fff,0px 0px 14px #fff}@container load-status (min-width: 160px){image-view .image-view .image-view-load-status .image-view-load-status-text{display:block}}",""]),e.exports=r},"client-controls/controls/simple/image/components/view/load-progress.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"load-progress{display:flex}load-progress .load-progress{display:flex;flex-grow:1;align-items:center;justify-content:center}load-progress .load-progress .load-progress-icon{width:clamp(20px, 30%, 49px);fill:none;cursor:pointer}load-progress .load-progress .load-progress-icon #progress-body{fill:#fff;stroke:#aeaeae;stroke-width:1px}load-progress .load-progress .load-progress-icon #progress-value{fill:transparent;stroke:#0061a4;stroke-width:3px}load-progress .load-progress .load-progress-icon #progress-cancel{fill:#aeaeae}",""]),e.exports=r},"client-controls/controls/simple/image/upload/qp-image-uploader.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-image-uploader{display:inline}.qp-image-uploader{display:flex;flex-direction:column}.qp-image-uploader qp-multi-upload{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch}.qp-image-uploader qp-multi-upload .qp-uploader{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch;margin:0px;padding:0px;border:0px solid transparent}.qp-image-uploader qp-multi-upload .qp-uploader .uploader-button{flex-grow:1;display:flex;align-items:stretch;justify-content:stretch;position:relative}.qp-image-uploader image-gallery{flex-grow:1}.qp-image-uploader image-gallery carousel{border:1px solid rgba(0,0,0,.1);border-radius:10px;background-color:#fff}.qp-image-uploader image-gallery carousel image-view .image-view-load-status{cursor:default}.qp-image-uploader image-gallery .qp-image-uploader-placeholder{flex-grow:1;display:flex;flex-direction:column;align-items:stretch;justify-content:stretch}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message{flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message svg{fill:none;fill:#000;fill-opacity:.4;fill-rule:evenodd;clip-rule:evenodd}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message svg.qp-image-uploader-prompt{width:53px;height:44px}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message svg.qp-image-uploader-null{width:46px;height:46px}.qp-image-uploader image-gallery .qp-image-uploader-placeholder .qp-image-uploader-message.qp-image-uploader-message-null{cursor:default}.qp-image-uploader image-gallery image-feed{--image-view-image-padding: 3px}.qp-image-uploader image-gallery image-feed .image-feed{justify-content:center}.qp-image-uploader image-gallery image-feed .image-feed image-view .image-view{border-radius:10px;outline:1px solid #c9c9c9}.qp-image-uploader image-gallery image-feed .image-feed image-view.selected .image-view{outline:2px solid #007acc;outline-offset:-1px}.qp-image-uploader qp-control-bar.image-gallery-toolbar{--control-toolbar-hover-background: transparent;--control-toolbar-gap: 0px;position:absolute;top:2px;right:0px;z-index:1}.qp-image-uploader image-view{background-color:#fff}",""]),e.exports=r},"client-controls/controls/simple/image/view/qp-image-view.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-image-view{display:inline}.qp-image-view{border:1px solid rgba(0,0,0,.1);border-radius:10px;overflow:hidden;background-color:#fff}.qp-image-view .qp-image-view-message{flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}.qp-image-view .qp-image-view-message svg{fill:none;fill:#000;fill-opacity:.4;fill-rule:evenodd;clip-rule:evenodd}.qp-image-view .qp-image-view-message svg.qp-image-view-null{width:46px;height:46px}.qp-image-view .qp-image-view-message.qp-image-view-message-null{cursor:default}",""]),e.exports=r},"client-controls/controls/simple/uploader/qp-multi-upload.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-multi-upload{display:flex;align-items:stretch;justify-content:stretch}qp-multi-upload>qp-uploader{flex-grow:1}",""]),e.exports=r},"client-controls/controls/simple/uploader/qp-uploader.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,"qp-uploader{display:flex;align-items:stretch;justify-content:stretch}qp-uploader>.qp-uploader{flex-grow:1}.qp-uploader{margin:10px 0;border:3px dashed #d3d3d3;padding:10px;text-align:center;position:relative}.qp-uploader .uploader-input{cursor:pointer;position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;z-index:1}.qp-uploader .uploader-button{position:relative;cursor:pointer;pointer-events:var(--uploader-button-pointer-events, none)}",""]),e.exports=r},"client-controls/controls/styles.scss":(e,t,i)=>{var n=i(8081),r=i(3645)(n);r.push([e.id,':root{--primary-color-rgb: 0, 122, 204;--qp-primary-color: rgba(var(--primary-color-rgb));--qp-highlight-color: rgba(224, 239, 249, 1);--qp-highlight-hover-color: rgba(204, 228, 245, 1);--qp-altrow-color: rgba(245, 247, 248, 1);--qp-row-color: rgba(255, 255, 255, 1);--qp-background-color: rgba(0, 0, 0, 0.06);--qp-dark-background-color: rgba(0, 0, 0, 0.1);--qp-menu-hover: rgba(0, 0, 0, 0.07);--qp-shadow-color: rgba(0, 0, 0, 0.2);--qp-border-color: rgba(210, 212, 215, 1);--qp-sucess-bg-color: rgba(237, 247, 234, 1);--qp-error-bg-color: rgba(255, 239, 239, 1);--qp-success-color: rgba(71, 168, 36, 1);--qp-warning-color: rgba(255, 184, 0, 1);--qp-error-color: rgba(238, 64, 81, 1);--qp-label-color: #1B1B1B;--qp-input-height: 30px;--qp-grid-row-height: 26px;--qp-grid-line-height: 16px;--qp-inputs-gap: 4px;--qp-input-border-radius: 6px;--qp-regular-font-size: 14px;--qp-tabbar-font-size: 13px;--qp-button-height: 28px;--qp-toolbar-height: 28px;--qp-toolbar-items-gap: 8px;--qp-icon-size: 16px;--qp-sections-column-gap: 8px;--qp-sections-row-gap: 8px;--qp-fieldset-padding-top: 12px;--qp-fieldset-padding-left: 16px;--qp-page-host-margin: 4px;--qp-page-host-padding: 12px}@media(min-height: 680px){:root{--qp-sections-row-gap: 12px;--qp-inputs-gap: 6px;--qp-input-height: 32px;--qp-toolbar-height: 32px;--qp-button-height: 32px;--qp-tabbar-font-size: 14px;--qp-grid-row-height: 29px}}@media(min-width: 1400px){:root{--qp-sections-column-gap: 12px;--qp-page-host-margin: 7px;--qp-page-host-padding: 17px}}qp-note-dialog,qp-files-dialog{position:absolute}.fatal-error{background-color:var(--qp-error-color) !important}.qp-collapser{display:block;position:relative}.qp-collapser.container{flex-shrink:0;min-height:20px;padding-right:32px}.qp-collapser.toggle{display:flex;align-items:center;height:20px;width:24px;font-size:16px;font-family:"FontAwesome" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;background-color:rgba(0,0,0,.06);border-radius:var(--qp-input-border-radius);padding:0 4px;cursor:pointer;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.qp-collapser.toggle:hover{background-color:#007acc;background-color:var(--primary-color, #007ACC);color:#fff}.qp-collapser.toggle:not(.expanded):before{content:"";padding-top:4px}.qp-collapser.expanded:before{content:""}.qp-collapser.toggle:not(.expanded){background-color:#e6f2fa;color:#027acc;fill:#027acc}.qp-collapser.hidden{display:none}',""]),e.exports=r},"client-controls/controls/abstract/screen-base-view-model/screen-base-view-model.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./screen-base-view-model.css"></require>\r\n</template>\r\n'},"client-controls/controls/compound/address-lookup/qp-address-lookup.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template id="${config.id}" show.bind="!config.hidden">\r\n\t<require from="./qp-address-lookup.css"></require>\r\n\r\n\t<qp-button config.bind="btnAddressLookupConfig" class="btn-address-lookup"\r\n\t\tclick.delegate="processAddressLookupClick($event)">\r\n\t</qp-button>\r\n\t<qp-panel id="addresslookup_mapdialog" config.bind="mapdialogConfig">\r\n\t\t<div class="flex-container" >\r\n\t\t\t<div class="flex-item" style="height: inherit;">\r\n\t\t\t\t\t<div class="mapcontainer" id="mapContainer" ref="mapContainer"  style="height: inherit;" >\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\'searchBoxContainer\' class="customNavBar">\r\n\t\t\t\t\t\t<qp-text-editor ref="searchBox" config.bind="txtNameConfig"></qp-text-editor>\r\n\t\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button click.delegate="ok()" config.bind="saveButtonConfig"></qp-button>\r\n\t\t\t<qp-button config.bind="cancelButtonConfig"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\t<qp-panel id="addresslookup_mapdialog_notconf" config.bind="mapdialogConfig">\r\n\t\t<div class="flex-container-notconf" >${msg.AddressLookupMapIsNotConfigured}</div>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/currency/qp-currency.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template show.bind="!config.hidden">\r\n\t<require from="./qp-currency.css"></require>\r\n\r\n\t<div class="control-container">\r\n\t\t<div if.bind="mode===\'current\'" class="currency-container">\r\n\t\t\t<qp-selector\r\n\t\t\t\tvalue.two-way="currencyValue"\r\n\t\t\t\tconfig.bind="currencySelectorConfig"\r\n\t\t\t\tstate.bind="currencySelectorState"\r\n\t\t\t\twg-field.one-way="(`${config.id}_CuryID`) & attr"\r\n\t\t\t\tclass="current-currency-select">\r\n\t\t\t</qp-selector>\r\n\t\t\t<qp-simple-selector\r\n\t\t\t\tvalue.two-way="rateValue"\r\n\t\t\t\tconfig.bind="rateSelectorConfig"\r\n\t\t\t\twg-field.one-way="(`${config.id}_CuryRateTypeID`) & attr"\r\n\t\t\t\tclass="rate-select">\r\n\t\t\t</qp-simple-selector>\r\n\t\t\t<qp-button\r\n\t\t\t\tconfig.bind="btnSwitchToBase"\r\n\t\t\t\tref="switchToBaseElement"\r\n\t\t\t\tclass="currency-to-base"\r\n\t\t\t\tclick.delegate="switchCuryState($event)"></qp-button>\r\n\t\t</div>\r\n\r\n\t\t<div if.bind="mode===\'base\'" class="currency-container">\r\n\t\t\t<div class="base-currency" wg-field.one-way="(`${config.id}_BaseCuryID`) & attr">${baseLabel}</div>\r\n\t\t\t<qp-button\r\n\t\t\t\tconfig.bind="btnSwitchToCurrent"\r\n\t\t\t\tref="switchToCurrentElement"\r\n\t\t\t\tclass="currency-to-current"\r\n\t\t\t\tclick.delegate="switchCuryState($event)"></qp-button>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<qp-panel id="currencyRateDialog_${config.id}">\r\n\t\t<div class="currency-rate-dialog">\r\n\t\t\t<qp-field\r\n\t\t\t\tcontrol-id="${selectorContext.config.id}_currencyRateTypeId"\r\n\t\t\t\tcontrol-state.bind="selectorContext.currencyRateTypeState"\r\n\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_CuryRateTypeID`) & own"\r\n\t\t\t\tlabel-size="sm"></qp-field>\r\n\t\t\t<qp-field\r\n\t\t\t\tcontrol-id="${selectorContext.config.id}_currencyEffectiveDate"\r\n\t\t\t\tcontrol-state.bind="selectorContext.currencyEffectiveDateState"\r\n\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_CuryEffDate`) & own"\r\n\t\t\t\tlabel-size="sm"></qp-field>\r\n\t\t\t<fieldset class="rate-values">\r\n\t\t\t\t<qp-caption caption="${selectorContext.rateValuesCaption}"></qp-caption>\r\n\t\t\t\t<div class="rate-values-row">\r\n\t\t\t\t\t<div class="rate-values-label">${selectorContext.baseRateState}</div>\r\n\t\t\t\t\t<qp-field\r\n\t\t\t\t\t\tcontrol-id="${selectorContext.config.id}_curyIDReadonly1"\r\n\t\t\t\t\t\tcontrol-state.bind="selectorContext.currentCurrencyReadonly"\r\n\t\t\t\t\t\tlabel-size="zero"\r\n\t\t\t\t\t\tno-label="true"\r\n\t\t\t\t\t\tno-icon="true"\r\n\t\t\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_CuryID-readonly`) & own"\r\n\t\t\t\t\t\tcontrol-size="xs"></qp-field>\r\n\t\t\t\t\t<div class="rate-values-label">=</div>\r\n\t\t\t\t\t<qp-field\r\n\t\t\t\t\t\tcontrol-id="${selectorContext.config.id}_sampleCurrencyRateState"\r\n\t\t\t\t\t\tcontrol-state.bind="selectorContext.sampleCurrencyRateState"\r\n\t\t\t\t\t\tlabel-size="zero"\r\n\t\t\t\t\t\tno-label="true"\r\n\t\t\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_SampleCuryRate`) & own"\r\n\t\t\t\t\t\tcontrol-size="s"></qp-field>\r\n\t\t\t\t\t<qp-field\r\n\t\t\t\t\t\tcontrol-id="${selectorContext.config.id}_baseCurrencyState2"\r\n\t\t\t\t\t\tcontrol-state.bind="selectorContext.baseCurrencyState"\r\n\t\t\t\t\t\tlabel-size="zero"\r\n\t\t\t\t\t\tno-label="true"\r\n\t\t\t\t\t\tno-icon="true"\r\n\t\t\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_BaseCuryID2`) & own"\r\n\t\t\t\t\t\tcontrol-size="xs"></qp-field>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="rate-values-row">\r\n\t\t\t\t\t<div class="rate-values-label">${selectorContext.baseRateState}</div>\r\n\t\t\t\t\t<qp-field\r\n\t\t\t\t\t\tcontrol-id="${selectorContext.config.id}_baseCurrencyState1"\r\n\t\t\t\t\t\tcontrol-state.bind="selectorContext.baseCurrencyState"\r\n\t\t\t\t\t\tlabel-size="zero"\r\n\t\t\t\t\t\tno-label="true"\r\n\t\t\t\t\t\tno-icon="true"\r\n\t\t\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_BaseCuryID1`) & own"\r\n\t\t\t\t\t\tcontrol-size="xs"></qp-field>\r\n\t\t\t\t\t<div class="rate-values-label">=</div>\r\n\t\t\t\t\t<qp-field\r\n\t\t\t\t\t\tcontrol-id="${selectorContext.config.id}_sampleRecieptRateState"\r\n\t\t\t\t\t\tcontrol-state.bind="selectorContext.sampleRecieptRateState"\r\n\t\t\t\t\t\tlabel-size="zero"\r\n\t\t\t\t\t\tno-label="true"\r\n\t\t\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_SampleRecipRate`) & own"\r\n\t\t\t\t\t\tcontrol-size="s"></qp-field>\r\n\t\t\t\t\t<qp-field\r\n\t\t\t\t\t\tcontrol-id="${selectorContext.config.id}_curyIDReadonly2"\r\n\t\t\t\t\t\tcontrol-state.bind="selectorContext.currentCurrencyReadonly"\r\n\t\t\t\t\t\tlabel-size="zero"\r\n\t\t\t\t\t\tno-label="true"\r\n\t\t\t\t\t\tno-icon="true"\r\n\t\t\t\t\t\twg-field.one-way="(`${selectorContext.config.id}_CuryID-readonly`) & own"\r\n\t\t\t\t\t\tcontrol-size="xs"></qp-field>\r\n\t\t\t\t</div>\r\n\t\t\t</fieldset>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="selectorContext.saveButtonConfig">\r\n\t\t\t</qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/formula-editor/qp-formula-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<qp-panel id="formulaEditorPopupTemplate_${config.id}">\r\n\t\t<div class="v-stack">\r\n\t\t\t<div class="formula-editor-popup__list-panel">\r\n\t\t\t\t<div class="formula-editor-popup__tree-container ${treeLoadingStatus == \'loading\' ? \'spinner\' : \'\'}">\r\n\t\t\t\t\t<qp-tree class="formula-editor-popup__tree" show.bind="treeLoadingStatus == \'in-sync\'" value.two-way="treeValue" view-model.ref="tree"\r\n\t\t\t\t\t\tconfig.bind="{\r\n\t\t\t\t\t\t\tid: `${config.id}_pnlARmColHeader_cat`,\r\n\t\t\t\t\t\t\tdynamic: false,\r\n\t\t\t\t\t\t\tdata: treeData,\r\n\t\t\t\t\t\t\tmodifiable: false,\r\n\t\t\t\t\t\t\tmode: \'single\',\r\n\t\t\t\t\t\t\tsingleClickSelect: true,\r\n\t\t\t\t\t\t\tdefaultDrag: \'cut\',\r\n\t\t\t\t\t\t}">\r\n\t\t\t\t\t</qp-tree>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="formula-editor-popup__items-list">\r\n\t\t\t\t\t<div class="formula-editor-popup__items-filter">\r\n\t\t\t\t\t\t<qp-filter-box view-model.ref="nodesFilterBox" id="${config.id}_items-filter" on-filter.call="onFilter(filter)" filter.two-way="filterString"></qp-filter-box>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="formula-editor-popup__items-select-container ${nodeLoadingStatus == \'loading\' ? \'spinner\' : \'\'}">\r\n\t\t\t\t\t\t<div class="formula-editor-popup__items-select" show.bind="nodeLoadingStatus == \'in-sync\'" tabindex="0" ref="nodeSelect"\r\n\t\t\t\t\t\t\tkeydown.delegate="stopPropagation($event, [\'ArrowUp\', \'ArrowDown\', \'Enter\'])"\r\n\t\t\t\t\t\t\tkeyup.delegate="handleSelectKeyup($event)"\r\n\t\t\t\t\t\t\tid="${config.id}_pnlARm_lst"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div repeat.for="node of currentNodesListToShowHighlighted" tabindex="-1"\r\n\t\t\t\t\t\t\t\tmousedown.delegate="preventDblclickSelection($event)"\r\n\t\t\t\t\t\t\t\tclick.delegate="selectLeafNode(node.pureNode)"\r\n\t\t\t\t\t\t\t\tdblclick.delegate="insertNodeToFormula(node.pureNode)"\r\n\t\t\t\t\t\t\t\tdata-value="${node.pureNode}"\r\n\t\t\t\t\t\t\t\tclass="formula-editor-popup__items-select-option\r\n\t\t\t\t\t\t\t\t${selectedLeafNode == node.pureNode ? \'formula-editor-popup__items-select-option--current\' : \'\'}"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span innerhtml.bind="node.highlightedNode"></span>\r\n\t\t\t\t\t\t\t\t<button class="formula-editor-popup__items-select-option-add-button" click.delegate="insertNodeToFormula(node.pureNode)" tabindex="-1">\r\n\t\t\t\t\t\t\t\t\t<qp-icon class="formula-editor-popup__items-select-option-add-icon"\r\n\t\t\t\t\t\t\t\t\t\timagesrc="svg:main@plus">\r\n\t\t\t\t\t\t\t\t\t</qp-icon>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="formula-editor-popup__textarea-container ${textareaFocused ? \'formula-editor-popup__textarea-container--focused\' : \'\'}">\r\n\t\t\t\t<div contenteditable ref="popupInputElement" class="formula-editor-popup__textarea" tabindex="0"\r\n\t\t\t\t\tid="${config.id}_txt"\r\n\t\t\t\t\tinnerhtml.two-way="popupValue"\r\n\t\t\t\t\tkeyup.delegate="checkValidationStatus()"\r\n\t\t\t\t\tpaste.delegate="checkValidationStatus()"\r\n\t\t\t\t\tfocus.trigger="handlePopupTextareaFocus()"\r\n\t\t\t\t\tblur.trigger="handlePopupTextareaBlur()"\r\n\t\t\t\t></div>\r\n\t\t\t</div>\r\n\t\t\t<div class="formula-editor-popup__textarea-hint" innerhtml.bind="msg.Comment" id="${config.id}_textareaHint"></div>\r\n\t\t\t<div if.bind="validationResult" id="${config.id}_lblValidate" class="formula-editor-popup__validation-result\r\n\t\t\t\t${validationResult.valid ? \'formula-editor-popup__validation-result--success\' : \'formula-editor-popup__validation-result--error\'}\r\n\t\t\t\t${validationStatus != \'validation-completed\' ? \'formula-editor-popup__validation-result--outdated\' : \'\'}\r\n\t\t\t">\r\n\t\t\t\t<qp-icon class="formula-editor-popup__validation-result-icon"\r\n\t\t\t\t\timagesrc.bind="validationIcon"\r\n\t\t\t\t></qp-icon>\r\n\t\t\t\t${validationResult.message}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button click.trigger="validate()" config.bind="validateConfig"></qp-button>\r\n\t\t\t<qp-button click.trigger="ok()" config.bind="okConfig" class="major-button"></qp-button>\r\n\t\t\t<qp-button click.trigger="currentDialog.cancel()" config.bind="cancelConfig"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/formula-editor/qp-formula-editor.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template enabled.bind="!!config.enabled & attr" class="${ROMode ? \'ReadOnly\' : \'\'}">\r\n\t<require from="./qp-formula-editor.css"></require>\r\n\r\n\t<div id="${config.id}" tabindex="-1"\r\n\t\tclass="formula-editor-control ${config.class} ${hasFocus ? \'focus\':\'\'} ${ROMode ? \'ReadOnly\' : \'\'} size-${config.size}\r\n\t\t\t${isComboBox ? \'formula-editor-control--combo\' : \'\'}\r\n\t\t\t${dropdownShown ? \'formula-editor-control--dropdown-shown\' : \'\' }"\r\n\t\tref="editorWrap"\r\n\t\tshow.bind="!config.hidden"\r\n\t\tbuttons.bind="ROMode ? \'0\' : \'\' & attr"\r\n\t>\r\n\t\t<div if.bind="!isComboBox" class="formula-editor-control__cont">\r\n\t\t\t<div class="formula-editor-control__wrap">\r\n\t\t\t\t<input\r\n\t\t\t\t\tname="${config.name}$text"\r\n\t\t\t\t\ttype="text"\r\n\t\t\t\t\tid="${config.id}_text"\r\n\t\t\t\t\tref="inputElement"\r\n\t\t\t\t\tvalue.bind="value"\r\n\t\t\t\t\ttabindex="${config.tabIndex}"\r\n\t\t\t\t\tfocus.bind="hasFocus"\r\n\t\t\t\t\tpaste.delegate="onPaste($event)"\r\n\t\t\t\t\tclass="formula-editor-control__display-text ${ROMode ? \'ReadOnly\' : \'\'}\r\n\t\t\t\t\t\t${config.allowEdit ? \'\' : \'formula-editor-control__display-text--invisible\'}"\r\n\t\t\t\t\treadonly.bind="ROMode ? \'readonly\' : null & attr"\r\n\t\t\t\t\tautocomplete="off"\r\n\t\t\t\t>\r\n\t\t\t\t<span class="formula-editor-control__text">\r\n\t\t\t\t\t${value}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<qp-drop-down if.bind="isComboBox" value.two-way="value" config.bind="config"></qp-drop-down>\r\n\t\t<div class="formula-editor-control__buttons-cont">\r\n\t\t\t<div class="sprite-icon control-icon" icon="EditN" type="edit" show.bind="!ROMode" click.delegate="showPopup()">\r\n\t\t\t\t<div class="control-icon-img control-EditN"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<qp-formula-dialog view-model.ref="formulaDialogVM" config.bind="config" if.bind="config"></qp-formula-dialog>\r\n</template>\r\n'},"client-controls/controls/compound/grid/dialogs/columns-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../../../styles.scss"></require>\r\n\t<require from="../../../dialog/base-dialog/base-dialog.css"></require>\r\n\t<require from="./columns-dialog.css"></require>\r\n\t<require from="../elements/qp-filter-box"></require>\r\n\r\n\t<ux-dialog class="dialog columns-dialog" id="${config.id}">\r\n\t\t<ux-dialog-body>\r\n\t\t\t<qp-filter-box ref="elemFilterBox" on-filter.call="processInput(filter)"\r\n\t\t\t\tfilter.two-way="search" highlight-text.bind="false">\r\n\t\t\t</qp-filter-box>\r\n\r\n\t\t\t<div class="cols-list" ref="elemColsList" selectstart.delegate="processSelectStart($event)">\r\n\t\t\t\t<div repeat.for="col of columns" draggable.bind="search ? null : true & attr"\r\n\t\t\t\t\tif.bind="visibleChangeAllowed(col) || col.visible"\r\n\t\t\t\t\tclass="${getDragOverClass(col, dragInfo ? dragInfo.targetIndex : null)}"\r\n\t\t\t\t\tmouseup.delegate="processColClick($event, col)"\r\n\t\t\t\t\tdragstart.delegate="processDragStart($event, col)"\r\n\t\t\t\t\tdragover.delegate="processDragOver($event, col)"\r\n\t\t\t\t\tdrop.delegate="processDrop($event, col)" dragleave.delegate="processDragLeave($event)">\r\n\r\n\t\t\t\t\t<i class="ac drag-icon ac-more_vert"></i>\r\n\t\t\t\t\t<i class="ac ac-check_box${col.tag.visible ? \'\' : \'_outline_blank\'} ${!visibleChangeAllowed(col) ? \'visible-fixed\' : \'\'}"></i>\r\n\r\n\t\t\t\t\t<span class="field-name">${col.caption || col.field || col.key}</span>\r\n\t\t\t\t\t<span if.bind="config.allowSkipTabs && col.tag.visible"\r\n\t\t\t\t\t\tclass="tab-switch ac ac-2x ac-Tab${col.tag.skipTab ? \'Off\' : \'On\'}"\r\n\t\t\t\t\t\tmouseup.delegate="processSkipTabClick($event, col)">\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-body>\r\n\r\n\t\t<ux-dialog-footer>\r\n\t\t\t<qp-button id="${config.id}_reset" click.trigger="controller.ok(\'reset\')" config.bind="resetConfig" style="float:left">${msg.Reset}</qp-button>\r\n\t\t\t<qp-button id="${config.id}_ok" click.trigger="controller.ok(config.columns)" config.bind="okConfig">${msg.Confirm}</qp-button>\r\n\t\t\t<qp-button id="${config.id}_cancel" click.trigger="controller.cancel()" config.bind="cancelConfig">${msg.Cancel}</qp-button>\r\n\t\t</ux-dialog-footer>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/compound/grid/dialogs/columns-list-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n<require from="../../../styles.scss"></require>\r\n<require from="../../../dialog/base-dialog/base-dialog.css"></require>\r\n<require from="./columns-list-dialog.css"></require>\r\n<require from="../elements/qp-filter-box"></require>\r\n\r\n\t<ux-dialog class="dialog columns-list-dialog" id="${config.id}_columns_list">\r\n\t\t<ux-dialog-body>\r\n\t\t\t<div class="header">\r\n\t\t\t\t<span>${msg.GridAddQuickFilter}</span>\r\n\t\t\t\t<a if.bind="config.showAdvancedLink" href="javasript:void 0" click.trigger="controller.ok(true)" tabindex="-1">\r\n\t\t\t\t\t${msg.GridAdvanced}\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t\t<div class="filter-container">\r\n\t\t\t\t<qp-filter-box on-filter.call="processFilter(filter)" ref="elemFilterBox"\r\n\t\t\t\t\tfilter.two-way="search" highlight-text.bind="false">\r\n\t\t\t\t</qp-filter-box>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div if.bind="columns.length" class="cols-list" selectstart.delegate="processSelectStart($event)">\r\n\t\t\t\t<div repeat.for="col of columns" if.bind="col.allowFilter" click.delegate="processColClick($event, col)">\r\n\t\t\t\t\t<span class="field-name">${col.caption || col.field || col.key}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div else class="empty-message">\r\n\t\t\t\t${msg.Format(msg.EmptySearchMessage1, search)}.\r\n\t\t\t</div>\r\n\t\t</ux-dialog-body>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/compound/grid/dialogs/filter-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../../../styles.scss"></require>\r\n\t<require from="../../../dialog/base-dialog/base-dialog.css"></require>\r\n\t<require from="./filter-dialog.css"></require>\r\n\r\n\t<ux-dialog class="dialog filter-dialog" id="${config.id}">\r\n\t\t<ux-dialog-body>\r\n\t\t\t<div class="sorts-and-filters" mousedown.delegate="preventFocus($event)" selectstart.delegate="preventSelection($event)">\r\n\t\t\t\t<div class="items-list" if.bind="config.showSortItems">\r\n\t\t\t\t\t<div click.delegate="processSortClick($event, 1)" data-cmd="SA">\r\n\t\t\t\t\t\t<qp-icon imagesrc="svg:main@sortAsc"></qp-icon>\r\n\t\t\t\t\t\t<i class="ac control-MenuCheck align-right" if.bind="col.sortDirection == 1"></i>\r\n\t\t\t\t\t\t<div class="text">${msg.GridSortAsc}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div click.delegate="processSortClick($event, 2)" data-cmd="SD">\r\n\t\t\t\t\t\t<qp-icon imagesrc="svg:main@sortDesc"></qp-icon>\r\n\t\t\t\t\t\t<i class="ac control-MenuCheck align-right" if.bind="col.sortDirection == 2"></i>\r\n\t\t\t\t\t\t<div class="text">${msg.GridSortDesc}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="separator" if.bind="config.showSortItems"><div>&nbsp;</div></div>\r\n\r\n\t\t\t\t<div class="items-list clear-filter">\r\n\t\t\t\t\t<div if.bind="config.showRemoveItem" click.delegate="processRemoveClick($event)">\r\n\t\t\t\t\t\t<i class="ac ac-delete"></i>\r\n\t\t\t\t\t\t<div class="text">${msg.RemoveFilter}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="clear-filter ${hasFilter ? \'\' : \'disabled\'}"\tclick.delegate="processClearClick($event)" data-cmd="Clear">\r\n\t\t\t\t\t\t<i class="ac ac-close"></i>\r\n\t\t\t\t\t\t<div class="text">${msg.ClearFilter}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="separator"><div>&nbsp;</div></div>\r\n\r\n\t\t\t\t<div class="items-list conditions" if.bind="!hasValueItems">\r\n\t\t\t\t\t<div repeat.for="cond of conditions" click.delegate="processConditionClick($event, cond.value)" data-cmd="${cond.value}">\r\n\t\t\t\t\t\t<i class="ac control-MenuCheck" if.bind="(isBoolean && filter.value == cond.value) || filter.condition == cond.value"></i>\r\n\t\t\t\t\t\t<div class="text">${cond.text}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class="items-list select-all" if.bind="hasValueItems">\r\n\t\t\t\t\t<div click.delegate="processSelectClick()" data-cmd="SelectAll">\r\n\t\t\t\t\t\t<i class="ac ac-${selectionIcon}"></i>\r\n\t\t\t\t\t\t<div class="text">${msg.GridSelectAll}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="separator" if.bind="hasValueItems"><div>&nbsp;</div></div>\r\n\r\n\t\t\t\t<div class="items-list items" if.bind="hasValueItems">\r\n\t\t\t\t\t<div repeat.for="item of items" click.delegate="processItemClick($event, item)">\r\n\t\t\t\t\t\t<i class="ac ac-${item.selected ? \'check_box_filled\' : \'check_box_outline_blank\'}"></i>\r\n\t\t\t\t\t\t<div class="text">${item.text || item.value || \'&nbsp;\'}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="editors" if.bind="!hasValueItems && !isBoolean" ref="elemEditorsCont">\r\n\t\t\t\t<let label-text.bind="isBetween ? msg.GridFrom : msg.GridValue"></let>\r\n\t\t\t\t<qp-mask-editor if.bind="isString && !isSelector" value.two-way="filter.value" config.bind="txtConfig">\r\n\t\t\t\t</qp-mask-editor>\r\n\t\t\t\t<qp-selector if.bind="isSelector" value.two-way="selectorValue" state.bind="selectorState" config.bind="selectorConfig">\r\n\t\t\t\t</qp-selector>\r\n\t\t\t\t<div class="label-cont" if.bind="isNumeric">\r\n\t\t\t\t\t<label for="filter_dialog_num1">${labelText}</label>\r\n\t\t\t\t\t<qp-number-editor value.two-way="filter.value" config.bind="numConfig1">\r\n\t\t\t\t\t</qp-number-editor>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="label-cont second" if.bind="isNumeric && isBetween">\r\n\t\t\t\t\t<label for="filter_dialog_num2">${msg.GridTo}</label>\r\n\t\t\t\t\t<qp-number-editor value.two-way="filter.value2" config.bind="numConfig2">\r\n\t\t\t\t\t</qp-number-editor>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="label-cont" if.bind="isDateTime">\r\n\t\t\t\t\t<label for="filter_dialog_date1">${labelText}</label>\r\n\t\t\t\t\t<qp-datetime-edit value.two-way="filter.value" config.bind="dateConfig1">\r\n\t\t\t\t\t</qp-datetime-edit>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="label-cont second" if.bind="isDateTime && isBetween">\r\n\t\t\t\t\t<label for="filter_dialog_date2">${msg.GridTo}</label>\r\n\t\t\t\t\t<qp-datetime-edit value.two-way="filter.value2" config.bind="dateConfig2">\r\n\t\t\t\t\t</qp-datetime-edit>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-body>\r\n\r\n\t\t<ux-dialog-footer>\r\n\t\t\t<qp-button click.trigger="controller.ok()" config.bind="okConfig" id="${config.id}_ok" class="major-button"></qp-button>\r\n\t\t\t<qp-button click.trigger="controller.cancel()" config.bind="cancelConfig" id="${config.id}_cancel"></qp-button>\r\n\t\t</ux-dialog-footer>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/compound/grid/dialogs/filter-editor-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../qp-filter-editor"></require>\r\n\r\n\t<qp-panel id="${config.id}" caption.bind="msg.GridAdvFilter" width="620px" height="360px">\r\n\t\t<qp-filter-editor filter-rows.bind="filterRows" columns.bind="config.columns" id="${config.id}_body">\r\n\t\t</qp-filter-editor>\r\n\r\n\t\t<footer>\r\n\t\t\t<qp-button click.trigger="currentDialog.ok(filterRows)" config.bind="okConfig" class="major-button"></qp-button>\r\n\t\t\t<qp-button click.trigger="currentDialog.cancel()" config.bind="cancelConfig"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n<template>\r\n'},"client-controls/controls/compound/grid/dialogs/filter-setup-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../../../dialog/base-dialog/base-dialog.css"></require>\r\n\r\n\t<qp-panel id="${config.id}" caption.bind="config.saveAs ? msg.GridSaveFilterAs : msg.GridSaveFilter" width="420px">\r\n\t\t<div class="stack-vert" ref="elemContent">\r\n\t\t\t<div class="label-group">\r\n\t\t\t\t<label for.bind="txtNameConfig.id">${msg.GridName}</label>\r\n\t\t\t\t<qp-text-editor config.bind="txtNameConfig" value.two-way="filter.filterName" input.delegate="processNameInput($event)">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t\t<div class="empty-label-group">\r\n\t\t\t\t<qp-check-box config.bind="chkSharedConfig" value.two-way="filter.isShared">\r\n\t\t\t\t</qp-check-box>\r\n\t\t\t</div>\r\n\t\t\t<div class="empty-label-group">\r\n\t\t\t\t<qp-check-box config.bind="chkDefaultConfig" value.two-way="filter.isDefault">\r\n\t\t\t\t</qp-check-box>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<footer>\r\n\t\t\t<qp-button click.trigger="currentDialog.ok(filter)" config.bind="okConfig" class="major-button"></qp-button>\r\n\t\t\t<qp-button click.trigger="currentDialog.cancel()" config.bind="cancelConfig"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/grid/dialogs/filters-list-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../../../styles.scss"></require>\r\n\t<require from="../../../dialog/base-dialog/base-dialog.css"></require>\r\n\t<require from="./filters-list-dialog.css"></require>\r\n\t<require from="../elements/qp-filter-box"></require>\r\n\r\n\t<ux-dialog class="dialog filters-list-dialog" id="${config.id}">\r\n\t\t<ux-dialog-body>\r\n\t\t\t<div class="filter-container">\r\n\t\t\t\t<qp-filter-box ref="elemFilterBox" on-filter.call="processInput(filter)"\r\n\t\t\t\t\tfilter.two-way="search" highlight-text.bind="false">\r\n\t\t\t\t</qp-filter-box>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div if.bind="filters.length" class="filters-list" ref="elemFiltersList" selectstart.delegate="processSelectStart($event)">\r\n\t\t\t\t<template repeat.for="fh of filters">\r\n\t\t\t\t\t<div class="${fh.filterID == config.filterId ? \'selected\' : \'\'}"\r\n\t\t\t\t\t\tallrecords.bind="isClientFilter(fh.filterID) ? true : null & attr"\r\n\t\t\t\t\t\tmouseup.delegate="processFilterClick($event, fh)">\r\n\r\n\t\t\t\t\t\t<i class="ac fav-icon ${fh.isFavorite ? \'ac-star fav-on\' : \'ac-star_border\'}"\r\n\t\t\t\t\t\t\tmouseup.delegate="processFavoriteClick($event, fh)">\r\n\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t<span class="filter-name">${fh.filterName || fh.filterID}</span>\r\n\t\t\t\t\t\t<qp-icon if.bind="fh.isShared" class="shared-icon" imagesrc="svg:main@multiEmployee">\r\n\t\t\t\t\t\t</qp-icon>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="separator" if.bind="$index == 0 && filters.length > 1"><div>&nbsp;</div></div>\r\n\t\t\t\t</template>\r\n\t\t\t</div>\r\n\t\t\t<div else class="empty-message">\r\n\t\t\t\t${msg.Format(msg.EmptySearchMessage1, search)}.\r\n\t\t\t</div>\r\n\t\t</ux-dialog-body>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/compound/grid/dialogs/import-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./import-dialog.css"></require>\r\n\t<require from="../../../container/fieldset/inline-view"></require>\r\n\t<qp-wizard id="import-wizard_${activeTabId}" config.bind="wizardConfig" active-tab-id.two-way="activeTabId"\r\n\t\tnexttab.trigger="nextTab($event)" prevtab.trigger="prevTab($event)">\r\n\t\t<qp-tab id="${UPLOAD_TAB}" caption="${Messages.FileUploadCaption}">\r\n\t\t\t<div class="stretch" if.bind="activeTabId === UPLOAD_TAB">\r\n\t\t\t\t<div class="error-message" if.bind="!!errorMessage">\r\n\t\t\t\t\t<qp-icon class="qp-status-icon" imagesrc="svg:main@errorExclamation"></qp-icon>\r\n\t\t\t\t\t<span>${errorMessage}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<qp-multi-upload config.bind="uploaderConfig" fileloaded.trigger="afterUploaded($event)">\r\n\t\t\t\t\t<div if.bind="!!fileUploaded" class="file-label">\r\n\t\t\t\t\t\t<div class="file-label-text">${fileUploaded}</div>\r\n\t\t\t\t\t\t<qp-icon class="qp-dialog-close" imagesrc="svg:main@close"\r\n\t\t\t\t\t\t\tclick.delegate="clearUploaded()"></qp-icon>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div else>${Messages.UploadFileCaption} (${uploaderFiles})</div>\r\n\t\t\t\t</qp-multi-upload>\r\n\t\t\t</div>\r\n\t\t</qp-tab>\r\n\t\t<qp-tab id="${SETTINGS_TAB}" caption="${Messages.CommonSettingsCaption}">\r\n\t\t\t<div class="stretch" if.bind="activeTabId === SETTINGS_TAB">\r\n\t\t\t\t<inline-view template.bind="settingsTemplate" context.bind="screenModel"></inline-view>\r\n\t\t\t</div>\r\n\t\t</qp-tab>\r\n\t\t<qp-tab id="${COLUMNS_TAB}" caption="${Messages.ColumnsCaption}">\r\n\t\t\t<div class="v-stack" if.bind="activeTabId === COLUMNS_TAB">\r\n\t\t\t\t<qp-label-light caption.bind="ImportMessages.MapPropertiesToColumns"></qp-label-light>\r\n\t\t\t\t<inline-view template.bind="columnsTemplate" context.bind="screenModel"></inline-view>\r\n\t\t\t</div>\r\n\t\t</qp-tab>\r\n\t</qp-wizard>\r\n</template>\r\n'},"client-controls/controls/compound/grid/elements/qp-filter-box.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template id="${id}" class="filter-box ${editMode ? \'focus\' : \'\'} ${hasText ? \'has-filter\' : \'\'}">\r\n\t<require from="./qp-filter-box.css"></require>\r\n\t<div>\r\n\t\t<input type="text" class="text" placeholder="${Msg.Search}" value.bind="filter" ref="elemText"\r\n\t\t\tfocus.trigger="processFocus($event)" blur.trigger="processBlur($event)"\r\n\t\t\tkeydown.delegate="processKeyDown($event)"\r\n\t\t\tinput.delegate="applyFastFilter($event.target.value) & debounce:500"\r\n\t\t\tid="${id}_text"/>\r\n\t\t<qp-icon imagesrc="svg:main@search"></qp-icon>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/grid/elements/qp-filter-button.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="filter-button ${hasFilter ? \'filtered\' : \'\'}" click.delegate="processClick($event)" data-cmd="${config.column.field}"\r\n\tmouseenter.trigger="processMouseEnter($event)" mouseleave.trigger="processMouseLeave($event)">\r\n\t<require from="../../../styles.scss"></require>\r\n\t<require from="./qp-filter-button.css"></require>\r\n\r\n\t<div class="content" css="visibilty: ${showExpanded ? \'hidden\' : \'\'}">\r\n\t\t<span class="text" ref="elemText">\r\n\t\t\t${config.column.caption || config.filter.field}${isComparisonOperator ? \'\' : \':\'} ${config.filter.text}\r\n\t\t</span>\r\n\t\t<i class="ac ac-close" click.delegate="processRemoveClick($event)"></i>\r\n\t</div>\r\n\t<div class="extended-button" if.bind="showExpanded">\r\n\t\t<div class="content">\r\n\t\t\t<span class="text">\r\n\t\t\t\t${config.column.caption || config.filter.field}${isComparisonOperator ? \'\' : \':\'} ${config.filter.text}\r\n\t\t\t</span>\r\n\t\t\t<i class="ac ac-close" click.delegate="processRemoveClick($event)"></i>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/grid/elements/qp-filter-combo.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template id="${id}" class="filter-combo ${isClientFilter(filterId) ? \'\': \'filtered\'}" click.delegate="processClick($event)">\r\n\t<require from="../../../styles.scss"></require>\r\n\t<require from="./qp-filter-combo.css"></require>\r\n\r\n\t<span class="text">${activeFilter.filterName || activeFilter.filterID}</span>\r\n\t<i class="ac ac-keyboard_arrow_down"></i>\r\n</template>\r\n'},"client-controls/controls/compound/grid/elements/qp-filter-node.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="filter-node">\r\n\t<require from="./qp-filter-node.css"></require>\r\n\t<require from="./qp-filter-button"></require>\r\n\r\n\t<template repeat.for="item of node.items">\r\n\t\t<div if.bind="isFilterNode(item)" class="node-container"\r\n\t\t\tmouseenter.trigger="processMouseEnter($event, item)" mouseleave.trigger="processMouseLeave($event, item)">\r\n\t\t\t<div class="btn-brackets" show.bind="!$last && node.items.length > 2" click.delegate="processBracketsNodeClick(item)">\r\n\t\t\t\t<i class="ac ac-keyboard_arrow_right"></i>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="left-actions">\r\n\t\t\t\t<div class="btn-delete-brackets" click.delegate="processDeleteBracketsClick(item)">\r\n\t\t\t\t\t<i class="ac ac-keyboard_arrow_left"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="btn-condition" show.bind="!$last" click.delegate="processConditionNodeClick(item)">\r\n\t\t\t\t\t<span class="text ${item.orOperator ? \'or\' : \'\'}">${item.orOperator ? \'OR\' : \'AND\'}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="left-bracket">&nbsp;</div>\r\n\t\t\t<qp-filter-node node.bind="item" columns.bind="columns" id.bind="id" on-hierarchy-changed.call="processHierarchyChanged()"\r\n\t\t\t\ton-filter-row-delete.call="processConditionDelete(filter)"\r\n\t\t\t\ton-filter-node-delete.call="processNodeDelete(node)"\r\n\t\t\t\ton-filter-row-insert.call="processFilterRowInsert(filter, col, closeBrackets)"\r\n\t\t\t\ton-node-mouse-move.call="processNodeMouseMove(elem, mouseLeave)">\r\n\t\t\t</qp-filter-node>\r\n\t\t\t<div class="right-bracket">&nbsp;</div>\r\n\r\n\t\t\t<div class="right-actions">\r\n\t\t\t\t<div class="btn-delete" click.delegate="processDeleteNodeClick(item)">\r\n\t\t\t\t\t<i class="ac ac-delete"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="btn-new" click.delegate="processNewItemNodeClick($event, item)">\r\n\t\t\t\t\t<i class="ac ac-add"></i>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div else class="button-container">\r\n\t\t\t<let col.bind="getColumn(item.field)"></let>\r\n\t\t\t<div class="btn-brackets" show.bind="!$last && node.items.length > 2" click.delegate="processBracketsClick(item)">\r\n\t\t\t\t<i class="ac ac-keyboard_arrow_right"></i>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="btn-condition" show.bind="!$last" click.delegate="processConditionClick(item)">\r\n\t\t\t\t<span class="text ${item.orOperator ? \'or\' : \'\'}">${item.orOperator ? \'OR\' : \'AND\'}</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<qp-filter-button config.bind="{id: id, filter: item, column: col, showRemoveItem: true, showSortItems: false}"\r\n\t\t\t\ton-filter.call="processFilterRowApplied(col, filter, item)"\r\n\t\t\t\ton-filter-remove.call="processFilterRowDeleted(col, item)" class="large">\r\n\t\t\t</qp-filter-button>\r\n\r\n\t\t\t<div class="btn-new" click.delegate="processNewItemClick($event, item)">\r\n\t\t\t\t<i class="ac ac-add"></i>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</template>\r\n</template>\r\n'},"client-controls/controls/compound/grid/elements/qp-numeric-pager.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="numeric-pager">\r\n\t<require from="./qp-numeric-pager.css"></require>\r\n\r\n\t<qp-number-editor class="page-editor" fixed-width fixed-height value.two-way="value" config.bind="numConfig">\r\n\t</qp-number-editor>\r\n\r\n\t<label for.bind="id">${Msg.Format(Msg.GridPagesCount, pagesCount.toString())}</label>\r\n</template>\r\n'},"client-controls/controls/compound/grid/qp-filter-bar.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="filter-bar">\r\n\t<require from="./qp-filter-bar.css"></require>\r\n\t<require from="./elements/qp-filter-box"></require>\r\n\t<require from="./elements/qp-filter-button"></require>\r\n\t<require from="./elements/qp-filter-combo"></require>\r\n\t<require from="./dialogs/filter-setup-dialog"></require>\r\n\t<require from="./dialogs/filter-editor-dialog"></require>\r\n\r\n\t<qp-filter-setup-dialog view-model.ref="filterSetupVM"></qp-filter-setup-dialog>\r\n\t<qp-filter-editor-dialog view-model.ref="filterEditorVM"></qp-filter-editor-dialog>\r\n\r\n\t<div class="filters-headers" if.bind="!config.hideHeaders">\r\n\t\t<div class="headers-wrap">\r\n\t\t\t<ul>\r\n\t\t\t\t<li repeat.for="f of filters" class="${filterId == f.filterID ? \'selected\' : \'\'}"\r\n\t\t\t\t\tclick.delegate="processFilterHeaderClick($event, f)">\r\n\t\t\t\t\t${f.filterName}\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div class="filter-box-wrap">\r\n\t\t\t<qp-filter-box if.bind="config.showFastFilter" filter.bind="fastFilter2"  view-model.ref="fastFilterVM"\r\n\t\t\t\ton-filter.call="processFastFilter(filter)" on-key-down.call="processFastFilterKeyDown(ev)">\r\n\t\t\t</qp-filter-box>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="filters-strip-cont">\r\n\t\t<div class="filters-strip" css="flex-wrap: ${!filterText ? \'wrap\' : \'nowrap\'}" ref="elemFiltersWrap"\r\n\t\t\tdragleave.delegate="processDragLeave($event)"\r\n\t\t\tdrop.delegate="processDrop($event)" dragover.delegate="processDragOverBar($event)">\r\n\r\n\t\t\t<qp-filter-combo id="${config.id}_fc"\r\n\t\t\t\tfilter-id.two-way="filterId" filters.bind="filters" if.bind="config.allowStoredFilters"\r\n\t\t\t\ton-favorite-changed.call="processFilterFavoriteChanged(filterID, isFavorite)" on-filters-order-changed.call="onFiltersOrderChanged()">\r\n\t\t\t</qp-filter-combo>\r\n\r\n\t\t\t<qp-filter-button if.bind="!filterText" repeat.for="fr of filterRows"\r\n\t\t\t\tconfig.bind="{filter: fr, id: config.id, column: getColumn(fr.field), showRemoveItem: true}"\r\n\t\t\t\ton-filter.call="onFilterRowApplied(col, filter)" on-sort.call="onSortApplied(col, sort)"\r\n\t\t\t\ton-filter-remove.call="onFilterRowDeleted(col)"\r\n\t\t\t\tdraggable="true" dragstart.delegate="processDragStart($event, fr)"\r\n\t\t\t\tdragover.delegate="processDragOver($event, fr)">\r\n\t\t\t</qp-filter-button>\r\n\t\t\t<qp-button if.bind="!filterText && filterRows != null" ref="elemAddFilterBtn" class="add-filter"\r\n\t\t\t\tconfig.bind="btnAddFilterConfig" click.delegate="processAddFilterClick($event)">\r\n\t\t\t</qp-button>\r\n\t\t\t\x3c!-- <div class="filter-drop-tip">\r\n\t\t\t\t${msg.GridDropColumnTip}\r\n\t\t\t</div> --\x3e\r\n\r\n\t\t\t<div if.bind="filterText" class="advanced-filter">\r\n\t\t\t\t<div class="filter-button filtered" click.delegate="showAdvancedFilter()">\r\n\t\t\t\t\t<div class="content">\r\n\t\t\t\t\t\t<span class="text" innerhtml.bind="filterText | removeSCRIPT"></span>\r\n\t\t\t\t\t\t<i class="ac ac-keyboard_arrow_down"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<qp-button config.bind="btnSaveConfig"\r\n\t\t\t\tif.bind="config.allowStoredFilters" click.delegate="processSaveFilter($event)">\r\n\t\t\t</qp-button>\r\n\r\n\t\t\t<qp-menu config.bind="btnFilterSaveConfig" class="save-menu"\r\n\t\t\t\tif.bind="config.allowStoredFilters" menuselected.delegate="processFilterMenu($event)">\r\n\t\t\t</qp-menu>\r\n\r\n\t\t\t<i class="ac control-RedArrowDown arrow-down" ref="elemArrowDown" show.bind="showDragArrows"></i>\r\n\t\t\t<i class="ac control-RedArrowUp arrow-up" ref="elemArrowUp" show.bind="showDragArrows"></i>\r\n\t\t</div>\r\n\t\t<div class="filter-box-wrap" if.bind="config.showFastFilter">\r\n\t\t\t<qp-filter-box id="${config.id}_fb" filter.bind="fastFilter" view-model.ref="fastFilterVM"\r\n\t\t\t\ton-filter.call="processFastFilter(filter)" on-key-down.call="processFastFilterKeyDown(ev)">\r\n\t\t\t</qp-filter-box>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/grid/qp-filter-editor.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="filter-editor" id="${id}">\r\n\t<require from="./qp-filter-editor.css"></require>\r\n\t<require from="./elements/qp-filter-node"></require>\r\n\t<qp-filter-node if.bind="filterRows.length" id.bind="id" node.bind="rootNode" columns.bind="columns"\r\n\t\ton-hierarchy-changed.call="processHierarchyChanged()"\r\n\t\ton-filter-row-delete.call="processFilterRowDelete(filter)"\r\n\t\ton-filter-node-delete.call="processFilterNodeDelete(node)"\r\n\t\ton-filter-row-insert.call="processFilterRowInsert(filter, col, closeBrackets)"\r\n\t\ton-node-mouse-move.call="processNodeMouseMove(elem, mouseLeave)">\r\n\t</qp-filter-node>\r\n\t<div class="btn-new" else click.delegate="processNewItemClick($event)">\r\n\t\t<i class="ac ac-add"></i>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/grid/qp-grid.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template id="${config.id}" css="display: ${config.hidden ? \'none\': \'\'};"\r\n\tclass="grid ${config.autoGrowInHeight ? (config.autoGrowInHeight == 2 ? \'auto-grow-fill\' : \'auto-grow-fit\') : \'\'}">\r\n<require from="./qp-grid.css"></require>\r\n<require from="./qp-filter-bar"></require>\r\n<require from="./elements/qp-filter-box"></require>\r\n<require from="./elements/qp-numeric-pager"></require>\r\n<require from="../system-menu/qp-files-dialog"></require>\r\n<qp-files-dialog if.bind="!config.suppressNoteFiles && hasFilesColumn" view-model.ref="filesDialogVM" config.bind="filesDialogConfig"></qp-files-dialog>\r\n<qp-note-dialog if.bind="!config.suppressNoteFiles" view-model.ref="noteDialogVM" config.bind="noteDialogConfig" view.bind="noteDialogView">\r\n</qp-note-dialog>\r\n\r\n<qp-caption if.bind="gridCaption" class="grid-caption" caption.bind="gridCaption"></qp-caption>\r\n\r\n<div class="grid-top-bar">\r\n\t<div if.bind="config.showTopBar" class="grid-top-toolbar ${!!rightToolbarContainer ? \'empty\' : \'\'}">\r\n\t\t<div class="grid-left-toolbar-cont" ref="topBarCont" if.bind="!rightToolbarContainer">\r\n\t\t\t<qp-tool-bar config.bind="topBarConfig">\r\n\t\t\t</qp-tool-bar>\r\n\t\t</div>\r\n\t\t<div class="grid-right-toolbar-cont" portal="target.bind: rightToolbarContainer || topBarCont; position: afterend">\r\n\t\t\t<qp-button if.bind="isFilterBarAllowed && config.showFilterBar == 2" class="grid-filter-button ${hasFilter ? \'has-filter\' : \'\'}"\r\n\t\t\t\tconfig.bind="btnToggleFilterConfig" view-model.ref="btnToggleFilterVM" click.delegate="processToggleFilterClick($event)"\r\n\t\t\t\tmousedown.trigger="processToggleFilterMouseDown($event)">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-filter-box if.bind="allowFastFilter && (config.showFastFilter == 1 || (!isFilterBarAllowed && config.showFastFilter == 2))"\r\n\t\t\t\tid="${config.id}_fb" filter.bind="fastFilter" view-model.ref="topBarFastFilter"\r\n\t\t\t\ton-filter.call="onFastFilter(filter)" on-key-down.call="onFastFilterKeyDown(ev)">\r\n\t\t\t</qp-filter-box>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<qp-filter-bar if.bind="isFilterBarAllowed && showFilterBar"  view-model.ref="filterBarVM"\r\n\t\tdrag-column.bind="dragInfo.column" fast-filter.bind="fastFilter" filter-id.two-way="filterID" filters.bind="filters"\r\n\t\tfilter-rows.bind="filterRows" is-dirty-filter.two-way="isDirtyFilter" config.bind="filterBarConfig"\r\n\t\ton-sort-changed.call="onSortApplied(col, sort)"\r\n\t\ton-filter-changed.call="onFilterApplied(filter, filterID)"\r\n\t\ton-filter-save.call="onFilterSave(filter, createNew)"\r\n\t\ton-filter-remove.call="onFilterRemove(filterID)"\r\n\t\ton-filters-order-changed.call="onFilterOrderChanged()"\r\n\t\ton-filter-favorite-changed.call="onFilterFavoriteChanged(filterID, isFavorite)"\r\n\t\ton-filter-row-changed.call="onFilterRowApplied(col, filter)"\r\n\t\ton-filter-row-removed.call="onFilterRowRemoved(col)"\r\n\t\ton-rows-set-changed.call="onFilterRowsSetChanged(refresh)"\r\n\t\ton-fast-filter-key-down.call="onFastFilterKeyDown(ev)">\r\n\t</qp-filter-bar>\r\n</div>\r\n\r\n<div class="grid-resize-area" show.bind="resizeInfo != undefined"\r\n\tmousemove.delegate="processResizerMouseMove($event)" mouseup.delegate="processResizerMouseUp($event)"\r\n\tmouseleave.trigger="processResizerMouseLeave($event)">\r\n\t<div class="grid-resize-indicator" ref="elemResizeIndicator">\r\n\t</div>\r\n</div>\r\n\r\n <div class="grid-header ${hasVScroll ? \'scroll-margin\' : \'\'}" ref="elemHeader">\r\n\t<div class="grid-header-wrap" ref="elemHeaderWrap">\r\n\t\t<table ref="elemHeaderTable" if.bind="layoutLoaded" class="grid-header-table ${!config.markRequired ? \'remove-required\': \'\'}">\r\n\t\t\t<colgroup>\r\n\t\t\t\t<col if.bind="config.showRowSelectors" class="row-selector-col">\r\n\t\t\t\t<col repeat.for="col of visibleCols" css="width: ${col.width ? (col.width + \'px\'): null};">\r\n\t\t\t</colgroup>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th if.bind="config.showRowSelectors" class="row-selector" click.delegate="processHeaderCornerClick($event)">\r\n\t\t\t\t\t\t\x3c!-- <i class="ac control-LocalMenu"></i> --\x3e\r\n\t\t\t\t\t\t<qp-icon imagesrc="svg:main@setting"></qp-icon>\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th repeat.for="col of visibleCols" css="text-align:${getColAlign(col.textAlign)}"\r\n\t\t\t\t\t\tclass="col-header ${col.textAlign == 3 ? \'align-right\' : \'\'} ${col.filter ? \'filtered\' : \'\'} ${col.required ? \'required\' : \'\'}"\r\n\t\t\t\t\t\ttitle.bind="col.toolTip & attr" key.bind="getColumnKey(col) & attr"\r\n\t\t\t\t\t\tmouseup.delegate="processHeadClick($event, col)"\r\n\t\t\t\t\t\tmouseover.delegate="processHeadMouseOver($event, col)"\r\n\t\t\t\t\t\tmousemove.delegate="processHeadMouseMove($event, col)"\r\n\t\t\t\t\t\tmouseout.delegate="processHeadMouseOut($event, col)"\r\n\t\t\t\t\t\tdraggable="true" dragstart.delegate="processDragStart($event, col)"\r\n\t\t\t\t\t\tdragover.delegate="processDragOver($event, col)"\r\n\t\t\t\t\t\tdrop.delegate="processDrop($event, col)" dragleave.delegate="processDragLeave($event)">\r\n\r\n\t\t\t\t\t\t<div if.bind="!col.allowCheckAll && col.caption" class="grid-header-text">${col.caption}</div>\r\n\r\n\t\t\t\t\t\t<qp-icon if.bind="col.captionImage" imagesrc.bind="col.captionImage"></qp-icon>\r\n\r\n\t\t\t\t\t\t<i if.bind="col.sortDirection > 0 || col.filter || (col == columnToFilter && !col.allowCheckAll && col.allowFilter)" fs-icon\r\n\t\t\t\t\t\t\tclass="ac ${col == columnToFilter ? \'control-ArrowDown\' : getColHeaderIcon(col.sortDirection, col.filter)}">\r\n\t\t\t\t\t\t</i>\r\n\r\n\t\t\t\t\t\t<i if.bind="col.allowCheckAll" ch-icon class="ac control-Grid${col.checked ? \'Check\' : \'Uncheck\'}"\r\n\t\t\t\t\t\t\tmouseup.delegate="processCheckAllClick($event, col)">\r\n\t\t\t\t\t\t</i>\r\n\t\t\t\t\t</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t</table>\r\n\r\n\t\t<div class="grid-resize-handle" ref="elemResizeHandle" mousedown.delegate="processResizerMouseDown($event)">\r\n\t\t\t&nbsp;\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<i class="ac control-RedArrowDown arrow-down" ref="elemArrowDown" show.bind="showDragArrows"></i>\r\n\t<i class="ac control-RedArrowUp arrow-up" ref="elemArrowUp" show.bind="showDragArrows"></i>\r\n</div>\r\n\r\n<div class="grid-content">\r\n\t<qp-loader-indicator\tshow.bind="loadingStatus != \'in-sync\'" loading-state.bind="loadingStatus"\r\n\t\tstyle="position: absolute;bottom:0;left:0;right:0;height:5px;">\r\n\t</qp-loader-indicator>\r\n\t<qp-tooltip rule.bind="\'*[data-tooltip]\'"></qp-tooltip>\r\n\r\n\t<div class="grid-content-wrap" scroll.trigger="processRowsScroll($event)" ref="elemContentWrap"\r\n\t\ttabindex="${config.tabIndex}" keydown.delegate="processKeyDown($event)" focus.trigger="processFocus($event)"\r\n\t\tselectstart.delegate="processSelectStart($event)" dblclick.delegate="processContentWrapDblClick($event)">\r\n\r\n\t\t<table ref="elemRows" if.bind="rows != null" class="grid-content-table"\r\n\t\t\tcss="visibility: ${!rows || rows.length == 0 ? \'hidden\' : \'\'}; display: ${rowsHidden ? \'none\' : \'\'}">\r\n\t\t\t<colgroup>\r\n\t\t\t\t<col if.bind="config.showRowSelectors" class="row-selector-col">\r\n\t\t\t\t<col repeat.for="col of visibleCols" css="width: ${col.width ? (col.width + \'px\'): null};">\r\n\t\t\t</colgroup>\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr virtual-repeat.for="r of rows" data-index="${$index}" matcher.bind="matchRows" infinite-scroll-next="getMoreRows"\r\n\t\t\t\t\tclass="${$odd ? \'alt-row\' : \'\'} ${getRowCss($index, r.styleChanged)}" css="visibility: ${r.fake ? \'hidden\' : \'\'}">\r\n\r\n\t\t\t\t\t<td if.bind="config.showRowSelectors" class="row-selector"\r\n\t\t\t\t\t\tclick.delegate="processRowSelectorClick($event, r)"\r\n\t\t\t\t\t\tdata-tooltip.bind="r.error" data-error-level.bind="r.errorLevel">\r\n\r\n\t\t\t\t\t\t<span class="cell-error-info" if.bind="!!getRowErrorLevel(r.error, r.errorLevel, true)"\r\n\t\t\t\t\t\t\tdata-tooltip.bind="getRowErrorText(r.error, r.errorLevel, true)"\r\n\t\t\t\t\t\t\tdata-error-level.bind="getRowErrorLevel(r.error, r.errorLevel, true)">\r\n\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t<i class="ac control-${getRowSelectorImage(editMode, $index, r.status, r.error, r.errorLevel)}"\r\n\t\t\t\t\t\t\tif.bind="r.isActive || (!!r.status && !isMassUpdating) || !!getRowErrorLevel(r.error, r.errorLevel)"></i>\r\n\t\t\t\t\t\t<template else>&nbsp;</template>\r\n\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t<td repeat.for="col of visibleCols"\r\n\t\t\t\t\t\tid.bind="($parent.r.isActive ? config.id+\'_\'+getColumnKey(col)+\'_cell\' : undefined) & attr"\r\n\t\t\t\t\t\tclass="${getCellCss($parent.$index, $index, $parent.r.styleChanged)}"\r\n\t\t\t\t\t\tcss="text-align:${getColAlign(col.textAlign)}"\r\n\t\t\t\t\t\tclick.delegate="processCellClick($event, $index, $parent.r)"\r\n\t\t\t\t\t\tdblclick.delegate="processCellDblClick($event, $index, $parent.r)">\r\n\r\n\t\t\t\t\t\t<let cell.bind="$parent.r.cells[getColumnKey(col)]"></let>\r\n\t\t\t\t\t\t<template if.bind="editMode && $parent.r.isActive && activeCellIndex == $index">\r\n\t\t\t\t\t\t\t<qp-inline-field view-model.ref="inlineEditorVM"\r\n\t\t\t\t\t\t\t\tcontrol-state.bind="setActiveCellState(cell, col, updateEditorState)"\r\n\t\t\t\t\t\t\t\tcontrol-type.bind="col.editorType" control-config.bind="col.editorConfig"\r\n\t\t\t\t\t\t\t\tclass="inline-editor" update-value.bind="updateEditorValue" control-id="${config.id}_${col.field}_editor"\r\n\t\t\t\t\t\t\t\tkeydown.delegate="processEditKeyDown($event)"\r\n\t\t\t\t\t\t\t\tvalue-selected.delegate="processDropDownSelected($event)"\r\n\t\t\t\t\t\t\t\ton-value-updated.call="commitActiveCellChanges(true)">\r\n\t\t\t\t\t\t\t</qp-inline-field>\r\n\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t<span class="cell-content" data-tooltip.bind="cell.error" data-error-level.bind="cell.errorLevel">\r\n\t\t\t\t\t\t\t<i if.bind="!!cell.errorLevel" err-icon align-left.bind="col.textAlign == 3 ? \'\' : null & attr"\r\n\t\t\t\t\t\t\t\tclass="ac control-${getErrorImage(cell.error, cell.errorLevel)} ${col.textAlign == 3 ? \'align-left\' : \'\'}">\r\n\t\t\t\t\t\t\t</i>\r\n\r\n\t\t\t\t\t\t\t<let cell-type.bind="getCellRenderType(col, cell, cell.value)"></let>\r\n\r\n\t\t\t\t\t\t\t<template if.bind="cellType == \'check-box\'">\r\n\t\t\t\t\t\t\t\t<i class="ac control-Grid${cell.value ? \'Check\' : \'Uncheck\'}"></i>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<template if.bind="cellType == \'icon\'">\r\n\t\t\t\t\t\t\t\t<a if.bind="hasViewLink(col)" href="javascript:void 0" tabindex="-1">\r\n\t\t\t\t\t\t\t\t\t<qp-icon imagesrc.bind="cell.cellText || (col.valueItems ? getColumnDisplayText(col, cell.value) : \'\')">\r\n\t\t\t\t\t\t\t\t\t</qp-icon>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<qp-icon else imagesrc.bind="cell.cellText || (col.valueItems ? getColumnDisplayText(col, cell.value) : \'\')">\r\n\t\t\t\t\t\t\t\t</qp-icon>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<template if.bind="cellType == \'link\'">\r\n\t\t\t\t\t\t\t\t<a href.bind="cell.href || \'javascript:void 0\'" target.bind="cell.hrefTarget & attr" tabindex="-1">\r\n\t\t\t\t\t\t\t\t\t<template if.bind="cell.hrefText || cell.href">\r\n\t\t\t\t\t\t\t\t\t\t${cell.hrefText || cell.href}\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t\t\t\t\t<template if.bind="!fastFilter">${cell.cellText || getRawCellValue(cell.value)}</template>\r\n\t\t\t\t\t\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t\t\t\t\t\t<template repeat.for="s of markFilterText(col, cell.cellText || getRawCellValue(cell.value))"><mark if.bind="s.highlight">${s.text}</mark><template else>${s.text}</template></template>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t\t\t<template if.bind="cellType == \'text\'">\r\n\t\t\t\t\t\t\t\t<template if.bind="!!cell.cellText">\r\n\t\t\t\t\t\t\t\t\t<span class="text">\r\n\t\t\t\t\t\t\t\t\t\t<template if.bind="!fastFilter">${cell.cellText}</template>\r\n\t\t\t\t\t\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t\t\t\t\t\t<template repeat.for="s of markFilterText(col, cell.cellText)"><mark if.bind="s.highlight">${s.text}</mark><template else>${s.text}</template></template>\r\n\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n</div>\r\n\r\n<div show.bind="config.showBottomBar && showBottomBar" class="grid-pager">\r\n\t<div if.bind="showRecordsCounter" class="records-counter">\r\n\t\t<let startRow.bind="(pageIndex * config.pageSize) + 1"></let>\r\n\t\t<label>\r\n\t\t\t${Msg.Format(Msg.GridRecordsCount, startRowIndex.toString(), endRowIndex.toString(), totalRowCount.toString())}\r\n\t\t</label>\r\n\t</div>\r\n\t<div if.bind="statusText" class="status-text">\r\n\t\t<label>${statusText}</label>\r\n\t</div>\r\n\r\n\t<div class="pager-bars-cont" show.bind="showPager">\r\n\t\t<qp-tool-bar config.bind="pagerBarConfigL" buttonpressed.delegate="processPagerButtonClick($event)">\r\n\t\t</qp-tool-bar>\r\n\t\t<qp-numeric-pager if.bind="config.pagerMode == 2 && hasRows" id="${config.id}_ab_edPi" pages-count.bind="pagesCount"\r\n\t\t\tpage-index.bind="pageIndex" on-page-index-changed.call="setPage(index)">\r\n\t\t</qp-numeric-pager>\r\n\t\t<qp-tool-bar config.bind="pagerBarConfigR" buttonpressed.delegate="processPagerButtonClick($event)">\r\n\t\t</qp-tool-bar>\r\n\t</div>\r\n</div>\r\n</template>\r\n'},"client-controls/controls/compound/inline-screen-dialog/qp-inline-screen-dialog-component.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-inline-screen-dialog-component.css"></require>\r\n\t<div class="inline-screen-dialog">\r\n\t\t<qp-inline-screen config.bind="config"></qp-inline-screen>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/inline-screen/inner-screen-toolbar-data-component.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<div class="top-bar-cont" if.bind="!inlineScreenConfig.hideToolbar">\r\n\t\t<span id="innerToolBarPrefix" class="qp-tool-bar-prefix"></span>\r\n\t\t<qp-tool-bar ref="toolBarElem" view-model.ref="toolBarVM" config.bind="toolbar"></qp-tool-bar>\r\n\t\t<span id="innerToolBarSuffix" class="qp-tool-bar-suffix"></span>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/inline-screen/qp-inline-screen.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-inline-screen.css"></require>\r\n\t<div class="inline-screen">\r\n\t\t<template if.bind="config.uiType === \'E\'">\r\n\t\t\t<iframe class="inline-screen__iframe" frameborder="0" ref="iframeElement" src.bind="legacyScreenPath"></iframe>\r\n\t\t</template>\r\n\t\t<template if.bind="config.uiType === \'T\'">\r\n\r\n\t\t\t<compose view-model.bind="screenPath" model.bind="container.root.viewModel" view-model.ref="screenRef"\r\n\t\t\t\tref="contentElement"></compose>\r\n\t\t</template>\r\n\t\t<div class="splash initialization" if.bind="!initialized">\r\n\t\t\t<div class="message">Screen is loading...</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/menu/qp-menu.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-menu.scss"></require>\r\n\r\n\t<div id="${config.id}_menu" ref="menuElement"\r\n\tclass="qp-menu ${menuOpened ? \'qp-selected\': \'\'}\r\n\t${(!showOpener) ? \'qp-menu-no-options\' : \'\'}"\r\n\tmousedown.trigger=toggleMenu($event)>\r\n\t\t<button class="qp-menu-button\r\n\t\t${config.commandName ? \'qp-menu-action-button\' : \'\'}\r\n\t\t${(config.enabled == false || config.disabled) && config.commandName ? \'disabled\' : \'\'}"\r\n\t\tmousedown.trigger=processButtonMousedown($event)\r\n\t\tclick.capture="processButtonClick($event)">\r\n\t\t\t<qp-hyper-icon if.bind="config.images.normal" images.bind="config.images"></qp-hyper-icon>\r\n\t\t\t<div else>${config.text}</div>\r\n\t\t</button>\r\n\t\t<button if.bind="config.options && config.options.length" class="qp-menu-opener\r\n\t\t${config.commandName ? \'qp-menu-action-opener\': \'\'}"\r\n\t\tclick.capture="stopPropagation($event)">\r\n\t\t\t<qp-icon imagesrc="svg:main@treeArrowDown" data-type="drop"></qp-icon>\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<div glue-to.bind="menuElement" portal if.bind="menuOpened" class="qp-menu-options" id="${config.id}_menu_items"\r\n\tmousedown.trigger="stopPropagation($event)">\r\n\t\t<div ref="optionsPane" class="qp-menu-container">\r\n\t\t\t<div repeat.for="op of config.options"\r\n\t\t\tid="${op.id}"\r\n\t\t\tclass="qp-menu-item ${op.disabled ? \'disabled\' : \'\'} ${op.type===\'MenuSeparator\' ? \'qp-menu-separator\' : \'\'}"\r\n\t\t\tdata-cmd="${op.commandName}"\r\n\t\t\tmouseup.capture="processMenuClick(op.id, op.commandName, $event)">\r\n\t\t\t\t<qp-hyper-icon if.bind="op.images && op.images.normal" images.bind="op.images" class="qp-menu-icon"></qp-hyper-icon>\r\n\t\t\t\t<span if.bind="op.text" class="qp-menu-spacer" innerhtml="${op.text}"></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-button-group.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<qp-menu if.bind="!!menuConfig" config.bind="menuConfig" mousedown.capture="captureClick($event)"\r\n\t\tmenuselected.trigger="processButton($event)" class="${menuConfig.disabled ? \'disabled\': \'\'}"\r\n\t\tcomponent-id.bind="model.id">\r\n\t</qp-menu>\r\n\t<qp-tooltip if.bind="model.enabled !== false && !!model.tooltip" exclude=".qp-menu-options, .qp-menu-opener">\r\n\t\t<div>${model.tooltip}</div>\r\n\t</qp-tooltip>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-button.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<div class="qp-control-bar-button ${model.toggle ? (model.pushed ? \'qp-toggle-pushed\':\'qp-toggle-released\'): \'\'}\r\n\t\t${(model.enabled === false) ? \'disabled\': \'\'}" component-id.bind="model.id" click.delegate="performCommand()">\r\n\t\t<qp-hyper-icon if.bind="model.showMode !== \'labels\' && !!model.images.normal" images.bind="model.images"></qp-hyper-icon>\r\n\t\t<div if.bind="model.showMode !== \'icons\' && !!model.label" class="qp-tool-bar-text">${model.label}</div>\r\n\t</div>\r\n\t<qp-tooltip if.bind="model.enabled !== false && !!model.tooltip">\r\n\t\t<div>${model.tooltip}</div>\r\n\t</qp-tooltip>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-color-picker.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<qp-menu-color-picker config.bind="model" colorselected.trigger="colorSelected($event)"\r\n\t\tcomponent-id.bind="model.id" newcolor.trigger="newColorAdded($event)">\r\n\t</qp-menu-color-picker>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-item.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<div class="qp-control-bar-item" data-cmd.bind="model.id & attr" show.bind="model.visible !== false">\r\n\t\t<div as-element="compose" class="qp-control-bar-control" view-model.bind="config.modelName ? \'./qp-control-bar-\' + config.modelName : \'\'"\r\n\t\t\tmodel.bind="model" ref="control"></div>\r\n\t</div>\r\n\t<div as-element="qp-control-bar-item" containerless\r\n\t\tif.bind="!!separator" config.bind="separator"></div>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-selector.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<qp-drop-down config.bind="selectorConfig" value.two-way="value" css="${css}"\r\n\t\tcomponent-id.bind="model.id"></qp-drop-down>\r\n\t<qp-tooltip if.bind="model.enabled !== false && !!model.tooltip" exclude=".drop-down__options-pane">\r\n\t\t<div>${model.tooltip}</div>\r\n\t</qp-tooltip>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar-separator.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<div class="qp-tool-bar-splitter">\r\n\t\t<span class="${!!model.splitter ? \'splitter\': \'spacer\'}"\r\n\t\t\tdata-width-value.bind="model.width & attr"></span>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/control-bar/qp-control-bar.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="qp-control-bar-${config.type}">\r\n\t<require from="./qp-control-bar.css"></require>\r\n\t<div class="qp-control-bar ${config.type}">\r\n\t\t<qp-layout layout="bar" hide-behavior.bind="config.sizing" min-count="0"\r\n\t\t\tellipsis-behavior="last-visible" class="qp-control-bar-layout" ref="layout">\r\n\t\t\t<div as-element="qp-control-bar-item" class="qp-control-bar-item-container"\r\n\t\t\t\trepeat.for="item of items" config.bind="item" ref="item.ref"\r\n\t\t\t\tshow.bind="!item.hidden" action-executed.delegate="actionExecuted($event)">\r\n\t\t\t</div>\r\n\t\t</qp-layout>\r\n\t</div>\r\n\t<div style="display: none !important;" ref="source">\r\n\t\t<slot></slot>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/rich-text-editor/qp-rich-text-editor.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="qp-rich-text-editor" component-id.bind="idAttribute">\r\n\t<require from="./qp-rich-text-editor.css"></require>\r\n\t<div class="qp-rte-control ${readonly? \'qp-rte-control-readonly\': \'\'}" tabindex="0">\r\n\t\t<div class="qp-rte-toolbar main" component-id.bind="\'mtlb\'" ref="toolbarHost"></div>\r\n\t\t<div class="qp-rte-body" ref="editorHost"></div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/screen-title/qp-screen-title.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template id="${config.id}" class="${config.class}">\r\n\t<require from="./qp-screen-title.scss"></require>\r\n\t<div id="usrScreenTitle" class="star-container">\r\n\t\t<div class="${config.hasCaption? \'withCaption\': \'\'}">\r\n\t\t\t<div class="captionLine">\r\n\t\t\t\t<a id="usrTitle" href="${config.href}">${config.title}</a>\r\n\t\t\t\t<i id="usrFavorite" ref="starElement" class="ac fav-icon ${config.isFavoritable? \'\': \'no-star\'} ${config.isFavorite? \'favoriteOn ac-star\': \'ac-star_border favoriteOff\'}" click.delegate="toggleFavorites(item.id, $event)"></i>\r\n\t\t\t</div>\r\n\t\t\t<span id="usrCaption" ref="captionElement">${config.caption}</span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div portal="#InfoBannerContainer" repeat.for="msg of messages" class="search-hint-box ${msg[1]}">\r\n\t\t<div class="icon ${msg[1]}"><i class="ac ac-warning"></i></div>\r\n\t\t<div class="message">${msg[0]}</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/screen-toolbar/screen-toolbar-data-component.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<div class="top-bar-cont">\r\n\t\t<span id="toolBarPrefix" class="qp-tool-bar-prefix"></span>\r\n\t\t<qp-tool-bar ref="toolBarElem" view-model.ref="toolBarVM" config.bind="toolbar"></qp-tool-bar>\r\n\t\t<span id="toolBarSuffix" class="qp-tool-bar-suffix qp-collapsible-anchor"></span>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/side-panel/qp-side-panel.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="qp-side-panel ${maximized && !collapsed ? \'qp-side-panel--maximized\' : \'\'} ${collapsed ? \'\': \'qp-side-panel--expanded\'}">\r\n\t<require from="./qp-side-panel.css"></require>\r\n\t<ul class="qp-side-panel__menu">\r\n\t\t<li class="qp-side-panel__menu-item ${(activeScreen === screenItem) && !collapsed ? \'qp-side-panel__menu-item--active\' : \'\'}"\r\n\t\t\trepeat.for="screenItem of config.actions"\r\n\t\t\tclick.delegate="toggleActiveScreen(screenItem)"\r\n\t\t\tdata-cmd="NavigateToLayer$${screenItem.screenId}${screenItem.duplicateId ? \'_\' + screenItem.duplicateId : \'\'}"\r\n\t\t>\r\n\t\t\t<i class="qp-side-panel__menu-item-icon ac ac-fw ac-${screenItem.iconClass || defaultIconClass}"></i>\r\n\t\t\t<span class="qp-side-panel__menu-item-label">\r\n\t\t\t\t${screenItem.screenTitle || screenItem.toolTip}\r\n\t\t\t</span>\r\n\t\t\t<qp-tooltip>${screenItem.toolTip || screenItem.screenTitle}</qp-tooltip>\r\n\t\t</li>\r\n\t\t<li class="qp-side-panel__toggler" click.delegate="togglePanel()" data-cmd="${collapsed ? \'expand\' : \'collapse\'}"></li>\r\n\t</ul>\r\n\t<div id="sidePanelBody" class="qp-side-panel__screen qp-collapsible-scope" if.bind="activeScreen && !collapsed">\r\n\t\t<div class="qp-side-panel__screen-header">\r\n\t\t\t<div class="qp-side-panel__screen-header-controls">\r\n\t\t\t\t<span class="qp-collapsible-anchor qp-side-panel__collapsible-anchor"></span>\r\n\t\t\t\t<qp-data-component if.bind="activeScreenVM && activeScreenVM.screenVM" name="NotesMenuData" screen.bind="activeScreenVM.screenVM"></qp-data-component>\r\n\r\n\t\t\t\t<button class="qp-side-panel__screen-control-button qp-side-panel__screen-control-button--maximizer"\r\n\t\t\t\t\tid.bind="maximized ? (config.id + \'_minimizer\') : (config.id + \'_maximizer\')"\r\n\t\t\t\t\tclick.delegate="toggleMaximize()"\r\n\t\t\t\t>\r\n\t\t\t\t\t<qp-icon class="qp-side-panel__scree-header-icon qp-side-panel__scree-header-icon--maximizer" imagesrc.bind="maximized ? \'svg:main@minimize\' : \'svg:main@fullscreen\'"></qp-icon>\r\n\t\t\t\t</button>\r\n\t\t\t\t<button class="qp-side-panel__screen-control-button qp-side-panel__screen-control-button--close"\r\n\t\t\t\t\tid="${config.id}_closer"\r\n\t\t\t\t\tclick.delegate="collapsePanel()"\r\n\t\t\t\t>\r\n\t\t\t\t\t<qp-icon class="qp-side-panel__scree-header-icon qp-side-panel__scree-header-icon--close" imagesrc="svg:main@close"></qp-icon>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<template if.bind="activeScreen.uiType === \'E\'">\r\n\t\t\t\t<div class="qp-side-panel__screen-caption"\r\n\t\t\t\t\tif.bind="activeScreen.screenTitle || activeScreen.toolTip">\r\n\t\t\t\t\t${activeScreen.screenTitle || activeScreen.toolTip}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="qp-side-panel__screen-message"\r\n\t\t\t\t\tif.bind="activeScreen.screenMessage">\r\n\t\t\t\t\t${activeScreen.screenMessage || activeScreen.toolTip}\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t\t<template else>\r\n\t\t\t\t<qp-data-component if.bind="activeScreenVM && activeScreenVM.screenVM" name="TitleData"\r\n\t\t\t\t\tscreen.bind="activeScreenVM.screenVM"></qp-data-component>\r\n\t\t\t</template>\r\n\t\t</div>\r\n\t\t<div class="qp-side-panel__screen-scroller">\r\n\t\t\t<div class="qp-side-panel__content">\r\n\t\t\t\t<qp-data-component if.bind="activeScreenVM && activeScreenVM.screenVM" name="InlineScreenToolbar" screen.bind="activeScreenVM.screenVM"></qp-data-component>\r\n\t\t\t\t<qp-inline-screen view-model.ref="activeScreenVM" config.bind="activeScreen"></qp-inline-screen>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<qp-data-component if.bind="activeScreenVM && activeScreenVM.screenVM" name="LongRunData" screen.bind="activeScreenVM.screenVM"></qp-data-component>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-business-events.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-sys-menu.css"></require>\r\n\t<qp-panel id="businessEventsDlg" caption="${Msg.BusinessEvents}" width="790px" height="510px">\r\n\t\t<qp-grid config.bind="businessGridConfig" view.bind="Events" class="stretch"></qp-grid>\r\n\t</qp-panel>\r\n\t<qp-panel id="businessEvent" caption="${Msg.BusinessEvents}">\r\n\t\t<div class="qp-field-wrapper">\r\n\t\t\t<div class="label-container size-m">\r\n\t\t\t\t<label>${Msg.BusinessEventName}</label>\r\n\t\t\t</div>\r\n\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t<qp-text-editor config.bind="{id: \'businessEvent_new_name\', class: \'editor\', enabled: true}" value.two-way="businessEventName">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ id: \'open_new_be_btn\', text: \'Ok\', hidden: false}" click.delegate="openNewBusinessEvent()"></qp-button>\r\n\t\t\t<qp-button config.bind="{ id: \'cancel_new_be_btn\', text: Msg.Cancel, hidden: false}" click.delegate="closeCurrentDialog($event)">\r\n\t\t\t</qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-customization-menu/customization-menu-data-component.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-customization-menu"></require>\r\n\r\n\t<qp-customization-menu view-model.ref="customizationVM" parent.bind="$this"></qp-customization-menu>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-customization-menu/qp-customization-menu.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<qp-panel id="FilterWorkingProject" caption.bind="Msg.SelectCustomizationProject" auto-repaint="true">\r\n\t\t<qp-fieldset id="fwp_fwp" view.bind="FilterWorkingProject" control-size="xm">\r\n\t\t\t<field name="Name"></field>\r\n\t\t</qp-fieldset>\r\n\r\n\t\t<footer>\r\n\t\t\t<let action.bind="actions.get(\'ActionSelectWorkingProject\')"></let>\r\n\t\t\t<qp-button if.bind="action"\r\n\t\t\tcaption.bind="Msg.Confirm" hidden.bind="!action.visible || !action.text"\r\n\t\t\t\tenabled.bind="!!action.enabled" config.bind="{id: \'SelectProjectOk\', dialogResult: 1}">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-button caption.bind="Msg.Cancel"\r\n\t\t\t\tconfig.bind="{id: \'SelectProjectCancel\', dialogResult: 2}">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-button caption.bind="Msg.NewEntity"\r\n\t\t\t\tconfig.bind="{id: \'BtnNewProject\', popupPanel: \'DlgNewProject\'}">\r\n\t\t\t</qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\r\n\t<qp-panel id="DlgNewProject" caption.bind="Msg.NewProject" auto-repaint="true">\r\n\t\t<qp-fieldset id="dnp_fwp" view.bind="FilterWorkingProject" control-size="xm">\r\n\t\t\t<field name="NewProject"></field>\r\n\t\t</qp-fieldset>\r\n\t\t<footer>\r\n\t\t\t<let action.bind="actions.get(\'ActionCreateNewProject\')"></let>\r\n\t\t\t<qp-button if.bind="action"\r\n\t\t\t\tcaption.bind="Msg.Confirm" hidden.bind="!action.visible || !action.text"\r\n\t\t\t\tenabled.bind="!!action.enabled" config.bind="{id: \'btnConfirm\', action: action.commandName, dialogResult: 1}">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-button caption.bind="Msg.Cancel"\r\n\t\t\t\tconfig.bind="{id: \'btnCancel\', dialogResult: 2}">\r\n\t\t\t</qp-button>\r\n\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\r\n\t<qp-panel id="DlgDropDown" caption="Drop-down Values" auto-repaint="true" height="60vh">\r\n\t\t<qp-grid id="ctl00_usrCaption_CustomizationDialogs_ComboBoxValuesDictDialog_gridCombos" data-source.bind="wrapperGetDropdownValues" config.bind="{showTopBar: false}"></qp-grid>\r\n\t\t<footer>\r\n\t\t\t<qp-button id="btnClose" caption="Close" dialog-result="Cancel"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\r\n\t<qp-panel id="ViewElemInfo" caption.bind="Msg.ElementProperties" auto-repaint="false" class="${(dropDownOptions && dropDownOptions.length) ? \'col-lg-5\' : \'\'}">\r\n\t\t<qp-fieldset id="vei_vei" view.bind="ViewElemInfo" control-size="col-12">\r\n\t\t\t<field name="AspxControl"></field>\r\n\t\t\t<field name="CacheType" replace-content>\r\n\t\t\t\t<qp-field control-state.bind="ViewElemInfo.CacheType" control-config.bind="{linkCommand: \'ActionNavigateToDac\'}" control-size.bind="size"></qp-field>\r\n\t\t\t</field>\r\n\t\t\t<field name="FieldName"></field>\r\n\t\t\t<field name="ViewName"></field>\r\n\t\t\t<field name="GraphName"></field>\r\n\t\t\t<field name="ActionName"></field>\r\n\t\t</qp-fieldset>\r\n\t\t<footer>\r\n\t\t\t<let action.bind="actions.get(\'MenuLayoutEditor\')"></let>\r\n\t\t\t<qp-button if.bind="dropDownOptions && dropDownOptions.length" caption="Drop-down Values" config.bind="{id: \'BtnDropDownValues\', popupPanel: \'DlgDropDown\'}"></qp-button>\r\n\t\t\t<qp-button if.bind="action"\r\n\t\t\tcaption.bind="Msg.Customize" hidden.bind="!action.visible || !action.text"\r\n\t\t\t\tenabled.bind="!!action.enabled" config.bind="{id: \'btnCustomize\' }"\r\n\t\t\t\tclick.delegate="execServerAction(action.commandName)">\r\n\t\t\t</qp-button>\r\n\r\n\t\t\t<qp-menu class="qp-button" config.bind="{id: actionsMenu, text: Msg.Actions, options: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: \'custBL\', text: Msg.CustomizeBusinessLogic, type: \'MenuButton\', commandName: \'MenuGraphEditor\'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: \'custDF\', text: Msg.CustomizeDataFields, type: \'MenuButton\', commandName: \'MenuDacEditor\'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: \'viewBLSource\', text: Msg.ViewBusinessLogicSource, type: \'MenuButton\', commandName: \'MenuGraphSrc\'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: \'viewDACSource\', text: Msg.ViewDataClassSource, type: \'MenuButton\', commandName: \'MenuDacSrc\'\r\n\t\t\t\t}\r\n\t\t\t]}" menuselected.delegate="processMenuSelected($event)"></qp-menu>\r\n\r\n\t\t\t<qp-button caption.bind="Msg.Cancel"\r\n\t\t\tconfig.bind="{id: \'btnCancel\', dialogResult: 2}">\r\n\t\t</qp-button>\r\n\r\n\t\t\x3c!-- id: \'viewTSSource\', text: Msg.ViewAureliaSource, type: \'MenuButton\', commandName: \'MenuAureliaSrc\'\r\n\t}, { --\x3e\r\n\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\r\n</template>\r\n\r\n'},"client-controls/controls/compound/system-menu/qp-files-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-sys-menu.css"></require>\r\n\t<qp-panel id="pnlFilesDialog" caption.bind="Msg.Files" width="720px" fileloaded.delegate="processMenuSelected($event)">\r\n\t\t<div if.bind="mobileUploadStarted" class="fileDialogInfo">\r\n\t\t\t<span class="ac text-BoxHint"></span>\r\n\t\t\t<span id="CapturingImagePushSendMessage">${Msg.CapturingImagePushSend}</span>\r\n\t\t\t<span class="cross ac ac-close" click.delegate="mobileUploadStarted = false"></span>\r\n\t\t</div>\r\n\t\t<qp-multi-upload ref="uploader" view-model.ref="uploaderAu" config.bind="uploaderConfig"></qp-multi-upload>\r\n\t\t<qp-grid class="files-dialog-grid" view-model.ref="grid" config.bind="filesGridConfig"></qp-grid>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-note-dialog/note-menu-data-component.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../qp-files-dialog"></require>\r\n\r\n\t<qp-note-dialog view-model.ref="noteVM" config.bind="noteDialogConfig" view.bind="notes.note"></qp-note-dialog>\r\n\t<qp-files-dialog view-model.ref="filesVM" config.bind="filesDialogConfig"></qp-files-dialog>\r\n\r\n\t<div if.bind="notes.note && notes.note.notesAvailable" id="pnlNote" class="qp-system-menu">\r\n\t\t<qp-button class="minor-button"\r\n\t\t\tconfig.bind="{ id: \'SystemMenu_NoteShow\', text: Msg.Note, hidden: false, imageUrl: notes.note.noteText? \'svg:main@note\' : \'svg:main@noteEmpty\', displayIconAndText: true}"\r\n\t\t\tclick.delegate="noteShow()">\r\n\t\t</qp-button>\r\n\t</div>\r\n\t<div if.bind="!notes.note.activitiesDisabled && notes.activities" id="pnlActivities" class="qp-system-menu">\r\n\t\t<qp-button class="minor-button"\r\n\t\t\tconfig.bind="{ id: \'SystemMenu_ActivitiesShow\', text: activitiesButtonText, hidden: false, imageUrl: \'svg:main@mail\', displayIconAndText: true}"\r\n\t\t\tclick.delegate="activitiesShow()">\r\n\t\t</qp-button>\r\n\t</div>\r\n\t<div if.bind="notes.note && notes.note.filesAvailable" id="pnlFiles" class="qp-system-menu">\r\n\t\t<qp-button class="minor-button"\r\n\t\t\tconfig.bind="{ id: \'SystemMenu_FilesShow\', text: filesButtonText, hidden: false, imageUrl: \'svg:main@files\', displayIconAndText: true}"\r\n\t\t\tclick.delegate="filesShow()">\r\n\t\t</qp-button>\r\n\t</div>\r\n\t<qp-panel id="pnlActivitiesShow" caption.bind="Msg.TaskAndActivitiesTitle" width="570px">\r\n\t\t<div style="min-width:450px;min-height: 350px;">\r\n\t\t\t<div class="toolbar-cont">\r\n\t\t\t\t<qp-tool-bar config.bind="activitiesToolbarConfig">\r\n\t\t\t\t</qp-tool-bar>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<div if.bind="!activities || activities.length == 0" style="width:450px;height: 350px;"></div>\r\n\t\t\t\t<table else class="activities-table">\r\n\t\t\t\t\t<tr repeat.for="a of activities" dblclick.delegate="a.open(a.recordId)"\r\n\t\t\t\t\t\tclass="${a.unread ? \'unread\':\'\'} ${a.isHot?\'hot\':\'\'}">\r\n\t\t\t\t\t\t<td class="activity__icon">\r\n\t\t\t\t\t\t\t<qp-icon imagesrc.bind="a.imgUrl"></qp-icon>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class="activity__datestart">${a.dateText}</td>\r\n\t\t\t\t\t\t<td class="activity__title"><a href="javascript:void(0)"\r\n\t\t\t\t\t\t\t\tclick.delegate="a.open(a.recordId)">${a.title}</a></td>\r\n\t\t\t\t\t\t<td class="activity__duration">${a.durationText}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-note-dialog/qp-note-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<qp-panel id="pnlNoteShow_ib" caption.bind="Msg.NoteTitle" width="570px" height="362px">\r\n\t\t<textarea id="pnlNoteShow_ib_txt" name="pnlNoteShow$ib$txt" value.bind="model.noteText" attach-focus style="width: 100%; height: 100%; resize: none">\r\n\t\t</textarea>\r\n\r\n\t\t<qp-check-box if.bind="model.popupNoteEnabled" config.bind="chkAddPopupNoteConfig" value.two-way="hasPopupText">\r\n\t\t</qp-check-box>\r\n\t\t<textarea id="pnlNoteShow_ib_txtP" name="pnlNoteShow$ib$txtP" if.bind="hasPopupText" value.bind="model.popupNoteText" style="width: 100%; height: 100%; resize: none">\r\n\t\t</textarea>\r\n\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ id: \'pnlNoteShow_ib_0\', text: Msg.Save }" click.trigger="updateNote()"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-notifications.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-sys-menu.css"></require>\r\n\t<qp-panel id="notificationsDlg" caption="${Msg.Notifications}" width="790px" height="510px">\r\n\t\t<qp-grid config.bind="notificationsGridConfig" view.bind="Notifications" class="stretch"></qp-grid>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-sys-menu.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../../container/field/qp-field.css"></require>\r\n\t<require from="./qp-sys-menu.css"></require>\r\n\r\n\t<qp-data-component name="NotesMenuData" screen.bind="viewModel"></qp-data-component>\r\n\t<qp-data-component name="SettingsMenuData" screen.bind="viewModel"></qp-data-component>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-tools-menu/qp-tools-menu.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../../../container/field/qp-field.css"></require>\r\n\t<require from="../qp-sys-menu.css"></require>\r\n\r\n\t<qp-panel id="shareColumnsDlg" caption.bind="shareCols.title" width="620px" height="460px">\r\n\t\t<qp-wizard config.bind="{saveCommand: \'Done\'}" id="share_columns_wz">\r\n\t\t\t<qp-tab caption="${Msg.ShareColumConfigStep1}" load-on-demand.bind="true" >\r\n\t\t\t\t<qp-grid style="height: 100%" view.bind="GridList" config.bind="GridList.config">\r\n\t\t\t\t</qp-grid>\r\n\t\t\t</qp-tab>\r\n\t\t\t<qp-tab caption="${Msg.ShareColumConfigStep2}" load-on-demand.bind="true">\r\n\t\t\t\t<qp-fieldset id="params" view.bind="Parameters" control-size="col-12">\r\n\t\t\t\t\t<field name="IsDefault"></field>\r\n\t\t\t\t\t<field name="Override"></field>\r\n\t\t\t\t\t<field name="RoleName"></field>\r\n\t\t\t\t</qp-fieldset>\r\n\t\t\t\t<qp-grid style="flex-grow: 1;" config.bind="UserList.config" view.bind="UserList">\r\n\t\t\t\t</qp-grid>\r\n\t\t\t</qp-tab>\r\n\t\t</qp-wizard>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/qp-tools-menu/tools-menu-data-component.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-tools-menu"></require>\r\n\t<require from="../qp-business-events"></require>\r\n\t<require from="../qp-notifications"></require>\r\n\r\n\t<qp-business-events view-model.ref="businessEventsVM"></qp-business-events>\r\n\t<qp-notifications view-model.ref="notificationsVM"></qp-notifications>\r\n\t<qp-tools-menu view-model.ref="sharedColumnsVM" parent.bind="$this"></qp-tools-menu>\r\n\r\n\t<qp-panel id="pnlLinkShow">\r\n\t\t<div class="qp-field-wrapper">\r\n\t\t\t<qp-label-light caption="${Msg.InternalLink}"></qp-label-light>\r\n\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t<qp-text-editor config.bind="{id: \'internalLink\', class: \'editor\', readOnly: true}"\r\n\t\t\t\t\tvalue.two-way="links.internal">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="qp-field-wrapper">\r\n\t\t\t<qp-label-light caption="${Msg.ExternalLink}"></qp-label-light>\r\n\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t<qp-text-editor config.bind="{id: \'externalLink\', class: \'editor\', readOnly: true}"\r\n\t\t\t\t\tvalue.two-way="links.external">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ id: \'link_send_btn\', text: Msg.Send, hidden: false}"\r\n\t\t\t\tclick.delegate="openSendLinkWindow()"></qp-button>\r\n\t\t\t<qp-button config.bind="{ id: \'link_cancel_btn\', text: Msg.Cancel, hidden: false}"\r\n\t\t\t\tclick.delegate="closeCurrentDialog()"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\t<qp-panel id="pnlAbout" caption="${Msg.AboutAcumatica}">\r\n\t\t<div>\r\n\t\t\t<qp-icon imagesrc="/Icons/site.png" style="width: 20px; height: 20px; display: inline-block;"></qp-icon>\r\n\t\t\t<span id="ctl00_usrCaption_pnlAbout_lblAcumatica" class="labelH"\r\n\t\t\t\tstyle="color:#4E576A;font-size: 22px; font-weight: bold">${about.label}</span>\r\n\t\t\t<br>\r\n\t\t\t<div id="ctl00_usrCaption_pnlAbout_lblVersion" class="labelH" style="font-weight: bold;">\r\n\t\t\t\t${about.productVersion}</div>\r\n\t\t\t<br>\r\n\t\t\t<span if.bind="about.checkForUpdates" id="ctl00_usrCaption_pnlAbout_lblUpdates" class="labelH"\r\n\t\t\t\tstyle="font-weight: bold; white-space: nowrap;">${about.checkForUpdates}</span>\r\n\t\t\t<span if.binf="about.snapshot" id="ctl00_usrCaption_pnlAbout_lblRestoredSnapshotIsUnsafe" class="labelH"\r\n\t\t\t\tstyle="font-weight: bold; white-space: nowrap;">${about.snapshot}</span>\r\n\r\n\t\t\t<span id="ctl00_usrCaption_pnlAbout_lblCopyright1" class="labelH">${about.copyright1}</span>\r\n\t\t\t<br>\r\n\t\t\t<div id="ctl00_usrCaption_pnlAbout_lblCopyright2" class="labelH" innerhtml="${about.copyright2}"></div>\r\n\t\t\t<br>\r\n\t\t\t<span id="ctl00_usrCaption_pnlAbout_lblInstallationID" class="labelH"\r\n\t\t\t\tinnerhtml="${about.installationId}"></span></span>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ text: Msg.Confirm, hidden: false}" click.delegate="closeCurrentDialog()">\r\n\t\t\t</qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\t<qp-panel id="auditHistoryDlg" caption="${Msg.AuditUpdateHistory}" width="620px">\r\n\t\t<div if.bind="!auditInfo">${Msg.AuditIsNotAvailable}</div>\r\n\t\t<div if.bind="auditInfo">\r\n\t\t\t<div class="qp-field-wrapper">\r\n\t\t\t\t<div class="label-container size-m">\r\n\t\t\t\t\t<label>${Msg.AuditCreatedBy}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: false}"\r\n\t\t\t\t\t\tvalue.two-way="auditInfo.createdByID">\r\n\t\t\t\t\t</qp-text-editor>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-field-wrapper">\r\n\t\t\t\t<div class="label-container size-m">\r\n\t\t\t\t\t<label>${Msg.AuditCreatedThrough}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: false}"\r\n\t\t\t\t\t\tvalue.two-way="auditInfo.createdByScreenID">\r\n\t\t\t\t\t</qp-text-editor>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-field-wrapper">\r\n\t\t\t\t<div class="label-container size-m">\r\n\t\t\t\t\t<label>${Msg.AuditCreatedOn}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: false}"\r\n\t\t\t\t\t\tvalue.two-way="auditInfo.createdDateTime">\r\n\t\t\t\t\t</qp-text-editor>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-field-wrapper">\r\n\t\t\t\t<div class="label-container size-m">\r\n\t\t\t\t\t<label>${Msg.AuditLastModifiedBy}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: false}"\r\n\t\t\t\t\t\tvalue.two-way="auditInfo.lastModifiedByID">\r\n\t\t\t\t\t</qp-text-editor>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-field-wrapper">\r\n\t\t\t\t<div class="label-container size-m">\r\n\t\t\t\t\t<label>${Msg.AuditLastModifiedThrough}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: false}"\r\n\t\t\t\t\t\tvalue.two-way="auditInfo.lastModifiedByScreenID">\r\n\t\t\t\t\t</qp-text-editor>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-field-wrapper">\r\n\t\t\t\t<div class="label-container size-m">\r\n\t\t\t\t\t<label>${Msg.AuditLastModifiedOn}</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: false}"\r\n\t\t\t\t\t\tvalue.two-way="auditInfo.lastModifiedDateTime">\r\n\t\t\t\t\t</qp-text-editor>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ text: Msg.AuditEnableFieldLevel, hidden: false}"\r\n\t\t\t\tclick.delegate="enableLevelAudit()">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-button config.bind="{ text: Msg.Cancel, hidden: false}" click.delegate="closeCurrentDialog()">\r\n\t\t\t</qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\t<qp-panel id="pnlProfiler" caption="${Msg.ProfilerHeader}" width="520px" height="210px">\r\n\t\t<label>${Msg.ProfilerDescription}</label>\r\n\t\t<div if.bind="profilerStarted" class="qp-field-wrapper">\r\n\t\t\t<qp-label-light caption="${Msg.ProfilerStarted}"></qp-label-light>\r\n\t\t\t<div class="control-container size-m">\r\n\t\t\t\t<qp-text-editor config.bind="{id: \'profilerStarted\', class: \'editor\', readOnly: true}"\r\n\t\t\t\t\tvalue.two-way="profiler.started">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div if.bind="profilerStarted" class="qp-field-wrapper">\r\n\t\t\t<qp-label-light caption="${Msg.ProfilerRequestsLogged}"></qp-label-light>\r\n\t\t\t<div class="control-container size-m">\r\n\t\t\t\t<qp-number-editor\r\n\t\t\t\t\tconfig.bind="{id: \'profilerRequestsLogged\', class: \'editor\', textAlign: 1, readOnly: true}"\r\n\t\t\t\t\tvalue.two-way="profiler.requestsLogged">\r\n\t\t\t\t</qp-number-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button if.bind="!profilerStarted"\r\n\t\t\t\tconfig.bind="{ id: \'profiler_start_btn\', text: Msg.ProfilerStart, hidden: false}"\r\n\t\t\t\tclick.delegate="startLogging()">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-button if.bind="profilerStarted"\r\n\t\t\t\tconfig.bind="{ id: \'profiler_stop_btn\', text: Msg.ProfilerStop, hidden: false}"\r\n\t\t\t\tclick.delegate="stopLogging()">\r\n\t\t\t</qp-button>\r\n\t\t\t<qp-button config.bind="{ id: \'profiler_open_btn\', text: Msg.ProfilerOpenRequest, hidden: false}"\r\n\t\t\t\tclick.delegate="openRequestProfiler($event)"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/system-menu/settings-menu-data-component.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<qp-data-component view-model.ref="toolMenuDataComponent" name="ToolMenuData" screen.bind="screenViewModel"></qp-data-component>\r\n\t<qp-data-component view-model.ref="customizationMenuDataComponent"\tname="CustomizationMenuData" screen.bind="screenViewModel"></qp-data-component>\r\n\r\n\t<div if.bind="settingsMenu" id="pnlSettings" class="qp-system-menu">\r\n\t\t<qp-menu config.bind="settingsMenu" menuselected.delegate="processSettingsMenuSelected($event)"></qp-menu>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/tool-bar/qp-tool-bar.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template css="display: ${config.hidden ? \'none\': \'\'};">\r\n\t<require from="./qp-tool-bar.scss"></require>\r\n\t<require from="../menu/qp-menu"></require>\r\n\r\n\t<div id="${config.id}" name="${config.name}" class="qp-tool-bar ${toolBarMode===\'toolbar only\' ? \'qp-tool-bar-no-menu\' : \'\'} ${config.disableMenu ? \'qp-tool-bar-nowrap\' : \'\'} ${config.class}"\r\n\tref="toolbarElement">\r\n\r\n\t\t<ul id="${config.id}_full_bar" class="items-list ${config.canOverflow ? \'asTable\' : \'\'}"\r\n\tref="fullULElement"\r\n\tcss="${ (toolBarMode!==\'toolbar only\') ? \'position: absolute; top: -1000px; width: \'+toolbarElement.clientWidth+\'px;\' : \'\'}">\r\n\t\t\t<li repeat.for="item of items"\r\n\t\t\tcss="${\'width: \'+item.width+\'; \'}"\r\n\t\t\tclass="qp-tool-bar-item ${item.renderIcon() ? \'minor-button\' : \'\'} ${item.connotation ? \'qp-connotation-\'+item.connotation : \'qp-connotation-default\'} ${item.toggleMode ? (item.pushed ? \'qp-toggle-pushed\' : \'qp-toggle-released\') : \'\'} ${item.cssClass ? item.cssClass : \'\'}"\r\n\t\t\tclick.capture="processClick(item.id, item.type, $event)"\r\n\t\t\tmousedown.trigger="processDown(item.id, item.type, $event)"\r\n\t\t\tmouseout.trigger="processOut(item.id, $event)"\r\n\t\t\tdata-cmd="${toolBarMode===\'toolbar only\' ? item.commandName : undefined}"\r\n\t\t\tid="${toolBarMode===\'toolbar only\' ? item.id : undefined}">\r\n\t\t\t\t<div if.bind="item.type===\'MenuButton\'" class="qp-tool-bar-button ${item.disabled ? \'disabled\' : \'\'}">\r\n\t\t\t\t\t<qp-hyper-icon if.bind="item.renderIcon()" images.bind="item.images"></qp-hyper-icon>\r\n\t\t\t\t\t<div if.bind="item.renderText()" class=" qp-tool-bar-text">\r\n\t\t\t\t\t\t${item.text}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<qp-menu if.bind="item.type===\'MenuOptions\'" config.bind="item"\r\n\t\t\t\tmenuselected.delegate="processMenuSelected($event)"></qp-menu>\r\n\t\t\t\t<div if.bind="item.type!==\'MenuButton\' && item.type!==\'MenuOptions\'">[${item.id}]</div>\r\n\r\n\t\t\t\t<qp-tooltip if.bind="!legacyEnv() && item.toolTip" exclude=".qp-menu-options">\r\n\t\t\t\t\t<div>${item.toolTip}</div>\r\n\t\t\t\t</qp-tooltip>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\r\n\t\t<ul id="${config.id}_bar" show.bind="toolBarMode!==\'toolbar only\'"\r\n\t\tclass="items-list ${config.canOverflow ? \'asTable\' : \'\'}">\r\n\t\t\t<li repeat.for="item of items"\r\n\t\t\tif.bind="!item.showIfEnoughRoom"\r\n\t\t\tref="itemElements[$index]"\r\n\t\t\tcss="${\'width: \'+item.width+\'; \'} ${item.visibleOnToolbar ? \'\' : \'position: absolute; top:-1000px;\'}"\r\n\t\t\tclass="qp-tool-bar-item ${item.renderIcon() ? \'minor-button\' : \'\'} ${item.connotation ? \'qp-connotation-\'+item.connotation : \'qp-connotation-default\'} ${item.toggleMode ? (item.pushed ? \'qp-toggle-pushed\' : \'qp-toggle-released\') : \'\'} ${item.cssClass ? item.cssClass : \'\'}"\r\n\t\t\tclick.capture="processClick(item.id, item.type, $event)"\r\n\t\t\tmouseout.trigger="processOut(item.id, $event)"\r\n\t\t\tmousedown.trigger="processDown(item.id, item.type, $event)"\r\n\t\t\tdata-cmd="${toolBarMode===\'toolbar only\' ? undefined : item.commandName}"\r\n\t\t\tid="${toolBarMode===\'toolbar only\' ? undefined : item.id}">\r\n\t\t\t\t<div if.bind="item.type===\'MenuButton\'" class="qp-tool-bar-button ${item.disabled ? \'disabled\' : \'\'}">\r\n\t\t\t\t\t<qp-hyper-icon if.bind="item.renderIcon()" images.bind="item.images"></qp-hyper-icon>\r\n\t\t\t\t\t<div if.bind="item.renderText()" class=" qp-tool-bar-text">\r\n\t\t\t\t\t\t${item.text}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<qp-menu if.bind="item.type===\'MenuOptions\'" config.bind="item"\r\n\t\t\t\tmenuselected.delegate="processMenuSelected($event)"></qp-menu>\r\n\t\t\t\t<div if.bind="item.type!==\'MenuButton\' && item.type!==\'MenuOptions\'">[${item.id}]</div>\r\n\t\t\t\t<qp-tooltip if.bind="!legacyEnv() && item.toolTip" target.bind="itemElements[$index]" exclude=".qp-menu-options">\r\n\t\t\t\t\t<div>${item.toolTip}</div>\r\n\t\t\t\t</qp-tooltip>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\r\n\t\t<div show.bind="showMenuOpener && toolBarMode!==\'toolbar only\'" class="qp-tool-bar-opener ${menuOpened ? \'qp-menu-opened\': \'\'}" ref="menuOpener"\r\n\t\tid="${config.id}_MenuOpener"\r\n\t\tkeydown.capture="onKeyDown($event)"\r\n\t\tmousedown.capture=toggleMenu($event) tabindex="1">\r\n\t\t\t<qp-icon imagesrc="svg:main@ellipsis"></qp-icon>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div if.bind="menuOpened && showMenuOpener" class="qp-menu-shadow">\r\n\t\t<div glue-to.bind="menuOpener" portal class="qp-tool-bar-menu" id="${config.id}_MenuOpener_menu_items"\r\n\t\tmousedown.trigger="stopPropagation($event)" css="max-height: calc(100vh - ${menuTopPosition}px - 10px)">\r\n\t\t\t<div id="${config.id}_popup" ref="menuPane" class="qp-tool-bar-container">\r\n\t\t\t\t<div repeat.for="col of menu" class="qp-tool-bar-column">\r\n\t\t\t\t\t<div repeat.for="item of col"\r\n\t\t\t\t\tid="${item.id}_item"\r\n\t\t\t\t\tdata-category-id.bind="item.categoryID ? item.categoryID+\'_item\' : undefined & attr"\r\n\t\t\t\t\tdisabled.bind="item.disabled & attr"\r\n\t\t\t\t\tclass="qp-tool-bar-menu-item\r\n\t\t\t\t\t${item.type===\'MenuButton\' ? \'qp-menu-item\' : item.text ? \'qp-menu-label\' : \'qp-menu-empty-label\'}\r\n\t\t\t\t\t${item.disabled ? \'disabled\' : \'\'}\r\n\t\t\t\t\t${highlightedID === item.id ? \'qp-menu-highlighted\':\'\'}\r\n\t\t\t\t\t${item.toggleMode ? (item.pushed ? \'qp-toggle-pushed\' : \'qp-toggle-released\') : \'\'}"\r\n\t\t\t\t\tdata-cmd="${item.commandName}"\r\n\t\t\t\t\tclick.delegate="processMenuClick(item.id, $event)"\r\n\t\t\t\t\tmouseenter.trigger="processMouseEnter(item.id, $event)"\r\n\t\t\t\t\tmouseleave.trigger="processMouseLeave(item.id, $event)">\r\n\t\t\t\t\t\t<div if.bind="item.type===\'MenuButton\'"\r\n\t\t\t\t\t\tclass="qp-menu-fav-placeholder ${item.favorite===true ? \'favorite\' : \'\'}"\r\n\t\t\t\t\t\tclick.delegate="toggleFavorites(item.id, $event)"></div>\r\n\t\t\t\t\t\t<span if.bind="item.type===\'MenuButton\'"\r\n\t\t\t\t\t\textention-cord.bind="highlightedID === item.id & debounce:32"\r\n\t\t\t\t\t\tclass="qp-menu-item qp-menu-text ${item.disabled ? \'disabled\' : \'\'}">\r\n\t\t\t\t\t\t\t${item.text || item.toolTip}\r\n\t\t\t\t\t\t\t<div if.bind="item.connotation" class="qp-menu-color-bead ${\'qp-connotation-\'+item.connotation}"\r\n\t\t\t\t\t\t\tcss="background-color: ${item.color};"></div>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span if.bind="item.type===\'MenuLabel\'" class="qp-menu-label qp-menu-text">${item.text}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/translation-validation/qp-translation-validation.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-translation-validation.scss"></require>\r\n\t<div class="validation-container" if.bind="IsVisible">\r\n\t\t<div class="validation-title" click.delegate="toogleItems()">${ValidationTitle}</div>\r\n\t\t<div class="validation-items" if.bind="expanded">\r\n\t\t\t<div class="validation-item" repeat.for="item of component.validationResult.warnings">\r\n\t\t\t\t<span class="validation-item--title">${msg.TranslationValidationItemTitle}</span>\r\n\t\t\t\t<span class="validation-item--body">${msg.Format(msg.TranslationValidationItemBody, item)}</span>\r\n\t\t\t\t<a href="javascript:void(0)" click.delegate="openLocalizationScreen()" class="validation-item--link">${getLocaleName()}</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/compound/tree-selector/qp-tree-selector-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-tree-selector.scss"></require>\r\n\t<qp-panel id="tree-selector-panel_${config.id}">\r\n\t\t<div class="qp-tree-selector ${ gridConfig ? \'\' : \'qp-tree-selector--one-tab\' }">\r\n\t\t\t<qp-tabbar config.bind="{id: config.TreeSelectorId}">\r\n\r\n\t\t\t\t<qp-tab id="grid" if.bind="gridConfig" caption.bind="config.selectorTabTitle">\r\n\t\t\t\t\t<qp-grid id="${config.TreeSelectorId}_grid" class="qp-tree-selector-tab" config.bind="gridConfig"\r\n\t\t\t\t\t\ton-active-row-changed.call="rowChanged(args)"\r\n\t\t\t\t\t\ton-default-action.call="selected(args)"\r\n\t\t\t\t\t\ton-action.call="selected(args)"\r\n\t\t\t\t\t\tdblclick.delegate="selected(args)"\r\n\t\t\t\t\t\tview-model.ref="gridVM"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t</qp-grid>\r\n\t\t\t\t</qp-tab>\r\n\r\n\t\t\t\t<qp-tab id="tree" caption.bind="config.treeTabTitle">\r\n\t\t\t\t\t<qp-tree value.two-way="treeValue" view-model.ref="tree" class="qp-tree-selector-tab"\r\n\t\t\t\t\t\tconfig.bind="treeConfig">\r\n\t\t\t\t\t</qp-tree>\r\n\t\t\t\t</qp-tab>\r\n\r\n\t\t\t</qp-tabbar>\r\n\t\t</div>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/compound/tree-selector/qp-tree-selector.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="client-controls/controls/simple/selector/qp-selector.css"></require>\r\n\r\n\t<div class="editor qp-selector ${editMode?\'focus edit-mode\':\'\'} ${config.readOnly || !config.enabled ? \'qp-selector-readonly\' : \'\'} ${config.allowEdit ? \'qp-selector-allow-edit\' : \'\'} ${empty ? \'qp-selector-empty\':\'\'}" ref="editorDiv" id="${config.id}" tabindex="-1">\r\n\t\t<div class="qp-editor-plugin">\r\n\t\t\t<qp-text-editor config.bind="editorConfig" value.two-way="editorValue" view-model.ref="field" keydown.delegate="handleKeyDown($event)"></qp-text-editor>\r\n\t\t</div>\r\n\r\n\t\t<button if.bind="!config.readOnly && !config.disabled && !config.enabled == false" type="button"\r\n\t\t\tmousedown.capture="openSelector(fieldLabel)"\r\n\t\t\tclass="qp-field-editor__button"\r\n\t\t\ttabindex="-1">\r\n\t\t\t<qp-icon imagesrc="svg:main@search" class="buttonsCont" type="sel"></qp-icon>\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<qp-tree-selector-dialog config.bind="config" view-model.ref="treeSelectorDialog" editor-div.bind="editorDiv" if.bind="config"></qp-tree-selector-dialog>\r\n</template>\r\n'},"client-controls/controls/compound/tree/qp-tree-node.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template id="${id}">\r\n\t<tr id="${meta.testId}" ref="treeNode" if.bind="nodeId!==null" class="tree-row ${meta.hidden==true && meta.item!=null ? \'tree-node-hidden\' : \'\'} tree-node ${treeService.mode==\'single\' && meta.selected ? \'tree-node-selected\' : \'\'} ${treeService.modifiable && !(meta.item.actions.disableDrag === true)? \'draggable\': \'\'} ${treeService.hovered.id==nodeId && treeService.hovered.separator==false && !(meta.item.actions.disableDropChild === true) ? \'tree-node-drag\' : \'\'}"\r\n\t\tdraggable="true"\r\n\t\tdragstart.delegate="treeService.modifiable && !(meta.item.actions.disableDrag === true)? onDragStart($event): null"\r\n\t\tdrop.trigger="treeService.modifiable && !(meta.item.actions.disableDropChild === true)? dropNode($event, true): null"\r\n\t\tdragover.trigger="treeService.modifiable? onDragOver($event): null"\r\n\t\tdblclick.delegate="onSelectSingle()"\r\n\t\tclick.delegate="treeService.mode==\'multi\' ? onSelectMulti() : checkSingle()">\r\n\t\t<td ref="flexFirst" class="tree-flex" css="padding-left: ${levelShift}">\r\n\t\t\t<i if.bind="meta.children.length > 0" ref="arrow"\r\n\t\t\t\tclass="ac ${(meta.opened)?\'ac-keyboard_arrow_down\':\'ac-keyboard_arrow_right\'} tree-open"\r\n\t\t\t\tclick.trigger="onOpen($event)"></i>\r\n\t\t\t<div class="tree-checkbox tree-quad" ref="checkBox" if.bind="treeService.mode==\'multi\'">\r\n\t\t\t\t<input if.bind="!meta.indeterminate" type="checkbox" class="tree-quad" checked.bind="meta.selected" />\r\n\t\t\t\t<div if.bind="meta.indeterminate" class="indeterminate">\r\n\t\t\t\t\t<div class="inside">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<qp-icon if.bind="meta.item.icon" class="tree-node-icon" ref="icon" imagesrc.bind="meta.item.icon"\r\n\t\t\t\tcss="color: ${meta.item.iconColor}; width: ${treeService.iconSize}; height: ${treeService.iconSize}">\r\n\t\t\t</qp-icon>\r\n\t\t\t<span if.bind="!editMode" ref="text" class="tree-text" title.bind="meta.item.name">\r\n\t\t\t\t<span if.bind="!meta.hidden" repeat.for="part of textParts"\r\n\t\t\t\t\tclass.bind="part.selected ? \'selected\' : \'\'">${part.text}</span>\r\n\t\t\t</span>\r\n\t\t\t<input ref="input" value.bind="meta.item.name" focus.bind="editMode" keydown.capture="onInput($event)"\r\n\t\t\t\tclass="tree-text-input ${editMode?\'\':\'hidden\'}" blur.trigger="editMode=false">\r\n\t\t</td>\r\n\t\t<td repeat.for="extra of treeService.extras" class="tree-sticky-column" css="right: ${extra.right}px">\r\n\t\t\t<div css="width: ${extra.width}px" class="optional-item">\r\n\t\t\t</div>\r\n\t\t</td>\r\n\t\t<td ref="actionMenu" if.bind="meta.item.actions && (meta.item.actions.rename || meta.item.actions.createChild || meta.item.actions.createSibling || meta.item.actions.delete)"\r\n\t\t\tclass="tree-toolbar tree-sticky-column">\r\n\t\t\t<qp-icon class="tree-quad" imagesrc="svg:main@ellipsis" click.delegate="onToolbarClick($event)">\r\n\t\t\t</qp-icon>\r\n\t\t\t<div ref="toolbar" class="tree-toolbar-right hidden">\r\n\t\t\t\t<div if.bind="meta.item.actions.createSibling" id="${meta.testId}_addsibling" click.delegate="onAddNode(false)">\r\n\t\t\t\t\t<i class="tree-quad ac ac-add"></i>${treeService.actionLabels[0] || localizedStrings.AddSibling}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div if.bind="meta.item.actions.createChild" id="${meta.testId}_addchild" click.delegate="onAddNode(true)">\r\n\t\t\t\t\t<i class="tree-quad ac ac-add"></i>${treeService.actionLabels[1] || localizedStrings.AddChild}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div if.bind="meta.item.actions.rename" id="${meta.testId}_rename" click.delegate="onEdit()">\r\n\t\t\t\t\t<i class="tree-quad ac main-RecordEdit"></i>${treeService.actionLabels[2] || localizedStrings.Rename}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div if.bind="meta.item.actions.delete" id="${meta.testId}_delete" click.delegate="onDeleteNode()">\r\n\t\t\t\t\t<i class="tree-quad ac ac-delete"></i>${treeService.actionLabels[3] || localizedStrings.Delete}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</td>\r\n\t</tr>\r\n\t<tr class="tree-separator ${treeService.hovered.separator && treeService.hovered.id==nodeId? \'\': \'hidden\'} ${meta.hidden==true && meta.item!=null ? \'tree-node-hidden\' : \'\'}"\r\n\tdragover.trigger="treeService.modifiable? showSeparator(): null"><td colspan="100%" drop.trigger="treeService.modifiable? dropNode($event, false): null"></td></tr>\r\n\t<template if.bind="meta.opened">\r\n\t\t<tr as-element="qp-tree-node" repeat.for="child of meta.children" node-id.bind="child" containerless></tr>\r\n\t</template>\r\n</template>\r\n'},"client-controls/controls/compound/tree/qp-tree-toolbar.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="tree-main-toolbar">\r\n\t<require from="../grid/elements/qp-filter-box"></require>\r\n\t<div class="tree-main-toolbar__caption ${hasToolbarItems ? \'tree-main-toolbar__caption--wide\' : \'\'}" if.bind="caption">${caption}</div>\r\n\t<qp-tool-bar if.bind="hasToolbarItems" config.bind="config" class="tree-main-toolbar__toolbar-container ${config.hideToolbarSearch ? \'tree-main-toolbar__toolbar-container--wide\' : \'\' }">\r\n\t</qp-tool-bar>\r\n\t<qp-filter-box id="${config.id}_text" class="tree-main-toolbar__filter-box filter-box" on-filter.call="onFilter(filter)" if.bind="!config.hideToolbarSearch"></qp-filter-box>\r\n</template>\r\n'},"client-controls/controls/compound/tree/qp-tree.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-tree.css"></require>\r\n\t<require from="./qp-tree-toolbar"></require>\r\n\t<div id="${config.id}_tree_root" class="tree-root">\r\n\t\t<qp-tree-toolbar view-model.ref="topToolbar" config.bind="topToolbarConfig" caption.bind="captionText" parent.bind="$this"></qp-tree-toolbar>\r\n\t\t<div class="tree-header ${hasVerticalScroll? \'scroll-padding\': \'\'}" ref="header" if.bind="treeService.extras && treeService.extras.length > 0 && !noData && !emptySearchResult">\r\n\t\t\t<div repeat.for="extra of treeService.extras" class="optional-item" css="right: ${extra.right}px; width: ${extra.width}px;">\r\n\t\t\t\t<qp-text-editor value="${extra.title}" config.bind="{enabled: false, textAlign: extra.textAlign}">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t\t<div ref="toolbar" if.bind="hasActions" class="tree-toolbar tree-quad hidden">\r\n\t\t\t\t<qp-icon imagesrc="svg:main@ellipsis"></qp-icon>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div ref="treeContainer" class="tree-table-container ${(config.width || config.height) && topToolbar.height ? \'has-size\': \'\'}">\r\n\t\t\t<div if.bind="emptySearchResult" class="empty-tree-search">No items found</div>\r\n\t\t\t<div class="tree-table-wrap ${emptySearchResult? \'hidden\': \'\'}" if.bind="!repaintTree" ref="treeTableWrap" scroll.trigger="!treeService.dynamic && hasHorizontalScroll? onTableWrapScroll($event): null">\r\n\t\t\t\t<table ref="treeTable" class="tree-container ${hasVerticalScroll? \'scroll-padding\': \'\'}" scroll.trigger="!treeService.dynamic? onTableScroll($event): null" as-element="qp-tree-node" view-model.ref="tree" node-id.bind="nodeId" cellspacing="0" cellpadding="0"\r\n\t\t\t\t\tid="${config.id}">\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/data-components/qp-data-component.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<compose view-model.bind="component" model.bind="model" containerless></compose>\r\n</template>\r\n\r\n'},"client-controls/controls/container/data-components/qp-data-components.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<template repeat.for="item of items">\r\n\t\t<compose view-model.bind="item.component" model.bind="item.model" containerless></compose>\r\n\t</template>\r\n</template>\r\n\r\n'},"client-controls/controls/container/field-pair/qp-field-pair.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<div style="position:relative; display:flex; gap:5px;">\r\n\t\t<div class="control-container size-s">\r\n\t\t\t<enhanced-compose if.bind="firstControlType" view-model.bind="firstControlType"\r\n\t\t\t\tconfig.bind="firstConfig" state.bind="firstState" value.two-way="firstState.value">\r\n\t\t\t</enhanced-compose>\r\n\t\t</div>\r\n\t\t<div class="control-container size-fit">\r\n\t\t\t<enhanced-compose if.bind="secondControlType" view-model.bind="secondControlType"\r\n\t\t\t\tconfig.bind="secondConfig" state.bind="secondState" value.two-way="secondState.value">\r\n\t\t\t</enhanced-compose>\r\n\t\t</div>\r\n\t</div>\r\n</template>'},"client-controls/controls/container/field/qp-field.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="qp-field ${controlState.visible === false || collapsed && (typeof pinned === \'undefined\' ? controlState.unpinned : !pinned) ? \'qp-field-collapsed\' : \'qp-field-expanded\'}\r\n\t\t${noLabel === true ? \'no-label\' : \'\'}">\r\n\t<require from="./qp-field.css"></require>\r\n\t<qp-tooltip if.bind="errorMessage" rule.bind="\'div[data-tooltip]\'" exclude.bind="\'enhanced-compose.main-control\'"></qp-tooltip>\r\n\r\n\t<div class="wrapper ${errorCssClass} ${controlState.required === true ? \'req-l\': \'\'} ${controlState.textValue ? \'\' : \'qp-field-empty\'}"\r\n\t\tshow.bind="controlState.visible === undefined || controlState.visible !== false" data-tooltip.bind="errorMessage" data-error-level.bind="errorLevel">\r\n\r\n\t\t<span  class="label-wrapper" show.bind="!noLabel">\r\n\t\t\t<slot name="label">\r\n\t\t\t\t<qp-label-light if.bind="!noLabel" caption.bind="label" control-id.bind="controlConfig.id"></qp-label-light>\r\n\t\t\t</slot>\r\n\t\t</span>\r\n\r\n\t\t<div class="control-container no-label ${controlSize || \'size-default\'}">\r\n\t\t\t<div if.bind="!noIcon" class="icon-container"></div>\r\n\t\t\t<enhanced-compose if.bind="controlState" view-model.bind="controlType || defaultControlType"\r\n\t\t\t\tconfig.bind="controlConfig" state.bind="controlState" value.two-way="controlState.value" control-id.bind="controlId" context.bind="context" proxy-expressions.bind="proxyExpressions"\r\n\t\t\t\tclass="main-control">\r\n\t\t\t</enhanced-compose>\r\n\r\n\t\t\t<slot></slot>\r\n\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/fieldset/qp-edit-field-parent.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../../dialog/edit-dialog-base/qp-edit-element.css"></require>\r\n\t<div if.bind="!isEditingName" class="edit-element  edit-element--parent  ${active ? \'edit-element--active\' : \'\'}"\r\n\t\tmouseenter.trigger="activate($event)" mouseleave.trigger="deactivate($event)"\r\n\t\tclick.delegate="processClick($event)" draggable="true" dragover.delegate="processDragOver($event)"\r\n\t\tdragleave.delegate="processDragLeave($event)" drop.delegate="processDrop($event)" ref="element">\r\n\t\t<div class="edit-element--group">\r\n\t\t\t<div>\r\n\t\t\t\t<div class="edit--element-name  edit--text  edit--text-l">${config.name}</div>\r\n\t\t\t\t<div class="edit--element-id  edit--text  edit--text-s">${config.id}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div if.bind="active || !config.visible" class="edit-element--group  edit-element--toolbar">\r\n\t\t\t<div class="edit-element-icon--container ${(active && config.visible) ? \'editable\' : \'\'}">\r\n\t\t\t\t<qp-icon class="edit-element-icon" if.bind="active && config.visible" imagesrc="svg:main@pencil"\r\n\t\t\t\t\tclick.delegate="startEditName($event)"></qp-icon>\r\n\t\t\t</div>\r\n\t\t\t<div class="edit-element-icon--container ${config.visible ? \'eye_opened\' : \'eye_closed\'}">\r\n\t\t\t\t<qp-icon class="edit-element-icon" imagesrc="${!config.visible ? \'svg:main@eyeClosed\' : \'svg:main@eye\'}"\r\n\t\t\t\t\tclick.delegate="switchVisible($event)"></qp-icon>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t</div>\r\n\t<div if.bind="isEditingName" class="fieldset--name-editor" ref="editingElement">\r\n\t\t<input type="text" class="edit--text-l" value.bind="editedName" blur.trigger="stopEditing($event)"\r\n\t\t\tkeyup.capture="processEditorKeyDown($event)" change.trigger="processEditorChange($event)" />\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/fieldset/qp-fieldset-edit.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template id="fieldset-edit-form">\r\n\t<require from="../../dialog/edit-dialog-base/qp-edit-dialog"></require>\r\n\t<require from="./qp-fieldset-edit.css"></require>\r\n\t<require from="../../dialog/edit-dialog-base/qp-edit-element"></require>\r\n\t<require from="./qp-edit-field-parent"></require>\r\n\t<qp-edit-dialog dialog-config.bind="baseDialogConfig">\r\n\t\t<div class="edit-column">\r\n\t\t\t<div class="edit-column-title  edit-column-left">\r\n\t\t\t\t<div class="thin-blue-line"></div><span class="title-with-line">${config.leftColumnTitle}</span>\r\n\t\t\t</div>\r\n\t\t\t<div class="edit-column-left  edit-column-separator  full-height">\r\n\t\t\t\t<div class="edit-field--searcher  ${leftFilterHasFocus ? \'edit-field--searcher--focus\' : \'\'}">\r\n\t\t\t\t\t<input type="text" value.bind="availableFieldsFilter" focus.trigger="focusLeftFilter()"\r\n\t\t\t\t\t\tblur.trigger="blurLeftFilter()" input.delegate="searchAvailableFields()"\r\n\t\t\t\t\t\tplaceholder="${msg.Search}" ref="leftFilterInput" />\r\n\t\t\t\t\t<div class="buttonsCont sprite-icon control-icon" icon="SelectorN" type="sel"\r\n\t\t\t\t\t\tclick.trigger="searchAvailableFields()">\r\n\t\t\t\t\t\t<div class="control-icon-img control-SelectorN">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="edit-column-content" dragover.delegate="processDragOver($event, \'available\')"\r\n\t\t\t\t\tdragend.delegate="processDragEnd($event)" ref="leftColumnElement">\r\n\t\t\t\t\t<div if.bind="leftDropZoneActive" class="edit-column-left-dropzone"\r\n\t\t\t\t\t\tdragleave.delegate="processDragLeave($event, \'available\')"\r\n\t\t\t\t\t\tdrop.delegate="processDropOnColumn($event, \'available\')"\r\n\t\t\t\t\t\tdragover.delegate="processDragOver($event, \'available\')"\r\n\t\t\t\t\t\tdragend.delegate="processDragEnd($event)"></div>\r\n\t\t\t\t\t<div repeat.for="parentField of currentAvailableFields">\r\n\t\t\t\t\t\t<div class="edit-view" if.bind="config.showHierarchy"\r\n\t\t\t\t\t\t\tclick.delegate="$parent.toggleCollapse(parentField)">\r\n\t\t\t\t\t\t\t<div class="edit--view-name--container ${parentField.collapsed ? \'collapsed\' : \'\'}">\r\n\t\t\t\t\t\t\t\t<div class="edit--view-name  edit--text  edit--text-l">${parentField.name}</div>\r\n\t\t\t\t\t\t\t\t<qp-icon class="edit--view--collapse"\r\n\t\t\t\t\t\t\t\t\timagesrc="${parentField.collapsed ? \'svg:main@treeArrowDown\' : \'svg:main@treeArrowUp\'}">\r\n\t\t\t\t\t\t\t\t</qp-icon>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="edit--view-id  edit--text  edit--text-s">${parentField.id}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div repeat.for="childField of parentField.children" show.bind="!parentField.collapsed">\r\n\t\t\t\t\t\t\t<qp-edit-element config.bind="childField" options.bind="leftEditFieldOptions"\r\n\t\t\t\t\t\t\t\tdrag-info.bind="$parent.$parent.dragInfo" actions.bind="leftItemActions">\r\n\t\t\t\t\t\t\t</qp-edit-element>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="edit-column">\r\n\t\t\t<div class="edit-column-title  edit-column-right">\r\n\t\t\t\t<div class="thin-blue-line"></div><span class="title-with-line">${config.rightColumnTitle}</span>\r\n\t\t\t</div>\r\n\t\t\t<div class="edit-column-right  full-height">\r\n\t\t\t\t<div class="edit-field--searcher  ${rightFilterHasFocus ? \'edit-field--searcher--focus\' : \'\'}">\r\n\t\t\t\t\t<input type="text" value.bind="choosenFieldsFilter" input.delegate="searchChoosenFields()"\r\n\t\t\t\t\t\tplaceholder="${msg.Search}" focus.trigger="focusRightFilter()" blur.trigger="blurRightFilter()"\r\n\t\t\t\t\t\tref="rightFilterInput" />\r\n\t\t\t\t\t<div class="buttonsCont sprite-icon control-icon" icon="SelectorN" type="sel"\r\n\t\t\t\t\t\tclick.trigger="searchChoosenFields()">\r\n\t\t\t\t\t\t<div class="control-icon-img control-SelectorN">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="edit-column-content" drop.delegate="processDropOnColumn($event, \'choosen\')"\r\n\t\t\t\t\tdragend.delegate="processDragEnd($event)"\r\n\t\t\t\t\tdragover.delegate="processDragOver($event,\'choosen\', undefined, true)"\r\n\t\t\t\t\tdragleave.delegate="processDragLeave($event,\'choosen\')" ref="rightColumnElement">\r\n\t\t\t\t\t<div repeat.for="parentField of currentChoosenFields">\r\n\t\t\t\t\t\t<qp-edit-field-parent if.bind="$parent.config.showHierarchy" config.bind="parentField"\r\n\t\t\t\t\t\t\tdrag-col-type.bind="$parent.dragInfo.colType">\r\n\t\t\t\t\t\t</qp-edit-field-parent>\r\n\t\t\t\t\t\t<div repeat.for="childField of parentField.children">\r\n\t\t\t\t\t\t\t<qp-edit-element config.bind="childField"\r\n\t\t\t\t\t\t\t\tupper-dropzone-id.bind="$parent.$parent.rightDropZoneBeforeId"\r\n\t\t\t\t\t\t\t\tbottom-dropzone-id.bind="$parent.$parent.rightDropZoneAfterId"\r\n\t\t\t\t\t\t\t\tdrag-info.bind="$parent.$parent.dragInfo" options.bind="rightEditFieldOptions"\r\n\t\t\t\t\t\t\t\tactions.bind="rightItemActions">\r\n\t\t\t\t\t\t\t</qp-edit-element>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</qp-edit-dialog>\r\n</template>\r\n'},"client-controls/controls/container/fieldset/qp-fieldset-layout.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-fieldset-layout.css"></require>\r\n\t<div class="qp-fieldset-layout-root v-stack">\r\n\t\t<div repeat.for="row of rows" class="qp-fieldset-layout h-stack ${row.verticalFit ? \'stretch\': \'\'}"\r\n\t\t\tcss="${!!minWidth ? `min-width: ${minWidth};`: \'\'}">\r\n\t\t\t<template repeat.for="field of row.fields">\r\n\t\t\t\t<div class="col-sm-${field.position.small.marginLeftColumns} col-md-${field.position.medium.marginLeftColumns} col-lg-${field.position.large.marginLeftColumns}"></div>\r\n\t\t\t\t<div class="h-stack col-sm-${field.position.small.columns} col-md-${field.position.medium.columns} col-lg-${field.position.large.columns}">\r\n\t\t\t\t\t<div if.bind="useMulti" class="qp-fieldset-layout-checkbox-panel qp-field">\r\n\t\t\t\t\t\t<qp-check-box class="qp-fieldset-layout-checkbox" value.two-way="field.state.enabled"\r\n\t\t\t\t\t\t\tconfig.bind="{ enabled: !field.state.required }"></qp-check-box>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<qp-field class="col-sm-12 col-md-12 col-lg-12" control-id="ed${field.viewName}-${field.name}"\r\n\t\t\t\t\t\tcontrol-type.bind="field.controlType" no-label.bind="field.noLabel"\r\n\t\t\t\t\t\tcontrol-state.bind="field.state">\r\n\t\t\t\t\t</qp-field>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="col-sm-${field.position.small.marginRightColumns} col-md-${field.position.medium.marginRightColumns} col-lg-${field.position.large.marginRightColumns}"></div>\r\n\t\t\t</template>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/fieldset/qp-fieldset.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="qp-fieldset ${viewMode !== \'edit\' && (!title || captionHidden) ? \'fieldset-titleless\' : \'\'} ${viewMode === \'edit\' ? \'qp-fieldset-configurable\' : \'\'} ${collapsed && (!title || captionHidden) && !hasNotCollapsedFields ? \'fully-collapsed\' : \'\'}" show.bind="fieldsetVisible">\r\n\t<require from="./qp-fieldset.css"></require>\r\n\t<require from="./inline-view"></require>\r\n\t<require from="./qp-fieldset-edit"></require>\r\n\r\n\t<fieldset if.bind="fieldsetVisible" id="${id}" class="${collapsed?\'collapsed\':\'\'}">\r\n\t\t<div if.bind="viewMode === \'edit\' || (title && !captionHidden)" click.delegate="toggleShrinking()" class="qp-fieldset-caption">\r\n\t\t\t<qp-caption caption="${title}" hide-caption.bind="captionHidden"  view-mode.bind="viewMode" hidden-by-prefs.one-way="captionHiddenByPrefs"></qp-caption>\r\n\t\t\t<qp-icon if.bind="title && !captionHidden && collapsible" class="qp-fieldset-toggle" imagesrc="${collapsed ? \'svg:main@treeArrowDown\' : \'svg:main@treeArrowUp\'}"></qp-icon>\r\n\t\t\t<div if.bind="viewMode === \'edit\'" class="qp-fieldset-caption--dots"></div>\r\n\t\t</div>\r\n\r\n\t\t<template if.bind="Fields">\r\n\t\t\t<template repeat.for="df of orderedFields">\r\n\t\t\t\t<let state.bind="getFieldState(df)"></let>\r\n\t\t\t\t<let visible.bind="getFieldVisibility(state.visible, df)"></let>\r\n\t\t\t\t<let size.bind="(!state.suppressLabel && state.displayName) ? controlSize : \'\'"></let>\r\n\t\t\t\t<let view-name="$parent.viewName"></let>\r\n\r\n\t\t\t\t<template if.bind="df.template">\r\n\t\t\t\t\t<inline-view template.bind="df.template" context.bind="$parent.inlineContext"></inline-view>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template else>\r\n\t\t\t\t\t<qp-field if.bind="visible" control-id="ed${df.viewName ? df.viewName : viewName}-${df.name}"\r\n\t\t\t\t\t\tcontrol-type.bind="df.controlType" no-label.bind="df.noLabel"\r\n\t\t\t\t\t\tcontrol-state.bind="state" control-size.bind="size"\r\n\t\t\t\t\t\tcollapsed.one-way="collapsed" pinned.one-way="getFieldPinned(df)"\r\n\t\t\t\t\t\ttab-index.one-way="getFieldTabIndex(df)">\r\n\t\t\t\t\t</qp-field>\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t</template>\r\n\r\n\t\t<template if.bind="!Fields && view">\r\n\t\t\t<template repeat.for="df of DynamicFields">\r\n\t\t\t\t<let state.bind="fields.get(df.name)"></let>\r\n\r\n\t\t\t\t<template if.bind="replaceElements.has(df.name)">\r\n\t\t\t\t\t<inline-view template.bind="replaceElements.get(df.name)" context.bind="$parent.inlineContext"></inline-view>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t\t<template else>\r\n\t\t\t\t\t<template if.bind="$first && insertElements.has(\'\')">\r\n\t\t\t\t\t\t<inline-view template.bind="insertElements.get(\'\')" context.bind="$parent.inlineContext"></inline-view>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<let visible.bind="getFieldVisibility(state.visible, df)"></let>\r\n\t\t\t\t\t<let size.bind="(!state.suppressLabel && state.displayName) ? controlSize : \'\'"></let>\r\n\r\n\t\t\t\t\t<template if.bind="state.template">\r\n\t\t\t\t\t\t<inline-view template.bind="state.template" context.bind="view"></inline-view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t<qp-field control-id="ed${viewName.replace(\'$\', \'_\')}-${df.name}" if.bind="visible"\r\n\t\t\t\t\t\t\tcontrol-state.bind="state" control-size.bind="size"\r\n\t\t\t\t\t\t\tcollapsed.one-way="collapsed" pinned.one-way="getFieldPinned(df)"\r\n\t\t\t\t\t\t\ttab-index.one-way="getFieldTabIndex(df)">\r\n\t\t\t\t\t\t</qp-field>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t<template if.bind="insertElements.has(df.name)">\r\n\t\t\t\t\t\t<inline-view template.bind="insertElements.get(df.name)" context.bind="$parent.inlineContext"></inline-view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</template>\r\n\t\t\t</template>\r\n\t\t</template>\r\n\r\n\t\t<template if.bind="!Fields && !view" replaceable part="content">\r\n\t\t</template>\r\n\t</fieldset>\r\n\r\n\t<div class="qp-fieldset-icon" if.bind="viewMode === \'edit\'" click.delegate="showEditDialog()">\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/inline-field/qp-inline-field.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="qp-inline-field ${(isDisabled || controlState.type == 3) ? \'marker\' : ((controlType || defaultControlType) + \'-inline\')}">\r\n\t<require from="./qp-inline-field.css"></require>\r\n\t<div if.bind="isDisabled || controlState.type == 3"\r\n\t\tclass="focus-marker" focus-elem tabindex="0" click.delegate="processCheckBoxClick($event)"\r\n\t\tkeydown.delegate="processCheckBoxKeyDown($event)">\r\n\t</div>\r\n\t<enhanced-compose else class="control-wrapper" view-model.bind="controlType || defaultControlType"\r\n\t\tconfig.bind="controlConfig" state.bind="controlState" value.two-way="controlState.value">\r\n\t</enhanced-compose>\r\n</template>\r\n'},"client-controls/controls/container/resizer/qp-resizer.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../../styles.scss"></require>\r\n\t<require from="./qp-resizer.scss"></require>\r\n\r\n\t<div class="qp-resizer ${invisibleValue ? \' qp-resizer--invisible\' : \'\'}${disabledValue ? \' qp-resizer--disabled\' : \'\'}" css="${cssPosition}${styleValue}">\r\n\t\t<div class="qp-resizer__container" css="${cssPosition}">\r\n\t\t\t<div class="qp-resizer__content" ref="contentElement">\r\n\t\t\t\t<slot></slot>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclass="qp-resizer__dragger"\r\n\t\t\t\taria-grabbed="${isDragged}"\r\n\t\t\t\tref="draggerElement"\r\n\t\t\t\tpointerdown.delegate="onStartMoving($event)"\r\n\t\t\t>\r\n\t\t\t\t<div class="qp-resizer__icon">\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@dragdropMarkFlat"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/splitter/qp-splitter.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../../styles.scss"></require>\r\n\t<require from="./qp-splitter.css"></require>\r\n\r\n\t<div class="qp-splitter qp-splitter-${splitValue}${fadingValue ? \' qp-splitter--fading\' : \'\'}${invisibleValue ? \' qp-splitter--invisible\' : \'\'}${disabledValue ? \' qp-splitter--disabled\' : \'\'}${reversedValue ? \' qp-splitter--reversed\' : \'\'}${unmarginValue ? \' qp-splitter--unmargin\' : \'\'}" css="${styleValue}" ref="layoutElement">\r\n\t\t<div class="qp-splitter-first" ref="firstElement" css="${reversedValue ? \'\' : cssPosition} ${firstPaneDisplayed ? \'\' : cssCollapse}">\r\n\t\t\t<div if.bind="firstHeaderDisplayed" click.delegate="toggleCollapseFirst()" class="qp-fieldset-caption">\r\n\t\t\t\t<div class="qp-caption">${firstHeaderValue}</div>\r\n\t\t\t\t<qp-icon class="qp-fieldset-toggle" imagesrc="svg:main@treeArrowUp"></qp-icon>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-splitter-pane-inner">\r\n\t\t\t\t<slot name="A"></slot>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="qp-splitter-bar" ref="draggerElement"\r\n\t\t\tpointerdown.delegate="startMoving($event)"\r\n\t\t\tpointerup.delegate="stopMoving($event)"\r\n\t\t>\r\n\t\t\t<div class="qp-splitter-line"></div>\r\n\t\t\t<div if.bind="!invisibleValue" class="qp-splitter-buttons">\r\n\t\t\t\t<div class="qp-splitter-button qp-splitter-button-first" if.bind="firstPaneDisplayed && !disableCollapseFirstValue"\r\n\t\t\t\t\tclick.delegate="toggleCollapseFirst()"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div if.bind="secondHeaderDisplayedCollapsed" class="qp-caption">${secondHeaderValue}</div>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowDown"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="qp-splitter-button qp-splitter-dragdrop" if.bind="eachPaneDisplayed"\r\n\t\t\t\t>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@dragdropMarkFlat"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="qp-splitter-button qp-splitter-button-second" if.bind="secondPaneDisplayed && !disableCollapseSecondValue"\r\n\t\t\t\t\tclick.delegate="toggleCollapseSecond()"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div if.bind="firstHeaderDisplayedCollapsed" class="qp-caption">${firstHeaderValue}</div>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowDown"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-splitter-line"></div>\r\n\t\t</div>\r\n\t\t<div class="qp-splitter-second" css="${reversedValue ? cssPosition : \'\'} ${ secondPaneDisplayed ? \'\' : cssCollapse };">\r\n\t\t\t<div if.bind="secondHeaderDisplayed" click.delegate="toggleCollapseSecond()" class="qp-fieldset-caption">\r\n\t\t\t\t<div class="qp-caption">${secondHeaderValue}</div>\r\n\t\t\t\t<qp-icon class="qp-fieldset-toggle" imagesrc="svg:main@treeArrowDown"></qp-icon>\r\n\t\t\t</div>\r\n\t\t\t<div class="qp-splitter-pane-inner">\r\n\t\t\t\t<slot name="B"></slot>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/tabbar/qp-tabbar-edit.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template id="tabbar-edit-form">\r\n\t<require from="../../dialog/edit-dialog-base/qp-edit-dialog"></require>\r\n\t<require from="./qp-tabbar-edit.css"></require>\r\n\t<require from="../../dialog/edit-dialog-base/qp-edit-element"></require>\r\n\t<qp-edit-dialog dialog-config.bind="baseDialogConfig">\r\n\t\t<div class="edit-section">\r\n\t\t\t<div class="edit-section-title">\r\n\t\t\t\t<div class="thin-blue-line"></div><span class="title-with-line">${config.topSectionTitle}</span>\r\n\t\t\t</div>\r\n\t\t\t<div class="edit-section-content  ${visibleTabs.length === 0?\'edit-section-empty\'+(topDropZone.sectionZoneActive?\'edit-section-dropzone\':\'\'):\'\'}"\r\n\t\t\t\tdrop.delegate="processDropOnSection($event, \'choosen\')" dragend.delegate="processDragEnd($event)"\r\n\t\t\t\tdragover.delegate="processDragOver($event,\'choosen\', undefined, true)"\r\n\t\t\t\tdragleave.delegate="processDragLeave($event,\'choosen\')" ref="topSectionElement">\r\n\t\t\t\t<div repeat.for="tab of visibleTabs">\r\n\t\t\t\t\t<qp-edit-element config.bind="tab" upper-dropzone-id.bind="$parent.topDropZone.beforeId"\r\n\t\t\t\t\t\tbottom-dropzone-id.bind="$parent.topDropZone.afterId" drag-info.bind="$parent.dragInfo"\r\n\t\t\t\t\t\toptions.bind="topItemOptions" actions.bind="topItemActions">\r\n\t\t\t\t\t</qp-edit-element>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="edit-section  edit-section-bottom">\r\n\t\t\t<div class="edit-section-title">\r\n\t\t\t\t<div class="thin-blue-line"></div><span class="title-with-line">${config.bottomSectionTitle}</span>\r\n\t\t\t</div>\r\n\t\t\t<div class="edit-section-content  edit-section-content-bottom  ${hiddenTabs.length === 0?\'edit-section-empty\'+(bottomDropZone.sectionZoneActive?\'  edit-section-dropzone\':\'\'):\'\'}"\r\n\t\t\t\tdrop.delegate="processDropOnSection($event, \'available\')" dragend.delegate="processDragEnd($event)"\r\n\t\t\t\tdragover.delegate="processDragOver($event,\'available\', undefined, true)"\r\n\t\t\t\tdragleave.delegate="processDragLeave($event,\'available\')" ref="bottomSectionElement">\r\n\t\t\t\t<div repeat.for="tab of hiddenTabs">\r\n\t\t\t\t\t<qp-edit-element config.bind="tab" upper-dropzone-id.bind="$parent.bottomDropZone.beforeId"\r\n\t\t\t\t\t\tbottom-dropzone-id.bind="$parent.bottomDropZone.afterId" drag-info.bind="$parent.dragInfo"\r\n\t\t\t\t\t\toptions.bind="bottomItemOptions" actions.bind="bottomItemActions">\r\n\t\t\t\t\t</qp-edit-element>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</qp-edit-dialog>\r\n</template>\r\n'},"client-controls/controls/container/tabbar/qp-tabbar.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-tabbar.css"></require>\r\n\t<require from="./qp-tab"></require>\r\n\r\n\t<div class="qp-tabbar" id="${config.id}_tabbar">\r\n\t\t<div class="qp-tabbar-header" sticky sticky-always>\r\n\t\t\t<div class="qp-tabbar-wrapper" ref="headerElement">\r\n\t\t\t\t<div repeat.for="tab of renderedTabs"\r\n\t\t\t\t\tclass="tab-header-container  ${$parent.visibleDropZone.afterId === tab.id?\'tab-header-container-reverse\':\'\'} ${tab.isEmpty ? \'qp-tab-empty\': \'\'}">\r\n\t\t\t\t\t<div if.bind="$parent.visibleDropZone.beforeId === tab.id || $parent.visibleDropZone.afterId === tab.id"\r\n\t\t\t\t\t\tclass="qp-tabbar-dropzone  ${$parent.visibleDropZone.afterId === tab.id?\'qp-tabbar-dropzone-after\':\'qp-tabbar-dropzone-before\'}">\r\n\t\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowDown" class="qp-tabbar-dropzone-down"></qp-icon>\r\n\t\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowUp" class="qp-tabbar-dropzone-up"></qp-icon>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id="${config.id}_${tab.id}_tabbar"\r\n\t\t\t\t\t\tclass="qp-tabbar-tab  ${tab.id===hoveringTabId ? \'qp-tabbar-hover\' : \'\'}  ${tab.id===activeId ? \'qp-tabbar-active\' : \'\'}  ${tab.id===draggableTab.id && dragStarted ? \'qp-tabbar-dragged-source\' : \'\'}  ${getErrorStyle(tab.errorInfo)}"\r\n\t\t\t\t\t\ttabid.bind="tab.id & attr" ref="tab.headerHost" click.delegate="showTab(tab.id)"\r\n\t\t\t\t\t\tpointerenter.trigger="onPointerEnter(tab.id)" pointerleave.trigger="onPointerLeave(tab.id)"\r\n\t\t\t\t\t\tpointerdown.delegate="onPointerDown($event, tab)">\r\n\t\t\t\t\t\t<qp-icon if.bind="tab.errorInfo.level > 1" imagesrc="svg:${getErrorIcon(tab.errorInfo)}" class="tab-header--icon"></qp-icon>\r\n\t\t\t\t\t\t<div class="${tab.errorInfo.level > 1 ? \'tab-header--with-error\' : \'\'}">${tab.captionText}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div show.bind="dragStarted" class="dragged-floater" ref="dragElement"\r\n\t\t\t\t\tcss="top: ${dragFloaterRect.top}px; left:${dragFloaterRect.left}px">\r\n\t\t\t\t\t${draggableTab.captionText}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="right-tab-part" css="margin-left: ${rightTabPartMargin + 16}px" ref="rightTabPart">\r\n\t\t\t\t<div if.bind="rightTabHeader" class="tab-header-container ${rightTabHeader.isEmpty ? \'qp-tab-empty\': \'\'}">\r\n\t\t\t\t\t<div id="${config.id}_${rightTabHeader.id}_tabbar"\r\n\t\t\t\t\t\tclass="qp-tabbar-tab  ${rightTabHeader.id===hoveringTabId ? \'qp-tabbar-hover\' : \'\'}  ${rightTabHeader.id===activeId && rightTabHeader.id!==draggableTab.id ? \'qp-tabbar-active\' : \'\'}  ${rightTabHeader.id===draggableTab.id && dragStarted ? \'qp-tabbar-dragged-source\' : \'\'}  ${getErrorStyle(rightTabHeader.errorInfo)}"\r\n\t\t\t\t\t\tref="rightTabHeader.headerHost" click.delegate="showTab(rightTabHeader.id)"\r\n\t\t\t\t\t\tpointerenter.trigger="onPointerEnter(rightTabHeader.id)"\r\n\t\t\t\t\t\tpointerleave.trigger="onPointerLeave(rightTabHeader.id)"\r\n\t\t\t\t\t\tpointerdown.delegate="onPointerDown($event, rightTabHeader)">\r\n\t\t\t\t\t\t<qp-icon if.bind="rightTabHeader.errorInfo.level > 1" imagesrc="svg:${getErrorIcon(rightTabHeader.errorInfo)}"\r\n\t\t\t\t\t\t\tclass="tab-header--icon" pointerenter.trigger="onPointerEnter(rightTabHeader.id)"\r\n\t\t\t\t\t\t\tpointerleave.trigger="onPointerLeave(rightTabHeader.id)"></qp-icon>\r\n\t\t\t\t\t\t<div class="${rightTabHeader.errorInfo.level > 1 ? \'tab-header--with-error\' : \'\'}"\r\n\t\t\t\t\t\t\tpointerenter.trigger="onPointerEnter(rightTabHeader.id)"\r\n\t\t\t\t\t\t\tpointerleave.trigger="onPointerLeave(rightTabHeader.id)">\r\n\t\t\t\t\t\t\t${rightTabHeader.captionText}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div show.bind="dotsVisible || dragStarted" ref="menuOpener"\r\n\t\t\t\t\tcss="top: ${dragFloaterRect.top}; left: ${dragFloaterRect.left}"\r\n\t\t\t\t\tdragover.delegate="dotsDragOver($event, tab)"\r\n\t\t\t\t\tpointerenter.trigger="onDotsPointerEnter()"\r\n\t\t\t\t\tpointerleave.trigger="onDotsPointerLeave()"\r\n\t\t\t\t\tclass="qp-tabbar-opener ${menuOpened ? \'qp-tabbar-opened\': \'\'}  ${getErrorStyle(hiddenTabsError)}  ${dotsHovering ? \'qp-tabbar-opener--hover\': \'\'}"\r\n\t\t\t\t\tpointerdown.capture="toggleMenu($event)">\r\n\t\t\t\t\t<qp-icon if.bind="hiddenTabsError.level > 1" imagesrc="svg:${getErrorIcon(hiddenTabsError)}" class="tab-header--icon"></qp-icon>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@ellipsis" class="qp-tabbar-opener--ellipsis"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id="${config.id}_config_opener" class="qp-tabbar-config-icon" if.bind="viewMode === \'edit\'" click.delegate="showEditDialog()">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="right-tab-part-placeholder" css="min-width: ${rightTabPartWidth}px"></div>\r\n\t\t</div>\r\n\t\t<div class="qp-tabbar-content" id="${config.id}_${activeId}_content">\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\r\n\t<div if.bind="menuOpened" class="qp-tabbar-shadow" pointerdown.delegate="toggleMenu($event)" ref="tabbarMenu">\r\n\t\t<div glue-to.bind="menuOpener" portal class="qp-tabbar-menu" pointerdown.delegate="onMenuClick($event)"\r\n\t\t\tscroll.trigger="onMenuScroll($event)">\r\n\t\t\t<div repeat.for="tab of hiddenHeaders"\r\n\t\t\t\tclass="hidden-tab-header-container  ${$parent.hiddenDropZone.afterId === tab.id?\'hidden-tab-header-container-reverse\':\'\'} ${tab.isEmpty ? \'qp-tab-empty\': \'\'}">\r\n\t\t\t\t<div if.bind="$parent.hiddenDropZone.beforeId === tab.id || $parent.hiddenDropZone.afterId === tab.id"\r\n\t\t\t\t\tclass="qp-tabbar-hidden-dropzone  ${$parent.hiddenDropZone.afterId === tab.id?\'qp-tabbar-hidden-dropzone-after\':\'qp-tabbar-hidden-dropzone-before\'}">\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowRight" class="qp-tabbar-dropzone-right"></qp-icon>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowLeft" class="qp-tabbar-dropzone-left"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ref="tab.headerHost" tabid.bind="tab.id & attr" id="${config.id}_${tab.id}_hidden"\r\n\t\t\t\t\tclass="qp-tabbar-menu-item  ${tab.id===hoveringTabId ? \'qp-tabbar-menu-item-hover\' : \'\'}  ${getErrorStyle(tab.errorInfo)}"\r\n\t\t\t\t\tclick.delegate="showTab(tab.id)" pointerenter.trigger="onPointerEnter(tab.id)"\r\n\t\t\t\t\tpointerleave.trigger="onPointerLeave(tab.id)" pointerdown.delegate="onPointerDown($event, tab)">\r\n\t\t\t\t\t<div class="${tab.errorInfo.level > 1 ? \'tab-header--with-error\' : \'\'}">${tab.captionText}</div>\r\n\t\t\t\t\t<qp-icon if.bind="tab.errorInfo.level > 1" imagesrc="svg:${getErrorIcon(tab.errorInfo)}" class="tab-header--icon"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="(userHiddenHeadersAvailable || dragStarted) && hiddenHeaders.length > 0" class="tabbar-menu--separator--margin">\r\n\t\t\t\t<div>&nbsp;</div>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="userHiddenHeadersAvailable || dragStarted" class="tabbar-menu--separator">\r\n\t\t\t\t${msg.TabConfigurationHiddenTabs}\r\n\t\t\t</div>\r\n\t\t\t<div repeat.for="tab of userHiddenHeaders"\r\n\t\t\t\tclass="hidden-tab-header-container  ${$parent.userHiddenDropZone.afterId === tab.id?\'hidden-tab-header-container-reverse\':\'\'} ${tab.isEmpty ? \'qp-tab-empty\': \'\'}">\r\n\t\t\t\t<div if.bind="$parent.userHiddenDropZone.beforeId === tab.id || $parent.userHiddenDropZone.afterId === tab.id"\r\n\t\t\t\t\tclass="qp-tabbar-hidden-dropzone  ${$parent.userHiddenDropZone.afterId === tab.id?\'qp-tabbar-hidden-dropzone-after\':\'qp-tabbar-hidden-dropzone-before\'}">\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowRight" class="qp-tabbar-dropzone-right"></qp-icon>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowLeft" class="qp-tabbar-dropzone-left"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ref="tab.headerHost" tabid.bind="tab.id & attr" id="${config.id}_${tab.id}_hidden"\r\n\t\t\t\t\tclass="qp-tabbar-menu-item  ${tab.id===hoveringTabId ? \'qp-tabbar-menu-item-hover\' : \'\'}  ${getErrorStyle(tab.errorInfo)}"\r\n\t\t\t\t\tclick.delegate="showTab(tab.id)" pointerenter.trigger="onPointerEnter(tab.id)"\r\n\t\t\t\t\tpointerleave.trigger="onPointerLeave(tab.id)" pointerdown.delegate="onPointerDown($event, tab)">\r\n\t\t\t\t\t<div class="${tab.errorInfo.level > 1 ? \'tab-header--with-error\' : \'\'}">${tab.captionText}</div>\r\n\t\t\t\t\t<qp-icon if.bind="tab.errorInfo.level > 1" imagesrc="svg:${getErrorIcon(tab.errorInfo)}" class="tab-header--icon"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="userHiddenHeaders.length === 0 && dragStarted" class="tabbar-menu--blank"\r\n\t\t\t\tref="menuBlankElement">\r\n\t\t\t\t<div if.bind="hiddenEmptyDropZoneActive"\r\n\t\t\t\t\tclass="qp-tabbar-hidden-dropzone  qp-tabbar-hidden-dropzone-empty">\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowRight" class="qp-tabbar-dropzone-right"></qp-icon>\r\n\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowLeft" class="qp-tabbar-dropzone-left"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/container/wizard/qp-wizard.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-wizard.css"></require>\r\n\t<require from="../tabbar/qp-tab"></require>\r\n\r\n\t<div class="qp-wizard" style="height: 100%;" id.bind="id & attr">\r\n\t\t<div class="qp-wizard-body">\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t\t<div class="qp-wizard-footer">\r\n\t\t\t<qp-button config.bind="{ id: id+\'_cancel_btn\', text: (config.buttons && config.buttons.cancel) || Msg.Cancel, hidden: false, action: config.cancelCommand}"\r\n\t\t\tclick.delegate="processCancel()"></qp-button>\r\n\t\t\t<qp-button config.bind="{ id: id+\'_prev_btn\', text: (config.buttons && config.buttons.prev) || Msg.Previous, hidden: false, disabled: !tabs.length || activeTabId===tabs[0].id, action: config.prevCommand}"\r\n\t\t\tclick.delegate="processPrev()"></qp-button>\r\n\t\t\t<qp-button class="major-button" config.bind="{ id: id+\'_next_btn\', text: (config.buttons && config.buttons.next) || Msg.Next, disabled: config.disableNext, hidden: !tabs.length || activeTabId===tabs[tabs.length-1].id, action: config.nextCommand }"\r\n\t\t\tclick.delegate="processNext()"></qp-button>\r\n\t\t\t<qp-button class="major-button" config.bind="{ id: id+\'_save_btn\', text: (config.buttons && config.buttons.done) || Msg.Done, hidden: !tabs.length || activeTabId!==tabs[tabs.length-1].id, action: config.saveCommand }"\r\n\t\t\tclick.delegate="processSave()"></qp-button>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/dialog/alert/qp-alert.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../base-dialog/movable"></require>\r\n\t<require from="../base-dialog/base-dialog.css"></require>\r\n\t<require from="./qp-alert-dialog.css"></require>\r\n\r\n\t<ux-dialog class="dialog qp-dialog qp-alert-dialog" ref="dialogElement" id="messageBox">\r\n\t\t<ux-dialog-header if.bind="!config.hideHeader" show-close-button.bind="false">\r\n\t\t\t<div class="qp-dialog-header" movable.bind="dialogElement">\r\n\t\t\t\t<div class="qp-dialog-title">${config ? config.title : \'\'}</div>\r\n\t\t\t\t<qp-icon if.bind="!hideCloseButton" class="qp-dialog-close" imagesrc="svg:main@close"\r\n\t\t\t\t\tclick.delegate="controller.cancel({force:true})" pointerdown.capture="stopProcessing($event)">\r\n\t\t\t\t</qp-icon>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-header>\r\n\t\t<ux-dialog-body>\r\n\t\t\t<div>\r\n\t\t\t\t<p>${config.message}</p>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-body>\r\n\t\t<ux-dialog-footer class="qp-dialog-footer">\r\n\t\t\t<div if.bind="config.buttons === alertButtons.Ok">\r\n\t\t\t\t<qp-button class="major-button" click.delegate="controller.ok(config.okButtonResult || alertResults.Confirm)" config.bind="{ id: \'messageBox_btnOk\', text: config.okButtonText || Msg.Confirm, hidden: false}"></qp-button>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="config.buttons === alertButtons.OkCancel">\r\n\t\t\t\t<qp-button class="major-button" click.delegate="controller.ok(config.okButtonResult || alertResults.Confirm)" config.bind="{ id: \'messageBox_btnOk\', text: config.okButtonText || Msg.Confirm, hidden: false}"></qp-button>\r\n\t\t\t\t<qp-button click.delegate="controller.cancel()" config.bind="{ id: \'messageBox_btnCancel\', text: config.cancelButtonText || Msg.Cancel}"></qp-button>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="config.buttons === alertButtons.YesNo">\r\n\t\t\t\t<qp-button class="major-button" click.delegate="controller.ok(config.yesButtonResult || alertResults.Yes)" config.bind="{ id: \'messageBox_btnYes\', text: config.yesButtonText || Msg.Yes, hidden: false}"></qp-button>\r\n\t\t\t\t<qp-button click.delegate="controller.ok(config.noButtonResult || alertResults.No)" config.bind="{ id: \'messageBox_btnNo\', text: config.noButtonText || Msg.No, hidden: false}"></qp-button>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="config.buttons === alertButtons.YesNoCancel">\r\n\t\t\t\t<qp-button class="major-button" click.delegate="controller.ok(config.yesButtonResult || alertResults.Yes)" config.bind="{ id: \'messageBox_btnYes\', text: config.yesButtonText || Msg.Yes, hidden: false}"></qp-button>\r\n\t\t\t\t<qp-button click.delegate="controller.ok(config.noButtonResult || alertResults.No)" config.bind="{ id: \'messageBox_btnNo\', text: config.noButtonText || Msg.No, hidden: false}"></qp-button>\r\n\t\t\t\t<qp-button click.delegate="controller.cancel()" config.bind="{ id: \'messageBox_btnCancel\', text: config.cancelButtonText || Msg.Cancel}"></qp-button>\r\n\t\t\t</div>\r\n\t\t\t<div if.bind="!config.buttons">\r\n\t\t\t\t<qp-button class="major-button" click.delegate="controller.ok(config.okButtonResult || alertResults.Confirm)"\r\n\t\t\t\t\tconfig.bind="{ id: \'messageBox_btnOk\', text: config.okButtonText || Msg.Confirm, hidden: false}">\r\n\t\t\t\t</qp-button>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-footer>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/dialog/base-dialog/qp-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./base-dialog.css"></require>\r\n\t<require from="../../container/fieldset/inline-view"></require>\r\n\t<require from="./qp-resizable"></require>\r\n\t<require from="./movable"></require>\r\n\r\n\t<ux-dialog class="dialog qp-dialog ${config.cssClass ? config.cssClass : (!width ? \'col-sm-12 col-md-6 col-lg-4\' : \'\')} ${(height || maximized) ? \'\' : \'qp-dialog--auto-height\'}"\r\n\t\tid="${config.id || config.templateId}" closedialog.capture="controller.cancel()" savedialog.capture="controller.ok()"\r\n\t\tchangeconfig.capture="processChangeConfig($event)" ref="dialogElement" css="--qp-dialog-offset: ${offsetTop}; width: ${resizerVM.width}">\r\n\t\t<qp-resizable element.bind="element"\r\n\t\t\tmaximized.bind="maximized" width.bind="width" height.bind="height"\r\n\t\t\tresizable-config.bind = "config.resizableConfig"\r\n\t\t\thide-maximizer.bind="config.hideMaximizer"\r\n\t\t\tview-model.ref="resizerVM">\r\n\t\t\t<ux-dialog-header if.bind="!config.hideHeader" show-close-button.bind="false">\r\n\t\t\t\t<div class="qp-dialog-header" movable.bind="dialogElement" dblclick.delegate="maximize()">\r\n\t\t\t\t\t<div class="qp-dialog-title">\r\n\t\t\t\t\t\t${config.caption}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<qp-icon if.bind="!config.hideMaximizer" class="qp-dialog-maximize" imagesrc="svg:main@fullscreen"\r\n\t\t\t\t\t\tid="${config.id || config.templateId}_maximizer"\r\n\t\t\t\t\t\tclick.delegate="maximize()" pointerdown.capture="stopProcessing($event)">\r\n\t\t\t\t\t</qp-icon>\r\n\t\t\t\t\t<qp-icon if.bind="!config.hideCloseButton" class="qp-dialog-close" imagesrc="svg:main@close"\r\n\t\t\t\t\t\tid="${config.id || config.templateId}_closer"\r\n\t\t\t\t\t\tclick.delegate="controller.cancel({force:true})" pointerdown.capture="stopProcessing($event)">\r\n\t\t\t\t\t</qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</ux-dialog-header>\r\n\t\t\t<ux-dialog-body>\r\n\t\t\t\t<div class="dialog-body-content v-stack">\r\n\t\t\t\t\t<template if.bind="!!template">\r\n\t\t\t\t\t\t<inline-view template.bind="template" context.bind="config.context"></inline-view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t<compose view-model.bind="config.templateViewModel" model.bind="config.context" view-model.ref="viewModelCompose" containerless></compose>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</div>\r\n\t\t\t</ux-dialog-body>\r\n\t\t\t<ux-dialog-footer if.bind="footerTemplate">\r\n\t\t\t\t<div class="dialog-footer-content">\r\n\t\t\t\t\t<inline-view template.bind="footerTemplate" context.bind="config.context" context-container="false">\r\n\t\t\t\t</inline-view>\r\n\t\t\t\t</div>\r\n\t\t\t</ux-dialog-footer>\r\n\t\t</qp-resizable>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/dialog/base-dialog/qp-resizable.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-resizable.css"></require>\r\n\t<div class="qp-resizable ${ maximized ? \'qp-resizable-maximized\' : \'\' }"\r\n\t     ref="resizableElement" css="width: ${width}; height: ${height}">\r\n\t\t<div class="qp-rz qp-rz-nw" pointerdown.delegate="startResizing(\'nw\', $event)"></div>\r\n\t\t<div class="qp-rz qp-rz-n" pointerdown.delegate="startResizing(\'n\', $event)"></div>\r\n\t\t<div class="qp-rz qp-rz-ne" pointerdown.delegate="startResizing(\'ne\', $event)"></div>\r\n\t\t<div class="qp-rz qp-rz-w" pointerdown.delegate="startResizing(\'w\', $event)"></div>\r\n\t\t<div class="qp-rz-center">\r\n\t\t\t<template replaceable part="content"></template>\r\n\t\t</div>\r\n\t\t<div class="qp-rz qp-rz-e" pointerdown.delegate="startResizing(\'e\', $event)"></div>\r\n\t\t<div class="qp-rz qp-rz-sw" pointerdown.delegate="startResizing(\'sw\', $event)"></div>\r\n\t\t<div class="qp-rz qp-rz-s" pointerdown.delegate="startResizing(\'s\', $event)"></div>\r\n\t\t<div class="qp-rz qp-rz-se" pointerdown.delegate="startResizing(\'se\', $event)"></div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/dialog/edit-dialog-base/qp-edit-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-edit-dialog.css"></require>\r\n\t<require from="../base-dialog/movable"></require>\r\n\t<ux-dialog class="dialog  edit-dialog" ref="dialogElement">\r\n\t\t<ux-dialog-header class="edit-dialog-header" movable.bind="dialogElement"\r\n\t\t\tshow-close-button.bind="false" ref="headerElement">\r\n\t\t\t<span>${dialogConfig.dialogTitle}</span>\r\n\t\t\t<qp-icon class="qp-dialog-close" imagesrc="svg:main@close" pointerdown.capture="close()"></qp-icon>\r\n\t\t</ux-dialog-header>\r\n\r\n\t\t<ux-dialog-body>\r\n\t\t\t<div class="edit-container  ${dialogConfig.containerClass}">\r\n\t\t\t\t<template replaceable part="content"></template>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-body>\r\n\r\n\t\t<ux-dialog-footer class="edit-footer">\r\n\t\t\t<div>\r\n\t\t\t\t<qp-button class="f_secondary" click.delegate="resetConfigurationToDefault()"\r\n\t\t\t\t\tconfig.bind="resetToDefaultButtonConfig"></qp-button>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<qp-button click.delegate="applyConfiguration()" config.bind="applyButtonConfig"></qp-button>\r\n\t\t\t\t<qp-button click.delegate="close()" config.bind="cancelButtonConfig"></qp-button>\r\n\t\t\t</div>\r\n\t\t</ux-dialog-footer>\r\n\t</ux-dialog>\r\n</template>\r\n'},"client-controls/controls/dialog/edit-dialog-base/qp-edit-element.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-edit-element.css"></require>\r\n\t<div dragover.delegate="processDragOver($event)" dragleave.delegate="processDragLeave($event)" draggable="true"\r\n\t\tdragstart.delegate="processDragStart($event)" drop.delegate="processDrop($event)" ref="element"\r\n\t\tclass="edit-element-container  ${bottomDropzoneVisible ? \'edit-element-container--reverse\' : \'\'}">\r\n\t\t<div ref="dropZoneElement" if.bind="bottomDropzoneVisible || upperDropzoneVisible" class="edit-element-dropzone">\r\n\t\t</div>\r\n\t\t<div class="edit-element  ${active ? \'edit-element--active\' : \'\'}" mouseenter.trigger="activate($event)"\r\n\t\t\tmouseleave.trigger="deactivate($event)" click.delegate="processClick($event)">\r\n\t\t\t<div class="edit-element--group">\r\n\t\t\t\t<div class="edit-element-icon--container">\r\n\t\t\t\t\t<qp-icon class="edit-element-icon" imagesrc="svg:main@grabber" if.bind="active"></qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="edit-element-content"\r\n\t\t\t\t\tcss="width: calc(326px - ${(actionsAreVisible ? actions.length * 24 + 8 : 0) + \'px\'}">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass="edit--element-name  edit--text  edit--text-m  ${options.showRequired && config.required ? \'req-l\': \'\'}">\r\n\t\t\t\t\t\t${config.name}</div>\r\n\t\t\t\t\t<div if.bind="options.showItemId" class="edit--element-id  edit--text  edit--text-s">${config.id}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="edit-element--group  edit-element--toolbar" if.bind="actionsAreVisible">\r\n\t\t\t\t<div repeat.for="action of actions" class="edit-element-icon--container ${action.getState($parent.config)}"\r\n\t\t\t\t\tclick.delegate="processAction($event, action)">\r\n\t\t\t\t\t<qp-icon\r\n\t\t\t\t\t\tclass="edit-element-icon  ${action.isEnabled($parent.active, $parent.config) && !action.isReadonly($parent.config)? \'\' : \'edit-element-icon--disabled\'}  ${action.className}"\r\n\t\t\t\t\t\timagesrc.bind="action.getIcon($parent.config)"\r\n\t\t\t\t\t\tif.bind="action.isVisible($parent.active, $parent.config)">\r\n\t\t\t\t\t</qp-icon>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/dialog/informer/qp-informer-rack.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-informer"></require>\r\n\t<div id=\'__qp-informers-rack\' class=\'qp-informer-rack\'>\r\n\t\t<qp-informer repeat.for="msg of messages" config.bind="msg">\r\n\t\t</qp-informer>\r\n\t</div>\r\n</template>'},"client-controls/controls/dialog/informer/qp-informer.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-informer.css"></require>\r\n\r\n\t<div class="qp-infromer qp-status-${config.status} ${closing}"\r\n\tcss="${config.hidden || hidden ? \'display: none;\' : \'\'}">\r\n\t<qp-icon if.bind="config.status==\'error\'" class="qp-status-icon" imagesrc="svg:main@errorExclamation"></qp-icon>\r\n\t<qp-icon if.bind="config.status==\'warning\'" class="qp-status-icon" imagesrc="svg:main@warningExclamationFilled"></qp-icon>\r\n\t<qp-icon if.bind="config.status==\'info\'" class="qp-status-icon" imagesrc="svg:main@checkmark"></qp-icon>\r\n\t<span>${message}</span>\r\n\t\t<qp-icon click.delegate="closeNotification($event)" class="qp-close-icon" imagesrc="main@RecordDel"></qp-icon>\r\n\t</div>\r\n\r\n</template>\r\n'},"client-controls/controls/dialog/long-run/qp-long-run.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-long-run.css"></require>\r\n\r\n\t<div show.bind="config.status===\'inprocess\' && !config.switchedOff"\r\n\tclass="qp-lr qp-status-${config.status}" id="${config.id}"\r\n\tcss="${config.hidden ? \'display: none;\' : \'\'}"\r\n\tref="inprocElement">\r\n\t\t<qp-icon class="qp-status-icon" imagesrc="svg:main@spinner"></qp-icon>\r\n\t\t<span repeat.for="message of LongRunMessages">${message}</span>\r\n\t\t<span class="qp-lr-timer" ref="timeElement" id="${config.id}_timer">${config.longRunCompleted}</span>\r\n\t\t<div class="qp-lr-cancel" id="${config.id}_cancel"\r\n\t\tclick.delegate="stopProcessing($event)">Cancel</div>\r\n\t</div>\r\n\r\n\t<div if.bind="config.status===\'aborted\' || config.status===\'completed\' || config.status===\'completedwithwarning\'"\r\n\tshow.bind="!config.switchedOff"\r\n\tclass="qp-lr qp-status-${config.status} ${closing}"\r\n\tcss="${config.hidden || hidden ? \'display: none;\' : \'\'}">\r\n\t\t<qp-icon class="qp-status-icon" imagesrc="svg:main@${iconName}"></qp-icon>\r\n\t\t<span class="qp-lr-message">${config.longRunMessage || (config.status === \'aborted\' ? msg.OperationAborted : msg.OperationCompleted)}</span>\r\n\t\t<qp-icon click.delegate="closeNotification($event)" class="qp-close-icon" imagesrc="main@RecordDel"></qp-icon>\r\n\t</div>\r\n\r\n</template>\r\n'},"client-controls/controls/dialog/processing-dialog/qp-processing-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-processing-dialog.css"></require>\r\n\t<require from="client-controls/controls/container/fieldset/inline-view"></require>\r\n\r\n\t<qp-panel id="processingDialog" class="processing-dialog" caption="Processing" auto-repaint="true">\r\n\t\t<div class="processing-dialog__head-message">\r\n\t\t\t<div class="processing-dialog__head-message-error-icon sprite-icon main-icon" icon="Error" if.bind="warningsOccured || errorsOccured">\r\n\t\t\t\t<div class="main-icon-img ${errorIconClasses}"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class="processing-dialog__processing-message\r\n\t\t\t\t${processingCompleted ? \'processing-dialog__processing-message--completed\' : \'\'}\r\n\t\t\t\t${(processingCompleted && (errors || processingErrorMessage)) ? \'processing-dialog__processing-message--error\' : \'\'}\r\n\t\t\t\t${(processingCompleted && !errors && !processingErrorMessage) ? \'processing-dialog__processing-message--success\' : \'\'}"\r\n\t\t\t\tid="processing_dialog_status_message">\r\n\t\t\t\t<inline-view template.bind="elapsedTime" context.bind="$this" view-model.ref="elapsedTimeView"></inline-view>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class="processing-dialog__progress-bar" css="opacity: ${progressBarVisibility}">\r\n\t\t\t<div class="processing-dialog__progress-bar-percentage\r\n\t\t\t\tprocessing-dialog__progress-bar-percentage--${processingStatus}\r\n\t\t\t\t${processingProgressAnimationStatusClass & debounce}"\r\n\t\t\t\tcss="width: ${percentage}%">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class="processing-dialog__filters ${currentFilter === null ? \'processing-dialog__filters--empty\' : \'\'}">\r\n\t\t\t<div class="processing-dialog__filters-list">\r\n\t\t\t\t<label repeat.for="filter of filtersList" id="processing-dialog_filters_${filter.id}"\r\n\t\t\t\t\tclass="processing-dialog__filters-button\r\n\t\t\t\t\tprocessing-dialog__filters-button--${filter.status}\r\n\t\t\t\t\t${filter.id === currentFilter.id ? \'processing-dialog__filters-button--current\' : \'\'}"\r\n\t\t\t\t\tclick.delegate="toggleFilter(filter)"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div class="processing-dialog__filters-button-counter">${filter.counter}</div>\r\n\t\t\t\t\t<div class="processing-dialog__filters-button-label">${filter.label}</div>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class="processing-dialog__results v-stack" show.bind="currentFilter != null">\r\n\t\t\t<qp-grid id="processingViewGrid"\r\n\t\t\t\tv-if="processingGridConfig && processingGridConfig.view"\r\n\t\t\t\tview.bind="view"\r\n\t\t\t\tconfig.bind="processingGridConfig"\r\n\t\t\t\tview-model.ref="processingViewGridVM"\r\n\t\t\t\tclass="stretch">\r\n\t\t\t</qp-grid>\r\n\t\t</div>\r\n\r\n\t\t<div class="processing-dialog__footer">\r\n\t\t\t<let cancel-action.bind="parent.actions.get(\'actioncancelprocessing\')"></let>\r\n\t\t\t<qp-button class="processing-dialog__footer-button" id="${config.id}_cancel" config.bind="cancelConfig"\r\n\t\t\t\tif.bind="cancelAction && cancelAction.visible"\r\n\t\t\t\thidden.bind="!cancelAction.visible"\r\n\t\t\t\tenabled.bind="!!cancelAction.enabled"\r\n\t\t\t\tclick.delegate="closeProcessing()"\r\n\t\t\t></qp-button>\r\n\t\t\t<let close-action.bind="parent.actions.get(\'actioncloseprocessing\')"></let>\r\n\t\t\t<qp-button class="processing-dialog__footer-button" id="${config.id}_close" config.bind="closeConfig"\r\n\t\t\t\tif.bind="closeAction && closeAction.visible"\r\n\t\t\t\thidden.bind="!closeAction.visible"\r\n\t\t\t\tenabled.bind="!!closeAction.enabled"\r\n\t\t\t\tclick.delegate="closeProcessing()"\r\n\t\t\t></qp-button>\r\n\t\t</div>\r\n\t</qp-panel>\r\n\r\n</template>\r\n'},"client-controls/controls/dialog/quick-processing/qp-quick-processing.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-quick-processing.css"></require>\r\n\r\n\t<qp-panel id="ProcessingResults" class="quick-processing" width="310px"\tauto-repaint="true">\r\n\t\t<div id="pnlQuickInfo_cont">\r\n\r\n\t\t\t<div class="quick-processing__messages-list">\r\n\r\n\t\t\t\t<div class="quick-processing__message quick-processing__message--${message.error ? \'error\': \'success\'} ${(messagesSizeChanged && (messagesSize === ($index + 1))) ? \'au-animate animate-expand\' : \'\'}"\r\n\t\t\t\t\trepeat.for="message of messages"\r\n\t\t\t\t>\r\n\t\t\t\t\t<qp-icon class="quick-processing__message-icon"\r\n\t\t\t\t\t\timagesrc.bind="message.error ? \'svg:main@errorExclamation\' : \'svg:main@successCheckFilled\'"\r\n\t\t\t\t\t></qp-icon>\r\n\t\t\t\t\t<template repeat.for="part of message.text">\r\n\t\t\t\t\t\t<span if.bind="part.type === \'text\'" class="quick-processing__message-part">${part.text}</span>\r\n\t\t\t\t\t\t<a if.bind="part.type === \'link\'" href="javascript:void(0)" class="quick-processing__message-part quick-processing__message-part--link"\r\n\t\t\t\t\t\t\tclick.delegate="message.redirectAction()">${part.text}</a>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<br if.bind="message.error" />\r\n\t\t\t\t\t<span if.bind="message.error" class="quick-processing__message-error">${message.error}</span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class="quick-processing__message quick-processing__message--success au-animate animate-expand" if.bind="status === \'completed\'">\r\n\t\t\t\t\t<qp-icon class="quick-processing__message-icon"\r\n\t\t\t\t\t\timagesrc="svg:main@successCheckFilled"\r\n\t\t\t\t\t></qp-icon>\r\n\t\t\t\t\t<span>${Msg.ProcessCompleted}</span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class="quick-processing__message quick-processing__message--error au-animate animate-expand" if.bind="status === \'aborted\'">\r\n\t\t\t\t\t<qp-icon class="quick-processing__message-icon"\r\n\t\t\t\t\t\timagesrc="svg:main@errorExclamation"\r\n\t\t\t\t\t></qp-icon>\r\n\t\t\t\t\t<span>${CompletedMessage || Msg.OperationAborted}</span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div if.bind="status === \'in-progress\'"\r\n\t\t\t\t\tclass="quick-processing__message quick-processing__message--status"\r\n\t\t\t\t>\r\n\t\t\t\t\t<qp-icon class="quick-processing__message-icon quick-processing__message-icon--spinner" imagesrc="svg:main@spinner"></qp-icon>\r\n\t\t\t\t\t<span repeat.for="message of longrunStatusMessagesList">${message}</span>\r\n\t\t\t\t\t<span class="quick-processing__timer" id="${config.id}_timer">${longRunTimerMessage}</span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="quick-processing__footer" show.bind="status === \'in-progress\'">\r\n\t\t\t\t<qp-button class="quick-processing__footer-button" id="${config.id}_cancel" config.bind="cancelConfig"\r\n\t\t\t\t\tclick.delegate="cancel($event)"></qp-button>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t</qp-panel>\r\n\r\n</template>\r\n'},"client-controls/controls/dialog/upload-dialog/qp-upload-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-upload-dialog.scss"></require>\r\n\t<qp-panel id="${config.key}" caption="${config.caption}" width.bind="config.width & attr"\r\n\t\tauto-repaint="false" activate-dialog.trigger="activateDialog($event)" deactivate-dialog.trigger="deactivateDialog($event)">\r\n\t\t<div class="upload-dialog-body v-stack">\r\n\t\t\t<qp-field if.bind="config.renderLink" control-size="size-fit">\r\n\t\t\t\t<qp-radio config.bind="{ id: config.id + \'_type\',\r\n\t\t\t\t\toptions: [{\r\n\t\t\t\t\t\ttext: DialogMessages.RadioUploadFile,\r\n\t\t\t\t\t\tvalue: \'file\'\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\ttext: DialogMessages.RadioLinkFile,\r\n\t\t\t\t\t\tvalue: \'link\'\r\n\t\t\t\t\t}] }" value.two-way="file.type"></qp-checkbox>\r\n\t\t\t</qp-field>\r\n\t\t\t<template if.bind="file.type === \'file\'">\r\n\t\t\t\t<qp-field caption="${DialogMessages.CaptionUploader}" class="upload-field" control-size="size-fit"\r\n\t\t\t\t\tcontrol-id.bind="uploaderConfig.id" control-error-message.bind="controlError.file"\r\n\t\t\t\t\tcontrol-error-level.bind="controlError.file ? PXErrorLevel.Error : PXErrorLevel.Undefined">\r\n\t\t\t\t\t<qp-uploader config.bind="uploaderConfig" value.two-way="uploadedFile">\r\n\t\t\t\t\t\t<div if.bind="!!uploadedFile" class="file-label">\r\n\t\t\t\t\t\t\t<div class="file-label-text">${uploadedFile.name}</div>\r\n\t\t\t\t\t\t\t<qp-icon class="qp-dialog-close" imagesrc="main@Remove"\r\n\t\t\t\t\t\t\t\tclick.delegate="clearUploaded()"></qp-icon>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div else>${uploaderText}</div>\r\n\t\t\t\t\t</qp-uploader>\r\n\t\t\t\t</qp-field>\r\n\t\t\t\t<qp-field if.bind="config.renderComment" control-id.bind="config.id + \'_comment\'" caption="${DialogMessages.CaptionComment}" control-size="size-fit">\r\n\t\t\t\t\t<qp-text-editor config.bind="{ id: config.id + \'_comment\', type: 1, rows: 3 }" value.two-way="file.comment"></qp-text-editor>\r\n\t\t\t\t</qp-field>\r\n\t\t\t</template>\r\n\t\t\t<template else>\r\n\t\t\t\t<qp-field caption="${DialogMessages.CaptionExistingFile}" control-size="size-fit" control-id.bind="config.id + \'_link\'"\r\n\t\t\t\t\tcontrol-error-message.bind="controlError.link" control-error-level.bind="controlError.link ? PXErrorLevel.Error : PXErrorLevel.Undefined">\r\n\t\t\t\t\t<qp-text-editor config.bind="{ id: config.id + \'_link\', type: 0 }" value.two-way="fileLink"></qp-text-editor>\r\n\t\t\t\t</qp-field>\r\n\t\t\t</template>\r\n\t\t\t<template if.bind="config.renderImportOptions">\r\n\t\t\t\t<qp-field control-size="size-fit">\r\n\t\t\t\t\t<qp-check-box config.bind="{ id: config.id + \'_columns\', label: DialogMessages.CheckboxCustomColumns }" value.two-way="importOptions.includeCustomColumns"></qp-checkbox>\r\n\t\t\t\t</qp-field>\r\n\t\t\t\t<qp-field control-size="size-fit">\r\n\t\t\t\t\t<qp-check-box config.bind="{ id: config.id + \'_fullCheck\', label: DialogMessages.CheckboxSchemaCheck }" value.two-way="importOptions.fullSchemaCheck"></qp-checkbox>\r\n\t\t\t\t</qp-field>\r\n\t\t\t</template>\r\n\t\t\t<qp-field if.bind="config.renderCheckIn" control-size="size-fit">\r\n\t\t\t\t<qp-check-box config.bind="{ id: config.id + \'_checkIn\', label: DialogMessages.CheckboxCheckIn }" value.two-way="importOptions.checkIn"></qp-checkbox>\r\n\t\t\t</qp-field>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ id: config.id + \'_btnUpload\', text: DialogMessages.ButtonUpload }" click.delegate="uploadClick($event)"></qp-button>\r\n\t\t\t<qp-button config.bind="{ id: config.id + \'_btnCancel\', dialogResult: 2, text: Messages.Cancel }"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/dialog/workflow-dialog/qp-workflow-dialog.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-workflow-dialog.scss"></require>\r\n\t<qp-panel id="FilterPreview" caption="${config.displayName}"\r\n\t\twidth.bind="config.width & attr" auto-repaint="{ synchronous: true }"\r\n\t\tactivate-dialog.trigger="activateDialog($event)" deactivate-dialog.trigger="deactivateDialog($event)">\r\n\t\t<qp-fieldset-layout class="workflow-dialog" layout.bind="FilterPreview.dialog" use-multi.bind="!!FilterPreview.dialog && FilterPreview.dialog.useMulti">\r\n\t\t</qp-fieldset-layout>\r\n\t\t<footer>\r\n\t\t\t<qp-button config.bind="{ id: \'btnConfirmTransition\', dialogResult: 1, validateInput: true, text: Messages.Confirm }"></qp-button>\r\n\t\t\t<qp-button config.bind="{ id: \'btnCancelTransition\', dialogResult: 2, text: Messages.Cancel }"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/simple/barcode-input/qp-barcode-input.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<input type="text" id="${config.id}" name="${config.name}" ref="elemText" \r\n\t\tvalue.bind="value"\r\n\t\tmaxlength.bind="config.maxLength & attr"\r\n\t\tenabled.bind="config.enabled ? null : false & attr" \r\n\t\treadonly="${config.readOnly || !config.enabled ? true : null}"  \r\n\t\tautocomplete="off" autocorrect="off" spellcheck="false"\r\n\t\ttabindex="${config.tabIndex}" \r\n\t\tclass="qp-text-editor ${config.class} ${config.readOnly || !config.enabled ? \'ReadOnly\' : \'\'} ${hasFocus ? \'focus\':\'\'}"\r\n\t\tcss="text-align: ${align};${config.hidden ? \'display:none;\': \'\'}${config.width ? \'width: \'+config.width+\'px\' : \'\'}"\r\n\t\tkeydown.trigger="processKeyDown($event)" \r\n\t\tfocus.trigger="processFocus($event)" \r\n\t\tblur.trigger="processBlur($event)" />\r\n</template>'},"client-controls/controls/simple/branch-selector/qp-branch-selector-3d.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="branch-selector ${editMode?\'edit-mode\':\'\'} ${ROMode ?\'ReadOnly\':\'\'}">\r\n\t<require from="./qp-branch-selector.css"></require>\r\n\t<div id="${config.id}" class="branch-selector__editor ${config.class} ${editMode && !ROMode ? \'focus edit-mode\':\'\'} ${ROMode ? \'ReadOnly\':\'\'}"\r\n\t\tref="rectControl">\r\n\t\t<input\r\n\t\tclass="${ROMode ? \'ReadOnly\':\'\'}"\r\n\t\tid="${config.id}_text"\r\n\t\tname="${config.name}"\r\n\t\ttabindex="${config.tabIndex}"\r\n\t\tvalue.to-view="value.id.trim()"\r\n\t\tref="inputControl"\r\n\t\tblur.trigger="onBlur()"\r\n\t\tinput.delegate="search(inputControl.value)"\r\n\t\tkeydown.capture="handleKey($event)"\r\n\t\tautocomplete="off"\r\n\t\tautocorrect="off"\r\n\t\tfocus.from-view="editMode"\r\n\t\tfocus.trigger="onFocus()"\r\n\r\n\t\tenabled.bind="config.enabled === false ?  false:null  & attr"\r\n\t\treadonly="${ROMode ? true : null}"\r\n\t\t>\r\n\t\t<div class="branch-selector__display-text" if.bind="value && value.id">${[value.id]}${value.text?\' -\r\n\t\t\t\'+value.text:\'\'}</div>\r\n\t\t<button type="button" show.bind="config.enabled!== false && !config.readOnly"  mousedown.trigger="toggleSelector($event)" class="branch-selector__button"\r\n    tabindex="-1">\r\n\t\t\t<qp-icon show.bind="!ROMode" imagesrc="svg:main@treeArrowDown"></qp-icon>\r\n\t\t\x3c!-- <i class="control-icon control-ArrowDown"></i> --\x3e\r\n\t\t</button>\r\n\t\t<qp-loader-indicator if.bind="loadingStatus != \'in-sync\'" style="position: absolute;bottom:0;left:0;right:0;"\r\n\t\t\tloading-state.bind="loadingStatus"></qp-loader-indicator>\r\n\t\t<qp-tooltip if.bind="!treeOpen && toolTip && toolTip.length" target.bind="element" on-show.call="toolTipShown()">\r\n\t\t\t<div repeat.for="t of toolTip" class="tooltip-level branch-level-${$index}">${t}</div>\r\n\r\n\t\t</qp-tooltip>\r\n\r\n\r\n\t</div>\r\n\t<div id="${config.id}_items" class="branch-selector__branch-tree" if.bind="branches && treeOpen" glue-to.bind="rectControl" portal ref="treeView" style="width: auto;" mousedown.capture="ignoreMouseDown($event)">\r\n\t\t<div repeat.for="n of flatStructure" node.bind="n"\r\n\t\tclick.delegate="select(n,$event)"\r\n\t\tmouseenter.capture="highlight(n,$event)"\r\n\t\tclass="branch-selector__node branch-selector__${n.type} ${highlightedIndex == $index?\'highlight\':\'\'} nesting-level-${n.level} ${b.canSelect?\'can-select\':\'\'} ${n.lastChild?\'parent-last-child\':\'\'}"\r\n\t\t>\r\n\r\n\r\n\t\t<qp-icon class="group-icon" if.bind="n.type==\'group\'" imagesrc="${n.expand?\'control@DropDownH\':\'control@SubMenu\'}" click.delegate="toggleExpand(n,$event)"></qp-icon>\r\n\t\t<qp-icon class="company-icon" if.bind="n.type==\'organization\'" imagesrc="${n.expand?\'ac@keyboard_arrow_down\':\'ac@keyboard_arrow_right\'}" click.delegate="toggleExpand(n,$event)"></qp-icon>\r\n\r\n\t\t<template repeat.for="s of n.displaySegments"><mark if.bind="s.highlight">${s.text}</mark><template\r\n\t\t\telse>${s.text}</template></template>\r\n\t</div>\r\n\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/button/qp-button.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template show.bind="!config.hidden">\r\n\t<require from="./qp-button.scss"></require>\r\n\t<require from="../../utility/options/qp-options"></require>\r\n\r\n\t<button id="${config.id}" name="${config.name}" css="${config.style}" type="button" ref="buttonElement" tabindex="${config.tabIndex}"\r\n\t\tclass="qp-button ${config.class} ${pushed ? \'pushed\' : \'\'}" disabled.bind="config.enabled == false || config.disabled"\r\n\t\tclick.capture="processClick($event)" mouseover.delegate="processMouseOver($event)"\r\n\t\tmouseout.delegate="processMouseOut($event)" pointerdown.delegate="processPointerDown($event)"\r\n\t\tpointerup.delegate="processPointerUp($event)" pointercancel.delegate="processPointerCancel($event)">\r\n\t\t<div class="btn-inner" data-cmd="${config.commandName}">\r\n\t\t\t<qp-icon if.bind="imageSrc" imagesrc.bind="imageSrc"></qp-icon>\r\n\t\t\t<span class="text" if.bind="!imageSrc || config.displayIconAndText">${config.text || config.displayName}</span>\r\n\t\t\t<qp-icon if.bind="config.options" imagesrc="control@ArrowDown" class="icon-menu"></qp-icon>\r\n\t\t</div>\r\n\t</button>\r\n\r\n\t<div glue-to.bind="buttonElement" if.bind="config.options && menuOpen" class="glue-to" id="${config.id}_items">\r\n\t\t<div class="options-panel">\r\n\t\t\t<qp-options config.bind="config" options-for.bind="buttonElement" valuechanged.delegate="processMenuClick($event)">\r\n\t\t\t</qp-options>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n'},"client-controls/controls/simple/calendar/qp-calendar.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n  <require from="./qp-calendar"></require>\r\n  <require from="./qp-calendar.css"></require>\r\n\x3c!-- <input  id="${config.id}" tabindex="${config.tabIndex}" name="${config.name}" value.to-view="value | dateToString"> --\x3e\r\n  <table  class="calendar qp-calendar" cellpadding="0" cellspacing="0" style="z-index: 11000;"\r\n\tclick.delegate="$event.stopPropagation()"\r\n\tmousedown.trigger="ignoreClicks($event)">\r\n    <tbody>\r\n      <tr>\r\n        <td class="calendarMT">\r\n          <table cellpadding="0" cellspacing="0" border="0" style="height:100%; width:100%;">\r\n            <tbody>\r\n              <tr>\r\n\t\t\t\t\t\t\t\t<td class="calendarNP"\r\n\t\t\t\t\t\t\t\tclick.capture="handleMonthChange(-1, $event)" ref="prevMonthEle">\r\n\t\t\t\t\t\t\t\t\t<qp-icon imagesrc="svg:main@arrowLeft"></qp-icon>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class="month-year-header">\r\n\t\t\t\t\t\t\t\t\t<span class="month-select">\r\n\t\t\t\t\t\t\t\t\t\t<select ref="monthSelEle" class="month-select" value.bind="month | stringToInt">\r\n\t\t\t\t\t\t\t\t\t\t\t<option repeat.for="i of 12" value.one-time="i">${monthNames[i]}</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowDown"></qp-icon>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span class="year-select">\r\n\t\t\t\t\t\t\t\t\t\t<select ref="yearSelEle" class="year-select closed"\r\n\t\t\t\t\t\t\t\t\t\tstyle="pointer-events: none;"\r\n\t\t\t\t\t\t\t\t\t\tvalue.bind="year | stringToInt">\r\n\t\t\t\t\t\t\t\t\t\t\t<option value="${year}">${year}</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t<qp-icon imagesrc="svg:main@treeArrowDown"></qp-icon>\r\n\t\t\t\t\t\t\t\t\t\t<select ref="yearSelEle" class="year-select closed" value.bind="year | stringToInt" mouseout.trigger="onMouseOut($event.currentTarget)" scroll.trigger="onScrollYearSel($event.currentTarget)" keydown.trigger="onKeyDownYearSel($event)" focus.trigger="onFocusYearSel($event.currentTarget)" blur.trigger="onBlurYearSel($event.currentTarget)" change.trigger="onChangeYearSel($event.currentTarget)">\r\n\t\t\t\t\t\t\t\t\t\t\t<option repeat.for="i of 27" value="${year+i-13}">${year+i-13}</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td class="calendarNP"\r\n\t\t\t\t\t\t\t\tclick.capture="handleMonthChange(1, $event)" ref="nextMonthEle">\r\n\t\t\t\t\t\t\t\t\t<qp-icon imagesrc="svg:main@arrowRight"></qp-icon>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td if.bind="config.customItems.length > 0" rowspan="3" class="custom-items">\r\n\t\t\t\t\t<table id="${id}_customItems"><tbody>\r\n\t\t\t\t\t\t<tr repeat.for="item of config.customItems"\r\n\t\t\t\t\t\tclick.capture="selectCustomItem(item, $event)">\r\n\t\t\t\t\t\t\t<td class="calendarD">${item}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody></table>\r\n\t\t\t\t</td>\r\n      </tr>\r\n      <tr>\r\n        <td>\r\n          <table cellspacing="0" align="Center" border="0" style="width:100%;" ref="monthPaneEle"\r\n          keydown.capture="keyDown($event)" tabindex="0">\r\n            <colgroup>\r\n              <col repeat.for="i of 8" style="width:12%" />\r\n            </colgroup>\r\n            <tbody>\r\n              <tr>\r\n                <td class="calendarDH">#</td>\r\n                <td class="calendarDH" repeat.for="i of 7">${shortDayNames[(i+firstDayOfWeek)%7]}</td>\r\n              </tr>\r\n              <tr repeat.for="week of monthPanel">\r\n                <td class="calendarWN calendarD">${getWeekNumber(week)}</td>\r\n                <td repeat.for="day of week" class="calendarD\r\n\t\t\t\t\t\t\t\t${($index===0 && $parent.$index===0)? \'upperLeft\' : \'\'}\r\n\t\t\t\t\t\t\t\t${($index===6 && $parent.$index===0)? \'upperRight\' : \'\'}\r\n\t\t\t\t\t\t\t\t${($index===0 && $parent.$index===5)? \'bottomLeft\' : \'\'}\r\n\t\t\t\t\t\t\t\t${($index===6 && $parent.$index===5)? \'bottomRight\' : \'\'}\r\n\t\t\t\t\t\t\t\t${isTheSame(day.date, todayDate) ? \'calendarTD\' : \'\'}\r\n                ${day.trailingDay || day.leadingDay ? \'calendarOMD\' : \'\'}\r\n                ${isWeekend(day.date) ? \'calendarWE\':\'\'}\r\n                ${isTheSame(day.date, value) ? \'calendarSD\':\'\'}"\r\n                click.capture="selectTheDate(day.date, $event)">${day.dayOfMonth}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n\t\t\t\t<td ref="todayCellEle" class="calendarF" style="cursor: pointer;"\r\n        click.capture="selectTheDate(todayDate, $event)">\r\n          ${todayString}\r\n        </td>\r\n        \x3c!--<td class="calendarF">${Intl.DateTimeFormat(locale).format(todayDate)} - ${todayDateToString()}</td>--\x3e\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n'},"client-controls/controls/simple/caption/qp-caption.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n="<template>\r\n\t<require from=\"./qp-caption.css\"></require>\r\n\t<legend class=\"qp-caption  ${hiddenByPrefs ? 'qp-caption-compact' : ''}\" show.bind=\"viewMode === 'edit' || (caption && !hideCaption)\">\r\n\t\t${!hiddenByPrefs ? (caption ? caption : msg.Untitled) : ''}\r\n\t</legend>\r\n</template>\r\n"},"client-controls/controls/simple/check-box/qp-check-box.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template css="display: ${config.hidden ? \'none\': \'block\'};">\r\n\t<require from="./qp-check-box"></require>\r\n\t<require from="./qp-check-box.css"></require>\r\n\r\n\t<span if.bind="config.renderStyle!==\'button\'" id="${config.id}"\r\n\tclass="qp-checkbox qp-checkbox-default ${config.class}"\r\n\tenabled.bind="!!config.enabled & attr"\r\n\tclick.delegate="config.enabled===true && toggleValue($event)">\r\n\t\t<label if.bind="config.textAlign===\'left\'" for="${config.id}_text" class="left ${config.labelWidth ? \'fld-l\'+config.labelWidth : \'\'}">${config.label}</label>\r\n\t\t<input id="${config.id}_text" name="${config.name}"\r\n\t\t\tref="element" type="checkbox"\r\n\t\t\ttabindex="${config.tabIndex}"\r\n\t\t\tdisabled.bind="!config.enabled"\r\n\t\t\tchecked.two-way="value | intToBool"/><label if.bind="config.textAlign!==\'left\'" for="${config.id}_text">${config.label}</label>\r\n\t</span>\r\n\t<div else class="qp-checkbox qp-checkbox-button ${config.class}" id="${config.id}"\r\n\t\tenabled.bind="!!config.enabled & attr" checked.bind="!!value & attr">\r\n\t\t<qp-hyper-icon id="${config.id}_pic" if.bind="config.renderStyle == \'button\' && value" images.bind="config.checkImages"\r\n\t\tdisabled.bind="!config.enabled"\r\n\t\tclick.delegate="config.enabled===true && toggleValue($event)"\r\n\t\tclass="qp-checkbox-icon"\r\n\t\t></qp-hyper-icon>\r\n\t\t<qp-hyper-icon id="${config.id}_pic" if.bind="config.renderStyle == \'button\' && !value" images.bind="config.uncheckImages"\r\n\t\tdisabled.bind="!config.enabled"\r\n\t\tclick.delegate="config.enabled===true && toggleValue($event)"\r\n\t\tclass="qp-checkbox-icon"\r\n\t\t></qp-hyper-icon>\r\n\t\t<label if.bind="config.renderStyle == \'button\' && config.label && config.label.length"\r\n\t\tclass="qp-checkbox-label"\r\n\t\tfor="${config.id}_pic">${config.label}</label>\r\n\t</div>\r\n\r\n</template>\r\n'},"client-controls/controls/simple/color-picker/qp-color-palette.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-color-palette.css"></require>\r\n\t<div class="qp-color-palette">\r\n\t\t<button if.bind="allowNull" class="qp-color-reset" click.capture="selectColor()">\r\n\t\t\t<qp-icon imagesrc="svg:main@colorReset"></qp-icon>\r\n\t\t\t<span>None</span>\r\n\t\t</button>\r\n\t\t<div class="qp-color-palette-pane" repeat.for="palette of palettes"\r\n\t\t\tshow.bind="(allowAdjust && palette.adjustable) || (palette.rows.length > 0 && palette.rows[0].samples.length > 0)">\r\n\t\t\t<div class="qp-color-palette-row" repeat.for="colorRow of palette.rows">\r\n\t\t\t\t<div class="qp-color-palette-sample ${colorSample.color === color ? \'selected\': \'\'}"\r\n\t\t\t\t\trepeat.for="colorSample of colorRow.samples" css="background-color: ${colorSample.color};"\r\n\t\t\t\t\tclick.delegate="selectColor(colorSample.color)">\r\n\t\t\t\t\t<qp-icon if.bind="colorSample.color === color" class="qp-color-sample-selected"\r\n\t\t\t\t\tcss="color: ${colorSample.textColor & oneTime};" imagesrc="svg:main@doneMark"></qp-icon>\r\n\t\t\t\t\t<qp-tooltip>${colorSample.description & oneTime}</qp-tooltip>\r\n\t\t\t\t</div>\r\n\t\t\t\t<qp-icon class="qp-color-sample-add"\r\n\t\t\t\t\tif.bind="allowAdjust && palette.adjustable && ($index === palette.rows.length - 1)"\r\n\t\t\t\t\timagesrc="svg:main@roundPlus" click.delegate="pickCustomColor(palette, $event)">\r\n\t\t\t\t</qp-icon>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/color-picker/qp-color-picker.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template style="display:inline-block;">\r\n\t<require from="./qp-color-picker"></require>\r\n  <div style="display:flex;padding:0;border:0;" class.bind="config.class">\r\n    <input if.bind="supportsColor" disabled.bind="config.readOnly" class="editor" style="flex:1 1 auto" type="color"\r\n      tabindex="${config.tabIndex}" value.bind="value | colorFormat & updateTrigger:\'blur\'">\r\n    <span else css="background-color:${value};flex:1 1 auto;min-width:60px;"></span>\r\n    <input class="editor size-xs" disabled.bind="config.readOnly" style="flex:0 1 auto" type="text" value.bind="value | colorFormat & updateTrigger:\'blur\'"\r\n      id="${config.id}" tabindex="${config.tabIndex}" name="${config.name}" blur.capture="validateValue($event)">\r\n  </div>\r\n</template>\r\n'},"client-controls/controls/simple/color-picker/qp-menu-color-picker.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-menu-color-picker.css"></require>\r\n\t<div as-element="qp-drop-down-frame" class="${config.disabled ? \'disabled\': \'\'}" control-class="qp-menu-color-picker"\r\n\t\tref="dropDown" dropdownopened.trigger="dropDownOpened($event)">\r\n\t\t<template replace-part="main">\r\n\t\t\t<button ref="btnElement" class="qp-menu-color-picker-button qp-menu-color-picker-action-button"\r\n\t\t\t\tclick.capture="processButtonClick($event)">\r\n\t\t\t\t<qp-hyper-icon if.bind="!!config.images.normal"\r\n\t\t\t\t\tcss="color: ${config.selectedColor ? config.selectedColor: \'currentColor\'}"\r\n\t\t\t\t\timages.bind="config.images"></qp-hyper-icon>\r\n\t\t\t\t<div if.bind="!!config.label">${config.label}</div>\r\n\t\t\t</button>\r\n\t\t</template>\r\n\t\t<template replace-part="dropdown">\r\n\t\t\t<qp-color-palette if.bind="onceOpened" allow-null.bind="config.allowNull"\r\n\t\t\t\tcolor.bind="config.selectedColor" allow-adjust.bind="config.allowAdjust" user-colors.bind="config.userColors"\r\n\t\t\t\tnewcolor.trigger="newColorAdded($event)" colorselected.trigger="colorSelected($event)">\r\n\t\t\t</qp-color-palette>\r\n\t\t</template>\r\n\t</div>\r\n\t<qp-tooltip target.bind="btnElement" if.bind="!!config.tooltip">\r\n\t\t<div>${config.tooltip}</div>\r\n\t</qp-tooltip>\r\n</template>\r\n'},"client-controls/controls/simple/date-editor/qp-datetime-edit-utc.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<qp-datetime-edit config.bind="config" value.two-way="convertedDate" containerless></qp-datetime-edit>\r\n</template>\r\n'},"client-controls/controls/simple/date-editor/qp-datetime-edit.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template css="display: ${config.hidden ? \'none\': \'inline-block\'};">\r\n\t<require from="./qp-datetime-edit.css"></require>\r\n\t<require from="../../utility/options/qp-options"></require>\r\n\t<div id="${config.id}" class="${config.class} qp-datetime__editor dropDown ${hasFocus ? \'focus\' : \'\'} ${ROMode ? \'ReadOnly\' : \'\'}" buttons.bind="ROMode ? \'0\' : \'\' & attr" css="display: ${config.hidden ? \'none\': \'block\'}; ${config.width ? \'width: \'+config.width+\'px;\' : \'\'} ${config.height ? \'height: \'+config.height+\'px;\' : \'\'}" ref="editorDiv">\r\n\t\t<div class="editorCont">\r\n\t\t\t<div class="editorWrap">\r\n\t\t\t\t<input id="${config.id}_text" ref="elemText" name="${config.name}$text" type="text" tabindex="${ROMode ? \'-1\' : config.tabIndex}" class="editor ${ROMode ? \'ReadOnly\' : \'\'}"\r\n\t\t\t\t\tkeydown.capture="processKeyDown($event)" keypress.capture="processKeyPress($event)"\r\n\t\t\t\t\tfocus.capture="processFocus($event)"\r\n\t\t\t\t\tblur.capture="processBlur($event)"\r\n\t\t\t\t\tupdate.capture="processUpdate($event)"\r\n\t\t\t\t\tbeforepaste.delegate="processBeforePaste($event)" paste.delegate="processPaste($event)" selectstart.delegate="processSelectStart($event)"\r\n\t\t\t\t\tinput.delegate="processInput($event)" value.to-view="textValue"\r\n\t\t\t\t\tfocus.bind="focused"\r\n\t\t\t\t\tenabled.bind="config.enabled ? null : false & attr"\r\n\t\t\t\t\tdisabled.bind="ROMode"/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="buttonsCont qp-calendar-opener" mousedown.capture="toggleCalendar($event)">\r\n\t\t\t<span class="center"></span>\r\n\t\t\t<qp-icon show.bind="!ROMode" imagesrc.bind="config && config.timeMode ? \'svg:main@aroundTheClock\' : \'svg:main@datePicker\'" type="sel"></qp-icon>\r\n\t\t\t\x3c!-- <div class="sprite-icon control-icon" icon="DropDownN" type="sel"\r\n\t\t\tcss="${ROMode ? \'display: none;\' : \'\'}">\r\n\t\t\t\t<div class="control-icon-img control-DropDownN">\r\n\t\t\t\t</div>\r\n\t\t\t</div> --\x3e\r\n\t\t</div>\r\n\t</div>\r\n\t<div if.bind="dropDownOpen" class="qp-datetime__calendar-overlay"\r\n\tmousedown.trigger="handleOuterClick($event)">\r\n\t\t<div glue-to.bind="elemText" portal style="z-index: 10000; max-width:412px; max-height:269px;"\r\n\t\tmousedown.trigger="handleInnerClick($event)" id="${config.id}_items">\r\n\t\t\t<qp-options if.bind="config.timeMode" config.bind="timeItems"\r\n\t\t\t\tvalue.to-view="[getValueOrToday()]" options-for.bind="element"\r\n\t\t\t\tvaluechanged.delegate="acceptDateFromCalendar($event)"></qp-options>\r\n\t\t\t<qp-calendar else\r\n\t\t\t\tconfig.to-view="{\'customItems\': config.customItems, \'firstDayOfWeek\': config.firstDayOfWeek}"\r\n\t\t\t\tvalue.to-view="getValueOrToday()"\r\n\t\t\t\tvaluechanged.delegate="acceptDateFromCalendar($event)"></qp-calendar>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n\r\n'},"client-controls/controls/simple/drop-down/qp-drop-down.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template enabled.bind="!!config.enabled & attr" class="${ROMode ? \'ReadOnly\' : \'\'}">\r\n\t<require from="./qp-drop-down.css"></require>\r\n\t<require from="../../utility/options/qp-options.css"></require>\r\n\t<div id="${config.id}" tabindex="-1" class="drop-down__editor ${config.class} ${hasFocus ? \'focus\':\'\'} ${ROMode ? \'ReadOnly\' : \'\'} size-${config.size}"\r\n\tref="editorWrap"\r\n\tcss="display: ${config.hidden ? \'none\': \'block\'};"\r\n\tmousedown.trigger="toggleSelector($event)" buttons.bind="ROMode ? \'0\' : \'\' & attr">\r\n\t\t<div class="editorCont">\r\n\t\t\t<div class="editorWrap" title="">\r\n\t\t\t\t<input\r\n\t\t\t\t\tname="${config.name}$text"\r\n\t\t\t\t\ttype="text"\r\n\t\t\t\t\tid="${config.id}_text"\r\n\t\t\t\t\tautocomplete="off" autocorrect="off"\r\n\t\t\t\t\tref="inputElement"\r\n\t\t\t\t\tvalue.bind="valueText"\r\n\t\t\t\t\ttabindex="${ROMode ? \'-1\' : config.tabIndex}"\r\n\t\t\t\t\tkeydown.capture="onKeyDown($event)"\r\n\t\t\t\t\tkeypress.delegate="onKeyPress($event)"\r\n\t\t\t\t\tinput.delegate="onInput($event)"\r\n\t\t\t\t\tfocus.bind="hasFocus"\r\n\t\t\t\t\tfocus.capture="onFocus()"\r\n\t\t\t\t\tblur.capture="onBlur()"\r\n\t\t\t\t\tpaste.delegate="onPaste($event)"\r\n\t\t\t\t\tclass="drop-down__display-text ${ROMode ? \'ReadOnly\' : \'\'}\r\n\t\t\t\t\t${config.allowEdit || (autoSuggest && hasFocus) ? \'\' : \'drop-down__invisible\'}"\r\n\t\t\t\t\treadonly.bind="ROMode ? \'readonly\' : null & attr"\r\n\t\t\t\t><span class="center"></span><span class="drop-down__text ${ROMode ? \'ReadOnly\' : \'\'}" valueattr.bind="value & attr"><div if.bind="config.colorMode" class="${\'drop-down__current-color \'+getColorClass(value)}" css="${getAdditionalStyle(value)}"></div><qp-icon if.bind="currentImageUrl" imagesrc.bind="currentImageUrl" height="100%" width="100%" class="drop-down__current-image"> </qp-icon>${valueText}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="buttonsCont">\r\n\t\t\t<span class="center"></span>\r\n\t\t\t<div if.bind="config.clearButton && !ROMode" class="sprite-icon control-icon" icon="ClearN" type="clear"\r\n\t\t\tmousedown.trigger="clearSelection($event)">\r\n\t\t\t\t<div class="control-icon-img control-ClearN">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<qp-icon show.bind="!ROMode" imagesrc="svg:main@treeArrowDown" type="sel"></qp-icon>\r\n\t\t\t\x3c!-- <div class="sprite-icon control-icon" icon="DropDownN" type="sel"\r\n\t\t\tcss="${ROMode ? \'display: none;\' : \'\'}">\r\n\t\t\t\t<div class="control-icon-img control-DropDownN">\r\n\t\t\t\t</div>\r\n\t\t\t</div> --\x3e\r\n\t\t</div>\r\n\t</div>\r\n\t<div if.bind="showOptions"  id="${config.id}_dd" class="drop-down__options-pane ${config.class}"\r\n\tref="optionsPane"\r\n\tglue-to.bind="editorWrap" portal\r\n\tcss="width: auto; min-width: ${editorWrap.clientWidth}px; max-width: 50vw;"\r\n\tmousedown.capture="ignoreClicks($event)">\r\n\t\t<div class="drop-down__option ddItem ddDisabled ddInfo" if.bind="options && !options.length">\r\n\t\t\tNo Data Available\r\n\t\t</div>\r\n\t\t<div repeat.for="op of options"\r\n\t\tclick.capture="select(op,$event)"\r\n\t\tclass="drop-down__option ddItem ${highlightedIndex === $index ? \'ddSelection\':\'\'} ${op.enabled===0 || op.enabled===false ? \'ddDisabled\':\'\'}"\r\n\t\tmouseenter.capture="enterHighlight($index)"\r\n\t\tmousemove.capture="commitHighlight($index) & throttle:100">\r\n\t\t\t<div if.bind="config.allowMultiSelect" class="sprite-icon control-icon" icon.bind="op.selected ? \'GridCheck\' : \'GridUncheck\' & attr" data-type="check" style="margin-left: 2px; margin-right: 5px;">\r\n\t\t\t\t<div class="control-icon-img control-${op.selected ? \'GridCheck\' : \'GridUncheck\'}"></div>\r\n\t\t\t</div>\r\n\t\t\t<qp-icon if.bind="op.imageUrl" imagesrc.bind="op.imageUrl" class="drop-down__image"></qp-icon>\r\n\t\t\t<div if.bind="config.colorMode" class="${\'drop-down__current-color \'+getColorClass(op.value)}"></div>\r\n\t\t\t${op.text || \'&nbsp;\'}\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/external-viewer/qp-external-viewer.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template css="display: ${config.hidden ? \'none\': \'\'};">\r\n\t<require from="./qp-external-viewer.css"></require>\r\n\t<div class="external-viewer-placeholder"\r\n\t\tcss="height: ${placeHolderHeight > 0 ? placeHolderHeight + \'px\' : \'inherit\'} !important;">\r\n\t\t<iframe src.bind="value" scrolling.bind="config.scrolling === false ? \'no\' : \'auto\' & attr"\r\n\t\t\tclass="external-viewer" load.trigger="frameLoaded()" ref="frameElement"\r\n\t\t\tcss="height: ${frameHeight > 0 ? frameHeight + \'px\' : \'inherit\'} !important;"></iframe>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/icon/qp-hyper-icon.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<div class="qp-hyper-icon"\r\n\tmouseover.delegate="OnMouseOver()"\r\n\tmouseout.delegate="OnMouseOut()"\r\n\tmousedown.delegate="OnMouseDown()"\r\n\tclick.delegate="OnClick()">\r\n\t\t<img if.bind="ImageType===\'img\'" src.bind="ImageName & attr" align="absmiddle">\r\n\t\t<div if.bind="ImageType!==\'img\'"class="sprite-icon ${SpriteName}-icon" icon.bind="ImageName & attr">\r\n\t\t\t<div if.bind="ImageType===\'sprite\'" class="${SpriteName}-icon-img ${SpriteName}-${ImageName}">\r\n\t\t\t</div>\r\n\t\t\t<svg if.bind="ImageType===\'svg\'">\r\n\t\t\t\t<use href.bind="SvgUrl & attr"></use>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/icon/qp-icon.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-icon.css"></require>\r\n\t<img if.bind="imageType===\'img\'" class="${!imageReady ? \'qp-loader-indicator loading\' : \'\'}" src.bind="imageName & attr"\r\n\t\tload.bind="imgLoaded()"\r\n\t\tcss="${width ? \'width: \'+width+\'; \' : \'\'} ${height ? \'height: \'+height+\'; \' : \'\'} " />\r\n\t<div if.bind="imageType===\'sprite\'" class="sprite-icon ${spriteName}-icon" icon.bind="imageName & attr">\r\n\t\t<div if.bind="imageType===\'sprite\'" class="${spriteName}-icon-img ${spriteName}-${imageName}">\r\n\t\t</div>\r\n\t</div>\r\n\t<svg if.bind="imageType===\'svg\'">\r\n\t\t<use href.bind="imageName & attr"></use>\r\n\t</svg>\r\n\t<i if.bind="imageType===\'fa\'" class="ac ac-${imageName}" icon.bind="imageName & attr" style="padding-right: 5px;"></i>\r\n</template>\r\n'},"client-controls/controls/simple/image/components/gallery/carousel.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./carousel.scss"></require>\r\n\t<div class="carousel-body" tabindex="0" ref="carouselBody">\r\n\t\t<div class="carousel-left ${previousEnabled ? \'\' : \'carousel-button-disabled\'}" click.delegate="changePosition($event, false)">\r\n\t\t\t<qp-icon class="arrow left" imagesrc="svg:main@carousel-arrow"></qp-icon>\r\n\t\t</div>\r\n\t\t<div class="carousel-center">\r\n\t\t\t<slot></slot>\r\n\t\t</div>\r\n\t\t<div class="carousel-right ${nextEnabled ? \'\' : \'carousel-button-disabled\'}" click.delegate="changePosition($event, true)">\r\n\t\t\t<qp-icon class="arrow right" imagesrc="svg:main@carousel-arrow"></qp-icon>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/components/gallery/image-feed.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./image-feed.scss"></require>\r\n\t<require from="../view/image-view"></require>\r\n\t<div class="image-feed" ref="feed" css="height: ${feedHeight}px; width: ${feedWidth + feedOffset}px; left: -${feedOffset}px;">\r\n\t\t<div class="image-feed-track" css="width: ${leftTrack}px;"></div>\r\n\t\t<image-view repeat.for="item of images" src.bind="item.source"\r\n\t\t\twidth="${imageWidth}px" height="100%" object-fit="cover"\r\n\t\t\tclick.delegate="selectImage(item.source, item.index)"\r\n\t\t\tclass="${item.index === index ? \'selected\': \'\'}"\r\n\t\t\tdata-image-index="${item.index}">\r\n\t\t</image-view>\r\n\t\t<div class="image-feed-track" css="width: ${rightTrack}px;"></div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/components/gallery/image-gallery.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./image-gallery.scss"></require>\r\n\t<require from="./image-feed"></require>\r\n\t<require from="./carousel"></require>\r\n\t<require from="../view/image-view"></require>\r\n\t<div class="image-gallery" tabindex="0" ref="gallery" css.bind="sizeStyles">\r\n\t\t<let index-valid.bind="index >=0 && maxIndex >= 0"></let>\r\n\t\t<carousel previous.call="move(-1)" next.call="move(1)"\r\n\t\t\tprevious-enabled.bind="showArrows && !readOnly && index > minIndex"\r\n\t\t\tnext-enabled.bind="showArrows && !readOnly && index < maxIndex"\r\n\t\t\tcss.bind="showArrows ? \'\' : \'--carousel-button-disabled-display: none;\'">\r\n\t\t\t<image-view if.bind="indexValid" src.one-way="imageSource" click.call="clickImage(source, image)" cancel.call="cancelImage(source)"\r\n\t\t\t\tloaded.call="imageLoaded(source, image)" view-model.ref="imageView" css.bind="imageStyle" allow-zoom.bind="allowZoom"></image-view>\r\n\t\t\t<div class="image-gallery-placeholder" show.bind="!indexValid">\r\n\t\t\t\t<slot></slot>\r\n\t\t\t</div>\r\n\t\t</carousel>\r\n\t\t<image-feed if.bind="showFeed && !readOnly" collection.bind="collection"\r\n\t\t\tindex.one-way="index" selected.call="feedSelected(source, index)"></image-feed>\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/components/popup/image-popup.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./image-popup.scss"></require>\r\n\t<require from="../gallery/image-gallery"></require>\r\n\r\n\t<div if.bind="visible" class="image-popup-host">\r\n\t\t<div portal class="image-popup">\r\n\t\t\t<div class="image-popup-caption">\r\n\t\t\t\t<div class="image-popup-title">${imageName}</div>\r\n\t\t\t\t<div class="image-popup-toolbar">\r\n\t\t\t\t\t<qp-control-bar component-id="image-popup-tools" config.bind="toolbarToolsConfig" view-model.ref="toolbar"></qp-control-bar>\r\n\t\t\t\t\t<qp-control-bar component-id="image-popup-system" config.bind="toolbarSystemConfig"></qp-control-bar>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<image-gallery collection.bind="collection" index.one-way="index" show-feed.bind="false" allow-null.bind="false" allow-zoom.bind="true"\r\n\t\t\t\timage-click.call="ok()" image-cancel.call="cancel()" image-ready.call="imageReady(source, image)"\r\n\t\t\t\tselected.call="imageSelected(index)"></image-gallery>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/components/view/image-view.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./image-view.scss"></require>\r\n\t<require from="./load-progress"></require>\r\n\t<div class="image-view" ref="viewFrame" css.bind="styles">\r\n\t\t<template if.bind="!image">\r\n\t\t\t<img if.bind="preview" class="image-view-image-preview" src.bind="preview & attr"\r\n\t\t\t\twidth.bind="image.size.width & attr" height.bind="image.size.height & attr"\r\n\t\t\t\tdraggable="false" css="object-fit: ${objectFit}; object-position: ${objectPosition}"/>\r\n\t\t\t<div class="image-view-load-status">\r\n\t\t\t\t<template if.bind="!canceled">\r\n\t\t\t\t\t<template if.bind="progress >= 0 & debounce:500">\r\n\t\t\t\t\t\t<load-progress progress.bind="progress"\r\n\t\t\t\t\t\t\tcancel.call="cancelLoading()"></load-progress>\r\n\t\t\t\t\t\t<div class="image-view-load-status-text">${downloadingMessage}</div>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template else>\r\n\t\t\t\t\t<reload-icon>\r\n\t\t\t\t\t\t<svg click.delegate="reload()" viewBox="0 0 49 49" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t\t\t\t\t<circle id="reload-icon-circle" cx="24.5" cy="24.5" r="21.5"/>\r\n\t\t\t\t\t\t\t<path id="reload-icon-arrow" d="M17.15 23L23.3 29.15V15.5H25.55V29.15L32 23L33.5 24.5L24.5 33.5L15.5 24.5L17.15 23Z"/>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t</reload-icon>\r\n\t\t\t\t\t<div class="image-view-load-status-text">${reloadMessage}</div>\r\n\t\t\t\t</template>\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t\t<template else>\r\n\t\t\t<img class="image-view-image" src.bind="image.url & attr" width.bind="image.size.width & attr" height.bind="image.size.height & attr"\r\n\t\t\t\tload.trigger="setLoaded()" error.trigger="errorHappened($event)" alt.bind="source.name & attr" draggable="false"\r\n\t\t\t\tmousedown.trigger="mouseDown($event)" mouseleave.trigger="mouseLeave($event)" mouseup.trigger="mouseUp($event)" mousemove.trigger="mouseMove($event)"\r\n\t\t\t\tcss="object-fit: ${objectFit}; object-position: ${objectPosition}" loading="lazy" zoom.two-way="zoomApplied"/>\r\n\t\t\t<div class="image-view-spinner" if.bind="!loadFinished"></div>\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/components/view/load-progress.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./load-progress.scss"></require>\r\n\t<div class="load-progress">\r\n\t\t<svg class="load-progress-icon" click.delegate="triggerClick($event)" viewBox="0 0 49 49" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t<circle id="progress-body" cx="24.5" cy="24.5" r="21.5"/>\r\n\t\t\t<circle id="progress-value" cx="24.5" cy="24.5" r="${radius}" stroke-dashoffset="${progressValue}" stroke-dasharray="107" transform="rotate(${spinner ? spinner.angle : 316}, 24.5, 24.5)"></circle>\r\n\t\t\t<path id="progress-cancel" d="M31.5 18.91L30.09 17.5L24.5 23.09L18.91 17.5L17.5 18.91L23.09 24.5L17.5 30.09L18.91 31.5L24.5 25.91L30.09 31.5L31.5 30.09L25.91 24.5L31.5 18.91Z"/>\r\n\t\t</svg>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/upload/qp-image-uploader.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-image-uploader.scss"></require>\r\n\t<require from="../components/popup/image-popup"></require>\r\n\t<require from="../components/gallery/image-gallery"></require>\r\n\t<div if.bind="visible" class="qp-image-uploader" component-id.bind="config.id" css.bind="sizeStyles">\r\n\t\t<qp-multi-upload config.bind="dropDownUploaderConfig" fileloading.trigger="filesDropped($event)">\r\n\t\t\t<image-gallery component-id="gallery" collection.bind="collection" index.one-way="index"\r\n\t\t\t\tshow-feed.bind="showFeed" read-only.bind="readOnly" allow-null.bind="allowNull"\r\n\t\t\t\tallow-zoom.bind="false" show-arrows.bind="showArrows"\r\n\t\t\t\timage-click.call="showPreview()" selected.call="imageSelected(source, index)">\r\n\t\t\t\t<div class="qp-image-uploader-placeholder">\r\n\t\t\t\t\t<qp-multi-upload config.bind="clickableUploaderConfig" fileloading.trigger="filesDropped($event)"\r\n\t\t\t\t\t\tclick.delegate="internalUploaderClick()">\r\n\t\t\t\t\t\t<template if.bind="readOnly || collectionSize > 0">\r\n\t\t\t\t\t\t\t<div class="qp-image-uploader-message qp-image-uploader-message-null">\r\n\t\t\t\t\t\t\t\t<svg class="qp-image-uploader-null" viewBox="0 0 46 46" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t\t\t\t\t\t\t<path d="M23 0.25C10.4557 0.25 0.25 10.4557 0.25 23C0.25 35.5443 10.4557 45.75 23 45.75C35.5443 45.75 45.75 35.5443 45.75 23C45.75 10.4557 35.5443 0.25 23 0.25ZM4.61301 23C4.61301 18.7149 6.09021 14.7714 8.55655 11.6412L34.3582 37.4428C31.2286 39.9098 27.2851 41.387 23 41.387C12.861 41.387 4.61301 33.139 4.61301 23ZM11.6412 8.55655L37.4434 34.3588C39.9098 31.2286 41.387 27.2851 41.387 23C41.387 12.861 33.139 4.61301 23 4.61301C18.7149 4.61301 14.7714 6.09021 11.6412 8.55655Z" />\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t<div>${Messages.NoImageImagePrompt}<span if.bind="!readOnly"><br>${Messages.NoImageUploadImagePrompt}</span></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template else>\r\n\t\t\t\t\t\t\t<div class="qp-image-uploader-message">\r\n\t\t\t\t\t\t\t\t<svg class="qp-image-uploader-prompt" viewBox="0 0 53 44" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t\t\t\t\t\t\t<path d="M25.9583 2.99998C21.0011 2.99998 16.8189 6.33053 15.5327 10.8782L15.3097 11.6666H14.4902H13.5C7.51692 11.6666 2.66667 16.5169 2.66667 22.5C2.66667 28.4831 7.51691 33.3333 13.5 33.3333L20 33.3333V35.5H13.5C6.3203 35.5 0.5 29.6797 0.5 22.5C0.5 15.3203 6.3203 9.49998 13.5 9.49998H13.6984C15.4829 4.45156 20.2968 0.833313 25.9583 0.833313H26.5C33.3149 0.833313 38.905 6.07716 39.4555 12.75H41.125C47.4072 12.75 52.5 17.8427 52.5 24.125C52.5 30.4072 47.4072 35.5 41.125 35.5H33V33.3333L41.125 33.3333C46.2106 33.3333 50.3333 29.2106 50.3333 24.125C50.3333 19.0394 46.2106 14.9166 41.125 14.9166H38.4167H37.3333V13.8333C37.3333 7.85023 32.4831 2.99998 26.5 2.99998H25.9583ZM27.266 16.8589C27.0629 16.6558 26.7873 16.5416 26.5 16.5416C26.2127 16.5416 25.9371 16.6558 25.734 16.8589L18.1506 24.4423C17.7276 24.8653 17.7276 25.5513 18.1506 25.9743C18.5737 26.3974 19.2596 26.3974 19.6827 25.9743L25.4167 20.2404V42.8125C25.4167 43.4108 25.9017 43.8958 26.5 43.8958C27.0983 43.8958 27.5833 43.4108 27.5833 42.8125V20.2404L33.3173 25.9743C33.7404 26.3974 34.4263 26.3974 34.8494 25.9743C35.2724 25.5513 35.2724 24.8653 34.8494 24.4423L27.266 16.8589Z"/>\r\n\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t<div>${Messages.UploadImagePrompt}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</qp-multi-upload>\r\n\t\t\t\t</div>\r\n\t\t\t</image-gallery>\r\n\t\t\t<qp-control-bar if.bind="!viewOnly" class="image-gallery-toolbar" component-id="toolbar" config.bind="{ type: \'panel\', sizing: \'fit-content\', showMode: \'icons\' }">\r\n\t\t\t\t<button id="edit" data-icon="svg:main@pencil" data-visible="${!readOnly && config.editDialog !== false}" data-tooltip="${Messages.EditImageCommandTooltip}" click.trigger="editTrigger()"></button>\r\n\t\t\t\t<button id="clear" data-icon="main@Remove" data-visible="${!readOnly}" data-tooltip="${Messages.ClearImageCommandTooltip}" data-enabled="${!!value ? \'true\' : \'false\'}" click.trigger="clearTrigger()"></button>\r\n\t\t\t</qp-control-bar>\r\n\t\t</qp-multi-upload>\r\n\t\t<image-popup src.bind="collection" index.two-way="popupIndex"\r\n\t\t\tvisible.two-way="popupVisible" close.call="popupClosed(succeeded)"></image-popup>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/image/view/qp-image-view.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-image-view.scss"></require>\r\n\t<require from="../components/view/image-view"></require>\r\n\t<require from="../components/popup/image-popup"></require>\r\n\t<div class="qp-image-view" if.bind="visible" component-id.bind="config.id">\r\n\t\t<template if.bind="!!imageUrl">\r\n\t\t\t<image-view src.bind="imageUrl" click.call="imageClick()" width.bind="config.width || width"\r\n\t\t\t\theight.bind="config.height || height" component-id="image"></image-view>\r\n\t\t\t<image-popup src.bind="imageUrl" visible.two-way="popupVisible"></image-popup>\r\n\t\t</template>\r\n\t\t<template else>\r\n\t\t\t<div component-id="no-image" class="qp-image-view-message qp-image-view-message-null" css.bind="sizeStyles">\r\n\t\t\t\t<svg class="qp-image-view-null" viewBox="0 0 46 46" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t\t\t<path d="M23 0.25C10.4557 0.25 0.25 10.4557 0.25 23C0.25 35.5443 10.4557 45.75 23 45.75C35.5443 45.75 45.75 35.5443 45.75 23C45.75 10.4557 35.5443 0.25 23 0.25ZM4.61301 23C4.61301 18.7149 6.09021 14.7714 8.55655 11.6412L34.3582 37.4428C31.2286 39.9098 27.2851 41.387 23 41.387C12.861 41.387 4.61301 33.139 4.61301 23ZM11.6412 8.55655L37.4434 34.3588C39.9098 31.2286 41.387 27.2851 41.387 23C41.387 12.861 33.139 4.61301 23 4.61301C18.7149 4.61301 14.7714 6.09021 11.6412 8.55655Z" />\r\n\t\t\t\t</svg>\r\n\t\t\t\t<div>${Messages.NoImageImagePrompt}</div>\r\n\t\t\t</div>\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/label/qp-label.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="qp-label">\r\n\t<require from="./qp-label.css"></require>\r\n\r\n\t<div class="label-container">\r\n\t\t<label\r\n\t\t\tfor.bind="controlId"\r\n\t\t\tclass="${controlId ? \'clickable\': \'\'}"\r\n\t\t\tclick.delegate="processClick()"\r\n\t\t\tref="element">\r\n\t\t\t${caption}\r\n\t\t</label>\r\n\t\t<qp-tooltip if.bind="element&& (element.offsetWidth < element.scrollWidth)">${caption}</qp-tooltip>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/last-update/last-update.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./last-update-value-converter"></require>\r\n\t${dateTime | ago}\r\n</template>\r\n'},"client-controls/controls/simple/link-editor/qp-link-editor.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template css="display: ${config.hidden ? \'none\': \'inline\'};">\r\n\r\n\t<require from="./qp-link-editor.css"></require>\r\n\t<div id="${config.id}" class="qp-link-editor ${config.class} ${config.readOnly || !config.enabled ? \'ReadOnly\' : \'\'} ${hasFocus ? \'focus\':\'\'}"\r\n\t\tcss="${config.hidden ? \'display:none;\': \'\'}${config.width ? \'width: \'+config.width+\'px\' : \'\'}">\r\n\t\t<div class="editorCont">\r\n\t\t\t<div if.bind="value && !isInlineEditing" class="editorWrap">\r\n\t\t\t\t<span class="link-obj" click.delegate="inputLinkElem.focus()">\r\n\t\t\t\t\t<a show.bind="mainLink.link" href.bind="mainLink.link" target="_blank"\r\n\t\t\t\t\t\tenabled.bind="config.enabled ? null : false & attr"\r\n\t\t\t\t\t\tcss="text-align: ${align}"\r\n\t\t\t\t\t\tclick.delegate="processOpenLink($event)"\r\n\t\t\t\t\t\tinnerhtml.bind="mainLink.name"\r\n\t\t\t\t\t></a>\r\n\t\t\t\t\t<p show.bind="!mainLink.link" innerhtml.bind="mainLink.name" class="p-link"></p>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<input tabindex="${config.tabIndex}"\r\n\t\t\t\tclass="input-url"\r\n\t\t\t\tref="inputLinkElem"\r\n\t\t\t\tshow.bind="!ROMode"\r\n\t\t\t\tvalue.bind="inputLink"\r\n\t\t\t\tfocus.bind="hasFocus"\r\n\t\t\t\tfocus.trigger="processInputFocus($event)"\r\n\t\t\t\tblur.trigger="processInputBlur($event)"\r\n\t\t\t\tpaste.delegate="processPaste($event)"\r\n\t\t\t\tkeydown.delegate="processInputKeyDown($event)" />\r\n\t\t</div>\r\n\t\t<div class="buttonsCont" if.bind="ROMode && mainLink.link">\r\n\t\t\t<qp-icon id="${config.id}_btn_copy"\r\n\t\t\t\tclass="buttonAction"\r\n\t\t\t\timagesrc="main@Copy"\r\n\t\t\t\tclick.delegate="copyButtonClick()"></qp-icon>\r\n\t\t</div>\r\n\t\t<div class="buttonsCont" if.bind="!ROMode && config.activeButton">\r\n\t\t\t<qp-icon id="${config.id}_btn"\r\n\t\t\t\tclass="buttonAction"\r\n\t\t\t\tclick.delegate="processButtonClick()"\r\n\t\t\t\timagesrc="text@Link"></qp-icon>\r\n\t\t</div>\r\n\t</div>\r\n\t<qp-panel id="pnlLinkEditor" caption="Edit Link" class="qp-link-editor-panel label-size-s">\r\n\t\t<div class="qp-field-wrapper">\r\n\t\t\t<qp-label-light label-size="xs" caption="${Msg.LinkEditorLink}"></qp-label-light>\r\n\t\t\t<div class="control-container size-default">\r\n\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: true}"\r\n\t\t\t\t\tclass="qp-link-editor-input"\r\n\t\t\t\t\tvalue.two-way="dlgLink.link">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="qp-field-wrapper">\r\n\t\t\t<qp-label-light label-size="xs" caption="${Msg.LinkEditorName}"></qp-label-light>\r\n\t\t\t<div class="control-container size-default">\r\n\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', enabled: true}"\r\n\t\t\t\t\tclass="qp-link-editor-input"\r\n\t\t\t\t\tvalue.two-way="dlgLink.name">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button caption="OK"\r\n\t\t\t\tclick.delegate="setNewValueAndCloseDialog()" class="major-button"></qp-button>\r\n\t\t\t<qp-button caption="Cancel"\r\n\t\t\t\tclick.delegate="closeCurrentDialog($event)"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/simple/loader-indicator/qp-loader-indicator.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="qp-loader-indicator" class.bind="loadingClass">\r\n  <require from="./qp-loader-indicator.css"></require>  \r\n  <template if.bind="loadingState==\'in-sync\'">\r\n    <template replaceable part="in-sync">\r\n    </template>\r\n  </template>\r\n  <template if.bind="loadingState==\'will-load\'">\r\n    <template replaceable part="will-load">\r\n    </template>\r\n  </template>\r\n  <template if.bind="loadingState==\'loading\'">\r\n    <template replaceable part="loading">\r\n      <svg class="loader-indicator-img" height="3px" width="100%" viewBox="80 0 235 10" preserveAspectRatio="none">\r\n        <path class="progress" stroke-width="4" d="M70,10 l250,0"></path>\r\n      </svg>\r\n    </template>\r\n  </template>\r\n</template>\r\n'},"client-controls/controls/simple/longrun-indicator/qp-longrun-indicator.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-longrun-indicator.css"></require>\r\n\r\n<div id="${config.id}_progress" click.delegate="stopProcessing($event)" if.bind="showProgress" style="display: flex;align-items: center;">\r\n\t<svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background:#fff;display:block;" width="32px" height="32px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">\r\n\t\t<g transform="rotate(0 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-1.1666666666666667s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(24 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-1.0833333333333333s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(48 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-1s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(72 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(96 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(120 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.75s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(144 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(168 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(192 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.5s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(216 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(240 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(264 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.25s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(288 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(312 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g><g transform="rotate(336 50 50)">\r\n\t\t<rect x="48.5" y="23" rx="0.2" ry="0.2" width="3" height="10" fill="#999999">\r\n\t\t\t<animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1.25s" begin="0s" repeatCount="indefinite"></animate>\r\n\t\t</rect>\r\n\t\t</g>\r\n\t</svg>\r\n\t<span if.bind="config.text">${config.text}</span>\r\n</div>\r\n<div id="${config.id}_success" click.delegate="closeNotification($event)" if.bind="showSuccess" style="display: flex;align-items: center;" class="qp-lri qp-status-success">\r\n\t<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="qp-status-icon" style="background:#fff;display:block;" width="20" height="20" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid">\r\n\t\t<path d="M10 0.375C4.6375 0.375 0.375 4.6375 0.375 10C0.375 15.3625 4.6375 19.625 10 19.625C15.3625 19.625 19.625 15.3625 19.625 10C19.625 4.6375 15.3625 0.375 10 0.375ZM10 1.75C14.5375 1.75 18.25 5.4625 18.25 10C18.25 14.5375 14.5375 18.25 10 18.25C5.4625 18.25 1.75 14.5375 1.75 10C1.75 5.4625 5.4625 1.75 10 1.75ZM13.575 6.7L8.625 11.7875L6.425 9.45L5.325 10.55L8.625 13.7125L14.675 7.6625L13.575 6.7Z"/>\r\n\t</svg>\r\n\t<span if.bind="successText">${successText}</span>\r\n</div>\r\n<div id="${config.id}_error" click.delegate="closeNotification($event)" if.bind="showError" style="display: flex;align-items: center;" class="qp-lri qp-status-error">\r\n\t<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="qp-status-icon" style="background:#fff;display:block;" width="20" height="20" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid">\r\n\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M19.0428 15.8464C19.3047 16.3047 18.9738 16.875 18.4459 16.875L3.55403 16.875C3.02615 16.875 2.69521 16.3047 2.95711 15.8464L10.4031 2.816C10.667 2.35413 11.333 2.35413 11.5969 2.816L19.0428 15.8464ZM9.80614 1.0892C10.334 0.165456 11.666 0.165457 12.1938 1.0892L20.8244 16.1928C21.3482 17.1095 20.6864 18.25 19.6306 18.25H2.36934C1.31359 18.25 0.651705 17.1095 1.17551 16.1928L9.80614 1.0892ZM11.4568 5.87499H10.543C10.4018 5.87499 10.2669 5.96048 10.1712 6.11077C10.0755 6.26105 10.0276 6.46241 10.0391 6.66605L10.4344 12.2501C10.4516 12.553 10.6266 12.7862 10.8368 12.7862H11.1631C11.3732 12.7862 11.5482 12.553 11.5655 12.2501L11.9607 6.66606C11.9723 6.46241 11.9244 6.26105 11.8287 6.11077C11.733 5.96048 11.5981 5.87499 11.4568 5.87499ZM10.9999 16.0503C11.5166 16.0503 11.9355 15.6193 11.9355 15.0877C11.9355 14.556 11.5166 14.125 10.9999 14.125C10.4832 14.125 10.0644 14.556 10.0644 15.0877C10.0644 15.6193 10.4832 16.0503 10.9999 16.0503Z"/>\r\n\t</svg>\r\n\t<span if.bind="errorText">${errorText}</span>\r\n</div>\r\n<div id="${config.id}_warning" click.delegate="closeNotification($event)" if.bind="showWarning" style="display: flex;align-items: center;" class="qp-lri qp-status-warning">\r\n\t<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="qp-status-icon" style="background:#fff;display:block;" width="20" height="20" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid">\r\n\t\t<path d="M10 0.375C4.6375 0.375 0.375 4.6375 0.375 10C0.375 15.3625 4.6375 19.625 10 19.625C15.3625 19.625 19.625 15.3625 19.625 10C19.625 4.6375 15.3625 0.375 10 0.375ZM10 1.75C14.5375 1.75 18.25 5.4625 18.25 10C18.25 14.5375 14.5375 18.25 10 18.25C5.4625 18.25 1.75 14.5375 1.75 10C1.75 5.4625 5.4625 1.75 10 1.75ZM13.575 6.7L8.625 11.7875L6.425 9.45L5.325 10.55L8.625 13.7125L14.675 7.6625L13.575 6.7Z"/>\r\n\t</svg>\r\n\t<span if.bind="warningText">${warningText}</span>\r\n</div>\r\n</template>\r\n'},"client-controls/controls/simple/mail-editor/qp-mail-editor.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template css="display: ${config.hidden ? \'none\': \'inline-block\'};">\r\n\t<require from="./qp-mail-editor.css"></require>\r\n\t<div id="${config.id}" class="qp-control-outline qp-mail-editor ${config.class} ${config.readOnly || !config.enabled ? \'ReadOnly\' : \'\'} ${hasFocus ? \'focus\':\'\'}"\r\n\t\tcss="${config.hidden ? \'display:none;\': \'\'}${config.width ? \'width: \'+config.width+\'px\' : \'\'}">\r\n\t\t<div class="editorCont">\r\n\t\t\t<div class="editorWrap">\r\n\t\t\t\t<input type="text" ref="elemText"\r\n\t\t\t\t\tid="${config.id}_text"\r\n\t\t\t\t\tname="${config.name}$text"\r\n\t\t\t\t\ttabindex="${config.tabIndex}"\r\n\t\t\t\t\tautocomplete="off" autocorrect="off"\r\n\t\t\t\t\tclass="${config.class} qp-text-editor ${config.language?\'with-language\':\'\'}"\r\n\t\t\t\t\tmaxlength.bind="config.maxLength & attr"\r\n\t\t\t\t\tenabled.bind="config.enabled ? null : false & attr"\r\n\t\t\t\t\treadonly="${config.readOnly || !config.enabled ? true : null}"\r\n\t\t\t\t\tspellcheck.bind="config.spellcheck ? null : false & attr"\r\n\t\t\t\t\tcss="text-align: ${align}"\r\n\t\t\t\t\tplaceholder.bind="config.placeholder & attr"\r\n\t\t\t\t\tvalue.bind="value | meta : converter : hasFocus : editorState : config & updateTrigger : \'blur\' : \'update\'"\r\n\t\t\t\t\tkeydown.trigger="processKeyDown($event)"\r\n\t\t\t\t\tinput.delegate="processInput($event)"\r\n\t\t\t\t\tfocus.trigger="processFocus($event)"\r\n\t\t\t\t\tblur.trigger="processBlur($event)"\r\n\t\t\t\t\tpaste.delegate="processPaste($event)" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="buttonsCont">\r\n\t\t\t<qp-hyper-icon id="${config.id}_btn" disabled.bind="buttonDisabled"\r\n\t\t\t\timages.bind="config.images" click.delegate="processButtonClick()">\r\n\t\t\t</qp-hyper-icon>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/radio/qp-radio.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template css="display: ${config.hidden ? \'none\': \'block\'};">\r\n\t<require from="./qp-radio.css"></require>\r\n\r\n\t<div class="qp-radio-group ${config.class}" enabled.bind="!!config.enabled & attr" id="${config.id}">\r\n\t\t<div class="qp-radio-button" repeat.for="op of options">\r\n\t\t\t<span class="qp-radio-button__input-container">\r\n\t\t\t\t<input type="radio"\r\n\t\t\t\t\tmodel.bind="op.value"\r\n\t\t\t\t\tdisabled.bind="op.enabled === false"\r\n\t\t\t\t\tchecked.bind="value"\r\n\t\t\t\t\tmatcher.bind="matchValue"\r\n\t\t\t\t\tclass="qp-radio-button__input"\r\n\t\t\t\t\tname="${config.id}"\r\n\t\t\t\t\tdata-text-value="${op.text}"\r\n\t\t\t\t\tid="${config.id}_${$index}" />\r\n\t\t\t</span>\r\n\t\t\t<label if.bind="op.text && op.text.length" class="qp-radio-button__label" for="${config.id}_${$index}">\r\n\t\t\t\t${op.text}\r\n\t\t\t</label>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/screen-configuration-menu/qp-screen-configuration-menu.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-screen-configuration-menu.css"></require>\r\n\t<div class="screen-configuration-container  ${exiting?\'screen-configuration-container--closing\':\'\'}">\r\n\t\t<div class="screen-configuration-title">${msg.ScreenConfigurationTitle}</div>\r\n\t\t<div class="screen-configuration-buttons">\r\n\t\t\t<qp-button class="major-button" click.delegate="showApplyToAll()" config.bind="applyButtonConfig"></qp-button>\r\n\t\t\t<qp-button class="minor-button" click.delegate="resetToDefault()" config.bind="resetToDefaultButtonConfig"></qp-button>\r\n\t\t\t<qp-button class="minor-button" click.delegate="showUsersDialog()" config.bind="loadPersonalButtonConfig"></qp-button>\r\n\t\t\t<qp-menu class="screen-configuration--export-menu" config.bind="btnExportConfig"\r\n\t\t\t\tmenuselected.delegate="processExportMenu($event)"></qp-menu>\r\n\t\t\t<qp-button class="minor-button" click.delegate="cancel()" config.bind="cancelButtonConfig"></qp-button>\r\n\t\t</div>\r\n\t</div>\r\n\t<input ref="fileUploader" type="file" style="display: none;" accept=".json"\r\n\t\tchange.trigger="fileUploaderChanged($event)" />\r\n\t<a ref="fileDownloader" style="display: none;"></a>\r\n\r\n\t<qp-panel id="loadPersonalSettings_dialog" config.bind="loadPersonalSettingsDialogConfig">\r\n\t\t<div class="personal-dialog--container">\r\n\t\t\t<div class="personal-dialog--info">\r\n\t\t\t\t<div class="personal-dialog--info-icon">\r\n\t\t\t\t\ti\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="personal-dialog--info-text">\r\n\t\t\t\t\t${msg.PersonalConfiguration_Info}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class="personal-dialog--user">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t${msg.User}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<qp-drop-down config.bind="userSelectConfig" value.two-way="selectedUser"></qp-drop-down>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<footer>\r\n\t\t\t<qp-button click.delegate="loadUserConfiguration()" config.bind="loadButtonConfig" enabled.bind="!!selectedUser"></qp-button>\r\n\t\t\t<qp-button config.bind="cancelUserButtonConfig"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n\r\n\t<qp-panel id="applyToAll_dialog" width="550px" config.bind="applyToAllDialogConfig" caption="Apply To All">\r\n\t\t<span i18n>Select the action to be taken for users that have their personal configuration for the table columns or tabs on this form</span>\r\n\r\n\t\t<footer>\r\n\t\t\t<qp-button click.delegate="applyToAll(true)" config.bind="applyForcedButtonConfig"></qp-button>\r\n\t\t\t<qp-button click.delegate="applyToAll(false)" config.bind="applyNotForcedButtonConfig"></qp-button>\r\n\t\t</footer>\r\n\t</qp-panel>\r\n</template>\r\n'},"client-controls/controls/simple/segmented-selector/qp-segmented-selector.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="../selector/qp-selector.css"></require>\r\n\r\n\t<div class="qp-selector editor ${config.readOnly || !config.enabled ? \'qp-selector-readonly\' : \'\'}">\r\n\t\t<qp-mask-editor ref="input" config.bind="config" click.delegate="onClick($event)"></qp-mask-editor>\r\n\r\n\t\t<button if.bind="!config.readOnly && !config.disabled && !config.enabled == false && state.lookupMode === 2" type="button"\r\n\t\tmousedown.capture="openSelector($event)"\r\n\t\tclass="qp-field-editor__button"\r\n\t\ttabindex="-1">\r\n\t\t\t<qp-icon imagesrc="svg:main@search" class="buttonsCont" type="sel"></qp-icon>\r\n\t\t</button>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/simple/selector/qp-selector.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-selector.css"></require>\r\n\t<require from="../../utility/suggester/elements/qp-suggester"></require>\r\n\t<div class="editor qp-selector ${editMode?\'focus edit-mode\':\'\'} ${config.readOnly || !config.enabled ? \'qp-selector-readonly\' : \'\'} ${config.allowEdit ? \'qp-selector-allow-edit\' : \'\'} ${empty ? \'qp-selector-empty\':\'\'}" ref="editorDiv" id="${config.id}" tabindex="-1">\r\n\t\t<enhanced-compose show.bind="!isLinkMode" class="qp-editor-plugin" view-model.bind="editorType"\r\n\t\tconfig.bind="editorConfig"\r\n\t\tvalue.two-way="editorValue"\r\n\t\telem-text.from-view="editor"\r\n\t\tconverter.to-view="converterType"\r\n\t\tkeydown.delegate="handleKeyDown($event)"\r\n\t\t></enhanced-compose>\r\n\t\t<span if.bind="isLinkMode" class="qp-selector-link-wrapper"\r\n\t\tfocus-elem tabindex="${(config.readOnly || !config.enabled) ? \'-1\' : \'0\'}"\r\n\t\tfocus.trigger="onSpanFocus($event)">\r\n\t\t\t<span class="qp-selector-link">\r\n\t\t\t\t<span class="qp-selector-link-text" mousedown.trigger="openEditor($event)">${refText}</span>\r\n\t\t\t\t<span class="qp-selector-link-desc">${descrText}</span>\r\n\t\t\t</span>\r\n\t\t</span>\r\n\r\n\t\t<button if.bind="!config.readOnly && !config.disabled && !config.enabled == false" type="button"\r\n\t\t\tmousedown.capture="openSelector($event)"\r\n\t\t\tclass="qp-field-editor__button"\r\n\t\t\ttabindex="-1">\r\n\t\t\t<qp-icon imagesrc="svg:main@search" class="buttonsCont" type="sel"></qp-icon>\r\n\r\n\t\t\t\x3c!-- <div class="buttonsCont sprite-icon control-icon" icon="SelectorN" type="sel">\r\n\t\t\t\t<div class="control-icon-img control-SelectorN">\r\n\t\t\t\t</div>\r\n\t\t\t</div> --\x3e\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<qp-suggester if.bind="config.suggester && editor && showSuggester"\r\n\t\tconfig.bind="config.suggester" editor.two-way="editor"\r\n\t\trect-element.bind="editorDiv" force-open.two-way="suggesterOpen"\r\n\t\tset-editor-value.call="setSuggestedValue(value,display,useUpdateValue)"\r\n\t></qp-suggester>\r\n</template>\r\n'},"client-controls/controls/simple/simple-selector/qp-simple-selector.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="simple-selector" id="${config.id}">\r\n\t<require from="./qp-simple-selector.css"></require>\r\n\t<qp-button click.delegate="toggleSelector($event)" config.bind="buttonConfig" class="simple-selector--button"></qp-button>\r\n</template>\r\n'},"client-controls/controls/simple/text-editor/qp-text-editor.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template css="display: ${config.hidden ? \'none\': \'\'};">\r\n<require from="./qp-text-editor.css"></require>\r\n<require from="../../dialog/base-dialog/base-dialog.css"></require>\r\n<template if.bind="(config.hasEditLink || config.linkCommand) && (!config.enabled || config.readOnly)">\r\n    <a id="${config.id}" name="${config.name}"\r\n        class="${config.class} qp-text-editor" tabindex="${config.tabIndex}"\r\n        href="javascript: void 0" css="text-align: ${align}"\r\n        click.trigger="processLinkClick()"\r\n        enabled.bind="enabled ? null : false & attr">\r\n        ${value | meta : converter : false : { hasChanges: false } : config}\r\n    </a>\r\n</template>\r\n\r\n<template else>\r\n\t<template if.bind="SuggestionMode">\r\n\t\t<qp-text-editor-autocomplete config.bind="config" value.two-way="value" />\r\n\t</template>\r\n\t<template else>\r\n    <textarea if.bind="config.type == 1" id="${config.id}" ref="elemText"\r\n        name="${config.name}" class="${config.class} qp-text-editor  ${config.language?\'with-language\':\'\'}"\r\n\t\t  tabindex="${config.tabIndex}"\r\n        maxlength.bind="config.maxLength & attr"\r\n        enabled.bind="config.enabled ? null : false & attr"\r\n        readonly="${config.readOnly || !config.enabled ? true : null}"\r\n        spellcheck.bind="config.spellcheck ? null : false & attr"\r\n        css="text-align: ${align}"\r\n        placeholder.bind="config.placeholder & attr"\r\n        wrap.bind="wrap ? \'off\': null & attr"\r\n        rows.bind="config.rows & attr" cols.bind="config.cols & attr"\r\n        value.bind="value | meta : converter : hasFocus : editorState : config & updateTrigger : \'blur\' : \'update\'"\r\n        keydown.trigger="processKeyDown($event)"\r\n        focus.trigger="processFocus($event)"\r\n        blur.trigger="processBlur($event)"\r\n        paste.delegate="processPaste($event)">\r\n    </textarea>\r\n\r\n    <input if.bind="config.type != 1" type="${textMode}" id="${config.id}" ref="elemText"\r\n        name="${config.name}" class="${config.class} qp-text-editor ${type} ${config.language?\'with-language\':\'\'}"\r\n\t\t  tabindex="${config.tabIndex}"\r\n        autocomplete="off" autocorrect="off"\r\n        maxlength.bind="config.maxLength & attr"\r\n        enabled.bind="config.enabled ? null : false & attr"\r\n        readonly="${config.readOnly || !config.enabled ? true : null}"\r\n        spellcheck.bind="config.spellcheck ? null : false & attr"\r\n        css="text-align: ${align}"\r\n        placeholder.bind="config.placeholder & attr"\r\n        value.bind="value | meta : converter : hasFocus : editorState : config & updateTrigger : \'blur\' : \'update\'"\r\n        keydown.trigger="processKeyDown($event)"\r\n        input.delegate="processInput($event)"\r\n        focus.trigger="processFocus($event)"\r\n        blur.trigger="processBlur($event)"\r\n        paste.delegate="processPaste($event)" />\r\n\t<a if.bind="config.language" class="locale-editor" click.delegate="openLocaleWindow($event)">${config.language}</a>\r\n\t<qp-panel id="pnlLocaleEditor">\r\n\t\t<div class="qp-field-wrapper" repeat.for="translation of translations">\r\n\t\t\t\t<span class="label-wrapper label-size-sm">\r\n\t\t\t\t\t<qp-label-light caption="${translation.languageCaption || translation.language}" control-id="translation_${translation.language}"></qp-label-light>\r\n\t\t\t\t</span>\r\n\t\t\t<div class="control-container size-xxl">\r\n\t\t\t\t<qp-text-editor config.bind="{class: \'editor\', id: `translation_${translation.language}`}"\r\n\t\t\t\t\tvalue.two-way="translation.valueString">\r\n\t\t\t\t</qp-text-editor>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</qp-panel>\r\n\t\t</template>\r\n\t</template>\r\n</template>\r\n'},"client-controls/controls/simple/uploader/qp-multi-upload.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n    <require from="./qp-multi-upload.scss"></require>\r\n\t<qp-uploader config.bind="config" value.two-way="files">\r\n\t\t<slot></slot>\r\n\t</qp-uploader>\r\n</template>\r\n'},"client-controls/controls/simple/uploader/qp-uploader.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-uploader.scss"></require>\r\n\t<div class="qp-uploader">\r\n\t\t<input show.bind="showInput" ref="fileInput" class="uploader-input" type="file"\r\n\t\t\tchange.trigger="filesFromInput()" id="${config ? config.id : \'\'}" title=""\r\n\t\t\taccept="${config ? config.accept : \'\'}">\r\n\t\t<div class="qp-tool-bar-button uploader-button" css.bind="buttonStyles">\r\n\t\t\t<slot>\r\n\t\t\t\t<div class="qp-tool-bar-text">\r\n\t\t\t\t\t${(config && config.singleMode) ? Messages.UploadFileCaption : Messages.UploadFilesCaption }\r\n\t\t\t\t</div>\r\n\t\t\t</slot>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/utility/drop-down-frame/qp-drop-down-frame.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<div ref="control" class="${controlClass} ${opened ? `${controlClass}-selected qp-selected`: \'\'}\r\n\t\t${!showOpener ? `${controlClass}-no-options`: \'\'}">\r\n\t\t<template replaceable part="main"></template>\r\n\t\t<template replaceable part="opener">\r\n\t\t\t<button if.bind="showOpener" class="${controlClass}-opener ${opened ? \'opened\': \'\'}" mousedown.delegate="toggleDropDown($event)">\r\n\t\t\t\t<qp-icon imagesrc.bind="openerIcon || (opened ? \'svg:main@treeArrowUp\': \'svg:main@treeArrowDown\')"></qp-icon>\r\n\t\t\t</button>\r\n\t\t</template>\r\n\t</div>\r\n\t<div glue-to.bind="opened ? control: null" portal show.bind="opened" class="${controlClass}-options"\r\n\t\tmousedown.delegate="stopPropagation($event)" id="${contentElementId}">\r\n\t\t<div class="${controlClass}-container">\r\n\t\t\t<template replaceable part="dropdown"></template>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/utility/layout/qp-layout.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template class="qp-layout-${layout}">\r\n\t<require from="./qp-layout.css"></require>\r\n\t<div class="qp-layout ${layout} ${ellipsisStateClass}" css.bind="inlineCss" ref="host">\r\n\t\t<slot></slot>\r\n\t\t<qp-layout-ellipsis as-element="qp-drop-down-frame" if.bind="ellipsisState !== 0" show.bind="ellipsisState === 1"\r\n\t\t\topener-icon="svg:main@ellipsis" control-class="qp-layout-ellipsis"\r\n\t\t\tclass.bind="ellipsisClass" ref="ellipsis">\r\n\t\t\t<template replace-part="dropdown">\r\n\t\t\t\t<div class="qp-layout-dashboard" id="${dashboardId}"></div>\r\n\t\t\t</template>\r\n\t\t</qp-layout-ellipsis>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/utility/options/qp-options.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-options.css"></require>\r\n\t<div class="drop-down__options-pane ${config.class}"\r\n\tref="optionsPane"\r\n\tmousedown.capture="ignoreClicks($event)">\r\n\t\t<div repeat.for="op of config.options" css="${ (op.value.visible===false || op.value.visible===0) ? \'display: none\' : \'\'}"\r\n\t\tclick.delegate="select(op,$event)"\r\n\t\tclass="ddItem ${highlightedIndex === $index ? \'ddSelection\':\'\'} ${op.value.enabled===false ? \'ddItemDisabled\' : \'\'}"\r\n\t\tmouseenter.capture="enterHighlight($index)"\r\n\t\tmousemove.capture="commitHighlight($index) & throttle:100"\r\n\t\tkeydown.delegate="onKeyDown($event)"\r\n\t\tkeypress.delegate="onKeyPress($event)"\r\n\t\tdata-cmd="${op.value.command}">\r\n\t\t\t<div if.bind="config.allowMultiSelect" class="sprite-icon control-icon" icon.bind="op.selected ? \'GridCheck\' : \'GridUncheck\' & attr" data-type="check" style="margin-left: 2px; margin-right: 5px;">\r\n\t\t\t\t<div class="control-icon-img control-${op.selected ? \'GridCheck\' : \'GridUncheck\'}"></div>\r\n\t\t\t</div>\r\n\t\t\t${op.text}\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/utility/suggester/elements/qp-suggester.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n  <require from="./qp-suggester.css"></require>\r\n  <div if.bind="suggesting && suggestions"\r\n\t\tref="suggestionsContainer"\r\n\t\tglue-to.bind="rectElement"\r\n\r\n\t\tclass="qp-suggester\r\n\t\t${loading || suggestions.loading ? \'loading\' : \'\'}"\r\n\t\tcss="max-height: ${maxHeight}px;\r\n\t\t${suggesterWidth ? \'width: \' + suggesterWidth + \'px;\' : \'\'}\r\n\t\t${minWidth ? \'min-width: \' + minWidth + \'px;\' : \'\'}\r\n\t\t--qp-suggester-vertical-paddings: ${suggesterVerticalPaddings};\r\n\t\t--qp-suggestion-line-height: ${suggestionLineHeight};"\r\n\t\tscroll.trigger="handleScroll($event)"\r\n\t\tmousedown.capture="ignoreClicks($event)">\r\n\r\n\t\t<qp-suggestion repeat.for="i of suggestions.suggestionItems"\r\n\t\t\t\textention-cord="force-show.bind: $index == highlightedSugestionIndex & debounce: 32; manual-show-only: true"\r\n\t\t\t\tcss="--qp-suggestion-line-height: ${suggestionLineHeight}"\r\n\t\t\t\tclass="${$index==highlightedSugestionIndex?\'suggestion-highlight\':\'\'}"\r\n\t\t\t\tmouseenter.capture="changeHighLight($index)" mouseup.delegate="select($index,$event)">\r\n\t\t\t<template repeat.for="s of i.segments"><mark if.bind="s.highlight">${s.text}</mark><template else>${s.text}</template></template>\r\n\t\t</qp-suggestion>\r\n\t\t<qp-suggestion if.bind="suggestions.haveMore" repeat.for="i of 1" class="loading-placeholder ${suggestions.loading ? \'loading\' : \'\'}"> loading </qp-suggestion>\r\n\t\t<div if.bind="suggestions.totalCount==0" class="no-results-found">\r\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width=16 height=16 viewBox="0 0 16 16" style="vertical-align:bottom;margin-right:.5em;"\r\n\t\t\t\tfill="currentColor">\r\n\t\t\t\t<g id="sad" stroke="none" stroke-width=".8" fill="none" fill-rule="evenodd">\r\n\t\t\t\t\t<g id="Group" fill="#c8930c">\r\n\t\t\t\t\t\t<circle cx="10.84" cy="5.68" r="1.03"></circle>\r\n\t\t\t\t\t\t<circle cx="5.16" cy="5.68" r="1.03"></circle>\r\n\t\t\t\t\t\t<path d="M8,0 C3.58177778,0 0,3.58177778 0,8 C0,12.4182222 3.58177778,16 8,16 C12.4182222,16 16,12.4182222 16,8 C16,3.58177778 12.4182222,0 8,0 Z M8,14.6671111 C4.31822222,14.6671111 1.33333333,11.6822222 1.33333333,8.00044444 C1.33333333,4.31844444 4.31822222,1.33333333 8,1.33333333 C11.6822222,1.33333333 14.6671111,4.31822222 14.6671111,8.00022222 C14.6671111,11.6822222 11.6822222,14.6671111 8,14.6671111 Z"\r\n\t\t\t\t\t\t\tfill-rule="nonzero"></path>\r\n\t\t\t\t\t\t<path d="M11.1988131,12.3870968 C10.9618705,12.3870968 10.7318091,12.2666654 10.6093237,12.0538815 C10.0854351,11.1424204 9.08513805,10.5760202 7.99974353,10.5760202 C6.91411964,10.5760202 5.914052,11.1424204 5.39016335,12.0538815 C5.21125217,12.3649409 4.80250892,12.4785719 4.47748694,12.307248 C4.15223558,12.1363627 4.03342021,11.7454545 4.21233139,11.434395 C4.97247455,10.1118441 6.42394887,9.29032258 7.99997291,9.29032258 C9.57576756,9.29032258 11.0274713,10.1120635 11.7876144,11.434395 C11.9665256,11.7454545 11.8479396,12.1361433 11.5226882,12.307248 C11.4194703,12.3614311 11.3084536,12.3870968 11.1988131,12.3870968 Z"></path>\r\n\t\t\t\t\t</g>\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t\t${localizedStrings.noResultsFound || msg.NoResultsFound}\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/utility/suggester/qp-editor-wrapper.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n  <require from="./elements/qp-suggester"></require>\r\n  <slot></slot>\r\n  <qp-suggester if.bind="config && config.suggester && editor" editor.two-way="editor" rect-element.bind="rectElement"\r\n    set-editor-value.call="setEditorValue(value,display,useUpdateValue)" config.bind="config.suggester"></qp-suggester>\r\n</template>\r\n'},"client-controls/controls/utility/tooltip/qp-tooltip.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-tooltip.css"></require>\r\n\t<div ref="contentElement"\r\n\t\t  class="qp-tooltip-container ${errorCssClass(errorLevel)}"\r\n\t\t  glue-to="target.bind: glueTarget; options.bind: {ignoreTargetWidth:true, centerToTarget: centerToTarget, verticalDistanceFromTargetPX:8}"\r\n\t\t  css="--pointer-adjust:${pointerAdjustX}" style="display: none"\r\n\t\t  glued.delegate="afterGlued($event)" click.capture="stopPropagation($event)">\r\n\t\t<slot>\r\n\t\t\t${tooltip}\r\n\t\t</slot>\r\n\t</div>\r\n</template>\r\n'},"client-controls/controls/utility/wait-cursor/qp-wait-cursor.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n\t<require from="./qp-wait-cursor.css"></require>\r\n\t<div class="wait-cursor" if.bind="callbackRunning && blockPage">\r\n\t</div>\r\n</template>\r\n'},"client-controls/plugins/bank-feed/qp-mx.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n<require from="./qp-mx.css"></require>\r\n<div id="mx-form-container">\r\n\t<div id="mx-form-header">\r\n      <i class="ac ac-close ac-pull-right" tooltip="Close payment form" click.delegate="cancelAndCloseForm()"></i>\r\n    </div>\r\n\t<div id="mx-form-wrapper">\r\n    </div>\r\n</div>\r\n</template>'},"client-controls/plugins/payment/qp-authorize-net-hosted-form.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template id="${config.id}" class="${config.class}">\r\n    <style>\r\n        #AcceptUIContainer button {\r\n            background-color: blue;\r\n        }\r\n    </style>\r\n    <form id="paymentForm" style="opacity: 0;" method="POST">\r\n        <input type="hidden" name="dataValue" id="dataValue" />\r\n        <input type="hidden" name="dataDescriptor" id="dataDescriptor" />\r\n        <button id="acceptButton" type="button"\r\n            class="AcceptUI"\r\n            data-billingAddressOptions=\'{"show":true, "required":false}\'\r\n            data-acceptUIFormBtnTxt="Submit" \r\n            data-acceptUIFormHeaderTxt="Card Information" \r\n            data-responseHandler="responseHandler">Pay\r\n        </button>\r\n    </form>\r\n</template>'},"client-controls/plugins/payment/qp-authorize-net.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template id="${config.id}" class="${config.class}">\r\n    <require from="./qp-authorize-net.css"></require>\r\n    <div ref="paymentForm">\r\n        <p>\r\n            <label>Card Number</label>\r\n            <input type="text" maxlength="16" value.bind="cardData.cardNumber"/>\r\n        </p>\r\n        <p>\r\n            <label>Month</label>\r\n            <input type="text" maxlength="2" value.bind="cardData.month"/>\r\n        </p>\r\n        <p>\r\n            <label>Year</label>\r\n            <input type="text" maxlength="4" value.bind="cardData.year"/>\r\n        </p>\r\n        <p>\r\n            <label>Card Code</label>\r\n            <input type="text" maxlength="3" value.bind="cardData.cardCode"/>\r\n        </p>\r\n        <p>\r\n        <button ref="okPayButton" type="button" click.delegate="sendPaymentDataToAnet()">Pay</button>\r\n        <button ref="cancelPayButton" type="button" click.delegate="closePaymentForm()">Cancel</button>\r\n        </p>\r\n    </div>\r\n</template>'},"client-controls/plugins/payment/qp-fortis.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template id="${config.id}" class="${config.class}">\r\n  <require from="./qp-fortis.css"></require>\r\n  <div ref="paymentForm" id="payment-form-fortis" class="flexible">\r\n    <div ref="headerForDrag" mousedown.trigger="mouseDown($event)">\r\n      <label class="payment-form-label">${title}</label>\r\n      <i class="ac ac-close ac-pull-right" tooltip="Close payment form"\r\n        click.delegate="cancelAndClosePaymentForm()"></i>\r\n    </div>\r\n  </div>\r\n</template>'},"client-controls/plugins/payment/qp-stripe.html":(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});const n='<template>\r\n  <require from="./qp-stripe.css"></require>\r\n  <div class="payment-form-background ${isMobile?\'payment-mobile\':\'\'}"></div>\r\n  <div ref="paymentForm" class="${isMobile?\'payment-mobile\':\'\'}" id="payment-form" keydown.capture="keyDown($event)">\r\n    <div ref="headerForDrag" mousedown.trigger="mouseDown($event)">\r\n      <label class="payment-form-label">${title}</label>\r\n      <i class="ac ac-close ac-pull-right" tooltip="Close payment form"\r\n        click.delegate="cancelAndClosePaymentForm()"></i>\r\n    </div>\r\n    <div class="payment-card">\r\n      <div class="card-front">\r\n        <div>\r\n          <label ref="cardNumberLabel" required>${localizedStrings.CardNumber}</label>\r\n          <div id="card-number" class="payment-form-input"></div>\r\n        </div>\r\n        <div class="card-expiry">\r\n          <label ref="cardExpiryLabel" required>${localizedStrings.ExpirationDate}</label>\r\n          <div id="card-expiry" class="payment-form-input"></div>\r\n        </div>\r\n      </div>\r\n      <div class="card-back">\r\n        <div class="magnetic-line"></div>\r\n        <div class="card-cvc">\r\n          <label ref="cardCvcLabel">${localizedStrings.Cvc}</label>\r\n          <div id="card-cvc" class="payment-form-input"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div id="additional-payment-info">\r\n      <template repeat.for="item of fields">\r\n        <div if.bind="item === separateBefore">\r\n          <fieldset class="address-separator">\r\n            <legend>${localizedStrings.ContactInfo}</legend>\r\n          </fieldset>\r\n        </div>\r\n        <div>\r\n          <label for="${item}">${localizedStrings[item]}</label>\r\n          <input id="${item}" class="payment-form-input"\r\n            keydown.capture="keyInputDown($event, ($index+1==fields.length)?\'pay-button\':fields[$index+1], ($index==0)?\'card-expiry\':fields[$index-1])">\r\n        </div>\r\n      </template>\r\n    </div>\r\n    <div class="form-errors ${(errors == \'\')? \'payment-errors-hidden\': \'\'}">\r\n      <i class="ac ac-warning"></i>\r\n      <div id="card-errors">${errors}</div>\r\n    </div>\r\n    <button ref="payButton" id="pay-button" disabled class="pay-button">${buttonCaption} ${sum} ${currency}</button>\r\n  </div>\r\n</template>'},9083:()=>{},898:()=>{},6925:()=>{},7953:()=>{},9253:()=>{},7863:()=>{},4477:()=>{},8224:()=>{},1819:()=>{},6362:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(3379),r=i.n(n),o=i(6590),a=i.n(o),l={insert:"head",singleton:!1};r()(a(),l);const d=a().locals||{}}}]);