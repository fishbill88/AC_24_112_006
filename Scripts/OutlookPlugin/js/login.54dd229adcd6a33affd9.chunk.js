(self.webpackChunkoutlook_plugin=self.webpackChunkoutlook_plugin||[]).push([[535],{"screens/Login/login.css":(t,e,n)=>{var r=n(8081),o=n(3645)(r);o.push([t.id,".login-form \r\n{ \r\n\tpadding: 12px; \r\n\tmax-width: 500px;\r\n}\r\n \r\n.login-form input,\r\n.login-form button,\r\n.login-form select \r\n{\r\n\tbox-sizing: border-box;\r\n\r\n\twidth: 100%;\r\n\tmargin: 6px 0;\r\n\tcolor: rgba(0, 0, 0, 0.64);\r\n\tfont-size: 19px;\r\n\tfont-weight: 500;\r\n\r\n\tpadding: 6px 8px;\r\n\tborder: solid 1px RGBA(0, 0, 0, 0.12);\r\n\tborder-radius: 3px;\r\n}\r\n\r\n.login-form #cmbLang\r\n{\r\n\tmargin-bottom: 32px;\r\n}\r\n.login-form #cmbCompany\r\n{\r\n\tmargin-top: 32px;\r\n}\r\n \r\n.login-form input::placeholder {\tfont-style: normal; }\r\n \r\n.login-form button \r\n{\r\n\tcolor: #444;\r\n\tcursor: pointer;\r\n\tpadding: 5px;\r\n\tbackground-color: #fff;\r\n\r\n\tborder: solid 1px #027ACC;\r\n\tborder-radius: 5px;\r\n\ttransition: all .1s ease-in-out;\r\n\t-webkit-appearance: none;\r\n}\r\n\r\n.login-form button:focus,\r\n.login-form button:hover \r\n{\r\n\tcolor: white;\r\n\tbackground-color: #027ACC;\r\n\tborder: solid 1px #027ACC;\r\n}\r\n\r\n.login-form button:disabled \r\n{\r\n\tcolor: #444;\r\n\tcursor: default;\r\n\tbackground-color: #eee;\r\n\tborder: solid 1px #ccc;\r\n}\r\n",""]),t.exports=o},"screens/Login/login.html":(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r='<template>\r\n\t<require from="./login.css"></require>\r\n\t<form class=\'login-form\'>\r\n\t\t<select value.bind="selectedLocale" id="cmbLang" if.bind="locales && locales.length > 1">\r\n\t\t\t<option repeat.for="locale of locales" model.bind="locale.Name">\r\n\t\t\t\t${locale.DisplayName}\r\n\t\t\t</option>\r\n\t\t</select>\r\n\t\t<br/><br/>\r\n\r\n\t\t<input type="text" name="username" value.bind="username" id="txtUser" required placeholder="My Username">\r\n\t\t<input type="password" value.bind="password" id="txtPass" required placeholder="My Password">\r\n\r\n\t\t<select value.bind="selectedCompany" id="cmbCompany" if.bind="companies && companies.length > 1">\r\n\t\t\t<option repeat.for="company of companies" value.bind="company">\r\n\t\t\t\t${company}\r\n\t\t\t</option>\r\n\t\t</select>\r\n\t\t<button click.delegate="logIn()" disabled.bind="!username || !password" id="btnLogin" type="submit">\r\n\t\t\t${msg.SignIn}\r\n\t\t</button>\r\n\t</form>\r\n</template>\r\n'},9965:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Login:()=>u});var r=n("aurelia-framework"),o=n(9470),i=n(625),l=n(2956),__decorate=function(t,e,n,r){var o,i=arguments.length,l=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(l=(i<3?o(l):i>3?o(e,n,l):o(e,n))||l);return i>3&&l&&Object.defineProperty(e,n,l),l},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__awaiter=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(t){try{step(r.next(t))}catch(t){i(t)}}function rejected(t){try{step(r.throw(t))}catch(t){i(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())}))};const c="ui/company";let a=class LoginApiClient{constructor(t){this.client=t}getCompanies(){return __awaiter(this,void 0,void 0,(function*(){return this.client.fetch(`${c}`).then((t=>t.json()))}))}getLocalesFor(t){return __awaiter(this,void 0,void 0,(function*(){return this.client.fetch(`${c}/${t}/locale`).then((t=>t.json()))}))}};a=__decorate([r.autoinject,__metadata("design:paramtypes",[l.HttpClient])],a);var s=n(1961),login_decorate=function(t,e,n,r){var o,i=arguments.length,l=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(l=(i<3?o(l):i>3?o(e,n,l):o(e,n))||l);return i>3&&l&&Object.defineProperty(e,n,l),l},login_metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},login_awaiter=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function fulfilled(t){try{step(r.next(t))}catch(t){i(t)}}function rejected(t){try{step(r.throw(t))}catch(t){i(t)}}function step(t){t.done?o(t.value):function adopt(t){return t instanceof n?t:new n((function(e){e(t)}))}(t.value).then(fulfilled,rejected)}step((r=r.apply(t,e||[])).next())}))};let u=class Login{constructor(t,e,n){this.authService=t,this.loginApiClient=e,this.router=n,this.msg=s.V}attached(){this.loginApiClient.getCompanies().then((t=>{this.companies=t,t[0]&&this.getLocales(t[0])}))}selectedCompanyChanged(t,e){e&&this.getLocales(t)}getLocales(t){this.loginApiClient.getLocalesFor(t).then((t=>{this.locales=t,this.selectedLocale=this.authService.getLocale()}))}logIn(){return login_awaiter(this,void 0,void 0,(function*(){yield this.authService.logIn(this.username,this.password,this.selectedCompany,this.selectedLocale),this.authService.authenticated&&(this.password=this.username="",this.router.navigateToRoute(this.router.routes[0].name))}))}};login_decorate([r.observable,login_metadata("design:type",String)],u.prototype,"selectedCompany",void 0),u=login_decorate([r.autoinject,login_metadata("design:paramtypes",[i.$,a,o.F0])],u)}}]);